var dS=Object.defineProperty;var hS=(e,o,a)=>o in e?dS(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var oC=(e,o,a)=>hS(e,typeof o!="symbol"?o+"":o,a);function _mergeNamespaces(e,o){for(var a=0;a<o.length;a++){const c=o[a];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in e)){const g=Object.getOwnPropertyDescriptor(c,d);g&&Object.defineProperty(e,d,g.get?g:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function a(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(d){if(d.ep)return;d.ep=!0;const g=a(d);fetch(d.href,g)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var o=e.default;if(typeof o=="function"){var a=function c(){return this instanceof c?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};a.prototype=o.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(c){var d=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(a,c,d.get?d:{enumerable:!0,get:function(){return e[c]}})}),a}var jsxRuntime$1={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$1(e,o,a){this.props=e,this.context=o,this.refs=D$2,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,o){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,o,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,o,a){this.props=e,this.context=o,this.refs=D$2,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,o,a){var c,d={},g=null,b=null;if(o!=null)for(c in o.ref!==void 0&&(b=o.ref),o.key!==void 0&&(g=""+o.key),o)J.call(o,c)&&!L$1.hasOwnProperty(c)&&(d[c]=o[c]);var _=arguments.length-2;if(_===1)d.children=a;else if(1<_){for(var $=Array(_),j=0;j<_;j++)$[j]=arguments[j+2];d.children=$}if(e&&e.defaultProps)for(c in _=e.defaultProps,_)d[c]===void 0&&(d[c]=_[c]);return{$$typeof:l$1,type:e,key:g,ref:b,props:d,_owner:K$1.current}}function N$3(e,o){return{$$typeof:l$1,type:e.type,key:o,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var o={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return o[a]})}var P$1=/\/+/g;function Q$1(e,o){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):o.toString(36)}function R$1(e,o,a,c,d){var g=typeof e;(g==="undefined"||g==="boolean")&&(e=null);var b=!1;if(e===null)b=!0;else switch(g){case"string":case"number":b=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:b=!0}}if(b)return b=e,d=d(b),e=c===""?"."+Q$1(b,0):c,I$1(d)?(a="",e!=null&&(a=e.replace(P$1,"$&/")+"/"),R$1(d,o,a,"",function(j){return j})):d!=null&&(O$1(d)&&(d=N$3(d,a+(!d.key||b&&b.key===d.key?"":(""+d.key).replace(P$1,"$&/")+"/")+e)),o.push(d)),1;if(b=0,c=c===""?".":c+":",I$1(e))for(var _=0;_<e.length;_++){g=e[_];var $=c+Q$1(g,_);b+=R$1(g,o,a,$,d)}else if($=A$1(e),typeof $=="function")for(e=$.call(e),_=0;!(g=e.next()).done;)g=g.value,$=c+Q$1(g,_++),b+=R$1(g,o,a,$,d);else if(g==="object")throw o=String(e),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return b}function S$2(e,o,a){if(e==null)return e;var c=[],d=0;return R$1(e,c,"","",function(g){return o.call(a,g,d++)}),c}function T$3(e){if(e._status===-1){var o=e._result;o=o(),o.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=o)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(e,o,a){S$2(e,function(){o.apply(this,arguments)},a)},count:function(e){var o=0;return S$2(e,function(){o++}),o},toArray:function(e){return S$2(e,function(o){return o})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(e,o,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=C$1({},e.props),d=e.key,g=e.ref,b=e._owner;if(o!=null){if(o.ref!==void 0&&(g=o.ref,b=K$1.current),o.key!==void 0&&(d=""+o.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for($ in o)J.call(o,$)&&!L$1.hasOwnProperty($)&&(c[$]=o[$]===void 0&&_!==void 0?_[$]:o[$])}var $=arguments.length-2;if($===1)c.children=a;else if(1<$){_=Array($);for(var j=0;j<$;j++)_[j]=arguments[j+2];c.children=_}return{$$typeof:l$1,type:e.type,key:d,ref:g,props:c,_owner:b}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var o=M$1.bind(null,e);return o.type=e,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$3}};react_production_min.memo=function(e,o){return{$$typeof:x,type:e,compare:o===void 0?null:o}};react_production_min.startTransition=function(e){var o=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(e,o){return U$1.current.useCallback(e,o)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,o){return U$1.current.useEffect(e,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,o,a){return U$1.current.useImperativeHandle(e,o,a)};react_production_min.useInsertionEffect=function(e,o){return U$1.current.useInsertionEffect(e,o)};react_production_min.useLayoutEffect=function(e,o){return U$1.current.useLayoutEffect(e,o)};react_production_min.useMemo=function(e,o){return U$1.current.useMemo(e,o)};react_production_min.useReducer=function(e,o,a){return U$1.current.useReducer(e,o,a)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,o,a){return U$1.current.useSyncExternalStore(e,o,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$1=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(e,o,a){var c,d={},g=null,b=null;a!==void 0&&(g=""+a),o.key!==void 0&&(g=""+o.key),o.ref!==void 0&&(b=o.ref);for(c in o)m$1.call(o,c)&&!p$2.hasOwnProperty(c)&&(d[c]=o[c]);if(e&&e.defaultProps)for(c in o=e.defaultProps,o)d[c]===void 0&&(d[c]=o[c]);return{$$typeof:k$1,type:e,key:g,ref:b,props:d,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime$1.exports=reactJsxRuntime_production_min;var jsxRuntimeExports$1=jsxRuntime$1.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function o(l0,Op){var Wp=l0.length;l0.push(Op);e:for(;0<Wp;){var mm=Wp-1>>>1,fm=l0[mm];if(0<d(fm,Op))l0[mm]=Op,l0[Wp]=fm,Wp=mm;else break e}}function a(l0){return l0.length===0?null:l0[0]}function c(l0){if(l0.length===0)return null;var Op=l0[0],Wp=l0.pop();if(Wp!==Op){l0[0]=Wp;e:for(var mm=0,fm=l0.length,g0=fm>>>1;mm<g0;){var e0=2*(mm+1)-1,V0=l0[e0],ym=e0+1,Am=l0[ym];if(0>d(V0,Wp))ym<fm&&0>d(Am,V0)?(l0[mm]=Am,l0[ym]=Wp,mm=ym):(l0[mm]=V0,l0[e0]=Wp,mm=e0);else if(ym<fm&&0>d(Am,Wp))l0[mm]=Am,l0[ym]=Wp,mm=ym;else break e}}return Op}function d(l0,Op){var Wp=l0.sortIndex-Op.sortIndex;return Wp!==0?Wp:l0.id-Op.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var b=Date,_=b.now();e.unstable_now=function(){return b.now()-_}}var $=[],j=[],rt=1,nt=null,In=3,xl=!1,Ll=!1,Nl=!1,_u=typeof setTimeout=="function"?setTimeout:null,Yl=typeof clearTimeout=="function"?clearTimeout:null,Ul=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Dl(l0){for(var Op=a(j);Op!==null;){if(Op.callback===null)c(j);else if(Op.startTime<=l0)c(j),Op.sortIndex=Op.expirationTime,o($,Op);else break;Op=a(j)}}function Zl(l0){if(Nl=!1,Dl(l0),!Ll)if(a($)!==null)Ll=!0,dp(Ju);else{var Op=a(j);Op!==null&&S0(Zl,Op.startTime-l0)}}function Ju(l0,Op){Ll=!1,Nl&&(Nl=!1,Yl(Zu),Zu=-1),xl=!0;var Wp=In;try{for(Dl(Op),nt=a($);nt!==null&&(!(nt.expirationTime>Op)||l0&&!zp());){var mm=nt.callback;if(typeof mm=="function"){nt.callback=null,In=nt.priorityLevel;var fm=mm(nt.expirationTime<=Op);Op=e.unstable_now(),typeof fm=="function"?nt.callback=fm:nt===a($)&&c($),Dl(Op)}else c($);nt=a($)}if(nt!==null)var g0=!0;else{var e0=a(j);e0!==null&&S0(Zl,e0.startTime-Op),g0=!1}return g0}finally{nt=null,In=Wp,xl=!1}}var Uu=!1,fp=null,Zu=-1,Lp=5,Np=-1;function zp(){return!(e.unstable_now()-Np<Lp)}function h0(){if(fp!==null){var l0=e.unstable_now();Np=l0;var Op=!0;try{Op=fp(!0,l0)}finally{Op?k0():(Uu=!1,fp=null)}}else Uu=!1}var k0;if(typeof Ul=="function")k0=function(){Ul(h0)};else if(typeof MessageChannel<"u"){var D0=new MessageChannel,s0=D0.port2;D0.port1.onmessage=h0,k0=function(){s0.postMessage(null)}}else k0=function(){_u(h0,0)};function dp(l0){fp=l0,Uu||(Uu=!0,k0())}function S0(l0,Op){Zu=_u(function(){l0(e.unstable_now())},Op)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(l0){l0.callback=null},e.unstable_continueExecution=function(){Ll||xl||(Ll=!0,dp(Ju))},e.unstable_forceFrameRate=function(l0){0>l0||125<l0?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Lp=0<l0?Math.floor(1e3/l0):5},e.unstable_getCurrentPriorityLevel=function(){return In},e.unstable_getFirstCallbackNode=function(){return a($)},e.unstable_next=function(l0){switch(In){case 1:case 2:case 3:var Op=3;break;default:Op=In}var Wp=In;In=Op;try{return l0()}finally{In=Wp}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(l0,Op){switch(l0){case 1:case 2:case 3:case 4:case 5:break;default:l0=3}var Wp=In;In=l0;try{return Op()}finally{In=Wp}},e.unstable_scheduleCallback=function(l0,Op,Wp){var mm=e.unstable_now();switch(typeof Wp=="object"&&Wp!==null?(Wp=Wp.delay,Wp=typeof Wp=="number"&&0<Wp?mm+Wp:mm):Wp=mm,l0){case 1:var fm=-1;break;case 2:fm=250;break;case 5:fm=1073741823;break;case 4:fm=1e4;break;default:fm=5e3}return fm=Wp+fm,l0={id:rt++,callback:Op,priorityLevel:l0,startTime:Wp,expirationTime:fm,sortIndex:-1},Wp>mm?(l0.sortIndex=Wp,o(j,l0),a($)===null&&l0===a(j)&&(Nl?(Yl(Zu),Zu=-1):Nl=!0,S0(Zl,Wp-mm))):(l0.sortIndex=fm,o($,l0),Ll||xl||(Ll=!0,dp(Ju))),l0},e.unstable_shouldYield=zp,e.unstable_wrapCallback=function(l0){var Op=In;return function(){var Wp=In;In=Op;try{return l0.apply(this,arguments)}finally{In=Wp}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$2=reactExports,ca$2=schedulerExports;function p$1(e){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$2=new Set,ea$2={};function fa$2(e,o){ha$2(e,o),ha$2(e+"Capture",o)}function ha$2(e,o){for(ea$2[e]=o,e=0;e<o.length;e++)da$2.add(o[e])}var ia$2=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$2=Object.prototype.hasOwnProperty,ka$2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$2={},ma$2={};function oa$2(e){return ja$2.call(ma$2,e)?!0:ja$2.call(la$2,e)?!1:ka$2.test(e)?ma$2[e]=!0:(la$2[e]=!0,!1)}function pa$2(e,o,a,c){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa$1(e,o,a,c){if(o===null||typeof o>"u"||pa$2(e,o,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v(e,o,a,c,d,g,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=e,this.type=o,this.sanitizeURL=g,this.removeEmptyString=b}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var o=e[0];z[o]=new v(o,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra$2=/[\-:]([a-z])/g;function sa$2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var o=e.replace(ra$2,sa$2);z[o]=new v(o,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var o=e.replace(ra$2,sa$2);z[o]=new v(o,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var o=e.replace(ra$2,sa$2);z[o]=new v(o,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta$2(e,o,a,c){var d=z.hasOwnProperty(o)?z[o]:null;(d!==null?d.type!==0:c||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa$1(o,a,d,c)&&(a=null),c||d===null?oa$2(o)&&(a===null?e.removeAttribute(o):e.setAttribute(o,""+a)):d.mustUseProperty?e[d.propertyName]=a===null?d.type===3?!1:"":a:(o=d.attributeName,c=d.attributeNamespace,a===null?e.removeAttribute(o):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?e.setAttributeNS(c,o,a):e.setAttribute(o,a))))}var ua$2=aa$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$2=Symbol.for("react.element"),wa$2=Symbol.for("react.portal"),ya$2=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$2=Symbol.for("react.profiler"),Ba$2=Symbol.for("react.provider"),Ca$2=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$2=Symbol.for("react.suspense"),Fa$2=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$2=Symbol.for("react.lazy"),Ia$2=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(e){return e===null||typeof e!="object"?null:(e=Ja$1&&e[Ja$1]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La$2;function Ma$1(e){if(La$2===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);La$2=o&&o[1]||""}return`
`+La$2+e}var Na$2=!1;function Oa$2(e,o){if(!e||Na$2)return"";Na$2=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(j){var c=j}Reflect.construct(e,[],o)}else{try{o.call()}catch(j){c=j}e.call(o.prototype)}else{try{throw Error()}catch(j){c=j}e()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var d=j.stack.split(`
`),g=c.stack.split(`
`),b=d.length-1,_=g.length-1;1<=b&&0<=_&&d[b]!==g[_];)_--;for(;1<=b&&0<=_;b--,_--)if(d[b]!==g[_]){if(b!==1||_!==1)do if(b--,_--,0>_||d[b]!==g[_]){var $=`
`+d[b].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=b&&0<=_);break}}}finally{Na$2=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Ma$1(e):""}function Pa$2(e){switch(e.tag){case 5:return Ma$1(e.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return e=Oa$2(e.type,!1),e;case 11:return e=Oa$2(e.type.render,!1),e;case 1:return e=Oa$2(e.type,!0),e;default:return""}}function Qa$1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya$2:return"Fragment";case wa$2:return"Portal";case Aa$2:return"Profiler";case za$1:return"StrictMode";case Ea$2:return"Suspense";case Fa$2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca$2:return(e.displayName||"Context")+".Consumer";case Ba$2:return(e._context.displayName||"Context")+".Provider";case Da$1:var o=e.render;return e=e.displayName,e||(e=o.displayName||o.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga$1:return o=e.displayName||null,o!==null?o:Qa$1(e.type)||"Memo";case Ha$2:o=e._payload,e=e._init;try{return Qa$1(e(o))}catch{}}return null}function Ra$2(e){var o=e.type;switch(e.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=o.render,e=e.displayName||e.name||"",o.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(o);case 8:return o===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa$2(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta$2(e){var o=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua$2(e){var o=Ta$2(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,o),c=""+e[o];if(!e.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(e,o,{configurable:!0,get:function(){return d.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(e,o,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){e._valueTracker=null,delete e[o]}}}}function Va$1(e){e._valueTracker||(e._valueTracker=Ua$2(e))}function Wa$1(e){if(!e)return!1;var o=e._valueTracker;if(!o)return!0;var a=o.getValue(),c="";return e&&(c=Ta$2(e)?e.checked?"true":"false":e.value),e=c,e!==a?(o.setValue(e),!0):!1}function Xa$1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya$2(e,o){var a=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Za$1(e,o){var a=o.defaultValue==null?"":o.defaultValue,c=o.checked!=null?o.checked:o.defaultChecked;a=Sa$2(o.value!=null?o.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(e,o){o=o.checked,o!=null&&ta$2(e,"checked",o,!1)}function bb(e,o){ab(e,o);var a=Sa$2(o.value),c=o.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}o.hasOwnProperty("value")?cb(e,o.type,a):o.hasOwnProperty("defaultValue")&&cb(e,o.type,Sa$2(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(e.defaultChecked=!!o.defaultChecked)}function db(e,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var c=o.type;if(!(c!=="submit"&&c!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+e._wrapperState.initialValue,a||o===e.value||(e.value=o),e.defaultValue=o}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cb(e,o,a){(o!=="number"||Xa$1(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var eb=Array.isArray;function fb(e,o,a,c){if(e=e.options,o){o={};for(var d=0;d<a.length;d++)o["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=o.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Sa$2(a),o=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}o!==null||e[d].disabled||(o=e[d])}o!==null&&(o.selected=!0)}}function gb(e,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(p$1(92));if(eb(a)){if(1<a.length)throw Error(p$1(93));a=a[0]}o=a}o==null&&(o=""),a=o}e._wrapperState={initialValue:Sa$2(a)}}function ib(e,o){var a=Sa$2(o.value),c=Sa$2(o.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),o.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function jb(e){var o=e.textContent;o===e._wrapperState.initialValue&&o!==""&&o!==null&&(e.value=o)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,o){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(o):e==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,c,d){MSApp.execUnsafeLocalFunction(function(){return e(o,a,c,d)})}:e}(function(e,o){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;o.firstChild;)e.appendChild(o.firstChild)}});function ob(e,o){if(o){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=o;return}}e.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(o){o=o+e.charAt(0).toUpperCase()+e.substring(1),pb[o]=pb[e]})});function rb(e,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||pb.hasOwnProperty(e)&&pb[e]?(""+o).trim():o+"px"}function sb(e,o){e=e.style;for(var a in o)if(o.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=rb(a,o[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,d):e[a]=d}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,o){if(o){if(tb[e]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$1(137,e));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$1(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$1(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$1(62))}}function vb(e,o){if(e.indexOf("-")===-1)return typeof o.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p$1(280));var o=e.stateNode;o&&(o=Db(o),yb(e.stateNode,e.type,o))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,o=Ab;if(Ab=zb=null,Bb(e),o)for(e=0;e<o.length;e++)Bb(o[e])}}function Gb(e,o){return e(o)}function Hb(){}var Ib=!1;function Jb(e,o,a){if(Ib)return e(o,a);Ib=!0;try{return Gb(e,o,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,o){var a=e.stateNode;if(a===null)return null;var c=Db(a);if(c===null)return null;a=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p$1(231,o,typeof a));return a}var Lb=!1;if(ia$2)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,o,a,c,d,g,b,_,$){var j=Array.prototype.slice.call(arguments,3);try{o.apply(a,j)}catch(rt){this.onError(rt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,o,a,c,d,g,b,_,$){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,o,a,c,d,g,b,_,$){if(Tb.apply(this,arguments),Ob){if(Ob){var j=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=j)}}function Vb(e){var o=e,a=e;if(e.alternate)for(;o.return;)o=o.return;else{e=o;do o=e,o.flags&4098&&(a=o.return),e=o.return;while(e)}return o.tag===3?a:null}function Wb(e){if(e.tag===13){var o=e.memoizedState;if(o===null&&(e=e.alternate,e!==null&&(o=e.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p$1(188))}function Yb(e){var o=e.alternate;if(!o){if(o=Vb(e),o===null)throw Error(p$1(188));return o!==e?null:e}for(var a=e,c=o;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Xb(d),e;if(g===c)return Xb(d),o;g=g.sibling}throw Error(p$1(188))}if(a.return!==c.return)a=d,c=g;else{for(var b=!1,_=d.child;_;){if(_===a){b=!0,a=d,c=g;break}if(_===c){b=!0,c=d,a=g;break}_=_.sibling}if(!b){for(_=g.child;_;){if(_===a){b=!0,a=g,c=d;break}if(_===c){b=!0,c=g,a=d;break}_=_.sibling}if(!b)throw Error(p$1(189))}}if(a.alternate!==c)throw Error(p$1(190))}if(a.tag!==3)throw Error(p$1(188));return a.stateNode.current===a?e:o}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var o=$b(e);if(o!==null)return o;e=e.sibling}return null}var ac$1=ca$2.unstable_scheduleCallback,bc$1=ca$2.unstable_cancelCallback,cc$1=ca$2.unstable_shouldYield,dc$1=ca$2.unstable_requestPaint,B=ca$2.unstable_now,ec$1=ca$2.unstable_getCurrentPriorityLevel,fc$1=ca$2.unstable_ImmediatePriority,gc$1=ca$2.unstable_UserBlockingPriority,hc$1=ca$2.unstable_NormalPriority,ic$1=ca$2.unstable_LowPriority,jc$1=ca$2.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(e){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,e,void 0,(e.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(e){return e>>>=0,e===0?32:31-(pc$1(e)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc$1(e,o){var a=e.pendingLanes;if(a===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes,b=a&268435455;if(b!==0){var _=b&~d;_!==0?c=tc$1(_):(g&=b,g!==0&&(c=tc$1(g)))}else b=a&~d,b!==0?c=tc$1(b):g!==0&&(c=tc$1(g));if(c===0)return 0;if(o!==0&&o!==c&&!(o&d)&&(d=c&-c,g=o&-o,d>=g||d===16&&(g&4194240)!==0))return o;if(c&4&&(c|=a&16),o=e.entangledLanes,o!==0)for(e=e.entanglements,o&=c;0<o;)a=31-oc$1(o),d=1<<a,c|=e[a],o&=~d;return c}function vc$1(e,o){switch(e){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(e,o){for(var a=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes;0<g;){var b=31-oc$1(g),_=1<<b,$=d[b];$===-1?(!(_&a)||_&c)&&(d[b]=vc$1(_,o)):$<=o&&(e.expiredLanes|=_),g&=~_}}function xc$1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc$1(){var e=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),e}function zc$1(e){for(var o=[],a=0;31>a;a++)o.push(e);return o}function Ac$1(e,o,a){e.pendingLanes|=o,o!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,o=31-oc$1(o),e[o]=a}function Bc$1(e,o){var a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var d=31-oc$1(a),g=1<<d;o[d]=0,c[d]=-1,e[d]=-1,a&=~g}}function Cc$1(e,o){var a=e.entangledLanes|=o;for(e=e.entanglements;a;){var c=31-oc$1(a),d=1<<c;d&o|e[c]&o&&(e[c]|=o),a&=~d}}var C=0;function Dc$2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$2(e,o){switch(e){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(o.pointerId)}}function Tc$2(e,o,a,c,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:o,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},o!==null&&(o=Cb(o),o!==null&&Fc$1(o)),e):(e.eventSystemFlags|=c,o=e.targetContainers,d!==null&&o.indexOf(d)===-1&&o.push(d),e)}function Uc$1(e,o,a,c,d){switch(o){case"focusin":return Lc$1=Tc$2(Lc$1,e,o,a,c,d),!0;case"dragenter":return Mc$1=Tc$2(Mc$1,e,o,a,c,d),!0;case"mouseover":return Nc$1=Tc$2(Nc$1,e,o,a,c,d),!0;case"pointerover":var g=d.pointerId;return Oc$1.set(g,Tc$2(Oc$1.get(g)||null,e,o,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Pc$1.set(g,Tc$2(Pc$1.get(g)||null,e,o,a,c,d)),!0}return!1}function Vc$1(e){var o=Wc$1(e.target);if(o!==null){var a=Vb(o);if(a!==null){if(o=a.tag,o===13){if(o=Wb(a),o!==null){e.blockedOn=o,Ic$1(e.priority,function(){Gc$1(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc$1(e){if(e.blockedOn!==null)return!1;for(var o=e.targetContainers;0<o.length;){var a=Yc$1(e.domEventName,e.eventSystemFlags,o[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);wb=c,a.target.dispatchEvent(c),wb=null}else return o=Cb(a),o!==null&&Fc$1(o),e.blockedOn=a,!1;o.shift()}return!0}function Zc$1(e,o,a){Xc$1(e)&&a.delete(o)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad(e,o){e.blockedOn===o&&(e.blockedOn=null,Jc$1||(Jc$1=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$1)))}function bd(e){function o(d){return ad(d,e)}if(0<Kc$1.length){ad(Kc$1[0],e);for(var a=1;a<Kc$1.length;a++){var c=Kc$1[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Lc$1!==null&&ad(Lc$1,e),Mc$1!==null&&ad(Mc$1,e),Nc$1!==null&&ad(Nc$1,e),Oc$1.forEach(o),Pc$1.forEach(o),a=0;a<Qc$1.length;a++)c=Qc$1[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<Qc$1.length&&(a=Qc$1[0],a.blockedOn===null);)Vc$1(a),a.blockedOn===null&&Qc$1.shift()}var cd=ua$2.ReactCurrentBatchConfig,dd=!0;function ed(e,o,a,c){var d=C,g=cd.transition;cd.transition=null;try{C=1,fd(e,o,a,c)}finally{C=d,cd.transition=g}}function gd(e,o,a,c){var d=C,g=cd.transition;cd.transition=null;try{C=4,fd(e,o,a,c)}finally{C=d,cd.transition=g}}function fd(e,o,a,c){if(dd){var d=Yc$1(e,o,a,c);if(d===null)hd(e,o,c,id,a),Sc$2(e,c);else if(Uc$1(d,e,o,a,c))c.stopPropagation();else if(Sc$2(e,c),o&4&&-1<Rc$1.indexOf(e)){for(;d!==null;){var g=Cb(d);if(g!==null&&Ec$1(g),g=Yc$1(e,o,a,c),g===null&&hd(e,o,c,id,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else hd(e,o,c,null,a)}}var id=null;function Yc$1(e,o,a,c){if(id=null,e=xb(c),e=Wc$1(e),e!==null)if(o=Vb(e),o===null)e=null;else if(a=o.tag,a===13){if(e=Wb(o),e!==null)return e;e=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;e=null}else o!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,o=ld,a=o.length,c,d="value"in kd?kd.value:kd.textContent,g=d.length;for(e=0;e<a&&o[e]===d[e];e++);var b=a-e;for(c=1;c<=b&&o[a-c]===d[g-c];c++);return md=d.slice(e,1<c?1-c:void 0)}function od(e){var o=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&o===13&&(e=13)):e=o,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function o(a,c,d,g,b){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(e):(e=Od[e])?!!o[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var o=Md[e.key]||e.key;if(o!=="Unidentified")return o}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia$2&&"CompositionEvent"in window,be$1=null;ia$2&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia$2&&"TextEvent"in window&&!be$1,de$2=ia$2&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(e,o){switch(e){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je$1(e,o){switch(e){case"compositionend":return he$1(o);case"keypress":return o.which!==32?null:(fe$1=!0,ee$1);case"textInput":return e=o.data,e===ee$1&&fe$1?null:e;default:return null}}function ke$1(e,o){if(ie)return e==="compositionend"||!ae$1&&ge$1(e,o)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de$2&&o.locale!=="ko"?null:o.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o==="input"?!!le$1[e.type]:o==="textarea"}function ne$1(e,o,a,c){Eb(c),o=oe(o,"onChange"),0<o.length&&(a=new td$1("onChange","change",null,a,c),e.push({event:a,listeners:o}))}var pe$2=null,qe$1=null;function re$1(e){se(e,0)}function te$1(e){var o=ue$1(e);if(Wa$1(o))return e}function ve(e,o){if(e==="change")return o}var we$1=!1;if(ia$2){var xe$1;if(ia$2){var ye$1="oninput"in document;if(!ye$1){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$1=typeof ze$2.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$1),qe$1=pe$2=null)}function Be$1(e){if(e.propertyName==="value"&&te$1(qe$1)){var o=[];ne$1(o,qe$1,e,xb(e)),Jb(re$1,o)}}function Ce$2(e,o,a){e==="focusin"?(Ae$1(),pe$2=o,qe$1=a,pe$2.attachEvent("onpropertychange",Be$1)):e==="focusout"&&Ae$1()}function De$1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$1(qe$1)}function Ee$2(e,o){if(e==="click")return te$1(o)}function Fe$1(e,o){if(e==="input"||e==="change")return te$1(o)}function Ge$1(e,o){return e===o&&(e!==0||1/e===1/o)||e!==e&&o!==o}var He$2=typeof Object.is=="function"?Object.is:Ge$1;function Ie$2(e,o){if(He$2(e,o))return!0;if(typeof e!="object"||e===null||typeof o!="object"||o===null)return!1;var a=Object.keys(e),c=Object.keys(o);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!ja$2.call(o,d)||!He$2(e[d],o[d]))return!1}return!0}function Je$1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke$1(e,o){var a=Je$1(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=o&&c>=o)return{node:a,offset:o-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je$1(a)}}function Le$1(e,o){return e&&o?e===o?!0:e&&e.nodeType===3?!1:o&&o.nodeType===3?Le$1(e,o.parentNode):"contains"in e?e.contains(o):e.compareDocumentPosition?!!(e.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var e=window,o=Xa$1();o instanceof e.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)e=o.contentWindow;else break;o=Xa$1(e.document)}return o}function Ne$1(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o&&(o==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||o==="textarea"||e.contentEditable==="true")}function Oe$1(e){var o=Me(),a=e.focusedElem,c=e.selectionRange;if(o!==a&&a&&a.ownerDocument&&Le$1(a.ownerDocument.documentElement,a)){if(c!==null&&Ne$1(a)){if(o=c.start,e=c.end,e===void 0&&(e=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(e,a.value.length);else if(e=(o=a.ownerDocument||document)&&o.defaultView||window,e.getSelection){e=e.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!e.extend&&g>c&&(d=c,c=g,g=d),d=Ke$1(a,g);var b=Ke$1(a,c);d&&b&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(d.node,d.offset),e.removeAllRanges(),g>c?(e.addRange(o),e.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),e.addRange(o)))}}for(o=[],e=a;e=e.parentNode;)e.nodeType===1&&o.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)e=o[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia$2&&"documentMode"in document&&11>=document.documentMode,Qe$2=null,Re$1=null,Se$2=null,Te$1=!1;function Ue$1(e,o,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te$1||Qe$2==null||Qe$2!==Xa$1(c)||(c=Qe$2,"selectionStart"in c&&Ne$1(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se$2&&Ie$2(Se$2,c)||(Se$2=c,c=oe(Re$1,"onSelect"),0<c.length&&(o=new td$1("onSelect","select",null,o,a),e.push({event:o,listeners:c}),o.target=Qe$2)))}function Ve$1(e,o){var a={};return a[e.toLowerCase()]=o.toLowerCase(),a["Webkit"+e]="webkit"+o,a["Moz"+e]="moz"+o,a}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$2={},Ye$2={};ia$2&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(e){if(Xe$2[e])return Xe$2[e];if(!We$1[e])return e;var o=We$1[e],a;for(a in o)if(o.hasOwnProperty(a)&&a in Ye$2)return Xe$2[e]=o[a];return e}var $e$2=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,o){df.set(e,o),fa$2(o,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$2,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$2("onMouseEnter",["mouseout","mouseover"]);ha$2("onMouseLeave",["mouseout","mouseover"]);ha$2("onPointerEnter",["pointerout","pointerover"]);ha$2("onPointerLeave",["pointerout","pointerover"]);fa$2("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$2("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$2("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$2("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,o,a){var c=e.type||"unknown-event";e.currentTarget=a,Ub(c,o,void 0,e),e.currentTarget=null}function se(e,o){o=(o&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],d=c.event;c=c.listeners;e:{var g=void 0;if(o)for(var b=c.length-1;0<=b;b--){var _=c[b],$=_.instance,j=_.currentTarget;if(_=_.listener,$!==g&&d.isPropagationStopped())break e;nf(d,_,j),g=$}else for(b=0;b<c.length;b++){if(_=c[b],$=_.instance,j=_.currentTarget,_=_.listener,$!==g&&d.isPropagationStopped())break e;nf(d,_,j),g=$}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D$1(e,o){var a=o[of];a===void 0&&(a=o[of]=new Set);var c=e+"__bubble";a.has(c)||(pf(o,e,2,!1),a.add(c))}function qf(e,o,a){var c=0;o&&(c|=4),pf(a,e,c,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da$2.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,e),qf(a,!0,e))});var o=e.nodeType===9?e:e.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(e,o,a,c){switch(jd(o)){case 1:var d=ed;break;case 4:d=gd;break;default:d=fd}a=d.bind(null,o,a,e),d=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(o,a,{capture:!0,passive:d}):e.addEventListener(o,a,!0):d!==void 0?e.addEventListener(o,a,{passive:d}):e.addEventListener(o,a,!1)}function hd(e,o,a,c,d){var g=c;if(!(o&1)&&!(o&2)&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var _=c.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(b===4)for(b=c.return;b!==null;){var $=b.tag;if(($===3||$===4)&&($=b.stateNode.containerInfo,$===d||$.nodeType===8&&$.parentNode===d))return;b=b.return}for(;_!==null;){if(b=Wc$1(_),b===null)return;if($=b.tag,$===5||$===6){c=g=b;continue e}_=_.parentNode}}c=c.return}Jb(function(){var j=g,rt=xb(a),nt=[];e:{var In=df.get(e);if(In!==void 0){var xl=td$1,Ll=e;switch(e){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":xl=Rd;break;case"focusin":Ll="focus",xl=Fd;break;case"focusout":Ll="blur",xl=Fd;break;case"beforeblur":case"afterblur":xl=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xl=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xl=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xl=Vd;break;case $e$2:case af:case bf:xl=Hd;break;case cf:xl=Xd;break;case"scroll":xl=vd;break;case"wheel":xl=Zd;break;case"copy":case"cut":case"paste":xl=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xl=Td}var Nl=(o&4)!==0,_u=!Nl&&e==="scroll",Yl=Nl?In!==null?In+"Capture":null:In;Nl=[];for(var Ul=j,Dl;Ul!==null;){Dl=Ul;var Zl=Dl.stateNode;if(Dl.tag===5&&Zl!==null&&(Dl=Zl,Yl!==null&&(Zl=Kb(Ul,Yl),Zl!=null&&Nl.push(tf(Ul,Zl,Dl)))),_u)break;Ul=Ul.return}0<Nl.length&&(In=new xl(In,Ll,null,a,rt),nt.push({event:In,listeners:Nl}))}}if(!(o&7)){e:{if(In=e==="mouseover"||e==="pointerover",xl=e==="mouseout"||e==="pointerout",In&&a!==wb&&(Ll=a.relatedTarget||a.fromElement)&&(Wc$1(Ll)||Ll[uf]))break e;if((xl||In)&&(In=rt.window===rt?rt:(In=rt.ownerDocument)?In.defaultView||In.parentWindow:window,xl?(Ll=a.relatedTarget||a.toElement,xl=j,Ll=Ll?Wc$1(Ll):null,Ll!==null&&(_u=Vb(Ll),Ll!==_u||Ll.tag!==5&&Ll.tag!==6)&&(Ll=null)):(xl=null,Ll=j),xl!==Ll)){if(Nl=Bd,Zl="onMouseLeave",Yl="onMouseEnter",Ul="mouse",(e==="pointerout"||e==="pointerover")&&(Nl=Td,Zl="onPointerLeave",Yl="onPointerEnter",Ul="pointer"),_u=xl==null?In:ue$1(xl),Dl=Ll==null?In:ue$1(Ll),In=new Nl(Zl,Ul+"leave",xl,a,rt),In.target=_u,In.relatedTarget=Dl,Zl=null,Wc$1(rt)===j&&(Nl=new Nl(Yl,Ul+"enter",Ll,a,rt),Nl.target=Dl,Nl.relatedTarget=_u,Zl=Nl),_u=Zl,xl&&Ll)t:{for(Nl=xl,Yl=Ll,Ul=0,Dl=Nl;Dl;Dl=vf(Dl))Ul++;for(Dl=0,Zl=Yl;Zl;Zl=vf(Zl))Dl++;for(;0<Ul-Dl;)Nl=vf(Nl),Ul--;for(;0<Dl-Ul;)Yl=vf(Yl),Dl--;for(;Ul--;){if(Nl===Yl||Yl!==null&&Nl===Yl.alternate)break t;Nl=vf(Nl),Yl=vf(Yl)}Nl=null}else Nl=null;xl!==null&&wf(nt,In,xl,Nl,!1),Ll!==null&&_u!==null&&wf(nt,_u,Ll,Nl,!0)}}e:{if(In=j?ue$1(j):window,xl=In.nodeName&&In.nodeName.toLowerCase(),xl==="select"||xl==="input"&&In.type==="file")var Ju=ve;else if(me$1(In))if(we$1)Ju=Fe$1;else{Ju=De$1;var Uu=Ce$2}else(xl=In.nodeName)&&xl.toLowerCase()==="input"&&(In.type==="checkbox"||In.type==="radio")&&(Ju=Ee$2);if(Ju&&(Ju=Ju(e,j))){ne$1(nt,Ju,a,rt);break e}Uu&&Uu(e,In,j),e==="focusout"&&(Uu=In._wrapperState)&&Uu.controlled&&In.type==="number"&&cb(In,"number",In.value)}switch(Uu=j?ue$1(j):window,e){case"focusin":(me$1(Uu)||Uu.contentEditable==="true")&&(Qe$2=Uu,Re$1=j,Se$2=null);break;case"focusout":Se$2=Re$1=Qe$2=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(nt,a,rt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(nt,a,rt)}var fp;if(ae$1)e:{switch(e){case"compositionstart":var Zu="onCompositionStart";break e;case"compositionend":Zu="onCompositionEnd";break e;case"compositionupdate":Zu="onCompositionUpdate";break e}Zu=void 0}else ie?ge$1(e,a)&&(Zu="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Zu="onCompositionStart");Zu&&(de$2&&a.locale!=="ko"&&(ie||Zu!=="onCompositionStart"?Zu==="onCompositionEnd"&&ie&&(fp=nd()):(kd=rt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),Uu=oe(j,Zu),0<Uu.length&&(Zu=new Ld(Zu,e,null,a,rt),nt.push({event:Zu,listeners:Uu}),fp?Zu.data=fp:(fp=he$1(a),fp!==null&&(Zu.data=fp)))),(fp=ce?je$1(e,a):ke$1(e,a))&&(j=oe(j,"onBeforeInput"),0<j.length&&(rt=new Ld("onBeforeInput","beforeinput",null,a,rt),nt.push({event:rt,listeners:j}),rt.data=fp))}se(nt,o)})}function tf(e,o,a){return{instance:e,listener:o,currentTarget:a}}function oe(e,o){for(var a=o+"Capture",c=[];e!==null;){var d=e,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Kb(e,a),g!=null&&c.unshift(tf(e,g,d)),g=Kb(e,o),g!=null&&c.push(tf(e,g,d))),e=e.return}return c}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,o,a,c,d){for(var g=o._reactName,b=[];a!==null&&a!==c;){var _=a,$=_.alternate,j=_.stateNode;if($!==null&&$===c)break;_.tag===5&&j!==null&&(_=j,d?($=Kb(a,g),$!=null&&b.unshift(tf(a,$,_))):d||($=Kb(a,g),$!=null&&b.push(tf(a,$,_)))),a=a.return}b.length!==0&&e.push({event:o,listeners:b})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,o,a){if(o=zf(o),zf(e)!==o&&a)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,o){return e==="textarea"||e==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,o){var a=o,c=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){e.removeChild(d),bd(o);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);bd(o)}function Lf(e){for(;e!=null;e=e.nextSibling){var o=e.nodeType;if(o===1||o===3)break;if(o===8){if(o=e.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var o=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return e;o--}else a==="/$"&&o++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(e){var o=e[Of];if(o)return o;for(var a=e.parentNode;a;){if(o=a[uf]||a[Of]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(e=Mf(e);e!==null;){if(a=e[Of])return a;e=Mf(e)}return o}e=a,a=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue$1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$1(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,o){Tf++,Sf[Tf]=e.current,e.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,o){var a=e.type.contextTypes;if(!a)return Vf;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===o)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=o[g];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=d),d}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,o,a){if(H.current!==Vf)throw Error(p$1(168));G(H,o),G(Wf,a)}function bg(e,o,a){var c=e.stateNode;if(o=o.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in o))throw Error(p$1(108,Ra$2(e)||"Unknown",d));return A({},a,c)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,o,a){var c=e.stateNode;if(!c)throw Error(p$1(169));a?(e=bg(e,o,Xf),c.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,o=C;try{var a=eg;for(C=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(d){throw eg!==null&&(eg=eg.slice(e+1)),ac$1(fc$1,jg),d}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,o){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=o}function ug(e,o,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var c=rg;e=sg;var d=32-oc$1(c)-1;c&=~(1<<d),a+=1;var g=32-oc$1(o)+d;if(30<g){var b=d-d%5;g=(c&(1<<b)-1).toString(32),c>>=b,d-=b,rg=1<<32-oc$1(o)+d|a<<d|c,sg=g+e}else rg=1<<g|a<<d|c,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,o){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=e,o=e.deletions,o===null?(e.deletions=[a],e.flags|=16):o.push(a)}function Cg(e,o){switch(e.tag){case 5:var a=e.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(e.stateNode=o,xg=e,yg=Lf(o.firstChild),!0):!1;case 6:return o=e.pendingProps===""||o.nodeType!==3?null:o,o!==null?(e.stateNode=o,xg=e,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=o,a.return=e,e.child=a,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var o=yg;if(o){var a=o;if(!Cg(e,o)){if(Dg(e))throw Error(p$1(418));o=Lf(a.nextSibling);var c=xg;o&&Cg(e,o)?Ag(c,a):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p$1(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var o;if((o=e.tag!==3)&&!(o=e.tag!==5)&&(o=e.type,o=o!=="head"&&o!=="body"&&!Ef(e.type,e.memoizedProps)),o&&(o=yg)){if(Dg(e))throw Hg(),Error(p$1(418));for(;o;)Ag(e,o),o=Lf(o.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$1(317));e:{for(e=e.nextSibling,o=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(o===0){yg=Lf(e.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua$2.ReactCurrentBatchConfig;function Lg(e,o,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$1(309));var c=a.stateNode}if(!c)throw Error(p$1(147,e));var d=c,g=""+e;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(b){var _=d.refs;b===null?delete _[g]:_[g]=b},o._stringRef=g,o)}if(typeof e!="string")throw Error(p$1(284));if(!a._owner)throw Error(p$1(290,e))}return e}function Mg(e,o){throw e=Object.prototype.toString.call(o),Error(p$1(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}function Ng(e){var o=e._init;return o(e._payload)}function Og(e){function o(Yl,Ul){if(e){var Dl=Yl.deletions;Dl===null?(Yl.deletions=[Ul],Yl.flags|=16):Dl.push(Ul)}}function a(Yl,Ul){if(!e)return null;for(;Ul!==null;)o(Yl,Ul),Ul=Ul.sibling;return null}function c(Yl,Ul){for(Yl=new Map;Ul!==null;)Ul.key!==null?Yl.set(Ul.key,Ul):Yl.set(Ul.index,Ul),Ul=Ul.sibling;return Yl}function d(Yl,Ul){return Yl=Pg(Yl,Ul),Yl.index=0,Yl.sibling=null,Yl}function g(Yl,Ul,Dl){return Yl.index=Dl,e?(Dl=Yl.alternate,Dl!==null?(Dl=Dl.index,Dl<Ul?(Yl.flags|=2,Ul):Dl):(Yl.flags|=2,Ul)):(Yl.flags|=1048576,Ul)}function b(Yl){return e&&Yl.alternate===null&&(Yl.flags|=2),Yl}function _(Yl,Ul,Dl,Zl){return Ul===null||Ul.tag!==6?(Ul=Qg(Dl,Yl.mode,Zl),Ul.return=Yl,Ul):(Ul=d(Ul,Dl),Ul.return=Yl,Ul)}function $(Yl,Ul,Dl,Zl){var Ju=Dl.type;return Ju===ya$2?rt(Yl,Ul,Dl.props.children,Zl,Dl.key):Ul!==null&&(Ul.elementType===Ju||typeof Ju=="object"&&Ju!==null&&Ju.$$typeof===Ha$2&&Ng(Ju)===Ul.type)?(Zl=d(Ul,Dl.props),Zl.ref=Lg(Yl,Ul,Dl),Zl.return=Yl,Zl):(Zl=Rg(Dl.type,Dl.key,Dl.props,null,Yl.mode,Zl),Zl.ref=Lg(Yl,Ul,Dl),Zl.return=Yl,Zl)}function j(Yl,Ul,Dl,Zl){return Ul===null||Ul.tag!==4||Ul.stateNode.containerInfo!==Dl.containerInfo||Ul.stateNode.implementation!==Dl.implementation?(Ul=Sg(Dl,Yl.mode,Zl),Ul.return=Yl,Ul):(Ul=d(Ul,Dl.children||[]),Ul.return=Yl,Ul)}function rt(Yl,Ul,Dl,Zl,Ju){return Ul===null||Ul.tag!==7?(Ul=Tg(Dl,Yl.mode,Zl,Ju),Ul.return=Yl,Ul):(Ul=d(Ul,Dl),Ul.return=Yl,Ul)}function nt(Yl,Ul,Dl){if(typeof Ul=="string"&&Ul!==""||typeof Ul=="number")return Ul=Qg(""+Ul,Yl.mode,Dl),Ul.return=Yl,Ul;if(typeof Ul=="object"&&Ul!==null){switch(Ul.$$typeof){case va$2:return Dl=Rg(Ul.type,Ul.key,Ul.props,null,Yl.mode,Dl),Dl.ref=Lg(Yl,null,Ul),Dl.return=Yl,Dl;case wa$2:return Ul=Sg(Ul,Yl.mode,Dl),Ul.return=Yl,Ul;case Ha$2:var Zl=Ul._init;return nt(Yl,Zl(Ul._payload),Dl)}if(eb(Ul)||Ka$1(Ul))return Ul=Tg(Ul,Yl.mode,Dl,null),Ul.return=Yl,Ul;Mg(Yl,Ul)}return null}function In(Yl,Ul,Dl,Zl){var Ju=Ul!==null?Ul.key:null;if(typeof Dl=="string"&&Dl!==""||typeof Dl=="number")return Ju!==null?null:_(Yl,Ul,""+Dl,Zl);if(typeof Dl=="object"&&Dl!==null){switch(Dl.$$typeof){case va$2:return Dl.key===Ju?$(Yl,Ul,Dl,Zl):null;case wa$2:return Dl.key===Ju?j(Yl,Ul,Dl,Zl):null;case Ha$2:return Ju=Dl._init,In(Yl,Ul,Ju(Dl._payload),Zl)}if(eb(Dl)||Ka$1(Dl))return Ju!==null?null:rt(Yl,Ul,Dl,Zl,null);Mg(Yl,Dl)}return null}function xl(Yl,Ul,Dl,Zl,Ju){if(typeof Zl=="string"&&Zl!==""||typeof Zl=="number")return Yl=Yl.get(Dl)||null,_(Ul,Yl,""+Zl,Ju);if(typeof Zl=="object"&&Zl!==null){switch(Zl.$$typeof){case va$2:return Yl=Yl.get(Zl.key===null?Dl:Zl.key)||null,$(Ul,Yl,Zl,Ju);case wa$2:return Yl=Yl.get(Zl.key===null?Dl:Zl.key)||null,j(Ul,Yl,Zl,Ju);case Ha$2:var Uu=Zl._init;return xl(Yl,Ul,Dl,Uu(Zl._payload),Ju)}if(eb(Zl)||Ka$1(Zl))return Yl=Yl.get(Dl)||null,rt(Ul,Yl,Zl,Ju,null);Mg(Ul,Zl)}return null}function Ll(Yl,Ul,Dl,Zl){for(var Ju=null,Uu=null,fp=Ul,Zu=Ul=0,Lp=null;fp!==null&&Zu<Dl.length;Zu++){fp.index>Zu?(Lp=fp,fp=null):Lp=fp.sibling;var Np=In(Yl,fp,Dl[Zu],Zl);if(Np===null){fp===null&&(fp=Lp);break}e&&fp&&Np.alternate===null&&o(Yl,fp),Ul=g(Np,Ul,Zu),Uu===null?Ju=Np:Uu.sibling=Np,Uu=Np,fp=Lp}if(Zu===Dl.length)return a(Yl,fp),I&&tg(Yl,Zu),Ju;if(fp===null){for(;Zu<Dl.length;Zu++)fp=nt(Yl,Dl[Zu],Zl),fp!==null&&(Ul=g(fp,Ul,Zu),Uu===null?Ju=fp:Uu.sibling=fp,Uu=fp);return I&&tg(Yl,Zu),Ju}for(fp=c(Yl,fp);Zu<Dl.length;Zu++)Lp=xl(fp,Yl,Zu,Dl[Zu],Zl),Lp!==null&&(e&&Lp.alternate!==null&&fp.delete(Lp.key===null?Zu:Lp.key),Ul=g(Lp,Ul,Zu),Uu===null?Ju=Lp:Uu.sibling=Lp,Uu=Lp);return e&&fp.forEach(function(zp){return o(Yl,zp)}),I&&tg(Yl,Zu),Ju}function Nl(Yl,Ul,Dl,Zl){var Ju=Ka$1(Dl);if(typeof Ju!="function")throw Error(p$1(150));if(Dl=Ju.call(Dl),Dl==null)throw Error(p$1(151));for(var Uu=Ju=null,fp=Ul,Zu=Ul=0,Lp=null,Np=Dl.next();fp!==null&&!Np.done;Zu++,Np=Dl.next()){fp.index>Zu?(Lp=fp,fp=null):Lp=fp.sibling;var zp=In(Yl,fp,Np.value,Zl);if(zp===null){fp===null&&(fp=Lp);break}e&&fp&&zp.alternate===null&&o(Yl,fp),Ul=g(zp,Ul,Zu),Uu===null?Ju=zp:Uu.sibling=zp,Uu=zp,fp=Lp}if(Np.done)return a(Yl,fp),I&&tg(Yl,Zu),Ju;if(fp===null){for(;!Np.done;Zu++,Np=Dl.next())Np=nt(Yl,Np.value,Zl),Np!==null&&(Ul=g(Np,Ul,Zu),Uu===null?Ju=Np:Uu.sibling=Np,Uu=Np);return I&&tg(Yl,Zu),Ju}for(fp=c(Yl,fp);!Np.done;Zu++,Np=Dl.next())Np=xl(fp,Yl,Zu,Np.value,Zl),Np!==null&&(e&&Np.alternate!==null&&fp.delete(Np.key===null?Zu:Np.key),Ul=g(Np,Ul,Zu),Uu===null?Ju=Np:Uu.sibling=Np,Uu=Np);return e&&fp.forEach(function(h0){return o(Yl,h0)}),I&&tg(Yl,Zu),Ju}function _u(Yl,Ul,Dl,Zl){if(typeof Dl=="object"&&Dl!==null&&Dl.type===ya$2&&Dl.key===null&&(Dl=Dl.props.children),typeof Dl=="object"&&Dl!==null){switch(Dl.$$typeof){case va$2:e:{for(var Ju=Dl.key,Uu=Ul;Uu!==null;){if(Uu.key===Ju){if(Ju=Dl.type,Ju===ya$2){if(Uu.tag===7){a(Yl,Uu.sibling),Ul=d(Uu,Dl.props.children),Ul.return=Yl,Yl=Ul;break e}}else if(Uu.elementType===Ju||typeof Ju=="object"&&Ju!==null&&Ju.$$typeof===Ha$2&&Ng(Ju)===Uu.type){a(Yl,Uu.sibling),Ul=d(Uu,Dl.props),Ul.ref=Lg(Yl,Uu,Dl),Ul.return=Yl,Yl=Ul;break e}a(Yl,Uu);break}else o(Yl,Uu);Uu=Uu.sibling}Dl.type===ya$2?(Ul=Tg(Dl.props.children,Yl.mode,Zl,Dl.key),Ul.return=Yl,Yl=Ul):(Zl=Rg(Dl.type,Dl.key,Dl.props,null,Yl.mode,Zl),Zl.ref=Lg(Yl,Ul,Dl),Zl.return=Yl,Yl=Zl)}return b(Yl);case wa$2:e:{for(Uu=Dl.key;Ul!==null;){if(Ul.key===Uu)if(Ul.tag===4&&Ul.stateNode.containerInfo===Dl.containerInfo&&Ul.stateNode.implementation===Dl.implementation){a(Yl,Ul.sibling),Ul=d(Ul,Dl.children||[]),Ul.return=Yl,Yl=Ul;break e}else{a(Yl,Ul);break}else o(Yl,Ul);Ul=Ul.sibling}Ul=Sg(Dl,Yl.mode,Zl),Ul.return=Yl,Yl=Ul}return b(Yl);case Ha$2:return Uu=Dl._init,_u(Yl,Ul,Uu(Dl._payload),Zl)}if(eb(Dl))return Ll(Yl,Ul,Dl,Zl);if(Ka$1(Dl))return Nl(Yl,Ul,Dl,Zl);Mg(Yl,Dl)}return typeof Dl=="string"&&Dl!==""||typeof Dl=="number"?(Dl=""+Dl,Ul!==null&&Ul.tag===6?(a(Yl,Ul.sibling),Ul=d(Ul,Dl),Ul.return=Yl,Yl=Ul):(a(Yl,Ul),Ul=Qg(Dl,Yl.mode,Zl),Ul.return=Yl,Yl=Ul),b(Yl)):a(Yl,Ul)}return _u}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var o=Wg.current;E(Wg),e._currentValue=o}function bh(e,o,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&o)!==o?(e.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),e===a)break;e=e.return}}function ch$1(e,o){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&o&&(dh=!0),e.firstContext=null)}function eh(e){var o=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:o,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return o}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,o,a,c){var d=o.interleaved;return d===null?(a.next=a,gh(o)):(a.next=d.next,d.next=a),o.interleaved=a,ih(e,c)}function ih(e,o){e.lanes|=o;var a=e.alternate;for(a!==null&&(a.lanes|=o),a=e,e=e.return;e!==null;)e.childLanes|=o,a=e.alternate,a!==null&&(a.childLanes|=o),a=e,e=e.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,o){e=e.updateQueue,o.updateQueue===e&&(o.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,o){return{eventTime:e,lane:o,tag:0,payload:null,callback:null,next:null}}function nh(e,o,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,K&2){var d=c.pending;return d===null?o.next=o:(o.next=d.next,d.next=o),c.pending=o,ih(e,a)}return d=c.interleaved,d===null?(o.next=o,gh(c)):(o.next=d.next,d.next=o),c.interleaved=o,ih(e,a)}function oh(e,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var c=o.lanes;c&=e.pendingLanes,a|=c,o.lanes=a,Cc$1(e,a)}}function ph(e,o){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=b:g=g.next=b,a=a.next}while(a!==null);g===null?d=g=o:g=g.next=o}else d=g=o;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=o:e.next=o,a.lastBaseUpdate=o}function qh(e,o,a,c){var d=e.updateQueue;jh=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var $=_,j=$.next;$.next=null,b===null?g=j:b.next=j,b=$;var rt=e.alternate;rt!==null&&(rt=rt.updateQueue,_=rt.lastBaseUpdate,_!==b&&(_===null?rt.firstBaseUpdate=j:_.next=j,rt.lastBaseUpdate=$))}if(g!==null){var nt=d.baseState;b=0,rt=j=$=null,_=g;do{var In=_.lane,xl=_.eventTime;if((c&In)===In){rt!==null&&(rt=rt.next={eventTime:xl,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var Ll=e,Nl=_;switch(In=o,xl=a,Nl.tag){case 1:if(Ll=Nl.payload,typeof Ll=="function"){nt=Ll.call(xl,nt,In);break e}nt=Ll;break e;case 3:Ll.flags=Ll.flags&-65537|128;case 0:if(Ll=Nl.payload,In=typeof Ll=="function"?Ll.call(xl,nt,In):Ll,In==null)break e;nt=A({},nt,In);break e;case 2:jh=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,In=d.effects,In===null?d.effects=[_]:In.push(_))}else xl={eventTime:xl,lane:In,tag:_.tag,payload:_.payload,callback:_.callback,next:null},rt===null?(j=rt=xl,$=nt):rt=rt.next=xl,b|=In;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;In=_,_=In.next,In.next=null,d.lastBaseUpdate=In,d.shared.pending=null}}while(!0);if(rt===null&&($=nt),d.baseState=$,d.firstBaseUpdate=j,d.lastBaseUpdate=rt,o=d.shared.interleaved,o!==null){d=o;do b|=d.lane,d=d.next;while(d!==o)}else g===null&&(d.shared.lanes=0);rh|=b,e.lanes=b,e.memoizedState=nt}}function sh(e,o,a){if(e=o.effects,o.effects=null,e!==null)for(o=0;o<e.length;o++){var c=e[o],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(p$1(191,d));d.call(c)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p$1(174));return e}function yh(e,o){switch(G(wh,o),G(vh,e),G(uh,th),e=o.nodeType,e){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:e=e===8?o.parentNode:o,o=e.namespaceURI||null,e=e.tagName,o=lb(o,e)}E(uh),G(uh,o)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var o=xh(uh.current),a=lb(o,e.type);o!==a&&(G(vh,e),G(uh,a))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var o=e;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$2.ReactCurrentDispatcher,Gh=ua$2.ReactCurrentBatchConfig,Hh=0,M=null,N$2=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(e,o){if(o===null)return!1;for(var a=0;a<o.length&&a<e.length;a++)if(!He$2(e[a],o[a]))return!1;return!0}function Nh(e,o,a,c,d,g){if(Hh=g,M=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=a(c,d),Jh){g=0;do{if(Jh=!1,Kh=0,25<=g)throw Error(p$1(301));g+=1,O=N$2=null,o.updateQueue=null,Fh.current=Qh,e=a(c,d)}while(Jh)}if(Fh.current=Rh,o=N$2!==null&&N$2.next!==null,Hh=0,O=N$2=M=null,Ih=!1,o)throw Error(p$1(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N$2===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N$2.next;var o=O===null?M.memoizedState:O.next;if(o!==null)O=o,N$2=e;else{if(e===null)throw Error(p$1(310));N$2=e,e={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,o){return typeof o=="function"?o(e):o}function Wh(e){var o=Uh(),a=o.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=e;var c=N$2,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var _=b=null,$=null,j=g;do{var rt=j.lane;if((Hh&rt)===rt)$!==null&&($=$.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:e(c,j.action);else{var nt={lane:rt,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};$===null?(_=$=nt,b=c):$=$.next=nt,M.lanes|=rt,rh|=rt}j=j.next}while(j!==null&&j!==g);$===null?b=c:$.next=_,He$2(c,o.memoizedState)||(dh=!0),o.memoizedState=c,o.baseState=b,o.baseQueue=$,a.lastRenderedState=c}if(e=a.interleaved,e!==null){d=e;do g=d.lane,M.lanes|=g,rh|=g,d=d.next;while(d!==e)}else d===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function Xh(e){var o=Uh(),a=o.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=e;var c=a.dispatch,d=a.pending,g=o.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do g=e(g,b.action),b=b.next;while(b!==d);He$2(g,o.memoizedState)||(dh=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),a.lastRenderedState=g}return[g,c]}function Yh(){}function Zh(e,o){var a=M,c=Uh(),d=o(),g=!He$2(c.memoizedState,d);if(g&&(c.memoizedState=d,dh=!0),c=c.queue,$h(ai$2.bind(null,a,c,e),[e]),c.getSnapshot!==o||g||O!==null&&O.memoizedState.tag&1){if(a.flags|=2048,bi$2(9,ci$2.bind(null,a,c,d,o),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di$1(a,o,d)}return d}function di$1(e,o,a){e.flags|=16384,e={getSnapshot:o,value:a},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.stores=[e]):(a=o.stores,a===null?o.stores=[e]:a.push(e))}function ci$2(e,o,a,c){o.value=a,o.getSnapshot=c,ei$1(o)&&fi$1(e)}function ai$2(e,o,a){return a(function(){ei$1(o)&&fi$1(e)})}function ei$1(e){var o=e.getSnapshot;e=e.value;try{var a=o();return!He$2(e,a)}catch{return!0}}function fi$1(e){var o=ih(e,1);o!==null&&gi$1(o,e,1,-1)}function hi$2(e){var o=Th();return typeof e=="function"&&(e=e()),o.memoizedState=o.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},o.queue=e,e=e.dispatch=ii$1.bind(null,M,e),[o.memoizedState,e]}function bi$2(e,o,a,c){return e={tag:e,create:o,destroy:a,deps:c,next:null},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.lastEffect=e.next=e):(a=o.lastEffect,a===null?o.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,o.lastEffect=e)),e}function ji$2(){return Uh().memoizedState}function ki$2(e,o,a,c){var d=Th();M.flags|=e,d.memoizedState=bi$2(1|o,a,void 0,c===void 0?null:c)}function li$3(e,o,a,c){var d=Uh();c=c===void 0?null:c;var g=void 0;if(N$2!==null){var b=N$2.memoizedState;if(g=b.destroy,c!==null&&Mh(c,b.deps)){d.memoizedState=bi$2(o,a,g,c);return}}M.flags|=e,d.memoizedState=bi$2(1|o,a,g,c)}function mi$1(e,o){return ki$2(8390656,8,e,o)}function $h(e,o){return li$3(2048,8,e,o)}function ni$1(e,o){return li$3(4,2,e,o)}function oi$1(e,o){return li$3(4,4,e,o)}function pi$1(e,o){if(typeof o=="function")return e=e(),o(e),function(){o(null)};if(o!=null)return e=e(),o.current=e,function(){o.current=null}}function qi$2(e,o,a){return a=a!=null?a.concat([e]):null,li$3(4,4,pi$1.bind(null,o,e),a)}function ri$2(){}function si$1(e,o){var a=Uh();o=o===void 0?null:o;var c=a.memoizedState;return c!==null&&o!==null&&Mh(o,c[1])?c[0]:(a.memoizedState=[e,o],e)}function ti$2(e,o){var a=Uh();o=o===void 0?null:o;var c=a.memoizedState;return c!==null&&o!==null&&Mh(o,c[1])?c[0]:(e=e(),a.memoizedState=[e,o],e)}function ui$2(e,o,a){return Hh&21?(He$2(a,o)||(a=yc$1(),M.lanes|=a,rh|=a,e.baseState=!0),o):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=a)}function vi$1(e,o){var a=C;C=a!==0&&4>a?a:4,e(!0);var c=Gh.transition;Gh.transition={};try{e(!1),o()}finally{C=a,Gh.transition=c}}function wi$2(){return Uh().memoizedState}function xi$1(e,o,a){var c=yi$2(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},zi$2(e))Ai$2(o,a);else if(a=hh(e,o,a,c),a!==null){var d=R();gi$1(a,e,c,d),Bi$2(a,o,c)}}function ii$1(e,o,a){var c=yi$2(e),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi$2(e))Ai$2(o,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var b=o.lastRenderedState,_=g(b,a);if(d.hasEagerState=!0,d.eagerState=_,He$2(_,b)){var $=o.interleaved;$===null?(d.next=d,gh(o)):(d.next=$.next,$.next=d),o.interleaved=d;return}}catch{}finally{}a=hh(e,o,d,c),a!==null&&(d=R(),gi$1(a,e,c,d),Bi$2(a,o,c))}}function zi$2(e){var o=e.alternate;return e===M||o!==null&&o===M}function Ai$2(e,o){Jh=Ih=!0;var a=e.pending;a===null?o.next=o:(o.next=a.next,a.next=o),e.pending=o}function Bi$2(e,o,a){if(a&4194240){var c=o.lanes;c&=e.pendingLanes,a|=c,o.lanes=a,Cc$1(e,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,o){return Th().memoizedState=[e,o===void 0?null:o],e},useContext:eh,useEffect:mi$1,useImperativeHandle:function(e,o,a){return a=a!=null?a.concat([e]):null,ki$2(4194308,4,pi$1.bind(null,o,e),a)},useLayoutEffect:function(e,o){return ki$2(4194308,4,e,o)},useInsertionEffect:function(e,o){return ki$2(4,2,e,o)},useMemo:function(e,o){var a=Th();return o=o===void 0?null:o,e=e(),a.memoizedState=[e,o],e},useReducer:function(e,o,a){var c=Th();return o=a!==void 0?a(o):o,c.memoizedState=c.baseState=o,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},c.queue=e,e=e.dispatch=xi$1.bind(null,M,e),[c.memoizedState,e]},useRef:function(e){var o=Th();return e={current:e},o.memoizedState=e},useState:hi$2,useDebugValue:ri$2,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi$2(!1),o=e[0];return e=vi$1.bind(null,e[1]),Th().memoizedState=e,[o,e]},useMutableSource:function(){},useSyncExternalStore:function(e,o,a){var c=M,d=Th();if(I){if(a===void 0)throw Error(p$1(407));a=a()}else{if(a=o(),Q===null)throw Error(p$1(349));Hh&30||di$1(c,o,a)}d.memoizedState=a;var g={value:a,getSnapshot:o};return d.queue=g,mi$1(ai$2.bind(null,c,g,e),[e]),c.flags|=2048,bi$2(9,ci$2.bind(null,c,g,a,o),void 0,null),a},useId:function(){var e=Th(),o=Q.identifierPrefix;if(I){var a=sg,c=rg;a=(c&~(1<<32-oc$1(c)-1)).toString(32)+a,o=":"+o+"R"+a,a=Kh++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=Lh++,o=":"+o+"r"+a.toString(32)+":";return e.memoizedState=o},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$2,useReducer:Wh,useRef:ji$2,useState:function(){return Wh(Vh)},useDebugValue:ri$2,useDeferredValue:function(e){var o=Uh();return ui$2(o,N$2.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],o=Uh().memoizedState;return[e,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$2,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$2,useReducer:Xh,useRef:ji$2,useState:function(){return Xh(Vh)},useDebugValue:ri$2,useDeferredValue:function(e){var o=Uh();return N$2===null?o.memoizedState=e:ui$2(o,N$2.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],o=Uh().memoizedState;return[e,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$2,unstable_isNewReconciler:!1};function Ci$2(e,o){if(e&&e.defaultProps){o=A({},o),e=e.defaultProps;for(var a in e)o[a]===void 0&&(o[a]=e[a]);return o}return o}function Di$2(e,o,a,c){o=e.memoizedState,a=a(c,o),a=a==null?o:A({},o,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ei$1={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,o,a){e=e._reactInternals;var c=R(),d=yi$2(e),g=mh(c,d);g.payload=o,a!=null&&(g.callback=a),o=nh(e,g,d),o!==null&&(gi$1(o,e,d,c),oh(o,e,d))},enqueueReplaceState:function(e,o,a){e=e._reactInternals;var c=R(),d=yi$2(e),g=mh(c,d);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=nh(e,g,d),o!==null&&(gi$1(o,e,d,c),oh(o,e,d))},enqueueForceUpdate:function(e,o){e=e._reactInternals;var a=R(),c=yi$2(e),d=mh(a,c);d.tag=2,o!=null&&(d.callback=o),o=nh(e,d,c),o!==null&&(gi$1(o,e,c,a),oh(o,e,c))}};function Fi$2(e,o,a,c,d,g,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,b):o.prototype&&o.prototype.isPureReactComponent?!Ie$2(a,c)||!Ie$2(d,g):!0}function Gi$2(e,o,a){var c=!1,d=Vf,g=o.contextType;return typeof g=="object"&&g!==null?g=eh(g):(d=Zf(o)?Xf:H.current,c=o.contextTypes,g=(c=c!=null)?Yf(e,d):Vf),o=new o(a,g),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ei$1,e.stateNode=o,o._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=g),o}function Hi$2(e,o,a,c){e=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,c),o.state!==e&&Ei$1.enqueueReplaceState(o,o.state,null)}function Ii$2(e,o,a,c){var d=e.stateNode;d.props=a,d.state=e.memoizedState,d.refs={},kh(e);var g=o.contextType;typeof g=="object"&&g!==null?d.context=eh(g):(g=Zf(o)?Xf:H.current,d.context=Yf(e,g)),d.state=e.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(Di$2(e,o,g,a),d.state=e.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(o=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),o!==d.state&&Ei$1.enqueueReplaceState(d,d.state,null),qh(e,a,d,c),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Ji$2(e,o){try{var a="",c=o;do a+=Pa$2(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:o,stack:d,digest:null}}function Ki$2(e,o,a){return{value:e,source:null,stack:a??null,digest:o??null}}function Li$2(e,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var Mi$2=typeof WeakMap=="function"?WeakMap:Map;function Ni$2(e,o,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var c=o.value;return a.callback=function(){Oi$2||(Oi$2=!0,Pi$2=c),Li$2(e,o)},a}function Qi$2(e,o,a){a=mh(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;a.payload=function(){return c(d)},a.callback=function(){Li$2(e,o)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Li$2(e,o),typeof c!="function"&&(Ri$2===null?Ri$2=new Set([this]):Ri$2.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),a}function Si$2(e,o,a){var c=e.pingCache;if(c===null){c=e.pingCache=new Mi$2;var d=new Set;c.set(o,d)}else d=c.get(o),d===void 0&&(d=new Set,c.set(o,d));d.has(a)||(d.add(a),e=Ti$2.bind(null,e,o,a),o.then(e,e))}function Ui$2(e){do{var o;if((o=e.tag===13)&&(o=e.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return e;e=e.return}while(e!==null);return null}function Vi$2(e,o,a,c,d){return e.mode&1?(e.flags|=65536,e.lanes=d,e):(e===o?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=mh(-1,1),o.tag=2,nh(a,o,1))),a.lanes|=1),e)}var Wi$2=ua$2.ReactCurrentOwner,dh=!1;function Xi$2(e,o,a,c){o.child=e===null?Vg(o,null,a,c):Ug(o,e.child,a,c)}function Yi$2(e,o,a,c,d){a=a.render;var g=o.ref;return ch$1(o,d),c=Nh(e,o,a,c,g,d),a=Sh(),e!==null&&!dh?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~d,Zi$2(e,o,d)):(I&&a&&vg(o),o.flags|=1,Xi$2(e,o,c,d),o.child)}function $i$2(e,o,a,c,d){if(e===null){var g=a.type;return typeof g=="function"&&!aj(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=g,bj(e,o,g,c,d)):(e=Rg(a.type,null,c,o,o.mode,d),e.ref=o.ref,e.return=o,o.child=e)}if(g=e.child,!(e.lanes&d)){var b=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ie$2,a(b,c)&&e.ref===o.ref)return Zi$2(e,o,d)}return o.flags|=1,e=Pg(g,c),e.ref=o.ref,e.return=o,o.child=e}function bj(e,o,a,c,d){if(e!==null){var g=e.memoizedProps;if(Ie$2(g,c)&&e.ref===o.ref)if(dh=!1,o.pendingProps=c=g,(e.lanes&d)!==0)e.flags&131072&&(dh=!0);else return o.lanes=e.lanes,Zi$2(e,o,d)}return cj(e,o,a,c,d)}function dj(e,o,a){var c=o.pendingProps,d=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=a;else{if(!(a&1073741824))return e=g!==null?g.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:e,cachePool:null,transitions:null},o.updateQueue=null,G(ej,fj),fj|=e,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,G(ej,fj),fj|=c}else g!==null?(c=g.baseLanes|a,o.memoizedState=null):c=a,G(ej,fj),fj|=c;return Xi$2(e,o,d,a),o.child}function gj(e,o){var a=o.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function cj(e,o,a,c,d){var g=Zf(a)?Xf:H.current;return g=Yf(o,g),ch$1(o,d),a=Nh(e,o,a,c,g,d),c=Sh(),e!==null&&!dh?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~d,Zi$2(e,o,d)):(I&&c&&vg(o),o.flags|=1,Xi$2(e,o,a,d),o.child)}function hj(e,o,a,c,d){if(Zf(a)){var g=!0;cg(o)}else g=!1;if(ch$1(o,d),o.stateNode===null)ij(e,o),Gi$2(o,a,c),Ii$2(o,a,c,d),c=!0;else if(e===null){var b=o.stateNode,_=o.memoizedProps;b.props=_;var $=b.context,j=a.contextType;typeof j=="object"&&j!==null?j=eh(j):(j=Zf(a)?Xf:H.current,j=Yf(o,j));var rt=a.getDerivedStateFromProps,nt=typeof rt=="function"||typeof b.getSnapshotBeforeUpdate=="function";nt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==c||$!==j)&&Hi$2(o,b,c,j),jh=!1;var In=o.memoizedState;b.state=In,qh(o,c,b,d),$=o.memoizedState,_!==c||In!==$||Wf.current||jh?(typeof rt=="function"&&(Di$2(o,a,rt,c),$=o.memoizedState),(_=jh||Fi$2(o,a,_,c,In,$,j))?(nt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=$),b.props=c,b.state=$,b.context=j,c=_):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{b=o.stateNode,lh(e,o),_=o.memoizedProps,j=o.type===o.elementType?_:Ci$2(o.type,_),b.props=j,nt=o.pendingProps,In=b.context,$=a.contextType,typeof $=="object"&&$!==null?$=eh($):($=Zf(a)?Xf:H.current,$=Yf(o,$));var xl=a.getDerivedStateFromProps;(rt=typeof xl=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==nt||In!==$)&&Hi$2(o,b,c,$),jh=!1,In=o.memoizedState,b.state=In,qh(o,c,b,d);var Ll=o.memoizedState;_!==nt||In!==Ll||Wf.current||jh?(typeof xl=="function"&&(Di$2(o,a,xl,c),Ll=o.memoizedState),(j=jh||Fi$2(o,a,j,c,In,Ll,$)||!1)?(rt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,Ll,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,Ll,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===e.memoizedProps&&In===e.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&In===e.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=Ll),b.props=c,b.state=Ll,b.context=$,c=j):(typeof b.componentDidUpdate!="function"||_===e.memoizedProps&&In===e.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&In===e.memoizedState||(o.flags|=1024),c=!1)}return jj(e,o,a,c,g,d)}function jj(e,o,a,c,d,g){gj(e,o);var b=(o.flags&128)!==0;if(!c&&!b)return d&&dg(o,a,!1),Zi$2(e,o,g);c=o.stateNode,Wi$2.current=o;var _=b&&typeof a.getDerivedStateFromError!="function"?null:c.render();return o.flags|=1,e!==null&&b?(o.child=Ug(o,e.child,null,g),o.child=Ug(o,null,_,g)):Xi$2(e,o,_,g),o.memoizedState=c.state,d&&dg(o,a,!0),o.child}function kj(e){var o=e.stateNode;o.pendingContext?ag(e,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(e,o.context,!1),yh(e,o.containerInfo)}function lj(e,o,a,c,d){return Ig(),Jg(d),o.flags|=256,Xi$2(e,o,a,c),o.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,o,a){var c=o.pendingProps,d=L.current,g=!1,b=(o.flags&128)!==0,_;if((_=b)||(_=e!==null&&e.memoizedState===null?!1:(d&2)!==0),_?(g=!0,o.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),G(L,d&1),e===null)return Eg(o),e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(o.mode&1?e.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(b=c.children,e=c.fallback,g?(c=o.mode,g=o.child,b={mode:"hidden",children:b},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=b):g=pj(b,c,0,null),e=Tg(e,c,a,null),g.return=o,e.return=o,g.sibling=e,o.child=g,o.child.memoizedState=nj(a),o.memoizedState=mj,e):qj(o,b));if(d=e.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return rj(e,o,b,c,_,d,a);if(g){g=c.fallback,b=o.mode,d=e.child,_=d.sibling;var $={mode:"hidden",children:c.children};return!(b&1)&&o.child!==d?(c=o.child,c.childLanes=0,c.pendingProps=$,o.deletions=null):(c=Pg(d,$),c.subtreeFlags=d.subtreeFlags&14680064),_!==null?g=Pg(_,g):(g=Tg(g,b,a,null),g.flags|=2),g.return=o,c.return=o,c.sibling=g,o.child=c,c=g,g=o.child,b=e.child.memoizedState,b=b===null?nj(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=e.childLanes&~a,o.memoizedState=mj,c}return g=e.child,e=g.sibling,c=Pg(g,{mode:"visible",children:c.children}),!(o.mode&1)&&(c.lanes=a),c.return=o,c.sibling=null,e!==null&&(a=o.deletions,a===null?(o.deletions=[e],o.flags|=16):a.push(e)),o.child=c,o.memoizedState=null,c}function qj(e,o){return o=pj({mode:"visible",children:o},e.mode,0,null),o.return=e,e.child=o}function sj(e,o,a,c){return c!==null&&Jg(c),Ug(o,e.child,null,a),e=qj(o,o.pendingProps.children),e.flags|=2,o.memoizedState=null,e}function rj(e,o,a,c,d,g,b){if(a)return o.flags&256?(o.flags&=-257,c=Ki$2(Error(p$1(422))),sj(e,o,b,c)):o.memoizedState!==null?(o.child=e.child,o.flags|=128,null):(g=c.fallback,d=o.mode,c=pj({mode:"visible",children:c.children},d,0,null),g=Tg(g,d,b,null),g.flags|=2,c.return=o,g.return=o,c.sibling=g,o.child=c,o.mode&1&&Ug(o,e.child,null,b),o.child.memoizedState=nj(b),o.memoizedState=mj,g);if(!(o.mode&1))return sj(e,o,b,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var _=c.dgst;return c=_,g=Error(p$1(419)),c=Ki$2(g,c,void 0),sj(e,o,b,c)}if(_=(b&e.childLanes)!==0,dh||_){if(c=Q,c!==null){switch(b&-b){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|b)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,ih(e,d),gi$1(c,e,d,-1))}return tj(),c=Ki$2(Error(p$1(421))),sj(e,o,b,c)}return d.data==="$?"?(o.flags|=128,o.child=e.child,o=uj.bind(null,e),d._reactRetry=o,null):(e=g.treeContext,yg=Lf(d.nextSibling),xg=o,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=o),o=qj(o,c.children),o.flags|=4096,o)}function vj(e,o,a){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o),bh(e.return,o,a)}function wj(e,o,a,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function xj(e,o,a){var c=o.pendingProps,d=c.revealOrder,g=c.tail;if(Xi$2(e,o,c.children,a),c=L.current,c&2)c=c&1|2,o.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=o.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,a,o);else if(e.tag===19)vj(e,a,o);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break e;for(;e.sibling===null;){if(e.return===null||e.return===o)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(G(L,c),!(o.mode&1))o.memoizedState=null;else switch(d){case"forwards":for(a=o.child,d=null;a!==null;)e=a.alternate,e!==null&&Ch(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=o.child,o.child=null):(d=a.sibling,a.sibling=null),wj(o,!1,d,a,g);break;case"backwards":for(a=null,d=o.child,o.child=null;d!==null;){if(e=d.alternate,e!==null&&Ch(e)===null){o.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}wj(o,!0,a,null,g);break;case"together":wj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ij(e,o){!(o.mode&1)&&e!==null&&(e.alternate=null,o.alternate=null,o.flags|=2)}function Zi$2(e,o,a){if(e!==null&&(o.dependencies=e.dependencies),rh|=o.lanes,!(a&o.childLanes))return null;if(e!==null&&o.child!==e.child)throw Error(p$1(153));if(o.child!==null){for(e=o.child,a=Pg(e,e.pendingProps),o.child=a,a.return=o;e.sibling!==null;)e=e.sibling,a=a.sibling=Pg(e,e.pendingProps),a.return=o;a.sibling=null}return o.child}function yj(e,o,a){switch(o.tag){case 3:kj(o),Ig();break;case 5:Ah(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:yh(o,o.stateNode.containerInfo);break;case 10:var c=o.type._context,d=o.memoizedProps.value;G(Wg,c._currentValue),c._currentValue=d;break;case 13:if(c=o.memoizedState,c!==null)return c.dehydrated!==null?(G(L,L.current&1),o.flags|=128,null):a&o.child.childLanes?oj(e,o,a):(G(L,L.current&1),e=Zi$2(e,o,a),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(c=(a&o.childLanes)!==0,e.flags&128){if(c)return xj(e,o,a);o.flags|=128}if(d=o.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(L,L.current),c)break;return null;case 22:case 23:return o.lanes=0,dj(e,o,a)}return Zi$2(e,o,a)}var zj,Aj,Bj,Cj;zj=function(e,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(e,o,a,c){var d=e.memoizedProps;if(d!==c){e=o.stateNode,xh(uh.current);var g=null;switch(a){case"input":d=Ya$2(e,d),c=Ya$2(e,c),g=[];break;case"select":d=A({},d,{value:void 0}),c=A({},c,{value:void 0}),g=[];break;case"textarea":d=gb(e,d),c=gb(e,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Bf)}ub(a,c);var b;a=null;for(j in d)if(!c.hasOwnProperty(j)&&d.hasOwnProperty(j)&&d[j]!=null)if(j==="style"){var _=d[j];for(b in _)_.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea$2.hasOwnProperty(j)?g||(g=[]):(g=g||[]).push(j,null));for(j in c){var $=c[j];if(_=d!=null?d[j]:void 0,c.hasOwnProperty(j)&&$!==_&&($!=null||_!=null))if(j==="style")if(_){for(b in _)!_.hasOwnProperty(b)||$&&$.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in $)$.hasOwnProperty(b)&&_[b]!==$[b]&&(a||(a={}),a[b]=$[b])}else a||(g||(g=[]),g.push(j,a)),a=$;else j==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,_=_?_.__html:void 0,$!=null&&_!==$&&(g=g||[]).push(j,$)):j==="children"?typeof $!="string"&&typeof $!="number"||(g=g||[]).push(j,""+$):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty(j)?($!=null&&j==="onScroll"&&D$1("scroll",e),g||_===$||(g=[])):(g=g||[]).push(j,$))}a&&(g=g||[]).push("style",a);var j=g;(o.updateQueue=j)&&(o.flags|=4)}};Cj=function(e,o,a,c){a!==c&&(o.flags|=4)};function Dj(e,o){if(!I)switch(e.tailMode){case"hidden":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function S$1(e){var o=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(o)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=a,o}function Ej(e,o,a){var c=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(o),null;case 1:return Zf(o.type)&&$f(),S$1(o),null;case 3:return c=o.stateNode,zh(),E(Wf),E(H),Eh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Gg(o)?o.flags|=4:e===null||e.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,o),S$1(o),null;case 5:Bh(o);var d=xh(wh.current);if(a=o.type,e!==null&&o.stateNode!=null)Bj(e,o,a,c,d),e.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!c){if(o.stateNode===null)throw Error(p$1(166));return S$1(o),null}if(e=xh(uh.current),Gg(o)){c=o.stateNode,a=o.type;var g=o.memoizedProps;switch(c[Of]=o,c[Pf]=g,e=(o.mode&1)!==0,a){case"dialog":D$1("cancel",c),D$1("close",c);break;case"iframe":case"object":case"embed":D$1("load",c);break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],c);break;case"source":D$1("error",c);break;case"img":case"image":case"link":D$1("error",c),D$1("load",c);break;case"details":D$1("toggle",c);break;case"input":Za$1(c,g),D$1("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},D$1("invalid",c);break;case"textarea":hb(c,g),D$1("invalid",c)}ub(a,g),d=null;for(var b in g)if(g.hasOwnProperty(b)){var _=g[b];b==="children"?typeof _=="string"?c.textContent!==_&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,_,e),d=["children",_]):typeof _=="number"&&c.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,_,e),d=["children",""+_]):ea$2.hasOwnProperty(b)&&_!=null&&b==="onScroll"&&D$1("scroll",c)}switch(a){case"input":Va$1(c),db(c,g,!0);break;case"textarea":Va$1(c),jb(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Bf)}c=d,o.updateQueue=c,c!==null&&(o.flags|=4)}else{b=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=b.createElement(a,{is:c.is}):(e=b.createElement(a),a==="select"&&(b=e,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):e=b.createElementNS(e,a),e[Of]=o,e[Pf]=c,zj(e,o,!1,!1),o.stateNode=e;e:{switch(b=vb(a,c),a){case"dialog":D$1("cancel",e),D$1("close",e),d=c;break;case"iframe":case"object":case"embed":D$1("load",e),d=c;break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],e);d=c;break;case"source":D$1("error",e),d=c;break;case"img":case"image":case"link":D$1("error",e),D$1("load",e),d=c;break;case"details":D$1("toggle",e),d=c;break;case"input":Za$1(e,c),d=Ya$2(e,c),D$1("invalid",e);break;case"option":d=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},d=A({},c,{value:void 0}),D$1("invalid",e);break;case"textarea":hb(e,c),d=gb(e,c),D$1("invalid",e);break;default:d=c}ub(a,d),_=d;for(g in _)if(_.hasOwnProperty(g)){var $=_[g];g==="style"?sb(e,$):g==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&nb(e,$)):g==="children"?typeof $=="string"?(a!=="textarea"||$!=="")&&ob(e,$):typeof $=="number"&&ob(e,""+$):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea$2.hasOwnProperty(g)?$!=null&&g==="onScroll"&&D$1("scroll",e):$!=null&&ta$2(e,g,$,b))}switch(a){case"input":Va$1(e),db(e,c,!1);break;case"textarea":Va$1(e),jb(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Sa$2(c.value));break;case"select":e.multiple=!!c.multiple,g=c.value,g!=null?fb(e,!!c.multiple,g,!1):c.defaultValue!=null&&fb(e,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S$1(o),null;case 6:if(e&&o.stateNode!=null)Cj(e,o,e.memoizedProps,c);else{if(typeof c!="string"&&o.stateNode===null)throw Error(p$1(166));if(a=xh(wh.current),xh(uh.current),Gg(o)){if(c=o.stateNode,a=o.memoizedProps,c[Of]=o,(g=c.nodeValue!==a)&&(e=xg,e!==null))switch(e.tag){case 3:Af(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,a,(e.mode&1)!==0)}g&&(o.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Of]=o,o.stateNode=c}return S$1(o),null;case 13:if(E(L),c=o.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,g=!1;else if(g=Gg(o),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(p$1(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p$1(317));g[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S$1(o),g=!1}else zg!==null&&(Fj(zg),zg=null),g=!0;if(!g)return o.flags&65536?o:null}return o.flags&128?(o.lanes=a,o):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(o.child.flags|=8192,o.mode&1&&(e===null||L.current&1?T$2===0&&(T$2=3):tj())),o.updateQueue!==null&&(o.flags|=4),S$1(o),null);case 4:return zh(),Aj(e,o),e===null&&sf(o.stateNode.containerInfo),S$1(o),null;case 10:return ah(o.type._context),S$1(o),null;case 17:return Zf(o.type)&&$f(),S$1(o),null;case 19:if(E(L),g=o.memoizedState,g===null)return S$1(o),null;if(c=(o.flags&128)!==0,b=g.rendering,b===null)if(c)Dj(g,!1);else{if(T$2!==0||e!==null&&e.flags&128)for(e=o.child;e!==null;){if(b=Ch(e),b!==null){for(o.flags|=128,Dj(g,!1),c=b.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),o.subtreeFlags=0,c=a,a=o.child;a!==null;)g=a,e=c,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,e=b.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return G(L,L.current&1|2),o.child}e=e.sibling}g.tail!==null&&B()>Gj&&(o.flags|=128,c=!0,Dj(g,!1),o.lanes=4194304)}else{if(!c)if(e=Ch(b),e!==null){if(o.flags|=128,c=!0,a=e.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),Dj(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!I)return S$1(o),null}else 2*B()-g.renderingStartTime>Gj&&a!==1073741824&&(o.flags|=128,c=!0,Dj(g,!1),o.lanes=4194304);g.isBackwards?(b.sibling=o.child,o.child=b):(a=g.last,a!==null?a.sibling=b:o.child=b,g.last=b)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=B(),o.sibling=null,a=L.current,G(L,c?a&1|2:a&1),o):(S$1(o),null);case 22:case 23:return Hj(),c=o.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(o.flags|=8192),c&&o.mode&1?fj&1073741824&&(S$1(o),o.subtreeFlags&6&&(o.flags|=8192)):S$1(o),null;case 24:return null;case 25:return null}throw Error(p$1(156,o.tag))}function Ij(e,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 3:return zh(),E(Wf),E(H),Eh(),e=o.flags,e&65536&&!(e&128)?(o.flags=e&-65537|128,o):null;case 5:return Bh(o),null;case 13:if(E(L),e=o.memoizedState,e!==null&&e.dehydrated!==null){if(o.alternate===null)throw Error(p$1(340));Ig()}return e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(o.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,o){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){W(e,o,c)}else a.current=null}function Mj(e,o,a){try{a()}catch(c){W(e,o,c)}}var Nj=!1;function Oj(e,o){if(Cf=dd,e=Me(),Ne$1(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var b=0,_=-1,$=-1,j=0,rt=0,nt=e,In=null;t:for(;;){for(var xl;nt!==a||d!==0&&nt.nodeType!==3||(_=b+d),nt!==g||c!==0&&nt.nodeType!==3||($=b+c),nt.nodeType===3&&(b+=nt.nodeValue.length),(xl=nt.firstChild)!==null;)In=nt,nt=xl;for(;;){if(nt===e)break t;if(In===a&&++j===d&&(_=b),In===g&&++rt===c&&($=b),(xl=nt.nextSibling)!==null)break;nt=In,In=nt.parentNode}nt=xl}a=_===-1||$===-1?null:{start:_,end:$}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:e,selectionRange:a},dd=!1,V=o;V!==null;)if(o=V,e=o.child,(o.subtreeFlags&1028)!==0&&e!==null)e.return=o,V=e;else for(;V!==null;){o=V;try{var Ll=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ll!==null){var Nl=Ll.memoizedProps,_u=Ll.memoizedState,Yl=o.stateNode,Ul=Yl.getSnapshotBeforeUpdate(o.elementType===o.type?Nl:Ci$2(o.type,Nl),_u);Yl.__reactInternalSnapshotBeforeUpdate=Ul}break;case 3:var Dl=o.stateNode.containerInfo;Dl.nodeType===1?Dl.textContent="":Dl.nodeType===9&&Dl.documentElement&&Dl.removeChild(Dl.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Zl){W(o,o.return,Zl)}if(e=o.sibling,e!==null){e.return=o.return,V=e;break}V=o.return}return Ll=Nj,Nj=!1,Ll}function Pj(e,o,a){var c=o.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&e)===e){var g=d.destroy;d.destroy=void 0,g!==void 0&&Mj(o,a,g)}d=d.next}while(d!==c)}}function Qj(e,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==o)}}function Rj(e){var o=e.ref;if(o!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof o=="function"?o(e):o.current=e}}function Sj(e){var o=e.alternate;o!==null&&(e.alternate=null,Sj(o)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(o=e.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,o,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,o?a.nodeType===8?a.parentNode.insertBefore(e,o):a.insertBefore(e,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore(e,a)):(o=a,o.appendChild(e)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Bf));else if(c!==4&&(e=e.child,e!==null))for(Vj(e,o,a),e=e.sibling;e!==null;)Vj(e,o,a),e=e.sibling}function Wj(e,o,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,o?a.insertBefore(e,o):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Wj(e,o,a),e=e.sibling;e!==null;)Wj(e,o,a),e=e.sibling}var X=null,Xj=!1;function Yj(e,o,a){for(a=a.child;a!==null;)Zj(e,o,a),a=a.sibling}function Zj(e,o,a){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,a)}catch{}switch(a.tag){case 5:U||Lj(a,o);case 6:var c=X,d=Xj;X=null,Yj(e,o,a),X=c,Xj=d,X!==null&&(Xj?(e=X,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Xj?(e=X,a=a.stateNode,e.nodeType===8?Kf(e.parentNode,a):e.nodeType===1&&Kf(e,a),bd(e)):Kf(X,a.stateNode));break;case 4:c=X,d=Xj,X=a.stateNode.containerInfo,Xj=!0,Yj(e,o,a),X=c,Xj=d;break;case 0:case 11:case 14:case 15:if(!U&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,b=g.destroy;g=g.tag,b!==void 0&&(g&2||g&4)&&Mj(a,o,b),d=d.next}while(d!==c)}Yj(e,o,a);break;case 1:if(!U&&(Lj(a,o),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(_){W(a,o,_)}Yj(e,o,a);break;case 21:Yj(e,o,a);break;case 22:a.mode&1?(U=(c=U)||a.memoizedState!==null,Yj(e,o,a),U=c):Yj(e,o,a);break;default:Yj(e,o,a)}}function ak(e){var o=e.updateQueue;if(o!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Kj),o.forEach(function(c){var d=bk.bind(null,e,c);a.has(c)||(a.add(c),c.then(d,d))})}}function ck(e,o){var a=o.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=e,b=o,_=b;e:for(;_!==null;){switch(_.tag){case 5:X=_.stateNode,Xj=!1;break e;case 3:X=_.stateNode.containerInfo,Xj=!0;break e;case 4:X=_.stateNode.containerInfo,Xj=!0;break e}_=_.return}if(X===null)throw Error(p$1(160));Zj(g,b,d),X=null,Xj=!1;var $=d.alternate;$!==null&&($.return=null),d.return=null}catch(j){W(d,o,j)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)dk(o,e),o=o.sibling}function dk(e,o){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(o,e),ek(e),c&4){try{Pj(3,e,e.return),Qj(3,e)}catch(Nl){W(e,e.return,Nl)}try{Pj(5,e,e.return)}catch(Nl){W(e,e.return,Nl)}}break;case 1:ck(o,e),ek(e),c&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(o,e),ek(e),c&512&&a!==null&&Lj(a,a.return),e.flags&32){var d=e.stateNode;try{ob(d,"")}catch(Nl){W(e,e.return,Nl)}}if(c&4&&(d=e.stateNode,d!=null)){var g=e.memoizedProps,b=a!==null?a.memoizedProps:g,_=e.type,$=e.updateQueue;if(e.updateQueue=null,$!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&ab(d,g),vb(_,b);var j=vb(_,g);for(b=0;b<$.length;b+=2){var rt=$[b],nt=$[b+1];rt==="style"?sb(d,nt):rt==="dangerouslySetInnerHTML"?nb(d,nt):rt==="children"?ob(d,nt):ta$2(d,rt,nt,j)}switch(_){case"input":bb(d,g);break;case"textarea":ib(d,g);break;case"select":var In=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var xl=g.value;xl!=null?fb(d,!!g.multiple,xl,!1):In!==!!g.multiple&&(g.defaultValue!=null?fb(d,!!g.multiple,g.defaultValue,!0):fb(d,!!g.multiple,g.multiple?[]:"",!1))}d[Pf]=g}catch(Nl){W(e,e.return,Nl)}}break;case 6:if(ck(o,e),ek(e),c&4){if(e.stateNode===null)throw Error(p$1(162));d=e.stateNode,g=e.memoizedProps;try{d.nodeValue=g}catch(Nl){W(e,e.return,Nl)}}break;case 3:if(ck(o,e),ek(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(Nl){W(e,e.return,Nl)}break;case 4:ck(o,e),ek(e);break;case 13:ck(o,e),ek(e),d=e.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(fk=B())),c&4&&ak(e);break;case 22:if(rt=a!==null&&a.memoizedState!==null,e.mode&1?(U=(j=U)||rt,ck(o,e),U=j):ck(o,e),ek(e),c&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!rt&&e.mode&1)for(V=e,rt=e.child;rt!==null;){for(nt=V=rt;V!==null;){switch(In=V,xl=In.child,In.tag){case 0:case 11:case 14:case 15:Pj(4,In,In.return);break;case 1:Lj(In,In.return);var Ll=In.stateNode;if(typeof Ll.componentWillUnmount=="function"){c=In,a=In.return;try{o=c,Ll.props=o.memoizedProps,Ll.state=o.memoizedState,Ll.componentWillUnmount()}catch(Nl){W(c,a,Nl)}}break;case 5:Lj(In,In.return);break;case 22:if(In.memoizedState!==null){gk(nt);continue}}xl!==null?(xl.return=In,V=xl):gk(nt)}rt=rt.sibling}e:for(rt=null,nt=e;;){if(nt.tag===5){if(rt===null){rt=nt;try{d=nt.stateNode,j?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=nt.stateNode,$=nt.memoizedProps.style,b=$!=null&&$.hasOwnProperty("display")?$.display:null,_.style.display=rb("display",b))}catch(Nl){W(e,e.return,Nl)}}}else if(nt.tag===6){if(rt===null)try{nt.stateNode.nodeValue=j?"":nt.memoizedProps}catch(Nl){W(e,e.return,Nl)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===e)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===e)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===e)break e;rt===nt&&(rt=null),nt=nt.return}rt===nt&&(rt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:ck(o,e),ek(e),c&4&&ak(e);break;case 21:break;default:ck(o,e),ek(e)}}function ek(e){var o=e.flags;if(o&2){try{e:{for(var a=e.return;a!==null;){if(Tj(a)){var c=a;break e}a=a.return}throw Error(p$1(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ob(d,""),c.flags&=-33);var g=Uj(e);Wj(e,g,d);break;case 3:case 4:var b=c.stateNode.containerInfo,_=Uj(e);Vj(e,_,b);break;default:throw Error(p$1(161))}}catch($){W(e,e.return,$)}e.flags&=-3}o&4096&&(e.flags&=-4097)}function hk(e,o,a){V=e,ik(e)}function ik(e,o,a){for(var c=(e.mode&1)!==0;V!==null;){var d=V,g=d.child;if(d.tag===22&&c){var b=d.memoizedState!==null||Jj;if(!b){var _=d.alternate,$=_!==null&&_.memoizedState!==null||U;_=Jj;var j=U;if(Jj=b,(U=$)&&!j)for(V=d;V!==null;)b=V,$=b.child,b.tag===22&&b.memoizedState!==null?jk(d):$!==null?($.return=b,V=$):jk(d);for(;g!==null;)V=g,ik(g),g=g.sibling;V=d,Jj=_,U=j}kk(e)}else d.subtreeFlags&8772&&g!==null?(g.return=d,V=g):kk(e)}}function kk(e){for(;V!==null;){var o=V;if(o.flags&8772){var a=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Qj(5,o);break;case 1:var c=o.stateNode;if(o.flags&4&&!U)if(a===null)c.componentDidMount();else{var d=o.elementType===o.type?a.memoizedProps:Ci$2(o.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&sh(o,g,c);break;case 3:var b=o.updateQueue;if(b!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}sh(o,b,a)}break;case 5:var _=o.stateNode;if(a===null&&o.flags&4){a=_;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&a.focus();break;case"img":$.src&&(a.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var j=o.alternate;if(j!==null){var rt=j.memoizedState;if(rt!==null){var nt=rt.dehydrated;nt!==null&&bd(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||o.flags&512&&Rj(o)}catch(In){W(o,o.return,In)}}if(o===e){V=null;break}if(a=o.sibling,a!==null){a.return=o.return,V=a;break}V=o.return}}function gk(e){for(;V!==null;){var o=V;if(o===e){V=null;break}var a=o.sibling;if(a!==null){a.return=o.return,V=a;break}V=o.return}}function jk(e){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{Qj(4,o)}catch($){W(o,a,$)}break;case 1:var c=o.stateNode;if(typeof c.componentDidMount=="function"){var d=o.return;try{c.componentDidMount()}catch($){W(o,d,$)}}var g=o.return;try{Rj(o)}catch($){W(o,g,$)}break;case 5:var b=o.return;try{Rj(o)}catch($){W(o,b,$)}}}catch($){W(o,o.return,$)}if(o===e){V=null;break}var _=o.sibling;if(_!==null){_.return=o.return,V=_;break}V=o.return}}var lk=Math.ceil,mk=ua$2.ReactCurrentDispatcher,nk=ua$2.ReactCurrentOwner,ok$2=ua$2.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$2=!1,Pi$2=null,Ri$2=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi$2(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc$1()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi$1(e,o,a,c){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac$1(e,a,c),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=a),T$2===4&&Ck(e,Z)),Dk(e,c),a===1&&K===0&&!(o.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,o){var a=e.callbackNode;wc$1(e,o);var c=uc$1(e,e===Q?Z:0);if(c===0)a!==null&&bc$1(a),e.callbackNode=null,e.callbackPriority=0;else if(o=c&-c,e.callbackPriority!==o){if(a!=null&&bc$1(a),o===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc$2(c)){case 1:a=fc$1;break;case 4:a=gc$1;break;case 16:a=hc$1;break;case 536870912:a=jc$1;break;default:a=hc$1}a=Fk(a,Gk.bind(null,e))}e.callbackPriority=o,e.callbackNode=a}}function Gk(e,o){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var a=e.callbackNode;if(Hk()&&e.callbackNode!==a)return null;var c=uc$1(e,e===Q?Z:0);if(c===0)return null;if(c&30||c&e.expiredLanes||o)o=Ik(e,c);else{o=c;var d=K;K|=2;var g=Jk();(Q!==e||Z!==o)&&(uk=null,Gj=B()+500,Kk(e,o));do try{Lk();break}catch(_){Mk(e,_)}while(!0);$g(),mk.current=g,K=d,Y!==null?o=0:(Q=null,Z=0,o=T$2)}if(o!==0){if(o===2&&(d=xc$1(e),d!==0&&(c=d,o=Nk(e,d))),o===1)throw a=pk,Kk(e,0),Ck(e,c),Dk(e,B()),a;if(o===6)Ck(e,c);else{if(d=e.current.alternate,!(c&30)&&!Ok(d)&&(o=Ik(e,c),o===2&&(g=xc$1(e),g!==0&&(c=g,o=Nk(e,g))),o===1))throw a=pk,Kk(e,0),Ck(e,c),Dk(e,B()),a;switch(e.finishedWork=d,e.finishedLanes=c,o){case 0:case 1:throw Error(p$1(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,c),(c&130023424)===c&&(o=fk+500-B(),10<o)){if(uc$1(e,0)!==0)break;if(d=e.suspendedLanes,(d&c)!==c){R(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 4:if(Ck(e,c),(c&4194240)===c)break;for(o=e.eventTimes,d=-1;0<c;){var b=31-oc$1(c);g=1<<b,b=o[b],b>d&&(d=b),c&=~g}if(c=d,c=B()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*lk(c/1960))-c,10<c){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),c);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(e,B()),e.callbackNode===a?Gk.bind(null,e):null}function Nk(e,o){var a=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,o).flags|=256),e=Ik(e,o),e!==2&&(o=tk,tk=a,o!==null&&Fj(o)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var o=e;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!He$2(g(),d))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ck(e,o){for(o&=~rk,o&=~qk,e.suspendedLanes|=o,e.pingedLanes&=~o,e=e.expirationTimes;0<o;){var a=31-oc$1(o),c=1<<a;e[a]=-1,o&=~c}}function Ek(e){if(K&6)throw Error(p$1(327));Hk();var o=uc$1(e,0);if(!(o&1))return Dk(e,B()),null;var a=Ik(e,o);if(e.tag!==0&&a===2){var c=xc$1(e);c!==0&&(o=c,a=Nk(e,c))}if(a===1)throw a=pk,Kk(e,0),Ck(e,o),Dk(e,B()),a;if(a===6)throw Error(p$1(345));return e.finishedWork=e.current.alternate,e.finishedLanes=o,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,o){var a=K;K|=1;try{return e(o)}finally{K=a,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var o=K;K|=1;var a=ok$2.transition,c=C;try{if(ok$2.transition=null,C=1,e)return e()}finally{C=c,ok$2.transition=a,K=o,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,o){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var c=a;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(c);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(c.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=o,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(o=0;o<fh.length;o++)if(a=fh[o],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var b=g.next;g.next=d,c.next=b}a.pending=c}fh=null}return e}function Mk(e,o){do{var a=Y;try{if($g(),Fh.current=Rh,Ih){for(var c=M.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ih=!1}if(Hh=0,O=N$2=M=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T$2=1,pk=o,Y=null;break}e:{var g=e,b=a.return,_=a,$=o;if(o=Z,_.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var j=$,rt=_,nt=rt.tag;if(!(rt.mode&1)&&(nt===0||nt===11||nt===15)){var In=rt.alternate;In?(rt.updateQueue=In.updateQueue,rt.memoizedState=In.memoizedState,rt.lanes=In.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var xl=Ui$2(b);if(xl!==null){xl.flags&=-257,Vi$2(xl,b,_,g,o),xl.mode&1&&Si$2(g,j,o),o=xl,$=j;var Ll=o.updateQueue;if(Ll===null){var Nl=new Set;Nl.add($),o.updateQueue=Nl}else Ll.add($);break e}else{if(!(o&1)){Si$2(g,j,o),tj();break e}$=Error(p$1(426))}}else if(I&&_.mode&1){var _u=Ui$2(b);if(_u!==null){!(_u.flags&65536)&&(_u.flags|=256),Vi$2(_u,b,_,g,o),Jg(Ji$2($,_));break e}}g=$=Ji$2($,_),T$2!==4&&(T$2=2),sk===null?sk=[g]:sk.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var Yl=Ni$2(g,$,o);ph(g,Yl);break e;case 1:_=$;var Ul=g.type,Dl=g.stateNode;if(!(g.flags&128)&&(typeof Ul.getDerivedStateFromError=="function"||Dl!==null&&typeof Dl.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(Dl)))){g.flags|=65536,o&=-o,g.lanes|=o;var Zl=Qi$2(g,_,o);ph(g,Zl);break e}}g=g.return}while(g!==null)}Sk(a)}catch(Ju){o=Ju,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,o){var a=K;K|=2;var c=Jk();(Q!==e||Z!==o)&&(uk=null,Kk(e,o));do try{Tk();break}catch(d){Mk(e,d)}while(!0);if($g(),K=a,mk.current=c,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T$2}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc$1();)Uk(Y)}function Uk(e){var o=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,o===null?Sk(e):Y=o,nk.current=null}function Sk(e){var o=e;do{var a=o.alternate;if(e=o.return,o.flags&32768){if(a=Ij(a,o),a!==null){a.flags&=32767,Y=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T$2=6,Y=null;return}}else if(a=Ej(a,o,fj),a!==null){Y=a;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=e}while(o!==null);T$2===0&&(T$2=5)}function Pk(e,o,a){var c=C,d=ok$2.transition;try{ok$2.transition=null,C=1,Wk(e,o,a,c)}finally{ok$2.transition=d,C=c}return null}function Wk(e,o,a,c){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));a=e.finishedWork;var d=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(p$1(177));e.callbackNode=null,e.callbackPriority=0;var g=a.lanes|a.childLanes;if(Bc$1(e,g),e===Q&&(Y=Q=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc$1,function(){return Hk(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=ok$2.transition,ok$2.transition=null;var b=C;C=1;var _=K;K|=4,nk.current=null,Oj(e,a),dk(a,e),Oe$1(Df),dd=!!Cf,Df=Cf=null,e.current=a,hk(a),dc$1(),K=_,C=b,ok$2.transition=g}else e.current=a;if(vk&&(vk=!1,wk=e,xk=d),g=e.pendingLanes,g===0&&(Ri$2=null),mc$1(a.stateNode),Dk(e,B()),o!==null)for(c=e.onRecoverableError,a=0;a<o.length;a++)d=o[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Oi$2)throw Oi$2=!1,e=Pi$2,Pi$2=null,e;return xk&1&&e.tag!==0&&Hk(),g=e.pendingLanes,g&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc$2(xk),o=ok$2.transition,a=C;try{if(ok$2.transition=null,C=16>e?16:e,wk===null)var c=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var d=K;for(K|=4,V=e.current;V!==null;){var g=V,b=g.child;if(V.flags&16){var _=g.deletions;if(_!==null){for(var $=0;$<_.length;$++){var j=_[$];for(V=j;V!==null;){var rt=V;switch(rt.tag){case 0:case 11:case 15:Pj(8,rt,g)}var nt=rt.child;if(nt!==null)nt.return=rt,V=nt;else for(;V!==null;){rt=V;var In=rt.sibling,xl=rt.return;if(Sj(rt),rt===j){V=null;break}if(In!==null){In.return=xl,V=In;break}V=xl}}}var Ll=g.alternate;if(Ll!==null){var Nl=Ll.child;if(Nl!==null){Ll.child=null;do{var _u=Nl.sibling;Nl.sibling=null,Nl=_u}while(Nl!==null)}}V=g}}if(g.subtreeFlags&2064&&b!==null)b.return=g,V=b;else e:for(;V!==null;){if(g=V,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Pj(9,g,g.return)}var Yl=g.sibling;if(Yl!==null){Yl.return=g.return,V=Yl;break e}V=g.return}}var Ul=e.current;for(V=Ul;V!==null;){b=V;var Dl=b.child;if(b.subtreeFlags&2064&&Dl!==null)Dl.return=b,V=Dl;else e:for(b=Ul;V!==null;){if(_=V,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Qj(9,_)}}catch(Ju){W(_,_.return,Ju)}if(_===b){V=null;break e}var Zl=_.sibling;if(Zl!==null){Zl.return=_.return,V=Zl;break e}V=_.return}}if(K=d,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,e)}catch{}c=!0}return c}finally{C=a,ok$2.transition=o}}return!1}function Xk(e,o,a){o=Ji$2(a,o),o=Ni$2(e,o,1),e=nh(e,o,1),o=R(),e!==null&&(Ac$1(e,1,o),Dk(e,o))}function W(e,o,a){if(e.tag===3)Xk(e,e,a);else for(;o!==null;){if(o.tag===3){Xk(o,e,a);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(c))){e=Ji$2(a,e),e=Qi$2(o,e,1),o=nh(o,e,1),e=R(),o!==null&&(Ac$1(o,1,e),Dk(o,e));break}}o=o.return}}function Ti$2(e,o,a){var c=e.pingCache;c!==null&&c.delete(o),o=R(),e.pingedLanes|=e.suspendedLanes&a,Q===e&&(Z&a)===a&&(T$2===4||T$2===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=a),Dk(e,o)}function Yk(e,o){o===0&&(e.mode&1?(o=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):o=1);var a=R();e=ih(e,o),e!==null&&(Ac$1(e,o,a),Dk(e,a))}function uj(e){var o=e.memoizedState,a=0;o!==null&&(a=o.retryLane),Yk(e,a)}function bk(e,o){var a=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(p$1(314))}c!==null&&c.delete(o),Yk(e,a)}var Vk;Vk=function(e,o,a){if(e!==null)if(e.memoizedProps!==o.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&a)&&!(o.flags&128))return dh=!1,yj(e,o,a);dh=!!(e.flags&131072)}else dh=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var c=o.type;ij(e,o),e=o.pendingProps;var d=Yf(o,H.current);ch$1(o,a),d=Nh(null,o,c,e,d,a);var g=Sh();return o.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(c)?(g=!0,cg(o)):g=!1,o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kh(o),d.updater=Ei$1,o.stateNode=d,d._reactInternals=o,Ii$2(o,c,e,a),o=jj(null,o,c,!0,g,a)):(o.tag=0,I&&g&&vg(o),Xi$2(null,o,d,a),o=o.child),o;case 16:c=o.elementType;e:{switch(ij(e,o),e=o.pendingProps,d=c._init,c=d(c._payload),o.type=c,d=o.tag=Zk(c),e=Ci$2(c,e),d){case 0:o=cj(null,o,c,e,a);break e;case 1:o=hj(null,o,c,e,a);break e;case 11:o=Yi$2(null,o,c,e,a);break e;case 14:o=$i$2(null,o,c,Ci$2(c.type,e),a);break e}throw Error(p$1(306,c,""))}return o;case 0:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Ci$2(c,d),cj(e,o,c,d,a);case 1:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Ci$2(c,d),hj(e,o,c,d,a);case 3:e:{if(kj(o),e===null)throw Error(p$1(387));c=o.pendingProps,g=o.memoizedState,d=g.element,lh(e,o),qh(o,c,null,a);var b=o.memoizedState;if(c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){d=Ji$2(Error(p$1(423)),o),o=lj(e,o,c,a,d);break e}else if(c!==d){d=Ji$2(Error(p$1(424)),o),o=lj(e,o,c,a,d);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,a=Vg(o,null,c,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),c===d){o=Zi$2(e,o,a);break e}Xi$2(e,o,c,a)}o=o.child}return o;case 5:return Ah(o),e===null&&Eg(o),c=o.type,d=o.pendingProps,g=e!==null?e.memoizedProps:null,b=d.children,Ef(c,d)?b=null:g!==null&&Ef(c,g)&&(o.flags|=32),gj(e,o),Xi$2(e,o,b,a),o.child;case 6:return e===null&&Eg(o),null;case 13:return oj(e,o,a);case 4:return yh(o,o.stateNode.containerInfo),c=o.pendingProps,e===null?o.child=Ug(o,null,c,a):Xi$2(e,o,c,a),o.child;case 11:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Ci$2(c,d),Yi$2(e,o,c,d,a);case 7:return Xi$2(e,o,o.pendingProps,a),o.child;case 8:return Xi$2(e,o,o.pendingProps.children,a),o.child;case 12:return Xi$2(e,o,o.pendingProps.children,a),o.child;case 10:e:{if(c=o.type._context,d=o.pendingProps,g=o.memoizedProps,b=d.value,G(Wg,c._currentValue),c._currentValue=b,g!==null)if(He$2(g.value,b)){if(g.children===d.children&&!Wf.current){o=Zi$2(e,o,a);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var _=g.dependencies;if(_!==null){b=g.child;for(var $=_.firstContext;$!==null;){if($.context===c){if(g.tag===1){$=mh(-1,a&-a),$.tag=2;var j=g.updateQueue;if(j!==null){j=j.shared;var rt=j.pending;rt===null?$.next=$:($.next=rt.next,rt.next=$),j.pending=$}}g.lanes|=a,$=g.alternate,$!==null&&($.lanes|=a),bh(g.return,a,o),_.lanes|=a;break}$=$.next}}else if(g.tag===10)b=g.type===o.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(p$1(341));b.lanes|=a,_=b.alternate,_!==null&&(_.lanes|=a),bh(b,a,o),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===o){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}Xi$2(e,o,d.children,a),o=o.child}return o;case 9:return d=o.type,c=o.pendingProps.children,ch$1(o,a),d=eh(d),c=c(d),o.flags|=1,Xi$2(e,o,c,a),o.child;case 14:return c=o.type,d=Ci$2(c,o.pendingProps),d=Ci$2(c.type,d),$i$2(e,o,c,d,a);case 15:return bj(e,o,o.type,o.pendingProps,a);case 17:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Ci$2(c,d),ij(e,o),o.tag=1,Zf(c)?(e=!0,cg(o)):e=!1,ch$1(o,a),Gi$2(o,c,d),Ii$2(o,c,d,a),jj(null,o,c,!0,e,a);case 19:return xj(e,o,a);case 22:return dj(e,o,a)}throw Error(p$1(156,o.tag))};function Fk(e,o){return ac$1(e,o)}function $k(e,o,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,o,a,c){return new $k(e,o,a,c)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da$1)return 11;if(e===Ga$1)return 14}return 2}function Pg(e,o){var a=e.alternate;return a===null?(a=Bg(e.tag,o,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=o,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,o=e.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Rg(e,o,a,c,d,g){var b=2;if(c=e,typeof e=="function")aj(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case ya$2:return Tg(a.children,d,g,o);case za$1:b=8,d|=8;break;case Aa$2:return e=Bg(12,a,o,d|2),e.elementType=Aa$2,e.lanes=g,e;case Ea$2:return e=Bg(13,a,o,d),e.elementType=Ea$2,e.lanes=g,e;case Fa$2:return e=Bg(19,a,o,d),e.elementType=Fa$2,e.lanes=g,e;case Ia$2:return pj(a,d,g,o);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba$2:b=10;break e;case Ca$2:b=9;break e;case Da$1:b=11;break e;case Ga$1:b=14;break e;case Ha$2:b=16,c=null;break e}throw Error(p$1(130,e==null?e:typeof e,""))}return o=Bg(b,a,o,d),o.elementType=e,o.type=c,o.lanes=g,o}function Tg(e,o,a,c){return e=Bg(7,e,c,o),e.lanes=a,e}function pj(e,o,a,c){return e=Bg(22,e,c,o),e.elementType=Ia$2,e.lanes=a,e.stateNode={isHidden:!1},e}function Qg(e,o,a){return e=Bg(6,e,null,o),e.lanes=a,e}function Sg(e,o,a){return o=Bg(4,e.children!==null?e.children:[],e.key,o),o.lanes=a,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function al(e,o,a,c,d){this.tag=o,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bl(e,o,a,c,d,g,b,_,$){return e=new al(e,o,a,_,$),o===1?(o=1,g===!0&&(o|=8)):o=0,g=Bg(3,null,null,o),e.current=g,g.stateNode=e,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(g),e}function cl(e,o,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$2,key:c==null?null:""+c,children:e,containerInfo:o,implementation:a}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p$1(170));var o=e;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$1(171))}if(e.tag===1){var a=e.type;if(Zf(a))return bg(e,a,o)}return o}function el(e,o,a,c,d,g,b,_,$){return e=bl(a,c,!0,e,d,g,b,_,$),e.context=dl(null),a=e.current,c=R(),d=yi$2(a),g=mh(c,d),g.callback=o??null,nh(a,g,d),e.current.lanes=d,Ac$1(e,d,c),Dk(e,c),e}function fl(e,o,a,c){var d=o.current,g=R(),b=yi$2(d);return a=dl(a),o.context===null?o.context=a:o.pendingContext=a,o=mh(g,b),o.payload={element:e},c=c===void 0?null:c,c!==null&&(o.callback=c),e=nh(d,o,b),e!==null&&(gi$1(e,d,b,g),oh(e,d,b)),b}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,o){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<o?a:o}}function il(e,o){hl(e,o),(e=e.alternate)&&hl(e,o)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var o=this._internalRoot;if(o===null)throw Error(p$1(409));fl(e,o,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var o=e.containerInfo;Rk(function(){fl(null,e,null,null)}),o[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var o=Hc$1();e={blockedOn:null,target:e,priority:o};for(var a=0;a<Qc$1.length&&o!==0&&o<Qc$1[a].priority;a++);Qc$1.splice(a,0,e),a===0&&Vc$1(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,o,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var j=gl(b);g.call(j)}}var b=el(o,c,e,0,null,!1,!1,"",pl);return e._reactRootContainer=b,e[uf]=b.current,sf(e.nodeType===8?e.parentNode:e),Rk(),b}for(;d=e.lastChild;)e.removeChild(d);if(typeof c=="function"){var _=c;c=function(){var j=gl($);_.call(j)}}var $=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=$,e[uf]=$.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(o,$,a,c)}),$}function rl(e,o,a,c,d){var g=a._reactRootContainer;if(g){var b=g;if(typeof d=="function"){var _=d;d=function(){var $=gl(b);_.call($)}}fl(o,b,e,d)}else b=ql(a,o,e,d,c);return gl(b)}Ec$1=function(e){switch(e.tag){case 3:var o=e.stateNode;if(o.current.memoizedState.isDehydrated){var a=tc$1(o.pendingLanes);a!==0&&(Cc$1(o,a|1),Dk(o,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var c=ih(e,1);if(c!==null){var d=R();gi$1(c,e,1,d)}}),il(e,1)}};Fc$1=function(e){if(e.tag===13){var o=ih(e,134217728);if(o!==null){var a=R();gi$1(o,e,134217728,a)}il(e,134217728)}};Gc$1=function(e){if(e.tag===13){var o=yi$2(e),a=ih(e,o);if(a!==null){var c=R();gi$1(a,e,o,c)}il(e,o)}};Hc$1=function(){return C};Ic$1=function(e,o){var a=C;try{return C=e,o()}finally{C=a}};yb=function(e,o,a){switch(o){case"input":if(bb(e,a),o=a.name,a.type==="radio"&&o!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var c=a[o];if(c!==e&&c.form===e.form){var d=Db(c);if(!d)throw Error(p$1(90));Wa$1(c),bb(c,d)}}}break;case"textarea":ib(e,a);break;case"select":o=a.value,o!=null&&fb(e,!!a.multiple,o,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$2.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc$1=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(o))throw Error(p$1(200));return cl(e,o,null,a)};reactDom_production_min.createRoot=function(e,o){if(!nl(e))throw Error(p$1(299));var a=!1,c="",d=kl;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(d=o.onRecoverableError)),o=bl(e,1,!1,null,null,a,!1,c,d),e[uf]=o.current,sf(e.nodeType===8?e.parentNode:e),new ll(o)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var o=e._reactInternals;if(o===void 0)throw typeof e.render=="function"?Error(p$1(188)):(e=Object.keys(e).join(","),Error(p$1(268,e)));return e=Zb(o),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,o,a){if(!ol(o))throw Error(p$1(200));return rl(null,e,o,!0,a)};reactDom_production_min.hydrateRoot=function(e,o,a){if(!nl(e))throw Error(p$1(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",b=kl;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),o=el(o,null,e,1,a??null,d,!1,g,b),e[uf]=o.current,sf(e),c)for(e=0;e<c.length;e++)a=c[e],d=a._getVersion,d=d(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,d]:o.mutableSourceEagerHydrationData.push(a,d);return new ml(o)};reactDom_production_min.render=function(e,o,a){if(!ol(o))throw Error(p$1(200));return rl(null,e,o,!1,a)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p$1(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,o,a,c){if(!ol(a))throw Error(p$1(200));if(e==null||e._reactInternals===void 0)throw Error(p$1(38));return rl(e,o,a,!1,c)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends$4.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(e){e===void 0&&(e={});function o(d,g){let{pathname:b="/",search:_="",hash:$=""}=parsePath(d.location.hash.substr(1));return!b.startsWith("/")&&!b.startsWith(".")&&(b="/"+b),createLocation("",{pathname:b,search:_,hash:$},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function a(d,g){let b=d.document.querySelector("base"),_="";if(b&&b.getAttribute("href")){let $=d.location.href,j=$.indexOf("#");_=j===-1?$:$.slice(0,j)}return _+"#"+(typeof g=="string"?g:createPath(g))}function c(d,g){warning(d.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(g)+")")}return getUrlBasedHistory(o,a,c,e)}function invariant(e,o){if(e===!1||e===null||typeof e>"u")throw new Error(o)}function warning(e,o){if(!e){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,o){return{usr:e.state,key:e.key,idx:o}}function createLocation(e,o,a,c){return a===void 0&&(a=null),_extends$4({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:a,key:o&&o.key||c||createKey()})}function createPath(e){let{pathname:o="/",search:a="",hash:c=""}=e;return a&&a!=="?"&&(o+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(o+=c.charAt(0)==="#"?c:"#"+c),o}function parsePath(e){let o={};if(e){let a=e.indexOf("#");a>=0&&(o.hash=e.substr(a),e=e.substr(0,a));let c=e.indexOf("?");c>=0&&(o.search=e.substr(c),e=e.substr(0,c)),e&&(o.pathname=e)}return o}function getUrlBasedHistory(e,o,a,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:g=!1}=c,b=d.history,_=Action.Pop,$=null,j=rt();j==null&&(j=0,b.replaceState(_extends$4({},b.state,{idx:j}),""));function rt(){return(b.state||{idx:null}).idx}function nt(){_=Action.Pop;let _u=rt(),Yl=_u==null?null:_u-j;j=_u,$&&$({action:_,location:Nl.location,delta:Yl})}function In(_u,Yl){_=Action.Push;let Ul=createLocation(Nl.location,_u,Yl);a&&a(Ul,_u),j=rt()+1;let Dl=getHistoryState(Ul,j),Zl=Nl.createHref(Ul);try{b.pushState(Dl,"",Zl)}catch(Ju){if(Ju instanceof DOMException&&Ju.name==="DataCloneError")throw Ju;d.location.assign(Zl)}g&&$&&$({action:_,location:Nl.location,delta:1})}function xl(_u,Yl){_=Action.Replace;let Ul=createLocation(Nl.location,_u,Yl);a&&a(Ul,_u),j=rt();let Dl=getHistoryState(Ul,j),Zl=Nl.createHref(Ul);b.replaceState(Dl,"",Zl),g&&$&&$({action:_,location:Nl.location,delta:0})}function Ll(_u){let Yl=d.location.origin!=="null"?d.location.origin:d.location.href,Ul=typeof _u=="string"?_u:createPath(_u);return Ul=Ul.replace(/ $/,"%20"),invariant(Yl,"No window.location.(origin|href) available to create URL for href: "+Ul),new URL(Ul,Yl)}let Nl={get action(){return _},get location(){return e(d,b)},listen(_u){if($)throw new Error("A history only accepts one active listener");return d.addEventListener(PopStateEventType,nt),$=_u,()=>{d.removeEventListener(PopStateEventType,nt),$=null}},createHref(_u){return o(d,_u)},createURL:Ll,encodeLocation(_u){let Yl=Ll(_u);return{pathname:Yl.pathname,search:Yl.search,hash:Yl.hash}},push:In,replace:xl,go(_u){return b.go(_u)}};return Nl}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,o,a){return a===void 0&&(a="/"),matchRoutesImpl(e,o,a)}function matchRoutesImpl(e,o,a,c){let d=typeof o=="string"?parsePath(o):o,g=stripBasename(d.pathname||"/",a);if(g==null)return null;let b=flattenRoutes(e);rankRouteBranches(b);let _=null;for(let $=0;_==null&&$<b.length;++$){let j=decodePath(g);_=matchRouteBranch(b[$],j)}return _}function flattenRoutes(e,o,a,c){o===void 0&&(o=[]),a===void 0&&(a=[]),c===void 0&&(c="");let d=(g,b,_)=>{let $={relativePath:_===void 0?g.path||"":_,caseSensitive:g.caseSensitive===!0,childrenIndex:b,route:g};$.relativePath.startsWith("/")&&(invariant($.relativePath.startsWith(c),'Absolute route path "'+$.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),$.relativePath=$.relativePath.slice(c.length));let j=joinPaths([c,$.relativePath]),rt=a.concat($);g.children&&g.children.length>0&&(invariant(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+j+'".')),flattenRoutes(g.children,o,rt,j)),!(g.path==null&&!g.index)&&o.push({path:j,score:computeScore(j,g.index),routesMeta:rt})};return e.forEach((g,b)=>{var _;if(g.path===""||!((_=g.path)!=null&&_.includes("?")))d(g,b);else for(let $ of explodeOptionalSegments(g.path))d(g,b,$)}),o}function explodeOptionalSegments(e){let o=e.split("/");if(o.length===0)return[];let[a,...c]=o,d=a.endsWith("?"),g=a.replace(/\?$/,"");if(c.length===0)return d?[g,""]:[g];let b=explodeOptionalSegments(c.join("/")),_=[];return _.push(...b.map($=>$===""?g:[g,$].join("/"))),d&&_.push(...b),_.map($=>e.startsWith("/")&&$===""?"/":$)}function rankRouteBranches(e){e.sort((o,a)=>o.score!==a.score?a.score-o.score:compareIndexes(o.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,o){let a=e.split("/"),c=a.length;return a.some(isSplat)&&(c+=splatPenalty),o&&(c+=indexRouteValue),a.filter(d=>!isSplat(d)).reduce((d,g)=>d+(paramRe.test(g)?dynamicSegmentValue:g===""?emptySegmentValue:staticSegmentValue),c)}function compareIndexes(e,o){return e.length===o.length&&e.slice(0,-1).every((c,d)=>c===o[d])?e[e.length-1]-o[o.length-1]:0}function matchRouteBranch(e,o,a){let{routesMeta:c}=e,d={},g="/",b=[];for(let _=0;_<c.length;++_){let $=c[_],j=_===c.length-1,rt=g==="/"?o:o.slice(g.length)||"/",nt=matchPath({path:$.relativePath,caseSensitive:$.caseSensitive,end:j},rt),In=$.route;if(!nt)return null;Object.assign(d,nt.params),b.push({params:d,pathname:joinPaths([g,nt.pathname]),pathnameBase:normalizePathname(joinPaths([g,nt.pathnameBase])),route:In}),nt.pathnameBase!=="/"&&(g=joinPaths([g,nt.pathnameBase]))}return b}function matchPath(e,o){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,c]=compilePath(e.path,e.caseSensitive,e.end),d=o.match(a);if(!d)return null;let g=d[0],b=g.replace(/(.)\/+$/,"$1"),_=d.slice(1);return{params:c.reduce((j,rt,nt)=>{let{paramName:In,isOptional:xl}=rt;if(In==="*"){let Nl=_[nt]||"";b=g.slice(0,g.length-Nl.length).replace(/(.)\/+$/,"$1")}const Ll=_[nt];return xl&&!Ll?j[In]=void 0:j[In]=(Ll||"").replace(/%2F/g,"/"),j},{}),pathname:g,pathnameBase:b,pattern:e}}function compilePath(e,o,a){o===void 0&&(o=!1),a===void 0&&(a=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let c=[],d="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,_,$)=>(c.push({paramName:_,isOptional:$!=null}),$?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(c.push({paramName:"*"}),d+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?d+="\\/*$":e!==""&&e!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,o?void 0:"i"),c]}function decodePath(e){try{return e.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),e}}function stripBasename(e,o){if(o==="/")return e;if(!e.toLowerCase().startsWith(o.toLowerCase()))return null;let a=o.endsWith("/")?o.length-1:o.length,c=e.charAt(a);return c&&c!=="/"?null:e.slice(a)||"/"}function resolvePath(e,o){o===void 0&&(o="/");let{pathname:a,search:c="",hash:d=""}=typeof e=="string"?parsePath(e):e;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,o):o,search:normalizeSearch(c),hash:normalizeHash(d)}}function resolvePathname(e,o){let a=o.replace(/\/+$/,"").split("/");return e.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function getInvalidPathError(e,o,a,c){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((o,a)=>a===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches(e,o){let a=getPathContributingMatches(e);return o?a.map((c,d)=>d===a.length-1?c.pathname:c.pathnameBase):a.map(c=>c.pathnameBase)}function resolveTo(e,o,a,c){c===void 0&&(c=!1);let d;typeof e=="string"?d=parsePath(e):(d=_extends$4({},e),invariant(!d.pathname||!d.pathname.includes("?"),getInvalidPathError("?","pathname","search",d)),invariant(!d.pathname||!d.pathname.includes("#"),getInvalidPathError("#","pathname","hash",d)),invariant(!d.search||!d.search.includes("#"),getInvalidPathError("#","search","hash",d)));let g=e===""||d.pathname==="",b=g?"/":d.pathname,_;if(b==null)_=a;else{let nt=o.length-1;if(!c&&b.startsWith("..")){let In=b.split("/");for(;In[0]==="..";)In.shift(),nt-=1;d.pathname=In.join("/")}_=nt>=0?o[nt]:"/"}let $=resolvePath(d,_),j=b&&b!=="/"&&b.endsWith("/"),rt=(g||b===".")&&a.endsWith("/");return!$.pathname.endsWith("/")&&(j||rt)&&($.pathname+="/"),$}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,o){let{relative:a}=o===void 0?{}:o;useInRouterContext()||invariant(!1);let{basename:c,navigator:d}=reactExports.useContext(NavigationContext),{hash:g,pathname:b,search:_}=useResolvedPath(e,{relative:a}),$=b;return c!=="/"&&($=b==="/"?c:joinPaths([c,b])),d.createHref({pathname:$,search:_,hash:g})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let e=reactExports.useContext(DataRouterContext),{basename:o,future:a,navigator:c}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(d,a.v7_relativeSplatPath)),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_.current=!0}),reactExports.useCallback(function(j,rt){if(rt===void 0&&(rt={}),!_.current)return;if(typeof j=="number"){c.go(j);return}let nt=resolveTo(j,JSON.parse(b),g,rt.relative==="path");e==null&&o!=="/"&&(nt.pathname=nt.pathname==="/"?o:joinPaths([o,nt.pathname])),(rt.replace?c.replace:c.push)(nt,rt.state,rt)},[o,c,b,g,e])}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),o=e[e.length-1];return o?o.params:{}}function useResolvedPath(e,o){let{relative:a}=o===void 0?{}:o,{future:c}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(d,c.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(b),g,a==="path"),[e,b,g,a])}function useRoutes(e,o){return useRoutesImpl(e,o)}function useRoutesImpl(e,o,a,c){useInRouterContext()||invariant(!1);let{navigator:d}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),b=g[g.length-1],_=b?b.params:{};b&&b.pathname;let $=b?b.pathnameBase:"/";b&&b.route;let j=useLocation(),rt;if(o){var nt;let _u=typeof o=="string"?parsePath(o):o;$==="/"||(nt=_u.pathname)!=null&&nt.startsWith($)||invariant(!1),rt=_u}else rt=j;let In=rt.pathname||"/",xl=In;if($!=="/"){let _u=$.replace(/^\//,"").split("/");xl="/"+In.replace(/^\//,"").split("/").slice(_u.length).join("/")}let Ll=matchRoutes(e,{pathname:xl}),Nl=_renderMatches(Ll&&Ll.map(_u=>Object.assign({},_u,{params:Object.assign({},_,_u.params),pathname:joinPaths([$,d.encodeLocation?d.encodeLocation(_u.pathname).pathname:_u.pathname]),pathnameBase:_u.pathnameBase==="/"?$:joinPaths([$,d.encodeLocation?d.encodeLocation(_u.pathnameBase).pathname:_u.pathnameBase])})),g,a,c);return o&&Nl?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},rt),navigationType:Action.Pop}},Nl):Nl}function DefaultErrorComponent(){let e=useRouteError(),o=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),a?reactExports.createElement("pre",{style:d},a):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,a){return a.location!==o.location||a.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:a.error,location:a.location,revalidation:o.revalidation||a.revalidation}}componentDidCatch(o,a){console.error("React Router caught the following error during render",o,a)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:o,match:a,children:c}=e,d=reactExports.useContext(DataRouterContext);return d&&d.static&&d.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:o},c)}function _renderMatches(e,o,a,c){var d;if(o===void 0&&(o=[]),a===void 0&&(a=null),c===void 0&&(c=null),e==null){var g;if(!a)return null;if(a.errors)e=a.matches;else if((g=c)!=null&&g.v7_partialHydration&&o.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let b=e,_=(d=a)==null?void 0:d.errors;if(_!=null){let rt=b.findIndex(nt=>nt.route.id&&(_==null?void 0:_[nt.route.id])!==void 0);rt>=0||invariant(!1),b=b.slice(0,Math.min(b.length,rt+1))}let $=!1,j=-1;if(a&&c&&c.v7_partialHydration)for(let rt=0;rt<b.length;rt++){let nt=b[rt];if((nt.route.HydrateFallback||nt.route.hydrateFallbackElement)&&(j=rt),nt.route.id){let{loaderData:In,errors:xl}=a,Ll=nt.route.loader&&In[nt.route.id]===void 0&&(!xl||xl[nt.route.id]===void 0);if(nt.route.lazy||Ll){$=!0,j>=0?b=b.slice(0,j+1):b=[b[0]];break}}}return b.reduceRight((rt,nt,In)=>{let xl,Ll=!1,Nl=null,_u=null;a&&(xl=_&&nt.route.id?_[nt.route.id]:void 0,Nl=nt.route.errorElement||defaultErrorElement,$&&(j<0&&In===0?(warningOnce("route-fallback"),Ll=!0,_u=null):j===In&&(Ll=!0,_u=nt.route.hydrateFallbackElement||null)));let Yl=o.concat(b.slice(0,In+1)),Ul=()=>{let Dl;return xl?Dl=Nl:Ll?Dl=_u:nt.route.Component?Dl=reactExports.createElement(nt.route.Component,null):nt.route.element?Dl=nt.route.element:Dl=rt,reactExports.createElement(RenderedRoute,{match:nt,routeContext:{outlet:rt,matches:Yl,isDataRoute:a!=null},children:Dl})};return a&&(nt.route.ErrorBoundary||nt.route.errorElement||In===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:Nl,error:xl,children:Ul(),routeContext:{outlet:null,matches:Yl,isDataRoute:!0}}):Ul()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext$1(e){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useDataRouterState(e){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext(e){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId(e){let o=useRouteContext(),a=o.matches[o.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var e;let o=reactExports.useContext(RouteErrorContext),a=useDataRouterState(),c=useCurrentRouteId();return o!==void 0?o:(e=a.errors)==null?void 0:e[c]}function useNavigateStable(){let{router:e}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),o=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),a=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{a.current=!0}),reactExports.useCallback(function(d,g){g===void 0&&(g={}),a.current&&(typeof d=="number"?e.navigate(d):e.navigate(d,_extends$3({fromRouteId:o},g)))},[e,o])}const alreadyWarned$1={};function warningOnce(e,o,a){alreadyWarned$1[e]||(alreadyWarned$1[e]=!0)}function logV6DeprecationWarnings(e,o){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Route(e){invariant(!1)}function Router(e){let{basename:o="/",children:a=null,location:c,navigationType:d=Action.Pop,navigator:g,static:b=!1,future:_}=e;useInRouterContext()&&invariant(!1);let $=o.replace(/^\/*/,"/"),j=reactExports.useMemo(()=>({basename:$,navigator:g,static:b,future:_extends$3({v7_relativeSplatPath:!1},_)}),[$,_,g,b]);typeof c=="string"&&(c=parsePath(c));let{pathname:rt="/",search:nt="",hash:In="",state:xl=null,key:Ll="default"}=c,Nl=reactExports.useMemo(()=>{let _u=stripBasename(rt,$);return _u==null?null:{location:{pathname:_u,search:nt,hash:In,state:xl,key:Ll},navigationType:d}},[$,rt,nt,In,xl,Ll,d]);return Nl==null?null:reactExports.createElement(NavigationContext.Provider,{value:j},reactExports.createElement(LocationContext.Provider,{children:a,value:Nl}))}function Routes(e){let{children:o,location:a}=e;return useRoutes(createRoutesFromChildren(o),a)}new Promise(()=>{});function createRoutesFromChildren(e,o){o===void 0&&(o=[]);let a=[];return reactExports.Children.forEach(e,(c,d)=>{if(!reactExports.isValidElement(c))return;let g=[...o,d];if(c.type===reactExports.Fragment){a.push.apply(a,createRoutesFromChildren(c.props.children,g));return}c.type!==Route&&invariant(!1),!c.props.index||!c.props.children||invariant(!1);let b={id:c.props.id||g.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(b.children=createRoutesFromChildren(c.props.children,g)),a.push(b)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$7(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,o){return e.button===0&&(!o||o==="_self")&&!isModifiedEvent(e)}const _excluded$6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2$1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(e){let{basename:o,children:a,future:c,window:d}=e,g=reactExports.useRef();g.current==null&&(g.current=createHashHistory({window:d,v5Compat:!0}));let b=g.current,[_,$]=reactExports.useState({action:b.action,location:b.location}),{v7_startTransition:j}=c||{},rt=reactExports.useCallback(nt=>{j&&startTransitionImpl?startTransitionImpl(()=>$(nt)):$(nt)},[$,j]);return reactExports.useLayoutEffect(()=>b.listen(rt),[b,rt]),reactExports.useEffect(()=>logV6DeprecationWarnings(c),[c]),reactExports.createElement(Router,{basename:o,children:a,location:_.location,navigationType:_.action,navigator:b,future:c})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(o,a){let{onClick:c,relative:d,reloadDocument:g,replace:b,state:_,target:$,to:j,preventScrollReset:rt,viewTransition:nt}=o,In=_objectWithoutPropertiesLoose$7(o,_excluded$6),{basename:xl}=reactExports.useContext(NavigationContext),Ll,Nl=!1;if(typeof j=="string"&&ABSOLUTE_URL_REGEX.test(j)&&(Ll=j,isBrowser))try{let Dl=new URL(window.location.href),Zl=j.startsWith("//")?new URL(Dl.protocol+j):new URL(j),Ju=stripBasename(Zl.pathname,xl);Zl.origin===Dl.origin&&Ju!=null?j=Ju+Zl.search+Zl.hash:Nl=!0}catch{}let _u=useHref(j,{relative:d}),Yl=useLinkClickHandler(j,{replace:b,state:_,target:$,preventScrollReset:rt,relative:d,viewTransition:nt});function Ul(Dl){c&&c(Dl),Dl.defaultPrevented||Yl(Dl)}return reactExports.createElement("a",_extends$2({},In,{href:Ll||_u,onClick:Nl||g?c:Ul,ref:a,target:$}))}),NavLink$1=reactExports.forwardRef(function(o,a){let{"aria-current":c="page",caseSensitive:d=!1,className:g="",end:b=!1,style:_,to:$,viewTransition:j,children:rt}=o,nt=_objectWithoutPropertiesLoose$7(o,_excluded2$1),In=useResolvedPath($,{relative:nt.relative}),xl=useLocation(),Ll=reactExports.useContext(DataRouterStateContext),{navigator:Nl,basename:_u}=reactExports.useContext(NavigationContext),Yl=Ll!=null&&useViewTransitionState(In)&&j===!0,Ul=Nl.encodeLocation?Nl.encodeLocation(In).pathname:In.pathname,Dl=xl.pathname,Zl=Ll&&Ll.navigation&&Ll.navigation.location?Ll.navigation.location.pathname:null;d||(Dl=Dl.toLowerCase(),Zl=Zl?Zl.toLowerCase():null,Ul=Ul.toLowerCase()),Zl&&_u&&(Zl=stripBasename(Zl,_u)||Zl);const Ju=Ul!=="/"&&Ul.endsWith("/")?Ul.length-1:Ul.length;let Uu=Dl===Ul||!b&&Dl.startsWith(Ul)&&Dl.charAt(Ju)==="/",fp=Zl!=null&&(Zl===Ul||!b&&Zl.startsWith(Ul)&&Zl.charAt(Ul.length)==="/"),Zu={isActive:Uu,isPending:fp,isTransitioning:Yl},Lp=Uu?c:void 0,Np;typeof g=="function"?Np=g(Zu):Np=[g,Uu?"active":null,fp?"pending":null,Yl?"transitioning":null].filter(Boolean).join(" ");let zp=typeof _=="function"?_(Zu):_;return reactExports.createElement(Link,_extends$2({},nt,{"aria-current":Lp,className:Np,ref:a,style:zp,to:$,viewTransition:j}),typeof rt=="function"?rt(Zu):rt)});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(e){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useLinkClickHandler(e,o){let{target:a,replace:c,state:d,preventScrollReset:g,relative:b,viewTransition:_}=o===void 0?{}:o,$=useNavigate(),j=useLocation(),rt=useResolvedPath(e,{relative:b});return reactExports.useCallback(nt=>{if(shouldProcessLinkClick(nt,a)){nt.preventDefault();let In=c!==void 0?c:createPath(j)===createPath(rt);$(e,{replace:In,state:d,preventScrollReset:g,relative:b,viewTransition:_})}},[j,$,rt,c,d,a,e,g,b,_])}function useViewTransitionState(e,o){o===void 0&&(o={});let a=reactExports.useContext(ViewTransitionContext);a==null&&invariant(!1);let{basename:c}=useDataRouterContext(DataRouterHook.useViewTransitionState),d=useResolvedPath(e,{relative:o.relative});if(!a.isTransitioning)return!1;let g=stripBasename(a.currentLocation.pathname,c)||a.currentLocation.pathname,b=stripBasename(a.nextLocation.pathname,c)||a.nextLocation.pathname;return matchPath(d.pathname,b)!=null||matchPath(d.pathname,g)!=null}var dist$1={},Navbar$1={};const mcloud_logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABPCAYAAAAQlxDmAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QgeDQk2h9q0aQAADmpJREFUeNrtXXuYU9W1/61zkgzDc2ByMuM45GR4fDyGZHiM16uFXm2V6idWKWpLa6Gg9oHaa1Xwtra0Kn0/KKKoxVKxLVKq9T7Ui9ZPvNZXZQAzmaBYYJLMMDBJEMSBYSY5Z90/Mthz9jxIhuRMBrP+y87JPnvt317PvfYOUKACFahABSpQz0SDefDbAFupe9SIU5/ldkeiOhZrKwCRQwpWw5FsK50tMc1hovMATAagArAJjx4mpn0gfQcTvZXU+IWZTfGWAhBnSIGxzlqWaBmAawCM6EcXDEIdM/8mkXBsqm1pOVEAIu2ZAwVU50IQ3QbGeVns+igYj9mIfzY1HD9YAKIP8o8tm0ayvg6MOWmy0Anw8S4Vla7EfECM770Tia27DtAKQBiobhbsjphyLwh3ALD38ti7BLykE79qk7TX2k8Wx42qhgFpd+XIkiQVVUPCJwmYDeAiAEN66W8HSbTU2xitLwABoK6iwumwJ/7cNWkitRGwWSfp0ZpQ698zNvKVI8foUtH1TLgJwLQeHjlOoEXecPQvH2sgGsaWnqdL0tMAzhW+0pjwoI7E92eEjh7NitpzO68kojUAqrrZJcL9vlDsWwToHzsggu4xUzWSXwUwWvhqD4GWesPR17P9zncnOUd0nqQfAri1+2Twz73h+IqPFRDBcaPdmmZ7A0CF8NWT8gksyXVgFnA75zHRHwCMEmTjDl84/quPBRBBRRmuDcXLAGYJDv8vfeHoCqvUw9uqMkMCngegmFQi8/yaSPx/rJwTaSCA0IrxQE8g1ISjd1qpo6eHY7tYlz4F0PuGZpmIngiMdY0/q4EIVLnmgrBIkMstvnB0QHRzTVNrA0j/HIAOQ/MwlviBsxaIf0yYUMQ6PySoxD2dnfYlA+WtAIAvFP8/ZtwlNF/mdyvXnJVAnEgeWwpgnFFLEWhpPuR/fJHYWjBeMQkqYdUWQD6rgKibBTtYv0vw3R/MhYvaT69Fl3XcACBpaJ40xWONVFgGhD2mXEUg1dDULhH9CHlE1c2xvQQ8ZlosjNvOLtVEWGxmkDd6G6OtyDPSZP45zInA8+s9pZPPCiACqms+AfNMQMj8O+QhTd8ffw/gOnPATWuD1XAMWiCCHqXcr7p+wcDmbi/WZTkfgWCAQDRUEOdLtDblLb9HuWzQRdZ+1XkjgdaitxQ0owng+b5IfEe+gFA3C3ZHXHkEwJI+HnvWnnQsnnLgwOG8lwi/R1lMoPXofR8AIIwF0StvV5X+S74A4Tis/PE0IADAFQlb5zN1s3rdM8kPIOrdo0YTo6eo9CSAhNA2VNKlhzkP0vEB1TUfjGt7+OrDHtr+1R53ZdWbouwDodwFwk8MTUdZ58V7muLPVldD1tqUmwCsgSFQIuYfMOTXBgwFCcOYtTVG95qB1ySdFnubovuCHqVcY34IoKsNv2odQcM8VaHQybwDom7c6FEOzbYbxtQ289d8kfhvTGCpyloAtyB/6YRMGF8dih36iLeKiqEOW+JdEMYaY4yaSGxN3qimf0yYUFSvKrc4NNvbEPYXNMn2Qjf0mZ9HflO9EQQAqG1pOQEiMQWyut6j/Cmglk4ZUCC2AHK9qtzcnvhgH4C1ADziMzLr54htOqE8z4HobXzndNMojOsYUkO96tp0JqnzfqumYKUyQZOxEcCFp3HMX+hUYvNqd6QM9S5PSYnM9u0AJghPHgawB2ArE4CUmnSa2m0umL/qi8TXf2TMq1xzWeetp5mz40y03BeKPkwA5xwIv8e5kJjWAxiWrqgD+G8QO8D0RQCVwjBWy8Oj/1EdROeA6CG3cxaIngVQZo7t8BQDbxNjIghfQvfyzt5oa7Fd+/zEve8fyxkQ9W7nTSB6uAe19iEBaxm8G6DbANSm2eV+bzg2cSD3IwwB6Po0H08Q8w9ZojAxbuBU/ZRIO9kmXV6zrzWadRvhV13LQPRI99/RE0mdJ3vDsbt94fgfNUpcCkIgzZTC7oEGIbUipWDaIIA+743E7/GFYo95w7E5BFoAoFl4biYl9Vd2TihXsgpEwO26lMD3C1LUDsJSXzj6RWPF9YzQ0aPFNm02A7/tIYgTRXIaD9DeuWB1p6ajEHRJn+0NR582NnrD0b+QRLXixhKASXJC+9O2NFQapaeOysaBeDvAY8wRJ33GF46+0acUjS9zIaF/koDxXW/8NwCXC2JxnS8S+/NAgcCAVK8qOwiYbmhuIcIDrEMHiEH42+l4TeWqnFuEwO+jwogzB0J1/hWgS0ySIOEyX2PslX4y/SIBF/+zjcOJhGPqQG2ZBjyurzPzQ8ZhSkxzpkWiGUf7wWo4tDblP4XFxkzSBX2VjJ5WJfhV1wIBBBBwS39A6PqtbtPw1a7cU1cbqUX2zh8MBAg7xzormPmn5kHS+v6AAADVQXTKJ3BdyhU39Mj6Q32pYOl0AZvE/GPBv/4vbzi24UyYr26O7QVhjSC+3/RXOSdZDYRNovsAjDQ0HWGZvndG/MVibUzSV2B2QmY09FEV0icQU9zOy5kw0dDUYZPt/56NCWhLFt0DYL+hqYiY1luZiW1QnRcDWGpeELwiXZezL6oJtb4JYKOpb+p9/7tPIHSiJWZh4N9NbTwYzsYkXNjc3E6g5YIBmROwqJZoG2DTQauF5h17wvGsbeEypPtgrgq5oLf9716B2OUpKSHgSlPeSJYezuZkdJ1J2CoYkV8FFWV4roFwupVlAGqM606X9GXZPEFUE25tZIE/1qVFGQFhY9snYD6545/WGPVne0JkDbcaDTeASn0or8wlCEGPUs6EewUD/ej0xsNv5cA33mh+TY+HcXoHgonmCB3+by4mpbo5thfgHwmG+/agR5meKyC01MaUsRz/YLEtuTwX7yoq5udhlrLauoqKoenbCOZaM5K0PVcT06YN+YVguGWNsToXhjvgcV4kbokyeGUmCbpMaPKe+IcA3jM02e0OzZeBsaYy0yqS9YZcAXFhc3M7MYve2EUB1bkwm++pmwU7p/bTjQC/6QvHNyCXRGgQYqmyTLymUpOIdRQdzuVYvZH4MwQ8JXCwut49anS23mGPK8sBqjYm8HSWb8x10pEYMfNn3ZkJECUmkT5w4ChyTEmS7wRgTHO4AEdWDLf/3DGVBHxbaH5keuRQELknYe64JBMgjAc3UFlZ6cj1aGeEDoXAdI8g1t/MRu0T2aS1AIxu8QHHEP6OFTGLDioSnJGODIy1uZ5nCJ0cbcWgix0j1wjGTZJ16ZdnYrgDVa653TKiTN/pMqQ5JzJnrcFMx9IHQkLI5O9LPNmKQU/cu7eDddwIw54vA7MDbueN/emv0eMZwjqvE6bmpZpI9HELU1qTBI+0Mf04gk2rEhLkmVaNuqYp9jeIhptoVX8M9zE+fgdO7YV0mSJodJtVvHSVZprcVclG76UNhAS8ISBziYUrCJzUvgXAeNbaReRYlUkfuzzlHgIEO0Brfc2tAav4cLyvXCDYpsaezoX0IRHSNnOkjU8HqlxllknFgfebGXSv2Wzha37VmbZkytDXADBGsS2OIfr3rVxQpPMXBB5eyijF4Yu07gewy5h+0nW+wUomEs7orwHabZxbAtals8cdcDvngfmz5sXEd1hloIHUdRMMWigEc09lBETXwB8XOrm1pzxJrqh2BxJE+s0wFWvR+QG3s88F8XplZTGnLj8xG+hQfLOVC6mzXfqGEI8dOhyO/TVjIIba9A0Ajhiayh2OTktF2xuKvwzQJsFw/9g/vszV229GyB3fhekYMXUSNEuLnv3njqkE8d1CSPDri837E+kBkUqE8WpBTG5vcLs+YSVTNujLARh971Ipqa/rcQI8ZeczsELIMaz2hg+/Y5mjAUhklzfAvAUbldvxYB/OUd/UlRltNNkKwqadY50VVjE2NRw/yIyVArML/KpydzcvifUnYawjYjRxu3SflQun3uNaCcalQlR3V1837qQVrQbcrkuZeKsJOEIgaZM/PXPvoZgVzG0DbKUeZScYXoGFTSRhI2u6B6lz26VCOuGamnD0KctAUJWbAfHEFL/oDcfn9lWYnHbaIKAqqxi4W2jeq8t8RepIrAV6V3UtIPCTmcRTvnDsPKvUUYOq3NvDHB0kiWac7kx52qWO08KxldT9mO4ESaPtfo/zC5bYCu3ktsyceH7JinEFPUp5QFWe6QGEYwyel87B/rSBIECXhscWA3ha+GokMT1RryrP1ruds3LJsE5DMkxxSCU5BUBRhterzts1xjsQy0iBDyDhyppwfGea85sZbQHkKapyPwPLeunwVZ3wqGaTn8um/Xi9srJ4mNyxRbzBAKlc/+tInbkQtyBPSExz+1u11xv/kzxltcT6lwB8WYgTTlGzJNG8TIot+p9adruuZ+J16P3SWwbwLoAgg0NE1P8yFcYwMK4yHiTsopc7E/Zra1ta4inX1bmQmP4gSHqSga0S+B0m0s9AHEtAPAnATMEtFem5zoR98akx5RwIoOuCxKR8P4iuwgCQRnLVjNChkNmgOx8n0JcHYDgxZrrTF4n+PtNjWxnZiJ6oev+RiC8Sv1pims3AM7D2wMkxEYQUQ5LVtxq3MGiFYwiPr4lEH+8PCGcsESLtrjpHTeqJRQCuAKgWOb79qyeJqFedvwfo+hxPfitALxLrm+OR+Nbe0hYDBoTJgR83elRRQp7IRFUskZN0HtlvE0GkADyJgMtgPn3zcqecvLp2/5EPAKDerVwLwmZB0g8y8ByBw2Dq32FJiTsBOgpdaiLmxmlN0f39XfmWA5Gb1IGyBIwN3VYn85sgUgBcYOKJsJ3bpYtrWluP5ztvg+6vbQKq8iQDC9J4tE3WMCNV0pn/JA02IDoS9kXEON0VEkfA0vzBAsKglIhTeZ2AqixDKqg03oPRAcYTxLTK2xTdN5h4GtT/unUqzwOgPEncnuhwNOXrfwgVqEAFKlCBCtRf+n97Y2CaOfCNbwAAAABJRU5ErkJggg==",mcloud_logo$1=Object.freeze(Object.defineProperty({__proto__:null,default:mcloud_logo},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(mcloud_logo$1);Object.defineProperty(Navbar$1,"__esModule",{value:!0});Navbar$1.default=void 0;var _mcloud_logo=_interopRequireDefault$7(require$$1$1),_react$8=_interopRequireWildcard$3(reactExports);function _interopRequireWildcard$3(e,o){if(typeof WeakMap=="function")var a=new WeakMap,c=new WeakMap;return(_interopRequireWildcard$3=function(d,g){if(!g&&d&&d.__esModule)return d;var b,_,$={__proto__:null,default:d};if(d===null||typeof d!="object"&&typeof d!="function")return $;if(b=g?c:a){if(b.has(d))return b.get(d);b.set(d,$)}for(const j in d)j!=="default"&&{}.hasOwnProperty.call(d,j)&&((_=(b=Object.defineProperty)&&Object.getOwnPropertyDescriptor(d,j))&&(_.get||_.set)?b($,j,_):$[j]=d[j]);return $})(e,o)}function _interopRequireDefault$7(e){return e&&e.__esModule?e:{default:e}}const mainSections={learn:{name:"LEARN",link:"https://www.materialscloud.org/learn"},work:{name:"WORK",link:"https://www.materialscloud.org/work"},discover:{name:"DISCOVER",link:"https://www.materialscloud.org/discover"},explore:{name:"EXPLORE",link:"https://www.materialscloud.org/explore"},archive:{name:"ARCHIVE",link:"https://www.materialscloud.org/archive"}},dropdownSections={policies:{name:"Policies",link:"https://www.materialscloud.org/policies"},dmp:{name:"Data Management Plan",link:"https://www.materialscloud.org/dmp"},terms:{name:"Terms of Use",link:"https://www.materialscloud.org/termssummary"},infrastructure:{name:"Infrastructure",link:"https://www.materialscloud.org/infrastructure"},team:{name:"Team & Contact",link:"https://www.materialscloud.org/team"},partners:{name:"Partners",link:"https://www.materialscloud.org/home#partners"},restapi:{name:"Connect your REST API",link:"https://www.materialscloud.org/explore/connect"}},DropdownMenu=e=>{let{activeSection:o}=e;const[a,c]=(0,_react$8.useState)(!1),d=(0,_react$8.useRef)(null);(0,_react$8.useEffect)(()=>{function _($){d.current&&!d.current.contains($.target)&&c(!1)}return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const g=()=>c(_=>!_),b="dropdown-content"+(a?" dropdown-open":"");return _react$8.default.createElement("div",{ref:d,className:"more-dropdown"},_react$8.default.createElement("span",{className:"more-btn",onClick:g},"More ",_react$8.default.createElement("i",{className:"fa fa-caret-down"})),_react$8.default.createElement("div",{className:b},Object.keys(dropdownSections).map((_,$)=>{const{link:j,name:rt}=dropdownSections[_],nt=_===o?"active":"";return _react$8.default.createElement("a",{key:$,className:nt,href:j},rt)})))},Navbar=e=>{let{activeSection:o}=e;return _react$8.default.createElement("div",{className:"mc-navbar"},_react$8.default.createElement("a",{className:"mc-navbrand",href:"https://www.materialscloud.org/home"},_react$8.default.createElement("img",{src:_mcloud_logo.default,height:"50",alt:"MC logo"})),Object.keys(mainSections).map((a,c)=>{let d="mc-navlink";return a===o&&(d+=" active"),_react$8.default.createElement("a",{key:c,className:d,href:mainSections[a].link},mainSections[a].name)}),_react$8.default.createElement(DropdownMenu,{activeSection:o}))};Navbar$1.default=Navbar;var Breadcrumbs$1={};Object.defineProperty(Breadcrumbs$1,"__esModule",{value:!0});Breadcrumbs$1.default=void 0;var _react$7=_interopRequireDefault$6(reactExports);function _interopRequireDefault$6(e){return e&&e.__esModule?e:{default:e}}const Breadcrumbs=e=>{let{breadcrumbsPath:o}=e;return _react$7.default.createElement("ul",{className:"mc-breadcrumb"},o.map((a,c)=>_react$7.default.createElement("li",{key:c},_react$7.default.createElement("a",{href:a.link},a.name))))};Breadcrumbs$1.default=Breadcrumbs;Object.defineProperty(dist$1,"__esModule",{value:!0});var default_1$1=dist$1.default=void 0,_react$6=_interopRequireDefault$5(reactExports),_Navbar=_interopRequireDefault$5(Navbar$1),_Breadcrumbs=_interopRequireDefault$5(Breadcrumbs$1);function _interopRequireDefault$5(e){return e&&e.__esModule?e:{default:e}}const MaterialsCloudHeader=e=>{let{activeSection:o,breadcrumbsPath:a}=e;return _react$6.default.createElement("div",null,_react$6.default.createElement(_Navbar.default,{activeSection:o}),_react$6.default.createElement(_Breadcrumbs.default,{breadcrumbsPath:a}))};default_1$1=dist$1.default=MaterialsCloudHeader;var dist={},PTable$1={},classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var o={}.hasOwnProperty;function a(){for(var g="",b=0;b<arguments.length;b++){var _=arguments[b];_&&(g=d(g,c(_)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return a.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var _ in g)o.call(g,_)&&g[_]&&(b=d(b,_));return b}function d(g,b){return b?g?g+" "+b:g+b:g}e.exports?(a.default=a,e.exports=a):window.classNames=a})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports),DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT}),{Consumer,Provider}=ThemeContext;function useBootstrapPrefix(e,o){const{prefixes:a}=reactExports.useContext(ThemeContext);return e||a[o]||o}function useBootstrapBreakpoints(){const{breakpoints:e}=reactExports.useContext(ThemeContext);return e}function useBootstrapMinBreakpoint(){const{minBreakpoint:e}=reactExports.useContext(ThemeContext);return e}function useIsRTL(){const{dir:e}=reactExports.useContext(ThemeContext);return e==="rtl"}const PopoverHeader=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"popover-header"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));PopoverHeader.displayName="PopoverHeader";const PopoverBody=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"popover-body"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));PopoverBody.displayName="PopoverBody";function getOverlayDirection(e,o){let a=e;return e==="left"?a=o?"end":"start":e==="right"&&(a=o?"start":"end"),a}function getInitialPopperStyles(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Popover=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,body:g,arrowProps:b,hasDoneInitialMeasure:_,popper:$,show:j,...rt},nt)=>{const In=useBootstrapPrefix(e,"popover"),xl=useIsRTL(),[Ll]=(o==null?void 0:o.split("-"))||[],Nl=getOverlayDirection(Ll,xl);let _u=c;return j&&!_&&(_u={...c,...getInitialPopperStyles($==null?void 0:$.strategy)}),jsxRuntimeExports$1.jsxs("div",{ref:nt,role:"tooltip",style:_u,"x-placement":Ll,className:classNames(a,In,Ll&&`bs-popover-${Nl}`),...rt,children:[jsxRuntimeExports$1.jsx("div",{className:"popover-arrow",...b}),g?jsxRuntimeExports$1.jsx(PopoverBody,{children:d}):d]})});Popover.displayName="Popover";const Popover$1=Object.assign(Popover,{Header:PopoverHeader,Body:PopoverBody,POPPER_OFFSET:[0,8]}),Popover$2=Object.freeze(Object.defineProperty({__proto__:null,default:Popover$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(Popover$2);function or$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vt={exports:{}},at={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr$1;function Qn$1(){if(Rr$1)return at;Rr$1=1;var e=React,o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b(_,$,j){var rt,nt={},In=null,xl=null;j!==void 0&&(In=""+j),$.key!==void 0&&(In=""+$.key),$.ref!==void 0&&(xl=$.ref);for(rt in $)c.call($,rt)&&!g.hasOwnProperty(rt)&&(nt[rt]=$[rt]);if(_&&_.defaultProps)for(rt in $=_.defaultProps,$)nt[rt]===void 0&&(nt[rt]=$[rt]);return{$$typeof:o,type:_,key:In,ref:xl,props:nt,_owner:d.current}}return at.Fragment=a,at.jsx=b,at.jsxs=b,at}Vt.exports=Qn$1();var k=Vt.exports;const $n$1="_button_qg5kh_1",Zn$1={button:$n$1};function Fa$1(e){return k.jsx("button",{className:Zn$1.button,children:"TEST"})}const eo$1="_archive_doicitation_5woyi_1",to$1="_doi_badge_5woyi_8",ro$1="_doi_left_5woyi_12",no$1="_doi_right_5woyi_28",xt={archive_doicitation:eo$1,doi_badge:to$1,doi_left:ro$1,doi_right:no$1};function Ba$1(e){return k.jsx("div",{className:xt.archive_doicitation,children:k.jsxs("span",{className:xt.doi_badge,children:[k.jsx("span",{className:xt.doi_left,children:"DOI"}),k.jsx("a",{href:`https://doi.org/10.24435/materialscloud:${e.doi_id}`,className:xt.doi_right,target:"_blank",children:`10.24435/materialscloud:${e.doi_id}`})]})})}function Wt(e,o){if(e.contains)return e.contains(o);if(e.compareDocumentPosition)return e===o||!!(e.compareDocumentPosition(o)&16)}var Jt={exports:{}},Bt$1,jr$1;function ir$1(){if(jr$1)return Bt$1;jr$1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bt$1=e,Bt$1}var Nt$1,Fr$1;function co$1(){if(Fr$1)return Nt$1;Fr$1=1;var e=ir$1();function o(){}function a(){}return a.resetWarningCache=o,Nt$1=function(){function c(b,_,$,j,rt,nt){if(nt!==e){var In=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw In.name="Invariant Violation",In}}c.isRequired=c;function d(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:a,resetWarningCache:o};return g.PropTypes=g,g},Nt$1}Jt.exports=co$1()();var po$1=Jt.exports;const N$1=or$1(po$1);function on(){const e=reactExports.useRef(!0),o=reactExports.useRef(()=>e.current);return reactExports.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),o.current}function vo$1(e){const o=reactExports.useRef(e);return o.current=e,o}function mo$1(e){const o=vo$1(e);reactExports.useEffect(()=>()=>o.current(),[])}const Gt=2**31-1;function an(e,o,a){const c=a-Date.now();e.current=c<=Gt?setTimeout(o,c):setTimeout(()=>an(e,o,a),Gt)}function ho$1(){const e=on(),o=reactExports.useRef();return mo$1(()=>clearTimeout(o.current)),reactExports.useMemo(()=>{const a=()=>clearTimeout(o.current);function c(d,g=0){e()&&(a(),g<=Gt?o.current=setTimeout(d,g):an(o,d,Date.now()+g))}return{set:c,clear:a,handleRef:o}},[])}var sn=function(){},bo$1=sn;const un$1=or$1(bo$1);function wo$1(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function xo$1(e,o,a){var c=reactExports.useRef(e!==void 0),d=reactExports.useState(o),g=d[0],b=d[1],_=e!==void 0,$=c.current;return c.current=_,!_&&$&&g!==o&&b(o),[_?e:g,reactExports.useCallback(function(j){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),In=1;In<rt;In++)nt[In-1]=arguments[In];a&&a.apply(void 0,[j].concat(nt)),b(j)},[a])]}function qt$1(e,o){return qt$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},qt$1(e,o)}function Eo$1(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,qt$1(e,o)}const Br$1=e=>!e||typeof e=="function"?e:o=>{e.current=o};function Ao$1(e,o){const a=Br$1(e),c=Br$1(o);return d=>{a&&a(d),c&&c(d)}}function tt(e,o){return reactExports.useMemo(()=>Ao$1(e,o),[e,o])}var cn$1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var o={}.hasOwnProperty;function a(){for(var g="",b=0;b<arguments.length;b++){var _=arguments[b];_&&(g=d(g,c(_)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return a.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var _ in g)o.call(g,_)&&g[_]&&(b=d(b,_));return b}function d(g,b){return b?g?g+" "+b:g+b:g}e.exports?(a.default=a,e.exports=a):window.classNames=a})()})(cn$1);var Oo$1=cn$1.exports;const Ye$1=or$1(Oo$1);function Ir$1(){return reactExports.useState(null)}var Lr$1=Object.prototype.hasOwnProperty;function Hr(e,o,a){for(a of e.keys())if(lt(a,o))return a}function lt(e,o){var a,c,d;if(e===o)return!0;if(e&&o&&(a=e.constructor)===o.constructor){if(a===Date)return e.getTime()===o.getTime();if(a===RegExp)return e.toString()===o.toString();if(a===Array){if((c=e.length)===o.length)for(;c--&&lt(e[c],o[c]););return c===-1}if(a===Set){if(e.size!==o.size)return!1;for(c of e)if(d=c,d&&typeof d=="object"&&(d=Hr(o,d),!d)||!o.has(d))return!1;return!0}if(a===Map){if(e.size!==o.size)return!1;for(c of e)if(d=c[0],d&&typeof d=="object"&&(d=Hr(o,d),!d)||!lt(c[1],o.get(d)))return!1;return!0}if(a===ArrayBuffer)e=new Uint8Array(e),o=new Uint8Array(o);else if(a===DataView){if((c=e.byteLength)===o.byteLength)for(;c--&&e.getInt8(c)===o.getInt8(c););return c===-1}if(ArrayBuffer.isView(e)){if((c=e.byteLength)===o.byteLength)for(;c--&&e[c]===o[c];);return c===-1}if(!a||typeof e=="object"){c=0;for(a in e)if(Lr$1.call(e,a)&&++c&&!Lr$1.call(o,a)||!(a in o)||!lt(e[a],o[a]))return!1;return Object.keys(o).length===c}}return e!==e&&o!==o}function Ro$1(e){const o=on();return[e[0],reactExports.useCallback(a=>{if(o())return e[1](a)},[o,e[1]])]}var de$1="top",be="bottom",we="right",pe$1="left",ar="auto",ht=[de$1,be,we,pe$1],Qe$1="start",vt="end",To$1="clippingParents",ln$1="viewport",ut="popper",Co$1="reference",Nr=ht.reduce(function(e,o){return e.concat([o+"-"+Qe$1,o+"-"+vt])},[]),fn$1=[].concat(ht,[ar]).reduce(function(e,o){return e.concat([o,o+"-"+Qe$1,o+"-"+vt])},[]),So$1="beforeRead",ko$1="read",Po$1="afterRead",jo$1="beforeMain",Do$1="main",_o$1="afterMain",Mo$1="beforeWrite",Fo$1="write",Bo$1="afterWrite",Io$1=[So$1,ko$1,Po$1,jo$1,Do$1,_o$1,Mo$1,Fo$1,Bo$1];function xe(e){return e.split("-")[0]}function me(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var o=e.ownerDocument;return o&&o.defaultView||window}return e}function He$1(e){var o=me(e).Element;return e instanceof o||e instanceof Element}function Ee$1(e){var o=me(e).HTMLElement;return e instanceof o||e instanceof HTMLElement}function sr$1(e){if(typeof ShadowRoot>"u")return!1;var o=me(e).ShadowRoot;return e instanceof o||e instanceof ShadowRoot}var Le=Math.max,Ct$1=Math.min,Xe$1=Math.round;function zt$1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function dn$1(){return!/^((?!chrome|android).)*safari/i.test(zt$1())}function $e$1(e,o,a){o===void 0&&(o=!1),a===void 0&&(a=!1);var c=e.getBoundingClientRect(),d=1,g=1;o&&Ee$1(e)&&(d=e.offsetWidth>0&&Xe$1(c.width)/e.offsetWidth||1,g=e.offsetHeight>0&&Xe$1(c.height)/e.offsetHeight||1);var b=He$1(e)?me(e):window,_=b.visualViewport,$=!dn$1()&&a,j=(c.left+($&&_?_.offsetLeft:0))/d,rt=(c.top+($&&_?_.offsetTop:0))/g,nt=c.width/d,In=c.height/g;return{width:nt,height:In,top:rt,right:j+nt,bottom:rt+In,left:j,x:j,y:rt}}function ur$1(e){var o=$e$1(e),a=e.offsetWidth,c=e.offsetHeight;return Math.abs(o.width-a)<=1&&(a=o.width),Math.abs(o.height-c)<=1&&(c=o.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:c}}function pn$1(e,o){var a=o.getRootNode&&o.getRootNode();if(e.contains(o))return!0;if(a&&sr$1(a)){var c=o;do{if(c&&e.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function De(e){return e?(e.nodeName||"").toLowerCase():null}function Ce$1(e){return me(e).getComputedStyle(e)}function Lo$1(e){return["table","td","th"].indexOf(De(e))>=0}function _e$1(e){return((He$1(e)?e.ownerDocument:e.document)||window.document).documentElement}function kt$1(e){return De(e)==="html"?e:e.assignedSlot||e.parentNode||(sr$1(e)?e.host:null)||_e$1(e)}function Ur(e){return!Ee$1(e)||Ce$1(e).position==="fixed"?null:e.offsetParent}function Ho$1(e){var o=/firefox/i.test(zt$1()),a=/Trident/i.test(zt$1());if(a&&Ee$1(e)){var c=Ce$1(e);if(c.position==="fixed")return null}var d=kt$1(e);for(sr$1(d)&&(d=d.host);Ee$1(d)&&["html","body"].indexOf(De(d))<0;){var g=Ce$1(d);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||o&&g.willChange==="filter"||o&&g.filter&&g.filter!=="none")return d;d=d.parentNode}return null}function yt$1(e){for(var o=me(e),a=Ur(e);a&&Lo$1(a)&&Ce$1(a).position==="static";)a=Ur(a);return a&&(De(a)==="html"||De(a)==="body"&&Ce$1(a).position==="static")?o:a||Ho$1(e)||o}function cr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ft(e,o,a){return Le(e,Ct$1(o,a))}function No$1(e,o,a){var c=ft(e,o,a);return c>a?a:c}function vn$1(){return{top:0,right:0,bottom:0,left:0}}function mn$1(e){return Object.assign({},vn$1(),e)}function hn$1(e,o){return o.reduce(function(a,c){return a[c]=e,a},{})}var Uo$1=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,mn$1(typeof e!="number"?e:hn$1(e,ht))};function Yo$1(e){var o,a=e.state,c=e.name,d=e.options,g=a.elements.arrow,b=a.modifiersData.popperOffsets,_=xe(a.placement),$=cr(_),j=[pe$1,we].indexOf(_)>=0,rt=j?"height":"width";if(!(!g||!b)){var nt=Uo$1(d.padding,a),In=ur$1(g),xl=$==="y"?de$1:pe$1,Ll=$==="y"?be:we,Nl=a.rects.reference[rt]+a.rects.reference[$]-b[$]-a.rects.popper[rt],_u=b[$]-a.rects.reference[$],Yl=yt$1(g),Ul=Yl?$==="y"?Yl.clientHeight||0:Yl.clientWidth||0:0,Dl=Nl/2-_u/2,Zl=nt[xl],Ju=Ul-In[rt]-nt[Ll],Uu=Ul/2-In[rt]/2+Dl,fp=ft(Zl,Uu,Ju),Zu=$;a.modifiersData[c]=(o={},o[Zu]=fp,o.centerOffset=fp-Uu,o)}}function Vo$1(e){var o=e.state,a=e.options,c=a.element,d=c===void 0?"[data-popper-arrow]":c;d!=null&&(typeof d=="string"&&(d=o.elements.popper.querySelector(d),!d)||pn$1(o.elements.popper,d)&&(o.elements.arrow=d))}const Wo$1={name:"arrow",enabled:!0,phase:"main",fn:Yo$1,effect:Vo$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ze(e){return e.split("-")[1]}var Jo$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Go$1(e,o){var a=e.x,c=e.y,d=o.devicePixelRatio||1;return{x:Xe$1(a*d)/d||0,y:Xe$1(c*d)/d||0}}function Yr(e){var o,a=e.popper,c=e.popperRect,d=e.placement,g=e.variation,b=e.offsets,_=e.position,$=e.gpuAcceleration,j=e.adaptive,rt=e.roundOffsets,nt=e.isFixed,In=b.x,xl=In===void 0?0:In,Ll=b.y,Nl=Ll===void 0?0:Ll,_u=typeof rt=="function"?rt({x:xl,y:Nl}):{x:xl,y:Nl};xl=_u.x,Nl=_u.y;var Yl=b.hasOwnProperty("x"),Ul=b.hasOwnProperty("y"),Dl=pe$1,Zl=de$1,Ju=window;if(j){var Uu=yt$1(a),fp="clientHeight",Zu="clientWidth";if(Uu===me(a)&&(Uu=_e$1(a),Ce$1(Uu).position!=="static"&&_==="absolute"&&(fp="scrollHeight",Zu="scrollWidth")),Uu=Uu,d===de$1||(d===pe$1||d===we)&&g===vt){Zl=be;var Lp=nt&&Uu===Ju&&Ju.visualViewport?Ju.visualViewport.height:Uu[fp];Nl-=Lp-c.height,Nl*=$?1:-1}if(d===pe$1||(d===de$1||d===be)&&g===vt){Dl=we;var Np=nt&&Uu===Ju&&Ju.visualViewport?Ju.visualViewport.width:Uu[Zu];xl-=Np-c.width,xl*=$?1:-1}}var zp=Object.assign({position:_},j&&Jo$1),h0=rt===!0?Go$1({x:xl,y:Nl},me(a)):{x:xl,y:Nl};if(xl=h0.x,Nl=h0.y,$){var k0;return Object.assign({},zp,(k0={},k0[Zl]=Ul?"0":"",k0[Dl]=Yl?"0":"",k0.transform=(Ju.devicePixelRatio||1)<=1?"translate("+xl+"px, "+Nl+"px)":"translate3d("+xl+"px, "+Nl+"px, 0)",k0))}return Object.assign({},zp,(o={},o[Zl]=Ul?Nl+"px":"",o[Dl]=Yl?xl+"px":"",o.transform="",o))}function qo$1(e){var o=e.state,a=e.options,c=a.gpuAcceleration,d=c===void 0?!0:c,g=a.adaptive,b=g===void 0?!0:g,_=a.roundOffsets,$=_===void 0?!0:_,j={placement:xe(o.placement),variation:Ze(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:d,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,Yr(Object.assign({},j,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:b,roundOffsets:$})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,Yr(Object.assign({},j,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:$})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const zo$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qo$1,data:{}};var At={passive:!0};function Ko$1(e){var o=e.state,a=e.instance,c=e.options,d=c.scroll,g=d===void 0?!0:d,b=c.resize,_=b===void 0?!0:b,$=me(o.elements.popper),j=[].concat(o.scrollParents.reference,o.scrollParents.popper);return g&&j.forEach(function(rt){rt.addEventListener("scroll",a.update,At)}),_&&$.addEventListener("resize",a.update,At),function(){g&&j.forEach(function(rt){rt.removeEventListener("scroll",a.update,At)}),_&&$.removeEventListener("resize",a.update,At)}}const Qo$1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ko$1,data:{}};var Xo$1={left:"right",right:"left",bottom:"top",top:"bottom"};function Rt$1(e){return e.replace(/left|right|bottom|top/g,function(o){return Xo$1[o]})}var $o$1={start:"end",end:"start"};function Vr(e){return e.replace(/start|end/g,function(o){return $o$1[o]})}function lr$1(e){var o=me(e),a=o.pageXOffset,c=o.pageYOffset;return{scrollLeft:a,scrollTop:c}}function fr$1(e){return $e$1(_e$1(e)).left+lr$1(e).scrollLeft}function Zo$1(e,o){var a=me(e),c=_e$1(e),d=a.visualViewport,g=c.clientWidth,b=c.clientHeight,_=0,$=0;if(d){g=d.width,b=d.height;var j=dn$1();(j||!j&&o==="fixed")&&(_=d.offsetLeft,$=d.offsetTop)}return{width:g,height:b,x:_+fr$1(e),y:$}}function ei(e){var o,a=_e$1(e),c=lr$1(e),d=(o=e.ownerDocument)==null?void 0:o.body,g=Le(a.scrollWidth,a.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),b=Le(a.scrollHeight,a.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),_=-c.scrollLeft+fr$1(e),$=-c.scrollTop;return Ce$1(d||a).direction==="rtl"&&(_+=Le(a.clientWidth,d?d.clientWidth:0)-g),{width:g,height:b,x:_,y:$}}function dr$1(e){var o=Ce$1(e),a=o.overflow,c=o.overflowX,d=o.overflowY;return/auto|scroll|overlay|hidden/.test(a+d+c)}function yn$1(e){return["html","body","#document"].indexOf(De(e))>=0?e.ownerDocument.body:Ee$1(e)&&dr$1(e)?e:yn$1(kt$1(e))}function dt$1(e,o){var a;o===void 0&&(o=[]);var c=yn$1(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),g=me(c),b=d?[g].concat(g.visualViewport||[],dr$1(c)?c:[]):c,_=o.concat(b);return d?_:_.concat(dt$1(kt$1(b)))}function Kt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ti$1(e,o){var a=$e$1(e,!1,o==="fixed");return a.top=a.top+e.clientTop,a.left=a.left+e.clientLeft,a.bottom=a.top+e.clientHeight,a.right=a.left+e.clientWidth,a.width=e.clientWidth,a.height=e.clientHeight,a.x=a.left,a.y=a.top,a}function Wr(e,o,a){return o===ln$1?Kt(Zo$1(e,a)):He$1(o)?ti$1(o,a):Kt(ei(_e$1(e)))}function ri$1(e){var o=dt$1(kt$1(e)),a=["absolute","fixed"].indexOf(Ce$1(e).position)>=0,c=a&&Ee$1(e)?yt$1(e):e;return He$1(c)?o.filter(function(d){return He$1(d)&&pn$1(d,c)&&De(d)!=="body"}):[]}function ni(e,o,a,c){var d=o==="clippingParents"?ri$1(e):[].concat(o),g=[].concat(d,[a]),b=g[0],_=g.reduce(function($,j){var rt=Wr(e,j,c);return $.top=Le(rt.top,$.top),$.right=Ct$1(rt.right,$.right),$.bottom=Ct$1(rt.bottom,$.bottom),$.left=Le(rt.left,$.left),$},Wr(e,b,c));return _.width=_.right-_.left,_.height=_.bottom-_.top,_.x=_.left,_.y=_.top,_}function gn$1(e){var o=e.reference,a=e.element,c=e.placement,d=c?xe(c):null,g=c?Ze(c):null,b=o.x+o.width/2-a.width/2,_=o.y+o.height/2-a.height/2,$;switch(d){case de$1:$={x:b,y:o.y-a.height};break;case be:$={x:b,y:o.y+o.height};break;case we:$={x:o.x+o.width,y:_};break;case pe$1:$={x:o.x-a.width,y:_};break;default:$={x:o.x,y:o.y}}var j=d?cr(d):null;if(j!=null){var rt=j==="y"?"height":"width";switch(g){case Qe$1:$[j]=$[j]-(o[rt]/2-a[rt]/2);break;case vt:$[j]=$[j]+(o[rt]/2-a[rt]/2);break}}return $}function mt(e,o){o===void 0&&(o={});var a=o,c=a.placement,d=c===void 0?e.placement:c,g=a.strategy,b=g===void 0?e.strategy:g,_=a.boundary,$=_===void 0?To$1:_,j=a.rootBoundary,rt=j===void 0?ln$1:j,nt=a.elementContext,In=nt===void 0?ut:nt,xl=a.altBoundary,Ll=xl===void 0?!1:xl,Nl=a.padding,_u=Nl===void 0?0:Nl,Yl=mn$1(typeof _u!="number"?_u:hn$1(_u,ht)),Ul=In===ut?Co$1:ut,Dl=e.rects.popper,Zl=e.elements[Ll?Ul:In],Ju=ni(He$1(Zl)?Zl:Zl.contextElement||_e$1(e.elements.popper),$,rt,b),Uu=$e$1(e.elements.reference),fp=gn$1({reference:Uu,element:Dl,placement:d}),Zu=Kt(Object.assign({},Dl,fp)),Lp=In===ut?Zu:Uu,Np={top:Ju.top-Lp.top+Yl.top,bottom:Lp.bottom-Ju.bottom+Yl.bottom,left:Ju.left-Lp.left+Yl.left,right:Lp.right-Ju.right+Yl.right},zp=e.modifiersData.offset;if(In===ut&&zp){var h0=zp[d];Object.keys(Np).forEach(function(k0){var D0=[we,be].indexOf(k0)>=0?1:-1,s0=[de$1,be].indexOf(k0)>=0?"y":"x";Np[k0]+=h0[s0]*D0})}return Np}function oi(e,o){o===void 0&&(o={});var a=o,c=a.placement,d=a.boundary,g=a.rootBoundary,b=a.padding,_=a.flipVariations,$=a.allowedAutoPlacements,j=$===void 0?fn$1:$,rt=Ze(c),nt=rt?_?Nr:Nr.filter(function(Ll){return Ze(Ll)===rt}):ht,In=nt.filter(function(Ll){return j.indexOf(Ll)>=0});In.length===0&&(In=nt);var xl=In.reduce(function(Ll,Nl){return Ll[Nl]=mt(e,{placement:Nl,boundary:d,rootBoundary:g,padding:b})[xe(Nl)],Ll},{});return Object.keys(xl).sort(function(Ll,Nl){return xl[Ll]-xl[Nl]})}function ii(e){if(xe(e)===ar)return[];var o=Rt$1(e);return[Vr(e),o,Vr(o)]}function ai$1(e){var o=e.state,a=e.options,c=e.name;if(!o.modifiersData[c]._skip){for(var d=a.mainAxis,g=d===void 0?!0:d,b=a.altAxis,_=b===void 0?!0:b,$=a.fallbackPlacements,j=a.padding,rt=a.boundary,nt=a.rootBoundary,In=a.altBoundary,xl=a.flipVariations,Ll=xl===void 0?!0:xl,Nl=a.allowedAutoPlacements,_u=o.options.placement,Yl=xe(_u),Ul=Yl===_u,Dl=$||(Ul||!Ll?[Rt$1(_u)]:ii(_u)),Zl=[_u].concat(Dl).reduce(function(e0,V0){return e0.concat(xe(V0)===ar?oi(o,{placement:V0,boundary:rt,rootBoundary:nt,padding:j,flipVariations:Ll,allowedAutoPlacements:Nl}):V0)},[]),Ju=o.rects.reference,Uu=o.rects.popper,fp=new Map,Zu=!0,Lp=Zl[0],Np=0;Np<Zl.length;Np++){var zp=Zl[Np],h0=xe(zp),k0=Ze(zp)===Qe$1,D0=[de$1,be].indexOf(h0)>=0,s0=D0?"width":"height",dp=mt(o,{placement:zp,boundary:rt,rootBoundary:nt,altBoundary:In,padding:j}),S0=D0?k0?we:pe$1:k0?be:de$1;Ju[s0]>Uu[s0]&&(S0=Rt$1(S0));var l0=Rt$1(S0),Op=[];if(g&&Op.push(dp[h0]<=0),_&&Op.push(dp[S0]<=0,dp[l0]<=0),Op.every(function(e0){return e0})){Lp=zp,Zu=!1;break}fp.set(zp,Op)}if(Zu)for(var Wp=Ll?3:1,mm=function(e0){var V0=Zl.find(function(ym){var Am=fp.get(ym);if(Am)return Am.slice(0,e0).every(function(am){return am})});if(V0)return Lp=V0,"break"},fm=Wp;fm>0;fm--){var g0=mm(fm);if(g0==="break")break}o.placement!==Lp&&(o.modifiersData[c]._skip=!0,o.placement=Lp,o.reset=!0)}}const si={name:"flip",enabled:!0,phase:"main",fn:ai$1,requiresIfExists:["offset"],data:{_skip:!1}};function Jr(e,o,a){return a===void 0&&(a={x:0,y:0}),{top:e.top-o.height-a.y,right:e.right-o.width+a.x,bottom:e.bottom-o.height+a.y,left:e.left-o.width-a.x}}function Gr(e){return[de$1,we,be,pe$1].some(function(o){return e[o]>=0})}function ui$1(e){var o=e.state,a=e.name,c=o.rects.reference,d=o.rects.popper,g=o.modifiersData.preventOverflow,b=mt(o,{elementContext:"reference"}),_=mt(o,{altBoundary:!0}),$=Jr(b,c),j=Jr(_,d,g),rt=Gr($),nt=Gr(j);o.modifiersData[a]={referenceClippingOffsets:$,popperEscapeOffsets:j,isReferenceHidden:rt,hasPopperEscaped:nt},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":rt,"data-popper-escaped":nt})}const ci$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ui$1};function li$2(e,o,a){var c=xe(e),d=[pe$1,de$1].indexOf(c)>=0?-1:1,g=typeof a=="function"?a(Object.assign({},o,{placement:e})):a,b=g[0],_=g[1];return b=b||0,_=(_||0)*d,[pe$1,we].indexOf(c)>=0?{x:_,y:b}:{x:b,y:_}}function fi(e){var o=e.state,a=e.options,c=e.name,d=a.offset,g=d===void 0?[0,0]:d,b=fn$1.reduce(function(rt,nt){return rt[nt]=li$2(nt,o.rects,g),rt},{}),_=b[o.placement],$=_.x,j=_.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=$,o.modifiersData.popperOffsets.y+=j),o.modifiersData[c]=b}const di={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fi};function pi(e){var o=e.state,a=e.name;o.modifiersData[a]=gn$1({reference:o.rects.reference,element:o.rects.popper,placement:o.placement})}const vi={name:"popperOffsets",enabled:!0,phase:"read",fn:pi,data:{}};function mi(e){return e==="x"?"y":"x"}function hi$1(e){var o=e.state,a=e.options,c=e.name,d=a.mainAxis,g=d===void 0?!0:d,b=a.altAxis,_=b===void 0?!1:b,$=a.boundary,j=a.rootBoundary,rt=a.altBoundary,nt=a.padding,In=a.tether,xl=In===void 0?!0:In,Ll=a.tetherOffset,Nl=Ll===void 0?0:Ll,_u=mt(o,{boundary:$,rootBoundary:j,padding:nt,altBoundary:rt}),Yl=xe(o.placement),Ul=Ze(o.placement),Dl=!Ul,Zl=cr(Yl),Ju=mi(Zl),Uu=o.modifiersData.popperOffsets,fp=o.rects.reference,Zu=o.rects.popper,Lp=typeof Nl=="function"?Nl(Object.assign({},o.rects,{placement:o.placement})):Nl,Np=typeof Lp=="number"?{mainAxis:Lp,altAxis:Lp}:Object.assign({mainAxis:0,altAxis:0},Lp),zp=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,h0={x:0,y:0};if(Uu){if(g){var k0,D0=Zl==="y"?de$1:pe$1,s0=Zl==="y"?be:we,dp=Zl==="y"?"height":"width",S0=Uu[Zl],l0=S0+_u[D0],Op=S0-_u[s0],Wp=xl?-Zu[dp]/2:0,mm=Ul===Qe$1?fp[dp]:Zu[dp],fm=Ul===Qe$1?-Zu[dp]:-fp[dp],g0=o.elements.arrow,e0=xl&&g0?ur$1(g0):{width:0,height:0},V0=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:vn$1(),ym=V0[D0],Am=V0[s0],am=ft(0,fp[dp],e0[dp]),Rm=Dl?fp[dp]/2-Wp-am-ym-Np.mainAxis:mm-am-ym-Np.mainAxis,Lm=Dl?-fp[dp]/2+Wp+am+Am+Np.mainAxis:fm+am+Am+Np.mainAxis,Fm=o.elements.arrow&&yt$1(o.elements.arrow),s1=Fm?Zl==="y"?Fm.clientTop||0:Fm.clientLeft||0:0,r1=(k0=zp==null?void 0:zp[Zl])!=null?k0:0,Y1=S0+Rm-r1-s1,G1=S0+Lm-r1,wv=ft(xl?Ct$1(l0,Y1):l0,S0,xl?Le(Op,G1):Op);Uu[Zl]=wv,h0[Zl]=wv-S0}if(_){var Mv,Cv=Zl==="x"?de$1:pe$1,lv=Zl==="x"?be:we,J1=Uu[Ju],dy=Ju==="y"?"height":"width",Iv=J1+_u[Cv],Dv=J1-_u[lv],_y=[de$1,pe$1].indexOf(Yl)!==-1,wy=(Mv=zp==null?void 0:zp[Ju])!=null?Mv:0,Sm=_y?Iv:J1-fp[dy]-Zu[dy]-wy+Np.altAxis,Xp=_y?J1+fp[dy]+Zu[dy]-wy-Np.altAxis:Dv,R0=xl&&_y?No$1(Sm,J1,Xp):ft(xl?Sm:Iv,J1,xl?Xp:Dv);Uu[Ju]=R0,h0[Ju]=R0-J1}o.modifiersData[c]=h0}}const yi$1={name:"preventOverflow",enabled:!0,phase:"main",fn:hi$1,requiresIfExists:["offset"]};function gi(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function bi$1(e){return e===me(e)||!Ee$1(e)?lr$1(e):gi(e)}function wi$1(e){var o=e.getBoundingClientRect(),a=Xe$1(o.width)/e.offsetWidth||1,c=Xe$1(o.height)/e.offsetHeight||1;return a!==1||c!==1}function xi(e,o,a){a===void 0&&(a=!1);var c=Ee$1(o),d=Ee$1(o)&&wi$1(o),g=_e$1(o),b=$e$1(e,d,a),_={scrollLeft:0,scrollTop:0},$={x:0,y:0};return(c||!c&&!a)&&((De(o)!=="body"||dr$1(g))&&(_=bi$1(o)),Ee$1(o)?($=$e$1(o,!0),$.x+=o.clientLeft,$.y+=o.clientTop):g&&($.x=fr$1(g))),{x:b.left+_.scrollLeft-$.x,y:b.top+_.scrollTop-$.y,width:b.width,height:b.height}}function Ei(e){var o=new Map,a=new Set,c=[];e.forEach(function(g){o.set(g.name,g)});function d(g){a.add(g.name);var b=[].concat(g.requires||[],g.requiresIfExists||[]);b.forEach(function(_){if(!a.has(_)){var $=o.get(_);$&&d($)}}),c.push(g)}return e.forEach(function(g){a.has(g.name)||d(g)}),c}function Ai$1(e){var o=Ei(e);return Io$1.reduce(function(a,c){return a.concat(o.filter(function(d){return d.phase===c}))},[])}function Oi$1(e){var o;return function(){return o||(o=new Promise(function(a){Promise.resolve().then(function(){o=void 0,a(e())})})),o}}function Ri$1(e){var o=e.reduce(function(a,c){var d=a[c.name];return a[c.name]=d?Object.assign({},d,c,{options:Object.assign({},d.options,c.options),data:Object.assign({},d.data,c.data)}):c,a},{});return Object.keys(o).map(function(a){return o[a]})}var qr={placement:"bottom",modifiers:[],strategy:"absolute"};function zr$1(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return!o.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function Ti$1(e){e===void 0&&(e={});var o=e,a=o.defaultModifiers,c=a===void 0?[]:a,d=o.defaultOptions,g=d===void 0?qr:d;return function(b,_,$){$===void 0&&($=g);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},qr,g),modifiersData:{},elements:{reference:b,popper:_},attributes:{},styles:{}},rt=[],nt=!1,In={state:j,setOptions:function(Nl){var _u=typeof Nl=="function"?Nl(j.options):Nl;Ll(),j.options=Object.assign({},g,j.options,_u),j.scrollParents={reference:He$1(b)?dt$1(b):b.contextElement?dt$1(b.contextElement):[],popper:dt$1(_)};var Yl=Ai$1(Ri$1([].concat(c,j.options.modifiers)));return j.orderedModifiers=Yl.filter(function(Ul){return Ul.enabled}),xl(),In.update()},forceUpdate:function(){if(!nt){var Nl=j.elements,_u=Nl.reference,Yl=Nl.popper;if(zr$1(_u,Yl)){j.rects={reference:xi(_u,yt$1(Yl),j.options.strategy==="fixed"),popper:ur$1(Yl)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(Zu){return j.modifiersData[Zu.name]=Object.assign({},Zu.data)});for(var Ul=0;Ul<j.orderedModifiers.length;Ul++){if(j.reset===!0){j.reset=!1,Ul=-1;continue}var Dl=j.orderedModifiers[Ul],Zl=Dl.fn,Ju=Dl.options,Uu=Ju===void 0?{}:Ju,fp=Dl.name;typeof Zl=="function"&&(j=Zl({state:j,options:Uu,name:fp,instance:In})||j)}}}},update:Oi$1(function(){return new Promise(function(Nl){In.forceUpdate(),Nl(j)})}),destroy:function(){Ll(),nt=!0}};if(!zr$1(b,_))return In;In.setOptions($).then(function(Nl){!nt&&$.onFirstUpdate&&$.onFirstUpdate(Nl)});function xl(){j.orderedModifiers.forEach(function(Nl){var _u=Nl.name,Yl=Nl.options,Ul=Yl===void 0?{}:Yl,Dl=Nl.effect;if(typeof Dl=="function"){var Zl=Dl({state:j,name:_u,instance:In,options:Ul}),Ju=function(){};rt.push(Zl||Ju)}})}function Ll(){rt.forEach(function(Nl){return Nl()}),rt=[]}return In}}const Ci$1=Ti$1({defaultModifiers:[ci$1,vi,zo$1,Qo$1,di,si,yi$1,Wo$1]}),Si$1=["enabled","placement","strategy","modifiers"];function ki$1(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}const Pi$1={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ji$1={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:o,popper:a}=e.elements;if("removeAttribute"in o){const c=(o.getAttribute("aria-describedby")||"").split(",").filter(d=>d.trim()!==a.id);c.length?o.setAttribute("aria-describedby",c.join(",")):o.removeAttribute("aria-describedby")}},fn:({state:e})=>{var o;const{popper:a,reference:c}=e.elements,d=(o=a.getAttribute("role"))==null?void 0:o.toLowerCase();if(a.id&&d==="tooltip"&&"setAttribute"in c){const g=c.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(a.id)!==-1)return;c.setAttribute("aria-describedby",g?`${g},${a.id}`:a.id)}}},Di$1=[];function _i$2(e,o,a={}){let{enabled:c=!0,placement:d="bottom",strategy:g="absolute",modifiers:b=Di$1}=a,_=ki$1(a,Si$1);const $=reactExports.useRef(b),j=reactExports.useRef(),rt=reactExports.useCallback(()=>{var _u;(_u=j.current)==null||_u.update()},[]),nt=reactExports.useCallback(()=>{var _u;(_u=j.current)==null||_u.forceUpdate()},[]),[In,xl]=Ro$1(reactExports.useState({placement:d,update:rt,forceUpdate:nt,attributes:{},styles:{popper:{},arrow:{}}})),Ll=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:_u})=>{const Yl={},Ul={};Object.keys(_u.elements).forEach(Dl=>{Yl[Dl]=_u.styles[Dl],Ul[Dl]=_u.attributes[Dl]}),xl({state:_u,styles:Yl,attributes:Ul,update:rt,forceUpdate:nt,placement:_u.placement})}}),[rt,nt,xl]),Nl=reactExports.useMemo(()=>(lt($.current,b)||($.current=b),$.current),[b]);return reactExports.useEffect(()=>{!j.current||!c||j.current.setOptions({placement:d,strategy:g,modifiers:[...Nl,Ll,Pi$1]})},[g,d,Ll,c,Nl]),reactExports.useEffect(()=>{if(!(!c||e==null||o==null))return j.current=Ci$1(e,o,Object.assign({},_,{placement:d,strategy:g,modifiers:[...Nl,ji$1,Ll]})),()=>{j.current!=null&&(j.current.destroy(),j.current=void 0,xl(_u=>Object.assign({},_u,{attributes:{},styles:{popper:{}}})))}},[c,e,o]),In}const pr$1=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qt$1=!1,Xt$1=!1;try{var Ut$1={get passive(){return Qt$1=!0},get once(){return Xt$1=Qt$1=!0}};pr$1&&(window.addEventListener("test",Ut$1,Ut$1),window.removeEventListener("test",Ut$1,!0))}catch{}function Mi$1(e,o,a,c){if(c&&typeof c!="boolean"&&!Xt$1){var d=c.once,g=c.capture,b=a;!Xt$1&&d&&(b=a.__once||function _($){this.removeEventListener(o,_,g),a.call(this,$)},a.__once=b),e.addEventListener(o,b,Qt$1?c:g)}e.addEventListener(o,a,c)}function Fi$1(e,o,a,c){var d=c&&typeof c!="boolean"?c.capture:c;e.removeEventListener(o,a,d),a.__once&&e.removeEventListener(o,a.__once,d)}function Ie$1(e,o,a,c){return Mi$1(e,o,a,c),function(){Fi$1(e,o,a,c)}}function Pt$1(e){return e&&e.ownerDocument||document}function Bi$1(e){const o=reactExports.useRef(e);return reactExports.useEffect(()=>{o.current=e},[e]),o}function et(e){const o=Bi$1(e);return reactExports.useCallback(function(...a){return o.current&&o.current(...a)},[o])}const Kr=()=>{};function Ii$1(e){return e.button===0}function Li$1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const Tt=e=>e&&("current"in e?e.current:e),Qr={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Hi$1(e,o=Kr,{disabled:a,clickTrigger:c="click"}={}){const d=reactExports.useRef(!1),g=reactExports.useRef(!1),b=reactExports.useCallback(j=>{const rt=Tt(e);un$1(!!rt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),d.current=!rt||Li$1(j)||!Ii$1(j)||!!Wt(rt,j.target)||g.current,g.current=!1},[e]),_=et(j=>{const rt=Tt(e);rt&&Wt(rt,j.target)&&(g.current=!0)}),$=et(j=>{d.current||o(j)});reactExports.useEffect(()=>{var j,rt;if(a||e==null)return;const nt=Pt$1(Tt(e)),In=nt.defaultView||window;let xl=(j=In.event)!=null?j:(rt=In.parent)==null?void 0:rt.event,Ll=null;Qr[c]&&(Ll=Ie$1(nt,Qr[c],_,!0));const Nl=Ie$1(nt,c,b,!0),_u=Ie$1(nt,c,Ul=>{if(Ul===xl){xl=void 0;return}$(Ul)});let Yl=[];return"ontouchstart"in nt.documentElement&&(Yl=[].slice.call(nt.body.children).map(Ul=>Ie$1(Ul,"mousemove",Kr))),()=>{Ll==null||Ll(),Nl(),_u(),Yl.forEach(Ul=>Ul())}},[e,a,c,b,_,$])}function Ni$1(e){return e.code==="Escape"||e.keyCode===27}const Ui$1=()=>{};function Yi$1(e,o,{disabled:a,clickTrigger:c}={}){const d=o||Ui$1;Hi$1(e,d,{disabled:a,clickTrigger:c});const g=et(b=>{Ni$1(b)&&d(b)});reactExports.useEffect(()=>{if(a||e==null)return;const b=Pt$1(Tt(e));let _=(b.defaultView||window).event;const $=Ie$1(b,"keyup",j=>{if(j===_){_=void 0;return}g(j)});return()=>{$()}},[e,a,g])}const bn=reactExports.createContext(pr$1?window:void 0);bn.Provider;function Vi$1(){return reactExports.useContext(bn)}const Yt=(e,o)=>pr$1?e==null?(o||Pt$1()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Xr(e,o){const a=Vi$1(),[c,d]=reactExports.useState(()=>Yt(e,a==null?void 0:a.document));if(!c){const g=Yt(e);g&&d(g)}return reactExports.useEffect(()=>{},[o,c]),reactExports.useEffect(()=>{const g=Yt(e);g!==c&&d(g)},[e,c]),c}function Wi$1(e){const o={};return Array.isArray(e)?(e==null||e.forEach(a=>{o[a.name]=a}),o):e||o}function Ji$1(e={}){return Array.isArray(e)?e:Object.keys(e).map(o=>(e[o].name=o,e[o]))}function Gi$1({enabled:e,enableEvents:o,placement:a,flip:c,offset:d,fixed:g,containerPadding:b,arrowElement:_,popperConfig:$={}}){var j,rt,nt,In;const xl=Wi$1($.modifiers);return Object.assign({},$,{placement:a,enabled:e,strategy:g?"fixed":$.strategy,modifiers:Ji$1(Object.assign({},xl,{eventListeners:{enabled:o,options:(j=xl.eventListeners)==null?void 0:j.options},preventOverflow:Object.assign({},xl.preventOverflow,{options:Object.assign({padding:b},(rt=xl.preventOverflow)==null?void 0:rt.options)}),offset:{options:Object.assign({offset:d},(nt=xl.offset)==null?void 0:nt.options)},arrow:Object.assign({},xl.arrow,{enabled:!!_,options:Object.assign({},(In=xl.arrow)==null?void 0:In.options,{element:_})}),flip:Object.assign({enabled:!!c},xl.flip)}))})}const qi$1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",zi$1=typeof document<"u",$t$1=zi$1||qi$1?reactExports.useLayoutEffect:reactExports.useEffect;function Ki$1({children:e,in:o,onExited:a,mountOnEnter:c,unmountOnExit:d}){const g=reactExports.useRef(null),b=reactExports.useRef(o),_=et(a);reactExports.useEffect(()=>{o?b.current=!0:_(g.current)},[o,_]);const $=tt(g,e.ref),j=reactExports.cloneElement(e,{ref:$});return o?j:d||!b.current&&c?null:j}function Qi$1({in:e,onTransition:o}){const a=reactExports.useRef(null),c=reactExports.useRef(!0),d=et(o);return $t$1(()=>{if(!a.current)return;let g=!1;return d({in:e,element:a.current,initial:c.current,isStale:()=>g}),()=>{g=!0}},[e,d]),$t$1(()=>(c.current=!1,()=>{c.current=!0}),[]),a}function Xi$1({children:e,in:o,onExited:a,onEntered:c,transition:d}){const[g,b]=reactExports.useState(!o);o&&g&&b(!1);const _=Qi$1({in:!!o,onTransition:j=>{const rt=()=>{j.isStale()||(j.in?c==null||c(j.element,j.initial):(b(!0),a==null||a(j.element)))};Promise.resolve(d(j)).then(rt,nt=>{throw j.in||b(!0),nt})}}),$=tt(_,e.ref);return g&&!o?null:reactExports.cloneElement(e,{ref:$})}function $i$1(e,o,a){return e?k.jsx(e,Object.assign({},a)):o?k.jsx(Xi$1,Object.assign({},a,{transition:o})):k.jsx(Ki$1,Object.assign({},a))}const wn=reactExports.forwardRef((e,o)=>{const{flip:a,offset:c,placement:d,containerPadding:g,popperConfig:b={},transition:_,runTransition:$}=e,[j,rt]=Ir$1(),[nt,In]=Ir$1(),xl=tt(rt,o),Ll=Xr(e.container),Nl=Xr(e.target),[_u,Yl]=reactExports.useState(!e.show),Ul=_i$2(Nl,j,Gi$1({placement:d,enableEvents:!!e.show,containerPadding:g||5,flip:a,offset:c,arrowElement:nt,popperConfig:b}));e.show&&_u&&Yl(!1);const Dl=(...zp)=>{Yl(!0),e.onExited&&e.onExited(...zp)},Zl=e.show||!_u;if(Yi$1(j,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!Zl)return null;const{onExit:Ju,onExiting:Uu,onEnter:fp,onEntering:Zu,onEntered:Lp}=e;let Np=e.children(Object.assign({},Ul.attributes.popper,{style:Ul.styles.popper,ref:xl}),{popper:Ul,placement:d,show:!!e.show,arrowProps:Object.assign({},Ul.attributes.arrow,{style:Ul.styles.arrow,ref:In})});return Np=$i$1(_,$,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Np,onExit:Ju,onExiting:Uu,onExited:Dl,onEnter:fp,onEntering:Zu,onEntered:Lp}),Ll?ReactDOM.createPortal(Np,Ll):null});wn.displayName="Overlay";function $r(e,o){return e.classList?!!o&&e.classList.contains(o):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+o+" ")!==-1}const Zi$1=["xxl","xl","lg","md","sm","xs"],ea$1="xs",xn=reactExports.createContext({prefixes:{},breakpoints:Zi$1,minBreakpoint:ea$1});function Ne(e,o){const{prefixes:a}=reactExports.useContext(xn);return e||a[o]||o}function En(){const{dir:e}=reactExports.useContext(xn);return e==="rtl"}const An=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=Ne(o,"popover-header"),k.jsx(a,{ref:d,className:Ye$1(e,o),...c})));An.displayName="PopoverHeader";const vr$1=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=Ne(o,"popover-body"),k.jsx(a,{ref:d,className:Ye$1(e,o),...c})));vr$1.displayName="PopoverBody";function On(e,o){let a=e;return e==="left"?a=o?"end":"start":e==="right"&&(a=o?"start":"end"),a}function Rn(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const ta$1=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,body:g,arrowProps:b,hasDoneInitialMeasure:_,popper:$,show:j,...rt},nt)=>{const In=Ne(e,"popover"),xl=En(),[Ll]=(o==null?void 0:o.split("-"))||[],Nl=On(Ll,xl);let _u=c;return j&&!_&&(_u={...c,...Rn($==null?void 0:$.strategy)}),k.jsxs("div",{ref:nt,role:"tooltip",style:_u,"x-placement":Ll,className:Ye$1(a,In,Ll&&`bs-popover-${Nl}`),...rt,children:[k.jsx("div",{className:"popover-arrow",...b}),g?k.jsx(vr$1,{children:d}):d]})}),Zt$1=Object.assign(ta$1,{Header:An,Body:vr$1,POPPER_OFFSET:[0,8]}),Tn=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,arrowProps:g,hasDoneInitialMeasure:b,popper:_,show:$,...j},rt)=>{e=Ne(e,"tooltip");const nt=En(),[In]=(o==null?void 0:o.split("-"))||[],xl=On(In,nt);let Ll=c;return $&&!b&&(Ll={...c,...Rn(_==null?void 0:_.strategy)}),k.jsxs("div",{ref:rt,style:Ll,role:"tooltip","x-placement":In,className:Ye$1(a,e,`bs-tooltip-${xl}`),...j,children:[k.jsx("div",{className:"tooltip-arrow",...g}),k.jsx("div",{className:`${e}-inner`,children:d})]})});Tn.displayName="Tooltip";const Cn=Object.assign(Tn,{TOOLTIP_OFFSET:[0,6]});function ra$1(e){const o=reactExports.useRef(null),a=Ne(void 0,"popover"),c=Ne(void 0,"tooltip"),d=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(o.current){if($r(o.current,a))return Zt$1.POPPER_OFFSET;if($r(o.current,c))return Cn.TOOLTIP_OFFSET}return[0,0]}}}),[e,a,c]);return[o,[d]]}const Zr={disabled:!1},Sn$1=React.createContext(null);var oa$1=function(e){return e.scrollTop},ct="unmounted",Fe="exited",je="entering",Be="entered",er$1="exiting",Se$1=function(e){Eo$1(o,e);function o(c,d){var g;g=e.call(this,c,d)||this;var b=d,_=b&&!b.isMounting?c.enter:c.appear,$;return g.appearStatus=null,c.in?_?($=Fe,g.appearStatus=je):$=Be:c.unmountOnExit||c.mountOnEnter?$=ct:$=Fe,g.state={status:$},g.nextCallback=null,g}o.getDerivedStateFromProps=function(c,d){var g=c.in;return g&&d.status===ct?{status:Fe}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(c){var d=null;if(c!==this.props){var g=this.state.status;this.props.in?g!==je&&g!==Be&&(d=je):(g===je||g===Be)&&(d=er$1)}this.updateStatus(!1,d)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var c=this.props.timeout,d,g,b;return d=g=b=c,c!=null&&typeof c!="number"&&(d=c.exit,g=c.enter,b=c.appear!==void 0?c.appear:g),{exit:d,enter:g,appear:b}},a.updateStatus=function(c,d){if(c===void 0&&(c=!1),d!==null)if(this.cancelNextCallback(),d===je){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);g&&oa$1(g)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fe&&this.setState({status:ct})},a.performEnter=function(c){var d=this,g=this.props.enter,b=this.context?this.context.isMounting:c,_=this.props.nodeRef?[b]:[ReactDOM.findDOMNode(this),b],$=_[0],j=_[1],rt=this.getTimeouts(),nt=b?rt.appear:rt.enter;if(!c&&!g||Zr.disabled){this.safeSetState({status:Be},function(){d.props.onEntered($)});return}this.props.onEnter($,j),this.safeSetState({status:je},function(){d.props.onEntering($,j),d.onTransitionEnd(nt,function(){d.safeSetState({status:Be},function(){d.props.onEntered($,j)})})})},a.performExit=function(){var c=this,d=this.props.exit,g=this.getTimeouts(),b=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!d||Zr.disabled){this.safeSetState({status:Fe},function(){c.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:er$1},function(){c.props.onExiting(b),c.onTransitionEnd(g.exit,function(){c.safeSetState({status:Fe},function(){c.props.onExited(b)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(c,d){d=this.setNextCallback(d),this.setState(c,d)},a.setNextCallback=function(c){var d=this,g=!0;return this.nextCallback=function(b){g&&(g=!1,d.nextCallback=null,c(b))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},a.onTransitionEnd=function(c,d){this.setNextCallback(d);var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),b=c==null&&!this.props.addEndListener;if(!g||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var _=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],$=_[0],j=_[1];this.props.addEndListener($,j)}c!=null&&setTimeout(this.nextCallback,c)},a.render=function(){var c=this.state.status;if(c===ct)return null;var d=this.props,g=d.children;d.in,d.mountOnEnter,d.unmountOnExit,d.appear,d.enter,d.exit,d.timeout,d.addEndListener,d.onEnter,d.onEntering,d.onEntered,d.onExit,d.onExiting,d.onExited,d.nodeRef;var b=wo$1(d,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(Sn$1.Provider,{value:null},typeof g=="function"?g(c,b):React.cloneElement(React.Children.only(g),b))},o}(React.Component);Se$1.contextType=Sn$1;Se$1.propTypes={};function ze$1(){}Se$1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ze$1,onEntering:ze$1,onEntered:ze$1,onExit:ze$1,onExiting:ze$1,onExited:ze$1};Se$1.UNMOUNTED=ct;Se$1.EXITED=Fe;Se$1.ENTERING=je;Se$1.ENTERED=Be;Se$1.EXITING=er$1;function ia$1(e){var o=Pt$1(e);return o&&o.defaultView||window}function aa$1(e,o){return ia$1(e).getComputedStyle(e,o)}var sa$1=/([A-Z])/g;function ua$1(e){return e.replace(sa$1,"-$1").toLowerCase()}var ca$1=/^ms-/;function Ot(e){return ua$1(e).replace(ca$1,"-ms-")}var la$1=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function fa$1(e){return!!(e&&la$1.test(e))}function kn(e,o){var a="",c="";if(typeof o=="string")return e.style.getPropertyValue(Ot(o))||aa$1(e).getPropertyValue(Ot(o));Object.keys(o).forEach(function(d){var g=o[d];!g&&g!==0?e.style.removeProperty(Ot(d)):fa$1(d)?c+=d+"("+g+") ":a+=Ot(d)+": "+g+";"}),c&&(a+="transform: "+c+";"),e.style.cssText+=";"+a}function da$1(e,o,a,c){if(c===void 0&&(c=!0),e){var d=document.createEvent("HTMLEvents");d.initEvent(o,a,c),e.dispatchEvent(d)}}function pa$1(e){var o=kn(e,"transitionDuration")||"",a=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*a}function va$1(e,o,a){a===void 0&&(a=5);var c=!1,d=setTimeout(function(){c||da$1(e,"transitionend",!0)},o+a),g=Ie$1(e,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(d),g()}}function ma$1(e,o,a,c){a==null&&(a=pa$1(e)||0);var d=va$1(e,a,c),g=Ie$1(e,"transitionend",o);return function(){d(),g()}}function en$1(e,o){const a=kn(e,o)||"",c=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*c}function ha$1(e,o){const a=en$1(e,"transitionDuration"),c=en$1(e,"transitionDelay"),d=ma$1(e,g=>{g.target===e&&(d(),o(g))},a+c)}function ya$1(e){e.offsetHeight}function St(e){return e&&"setState"in e?ReactDOM.findDOMNode(e):e??null}const ga$1=React.forwardRef(({onEnter:e,onEntering:o,onEntered:a,onExit:c,onExiting:d,onExited:g,addEndListener:b,children:_,childRef:$,...j},rt)=>{const nt=reactExports.useRef(null),In=tt(nt,$),xl=Uu=>{In(St(Uu))},Ll=Uu=>fp=>{Uu&&nt.current&&Uu(nt.current,fp)},Nl=reactExports.useCallback(Ll(e),[e]),_u=reactExports.useCallback(Ll(o),[o]),Yl=reactExports.useCallback(Ll(a),[a]),Ul=reactExports.useCallback(Ll(c),[c]),Dl=reactExports.useCallback(Ll(d),[d]),Zl=reactExports.useCallback(Ll(g),[g]),Ju=reactExports.useCallback(Ll(b),[b]);return k.jsx(Se$1,{ref:rt,...j,onEnter:Nl,onEntered:Yl,onEntering:_u,onExit:Ul,onExited:Zl,onExiting:Dl,addEndListener:Ju,nodeRef:nt,children:typeof _=="function"?(Uu,fp)=>_(Uu,{...fp,ref:xl}):React.cloneElement(_,{ref:xl})})}),ba$1={[je]:"show",[Be]:"show"},tr$1=reactExports.forwardRef(({className:e,children:o,transitionClasses:a={},onEnter:c,...d},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...d},_=reactExports.useCallback(($,j)=>{ya$1($),c==null||c($,j)},[c]);return k.jsx(ga$1,{ref:g,addEndListener:ha$1,...b,onEnter:_,childRef:o.ref,children:($,j)=>reactExports.cloneElement(o,{...j,className:Ye$1("fade",e,o.props.className,ba$1[$],a[$])})})});tr$1.displayName="Fade";function wa$1(e,o){const{ref:a}=e,{ref:c}=o;e.ref=a.__wrapped||(a.__wrapped=d=>a(St(d))),o.ref=c.__wrapped||(c.__wrapped=d=>c(St(d)))}const Pn=reactExports.forwardRef(({children:e,transition:o=tr$1,popperConfig:a={},rootClose:c=!1,placement:d="top",show:g=!1,...b},_)=>{const $=reactExports.useRef({}),[j,rt]=reactExports.useState(null),[nt,In]=ra$1(b.offset),xl=tt(_,nt),Ll=o===!0?tr$1:o||void 0,Nl=et(_u=>{rt(_u),a==null||a.onFirstUpdate==null||a.onFirstUpdate(_u)});return $t$1(()=>{j&&b.target&&($.current.scheduleUpdate==null||$.current.scheduleUpdate())},[j,b.target]),reactExports.useEffect(()=>{g||rt(null)},[g]),k.jsx(wn,{...b,ref:xl,popperConfig:{...a,modifiers:In.concat(a.modifiers||[]),onFirstUpdate:Nl},transition:Ll,rootClose:c,placement:d,show:g,children:(_u,{arrowProps:Yl,popper:Ul,show:Dl})=>{var Zl,Ju;wa$1(_u,Yl);const Uu=Ul==null?void 0:Ul.placement,fp=Object.assign($.current,{state:Ul==null?void 0:Ul.state,scheduleUpdate:Ul==null?void 0:Ul.update,placement:Uu,outOfBoundaries:(Ul==null||(Zl=Ul.state)==null||(Ju=Zl.modifiersData.hide)==null?void 0:Ju.isReferenceHidden)||!1,strategy:a.strategy}),Zu=!!j;return typeof e=="function"?e({..._u,placement:Uu,show:Dl,...!o&&Dl&&{className:"show"},popper:fp,arrowProps:Yl,hasDoneInitialMeasure:Zu}):reactExports.cloneElement(e,{..._u,placement:Uu,arrowProps:Yl,popper:fp,hasDoneInitialMeasure:Zu,className:Ye$1(e.props.className,!o&&Dl&&"show"),style:{...e.props.style,..._u.style}})}})});Pn.displayName="Overlay";function xa$1(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function tn$1(e,o,a){const[c]=o,d=c.currentTarget,g=c.relatedTarget||c.nativeEvent[a];(!g||g!==d)&&!Wt(d,g)&&e(...o)}N$1.oneOf(["click","hover","focus"]);const mr$1=({trigger:e=["hover","focus"],overlay:o,children:a,popperConfig:c={},show:d,defaultShow:g=!1,onToggle:b,delay:_,placement:$,flip:j=$&&$.indexOf("auto")!==-1,...rt})=>{const nt=reactExports.useRef(null),In=tt(nt,a.ref),xl=ho$1(),Ll=reactExports.useRef(""),[Nl,_u]=xo$1(d,g,b),Yl=xa$1(_),{onFocus:Ul,onBlur:Dl,onClick:Zl}=typeof a!="function"?reactExports.Children.only(a).props:{},Ju=s0=>{In(St(s0))},Uu=reactExports.useCallback(()=>{if(xl.clear(),Ll.current="show",!Yl.show){_u(!0);return}xl.set(()=>{Ll.current==="show"&&_u(!0)},Yl.show)},[Yl.show,_u,xl]),fp=reactExports.useCallback(()=>{if(xl.clear(),Ll.current="hide",!Yl.hide){_u(!1);return}xl.set(()=>{Ll.current==="hide"&&_u(!1)},Yl.hide)},[Yl.hide,_u,xl]),Zu=reactExports.useCallback((...s0)=>{Uu(),Ul==null||Ul(...s0)},[Uu,Ul]),Lp=reactExports.useCallback((...s0)=>{fp(),Dl==null||Dl(...s0)},[fp,Dl]),Np=reactExports.useCallback((...s0)=>{_u(!Nl),Zl==null||Zl(...s0)},[Zl,_u,Nl]),zp=reactExports.useCallback((...s0)=>{tn$1(Uu,s0,"fromElement")},[Uu]),h0=reactExports.useCallback((...s0)=>{tn$1(fp,s0,"toElement")},[fp]),k0=e==null?[]:[].concat(e),D0={ref:Ju};return k0.indexOf("click")!==-1&&(D0.onClick=Np),k0.indexOf("focus")!==-1&&(D0.onFocus=Zu,D0.onBlur=Lp),k0.indexOf("hover")!==-1&&(D0.onMouseOver=zp,D0.onMouseOut=h0),k.jsxs(k.Fragment,{children:[typeof a=="function"?a(D0):reactExports.cloneElement(a,D0),k.jsx(Pn,{...rt,show:Nl,onHide:fp,flip:j,placement:$,popperConfig:c,target:nt.current,children:o})]})},Ea$1="_help_button_1s4g5_1",Aa$1={help_button:Ea$1};function Ia$1(e){let o=k.jsx("div",{className:Aa$1.help_button,children:"?"});return e.popover!=null&&(o=k.jsx(mr$1,{trigger:"click",rootClose:!0,placement:e.placement,overlay:e.popover,children:o})),o}const Oa$1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='36.012337'%20height='31.802971'%20viewBox='0%200%2036.012336%2031.802972'%20id='svg9098'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='mclogo-split-rotate-v9.svg'%3e%3cdefs%20id='defs9100'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='11.2'%20inkscape:cx='14.890099'%20inkscape:cy='23.051314'%20inkscape:document-units='px'%20inkscape:current-layer='g9'%20showgrid='false'%20units='px'%20inkscape:window-width='1680'%20inkscape:window-height='940'%20inkscape:window-x='0'%20inkscape:window-y='1'%20inkscape:window-maximized='1'%20fit-margin-top='3'%20fit-margin-left='3'%20fit-margin-right='3'%20fit-margin-bottom='5'%20/%3e%3cmetadata%20id='metadata9103'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(3.0066849,-1015.2422)'%3e%3cg%20id='mctriangle'%20transform='matrix(1.1533275,0,0,1.1556928,-379.094,391.20844)'%3e%3cg%20transform='translate(2975.41,266.50511)'%20style='display:inline;stroke:%23d21f15;stroke-width:0.86616874;stroke-opacity:1'%20id='layer6'%20/%3e%3cg%20id='g9'%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9220'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9224'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9228'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9232'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9236'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9240'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9244'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9248'%20/%3e%3cellipse%20ry='0.25958455'%20rx='0.26011693'%20cy='553.91522'%20cx='341.70126'%20id='ref'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.4000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20/%3e%3cpath%20id='mctriangleonly'%20d='M%20335.13723,550.18801%20338.41923,555.66439%20341.70129,561.14077%20344.98332,555.66439%20348.26535,550.18801%20341.70129,550.18801%20Z'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.91575587;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20inkscape:connector-curvature='0'%20/%3e%3ccircle%20cy='550.02032'%20cx='348.39252'%20id='circle7840-5'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20cy='550.02032'%20cx='335.01007'%20id='circle7842-0'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20id='circle7844-5'%20cx='341.70132'%20cy='561.30841'%20r='1.4070433'%20/%3e%3ccircle%20r='1.4070433'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;filter-blend-mode:normal;filter-gaussianBlur-deviation:0'%20id='movingcircle'%20cx='335.01007'%20cy='550.02032'%3e%3canimateTransform%20id='anim1'%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20values='0.0%200.0;13.38245%200.0;6.69125%2011.28809;0.0%200.0'%20type='translate'%20attributeName='transform'%20/%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function La$1(){return k.jsx("div",{style:{background:"transparent",border:"none",textAlign:"center"},children:k.jsx("img",{src:Oa$1,alt:"Materials Cloud spinner",style:{width:"100%",minWidth:"20px",maxWidth:"200px",height:"auto"}})})}const Ra$1=["as","disabled"];function Ta$1(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function Ca$1(e){return!e||e.trim()==="#"}function jn({tagName:e,disabled:o,href:a,target:c,rel:d,role:g,onClick:b,tabIndex:_=0,type:$}){e||(a!=null||c!=null||d!=null?e="a":e="button");const j={tagName:e};if(e==="button")return[{type:$||"button",disabled:o},j];const rt=In=>{if((o||e==="a"&&Ca$1(a))&&In.preventDefault(),o){In.stopPropagation();return}b==null||b(In)},nt=In=>{In.key===" "&&(In.preventDefault(),rt(In))};return e==="a"&&(a||(a="#"),o&&(a=void 0)),[{role:g??"button",disabled:void 0,tabIndex:o?void 0:_,href:a,target:e==="a"?c:void 0,"aria-disabled":o||void 0,rel:e==="a"?d:void 0,onClick:rt,onKeyDown:nt},j]}const Sa$1=reactExports.forwardRef((e,o)=>{let{as:a,disabled:c}=e,d=Ta$1(e,Ra$1);const[g,{tagName:b}]=jn(Object.assign({tagName:a,disabled:c},d));return k.jsx(b,Object.assign({},d,g,{ref:o}))});Sa$1.displayName="Button";const Dn=reactExports.forwardRef(({as:e,bsPrefix:o,variant:a="primary",size:c,active:d=!1,disabled:g=!1,className:b,..._},$)=>{const j=Ne(o,"btn"),[rt,{tagName:nt}]=jn({tagName:e,disabled:g,..._}),In=nt;return k.jsx(In,{...rt,..._,ref:$,disabled:g,className:Ye$1(b,j,d&&"active",a&&`${j}-${a}`,c&&`${j}-${c}`,_.href&&g&&"disabled")})});Dn.displayName="Button";const ka$1="_download_dropdown_menu_23m9j_1",Pa$1={download_dropdown_menu:ka$1};function Ha$1(e){var o=`${e.aiida_rest_url}/nodes/${e.uuid}/download`,a=k.jsx(Zt$1,{children:k.jsx(Zt$1.Body,{style:{padding:"5px 0px"},children:k.jsxs("ul",{className:Pa$1.download_dropdown_menu,children:[k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=chemdoodle`,children:"ChemDoodle"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=cif`,children:"CIF"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=xsf`,children:"XSF"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=xyz`,children:"XYZ"})})]})})});return k.jsx(mr$1,{trigger:"click",rootClose:!0,placement:"bottom",overlay:a,children:k.jsx(Dn,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",children:k.jsx("span",{className:"bi bi-download"})})})}const ja$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACACAYAAADUHPECAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAdTAAAHUwAGRbQIfAAAAB3RJTUUH4QoMEAcil62xzQAAGc9JREFUeNrtnXl8XVW1x7/r3JvcJC1tgdKWUqADs0CTAk6AAh+GgAzyBBUUKQ8R6GDx4Ud9j6YVWkCeAio2pSLqQxyK4gTSBBApVJDCo4lMMjQpHaAphVI6ZLrnrPfHOjeEtknOvfece8/N5/0+H/j00yb77L3P7+y99tpr/ZYwyKFzRgMCquAIeDoCmARMBmqAQ4B9gD2B3YCU/6udwBbgbWAd8BLwT+A54BUcbxOeYz8pINe1FXuokUKK3YGooHNHgwco4MgwVKcAJwPHAQdhxCjPstlu4B3gFeAx4GFgBcpmxJ4l8wcnYQYdUXT2aDIvDWFf4CzgM8DRwLCQH/ce8CzwO5D7cHQ1nv2DzBtchBk0RFGaoO60DEnGAhcAFwOHAYmIH+8BLwB3Ab/GtiqY14hQXeypCQWDgig6Z4zZIFABfBq4CjgGcArcFQ94Bvg+8EegHRSZt6HYU5Q3Sp4oWjfaSCJyAPCfwOeAIUXu1jZgMXAjyGuoh8wvbbKUNFG0bjSgAnIqcAMwpdh92gErgP/CcxtxElrKdkvJEkXrRoE6ZYheDFwH7F3sPvWB9cBckJ+BdpcqWUqSKLaSkAJmAdcQ/mkmbGwBrsdsl85SJEvJEUVnjwKRcuA/gDqgqth9CojtwHyEm1HtKjUDt9Cngrygc0aBagK4HFtJSoUk+H39L5TLURI6e3Sx+5MVSooodFeA43wamAsMLXZ3csBQYC4i51BeWot5yfTWt0uqsWPnQcXuT554GTvGN5eKvVISK4rW7Q0wAvg2pU8SgIOBa4EROntUsfsSCLEnin59GIgIMBU4o9j9CRFnAFNRFX+1jDViTxQqK0Hdw4CZQFmxuxMiyoCZOM5haPwtgPgTBZLAlcDEENpygUbgX8UelI+J/tiSxe7IQIg1UfwleQpwXojN3g2cA9wGbCz2GIHzEK3RujHF7ke/iDVRsPCALwJhb+KvYA6787Fb3o4ijnG0P8aoQyHyQmyJot/eB2xpPjPstv0jaRp4FPgScBmwHDJhRwXHWaAT9Zr4GrWxJQpeB8BpwP5RNC/z2jKE2YLI3cC52JVAaxFGuz9wKhVFeHJAxJcomqwETo+6jzKvDbrTAG/wescNGGHuAN4t4Ggd4HS6qCzgM7PuYFwxCYuSjxxy40YjzP4VAM14OgMLpVwCdBVovFMI52QXCWJJFN9bOQUoqNuyZzsSuoAG4EJgBtBcgMfvBRyldfH01MaSKHgIFjVflJOAzN8A6oFtP3dgcbjzyQRNR4MkcDTixNL7Fk+iJKgEPlTMLsj8t3qnXKzCTczBCHMXlqYRBQ5DvVjaKfEkCrIHsG+xewG9tiPHUyzC/nLsSP037IgdJvb1xx47xJQo7AnEasJk/npofQ/MOfcn4LOY0+6lwTzuDOJKlL0gfl4Fubs9Y+wCbMR1bsOuA24BwggsqfDHHjvElSjDiPFNsVznb0dlLsCrqHwDu4/6HRYbmyvKiGmgeFyJUkHM7z4A5NoN/gqjLrAMYSrw78AyLKE9WySI4UoK8SVKghIK05R5beB6oGwj6SwGfoipHmTdFDH9QOIaB5HG9AhiD50z2npaloBu90DS3uXAF8jNWegR/kkqFMSVKNuxCYvl1wWg3xoLSTdD55F0uxdiQUiH5NGsS342TmSIK1Hexfb4VJ7tRIdyFzwqsIvLr2ICPfnOZxewqdhD2xXiSpS3sC8rvrk7yuEI38SOx7uF1Op24hF1txPiasy+DcQ95/JQLEIuLJLgjzkXIzhyxJMowiZgVbG70T+0AQtDCBOtqMZy64knUbSrC1NgjDO2YOoEYW4Vz9GRKlT8S1aIJ1HssPM0JuEZT5SnQHgC+FVILXYCT1Oei58uesSSKDJvI0ATsLZQz9SrD0LrRhM0a0/q1oCdzBYCr4bQhTVAk9ywvlBDzgqxJAoAyjrgyYI8qm4UVG0GZDdgZFBJCrmuDZSXgdvJ31H2JGiUgVF5Ib5EQbuBvxBhzGqvFSQJfBL0buB7IFV+YnyQVhRLKnsqj650AveBE0uvLMSZKFIOlnfzQhTNa93ozOgPBbkFu/k9Gzgf0TOQYLaCzN8Aohsww3Zbjt15AXgsziZZbIki89ZCp9cG/JZwE7PUX0VG4XE1lik4Exjp/3sVcBWaGKV1AUNDLMn8AeD+HPrjAfewzWuTebE8GQMxJgoASVHgHsIxFsFuZoZgsa+/A25i13orHwG+iHqBbrBlXhso24EfYCqQ2eAVlN/GXYEp1kSRGzaApy3Az7ALszDGezUWIH08fV86JoErkOTBgZPHU4B6y4FfEPzm2wXuxPVa5TvxdkTHmigACIq92KdDGu9BBHO7HwhMA8qslMsA3axrA8QFFhE8jvYp4G4ciX1IReyJYsai+ya2TWwu8OMvAP24r7MfrK+etxJYwMARbpuBm/C89XJ9vFcTKAGiAKBlYMbiTyms4sBIrADDbjo3oGHrOGCChI/381Me8BOUBpy4XuDvMKxidyAIZN6bYP6U7wKPFPjxp4GcTWewOgy+Yfs2dlzuK1Hsr8D3gC5/bLFHSRAFMpom8ibwDeDFAj66EphFWfvYwKJ8ZS4gD2FH7x3xgo1B1pdStbCSIQoAqQ7wWIFtB68X8MlHAVN9dcoBIXM3AtqBBVn3dsu/DlxFwmuie2sBu58/SoooMvtdO7hu6XoICz9cU6BHO8BlqB4eVG3A0ji8FZhdhd/XmXSmH6Y7gXzn/4kSKeTaNhhaDpL4M3AF8FqBHj0e8+CW6zWBPbYecCdwLzANGXIfqSRyfTxviPtDyREF/Eqg6oLrPIDVDfxHgR59PsgJJIIlB8i8DaCyGriUJ469H91eskUpS5Io4C/tSReQJ7A8mruI/lZtBPA1VIcHFrwRVWAzxy5D5pXeStIzjGJ3IF/o7L1AHLA7nC8BX8O8qlGhE5jOe4fcKT9YWuzhFwwlT5QM7OjqAN7hmJzW+UQnIdEMnI3q6lIvKhkUJbv17Ajb+12A51H5KlYU+24sRyhsHIFp08Y2kzFsDJoVpTd09hiwe7ZyTDTw01g1iwMJTy3gNeAsmdcWF139SDEoiQJ+HGxmeJUpaO/cGxMQ/AQWbzIJ25qCEqcDS85aiUl0/Q1YKvPaotJzixUGLVF6wy9Y2fuvhgFjMV3XCcA4TH1gGLYKgd0tvYdl763FFK1bgDcok/fothvlUj3uZouCEWXykipEFFA8twySHppwkbRDsjuNV2bmUremeeH0aGKM9dtjwN2FSIIobHZgqDg4noM4gpdw8bZ4JCrZKQ6pWyGZQOZHdKFXvzLTMcCxx4tgl87d9KSMC3BlYTSMIyNKdWMFiiIfKFqkkOxGuyodTaiD44m44nmu5yUSfQfvNNVGV/xC68ZYIL0AbgISrh233TJwOvHfUrQrx8IWP+52hylQAUFQEnbPpIDrkhSP9I6vzv/daZMi6WKoRKlpMHKAjUkdrRCV0djyPhGTBN0b2B0LHnSwo8o2bP9fh+UctwCrsXRNFyCZTvPMmbHNZsgei1aC23v6JQE6EtgPs5/GA/tgSpFV2DLoYbbSJuBNf45W2pxpmzHbVm0gVNKEQpSaxkq0JwpMh4EcgemFHAschtWkGRLweS5mG6zB8o8fBx5OptMtg4IoC1vef5dCOXAA8HHMyJ6MfUzDCHb0VmArpkj5IvB3my99HmRLz4+EQJi8iDK5oQrBo6m2g+qGionAp7Cj6BTM3R0GuoBpyXT6zpImSv1KMistwh7AiZiS5LHYyhGWT+sdYAUWC/MAm8a0sPt6s8OuzJ0wORFlygMpPEdISDeulh2EVbD6LBa4HLbdsww4L5lOt5UsURa0ZGZlD+xDmgocQ7QKkB6W5rIYuBsSryIueALTJ2TdWNYv1YxUEGUv4CJM8juqWsTbgIsduPfZCA3ayLBwpRmkSjlCLRZwdRyF19B9GbgD4S6Ut3LZjrJa7iY3VuA5iCgnAr8G/ptoC1bfp7CkJNeR+lZQB2Aiwg+w2+0TKY7Q8sHATSi/Bk5CPIf6lqwaCLSiVDc4QDkqDBHlCiyJKmgWd65YD5yr8I/mgKtJdUMFCDSdVuTVp74FSDjg1gLXYaGUccF64GZMgWErLjBzYF/MgCtK9V/K8J2Ve4vyfeB6oieJJX2JPJ0VSWCoQLn/5+LAvtQUuNOxDMc4kQRgDPYObwXGkgDqVw34S/0S5cN/HoYfzTURy4C7lMJIer5kz9Ms0kilDKhTpQ4YUr2kCGQxkgwBZgPfocAVzLJAOfYuFwETwYNb+5dm6ZconSYnNhFbps6iMC7/bmBB2ulqCbqFGCn0WH/w3wTmAEMKurIs7CHJXCylpKpwD88JgpUKXgRMItV/cGCfRKlurECUfbCK46cUcACPA79JaDCbr8bskt2wE8WemLE4C+EbQGpyQwEKatW3AJICvgXM4v2LxVLAydg7HueTfZfYJVGqGytQZThwI6bMXCi8B9yKOO80nxYs/DVtt8LnAKf2+usUZnBfiuIc2RDhezNHmoPqZVihp1IiSQa1wA0ow/s6De1ElOqHKgGSYl/o5ylsKMIfVHkYL5hpUtOQIoGOxXJ8dlw6hgBzRPSURJQC3VoG6KlYce24bzd9QbB3PQshSf3qnX5gJ6JouwfKGdjkF/LMvxb4oTh0NJ0+8GpS/RQ4goMyFbsy2BVGA/MVb0Ik9kr9SpD0BKyCaVwN16CwLVuptXvHD+IDRKluSCHlsh/2dRSytp0H/BSkqWlFQB/IO5W4Kh9i4NjVo4CrQcoP+dOI8Hr8+y2gWm5tx+4InCv2AOoguS/1rR/4hx6iVC+tQIUEJh5T6IH/E7gT1ONbA/9wdWMliJZjmXvjB/hxAb4IesqQVHt4PV7XBuKcYm0PKhyNZWAmetsr768o2xVRORrLvAvDLllHsNzgTuC23Ts6VgcOUPI8gBOwlIwgGA58zUV2nxLGFrToVUg4u2N23PAQ5moL8C8Kq/3SFxxgKmhNbwGhHqKoxUZ8BfPchYFlwL9hubf9KSU9InDvOxXBjrFHNlSCyAgs0WtEFv05DjjLdUNQweqsAPNBHB/SXLVhtQhnY7G5xcZYjAs9NqoD5v4WpAZzqoUFj5T+LzAduBB4kJ3FhTdhruTNzbXBtoWOsgqwnJ0Ts+xPCrhEEjKi+pE8VpWbWyDZPRy4hHC91GtJjr8RC0O4AytuVUycg0g1Cyx+11YUwQE+R9g1d7slgW0tD5A5fsHzvX7iHmDpioBbTs2SFJXd7fthtkkuL+nDwCc0nwzlKgFbST4S6lyBQ7oVzF6b4c9XAxEqdw+AUViMkUPmf6KMwxKkQkdTbQfvmXt4kyC3Y+rQN2E69wuymwhxBL6MZerlgirgM0gex34lia1o4ftMpk2CaRPx56QRuAAjTXPozwqGTyEyFsCpbqhEbf+OLO6/5USlqbYDz2y1VkSvAc5D3BeCGrDVDRWoUIPt5fmEDX5CBj4p9QPdH/hkVHMFGFnaOwHeRbgD247mU8BqIz4OAI6jfiWOqiYxf3/kzrXm2k5LvVBxgTfACWTlVz9YjlrY4Fex+NJ8MA74aE1jDguC3YV8FAuAjhZXH2qE8RRgFcgc7HDwC+yUVAiUASejkkiKMAaL3ywYss3TkXQSHO8U7MvKF0ngeBV+SbbHUcXB7JPCaX5O90MW61sVeBqRr6B6L2bvFaIvxyCMcbB0iui/kBxR01COOt6e2HF4WFjN4nkjsv4tYQTRfFQDv+xpE2yFUTqAP4F8FvMKB1XJzhX7A4clgRrCrbQZLkQF5fOYHRXm4MeRfUXQoZifI+zE9HXs6oJlV5g2ARa0grARlR8iugQLcL+IaO6bdgOqk9gJIrY6KaqJcViF8jBtqOFY9mJ2BS4dZy2uXhTFMHGd4If2TLqFJZO9iiffxNE/Yjbcpwj3ROYARzpY+mKcsQUz4ML0WJYB+538TNa/5wHtof9n20n2LuMrJ9p2JLjAMpBLsFPhk4R7HTApSXgu+6jwbmJ7x01uVcUDmJc3DMktAfZ+6KgsL7UuH1/sudg1pk+AH60CR7chLEZZim1FX8GOuPlijEN4qZ+RoKm2A6+qAuA5RWZiHssl5K8AueeUhyoHjz7MjPFmv9g6sh4n+V3slFiPVabPB7s7lEBU1oraDsqTabDA64ewu6NpwLPkXh20Sl2NrW2WM6b725HXDaa7Pwu7nrkf2J5jq1UOhfQJ5IHlJ6dprm33ZTV4F5MOv5D+y530hzIcHTwryo6YNgl/Y01j1TwuAn5Mbh9WMoktViXxZR3RmDJhHk8cHD0GuweZkmNzrmoOBmSpYEGrKRioArIfZuSeS25Klm4Ss7zj60chI9Djjxsm4OhlmCJAPhmL7Q7xL9GWNW573VSjbMZGYG7/GUA1uQektSexoKJYEmXqPdA8PJVRztpd7dp7GnBkCM1vSqVSXlA/V0lgQatf1lDKQE9A9SrsHi/fFJJ3k5jq4bhij3FHTF5SwQoBB00BJ6mFHYapBtDmBawV2IOFraARRSt6HszIUZn99la7PKzcDtsrD0d0OvZRhRUgvyGJFRvKdZ8PHdUNVYBHd1opS0q1qszA4j9GhPiYNLBm+UlZeuKvGA8LV2f3O0EgAuU5mA53vgqdCXAVhLG0V34J4TLCDxlZlQSew87bRT0B1PylHE1ktP9kXFlSLsFyifeP4HFbMUHB7LCwdQwWoR6swGAwCMpG0ulFWGhoMNS3ZDxJQxHOxtz3xxD+wUSB55JAE3a+DnPwWaF6SYVftZ5hIOf4gz6K6MgbNENgRziYw+/gkPuzChMmGpgoC1b6mrOaBDnWn6taovOHbQOaklgM63qKcOfTk72nkgQ9HrNDTiVabTNszLox699S3kJoInyiDOzbuL3Fd2QIeHowyBVYnaJw45x3xpsozycRVqM0UUCiTDalBAQPD+cwEb0S+1JHFuDxHrBMO73sHU9lnd2kU3/H7psK53uqX5lxzY/E04xXOmyy9oUViK5Nalo7JSGPYM6YyAdf3VCRuScdrTgXicVShHFxFRQbgWVSlWDgYuc7oLMKEu4yv43oc40zTjO0EtteZmFyo4XypnvAI7jalXSGOGiHPoopIecbj9onqht7CDIEi5mYhaU8FLrmzXKUl5tOycF/MnN/qG/5F7AcSwCLBplUTg9B+DB2GXoOFjhVSKwDHmVkCmfFCe2o8ioRVSivWVLpJ5ipg30NP8W0zT5O4UmSBv6A4+SRhKztwO/JejkKiPfzfSfi6PX+s75A4UkCdkfUwgX79ixh3ZjVfW6oHRLUczxE5QBVyYTrBSxHHgleBBqtwkbug8Jybl4iHA9xplH1SbIHZgNNJ/f8pTCwBfgN/gdhCWACII8DYVZTVFz2FJXpwJ+Br1NcknjALzWhbzSdkUfy3bSJ0N39JuQQxd/fXFnm4+nYy7mN4pIE4FEsfxzwidJU24GaE2oR4eWMHIHJa98KHFrkQYO5AX6DF8JFYDKh2At9Pt+mfAwHbgF+henlFUO0uDe2AIsQtvmZi++fchKAKg9jX38YOAKTpij2oMFSNBeUO92rm8MQK55+ACSc1WSdEtsn9sKM4xFFnKPe+CPwCO77C2YPUZ6tbQehHVM1fr3YPQ0ZjcDibi/EU6VN4mK/7cGEVcAtqLYz432vxQf8Js21HTheogn4HtFXJS8UVgPXo2xeURvikGxJ3oypQOdyHRBHdAI3k3CaezIUfews9ieeCvwc24NLHe3ADcDyptMjiDuZNhE8We4/I0Tdr6JhMfBzdhF/sRNRVpzejgpbgW/Ty+otQbjAj1HuIpecmaAQFPgfTPwmDtJauWIZprq9lSt3rufT5+1s9YOV4OlR/iR8qNijyAGLUaYDb0eymvSG+T9GYqkRQXXl4oQXgYtRfWbHLSeDPu92tMtFXclIa71c7JFkifuAryMFIAlk7JWNmHL1/cUefJZ4BZiOyjNI347yPonSfGYXTtIDkaVYxllYPoMoocC9GLnXRlkGdydYaudakOnAH4hyuwsPLwCXk+BRRGHa+D5/sN/b4hWndYIqgj6GRb0/VuyR9YMu4CfAdIU1VQWpFrMDOpOArsbCAH5C8fTXgmAZcAkqj9JNZlXsE4EiyKxChSIWlngtFjtShDfRJ94CvouyEGHrqOF78ODH3ihOT360KiMkNRRb2a4m+uCibNCJnW7mAquCVmMPHGp4VGMK1+IVh2KixVdj0hHFhAJPANeB9zA4XkG3m/5Q3wIiCVRPwSTjP0aR45IxRYhbMPfHVkTY1QlnV8ipSuk2t4MhTkUNpoJ0DuEpIWWDNcCdIHeAvgFKU5gOtTCQqX+jjMU0+y+lOOpWW7CrmZvBXQGJAbeaHZETw6v9rQiLbT0ZM3ZPoDCJZG9idxF3OKJNnjqKaPELTvaFH7X4lqAKJvr8ZSzrIeq6jGAEWYqV3fsriDkFsyQJ5LEUHtFYScJTvwUZCnocpot6AvbVhLnMdmHHuPuB32JKSelYVCQNip6oNUni6BGYv+VMrBxwmPaeYjKjj2C2yGNYJL3l/8zMLTQ675dZYzq1gCKqSRU5ECPLScBk7MsZkuWzPEwnrRULO3wYeHKv7VXr3qoy5YZU0uOpk+N8qNgFfrwautM2E+1JqEyPxeRIT8VUtcdjIQfZxi5vA97AhIv/BiwFeQXUovAUk8PIA6F99VMaU6gHKpkmNSXIODXVySnA4f5EjPIno9KfkLQ/0E1Y2shrWFJaM8qLKrpe/GRyD/hnXIzVfHH7SvD8uXJU8GQMcAiWTH4kFnC+NxbxVoUfCYIlS2/GUoFXYf6tJuA5RNeg4htqYqevK8JJrvg/1r/N4lnuwIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTAtMTJUMTY6MDc6MzQrMDI6MDB1PnpAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEwLTEyVDE2OjA3OjM0KzAyOjAwBGPC/AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=";function Na$1(e){var o=`${e.explore_url}/details/${e.uuid}?nodeType=NODE`;return k.jsx(mr$1,{placement:"bottom",overlay:k.jsxs(Cn,{className:"explore_btn_tooltip",children:["Browse provenance",k.jsx("br",{}),e.uuid]}),children:k.jsx("a",{href:o,target:"_blank",children:k.jsx("img",{src:ja$1,className:"explore_btn_aiida_logo"})})})}function Ua$1(e){return e.split(/(\d+)/).map((o,a)=>o.match(/\d+/)?k.jsx("sub",{children:o},a):o)}function Ya$1(e){let o=!1;return k.jsx("span",{children:e.split("").map((a,c)=>a=="_"?(o=!0,null):o?(o=!1,k.jsx("sub",{children:a},c)):a)})}const main$1=Object.freeze(Object.defineProperty({__proto__:null,DoiBadge:Ba$1,ExploreButton:Na$1,HelpButton:Ia$1,McloudSpinner:La$1,StructDownloadButton:Ha$1,TestButton:Fa$1,formatChemicalFormula:Ua$1,formatSpaceGroupSymbol:Ya$1},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(main$1);var ptable_data={};Object.defineProperty(ptable_data,"__esModule",{value:!0});ptable_data.elementsInfo=ptable_data.elementClassColors=void 0;ptable_data.elementsInfo=[{sym:"X",class:"X"},{sym:"H",class:"H"},{sym:"He",class:"noble"},{sym:"Li",class:"alkali"},{sym:"Be",class:"alkaline_earth"},{sym:"B",class:"semimetal"},{sym:"C",class:"nonmetal"},{sym:"N",class:"nonmetal"},{sym:"O",class:"nonmetal"},{sym:"F",class:"halogen"},{sym:"Ne",class:"noble"},{sym:"Na",class:"alkali"},{sym:"Mg",class:"alkaline_earth"},{sym:"Al",class:"post_transition"},{sym:"Si",class:"semimetal"},{sym:"P",class:"nonmetal"},{sym:"S",class:"nonmetal"},{sym:"Cl",class:"halogen"},{sym:"Ar",class:"noble"},{sym:"K",class:"alkali"},{sym:"Ca",class:"alkaline_earth"},{sym:"Sc",class:"transition"},{sym:"Ti",class:"transition"},{sym:"V",class:"transition"},{sym:"Cr",class:"transition"},{sym:"Mn",class:"transition"},{sym:"Fe",class:"transition"},{sym:"Co",class:"transition"},{sym:"Ni",class:"transition"},{sym:"Cu",class:"transition"},{sym:"Zn",class:"transition"},{sym:"Ga",class:"post_transition"},{sym:"Ge",class:"semimetal"},{sym:"As",class:"semimetal"},{sym:"Se",class:"nonmetal"},{sym:"Br",class:"halogen"},{sym:"Kr",class:"noble"},{sym:"Rb",class:"alkali"},{sym:"Sr",class:"alkaline_earth"},{sym:"Y",class:"transition"},{sym:"Zr",class:"transition"},{sym:"Nb",class:"transition"},{sym:"Mo",class:"transition"},{sym:"Tc",class:"transition"},{sym:"Ru",class:"transition"},{sym:"Rh",class:"transition"},{sym:"Pd",class:"transition"},{sym:"Ag",class:"transition"},{sym:"Cd",class:"transition"},{sym:"In",class:"post_transition"},{sym:"Sn",class:"post_transition"},{sym:"Sb",class:"semimetal"},{sym:"Te",class:"semimetal"},{sym:"I",class:"halogen"},{sym:"Xe",class:"noble"},{sym:"Cs",class:"alkali"},{sym:"Ba",class:"alkaline_earth"},{sym:"La",class:"lanthanoid"},{sym:"Ce",class:"lanthanoid"},{sym:"Pr",class:"lanthanoid"},{sym:"Nd",class:"lanthanoid"},{sym:"Pm",class:"lanthanoid"},{sym:"Sm",class:"lanthanoid"},{sym:"Eu",class:"lanthanoid"},{sym:"Gd",class:"lanthanoid"},{sym:"Tb",class:"lanthanoid"},{sym:"Dy",class:"lanthanoid"},{sym:"Ho",class:"lanthanoid"},{sym:"Er",class:"lanthanoid"},{sym:"Tm",class:"lanthanoid"},{sym:"Yb",class:"lanthanoid"},{sym:"Lu",class:"lanthanoid"},{sym:"Hf",class:"transition"},{sym:"Ta",class:"transition"},{sym:"W",class:"transition"},{sym:"Re",class:"transition"},{sym:"Os",class:"transition"},{sym:"Ir",class:"transition"},{sym:"Pt",class:"transition"},{sym:"Au",class:"transition"},{sym:"Hg",class:"transition"},{sym:"Tl",class:"post_transition"},{sym:"Pb",class:"post_transition"},{sym:"Bi",class:"post_transition"},{sym:"Po",class:"post_transition"},{sym:"At",class:"halogen"},{sym:"Rn",class:"noble"},{sym:"Fr",class:"alkali"},{sym:"Ra",class:"alkaline_earth"},{sym:"Ac",class:"actinoid"},{sym:"Th",class:"actinoid"},{sym:"Pa",class:"actinoid"},{sym:"U",class:"actinoid"},{sym:"Np",class:"actinoid"},{sym:"Pu",class:"actinoid"},{sym:"Am",class:"actinoid"},{sym:"Cm",class:"actinoid"},{sym:"Bk",class:"actinoid"},{sym:"Cf",class:"actinoid"},{sym:"Es",class:"actinoid"},{sym:"Fm",class:"actinoid"},{sym:"Md",class:"actinoid"},{sym:"No",class:"actinoid"},{sym:"Lr",class:"actinoid"},{sym:"Rf",class:"transition"},{sym:"Db",class:"transition"},{sym:"Sg",class:"transition"},{sym:"Bh",class:"transition"},{sym:"Hs",class:"transition"},{sym:"Mt",class:"X"},{sym:"Ds",class:"X"},{sym:"Rg",class:"X"},{sym:"Cn",class:"X"},{sym:"Nh",class:"X"},{sym:"Fl",class:"X"},{sym:"Mc",class:"X"},{sym:"Lv",class:"X"},{sym:"Ts",class:"X"},{sym:"Og",class:"X"}];ptable_data.elementClassColors={X:"rgb(220, 220, 220)",H:"rgb(220, 105, 105)",noble:"rgb(196, 205, 255)",alkali:"rgb(209, 146, 146)",alkaline_earth:"rgb(209, 189, 146)",semimetal:"rgb(189, 214, 163)",nonmetal:"rgb(214, 163, 190)",halogen:"rgb(210, 214, 163)",post_transition:"rgb(163, 178, 214)",transition:"rgb(169, 196, 212)",lanthanoid:"rgb(237, 184, 255)",actinoid:"rgb(191, 150, 255)"};var utils$1={};Object.defineProperty(utils$1,"__esModule",{value:!0});utils$1.RGB_Log_Blend=void 0;const RGB_Log_Blend=(e,o,a)=>{var c=parseInt,d=Math.round,g=1-e,[b,_,$,j]=o.split(","),[rt,nt,In,xl]=a.split(","),Ll=j||xl,Nl=Ll?","+(j?xl?d((parseFloat(j)*g+parseFloat(xl)*e)*1e3)/1e3+")":j:xl):")";return"rgb"+(Ll?"a(":"(")+d((g*c(b[3]==="a"?b.slice(5):b.slice(4))**2+e*c(rt[3]==="a"?rt.slice(5):rt.slice(4))**2)**.5)+","+d((g*c(_)**2+e*c(nt)**2)**.5)+","+d((g*c($)**2+e*c(In)**2)**.5)+Nl};utils$1.RGB_Log_Blend=RGB_Log_Blend;Object.defineProperty(PTable$1,"__esModule",{value:!0});PTable$1.default=PTable$1.Element=void 0;var _react$5=_interopRequireDefault$4(reactExports),_Popover$1=_interopRequireDefault$4(require$$1),_mcReactLibrary$1=require$$8,_ptable_data=ptable_data,_utils=utils$1;function _interopRequireDefault$4(e){return e&&e.__esModule?e:{default:e}}let Element$1=class extends _react$5.default.Component{constructor(o){super(o),this.handleOnClick=this.handleOnClick.bind(this),this.symbol=_ptable_data.elementsInfo[this.props.num].sym;let a=_ptable_data.elementsInfo[this.props.num].class;this.color=_ptable_data.elementClassColors[a]}handleOnClick(){this.props.disabled&&this.props.selection===0||this.props.onSelectionChange!=null&&this.props.onSelectionChange({element:this.symbol})}render(){let o=`pt_element pt_element-${this.props.num}`;return this.props.disabled&&this.props.selection===0?o+=" pt_element-disabled":o+=` pt_element-state${this.props.selection}`,this.props.doc||(o+=" nondoc"),this.props.num>=57&&this.props.num<=71&&(o+=" lanthanide"),_react$5.default.createElement("div",{className:o,style:{backgroundColor:(0,_utils.RGB_Log_Blend)(.5,this.color,"rgb(220, 220, 220)")},onClick:this.handleOnClick},_react$5.default.createElement("div",{className:"elem_num"},this.props.num),_react$5.default.createElement("div",{className:"elem_sym"},this.symbol))}};PTable$1.Element=Element$1;const helpPopover$1=_react$5.default.createElement(_Popover$1.default,{id:"popover-basic"},_react$5.default.createElement(_Popover$1.default.Header,{as:"h3"},"Filtering mode help"),_react$5.default.createElement(_Popover$1.default.Body,{style:{textAlign:"justify"}},_react$5.default.createElement("b",null,"Include/exclude elements"),_react$5.default.createElement("br",null),"The green selected elements must be included, while the red elements must not be included in the formula. For example",_react$5.default.createElement("div",{className:"doc-elements"},_react$5.default.createElement(Element$1,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),_react$5.default.createElement(Element$1,{num:8,disabled:!1,onSelectionChange:null,selection:2,doc:!0})),"filters for materials that contain Si and any other elements except O.",_react$5.default.createElement("br",null),_react$5.default.createElement("b",null,"Only selected elements"),_react$5.default.createElement("br",null),"Only the selected elements are allowed in the resulting chemical formula. For example",_react$5.default.createElement("div",{className:"doc-elements"},_react$5.default.createElement(Element$1,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),_react$5.default.createElement(Element$1,{num:8,disabled:!1,onSelectionChange:null,selection:1,doc:!0})),"only allows for formulas in the form of Si",_react$5.default.createElement("sub",null,"x"),"O",_react$5.default.createElement("sub",null,"y"),"."));class SelectionMode extends _react$5.default.Component{render(){return _react$5.default.createElement("div",{className:"selection_mode_outer"},_react$5.default.createElement("div",{className:"selection_mode_inner",onChange:o=>this.props.onSelectionChange({mode:o.target.value})},_react$5.default.createElement("div",{style:{marginBottom:"2px"}},"Elements filtering mode:"),_react$5.default.createElement("label",{className:"selection_mode_control"},_react$5.default.createElement("input",{type:"radio",name:"sel_mode",value:"include",defaultChecked:!0}),"Include/exclude"),_react$5.default.createElement("label",{className:"selection_mode_control"},_react$5.default.createElement("input",{type:"radio",name:"sel_mode",value:"exact"}),"Only selected")),_react$5.default.createElement(_mcReactLibrary$1.HelpButton,{popover:helpPopover$1,placement:"bottom"}))}}function fitsFilter(e,o){let a=new Set(e),c=o[1],d=o[2],g=[...c].every(_=>a.has(_)),b=[...a].every(_=>!d.has(_));return g&&b}function enabledElements(e,o){let a=new Set,c={1:new Set,2:new Set};for(const[d,g]of Object.entries(o.elements))c[g].add(d);return e.forEach(d=>{fitsFilter(d.elem_array,c)&&(a=new Set([...a,...d.elem_array]))}),a}class PTable extends _react$5.default.Component{constructor(){super(...arguments);oC(this,"makeElements",(a,c)=>{let d=[];for(let g=a;g<=c;g++){let b=_ptable_data.elementsInfo[g].sym,_=0;b in this.props.filter.elements&&(_=this.props.filter.elements[b]),d.push(_react$5.default.createElement(Element$1,{key:g,num:g,disabled:!this.enabledElems.has(b),onSelectionChange:this.props.onSelectionChange,selection:_,doc:!1}))}return d})}render(){return this.enabledElems=enabledElements(this.props.rows,this.props.filter),_react$5.default.createElement("div",{className:"ptable_outer"},_react$5.default.createElement("div",{className:"ptable"},_react$5.default.createElement(SelectionMode,{onSelectionChange:this.props.onSelectionChange,filter:this.props.filter}),this.makeElements(1,56),this.makeElements(72,88),this.makeElements(104,118),this.makeElements(57,71),this.makeElements(89,103)))}}PTable$1.default=PTable;var MaterialDataGrid$1={},__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__hasOwnProp$1=Object.prototype.hasOwnProperty,__export$1=(e,o)=>{for(var a in o)__defProp$1(e,a,{get:o[a],enumerable:!0})},__copyProps$1=(e,o,a,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of __getOwnPropNames$1(o))!__hasOwnProp$1.call(e,d)&&d!==a&&__defProp$1(e,d,{get:()=>o[d],enumerable:!(c=__getOwnPropDesc$1(o,d))||c.enumerable});return e},__toCommonJS$1=e=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),e),main_exports={};__export$1(main_exports,{ALWAYS_SYNC_GLOBAL_EVENTS:()=>ALWAYS_SYNC_GLOBAL_EVENTS,AbstractHeaderCellCtrl:()=>AbstractHeaderCellCtrl,AgAbstractField:()=>AgAbstractField,AgAbstractInputField:()=>AgAbstractInputField,AgAbstractLabel:()=>AgAbstractLabel,AgCheckbox:()=>AgCheckbox,AgCheckboxSelector:()=>AgCheckboxSelector,AgColumn:()=>AgColumn,AgColumnGroup:()=>AgColumnGroup,AgInputDateField:()=>AgInputDateField,AgInputNumberField:()=>AgInputNumberField,AgInputNumberFieldSelector:()=>AgInputNumberFieldSelector,AgInputTextArea:()=>AgInputTextArea,AgInputTextField:()=>AgInputTextField,AgInputTextFieldSelector:()=>AgInputTextFieldSelector,AgPickerField:()=>AgPickerField,AgPromise:()=>AgPromise,AgProvidedColumnGroup:()=>AgProvidedColumnGroup,AgRadioButton:()=>AgRadioButton,AgSelect:()=>AgSelect,AgSelectSelector:()=>AgSelectSelector,AgToggleButton:()=>AgToggleButton,AgToggleButtonSelector:()=>AgToggleButtonSelector,AnimateShowChangeCellRenderer:()=>AnimateShowChangeCellRenderer,AnimateSlideCellRenderer:()=>AnimateSlideCellRenderer,AnimationFrameService:()=>AnimationFrameService,AriaAnnouncementService:()=>AriaAnnouncementService,AutoScrollService:()=>AutoScrollService,AutoWidthCalculator:()=>AutoWidthCalculator,BarColumnLabelPlacement:()=>BarColumnLabelPlacement,BaseComponentWrapper:()=>BaseComponentWrapper,BaseCreator:()=>BaseCreator,BaseGridSerializingSession:()=>BaseGridSerializingSession,BeanStub:()=>BeanStub,BodyDropPivotTarget:()=>BodyDropPivotTarget,BodyDropTarget:()=>BodyDropTarget,CellComp:()=>CellComp$1,CellCtrl:()=>CellCtrl,CellNavigationService:()=>CellNavigationService,CellPositionUtils:()=>CellPositionUtils,CellRangeType:()=>CellRangeType,ChangedPath:()=>ChangedPath,ChartMappings:()=>ChartMappings,CheckboxCellEditor:()=>CheckboxCellEditor,CheckboxCellRenderer:()=>CheckboxCellRenderer,CheckboxSelectionComponent:()=>CheckboxSelectionComponent,ClientSideRowModelModule:()=>ClientSideRowModelModule,ClientSideRowModelSteps:()=>ClientSideRowModelSteps,ColumnApplyStateService:()=>ColumnApplyStateService,ColumnAutosizeService:()=>ColumnAutosizeService,ColumnFactory:()=>ColumnFactory,ColumnKeyCreator:()=>ColumnKeyCreator,ColumnModel:()=>ColumnModel,ColumnMoveService:()=>ColumnMoveService,ColumnNameService:()=>ColumnNameService,ColumnSizeService:()=>ColumnSizeService,CommunityFeaturesModule:()=>CommunityFeaturesModule,Component:()=>Component,ComponentUtil:()=>ComponentUtil,Context:()=>Context,CssClassManager:()=>CssClassManager,CsvCreator:()=>CsvCreator,CsvExportModule:()=>CsvExportModule,CtrlsService:()=>CtrlsService,DataTypeService:()=>DataTypeService,DateCellEditor:()=>DateCellEditor,DateFilter:()=>DateFilter,DateStringCellEditor:()=>DateStringCellEditor,Downloader:()=>Downloader,DragAndDropService:()=>DragAndDropService,DragService:()=>DragService,DragSourceType:()=>DragSourceType,Environment:()=>Environment,EventService:()=>EventService,ExcelFactoryMode:()=>ExcelFactoryMode,ExpansionService:()=>ExpansionService,ExpressionService:()=>ExpressionService,FakeHScrollComp:()=>FakeHScrollComp,FakeVScrollComp:()=>FakeVScrollComp,FilterManager:()=>FilterManager,FilterWrapperComp:()=>FilterWrapperComp,FocusService:()=>FocusService,FuncColsService:()=>FuncColsService,GROUP_AUTO_COLUMN_ID:()=>GROUP_AUTO_COLUMN_ID,Grid:()=>Grid,GridBodyComp:()=>GridBodyComp$1,GridBodyCtrl:()=>GridBodyCtrl,GridComp:()=>GridComp$1,GridCoreCreator:()=>GridCoreCreator,GridCoreModule:()=>GridCoreModule,GridCtrl:()=>GridCtrl,GridHeaderComp:()=>GridHeaderComp$1,GridHeaderCtrl:()=>GridHeaderCtrl,GridOptionsService:()=>GridOptionsService,GridSerializer:()=>GridSerializer,GroupInstanceIdCreator:()=>GroupInstanceIdCreator,HeaderCellCtrl:()=>HeaderCellCtrl,HeaderFilterCellComp:()=>HeaderFilterCellComp$1,HeaderFilterCellCtrl:()=>HeaderFilterCellCtrl,HeaderGroupCellCtrl:()=>HeaderGroupCellCtrl,HeaderNavigationDirection:()=>HeaderNavigationDirection,HeaderNavigationService:()=>HeaderNavigationService,HeaderPositionUtils:()=>HeaderPositionUtils,HeaderRowComp:()=>HeaderRowComp$1,HeaderRowContainerComp:()=>HeaderRowContainerComp$1,HeaderRowContainerCtrl:()=>HeaderRowContainerCtrl,HeaderRowCtrl:()=>HeaderRowCtrl,HeaderRowType:()=>HeaderRowType,HorizontalDirection:()=>HorizontalDirection,HorizontalResizeService:()=>HorizontalResizeService,InfiniteRowModelModule:()=>InfiniteRowModelModule,KeyCode:()=>KeyCode,LargeTextCellEditor:()=>LargeTextCellEditor,LayoutCssClasses:()=>LayoutCssClasses,LocalEventService:()=>LocalEventService,LocaleService:()=>LocaleService,ManagedFocusFeature:()=>ManagedFocusFeature,MenuService:()=>MenuService,ModuleNames:()=>ModuleNames,ModuleRegistry:()=>ModuleRegistry,MouseEventService:()=>MouseEventService,MoveColumnFeature:()=>MoveColumnFeature,NavigationService:()=>NavigationService,NumberCellEditor:()=>NumberCellEditor,NumberFilter:()=>NumberFilter,NumberSequence:()=>NumberSequence,OverlayWrapperComponent:()=>OverlayWrapperComponent,PinnedRowModel:()=>PinnedRowModel,PivotResultColsService:()=>PivotResultColsService,PopupComponent:()=>PopupComponent,PopupEditorWrapper:()=>PopupEditorWrapper,PopupService:()=>PopupService,PositionableFeature:()=>PositionableFeature,PropertyKeys:()=>PropertyKeys,ProvidedFilter:()=>ProvidedFilter,RefPlaceholder:()=>RefPlaceholder,ResizeObserverService:()=>ResizeObserverService,RowContainerComp:()=>RowContainerComp$1,RowContainerCtrl:()=>RowContainerCtrl,RowCtrl:()=>RowCtrl,RowDragComp:()=>RowDragComp,RowHighlightPosition:()=>RowHighlightPosition,RowModelHelperService:()=>RowModelHelperService,RowNode:()=>RowNode,RowNodeBlock:()=>RowNodeBlock,RowNodeBlockLoader:()=>RowNodeBlockLoader,RowNodeSorter:()=>RowNodeSorter,RowPositionUtils:()=>RowPositionUtils,RowRenderer:()=>RowRenderer,RowType:()=>RowType,ScalarFilter:()=>ScalarFilter,ScrollVisibleService:()=>ScrollVisibleService,SelectCellEditor:()=>SelectCellEditor,SelectableService:()=>SelectableService,SelectionHandleType:()=>SelectionHandleType,ServerSideTransactionResultStatus:()=>ServerSideTransactionResultStatus,SetLeftFeature:()=>SetLeftFeature,SimpleFilter:()=>SimpleFilter,SortController:()=>SortController,SortIndicatorComp:()=>SortIndicatorComp,SortIndicatorSelector:()=>SortIndicatorSelector,StandardMenuFactory:()=>StandardMenuFactory,StylingService:()=>StylingService,TabGuardClassNames:()=>TabGuardClassNames,TabGuardComp:()=>TabGuardComp$1,TabGuardCtrl:()=>TabGuardCtrl,TabGuardFeature:()=>TabGuardFeature,TextCellEditor:()=>TextCellEditor,TextFilter:()=>TextFilter,TextFloatingFilter:()=>TextFloatingFilter,TooltipFeature:()=>TooltipFeature,TooltipStateManager:()=>TooltipStateManager,TouchListener:()=>TouchListener,UserComponentFactory:()=>UserComponentFactory,UserComponentRegistry:()=>UserComponentRegistry,ValueCache:()=>ValueCache,ValueService:()=>ValueService,VanillaFrameworkOverrides:()=>VanillaFrameworkOverrides,VerticalDirection:()=>VerticalDirection,VisibleColsService:()=>VisibleColsService,XmlFactory:()=>XmlFactory,ZipContainer:()=>ZipContainer,_ColumnFilterModule:()=>ColumnFilterModule,_CommunityMenuApiModule:()=>CommunityMenuApiModule,_CsrmSsrmSharedApiModule:()=>CsrmSsrmSharedApiModule,_CsvExportCoreModule:()=>CsvExportCoreModule,_EditCoreModule:()=>EditCoreModule,_EmptyBean:()=>EmptyBean,_FilterCoreModule:()=>FilterCoreModule,_FloatingFilterModule:()=>FloatingFilterModule,_ReadOnlyFloatingFilterModule:()=>ReadOnlyFloatingFilterModule,_RowNodeBlockModule:()=>RowNodeBlockModule,_SsrmInfiniteSharedApiModule:()=>SsrmInfiniteSharedApiModule,_addFocusableContainerListener:()=>_addFocusableContainerListener,_areEqual:()=>_areEqual,_bindCellRendererToHtmlElement:()=>_bindCellRendererToHtmlElement,_capitalise:()=>_capitalise,_clearElement:()=>_clearElement,_cloneObject:()=>_cloneObject,_combineAttributesAndGridOptions:()=>_combineAttributesAndGridOptions,_compose:()=>_compose,_createIcon:()=>_createIcon,_createIconNoSpan:()=>_createIconNoSpan,_debounce:()=>_debounce,_defaultComparator:()=>_defaultComparator,_defineModule:()=>_defineModule,_doOnce:()=>_doOnce,_errorOnce:()=>_errorOnce,_escapeString:()=>_escapeString,_exists:()=>_exists,_existsAndNotEmpty:()=>_existsAndNotEmpty,_flatten:()=>_flatten,_forEachReverse:()=>_forEachReverse,_formatNumberCommas:()=>_formatNumberCommas,_formatNumberTwoDecimalPlacesAndCommas:()=>_formatNumberTwoDecimalPlacesAndCommas,_fuzzySuggestions:()=>_fuzzySuggestions,_getAbsoluteHeight:()=>_getAbsoluteHeight,_getAbsoluteWidth:()=>_getAbsoluteWidth,_getActiveDomElement:()=>_getActiveDomElement,_getAllValuesInObject:()=>_getAllValuesInObject,_getAriaPosInSet:()=>_getAriaPosInSet,_getCtrlForEventTarget:()=>_getCtrlForEventTarget,_getDocument:()=>_getDocument,_getFillHandle:()=>_getFillHandle,_getGlobalGridOption:()=>_getGlobalGridOption,_getGrandTotalRow:()=>_getGrandTotalRow,_getGroupAggFiltering:()=>_getGroupAggFiltering,_getGroupSelection:()=>_getGroupSelection,_getGroupSelectsDescendants:()=>_getGroupSelectsDescendants,_getGroupTotalRowCallback:()=>_getGroupTotalRowCallback,_getHeaderCheckbox:()=>_getHeaderCheckbox,_getHeaderClassesFromColDef:()=>_getHeaderClassesFromColDef,_getInnerHeight:()=>_getInnerHeight,_getInnerWidth:()=>_getInnerWidth,_getIsRowSelectable:()=>_getIsRowSelectable,_getRowContainerOptions:()=>_getRowContainerOptions,_getRowHeightAsNumber:()=>_getRowHeightAsNumber,_getRowHeightForNode:()=>_getRowHeightForNode,_getRowIdCallback:()=>_getRowIdCallback,_getRowSelectionMode:()=>_getRowSelectionMode,_getSuppressMultiRanges:()=>_getSuppressMultiRanges,_getToolPanelClassesFromColDef:()=>_getToolPanelClassesFromColDef,_includes:()=>_includes,_insertArrayIntoArray:()=>_insertArrayIntoArray,_insertIntoArray:()=>_insertIntoArray,_isAnimateRows:()=>_isAnimateRows,_isCellSelectionEnabled:()=>_isCellSelectionEnabled,_isClientSideRowModel:()=>_isClientSideRowModel,_isColumnsSortingCoupledToGroup:()=>_isColumnsSortingCoupledToGroup,_isDomLayout:()=>_isDomLayout,_isElementInEventPath:()=>_isElementInEventPath,_isEventFromPrintableCharacter:()=>_isEventFromPrintableCharacter,_isGetRowHeightFunction:()=>_isGetRowHeightFunction,_isGroupMultiAutoColumn:()=>_isGroupMultiAutoColumn,_isGroupUseEntireRow:()=>_isGroupUseEntireRow,_isIOSUserAgent:()=>_isIOSUserAgent,_isMultiRowSelection:()=>_isMultiRowSelection,_isNodeOrElement:()=>_isNodeOrElement,_isNothingFocused:()=>_isNothingFocused,_isRowSelection:()=>_isRowSelection,_isServerSideRowModel:()=>_isServerSideRowModel,_isStopPropagationForAgGrid:()=>_isStopPropagationForAgGrid,_isUsingNewCellSelectionAPI:()=>_isUsingNewCellSelectionAPI,_isUsingNewRowSelectionAPI:()=>_isUsingNewRowSelectionAPI,_isVisible:()=>_isVisible,_iterateObject:()=>_iterateObject,_jsonEquals:()=>_jsonEquals,_last:()=>_last,_loadTemplate:()=>_loadTemplate,_log:()=>_log,_makeNull:()=>_makeNull,_mergeDeep:()=>_mergeDeep,_missing:()=>_missing,_missingOrEmpty:()=>_missingOrEmpty,_parseDateTimeFromString:()=>_parseDateTimeFromString,_processOnChange:()=>_processOnChange,_radioCssClass:()=>_radioCssClass,_removeAriaExpanded:()=>_removeAriaExpanded,_removeAriaSort:()=>_removeAriaSort,_removeFromArray:()=>_removeFromArray,_removeFromParent:()=>_removeFromParent,_removeRepeatsFromArray:()=>_removeRepeatsFromArray,_serialiseDate:()=>_serialiseDate,_setAriaActiveDescendant:()=>_setAriaActiveDescendant,_setAriaChecked:()=>_setAriaChecked,_setAriaColCount:()=>_setAriaColCount,_setAriaColIndex:()=>_setAriaColIndex,_setAriaColSpan:()=>_setAriaColSpan,_setAriaControls:()=>_setAriaControls,_setAriaDescribedBy:()=>_setAriaDescribedBy,_setAriaDisabled:()=>_setAriaDisabled,_setAriaExpanded:()=>_setAriaExpanded,_setAriaHidden:()=>_setAriaHidden,_setAriaLabel:()=>_setAriaLabel,_setAriaLabelledBy:()=>_setAriaLabelledBy,_setAriaLevel:()=>_setAriaLevel,_setAriaPosInSet:()=>_setAriaPosInSet,_setAriaRole:()=>_setAriaRole,_setAriaRowCount:()=>_setAriaRowCount,_setAriaRowIndex:()=>_setAriaRowIndex,_setAriaSelected:()=>_setAriaSelected,_setAriaSetSize:()=>_setAriaSetSize,_setAriaSort:()=>_setAriaSort,_setDisabled:()=>_setDisabled,_setDisplayed:()=>_setDisplayed,_setFixedWidth:()=>_setFixedWidth,_setVisible:()=>_setVisible,_shallowCompare:()=>_shallowCompare,_stopPropagationForAgGrid:()=>_stopPropagationForAgGrid,_toStringOrNull:()=>_toStringOrNull,_unwrapUserComp:()=>_unwrapUserComp,_utf8_encode:()=>_utf8_encode,_values:()=>_values,_waitUntil:()=>_waitUntil,_warnOnce:()=>_warnOnce,checkboxStyleDefault:()=>checkboxStyleDefault,colorSchemeDark:()=>colorSchemeDark,colorSchemeDarkBlue:()=>colorSchemeDarkBlue,colorSchemeDarkWarm:()=>colorSchemeDarkWarm,colorSchemeLight:()=>colorSchemeLight,colorSchemeLightCold:()=>colorSchemeLightCold,colorSchemeLightWarm:()=>colorSchemeLightWarm,createGrid:()=>createGrid,createPart:()=>createPart,createTheme:()=>createTheme,getDefaultFloatingFilterType:()=>getDefaultFloatingFilterType,getParamType:()=>getParamType,iconSetAlpine:()=>iconSetAlpine,iconSetMaterial:()=>iconSetMaterial,iconSetQuartz:()=>iconSetQuartz,iconSetQuartzBold:()=>iconSetQuartzBold,iconSetQuartzLight:()=>iconSetQuartzLight,iconSetQuartzRegular:()=>iconSetQuartzRegular,inputStyleBase:()=>inputStyleBase,inputStyleBordered:()=>inputStyleBordered,inputStyleUnderlined:()=>inputStyleUnderlined,isColumn:()=>isColumn,isColumnControlsCol:()=>isColumnControlsCol,isColumnGroup:()=>isColumnGroup,isColumnGroupAutoCol:()=>isColumnGroupAutoCol,isProvidedColumnGroup:()=>isProvidedColumnGroup,isSelectionUIEvent:()=>isSelectionUIEvent,paramValueToCss:()=>paramValueToCss,provideGlobalGridOptions:()=>provideGlobalGridOptions,tabStyleAlpine:()=>tabStyleAlpine,tabStyleBase:()=>tabStyleBase,tabStyleMaterial:()=>tabStyleMaterial,tabStyleQuartz:()=>tabStyleQuartz,tabStyleRolodex:()=>tabStyleRolodex,themeAlpine:()=>themeAlpine,themeBalham:()=>themeBalham,themeQuartz:()=>themeQuartz});var main_cjs=__toCommonJS$1(main_exports),LocalEventService=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,o,a){const c=o?this.allAsyncListeners:this.allSyncListeners;let d=c.get(e);return!d&&a&&(d=new Set,c.set(e,d)),d}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,o,a=!1){this.getListeners(e,a,!0).add(o)}removeEventListener(e,o,a=!1){const c=this.getListeners(e,a,!1);c&&(c.delete(o),c.size===0&&(a?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,o=!1){(o?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,o=!1){(o?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const o=e;this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,o){const a=e.type;if(o&&"event"in e){const _=e.event;_ instanceof Event&&(e.eventPath=_.composedPath())}const c=(_,$)=>_.forEach(j=>{if(!$.has(j))return;const rt=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>j(e)):()=>j(e);o?this.dispatchAsync(rt):rt()}),d=this.getListeners(a,o,!1)??new Set,g=new Set(d);g.size>0&&c(g,d),new Set(o?this.globalAsyncListeners:this.globalSyncListeners).forEach(_=>{const $=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>_(a,e)):()=>_(a,e);o?this.dispatchAsync($):$()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const o=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(o):o(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(o=>o())}},ModuleNames=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(ModuleNames||{}),doOnceFlags={};function _doOnce(e,o){doOnceFlags[o]||(e(),doOnceFlags[o]=!0)}function _log(e,...o){console.log("AG Grid: "+e,...o)}function _warnOnce(e,...o){_doOnce(()=>console.warn("AG Grid: "+e,...o),e+(o==null?void 0:o.join("")))}function _errorOnce(e,...o){_doOnce(()=>console.error("AG Grid: "+e,...o),e+(o==null?void 0:o.join("")))}function _isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}function _executeInAWhile(e){_executeAfter(e,400)}var executeNextVMTurnFuncs=[],executeNextVMTurnPending=!1;function _executeNextVMTurn(e){executeNextVMTurnFuncs.push(e),!executeNextVMTurnPending&&(executeNextVMTurnPending=!0,window.setTimeout(()=>{const o=executeNextVMTurnFuncs.slice();executeNextVMTurnFuncs.length=0,executeNextVMTurnPending=!1,o.forEach(a=>a())},0))}function _executeAfter(e,o=0){e.length>0&&window.setTimeout(()=>e.forEach(a=>a()),o)}function _debounce(e,o){let a;return function(...c){const d=this;window.clearTimeout(a),a=window.setTimeout(function(){e.apply(d,c)},o)}}function _throttle(e,o){let a=0;return function(...c){const d=this,g=new Date().getTime();g-a<o||(a=g,e.apply(d,c))}}function _waitUntil(e,o,a=100,c){const d=new Date().getTime();let g=null,b=!1;const _=()=>{const $=new Date().getTime()-d>a;(e()||$)&&(o(),b=!0,g!=null&&(window.clearInterval(g),g=null),$&&c&&_warnOnce(c))};_(),b||(g=window.setInterval(_,10))}function _compose(...e){return o=>e.reduce((a,c)=>c(a),o)}function _makeNull(e){return e==null||e===""?null:e}function _exists(e,o=!1){return e!=null&&(e!==""||o)}function _missing(e){return!_exists(e)}function _missingOrEmpty(e){return e==null||e.length===0}function _toStringOrNull(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function _attrToNumber(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const o=parseInt(e,10);return isNaN(o)?void 0:o}function _attrToBoolean(e){if(e!==void 0)return e===null||e===""?!1:toBoolean(e)}function toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function _jsonEquals(e,o){const a=e?JSON.stringify(e):null,c=o?JSON.stringify(o):null;return a===c}function _defaultComparator(e,o,a=!1){const c=e==null,d=o==null;if(e&&e.toNumber&&(e=e.toNumber()),o&&o.toNumber&&(o=o.toNumber()),c&&d)return 0;if(c)return-1;if(d)return 1;function g(b,_){return b>_?1:b<_?-1:0}if(typeof e!="string"||!a)return g(e,o);try{return e.localeCompare(o)}catch{return g(e,o)}}function _values(e){if(e instanceof Set||e instanceof Map){const o=[];return e.forEach(a=>o.push(a)),o}return Object.values(e)}function isRowModelType(e,o){return e.get("rowModelType")===o}function _isClientSideRowModel(e){return isRowModelType(e,"clientSide")}function _isServerSideRowModel(e){return isRowModelType(e,"serverSide")}function _isDomLayout(e,o){return e.get("domLayout")===o}function _isRowSelection(e){return _getRowSelectionMode(e)!==void 0}function _useAsyncEvents(e){return!e.get("suppressAsyncEvents")}function _isGetRowHeightFunction(e){return typeof e.get("getRowHeight")=="function"}function _shouldMaintainColumnOrder(e,o){return o?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function _getRowHeightForNode(e,o,a=!1,c){if(c==null&&(c=e.environment.getDefaultRowHeight()),_isGetRowHeightFunction(e)){if(a)return{height:c,estimated:!0};const b={node:o,data:o.data},_=e.getCallback("getRowHeight")(b);if(isNumeric(_))return _===0&&_warnOnce("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,_),estimated:!1}}if(o.detail&&e.get("masterDetail"))return getMasterDetailRowHeight(e);const d=e.get("rowHeight");return{height:d&&isNumeric(d)?d:c,estimated:!1}}function getMasterDetailRowHeight(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const o=e.get("detailRowHeight");return isNumeric(o)?{height:o,estimated:!1}:{height:300,estimated:!1}}function _getRowHeightAsNumber(e){const{environment:o}=e,a=e.get("rowHeight");if(!a||_missing(a))return o.getDefaultRowHeight();const c=o.refreshRowHeightVariable();return c!==-1?c:(_warnOnce("row height must be a number if not using standard row model"),o.getDefaultRowHeight())}function isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function _getDomData(e,o,a){const c=o[e.getDomDataKey()];return c?c[a]:void 0}function _setDomData(e,o,a,c){const d=e.getDomDataKey();let g=o[d];_missing(g)&&(g={},o[d]=g),g[a]=c}function _getDocument(e){let o=null;const a=e.get("getDocument");return a&&_exists(a)?o=a():e.eGridDiv&&(o=e.eGridDiv.ownerDocument),o&&_exists(o)?o:document}function _getWindow(e){return _getDocument(e).defaultView||window}function _getRootNode(e){return e.eGridDiv.getRootNode()}function _getActiveDomElement(e){return _getRootNode(e).activeElement}function _isNothingFocused(e){const o=_getDocument(e),a=_getActiveDomElement(e);return a===null||a===o.body}function _isAnimateRows(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function _isGroupRowsSticky(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||_isDomLayout(e,"print"))}function _isColumnsSortingCoupledToGroup(e){const o=e.get("autoGroupColumnDef");return!(o!=null&&o.comparator)&&!e.get("treeData")}function _getGroupAggFiltering(e){const o=e.get("groupAggFiltering");if(typeof o=="function")return e.getCallback("groupAggFiltering");if(o===!0)return()=>!0}function _getGrandTotalRow(e){const o=e.get("grandTotalRow");if(o)return o;if(e.get("groupIncludeTotalFooter"))return"bottom"}function _getGroupTotalRowCallback(e){const o=e.get("groupTotalRow");if(typeof o=="function")return e.getCallback("groupTotalRow");if(o)return()=>o;const a=e.get("groupIncludeFooter");if(typeof a=="function"){const c=e.getCallback("groupIncludeFooter");return d=>c(d)?"bottom":void 0}return()=>a?"bottom":void 0}function _isGroupMultiAutoColumn(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function _isGroupUseEntireRow(e,o){return o?!1:e.get("groupDisplayType")==="groupRows"}function _getRowIdCallback(e){const o=e.getCallback("getRowId");return o===void 0?o:a=>{let c=o(a);return typeof c!="string"&&(_warnOnce("The getRowId callback must return a string. The ID ",c," is being cast to a string."),c=String(c)),c}}function _getCheckboxes(e){return(e==null?void 0:e.checkboxes)??!0}function _getHeaderCheckbox(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function _getHideDisabledCheckboxes(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function _isUsingNewRowSelectionAPI(e){return typeof e.get("rowSelection")!="string"}function _isUsingNewCellSelectionAPI(e){return e.get("cellSelection")!==void 0}function _getSuppressMultiRanges(e){const o=e.get("cellSelection");return o!==void 0?typeof o!="boolean"?(o==null?void 0:o.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function _isCellSelectionEnabled(e){const o=e.get("cellSelection");return o!==void 0?!!o:e.get("enableRangeSelection")}function _isRangeHandleEnabled(e){var c;const o=e.get("cellSelection");return o!==void 0?typeof o!="boolean"?((c=o.handle)==null?void 0:c.mode)==="range":!1:e.get("enableRangeHandle")}function _isFillHandleEnabled(e){var c;const o=e.get("cellSelection");return o!==void 0?typeof o!="boolean"?((c=o.handle)==null?void 0:c.mode)==="fill":!1:e.get("enableFillHandle")}function _getFillHandle(e){var c;const o=e.get("cellSelection");return o!==void 0?typeof o!="boolean"&&((c=o.handle)==null?void 0:c.mode)==="fill"?o.handle:void 0:{mode:"fill",setFillValue:e.get("fillOperation"),direction:e.get("fillHandleDirection"),suppressClearOnFillReduction:e.get("suppressClearOnFillReduction")}}function _getEnableClickSelection(e){const o=e.get("rowSelection")??"single";if(typeof o=="string"){const a=e.get("suppressRowClickSelection"),c=e.get("suppressRowDeselection");return a&&c?!1:a?"enableDeselection":c?"enableSelection":!0}return o.mode==="singleRow"||o.mode==="multiRow"?o.enableClickSelection??!1:!1}function _getEnableSelection(e){const o=_getEnableClickSelection(e);return o===!0||o==="enableSelection"}function _getEnableDeselection(e){const o=_getEnableClickSelection(e);return o===!0||o==="enableDeselection"}function _getIsRowSelectable(e){const o=e.get("rowSelection");return typeof o=="string"?e.get("isRowSelectable"):o==null?void 0:o.isRowSelectable}function _getRowSelectionMode(e){const o=e.get("rowSelection");if(typeof o=="string")switch(o){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return o==null?void 0:o.mode}function _isMultiRowSelection(e){return _getRowSelectionMode(e)==="multiRow"}function _getEnableSelectionWithoutKeys(e){const o=e.get("rowSelection");return typeof o=="string"?e.get("rowMultiSelectWithClick"):(o==null?void 0:o.enableSelectionWithoutKeys)??!1}function _getGroupSelection(e){const o=e.get("rowSelection");if(typeof o=="string"){const a=e.get("groupSelectsChildren"),c=e.get("groupSelectsFiltered");return a&&c?"filteredDescendants":a?"descendants":"self"}return(o==null?void 0:o.mode)==="multiRow"?o.groupSelects:void 0}function _getGroupSelectsDescendants(e){const o=_getGroupSelection(e);return o==="descendants"||o==="filteredDescendants"}function _isSetFilterByDefault(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function _existsAndNotEmpty(e){return e!=null&&e.length>0}function _last(e){if(!(!e||!e.length))return e[e.length-1]}function _areEqual(e,o,a){return e==null&&o==null?!0:e!=null&&o!=null&&e.length===o.length&&e.every((c,d)=>a?a(c,o[d]):o[d]===c)}function _shallowCompare(e,o){return _areEqual(e,o)}function _sortNumerically(e){return e.sort((o,a)=>o-a)}function _removeRepeatsFromArray(e,o){if(e)for(let a=e.length-2;a>=0;a--){const c=e[a]===o,d=e[a+1]===o;c&&d&&e.splice(a+1,1)}}function _removeFromUnorderedArray(e,o){const a=e.indexOf(o);a>=0&&(e[a]=e[e.length-1],e.pop())}function _removeFromArray(e,o){const a=e.indexOf(o);a>=0&&e.splice(a,1)}function _removeAllFromUnorderedArray(e,o){for(let a=0;a<o.length;a++)_removeFromUnorderedArray(e,o[a])}function _removeAllFromArray(e,o){for(let a=0;a<o.length;a++)_removeFromArray(e,o[a])}function _insertIntoArray(e,o,a){e.splice(a,0,o)}function _insertArrayIntoArray(e,o,a){if(!(e==null||o==null))for(let c=o.length-1;c>=0;c--){const d=o[c];_insertIntoArray(e,d,a)}}function _moveInArray(e,o,a){_removeAllFromArray(e,o),o.slice().reverse().forEach(c=>_insertIntoArray(e,c,a))}function _includes(e,o){return e.indexOf(o)>-1}function _flatten(e){return(e==null?void 0:e.flatMap(o=>o))??[]}function _pushAll(e,o){o==null||e==null||o.forEach(a=>e.push(a))}function _forEachReverse(e,o){if(e!=null)for(let a=e.length-1;a>=0;a--)o(e[a],a)}var AG_GRID_STOP_PROPAGATION="__ag_Grid_Stop_Propagation",PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel","scroll"],supports={};function _stopPropagationForAgGrid(e){e[AG_GRID_STOP_PROPAGATION]=!0}function _isStopPropagationForAgGrid(e){return e[AG_GRID_STOP_PROPAGATION]===!0}var _isEventSupported=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a=>{if(typeof supports[a]=="boolean")return supports[a];const c=document.createElement(e[a]||"div");return a="on"+a,supports[a]=a in c}})();function _getCtrlForEventTarget(e,o,a){let c=o;for(;c;){const d=_getDomData(e,c,a);if(d)return d;c=c.parentElement}return null}function _isElementInEventPath(e,o){return!o||!e?!1:_getEventPath(o).indexOf(e)>=0}function _createEventPath(e){const o=[];let a=e.target;for(;a;)o.push(a),a=a.parentElement;return o}function _getEventPath(e){const o=e;return o.path?o.path:o.composedPath?o.composedPath():_createEventPath(o)}function _addSafePassiveEventListener(e,o,a,c){const g=_includes(PASSIVE_EVENTS,a)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(o,a,c,g)}var BeanStub=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,o,a){this.localEventService||(this.localEventService=new LocalEventService),this.localEventService.addEventListener(e,o,a)}removeEventListener(e,o,a){this.localEventService&&this.localEventService.removeEventListener(e,o,a)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,o){return this._setupListeners(e,o)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,o){return this._setupListeners(e,o)}_setupListeners(e,o){const a=[];for(const c in o){const d=o[c];d&&a.push(this._setupListener(e,c,d))}return a}_setupListener(e,o,a){if(this.destroyed)return()=>null;e instanceof HTMLElement?_addSafePassiveEventListener(this.getFrameworkOverrides(),e,o,a):e.addEventListener(o,a);const c=()=>(e.removeEventListener(o,a),null);return this.destroyFunctions.push(c),()=>(c(),this.destroyFunctions=this.destroyFunctions.filter(d=>d!==c),null)}setupGridOptionListener(e,o){this.gos.addPropertyEventListener(e,o);const a=()=>(this.gos.removePropertyEventListener(e,o),null);return this.destroyFunctions.push(a),()=>(a(),this.destroyFunctions=this.destroyFunctions.filter(c=>c!==a),null)}addManagedPropertyListener(e,o){return this.destroyed?()=>null:this.setupGridOptionListener(e,o)}addManagedPropertyListeners(e,o){if(this.destroyed)return;const a=e.join("-")+this.propertyListenerId++,c=d=>{if(d.changeSet){if(d.changeSet&&d.changeSet.id===this.lastChangeSetIdLookup[a])return;this.lastChangeSetIdLookup[a]=d.changeSet.id}const g={type:"gridPropertyChanged",changeSet:d.changeSet,source:d.source};o(g)};e.forEach(d=>this.setupGridOptionListener(d,c))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,o){const a=this.createBean(e,o);return this.addDestroyFunc(this.destroyBean.bind(this,e,o)),a}createBean(e,o,a){return(o||this.stubContext).createBean(e,a)}destroyBean(e,o){return(o||this.stubContext).destroyBean(e)}destroyBeans(e,o){return(o||this.stubContext).destroyBeans(e)}};function isProvidedColumnGroup(e){return e instanceof AgProvidedColumnGroup}var AgProvidedColumnGroup=class extends BeanStub{constructor(e,o,a,c){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=getNextColInstanceId(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=o,this.expanded=!!e&&!!e.openByDefault,this.padding=a,this.level=c}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,o){this.colGroupDef=e,this.level=o,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(o=>{isColumn(o)?e.push(o):isProvidedColumnGroup(o)&&o.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(o=>o.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(o=>o.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,o=!1,a=!1;const c=this.findChildrenRemovingPadding();for(let g=0,b=c.length;g<b;g++){const _=c[g];if(!_.isVisible())continue;const $=_.getColumnGroupShow();$==="open"?(e=!0,a=!0):$==="closed"?(o=!0,a=!0):(e=!0,o=!0)}const d=e&&o&&a;this.expandable!==d&&(this.expandable=d,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],o=a=>{a.forEach(c=>{isProvidedColumnGroup(c)&&c.isPadding()?o(c.children):e.push(c)})};return o(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},CONTROLS_COLUMN_ID_PREFIX="ag-Grid-ControlsColumn",ControlsColService=class extends BeanStub{constructor(){super(...arguments),this.beanName="controlsColService"}isControlsColEnabled(){const{gos:e}=this,o=e.get("rowSelection");if(!o||typeof o!="object")return!1;const a=_getCheckboxes(o),c=_getHeaderCheckbox(o);return!!(a||c)}createControlsCols(){if(!this.isControlsColEnabled())return[];const{gos:e}=this,o=e.get("selectionColumnDef"),c={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(g,b,_,$){const j=_.isSelected(),rt=$.isSelected();return j&&rt?0:j?1:-1},editable:!1,suppressFillHandle:!0,...o,colId:`${CONTROLS_COLUMN_ID_PREFIX}`},d=new AgColumn(c,null,c.colId,!1);return this.createBean(d),[d]}},GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn";function getColumnsFromTree(e){const o=[],a=c=>{for(let d=0;d<c.length;d++){const g=c[d];isColumn(g)?o.push(g):isProvidedColumnGroup(g)&&a(g.getChildren())}};return a(e),o}function getWidthOfColsInList(e){return e.reduce((o,a)=>o+a.getActualWidth(),0)}function destroyColumnTree(e,o,a){const c={};if(!o)return;depthFirstOriginalTreeSearch(null,o,g=>{c[g.getInstanceId()]=g}),a&&depthFirstOriginalTreeSearch(null,a,g=>{c[g.getInstanceId()]=null});const d=Object.values(c).filter(g=>g!=null);e.destroyBeans(d)}function isColumnGroupAutoCol(e){return e.getId().startsWith(GROUP_AUTO_COLUMN_ID)}function isColumnControlsCol(e){return e.getColId().startsWith(CONTROLS_COLUMN_ID_PREFIX)}function convertColumnTypes(e){let o=[];return e instanceof Array?e.some(c=>typeof c!="string")?_warnOnce("if colDef.type is supplied an array it should be of type 'string[]'"):o=e:typeof e=="string"?o=e.split(","):_warnOnce("colDef.type should be of type 'string' | 'string[]'"),o}var FrameworkEventListenerService=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e,o){const{frameworkOverrides:a,wrappedListeners:c}=this;let d=o;if(a.shouldWrapOutgoing){d=b=>{a.wrapOutgoing(()=>o(b))};let g=c.get(e);g||(g=new Map,c.set(e,g)),g.set(o,d)}return d}wrapGlobal(e){const{frameworkOverrides:o,wrappedGlobalListeners:a}=this;let c=e;return o.shouldWrapOutgoing&&(c=(d,g)=>{o.wrapOutgoing(()=>e(d,g))},a.set(e,c)),c}unwrap(e,o){const{wrappedListeners:a}=this,c=a.get(e);if(c){const d=c.get(o);if(d)return c.delete(o),c.size===0&&a.delete(e),d}return o}unwrapGlobal(e){const{wrappedGlobalListeners:o}=this,a=o.get(e);return a?(o.delete(e),a):e}},SKIP_JS_BUILTINS=new Set(["__proto__","constructor","prototype"]);function _iterateObject(e,o){if(e!=null){if(Array.isArray(e)){for(let a=0;a<e.length;a++)o(a.toString(),e[a]);return}for(const[a,c]of Object.entries(e))SKIP_JS_BUILTINS.has(a)||o(a,c)}}function _cloneObject(e){const o={},a=Object.keys(e);for(let c=0;c<a.length;c++){if(SKIP_JS_BUILTINS.has(a[c]))continue;const d=a[c],g=e[d];o[d]=g}return o}function _deepCloneDefinition(e,o){if(!e)return;const a=e,c={};return Object.keys(a).forEach(d=>{if(o&&o.indexOf(d)>=0||SKIP_JS_BUILTINS.has(d))return;const g=a[d];_isNonNullObject(g)&&g.constructor===Object?c[d]=_deepCloneDefinition(g):c[d]=g}),c}function _getAllValuesInObject(e){if(!e)return[];const o=Object;if(typeof o.values=="function")return o.values(e);const a=[];for(const c in e)e.hasOwnProperty(c)&&e.propertyIsEnumerable(c)&&a.push(e[c]);return a}function _mergeDeep(e,o,a=!0,c=!1){_exists(o)&&_iterateObject(o,(d,g)=>{if(SKIP_JS_BUILTINS.has(d))return;let b=e[d];b!==g&&(c&&b==null&&g!=null&&typeof g=="object"&&g.constructor===Object&&(b={},e[d]=b),_isNonNullObject(g)&&_isNonNullObject(b)&&!Array.isArray(b)?_mergeDeep(b,g,a,c):(a||g!==void 0)&&(e[d]=g))})}function _getValueUsingField(e,o,a){if(!o||!e)return;if(!a)return e[o];const c=o.split(".");let d=e;for(let g=0;g<c.length;g++){if(d==null)return;d=d[c[g]]}return d}function _isNonNullObject(e){return typeof e=="object"&&e!==null}var COL_DEF_DEFAULTS={resizable:!0,sortable:!0},instanceIdSequence=0;function getNextColInstanceId(){return instanceIdSequence++}function isColumn(e){return e instanceof AgColumn}var AgColumn=class extends BeanStub{constructor(e,o,a,c){super(),this.isColumn=!0,this.instanceId=getNextColInstanceId(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new LocalEventService,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=o,this.colId=a,this.primary=c,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const o=e.sortIndex,a=e.initialSortIndex;o!==void 0?o!==null&&(this.sortIndex=o):a!==null&&(this.sortIndex=a);const c=e.hide,d=e.initialHide;c!==void 0?this.visible=!c:this.visible=!d,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const g=e.flex,b=e.initialFlex;g!==void 0?this.flex=g:b!==void 0&&(this.flex=b)}setColDef(e,o,a){this.colDef=e,this.userProvidedColDef=o,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",a))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=_exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=_exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=_exists(this.colDef.tooltipField)||_exists(this.colDef.tooltipValueGetter)||_exists(this.colDef.tooltipComponent)}resetActualWidth(e){const o=this.calculateColInitialWidth(this.colDef);this.setActualWidth(o,e,!0)}calculateColInitialWidth(e){let o;const a=_attrToNumber(e.width),c=_attrToNumber(e.initialWidth);return a!=null?o=a:c!=null?o=c:o=200,Math.max(Math.min(o,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(_missing(this.colDef)||_missing(this.colDef.showRowGroup))return!1;const o=this.colDef.showRowGroup===!0,a=this.colDef.showRowGroup===e;return o||a}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,o){var c;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new FrameworkEventListenerService(this.frameworkOverrides));const a=((c=this.frameworkEventListenerService)==null?void 0:c.wrap(e,o))??o;this.columnEventService.addEventListener(e,a)}removeEventListener(e,o){var c;const a=((c=this.frameworkEventListenerService)==null?void 0:c.unwrap(e,o))??o;this.columnEventService.removeEventListener(e,a)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const o=this.createColumnFunctionCallbackParams(e),a=this.colDef.suppressNavigable;return a(o)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const o=this.gos.get("rowSelection");if(o&&typeof o!="string"){const a=isColumnControlsCol(this)&&_getCheckboxes(o);return this.isColumnFunc(e,a)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??COL_DEF_DEFAULTS[e]}isColumnFunc(e,o){if(typeof o=="boolean")return o;if(typeof o=="function"){const a=this.createColumnFunctionCallbackParams(e);return o(a)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,o){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",o))}createColumnEvent(e,o){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:o})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,o){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",o))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return _missing(this.sort)}isSorting(){return _exists(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,o){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",o)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,o){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",o)))}isFilterActive(){return this.filterActive}setFilterActive(e,o,a){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",o)));const c=this.createColumnEvent("filterChanged",o);a&&_mergeDeep(c,a),this.columnEventService.dispatchEvent(c)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,o){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",o)))}setLastLeftPinned(e,o){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",o)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,o){const a=e===!0;this.visible!==a&&(this.visible=a,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",o))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const o=e.getPaddingLevel()+1;let a=!0;for(;e;){if(!e.isPadding()){a=!1;break}e=e.getParent()}return{numberOfParents:o,isSpanningTotal:a}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const o=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,o}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(_missing(this.colDef.colSpan))return 1;const o=this.createBaseColDefParams(e),a=this.colDef.colSpan(o);return Math.max(a,1)}getRowSpan(e){if(_missing(this.colDef.rowSpan))return 1;const o=this.createBaseColDefParams(e),a=this.colDef.rowSpan(o);return Math.max(a,1)}setActualWidth(e,o,a=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&o!=="flex"&&o!=="gridInitializing"&&(this.flex=null),a||this.fireColumnWidthChangedEvent(o)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,o){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",o))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,o){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",o))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,o){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",o)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},DefaultColumnTypes={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ColumnKeyCreator=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let o=0;o<e.length;o++)this.existingKeys[e[o]]=!0}getUniqueKey(e,o){e=_toStringOrNull(e);let a=0;for(;;){let c;if(e?(c=e,a!==0&&(c+="_"+a)):o?(c=o,a!==0&&(c+="_"+a)):c=a,!this.existingKeys[c])return this.existingKeys[c]=!0,String(c);a++}}},ColumnFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,o,a,c){const d=new ColumnKeyCreator,{existingCols:g,existingGroups:b,existingColKeys:_}=this.extractExistingTreeData(a);d.addExistingKeys(_);const $=this.recursivelyCreateColumns(e,0,o,g,d,b,c),j=this.findMaxDept($,0),rt=this.balanceColumnTree($,0,j,d);return depthFirstOriginalTreeSearch(null,rt,(In,xl)=>{isProvidedColumnGroup(In)&&In.setupExpandable(),In.setOriginalParent(xl)}),{columnTree:rt,treeDept:j}}extractExistingTreeData(e){const o=[],a=[],c=[];return e&&depthFirstOriginalTreeSearch(null,e,d=>{if(isProvidedColumnGroup(d)){const g=d;a.push(g)}else{const g=d;c.push(g.getId()),o.push(g)}}),{existingCols:o,existingGroups:a,existingColKeys:c}}balanceTreeForAutoCols(e,o){const a=[],c=this.findDepth(o);return e.forEach(d=>{let g=d;for(let b=c-1;b>=0;b--){const _=new AgProvidedColumnGroup(null,`FAKE_PATH_${d.getId()}}_${b}`,!0,b);this.createBean(_),_.setChildren([g]),g.setOriginalParent(_),g=_}c===0&&d.setOriginalParent(null),a.push(g)}),[a,c]}findDepth(e){let o=0,a=e;for(;a&&a[0]&&isProvidedColumnGroup(a[0]);)o++,a=a[0].getChildren();return o}balanceColumnTree(e,o,a,c){const d=[];for(let g=0;g<e.length;g++){const b=e[g];if(isProvidedColumnGroup(b)){const _=b,$=this.balanceColumnTree(_.getChildren(),o+1,a,c);_.setChildren($),d.push(_)}else{let _,$;for(let j=a-1;j>=o;j--){const rt=c.getUniqueKey(null,null),nt=this.createMergedColGroupDef(null),In=new AgProvidedColumnGroup(nt,rt,!0,o);this.createBean(In),$&&$.setChildren([In]),$=In,_||(_=$)}if(_&&$)if(d.push(_),e.some(rt=>isProvidedColumnGroup(rt))){$.setChildren([b]);continue}else{$.setChildren(e);break}d.push(b)}}return d}findMaxDept(e,o){let a=o;for(let c=0;c<e.length;c++){const d=e[c];if(isProvidedColumnGroup(d)){const g=d,b=this.findMaxDept(g.getChildren(),o+1);a<b&&(a=b)}}return a}recursivelyCreateColumns(e,o,a,c,d,g,b){if(!e)return[];const _=new Array(e.length);for(let $=0;$<_.length;$++){const j=e[$];this.isColumnGroup(j)?_[$]=this.createColumnGroup(a,j,o,c,d,g,b):_[$]=this.createColumn(a,j,c,d,b)}return _}createColumnGroup(e,o,a,c,d,g,b){const _=this.createMergedColGroupDef(o),$=d.getUniqueKey(_.groupId||null,null),j=new AgProvidedColumnGroup(_,$,!1,a);this.createBean(j);const rt=this.findExistingGroup(o,g);rt&&g.splice(rt.idx,1);const nt=rt==null?void 0:rt.group;nt&&j.setExpanded(nt.isExpanded());const In=this.recursivelyCreateColumns(_.children,a+1,e,c,d,g,b);return j.setChildren(In),j}createMergedColGroupDef(e){const o={};return Object.assign(o,this.gos.get("defaultColGroupDef")),Object.assign(o,e),o}createColumn(e,o,a,c,d){var _;const g=this.findExistingColumn(o,a);g&&(a==null||a.splice(g.idx,1));let b=g==null?void 0:g.column;if(b){const $=this.addColumnDefaultAndTypes(o,b.getColId());b.setColDef($,o,d),this.applyColumnState(b,$,d)}else{const $=c.getUniqueKey(o.colId,o.field),j=this.addColumnDefaultAndTypes(o,$);b=new AgColumn(j,o,$,e),this.createBean(b)}return(_=this.dataTypeService)==null||_.addColumnListeners(b),b}applyColumnState(e,o,a){const c=_attrToNumber(o.flex);if(c!==void 0&&e.setFlex(c),e.getFlex()<=0){const _=_attrToNumber(o.width);if(_!=null)e.setActualWidth(_,a);else{const $=e.getActualWidth();e.setActualWidth($,a)}}o.sort!==void 0&&(o.sort=="asc"||o.sort=="desc"?e.setSort(o.sort,a):e.setSort(void 0,a));const g=_attrToNumber(o.sortIndex);g!==void 0&&e.setSortIndex(g);const b=_attrToBoolean(o.hide);b!==void 0&&e.setVisible(!b,a),o.pinned!==void 0&&e.setPinned(o.pinned)}findExistingColumn(e,o){if(o)for(let a=0;a<o.length;a++){const c=o[a].getUserProvidedColDef();if(!c)continue;if(e.colId!=null){if(o[a].getId()===e.colId)return{idx:a,column:o[a]};continue}if(e.field!=null){if(c.field===e.field)return{idx:a,column:o[a]};continue}if(c===e)return{idx:a,column:o[a]}}}findExistingGroup(e,o){if(e.groupId!=null)for(let c=0;c<o.length;c++){const d=o[c];if(d.getColGroupDef()&&d.getId()===e.groupId)return{idx:c,group:d}}}addColumnDefaultAndTypes(e,o){var _;const a={},c=this.gos.get("defaultColDef");_mergeDeep(a,c,!1,!0);const d=this.updateColDefAndGetColumnType(a,e,o);d&&this.assignColumnTypes(d,a),_mergeDeep(a,e,!1,!0);const g=this.gos.get("autoGroupColumnDef"),b=_isColumnsSortingCoupledToGroup(this.gos);return e.rowGroup&&g&&b&&_mergeDeep(a,{sort:g.sort,initialSort:g.initialSort},!1,!0),(_=this.dataTypeService)==null||_.validateColDef(a),a}updateColDefAndGetColumnType(e,o,a){var g;const c=(g=this.dataTypeService)==null?void 0:g.updateColDefAndGetColumnType(e,o,a),d=o.type??c??e.type;return e.type=d,d?convertColumnTypes(d):void 0}assignColumnTypes(e,o){if(!e.length)return;const a=Object.assign({},DefaultColumnTypes),c=this.gos.get("columnTypes")||{};_iterateObject(c,(d,g)=>{d in a?_warnOnce(`the column type '${d}' is a default column type and cannot be overridden.`):(g.type&&_warnOnce("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),a[d]=g)}),e.forEach(d=>{const g=a[d.trim()];g?_mergeDeep(o,g,!1,!0):_warnOnce("colDef.type '"+d+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function depthFirstOriginalTreeSearch(e,o,a){if(o)for(let c=0;c<o.length;c++){const d=o[c];isProvidedColumnGroup(d)&&depthFirstOriginalTreeSearch(d,d.getChildren(),a),a(d,e)}}var ColumnModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],o=>this.refreshAll(convertSourceType(o.source))),this.addManagedPropertyListener("rowSelection",o=>{this.onSelectionOptionsChanged(o.currentValue,o.previousValue,convertSourceType(o.source))}),this.addManagedPropertyListener("autoGroupColumnDef",o=>this.onAutoGroupColumnDefChanged(convertSourceType(o.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],o=>this.recreateColumnDefs(convertSourceType(o.source))),this.addManagedPropertyListener("pivotMode",o=>this.setPivotMode(this.gos.get("pivotMode"),convertSourceType(o.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var j,rt,nt;const o=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const a=(j=this.colDefCols)==null?void 0:j.list,c=(rt=this.colDefCols)==null?void 0:rt.tree,d=this.columnFactory.createColumnTree(this.colDefs,!0,c,e);destroyColumnTree(this.context,(nt=this.colDefCols)==null?void 0:nt.tree,d.columnTree);const g=d.columnTree,b=d.treeDept,_=getColumnsFromTree(g),$={};_.forEach(In=>$[In.getId()]=In),this.colDefCols={tree:g,treeDepth:b,list:_,map:$},this.funcColsService.extractCols(e,a),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),o&&(this.changeEventsDispatching=!0,o(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var d,g,b;if(!this.colDefCols)return;const o=(d=this.cols)==null?void 0:d.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const a=_shouldMaintainColumnOrder(this.gos,this.showingPivotResult);(!e||a)&&this.restoreColOrder(),this.positionLockedCols(),(g=this.showRowGroupColsService)==null||g.refresh(),(b=this.quickFilterService)==null||b.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!_areEqual(o,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:o,list:a,tree:c,treeDepth:d}=e;this.cols={list:a.slice(),map:{...o},tree:c.slice(),treeDepth:d},e.list.some(b=>{var _;return((_=this.cols)==null?void 0:_.map[b.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:o,list:a,tree:c,treeDepth:d}=this.colDefCols;this.cols={list:a.slice(),map:{...o},tree:c.slice(),treeDepth:d}}}getColsToShow(){var d;const e=this.isPivotMode()&&!this.isShowingPivotResult(),o=this.funcColsService.getValueColumns(),a=(d=this.controlsColService)==null?void 0:d.isControlsColEnabled();return this.cols.list.filter(g=>{const b=isColumnGroupAutoCol(g);if(e){const _=o&&_includes(o,g);return b||_||a&&isColumnControlsCol(g)}else return b||g.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),updateColsMap(this.cols))}createAutoCols(){var Ll;const e=_isGroupUseEntireRow(this.gos,this.pivotMode),o=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),a=this.funcColsService.getRowGroupColumns(),d=!(a.length>0||this.gos.get("treeData"))||o||e,g=()=>{this.autoCols&&(destroyColumnTree(this.context,this.autoCols.tree),this.autoCols=null)};if(d||!this.autoColService){g();return}const b=this.autoColService.createAutoCols(a)??[],_=areColIdsEqual(b,((Ll=this.autoCols)==null?void 0:Ll.list)||null),$=this.cols.treeDepth,rt=(this.autoCols?this.autoCols.treeDepth:-1)==$;if(_&&rt)return;g();const[nt,In]=this.columnFactory.balanceTreeForAutoCols(b,this.cols.tree);this.autoCols={list:b,tree:nt,treeDepth:In,map:{}};const xl=Nl=>{if(!Nl)return null;const _u=Nl.filter(Yl=>!isColumnGroupAutoCol(Yl));return[...b,..._u]};this.lastOrder=xl(this.lastOrder),this.lastPivotOrder=xl(this.lastPivotOrder)}createControlsCols(){var j,rt,nt;const e=()=>{var In;destroyColumnTree(this.context,(In=this.controlsCols)==null?void 0:In.tree),this.controlsCols=null};this.controlsColService||e();const o=this.cols.treeDepth,c=(((j=this.controlsCols)==null?void 0:j.treeDepth)??-1)==o,d=((rt=this.controlsColService)==null?void 0:rt.createControlsCols())??[];if(areColIdsEqual(d,((nt=this.controlsCols)==null?void 0:nt.list)??[])&&c)return;e();const[b,_]=this.columnFactory.balanceTreeForAutoCols(d,this.cols.tree);this.controlsCols={list:d,tree:b,treeDepth:_,map:{}};const $=In=>{if(!In)return null;const xl=In.filter(Ll=>!isColumnControlsCol(Ll));return[...d,...xl]};this.lastOrder=$(this.lastOrder),this.lastPivotOrder=$(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),updateColsMap(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,o=!1,a){this.columnApplyStateService.applyColumnState({state:e.map(c=>({colId:typeof c=="string"?c:c.getColId(),hide:!o}))},a)}setColsPinned(e,o,a){if(!this.cols||_missingOrEmpty(e))return;if(_isDomLayout(this.gos,"print")){_warnOnce("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let c;o===!0||o==="left"?c="left":o==="right"?c="right":c=null;const d=[];e.forEach(g=>{if(!g)return;const b=this.getCol(g);b&&b.getPinned()!==c&&(b.setPinned(c),d.push(b))}),d.length&&(this.visibleColsService.refresh(a),this.eventDispatcher.columnPinned(d,a)),this.columnAnimationService.finish()}setColumnGroupOpened(e,o,a){let c;isProvidedColumnGroup(e)?c=e.getId():c=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:c,open:o}],a)}getProvidedColGroup(e){var a;let o=null;return depthFirstOriginalTreeSearch(null,(a=this.cols)==null?void 0:a.tree,c=>{isProvidedColumnGroup(c)&&c.getId()===e&&(o=c)}),o}isColGroupLocked(e){const o=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||o===0)return!1;if(o===-1)return!0;const c=this.funcColsService.getRowGroupColumns().findIndex(d=>d.getColId()===e.getColId());return o>c}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,_isClientSideRowModel(this.gos)||_isServerSideRowModel(this.gos)||_warnOnce("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const o=new Map(e.map(($,j)=>[$,j]));if(!this.cols.list.some($=>o.has($)))return;const c=new Map(this.cols.list.map($=>[$,!0])),d=e.filter($=>c.has($)),g=new Map(d.map($=>[$,!0])),b=this.cols.list.filter($=>!g.has($)),_=d.slice();b.forEach($=>{let j=$.getOriginalParent();if(!j){_.push($);return}const rt=[];for(;!rt.length&&j;)j.getLeafColumns().forEach(Ll=>{const Nl=_.indexOf(Ll)>=0,_u=rt.indexOf(Ll)<0;Nl&&_u&&rt.push(Ll)}),j=j.getOriginalParent();if(!rt.length){_.push($);return}const nt=rt.map(xl=>_.indexOf(xl)),In=Math.max(...nt);_insertIntoArray(_,$,In+1)}),this.cols.list=_}sortColsLikeKeys(e){if(this.cols==null)return;let o=[];const a={};e.forEach(d=>{if(a[d])return;const g=this.cols.map[d];g&&(o.push(g),a[d]=!0)});let c=0;if(this.cols.list.forEach(d=>{const g=d.getColId();if(a[g]!=null)return;g.startsWith(GROUP_AUTO_COLUMN_ID)?_insertIntoArray(o,d,c++):o.push(d)}),o=this.columnMoveService.placeLockedColumns(o),!this.columnMoveService.doesMovePassMarryChildren(o)){_warnOnce("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=o}sortColsLikeCols(e){!e||e.length<=1||e.filter(a=>this.cols.list.indexOf(a)<0).length>0||e.sort((a,c)=>{const d=this.cols.list.indexOf(a),g=this.cols.list.indexOf(c);return d-g})}resetColDefIntoCol(e,o){const a=e.getUserProvidedColDef();if(!a)return!1;const c=this.columnFactory.addColumnDefaultAndTypes(a,e.getColId());return e.setColDef(c,a,o),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,o,a){var c;_moveInArray((c=this.cols)==null?void 0:c.list,e,o),this.visibleColsService.refresh(a)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,o;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(o=this.cols)==null?void 0:o.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((c,d)=>this.lastOrder.indexOf(c)-this.lastOrder.indexOf(d)):this.lastOrder&&e.sort((c,d)=>this.cols.list.indexOf(c)-this.cols.list.indexOf(d));const o=this.funcColsService.getRowGroupColumns(),a=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,o,a)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,o){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(_warnOnce("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!_missingOrEmpty(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,o){this.colDefs=e,this.createColsFromColDefs(o)}destroy(){var e,o,a;destroyColumnTree(this.context,(e=this.colDefCols)==null?void 0:e.tree),destroyColumnTree(this.context,(o=this.autoCols)==null?void 0:o.tree),destroyColumnTree(this.context,(a=this.controlsCols)==null?void 0:a.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var a,c,d;const e=this.pivotResultColsService.getPivotResultCols(),o=e==null?void 0:e.list;return[((a=this.colDefCols)==null?void 0:a.list)??[],((c=this.autoCols)==null?void 0:c.list)??[],((d=this.controlsCols)==null?void 0:d.list)??[],o??[]].flat()}getColsForKeys(e){return e?e.map(o=>this.getCol(o)).filter(o=>o!=null):[]}getColDefCol(e){var o;return(o=this.colDefCols)!=null&&o.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,o){if(o==null)return null;const{map:a,list:c}=o;if(typeof e=="string"&&a[e])return a[e];for(let d=0;d<c.length;d++)if(columnsMatch(c[d],e))return c[d];return this.getAutoCol(e)}getAutoCol(e){var o;return((o=this.autoCols)==null?void 0:o.list.find(a=>columnsMatch(a,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,o){e.setAutoHeaderHeight(o)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],o=this.ctrlsService.getHeaderRowContainerCtrls();for(const a of o){if(!a)continue;const c=a.getGroupRowCount()||0;for(let d=0;d<c;d++){const g=a.getGroupRowCtrlAtIndex(d),b=e[d];if(g){const _=this.getColumnGroupHeaderRowHeight(g);(b==null||_>b)&&(e[d]=_)}}}return e}getColumnGroupHeaderRowHeight(e){const o=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let a=0;const c=e.getHeaderCtrls();for(const d of c){const g=d.getColumn();if(g.isAutoHeaderHeight()){const b=g.getAutoHeaderHeight();b!=null&&b>a&&(a=b)}}return Math.max(o,a)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),a=this.visibleColsService.getAllCols().filter(c=>c.isAutoHeaderHeight()).map(c=>c.getAutoHeaderHeight()||0);return Math.max(e,...a)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:o,skipHeader:a}=e;setTimeout(()=>{o?this.columnAutosizeService.autoSizeCols({colKeys:o,skipHeader:a,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",a)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,o,a){const c=o&&typeof o!="string"?_getCheckboxes(o):void 0,d=e&&typeof e!="string"?_getCheckboxes(e):void 0,g=c!==d,b=o&&typeof o!="string"?_getHeaderCheckbox(o):void 0,_=e&&typeof e!="string"?_getHeaderCheckbox(e):void 0;(g||b!==_)&&this.refreshAll(a)}};function convertSourceType(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function updateColsMap(e){e.map={},e.list.forEach(o=>e.map[o.getId()]=o)}function columnsMatch(e,o){const a=e===o,c=e.getColDef()===o,d=e.getColId()==o;return a||c||d}function areColIdsEqual(e,o){return _areEqual(e,o,(a,c)=>a.getColId()===c.getColId())}var ColumnAutosizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:o,skipHeader:a,skipHeaderGroups:c,stopAtGroup:d,source:g="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const b=[];let _=-1;const $=a??this.gos.get("skipHeaderOnAutoSize"),j=c??$;for(;_!==0;){_=0;const rt=[];o.forEach(nt=>{if(!nt)return;const In=this.columnModel.getCol(nt);if(!In||b.indexOf(In)>=0)return;const xl=this.autoWidthCalculator.getPreferredWidthForColumn(In,$);if(xl>0){const Ll=this.normaliseColumnWidth(In,xl);In.setActualWidth(Ll,g),b.push(In),_++}rt.push(In)}),rt.length&&this.visibleColsService.refresh(g)}j||this.autoSizeColumnGroupsByColumns(o,g,d),this.eventDispatcher.columnResized(b,!0,"autosizeColumns")}autoSizeColumn(e,o,a){e&&this.autoSizeCols({colKeys:[e],skipHeader:a,skipHeaderGroups:!0,source:o})}autoSizeColumnGroupsByColumns(e,o,a){const c=new Set;this.columnModel.getColsForKeys(e).forEach(_=>{let $=_.getParent();for(;$&&$!=a;)$.isPadding()||c.add($),$=$.getParent()});let g;const b=[];for(const _ of c){for(const $ of this.ctrlsService.getHeaderRowContainerCtrls())if(g=$.getHeaderCtrlForColumn(_),g)break;g&&g.resizeLeafColumnsToFit(o)}return b}autoSizeAllColumns(e,o){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,o));return}const a=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:a,skipHeader:o,source:e})}normaliseColumnWidth(e,o){const a=e.getMinWidth();o<a&&(o=a);const c=e.getMaxWidth();return e.isGreaterThanMax(o)&&(o=c),o}},FuncColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>_removeFromArray(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>_removeFromArray(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>_removeFromArray(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const o=e.getColDef().showRowGroup;if(!o)return null;if(o===!0)return this.rowGroupCols.slice(0);const a=this.columnModel.getColDefCol(o);return a?[a]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return _missingOrEmpty(this.rowGroupCols)}setColumnAggFunc(e,o,a){if(!e)return;const c=this.columnModel.getColDefCol(e);c&&(c.setAggFunc(o),this.eventDispatcher.columnChanged("columnValueChanged",[c],a))}setRowGroupColumns(e,o){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(a,c)=>this.setRowGroupActive(a,c,o),o)}setRowGroupActive(e,o,a){e!==o.isRowGroupActive()&&(o.setRowGroupActive(e,a),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([o],!1,a),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([o],!0,a))}addRowGroupColumns(e,o){this.updateColList(e,this.rowGroupCols,!0,!0,a=>this.setRowGroupActive(!0,a,o),"columnRowGroupChanged",o)}removeRowGroupColumns(e,o){this.updateColList(e,this.rowGroupCols,!1,!0,a=>this.setRowGroupActive(!1,a,o),"columnRowGroupChanged",o)}addPivotColumns(e,o){this.updateColList(e,this.pivotCols,!0,!1,a=>a.setPivotActive(!0,o),"columnPivotChanged",o)}setPivotColumns(e,o){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(a,c)=>{c.setPivotActive(a,o)},o)}removePivotColumns(e,o){this.updateColList(e,this.pivotCols,!1,!1,a=>a.setPivotActive(!1,o),"columnPivotChanged",o)}setValueColumns(e,o){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(a,c)=>this.setValueActive(a,c,o),o)}setValueActive(e,o,a){if(e!==o.isValueActive()&&(o.setValueActive(e,a),e&&!o.getAggFunc()&&this.aggFuncService)){const c=this.aggFuncService.getDefaultAggFunc(o);o.setAggFunc(c)}}addValueColumns(e,o){this.updateColList(e,this.valueCols,!0,!1,a=>this.setValueActive(!0,a,o),"columnValueChanged",o)}removeValueColumns(e,o){this.updateColList(e,this.valueCols,!1,!1,a=>this.setValueActive(!1,a,o),"columnValueChanged",o)}moveRowGroupColumn(e,o,a){if(this.isRowGroupEmpty())return;const c=this.rowGroupCols[e],d=this.rowGroupCols.slice(e,o);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(o,0,c),this.eventDispatcher.rowGroupChanged(d,a)}setColList(e,o,a,c,d,g,b){if(!this.columnModel.getCols())return;const _=new Map;o.forEach((j,rt)=>_.set(j,rt)),o.length=0,_exists(e)&&e.forEach(j=>{const rt=this.columnModel.getColDefCol(j);rt&&o.push(rt)}),o.forEach((j,rt)=>{const nt=_.get(j);if(nt===void 0){_.set(j,0);return}c&&nt!==rt||_.delete(j)}),(this.columnModel.getColDefCols()||[]).forEach(j=>{const rt=o.indexOf(j)>=0;g(rt,j)}),d&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(b),this.eventDispatcher.columnChanged(a,[..._.keys()],b)}updateColList(e,o,a,c,d,g,b){if(!e||_missingOrEmpty(e))return;let _=!1;const $=new Set;e.forEach(j=>{if(!j)return;const rt=this.columnModel.getColDefCol(j);if(rt){if($.add(rt),a){if(o.indexOf(rt)>=0)return;o.push(rt)}else{const nt=o.indexOf(rt);if(nt<0)return;for(let In=nt+1;In<o.length;In++)$.add(o[In]);_removeFromArray(o,rt)}d(rt),_=!0}}),_&&(c&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(b),this.eventDispatcher.genericColumnEvent(g,Array.from($),b))}extractCols(e,o){this.extractRowGroupCols(e,o),this.extractPivotCols(e,o),this.extractValueCols(e,o)}extractValueCols(e,o){this.valueCols=this.extractColsCommon(o,this.valueCols,(a,c)=>a.setValueActive(c,e),()=>{},()=>{},a=>{const c=a.aggFunc;if(c===null||c==="")return null;if(c!==void 0)return!!c},a=>a.initialAggFunc!=null&&a.initialAggFunc!=""),this.valueCols.forEach(a=>{const c=a.getColDef();c.aggFunc!=null&&c.aggFunc!=""?a.setAggFunc(c.aggFunc):a.getAggFunc()||a.setAggFunc(c.initialAggFunc)})}extractRowGroupCols(e,o){this.rowGroupCols=this.extractColsCommon(o,this.rowGroupCols,(a,c)=>a.setRowGroupActive(c,e),a=>a.rowGroupIndex,a=>a.initialRowGroupIndex,a=>a.rowGroup,a=>a.initialRowGroup)}extractPivotCols(e,o){this.pivotCols=this.extractColsCommon(o,this.pivotCols,(a,c)=>a.setPivotActive(c,e),a=>a.pivotIndex,a=>a.initialPivotIndex,a=>a.pivot,a=>a.initialPivot)}extractColsCommon(e=[],o=[],a,c,d,g,b){const _=[],$=[];(this.columnModel.getColDefCols()||[]).forEach(In=>{const xl=e.indexOf(In)<0,Ll=In.getColDef(),Nl=_attrToBoolean(g(Ll)),_u=_attrToBoolean(b(Ll)),Yl=_attrToNumber(c(Ll)),Ul=_attrToNumber(d(Ll));let Dl;Nl!==void 0?Dl=Nl:Yl!==void 0?Yl===null?Dl=!1:Dl=Yl>=0:xl?_u!==void 0?Dl=_u:Ul!==void 0?Dl=Ul!=null&&Ul>=0:Dl=!1:Dl=o.indexOf(In)>=0,Dl&&((xl?Yl!=null||Ul!=null:Yl!=null)?_.push(In):$.push(In))});const rt=In=>{const xl=c(In.getColDef()),Ll=d(In.getColDef());return xl??Ll};_.sort((In,xl)=>{const Ll=rt(In),Nl=rt(xl);return Ll===Nl?0:Ll<Nl?-1:1});const nt=[].concat(_);return o.forEach(In=>{$.indexOf(In)>=0&&nt.push(In)}),$.forEach(In=>{nt.indexOf(In)<0&&nt.push(In)}),o.forEach(In=>{nt.indexOf(In)<0&&a(In,!1)}),nt.forEach(In=>{o.indexOf(In)<0&&a(In,!0)}),nt}generateColumnStateForRowGroupAndPivotIndexes(e,o){const a={},c=(d,g,b,_,$,j)=>{const rt=this.columnModel.getColDefCols();if(!g.length||!rt)return[];const nt=Object.keys(d),In=new Set(nt),xl=new Set(nt),Ll=new Set(g.map(Uu=>{const fp=Uu.getColId();return xl.delete(fp),fp}).concat(nt)),Nl=[],_u={};let Yl=0;for(let Uu=0;Uu<rt.length;Uu++){const fp=rt[Uu].getColId();Ll.has(fp)&&(Nl.push(fp),_u[fp]=Yl++)}let Ul=1e3,Dl=!1,Zl=0;const Ju=Uu=>{const fp=_u[Uu];for(let Zu=Zl;Zu<fp;Zu++){const Lp=Nl[Zu];xl.has(Lp)&&(d[Lp][$]=Ul++,xl.delete(Lp))}Zl=fp};g.forEach(Uu=>{const fp=Uu.getColId();if(In.has(fp))Ju(fp),d[fp][$]=Ul++;else{const Zu=Uu.getColDef();(Zu[$]===null||Zu[$]===void 0&&Zu[j]==null)&&(Dl||(Zu[b]||Zu[b]===void 0&&Zu[_]?Ju(fp):(xl.forEach(zp=>{d[zp][$]=Ul+_u[zp]}),Ul+=Nl.length,Dl=!0)),a[fp]||(a[fp]={colId:fp}),a[fp][$]=Ul++)}})};return c(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),c(o,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(a)}},ColumnApplyStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,o){const a=this.columnModel.getColDefCols()||[];if(_missingOrEmpty(a))return!1;if(e&&e.state&&!e.state.forEach)return _warnOnce("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const c=this.funcColsService.getModifyColumnsNoEventsCallbacks(),d=(_,$,j)=>{const rt=this.compareColumnStatesAndDispatchEvents(o),nt=$.slice(),In={},xl={},Ll=[],Nl=[];let _u=0;const Yl=this.funcColsService.getRowGroupColumns().slice(),Ul=this.funcColsService.getPivotColumns().slice();_.forEach(Uu=>{const fp=Uu.colId||"";if(fp.startsWith(GROUP_AUTO_COLUMN_ID)){Ll.push(Uu),Nl.push(Uu);return}const Lp=j(fp);Lp?(this.syncColumnWithStateItem(Lp,Uu,e.defaultState,In,xl,!1,o,c),_removeFromArray(nt,Lp)):(Nl.push(Uu),_u+=1)});const Dl=Uu=>this.syncColumnWithStateItem(Uu,null,e.defaultState,In,xl,!1,o,c);nt.forEach(Dl),this.funcColsService.sortRowGroupColumns(comparatorByIndex.bind(this,In,Yl)),this.funcColsService.sortPivotColumns(comparatorByIndex.bind(this,xl,Ul)),this.columnModel.refreshCols(!1);const Ju=(this.columnModel.getAutoCols()||[]).slice();return Ll.forEach(Uu=>{const fp=this.columnModel.getAutoCol(Uu.colId);_removeFromArray(Ju,fp),this.syncColumnWithStateItem(fp,Uu,e.defaultState,null,null,!0,o,c)}),Ju.forEach(Dl),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(o),this.eventDispatcher.everythingChanged(o),rt(),{unmatchedAndAutoStates:Nl,unmatchedCount:_u}};this.columnAnimationService.start();let{unmatchedAndAutoStates:g,unmatchedCount:b}=d(e.state||[],a,_=>this.columnModel.getColDefCol(_));if(g.length>0||_exists(e.defaultState)){const _=this.pivotResultColsService.getPivotResultCols(),$=_==null?void 0:_.list;b=d(g,$||[],j=>this.pivotResultColsService.getPivotResultCol(j)).unmatchedCount}return this.columnAnimationService.finish(),b===0}resetColumnState(e){const o=this.columnModel.getColDefCols();if(_missingOrEmpty(o))return;const a=this.columnModel.getColDefColTree(),c=getColumnsFromTree(a),d=[];let g=1e3,b=1e3,_=[];const $=this.columnModel.getAutoCols();$&&(_=_.concat($)),c&&(_=_.concat(c)),_.forEach(j=>{const rt=this.getColumnStateFromColDef(j);_missing(rt.rowGroupIndex)&&rt.rowGroup&&(rt.rowGroupIndex=g++),_missing(rt.pivotIndex)&&rt.pivot&&(rt.pivotIndex=b++),d.push(rt)}),this.applyColumnState({state:d,applyOrder:!0},e)}getColumnStateFromColDef(e){const o=(Ll,Nl)=>Ll??Nl??null,a=e.getColDef(),c=o(a.sort,a.initialSort),d=o(a.sortIndex,a.initialSortIndex),g=o(a.hide,a.initialHide),b=o(a.pinned,a.initialPinned),_=o(a.width,a.initialWidth),$=o(a.flex,a.initialFlex);let j=o(a.rowGroupIndex,a.initialRowGroupIndex),rt=o(a.rowGroup,a.initialRowGroup);j==null&&(rt==null||rt==!1)&&(j=null,rt=null);let nt=o(a.pivotIndex,a.initialPivotIndex),In=o(a.pivot,a.initialPivot);nt==null&&(In==null||In==!1)&&(nt=null,In=null);const xl=o(a.aggFunc,a.initialAggFunc);return{colId:e.getColId(),sort:c,sortIndex:d,hide:g,pinned:b,width:_,flex:$,rowGroup:rt,rowGroupIndex:j,pivot:In,pivotIndex:nt,aggFunc:xl}}syncColumnWithStateItem(e,o,a,c,d,g,b,_){if(!e)return;const $=(Zl,Ju)=>{const Uu={value1:void 0,value2:void 0};let fp=!1;return o&&(o[Zl]!==void 0&&(Uu.value1=o[Zl],fp=!0),_exists(Ju)&&o[Ju]!==void 0&&(Uu.value2=o[Ju],fp=!0)),!fp&&a&&(a[Zl]!==void 0&&(Uu.value1=a[Zl]),_exists(Ju)&&a[Ju]!==void 0&&(Uu.value2=a[Ju])),Uu},j=$("hide").value1;j!==void 0&&e.setVisible(!j,b);const rt=$("pinned").value1;rt!==void 0&&e.setPinned(rt);const nt=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),In=$("flex").value1;if(In!==void 0&&e.setFlex(In),In==null){const Zl=$("width").value1;Zl!=null&&nt!=null&&Zl>=nt&&e.setActualWidth(Zl,b)}const xl=$("sort").value1;xl!==void 0&&(xl==="desc"||xl==="asc"?e.setSort(xl,b):e.setSort(void 0,b));const Ll=$("sortIndex").value1;if(Ll!==void 0&&e.setSortIndex(Ll),g||!e.isPrimary())return;const Nl=$("aggFunc").value1;Nl!==void 0&&(typeof Nl=="string"?(e.setAggFunc(Nl),e.isValueActive()||(e.setValueActive(!0,b),_.addValueCol(e))):(_exists(Nl)&&_warnOnce("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,b),_.removeValueCol(e))));const{value1:_u,value2:Yl}=$("rowGroup","rowGroupIndex");(_u!==void 0||Yl!==void 0)&&(typeof Yl=="number"||_u?(e.isRowGroupActive()||(e.setRowGroupActive(!0,b),_.addGroupCol(e)),c&&typeof Yl=="number"&&(c[e.getId()]=Yl)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,b),_.removeGroupCol(e)));const{value1:Ul,value2:Dl}=$("pivot","pivotIndex");(Ul!==void 0||Dl!==void 0)&&(typeof Dl=="number"||Ul?(e.isPivotActive()||(e.setPivotActive(!0,b),_.addPivotCol(e)),d&&typeof Dl=="number"&&(d[e.getId()]=Dl)):e.isPivotActive()&&(e.setPivotActive(!1,b),_.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const o=[];e.state.forEach(a=>{a.colId!=null&&o.push(a.colId)}),this.columnModel.sortColsLikeKeys(o)}compareColumnStatesAndDispatchEvents(e){const o={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},a=this.columnGetStateService.getColumnState(),c={};return a.forEach(d=>{c[d.colId]=d}),()=>{const d=this.columnModel.getAllCols(),g=(Nl,_u,Yl,Ul)=>{const Dl=_u.map(Ul),Zl=Yl.map(Ul);if(_areEqual(Dl,Zl))return;const Uu=new Set(_u);Yl.forEach(Zu=>{Uu.delete(Zu)||Uu.add(Zu)});const fp=[...Uu];this.eventService.dispatchEvent({type:Nl,columns:fp,column:fp.length===1?fp[0]:null,source:e})},b=Nl=>{const _u=[];return d.forEach(Yl=>{const Ul=c[Yl.getColId()];Ul&&Nl(Ul,Yl)&&_u.push(Yl)}),_u},_=Nl=>Nl.getColId();g("columnRowGroupChanged",o.rowGroupColumns,this.funcColsService.getRowGroupColumns(),_),g("columnPivotChanged",o.pivotColumns,this.funcColsService.getPivotColumns(),_);const j=b((Nl,_u)=>{const Yl=Nl.aggFunc!=null,Ul=Yl!=_u.isValueActive(),Dl=Yl&&Nl.aggFunc!=_u.getAggFunc();return Ul||Dl});j.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",j,e);const rt=(Nl,_u)=>Nl.width!=_u.getActualWidth();this.eventDispatcher.columnResized(b(rt),!0,e);const nt=(Nl,_u)=>Nl.pinned!=_u.getPinned();this.eventDispatcher.columnPinned(b(nt),e);const In=(Nl,_u)=>Nl.hide==_u.isVisible();this.eventDispatcher.columnVisible(b(In),e);const Ll=b((Nl,_u)=>Nl.sort!=_u.getSort()||Nl.sortIndex!=_u.getSortIndex());Ll.length>0&&this.sortController.dispatchSortChangedEvents(e,Ll),this.normaliseColumnMovedEventForColumnState(a,e)}}normaliseColumnMovedEventForColumnState(e,o){const a=this.columnGetStateService.getColumnState(),c={};a.forEach($=>c[$.colId]=$);const d={};e.forEach($=>{c[$.colId]&&(d[$.colId]=!0)});const g=e.filter($=>d[$.colId]),b=a.filter($=>d[$.colId]),_=[];b.forEach(($,j)=>{const rt=g&&g[j];if(rt&&rt.colId!==$.colId){const nt=this.columnModel.getCol(rt.colId);nt&&_.push(nt)}}),_.length&&this.eventDispatcher.columnMoved({movedColumns:_,source:o,finished:!0})}},comparatorByIndex=(e,o,a,c)=>{const d=e[a.getId()],g=e[c.getId()],b=d!=null,_=g!=null;if(b&&_)return d-g;if(b)return-1;if(_)return 1;const $=o.indexOf(a),j=o.indexOf(c),rt=$>=0,nt=j>=0;return rt&&nt?$-j:rt?-1:1},ColumnMoveService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,o,a){const c=this.columnModel.getCols();if(!c)return;const d=c[e];this.moveColumns([d],o,a)}moveColumns(e,o,a,c=!0){const d=this.columnModel.getCols();if(!d)return;if(o>d.length-e.length){_warnOnce("tried to insert columns in invalid location, toIndex = ",o),_warnOnce("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const g=this.columnModel.getColsForKeys(e);this.doesMovePassRules(g,o)&&(this.columnModel.moveInCols(g,o,a),this.eventDispatcher.columnMoved({movedColumns:g,source:a,toIndex:o,finished:c})),this.columnAnimationService.finish()}doesMovePassRules(e,o){const a=this.getProposedColumnOrder(e,o);return this.doesOrderPassRules(a)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,o){const c=this.columnModel.getCols().slice();return _moveInArray(c,e,o),c}doesMovePassLockedPositions(e){const o=g=>g?g==="left"||g===!0?-1:1:0,a=this.gos.get("enableRtl");let c=a?1:-1,d=!0;return e.forEach(g=>{const b=o(g.getColDef().lockPosition);a?b>c&&(d=!1):b<c&&(d=!1),c=b}),d}doesMovePassMarryChildren(e){let o=!0;const a=this.columnModel.getColTree();return depthFirstOriginalTreeSearch(null,a,c=>{if(!isProvidedColumnGroup(c))return;const d=c,g=d.getColGroupDef();if(!(g&&g.marryChildren))return;const _=[];d.getLeafColumns().forEach(In=>{const xl=e.indexOf(In);_.push(xl)});const $=Math.max.apply(Math,_),j=Math.min.apply(Math,_),rt=$-j,nt=d.getLeafColumns().length-1;rt>nt&&(o=!1)}),o}placeLockedColumns(e){const o=[],a=[],c=[];return e.forEach(g=>{const b=g.getColDef().lockPosition;b==="right"?c.push(g):b==="left"||b===!0?o.push(g):a.push(g)}),this.gos.get("enableRtl")?[...c,...a,...o]:[...o,...a,...c]}},reUnescapedHtml=/[&<>"']/g,HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _utf8_encode(e){const o=String.fromCharCode;function a(nt){const In=[];if(!nt)return[];const xl=nt.length;let Ll=0,Nl,_u;for(;Ll<xl;)Nl=nt.charCodeAt(Ll++),Nl>=55296&&Nl<=56319&&Ll<xl?(_u=nt.charCodeAt(Ll++),(_u&64512)==56320?In.push(((Nl&1023)<<10)+(_u&1023)+65536):(In.push(Nl),Ll--)):In.push(Nl);return In}function c(nt){if(nt>=55296&&nt<=57343)throw Error("Lone surrogate U+"+nt.toString(16).toUpperCase()+" is not a scalar value")}function d(nt,In){return o(nt>>In&63|128)}function g(nt){if(!(nt&4294967168))return o(nt);let In="";return nt&4294965248?nt&4294901760?nt&4292870144||(In=o(nt>>18&7|240),In+=d(nt,12),In+=d(nt,6)):(c(nt),In=o(nt>>12&15|224),In+=d(nt,6)):In=o(nt>>6&31|192),In+=o(nt&63|128),In}const b=a(e),_=b.length;let $=-1,j,rt="";for(;++$<_;)j=b[$],rt+=g(j);return rt}function _capitalise(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function _escapeString(e,o){if(e==null)return null;const a=e.toString().toString();return o?a:a.replace(reUnescapedHtml,c=>HTML_ESCAPES[c])}function _camelCaseToHumanText(e){if(!e||e==null)return null;const o=/([a-z])([A-Z])/g,a=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(o,"$1 $2").replace(a,"$1 $2$3").replace(/\./g," ").split(" ").map(d=>d.substring(0,1).toUpperCase()+(d.length>1?d.substring(1,d.length):"")).join(" ")}function _camelCaseToHyphenated(e){return e.replace(/[A-Z]/g,o=>`-${o.toLocaleLowerCase()}`)}var ColumnNameService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,o,a=!1){if(!e)return null;const c=this.getHeaderName(e.getColDef(),e,null,null,o);return a?this.wrapHeaderNameWithAggFunc(e,c):c}getDisplayNameForProvidedColumnGroup(e,o,a){const c=o?o.getColGroupDef():null;return c?this.getHeaderName(c,null,e,o,a):null}getDisplayNameForColumnGroup(e,o){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),o)}getHeaderName(e,o,a,c,d){const g=e.headerValueGetter;if(g){const b=this.gos.addGridCommonParams({colDef:e,column:o,columnGroup:a,providedColumnGroup:c,location:d});return typeof g=="function"?g(b):typeof g=="string"?this.expressionService.evaluate(g,b):(_warnOnce("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return _camelCaseToHumanText(e.field)}return""}wrapHeaderNameWithAggFunc(e,o){if(this.gos.get("suppressAggFuncInHeader"))return o;const a=e.getColDef().pivotValueColumn,c=_exists(a);let d=null,g;if(c){const b=this.funcColsService.getValueColumns(),_=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&b.length===1,$=e.getColDef().pivotTotalColumnIds!==void 0;if(_&&!$)return o;d=a?a.getAggFunc():null,g=!0}else{const b=e.isValueActive(),_=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();b&&_?(d=e.getAggFunc(),g=!0):g=!1}if(g){const b=typeof d=="string"?d:"func";return`${this.localeService.getLocaleTextFunc()(b,b)}(${o})`}return o}},PivotResultColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;destroyColumnTree(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,o){if(this.pivotResultCols==null)return null;const a=this.columnModel.getColDefCol(o);let c=null;return this.pivotResultCols.list.forEach(d=>{const g=d.getColDef().pivotKeys,b=d.getColDef().pivotValueColumn;_areEqual(g,e)&&b===a&&(c=d)}),c}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,o){var a,c;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const d=this.columnFactory.createColumnTree(e,!1,((a=this.pivotResultCols)==null?void 0:a.tree)||this.previousPivotResultCols||void 0,o);destroyColumnTree(this.context,(c=this.pivotResultCols)==null?void 0:c.tree,d.columnTree);const g=d.columnTree,b=d.treeDept,_=getColumnsFromTree(g),$={};this.pivotResultCols={tree:g,treeDepth:b,list:_,map:$},this.pivotResultCols.list.forEach(rt=>this.pivotResultCols.map[rt.getId()]=rt);const j=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!j)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(o)}}processPivotResultColDef(e){const o=this.gos.get("processPivotResultColDef"),a=this.gos.get("processPivotResultColGroupDef");if(!o&&!a)return;const c=d=>{d.forEach(g=>{if(_exists(g.children)){const _=g;a&&a(_),c(_.children)}else o&&o(g)})};e&&c(e)}},ColumnSizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,o,a,c){const d=[];e.forEach(g=>{const b=this.columnModel.getColDefCol(g.key)||this.columnModel.getCol(g.key);if(!b)return;if(d.push({width:g.newWidth,ratios:[1],columns:[b]}),this.gos.get("colResizeDefault")==="shift"&&(o=!o),o){const $=this.visibleColsService.getColAfter(b);if(!$)return;const j=b.getActualWidth()-g.newWidth,rt=$.getActualWidth()+j;d.push({width:rt,ratios:[1],columns:[$]})}}),d.length!==0&&this.resizeColumnSets({resizeSets:d,finished:a,source:c})}resizeColumnSets(e){const{resizeSets:o,finished:a,source:c}=e;if(!(!o||o.every(rt=>this.checkMinAndMaxWidthsForSet(rt)))){if(a){const rt=o&&o.length>0?o[0].columns:null;this.eventDispatcher.columnResized(rt,a,c)}return}const g=[],b=[];o.forEach(rt=>{const{width:nt,columns:In,ratios:xl}=rt,Ll={},Nl={};In.forEach(Ul=>b.push(Ul));let _u=!0,Yl=0;for(;_u;){if(Yl++,Yl>1e3){_errorOnce("infinite loop in resizeColumnSets");break}_u=!1;const Ul=[];let Dl=0,Zl=nt;In.forEach((Uu,fp)=>{if(Nl[Uu.getId()])Zl-=Ll[Uu.getId()];else{Ul.push(Uu);const Lp=xl[fp];Dl+=Lp}});const Ju=1/Dl;Ul.forEach((Uu,fp)=>{const Zu=fp===Ul.length-1;let Lp;Zu?Lp=Zl:(Lp=Math.round(xl[fp]*nt*Ju),Zl-=Lp);const Np=Uu.getMinWidth(),zp=Uu.getMaxWidth();Lp<Np?(Lp=Np,Nl[Uu.getId()]=!0,_u=!0):zp>0&&Lp>zp&&(Lp=zp,Nl[Uu.getId()]=!0,_u=!0),Ll[Uu.getId()]=Lp})}In.forEach(Ul=>{const Dl=Ll[Ul.getId()];Ul.getActualWidth()!==Dl&&(Ul.setActualWidth(Dl,c),g.push(Ul))})});const _=g.length>0;let $=[];_&&($=this.refreshFlexedColumns({resizingCols:b,skipSetLeft:!0}),this.visibleColsService.setLeftValues(c),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const j=b.concat($);(_||a)&&this.eventDispatcher.columnResized(j,a,c,$)}checkMinAndMaxWidthsForSet(e){const{columns:o,width:a}=e;let c=0,d=0,g=!0;o.forEach($=>{const j=$.getMinWidth();c+=j||0;const rt=$.getMaxWidth();rt>0?d+=rt:g=!1});const b=a>=c,_=!g||a<=d;return b&&_}refreshFlexedColumns(e={}){const o=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const a=this.visibleColsService.getCenterCols();let c=-1;if(e.resizingCols){const In=new Set(e.resizingCols);for(let xl=a.length-1;xl>=0;xl--)if(In.has(a[xl])){c=xl;break}}let d=0,g=[],b=0,_=0;for(let In=0;In<a.length;In++)a[In].getFlex()&&In>c?(g.push(a[In]),_+=a[In].getFlex(),b+=a[In].getMinWidth()):d+=a[In].getActualWidth();if(!g.length)return[];let $=[];d+b>this.flexViewportWidth&&(g.forEach(In=>In.setActualWidth(In.getMinWidth(),o)),$=g,g=[]);const j=[];let rt;e:for(;;){rt=this.flexViewportWidth-d;const In=rt/_;for(let xl=0;xl<g.length;xl++){const Ll=g[xl],Nl=In*Ll.getFlex();let _u=0;const Yl=Ll.getMinWidth(),Ul=Ll.getMaxWidth();if(Nl<Yl?_u=Yl:Nl>Ul&&(_u=Ul),_u){Ll.setActualWidth(_u,o),_removeFromUnorderedArray(g,Ll),_-=Ll.getFlex(),$.push(Ll),d+=Ll.getActualWidth();continue e}j[xl]=Math.floor(Nl)}break}let nt=rt;return g.forEach((In,xl)=>{const Ll=xl<g.length-1?Math.min(j[xl],nt):Math.max(j[xl],nt);In.setActualWidth(Ll,o),$.push(In),nt-=j[xl]}),e.skipSetLeft||this.visibleColsService.setLeftValues(o),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized($,!0,o,g),g}sizeColumnsToFit(e,o="sizeColumnsToFit",a,c){var In;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,o,a,c));return}const d={};c&&((In=c==null?void 0:c.columnLimits)==null||In.forEach(({key:xl,...Ll})=>{d[typeof xl=="string"?xl:xl.getColId()]=Ll}));const g=this.visibleColsService.getAllCols(),b=e===getWidthOfColsInList(g);if(e<=0||!g.length||b)return;const _=[],$=[];g.forEach(xl=>{xl.getColDef().suppressSizeToFit===!0?$.push(xl):_.push(xl)});const j=_.slice(0);let rt=!1;const nt=xl=>{_removeFromArray(_,xl),$.push(xl)};for(_.forEach(xl=>{xl.resetActualWidth(o);const Ll=d==null?void 0:d[xl.getId()],Nl=(Ll==null?void 0:Ll.minWidth)??(c==null?void 0:c.defaultMinWidth),_u=(Ll==null?void 0:Ll.maxWidth)??(c==null?void 0:c.defaultMaxWidth),Yl=xl.getActualWidth();typeof Nl=="number"&&Yl<Nl?xl.setActualWidth(Nl,o,!0):typeof _u=="number"&&Yl>_u&&xl.setActualWidth(_u,o,!0)});!rt;){rt=!0;const xl=e-getWidthOfColsInList($);if(xl<=0)_.forEach(Ll=>{var _u;const Nl=((_u=d==null?void 0:d[Ll.getId()])==null?void 0:_u.minWidth)??(c==null?void 0:c.defaultMinWidth);if(typeof Nl=="number"){Ll.setActualWidth(Nl,o,!0);return}Ll.setMinimum(o)});else{const Ll=xl/getWidthOfColsInList(_);let Nl=xl;for(let _u=_.length-1;_u>=0;_u--){const Yl=_[_u],Ul=d==null?void 0:d[Yl.getId()],Dl=(Ul==null?void 0:Ul.minWidth)??(c==null?void 0:c.defaultMinWidth),Zl=(Ul==null?void 0:Ul.maxWidth)??(c==null?void 0:c.defaultMaxWidth),Ju=Yl.getMinWidth(),Uu=Yl.getMaxWidth(),fp=typeof Dl=="number"&&Dl>Ju?Dl:Ju,Zu=typeof Zl=="number"&&Zl<Uu?Zl:Uu;let Lp=Math.round(Yl.getActualWidth()*Ll);Lp<fp?(Lp=fp,nt(Yl),rt=!1):Lp>Zu?(Lp=Zu,nt(Yl),rt=!1):_u===0&&(Lp=Nl),Yl.setActualWidth(Lp,o,!0),Nl-=Lp}}}j.forEach(xl=>{xl.fireColumnWidthChangedEvent(o)}),this.visibleColsService.setLeftValues(o),this.visibleColsService.updateBodyWidths(),!a&&this.eventDispatcher.columnResized(j,!0,o)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:o}=e;setTimeout(()=>{if(o==="fitGridWidth"){const{columnLimits:a,defaultMinWidth:c,defaultMaxWidth:d}=e,g=a==null?void 0:a.map(({colId:b,minWidth:_,maxWidth:$})=>({key:b,minWidth:_,maxWidth:$}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:c,defaultMaxWidth:d,columnLimits:g})}else o==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function createUniqueColumnGroupId(e,o){return e+"_"+o}function isColumnGroup(e){return e instanceof AgColumnGroup}var AgColumnGroup=class extends BeanStub{constructor(e,o,a,c){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=o,this.partId=a,this.providedColumnGroup=e,this.pinned=c}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return createUniqueColumnGroupId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(o=>o.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{isColumnGroup(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const o=_last(this.displayedChildren).getLeft();this.setLeft(o)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(o=>{e+=o.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(o=>{o.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(o=>{e+=o.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const o=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,o}addDisplayedLeafColumns(e){this.displayedChildren.forEach(o=>{isColumn(o)?e.push(o):isColumnGroup(o)&&o.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(o=>{isColumn(o)?e.push(o):isColumnGroup(o)&&o.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(a=>{if(isColumnGroup(a)&&(!a.displayedChildren||!a.displayedChildren.length))return;switch(a.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(a);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(a);break;default:this.displayedChildren.push(a);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},GroupInstanceIdCreator=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const o=this.existingIds[e];let a;return typeof o!="number"?a=0:a=o+1,this.existingIds[e]=a,a}},VisibleColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,o=!1){o||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=pickDisplayedCols(this.treeLeft),this.columnsCenter=pickDisplayedCols(this.treeCenter),this.columnsRight=pickDisplayedCols(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(a=>a.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=getWidthOfColsInList(this.columnsCenter),o=getWidthOfColsInList(this.columnsLeft),a=getWidthOfColsInList(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==o||this.rightWidth!==a)&&(this.bodyWidth=e,this.leftWidth=o,this.rightWidth=a,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let o,a;this.gos.get("enableRtl")?(o=this.columnsLeft?this.columnsLeft[0]:null,a=this.columnsRight?_last(this.columnsRight):null):(o=this.columnsLeft?_last(this.columnsLeft):null,a=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(c=>{c.setLastLeftPinned(c===o,e),c.setFirstRightPinned(c===a,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),o=e.filter(g=>g.getPinned()=="left"),a=e.filter(g=>g.getPinned()=="right"),c=e.filter(g=>g.getPinned()!="left"&&g.getPinned()!="right"),d=new GroupInstanceIdCreator;this.treeLeft=this.createGroups({columns:o,idCreator:d,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:a,idCreator:d,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:c,idCreator:d,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),o=[],a=[],c=[];for(const d of e){const g=d.getPinned();g?g===!0||g==="left"?o.push(d):c.push(d):a.push(d)}this.ariaOrderColumns=o.concat(a).concat(c)}getAriaColIndex(e){let o;return isColumnGroup(e)?o=e.getLeafColumns()[0]:o=e,this.ariaOrderColumns.indexOf(o)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(o=>{isColumnGroup(o)&&o.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const a=this.columnModel.getCols().slice(0),c=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(d=>{if(c){let g=getWidthOfColsInList(d);d.forEach(b=>{g-=b.getActualWidth(),b.setLeft(g,e)})}else{let g=0;d.forEach(b=>{b.setLeft(g,e),g+=b.getActualWidth()})}_removeAllFromUnorderedArray(a,d)}),a.forEach(d=>{d.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,o,a,c){const d=[];let g=null;for(let b=0;b<o.length;b++){const _=o[b],$=o.length-b,j=Math.min(_.getColSpan(e),$),rt=[_];if(j>1){const In=j-1;for(let xl=1;xl<=In;xl++)rt.push(o[b+xl]);b+=In}let nt;a?(nt=!1,rt.forEach(In=>{a(In)&&(nt=!0)})):nt=!0,nt&&(d.length===0&&g&&(c&&c(_))&&d.push(g),d.push(_)),g=_}return d}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const o=this.getAllCols(),a=o.indexOf(e);return a>0?o[a-1]:null}getGroupAtDirection(e,o){const a=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),c=e.getDisplayedLeafColumns(),d=o==="After"?_last(c):c[0],g=`getCol${o}`;for(;;){const b=this[g](d);if(!b)return null;const _=this.getColGroupAtLevel(b,a);if(_!==e)return _}}getColGroupAtLevel(e,o){let a=e.getParent(),c,d;for(;c=a.getProvidedColumnGroup().getLevel(),d=a.getPaddingLevel(),!(c+d<=o);)a=a.getParent();return a}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=o=>{this.colsAndGroupsMap[o.getUniqueId()]=o};depthFirstAllColumnTreeSearch(this.treeCenter,!1,e),depthFirstAllColumnTreeSearch(this.treeLeft,!1,e),depthFirstAllColumnTreeSearch(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();depthFirstAllColumnTreeSearch(e,!1,o=>{isColumnGroup(o)&&o.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),o=["getLeftCols","getCenterCols","getRightCols"];e&&o.reverse();for(let a=0;a<o.length;a++){const c=this[o[a]]();if(c.length)return e?_last(c):c[0]}return null}getColumnGroup(e,o){if(!e)return null;if(isColumnGroup(e))return e;const a=this.getAllTrees(),c=typeof o=="number";let d=null;return depthFirstAllColumnTreeSearch(a,!1,g=>{if(isColumnGroup(g)){const b=g;let _;c?_=e===b.getGroupId()&&o===b.getPartId():_=e===b.getGroupId(),_&&(d=b)}}),d}getColAfter(e){const o=this.getAllCols(),a=o.indexOf(e);return a<o.length-1?o[a+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return getWidthOfColsInList(this.columnsLeft)}getDisplayedColumnsRightWidth(){return getWidthOfColsInList(this.columnsRight)}isColAtEdge(e,o){const a=this.getAllCols();if(!a.length)return!1;const c=o==="first";let d;if(isColumnGroup(e)){const g=e.getDisplayedLeafColumns();if(!g.length)return!1;d=c?g[0]:_last(g)}else d=e;return(c?a[0]:_last(a))===d}createGroups(e){const{columns:o,idCreator:a,pinned:c,oldDisplayedGroups:d,isStandaloneStructure:g}=e,b=this.mapOldGroupsById(d),_=[];let $=o;for(;$.length;){const j=$;$=[];let rt=0;const nt=In=>{const xl=rt;rt=In;const Ll=j[xl],_u=(isColumnGroup(Ll)?Ll.getProvidedColumnGroup():Ll).getOriginalParent();if(_u==null){for(let Ul=xl;Ul<In;Ul++)_.push(j[Ul]);return}const Yl=this.createColGroup(_u,a,b,c,g);for(let Ul=xl;Ul<In;Ul++)Yl.addChild(j[Ul]);$.push(Yl)};for(let In=1;In<j.length;In++){const xl=j[In],Nl=(isColumnGroup(xl)?xl.getProvidedColumnGroup():xl).getOriginalParent(),_u=j[rt],Ul=(isColumnGroup(_u)?_u.getProvidedColumnGroup():_u).getOriginalParent();Nl!==Ul&&nt(In)}rt<j.length&&nt(j.length)}return g||this.setupParentsIntoCols(_,null),_}createColGroup(e,o,a,c,d){const g=e.getGroupId(),b=o.getInstanceIdForKey(g),_=createUniqueColumnGroupId(g,b);let $=a[_];return $&&$.getProvidedColumnGroup()!==e&&($=null),_exists($)?$.reset():($=new AgColumnGroup(e,g,b,c),d||this.createBean($)),$}mapOldGroupsById(e){const o={},a=c=>{c.forEach(d=>{if(isColumnGroup(d)){const g=d;o[d.getUniqueId()]=g,a(g.getChildren())}})};return e&&a(e),o}setupParentsIntoCols(e,o){e.forEach(a=>{if(a.setParent(o),isColumnGroup(a)){const c=a;this.setupParentsIntoCols(c.getChildren(),c)}})}};function depthFirstAllColumnTreeSearch(e,o,a){if(e)for(let c=0;c<e.length;c++){const d=e[c];if(isColumnGroup(d)){const g=o?d.getDisplayedChildren():d.getChildren();depthFirstAllColumnTreeSearch(g,o,a)}a(d)}}function pickDisplayedCols(e){const o=[];return depthFirstAllColumnTreeSearch(e,!0,a=>{isColumn(a)&&o.push(a)}),o}var PUBLIC_EVENTS=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],INTERNAL_EVENTS=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],ALL_EVENTS=[...PUBLIC_EVENTS,...INTERNAL_EVENTS],INITIAL_GRID_OPTION_KEYS={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},_PropertyKeys=class{};_PropertyKeys.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];_PropertyKeys.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];_PropertyKeys.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];_PropertyKeys.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];_PropertyKeys.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];_PropertyKeys.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];_PropertyKeys.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];_PropertyKeys.ALL_PROPERTIES=[..._PropertyKeys.ARRAY_PROPERTIES,..._PropertyKeys.OBJECT_PROPERTIES,..._PropertyKeys.STRING_PROPERTIES,..._PropertyKeys.NUMBER_PROPERTIES,..._PropertyKeys.FUNCTION_PROPERTIES,..._PropertyKeys.BOOLEAN_PROPERTIES,..._PropertyKeys.OTHER_PROPERTIES];var PropertyKeys=_PropertyKeys,_ComponentUtil=class{static getCallbackForEvent(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substring(1)}};_ComponentUtil.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";_ComponentUtil.PUBLIC_EVENTS=PUBLIC_EVENTS;_ComponentUtil.EVENT_CALLBACKS=ALL_EVENTS.map(e=>_ComponentUtil.getCallbackForEvent(e));_ComponentUtil.BOOLEAN_PROPERTIES=PropertyKeys.BOOLEAN_PROPERTIES;_ComponentUtil.ALL_PROPERTIES=PropertyKeys.ALL_PROPERTIES;_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS=[..._ComponentUtil.ALL_PROPERTIES,..._ComponentUtil.EVENT_CALLBACKS];_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS);var ComponentUtil=_ComponentUtil;function _combineAttributesAndGridOptions(e,o){typeof e!="object"&&(e={});const a={...e};return ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS.forEach(d=>{const g=o[d];typeof g<"u"&&g!==ComponentUtil.VUE_OMITTED_PROPERTY&&(a[d]=g)}),a}function _processOnChange(e,o){if(!e)return;const a={};let c=!1;if(Object.keys(e).filter(b=>ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS_SET.has(b)).forEach(b=>{a[b]=e[b],c=!0}),!c)return;const d={type:"gridOptionsChanged",options:a};o.dispatchEvent(d);const g={type:"componentStateChanged"};_iterateObject(a,(b,_)=>{g[b]=_}),o.dispatchEvent(g)}var EmptyBean=class extends BeanStub{};function setupCompBean(e,o,a){return a&&e.addDestroyFunc(()=>o.destroyBean(a)),a??e}var CssClassManager=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const o=(e||"").split(" ");if(o.length>1){o.forEach(c=>this.addCssClass(c));return}if(this.cssClassStates[e]!==!0&&e.length){const c=this.getGui();c&&c.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const o=(e||"").split(" ");if(o.length>1){o.forEach(c=>this.removeCssClass(c));return}if(this.cssClassStates[e]!==!1&&e.length){const c=this.getGui();c&&c.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const o=this.getGui();return o?o.classList.contains(e):!1}addOrRemoveCssClass(e,o){if(!e)return;if(e.indexOf(" ")>=0){const c=(e||"").split(" ");if(c.length>1){c.forEach(d=>this.addOrRemoveCssClass(d,o));return}}if(this.cssClassStates[e]!==o&&e.length){const c=this.getGui();c&&c.classList.toggle(e,o),this.cssClassStates[e]=o}}};function _toggleAriaAttribute(e,o,a){a==null||typeof a=="string"&&a==""?_removeAriaAttribute(e,o):_setAriaAttribute(e,o,a)}function _setAriaAttribute(e,o,a){e.setAttribute(_ariaAttributeName(o),a.toString())}function _removeAriaAttribute(e,o){e.removeAttribute(_ariaAttributeName(o))}function _ariaAttributeName(e){return`aria-${e}`}function _setAriaRole(e,o){o?e.setAttribute("role",o):e.removeAttribute("role")}function _getAriaSortState(e){let o;return e==="asc"?o="ascending":e==="desc"?o="descending":e==="mixed"?o="other":o="none",o}function _getAriaPosInSet(e){return parseInt(e.getAttribute("aria-posinset"),10)}function _getAriaLabel(e){return e.getAttribute("aria-label")}function _setAriaLabel(e,o){_toggleAriaAttribute(e,"label",o)}function _setAriaLabelledBy(e,o){_toggleAriaAttribute(e,"labelledby",o)}function _setAriaDescribedBy(e,o){_toggleAriaAttribute(e,"describedby",o)}function _setAriaLive(e,o){_toggleAriaAttribute(e,"live",o)}function _setAriaAtomic(e,o){_toggleAriaAttribute(e,"atomic",o)}function _setAriaRelevant(e,o){_toggleAriaAttribute(e,"relevant",o)}function _setAriaLevel(e,o){_toggleAriaAttribute(e,"level",o)}function _setAriaDisabled(e,o){_toggleAriaAttribute(e,"disabled",o)}function _setAriaHidden(e,o){_toggleAriaAttribute(e,"hidden",o)}function _setAriaActiveDescendant(e,o){_toggleAriaAttribute(e,"activedescendant",o)}function _setAriaExpanded(e,o){_setAriaAttribute(e,"expanded",o)}function _removeAriaExpanded(e){_removeAriaAttribute(e,"expanded")}function _setAriaSetSize(e,o){_setAriaAttribute(e,"setsize",o)}function _setAriaPosInSet(e,o){_setAriaAttribute(e,"posinset",o)}function _setAriaMultiSelectable(e,o){_setAriaAttribute(e,"multiselectable",o)}function _setAriaRowCount(e,o){_setAriaAttribute(e,"rowcount",o)}function _setAriaRowIndex(e,o){_setAriaAttribute(e,"rowindex",o)}function _setAriaColCount(e,o){_setAriaAttribute(e,"colcount",o)}function _setAriaColIndex(e,o){_setAriaAttribute(e,"colindex",o)}function _setAriaColSpan(e,o){_setAriaAttribute(e,"colspan",o)}function _setAriaSort(e,o){_setAriaAttribute(e,"sort",o)}function _removeAriaSort(e){_removeAriaAttribute(e,"sort")}function _setAriaSelected(e,o){_toggleAriaAttribute(e,"selected",o)}function _setAriaChecked(e,o){_setAriaAttribute(e,"checked",o===void 0?"mixed":o)}function _setAriaControls(e,o){_toggleAriaAttribute(e,"controls",o.id),_setAriaLabelledBy(o,e.id)}function _getAriaCheckboxStateName(e,o){return o===void 0?e("ariaIndeterminate","indeterminate"):o===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function _radioCssClass(e,o,a){const c=e.parentElement;let d=c&&c.firstChild;for(;d;)o&&d.classList.toggle(o,d===e),a&&d.classList.toggle(a,d!==e),d=d.nextSibling}var FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea, [href]",FOCUSABLE_EXCLUDE="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function _isFocusableFormField(e){const o=Element.prototype.matches||Element.prototype.msMatchesSelector,c=o.call(e,"input, select, button, textarea"),d=o.call(e,FOCUSABLE_EXCLUDE),g=_isVisible(e);return c&&!d&&g}function _setDisplayed(e,o,a={}){const{skipAriaHidden:c}=a;e.classList.toggle("ag-hidden",!o),c||_setAriaHidden(e,!o)}function _setVisible(e,o,a={}){const{skipAriaHidden:c}=a;e.classList.toggle("ag-invisible",!o),c||_setAriaHidden(e,!o)}function _setDisabled(e,o){const a="disabled",c=o?d=>d.setAttribute(a,""):d=>d.removeAttribute(a);c(e),_nodeListForEach(e.querySelectorAll("input"),d=>c(d))}function _isElementChildOfClass(e,o,a){let c=0;for(;e;){if(e.classList.contains(o))return!0;if(e=e.parentElement,typeof a=="number"){if(++c>a)break}else if(e===a)break}return!1}function _getElementSize(e){const{height:o,width:a,borderTopWidth:c,borderRightWidth:d,borderBottomWidth:g,borderLeftWidth:b,paddingTop:_,paddingRight:$,paddingBottom:j,paddingLeft:rt,marginTop:nt,marginRight:In,marginBottom:xl,marginLeft:Ll,boxSizing:Nl}=window.getComputedStyle(e);return{height:parseFloat(o||"0"),width:parseFloat(a||"0"),borderTopWidth:parseFloat(c||"0"),borderRightWidth:parseFloat(d||"0"),borderBottomWidth:parseFloat(g||"0"),borderLeftWidth:parseFloat(b||"0"),paddingTop:parseFloat(_||"0"),paddingRight:parseFloat($||"0"),paddingBottom:parseFloat(j||"0"),paddingLeft:parseFloat(rt||"0"),marginTop:parseFloat(nt||"0"),marginRight:parseFloat(In||"0"),marginBottom:parseFloat(xl||"0"),marginLeft:parseFloat(Ll||"0"),boxSizing:Nl}}function _getInnerHeight(e){const o=_getElementSize(e);return o.boxSizing==="border-box"?o.height-o.paddingTop-o.paddingBottom:o.height}function _getInnerWidth(e){const o=_getElementSize(e);return o.boxSizing==="border-box"?o.width-o.paddingLeft-o.paddingRight:o.width}function _getAbsoluteHeight(e){const{height:o,marginBottom:a,marginTop:c}=_getElementSize(e);return Math.floor(o+a+c)}function _getAbsoluteWidth(e){const{width:o,marginLeft:a,marginRight:c}=_getElementSize(e);return Math.floor(o+a+c)}function _getElementRectWithOffset(e){const o=e.getBoundingClientRect(),{borderTopWidth:a,borderLeftWidth:c,borderRightWidth:d,borderBottomWidth:g}=_getElementSize(e);return{top:o.top+(a||0),left:o.left+(c||0),right:o.right+(d||0),bottom:o.bottom+(g||0)}}function _getScrollLeft(e,o){let a=e.scrollLeft;return o&&(a=Math.abs(a)),a}function _setScrollLeft(e,o,a){a&&(o*=-1),e.scrollLeft=o}function _clearElement(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function _removeFromParent(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function _isInDOM(e){return!!e.offsetParent}function _isVisible(e){const o=e;return o.checkVisibility?o.checkVisibility({checkVisibilityCSS:!0}):!(!_isInDOM(e)||window.getComputedStyle(e).visibility!=="visible")}function _loadTemplate(e){const o=document.createElement("div");return o.innerHTML=(e||"").trim(),o.firstChild}function _ensureDomOrder(e,o,a){a&&a.nextSibling===o||(e.firstChild?a?a.nextSibling?e.insertBefore(o,a.nextSibling):e.appendChild(o):e.firstChild&&e.firstChild!==o&&e.insertAdjacentElement("afterbegin",o):e.appendChild(o))}function _setDomChildOrder(e,o){for(let a=0;a<o.length;a++){const c=o[a],d=e.children[a];d!==c&&e.insertBefore(c,d)}}function _addStylesToElement(e,o){if(o)for(const[a,c]of Object.entries(o)){if(!a||!a.length||c==null)continue;const d=_camelCaseToHyphenated(a),g=c.toString(),b=g.replace(/\s*!important/g,""),_=b.length!=g.length?"important":void 0;e.style.setProperty(d,b,_)}}function _isHorizontalScrollShowing(e){return e.clientWidth<e.scrollWidth}function _isVerticalScrollShowing(e){return e.clientHeight<e.scrollHeight}function _setElementWidth(e,o){o==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):_setFixedWidth(e,o)}function _setFixedWidth(e,o){o=_formatSize(o),e.style.width=o.toString(),e.style.maxWidth=o.toString(),e.style.minWidth=o.toString()}function _setFixedHeight(e,o){o=_formatSize(o),e.style.height=o.toString(),e.style.maxHeight=o.toString(),e.style.minHeight=o.toString()}function _formatSize(e){return typeof e=="number"?`${e}px`:e}function _isNodeOrElement(e){return e instanceof Node||e instanceof HTMLElement}function _copyNodeList(e){if(e==null)return[];const o=[];return _nodeListForEach(e,a=>o.push(a)),o}function _iterateNamedNodeMap(e,o){if(e)for(let a=0;a<e.length;a++){const c=e[a];o(c.name,c.value)}}function _addOrRemoveAttribute(e,o,a){a==null||a===""?e.removeAttribute(o):e.setAttribute(o,a.toString())}function _nodeListForEach(e,o){if(e!=null)for(let a=0;a<e.length;a++)o(e[a])}function _bindCellRendererToHtmlElement(e,o){e.then(a=>{const c=a.getGui();c!=null&&(typeof c=="object"?o.appendChild(c):o.innerHTML=c)})}var NumberSequence=class{constructor(e=0,o=1){this.nextValue=e,this.step=o}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},isSafari,safariVersion,isChrome,isFirefox,isMacOs,isIOS,invisibleScrollbar,browserScrollbarWidth,maxDivHeight;function _isBrowserSafari(){return isSafari===void 0&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function _getSafariVersion(){if(safariVersion===void 0)if(_isBrowserSafari()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(safariVersion=e[1]!=null?parseFloat(e[1]):0)}else safariVersion=0;return safariVersion}function _isBrowserChrome(){if(isChrome===void 0){const e=window;isChrome=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return isChrome}function _isBrowserFirefox(){return isFirefox===void 0&&(isFirefox=/(firefox)/i.test(navigator.userAgent)),isFirefox}function _isMacOsUserAgent(){return isMacOs===void 0&&(isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),isMacOs}function _isIOSUserAgent(){return isIOS===void 0&&(isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),isIOS}function _browserSupportsPreventScroll(){return!_isBrowserSafari()||_getSafariVersion()>=15}function _getTabIndex(e){if(!e)return null;const o=e.tabIndex,a=e.getAttribute("tabIndex");return o===-1&&(a===null||a===""&&!_isBrowserFirefox())?null:o.toString()}function _getMaxDivHeight(){if(maxDivHeight!==void 0)return maxDivHeight;if(!document.body)return-1;let e=1e6;const o=_isBrowserFirefox()?6e6:1e9,a=document.createElement("div");for(document.body.appendChild(a);;){const c=e*2;if(a.style.height=c+"px",c>o||a.clientHeight!==c)break;e=c}return document.body.removeChild(a),maxDivHeight=e,e}function _getBodyWidth(){var e,o;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((o=document.documentElement)==null?void 0:o.clientWidth)||-1)}function _getBodyHeight(){var e,o;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((o=document.documentElement)==null?void 0:o.clientHeight)||-1)}function _getScrollbarWidth(){return browserScrollbarWidth==null&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}function initScrollbarWidthAndVisibility(){const e=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",e.appendChild(o);let a=o.offsetWidth-o.clientWidth;a===0&&o.clientWidth===0&&(a=null),o.parentNode&&o.parentNode.removeChild(o),a!=null&&(browserScrollbarWidth=a,invisibleScrollbar=a===0)}function _isInvisibleScrollbar(){return invisibleScrollbar==null&&initScrollbarWidthAndVisibility(),invisibleScrollbar}var SHOW_QUICK_TOOLTIP_DIFF=1e3,FADE_OUT_TOOLTIP_TIMEOUT=1e3,INTERACTIVE_HIDE_DELAY=100,_TooltipStateManager=class u3 extends BeanStub{constructor(o,a,c,d){super(),this.parentComp=o,this.tooltipShowDelayOverride=a,this.tooltipHideDelayOverride=c,this.shouldDisplayTooltip=d,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(o){this.popupService=o.popupService,this.userComponentFactory=o.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const o=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(o,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(o,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(o,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(o,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(o){const a=this.gos.get(o);return a<0&&_warnOnce(`${o} should not be lower than 0`),Math.max(200,a)}getTooltipDelay(o){return o==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const o=this.gos.get("tooltipTrigger");return!o||o==="hover"?0:1}onMouseEnter(o){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!_isIOSUserAgent()&&(u3.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(o)},INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(o))}onMouseMove(o){this.lastMouseEvent&&(this.lastMouseEvent=o),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(o){var g;const a=o.relatedTarget,c=this.parentComp.getGui(),d=(g=this.tooltipComp)==null?void 0:g.getGui();this.isInteractingWithTooltip||c.contains(a)||this.interactionEnabled&&(d!=null&&d.contains(a))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(o){if(this.state!=0||u3.isLocked)return;let a=0;o&&(a=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=o||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),a),this.state=1}isLastTooltipHiddenRecently(){const o=new Date().getTime(),a=u3.lastTooltipHideTime;return o-a<SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(o){!o&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const o={...this.parentComp.getTooltipParams()};if(!_exists(o.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const a=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(o).newAgStackInstance().then(a)}hideTooltip(o){!o&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),u3.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),o&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(o,a){if(this.state!==2||this.tooltipInstanceCount!==o){this.destroyBean(a);return}const d=a.getGui();this.tooltipComp=a,d.classList.contains("ag-tooltip")||d.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&d.classList.add("ag-tooltip-animate"),this.interactionEnabled&&d.classList.add("ag-tooltip-interactive");const g=this.localeService.getLocaleTextFunc(),b=this.popupService.addPopup({eChild:d,ariaLabel:g("ariaLabelTooltip","Tooltip")});if(b&&(this.tooltipPopupDestroyFunc=b.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const _=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:_,columnMoved:_})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(d,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(_getDocument(this.gos),{keydown:_=>{d.contains(_==null?void 0:_.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(d,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:d,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var c;const o=(c=this.tooltipComp)==null?void 0:c.getGui(),a=_getActiveDomElement(this.gos);return!!o&&o.contains(a)}onTooltipFocusOut(o){const a=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,a.contains(o.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const o={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...o,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...o,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const o=this.tooltipPopupDestroyFunc,a=this.tooltipComp,c=this.tooltipTrigger===0?FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{o(),this.destroyBean(a)},c),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(o=>{o&&o()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){u3.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},INTERACTIVE_HIDE_DELAY)}unlockService(){u3.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};_TooltipStateManager.isLocked=!1;var TooltipStateManager=_TooltipStateManager,TooltipFeature=class extends BeanStub{constructor(e,o){super(),this.ctrl=e,o&&(this.beans=o)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const o="title",a=this.ctrl.getGui();a&&(e!=null&&e!=""?a.setAttribute(o,e):a.removeAttribute(o))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var o,a,c,d;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new TooltipStateManager(e,(a=(o=this.ctrl).getTooltipShowDelayOverride)==null?void 0:a.call(o),(d=(c=this.ctrl).getTooltipHideDelayOverride)==null?void 0:d.call(c),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var d,g,b,_,$;const e=this.ctrl,o=(d=e.getColumn)==null?void 0:d.call(e),a=(g=e.getColDef)==null?void 0:g.call(e),c=(b=e.getRowNode)==null?void 0:b.call(e);return{location:e.getLocation(),colDef:a,column:o,rowIndex:(_=e.getRowIndex)==null?void 0:_.call(e),node:c,data:c==null?void 0:c.data,value:this.getTooltipText(),valueFormatted:($=e.getValueFormatted)==null?void 0:$.call(e),hideTooltipCallback:()=>{var j;return(j=this.tooltipManager)==null?void 0:j.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},compIdSequence=new NumberSequence,RefPlaceholder=null,Component=class sC extends BeanStub{constructor(o,a){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=compIdSequence.next(),this.cssClassManager=new CssClassManager(()=>this.eGui),this.componentSelectors=new Map((a??[]).map(c=>[c.selector,c])),o&&this.setTemplate(o)}preWireBeans(o){super.preWireBeans(o)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(o,a){o&&this.gos&&(this.applyElementsToComponent(o),this.createChildComponentsFromTags(o,a))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(o){const{newTooltipText:a,showDelayOverride:c,hideDelayOverride:d,location:g,shouldDisplayTooltip:b}=o||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==a&&(this.tooltipText=a);const _=()=>this.tooltipText;a!=null&&(this.tooltipFeature=this.createBean(new TooltipFeature({getTooltipValue:_,getGui:()=>this.getGui(),getLocation:()=>g??"UNKNOWN",getColDef:o==null?void 0:o.getColDef,getColumn:o==null?void 0:o.getColumn,getTooltipShowDelayOverride:c!=null?()=>c:void 0,getTooltipHideDelayOverride:d!=null?()=>d:void 0,shouldDisplayTooltip:b})))}getDataRefAttribute(o){return o.getAttribute?o.getAttribute("data-ref"):null}applyElementsToComponent(o,a,c,d=null){if(a===void 0&&(a=this.getDataRefAttribute(o)),a){const g=this[a];if(g===RefPlaceholder)this[a]=d??o;else{const b=c&&c[a];!this.suppressDataRefValidation&&!b&&_warnOnce(`Issue with data-ref: ${a} on ${this.constructor.name} with ${g}`)}}}createChildComponentsFromTags(o,a){_copyNodeList(o.childNodes).forEach(d=>{if(!(d instanceof HTMLElement))return;const g=this.createComponentFromElement(d,b=>{b.getGui()&&this.copyAttributesFromNode(d,b.getGui())},a);if(g){if(g.addItems&&d.children.length){this.createChildComponentsFromTags(d,a);const b=Array.prototype.slice.call(d.children);g.addItems(b)}this.swapComponentForNode(g,o,d)}else d.childNodes&&this.createChildComponentsFromTags(d,a)})}createComponentFromElement(o,a,c){const d=o.nodeName,g=this.getDataRefAttribute(o),b=d.indexOf("AG-")===0,_=b?this.componentSelectors.get(d):null;let $=null;if(_){sC.elementGettingCreated=o;const j=c&&g?c[g]:void 0;$=new _.component(j),$.setParentComponent(this),this.createBean($,null,a)}else b&&_warnOnce(`Missing selector: ${d}`);return this.applyElementsToComponent(o,g,c,$),$}copyAttributesFromNode(o,a){_iterateNamedNodeMap(o.attributes,(c,d)=>a.setAttribute(c,d))}swapComponentForNode(o,a,c){const d=o.getGui();a.replaceChild(d,c),a.insertBefore(document.createComment(c.nodeName),d),this.addDestroyFunc(this.destroyBean.bind(this,o))}activateTabIndex(o){const a=this.gos.get("tabIndex");o||(o=[]),o.length||o.push(this.getGui()),o.forEach(c=>c.setAttribute("tabindex",a.toString()))}setTemplate(o,a,c){const d=_loadTemplate(o);this.setTemplateFromElement(d,a,c)}setTemplateFromElement(o,a,c,d=!1){if(this.eGui=o,this.suppressDataRefValidation=d,a)for(let g=0;g<a.length;g++){const b=a[g];this.componentSelectors.set(b.selector,b)}this.wireTemplate(o,c)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(o){this.parentComponent=o}getParentComponent(){return this.parentComponent}setGui(o){this.eGui=o}queryForHtmlElement(o){return this.eGui.querySelector(o)}getContainerAndElement(o,a){let c=a;return o==null?null:(c||(c=this.eGui),_isNodeOrElement(o)?{element:o,parent:c}:{element:o.getGui(),parent:c})}prependChild(o,a){const{element:c,parent:d}=this.getContainerAndElement(o,a)||{};!c||!d||d.insertAdjacentElement("afterbegin",c)}appendChild(o,a){const{element:c,parent:d}=this.getContainerAndElement(o,a)||{};!c||!d||d.appendChild(c)}isDisplayed(){return this.displayed}setVisible(o,a={}){if(o!==this.visible){this.visible=o;const{skipAriaHidden:c}=a;_setVisible(this.eGui,o,{skipAriaHidden:c})}}setDisplayed(o,a={}){if(o!==this.displayed){this.displayed=o;const{skipAriaHidden:c}=a;_setDisplayed(this.eGui,o,{skipAriaHidden:c});const d={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(d)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(o,a,c){this.eGui.addEventListener(o,a,c),this.addDestroyFunc(()=>this.eGui.removeEventListener(o,a))}addCssClass(o){this.cssClassManager.addCssClass(o)}removeCssClass(o){this.cssClassManager.removeCssClass(o)}containsCssClass(o){return this.cssClassManager.containsCssClass(o)}addOrRemoveCssClass(o,a){this.cssClassManager.addOrRemoveCssClass(o,a)}},iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},ICONS=(()=>{const e=new Set(Object.values(iconNameClassMap));return e.add("eye"),e})();function _createIcon(e,o,a){const c=_createIconNoSpan(e,o,a);if(c){const{className:g}=c;if(typeof g=="string"&&g.indexOf("ag-icon")>-1||typeof g=="object"&&g["ag-icon"])return c}const d=document.createElement("span");return d.appendChild(c),d}function _createIconNoSpan(e,o,a,c){let d=null;const g=a&&a.getColDef().icons;if(g&&(d=g[e]),o&&!d){const b=o.get("icons");b&&(d=b[e])}if(d){let b;if(typeof d=="function")b=d();else if(typeof d=="string")b=d;else throw new Error("icon from grid options needs to be a string or a function");if(typeof b=="string")return _loadTemplate(b);if(_isNodeOrElement(b))return b;_warnOnce("iconRenderer should return back a string or a dom object")}else{const b=document.createElement("span");let _=iconNameClassMap[e]??(ICONS.has(e)?e:void 0);return _||(c?_=e:(_warnOnce(`Did not find icon ${e}`),_="")),b.setAttribute("class",`ag-icon ag-icon-${_}`),b.setAttribute("unselectable","on"),_setAriaRole(b,"presentation"),b}}var DragAndDropImageComponent=class extends Component{constructor(){super(...arguments),this.dragSource=null,this.eIcon=RefPlaceholder,this.eLabel=RefPlaceholder}postConstruct(){const e=o=>_createIcon(o,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,o=!1){var c,d;_clearElement(this.eIcon);let a=null;e||(e=(c=this.dragSource)!=null&&c.getDefaultIconName?(d=this.dragSource)==null?void 0:d.getDefaultIconName():"notAllowed"),a=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",o),!(a===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&a&&this.eIcon.appendChild(a)}setLabel(e){this.eLabel.textContent=_escapeString(e)}};function _areEventsNear(e,o,a){if(a===0)return!1;const c=Math.abs(e.clientX-o.clientX),d=Math.abs(e.clientY-o.clientY);return Math.max(c,d)<=a}var TouchListener=class{constructor(e,o=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new LocalEventService,this.eElement=e,this.preventMouseClick=o;const a=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),d=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",a,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",d,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",a,{passive:!0}),this.eElement.removeEventListener("touchmove",c,{passive:!0}),this.eElement.removeEventListener("touchend",d,{passive:!1})})}getActiveTouch(e){for(let o=0;o<e.length;o++)if(e[o].identifier===this.touchStart.identifier)return e[o];return null}addEventListener(e,o){this.localEventService.addEventListener(e,o)}removeEventListener(e,o){this.localEventService.removeEventListener(e,o)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const o=this.touchStart;window.setTimeout(()=>{const a=this.touchStart===o;if(this.touching&&a&&!this.moved){this.moved=!0;const c={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(c)}},500)}onTouchMove(e){if(!this.touching)return;const o=this.getActiveTouch(e.touches);if(!o)return;!_areEventsNear(o,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const o={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(o),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const a={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(a),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function makeSpan$3(e,o){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${o} ag-hidden" aria-hidden="true"></span>`}var SortIndicatorTemplate=`<span class="ag-sort-indicator-container">
        ${makeSpan$3("Order","order")}
        ${makeSpan$3("Asc","ascending-icon")}
        ${makeSpan$3("Desc","descending-icon")}
        ${makeSpan$3("Mixed","mixed-icon")}
        ${makeSpan$3("None","none-icon")}
    </span>`,SortIndicatorComp=class extends Component{constructor(e){super(),this.eSortOrder=RefPlaceholder,this.eSortAsc=RefPlaceholder,this.eSortDesc=RefPlaceholder,this.eSortMixed=RefPlaceholder,this.eSortNone=RefPlaceholder,e||this.setTemplate(SortIndicatorTemplate)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,o,a,c,d){this.eSortOrder=e,this.eSortAsc=o,this.eSortDesc=a,this.eSortMixed=c,this.eSortNone=d}setupSort(e,o=!1){if(this.column=e,this.suppressOrder=o,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const a=this.updateIcons.bind(this),c=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",a),this.addManagedEventListeners({newColumnsLoaded:a,sortChanged:c,columnRowGroupChanged:c}),this.onSortChanged()}addInIcon(e,o,a){if(o==null)return;const c=_createIconNoSpan(e,this.gos,a);c&&o.appendChild(c)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const o=e==="asc";_setDisplayed(this.eSortAsc,o,{skipAriaHidden:!0})}if(this.eSortDesc){const o=e==="desc";_setDisplayed(this.eSortDesc,o,{skipAriaHidden:!0})}if(this.eSortNone){const o=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),a=e==null;_setDisplayed(this.eSortNone,!o&&a,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;_isColumnsSortingCoupledToGroup(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";_setDisplayed(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),o=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,a=e.some(d=>this.sortController.getDisplaySortIndexForColumn(d)??!1),c=o>=0&&a;_setDisplayed(this.eSortOrder,c,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():_clearElement(this.eSortOrder)}},SortIndicatorSelector={selector:"AG-SORT-INDICATOR",component:SortIndicatorComp},HeaderCompTemplate=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,HeaderComp=class extends Component{constructor(){super(...arguments),this.eFilter=RefPlaceholder,this.eFilterButton=RefPlaceholder,this.eSortIndicator=RefPlaceholder,this.eMenu=RefPlaceholder,this.eLabel=RefPlaceholder,this.eText=RefPlaceholder,this.eSortOrder=RefPlaceholder,this.eSortAsc=RefPlaceholder,this.eSortDesc=RefPlaceholder,this.eSortMixed=RefPlaceholder,this.eSortNone=RefPlaceholder,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const o=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||o.enableFilterButton!=e.enableFilterButton||o.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??HeaderCompTemplate;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[SortIndicatorSelector]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const o=_escapeString(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=o)}}addInIcon(e,o,a){if(o==null)return;const c=_createIconNoSpan(e,this.gos,a);c&&o.appendChild(c)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const o=new TouchListener(this.getGui(),!0),a=this.shouldSuppressMenuHide(),c=a&&_exists(this.eMenu),d=c?new TouchListener(this.eMenu,!0):o;if(this.params.enableMenu){const g=c?"tap":"longTap",b=_=>this.params.showColumnMenuAfterMouseClick(_.touchStart);this.addManagedListeners(d,{[g]:b})}if(this.params.enableSorting){const g=b=>{var $,j;const _=b.touchStart.target;a&&(($=this.eMenu)!=null&&$.contains(_)||(j=this.eFilterButton)!=null&&j.contains(_))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(o,{tap:g})}if(this.params.enableFilterButton){const g=new TouchListener(this.eFilterButton,!0);this.addManagedListeners(g,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>g.destroy())}this.addDestroyFunc(()=>o.destroy()),c&&this.addDestroyFunc(()=>d.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){_removeFromParent(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const o=this.params.column,a=this.menuService.isLegacyMenuEnabled();if(e&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new SortIndicatorComp(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:o=>{const a=this.params.column.isMoving(),d=new Date().getTime()-this.lastMovingChanged<50;if(!(a||d)){const _=this.gos.get("multiSortKey")==="ctrl"?o.ctrlKey||o.metaKey:o.shiftKey;this.params.progressSort(_)}}});const e=()=>{const o=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",o==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",o==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!o),this.params.column.getColDef().showRowGroup){const a=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),d=!(a==null?void 0:a.every(g=>this.params.column.getSort()==g.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",d)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,o,a){if(!e)return _removeFromParent(o),!1;const c=this.params.column;return this.addInIcon("filter",o,c),this.addManagedListeners(c,{filterChanged:a}),a(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();_setDisplayed(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},HeaderGroupComp=class extends Component{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=RefPlaceholder,this.agClosed=RefPlaceholder,this.agLabel=RefPlaceholder}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&_warnOnce("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=d=>{if(_isStopPropagationForAgGrid(d))return;const g=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),g,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const o=d=>{_stopPropagationForAgGrid(d)};this.addManagedElementListeners(this.agClosed,{dblclick:o}),this.addManagedElementListeners(this.agOpened,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const a=this.params.columnGroup.getProvidedColumnGroup(),c=this.updateIconVisibility.bind(this);this.addManagedListeners(a,{expandedChanged:c,expandableChanged:c})}addTouchAndClickListeners(e,o){const a=new TouchListener(e,!0);this.addManagedListeners(a,{tap:o}),this.addDestroyFunc(()=>a.destroy()),this.addManagedElementListeners(e,{click:o})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const o=this.params.columnGroup.isExpanded();_setDisplayed(this.agOpened,o),_setDisplayed(this.agClosed,!o)}else _setDisplayed(this.agOpened,!1),_setDisplayed(this.agClosed,!1)}addInIcon(e,o){const a=_createIconNoSpan(e,this.gos,null);a&&o.appendChild(a)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){_setDisplayed(this.agOpened,!1),_setDisplayed(this.agClosed,!1);return}}setupLabel(){var a;const{displayName:e,columnGroup:o}=this.params;if(_exists(e)){const c=_escapeString(e,!0);this.agLabel.textContent=c}this.addOrRemoveCssClass("ag-sticky-label",!((a=o.getColGroupDef())!=null&&a.suppressStickyLabel))}},ARROW_UP="",ARROW_DOWN="",AnimateShowChangeCellRenderer=class extends Component{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),o=document.createElement("span");o.setAttribute("class","ag-value-change-delta");const a=document.createElement("span");a.setAttribute("class","ag-value-change-value"),e.appendChild(o),e.appendChild(a),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,o){const a=Math.abs(o),c=e.formatValue(a),d=_exists(c)?c:a,g=o>=0;g?this.eDelta.textContent=ARROW_UP+d:this.eDelta.textContent=ARROW_DOWN+d,this.eDelta.classList.toggle("ag-value-change-delta-up",g),this.eDelta.classList.toggle("ag-value-change-delta-down",!g)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),_clearElement(this.eDelta)}refresh(e,o=!1){var c;const a=e.value;if(a===this.lastValue||(_exists(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:_exists(e.value)?this.eValue.textContent=a:_clearElement(this.eValue),(c=this.filterManager)!=null&&c.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof a=="number"&&typeof this.lastValue=="number"){const d=a-this.lastValue;this.showDelta(e,d)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),o||this.setTimerToRemoveDelta(),this.lastValue=a,!0}},AnimateSlideCellRenderer=class extends Component{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),o=document.createElement("span");o.setAttribute("class","ag-value-slide-current"),e.appendChild(o),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const o=document.createElement("span");o.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=o,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,o=!1){var c;let a=e.value;return _missing(a)&&(a=""),a===this.lastValue||(c=this.filterManager)!=null&&c.isSuppressFlashingCellsBecauseFiltering()?!1:(o||this.addSlideAnimation(),this.lastValue=a,_exists(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:_exists(e.value)?this.eCurrent.textContent=a:_clearElement(this.eCurrent),!0)}},KeyCode=class{};KeyCode.BACKSPACE="Backspace";KeyCode.TAB="Tab";KeyCode.ENTER="Enter";KeyCode.ESCAPE="Escape";KeyCode.SPACE=" ";KeyCode.LEFT="ArrowLeft";KeyCode.UP="ArrowUp";KeyCode.RIGHT="ArrowRight";KeyCode.DOWN="ArrowDown";KeyCode.DELETE="Delete";KeyCode.F2="F2";KeyCode.PAGE_UP="PageUp";KeyCode.PAGE_DOWN="PageDown";KeyCode.PAGE_HOME="Home";KeyCode.PAGE_END="End";KeyCode.A="KeyA";KeyCode.C="KeyC";KeyCode.D="KeyD";KeyCode.V="KeyV";KeyCode.X="KeyX";KeyCode.Y="KeyY";KeyCode.Z="KeyZ";var AgAbstractLabel=class extends Component{constructor(e,o,a){super(o,a),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:o,labelWidth:a,labelAlignment:c,disabled:d}=this.config;d!=null&&this.setDisabled(d),e!=null&&this.setLabelSeparator(e),o!=null&&this.setLabel(o),a!=null&&this.setLabelWidth(a),this.setLabelAlignment(c||this.labelAlignment),this.refreshLabel()}refreshLabel(){_clearElement(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(_setDisplayed(this.eLabel,!1),_setAriaRole(this.eLabel,"presentation")):(_setDisplayed(this.eLabel,!0),_setAriaRole(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const a=this.getGui().classList;return a.toggle("ag-label-align-left",e==="left"),a.toggle("ag-label-align-right",e==="right"),a.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(_setElementWidth(this.eLabel,e),this)}setDisabled(e){e=!!e;const o=this.getGui();return _setDisabled(o,e),o.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},AgAbstractField=class extends AgAbstractLabel{constructor(e,o,a,c){super(e,o,a),this.className=c}postConstruct(){super.postConstruct();const{width:e,value:o,onValueChange:a}=this.config;e!=null&&this.setWidth(e),o!=null&&this.setValue(o),a!=null&&this.onValueChange(a),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),o=this.getLabelId(),a=this.getLabel();a==null||a==""||_getAriaLabel(e)!==null?_setAriaLabelledBy(e,""):_setAriaLabelledBy(e,o??"")}setAriaLabel(e){return _setAriaLabel(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return _setFixedWidth(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,o){return this.value===e?this:(this.previousValue=this.value,this.value=e,o||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},AgAbstractInputField=class extends AgAbstractField{constructor(e,o,a="text",c="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${c} data-ref="eInput" class="ag-input-field-input"></${c}>
                </div>
            </div>`,[],o),this.inputType=a,this.displayFieldTag=c,this.eLabel=RefPlaceholder,this.eWrapper=RefPlaceholder,this.eInput=RefPlaceholder}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:o}=this.config;e!=null&&this.setInputName(e),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return _setElementWidth(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const o=this.eInput;return o.maxLength=e,this}setInputPlaceholder(e){return _addOrRemoveAttribute(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return _setAriaLabel(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return _setDisabled(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)_addOrRemoveAttribute(this.eInput,"autocomplete",null);else{const o=typeof e=="string"?e:"off";_addOrRemoveAttribute(this.eInput,"autocomplete",o)}return this}},AgCheckbox=class extends AgAbstractInputField{constructor(e,o="ag-checkbox",a="checkbox"){super(e,o,a),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:o}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof o=="boolean"&&this.setPassive(o)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),o=this.getNextValue();this.passive?this.dispatchChange(o,e):this.setValue(o)}getValue(){return this.isSelected()}setValue(e,o){return this.refreshSelectedClass(e),this.setSelected(e,o),this}setName(e){const o=this.getInputElement();return o.name=e,this}isSelected(){return this.selected}setSelected(e,o){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,o||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,o,a){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:o,event:a});const c=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:c.id,name:c.name,selected:e,previousValue:o})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const o=this.isSelected(),a=this.selected=e.target.checked;this.refreshSelectedClass(a),this.dispatchChange(a,o,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},AgCheckboxSelector={selector:"AG-CHECKBOX",component:AgCheckbox},CheckboxCellRenderer=class extends Component{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[AgCheckboxSelector]),this.eCheckbox=RefPlaceholder}init(e){this.refresh(e);const o=this.eCheckbox.getInputElement();o.setAttribute("tabindex","-1"),_setAriaLive(o,"polite"),this.addManagedListeners(o,{click:a=>{if(_stopPropagationForAgGrid(a),this.eCheckbox.isDisabled())return;const c=this.eCheckbox.getValue();this.onCheckboxChanged(c)},dblclick:a=>{_stopPropagationForAgGrid(a)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:a=>{if(a.key===KeyCode.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===_getActiveDomElement(this.gos)&&this.eCheckbox.toggle();const c=this.eCheckbox.getValue();this.onCheckboxChanged(c),a.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var _;let o,a=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")o=e.value;else{const $=e.column.getColId();$.startsWith(GROUP_AUTO_COLUMN_ID)?o=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[$]!==void 0?o=e.value??void 0:a=!1}else o=e.value??void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(o);const c=e.disabled!=null?e.disabled:!((_=e.column)!=null&&_.isCellEditable(e.node));this.eCheckbox.setDisabled(c);const d=this.localeService.getLocaleTextFunc(),g=_getAriaCheckboxStateName(d,o),b=c?g:`${d("ariaToggleCellValue","Press SPACE to toggle cell value")} (${g})`;this.eCheckbox.setInputAriaLabel(b)}onCheckboxChanged(e){const{column:o,node:a,value:c}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:o,colDef:o==null?void 0:o.getColDef(),data:a.data,node:a,rowIndex:a.rowIndex,rowPinned:a.rowPinned,value:c});const d=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:o,colDef:o==null?void 0:o.getColDef(),data:a.data,node:a,rowIndex:a.rowIndex,rowPinned:a.rowPinned,value:c,oldValue:c,newValue:e,valueChanged:d}),d||this.updateCheckbox(this.params)}},LoadingCellRenderer=class extends Component{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=RefPlaceholder,this.eLoadingText=RefPlaceholder}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=_createIconNoSpan("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const o=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},SkeletonCellRenderer=class extends Component{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const o=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",o),this.addDestroyFunc(()=>_setAriaLabelledBy(e.eParentOfValue)),_setAriaLabelledBy(e.eParentOfValue,o),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const o=e("ariaSkeletonCellLoadingFailed","Row failed to load");_setAriaLabel(this.getGui(),o)}setupLoading(e){const a=_getDocument(this.gos).createElement("div");a.classList.add("ag-skeleton-effect");const c=e.node.rowIndex;if(c!=null){const b=75+25*(c%2===0?Math.sin(c):Math.cos(c));a.style.width=`${b}%`}this.getGui().appendChild(a);const g=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");_setAriaLabel(this.getGui(),g)}refresh(e){return!1}destroy(){super.destroy()}},OverlayComponent=class extends Component{constructor(){super()}destroy(){super.destroy()}},LoadingOverlayComponent=class extends OverlayComponent{init(){var o;const e=_makeNull((o=this.gos.get("overlayLoadingTemplate"))==null?void 0:o.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const a=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=a("loadingOoo","Loading...")})}}},NoRowsOverlayComponent=class extends OverlayComponent{init(){var o;const e=_makeNull((o=this.gos.get("overlayNoRowsTemplate"))==null?void 0:o.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const a=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=a("noRowsToShow","No Rows To Show")})}}},PopupComponent=class extends Component{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},TooltipComponent=class extends PopupComponent{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:o}=e;this.getGui().textContent=_escapeString(o,!0)}};function _fuzzySuggestions(e){const{inputValue:o,allSuggestions:a,hideIrrelevant:c,filterByPercentageOfBestMatch:d,addSequentialWeight:g}=e;let b=a.map((j,rt)=>({value:j,relevance:levenshteinDistance(o.toLowerCase(),j.toLocaleLowerCase(),g),idx:rt}));if(b.sort((j,rt)=>rt.relevance-j.relevance),c&&(b=b.filter(j=>j.relevance!==0)),b.length>0&&d&&d>0){const rt=b[0].relevance*d;b=b.filter(nt=>rt-nt.relevance<0)}const _=[],$=[];for(const j of b)_.push(j.value),$.push(j.idx);return{values:_,indices:$}}function getAllSubstrings(e){const o=[],a=e.length;for(let c=1;c<=a;c++)for(let d=0;d<=a-c;d++){const g=d+c-1;o.push(e.slice(d,g+1))}return o}function levenshteinDistance(e,o,a=!1){const c=e.replace(/\s/g,""),d=o.replace(/\s/g,""),g=c.length,b=d.length,_=new Array(g+1).fill(null).map(()=>new Array(b+1).fill(0));for(let nt=0;nt<=g;nt+=1)_[nt][0]=nt;for(let nt=0;nt<=b;nt+=1)_[0][nt]=nt;for(let nt=1;nt<=g;nt++)for(let In=1;In<=b;In++)c[nt-1]===d[In-1]?_[nt][In]=_[nt-1][In-1]:_[nt][In]=1+Math.min(_[nt][In-1],Math.min(_[nt-1][In],_[nt-1][In-1]));const $=_[g][b];let rt=Math.max(g,b)-$;if(a){const nt=getAllSubstrings(c);for(let In=0;In<nt.length;In++){const xl=nt[In];d.indexOf(xl)!==-1&&(rt+=1,rt*=xl.length)}}return rt}var UserComponentRegistry=class extends BeanStub{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:DragAndDropImageComponent,agColumnHeader:HeaderComp,agColumnGroupHeader:HeaderGroupComp,agSortIndicator:SortIndicatorComp,agAnimateShowChangeCellRenderer:AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:AnimateSlideCellRenderer,agLoadingCellRenderer:LoadingCellRenderer,agSkeletonCellRenderer:SkeletonCellRenderer,agCheckboxCellRenderer:CheckboxCellRenderer,agLoadingOverlay:LoadingOverlayComponent,agNoRowsOverlay:NoRowsOverlayComponent,agTooltipComponent:TooltipComponent},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&_iterateObject(e,(o,a)=>this.registerJsComponent(o,a))}registerDefaultComponent(e,o,a){this.agGridDefaults[e]=o,a&&(this.agGridDefaultParams[e]=a)}registerJsComponent(e,o){this.jsComps[e]=o}retrieve(e,o){const a=(_,$,j)=>({componentFromFramework:$,component:_,params:j}),c=this.getFrameworkOverrides().frameworkComponent(o,this.gos.get("components"));if(c!=null)return a(c,!0);const d=this.jsComps[o];if(d){const _=this.getFrameworkOverrides().isFrameworkComponent(d);return a(d,_)}const g=this.agGridDefaults[o];if(g)return a(g,!1,this.agGridDefaultParams[o]);const b=this.enterpriseAgDefaultCompsModule[o];return b?this.gos.assertModuleRegistered(b,`AG Grid '${e}' component: ${o}`):_doOnce(()=>{this.warnAboutMissingComponent(e,o)},"MissingComp"+o),null}warnAboutMissingComponent(e,o){const a=[...Object.keys(this.agGridDefaults).filter(d=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(d)),...Object.keys(this.jsComps)],c=_fuzzySuggestions({inputValue:o,allSuggestions:a,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;_warnOnce(`Could not find '${o}' component. It was configured as "${e}: '${o}'" but it wasn't found in the list of registered components.`),c.length>0&&_warnOnce(`         Did you mean: [${c.slice(0,3)}]?`),_warnOnce(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},AgPromise=class C3{constructor(o){this.status=0,this.resolution=null,this.waiters=[],o(a=>this.onDone(a),a=>this.onReject(a))}static all(o){return o.length?new C3(a=>{let c=o.length;const d=new Array(c);o.forEach((g,b)=>{g.then(_=>{d[b]=_,c--,c===0&&a(d)})})}):C3.resolve()}static resolve(o=null){return new C3(a=>a(o))}then(o){return new C3(a=>{this.status===1?a(o(this.resolution)):this.waiters.push(c=>a(o(c)))})}onDone(o){this.status=1,this.resolution=o,this.waiters.forEach(a=>a(o))}onReject(o){}},DateComponent={propertyName:"dateComponent",cellRenderer:!1},DragAndDropImageComponent2={propertyName:"dragAndDropImageComponent",cellRenderer:!1},HeaderComponent={propertyName:"headerComponent",cellRenderer:!1},HeaderGroupComponent={propertyName:"headerGroupComponent",cellRenderer:!1},CellRendererComponent={propertyName:"cellRenderer",cellRenderer:!0},EditorRendererComponent={propertyName:"cellRenderer",cellRenderer:!1},LoadingCellRendererComponent={propertyName:"loadingCellRenderer",cellRenderer:!0},CellEditorComponent={propertyName:"cellEditor",cellRenderer:!1},InnerRendererComponent={propertyName:"innerRenderer",cellRenderer:!0},LoadingOverlayComponent2={propertyName:"loadingOverlayComponent",cellRenderer:!1},NoRowsOverlayComponent2={propertyName:"noRowsOverlayComponent",cellRenderer:!1},TooltipComponent2={propertyName:"tooltipComponent",cellRenderer:!1},FilterComponent={propertyName:"filter",cellRenderer:!1},FloatingFilterComponent={propertyName:"floatingFilterComponent",cellRenderer:!1},ToolPanelComponent={propertyName:"toolPanel",cellRenderer:!1},StatusPanelComponent={propertyName:"statusPanel",cellRenderer:!1},FullWidth={propertyName:"fullWidthCellRenderer",cellRenderer:!0},FullWidthLoading={propertyName:"loadingCellRenderer",cellRenderer:!0},FullWidthGroup={propertyName:"groupRowRenderer",cellRenderer:!0},FullWidthDetail={propertyName:"detailCellRenderer",cellRenderer:!0},MenuItemComponent={propertyName:"menuItem",cellRenderer:!1},UserComponentFactory=class lC extends BeanStub{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(o){this.agComponentUtils=o.agComponentUtils,this.componentMetadataProvider=o.componentMetadataProvider,this.userComponentRegistry=o.userComponentRegistry,this.frameworkComponentWrapper=o.frameworkComponentWrapper,this.gridOptions=o.gridOptions}getDragAndDropImageCompDetails(o){return this.getCompDetails(this.gridOptions,DragAndDropImageComponent2,"agDragAndDropImage",o,!0)}getHeaderCompDetails(o,a){return this.getCompDetails(o,HeaderComponent,"agColumnHeader",a)}getHeaderGroupCompDetails(o){const a=o.columnGroup.getColGroupDef();return this.getCompDetails(a,HeaderGroupComponent,"agColumnGroupHeader",o)}getFullWidthCellRendererDetails(o){return this.getCompDetails(this.gridOptions,FullWidth,null,o,!0)}getFullWidthLoadingCellRendererDetails(o){return this.getCompDetails(this.gridOptions,FullWidthLoading,"agLoadingCellRenderer",o,!0)}getFullWidthGroupCellRendererDetails(o){return this.getCompDetails(this.gridOptions,FullWidthGroup,"agGroupRowRenderer",o,!0)}getFullWidthDetailCellRendererDetails(o){return this.getCompDetails(this.gridOptions,FullWidthDetail,"agDetailCellRenderer",o,!0)}getInnerRendererDetails(o,a){return this.getCompDetails(o,InnerRendererComponent,null,a)}getFullWidthGroupRowInnerCellRenderer(o,a){return this.getCompDetails(o,InnerRendererComponent,null,a)}getCellRendererDetails(o,a){return this.getCompDetails(o,CellRendererComponent,null,a)}getEditorRendererDetails(o,a){return this.getCompDetails(o,EditorRendererComponent,null,a)}getLoadingCellRendererDetails(o,a){return this.getCompDetails(o,LoadingCellRendererComponent,"agSkeletonCellRenderer",a,!0)}getCellEditorDetails(o,a){return this.getCompDetails(o,CellEditorComponent,"agCellEditor",a,!0)}getFilterDetails(o,a,c){return this.getCompDetails(o,FilterComponent,c,a,!0)}getDateCompDetails(o){return this.getCompDetails(this.gridOptions,DateComponent,"agDateInput",o,!0)}getLoadingOverlayCompDetails(o){return this.getCompDetails(this.gridOptions,LoadingOverlayComponent2,"agLoadingOverlay",o,!0)}getNoRowsOverlayCompDetails(o){return this.getCompDetails(this.gridOptions,NoRowsOverlayComponent2,"agNoRowsOverlay",o,!0)}getTooltipCompDetails(o){return this.getCompDetails(o.colDef,TooltipComponent2,"agTooltipComponent",o,!0)}getSetFilterCellRendererDetails(o,a){return this.getCompDetails(o,CellRendererComponent,null,a)}getFloatingFilterCompDetails(o,a,c){return this.getCompDetails(o,FloatingFilterComponent,c,a)}getToolPanelCompDetails(o,a){return this.getCompDetails(o,ToolPanelComponent,null,a,!0)}getStatusPanelCompDetails(o,a){return this.getCompDetails(o,StatusPanelComponent,null,a,!0)}getMenuItemCompDetails(o,a){return this.getCompDetails(o,MenuItemComponent,"agMenuItem",a,!0)}getCompDetails(o,a,c,d,g=!1){const{propertyName:b,cellRenderer:_}=a;let{compName:$,jsComp:j,fwComp:rt,paramsFromSelector:nt,popupFromSelector:In,popupPositionFromSelector:xl}=lC.getCompKeys(this.frameworkOverrides,o,a,d),Ll;const Nl=Dl=>{const Zl=this.userComponentRegistry.retrieve(b,Dl);Zl&&(j=Zl.componentFromFramework?void 0:Zl.component,rt=Zl.componentFromFramework?Zl.component:void 0,Ll=Zl.params)};if($!=null&&Nl($),j==null&&rt==null&&c!=null&&Nl(c),j&&_&&!this.agComponentUtils.doesImplementIComponent(j)&&(j=this.agComponentUtils.adaptFunction(b,j)),!j&&!rt){g&&_errorOnce(`Could not find component ${$}, did you forget to configure this component?`);return}const _u=this.mergeParamsWithApplicationProvidedParams(o,a,d,nt,Ll),Yl=j==null,Ul=j||rt;return{componentFromFramework:Yl,componentClass:Ul,params:_u,type:a,popupFromSelector:In,popupPositionFromSelector:xl,newAgStackInstance:()=>this.newAgStackInstance(Ul,Yl,_u,a)}}static getCompKeys(o,a,c,d){const{propertyName:g}=c;let b,_,$,j,rt,nt;if(a){const In=a,xl=In[g+"Selector"],Ll=xl?xl(d):null,Nl=_u=>{typeof _u=="string"?b=_u:_u!=null&&_u!==!0&&(o.isFrameworkComponent(_u)?$=_u:_=_u)};Ll?(Nl(Ll.component),j=Ll.params,rt=Ll.popup,nt=Ll.popupPosition):Nl(In[g])}return{compName:b,jsComp:_,fwComp:$,paramsFromSelector:j,popupFromSelector:rt,popupPositionFromSelector:nt}}newAgStackInstance(o,a,c,d){const g=d.propertyName,b=!a;let _;if(b)_=new o;else{const j=this.componentMetadataProvider.retrieve(g);_=this.frameworkComponentWrapper.wrap(o,j.mandatoryMethodList,j.optionalMethodList,d)}const $=this.initComponent(_,c);return $==null?AgPromise.resolve(_):$.then(()=>_)}mergeParamsWithApplicationProvidedParams(o,a,c,d=null,g){const b=this.gos.getGridCommonParams();_mergeDeep(b,c),g&&_mergeDeep(b,g);const _=o,$=_&&_[a.propertyName+"Params"];if(typeof $=="function"){const j=$(c);_mergeDeep(b,j)}else typeof $=="object"&&_mergeDeep(b,$);return _mergeDeep(b,d),b}initComponent(o,a){if(this.createBean(o),o.init!=null)return o.init(a)}};function _unwrapUserComp(e){const o=e;return o!=null&&o.getFrameworkComponentInstance!=null?o.getFrameworkComponentInstance():e}var _ModuleRegistry=class gy{static register(o){gy.__register(o,!0,void 0)}static registerModules(o){gy.__registerModules(o,!0,void 0)}static __register(o,a,c){gy.runVersionChecks(o),c!==void 0?(gy.areGridScopedModules=!0,gy.gridModulesMap[c]===void 0&&(gy.gridModulesMap[c]={}),gy.gridModulesMap[c][o.moduleName]=o):gy.globalModulesMap[o.moduleName]=o,gy.setModuleBased(a)}static __unRegisterGridModules(o){delete gy.gridModulesMap[o]}static __registerModules(o,a,c){gy.setModuleBased(a),o&&o.forEach(d=>gy.__register(d,a,c))}static isValidModuleVersion(o){const[a,c]=o.version.split(".")||[],[d,g]=gy.currentModuleVersion.split(".")||[];return a===d&&c===g}static runVersionChecks(o){gy.currentModuleVersion||(gy.currentModuleVersion=o.version);const a=c=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${c} Please update all modules to the same version.`;if(o.version?gy.isValidModuleVersion(o)||_errorOnce(a(`'${o.moduleName}' is version ${o.version} but the other modules are version ${gy.currentModuleVersion}.`)):_errorOnce(a(`'${o.moduleName}' is incompatible.`)),o.validate){const c=o.validate();c.isValid||_errorOnce(`${c.message}`)}}static setModuleBased(o){gy.moduleBased===void 0?gy.moduleBased=o:gy.moduleBased!==o&&(_errorOnce("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),_errorOnce("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){gy.isBundled=!0}static __assertRegistered(o,a,c){var g;if(this.__isRegistered(o,c))return!0;let d;if(gy.isBundled)d=`AG Grid: unable to use ${a} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(gy.moduleBased||gy.moduleBased===void 0){const b=(g=Object.entries(ModuleNames).find(([_,$])=>$===o))==null?void 0:g[0];d=`AG Grid: unable to use ${a} as the ${b} is not registered${gy.areGridScopedModules?` for gridId: ${c}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${b} } from '${o}';
    
    ModuleRegistry.registerModules([ ${b} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else d=`AG Grid: unable to use ${a} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return _errorOnce(d),!1}static __isRegistered(o,a){var c;return!!gy.globalModulesMap[o]||!!((c=gy.gridModulesMap[a])!=null&&c[o])}static __getRegisteredModules(o){return[..._values(gy.globalModulesMap),..._values(gy.gridModulesMap[o]||{})]}static __getGridRegisteredModules(o){return _values(gy.gridModulesMap[o]??{})||[]}static __isPackageBased(){return!gy.moduleBased}};_ModuleRegistry.globalModulesMap={};_ModuleRegistry.gridModulesMap={};_ModuleRegistry.areGridScopedModules=!1;var ModuleRegistry=_ModuleRegistry,GenericContext=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var o;Object.entries(e.providedBeanInstances).forEach(([a,c])=>{this.beans[a]=c}),e.beanClasses.forEach(a=>{const c=new a;c.beanName?this.beans[c.beanName]=c:console.error(`Bean ${a.name} is missing beanName`),this.createdBeans.push(c)}),(o=e.derivedBeans)==null||o.forEach(a=>{const{beanName:c,bean:d}=a(this);this.beans[c]=d,this.createdBeans.push(d)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,o){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],o),e}initBeans(e,o){e.forEach(a=>{var c,d;(c=a.preWireBeans)==null||c.call(a,this.beans),(d=a.wireBeans)==null||d.call(a,this.beans)}),e.forEach(a=>{var c;return(c=a.preConstruct)==null?void 0:c.call(a)}),o&&e.forEach(o),e.forEach(a=>{var c;return(c=a.postConstruct)==null?void 0:c.call(a)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var o;(o=e==null?void 0:e.destroy)==null||o.call(e)}destroyBeans(e){if(e)for(let o=0;o<e.length;o++)this.destroyBean(e[o]);return[]}isDestroyed(){return this.destroyed}},Context=class extends GenericContext{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),ModuleRegistry.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},ExcelFactoryMode=(e=>(e[e.SINGLE_SHEET=0]="SINGLE_SHEET",e[e.MULTI_SHEET=1]="MULTI_SHEET",e))(ExcelFactoryMode||{}),VerticalDirection=(e=>(e[e.Up=0]="Up",e[e.Down=1]="Down",e))(VerticalDirection||{}),HorizontalDirection=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(HorizontalDirection||{}),DragSourceType=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(DragSourceType||{}),DragAndDropService=class extends BeanStub{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,o=!1){const a={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:o};this.dragSourceAndParamsList.push({params:a,dragSource:e}),this.dragService.addDragSource(a)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const o=this.dragSourceAndParamsList.find(a=>a.dragSource===e);o&&(this.dragService.removeDragSource(o.params),_removeFromArray(this.dragSourceAndParamsList,o))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,o){var a,c;this.dragging=!0,this.dragSource=e,this.eventLastTime=o,this.dragItem=this.dragSource.getDragItem(),(c=(a=this.dragSource).onDragStarted)==null||c.call(a),this.createDragAndDropImageComponent()}onDragStop(e){var o,a,c;if((a=(o=this.dragSource)==null?void 0:o.onDragStopped)==null||a.call(o),(c=this.lastDropTarget)!=null&&c.onDragStop){const d=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(d)}this.clearDragAndDropProperties()}onDragCancel(){var e,o,a;(o=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||o.call(e),(a=this.lastDropTarget)!=null&&a.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,o=!1){var b,_,$,j;const a=this.getHorizontalDirection(e),c=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const d=this.dropTargets.filter(rt=>this.isMouseOnDropTarget(e,rt)),g=this.findCurrentDropTarget(e,d);if(g!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,a,c,o),this.lastDropTarget!==null&&g===null&&((_=(b=this.dragSource)==null?void 0:b.onGridExit)==null||_.call(b,this.dragItem)),this.lastDropTarget===null&&g!==null&&((j=($=this.dragSource)==null?void 0:$.onGridEnter)==null||j.call($,this.dragItem)),this.enterDragTargetIfExists(g,e,a,c,o),g&&this.dragAndDropImageComp){const{comp:rt,promise:nt}=this.dragAndDropImageComp;rt?rt.setIcon(g.getIconName?g.getIconName():null):nt.then(In=>{In&&In.setIcon(g.getIconName?g.getIconName():null)})}this.lastDropTarget=g}else if(g&&g.onDragging){const rt=this.createDropTargetEvent(g,e,a,c,o);g.onDragging(rt)}}getAllContainersFromDropTarget(e){const o=e.getSecondaryContainers?e.getSecondaryContainers():null,a=[[e.getContainer()]];return o?a.concat(o):a}allContainersIntersect(e,o){for(const a of o){const{width:c,height:d,left:g,right:b,top:_,bottom:$}=a.getBoundingClientRect();if(c===0||d===0)return!1;const j=e.clientX>=g&&e.clientX<b,rt=e.clientY>=_&&e.clientY<$;if(!j||!rt)return!1}return!0}isMouseOnDropTarget(e,o){const a=this.getAllContainersFromDropTarget(o);let c=!1;for(const b of a)if(this.allContainersIntersect(e,b)){c=!0;break}const{eElement:d,type:g}=this.dragSource;return o.targetContainsSource&&!o.getContainer().contains(d)?!1:c&&o.isInterestedIn(g,d)}findCurrentDropTarget(e,o){const a=o.length;if(a===0)return null;if(a===1)return o[0];const d=_getRootNode(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const g of d)for(const b of o)if(_flatten(this.getAllContainersFromDropTarget(b)).indexOf(g)!==-1)return b;return null}enterDragTargetIfExists(e,o,a,c,d){if(e&&e.onDragEnter){const g=this.createDropTargetEvent(e,o,a,c,d);e.onDragEnter(g)}}leaveLastTargetIfExists(e,o,a,c){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const g=this.createDropTargetEvent(this.lastDropTarget,e,o,a,c);this.lastDropTarget.onDragLeave(g)}const d=this.getDragAndDropImageComponent();d&&d.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(o=>o.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(a=>a.external).find(a=>a.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const a=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:c}=e;return a.contains(c)}getHorizontalDirection(e){const o=this.eventLastTime&&this.eventLastTime.clientX,a=e.clientX;return o===a?null:o>a?0:1}getVerticalDirection(e){const o=this.eventLastTime&&this.eventLastTime.clientY,a=e.clientY;return o===a?null:o>a?0:1}createDropTargetEvent(e,o,a,c,d){const g=e.getContainer(),b=g.getBoundingClientRect(),{dragItem:_,dragSource:$}=this,j=o.clientX-b.left,rt=o.clientY-b.top;return this.gos.addGridCommonParams({event:o,x:j,y:rt,vDirection:c,hDirection:a,dragSource:$,fromNudge:d,dragItem:_,dropZoneTarget:g})}positionDragAndDropImageComp(e){const o=this.getDragAndDropImageComponent();if(!o)return;const a=o.getGui(),d=a.getBoundingClientRect().height,g=_getBodyWidth()-2,b=_getBodyHeight()-2;if(!a.offsetParent)return;const $=_getElementRectWithOffset(a.offsetParent),{clientY:j,clientX:rt}=e;let nt=j-$.top-d/2,In=rt-$.left-10;const xl=_getDocument(this.gos),Ll=xl.defaultView||window,Nl=Ll.pageYOffset||xl.documentElement.scrollTop,_u=Ll.pageXOffset||xl.documentElement.scrollLeft;g>0&&In+a.clientWidth>g+_u&&(In=g+_u-a.clientWidth),In<0&&(In=0),b>0&&nt+a.clientHeight>b+Nl&&(nt=b+Nl-a.clientHeight),nt<0&&(nt=0),a.style.left=`${In}px`,a.style.top=`${nt}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const o=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(o),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const a=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:a},a.then(c=>{!c||!this.isAlive()||(this.processDragAndDropImageComponent(c),this.dragAndDropImageComp.comp=c)})}processDragAndDropImageComponent(e){const{dragSource:o,mouseEventService:a,environment:c}=this;if(!o)return;const d=e.getGui();d.style.setProperty("position","absolute"),d.style.setProperty("z-index","9999"),a.stampTopLevelGridCompWithGridInstance(d),c.applyThemeClasses(d),e.setIcon(null);let{dragItemName:g}=o;_isFunction(g)&&(g=g()),e.setLabel(g||""),d.style.top="20px",d.style.left="20px";const b=_getDocument(this.gos);let _=null,$=null;try{_=b.fullscreenElement}catch{}finally{_||(_=_getRootNode(this.gos));const j=_.querySelector("body");j?$=j:_ instanceof ShadowRoot?$=_:_ instanceof Document?$=_==null?void 0:_.documentElement:$=_}this.dragAndDropImageParent=$,$?$.appendChild(d):_warnOnce("Could not find document body, it is needed for drag and drop.")}},AutoScrollService=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,o=!1){const a=o||this.shouldSkipVerticalScroll();if(a&&this.shouldSkipHorizontalScroll())return;const c=this.scrollContainer.getBoundingClientRect(),d=this.scrollByTick;this.tickLeft=e.clientX<c.left+d,this.tickRight=e.clientX>c.right-d,this.tickUp=e.clientY<c.top+d&&!a,this.tickDown=e.clientY>c.bottom-d&&!a,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const o=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(o-e),this.tickDown&&this.setVerticalPosition(o+e)}if(this.scrollHorizontally){const o=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(o-e),this.tickRight&&this.setHorizontalPosition(o+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},RowHighlightPosition=(e=>(e[e.Above=0]="Above",e[e.Below=1]="Below",e))(RowHighlightPosition||{}),RowDragFeature=class extends BeanStub{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){_isClientSideRowModel(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const o=e.gridBodyCtrl;this.autoScrollService=new AutoScrollService({scrollContainer:o.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>o.getScrollFeature().getVScrollPosition().top,setVerticalPosition:a=>o.getScrollFeature().setVerticalScrollPosition(a),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var c;return!!(this.funcColsService.getRowGroupColumns().length||((c=this.filterManager)==null?void 0:c.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const o=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const c=[...this.selectionService.getSelectedNodes()].sort((d,g)=>d.rowIndex==null||g.rowIndex==null?0:this.getRowIndexNumber(d)-this.getRowIndexNumber(g));if(c.indexOf(o)!==-1)return c}return[o]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(o=>{o.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:o}=e.dragSource;return o===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const o=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,o),this.autoScrollService.check(e.event)}doManagedDrag(e,o){const a=this.isFromThisGrid(e),c=this.gos.get("rowDragManaged"),d=e.dragItem.rowNodes;c&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!a?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(d[0],o):this.moveRows(d,o))}getRowIndexNumber(e){const o=e.getRowIndexString();return parseInt(_last(o.split("-")),10)}moveRowAndClearHighlight(e){const o=this.clientSideRowModel.getLastHighlightedRowNode(),a=o&&o.highlighted===1,c=this.mouseEventService.getNormalisedPosition(e).y,d=e.dragItem.rowNodes;let g=a?1:0;if(this.isFromThisGrid(e))d.forEach(b=>{b.rowTop<c&&(g-=1)}),this.moveRows(d,c,g);else{const b=_getRowIdCallback(this.gos);let _=this.clientSideRowModel.getRowIndexAtPixel(c)+1;this.clientSideRowModel.getHighlightPosition(c)===0&&_--,this.clientSideRowModel.updateRowData({add:d.filter($=>!this.clientSideRowModel.getRowNode((b==null?void 0:b({data:$.data,level:0,rowPinned:$.rowPinned}))??$.data.id)).map($=>$.data),addIndex:_})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,o,a=0){var d;this.clientSideRowModel.ensureRowsAtPixel(e,o,a)&&(this.focusService.clearFocusedCell(),(d=this.rangeService)==null||d.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){_warnOnce("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){_warnOnce("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let o={getContainer:e.getContainer};e.fromGrid?o=e:(e.onDragEnter&&(o.onDragEnter=c=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",c))}),e.onDragLeave&&(o.onDragLeave=c=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",c))}),e.onDragging&&(o.onDragging=c=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",c))}),e.onDragStop&&(o.onDragStop=c=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",c))}),e.onDragCancel&&(o.onDragCancel=c=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",c))}));const a={isInterestedIn:c=>c===2,getIconName:()=>"move",external:!0,...o};this.dragAndDropService.addDropTarget(a),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(a))}getRowDropZone(e){const o=this.getContainer.bind(this),a=this.onDragEnter.bind(this),c=this.onDragLeave.bind(this),d=this.onDragging.bind(this),g=this.onDragStop.bind(this),b=this.onDragCancel.bind(this);let _;return e?_={getContainer:o,onDragEnter:e.onDragEnter?$=>{a($),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",$))}:a,onDragLeave:e.onDragLeave?$=>{c($),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",$))}:c,onDragging:e.onDragging?$=>{d($),e.onDragging(this.draggingToRowDragEvent("rowDragMove",$))}:d,onDragStop:e.onDragStop?$=>{g($),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",$))}:g,onDragCancel:e.onDragCancel?$=>{b($),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",$))}:b,fromGrid:!0}:_={getContainer:o,onDragEnter:a,onDragLeave:c,onDragging:d,onDragStop:g,onDragCancel:b,fromGrid:!0},_}draggingToRowDragEvent(e,o){const a=this.mouseEventService.getNormalisedPosition(o).y,c=a>this.pageBoundsService.getCurrentPageHeight();let d=-1,g;c||(d=this.rowModel.getRowIndexAtPixel(a),g=this.rowModel.getRow(d));let b;switch(o.vDirection){case 1:b="down";break;case 0:b="up";break;default:b=null;break}return this.gos.addGridCommonParams({type:e,event:o.event,node:o.dragItem.rowNode,nodes:o.dragItem.rowNodes,overIndex:d,overNode:g,y:a,vDirection:b})}dispatchGridEvent(e,o){const a=this.draggingToRowDragEvent(e,o);this.eventService.dispatchEvent(a)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(o=>{o.setDragging(!1)})}},DragService=class extends BeanStub{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const o=e.dragSource.eElement,a=e.mouseDownListener;if(o.removeEventListener("mousedown",a),e.touchEnabled){const c=e.touchStartListener;o.removeEventListener("touchstart",c,{passive:!0})}}removeDragSource(e){const o=this.dragSources.find(a=>a.dragSource===e);o&&(this.removeListener(o),_removeFromArray(this.dragSources,o))}isDragging(){return this.dragging}addDragSource(e){const o=this.onMouseDown.bind(this,e),{eElement:a,includeTouch:c,stopPropagationForTouch:d}=e;a.addEventListener("mousedown",o);let g=null;const b=this.gos.get("suppressTouch");c&&!b&&(g=_=>{_isFocusableFormField(_.target)||(d&&_.stopPropagation(),this.onTouchStart(e,_))},a.addEventListener("touchstart",g,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:o,touchStartListener:g,touchEnabled:!!c})}getStartTarget(){return this.startTarget}onTouchStart(e,o){this.currentDragParams=e,this.dragging=!1;const a=o.touches[0];this.touchLastTime=a,this.touchStart=a;const c=$=>this.onTouchMove($,e.eElement),d=$=>this.onTouchUp($,e.eElement),g=$=>{$.cancelable&&$.preventDefault()},b=o.target,_=[{target:_getRootNode(this.gos),type:"touchmove",listener:g,options:{passive:!1}},{target:b,type:"touchmove",listener:c,options:{passive:!0}},{target:b,type:"touchend",listener:d,options:{passive:!0}},{target:b,type:"touchcancel",listener:d,options:{passive:!0}}];this.addTemporaryEvents(_),e.dragStartPixels===0&&this.onCommonMove(a,this.touchStart,e.eElement)}onMouseDown(e,o){const a=o;if(e.skipMouseEvent&&e.skipMouseEvent(o)||a._alreadyProcessedByDragService||(a._alreadyProcessedByDragService=!0,o.button!==0))return;this.shouldPreventMouseEvent(o)&&o.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=o,this.startTarget=o.target;const c=j=>this.onMouseMove(j,e.eElement),d=j=>this.onMouseUp(j,e.eElement),g=j=>j.preventDefault(),b=j=>{j.key===KeyCode.ESCAPE&&this.cancelDrag(e.eElement)},_=_getRootNode(this.gos),$=[{target:_,type:"mousemove",listener:c},{target:_,type:"mouseup",listener:d},{target:_,type:"contextmenu",listener:g},{target:_,type:"keydown",listener:b}];this.addTemporaryEvents($),e.dragStartPixels===0&&this.onMouseMove(o,e.eElement)}addTemporaryEvents(e){e.forEach(o=>{const{target:a,type:c,listener:d,options:g}=o;a.addEventListener(c,d,g)}),this.dragEndFunctions.push(()=>{e.forEach(o=>{const{target:a,type:c,listener:d,options:g}=o;a.removeEventListener(c,d,g)})})}isEventNearStartEvent(e,o){const{dragStartPixels:a}=this.currentDragParams,c=_exists(a)?a:4;return _areEventsNear(e,o,c)}getFirstActiveTouch(e){for(let o=0;o<e.length;o++)if(e[o].identifier===this.touchStart.identifier)return e[o];return null}onCommonMove(e,o,a){var c;if(!this.dragging){if(this.isEventNearStartEvent(e,o))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:a}),this.currentDragParams.onDragStart(o),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(o)}(c=this.currentDragParams)==null||c.onDragging(e)}onTouchMove(e,o){const a=this.getFirstActiveTouch(e.touches);a&&this.onCommonMove(a,this.touchStart,o)}onMouseMove(e,o){var a;_isBrowserSafari()&&((a=_getDocument(this.gos).getSelection())==null||a.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,o)}shouldPreventMouseEvent(e){const o=this.gos.get("enableCellTextSelection"),a=e.type==="mousemove";return o&&a&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const o=e.target,a=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))}onTouchUp(e,o){let a=this.getFirstActiveTouch(e.changedTouches);a||(a=this.touchLastTime),this.onUpCommon(a,o)}onMouseUp(e,o){this.onUpCommon(e,o)}onUpCommon(e,o){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:o})),this.resetDragProperties()}cancelDrag(e){var o,a;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(a=(o=this.currentDragParams)==null?void 0:o.onDragCancel)==null||a.call(o),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},RowDragComp=class extends Component{constructor(e,o,a,c,d,g){super(),this.cellValueFn=e,this.rowNode=o,this.column=a,this.customGui=c,this.dragStartPixels=d,this.suppressVisibilityChange=g,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(_createIconNoSpan("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new ManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column):new NonManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,o){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(o)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const o=this.beans.selectionService.getSelectedNodes();return o.indexOf(this.rowNode)!==-1?o:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&_warnOnce("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const o=e.getColDef();if(o.rowDragText)return o.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const o=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(o,{mousedown:c=>{c==null||c.preventDefault()}})[0]);const a=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:o,dragItemName:()=>{var b;const c=this.getDragItem(),d=((b=c.rowNodes)==null?void 0:b.length)||1,g=this.getRowDragText(this.column);return g?g(c,d):d===1?this.cellValueFn():`${d} ${a("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},VisibilityStrategy=class extends BeanStub{constructor(e,o,a){super(),this.parent=e,this.rowNode=o,this.column=a}setDisplayedOrVisible(e){const o={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,o);else{let a=!0,c=!1;this.column&&(a=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),c=_isFunction(this.column.getColDef().rowDrag)),c?(this.parent.setDisplayed(!0,o),this.parent.setVisible(a,o)):(this.parent.setDisplayed(a,o),this.parent.setVisible(!0,o))}}},NonManagedVisibilityStrategy=class extends VisibilityStrategy{constructor(e,o,a,c){super(e,a,c),this.beans=o}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},ManagedVisibilityStrategy=class extends VisibilityStrategy{constructor(e,o,a,c){super(e,a,c),this.beans=o}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const o=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),a=o&&o.shouldPreventRowMove(),c=this.gos.get("suppressRowDrag"),d=this.beans.dragAndDropService.hasExternalDropZones(),g=a&&!d||c;this.setDisplayedOrVisible(g)}},IGNORED_SIBLING_PROPERTIES=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),_RowNode=class i3{constructor(o){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=i3.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=o}setData(o){this.setDataCommon(o,!1)}updateData(o){this.setDataCommon(o,!0)}setDataCommon(o,a){var g;const c=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const d=this.createDataChangedEvent(o,c,a);(g=this.localEventService)==null||g.dispatchEvent(d)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(o,a,c){return{type:"dataChanged",node:this,oldData:a,newData:o,update:c}}getRowIndexString(){return this.rowIndex==null?(_errorOnce("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?i3.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?i3.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const o=new i3(this.beans);return o.id=this.id,o.data=this.data,o.__daemon=!0,o.selected=this.selected,o.level=this.level,o}setDataAndId(o,a){var b;const c=_exists(this.id)?this.createDaemonNode():null,d=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(a),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,c);const g=this.createDataChangedEvent(o,d,!1);(b=this.localEventService)==null||b.dispatchEvent(g)}checkRowSelectable(){const o=_getIsRowSelectable(this.beans.gos);this.setRowSelectable(o?o(this):!0)}setRowSelectable(o,a){if(this.selectable!==o){if(this.selectable=o,this.dispatchRowEvent("selectableChanged"),a)return;if(_getGroupSelectsDescendants(this.beans.gos)){const d=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:d??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(o){var c;const a=_getRowIdCallback(this.beans.gos);if(a)if(this.data){const d=((c=this.parent)==null?void 0:c.getRoute())??[];this.id=a({data:this.data,parentKeys:d.length>0?d:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(i3.ID_PREFIX_ROW_GROUP)&&_errorOnce(`Row IDs cannot start with ${i3.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=o}setRowTop(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.dispatchRowEvent("topChanged"),this.setDisplayed(o!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(o){this.hovered=o}isHovered(){return this.hovered}setMaster(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.dispatchRowEvent("masterChanged"))}setGroup(o){this.group!==o&&(this.group&&!o&&(this.expanded=!1),this.group=o,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(o,a=!1){this.rowHeight=o,this.rowHeightEstimated=a,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(o,a){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[a.getId()]=o,o!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=_debounce(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var _;let o=!1,a=!0,c=0;const d=this.__autoHeights;if(d==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach($=>{let j=d[$.getId()];if(j==null)if(this.beans.columnModel.isColSpanActive()){let rt=[];switch($.getPinned()){case"left":rt=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":rt=this.beans.visibleColsService.getRightColsForRow(this);break;case null:rt=this.beans.columnViewportService.getColsWithinViewport(this);break}if(rt.includes($)){o=!0;return}j=-1}else{o=!0;return}else a=!1;j>c&&(c=j)}),o)||((a||c<10)&&(c=_getRowHeightForNode(this.beans.gos,this).height),c==this.rowHeight))return;this.setRowHeight(c);const b=this.beans.rowModel;(_=b.onRowHeightChangedDebounced)==null||_.call(b)}setExpanded(o,a,c){if(this.expanded===o)return;this.expanded=o,this.dispatchRowEvent("expandedChanged");const d={...this.createGlobalRowEvent("rowGroupOpened"),expanded:o,event:a||null};this.beans.rowNodeEventThrottle.dispatchExpanded(d,c),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(o){return this.beans.gos.addGridCommonParams({type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(o,a,c){const g=typeof o!="string"?o:this.beans.columnModel.getCol(o)??this.beans.columnModel.getColDefCol(o),b=this.beans.valueService.getValueForDisplay(g,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:g,colDef:g.getColDef(),data:this.data,node:this,oldValue:b,newValue:a,value:a,source:c}),!1;const _=this.beans.valueService.setValue(this,g,a,c);return this.dispatchCellChangedEvent(g,a,b),this.checkRowSelectable(),_}setGroupValue(o,a){const c=this.beans.columnModel.getCol(o);_missing(this.groupData)&&(this.groupData={});const d=c.getColId(),g=this.groupData[d];g!==a&&(this.groupData[d]=a,this.dispatchCellChangedEvent(c,a,g))}setAggData(o){const a=this.aggData;if(this.aggData=o,this.localEventService){const c=d=>{const g=this.aggData?this.aggData[d]:void 0,b=a?a[d]:void 0;if(g===b)return;const _=this.beans.columnModel.getCol(d);_&&this.dispatchCellChangedEvent(_,g,b)};for(const d in a)c(d);for(const d in o)(!a||!(d in a))&&c(d)}}updateHasChildren(){let o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(_isServerSideRowModel(this.beans.gos)){const c=this.beans.gos.get("treeData"),d=this.beans.gos.get("isServerSideGroup");o=!this.stub&&!this.footer&&(c?!!d&&d(this.data):!!this.group)}o!==this.__hasChildren&&(this.__hasChildren=!!o,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(o,a,c){var g;const d={type:"cellChanged",node:this,column:o,newValue:a,oldValue:c};(g=this.localEventService)==null||g.dispatchEvent(d)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(a=>a.depthFirstSearch(o)),o(this)}calculateSelectedFromChildren(){var c;let o=!1,a=!1;if(!((c=this.childrenAfterGroup)!=null&&c.length))return this.selectable?this.selected:null;for(let d=0;d<this.childrenAfterGroup.length;d++){const g=this.childrenAfterGroup[d];let b=g.isSelected();if(!g.selectable){const _=g.calculateSelectedFromChildren();if(_===null)continue;b=_}switch(b){case!0:o=!0;break;case!1:a=!0;break;default:return}}if(!(o&&a))return o?!0:a?!1:this.selectable?this.selected:null}setSelectedInitialValue(o){this.selected=o}dispatchRowEvent(o){var a;(a=this.localEventService)==null||a.dispatchEvent({type:o,node:this})}selectThisNode(o,a,c="api"){const d=!this.selectable&&o,g=this.selected===o;if(d||g)return!1;this.selected=o,this.dispatchRowEvent("rowSelected");const b=this.sibling;return b&&b.footer&&b.localEventService&&b.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:a||null,source:c}),!0}setSelected(o,a=!1,c="api"){if(typeof c=="boolean"){_warnOnce("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:o,clearSelection:a,rangeSelect:!1,source:c})}setSelectedParams(o){return this.rowPinned?(_warnOnce("cannot select pinned rows"),0):this.id===void 0?(_warnOnce("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...o,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(o,a){var d;this.localEventService||(this.localEventService=new LocalEventService),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new FrameworkEventListenerService(this.beans.frameworkOverrides));const c=((d=this.frameworkEventListenerService)==null?void 0:d.wrap(o,a))??a;this.localEventService.addEventListener(o,c)}removeEventListener(o,a){var d;if(!this.localEventService)return;const c=((d=this.frameworkEventListenerService)==null?void 0:d.unwrap(o,a))??a;this.localEventService.removeEventListener(o,c),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(_warnOnce("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const o=this.beans.gos.getCallback("isFullWidthRow");return o?o({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const o=[];let a=this;for(;a&&a.key!=null;)o.push(a.key),a=a.parent;return o.reverse()}createFooter(){if(this.sibling)return;const o=new i3(this.beans);Object.keys(this).forEach(a=>{IGNORED_SIBLING_PROPERTIES.has(a)||(o[a]=this[a])}),o.footer=!0,o.setRowTop(null),o.setRowIndex(null),o.oldRowTop=null,o.id="rowGroupFooter_"+this.id,o.sibling=this,this.sibling=o}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(o){this.firstChild!==o&&(this.firstChild=o,this.dispatchRowEvent("firstChildChanged"))}setLastChild(o){this.lastChild!==o&&(this.lastChild=o,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(o){this.childIndex!==o&&(this.childIndex=o,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(o){this.displayed!==o&&(this.displayed=o,this.dispatchRowEvent("displayedChanged"))}setDragging(o){this.dragging!==o&&(this.dragging=o,this.dispatchRowEvent("draggingChanged"))}setHighlighted(o){this.highlighted!==o&&(this.highlighted=o,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(o){this.rowIndex!==o&&(this.rowIndex=o,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(o){this.uiLevel!==o&&(this.uiLevel=o,this.dispatchRowEvent("uiLevelChanged"))}};_RowNode.ID_PREFIX_ROW_GROUP="row-group-";_RowNode.ID_PREFIX_TOP_PINNED="t-";_RowNode.ID_PREFIX_BOTTOM_PINNED="b-";_RowNode.OBJECT_ID_SEQUENCE=0;var RowNode=_RowNode,FilterManager=class extends BeanStub{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),o=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:o,columnVisible:o,advancedFilterEnabledChanged:({enabled:a})=>this.onAdvancedFilterEnabledChanged(a),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",a=>this.setAdvancedFilterModel(a.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const o=this.gos.get("doesExternalFilterPass");return typeof o=="function"?o(e):!1}setFilterModel(e,o="api"){var a;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(a=this.columnFilterService)==null||a.setFilterModel(e,o)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var o,a;e?(o=this.columnFilterService)!=null&&o.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(a=this.advancedFilterService)!=null&&a.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){_getGroupAggFiltering(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:o,additionalEventAttributes:a,columns:c=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):AgPromise.resolve()).then(()=>{var g;const d={source:o,type:"filterChanged",columns:c};a&&_mergeDeep(d,a),this.eventService.dispatchEvent(d),(g=this.columnFilterService)==null||g.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!_getGroupAggFiltering(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,o){return this.doesRowPassFilter({rowNode:o,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var o;return!!((o=this.columnFilterService)!=null&&o.isFilterActive(e))}getOrCreateFilterWrapper(e){var o;return((o=this.columnFilterService)==null?void 0:o.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,o){return this.columnFilterService.createFilterParams(e,o)}isFilterAllowed(e){var o;return this.isAdvancedFilterEnabled()?!1:!!((o=this.columnFilterService)!=null&&o.isFilterAllowed(e))}getFloatingFilterCompDetails(e,o){var a;return(a=this.columnFilterService)==null?void 0:a.getFloatingFilterCompDetails(e,o)}getCurrentFloatingFilterParentModel(e){var o;return(o=this.columnFilterService)==null?void 0:o.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,o="api"){var a;(a=this.columnFilterService)==null||a.destroyFilter(e,o)}areFilterCompsDifferent(e,o){var a;return!!((a=this.columnFilterService)!=null&&a.areFilterCompsDifferent(e,o))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var o;if(this.isAdvancedFilterEnabled()){if((o=this.dataTypeService)!=null&&o.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,o){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:o,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,o){var a;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(a=this.columnFilterService)==null?void 0:a.getFilterInstance(e,o)}getColumnFilterInstance(e){var o;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((o=this.columnFilterService)==null?void 0:o.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){_warnOnce("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var o;(o=this.advancedFilterService)==null||o.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var o;return(o=this.columnFilterService)==null?void 0:o.getColumnFilterModel(e)}setColumnFilterModel(e,o){var a;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((a=this.columnFilterService)==null?void 0:a.setColumnFilterModel(e,o))??Promise.resolve()}setColDefPropertiesForDataType(e,o,a){var c;(c=this.columnFilterService)==null||c.setColDefPropertiesForDataType(e,o,a)}},FilterWrapperComp=class extends Component{constructor(e,o){super('<div class="ag-filter"></div>'),this.column=e,this.source=o,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,o;return((o=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:o.then(()=>{}))??AgPromise.resolve()}afterGuiAttached(e){var o,a;(a=(o=this.filterWrapper)==null?void 0:o.filterPromise)==null||a.then(c=>{var d;(d=c==null?void 0:c.afterGuiAttached)==null||d.call(c,e)})}afterGuiDetached(){var e,o;(o=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||o.then(a=>{var c;(c=a==null?void 0:a.afterGuiDetached)==null||c.call(a)})}createFilter(e){var c,d;const{column:o,source:a}=this;this.filterWrapper=((c=this.filterManager)==null?void 0:c.getOrCreateFilterWrapper(o))??null,(d=this.filterWrapper)!=null&&d.filterPromise&&this.filterWrapper.filterPromise.then(g=>{const b=g.getGui();_exists(b)||_warnOnce(`getGui method from filter returned ${b}; it should be a DOM element.`),this.appendChild(b),e&&this.eventService.dispatchEvent({type:"filterOpened",column:o,source:a,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(_clearElement(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},RESIZE_CONTAINER_STYLE="ag-resizer-wrapper",makeDiv=(e,o)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${o}"></div>`,RESIZE_TEMPLATE=`<div class="${RESIZE_CONTAINER_STYLE}">
        ${makeDiv("eTopLeft","topLeft")}
        ${makeDiv("eTop","top")}
        ${makeDiv("eTopRight","topRight")}
        ${makeDiv("eRight","right")}
        ${makeDiv("eBottomRight","bottomRight")}
        ${makeDiv("eBottom","bottom")}
        ${makeDiv("eBottomLeft","bottomLeft")}
        ${makeDiv("eLeft","left")}
    </div>`,PositionableFeature=class extends BeanStub{constructor(e,o){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},o)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:o}=this.offsetParent,a=o/2-this.getWidth()/2,c=e/2-this.getHeight()/2;this.offsetElement(a,c)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:o,minWidth:a,width:c,minHeight:d,height:g,x:b,y:_}=this.config;this.offsetParent||this.setOffsetParent();let $=0,j=0;const rt=_isVisible(this.element);if(rt){const nt=this.findBoundaryElement(),In=window.getComputedStyle(nt);if(In.minWidth!=null){const xl=nt.offsetWidth-this.element.offsetWidth;j=parseInt(In.minWidth,10)-xl}if(In.minHeight!=null){const xl=nt.offsetHeight-this.element.offsetHeight;$=parseInt(In.minHeight,10)-xl}}if(this.minHeight=d||$,this.minWidth=a||j,c&&this.setWidth(c),g&&this.setHeight(g),(!c||!g)&&this.refreshSize(),e)this.center();else if(b||_)this.offsetElement(b,_);else if(rt&&o){let nt=this.boundaryEl,In=!0;if(nt||(nt=this.findBoundaryElement(),In=!1),nt){const xl=parseFloat(nt.style.top),Ll=parseFloat(nt.style.left);In?this.offsetElement(isNaN(Ll)?0:Ll,isNaN(xl)?0:xl):this.setPosition(Ll,xl)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,o){if(!this.config.popup||e===this.movable)return;this.movable=e;const a=this.moveElementDragListener||{eElement:o,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(a),this.moveElementDragListener=a):(this.dragService.removeDragSource(a),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(o=>{const c=!!e[o],d=this.getResizerElement(o),g={dragStartPixels:0,eElement:d,onDragStart:b=>this.onResizeStart(b,o),onDragging:this.onResize.bind(this),onDragStop:b=>this.onResizeEnd(b,o)};(c||!this.isAlive()&&!c)&&(c?(this.dragService.addDragSource(g),this.resizeListeners.push(g),d.style.pointerEvents="all"):d.style.pointerEvents="none",this.resizable[o]=c)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:o}=this.lastSize;o!==-1&&(this.element.style.width=`${o}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:o}=this.config,a=this.element;let c=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_setFixedHeight(a,e),e=_getAbsoluteHeight(a),c=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const d=this.getAvailableHeight();d&&e>d&&(e=d)}this.getHeight()!==e&&(c?(a.style.maxHeight="unset",a.style.minHeight="unset"):o?_setFixedHeight(a,e):(a.style.height=`${e}px`,a.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:o}=this.config;this.positioned||this.initialisePosition();const{clientHeight:a}=this.offsetParent;if(!a)return null;const c=this.element.getBoundingClientRect(),d=this.offsetParent.getBoundingClientRect(),g=e?this.position.y:c.top,b=e?0:d.top;let _=0;if(o){const j=this.element.parentElement;if(j){const{bottom:rt}=j.getBoundingClientRect();_=rt-c.bottom}}return a+b-g-_}getWidth(){return this.element.offsetWidth}setWidth(e){const o=this.element,{popup:a}=this.config;let c=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_setFixedWidth(o,e),e=_getAbsoluteWidth(o),c=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:d}=this.offsetParent,g=a?this.position.x:this.element.getBoundingClientRect().left;d&&e+g>d&&(e=d-g)}this.getWidth()!==e&&(c?(o.style.maxWidth="unset",o.style.minWidth="unset"):this.config.popup?_setFixedWidth(o,e):(o.style.width=`${e}px`,o.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,o=0){const{forcePopupParentAsOffsetParent:a}=this.config,c=a?this.boundaryEl:this.element;c&&(this.popupService.positionPopup({ePopup:c,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:o})}),this.setPosition(parseFloat(c.style.left),parseFloat(c.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const o=()=>{const a=this.getAvailableHeight();this.element.style.setProperty("max-height",`${a}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),o):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,o){this.position.x=e,this.position.y=o}updateDragStartPosition(e,o){this.dragStartPosition={x:e,y:o}}calculateMouseMovement(e){const{e:o,isLeft:a,isTop:c,anywhereWithin:d,topBuffer:g}=e,b=o.clientX-this.dragStartPosition.x,_=o.clientY-this.dragStartPosition.y,$=this.shouldSkipX(o,!!a,!!d,b)?0:b,j=this.shouldSkipY(o,!!c,g,_)?0:_;return{movementX:$,movementY:j}}shouldSkipX(e,o,a,c){const d=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),b=this.boundaryEl.getBoundingClientRect(),_=this.config.popup?this.position.x:d.left;let $=_<=0&&g.left>=e.clientX||g.right<=e.clientX&&g.right<=b.right;return $?!0:(o?$=c<0&&e.clientX>_+g.left||c>0&&e.clientX<_+g.left:a?$=c<0&&e.clientX>b.right||c>0&&e.clientX<_+g.left:$=c<0&&e.clientX>b.right||c>0&&e.clientX<b.right,$)}shouldSkipY(e,o,a=0,c){const d=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),b=this.boundaryEl.getBoundingClientRect(),_=this.config.popup?this.position.y:d.top;let $=_<=0&&g.top>=e.clientY||g.bottom<=e.clientY&&g.bottom<=b.bottom;return $?!0:(o?$=c<0&&e.clientY>_+g.top+a||c>0&&e.clientY<_+g.top:$=c<0&&e.clientY>b.bottom||c>0&&e.clientY<b.bottom,$)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const a=new DOMParser().parseFromString(RESIZE_TEMPLATE,"text/html").body;e.appendChild(a.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${RESIZE_CONTAINER_STYLE}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,o){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!o.match(/top/i),isRight:!!o.match(/right/i),isBottom:!!o.match(/bottom/i),isLeft:!!o.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[o].element.classList.add("ag-active");const{popup:a,forcePopupParentAsOffsetParent:c}=this.config;!a&&!c&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const o=this.element.parentElement;return o?Array.prototype.slice.call(o.children).filter(a=>!a.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let o=0,a=0;for(let c=0;c<e.length;c++){const d=e[c],g=!!d.style.flex&&d.style.flex!=="0 0 auto";if(d===this.element)continue;let b=this.minHeight||0,_=this.minWidth||0;if(g){const $=window.getComputedStyle(d);$.minHeight&&(b=parseInt($.minHeight,10)),$.minWidth&&(_=parseInt($.minWidth,10))}else b=d.offsetHeight,_=d.offsetWidth;o+=b,a+=_}return{height:o,width:a}}applySizeToSiblings(e){let o=null;const a=this.getSiblings();if(a){for(let c=0;c<a.length;c++){const d=a[c];d!==o&&(e?d.style.height=`${d.offsetHeight}px`:d.style.width=`${d.offsetWidth}px`,d.style.flex="0 0 auto",d===this.element&&(o=a[c+1]))}o&&(o.style.removeProperty("height"),o.style.removeProperty("min-height"),o.style.removeProperty("max-height"),o.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:o,forcePopupParentAsOffsetParent:a}=this.config,{isTop:c,isRight:d,isBottom:g,isLeft:b}=this.currentResizer,_=d||b,$=g||c,{movementX:j,movementY:rt}=this.calculateMouseMovement({e,isLeft:b,isTop:c}),nt=this.position.x,In=this.position.y;let xl=0,Ll=0;if(_&&j){const Nl=b?-1:1,_u=this.getWidth(),Yl=_u+j*Nl;let Ul=!1;b&&(xl=_u-Yl,(nt+xl<=0||Yl<=this.minWidth)&&(Ul=!0,xl=0)),Ul||this.setWidth(Yl)}if($&&rt){const Nl=c?-1:1,_u=this.getHeight(),Yl=_u+rt*Nl;let Ul=!1;c?(Ll=_u-Yl,(In+Ll<=0||Yl<=this.minHeight)&&(Ul=!0,Ll=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&_u<Yl&&this.getMinSizeOfSiblings().height+Yl>this.element.parentElement.offsetHeight&&(Ul=!0),Ul||this.setHeight(Yl)}this.updateDragStartPosition(e.clientX,e.clientY),((o||a)&&xl||Ll)&&this.offsetElement(nt+xl,In+Ll)}onResizeEnd(e,o){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[o].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:o,y:a}=this.position;let c;this.config.calculateTopBuffer&&(c=this.config.calculateTopBuffer());const{movementX:d,movementY:g}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:c});this.offsetElement(o+d,a+g),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},_ManagedFocusFeature=class uC extends BeanStub{constructor(o,a={}){super(),this.eFocusableElement=o,this.callbacks=a,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:c=>{if(c.defaultPrevented)return;const d=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,c.shiftKey);d&&(d.focus(),c.preventDefault())},...a}}wireBeans(o){this.focusService=o.focusService}postConstruct(){this.eFocusableElement.classList.add(uC.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(o){this.addManagedElementListeners(o,{keydown:a=>{if(!(a.defaultPrevented||_isStopPropagationForAgGrid(a))){if(this.callbacks.shouldStopEventPropagation(a)){_stopPropagationForAgGrid(a);return}a.key===KeyCode.TAB?this.callbacks.onTabKeyDown(a):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(a)}}})}};_ManagedFocusFeature.FOCUS_MANAGED_CLASS="ag-focus-managed";var ManagedFocusFeature=_ManagedFocusFeature,FILTER_LOCALE_TEXT={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function getDebounceMs(e,o){return isUseApplyButton(e)?(e.debounceMs!=null&&_warnOnce("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:o}function isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var ProvidedFilter=class extends Component{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=RefPlaceholder,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new PositionableFeature(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let o=this.getGui();o&&o.removeEventListener("submit",this.onFormSubmit);const a=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(a,this.getAgComponents(),e),o=this.getGui(),o&&o.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=isUseApplyButton(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,o){const{buttons:a,readOnly:c}=o??{},{buttons:d,readOnly:g}=e;if(c===g&&_jsonEquals(a,d))return;const b=d&&d.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(_clearElement(this.eButtonsPanel),this.buttonListeners.forEach(j=>j()),this.buttonListeners=[]):b&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!b){this.eButtonsPanel&&_removeFromParent(this.eButtonsPanel);return}const _=document.createDocumentFragment(),$=j=>{let rt,nt;switch(j){case"apply":rt=this.translate("applyFilter"),nt=Ll=>this.onBtApply(!1,!1,Ll);break;case"clear":rt=this.translate("clearFilter"),nt=()=>this.onBtClear();break;case"reset":rt=this.translate("resetFilter"),nt=()=>this.onBtReset();break;case"cancel":rt=this.translate("cancelFilter"),nt=Ll=>{this.onBtCancel(Ll)};break;default:_warnOnce("Unknown button type specified");return}const xl=_loadTemplate(`<button
                    type="${j==="apply"?"submit":"button"}"
                    data-ref="${j}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${rt}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(xl,{click:nt})),_.append(xl)};d.forEach(j=>$(j)),this.eButtonsPanel.append(_),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),o=_debounce(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,o()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,o){const a=()=>{this.onUiChanged(!1,"prevent"),o==null||o()};e!=null?this.setModelIntoUi(e).then(a):this.resetUiToDefaults().then(a)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const o=this.getModelFromUi();if(!this.isModelValid(o))return!1;const a=this.appliedModel;return this.appliedModel=o,!this.areModelsEqual(a,o)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,o=!1,a){a&&a.preventDefault(),this.applyModel(o?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:o,source:"columnFilter"});const{closeOnApply:c}=this.providedFilterParams;c&&this.applyActive&&!e&&!o&&this.close(a)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const o=e,a=o&&o.key;let c;(a==="Enter"||a==="Space")&&(c={keyboardEvent:o}),this.hidePopup(c),this.hidePopup=null}onUiChanged(e=!1,o){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const a=this.isModelValid(this.getModelFromUi()),c=this.queryForHtmlElement('[data-ref="applyFilterButton"]');c&&_setDisabled(c,!a)}e&&!o||o==="immediately"?this.onBtApply(e):(!this.applyActive&&!o||o==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const o=e==="floatingFilter"||e==="columnFilter",{positionableFeature:a,gos:c}=this;o?(a.restoreLastSize(),a.setResizable(c.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const o=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,o),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,FILTER_LOCALE_TEXT[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},AgRadioButton=class extends AgCheckbox{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},AgList=class extends Component{constructor(e="default",o=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=o,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const o=e.key;switch(o){case KeyCode.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const a=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(a)}break;case KeyCode.DOWN:case KeyCode.UP:e.preventDefault(),this.navigate(o);break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:e.preventDefault(),this.navigateToPage(o);break}}navigate(e){const o=e===KeyCode.DOWN;let a;if(!this.highlightedEl)a=this.itemEls[o?0:this.itemEls.length-1];else{let d=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);d=Math.min(Math.max(d,0),this.itemEls.length-1),a=this.itemEls[d]}this.highlightItem(a)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const o=this.itemEls.indexOf(this.highlightedEl),a=this.options.length-1,c=this.itemEls[0].clientHeight,d=Math.floor(this.getGui().clientHeight/c);let g=-1;e===KeyCode.PAGE_HOME?g=0:e===KeyCode.PAGE_END?g=a:e===KeyCode.PAGE_DOWN?g=Math.min(o+d,a):e===KeyCode.PAGE_UP&&(g=Math.max(o-d,0)),g!==-1&&this.highlightItem(this.itemEls[g])}addOptions(e){return e.forEach(o=>this.addOption(o)),this}addOption(e){const{value:o,text:a}=e,c=a||o;return this.options.push({value:o,text:c}),this.renderOption(o,c),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{_removeFromParent(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((o,a)=>{_setAriaPosInSet(o,a+1),_setAriaSetSize(o,e.length)})}renderOption(e,o){const a=_getDocument(this.gos),c=a.createElement("div");_setAriaRole(c,"option"),c.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const d=a.createElement("span");c.appendChild(d),d.textContent=o,this.unFocusable||(c.tabIndex=-1),this.itemEls.push(c),this.addManagedListeners(c,{mouseover:()=>this.highlightItem(c),mousedown:g=>{g.preventDefault(),g.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new TooltipFeature({getTooltipValue:()=>o,getGui:()=>c,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>d.scrollWidth>d.clientWidth})),this.getGui().appendChild(c)}setValue(e,o){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(o),this;const a=this.options.findIndex(c=>c.value===e);if(a!==-1){const c=this.options[a];this.value=c.value,this.displayValue=c.text,this.highlightItem(this.itemEls[a]),o||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(o=>o.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!_isVisible(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),_setAriaSelected(this.highlightedEl,!0);const o=this.getGui(),{scrollTop:a,clientHeight:c}=o,{offsetTop:d,offsetHeight:g}=e;(d+g>a+c||d<a)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!_isVisible(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),_setAriaSelected(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},AgPickerField=class extends AgAbstractField{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=RefPlaceholder,this.eWrapper=RefPlaceholder,this.eDisplayField=RefPlaceholder,this.eIcon=RefPlaceholder,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:o,maxPickerHeight:a,variableWidth:c,minPickerWidth:d,maxPickerWidth:g}=e;o!=null&&(this.pickerGap=o),this.variableWidth=!!c,a!=null&&this.setPickerMaxHeight(a),d!=null&&this.setPickerMinWidth(d),g!=null&&this.setPickerMaxWidth(g)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const o=this.getAriaElement();this.addManagedElementListeners(o,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:a,inputWidth:c}=this.config;if(a){const d=_createIconNoSpan(a,this.gos);d&&this.eIcon.appendChild(d)}c!=null&&this.setInputWidth(c)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),_setAriaExpanded(e,!1),this.ariaRole&&_setAriaRole(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const o=this.getFocusableElement();if(o!==this.eWrapper&&(e==null?void 0:e.target)===o)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.ENTER:case KeyCode.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case KeyCode.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const o=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:a,pickerAriaLabelValue:c,modalPicker:d=!0}=this.config,g={modal:d,eChild:e,closeOnEsc:!0,closedCallback:()=>{const In=_isNothingFocused(this.gos);this.beforeHidePicker(),In&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:o(a,c),anchorToElement:this.eWrapper};e.style.position="absolute";const b=this.popupService.addPopup(g),{maxPickerHeight:_,minPickerWidth:$,maxPickerWidth:j,variableWidth:rt}=this;rt?($&&(e.style.minWidth=$),e.style.width=_formatSize(_getAbsoluteWidth(this.eWrapper)),j&&(e.style.maxWidth=j)):_setElementWidth(e,j??_getAbsoluteWidth(this.eWrapper));const nt=_??`${_getInnerHeight(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",nt),this.alignPickerToComponent(),b.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:o}=this,a=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:a,keepWithinBounds:!0,nudgeY:o})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const o=this.getAriaElement();_setAriaExpanded(o,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var o;(o=this.pickerComponent)!=null&&o.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return _setElementWidth(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},AgSelect=class extends AgPickerField{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:o,placeholder:a}=this.config;e!=null&&this.addOptions(e),o!=null&&this.setValue(o,!0),a&&o==null&&(this.eDisplayField.textContent=a),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new AgList("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),o=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",o),_setAriaControls(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var a;const{key:o}=e;switch(o===KeyCode.TAB&&this.hidePicker(),o){case KeyCode.ENTER:case KeyCode.UP:case KeyCode.DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(a=this.listComponent)==null||a.handleKeyDown(e):super.onKeyDown(e);break;case KeyCode.ESCAPE:super.onKeyDown(e);break;case KeyCode.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(o=>this.addOption(o)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,o,a){if(this.value===e||!this.listComponent)return this;if(a||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let d=this.listComponent.getDisplayValue();return d==null&&this.config.placeholder&&(d=this.config.placeholder),this.eDisplayField.textContent=d,this.setTooltip({newTooltipText:d??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,o)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},AgSelectSelector={selector:"AG-SELECT",component:AgSelect},OptionsFactory=class{constructor(){this.customFilterOptions={}}init(e,o){this.filterOptions=e.filterOptions||o,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const o=[["displayKey"],["displayName"],["predicate","test"]],a=c=>c.some(d=>e[d]!=null)?!0:(_warnOnce(`ignoring FilterOptionDef as it doesn't contain one of '${c}'`),!1);if(!o.every(a)){this.filterOptions=this.filterOptions.filter(c=>c===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const o=this.filterOptions[0];typeof o=="string"?this.defaultOption=o:o.displayKey?this.defaultOption=o.displayKey:_warnOnce("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else _warnOnce("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},SimpleFilter=class extends ProvidedFilter{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const o=this.optionsFactory.getCustomOption(e);if(o){const{numberOfInputs:c}=o;return c??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,o){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(o),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((o,a)=>{a===0?o.setValue(e,!0):o.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,o){if(!e&&!o)return!0;if(!e&&o||e&&!o)return!1;const a=!e.operator,c=!o.operator;if(!a&&c||a&&!c)return!1;let g;if(a){const b=e,_=o;g=this.areSimpleModelsEqual(b,_)}else{const b=e,_=o;g=b.operator===_.operator&&_areEqual(b.conditions,_.conditions,($,j)=>this.areSimpleModelsEqual($,j))}return g}shouldRefresh(e){var g;const o=this.getModel(),a=o?o.conditions??[o]:null,c=((g=e.filterOptions)==null?void 0:g.map(b=>typeof b=="string"?b:b.displayKey))??this.getDefaultFilterOptions();return!(!(!a||a.every(b=>c.find(_=>_===b.type)!==void 0))||typeof e.maxNumConditions=="number"&&a&&a.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const a=e;let c=a.conditions;c==null&&(c=[],_warnOnce("Filter model is missing 'conditions'"));const d=this.validateAndUpdateConditions(c),g=this.getNumConditions();if(d<g)this.removeConditionsAndOperators(d);else if(d>g)for(let _=g;_<d;_++)this.createJoinOperatorPanel(),this.createOption();const b=a.operator==="OR";this.eJoinOperatorsAnd.forEach(_=>_.setValue(!b,!0)),this.eJoinOperatorsOr.forEach(_=>_.setValue(b,!0)),c.forEach((_,$)=>{this.eTypes[$].setValue(_.type,!0),this.setConditionIntoUi(_,$)})}else{const a=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(a.type,!0),this.setConditionIntoUi(a,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),AgPromise.resolve()}validateAndUpdateConditions(e){let o=e.length;return o>this.maxNumConditions&&(e.splice(this.maxNumConditions),_warnOnce('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),o=this.maxNumConditions),o}doesFilterPass(e){const o=this.getModel();if(o==null)return!0;const{operator:a}=o,c=[];if(a){const g=o;c.push(...g.conditions??[])}else c.push(o);return c[a&&a==="OR"?"some":"every"](g=>this.individualConditionPasses(e,g))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new OptionsFactory,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(_warnOnce('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(_warnOnce('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(_warnOnce('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new AgSelect);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const o=this.createValueElement();this.eConditionBodies.push(o),this.eFilterBody.appendChild(o),this.putOptionsIntoDropdown(e),this.resetType(e);const a=this.getNumConditions()-1;this.forEachPositionInput(a,c=>this.resetInput(c)),this.addChangedListeners(e,a)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const o=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),a=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const c=this.eJoinOperatorPanels.length-1,d=this.joinOperatorId++;this.resetJoinOperatorAnd(o,c,d),this.resetJoinOperatorOr(a,c,d),this.isReadOnly()||(o.onValueChange(this.listener),a.onValueChange(this.listener))}createJoinOperator(e,o,a){const c=this.createManagedBean(new AgRadioButton);return e.push(c),c.addCssClass("ag-filter-condition-operator"),c.addCssClass(`ag-filter-condition-operator-${a}`),o.appendChild(c.getGui()),c}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(o=>typeof o=="string"?this.createBoilerplateListOption(o):this.createCustomListOption(o))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(o=>{e.addOption(o)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:o}=e,a=this.optionsFactory.getCustomOption(e.displayKey);return{value:o,text:a?this.localeService.getLocaleTextFunc()(a.displayKey,a.displayName):this.translate(o)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,o=!0;for(let a=0;a<this.getNumConditions();a++)this.isConditionUiComplete(a)?e=a:o=!1;if(this.shouldAddNewConditionAtEnd(o))this.createJoinOperatorPanel(),this.createOption();else{const a=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<a){this.removeConditionsAndOperators(a+1);const c=e+1,d=a-c;d>0&&this.removeConditionsAndOperators(c,d),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,o){this.eTypes.forEach((c,d)=>{const g=this.isConditionDisabled(d,e);c.setDisabled(g||this.filterListOptions.length<=1),d===1&&(_setDisabled(this.eJoinOperatorPanels[0],g),this.eJoinOperatorsAnd[0].setDisabled(g),this.eJoinOperatorsOr[0].setDisabled(g))}),this.eConditionBodies.forEach((c,d)=>{_setDisplayed(c,this.isConditionBodyVisible(d))});const a=(o??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(c=>{c.setValue(!a,!0)}),this.eJoinOperatorsOr.forEach(c=>{c.setValue(a,!0)}),this.forEachInput((c,d,g,b)=>{this.setElementDisplayed(c,d<b),this.setElementDisabled(c,this.isConditionDisabled(g,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,o){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,o),this.removeElements(this.eConditionBodies,e,o),this.removeValueElements(e,o);const a=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,a,o),this.removeComponents(this.eJoinOperatorsAnd,a,o),this.removeComponents(this.eJoinOperatorsOr,a,o)}removeElements(e,o,a){this.removeItems(e,o,a).forEach(d=>_removeFromParent(d))}removeComponents(e,o,a){this.removeItems(e,o,a).forEach(d=>{_removeFromParent(d.getGui()),this.destroyBean(d)})}removeItems(e,o,a){return a==null?e.splice(o):e.splice(o,a)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const o=this.getInputs(0)[0];if(!o)return;o instanceof AgAbstractInputField&&o.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let o=-1,a=-1,c=!1;const d=this.getJoinOperator();for(let b=this.getNumConditions()-1;b>=0;b--)if(this.isConditionUiComplete(b))o===-1&&(o=b,a=b);else{const _=b>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(b-1),$=b<o;(_||$)&&(this.removeConditionsAndOperators(b,1),c=!0,$&&a--)}let g=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),g=!0),this.shouldAddNewConditionAtEnd(a===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),g=!0),g&&this.updateConditionStatusesAndValues(a,d),c&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=a}getPlaceholderText(e,o){let a=this.translate(e);if(_isFunction(this.filterPlaceholder)){const c=this.filterPlaceholder,d=this.eTypes[o].getValue(),g=this.translate(d);a=c({filterOptionKey:d,filterOption:g,placeholder:a})}else typeof this.filterPlaceholder=="string"&&(a=this.filterPlaceholder);return a}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((o,a,c,d)=>{if(!(o instanceof AgAbstractInputField))return;const g=a===0&&d>1?"inRangeStart":a===0?"filterOoo":"inRangeEnd",b=a===0&&d>1?e("ariaFilterFromValue","Filter from value"):a===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");o.setInputPlaceholder(this.getPlaceholderText(g,c)),o.setInputAriaLabel(b)})}setElementValue(e,o,a){e instanceof AgAbstractInputField&&e.setValue(o!=null?String(o):null,!0)}setElementDisplayed(e,o){e instanceof Component&&_setDisplayed(e.getGui(),o)}setElementDisabled(e,o){e instanceof Component&&_setDisabled(e.getGui(),o)}attachElementOnChange(e,o){e instanceof AgAbstractInputField&&e.onValueChange(o)}forEachInput(e){this.getConditionTypes().forEach((o,a)=>{this.forEachPositionTypeInput(a,o,e)})}forEachPositionInput(e,o){const a=this.getConditionType(e);this.forEachPositionTypeInput(e,a,o)}forEachPositionTypeInput(e,o,a){const c=this.getNumberOfInputs(o),d=this.getInputs(e);for(let g=0;g<d.length;g++){const b=d[g];b!=null&&a(b,g,e,c)}}isConditionDisabled(e,o){return this.isReadOnly()?!0:e===0?!1:e>o+1}isConditionBodyVisible(e){const o=this.getConditionType(e);return this.getNumberOfInputs(o)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(a=>a==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)&&e.push(this.createCondition(o));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(o=>this.resetType(o)),this.eJoinOperatorsAnd.forEach((o,a)=>this.resetJoinOperatorAnd(o,a,this.joinOperatorId+a)),this.eJoinOperatorsOr.forEach((o,a)=>this.resetJoinOperatorOr(o,a,this.joinOperatorId+a)),this.joinOperatorId++,this.forEachInput(o=>this.resetInput(o)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),AgPromise.resolve()}resetType(e){const a=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(a).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,o,a){this.resetJoinOperator(e,o,this.isDefaultOperator("AND"),this.translate("andCondition"),a)}resetJoinOperatorOr(e,o,a){this.resetJoinOperator(e,o,this.isDefaultOperator("OR"),this.translate("orCondition"),a)}resetJoinOperator(e,o,a,c,d){this.updateJoinOperatorDisabled(e.setValue(a,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${d}`).setLabel(c),o)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,o)=>this.updateJoinOperatorDisabled(e,o)),this.eJoinOperatorsOr.forEach((e,o)=>this.updateJoinOperatorDisabled(e,o))}updateJoinOperatorDisabled(e,o){e.setDisabled(this.isReadOnly()||o>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,o){const a=this.mapValuesFromModel(e);this.forEachInput((c,d,g)=>{g===o&&this.setElementValue(c,a[d]!=null?a[d]:null)})}setValueFromFloatingFilter(e){this.forEachInput((o,a,c)=>{this.setElementValue(o,a===0&&c===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,o){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(o,a=>{this.attachElementOnChange(a,this.listener)}))}individualConditionPasses(e,o){const a=this.getCellValue(e.node),c=this.mapValuesFromModel(o),d=this.optionsFactory.getCustomOption(o.type),g=this.evaluateCustomFilter(d,c,a);return g??(a==null?this.evaluateNullValue(o.type):this.evaluateNonNullValue(c,a,o,e))}evaluateCustomFilter(e,o,a){if(e==null)return;const{predicate:c}=e;if(c!=null&&!o.some(d=>d==null))return c(o,a)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},ScalarFilter=class extends SimpleFilter{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,o,a){const c=this.comparator(),d=e[0]!=null?c(e[0],o):0;switch(a.type){case"equals":return d===0;case"notEqual":return d!==0;case"greaterThan":return d>0;case"greaterThanOrEqual":return d>=0;case"lessThan":return d<0;case"lessThanOrEqual":return d<=0;case"inRange":{const g=c(e[1],o);return this.scalarFilterParams.inRangeInclusive?d>=0&&g<=0:d>0&&g<0}case"blank":return this.isBlank(o);case"notBlank":return!this.isBlank(o);default:return _warnOnce('Unexpected type of filter "'+a.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},A_KEYCODE=65,C_KEYCODE=67,V_KEYCODE=86,D_KEYCODE=68,Z_KEYCODE=90,Y_KEYCODE=89;function _isEventFromPrintableCharacter(e){var a;return e.altKey||e.ctrlKey||e.metaKey?!1:((a=e.key)==null?void 0:a.length)===1}function _isUserSuppressingKeyboardEvent(e,o,a,c,d){const g=c?c.getColDef().suppressKeyboardEvent:void 0;if(!g)return!1;const b=e.addGridCommonParams({event:o,editing:d,column:c,node:a,data:a.data,colDef:c.getColDef()});return!!(g&&g(b))}function _isUserSuppressingHeaderKeyboardEvent(e,o,a,c){const d=c.getDefinition(),g=d&&d.suppressHeaderKeyboardEvent;if(!_exists(g))return!1;const b=e.addGridCommonParams({colDef:d,column:c,headerRowIndex:a,event:o});return!!g(b)}function _normaliseQwertyAzerty(e){const{keyCode:o}=e;let a;switch(o){case A_KEYCODE:a=KeyCode.A;break;case C_KEYCODE:a=KeyCode.C;break;case V_KEYCODE:a=KeyCode.V;break;case D_KEYCODE:a=KeyCode.D;break;case Z_KEYCODE:a=KeyCode.Z;break;case Y_KEYCODE:a=KeyCode.Y;break;default:a=e.code}return a}function _isDeleteKey(e,o=!1){return e===KeyCode.DELETE?!0:!o&&e===KeyCode.BACKSPACE?_isMacOsUserAgent():!1}var AgInputTextField=class extends AgAbstractInputField{constructor(e,o="ag-text-field",a="text"){super(e,o,a)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,o){return this.eInput.value!==e&&(this.eInput.value=_exists(e)?e:""),super.setValue(e,o)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),o=a=>{_isEventFromPrintableCharacter(a)&&a.key&&!e.test(a.key)&&a.preventDefault()};this.addManagedListeners(this.eInput,{keydown:o,paste:a=>{var d;const c=(d=a.clipboardData)==null?void 0:d.getData("text");c&&c.split("").some(g=>!e.test(g))&&a.preventDefault()}})}},AgInputTextFieldSelector={selector:"AG-INPUT-TEXT-FIELD",component:AgInputTextField},AgInputNumberField=class extends AgInputTextField{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const d=parseFloat(this.eInput.value),g=isNaN(d)?"":this.normalizeValue(d.toString());this.value!==g&&this.setValue(g)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:o,max:a,step:c}=this.config;typeof e=="number"&&this.setPrecision(e),typeof o=="number"&&this.setMin(o),typeof a=="number"&&this.setMax(a),typeof c=="number"&&this.setStep(c)}onWheel(e){_getActiveDomElement(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const o=parseFloat(e);return this.min!=null&&o<this.min?e=this.min.toString():this.max!=null&&o>this.max&&(e=this.max.toString()),e}adjustPrecision(e,o){if(this.precision==null)return e;if(o){const c=parseFloat(e).toFixed(this.precision);return parseFloat(c).toString()}const a=String(e).split(".");if(a.length>1){if(a[1].length<=this.precision)return e;if(this.precision>0)return`${a[0]}.${a[1].slice(0,this.precision)}`}return a[0]}setMin(e){return this.min===e?this:(this.min=e,_addOrRemoveAttribute(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,_addOrRemoveAttribute(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,_addOrRemoveAttribute(this.eInput,"step",e),this)}setValue(e,o){return this.setValueOrInputValue(a=>super.setValue(a,o),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(o=>super.setValue(o,!0),o=>{this.eInput.value=o},e)}setValueOrInputValue(e,o,a){if(_exists(a)){let c=this.isScientificNotation(a);if(c&&this.eInput.validity.valid)return e(a);if(!c){a=this.adjustPrecision(a);const d=this.normalizeValue(a);c=a!=d}if(c)return o(a)}return e(a)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},AgInputNumberFieldSelector={selector:"AG-INPUT-NUMBER-FIELD",component:AgInputNumberField},DEFAULT_NUMBER_FILTER_OPTIONS=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],SimpleFilterModelFormatter=class{constructor(e,o,a){this.localeService=e,this.optionsFactory=o,this.valueFormatter=a}getModelAsString(e){if(!e)return null;const o=e.operator!=null,a=this.localeService.getLocaleTextFunc();if(o){const c=e,g=(c.conditions??[]).map(_=>this.getModelAsString(_)),b=c.operator==="AND"?"andCondition":"orCondition";return g.join(` ${a(b,FILTER_LOCALE_TEXT[b])} `)}else{if(e.type==="blank"||e.type==="notBlank")return a(e.type,e.type);{const c=e,d=this.optionsFactory.getCustomOption(c.type),{displayKey:g,displayName:b,numberOfInputs:_}=d||{};return g&&b&&_===0?(a(g,b),b):this.conditionToString(c,d)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},NumberFilterModelFormatter=class extends SimpleFilterModelFormatter{conditionToString(e,o){const{numberOfInputs:a}=o||{};return e.type=="inRange"||a===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function getAllowedCharPattern(e){const{allowedCharPattern:o}=e??{};return o??null}var NumberFilter=class extends ScalarFilter{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:o,filterTo:a,type:c}=e||{};return[this.processValue(o),this.processValue(a)].slice(0,this.getNumberOfInputs(c))}getDefaultDebounceMs(){return 500}comparator(){return(e,o)=>e===o?0:e<o?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new NumberFilterModelFormatter(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return DEFAULT_NUMBER_FILTER_OPTIONS}setElementValue(e,o,a){const c=!a&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(o??null):o;super.setElementValue(e,c)}createValueElement(){const e=getAllowedCharPattern(this.numberFilterParams),o=document.createElement("div");return o.classList.add("ag-filter-body"),_setAriaRole(o,"presentation"),this.createFromToElement(o,this.eValuesFrom,"from",e),this.createFromToElement(o,this.eValuesTo,"to",e),o}createFromToElement(e,o,a,c){const d=this.createManagedBean(c?new AgInputTextField({allowedCharPattern:c}):new AgInputNumberField);d.addCssClass(`ag-filter-${a}`),d.addCssClass("ag-filter-filter"),o.push(d),e.appendChild(d.getGui())}removeValueElements(e,o){this.removeComponents(this.eValuesFrom,e,o),this.removeComponents(this.eValuesTo,e,o)}getValues(e){const o=[];return this.forEachPositionInput(e,(a,c,d,g)=>{c<g&&o.push(this.processValue(this.stringToFloat(a.getValue())))}),o}areSimpleModelsEqual(e,o){return e.filter===o.filter&&e.filterTo===o.filterTo&&e.type===o.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let o=_makeNull(e);return o!=null&&o.trim()===""&&(o=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(o):o==null||o.trim()==="-"?null:parseFloat(o)}createCondition(e){const o=this.getConditionType(e),a={filterType:this.getFilterType(),type:o},c=this.getValues(e);return c.length>0&&(a.filter=c[0]),c.length>1&&(a.filterTo=c[1]),a}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(o=>{if(!o.getInputElement().validity.valid){e=!0;return}}),e}},DEFAULT_TEXT_FILTER_OPTIONS=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],TextFilterModelFormatter=class extends SimpleFilterModelFormatter{conditionToString(e,o){const{numberOfInputs:a}=o||{};return e.type=="inRange"||a===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function trimInputForFilter(e){const o=e&&e.trim();return o===""?e:o}var TextFilter=class extends SimpleFilter{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:o,filterText:a})=>{if(a==null)return!1;switch(e){case"contains":return o.indexOf(a)>=0;case"notContains":return o.indexOf(a)<0;case"equals":return o===a;case"notEqual":return o!=a;case"startsWith":return o.indexOf(a)===0;case"endsWith":{const c=o.lastIndexOf(a);return c>=0&&c===o.length-a.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new TextFilterModelFormatter(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(_warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:o,value:a,filterText:c})=>e(o,a,c)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const o=this.getConditionType(e),a={filterType:this.getFilterType(),type:o},c=this.getValuesWithSideEffects(e,!0);return c.length>0&&(a.filter=c[0]),c.length>1&&(a.filterTo=c[1]),a}getFilterType(){return"text"}areSimpleModelsEqual(e,o){return e.filter===o.filter&&e.filterTo===o.filterTo&&e.type===o.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,o){const a=[];return this.forEachPositionInput(e,(c,d,g,b)=>{if(d<b){let _=_makeNull(c.getValue());o&&this.textFilterParams.trimInput&&(_=trimInputForFilter(_)??null,c.setValue(_,!0)),a.push(_)}}),a}getDefaultFilterOptions(){return DEFAULT_TEXT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),_setAriaRole(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,o,a){const c=this.createManagedBean(new AgInputTextField);c.addCssClass(`ag-filter-${a}`),c.addCssClass("ag-filter-filter"),o.push(c),e.appendChild(c.getGui())}removeValueElements(e,o){this.removeComponents(this.eValuesFrom,e,o),this.removeComponents(this.eValuesTo,e,o)}mapValuesFromModel(e){const{filter:o,filterTo:a,type:c}=e||{};return[o||null,a||null].slice(0,this.getNumberOfInputs(c))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,o,a,c){const d=e.map(In=>this.formatter(In))||[],g=this.formatter(o),{api:b,colDef:_,column:$,context:j,textFormatter:rt}=this.textFilterParams;if(a.type==="blank")return this.isBlank(o);if(a.type==="notBlank")return!this.isBlank(o);const nt={api:b,colDef:_,column:$,context:j,node:c.node,data:c.data,filterOption:a.type,value:g,textFormatter:rt};return d.some(In=>this.matcher({...nt,filterText:In}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function toNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const o=parseInt(e);return isNaN(o)?void 0:o}}function toConstrainedNum(e,o=Number.MAX_VALUE){return a=>{const c=toNumber(a);if(!(c==null||c<e||c>o))return c}}function _padStartWidthZeros(e,o){return e.toString().padStart(o,"0")}function _createArrayOfNumbers(e,o){const a=[];for(let c=e;c<=o;c++)a.push(c);return a}function _formatNumberTwoDecimalPlacesAndCommas(e,o,a){return typeof e!="number"?"":_formatNumberCommas(Math.round(e*100)/100,o,a)}function _formatNumberCommas(e,o,a){return typeof e!="number"?"":e.toString().replace(".",a).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${o}`)}function _serialiseDate(e,o=!0,a="-"){if(!e)return null;let c=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(d=>_padStartWidthZeros(d,2)).join(a);return o&&(c+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(d=>_padStartWidthZeros(d,2)).join(":")),c}var calculateOrdinal=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function _dateToFormattedString(e,o="YYYY-MM-DD"){const a=_padStartWidthZeros(e.getFullYear(),4),c=["January","February","March","April","May","June","July","August","September","October","November","December"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g={YYYY:()=>a.slice(a.length-4,a.length),YY:()=>a.slice(a.length-2,a.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>c[e.getMonth()],MMM:()=>c[e.getMonth()].slice(0,3),MM:()=>_padStartWidthZeros(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${calculateOrdinal(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${calculateOrdinal(e.getDate())}`,DD:()=>_padStartWidthZeros(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>d[e.getDay()],ddd:()=>d[e.getDay()].slice(0,3),dd:()=>d[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${calculateOrdinal(e.getDay())}`,d:()=>`${e.getDay()}`},b=new RegExp(Object.keys(g).join("|"),"g");return o.replace(b,_=>_ in g?g[_]():_)}function _parseDateTimeFromString(e){if(!e)return null;const[o,a]=e.split(" ");if(!o)return null;const c=o.split("-").map(nt=>parseInt(nt,10));if(c.filter(nt=>!isNaN(nt)).length!==3)return null;const[d,g,b]=c,_=new Date(d,g-1,b);if(_.getFullYear()!==d||_.getMonth()!==g-1||_.getDate()!==b)return null;if(!a||a==="00:00:00")return _;const[$,j,rt]=a.split(":").map(nt=>parseInt(nt,10));return $>=0&&$<24&&_.setHours($),j>=0&&j<60&&_.setMinutes(j),rt>=0&&rt<60&&_.setSeconds(rt),_}var DateCompWrapper=class{constructor(e,o,a,c,d){this.alive=!0,this.context=e,this.eParent=c,o.getDateCompDetails(a).newAgStackInstance().then(_=>{if(!this.alive){e.destroyBean(_);return}this.dateComp=_,_&&(c.appendChild(_.getGui()),_.afterGuiAttached&&_.afterGuiAttached(),this.tempValue&&_.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),d==null||d(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){_setDisplayed(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var a,c;let o=!1;(a=this.dateComp)!=null&&a.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(o=!0),!o&&((c=this.dateComp)!=null&&c.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&_warnOnce("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},DEFAULT_DATE_FILTER_OPTIONS=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],DateFilterModelFormatter=class extends SimpleFilterModelFormatter{constructor(e,o,a){super(o,a),this.dateFilterParams=e}conditionToString(e,o){const{type:a}=e,{numberOfInputs:c}=o||{},d=a=="inRange"||c===2,g=_parseDateTimeFromString(e.dateFrom),b=_parseDateTimeFromString(e.dateTo),_=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(d){const $=g!==null?_dateToFormattedString(g,_):"null",j=b!==null?_dateToFormattedString(b,_):"null";return`${$}-${j}`}return g!=null?_dateToFormattedString(g,_):`${a}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},DEFAULT_MIN_YEAR=1e3,DEFAULT_MAX_YEAR=1/0,DateFilter=class extends ScalarFilter{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=DEFAULT_MIN_YEAR,this.maxValidYear=DEFAULT_MAX_YEAR,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:o,dateTo:a,type:c}=e||{};return[o&&_parseDateTimeFromString(o)||null,a&&_parseDateTimeFromString(a)||null].slice(0,this.getNumberOfInputs(c))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,o){const a=o;return o==null||a<e?-1:a>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const o=(a,c)=>{if(e[a]!=null)if(isNaN(e[a]))_warnOnce(`DateFilter ${a} is not a number`);else return e[a]==null?c:Number(e[a]);return c};this.minValidYear=o("minValidYear",DEFAULT_MIN_YEAR),this.maxValidYear=o("maxValidYear",DEFAULT_MAX_YEAR),this.minValidYear>this.maxValidYear&&_warnOnce("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:_parseDateTimeFromString(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:_parseDateTimeFromString(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&_warnOnce("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new DateFilterModelFormatter(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const o=new DateCompWrapper(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,o){e.setDate(o)}setElementDisplayed(e,o){e.setDisplayed(o)}setElementDisabled(e,o){e.setDisabled(o)}getDefaultFilterOptions(){return DEFAULT_DATE_FILTER_OPTIONS}createValueElement(){const o=_getDocument(this.gos).createElement("div");return o.classList.add("ag-filter-body"),this.createFromToElement(o,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(o,this.eConditionPanelsTo,this.dateConditionToComps,"to"),o}createFromToElement(e,o,a,c){const g=_getDocument(this.gos).createElement("div");g.classList.add(`ag-filter-${c}`),g.classList.add(`ag-filter-date-${c}`),o.push(g),e.appendChild(g),a.push(this.createDateCompWrapper(g))}removeValueElements(e,o){this.removeDateComps(this.dateConditionFromComps,e,o),this.removeDateComps(this.dateConditionToComps,e,o),this.removeItems(this.eConditionPanelsFrom,e,o),this.removeItems(this.eConditionPanelsTo,e,o)}removeDateComps(e,o,a){this.removeItems(e,o,a).forEach(d=>d.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let o=!0;return this.forEachInput((a,c,d,g)=>{d!==e||!o||c>=g||(o=o&&this.isValidDateValue(a.getDate()))}),o}areSimpleModelsEqual(e,o){return e.dateFrom===o.dateFrom&&e.dateTo===o.dateTo&&e.type===o.type}getFilterType(){return"date"}createCondition(e){const o=this.getConditionType(e),a={},c=this.getValues(e);return c.length>0&&(a.dateFrom=_serialiseDate(c[0])),c.length>1&&(a.dateTo=_serialiseDate(c[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:o,...a}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),o=this.translate("dateFormatOoo"),a=e("ariaFilterValue","Filter Value");this.forEachInput(c=>{c.setInputPlaceholder(o),c.setInputAriaLabel(a)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const o=[];return this.forEachPositionInput(e,(a,c,d,g)=>{c<g&&o.push(a.getDate())}),o}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},SetLeftFeature=class extends BeanStub{constructor(e,o,a,c){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=o,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=c,this.beans=a}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?_last(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),o=_exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&o&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),o=e.getLeft(),a=e.getOldLeft(),c=this.modifyLeftForPrintLayout(e,a),d=this.modifyLeftForPrintLayout(e,o);this.setLeft(c),this.actualLeft=d,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===d&&this.setLeft(d)})}onLeftChanged(){const e=this.getColumnOrGroup(),o=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,o),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,o){if(!_isDomLayout(this.beans.gos,"print")||e.getPinned()==="left")return o;const c=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const d=this.beans.visibleColsService.getBodyContainerWidth();return c+d+o}return c+o}setLeft(e){if(_exists(e)&&(this.eCell.style.left=`${e}px`),isColumnGroup(this.columnOrGroup)){const o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&_setAriaColSpan(this.ariaEl,o.length)}}},CSS_FIRST_COLUMN="ag-column-first",CSS_LAST_COLUMN="ag-column-last";function _getHeaderClassesFromColDef(e,o,a,c){return _missing(e)?[]:getColumnClassesFromCollDef(e.headerClass,e,o,a,c)}function _getToolPanelClassesFromColDef(e,o,a,c){return _missing(e)?[]:getColumnClassesFromCollDef(e.toolPanelClass,e,o,a,c)}function refreshFirstAndLastStyles(e,o,a){e.addOrRemoveCssClass(CSS_FIRST_COLUMN,a.isColAtEdge(o,"first")),e.addOrRemoveCssClass(CSS_LAST_COLUMN,a.isColAtEdge(o,"last"))}function getClassParams(e,o,a,c){return o.addGridCommonParams({colDef:e,column:a,columnGroup:c})}function getColumnClassesFromCollDef(e,o,a,c,d){if(_missing(e))return[];let g;if(typeof e=="function"){const b=getClassParams(o,a,c,d);g=e(b)}else g=e;return typeof g=="string"?[g]:Array.isArray(g)?[...g]:[]}var instanceIdSequence2=0,_AbstractHeaderCellCtrl=class cC extends BeanStub{constructor(o,a,c){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=o,this.parentRowCtrl=c,this.beans=a,this.instanceId=o.getUniqueId()+"-"+instanceIdSequence2++}wireBeans(o){this.pinnedWidthService=o.pinnedWidthService,this.focusService=o.focusService,this.userComponentFactory=o.userComponentFactory,this.ctrlsService=o.ctrlsService,this.dragAndDropService=o.dragAndDropService,this.menuService=o.menuService}postConstruct(){const o=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],o),this.addManagedEventListeners({overlayExclusiveChanged:o})}shouldStopEventPropagation(o){const{headerRowIndex:a,column:c}=this.focusService.getFocusedHeader();return _isUserSuppressingHeaderKeyboardEvent(this.gos,o,a,c)}getWrapperHasFocus(){return _getActiveDomElement(this.gos)===this.eGui}setGui(o,a){this.eGui=o,this.addDomData(a),a.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),a.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(o){const{wrapperElement:a,checkMeasuringCallback:c,compBean:d}=o,{animationFrameService:g,resizeObserverService:b,columnModel:_,gos:$}=this.beans,j=Nl=>{if(!this.isAlive()||!d.isAlive())return;const{paddingTop:_u,paddingBottom:Yl,borderBottomWidth:Ul,borderTopWidth:Dl}=_getElementSize(this.getGui()),Zl=_u+Yl+Ul+Dl,Uu=a.offsetHeight+Zl;if(Nl<5){const fp=_getDocument($),Zu=!fp||!fp.contains(a),Lp=Uu==0;if(Zu||Lp){g.requestAnimationFrame(()=>j(Nl+1));return}}_.setColHeaderHeight(this.column,Uu)};let rt=!1,nt;const In=()=>{const Nl=this.column.isAutoHeaderHeight();Nl&&!rt&&xl(),!Nl&&rt&&Ll()},xl=()=>{rt=!0,j(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),nt=b.observeResize(a,()=>j(0))},Ll=()=>{rt=!1,nt&&nt(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),nt=void 0};In(),d.addDestroyFunc(()=>Ll()),d.addManagedListeners(this.column,{widthChanged:()=>rt&&j(0)}),d.addManagedEventListeners({sortChanged:()=>{rt&&window.setTimeout(()=>j(0))}}),c&&c(In)}onDisplayedColumnsChanged(){const{comp:o,column:a,beans:c,eGui:d}=this;!o||!a||!d||(refreshFirstAndLastStyles(o,a,c.visibleColsService),_setAriaColIndex(d,c.visibleColsService.getAriaColIndex(a)))}addResizeAndMoveKeyboardListeners(o){this.resizeFeature&&o.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const o=this.focusService.isHeaderFocusSuppressed();this.eGui&&_addOrRemoveAttribute(this.eGui,"tabindex",o?null:"-1")}onGuiKeyDown(o){var b;const a=_getActiveDomElement(this.gos),c=o.key===KeyCode.LEFT||o.key===KeyCode.RIGHT;if(this.isResizing&&(o.preventDefault(),o.stopImmediatePropagation()),a!==this.eGui||!o.shiftKey&&!o.altKey||((this.isResizing||c)&&(o.preventDefault(),o.stopImmediatePropagation()),!c))return;const d=o.key===KeyCode.LEFT!==this.gos.get("enableRtl"),g=HorizontalDirection[d?"Left":"Right"];if(o.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const _=this.getViewportAdjustedResizeDiff(o);this.resizeHeader(_,o.shiftKey),(b=this.resizeFeature)==null||b.toggleColumnResizing(!0)}else this.moveHeader(g)}getViewportAdjustedResizeDiff(o){let a=this.getResizeDiff(o);if(this.column.getPinned()){const d=this.pinnedWidthService.getPinnedLeftWidth(),g=this.pinnedWidthService.getPinnedRightWidth(),b=_getInnerWidth(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+g+a>b)if(b>d+g)a=b-d-g;else return 0}return a}getResizeDiff(o){let a=o.key===KeyCode.LEFT!==this.gos.get("enableRtl");const c=this.column.getPinned(),d=this.gos.get("enableRtl");return c&&d!==(c==="right")&&(a=!a),(a?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var o;(o=this.resizeFeature)==null||o.toggleColumnResizing(!1)},150))}handleKeyDown(o){const a=this.getWrapperHasFocus();switch(o.key){case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:a&&o.preventDefault()}}addDomData(o){const a=cC.DOM_DATA_KEY_HEADER_CTRL;_setDomData(this.gos,this.eGui,a,this),o.addDestroyFunc(()=>_setDomData(this.gos,this.eGui,a,null))}getGui(){return this.eGui}focus(o){return this.eGui?(this.lastFocusEvent=o||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(o,a,c){const d=o??a;this.gos.get("preventDefaultOnContextMenu")&&d.preventDefault(),this.menuService.isHeaderContextMenuEnabled(c)&&this.menuService.showHeaderContextMenu(c,o,a),this.dispatchColumnMouseEvent("columnHeaderContextMenu",c)}dispatchColumnMouseEvent(o,a){this.eventService.dispatchEvent({type:o,column:a})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};_AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var AbstractHeaderCellCtrl=_AbstractHeaderCellCtrl,HoverFeature=class extends BeanStub{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,o){super(),this.columns=e,this.element=o}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},HeaderFilterCellCtrl=class extends AbstractHeaderCellCtrl{constructor(e,o,a){super(e,o,a),this.iconCreated=!1,this.column=e}setComp(e,o,a,c,d){this.comp=e,d=setupCompBean(this,this.beans.context,d),this.eButtonShowMainFilter=a,this.eFloatingFilterBody=c,this.setGui(o,d),this.setupActive(),this.setupWidth(d),this.setupLeft(d),this.setupHover(d),this.setupFocus(d),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(d),this.setupUi(),d.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(d),d.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(d)}),d.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),o=!!e.filter,a=!!e.floatingFilter;this.active=o&&a}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=_createIconNoSpan("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new ManagedFocusFeature(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();_setAriaLabel(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(_getActiveDomElement(this.gos)===this.eGui)return;const c=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(c){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),c.focus();return}const d=this.findNextColumnWithFloatingFilter(e.shiftKey);d&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:d},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const o=this.beans.visibleColsService;let a=this.column;do if(a=e?o.getColBefore(a):o.getColAfter(a),!a)break;while(!a.getColDef().filter||!a.getColDef().floatingFilter);return a}handleKeyDown(e){super.handleKeyDown(e);const o=this.getWrapperHasFocus();switch(e.key){case KeyCode.UP:case KeyCode.DOWN:o||e.preventDefault();case KeyCode.LEFT:case KeyCode.RIGHT:if(o)return;e.stopPropagation();case KeyCode.ENTER:o&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case KeyCode.ESCAPE:o||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const a=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),c=!!e.relatedTarget&&_isElementChildOfClass(e.relatedTarget,"ag-floating-filter");if(a&&c&&e.target===this.eGui){const g=this.lastFocusEvent,b=!!(g&&g.key===KeyCode.TAB);if(g&&b){const _=g.shiftKey;this.focusService.focusInto(this.eGui,_)}}const d=this.getRowIndex();this.beans.focusService.setFocusedHeader(d,this.column)}setupHover(e){e.createManagedBean(new HoverFeature([this.column],this.eGui));const o=()=>{if(!this.gos.get("columnHoverHighlight"))return;const a=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",a)};e.addManagedEventListeners({columnHoverChanged:o}),o()}setupLeft(e){const o=new SetLeftFeature(this.column,this.eGui,this.beans);e.createManagedBean(o)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var o;if(!this.active)return;const e=(o=this.beans.filterManager)==null?void 0:o.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:o}=this.beans,a=c=>{if((c==null?void 0:c.source)==="filterDestroyed"&&!this.isAlive())return;const d=this.comp.getFloatingFilterComp();d&&d.then(g=>{if(g){const b=o==null?void 0:o.getCurrentFloatingFilterParentModel(this.column),_=c?{...c,columns:c.columns??[],source:c.source==="api"?"api":"columnFilter"}:null;g.onParentModelChanged(b,_)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:a}),o!=null&&o.isFilterActive(this.column)&&a(null)}setupWidth(e){const o=()=>{const a=`${this.column.getActualWidth()}px`;this.comp.setWidth(a)};e.addManagedListeners(this.column,{widthChanged:o}),o()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const o=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(o),this.highlightFilterButtonWhenActive&&o&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var g;const o=this.active;this.setupActive();const a=!o&&this.active;o&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const c=this.active?(g=this.beans.filterManager)==null?void 0:g.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,d=this.comp.getFloatingFilterComp();!d||!c?this.updateCompDetails(e,c,a):d.then(b=>{var _;!b||(_=this.beans.filterManager)!=null&&_.areFilterCompsDifferent(this.userCompDetails??null,c)?this.updateCompDetails(e,c,a):this.updateFloatingFilterParams(c)})}updateCompDetails(e,o,a){this.isAlive()&&(this.setCompDetails(o),this.setupFilterButton(),this.setupUi(),a&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var a;if(!e)return;const o=e.params;(a=this.comp.getFloatingFilterComp())==null||a.then(c=>{let d=!1;c!=null&&c.refresh&&typeof c.refresh=="function"&&c.refresh(o)!==null&&(d=!0),!d&&(c!=null&&c.onParamsUpdated)&&typeof c.onParamsUpdated=="function"&&c.onParamsUpdated(o)!==null&&_warnOnce("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function _defineModule(e){return e}var VERSION="32.3.9";function isColumnFilterPresent(e){var o,a;return!!((o=e.filterManager)!=null&&o.isColumnFilterPresent())||!!((a=e.filterManager)!=null&&a.isAggregateFilterPresent())}function getFilterInstance(e,o,a){var c;return(c=e.filterManager)==null?void 0:c.getFilterInstance(o,a)}function getColumnFilterInstance(e,o){var a;return((a=e.filterManager)==null?void 0:a.getColumnFilterInstance(o))??Promise.resolve(void 0)}function destroyFilter(e,o){var c;const a=e.columnModel.getColDefCol(o);if(a)return(c=e.filterManager)==null?void 0:c.destroyFilter(a,"api")}function setFilterModel(e,o){e.frameworkOverrides.wrapIncoming(()=>{var a;return(a=e.filterManager)==null?void 0:a.setFilterModel(o)})}function getFilterModel(e){var o;return((o=e.filterManager)==null?void 0:o.getFilterModel())??{}}function getColumnFilterModel(e,o){var a;return((a=e.filterManager)==null?void 0:a.getColumnFilterModel(o))??null}function setColumnFilterModel(e,o,a){var c;return((c=e.filterManager)==null?void 0:c.setColumnFilterModel(o,a))??Promise.resolve()}function showColumnFilter(e,o){const a=e.columnModel.getCol(o);if(!a){_errorOnce(`column '${o}' not found`);return}e.menuService.showFilterMenu({column:a,containerType:"columnFilter",positionBy:"auto"})}function getDefaultFloatingFilterType(e,o,a){if(o==null)return null;let c=null;const{compName:d,jsComp:g,fwComp:b}=UserComponentFactory.getCompKeys(e,o,FilterComponent);return d?c={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[d]:g==null&&b==null&&o.filter===!0&&(c=a()),c}var MONTH_LOCALE_TEXT={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},MONTH_KEYS=["january","february","march","april","may","june","july","august","september","october","november","december"],ColumnFilterService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,o;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((o=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:o.filterModel)??{}}}setFilterModel(e,o="api"){var d;if((d=this.dataTypeService)!=null&&d.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:o});return}const a=[],c=this.getFilterModel(!0);if(e){const g=new Set(Object.keys(e));this.allColumnFilters.forEach((b,_)=>{const $=e[_];a.push(this.setModelOnFilterWrapper(b.filterPromise,$)),g.delete(_)}),g.forEach(b=>{const _=this.columnModel.getColDefCol(b)||this.columnModel.getCol(b);if(!_){_warnOnce("setFilterModel() - no column found for colId: "+b);return}if(!_.isFilterAllowed()){_warnOnce("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+b);return}const $=this.getOrCreateFilterWrapper(_);if(!$){_warnOnce("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+b);return}a.push(this.setModelOnFilterWrapper($.filterPromise,e[b]))})}else this.allColumnFilters.forEach(g=>{a.push(this.setModelOnFilterWrapper(g.filterPromise,null))});AgPromise.all(a).then(()=>{var _;const g=this.getFilterModel(!0),b=[];this.allColumnFilters.forEach(($,j)=>{const rt=c?c[j]:null,nt=g?g[j]:null;_jsonEquals(rt,nt)||b.push($.column)}),b.length>0&&((_=this.filterManager)==null||_.onFilterChanged({columns:b,source:o}))})}setModelOnFilterWrapper(e,o){return new AgPromise(a=>{e.then(c=>{typeof c.setModel!="function"&&(_warnOnce("filter missing setModel method, which is needed for setFilterModel"),a()),(c.setModel(o)||AgPromise.resolve()).then(()=>a())})})}getFilterModel(e){const o={},{allColumnFilters:a,initialFilterModel:c}=this;return a.forEach((d,g)=>{const b=this.getModelFromFilterWrapper(d);_exists(b)&&(o[g]=b)}),e||Object.entries(c).forEach(([d,g])=>{var b;_exists(g)&&!a.has(d)&&((b=this.columnModel.getCol(d))!=null&&b.isFilterAllowed())&&(o[d]=g)}),o}getModelFromFilterWrapper(e){const{filter:o}=e;return o?typeof o.getModel!="function"?(_warnOnce("filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,o){return this.doColumnFiltersPass(e,o,!0)}updateActiveFilters(){const e=g=>g?g.isFilterActive?g.isFilterActive():(_warnOnce("Filter is missing isFilterActive() method"),!1):!1,o=!!_getGroupAggFiltering(this.gos),a=g=>{if(!g.isPrimary())return!0;const _=!this.columnModel.isPivotActive();return!g.isValueActive()||!_?!1:this.columnModel.isPivotMode()?!0:o},c=[],d=[];return this.forEachColumnFilter((g,b)=>{e(g)&&(a(b.column)?c.push(g):d.push(g))}).then(()=>{this.activeAggregateFilters=c,this.activeColumnFilters=d})}updateFilterFlagInColumns(e,o){return this.forEachColumnFilter((a,c)=>c.column.setFilterActive(a.isFilterActive(),e,o))}forEachColumnFilter(e){return AgPromise.all(Array.from(this.allColumnFilters.values()).map(o=>o.filterPromise.then(a=>e(a,o))))}doColumnFiltersPass(e,o,a){const{data:c,aggData:d}=e,g=a?this.activeAggregateFilters:this.activeColumnFilters,b=a?d:c;for(let _=0;_<g.length;_++){const $=g[_];if(!($==null||$===o)){if(typeof $.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!$.doesFilterPass({node:e,data:b}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const o=()=>{var a;return(a=this.filterManager)==null?void 0:a.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()}updateBeforeFilterChanged(e={}){const{filterInstance:o,additionalEventAttributes:a}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",a).then(()=>{this.allColumnFilters.forEach(c=>{c.filterPromise&&c.filterPromise.then(d=>{d&&d!==o&&d.onAnyFilterChanged&&d.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(o=>{o.onNewRowsLoaded&&o.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:o})=>this.valueService.getValue(e,o,!0)}createGetValue(e){return(o,a)=>{const c=a?this.columnModel.getCol(a):e;return c?this.valueService.getValue(c,o,!0):void 0}}isFilterActive(e){const{filter:o}=this.cachedFilter(e)??{};return o?o.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let o=this.cachedFilter(e);return o||(o=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,o)),o}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var a;let o;if(_isSetFilterByDefault(this.gos))o="agSetColumnFilter";else{const c=(a=this.dataTypeService)==null?void 0:a.getBaseDataType(e);c==="number"?o="agNumberColumnFilter":c==="date"||c==="dateString"?o="agDateColumnFilter":o="agTextColumnFilter"}return o}getDefaultFloatingFilter(e){var a;let o;if(_isSetFilterByDefault(this.gos))o="agSetColumnFloatingFilter";else{const c=(a=this.dataTypeService)==null?void 0:a.getBaseDataType(e);c==="number"?o="agNumberColumnFloatingFilter":c==="date"||c==="dateString"?o="agDateColumnFloatingFilter":o="agTextColumnFloatingFilter"}return o}createFilterInstance(e,o){const a=this.getDefaultFilter(e),c=e.getColDef();let d;const g={...this.createFilterParams(e,c),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(d,e)(),filterChangedCallback:_=>this.filterChangedCallbackFactory(d,e)(_),doesRowPassOtherFilter:_=>this.filterManager?this.filterManager.doesRowPassOtherFilters(d,_):!0},b=this.userComponentFactory.getFilterDetails(c,g,a);return b?{filterPromise:()=>{const _=b.newAgStackInstance();return _!=null&&_.then($=>{d=$,o&&(o.filter=$)}),_},compDetails:b}:{filterPromise:null,compDetails:null}}createFilterParams(e,o){return this.gos.addGridCommonParams({column:e,colDef:_cloneObject(o),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const o={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:a,compDetails:c}=this.createFilterInstance(e,o);return o.filterPromise=(a==null?void 0:a())??null,o.compDetails=c,o}onColumnsChanged(){var a;const e=[];this.allColumnFilters.forEach((c,d)=>{let g;c.column.isPrimary()?g=this.columnModel.getColDefCol(d):g=this.columnModel.getCol(d),!(g&&g===c.column)&&(e.push(c.column),this.disposeFilterWrapper(c,"columnChanged"),this.disposeColumnListener(d))});const o=e.every(c=>c.getColDef().filter==="agGroupColumnFilter");e.length>0&&!o?(a=this.filterManager)==null||a.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(o=>{o.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(o)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:a}=this.allColumnFilters.get(e.getColId())??{};return a&&typeof(a==null?void 0:a.isFilterAllowed)=="function"?a.isFilterAllowed():!0}getFloatingFilterCompDetails(e,o){const a=$=>{var rt;const j=(rt=this.getOrCreateFilterWrapper(e))==null?void 0:rt.filterPromise;j!=null&&j.then(nt=>{$(_unwrapUserComp(nt))})},c=e.getColDef(),d={...this.createFilterParams(e,c),filterChangedCallback:()=>a($=>this.filterChangedCallbackFactory($,e)())},g=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(c,FilterComponent,d);let b=getDefaultFloatingFilterType(this.frameworkOverrides,c,()=>this.getDefaultFloatingFilter(e));b==null&&(b="agReadOnlyFloatingFilter");const _={column:e,filterParams:g,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:a,showParentFilter:o,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(c,_,b)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,o="api"){var d;const a=e.getColId(),c=this.allColumnFilters.get(a);this.disposeColumnListener(a),delete this.initialFilterModel[a],c&&(this.disposeFilterWrapper(c,o),(d=this.filterManager)==null||d.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const o=this.allColumnListeners.get(e);o&&(this.allColumnListeners.delete(e),o())}disposeFilterWrapper(e,o){e.filterPromise.then(a=>{this.destroyBean(a),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:o,column:e.column})})}filterModifiedCallbackFactory(e,o){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:o,filterInstance:e})}}filterChangedCallbackFactory(e,o){return a=>{const c=(a==null?void 0:a.source)??"columnFilter",d={filter:e,additionalEventAttributes:a,columns:[o],source:c};this.callOnFilterChangedOutsideRenderCycle(d)}}checkDestroyFilter(e){const o=this.allColumnFilters.get(e);if(!o)return;const a=o.column,{compDetails:c}=a.isFilterAllowed()?this.createFilterInstance(a):{compDetails:null};if(this.areFilterCompsDifferent(o.compDetails,c)){this.destroyFilter(a,"paramsUpdated");return}const d=a.getColDef().filterParams;if(!o.filterPromise){this.destroyFilter(a,"paramsUpdated");return}o.filterPromise.then(g=>{(g!=null&&g.refresh?g.refresh({...this.createFilterParams(a,a.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(g,a),filterChangedCallback:this.filterChangedCallbackFactory(g,a),doesRowPassOtherFilter:_=>this.filterManager?this.filterManager.doesRowPassOtherFilters(g,_):!0,...d}):!0)===!1&&this.destroyFilter(a,"paramsUpdated")})}setColumnFilterWrapper(e,o){const a=e.getColId();this.allColumnFilters.set(a,o),this.allColumnListeners.set(a,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(a)})[0])}areFilterCompsDifferent(e,o){if(!o||!e)return!0;const{componentClass:a}=e,{componentClass:c}=o;return!(a===c||(a==null?void 0:a.render)&&(c==null?void 0:c.render)&&a.render===c.render)}hasFloatingFilters(){return this.columnModel.getCols().some(o=>o.getColDef().floatingFilter)}getFilterInstance(e,o){o&&this.getFilterInstanceImpl(e).then(a=>{const c=_unwrapUserComp(a);o(c)})}getColumnFilterInstance(e){return new Promise(o=>{this.getFilterInstanceImpl(e).then(a=>{o(_unwrapUserComp(a))})})}getFilterInstanceImpl(e){var c;const o=this.columnModel.getColDefCol(e);return o?((c=this.getOrCreateFilterWrapper(o))==null?void 0:c.filterPromise)??AgPromise.resolve(null):AgPromise.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:o})=>this.setFilterModel(e,o)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:o,resolve:a})=>{this.setColumnFilterModel(e,o).then(()=>a())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const o=this.getFilterWrapper(e);return o?this.getModelFromFilterWrapper(o):null}setColumnFilterModel(e,o){var g;if((g=this.dataTypeService)!=null&&g.isPendingInference()){let b=()=>{};const _=new Promise($=>{b=$});return this.columnFilterModelUpdateQueue.push({key:e,model:o,resolve:b}),_}const a=this.columnModel.getColDefCol(e),c=a?this.getOrCreateFilterWrapper(a):null;return c?(b=>new Promise(_=>{b.then($=>_($))}))(this.setModelOnFilterWrapper(c.filterPromise,o)):Promise.resolve()}getFilterWrapper(e){const o=this.columnModel.getColDefCol(e);return o?this.cachedFilter(o)??null:null}setColDefPropertiesForDataType(e,o,a){const c=_isSetFilterByDefault(this.gos),d=this.localeService.getLocaleTextFunc(),g=b=>{const{filterParams:_}=e;e.filterParams=typeof _=="object"?{..._,...b}:b};switch(o.baseDataType){case"number":{c&&g({comparator:(b,_)=>{const $=b==null?0:parseInt(b),j=_==null?0:parseInt(_);return $===j?0:$>j?1:-1}});break}case"boolean":{g(c?{valueFormatter:b=>_exists(b.value)?d(String(b.value),b.value?"True":"False"):d("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(b,_)=>_,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(b,_)=>_===!1,numberOfInputs:0}]});break}case"date":{c&&g({valueFormatter:b=>{const _=a(b);return _exists(_)?_:d("blanks","(Blanks)")},treeList:!0,treeListFormatter:(b,_)=>{if(_===1&&b!=null){const $=MONTH_KEYS[Number(b)-1];return d($,MONTH_LOCALE_TEXT[$])}return b??d("blanks","(Blanks)")}});break}case"dateString":{const b=o.dateParser;g(c?{valueFormatter:_=>{const $=a(_);return _exists($)?$:d("blanks","(Blanks)")},treeList:!0,treeListPathGetter:_=>{const $=b(_??void 0);return $?[String($.getFullYear()),String($.getMonth()+1),String($.getDate())]:null},treeListFormatter:(_,$)=>{if($===1&&_!=null){const j=MONTH_KEYS[Number(_)-1];return d(j,MONTH_LOCALE_TEXT[j])}return _??d("blanks","(Blanks)")}}:{comparator:(_,$)=>{const j=b($);return $==null||j<_?-1:j>_?1:0}});break}case"object":{c?g({valueFormatter:b=>{const _=a(b);return _exists(_)?_:d("blanks","(Blanks)")}}):e.filterValueGetter=b=>a({column:b.column,node:b.node,value:this.valueService.getValue(b.column,b.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function isAnyFilterPresent(e){var o;return!!((o=e.filterManager)!=null&&o.isAnyFilterPresent())}function onFilterChanged(e,o="api"){var a;(a=e.filterManager)==null||a.onFilterChanged({source:o})}var ReadOnlyFloatingFilter=class extends Component{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[AgInputTextFieldSelector]),this.eFloatingFilterText=RefPlaceholder}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const o=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),a=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${o} ${a("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(o=>{if(o.getModelAsString){const a=o.getModelAsString(e);this.eFloatingFilterText.setValue(a)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},SimpleFloatingFilter=class extends Component{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const o=e.operator;let a;o?a=e.conditions[0]:a=e,this.lastType=a.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const a=e;return this.isTypeEditable(a.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,o=!0){this.optionsFactory=new OptionsFactory,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),o||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const a=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(a)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const o=this.optionsFactory.getCustomOption(e),{numberOfInputs:a}=o||{};return a==null||a==1}isTypeEditable(e){const o=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&o.indexOf(e)<0}getAriaLabel(e){const o=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),a=this.localeService.getLocaleTextFunc();return`${o} ${a("ariaFilterInput","Filter Input")}`}},DateFloatingFilter=class extends SimpleFloatingFilter{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[AgInputTextFieldSelector]),this.eReadOnlyText=RefPlaceholder,this.eDateWrapper=RefPlaceholder}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return DEFAULT_DATE_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new DateFilterModelFormatter(this.filterParams,this.localeService,this.optionsFactory);const o=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(o("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const o=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(o),o){if(e){const a=e;this.dateComp.setDate(_parseDateTimeFromString(a.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){_setDisplayed(this.eDateWrapper,e),_setDisplayed(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,o){this.isEventFromFloatingFilter(o)||this.isEventFromDataChange(o)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),o=_serialiseDate(e);this.params.parentFilterInstance(a=>{if(a){const c=_parseDateTimeFromString(o);a.onFloatingFilterChanged(this.getLastType()||null,c)}})}getDateComponentParams(){const e=getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:_debounce(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new DateCompWrapper(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},DefaultDateComponent=class extends Component{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[AgInputTextFieldSelector]),this.eDateInput=RefPlaceholder}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const o=this.eDateInput.getInputElement();this.addManagedListeners(o,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||o.focus()},input:a=>{a.target===_getActiveDomElement(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const o=this.eDateInput.getInputElement(),a=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=a&&_isBrowserSafari(),o.type=a?"date":"text";const{minValidYear:c,maxValidYear:d,minValidDate:g,maxValidDate:b}=e.filterParams||{};if(g&&c&&_warnOnce("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),b&&d&&_warnOnce("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),g&&b){const[_,$]=[g,b].map(j=>j instanceof Date?j:_parseDateTimeFromString(j));_&&$&&_.getTime()>$.getTime()&&_warnOnce("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}g?g instanceof Date?o.min=_dateToFormattedString(g):o.min=g:c&&(o.min=`${c}-01-01`),b?b instanceof Date?o.max=_dateToFormattedString(b):o.max=b:d&&(o.max=`${d}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return _parseDateTimeFromString(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(_serialiseDate(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:_isBrowserChrome()||_isBrowserFirefox()||_isBrowserSafari()&&_getSafariVersion()>=14.1}},FloatingFilterTextInputService=class extends BeanStub{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=RefPlaceholder,this.valueChangedListener=()=>{}}setupGui(e){var c;this.eFloatingFilterTextInput=this.createManagedBean(new AgInputTextField((c=this.params)==null?void 0:c.config));const o=this.eFloatingFilterTextInput.getGui();e.appendChild(o);const a=d=>this.valueChangedListener(d);this.addManagedListeners(o,{input:a,keydown:a})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,o){this.eFloatingFilterTextInput.setValue(e,o)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},TextInputFloatingFilter=class extends SimpleFloatingFilter{constructor(){super(...arguments),this.eFloatingFilterInputContainer=RefPlaceholder}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,o){this.isEventFromFloatingFilter(o)||this.isEventFromDataChange(o)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const o=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:o}),this.applyActive=isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const a=getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c=_debounce(this.syncUpWithParentFilter.bind(this),a);this.floatingFilterInputService.setValueChangedListener(c)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const o=this.floatingFilterInputService.getValue();_clearElement(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(o,!0)}syncUpWithParentFilter(e){const o=e.key===KeyCode.ENTER;if(this.applyActive&&!o)return;let a=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(a=trimInputForFilter(a),this.floatingFilterInputService.setValue(a,!0)),this.params.parentFilterInstance(c=>{c&&c.onFloatingFilterChanged(this.getLastType()||null,a||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},FloatingFilterNumberInputService=class extends BeanStub{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new AgInputNumberField),this.eFloatingFilterTextInput=this.createManagedBean(new AgInputTextField),this.eFloatingFilterTextInput.setDisabled(!0);const o=this.eFloatingFilterNumberInput.getGui(),a=this.eFloatingFilterTextInput.getGui();e.appendChild(o),e.appendChild(a),this.setupListeners(o,c=>this.valueChangedListener(c)),this.setupListeners(a,c=>this.valueChangedListener(c))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,o){this.getActiveInputElement().setValue(e,o)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,o){this.addManagedListeners(e,{input:o,keydown:o})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},NumberFloatingFilter=class extends TextInputFloatingFilter{init(e){var o;super.init(e),this.filterModelFormatter=new NumberFilterModelFormatter(this.localeService,this.optionsFactory,(o=e.filterParams)==null?void 0:o.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){getAllowedCharPattern(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return DEFAULT_NUMBER_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=getAllowedCharPattern(e.filterParams),this.allowedCharPattern?this.createManagedBean(new FloatingFilterTextInputService({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new FloatingFilterNumberInputService)}},TextFloatingFilter=class extends TextInputFloatingFilter{init(e){super.init(e),this.filterModelFormatter=new TextFilterModelFormatter(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return DEFAULT_TEXT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new FloatingFilterTextInputService)}};function isQuickFilterPresent(e){var o;return!!((o=e.filterManager)!=null&&o.isQuickFilterPresent())}function getQuickFilter(e){return e.gos.get("quickFilterText")}function resetQuickFilter(e){var o;(o=e.filterManager)==null||o.resetQuickFilterCache()}var QuickFilterService=class extends BeanStub{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",o=>this.setQuickFilter(o.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var d;const e=this.columnModel.isPivotMode(),o=this.columnModel.getAutoCols(),a=this.columnModel.getColDefCols();let c=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(d=this.pivotResultColsService.getPivotResultCols())==null?void 0:d.list:a)??[];o&&(c=c.concat(o)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?c:c.filter(g=>g.isVisible()||g.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const o=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,e):this.quickFilterParts.every(a=>o?this.doesRowPassQuickFilterCache(e,a):this.doesRowPassQuickFilterNoCache(e,a))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:o}=this;e?this.quickFilterParts=o?o(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return _exists(e)?_isClientSideRowModel(this.gos)?e.toUpperCase():(_warnOnce("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){_warnOnce(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const o=this.parseQuickFilter(e);this.quickFilter!==o&&(this.quickFilter=o,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),o=this.gos.get("quickFilterMatcher"),a=e!==this.parser||o!==this.matcher;this.parser=e,this.matcher=o,a&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,o){return this.colsForQuickFilter.some(a=>{const c=this.getQuickFilterTextForColumn(a,e);return _exists(c)&&c.indexOf(o)>=0})}doesRowPassQuickFilterCache(e,o){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(o)>=0}doesRowPassQuickFilterMatcher(e,o){let a;e?(this.checkGenerateQuickFilterAggregateText(o),a=o.quickFilterAggregateText):a=this.getQuickFilterAggregateText(o);const{quickFilterParts:c,matcher:d}=this;return d(c,a)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,o){let a=this.valueService.getValue(e,o,!0);const c=e.getColDef();if(c.getQuickFilterText){const d=this.gos.addGridCommonParams({value:a,node:o,data:o.data,column:e,colDef:c});a=c.getQuickFilterText(d)}return _exists(a)?a.toString().toUpperCase():null}getQuickFilterAggregateText(e){const o=[];return this.colsForQuickFilter.forEach(a=>{const c=this.getQuickFilterTextForColumn(a,e);_exists(c)&&o.push(c)}),o.join(`
`)}},FilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/filter-core",beans:[FilterManager]},FilterApiModule={version:VERSION,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent,onFilterChanged},dependantModules:[FilterCoreModule]},ColumnFilterModule={version:VERSION,moduleName:"@ag-grid-community/column-filter",beans:[ColumnFilterService],dependantModules:[FilterCoreModule]},ColumnFilterApiModule={version:VERSION,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent,getFilterInstance,getColumnFilterInstance,destroyFilter,setFilterModel,getFilterModel,getColumnFilterModel,setColumnFilterModel,showColumnFilter},dependantModules:[ColumnFilterModule,FilterApiModule]},FloatingFilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:HeaderFilterCellCtrl}],dependantModules:[ColumnFilterModule]},FloatingFilterModule={version:VERSION,moduleName:"@ag-grid-community/floating-filter",dependantModules:[FloatingFilterCoreModule,ColumnFilterModule]},ReadOnlyFloatingFilterModule={version:VERSION,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:ReadOnlyFloatingFilter}],dependantModules:[FloatingFilterCoreModule]},SimpleFilterModule={version:VERSION,moduleName:"@ag-grid-community/simple-filter",dependantModules:[ColumnFilterModule],userComponents:[{name:"agTextColumnFilter",classImp:TextFilter},{name:"agNumberColumnFilter",classImp:NumberFilter},{name:"agDateColumnFilter",classImp:DateFilter},{name:"agDateInput",classImp:DefaultDateComponent}]},SimpleFloatingFilterModule={version:VERSION,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[SimpleFilterModule,FloatingFilterCoreModule],userComponents:[{name:"agTextColumnFloatingFilter",classImp:TextFloatingFilter},{name:"agNumberColumnFloatingFilter",classImp:NumberFloatingFilter},{name:"agDateColumnFloatingFilter",classImp:DateFloatingFilter}]},QuickFilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/quick-filter-core",beans:[QuickFilterService],dependantModules:[FilterCoreModule]},QuickFilterApiModule={version:VERSION,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent,getQuickFilter,resetQuickFilter},dependantModules:[QuickFilterCoreModule]},QuickFilterModule={version:VERSION,moduleName:"@ag-grid-community/quick-filter",dependantModules:[QuickFilterCoreModule,QuickFilterApiModule]},FilterModule={version:VERSION,moduleName:"@ag-grid-community/filter",dependantModules:[SimpleFloatingFilterModule,ReadOnlyFloatingFilterModule,QuickFilterModule,ColumnFilterApiModule]},AbstractHeaderCellComp=class extends Component{constructor(e,o){super(e),this.ctrl=o}getCtrl(){return this.ctrl}},HeaderFilterCellComp$1=class extends AbstractHeaderCellComp{constructor(o){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,o),this.eFloatingFilterBody=RefPlaceholder,this.eButtonWrapper=RefPlaceholder,this.eButtonShowMainFilter=RefPlaceholder}postConstruct(){const o=this.getGui(),a={addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),addOrRemoveBodyCssClass:(c,d)=>this.eFloatingFilterBody.classList.toggle(c,d),setButtonWrapperDisplayed:c=>_setDisplayed(this.eButtonWrapper,c),setCompDetails:c=>this.setCompDetails(c),getFloatingFilterComp:()=>this.compPromise,setWidth:c=>o.style.width=c,setMenuIcon:c=>this.eButtonShowMainFilter.appendChild(c)};this.ctrl.setComp(a,o,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(o){if(!o){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=o.newAgStackInstance(),this.compPromise.then(a=>this.afterCompCreated(a))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(o){if(o){if(!this.isAlive()){this.destroyBean(o);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=o,this.eFloatingFilterBody.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached()}}},HeaderCellComp$1=class extends AbstractHeaderCellComp{constructor(o){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,o),this.eResize=RefPlaceholder,this.eHeaderCompWrapper=RefPlaceholder,this.headerCompVersion=0,this.column=o.getColumnGroupChild(),this.pinned=o.getPinned()}postConstruct(){const o=this.getGui();((g,b)=>{b!=null&&b!=""?o.setAttribute(g,b):o.removeAttribute(g)})("col-id",this.column.getColId());const c={setWidth:g=>o.style.width=g,addOrRemoveCssClass:(g,b)=>this.addOrRemoveCssClass(g,b),setAriaSort:g=>g?_setAriaSort(o,g):_removeAriaSort(o),setUserCompDetails:g=>this.setUserCompDetails(g),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(c,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const d=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",d)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(o){this.headerCompVersion++;const a=this.headerCompVersion;o.newAgStackInstance().then(c=>this.afterCompCreated(a,c))}afterCompCreated(o,a){if(o!=this.headerCompVersion||!this.isAlive()){this.destroyBean(a);return}this.destroyHeaderComp(),this.headerComp=a,this.headerCompGui=a.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},HeaderGroupCellComp$1=class extends AbstractHeaderCellComp{constructor(o){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,o),this.eResize=RefPlaceholder,this.eHeaderCompWrapper=RefPlaceholder}postConstruct(){const o=this.getGui(),a=(d,g)=>g!=null?o.setAttribute(d,g):o.removeAttribute(d);o.setAttribute("col-id",this.ctrl.getColId());const c={addOrRemoveCssClass:(d,g)=>this.addOrRemoveCssClass(d,g),setHeaderWrapperHidden:d=>{d?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:d=>{d!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${d}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",d!=null)},setResizableDisplayed:d=>_setDisplayed(this.eResize,d),setWidth:d=>o.style.width=d,setAriaExpanded:d=>a("aria-expanded",d),setUserCompDetails:d=>this.setUserCompDetails(d),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(c,o,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(o){o.newAgStackInstance().then(a=>this.afterHeaderCompCreated(a))}afterHeaderCompCreated(o){const a=()=>this.destroyBean(o);if(!this.isAlive()){a();return}const c=this.getGui(),d=o.getGui();this.eHeaderCompWrapper.appendChild(d),this.addDestroyFunc(a),this.headerGroupComp=o,this.ctrl.setDragSource(c)}addOrRemoveHeaderWrapperStyle(o,a){const{eHeaderCompWrapper:c}=this;a?c.style.setProperty(o,a):c.style.removeProperty(o)}},HeaderRowType=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(HeaderRowType||{}),HeaderRowComp$1=class extends Component{constructor(o){super(),this.headerComps={},this.ctrl=o,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){_setAriaRowIndex(this.getGui(),this.ctrl.getAriaRowIndex());const o={setHeight:a=>this.getGui().style.height=a,setTop:a=>this.getGui().style.top=a,setHeaderCtrls:(a,c)=>this.setHeaderCtrls(a,c),setWidth:a=>this.getGui().style.width=a};this.ctrl.setComp(o,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(o,a){if(!this.isAlive())return;const c=this.headerComps;if(this.headerComps={},o.forEach(d=>{const g=d.instanceId;let b=c[g];delete c[g],b==null&&(b=this.createHeaderComp(d),this.getGui().appendChild(b.getGui())),this.headerComps[g]=b}),_iterateObject(c,(d,g)=>{this.getGui().removeChild(g.getGui()),this.destroyBean(g)}),a){const d=_getAllValuesInObject(this.headerComps);d.sort((b,_)=>{const $=b.getCtrl().getColumnGroupChild().getLeft(),j=_.getCtrl().getColumnGroupChild().getLeft();return $-j});const g=d.map(b=>b.getGui());_setDomChildOrder(this.getGui(),g)}}createHeaderComp(o){let a;switch(this.ctrl.getType()){case"group":a=new HeaderGroupCellComp$1(o);break;case"filter":a=new HeaderFilterCellComp$1(o);break;default:a=new HeaderCellComp$1(o);break}return this.createBean(a),a.setParentComponent(this),a}},HeaderNavigationDirection=(e=>(e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e))(HeaderNavigationDirection||{}),HeaderNavigationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,o=>{this.gridBodyCon=o.gridBodyCtrl});const e=_getDocument(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,o){let a;if(typeof e=="string"?(a=this.columnModel.getCol(e),a||(a=this.visibleColService.getColumnGroup(e))):a=e,!a)return null;const c=this.ctrlsService.getHeaderRowContainerCtrl(),d=c==null?void 0:c.getAllCtrls(),g=_last(d||[]).getType()==="filter",b=this.getHeaderRowCount()-1;let _=-1,$=a;for(;$;)_++,$=$.getParent();let j=_;return o&&g&&j===b-1&&j++,j===-1?null:{headerRowIndex:j,column:a}}navigateVertically(e,o,a){if(o||(o=this.focusService.getFocusedHeader()),!o)return!1;const{headerRowIndex:c}=o,d=o.column,g=this.getHeaderRowCount(),b=e===0;let{headerRowIndex:_,column:$,headerRowIndexWithoutSpan:j}=b?this.headerPositionUtils.getColumnVisibleParent(d,c):this.headerPositionUtils.getColumnVisibleChild(d,c),rt=!1;return _<0&&(_=0,$=d,rt=!0),_>=g?(_=-1,this.setCurrentHeaderRowWithoutSpan(-1)):j!==void 0&&(this.currentHeaderRowWithoutSpan=j),!rt&&!$?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:_,column:$},allowUserOverride:!0,event:a})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,o=!1,a){const c=this.focusService.getFocusedHeader(),d=e===2,g=this.gos.get("enableRtl");let b,_;if(this.currentHeaderRowWithoutSpan!==-1?c.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=c.headerRowIndex,d!==g?(_="Before",b=this.headerPositionUtils.findHeader(c,_)):(_="After",b=this.headerPositionUtils.findHeader(c,_)),b||!o)return this.focusService.focusHeaderPosition({headerPosition:b,direction:_,fromTab:o,allowUserOverride:!0,event:a});if(o){const $=this.gos.getCallback("tabToNextHeader");if($)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:$,headerPosition:b,direction:_})}return this.focusNextHeaderRow(c,_,a)}focusNextHeaderRow(e,o,a){const c=e.headerRowIndex;let d=null,g;if(o==="Before"?c>0&&(g=c-1,this.currentHeaderRowWithoutSpan-=1,d=this.headerPositionUtils.findColAtEdgeForHeaderRow(g,"end")):(g=c+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),d=this.headerPositionUtils.findColAtEdgeForHeaderRow(g,"start")),!d)return!1;const{column:b,headerRowIndex:_}=this.headerPositionUtils.getHeaderIndexToFocus(d.column,d==null?void 0:d.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:b,headerRowIndex:_},direction:o,fromTab:!0,allowUserOverride:!0,event:a})}scrollToColumn(e,o="After"){if(e.getPinned())return;let a;if(isColumnGroup(e)){const c=e.getDisplayedLeafColumns();a=o==="Before"?_last(c):c[0]}else a=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(a)}},GridHeaderCtrl=class extends BeanStub{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,o,a){this.comp=e,this.eGui=o,this.createManagedBean(new ManagedFocusFeature(a,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const c=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:c}),this.mockContextMenuForIPad(c),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var g;const{columnModel:e}=this;let o=0;const a=this.columnModel.getGroupRowsHeight().reduce((b,_)=>b+_,0),c=this.columnModel.getColumnHeaderRowHeight();if((g=this.filterManager)!=null&&g.hasFloatingFilters()&&(o+=e.getFloatingFiltersHeight()),o+=a,o+=c,this.headerHeight===o)return;this.headerHeight=o;const d=`${o+1}px`;this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const o=this.visibleColsService.getAllCols().some(a=>a.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",o)}onTabKeyDown(e){const o=this.gos.get("enableRtl"),a=e.shiftKey,c=a!==o?2:3;(this.headerNavigationService.navigateHorizontally(c,!0,e)||!a&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(a,!0))&&e.preventDefault()}handleKeyDown(e){let o=null;switch(e.key){case KeyCode.LEFT:o=2;case KeyCode.RIGHT:{_exists(o)||(o=3),this.headerNavigationService.navigateHorizontally(o,!1,e)&&e.preventDefault();break}case KeyCode.UP:o=0;case KeyCode.DOWN:{_exists(o)||(o=1),this.headerNavigationService.navigateVertically(o,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:o}=e;!o&&this.eGui.contains(_getActiveDomElement(this.gos))||this.eGui.contains(o)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,o,a){var d;if(!e&&!a||!this.menuService.isHeaderContextMenuEnabled())return;const{target:c}=e??o;(c===this.eGui||c===((d=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:d.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,a)}mockContextMenuForIPad(e){if(!_isIOSUserAgent())return;const o=new TouchListener(this.eGui),a=c=>{e(void 0,c.touchStart,c.touchEvent)};this.addManagedListeners(o,{longTap:a}),this.addDestroyFunc(()=>o.destroy())}},CenterWidthFeature=class extends BeanStub{constructor(e,o=!1){super(),this.callback=e,this.addSpacer=o}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=_isDomLayout(this.gos,"print"),o=this.visibleColsService.getBodyContainerWidth(),a=this.visibleColsService.getColsLeftWidth(),c=this.visibleColsService.getDisplayedColumnsRightWidth();let d;e?d=o+a+c:(d=o,this.addSpacer&&(this.gos.get("enableRtl")?a:c)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(d+=this.scrollVisibleService.getScrollbarWidth())),this.callback(d)}},BodyDropPivotTarget=class extends BeanStub{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const o=e.dragItem.columns;o&&o.forEach(a=>{a.isPrimary()&&(a.isAnyFunctionActive()||(a.isAllowValue()?this.columnsToAggregate.push(a):a.isAllowRowGroup()?this.columnsToGroup.push(a):a.isAllowPivot()&&this.columnsToPivot.push(a)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function getBestColumnMoveIndexFromXPosition(e){const{isFromHeader:o,fromLeft:a,xPosition:c,fromEnter:d,fakeEvent:g,pinned:b,gos:_,columnModel:$,columnMoveService:j,visibleColsService:rt}=e;let{allMovingColumns:nt}=e;if(o){const Ju=[];nt.forEach(Uu=>{var Lp;let fp=null,Zu=Uu.getParent();for(;Zu!=null&&Zu.getDisplayedLeafColumns().length===1;)fp=Zu,Zu=Zu.getParent();fp!=null?(!!((Lp=fp.getColGroupDef())!=null&&Lp.marryChildren)?fp.getProvidedColumnGroup().getLeafColumns():fp.getLeafColumns()).forEach(h0=>{Ju.includes(h0)||Ju.push(h0)}):Ju.includes(Uu)||Ju.push(Uu)}),nt=Ju}const In=nt.slice();$.sortColsLikeCols(In);const xl=calculateValidMoves({movingCols:In,draggingRight:a,xPosition:c,pinned:b,gos:_,columnModel:$,visibleColsService:rt}),Ll=calculateOldIndex(In,$);if(xl.length===0)return;const Nl=xl[0];let _u=Ll!==null&&!d;if(o&&(_u=Ll!==null),_u&&!g&&(!a&&Nl>=Ll||a&&Nl<=Ll))return;const Yl=rt.getAllCols(),Ul=[];let Dl=null;for(let Ju=0;Ju<xl.length;Ju++){const Uu=xl[Ju],fp=j.getProposedColumnOrder(In,Uu);if(!j.doesOrderPassRules(fp))continue;const Zu=fp.filter(Np=>Yl.includes(Np));if(Dl===null)Dl=Zu;else if(!_areEqual(Zu,Dl))break;const Lp=groupFragCount(fp);Ul.push({move:Uu,fragCount:Lp})}if(Ul.length===0)return;Ul.sort((Ju,Uu)=>Ju.fragCount-Uu.fragCount);const Zl=Ul[0].move;if(!(Zl>$.getCols().length-nt.length))return{columns:nt,toIndex:Zl}}function attemptMoveColumns(e){const{columns:o,toIndex:a}=getBestColumnMoveIndexFromXPosition(e)||{},{finished:c,columnMoveService:d}=e;return!o||a==null?null:(d.moveColumns(o,a,"uiColumnMoved",c),c?null:{columns:o,toIndex:a})}function calculateOldIndex(e,o){const a=o.getCols(),c=_sortNumerically(e.map($=>a.indexOf($))),d=c[0];return _last(c)-d!==c.length-1?null:d}function groupFragCount(e){function o(c){const d=[];let g=c.getOriginalParent();for(;g!=null;)d.push(g),g=g.getOriginalParent();return d}let a=0;for(let c=0;c<e.length-1;c++){let d=o(e[c]),g=o(e[c+1]);[d,g]=d.length>g.length?[d,g]:[g,d],d.forEach(b=>{g.indexOf(b)===-1&&a++})}return a}function getDisplayedColumns(e,o){switch(o){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function calculateValidMoves(e){const{movingCols:o,draggingRight:a,xPosition:c,pinned:d,gos:g,columnModel:b,visibleColsService:_}=e;if(g.get("suppressMovableColumns")||o.some(Dl=>Dl.getColDef().suppressMovable))return[];const j=getDisplayedColumns(_,d),rt=b.getCols(),nt=j.filter(Dl=>_includes(o,Dl)),In=j.filter(Dl=>!_includes(o,Dl)),xl=rt.filter(Dl=>!_includes(o,Dl));let Ll=0,Nl=c;if(a){let Dl=0;nt.forEach(Zl=>Dl+=Zl.getActualWidth()),Nl-=Dl}if(Nl>0){for(let Dl=0;Dl<In.length;Dl++){const Zl=In[Dl];if(Nl-=Zl.getActualWidth(),Nl<0)break;Ll++}a&&Ll++}let _u;if(Ll>0){const Dl=In[Ll-1];_u=xl.indexOf(Dl)+1}else _u=xl.indexOf(In[0]),_u===-1&&(_u=0);const Yl=[_u],Ul=(Dl,Zl)=>Dl-Zl;if(a){let Dl=_u+1;const Zl=rt.length-1;for(;Dl<=Zl;)Yl.push(Dl),Dl++;Yl.sort(Ul)}else{let Dl=_u;const Zl=rt.length-1;let Ju=rt[Dl];for(;Dl<=Zl&&j.indexOf(Ju)<0;)Dl++,Yl.push(Dl),Ju=rt[Dl];Dl=_u-1;const Uu=0;for(;Dl>=Uu;)Yl.push(Dl),Dl--;Yl.sort(Ul).reverse()}return Yl}function normaliseX(e){var j;const{pinned:o,fromKeyboard:a,gos:c,ctrlsService:d,useHeaderRow:g,skipScrollPadding:b}=e;let _=(j=d.getHeaderRowContainerCtrl(o))==null?void 0:j.getViewportElement(),{x:$}=e;return _?(a&&($-=_.getBoundingClientRect().left),c.get("enableRtl")&&(g&&(_=_.querySelector(".ag-header-row")),$=_.clientWidth-$),o==null&&!b&&($+=d.get("center").getCenterViewportScrollLeft()),$):0}function setColumnsMoving(e,o){for(const a of e)a.setMoving(o,"uiColumnMoved")}var MOVE_FAIL_THRESHOLD=7,SCROLL_MOVE_WIDTH=100,SCROLL_GAP_NEEDED_BEFORE_MOVE=SCROLL_MOVE_WIDTH/2,SCROLL_ACCELERATION_RATE=5,SCROLL_TIME_INTERVAL=100,MoveColumnFeature=class extends BeanStub{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!_exists(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var o;const e=((o=this.lastDraggingEvent)==null?void 0:o.dragItem.columns)??[];for(const a of e){const c=a.getPinned();if(a.getColDef().lockPinned){if(c==this.pinned)return"move";continue}if(c===this.pinned||!this.pinned)return"move";if(!c&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const o=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(o,!0,"uiColumnDragged");else{const c=e.dragItem.visibleState,d=(o||[]).filter(g=>c[g.getId()]);this.setColumnsVisible(d,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(o,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,o=!1,a=!1,c=!1){const d=this.gos.get("suppressMoveWhenColumnDragging");if(c&&!d){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!c&&_missing(e.hDirection))return;const{pinned:g,gos:b,ctrlsService:_}=this,$=normaliseX({x:e.x,pinned:g,gos:b,ctrlsService:_});o||this.checkCenterForScrolling($),d?this.handleColumnDragWhileSuppressingMovement(e,o,a,$,c):this.handleColumnDragWhileAllowingMovement(e,o,a,$,c)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,o,a){if(!e)return;const c=e.filter(d=>!d.getColDef().lockVisible);this.columnModel.setColsVisible(c,o,a)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:o}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,o,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,o,a,c,d){const g=this.getAllMovingColumns(e,!0);if(d){const b=this.isAttemptingToPin(g);b&&this.attemptToPinColumns(g,void 0,!0);const{fromLeft:_,xPosition:$}=this.getNormalisedXPositionInfo(g,b)||{};if(_==null||$==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:g,xPosition:$,fromEnter:o,fakeEvent:a,fromLeft:_})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(g,c)}}handleColumnDragWhileAllowingMovement(e,o,a,c,d){const g=this.getAllMovingColumns(e),b=this.normaliseDirection(e.hDirection)===1,_=e.dragSource.type===1,$=this.getMoveColumnParams({allMovingColumns:g,isFromHeader:_,xPosition:c,fromLeft:b,fromEnter:o,fakeEvent:a}),j=attemptMoveColumns({...$,finished:d});j&&(this.lastMovedInfo=j)}getAllMovingColumns(e,o=!1){const a=e.dragSource.getDragItem();let c=null;o?(c=a.columnsInSplit,c||(c=a.columns)):c=a.columns;const d=g=>g.getColDef().lockPinned?g.getPinned()==this.pinned:!0;return c?c.filter(d):[]}getMoveColumnParams(e){const{allMovingColumns:o,isFromHeader:a,xPosition:c,fromLeft:d,fromEnter:g,fakeEvent:b}=e,{pinned:_,gos:$,columnModel:j,columnMoveService:rt,visibleColsService:nt}=this;return{allMovingColumns:o,isFromHeader:a,fromLeft:d,xPosition:c,pinned:_,fromEnter:g,fakeEvent:b,gos:$,columnModel:j,columnMoveService:rt,visibleColsService:nt}}findFirstAndLastMovingColumns(e){const o=e.length;let a,c;for(let d=0;d<=o;d++){if(!a){const g=e[d];g.getLeft()!=null&&(a=g)}if(!c){const g=e[o-1-d];g.getLeft()!=null&&(c=g)}if(a&&c)break}return{firstMovingCol:a,lastMovingCol:c}}highlightHoveredColumn(e,o){var rt;const{gos:a,columnModel:c}=this,d=a.get("enableRtl"),g=c.getCols().filter(nt=>nt.isVisible()&&nt.getPinned()===this.pinned);let b=null,_=null,$=null;for(const nt of g){if(_=nt.getActualWidth(),b=this.getNormalisedColumnLeft(nt,0,d),b!=null){const In=b+_;if(b<=o&&In>=o){$=nt;break}}b=null,_=null}if($)e.indexOf($)!==-1&&($=null);else{for(let nt=g.length-1;nt>=0;nt--){const In=g[nt],xl=g[nt].getParent();if(!xl){$=In;break}const Ll=xl==null?void 0:xl.getDisplayedLeafColumns();if(Ll.length){$=_last(Ll);break}}if(!$)return;b=this.getNormalisedColumnLeft($,0,d),_=$.getActualWidth()}if(((rt=this.lastHighlightedColumn)==null?void 0:rt.column)!==$&&this.clearHighlighted(),$==null||b==null||_==null)return;let j;o-b<_/2!==d?j=0:j=1,$.setHighlighted(j),this.lastHighlightedColumn={column:$,position:j}}getNormalisedXPositionInfo(e,o){const{gos:a,visibleColsService:c}=this,d=a.get("enableRtl"),{firstMovingCol:g,column:b,position:_}=this.getColumnMoveAndTargetInfo(e,o,d);if(!g||!b||_==null)return;const $=c.getAllCols(),j=$.indexOf(g),rt=$.indexOf(b),nt=_===0!==d,In=j<rt||j===rt&&!nt;let xl=0;if(nt?In&&(xl-=1):In||(xl+=1),rt+xl===j)return;const Ll=$[rt+xl];if(!Ll)return;const Nl=this.getNormalisedColumnLeft(Ll,20,d);return{fromLeft:In,xPosition:Nl}}getColumnMoveAndTargetInfo(e,o,a){const c=this.lastHighlightedColumn||{},{firstMovingCol:d,lastMovingCol:g}=this.findFirstAndLastMovingColumns(e);if(!d||!g||c.column||!o)return{firstMovingCol:d,...c};const _=this.getPinDirection()==="left";return{firstMovingCol:d,position:_?1:0,column:_!==a?d:g}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,o,a){const{gos:c,ctrlsService:d}=this,g=e.getLeft();if(g==null)return null;const b=e.getActualWidth();return normaliseX({x:a?g+b-o:g+o,pinned:e.getPinned(),useHeaderRow:a,skipScrollPadding:!0,gos:c,ctrlsService:d})}isAttemptingToPin(e){const o=this.needToMoveLeft||this.needToMoveRight,a=this.failedMoveAttempts>MOVE_FAIL_THRESHOLD;return o&&a||e.some(c=>c.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:o,xPosition:a,fromEnter:c,fakeEvent:d,fromLeft:g}=e,b=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:!0,xPosition:a,fromLeft:g,fromEnter:c,fakeEvent:d}),{columns:_,toIndex:$}=getBestColumnMoveIndexFromXPosition(b)||{};_&&$!=null&&(this.lastMovedInfo={columns:_,toIndex:$}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const o=this.ctrlsService.get("center"),a=o.getCenterViewportScrollLeft(),c=a+o.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<a+SCROLL_GAP_NEEDED_BEFORE_MOVE,this.needToMoveLeft=e>c-SCROLL_GAP_NEEDED_BEFORE_MOVE):(this.needToMoveLeft=e<a+SCROLL_GAP_NEEDED_BEFORE_MOVE,this.needToMoveRight=e>c-SCROLL_GAP_NEEDED_BEFORE_MOVE),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),SCROLL_TIME_INTERVAL),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var c,d;let e;this.intervalCount++,e=10+this.intervalCount*SCROLL_ACCELERATION_RATE,e>SCROLL_MOVE_WIDTH&&(e=SCROLL_MOVE_WIDTH);let o=null;const a=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?o=a.scrollHorizontally(-e):this.needToMoveRight&&(o=a.scrollHorizontally(e)),o!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=MOVE_FAIL_THRESHOLD+1)return;if((c=this.dragAndDropService.getDragAndDropImageComponent())==null||c.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const g=(d=this.lastDraggingEvent)==null?void 0:d.dragItem.columns;this.attemptToPinColumns(g,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,o,a=!1){const c=(e||[]).filter(d=>!d.getColDef().lockPinned);return c.length?(a&&(o=this.getPinDirection()),this.columnModel.setColsPinned(c,o,"uiColumnDragged"),a&&this.dragAndDropService.nudge(),c.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},BodyDropTarget=class extends BeanStub{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,o){super(),this.pinned=e,this.eContainer=o}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},ResizeFeature=class extends BeanStub{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,o,a,c,d){super(),this.pinned=e,this.column=o,this.eResize=a,this.comp=c,this.ctrl=d}postConstruct(){const e=[];let o,a;const c=()=>{if(_setDisplayed(this.eResize,o),!o)return;const b=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(b),a){const _=this.gos.get("skipHeaderOnAutoSize"),$=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",_)};this.eResize.addEventListener("dblclick",$);const j=new TouchListener(this.eResize);j.addEventListener("doubleTap",$),e.push(()=>{this.eResize.removeEventListener("dblclick",$),j.removeEventListener("doubleTap",$),j.destroy()})}},d=()=>{e.forEach(b=>b()),e.length=0},g=()=>{const b=this.column.isResizable(),_=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(b!==o||_!==a)&&(o=b,a=_,d(),c())};g(),this.addDestroyFunc(d),this.ctrl.setRefreshFunction("resize",g)}onResizing(e,o){const{column:a,lastResizeAmount:c,resizeStartWidth:d}=this,g=this.normaliseResizeAmount(o),b=d+g,_=[{key:a,newWidth:b}];if(this.column.getPinned()){const $=this.pinnedWidthService.getPinnedLeftWidth(),j=this.pinnedWidthService.getPinnedRightWidth(),rt=_getInnerWidth(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if($+j+(g-c)>rt)return}this.lastResizeAmount=g,this.columnSizeService.setColumnWidths(_,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let o=e;const a=this.pinned!=="left",c=this.pinned==="right";return this.gos.get("enableRtl")?a&&(o*=-1):c&&(o*=-1),o}},SelectAllFeature=class extends BeanStub{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const o=this.cbSelectAll;o.isDisplayed()&&!o.getGui().contains(_getActiveDomElement(this.gos))&&(e.preventDefault(),o.setValue(!o.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new AgCheckbox),this.cbSelectAll.addCssClass("ag-header-select-all"),_setAriaRole(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const o=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),a=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),c=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${c} (${a})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return _isMultiRowSelection(this.gos)?!0:(_warnOnce(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return _isClientSideRowModel(this.gos)||_isServerSideRowModel(this.gos)?!0:(_warnOnce(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),o=this.isFilteredOnly(),a=this.isCurrentPageOnly();let c="uiSelectAll";a?c="uiSelectAllCurrentPage":o&&(c="uiSelectAllFiltered");const d={source:c,justFiltered:o,justCurrentPage:a};e?this.selectionService.selectAllRowNodes(d):this.selectionService.deselectAllRowNodes(d)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),o=typeof e=="object"&&_getHeaderCheckbox(e)&&isColumnControlsCol(this.column),a=this.column.getColDef().headerCheckboxSelection;let c=!1;return o?c=!0:typeof a=="function"?c=a(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):c=!!a,c&&this.checkRightRowModelType(o?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(o?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},HeaderCellCtrl=class extends AbstractHeaderCellCtrl{constructor(e,o,a){super(e,o,a),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,o,a,c,d){this.comp=e,d=setupCompBean(this,this.beans.context,d),this.setGui(o,d),this.updateState(),this.setupWidth(d),this.setupMovingCss(d),this.setupMenuClass(d),this.setupSortableClass(d),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:c,checkMeasuringCallback:b=>this.setRefreshFunction("measuring",b),compBean:d}),this.addColumnHoverListener(d),this.setupFilterClass(d),this.setupClassesFromColDef(),this.setupTooltip(d),this.addActiveHeaderMouseListeners(d),this.setupSelectAll(d),this.setupUserComp(d),this.refreshAria(),this.resizeFeature=d.createManagedBean(new ResizeFeature(this.getPinned(),this.column,a,e,this)),d.createManagedBean(new HoverFeature([this.column],o)),d.createManagedBean(new SetLeftFeature(this.column,o,this.beans)),d.createManagedBean(new ManagedFocusFeature(o,{shouldStopEventPropagation:b=>this.shouldStopEventPropagation(b),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(d),d.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(d)),d.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(d)}),d.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const g=()=>this.checkDisplayName(d);d.addManagedEventListeners({columnValueChanged:g,columnRowGroupChanged:g,columnPivotChanged:g,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),d.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,o){if(!this.column.isResizable())return;const a=this.column.getActualWidth(),c=this.column.getMinWidth(),d=this.column.getMaxWidth(),g=Math.min(Math.max(a+e,c),d);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:g}],o,!0,"uiColumnResized")}moveHeader(e){const{eGui:o,beans:a,column:c,ctrlsService:d}=this,{gos:g,columnModel:b,columnMoveService:_,visibleColsService:$}=a,j=this.getPinned(),rt=o.getBoundingClientRect().left,nt=c.getActualWidth(),In=g.get("enableRtl"),Ll=normaliseX({x:e===0!==In?rt-20:rt+nt+20,pinned:j,fromKeyboard:!0,gos:g,ctrlsService:d}),Nl=this.focusService.getFocusedHeader();attemptMoveColumns({allMovingColumns:[c],isFromHeader:!0,fromLeft:e===1,xPosition:Ll,pinned:j,fromEnter:!1,fakeEvent:!1,gos:g,columnModel:b,columnMoveService:_,visibleColsService:$,finished:!0}),d.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(c,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&Nl&&this.restoreFocus(Nl)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const o=this.lookupUserCompDetails(e);this.setCompDetails(o)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const o=this.createParams(e),a=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(a,o)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:a=>{this.menuService.showColumnMenu({column:this.column,buttonElement:a,positionBy:"button"})},showColumnMenuAfterMouseClick:a=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:a,positionBy:"mouse"})},showFilter:a=>{this.menuService.showFilterMenu({column:this.column,buttonElement:a,containerType:"columnFilter",positionBy:"button"})},progressSort:a=>{this.beans.sortController.progressSort(this.column,!!a,"uiColumnSorted")},setSort:(a,c)=>{this.beans.sortController.setSortForColumn(this.column,a,!!c,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(a,c)=>{this.setupTooltip(e,a,c)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new SelectAllFeature(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===KeyCode.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===KeyCode.ENTER&&this.onEnterKeyDown(e),e.key===KeyCode.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const o=e.shiftKey;this.beans.sortController.progressSort(this.column,o,"uiColumnSorted")}}showMenuOnKeyPress(e,o){const a=this.comp.getUserCompInstance();!a||!(a instanceof HeaderComp)||a.onMenuKeyboardShortcut(o)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const o=this.getRowIndex();this.focusService.setFocusedHeader(o,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,o,a){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const c=this.gos.get("tooltipShowMode")==="whenTruncated",d=this.eGui,g=this.column.getColDef();!a&&c&&!g.headerComponent&&(a=()=>{const $=d.querySelector(".ag-header-cell-text");return $?$.scrollWidth>$.clientWidth:!0});const b={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>d,getLocation:()=>"header",getTooltipValue:()=>o??this.column.getColDef().headerTooltip,shouldDisplayTooltip:a},_=e.createManagedBean(new TooltipFeature(b));this.setRefreshFunction("tooltip",()=>_.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const o=this.column.getColDef(),a=_getHeaderClassesFromColDef(o,this.gos,this.column,null),c=this.userHeaderClasses;this.userHeaderClasses=new Set(a),a.forEach(d=>{c.has(d)?c.delete(d):this.comp.addOrRemoveCssClass(d,!0)}),c.forEach(d=>this.comp.addOrRemoveCssClass(d,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:o,beans:a,displayName:c,dragAndDropService:d,gos:g}=this,{columnModel:b}=a;let _=!this.gos.get("suppressDragLeaveHidesColumns");const $=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>_?"hide":"notAllowed",getDragItem:()=>this.createDragItem(o),dragItemName:c,onDragStarted:()=>{_=!g.get("suppressDragLeaveHidesColumns"),setColumnsMoving([o],!0)},onDragStopped:()=>setColumnsMoving([o],!1),onDragCancelled:()=>setColumnsMoving([o],!1),onGridEnter:j=>{var rt;if(_){const nt=((rt=j==null?void 0:j.columns)==null?void 0:rt.filter(In=>!In.getColDef().lockVisible))||[];b.setColsVisible(nt,!0,"uiColumnMoved")}},onGridExit:j=>{var rt;if(_){const nt=((rt=j==null?void 0:j.columns)==null?void 0:rt.filter(In=>!In.getColDef().lockVisible))||[];b.setColsVisible(nt,!1,"uiColumnMoved")}}};d.addDragSource($,!0)}createDragItem(e){const o={};return o[e.getId()]=e.isVisible(),{columns:[e],visibleState:o}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,o){this.refreshFunctions[e]=o}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(o=>o())}refreshHeaderComp(e){const o=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==o.componentClass?this.attemptHeaderCompRefresh(o.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(o)}attemptHeaderCompRefresh(e){const o=this.comp.getUserCompInstance();return!o||!o.refresh?!1:o.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const o=()=>{const a=this.column.getActualWidth();this.comp.setWidth(`${a}px`)};e.addManagedListeners(this.column,{widthChanged:o}),o()}setupMovingCss(e){const o=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:o}),o()}setupMenuClass(e){const o=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:o}),o()}setupSortableClass(e){const o=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};o(),this.setRefreshFunction("updateSortable",o),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const o=()=>{const a=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",a),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:o}),o()}setupWrapTextClass(){const e=()=>{const o=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",o)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),o=e===0,a=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:o,comp:a,beans:c}=this,d=this.beans.columnModel.getGroupRowsHeight(),g=d.reduce((nt,In)=>nt+=In,0)===0;if(a.addOrRemoveCssClass("ag-header-parent-hidden",g),!o.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),a.addOrRemoveCssClass("ag-header-span-height",!1),a.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:b,isSpanningTotal:_}=this.column.getColumnGroupPaddingInfo();a.addOrRemoveCssClass("ag-header-span-height",b>0);const{columnModel:$}=c,j=$.getColumnHeaderRowHeight();if(b===0){a.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${j}px`);return}a.addOrRemoveCssClass("ag-header-span-total",_);let rt=0;for(let nt=0;nt<b;nt++)rt+=d[d.length-1-nt];e.style.setProperty("top",`${-rt}px`),e.style.setProperty("height",`${j+rt}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),o=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(_getAriaSortState(o)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,o){o!=null?this.ariaDescriptionProperties.set(e,o):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(_getActiveDomElement(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((o,a)=>o==="filter"?-1:a.charCodeAt(0)-o.charCodeAt(0)).map(o=>this.ariaDescriptionProperties.get(o)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const o=()=>{if(!this.gos.get("columnHoverHighlight"))return;const a=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",a)};e.addManagedEventListeners({columnHoverChanged:o}),o()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const o=d=>this.handleMouseOverChange(d.type==="mouseenter"),a=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),c=d=>this.handleContextMenuMouseEvent(d,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:o,mouseleave:o,click:a,contextmenu:c})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const o=this.comp.getUserCompInstance();return o instanceof HeaderComp?o.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},GroupResizeFeature=class extends BeanStub{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,o,a,c){super(),this.eResize=o,this.comp=e,this.pinned=a,this.columnGroup=c}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const o=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const a=[];this.columnGroup.getDisplayedLeafColumns().forEach(d=>{d.getColDef().suppressAutoSize||a.push(d.getColId())}),a.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:a,skipHeader:o,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const o=this.getInitialValues(e);this.storeLocalValues(o),this.toggleColumnResizing(!0)}onResizing(e,o,a="uiColumnResized"){const c=this.normaliseDragChange(o),d=this.resizeStartWidth+c;this.resizeColumnsFromLocalValues(d,a,e)}getInitialValues(e){const o=this.getColumnsToResize(),a=this.getInitialSizeOfColumns(o),c=this.getSizeRatiosOfColumns(o,a),d={columnsToResize:o,resizeStartWidth:a,resizeRatios:c};let g=null;if(e&&(g=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),g){const b=g.getDisplayedLeafColumns(),_=d.groupAfterColumns=b.filter(j=>j.isResizable()),$=d.groupAfterStartWidth=this.getInitialSizeOfColumns(_);d.groupAfterRatios=this.getSizeRatiosOfColumns(_,$)}else d.groupAfterColumns=void 0,d.groupAfterStartWidth=void 0,d.groupAfterRatios=void 0;return d}storeLocalValues(e){const{columnsToResize:o,resizeStartWidth:a,resizeRatios:c,groupAfterColumns:d,groupAfterStartWidth:g,groupAfterRatios:b}=e;this.resizeCols=o,this.resizeStartWidth=a,this.resizeRatios=c,this.resizeTakeFromCols=d,this.resizeTakeFromStartWidth=g,this.resizeTakeFromRatios=b}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const o=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),a=this.getInitialValues();o>a.resizeStartWidth&&this.resizeColumns(a,o,e,!0)}resizeColumnsFromLocalValues(e,o,a=!0){if(!this.resizeCols||!this.resizeRatios)return;const c={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(c,e,o,a)}resizeColumns(e,o,a,c=!0){const{columnsToResize:d,resizeStartWidth:g,resizeRatios:b,groupAfterColumns:_,groupAfterStartWidth:$,groupAfterRatios:j}=e,rt=[];if(rt.push({columns:d,ratios:b,width:o}),_){const nt=o-g;rt.push({columns:_,ratios:j,width:$-nt})}this.columnSizeService.resizeColumnSets({resizeSets:rt,finished:c,source:a}),c&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(o=>o.isResizable())}getInitialSizeOfColumns(e){return e.reduce((o,a)=>o+a.getActualWidth(),0)}getSizeRatiosOfColumns(e,o){return e.map(a=>a.getActualWidth()/o)}normaliseDragChange(e){let o=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(o*=-1):this.pinned==="right"&&(o*=-1),o}destroy(){super.destroy(),this.clearLocalValues()}},GroupWidthFeature=class extends BeanStub{constructor(e,o){super(),this.removeChildListenersFuncs=[],this.columnGroup=o,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(o=>{o.addEventListener("widthChanged",e),o.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{o.removeEventListener("widthChanged",e),o.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},HeaderGroupCellCtrl=class extends AbstractHeaderCellCtrl{constructor(e,o,a){super(e,o,a),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const c=this.getGui();this.setDragSource(c)}},this.column=e}setComp(e,o,a,c,d){this.comp=e,d=setupCompBean(this,this.beans.context,d),this.setGui(o,d),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(d),this.setupExpandable(d),this.setupTooltip(d),this.setupAutoHeight({wrapperElement:c,compBean:d}),this.setupUserComp(d),this.addHeaderMouseListeners(d),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const g=this.getParentRowCtrl().getPinned(),b=this.column.getProvidedColumnGroup().getLeafColumns();d.createManagedBean(new HoverFeature(b,o)),d.createManagedBean(new SetLeftFeature(this.column,o,this.beans)),d.createManagedBean(new GroupWidthFeature(e,this.column)),this.resizeFeature=d.createManagedBean(new GroupResizeFeature(e,a,g,this.column)),d.createManagedBean(new ManagedFocusFeature(o,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(d,b),d.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(d),d.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:o}=this,a=e.get("groupHeaderHeight");a!=null?a===0?o.setHeaderWrapperHidden(!0):o.setHeaderWrapperMaxHeight(a):(o.setHeaderWrapperHidden(!1),o.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,o){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const a of o)e.addManagedListeners(a,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,a)})}onLeafColumnHighlightChanged(e){const o=this.column.getDisplayedLeafColumns(),a=o[0]===e,c=_last(o)===e;if(!a&&!c)return;const d=e.getHighlighted(),g=!!this.getParentRowCtrl().findHeaderCellCtrl($=>$.getColumnGroupChild().isMoving());let b=!1,_=!1;if(g){const $=this.beans.gos.get("enableRtl"),j=d===1,rt=d===0;a&&($?_=j:b=rt),c&&($?b=rt:_=j)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",b),this.comp.addOrRemoveCssClass("ag-header-highlight-after",_)}getColumn(){return this.column}resizeHeader(e,o){if(!this.resizeFeature)return;const a=this.resizeFeature.getInitialValues(o);this.resizeFeature.resizeColumns(a,a.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:o,eGui:a,column:c,ctrlsService:d}=this,{gos:g,columnModel:b,columnMoveService:_,visibleColsService:$}=o,j=g.get("enableRtl"),rt=e===0,nt=this.getPinned(),In=a.getBoundingClientRect(),xl=In.left,Ll=In.width,Nl=normaliseX({x:rt!==j?xl-20:xl+Ll+20,pinned:nt,fromKeyboard:!0,gos:g,ctrlsService:d}),_u=c.getGroupId(),Yl=this.focusService.getFocusedHeader();attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:Nl,pinned:nt,fromEnter:!1,fakeEvent:!1,gos:g,columnModel:b,columnMoveService:_,visibleColsService:$,finished:!0});const Ul=c.getDisplayedLeafColumns(),Dl=rt?Ul[0]:_last(Ul);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(Dl,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&Yl&&this.restoreFocus(_u,c,Yl)}restoreFocus(e,o,a){const c=o.getLeafColumns();if(!c.length)return;const d=c[0].getParent();if(!d)return;const g=this.findGroupWidthId(d,e);g&&this.focusService.focusHeaderPosition({headerPosition:{...a,column:g}})}findGroupWidthId(e,o){for(;e;){if(e.getGroupId()===o)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const o=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:c=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),c,"gridInitializing")},setTooltip:(c,d)=>{this.setupTooltip(e,c,d)}}),a=this.userComponentFactory.getHeaderGroupCompDetails(o);this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const o=d=>this.handleMouseOverChange(d.type==="mouseenter"),a=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),c=d=>this.handleContextMenuMouseEvent(d,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:o,mouseleave:o,click:a,contextmenu:c})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,o,a){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const c=this.column.getColGroupDef(),d=this.gos.get("tooltipShowMode")==="whenTruncated",g=this.eGui;!a&&d&&!(c!=null&&c.headerGroupComponent)&&(a=()=>{const _=g.querySelector(".ag-header-group-text");return _?_.scrollWidth>_.clientWidth:!0});const b={getColumn:()=>this.column,getGui:()=>g,getLocation:()=>"headerGroup",getTooltipValue:()=>o??(c&&c.headerTooltip),shouldDisplayTooltip:a};c&&(b.getColDef=()=>c),e.createManagedBean(new TooltipFeature(b))}setupExpandable(e){const o=this.column.getProvidedColumnGroup();this.refreshExpanded();const a=this.refreshExpanded.bind(this);e.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const o=e.isExpanded();this.expandable?this.comp.setAriaExpanded(o?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),o=_getHeaderClassesFromColDef(e,this.gos,null,this.column);this.column.isPadding()?(o.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(c=>c.isSpanHeaderHeight())&&o.push("ag-header-span-height")):(o.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&o.push("ag-header-cell-wrap-text")),o.forEach(a=>this.comp.addOrRemoveCssClass(a,!0))}setupMovingCss(e){const a=this.column.getProvidedColumnGroup().getLeafColumns(),c=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());a.forEach(d=>{e.addManagedListeners(d,{movingChanged:c})}),c()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const o=this.getWrapperHasFocus();if(!(!this.expandable||!o)&&e.key===KeyCode.ENTER){const a=this.column,c=!a.isExpanded();this.beans.columnModel.setColumnGroupOpened(a.getProvidedColumnGroup(),c,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:o,column:a,displayName:c,gos:d,dragAndDropService:g}=this,{columnModel:b}=o,_=a.getProvidedColumnGroup().getLeafColumns();let $=!d.get("suppressDragLeaveHidesColumns");const j=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>$?"hide":"notAllowed",dragItemName:c,getDragItem:()=>this.getDragItemForGroup(a),onDragStarted:()=>{$=!d.get("suppressDragLeaveHidesColumns"),setColumnsMoving(_,!0)},onDragStopped:()=>setColumnsMoving(_,!1),onDragCancelled:()=>setColumnsMoving(_,!1),onGridEnter:rt=>{if($){const{columns:nt=[],visibleState:In}=rt??{},xl=nt.filter(Ll=>!Ll.getColDef().lockVisible&&(!In||In[Ll.getColId()]));b.setColsVisible(xl,!0,"uiColumnMoved")}},onGridExit:rt=>{var nt;if($){const In=((nt=rt==null?void 0:rt.columns)==null?void 0:nt.filter(xl=>!xl.getColDef().lockVisible))||[];b.setColsVisible(In,!1,"uiColumnMoved")}}};g.addDragSource(j,!0)}getDragItemForGroup(e){const o=e.getProvidedColumnGroup().getLeafColumns(),a={};o.forEach(b=>a[b.getId()]=b.isVisible());const c=[];this.beans.visibleColsService.getAllCols().forEach(b=>{o.indexOf(b)>=0&&(c.push(b),_removeFromArray(o,b))}),o.forEach(b=>c.push(b));const d=[],g=e.getLeafColumns();for(const b of c)g.indexOf(b)!==-1&&d.push(b);return{columns:c,columnsInSplit:d,visibleState:a}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(a=>{(a.getColDef().suppressMovable||a.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},instanceIdSequence3=0,HeaderRowCtrl=class extends BeanStub{constructor(e,o,a){super(),this.instanceId=instanceIdSequence3++,this.rowIndex=e,this.pinned=o,this.type=a;const c=a=="group"?"ag-header-row-column-group":a=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${c}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=_isDomLayout(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,o,a=!0){this.comp=e,o=setupCompBean(this,this.beans.context,o),a&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(o)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const o=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:a=>this.onVirtualColumnsChanged(a.afterScroll),columnGroupHeaderHeightChanged:o,columnHeaderHeightChanged:o,gridStylesChanged:o,advancedFilterEnabledChanged:o}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",a=>this.isEnsureDomOrder=a.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],o)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return _values(this.headerCellCtrls).find(o=>o.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=_isDomLayout(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:o}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(o+"px")}getTopAndHeight(){const{columnModel:e,filterManager:o}=this.beans,a=[],c=e.getGroupRowsHeight(),d=e.getColumnHeaderRowHeight();a.push(...c),a.push(d),o!=null&&o.hasFloatingFilters()&&a.push(e.getFloatingFiltersHeight());let g=0;for(let _=0;_<this.rowIndex;_++)g+=a[_];const b=a[this.rowIndex];return{topOffset:g,rowHeight:b}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const o=this.getHeaderCtrls(),a=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(o,a,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const o=this.getColumnsInViewport();for(const c of o)this.recycleAndCreateHeaderCtrls(c,e);const a=c=>{const{focusService:d,visibleColsService:g}=this.beans;return d.isHeaderWrapperFocused(c)?g.isVisible(c.getColumnGroupChild()):!1};if(e)for(const[c,d]of e)a(d)?this.headerCellCtrls.set(c,d):this.destroyBean(d);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,o){if(!this.headerCellCtrls||e.isEmptyGroup())return;const a=e.getUniqueId();let c;if(o&&(c=o.get(a),o.delete(a)),c&&c.getColumnGroupChild()!=e&&(this.destroyBean(c),c=void 0),c==null)switch(this.type){case"filter":{c=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":c=this.createBean(new HeaderGroupCellCtrl(e,this.beans,this));break;default:c=this.createBean(new HeaderCellCtrl(e,this.beans,this));break}this.headerCellCtrls.set(a,c)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const o=this.getActualDepth(),{columnViewportService:a}=this.beans;return["left",null,"right"].forEach(c=>{const d=a.getHeadersToRender(c,o);e=e.concat(d)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const o=this.getHeaderCellCtrls();let a;return typeof e=="function"?a=o.find(e):a=o.find(c=>c.getColumnGroupChild()==e),a}focusHeader(e,o){const a=this.findHeaderCellCtrl(e);return a?a.focus(o):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(o=>{this.destroyBean(o)}),this.headerCellCtrls=void 0,super.destroy()}},HeaderRowContainerCtrl=class extends BeanStub{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,o){this.comp=e,this.eViewport=o,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const c=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(c,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const o=new NumberSequence,a=this.focusService.getFocusHeaderToUseAfterRefresh(),c=()=>{const _=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let $=0;$<_;$++){const j=this.createBean(new HeaderRowCtrl(o.next(),this.pinned,"group"));this.groupsRowCtrls.push(j)}},d=()=>{const _=o.next(),$=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==_);($||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),$&&(this.columnsRowCtrl=this.createBean(new HeaderRowCtrl(_,this.pinned,"column")))},g=()=>{var j;this.includeFloatingFilter=!!((j=this.filterManager)!=null&&j.hasFloatingFilters())&&!this.hidden;const _=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){_();return}const $=o.next();if(this.filtersRowCtrl){const rt=this.filtersRowCtrl.getRowIndex()!==$;(!e||rt)&&_()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new HeaderRowCtrl($,this.pinned,"filter")))};c(),d(),g();const b=this.getAllCtrls();this.comp.setCtrls(b),this.restoreFocusOnHeader(a)}getHeaderCtrlForColumn(e){var o;if(isColumn(e))return(o=this.columnsRowCtrl)==null?void 0:o.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let a=0;a<this.groupsRowCtrls.length;a++){const c=this.groupsRowCtrls[a].getHeaderCellCtrl(e);if(c)return c}}getHtmlElementForColumnHeader(e){const o=this.getHeaderCtrlForColumn(e);return o?o.getGui():null}getRowType(e){const a=this.getAllCtrls()[e];return a?a.getType():void 0}focusHeader(e,o,a){const d=this.getAllCtrls()[e];return d?d.focusHeader(o,a):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const o=new BodyDropTarget(this.pinned,e);this.createManagedBean(o)}restoreFocusOnHeader(e){if(!e)return;const{column:o}=e;o.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var o;const e=((o=this.filterManager)==null?void 0:o.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new CenterWidthFeature(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",o=this.pinned==="right";this.hidden=!0;const a=()=>{const c=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(c==null)return;const d=c==0,g=this.hidden!==d,b=this.gos.get("enableRtl"),_=this.scrollVisibleService.getScrollbarWidth(),j=this.scrollVisibleService.isVerticalScrollShowing()&&(b&&e||!b&&o)?c+_:c;this.comp.setPinnedContainerWidth(`${j}px`),this.comp.setDisplayed(!d),g&&(this.hidden=d,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:a,rightPinnedWidthChanged:a,scrollVisibilityChanged:a,scrollbarWidthChanged:a})}},PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,HeaderRowContainerComp$1=class extends Component{constructor(o){super(),this.eCenterContainer=RefPlaceholder,this.headerRowComps={},this.rowCompsList=[],this.pinned=o}postConstruct(){this.selectAndSetTemplate();const o={setDisplayed:c=>this.setDisplayed(c),setCtrls:c=>this.setCtrls(c),setCenterWidth:c=>this.eCenterContainer.style.width=c,setViewportScrollLeft:c=>this.getGui().scrollLeft=c,setPinnedContainerWidth:c=>{const d=this.getGui();d.style.width=c,d.style.maxWidth=c,d.style.minWidth=c}};this.createManagedBean(new HeaderRowContainerCtrl(this.pinned)).setComp(o,this.getGui())}selectAndSetTemplate(){const o=this.pinned=="left",a=this.pinned=="right",c=o?PINNED_LEFT_TEMPLATE:a?PINNED_RIGHT_TEMPLATE:CENTER_TEMPLATE;this.setTemplate(c),this.eRowContainer=this.eCenterContainer!==RefPlaceholder?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(o){this.destroyBean(o),this.eRowContainer.removeChild(o.getGui())}setCtrls(o){const a=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let c;const d=g=>{const b=g.getGui();b.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(b),c&&_ensureDomOrder(this.eRowContainer,b,c),c=b};o.forEach(g=>{const b=g.instanceId,_=a[b];delete a[b];const $=_||this.createBean(new HeaderRowComp$1(g));this.headerRowComps[b]=$,this.rowCompsList.push($),d($)}),_getAllValuesInObject(a).forEach(g=>this.destroyRowComp(g))}},GridHeaderComp$1=class extends Component{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const o={addOrRemoveCssClass:(d,g)=>this.addOrRemoveCssClass(d,g),setHeightAndMinHeight:d=>{this.getGui().style.height=d,this.getGui().style.minHeight=d}};this.createManagedBean(new GridHeaderCtrl).setComp(o,this.getGui(),this.getFocusableElement());const c=d=>{this.createManagedBean(d),this.appendChild(d)};c(new HeaderRowContainerComp$1("left")),c(new HeaderRowContainerComp$1(null)),c(new HeaderRowContainerComp$1("right"))}},GridHeaderSelector={selector:"AG-HEADER-ROOT",component:GridHeaderComp$1},LayoutCssClasses=(e=>(e.AUTO_HEIGHT="ag-layout-auto-height",e.NORMAL="ag-layout-normal",e.PRINT="ag-layout-print",e))(LayoutCssClasses||{}),LayoutFeature=class extends BeanStub{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),o={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},a=o.autoHeight?"ag-layout-auto-height":o.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(a,o)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(_warnOnce(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},OverlayWrapperComponent=class extends Component{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=RefPlaceholder,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==KeyCode.TAB||e.defaultPrevented||_isStopPropagationForAgGrid(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let a=!1;e.shiftKey?a=this.focusService.focusGridView(_last(this.visibleColsService.getAllCols()),!0,!1):a=this.focusService.focusNextGridCoreContainer(!1),a&&e.preventDefault()}updateLayoutClasses(e,o){const a=this.eOverlayWrapper.classList;a.toggle("ag-layout-auto-height",o.autoHeight),a.toggle("ag-layout-normal",o.normal),a.toggle("ag-layout-print",o.print)}postConstruct(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const o=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&o.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,o.toggle(e,!0)}showOverlay(e,o,a,c){if(this.setWrapperTypeClass(o),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),a&&this.focusService.isGridFocused()){const d=_getActiveDomElement(this.gos);d&&!_isNothingFocused(this.gos)&&(this.elToFocusAfter=d)}e.then(d=>{if(this.activePromise!==e){this.activeOverlay!==d&&(this.destroyBean(d),d=null);return}if(this.activePromise=null,!d)return;if(this.activeOverlay!==d&&(this.eOverlayWrapper.appendChild(d.getGui()),this.activeOverlay=d,c)){const b=d;this.updateListenerDestroyFunc=this.addManagedPropertyListener(c,({currentValue:_})=>{var $;($=b.refresh)==null||$.call(b,this.gos.addGridCommonParams({..._??{}}))})}const g=this.focusService;a&&g.isGridFocused()&&g.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var c;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let o=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,o&&!this.focusService.isGridFocused()&&(o=null);const a=this.updateListenerDestroyFunc;a&&(a(),this.updateListenerDestroyFunc=null),this.destroyBean(e),_clearElement(this.eOverlayWrapper),(c=o==null?void 0:o.focus)==null||c.call(o,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},OverlayWrapperSelector={selector:"AG-OVERLAY-WRAPPER",component:OverlayWrapperComponent},AbstractFakeScrollComp=class extends Component{constructor(e,o){super(),this.direction=o,this.eViewport=RefPlaceholder,this.eContainer=RefPlaceholder,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",_isMacOsUserAgent()||_isIOSUserAgent())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=_isInvisibleScrollbar(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),o=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),a=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:o,mousedown:o,touchstart:o,mouseleave:a,touchend:a})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const o=this.getViewportElement();_waitUntil(()=>_isVisible(o),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},FakeHScrollComp=class extends AbstractFakeScrollComp{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=RefPlaceholder,this.eRightSpacer=RefPlaceholder}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new CenterWidthFeature(o=>this.eContainer.style.width=`${o}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let o=this.visibleColsService.getDisplayedColumnsRightWidth();const a=!this.enableRtl&&e,c=this.scrollVisibleService.getScrollbarWidth();a&&(o+=c),_setFixedWidth(this.eRightSpacer,o),this.eRightSpacer.classList.toggle("ag-scroller-corner",o<=c);let d=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(d+=c),_setFixedWidth(this.eLeftSpacer,d),this.eLeftSpacer.classList.toggle("ag-scroller-corner",d<=c)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),o=this.invisibleScrollbar,a=this.gos.get("suppressHorizontalScroll"),c=e&&this.scrollVisibleService.getScrollbarWidth()||0,g=a?0:c===0&&o?16:c;this.addOrRemoveCssClass("ag-scrollbar-invisible",o),_setFixedHeight(this.getGui(),g),_setFixedHeight(this.eViewport,g),_setFixedHeight(this.eContainer,g),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return _getScrollLeft(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){_isVisible(this.getViewportElement())||this.attemptSettingScrollPosition(e),_setScrollLeft(this.getViewportElement(),e,this.enableRtl)}},FakeHScrollSelector={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:FakeHScrollComp},SetHeightFeature=class extends BeanStub{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,o){super(),this.eContainer=e,this.eViewport=o}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),o=e!=null?`${e}px`:"";this.eContainer.style.height=o,this.eViewport&&(this.eViewport.style.height=o)}},FakeVScrollComp=class extends AbstractFakeScrollComp{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new SetHeightFeature(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),o=this.invisibleScrollbar,a=e&&this.scrollVisibleService.getScrollbarWidth()||0,c=a===0&&o?16:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",o),_setFixedWidth(this.getGui(),c),_setFixedWidth(this.eViewport,c),_setFixedWidth(this.eContainer,c),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,a=e.getGridBodyCtrl().getBodyViewportElement(),c=this.getScrollPosition(),d=a.scrollTop;c!=d&&this.setScrollPosition(d,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,o){!o&&!_isVisible(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},FakeVScrollSelector={selector:"AG-FAKE-VERTICAL-SCROLL",component:FakeVScrollComp},HorizontalSources=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(HorizontalSources||{}),GridBodyScrollFeature=class extends BeanStub{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=_debounce(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=_debounce(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(HorizontalSources)){const o=this.ctrlsService.get(e);this.registerScrollPartner(o,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),o=this.gos.get("debounceVerticalScrollbar"),a=o?_debounce(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),c=o?_debounce(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:a}),this.registerScrollPartner(e,c)}registerScrollPartner(e,o){e.onScrollCallback(o)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const o of[...Object.values(HorizontalSources),"Viewport"]){if(this.lastScrollSource[1]===o)continue;const a=this.getViewportForSource(o);_setScrollLeft(a,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,o){return this.lastScrollSource[o]==null?(o===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[o]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const o=this.centerRowsCtrl.getViewportElement(),{scrollLeft:a}=o;if(this.shouldBlockScrollUpdate(1,a,!0))return;const c=_getScrollLeft(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(c),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let o;e==="Viewport"?o=this.eBodyViewport.scrollTop:o=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,o,!0)&&(this.animationFrameService.setScrollTop(o),this.nextScrollTop=o,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(o):this.eBodyViewport.scrollTop=o,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const o=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===o||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const o={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(o),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...o,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,o,a=!1){return a&&!_isIOSUserAgent()?!1:e===0?this.shouldBlockVerticalScroll(o):this.shouldBlockHorizontalScroll(o)}shouldBlockVerticalScroll(e){const o=_getInnerHeight(this.eBodyViewport),{scrollHeight:a}=this.eBodyViewport;return e<0||e+o>a}shouldBlockHorizontalScroll(e){const o=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:a}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+o>a}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,o=!1){const c=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!o&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:c:e=Math.min(Math.max(e,0),c)),_setScrollLeft(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const o=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(o+e),this.centerRowsCtrl.getViewportElement().scrollLeft-o}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,o=null){const a=this.rowModel.getRowCount();let c=-1;for(let d=0;d<a;d++){const g=this.rowModel.getRow(d);if(typeof e=="function"){if(g&&e(g)){c=d;break}}else if(e===g||e===g.data){c=d;break}}c>=0&&this.ensureIndexVisible(c,o)}ensureIndexVisible(e,o){if(_isDomLayout(this.gos,"print"))return;const a=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=a){_warnOnce("Invalid row index for ensureIndexVisible: "+e);return}const d=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var rt;d||(rt=this.paginationService)==null||rt.goToPageWithIndex(e);const g=this.ctrlsService.getGridBodyCtrl(),b=g.getStickyTopHeight(),_=g.getStickyBottomHeight(),$=this.rowModel.getRow(e);let j;do{const nt=$.rowTop,In=$.rowHeight,xl=this.pageBoundsService.getPixelOffset(),Ll=$.rowTop-xl,Nl=Ll+$.rowHeight,_u=this.getVScrollPosition(),Yl=this.heightScaler.getDivStretchOffset(),Ul=_u.top+Yl,Dl=_u.bottom+Yl,Zl=Dl-Ul,Ju=this.heightScaler.getScrollPositionForPixel(Ll),Uu=this.heightScaler.getScrollPositionForPixel(Nl-Zl),fp=Math.min((Ju+Uu)/2,Ll),Zu=Ul+b>Ll,Lp=Dl-_<Nl;let Np=null;o==="top"?Np=Ju:o==="bottom"?Np=Uu:o==="middle"?Np=fp:Zu?Np=Ju-b:Lp&&(Np=Uu+_),Np!==null&&(this.setVerticalScrollPosition(Np),this.rowRenderer.redraw({afterScroll:!0})),j=nt!==$.rowTop||In!==$.rowHeight}while(j);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,o="auto"){const a=this.columnModel.getCol(e);if(!a||a.isPinned()||!this.visibleColsService.isColDisplayed(a))return;const c=this.getPositionedHorizontalScroll(a,o);this.getFrameworkOverrides().wrapIncoming(()=>{c!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(c),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,o){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,o){const{columnBeforeStart:a,columnAfterEnd:c}=this.isColumnOutsideViewport(e),d=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),g=this.centerRowsCtrl.getCenterWidth(),b=this.enableRtl;let _=(b?a:c)||d,$=b?c:a;o!=="auto"&&(_=o==="start",$=o==="end");const j=o==="middle";if(_||$||j){const{colLeft:rt,colMiddle:nt,colRight:In}=this.getColumnBounds(e);return j?nt-g/2:_?b?In:rt:b?rt-g:In-g}return null}isColumnOutsideViewport(e){const{start:o,end:a}=this.getViewportBounds(),{colLeft:c,colRight:d}=this.getColumnBounds(e),g=this.enableRtl,b=g?o>d:a<d,_=g?a<c:o>c;return{columnBeforeStart:b,columnAfterEnd:_}}getColumnBounds(e){const o=this.enableRtl,a=this.visibleColsService.getBodyContainerWidth(),c=e.getActualWidth(),d=e.getLeft(),g=o?-1:1,b=o?a-d:d,_=b+c*g,$=b+c/2*g;return{colLeft:b,colMiddle:$,colRight:_}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),o=this.centerRowsCtrl.getCenterViewportScrollLeft(),a=o,c=e+o;return{start:a,end:c,width:e}}},ViewportSizeFeature=class extends BeanStub{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),o=_getInnerWidth(e);if(o<=50)return;let a=this.getPinnedColumnsOverflowingViewport(o-50);const c=this.gos.getCallback("processUnpinnedColumns");a.length&&(c&&(a=c({columns:a,viewportWidth:o})),this.columnModel.setColsPinned(a,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const o=this.pinnedWidthService.getPinnedRightWidth(),a=this.pinnedWidthService.getPinnedLeftWidth(),c=o+a;if(c<e)return[];const d=[...this.visibleColsService.getLeftCols()],g=[...this.visibleColsService.getRightCols()];let b=0,_=0;const $=0,j=[];let rt=c-$-e;for(;(_<d.length||b<g.length)&&rt>0;){if(b<g.length){const nt=g[b++];rt-=nt.getActualWidth(),j.push(nt)}if(_<d.length&&rt>0){const nt=d[_++];rt-=nt.getActualWidth(),j.push(nt)}}return j}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),o=_getInnerHeight(e);this.bodyHeight!==o&&(this.bodyHeight=o,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),o=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,o)}},DragListenerFeature=class extends BeanStub{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{_isCellSelectionEnabled(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),_isCellSelectionEnabled(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},CheckboxSelectionComponent=class extends Component{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[AgCheckboxSelector]),this.eCheckbox=RefPlaceholder}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),o=this.rowNode.isSelected(),a=_getAriaCheckboxStateName(e,o),[c,d]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],g=e(c,d);this.eCheckbox.setValue(o,!0),this.eCheckbox.setInputAriaLabel(`${g} (${a})`)}onClicked(e,o,a){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:a.shiftKey,groupSelectsFiltered:o,event:a,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:c=>_stopPropagationForAgGrid(c),click:c=>{_stopPropagationForAgGrid(c);const d=_getGroupSelection(this.gos)==="filteredDescendants",g=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(g,d)?this.onClicked(!0,d,c||{})===0&&this.onClicked(!1,d,c):g?this.onClicked(!1,d,c):this.onClicked(!0,d,c||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),_getIsRowSelectable(this.gos)||typeof this.getIsVisible()=="function"){const c=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:c}),this.addManagedListeners(this.rowNode,{dataChanged:c,cellChanged:c}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,o){return o&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&_isClientSideRowModel(this.gos)}showOrHideSelect(){var d,g,b;let e=this.rowNode.selectable;const o=this.getIsVisible();if(e)if(typeof o=="function"){const _=(d=this.overrides)==null?void 0:d.callbackParams;if(!this.column)e=o({..._,node:this.rowNode,data:this.rowNode.data});else{const $=this.column.createColumnFunctionCallbackParams(this.rowNode);e=o({..._,...$})}}else e=o??!1;const a=this.gos.get("rowSelection");if(a&&typeof a!="string"?!_getHideDisabledCheckboxes(a):(g=this.column)==null?void 0:g.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((b=this.overrides)!=null&&b.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var o,a;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?_getCheckboxes(e):(a=(o=this.column)==null?void 0:o.getColDef())==null?void 0:a.checkboxSelection}},DndSourceComp=class extends Component{constructor(e,o,a){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=o,this.eCell=a}postConstruct(){this.getGui().appendChild(_createIconNoSpan("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",o=>{o.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const o=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const a=()=>{try{const c=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",c),e.dataTransfer.setData("text/plain",c)}catch{}};if(o){const c=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});o(c)}else a()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},CellCustomStyleFeature=class extends BeanStub{constructor(e,o){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=o,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:o}=e,a=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(o===this.cellClassRules?void 0:this.cellClassRules,o,a,c=>this.cellComp.addOrRemoveCssClass(c,!0),c=>this.cellComp.addOrRemoveCssClass(c,!1)),this.cellClassRules=o}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let o;if(typeof e.cellStyle=="function"){const a=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),c=e.cellStyle;o=c(a)}else o=e.cellStyle;o&&this.cellComp.setUserStyles(o)}applyClassesFromColDef(){const e=this.column.getColDef(),o=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(a=>this.cellComp.addOrRemoveCssClass(a,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,o),this.staticClasses.length&&this.staticClasses.forEach(a=>this.cellComp.addOrRemoveCssClass(a,!0))}destroy(){super.destroy()}},CellKeyboardListenerFeature=class extends BeanStub{constructor(e,o,a,c,d){super(),this.cellCtrl=e,this.beans=o,this.rowNode=c,this.rowCtrl=d}setComp(e){this.eGui=e}onKeyDown(e){const o=e.key;switch(o){case KeyCode.ENTER:this.onEnterKeyDown(e);break;case KeyCode.F2:this.onF2KeyDown(e);break;case KeyCode.ESCAPE:this.onEscapeKeyDown(e);break;case KeyCode.TAB:this.onTabKeyDown(e);break;case KeyCode.BACKSPACE:case KeyCode.DELETE:this.onBackspaceOrDeleteKeyDown(o,e);break;case KeyCode.DOWN:case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.LEFT:this.onNavigationKeyDown(e,o);break}}onNavigationKeyDown(e,o){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,o,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const o=this.beans.rangeService.extendLatestRangeInDirection(e);o&&this.beans.navigationService.ensureCellVisible(o)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,o){const{cellCtrl:a,beans:c,rowNode:d}=this,{gos:g,rangeService:b,eventService:_}=c;if(!a.isEditing()){if(_.dispatchEvent({type:"keyShortcutChangedCellStart"}),_isDeleteKey(e,g.get("enableCellEditingOnBackspace"))){if(b&&_isCellSelectionEnabled(g))b.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(a.isCellEditable()){const $=a.getColumn(),j=this.beans.valueService.getDeleteValue($,d);d.setDataValue($,j,"cellClear")}}else a.startRowOrCellEdit(e,o);_.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const o=e.shiftKey?KeyCode.UP:KeyCode.DOWN;this.beans.navigationService.navigateToNextCell(null,o,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(KeyCode.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(KeyCode.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const c=e.key;c===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(c,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:o}=this.beans;if(!this.cellCtrl.isEditing()&&_isRowSelection(o)){const a=this.rowNode.isSelected(),c=!a,d=_getGroupSelection(o)==="filteredDescendants",g=this.rowNode.setSelectedParams({newValue:c,rangeSelect:e.shiftKey,groupSelectsFiltered:d,event:e,source:"spaceKey"});a===void 0&&g===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:d,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},CellMouseListenerFeature=class extends BeanStub{constructor(e,o,a){super(),this.cellCtrl=e,this.beans=o,this.column=a}onMouseEvent(e,o){if(!_isStopPropagationForAgGrid(o))switch(e){case"click":this.onCellClicked(o);break;case"mousedown":case"touchstart":this.onMouseDown(o);break;case"dblclick":this.onCellDoubleClicked(o);break;case"mouseout":this.onMouseOut(o);break;case"mouseover":this.onMouseOver(o);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:o,rangeService:a,gos:c}=this.beans,d=e.ctrlKey||e.metaKey;a&&d&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);const g=this.cellCtrl.createEvent(e,"cellClicked");o.dispatchEvent(g);const b=this.column.getColDef();b.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{b.onCellClicked(g)})},0),(c.get("singleClickEdit")||b.singleClickEdit)&&!c.get("suppressClickEdit")&&!(e.shiftKey&&(a==null?void 0:a.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!_isIOSUserAgent()||_isEventSupported("dblclick"))return!1;const e=new Date().getTime(),o=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,o}onCellDoubleClicked(e){const{column:o,beans:a,cellCtrl:c}=this,{eventService:d,frameworkOverrides:g,gos:b}=a,_=o.getColDef(),$=c.createEvent(e,"cellDoubleClicked");d.dispatchEvent($),typeof _.onCellDoubleClicked=="function"&&window.setTimeout(()=>{g.wrapOutgoing(()=>{_.onCellDoubleClicked($)})},0),!b.get("singleClickEdit")&&!b.get("suppressClickEdit")&&c.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:o,metaKey:a,shiftKey:c}=e,d=e.target,{cellCtrl:g,beans:b}=this,{eventService:_,rangeService:$,focusService:j,gos:rt}=b;if(this.isRightClickInExistingRange(e))return;const nt=$&&$.getCellRanges().length!=0;if(!c||!nt){const xl=rt.get("enableCellTextSelection")&&e.defaultPrevented,Ll=(_isBrowserSafari()||xl)&&!g.isEditing()&&!_isFocusableFormField(d);g.focusCell(Ll)}if(c&&nt&&!j.isCellFocused(g.getCellPosition())){e.preventDefault();const In=j.getFocusedCell();if(In){const{column:xl,rowIndex:Ll,rowPinned:Nl}=In,_u=b.rowRenderer.getRowByPosition({rowIndex:Ll,rowPinned:Nl}),Yl=_u==null?void 0:_u.getCellCtrl(xl);Yl!=null&&Yl.isEditing()&&Yl.stopEditing(),j.setFocusedCell({column:xl,rowIndex:Ll,rowPinned:Nl,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(d)){if($){const In=this.cellCtrl.getCellPosition();if(c)$.extendLatestRangeToCell(In);else{const xl=o||a;$.setRangeToCell(In,xl)}}_.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:o}=this.beans;if(o){const a=o.isCellInAnyRange(this.cellCtrl.getCellPosition()),c=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(a&&c)return!0}return!1}containsWidget(e){return _isElementChildOfClass(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const o=this.cellCtrl.getGui(),a=o.contains(e.target),c=o.contains(e.relatedTarget);return a&&c}destroy(){super.destroy()}},CellPositionFeature=class extends BeanStub{constructor(e,o){super(),this.cellCtrl=e,this.beans=o,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();_areEqual(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,o)=>e+o.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),o=[];if(e===1)o.push(this.column);else{let a=this.column;const c=this.column.getPinned();for(let d=0;a&&d<e&&(o.push(a),a=this.beans.visibleColsService.getColAfter(a),!(!a||_missing(a)||c!==a.getPinned()));d++);}return o}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=_last(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const o=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const a=this.beans.visibleColsService.getBodyContainerWidth();return o+a+(e||0)}return o+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const a=_getRowHeightAsNumber(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${a}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},SelectionHandleType=(e=>(e[e.FILL=0]="FILL",e[e.RANGE=1]="RANGE",e))(SelectionHandleType||{}),CellRangeType=(e=>(e[e.VALUE=0]="VALUE",e[e.DIMENSION=1]="DIMENSION",e))(CellRangeType||{}),CSS_CELL_RANGE_SELECTED="ag-cell-range-selected",CSS_CELL_RANGE_CHART="ag-cell-range-chart",CSS_CELL_RANGE_SINGLE_CELL="ag-cell-range-single-cell",CSS_CELL_RANGE_CHART_CATEGORY="ag-cell-range-chart-category",CSS_CELL_RANGE_HANDLE="ag-cell-range-handle",CSS_CELL_RANGE_TOP="ag-cell-range-top",CSS_CELL_RANGE_RIGHT="ag-cell-range-right",CSS_CELL_RANGE_BOTTOM="ag-cell-range-bottom",CSS_CELL_RANGE_LEFT="ag-cell-range-left",CellRangeFeature=class{constructor(e,o){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=o}setComp(e,o){this.cellComp=e,this.eGui=o,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART,this.hasChartRange),_setAriaSelected(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SINGLE_CELL,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),o=this.isSingleCell(),a=!o&&e.top,c=!o&&e.right,d=!o&&e.bottom,g=!o&&e.left;this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_TOP,a),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_RIGHT,c),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_BOTTOM,d),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_LEFT,g)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const o=e.getCellRanges();return o.length>0&&o.every(a=>_includes([1,0],a.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let o=!1,a=!1,c=!1,d=!1;const g=this.cellCtrl.getCellPosition().column,b=this.beans.visibleColsService;let _,$;e?(_=b.getColAfter(g),$=b.getColBefore(g)):(_=b.getColBefore(g),$=b.getColAfter(g));const j=this.rangeService.getCellRanges().filter(rt=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),rt));_||(d=!0),$||(a=!0);for(let rt=0;rt<j.length&&!(o&&a&&c&&d);rt++){const nt=j[rt],In=this.rangeService.getRangeStartRow(nt),xl=this.rangeService.getRangeEndRow(nt);!o&&this.beans.rowPositionUtils.sameRow(In,this.cellCtrl.getCellPosition())&&(o=!0),!c&&this.beans.rowPositionUtils.sameRow(xl,this.cellCtrl.getCellPosition())&&(c=!0),!d&&_&&nt.columns.indexOf(_)<0&&(d=!0),!a&&$&&nt.columns.indexOf($)<0&&(a=!0)}return{top:o,right:a,bottom:c,left:d}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_HANDLE,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,o=this.rangeService.getCellRanges(),a=o.length;if(this.rangeCount<1||a<1)return!1;const c=_last(o),d=this.cellCtrl.getCellPosition(),g=_isFillHandleEnabled(e)&&!this.cellCtrl.isSuppressFillHandle(),b=_isRangeHandleEnabled(e);let _=a===1&&!this.cellCtrl.isEditing()&&(g||b);if(this.hasChartRange){const j=o[0].type===1&&this.rangeService.isCellInSpecificRange(d,o[0]);this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART_CATEGORY,j),_=c.type===0}return _&&c.endRow!=null&&this.rangeService.isContiguousRange(c)&&this.rangeService.isBottomRightCell(c,d)}addSelectionHandle(){const e=_last(this.rangeService.getCellRanges()).type,a=_isFillHandleEnabled(this.beans.gos)&&_missing(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},CSS_CELL="ag-cell",CSS_AUTO_HEIGHT="ag-cell-auto-height",CSS_NORMAL_HEIGHT="ag-cell-normal-height",CSS_CELL_FOCUS="ag-cell-focus",CSS_CELL_FIRST_RIGHT_PINNED="ag-cell-first-right-pinned",CSS_CELL_LAST_LEFT_PINNED="ag-cell-last-left-pinned",CSS_CELL_NOT_INLINE_EDITING="ag-cell-not-inline-editing",CSS_COLUMN_HOVER="ag-column-hover",CSS_CELL_WRAP_TEXT="ag-cell-wrap-text",instanceIdSequence4=0,_CellCtrl=class _x extends BeanStub{constructor(o,a,c,d){super(),this.column=o,this.rowNode=a,this.beans=c,this.rowCtrl=d,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=o.getId()+"-"+instanceIdSequence4++,this.colIdSanitised=_escapeString(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new CellPositionFeature(this,this.beans),this.cellCustomStyleFeature=new CellCustomStyleFeature(this,this.beans),this.cellMouseListenerFeature=new CellMouseListenerFeature(this,this.beans,this.column),this.cellKeyboardListenerFeature=new CellKeyboardListenerFeature(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&_isCellSelectionEnabled(this.beans.gos)&&(this.cellRangeFeature=new CellRangeFeature(this.beans,this))}removeFeatures(){const o=this.beans.context;this.cellPositionFeature=o.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=o.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=o.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=o.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=o.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(o,a){const c=()=>{const b=this.column.getColDef(),_=this.rowNode.data;if(b.tooltipField&&_exists(_))return _getValueUsingField(_,b.tooltipField,this.column.isTooltipFieldContainsDots());const $=b.tooltipValueGetter;return $?$(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},d=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!a&&d&&!this.isCellRenderer()&&(a=()=>{const b=this.getGui(),_=b.children.length===0?b:b.querySelector(".ag-cell-value");return _?_.scrollWidth>_.clientWidth:!0});const g={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:o!=null?()=>o:c,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:a};this.tooltipFeature=new TooltipFeature(g,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(o,a,c,d,g,b){var _,$,j,rt;this.cellComp=o,this.eGui=a,this.printLayout=d,b??(b=this),this.addDomData(b),this.addFeatures(),b.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(c,b),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(_=this.cellPositionFeature)==null||_.setComp(a),($=this.cellCustomStyleFeature)==null||$.setComp(o),(j=this.tooltipFeature)==null||j.refreshToolTip(),(rt=this.cellKeyboardListenerFeature)==null||rt.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(o,a),g&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(nt=>nt()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(o,a){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!o)return;const c=o.parentElement,d=_getRowHeightForNode(this.beans.gos,this.rowNode).height,g=$=>{if(this.editing||!this.isAlive()||!a.isAlive())return;const{paddingTop:j,paddingBottom:rt,borderBottomWidth:nt,borderTopWidth:In}=_getElementSize(c),xl=j+rt+nt+In,Nl=o.offsetHeight+xl;if($<5){const Yl=_getDocument(this.beans.gos),Ul=!Yl||!Yl.contains(o),Dl=Nl==0;if(Ul||Dl){window.setTimeout(()=>g($+1),0);return}}const _u=Math.max(Nl,d);this.rowNode.setRowAutoHeight(_u,this.column)},b=()=>g(0);b();const _=this.beans.resizeObserverService.observeResize(o,b);a.addDestroyFunc(()=>{_(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const o=this.column.getColDef();return o.cellRenderer!=null||o.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(o=!1){var In;const{beans:a,column:c,rowNode:d,cellRangeFeature:g,cellComp:b}=this,{userComponentFactory:_,animationFrameService:$}=a,j=this.getValueToDisplay();let rt;if(d.stub&&((In=d.groupData)==null?void 0:In[this.column.getId()])==null){const xl=this.createCellRendererParams();rt=_.getLoadingCellRendererDetails(c.getColDef(),xl)}else if(this.isCellRenderer()){const xl=this.createCellRendererParams();rt=_.getCellRendererDetails(c.getColDef(),xl)}b.setRenderDetails(rt,j,o),$.requestAnimationFrame(()=>g==null?void 0:g.refreshHandle())}setupControlComps(){const o=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(o)),this.includeRowDrag=this.isIncludeControl(o.rowDrag),this.includeDndSource=this.isIncludeControl(o.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(o){return this.rowNode.rowPinned!=null?!1:typeof o=="function"||o===!0}isCheckboxSelection(o){const{rowSelection:a}=this.beans.gridOptions;return o.checkboxSelection||isColumnControlsCol(this.column)&&a&&typeof a!="string"&&_getCheckboxes(a)}refreshShouldDestroy(){const o=this.column.getColDef(),a=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(o)),c=this.includeRowDrag!=this.isIncludeControl(o.rowDrag),d=this.includeDndSource!=this.isIncludeControl(o.dndSource),g=this.isAutoHeight!=this.column.isAutoHeight();return a||c||d||g}startEditing(o=null,a=!1,c=null){const{editService:d}=this.beans;return!this.isCellEditable()||this.editing||!d?!0:this.cellComp?d.startEditing(this,o,a,c):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(o,a,c)}),!0)}setEditing(o,a){this.editCompDetails=a,this.editing!==o&&(this.editing=o)}stopRowOrCellEdit(o=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(o):this.stopEditing(o)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(o=!1){this.onCellEditorAttachedFuncs=[];const{editService:a}=this.beans;return!this.editing||!a?!1:a.stopEditing(this,o)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:a=>this.beans.valueService.setValue(this.rowNode,this.column,a),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(a,c,d,g)=>this.registerRowDragger(a,c,g),setTooltip:(a,c)=>{var d;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(a,c),(d=this.tooltipFeature)==null||d.refreshToolTip()}})}setFocusOutOnEditor(){var o;this.editing&&((o=this.beans.editService)==null||o.setFocusOutOnEditor(this))}setFocusInOnEditor(){var o;this.editing&&((o=this.beans.editService)==null||o.setFocusInOnEditor(this))}onCellChanged(o){o.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(o){var a;this.refreshShouldDestroy()?(a=this.rowCtrl)==null||a.recreateCell(this):this.refreshCell(o)}refreshCell(o){var rt,nt,In,xl,Ll;if(this.suppressRefreshCell||this.editing)return;const a=this.column.getColDef(),c=o!=null&&!!o.newData,d=o!=null&&!!o.suppressFlash||!!a.suppressCellFlash,g=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,b=o&&o.forceRefresh||g||c,_=!!this.cellComp,$=this.updateAndFormatValue(_),j=b||$;if(_){if(j){this.showValue(c);const Nl=(rt=this.beans.filterManager)==null?void 0:rt.isSuppressFlashingCellsBecauseFiltering();!d&&!Nl&&(this.beans.gos.get("enableCellChangeFlash")||a.enableCellChangeFlash)&&this.flashCell(),(nt=this.cellCustomStyleFeature)==null||nt.applyUserStyles(),(In=this.cellCustomStyleFeature)==null||In.applyClassesFromColDef()}(xl=this.tooltipFeature)==null||xl.refreshToolTip(),(Ll=this.cellCustomStyleFeature)==null||Ll.applyCellClassRules()}}stopEditingAndFocus(o=!1,a=!1){var c;(c=this.beans.editService)==null||c.stopEditingAndFocus(this,o,a)}flashCell(o){const a=(o==null?void 0:o.flashDuration)??(o==null?void 0:o.flashDelay),c=(o==null?void 0:o.fadeDuration)??(o==null?void 0:o.fadeDelay);this.animateCell("data-changed",a,c)}animateCell(o,a,c){if(!this.cellComp)return;const{gos:d}=this.beans;if(a||(a=d.get("cellFlashDuration")),a===0)return;_exists(c)||(c=d.get("cellFadeDuration"));const g=`ag-cell-${o}`,b=`ag-cell-${o}-animation`;this.cellComp.addOrRemoveCssClass(g,!0),this.cellComp.addOrRemoveCssClass(b,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(g,!1),this.cellComp.addOrRemoveCssClass(b,!0),this.eGui.style.transition=`background-color ${c}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(b,!1),this.eGui.style.transition="")},c))},a)})}onFlashCells(o){if(!this.cellComp)return;const a=this.beans.cellPositionUtils.createId(this.getCellPosition());o.cells[a]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(o){return this.callValueFormatter(o)??o}callValueFormatter(o){return this.beans.valueService.formatValue(this.column,this.rowNode,o)}updateAndFormatValue(o){const a=this.value,c=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),o?!this.valuesAreEqual(a,this.value)||this.valueFormatted!=c:!0}valuesAreEqual(o,a){const c=this.column.getColDef();return c.equals?c.equals(o,a):o===a}getComp(){return this.cellComp}getValue(){return this.value}addDomData(o){const a=this.getGui();_setDomData(this.beans.gos,a,_x.DOM_DATA_KEY_CELL_CTRL,this),o.addDestroyFunc(()=>_setDomData(this.beans.gos,a,_x.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(o,a){return this.beans.gos.addGridCommonParams({type:a,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:o,rowIndex:this.rowNode.rowIndex})}processCharacter(o){var a;(a=this.cellKeyboardListenerFeature)==null||a.processCharacter(o)}onKeyDown(o){var a;(a=this.cellKeyboardListenerFeature)==null||a.onKeyDown(o)}onMouseEvent(o,a){var c;(c=this.cellMouseListenerFeature)==null||c.onMouseEvent(o,a)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var o;this.cellComp&&((o=this.cellPositionFeature)==null||o.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:o,column:a,beans:c}=this;refreshFirstAndLastStyles(o,a,c.visibleColsService)}refreshAriaColIndex(){const o=this.beans.visibleColsService.getAriaColIndex(this.column);_setAriaColIndex(this.getGui(),o)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var o;return(o=this.cellPositionFeature)==null?void 0:o.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(o,a=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(o,this):this.startEditing(o,!0,a):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(o,a)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(o=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:o})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(o){this.eGui&&_addOrRemoveAttribute(this.eGui,"tabindex",o?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const o=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(CSS_CELL_FIRST_RIGHT_PINNED,o)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const o=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(CSS_CELL_LAST_LEFT_PINNED,o)}onCellFocused(o){if(this.beans.focusService.isCellFocusSuppressed())return;const a=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){a&&(o!=null&&o.forceBrowserFocus)&&(this.focusEventToRestore=o);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(CSS_CELL_FOCUS,a),a&&o&&o.forceBrowserFocus){let d=this.cellComp.getFocusableElement();if(this.editing){const g=this.beans.focusService.findFocusableElements(d,null,!0);g.length&&(d=g[0])}d.focus({preventScroll:!!o.preventScrollOnBrowserFocus})}const c=this.beans.gos.get("editType")==="fullRow";!a&&!c&&this.editing&&this.stopRowOrCellEdit(),a&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:_makeNull(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(CSS_CELL,!0),this.cellComp.addOrRemoveCssClass(CSS_CELL_NOT_INLINE_EDITING,!0);const o=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(CSS_AUTO_HEIGHT,o),this.cellComp.addOrRemoveCssClass(CSS_NORMAL_HEIGHT,!o)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const o=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(CSS_COLUMN_HOVER,o)}onColDefChanged(){var a;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(a=this.beans.editService)==null||a.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const o=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(CSS_CELL_WRAP_TEXT,o)}dispatchCellContextMenuEvent(o){const a=this.column.getColDef(),c=this.createEvent(o,"cellContextMenu");this.beans.eventService.dispatchEvent(c),a.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellContextMenu(c)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const o=new CheckboxSelectionComponent;return this.beans.context.createBean(o),o.init({rowNode:this.rowNode,column:this.column}),o}createDndSource(){const o=new DndSourceComp(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(o),o}registerRowDragger(o,a,c){if(this.customRowDragComp){this.customRowDragComp.setDragElement(o,a);return}const d=this.createRowDragComp(o,a,c);d&&(this.customRowDragComp=d,this.addDestroyFunc(()=>{this.beans.context.destroyBean(d),this.customRowDragComp=null}))}createRowDragComp(o,a,c){const d=this.beans.gos.get("pagination"),g=this.beans.gos.get("rowDragManaged"),b=_isClientSideRowModel(this.beans.gos);if(g){if(!b){_warnOnce("managed row dragging is only allowed in the Client Side Row Model");return}if(d){_warnOnce("managed row dragging is not possible when doing pagination");return}}const _=new RowDragComp(()=>this.value,this.rowNode,this.column,o,a,c);return this.beans.context.createBean(_),_}setSuppressRefreshCell(o){this.suppressRefreshCell=o}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(o){this.onCellEditorAttachedFuncs.push(o)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(o=>o()),this.onCellEditorAttachedFuncs=[]}};_CellCtrl.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var CellCtrl=_CellCtrl,instanceIdSequence5=0,_RowCtrl=class kx extends BeanStub{constructor(o,a,c,d,g){var b;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=a,this.gos=a.gos,this.rowNode=o,this.paginationPage=((b=a.paginationService)==null?void 0:b.getCurrentPage())??0,this.useAnimationFrameForCreate=d,this.printLayout=g,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=o.id+"-"+instanceIdSequence5++,this.rowId=_escapeString(o.id),this.initRowBusinessKey(),this.rowFocused=a.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=a.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(c),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const o=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=_escapeString(o)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(o,a){o==="left"?this.leftGui=a:o==="right"?this.rightGui=a:o==="fullWidth"?this.fullWidthGui=a:this.centerGui=a}setComp(o,a,c,d){d=setupCompBean(this,this.beans.context,d);const g={rowComp:o,element:a,containerType:c,compBean:d};this.allRowGuis.push(g),this.updateGui(c,g),this.initialiseRowComp(g),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(o){this.allRowGuis=this.allRowGuis.filter(a=>a.containerType!==o),this.updateGui(o,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(o){const a=o?"none":"";this.allRowGuis.forEach(c=>c.element.style.display=a)}initialiseRowComp(o){const a=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(o),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(o),this.updateRowIndexes(o),this.setFocusedClasses(o),this.setStylesFromGridOptions(!1,o),_isRowSelection(a)&&this.rowNode.selectable&&this.onRowSelected(o),this.updateColumnLists(!this.useAnimationFrameForCreate);const c=o.rowComp;this.getInitialRowClasses(o.containerType).forEach(g=>c.addOrRemoveCssClass(g,!0)),this.executeSlideAndFadeAnimations(o),this.rowNode.group&&_setAriaExpanded(o.element,this.rowNode.expanded==!0),this.setRowCompRowId(c),this.setRowCompRowBusinessKey(c),_setDomData(a,o.element,kx.DOM_DATA_KEY_ROW_CTRL,this),o.compBean.addDestroyFunc(()=>_setDomData(a,o.element,kx.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,o),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(o),this.isFullWidth()&&this.setupFullWidth(o),a.get("rowDragEntireRow")&&this.addRowDraggerToRow(o),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&o.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(o){this.businessKeySanitised!=null&&o.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(o){this.rowId=_escapeString(this.rowNode.id),this.rowId!=null&&o.setRowId(this.rowId)}executeSlideAndFadeAnimations(o){const{containerType:a}=o;this.slideInAnimation[a]&&(_executeNextVMTurn(()=>{this.onTopChanged()}),this.slideInAnimation[a]=!1),this.fadeInAnimation[a]&&(_executeNextVMTurn(()=>{o.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[a]=!1)}addRowDraggerToRow(o){if(_isCellSelectionEnabled(this.gos)){_warnOnce("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const a=this.beans.localeService.getLocaleTextFunc(),c=new RowDragComp(()=>`1 ${a("rowDragRow","row")}`,this.rowNode,void 0,o.element,void 0,!0),d=this.createBean(c,this.beans.context);this.rowDragComps.push(d),o.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(g=>g!==d),this.destroyBean(d,this.beans.context)})}setupFullWidth(o){const a=this.getPinnedForContainer(o.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const c=this.createFullWidthCompDetails(o.element,a);o.rowComp.showFullWidth(c)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var o,a;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(c=>{var d;return(d=c==null?void 0:c.rowComp)==null?void 0:d.getFullWidthCellRenderer()}):[(a=(o=this.fullWidthGui)==null?void 0:o.rowComp)==null?void 0:a.getFullWidthCellRenderer()]}getCellElement(o){const a=this.getCellCtrl(o);return a?a.getGui():null}executeProcessRowPostCreateFunc(){const o=this.gos.getCallback("processRowPostCreate");if(!o||!this.areAllContainersReady())return;const a={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};o(a)}areAllContainersReady(){const o=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),a=!!this.centerGui,c=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return o&&a&&c}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const o=this.beans.gos.getCallback("isFullWidthRow");return o?o({rowNode:this.rowNode}):!1}setRowType(){const o=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),a=this.isNodeFullWidthCell(),c=this.gos.get("masterDetail")&&this.rowNode.detail,d=this.beans.columnModel.isPivotMode(),b=!!this.rowNode.group&&!this.rowNode.footer&&_isGroupUseEntireRow(this.gos,d);o?this.rowType="FullWidthLoading":c?this.rowType="FullWidthDetail":a?this.rowType="FullWidth":b?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(o=!1,a=!1){if(this.isFullWidth())return;if(o||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(a);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(o,a,c=null){const d={list:[],map:{}},g=(_,$,j)=>{j!=null?d.list.splice(j,0,$):d.list.push($),d.map[_]=$},b=[];for(const _ of a){const $=_.getInstanceId();let j=o.map[$];j||(j=new CellCtrl(_,this.rowNode,this.beans,this)),g($,j)}for(const _ of o.list){const $=_.getColumn().getInstanceId();if(d.map[$]!=null)continue;!this.isCellEligibleToBeRemoved(_,c)?b.push([$,_]):_.destroy()}if(b.length)for(const[_,$]of b){const j=d.list.findIndex(nt=>nt.getColumn().getLeft()>$.getColumn().getLeft()),rt=j===-1?void 0:Math.max(j-1,0);g(_,$,rt)}return d}updateColumnListsImpl(o){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(o)}setCellCtrls(o){this.allRowGuis.forEach(a=>{const c=this.getCellCtrlsForContainer(a.containerType);a.rowComp.setCellCtrls(c,o)})}getCellCtrlsForContainer(o){switch(o){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const o=this.beans.columnViewportService,a=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,a.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const c=o.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c);const d=a.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,d,"left");const g=a.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,g,"right")}}isCellEligibleToBeRemoved(o,a){if(o.getColumn().getPinned()!=a)return!0;const b=o.isEditing(),_=this.beans.focusService.isCellFocused(o.getCellPosition());if(b||_){const j=o.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(j)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||_isDomLayout(this.gos,"print")}listenOnDomOrder(o){const a=()=>{o.rowComp.setDomOrder(this.getDomOrder())};o.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],a)}setAnimateFlags(o){if(this.isSticky()||!o)return;const a=_exists(this.rowNode.oldRowTop),c=this.beans.visibleColsService.isPinningLeft(),d=this.beans.visibleColsService.isPinningRight();if(a){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=c,this.slideInAnimation.right=d}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=c,this.fadeInAnimation.right=d}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const o=(_,$)=>_?_.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(_.element,$).params):!0,a=o(this.fullWidthGui,null),c=o(this.centerGui,null),d=o(this.leftGui,"left"),g=o(this.rightGui,"right");return a&&c&&d&&g}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(a=>{this.addRowDraggerToRow(a)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(o=>o.onRowIndexChanged())},cellChanged:o=>{this.getAllCellCtrls().forEach(a=>a.onCellChanged(o))}})}onRowNodeDataChanged(o){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(c=>c.refreshCell({suppressFlash:!o.update,newData:!o.update})),this.allRowGuis.forEach(c=>{this.setRowCompRowId(c.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(c.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const o=this.rowNode.highlighted;this.allRowGuis.forEach(a=>{const c=o===0,d=o===1;a.rowComp.addOrRemoveCssClass("ag-row-highlight-above",c),a.rowComp.addOrRemoveCssClass("ag-row-highlight-below",d)})}postProcessRowDragging(){const o=this.rowNode.dragging;this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass("ag-row-dragging",o))}updateExpandedCss(){const o=this.rowNode.isExpandable(),a=this.rowNode.expanded==!0;this.allRowGuis.forEach(c=>{c.rowComp.addOrRemoveCssClass("ag-row-group",o),c.rowComp.addOrRemoveCssClass("ag-row-group-expanded",o&&a),c.rowComp.addOrRemoveCssClass("ag-row-group-contracted",o&&!a),_setAriaExpanded(c.element,o&&a)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:_makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(o){return this.allRowGuis.find(a=>a.element.contains(o))}onKeyboardNavigate(o){const a=this.findFullWidthRowGui(o.target);if(!((a?a.element:null)===o.target))return;const g=this.rowNode,b=this.beans.focusService.getFocusedCell(),_={rowIndex:g.rowIndex,rowPinned:g.rowPinned,column:(b==null?void 0:b.column)??this.getColumnForFullWidth(a)};this.beans.navigationService.navigateToNextCell(o,o.key,_,!0),o.preventDefault()}onTabKeyDown(o){if(o.defaultPrevented||_isStopPropagationForAgGrid(o))return;const a=this.allRowGuis.find($=>$.element.contains(o.target)),c=a?a.element:null,d=c===o.target,g=_getActiveDomElement(this.gos);let b=!1;c&&g&&(b=c.contains(g)&&g.classList.contains("ag-cell"));let _=null;!d&&!b&&(_=this.beans.focusService.findNextFocusableElement(c,!1,o.shiftKey)),(this.isFullWidth()&&d||!_)&&this.beans.navigationService.onTabKeyDown(this,o)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var a;const o=(a=this.allRowGuis.find(c=>_isVisible(c.element)))==null?void 0:a.element;return o?o.getBoundingClientRect().top:0}onSuppressCellFocusChanged(o){const a=this.isFullWidth()&&o?void 0:-1;this.allRowGuis.forEach(c=>{_addOrRemoveAttribute(c.element,"tabindex",a)})}onFullWidthRowFocused(o){var g;const a=this.rowNode,c=o?this.isFullWidth()&&o.rowIndex===a.rowIndex&&o.rowPinned==a.rowPinned:!1,d=this.fullWidthGui?this.fullWidthGui.element:(g=this.centerGui)==null?void 0:g.element;d&&(d.classList.toggle("ag-full-width-focus",c),c&&(o!=null&&o.forceBrowserFocus)&&d.focus({preventScroll:!0}))}recreateCell(o){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,o),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,o),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,o),o.destroy(),this.updateColumnLists()}removeCellCtrl(o,a){const c={list:[],map:{}};return o.list.forEach(d=>{d!==a&&(c.list.push(d),c.map[d.getColumn().getInstanceId()]=d)}),c}onMouseEvent(o,a){switch(o){case"dblclick":this.onRowDblClick(a);break;case"click":this.onRowClick(a);break;case"touchstart":case"mousedown":this.onRowMouseDown(a);break}}createRowEvent(o,a){return this.gos.addGridCommonParams({type:o,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:a})}createRowEventWithSource(o,a){const c=this.createRowEvent(o,a);return c.source=this,c}onRowDblClick(o){_isStopPropagationForAgGrid(o)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",o))}getColumnForFullWidth(o){const{visibleColsService:a}=this.beans;switch(o==null?void 0:o.containerType){case"center":return a.getCenterCols()[0];case"left":return a.getLeftCols()[0];case"right":return a.getRightCols()[0];default:return a.getAllCols()[0]}}onRowMouseDown(o){if(this.lastMouseDownOnDragger=_isElementChildOfClass(o.target,"ag-row-drag",3),!this.isFullWidth())return;const a=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const c=this.findFullWidthRowGui(o.target),d=c==null?void 0:c.element,g=o.target;let b=!0;d&&d.contains(g)&&_isFocusableFormField(g)&&(b=!1),this.beans.focusService.setFocusedCell({rowIndex:a.rowIndex,column:this.getColumnForFullWidth(c),rowPinned:a.rowPinned,forceBrowserFocus:b})}onRowClick(o){if(_isStopPropagationForAgGrid(o)||this.lastMouseDownOnDragger)return;const{gos:c}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",o));const d=o.ctrlKey||o.metaKey,g=o.shiftKey,b=this.rowNode.isSelected(),_=_getGroupSelectsDescendants(c),$=_getEnableDeselection(c),j=_getEnableSelection(c);if(_&&this.rowNode.group||this.isRowSelectionBlocked()||!j&&!b||!$&&b)return;const rt=_getEnableSelectionWithoutKeys(c),nt="rowClicked";if(b)rt?this.rowNode.setSelectedParams({newValue:!1,event:o,source:nt}):d?$&&this.rowNode.setSelectedParams({newValue:!1,event:o,source:nt}):j&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!g,rangeSelect:g,event:o,source:nt});else{const In=rt?!1:!d;this.rowNode.setSelectedParams({newValue:!0,clearSelection:In,rangeSelect:g,event:o,source:nt})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!_isRowSelection(this.gos)}setupDetailRowAutoHeight(o){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const a=()=>{const d=o.clientHeight;if(d!=null&&d>0){const g=()=>{this.rowNode.setRowHeight(d),(_isClientSideRowModel(this.gos)||_isServerSideRowModel(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(g,0)}},c=this.beans.resizeObserverService.observeResize(o,a);this.addDestroyFunc(c),a()}createFullWidthCompDetails(o,a){const{gos:c,rowNode:d}=this,g=c.addGridCommonParams({fullWidth:!0,data:d.data,node:d,value:d.key,valueFormatted:d.key,eGridCell:o,eParentOfValue:o,pinned:a,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(_,$,j,rt)=>this.addFullWidthRowDragging(_,$,j,rt),setTooltip:(_,$)=>this.refreshRowTooltip(_,$)}),b=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return b.getFullWidthDetailCellRendererDetails(g);case"FullWidthGroup":return b.getFullWidthGroupCellRendererDetails(g);case"FullWidthLoading":return b.getFullWidthLoadingCellRendererDetails(g);default:return b.getFullWidthCellRendererDetails(g)}}refreshRowTooltip(o,a){if(!this.fullWidthGui)return;const c={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>o,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:a};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new TooltipFeature(c,this.beans))}addFullWidthRowDragging(o,a,c="",d){if(!this.isFullWidth())return;const g=new RowDragComp(()=>c,this.rowNode,void 0,o,a,d);this.createBean(g,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(g,this.beans.context)})}onUiLevelChanged(){const o=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=o){const a="ag-row-level-"+o,c="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(d=>{d.rowComp.addOrRemoveCssClass(a,!0),d.rowComp.addOrRemoveCssClass(c,!1)})}this.rowLevel=o}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const o=this.isFirstRowOnPage(),a=this.isLastRowOnPage();this.firstRowOnPage!==o&&(this.firstRowOnPage=o,this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass("ag-row-first",o))),this.lastRowOnPage!==a&&(this.lastRowOnPage=a,this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass("ag-row-last",a)))}stopEditing(o=!1){var a;this.stoppingRowEdit||(a=this.beans.rowEditService)==null||a.stopEditing(this,o)}setInlineEditingCss(){const o=this.editingRow||this.getAllCellCtrls().some(a=>a.isEditing());this.allRowGuis.forEach(a=>{a.rowComp.addOrRemoveCssClass("ag-row-inline-editing",o),a.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!o)})}setEditingRow(o){this.editingRow=o}startRowEditing(o=null,a=null,c=null){var d;return this.editingRow?!0:((d=this.beans.rowEditService)==null?void 0:d.startEditing(this,o,a,c))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const o=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!o||!o.length||o.forEach(a=>{this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass(a,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,o=>{this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass(o,!0))},o=>{this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass(o,!1))})}setStylesFromGridOptions(o,a){o&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(a,c=>c.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(o){return o==="left"||o==="right"?o:null}getInitialRowClasses(o){const a=this.getPinnedForContainer(o),c={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[o],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:a};return this.beans.rowCssClassCalculator.getInitialRowClasses(c)}processStylesFromGridOptions(){const o=this.gos.get("rowStyle");if(o&&typeof o=="function"){_warnOnce("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const a=this.gos.getCallback("getRowStyle");let c;if(a){const d={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};c=a(d)}return c||o?Object.assign({},o,c):this.emptyStyle}onRowSelected(o){const a=!!this.rowNode.isSelected();this.forEachGui(o,c=>{c.rowComp.addOrRemoveCssClass("ag-row-selected",a),_setAriaSelected(c.element,a),c.element.contains(_getActiveDomElement(this.gos))&&(c===this.centerGui||c===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const o=this.rowNode.isSelected();if(o&&!_getEnableDeselection(this.gos))return;const c=this.beans.localeService.getLocaleTextFunc()(o?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${o?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(c,"rowSelection")}addHoverFunctionality(o){if(!this.active)return;const{element:a,compBean:c}=o,{rowNode:d,beans:g,gos:b}=this;c.addManagedListeners(a,{mouseenter:()=>d.onMouseEnter(),mouseleave:()=>d.onMouseLeave()}),c.addManagedListeners(d,{mouseEnter:()=>{!g.dragService.isDragging()&&!b.get("suppressRowHoverHighlight")&&(a.classList.add("ag-row-hover"),d.setHovered(!0))},mouseLeave:()=>{a.classList.remove("ag-row-hover"),d.setHovered(!1)}})}roundRowTopToBounds(o){const a=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),c=this.applyPaginationOffset(a.top,!0)-100,d=this.applyPaginationOffset(a.bottom,!0)+100;return Math.min(Math.max(c,o),d)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(o,a){o?a(o):this.allRowGuis.forEach(a)}onRowHeightChanged(o){if(this.rowNode.rowHeight==null)return;const a=this.rowNode.rowHeight,c=this.beans.environment.getDefaultRowHeight(),g=_isGetRowHeightFunction(this.gos)?_getRowHeightForNode(this.gos,this.rowNode).height:void 0,b=g?`${Math.min(c,g)-2}px`:void 0;this.forEachGui(o,_=>{_.element.style.height=`${a}px`,b&&_.element.style.setProperty("--ag-line-height",b)})}addEventListener(o,a){super.addEventListener(o,a)}removeEventListener(o,a){super.removeEventListener(o,a)}destroyFirstPass(o=!1){if(this.active=!1,!o&&_isAnimateRows(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const d=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(d)}else this.allRowGuis.forEach(d=>d.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const a=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(a),this.beans.eventService.dispatchEvent(a),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const o=a=>(a.list.forEach(c=>c.destroy()),{list:[],map:{}});this.centerCellCtrls=o(this.centerCellCtrls),this.leftCellCtrls=o(this.leftCellCtrls),this.rightCellCtrls=o(this.rightCellCtrls)}setFocusedClasses(o){this.forEachGui(o,a=>{a.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),a.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const o=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);o!==this.rowFocused&&(this.rowFocused=o,this.setFocusedClasses()),!o&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var a;const o=((a=this.beans.paginationService)==null?void 0:a.getCurrentPage())??0;this.paginationPage!==o&&(this.paginationPage=o,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(o,a=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return o;const c=this.beans.pageBoundsService.getPixelOffset();return o+c*(a?1:-1)}setRowTop(o){if(!this.printLayout&&_exists(o)){const a=this.applyPaginationOffset(o),g=`${this.rowNode.isRowPinned()||this.rowNode.sticky?a:this.beans.rowContainerHeightService.getRealPixelPosition(a)}px`;this.setRowTopStyle(g)}}getInitialRowTop(o){return this.suppressRowTransform?this.getInitialRowTopShared(o):void 0}getInitialTransform(o){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(o)})`}getInitialRowTopShared(o){if(this.printLayout)return"";const a=this.rowNode;let c;if(this.isSticky())c=a.stickyRowTop;else{const d=this.slideInAnimation[o]?this.roundRowTopToBounds(a.oldRowTop):a.rowTop,g=this.applyPaginationOffset(d);c=a.isRowPinned()?g:this.beans.rowContainerHeightService.getRealPixelPosition(g)}return c+"px"}setRowTopStyle(o){this.allRowGuis.forEach(a=>this.suppressRowTransform?a.rowComp.setTop(o):a.rowComp.setTransform(`translateY(${o})`))}getRowNode(){return this.rowNode}getCellCtrl(o){let a=null;return this.getAllCellCtrls().forEach(c=>{c.getColumn()==o&&(a=c)}),a!=null||this.getAllCellCtrls().forEach(c=>{c.getColSpanningList().indexOf(o)>=0&&(a=c)}),a}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(o){var b;const a=this.rowNode.getRowIndexString();if(a===null)return;const c=this.beans.headerNavigationService.getHeaderRowCount()+(((b=this.beans.filterManager)==null?void 0:b.getHeaderRowCount())??0),d=this.rowNode.rowIndex%2===0,g=c+this.rowNode.rowIndex+1;this.forEachGui(o,_=>{_.rowComp.setRowIndex(a),_.rowComp.addOrRemoveCssClass("ag-row-even",d),_.rowComp.addOrRemoveCssClass("ag-row-odd",!d),_setAriaRowIndex(_.element,g)})}setStoppingRowEdit(o){this.stoppingRowEdit=o}};_RowCtrl.DOM_DATA_KEY_ROW_CTRL="renderedRow";var RowCtrl=_RowCtrl,RowContainerEventsFeature=class extends BeanStub{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",o=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:o})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",_isEventSupported("touchstart")?"touchstart":"mousedown"].forEach(a=>{const c=this.processMouseEvent.bind(this,a);this.addManagedElementListeners(this.element,{[a]:c})})}processMouseEvent(e,o){if(!this.mouseEventService.isEventFromThisGrid(o)||_isStopPropagationForAgGrid(o))return;const a=this.getRowForEvent(o),c=this.mouseEventService.getRenderedCellForEvent(o);e==="contextmenu"?this.handleContextMenuMouseEvent(o,void 0,a,c):(c&&c.onMouseEvent(e,o),a&&a.onMouseEvent(e,o))}mockContextMenuForIPad(){if(!_isIOSUserAgent())return;const e=new TouchListener(this.element),o=a=>{const c=this.getRowForEvent(a.touchEvent),d=this.mouseEventService.getRenderedCellForEvent(a.touchEvent);this.handleContextMenuMouseEvent(void 0,a.touchEvent,c,d)};this.addManagedListeners(e,{longTap:o}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let o=e.target;for(;o;){const a=_getDomData(this.gos,o,RowCtrl.DOM_DATA_KEY_ROW_CTRL);if(a)return a;o=o.parentElement}return null}handleContextMenuMouseEvent(e,o,a,c){const d=a?a.getRowNode():null,g=c?c.getColumn():null;let b=null;if(g){const j=e||o;c.dispatchCellContextMenuEvent(j??null),b=this.valueService.getValue(g,d)}const _=this.ctrlsService.getGridBodyCtrl(),$=c?c.getGui():_.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:o,rowNode:d,column:g,value:b,anchorToElement:$})}getControlsForEventTarget(e){return{cellCtrl:_getCtrlForEventTarget(this.gos,e,CellCtrl.DOM_DATA_KEY_CELL_CTRL),rowCtrl:_getCtrlForEventTarget(this.gos,e,RowCtrl.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,o){const{cellCtrl:a,rowCtrl:c}=this.getControlsForEventTarget(o.target);o.defaultPrevented||(a?this.processCellKeyboardEvent(a,e,o):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,e,o))}processCellKeyboardEvent(e,o,a){const c=e.getRowNode(),d=e.getColumn(),g=e.isEditing();!_isUserSuppressingKeyboardEvent(this.gos,a,c,d,g)&&o==="keydown"&&(!g&&this.navigationService.handlePageScrollingKey(a)||e.onKeyDown(a),this.doGridOperations(a,e.isEditing()),_isEventFromPrintableCharacter(a)&&e.processCharacter(a)),o==="keydown"&&this.eventService.dispatchEvent(e.createEvent(a,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,o,a){const c=e.getRowNode(),d=this.focusService.getFocusedCell(),g=d&&d.column;if(!_isUserSuppressingKeyboardEvent(this.gos,a,c,g,!1)){const _=a.key;if(o==="keydown")switch(_){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:this.navigationService.handlePageScrollingKey(a,!0);break;case KeyCode.UP:case KeyCode.DOWN:e.onKeyboardNavigate(a);break;case KeyCode.TAB:e.onTabKeyDown(a);break}}o==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",a))}doGridOperations(e,o){if(!e.ctrlKey&&!e.metaKey||o||!this.mouseEventService.isEventFromThisGrid(e))return;const a=_normaliseQwertyAzerty(e);if(a===KeyCode.A)return this.onCtrlAndA(e);if(a===KeyCode.C)return this.onCtrlAndC(e);if(a===KeyCode.D)return this.onCtrlAndD(e);if(a===KeyCode.V)return this.onCtrlAndV(e);if(a===KeyCode.X)return this.onCtrlAndX(e);if(a===KeyCode.Y)return this.onCtrlAndY();if(a===KeyCode.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:o,rowModel:a,rangeService:c}=this;if(c&&a.isRowsToRender()){const[d,g]=[o.isEmpty("top"),o.isEmpty("bottom")],b=d?null:"top";let _,$;g?(_=null,$=a.getRowCount()-1):(_="bottom",$=o.getPinnedBottomRowCount()-1);const j=this.visibleColsService.getAllCols();if(_missingOrEmpty(j))return;c.setCellRange({rowStartIndex:0,rowStartPinned:b,rowEndIndex:$,rowEndPinned:_,columnStart:j[0],columnEnd:_last(j)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:o,rowCtrl:a}=this.getControlsForEventTarget(e.target);o!=null&&o.isEditing()||a!=null&&a.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:o,rowCtrl:a}=this.getControlsForEventTarget(e.target);o!=null&&o.isEditing()||a!=null&&a.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:o,rowCtrl:a}=this.getControlsForEventTarget(e.target);o!=null&&o.isEditing()||a!=null&&a.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},SetPinnedLeftWidthFeature=class extends BeanStub{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),o=e>0;_setDisplayed(this.element,o),_setFixedWidth(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},SetPinnedRightWidthFeature=class extends BeanStub{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),o=e>0;_setDisplayed(this.element,o),_setFixedWidth(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},getTopRowCtrls=e=>e.getTopRowCtrls(),getStickyTopRowCtrls=e=>e.getStickyTopRowCtrls(),getStickyBottomRowCtrls=e=>e.getStickyBottomRowCtrls(),getBottomRowCtrls=e=>e.getBottomRowCtrls(),getCentreRowCtrls=e=>e.getCentreRowCtrls(),ContainerCssClasses={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:getCentreRowCtrls},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:getCentreRowCtrls},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:getCentreRowCtrls},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:getCentreRowCtrls},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:getTopRowCtrls},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:getTopRowCtrls},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:getTopRowCtrls},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:getTopRowCtrls},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:getStickyTopRowCtrls},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:getStickyTopRowCtrls},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:getStickyTopRowCtrls},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:getStickyTopRowCtrls},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:getStickyBottomRowCtrls},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:getStickyBottomRowCtrls},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:getStickyBottomRowCtrls},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:getStickyBottomRowCtrls},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:getBottomRowCtrls},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:getBottomRowCtrls},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:getBottomRowCtrls},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:getBottomRowCtrls}};function _getRowContainerOptions(e){return ContainerCssClasses[e]}var allTopNoFW=["topCenter","topLeft","topRight"],allBottomNoFW=["bottomCenter","bottomLeft","bottomRight"],allMiddleNoFW=["center","left","right"],allMiddle=["center","left","right","fullWidth"],allCenter=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],allLeft=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],allRight=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],allStickyTopNoFW=["stickyTopCenter","stickyTopLeft","stickyTopRight"],allStickyBottomNoFW=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],allStickyContainers=[...allStickyTopNoFW,"stickyTopFullWidth",...allStickyBottomNoFW,"stickyBottomFullWidth"],allNoFW=[...allTopNoFW,...allBottomNoFW,...allMiddleNoFW,...allStickyTopNoFW,...allStickyBottomNoFW],RowContainerCtrl=class extends BeanStub{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=_getRowContainerOptions(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new ViewportSizeFeature(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,o){e.indexOf(this.name)>=0&&o()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,o,a){this.comp=e,this.eContainer=o,this.eViewport=a,this.createManagedBean(new RowContainerEventsFeature(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const c=()=>this.onPinnedWidthChanged();this.forContainers(allLeft,()=>{this.pinnedWidthFeature=this.createManagedBean(new SetPinnedLeftWidthFeature(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:c})}),this.forContainers(allRight,()=>{this.pinnedWidthFeature=this.createManagedBean(new SetPinnedRightWidthFeature(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:c})}),this.forContainers(allMiddle,()=>this.createManagedBean(new SetHeightFeature(this.eContainer,this.name==="center"?a:void 0))),this.forContainers(allNoFW,()=>this.createManagedBean(new DragListenerFeature(this.eContainer))),this.forContainers(allCenter,()=>this.createManagedBean(new CenterWidthFeature(d=>this.comp.setContainerWidth(`${d}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(allStickyContainers.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const o=()=>{const a=this.gos.get("ensureDomOrder"),c=_isDomLayout(this.gos,"print");this.comp.setDomOrder(a||c)};this.addManagedPropertyListener("domLayout",o),o()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=o=>{this.dragService.isDragging()&&o.cancelable&&o.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const o=this.getCenterWidth(),a=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(o,a,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return _getInnerWidth(this.eViewport)}getCenterViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const o=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>o())}isViewportInTheDOMTree(){return _isInDOM(this.eViewport)}getViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||_isHorizontalScrollShowing(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){_setScrollLeft(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const o=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||o.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const a=_isDomLayout(this.gos,"print"),d=this.gos.get("embedFullWidthRows")||a,g=o.filter(b=>{const _=b.isFullWidth();return this.options.fullWidth?!d&&_:d||!_});this.comp.setRowCtrls({rowCtrls:g,useFlushSync:e})}},CSS_CLASS_FORCE_VERTICAL_SCROLL="ag-force-vertical-scroll",CSS_CLASS_CELL_SELECTABLE="ag-selectable",CSS_CLASS_COLUMN_MOVING="ag-column-moving",GridBodyCtrl=class extends BeanStub{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,o,a,c,d,g,b){var _;this.comp=e,this.eGridBody=o,this.eBodyViewport=a,this.eTop=c,this.eBottom=d,this.eStickyTop=g,this.eStickyBottom=b,this.eCenterColsViewport=a.querySelector(`.${_getRowContainerOptions("center").viewport}`),this.eFullWidthContainer=a.querySelector(`.${_getRowContainerOptions("fullWidth").container}`),this.eStickyTopFullWidthContainer=g.querySelector(`.${_getRowContainerOptions("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=b.querySelector(`.${_getRowContainerOptions("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",$=>this.setCellTextSelection($.currentValue)),this.createManagedBean(new LayoutFeature(this.comp)),this.bodyScrollFeature=this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([c,a,d,g,b]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(_=this.filterManager)==null||_.setupAdvancedFilterHeaderComp(c),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(o=>{this.addManagedElementListeners(o,{focusin:a=>{const{target:c}=a,d=_isElementChildOfClass(c,"ag-root",o);o.classList.toggle("ag-has-focus",!d)},focusout:a=>{const{target:c,relatedTarget:d}=a,g=o.contains(d),b=_isElementChildOfClass(d,"ag-root",o);_isElementChildOfClass(c,"ag-root",o)||(!g||b)&&o.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(CSS_CLASS_COLUMN_MOVING,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(CSS_CLASS_CELL_SELECTABLE,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const o=e&&this.scrollVisibleService.getScrollbarWidth()||0,a=_isInvisibleScrollbar()?16:0,c=`calc(100% + ${o+a}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(c)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=a=>{const c=a.relatedTarget;if(_getTabIndex(c)===null){this.rowRenderer.stopEditing();return}let d=o.some(g=>g.contains(c))&&this.mouseEventService.isElementInThisGrid(c);if(!d){const g=this.popupService;d=g.getActivePopups().some(b=>b.contains(c))||g.isElementWithinCustomPopup(c)}d||this.rowRenderer.stopEditing()},o=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];o.forEach(a=>this.addManagedElementListeners(a,{focusout:e}))}updateRowCount(){var c;const e=this.headerNavigationService.getHeaderRowCount()+(((c=this.filterManager)==null?void 0:c.getHeaderRowCount())??0),o=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,a=o===-1?-1:e+o;this.comp.setRowCount(a)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const o=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(o)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),o=e?CSS_CLASS_FORCE_VERTICAL_SCROLL:null,a=_isDomLayout(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(o,e),e||a&&_isVerticalScrollShowing(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const o=()=>{const a=e&&_isAnimateRows(this.gos)&&!this.rowContainerHeightService.isStretching(),c=a?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(c,a)};o(),this.addManagedEventListeners({heightScaleChanged:o}),this.addManagedPropertyListener("animateRows",o),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,o())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:o,deltaY:a,shiftKey:c}=e;(c||Math.abs(o)>Math.abs(a))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:o,deltaY:a,shiftKey:c}=e,d=c||Math.abs(o)>Math.abs(a),g=e.target;d?(this.eStickyTopFullWidthContainer.contains(g)||this.eStickyBottomFullWidthContainer.contains(g))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(a))}scrollGridBodyToMatchEvent(e){const{deltaX:o,deltaY:a}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:o||a})}onBodyViewportContextMenu(e,o,a){if(!e&&!a)return;this.gos.get("preventDefaultOnContextMenu")&&(e||a).preventDefault();const{target:c}=e||o;(c===this.eBodyViewport||c===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:a,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!_isIOSUserAgent())return;const o=new TouchListener(this.eBodyViewport),a=c=>{e(void 0,c.touchStart,c.touchEvent)};this.addManagedListeners(o,{longTap:a}),this.addDestroyFunc(()=>o.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const o=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(o+e),this.eBodyViewport.scrollTop-o}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new RowDragFeature(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,o=e.getPinnedTopTotalHeight(),a=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(o),this.comp.setBottomHeight(a),this.comp.setTopDisplay(o?"inherit":"none"),this.comp.setBottomDisplay(a?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const o=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${o}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${o}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var d;const o=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((d=this.filterManager)==null?void 0:d.getHeaderHeight())??0),a=this.pinnedRowModel.getPinnedTopTotalHeight();let c=0;o>0&&(c+=o),a>0&&(c+=a),c>0&&(c+=1),this.comp.setStickyTopTop(`${c}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),a=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,c=e+a;this.comp.setStickyBottomBottom(`${c}px`)}sizeColumnsToFit(e,o){const c=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,g=_getInnerWidth(this.eGridBody)-c;if(g>0){this.columnSizeService.sizeColumnsToFit(g,"sizeColumnsToFit",!1,e);return}o===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):o===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):o===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):_warnOnce("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},CellComp$1=class extends Component{constructor(o,a,c,d,g){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=o,this.column=a.getColumn(),this.rowNode=a.getRowNode(),this.rowCtrl=a.getRowCtrl(),this.eRow=d,this.cellCtrl=a;const b=document.createElement("div");b.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(b);const _=this.getGui();this.forceWrapper=a.isForceWrapper(),this.refreshWrapper(!1),_setAriaRole(_,a.getCellAriaRole()),_.setAttribute("col-id",a.colIdSanitised);const $={addOrRemoveCssClass:(j,rt)=>this.addOrRemoveCssClass(j,rt),setUserStyles:j=>_addStylesToElement(_,j),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:j=>this.includeSelection=j,setIncludeRowDrag:j=>this.includeRowDrag=j,setIncludeDndSource:j=>this.includeDndSource=j,setRenderDetails:(j,rt,nt)=>this.setRenderDetails(j,rt,nt),setEditDetails:(j,rt,nt)=>this.setEditDetails(j,rt,nt),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};a.setComp($,this.getGui(),this.eCellWrapper,c,g,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(o,a,c){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const g=this.refreshWrapper(!1);this.refreshEditStyles(!1),o?!(c||g)&&this.refreshCellRenderer(o)||(this.destroyRenderer(),this.createCellRendererInstance(o)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(a))}setEditDetails(o,a,c){o?this.createCellEditorInstance(o,a,c):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(o){const a=this.includeRowDrag||this.includeDndSource||this.includeSelection,c=a||this.forceWrapper,d=c&&this.eCellWrapper==null;if(d){const rt=document.createElement("div");rt.setAttribute("role","presentation"),rt.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=rt,this.getGui().appendChild(this.eCellWrapper)}const g=!c&&this.eCellWrapper!=null;g&&(_removeFromParent(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!c);const b=!o&&c,_=b&&this.eCellValue==null;if(_){const rt=document.createElement("span");rt.setAttribute("role","presentation"),rt.setAttribute("class","ag-cell-value"),this.eCellValue=rt,this.eCellWrapper.appendChild(this.eCellValue)}const $=!b&&this.eCellValue!=null;$&&(_removeFromParent(this.eCellValue),this.eCellValue=void 0);const j=d||g||_||$;return j&&this.removeControls(),o||a&&this.addControls(),j}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(o,a,c){const d=this.editorVersion,g=o.newAgStackInstance();if(g==null)return;const{params:b}=o;g.then($=>this.afterCellEditorCreated(d,$,b,a,c)),_missing(this.cellEditor)&&b.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(o){const a=this.getParentOfValue();_clearElement(a);const c=o!=null?_escapeString(o,!0):null;c!=null&&(a.textContent=c)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:o}=this.beans;this.cellRenderer=o.destroyBean(this.cellRenderer),_removeFromParent(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:o}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=o.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=o.destroyBean(this.cellEditorPopupWrapper),_removeFromParent(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(o){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==o.componentClass)return!1;const a=this.cellRenderer.refresh(o.params);return a===!0||a===void 0}createCellRendererInstance(o){const c=!this.beans.gos.get("suppressAnimationFrame"),d=this.rendererVersion,{componentClass:g}=o,b=()=>{if(this.rendererVersion!==d||!this.isAlive())return;const $=o.newAgStackInstance(),j=this.afterCellRendererCreated.bind(this,d,g);$&&$.then(j)};c&&this.firstRender?this.beans.animationFrameService.createTask(b,this.rowNode.rowIndex,"createTasksP2"):b()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(o,a,c){if(!this.isAlive()||o!==this.rendererVersion){this.beans.context.destroyBean(c);return}if(this.cellRenderer=c,this.cellRendererClass=a,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const g=this.getParentOfValue();_clearElement(g),g.appendChild(this.cellRendererGui)}}afterCellEditorCreated(o,a,c,d,g){if(o!==this.editorVersion){this.beans.context.destroyBean(a);return}if(a.isCancelBeforeStart&&a.isCancelBeforeStart()){this.beans.context.destroyBean(a),this.cellCtrl.stopEditing(!0);return}if(!a.getGui){_warnOnce(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(a);return}this.cellEditor=a,this.cellEditorGui=a.getGui();const $=d||a.isPopup!==void 0&&a.isPopup();$?this.addPopupCellEditor(c,g):this.addInCellEditor(),this.refreshEditStyles(!0,$),a.afterGuiAttached&&a.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(o,a){var c;this.addOrRemoveCssClass("ag-cell-inline-editing",o&&!a),this.addOrRemoveCssClass("ag-cell-popup-editing",o&&!!a),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!o||!!a),(c=this.rowCtrl)==null||c.setInlineEditingCss()}addInCellEditor(){const o=this.getGui();o.contains(_getActiveDomElement(this.beans.gos))&&o.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(o,a){var xl;this.beans.gos.get("editType")==="fullRow"&&_warnOnce("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(o));const d=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&d.appendChild(this.cellEditorGui);const g=this.beans.popupService,b=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),_=a??((xl=c.getPopupPosition)==null?void 0:xl.call(c))??"over",$=this.beans.gos.get("enableRtl"),j={ePopup:d,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:_,alignSide:$?"right":"left",keepWithinBounds:!0},rt=g.positionPopupByComponent.bind(g,j),nt=this.beans.localeService.getLocaleTextFunc(),In=g.addPopup({modal:b,eChild:d,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:rt,ariaLabel:nt("ariaLabelCellEditor","Cell Editor")});In&&(this.hideEditorPopup=In.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const o=this.getGui();o.contains(_getActiveDomElement(this.beans.gos))&&_browserSupportsPreventScroll()&&o.focus({preventScroll:!0}),_clearElement(this.getParentOfValue())}},RowComp$1=class extends Component{constructor(o,a,c){super(),this.cellComps={},this.beans=a,this.rowCtrl=o;const d=document.createElement("div");d.setAttribute("comp-id",`${this.getCompId()}`),this.setInitialStyle(d,c),this.setTemplateFromElement(d);const g=this.getGui(),b=g.style;this.domOrder=this.rowCtrl.getDomOrder(),_setAriaRole(g,"row");const _={setDomOrder:$=>this.domOrder=$,setCellCtrls:$=>this.setCellCtrls($),showFullWidth:$=>this.showFullWidth($),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:($,j)=>this.addOrRemoveCssClass($,j),setUserStyles:$=>_addStylesToElement(g,$),setTop:$=>b.top=$,setTransform:$=>b.transform=$,setRowIndex:$=>g.setAttribute("row-index",$),setRowId:$=>g.setAttribute("row-id",$),setRowBusinessKey:$=>g.setAttribute("row-business-key",$),refreshFullWidth:$=>{var j,rt;return((rt=(j=this.fullWidthCellRenderer)==null?void 0:j.refresh)==null?void 0:rt.call(j,$()))??!1}};o.setComp(_,this.getGui(),c,void 0),this.addDestroyFunc(()=>{o.unsetComp(c)})}setInitialStyle(o,a){const c=this.rowCtrl.getInitialTransform(a);if(c)o.style.setProperty("transform",c);else{const d=this.rowCtrl.getInitialRowTop(a);d&&o.style.setProperty("top",d)}}showFullWidth(o){const a=d=>{if(this.isAlive()){const g=d.getGui();this.getGui().appendChild(g),this.rowCtrl.setupDetailRowAutoHeight(g),this.setFullWidthRowComp(d)}else this.beans.context.destroyBean(d)},c=o.newAgStackInstance();c!=null&&c.then(a)}setCellCtrls(o){const a=Object.assign({},this.cellComps);o.forEach(d=>{const g=d.instanceId;this.cellComps[g]==null?this.newCellComp(d):a[g]=null});const c=_getAllValuesInObject(a).filter(d=>d!=null);this.destroyCells(c),this.ensureDomOrder(o)}ensureDomOrder(o){if(!this.domOrder)return;const a=[];o.forEach(c=>{const d=this.cellComps[c.instanceId];d&&a.push(d.getGui())}),_setDomChildOrder(this.getGui(),a)}newCellComp(o){const a=new CellComp$1(this.beans,o,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[o.instanceId]=a,this.getGui().appendChild(a.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const o=_getAllValuesInObject(this.cellComps).filter(a=>a!=null);this.destroyCells(o)}setFullWidthRowComp(o){this.fullWidthCellRenderer&&_errorOnce("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=o,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(o){o.forEach(a=>{if(!a)return;const c=a.getCtrl().instanceId;this.cellComps[c]===a&&(a.detach(),a.destroy(),this.cellComps[c]=null)})}};function templateFactory(e){let o;return e.type==="center"?o=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer" role="rowgroup"></div>
            </div>`:o=`<div class="${e.container}" data-ref="eContainer" role="rowgroup"></div>`,o}var RowContainerComp$1=class extends Component{constructor(){super(),this.eViewport=RefPlaceholder,this.eContainer=RefPlaceholder,this.rowComps={},this.name=Component.elementGettingCreated.getAttribute("name"),this.options=_getRowContainerOptions(this.name),this.setTemplate(templateFactory(this.options))}wireBeans(o){this.beans=o}postConstruct(){const o={setHorizontalScroll:c=>this.eViewport.scrollLeft=c,setViewportHeight:c=>this.eViewport.style.height=c,setRowCtrls:({rowCtrls:c})=>this.setRowCtrls(c),setDomOrder:c=>{this.domOrder=c},setContainerWidth:c=>this.eContainer.style.width=c,setOffsetTop:c=>this.eContainer.style.transform=`translateY(${c})`};this.createManagedBean(new RowContainerCtrl(this.name)).setComp(o,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy(),this.lastPlacedElement=null}setRowCtrls(o){const{rowComps:a,beans:c,options:d}=this,g={...a};this.rowComps={},this.lastPlacedElement=null;const b=[];for(const _ of o){const $=_.instanceId,j=g[$];let rt;if(j)rt=j,delete g[$];else{if(!_.getRowNode().displayed)continue;rt=new RowComp$1(_,c,d.type)}this.rowComps[$]=rt,b.push([rt,!j])}this.removeOldRows(Object.values(g)),this.addRowNodes(b)}addRowNodes(o){const{domOrder:a,eContainer:c}=this;for(const[d,g]of o){const b=d.getGui();a?this.ensureDomOrder(b):g&&c.appendChild(b)}}removeOldRows(o){const{eContainer:a}=this;for(const c of o)a.removeChild(c.getGui()),c.destroy()}ensureDomOrder(o){this.domOrder&&(_ensureDomOrder(this.eContainer,o,this.lastPlacedElement),this.lastPlacedElement=o)}},RowContainerSelector={selector:"AG-ROW-CONTAINER",component:RowContainerComp$1};function makeRowContainers(e){return e.map(o=>`<ag-row-container name="${o}"></ag-row-container>`).join("")}var GRID_BODY_TEMPLATE=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${makeRowContainers(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${makeRowContainers(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${makeRowContainers(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${makeRowContainers(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${makeRowContainers(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,GridBodyComp$1=class extends Component{constructor(){super(GRID_BODY_TEMPLATE,[OverlayWrapperSelector,FakeHScrollSelector,FakeVScrollSelector,GridHeaderSelector,RowContainerSelector]),this.eBodyViewport=RefPlaceholder,this.eStickyTop=RefPlaceholder,this.eStickyBottom=RefPlaceholder,this.eTop=RefPlaceholder,this.eBottom=RefPlaceholder,this.eBody=RefPlaceholder}wireBeans(o){this.resizeObserverService=o.resizeObserverService,this.rangeService=o.rangeService}postConstruct(){const o=(c,d)=>{const g=`${c}px`;d.style.minHeight=g,d.style.height=g},a={setRowAnimationCssOnBodyViewport:(c,d)=>this.setRowAnimationCssOnBodyViewport(c,d),setColumnCount:c=>_setAriaColCount(this.getGui(),c),setRowCount:c=>_setAriaRowCount(this.getGui(),c),setTopHeight:c=>o(c,this.eTop),setBottomHeight:c=>o(c,this.eBottom),setTopDisplay:c=>this.eTop.style.display=c,setBottomDisplay:c=>this.eBottom.style.display=c,setStickyTopHeight:c=>this.eStickyTop.style.height=c,setStickyTopTop:c=>this.eStickyTop.style.top=c,setStickyTopWidth:c=>this.eStickyTop.style.width=c,setStickyBottomHeight:c=>{this.eStickyBottom.style.height=c,this.eStickyBottom.classList.toggle("ag-hidden",c==="0px")},setStickyBottomBottom:c=>this.eStickyBottom.style.bottom=c,setStickyBottomWidth:c=>this.eStickyBottom.style.width=c,setColumnMovingCss:(c,d)=>this.addOrRemoveCssClass(c,d),updateLayoutClasses:(c,d)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(b=>{b.toggle("ag-layout-auto-height",d.autoHeight),b.toggle("ag-layout-normal",d.normal),b.toggle("ag-layout-print",d.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",d.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",d.normal),this.addOrRemoveCssClass("ag-layout-print",d.print)},setAlwaysVerticalScrollClass:(c,d)=>this.eBodyViewport.classList.toggle(CSS_CLASS_FORCE_VERTICAL_SCROLL,d),registerBodyViewportResizeListener:c=>{const d=this.resizeObserverService.observeResize(this.eBodyViewport,c);this.addDestroyFunc(()=>d())},setPinnedTopBottomOverflowY:c=>this.eTop.style.overflowY=this.eBottom.style.overflowY=c,setCellSelectableCss:(c,d)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(g=>g.classList.toggle(c,d))},setBodyViewportWidth:c=>this.eBodyViewport.style.width=c};this.ctrl=this.createManagedBean(new GridBodyCtrl),this.ctrl.setComp(a,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&_isCellSelectionEnabled(this.gos)||_isMultiRowSelection(this.gos))&&_setAriaMultiSelectable(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(o,a){const c=this.eBodyViewport.classList;c.toggle("ag-row-animation",a),c.toggle("ag-row-no-animation",!a)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},GridBodySelector={selector:"AG-GRID-BODY",component:GridBodyComp$1},ScrollVisibleService=class extends BeanStub{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const o={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(o),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),o=e.hasHorizontalScrollGap(),a=e.hasVerticalScrollGap();(this.horizontalScrollGap!==o||this.verticalScrollGap!==a)&&(this.horizontalScrollGap=o,this.verticalScrollGap=a,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),a=typeof e=="number"&&e>=0?e:_getScrollbarWidth();a!=null&&(this.scrollbarWidth=a,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},GRID_DOM_KEY="__ag_grid_instance",_MouseEventService=class dC extends BeanStub{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=dC.gridInstanceSequence.next()}wireBeans(o){this.ctrlsService=o.ctrlsService}stampTopLevelGridCompWithGridInstance(o){o[GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(o){return _getCtrlForEventTarget(this.gos,o.target,CellCtrl.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(o){return this.isElementInThisGrid(o.target)}isElementInThisGrid(o){let a=o;for(;a;){const c=a[GRID_DOM_KEY];if(_exists(c))return c===this.gridInstanceId;a=a.parentElement}return!1}getCellPositionForEvent(o){const a=this.getRenderedCellForEvent(o);return a?a.getCellPosition():null}getNormalisedPosition(o){const a=_isDomLayout(this.gos,"normal"),c=o;let d,g;if(c.clientX!=null||c.clientY!=null?(d=c.clientX,g=c.clientY):(d=c.x,g=c.y),a){const b=this.ctrlsService.getGridBodyCtrl(),_=b.getScrollFeature().getVScrollPosition(),$=b.getScrollFeature().getHScrollPosition();d+=$.left,g+=_.top}return{x:d,y:g}}};_MouseEventService.gridInstanceSequence=new NumberSequence;var MouseEventService=_MouseEventService,NavigationService=class extends BeanStub{constructor(){super(),this.beanName="navigationService",this.onPageDown=_throttle(this.onPageDown,100),this.onPageUp=_throttle(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,o=!1){const a=e.key,c=e.altKey,d=e.ctrlKey||e.metaKey,g=!!this.rangeService&&e.shiftKey,b=this.mouseEventService.getCellPositionForEvent(e);let _=!1;switch(a){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:!d&&!c&&(this.onHomeOrEndKey(a),_=!0);break;case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.UP:case KeyCode.DOWN:if(!b)return!1;d&&!c&&!g&&(this.onCtrlUpDownLeftRight(a,b),_=!0);break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:!d&&!c&&(_=this.handlePageUpDown(a,b,o));break}return _&&e.preventDefault(),_}handlePageUpDown(e,o,a){return a&&(o=this.focusService.getFocusedCell()),o?(e===KeyCode.PAGE_UP?this.onPageUp(o):this.onPageDown(o),!0):!1}navigateTo(e){var b;const{scrollIndex:o,scrollType:a,scrollColumn:c,focusIndex:d,focusColumn:g}=e;_exists(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),_exists(o)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o,a),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(d),this.focusService.setFocusedCell({rowIndex:d,column:g,rowPinned:null,forceBrowserFocus:!0}),(b=this.rangeService)==null||b.setRangeToCell({rowIndex:d,rowPinned:null,column:g})}onPageDown(e){const a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.getViewportHeight(),d=this.pageBoundsService.getPixelOffset(),g=a.top+c,b=this.rowModel.getRowIndexAtPixel(g+d);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,b):this.navigateToNextPage(e,b)}onPageUp(e){const a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.pageBoundsService.getPixelOffset(),d=a.top,g=this.rowModel.getRowIndexAtPixel(d+c);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,g,!0):this.navigateToNextPage(e,g,!0)}navigateToNextPage(e,o,a=!1){const c=this.getViewportHeight(),d=this.pageBoundsService.getFirstRow(),g=this.pageBoundsService.getLastRow(),b=this.pageBoundsService.getPixelOffset(),_=this.rowModel.getRow(e.rowIndex),$=a?(_==null?void 0:_.rowHeight)-c-b:c-b,j=(_==null?void 0:_.rowTop)+$;let rt=this.rowModel.getRowIndexAtPixel(j+b);if(rt===e.rowIndex){const In=a?-1:1;o=rt=e.rowIndex+In}let nt;a?(nt="bottom",rt<d&&(rt=d),o<d&&(o=d)):(nt="top",rt>g&&(rt=g),o>g&&(o=g)),this.isRowTallerThanView(rt)&&(o=rt,nt="top"),this.navigateTo({scrollIndex:o,scrollType:nt,scrollColumn:null,focusIndex:rt,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,o,a=!1){this.navigateTo({scrollIndex:o,scrollType:a?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:e.column}),setTimeout(()=>{const c=this.getNextFocusIndexForAutoHeight(e,a);this.navigateTo({scrollIndex:o,scrollType:a?"bottom":"top",scrollColumn:null,focusIndex:c,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,o=!1){const a=o?-1:1,c=this.getViewportHeight(),d=this.pageBoundsService.getLastRow();let g=0,b=e.rowIndex;for(;b>=0&&b<=d;){const _=this.rowModel.getRow(b);if(_){const $=_.rowHeight??0;if(g+$>c)break;g+=$}b+=a}return Math.max(0,Math.min(b,d))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.scrollVisibleService.getScrollbarWidth();let a=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(a-=o),a}isRowTallerThanView(e){const o=this.rowModel.getRow(e);if(!o)return!1;const a=o.rowHeight;return typeof a!="number"?!1:a>this.getViewportHeight()}onCtrlUpDownLeftRight(e,o){const a=this.cellNavigationService.getNextCellToFocus(e,o,!0),{rowIndex:c}=a,d=a.column;this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:d,focusIndex:c,focusColumn:d})}onHomeOrEndKey(e){const o=e===KeyCode.PAGE_HOME,a=this.visibleColsService.getAllCols(),c=o?a[0]:_last(a),d=o?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:d,scrollType:null,scrollColumn:c,focusIndex:d,focusColumn:c})}onTabKeyDown(e,o){const a=o.shiftKey,c=this.tabToNextCellCommon(e,a,o);if(c!==!1){c?o.preventDefault():c===null&&this.focusService.allowFocusForNextGridCoreContainer(a);return}if(a){const{rowIndex:d,rowPinned:g}=e.getRowPosition();(g?d===0:d===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(o.preventDefault(),this.focusService.focusPreviousFromFirstCell(o)))}else e instanceof CellCtrl&&e.focusCell(!0),(!a&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(a))&&o.preventDefault()}tabToNextCell(e,o){const a=this.focusService.getFocusedCell();if(!a)return!1;let c=this.getCellByPosition(a);return!c&&(c=this.rowRenderer.getRowByPosition(a),!c||!c.isFullWidth())?!1:!!this.tabToNextCellCommon(c,e,o)}tabToNextCellCommon(e,o,a){let c=e.isEditing();if(!c&&e instanceof CellCtrl){const b=e.getRowCtrl();b&&(c=b.isEditing())}let d;return c?this.gos.get("editType")==="fullRow"?d=this.moveToNextEditingRow(e,o,a):d=this.moveToNextEditingCell(e,o,a):d=this.moveToNextCellNotEditing(e,o),d===null?d:d||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,o,a=null){const c=e.getCellPosition();e.getGui().focus(),e.stopEditing();const d=this.findNextCellToFocusOn(c,o,!0);return d===!1?null:d==null?!1:(d.startEditing(null,!0,a),d.focusCell(!1),!0)}moveToNextEditingRow(e,o,a=null){const c=e.getCellPosition(),d=this.findNextCellToFocusOn(c,o,!0);if(d===!1)return null;if(d==null)return!1;const g=d.getCellPosition(),b=this.isCellEditable(c),_=this.isCellEditable(g),$=g&&c.rowIndex===g.rowIndex&&c.rowPinned===g.rowPinned;return b&&e.setFocusOutOnEditor(),$||(e.getRowCtrl().stopEditing(),d.getRowCtrl().startRowEditing(void 0,void 0,a)),_?(d.setFocusInOnEditor(),d.focusCell()):d.focusCell(!0),!0}moveToNextCellNotEditing(e,o){const a=this.visibleColsService.getAllCols();let c;e instanceof RowCtrl?c={...e.getRowPosition(),column:o?a[0]:_last(a)}:c=e.getCellPosition();const d=this.findNextCellToFocusOn(c,o,!1);if(d===!1)return null;if(d instanceof CellCtrl)d.focusCell(!0);else if(d)return this.tryToFocusFullWidthRow(d.getRowPosition(),o);return _exists(d)}findNextCellToFocusOn(e,o,a){var d;let c=e;for(;;){e!==c&&(e=c),o||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,o);const g=this.gos.getCallback("tabToNextCell");if(_exists(g)){const j=g({backwards:o,editing:a,previousCellPosition:e,nextCellPosition:c||null});if(j===!0||j===null)j===null&&_warnOnce("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),c=e;else{if(j===!1)return!1;c={rowIndex:j.rowIndex,column:j.column,rowPinned:j.rowPinned}}}if(!c)return null;if(c.rowIndex<0){const $=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:$+c.rowIndex,column:c.column},fromCell:!0}),null}const b=this.gos.get("editType")==="fullRow";if(a&&!b&&!this.isCellEditable(c))continue;this.ensureCellVisible(c);const _=this.getCellByPosition(c);if(!_){const $=this.rowRenderer.getRowByPosition(c);if(!$||!$.isFullWidth()||a)continue;return $}if(!_.isSuppressNavigable())return(d=this.rangeService)==null||d.setRangeToCell(c),_}}isCellEditable(e){const o=this.lookupRowNodeForCell(e);return o?e.column.isCellEditable(o):!1}getCellByPosition(e){const o=this.rowRenderer.getRowByPosition(e);return o?o.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,o,a,c){let d=a,g=!1;for(;d&&(d===a||!this.isValidNavigateCell(d));)this.gos.get("enableRtl")?o===KeyCode.LEFT&&(d=this.getLastCellOfColSpan(d)):o===KeyCode.RIGHT&&(d=this.getLastCellOfColSpan(d)),d=this.cellNavigationService.getNextCellToFocus(o,d),g=_missing(d);if(g&&e&&e.key===KeyCode.UP&&(d={rowIndex:-1,rowPinned:null,column:a.column}),c){const _=this.gos.getCallback("navigateToNextCell");if(_exists(_)){const j=_({key:o,previousCellPosition:a,nextCellPosition:d||null,event:e});_exists(j)?d={rowPinned:j.rowPinned,rowIndex:j.rowIndex,column:j.column}:d=null}}if(!d)return;if(d.rowIndex<0){const _=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:_+d.rowIndex,column:a.column},event:e||void 0,fromCell:!0});return}const b=this.getNormalisedPosition(d);b?this.focusPosition(b):this.tryToFocusFullWidthRow(d)}getNormalisedPosition(e){this.ensureCellVisible(e);const o=this.getCellByPosition(e);return o?(e=o.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,o){const a=this.visibleColsService.getAllCols(),c=this.rowRenderer.getRowByPosition(e);if(!c||!c.isFullWidth())return!1;const d=this.focusService.getFocusedCell(),g={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(o?_last(a):a[0])};this.focusPosition(g);const b=o??(d!=null&&this.rowPositionUtils.before(g,d));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:g.rowIndex,rowPinned:g.rowPinned,column:g.column,isFullWidthCell:!0,fromBelow:b}),!0}focusPosition(e){var o;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const o=this.getCellByPosition(e);if(!o)return e;const a=o.getColSpanningList();return a.length===1?e:{rowIndex:e.rowIndex,column:_last(a),rowPinned:e.rowPinned}}ensureCellVisible(e){const o=_isGroupRowsSticky(this.gos),a=this.rowModel.getRow(e.rowIndex);!(o&&(a==null?void 0:a.sticky))&&_missing(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},HorizontalResizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const o={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(o),()=>this.dragService.removeDragSource(o)}onDragStart(e,o){this.dragStartX=o.clientX,this.setResizeIcons();const a=o instanceof MouseEvent&&o.shiftKey===!0;e.onResizeStart(a)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,o){this.resizeAmount=o.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},StandardMenuFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,o,a){this.showPopup(e,c=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:a,mouseEvent:o,ePopup:c})},a,o.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,o,a){let c=-1,d="left";const g=this.menuService.isLegacyMenuEnabled();!g&&this.gos.get("enableRtl")&&(c=1,d="right");const b=g?void 0:4*c,_=g?void 0:4;this.showPopup(e,$=>{this.popupService.positionPopupByComponent({type:a,eventSource:o,ePopup:$,nudgeX:b,nudgeY:_,alignSide:d,keepWithinBounds:!0,position:"under",column:e})},a,o,g)}showPopup(e,o,a,c,d){const g=e?this.createBean(new FilterWrapperComp(e,"COLUMN_MENU")):void 0;if(this.activeMenu=g,!(g!=null&&g.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const b=document.createElement("div");_setAriaRole(b,"presentation"),b.classList.add("ag-menu"),d||b.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(b,{keydown:Ll=>this.trapFocusWithin(Ll,b)}),b.appendChild(g==null?void 0:g.getGui());let _;const $=()=>g==null?void 0:g.afterGuiDetached(),j=this.menuService.isColumnMenuAnchoringEnabled()?c??this.ctrlsService.getGridBodyCtrl().getGui():void 0,rt=Ll=>{e.setMenuVisible(!1,"contextMenu");const Nl=Ll instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),Nl&&c&&_isVisible(c)){const _u=this.focusService.findTabbableParent(c);_u&&_u.focus()}$(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,a,e)},nt=this.localeService.getLocaleTextFunc(),In=d&&a!=="columnFilter"?nt("ariaLabelColumnMenu","Column Menu"):nt("ariaLabelColumnFilter","Column Filter"),xl=this.popupService.addPopup({modal:!0,eChild:b,closeOnEsc:!0,closedCallback:rt,positionCallback:()=>o(b),anchorToElement:j,ariaLabel:In});xl&&(this.hidePopup=_=xl.hideFunc),g.afterInit().then(()=>{o(b),g.afterGuiAttached({container:a,hidePopup:_})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,a,e)}trapFocusWithin(e,o){e.key!==KeyCode.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(o,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(o,e.shiftKey))}dispatchVisibleChangedEvent(e,o,a){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:o,column:a??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},ResizeObserverService=class extends BeanStub{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,o){const c=_getWindow(this.gos).ResizeObserver,d=c?new c(o):null;return d==null||d.observe(e),()=>d==null?void 0:d.disconnect()}},AnimationFrameService=class extends BeanStub{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var a;const o=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,o&&e===0){const c=((a=this.paginationService)==null?void 0:a.getCurrentPage())??0;c!==this.lastPage&&(this.lastPage=c,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&_warnOnce(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,o,a){this.verifyAnimationFrameOn(a);const c={task:e,index:o,createOrder:++this.taskCount};this.addTaskToList(this[a],c),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,o){e.list.push(o),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const o=this.scrollGoingDown?1:-1;e.list.sort((a,c)=>a.index!==c.index?o*(c.index-a.index):c.createOrder-a.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const o=this.createTasksP1,a=o.list,c=this.createTasksP2,d=c.list,g=this.destroyTasks,b=new Date().getTime();let _=new Date().getTime()-b;const $=e<=0,j=this.ctrlsService.getGridBodyCtrl();for(;$||_<e;){if(!j.getScrollFeature().scrollGridIfNeeded()){let nt;if(a.length)this.sortTaskList(o),nt=a.pop().task;else if(d.length)this.sortTaskList(c),nt=d.pop().task;else if(g.length)nt=g.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(nt)||nt()}_=new Date().getTime()-b}a.length||d.length||g.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const o=_getWindow(this.gos);o.requestAnimationFrame?o.requestAnimationFrame(e):o.webkitRequestAnimationFrame?o.webkitRequestAnimationFrame(e):o.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let o=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}o||(o=!0,this.addDestroyTask(()=>{o=!1,e()}))}}},ClientSideRowModelSteps=(e=>(e.EVERYTHING="group",e.FILTER="filter",e.SORT="sort",e.MAP="map",e.AGGREGATE="aggregate",e.FILTER_AGGREGATES="filter_aggregates",e.PIVOT="pivot",e.NOTHING="nothing",e))(ClientSideRowModelSteps||{}),ExpansionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=_isClientSideRowModel(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const o=new Set(e);this.rowModel.forEachNode(a=>{a.id&&o.has(a.id)&&(a.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:o,id:a})=>{o&&a&&e.push(a)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,o,a,c){e&&(a&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,o,a,c),e.setExpanded(o,void 0,c))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},MenuService=class extends BeanStub{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const o=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(o,e,e.containerType,!0)}showHeaderContextMenu(e,o,a){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,o,a)}getContextMenuPosition(e,o){const a=this.getRowCtrl(e),c=this.getCellGui(a,o);if(!c)return a?{x:0,y:a.getRowYPosition()}:{x:0,y:0};const d=c.getBoundingClientRect();return{x:d.x+d.width/2,y:d.y+d.height/2}}showContextMenu(e){var g;const o=e.rowNode,a=e.column;let{anchorToElement:c,value:d}=e;o&&a&&d==null&&(d=this.valueService.getValueForDisplay(a,o)),c==null&&(c=this.getContextMenuAnchorElement(o,a)),(g=this.contextMenuFactory)==null||g.onContextMenu(e.mouseEvent??null,e.touchEvent??null,o??null,a??null,d,c)}showColumnChooser(e){var o;(o=this.columnChooserFactory)==null||o.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:o,suppressHeaderMenuButton:a}=e.getColDef();return!(a??o)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var o;return!e.getColDef().suppressHeaderFilterButton&&!!((o=this.filterManager)!=null&&o.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const o=e&&isColumn(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(o!=null&&o.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(_isIOSUserAgent()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var o;return!!((o=this.filterManager)!=null&&o.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var c;const o=e.getColDef(),a=(c=o.floatingFilterComponentParams)==null?void 0:c.suppressFilterButton;return a!=null&&_warnOnce("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),o.suppressFloatingFilterButton==null?!a:!o.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,o,a,c){const{positionBy:d}=o,g=o.column;if(d==="button"){const{buttonElement:b}=o;e.showMenuAfterButtonClick(g,b,a,c)}else if(d==="mouse"){const{mouseEvent:b}=o;e.showMenuAfterMouseEvent(g,b,a,c)}else g&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(g,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var _;const b=(_=this.ctrlsService.getHeaderRowContainerCtrl(g.getPinned()))==null?void 0:_.getHeaderCtrlForColumn(g);b&&e.showMenuAfterButtonClick(g,b.getAnchorElementForMenu(c),a,!0)}))}getRowCtrl(e){const{rowIndex:o,rowPinned:a}=e||{};if(o!=null)return this.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:a})||void 0}getCellGui(e,o){if(!e||!o)return;const a=e.getCellCtrl(o);return(a==null?void 0:a.getGui())||void 0}getContextMenuAnchorElement(e,o){const a=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),c=this.getRowCtrl(e);if(!c)return a;const d=this.getCellGui(c,o);return d||(c.isFullWidth()?c.getFullWidthElement():a)}},AgInputTextArea=class extends AgAbstractInputField{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,o){const a=super.setValue(e,o);return this.eInput.value=e,a}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},AgInputTextAreaSelector={selector:"AG-INPUT-TEXT-AREA",component:AgInputTextArea},LargeTextCellEditor=class extends PopupComponent{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[AgInputTextAreaSelector]),this.eTextArea=RefPlaceholder}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),_exists(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const o=e.key;(o===KeyCode.LEFT||o===KeyCode.UP||o===KeyCode.RIGHT||o===KeyCode.DOWN||e.shiftKey&&o===KeyCode.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!_exists(e)&&!_exists(this.params.value)?this.params.value:this.params.parseValue(e)}},PopupEditorWrapper=class extends PopupComponent{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){_setDomData(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),o=this.params,a=c=>{_isUserSuppressingKeyboardEvent(this.gos,c,o.node,o.column,!0)||o.onKeyDown(c)};this.addManagedElementListeners(e,{keydown:a})}},SelectCellEditor=class extends PopupComponent{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[AgSelectSelector]),this.eSelect=RefPlaceholder,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:o,valueService:a,gos:c}=this,{values:d,value:g,eventKey:b}=e;if(_missing(d)){_warnOnce("no values found for select cellEditor");return}this.startedByEnter=b!=null?b===KeyCode.ENTER:!1;let _=!1;d.forEach(nt=>{const In={value:nt},xl=a.formatValue(e.column,null,nt),Ll=xl!=null;In.text=Ll?xl:nt,o.addOption(In),_=_||g===nt}),_?o.setValue(e.value,!0):e.values.length&&o.setValue(e.values[0],!0);const{valueListGap:$,valueListMaxWidth:j,valueListMaxHeight:rt}=e;$!=null&&o.setPickerGap($),rt!=null&&o.setPickerMaxHeight(rt),j!=null&&o.setPickerMaxWidth(j),c.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},SimpleCellEditor=class extends PopupComponent{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=RefPlaceholder}init(e){this.params=e;const{cellStartedEdit:o,eventKey:a,suppressPreventDefault:c}=e,d=this.eInput;this.cellEditorInput.init(d,e);let g,b=!0;o?(this.focusAfterAttached=!0,a===KeyCode.BACKSPACE||a===KeyCode.DELETE?g="":a&&a.length===1?c?b=!1:g=a:(g=this.cellEditorInput.getStartValue(),a!==KeyCode.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,g=this.cellEditorInput.getStartValue()),b&&g!=null&&d.setStartValue(g),this.addManagedElementListeners(d.getGui(),{keydown:_=>{const{key:$}=_;($===KeyCode.PAGE_UP||$===KeyCode.PAGE_DOWN)&&_.preventDefault()}})}afterGuiAttached(){var c,d;const e=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_isBrowserSafari()||o.getFocusableElement().focus();const a=o.getInputElement();this.highlightAllOnFocus?a.select():(d=(c=this.cellEditorInput).setCaret)==null||d.call(c)}focusIn(){const e=this.eInput,o=e.getFocusableElement(),a=e.getInputElement();o.focus(),a.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},TextCellEditorInput=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[AgInputTextFieldSelector]}init(e,o){this.eInput=e,this.params=o,o.maxLength!=null&&e.setMaxLength(o.maxLength)}getValue(){const e=this.eInput.getValue();return!_exists(e)&&!_exists(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),o=_exists(e)&&e.length||0;o&&this.eInput.getInputElement().setSelectionRange(o,o)}},TextCellEditor=class extends SimpleCellEditor{constructor(){super(new TextCellEditorInput)}},NumberCellEditorInput=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[AgInputNumberFieldSelector]}init(e,o){this.eInput=e,this.params=o,o.max!=null&&e.setMax(o.max),o.min!=null&&e.setMin(o.min),o.precision!=null&&e.setPrecision(o.precision),o.step!=null&&e.setStep(o.step);const a=e.getInputElement();o.preventStepping?e.addManagedElementListeners(a,{keydown:this.preventStepping}):o.showStepperButtons&&a.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===KeyCode.UP||e.key===KeyCode.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!_exists(e)&&!_exists(this.params.value))return this.params.value;let o=this.params.parseValue(e);if(o==null)return o;if(typeof o=="string"){if(o==="")return null;o=Number(o)}return isNaN(o)?null:o}getStartValue(){return this.params.value}setCaret(){_isBrowserSafari()&&this.eInput.getInputElement().focus({preventScroll:!0})}},NumberCellEditor=class extends SimpleCellEditor{constructor(){super(new NumberCellEditorInput)}},AgInputDateField=class extends AgInputTextField{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=_isBrowserSafari();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){_getActiveDomElement(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const o=e instanceof Date?_serialiseDate(e??null,!1)??void 0:e;return this.min===o?this:(this.min=o,_addOrRemoveAttribute(this.eInput,"min",o),this)}setMax(e){const o=e instanceof Date?_serialiseDate(e??null,!1)??void 0:e;return this.max===o?this:(this.max=o,_addOrRemoveAttribute(this.eInput,"max",o),this)}setStep(e){return this.step===e?this:(this.step=e,_addOrRemoveAttribute(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return _parseDateTimeFromString(this.getValue())??void 0}setDate(e,o){this.setValue(_serialiseDate(e??null,!1),o)}},AgInputDateFieldSelector={selector:"AG-INPUT-DATE-FIELD",component:AgInputDateField},DateCellEditorInput=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[AgInputDateFieldSelector]}init(e,o){this.eInput=e,this.params=o,o.min!=null&&e.setMin(o.min),o.max!=null&&e.setMax(o.max),o.step!=null&&e.setStep(o.step)}getValue(){const e=this.eInput.getDate();return!_exists(e)&&!_exists(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return _serialiseDate(e,!1)}},DateCellEditor=class extends SimpleCellEditor{constructor(){super(new DateCellEditorInput)}},DateStringCellEditorInput=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[AgInputDateFieldSelector]}init(e,o){this.eInput=e,this.params=o,o.min!=null&&e.setMin(o.min),o.max!=null&&e.setMax(o.max),o.step!=null&&e.setStep(o.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!_exists(e)&&!_exists(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return _serialiseDate(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const o=this.getDataTypeService();return o?o.getDateParserFunction(this.params.column)(e):_parseDateTimeFromString(e)??void 0}formatDate(e){const o=this.getDataTypeService();return o?o.getDateFormatterFunction(this.params.column)(e):_serialiseDate(e??null,!1)??void 0}},DateStringCellEditor=class extends SimpleCellEditor{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new DateStringCellEditorInput(()=>this.dataTypeService))}},CheckboxCellEditor=class extends PopupComponent{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[AgCheckboxSelector]),this.eCheckbox=RefPlaceholder}init(e){this.params=e;const o=e.value??void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:c=>this.setAriaLabel(c.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const o=this.localeService.getLocaleTextFunc(),a=_getAriaCheckboxStateName(o,e),c=o("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${c} (${a})`)}},UndoRedoAction=class{constructor(e){this.cellValueChanges=e}},RangeUndoRedoAction=class extends UndoRedoAction{constructor(e,o,a,c){super(e),this.initialRange=o,this.finalRange=a,this.ranges=c}},DEFAULT_STACK_SIZE=10,UndoRedoStack=class{constructor(e){this.actionStack=[],this.maxStackSize=e||DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},UndoRedoService=class extends BeanStub{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const o={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},a=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,o),c=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,o);if(!(a||c||this.isPasting||this.isRangeInAction))return;const{rowPinned:g,rowIndex:b,column:_,oldValue:$,value:j}=e,rt={rowPinned:g,rowIndex:b,columnId:_.getColId(),newValue:j,oldValue:$};this.cellValueChanges.push(rt)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new UndoRedoStack(e),this.redoStack=new UndoRedoStack(e),this.addListeners();const o=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:a=>{a.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:o,newColumnsLoaded:o,columnGroupOpened:o,columnRowGroupChanged:o,columnMoved:o,columnPinned:o,columnVisible:o,rowDragEnd:o}),this.ctrlsService.whenReady(this,a=>{this.gridBodyCtrl=a.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const o=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:o})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const o=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:o})}undoRedo(e,o,a,c,d){if(!e)return!1;const g=e.pop();return!g||!g.cellValueChanges?!1:(this.processAction(g,b=>b[c],d),g instanceof RangeUndoRedoAction?this.processRange(this.rangeService,g.ranges||[g[a]]):this.processCell(g.cellValueChanges),o.push(g),!0)}processAction(e,o,a){e.cellValueChanges.forEach(c=>{const{rowIndex:d,rowPinned:g,columnId:b}=c,_={rowIndex:d,rowPinned:g},$=this.rowPositionUtils.getRowNode(_);$.displayed&&$.setDataValue(b,o(c),a)})}processRange(e,o){let a;e.removeAllCellRanges(!0),o.forEach((c,d)=>{if(!c)return;const g=c.startRow,b=c.endRow;d===o.length-1&&(a={rowPinned:g.rowPinned,rowIndex:g.rowIndex,columnId:c.startColumn.getColId()},this.setLastFocusedCell(a));const _={rowStartIndex:g.rowIndex,rowStartPinned:g.rowPinned,rowEndIndex:b.rowIndex,rowEndPinned:b.rowPinned,columnStart:c.startColumn,columns:c.columns};e.addCellRange(_)})}processCell(e){const o=e[0],{rowIndex:a,rowPinned:c}=o,d={rowIndex:a,rowPinned:c},g=this.rowPositionUtils.getRowNode(d),b={rowPinned:o.rowPinned,rowIndex:g.rowIndex,columnId:o.columnId};this.setLastFocusedCell(b,this.rangeService)}setLastFocusedCell(e,o){const{rowIndex:a,columnId:c,rowPinned:d}=e,g=this.gridBodyCtrl.getScrollFeature(),b=this.columnModel.getCol(c);if(!b)return;g.ensureIndexVisible(a),g.ensureColumnVisible(b);const _={rowIndex:a,column:b,rowPinned:d};this.focusService.setFocusedCell({..._,forceBrowserFocus:!0}),o==null||o.setRangeToCell(_)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const a=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(a)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const o=new RangeUndoRedoAction(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(o),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&_isCellSelectionEnabled(this.gos)?e=new RangeUndoRedoAction(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new UndoRedoAction(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function getVerticalPixelRange(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function getHorizontalPixelRange(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function ensureColumnVisible(e,o,a="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,a),"ensureVisible")}function ensureIndexVisible(e,o,a){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(o,a),"ensureVisible")}function ensureNodeVisible(e,o,a=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(o,a),"ensureVisible")}function undoCellEditing(e){var o;(o=e.undoRedoService)==null||o.undo("api")}function redoCellEditing(e){var o;(o=e.undoRedoService)==null||o.redo("api")}function getCellEditorInstances(e,o={}){return e.rowRenderer.getCellEditorInstances(o).map(_unwrapUserComp)}function getEditingCells(e){return e.rowRenderer.getEditingCells()}function stopEditing(e,o=!1){e.rowRenderer.stopEditing(o)}function startEditingCell(e,o){const a=e.columnModel.getCol(o.colKey);if(!a){_warnOnce(`no column found for ${o.colKey}`);return}const c={rowIndex:o.rowIndex,rowPinned:o.rowPinned||null,column:a};o.rowPinned==null&&ensureIndexVisible(e,o.rowIndex),ensureColumnVisible(e,o.colKey);const g=e.navigationService.getCellByPosition(c);if(!g)return;const{focusService:b,gos:_}=e,$=()=>{const rt=_getActiveDomElement(_),nt=g.getGui();return rt!==nt&&!!(nt!=null&&nt.contains(rt))},j=_.get("stopEditingWhenCellsLoseFocus")&&$();(j||!b.isCellFocused(c))&&b.setFocusedCell({...c,forceBrowserFocus:j,preventScrollOnBrowserFocus:!0}),g.startRowOrCellEdit(o.key)}function getCurrentUndoSize(e){var o;return((o=e.undoRedoService)==null?void 0:o.getCurrentUndoStackSize())??0}function getCurrentRedoSize(e){var o;return((o=e.undoRedoService)==null?void 0:o.getCurrentRedoStackSize())??0}var EditService=class extends BeanStub{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,o=null,a=!1,c=null){var j;const d=this.createCellEditorParams(e,o,a),g=e.getColumn().getColDef(),b=this.userComponentFactory.getCellEditorDetails(g,d),_=(b==null?void 0:b.popupFromSelector)!=null?b.popupFromSelector:!!g.cellEditorPopup,$=(b==null?void 0:b.popupPositionFromSelector)!=null?b.popupPositionFromSelector:g.cellEditorPopupPosition;return e.setEditing(!0,b),e.getComp().setEditDetails(b,_,$,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(c,"cellEditingStarted")),!((j=b==null?void 0:b.params)!=null&&j.suppressPreventDefault)}stopEditing(e,o){const a=e.getComp(),{newValue:c,newValueExists:d}=this.takeValueFromCellEditor(o,a),g=e.getRowNode(),b=e.getColumn(),_=this.valueService.getValueForDisplay(b,g);let $=!1;return d&&($=this.saveNewValue(e,_,c,g,b)),e.setEditing(!1,void 0),a.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:_,newValue:c,valueChanged:$}),$}handleColDefChanged(e){const o=e.getCellEditor();if(o!=null&&o.refresh){const{eventKey:a,cellStartedEdit:c}=e.getEditCompDetails().params,d=this.createCellEditorParams(e,a,c),g=e.getColumn().getColDef(),b=this.userComponentFactory.getCellEditorDetails(g,d);o.refresh(b.params)}}setFocusOutOnEditor(e){const o=e.getComp().getCellEditor();o&&o.focusOut&&o.focusOut()}setFocusInOnEditor(e){const o=e.getComp(),a=o.getCellEditor();a!=null&&a.focusIn?a.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var c,d;return(d=(c=o.getCellEditor())==null?void 0:c.focusIn)==null?void 0:d.call(c)}))}stopEditingAndFocus(e,o=!1,a=!1){e.stopRowOrCellEdit(),e.focusCell(!0),o||this.navigateAfterEdit(a,e.getCellPosition())}createPopupEditorWrapper(e){return new PopupEditorWrapper(e)}takeValueFromCellEditor(e,o){const a={newValueExists:!1};if(e)return a;const c=o.getCellEditor();return!c||c.isCancelAfterEnd&&c.isCancelAfterEnd()?a:{newValue:c.getValue(),newValueExists:!0}}saveNewValue(e,o,a,c,d){if(a===o)return!1;e.setSuppressRefreshCell(!0);const g=c.setDataValue(d,a,"edit");return e.setSuppressRefreshCell(!1),g}createCellEditorParams(e,o,a){const c=e.getColumn(),d=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(c,d),eventKey:o,column:c,colDef:c.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:d,data:d.data,cellStartedEdit:a,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:g=>this.valueService.parseValue(c,d,g,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,o){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const c=e?KeyCode.UP:KeyCode.DOWN;this.navigationService.navigateToNextCell(null,c,o,!1)}}},RowEditService=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,o=null,a=null,c=null){let d=!0;return e.getAllCellCtrls().reduce((b,_)=>{const $=_===a;return $?d=_.startEditing(o,$,c):_.startEditing(null,$,c),b?!0:_.isEditing()},!1)&&this.setEditing(e,!0),d}stopEditing(e,o=!1){const a=e.getAllCellCtrls(),c=e.isEditing();e.setStoppingRowEdit(!0);let d=!1;for(const g of a){const b=g.stopEditing(o);c&&!o&&!d&&b&&(d=!0)}d&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),c&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,o){e.setEditingRow(o),e.forEachGui(void 0,c=>c.rowComp.addOrRemoveCssClass("ag-row-editing",o));const a=o?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(a)}},EditCoreModule={version:VERSION,moduleName:"@ag-grid-community/edit-core",beans:[EditService]},EditApiModule={version:VERSION,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing,redoCellEditing,getCellEditorInstances,getEditingCells,stopEditing,startEditingCell,getCurrentUndoSize,getCurrentRedoSize},dependantModules:[EditCoreModule]},UndoRedoEditModule={version:VERSION,moduleName:"@ag-grid-community/undo-redo-edit",beans:[UndoRedoService],dependantModules:[EditCoreModule]},FullRowEditModule={version:VERSION,moduleName:"@ag-grid-community/full-row-edit",beans:[RowEditService],dependantModules:[EditCoreModule]},DefaultEditorModule={version:VERSION,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:TextCellEditor}],dependantModules:[EditCoreModule]},DataTypeEditorsModule={version:VERSION,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:TextCellEditor},{name:"agNumberCellEditor",classImp:NumberCellEditor,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:DateCellEditor},{name:"agDateStringCellEditor",classImp:DateStringCellEditor},{name:"agCheckboxCellEditor",classImp:CheckboxCellEditor}],dependantModules:[DefaultEditorModule]},SelectEditorModule={version:VERSION,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:SelectCellEditor}],dependantModules:[EditCoreModule]},LargeTextEditorModule={version:VERSION,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:LargeTextCellEditor}],dependantModules:[EditCoreModule]},AllCommunityEditorsModule={version:VERSION,moduleName:"@ag-grid-community/all-editors",dependantModules:[DefaultEditorModule,DataTypeEditorsModule,SelectEditorModule,LargeTextEditorModule]},EditModule={version:VERSION,moduleName:"@ag-grid-community/editing",dependantModules:[EditCoreModule,UndoRedoEditModule,FullRowEditModule,AllCommunityEditorsModule,EditApiModule]},AutoWidthCalculator=class extends BeanStub{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,o){const a=this.getHeaderCellForColumn(e);if(!a)return-1;const c=this.rowRenderer.getAllCellsForColumn(e);return o||c.push(a),this.addElementsToContainerAndGetWidth(c)}getPreferredWidthForColumnGroup(e){const o=this.getHeaderCellForColumn(e);return o?this.addElementsToContainerAndGetWidth([o]):-1}addElementsToContainerAndGetWidth(e){const o=document.createElement("form");o.style.position="fixed";const a=this.centerRowContainerCtrl.getContainerElement();e.forEach(g=>this.cloneItemIntoDummy(g,o)),a.appendChild(o);const c=o.offsetWidth;a.removeChild(o);const d=this.getAutoSizePadding();return c+d}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let o=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(a=>{const c=a.getHtmlElementForColumnHeader(e);c!=null&&(o=c)}),o}cloneItemIntoDummy(e,o){const a=e.cloneNode(!0);a.style.width="",a.style.position="static",a.style.left="";const c=document.createElement("div"),d=c.classList;["ag-header-cell","ag-header-group-cell"].some(_=>a.classList.contains(_))?(d.add("ag-header","ag-header-row"),c.style.position="static"):d.add("ag-row");let b=e.parentElement;for(;b;){if(["ag-header-row","ag-row"].some($=>b.classList.contains($))){for(let $=0;$<b.classList.length;$++){const j=b.classList[$];j!="ag-row-position-absolute"&&d.add(j)}break}b=b.parentElement}c.appendChild(a),o.appendChild(c)}},StickyRowFeature=class extends BeanStub{constructor(e,o){super(),this.createRowCon=e,this.destroyRowCtrls=o,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=_isClientSideRowModel(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var o,a;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let d=(o=e.childStore)==null?void 0:o.getStoreBounds();return e.footer&&(d=(a=e.sibling.childStore)==null?void 0:a.getStoreBounds()),((d==null?void 0:d.heightPx)??0)+((d==null?void 0:d.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let c=e.footer?e.sibling:e;for(;c.isExpandable()&&c.expanded;)if(c.master)c=c.detailNode;else if(c.childrenAfterSort){if(c.childrenAfterSort.length===0)break;c=_last(c.childrenAfterSort)}return c.rowTop+c.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const o=e==="top";let a=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,a);const c=o?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,d=new Set,g=j=>{if(d.add(j),o){const rt=this.getLastPixelOfGroup(j),nt=c+a+j.rowHeight;rt<nt?j.stickyRowTop=a+(rt-nt):j.stickyRowTop=a}else{const rt=this.getFirstPixelOfGroup(j),nt=c-(a+j.rowHeight);rt>nt?j.stickyRowTop=a-(rt-nt):j.stickyRowTop=a}a=0,d.forEach(rt=>{const nt=rt.stickyRowTop+rt.rowHeight;a<nt&&(a=nt)})},b=this.areFooterRowsStickySuppressed(),_=this.gos.get("suppressGroupRowsSticky"),$=j=>{if(!j.displayed)return!1;if(j.footer){if(b===!0||b==="grand"&&j.level===-1||b==="group"&&j.level>-1)return!1;const rt=j.sibling.rowIndex?j.sibling.rowIndex+1===j.rowIndex:!1;return e==="bottom"&&rt?!1:!d.has(j)}return j.isExpandable()?_===!0||e==="bottom"?!1:!d.has(j)&&j.expanded:!1};for(let j=0;j<100;j++){let rt=c+a;o||(rt=c-a);const nt=this.rowModel.getRowIndexAtPixel(rt),In=this.rowModel.getRow(nt);if(In==null)break;const Ll=this.getStickyAncestors(In).find(_u=>(o?_u.rowIndex<nt:_u.rowIndex>nt)&&$(_u));if(Ll){g(Ll);continue}if((o?In.rowTop<rt:In.rowTop+In.rowHeight>rt)&&$(In)){g(In);continue}break}return o||d.forEach(j=>{j.stickyRowTop=a-(j.stickyRowTop+j.rowHeight)}),this.refreshNodesAndContainerHeight(e,d,a)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const o=!!this.gos.get("groupIncludeFooter")||e==="group",a=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return o&&a?!0:a?"grand":o?"group":!1}canRowsBeSticky(){const e=_isGroupRowsSticky(this.gos),o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky");return e&&(!o||!a)}getStickyAncestors(e){const o=[];let a=e.footer?e.sibling:e.parent;for(;a;)a.sibling&&o.push(a.sibling),o.push(a),a=a.parent;return o.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),o=this.updateStickyRows("bottom");return e||o}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const o=new Set;if(this.stickyTopRowCtrls.some(a=>a.getRowNode()===e)){for(let a=0;a<this.stickyTopRowCtrls.length;a++){const c=this.stickyTopRowCtrls[a].getRowNode();c!==e&&o.add(c)}this.refreshNodesAndContainerHeight("top",o,this.topContainerHeight)&&this.checkStickyRows();return}for(let a=0;a<this.stickyBottomRowCtrls.length;a++){const c=this.stickyBottomRowCtrls[a].getRowNode();c!==e&&o.add(c)}this.refreshNodesAndContainerHeight("bottom",o,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,o,a){const c=e==="top",d=c?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,g={},b=[];for(let In=0;In<d.length;In++){const xl=d[In].getRowNode();if(!o.has(xl)){g[xl.id]=d[In],xl.sticky=!1;continue}b.push(d[In])}const _=new Set;for(let In=0;In<b.length;In++)_.add(b[In].getRowNode());const $=[];o.forEach(In=>{_.has(In)||(In.sticky=!0,$.push(this.createRowCon(In,!1,!1)))});let j=!!$.length||b.length!==d.length;c?this.topContainerHeight!==a&&(this.topContainerHeight=a,this.gridBodyCtrl.setStickyTopHeight(a),j=!0):this.bottomContainerHeight!==a&&(this.bottomContainerHeight=a,this.gridBodyCtrl.setStickyBottomHeight(a),j=!0),this.destroyRowCtrls(g,!1);const rt=[...b,...$];rt.sort((In,xl)=>xl.getRowNode().rowIndex-In.getRowNode().rowIndex),c||rt.reverse(),rt.forEach(In=>In.setRowTop(In.getRowNode().stickyRowTop));let nt=0;return c?(o.forEach(In=>{In.rowIndex<this.pageBoundsService.getFirstRow()&&(nt+=In.rowHeight)}),nt>this.topContainerHeight&&(nt=this.topContainerHeight),this.setOffsetTop(nt)):(o.forEach(In=>{In.rowIndex>this.pageBoundsService.getLastRow()&&(nt+=In.rowHeight)}),nt>this.bottomContainerHeight&&(nt=this.bottomContainerHeight),this.setOffsetBottom(nt)),j?(c?this.stickyTopRowCtrls=rt:this.stickyBottomRowCtrls=rt,!0):!1}ensureRowHeightsValid(){let e=!1;const o=a=>{const c=a.getRowNode();if(c.rowHeightEstimated){const d=_getRowHeightForNode(this.gos,c);c.setRowHeight(d.height),e=!0}};return this.stickyTopRowCtrls.forEach(o),this.stickyBottomRowCtrls.forEach(o),e}},RowRenderer=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(g=>g.onCellSelectionChanged())},o=()=>{this.getAllCellCtrls().forEach(g=>g.updateRangeBordersIfRangeCount())},a=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",o),this.eventService.addEventListener("columnPinned",o),this.eventService.addEventListener("columnVisible",o)},c=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",o),this.eventService.removeEventListener("columnPinned",o),this.eventService.removeEventListener("columnVisible",o)};this.addDestroyFunc(()=>c()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{_isCellSelectionEnabled(this.gos)?a():c()}),_isCellSelectionEnabled(this.gos)&&a()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),_isGroupRowsSticky(this.gos)&&(_isClientSideRowModel(this.gos)||_isServerSideRowModel(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new StickyRowFeature(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=_isDomLayout(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),o=e??3;this.cachedRowCtrls=new RowCtrlCache(o)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=_getAllValuesInObject(this.rowCtrlsByRowIndex),o=_getAllValuesInObject(this.zombieRowCtrls),a=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||a.length>0?this.allRowCtrls=[...e,...o,...a]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(o=>o.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(o=>o.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(o=>o.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(o=>o.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(o=>o.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(o=>{const a=$=>{this.getAllCellCtrls().forEach(j=>{j.getColumn()===o&&$(j)})},c=()=>{a($=>$.onLeftChanged())},d=()=>{a($=>$.onWidthChanged())},g=()=>{a($=>$.onFirstRightPinnedChanged())},b=()=>{a($=>$.onLastLeftPinnedChanged())},_=()=>{a($=>$.onColDefChanged())};o.addEventListener("leftChanged",c),o.addEventListener("widthChanged",d),o.addEventListener("firstRightPinnedChanged",g),o.addEventListener("lastLeftPinnedChanged",b),o.addEventListener("colDefChanged",_),this.destroyFuncsForColumnListeners.push(()=>{o.removeEventListener("leftChanged",c),o.removeEventListener("widthChanged",d),o.removeEventListener("firstRightPinnedChanged",g),o.removeEventListener("lastLeftPinnedChanged",b),o.removeEventListener("colDefChanged",_)})})}onDomLayoutChanged(){const e=_isDomLayout(this.gos,"print"),o=e||this.gos.get("embedFullWidthRows"),a=o!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=o,a&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const o={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(o)}getAllCellsForColumn(e){const o=[];return this.getAllRowCtrls().forEach(a=>{const c=a.getCellElement(e);c&&o.push(c)}),o}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,o){const{pinnedRowModel:a,beans:c,printLayout:d}=this,g=Object.fromEntries(e.map(_=>[_.getRowNode().id,_]));a.forEachPinnedRow(o,(_,$)=>{const j=e[$];j&&a.getPinnedRowById(j.getRowNode().id,o)===void 0&&(j.destroyFirstPass(),j.destroySecondPass()),_.id in g?(e[$]=g[_.id],delete g[_.id]):e[$]=new RowCtrl(_,c,!1,!1,d)});const b=o==="top"?a.getPinnedTopRowCount():a.getPinnedBottomRowCount();e.length=b}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,o=!1){var a;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((a=this.cachedRowCtrls)!=null&&a.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const c=d=>{const g=d[e.rowIndex];g&&g.getRowNode()===e&&(g.destroyFirstPass(),g.destroySecondPass(),d[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":c(this.topRowCtrls);break;case"bottom":c(this.bottomRowCtrls);break;default:c(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}o||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(a=>this.redrawRow(a,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const o=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(o==null)return null;const a=_getActiveDomElement(this.gos),c=_getDomData(this.gos,a,CellCtrl.DOM_DATA_KEY_CELL_CTRL),d=_getDomData(this.gos,a,RowCtrl.DOM_DATA_KEY_ROW_CTRL);return c||d?o:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const o=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const a=!e.domLayoutChanged&&!!e.recycleRows,c=e.animate&&_isAnimateRows(this.gos),d=a?this.getRowsToRecycle():null;if(a||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const g=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();g&&this.updateContainerHeights(g)}this.recycleRows(d,c),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),o!=null&&this.restoreFocusedCell(o),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var c;const o=e.newData||e.newPage,a=this.gos.get("suppressScrollOnNewData");o&&!a&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(c=this.stickyRowFeature)==null||c.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let o=this.pageBoundsService.getCurrentPageHeight();o===0&&(o=1),this.rowContainerHeightService.setModelHeight(o+e)}getLockOnRefresh(){var e,o;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(o=(e=this.frameworkOverrides).getLockOnRefresh)==null||o.call(e)}releaseLockOnRefresh(){var e,o;this.refreshInProgress=!1,(o=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||o.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(o=>{o.stopEditing(e)})}getAllCellCtrls(){const e=[],o=this.getAllRowCtrls(),a=o.length;for(let c=0;c<a;c++){const d=o[c].getAllCellCtrls(),g=d.length;for(let b=0;b<g;b++)e.push(d[b])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],o=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],a=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...o];for(const c in this.rowCtrlsByRowIndex)a.push(this.rowCtrlsByRowIndex[c]);return a}addRenderedRowListener(e,o,a){const c=this.rowCtrlsByRowIndex[o];c&&c.addEventListener(e,a)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(o=>o.flashCell(e))}refreshCells(e={}){const o={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const a of this.getCellCtrls(e.rowNodes,e.columns))a.refreshOrDestroyCell(o);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let o=null;this.stickyRowFeature&&_browserSupportsPreventScroll()&&(o=this.getCellToRestoreFocusToAfterRefresh()||null);for(const a of this.getRowCtrls(e)){if(!a.isFullWidth())continue;a.refreshFullWidth()||this.redrawRow(a.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),o&&this.restoreFocusedCell(o)}getCellRendererInstances(e){var d;const o=this.getCellCtrls(e.rowNodes,e.columns).map(g=>g.getCellRenderer()).filter(g=>g!=null);if((d=e.columns)!=null&&d.length)return o;const a=[],c=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(g=>{if(c&&!this.isRowInMap(g.getRowNode(),c)||!g.isFullWidth())return;const b=g.getFullWidthCellRenderers();for(let _=0;_<b.length;_++){const $=b[_];$!=null&&a.push($)}}),[...a,...o]}getCellEditorInstances(e){const o=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(a=>{const c=a.getCellEditor();c&&o.push(c)}),o}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(o=>{if(o.isEditing()){const a=o.getCellPosition();e.push(a)}}),e}mapRowNodes(e){if(!e)return;const o={top:{},bottom:{},normal:{}};return e.forEach(a=>{const c=a.id;switch(a.rowPinned){case"top":o.top[c]=a;break;case"bottom":o.bottom[c]=a;break;default:o.normal[c]=a;break}}),o}isRowInMap(e,o){const a=e.id;switch(e.rowPinned){case"top":return o.top[a]!=null;case"bottom":return o.bottom[a]!=null;default:return o.normal[a]!=null}}getRowCtrls(e){const o=this.mapRowNodes(e),a=this.getAllRowCtrls();return!e||!o?a:a.filter(c=>{const d=c.getRowNode();return this.isRowInMap(d,o)})}getCellCtrls(e,o){let a;_exists(o)&&(a={},o.forEach(d=>{const g=this.columnModel.getCol(d);_exists(g)&&(a[g.getId()]=!0)}));const c=[];return this.getRowCtrls(e).forEach(d=>{d.getAllCellCtrls().forEach(g=>{const b=g.getColumn().getId();a&&!a[b]||c.push(g)})}),c}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const o=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(o,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];_iterateObject(this.rowCtrlsByRowIndex,(a,c)=>{c.getRowNode().id==null&&e.push(a)}),this.removeRowCtrls(e);const o={};return _iterateObject(this.rowCtrlsByRowIndex,(a,c)=>{const d=c.getRowNode();o[d.id]=c}),this.rowCtrlsByRowIndex={},o}removeRowCtrls(e,o=!1){e.forEach(a=>{const c=this.rowCtrlsByRowIndex[a];c&&(c.destroyFirstPass(o),c.destroySecondPass()),delete this.rowCtrlsByRowIndex[a]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:o}=e;let a;this.stickyRowFeature&&_browserSupportsPreventScroll()&&(a=this.getCellToRestoreFocusToAfterRefresh()||void 0);const c=this.firstRenderedRow,d=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let g=!1;if(this.stickyRowFeature){g=this.stickyRowFeature.checkStickyRows();const _=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();_&&this.updateContainerHeights(_)}const b=this.firstRenderedRow!==c||this.lastRenderedRow!==d;if(!(o&&!g&&!b)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,o),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(o&&!g),a!=null)){const _=this.getCellToRestoreFocusToAfterRefresh();a!=null&&_==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(a))}}removeRowCompsNotToDraw(e,o){const a={};e.forEach(g=>a[g]=!0);const d=Object.keys(this.rowCtrlsByRowIndex).filter(g=>!a[g]);this.removeRowCtrls(d,o)}calculateIndexesToDraw(e){const o=_createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow),a=(d,g)=>{const b=g.getRowNode().rowIndex;b!=null&&(b<this.firstRenderedRow||b>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(g)&&o.push(b)};_iterateObject(this.rowCtrlsByRowIndex,a),_iterateObject(e,a),o.sort((d,g)=>d-g);const c=[];for(let d=0;d<o.length;d++){const g=o[d],b=this.rowModel.getRow(g);b&&!b.sticky&&c.push(g)}return c}recycleRows(e,o=!1,a=!1){const c=this.calculateIndexesToDraw(e);(this.printLayout||a)&&(o=!1),this.removeRowCompsNotToDraw(c,!o),c.forEach(d=>{this.createOrUpdateRowCtrl(d,e,o,a)}),e&&(a&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,o),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,o)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),o=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||o!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=o,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(o=>{const a=o.getRowNode().rowIndex;e.push(a.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const o=this.mapRowNodes(e);return this.getAllRowCtrls().filter(a=>{if(!a.isFullWidth())return!1;const c=a.getRowNode();return!(o!=null&&!this.isRowInMap(c,o))})}createOrUpdateRowCtrl(e,o,a,c){let d,g=this.rowCtrlsByRowIndex[e];if(g||(d=this.rowModel.getRow(e),_exists(d)&&_exists(o)&&o[d.id]&&d.alreadyRendered&&(g=o[d.id],o[d.id]=null)),!g)if(d||(d=this.rowModel.getRow(e)),_exists(d))g=this.createRowCon(d,a,c);else return;return d&&(d.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=g,g}destroyRowCtrls(e,o){const a=[];_iterateObject(e,(c,d)=>{if(d){if(this.cachedRowCtrls&&d.isCacheable()){this.cachedRowCtrls.addRow(d);return}if(d.destroyFirstPass(!o),o){const g=d.instanceId;this.zombieRowCtrls[g]=d,a.push(()=>{d.destroySecondPass(),delete this.zombieRowCtrls[g]})}else d.destroySecondPass()}}),o&&(a.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),_executeInAWhile(a))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),o=_getRowHeightAsNumber(this.gos);return e*o}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,o;if(!this.rowModel.isRowsToRender())e=0,o=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),o=this.pageBoundsService.getLastRow();else{const _=this.getRowBufferInPixels(),$=this.ctrlsService.getGridBodyCtrl(),j=this.gos.get("suppressRowVirtualisation");let rt=!1,nt,In;do{const Yl=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:Ul,pageLastPixel:Dl}=this.pageBoundsService.getCurrentPagePixelRange(),Zl=this.rowContainerHeightService.getDivStretchOffset(),Ju=$.getScrollFeature().getVScrollPosition(),Uu=Ju.top,fp=Ju.bottom;j?(nt=Ul+Zl,In=Dl+Zl):(nt=Math.max(Uu+Yl-_,Ul)+Zl,In=Math.min(fp+Yl+_,Dl)+Zl),this.firstVisibleVPixel=Math.max(Uu+Yl,Ul)+Zl,this.lastVisibleVPixel=Math.min(fp+Yl,Dl)+Zl,rt=this.ensureAllRowsInRangeHaveHeightsCalculated(nt,In)}while(rt);let xl=this.rowModel.getRowIndexAtPixel(nt),Ll=this.rowModel.getRowIndexAtPixel(In);const Nl=this.pageBoundsService.getFirstRow(),_u=this.pageBoundsService.getLastRow();xl<Nl&&(xl=Nl),Ll>_u&&(Ll=_u),e=xl,o=Ll}const a=_isDomLayout(this.gos,"normal"),c=this.gos.get("suppressMaxRenderedRowRestriction"),d=Math.max(this.getRowBuffer(),500);a&&!c&&o-e>d&&(o=e+d);const g=e!==this.firstRenderedRow,b=o!==this.lastRenderedRow;(g||b)&&(this.firstRenderedRow=e,this.lastRenderedRow=o,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:o}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,o){var g,b;const a=(g=this.pinnedRowModel)==null?void 0:g.ensureRowHeightsValid(),c=(b=this.stickyRowFeature)==null?void 0:b.ensureRowHeightsValid(),d=this.rowModel.ensureRowHeightsValid(e,o,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(d||c)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),c||d||a?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const c=e.getRowNode(),d=this.focusService.isRowNodeFocused(c),g=e.isEditing(),b=c.detail;return d||g||b?!!this.isRowPresent(c):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,o,a){const c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(c)return c;const d=this.gos.get("suppressAnimationFrame"),g=a&&!d&&!this.printLayout;return new RowCtrl(e,this.beans,o,g,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(o=>o.getRowNode())}getRowByPosition(e){let o;const{rowIndex:a}=e;switch(e.rowPinned){case"top":o=this.topRowCtrls[a];break;case"bottom":o=this.bottomRowCtrls[a];break;default:o=this.rowCtrlsByRowIndex[a],o||(o=this.getStickyTopRowCtrls().find(c=>c.getRowNode().rowIndex===a)||null,o||(o=this.getStickyBottomRowCtrls().find(c=>c.getRowNode().rowIndex===a)||null));break}return o}isRangeInRenderedViewport(e,o){if(e==null||o==null)return!1;const c=e>this.lastRenderedRow;return!(o<this.firstRenderedRow)&&!c}},RowCtrlCache=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const o=this.entriesList[0];o.destroyFirstPass(),o.destroySecondPass(),this.removeFromCache(o)}}getRow(e){if(e==null||e.id==null)return null;const o=this.entriesMap[e.id];return o?(this.removeFromCache(o),o.setCached(!1),o.getRowNode()!=e?null:o):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const o=e.id,a=this.entriesMap[o];delete this.entriesMap[o],_removeFromArray(this.entriesList,a)}removeFromCache(e){const o=e.getRowNode().id;delete this.entriesMap[o],_removeFromArray(this.entriesList,e)}getEntries(){return this.entriesList}},PinnedRowModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new OrderedCache,this.pinnedBottomRows=new OrderedCache}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const o=a=>{a.setRowHeight(a.rowHeight,!0)};this.pinnedBottomRows.forEach(o),this.pinnedTopRows.forEach(o)}}ensureRowHeightsValid(){var c,d;let e=!1,o=0;const a=g=>{if(g.rowHeightEstimated){const b=_getRowHeightForNode(this.gos,g);g.setRowTop(o),g.setRowHeight(b.height),o+=b.height,e=!0}};return(c=this.pinnedBottomRows)==null||c.forEach(a),o=0,(d=this.pinnedTopRows)==null||d.forEach(a),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,o){this.updateNodesFromRowData(e,o),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,o){const a=o==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){a.clear();return}const c=_getRowIdCallback(this.gos),d=o==="top"?RowNode.ID_PREFIX_TOP_PINNED:RowNode.ID_PREFIX_BOTTOM_PINNED,g=a.getIds(),b=[],_=new Set;let $=0,j=-1;for(const rt of e){const nt=(c==null?void 0:c({data:rt,level:0,rowPinned:o}))??d+this.nextId++;if(_.has(nt)){_warnOnce("Duplicate ID",nt,"found for pinned row with data",rt,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}j++,_.add(nt),b.push(nt);const In=a.getById(nt);if(In!==void 0)In.data!==rt&&In.setData(rt),$+=this.setRowTopAndRowIndex(In,$,j),g.delete(nt);else{const xl=new RowNode(this.beans);xl.id=nt,xl.data=rt,xl.rowPinned=o,$+=this.setRowTopAndRowIndex(xl,$,j),a.push(xl)}}g.forEach(rt=>{var nt;(nt=a.getById(rt))==null||nt.clearRowTopAndRowIndex()}),a.removeAllById(g),a.setOrder(b)}setRowTopAndRowIndex(e,o,a){return e.setRowTop(o),e.setRowHeight(_getRowHeightForNode(this.gos,e).height),e.setRowIndex(a),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,o){return o==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,o){return e==="top"?this.pinnedTopRows.forEach(o):this.pinnedBottomRows.forEach(o)}getTotalHeight(e){const o=e.getSize();if(o===0)return 0;const a=e.getByIndex(o-1);return a===void 0?0:a.rowTop+a.rowHeight}},OrderedCache=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const o=this.ordering[e];return this.cache[o]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const o of e)delete this.cache[o];this.ordering=this.ordering.filter(o=>!e.has(o))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((o,a)=>{const c=this.cache[o];c&&e(c,a)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},ServerSideTransactionResultStatus=(e=>(e.Applied="Applied",e.StoreNotFound="StoreNotFound",e.StoreLoading="StoreLoading",e.StoreWaitingToLoad="StoreWaitingToLoad",e.StoreLoadingFailed="StoreLoadingFailed",e.StoreWrongType="StoreWrongType",e.Cancelled="Cancelled",e.StoreNotStarted="StoreNotStarted",e))(ServerSideTransactionResultStatus||{}),RowNodeBlock=class extends BeanStub{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,o){this.successCommon(e,o)}pageLoaded(e,o,a){this.successCommon(e,{rowData:o,rowCount:a})}isRequestMostRecentAndLive(e){const o=e===this.version,a=this.isAlive();return o&&a}successCommon(e,o){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(o))}dispatchLoadCompleted(e=!0){const o={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(o)}},RowNodeBlockLoader=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=_debounce(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){_removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&_log("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),o=this.blocks.filter(a=>a.getState()==="needsLoading").slice(0,e);this.registerLoads(o.length),o.forEach(a=>a.load()),this.printCacheStatus()}getBlockState(){if(_isServerSideRowModel(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(o=>{const{id:a,state:c}=o.getBlockStateJson();e[a]=c}),e}printCacheStatus(){this.gos.get("debug")&&_log(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},RowNodeBlockModule={version:VERSION,moduleName:"@ag-grid-community/row-node-block",beans:[RowNodeBlockLoader]},RowRangeSelectionContext=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),o=this.getEnd();if(e==null||o==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,o)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(o=>o.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const o=this.getRange();if(o.length===0)return{keep:[],discard:[]};const a=o[0].id===this.root.id,c=o.findIndex(d=>d.id===e.id);if(c>-1){const d=o.slice(0,c),g=o.slice(c+1);return this.setEndRange(e),a?{keep:d,discard:g}:{keep:g,discard:d}}else return{keep:o,discard:[]}}extend(e,o=!1){const a=this.getRoot();if(a==null){const d=this.getRange().slice();return o&&e.depthFirstSearch(g=>!g.group&&d.push(g)),d.push(e),this.setRoot(e),{keep:d,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(a,e).find(d=>{var g;return d.id===((g=this.end)==null?void 0:g.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const d=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:d}}}},StylingService=class extends BeanStub{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,o,a,c){this.processClassRules(void 0,e.cellClassRules,o,a,c),this.processStaticCellClasses(e,o,a)}processClassRules(e,o,a,c,d){if(o==null&&e==null)return;const g={},b={},_=($,j)=>{$.split(" ").forEach(rt=>{rt.trim()!=""&&j(rt)})};if(o){const $=Object.keys(o);for(let j=0;j<$.length;j++){const rt=$[j],nt=o[rt];let In;typeof nt=="string"?In=this.expressionService.evaluate(nt,a):typeof nt=="function"&&(In=nt(a)),_(rt,xl=>{In?g[xl]=!0:b[xl]=!0})}}e&&d&&Object.keys(e).forEach($=>_($,j=>{g[j]||(b[j]=!0)})),d&&Object.keys(b).forEach(d),Object.keys(g).forEach(c)}getStaticCellClasses(e,o){const{cellClass:a}=e;if(!a)return[];let c;return typeof a=="function"?c=a(o):c=a,typeof c=="string"&&(c=[c]),c||[]}processStaticCellClasses(e,o,a){this.getStaticCellClasses(e,o).forEach(d=>{a(d)})}},AgToggleButton=class extends AgCheckbox{constructor(e){super(e,"ag-toggle-button")}setValue(e,o){return super.setValue(e,o),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},AgToggleButtonSelector={selector:"AG-TOGGLE-BUTTON",component:AgToggleButton},TabGuardClassNames=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(TabGuardClassNames||{}),TabGuardCtrl=class extends BeanStub{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:o,eTopGuard:a,eBottomGuard:c,focusTrapActive:d,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:b,focusInnerElement:_,onFocusIn:$,onFocusOut:j,shouldStopEventPropagation:rt,onTabKeyDown:nt,handleKeyDown:In,eFocusableElement:xl}=e;this.comp=o,this.eTopGuard=a,this.eBottomGuard=c,this.providedFocusInnerElement=_,this.eFocusableElement=xl,this.focusTrapActive=!!d,this.forceFocusOutWhenTabGuardsAreEmpty=!!g,this.isFocusableContainer=!!b,this.providedFocusIn=$,this.providedFocusOut=j,this.providedShouldStopEventPropagation=rt,this.providedOnTabKeyDown=nt,this.providedHandleKeyDown=In}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const o=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(o):this.focusInnerElement(o)}findNextElementOutsideAndFocus(e){var $;const o=_getDocument(this.gos),a=this.focusService.findFocusableElements(o.body,null,!0),c=a.indexOf(e?this.eTopGuard:this.eBottomGuard);if(c===-1)return;let d,g;e?(d=0,g=c):(d=c+1,g=a.length);const b=a.slice(d,g),_=this.gos.get("tabIndex");b.sort((j,rt)=>{const nt=parseInt(j.getAttribute("tabindex")||"0"),In=parseInt(rt.getAttribute("tabindex")||"0");return In===_?1:nt===_?-1:nt===0?1:In===0?-1:nt-In}),($=b[e?b.length-1:0])==null||$.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const o=this.tabGuardsAreActive();o&&this.deactivateTabGuards();const a=this.getNextFocusableElement(e.shiftKey);o&&setTimeout(()=>this.activateTabGuards(),0),a&&(a.focus(),e.preventDefault())}focusInnerElement(e=!1){const o=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(o.splice(0,1),o.splice(o.length-1,1)),o.length&&o[e?o.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const o=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,o.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,o){return e===this.eTopGuard&&!o||e===this.eBottomGuard&&(o??!0)}setAllowFocus(e){this.allowFocus=e}},TabGuardFeature=class extends BeanStub{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:o,eBottomGuard:a,eFocusableElement:c}=this,d=[o,a],g={setTabIndex:Nl=>{d.forEach(_u=>Nl!=null?_u.setAttribute("tabindex",Nl):_u.removeAttribute("tabindex"))}};this.addTabGuards(o,a);const{focusTrapActive:b=!1,onFocusIn:_,onFocusOut:$,focusInnerElement:j,handleKeyDown:rt,onTabKeyDown:nt,shouldStopEventPropagation:In,forceFocusOutWhenTabGuardsAreEmpty:xl,isFocusableContainer:Ll}=e;this.tabGuardCtrl=this.createManagedBean(new TabGuardCtrl({comp:g,focusTrapActive:b,eTopGuard:o,eBottomGuard:a,eFocusableElement:c,onFocusIn:_,onFocusOut:$,focusInnerElement:j,handleKeyDown:rt,onTabKeyDown:nt,shouldStopEventPropagation:In,forceFocusOutWhenTabGuardsAreEmpty:xl,isFocusableContainer:Ll}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const o=_getDocument(this.gos).createElement("div"),a=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return o.classList.add("ag-tab-guard",a),_setAriaRole(o,"presentation"),o}addTabGuards(e,o){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",o)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];_clearElement(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,o,a){_isNodeOrElement(o)||(o=o.getGui());const{eBottomGuard:c}=this;c?c.insertAdjacentElement("beforebegin",o):e(o,a)}},TabGuardComp$1=class extends Component{initialiseTabGuard(o){this.tabGuardFeature=this.createManagedBean(new TabGuardFeature(this)),this.tabGuardFeature.initialiseTabGuard(o)}forceFocusOutOfContainer(o=!1){this.tabGuardFeature.forceFocusOutOfContainer(o)}appendChild(o,a){this.tabGuardFeature.appendChild(super.appendChild.bind(this),o,a)}},instanceIdSeq=0,WAIT_FOR_POPUP_CONTENT_RESIZE=200,PopupService=class extends BeanStub{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:o,ePopup:a}=e,c=this.getPopupIndex(a);if(c!==-1){const xl=this.popupList[c];xl.alignedToElement=o}const d=o.getBoundingClientRect(),g=this.getParentRect(),b=this.keepXYWithinBounds(a,d.top-g.top,0),_=a.clientWidth>0?a.clientWidth:200;a.style.minWidth=`${_}px`;const j=g.right-g.left-_;let rt;this.gos.get("enableRtl")?(rt=In(),rt<0&&(rt=nt(),this.setAlignedStyles(a,"left")),rt>j&&(rt=0,this.setAlignedStyles(a,"right"))):(rt=nt(),rt>j&&(rt=In(),this.setAlignedStyles(a,"right")),rt<0&&(rt=0,this.setAlignedStyles(a,"left"))),a.style.left=`${rt}px`,a.style.top=`${b}px`;function nt(){return d.right-g.left-2}function In(){return d.left-g.left-_}}positionPopupUnderMouseEvent(e){const{ePopup:o,nudgeX:a,nudgeY:c,skipObserver:d}=e;this.positionPopup({ePopup:o,nudgeX:a,nudgeY:c,keepWithinBounds:!0,skipObserver:d,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const o=this.getParentRect();return{x:e.clientX-o.left,y:e.clientY-o.top}}positionPopupByComponent(e){const{ePopup:o,nudgeX:a,nudgeY:c,keepWithinBounds:d,eventSource:g,alignSide:b="left",position:_="over",column:$,rowNode:j,type:rt}=e,nt=g.getBoundingClientRect(),In=this.getParentRect(),xl=this.getPopupIndex(o);if(xl!==-1){const Nl=this.popupList[xl];Nl.alignedToElement=g}const Ll=()=>{let Nl=nt.left-In.left;b==="right"&&(Nl-=o.offsetWidth-nt.width);let _u;return _==="over"?(_u=nt.top-In.top,this.setAlignedStyles(o,"over")):(this.setAlignedStyles(o,"under"),this.shouldRenderUnderOrAbove(o,nt,In,e.nudgeY||0)==="under"?_u=nt.top-In.top+nt.height:_u=nt.top-o.offsetHeight-(c||0)*2-In.top),{x:Nl,y:_u}};this.positionPopup({ePopup:o,nudgeX:a,nudgeY:c,keepWithinBounds:d,updatePosition:Ll,postProcessCallback:()=>this.callPostProcessPopup(rt,o,g,null,$,j)})}shouldRenderUnderOrAbove(e,o,a,c){const d=a.bottom-o.bottom,g=o.top-a.top,b=e.offsetHeight+c;return d>b?"under":g>b||g>d?"above":"under"}setAlignedStyles(e,o){const a=this.getPopupIndex(e);if(a===-1)return;const c=this.popupList[a],{alignedToElement:d}=c;!d||(["right","left","over","above","under"].forEach(b=>{d.classList.remove(`ag-has-popup-positioned-${b}`),e.classList.remove(`ag-popup-positioned-${b}`)}),!o)||(d.classList.add(`ag-has-popup-positioned-${o}`),e.classList.add(`ag-popup-positioned-${o}`))}callPostProcessPopup(e,o,a,c,d,g){const b=this.gos.getCallback("postProcessPopup");b&&b({column:d,rowNode:g,ePopup:o,type:e,eventSource:a,mouseEvent:c})}positionPopup(e){const{ePopup:o,keepWithinBounds:a,nudgeX:c,nudgeY:d,skipObserver:g,updatePosition:b}=e,_={width:0,height:0},$=(j=!1)=>{let{x:rt,y:nt}=b();j&&o.clientWidth===_.width&&o.clientHeight===_.height||(_.width=o.clientWidth,_.height=o.clientHeight,c&&(rt+=c),d&&(nt+=d),a&&(rt=this.keepXYWithinBounds(o,rt,1),nt=this.keepXYWithinBounds(o,nt,0)),o.style.left=`${rt}px`,o.style.top=`${nt}px`,e.postProcessCallback&&e.postProcessCallback())};if($(),!g){const j=this.resizeObserverService.observeResize(o,()=>$(!0));setTimeout(()=>j(),WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=_getDocument(this.gos);let o=this.getPopupParent();return o===e.body?o=e.documentElement:getComputedStyle(o).position==="static"&&(o=o.offsetParent),_getElementRectWithOffset(o)}keepXYWithinBounds(e,o,a){const c=a===0,d=c?"clientHeight":"clientWidth",g=c?"top":"left",b=c?"height":"width",_=c?"scrollTop":"scrollLeft",$=_getDocument(this.gos),j=$.documentElement,rt=this.getPopupParent(),nt=e.getBoundingClientRect(),In=rt.getBoundingClientRect(),xl=$.documentElement.getBoundingClientRect(),Ll=rt===$.body,Nl=Math.ceil(nt[b]);let Yl=Ll?(c?_getAbsoluteHeight:_getAbsoluteWidth)(j)+j[_]:rt[d];Ll&&(Yl-=Math.abs(xl[g]-In[g]));const Ul=Yl-Nl;return Math.min(Math.max(o,0),Math.abs(Ul))}addPopup(e){const o=_getDocument(this.gos),{eChild:a,ariaLabel:c,alwaysOnTop:d,positionCallback:g,anchorToElement:b}=e;if(!o)return _warnOnce("could not find the document, document is empty"),{hideFunc:()=>{}};const _=this.getPopupIndex(a);if(_!==-1)return{hideFunc:this.popupList[_].hideFunc};this.initialisePopupPosition(a);const $=this.createPopupWrapper(a,c,!!d),j=this.addEventListenersToPopup({...e,wrapperEl:$});return g&&g(),this.addPopupToPopupList(a,$,j,b),{hideFunc:j}}initialisePopupPosition(e){const a=this.getPopupParent().getBoundingClientRect();_exists(e.style.top)||(e.style.top=`${a.top*-1}px`),_exists(e.style.left)||(e.style.left=`${a.left*-1}px`)}createPopupWrapper(e,o,a){const c=this.getPopupParent(),d=document.createElement("div");return this.environment.applyThemeClasses(d),d.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||_setAriaRole(e,"dialog"),_setAriaLabel(e,o),d.appendChild(e),c.appendChild(d),a?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),d}handleThemeChange(e){if(e.themeChanged)for(const o of this.popupList)this.environment.applyThemeClasses(o.wrapper)}addEventListenersToPopup(e){const o=_getDocument(this.gos),a=this.getPopupParent(),{wrapperEl:c,eChild:d,closedCallback:g,afterGuiAttached:b,closeOnEsc:_,modal:$}=e;let j=!1;const rt=Ll=>{if(!c.contains(_getActiveDomElement(this.gos)))return;Ll.key===KeyCode.ESCAPE&&!_isStopPropagationForAgGrid(Ll)&&xl({keyboardEvent:Ll})},nt=Ll=>xl({mouseEvent:Ll}),In=Ll=>xl({touchEvent:Ll}),xl=(Ll={})=>{const{mouseEvent:Nl,touchEvent:_u,keyboardEvent:Yl,forceHide:Ul}=Ll;!Ul&&(this.isEventFromCurrentPopup({mouseEvent:Nl,touchEvent:_u},d)||j)||(j=!0,a.removeChild(c),o.removeEventListener("keydown",rt),o.removeEventListener("mousedown",nt),o.removeEventListener("touchstart",In),o.removeEventListener("contextmenu",nt),this.eventService.removeEventListener("dragStarted",nt),g&&g(Nl||_u||Yl),this.removePopupFromPopupList(d))};return b&&b({hidePopup:xl}),window.setTimeout(()=>{_&&o.addEventListener("keydown",rt),$&&(o.addEventListener("mousedown",nt),this.eventService.addEventListener("dragStarted",nt),o.addEventListener("touchstart",In),o.addEventListener("contextmenu",nt))},0),xl}addPopupToPopupList(e,o,a,c){this.popupList.push({element:e,wrapper:o,hideFunc:a,instanceId:instanceIdSeq++,isAnchored:!!c}),c&&this.setPopupPositionRelatedToElement(e,c)}getPopupIndex(e){return this.popupList.findIndex(o=>o.element===e)}setPopupPositionRelatedToElement(e,o){const a=this.getPopupIndex(e);if(a===-1)return;const c=this.popupList[a];if(c.stopAnchoringPromise&&c.stopAnchoringPromise.then(g=>g&&g()),c.stopAnchoringPromise=void 0,c.isAnchored=!1,!o)return;const d=this.keepPopupPositionedRelativeTo({element:o,ePopup:e,hidePopup:c.hideFunc});return c.stopAnchoringPromise=d,c.isAnchored=!0,d}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(o=>o.element!==e)}keepPopupPositionedRelativeTo(e){const o=this.getPopupParent(),a=o.getBoundingClientRect(),{element:c,ePopup:d}=e,g=c.getBoundingClientRect(),b=nt=>parseInt(nt.substring(0,nt.length-1),10),_=(nt,In)=>{const xl=a[nt]-g[nt],Ll=b(d.style[nt]);return{initialDiff:xl,lastDiff:xl,initial:Ll,last:Ll,direction:In}},$=_("top",0),j=_("left",1),rt=this.getFrameworkOverrides();return new AgPromise(nt=>{rt.wrapIncoming(()=>{rt.setInterval(()=>{const In=o.getBoundingClientRect(),xl=c.getBoundingClientRect();if(xl.top==0&&xl.left==0&&xl.height==0&&xl.width==0){e.hidePopup();return}const Nl=(_u,Yl)=>{const Ul=b(d.style[Yl]);_u.last!==Ul&&(_u.initial=Ul,_u.last=Ul);const Dl=In[Yl]-xl[Yl];if(Dl!=_u.lastDiff){const Zl=this.keepXYWithinBounds(d,_u.initial+_u.initialDiff-Dl,_u.direction);d.style[Yl]=`${Zl}px`,_u.last=Zl}_u.lastDiff=Dl};Nl($,"top"),Nl(j,"left")},200).then(In=>{nt(()=>{In!=null&&window.clearInterval(In)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,o){const{mouseEvent:a,touchEvent:c}=e,d=a||c;if(!d)return!1;const g=this.getPopupIndex(o);if(g===-1)return!1;for(let b=g;b<this.popupList.length;b++){const _=this.popupList[b];if(_isElementInEventPath(_.element,d))return!0}return this.isElementWithinCustomPopup(d.target)}isElementWithinCustomPopup(e){const o=_getDocument(this.gos);for(;e&&e!==o.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,o){const a=this.getWrapper(e);a&&(a.classList.toggle("ag-always-on-top",!!o),o&&this.bringPopupToFront(a))}bringPopupToFront(e){const o=this.getPopupParent(),a=Array.prototype.slice.call(o.querySelectorAll(".ag-popup")),c=a.length,d=this.getWrapper(e);if(!d||c<=1||!o.contains(e))return;const g=[],b=[];for(const In of a)In!==d&&(In.classList.contains("ag-always-on-top")?b.push(In):g.push(In));const _=[],$=b.length,nt=d.classList.contains("ag-always-on-top")||!$?[...g,...b,d]:[...g,d,...b];for(let In=0;In<=c;In++){const xl=nt[In];if(a[In]===nt[In]||xl===d)continue;xl.querySelectorAll("div").forEach(Nl=>{Nl.scrollTop!==0&&_.push([Nl,Nl.scrollTop])}),In===0?o.insertAdjacentElement("afterbegin",xl):nt[In-1].insertAdjacentElement("afterend",xl)}for(;_.length;){const In=_.pop();In[0].scrollTop=In[1]}}},PASSIVE_EVENTS2=["touchstart","touchend","touchmove","touchcancel"],VanillaFrameworkOverrides=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=o=>o(),this.wrapOutgoing=o=>o()}setInterval(e,o){return new AgPromise(a=>{a(window.setInterval(e,o))})}addEventListener(e,o,a,c){const d=_includes(PASSIVE_EVENTS2,o);e.addEventListener(o,a,{capture:!!c,passive:d})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},CellNavigationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,o,a=!1){return a?this.getNextCellToFocusWithCtrlPressed(e,o):this.getNextCellToFocusWithoutCtrlPressed(e,o)}getNextCellToFocusWithCtrlPressed(e,o){const a=e===KeyCode.UP,c=e===KeyCode.DOWN,d=e===KeyCode.LEFT;let g,b;if(a||c)b=a?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),g=o.column;else{const _=this.visibleColsService.getAllCols(),$=this.gos.get("enableRtl");b=o.rowIndex,g=d!==$?_[0]:_last(_)}return{rowIndex:b,rowPinned:null,column:g}}getNextCellToFocusWithoutCtrlPressed(e,o){let a=o,c=!1;for(;!c;){switch(e){case KeyCode.UP:a=this.getCellAbove(a);break;case KeyCode.DOWN:a=this.getCellBelow(a);break;case KeyCode.RIGHT:this.gos.get("enableRtl")?a=this.getCellToLeft(a):a=this.getCellToRight(a);break;case KeyCode.LEFT:this.gos.get("enableRtl")?a=this.getCellToRight(a):a=this.getCellToLeft(a);break;default:a=null,_warnOnce("unknown key for navigation ",e);break}a?c=this.isCellGoodToFocusOn(a):c=!0}return a}isCellGoodToFocusOn(e){const o=e.column;let a;switch(e.rowPinned){case"top":a=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":a=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:a=this.rowModel.getRow(e.rowIndex);break}return a?!o.isSuppressNavigable(a):!1}getCellToLeft(e){if(!e)return null;const o=this.visibleColsService.getColBefore(e.column);return o?{rowIndex:e.rowIndex,column:o,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const o=this.visibleColsService.getColAfter(e.column);return o?{rowIndex:e.rowIndex,column:o,rowPinned:e.rowPinned}:null}getRowBelow(e){const o=e.rowIndex,a=e.rowPinned;let c=!1;if(this.isLastRowInContainer(e))switch(a){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else a&&(c=!0);const d=this.rowModel.getRow(e.rowIndex),g=c?void 0:this.getNextStickyPosition(d);return g||{rowIndex:o+1,rowPinned:a}}getNextStickyPosition(e,o){if(!_isGroupRowsSticky(this.gos)||!e||!e.sticky)return;const a=this.rowRenderer.getStickyTopRowCtrls().some(_=>_.getRowNode().rowIndex===e.rowIndex);let c=[];a?c=[...this.rowRenderer.getStickyTopRowCtrls()].sort((_,$)=>_.getRowNode().rowIndex-$.getRowNode().rowIndex):c=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((_,$)=>$.getRowNode().rowIndex-_.getRowNode().rowIndex);const d=o?-1:1,g=c.findIndex(_=>_.getRowNode().rowIndex===e.rowIndex),b=c[g+d];if(b)return{rowIndex:b.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const o=this.getRowBelow(e);return o?{rowIndex:o.rowIndex,column:e.column,rowPinned:o.rowPinned}:null}isLastRowInContainer(e){const o=e.rowPinned,a=e.rowIndex;return o==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=a:o==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=a:this.pageBoundsService.getLastRow()<=a}getRowAbove(e){const o=e.rowIndex,a=e.rowPinned,c=a?o===0:o===this.pageBoundsService.getFirstRow();let d=!1;if(c)return a==="top"?null:a?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;a&&(d=!0);const g=this.rowModel.getRow(e.rowIndex),b=d?void 0:this.getNextStickyPosition(g,!0);return b||{rowIndex:o-1,rowPinned:a}}getCellAbove(e){if(!e)return null;const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return o?{rowIndex:o.rowIndex,column:e.column,rowPinned:o.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,o){return o?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var g;const o=this.visibleColsService.getAllCols();let a=e.rowIndex,c=e.rowPinned,d=this.visibleColsService.getColAfter(e.column);if(!d){d=o[0];const b=this.getRowBelow(e);if(_missing(b)||!b.rowPinned&&!(((g=this.paginationService)==null?void 0:g.isRowInPage(b))??!0))return null;a=b?b.rowIndex:null,c=b?b.rowPinned:null}return{rowIndex:a,column:d,rowPinned:c}}getNextTabbedCellBackwards(e){var g;const o=this.visibleColsService.getAllCols();let a=e.rowIndex,c=e.rowPinned,d=this.visibleColsService.getColBefore(e.column);if(!d){d=_last(o);const b=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(_missing(b)||!b.rowPinned&&!(((g=this.paginationService)==null?void 0:g.isRowInPage(b))??!0))return null;a=b?b.rowIndex:null,c=b?b.rowPinned:null}return{rowIndex:a,column:d,rowPinned:c}}},mod$1=(e,o)=>{for(const a in o)o[a]=e;return o},gridApiFunctionsMap={...mod$1("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...mod$1("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...mod$1("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...mod$1("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...mod$1("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...mod$1("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...mod$1("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...mod$1("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...mod$1("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...mod$1("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...mod$1("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...mod$1("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...mod$1("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...mod$1("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...mod$1("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},defaultFns={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},dispatchEvent=(e,o)=>e.eventService.dispatchEvent(o),GridApiClass=class{};Reflect.defineProperty(GridApiClass,"name",{value:"GridApi"});var ApiFunctionService=class extends BeanStub{constructor(){super(),this.beanName="apiFunctionService",this.api=new GridApiClass,this.fns={...defaultFns,dispatchEvent},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const o in gridApiFunctionsMap)e[o]=this.makeApi(o)[o]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,o){var d;const{fns:a,beans:c}=this;a!==defaultFns&&(a[e]=((d=c==null?void 0:c.validationService)==null?void 0:d.validateApiFunction(e,o))??o)}makeApi(e){return{[e]:(...o)=>{const{beans:a,fns:{[e]:c}}=this;return c?c(a,...o):this.apiNotFound(e)}}}apiNotFound(e){const{beans:o,gos:a,preDestroyLink:c}=this;if(!o)_warnOnce(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${c}`);else{const d=gridApiFunctionsMap[e];a.assertModuleRegistered(d,`api.${e}`)&&_warnOnce(`API function '${e}' not registered to module '${d}'`)}}destroy(){super.destroy(),this.fns=defaultFns,this.beans=null}};function createGridApi(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var ColumnDefFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,o,a){const c=[],d={};return e.forEach(g=>{const b=this.createDefFromColumn(g,o,a);let _=!0,$=b,j=g.getOriginalParent(),rt=null;for(;j;){let nt=null;if(j.isPadding()){j=j.getOriginalParent();continue}const In=d[j.getGroupId()];if(In){In.children.push($),_=!1;break}if(nt=this.createDefFromGroup(j),nt&&(nt.children=[$],d[nt.groupId]=nt,$=nt,j=j.getOriginalParent()),j!=null&&rt===j){_=!1;break}rt=j}_&&c.push($)}),c}createDefFromGroup(e){const o=_deepCloneDefinition(e.getColGroupDef(),["children"]);return o&&(o.groupId=e.getGroupId()),o}createDefFromColumn(e,o,a){const c=_deepCloneDefinition(e.getColDef());return c.colId=e.getColId(),c.width=e.getActualWidth(),c.rowGroup=e.isRowGroupActive(),c.rowGroupIndex=e.isRowGroupActive()?o.indexOf(e):null,c.pivot=e.isPivotActive(),c.pivotIndex=e.isPivotActive()?a.indexOf(e):null,c.aggFunc=e.isValueActive()?e.getAggFunc():null,c.hide=e.isVisible()?void 0:!0,c.pinned=e.isPinned()?e.getPinned():null,c.sort=e.getSort()?e.getSort():null,c.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,c}},ColumnEventDispatcher=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,o){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:o})}genericColumnEvent(e,o,a){this.eventService.dispatchEvent({type:e,columns:o,column:o.length===1?o[0]:null,source:a})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:o,source:a,toIndex:c,finished:d}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:o,column:o&&o.length===1?o[0]:null,toIndex:c,finished:d,source:a})}columnPinned(e,o){if(!e.length)return;const a=e.length===1?e[0]:null,c=this.getCommonValue(e,d=>d.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:c??null,columns:e,column:a,source:o})}columnVisible(e,o){if(!e.length)return;const a=e.length===1?e[0]:null,c=this.getCommonValue(e,d=>d.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:c,columns:e,column:a,source:o})}getCommonValue(e,o){if(!e||e.length==0)return;const a=o(e[0]);for(let c=1;c<e.length;c++)if(a!==o(e[c]))return;return a}columnChanged(e,o,a){this.eventService.dispatchEvent({type:e,columns:o,column:o&&o.length==1?o[0]:null,source:a})}columnResized(e,o,a,c=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:c,finished:o,source:a})}},ColumnGetStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(_missing(e)||!this.columnModel.isAlive())return[];const a=this.columnModel.getAllCols().map(c=>this.createStateItemFromColumn(c));return this.orderColumnStateList(a),a}createStateItemFromColumn(e){const o=this.funcColsService.getRowGroupColumns(),a=this.funcColsService.getPivotColumns(),c=e.isRowGroupActive()?o.indexOf(e):null,d=e.isPivotActive()?a.indexOf(e):null,g=e.isValueActive()?e.getAggFunc():null,b=e.getSort()!=null?e.getSort():null,_=e.getSortIndex()!=null?e.getSortIndex():null,$=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:b,sortIndex:_,aggFunc:g,rowGroup:e.isRowGroupActive(),rowGroupIndex:c,pivot:e.isPivotActive(),pivotIndex:d,flex:$}}orderColumnStateList(e){const o=this.columnModel.getCols(),a=new Map(o.map((c,d)=>[c.getColId(),d]));e.sort((c,d)=>{const g=a.has(c.colId)?a.get(c.colId):-1,b=a.has(d.colId)?a.get(d.colId):-1;return g-b})}},ColumnGroupStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],o=this.columnModel.getColTree();return depthFirstOriginalTreeSearch(null,o,a=>{isProvidedColumnGroup(a)&&e.push({groupId:a.getGroupId(),open:a.isExpanded()})}),e}resetColumnGroupState(e){const o=this.columnModel.getColDefColTree();if(!o)return;const a=[];depthFirstOriginalTreeSearch(null,o,c=>{if(isProvidedColumnGroup(c)){const d=c.getColGroupDef(),g={groupId:c.getGroupId(),open:d?d.openByDefault:void 0};a.push(g)}}),this.setColumnGroupState(a,e)}setColumnGroupState(e,o){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const c=[];e.forEach(d=>{const g=d.groupId,b=d.open,_=this.columnModel.getProvidedColGroup(g);_&&_.isExpanded()!==b&&(_.setExpanded(b),c.push(_))}),this.visibleColsService.refresh(o,!0),c.length&&this.eventDispatcher.groupOpened(c),this.columnAnimationService.finish()}},ColumnViewportService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,o,a=!1){const c=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&o===this.scrollPosition&&!c)){if(this.scrollWidth=e,this.scrollPosition=o,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const g=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=g-this.scrollPosition-this.scrollWidth,this.viewportRight=g-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(a)}}getHeadersToRender(e,o){let a;switch(e){case"left":a=this.rowsOfHeadersToRenderLeft[o];break;case"right":a=this.rowsOfHeadersToRenderRight[o];break;default:a=this.rowsOfHeadersToRenderCenter[o];break}return a||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const o=e.getLeft()||0,a=o+e.getActualWidth(),c=this.viewportLeft-200,d=this.viewportRight+200,g=o<c&&a<c,b=o>d&&a>d;return!g&&!b}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),o=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(o)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const o=d=>{const g=d.getLeft();return _exists(g)&&g>this.viewportLeft},a=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),c=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,c,a,o)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},o=this.visibleColsService.getLeftCols(),a=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(o).concat(a).forEach(g=>e[g.getId()]=!0);const d=(g,b,_)=>{let $=!1;for(let j=0;j<g.length;j++){const rt=g[j];let nt=!1;if(isColumn(rt))nt=e[rt.getId()]===!0;else{const xl=rt.getDisplayedChildren();xl&&(nt=d(xl,b,_+1))}nt&&($=!0,b[_]||(b[_]=[]),b[_].push(rt))}return $};d(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),d(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),d(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=c=>`${c.getId()}-${c.getPinned()||"normal"}`;this.extractViewportColumns();const o=this.getViewportColumns().map(e).join("#"),a=this.colsWithinViewportHash!==o;return a&&(this.colsWithinViewportHash=o,this.calculateHeaderRows()),a}},AgComponentUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,o){const a=this.componentMetadataProvider.retrieve(e);return a&&a.functionAdapter?a.functionAdapter(o):null}adaptCellRendererFunction(e){class o{refresh(){return!1}getGui(){return this.eGui}init(c){const d=e(c),g=typeof d;if(g==="string"||g==="number"||g==="boolean"){this.eGui=_loadTemplate("<span>"+d+"</span>");return}if(d==null){this.eGui=_loadTemplate("<span></span>");return}this.eGui=d}}return o}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},ComponentMetadataProvider=class extends BeanStub{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},orderedCoreBeans=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],beanNamePosition=Object.fromEntries(orderedCoreBeans.map((e,o)=>[e,o]));function gridBeanInitComparator(e,o){const a=(e.beanName?beanNamePosition[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,c=(o.beanName?beanNamePosition[o.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return a-c}function gridBeanDestroyComparator(e,o){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var CtrlsFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...o){const a=this.registry[e];if(a!=null)return new a(...o)}},CtrlsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var o,a;this.runReadyCallbacksAsync=((a=(o=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:a.call(o))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,o){this.ready?o(this.params):this.readyCallbacks.push(o),e.addDestroyFunc(()=>{const a=this.readyCallbacks.indexOf(o);a>=0&&this.readyCallbacks.splice(a,1)})}register(e,o){this.params[e]=o,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),o.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:o,rightHeader:a}=this.params;return[e,a,o]}getHeaderRowContainerCtrl(e){const o=this.params;switch(e){case"left":return o.leftHeader;case"right":return o.rightHeader;default:return o.centerHeader}}},CellPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:o,rowPinned:a,column:c}=e;return this.createIdFromValues({rowIndex:o,column:c,rowPinned:a})}createIdFromValues(e){const{rowIndex:o,rowPinned:a,column:c}=e;return`${o}.${a??"null"}.${c.getId()}`}equals(e,o){const a=e.column===o.column,c=e.rowPinned===o.rowPinned,d=e.rowIndex===o.rowIndex;return a&&c&&d}},RowNodeEventThrottle=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){_isClientSideRowModel(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,o){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const a=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(c=>this.eventService.dispatchEvent(c)),this.events=[]};o?a():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(a)),this.dispatchExpandedDebounced())}},RowPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,o;return this.pinnedRowModel.getPinnedTopRowCount()?o="top":this.rowModel.getRowCount()?(o=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(o="bottom"),o===void 0?null:{rowIndex:e,rowPinned:o}}getLastRow(){let e,o=null;const a=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return a?(o="bottom",e=a-1):this.rowModel.getRowCount()?(o=null,e=this.pageBoundsService.getLastRow()):c&&(o="top",e=c-1),e===void 0?null:{rowIndex:e,rowPinned:o}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,o){return!e&&!o?!0:e&&!o||!e&&o?!1:e.rowIndex===o.rowIndex&&e.rowPinned==o.rowPinned}before(e,o){switch(e.rowPinned){case"top":if(o.rowPinned!=="top")return!0;break;case"bottom":if(o.rowPinned!=="bottom")return!1;break;default:if(_exists(o.rowPinned))return o.rowPinned!=="top";break}return e.rowIndex<o.rowIndex}},ROW_HEIGHT={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},HEADER_HEIGHT={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},LIST_ITEM_HEIGHT={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Environment=class extends BeanStub{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(ROW_HEIGHT),this.getSizeEl(HEADER_HEIGHT),this.getSizeEl(LIST_ITEM_HEIGHT)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(ROW_HEIGHT)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(HEADER_HEIGHT)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(LIST_ITEM_HEIGHT)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const o=this.getThemeClasses();for(const a of Array.from(e.classList))a.startsWith("ag-theme-")&&!o.includes(a)&&e.classList.remove(a);e.classList.add(...o)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),o=this.gos.get("rowHeight");if(o==null||isNaN(o)||!isFinite(o))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const a=`${o}px`;return e!=a?(this.eGridDiv.style.setProperty("--ag-line-height",a),o):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const o=this.lastKnownValues.get(e);if(o!=null)return o;const a=this.measureSizeEl(e);return a==="detached"||a==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,a),a)}measureSizeEl(e){const o=this.getSizeEl(e);if(o.offsetParent==null)return"detached";const a=o.offsetWidth;return a===NO_VALUE_SENTINEL?"no-styles":(this.sizesMeasured=!0,a)}getSizeEl(e){let o=this.sizeEls.get(e);if(o)return o;let a=this.eMeasurementContainer;a||(a=this.eMeasurementContainer=document.createElement("div"),a.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(a),this.eGridDiv.appendChild(a)),o=document.createElement("div"),o.style.width=`var(${e.cssName}, ${NO_VALUE_SENTINEL}px)`,a.appendChild(o),this.sizeEls.set(e,o);let c=this.measureSizeEl(e);c==="no-styles"&&_warnOnce(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const d=this.resizeObserverService.observeResize(o,()=>{const g=this.measureSizeEl(e);g==="detached"||g==="no-styles"||(this.lastKnownValues.set(e,g),g!==c&&(c=g,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>d()),o}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const a=this.readAncestorThemeClasses();arraysEqual(a,this.ancestorThemeClasses)||(this.ancestorThemeClasses=a,this.fireGridStylesChangedEvent("themeChanged"))});let o=this.eGridDiv;for(;o;)e.observe(o||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),o=o.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const o=[];for(;e;){const a=Array.from(e.classList).filter(c=>c.startsWith("ag-theme-"));for(const c of a)o.includes(c)||o.unshift(c);e=e.parentElement}return Object.freeze(o)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:o,gridTheme:a}=this,c=e.get("theme")||null;c!==a&&(a==null||a.stopUse(),this.gridTheme=c,c==null||c.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),o&&this.applyThemeClasses(o),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},arraysEqual=(e,o)=>e.length===o.length&&e.findIndex((a,c)=>e[c]!==o[c])===-1,NO_VALUE_SENTINEL=15538,EventService=class extends BeanStub{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new LocalEventService}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=_useAsyncEvents(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,o,a){this.globalEventService.addEventListener(e,o,a)}removeEventListener(e,o,a){this.globalEventService.removeEventListener(e,o,a)}addGlobalListener(e,o=!1){this.globalEventService.addGlobalListener(e,o)}removeGlobalListener(e,o=!1){this.globalEventService.removeGlobalListener(e,o)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},_FocusService=class j2 extends BeanStub{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(o){this.eGridDiv=o.eGridDiv,this.columnModel=o.columnModel,this.visibleColsService=o.visibleColsService,this.headerNavigationService=o.headerNavigationService,this.headerPositionUtils=o.headerPositionUtils,this.rowRenderer=o.rowRenderer,this.rowPositionUtils=o.rowPositionUtils,this.cellPositionUtils=o.cellPositionUtils,this.navigationService=o.navigationService,this.ctrlsService=o.ctrlsService,this.filterManager=o.filterManager,this.rangeService=o.rangeService,this.advancedFilterService=o.advancedFilterService,this.overlayService=o.overlayService}static addKeyboardModeEvents(o){this.instanceCount>0||(o.addEventListener("keydown",j2.toggleKeyboardMode),o.addEventListener("mousedown",j2.toggleKeyboardMode))}static removeKeyboardModeEvents(o){this.instanceCount>0||(o.removeEventListener("keydown",j2.toggleKeyboardMode),o.removeEventListener("mousedown",j2.toggleKeyboardMode))}static toggleKeyboardMode(o){const a=j2.keyboardModeActive,c=o.type==="keydown";c&&(o.ctrlKey||o.metaKey||o.altKey)||a!==c&&(j2.keyboardModeActive=c)}postConstruct(){const o=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:o,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:o,columnRowGroupChanged:o}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,a=>{this.gridCtrl=a.gridCtrl})}registerKeyboardFocusEvents(){const o=_getDocument(this.gos);j2.addKeyboardModeEvents(o),j2.instanceCount++,this.addDestroyFunc(()=>{j2.instanceCount--,j2.removeKeyboardModeEvents(o)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const o=this.focusedCellPosition.column,a=this.columnModel.getCol(o.getId());o!==a&&this.clearFocusedCell()}isKeyboardMode(){return j2.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(_getActiveDomElement(this.gos),RowCtrl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(_getActiveDomElement(this.gos),AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(o,a){let c=o;for(;c;){if(_getDomData(this.gos,c,a))return!1;c=c.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(o){return this.isCellRestoreFocused(o)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(o,a){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(o),a())})}isCellRestoreFocused(o){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(o,this.restoredFocusedCellPosition)}setRestoreFocusedCell(o){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=o)}getFocusEventParams(o){const{rowIndex:a,rowPinned:c,column:d}=o,g={rowIndex:a,rowPinned:c,column:d,isFullWidthCell:!1},b=this.rowRenderer.getRowByPosition({rowIndex:a,rowPinned:c});return b&&(g.isFullWidthCell=b.isFullWidth()),g}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const o=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...o})}setFocusedCell(o){const{column:a,rowIndex:c,rowPinned:d,forceBrowserFocus:g=!1,preventScrollOnBrowserFocus:b=!1}=o,_=this.columnModel.getCol(a);if(!_){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:c,rowPinned:_makeNull(d),column:_},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:g,preventScrollOnBrowserFocus:b})}isCellFocused(o){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(o,this.focusedCellPosition)}isRowNodeFocused(o){return this.isRowFocused(o.rowIndex,o.rowPinned)}isHeaderWrapperFocused(o){if(this.focusedHeaderPosition==null)return!1;const a=o.getColumnGroupChild(),c=o.getRowIndex(),d=o.getPinned(),{column:g,headerRowIndex:b}=this.focusedHeaderPosition;return a===g&&c===b&&d==g.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(o,a){this.focusedHeaderPosition={headerRowIndex:o,column:a}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(o){var j;if(this.isHeaderFocusSuppressed())return!1;const{direction:a,fromTab:c,allowUserOverride:d,event:g,fromCell:b,rowWithoutSpanValue:_}=o;let{headerPosition:$}=o;if(b&&((j=this.filterManager)!=null&&j.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter($);if(d){const rt=this.getFocusedHeader(),nt=this.headerNavigationService.getHeaderRowCount();if(c){const In=this.gos.getCallback("tabToNextHeader");In&&($=this.getHeaderPositionFromUserFunc({userFunc:In,direction:a,currentPosition:rt,headerPosition:$,headerRowCount:nt}))}else{const In=this.gos.getCallback("navigateToNextHeader");if(In&&g){const xl={key:g.key,previousHeaderPosition:rt,nextHeaderPosition:$,headerRowCount:nt,event:g};$=In(xl)}}}return $?this.focusProvidedHeaderPosition({headerPosition:$,direction:a,event:g,fromCell:b,rowWithoutSpanValue:_}):!1}focusHeaderPositionFromUserFunc(o){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:a,headerPosition:c,direction:d,event:g}=o,b=this.getFocusedHeader(),_=this.headerNavigationService.getHeaderRowCount(),$=this.getHeaderPositionFromUserFunc({userFunc:a,direction:d,currentPosition:b,headerPosition:c,headerRowCount:_});return!!$&&this.focusProvidedHeaderPosition({headerPosition:$,direction:d,event:g})}getHeaderPositionFromUserFunc(o){const{userFunc:a,direction:c,currentPosition:d,headerPosition:g,headerRowCount:b}=o,$=a({backwards:c==="Before",previousHeaderPosition:d,nextHeaderPosition:g,headerRowCount:b});return $===!0||$===null?($===null&&_warnOnce("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),d):$===!1?null:$}focusProvidedHeaderPosition(o){var nt;const{headerPosition:a,direction:c,fromCell:d,rowWithoutSpanValue:g,event:b}=o,{column:_,headerRowIndex:$}=a;if($===-1)return(nt=this.filterManager)!=null&&nt.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(_);this.headerNavigationService.scrollToColumn(_,c);const j=this.ctrlsService.getHeaderRowContainerCtrl(_.getPinned()),rt=(j==null?void 0:j.focusHeader(a.headerRowIndex,_,b))||!1;return rt&&(g!=null||d)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(g??-1),rt}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let o=this.visibleColsService.getAllCols()[0];if(!o)return!1;o.getParent()&&(o=this.visibleColsService.getColGroupAtLevel(o,0));const a=this.headerPositionUtils.getHeaderIndexToFocus(o,0);return this.focusHeaderPosition({headerPosition:a,rowWithoutSpanValue:0})}focusLastHeader(o){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const a=this.headerNavigationService.getHeaderRowCount()-1,c=_last(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:c},rowWithoutSpanValue:-1,event:o})}focusPreviousFromFirstCell(o){var a;return(a=this.filterManager)!=null&&a.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(o)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(o,a){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===o&&this.focusedCellPosition.rowPinned===_makeNull(a)}findFocusableElements(o,a,c=!1){const d=FOCUSABLE_SELECTOR;let g=FOCUSABLE_EXCLUDE;a&&(g+=", "+a),c&&(g+=', [tabindex="-1"]');const b=Array.prototype.slice.apply(o.querySelectorAll(d)).filter(j=>_isVisible(j)),_=Array.prototype.slice.apply(o.querySelectorAll(g));return _.length?((j,rt)=>j.filter(nt=>rt.indexOf(nt)===-1))(b,_):b}focusInto(o,a=!1,c=!1){const d=this.findFocusableElements(o,null,c),g=a?_last(d):d[0];return g?(g.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(o,a){if(!a)return null;const c=this.findFocusableElements(o),d=c.indexOf(a);if(d===-1)return null;let g=-1;for(let b=d-1;b>=0;b--)if(c[b].classList.contains("ag-tab-guard-top")){g=b;break}return g<=0?null:c[g-1]}findNextFocusableElement(o=this.eGridDiv,a,c){const d=this.findFocusableElements(o,a?':not([tabindex="-1"])':null),g=_getActiveDomElement(this.gos);let b;a?b=d.findIndex($=>$.contains(g)):b=d.indexOf(g);const _=b+(c?-1:1);return _<0||_>=d.length?null:d[_]}isTargetUnderManagedComponent(o,a){if(!a)return!1;const c=o.querySelectorAll(`.${ManagedFocusFeature.FOCUS_MANAGED_CLASS}`);if(!c.length)return!1;for(let d=0;d<c.length;d++)if(c[d].contains(a))return!0;return!1}findTabbableParent(o,a=5){let c=0;for(;o&&_getTabIndex(o)===null&&++c<=a;)o=o.parentElement;return _getTabIndex(o)===null?null:o}focusOverlay(o){var c;const a=this.overlayService.isVisible()&&((c=this.overlayService.getOverlayWrapper())==null?void 0:c.getGui());return!!a&&this.focusInto(a,o)}focusGridViewFailed(o,a){return a&&this.focusOverlay(o)||o&&this.focusLastHeader()}focusGridView(o,a=!1,c=!0){var g,b;if(this.overlayService.isExclusive())return c&&this.focusOverlay(a);if(this.isCellFocusSuppressed())return a&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():c&&this.focusOverlay(a)?!0:this.focusNextGridCoreContainer(!1);const d=a?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(d){const{rowIndex:_,rowPinned:$}=d;if(o??(o=(g=this.getFocusedHeader())==null?void 0:g.column),o&&_!==void 0&&_!==null){if(this.navigationService.ensureCellVisible({rowIndex:_,column:o,rowPinned:$}),a){const j=this.rowRenderer.getRowByPosition(d);if(j!=null&&j.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(d,a))return!0}return this.setFocusedCell({rowIndex:_,column:o,rowPinned:_makeNull($),forceBrowserFocus:!0}),(b=this.rangeService)==null||b.setRangeToCell({rowIndex:_,rowPinned:$,column:o}),!0}}return!!(c&&this.focusOverlay(a)||a&&this.focusLastHeader())}isGridFocused(){const o=_getActiveDomElement(this.gos);return!!o&&this.eGridDiv.contains(o)}focusNextGridCoreContainer(o,a=!1){return!a&&this.gridCtrl.focusNextInnerContainer(o)?!0:((a||!o&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(o),!1)}focusAdvancedFilter(o){var a;return this.advancedFilterFocusColumn=o==null?void 0:o.column,((a=this.advancedFilterService)==null?void 0:a.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(o,a){var d;const c=(a?void 0:this.advancedFilterFocusColumn)??((d=this.visibleColsService.getAllCols())==null?void 0:d[0]);return o?this.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(c)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(o){this.gridCtrl.addFocusableContainer(o)}removeFocusableContainer(o){this.gridCtrl.removeFocusableContainer(o)}focusGridInnerElement(o){return this.gridCtrl.focusInnerElement(o)}allowFocusForNextGridCoreContainer(o){this.gridCtrl.allowFocusForNextCoreContainer(o)}};_FocusService.keyboardModeActive=!1;_FocusService.instanceCount=0;var FocusService=_FocusService,PinnedWidthService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=_isDomLayout(this.gos,"print"),o=e?0:this.visibleColsService.getColsLeftWidth(),a=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),a!=this.rightWidth&&(this.rightWidth=a,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},GridCtrl=class extends BeanStub{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,o,a){this.view=e,this.eGridHostDiv=o,this.eGui=a,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:c,mouseEventService:d,ctrlsService:g,resizeObserverService:b}=this.beans,_={getContainer:()=>this.eGui,isInterestedIn:j=>j===1||j===0,getIconName:()=>"notAllowed"};c.addDropTarget(_),this.addDestroyFunc(()=>c.removeDropTarget(_)),d.stampTopLevelGridCompWithGridInstance(o),this.createManagedBean(new LayoutFeature(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const $=b.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>$()),g.register("gridCtrl",this)}isDetailGrid(){var o;const e=this.focusService.findTabbableParent(this.getGui());return((o=e==null?void 0:e.getAttribute("row-id"))==null?void 0:o.startsWith("detail"))||!1}getOptionalSelectors(){var o,a,c,d,g;const e=this.beans;return{paginationSelector:(o=e.paginationService)==null?void 0:o.getPaginationSelector(),gridHeaderDropZonesSelector:(a=e.columnDropZonesService)==null?void 0:a.getDropZoneSelector(),sideBarSelector:(c=e.sideBarService)==null?void 0:c.getSideBarSelector(),statusBarSelector:(d=e.statusBarService)==null?void 0:d.getStatusPanelSelector(),watermarkSelector:(g=e.licenseManager)==null?void 0:g.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const o=this.getFocusableContainers(),{indexWithFocus:a,nextIndex:c}=this.getNextFocusableIndex(o,e);if(c<0||c>=o.length)return!1;if(c===0){if(a>0){const d=this.visibleColsService.getAllCols(),g=_last(d);if(this.focusService.focusGridView(g,!0))return!0}return!1}return this.focusContainer(o[c],e)}focusInnerElement(e){const o=this.gos.getCallback("focusGridInnerElement");if(o&&o({fromBottom:!!e}))return!0;const a=this.getFocusableContainers(),c=this.visibleColsService.getAllCols();if(e){if(a.length>1)return this.focusContainer(_last(a),!0);const d=_last(c);if(this.focusService.focusGridView(d,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(c[0]))return!0;for(let d=1;d<a.length;d++)if(this.focusService.focusInto(a[d].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var g;const o=this.view.getFocusableContainers(),{nextIndex:a,indexWithFocus:c}=this.getNextFocusableIndex(o,e);if(c===-1||a<0||a>=o.length)return;const d=o[a];(g=d.setAllowFocus)==null||g.call(d,!0),setTimeout(()=>{var b;(b=d.setAllowFocus)==null||b.call(d,!1)})}getNextFocusableIndex(e,o){const a=_getActiveDomElement(this.gos),c=e.findIndex(g=>g.getGui().contains(a)),d=c+(o?-1:1);return{indexWithFocus:c,nextIndex:d}}focusContainer(e,o){var c,d;(c=e.setAllowFocus)==null||c.call(e,!0);const a=this.focusService.focusInto(e.getGui(),o);return(d=e.setAllowFocus)==null||d.call(e,!1),a}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},GridComp$1=class extends TabGuardComp$1{constructor(o){super(),this.gridBody=RefPlaceholder,this.sideBar=RefPlaceholder,this.pagination=RefPlaceholder,this.rootWrapperBody=RefPlaceholder,this.eGridDiv=o}postConstruct(){const o={destroyGridUi:()=>this.destroyBean(this),setRtlClass:b=>this.addCssClass(b),setGridThemeClass:b=>this.addCssClass(b),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:b=>{this.getGui().style.userSelect=b??"",this.getGui().style.webkitUserSelect=b??""},setCursor:b=>{this.getGui().style.cursor=b??""}},a=this.createManagedBean(new GridCtrl),c=a.getOptionalSelectors(),d=this.createTemplate(c),g=[GridBodySelector,...Object.values(c).filter(b=>!!b)];this.setTemplate(d,g),a.setComp(o,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:b=>a.focusInnerElement(b),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const o=this.getGui();this.eGridDiv.appendChild(o),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(o),this.gos.get("debug")&&_log("Grid removed from DOM")})}updateLayoutClasses(o,a){const c=this.rootWrapperBody.classList;c.toggle("ag-layout-auto-height",a.autoHeight),c.toggle("ag-layout-normal",a.normal),c.toggle("ag-layout-print",a.print),this.addOrRemoveCssClass("ag-layout-auto-height",a.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",a.normal),this.addOrRemoveCssClass("ag-layout-print",a.print)}createTemplate(o){const a=o.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",c=o.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",d=o.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",g=o.watermarkSelector?"<ag-watermark></ag-watermark>":"",b=o.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${a}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${c}
                </div>
                ${d}
                ${b}
                ${g}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(o=!1){var a;if(!o&&((a=this.pagination)!=null&&a.isDisplayed())){this.pagination.forceFocusOutOfContainer(o);return}super.forceFocusOutOfContainer(o)}getFocusableContainers(){const o=[this.gridBody];return[this.sideBar,this.pagination].forEach(a=>{a&&o.push(a)}),o.filter(a=>_isVisible(a.getGui()))}},AlignedGridsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const o=typeof e=="function";typeof e=="function"&&(e=e());const a=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(d=>{var b;if(!d){_errorOnce("alignedGrids contains an undefined option."),o||_errorOnce(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),_errorOnce(a());return}if(this.isGridApi(d))return d;const g=d;return"current"in g?(b=g.current)==null?void 0:b.api:(g.api||_errorOnce(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${a()}`),g.api)}).filter(d=>!!d&&!d.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:o})=>this.onColumnEvent(o),alignedGridScroll:({event:o})=>this.onScrollEvent(o)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(o=>{o.isDestroyed()||o.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,o){const a=[];return e.columns?e.columns.forEach(c=>{a.push(o(c))}):e.column&&a.push(o(e.column)),a}getMasterColumns(e){return this.extractDataFromEvent(e,o=>o)}getColumnIds(e){return this.extractDataFromEvent(e,o=>o.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":_warnOnce("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:o}=this;e.columnGroups.forEach(a=>{let c=null;a&&(c=o.getProvidedColGroup(a.getGroupId())),!(a&&!c)&&o.setColumnGroupOpened(c,a.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var j;const o=e.column;let a=null;if(o&&(a=this.columnModel.getColDefCol(o.getColId())),o&&!a)return;const c=this.getMasterColumns(e),{columnApplyStateService:d,columnSizeService:g,ctrlsService:b}=this;switch(e.type){case"columnMoved":{const nt=e.api.getColumnState().map(In=>({colId:In.colId}));d.applyColumnState({state:nt,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const nt=e.api.getColumnState().map(In=>({colId:In.colId,hide:In.hide}));d.applyColumnState({state:nt},"alignedGridChanged")}break;case"columnPinned":{const nt=e.api.getColumnState().map(In=>({colId:In.colId,pinned:In.pinned}));d.applyColumnState({state:nt},"alignedGridChanged")}break;case"columnResized":{const rt=e,nt={};c.forEach(In=>{nt[In.getId()]={key:In.getColId(),newWidth:In.getActualWidth()}}),(j=rt.flexColumns)==null||j.forEach(In=>{nt[In.getId()]&&delete nt[In.getId()]}),g.setColumnWidths(Object.values(nt),!1,rt.finished,"alignedGridChanged");break}}const $=b.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(rt=>{rt.setGridOption("alwaysShowVerticalScroll",$)})}},AlignedGridsModule={version:VERSION,moduleName:"@ag-grid-community/aligned-grid",beans:[AlignedGridsService]};function getColumnDef(e,o){const a=e.columnModel.getColDefCol(o);return a?a.getColDef():null}function getColumnDefs$1(e){return e.columnModel.getColumnDefs()}function sizeColumnsToFit(e,o){typeof o=="number"?e.columnSizeService.sizeColumnsToFit(o,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(o)}function setColumnGroupOpened(e,o,a){e.columnModel.setColumnGroupOpened(o,a,"api")}function getColumnGroup(e,o,a){return e.visibleColsService.getColumnGroup(o,a)}function getProvidedColumnGroup(e,o){return e.columnModel.getProvidedColGroup(o)}function getDisplayNameForColumn(e,o,a){return e.columnNameService.getDisplayNameForColumn(o,a)||""}function getDisplayNameForColumnGroup(e,o,a){return e.columnNameService.getDisplayNameForColumnGroup(o,a)||""}function getColumn(e,o){return e.columnModel.getColDefCol(o)}function getColumns(e){return e.columnModel.getColDefCols()}function applyColumnState(e,o){return e.columnApplyStateService.applyColumnState(o,"api")}function getColumnState(e){return e.columnGetStateService.getColumnState()}function resetColumnState(e){e.columnApplyStateService.resetColumnState("api")}function getColumnGroupState(e){return e.columnGroupStateService.getColumnGroupState()}function setColumnGroupState(e,o){e.columnGroupStateService.setColumnGroupState(o,"api")}function resetColumnGroupState(e){e.columnGroupStateService.resetColumnGroupState("api")}function isPinning(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function isPinningLeft(e){return e.visibleColsService.isPinningLeft()}function isPinningRight(e){return e.visibleColsService.isPinningRight()}function getDisplayedColAfter(e,o){return e.visibleColsService.getColAfter(o)}function getDisplayedColBefore(e,o){return e.visibleColsService.getColBefore(o)}function setColumnVisible(e,o,a){e.columnModel.setColsVisible([o],a,"api")}function setColumnsVisible(e,o,a){e.columnModel.setColsVisible(o,a,"api")}function setColumnPinned(e,o,a){e.columnModel.setColsPinned([o],a,"api")}function setColumnsPinned(e,o,a){e.columnModel.setColsPinned(o,a,"api")}function getAllGridColumns(e){return e.columnModel.getCols()}function getDisplayedLeftColumns(e){return e.visibleColsService.getLeftCols()}function getDisplayedCenterColumns(e){return e.visibleColsService.getCenterCols()}function getDisplayedRightColumns(e){return e.visibleColsService.getRightCols()}function getAllDisplayedColumns(e){return e.visibleColsService.getAllCols()}function getAllDisplayedVirtualColumns(e){return e.columnViewportService.getViewportColumns()}function moveColumn(e,o,a){e.columnMoveService.moveColumns([o],a,"api")}function moveColumnByIndex(e,o,a){e.columnMoveService.moveColumnByIndex(o,a,"api")}function moveColumns(e,o,a){e.columnMoveService.moveColumns(o,a,"api")}function setColumnWidth(e,o,a,c=!0,d="api"){e.columnSizeService.setColumnWidths([{key:o,newWidth:a}],!1,c,d)}function setColumnWidths(e,o,a=!0,c="api"){e.columnSizeService.setColumnWidths(o,!1,a,c)}function getLeftDisplayedColumnGroups(e){return e.visibleColsService.getTreeLeft()}function getCenterDisplayedColumnGroups(e){return e.visibleColsService.getTreeCenter()}function getRightDisplayedColumnGroups(e){return e.visibleColsService.getTreeRight()}function getAllDisplayedColumnGroups(e){return e.visibleColsService.getAllTrees()}function autoSizeColumn(e,o,a){return e.columnAutosizeService.autoSizeCols({colKeys:[o],skipHeader:a,source:"api"})}function autoSizeColumns(e,o,a){e.columnAutosizeService.autoSizeCols({colKeys:o,skipHeader:a,source:"api"})}function autoSizeAllColumns(e,o){e.columnAutosizeService.autoSizeAllColumns("api",o)}var DataTypeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(convertSourceType(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const o=c=>d=>{const{column:g,node:b,value:_}=d;let $=g.getColDef().valueFormatter;return $===c.groupSafeValueFormatter&&($=c.valueFormatter),this.valueService.formatValue(g,b,_,$)};Object.entries(e).forEach(([c,d])=>{const g={...d,groupSafeValueFormatter:this.createGroupSafeValueFormatter(d)};this.dataTypeDefinitions[c]=g,this.formatValueFuncs[c]=o(g)});const a=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(a).forEach(([c,d])=>{const g=this.processDataTypeDefinition(d,a,[c],e);g&&(this.dataTypeDefinitions[c]=g,d.dataTypeMatcher&&(this.dataTypeMatchers[c]=d.dataTypeMatcher),this.formatValueFuncs[c]=o(g))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(c=>{const d=this.dataTypeMatchers[c];d&&delete this.dataTypeMatchers[c],this.dataTypeMatchers[c]=d??e[c].dataTypeMatcher})}mergeDataTypeDefinitions(e,o){const a={...e,...o};return e.columnTypes&&o.columnTypes&&o.appendColumnTypes&&(a.columnTypes=[...convertColumnTypes(e.columnTypes),...convertColumnTypes(o.columnTypes)]),a}processDataTypeDefinition(e,o,a,c){let d;const g=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let b=c[g];const _=o[g];if(b&&_&&(b=_),!this.validateDataTypeDefinition(e,b,g))return;d=this.mergeDataTypeDefinitions(b,e)}else{if(a.includes(g)){_warnOnce('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const b=o[g];if(!this.validateDataTypeDefinition(e,b,g))return;const _=this.processDataTypeDefinition(b,o,[...a,g],c);if(!_)return;d=this.mergeDataTypeDefinitions(_,e)}return{...d,groupSafeValueFormatter:this.createGroupSafeValueFormatter(d)}}validateDataTypeDefinition(e,o,a){return o?o.baseDataType!==e.baseDataType?(_warnOnce('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(_warnOnce(`The data type definition ${a} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return o=>{var a,c;if((a=o.node)!=null&&a.group){const d=(o.colDef.pivotValueColumn??o.column).getAggFunc();if(d){if(d==="first"||d==="last")return e.valueFormatter(o);if(e.baseDataType==="number"&&d!=="count"){if(typeof o.value=="number")return e.valueFormatter(o);if(typeof o.value=="object"){if(!o.value)return;if("toNumber"in o.value)return e.valueFormatter({...o,value:o.value.toNumber()});if("value"in o.value)return e.valueFormatter({...o,value:o.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&o.column.isRowGroupActive()&&typeof o.value=="string"&&!((c=e.dataTypeMatcher)!=null&&c.call(e,o.value)))return;return e.valueFormatter(o)}}updateColDefAndGetColumnType(e,o,a){let{cellDataType:c}=o;const{field:d}=o;if(c===void 0&&(c=e.cellDataType),(c==null||c===!0)&&(c=this.canInferCellDataType(e,o)?this.inferCellDataType(d,a):!1),!c){e.cellDataType=!1;return}const g=this.dataTypeDefinitions[c];if(!g){_warnOnce(`Missing data type definition - "${c}"`);return}return e.cellDataType=c,g.groupSafeValueFormatter&&(e.valueFormatter=g.groupSafeValueFormatter),g.valueParser&&(e.valueParser=g.valueParser),g.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,c,g,a),g.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const o=this.columnStateUpdatesPendingInference[e.getColId()];if(!o)return;const a=c=>{o.add(c.key)};e.addEventListener("columnStateUpdated",a),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",a))}canInferCellDataType(e,o){if(!_isClientSideRowModel(this.gos))return!1;const a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(o,a))return!1;const c=o.type===null?e.type:o.type;if(c){const d=this.gos.get("columnTypes")??{};if(convertColumnTypes(c).some(b=>{const _=d[b.trim()];return _&&this.doColDefPropsPreventInference(_,a)}))return!1}return!this.doColDefPropsPreventInference(e,a)}doColDefPropsPreventInference(e,o){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([a,c])=>this.doesColDefPropPreventInference(e,o,a,c))}doesColDefPropPreventInference(e,o,a,c){if(!o[a])return!1;const d=e[a];return d===null?(o[a]=!1,!1):c===void 0?!!d:d===c}inferCellDataType(e,o){if(!e)return;let a;const c=this.getInitialData();if(c){const g=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");a=_getValueUsingField(c,e,g)}else this.initWaitForRowData(o);if(a==null)return;const[d]=Object.entries(this.dataTypeMatchers).find(([g,b])=>b(a))??["object"];return d}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const o=this.rowModel.getRootNode().allLeafChildren;if(o!=null&&o.length)return o[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const o=this.isColumnTypeOverrideInDataTypeDefinitions;o&&this.columnModel.queueResizeOperations();const[a]=this.addManagedEventListeners({rowDataUpdateStarted:c=>{const{firstRowData:d}=c;d&&(a==null||a(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(d,o),this.columnStateUpdatesPendingInference={},o&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,o){this.initialData=e;const a=[];this.destroyColumnStateUpdateListeners();const c={},d={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([g,b])=>{const _=this.columnModel.getCol(g);if(!_)return;const $=_.getColDef();if(!this.columnModel.resetColDefIntoCol(_,"cellDataTypeInferred"))return;const j=_.getColDef();if(o&&j.type&&j.type!==$.type){const rt=this.getUpdatedColumnState(_,b);rt.rowGroup&&rt.rowGroupIndex==null&&(c[g]=rt),rt.pivot&&rt.pivotIndex==null&&(d[g]=rt),a.push(rt)}}),o&&a.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(c,d)),a.length&&this.columnApplyStateService.applyColumnState({state:a},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,o){const a=this.columnApplyStateService.getColumnStateFromColDef(e);return o.forEach(c=>{delete a[c],c==="rowGroup"?delete a.rowGroupIndex:c==="pivot"&&delete a.pivotIndex}),a}checkObjectValueHandlers(e){const o=this.dataTypeDefinitions.object,a=e.object;this.hasObjectValueParser=o.valueParser!==a.valueParser,this.hasObjectValueFormatter=o.valueFormatter!==a.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const o=e.getColDef();if(o.cellDataType)return this.dataTypeDefinitions[o.cellDataType]}getBaseDataType(e){var o;return(o=this.getDataTypeDefinition(e))==null?void 0:o.baseDataType}checkType(e,o){var c;if(o==null)return!0;const a=(c=this.getDataTypeDefinition(e))==null?void 0:c.dataTypeMatcher;return a?a(o):!0}validateColDef(e){const o=a=>_warnOnce(`Cell data type is "object" but no Value ${a} has been provided. Please either provide an object data type definition with a Value ${a}, or set "colDef.value${a}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&o("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&o("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,o,a,c){var g;const d=this.formatValueFuncs[o];switch(a.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=b=>!!b.colDef.editable&&b.event.key===KeyCode.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=d;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=d;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(b,_)=>{const $=this.columnModel.getColDefCol(c),j=$==null?void 0:$.getColDef();if(!$||!j)return 0;const rt=b==null?"":d({column:$,node:null,value:b}),nt=_==null?"":d({column:$,node:null,value:_});return rt===nt?0:rt>nt?1:-1},e.keyCreator=d;break}}(g=this.filterManager)==null||g.setColDefPropertiesForDataType(e,a,d)}getDefaultDataTypes(){const e=a=>!!a.match("^\\d{4}-\\d{2}-\\d{2}$"),o=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:a=>{var c,d;return((d=(c=a.newValue)==null?void 0:c.trim)==null?void 0:d.call(c))===""?null:Number(a.newValue)},valueFormatter:a=>a.value==null?"":typeof a.value!="number"||isNaN(a.value)?o("invalidNumber","Invalid Number"):String(a.value),dataTypeMatcher:a=>typeof a=="number"},text:{baseDataType:"text",valueParser:a=>a.newValue===""?null:_toStringOrNull(a.newValue),dataTypeMatcher:a=>typeof a=="string"},boolean:{baseDataType:"boolean",valueParser:a=>{var c,d;return a.newValue==null?a.newValue:((d=(c=a.newValue)==null?void 0:c.trim)==null?void 0:d.call(c))===""?null:String(a.newValue).toLowerCase()==="true"},valueFormatter:a=>a.value==null?"":String(a.value),dataTypeMatcher:a=>typeof a=="boolean"},date:{baseDataType:"date",valueParser:a=>_parseDateTimeFromString(a.newValue==null?null:String(a.newValue)),valueFormatter:a=>a.value==null?"":!(a.value instanceof Date)||isNaN(a.value.getTime())?o("invalidDate","Invalid Date"):_serialiseDate(a.value,!1)??"",dataTypeMatcher:a=>a instanceof Date},dateString:{baseDataType:"dateString",dateParser:a=>_parseDateTimeFromString(a)??void 0,dateFormatter:a=>_serialiseDate(a??null,!1)??void 0,valueParser:a=>e(String(a.newValue))?a.newValue:null,valueFormatter:a=>e(String(a.value))?a.value:"",dataTypeMatcher:a=>typeof a=="string"&&e(a)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:a=>_toStringOrNull(a.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},DataTypeModule={version:VERSION,moduleName:"@ag-grid-community/data-type",beans:[DataTypeService]},ColumnApiModule={version:VERSION,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef,getColumnDefs:getColumnDefs$1,sizeColumnsToFit,setColumnGroupOpened,getColumnGroup,getProvidedColumnGroup,getDisplayNameForColumn,getDisplayNameForColumnGroup,getColumn,getColumns,applyColumnState,getColumnState,resetColumnState,getColumnGroupState,setColumnGroupState,resetColumnGroupState,isPinning,isPinningLeft,isPinningRight,getDisplayedColAfter,getDisplayedColBefore,setColumnVisible,setColumnsVisible,setColumnPinned,setColumnsPinned,getAllGridColumns,getDisplayedLeftColumns,getDisplayedCenterColumns,getDisplayedRightColumns,getAllDisplayedColumns,getAllDisplayedVirtualColumns,moveColumn,moveColumnByIndex,moveColumns,setColumnWidth,setColumnWidths,getLeftDisplayedColumnGroups,getCenterDisplayedColumnGroups,getRightDisplayedColumnGroups,getAllDisplayedColumnGroups,autoSizeColumn,autoSizeColumns,autoSizeAllColumns}};function addRowDropZone(e,o){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(o)}function removeRowDropZone(e,o){const a=e.dragAndDropService.findExternalZone(o);a&&e.dragAndDropService.removeDropTarget(a)}function getRowDropZoneParams(e,o){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(o)}var DragApiModule={version:VERSION,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone,removeRowDropZone,getRowDropZoneParams}};function getPinnedTopRowCount(e){return e.pinnedRowModel.getPinnedTopRowCount()}function getPinnedBottomRowCount(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function getPinnedTopRow(e,o){return e.pinnedRowModel.getPinnedTopRow(o)}function getPinnedBottomRow(e,o){return e.pinnedRowModel.getPinnedBottomRow(o)}var PinnedRowApiModule={version:VERSION,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount,getPinnedBottomRowCount,getPinnedTopRow,getPinnedBottomRow}};function showLoadingOverlay(e){e.overlayService.showLoadingOverlay()}function showNoRowsOverlay(e){e.overlayService.showNoRowsOverlay()}function hideOverlay(e){e.overlayService.hideOverlay()}var OverlayApiModule={version:VERSION,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay,showNoRowsOverlay,hideOverlay}};function setGridAriaProperty(e,o,a){if(!o)return;const c=e.ctrlsService.getGridBodyCtrl().getGui(),d=`aria-${o}`;a===null?c.removeAttribute(d):c.setAttribute(d,a)}function refreshCells(e,o={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(o))}function flashCells(e,o={}){const a=c=>_warnOnce(`Since v31.1 api.flashCells parameter '${c}Delay' is deprecated. Please use '${c}Duration' instead.`);_exists(o.fadeDelay)&&a("fade"),_exists(o.flashDelay)&&a("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(o))}function refreshHeader(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(o=>o.refresh()))}function isAnimationFrameQueueEmpty(e){return e.animationFrameService.isQueueEmpty()}function flushAllAnimationFrames(e){e.animationFrameService.flushAllFrames()}function getSizesForCurrentTheme(e){return{rowHeight:_getRowHeightAsNumber(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function getCellRendererInstances(e,o={}){return e.rowRenderer.getCellRendererInstances(o).map(_unwrapUserComp)}var RenderApiModule={version:VERSION,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty,refreshCells,flashCells,refreshHeader,isAnimationFrameQueueEmpty,flushAllAnimationFrames,getSizesForCurrentTheme,getCellRendererInstances}};function expireValueCache(e){e.valueCache.expire()}function getValue(e,o,a){return getCellValue(e,{colKey:o,rowNode:a})}function getCellValue(e,o){const{colKey:a,rowNode:c,useFormatter:d}=o,g=e.columnModel.getColDefCol(a)??e.columnModel.getCol(a);if(_missing(g))return null;const b=e.valueService.getValueForDisplay(g,c);return d?e.valueService.formatValue(g,c,b)??_escapeString(b,!0):b}function getGridId(e){return e.context.getGridId()}function destroy(e){e.gridDestroyService.destroy()}function isDestroyed(e){return e.gridDestroyService.isDestroyCalled()}function getGridOption(e,o){return e.gos.get(o)}function setGridOption(e,o,a){updateGridOptions(e,{[o]:a})}function updateGridOptions(e,o){e.gos.updateGridOptions({options:o})}function addEventListener$1(e,o,a){e.apiEventService.addEventListener(o,a)}function removeEventListener$1(e,o,a){e.apiEventService.removeEventListener(o,a)}function addGlobalListener(e,o){e.apiEventService.addGlobalListener(o)}function removeGlobalListener(e,o){e.apiEventService.removeGlobalListener(o)}function getFocusedCell(e){return e.focusService.getFocusedCell()}function clearFocusedCell(e){return e.focusService.clearFocusedCell()}function setFocusedCell(e,o,a,c){e.focusService.setFocusedCell({rowIndex:o,column:a,rowPinned:c,forceBrowserFocus:!0})}function tabToNextCell(e,o){return e.navigationService.tabToNextCell(!1,o)}function tabToPreviousCell(e,o){return e.navigationService.tabToNextCell(!0,o)}function setFocusedHeader(e,o,a=!1){const c=e.headerNavigationService.getHeaderPositionForColumn(o,a);c&&e.focusService.focusHeaderPosition({headerPosition:c})}function showColumnMenuAfterButtonClick(e,o,a){const c=e.columnModel.getCol(o);e.menuService.showColumnMenu({column:c,buttonElement:a,positionBy:"button"})}function showColumnMenuAfterMouseClick(e,o,a){let c=e.columnModel.getCol(o);if(c||(c=e.columnModel.getColDefCol(o)),!c){_errorOnce(`column '${o}' not found`);return}e.menuService.showColumnMenu({column:c,mouseEvent:a,positionBy:"mouse"})}function showColumnMenu(e,o){const a=e.columnModel.getCol(o);if(!a){_errorOnce(`column '${o}' not found`);return}e.menuService.showColumnMenu({column:a,positionBy:"auto"})}function hidePopupMenu(e){e.menuService.hidePopupMenu()}function redrawRows(e,o={}){const a=o?o.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(a))}function setRowNodeExpanded(e,o,a,c,d){e.expansionService.setRowNodeExpanded(o,a,c,d)}function getRowNode(e,o){return e.rowModel.getRowNode(o)}function addRenderedRowListener(e,o,a,c){e.rowRenderer.addRenderedRowListener(o,a,c)}function getRenderedNodes(e){return e.rowRenderer.getRenderedNodes()}function forEachNode(e,o,a){e.rowModel.forEachNode(o,a)}function getFirstDisplayedRow(e){return getFirstDisplayedRowIndex(e)}function getFirstDisplayedRowIndex(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function getLastDisplayedRow(e){return getLastDisplayedRowIndex(e)}function getLastDisplayedRowIndex(e){return e.rowRenderer.getLastVirtualRenderedRow()}function getDisplayedRowAtIndex(e,o){return e.rowModel.getRow(o)}function getDisplayedRowCount(e){return e.rowModel.getRowCount()}function getModel(e){return e.rowModel}function setNodesSelected(e,o){if(!o.nodes.every(_=>_.rowPinned?(_warnOnce("cannot select pinned rows"),!1):_.id===void 0?(_warnOnce("cannot select node until id for node is known"),!1):!0))return;const{nodes:c,source:d,newValue:g}=o,b=c;e.selectionService.setNodesSelected({nodes:b,source:d??"api",newValue:g})}function selectAll(e,o="apiSelectAll"){e.selectionService.selectAllRowNodes({source:o})}function deselectAll(e,o="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:o})}function selectAllFiltered(e,o="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:o,justFiltered:!0})}function deselectAllFiltered(e,o="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:o,justFiltered:!0})}function selectAllOnCurrentPage(e,o="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:o,justCurrentPage:!0})}function deselectAllOnCurrentPage(e,o="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:o,justCurrentPage:!0})}function getSelectedNodes(e){return e.selectionService.getSelectedNodes()}function getSelectedRows(e){return e.selectionService.getSelectedRows()}function onSortChanged(e){e.sortController.onSortChanged("api")}var CoreApiModule={version:VERSION,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId,destroy,isDestroyed,getGridOption,setGridOption,updateGridOptions}},RowSelectionApiModule={version:VERSION,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected,selectAll,deselectAll,selectAllFiltered,deselectAllFiltered,selectAllOnCurrentPage,deselectAllOnCurrentPage,getSelectedNodes,getSelectedRows}},RowApiModule={version:VERSION,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows,setRowNodeExpanded,getRowNode,addRenderedRowListener,getRenderedNodes,forEachNode,getFirstDisplayedRow,getFirstDisplayedRowIndex,getLastDisplayedRow,getLastDisplayedRowIndex,getDisplayedRowAtIndex,getDisplayedRowCount,getModel}},ScrollApiModule={version:VERSION,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange,getHorizontalPixelRange,ensureColumnVisible,ensureIndexVisible,ensureNodeVisible}},KeyboardNavigationApiModule={version:VERSION,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell,clearFocusedCell,setFocusedCell,setFocusedHeader,tabToNextCell,tabToPreviousCell}},EventApiModule={version:VERSION,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:addEventListener$1,addGlobalListener,removeEventListener:removeEventListener$1,removeGlobalListener}},CellApiModule={version:VERSION,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache,getValue,getCellValue}},CommunityMenuApiModule={version:VERSION,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick,showColumnMenuAfterMouseClick,showColumnMenu,hidePopupMenu}},SortApiModule={version:VERSION,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged}},CommunityApiModule={version:VERSION,moduleName:"@ag-grid-community/api",dependantModules:[CoreApiModule,PinnedRowApiModule,RowSelectionApiModule,ColumnApiModule,RowApiModule,DragApiModule,ScrollApiModule,OverlayApiModule,KeyboardNavigationApiModule,EventApiModule,RenderApiModule,CellApiModule,CommunityMenuApiModule,SortApiModule]};function getState(e){var o;return((o=e.stateService)==null?void 0:o.getState())??{}}function migrateGridStateModel(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=migrateV32_1(e)}return e}function migrateV32_1(e){return e.cellSelection=jsonGet(e,"rangeSelection"),e}function jsonGet(e,o){if(e&&typeof e=="object")return e[o]}var StateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=_debounce(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=_debounce(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=_debounce(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=_isClientSideRowModel(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",VERSION),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,o,a]=this.addManagedEventListeners({newColumnsLoaded:({source:c})=>{c==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{o==null||o(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{a==null||a(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return migrateGridStateModel(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const o=a=>()=>this.updateColumnState([a]);this.addManagedEventListeners({columnValueChanged:o("aggregation"),columnMoved:o("columnOrder"),columnPinned:o("columnPinning"),columnResized:o("columnSizing"),columnVisible:o("columnVisibility"),columnPivotChanged:o("pivot"),columnPivotModeChanged:o("pivot"),columnRowGroupChanged:o("rowGroup"),sortChanged:o("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:o,rowSelection:a,pagination:c}=this.getInitialState(),d=this.gos.get("advancedFilterModel");(e||d)&&this.setFilterState(e,d),o&&this.setRowGroupExpansionState(o),a&&this.setRowSelectionState(a),c&&this.setPaginationState(c),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const g=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:g,columnRowGroupChanged:g,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{g()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:b=>{(b.newPage||b.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:o,focusedCell:a,columnOrder:c}=this.getInitialState();a&&this.setFocusedCellState(a),o&&this.setCellSelectionState(o),e&&this.setScrollState(e),this.setColumnPivotState(!!(c!=null&&c.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const d=this.getRangeSelectionState();this.updateCachedState("rangeSelection",d),this.updateCachedState("cellSelection",d),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:g=>{if(g.finished){const b=this.getRangeSelectionState();this.updateCachedState("rangeSelection",b),this.updateCachedState("cellSelection",b)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),o=[],a=[],c=[],d=[],g=[],b=[],_=[],$=[],j=[];let rt=0;const nt=this.columnGetStateService.getColumnState();for(let In=0;In<nt.length;In++){const{colId:xl,sort:Ll,sortIndex:Nl,rowGroup:_u,rowGroupIndex:Yl,aggFunc:Ul,pivot:Dl,pivotIndex:Zl,pinned:Ju,hide:Uu,width:fp,flex:Zu}=nt[In];j.push(xl),Ll&&(o[Nl??rt++]={colId:xl,sort:Ll}),_u&&(a[Yl??0]=xl),typeof Ul=="string"&&c.push({colId:xl,aggFunc:Ul}),Dl&&(d[Zl??0]=xl),Ju&&(Ju==="right"?b:g).push(xl),Uu&&_.push(xl),(Zu||fp)&&$.push({colId:xl,flex:Zu??void 0,width:fp})}return{sort:o.length?{sortModel:o}:void 0,rowGroup:a.length?{groupColIds:a}:void 0,aggregation:c.length?{aggregationModel:c}:void 0,pivot:d.length||e?{pivotMode:e,pivotColIds:d}:void 0,columnPinning:g.length||b.length?{leftColIds:g,rightColIds:b}:void 0,columnVisibility:_.length?{hiddenColIds:_}:void 0,columnSizing:$.length?{columnSizingModel:$}:void 0,columnOrder:j.length?{orderedColIds:j}:void 0}}setColumnState(e){const{sort:o,rowGroup:a,aggregation:c,pivot:d,columnPinning:g,columnVisibility:b,columnSizing:_,columnOrder:$,partialColumnState:j}=e,rt={},nt=_u=>{let Yl=rt[_u];return Yl||(Yl={colId:_u},rt[_u]=Yl,Yl)},In=j?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};o&&(o.sortModel.forEach(({colId:_u,sort:Yl},Ul)=>{const Dl=nt(_u);Dl.sort=Yl,Dl.sortIndex=Ul}),In.sort=null,In.sortIndex=null),a&&(a.groupColIds.forEach((_u,Yl)=>{const Ul=nt(_u);Ul.rowGroup=!0,Ul.rowGroupIndex=Yl}),In.rowGroup=null,In.rowGroupIndex=null),c&&(c.aggregationModel.forEach(({colId:_u,aggFunc:Yl})=>{nt(_u).aggFunc=Yl}),In.aggFunc=null),d&&(d.pivotColIds.forEach((_u,Yl)=>{const Ul=nt(_u);Ul.pivot=!0,Ul.pivotIndex=Yl}),this.gos.updateGridOptions({options:{pivotMode:d.pivotMode},source:"gridInitializing"}),In.pivot=null,In.pivotIndex=null),g&&(g.leftColIds.forEach(_u=>{nt(_u).pinned="left"}),g.rightColIds.forEach(_u=>{nt(_u).pinned="right"}),In.pinned=null),b&&(b.hiddenColIds.forEach(_u=>{nt(_u).hide=!0}),In.hide=null),_&&(_.columnSizingModel.forEach(({colId:_u,flex:Yl,width:Ul})=>{const Dl=nt(_u);Dl.flex=Yl??null,Dl.width=Ul}),In.flex=null);const xl=$==null?void 0:$.orderedColIds,Ll=!!(xl!=null&&xl.length),Nl=Ll?xl.map(_u=>nt(_u)):Object.values(rt);Nl.length&&(this.columnStates=Nl,this.columnApplyStateService.applyColumnState({state:Nl,applyOrder:Ll,defaultState:In},"gridInitializing"))}setColumnPivotState(e){const o=this.columnStates;this.columnStates=void 0;const a=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(o){const c=[];for(const d of o)this.pivotResultColsService.getPivotResultCol(d.colId)&&c.push(d);this.columnApplyStateService.applyColumnState({state:c,applyOrder:e},"gridInitializing")}a&&this.columnGroupStateService.setColumnGroupState(a,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),o=[];return e.forEach(({groupId:a,open:c})=>{c&&o.push(a)}),o.length?{openColumnGroupIds:o}:void 0}setColumnGroupState(e){var d;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const o=new Set((d=e.columnGroup)==null?void 0:d.openColumnGroupIds),c=this.columnGroupStateService.getColumnGroupState().map(({groupId:g})=>{const b=o.has(g);return b&&o.delete(g),{groupId:g,open:b}});o.forEach(g=>{c.push({groupId:g,open:!0})}),c.length&&(this.columnGroupStates=c),this.columnGroupStateService.setColumnGroupState(c,"gridInitializing")}getFilterState(){var a,c;let e=(a=this.filterManager)==null?void 0:a.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const o=((c=this.filterManager)==null?void 0:c.getAdvancedFilterModel())??void 0;return e||o?{filterModel:e,advancedFilterModel:o}:void 0}setFilterState(e,o){var d,g;const{filterModel:a,advancedFilterModel:c}=e??{advancedFilterModel:o};a&&((d=this.filterManager)==null||d.setFilterModel(a,"columnFilter")),c&&((g=this.filterManager)==null||g.setAdvancedFilterModel(c))}getRangeSelectionState(){var o;const e=(o=this.rangeService)==null?void 0:o.getCellRanges().map(a=>{const{id:c,type:d,startRow:g,endRow:b,columns:_,startColumn:$}=a;return{id:c,type:d,startRow:g,endRow:b,colIds:_.map(j=>j.getColId()),startColId:$.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:o,rangeService:a,columnModel:c,visibleColsService:d}=this;if(!_isCellSelectionEnabled(o)||!a)return;const g=[];if(e.cellRanges.forEach(b=>{const _=[];if(b.colIds.forEach(j=>{const rt=c.getCol(j);rt&&_.push(rt)}),!_.length)return;let $=c.getCol(b.startColId);if(!$){const j=d.getAllCols(),rt=new Set(_);$=j.find(nt=>rt.has(nt))}g.push({...b,columns:_,startColumn:$})}),_isUsingNewCellSelectionAPI(o)&&_getSuppressMultiRanges(o)&&g.length>1)return _warnOnce("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");a.setCellRanges(g)}getScrollState(){var c;if(!this.isClientSideRowModel)return;const e=(c=this.ctrlsService.getGridBodyCtrl())==null?void 0:c.getScrollFeature(),{left:o}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:a}=(e==null?void 0:e.getVScrollPosition())??{top:0};return a||o?{top:a,left:o}:void 0}setScrollState(e){var c;if(!this.isClientSideRowModel)return;const{top:o,left:a}=e;(c=this.ctrlsService.getGridBodyCtrl())==null||c.getScrollFeature().setScrollPosition(o,a)}getSideBarState(){var e,o;return(o=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:o.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:o,rowIndex:a,rowPinned:c}=e;return{colId:o.getColId(),rowIndex:a,rowPinned:c}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:o,rowIndex:a,rowPinned:c}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(o),rowIndex:a,rowPinned:c,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),o=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!o))return{page:e,pageSize:o}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var a;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((a=e==null?void 0:e.toggledNodes)!=null&&a.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const o=this.getColumnState();let a=!1;Object.entries(o).forEach(([c,d])=>{_jsonEquals(d,this.cachedState[c])||(a=!0)}),this.cachedState={...this.cachedState,...o},a&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,o){const a=this.cachedState[e];this.setCachedStateValue(e,o),_jsonEquals(o,a)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,o){this.cachedState={...this.cachedState,[e]:o}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(o=>this.queuedUpdateSources.add(o)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},StateCoreModule={version:VERSION,moduleName:"@ag-grid-community/state-core",beans:[StateService]},StateApiModule={version:VERSION,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState},dependantModules:[StateCoreModule]},StateModule={version:VERSION,moduleName:"@ag-grid-community/state",dependantModules:[StateCoreModule,StateApiModule]};function paginationIsLastPageFound(e){return e.rowModel.isLastRowIndexKnown()}function paginationGetPageSize(e){var o;return((o=e.paginationService)==null?void 0:o.getPageSize())??100}function paginationGetCurrentPage(e){var o;return((o=e.paginationService)==null?void 0:o.getCurrentPage())??0}function paginationGetTotalPages(e){var o;return((o=e.paginationService)==null?void 0:o.getTotalPages())??1}function paginationGetRowCount(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function paginationGoToNextPage(e){var o;(o=e.paginationService)==null||o.goToNextPage()}function paginationGoToPreviousPage(e){var o;(o=e.paginationService)==null||o.goToPreviousPage()}function paginationGoToFirstPage(e){var o;(o=e.paginationService)==null||o.goToFirstPage()}function paginationGoToLastPage(e){var o;(o=e.paginationService)==null||o.goToLastPage()}function paginationGoToPage(e,o){var a;(a=e.paginationService)==null||a.goToPage(o)}var PaginationAutoPageSizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const o=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:o,scrollVisibilityChanged:o}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const o=()=>{const a=Math.max(_getRowHeightAsNumber(this.gos),1),c=Math.floor(e/a);this.paginationService.setPageSize(c,"autoCalculated")};this.isBodyRendered?_debounce(()=>o(),50)():(o(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function _addFocusableContainerListener(e,o,a){e.addManagedElementListeners(o,{keydown:c=>{if(!c.defaultPrevented&&c.key===KeyCode.TAB){const d=c.shiftKey;a.findNextFocusableElement(o,!1,d)||a.focusNextGridCoreContainer(d)&&c.preventDefault()}}})}var paginationPageSizeSelector="paginationPageSizeSelector",PageSizeSelectorComp=class extends Component{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const o=Number(e);isNaN(o)||o<1||o===this.paginationService.getPageSize()||(this.paginationService.setPageSize(o,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(paginationPageSizeSelector,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const o=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(o)?this.selectPageSizeComp.setValue(o.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){_clearElement(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(paginationPageSizeSelector)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),o=this.paginationService.getPageSize(),a=!o||!e.includes(o);if(a){const d=this.gos.exists("paginationPageSize"),g=this.gos.get(paginationPageSizeSelector)!==!0;_warnOnce(`'paginationPageSize=${o}'${d?"":" (default value)"}, but ${o} is not included in${g?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),g||_warnOnce(`Either set '${paginationPageSizeSelector}' to an array that includes ${o} or to 'false' to disable the page size selector.`),e.unshift("")}const c=String(a?"":o);this.selectPageSizeComp?(_areEqual(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(c,!0)):this.createPageSizeSelectorComp(e,c),this.hasEmptyOption=a}createPageSizeSelectOptions(e){return e.map(o=>({value:String(o)}))}createPageSizeSelectorComp(e,o){const a=this.localeService.getLocaleTextFunc(),c=a("pageSizeSelectorLabel","Page Size:"),d=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new AgSelect).addOptions(this.createPageSizeSelectOptions(e)).setValue(o).setAriaLabel(d).setLabel(c).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],o=this.gos.get(paginationPageSizeSelector);return!Array.isArray(o)||_missingOrEmpty(o)?e:[...o].sort((a,c)=>a-c)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},PageSizeSelectorSelector={selector:"AG-PAGE-SIZE-SELECTOR",component:PageSizeSelectorComp},PaginationComp=class extends TabGuardComp$1{constructor(){super(),this.btFirst=RefPlaceholder,this.btPrevious=RefPlaceholder,this.btNext=RefPlaceholder,this.btLast=RefPlaceholder,this.lbRecordCount=RefPlaceholder,this.lbFirstRowOnPage=RefPlaceholder,this.lbLastRowOnPage=RefPlaceholder,this.lbCurrent=RefPlaceholder,this.lbTotal=RefPlaceholder,this.pageSizeComp=RefPlaceholder,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[PageSizeSelectorSelector]);const{btFirst:o,btPrevious:a,btNext:c,btLast:d}=this;this.activateTabIndex([o,a,c,d]),o.insertAdjacentElement("afterbegin",_createIconNoSpan(e?"last":"first",this.gos)),a.insertAdjacentElement("afterbegin",_createIconNoSpan(e?"next":"previous",this.gos)),c.insertAdjacentElement("afterbegin",_createIconNoSpan(e?"previous":"next",this.gos)),d.insertAdjacentElement("afterbegin",_createIconNoSpan(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:g=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(g):this.focusService.focusGridInnerElement(g)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const o=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(o),o&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:o,fn:a}=e;this.addManagedListeners(o,{click:a,keydown:c=>{(c.key===KeyCode.ENTER||c.key===KeyCode.SPACE)&&(c.preventDefault(),a())}})}),_addFocusableContainerListener(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const o=this.gos.getCallback("paginationNumberFormatter");if(o)return o({value:e});const a=this.localeService.getLocaleTextFunc(),c=a("thousandSeparator",","),d=a("decimalSeparator",".");return _formatNumberCommas(e,c,d)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),o=e("page","Page"),a=e("to","to"),c=e("of","of"),d=e("firstPage","First Page"),g=e("previousPage","Previous Page"),b=e("nextPage","Next Page"),_=e("lastPage","Last Page"),$=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${$}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${$}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${$}-to">${a}</span>
                    <span id="ag-${$}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${$}-of">${c}</span>
                    <span id="ag-${$}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${d}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${g}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${$}-start-page">${o}</span>
                        <span id="ag-${$}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${$}-of-page">${c}</span>
                        <span id="ag-${$}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${b}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${_}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),o=this.rowModel.isLastRowIndexKnown(),a=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const c=this.isZeroPagesToDisplay(),d=e===a-1;this.nextButtonDisabled=d||c,this.lastButtonDisabled=!o||c||e===a-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,o){_setAriaDisabled(e,o),e.classList.toggle("ag-disabled",o)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),o=this.paginationService.getTotalPages();return e&&o===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),o=this.paginationService.getTotalPages(),a=this.paginationService.getMasterRowCount(),c=e?a:null;if(c===1){const Ul=this.rowModel.getRow(0);if(Ul&&Ul.group&&!(Ul.groupData||Ul.aggData)){this.setTotalLabelsToZero();return}}const d=this.paginationService.getCurrentPage(),g=this.paginationService.getPageSize();let b,_;this.isZeroPagesToDisplay()?b=_=0:(b=g*d+1,_=b+g-1,e&&_>c&&(_=c));const $=b+g-1,j=!e&&a<$,rt=this.formatNumber(b);this.lbFirstRowOnPage.textContent=rt;let nt;const In=this.localeService.getLocaleTextFunc();j?nt=In("pageLastRowUnknown","?"):nt=this.formatNumber(_),this.lbLastRowOnPage.textContent=nt;const Ll=o>0?d+1:0,Nl=this.formatNumber(Ll);this.lbCurrent.textContent=Nl;let _u,Yl;if(e)_u=this.formatNumber(o),Yl=this.formatNumber(c);else{const Ul=In("more","more");_u=Ul,Yl=Ul}this.lbTotal.textContent=_u,this.lbRecordCount.textContent=Yl,this.announceAriaStatus(rt,nt,Yl,Nl,_u)}announceAriaStatus(e,o,a,c,d){const g=this.localeService.getLocaleTextFunc(),b=g("page","Page"),_=g("to","to"),$=g("of","of"),j=`${e} ${_} ${o} ${$} ${a}`,rt=`${b} ${c} ${$} ${d}`;j!==this.ariaRowStatus&&(this.ariaRowStatus=j,this.ariaAnnouncementService.announceValue(j,"paginationRow")),rt!==this.ariaPageStatus&&(this.ariaPageStatus=rt,this.ariaAnnouncementService.announceValue(rt,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},PaginationSelector={selector:"AG-PAGINATION",component:PaginationComp},PaginationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return PaginationSelector}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const o=this.getPageForIndex(e);this.goToPage(o)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),o=Math.floor(e/this.pageSize);this.goToPage(o)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return _exists(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:_exists(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:_exists(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:_exists(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,o){const a=this.pageSize;switch(o){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}a!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const o=this.pageSize*this.currentPage;let a=this.pageSize*(this.currentPage+1)-1;if(a>e&&(a=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(o),a===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const c=this.rowModel.getTopLevelRowDisplayedIndex(a+1);this.bottomDisplayedRowIndex=c-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:o=!1,newPage:a=!1,newPageSize:c=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:a,newPageSize:c,keepRenderedRows:o})}},PaginationCoreModule={version:VERSION,moduleName:"@ag-grid-community/pagination-core",beans:[PaginationService,PaginationAutoPageSizeService]},PaginationApiModule={version:VERSION,moduleName:"@ag-grid-community/pagination-api",dependantModules:[PaginationCoreModule],apiFunctions:{paginationIsLastPageFound,paginationGetPageSize,paginationGetCurrentPage,paginationGetTotalPages,paginationGetRowCount,paginationGoToNextPage,paginationGoToPreviousPage,paginationGoToFirstPage,paginationGoToLastPage,paginationGoToPage}},PaginationModule={version:VERSION,moduleName:"@ag-grid-community/pagination",dependantModules:[PaginationCoreModule,PaginationApiModule]},clientSide="clientSide",serverSide="serverSide",infinite="infinite",functionRowModels={onGroupExpandedOrCollapsed:[clientSide],refreshClientSideRowModel:[clientSide],isRowDataEmpty:[clientSide],forEachLeafNode:[clientSide],forEachNodeAfterFilter:[clientSide],forEachNodeAfterFilterAndSort:[clientSide],resetRowHeights:[clientSide],applyTransaction:[clientSide],applyTransactionAsync:[clientSide],flushAsyncTransactions:[clientSide],getBestCostNodeSelection:[clientSide],getServerSideSelectionState:[serverSide],setServerSideSelectionState:[serverSide],applyServerSideTransaction:[serverSide],applyServerSideTransactionAsync:[serverSide],applyServerSideRowData:[serverSide],retryServerSideLoads:[serverSide],flushServerSideAsyncTransactions:[serverSide],refreshServerSide:[serverSide],getServerSideGroupLevelState:[serverSide],refreshInfiniteCache:[infinite],purgeInfiniteCache:[infinite],getInfiniteRowCount:[infinite],isLastRowIndexKnown:[infinite,serverSide],expandAll:[clientSide,serverSide],collapseAll:[clientSide,serverSide],onRowHeightChanged:[clientSide,serverSide],setRowCount:[infinite,serverSide],getCacheBlockState:[infinite,serverSide]},deprecatedFunctions={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function validateApiFunction(e,o,a){const c=deprecatedFunctions[e];if(c){const{version:g,new:b,old:_,message:$}=c,j=_??e;return(...rt)=>{const nt=b?`Please use ${b} instead. `:"";return _warnOnce(`Since ${g} api.${j} is deprecated. ${nt}${$??""}`),o.apply(o,rt)}}const d=functionRowModels[e];return d?(...g)=>{const b=a.rowModel.getType();if(!d.includes(b)){_errorOnce(`api.${e} can only be called when gridOptions.rowModelType is ${d.join(" or ")}`);return}return o.apply(o,g)}:o}var COLUMN_DEFINITION_DEPRECATIONS={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE=(e,o)=>{const a=o.rowModelType??"clientSide";return a==="clientSide"||a==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},COLUMN_DEFINITION_VALIDATIONS={enableRowGroup:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,rowGroup:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,rowGroupIndex:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,enablePivot:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,enableValue:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,pivot:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,pivotIndex:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,aggFunc:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var a;const o=["columnsMenuTab","generalMenuTab"];return(a=e.menuTabs)!=null&&a.some(c=>o.includes(c))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>COL_DEF_VALIDATORS},colDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},ALL_PROPERTIES=Object.keys(colDefPropertyMap),COL_DEF_VALIDATORS={objectName:"colDef",allProperties:ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:COLUMN_DEFINITION_DEPRECATIONS,validations:COLUMN_DEFINITION_VALIDATIONS},GRID_OPTION_DEPRECATIONS=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),GRID_OPTION_DEFAULTS={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},GRID_OPTION_VALIDATIONS=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const o=e.rowModelType??"clientSide";switch(o){case"clientSide":{const a=`treeData requires 'getDataPath' in the ${o} row model.`;return e.getDataPath?null:a}case"serverSide":{const a=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${o} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:a}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const o=e.paginationPageSizeSelector;return typeof o=="boolean"||o==null||o.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>COL_DEF_VALIDATORS,defaultColDef:()=>COL_DEF_VALIDATORS,defaultColGroupDef:()=>COL_DEF_VALIDATORS,autoGroupColumnDef:()=>COL_DEF_VALIDATORS,selectionColumnDef:()=>COL_DEF_VALIDATORS}),GRID_OPTIONS_VALIDATORS=()=>({objectName:"gridOptions",allProperties:[...PropertyKeys.ALL_PROPERTIES,...ComponentUtil.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:GRID_OPTION_DEPRECATIONS(),validations:GRID_OPTION_VALIDATIONS()}),ValidationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,GRID_OPTIONS_VALIDATORS())}validateApiFunction(e,o){return validateApiFunction(e,o,this.beans)}processOptions(e,o){const{validations:a,deprecations:c,allProperties:d,propertyExceptions:g,objectName:b,docsUrl:_}=o;d&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...g??[],...Object.keys(c)],d,b,_);const $=new Set;Object.keys(e).forEach(rt=>{const nt=c[rt];if(nt)if("renamed"in nt){const{renamed:Dl,version:Zl}=nt;$.add(`As of v${Zl}, ${String(rt)} is deprecated. Please use ${String(Dl)} instead.`),e[Dl]=e[rt]}else{const{message:Dl,version:Zl}=nt;$.add(`As of v${Zl}, ${String(rt)} is deprecated. ${Dl??""}`)}const In=e[rt];if(In==null||In===!1)return;const xl=a[rt];let Ll;if(xl)if(typeof xl=="function"){const Dl=xl(e,this.gridOptions);if(!Dl)return;if("objectName"in Dl){const Zl=e[rt];if(Array.isArray(Zl)){Zl.forEach(Ju=>{this.processOptions(Ju,Dl)});return}this.processOptions(e[rt],Dl);return}Ll=Dl}else Ll=xl;else return;const{module:Nl,dependencies:_u,validate:Yl,supportedRowModels:Ul}=Ll;if(Ul){const Dl=this.gridOptions.rowModelType??"clientSide";if(!Ul.includes(Dl)){$.add(`${String(rt)} is not supported with the '${Dl}' row model.`);return}}if(Nl){const Dl=Array.isArray(Nl)?Nl:[Nl];let Zl=!0;if(Dl.forEach(Ju=>{this.gos.assertModuleRegistered(Ju,String(rt))||(Zl=!1,$.add(`${String(rt)} is only available when ${Ju} is loaded.`))}),!Zl)return}if(_u){const Dl=this.checkForRequiredDependencies(rt,_u,e);if(Dl){$.add(Dl);return}}if(Yl){const Dl=Yl(e,this.gridOptions);if(Dl){$.add(Dl);return}}}),$.size>0&&$.forEach(rt=>{_warnOnce(rt)})}checkForRequiredDependencies(e,o,a){const d=Object.entries(o).find(([_,$])=>{const j=a[_];return!$.includes(j)});if(!d)return null;const[g,b]=d;return b.length>1?`'${String(e)}' requires '${g}' to be one of [${b.join(", ")}].`:`'${String(e)}' requires '${g}' to be ${b[0]}.`}checkProperties(e,o,a,c,d){const g=["__ob__","__v_skip","__metadata__"],b=_fuzzyCheckStrings(Object.getOwnPropertyNames(e),[...g,...o,...a],a);if(_iterateObject(b,(_,$)=>{let j=`invalid ${c} property '${_}' did you mean any of these: ${$.slice(0,8).join(", ")}.`;a.includes("context")&&(j+=`
If you are trying to annotate ${c} with application data, use the '${c}.context' property instead.`),_warnOnce(j)}),Object.keys(b).length>0&&d){const _=this.getFrameworkOverrides().getDocLink(d);_warnOnce(`to see all the valid ${c} properties please check: ${_}`)}}};function _fuzzyCheckStrings(e,o,a){const c={},d=e.filter(g=>!o.some(b=>b===g));return d.length>0&&d.forEach(g=>c[g]=_fuzzySuggestions({inputValue:g,allSuggestions:a}).values),c}var GridCoreModule={version:VERSION,moduleName:"@ag-grid-community/core"},ValidationsModule={version:VERSION,moduleName:"@ag-grid-community/core-validations",beans:[ValidationService]},CommunityFeaturesModule={version:VERSION,moduleName:"@ag-grid-community/core-community-features",dependantModules:[GridCoreModule,ValidationsModule,EditModule,FilterModule,StateModule,DataTypeModule,AlignedGridsModule,PaginationModule,CommunityApiModule]},GridDestroyService=class extends BeanStub{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,o;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(o=this.beans.ctrlsService.get("gridCtrl"))==null||o.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},ALWAYS_SYNC_GLOBAL_EVENTS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),isSelectionUIEvent=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",PROPERTY_COERCIONS=new Map([...PropertyKeys.BOOLEAN_PROPERTIES.map(e=>[e,toBoolean]),...PropertyKeys.NUMBER_PROPERTIES.map(e=>[e,toNumber]),["groupAggFiltering",e=>typeof e=="function"?e:toBoolean(e)],["pageSize",toConstrainedNum(1)],["autoSizePadding",toConstrainedNum(0)],["keepDetailRowsCount",toConstrainedNum(1)],["rowBuffer",toConstrainedNum(0)],["infiniteInitialRowCount",toConstrainedNum(1)],["cacheOverflowSize",toConstrainedNum(1)],["cacheBlockSize",toConstrainedNum(1)],["serverSideInitialRowCount",toConstrainedNum(1)],["viewportRowModelPageSize",toConstrainedNum(1)],["viewportRowModelBufferSize",toConstrainedNum(0)]]);function getCoercedValue(e,o){const a=PROPERTY_COERCIONS.get(e);return a?a(o):o}function getCoercedGridOptions(e){const o={};return Object.entries(e).forEach(([a,c])=>{const d=getCoercedValue(a,c);o[a]=d}),o}var _GridOptionsService=class hC extends BeanStub{constructor(){super(...arguments),this.beanName="gos",this.gridReadyFired=!1,this.queueEvents=[],this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new LocalEventService,this.globalEventHandlerFactory=o=>(a,c)=>{if(!this.isAlive())return;const d=ALWAYS_SYNC_GLOBAL_EVENTS.has(a);if(d&&!o||!d&&o)return;const g=(b,_)=>{const $=this.gridOptions[ComponentUtil.getCallbackForEvent(b)];typeof $=="function"&&this.frameworkOverrides.wrapOutgoing(()=>$(_))};if(this.gridReadyFired)g(a,c);else if(a==="gridReady"){g(a,c),this.gridReadyFired=!0;for(const b of this.queueEvents)g(b.eventName,b.event);this.queueEvents=[]}else this.queueEvents.push({eventName:a,event:c})}}wireBeans(o){this.gridOptions=o.gridOptions,this.eGridDiv=o.eGridDiv,this.validationService=o.validationService,this.environment=o.environment,this.api=o.gridApi,this.gridId=o.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const o=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),o),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:a})=>{this.updateGridOptions({options:a,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(o){return this.gridOptions[o]??GRID_OPTION_DEFAULTS[o]}getCallback(o){return this.mergeGridCommonParams(this.gridOptions[o])}exists(o){return _exists(this.gridOptions[o])}mergeGridCommonParams(o){return o&&(c=>{const d=c;return d.api=this.api,d.context=this.gridOptionsContext,o(d)})}updateGridOptions({options:o,force:a,source:c="api"}){var b;const d={id:hC.changeSetId++,properties:[]},g=[];Object.entries(o).forEach(([_,$])=>{c==="api"&&INITIAL_GRID_OPTION_KEYS[_]&&_warnOnce(`${_} is an initial property and cannot be updated.`);const j=getCoercedValue(_,$),rt=a||typeof j=="object"&&c==="api",nt=this.gridOptions[_];if(rt||nt!==j){this.gridOptions[_]=j;const In={type:_,currentValue:j,previousValue:nt,changeSet:d,source:c};g.push(In)}}),(b=this.validationService)==null||b.processGridOptions(this.gridOptions),d.properties=g.map(_=>_.type),g.forEach(_=>{this.gridOptions.debug&&_log(`Updated property ${_.type} from`,_.previousValue," to ",_.currentValue),this.propertyEventService.dispatchEvent(_)})}addPropertyEventListener(o,a){this.propertyEventService.addEventListener(o,a)}removePropertyEventListener(o,a){this.propertyEventService.removeEventListener(o,a)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(o){const a=o;return a.api=this.api,a.context=this.gridOptionsContext,a}assertModuleRegistered(o,a){return ModuleRegistry.__assertRegistered(o,a,this.gridId)}isModuleRegistered(o){return ModuleRegistry.__isRegistered(o,this.gridId)}};_GridOptionsService.changeSetId=0;var GridOptionsService=_GridOptionsService,HeaderPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,o){let a,c;if(isColumnGroup(e.column)?a=this.visibleColsService.getGroupAtDirection(e.column,o):(c=`getCol${o}`,a=this.visibleColsService[c](e.column)),!a)return;const{headerRowIndex:d}=e;if(this.getHeaderRowType(d)!=="filter"){const _=[a];for(;a.getParent();)a=a.getParent(),_.push(a);a=_[_.length-1-d]}const{column:g,headerRowIndex:b}=this.getHeaderIndexToFocus(a,d);return{column:g,headerRowIndex:b}}getHeaderIndexToFocus(e,o){let a;if(isColumnGroup(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const c=e;a=c.getLeafColumns()[0];let d=a;for(;d!==c;)o++,d=d.getParent()}return{column:a||e,headerRowIndex:o}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(o=>o.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,o){const a=this.getHeaderRowType(o),c=a==="filter",d=a==="column";let g=c?e:e.getParent(),b=o-1,_=b;if(d&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;g&&g.isPadding();)g=g.getParent(),b--;_=b,b<0&&(g=e,b=o,_=void 0)}return{column:g,headerRowIndex:b,headerRowIndexWithoutSpan:_}}getColumnVisibleChild(e,o,a="After"){const c=this.getHeaderRowType(o);let d=e,g=o+1;const b=g;if(c==="group"){const _=e.getDisplayedLeafColumns(),$=a==="After"?_[0]:_last(_),j=[];let rt=$;for(;rt.getParent()!==e;)rt=rt.getParent(),j.push(rt);if(d=$,$.isSpanHeaderHeight())for(let nt=j.length-1;nt>=0;nt--){const In=j[nt];if(!In.isPadding()){d=In;break}g++}else d=_last(j),d||(d=$)}return{column:d,headerRowIndex:g,headerRowIndexWithoutSpan:b}}getHeaderRowType(e){const o=this.ctrlsService.getHeaderRowContainerCtrl();if(o)return o.getRowType(e)}findColAtEdgeForHeaderRow(e,o){const a=this.visibleColsService.getAllCols(),c=a[o==="start"?0:a.length-1];if(!c)return;const d=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()),g=d==null?void 0:d.getRowType(e);if(g=="group"){const b=this.visibleColsService.getColGroupAtLevel(c,e);return{headerRowIndex:e,column:b}}return{headerRowIndex:g==null?-1:e,column:c}}},LocaleService=class extends BeanStub{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(a,c,d)=>e({key:a,defaultValue:c,variableValues:d});const o=this.gos.get("localeText");return(a,c,d)=>{let g=o&&o[a];if(g&&d&&d.length){let b=0;for(;!(b>=d.length||g.indexOf("${variable}")===-1);)g=g.replace("${variable}",d[b++])}return g??c}}},ApiEventService=class extends BeanStub{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new FrameworkEventListenerService(this.getFrameworkOverrides())}addEventListener(e,o){const a=this.frameworkEventWrappingService.wrap(e,o),c=_useAsyncEvents(this.gos)&&!ALWAYS_SYNC_GLOBAL_EVENTS.has(e),d=c?this.asyncEventListeners:this.syncEventListeners;d.has(e)||d.set(e,new Set),d.get(e).add(a),this.eventService.addEventListener(e,a,c)}removeEventListener(e,o){var g;const a=this.frameworkEventWrappingService.unwrap(e,o),c=this.asyncEventListeners.get(e),d=!!(c!=null&&c.delete(a));d||(g=this.syncEventListeners.get(e))==null||g.delete(a),this.eventService.removeEventListener(e,a,d)}addGlobalListener(e){const o=this.frameworkEventWrappingService.wrapGlobal(e);if(_useAsyncEvents(this.gos)){const c=(g,b)=>{ALWAYS_SYNC_GLOBAL_EVENTS.has(g)&&o(g,b)},d=(g,b)=>{ALWAYS_SYNC_GLOBAL_EVENTS.has(g)||o(g,b)};this.globalEventListenerPairs.set(e,{syncListener:c,asyncListener:d}),this.eventService.addGlobalListener(c,!1),this.eventService.addGlobalListener(d,!0)}else this.syncGlobalEventListeners.add(o),this.eventService.addGlobalListener(o,!1)}removeGlobalListener(e){const o=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(o)){const{syncListener:c,asyncListener:d}=this.globalEventListenerPairs.get(o);this.eventService.removeGlobalListener(c,!1),this.eventService.removeGlobalListener(d,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(o),this.eventService.removeGlobalListener(o,!1)}destroyEventListeners(e,o){e.forEach((a,c)=>{a.forEach(d=>this.eventService.removeEventListener(c,d,o)),a.clear()}),e.clear()}destroyGlobalListeners(e,o){e.forEach(a=>this.eventService.removeGlobalListener(a,o)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:o})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(o,!0)}),this.globalEventListenerPairs.clear()}},PageBoundsListener=class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},PageBoundsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return _missing(this.topRowBounds)||_missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,o=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:o}}calculateBounds(e,o){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(o),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=o),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=_exists(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},AriaAnnouncementService=class extends BeanStub{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=_debounce(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=_getDocument(this.gos),o=this.descriptionContainer=e.createElement("div");o.classList.add("ag-aria-description-container"),_setAriaLive(o,"polite"),_setAriaRelevant(o,"additions text"),_setAriaAtomic(o,!0),this.eGridDiv.appendChild(o)}announceValue(e,o){this.pendingAnnouncements.set(o,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(_clearElement(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},ColumnAnimationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,o){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),o();return}const a=c=>{for(;c.length;){const d=c.pop();d&&d()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),a(this.executeNextFuncs)},0),window.setTimeout(()=>{o(),a(this.executeLaterFuncs)},200)})}},ColumnHoverService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},OverlayService=class extends BeanStub{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=_isClientSideRowModel(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){_warnOnce("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,o,a){var d;const c=e.newAgStackInstance();(d=this.overlayWrapperComp)==null||d.showOverlay(c,o,this.isExclusive(),a),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const o=this.ctrlsService.get("gridHeaderCtrl");e=(o==null?void 0:o.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},RowCssClassCalculator=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const o=[];return _exists(e.extraCssClass)&&o.push(e.extraCssClass),o.push("ag-row"),o.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&o.push("ag-opacity-zero"),o.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&o.push("ag-row-pinned"),e.rowNode.isSelected()&&o.push("ag-row-selected"),e.rowNode.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&o.push("ag-row-loading"),e.fullWidthRow&&o.push("ag-full-width-row"),e.expandable&&(o.push("ag-row-group"),o.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&o.push("ag-row-dragging"),_pushAll(o,this.processClassesFromGridOptions(e.rowNode)),_pushAll(o,this.preProcessRowClassRules(e.rowNode)),o.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&o.push("ag-row-first"),e.lastRowOnPage&&o.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&o.push("ag-cell-last-left-pinned"),e.pinned==="right"&&o.push("ag-cell-first-right-pinned")),o}processClassesFromGridOptions(e){const o=[],a=g=>{typeof g=="string"?o.push(g):Array.isArray(g)&&g.forEach(b=>o.push(b))},c=this.gos.get("rowClass");if(c){if(typeof c=="function")return _warnOnce("rowClass should not be a function, please use getRowClass instead"),[];a(c)}const d=this.gos.getCallback("getRowClass");if(d){const g={data:e.data,node:e,rowIndex:e.rowIndex},b=d(g);a(b)}return o}preProcessRowClassRules(e){const o=[];return this.processRowClassRules(e,a=>{o.push(a)},()=>{}),o}processRowClassRules(e,o,a){const c=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),c,o,a)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},RowContainerHeightService=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=_getMaxDivHeight(),this.gos.get("debug")&&_log("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,a=this.getUiBodyHeight();(o!==this.scrollY||a!==this.uiBodyHeight)&&(this.scrollY=o,this.uiBodyHeight=a,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,o=e*this.pixelsToShave;this.gos.get("debug")&&_log(`RowContainerHeightService - Div Stretch Offset = ${o} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(o)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const o=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==o&&(this.divStretchOffset=o,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return o.bottom-o.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const o=this.modelHeight-this.getUiBodyHeight(),a=e/o;return this.maxScrollY*a}},RowNodeSorter=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(this.gos))}doFullSort(e,o){const a=(d,g)=>({currentPos:g,rowNode:d}),c=e.map(a);return c.sort(this.compareRowNodes.bind(this,o)),c.map(d=>d.rowNode)}compareRowNodes(e,o,a){const c=o.rowNode,d=a.rowNode;for(let g=0,b=e.length;g<b;g++){const _=e[g],$=_.sort==="desc",j=this.getValue(c,_.column),rt=this.getValue(d,_.column);let nt;const In=this.getComparator(_,c);if(In?nt=In(j,rt,c,d,$):nt=_defaultComparator(j,rt,this.isAccentedSort),!isNaN(nt)&&nt!==0)return _.sort==="asc"?nt:nt*-1}return o.currentPos-a.currentPos}getComparator(e,o){const a=e.column,c=a.getColDef().comparator;if(c!=null)return c;if(!a.getColDef().showRowGroup)return;const d=!o.group&&a.getColDef().field;if(!d)return;const g=this.columnModel.getColDefCol(d);if(g)return g.getColDef().comparator}getValue(e,o){var c,d,g;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(o,e,!1,!1);if(e.rowGroupColumn===o){if(_isGroupUseEntireRow(this.gos,this.columnModel.isPivotActive())){const $=(c=e.allLeafChildren)==null?void 0:c[0];return $?this.valueService.getValue(o,$,!1,!1):void 0}const _=(d=this.showRowGroupColsService)==null?void 0:d.getShowRowGroupCol(o.getId());return _?(g=e.groupData)==null?void 0:g[_.getId()]:void 0}if(!(e.group&&o.getColDef().showRowGroup))return this.valueService.getValue(o,e,!1,!1)}},ChangedPath=class{constructor(e,o){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:o,children:null},this.mapToItems[o.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,o){if(e.children)for(let a=0;a<e.children.length;a++)this.depthFirstSearchChangedPath(e.children[a],o);o(e.rowNode)}depthFirstSearchEverything(e,o,a){if(e.childrenAfterGroup)for(let c=0;c<e.childrenAfterGroup.length;c++){const d=e.childrenAfterGroup[c];d.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[c],o,a):a&&o(d)}o(e)}forEachChangedNodeDepthFirst(e,o=!1,a=!1){this.active&&!a?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,o)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let o=e,a=0;for(;!this.mapToItems[o.id];){const c={rowNode:o,children:null};this.mapToItems[o.id]=c,a++,o=o.parent}return a}populateColumnsMap(e,o){if(!this.keepingColumns||!o)return;let a=e;for(;a;)this.nodeIdsToColumns[a.id]||(this.nodeIdsToColumns[a.id]={}),o.forEach(c=>this.nodeIdsToColumns[a.id][c.getId()]=!0),a=a.parent}linkPathItems(e,o){let a=e;for(let c=0;c<o;c++){const d=this.mapToItems[a.id],g=this.mapToItems[a.parent.id];g.children||(g.children=[]),g.children.push(d),a=a.parent}}addParentNode(e,o){if(!e||e.isRowPinned())return;const a=this.createPathItems(e);this.linkPathItems(e,a),this.populateColumnsMap(e,o)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,o){if(!this.keepingColumns)return o;const a=this.nodeIdsToColumns[e.id];return o.filter(d=>a[d.getId()])}getNotValueColumnsForNode(e,o){if(!this.keepingColumns)return null;const a=this.nodeIdsToColumns[e.id];return o.filter(d=>!a[d.getId()])}},SelectionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new RowRangeSelectionContext,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:o,onRowSelected:a}=this;this.selectionCtx.init(o),this.rowSelectionMode=_getRowSelectionMode(e),this.groupSelectsChildren=_getGroupSelectsDescendants(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const c=_getGroupSelectsDescendants(e),d=_getRowSelectionMode(e);(c!==this.groupSelectsChildren||d!==this.rowSelectionMode)&&(this.groupSelectsChildren=c,this.rowSelectionMode=d,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:a.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,o){if(!isSelectionUIEvent(o))return e;const a=this.selectionCtx.getRoot();return a?a.isSelected()??!1:!0}setNodesSelected(e){var nt;const{newValue:o,clearSelection:a,suppressFinishActions:c,rangeSelect:d,nodes:g,event:b,source:_}=e;if(g.length===0)return 0;if(g.length>1&&!this.isMultiSelect())return _warnOnce("cannot multi select unless selection mode is 'multiRow'"),0;const $=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,j=g.map(In=>In.footer?In.sibling:In);if(d){if(j.length>1)return _warnOnce("cannot range select while selecting multiple rows"),0;const In=j[0],xl=this.overrideSelectionValue(o,_);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(In)){const Ll=this.selectionCtx.truncate(In);return xl&&this.selectRange(Ll.discard,!1,_),this.selectRange(Ll.keep,xl,_)}else if(this.selectionCtx.getRoot()!==In){const _u=this.selectionCtx.extend(In,this.groupSelectsChildren);return xl&&this.selectRange(_u.discard,!1,_),this.selectRange(_u.keep,xl,_)}}}c||this.selectionCtx.setRoot(j[0]);let rt=0;for(let In=0;In<j.length;In++){const xl=j[In];$&&xl.group||xl.selectThisNode(o,b,_)&&rt++,this.groupSelectsChildren&&((nt=xl.childrenAfterGroup)!=null&&nt.length)&&(rt+=this.selectChildren(xl,o,$,_))}return c||(o&&(a||!this.isMultiSelect())&&(rt+=this.clearOtherNodes(j[0],_)),rt>0&&(this.updateGroupsFromChildrenSelections(_),this.dispatchSelectionChanged(_))),rt}selectRange(e,o,a){let c=0;return e.forEach(d=>{if(d.group&&this.groupSelectsChildren)return;d.selectThisNode(o,void 0,a)&&c++}),c>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a)),c}selectChildren(e,o,a,c){const d=a?e.childrenAfterAggFilter:e.childrenAfterGroup;return _missing(d)?0:this.setNodesSelected({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:a,source:c,nodes:d})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(o=>{o&&e.push(o)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(o=>{o&&o.data&&e.push(o.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const o=new Map;this.selectedNodes.forEach((a,c)=>{a&&e(a)&&o.set(c,a)}),this.selectedNodes=o}updateGroupsFromChildrenSelections(e,o){if(!this.groupSelectsChildren||!_isClientSideRowModel(this.gos))return!1;const c=this.rowModel.getRootNode();o||(o=new ChangedPath(!0,c),o.setInactive());let d=!1;return o.forEachChangedNodeDepthFirst(g=>{if(g!==c){const b=g.calculateSelectedFromChildren();d=g.selectThisNode(b===null?!1:b,void 0,e)||d}}),d}clearOtherNodes(e,o){const a=new Map;let c=0;return this.selectedNodes.forEach(d=>{if(d&&d.id!==e.id){const g=this.selectedNodes.get(d.id);c+=g.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:o}),this.groupSelectsChildren&&d.parent&&a.set(d.parent.id,d.parent)}}),a.forEach(d=>{const g=d.calculateSelectedFromChildren();d.selectThisNode(g===null?!1:g,void 0,o)}),c}onRowSelected(e){const o=e.node;this.groupSelectsChildren&&o.group||(o.isSelected()?this.selectedNodes.set(o.id,o):this.selectedNodes.delete(o.id))}syncInRowNode(e,o){this.syncInOldRowNode(e,o),this.syncInNewRowNode(e)}syncInOldRowNode(e,o){if(_exists(o)&&e.id!==o.id&&o){const c=o.id;this.selectedNodes.get(c)==e&&this.selectedNodes.set(o.id,o)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const o=this.getSelectionCount();this.resetNodes(),o&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!_isClientSideRowModel(this.gos))return;const o=this.rowModel.getTopLevelNodes();if(o===null)return;const a=[];function c(d){for(let g=0,b=d.length;g<b;g++){const _=d[g];if(_.isSelected())a.push(_);else{const $=_;$.group&&$.children&&c($.children)}}}return c(o),a}isEmpty(){let e=0;return this.selectedNodes.forEach(o=>{o&&e++}),e===0}deselectAllRowNodes(e){const o=b=>b.selectThisNode(!1,void 0,c),a=_isClientSideRowModel(this.gos),{source:c,justFiltered:d,justCurrentPage:g}=e;if(g||d){if(!a){_errorOnce("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(d,g).forEach(o)}else this.selectedNodes.forEach(b=>{b&&o(b)}),this.reset(c);this.selectionCtx.reset(),a&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(c),this.dispatchSelectionChanged(c)}getSelectedCounts(e,o){let a=0,c=0;const d=g=>{this.groupSelectsChildren&&g.group||(g.isSelected()?a++:g.selectable&&c++)};return this.getNodesToSelect(e,o).forEach(d),{selectedCount:a,notSelectedCount:c}}getSelectAllState(e,o){const{selectedCount:a,notSelectedCount:c}=this.getSelectedCounts(e,o);return a===0&&c===0?!1:a>0&&c>0?null:a>0}hasNodesToSelect(e=!1,o=!1){return this.getNodesToSelect(e,o).filter(a=>a.selectable).length>0}getNodesToSelect(e=!1,o=!1){this.validateSelectAllType();const a=[];if(o)return this.forEachNodeOnPage(d=>{if(!d.group){a.push(d);return}if(!d.expanded){const g=b=>{var _;a.push(b),(_=b.childrenAfterFilter)!=null&&_.length&&b.childrenAfterFilter.forEach(g)};g(d);return}this.groupSelectsChildren||a.push(d)}),a;const c=this.rowModel;return e?(c.forEachNodeAfterFilter(d=>{a.push(d)}),a):(c.forEachNode(d=>{a.push(d)}),a)}forEachNodeOnPage(e){const o=this.pageBoundsService.getFirstRow(),a=this.pageBoundsService.getLastRow();for(let c=o;c<=a;c++){const d=this.rowModel.getRow(c);d&&e(d)}}selectAllRowNodes(e){if(_isUsingNewRowSelectionAPI(this.gos)&&!_isMultiRowSelection(this.gos))return _warnOnce("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:o,justFiltered:a,justCurrentPage:c}=e,d=this.getNodesToSelect(a,c);d.forEach(g=>g.selectThisNode(!0,void 0,o)),this.selectionCtx.setRoot(d[0]??null),this.selectionCtx.setEndRange(_last(d)??null),_isClientSideRowModel(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o)}getSelectionState(){const e=[];return this.selectedNodes.forEach(o=>{o!=null&&o.id&&e.push(o.id)}),e.length?e:null}setSelectionState(e,o){if(!Array.isArray(e))return _errorOnce("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const a=new Set(e),c=[];this.rowModel.forEachNode(d=>{a.has(d.id)&&c.push(d)}),this.setNodesSelected({newValue:!0,nodes:c,source:o})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!_isClientSideRowModel(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},SelectableService=class extends BeanStub{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:o}=this,a=_isRowSelection(o),c=_getIsRowSelectable(o);if(!a||!c)return;const d=_getGroupSelectsDescendants(o),g=_isClientSideRowModel(o)&&d,b=[],_=$=>{if(e&&!$.group)return;if(g&&$.group){const rt=$.childrenAfterGroup.some(nt=>nt.selectable===!0);$.setRowSelectable(rt,!0);return}const j=(c==null?void 0:c($))??!0;$.setRowSelectable(j,!0),!j&&$.isSelected()&&b.push($)};if(g){const $=this.rowModel;new ChangedPath(!1,$.getRootNode()).forEachChangedNodeDepthFirst(_,!0,!0)}else this.rowModel.forEachNode(_);b.length&&this.selectionService.setNodesSelected({nodes:b,newValue:!1,source:"selectableChanged"}),g&&this.selectionService instanceof SelectionService&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},DEFAULT_SORTING_ORDER=["asc","desc",null],SortController=class extends BeanStub{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,o,a){const c=this.getNextSortDirection(e);this.setSortForColumn(e,c,o,a)}setSortForColumn(e,o,a,c){o!=="asc"&&o!=="desc"&&(o=null);const d=_isColumnsSortingCoupledToGroup(this.gos);let g=[e];if(d&&e.getColDef().showRowGroup){const $=this.funcColsService.getSourceColumnsForGroupColumn(e),j=$==null?void 0:$.filter(rt=>rt.isSortable());j&&(g=[e,...j])}g.forEach($=>$.setSort(o,c));const b=(a||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),_=[];if(!b){const $=this.clearSortBarTheseColumns(g,c);_.push(...$)}this.updateSortIndex(e),_.push(...g),this.dispatchSortChangedEvents(c,_)}updateSortIndex(e){var _;const o=_isColumnsSortingCoupledToGroup(this.gos),a=(_=this.showRowGroupColsService)==null?void 0:_.getShowRowGroupCol(e.getId()),c=o&&a||e,d=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach($=>$.setSortIndex(null));const g=d.filter($=>o&&$.getColDef().showRowGroup?!1:$!==c);(c.getSort()?[...g,c]:g).forEach(($,j)=>{$.setSortIndex(j)})}onSortChanged(e,o){this.dispatchSortChangedEvents(e,o)}isSortActive(){const o=this.columnModel.getAllCols().filter(a=>!!a.getSort());return o&&o.length>0}dispatchSortChangedEvents(e,o){const a={type:"sortChanged",source:e};o&&(a.columns=o),this.eventService.dispatchEvent(a)}clearSortBarTheseColumns(e,o){const a=[];return this.columnModel.getAllCols().forEach(c=>{e.includes(c)||(c.getSort()&&a.push(c),c.setSort(void 0,o))}),a}getNextSortDirection(e){let o;if(e.getColDef().sortingOrder?o=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?o=this.gos.get("sortingOrder"):o=DEFAULT_SORTING_ORDER,!Array.isArray(o)||o.length<=0)return _warnOnce(`sortingOrder must be an array with at least one element, currently it's ${o}`),null;const a=o.indexOf(e.getSort()),c=a<0,d=a==o.length-1;let g;return c||d?g=o[0]:g=o[a+1],DEFAULT_SORTING_ORDER.indexOf(g)<0?(_warnOnce("invalid sort type ",g),null):g}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(g=>!!g.getSort());if(this.columnModel.isPivotMode()){const g=_isColumnsSortingCoupledToGroup(this.gos);e=e.filter(b=>{var rt;const _=!!b.getAggFunc(),$=!b.isPrimary(),j=g?(rt=this.showRowGroupColsService)==null?void 0:rt.getShowRowGroupCol(b.getId()):b.getColDef().showRowGroup;return _||$||j})}const o=this.funcColsService.getRowGroupColumns().filter(g=>!!g.getSort()),a={};e.forEach((g,b)=>a[g.getId()]=b),e.sort((g,b)=>{const _=g.getSortIndex(),$=b.getSortIndex();if(_!=null&&$!=null)return _-$;if(_==null&&$==null){const j=a[g.getId()],rt=a[b.getId()];return j>rt?1:-1}else return $==null?-1:1});const c=_isColumnsSortingCoupledToGroup(this.gos)&&!!o.length;c&&(e=[...new Set(e.map(g=>{var b;return((b=this.showRowGroupColsService)==null?void 0:b.getShowRowGroupCol(g.getId()))??g}))]);const d=new Map;return e.forEach((g,b)=>d.set(g,b)),c&&o.forEach(g=>{const b=this.showRowGroupColsService.getShowRowGroupCol(g.getId());d.set(g,d.get(b))}),d}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,o],[a,c])=>o-c).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const o=_isColumnsSortingCoupledToGroup(this.gos),a=!!e.getColDef().showRowGroup;return o&&a}getDisplaySortForColumn(e){const o=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(o!=null&&o.length))return e.getSort();const c=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...o]:o,d=c[0].getSort();return c.every(b=>b.getSort()==d)?d:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},SyncService=class extends BeanStub{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&_log(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const o=this.gos.get("columnDefs");if(o){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(o);return}this.columnModel.setColumnDefs(o,convertSourceType(e.source))}}},SOURCE_PASTE="paste",ChangeDetectionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){_isClientSideRowModel(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,o){if(this.gos.get("suppressChangeDetection"))return;const a=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const c=this.gos.get("aggregateOnlyChangedColumns"),d=new ChangedPath(c,this.clientSideRowModel.getRootNode());d.addParentNode(e.parent,[o]),this.clientSideRowModel.doAggregate(d),d.forEachChangedNodeDepthFirst(g=>{a.push(g)})}this.rowRenderer.refreshCells({rowNodes:a})}},ExpressionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,o){if(typeof e=="string")return this.evaluateExpression(e,o);_errorOnce("value should be either a string or a function",e)}evaluateExpression(e,o){try{return this.createExpressionFunction(e)(o.value,o.context,o.oldValue,o.newValue,o.value,o.node,o.data,o.colDef,o.rowIndex,o.api,o.getValue,o.column,o.columnGroup)}catch(a){return _log("Processing of the expression failed"),_log("Expression = ",e),_log("Params = ",o),_log("Exception = ",a),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const o=this.createFunctionBody(e),a=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",o);return this.expressionToFunctionCache[e]=a,a}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},ValueCache=class extends BeanStub{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,o,a){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[o]=a)}getValue(e,o){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[o]}},ValueService=class extends BeanStub{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=_isServerSideRowModel(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=a=>this.callColumnCellValueChangedHandler(a),o=_useAsyncEvents(this.gos);this.eventService.addEventListener("cellValueChanged",e,o),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,o)),this.addManagedPropertyListener("treeData",a=>this.isTreeData=a.currentValue)}getValueForDisplay(e,o){const a=o.leafGroup&&this.columnModel.isPivotMode(),c=o.group&&o.expanded&&!o.footer&&!a,d=this.gos.get("groupSuppressBlankHeader");if(!c||d)return this.getValue(e,o);let g=!1;const b=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof b!="function"?g=!!b:g=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const _=c&&g;return this.getValue(e,o,!1,_)}getValue(e,o,a=!1,c=!1){if(this.initialised||this.init(),!o)return;const d=e.getColDef(),g=d.field,b=e.getColId(),_=o.data;let $;const j=o.groupData&&o.groupData[b]!==void 0,rt=!c&&o.aggData&&o.aggData[b]!==void 0,nt=this.isSsrm&&c&&!!e.getColDef().aggFunc,In=this.isSsrm&&o.footer&&o.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===o.field);if(a&&d.filterValueGetter?$=this.executeFilterValueGetter(d.filterValueGetter,_,e,o):this.isTreeData&&rt?$=o.aggData[b]:this.isTreeData&&d.valueGetter?$=this.executeValueGetter(d.valueGetter,_,e,o):this.isTreeData&&g&&_?$=_getValueUsingField(_,g,e.isFieldContainsDots()):j?$=o.groupData[b]:rt?$=o.aggData[b]:d.valueGetter?$=this.executeValueGetter(d.valueGetter,_,e,o):In?$=_getValueUsingField(_,o.field,e.isFieldContainsDots()):g&&_&&!nt&&($=_getValueUsingField(_,g,e.isFieldContainsDots())),this.cellExpressions&&typeof $=="string"&&$.indexOf("=")===0){const xl=$.substring(1);$=this.executeValueGetter(xl,_,e,o)}if($==null){const xl=this.getOpenedGroup(o,e);if(xl!=null)return xl}return $}parseValue(e,o,a,c){const d=e.getColDef(),g=d.valueParser;if(_exists(g)){const b=this.gos.addGridCommonParams({node:o,data:o==null?void 0:o.data,oldValue:c,newValue:a,colDef:d,column:e});return typeof g=="function"?g(b):this.expressionService.evaluate(g,b)}return a}getDeleteValue(e,o){return _exists(e.getColDef().valueParser)?this.parseValue(e,o,"",this.getValueForDisplay(e,o))??null:null}formatValue(e,o,a,c,d=!0){let g=null,b;const _=e.getColDef();if(c?b=c:d&&(b=_.valueFormatter),b){const $=this.gos.addGridCommonParams({value:a,node:o,data:o?o.data:null,colDef:_,column:e});typeof b=="function"?g=b($):g=this.expressionService.evaluate(b,$)}else if(_.refData)return _.refData[a]||"";return g==null&&Array.isArray(a)&&(g=a.join(", ")),g}getOpenedGroup(e,o){if(!this.gos.get("showOpenedGroup")||!o.getColDef().showRowGroup)return;const c=o.getColDef().showRowGroup;let d=e.parent;for(;d!=null;){if(d.rowGroupColumn&&(c===!0||c===d.rowGroupColumn.getColId()))return d.key;d=d.parent}}setValue(e,o,a,c){const d=this.columnModel.getColDefCol(o);if(!e||!d)return!1;_missing(e.data)&&(e.data={});const{field:g,valueSetter:b}=d.getColDef();if(_missing(g)&&_missing(b))return _warnOnce("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(d,a))return _warnOnce("Data type of the new value does not match the cell data type of the column"),!1;const _=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(d,e),newValue:a,colDef:d.getColDef(),column:d});_.newValue=a;let $;if(_exists(b)?typeof b=="function"?$=b(_):$=this.expressionService.evaluate(b,_):$=this.setValueUsingField(e.data,g,a,d.isFieldContainsDots()),$===void 0&&($=!0),!$)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const j=this.getValue(d,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:_.column,colDef:_.colDef,data:e.data,node:e,oldValue:_.oldValue,newValue:j,value:j,source:c}),!0}callColumnCellValueChangedHandler(e){const o=e.colDef.onCellValueChanged;typeof o=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{o({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,o,a,c){if(!o)return!1;let d=!1;if(!c)d=e[o]===a,d||(e[o]=a);else{const g=o.split(".");let b=e;for(;g.length>0&&b;){const _=g.shift();g.length===0?(d=b[_]===a,d||(b[_]=a)):b=b[_]}}return!d}executeFilterValueGetter(e,o,a,c){const d=this.gos.addGridCommonParams({data:o,node:c,column:a,colDef:a.getColDef(),getValue:this.getValueCallback.bind(this,c)});return typeof e=="function"?e(d):this.expressionService.evaluate(e,d)}executeValueGetter(e,o,a,c){const d=a.getColId(),g=this.valueCache.getValue(c,d);if(g!==void 0)return g;const b=this.gos.addGridCommonParams({data:o,node:c,column:a,colDef:a.getColDef(),getValue:this.getValueCallback.bind(this,c)});let _;return typeof e=="function"?_=e(b):_=this.expressionService.evaluate(e,b),this.valueCache.setValue(c,d,_),_}getValueCallback(e,o){const a=this.columnModel.getColDefCol(o);return a?this.getValue(a,e):null}getKeyForNode(e,o){const a=this.getValue(e,o),c=e.getColDef().keyCreator;let d=a;if(c){const g=this.gos.addGridCommonParams({value:a,colDef:e.getColDef(),column:e,node:o,data:o.data});d=c(g)}return typeof d=="string"||d==null||(d=String(d),d==="[object Object]"&&_warnOnce("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),d}},_GlobalGridOptions=class c3{static applyGlobalGridOptions(o){if(!c3.gridOptions)return o;let a={};return _mergeDeep(a,c3.gridOptions,!0,!0),c3.mergeStrategy==="deep"?_mergeDeep(a,o,!0,!0):a={...a,...o},c3.gridOptions.context&&(a.context=c3.gridOptions.context),o.context&&(c3.mergeStrategy==="deep"&&a.context&&_mergeDeep(o.context,a.context,!0,!0),a.context=o.context),a}};_GlobalGridOptions.gridOptions=void 0;_GlobalGridOptions.mergeStrategy="shallow";var GlobalGridOptions=_GlobalGridOptions;function provideGlobalGridOptions(e,o="shallow"){GlobalGridOptions.gridOptions=e,GlobalGridOptions.mergeStrategy=o}function _getGlobalGridOption(e){var o;return(o=GlobalGridOptions.gridOptions)==null?void 0:o[e]}function createGrid(e,o,a){if(!o)return _errorOnce("No gridOptions provided to createGrid"),{};const c=new GridCoreCreator().create(e,o,d=>{const g=new GridComp$1(e);d.createBean(g)},void 0,a);if(!Object.isFrozen(o)&&!(a!=null&&a.frameworkOverrides)){const d="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(o,"api",{get:()=>{_errorOnce(`gridOptions.api is no longer supported. See ${d}.`)},configurable:!0})}return c}var Grid=class{constructor(e,o,a){if(_warnOnce("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!o){_errorOnce("No gridOptions provided to the grid");return}this.gridOptions=o;const c=new GridCoreCreator().create(e,o,d=>{const g=new GridComp$1(e);d.createBean(g).addDestroyFunc(()=>{this.destroy()})},void 0,a);this.gridOptions.api=c}destroy(){var e;this.gridOptions&&((e=this.gridOptions.api)==null||e.destroy(),delete this.gridOptions.api)}},nextGridId=1,GridCoreCreator=class{create(e,o,a,c,d){const g=GlobalGridOptions.applyGlobalGridOptions(o),b=getCoercedGridOptions(g),_=b.gridId??String(nextGridId++),$=this.getRegisteredModules(d,_),j=this.createBeansList(b.rowModelType,$,_),rt=this.createProvidedBeans(e,b,d);if(!j){_errorOnce("Failed to create grid.");return}const nt={providedBeanInstances:rt,beanClasses:j,gridId:_,beanInitComparator:gridBeanInitComparator,beanDestroyComparator:gridBeanDestroyComparator,derivedBeans:[createGridApi]},In=new Context(nt);return this.registerModuleUserComponents(In,$),this.registerControllers(In,$),this.registerModuleApiFunctions(In,$),a(In),In.getBean("syncService").start(),c&&c(In),In.getBean("gridApi")}registerControllers(e,o){const a=e.getBean("ctrlsFactory");o.forEach(c=>{c.controllers&&c.controllers.forEach(d=>a.register(d))})}getRegisteredModules(e,o){const a=e?e.modules:null,c=ModuleRegistry.__getRegisteredModules(o),d=[],g={},b=(_,$,j)=>{(nt=>{g[nt.moduleName]||(g[nt.moduleName]=!0,d.push(nt),ModuleRegistry.__register(nt,_,j))})($),$.dependantModules&&$.dependantModules.forEach(nt=>b(_,nt,j))};return b(!!(a!=null&&a.length)||!ModuleRegistry.__isPackageBased(),CommunityFeaturesModule,void 0),a&&a.forEach(_=>b(!0,_,o)),c&&c.forEach(_=>b(!ModuleRegistry.__isPackageBased(),_,void 0)),d}registerModuleUserComponents(e,o){const a=this.extractModuleEntity(o,d=>d.userComponents?d.userComponents:[]),c=e.getBean("userComponentRegistry");a.forEach(({name:d,classImp:g,params:b})=>{c.registerDefaultComponent(d,g,b)})}registerModuleApiFunctions(e,o){const a=e.getBean("apiFunctionService");o.forEach(c=>{const d=c.apiFunctions;d&&Object.keys(d).forEach(b=>{a==null||a.addFunction(b,d[b])})})}createProvidedBeans(e,o,a){let c=a?a.frameworkOverrides:null;_missing(c)&&(c=new VanillaFrameworkOverrides);const d={gridOptions:o,eGridDiv:e,globalEventListener:a?a.globalEventListener:null,globalSyncEventListener:a?a.globalSyncEventListener:null,frameworkOverrides:c};return a&&a.providedBeanInstances&&Object.assign(d,a.providedBeanInstances),d}createBeansList(e="clientSide",o,a){const c=o.filter($=>!$.rowModel||$.rowModel===e),d={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!d[e]){_errorOnce("Could not find row model for rowModelType = ",e);return}if(!ModuleRegistry.__assertRegistered(d[e],`rowModelType = '${e}'`,a))return;const g=[RowPositionUtils,CellPositionUtils,HeaderPositionUtils,GridDestroyService,ApiFunctionService,UserComponentRegistry,AgComponentUtils,ComponentMetadataProvider,ResizeObserverService,UserComponentFactory,RowContainerHeightService,HorizontalResizeService,LocaleService,PinnedRowModel,DragService,VisibleColsService,EventService,GridOptionsService,PopupService,SelectionService,ColumnModel,HeaderNavigationService,PageBoundsService,PageBoundsListener,RowRenderer,ExpressionService,ColumnFactory,NavigationService,ValueCache,ValueService,AutoWidthCalculator,StandardMenuFactory,DragAndDropService,FocusService,MouseEventService,Environment,CellNavigationService,StylingService,ScrollVisibleService,SortController,ColumnHoverService,ColumnAnimationService,SelectableService,ChangeDetectionService,AnimationFrameService,ColumnDefFactory,RowCssClassCalculator,RowNodeSorter,CtrlsService,PinnedWidthService,RowNodeEventThrottle,CtrlsFactory,SyncService,OverlayService,ExpansionService,ApiEventService,AriaAnnouncementService,MenuService,ColumnApplyStateService,ColumnEventDispatcher,ColumnMoveService,ColumnAutosizeService,ColumnGetStateService,ColumnGroupStateService,ColumnSizeService,FuncColsService,ColumnNameService,ColumnViewportService,PivotResultColsService,ControlsColService],b=this.extractModuleEntity(c,$=>$.beans?$.beans:[]);g.push(...b);const _=[];return g.forEach($=>{_.indexOf($)<0&&_.push($)}),_}extractModuleEntity(e,o){return[].concat(...e.map(o))}},RowModelHelperService=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function expandAll(e){e.expansionService.expandAll(!0)}function collapseAll(e){e.expansionService.expandAll(!1)}function onRowHeightChanged(e){var c,d;const o=(c=e.rowModelHelperService)==null?void 0:c.getClientSideRowModel(),a=(d=e.rowModelHelperService)==null?void 0:d.getServerSideRowModel();o?o.onRowHeightChanged():a&&a.onRowHeightChanged()}function setRowCount(e,o,a){var g,b;const c=(g=e.rowModelHelperService)==null?void 0:g.getServerSideRowModel();if(c){if(e.funcColsService.isRowGroupEmpty()){c.setRowCount(o,a);return}_errorOnce("setRowCount cannot be used while using row grouping.");return}const d=(b=e.rowModelHelperService)==null?void 0:b.getInfiniteRowModel();if(d){d.setRowCount(o,a);return}}function getCacheBlockState(e){var o;return((o=e.rowNodeBlockLoader)==null?void 0:o.getBlockState())??{}}function isLastRowIndexKnown(e){return e.rowModel.isLastRowIndexKnown()}var CsrmSsrmSharedApiModule={version:VERSION,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll,collapseAll,onRowHeightChanged}},SsrmInfiniteSharedApiModule={version:VERSION,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount,getCacheBlockState,isLastRowIndexKnown}},BaseComponentWrapper=class{wrap(e,o,a=[],c){const d=this.createWrapper(e,c);return o.forEach(g=>{this.createMethod(d,g,!0)}),a.forEach(g=>{this.createMethod(d,g,!1)}),d}createMethod(e,o,a){e.addMethod(o,this.createMethodProxy(e,o,a))}createMethodProxy(e,o,a){return function(){return e.hasMethod(o)?e.callMethod(o,arguments):(a&&_warnOnce("Framework component is missing the method "+o+"()"),null)}}},ChartMappings=class{};ChartMappings.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"};ChartMappings.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"];ChartMappings.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var BarColumnLabelPlacement=(e=>(e.InsideBase="insideBase",e.InsideEnd="insideEnd",e.Center="center",e.OutsideEnd="outsideEnd",e))(BarColumnLabelPlacement||{}),globalObj=typeof commonjsGlobal>"u"?{}:commonjsGlobal;globalObj.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;globalObj.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;globalObj.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;globalObj.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;globalObj.Node=typeof Node>"u"?{}:Node;globalObj.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var ROOT_NODE_ID="ROOT_NODE_ID",TOP_LEVEL=0,ClientSideNodeManager=class{constructor(e,o,a,c,d,g){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=o,this.eventService=a,this.funcColsService=c,this.beans=g,this.selectionService=d,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return _cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){_warnOnce("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const o=this.rootNode,a=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?o.allLeafChildren=e.map((c,d)=>this.createNode(c,this.rootNode,TOP_LEVEL,d)):(o.allLeafChildren=[],o.childrenAfterGroup=[]),a&&(a.childrenAfterFilter=o.childrenAfterFilter,a.childrenAfterGroup=o.childrenAfterGroup,a.childrenAfterAggFilter=o.childrenAfterAggFilter,a.childrenAfterSort=o.childrenAfterSort,a.childrenMapped=o.childrenMapped,a.allLeafChildren=o.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const o={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},a=[];return this.executeRemove(e,o,a),this.executeUpdate(e,o,a),this.executeAdd(e,o),this.updateSelection(a,"rowDataChanged"),o}updateRowOrderFromRowData(e){const o=this.rootNode.allLeafChildren,a=(o==null?void 0:o.length)??0,c=new Map;let d=-1,g=-1;for(let b=0;b<a;++b){const _=o[b],$=_.data;$!==e[b]&&(g<0&&(d=b),g=b,c.set($,_))}if(d<0)return!1;for(let b=d;b<=g;++b){const _=c.get(e[b]);_!==void 0&&(o[b]=_,_.sourceRowIndex=b)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,o){const a=e.length>0;a&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:o}),this.selectionService.updateGroupsFromChildrenSelections(o),a&&this.eventService.dispatchEvent({type:"selectionChanged",source:o})}executeAdd(e,o){const a=e.add;if(_missingOrEmpty(a))return;const c=this.rootNode.allLeafChildren;let d=c.length;if(typeof e.addIndex=="number"&&(d=this.sanitizeAddIndex(e.addIndex),d>0&&this.gos.get("treeData")))for(let $=0;$<c.length;$++){const j=c[$];if((j==null?void 0:j.rowIndex)==d-1){d=$+1;break}}const g=a.map((_,$)=>this.createNode(_,this.rootNode,TOP_LEVEL,d+$));if(d<c.length){const _=c.slice(0,d),$=c.slice(d,c.length),j=_.length+g.length;for(let rt=0,nt=$.length;rt<nt;++rt)$[rt].sourceRowIndex=j+rt;this.rootNode.allLeafChildren=[..._,...g,...$],o.rowsInserted=!0}else this.rootNode.allLeafChildren=c.concat(g);const b=this.rootNode.sibling;b&&(b.allLeafChildren=c),o.rowNodeTransaction.add=g}sanitizeAddIndex(e){var a;const o=((a=this.rootNode.allLeafChildren)==null?void 0:a.length)??0;return e<0||e>=o||Number.isNaN(e)?o:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:o},a){var b,_;const{remove:c}=e;if(_missingOrEmpty(c))return;const d={};c.forEach($=>{const j=this.lookupRowNode($);j&&(j.isSelected()&&a.push(j),j.clearRowTopAndRowIndex(),d[j.id]=!0,delete this.allNodesMap[j.id],o.remove.push(j))}),this.rootNode.allLeafChildren=((b=this.rootNode.allLeafChildren)==null?void 0:b.filter($=>!d[$.id]))??null,(_=this.rootNode.allLeafChildren)==null||_.forEach(($,j)=>{$.sourceRowIndex=j});const g=this.rootNode.sibling;g&&(g.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:o},a){const{update:c}=e;_missingOrEmpty(c)||c.forEach(d=>{const g=this.lookupRowNode(d);g&&(g.updateData(d),!g.selectable&&g.isSelected()&&a.push(g),this.setMasterForRow(g,d,TOP_LEVEL,!1),o.update.push(g))})}lookupRowNode(e){var c;const o=_getRowIdCallback(this.gos);let a;if(o){const d=o({data:e,level:0});if(a=this.allNodesMap[d],!a)return _errorOnce(`could not find row id=${d}, data item was not found for this id`),null}else if(a=(c=this.rootNode.allLeafChildren)==null?void 0:c.find(d=>d.data===e),!a)return _errorOnce("could not find data item as object was not found",e),_errorOnce("Consider using getRowId to help the Grid find matching row data"),null;return a||null}createNode(e,o,a,c){const d=new RowNode(this.beans);return d.sourceRowIndex=c,d.group=!1,this.setMasterForRow(d,e,a,!0),o&&(d.parent=o),d.level=a,d.setDataAndId(e,this.nextId.toString()),this.allNodesMap[d.id]&&_warnOnce(`duplicate node id '${d.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[d.id]=d,this.nextId++,d}setMasterForRow(e,o,a,c){if(this.gos.get("treeData"))e.setMaster(!1),c&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const b=this.gos.get("isRowMaster");b?e.setMaster(b(o)):e.setMaster(!0)}else e.setMaster(!1);if(c){const b=this.funcColsService.getRowGroupColumns(),_=b?b.length:0,$=a+_;e.expanded=e.master?this.isExpanded($):!1}}}isExpanded(e){const o=this.gos.get("groupDefaultExpanded");return o===-1?!0:e<o}},ClientSideRowModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=_debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),o=!this.gos.get("suppressAnimationFrame"),a=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:o});this.addManagedEventListeners({newColumnsLoaded:a,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new RowNode(this.beans),this.nodeManager=new ClientSideNodeManager(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),o=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),a=new Set(["excludeChildrenWhenTreeDataFiltering"]),c=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),d=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),g=new Set(["postSortRows","groupDisplayType","accentedSort"]),b=new Set([]),_=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),$=[...e,...o,...a,...c,...c,...d,...g,...b,..._];this.addManagedPropertyListeners($,j=>{var In;const rt=(In=j.changeSet)==null?void 0:In.properties;if(!rt)return;const nt=xl=>rt.some(Ll=>xl.has(Ll));if(nt(e)){this.setRowData(this.rootNode.allLeafChildren.map(xl=>xl.data));return}if(nt(o)){this.refreshModel({step:"group"});return}if(nt(a)){this.refreshModel({step:"filter"});return}if(nt(c)){this.refreshModel({step:"pivot"});return}if(nt(d)){this.refreshModel({step:"aggregate"});return}if(nt(g)){this.refreshModel({step:"sort"});return}if(nt(b)){this.refreshModel({step:"filter_aggregates"});return}nt(_)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,o,a,c){let d,g=!1;do{d=!1;const b=this.getRowIndexAtPixel(e),_=this.getRowIndexAtPixel(o),$=Math.max(b,a),j=Math.min(_,c);for(let rt=$;rt<=j;rt++){const nt=this.getRow(rt);if(nt.rowHeightEstimated){const In=_getRowHeightForNode(this.gos,nt);nt.setRowHeight(In.height),d=!0,g=!0}}d&&this.setRowTopAndRowIndex()}while(d);return g}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let o=0;const a=new Set,c=_isDomLayout(this.gos,"normal");for(let d=0;d<this.rowsToDisplay.length;d++){const g=this.rowsToDisplay[d];if(g.id!=null&&a.add(g.id),g.rowHeight==null){const b=_getRowHeightForNode(this.gos,g,c,e);g.setRowHeight(b.height,b.estimated)}g.setRowTop(o),g.setRowIndex(d),o+=g.rowHeight}return a}clearRowTopAndRowIndex(e,o){const a=e.isActive(),c=g=>{g&&g.id!=null&&!o.has(g.id)&&g.clearRowTopAndRowIndex()},d=g=>{if(c(g),c(g.detailNode),c(g.sibling),g.hasChildren()&&g.childrenAfterGroup){const b=g.level==-1;a&&!b&&!g.expanded||g.childrenAfterGroup.forEach(d)}};d(this.rootNode)}ensureRowsAtPixel(e,o,a=0){const c=this.getRowIndexAtPixel(o),d=this.getRow(c),g=!this.gos.get("suppressAnimationFrame");if(d===e[0])return!1;const b=this.rootNode.allLeafChildren;return e.forEach(_=>{_removeFromArray(b,_)}),e.forEach((_,$)=>{_insertIntoArray(b,_,Math.max(c+a,0)+$)}),e.forEach((_,$)=>{_.sourceRowIndex=$}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:g,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,o){const a=o!=null?this.getRowIndexAtPixel(o):null,c=a!=null?this.getRow(a):null;if(!c||!e||o==null){this.clearHighlightedRow();return}const d=this.getHighlightPosition(o,c),g=this.isHighlightingCurrentPosition(e,c,d),b=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==c;(g||b)&&(this.clearHighlightedRow(),g)||(c.setHighlighted(d),this.lastHighlightedRow=c)}getHighlightPosition(e,o){if(!o){const d=this.getRowIndexAtPixel(e);if(o=this.getRow(d||0),!o)return 1}const{rowTop:a,rowHeight:c}=o;return e-a<c/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,o,a){if(e===o)return!0;const c=a===0?-1:1;return this.getRow(o.rowIndex+c)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const o=this.rootNode.childrenAfterAggFilter,a=this.rootNode.sibling?1:0;return(o?o.length:0)+a}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let a=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;a-=1}const c=this.rowsToDisplay[this.rowsToDisplay.length-1],d=a>=this.rootNode.childrenAfterSort.length;if(c.footer&&d)return c.rowIndex;let g=this.rootNode.childrenAfterSort[a];if(this.gos.get("groupHideOpenParents"))for(;g.expanded&&g.childrenAfterSort&&g.childrenAfterSort.length>0;)g=g.childrenAfterSort[0];return g.rowIndex}getRowBounds(e){if(_missing(this.rowsToDisplay))return null;const o=this.rowsToDisplay[e];return o?{rowTop:o.rowTop,rowHeight:o.rowHeight}:null}onRowGroupOpened(){const e=_isAnimateRows(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const o=_isAnimateRows(this.gos),c=e.columns.length===0||e.columns.some(d=>d.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:c,keepRenderedRows:!0,animate:o})}onSortChanged(){const e=_isAnimateRows(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const o=_missingOrEmpty(e),a=new ChangedPath(!1,this.rootNode);return o&&a.setInactive(),a}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const o=e.rowNodeTransactions.filter(c=>c.add!=null&&c.add.length>0||c.remove!=null&&c.remove.length>0);return o==null||o.length==0}buildRefreshModelParams(e){let o="group";const a={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(_exists(e)&&(o=a[e]),_missing(o)){_errorOnce(`invalid step ${e}, available steps are ${Object.keys(a).join(", ")}`);return}const c=!this.gos.get("suppressAnimationFrame");return{step:o,keepRenderedRows:!0,keepEditingRows:!0,animate:c}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const o=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!o||this.isSuppressModelUpdateAfterUpdateTransaction(o))return;const a=this.createChangePath(o.rowNodeTransactions);switch(this.isRefreshingModel=!0,o.step){case"group":this.doRowGrouping(o.rowNodeTransactions,a,!!o.rowNodesOrderChanged,!!o.afterColumnsChanged);case"filter":this.doFilter(a);case"pivot":this.doPivot(a);case"aggregate":this.doAggregate(a);case"filter_aggregates":this.doFilterAggregates(a);case"sort":this.doSort(o.rowNodeTransactions,a);case"map":this.doRowsToDisplay()}const c=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(a,c),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:o.animate,keepRenderedRows:o.keepRenderedRows,newData:o.newData,newPage:!1,keepUndoRedoStack:o.keepUndoRedoStack})}isEmpty(){const e=_missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return _missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return _exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,o){let a=!1,c=!1;const d=[],g=_getGroupSelectsDescendants(this.gos);return this.forEachNodeAfterFilterAndSort(b=>{if(c)return;if(a&&(b===o||b===e)&&(c=!0,b.group&&g)){d.push(...b.allLeafChildren);return}if(!a){if(b!==o&&b!==e)return;a=!0}if(!b.group||!g){d.push(b);return}}),d}setDatasource(e){_errorOnce("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let o=0,a=this.rowsToDisplay.length-1;if(e<=0)return 0;if(_last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let d=-1,g=-1;for(;;){const b=Math.floor((o+a)/2),_=this.rowsToDisplay[b];if(this.isRowInPixel(_,e)||(_.rowTop<e?o=b+1:_.rowTop>e&&(a=b-1),d===o&&g===a))return b;d=o,g=a}}isRowInPixel(e,o){const a=e.rowTop,c=e.rowTop+e.rowHeight;return a<=o&&c>o}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((o,a)=>e(o,a))}forEachNode(e,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:o})}forEachNodeAfterFilter(e,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:o})}forEachNodeAfterFilterAndSort(e,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:o})}forEachPivotNode(e,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:o})}recursivelyWalkNodesAndCallback(e){const{nodes:o,callback:a,recursionType:c,includeFooterNodes:d}=e;let{index:g}=e;const b=_=>{var xl;const $=(xl=o[0])==null?void 0:xl.parent;if(!$)return;const j=d&&_getGrandTotalRow(this.gos),rt=_getGroupTotalRowCallback(this.gos),nt=d&&rt({node:$});if($===this.rootNode){j===_&&($.createFooter(),a($.sibling,g++));return}nt===_&&($.createFooter(),a($.sibling,g++))};b("top");for(let _=0;_<o.length;_++){const $=o[_];if(a($,g++),$.hasChildren()&&!$.footer){let j=null;switch(c){case 0:j=$.childrenAfterGroup;break;case 1:j=$.childrenAfterAggFilter;break;case 2:j=$.childrenAfterSort;break;case 3:j=$.leafGroup?null:$.childrenAfterSort;break}j&&(g=this.recursivelyWalkNodesAndCallback({nodes:[...j],callback:a,recursionType:c,index:g,includeFooterNodes:d}))}}return b("bottom"),g}doAggregate(e){var o;(o=this.aggregationStage)==null||o.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const o=this.gos.get("treeData"),a=this.columnModel.isPivotActive(),c=d=>{d&&d.forEach(g=>{const b=()=>{g.expanded=e,c(g.childrenAfterGroup)};if(o){_exists(g.childrenAfterGroup)&&b();return}if(a){!g.leafGroup&&b();return}g.group&&b()})};this.rootNode&&c(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,o){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:o})}doRowGrouping(e,o,a,c){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:a,changedPath:o}):this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:c}),_getGroupSelectsDescendants(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const d=this.rootNode,g=d.sibling;d.childrenAfterGroup=d.allLeafChildren,g&&(g.childrenAfterGroup=d.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var o;(o=this.pivotStage)==null||o.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(RowNode.ID_PREFIX_ROW_GROUP)==0){let a;return this.forEachNode(c=>{c.id===e&&(a=c)}),a}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,o){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const a=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},a)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:o})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var c;this.valueCache.onDataChanged();const e=[],o=[];let a=!1;(c=this.rowDataTransactionBatch)==null||c.forEach(d=>{const{rowNodeTransaction:g,rowsInserted:b}=this.nodeManager.updateRowData(d.rowDataTransaction);b&&(a=!0),o.push(g),d.callback&&e.push(d.callback.bind(null,g))}),this.commonUpdateRowData(o,a),e.length>0&&window.setTimeout(()=>{e.forEach(d=>d())},0),o.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:o}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:o,rowsInserted:a}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([o],a),o}afterImmutableDataChange(e,o){this.commonUpdateRowData([e],o)}commonUpdateRowData(e,o){if(!this.hasStarted)return;const a=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:o,keepRenderedRows:!0,keepEditingRows:!0,animate:a})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(o=>{o.setRowHeight(o.rowHeight,!0);const a=o.detailNode;a&&a.setRowHeight(a.rowHeight,!0),o.sibling&&o.sibling.setRowHeight(o.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function onGroupExpandedOrCollapsed(e){e.expansionService.onGroupExpandedOrCollapsed()}function refreshClientSideRowModel(e,o){var a,c;(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null||c.refreshModel(o)}function isRowDataEmpty(e){var o,a;return((a=(o=e.rowModelHelperService)==null?void 0:o.getClientSideRowModel())==null?void 0:a.isEmpty())??!0}function forEachLeafNode(e,o){var a,c;(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null||c.forEachLeafNode(o)}function forEachNodeAfterFilter(e,o){var a,c;(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null||c.forEachNodeAfterFilter(o)}function forEachNodeAfterFilterAndSort(e,o){var a,c;(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null||c.forEachNodeAfterFilterAndSort(o)}function resetRowHeights(e){var o,a;if(e.columnModel.isAutoRowHeightActive()){_warnOnce("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(a=(o=e.rowModelHelperService)==null?void 0:o.getClientSideRowModel())==null||a.resetRowHeights()}function applyTransaction(e,o){return e.frameworkOverrides.wrapIncoming(()=>{var a,c;return(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null?void 0:c.updateRowData(o)})}function applyTransactionAsync(e,o,a){e.frameworkOverrides.wrapIncoming(()=>{var c,d;return(d=(c=e.rowModelHelperService)==null?void 0:c.getClientSideRowModel())==null?void 0:d.batchUpdateRowData(o,a)})}function flushAsyncTransactions(e){e.frameworkOverrides.wrapIncoming(()=>{var o,a;return(a=(o=e.rowModelHelperService)==null?void 0:o.getClientSideRowModel())==null?void 0:a.flushAsyncTransactions()})}function getBestCostNodeSelection(e){return e.selectionService.getBestCostNodeSelection()}var FilterStage=class extends BeanStub{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:o}=e;this.filter(o)}filter(e){var a;const o=!!((a=this.filterManager)!=null&&a.isChildFilterPresent());this.filterNodes(o,e)}filterNodes(e,o){const a=(c,d)=>{c.hasChildren()&&e&&!d?c.childrenAfterFilter=c.childrenAfterGroup.filter(g=>{const b=g.childrenAfterFilter&&g.childrenAfterFilter.length>0,_=g.data&&this.filterManager.doesRowPassFilter({rowNode:g});return b||_}):c.childrenAfterFilter=c.childrenAfterGroup,c.sibling&&(c.sibling.childrenAfterFilter=c.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const c=(g,b)=>{if(g.childrenAfterGroup)for(let _=0;_<g.childrenAfterGroup.length;_++){const $=g.childrenAfterGroup[_],j=b||this.filterManager.doesRowPassFilter({rowNode:$});$.childrenAfterGroup?c(g.childrenAfterGroup[_],j):a($,j)}a(g,b)},d=g=>c(g,!1);o.executeFromRootNode(d)}else{const c=d=>a(d,!1);o.forEachChangedNodeDepthFirst(c,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},FlattenStage=class extends BeanStub{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const o=e.rowNode,a=[],c=this.columnModel.isPivotMode(),d=c&&o.leafGroup,g=d?[o]:o.childrenAfterSort,b=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(b,g,a,c,0);const _=a.length>0;if(!d&&_&&b.grandTotalRow){o.createFooter();const j=b.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(b,o.sibling,a,0,j)}return a}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:_isGroupMultiAutoColumn(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:_getGrandTotalRow(this.gos),groupTotalRow:_getGroupTotalRowCallback(this.gos)}}recursivelyAddToRowsToDisplay(e,o,a,c,d){if(!_missingOrEmpty(o))for(let g=0;g<o.length;g++){const b=o[g],_=b.hasChildren(),$=c&&!_,j=e.groupRemoveSingleChildren&&_&&b.childrenAfterGroup.length===1,rt=e.groupRemoveLowestSingleChildren&&_&&b.leafGroup&&b.childrenAfterGroup.length===1,nt=c&&b.leafGroup,In=e.hideOpenParents&&b.expanded&&!b.master&&!nt;if(!$&&!In&&!j&&!rt&&this.addRowNodeToRowsToDisplay(e,b,a,d),!(c&&b.leafGroup)){if(_){const Ll=j||rt;if(b.expanded||Ll){const Nl=e.groupTotalRow({node:b});Nl||b.destroyFooter();const _u=Ll?d:d+1;Nl==="top"&&(b.createFooter(),this.addRowNodeToRowsToDisplay(e,b.sibling,a,_u)),this.recursivelyAddToRowsToDisplay(e,b.childrenAfterSort,a,c,_u),Nl==="bottom"&&(b.createFooter(),this.addRowNodeToRowsToDisplay(e,b.sibling,a,_u))}}else if(b.master&&b.expanded){const Ll=this.createDetailNode(b);this.addRowNodeToRowsToDisplay(e,Ll,a,d)}}}}addRowNodeToRowsToDisplay(e,o,a,c,d){d?a.unshift(o):a.push(o),o.setUiLevel(e.isGroupMultiAutoColumn?0:c)}createDetailNode(e){if(_exists(e.detailNode))return e.detailNode;const o=new RowNode(this.beans);return o.detail=!0,o.selectable=!1,o.parent=e,_exists(e.id)&&(o.id="detail_"+e.id),o.data=e.data,o.level=e.level+1,e.detailNode=o,o}},ImmutableService=class extends BeanStub{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){_isClientSideRowModel(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const o=this.createTransactionForRowData(e);if(!o)return;const a=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:c,rowsInserted:d}=a.updateRowData(o);let g=!1;this.gos.get("suppressMaintainUnsortedOrder")||(g=a.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(c,g||d)}createTransactionForRowData(e){if(!_isClientSideRowModel(this.gos))return _errorOnce("ImmutableService only works with ClientSideRowModel"),null;const o=_getRowIdCallback(this.gos);if(o==null)return _errorOnce("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const a=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),c=[],d=[],g=[];return _exists(e)&&e.forEach(b=>{const _=o({data:b,level:0}),$=a[_];$?($.data!==b&&d.push(b),a[_]=void 0):g.push(b)}),_iterateObject(a,(b,_)=>{_&&c.push(_.data)}),{remove:c,update:d,add:g}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},SortService=class extends BeanStub{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,o,a,c,d,g){const b=this.gos.get("groupMaintainOrder"),_=this.columnModel.getCols().some(In=>In.isRowGroupActive());let $={};a&&c&&($=this.calculateDirtyNodes(c));const j=this.columnModel.isPivotMode(),rt=this.gos.getCallback("postSortRows"),nt=In=>{var Nl;this.pullDownGroupDataForHideOpenParents(In.childrenAfterAggFilter,!0);const xl=j&&In.leafGroup;if(b&&_&&!In.leafGroup&&!g){const _u=(Nl=this.funcColsService.getRowGroupColumns())==null?void 0:Nl[In.level+1],Yl=(_u==null?void 0:_u.getSort())===null,Ul=In.childrenAfterAggFilter.slice(0);if(In.childrenAfterSort&&!Yl){const Dl={};In.childrenAfterSort.forEach((Zl,Ju)=>{Dl[Zl.id]=Ju}),Ul.sort((Zl,Ju)=>(Dl[Zl.id]??0)-(Dl[Ju.id]??0))}In.childrenAfterSort=Ul}else!o||xl?In.childrenAfterSort=In.childrenAfterAggFilter.slice(0):a?In.childrenAfterSort=this.doDeltaSort(In,$,d,e):In.childrenAfterSort=this.rowNodeSorter.doFullSort(In.childrenAfterAggFilter,e);if(In.sibling&&(In.sibling.childrenAfterSort=In.childrenAfterSort),this.updateChildIndexes(In),rt){const _u={nodes:In.childrenAfterSort};rt(_u)}};d&&d.forEachChangedNodeDepthFirst(nt),this.updateGroupDataForHideOpenParents(d)}calculateDirtyNodes(e){const o={},a=c=>{c&&c.forEach(d=>o[d.id]=!0)};return e&&e.forEach(c=>{a(c.add),a(c.update),a(c.remove)}),o}doDeltaSort(e,o,a,c){const d=e.childrenAfterAggFilter,g=e.childrenAfterSort;if(!g)return this.rowNodeSorter.doFullSort(d,c);const b={},_=[];d.forEach(nt=>{o[nt.id]||!a.canSkip(nt)?_.push(nt):b[nt.id]=!0});const $=g.filter(nt=>b[nt.id]),j=(nt,In)=>({currentPos:In,rowNode:nt}),rt=_.map(j).sort((nt,In)=>this.rowNodeSorter.compareRowNodes(c,nt,In));return this.mergeSortedArrays(c,rt,$.map(j)).map(({rowNode:nt})=>nt)}mergeSortedArrays(e,o,a){const c=[];let d=0,g=0;for(;d<o.length&&g<a.length;)this.rowNodeSorter.compareRowNodes(e,o[d],a[g])<0?c.push(o[d++]):c.push(a[g++]);for(;d<o.length;)c.push(o[d++]);for(;g<a.length;)c.push(a[g++]);return c}updateChildIndexes(e){if(_missing(e.childrenAfterSort))return;const o=e.childrenAfterSort;for(let a=0;a<o.length;a++){const c=o[a],d=a===0,g=a===e.childrenAfterSort.length-1;c.setFirstChild(d),c.setLastChild(g),c.setChildIndex(a)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return _warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const o=a=>{this.pullDownGroupDataForHideOpenParents(a.childrenAfterSort,!1),a.childrenAfterSort.forEach(c=>{c.hasChildren()&&o(c)})};e&&e.executeFromRootNode(a=>o(a))}pullDownGroupDataForHideOpenParents(e,o){!this.gos.get("groupHideOpenParents")||_missing(e)||e.forEach(a=>{var d;(((d=this.showRowGroupColsService)==null?void 0:d.getShowRowGroupCols())??[]).forEach(g=>{const b=g.getColDef().showRowGroup;if(typeof b!="string"){_errorOnce("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const _=b,$=this.columnModel.getColDefCol(_);if($!==a.rowGroupColumn)if(o)a.setGroupValue(g.getId(),void 0);else{const rt=this.getFirstChildOfFirstChild(a,$);rt&&a.setGroupValue(g.getId(),rt.key)}})})}getFirstChildOfFirstChild(e,o){let a=e;for(;a;){const c=a.parent;if(c&&a.firstChild){if(c.rowGroupColumn===o)return c}else return null;a=c}return null}},SortStage=class extends BeanStub{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const o=this.sortController.getSortOptions(),a=_exists(o)&&o.length>0,c=a&&_exists(e.rowNodeTransactions)&&this.gos.get("deltaSort"),d=o.some(g=>_isColumnsSortingCoupledToGroup(this.gos)?g.column.isPrimary()&&g.column.isRowGroupActive():!!g.column.getColDef().showRowGroup);this.sortService.sort(o,a,c,e.rowNodeTransactions,e.changedPath,d)}},VERSION2="32.3.9",ClientSideRowModelCoreModule={version:VERSION2,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[ClientSideRowModel,FilterStage,SortStage,FlattenStage,SortService,ImmutableService]},ClientSideRowModelApiModule={version:VERSION2,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[RowModelHelperService],apiFunctions:{onGroupExpandedOrCollapsed,refreshClientSideRowModel,isRowDataEmpty,forEachLeafNode,forEachNodeAfterFilter,forEachNodeAfterFilterAndSort,resetRowHeights,applyTransaction,applyTransactionAsync,flushAsyncTransactions,getBestCostNodeSelection},dependantModules:[ClientSideRowModelCoreModule,CsrmSsrmSharedApiModule]},ClientSideRowModelModule={version:VERSION2,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[ClientSideRowModelCoreModule,ClientSideRowModelApiModule]},BaseCreator=class extends BeanStub{setBeans(e){this.beans=e}getFileName(e){const o=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${o}`:e}getData(e){const o=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(o,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},BaseGridSerializingSession=class{constructor(e){this.groupColumns=[];const{columnModel:o,funcColsService:a,columnNameService:c,valueService:d,gos:g,processCellCallback:b,processHeaderCallback:_,processGroupHeaderCallback:$,processRowGroupCallback:j}=e;this.columnModel=o,this.funcColsService=a,this.columnNameService=c,this.valueService=d,this.gos=g,this.processCellCallback=b,this.processHeaderCallback=_,this.processGroupHeaderCallback=$,this.processRowGroupCallback=j}prepare(e){this.groupColumns=e.filter(o=>!!o.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,o,a,c,d){const b=(!this.gos.get("groupHideOpenParents")||d.footer)&&this.shouldRenderGroupSummaryCell(d,e,o)?this.createValueForGroupNode(e,d):this.valueService.getValue(e,d);return this.processCell({accumulatedRowIndex:a,rowNode:d,column:e,value:b,processCellCallback:this.processCellCallback,type:c})}shouldRenderGroupSummaryCell(e,o,a){var b;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(o)!==-1){const _=(b=e.groupData)==null?void 0:b[o.getId()],$=this.gos.get("suppressGroupMaintainValueType");if($&&_!=null||!$&&_!==void 0||_isServerSideRowModel(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const j=o.getColDef();return j==null||j.showRowGroup===!0||j.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const g=_isGroupUseEntireRow(this.gos,this.columnModel.isPivotMode());return a===0&&g}getHeaderName(e,o){return e?e(this.gos.addGridCommonParams({column:o})):this.columnNameService.getDisplayNameForColumn(o,"csv",!0)}createValueForGroupNode(e,o){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:o}));const a=this.gos.get("treeData"),c=this.gos.get("suppressGroupMaintainValueType"),d=$=>{var rt;if(a||c)return $.key;const j=(rt=$.groupData)==null?void 0:rt[e.getId()];return!j||!$.rowGroupColumn||$.rowGroupColumn.getColDef().useValueFormatterForExport===!1?j:this.valueService.formatValue($.rowGroupColumn,$,j)??j},g=o.footer,b=[d(o)];if(!_isGroupMultiAutoColumn(this.gos))for(;o.parent;)o=o.parent,b.push(d(o));const _=b.reverse().join(" -> ");return g?`Total ${_}`:_}processCell(e){const{accumulatedRowIndex:o,rowNode:a,column:c,value:d,processCellCallback:g,type:b}=e;return g?{value:g(this.gos.addGridCommonParams({accumulatedRowIndex:o,column:c,node:a,value:d,type:b,parseValue:_=>this.valueService.parseValue(c,a,_,this.valueService.getValue(c,a)),formatValue:_=>this.valueService.formatValue(c,a,_)??_}))??""}:c.getColDef().useValueFormatterForExport!==!1?{value:d??"",valueFormatted:this.valueService.formatValue(c,a,d)}:{value:d??""}}},Downloader=class{static download(e,o){const a=document.defaultView||window;if(!a){_warnOnce("There is no `window` associated with the current `document`");return}const c=document.createElement("a"),d=a.URL.createObjectURL(o);c.setAttribute("href",d),c.setAttribute("download",e),c.style.display="none",document.body.appendChild(c),c.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:a})),document.body.removeChild(c),a.setTimeout(()=>{a.URL.revokeObjectURL(d)},0)}},LINE_SEPARATOR=`\r
`,CsvSerializingSession=class extends BaseGridSerializingSession{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:o,columnSeparator:a}=e;this.suppressQuotes=o,this.columnSeparator=a}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,LINE_SEPARATOR),this.result+=e):e.forEach(o=>{this.beginNewLine(),o.forEach((a,c)=>{c!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(a.data.value||""),a.mergeAcross&&this.appendEmptyCells(a.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,o,a,c){a!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(o),this.appendEmptyCells(c)}appendEmptyCells(e){for(let o=1;o<=e;o++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,o){o!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,o,a){o!=0&&(this.result+=this.columnSeparator);const c=this.extractRowCellValue(e,o,o,"csv",a);this.result+=this.putInQuotes(c.valueFormatted??c.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let o;return typeof e=="string"?o=e:typeof e.toString=="function"?o=e.toString():(_warnOnce("unknown value type during csv conversion"),o=""),'"'+o.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=LINE_SEPARATOR),this.isFirstLine=!1}},CsvCreator=class extends BaseCreator{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const o=this.gos.get("defaultCsvExportParams");return Object.assign({},o,e)}export(e){if(this.isExportSuppressed()){_warnOnce("Export cancelled. Export is not allowed as per your configuration.");return}const o=this.getMergedParams(e),a=this.getData(o),c=new Blob(["\uFEFF",a],{type:"text/plain"}),d=typeof o.fileName=="function"?o.fileName(this.gos.getGridCommonParams()):o.fileName;Downloader.download(this.getFileName(d),c)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,o=!1){const a=o?Object.assign({},e):this.getMergedParams(e);return this.getData(a)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:o,columnNameService:a,funcColsService:c,valueService:d,gos:g}=this,{processCellCallback:b,processHeaderCallback:_,processGroupHeaderCallback:$,processRowGroupCallback:j,suppressQuotes:rt,columnSeparator:nt}=e;return new CsvSerializingSession({columnModel:o,columnNameService:a,funcColsService:c,valueService:d,gos:g,processCellCallback:b||void 0,processHeaderCallback:_||void 0,processGroupHeaderCallback:$||void 0,processRowGroupCallback:j||void 0,suppressQuotes:rt||!1,columnSeparator:nt||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function getDataAsCsv(e,o){var a;return(a=e.csvCreator)==null?void 0:a.getDataAsCsv(o)}function exportDataAsCsv(e,o){var a;(a=e.csvCreator)==null||a.exportDataAsCsv(o)}var RowType=(e=>(e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY",e))(RowType||{}),GridSerializer=class extends BeanStub{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,o={}){const{allColumns:a,columnKeys:c,skipRowGroups:d}=o,g=this.getColumnsToExport(a,d,c);return _compose(this.prepareSession(g),this.prependContent(o),this.exportColumnGroups(o,g),this.exportHeaders(o,g),this.processPinnedTopRows(o,g),this.processRows(o,g),this.processPinnedBottomRows(o,g),this.appendContent(o))(e).parse()}processRow(e,o,a,c){var Yl;const d=o.shouldRowBeSkipped||(()=>!1),g=this.gos.get("groupRemoveSingleChildren"),b=this.gos.get("groupRemoveLowestSingleChildren"),$=o.rowPositions!=null||!!o.onlySelected,j=this.gos.get("groupHideOpenParents")&&!$,rt=this.columnModel.isPivotMode()?c.leafGroup:!c.group,nt=!!c.footer,In=b&&c.leafGroup,xl=c.allChildrenCount===1&&((Yl=c.childrenAfterGroup)==null?void 0:Yl.length)===1&&(g||In);if(!rt&&!nt&&(o.skipRowGroups||xl||j)||o.onlySelected&&!c.isSelected()||o.skipPinnedTop&&c.rowPinned==="top"||o.skipPinnedBottom&&c.rowPinned==="bottom"||c.level===-1&&!rt&&!nt||d(this.gos.addGridCommonParams({node:c})))return;const _u=e.onNewBodyRow(c);if(a.forEach((Ul,Dl)=>{_u.onColumn(Ul,Dl,c)}),o.getCustomContentBelowRow){const Ul=o.getCustomContentBelowRow(this.gos.addGridCommonParams({node:c}));Ul&&e.addCustomContent(Ul)}}appendContent(e){return o=>{const a=e.appendContent;return a&&o.addCustomContent(a),o}}prependContent(e){return o=>{const a=e.prependContent;return a&&o.addCustomContent(a),o}}prepareSession(e){return o=>(o.prepare(e),o)}exportColumnGroups(e,o){return a=>{if(!e.skipColumnGroupHeaders){const c=new GroupInstanceIdCreator,d=this.visibleColsService.createGroups({columns:o,idCreator:c,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(d,a,e.processGroupHeaderCallback)}return a}}exportHeaders(e,o){return a=>{if(!e.skipColumnHeaders){const c=a.onNewHeaderRow();o.forEach((d,g)=>{c.onColumn(d,g,void 0)})}return a}}processPinnedTopRows(e,o){return a=>{const c=this.processRow.bind(this,a,e,o);return e.rowPositions?e.rowPositions.filter(d=>d.rowPinned==="top").sort((d,g)=>d.rowIndex-g.rowIndex).map(d=>this.pinnedRowModel.getPinnedTopRow(d.rowIndex)).forEach(c):this.pinnedRowModel.forEachPinnedRow("top",c),a}}processRows(e,o){return a=>{const c=this.rowModel,d=_isClientSideRowModel(this.gos),g=_isServerSideRowModel(this.gos),b=!d&&e.onlySelected,_=this.processRow.bind(this,a,e,o),{exportedRows:$="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(j=>j.rowPinned==null).sort((j,rt)=>j.rowIndex-rt.rowIndex).map(j=>c.getRow(j.rowIndex)).forEach(_);else if(this.columnModel.isPivotMode())d?c.forEachPivotNode(_,!0):g?c.forEachNodeAfterFilterAndSort(_,!0):c.forEachNode(_);else if(e.onlySelectedAllPages||b){const j=this.selectionService.getSelectedNodes();this.replicateSortedOrder(j),j.forEach(_)}else $==="all"?c.forEachNode(_):d||g?c.forEachNodeAfterFilterAndSort(_,!0):c.forEachNode(_);return a}}replicateSortedOrder(e){const o=this.sortController.getSortOptions(),a=(c,d)=>{var g,b;return c.rowIndex!=null&&d.rowIndex!=null?c.rowIndex-d.rowIndex:c.level===d.level?((g=c.parent)==null?void 0:g.id)===((b=d.parent)==null?void 0:b.id)?this.rowNodeSorter.compareRowNodes(o,{rowNode:c,currentPos:c.rowIndex??-1},{rowNode:d,currentPos:d.rowIndex??-1}):a(c.parent,d.parent):c.level>d.level?a(c.parent,d):a(c,d.parent)};e.sort(a)}processPinnedBottomRows(e,o){return a=>{const c=this.processRow.bind(this,a,e,o);return e.rowPositions?e.rowPositions.filter(d=>d.rowPinned==="bottom").sort((d,g)=>d.rowIndex-g.rowIndex).map(d=>this.pinnedRowModel.getPinnedBottomRow(d.rowIndex)).forEach(c):this.pinnedRowModel.forEachPinnedRow("bottom",c),a}}getColumnsToExport(e=!1,o=!1,a){const c=this.columnModel.isPivotMode();if(a&&a.length)return this.columnModel.getColsForKeys(a);const d=this.gos.get("treeData");let g=[];return e&&!c?g=this.columnModel.getCols():g=this.visibleColsService.getAllCols(),o&&!d&&(g=g.filter(b=>!isColumnGroupAutoCol(b)&&!isColumnControlsCol(b))),g}recursivelyAddHeaderGroups(e,o,a){const c=[];e.forEach(d=>{const g=d;g.getChildren&&g.getChildren().forEach(b=>c.push(b))}),e.length>0&&isColumnGroup(e[0])&&this.doAddHeaderHeader(o,e,a),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,o,a)}doAddHeaderHeader(e,o,a){const c=e.onNewHeaderGroupingRow();let d=0;o.forEach(g=>{const b=g;let _;a?_=a(this.gos.addGridCommonParams({columnGroup:b})):_=this.columnNameService.getDisplayNameForColumnGroup(b,"header");const $=b.getLeafColumns().reduce((j,rt,nt,In)=>{let xl=_last(j);return rt.getColumnGroupShow()==="open"?(!xl||xl[1]!=null)&&(xl=[nt],j.push(xl)):xl&&xl[1]==null&&(xl[1]=nt-1),nt===In.length-1&&xl&&xl[1]==null&&(xl[1]=nt),j},[]);c.onColumn(b,_||"",d++,b.getLeafColumns().length-1,$)})}},VERSION3="32.3.9",CsvExportCoreModule={version:VERSION3,moduleName:"@ag-grid-community/csv-export-core",beans:[CsvCreator,GridSerializer]},CsvExportApiModule={version:VERSION3,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv,exportDataAsCsv},dependantModules:[CsvExportCoreModule]},CsvExportModule={version:VERSION3,moduleName:"@ag-grid-community/csv-export",dependantModules:[CsvExportCoreModule,CsvExportApiModule]},LINE_SEPARATOR2=`\r
`;function returnAttributeIfPopulated(e,o,a){if(!o&&o!==""&&o!==0)return"";let c=o;return typeof o=="boolean"&&a&&(c=a(o)),` ${e}="${c}"`}var XmlFactory=class{static createHeader(e={}){const o="<?",a="?>",c=["version"];e.version||(e.version="1.0"),e.encoding&&c.push("encoding"),e.standalone&&c.push("standalone");const d=c.map(g=>`${g}="${e[g]}"`).join(" ");return`${o}xml ${d} ${a}`}static createXml(e,o){let a="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(d=>{Object.keys(d.map).forEach(g=>{a+=returnAttributeIfPopulated(d.prefix+g,d.map[g],o)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(d=>{a+=returnAttributeIfPopulated(d,e.properties.rawMap[d],o)}));let c="<"+e.name+a;return!e.children&&e.textNode==null?c+"/>"+LINE_SEPARATOR2:e.textNode!=null?c+">"+e.textNode+"</"+e.name+">"+LINE_SEPARATOR2:(c+=">"+LINE_SEPARATOR2,e.children&&e.children.forEach(d=>{c+=this.createXml(d,o)}),c+"</"+e.name+">"+LINE_SEPARATOR2)}},compressBlob=async e=>{let o=0;const a=[],c=new WritableStream({write:b=>{a.push(b),o+=b.length}}),d=new ReadableStream({start:b=>{const _=new FileReader;_.onload=$=>{var j;(j=$.target)!=null&&j.result&&b.enqueue($.target.result),b.close()},_.readAsArrayBuffer(e)}}),g=new window.CompressionStream("deflate-raw");return await d.pipeThrough(g).pipeTo(c),{size:o,content:new Blob(a)}},deflateLocalFile=async e=>{const o=new Blob([e]),{size:a,content:c}=await compressBlob(o),d=new Uint8Array(await c.arrayBuffer());return{size:a,content:d}},convertTime=e=>{let o=e.getHours();return o<<=6,o=o|e.getMinutes(),o<<=5,o=o|e.getSeconds()/2,o},convertDate=e=>{let o=e.getFullYear()-1980;return o<<=4,o=o|e.getMonth()+1,o<<=5,o=o|e.getDate(),o};function convertDecToHex(e,o){let a="";for(let c=0;c<o;c++)a+=String.fromCharCode(e&255),e>>>=8;return a}var getCrcFromCrc32TableAndByteArray=e=>{if(!e.length)return 0;let o=-1,a=0,c=0,d=0;for(let g=0;g<e.length;g++)a=e[g],c=(o^a)&255,d=crcTable[c],o=o>>>8^d;return o^-1},getCrcFromCrc32Table=e=>e.length?getCrcFromCrc32TableAndByteArray(typeof e=="string"?new TextEncoder().encode(e):e):0,crcTable=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),getHeaders=(e,o,a,c,d,g)=>{const{content:b,path:_,created:$}=e,j=convertTime($),rt=convertDate($),nt=getCrcFromCrc32Table(d),In=g!==void 0?g:c,xl=_utf8_encode(_),Ll=xl!==_;let Nl="";if(Ll){const Dl=convertDecToHex(1,1)+convertDecToHex(getCrcFromCrc32Table(xl),4)+xl;Nl="up"+convertDecToHex(Dl.length,2)+Dl}const _u="\0"+(Ll?"\0\b":"\0\0")+convertDecToHex(o?8:0,2)+convertDecToHex(j,2)+convertDecToHex(rt,2)+convertDecToHex(In?nt:0,4)+convertDecToHex(g??c,4)+convertDecToHex(c,4)+convertDecToHex(xl.length,2)+convertDecToHex(Nl.length,2),Yl="PK"+_u+xl+Nl,Ul="PK\0"+_u+"\0\0\0\0\0\0"+(b?"\0\0\0\0":"\0\0\0")+convertDecToHex(a,4)+xl+Nl;return{localFileHeader:Uint8Array.from(Yl,Dl=>Dl.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(Ul,Dl=>Dl.charCodeAt(0))}},getDecodedContent=e=>{let o;if(typeof e=="string"){const a=atob(e.split(";base64,")[1]);o=Uint8Array.from(a,c=>c.charCodeAt(0))}else o=e;return{size:o.length,content:o}},getDeflatedHeaderAndContent=async(e,o)=>{const{content:a}=e,{size:c,content:d}=a?getDecodedContent(a):{size:0,content:Uint8Array.from([])};let g,b,_=!1;if(e.type==="file"&&d&&c>0){const rt=await deflateLocalFile(d);g=rt.content,b=rt.size,_=!0}return{...getHeaders(e,_,o,c,d,b),content:g||d,isCompressed:_}},getHeaderAndContent=(e,o)=>{const{content:a}=e,{content:c}=a?getDecodedContent(a):{content:Uint8Array.from([])};return{...getHeaders(e,!1,o,c.length,c,void 0),content:c,isCompressed:!1}},buildCentralDirectoryEnd=(e,o,a)=>{const c="PK\0\0\0\0"+convertDecToHex(e,2)+convertDecToHex(e,2)+convertDecToHex(o,4)+convertDecToHex(a,4)+"\0\0";return Uint8Array.from(c,d=>d.charCodeAt(0))},ZipContainer=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,o,a=!1){this.files.push({path:e,created:new Date,content:a?o:new TextEncoder().encode(o),isBase64:a,type:"file"})}static async getZipFile(e="application/zip"){const o=await this.buildCompressedFileStream();return this.clearStream(),new Blob([o],{type:e})}static getUncompressedZipFile(e="application/zip"){const o=this.buildFileStream();return this.clearStream(),new Blob([o],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let o=0,a=0;for(const j of e){const{localFileHeader:rt,centralDirectoryHeader:nt,content:In}=j;o+=rt.length+In.length,a+=nt.length}const c=new Uint8Array(o),d=new Uint8Array(a);let g=0,b=0;for(const j of e){const{localFileHeader:rt,centralDirectoryHeader:nt,content:In}=j;c.set(rt,g),g+=rt.length,c.set(In,g),g+=In.length,d.set(nt,b),b+=nt.length}const _=buildCentralDirectoryEnd(e.length,a,o),$=new Uint8Array(c.length+d.length+_.length);return $.set(c),$.set(d,c.length),$.set(_,c.length+d.length),$}static async buildCompressedFileStream(){const e=[...this.folders,...this.files],o=[];let a=0;for(const c of e){const d=await getDeflatedHeaderAndContent(c,a),{localFileHeader:g,content:b}=d;o.push(d),a+=g.length+b.length}return this.packageFiles(o)}static buildFileStream(){const e=[...this.folders,...this.files],o=[];let a=0;for(const c of e){const d=getHeaderAndContent(c,a),{localFileHeader:g,content:b}=d;o.push(d),a+=g.length+b.length}return this.packageFiles(o)}};ZipContainer.folders=[];ZipContainer.files=[];var InfiniteBlock=class extends RowNodeBlock{wireBeans(e){this.beans=e}constructor(e,o,a){super(e),this.parentCache=o,this.params=a,this.startRow=e*a.blockSize,this.endRow=this.startRow+a.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,o,a){_exists(o)?e.setDataAndId(o,a.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(_missing(this.params.datasource.getRows)){_warnOnce("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,o,a){this.rowNodes.forEach((c,d)=>{this.startRow+d<a&&e(c,o.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,o=!1){o||(this.lastAccessed=this.params.lastAccessedSequence.next());const a=e-this.startRow;return this.rowNodes[a]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const o=this.startRow+e,a=new RowNode(this.beans);a.setRowHeight(this.params.rowHeight),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(this.params.rowHeight*o),this.rowNodes.push(a)}}processServerResult(e){this.rowNodes.forEach((a,c)=>{const d=e.rowData?e.rowData[c]:void 0;!a.id&&a.alreadyRendered&&d&&(this.rowNodes[c]=new RowNode(this.beans),this.rowNodes[c].setRowIndex(a.rowIndex),this.rowNodes[c].setRowTop(a.rowTop),this.rowNodes[c].setRowHeight(a.rowHeight),a.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[c],d,this.startRow+c)});const o=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,o)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},MAX_EMPTY_BLOCKS_TO_KEEP=2,InfiniteCache=class extends BeanStub{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,o=!1){const a=Math.floor(e/this.params.blockSize);let c=this.blocks[a];if(!c){if(o)return;c=this.createBlock(a)}return c.getRow(e)}createBlock(e){const o=this.createBean(new InfiniteBlock(e,this,this.params));return this.blocks[o.getId()]=o,this.blockCount++,this.purgeBlocksIfNeeded(o),this.params.rowNodeBlockLoader.addBlock(o),o}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(o=>o.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,o){this.isAlive()&&(this.gos.get("debug")&&_log(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${o}`),this.checkRowCount(e,o),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const o=this.getBlocksInOrder().filter(b=>b!=e),a=(b,_)=>_.getLastAccessed()-b.getLastAccessed();o.sort(a);const c=this.params.maxBlocksInCache>0,d=c?this.params.maxBlocksInCache-1:null,g=MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach((b,_)=>{const $=b.getState()==="needsLoading"&&_>=g,j=c?_>=d:!1;if($||j){if(this.isBlockCurrentlyDisplayed(b)||this.isBlockFocused(b))return;this.removeBlockFromCache(b)}})}isBlockFocused(e){const o=this.focusService.getFocusCellToUseAfterRefresh();if(!o||o.rowPinned!=null)return!1;const a=e.getStartRow(),c=e.getEndRow();return o.rowIndex>=a&&o.rowIndex<c}isBlockCurrentlyDisplayed(e){const o=e.getStartRow(),a=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(o,a)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,o){if(typeof o=="number"&&o>=0)this.rowCount=o,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const c=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}}setRowCount(e,o){this.rowCount=e,_exists(o)&&(this.lastRowIndexKnown=o),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const o=new NumberSequence;this.getBlocksInOrder().forEach(a=>a.forEachNode(e,o,this.rowCount))}getBlocksInOrder(){const e=(a,c)=>a.getId()-c.getId();return _getAllValuesInObject(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(o=>{o.getId()*this.params.blockSize>=this.rowCount&&e.push(o)}),e.length>0&&e.forEach(o=>this.destroyBlock(o))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,o){const a=[];let c=-1,d=!1;const g=new NumberSequence;let b=!1;return this.getBlocksInOrder().forEach($=>{if(!b){if(d&&c+1!==$.getId()){b=!0;return}c=$.getId(),$.forEachNode(j=>{const rt=j===e||j===o;(d||rt)&&a.push(j),rt&&(d=!d)},g,this.rowCount)}}),b||d?[]:a}},InfiniteRowModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=_getRowHeightAsNumber(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&_warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=_getRowHeightAsNumber(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!_jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,o){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,o):[]}reset(){if(!this.datasource)return;_getRowIdCallback(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:_getRowHeightAsNumber(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new NumberSequence},this.infiniteCache=this.createBean(new InfiniteCache(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let o;return this.forEachNode(a=>{a.id===e&&(o=a)}),o}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const o=Math.floor(e/this.rowHeight),a=this.getRowCount()-1;return o>a?a:o}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,o){this.infiniteCache&&this.infiniteCache.setRowCount(e,o)}};function refreshInfiniteCache(e){var o,a;(a=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel())==null||a.refreshCache()}function purgeInfiniteCache(e){var o,a;(a=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel())==null||a.purgeCache()}function getInfiniteRowCount(e){var o,a;return(a=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel())==null?void 0:a.getRowCount()}var VERSION4="32.3.9",InfiniteRowModelCoreModule={version:VERSION4,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[InfiniteRowModel],dependantModules:[RowNodeBlockModule]},InfiniteRowModelApiModule={version:VERSION4,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[RowModelHelperService],apiFunctions:{refreshInfiniteCache,purgeInfiniteCache,getInfiniteRowCount},dependantModules:[InfiniteRowModelCoreModule,SsrmInfiniteSharedApiModule]},InfiniteRowModelModule={version:VERSION4,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[InfiniteRowModelCoreModule,InfiniteRowModelApiModule]},createPartVariant=(e,o)=>new PartImpl(e.feature,o,e.defaults,e.css),customPartCounter=0,createPart=(e,o=`customPart${++customPartCounter}`)=>new PartImpl(e,o),PartImpl=class Ex{constructor(o,a,c={},d=[]){this.feature=o,this.variant=a,this.defaults=c,this.css=d}get id(){return this.feature?`${this.feature}/${this.variant}`:this.variant}withParams(o){const a={...this.defaults};for(const[c,d]of Object.entries(o))d!=null&&(a[c]=d);return new Ex(this.feature,this.variant,a,this.css)}withAdditionalParams(o){return this.withParams(o)}withCSS(o){return new Ex(this.feature,this.variant,this.defaults,this.css.concat(o))}},coreCSS=`:where([class^=ag-]){box-sizing:border-box;outline:none;&:after,&:before,&:focus,&:focus-within{box-sizing:border-box;outline:none}&:where(button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;padding:0}&:where(button){font-weight:inherit}&::-ms-clear{display:none}}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-virtual-list-viewport .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;right:25px;transition:opacity 1s ease-out 3s;&:before{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==);background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}.ag-ltr .ag-watermark-text{padding-left:.7rem}.ag-rtl .ag-watermark-text{padding-right:.7rem}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&.ag-layout-normal{overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}.ag-ltr .ag-floating-bottom-full-width-container,.ag-ltr .ag-floating-top-full-width-container,.ag-ltr .ag-full-width-container,.ag-ltr .ag-sticky-bottom-full-width-container,.ag-ltr .ag-sticky-top-full-width-container{left:0}.ag-rtl .ag-floating-bottom-full-width-container,.ag-rtl .ag-floating-top-full-width-container,.ag-rtl .ag-full-width-container,.ag-rtl .ag-sticky-bottom-full-width-container,.ag-rtl .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&.ag-scrollbar-invisible{bottom:0;position:absolute;&.ag-apple-scrollbar{opacity:0;transition:opacity .4s;visibility:hidden;&.ag-scrollbar-active,&.ag-scrollbar-scrolling{opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&.ag-scrollbar-invisible{left:0;right:0}}.ag-body-vertical-scroll{height:100%;&.ag-scrollbar-invisible{top:0;z-index:10}}.ag-ltr .ag-body-vertical-scroll{&.ag-scrollbar-invisible{right:0}}.ag-rtl .ag-body-vertical-scroll{&.ag-scrollbar-invisible{left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&.ag-scroller-corner{overflow-x:hidden}}.ag-ltr .ag-column-moving{.ag-cell,.ag-header-cell{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}.ag-rtl .ag-column-moving{.ag-cell,.ag-header-cell{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}.ag-row-animation .ag-row{transition:transform .4s,top .4s,opacity .2s}.ag-row-animation .ag-row.ag-after-created{transition:transform .4s,top .4s,height .4s,opacity .2s}.ag-row-no-animation .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}.ag-sparkline-wrapper{height:100%;left:0;position:absolute;top:0;width:100%}.ag-full-width-row .ag-cell-wrapper.ag-row-group{align-items:center;height:100%}.ag-cell .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border);display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-pinned-left-floating-top,.ag-pinned-right-floating-top{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-floating-bottom{border-top:var(--ag-pinned-row-border);display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-pinned-left-floating-bottom,.ag-pinned-right-floating-bottom{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-value-slide-out{opacity:1}.ag-ltr .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}.ag-rtl .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:is(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}.ag-ltr .ag-value-slide-out-end{margin-right:10px}.ag-rtl .ag-value-slide-out-end{margin-left:10px}.ag-opacity-zero{opacity:0!important}.ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}.ag-right-aligned-header{.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}.ag-pill-select{display:flex;flex-direction:column;.ag-column-drop-list{padding:0}.ag-select{padding-top:var(--ag-spacing)}.ag-picker-field-wrapper{background-color:transparent;border:0}.ag-picker-field-display{cursor:pointer}}.ag-ltr{direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}.ag-rtl{direction:rtl;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}.ag-rtl{.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}.ag-rtl{.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{overflow:hidden;visibility:hidden;width:0;& div{position:absolute}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-group-title-bar .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-direction:row;flex-wrap:wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}.ag-ltr .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}.ag-rtl .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-group-item-alignment-stretch .ag-group-item{align-items:stretch}.ag-group-item-alignment-start .ag-group-item{align-items:flex-start}.ag-group-item-alignment-end .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}.ag-rtl{text-align:right}.ag-ltr .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}.ag-rtl .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}.ag-ltr .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-rtl .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);color:var(--ag-cell-text-color);font-size:var(--ag-data-font-size);height:var(--ag-row-height);white-space:nowrap;width:100%;--ag-internal-content-line-height:min(calc(var(--ag-row-height) - 1px),var(--ag-line-height,1000px))}:where(.ag-body-vertical-content-no-gap) .ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important;display:none}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height)}.ag-ltr .ag-cell{border-right:var(--ag-column-border)}.ag-rtl .ag-cell{border-left:var(--ag-column-border)}.ag-ltr :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}.ag-rtl :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;&.ag-row-group{align-items:flex-start}>:not(.ag-cell-value):not(.ag-group-value){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}}.ag-ltr .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}.ag-rtl .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}.ag-ltr .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-rtl .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-ltr .ag-group-contracted,.ag-ltr .ag-group-expanded,.ag-ltr .ag-row-drag,.ag-ltr .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-group-contracted,.ag-rtl .ag-group-expanded,.ag-rtl .ag-row-drag,.ag-rtl .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-ltr .ag-group-child-count{margin-left:3px}.ag-rtl .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}.ag-ltr .ag-row-highlight-above:after,.ag-ltr .ag-row-highlight-below:after{left:1px}.ag-rtl .ag-row-highlight-above:after,.ag-rtl .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:-1px}.ag-row-highlight-above.ag-row-first:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}.ag-ltr .ag-right-aligned-cell{text-align:right}.ag-rtl .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}.ag-cell:not(.ag-cell-inline-editing),.ag-full-width-row .ag-cell-wrapper.ag-row-group{-webkit-font-smoothing:subpixel-antialiased}.ag-ltr .ag-cell:not(.ag-cell-inline-editing),.ag-ltr .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-rtl .ag-cell:not(.ag-cell-inline-editing),.ag-rtl .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.5)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}.ag-ltr .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}.ag-rtl .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}.ag-ltr .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}.ag-ltr .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-details-row{padding:calc(var(--ag-spacing)*3.75)}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left):not(.ag-cell-range-single-cell){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right):not(.ag-cell-range-single-cell){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header,.ag-pinned-right-header{height:100%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color);&.ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color)!important;&.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color)!important}}}.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-cell-range-selected-2:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-3:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-4:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell){&.ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}&.ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}&.ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}&.ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}}.ag-ltr,.ag-rtl{.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-right,.ag-ltr .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-rtl .ag-cell.ag-selection-fill-right,.ag-rtl .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-left,.ag-ltr .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-rtl .ag-cell.ag-selection-fill-left,.ag-rtl .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-fill-handle,.ag-range-handle{background-color:var(--ag-range-selection-border-color);bottom:-1px;height:6px;position:absolute;width:6px}.ag-ltr .ag-fill-handle,.ag-ltr .ag-range-handle{right:-1px}.ag-rtl .ag-fill-handle,.ag-rtl .ag-range-handle{left:-1px}.ag-fill-handle{cursor:cell}.ag-ltr .ag-range-handle{cursor:nwse-resize}.ag-rtl .ag-range-handle{cursor:nesw-resize}.ag-cell-inline-editing{border:var(--ag-input-focus-border)!important}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input{flex:1 1 auto}.ag-floating-filter-input .ag-input-field-input[type=date]{width:1px}.ag-input-field-input{min-width:0;width:100%}.ag-column-select-header-filter-wrapper,.ag-filter-filter,.ag-filter-toolpanel-search,.ag-mini-filter{.ag-input-wrapper:before{background-color:currentColor;content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:50%;position:absolute;width:12px}}.ag-ltr .ag-column-select-header-filter-wrapper,.ag-ltr .ag-filter-filter,.ag-ltr .ag-filter-toolpanel-search,.ag-ltr .ag-mini-filter{.ag-input-wrapper:before{margin-left:var(--ag-spacing)}& input.ag-number-field-input,& input.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-rtl .ag-column-select-header-filter-wrapper,.ag-rtl .ag-filter-filter,.ag-rtl .ag-filter-toolpanel-search,.ag-rtl .ag-mini-filter{.ag-input-wrapper:before{margin-right:var(--ag-spacing)}& input.ag-number-field-input,& input.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-advanced-filter-header{align-items:center;background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);display:flex;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);position:relative}.ag-advanced-filter{align-items:center;display:flex;width:100%}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{line-height:normal;white-space:nowrap}.ag-ltr .ag-advanced-filter-apply-button,.ag-ltr .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-advanced-filter-apply-button,.ag-rtl .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-button{align-items:center;background-color:unset;border:0;display:flex;font-size:var(--ag-font-size);font-weight:600;padding:var(--ag-spacing);&:hover:not(:disabled){background-color:var(--ag-row-hover-color)}&:not(:disabled){cursor:pointer}}.ag-ltr .ag-advanced-filter-builder-button-label{margin-left:var(--ag-spacing)}.ag-rtl .ag-advanced-filter-builder-button-label{margin-right:var(--ag-spacing)}.ag-advanced-filter-builder{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-button-panel{border-top:var(--ag-advanced-filter-builder-button-bar-border);display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-ltr .ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel{.ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-spacing)*2)}}.ag-rtl .ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel{.ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder-cancel-button{margin-right:calc(var(--ag-spacing)*2)}}.ag-advanced-filter-builder-item-wrapper{align-items:center;display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}.ag-ltr .ag-advanced-filter-builder-item-wrapper{padding-left:calc(var(--ag-icon-size)/2);padding-right:var(--ag-icon-size)}.ag-rtl .ag-advanced-filter-builder-item-wrapper{padding-left:var(--ag-icon-size);padding-right:calc(var(--ag-icon-size)/2)}.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-lines .ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size);&:before{height:50%;top:50%}}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{align-items:center;display:flex;height:100%;position:relative;&:after,&:before{content:"";height:100%;position:absolute}}.ag-advanced-filter-builder-item-tree-line-horizontal:after{border-bottom:1px solid var(--ag-border-color);height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size))}.ag-ltr .ag-advanced-filter-builder-item-tree-line-horizontal:after{left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-horizontal:after{right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical:before{top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-top:before{height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{height:calc(50% - var(--ag-icon-size)*1.5/2);top:calc(50% + var(--ag-icon-size)*1.5/2);width:calc(var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-condition{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{align-items:center;display:flex;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-spacing)}.ag-advanced-filter-builder-pill{border-radius:var(--ag-border-radius);min-height:calc(100% - var(--ag-spacing)*3);min-width:calc(var(--ag-spacing)*2);padding:var(--ag-spacing) calc(var(--ag-spacing)*2);position:relative;.ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-value-empty{color:var(--ag-subtle-text-color)}}.ag-ltr .ag-advanced-filter-builder-pill{.ag-picker-field-display{margin-right:var(--ag-spacing)}}.ag-rtl .ag-advanced-filter-builder-pill{.ag-picker-field-display{margin-left:var(--ag-spacing)}}.ag-advanced-filter-builder-item-button,.ag-advanced-filter-builder-pill{&:focus-visible{shadow:var(--ag-focus-shadow)}}.ag-advanced-filter-builder-pill-display{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-advanced-filter-builder-join-pill{background-color:var(--ag-advanced-filter-builder-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill{background-color:var(--ag-advanced-filter-builder-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-builder-option-pill-color);cursor:pointer}.ag-advanced-filter-builder-value-pill{background-color:var(--ag-advanced-filter-builder-value-pill-color);cursor:text;max-width:140px;.ag-advanced-filter-builder-pill-display{display:block}}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-spacing)*.5)}.ag-advanced-filter-builder-item-button{color:var(--ag-subtle-text-color);cursor:pointer;position:relative}.ag-advanced-filter-builder-item-button-disabled{cursor:default;opacity:.5}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-spacing)}.ag-advanced-filter-builder-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:hover{background-color:var(--ag-row-hover-color);.ag-advanced-filter-builder-item-button{opacity:100%}}}.ag-advanced-filter-builder-validation .ag-advanced-filter-builder-invalid,.ag-advanced-filter-builder-virtual-list-item-highlight .ag-advanced-filter-builder-item-button:focus-visible{opacity:100%}.ag-advanced-filter-builder-invalid{color:var(--ag-invalid-color);cursor:default;margin:0 var(--ag-spacing)}.ag-cell-inline-editing{border-radius:var(--ag-border-radius);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-editor .ag-wrapper,.ag-cell-editor input,.ag-cell-wrapper{height:100%;line-height:normal;width:100%}}.ag-autocomplete-list-popup,.ag-popup-editor .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-large-text-input textarea{resize:none}.ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-chart{display:flex;height:100%;position:relative;width:100%}.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{flex:1 1 auto;position:relative}.ag-chart-menu{display:flex;flex-direction:column;position:absolute;top:16px}.ag-ltr .ag-chart-menu{right:20px}.ag-rtl .ag-chart-menu{left:20px}.ag-chart-docked-container{min-width:var(--ag-chart-menu-panel-width);position:relative}.ag-chart-menu-hidden~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.ag-chart-tabbed-menu-header{cursor:default;flex:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-tabbed-menu-body{align-items:stretch;display:flex;flex:1 1 auto;overflow:hidden}.ag-chart-tab{overflow:hidden;overflow-y:auto;width:100%}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.ag-chart-settings-nav-bar{align-items:center;display:flex;height:30px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-chart-settings-card-selector{align-items:center;display:flex;flex:1 1 auto;height:100%;justify-content:space-around;padding:0 10px}.ag-chart-settings-card-item{background-color:var(--ag-foreground-color);border-radius:4px;cursor:pointer;height:10px;height:8px;position:relative;width:10px;width:8px;&.ag-not-selected{opacity:.2}&:before{background-color:transparent;content:" ";display:block;height:20px;left:50%;margin-left:-10px;margin-top:-10px;position:absolute;top:50%;width:20px}&.ag-selected{background-color:var(--ag-accent-color)}}.ag-chart-settings-next,.ag-chart-settings-prev{flex:none;position:relative;&:focus-within{border-radius:1px;box-shadow:var(--ag-focus-shadow)}}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{cursor:pointer;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.ag-chart-settings-mini-charts-container{flex:1 1 auto;overflow-x:hidden;overflow-y:auto;position:relative}.ag-chart-settings-mini-wrapper{display:flex;flex-direction:column;left:0;min-height:100%;overflow:hidden;position:absolute;top:0;width:100%;&.ag-animating{transition:left .3s;transition-timing-function:ease-in-out}}.ag-chart-mini-thumbnail{cursor:pointer}.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;padding-bottom:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-chrome-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section,.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-advanced-settings-section{border-bottom:1px solid var(--ag-border-color)}.ag-chart-empty-text{align-items:center;background-color:var(--ag-background-color);display:flex;height:100%;justify-content:center;top:0;width:100%}.ag-chart .ag-chart-menu{display:none}.ag-chart-menu-hidden:hover .ag-chart-menu{display:block}.ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{display:flex;flex-direction:row;gap:20px;top:8px;width:auto}}}.ag-ltr .ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{justify-content:right;right:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}}}.ag-rtl .ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{justify-content:left;left:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}}}.ag-charts-font-size-color{align-self:stretch;display:flex;justify-content:space-between}.ag-charts-data-group-item{position:relative}.ag-charts-data-group-item:not(:last-child){margin-bottom:var(--ag-spacing)}.ag-chart-menu{background:var(--ag-background-color);border-radius:var(--ag-border-radius)}.ag-chart-menu-icon{border-radius:var(--ag-border-radius);cursor:pointer;margin:2px 0;opacity:.5;opacity:.8;&:hover{opacity:1}}.ag-chart-menu-toolbar-button{background-color:unset;border:0;border-radius:1px;padding:0 2px}.ag-chart-mini-thumbnail{border:1px solid var(--ag-border-color);border-radius:5px;&.ag-selected{border-color:var(--ag-accent-color);border-width:2px}&:focus-visible{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}.ag-chart-data-column-drag-handle{margin-left:var(--ag-spacing)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{position:relative}.ag-charts-advanced-settings-top-level-group-title-bar{background-color:unset;position:relative}.ag-charts-advanced-settings-top-level-group-title-bar:focus-visible,.ag-charts-data-group-title-bar:focus-visible,.ag-charts-format-top-level-group-title-bar:focus-visible,.ag-charts-settings-group-title-bar:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding)*.5) var(--ag-widget-container-horizontal-padding);.ag-charts-data-group-item:not(.ag-charts-format-sub-level-group):not(.ag-pill-select):not(.ag-select){height:var(--ag-list-item-height)}.ag-charts-data-group-item.ag-picker-field{margin-top:var(--ag-spacing)}}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-spacing)*2);padding:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-spacing) 0}.ag-charts-format-sub-level-group-container{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-charts-settings-group-container{display:grid;grid-template-columns:60px 1fr 60px 1fr 60px;padding:var(--ag-spacing);row-gap:8px;.ag-chart-mini-thumbnail:nth-child(3n+1){grid-column:1}.ag-chart-mini-thumbnail:nth-child(3n+2){grid-column:3}.ag-chart-mini-thumbnail:nth-child(3n+3){grid-column:5}}.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-menu-panel{background-color:var(--ag-chrome-background-color)}.ag-ltr .ag-chart-menu-panel{border-left:1px solid var(--ag-border-color)}.ag-rtl .ag-chart-menu-panel{border-right:1px solid var(--ag-border-color)}.ag-chart-tabbed-menu-body{position:relative;&:after{background:linear-gradient(var(--ag-background-color),transparent);content:"";display:block;height:16px;left:0;position:absolute;right:0;top:0}}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{border-top:none;font-weight:500;padding:0 calc(var(--ag-spacing)*1.5)}.ag-chart-settings-nav-bar{border-top:1px solid var(--ag-border-color)}.ag-charts-format-sub-level-group-title-bar{background:none;font-weight:500}.ag-chart-data-section,.ag-chart-format-section{.ag-label:not(.ag-group-title-bar){color:var(--ag-chart-menu-label-color)}.ag-label-align-top .ag-label{margin-bottom:var(--ag-widget-vertical-spacing);margin-top:calc(var(--ag-widget-vertical-spacing)*.5)}.ag-slider.ag-label-align-top .ag-label{margin-bottom:0}& label{display:inline-block}}.ag-chart-data-wrapper,.ag-chart-format-wrapper,.ag-charts-data-group-container,.ag-charts-data-group-title-bar,.ag-charts-format-sub-level-group,.ag-charts-format-sub-level-group-container,.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-group-item:last-child,.ag-charts-format-sub-level-group-title-bar,.ag-charts-format-top-level-group,.ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,.ag-charts-format-top-level-group-item,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{margin:0;padding:0}.ag-charts-data-group,.ag-charts-format-top-level-group{border-top:1px solid var(--ag-border-color)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group .ag-charts-data-group-container,.ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,.ag-charts-settings-group .ag-charts-settings-group-container{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-charts-format-sub-level-group-title-bar{padding:var(--ag-widget-vertical-spacing) 0}.ag-charts-format-sub-level-group-container{padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-vertical-spacing)}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*,.ag-charts-format-top-level-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-chart-advanced-settings-section,.ag-chart-settings-mini-wrapper,.ag-charts-data-group-item{padding-bottom:var(--ag-widget-container-vertical-padding)}.ag-chart-advanced-settings-section{padding-top:var(--ag-widget-container-vertical-padding)}.ag-charts-advanced-settings-top-level-group{.ag-charts-advanced-settings-top-level-group-container,.ag-charts-advanced-settings-top-level-group-title-bar{padding:0 var(--ag-widget-container-horizontal-padding)}}.ag-charts-advanced-settings-top-level-group-container{margin:0}.ag-charts-advanced-settings-top-level-group-item{margin-bottom:0;margin-top:calc(var(--ag-widget-vertical-spacing)*2)}.ag-chart-menu{--ag-icon-size:20px;background-color:color-mix(in srgb,transparent,var(--ag-background-color) 30%);padding:4px 2px}.ag-chart-settings-card-item.ag-not-selected:hover{opacity:.35}.ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-cell,.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{gap:var(--ag-spacing);position:relative}.ag-column-drop-cell-text{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;position:relative;>*{flex:none}}.ag-column-drop-empty .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-vertical-empty-message{display:block}.ag-column-drop.ag-column-drop-horizontal{overflow:hidden;white-space:nowrap}.ag-column-drop-cell-button{cursor:pointer}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell{background:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;padding:calc(var(--ag-spacing)*.5);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-ltr .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}.ag-rtl .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-button{min-width:calc(var(--ag-spacing)*4)}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height)}.ag-ltr .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-list{padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}.ag-ltr .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}.ag-rtl .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-column-drop-vertical-empty-message{bottom:0;left:0;margin-top:var(--ag-spacing);overflow:hidden;position:absolute;right:0;top:0}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}&:focus-visible{shadow:var(--ag-focus-shadow)}}.ag-ltr .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}.ag-sort-indicator-container{display:contents}.ag-ltr .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}.ag-rtl .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border)}.ag-ltr .ag-column-drop-horizontal-half-width:not(:last-child){border-right:var(--ag-column-border)}.ag-rtl .ag-column-drop-horizontal-half-width:not(:last-child){border-left:var(--ag-column-border)}.ag-column-drop-cell-button{min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-vertical{min-height:75px}.ag-column-drop-vertical-title-bar{padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);padding:calc(var(--ag-spacing)*2)}.ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{flex:none;height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding)}.ag-column-select-column,.ag-column-select-column-group,.ag-column-select-header{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);position:relative}.ag-column-select-column,.ag-column-select-column-group{height:100%}.ag-column-select-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}.ag-ltr .ag-column-select-column,.ag-ltr .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-rtl .ag-column-select-column,.ag-rtl .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-ltr .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-rtl .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column,.ag-column-select-column-group{&:not(:last-child){margin-bottom:var(--ag-widget-vertical-spacing)}}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}.ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}.ag-filter-body-wrapper{display:flex;flex-direction:column}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-full-body>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input input[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1}.ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}.ag-ltr .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border);border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}.ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);max-width:200px;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2))}.ag-dnd-ghost,.ag-header{display:flex;overflow:hidden;white-space:nowrap}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-header-row:not(:first-child){.ag-header-cell:not(.ag-header-span-height.ag-header-span-total),.ag-header-group-cell.ag-header-group-cell-with-group{border-top:var(--ag-header-row-border)}}.ag-header-row:not(.ag-header-row-column-group){overflow:hidden}.ag-header.ag-header-allow-overflow .ag-header-row{overflow:visible}.ag-header-cell,.ag-header-group-cell{align-items:center;display:inline-flex;gap:var(--ag-cell-widget-spacing);height:100%;overflow:hidden;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:not(.ag-floating-filter),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:hover:before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&.ag-header-cell-moving:before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-filter-button,.ag-header-cell.ag-header-active .ag-header-cell-menu-button{opacity:1}.ag-header-cell-menu-button:not(.ag-header-menu-always-show){opacity:0;transition:opacity .2s}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;gap:var(--ag-spacing);padding:5px 0}.ag-header-cell-label{overflow:hidden;text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;position:sticky}.ag-ltr .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-group-cell .ag-header-cell-comp-wrapper{display:flex}.ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-comp-wrapper{width:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-right-aligned-header .ag-header-cell-label{flex-direction:row-reverse}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-cell-sortable .ag-header-cell-label,.ag-header-expand-icon,.ag-panel-title-bar-button{cursor:pointer}.ag-advanced-filter-header-cell,.ag-header-cell,.ag-header-group-cell{&:focus-visible{box-shadow:inset var(--ag-focus-shadow)}}.ag-ltr :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-rtl :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}.ag-ltr :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}.ag-rtl :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}.ag-ltr .ag-header-cell:after,.ag-ltr .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{border-right:var(--ag-header-column-border);right:0}.ag-rtl .ag-header-cell:after,.ag-rtl .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}.ag-ltr .ag-header-highlight-before:after{left:0}.ag-ltr .ag-header-highlight-after:after,.ag-rtl .ag-header-highlight-before:after{right:0}.ag-rtl .ag-header-highlight-after:after{left:0}.ag-ltr .ag-pinned-left-header .ag-header-highlight-after:after{right:1px}.ag-rtl .ag-pinned-left-header .ag-header-highlight-after:after{left:1px}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}.ag-ltr .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}.ag-rtl .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}.ag-header-cell.ag-header-span-height .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group.ag-header-span-height .ag-header-cell-resize{display:none}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;min-width:180px;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:1px solid var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}.ag-ltr .ag-compact-menu-option-icon,.ag-ltr .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-compact-menu-option-icon,.ag-rtl .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}.ag-ltr .ag-compact-menu-option-shortcut,.ag-ltr .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}.ag-rtl .ag-compact-menu-option-shortcut,.ag-rtl .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}.ag-ltr .ag-compact-menu-option-popup-pointer,.ag-ltr .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}.ag-rtl .ag-compact-menu-option-popup-pointer,.ag-rtl .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;.ag-column-select{height:100%}}.ag-menu.ag-tabs{min-width:290px}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}.ag-filter-select .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}.ag-ltr .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-ltr .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-rtl .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-ltr .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-rtl .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-ltr .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-menu .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}.ag-ltr .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-resizer-wrapper{margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-menu-option{cursor:pointer;font-weight:500}.ag-ltr .ag-menu-option-popup-pointer .ag-icon{text-align:right}.ag-rtl .ag-menu-option-popup-pointer .ag-icon{text-align:left}.ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-header-text-color);cursor:default;display:flex;flex:none;height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-ltr .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}.ag-rtl .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{color:var(--ag-header-text-color);flex:1 1 auto;font-weight:500}.ag-panel-title-bar-buttons{display:flex}.ag-panel-title-bar-button{cursor:pointer}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1;&.ag-resizer-topLeft{height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}.ag-ltr .ag-resizer{&.ag-resizer-topLeft{cursor:nwse-resize}&.ag-resizer-topRight{cursor:nesw-resize}&.ag-resizer-bottomRight{cursor:nwse-resize}&.ag-resizer-bottomLeft{cursor:nesw-resize}}.ag-rtl .ag-resizer{&.ag-resizer-topLeft{cursor:nesw-resize}&.ag-resizer-topRight{cursor:nwse-resize}&.ag-resizer-bottomRight{cursor:nesw-resize}&.ag-resizer-bottomLeft{cursor:nwse-resize}}.ag-dragging-fill-handle .ag-dialog,.ag-dragging-range-handle .ag-dialog{opacity:.7;pointer-events:none}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}.ag-select{align-items:center;display:flex;flex-direction:row;.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}&.ag-disabled{opacity:.5}}.ag-ltr .ag-select{.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}.ag-rtl .ag-select{.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-rich-select{cursor:default;height:100%}.ag-rich-select-value{align-items:center;background-color:var(--ag-input-background-color);display:flex;height:100%;padding:var(--ag-spacing);.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;&.ag-display-as-placeholder{opacity:.5}}}.ag-rich-select-list{background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);box-shadow:var(--ag-dropdown-shadow);height:auto;position:relative;width:100%;.ag-loading-text{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}}.ag-rich-select-row{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;padding:0 var(--ag-spacing);white-space:nowrap}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color),var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-rich-select-field-input{flex:1 1 auto;.ag-input-field-input{border:none!important;box-shadow:none!important;padding:0!important;text-overflow:ellipsis;&::-moz-placeholder{opacity:.8}&::placeholder{opacity:.8}}}.ag-ltr .ag-rich-select-field-input{left:var(--ag-spacing)}.ag-rtl .ag-rich-select-field-input{right:var(--ag-spacing)}.ag-popup-editor .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-pill-container{display:flex;flex-wrap:nowrap;gap:.25rem}.ag-pill{align-items:center;background:var(--ag-select-cell-background-color);border:var(--ag-select-cell-border);border-radius:var(--ag-border-radius);display:flex;padding:0 .25rem;white-space:nowrap;&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-pill .ag-pill-button{border:none;padding:0;&:hover{color:var(--ag-accent-color);cursor:pointer}}.ag-ltr .ag-pill .ag-pill-button{margin-left:var(--ag-spacing)}.ag-rtl .ag-pill .ag-pill-button{margin-right:var(--ag-spacing)}ag-grid,ag-grid-angular{display:block}.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-tool-panel-wrapper{cursor:default;display:flex;overflow-x:hidden;overflow-y:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-direction:row;flex-wrap:nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-ltr .ag-side-bar-left .ag-tool-panel-horizontal-resize{right:-3px}.ag-ltr .ag-side-bar-right .ag-tool-panel-horizontal-resize,.ag-rtl .ag-side-bar-left .ag-tool-panel-horizontal-resize{left:-3px}.ag-rtl .ag-side-bar-right .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{position:relative;width:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-side-button{&.ag-selected{background-color:var(--ag-background-color);border-bottom:1px solid var(--ag-border-color);&:not(:first-of-type){border-top:1px solid var(--ag-border-color)}}}.ag-side-button-button{align-items:center;cursor:pointer;display:flex;flex-direction:column;gap:var(--ag-spacing);padding:calc(var(--ag-spacing)*3) 0;position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (max-resolution:1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}.ag-ltr .ag-side-button-label{transform:rotate(.05deg)}.ag-rtl .ag-side-button-label{transform:rotate(-.05deg)}}.ag-ltr .ag-side-bar-left,.ag-rtl .ag-side-bar-right{border-right:var(--ag-side-panel-border);.ag-tool-panel-wrapper{border-left:var(--ag-side-panel-border)}}.ag-ltr .ag-side-bar-right,.ag-rtl .ag-side-bar-left{border-left:var(--ag-side-panel-border);.ag-tool-panel-wrapper{border-right:var(--ag-side-panel-border)}}.ag-ltr .ag-chart-menu-panel{border-left:var(--ag-side-panel-border)}.ag-rtl .ag-chart-menu-panel{border-right:var(--ag-side-panel-border)}.ag-button{border-radius:0}.ag-standard-button{-moz-appearance:none;appearance:none;-webkit-appearance:none;background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);cursor:pointer;font-family:inherit;padding:var(--ag-spacing) calc(var(--ag-spacing)*2);&:hover{background-color:var(--ag-row-hover-color)}&:active{border-color:var(--ag-accent-color)}&:disabled{background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}}:where(input[class^=ag-][type=button],button[class^=ag-]):focus-visible{box-shadow:var(--ag-focus-shadow)}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow-x:hidden;overflow-y:auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;& span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.ag-ltr .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}.ag-rtl .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-range-field{align-items:center;display:flex;.ag-input-wrapper{height:100%}}& input[class^=ag-][type=range]{-webkit-appearance:none;background:none;height:100%;overflow:visible;padding:0;width:100%;&::-webkit-slider-runnable-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-moz-range-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-webkit-slider-thumb{-webkit-appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&::-moz-ag-range-thumb{-webkit-appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus{&::-webkit-slider-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&::-moz-ag-range-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}&:active{&::-webkit-slider-runnable-track{background-color:var(--ag-accent-color)}&::-moz-ag-range-track{background-color:var(--ag-accent-color)}}&:disabled{opacity:.5}}.ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border:solid var(--ag-toggle-button-border-width) var(--ag-toggle-button-off-border-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;& input{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;opacity:0;width:100%}&:before{background-color:var(--ag-toggle-button-switch-background-color);border:var(--ag-toggle-button-border-width) solid var(--ag-toggle-button-switch-border-color);border-radius:100%;content:"";display:block;height:var(--ag-toggle-button-height);pointer-events:none;position:absolute;top:calc(0px - var(--ag-toggle-button-border-width));width:var(--ag-toggle-button-height)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);border-color:var(--ag-toggle-button-on-border-color);&:before{border-color:var(--ag-toggle-button-on-border-color)}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}.ag-ltr .ag-toggle-button-input-wrapper{&:before{left:calc(0px - var(--ag-toggle-button-border-width));transition:left .1s}&.ag-checked{&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width))}}}.ag-rtl .ag-toggle-button-input-wrapper{&:before{right:calc(0px - var(--ag-toggle-button-border-width));transition:right .1s}&.ag-checked{&:before{right:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width))}}}.ag-autocomplete{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-autocomplete-list-popup{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-autocomplete-list{height:calc(var(--ag-row-height)*6.5);min-width:200px;position:relative;width:100%}.ag-autocomplete-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:focus-visible:after{content:none}&:hover{background-color:var(--ag-row-hover-color)}}.ag-autocomplete-row{align-items:center;display:flex;flex:1 1 auto;overflow:hidden}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:not(.ag-tooltip-interactive),.ag-tooltip:not(.ag-tooltip-interactive){pointer-events:none}.ag-tooltip-custom.ag-tooltip-animate,.ag-tooltip.ag-tooltip-animate{transition:opacity 1s;&.ag-tooltip-hiding{opacity:0}}.ag-angle-select{align-items:center;display:flex}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{display:block;position:relative}.ag-angle-select-child-circle{position:absolute}.ag-slider-wrapper{display:flex;.ag-input-field{flex:1 1 auto}}.ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-color-panel{display:flex;flex-direction:column;text-align:center;width:100%}.ag-spectrum-color{cursor:default;flex:1 1 auto;overflow:visible;position:relative}.ag-spectrum-fill{inset:0;position:absolute}.ag-spectrum-val{cursor:pointer}.ag-spectrum-dragger{cursor:pointer;pointer-events:none;position:absolute}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(270deg,red 3%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%;width:100%}.ag-spectrum-alpha-background{background:linear-gradient(to right,var(--ag-internal-spectrum-alpha-color-from),var(--ag-internal-spectrum-alpha-color-to)),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>') 0 0 /4px 4px;height:100%;width:100%}.ag-spectrum-tool{cursor:pointer;position:relative}.ag-spectrum-slider{pointer-events:none;position:absolute}.ag-spectrum-alpha .ag-spectrum-slider{background:linear-gradient(to bottom,var(--ag-internal-spectrum-alpha-color),var(--ag-internal-spectrum-alpha-color)) var(--ag-background-color)}.ag-recent-colors{display:flex;gap:6px;margin-top:10px}.ag-recent-color{cursor:pointer}.ag-angle-select[disabled]{opacity:.5;pointer-events:none}.ag-ltr .ag-angle-select-field,.ag-ltr .ag-slider-field{margin-right:calc(var(--ag-spacing)*2)}.ag-rtl .ag-angle-select-field,.ag-rtl .ag-slider-field{margin-left:calc(var(--ag-spacing)*2)}.ag-angle-select-parent-circle{background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-border-color);border-radius:12px;height:24px;width:24px}.ag-angle-select-child-circle{background-color:var(--ag-foreground-color);border-radius:3px;height:6px;left:12px;margin-left:-3px;margin-top:-4px;top:4px;width:6px}.ag-picker-field-wrapper{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{border:var(--ag-input-focus-border);box-shadow:var(--ag-focus-shadow)}}.ag-picker-field-button{background-color:var(--ag-background-color)}.ag-dialog.ag-color-dialog{border-radius:5px}.ag-color-picker{.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-picker-field-display{align-items:center;display:flex;flex-direction:row;min-height:var(--ag-list-item-height)}}.ag-ltr .ag-color-picker-color,.ag-ltr .ag-color-picker-value{margin-right:var(--ag-spacing)}.ag-rtl .ag-color-picker-color,.ag-rtl .ag-color-picker-value{margin-left:var(--ag-spacing)}.ag-color-panel{padding:var(--ag-spacing)}.ag-spectrum-tools{padding-bottom:0;padding-left:0;padding-right:0}.ag-spectrum-tool{height:12px}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:12px}.ag-spectrum-slider{border:3px solid #f8f8f8;border-radius:18px;height:18px;margin-top:-15px;width:18px}.ag-recent-colors{margin-bottom:2px;margin-left:var(--ag-spacing);margin-right:var(--ag-spacing)}.ag-color-input-color,.ag-color-picker-color,.ag-recent-color{border-radius:4px}.ag-recent-color{border:1px solid var(--ag-border-color)}.ag-spectrum-sat{background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0))}.ag-spectrum-val{background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0))}.ag-spectrum-dragger{background:#000;border:3px solid #fff;border-radius:18px;box-shadow:0 0 2px 0 rgba(0,0,0,.24);height:18px;width:18px}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:2px}.ag-spectrum-tool{border-radius:2px;height:11px;margin-bottom:10px}.ag-spectrum-slider{border:2px solid #fff;border-radius:13px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:13px;margin-top:-12px;width:13px}.ag-recent-color,.ag-spectrum-color,.ag-spectrum-slider{&:focus-visible:not(:disabled):not([readonly]){box-shadow:var(--ag-focus-shadow)}}.ag-color-input{.ag-color-input-color{position:absolute}}.ag-ltr .ag-color-input{& input[class^=ag-][type=text].ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-left:var(--ag-spacing)}}.ag-rtl .ag-color-input{& input[class^=ag-][type=text].ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-right:var(--ag-spacing)}}.ag-color-input-color,.ag-color-picker-color{border:1px solid var(--ag-border-color);border-radius:2px;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-pill-select{.ag-picker-field-display{font-weight:500}.ag-picker-field-display,.ag-picker-field-icon .ag-icon{color:var(--ag-chart-menu-label-color)}}.ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header{position:relative}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{align-items:center;display:flex;>*{align-items:center;display:flex}}.ag-filter-toolpanel-header{height:calc(var(--ag-spacing)*6);&:focus-visible{border-radius:var(--ag-border-radius);box-shadow:inset var(--ag-focus-shadow)}}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{padding:0 var(--ag-spacing)}.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-group-level-0-header{height:calc(var(--ag-spacing)*8)}.ag-filter-toolpanel-group-item{margin-bottom:calc(var(--ag-spacing)*.5);margin-top:calc(var(--ag-spacing)*.5)}.ag-filter-toolpanel-search{margin-bottom:var(--ag-spacing);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-spacing)*4)}.ag-ltr .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-filter-toolpanel-expand{cursor:pointer}.ag-ltr .ag-filter-toolpanel-expand{margin-right:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-expand{margin-left:var(--ag-spacing)}.ag-ltr .ag-filter-toolpanel-group-title-bar,.ag-ltr .ag-filter-toolpanel-instance-header{padding-left:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}.ag-rtl .ag-filter-toolpanel-group-title-bar,.ag-rtl .ag-filter-toolpanel-instance-header{padding-right:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}.ag-ltr .ag-filter-toolpanel-instance-body{margin-left:var(--ag-filter-tool-panel-group-indent)}.ag-rtl .ag-filter-toolpanel-instance-body{margin-right:var(--ag-filter-tool-panel-group-indent)}.ag-ltr .ag-filter-toolpanel-group-instance-header-icon,.ag-ltr .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-group-instance-header-icon,.ag-rtl .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-spacing)}.ag-filter-toolpanel-instance-filter{background-color:var(--ag-chrome-background-color)}.ag-filter-toolpanel-group-level-0{border-top:none}.ag-filter-toolpanel-header{height:auto;padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-filter-toolpanel-group-item{margin:0}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{color:var(--ag-header-text-color);font-weight:500}.ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}.ag-paging-page-size .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}.ag-status-bar{border-top:var(--ag-footer-row-border);display:flex;justify-content:space-between;line-height:1.5;overflow:hidden;padding-left:calc(var(--ag-spacing)*4);padding-right:calc(var(--ag-spacing)*4)}.ag-status-panel{display:inline-flex}.ag-status-name-value{white-space:nowrap}.ag-status-bar-center,.ag-status-bar-left,.ag-status-bar-right{display:inline-flex}.ag-status-bar-center{text-align:center}.ag-status-name-value{margin-left:var(--ag-spacing);margin-right:var(--ag-spacing);padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding)}.ag-status-name-value-value{font-weight:500}.ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}.ag-icon{display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}}.ag-column-select-column-readonly .ag-icon-grip,.ag-column-select-column-readonly.ag-icon-grip{opacity:.35}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-contracted .ag-icon,.ag-group-expanded .ag-icon,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons{&:hover{background-color:var(--ag-icon-button-hover-color);border-radius:1px;box-shadow:0 0 0 4px var(--ag-icon-button-hover-color)}}.ag-filter-active{--ag-icon-button-hover-color:color-mix(in srgb,transparent,var(--ag-accent-color) 28%);background-color:color-mix(in srgb,transparent,var(--ag-accent-color) 14%);border-radius:1px;box-shadow:0 0 0 4px color-mix(in srgb,transparent,var(--ag-accent-color) 14%);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}.ag-icon-filter{clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z")}}.ag-ltr .ag-filter-active{&:after{right:-1px}}.ag-rtl .ag-filter-active{&:after{left:-1px}}.ag-label-align-right{.ag-label{order:1}>*{flex:none}}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-label{white-space:nowrap}.ag-ltr .ag-label{margin-right:var(--ag-spacing)}.ag-rtl .ag-label{margin-left:var(--ag-spacing)}.ag-label-align-top .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}.ag-ltr .ag-label-align-right .ag-label{margin-left:var(--ag-spacing)}.ag-rtl .ag-label-align-right .ag-label{margin-right:var(--ag-spacing)}`,coreDefaults={backgroundColor:"#FFF",foregroundColor:"#181d1f",textColor:{ref:"foregroundColor"},accentColor:"#2196f3",invalidColor:"#e02525",borderColor:{ref:"foregroundColor",mix:.15},wrapperBorder:!0,rowBorder:!0,browserColorScheme:"light",headerRowBorder:{ref:"rowBorder"},footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],chromeBackgroundColor:{ref:"foregroundColor",mix:.02,onto:"backgroundColor"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"backgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:{ref:"accentColor"},rangeSelectionBackgroundColor:{ref:"accentColor",mix:.2},rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:{ref:"accentColor",mix:.5},rowHoverColor:{ref:"accentColor",mix:.08},columnHoverColor:{ref:"accentColor",mix:.05},selectedRowBackgroundColor:{ref:"accentColor",mix:.12},modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:{ref:"backgroundColor"},borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:{radius:16,color:"#00000026"},dropdownShadow:{radius:4,spread:1,offsetY:1,color:"#babfc766"},dragAndDropImageBackgroundColor:{ref:"backgroundColor"},dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:{ref:"foregroundColor",mix:.7},focusShadow:{spread:3,color:{ref:"accentColor",mix:.5}},sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"iconSize + widgetVerticalSpacing"},iconSize:16,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonBorderWidth:2,toggleButtonOnBorderColor:{ref:"accentColor"},toggleButtonOnBackgroundColor:{ref:"accentColor"},toggleButtonOffBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},toggleButtonOffBackgroundColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},toggleButtonSwitchBorderColor:{ref:"toggleButtonOffBorderColor"},toggleButtonSwitchBackgroundColor:{ref:"backgroundColor"},menuBorder:{color:{ref:"foregroundColor",mix:.2}},menuBackgroundColor:{ref:"foregroundColor",mix:.03,onto:"backgroundColor"},menuTextColor:{ref:"foregroundColor",mix:.95,onto:"backgroundColor"},menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:{ref:"foregroundColor",mix:.8},iconButtonHoverColor:{ref:"foregroundColor",mix:.1},dialogShadow:{ref:"popupShadow"},dialogBorder:{color:{ref:"foregroundColor",mix:.2}},panelBackgroundColor:{ref:"backgroundColor"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:{ref:"foregroundColor",mix:.07},columnDropCellBorder:{color:{ref:"foregroundColor",mix:.13}},selectCellBackgroundColor:{ref:"foregroundColor",mix:.07},selectCellBorder:{color:{ref:"foregroundColor",mix:.13}},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},iconButtonHoverBackgroundColor:{ref:"foregroundColor",mix:.1},rowLoadingSkeletonEffectColor:"rgba(66, 66, 66, 0.2)"},kebabCase=e=>e.replace(/[A-Z]/g,o=>`-${o}`).toLowerCase(),paramToVariableName=e=>`--ag-${kebabCase(e)}`,paramToVariableExpression=e=>`var(${paramToVariableName(e)})`,clamp=(e,o,a)=>Math.max(o,Math.min(a,e)),memoize=e=>{const o=new Map;return a=>{const c=a;return o.has(c)||o.set(c,e(a)),o.get(c)}},getParamType=memoize(e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if(e==="spacing"||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)}),literalToCSS=e=>typeof e=="string"?e:typeof e=="number"?String(e):!1,colorValueToCss=e=>{if(typeof e=="string")return e;if("ref"in e){const o=paramToVariableExpression(e.ref);return e.mix==null?o:`color-mix(in srgb, ${e.onto?"var(--ag-background-color)":"transparent"}, ${o} ${clamp(e.mix*100,0,100)}%)`}return!1},colorSchemeValueToCss=literalToCSS,lengthValueToCss=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?[a-z][a-z0-9]*\b(?![-(])/gi,a=>a[0]==="-"?a:` ${paramToVariableExpression(a)} `)})`:"ref"in e?paramToVariableExpression(e.ref):!1,scaleValueToCss=literalToCSS,borderValueToCss=(e,o)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?o==="columnBorder"?"solid 1px transparent":"none":"ref"in e?paramToVariableExpression(e.ref):borderStyleValueToCss(e.style??"solid")+" "+lengthValueToCss(e.width??1)+" "+colorValueToCss(e.color??{ref:"borderColor"}),shadowValueToCss=e=>typeof e=="string"?e:e===!1?"none":"ref"in e?paramToVariableExpression(e.ref):[lengthValueToCss(e.offsetX??0),lengthValueToCss(e.offsetY??0),lengthValueToCss(e.radius??0),lengthValueToCss(e.spread??0),colorValueToCss(e.color??{ref:"foregroundColor"})].join(" "),borderStyleValueToCss=literalToCSS,fontFamilyValueToCss=e=>typeof e=="string"?e:"googleFont"in e?fontFamilyValueToCss(e.googleFont):"ref"in e?paramToVariableExpression(e.ref):Array.isArray(e)?e.map(o=>(typeof o=="object"&&"googleFont"in o&&(o=o.googleFont),/^[\w-]+$/.test(o)?o:JSON.stringify(o))).join(", "):!1,fontWeightValueToCss=literalToCSS,imageValueToCss=e=>typeof e=="string"?e:"url"in e?`url(${JSON.stringify(e.url)})`:"svg"in e?imageValueToCss({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):"ref"in e?paramToVariableExpression(e.ref):!1,durationValueToCss=(e,o)=>typeof e=="string"?e:typeof e=="number"?(e>50&&_errorOnce(`Numeric value ${e} passed to ${o} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`),`${e}s`):"ref"in e?paramToVariableExpression(e.ref):!1,paramValidators={color:colorValueToCss,colorScheme:colorSchemeValueToCss,length:lengthValueToCss,scale:scaleValueToCss,border:borderValueToCss,borderStyle:borderStyleValueToCss,shadow:shadowValueToCss,image:imageValueToCss,fontFamily:fontFamilyValueToCss,fontWeight:fontWeightValueToCss,duration:durationValueToCss},paramValueToCss=(e,o)=>{const a=getParamType(e);return paramValidators[a](o,e)},customThemeCounter=0,createTheme=(e=`customTheme${++customThemeCounter}`)=>new ThemeImpl(e,[],{}),IS_SSR=typeof window!="object"||!window||typeof document!="object"||window.document!==document,themeClassCounter=0,uninstalledLegacyCSS=!1,ThemeImpl=class Mx{constructor(o,a=[],c={}){this.id=o,this.dependencies=a,this.defaults=c,this.useCount=0}withPart(o){return typeof o=="function"&&(o=o()),new Mx(this.id,this.dependencies.concat(o),this.defaults)}withParams(o){const a={...this.defaults};for(const[c,d]of Object.entries(o))d!=null&&(a[c]=d);return new Mx(this.id,this.dependencies,a)}getCSS(){return[coreCSS,...this._getCSSChunks().map(o=>o.css)].join(`

`)}startUse(o){++this.useCount,this.useCount===1&&this._install(o)}stopUse(){--this.useCount,this.useCount===0&&setTimeout(()=>{this.useCount===0&&uninstallThemeCSS(this.getCssClass(),this._installRoot)},1e3)}getCssClass(){return this._cssClass==null&&(this._cssClass=`ag-theme-${++themeClassCounter}`),this._cssClass}getParams(){if(this._getParamsCache)return this._getParamsCache;const o={...coreDefaults};for(const a of this._getFlatUnits())for(const[c,d]of Object.entries(a.defaults)){const g=d??coreDefaults[c];g!=null&&(o[c]=g)}return this._getParamsCache=o}async _install({container:o,loadThemeGoogleFonts:a}){if(IS_SSR)return;uninstalledLegacyCSS||(uninstalledLegacyCSS=!0,uninstallThemeCSS("legacy",document.head),getComputedStyle(document.body).getPropertyValue("--ag-legacy-styles-loaded")&&_errorOnce("both Theming API and the ag-grid.css are used on the same page, styling will be incorrect"));let c=o.getRootNode();c instanceof ShadowRoot||(c=document.head),this._installRoot=c;const d=[];d.push(installCSS({css:coreCSS,part:"core",root:c}));for(const g of getGoogleFontsUsed(this))a?loadGoogleFont(g):a==null&&_warnOnce(`theme uses google font ${g} but no value for loadThemeGoogleFonts was provided. Pass true to load fonts from ${googleFontsDomain} or false to silence this warning.`);for(const g of this._getCSSChunks())installCSS({css:g.css,part:g.id,scope:this.getCssClass(),root:c});return Promise.all(d)}_getFlatUnits(){if(this._getFlatUnitsCache)return this._getFlatUnitsCache;const o={};for(const c of this.dependencies)delete o[c.feature],o[c.feature]=c;const a=[...Object.values(o),this];return this._getFlatUnitsCache=a}_getCSSChunks(){if(this._getCssChunksCache)return this._getCssChunksCache;const o=[];o.push(makeVariablesChunk(this));for(const a of this._getFlatUnits())if(a.css&&a.css.length>0){let c=`/* Part ${a.id} */`;c+=a.css.map(d=>typeof d=="function"?d():d).join(`
`)+`
`,c=`.${this.getCssClass()} {
	${c}
}`,o.push({css:c,id:a.id})}return this._getCssChunksCache=o}},makeVariablesChunk=e=>{let o="",a="";for(const[g,b]of Object.entries(e.getParams())){const _=paramValueToCss(g,b);if(_===!1)_errorOnce(`Invalid value for param ${g} - ${describeValue(b)}`);else{const $=paramToVariableName(g),j=$.replace("--ag-","--ag-inherited-");o+=`	${$}: var(${j}, ${_});
`,a+=`	${j}: var(${$});
`}}const c=`:where(.${e.getCssClass()})`;let d=`${c} {
${o}}
`;return d+=`:has(> ${c}):not(${c}) {
${a}}
`,{css:d,id:"variables"}},getGoogleFontsUsed=e=>Array.from(new Set(Object.values(e.getParams()).flat().map(o=>o==null?void 0:o.googleFont).filter(o=>typeof o=="string"))).sort(),installCSS=async({root:e,part:o,scope:a,css:c})=>{let d=`:scope > style[data-ag-part="${o}"]`;a&&(d+=`[data-ag-scope="${a}"]`);let g=e.querySelector(d);if(!g){g=document.createElement("style"),g.dataset.agPart=o,a&&(g.dataset.agScope=a);const b=e.querySelectorAll(":scope > style[data-ag-part]"),_=b[b.length-1];_?_.insertAdjacentElement("afterend",g):e.firstElementChild?e.firstElementChild.insertAdjacentElement("beforebegin",g):e.appendChild(g)}if(g._agTextContent!==c)return g.textContent=c,g._agTextContent=c,resolveOnLoad(g)},uninstallThemeCSS=(e,o)=>{for(const a of Array.from(o.querySelectorAll(`:scope > style[data-ag-scope="${e}"]`)))a.remove()},googleFontsLoaded=new Set,loadGoogleFont=async e=>{if(googleFontsLoaded.has(e))return;googleFontsLoaded.add(e);const o=`@import url('https://${googleFontsDomain}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;return installCSS({css:o,part:`googleFont:${e}`,root:document.head})},googleFontsDomain="fonts.googleapis.com",resolveOnLoad=e=>new Promise(o=>{const a=()=>{e.removeEventListener("load",a),o()};e.addEventListener("load",a)}),describeValue=e=>e==null?String(e):`${typeof e} ${e}`,checkboxStyleDefaultCSS='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);& input{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;opacity:0;width:100%}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&.ag-checked{background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:active,&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&.ag-checked:after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&.ag-indeterminate{background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&.ag-checked:after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',checkboxStyleDefault=createPart("checkboxStyle","default").withAdditionalParams({checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:{ref:"backgroundColor"},checkboxUncheckedBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxCheckedBackgroundColor:{ref:"accentColor"},checkboxCheckedBorderColor:{ref:"accentColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:{ref:"backgroundColor"},checkboxIndeterminateBackgroundColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxIndeterminateBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:{ref:"backgroundColor"},radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}}).withCSS(checkboxStyleDefaultCSS),colorSchemeLight=createPart("colorScheme","light"),colorSchemeLightWarm=createPart("colorScheme","lightWarm").withParams({foregroundColor:"#000000de",borderColor:"#60300026",chromeBackgroundColor:"#60300005"}),colorSchemeLightCold=createPart("colorScheme","lightCold").withParams({foregroundColor:"#000",backgroundColor:"#fff",chromeBackgroundColor:"#f3f8f8"}),colorSchemeDark=createPart("colorScheme","dark").withParams({backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.05,onto:"backgroundColor"},browserColorScheme:"dark"}),colorSchemeDarkWarm=createPart("colorScheme","darkWarm").withParams({backgroundColor:"hsl(29, 10%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.05,onto:"backgroundColor"},browserColorScheme:"dark"}),colorSchemeDarkBlue=createPart("colorScheme","darkBlue").withParams({backgroundColor:"#1f2836",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.07,onto:"backgroundColor"},browserColorScheme:"dark"}),iconSetAlpineCSS=`.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}.ag-icon-aggregation:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-arrows:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-asc:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cancel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-chart:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-color-picker:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-columns:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E")}.ag-icon-contracted:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cross:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-csv:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-excel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E")}.ag-icon-eye:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-filter:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-first:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-group:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E")}.ag-icon-last:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-linked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-loading:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E")}.ag-icon-maximize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E")}.ag-icon-menu:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E")}.ag-icon-minimize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E")}.ag-icon-minus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E")}.ag-icon-none:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-not-allowed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-paste:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pin:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pivot:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-plus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-save:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tick:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-grip:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-settings:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,iconSetAlpine=createPart("iconSet","alpine").withCSS(iconSetAlpineCSS),iconSetMaterialCSS=`.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}.ag-icon-aggregation:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E")}.ag-icon-asc:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-chart:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E")}.ag-icon-cross:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-csv:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E")}.ag-icon-excel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E")}.ag-icon-eye:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E")}.ag-icon-filter:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E")}.ag-icon-first:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E")}.ag-icon-group:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E")}.ag-icon-last:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E")}.ag-icon-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E")}.ag-icon-linked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E")}.ag-icon-loading:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E")}.ag-icon-menu:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E")}.ag-icon-minimize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E")}.ag-icon-minus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-none:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E")}.ag-icon-paste:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E")}.ag-icon-pin:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E")}.ag-icon-pivot:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E")}.ag-icon-plus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E")}.ag-icon-save:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-tick:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E")}.ag-icon-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-grip:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E")}.ag-icon-settings:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,iconSetMaterial=createPart("iconSet","material").withCSS(iconSetMaterialCSS),iconSetQuartzCSS='.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}',iconNameToSvgFragment={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-down":'<path d="m6 9 6 6 6-6"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',"small-up":'<path d="m18 15-6-6-6 6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},getQuartzIconsCss=(e={})=>{let o=iconSetQuartzCSS;for(const a of Object.keys(iconNameToSvgFragment)){const c=quartzIconSvg(a,e.strokeWidth||1.5);o+=`.ag-icon-${a}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(c)}'); }
`}return o},quartzIconSvg=(e,o)=>{const a=iconNameToSvgFragment[e];if(!a)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon ag-icon-${e}" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${o}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+a+"</svg>"},iconSetQuartz=(e={})=>createPart("iconSet","quartz").withCSS(()=>getQuartzIconsCss(e)),iconSetQuartzLight=createPart("iconSet","quartzLight").withCSS(()=>getQuartzIconsCss({strokeWidth:1})),iconSetQuartzRegular=createPart("iconSet","quartzRegular").withCSS(getQuartzIconsCss),iconSetQuartzBold=createPart("iconSet","quartzBold").withCSS(()=>getQuartzIconsCss({strokeWidth:2})),inputStyleBaseCSS=":where(input[class^=ag-][type=number]:not(.ag-number-field-input-stepper)){-moz-appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}}:where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);cursor:pointer;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color)}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}}&.ag-ltr :where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){padding-left:var(--ag-input-padding-start)}&.ag-rtl :where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){padding-right:var(--ag-input-padding-start)}",inputStyleUnderlinedCSS=":where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){border-left:none;border-right:none;border-top:none}",inputStyleBase=createPart("inputStyle","base").withAdditionalParams({inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"}}).withCSS(inputStyleBaseCSS),inputStyleBordered=createPartVariant(inputStyleBase,"bordered").withParams({inputBackgroundColor:{ref:"backgroundColor"},inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:{ref:"accentColor"}},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:{ref:"foregroundColor",mix:.06,onto:"backgroundColor"},inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}}}),inputStyleUnderlined=createPartVariant(inputStyleBase,"underlined").withParams({inputBorder:{width:2,color:{ref:"foregroundColor",mix:.3}},inputPaddingStart:{ref:"spacing"},inputFocusBorder:"solid 2px var(--ag-accent-color)",inputDisabledTextColor:{ref:"textColor",mix:.5},inputDisabledBorder:"solid 1px var(--ag-border-color)",inputInvalidBorder:{width:2,color:{ref:"invalidColor",mix:.3}}}).withCSS(inputStyleUnderlinedCSS),tabStyleBaseCSS='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex;.ag-tabs-header{flex:1}}.ag-tabs-close-button-wrapper{border:0;padding:var(--ag-spacing)}&.ag-ltr .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}&.ag-rtl .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}&:focus-visible{box-shadow:inset var(--ag-focus-shadow)}}&.ag-ltr .ag-tab{&.ag-tab-selected{&:not(:first-of-type){border-left-color:var(--ag-tab-selected-border-color)}&:not(:last-of-type){border-right-color:var(--ag-tab-selected-border-color)}}}&.ag-rtl .ag-tab{&.ag-tab-selected{&:not(:first-of-type){border-right-color:var(--ag-tab-selected-border-color)}&:not(:last-of-type){border-left-color:var(--ag-tab-selected-border-color)}}}',tabStyleRolodexCSS=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:0;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",tabStyleBase=createPart("tabStyle","base").withAdditionalParams({tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:"0",tabSelectedUnderlineTransitionDuration:"0",tabBarBorder:!1}).withCSS(tabStyleBaseCSS),tabStyleQuartz=createPartVariant(tabStyleBase,"quartz").withParams({tabBarBorder:!0,tabBarBackgroundColor:{ref:"foregroundColor",mix:.05},tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}}),tabStyleMaterial=createPartVariant(tabStyleBase,"material").withParams({tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabSelectedUnderlineColor:{ref:"primaryColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0"}),tabStyleAlpine=createPartVariant(tabStyleBase,"alpine").withParams({tabBarBorder:!0,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabHoverTextColor:{ref:"accentColor"},tabSelectedTextColor:{ref:"accentColor"},tabSelectedUnderlineColor:{ref:"accentColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0.3s"}),tabStyleRolodex=createPartVariant(tabStyleBase,"rolodex").withParams({tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabBarHorizontalPadding:{ref:"spacing"},tabBarTopPadding:{ref:"spacing"},tabBarBorder:!0,tabHorizontalPadding:{calc:"spacing * 2"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:{ref:"spacing"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}}).withCSS(tabStyleRolodexCSS),createThemeWithDefaultWidgets=e=>createTheme(e).withPart(checkboxStyleDefault),themeQuartz=createThemeWithDefaultWidgets("quartz").withPart(colorSchemeLight).withPart(iconSetQuartz).withPart(tabStyleQuartz).withPart(()=>inputStyleBordered).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),themeAlpine=createThemeWithDefaultWidgets("alpine").withPart(colorSchemeLight).withPart(iconSetAlpine).withPart(tabStyleAlpine).withPart(inputStyleBordered).withParams({accentColor:"#2196f3",selectedRowBackgroundColor:{ref:"accentColor",mix:.3},inputFocusBorder:{color:{ref:"accentColor",mix:.4}},fontSize:13,dataFontSize:14,headerFontWeight:700,borderRadius:3,wrapperBorderRadius:3,tabSelectedUnderlineColor:{ref:"accentColor"},tabSelectedBorderWidth:2,tabSelectedUnderlineTransitionDuration:.3}),themeBalham=createThemeWithDefaultWidgets("balham").withPart(colorSchemeLightCold).withPart(iconSetAlpine).withPart(tabStyleRolodex).withPart(inputStyleBordered).withParams({spacing:4,borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:"transparent",headerColumnBorder:!0,headerColumnBorderHeight:"50%",oddRowBackgroundColor:{ref:"chromeBackgroundColor",mix:.5},headerTextColor:{ref:"foregroundColor",mix:.5},fontSize:12,headerFontWeight:"bold"});ModuleRegistry.__registerModules([CommunityFeaturesModule,ClientSideRowModelModule,InfiniteRowModelModule,CsvExportModule],!1,void 0);var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,o)=>{for(var a in o)__defProp(e,a,{get:o[a],enumerable:!0})},__copyProps=(e,o,a,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of __getOwnPropNames(o))!__hasOwnProp.call(e,d)&&d!==a&&__defProp(e,d,{get:()=>o[d],enumerable:!(c=__getOwnPropDesc(o,d))||c.enumerable});return e},__toESM=(e,o,a)=>(a=e!=null?__create(__getProtoOf(e)):{},__copyProps(!e||!e.__esModule?__defProp(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),src_exports={};__export(src_exports,{AgGridReact:()=>AgGridReact,CustomComponentContext:()=>CustomContext,getInstance:()=>getInstance,useGridCellEditor:()=>useGridCellEditor,useGridDate:()=>useGridDate,useGridFilter:()=>useGridFilter,useGridFloatingFilter:()=>useGridFloatingFilter,useGridMenuItem:()=>useGridMenuItem,warnReactiveCustomComponents:()=>warnReactiveCustomComponents});var index_cjs=__toCommonJS(src_exports),import_react24=__toESM(reactExports),import_ag_grid_community20=main_cjs,import_react23=__toESM(reactExports),import_ag_grid_community=main_cjs,import_react3=__toESM(reactExports),import_react=__toESM(reactExports),BeansContext=import_react.default.createContext({}),showJsComp=(e,o,a,c)=>{if(!e||e.componentFromFramework||o.isDestroyed())return;const g=e.newAgStackInstance();if(g==null)return;let b,_,$=!1;return g.then(j=>{if($){o.destroyBean(j);return}b=j,_=b.getGui(),a.appendChild(_),setRef(c,b)}),()=>{var j;$=!0,b&&((j=_==null?void 0:_.parentElement)==null||j.removeChild(_),o.destroyBean(b),c&&setRef(c,void 0))}},setRef=(e,o)=>{if(e)if(e instanceof Function)e(o);else{const a=e;a.current=o}},import_react2=__toESM(reactExports),import_react_dom=__toESM(reactDomExports),classesList=(...e)=>e.filter(a=>a!=null&&a!=="").join(" "),CssClasses=class pC{constructor(...o){this.classesMap={},o.forEach(a=>{this.classesMap[a]=!0})}setClass(o,a){if(!!this.classesMap[o]==a)return this;const d=new pC;return d.classesMap={...this.classesMap},d.classesMap[o]=a,d}toString(){return Object.keys(this.classesMap).filter(a=>this.classesMap[a]).join(" ")}},isComponentStateless=e=>{const o=()=>typeof Symbol=="function"&&Symbol.for,a=()=>o()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===a()},aC,reactVersion=(aC=import_react2.default.version)==null?void 0:aC.split(".")[0],isReactVersion17Minus=reactVersion==="16"||reactVersion==="17";function isReact19(){return reactVersion==="19"}var disableFlushSync=!1;function runWithoutFlushSync(e){return disableFlushSync||setTimeout(()=>disableFlushSync=!1,0),disableFlushSync=!0,e()}var agFlushSync=(e,o)=>{!isReactVersion17Minus&&e&&!disableFlushSync?import_react_dom.default.flushSync(o):o()};function getNextValueIfDifferent(e,o,a){if(o==null||e==null)return o;if(e===o||o.length===0&&e.length===0)return e;if(a||e.length===0&&o.length>0||e.length>0&&o.length===0)return o;const c=[],d=[],g=new Map,b=new Map;for(let _=0;_<o.length;_++){const $=o[_];b.set($.instanceId,$)}for(let _=0;_<e.length;_++){const $=e[_];g.set($.instanceId,$),b.has($.instanceId)&&c.push($)}for(let _=0;_<o.length;_++){const $=o[_],j=$.instanceId;g.has(j)||d.push($)}return c.length===e.length&&d.length===0?e:c.length===0&&d.length===o.length?o:c.length===0?d:d.length===0?c:[...c,...d]}var GroupCellRenderer=(0,import_react3.forwardRef)((e,o)=>{var S0;const{ctrlsFactory:a,context:c}=(0,import_react3.useContext)(BeansContext),d=(0,import_react3.useRef)(null),g=(0,import_react3.useRef)(null),b=(0,import_react3.useRef)(null),_=(0,import_react3.useRef)(null),$=(0,import_react3.useRef)(null),j=(0,import_react3.useRef)(),[rt,nt]=(0,import_react3.useState)(),[In,xl]=(0,import_react3.useState)(),[Ll,Nl]=(0,import_react3.useState)(),[_u,Yl]=(0,import_react3.useState)(()=>new CssClasses),[Ul,Dl]=(0,import_react3.useState)(()=>new CssClasses("ag-hidden")),[Zl,Ju]=(0,import_react3.useState)(()=>new CssClasses("ag-hidden")),[Uu,fp]=(0,import_react3.useState)(()=>new CssClasses("ag-invisible"));(0,import_react3.useImperativeHandle)(o,()=>({refresh(){return!1}})),(0,import_react3.useLayoutEffect)(()=>showJsComp(rt,c,g.current),[rt]);const Zu=(0,import_react3.useCallback)(l0=>{if(d.current=l0,!l0){j.current=c.destroyBean(j.current);return}const Op={setInnerRenderer:(mm,fm)=>{nt(mm),Nl(fm)},setChildCount:mm=>xl(mm),addOrRemoveCssClass:(mm,fm)=>Yl(g0=>g0.setClass(mm,fm)),setContractedDisplayed:mm=>Ju(fm=>fm.setClass("ag-hidden",!mm)),setExpandedDisplayed:mm=>Dl(fm=>fm.setClass("ag-hidden",!mm)),setCheckboxVisible:mm=>fp(fm=>fm.setClass("ag-invisible",!mm))},Wp=a.getInstance("groupCellRendererCtrl");Wp&&(j.current=c.createBean(Wp),j.current.init(Op,l0,b.current,_.current,$.current,GroupCellRenderer,e))},[]),Lp=(0,import_react3.useMemo)(()=>`ag-cell-wrapper ${_u.toString()}`,[_u]),Np=(0,import_react3.useMemo)(()=>`ag-group-expanded ${Ul.toString()}`,[Ul]),zp=(0,import_react3.useMemo)(()=>`ag-group-contracted ${Zl.toString()}`,[Zl]),h0=(0,import_react3.useMemo)(()=>`ag-group-checkbox ${Uu.toString()}`,[Uu]),k0=rt&&rt.componentFromFramework,D0=k0?rt.componentClass:void 0,s0=rt==null&&Ll!=null,dp=(0,import_ag_grid_community._escapeString)(Ll,!0);return import_react3.default.createElement("span",{className:Lp,ref:Zu,...e.colDef?{}:{role:(S0=j.current)==null?void 0:S0.getCellAriaRole()}},import_react3.default.createElement("span",{className:Np,ref:_}),import_react3.default.createElement("span",{className:zp,ref:$}),import_react3.default.createElement("span",{className:h0,ref:b}),import_react3.default.createElement("span",{className:"ag-group-value",ref:g},s0&&import_react3.default.createElement(import_react3.default.Fragment,null,dp),k0&&import_react3.default.createElement(D0,{...rt.params})),import_react3.default.createElement("span",{className:"ag-group-child-count"},In))}),groupCellRenderer_default=GroupCellRenderer,import_ag_grid_community3=main_cjs,import_react5=__toESM(reactExports),import_react4=reactExports,CustomContext=(0,import_react4.createContext)({setMethods:()=>{}}),CustomWrapperComp=e=>{const{initialProps:o,addUpdateCallback:a,CustomComponentClass:c,setMethods:d}=e,[{key:g,...b},_]=(0,import_react5.useState)(o);return(0,import_react5.useEffect)(()=>{a($=>_($))},[]),import_react5.default.createElement(CustomContext.Provider,{value:{setMethods:d}},import_react5.default.createElement(c,{key:g,...b}))},customWrapperComp_default=(0,import_react5.memo)(CustomWrapperComp),import_ag_grid_community2=main_cjs,import_react6=reactExports,import_react_dom2=reactDomExports,counter=0;function generateNewKey(){return`agPortalKey_${++counter}`}var ReactComponent=class{constructor(e,o,a,c){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=o,this.componentType=a,this.suppressFallbackMethods=!!c,this.statelessComponent=this.isStateless(this.reactComponent),this.key=generateNewKey(),this.portalKey=generateNewKey(),this.instanceCreated=this.isStatelessComponent()?import_ag_grid_community2.AgPromise.resolve(!1):new import_ag_grid_community2.AgPromise(d=>{this.resolveInstanceCreated=d})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const o=this.portalManager.getComponentWrappingElement(),a=document.createElement(o||"div");return a.classList.add("ag-react-container"),e.reactContainer=a,a}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&((0,import_ag_grid_community2._warnOnce)('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&((0,import_ag_grid_community2._warnOnce)('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(o=>this.eParentElement.classList.add(o))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const o=this.getFrameworkComponentInstance();return!!o&&o[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,o){const a=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,o&&o[0]?o[0]:{});if(!a){setTimeout(()=>this.callMethod(e,o));return}const c=a[e];if(c)return c.apply(a,o);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,o&&o[0]?o[0]:{})}addMethod(e,o){this[e]=o}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new import_ag_grid_community2.AgPromise(o=>this.createReactComponent(o))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=o=>{var a;this.componentInstance=o,this.addParentContainerStyleAndClasses(),(a=this.resolveInstanceCreated)==null||a.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,import_react_dom2.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,o){return(0,import_react6.createElement)(e,o)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,o){const a=this[`${e}Component`];if(!this.suppressFallbackMethods&&a)return a.bind(this)(o)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function addOptionalMethods(e,o,a){e.forEach(c=>{const d=o[c];d&&(a[c]=d)})}var CustomComponentWrapper=class extends ReactComponent{constructor(){super(...arguments),this.awaitUpdateCallback=new import_ag_grid_community3.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=customWrapperComp_default}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,o){return super.createElement(this.wrapperComponent,{initialProps:o,CustomComponentClass:e,setMethods:a=>this.setMethods(a),addUpdateCallback:a=>{this.updateCallback=()=>(a(this.getProps()),new import_ag_grid_community3.AgPromise(c=>{setTimeout(()=>{c()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,addOptionalMethods(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new import_ag_grid_community3.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},CellRendererComponentWrapper=class extends CustomComponentWrapper{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},DateComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},DragAndDropImageComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,o){this.icon=e,this.shake=o,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:o,icon:a,shake:c}=this;return e.label=o,e.icon=a,e.shake=c,e}},FilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var o;this.expectingNewMethods===!1&&this.hasBeenActive&&((o=this.providedMethods)==null?void 0:o.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}},import_ag_grid_community4=main_cjs;function updateFloatingFilterParent(e,o){e.parentFilterInstance(a=>{(a.setModel(o)||import_ag_grid_community4.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var FloatingFilterComponentProxy=class{constructor(e,o){this.floatingFilterParams=e,this.refreshProps=o,this.model=null,this.onModelChange=a=>this.updateModel(a)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){addOptionalMethods(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),updateFloatingFilterParent(this.floatingFilterParams,e)}},FloatingFilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),updateFloatingFilterParent(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},LoadingOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(e){this.sourceParams=e,this.refreshProps()}},MenuItemComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const o=this.awaitSetActive(e);e&&o.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},NoRowsOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(e){this.sourceParams=e,this.refreshProps()}},StatusPanelComponentWrapper=class extends CustomComponentWrapper{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ToolPanelComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},import_ag_grid_community5=main_cjs;function getInstance(e,o){var c;(((c=e==null?void 0:e.getInstance)==null?void 0:c.call(e))??import_ag_grid_community5.AgPromise.resolve(void 0)).then(d=>o(d))}function warnReactiveCustomComponents(){(0,import_ag_grid_community5._warnOnce)("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,PortalManager=class{constructor(e,o,a){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=o||"div",this.refresher=e,this.maxComponentCreationTimeMs=a||MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(o=>o!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,o,a){this.portals=[...this.portals,e],this.waitForInstance(o,a),this.batchUpdate()}updateReactPortal(e,o){this.portals[this.portals.indexOf(e)]=o,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,o,a=Date.now()){if(this.destroyed){o(null);return}if(e.rendered())o(e);else{if(Date.now()-a>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,o,a)})}}},import_ag_grid_community18=main_cjs,import_react22=__toESM(reactExports),import_ag_grid_community16=main_cjs,import_react20=__toESM(reactExports),import_ag_grid_community11=main_cjs,import_react12=__toESM(reactExports),import_ag_grid_community10=main_cjs,import_react11=__toESM(reactExports),import_ag_grid_community9=main_cjs,import_react10=__toESM(reactExports),import_ag_grid_community6=main_cjs,import_react7=__toESM(reactExports),HeaderCellComp=({ctrl:e})=>{const o=e.isAlive(),{context:a}=(0,import_react7.useContext)(BeansContext),c=o?e.getColId():void 0,[d,g]=(0,import_react7.useState)(),b=(0,import_react7.useRef)(),_=(0,import_react7.useRef)(null),$=(0,import_react7.useRef)(null),j=(0,import_react7.useRef)(null),rt=(0,import_react7.useRef)(),nt=(0,import_react7.useRef)();o&&!nt.current&&(nt.current=new import_ag_grid_community6.CssClassManager(()=>_.current));const In=(0,import_react7.useCallback)(_u=>{var Dl;if(_.current=_u,b.current=_u?a.createBean(new import_ag_grid_community6._EmptyBean):a.destroyBean(b.current),!_u||!o)return;const Yl={setWidth:Zl=>{_.current&&(_.current.style.width=Zl)},addOrRemoveCssClass:(Zl,Ju)=>nt.current.addOrRemoveCssClass(Zl,Ju),setAriaSort:Zl=>{_.current&&(Zl?(0,import_ag_grid_community6._setAriaSort)(_.current,Zl):(0,import_ag_grid_community6._removeAriaSort)(_.current))},setUserCompDetails:Zl=>g(Zl),getUserCompInstance:()=>rt.current||void 0};e.setComp(Yl,_u,$.current,j.current,b.current);const Ul=e.getSelectAllGui();(Dl=$.current)==null||Dl.insertAdjacentElement("afterend",Ul),b.current.addDestroyFunc(()=>Ul.remove())},[]);(0,import_react7.useLayoutEffect)(()=>showJsComp(d,a,j.current,rt),[d]),(0,import_react7.useEffect)(()=>{e.setDragSource(_.current)},[d]);const xl=(0,import_react7.useMemo)(()=>!!((d==null?void 0:d.componentFromFramework)&&isComponentStateless(d.componentClass)),[d]),Ll=d&&d.componentFromFramework,Nl=d&&d.componentClass;return import_react7.default.createElement("div",{ref:In,className:"ag-header-cell","col-id":c,role:"columnheader"},import_react7.default.createElement("div",{ref:$,className:"ag-header-cell-resize",role:"presentation"}),import_react7.default.createElement("div",{ref:j,className:"ag-header-cell-comp-wrapper",role:"presentation"},Ll&&xl&&import_react7.default.createElement(Nl,{...d.params}),Ll&&!xl&&import_react7.default.createElement(Nl,{...d.params,ref:rt})))},headerCellComp_default=(0,import_react7.memo)(HeaderCellComp),import_ag_grid_community7=main_cjs,import_react8=__toESM(reactExports),HeaderFilterCellComp=({ctrl:e})=>{const{context:o,gos:a}=(0,import_react8.useContext)(BeansContext),[c,d]=(0,import_react8.useState)(()=>new CssClasses("ag-header-cell","ag-floating-filter")),[g,b]=(0,import_react8.useState)(()=>new CssClasses),[_,$]=(0,import_react8.useState)(()=>new CssClasses("ag-floating-filter-button","ag-hidden")),[j,rt]=(0,import_react8.useState)("false"),[nt,In]=(0,import_react8.useState)(),[,xl]=(0,import_react8.useState)(1),Ll=(0,import_react8.useRef)(),Nl=(0,import_react8.useRef)(null),_u=(0,import_react8.useRef)(null),Yl=(0,import_react8.useRef)(null),Ul=(0,import_react8.useRef)(null),Dl=(0,import_react8.useRef)(),Zl=(0,import_react8.useRef)(),Ju=dp=>{dp!=null&&Dl.current&&Dl.current(dp)},Uu=(0,import_react8.useCallback)(dp=>{if(Nl.current=dp,Ll.current=dp?o.createBean(new import_ag_grid_community7._EmptyBean):o.destroyBean(Ll.current),!dp)return;Zl.current=new import_ag_grid_community7.AgPromise(l0=>{Dl.current=l0});const S0={addOrRemoveCssClass:(l0,Op)=>d(Wp=>Wp.setClass(l0,Op)),addOrRemoveBodyCssClass:(l0,Op)=>b(Wp=>Wp.setClass(l0,Op)),setButtonWrapperDisplayed:l0=>{$(Op=>Op.setClass("ag-hidden",!l0)),rt(l0?"false":"true")},setWidth:l0=>{Nl.current&&(Nl.current.style.width=l0)},setCompDetails:l0=>In(l0),getFloatingFilterComp:()=>Zl.current?Zl.current:null,setMenuIcon:l0=>{var Op;return(Op=Ul.current)==null?void 0:Op.appendChild(l0)}};e.setComp(S0,dp,Ul.current,_u.current,Ll.current)},[]);(0,import_react8.useLayoutEffect)(()=>showJsComp(nt,o,_u.current,Ju),[nt]);const fp=(0,import_react8.useMemo)(()=>c.toString(),[c]),Zu=(0,import_react8.useMemo)(()=>g.toString(),[g]),Lp=(0,import_react8.useMemo)(()=>_.toString(),[_]),Np=(0,import_react8.useMemo)(()=>!!(nt&&nt.componentFromFramework&&isComponentStateless(nt.componentClass)),[nt]),zp=(0,import_react8.useMemo)(()=>a.get("reactiveCustomComponents"),[]),h0=(0,import_react8.useMemo)(()=>{if(nt)if(zp){const dp=new FloatingFilterComponentProxy(nt.params,()=>xl(S0=>S0+1));return Ju(dp),dp}else nt.componentFromFramework&&warnReactiveCustomComponents()},[nt]),k0=h0==null?void 0:h0.getProps(),D0=nt&&nt.componentFromFramework,s0=nt&&nt.componentClass;return import_react8.default.createElement("div",{ref:Uu,className:fp,role:"gridcell"},import_react8.default.createElement("div",{ref:_u,className:Zu,role:"presentation"},D0&&!zp&&import_react8.default.createElement(s0,{...nt.params,ref:Np?()=>{}:Ju}),D0&&zp&&import_react8.default.createElement(CustomContext.Provider,{value:{setMethods:dp=>h0.setMethods(dp)}},import_react8.default.createElement(s0,{...k0}))),import_react8.default.createElement("div",{ref:Yl,"aria-hidden":j,className:Lp,role:"presentation"},import_react8.default.createElement("button",{ref:Ul,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},headerFilterCellComp_default=(0,import_react8.memo)(HeaderFilterCellComp),import_ag_grid_community8=main_cjs,import_react9=__toESM(reactExports),HeaderGroupCellComp=({ctrl:e})=>{const{context:o}=(0,import_react9.useContext)(BeansContext),[a,c]=(0,import_react9.useState)(()=>new CssClasses),[d,g]=(0,import_react9.useState)(()=>new CssClasses),[b,_]=(0,import_react9.useState)("false"),[$,j]=(0,import_react9.useState)(),[rt,nt]=(0,import_react9.useState)(),In=(0,import_react9.useMemo)(()=>e.getColId(),[]),xl=(0,import_react9.useRef)(),Ll=(0,import_react9.useRef)(null),Nl=(0,import_react9.useRef)(null),_u=(0,import_react9.useRef)(null),Yl=(0,import_react9.useRef)(),Ul=(0,import_react9.useCallback)(Zu=>{if(Ll.current=Zu,xl.current=Zu?o.createBean(new import_ag_grid_community8._EmptyBean):o.destroyBean(xl.current),!Zu)return;const Lp={setWidth:Np=>{Ll.current&&(Ll.current.style.width=Np)},addOrRemoveCssClass:(Np,zp)=>c(h0=>h0.setClass(Np,zp)),setHeaderWrapperHidden:Np=>{const zp=_u.current;zp&&(Np?zp.style.setProperty("display","none"):zp.style.removeProperty("display"))},setHeaderWrapperMaxHeight:Np=>{const zp=_u.current;zp&&(Np!=null?zp.style.setProperty("max-height",`${Np}px`):zp.style.removeProperty("max-height"),zp.classList.toggle("ag-header-cell-comp-wrapper-limited-height",Np!=null))},setUserCompDetails:Np=>nt(Np),setResizableDisplayed:Np=>{g(zp=>zp.setClass("ag-hidden",!Np)),_(Np?"false":"true")},setAriaExpanded:Np=>j(Np),getUserCompInstance:()=>Yl.current||void 0};e.setComp(Lp,Zu,Nl.current,_u.current,xl.current)},[]);(0,import_react9.useLayoutEffect)(()=>showJsComp(rt,o,_u.current),[rt]),(0,import_react9.useEffect)(()=>{Ll.current&&e.setDragSource(Ll.current)},[rt]);const Dl=(0,import_react9.useMemo)(()=>!!((rt==null?void 0:rt.componentFromFramework)&&isComponentStateless(rt.componentClass)),[rt]),Zl=(0,import_react9.useMemo)(()=>"ag-header-group-cell "+a.toString(),[a]),Ju=(0,import_react9.useMemo)(()=>"ag-header-cell-resize "+d.toString(),[d]),Uu=rt&&rt.componentFromFramework,fp=rt&&rt.componentClass;return import_react9.default.createElement("div",{ref:Ul,className:Zl,"col-id":In,role:"columnheader","aria-expanded":$},import_react9.default.createElement("div",{ref:_u,className:"ag-header-cell-comp-wrapper",role:"presentation"},Uu&&Dl&&import_react9.default.createElement(fp,{...rt.params}),Uu&&!Dl&&import_react9.default.createElement(fp,{...rt.params,ref:Yl})),import_react9.default.createElement("div",{ref:Nl,"aria-hidden":b,className:Ju}))},headerGroupCellComp_default=(0,import_react9.memo)(HeaderGroupCellComp),HeaderRowComp=({ctrl:e})=>{const{context:o}=(0,import_react10.useContext)(BeansContext),{topOffset:a,rowHeight:c}=(0,import_react10.useMemo)(()=>e.getTopAndHeight(),[]),d=e.getAriaRowIndex(),g=e.getHeaderRowClass(),[b,_]=(0,import_react10.useState)(()=>c+"px"),[$,j]=(0,import_react10.useState)(()=>a+"px"),rt=(0,import_react10.useRef)(null),nt=(0,import_react10.useRef)(null),[In,xl]=(0,import_react10.useState)(()=>e.getHeaderCtrls()),Ll=(0,import_react10.useRef)(),Nl=(0,import_react10.useRef)(null),_u=(0,import_react10.useCallback)(Dl=>{if(Nl.current=Dl,Ll.current=Dl?o.createBean(new import_ag_grid_community9._EmptyBean):o.destroyBean(Ll.current),!Dl)return;const Zl={setHeight:Ju=>_(Ju),setTop:Ju=>j(Ju),setHeaderCtrls:(Ju,Uu,fp)=>{nt.current=rt.current,rt.current=Ju;const Zu=getNextValueIfDifferent(nt.current,Ju,Uu);Zu!==nt.current&&agFlushSync(fp,()=>xl(Zu))},setWidth:Ju=>{Nl.current&&(Nl.current.style.width=Ju)}};e.setComp(Zl,Ll.current,!1)},[]),Yl=(0,import_react10.useMemo)(()=>({height:b,top:$}),[b,$]),Ul=(0,import_react10.useCallback)(Dl=>{switch(e.getType()){case import_ag_grid_community9.HeaderRowType.COLUMN_GROUP:return import_react10.default.createElement(headerGroupCellComp_default,{ctrl:Dl,key:Dl.instanceId});case import_ag_grid_community9.HeaderRowType.FLOATING_FILTER:return import_react10.default.createElement(headerFilterCellComp_default,{ctrl:Dl,key:Dl.instanceId});default:return import_react10.default.createElement(headerCellComp_default,{ctrl:Dl,key:Dl.instanceId})}},[]);return import_react10.default.createElement("div",{ref:_u,className:g,role:"row",style:Yl,"aria-rowindex":d},In.map(Ul))},headerRowComp_default=(0,import_react10.memo)(HeaderRowComp),HeaderRowContainerComp=({pinned:e})=>{const[o,a]=(0,import_react11.useState)(!0),[c,d]=(0,import_react11.useState)([]),{context:g}=(0,import_react11.useContext)(BeansContext),b=(0,import_react11.useRef)(null),_=(0,import_react11.useRef)(null),$=(0,import_react11.useRef)(),j=e==="left",rt=e==="right",nt=!j&&!rt,In=(0,import_react11.useCallback)(Nl=>{if(b.current=Nl,$.current=Nl?g.createBean(new import_ag_grid_community10.HeaderRowContainerCtrl(e)):g.destroyBean($.current),!Nl)return;const _u={setDisplayed:a,setCtrls:Yl=>d(Yl),setCenterWidth:Yl=>{_.current&&(_.current.style.width=Yl)},setViewportScrollLeft:Yl=>{b.current&&(b.current.scrollLeft=Yl)},setPinnedContainerWidth:Yl=>{b.current&&(b.current.style.width=Yl,b.current.style.minWidth=Yl,b.current.style.maxWidth=Yl)}};$.current.setComp(_u,b.current)},[]),xl=o?"":"ag-hidden",Ll=()=>c.map(Nl=>import_react11.default.createElement(headerRowComp_default,{ctrl:Nl,key:Nl.instanceId}));return import_react11.default.createElement(import_react11.default.Fragment,null,j&&import_react11.default.createElement("div",{ref:In,className:"ag-pinned-left-header "+xl,"aria-hidden":!o,role:"rowgroup"},Ll()),rt&&import_react11.default.createElement("div",{ref:In,className:"ag-pinned-right-header "+xl,"aria-hidden":!o,role:"rowgroup"},Ll()),nt&&import_react11.default.createElement("div",{ref:In,className:"ag-header-viewport "+xl,role:"presentation"},import_react11.default.createElement("div",{ref:_,className:"ag-header-container",role:"rowgroup"},Ll())))},headerRowContainerComp_default=(0,import_react11.memo)(HeaderRowContainerComp),GridHeaderComp=()=>{const[e,o]=(0,import_react12.useState)(()=>new CssClasses),[a,c]=(0,import_react12.useState)(),{context:d}=(0,import_react12.useContext)(BeansContext),g=(0,import_react12.useRef)(null),b=(0,import_react12.useRef)(),_=(0,import_react12.useCallback)(rt=>{if(g.current=rt,b.current=rt?d.createBean(new import_ag_grid_community11.GridHeaderCtrl):d.destroyBean(b.current),!rt)return;const nt={addOrRemoveCssClass:(In,xl)=>o(Ll=>Ll.setClass(In,xl)),setHeightAndMinHeight:In=>c(In)};b.current.setComp(nt,rt,rt)},[]),$=(0,import_react12.useMemo)(()=>"ag-header "+e.toString(),[e]),j=(0,import_react12.useMemo)(()=>({height:a,minHeight:a}),[a]);return import_react12.default.createElement("div",{ref:_,className:$,style:j,role:"presentation"},import_react12.default.createElement(headerRowContainerComp_default,{pinned:"left"}),import_react12.default.createElement(headerRowContainerComp_default,{pinned:null}),import_react12.default.createElement(headerRowContainerComp_default,{pinned:"right"}))},gridHeaderComp_default=(0,import_react12.memo)(GridHeaderComp),import_react13=reactExports,useReactCommentEffect=(e,o)=>{(0,import_react13.useEffect)(()=>{const a=o.current;if(a){const c=a.parentElement;if(c){const d=document.createComment(e);return c.insertBefore(d,a),()=>{c.removeChild(d)}}}},[e])},reactComment_default=useReactCommentEffect,import_ag_grid_community15=main_cjs,import_react19=__toESM(reactExports),import_ag_grid_community14=main_cjs,import_react18=__toESM(reactExports),import_ag_grid_community13=main_cjs,import_react17=__toESM(reactExports),import_ag_grid_community12=main_cjs,CellEditorComponentProxy=class{constructor(e,o){this.cellEditorParams=e,this.refreshProps=o,this.instanceCreated=new import_ag_grid_community12.AgPromise(a=>{this.resolveInstanceCreated=a}),this.onValueChange=a=>this.updateValue(a),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){addOptionalMethods(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var o;this.componentInstance=e,(o=this.resolveInstanceCreated)==null||o.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},import_react15=__toESM(reactExports),import_react_dom3=reactDomExports,import_react14=reactExports,useEffectOnce=e=>{const o=(0,import_react14.useRef)(e),a=(0,import_react14.useRef)(),c=(0,import_react14.useRef)(!1),d=(0,import_react14.useRef)(!1),[,g]=(0,import_react14.useState)(0);c.current&&(d.current=!0),(0,import_react14.useEffect)(()=>(c.current||(a.current=o.current(),c.current=!0),g(b=>b+1),()=>{var b;d.current&&((b=a.current)==null||b.call(a))}),[])},PopupEditorComp=e=>{const[o,a]=(0,import_react15.useState)(),{context:c,popupService:d,localeService:g,gos:b,editService:_}=(0,import_react15.useContext)(BeansContext);return useEffectOnce(()=>{var Zl,Ju;const{editDetails:$,cellCtrl:j,eParentCell:rt}=e,{compDetails:nt}=$,In=b.get("stopEditingWhenCellsLoseFocus"),xl=c.createBean(_.createPopupEditorWrapper(nt.params)),Ll=xl.getGui();if(e.jsChildComp){const Uu=e.jsChildComp.getGui();Uu&&Ll.appendChild(Uu)}const Nl={column:j.getColumn(),rowNode:j.getRowNode(),type:"popupCellEditor",eventSource:rt,ePopup:Ll,position:$.popupPosition,keepWithinBounds:!0},_u=d.positionPopupByComponent.bind(d,Nl),Yl=g.getLocaleTextFunc(),Ul=d.addPopup({modal:In,eChild:Ll,closeOnEsc:!0,closedCallback:()=>{j.onPopupEditorClosed()},anchorToElement:rt,positionCallback:_u,ariaLabel:Yl("ariaLabelCellEditor","Cell Editor")}),Dl=Ul?Ul.hideFunc:void 0;return a(xl),(Ju=(Zl=e.jsChildComp)==null?void 0:Zl.afterGuiAttached)==null||Ju.call(Zl),()=>{Dl==null||Dl(),c.destroyBean(xl)}}),import_react15.default.createElement(import_react15.default.Fragment,null,o&&e.wrappedContent&&(0,import_react_dom3.createPortal)(e.wrappedContent,o.getGui()))},popupEditorComp_default=(0,import_react15.memo)(PopupEditorComp),import_react16=reactExports,useJsCellRenderer=(e,o,a,c,d,g)=>{const{context:b}=(0,import_react16.useContext)(BeansContext),_=(0,import_react16.useCallback)(()=>{const $=d.current;if(!$)return;const j=$.getGui();j&&j.parentElement&&j.parentElement.removeChild(j),b.destroyBean($),d.current=void 0},[]);(0,import_react16.useEffect)(()=>{const $=e!=null,j=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,rt=o&&a==null;if(!($&&j&&!rt)){_();return}const In=e.compDetails;if(d.current){const Ll=d.current,_u=Ll.refresh!=null&&e.force==!1?Ll.refresh(In.params):!1;if(_u===!0||_u===void 0)return;_()}const xl=In.newAgStackInstance();xl!=null&&xl.then(Ll=>{if(!Ll)return;const Nl=Ll.getGui();if(!Nl)return;(o?a:g.current).appendChild(Nl),d.current=Ll})},[e,o,c]),(0,import_react16.useEffect)(()=>_,[])},showJsRenderer_default=useJsCellRenderer,jsxEditorProxy=(e,o,a)=>{const{compProxy:c}=e;a(c);const d=c.getProps(),g=isComponentStateless(o);return import_react17.default.createElement(CustomContext.Provider,{value:{setMethods:b=>c.setMethods(b)}},g?import_react17.default.createElement(o,{...d}):import_react17.default.createElement(o,{...d,ref:b=>c.setRef(b)}))},jsxEditor=(e,o,a)=>{const c=e.compProxy;return import_react17.default.createElement(import_react17.default.Fragment,null,c?jsxEditorProxy(e,o,a):import_react17.default.createElement(o,{...e.compDetails.params,ref:a}))},jsxEditValue=(e,o,a,c,d)=>{const g=e.compDetails,b=g.componentClass,_=g.componentFromFramework&&!e.popup,$=g.componentFromFramework&&e.popup,j=!g.componentFromFramework&&e.popup;return import_react17.default.createElement(import_react17.default.Fragment,null,_&&jsxEditor(e,b,o),$&&import_react17.default.createElement(popupEditorComp_default,{editDetails:e,cellCtrl:c,eParentCell:a,wrappedContent:jsxEditor(e,b,o)}),j&&d&&import_react17.default.createElement(popupEditorComp_default,{editDetails:e,cellCtrl:c,eParentCell:a,jsChildComp:d}))},jsxShowValue=(e,o,a,c,d,g,b)=>{const{compDetails:_,value:$}=e,j=!_,rt=_&&_.componentFromFramework,nt=_&&_.componentClass,In=$!=null&&$.toString?$.toString():$,xl=()=>import_react17.default.createElement(import_react17.default.Fragment,null,j&&import_react17.default.createElement(import_react17.default.Fragment,null,In),rt&&!g&&import_react17.default.createElement(nt,{..._.params,key:o,ref:c}),rt&&g&&import_react17.default.createElement(nt,{..._.params,key:o}));return import_react17.default.createElement(import_react17.default.Fragment,null,d?import_react17.default.createElement("span",{role:"presentation",id:`cell-${a}`,className:"ag-cell-value",ref:b},xl()):xl())},CellComp=({cellCtrl:e,printLayout:o,editingRow:a})=>{const{context:c}=(0,import_react17.useContext)(BeansContext),{colIdSanitised:d,instanceId:g}=e,b=(0,import_react17.useRef)(),[_,$]=(0,import_react17.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[j,rt]=(0,import_react17.useState)(),[nt,In]=(0,import_react17.useState)(1),[xl,Ll]=(0,import_react17.useState)(),[Nl,_u]=(0,import_react17.useState)(!1),[Yl,Ul]=(0,import_react17.useState)(!1),[Dl,Zl]=(0,import_react17.useState)(!1),[Ju,Uu]=(0,import_react17.useState)(),fp=(0,import_react17.useMemo)(()=>e.isForceWrapper(),[e]),Zu=(0,import_react17.useMemo)(()=>e.getCellAriaRole(),[e]),Lp=(0,import_react17.useRef)(null),Np=(0,import_react17.useRef)(null),zp=(0,import_react17.useRef)(),h0=(0,import_react17.useRef)(),k0=(0,import_react17.useRef)(),D0=(0,import_react17.useRef)([]),s0=(0,import_react17.useRef)(),[dp,S0]=(0,import_react17.useState)(0),l0=(0,import_react17.useCallback)(Rm=>{s0.current=Rm,S0(Lm=>Lm+1)},[]),Op=_!=null&&(Nl||Dl||Yl),Wp=fp||Op,mm=(0,import_react17.useCallback)(Rm=>{if(h0.current=Rm,Rm){const Lm=Rm.isCancelBeforeStart&&Rm.isCancelBeforeStart();setTimeout(()=>{Lm?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),fm=(0,import_react17.useRef)();fm.current||(fm.current=new import_ag_grid_community13.CssClassManager(()=>Lp.current)),showJsRenderer_default(_,Wp,s0.current,dp,zp,Lp);const g0=(0,import_react17.useRef)();(0,import_react17.useLayoutEffect)(()=>{var Y1;const Rm=g0.current,Lm=_;if(g0.current=_,Rm==null||Rm.compDetails==null||Lm==null||Lm.compDetails==null)return;const Fm=Rm.compDetails,s1=Lm.compDetails;if(Fm.componentClass!=s1.componentClass||((Y1=Np.current)==null?void 0:Y1.refresh)==null)return;Np.current.refresh(s1.params)!=!0&&In(G1=>G1+1)},[_]),(0,import_react17.useLayoutEffect)(()=>{if(!(j&&!j.compDetails.componentFromFramework))return;const Lm=j.compDetails,Fm=j.popup===!0,s1=Lm.newAgStackInstance();return s1.then(r1=>{if(!r1)return;const Y1=r1.getGui();if(mm(r1),!Fm){const G1=(fp?k0:Lp).current;G1==null||G1.appendChild(Y1),r1.afterGuiAttached&&r1.afterGuiAttached()}Uu(r1)}),()=>{s1.then(r1=>{var G1;const Y1=r1.getGui();c.destroyBean(r1),mm(void 0),Uu(void 0),(G1=Y1==null?void 0:Y1.parentElement)==null||G1.removeChild(Y1)})}},[j]);const e0=(0,import_react17.useCallback)(Rm=>{if(k0.current=Rm,!Rm){D0.current.forEach(Fm=>Fm()),D0.current=[];return}const Lm=Fm=>{if(Fm){const s1=Fm.getGui();Rm.insertAdjacentElement("afterbegin",s1),D0.current.push(()=>{c.destroyBean(Fm),(0,import_ag_grid_community13._removeFromParent)(s1)})}return Fm};if(Nl){const Fm=e.createSelectionCheckbox();Lm(Fm)}Dl&&Lm(e.createDndSource()),Yl&&Lm(e.createRowDragComp())},[e,c,Dl,Yl,Nl]),V0=(0,import_react17.useCallback)(Rm=>{if(Lp.current=Rm,b.current=Rm?c.createBean(new import_ag_grid_community13._EmptyBean):c.destroyBean(b.current),!Rm||!e)return;const Lm={addOrRemoveCssClass:(s1,r1)=>fm.current.addOrRemoveCssClass(s1,r1),setUserStyles:s1=>Ll(s1),getFocusableElement:()=>Lp.current,setIncludeSelection:s1=>_u(s1),setIncludeRowDrag:s1=>Ul(s1),setIncludeDndSource:s1=>Zl(s1),getCellEditor:()=>h0.current||null,getCellRenderer:()=>Np.current??zp.current,getParentOfValue:()=>s0.current??k0.current??Lp.current,setRenderDetails:(s1,r1,Y1)=>{$(G1=>(G1==null?void 0:G1.compDetails)!==s1||(G1==null?void 0:G1.value)!==r1||(G1==null?void 0:G1.force)!==Y1?{value:r1,compDetails:s1,force:Y1}:G1)},setEditDetails:(s1,r1,Y1,G1)=>{if(s1){let wv;G1?wv=new CellEditorComponentProxy(s1.params,()=>In(Mv=>Mv+1)):s1.componentFromFramework&&warnReactiveCustomComponents(),rt({compDetails:s1,popup:r1,popupPosition:Y1,compProxy:wv}),r1||$(void 0)}else rt(wv=>{wv!=null&&wv.compProxy&&(h0.current=void 0)})}},Fm=k0.current||void 0;e.setComp(Lm,Rm,Fm,o,a,b.current)},[]),ym=(0,import_react17.useMemo)(()=>{var Lm;return!!(((Lm=_==null?void 0:_.compDetails)==null?void 0:Lm.componentFromFramework)&&isComponentStateless(_.compDetails.componentClass))},[_]);(0,import_react17.useLayoutEffect)(()=>{var Rm;Lp.current&&(fm.current.addOrRemoveCssClass("ag-cell-value",!Wp),fm.current.addOrRemoveCssClass("ag-cell-inline-editing",!!j&&!j.popup),fm.current.addOrRemoveCssClass("ag-cell-popup-editing",!!j&&!!j.popup),fm.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!j||!!j.popup),(Rm=e.getRowCtrl())==null||Rm.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&Lp.current.focus({preventScroll:!0}))});const Am=()=>import_react17.default.createElement(import_react17.default.Fragment,null,_!=null&&jsxShowValue(_,nt,g,Np,Wp,ym,l0),j!=null&&jsxEditValue(j,mm,Lp.current,e,Ju)),am=(0,import_react17.useCallback)(()=>e.onFocusOut(),[]);return import_react17.default.createElement("div",{ref:V0,style:xl,role:Zu,"col-id":d,onBlur:am},Wp?import_react17.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:e0},Am()):Am())},cellComp_default=(0,import_react17.memo)(CellComp),RowComp=({rowCtrl:e,containerType:o})=>{const{context:a,gos:c}=(0,import_react18.useContext)(BeansContext),d=(0,import_react18.useRef)(),g=(0,import_react18.useRef)(e.getDomOrder()),b=e.isFullWidth(),_=e.getRowNode().displayed,[$,j]=(0,import_react18.useState)(()=>_?e.getRowIndex():null),[rt,nt]=(0,import_react18.useState)(()=>e.getRowId()),[In,xl]=(0,import_react18.useState)(()=>e.getBusinessKey()),[Ll,Nl]=(0,import_react18.useState)(()=>e.getRowStyles()),_u=(0,import_react18.useRef)(null),Yl=(0,import_react18.useRef)(null),[Ul,Dl]=(0,import_react18.useState)(()=>null),[Zl,Ju]=(0,import_react18.useState)(),[Uu,fp]=(0,import_react18.useState)(()=>_?e.getInitialRowTop(o):void 0),[Zu,Lp]=(0,import_react18.useState)(()=>_?e.getInitialTransform(o):void 0),Np=(0,import_react18.useRef)(null),zp=(0,import_react18.useRef)(),h0=(0,import_react18.useRef)(!1),[k0,D0]=(0,import_react18.useState)(0);(0,import_react18.useEffect)(()=>{var V0;if(h0.current||!Zl||k0>10)return;const e0=(V0=Np.current)==null?void 0:V0.firstChild;e0?(e.setupDetailRowAutoHeight(e0),h0.current=!0):D0(ym=>ym+1)},[Zl,k0]);const s0=(0,import_react18.useRef)();s0.current||(s0.current=new import_ag_grid_community14.CssClassManager(()=>Np.current));const dp=(0,import_react18.useCallback)(e0=>{if(Np.current=e0,d.current=e0?a.createBean(new import_ag_grid_community14._EmptyBean):a.destroyBean(d.current),!e0){e.unsetComp(o);return}if(!e.isAlive())return;const V0={setTop:fp,setTransform:Lp,addOrRemoveCssClass:(ym,Am)=>s0.current.addOrRemoveCssClass(ym,Am),setDomOrder:ym=>g.current=ym,setRowIndex:j,setRowId:nt,setRowBusinessKey:xl,setUserStyles:Nl,setCellCtrls:(ym,Am)=>{Yl.current=_u.current;const am=getNextValueIfDifferent(Yl.current,ym,g.current);am!==Yl.current&&(_u.current=am,agFlushSync(Am,()=>Dl(am)))},showFullWidth:ym=>Ju(ym),getFullWidthCellRenderer:()=>zp.current,refreshFullWidth:ym=>mm.current?(Ju(Am=>({...Am,params:ym()})),!0):!zp.current||!zp.current.refresh?!1:zp.current.refresh(ym())};e.setComp(V0,e0,o,d.current)},[]);(0,import_react18.useLayoutEffect)(()=>showJsComp(Zl,a,Np.current,zp),[Zl]);const S0=(0,import_react18.useMemo)(()=>{const e0={top:Uu,transform:Zu};return Object.assign(e0,Ll),e0},[Uu,Zu,Ll]),l0=b&&(Zl==null?void 0:Zl.componentFromFramework),Op=!b&&Ul!=null,Wp=(0,import_react18.useMemo)(()=>!!((Zl==null?void 0:Zl.componentFromFramework)&&isComponentStateless(Zl.componentClass)),[Zl]),mm=(0,import_react18.useRef)(!1);(0,import_react18.useEffect)(()=>{mm.current=Wp&&!!Zl&&!!c.get("reactiveCustomComponents")},[Wp,Zl]);const fm=()=>Ul==null?void 0:Ul.map(e0=>import_react18.default.createElement(cellComp_default,{cellCtrl:e0,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:e0.instanceId})),g0=()=>{const e0=Zl.componentClass;return import_react18.default.createElement(import_react18.default.Fragment,null,Wp?import_react18.default.createElement(e0,{...Zl.params}):import_react18.default.createElement(e0,{...Zl.params,ref:zp}))};return import_react18.default.createElement("div",{ref:dp,role:"row",style:S0,"row-index":$,"row-id":rt,"row-business-key":In},Op&&fm(),l0&&g0())},rowComp_default=(0,import_react18.memo)(RowComp),RowContainerComp=({name:e})=>{const{context:o}=(0,import_react19.useContext)(BeansContext),a=(0,import_react19.useMemo)(()=>(0,import_ag_grid_community15._getRowContainerOptions)(e),[e]),c=(0,import_react19.useRef)(null),d=(0,import_react19.useRef)(null),g=(0,import_react19.useRef)([]),b=(0,import_react19.useRef)([]),[_,$]=(0,import_react19.useState)(()=>[]),j=(0,import_react19.useRef)(!1),rt=(0,import_react19.useRef)(),nt=(0,import_react19.useMemo)(()=>classesList(a.viewport),[a]),In=(0,import_react19.useMemo)(()=>classesList(a.container),[a]),xl=a.type==="center",Ll=xl?c:d;reactComment_default(" AG Row Container "+e+" ",Ll);const Nl=(0,import_react19.useCallback)(()=>xl?c.current!=null&&d.current!=null:d.current!=null,[]),_u=(0,import_react19.useCallback)(()=>xl?c.current==null&&d.current==null:d.current==null,[]),Yl=(0,import_react19.useCallback)(()=>{if(_u()&&(rt.current=o.destroyBean(rt.current)),Nl()){const Ju=fp=>{const Zu=getNextValueIfDifferent(b.current,g.current,j.current);Zu!==b.current&&(b.current=Zu,agFlushSync(fp,()=>$(Zu)))},Uu={setHorizontalScroll:fp=>{c.current&&(c.current.scrollLeft=fp)},setViewportHeight:fp=>{c.current&&(c.current.style.height=fp)},setRowCtrls:({rowCtrls:fp,useFlushSync:Zu})=>{const Lp=!!Zu&&g.current.length>0&&fp.length>0;g.current=fp,Ju(Lp)},setDomOrder:fp=>{j.current!=fp&&(j.current=fp,Ju(!1))},setContainerWidth:fp=>{d.current&&(d.current.style.width=fp)},setOffsetTop:fp=>{d.current&&(d.current.style.transform=`translateY(${fp})`)}};rt.current=o.createBean(new import_ag_grid_community15.RowContainerCtrl(e)),rt.current.setComp(Uu,d.current,c.current)}},[Nl,_u]),Ul=(0,import_react19.useCallback)(Ju=>{d.current=Ju,Yl()},[Yl]),Dl=(0,import_react19.useCallback)(Ju=>{c.current=Ju,Yl()},[Yl]),Zl=()=>import_react19.default.createElement("div",{className:In,ref:Ul,role:"rowgroup"},_.map(Ju=>import_react19.default.createElement(rowComp_default,{rowCtrl:Ju,containerType:a.type,key:Ju.instanceId})));return import_react19.default.createElement(import_react19.default.Fragment,null,xl?import_react19.default.createElement("div",{className:nt,ref:Dl,role:"presentation"},Zl()):Zl())},rowContainerComp_default=(0,import_react19.memo)(RowContainerComp),GridBodyComp=()=>{const{context:e,resizeObserverService:o}=(0,import_react20.useContext)(BeansContext),[a,c]=(0,import_react20.useState)(""),[d,g]=(0,import_react20.useState)(0),[b,_]=(0,import_react20.useState)(0),[$,j]=(0,import_react20.useState)("0px"),[rt,nt]=(0,import_react20.useState)("0px"),[In,xl]=(0,import_react20.useState)("100%"),[Ll,Nl]=(0,import_react20.useState)("0px"),[_u,Yl]=(0,import_react20.useState)("0px"),[Ul,Dl]=(0,import_react20.useState)("100%"),[Zl,Ju]=(0,import_react20.useState)(""),[Uu,fp]=(0,import_react20.useState)(""),[Zu,Lp]=(0,import_react20.useState)(null),[Np,zp]=(0,import_react20.useState)(""),[h0,k0]=(0,import_react20.useState)(null),[D0,s0]=(0,import_react20.useState)("ag-layout-normal"),dp=(0,import_react20.useRef)();dp.current||(dp.current=new import_ag_grid_community16.CssClassManager(()=>S0.current));const S0=(0,import_react20.useRef)(null),l0=(0,import_react20.useRef)(null),Op=(0,import_react20.useRef)(null),Wp=(0,import_react20.useRef)(null),mm=(0,import_react20.useRef)(null),fm=(0,import_react20.useRef)(null),g0=(0,import_react20.useRef)(null),e0=(0,import_react20.useRef)([]),V0=(0,import_react20.useRef)([]);reactComment_default(" AG Grid Body ",S0),reactComment_default(" AG Pinned Top ",l0),reactComment_default(" AG Sticky Top ",Op),reactComment_default(" AG Middle ",fm),reactComment_default(" AG Pinned Bottom ",g0);const ym=(0,import_react20.useCallback)(J1=>{if(S0.current=J1,!J1){e0.current=e.destroyBeans(e0.current),V0.current.forEach(Sm=>Sm()),V0.current=[];return}if(!e)return;const dy=(Sm,Xp)=>{Sm.appendChild(Xp),V0.current.push(()=>Sm.removeChild(Xp))},Iv=Sm=>{const Xp=e.createBean(new Sm);return e0.current.push(Xp),Xp},Dv=(Sm,Xp,R0)=>{dy(Sm,document.createComment(R0)),dy(Sm,Iv(Xp).getGui())};Dv(J1,import_ag_grid_community16.FakeHScrollComp," AG Fake Horizontal Scroll "),Dv(J1,import_ag_grid_community16.OverlayWrapperComponent," AG Overlay Wrapper "),mm.current&&Dv(mm.current,import_ag_grid_community16.FakeVScrollComp," AG Fake Vertical Scroll ");const _y={setRowAnimationCssOnBodyViewport:c,setColumnCount:Sm=>{S0.current&&(0,import_ag_grid_community16._setAriaColCount)(S0.current,Sm)},setRowCount:Sm=>{S0.current&&(0,import_ag_grid_community16._setAriaRowCount)(S0.current,Sm)},setTopHeight:g,setBottomHeight:_,setStickyTopHeight:j,setStickyTopTop:nt,setStickyTopWidth:xl,setTopDisplay:Ju,setBottomDisplay:fp,setColumnMovingCss:(Sm,Xp)=>dp.current.addOrRemoveCssClass(Sm,Xp),updateLayoutClasses:s0,setAlwaysVerticalScrollClass:Lp,setPinnedTopBottomOverflowY:zp,setCellSelectableCss:(Sm,Xp)=>k0(Xp?Sm:null),setBodyViewportWidth:Sm=>{fm.current&&(fm.current.style.width=Sm)},registerBodyViewportResizeListener:Sm=>{if(fm.current){const Xp=o.observeResize(fm.current,Sm);V0.current.push(()=>Xp())}},setStickyBottomHeight:Nl,setStickyBottomBottom:Yl,setStickyBottomWidth:Dl},wy=e.createBean(new import_ag_grid_community16.GridBodyCtrl);e0.current.push(wy),wy.setComp(_y,J1,fm.current,l0.current,g0.current,Op.current,Wp.current)},[]),Am=(0,import_react20.useMemo)(()=>classesList("ag-root","ag-unselectable",D0),[D0]),am=(0,import_react20.useMemo)(()=>classesList("ag-body-viewport",a,D0,Zu,h0),[a,D0,Zu,h0]),Rm=(0,import_react20.useMemo)(()=>classesList("ag-body",D0),[D0]),Lm=(0,import_react20.useMemo)(()=>classesList("ag-floating-top",h0),[h0]),Fm=(0,import_react20.useMemo)(()=>classesList("ag-sticky-top",h0),[h0]),s1=(0,import_react20.useMemo)(()=>classesList("ag-sticky-bottom",Ll==="0px"?"ag-hidden":null,h0),[h0,Ll]),r1=(0,import_react20.useMemo)(()=>classesList("ag-floating-bottom",h0),[h0]),Y1=(0,import_react20.useMemo)(()=>({height:d,minHeight:d,display:Zl,overflowY:Np}),[d,Zl,Np]),G1=(0,import_react20.useMemo)(()=>({height:$,top:rt,width:In}),[$,rt,In]),wv=(0,import_react20.useMemo)(()=>({height:Ll,bottom:_u,width:Ul}),[Ll,_u,Ul]),Mv=(0,import_react20.useMemo)(()=>({height:b,minHeight:b,display:Uu,overflowY:Np}),[b,Uu,Np]),Cv=J1=>import_react20.default.createElement(rowContainerComp_default,{name:J1,key:`${J1}-container`}),lv=({section:J1,children:dy,className:Iv,style:Dv})=>import_react20.default.createElement("div",{ref:J1,className:Iv,role:"presentation",style:Dv},dy.map(Cv));return import_react20.default.createElement("div",{ref:ym,className:Am,role:"treegrid"},import_react20.default.createElement(gridHeaderComp_default,null),lv({section:l0,className:Lm,style:Y1,children:["topLeft","topCenter","topRight","topFullWidth"]}),import_react20.default.createElement("div",{className:Rm,ref:mm,role:"presentation"},lv({section:fm,className:am,children:["left","center","right","fullWidth"]})),lv({section:Op,className:Fm,style:G1,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),lv({section:Wp,className:s1,style:wv,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),lv({section:g0,className:r1,style:Mv,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},gridBodyComp_default=(0,import_react20.memo)(GridBodyComp),import_ag_grid_community17=main_cjs,import_react21=__toESM(reactExports),TabGuardCompRef=(e,o)=>{const{children:a,eFocusableElement:c,onTabKeyDown:d,gridCtrl:g,forceFocusOutWhenTabGuardsAreEmpty:b}=e,{context:_}=(0,import_react21.useContext)(BeansContext),$=(0,import_react21.useRef)(null),j=(0,import_react21.useRef)(null),rt=(0,import_react21.useRef)(),nt=_u=>{const Yl=_u==null?void 0:parseInt(_u,10).toString();[$,j].forEach(Ul=>{var Dl,Zl;Yl===void 0?(Dl=Ul.current)==null||Dl.removeAttribute("tabindex"):(Zl=Ul.current)==null||Zl.setAttribute("tabindex",Yl)})};(0,import_react21.useImperativeHandle)(o,()=>({forceFocusOutOfContainer(_u){var Yl;(Yl=rt.current)==null||Yl.forceFocusOutOfContainer(_u)}}));const In=(0,import_react21.useCallback)(()=>{const _u=$.current,Yl=j.current;if(!_u&&!Yl){rt.current=_.destroyBean(rt.current);return}if(_u&&Yl){const Ul={setTabIndex:nt};rt.current=_.createBean(new import_ag_grid_community17.TabGuardCtrl({comp:Ul,eTopGuard:_u,eBottomGuard:Yl,eFocusableElement:c,onTabKeyDown:d,forceFocusOutWhenTabGuardsAreEmpty:b,focusInnerElement:Dl=>g.focusInnerElement(Dl)}))}},[]),xl=(0,import_react21.useCallback)(_u=>{$.current=_u,In()},[In]),Ll=(0,import_react21.useCallback)(_u=>{j.current=_u,In()},[In]),Nl=_u=>{const Yl=_u==="top"?import_ag_grid_community17.TabGuardClassNames.TAB_GUARD_TOP:import_ag_grid_community17.TabGuardClassNames.TAB_GUARD_BOTTOM;return import_react21.default.createElement("div",{className:`${import_ag_grid_community17.TabGuardClassNames.TAB_GUARD} ${Yl}`,role:"presentation",ref:_u==="top"?xl:Ll})};return import_react21.default.createElement(import_react21.default.Fragment,null,Nl("top"),a,Nl("bottom"))},TabGuardComp=(0,import_react21.forwardRef)(TabGuardCompRef),tabGuardComp_default=(0,import_react21.memo)(TabGuardComp),GridComp=({context:e})=>{const[o,a]=(0,import_react22.useState)(""),[c,d]=(0,import_react22.useState)(""),[g,b]=(0,import_react22.useState)(""),[_,$]=(0,import_react22.useState)(null),[j,rt]=(0,import_react22.useState)(null),[nt,In]=(0,import_react22.useState)(!1),[xl,Ll]=(0,import_react22.useState)(),Nl=(0,import_react22.useRef)(),_u=(0,import_react22.useRef)(null),Yl=(0,import_react22.useRef)(),[Ul,Dl]=(0,import_react22.useState)(null),Zl=(0,import_react22.useRef)(()=>{}),Ju=(0,import_react22.useRef)(),Uu=(0,import_react22.useRef)([]),fp=(0,import_react22.useCallback)(()=>{},[]),Zu=(0,import_react22.useMemo)(()=>e.isDestroyed()?null:e.getBeans(),[e]);reactComment_default(" AG Grid ",_u);const Lp=(0,import_react22.useCallback)(D0=>{if(_u.current=D0,Nl.current=D0?e.createBean(new import_ag_grid_community18.GridCtrl):e.destroyBean(Nl.current),!D0||e.isDestroyed())return;const s0=Nl.current;Zl.current=s0.focusInnerElement.bind(s0);const dp={destroyGridUi:()=>{},setRtlClass:a,setGridThemeClass:d,forceFocusOutOfContainer:S0=>{var l0,Op;if(!S0&&((l0=Ju.current)!=null&&l0.isDisplayed())){Ju.current.forceFocusOutOfContainer(S0);return}(Op=Yl.current)==null||Op.forceFocusOutOfContainer(S0)},updateLayoutClasses:b,getFocusableContainers:()=>{var Op;const S0=[],l0=(Op=_u.current)==null?void 0:Op.querySelector(".ag-root");return l0&&S0.push({getGui:()=>l0}),Uu.current.forEach(Wp=>{Wp.isDisplayed()&&S0.push(Wp)}),S0},setCursor:$,setUserSelect:rt};s0.setComp(dp,D0,D0),In(!0)},[]);(0,import_react22.useEffect)(()=>{const D0=Nl.current,s0=_u.current;if(!xl||!Zu||!D0||!Ul||!s0)return;const dp=[],{watermarkSelector:S0,paginationSelector:l0,sideBarSelector:Op,statusBarSelector:Wp,gridHeaderDropZonesSelector:mm}=D0.getOptionalSelectors(),fm=[];if(mm){const e0=e.createBean(new mm.component),V0=e0.getGui();s0.insertAdjacentElement("afterbegin",V0),fm.push(V0),dp.push(e0)}if(Op){const e0=e.createBean(new Op.component),V0=e0.getGui(),ym=Ul.querySelector(".ag-tab-guard-bottom");ym&&(ym.insertAdjacentElement("beforebegin",V0),fm.push(V0)),dp.push(e0),Uu.current.push(e0)}const g0=e0=>{const V0=e.createBean(new e0),ym=V0.getGui();return s0.insertAdjacentElement("beforeend",ym),fm.push(ym),dp.push(V0),V0};if(Wp&&g0(Wp.component),l0){const e0=g0(l0.component);Ju.current=e0,Uu.current.push(e0)}return S0&&g0(S0.component),()=>{e.destroyBeans(dp),fm.forEach(e0=>{var V0;(V0=e0.parentElement)==null||V0.removeChild(e0)})}},[xl,Ul,Zu]);const Np=(0,import_react22.useMemo)(()=>classesList("ag-root-wrapper",o,c,g),[o,c,g]),zp=(0,import_react22.useMemo)(()=>classesList("ag-root-wrapper-body","ag-focus-managed",g),[g]),h0=(0,import_react22.useMemo)(()=>({userSelect:j??"",WebkitUserSelect:j??"",cursor:_??""}),[j,_]),k0=(0,import_react22.useCallback)(D0=>{Yl.current=D0,Ll(D0!==null)},[]);return import_react22.default.createElement("div",{ref:Lp,className:Np,style:h0,role:"presentation"},import_react22.default.createElement("div",{className:zp,ref:Dl,role:"presentation"},nt&&Ul&&Zu&&import_react22.default.createElement(BeansContext.Provider,{value:Zu},import_react22.default.createElement(tabGuardComp_default,{ref:k0,eFocusableElement:Ul,onTabKeyDown:fp,gridCtrl:Nl.current,forceFocusOutWhenTabGuardsAreEmpty:!0},import_react22.default.createElement(gridBodyComp_default,null)))))},gridComp_default=(0,import_react22.memo)(GridComp),import_ag_grid_community19=main_cjs,RenderStatusService=class extends import_ag_grid_community19.BeanStub{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(o=>o.areCellsRendered()))}},AgGridReactUi=e=>{var _u;const o=(0,import_react23.useRef)(),a=(0,import_react23.useRef)(null),c=(0,import_react23.useRef)(null),d=(0,import_react23.useRef)([]),g=(0,import_react23.useRef)([]),b=(0,import_react23.useRef)(e),_=(0,import_react23.useRef)(),$=(0,import_react23.useRef)(),j=(0,import_react23.useRef)(!1),[rt,nt]=(0,import_react23.useState)(void 0),[,In]=(0,import_react23.useState)(0),xl=(0,import_react23.useCallback)(Yl=>{if(a.current=Yl,!Yl){d.current.forEach(zp=>zp()),d.current.length=0;return}const Ul=e.modules||[];c.current||(c.current=new PortalManager(()=>In(zp=>zp+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),d.current.push(()=>{var zp;(zp=c.current)==null||zp.destroy(),c.current=null}));const Dl=(0,import_ag_grid_community20._combineAttributesAndGridOptions)(e.gridOptions,e),Zl=()=>{if(j.current){const zp=()=>{var k0;return(k0=_.current)!=null&&k0.shouldQueueUpdates()?void 0:g.current.shift()};let h0=zp();for(;h0;)h0(),h0=zp()}},Ju=new ReactFrameworkOverrides(Zl);_.current=Ju;const Uu=new RenderStatusService,fp={providedBeanInstances:{frameworkComponentWrapper:new ReactFrameworkComponentWrapper(c.current,Dl.reactiveCustomComponents??(0,import_ag_grid_community20._getGlobalGridOption)("reactiveCustomComponents")??!0),renderStatusService:Uu},modules:Ul,frameworkOverrides:Ju},Zu=zp=>{nt(zp),zp.createBean(Uu),d.current.push(()=>{zp.destroy()}),zp.getBean("ctrlsService").whenReady({addDestroyFunc:h0=>{d.current.push(h0)}},()=>{var k0;if(zp.isDestroyed())return;const h0=o.current;h0&&((k0=e.setGridApi)==null||k0.call(e,h0))})},Lp=zp=>{zp.getBean("ctrlsService").whenReady({addDestroyFunc:h0=>{d.current.push(h0)}},()=>{g.current.forEach(h0=>h0()),g.current.length=0,j.current=!0})},Np=new import_ag_grid_community20.GridCoreCreator;Dl.gridId??(Dl.gridId=$.current),o.current=Np.create(Yl,Dl,Zu,Lp,fp),d.current.push(()=>{o.current=void 0}),o.current&&($.current=o.current.getGridId())},[]),Ll=(0,import_react23.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),Nl=(0,import_react23.useCallback)(Yl=>{var Ul;j.current&&!((Ul=_.current)!=null&&Ul.shouldQueueUpdates())?Yl():g.current.push(Yl)},[]);return(0,import_react23.useEffect)(()=>{const Yl=extractGridPropertyChanges(b.current,e);b.current=e,Nl(()=>{o.current&&(0,import_ag_grid_community20._processOnChange)(Yl,o.current)})},[e]),import_react23.default.createElement("div",{style:Ll,className:e.className,ref:xl},rt&&!rt.isDestroyed()?import_react23.default.createElement(gridComp_default,{context:rt}):null,((_u=c.current)==null?void 0:_u.getPortals())??null)};function extractGridPropertyChanges(e,o){const a={};return Object.keys(o).forEach(c=>{const d=o[c];e[c]!==d&&(a[c]=d)}),a}var ReactFrameworkComponentWrapper=class extends import_ag_grid_community20.BaseComponentWrapper{constructor(e,o){super(),this.parent=e,this.reactiveCustomComponents=o}createWrapper(e,o){if(this.reactiveCustomComponents){const d=(g=>{switch(g){case"filter":return FilterComponentWrapper;case"floatingFilterComponent":return FloatingFilterComponentWrapper;case"dateComponent":return DateComponentWrapper;case"dragAndDropImageComponent":return DragAndDropImageComponentWrapper;case"loadingOverlayComponent":return LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return NoRowsOverlayComponentWrapper;case"statusPanel":return StatusPanelComponentWrapper;case"toolPanel":return ToolPanelComponentWrapper;case"menuItem":return MenuItemComponentWrapper;case"cellRenderer":return CellRendererComponentWrapper}})(o.propertyName);if(d)return new d(e,this.parent,o)}else switch(o.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":warnReactiveCustomComponents();break}const a=!o.cellRenderer&&o.propertyName!=="toolPanel";return new ReactComponent(e,this.parent,o,a)}},DetailCellRenderer=(0,import_react23.forwardRef)((e,o)=>{const{ctrlsFactory:a,context:c,gos:d,resizeObserverService:g,rowModel:b}=(0,import_react23.useContext)(BeansContext),[_,$]=(0,import_react23.useState)(()=>new CssClasses),[j,rt]=(0,import_react23.useState)(()=>new CssClasses),[nt,In]=(0,import_react23.useState)(),[xl,Ll]=(0,import_react23.useState)(),Nl=(0,import_react23.useRef)(),_u=(0,import_react23.useRef)(null),Yl=(0,import_react23.useRef)(),Ul=(0,import_react23.useMemo)(()=>import_ag_grid_community20.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId()),[e]),Dl=(0,import_react23.useMemo)(()=>_.toString()+" ag-details-row",[_]),Zl=(0,import_react23.useMemo)(()=>j.toString()+" ag-details-grid",[j]);o&&(0,import_react23.useImperativeHandle)(o,()=>({refresh(){var fp;return((fp=Nl.current)==null?void 0:fp.refresh())??!1}})),e.template&&(0,import_ag_grid_community20._warnOnce)("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const Ju=(0,import_react23.useCallback)(fp=>{var Np;if(_u.current=fp,!fp){Nl.current=c.destroyBean(Nl.current),(Np=Yl.current)==null||Np.call(Yl);return}const Zu={addOrRemoveCssClass:(zp,h0)=>$(k0=>k0.setClass(zp,h0)),addOrRemoveDetailGridCssClass:(zp,h0)=>rt(k0=>k0.setClass(zp,h0)),setDetailGrid:zp=>In(zp),setRowData:zp=>Ll(zp),getGui:()=>_u.current},Lp=a.getInstance("detailCellRenderer");if(Lp&&(c.createBean(Lp),Lp.init(Zu,e),Nl.current=Lp,d.get("detailRowAutoHeight"))){const zp=()=>{if(_u.current==null)return;const h0=_u.current.clientHeight;h0!=null&&h0>0&&setTimeout(()=>{e.node.setRowHeight(h0),((0,import_ag_grid_community20._isClientSideRowModel)(d)||(0,import_ag_grid_community20._isServerSideRowModel)(d))&&b.onRowHeightChanged()},0)};Yl.current=g.observeResize(fp,zp),zp()}},[]),Uu=(0,import_react23.useCallback)(fp=>{var Zu;(Zu=Nl.current)==null||Zu.registerDetailWithMaster(fp)},[]);return import_react23.default.createElement("div",{className:Dl,ref:Ju},nt&&import_react23.default.createElement(AgGridReactUi,{className:Zl,...nt,modules:Ul,rowData:xl,setGridApi:Uu}))}),ReactFrameworkOverrides=class extends import_ag_grid_community20.VanillaFrameworkOverrides{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:groupCellRenderer_default,agGroupRowRenderer:groupCellRenderer_default,agDetailCellRenderer:DetailCellRenderer},this.wrapIncoming=(o,a)=>a==="ensureVisible"?runWithoutFlushSync(o):o(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const o=e.prototype;return!(o&&"getGui"in o)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return isReact19()}},AgGridReact=class extends import_react24.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(o=>o(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return import_react24.default.createElement(AgGridReactUi,{...this.props,setGridApi:this.setGridApi})}},import_react25=reactExports;function useGridCustomComponent(e){const{setMethods:o}=(0,import_react25.useContext)(CustomContext);o(e)}function useGridCellEditor(e){useGridCustomComponent(e)}function useGridDate(e){return useGridCustomComponent(e)}function useGridFilter(e){return useGridCustomComponent(e)}function useGridFloatingFilter(e){useGridCustomComponent(e)}function useGridMenuItem(e){useGridCustomComponent(e)}var ColumnSelector$1={};Object.defineProperty(ColumnSelector$1,"__esModule",{value:!0});ColumnSelector$1.default=void 0;var _react$4=_interopRequireWildcard$2(reactExports);function _getRequireWildcardCache$2(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache$2=function(c){return c?a:o})(e)}function _interopRequireWildcard$2(e,o){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var a=_getRequireWildcardCache$2(o);if(a&&a.has(e))return a.get(e);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in e)if(g!=="default"&&Object.prototype.hasOwnProperty.call(e,g)){var b=d?Object.getOwnPropertyDescriptor(e,g):null;b&&(b.get||b.set)?Object.defineProperty(c,g,b):c[g]=e[g]}return c.default=e,a&&a.set(e,c),c}const ColumnSelector=e=>{const[o,a]=(0,_react$4.useState)(!1),c=(0,_react$4.useRef)(null);(0,_react$4.useEffect)(()=>{const b=_=>{c.current&&!c.current.contains(_.target)&&o&&a(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[o]);const d=b=>{const{name:_,checked:$}=b.target;let j=e.columnDefs.map(rt=>({...rt,hide:rt.field===_?!$:rt.hide}));e.setColumnDefs(j)};let g="column-dropdown-content";return o&&(g+=" show"),_react$4.default.createElement("div",null,_react$4.default.createElement("div",{ref:c,className:"column-dropdown"},_react$4.default.createElement("button",{className:"aggrid-style-button",onClick:()=>a(b=>!b)},"Show columns"),_react$4.default.createElement("div",{className:g},_react$4.default.createElement("ul",null,e.columnDefs.map(b=>b.field!=="id"&&_react$4.default.createElement("li",{key:b.field},_react$4.default.createElement("label",null,_react$4.default.createElement("input",{name:b.field,type:"checkbox",checked:!b.hide,onChange:d}),_react$4.default.createElement("span",null,b.headerName))))))))};ColumnSelector$1.default=ColumnSelector;var CustomHeader$1={};Object.defineProperty(CustomHeader$1,"__esModule",{value:!0});CustomHeader$1.default=void 0;var _react$3=_interopRequireDefault$3(reactExports);function _interopRequireDefault$3(e){return e&&e.__esModule?e:{default:e}}class CustomHeader extends _react$3.default.Component{constructor(o){super(o),this.state={sortMode:"none",multiSort:!1,sortIndex:null,filterActive:!1}}componentDidMount(){this.props.column.addEventListener("filterChanged",this.onFilterChanged.bind(this)),this.props.api.addEventListener("sortChanged",this.onSortChanged.bind(this)),this.onSortClicked.bind(this),this.onSortChanged(),this.onFilterChanged()}render(){let o=_react$3.default.createElement("div",{ref:g=>{this.menuButton=g},className:"customHeaderMenuButton",onClick:this.onMenuClicked.bind(this),onTouchEnd:this.onMenuClicked.bind(this)},this.state.filterActive?_react$3.default.createElement("div",{className:"filter-div active"},_react$3.default.createElement("i",{className:"ag-icon ag-icon-filter"})):_react$3.default.createElement("div",{className:"filter-div"},_react$3.default.createElement("i",{className:"ag-icon ag-icon-menu"}))),a="";this.state.sortMode==="asc"&&(a=_react$3.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,_react$3.default.createElement("i",{className:"ag-icon ag-icon-asc"}))),this.state.sortMode==="desc"&&(a=_react$3.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,_react$3.default.createElement("i",{className:"ag-icon ag-icon-desc"})));let c="unit"in this.props&&this.props.unit!=null,d=_react$3.default.createElement("div",{className:"custom-header-label-container",onClick:this.onSortClicked.bind(this),onTouchEnd:this.onSortClicked.bind(this)},a,_react$3.default.createElement("div",{className:"customHeaderLabel"},_react$3.default.createElement("span",null,this.props.displayName),c&&_react$3.default.createElement("div",{className:"unit-label"},"(",this.props.unit,")")));return _react$3.default.createElement("div",{className:"custom-header-container"},d,o)}onMenuClicked(){this.props.showColumnMenu(this.menuButton);const o=document.querySelector(".ag-menu.ag-ltr.ag-popup-child");if(o){o.style.maxWidth="200px";const a=document.createElement("div");if(a.style.margin="5px 10px 0px 10px",a.innerHTML="<b>Apply filter:</b>",o.prepend(a),this.props.infoText!=null){const c=document.createElement("div");c.style.margin="10px 10px 0px 10px",c.style.textAlign="justify",c.innerHTML=this.props.infoText,o.prepend(c)}}}onSortChanged(){if(!this.props.api){console.log("CustomHeader: api undefined!");return}let o="none";this.props.column.isSortAscending()&&(o="asc"),this.props.column.isSortDescending()&&(o="desc");let c=this.props.api.getColumnState().filter(g=>g.sort!==null).length>1,d=this.props.column.getSortIndex();this.setState({sortMode:o,multiSort:c,sortIndex:d})}onFilterChanged(){this.setState({filterActive:this.props.column.isFilterActive()})}onSortClicked(o){this.props.progressSort(o.shiftKey)}}CustomHeader$1.default=CustomHeader;var ResetButton$1={};Object.defineProperty(ResetButton$1,"__esModule",{value:!0});ResetButton$1.default=void 0;var _react$2=_interopRequireDefault$2(reactExports);function _interopRequireDefault$2(e){return e&&e.__esModule?e:{default:e}}function resetFilters(e){if(e){const o=e.getFilterModel();Object.keys(o).length>0&&e.setFilterModel({})}}function ResetButton(e){let{gridApi:o,anyColFilterActive:a}=e;const c=()=>{resetFilters(o)};return _react$2.default.createElement("button",{className:`aggrid-style-button ${a?"":"disabled"}`,onClick:c,disabled:!a},"Reset column filters")}ResetButton$1.default=ResetButton;Object.defineProperty(MaterialDataGrid$1,"__esModule",{value:!0});MaterialDataGrid$1.default=void 0;var _react$1=_interopRequireWildcard$1(reactExports),_Popover=_interopRequireDefault$1(require$$1),_agGridReact=index_cjs,_ColumnSelector=_interopRequireDefault$1(ColumnSelector$1),_CustomHeader=_interopRequireDefault$1(CustomHeader$1),_mcReactLibrary=require$$8,_ResetButton=_interopRequireDefault$1(ResetButton$1);function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache$1(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache$1=function(c){return c?a:o})(e)}function _interopRequireWildcard$1(e,o){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var a=_getRequireWildcardCache$1(o);if(a&&a.has(e))return a.get(e);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in e)if(g!=="default"&&Object.prototype.hasOwnProperty.call(e,g)){var b=d?Object.getOwnPropertyDescriptor(e,g):null;b&&(b.get||b.set)?Object.defineProperty(c,g,b):c[g]=e[g]}return c.default=e,a&&a.set(e,c),c}function idCellRenderer(e){return _react$1.default.createElement("a",{href:e.data.href,target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"mediumblue"}},e.value)}function floatFormatter(e){return e.value==null?"-":Math.abs(e.value)>=1e5||Math.abs(e.value)<.01&&e.value!==0?e.value.toExponential(2):e.value.toFixed(2)}function textFormatter(e){return e.value==null?"-":e.value}function numberFormatter(e){return e.value==null?"-":e.value}function formulaCellRenderer(e){if(e.value==null)return"-";let o=e.value.split(/(\d+)/);return _react$1.default.createElement("span",null,o.map((a,c)=>a.match(/\d+/)?_react$1.default.createElement("sub",{key:c},a):a))}function spaceGroupSymbolRenderer(e){if(e.value==null)return"-";let o=!1;return _react$1.default.createElement("span",null,e.value.split("").map((a,c)=>a==="_"?(o=!0,null):o?(o=!1,_react$1.default.createElement("sub",{key:c},a)):a))}function estimateColumnWidth(e){const c=e.split(/\s+/),d=Math.max(...c.map(_=>_.length)),b=Math.max(e.length/2,d)*7+40;return Math.max(b,120)}function getColumnDefs(e){return e.map(o=>{let a=structuredClone(o);return delete a.colType,o.colType==="text"?Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter}):o.colType==="integer"?Object.assign(a,{filter:"agNumberColumnFilter",valueFormatter:numberFormatter}):o.colType==="float"?Object.assign(a,{filter:"agNumberColumnFilter",valueFormatter:floatFormatter}):o.colType==="boolean"?Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter}):o.colType==="id"?Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter,pinned:"left",cellRenderer:idCellRenderer}):o.colType==="formula"?Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter,cellRenderer:formulaCellRenderer}):o.colType==="spg_symbol"&&Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter,cellRenderer:spaceGroupSymbolRenderer}),Object.assign(a,{filterParams:{buttons:["reset","apply"],closeOnApply:!0}}),a.headerComponentParams={},"unit"in o&&(a.headerComponentParams.unit=o.unit,delete a.unit),"infoText"in o&&(a.headerComponentParams.infoText=o.infoText,delete a.infoText),"hide"in o||(a.hide=!1),"minWidth"in o||(a.minWidth=estimateColumnWidth(o.headerName)),a})}const defaultColDef={minWidth:120,flex:1,sortable:!0,resizable:!0},components={agColumnHeader:_CustomHeader.default},helpPopover=_react$1.default.createElement(_Popover.default,{id:"popover-basic"},_react$1.default.createElement(_Popover.default.Header,{as:"h3"},"Materials Grid help"),_react$1.default.createElement(_Popover.default.Body,{style:{textAlign:"justify"}},_react$1.default.createElement("p",null,"The Materials Grid, shown below, contains all the filtered materials."),_react$1.default.createElement("b",null,"Columns"),_react$1.default.createElement("p",null,"A selection of properties are shown in columns. Click"," ",_react$1.default.createElement("b",null,"Show columns")," to hide/show all available columns."),_react$1.default.createElement("b",null,"Sorting"),_react$1.default.createElement("p",null,"The grid can be sorted based on any column by clicking on the corresponding label in the header. ",_react$1.default.createElement("b",null,"Holding down shift")," allows to sort based on multiple columns."),_react$1.default.createElement("b",null,"Column menu and filtering"),_react$1.default.createElement("p",null,"Each column has a menu that contains any additional information about the column, and allows to filter the list of materials. Active filters are indicated by the menu icon turning into a blue filter icon."))),MaterialDataGrid=(0,_react$1.forwardRef)((e,o)=>{const[a,c]=(0,_react$1.useState)(null),[d,g]=(0,_react$1.useState)(null),[b,_]=(0,_react$1.useState)(null),[$,j]=(0,_react$1.useState)(getColumnDefs(e.columns));(0,_react$1.useImperativeHandle)(o,()=>({getFilteredRows:()=>{const Yl=[];return a&&a.forEachNodeAfterFilter(Ul=>{let Dl={...Ul.data};"elem_array"in Dl&&delete Dl.elem_array,Yl.push(Dl)}),Yl}})),(0,_react$1.useEffect)(()=>{a&&a.onFilterChanged()},[e.ptable_filter,a]),(0,_react$1.useEffect)(()=>{j(getColumnDefs(e.columns))},[e.columns]);const rt=Yl=>{c(Yl.api),Yl.api.onFilterChanged()},nt=()=>Object.keys(e.ptable_filter.elements).length>0,In=()=>{if(a){let Yl=a.getDisplayedRowCount();d!==Yl&&g(Yl)}},xl=Yl=>{if(Yl.data){if(e.ptable_filter.mode==="exact"){let Ul=Object.keys(e.ptable_filter.elements),Dl=Yl.data.elem_array.length===Ul.length,Zl=Yl.data.elem_array.every(Ju=>Ul.includes(Ju));return Dl&&Zl}if(e.ptable_filter.mode==="include"){let Ul=[],Dl=[];for(const[Uu,fp]of Object.entries(e.ptable_filter.elements))fp===1&&Ul.push(Uu),fp===2&&Dl.push(Uu);let Zl=Ul.every(Uu=>Yl.data.elem_array.includes(Uu)),Ju=Yl.data.elem_array.every(Uu=>!Dl.includes(Uu));return Zl&&Ju}}return!0},Ll=()=>{if(In(),a){const Yl=a.getFilterModel();_(Object.keys(Yl).length>0)}},Nl=()=>{In()},_u={pagination:!0,paginationPageSize:20,suppressMenuHide:!0,enableCellTextSelection:!0,ensureDomOrder:!0,domLayout:"autoHeight",headerHeight:54};return _react$1.default.createElement("div",null,_react$1.default.createElement("div",{className:"grid-header-row"},_react$1.default.createElement("div",{className:"grid-header-row-left-side"},_react$1.default.createElement("span",{className:"grid-header-row-showing-text"},"Showing ",d," entries out of ",e.rows.length),_react$1.default.createElement("div",{style:{marginLeft:"10px"}},_react$1.default.createElement(_mcReactLibrary.HelpButton,{popover:helpPopover,placement:"right"}))),_react$1.default.createElement("div",{className:"grid-header-row-right-side"},_react$1.default.createElement(_ResetButton.default,{gridApi:a,anyColFilterActive:b}),_react$1.default.createElement(_ColumnSelector.default,{columnDefs:$,setColumnDefs:j}))),_react$1.default.createElement("div",{className:"ag-theme-alpine custom-grid-container"},_react$1.default.createElement(_agGridReact.AgGridReact,{columnDefs:$,defaultColDef,rowData:e.rows,gridOptions:_u,onGridReady:rt,isExternalFilterPresent:nt,doesExternalFilterPass:xl,onFilterChanged:Ll,onRowDataUpdated:Nl,components})))});MaterialDataGrid$1.default=MaterialDataGrid;Object.defineProperty(dist,"__esModule",{value:!0});var default_1=dist.default=void 0,_react=_interopRequireWildcard(reactExports),_PTable=_interopRequireDefault(PTable$1),_MaterialDataGrid=_interopRequireDefault(MaterialDataGrid$1);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(c){return c?a:o})(e)}function _interopRequireWildcard(e,o){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var a=_getRequireWildcardCache(o);if(a&&a.has(e))return a.get(e);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in e)if(g!=="default"&&Object.prototype.hasOwnProperty.call(e,g)){var b=d?Object.getOwnPropertyDescriptor(e,g):null;b&&(b.get||b.set)?Object.defineProperty(c,g,b):c[g]=e[g]}return c.default=e,a&&a.set(e,c),c}function calcElementArray(e){return[...new Set(e.match(/[A-Z][a-z]?/g))]}function modifyRows(e,o){let a=o.filter(d=>d.colType==="boolean").map(d=>d.field);return e.map(d=>{const g={...d,elem_array:calcElementArray(d.formula)};return a.forEach(b=>{b in g&&(g[b]=g[b]?"yes":"no")}),g})}const MaterialSelector=(0,_react.forwardRef)((e,o)=>{const[a,c]=(0,_react.useState)({mode:"include",elements:{}}),[d,g]=(0,_react.useState)([]);(0,_react.useEffect)(()=>{let $=modifyRows(e.rows,e.columns);g($)},[e.rows,e.columns]);const b=(0,_react.useCallback)($=>{let j=a.mode,rt=structuredClone(a);if("mode"in $&&(rt.mode=$.mode,j=$.mode,$.mode==="exact"))for(const[nt,In]of Object.entries(rt.elements))In>1&&delete rt.elements[nt];if("element"in $){let nt=$.element;$.element in rt.elements?rt.elements[nt]+=1:rt.elements[nt]=1,j==="exact"?rt.elements[nt]===2&&delete rt.elements[nt]:j==="include"&&rt.elements[nt]===3&&delete rt.elements[nt]}c(rt)},[a]),_=e.columns.length>0;return _react.default.createElement("div",{className:"material_selector_container"},_react.default.createElement(_PTable.default,{onSelectionChange:b,filter:a,rows:d}),_react.default.createElement("div",{style:{marginTop:"5px"}}),_?_react.default.createElement(_MaterialDataGrid.default,{ref:o,columns:e.columns,rows:d,ptable_filter:a}):_react.default.createElement("div",{style:{marginTop:"50px",border:"solid 2px rgb(220, 220, 220)",height:"600px",display:"flex",justifyContent:"center",alignItems:"center"}},"Loading..."))});default_1=dist.default=MaterialSelector;const Mc3dLogo="/develop/assets/mc3d-BE0OUaqM.png";function cn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ve={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn;function ri(){if(Sn)return ae;Sn=1;var e=React,o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b(_,$,j){var rt,nt={},In=null,xl=null;j!==void 0&&(In=""+j),$.key!==void 0&&(In=""+$.key),$.ref!==void 0&&(xl=$.ref);for(rt in $)c.call($,rt)&&!g.hasOwnProperty(rt)&&(nt[rt]=$[rt]);if(_&&_.defaultProps)for(rt in $=_.defaultProps,$)nt[rt]===void 0&&(nt[rt]=$[rt]);return{$$typeof:o,type:_,key:In,ref:xl,props:nt,_owner:d.current}}return ae.Fragment=a,ae.jsx=b,ae.jsxs=b,ae}Ve.exports=ri();var T$1=Ve.exports;const ai="_archive_doicitation_y1o5i_1",ci="_doi_badge_y1o5i_9",ui="_doi_left_y1o5i_13",li$1="_doi_right_y1o5i_27",Ee={archive_doicitation:ai,doi_badge:ci,doi_left:ui,doi_right:li$1},wu=({doi_id:e,doi:o,label:a="DOI",color:c="#a2cbff"})=>{let d="";return e!=null?d=`10.24435/materialscloud:${e}`:d=o,T$1.jsx("div",{className:Ee.archive_doicitation,children:T$1.jsxs("span",{className:Ee.doi_badge,children:[T$1.jsx("span",{className:Ee.doi_left,children:a}),T$1.jsx("a",{href:`https://doi.org/${d}`,className:Ee.doi_right,target:"_blank",style:{backgroundColor:c},children:d})]})})};function We(e,o){if(e.contains)return e.contains(o);if(e.compareDocumentPosition)return e===o||!!(e.compareDocumentPosition(o)&16)}var Je={exports:{}},ze,Mn;function un(){if(Mn)return ze;Mn=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ze=e,ze}var He,Nn;function _i$1(){if(Nn)return He;Nn=1;var e=un();function o(){}function a(){}return a.resetWarningCache=o,He=function(){function c(b,_,$,j,rt,nt){if(nt!==e){var In=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw In.name="Invariant Violation",In}}c.isRequired=c;function d(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:a,resetWarningCache:o};return g.PropTypes=g,g},He}Je.exports=_i$1()();var yi=Je.exports;const N=cn(yi);function ur(){const e=reactExports.useRef(!0),o=reactExports.useRef(()=>e.current);return reactExports.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),o.current}function bi(e){const o=reactExports.useRef(e);return o.current=e,o}function Pi(e){const o=bi(e);reactExports.useEffect(()=>()=>o.current(),[])}const Ge=2**31-1;function lr(e,o,a){const c=a-Date.now();e.current=c<=Ge?setTimeout(o,c):setTimeout(()=>lr(e,o,a),Ge)}function wi(){const e=ur(),o=reactExports.useRef();return Pi(()=>clearTimeout(o.current)),reactExports.useMemo(()=>{const a=()=>clearTimeout(o.current);function c(d,g=0){e()&&(a(),g<=Ge?o.current=setTimeout(d,g):lr(o,d,Date.now()+g))}return{set:c,clear:a,handleRef:o}},[])}var fr=function(){},Ai=fr;const dr=cn(Ai);function Oi(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function Ri(e,o,a){var c=reactExports.useRef(e!==void 0),d=reactExports.useState(o),g=d[0],b=d[1],_=e!==void 0,$=c.current;return c.current=_,!_&&$&&g!==o&&b(o),[_?e:g,reactExports.useCallback(function(j){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),In=1;In<rt;In++)nt[In-1]=arguments[In];a&&a.apply(void 0,[j].concat(nt)),b(j)},[a])]}function qe(e,o){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},qe(e,o)}function Ci(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,qe(e,o)}const Zn=e=>!e||typeof e=="function"?e:o=>{e.current=o};function Ti(e,o){const a=Zn(e),c=Zn(o);return d=>{a&&a(d),c&&c(d)}}function ne(e,o){return reactExports.useMemo(()=>Ti(e,o),[e,o])}var pr={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var o={}.hasOwnProperty;function a(){for(var g="",b=0;b<arguments.length;b++){var _=arguments[b];_&&(g=d(g,c(_)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return a.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var _ in g)o.call(g,_)&&g[_]&&(b=d(b,_));return b}function d(g,b){return b?g?g+" "+b:g+b:g}e.exports?(a.default=a,e.exports=a):window.classNames=a})()})(pr);var Si=pr.exports;const Ut=cn(Si);function Hn(){return reactExports.useState(null)}var Un=Object.prototype.hasOwnProperty;function Yn(e,o,a){for(a of e.keys())if(fe(a,o))return a}function fe(e,o){var a,c,d;if(e===o)return!0;if(e&&o&&(a=e.constructor)===o.constructor){if(a===Date)return e.getTime()===o.getTime();if(a===RegExp)return e.toString()===o.toString();if(a===Array){if((c=e.length)===o.length)for(;c--&&fe(e[c],o[c]););return c===-1}if(a===Set){if(e.size!==o.size)return!1;for(c of e)if(d=c,d&&typeof d=="object"&&(d=Yn(o,d),!d)||!o.has(d))return!1;return!0}if(a===Map){if(e.size!==o.size)return!1;for(c of e)if(d=c[0],d&&typeof d=="object"&&(d=Yn(o,d),!d)||!fe(c[1],o.get(d)))return!1;return!0}if(a===ArrayBuffer)e=new Uint8Array(e),o=new Uint8Array(o);else if(a===DataView){if((c=e.byteLength)===o.byteLength)for(;c--&&e.getInt8(c)===o.getInt8(c););return c===-1}if(ArrayBuffer.isView(e)){if((c=e.byteLength)===o.byteLength)for(;c--&&e[c]===o[c];);return c===-1}if(!a||typeof e=="object"){c=0;for(a in e)if(Un.call(e,a)&&++c&&!Un.call(o,a)||!(a in o)||!fe(e[a],o[a]))return!1;return Object.keys(o).length===c}}return e!==e&&o!==o}function ki(e){const o=ur();return[e[0],reactExports.useCallback(a=>{if(o())return e[1](a)},[o,e[1]])]}var dt="top",yt="bottom",bt="right",pt="left",ln="auto",he=[dt,yt,bt,pt],$t="start",ge="end",Ii="clippingParents",mr="viewport",ue="popper",ji="reference",Vn=he.reduce(function(e,o){return e.concat([o+"-"+$t,o+"-"+ge])},[]),gr=[].concat(he,[ln]).reduce(function(e,o){return e.concat([o,o+"-"+$t,o+"-"+ge])},[]),Di="beforeRead",Fi="read",Mi="afterRead",Bi="beforeMain",zi="main",Li="afterMain",Ni="beforeWrite",Zi="write",Hi="afterWrite",Ui=[Di,Fi,Mi,Bi,zi,Li,Ni,Zi,Hi];function Pt(e){return e.split("-")[0]}function gt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var o=e.ownerDocument;return o&&o.defaultView||window}return e}function Zt(e){var o=gt(e).Element;return e instanceof o||e instanceof Element}function wt(e){var o=gt(e).HTMLElement;return e instanceof o||e instanceof HTMLElement}function fn(e){if(typeof ShadowRoot>"u")return!1;var o=gt(e).ShadowRoot;return e instanceof o||e instanceof ShadowRoot}var Nt=Math.max,Te=Math.min,Qt=Math.round;function Ke(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function _r(){return!/^((?!chrome|android).)*safari/i.test(Ke())}function Xt(e,o,a){o===void 0&&(o=!1),a===void 0&&(a=!1);var c=e.getBoundingClientRect(),d=1,g=1;o&&wt(e)&&(d=e.offsetWidth>0&&Qt(c.width)/e.offsetWidth||1,g=e.offsetHeight>0&&Qt(c.height)/e.offsetHeight||1);var b=Zt(e)?gt(e):window,_=b.visualViewport,$=!_r()&&a,j=(c.left+($&&_?_.offsetLeft:0))/d,rt=(c.top+($&&_?_.offsetTop:0))/g,nt=c.width/d,In=c.height/g;return{width:nt,height:In,top:rt,right:j+nt,bottom:rt+In,left:j,x:j,y:rt}}function dn(e){var o=Xt(e),a=e.offsetWidth,c=e.offsetHeight;return Math.abs(o.width-a)<=1&&(a=o.width),Math.abs(o.height-c)<=1&&(c=o.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:c}}function vr(e,o){var a=o.getRootNode&&o.getRootNode();if(e.contains(o))return!0;if(a&&fn(a)){var c=o;do{if(c&&e.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function It(e){return e?(e.nodeName||"").toLowerCase():null}function Rt(e){return gt(e).getComputedStyle(e)}function Yi(e){return["table","td","th"].indexOf(It(e))>=0}function Dt(e){return((Zt(e)?e.ownerDocument:e.document)||window.document).documentElement}function ke(e){return It(e)==="html"?e:e.assignedSlot||e.parentNode||(fn(e)?e.host:null)||Dt(e)}function Wn(e){return!wt(e)||Rt(e).position==="fixed"?null:e.offsetParent}function Vi(e){var o=/firefox/i.test(Ke()),a=/Trident/i.test(Ke());if(a&&wt(e)){var c=Rt(e);if(c.position==="fixed")return null}var d=ke(e);for(fn(d)&&(d=d.host);wt(d)&&["html","body"].indexOf(It(d))<0;){var g=Rt(d);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||o&&g.willChange==="filter"||o&&g.filter&&g.filter!=="none")return d;d=d.parentNode}return null}function ye(e){for(var o=gt(e),a=Wn(e);a&&Yi(a)&&Rt(a).position==="static";)a=Wn(a);return a&&(It(a)==="html"||It(a)==="body"&&Rt(a).position==="static")?o:a||Vi(e)||o}function pn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function de(e,o,a){return Nt(e,Te(o,a))}function Wi(e,o,a){var c=de(e,o,a);return c>a?a:c}function hr(){return{top:0,right:0,bottom:0,left:0}}function yr(e){return Object.assign({},hr(),e)}function br$1(e,o){return o.reduce(function(a,c){return a[c]=e,a},{})}var Ji=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,yr(typeof e!="number"?e:br$1(e,he))};function Gi(e){var o,a=e.state,c=e.name,d=e.options,g=a.elements.arrow,b=a.modifiersData.popperOffsets,_=Pt(a.placement),$=pn(_),j=[pt,bt].indexOf(_)>=0,rt=j?"height":"width";if(!(!g||!b)){var nt=Ji(d.padding,a),In=dn(g),xl=$==="y"?dt:pt,Ll=$==="y"?yt:bt,Nl=a.rects.reference[rt]+a.rects.reference[$]-b[$]-a.rects.popper[rt],_u=b[$]-a.rects.reference[$],Yl=ye(g),Ul=Yl?$==="y"?Yl.clientHeight||0:Yl.clientWidth||0:0,Dl=Nl/2-_u/2,Zl=nt[xl],Ju=Ul-In[rt]-nt[Ll],Uu=Ul/2-In[rt]/2+Dl,fp=de(Zl,Uu,Ju),Zu=$;a.modifiersData[c]=(o={},o[Zu]=fp,o.centerOffset=fp-Uu,o)}}function qi(e){var o=e.state,a=e.options,c=a.element,d=c===void 0?"[data-popper-arrow]":c;d!=null&&(typeof d=="string"&&(d=o.elements.popper.querySelector(d),!d)||vr(o.elements.popper,d)&&(o.elements.arrow=d))}const Ki={name:"arrow",enabled:!0,phase:"main",fn:Gi,effect:qi,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(e){return e.split("-")[1]}var $i={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qi(e,o){var a=e.x,c=e.y,d=o.devicePixelRatio||1;return{x:Qt(a*d)/d||0,y:Qt(c*d)/d||0}}function Jn(e){var o,a=e.popper,c=e.popperRect,d=e.placement,g=e.variation,b=e.offsets,_=e.position,$=e.gpuAcceleration,j=e.adaptive,rt=e.roundOffsets,nt=e.isFixed,In=b.x,xl=In===void 0?0:In,Ll=b.y,Nl=Ll===void 0?0:Ll,_u=typeof rt=="function"?rt({x:xl,y:Nl}):{x:xl,y:Nl};xl=_u.x,Nl=_u.y;var Yl=b.hasOwnProperty("x"),Ul=b.hasOwnProperty("y"),Dl=pt,Zl=dt,Ju=window;if(j){var Uu=ye(a),fp="clientHeight",Zu="clientWidth";if(Uu===gt(a)&&(Uu=Dt(a),Rt(Uu).position!=="static"&&_==="absolute"&&(fp="scrollHeight",Zu="scrollWidth")),Uu=Uu,d===dt||(d===pt||d===bt)&&g===ge){Zl=yt;var Lp=nt&&Uu===Ju&&Ju.visualViewport?Ju.visualViewport.height:Uu[fp];Nl-=Lp-c.height,Nl*=$?1:-1}if(d===pt||(d===dt||d===yt)&&g===ge){Dl=bt;var Np=nt&&Uu===Ju&&Ju.visualViewport?Ju.visualViewport.width:Uu[Zu];xl-=Np-c.width,xl*=$?1:-1}}var zp=Object.assign({position:_},j&&$i),h0=rt===!0?Qi({x:xl,y:Nl},gt(a)):{x:xl,y:Nl};if(xl=h0.x,Nl=h0.y,$){var k0;return Object.assign({},zp,(k0={},k0[Zl]=Ul?"0":"",k0[Dl]=Yl?"0":"",k0.transform=(Ju.devicePixelRatio||1)<=1?"translate("+xl+"px, "+Nl+"px)":"translate3d("+xl+"px, "+Nl+"px, 0)",k0))}return Object.assign({},zp,(o={},o[Zl]=Ul?Nl+"px":"",o[Dl]=Yl?xl+"px":"",o.transform="",o))}function Xi(e){var o=e.state,a=e.options,c=a.gpuAcceleration,d=c===void 0?!0:c,g=a.adaptive,b=g===void 0?!0:g,_=a.roundOffsets,$=_===void 0?!0:_,j={placement:Pt(o.placement),variation:te(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:d,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,Jn(Object.assign({},j,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:b,roundOffsets:$})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,Jn(Object.assign({},j,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:$})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const to={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xi,data:{}};var Ae={passive:!0};function eo(e){var o=e.state,a=e.instance,c=e.options,d=c.scroll,g=d===void 0?!0:d,b=c.resize,_=b===void 0?!0:b,$=gt(o.elements.popper),j=[].concat(o.scrollParents.reference,o.scrollParents.popper);return g&&j.forEach(function(rt){rt.addEventListener("scroll",a.update,Ae)}),_&&$.addEventListener("resize",a.update,Ae),function(){g&&j.forEach(function(rt){rt.removeEventListener("scroll",a.update,Ae)}),_&&$.removeEventListener("resize",a.update,Ae)}}const no={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eo,data:{}};var ro={left:"right",right:"left",bottom:"top",top:"bottom"};function Re(e){return e.replace(/left|right|bottom|top/g,function(o){return ro[o]})}var io={start:"end",end:"start"};function Gn(e){return e.replace(/start|end/g,function(o){return io[o]})}function mn(e){var o=gt(e),a=o.pageXOffset,c=o.pageYOffset;return{scrollLeft:a,scrollTop:c}}function gn(e){return Xt(Dt(e)).left+mn(e).scrollLeft}function oo(e,o){var a=gt(e),c=Dt(e),d=a.visualViewport,g=c.clientWidth,b=c.clientHeight,_=0,$=0;if(d){g=d.width,b=d.height;var j=_r();(j||!j&&o==="fixed")&&(_=d.offsetLeft,$=d.offsetTop)}return{width:g,height:b,x:_+gn(e),y:$}}function so(e){var o,a=Dt(e),c=mn(e),d=(o=e.ownerDocument)==null?void 0:o.body,g=Nt(a.scrollWidth,a.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),b=Nt(a.scrollHeight,a.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),_=-c.scrollLeft+gn(e),$=-c.scrollTop;return Rt(d||a).direction==="rtl"&&(_+=Nt(a.clientWidth,d?d.clientWidth:0)-g),{width:g,height:b,x:_,y:$}}function _n(e){var o=Rt(e),a=o.overflow,c=o.overflowX,d=o.overflowY;return/auto|scroll|overlay|hidden/.test(a+d+c)}function Pr(e){return["html","body","#document"].indexOf(It(e))>=0?e.ownerDocument.body:wt(e)&&_n(e)?e:Pr(ke(e))}function pe(e,o){var a;o===void 0&&(o=[]);var c=Pr(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),g=gt(c),b=d?[g].concat(g.visualViewport||[],_n(c)?c:[]):c,_=o.concat(b);return d?_:_.concat(pe(ke(b)))}function $e(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ao(e,o){var a=Xt(e,!1,o==="fixed");return a.top=a.top+e.clientTop,a.left=a.left+e.clientLeft,a.bottom=a.top+e.clientHeight,a.right=a.left+e.clientWidth,a.width=e.clientWidth,a.height=e.clientHeight,a.x=a.left,a.y=a.top,a}function qn(e,o,a){return o===mr?$e(oo(e,a)):Zt(o)?ao(o,a):$e(so(Dt(e)))}function co(e){var o=pe(ke(e)),a=["absolute","fixed"].indexOf(Rt(e).position)>=0,c=a&&wt(e)?ye(e):e;return Zt(c)?o.filter(function(d){return Zt(d)&&vr(d,c)&&It(d)!=="body"}):[]}function uo(e,o,a,c){var d=o==="clippingParents"?co(e):[].concat(o),g=[].concat(d,[a]),b=g[0],_=g.reduce(function($,j){var rt=qn(e,j,c);return $.top=Nt(rt.top,$.top),$.right=Te(rt.right,$.right),$.bottom=Te(rt.bottom,$.bottom),$.left=Nt(rt.left,$.left),$},qn(e,b,c));return _.width=_.right-_.left,_.height=_.bottom-_.top,_.x=_.left,_.y=_.top,_}function wr(e){var o=e.reference,a=e.element,c=e.placement,d=c?Pt(c):null,g=c?te(c):null,b=o.x+o.width/2-a.width/2,_=o.y+o.height/2-a.height/2,$;switch(d){case dt:$={x:b,y:o.y-a.height};break;case yt:$={x:b,y:o.y+o.height};break;case bt:$={x:o.x+o.width,y:_};break;case pt:$={x:o.x-a.width,y:_};break;default:$={x:o.x,y:o.y}}var j=d?pn(d):null;if(j!=null){var rt=j==="y"?"height":"width";switch(g){case $t:$[j]=$[j]-(o[rt]/2-a[rt]/2);break;case ge:$[j]=$[j]+(o[rt]/2-a[rt]/2);break}}return $}function _e(e,o){o===void 0&&(o={});var a=o,c=a.placement,d=c===void 0?e.placement:c,g=a.strategy,b=g===void 0?e.strategy:g,_=a.boundary,$=_===void 0?Ii:_,j=a.rootBoundary,rt=j===void 0?mr:j,nt=a.elementContext,In=nt===void 0?ue:nt,xl=a.altBoundary,Ll=xl===void 0?!1:xl,Nl=a.padding,_u=Nl===void 0?0:Nl,Yl=yr(typeof _u!="number"?_u:br$1(_u,he)),Ul=In===ue?ji:ue,Dl=e.rects.popper,Zl=e.elements[Ll?Ul:In],Ju=uo(Zt(Zl)?Zl:Zl.contextElement||Dt(e.elements.popper),$,rt,b),Uu=Xt(e.elements.reference),fp=wr({reference:Uu,element:Dl,placement:d}),Zu=$e(Object.assign({},Dl,fp)),Lp=In===ue?Zu:Uu,Np={top:Ju.top-Lp.top+Yl.top,bottom:Lp.bottom-Ju.bottom+Yl.bottom,left:Ju.left-Lp.left+Yl.left,right:Lp.right-Ju.right+Yl.right},zp=e.modifiersData.offset;if(In===ue&&zp){var h0=zp[d];Object.keys(Np).forEach(function(k0){var D0=[bt,yt].indexOf(k0)>=0?1:-1,s0=[dt,yt].indexOf(k0)>=0?"y":"x";Np[k0]+=h0[s0]*D0})}return Np}function lo(e,o){o===void 0&&(o={});var a=o,c=a.placement,d=a.boundary,g=a.rootBoundary,b=a.padding,_=a.flipVariations,$=a.allowedAutoPlacements,j=$===void 0?gr:$,rt=te(c),nt=rt?_?Vn:Vn.filter(function(Ll){return te(Ll)===rt}):he,In=nt.filter(function(Ll){return j.indexOf(Ll)>=0});In.length===0&&(In=nt);var xl=In.reduce(function(Ll,Nl){return Ll[Nl]=_e(e,{placement:Nl,boundary:d,rootBoundary:g,padding:b})[Pt(Nl)],Ll},{});return Object.keys(xl).sort(function(Ll,Nl){return xl[Ll]-xl[Nl]})}function fo(e){if(Pt(e)===ln)return[];var o=Re(e);return[Gn(e),o,Gn(o)]}function po(e){var o=e.state,a=e.options,c=e.name;if(!o.modifiersData[c]._skip){for(var d=a.mainAxis,g=d===void 0?!0:d,b=a.altAxis,_=b===void 0?!0:b,$=a.fallbackPlacements,j=a.padding,rt=a.boundary,nt=a.rootBoundary,In=a.altBoundary,xl=a.flipVariations,Ll=xl===void 0?!0:xl,Nl=a.allowedAutoPlacements,_u=o.options.placement,Yl=Pt(_u),Ul=Yl===_u,Dl=$||(Ul||!Ll?[Re(_u)]:fo(_u)),Zl=[_u].concat(Dl).reduce(function(e0,V0){return e0.concat(Pt(V0)===ln?lo(o,{placement:V0,boundary:rt,rootBoundary:nt,padding:j,flipVariations:Ll,allowedAutoPlacements:Nl}):V0)},[]),Ju=o.rects.reference,Uu=o.rects.popper,fp=new Map,Zu=!0,Lp=Zl[0],Np=0;Np<Zl.length;Np++){var zp=Zl[Np],h0=Pt(zp),k0=te(zp)===$t,D0=[dt,yt].indexOf(h0)>=0,s0=D0?"width":"height",dp=_e(o,{placement:zp,boundary:rt,rootBoundary:nt,altBoundary:In,padding:j}),S0=D0?k0?bt:pt:k0?yt:dt;Ju[s0]>Uu[s0]&&(S0=Re(S0));var l0=Re(S0),Op=[];if(g&&Op.push(dp[h0]<=0),_&&Op.push(dp[S0]<=0,dp[l0]<=0),Op.every(function(e0){return e0})){Lp=zp,Zu=!1;break}fp.set(zp,Op)}if(Zu)for(var Wp=Ll?3:1,mm=function(e0){var V0=Zl.find(function(ym){var Am=fp.get(ym);if(Am)return Am.slice(0,e0).every(function(am){return am})});if(V0)return Lp=V0,"break"},fm=Wp;fm>0;fm--){var g0=mm(fm);if(g0==="break")break}o.placement!==Lp&&(o.modifiersData[c]._skip=!0,o.placement=Lp,o.reset=!0)}}const mo={name:"flip",enabled:!0,phase:"main",fn:po,requiresIfExists:["offset"],data:{_skip:!1}};function Kn(e,o,a){return a===void 0&&(a={x:0,y:0}),{top:e.top-o.height-a.y,right:e.right-o.width+a.x,bottom:e.bottom-o.height+a.y,left:e.left-o.width-a.x}}function $n(e){return[dt,bt,yt,pt].some(function(o){return e[o]>=0})}function go(e){var o=e.state,a=e.name,c=o.rects.reference,d=o.rects.popper,g=o.modifiersData.preventOverflow,b=_e(o,{elementContext:"reference"}),_=_e(o,{altBoundary:!0}),$=Kn(b,c),j=Kn(_,d,g),rt=$n($),nt=$n(j);o.modifiersData[a]={referenceClippingOffsets:$,popperEscapeOffsets:j,isReferenceHidden:rt,hasPopperEscaped:nt},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":rt,"data-popper-escaped":nt})}const _o={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:go};function vo(e,o,a){var c=Pt(e),d=[pt,dt].indexOf(c)>=0?-1:1,g=typeof a=="function"?a(Object.assign({},o,{placement:e})):a,b=g[0],_=g[1];return b=b||0,_=(_||0)*d,[pt,bt].indexOf(c)>=0?{x:_,y:b}:{x:b,y:_}}function ho(e){var o=e.state,a=e.options,c=e.name,d=a.offset,g=d===void 0?[0,0]:d,b=gr.reduce(function(rt,nt){return rt[nt]=vo(nt,o.rects,g),rt},{}),_=b[o.placement],$=_.x,j=_.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=$,o.modifiersData.popperOffsets.y+=j),o.modifiersData[c]=b}const yo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ho};function bo(e){var o=e.state,a=e.name;o.modifiersData[a]=wr({reference:o.rects.reference,element:o.rects.popper,placement:o.placement})}const Po={name:"popperOffsets",enabled:!0,phase:"read",fn:bo,data:{}};function wo(e){return e==="x"?"y":"x"}function Eo(e){var o=e.state,a=e.options,c=e.name,d=a.mainAxis,g=d===void 0?!0:d,b=a.altAxis,_=b===void 0?!1:b,$=a.boundary,j=a.rootBoundary,rt=a.altBoundary,nt=a.padding,In=a.tether,xl=In===void 0?!0:In,Ll=a.tetherOffset,Nl=Ll===void 0?0:Ll,_u=_e(o,{boundary:$,rootBoundary:j,padding:nt,altBoundary:rt}),Yl=Pt(o.placement),Ul=te(o.placement),Dl=!Ul,Zl=pn(Yl),Ju=wo(Zl),Uu=o.modifiersData.popperOffsets,fp=o.rects.reference,Zu=o.rects.popper,Lp=typeof Nl=="function"?Nl(Object.assign({},o.rects,{placement:o.placement})):Nl,Np=typeof Lp=="number"?{mainAxis:Lp,altAxis:Lp}:Object.assign({mainAxis:0,altAxis:0},Lp),zp=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,h0={x:0,y:0};if(Uu){if(g){var k0,D0=Zl==="y"?dt:pt,s0=Zl==="y"?yt:bt,dp=Zl==="y"?"height":"width",S0=Uu[Zl],l0=S0+_u[D0],Op=S0-_u[s0],Wp=xl?-Zu[dp]/2:0,mm=Ul===$t?fp[dp]:Zu[dp],fm=Ul===$t?-Zu[dp]:-fp[dp],g0=o.elements.arrow,e0=xl&&g0?dn(g0):{width:0,height:0},V0=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:hr(),ym=V0[D0],Am=V0[s0],am=de(0,fp[dp],e0[dp]),Rm=Dl?fp[dp]/2-Wp-am-ym-Np.mainAxis:mm-am-ym-Np.mainAxis,Lm=Dl?-fp[dp]/2+Wp+am+Am+Np.mainAxis:fm+am+Am+Np.mainAxis,Fm=o.elements.arrow&&ye(o.elements.arrow),s1=Fm?Zl==="y"?Fm.clientTop||0:Fm.clientLeft||0:0,r1=(k0=zp==null?void 0:zp[Zl])!=null?k0:0,Y1=S0+Rm-r1-s1,G1=S0+Lm-r1,wv=de(xl?Te(l0,Y1):l0,S0,xl?Nt(Op,G1):Op);Uu[Zl]=wv,h0[Zl]=wv-S0}if(_){var Mv,Cv=Zl==="x"?dt:pt,lv=Zl==="x"?yt:bt,J1=Uu[Ju],dy=Ju==="y"?"height":"width",Iv=J1+_u[Cv],Dv=J1-_u[lv],_y=[dt,pt].indexOf(Yl)!==-1,wy=(Mv=zp==null?void 0:zp[Ju])!=null?Mv:0,Sm=_y?Iv:J1-fp[dy]-Zu[dy]-wy+Np.altAxis,Xp=_y?J1+fp[dy]+Zu[dy]-wy-Np.altAxis:Dv,R0=xl&&_y?Wi(Sm,J1,Xp):de(xl?Sm:Iv,J1,xl?Xp:Dv);Uu[Ju]=R0,h0[Ju]=R0-J1}o.modifiersData[c]=h0}}const xo={name:"preventOverflow",enabled:!0,phase:"main",fn:Eo,requiresIfExists:["offset"]};function Ao(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Oo(e){return e===gt(e)||!wt(e)?mn(e):Ao(e)}function Ro(e){var o=e.getBoundingClientRect(),a=Qt(o.width)/e.offsetWidth||1,c=Qt(o.height)/e.offsetHeight||1;return a!==1||c!==1}function Co(e,o,a){a===void 0&&(a=!1);var c=wt(o),d=wt(o)&&Ro(o),g=Dt(o),b=Xt(e,d,a),_={scrollLeft:0,scrollTop:0},$={x:0,y:0};return(c||!c&&!a)&&((It(o)!=="body"||_n(g))&&(_=Oo(o)),wt(o)?($=Xt(o,!0),$.x+=o.clientLeft,$.y+=o.clientTop):g&&($.x=gn(g))),{x:b.left+_.scrollLeft-$.x,y:b.top+_.scrollTop-$.y,width:b.width,height:b.height}}function To(e){var o=new Map,a=new Set,c=[];e.forEach(function(g){o.set(g.name,g)});function d(g){a.add(g.name);var b=[].concat(g.requires||[],g.requiresIfExists||[]);b.forEach(function(_){if(!a.has(_)){var $=o.get(_);$&&d($)}}),c.push(g)}return e.forEach(function(g){a.has(g.name)||d(g)}),c}function So(e){var o=To(e);return Ui.reduce(function(a,c){return a.concat(o.filter(function(d){return d.phase===c}))},[])}function ko(e){var o;return function(){return o||(o=new Promise(function(a){Promise.resolve().then(function(){o=void 0,a(e())})})),o}}function Io(e){var o=e.reduce(function(a,c){var d=a[c.name];return a[c.name]=d?Object.assign({},d,c,{options:Object.assign({},d.options,c.options),data:Object.assign({},d.data,c.data)}):c,a},{});return Object.keys(o).map(function(a){return o[a]})}var Qn={placement:"bottom",modifiers:[],strategy:"absolute"};function Xn(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return!o.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function jo(e){e===void 0&&(e={});var o=e,a=o.defaultModifiers,c=a===void 0?[]:a,d=o.defaultOptions,g=d===void 0?Qn:d;return function(b,_,$){$===void 0&&($=g);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qn,g),modifiersData:{},elements:{reference:b,popper:_},attributes:{},styles:{}},rt=[],nt=!1,In={state:j,setOptions:function(Nl){var _u=typeof Nl=="function"?Nl(j.options):Nl;Ll(),j.options=Object.assign({},g,j.options,_u),j.scrollParents={reference:Zt(b)?pe(b):b.contextElement?pe(b.contextElement):[],popper:pe(_)};var Yl=So(Io([].concat(c,j.options.modifiers)));return j.orderedModifiers=Yl.filter(function(Ul){return Ul.enabled}),xl(),In.update()},forceUpdate:function(){if(!nt){var Nl=j.elements,_u=Nl.reference,Yl=Nl.popper;if(Xn(_u,Yl)){j.rects={reference:Co(_u,ye(Yl),j.options.strategy==="fixed"),popper:dn(Yl)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(Zu){return j.modifiersData[Zu.name]=Object.assign({},Zu.data)});for(var Ul=0;Ul<j.orderedModifiers.length;Ul++){if(j.reset===!0){j.reset=!1,Ul=-1;continue}var Dl=j.orderedModifiers[Ul],Zl=Dl.fn,Ju=Dl.options,Uu=Ju===void 0?{}:Ju,fp=Dl.name;typeof Zl=="function"&&(j=Zl({state:j,options:Uu,name:fp,instance:In})||j)}}}},update:ko(function(){return new Promise(function(Nl){In.forceUpdate(),Nl(j)})}),destroy:function(){Ll(),nt=!0}};if(!Xn(b,_))return In;In.setOptions($).then(function(Nl){!nt&&$.onFirstUpdate&&$.onFirstUpdate(Nl)});function xl(){j.orderedModifiers.forEach(function(Nl){var _u=Nl.name,Yl=Nl.options,Ul=Yl===void 0?{}:Yl,Dl=Nl.effect;if(typeof Dl=="function"){var Zl=Dl({state:j,name:_u,instance:In,options:Ul}),Ju=function(){};rt.push(Zl||Ju)}})}function Ll(){rt.forEach(function(Nl){return Nl()}),rt=[]}return In}}const Do=jo({defaultModifiers:[_o,Po,to,no,yo,mo,xo,Ki]}),Fo=["enabled","placement","strategy","modifiers"];function Mo(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}const Bo={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},zo={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:o,popper:a}=e.elements;if("removeAttribute"in o){const c=(o.getAttribute("aria-describedby")||"").split(",").filter(d=>d.trim()!==a.id);c.length?o.setAttribute("aria-describedby",c.join(",")):o.removeAttribute("aria-describedby")}},fn:({state:e})=>{var o;const{popper:a,reference:c}=e.elements,d=(o=a.getAttribute("role"))==null?void 0:o.toLowerCase();if(a.id&&d==="tooltip"&&"setAttribute"in c){const g=c.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(a.id)!==-1)return;c.setAttribute("aria-describedby",g?`${g},${a.id}`:a.id)}}},Lo=[];function No(e,o,a={}){let{enabled:c=!0,placement:d="bottom",strategy:g="absolute",modifiers:b=Lo}=a,_=Mo(a,Fo);const $=reactExports.useRef(b),j=reactExports.useRef(),rt=reactExports.useCallback(()=>{var _u;(_u=j.current)==null||_u.update()},[]),nt=reactExports.useCallback(()=>{var _u;(_u=j.current)==null||_u.forceUpdate()},[]),[In,xl]=ki(reactExports.useState({placement:d,update:rt,forceUpdate:nt,attributes:{},styles:{popper:{},arrow:{}}})),Ll=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:_u})=>{const Yl={},Ul={};Object.keys(_u.elements).forEach(Dl=>{Yl[Dl]=_u.styles[Dl],Ul[Dl]=_u.attributes[Dl]}),xl({state:_u,styles:Yl,attributes:Ul,update:rt,forceUpdate:nt,placement:_u.placement})}}),[rt,nt,xl]),Nl=reactExports.useMemo(()=>(fe($.current,b)||($.current=b),$.current),[b]);return reactExports.useEffect(()=>{!j.current||!c||j.current.setOptions({placement:d,strategy:g,modifiers:[...Nl,Ll,Bo]})},[g,d,Ll,c,Nl]),reactExports.useEffect(()=>{if(!(!c||e==null||o==null))return j.current=Do(e,o,Object.assign({},_,{placement:d,strategy:g,modifiers:[...Nl,zo,Ll]})),()=>{j.current!=null&&(j.current.destroy(),j.current=void 0,xl(_u=>Object.assign({},_u,{attributes:{},styles:{popper:{}}})))}},[c,e,o]),In}const vn=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qe=!1,Xe=!1;try{var Ue={get passive(){return Qe=!0},get once(){return Xe=Qe=!0}};vn&&(window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,!0))}catch{}function Zo(e,o,a,c){if(c&&typeof c!="boolean"&&!Xe){var d=c.once,g=c.capture,b=a;!Xe&&d&&(b=a.__once||function _($){this.removeEventListener(o,_,g),a.call(this,$)},a.__once=b),e.addEventListener(o,b,Qe?c:g)}e.addEventListener(o,a,c)}function Ho(e,o,a,c){var d=c&&typeof c!="boolean"?c.capture:c;e.removeEventListener(o,a,d),a.__once&&e.removeEventListener(o,a.__once,d)}function Lt(e,o,a,c){return Zo(e,o,a,c),function(){Ho(e,o,a,c)}}function Ie(e){return e&&e.ownerDocument||document}function Uo(e){const o=reactExports.useRef(e);return reactExports.useEffect(()=>{o.current=e},[e]),o}function ee(e){const o=Uo(e);return reactExports.useCallback(function(...a){return o.current&&o.current(...a)},[o])}const tr=()=>{};function Yo(e){return e.button===0}function Vo(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const Ce=e=>e&&("current"in e?e.current:e),er={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Wo(e,o=tr,{disabled:a,clickTrigger:c="click"}={}){const d=reactExports.useRef(!1),g=reactExports.useRef(!1),b=reactExports.useCallback(j=>{const rt=Ce(e);dr(!!rt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),d.current=!rt||Vo(j)||!Yo(j)||!!We(rt,j.target)||g.current,g.current=!1},[e]),_=ee(j=>{const rt=Ce(e);rt&&We(rt,j.target)&&(g.current=!0)}),$=ee(j=>{d.current||o(j)});reactExports.useEffect(()=>{var j,rt;if(a||e==null)return;const nt=Ie(Ce(e)),In=nt.defaultView||window;let xl=(j=In.event)!=null?j:(rt=In.parent)==null?void 0:rt.event,Ll=null;er[c]&&(Ll=Lt(nt,er[c],_,!0));const Nl=Lt(nt,c,b,!0),_u=Lt(nt,c,Ul=>{if(Ul===xl){xl=void 0;return}$(Ul)});let Yl=[];return"ontouchstart"in nt.documentElement&&(Yl=[].slice.call(nt.body.children).map(Ul=>Lt(Ul,"mousemove",tr))),()=>{Ll==null||Ll(),Nl(),_u(),Yl.forEach(Ul=>Ul())}},[e,a,c,b,_,$])}function Jo(e){return e.code==="Escape"||e.keyCode===27}const Go=()=>{};function qo(e,o,{disabled:a,clickTrigger:c}={}){const d=o||Go;Wo(e,d,{disabled:a,clickTrigger:c});const g=ee(b=>{Jo(b)&&d(b)});reactExports.useEffect(()=>{if(a||e==null)return;const b=Ie(Ce(e));let _=(b.defaultView||window).event;const $=Lt(b,"keyup",j=>{if(j===_){_=void 0;return}g(j)});return()=>{$()}},[e,a,g])}const Er=reactExports.createContext(vn?window:void 0);Er.Provider;function Ko(){return reactExports.useContext(Er)}const Ye=(e,o)=>vn?e==null?(o||Ie()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function nr(e,o){const a=Ko(),[c,d]=reactExports.useState(()=>Ye(e,a==null?void 0:a.document));if(!c){const g=Ye(e);g&&d(g)}return reactExports.useEffect(()=>{},[o,c]),reactExports.useEffect(()=>{const g=Ye(e);g!==c&&d(g)},[e,c]),c}function $o(e){const o={};return Array.isArray(e)?(e==null||e.forEach(a=>{o[a.name]=a}),o):e||o}function Qo(e={}){return Array.isArray(e)?e:Object.keys(e).map(o=>(e[o].name=o,e[o]))}function Xo({enabled:e,enableEvents:o,placement:a,flip:c,offset:d,fixed:g,containerPadding:b,arrowElement:_,popperConfig:$={}}){var j,rt,nt,In;const xl=$o($.modifiers);return Object.assign({},$,{placement:a,enabled:e,strategy:g?"fixed":$.strategy,modifiers:Qo(Object.assign({},xl,{eventListeners:{enabled:o,options:(j=xl.eventListeners)==null?void 0:j.options},preventOverflow:Object.assign({},xl.preventOverflow,{options:Object.assign({padding:b},(rt=xl.preventOverflow)==null?void 0:rt.options)}),offset:{options:Object.assign({offset:d},(nt=xl.offset)==null?void 0:nt.options)},arrow:Object.assign({},xl.arrow,{enabled:!!_,options:Object.assign({},(In=xl.arrow)==null?void 0:In.options,{element:_})}),flip:Object.assign({enabled:!!c},xl.flip)}))})}const ts=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",es=typeof document<"u",tn=es||ts?reactExports.useLayoutEffect:reactExports.useEffect;function ns({children:e,in:o,onExited:a,mountOnEnter:c,unmountOnExit:d}){const g=reactExports.useRef(null),b=reactExports.useRef(o),_=ee(a);reactExports.useEffect(()=>{o?b.current=!0:_(g.current)},[o,_]);const $=ne(g,e.ref),j=reactExports.cloneElement(e,{ref:$});return o?j:d||!b.current&&c?null:j}function rs({in:e,onTransition:o}){const a=reactExports.useRef(null),c=reactExports.useRef(!0),d=ee(o);return tn(()=>{if(!a.current)return;let g=!1;return d({in:e,element:a.current,initial:c.current,isStale:()=>g}),()=>{g=!0}},[e,d]),tn(()=>(c.current=!1,()=>{c.current=!0}),[]),a}function is({children:e,in:o,onExited:a,onEntered:c,transition:d}){const[g,b]=reactExports.useState(!o);o&&g&&b(!1);const _=rs({in:!!o,onTransition:j=>{const rt=()=>{j.isStale()||(j.in?c==null||c(j.element,j.initial):(b(!0),a==null||a(j.element)))};Promise.resolve(d(j)).then(rt,nt=>{throw j.in||b(!0),nt})}}),$=ne(_,e.ref);return g&&!o?null:reactExports.cloneElement(e,{ref:$})}function os(e,o,a){return e?T$1.jsx(e,Object.assign({},a)):o?T$1.jsx(is,Object.assign({},a,{transition:o})):T$1.jsx(ns,Object.assign({},a))}const xr=reactExports.forwardRef((e,o)=>{const{flip:a,offset:c,placement:d,containerPadding:g,popperConfig:b={},transition:_,runTransition:$}=e,[j,rt]=Hn(),[nt,In]=Hn(),xl=ne(rt,o),Ll=nr(e.container),Nl=nr(e.target),[_u,Yl]=reactExports.useState(!e.show),Ul=No(Nl,j,Xo({placement:d,enableEvents:!!e.show,containerPadding:g||5,flip:a,offset:c,arrowElement:nt,popperConfig:b}));e.show&&_u&&Yl(!1);const Dl=(...zp)=>{Yl(!0),e.onExited&&e.onExited(...zp)},Zl=e.show||!_u;if(qo(j,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!Zl)return null;const{onExit:Ju,onExiting:Uu,onEnter:fp,onEntering:Zu,onEntered:Lp}=e;let Np=e.children(Object.assign({},Ul.attributes.popper,{style:Ul.styles.popper,ref:xl}),{popper:Ul,placement:d,show:!!e.show,arrowProps:Object.assign({},Ul.attributes.arrow,{style:Ul.styles.arrow,ref:In})});return Np=os(_,$,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Np,onExit:Ju,onExiting:Uu,onExited:Dl,onEnter:fp,onEntering:Zu,onEntered:Lp}),Ll?ReactDOM.createPortal(Np,Ll):null});xr.displayName="Overlay";function rr(e,o){return e.classList?!!o&&e.classList.contains(o):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+o+" ")!==-1}const ss=["xxl","xl","lg","md","sm","xs"],as="xs",Ar=reactExports.createContext({prefixes:{},breakpoints:ss,minBreakpoint:as});function Ht(e,o){const{prefixes:a}=reactExports.useContext(Ar);return e||a[o]||o}function Or(){const{dir:e}=reactExports.useContext(Ar);return e==="rtl"}const Rr=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=Ht(o,"popover-header"),T$1.jsx(a,{ref:d,className:Ut(e,o),...c})));Rr.displayName="PopoverHeader";const hn=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=Ht(o,"popover-body"),T$1.jsx(a,{ref:d,className:Ut(e,o),...c})));hn.displayName="PopoverBody";function Cr(e,o){let a=e;return e==="left"?a=o?"end":"start":e==="right"&&(a=o?"start":"end"),a}function Tr(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const cs=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,body:g,arrowProps:b,hasDoneInitialMeasure:_,popper:$,show:j,...rt},nt)=>{const In=Ht(e,"popover"),xl=Or(),[Ll]=(o==null?void 0:o.split("-"))||[],Nl=Cr(Ll,xl);let _u=c;return j&&!_&&(_u={...c,...Tr($==null?void 0:$.strategy)}),T$1.jsxs("div",{ref:nt,role:"tooltip",style:_u,"x-placement":Ll,className:Ut(a,In,Ll&&`bs-popover-${Nl}`),...rt,children:[T$1.jsx("div",{className:"popover-arrow",...b}),g?T$1.jsx(hn,{children:d}):d]})}),en=Object.assign(cs,{Header:Rr,Body:hn,POPPER_OFFSET:[0,8]}),Sr=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,arrowProps:g,hasDoneInitialMeasure:b,popper:_,show:$,...j},rt)=>{e=Ht(e,"tooltip");const nt=Or(),[In]=(o==null?void 0:o.split("-"))||[],xl=Cr(In,nt);let Ll=c;return $&&!b&&(Ll={...c,...Tr(_==null?void 0:_.strategy)}),T$1.jsxs("div",{ref:rt,style:Ll,role:"tooltip","x-placement":In,className:Ut(a,e,`bs-tooltip-${xl}`),...j,children:[T$1.jsx("div",{className:"tooltip-arrow",...g}),T$1.jsx("div",{className:`${e}-inner`,children:d})]})});Sr.displayName="Tooltip";const kr=Object.assign(Sr,{TOOLTIP_OFFSET:[0,6]});function us(e){const o=reactExports.useRef(null),a=Ht(void 0,"popover"),c=Ht(void 0,"tooltip"),d=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(o.current){if(rr(o.current,a))return en.POPPER_OFFSET;if(rr(o.current,c))return kr.TOOLTIP_OFFSET}return[0,0]}}}),[e,a,c]);return[o,[d]]}const ir={disabled:!1},Ir=React.createContext(null);var fs=function(e){return e.scrollTop},le="unmounted",Bt="exited",kt="entering",zt="entered",nn="exiting",Ct=function(e){Ci(o,e);function o(c,d){var g;g=e.call(this,c,d)||this;var b=d,_=b&&!b.isMounting?c.enter:c.appear,$;return g.appearStatus=null,c.in?_?($=Bt,g.appearStatus=kt):$=zt:c.unmountOnExit||c.mountOnEnter?$=le:$=Bt,g.state={status:$},g.nextCallback=null,g}o.getDerivedStateFromProps=function(c,d){var g=c.in;return g&&d.status===le?{status:Bt}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(c){var d=null;if(c!==this.props){var g=this.state.status;this.props.in?g!==kt&&g!==zt&&(d=kt):(g===kt||g===zt)&&(d=nn)}this.updateStatus(!1,d)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var c=this.props.timeout,d,g,b;return d=g=b=c,c!=null&&typeof c!="number"&&(d=c.exit,g=c.enter,b=c.appear!==void 0?c.appear:g),{exit:d,enter:g,appear:b}},a.updateStatus=function(c,d){if(c===void 0&&(c=!1),d!==null)if(this.cancelNextCallback(),d===kt){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);g&&fs(g)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bt&&this.setState({status:le})},a.performEnter=function(c){var d=this,g=this.props.enter,b=this.context?this.context.isMounting:c,_=this.props.nodeRef?[b]:[ReactDOM.findDOMNode(this),b],$=_[0],j=_[1],rt=this.getTimeouts(),nt=b?rt.appear:rt.enter;if(!c&&!g||ir.disabled){this.safeSetState({status:zt},function(){d.props.onEntered($)});return}this.props.onEnter($,j),this.safeSetState({status:kt},function(){d.props.onEntering($,j),d.onTransitionEnd(nt,function(){d.safeSetState({status:zt},function(){d.props.onEntered($,j)})})})},a.performExit=function(){var c=this,d=this.props.exit,g=this.getTimeouts(),b=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!d||ir.disabled){this.safeSetState({status:Bt},function(){c.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:nn},function(){c.props.onExiting(b),c.onTransitionEnd(g.exit,function(){c.safeSetState({status:Bt},function(){c.props.onExited(b)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(c,d){d=this.setNextCallback(d),this.setState(c,d)},a.setNextCallback=function(c){var d=this,g=!0;return this.nextCallback=function(b){g&&(g=!1,d.nextCallback=null,c(b))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},a.onTransitionEnd=function(c,d){this.setNextCallback(d);var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),b=c==null&&!this.props.addEndListener;if(!g||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var _=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],$=_[0],j=_[1];this.props.addEndListener($,j)}c!=null&&setTimeout(this.nextCallback,c)},a.render=function(){var c=this.state.status;if(c===le)return null;var d=this.props,g=d.children;d.in,d.mountOnEnter,d.unmountOnExit,d.appear,d.enter,d.exit,d.timeout,d.addEndListener,d.onEnter,d.onEntering,d.onEntered,d.onExit,d.onExiting,d.onExited,d.nodeRef;var b=Oi(d,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(Ir.Provider,{value:null},typeof g=="function"?g(c,b):React.cloneElement(React.Children.only(g),b))},o}(React.Component);Ct.contextType=Ir;Ct.propTypes={};function qt(){}Ct.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qt,onEntering:qt,onEntered:qt,onExit:qt,onExiting:qt,onExited:qt};Ct.UNMOUNTED=le;Ct.EXITED=Bt;Ct.ENTERING=kt;Ct.ENTERED=zt;Ct.EXITING=nn;function ds(e){var o=Ie(e);return o&&o.defaultView||window}function ps(e,o){return ds(e).getComputedStyle(e,o)}var ms=/([A-Z])/g;function gs(e){return e.replace(ms,"-$1").toLowerCase()}var _s=/^ms-/;function Oe(e){return gs(e).replace(_s,"-ms-")}var vs=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function hs(e){return!!(e&&vs.test(e))}function jr(e,o){var a="",c="";if(typeof o=="string")return e.style.getPropertyValue(Oe(o))||ps(e).getPropertyValue(Oe(o));Object.keys(o).forEach(function(d){var g=o[d];!g&&g!==0?e.style.removeProperty(Oe(d)):hs(d)?c+=d+"("+g+") ":a+=Oe(d)+": "+g+";"}),c&&(a+="transform: "+c+";"),e.style.cssText+=";"+a}function ys(e,o,a,c){if(c===void 0&&(c=!0),e){var d=document.createEvent("HTMLEvents");d.initEvent(o,a,c),e.dispatchEvent(d)}}function bs(e){var o=jr(e,"transitionDuration")||"",a=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*a}function Ps(e,o,a){a===void 0&&(a=5);var c=!1,d=setTimeout(function(){c||ys(e,"transitionend",!0)},o+a),g=Lt(e,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(d),g()}}function ws(e,o,a,c){a==null&&(a=bs(e)||0);var d=Ps(e,a,c),g=Lt(e,"transitionend",o);return function(){d(),g()}}function or(e,o){const a=jr(e,o)||"",c=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*c}function Es(e,o){const a=or(e,"transitionDuration"),c=or(e,"transitionDelay"),d=ws(e,g=>{g.target===e&&(d(),o(g))},a+c)}function xs(e){e.offsetHeight}function Se(e){return e&&"setState"in e?ReactDOM.findDOMNode(e):e??null}const As=React.forwardRef(({onEnter:e,onEntering:o,onEntered:a,onExit:c,onExiting:d,onExited:g,addEndListener:b,children:_,childRef:$,...j},rt)=>{const nt=reactExports.useRef(null),In=ne(nt,$),xl=Uu=>{In(Se(Uu))},Ll=Uu=>fp=>{Uu&&nt.current&&Uu(nt.current,fp)},Nl=reactExports.useCallback(Ll(e),[e]),_u=reactExports.useCallback(Ll(o),[o]),Yl=reactExports.useCallback(Ll(a),[a]),Ul=reactExports.useCallback(Ll(c),[c]),Dl=reactExports.useCallback(Ll(d),[d]),Zl=reactExports.useCallback(Ll(g),[g]),Ju=reactExports.useCallback(Ll(b),[b]);return T$1.jsx(Ct,{ref:rt,...j,onEnter:Nl,onEntered:Yl,onEntering:_u,onExit:Ul,onExited:Zl,onExiting:Dl,addEndListener:Ju,nodeRef:nt,children:typeof _=="function"?(Uu,fp)=>_(Uu,{...fp,ref:xl}):React.cloneElement(_,{ref:xl})})}),Os={[kt]:"show",[zt]:"show"},rn=reactExports.forwardRef(({className:e,children:o,transitionClasses:a={},onEnter:c,...d},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...d},_=reactExports.useCallback(($,j)=>{xs($),c==null||c($,j)},[c]);return T$1.jsx(As,{ref:g,addEndListener:Es,...b,onEnter:_,childRef:o.ref,children:($,j)=>reactExports.cloneElement(o,{...j,className:Ut("fade",e,o.props.className,Os[$],a[$])})})});rn.displayName="Fade";function Rs(e,o){const{ref:a}=e,{ref:c}=o;e.ref=a.__wrapped||(a.__wrapped=d=>a(Se(d))),o.ref=c.__wrapped||(c.__wrapped=d=>c(Se(d)))}const Dr=reactExports.forwardRef(({children:e,transition:o=rn,popperConfig:a={},rootClose:c=!1,placement:d="top",show:g=!1,...b},_)=>{const $=reactExports.useRef({}),[j,rt]=reactExports.useState(null),[nt,In]=us(b.offset),xl=ne(_,nt),Ll=o===!0?rn:o||void 0,Nl=ee(_u=>{rt(_u),a==null||a.onFirstUpdate==null||a.onFirstUpdate(_u)});return tn(()=>{j&&b.target&&($.current.scheduleUpdate==null||$.current.scheduleUpdate())},[j,b.target]),reactExports.useEffect(()=>{g||rt(null)},[g]),T$1.jsx(xr,{...b,ref:xl,popperConfig:{...a,modifiers:In.concat(a.modifiers||[]),onFirstUpdate:Nl},transition:Ll,rootClose:c,placement:d,show:g,children:(_u,{arrowProps:Yl,popper:Ul,show:Dl})=>{var Zl,Ju;Rs(_u,Yl);const Uu=Ul==null?void 0:Ul.placement,fp=Object.assign($.current,{state:Ul==null?void 0:Ul.state,scheduleUpdate:Ul==null?void 0:Ul.update,placement:Uu,outOfBoundaries:(Ul==null||(Zl=Ul.state)==null||(Ju=Zl.modifiersData.hide)==null?void 0:Ju.isReferenceHidden)||!1,strategy:a.strategy}),Zu=!!j;return typeof e=="function"?e({..._u,placement:Uu,show:Dl,...!o&&Dl&&{className:"show"},popper:fp,arrowProps:Yl,hasDoneInitialMeasure:Zu}):reactExports.cloneElement(e,{..._u,placement:Uu,arrowProps:Yl,popper:fp,hasDoneInitialMeasure:Zu,className:Ut(e.props.className,!o&&Dl&&"show"),style:{...e.props.style,..._u.style}})}})});Dr.displayName="Overlay";function Cs(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function sr(e,o,a){const[c]=o,d=c.currentTarget,g=c.relatedTarget||c.nativeEvent[a];(!g||g!==d)&&!We(d,g)&&e(...o)}N.oneOf(["click","hover","focus"]);const yn=({trigger:e=["hover","focus"],overlay:o,children:a,popperConfig:c={},show:d,defaultShow:g=!1,onToggle:b,delay:_,placement:$,flip:j=$&&$.indexOf("auto")!==-1,...rt})=>{const nt=reactExports.useRef(null),In=ne(nt,a.ref),xl=wi(),Ll=reactExports.useRef(""),[Nl,_u]=Ri(d,g,b),Yl=Cs(_),{onFocus:Ul,onBlur:Dl,onClick:Zl}=typeof a!="function"?reactExports.Children.only(a).props:{},Ju=s0=>{In(Se(s0))},Uu=reactExports.useCallback(()=>{if(xl.clear(),Ll.current="show",!Yl.show){_u(!0);return}xl.set(()=>{Ll.current==="show"&&_u(!0)},Yl.show)},[Yl.show,_u,xl]),fp=reactExports.useCallback(()=>{if(xl.clear(),Ll.current="hide",!Yl.hide){_u(!1);return}xl.set(()=>{Ll.current==="hide"&&_u(!1)},Yl.hide)},[Yl.hide,_u,xl]),Zu=reactExports.useCallback((...s0)=>{Uu(),Ul==null||Ul(...s0)},[Uu,Ul]),Lp=reactExports.useCallback((...s0)=>{fp(),Dl==null||Dl(...s0)},[fp,Dl]),Np=reactExports.useCallback((...s0)=>{_u(!Nl),Zl==null||Zl(...s0)},[Zl,_u,Nl]),zp=reactExports.useCallback((...s0)=>{sr(Uu,s0,"fromElement")},[Uu]),h0=reactExports.useCallback((...s0)=>{sr(fp,s0,"toElement")},[fp]),k0=e==null?[]:[].concat(e),D0={ref:Ju};return k0.indexOf("click")!==-1&&(D0.onClick=Np),k0.indexOf("focus")!==-1&&(D0.onFocus=Zu,D0.onBlur=Lp),k0.indexOf("hover")!==-1&&(D0.onMouseOver=zp,D0.onMouseOut=h0),T$1.jsxs(T$1.Fragment,{children:[typeof a=="function"?a(D0):reactExports.cloneElement(a,D0),T$1.jsx(Dr,{...rt,show:Nl,onHide:fp,flip:j,placement:$,popperConfig:c,target:nt.current,children:o})]})},Ts="_help_button_1s4g5_1",Ss={help_button:Ts};function Eu(e){let o=T$1.jsx("div",{className:Ss.help_button,children:"?"});return e.popover!=null&&(o=T$1.jsx(yn,{trigger:"click",rootClose:!0,placement:e.placement,overlay:e.popover,children:o})),o}const ks="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='36.012337'%20height='31.802971'%20viewBox='0%200%2036.012336%2031.802972'%20id='svg9098'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='mclogo-split-rotate-v9.svg'%3e%3cdefs%20id='defs9100'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='11.2'%20inkscape:cx='14.890099'%20inkscape:cy='23.051314'%20inkscape:document-units='px'%20inkscape:current-layer='g9'%20showgrid='false'%20units='px'%20inkscape:window-width='1680'%20inkscape:window-height='940'%20inkscape:window-x='0'%20inkscape:window-y='1'%20inkscape:window-maximized='1'%20fit-margin-top='3'%20fit-margin-left='3'%20fit-margin-right='3'%20fit-margin-bottom='5'%20/%3e%3cmetadata%20id='metadata9103'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(3.0066849,-1015.2422)'%3e%3cg%20id='mctriangle'%20transform='matrix(1.1533275,0,0,1.1556928,-379.094,391.20844)'%3e%3cg%20transform='translate(2975.41,266.50511)'%20style='display:inline;stroke:%23d21f15;stroke-width:0.86616874;stroke-opacity:1'%20id='layer6'%20/%3e%3cg%20id='g9'%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9220'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9224'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9228'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9232'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9236'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9240'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9244'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9248'%20/%3e%3cellipse%20ry='0.25958455'%20rx='0.26011693'%20cy='553.91522'%20cx='341.70126'%20id='ref'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.4000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20/%3e%3cpath%20id='mctriangleonly'%20d='M%20335.13723,550.18801%20338.41923,555.66439%20341.70129,561.14077%20344.98332,555.66439%20348.26535,550.18801%20341.70129,550.18801%20Z'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.91575587;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20inkscape:connector-curvature='0'%20/%3e%3ccircle%20cy='550.02032'%20cx='348.39252'%20id='circle7840-5'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20cy='550.02032'%20cx='335.01007'%20id='circle7842-0'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20id='circle7844-5'%20cx='341.70132'%20cy='561.30841'%20r='1.4070433'%20/%3e%3ccircle%20r='1.4070433'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;filter-blend-mode:normal;filter-gaussianBlur-deviation:0'%20id='movingcircle'%20cx='335.01007'%20cy='550.02032'%3e%3canimateTransform%20id='anim1'%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20values='0.0%200.0;13.38245%200.0;6.69125%2011.28809;0.0%200.0'%20type='translate'%20attributeName='transform'%20/%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function xu(){return T$1.jsx("div",{style:{background:"transparent",border:"none",textAlign:"center"},children:T$1.jsx("img",{src:ks,alt:"Materials Cloud spinner",style:{width:"100%",minWidth:"20px",maxWidth:"200px",height:"auto"}})})}const Is=["as","disabled"];function js(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function Ds(e){return!e||e.trim()==="#"}function Fr({tagName:e,disabled:o,href:a,target:c,rel:d,role:g,onClick:b,tabIndex:_=0,type:$}){e||(a!=null||c!=null||d!=null?e="a":e="button");const j={tagName:e};if(e==="button")return[{type:$||"button",disabled:o},j];const rt=In=>{if((o||e==="a"&&Ds(a))&&In.preventDefault(),o){In.stopPropagation();return}b==null||b(In)},nt=In=>{In.key===" "&&(In.preventDefault(),rt(In))};return e==="a"&&(a||(a="#"),o&&(a=void 0)),[{role:g??"button",disabled:void 0,tabIndex:o?void 0:_,href:a,target:e==="a"?c:void 0,"aria-disabled":o||void 0,rel:e==="a"?d:void 0,onClick:rt,onKeyDown:nt},j]}const Fs=reactExports.forwardRef((e,o)=>{let{as:a,disabled:c}=e,d=js(e,Is);const[g,{tagName:b}]=Fr(Object.assign({tagName:a,disabled:c},d));return T$1.jsx(b,Object.assign({},d,g,{ref:o}))});Fs.displayName="Button";const Mr=reactExports.forwardRef(({as:e,bsPrefix:o,variant:a="primary",size:c,active:d=!1,disabled:g=!1,className:b,..._},$)=>{const j=Ht(o,"btn"),[rt,{tagName:nt}]=Fr({tagName:e,disabled:g,..._}),In=nt;return T$1.jsx(In,{...rt,..._,ref:$,disabled:g,className:Ut(b,j,d&&"active",a&&`${j}-${a}`,c&&`${j}-${c}`,_.href&&g&&"disabled")})});Mr.displayName="Button";const Ms="_download_dropdown_menu_23m9j_1",Bs={download_dropdown_menu:Ms},zs=[{format:"cif",label:"CIF"},{format:"xsf",label:"XSF"},{format:"xyz",label:"XYZ"}];function Au(e){const o=`${e.aiida_rest_url}/nodes/${e.uuid}/download`,a=e.download_formats||zs,c=T$1.jsx(en,{children:T$1.jsx(en.Body,{style:{padding:"5px 0px"},children:T$1.jsx("ul",{className:Bs.download_dropdown_menu,children:a.map(({format:d,label:g})=>T$1.jsx("li",{children:T$1.jsx("a",{href:`${o}?download_format=${d}`,children:g})},d))})})});return T$1.jsx(yn,{trigger:"click",rootClose:!0,placement:"bottom",overlay:c,children:T$1.jsx(Mr,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",children:T$1.jsx("span",{className:"bi bi-download"})})})}const Ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACACAYAAADUHPECAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAdTAAAHUwAGRbQIfAAAAB3RJTUUH4QoMEAcil62xzQAAGc9JREFUeNrtnXl8XVW1x7/r3JvcJC1tgdKWUqADs0CTAk6AAh+GgAzyBBUUKQ8R6GDx4Ud9j6YVWkCeAio2pSLqQxyK4gTSBBApVJDCo4lMMjQpHaAphVI6ZLrnrPfHOjeEtknOvfece8/N5/0+H/j00yb77L3P7+y99tpr/ZYwyKFzRgMCquAIeDoCmARMBmqAQ4B9gD2B3YCU/6udwBbgbWAd8BLwT+A54BUcbxOeYz8pINe1FXuokUKK3YGooHNHgwco4MgwVKcAJwPHAQdhxCjPstlu4B3gFeAx4GFgBcpmxJ4l8wcnYQYdUXT2aDIvDWFf4CzgM8DRwLCQH/ce8CzwO5D7cHQ1nv2DzBtchBk0RFGaoO60DEnGAhcAFwOHAYmIH+8BLwB3Ab/GtiqY14hQXeypCQWDgig6Z4zZIFABfBq4CjgGcArcFQ94Bvg+8EegHRSZt6HYU5Q3Sp4oWjfaSCJyAPCfwOeAIUXu1jZgMXAjyGuoh8wvbbKUNFG0bjSgAnIqcAMwpdh92gErgP/CcxtxElrKdkvJEkXrRoE6ZYheDFwH7F3sPvWB9cBckJ+BdpcqWUqSKLaSkAJmAdcQ/mkmbGwBrsdsl85SJEvJEUVnjwKRcuA/gDqgqth9CojtwHyEm1HtKjUDt9Cngrygc0aBagK4HFtJSoUk+H39L5TLURI6e3Sx+5MVSooodFeA43wamAsMLXZ3csBQYC4i51BeWot5yfTWt0uqsWPnQcXuT554GTvGN5eKvVISK4rW7Q0wAvg2pU8SgIOBa4EROntUsfsSCLEnin59GIgIMBU4o9j9CRFnAFNRFX+1jDViTxQqK0Hdw4CZQFmxuxMiyoCZOM5haPwtgPgTBZLAlcDEENpygUbgX8UelI+J/tiSxe7IQIg1UfwleQpwXojN3g2cA9wGbCz2GIHzEK3RujHF7ke/iDVRsPCALwJhb+KvYA6787Fb3o4ijnG0P8aoQyHyQmyJot/eB2xpPjPstv0jaRp4FPgScBmwHDJhRwXHWaAT9Zr4GrWxJQpeB8BpwP5RNC/z2jKE2YLI3cC52JVAaxFGuz9wKhVFeHJAxJcomqwETo+6jzKvDbrTAG/wescNGGHuAN4t4Ggd4HS6qCzgM7PuYFwxCYuSjxxy40YjzP4VAM14OgMLpVwCdBVovFMI52QXCWJJFN9bOQUoqNuyZzsSuoAG4EJgBtBcgMfvBRyldfH01MaSKHgIFjVflJOAzN8A6oFtP3dgcbjzyQRNR4MkcDTixNL7Fk+iJKgEPlTMLsj8t3qnXKzCTczBCHMXlqYRBQ5DvVjaKfEkCrIHsG+xewG9tiPHUyzC/nLsSP037IgdJvb1xx47xJQo7AnEasJk/npofQ/MOfcn4LOY0+6lwTzuDOJKlL0gfl4Fubs9Y+wCbMR1bsOuA24BwggsqfDHHjvElSjDiPFNsVznb0dlLsCrqHwDu4/6HRYbmyvKiGmgeFyJUkHM7z4A5NoN/gqjLrAMYSrw78AyLKE9WySI4UoK8SVKghIK05R5beB6oGwj6SwGfoipHmTdFDH9QOIaB5HG9AhiD50z2npaloBu90DS3uXAF8jNWegR/kkqFMSVKNuxCYvl1wWg3xoLSTdD55F0uxdiQUiH5NGsS342TmSIK1Hexfb4VJ7tRIdyFzwqsIvLr2ICPfnOZxewqdhD2xXiSpS3sC8rvrk7yuEI38SOx7uF1Op24hF1txPiasy+DcQ95/JQLEIuLJLgjzkXIzhyxJMowiZgVbG70T+0AQtDCBOtqMZy64knUbSrC1NgjDO2YOoEYW4Vz9GRKlT8S1aIJ1HssPM0JuEZT5SnQHgC+FVILXYCT1Oei58uesSSKDJvI0ATsLZQz9SrD0LrRhM0a0/q1oCdzBYCr4bQhTVAk9ywvlBDzgqxJAoAyjrgyYI8qm4UVG0GZDdgZFBJCrmuDZSXgdvJ31H2JGiUgVF5Ib5EQbuBvxBhzGqvFSQJfBL0buB7IFV+YnyQVhRLKnsqj650AveBE0uvLMSZKFIOlnfzQhTNa93ozOgPBbkFu/k9Gzgf0TOQYLaCzN8Aohsww3Zbjt15AXgsziZZbIki89ZCp9cG/JZwE7PUX0VG4XE1lik4Exjp/3sVcBWaGKV1AUNDLMn8AeD+HPrjAfewzWuTebE8GQMxJgoASVHgHsIxFsFuZoZgsa+/A25i13orHwG+iHqBbrBlXhso24EfYCqQ2eAVlN/GXYEp1kSRGzaApy3Az7ALszDGezUWIH08fV86JoErkOTBgZPHU4B6y4FfEPzm2wXuxPVa5TvxdkTHmigACIq92KdDGu9BBHO7HwhMA8qslMsA3axrA8QFFhE8jvYp4G4ciX1IReyJYsai+ya2TWwu8OMvAP24r7MfrK+etxJYwMARbpuBm/C89XJ9vFcTKAGiAKBlYMbiTyms4sBIrADDbjo3oGHrOGCChI/381Me8BOUBpy4XuDvMKxidyAIZN6bYP6U7wKPFPjxp4GcTWewOgy+Yfs2dlzuK1Hsr8D3gC5/bLFHSRAFMpom8ibwDeDFAj66EphFWfvYwKJ8ZS4gD2FH7x3xgo1B1pdStbCSIQoAqQ7wWIFtB68X8MlHAVN9dcoBIXM3AtqBBVn3dsu/DlxFwmuie2sBu58/SoooMvtdO7hu6XoICz9cU6BHO8BlqB4eVG3A0ji8FZhdhd/XmXSmH6Y7gXzn/4kSKeTaNhhaDpL4M3AF8FqBHj0e8+CW6zWBPbYecCdwLzANGXIfqSRyfTxviPtDyREF/Eqg6oLrPIDVDfxHgR59PsgJJIIlB8i8DaCyGriUJ469H91eskUpS5Io4C/tSReQJ7A8mruI/lZtBPA1VIcHFrwRVWAzxy5D5pXeStIzjGJ3IF/o7L1AHLA7nC8BX8O8qlGhE5jOe4fcKT9YWuzhFwwlT5QM7OjqAN7hmJzW+UQnIdEMnI3q6lIvKhkUJbv17Ajb+12A51H5KlYU+24sRyhsHIFp08Y2kzFsDJoVpTd09hiwe7ZyTDTw01g1iwMJTy3gNeAsmdcWF139SDEoiQJ+HGxmeJUpaO/cGxMQ/AQWbzIJ25qCEqcDS85aiUl0/Q1YKvPaotJzixUGLVF6wy9Y2fuvhgFjMV3XCcA4TH1gGLYKgd0tvYdl763FFK1bgDcok/fothvlUj3uZouCEWXykipEFFA8twySHppwkbRDsjuNV2bmUremeeH0aGKM9dtjwN2FSIIobHZgqDg4noM4gpdw8bZ4JCrZKQ6pWyGZQOZHdKFXvzLTMcCxx4tgl87d9KSMC3BlYTSMIyNKdWMFiiIfKFqkkOxGuyodTaiD44m44nmu5yUSfQfvNNVGV/xC68ZYIL0AbgISrh233TJwOvHfUrQrx8IWP+52hylQAUFQEnbPpIDrkhSP9I6vzv/daZMi6WKoRKlpMHKAjUkdrRCV0djyPhGTBN0b2B0LHnSwo8o2bP9fh+UctwCrsXRNFyCZTvPMmbHNZsgei1aC23v6JQE6EtgPs5/GA/tgSpFV2DLoYbbSJuBNf45W2pxpmzHbVm0gVNKEQpSaxkq0JwpMh4EcgemFHAschtWkGRLweS5mG6zB8o8fBx5OptMtg4IoC1vef5dCOXAA8HHMyJ6MfUzDCHb0VmArpkj5IvB3my99HmRLz4+EQJi8iDK5oQrBo6m2g+qGionAp7Cj6BTM3R0GuoBpyXT6zpImSv1KMistwh7AiZiS5LHYyhGWT+sdYAUWC/MAm8a0sPt6s8OuzJ0wORFlygMpPEdISDeulh2EVbD6LBa4HLbdsww4L5lOt5UsURa0ZGZlD+xDmgocQ7QKkB6W5rIYuBsSryIueALTJ2TdWNYv1YxUEGUv4CJM8juqWsTbgIsduPfZCA3ayLBwpRmkSjlCLRZwdRyF19B9GbgD4S6Ut3LZjrJa7iY3VuA5iCgnAr8G/ptoC1bfp7CkJNeR+lZQB2Aiwg+w2+0TKY7Q8sHATSi/Bk5CPIf6lqwaCLSiVDc4QDkqDBHlCiyJKmgWd65YD5yr8I/mgKtJdUMFCDSdVuTVp74FSDjg1gLXYaGUccF64GZMgWErLjBzYF/MgCtK9V/K8J2Ve4vyfeB6oieJJX2JPJ0VSWCoQLn/5+LAvtQUuNOxDMc4kQRgDPYObwXGkgDqVw34S/0S5cN/HoYfzTURy4C7lMJIer5kz9Ms0kilDKhTpQ4YUr2kCGQxkgwBZgPfocAVzLJAOfYuFwETwYNb+5dm6ZconSYnNhFbps6iMC7/bmBB2ulqCbqFGCn0WH/w3wTmAEMKurIs7CHJXCylpKpwD88JgpUKXgRMItV/cGCfRKlurECUfbCK46cUcACPA79JaDCbr8bskt2wE8WemLE4C+EbQGpyQwEKatW3AJICvgXM4v2LxVLAydg7HueTfZfYJVGqGytQZThwI6bMXCi8B9yKOO80nxYs/DVtt8LnAKf2+usUZnBfiuIc2RDhezNHmoPqZVihp1IiSQa1wA0ow/s6De1ElOqHKgGSYl/o5ylsKMIfVHkYL5hpUtOQIoGOxXJ8dlw6hgBzRPSURJQC3VoG6KlYce24bzd9QbB3PQshSf3qnX5gJ6JouwfKGdjkF/LMvxb4oTh0NJ0+8GpS/RQ4goMyFbsy2BVGA/MVb0Ik9kr9SpD0BKyCaVwN16CwLVuptXvHD+IDRKluSCHlsh/2dRSytp0H/BSkqWlFQB/IO5W4Kh9i4NjVo4CrQcoP+dOI8Hr8+y2gWm5tx+4InCv2AOoguS/1rR/4hx6iVC+tQIUEJh5T6IH/E7gT1ONbA/9wdWMliJZjmXvjB/hxAb4IesqQVHt4PV7XBuKcYm0PKhyNZWAmetsr768o2xVRORrLvAvDLllHsNzgTuC23Ts6VgcOUPI8gBOwlIwgGA58zUV2nxLGFrToVUg4u2N23PAQ5moL8C8Kq/3SFxxgKmhNbwGhHqKoxUZ8BfPchYFlwL9hubf9KSU9InDvOxXBjrFHNlSCyAgs0WtEFv05DjjLdUNQweqsAPNBHB/SXLVhtQhnY7G5xcZYjAs9NqoD5v4WpAZzqoUFj5T+LzAduBB4kJ3FhTdhruTNzbXBtoWOsgqwnJ0Ts+xPCrhEEjKi+pE8VpWbWyDZPRy4hHC91GtJjr8RC0O4AytuVUycg0g1Cyx+11YUwQE+R9g1d7slgW0tD5A5fsHzvX7iHmDpioBbTs2SFJXd7fthtkkuL+nDwCc0nwzlKgFbST4S6lyBQ7oVzF6b4c9XAxEqdw+AUViMkUPmf6KMwxKkQkdTbQfvmXt4kyC3Y+rQN2E69wuymwhxBL6MZerlgirgM0gex34lia1o4ftMpk2CaRPx56QRuAAjTXPozwqGTyEyFsCpbqhEbf+OLO6/5USlqbYDz2y1VkSvAc5D3BeCGrDVDRWoUIPt5fmEDX5CBj4p9QPdH/hkVHMFGFnaOwHeRbgD247mU8BqIz4OAI6jfiWOqiYxf3/kzrXm2k5LvVBxgTfACWTlVz9YjlrY4Fex+NJ8MA74aE1jDguC3YV8FAuAjhZXH2qE8RRgFcgc7HDwC+yUVAiUASejkkiKMAaL3ywYss3TkXQSHO8U7MvKF0ngeBV+SbbHUcXB7JPCaX5O90MW61sVeBqRr6B6L2bvFaIvxyCMcbB0iui/kBxR01COOt6e2HF4WFjN4nkjsv4tYQTRfFQDv+xpE2yFUTqAP4F8FvMKB1XJzhX7A4clgRrCrbQZLkQF5fOYHRXm4MeRfUXQoZifI+zE9HXs6oJlV5g2ARa0grARlR8iugQLcL+IaO6bdgOqk9gJIrY6KaqJcViF8jBtqOFY9mJ2BS4dZy2uXhTFMHGd4If2TLqFJZO9iiffxNE/Yjbcpwj3ROYARzpY+mKcsQUz4ML0WJYB+538TNa/5wHtof9n20n2LuMrJ9p2JLjAMpBLsFPhk4R7HTApSXgu+6jwbmJ7x01uVcUDmJc3DMktAfZ+6KgsL7UuH1/sudg1pk+AH60CR7chLEZZim1FX8GOuPlijEN4qZ+RoKm2A6+qAuA5RWZiHssl5K8AueeUhyoHjz7MjPFmv9g6sh4n+V3slFiPVabPB7s7lEBU1oraDsqTabDA64ewu6NpwLPkXh20Sl2NrW2WM6b725HXDaa7Pwu7nrkf2J5jq1UOhfQJ5IHlJ6dprm33ZTV4F5MOv5D+y530hzIcHTwryo6YNgl/Y01j1TwuAn5Mbh9WMoktViXxZR3RmDJhHk8cHD0GuweZkmNzrmoOBmSpYEGrKRioArIfZuSeS25Klm4Ss7zj60chI9Djjxsm4OhlmCJAPhmL7Q7xL9GWNW573VSjbMZGYG7/GUA1uQektSexoKJYEmXqPdA8PJVRztpd7dp7GnBkCM1vSqVSXlA/V0lgQatf1lDKQE9A9SrsHi/fFJJ3k5jq4bhij3FHTF5SwQoBB00BJ6mFHYapBtDmBawV2IOFraARRSt6HszIUZn99la7PKzcDtsrD0d0OvZRhRUgvyGJFRvKdZ8PHdUNVYBHd1opS0q1qszA4j9GhPiYNLBm+UlZeuKvGA8LV2f3O0EgAuU5mA53vgqdCXAVhLG0V34J4TLCDxlZlQSew87bRT0B1PylHE1ktP9kXFlSLsFyifeP4HFbMUHB7LCwdQwWoR6swGAwCMpG0ulFWGhoMNS3ZDxJQxHOxtz3xxD+wUSB55JAE3a+DnPwWaF6SYVftZ5hIOf4gz6K6MgbNENgRziYw+/gkPuzChMmGpgoC1b6mrOaBDnWn6taovOHbQOaklgM63qKcOfTk72nkgQ9HrNDTiVabTNszLox699S3kJoInyiDOzbuL3Fd2QIeHowyBVYnaJw45x3xpsozycRVqM0UUCiTDalBAQPD+cwEb0S+1JHFuDxHrBMO73sHU9lnd2kU3/H7psK53uqX5lxzY/E04xXOmyy9oUViK5Nalo7JSGPYM6YyAdf3VCRuScdrTgXicVShHFxFRQbgWVSlWDgYuc7oLMKEu4yv43oc40zTjO0EtteZmFyo4XypnvAI7jalXSGOGiHPoopIecbj9onqht7CDIEi5mYhaU8FLrmzXKUl5tOycF/MnN/qG/5F7AcSwCLBplUTg9B+DB2GXoOFjhVSKwDHmVkCmfFCe2o8ioRVSivWVLpJ5ipg30NP8W0zT5O4UmSBv6A4+SRhKztwO/JejkKiPfzfSfi6PX+s75A4UkCdkfUwgX79ixh3ZjVfW6oHRLUczxE5QBVyYTrBSxHHgleBBqtwkbug8Jybl4iHA9xplH1SbIHZgNNJ/f8pTCwBfgN/gdhCWACII8DYVZTVFz2FJXpwJ+Br1NcknjALzWhbzSdkUfy3bSJ0N39JuQQxd/fXFnm4+nYy7mN4pIE4FEsfxzwidJU24GaE2oR4eWMHIHJa98KHFrkQYO5AX6DF8JFYDKh2At9Pt+mfAwHbgF+henlFUO0uDe2AIsQtvmZi++fchKAKg9jX38YOAKTpij2oMFSNBeUO92rm8MQK55+ACSc1WSdEtsn9sKM4xFFnKPe+CPwCO77C2YPUZ6tbQehHVM1fr3YPQ0ZjcDibi/EU6VN4mK/7cGEVcAtqLYz432vxQf8Js21HTheogn4HtFXJS8UVgPXo2xeURvikGxJ3oypQOdyHRBHdAI3k3CaezIUfews9ieeCvwc24NLHe3ADcDyptMjiDuZNhE8We4/I0Tdr6JhMfBzdhF/sRNRVpzejgpbgW/Ty+otQbjAj1HuIpecmaAQFPgfTPwmDtJauWIZprq9lSt3rufT5+1s9YOV4OlR/iR8qNijyAGLUaYDb0eymvSG+T9GYqkRQXXl4oQXgYtRfWbHLSeDPu92tMtFXclIa71c7JFkifuAryMFIAlk7JWNmHL1/cUefJZ4BZiOyjNI347yPonSfGYXTtIDkaVYxllYPoMoocC9GLnXRlkGdydYaudakOnAH4hyuwsPLwCXk+BRRGHa+D5/sN/b4hWndYIqgj6GRb0/VuyR9YMu4CfAdIU1VQWpFrMDOpOArsbCAH5C8fTXgmAZcAkqj9JNZlXsE4EiyKxChSIWlngtFjtShDfRJ94CvouyEGHrqOF78ODH3ihOT360KiMkNRRb2a4m+uCibNCJnW7mAquCVmMPHGp4VGMK1+IVh2KixVdj0hHFhAJPANeB9zA4XkG3m/5Q3wIiCVRPwSTjP0aR45IxRYhbMPfHVkTY1QlnV8ipSuk2t4MhTkUNpoJ0DuEpIWWDNcCdIHeAvgFKU5gOtTCQqX+jjMU0+y+lOOpWW7CrmZvBXQGJAbeaHZETw6v9rQiLbT0ZM3ZPoDCJZG9idxF3OKJNnjqKaPELTvaFH7X4lqAKJvr8ZSzrIeq6jGAEWYqV3fsriDkFsyQJ5LEUHtFYScJTvwUZCnocpot6AvbVhLnMdmHHuPuB32JKSelYVCQNip6oNUni6BGYv+VMrBxwmPaeYjKjj2C2yGNYJL3l/8zMLTQ675dZYzq1gCKqSRU5ECPLScBk7MsZkuWzPEwnrRULO3wYeHKv7VXr3qoy5YZU0uOpk+N8qNgFfrwautM2E+1JqEyPxeRIT8VUtcdjIQfZxi5vA97AhIv/BiwFeQXUovAUk8PIA6F99VMaU6gHKpkmNSXIODXVySnA4f5EjPIno9KfkLQ/0E1Y2shrWFJaM8qLKrpe/GRyD/hnXIzVfHH7SvD8uXJU8GQMcAiWTH4kFnC+NxbxVoUfCYIlS2/GUoFXYf6tJuA5RNeg4htqYqevK8JJrvg/1r/N4lnuwIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTAtMTJUMTY6MDc6MzQrMDI6MDB1PnpAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEwLTEyVDE2OjA3OjM0KzAyOjAwBGPC/AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=";function Ou(e){var o=`${e.explore_url}/details/${e.uuid}?nodeType=NODE`;return T$1.jsx(yn,{placement:"bottom",overlay:T$1.jsxs(kr,{className:"explore_btn_tooltip",children:["Browse provenance",T$1.jsx("br",{}),e.uuid]}),children:T$1.jsx("a",{href:o,target:"_blank",children:T$1.jsx("img",{src:Ls,className:"explore_btn_aiida_logo"})})})}const Ns="_toggleSwitchWrapper_i81zd_2",Zs="_toggleLabel_i81zd_11",Hs="_toggleSwitchContainer_i81zd_16",Us="_toggleSwitch_i81zd_2",Ys="_thumb_i81zd_34",Vs="_toggled_i81zd_46",Mt={toggleSwitchWrapper:Ns,toggleLabel:Zs,toggleSwitchContainer:Hs,toggleSwitch:Us,thumb:Ys,toggled:Vs};function Ru({switchLength:e="50px",labelLeft:o="Left",labelRight:a="Right",fontSize:c="12px",onToggle:d=()=>{},labelClassName:g="",containerClassName:b="",switchClassName:_="",thumbClassName:$=""}){const[j,rt]=reactExports.useState(!1),nt=()=>{const In=!j;rt(In),d(In)};return T$1.jsxs("div",{className:`${Mt.toggleSwitchWrapper} ${b}`,style:{fontSize:c},children:[T$1.jsx("span",{className:`${Mt.toggleLabel} ${g}`,children:o}),T$1.jsx("div",{className:Mt.toggleSwitchContainer,children:T$1.jsx("button",{className:`${Mt.toggleSwitch} ${j?Mt.toggled:""} ${_}`,onClick:nt,style:{"--switch-length":e},children:T$1.jsx("div",{className:`${Mt.thumb} ${$}`})})}),T$1.jsx("span",{className:`${Mt.toggleLabel} ${g}`,children:a})]})}function Cu(e){return e.split(/(\d+)/).map((o,a)=>o.match(/\d+/)?T$1.jsx("sub",{children:o},a):o)}const Ws={display:"inline-block",position:"relative"},Js={position:"absolute",top:"0.15em",left:0,right:0,borderTop:"0.1em solid black",height:0,zIndex:1};function Tu(e){let o=!1,a=!1;return T$1.jsx("span",{children:e.split("").map((c,d)=>c=="-"?(a=!0,null):c=="_"?(o=!0,null):a?(a=!1,T$1.jsxs("span",{style:Ws,children:[T$1.jsx("span",{style:Js}),c]},d)):o?(o=!1,T$1.jsx("sub",{children:c},d)):c)})}function Br(e){return Math.sqrt(e.reduce((o,a)=>o+a*a,0))}function zr(e,o){return e.reduce((a,c,d)=>a+c*o[d],0)}function Gs(e){return e[0].map((o,a)=>e.map(c=>c[a]))}function qs(e,o){return e.map(a=>a.map(c=>c*o))}function Ks(e){return Array.from({length:e},(o,a)=>Array.from({length:e},(c,d)=>a===d?1:0))}function $s(e,o){for(var a=[],c=0;c<e.length;c++){a[c]=[];for(var d=0;d<o[0].length;d++){for(var g=0,b=0;b<e[0].length;b++)g+=e[c][b]*o[b][d];a[c][d]=g}}return a}function Qs(e){const o=e.length,a=e.map(d=>Br(d)),c=Array.from({length:o},()=>Array(o).fill(0));for(let d=0;d<o;d++)for(let g=0;g<o;g++){if(d===g){c[d][g]=0;continue}const b=zr(e[d],e[g]),_=a[d],$=a[g];if(_>0&&$>0){let j=b/(_*$);j=Math.max(-1,Math.min(1,j));const rt=Math.acos(j);c[d][g]=rt*(180/Math.PI)}else c[d][g]=null}return{lengths:a,angles:c}}function Xs(e){const o=e.length,a=e.map(d=>d.slice()),c=Array.from({length:o},(d,g)=>Array.from({length:o},(b,_)=>g===_?1:0));for(let d=0;d<o;d++){let g=d;for(let _=d+1;_<o;_++)Math.abs(a[_][d])>Math.abs(a[g][d])&&(g=_);if([a[d],a[g]]=[a[g],a[d]],[c[d],c[g]]=[c[g],c[d]],a[d][d]===0)throw new Error("Matrix is singular and cannot be inverted.");const b=a[d][d];for(let _=0;_<o;_++)a[d][_]/=b,c[d][_]/=b;for(let _=0;_<o;_++){if(_===d)continue;const $=a[_][d];for(let j=0;j<o;j++)a[_][j]-=$*a[d][j],c[_][j]-=$*c[d][j]}}return c}function Lr(e){const o=e.length;if(o===1)return e[0][0];if(o===2)return e[0][0]*e[1][1]-e[0][1]*e[1][0];let a=0;for(let c=0;c<o;c++){const d=e.slice(1).map(b=>b.filter((_,$)=>$!==c)),g=c%2===0?1:-1;a+=g*e[0][c]*Lr(d)}return a}const Su=Object.freeze(Object.defineProperty({__proto__:null,determinant:Lr,dot:zr,getMatrixParams:Qs,identityMatrix:Ks,invertMatrix:Xs,multiplyMatrices:$s,norm:Br,scalarMultiply:qs,transpose:Gs},Symbol.toStringTag,{value:"Module"})),ta={Z:1,mz:1.00794},ea={Z:2,mz:4.002602},na={Z:3,mz:6.941},ra={Z:4,mz:9.012182},ia={Z:5,mz:10.811},oa={Z:6,mz:12.0107},sa={Z:7,mz:14.0067},aa={Z:8,mz:15.9994},ca={Z:9,mz:18.9984032},ua={Z:10,mz:20.1797},la={Z:11,mz:22.98976928},fa={Z:12,mz:24.305},da={Z:13,mz:26.9815386},pa={Z:14,mz:28.0855},ma={Z:15,mz:30.973762},ga={Z:16,mz:32.065},_a={Z:17,mz:35.453},va={Z:18,mz:39.948},ha={Z:19,mz:39.0983},ya={Z:20,mz:40.078},ba={Z:21,mz:44.955912},Pa={Z:22,mz:47.867},wa={Z:23,mz:50.9415},Ea={Z:24,mz:51.9961},xa={Z:25,mz:54.938045},Aa={Z:26,mz:55.845},Oa={Z:27,mz:58.933195},Ra={Z:28,mz:58.6934},Ca={Z:29,mz:63.546},Ta={Z:30,mz:65.409},Sa={Z:31,mz:69.723},ka={Z:32,mz:72.64},Ia={Z:33,mz:74.9216},ja={Z:34,mz:78.96},Da={Z:35,mz:79.904},Fa={Z:36,mz:83.798},Ma={Z:37,mz:85.4678},Ba={Z:38,mz:87.62},za={Z:39,mz:88.90585},La={Z:40,mz:91.224},Na={Z:41,mz:92.90638},Za={Z:42,mz:95.94},Ha={Z:43,mz:98},Ua={Z:44,mz:101.07},Ya={Z:45,mz:102.9055},Va={Z:46,mz:106.42},Wa={Z:47,mz:107.8682},Ja={Z:48,mz:112.411},Ga={Z:49,mz:114.818},qa={Z:50,mz:118.71},Ka={Z:51,mz:121.76},$a={Z:52,mz:127.6},Qa={Z:53,mz:126.90447},Xa={Z:54,mz:131.293},tc={Z:55,mz:132.9054519},ec={Z:56,mz:137.327},nc={Z:57,mz:138.90547},rc={Z:58,mz:140.116},ic={Z:59,mz:140.90765},oc={Z:60,mz:144.242},sc={Z:61,mz:145},ac={Z:62,mz:150.36},cc={Z:63,mz:151.964},uc={Z:64,mz:157.25},lc={Z:65,mz:158.92535},fc={Z:66,mz:162.5},dc={Z:67,mz:164.93032},pc={Z:68,mz:167.259},mc={Z:69,mz:168.93421},gc={Z:70,mz:173.04},_c={Z:71,mz:174.967},vc={Z:72,mz:178.49},hc={Z:73,mz:180.94788},yc={Z:74,mz:183.84},bc={Z:75,mz:186.207},Pc={Z:76,mz:190.23},wc={Z:77,mz:192.217},Ec={Z:78,mz:195.084},xc={Z:79,mz:196.966569},Ac={Z:80,mz:200.59},Oc={Z:81,mz:204.3833},Rc={Z:82,mz:207.2},Cc={Z:83,mz:208.9804},Tc$1={Z:84,mz:210},Sc$1={Z:85,mz:210},kc={Z:86,mz:220},Ic={Z:87,mz:223},jc={Z:88,mz:226},Dc$1={Z:89,mz:227},Fc={Z:90,mz:232.03806},Mc={Z:91,mz:231.03588},Bc={Z:92,mz:238.02891},zc={Z:93,mz:237},Lc={Z:94,mz:244},Nc={Z:95,mz:243},Zc={Z:96,mz:247},Hc={Z:97,mz:247},Uc={Z:98,mz:251},Yc={Z:99,mz:252},Vc={Z:100,mz:257},Wc={Z:101,mz:258},Jc={Z:102,mz:259},Gc={Z:103,mz:262},qc={Z:104,mz:267},Kc={Z:105,mz:268},$c={Z:106,mz:269},Qc={Z:107,mz:270},Xc={Z:108,mz:270},tu={Z:109,mz:278},eu={Z:110,mz:281},nu={Z:111,mz:282},ru={Z:112,mz:285},iu={Z:113,mz:286},ou={Z:114,mz:289},su={Z:115,mz:290},au={Z:116,mz:293},cu={Z:117,mz:294},uu={Z:118,mz:294},lu={H:ta,He:ea,Li:na,Be:ra,B:ia,C:oa,N:sa,O:aa,F:ca,Ne:ua,Na:la,Mg:fa,Al:da,Si:pa,P:ma,S:ga,Cl:_a,Ar:va,K:ha,Ca:ya,Sc:ba,Ti:Pa,V:wa,Cr:Ea,Mn:xa,Fe:Aa,Co:Oa,Ni:Ra,Cu:Ca,Zn:Ta,Ga:Sa,Ge:ka,As:Ia,Se:ja,Br:Da,Kr:Fa,Rb:Ma,Sr:Ba,Y:za,Zr:La,Nb:Na,Mo:Za,Tc:Ha,Ru:Ua,Rh:Ya,Pd:Va,Ag:Wa,Cd:Ja,In:Ga,Sn:qa,Sb:Ka,Te:$a,I:Qa,Xe:Xa,Cs:tc,Ba:ec,La:nc,Ce:rc,Pr:ic,Nd:oc,Pm:sc,Sm:ac,Eu:cc,Gd:uc,Tb:lc,Dy:fc,Ho:dc,Er:pc,Tm:mc,Yb:gc,Lu:_c,Hf:vc,Ta:hc,W:yc,Re:bc,Os:Pc,Ir:wc,Pt:Ec,Au:xc,Hg:Ac,Tl:Oc,Pb:Rc,Bi:Cc,Po:Tc$1,At:Sc$1,Rn:kc,Fr:Ic,Ra:jc,Ac:Dc$1,Th:Fc,Pa:Mc,U:Bc,Np:zc,Pu:Lc,Am:Nc,Cm:Zc,Bk:Hc,Cf:Uc,Es:Yc,Fm:Vc,Md:Wc,No:Jc,Lr:Gc,Rf:qc,Db:Kc,Sg:$c,Bh:Qc,Hs:Xc,Mt:tu,Ds:eu,Rg:nu,Cn:ru,Nh:iu,Fl:ou,Mc:su,Lv:au,Ts:cu,Og:uu};function fu(e){var o=e.split(/(?=[A-Z])/),a=0;return o.forEach(c=>{let d=c.match(/\d+/),g=d==null?1:parseInt(d[0]);a+=g}),a}function du(e){return e.split(/(?=[A-Z])/).length}function pu(e,o){var a=e.split(/(?=[A-Z])/);let c=0;return a.forEach(d=>{var g;const b=d.match(/([a-zA-Z]+)(\d*)/),_=b[1],$=parseInt(b[2]||"1"),j=((g=lu[_])==null?void 0:g.mz)||0;c+=j*$}),Math.round(c*1e4/(o.value*6.0223))}const ku=Object.freeze(Object.defineProperty({__proto__:null,calculateDensity:pu,countNumberOfAtoms:fu,countNumberOfElements:du},Symbol.toStringTag,{value:"Module"}));function ju(e){return e.includes("P")?[[1,0,0],[0,1,0],[0,0,1]]:e.includes("I")?[[0,1,1],[1,0,1],[1,1,0]]:e.includes("F")?[[-1,1,1],[1,-1,1],[1,1,-1]]:e.includes("A")?[[1,1,0],[-1,1,0],[0,0,1]]:e.includes("R")?[[-1,1,0],[1,1,-1],[1,1,1]]:e.includes("C")?e in["C2","CmCc","C2/m","C2/c"]?[[1,-1,0],[1,1,0],[0,0,1]]:[[1,-1,0],[1,1,0],[0,0,1]]:(console.log("Missing Space group data for:",e),[[1,0,0],[0,1,0],[0,0,1]])}function TitleAndLogo({titleString:e="Materials Cloud Three-Dimensional Structure Database (MC3D)",imgSrc:o=Mc3dLogo,doiId:a="rw-t0"}){return jsxRuntimeExports$1.jsxs("div",{className:"title-and-logo",children:[jsxRuntimeExports$1.jsxs("div",{className:"title-and-doi",children:[jsxRuntimeExports$1.jsx("span",{className:"title-span",children:e}),jsxRuntimeExports$1.jsx("div",{style:{marginLeft:"4px"},children:jsxRuntimeExports$1.jsx(wu,{doi_id:a,label:"Data DOI"})})]}),jsxRuntimeExports$1.jsx("img",{src:o,className:"mc3d-logo",alt:"MC3D Logo"})]})}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)({}).hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends$1.apply(null,arguments)}function _objectWithoutPropertiesLoose$6(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)!==-1)continue;a[c]=e[c]}return a}function defaultKey(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function _toPropertyKey$1(e){var o=_toPrimitive$1(e,"string");return typeof o=="symbol"?o:String(o)}function _toPrimitive$1(e,o){if(typeof e!="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var c=a.call(e,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function useUncontrolledProp$1(e,o,a){var c=reactExports.useRef(e!==void 0),d=reactExports.useState(o),g=d[0],b=d[1],_=e!==void 0,$=c.current;return c.current=_,!_&&$&&g!==o&&b(o),[_?e:g,reactExports.useCallback(function(j){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),In=1;In<rt;In++)nt[In-1]=arguments[In];a&&a.apply(void 0,[j].concat(nt)),b(j)},[a])]}function useUncontrolled(e,o){return Object.keys(o).reduce(function(a,c){var d,g=a,b=g[defaultKey(c)],_=g[c],$=_objectWithoutPropertiesLoose$6(g,[defaultKey(c),c].map(_toPropertyKey$1)),j=o[c],rt=useUncontrolledProp$1(_,b,e[j]),nt=rt[0],In=rt[1];return _extends$1({},$,(d={},d[c]=nt,d[j]=In,d))},e)}function _setPrototypeOf(e,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},_setPrototypeOf(e,o)}function _inheritsLoose(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,_setPrototypeOf(e,o)}function ownerDocument(e){return e&&e.ownerDocument||document}function ownerWindow(e){var o=ownerDocument(e);return o&&o.defaultView||window}function getComputedStyle$1(e,o){return ownerWindow(e).getComputedStyle(e,o)}var rUpper=/([A-Z])/g;function hyphenate$1(e){return e.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(e){return hyphenate$1(e).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(e){return!!(e&&supportedTransforms.test(e))}function style$1(e,o){var a="",c="";if(typeof o=="string")return e.style.getPropertyValue(hyphenateStyleName(o))||getComputedStyle$1(e).getPropertyValue(hyphenateStyleName(o));Object.keys(o).forEach(function(d){var g=o[d];!g&&g!==0?e.style.removeProperty(hyphenateStyleName(d)):isTransform(d)?c+=d+"("+g+") ":a+=hyphenateStyleName(d)+": "+g+";"}),c&&(a+="transform: "+c+";"),e.style.cssText+=";"+a}var propTypes$3={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(c,d,g,b,_,$){if($!==ReactPropTypesSecret){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}e.isRequired=e;function o(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:o,element:e,elementType:e,instanceOf:o,node:e,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes$3.exports=factoryWithThrowingShims();var propTypesExports=propTypes$3.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(o){return o.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(e){_inheritsLoose(o,e);function o(c,d){var g;g=e.call(this,c,d)||this;var b=d,_=b&&!b.isMounting?c.enter:c.appear,$;return g.appearStatus=null,c.in?_?($=EXITED,g.appearStatus=ENTERING):$=ENTERED:c.unmountOnExit||c.mountOnEnter?$=UNMOUNTED:$=EXITED,g.state={status:$},g.nextCallback=null,g}o.getDerivedStateFromProps=function(d,g){var b=d.in;return b&&g.status===UNMOUNTED?{status:EXITED}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(d){var g=null;if(d!==this.props){var b=this.state.status;this.props.in?b!==ENTERING&&b!==ENTERED&&(g=ENTERING):(b===ENTERING||b===ENTERED)&&(g=EXITING)}this.updateStatus(!1,g)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var d=this.props.timeout,g,b,_;return g=b=_=d,d!=null&&typeof d!="number"&&(g=d.exit,b=d.enter,_=d.appear!==void 0?d.appear:b),{exit:g,enter:b,appear:_}},a.updateStatus=function(d,g){if(d===void 0&&(d=!1),g!==null)if(this.cancelNextCallback(),g===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var b=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);b&&forceReflow(b)}this.performEnter(d)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},a.performEnter=function(d){var g=this,b=this.props.enter,_=this.context?this.context.isMounting:d,$=this.props.nodeRef?[_]:[ReactDOM.findDOMNode(this),_],j=$[0],rt=$[1],nt=this.getTimeouts(),In=_?nt.appear:nt.enter;if(!d&&!b||config.disabled){this.safeSetState({status:ENTERED},function(){g.props.onEntered(j)});return}this.props.onEnter(j,rt),this.safeSetState({status:ENTERING},function(){g.props.onEntering(j,rt),g.onTransitionEnd(In,function(){g.safeSetState({status:ENTERED},function(){g.props.onEntered(j,rt)})})})},a.performExit=function(){var d=this,g=this.props.exit,b=this.getTimeouts(),_=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!g||config.disabled){this.safeSetState({status:EXITED},function(){d.props.onExited(_)});return}this.props.onExit(_),this.safeSetState({status:EXITING},function(){d.props.onExiting(_),d.onTransitionEnd(b.exit,function(){d.safeSetState({status:EXITED},function(){d.props.onExited(_)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(d,g){g=this.setNextCallback(g),this.setState(d,g)},a.setNextCallback=function(d){var g=this,b=!0;return this.nextCallback=function(_){b&&(b=!1,g.nextCallback=null,d(_))},this.nextCallback.cancel=function(){b=!1},this.nextCallback},a.onTransitionEnd=function(d,g){this.setNextCallback(g);var b=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),_=d==null&&!this.props.addEndListener;if(!b||_){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var $=this.props.nodeRef?[this.nextCallback]:[b,this.nextCallback],j=$[0],rt=$[1];this.props.addEndListener(j,rt)}d!=null&&setTimeout(this.nextCallback,d)},a.render=function(){var d=this.state.status;if(d===UNMOUNTED)return null;var g=this.props,b=g.children;g.in,g.mountOnEnter,g.unmountOnExit,g.appear,g.enter,g.exit,g.timeout,g.addEndListener,g.onEnter,g.onEntering,g.onEntered,g.onExit,g.onExiting,g.onExited,g.nodeRef;var _=_objectWithoutPropertiesLoose$6(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof b=="function"?b(d,_):React.cloneElement(React.Children.only(b),_))},o}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function getReactVersion(){const e=reactExports.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function getChildRef(e){if(!e||typeof e=="function")return null;const{major:o}=getReactVersion();return o>=19?e.props.ref:e.ref}const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(e,o,a,c){if(c&&typeof c!="boolean"&&!onceSupported){var d=c.once,g=c.capture,b=a;!onceSupported&&d&&(b=a.__once||function _($){this.removeEventListener(o,_,g),a.call(this,$)},a.__once=b),e.addEventListener(o,b,optionsSupported?c:g)}e.addEventListener(o,a,c)}function removeEventListener(e,o,a,c){var d=c&&typeof c!="boolean"?c.capture:c;e.removeEventListener(o,a,d),a.__once&&e.removeEventListener(o,a.__once,d)}function listen(e,o,a,c){return addEventListener(e,o,a,c),function(){removeEventListener(e,o,a,c)}}function triggerEvent(e,o,a,c){if(c===void 0&&(c=!0),e){var d=document.createEvent("HTMLEvents");d.initEvent(o,a,c),e.dispatchEvent(d)}}function parseDuration$1(e){var o=style$1(e,"transitionDuration")||"",a=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*a}function emulateTransitionEnd(e,o,a){a===void 0&&(a=5);var c=!1,d=setTimeout(function(){c||triggerEvent(e,"transitionend",!0)},o+a),g=listen(e,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(d),g()}}function transitionEnd(e,o,a,c){a==null&&(a=parseDuration$1(e)||0);var d=emulateTransitionEnd(e,a,c),g=listen(e,"transitionend",o);return function(){d(),g()}}function parseDuration(e,o){const a=style$1(e,o)||"",c=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*c}function transitionEndListener(e,o){const a=parseDuration(e,"transitionDuration"),c=parseDuration(e,"transitionDelay"),d=transitionEnd(e,g=>{g.target===e&&(d(),o(g))},a+c)}function triggerBrowserReflow(e){e.offsetHeight}const toFnRef$1=e=>!e||typeof e=="function"?e:o=>{e.current=o};function mergeRefs$1(e,o){const a=toFnRef$1(e),c=toFnRef$1(o);return d=>{a&&a(d),c&&c(d)}}function useMergedRefs$1(e,o){return reactExports.useMemo(()=>mergeRefs$1(e,o),[e,o])}function safeFindDOMNode(e){return e&&"setState"in e?ReactDOM.findDOMNode(e):e??null}const TransitionWrapper=React.forwardRef(({onEnter:e,onEntering:o,onEntered:a,onExit:c,onExiting:d,onExited:g,addEndListener:b,children:_,childRef:$,...j},rt)=>{const nt=reactExports.useRef(null),In=useMergedRefs$1(nt,$),xl=Uu=>{In(safeFindDOMNode(Uu))},Ll=Uu=>fp=>{Uu&&nt.current&&Uu(nt.current,fp)},Nl=reactExports.useCallback(Ll(e),[e]),_u=reactExports.useCallback(Ll(o),[o]),Yl=reactExports.useCallback(Ll(a),[a]),Ul=reactExports.useCallback(Ll(c),[c]),Dl=reactExports.useCallback(Ll(d),[d]),Zl=reactExports.useCallback(Ll(g),[g]),Ju=reactExports.useCallback(Ll(b),[b]);return jsxRuntimeExports$1.jsx(Transition,{ref:rt,...j,onEnter:Nl,onEntered:Yl,onEntering:_u,onExit:Ul,onExited:Zl,onExiting:Dl,addEndListener:Ju,nodeRef:nt,children:typeof _=="function"?(Uu,fp)=>_(Uu,{...fp,ref:xl}):React.cloneElement(_,{ref:xl})})});TransitionWrapper.displayName="TransitionWrapper";function useCommittedRef(e){const o=reactExports.useRef(e);return reactExports.useEffect(()=>{o.current=e},[e]),o}function useEventCallback(e){const o=useCommittedRef(e);return reactExports.useCallback(function(...a){return o.current&&o.current(...a)},[o])}const _excluded$5=["as","disabled"];function _objectWithoutPropertiesLoose$5(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function isTrivialHref$1(e){return!e||e.trim()==="#"}function useButtonProps({tagName:e,disabled:o,href:a,target:c,rel:d,role:g,onClick:b,tabIndex:_=0,type:$}){e||(a!=null||c!=null||d!=null?e="a":e="button");const j={tagName:e};if(e==="button")return[{type:$||"button",disabled:o},j];const rt=In=>{if((o||e==="a"&&isTrivialHref$1(a))&&In.preventDefault(),o){In.stopPropagation();return}b==null||b(In)},nt=In=>{In.key===" "&&(In.preventDefault(),rt(In))};return e==="a"&&(a||(a="#"),o&&(a=void 0)),[{role:g??"button",disabled:void 0,tabIndex:o?void 0:_,href:a,target:e==="a"?c:void 0,"aria-disabled":o||void 0,rel:e==="a"?d:void 0,onClick:rt,onKeyDown:nt},j]}const Button$1=reactExports.forwardRef((e,o)=>{let{as:a,disabled:c}=e,d=_objectWithoutPropertiesLoose$5(e,_excluded$5);const[g,{tagName:b}]=useButtonProps(Object.assign({tagName:a,disabled:c},d));return jsxRuntimeExports$1.jsx(b,Object.assign({},d,g,{ref:o}))});Button$1.displayName="Button";const _excluded$4=["onKeyDown"];function _objectWithoutPropertiesLoose$4(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function isTrivialHref(e){return!e||e.trim()==="#"}const Anchor$1=reactExports.forwardRef((e,o)=>{let{onKeyDown:a}=e,c=_objectWithoutPropertiesLoose$4(e,_excluded$4);const[d]=useButtonProps(Object.assign({tagName:"a"},c)),g=useEventCallback(b=>{d.onKeyDown(b),a==null||a(b)});return isTrivialHref(c.href)||c.role==="button"?jsxRuntimeExports$1.jsx("a",Object.assign({ref:o},c,d,{onKeyDown:g})):jsxRuntimeExports$1.jsx("a",Object.assign({ref:o},c,{onKeyDown:a}))});Anchor$1.displayName="Anchor";const fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:e,children:o,transitionClasses:a={},onEnter:c,...d},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...d},_=reactExports.useCallback(($,j)=>{triggerBrowserReflow($),c==null||c($,j)},[c]);return jsxRuntimeExports$1.jsx(TransitionWrapper,{ref:g,addEndListener:transitionEndListener,...b,onEnter:_,childRef:getChildRef(o),children:($,j)=>reactExports.cloneElement(o,{...j,className:classNames("fade",e,o.props.className,fadeStyles[$],a[$])})})});Fade.displayName="Fade";const Button=reactExports.forwardRef(({as:e,bsPrefix:o,variant:a="primary",size:c,active:d=!1,disabled:g=!1,className:b,..._},$)=>{const j=useBootstrapPrefix(o,"btn"),[rt,{tagName:nt}]=useButtonProps({tagName:e,disabled:g,..._}),In=nt;return jsxRuntimeExports$1.jsx(In,{...rt,..._,ref:$,disabled:g,className:classNames(b,j,d&&"active",a&&`${j}-${a}`,c&&`${j}-${c}`,_.href&&g&&"disabled")})});Button.displayName="Button";const context$1=reactExports.createContext(null);context$1.displayName="CardHeaderContext";function map$2(e,o){let a=0;return reactExports.Children.map(e,c=>reactExports.isValidElement(c)?o(c,a++):c)}function forEach(e,o){let a=0;reactExports.Children.forEach(e,c=>{reactExports.isValidElement(c)&&o(c,a++)})}function hasChildOfType(e,o){return reactExports.Children.toArray(e).some(a=>reactExports.isValidElement(a)&&a.type===o)}function useCol({as:e,bsPrefix:o,className:a,...c}){o=useBootstrapPrefix(o,"col");const d=useBootstrapBreakpoints(),g=useBootstrapMinBreakpoint(),b=[],_=[];return d.forEach($=>{const j=c[$];delete c[$];let rt,nt,In;typeof j=="object"&&j!=null?{span:rt,offset:nt,order:In}=j:rt=j;const xl=$!==g?`-${$}`:"";rt&&b.push(rt===!0?`${o}${xl}`:`${o}${xl}-${rt}`),In!=null&&_.push(`order${xl}-${In}`),nt!=null&&_.push(`offset${xl}-${nt}`)}),[{...c,className:classNames(a,...b,..._)},{as:e,bsPrefix:o,spans:b}]}const Col=reactExports.forwardRef((e,o)=>{const[{className:a,...c},{as:d="div",bsPrefix:g,spans:b}]=useCol(e);return jsxRuntimeExports$1.jsx(d,{...c,ref:o,className:classNames(a,!b.length&&g)})});Col.displayName="Col";const Container=reactExports.forwardRef(({bsPrefix:e,fluid:o=!1,as:a="div",className:c,...d},g)=>{const b=useBootstrapPrefix(e,"container"),_=typeof o=="string"?`-${o}`:"-fluid";return jsxRuntimeExports$1.jsx(a,{ref:g,...d,className:classNames(c,o?`${b}${_}`:b)})});Container.displayName="Container";var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(e,o){return toArray(e.querySelectorAll(o))}function useUncontrolledProp(e,o,a){const c=reactExports.useRef(e!==void 0),[d,g]=reactExports.useState(o),b=e!==void 0,_=c.current;return c.current=b,!b&&_&&d!==o&&g(o),[b?e:d,reactExports.useCallback((...$)=>{const[j,...rt]=$;let nt=a==null?void 0:a(j,...rt);return g(j),nt},[a])]}function useForceUpdate(){const[,e]=reactExports.useReducer(o=>o+1,0);return e}const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(e=!1){let o=reactExports.useContext($b5e257d569688ac6$var$SSRContext),a=reactExports.useRef(null);if(a.current===null&&!e){var c,d;let g=(d=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||d===void 0||(c=d.ReactCurrentOwner)===null||c===void 0?void 0:c.current;if(g){let b=$b5e257d569688ac6$var$componentIds.get(g);b==null?$b5e257d569688ac6$var$componentIds.set(g,{id:o.current,state:g.memoizedState}):g.memoizedState!==b.state&&(o.current=b.id,$b5e257d569688ac6$var$componentIds.delete(g))}a.current=++o.current}return a.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(e){let o=reactExports.useContext($b5e257d569688ac6$var$SSRContext),a=$b5e257d569688ac6$var$useCounter(!!e),c=`react-aria${o.prefix}`;return e||`${c}-${a}`}function $b5e257d569688ac6$var$useModernSSRSafeId(e){let o=React.useId(),[a]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),c=a?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return e||`${c}-${o}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(e){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const SelectableContext=reactExports.createContext(null),makeEventKey=(e,o=null)=>e!=null?String(e):o||null,NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(e){return`${ATTRIBUTE_PREFIX}${e}`}function dataProp(e){return`${PROPERTY_PREFIX}${e}`}const context=reactExports.createContext(null);context.displayName="NavbarContext";const propTypes$2={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:e="div",className:o,type:a="valid",tooltip:c=!1,...d},g)=>jsxRuntimeExports$1.jsx(e,{...d,ref:g,className:classNames(o,`${a}-${c?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$2;const FormContext=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:e,bsPrefix:o,className:a,type:c="checkbox",isValid:d=!1,isInvalid:g=!1,as:b="input",..._},$)=>{const{controlId:j}=reactExports.useContext(FormContext);return o=useBootstrapPrefix(o,"form-check-input"),jsxRuntimeExports$1.jsx(b,{..._,ref:$,type:c,id:e||j,className:classNames(a,o,d&&"is-valid",g&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:e,className:o,htmlFor:a,...c},d)=>{const{controlId:g}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-check-label"),jsxRuntimeExports$1.jsx("label",{...c,ref:d,htmlFor:a||g,className:classNames(o,e)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheck=reactExports.forwardRef(({id:e,bsPrefix:o,bsSwitchPrefix:a,inline:c=!1,reverse:d=!1,disabled:g=!1,isValid:b=!1,isInvalid:_=!1,feedbackTooltip:$=!1,feedback:j,feedbackType:rt,className:nt,style:In,title:xl="",type:Ll="checkbox",label:Nl,children:_u,as:Yl="input",...Ul},Dl)=>{o=useBootstrapPrefix(o,"form-check"),a=useBootstrapPrefix(a,"form-switch");const{controlId:Zl}=reactExports.useContext(FormContext),Ju=reactExports.useMemo(()=>({controlId:e||Zl}),[Zl,e]),Uu=!_u&&Nl!=null&&Nl!==!1||hasChildOfType(_u,FormCheckLabel),fp=jsxRuntimeExports$1.jsx(FormCheckInput,{...Ul,type:Ll==="switch"?"checkbox":Ll,ref:Dl,isValid:b,isInvalid:_,disabled:g,as:Yl});return jsxRuntimeExports$1.jsx(FormContext.Provider,{value:Ju,children:jsxRuntimeExports$1.jsx("div",{style:In,className:classNames(nt,Uu&&o,c&&`${o}-inline`,d&&`${o}-reverse`,Ll==="switch"&&a),children:_u||jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[fp,Uu&&jsxRuntimeExports$1.jsx(FormCheckLabel,{title:xl,children:Nl}),j&&jsxRuntimeExports$1.jsx(Feedback,{type:rt,tooltip:$,children:j})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:e,type:o,size:a,htmlSize:c,id:d,className:g,isValid:b=!1,isInvalid:_=!1,plaintext:$,readOnly:j,as:rt="input",...nt},In)=>{const{controlId:xl}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-control"),jsxRuntimeExports$1.jsx(rt,{...nt,type:o,size:c,ref:In,readOnly:j,id:d||xl,className:classNames(g,$?`${e}-plaintext`:e,a&&`${e}-${a}`,o==="color"&&`${e}-color`,b&&"is-valid",_&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"form-floating"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:e,as:o="div",...a},c)=>{const d=reactExports.useMemo(()=>({controlId:e}),[e]);return jsxRuntimeExports$1.jsx(FormContext.Provider,{value:d,children:jsxRuntimeExports$1.jsx(o,{...a,ref:c})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:e="label",bsPrefix:o,column:a=!1,visuallyHidden:c=!1,className:d,htmlFor:g,...b},_)=>{const{controlId:$}=reactExports.useContext(FormContext);o=useBootstrapPrefix(o,"form-label");let j="col-form-label";typeof a=="string"&&(j=`${j} ${j}-${a}`);const rt=classNames(d,o,c&&"visually-hidden",a&&j);return g=g||$,a?jsxRuntimeExports$1.jsx(Col,{ref:_,as:"label",className:rt,htmlFor:g,...b}):jsxRuntimeExports$1.jsx(e,{ref:_,className:rt,htmlFor:g,...b})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:e,className:o,id:a,...c},d)=>{const{controlId:g}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-range"),jsxRuntimeExports$1.jsx("input",{...c,type:"range",ref:d,className:classNames(o,e),id:a||g})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:e,size:o,htmlSize:a,className:c,isValid:d=!1,isInvalid:g=!1,id:b,..._},$)=>{const{controlId:j}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-select"),jsxRuntimeExports$1.jsx("select",{..._,size:a,ref:$,className:classNames(c,e,o&&`${e}-${o}`,d&&"is-valid",g&&"is-invalid"),id:b||j})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:e,className:o,as:a="small",muted:c,...d},g)=>(e=useBootstrapPrefix(e,"form-text"),jsxRuntimeExports$1.jsx(a,{...d,ref:g,className:classNames(o,e,c&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((e,o)=>jsxRuntimeExports$1.jsx(FormCheck$1,{...e,ref:o,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:e,className:o,children:a,controlId:c,label:d,...g},b)=>(e=useBootstrapPrefix(e,"form-floating"),jsxRuntimeExports$1.jsxs(FormGroup,{ref:b,className:classNames(o,e),controlId:c,...g,children:[a,jsxRuntimeExports$1.jsx("label",{htmlFor:c,children:d})]})));FloatingLabel.displayName="FloatingLabel";const propTypes$1={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:e,validated:o,as:a="form",...c},d)=>jsxRuntimeExports$1.jsx(a,{...c,ref:d,className:classNames(e,o&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes$1;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel}),toFnRef=e=>!e||typeof e=="function"?e:o=>{e.current=o};function mergeRefs(e,o){const a=toFnRef(e),c=toFnRef(o);return d=>{a&&a(d),c&&c(d)}}function useMergedRefs(e,o){return reactExports.useMemo(()=>mergeRefs(e,o),[e,o])}const TabContext=reactExports.createContext(null),_excluded$3=["as","active","eventKey"];function _objectWithoutPropertiesLoose$3(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function useNavItem({key:e,onClick:o,active:a,id:c,role:d,disabled:g}){const b=reactExports.useContext(SelectableContext),_=reactExports.useContext(NavContext),$=reactExports.useContext(TabContext);let j=a;const rt={role:d};if(_){!d&&_.role==="tablist"&&(rt.role="tab");const nt=_.getControllerId(e??null),In=_.getControlledId(e??null);rt[dataAttr("event-key")]=e,rt.id=nt||c,j=a==null&&e!=null?_.activeKey===e:a,(j||!($!=null&&$.unmountOnExit)&&!($!=null&&$.mountOnEnter))&&(rt["aria-controls"]=In)}return rt.role==="tab"&&(rt["aria-selected"]=j,j||(rt.tabIndex=-1),g&&(rt.tabIndex=-1,rt["aria-disabled"]=!0)),rt.onClick=useEventCallback(nt=>{g||(o==null||o(nt),e!=null&&b&&!nt.isPropagationStopped()&&b(e,nt))}),[rt,{isActive:j}]}const NavItem$1=reactExports.forwardRef((e,o)=>{let{as:a=Button$1,active:c,eventKey:d}=e,g=_objectWithoutPropertiesLoose$3(e,_excluded$3);const[b,_]=useNavItem(Object.assign({key:makeEventKey(d,g.href),active:c},g));return b[dataAttr("active")]=_.isActive,jsxRuntimeExports$1.jsx(a,Object.assign({},g,b,{ref:o}))});NavItem$1.displayName="NavItem";const _excluded$2=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$2(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}const noop=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$2=reactExports.forwardRef((e,o)=>{let{as:a="div",onSelect:c,activeKey:d,role:g,onKeyDown:b}=e,_=_objectWithoutPropertiesLoose$2(e,_excluded$2);const $=useForceUpdate(),j=reactExports.useRef(!1),rt=reactExports.useContext(SelectableContext),nt=reactExports.useContext(TabContext);let In,xl;nt&&(g=g||"tablist",d=nt.activeKey,In=nt.getControlledId,xl=nt.getControllerId);const Ll=reactExports.useRef(null),Nl=Dl=>{const Zl=Ll.current;if(!Zl)return null;const Ju=qsa(Zl,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),Uu=Zl.querySelector("[aria-selected=true]");if(!Uu||Uu!==document.activeElement)return null;const fp=Ju.indexOf(Uu);if(fp===-1)return null;let Zu=fp+Dl;return Zu>=Ju.length&&(Zu=0),Zu<0&&(Zu=Ju.length-1),Ju[Zu]},_u=(Dl,Zl)=>{Dl!=null&&(c==null||c(Dl,Zl),rt==null||rt(Dl,Zl))},Yl=Dl=>{if(b==null||b(Dl),!nt)return;let Zl;switch(Dl.key){case"ArrowLeft":case"ArrowUp":Zl=Nl(-1);break;case"ArrowRight":case"ArrowDown":Zl=Nl(1);break;default:return}Zl&&(Dl.preventDefault(),_u(Zl.dataset[dataProp("EventKey")]||null,Dl),j.current=!0,$())};reactExports.useEffect(()=>{if(Ll.current&&j.current){const Dl=Ll.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);Dl==null||Dl.focus()}j.current=!1});const Ul=useMergedRefs(o,Ll);return jsxRuntimeExports$1.jsx(SelectableContext.Provider,{value:_u,children:jsxRuntimeExports$1.jsx(NavContext.Provider,{value:{role:g,activeKey:makeEventKey(d),getControlledId:In||noop,getControllerId:xl||noop},children:jsxRuntimeExports$1.jsx(a,Object.assign({},_,{onKeyDown:Yl,ref:Ul,role:g}))})})});Nav$2.displayName="Nav";const BaseNav=Object.assign(Nav$2,{Item:NavItem$1});function NoopTransition({children:e,in:o,onExited:a,mountOnEnter:c,unmountOnExit:d}){const g=reactExports.useRef(null),b=reactExports.useRef(o),_=useEventCallback(a);reactExports.useEffect(()=>{o?b.current=!0:_(g.current)},[o,_]);const $=useMergedRefs(g,getChildRef(e)),j=reactExports.cloneElement(e,{ref:$});return o?j:d||!b.current&&c?null:j}const NavItem=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"nav-item"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));NavItem.displayName="NavItem";const NavLink=reactExports.forwardRef(({bsPrefix:e,className:o,as:a=Anchor$1,active:c,eventKey:d,disabled:g=!1,...b},_)=>{e=useBootstrapPrefix(e,"nav-link");const[$,j]=useNavItem({key:makeEventKey(d,b.href),active:c,disabled:g,...b});return jsxRuntimeExports$1.jsx(a,{...b,...$,ref:_,disabled:g,className:classNames(o,e,g&&"disabled",j.isActive&&"active")})});NavLink.displayName="NavLink";const Nav=reactExports.forwardRef((e,o)=>{const{as:a="div",bsPrefix:c,variant:d,fill:g=!1,justify:b=!1,navbar:_,navbarScroll:$,className:j,activeKey:rt,...nt}=useUncontrolled(e,{activeKey:"onSelect"}),In=useBootstrapPrefix(c,"nav");let xl,Ll,Nl=!1;const _u=reactExports.useContext(context),Yl=reactExports.useContext(context$1);return _u?(xl=_u.bsPrefix,Nl=_??!0):Yl&&({cardHeaderBsPrefix:Ll}=Yl),jsxRuntimeExports$1.jsx(BaseNav,{as:a,ref:o,activeKey:rt,className:classNames(j,{[In]:!Nl,[`${xl}-nav`]:Nl,[`${xl}-nav-scroll`]:Nl&&$,[`${Ll}-${d}`]:!!Ll,[`${In}-${d}`]:!!d,[`${In}-fill`]:g,[`${In}-justified`]:b}),...nt})});Nav.displayName="Nav";const Nav$1=Object.assign(Nav,{Item:NavItem,Link:NavLink}),Row=reactExports.forwardRef(({bsPrefix:e,className:o,as:a="div",...c},d)=>{const g=useBootstrapPrefix(e,"row"),b=useBootstrapBreakpoints(),_=useBootstrapMinBreakpoint(),$=`${g}-cols`,j=[];return b.forEach(rt=>{const nt=c[rt];delete c[rt];let In;nt!=null&&typeof nt=="object"?{cols:In}=nt:In=nt;const xl=rt!==_?`-${rt}`:"";In!=null&&j.push(`${$}${xl}-${In}`)}),jsxRuntimeExports$1.jsx(a,{ref:d,...c,className:classNames(o,g,...j)})});Row.displayName="Row";const Spinner=reactExports.forwardRef(({bsPrefix:e,variant:o,animation:a="border",size:c,as:d="div",className:g,...b},_)=>{e=useBootstrapPrefix(e,"spinner");const $=`${e}-${a}`;return jsxRuntimeExports$1.jsx(d,{ref:_,...b,className:classNames(g,$,c&&`${$}-${c}`,o&&`text-${o}`)})});Spinner.displayName="Spinner";const _excluded$1=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_excluded2=["activeKey","getControlledId","getControllerId"],_excluded3=["as"];function _objectWithoutPropertiesLoose$1(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function useTabPanel(e){let{active:o,eventKey:a,mountOnEnter:c,transition:d,unmountOnExit:g,role:b="tabpanel",onEnter:_,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:In}=e,xl=_objectWithoutPropertiesLoose$1(e,_excluded$1);const Ll=reactExports.useContext(TabContext);if(!Ll)return[Object.assign({},xl,{role:b}),{eventKey:a,isActive:o,mountOnEnter:c,transition:d,unmountOnExit:g,onEnter:_,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:In}];const{activeKey:Nl,getControlledId:_u,getControllerId:Yl}=Ll,Ul=_objectWithoutPropertiesLoose$1(Ll,_excluded2),Dl=makeEventKey(a);return[Object.assign({},xl,{role:b,id:_u(a),"aria-labelledby":Yl(a)}),{eventKey:a,isActive:o==null&&Dl!=null?makeEventKey(Nl)===Dl:o,transition:d||Ul.transition,mountOnEnter:c??Ul.mountOnEnter,unmountOnExit:g??Ul.unmountOnExit,onEnter:_,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:In}]}const TabPanel=reactExports.forwardRef((e,o)=>{let{as:a="div"}=e,c=_objectWithoutPropertiesLoose$1(e,_excluded3);const[d,{isActive:g,onEnter:b,onEntering:_,onEntered:$,onExit:j,onExiting:rt,onExited:nt,mountOnEnter:In,unmountOnExit:xl,transition:Ll=NoopTransition}]=useTabPanel(c);return jsxRuntimeExports$1.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(SelectableContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(Ll,{in:g,onEnter:b,onEntering:_,onEntered:$,onExit:j,onExiting:rt,onExited:nt,mountOnEnter:In,unmountOnExit:xl,children:jsxRuntimeExports$1.jsx(a,Object.assign({},d,{ref:o,hidden:!g,"aria-hidden":!g}))})})})});TabPanel.displayName="TabPanel";const Tabs$1=e=>{const{id:o,generateChildId:a,onSelect:c,activeKey:d,defaultActiveKey:g,transition:b,mountOnEnter:_,unmountOnExit:$,children:j}=e,[rt,nt]=useUncontrolledProp(d,g,c),In=$b5e257d569688ac6$export$619500959fc48b26(o),xl=reactExports.useMemo(()=>a||((Nl,_u)=>In?`${In}-${_u}-${Nl}`:null),[In,a]),Ll=reactExports.useMemo(()=>({onSelect:nt,activeKey:rt,transition:b,mountOnEnter:_||!1,unmountOnExit:$||!1,getControlledId:Nl=>xl(Nl,"tabpane"),getControllerId:Nl=>xl(Nl,"tab")}),[nt,rt,b,_,$,xl]);return jsxRuntimeExports$1.jsx(TabContext.Provider,{value:Ll,children:jsxRuntimeExports$1.jsx(SelectableContext.Provider,{value:nt||null,children:j})})};Tabs$1.Panel=TabPanel;function getTabTransitionComponent(e){return typeof e=="boolean"?e?Fade:NoopTransition:e}const TabContainer=({transition:e,...o})=>jsxRuntimeExports$1.jsx(Tabs$1,{...o,transition:getTabTransitionComponent(e)});TabContainer.displayName="TabContainer";const TabContent=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"tab-content"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));TabContent.displayName="TabContent";const TabPane=reactExports.forwardRef(({bsPrefix:e,transition:o,...a},c)=>{const[{className:d,as:g="div",...b},{isActive:_,onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:In,onExited:xl,mountOnEnter:Ll,unmountOnExit:Nl,transition:_u=Fade}]=useTabPanel({...a,transition:getTabTransitionComponent(o)}),Yl=useBootstrapPrefix(e,"tab-pane");return jsxRuntimeExports$1.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(SelectableContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(_u,{in:_,onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:In,onExited:xl,mountOnEnter:Ll,unmountOnExit:Nl,children:jsxRuntimeExports$1.jsx(g,{...b,ref:c,className:classNames(d,Yl,_&&"active")})})})})});TabPane.displayName="TabPane";const propTypes={eventKey:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.node.isRequired,disabled:PropTypes.bool,tabClassName:PropTypes.string,tabAttrs:PropTypes.object},Tab=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Tab.propTypes=propTypes;const Tab$1=Object.assign(Tab,{Container:TabContainer,Content:TabContent,Pane:TabPane}),Table=reactExports.forwardRef(({bsPrefix:e,className:o,striped:a,bordered:c,borderless:d,hover:g,size:b,variant:_,responsive:$,...j},rt)=>{const nt=useBootstrapPrefix(e,"table"),In=classNames(o,nt,_&&`${nt}-${_}`,b&&`${nt}-${b}`,a&&`${nt}-${typeof a=="string"?`striped-${a}`:"striped"}`,c&&`${nt}-bordered`,d&&`${nt}-borderless`,g&&`${nt}-hover`),xl=jsxRuntimeExports$1.jsx("table",{...j,className:In,ref:rt});if($){let Ll=`${nt}-responsive`;return typeof $=="string"&&(Ll=`${Ll}-${$}`),jsxRuntimeExports$1.jsx("div",{className:Ll,children:xl})}return xl});Table.displayName="Table";function getDefaultActiveKey(e){let o;return forEach(e,a=>{o==null&&(o=a.props.eventKey)}),o}function renderTab(e){const{title:o,eventKey:a,disabled:c,tabClassName:d,tabAttrs:g,id:b}=e.props;return o==null?null:jsxRuntimeExports$1.jsx(NavItem,{as:"li",role:"presentation",children:jsxRuntimeExports$1.jsx(NavLink,{as:"button",type:"button",eventKey:a,disabled:c,id:b,className:d,...g,children:o})})}const Tabs=e=>{const{id:o,onSelect:a,transition:c,mountOnEnter:d=!1,unmountOnExit:g=!1,variant:b="tabs",children:_,activeKey:$=getDefaultActiveKey(_),...j}=useUncontrolled(e,{activeKey:"onSelect"});return jsxRuntimeExports$1.jsxs(Tabs$1,{id:o,activeKey:$,onSelect:a,transition:getTabTransitionComponent(c),mountOnEnter:d,unmountOnExit:g,children:[jsxRuntimeExports$1.jsx(Nav$1,{id:o,...j,role:"tablist",as:"ul",variant:b,children:map$2(_,renderTab)}),jsxRuntimeExports$1.jsx(TabContent,{children:map$2(_,rt=>{const nt={...rt.props};return delete nt.title,delete nt.disabled,delete nt.tabClassName,delete nt.tabAttrs,jsxRuntimeExports$1.jsx(TabPane,{...nt})})})]})};Tabs.displayName="Tabs";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(o){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(o[g]=a[g])}return o},__assign.apply(this,arguments)};function __rest(e,o){var a={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&o.indexOf(c)<0&&(a[c]=e[c]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(e);d<c.length;d++)o.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(e,c[d])&&(a[c[d]]=e[c[d]]);return a}var hashFragment="",observer=null,asyncTimerId=null,scrollFunction=null;function reset(){hashFragment="",observer!==null&&observer.disconnect(),asyncTimerId!==null&&(window.clearTimeout(asyncTimerId),asyncTimerId=null)}function isInteractiveElement(e){var o=["BUTTON","INPUT","SELECT","TEXTAREA"],a=["A","AREA"];return o.includes(e.tagName)&&!e.hasAttribute("disabled")||a.includes(e.tagName)&&e.hasAttribute("href")}function getElAndScroll(){var e=null;if(hashFragment==="#")e=document.body;else{var o=hashFragment.replace("#","");e=document.getElementById(o),e===null&&hashFragment==="#top"&&(e=document.body)}if(e!==null){scrollFunction(e);var a=e.getAttribute("tabindex");return a===null&&!isInteractiveElement(e)&&e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),a===null&&!isInteractiveElement(e)&&(e.blur(),e.removeAttribute("tabindex")),reset(),!0}return!1}function hashLinkScroll(e){window.setTimeout(function(){getElAndScroll()===!1&&(observer===null&&(observer=new MutationObserver(getElAndScroll)),observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),asyncTimerId=window.setTimeout(function(){reset()},e||1e4))},0)}function genericHashLink(e){return React.forwardRef(function(o,a){var c="";typeof o.to=="string"&&o.to.includes("#")?c="#"+o.to.split("#").slice(1).join("#"):typeof o.to=="object"&&typeof o.to.hash=="string"&&(c=o.to.hash);var d={};e===NavLink$1&&(d.isActive=function(_,$){return _&&_.isExact&&$.hash===c});function g(_){reset(),hashFragment=o.elementId?"#"+o.elementId:c,o.onClick&&o.onClick(_),hashFragment!==""&&!_.defaultPrevented&&_.button===0&&(!o.target||o.target==="_self")&&!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)&&(scrollFunction=o.scroll||function($){return o.smooth?$.scrollIntoView({behavior:"smooth"}):$.scrollIntoView()},hashLinkScroll(o.timeout))}var b=__rest(o,["scroll","smooth","timeout","elementId"]);return React.createElement(e,__assign({},d,b,{onClick:g,ref:a}),o.children)})}var HashLink=genericHashLink(Link);genericHashLink(NavLink$1);const references={mpds:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["The Pauling File"," ",jsxRuntimeExports$1.jsx("a",{href:"http://paulingfile.com/",target:"_blank",rel:"noopener noreferrer",children:"http://paulingfile.com/"})," ","exposed through the Materials Platform for Data Science"," ",jsxRuntimeExports$1.jsx("a",{href:"https://mpds.io/",target:"_blank",rel:"noopener noreferrer",children:"https://mpds.io/"}),"."]})},cod:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["S. Graulis et al. Crystallography open database (COD): an open-access collection of crystal structures and platform for world-wide collaboration. Nucleic Acids Research, 40:D420-D427, 2012,"," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.crystallography.net",target:"_blank",rel:"noopener noreferrer",children:"http://www.crystallography.net"}),"."]})},icsd:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["Inorganic Crystal Structure Database,"," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.fiz-karlsruhe.com/icsd.html",target:"_blank",rel:"noopener noreferrer",children:"http://www.fiz-karlsruhe.com/icsd.html"}),"."]})},aiida1:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["S. P. Huber et al. AiiDA 1.0, a scalable computational infrastructure for automated reproducible workflows and data provenance. Sci Data 7, 300, 2020."," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.aiida.net",target:"_blank",rel:"noopener noreferrer",children:"http://www.aiida.net"}),"."]})},aiida2:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"G. Pizzi et al. AiiDA: Automated Interactive Infrastructure and Database for Computational Science. Computational Materials Science, 111:218-230, 2016."})},pymatgen:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"S. P. Ong et al. Python materials genomics (pymatgen): A robust, open-source python library for materials analysis. Computational Materials Science, 68:314-319, 2013."})},spglib:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["A. Togo. Spglib."," ",jsxRuntimeExports$1.jsx("a",{href:"https://spglib.readthedocs.io/",target:"_blank",rel:"noopener noreferrer",children:"https://spglib.readthedocs.io/"}),"."]})},qe:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"P. Giannozzi et al. Advanced capabilities for materials modelling with Quantum ESPRESSO. Journal of Physics: Condensed Matter, 29:465901, 2017."})},sirius:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["SIRIUS,"," ",jsxRuntimeExports$1.jsx("a",{href:"https://github.com/electronic-structure/SIRIUS",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/electronic-structure/SIRIUS"}),"."]})},cod_parser:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"A. Merkys et al. COD::CIF::Parser: an error-correcting CIF parser for the Perl language Journal of Applied Crystallography 49 (2016)"})},sssp:{type:"pseudo_protocols",ref:jsxRuntimeExports$1.jsxs("span",{children:["G. Prandini, A. Marrazzo, I. E. Castelli, N. Mounet and N. Marzari, npj Computational Materials 4, 72 (2018)."," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.materialscloud.org/sssp/",target:"_blank",rel:"noopener noreferrer",children:"http://www.materialscloud.org/sssp/"})]})},sssp_protocols:{type:"pseudo_protocols",ref:jsxRuntimeExports$1.jsx("span",{children:"SSSP protocol for the calculation of structural and thermodynamical properties of inorganic materials, Nicolas Hoermann et al., to be published."})}};function refNr(e){return Object.keys(references).indexOf(e)+1}function getRef(e){return jsxRuntimeExports$1.jsx("sup",{children:jsxRuntimeExports$1.jsxs(HashLink,{className:"cite-anchor",to:"#ref"+refNr(e),children:["[",refNr(e),"]"]})})}function renderRefs(e){return Object.keys(references).map(o=>{if(references[o].type!=e)return;let a=refNr(o);return jsxRuntimeExports$1.jsxs("div",{id:"ref"+a,children:["[",a,"] ",references[o].ref]},a)})}const aboutText=jsxRuntimeExports$1.jsxs("div",{className:"about-text-container",children:[jsxRuntimeExports$1.jsxs("p",{children:["This is a curated set of relaxed three-dimensional crystal structures based on raw CIF data taken from the external experimental databases MPDS",getRef("mpds"),", COD",getRef("cod")," and ICSD",getRef("icsd"),". The raw CIF data have been imported, cleaned",getRef("cod_parser")," and parsed",getRef("pymatgen"),getRef("spglib")," into a crystal structure; their ground-state has been computed using the SIRIUS-enabled",getRef("sirius")," pw.x code of the Quantum ESPRESSO",getRef("qe")," distribution, and tight tolerance criteria for the calculations using the SSSP protocols",getRef("sssp"),getRef("sssp_protocols"),"."]}),jsxRuntimeExports$1.jsxs("p",{children:["This entire procedure is encoded into an AiiDA",getRef("aiida1"),getRef("aiida2")," workflow which automates the process while keeping full data provenance. Here, since the original source data of the ICSD and MPDS databases are copyrighted, only the provenance of the final SCF calculation on the relaxed structures can be made publicly available."]}),jsxRuntimeExports$1.jsx("p",{children:'The MC3D ID numbers come from a list of unique "parent" stoichiometric structures that has been created and curated from a collection of several experimental databases. Once a parent structure has been optimized using density-functional theory, it is made public and added to the online Discover section of the Materials Cloud (copyrights might prevent publishing the original parent). Note that since not all structures have been calculated, some ID numbers are missing from the public version of the database. The full ID of each structure also contains as an appended modifier the functional that was used in the calculations. Since the ID number points to the same unique parent, mc3d-1234/pbe and mc3d-1234/pbesol have the same starting point, but have been then relaxed according to their respective functionals.'}),jsxRuntimeExports$1.jsx("div",{className:"about-h",children:"Acknowledgements"}),jsxRuntimeExports$1.jsx("b",{children:"External databases of source CIF data"}),renderRefs("db"),jsxRuntimeExports$1.jsx("b",{children:"Software"}),renderRefs("software"),jsxRuntimeExports$1.jsx("b",{children:"Pseudopotentials and protocols"}),renderRefs("pseudo_protocols"),jsxRuntimeExports$1.jsx("b",{children:"Funding partners"}),jsxRuntimeExports$1.jsx("br",{}),"This project is made possible by support from the European Centre of Excellence MaX Materials design at the Exascale (grant no. 824143), the Platform for Advanced Scientific Computing (PASC), and with HPC allocations from PRACE (project id 2020225458) and CSCS (project id s854)."]});let mcRestApiUrl="https://api.dev.materialscloud.org/",aiidaRestBaseUrl="https://aiida.dev.materialscloud.org",exploreBaseUrl="https://www.dev.materialscloud.org/explore/";const MC_REST_API_URL_BASE=mcRestApiUrl,MC_REST_API_URL=`${mcRestApiUrl}mc3d`,AIIDA_REST_BASE_URL=aiidaRestBaseUrl,EXPLORE_BASE_URL=exploreBaseUrl,AIIDA_API_URLS={"pbe-v1":`${AIIDA_REST_BASE_URL}/mc3d-pbe-v1/api/v4`,"pbesol-v1":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v1/api/v4`,"pbesol-v2":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v2/api/v4`,"pbesol-v1-supercon":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v1-supercon/api/v4`},EXPLORE_URLS={"pbe-v1":`${EXPLORE_BASE_URL}/mc3d-pbe-v1`,"pbesol-v1":`${EXPLORE_BASE_URL}/mc3d-pbesol-v1`,"pbesol-v2":`${EXPLORE_BASE_URL}/mc3d-pbesol-v2`,"pbesol-v1-supercon":`${EXPLORE_BASE_URL}/mc3d-pbesol-v1-supercon/api/v4`};async function loadIndex(e){let o=`${MC_REST_API_URL}/${e}/overview`;try{return await(await fetch(o,{method:"get"})).json()}catch(a){console.error("Error fetching index:",a)}}async function loadMetadata(e){let o=`${MC_REST_API_URL}/${e}/meta`;try{return await(await fetch(o,{method:"get"})).json()}catch(a){console.error("Error fetching metadata:",a)}}async function loadDetails(e,o){let a=`${MC_REST_API_URL}/${e}/base/${o}`;try{return await(await fetch(a,{method:"get"})).json()}catch(c){console.error("Error fetching details:",c)}}async function loadAiidaAttributes(e,o){let c=`${AIIDA_API_URLS[e]}/nodes/${o}/contents/attributes`;try{return(await(await fetch(c,{method:"get"})).json()).data.attributes}catch(d){console.error("Error fetching AiiDA attributes:",d)}}async function loadAiidaCif(e,o){let c=`${AIIDA_API_URLS[e]}/nodes/${o}/download?download_format=cif&download=false`;try{return(await(await fetch(c,{method:"get"})).json()).data.download.data}catch(d){console.error("Error fetching AiiDA cif:",d)}}async function loadAiidaBands(e,o){const c=`${AIIDA_API_URLS[e]}/nodes/${o}/download?download_format=json`;try{return await(await fetch(c,{method:"get"})).json()}catch(d){console.error("Error fetching AiiDA bands:",d)}}async function loadXY(e,o){const c=`${AIIDA_API_URLS[e]}/nodes/${o}/download?download_format=json`;try{return await(await fetch(c,{method:"get"})).json()}catch(d){console.error("Error fetching AiiDA bands:",d)}}async function loadXrd(e,o){let a=`${MC_REST_API_URL}/${e}/xrd/${o}`;try{const c=await fetch(a,{method:"get"});return c.ok?(await c.json()).data:null}catch(c){return console.error("Error fetching XRD:",c),null}}async function loadStructureUuids(e){let o=`${MC_REST_API_URL}/${e}/structure-uuids`;try{const a=await fetch(o,{method:"get"});return a.ok?await a.json():null}catch(a){return console.error("Error fetching structure-uuids:",a),null}}async function loadGeneralInfo(){let e=`${MC_REST_API_URL}/info`;try{return await(await fetch(e,{method:"get"})).json()}catch(o){console.error("Error fetching info:",o)}}const DOCS_URL=`${MC_REST_API_URL_BASE}docs`,INDEX_URL=`${MC_REST_API_URL}/pbe-v1/overview`,SINGLE_ENTRY_URL=`${MC_REST_API_URL}/pbe-v1/base/mc3d-10`,restapiText=jsxRuntimeExports$1.jsxs("div",{className:"restapi-text-container",children:[jsxRuntimeExports$1.jsx("p",{children:"This section contains an overview of our REST APIs to access the MC3D data."}),jsxRuntimeExports$1.jsx("div",{className:"restapi-h",children:"1. Materials Cloud and AiiDA REST APIs"}),jsxRuntimeExports$1.jsxs("div",{children:["The MC3D frontend is running on:",jsxRuntimeExports$1.jsxs("ul",{children:[jsxRuntimeExports$1.jsxs("li",{children:["The Materials Cloud REST API for the curated metadata:"," ",jsxRuntimeExports$1.jsx("a",{href:DOCS_URL,target:"_blank",rel:"noopener noreferrer",children:DOCS_URL}),", see e.g.",jsxRuntimeExports$1.jsxs("ul",{children:[jsxRuntimeExports$1.jsxs("li",{children:["Index of materials:"," ",jsxRuntimeExports$1.jsx("a",{href:INDEX_URL,target:"_blank",rel:"noopener noreferrer",children:INDEX_URL})]}),jsxRuntimeExports$1.jsxs("li",{children:["Single entry data:"," ",jsxRuntimeExports$1.jsx("a",{href:SINGLE_ENTRY_URL,target:"_blank",rel:"noopener noreferrer",children:SINGLE_ENTRY_URL})]})]})]}),jsxRuntimeExports$1.jsxs("li",{children:["AiiDA REST API for properties and provenance:"," ",jsxRuntimeExports$1.jsx("a",{href:AIIDA_API_URLS["pbe-v1"],target:"_blank",rel:"noopener noreferrer",children:AIIDA_API_URLS["pbe-v1"]})]})]})]}),jsxRuntimeExports$1.jsx("div",{className:"restapi-h",children:"2. OPTIMADE REST API"}),jsxRuntimeExports$1.jsxs("div",{children:["The MC3D database can also be accessed via an API following the"," ",jsxRuntimeExports$1.jsx("a",{href:"https://www.optimade.org/optimade",target:"_blank",rel:"noopener noreferrer",children:"OPTIMADE specification"}),". This currently includes the crystal structures and some properties but no provenance information is provided. For the exact endpoints, see the"," ",jsxRuntimeExports$1.jsx("a",{href:"https://materialscloud.org/optimade",target:"_blank",rel:"noopener noreferrer",children:"Materials Cloud OPTIMADE API page"}),"."]})]}),spaceGroupSymbols=["x","P1","P-1","P2","P2_1","C2","Pm","Pc","Cm","Cc","P2/m","P2_1/m","C2/m","P2/c","P2_1/c","C2/c","P222","P222_1","P2_12_12","P2_12_12_1","C222_1","C222","F222","I222","I2_12_12_1","Pmm2","Pmc2_1","Pcc2","Pma2","Pca2_1","Pnc2","Pmn2_1","Pba2","Pna2_1","Pnn2","Cmm2","Cmc2_1","Ccc2","Amm2","Aem2","Ama2","Aea2","Fmm2","Fdd2","Imm2","Iba2","Ima2","Pmmm","Pnnn","Pccm","Pban","Pmma","Pnna","Pmna","Pcca","Pbam","Pccn","Pbcm","Pnnm","Pmmn","Pbcn","Pbca","Pnma","Cmcm","Cmce","Cmmm","Cccm","Cmme","Ccce","Fmmm","Fddd","Immm","Ibam","Ibca","Imma","P4","P4_1","P4_2","P4_3","I4","I4_1","P-4","I-4","P4/m","P4_2/m","P4/n","P4_2/n","I4/m","I4_1/a","P422","P42_12","P4_122","P4_12_12","P4_222","P4_22_12","P4_322","P4_32_12","I422","I4_122","P4mm","P4bm","P4_2cm","P4_2nm","P4cc","P4nc","P4_2mc","P4_2bc","I4mm","I4cm","I4_1md","I4_1cd","P-42m","P-42c","P-42_1m","P-42_1c","P-4m2","P-4c2","P-4b2","P-4n2","I-4m2","I-4c2","I-42m","I-42d","P4/mmm","P4/mcc","P4/nbm","P4/nnc","P4/mbm","P4/mnc","P4/nmm","P4/ncc","P4_2/mmc","P4_2/mcm","P4_2/nbc","P4_2/nnm","P4_2/mbc","P4_2/mnm","P4_2/nmc","P4_2/ncm","I4/mmm","I4/mcm","I4_1/amd","I4_1/acd","P3","P3_1","P3_2","R3","P-3","R-3","P312","P321","P3_112","P3_121","P3_212","P3_221","R32","P3m1","P31m","P3c1","P31c","R3m","R3c","P-31m","P-31c","P-3m1","P-3c1","R-3m","R-3c","P6","P6_1","P6_5","P6_2","P6_4","P6_3","P-6","P6/m","P6_3/m","P622","P6_122","P6_522","P6_222","P6_422","P6_322","P6mm","P6cc","P6_3cm","P6_3mc","P-6m2","P-6c2","P-62m","P-62c","P6/mmm","P6/mcc","P6_3/mcm","P6_3/mmc","P23","F23","I23","P2_13","I2_13","Pm-3","Pn-3","Fm-3","Fd-3","Im-3","Pa-3","Ia-3","P432","P4_232","F432","F4_132","I432","P4_332","P4_132","I4_132","P-43m","F-43m","I-43m","P-43n","F-43c","I-43d","Pm-3m","Pn-3n","Pm-3n","Pn-3m","Fm-3m","Fm-3c","Fd-3m","Fd-3c","Im-3m","Ia-3d"];function bravaisLatticeFromSpgn(e){let o="";e<3?o="a":e<16?o="m":e<75?o="o":e<143?o="t":e<195?o="h":o="c";let a=spaceGroupSymbols[e].charAt(0);return o+a}function countNumberOfAtoms(e){var o=e.split(/(?=[A-Z])/),a=0;return o.forEach(c=>{let d=c.match(/\d+/),g=d==null?1:parseInt(d[0]);a+=g}),a}function countNumberOfElements(e){return e.split(/(?=[A-Z])/).length}function formatTitle(e,o,a){return jsxRuntimeExports$1.jsxs("span",{children:[Cu(e)," (",o,"/",a,")"]})}function format_aiida_prop(e,o,a,c=3,d=1){if(e==null)return jsxRuntimeExports$1.jsx("span",{children:"N/A"});let g=e.value??0;g*=d;let b=g.toFixed(c);return o.unit&&(b+=` ${o.unit}`),jsxRuntimeExports$1.jsxs("span",{children:[b," ",jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[a],uuid:e.uuid??null})]})}const COLUMN_ORDER_AND_SETTINGS=[{field:"id",hide:!1,width:165,minWidth:160},{field:"formula",hide:!1,width:165,minWidth:160},{field:"formula_hill",hide:!0,width:165,minWidth:160},{field:"num_elements",hide:!1},{field:"num_atoms",hide:!1},{field:"bravais_lat",hide:!0},{field:"spacegroup_number",hide:!0},{field:"spacegroup_int",hide:!1},{field:"source_db",hide:!0},{field:"source_db_id",hide:!0},{field:"is_theoretical",hide:!1},{field:"is_high_pressure",hide:!1,minWidth:125},{field:"is_high_temperature",hide:!1,minWidth:125},{field:"total_magnetization",hide:!1},{field:"absolute_magnetization",hide:!0}],FRONTEND_COLUMNS=[{columnDef:{field:"num_atoms",headerName:"Num. of atoms/cell",colType:"integer"},calcFunc:e=>countNumberOfAtoms(e.formula_h)},{columnDef:{field:"num_elements",headerName:"Number of elements",colType:"integer"},calcFunc:e=>countNumberOfElements(e.formula_h)},{columnDef:{field:"bravais_lat",headerName:"Bravais lattice",colType:"text",infoText:"Bravais lattice in Pearson notation."},calcFunc:e=>bravaisLatticeFromSpgn(e.sg)},{columnDef:{field:"spacegroup_int",headerName:"Space group international",colType:"spg_symbol",infoText:"International short symbol for the space group."},calcFunc:e=>spaceGroupSymbols[e.sg]}];function formatColumns(e){let o=[{field:"id",headerName:"ID",colType:"id",infoText:"The unique MC3D identifier of each structure."}];e["index-columns"].forEach(c=>{o.push({field:c.label,headerName:c.name,unit:c.unit||null,colType:c.type||"text",infoText:c.description||null})}),FRONTEND_COLUMNS.forEach(c=>{o.some(d=>d.field===c.columnDef.field)||o.push(c.columnDef)});let a=[];return COLUMN_ORDER_AND_SETTINGS.forEach(c=>{let d=o.findIndex(g=>g.field===c.field);if(d!==-1){let g=o[d];g.hide=c.hide,["width","minWidth"].forEach(b=>{b in c&&(g[b]=c[b])}),a.push(g),o.splice(d,1)}}),o.forEach(c=>{c.hide=!0,a.push(c)}),a}function formatRows(e,o,a){let c=[],d={};return o["index-columns"].forEach(g=>{d[g.data_label]=g.label}),e.forEach(g=>{let b=`${g.id}/${a}`,_=`/develop/#/details/${b}`,$={};Object.entries(g).map(([rt,nt])=>{rt in d&&($[d[rt]]=nt)});let j={id:b,href:_};FRONTEND_COLUMNS.forEach(rt=>{rt.columnDef.field in j||(j[rt.columnDef.field]=rt.calcFunc(g))}),$={...$,...j},c.push($)}),c}async function loadDataMc3d(e){let o=performance.now(),a=await loadIndex(e),c=performance.now();console.log(`loadIndex: ${c-o} ms`),o=performance.now();let d=await loadMetadata(e);c=performance.now(),console.log(`loadMetadata: ${c-o} ms`),o=performance.now();let g=formatRows(a,d,e);return c=performance.now(),console.log(`formatRows: ${c-o} ms`),{columns:formatColumns(d),rows:g}}var FileSaver_min={exports:{}};(function(e,o){(function(a,c){c()})(commonjsGlobal,function(){function a(j,rt){return typeof rt>"u"?rt={autoBom:!1}:typeof rt!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),rt={autoBom:!rt}),rt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(j.type)?new Blob(["\uFEFF",j],{type:j.type}):j}function c(j,rt,nt){var In=new XMLHttpRequest;In.open("GET",j),In.responseType="blob",In.onload=function(){$(In.response,rt,nt)},In.onerror=function(){console.error("could not download file")},In.send()}function d(j){var rt=new XMLHttpRequest;rt.open("HEAD",j,!1);try{rt.send()}catch{}return 200<=rt.status&&299>=rt.status}function g(j){try{j.dispatchEvent(new MouseEvent("click"))}catch{var rt=document.createEvent("MouseEvents");rt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),j.dispatchEvent(rt)}}var b=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,_=b.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),$=b.saveAs||(typeof window!="object"||window!==b?function(){}:"download"in HTMLAnchorElement.prototype&&!_?function(j,rt,nt){var In=b.URL||b.webkitURL,xl=document.createElement("a");rt=rt||j.name||"download",xl.download=rt,xl.rel="noopener",typeof j=="string"?(xl.href=j,xl.origin===location.origin?g(xl):d(xl.href)?c(j,rt,nt):g(xl,xl.target="_blank")):(xl.href=In.createObjectURL(j),setTimeout(function(){In.revokeObjectURL(xl.href)},4e4),setTimeout(function(){g(xl)},0))}:"msSaveOrOpenBlob"in navigator?function(j,rt,nt){if(rt=rt||j.name||"download",typeof j!="string")navigator.msSaveOrOpenBlob(a(j,nt),rt);else if(d(j))c(j,rt,nt);else{var In=document.createElement("a");In.href=j,In.target="_blank",setTimeout(function(){g(In)})}}:function(j,rt,nt,In){if(In=In||open("","_blank"),In&&(In.document.title=In.document.body.innerText="downloading..."),typeof j=="string")return c(j,rt,nt);var xl=j.type==="application/octet-stream",Ll=/constructor/i.test(b.HTMLElement)||b.safari,Nl=/CriOS\/[\d]+/.test(navigator.userAgent);if((Nl||xl&&Ll||_)&&typeof FileReader<"u"){var _u=new FileReader;_u.onloadend=function(){var Dl=_u.result;Dl=Nl?Dl:Dl.replace(/^data:[^;]*;/,"data:attachment/file;"),In?In.location.href=Dl:location=Dl,In=null},_u.readAsDataURL(j)}else{var Yl=b.URL||b.webkitURL,Ul=Yl.createObjectURL(j);In?In.location=Ul:location.href=Ul,In=null,setTimeout(function(){Yl.revokeObjectURL(Ul)},4e4)}});b.saveAs=$.saveAs=$,e.exports=$})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;const getCurrentDateString=()=>{const e=new Date,o=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0"),d=String(e.getHours()).padStart(2,"0"),g=String(e.getMinutes()).padStart(2,"0"),b=String(e.getSeconds()).padStart(2,"0");return`${o}-${a}-${c}-${d}-${g}-${b}`},popover$1=jsxRuntimeExports$1.jsxs(Popover$1,{id:"popover-basic",children:[jsxRuntimeExports$1.jsx(Popover$1.Header,{children:jsxRuntimeExports$1.jsx("b",{children:"Download filtered entries"})}),jsxRuntimeExports$1.jsx(Popover$1.Body,{style:{textAlign:"justify"},children:jsxRuntimeExports$1.jsxs("p",{children:["This button allows to download all currently filtered entries shown in the Materials Grid. The data is downloaded in JSON format, as an array. The array contains a JSON object for each material entry, with key-value pairs corresponding to the column properties. Additionally, each entry includes a link to the corresponding detail page and a link to download the file in CIF format. ",jsxRuntimeExports$1.jsx("br",{}),jsxRuntimeExports$1.jsx("br",{}),"Note, to download all of the CIF files directly, see the corresponding Materials Cloud Archive entry."]})})]}),DownloadButton=({materialSelectorRef:e,disabled:o,methodLabel:a})=>{const[c,d]=reactExports.useState(!1),g=async()=>{if(e.current){d(!0);try{const b=await loadStructureUuids(a);let $=e.current.getFilteredRows().map(In=>{let xl=In.id.split("/")[0],Ll=b[xl],Nl=`${AIIDA_API_URLS[a]}/nodes/${Ll}/download?download_format=cif`,_u={...In,details_link:`${window.location.origin}${In.href}`,download_cif:Nl};return delete _u.href,_u});const j=JSON.stringify($,null,2),rt=new Blob([j],{type:"application/json"}),nt=`mc3d_filtered_entries_${a}_${getCurrentDateString()}.json`;FileSaver_minExports.saveAs(rt,nt)}catch(b){console.error("Error downloading data:",b)}finally{d(!1)}}};return jsxRuntimeExports$1.jsxs("div",{className:"download-button-outer-container",children:[jsxRuntimeExports$1.jsx("button",{onClick:g,disabled:o||c,className:`aggrid-style-button ${o||c?"aggrid-style-button-disabled":""}`,style:{marginTop:"5px"},children:c?jsxRuntimeExports$1.jsx(Spinner,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Download filtered entries"}),jsxRuntimeExports$1.jsx(Eu,{popover:popover$1})]})},popover=jsxRuntimeExports$1.jsxs(Popover$1,{id:"popover-basic",children:[jsxRuntimeExports$1.jsx(Popover$1.Header,{children:jsxRuntimeExports$1.jsx("b",{children:"Datasets & views"})}),jsxRuntimeExports$1.jsxs(Popover$1.Body,{style:{textAlign:"justify"},children:[jsxRuntimeExports$1.jsxs("p",{children:["MC3D contains ",jsxRuntimeExports$1.jsx("b",{children:"structure datasets"})," - collections computed with one consistent computational approach. The label (e.g., ",jsxRuntimeExports$1.jsx("i",{children:"PBEsol-v1"}),") contains the physical methodology and a version suffix representing the computational protocol."]}),jsxRuntimeExports$1.jsxs("p",{children:["Structure datasets can have associated property contributions (e.g., Superconductivity), and the corresponding ",jsxRuntimeExports$1.jsx("b",{children:"property-based views"})," ","allow to sort and filter the relevant data."]}),jsxRuntimeExports$1.jsxs("p",{children:["Use the menu to select either a structure dataset or a property view. See the ",jsxRuntimeExports$1.jsx("b",{children:"About"})," tab and the publication for details."]})]})]}),MethodSelectionBox=e=>{let o={"pbesol-v2":"PBEsol-v2","pbesol-v1":"PBEsol-v1","pbe-v1":"PBE-v1"};Object.entries(o).forEach(([c,d])=>{var g,b;((b=(g=e.genInfo)==null?void 0:g["method-counts"])==null?void 0:b[c])!=null&&(o[c]+=` (${e.genInfo["method-counts"][c]})`)});const a=e.selectedDisplay||e.method;return jsxRuntimeExports$1.jsx("div",{className:"method-selection-box-outer",children:jsxRuntimeExports$1.jsxs("div",{className:"method-selection-box",children:[jsxRuntimeExports$1.jsx("p",{children:"Select a dataset or view:"}),jsxRuntimeExports$1.jsxs(Form$1.Select,{size:"sm",value:a,onChange:e.handleMethodChange,style:{display:"inline-block",margin:"4px 6px 2px 6px",width:"auto",minWidth:"max-content"},children:[jsxRuntimeExports$1.jsx("optgroup",{label:"Structure datasets",children:Object.entries(o).map(([c,d])=>jsxRuntimeExports$1.jsx("option",{value:c,children:d},c))}),jsxRuntimeExports$1.jsx("optgroup",{label:"Property-based views",children:jsxRuntimeExports$1.jsx("option",{value:"superconductivity",children:"Superconductivity (PBEsol-v1)"})})]}),jsxRuntimeExports$1.jsx(Eu,{popover,placement:"bottom"})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(e,o){if(e==null)return{};var a=_objectWithoutPropertiesLoose(e,o),c,d;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(d=0;d<g.length;d++)c=g[d],!(o.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function _objectWithoutPropertiesLoose(e,o){if(e==null)return{};var a={};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends.apply(this,arguments)}function ownKeys(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);o&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,c)}return a}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(a),!0).forEach(function(c){_defineProperty(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function _defineProperty(e,o,a){return o=_toPropertyKey(o),o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function _toPropertyKey(e){var o=_toPrimitive(e,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive(e,o){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var c=a.call(e,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function Tree2Element(e){return e&&e.map((o,a)=>React.createElement(o.tag,_objectSpread({key:a},o.attr),Tree2Element(o.child)))}function GenIcon(e){return o=>React.createElement(IconBase,_extends({attr:_objectSpread({},e.attr)},o),Tree2Element(e.child))}function IconBase(e){var o=a=>{var{attr:c,size:d,title:g}=e,b=_objectWithoutProperties(e,_excluded),_=d||a.size||"1em",$;return a.className&&($=a.className),e.className&&($=($?$+" ":"")+e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,c,b,{className:$,style:_objectSpread(_objectSpread({color:e.color||a.color},a.style),e.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),g&&React.createElement("title",null,g),e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,a=>o(a)):o(DefaultContext)}function FaBook(e){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}const CitationText=({info:e})=>jsxRuntimeExports$1.jsxs("div",{style:{padding:"2px",display:"flex",gap:"6px",alignItems:"center"},children:[jsxRuntimeExports$1.jsxs("a",{className:"citation-a",href:`https://doi.org/${e.doi}`,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports$1.jsx(FaBook,{size:16,color:"black"})," ",e.authorsText,", ",e.journalText,", (",e.year,")"]}),jsxRuntimeExports$1.jsx(wu,{doi:e.doi,label:"Paper DOI",color:"#a2e5b7"})]}),CITATION_MAPPING={Mounet18:{authorsText:"Mounet et al.",journalText:"Nat. Nanotech. 13, 246-252",doi:"10.1038/s41565-017-0035-5",year:2018},Campi23:{authorsText:"Campi et al.",journalText:"ACS Nano 17, 12, 11268-11278",doi:"10.1021/acsnano.2c11510",year:2023},MBercxSupercon25:{authorsText:"Bercx et al.",journalText:"PRX Energy 4, 033012 ",doi:"10.1103/sb28-fjc9",year:2025},HuberMc3d25:{authorsText:"Huber et al.",journalText:"arXiv:2508.19223",doi:"10.48550/arXiv.2508.19223",year:2025}},CitationsList=({citationLabels:e})=>jsxRuntimeExports$1.jsx("div",{style:{marginLeft:"8px"},children:e.map(o=>jsxRuntimeExports$1.jsx(CitationText,{info:CITATION_MAPPING[o]},o))}),PRESETS={superconductivity:{sort:"isotropic_tc:desc",method:"pbesol-v1",showColumns:["id","formula","num_atoms","spacegroup_int","isotropic_tc","anisotropic_tc","allen_dynes_tc","highest_phonon_frequency"]}};function getColumnConfigFromUrlParams(e){const o=e.get("sort"),a=e.get("show"),c=e.get("hide"),d=e.get("preset");let g=[],b=[],_=[];if(d&&PRESETS[d]){const $=PRESETS[d];g=parseSortParam($.sort),b=$.showColumns||[],console.log("showFields",b),_=null}else a&&(b=a.split(",")),c&&(_=c.split(",")),g=parseSortParam(o);return{sortEntries:g,showFields:b,hiddenFields:_}}function parseSortParam(e){return e?e.split(",").map((o,a)=>{const[c,d]=o.split(":");return{field:c,sort:d||"asc",sortIndex:a}}):[]}function updateColumnState(e,o,a,c){const d=a===null;return e.map(g=>{const b={...g},_=o.find($=>$.field===g.field);return _&&(b.sort=_.sort,b.sortIndex=_.sortIndex),d?b.hide=!c.includes(g.field):a.includes(g.field)?b.hide=!0:c.includes(g.field)&&(b.hide=!1),b})}function getMethodFromPreset(e){if(!e)return null;const o=PRESETS[e];return o?o.method:null}function getMethodFromUrl(e,o){const a=e.get("method");if(a)return a;const c=e.get("preset");return c&&PRESETS[c]&&PRESETS[c].method?PRESETS[c].method:o}function updateColumnsFromUrl(e,o){const{sortEntries:a,hiddenFields:c,showFields:d}=getColumnConfigFromUrlParams(o);return updateColumnState(e,a,c,d)}const DEFAULT_METHOD="pbesol-v2";function MainPage(){const e=new URLSearchParams(window.location.search),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState([]),[g,b]=reactExports.useState([]),_=e.get("preset")||null,$=_?getMethodFromPreset(_):getMethodFromUrl(e,DEFAULT_METHOD),j=reactExports.useRef(null);reactExports.useEffect(()=>{loadGeneralInfo().then(a)},[]),reactExports.useEffect(()=>{loadDataMc3d($).then(nt=>{const In=updateColumnsFromUrl(nt.columns,e);d(In),b(nt.rows)})},[$,_]);const rt=nt=>{const In=nt.target.value,xl=new URL(window.location);In==="superconductivity"?(xl.searchParams.set("preset",In),xl.searchParams.delete("method")):(xl.searchParams.set("method",In),xl.searchParams.delete("preset")),window.history.pushState({},"",xl.toString()),b([])};return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsxs("div",{className:"description",children:["The Materials Cloud Three-Dimensional Structure Database is a curated dataset of unique, stoichiometric, experimentally known inorganic compounds, and of their calculated properties. Structures have been obtained with fully-relaxed density-functional theory calculations, starting from experimental ones imported, cleaned and parsed from the MPDS, COD and ICSD databases. For more details, please see the related publication:",jsxRuntimeExports$1.jsx("div",{style:{margin:"10px"},children:jsxRuntimeExports$1.jsx(CitationsList,{citationLabels:["HuberMc3d25"]})})]}),jsxRuntimeExports$1.jsxs(Tabs,{defaultActiveKey:"use",children:[jsxRuntimeExports$1.jsxs(Tab$1,{eventKey:"use",title:"Use",children:[jsxRuntimeExports$1.jsx(MethodSelectionBox,{genInfo:o,method:$,selectedDisplay:_||null,handleMethodChange:rt}),jsxRuntimeExports$1.jsx(default_1,{ref:j,columns:c,rows:g}),jsxRuntimeExports$1.jsx(DownloadButton,{materialSelectorRef:j,disabled:g.length==0,methodLabel:$})]}),jsxRuntimeExports$1.jsx(Tab$1,{eventKey:"about",title:"About",children:aboutText}),jsxRuntimeExports$1.jsx(Tab$1,{eventKey:"rest",title:"REST API",children:restapiText})]})]})})}var li=Object.defineProperty,hi=(e,o,a)=>o in e?li(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,ti=(e,o,a)=>hi(e,typeof o!="symbol"?o+"":o,a),jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var e=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function a(c,d,g){var b=null;if(g!==void 0&&(b=""+g),d.key!==void 0&&(b=""+d.key),"key"in d){g={};for(var _ in d)_!=="key"&&(g[_]=d[_])}else g=d;return d=g.ref,{$$typeof:e,type:c,key:b,ref:d!==void 0?d:null,props:g}}return reactJsxRuntime_production.Fragment=o,reactJsxRuntime_production.jsx=a,reactJsxRuntime_production.jsxs=a,reactJsxRuntime_production}jsxRuntime.exports=requireReactJsxRuntime_production();var jsxRuntimeExports=jsxRuntime.exports;const ControlBox=({viewerParams:e,onViewerParamChange:o,onViewerEvent:a})=>{const c=(b,_)=>{let $=e.supercell;$[b]=parseInt(_),o("supercell",$)},d=b=>{o(b,!e[b])},g=b=>{a("camera",b)};return jsxRuntimeExports.jsxs("div",{className:"control-box",children:[jsxRuntimeExports.jsxs("div",{className:"control-box-row",children:[jsxRuntimeExports.jsxs("div",{className:"supercell-container",children:[jsxRuntimeExports.jsx("label",{children:"Supercell: "}),jsxRuntimeExports.jsx("div",{style:{display:"flex"},children:[0,1,2].map(b=>jsxRuntimeExports.jsx("input",{className:"supercell-input",type:"number",min:"1",max:"99",value:e.supercell[b],onChange:_=>c(b,_.target.value)},b))})]}),jsxRuntimeExports.jsxs("div",{className:"camera-controls",children:[jsxRuntimeExports.jsx("label",{children:"Camera: "}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>g("x"),children:"x"}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>g("y"),children:"y"}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>g("z"),children:"z"})]})]}),jsxRuntimeExports.jsxs("div",{className:"control-box-row",style:{display:"flex"},children:[jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:e.bonds,onChange:()=>d("bonds")}),jsxRuntimeExports.jsx("span",{children:"Bonds"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:e.packedCell,onChange:()=>d("packedCell")}),jsxRuntimeExports.jsx("span",{children:"Packed cell"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:e.atomLabels,onChange:()=>d("atomLabels")}),jsxRuntimeExports.jsx("span",{children:"Atom labels"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:e.spaceFilling,onChange:()=>d("vdwRadius")}),jsxRuntimeExports.jsx("span",{children:"vdW radius"})]})]})]})};var _3DmolMin={exports:{}};/*! For license information please see 3Dmol-min.js.LICENSE.txt */(function(module,exports){var factory;factory=()=>(()=>{var __webpack_modules__={3:(e,o,a)=>{var c=a(663),d=a(981),g=a(972),b=a(681),_=a(834),$=a(746),j=a(670),rt=Object.prototype.toString;function nt(xl){if(!(this instanceof nt))return new nt(xl);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},xl||{});var Ll=this.options;Ll.raw&&Ll.windowBits>=0&&Ll.windowBits<16&&(Ll.windowBits=-Ll.windowBits,Ll.windowBits===0&&(Ll.windowBits=-15)),!(Ll.windowBits>=0&&Ll.windowBits<16)||xl&&xl.windowBits||(Ll.windowBits+=32),Ll.windowBits>15&&Ll.windowBits<48&&(15&Ll.windowBits||(Ll.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $,this.strm.avail_out=0;var Nl=c.inflateInit2(this.strm,Ll.windowBits);if(Nl!==b.Z_OK)throw new Error(_[Nl]);if(this.header=new j,c.inflateGetHeader(this.strm,this.header),Ll.dictionary&&(typeof Ll.dictionary=="string"?Ll.dictionary=g.string2buf(Ll.dictionary):rt.call(Ll.dictionary)==="[object ArrayBuffer]"&&(Ll.dictionary=new Uint8Array(Ll.dictionary)),Ll.raw&&(Nl=c.inflateSetDictionary(this.strm,Ll.dictionary))!==b.Z_OK))throw new Error(_[Nl])}function In(xl,Ll){var Nl=new nt(Ll);if(Nl.push(xl,!0),Nl.err)throw Nl.msg||_[Nl.err];return Nl.result}nt.prototype.push=function(xl,Ll){var Nl,_u,Yl,Ul,Dl,Zl=this.strm,Ju=this.options.chunkSize,Uu=this.options.dictionary,fp=!1;if(this.ended)return!1;_u=Ll===~~Ll?Ll:Ll===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof xl=="string"?Zl.input=g.binstring2buf(xl):rt.call(xl)==="[object ArrayBuffer]"?Zl.input=new Uint8Array(xl):Zl.input=xl,Zl.next_in=0,Zl.avail_in=Zl.input.length;do{if(Zl.avail_out===0&&(Zl.output=new d.Buf8(Ju),Zl.next_out=0,Zl.avail_out=Ju),(Nl=c.inflate(Zl,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&Uu&&(Nl=c.inflateSetDictionary(this.strm,Uu)),Nl===b.Z_BUF_ERROR&&fp===!0&&(Nl=b.Z_OK,fp=!1),Nl!==b.Z_STREAM_END&&Nl!==b.Z_OK)return this.onEnd(Nl),this.ended=!0,!1;Zl.next_out&&(Zl.avail_out!==0&&Nl!==b.Z_STREAM_END&&(Zl.avail_in!==0||_u!==b.Z_FINISH&&_u!==b.Z_SYNC_FLUSH)||(this.options.to==="string"?(Yl=g.utf8border(Zl.output,Zl.next_out),Ul=Zl.next_out-Yl,Dl=g.buf2string(Zl.output,Yl),Zl.next_out=Ul,Zl.avail_out=Ju-Ul,Ul&&d.arraySet(Zl.output,Zl.output,Yl,Ul,0),this.onData(Dl)):this.onData(d.shrinkBuf(Zl.output,Zl.next_out)))),Zl.avail_in===0&&Zl.avail_out===0&&(fp=!0)}while((Zl.avail_in>0||Zl.avail_out===0)&&Nl!==b.Z_STREAM_END);return Nl===b.Z_STREAM_END&&(_u=b.Z_FINISH),_u===b.Z_FINISH?(Nl=c.inflateEnd(this.strm),this.onEnd(Nl),this.ended=!0,Nl===b.Z_OK):_u!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),Zl.avail_out=0,!0)},nt.prototype.onData=function(xl){this.chunks.push(xl)},nt.prototype.onEnd=function(xl){xl===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=xl,this.msg=this.strm.msg},o.Inflate=nt,o.inflate=In,o.inflateRaw=function(xl,Ll){return(Ll=Ll||{}).raw=!0,In(xl,Ll)},o.ungzip=In},16:(e,o,a)=>{a.r(o),a.d(o,{CAP:()=>c,CC:()=>j.CC,CONTEXTS_PER_VIEWPORT:()=>E1,Color:()=>j.Color,CustomLinear:()=>rt.CustomLinear,Cylinder:()=>_.Cylinder,GLDraw:()=>d,GLModel:()=>Av,GLShape:()=>om,GLViewer:()=>ev,GLVolumetricRender:()=>d1,Gradient:()=>rt.Gradient,GradientType:()=>rt.GradientType,Label:()=>k1,LabelCount:()=>m1,MarchingCube:()=>gu,MarchingCubeInitializer:()=>Z1,Matrix3:()=>$.Matrix3,Matrix4:()=>$.Matrix4,Parsers:()=>x1,PausableTimer:()=>nt.PausableTimer,PointGrid:()=>t0,ProteinSurface:()=>z0,Quaternion:()=>$.Quaternion,ROYGB:()=>rt.ROYGB,RWB:()=>rt.RWB,Ray:()=>$.Ray,Sinebow:()=>rt.Sinebow,Sphere:()=>_.Sphere,SurfaceType:()=>qy,Triangle:()=>_.Triangle,Vector2:()=>$.Vector2,Vector3:()=>$.Vector3,VolumeData:()=>dm.VolumeData,adjustVolumeStyle:()=>nt.adjustVolumeStyle,applyPartialCharges:()=>Qy,autoinit:()=>_v,autoload:()=>hy,base64ToArray:()=>nt.base64ToArray,bondLength:()=>am.bondLength,builtinColorSchemes:()=>j.builtinColorSchemes,builtinGradients:()=>rt.builtinGradients,chains:()=>j.chains,clamp:()=>$.clamp,conversionMatrix3:()=>$.conversionMatrix3,createStereoViewer:()=>xy,createViewer:()=>Xv,createViewerGrid:()=>ky,deepCopy:()=>nt.deepCopy,degToRad:()=>$.degToRad,download:()=>nt.download,drawCartoon:()=>h0,elementColors:()=>j.elementColors,extend:()=>nt.extend,get:()=>nt.get,getAtomProperty:()=>nt.getAtomProperty,getColorFromStyle:()=>nt.getColorFromStyle,getElement:()=>nt.getElement,getExtent:()=>nt.getExtent,getGradient:()=>rt.getGradient,getPropertyRange:()=>nt.getPropertyRange,getbin:()=>nt.getbin,htmlColors:()=>j.htmlColors,inflateString:()=>nt.inflateString,isEmptyObject:()=>nt.isEmptyObject,isNumeric:()=>nt.isNumeric,makeFunction:()=>nt.makeFunction,mergeGeos:()=>nt.mergeGeos,normalizeValue:()=>rt.normalizeValue,partialCharges:()=>tv,processing_autoinit:()=>Vv,residues:()=>j.residues,setBondLength:()=>am.setBondLength,setSyncSurface:()=>z2,specStringToObject:()=>nt.specStringToObject,splitMesh:()=>u1,ssColors:()=>j.ssColors,subdivide_spline:()=>In,syncSurface:()=>zy,viewers:()=>pv});var c,d,g=a(111),b=a(378),_=a(99),$=a(529),j=a(222);(function(c0){c0[c0.NONE=0]="NONE",c0[c0.FLAT=1]="FLAT",c0[c0.ROUND=2]="ROUND"})(c||(c={})),function(c0){function _t(Vl,tp,Du){var lp,up,_d,gp,mp,Rp=Math.hypot(Vl,tp);Rp<1e-4?(up=0,_d=1):(up=-Vl/Rp,_d=tp/Rp),tp=-up*Vl+_d*tp,(lp=Math.hypot(tp,Du))<1e-4?(gp=0,mp=1):(gp=Du/lp,mp=tp/lp);var Ep=new Float32Array(9);return Ep[0]=_d,Ep[1]=up,Ep[2]=0,Ep[3]=-up*mp,Ep[4]=_d*mp,Ep[5]=gp,Ep[6]=up*gp,Ep[7]=-_d*gp,Ep[8]=mp,Ep}var wl=new class{constructor(){this.cache={};let Vl,tp=[],Du=Math.pow(2,4),lp=2,up=Math.pow(2,lp),_d=Du/up;for(tp[0]=new $.Vector3(-1,0,0),tp[_d]=new $.Vector3(0,0,1),tp[2*_d]=new $.Vector3(1,0,0),tp[3*_d]=new $.Vector3(0,0,-1),lp=3;lp<=4;lp++){for(up=Math.pow(2,lp-1),_d=Du/up,Vl=0;Vl<up-1;Vl++)tp[_d/2+Vl*_d]=tp[Vl*_d].clone().add(tp[(Vl+1)*_d]).normalize();Vl=up-1,tp[_d/2+Vl*_d]=tp[Vl*_d].clone().add(tp[0]).normalize()}this.basisVectors=tp}getVerticesForRadius(Vl,tp,Du){if(this.cache!==void 0&&this.cache[Vl]!==void 0&&this.cache[Vl][tp+Du]!==void 0)return this.cache[Vl][tp+Du];for(var lp,up=this.basisVectors.length,_d=[],gp=[],mp=0;mp<up;mp++)_d.push(this.basisVectors[mp].clone().multiplyScalar(Vl)),_d.push(this.basisVectors[mp].clone().multiplyScalar(Vl)),lp=this.basisVectors[mp].clone().normalize(),gp.push(lp),gp.push(lp);var Rp,Ep,wp=[],Tp=10,Mp=up,Hp=2*Math.PI,Qp=Math.PI,i0=!1,w0=!1;for(Ep=0;Ep<=Tp;Ep++){i0=Ep===0||Ep===Tp,w0=Ep===5;var m0=[],B0=[];for(Rp=0;Rp<=Mp;Rp++)if(w0){var q0=Rp<Mp?2*Rp:0;B0.push(q0+1),m0.push(q0)}else{var Z0=Rp/Mp,J0=Ep/Tp;if(i0&&Rp!==0)i0&&m0.push(_d.length-1);else if(Rp<Mp){var H0=new $.Vector3;H0.x=-Vl*Math.cos(0+Z0*Hp)*Math.sin(0+J0*Qp),H0.y=tp==1?0:Vl*Math.cos(0+J0*Qp),H0.z=Vl*Math.sin(0+Z0*Hp)*Math.sin(0+J0*Qp),Math.abs(H0.x)<1e-5&&(H0.x=0),Math.abs(H0.y)<1e-5&&(H0.y=0),Math.abs(H0.z)<1e-5&&(H0.z=0),tp==c.FLAT?(lp=new $.Vector3(0,Math.cos(0+J0*Qp),0)).normalize():(lp=new $.Vector3(H0.x,H0.y,H0.z)).normalize(),_d.push(H0),gp.push(lp),m0.push(_d.length-1)}else m0.push(_d.length-Mp)}w0&&wp.push(B0),wp.push(m0)}var wm={vertices:_d,normals:gp,verticesRows:wp,w:Mp,h:Tp};return Vl in this.cache||(this.cache[Vl]={}),this.cache[Vl][tp+Du]=wm,wm}};c0.drawCylinder=function(Vl,tp,Du,lp,up,_d=0,gp=0){if(!tp||!Du)return;let mp=function(N0){if(typeof N0=="string"){let I0=N0;return I0.toLowerCase()=="flat"?c.FLAT:I0.toLowerCase()=="round"?c.ROUND:c.NONE}return N0};_d=mp(_d);var Rp=(gp=mp(gp))||_d;up=up||{r:0,g:0,b:0};var Ep,wp,Tp,Mp,Hp,Qp,i0=_t(Du.x-tp.x,Du.y-tp.y,Du.z-tp.z),w0=wl.getVerticesForRadius(lp,gp,"to"),m0=w0.w,B0=w0.h,q0=Rp?B0*m0+2:2*m0,Z0=Vl.updateGeoGroup(q0),J0=w0.vertices,H0=w0.normals,wm=w0.verticesRows,bm=wm[B0/2],Bm=wm[B0/2+1],Im=Z0.vertices,e1=Z0.vertexArray,n1=Z0.normalArray,$m=Z0.colorArray,p1=Z0.faceArray;for(Tp=0;Tp<m0;++Tp){var Cm=2*Tp;Mp=i0[0]*J0[Cm].x+i0[3]*J0[Cm].y+i0[6]*J0[Cm].z,Hp=i0[1]*J0[Cm].x+i0[4]*J0[Cm].y+i0[7]*J0[Cm].z,Qp=i0[5]*J0[Cm].y+i0[8]*J0[Cm].z,Ep=3*(Im+Cm),wp=Z0.faceidx,e1[Ep]=Mp+tp.x,e1[Ep+1]=Hp+tp.y,e1[Ep+2]=Qp+tp.z,e1[Ep+3]=Mp+Du.x,e1[Ep+4]=Hp+Du.y,e1[Ep+5]=Qp+Du.z,n1[Ep]=Mp,n1[Ep+3]=Mp,n1[Ep+1]=Hp,n1[Ep+4]=Hp,n1[Ep+2]=Qp,n1[Ep+5]=Qp,$m[Ep]=up.r,$m[Ep+3]=up.r,$m[Ep+1]=up.g,$m[Ep+4]=up.g,$m[Ep+2]=up.b,$m[Ep+5]=up.b,p1[wp]=Bm[Tp]+Im,p1[wp+1]=Bm[Tp+1]+Im,p1[wp+2]=bm[Tp]+Im,p1[wp+3]=bm[Tp]+Im,p1[wp+4]=Bm[Tp+1]+Im,p1[wp+5]=bm[Tp+1]+Im,Z0.faceidx+=6}if(Rp){var Pm,y1,Zm,w1,S1,Ym,P1,av,T1,t1,gv,K1,sv,U1,Sv,Uv,vy,py,Hy,Ry,Zv,Yy,Ey,Fy,Gy,a2,Jy,v2,ty,Cy,My,Ay,Ql=_d?B0+1:B0/2+1;for(Hp=gp?0:B0/2;Hp<Ql;Hp++)if(Hp!==B0/2){var $p=Hp<=B0/2?Du:tp,Vu=wl.getVerticesForRadius(lp,gp,"to"),G0=wl.getVerticesForRadius(lp,_d,"from");for($p===Du?(J0=Vu.vertices,H0=Vu.normals,wm=Vu.verticesRows):$p==tp&&(J0=G0.vertices,H0=G0.normals,wm=G0.verticesRows),Mp=0;Mp<m0;Mp++)wp=Z0.faceidx,ty=3*((Pm=wm[Hp][Mp+1])+Im),Cy=3*((y1=wm[Hp][Mp])+Im),My=3*((Zm=wm[Hp+1][Mp])+Im),Ay=3*((w1=wm[Hp+1][Mp+1])+Im),S1=i0[0]*J0[Pm].x+i0[3]*J0[Pm].y+i0[6]*J0[Pm].z,Ym=i0[0]*J0[y1].x+i0[3]*J0[y1].y+i0[6]*J0[y1].z,P1=i0[0]*J0[Zm].x+i0[3]*J0[Zm].y+i0[6]*J0[Zm].z,av=i0[0]*J0[w1].x+i0[3]*J0[w1].y+i0[6]*J0[w1].z,T1=i0[1]*J0[Pm].x+i0[4]*J0[Pm].y+i0[7]*J0[Pm].z,t1=i0[1]*J0[y1].x+i0[4]*J0[y1].y+i0[7]*J0[y1].z,gv=i0[1]*J0[Zm].x+i0[4]*J0[Zm].y+i0[7]*J0[Zm].z,K1=i0[1]*J0[w1].x+i0[4]*J0[w1].y+i0[7]*J0[w1].z,sv=i0[5]*J0[Pm].y+i0[8]*J0[Pm].z,U1=i0[5]*J0[y1].y+i0[8]*J0[y1].z,Sv=i0[5]*J0[Zm].y+i0[8]*J0[Zm].z,Uv=i0[5]*J0[w1].y+i0[8]*J0[w1].z,e1[ty]=S1+$p.x,e1[Cy]=Ym+$p.x,e1[My]=P1+$p.x,e1[Ay]=av+$p.x,e1[ty+1]=T1+$p.y,e1[Cy+1]=t1+$p.y,e1[My+1]=gv+$p.y,e1[Ay+1]=K1+$p.y,e1[ty+2]=sv+$p.z,e1[Cy+2]=U1+$p.z,e1[My+2]=Sv+$p.z,e1[Ay+2]=Uv+$p.z,$m[ty]=up.r,$m[Cy]=up.r,$m[My]=up.r,$m[Ay]=up.r,$m[ty+1]=up.g,$m[Cy+1]=up.g,$m[My+1]=up.g,$m[Ay+1]=up.g,$m[ty+2]=up.b,$m[Cy+2]=up.b,$m[My+2]=up.b,$m[Ay+2]=up.b,vy=i0[0]*H0[Pm].x+i0[3]*H0[Pm].y+i0[6]*H0[Pm].z,py=i0[0]*H0[y1].x+i0[3]*H0[y1].y+i0[6]*H0[y1].z,Hy=i0[0]*H0[Zm].x+i0[3]*H0[Zm].y+i0[6]*H0[Zm].z,Ry=i0[0]*H0[w1].x+i0[3]*H0[w1].y+i0[6]*H0[w1].z,Zv=i0[1]*H0[Pm].x+i0[4]*H0[Pm].y+i0[7]*H0[Pm].z,Yy=i0[1]*H0[y1].x+i0[4]*H0[y1].y+i0[7]*H0[y1].z,Ey=i0[1]*H0[Zm].x+i0[4]*H0[Zm].y+i0[7]*H0[Zm].z,Fy=i0[1]*H0[w1].x+i0[4]*H0[w1].y+i0[7]*H0[w1].z,Gy=i0[5]*H0[Pm].y+i0[8]*H0[Pm].z,a2=i0[5]*H0[y1].y+i0[8]*H0[y1].z,Jy=i0[5]*H0[Zm].y+i0[8]*H0[Zm].z,v2=i0[5]*H0[w1].y+i0[8]*H0[w1].z,Hp===0?(n1[ty]=vy,n1[My]=Hy,n1[Ay]=Ry,n1[ty+1]=Zv,n1[My+1]=Ey,n1[Ay+1]=Fy,n1[ty+2]=Gy,n1[My+2]=Jy,n1[Ay+2]=v2,p1[wp]=Pm+Im,p1[wp+1]=Zm+Im,p1[wp+2]=w1+Im,Z0.faceidx+=3):Hp===Ql-1?(n1[ty]=vy,n1[Cy]=py,n1[My]=Hy,n1[ty+1]=Zv,n1[Cy+1]=Yy,n1[My+1]=Ey,n1[ty+2]=Gy,n1[Cy+2]=a2,n1[My+2]=Jy,p1[wp]=Pm+Im,p1[wp+1]=y1+Im,p1[wp+2]=Zm+Im,Z0.faceidx+=3):(n1[ty]=vy,n1[Cy]=py,n1[Ay]=Ry,n1[ty+1]=Zv,n1[Cy+1]=Yy,n1[Ay+1]=Fy,n1[ty+2]=Gy,n1[Cy+2]=a2,n1[Ay+2]=v2,n1[Cy]=py,n1[My]=Hy,n1[Ay]=Ry,n1[Cy+1]=Yy,n1[My+1]=Ey,n1[Ay+1]=Fy,n1[Cy+2]=a2,n1[My+2]=Jy,n1[Ay+2]=v2,p1[wp]=Pm+Im,p1[wp+1]=y1+Im,p1[wp+2]=w1+Im,p1[wp+3]=y1+Im,p1[wp+4]=Zm+Im,p1[wp+5]=w1+Im,Z0.faceidx+=6)}}Z0.vertices+=q0},c0.drawCone=function(Vl,tp,Du,lp,up){if(!tp||!Du)return;up=up||{r:0,g:0,b:0};let _d=new $.Vector3(Du.x-tp.x,Du.y-tp.y,Du.z-tp.z);var gp=_t(_d.x,_d.y,_d.z);_d=_d.normalize();var mp,Rp,Ep,wp,Tp,Mp,Hp=wl.basisVectors.length,Qp=wl.basisVectors,i0=Hp+2,w0=Vl.updateGeoGroup(i0),m0=w0.vertices,B0=w0.vertexArray,q0=w0.normalArray,Z0=w0.colorArray,J0=w0.faceArray;for(B0[mp=3*m0]=tp.x,B0[mp+1]=tp.y,B0[mp+2]=tp.z,q0[mp]=-_d.x,q0[mp+1]=-_d.y,q0[mp+2]=-_d.z,Z0[mp]=up.r,Z0[mp+1]=up.g,Z0[mp+2]=up.b,B0[mp+3]=Du.x,B0[mp+4]=Du.y,B0[mp+5]=Du.z,q0[mp+3]=_d.x,q0[mp+4]=_d.y,q0[mp+5]=_d.z,Z0[mp+3]=up.r,Z0[mp+4]=up.g,Z0[mp+5]=up.b,mp+=6,Ep=0;Ep<Hp;++Ep){var H0=Qp[Ep].clone();H0.multiplyScalar(lp),wp=gp[0]*H0.x+gp[3]*H0.y+gp[6]*H0.z,Tp=gp[1]*H0.x+gp[4]*H0.y+gp[7]*H0.z,Mp=gp[5]*H0.y+gp[8]*H0.z,B0[mp]=wp+tp.x,B0[mp+1]=Tp+tp.y,B0[mp+2]=Mp+tp.z,q0[mp]=wp,q0[mp+1]=Tp,q0[mp+2]=Mp,Z0[mp]=up.r,Z0[mp+1]=up.g,Z0[mp+2]=up.b,mp+=3}for(w0.vertices+=Hp+2,Rp=w0.faceidx,Ep=0;Ep<Hp;Ep++){var wm=m0+2+Ep,bm=m0+2+(Ep+1)%Hp;J0[Rp]=wm,J0[Rp+1]=bm,J0[Rp+2]=m0,J0[Rp+=3]=wm,J0[Rp+1]=bm,J0[Rp+2]=m0+1,Rp+=3}w0.faceidx+=6*Hp};var zl=new class{constructor(){this.cache=new Map}getVerticesForRadius(Vl,tp){tp=tp||2,this.cache.has(tp)||this.cache.set(tp,new Map);let Du=this.cache.get(tp);if(Du.has(Vl))return Du.get(Vl);var lp={vertices:[],verticesRows:[],normals:[]},up=16*tp,_d=10*tp;Vl<1&&(up=10*tp,_d=8*tp);var gp,mp,Rp=2*Math.PI,Ep=Math.PI;for(mp=0;mp<=_d;mp++){let Tp=[];for(gp=0;gp<=up;gp++){let Mp=gp/up,Hp=mp/_d,Qp=-Vl*Math.cos(0+Mp*Rp)*Math.sin(0+Hp*Ep),i0=Vl*Math.cos(0+Hp*Ep),w0=Vl*Math.sin(0+Mp*Rp)*Math.sin(0+Hp*Ep);var wp=new $.Vector3(Qp,i0,w0);wp.normalize(),lp.vertices.push({x:Qp,y:i0,z:w0}),lp.normals.push(wp),Tp.push(lp.vertices.length-1)}lp.verticesRows.push(Tp)}return Du.set(Vl,lp),lp}};c0.drawSphere=function(Vl,tp,Du,lp,up){var _d=zl.getVerticesForRadius(Du,up),gp=_d.vertices,mp=_d.normals,Rp=Vl.updateGeoGroup(gp.length),Ep=Rp.vertices,wp=Rp.vertexArray,Tp=Rp.colorArray,Mp=Rp.faceArray,Hp=Rp.lineArray,Qp=Rp.normalArray;for(let m0=0,B0=gp.length;m0<B0;++m0){let q0=3*(Ep+m0),Z0=gp[m0];wp[q0]=Z0.x+tp.x,wp[q0+1]=Z0.y+tp.y,wp[q0+2]=Z0.z+tp.z,Tp[q0]=lp.r,Tp[q0+1]=lp.g,Tp[q0+2]=lp.b}Rp.vertices+=gp.length;let i0=_d.verticesRows,w0=i0.length-1;for(let m0=0;m0<w0;m0++){let B0=i0[m0].length-1;for(let q0=0;q0<B0;q0++){let Z0=Rp.faceidx,J0=Rp.lineidx,H0=i0[m0][q0+1]+Ep,wm=3*H0,bm=i0[m0][q0]+Ep,Bm=3*bm,Im=i0[m0+1][q0]+Ep,e1=3*Im,n1=i0[m0+1][q0+1]+Ep,$m=3*n1,p1=mp[H0-Ep],Cm=mp[bm-Ep],Pm=mp[Im-Ep],y1=mp[n1-Ep];Math.abs(gp[H0-Ep].y)===Du?(Qp[wm]=p1.x,Qp[e1]=Pm.x,Qp[$m]=y1.x,Qp[wm+1]=p1.y,Qp[e1+1]=Pm.y,Qp[$m+1]=y1.y,Qp[wm+2]=p1.z,Qp[e1+2]=Pm.z,Qp[$m+2]=y1.z,Mp[Z0]=H0,Mp[Z0+1]=Im,Mp[Z0+2]=n1,Hp[J0]=H0,Hp[J0+1]=Im,Hp[J0+2]=H0,Hp[J0+3]=n1,Hp[J0+4]=Im,Hp[J0+5]=n1,Rp.faceidx+=3,Rp.lineidx+=6):Math.abs(gp[Im-Ep].y)===Du?(Qp[wm]=p1.x,Qp[Bm]=Cm.x,Qp[e1]=Pm.x,Qp[wm+1]=p1.y,Qp[Bm+1]=Cm.y,Qp[e1+1]=Pm.y,Qp[wm+2]=p1.z,Qp[Bm+2]=Cm.z,Qp[e1+2]=Pm.z,Mp[Z0]=H0,Mp[Z0+1]=bm,Mp[Z0+2]=Im,Hp[J0]=H0,Hp[J0+1]=bm,Hp[J0+2]=H0,Hp[J0+3]=Im,Hp[J0+4]=bm,Hp[J0+5]=Im,Rp.faceidx+=3,Rp.lineidx+=6):(Qp[wm]=p1.x,Qp[Bm]=Cm.x,Qp[$m]=y1.x,Qp[wm+1]=p1.y,Qp[Bm+1]=Cm.y,Qp[$m+1]=y1.y,Qp[wm+2]=p1.z,Qp[Bm+2]=Cm.z,Qp[$m+2]=y1.z,Qp[Bm]=Cm.x,Qp[e1]=Pm.x,Qp[$m]=y1.x,Qp[Bm+1]=Cm.y,Qp[e1+1]=Pm.y,Qp[$m+1]=y1.y,Qp[Bm+2]=Cm.z,Qp[e1+2]=Pm.z,Qp[$m+2]=y1.z,Mp[Z0]=H0,Mp[Z0+1]=bm,Mp[Z0+2]=n1,Mp[Z0+3]=bm,Mp[Z0+4]=Im,Mp[Z0+5]=n1,Hp[J0]=H0,Hp[J0+1]=bm,Hp[J0+2]=H0,Hp[J0+3]=n1,Hp[J0+4]=bm,Hp[J0+5]=Im,Hp[J0+6]=Im,Hp[J0+7]=n1,Rp.faceidx+=6,Rp.lineidx+=8)}}}}(d||(d={}));var rt=a(546),nt=a(864);function In(c0,_t){var wl,zl,Vl,tp,Du,lp,up,_d,gp,mp=[],Rp=c0;for((Rp=[]).push(c0[0]),wl=1,zl=c0.length-1;wl<zl;wl++)if(Du=c0[wl],lp=c0[wl+1],Du.smoothen){var Ep=new $.Vector3((Du.x+lp.x)/2,(Du.y+lp.y)/2,(Du.z+lp.z)/2);Ep.atom=Du.atom,Rp.push(Ep)}else Rp.push(Du);for(Rp.push(c0[c0.length-1]),wl=-1,Vl=Rp.length;wl<=Vl-3;wl++)if(tp=Rp[wl===-1?0:wl],Du=Rp[wl+1],lp=Rp[wl+2],up=Rp[wl===Vl-3?Vl-1:wl+3],_d=new $.Vector3().subVectors(lp,tp).multiplyScalar(.5),gp=new $.Vector3().subVectors(up,Du).multiplyScalar(.5),!lp.skip)for(var wp=0;wp<_t;wp++){var Tp=1/_t*wp,Mp=Du.x+Tp*_d.x+Tp*Tp*(-3*Du.x+3*lp.x-2*_d.x-gp.x)+Tp*Tp*Tp*(2*Du.x-2*lp.x+_d.x+gp.x),Hp=Du.y+Tp*_d.y+Tp*Tp*(-3*Du.y+3*lp.y-2*_d.y-gp.y)+Tp*Tp*Tp*(2*Du.y-2*lp.y+_d.y+gp.y),Qp=Du.z+Tp*_d.z+Tp*Tp*(-3*Du.z+3*lp.z-2*_d.z-gp.z)+Tp*Tp*Tp*(2*Du.z-2*lp.z+_d.z+gp.z),i0=new $.Vector3(Mp,Hp,Qp);i0.atom=wp<_t/2?Du.atom:lp.atom,mp.push(i0)}return mp.push(Rp[Rp.length-1]),mp}const xl=.5,Ll=1.3,Nl=.8,_u=.4,Yl=.4;function Ul(c0,_t,wl,zl){for(var Vl,tp,Du,lp,up=0,_d=_t.length;up<_d;up++){lp=Math.round(up*(zl.length-1)/_d),Du=j.CC.color(zl[lp]);var gp=c0.updateGeoGroup(2),mp=gp.vertexArray,Rp=gp.colorArray,Ep=gp.faceArray;mp[tp=3*(Vl=gp.vertices)]=_t[up].x,mp[tp+1]=_t[up].y,mp[tp+2]=_t[up].z,mp[tp+3]=wl[up].x,mp[tp+4]=wl[up].y,mp[tp+5]=wl[up].z;for(var wp=0;wp<6;++wp)Rp[tp+3*wp]=Du.r,Rp[tp+1+3*wp]=Du.g,Rp[tp+2+3*wp]=Du.b;if(up>0){var Tp=[Vl,Vl+1,Vl-1,Vl-2],Mp=gp.faceidx;Ep[Mp]=Tp[0],Ep[Mp+1]=Tp[1],Ep[Mp+2]=Tp[3],Ep[Mp+3]=Tp[1],Ep[Mp+4]=Tp[2],Ep[Mp+5]=Tp[3],gp.faceidx+=6}gp.vertices+=2}}function Dl(c0,_t,wl,zl,Vl,tp,Du){Du&&Du!=="default"||(Du="rectangle"),Du==="edged"?function(lp,up,_d,gp,mp){if(!(up.length<2)){var Rp,Ep;if(Rp=up[0],Ep=up[up.length-1],Rp=In(Rp,gp),Ep=In(Ep,gp),!mp)return Ul(lp,Rp,Ep,_d);var wp,Tp,Mp,Hp,Qp,i0,w0,m0,B0,q0,Z0,J0,H0,wm,bm,Bm,Im,e1,n1,$m,p1,Cm,Pm=[],y1=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]];for(H0=0,wm=Rp.length;H0<wm;H0++){if(q0=Math.round(H0*(_d.length-1)/wm),B0=j.CC.color(_d[q0]),Pm.push(Tp=Rp[H0]),Pm.push(Tp),Pm.push(Mp=Ep[H0]),Pm.push(Mp),H0<wm-1){var Zm=Rp[H0+1].clone().sub(Rp[H0]);wp=Ep[H0].clone().sub(Rp[H0]).cross(Zm).normalize().multiplyScalar(mp)}for(Pm.push(Hp=Rp[H0].clone().add(wp)),Pm.push(Hp),Pm.push(Qp=Ep[H0].clone().add(wp)),Pm.push(Qp),Tp.atom!==void 0&&(Z0=Tp.atom),$m=(n1=lp.updateGeoGroup(8)).vertexArray,p1=n1.colorArray,Cm=n1.faceArray,$m[w0=3*(i0=n1.vertices)]=Tp.x,$m[w0+1]=Tp.y,$m[w0+2]=Tp.z,$m[w0+3]=Tp.x,$m[w0+4]=Tp.y,$m[w0+5]=Tp.z,$m[w0+6]=Mp.x,$m[w0+7]=Mp.y,$m[w0+8]=Mp.z,$m[w0+9]=Mp.x,$m[w0+10]=Mp.y,$m[w0+11]=Mp.z,$m[w0+12]=Hp.x,$m[w0+13]=Hp.y,$m[w0+14]=Hp.z,$m[w0+15]=Hp.x,$m[w0+16]=Hp.y,$m[w0+17]=Hp.z,$m[w0+18]=Qp.x,$m[w0+19]=Qp.y,$m[w0+20]=Qp.z,$m[w0+21]=Qp.x,$m[w0+22]=Qp.y,$m[w0+23]=Qp.z,bm=0;bm<8;++bm)p1[w0+3*bm]=B0.r,p1[w0+1+3*bm]=B0.g,p1[w0+2+3*bm]=B0.b;if(H0>0){var w1=J0!==void 0&&Z0!==void 0&&J0.serial!==Z0.serial;for(bm=0;bm<4;bm++){var S1=[i0+y1[bm][0],i0+y1[bm][1],i0+y1[bm][2],i0+y1[bm][3]];if(Cm[m0=n1.faceidx]=S1[0],Cm[m0+1]=S1[1],Cm[m0+2]=S1[3],Cm[m0+3]=S1[1],Cm[m0+4]=S1[2],Cm[m0+5]=S1[3],n1.faceidx+=6,Z0.clickable||J0.clickable||Z0.hoverable||J0.hoverable){var Ym=Pm[S1[3]].clone(),P1=Pm[S1[0]].clone(),av=Pm[S1[2]].clone(),T1=Pm[S1[1]].clone();if(Ym.atom=Pm[S1[3]].atom||null,av.atom=Pm[S1[2]].atom||null,P1.atom=Pm[S1[0]].atom||null,T1.atom=Pm[S1[1]].atom||null,w1){var t1=Ym.clone().add(P1).multiplyScalar(.5),gv=av.clone().add(T1).multiplyScalar(.5),K1=Ym.clone().add(T1).multiplyScalar(.5);bm%2==0?((J0.clickable||J0.hoverable)&&(Bm=new _.Triangle(t1,K1,Ym),Im=new _.Triangle(gv,av,K1),e1=new _.Triangle(K1,av,Ym),J0.intersectionShape.triangle.push(Bm),J0.intersectionShape.triangle.push(Im),J0.intersectionShape.triangle.push(e1)),(Z0.clickable||Z0.hoverable)&&(Bm=new _.Triangle(P1,T1,K1),Im=new _.Triangle(T1,gv,K1),e1=new _.Triangle(P1,K1,t1),Z0.intersectionShape.triangle.push(Bm),Z0.intersectionShape.triangle.push(Im),Z0.intersectionShape.triangle.push(e1))):((Z0.clickable||Z0.hoverable)&&(Bm=new _.Triangle(t1,K1,Ym),Im=new _.Triangle(gv,av,K1),e1=new _.Triangle(K1,av,Ym),Z0.intersectionShape.triangle.push(Bm),Z0.intersectionShape.triangle.push(Im),Z0.intersectionShape.triangle.push(e1)),(J0.clickable||J0.hoverable)&&(Bm=new _.Triangle(P1,T1,K1),Im=new _.Triangle(T1,gv,K1),e1=new _.Triangle(P1,K1,t1),J0.intersectionShape.triangle.push(Bm),J0.intersectionShape.triangle.push(Im),J0.intersectionShape.triangle.push(e1)))}else(Z0.clickable||Z0.hoverable)&&(Bm=new _.Triangle(P1,T1,Ym),Im=new _.Triangle(T1,av,Ym),Z0.intersectionShape.triangle.push(Bm),Z0.intersectionShape.triangle.push(Im))}}}n1.vertices+=8,J0=Z0}var sv=Pm.length-8;for($m=(n1=lp.updateGeoGroup(8)).vertexArray,p1=n1.colorArray,Cm=n1.faceArray,w0=3*(i0=n1.vertices),m0=n1.faceidx,H0=0;H0<4;H0++){Pm.push(Pm[2*H0]),Pm.push(Pm[sv+2*H0]);var U1=Pm[2*H0],Sv=Pm[sv+2*H0];$m[w0+6*H0]=U1.x,$m[w0+1+6*H0]=U1.y,$m[w0+2+6*H0]=U1.z,$m[w0+3+6*H0]=Sv.x,$m[w0+4+6*H0]=Sv.y,$m[w0+5+6*H0]=Sv.z,p1[w0+6*H0]=B0.r,p1[w0+1+6*H0]=B0.g,p1[w0+2+6*H0]=B0.b,p1[w0+3+6*H0]=B0.r,p1[w0+4+6*H0]=B0.g,p1[w0+5+6*H0]=B0.b}sv+=8,Bm=[i0,i0+2,i0+6,i0+4],Im=[i0+1,i0+5,i0+7,i0+3],Cm[m0]=Bm[0],Cm[m0+1]=Bm[1],Cm[m0+2]=Bm[3],Cm[m0+3]=Bm[1],Cm[m0+4]=Bm[2],Cm[m0+5]=Bm[3],Cm[m0+6]=Im[0],Cm[m0+7]=Im[1],Cm[m0+8]=Im[3],Cm[m0+9]=Im[1],Cm[m0+10]=Im[2],Cm[m0+11]=Im[3],n1.faceidx+=12,n1.vertices+=8}}(c0,_t,wl,zl,Vl):Du!=="rectangle"&&Du!=="oval"&&Du!=="parabola"||function(lp,up,_d,gp,mp,Rp,Ep){var wp,Tp,Mp,Hp,Qp,i0,w0,m0,B0,q0;if((Mp=up.length)<2||up[0].length<2)return;for(wp=0;wp<Mp;wp++)up[wp]=In(up[wp],gp);if(Hp=up[0].length,!mp)return Ul(lp,up[0],up[Mp-1],_d);var Z0=[],J0=[],H0=[];for(Tp=0;Tp<Mp;Tp++)Z0.push(.25+1.5*Math.sqrt((Mp-1)*Tp-Math.pow(Tp,2))/(Mp-1)),J0.push(.5),H0.push(2*(Math.pow(Tp/Mp,2)-Tp/Mp)+.6);var wm,bm,Bm,Im,e1,n1,$m,p1,Cm,Pm,y1=[];for(Tp=0;Tp<2*Mp-1;Tp++)y1[Tp]=[Tp,Tp+1,Tp+1-2*Mp,Tp-2*Mp];y1[2*Mp-1]=[Tp,Tp+1-2*Mp,Tp+1-4*Mp,Tp-2*Mp];let Zm=lp.updateGeoGroup();for(wp=0;wp<Hp;wp++){let P1=lp.groups,av=!1;var w1,S1;for(Zm=lp.updateGeoGroup(2*Mp),P1!=lp.groups&&wp>0&&(wp-=1,av=!0),n1=Math.round(wp*(_d.length-1)/Hp),e1=j.CC.color(_d[n1]),B0=w0,q0=m0,w0=[],m0=[],Qp=[],up[0][wp].atom!==void 0&&(Im=up[0][wp].atom,Ep==="oval"?i0=Z0:Ep==="rectangle"?i0=J0:Ep==="parabola"&&(i0=H0)),i0||(i0=J0),Tp=0;Tp<Mp;Tp++)w1=wp<Hp-1?up[Tp][wp+1].clone().sub(up[Tp][wp]):up[Tp][wp-1].clone().sub(up[Tp][wp]).negate(),S1=Tp<Mp-1?up[Tp+1][wp].clone().sub(up[Tp][wp]):up[Tp-1][wp].clone().sub(up[Tp][wp]).negate(),Qp[Tp]=S1.cross(w1).normalize().multiplyScalar(mp*i0[Tp]);for(Tp=0;Tp<Mp;Tp++)w0[Tp]=up[Tp][wp].clone().add(Qp[Tp].clone().negate());for(Tp=0;Tp<Mp;Tp++)m0[Tp]=up[Tp][wp].clone().add(Qp[Tp]);for($m=Zm.vertexArray,p1=Zm.colorArray,Cm=Zm.faceArray,bm=3*(wm=Zm.vertices),Tp=0;Tp<Mp;Tp++)$m[bm+3*Tp+0]=w0[Tp].x,$m[bm+3*Tp+1]=w0[Tp].y,$m[bm+3*Tp+2]=w0[Tp].z;for(Tp=0;Tp<Mp;Tp++)$m[bm+3*Tp+0+3*Mp]=m0[Mp-1-Tp].x,$m[bm+3*Tp+1+3*Mp]=m0[Mp-1-Tp].y,$m[bm+3*Tp+2+3*Mp]=m0[Mp-1-Tp].z;for(Tp=0;Tp<2*Mp;++Tp)p1[bm+3*Tp+0]=e1.r,p1[bm+3*Tp+1]=e1.g,p1[bm+3*Tp+2]=e1.b;if(wp>0&&!av){for(Tp=0;Tp<2*Mp;Tp++)Pm=[wm+y1[Tp][0],wm+y1[Tp][1],wm+y1[Tp][2],wm+y1[Tp][3]],Cm[Bm=Zm.faceidx]=Pm[0],Cm[Bm+1]=Pm[1],Cm[Bm+2]=Pm[3],Cm[Bm+3]=Pm[1],Cm[Bm+4]=Pm[2],Cm[Bm+5]=Pm[3],Zm.faceidx+=6;if(Im.clickable||Im.hoverable){var Ym=[];for(Tp in Ym.push(new _.Triangle(B0[0],w0[0],w0[Mp-1])),Ym.push(new _.Triangle(B0[0],w0[Mp-1],B0[Mp-1])),Ym.push(new _.Triangle(B0[Mp-1],w0[Mp-1],m0[Mp-1])),Ym.push(new _.Triangle(B0[Mp-1],m0[Mp-1],q0[Mp-1])),Ym.push(new _.Triangle(m0[0],q0[0],q0[Mp-1])),Ym.push(new _.Triangle(m0[Mp-1],m0[0],q0[Mp-1])),Ym.push(new _.Triangle(w0[0],B0[0],q0[0])),Ym.push(new _.Triangle(m0[0],w0[0],q0[0])),Ym)Im.intersectionShape.triangle.push(Ym[Tp])}}Zm.vertices+=2*Mp}for($m=Zm.vertexArray,p1=Zm.colorArray,Cm=Zm.faceArray,bm=3*(wm=Zm.vertices),Bm=Zm.faceidx,wp=0;wp<Mp-1;wp++)Pm=[wp,wp+1,2*Mp-2-wp,2*Mp-1-wp],Cm[Bm=Zm.faceidx]=Pm[0],Cm[Bm+1]=Pm[1],Cm[Bm+2]=Pm[3],Cm[Bm+3]=Pm[1],Cm[Bm+4]=Pm[2],Cm[Bm+5]=Pm[3],Zm.faceidx+=6;for(wp=0;wp<Mp-1;wp++)Pm=[wm-1-wp,wm-2-wp,wm-2*Mp+wp+1,wm-2*Mp+wp],Cm[Bm=Zm.faceidx]=Pm[0],Cm[Bm+1]=Pm[1],Cm[Bm+2]=Pm[3],Cm[Bm+3]=Pm[1],Cm[Bm+4]=Pm[2],Cm[Bm+5]=Pm[3],Zm.faceidx+=6}(c0,_t,wl,zl,Vl,0,Du)}function Zl(c0){return c0&&c0.elem==="C"&&c0.atom==="CA"}function Ju(c0,_t){if(c0&&_t&&c0.chain===_t.chain){if(!(c0.hetflag||_t.hetflag||c0.reschain!==_t.reschain||c0.resi!==_t.resi&&c0.resi!==_t.resi-1))return!0;if(c0.resi<_t.resi){var wl=c0.x-_t.x,zl=c0.y-_t.y,Vl=c0.z-_t.z,tp=wl*wl+zl*zl+Vl*Vl;if(c0.atom=="CA"&&_t.atom=="CA"&&tp<16||(c0.atom=="P"||_t.atom=="P")&&tp<64)return!0}}return!1}function Uu(c0,_t,wl,zl,Vl){if(_t!=null&&_t.vertices!=0){Vl&&(_t.initTypedArrays(),_t.setUpNormals());var tp=new b.MeshDoubleLambertMaterial;tp.vertexColors=b.Coloring.FaceColors,typeof wl=="number"&&wl>=0&&wl<1&&(tp.transparent=!0,tp.opacity=wl),tp.outline=zl;var Du=new b.Mesh(_t,tp);c0.add(Du)}}function fp(c0,_t,wl,zl,Vl,tp,Du,lp,up){var _d,gp,mp,Rp,Ep,wp;if(zl&&Vl&&Du){var Tp=Vl.sub(zl);Tp.normalize();var Mp=lp[up];for(gp=up+1;gp<lp.length&&(Mp=lp[gp]).atom!=Du.atom;gp++);if((Mp=Mp?new $.Vector3(Mp.x,Mp.y,Mp.z):new $.Vector3(0,0,0)).sub(zl),Du.ss==="arrow start"){var Hp=Mp.clone().multiplyScalar(.3).cross(Vl);zl.add(Hp);var Qp=Mp.clone().cross(Tp).normalize();Tp.rotateAboutVector(Qp,.43)}for(Du.style.cartoon.ribbon?_d=Du.style.cartoon.thickness||_u:Du.style.cartoon.width?_d=Du.style.cartoon.width:Du.ss==="c"?_d=Du.atom==="P"?Nl:xl:Du.ss==="arrow start"?(_d=Ll,Ep=!0):_d=Du.ss==="arrow end"||Du.ss==="h"&&Du.style.cartoon.tubes||Du.ss==="tube start"?xl:Ll,tp!=null&&Tp.dot(tp)<0&&Tp.negate(),Tp.multiplyScalar(_d),gp=0;gp<_t;gp++)mp=2*gp/(_t-1)-1,(Rp=new $.Vector3(zl.x+mp*Tp.x,zl.y+mp*Tp.y,zl.z+mp*Tp.z)).atom=Du,Du.ss==="s"&&(Rp.smoothen=!0),c0[gp].push(Rp);if(Ep)for(Tp.multiplyScalar(2),gp=0;gp<_t;gp++)mp=2*gp/(_t-1)-1,(Rp=new $.Vector3(zl.x+mp*Tp.x,zl.y+mp*Tp.y,zl.z+mp*Tp.z)).atom=Du,Rp.smoothen=!1,Rp.skip=!0,c0[gp].push(Rp);return wp=Du.style.cartoon.style||"default",c0.style?c0.style!=wp&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),c0.style="default"):c0.style=wp,Du.ss!=="arrow start"&&Du.ss!=="arrow end"||(Du.ss="s"),Ep}}const Zu={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},Lp={DA:!0,DG:!0,A:!0,G:!0},Np={DT:!0,DC:!0,U:!0,C:!0,T:!0},zp={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function h0(c0,_t,wl,zl=10){let Vl=zl,tp=zl;var Du,lp,up,_d,gp,mp,Rp,Ep,wp,Tp,Mp,Hp,Qp,i0,w0,m0,B0,q0,Z0=new b.Geometry(!0),J0=new b.Geometry(!0),H0=[],wm=[],bm=1,Bm=!1,Im={};for(var e1 in rt.Gradient.builtinGradients)rt.Gradient.builtinGradients.hasOwnProperty(e1)&&(Im[e1]=new rt.Gradient.builtinGradients[e1](wl[1],wl[0]));var n1=function(U1,Sv){return wl&&Sv.color==="spectrum"?Sv.colorscheme in Im?Im[Sv.colorscheme].valueToHex(U1.resi):Im.sinebow.valueToHex(U1.resi):(0,nt.getColorFromStyle)(U1,Sv).getHex()};for(Ep=0;Ep<Vl;Ep++)wm[Ep]=[];var $m=!1,p1=!1,Cm=[];for(Ep in _t){if((_d=_t[Ep]).elem==="C"&&_d.atom==="CA"){var Pm=Ju(up,_d);Pm&&_d.ss==="s"?$m=!0:$m&&(up&&lp&&up.style.cartoon.arrows&&lp.style.cartoon.arrows&&(up.ss="arrow end",lp.ss="arrow start"),$m=!1),Pm&&(up.ss==="h"||up.ss=="tube start")&&up.style.cartoon.tubes?!p1&&up.ss!="tube start"&&_d.style.cartoon.tubes&&(_d.ss="tube start",p1=!0):p1&&(up.ss==="tube start"?up.ss="tube end":lp&&lp.style.cartoon.tubes&&(lp.ss="tube end"),p1=!1),lp=up,up=_d}_d&&_d.atom in Zu&&Cm.push(_d)}p1&&up.style.cartoon.tubes&&(up.ss="tube end",p1=!1);var y1=function(U1){wm[0].length>0&&Dl(J0,wm,H0,tp,Rp,0,wm.style);var Sv=[],Uv=null;if(U1){for(Ep=0;Ep<Vl;Ep++)Sv[Ep]=wm[Ep][wm[Ep].length-1];Uv=H0[H0.length-1]}for(wm=[],Ep=0;Ep<Vl;Ep++)wm[Ep]=[];if(H0=[],U1){for(Ep=0;Ep<Vl;Ep++)wm[Ep].push(Sv[Ep]);H0.push(Uv)}Uu(c0,J0,bm,Bm,!0),Uu(c0,Z0,bm,Bm,!1),J0=new b.Geometry(!0),Z0=new b.Geometry(!0)};up=void 0;let Zm=[];for(var w1=0;w1<Cm.length;w1++){var S1=(_d=Cm[w1]).resn.trim(),Ym=S1 in zp;if(bm=1,Du=_d.style.cartoon,up&&up.style.cartoon&&(bm=up.style.cartoon.opacity),up&&up.style.cartoon&&up.style.cartoon.outline&&(Bm=up.style.cartoon.outline),!up||!up.style.cartoon||_d.style.cartoon&&up.style.cartoon.opacity==_d.style.cartoon.opacity||y1(up.chain==_d.chain),up&&_d&&!Ju(up,_d)&&up.chain&&up.chain==_d.chain&&!up.hetflag&&!_d.hetflag&&up.reschain+1==_d.reschain&&Zm.push([up,_d]),Du.style==="trace"){if(!_d.hetflag&&(_d.elem==="C"&&_d.atom==="CA"||Ym&&_d.atom==="P"||_d.atom==="BB")){if(mp=n1(_d,Du),Rp=(0,nt.isNumeric)(Du.thickness)?Du.thickness:_u,Ju(up,_d))if(mp==gp){var P1=j.CC.color(mp);d.drawCylinder(Z0,up,_d,Rp,P1,2,2)}else{var av=new $.Vector3().addVectors(up,_d).multiplyScalar(.5),T1=j.CC.color(gp),t1=j.CC.color(mp);d.drawCylinder(Z0,up,av,Rp,T1,2,0),d.drawCylinder(Z0,av,_d,Rp,t1,0,2)}if((_d.clickable===!0||_d.hoverable)&&_d.intersectionShape!==void 0){var gv=new $.Vector3(_d.x,_d.y,_d.z);_d.intersectionShape.sphere.push(new _.Sphere(gv,Rp))}up=_d,gp=mp}}else{if(Zl(_d)||Ym&&(_d.atom==="P"||_d.atom.indexOf("O5")==0)){if(q0)if(_d.ss==="tube end")q0=!1,B0=new $.Vector3(_d.x,_d.y,_d.z),d.drawCylinder(Z0,m0,B0,2,j.CC.color(gp),1,1),_d.ss="h";else{if(up.chain==_d.chain&&up.ss!=="tube end")continue;q0=!1,up.ss="h",B0=new $.Vector3(up.x,up.y,up.z),d.drawCylinder(Z0,m0,B0,2,j.CC.color(gp),1,1)}if(up&&(!Ju(up,_d)||up.ss==="tube start")){for(up.ss==="tube start"&&(q0=!0,m0=new $.Vector3(up.x,up.y,up.z),up.ss="h"),w0&&(i0=Hp?new $.Vector3().addVectors(up,Hp).multiplyScalar(.5):new $.Vector3(up.x,up.y,up.z),d.drawCylinder(Z0,i0,w0,Yl,j.CC.color(w0.color),0,2),fp(wm,Vl,!0,Hp,Qp,Mp,up,Cm,w1),H0.push(mp),i0=null,w0=null),wm[0].length>0&&Dl(J0,wm,H0,tp,Rp,0,wm.style),wm=[],Ep=0;Ep<Vl;Ep++)wm[Ep]=[];H0=[]}if(up===void 0||up.rescode!=_d.rescode||up.resi!=_d.resi){if(w0&&up!=null){var K1=(i0=new $.Vector3().addVectors(up,_d).multiplyScalar(.5)).clone().sub(w0).multiplyScalar(.02);i0.add(K1),d.drawCylinder(Z0,i0,w0,Yl,j.CC.color(w0.color),0,2),i0=null,w0=null}mp=n1(_d,Du),H0.push(mp),Rp=(0,nt.isNumeric)(Du.thickness)?Du.thickness:_u,up=_d,(wp=new $.Vector3(up.x,up.y,up.z)).resi=up.resi,gp=mp}_d.clickable!==!0&&_d.hoverable!==!0||_d.intersectionShape!==void 0&&_d.intersectionShape.triangle!==void 0||(_d.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else up!=null&&(Zl(up)&&_d.atom==="O"||Ym&&up.atom==="P"&&(_d.atom==="OP2"||_d.atom==="O2P")||Ym&&up.atom.indexOf("O5")==0&&_d.atom.indexOf("C5")==0)?((Tp=new $.Vector3(_d.x,_d.y,_d.z)).resi=_d.resi,_d.atom!=="OP2"&&_d.atom!=="O2P"||(Qp=new $.Vector3(_d.x,_d.y,_d.z))):Ym&&_d.atom.indexOf("O3")==0?Hp=new $.Vector3(_d.x,_d.y,_d.z):(_d.atom==="N1"&&S1 in Lp||_d.atom==="N3"&&S1 in Np)&&((w0=new $.Vector3(_d.x,_d.y,_d.z)).color=(0,nt.getColorFromStyle)(_d,Du).getHex());Tp&&wp&&Tp.resi===wp.resi&&(fp(wm,Vl,!0,wp,Tp,Mp,up,Cm,w1),Mp=Tp,wp=null,Tp=null,H0.push(mp))}}w0&&(i0=Hp?new $.Vector3().addVectors(up,Hp).multiplyScalar(.5):new $.Vector3(up.x,up.y,up.z),d.drawCylinder(Z0,i0,w0,Yl,j.CC.color(w0.color),0,2),fp(wm,Vl,!0,Hp,Qp,Mp,up,Cm,w1),H0.push(mp)),y1(!1);var sv=function(U1,Sv){if(U1.style.cartoon.gapcutoff&&U1.style.cartoon.gapcutoff==Sv.style.cartoon.gapcutoff){let vy=U1.style.cartoon.gapcutoff,py=Sv.resi-U1.resi;if(py>0&&py<vy){let Hy=.25,Ry=Sv.x-U1.x,Zv=Sv.y-U1.y,Yy=Sv.z-U1.z,Ey=Math.sqrt(Ry*Ry+Zv*Zv+Yy*Yy),Fy=Ey/(2*py),Gy=new $.Vector3(U1.x,U1.y,U1.z),a2=Ey/Fy,Jy=new $.Vector3((Sv.x-U1.x)/a2,(Sv.y-U1.y)/a2,(Sv.z-U1.z)/a2);Gy.add({x:Jy.x/2,y:Jy.y/2,z:Jy.z/2});let v2=Gy.clone().add(Jy);Jy.multiplyScalar(2);let ty=(0,nt.extend)({},U1);for(var Uv=0;Uv<py;Uv++){ty.resi+=1;let Cy=n1(ty,ty.style.cartoon);d.drawCylinder(Z0,Gy,v2,Hy,j.CC.color(Cy),c.FLAT,c.FLAT),Gy.add(Jy),v2.add(Jy)}y1(!1)}}};for(let U1 of Zm)sv(U1[0],U1[1])}var k0=a(797),D0=a(865),s0=a(392);function dp(c0,_t){for(var wl=[[]],zl=(_t=_t||{}).assignBonds===void 0||_t.assignBonds,Vl=c0.trimStart().split(/\r?\n|\r/);Vl.length>0&&!(Vl.length<3);){var tp=parseInt(Vl[0]);if(isNaN(tp)||tp<=0||Vl.length<tp+2)break;var Du=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi.exec(Vl[1]);if(Du!=null&&Du.length>1){var lp=new Float32Array(Du[1].split(/\s+/)),up=new b.Matrix3(lp[0],lp[3],lp[6],lp[1],lp[4],lp[7],lp[2],lp[5],lp[8]);wl.modelData=[{cryst:{matrix:up}}]}for(var _d=2,gp=wl[wl.length-1].length,mp=gp+tp,Rp=gp;Rp<mp;Rp++){var Ep=Vl[_d++].trim().split(/\s+/),wp={};wp.serial=Rp;var Tp=Ep[0];wp.atom=wp.elem=Tp[0].toUpperCase()+Tp.substring(1,2).toLowerCase(),wp.x=parseFloat(Ep[1]),wp.y=parseFloat(Ep[2]),wp.z=parseFloat(Ep[3]),wp.hetflag=!0,wp.bonds=[],wp.bondOrder=[],wp.properties={},wl[wl.length-1][Rp]=wp,Ep.length>=7&&(wp.dx=parseFloat(Ep[4]),wp.dy=parseFloat(Ep[5]),wp.dz=parseFloat(Ep[6]))}if(!_t.multimodel)break;wl.push([]),Vl.splice(0,_d)}if(zl)for(let Hp=0;Hp<wl.length;Hp++)(0,s0.assignBonds)(wl[Hp],_t);if(_t.onemol){var Mp=wl;(wl=[]).push(Mp[0]);for(let Hp=1;Hp<Mp.length;Hp++){let Qp=wl[0].length;for(let i0=0;i0<Mp[Hp].length;i0++){let w0=Mp[Hp][i0];for(let m0=0;m0<w0.bonds.length;m0++)w0.bonds[m0]=w0.bonds[m0]+Qp;w0.index=wl[0].length,w0.serial=wl[0].length,wl[0].push(w0)}}}return wl}function S0(c0,_t){var wl="V2000",zl=c0.split(/\r?\n|\r/);return zl.length>3&&zl[3].length>38&&(wl=zl[3].substring(34,39)),wl==="V2000"?function(Vl,tp){var Du=[[]],lp=!1;for(tp.keepH!==void 0&&(lp=!tp.keepH);Vl.length>0&&!(Vl.length<4);){var up=parseInt(Vl[3].substring(0,3));if(isNaN(up)||up<=0)break;var _d=parseInt(Vl[3].substring(3,6)),gp=4;if(Vl.length<4+up+_d)break;var mp,Rp,Ep=[],wp=Du[Du.length-1].length,Tp=wp+up;for(mp=wp;mp<Tp;mp++,gp++){var Mp={},Hp=(Rp=Vl[gp]).substring(31,34).replace(/ /g,"");Mp.atom=Mp.elem=Hp[0].toUpperCase()+Hp.substring(1).toLowerCase(),Mp.elem==="H"&&lp||(Mp.serial=mp,Ep[mp]=Du[Du.length-1].length,Mp.x=parseFloat(Rp.substring(0,10)),Mp.y=parseFloat(Rp.substring(10,20)),Mp.z=parseFloat(Rp.substring(20,30)),Mp.hetflag=!0,Mp.bonds=[],Mp.bondOrder=[],Mp.properties={},Mp.index=Du[Du.length-1].length,Du[Du.length-1].push(Mp))}for(mp=0;mp<_d;mp++,gp++){Rp=Vl[gp];var Qp=Ep[parseInt(Rp.substring(0,3))-1+wp],i0=Ep[parseInt(Rp.substring(3,6))-1+wp],w0=parseFloat(Rp.substring(6));Qp!==void 0&&i0!==void 0&&(Du[Du.length-1][Qp].bonds.push(i0),Du[Du.length-1][Qp].bondOrder.push(w0),Du[Du.length-1][i0].bonds.push(Qp),Du[Du.length-1][i0].bondOrder.push(w0))}if(!tp.multimodel)break;for(tp.onemol||Du.push([]);Vl[gp]!=="$$$$"&&gp<Vl.length;)gp++;Vl.splice(0,++gp)}return Du}(zl,_t):wl==="V3000"?function(Vl,tp){var Du=[[]],lp=!1;for(tp.keepH!==void 0&&(lp=!tp.keepH);Vl.length>0&&!(Vl.length<8)&&Vl[4].startsWith("M  V30 BEGIN CTAB")&&Vl[5].startsWith("M  V30 COUNTS")&&!(Vl[5].length<14);){var up=Vl[5].substring(13).match(/\S+/g);if(up.length<2)break;var _d=parseInt(up[0]);if(isNaN(_d)||_d<=0)break;var gp=parseInt(up[1]),mp=7;if(Vl.length<8+_d+gp)break;var Rp,Ep=[],wp=Du[Du.length-1].length,Tp=wp+_d;for(Rp=wp;Rp<Tp;Rp++,mp++){var Mp=Vl[mp].substring(6).match(/\S+/g);if(Mp.length>4){var Hp={},Qp=Mp[1].replace(/ /g,"");Hp.atom=Hp.elem=Qp[0].toUpperCase()+Qp.substring(1).toLowerCase(),Hp.elem==="H"&&lp||(Hp.serial=Rp,Ep[Rp]=Du[Du.length-1].length,Hp.x=parseFloat(Mp[2]),Hp.y=parseFloat(Mp[3]),Hp.z=parseFloat(Mp[4]),Hp.hetflag=!0,Hp.bonds=[],Hp.bondOrder=[],Hp.properties={},Hp.index=Du[Du.length-1].length,Du[Du.length-1].push(Hp))}}if(Vl[mp]!=="M  V30 END ATOM"||(mp++,gp===0||Vl[mp]!=="M  V30 BEGIN BOND"))break;for(mp++,Rp=0;Rp<gp;Rp++,mp++){var i0=Vl[mp].substring(6).match(/\S+/g);if(i0.length>3){var w0=Ep[parseInt(i0[2])-1+wp],m0=Ep[parseInt(i0[3])-1+wp],B0=parseFloat(i0[1]);w0!==void 0&&m0!==void 0&&(Du[Du.length-1][w0].bonds.push(m0),Du[Du.length-1][w0].bondOrder.push(B0),Du[Du.length-1][m0].bonds.push(w0),Du[Du.length-1][m0].bondOrder.push(B0))}}if(!tp.multimodel)break;for(tp.onemol||Du.push([]);Vl[mp]!=="$$$$"&&mp<Vl.length;)mp++;Vl.splice(0,++mp)}return Du}(zl,_t):[[""]]}function l0(c0,_t){var wl=[[]];typeof c0=="string"&&(c0=JSON.parse(c0));for(var zl=c0.m,Vl=zl[0].a,tp=zl[0].b,Du=zl[0].s,lp=_t!==void 0&&_t.parseStyle!==void 0?_t.parseStyle:Du!==void 0,up=wl[wl.length-1].length,_d=0;_d<Vl.length;_d++){var gp=Vl[_d],mp={};mp.id=gp.i,mp.x=gp.x,mp.y=gp.y,mp.z=gp.z||0,mp.bonds=[],mp.bondOrder=[];var Rp=gp.l||"C";mp.elem=Rp[0].toUpperCase()+Rp.substring(1).toLowerCase(),mp.serial=wl[wl.length-1].length,lp&&(mp.style=Du[gp.s||0]),wl[wl.length-1].push(mp)}for(let Ep=0;Ep<tp.length;Ep++){let wp=tp[Ep],Tp=wp.b+up,Mp=wp.e+up,Hp=wp.o||1,Qp=wl[wl.length-1][Tp],i0=wl[wl.length-1][Mp];Qp.bonds.push(Mp),Qp.bondOrder.push(Hp),i0.bonds.push(Tp),i0.bondOrder.push(Hp)}return wl}function Op(c0,_t){(function(_d,gp){const mp=gp||3.2,Rp=mp*mp,Ep=[];for(let wp=0,Tp=_d.length;wp<Tp;wp++){_d[wp].index=wp;const Mp=_d[wp];Mp.hetflag||Mp.atom!=="N"&&Mp.atom!=="O"||(Ep.push(Mp),Mp.hbondOther=null,Mp.hbondDistanceSq=Number.POSITIVE_INFINITY)}Ep.sort(function(wp,Tp){return wp.z-Tp.z});for(let wp=0,Tp=Ep.length;wp<Tp;wp++){const Mp=Ep[wp];for(let Hp=wp+1;Hp<Tp;Hp++){const Qp=Ep[Hp],i0=Qp.z-Mp.z;if(i0>mp)break;if(Qp.atom==Mp.atom)continue;const w0=Math.abs(Qp.y-Mp.y);if(w0>mp)continue;const m0=Math.abs(Qp.x-Mp.x);if(m0>mp)continue;const B0=m0*m0+w0*w0+i0*i0;B0>Rp||Qp.chain==Mp.chain&&Math.abs(Qp.resi-Mp.resi)<4||(B0<Mp.hbondDistanceSq&&(Mp.hbondOther=Qp,Mp.hbondDistanceSq=B0),B0<Qp.hbondDistanceSq&&(Qp.hbondOther=Mp,Qp.hbondDistanceSq=B0))}}})(c0,_t);const wl={};let zl,Vl,tp,Du,lp,up;for(zl=0,Vl=c0.length;zl<Vl;zl++)if(lp=c0[zl],wl[lp.chain]===void 0&&(wl[lp.chain]=[]),isFinite(lp.hbondDistanceSq)){const _d=lp.hbondOther;wl[_d.chain]===void 0&&(wl[_d.chain]=[]),Math.abs(_d.resi-lp.resi)===4&&(wl[lp.chain][lp.resi]="h")}for(tp in wl)for(Du=1;Du<wl[tp].length-1;Du++){const _d=wl[tp][Du-1],gp=wl[tp][Du+1];up=wl[tp][Du],_d=="h"&&_d==gp&&up!=_d&&(wl[tp][Du]=_d)}for(zl=0,Vl=c0.length;zl<Vl;zl++)lp=c0[zl],isFinite(lp.hbondDistanceSq)&&wl[lp.chain][lp.resi]!="h"&&lp.ss!=="h"&&(wl[lp.chain][lp.resi]="maybesheet");for(let _d=0,gp=c0.length;_d<gp;_d++)if(lp=c0[_d],isFinite(lp.hbondDistanceSq)&&wl[lp.chain][lp.resi]=="maybesheet"){let mp=lp.hbondOther,Rp=wl[mp.chain][mp.resi];Rp!="maybesheet"&&Rp!="s"||(wl[lp.chain][lp.resi]="s",wl[mp.chain][mp.resi]="s")}for(let _d in wl){for(let gp=1;gp<wl[_d].length-1;gp++){const mp=wl[_d][gp-1],Rp=wl[_d][gp+1];up=wl[_d][gp],mp=="s"&&mp==Rp&&up!=mp&&(wl[_d][gp]=mp)}for(let gp=0;gp<wl[_d].length;gp++){const mp=wl[_d][gp];mp!="h"&&mp!="s"||wl[_d][gp-1]!=mp&&wl[_d][gp+1]!=mp&&delete wl[_d][gp]}}for(zl=0,Vl=c0.length;zl<Vl;zl++)lp=c0[zl],up=wl[lp.chain][lp.resi],delete lp.hbondOther,delete lp.hbondDistanceSq,up!==void 0&&up!=="maybesheet"&&(lp.ss=up,wl[lp.chain][lp.resi-1]!=up&&(lp.ssbegin=!0),wl[lp.chain][lp.resi+1]!=up&&(lp.ssend=!0))}function Wp(c0,_t,wl,zl){const Vl=!wl.duplicateAssemblyAtoms,tp=_t.length;let Du=tp,lp=-1,up=null,_d=null;(wl.normalizeAssembly||wl.wrapAtoms)&&zl&&(up=(0,b.conversionMatrix3)(zl.a,zl.b,zl.c,zl.alpha,zl.beta,zl.gamma),_d=new b.Matrix3,_d.getInverse3(up));let gp=function(Ep){let wp=Ep.clone().applyMatrix3(_d);const Tp=[wp.x,wp.y,wp.z],Mp=[0,0,0];for(let Qp=0;Qp<3;Qp++){for(;Tp[Qp]<-.001;)Tp[Qp]+=1,Mp[Qp]+=1;for(;Tp[Qp]>1.001;)Tp[Qp]-=1,Mp[Qp]-=1}const Hp=new b.Vector3(Mp[0],Mp[1],Mp[2]);return Hp.applyMatrix3(up),Hp};if(wl.normalizeAssembly&&zl)for(let Ep=0;Ep<c0.length;Ep++){const wp=new b.Vector3(0,0,0);for(let Mp=0;Mp<tp;Mp++){const Hp=new b.Vector3(_t[Mp].x,_t[Mp].y,_t[Mp].z);Hp.applyMatrix4(c0[Ep]),wp.add(Hp)}wp.divideScalar(tp);const Tp=gp(wp);c0[Ep].isNearlyIdentity()&&Tp.lengthSq()>.001&&(lp=Ep),c0[Ep].translate(Tp)}if(Vl){if(c0.length>1)for(let Ep=0;Ep<_t.length;Ep++){var mp=[];for(let wp=0;wp<c0.length;wp++)if(!c0[wp].isNearlyIdentity()){var Rp=new b.Vector3;Rp.set(_t[Ep].x,_t[Ep].y,_t[Ep].z),Rp.applyMatrix4(c0[wp]),mp.push(Rp)}_t[Ep].symmetries=mp}}else{for(let Ep=0;Ep<tp;Ep++)_t[Ep].sym=-1;for(let Ep=0;Ep<c0.length;Ep++)if(c0[Ep].isNearlyIdentity()||lp==Ep)for(let wp=0;wp<tp;wp++)_t[wp].sym=Ep;else{let wp=new b.Vector3;for(let Tp=0;Tp<tp;Tp++){const Mp=[];for(let Qp=0;Qp<_t[Tp].bonds.length;Qp++)Mp.push(_t[Tp].bonds[Qp]+Du);if(wp.set(_t[Tp].x,_t[Tp].y,_t[Tp].z),wp.applyMatrix4(c0[Ep]),wl.wrapAtoms&&zl){let Qp=gp(wp);wp.add(Qp)}const Hp={};for(const Qp in _t[Tp])Hp[Qp]=_t[Tp][Qp];Hp.x=wp.x,Hp.y=wp.y,Hp.z=wp.z,Hp.bonds=Mp,Hp.sym=Ep,Hp.index=_t.length,_t.push(Hp)}Du=_t.length}if(wl.wrapAtoms&&zl){let Ep=new b.Vector3;for(let wp=0;wp<tp;wp++){Ep.set(_t[wp].x,_t[wp].y,_t[wp].z);let Tp=gp(Ep);Ep.add(Tp),_t[wp].x=Ep.x,_t[wp].y=Ep.y,_t[wp].z=Ep.z}}if(lp>=0){const Ep=new b.Vector3;for(let wp=0;wp<tp;wp++)Ep.set(_t[wp].x,_t[wp].y,_t[wp].z),Ep.applyMatrix4(c0[lp]),_t[wp].x=Ep.x,_t[wp].y=Ep.y,_t[wp].z=Ep.z}c0.length=0}}var mm=a(408);const fm=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"]);function g0(c0,_t){const wl=[],zl=[];for(let lp=0,up=c0.length;lp<up;lp++){const _d=c0[lp];_d.index=lp,_d.hetflag||!fm.has(_d.resn)?zl.push(_d):wl.push(_d)}(0,s0.assignBonds)(zl,_t),wl.sort(function(lp,up){return lp.chain!==up.chain?lp.chain<up.chain?-1:1:lp.resi-up.resi});let Vl,tp=-1,Du=-1;for(let lp=0,up=wl.length;lp<up;lp++){const _d=wl[lp];_d.resi!==tp&&(tp=_d.resi,Vl||Du++,Vl=!1),_d.reschain=Du;for(let gp=lp+1;gp<wl.length;gp++){const mp=wl[gp];if(mp.chain!==_d.chain||mp.resi-_d.resi>1)break;(0,mm.areConnected)(_d,mp,_t)&&(_d.bonds.indexOf(mp.index)===-1&&(_d.bonds.push(mp.index),_d.bondOrder.push(1),mp.bonds.push(_d.index),mp.bondOrder.push(1)),_d.resi!==mp.resi&&(Vl=!0))}}}const e0=function(c0,_t,wl,zl){return new b.Vector3(_t,wl,zl).applyMatrix3(c0)};function V0(c0,_t={}){const wl=[],zl=!_t.doAssembly,Vl=wl.modelData=[],tp=_t.assignBonds===void 0||_t.assignBonds;function Du(Rp,Ep){const wp=[];let Tp=0,Mp=0;for(;Mp<Rp.length;){for(;Rp.substring(Mp,Mp+Ep.length)!==Ep&&Mp<Rp.length;)if(Rp[Mp]==="'"){for(Mp++;Mp<Rp.length&&Rp[Mp]!=="'";)Mp++;for(;Rp.substring(Mp,Mp+Ep.length)!==Ep&&Mp<Rp.length;)Mp++}else if(Rp[Mp]==='"'){for(Mp++;Mp<Rp.length&&Rp[Mp]!=='"';)Mp++;Mp++}else Mp++;wp.push(Rp.substring(Tp,Mp)),Tp=Mp+=Ep.length}return wp}const lp=c0.split(/\r?\n|\r/),up=[];let _d=!1;for(let Rp=0;Rp<lp.length;Rp++){var gp=lp[Rp].split("#")[0];if(_d?gp[0]===";"&&(_d=!1):gp[0]===";"&&(_d=!0),_d||gp!==""){if(!_d&&(gp=gp.trim())[0]==="_"){const Ep=gp.split(/\s/)[0].indexOf(".");if(Ep>-1){let wp=gp.split("");wp[Ep]="_",gp=(gp=wp.join("")).substring(0,Ep)+"_"+gp.substring(Ep+1)}}up.push(gp)}}let mp=0;for(;mp<up.length;){for(;!up[mp].startsWith("data_")||up[mp]==="data_global";)mp++;mp++;const Rp={};for(;mp<up.length&&!up[mp].startsWith("data_");)if(up[mp][0]===void 0)mp++;else if(up[mp][0]==="_"){const Mp=up[mp].split(/\s/)[0].toLowerCase(),Hp=Rp[Mp]=Rp[Mp]||[],Qp=up[mp].substring(up[mp].indexOf(Mp)+Mp.length);if(Qp==="")if(mp++,up[mp][0]===";"){let i0=up[mp].substring(1);for(mp++;up[mp]!==";";)i0=i0+`
`+up[mp],mp++;Hp.push(i0)}else Hp.push(up[mp]);else Hp.push(Qp.trim());mp++}else if(up[mp].substring(0,5)==="loop_"){mp++;const Mp=[];for(;up[mp]===""||up[mp][0]==="_";){if(up[mp]!==""){let Qp=up[mp].split(/\s/)[0].toLowerCase(),i0=Rp[Qp]=Rp[Qp]||[];Mp.push(i0)}mp++}let Hp=0;for(;mp<up.length&&up[mp][0]!=="_"&&!up[mp].startsWith("loop_")&&!up[mp].startsWith("data_");){let Qp=Du(up[mp]," ");for(let i0=0;i0<Qp.length;i0++)Qp[i0]!==""&&(Mp[Hp].push(Qp[i0]),Hp=(Hp+1)%Mp.length);mp++}}else mp++;Vl.push({symmetries:[]}),wl.push([]);const Ep=Rp._atom_site_id!==void 0?Rp._atom_site_id.length:Rp._atom_site_label.length;let wp;if(Rp._cell_length_a!==void 0){const Mp=parseFloat(Rp._cell_length_a),Hp=parseFloat(Rp._cell_length_b),Qp=parseFloat(Rp._cell_length_c),i0=parseFloat(Rp._cell_angle_alpha)||90,w0=parseFloat(Rp._cell_angle_beta)||90,m0=parseFloat(Rp._cell_angle_gamma)||90;wp=(0,b.conversionMatrix3)(Mp,Hp,Qp,i0,w0,m0),Vl[Vl.length-1].cryst={a:Mp,b:Hp,c:Qp,alpha:i0,beta:w0,gamma:m0}}for(let Mp=0;Mp<Ep;Mp++){if(Rp._atom_site_group_pdb!==void 0&&Rp._atom_site_group_pdb[Mp]==="TER")continue;const Hp={};if(Rp._atom_site_cartn_x!==void 0)Hp.x=parseFloat(Rp._atom_site_cartn_x[Mp]),Hp.y=parseFloat(Rp._atom_site_cartn_y[Mp]),Hp.z=parseFloat(Rp._atom_site_cartn_z[Mp]);else{const i0=e0(wp,parseFloat(Rp._atom_site_fract_x[Mp]),parseFloat(Rp._atom_site_fract_y[Mp]),parseFloat(Rp._atom_site_fract_z[Mp]));Hp.x=i0.x,Hp.y=i0.y,Hp.z=i0.z}Hp.chain=Rp._atom_site_auth_asym_id?Rp._atom_site_auth_asym_id[Mp]:Rp._atom_site_label_asym_id?Rp._atom_site_label_asym_id[Mp]:void 0,Hp.lchain=Rp._atom_site_label_asym_id?Rp._atom_site_label_asym_id[Mp]:void 0,Hp.resi=Rp._atom_site_auth_seq_id?parseInt(Rp._atom_site_auth_seq_id[Mp]):Rp._atom_site_label_seq_id?Rp._atom_site_label_seq_id[Mp]:void 0,Hp.resn=Rp._atom_site_auth_comp_id?Rp._atom_site_auth_comp_id[Mp].trim():Rp._atom_site_label_comp_id?Rp._atom_site_label_comp_id[Mp].trim():void 0,Hp.atom=Rp._atom_site_auth_atom_id?Rp._atom_site_auth_atom_id[Mp].replace(/"/gm,""):Rp._atom_site_label_atom_id?Rp._atom_site_label_atom_id[Mp].replace(/"/gm,""):void 0,Hp.hetflag=!Rp._atom_site_group_pdb||Rp._atom_site_group_pdb[Mp]==="HETA"||Rp._atom_site_group_pdb[Mp]==="HETATM",Rp._atom_site_b_iso_or_equiv&&(Hp.b=parseFloat(Rp._atom_site_b_iso_or_equiv[Mp]));let Qp="X";Rp._atom_site_type_symbol?Qp=Rp._atom_site_type_symbol[Mp].replace(/\(?\+?\d+.*/,""):Rp._atom_site_label&&(Qp=Rp._atom_site_label[Mp].split("_")[0].replace(/\(?\d+.*/,"")),Hp.elem=Qp[0].toUpperCase()+Qp.substring(1,2).toLowerCase(),Hp.bonds=[],Hp.ss="c",Hp.serial=Mp,Hp.bondOrder=[],Hp.properties={},wl[wl.length-1].push(Hp)}if(Rp._pdbx_struct_oper_list_id!==void 0&&!zl)for(let Mp=0;Mp<Rp._pdbx_struct_oper_list_id.length;Mp++){const Hp=parseFloat(Rp["_pdbx_struct_oper_list_matrix[1][1]"][Mp]),Qp=parseFloat(Rp["_pdbx_struct_oper_list_matrix[1][2]"][Mp]),i0=parseFloat(Rp["_pdbx_struct_oper_list_matrix[1][3]"][Mp]),w0=parseFloat(Rp["_pdbx_struct_oper_list_vector[1]"][Mp]),m0=parseFloat(Rp["_pdbx_struct_oper_list_matrix[2][1]"][Mp]),B0=parseFloat(Rp["_pdbx_struct_oper_list_matrix[2][2]"][Mp]),q0=parseFloat(Rp["_pdbx_struct_oper_list_matrix[2][3]"][Mp]),Z0=parseFloat(Rp["_pdbx_struct_oper_list_vector[2]"][Mp]),J0=parseFloat(Rp["_pdbx_struct_oper_list_matrix[3][1]"][Mp]),H0=parseFloat(Rp["_pdbx_struct_oper_list_matrix[3][2]"][Mp]),wm=parseFloat(Rp["_pdbx_struct_oper_list_matrix[3][3]"][Mp]),bm=parseFloat(Rp["_pdbx_struct_oper_list_vector[3]"][Mp]),Bm=new b.Matrix4(Hp,Qp,i0,w0,m0,B0,q0,Z0,J0,H0,wm,bm);Vl[Vl.length-1].symmetries.push(Bm)}const Tp=function(Mp){const Hp=Mp.match("-"),Qp=(Mp=Mp.replace(/[-xyz]/g,"")).split("/");let i0,w0;return w0=Qp[1]===void 0?1:parseInt(Qp[1]),i0=Qp[0]===""?1:parseInt(Qp[0]),i0/w0*(Hp?-1:1)};if(Rp._symmetry_equiv_pos_as_xyz!==void 0&&!zl)for(let Mp=0;Mp<Rp._symmetry_equiv_pos_as_xyz.length;Mp++){const Hp=Rp._symmetry_equiv_pos_as_xyz[Mp].replace(/["' ]/g,"").split(",").map(function(m0){return m0.replace(/-/g,"+-")});let Qp=new b.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let m0=0;m0<3;m0++){const B0=Hp[m0].split("+");for(let q0=0;q0<B0.length;q0++){const Z0=B0[q0];if(Z0==="")continue;const J0=Tp(Z0);Z0.match("x")?Qp.elements[m0+0]=J0:Z0.match("y")?Qp.elements[m0+4]=J0:Z0.match("z")?Qp.elements[m0+8]=J0:Qp.elements[m0+12]=J0}}const i0=wp.getMatrix4(),w0=new b.Matrix4().getInverse(i0,!0);Qp=new b.Matrix4().multiplyMatrices(Qp,w0),Qp=new b.Matrix4().multiplyMatrices(i0,Qp),Vl[Vl.length-1].symmetries.push(Qp)}}for(let Rp=0;Rp<wl.length;Rp++)!tp||_t.duplicateAssemblyAtoms&&!_t.dontConnectDuplicatedAtoms||g0(wl[Rp],_t),Op(wl[Rp],_t.hbondCutoff),Wp(Vl[Rp].symmetries,wl[Rp],_t,Vl[Rp].cryst),_t.duplicateAssemblyAtoms&&!_t.dontConnectDuplicatedAtoms&&tp&&g0(wl[Rp],_t);return wl}let ym={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function Am(c0,_t){var wl=[[]],zl=!1;_t.keepH!==void 0&&(zl=!_t.keepH);var Vl=c0.search(/@<TRIPOS>MOLECULE/),tp=c0.search(/@<TRIPOS>ATOM/);if(Vl==-1||tp==-1)return wl;for(var Du=c0.substring(Vl).split(/\r?\n|\r/);Du.length>0;){var lp=[],up=Du[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),_d=parseInt(up[0]),gp=0;up.length>1&&(gp=parseInt(up[1]));var mp,Rp=4;for(mp=3;mp<Du.length;mp++)if(Du[mp]=="@<TRIPOS>ATOM"){Rp=mp+1;break}var Ep=wl[wl.length-1].length,wp=Ep+_d;for(mp=Ep;mp<wp;mp++){var Tp={},Mp=(up=Du[Rp++].replace(/^\s+/,"").replace(/\s+/g," ").split(" "))[5];if(Mp=ym[Mp]!==void 0?ym[Mp]:(Mp=Mp.split(".")[0])[0].toUpperCase()+Mp.substring(1).toLowerCase(),Tp.atom=up[1],Tp.elem=Mp,!(Tp.elem=="H"&&zl)){var Hp=wl[wl.length-1].length,Qp=parseInt(up[0]);Tp.serial=Qp,Tp.x=parseFloat(up[2]),Tp.y=parseFloat(up[3]),Tp.z=parseFloat(up[4]),Tp.atom=up[5];var i0=parseFloat(up[8]);Tp.index=Hp,Tp.bonds=[],Tp.bondOrder=[],Tp.properties={charge:i0,partialCharge:i0},lp[Qp]=Hp,wl[wl.length-1].push(Tp)}}for(var w0=!1;Rp<Du.length;)if(Du[Rp++]=="@<TRIPOS>BOND"){w0=!0;break}if(w0&&gp)for(mp=0;mp<gp;mp++){up=Du[Rp++].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var m0=parseInt(up[1]),B0=wl[wl.length-1][lp[m0]],q0=parseInt(up[2]),Z0=wl[wl.length-1][lp[q0]],J0=parseInt(up[3]);isNaN(J0)&&(J0=1),B0!==void 0&&Z0!==void 0&&(B0.bonds.push(lp[q0]),B0.bondOrder.push(J0),Z0.bonds.push(lp[m0]),Z0.bondOrder.push(J0))}if(!_t.multimodel)break;_t.onemol||wl.push([]),Du.splice(0,Rp),c0=Du.join(`
`)}return wl}var am=a(40);function Rm(c0,_t){let wl=c0.replace(/ /g,"");return wl.length>0&&wl[0]==="H"&&wl!=="Hg"&&wl!=="He"&&wl!=="Hf"&&wl!=="Hs"&&wl!=="Ho"&&(wl="H"),wl.length>1&&(wl=wl[0].toUpperCase()+wl.substring(1).toLowerCase(),am.bondTable[wl]===void 0?wl=wl[0]:_t&&(wl==="Ca"||wl==="Cd")&&(wl="C")),wl}function Lm(c0){for(const _t in c0)return!1;return!0}function Fm(c0,_t,wl){const zl=[],Vl=_t.assignBonds===void 0||_t.assignBonds,tp=!_t.keepH,Du=!!_t.noSecondaryStructure,lp=!_t.noComputeSecondaryStructure,up=!_t.doAssembly,_d=_t.altLoc?_t.altLoc:"A",gp={symmetries:[],cryst:void 0};let mp,Rp=[];const Ep=[];let wp;const Tp={};for(let Mp=0;Mp<c0.length;Mp++){wp=c0[Mp].replace(/^\s*/,"");const Hp=wp.substring(0,6);let Qp,i0,w0;if(Hp.indexOf("END")===0){if(Rp=c0.slice(Mp+1),Hp==="END")for(const m0 in wl)wl.hasOwnProperty(m0)&&delete wl[m0];break}if(Hp==="ATOM  "||Hp==="HETATM"){let m0,B0,q0,Z0,J0,H0,wm,bm,Bm,Im,e1,n1;if(e1=wp.substring(16,17),e1!==" "&&e1!==_d&&_d!=="*"||(Im=parseInt(wp.substring(6,11)),mp=wp.substring(12,16).replace(/ /g,""),m0=wp.substring(17,20).replace(/ /g,""),B0=wp.substring(21,22),q0=parseInt(wp.substring(22,26)),Z0=wp.substring(26,27),J0=parseFloat(wp.substring(30,38)),H0=parseFloat(wp.substring(38,46)),wm=parseFloat(wp.substring(46,54)),n1=parseFloat(wp.substring(60,68)),Bm=wp.substring(76,78).replace(/ /g,""),Bm=Bm===""||am.bondTable[Bm]===void 0?Rm(wp.substring(12,14),wp[0]=="A"):Bm[0].toUpperCase()+Bm.substring(1).toLowerCase(),Bm==="H"&&tp))continue;bm=Hp[0]=="H",Ep[Im]=zl.length,zl.push({resn:m0,x:J0,y:H0,z:wm,elem:Bm,hetflag:bm,altLoc:e1,chain:B0,resi:q0,icode:Z0,rescode:q0+(Z0!==" "?"^"+Z0:""),serial:Im,atom:mp,bonds:[],ss:"c",bondOrder:[],properties:{},b:n1,pdbline:wp})}else if(Hp==="SHEET "){Qp=wp.substring(21,22),i0=parseInt(wp.substring(22,26)),w0=parseInt(wp.substring(33,37)),Qp in wl||(wl[Qp]={}),wl[Qp][i0]="s1";for(let m0=i0+1;m0<w0;m0++)wl[Qp][m0]="s";wl[Qp][w0]="s2"}else if(Hp==="CONECT"){const m0=Ep[parseInt(wp.substring(6,11))],B0=zl[m0],q0=[11,16,21,26];for(let Z0=0;Z0<4;Z0++){const J0=Ep[parseInt(wp.substring(q0[Z0],q0[Z0]+5))];let H0=m0+":"+J0;const wm=zl[J0];if(B0!==void 0&&wm!==void 0)if(Tp[H0]){Tp[H0]+=1;for(let bm=0;bm<B0.bonds.length;bm++)if(B0.bonds[bm]==J0){const Bm=Tp[H0];B0.bondOrder[bm]=Bm>=4?1:Bm}}else Tp[H0]=1,B0.bonds.length!=0&&B0.bonds[B0.bonds.length-1]===J0||(B0.bonds.push(J0),B0.bondOrder.push(1))}}else if(Hp==="HELIX "){Qp=wp.substring(19,20),i0=parseInt(wp.substring(21,25)),w0=parseInt(wp.substring(33,37)),Qp in wl||(wl[Qp]={}),wl[Qp][i0]="h1";for(let m0=i0+1;m0<w0;m0++)wl[Qp][m0]="h";wl[Qp][w0]="h2"}else if(up||Hp!=="REMARK"||wp.substring(13,18)!=="BIOMT"){if(Hp==="CRYST1"){let m0,B0,q0,Z0,J0,H0;m0=parseFloat(wp.substring(7,15)),B0=parseFloat(wp.substring(16,24)),q0=parseFloat(wp.substring(25,33)),Z0=parseFloat(wp.substring(34,40)),J0=parseFloat(wp.substring(41,47)),H0=parseFloat(wp.substring(48,54)),gp.cryst={a:m0,b:B0,c:q0,alpha:Z0,beta:J0,gamma:H0}}else if(Hp==="ANISOU"){const m0=zl[Ep[parseInt(wp.substring(6,11))]];if(m0){const B0=wp.substring(30).trim().split(/\s+/),q0={u11:parseInt(B0[0]),u22:parseInt(B0[1]),u33:parseInt(B0[2]),u12:parseInt(B0[3]),u13:parseInt(B0[4]),u23:parseInt(B0[5])};m0.uMat=q0}}}else{let m0,B0=new b.Matrix4;for(m0=1;m0<=3;m0++)if(wp=c0[Mp].replace(/^\s*/,""),parseInt(wp.substring(18,19))==m0)B0.elements[m0-1]=parseFloat(wp.substring(23,33)),B0.elements[m0-1+4]=parseFloat(wp.substring(33,43)),B0.elements[m0-1+8]=parseFloat(wp.substring(43,53)),B0.elements[m0-1+12]=parseFloat(wp.substring(53)),Mp++;else for(;wp.substring(13,18)==="BIOMT";)Mp++,wp=c0[Mp].replace(/^\s*/,"");B0.elements[3]=0,B0.elements[7]=0,B0.elements[11]=0,B0.elements[15]=1,gp.symmetries.push(B0),Mp--}}if(function(Mp,Hp){for(let Qp=0,i0=Mp.length;Qp<i0;Qp++){const w0=Mp[Qp];for(let m0=0;m0<w0.bonds.length;m0++){const B0=Mp[w0.bonds[m0]],q0=Hp[w0.serial];B0&&q0&&B0.bonds.indexOf(q0)<0&&(B0.bonds.push(q0),B0.bondOrder.push(w0.bondOrder[m0]))}}}(zl,Ep),Vl&&g0(zl,_t),up||Wp(gp.symmetries,zl,_t,gp.cryst),lp&&!Du&&Op(zl,_t.hbondCutoff),!Lm(wl))for(let Mp=0;Mp<zl.length;Mp++){const Hp=zl[Mp];if(Hp!==void 0&&Hp.chain in wl&&Hp.resi in wl[Hp.chain]){const Qp=wl[Hp.chain][Hp.resi];Hp.ss=Qp[0],Qp.length>1&&(Qp[1]=="1"?Hp.ssbegin=!0:Qp[1]=="2"&&(Hp.ssend=!0))}}return[zl,gp,Rp]}function s1(c0,_t){_t=_t||{};var wl=[],zl={};wl.modelData=[];for(var Vl=c0.split(/\r?\n|\r/);Vl.length>0;){var tp=Fm(Vl,_t,zl),Du=tp[0],lp=tp[1];if(Vl=tp[2],Du.length!=0){if(_t.multimodel&&_t.onemol&&wl.length>0)for(var up=wl[0].length,_d=0;_d<Du.length;_d++){var gp=Du[_d];gp.index=_d;for(var mp=0;mp<gp.bonds.length;mp++)gp.bonds[mp]+=up;wl[0].push(gp)}else wl.modelData.push(lp),wl.push(Du);if(!_t.multimodel)break}}return wl}function r1(c0,_t){var wl=[[]],zl=!_t.noSecondaryStructure;wl.modelData=[{symmetries:[]}];var Vl,tp=[],Du=c0.split(/\r?\n|\r/);for(let w0=0;w0<Du.length;w0++){var lp=(Vl=Du[w0].replace(/^\s*/,"")).substring(0,6);if(lp.indexOf("END")==0){if(_t.multimodel){_t.onemol||wl.push([]);continue}break}if(lp=="ATOM  "||lp=="HETATM"){var up;let m0=parseInt(Vl.substring(6,11)),B0=Vl.substring(12,16).replace(/ /g,""),q0=Vl.substring(17,20).trim(),Z0=Vl.substring(21,22),J0=parseInt(Vl.substring(22,26));var _d=Vl.substring(30).trim().split(/\s+/),gp=parseFloat(_d[0]),mp=parseFloat(_d[1]),Rp=parseFloat(_d[2]),Ep=parseFloat(_d[3]),wp=parseFloat(_d[4]),Tp=B0[0];B0.length>1&&B0[1].toUpperCase()!=B0[1]&&(Tp=B0.substring(0,2)),up=Vl[0]=="H",tp[m0]=wl[wl.length-1].length,wl[wl.length-1].push({resn:q0,x:gp,y:mp,z:Rp,elem:Tp,hetflag:up,chain:Z0,resi:J0,serial:m0,atom:B0,bonds:[],ss:"c",bondOrder:[],properties:{charge:Ep,partialCharge:Ep,radius:wp},pdbline:Vl})}else if(lp=="CONECT"){var Mp=parseInt(Vl.substring(6,11)),Hp=wl[wl.length-1][tp[Mp]];for(let m0=0;m0<4;m0++){var Qp=parseInt(Vl.substring([11,16,21,26][m0],[11,16,21,26][m0]+5)),i0=wl[wl.length-1][tp[Qp]];Hp!==void 0&&i0!==void 0&&(Hp.bonds.push(tp[Qp]),Hp.bondOrder.push(1))}}}for(let w0=0;w0<wl.length;w0++)g0(wl[w0],_t),zl&&Op(wl[w0],_t.hbondCutoff);return wl}var Y1=a(471),G1=function(c0){return String.fromCharCode.apply(null,c0).replace(/\0/g,"")},wv=function(c0){return c0==0||c0==2||c0==4?"h":c0==3?"s":"c"};let Mv=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function Cv(c0,_t){var wl=!_t.keepH,zl=_t.altLoc?_t.altLoc:"A",Vl=!!_t.noSecondaryStructure,tp=!_t.noComputeSecondaryStructure,Du=!_t.doAssembly,lp=_t.assemblyIndex?_t.assemblyIndex:0;c0=typeof c0=="string"?(0,nt.base64ToArray)(c0):new Uint8Array(c0);var up,_d,gp,mp,Rp,Ep,wp=Y1.decode(c0),Tp=[[]],Mp=Tp.modelData=[],Hp=0,Qp=0,i0=0,w0=wp.secStructList,m0=wp.bFactorList,B0=wp.altLocList,q0=wp.occupancyList,Z0=wp.bondAtomList,J0=wp.bondOrderList,H0=wp.numModels;if(H0==0)return Tp;_t.multimodel||(H0=1);var wm=[];if(!Du&&wp.bioAssemblyList&&wp.bioAssemblyList.length>0){var bm=wp.bioAssemblyList[lp].transformList;for(up=0,Ep=bm.length;up<Ep;up++){var Bm=new b.Matrix4(bm[up].matrix);Bm.transpose(),wm.push(Bm)}}var Im=null;if(wp.unitCell){var e1=wp.unitCell;Im={a:e1[0],b:e1[1],c:e1[2],alpha:e1[3],beta:e1[4],gamma:e1[5]}}let n1=[];wp.entityList.forEach($p=>{$p.chainIndexList.forEach(Vu=>{n1[Vu]=$p.type=="polymer"})});var $m=0;for(Rp=0;Rp<H0;Rp++){var p1=wp.chainsPerModel[Rp],Cm=Tp[Tp.length-1],Pm=[];for(Mp.push({symmetries:wm,cryst:Im}),up=0;up<p1;++up){var y1=wp.groupsPerChain[Hp],Zm=G1(wp.chainIdList.subarray(4*Hp,4*Hp+4));wp.chainNameList&&(Zm=G1(wp.chainNameList.subarray(4*Hp,4*Hp+4)));var w1=Qp,S1="";for(_d=0;_d<y1;++_d){var Ym=wp.groupList[wp.groupTypeList[Qp]],P1=Ym.atomNameList.length,av=0,T1=!1,t1=!1;if(w0){av=w0[Qp];var gv=wv(av);Qp!=0&&gv==S1||(T1=!0),S1=gv;var K1=Qp+1;(K1>=w0.length||wv(w0[K1]!=gv))&&(t1=!0)}var sv=wp.groupIdList[Qp],U1=Ym.groupName;let $p=Ym.chemCompType;var Sv=i0;let Vu=Mv.has($p)||!n1[Hp];for(gp=0;gp<P1;++gp){var Uv=Ym.elementList[gp];if(wl&&Uv=="H")i0+=1;else{var vy="";m0&&(vy=m0[i0]);var py="";B0&&B0[i0]&&(py=String.fromCharCode(B0[i0]));var Hy="";if(q0&&(Hy=q0[i0]),py==""||py==zl||zl=="*"){var Ry=wp.atomIdList[i0],Zv=Ym.atomNameList[gp],Yy=0;Ym.atomChargeList&&(Yy=Ym.atomChargeList[gp]);var Ey=wp.xCoordList[i0],Fy=wp.yCoordList[i0],Gy=wp.zCoordList[i0];Pm[i0]=Cm.length,Cm.push({resn:U1,x:Ey,y:Fy,z:Gy,elem:Uv,hetflag:Vu,chain:Zm,resi:sv,icode:py,rescode:sv+(py!=" "?"^"+py:""),serial:Ry,altLoc:py,index:i0,atom:Zv,bonds:[],ss:wv(av),ssbegin:T1,ssend:t1,bondOrder:[],properties:{charge:Yy,occupancy:Hy},b:vy}),i0+=1}else i0+=1}}var a2=Ym.bondAtomList;for(gp=0,mp=Ym.bondOrderList.length;gp<mp;++gp){var Jy=Sv+a2[2*gp],v2=Sv+a2[2*gp+1],ty=Ym.bondOrderList[gp],Cy=Pm[Jy],My=Pm[v2],Ay=Cm[Cy],Ql=Cm[My];Ay&&Ql&&(Ay.bonds.push(My),Ay.bondOrder.push(ty),Ql.bonds.push(Cy),Ql.bondOrder.push(ty))}Qp+=1}for(Qp=w1,_d=0;_d<y1;++_d)Qp+=1;Hp+=1}if(Z0)for(let $p=$m,Vu=Z0.length;$p<Vu;$p+=2){let G0=Z0[$p],N0=Z0[$p+1],I0=J0?J0[$p/2]:1;if(G0>=i0){$m=$p;break}let km=Pm[G0],im=Pm[N0],f1=Cm[km],um=Cm[im];f1&&um&&(f1.bonds.push(im),f1.bondOrder.push(I0),um.bonds.push(km),um.bondOrder.push(I0))}_t.multimodel&&(_t.onemol||Tp.push([]))}if(!Du)for(let $p=0;$p<Tp.length;$p++)Wp(Mp[$p].symmetries,Tp[$p],_t,Mp[$p].cryst);return tp&&!Vl&&Op(Tp,_t.hbondCutoff),Tp}function lv(c0){var _t,wl=[],zl=0,Vl=c0.split(/\r?\n|\r/);if(!(Vl.length>0&&Vl[0].includes("VERSION")))return[];{var tp=Vl.filter(function(wp){return wp.includes("POINTERS")||wp.includes("ATOM_NAME")||wp.includes("CHARGE")||wp.includes("RADII")||wp.includes("BONDS_INC_HYDROGEN")||wp.includes("BONDS_WITHOUT_HYDROGEN")||wp.includes("RESIDUE_LABEL")||wp.includes("RESIDUE_POINTER")}),Du=mp("POINTERS");if(Du==-1)return[];var lp=Rp(Du),up=parseInt(Vl[Du+1].slice(0,lp[1]));let Ep=parseInt(Vl[Du+2].slice(lp[1],lp[0]+lp[1]));if(isNaN(up)||up<=0)return[];if((Du=mp("ATOM_NAME"))==-1)return[];var _d=(lp=Rp(Du))[0];for(let wp=0;wp<up/lp[0];wp++){wp==parseInt(up/lp[0])&&(_d=up%lp[0]);for(let Tp=0;Tp<_d;Tp++){let Mp={},Hp={charge:"",radii:""};Mp.serial=zl,Mp.x=0,Mp.y=0,Mp.z=0,Mp.atom=Vl[Du+1].slice(lp[1]*Tp,lp[1]*(Tp+1)).trim(),Mp.elem=Vl[Du+1].slice(lp[1]*Tp,lp[1]*Tp+1).trim(),Mp.properties=Hp,Mp.bonds=[],Mp.bondOrder=[],Mp.index=wl.length,wl.push(Mp),zl++}Du++}if((Du=mp("CHARGE"))!=-1){zl=0,_d=(lp=Rp(Du))[0];for(let wp=0;wp<up/lp[0];wp++){wp==parseInt(up/lp[0])&&(_d=up%lp[0]);for(let Tp=0;Tp<_d;Tp++)wl[zl].properties.charge=parseFloat(Vl[Du+1].slice(lp[1]*Tp,lp[1]*(Tp+1))),zl++;Du++}}var gp=[];if((Du=mp("RESIDUE_POINTER"))!=-1){_d=(lp=Rp(Du))[0],Du+=1;for(let wp=0;wp<Ep/lp[0];wp++){wp==parseInt(Ep/lp[0])&&(_d=Ep%lp[0]);for(let Tp=0;Tp<_d;Tp++)gp.push(parseInt(Vl[Du].slice(lp[1]*Tp,lp[1]*(Tp+1))));Du++}if((Du=mp("RESIDUE_LABEL"))!=-1){let wp=[];_d=(lp=Rp(Du))[0],Du+=1;for(let Qp=0;Qp<Ep/lp[0];Qp++){Qp==parseInt(Ep/lp[0])&&(_d=Ep%lp[0]);for(let i0=0;i0<_d;i0++)wp.push(Vl[Du].slice(lp[1]*i0,lp[1]*(i0+1)).trim());Du++}let Tp=0,Mp=0,Hp="";gp.push(wl.length+1);for(let Qp=0;Qp<wl.length;Qp++)Qp+1>=gp[Tp]&&(Hp=wp[Tp],Tp+=1,Mp+=1),wl[Qp].resi=Mp,wl[Qp].resn=Hp}}if((Du=mp("RADII"))!=-1){zl=0,_d=(lp=Rp(Du))[0];for(let wp=0;wp<up/lp[0];wp++){wp==parseInt(up/lp[0])&&(_d=up%lp[0]);for(let Tp=0;Tp<_d;Tp++)wl[zl].properties.radii=parseFloat(Vl[Du+1].slice(lp[1]*Tp,lp[1]*(Tp+1))),zl++;Du++}}if((Du=mp("BONDS_WITHOUT_HYDROGEN"))!=-1)for(zl=0,_d=(lp=Rp(Du))[0],Du+=1;!Vl[Du].match(/^%FLAG/);){Vl[Du+1].match(/^%FLAG/)&&(_d=up%lp[0]);for(let wp=0;wp<_d;wp++)zl%3==0?_t=parseInt(Vl[Du].slice(lp[1]*wp,lp[1]*(wp+1))/3):zl%3==1&&(wl[_t].bonds.push(parseInt(Vl[Du].slice(lp[1]*wp,lp[1]*(wp+1))/3)),wl[_t].bondOrder.push(1)),zl++;Du++}if((Du=mp("BONDS_INC_HYDROGEN"))!=-1)for(zl=0,_d=(lp=Rp(Du))[0],Du+=1;!Vl[Du].match(/^%FLAG/);){Vl[Du+1].match(/^%FLAG/)&&(_d=up%lp[0]);for(let wp=0;wp<_d;wp++)zl%3==0?_t=parseInt(Vl[Du].slice(lp[1]*wp,lp[1]*(wp+1))/3):zl%3==1&&(wl[_t].bonds.push(parseInt(Vl[Du].slice(lp[1]*wp,lp[1]*(wp+1))/3)),wl[_t].bonds.push(1)),zl++;Du++}}function mp(Ep){var wp=Vl.indexOf(tp.filter(function(Tp){return Tp.includes(Ep)})[0]);if(Number.isInteger(wp)&&wp>0){for(;!Vl[wp].includes("FORMAT");)wp++;return wp}return-1}function Rp(Ep){var wp=Vl[Ep].match(/\((\d*)\S*/),Tp=Vl[Ep].match(/[a-zA-Z](\d*)\)\s*/);return Tp==null&&(Tp=Vl[Ep].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[parseInt(wp[1]),parseInt(Tp[1])]}return[wl]}function J1(c0,_t){const wl=[],zl=c0.split(/\r?\n|\r/);for(;zl.length>0;){const Vl=parseInt(zl[1]);if(zl.length<3||isNaN(Vl)||Vl<=0||zl.length<Vl+3)break;const tp=[];wl.push(tp);let Du=2;const lp=tp.length,up=lp+Vl;for(let _d=lp;_d<up;_d++){const gp=zl[Du++],mp={};mp.serial=_d,mp.atom=gp.slice(10,15).trim(),mp.elem=Rm(mp.atom,!0),mp.x=10*parseFloat(gp.slice(20,28)),mp.y=10*parseFloat(gp.slice(28,36)),mp.z=10*parseFloat(gp.slice(36,44)),mp.resi=parseInt(gp.slice(0,5)),mp.resn=gp.slice(5,10).trim(),mp.bonds=[],mp.bondOrder=[],mp.properties={},gp.length>44&&(mp.dx=10*parseFloat(gp.slice(44,52)),mp.dy=10*parseFloat(gp.slice(52,60)),mp.dz=10*parseFloat(gp.slice(60,68))),tp[_d]=mp}if(zl.length<=Du+3){const _d=zl[Du++].trim().split(/\s+/);if(_d.length===3){for(let gp=0;gp<3;gp++)_d[gp]=(10*parseFloat(_d[gp])).toString();wl.box=_d}}zl.splice(0,++Du)}for(let Vl=0;Vl<wl.length;Vl++)g0(wl[Vl],_t);return wl}const dy={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};function Iv(c0,_t){const wl=[],zl=c0.split(/\r?\n|\r/);let Vl=0,tp=0,Du=0;for(;Du<zl.length-9;){for(var lp=Du;lp<zl.length;lp++)if(zl[lp].match(/ITEM: NUMBER OF ATOMS/)&&(tp=parseInt(zl[lp+1])),zl[lp].match(/ITEM: ATOMS/)){Vl=lp+1;break}const up=zl[Vl-1].replace("ITEM: ATOMS ","").split(" ");wl.push([]);for(let _d=Vl;_d<Vl+tp;_d++){const gp={},mp={},Rp=zl[_d].split(" ");for(let Ep=0;Ep<Rp.length;Ep++){const wp=dy[up[Ep]];wp!==void 0&&(wp==="serial"?gp[wp]=parseInt(Rp[Ep]):wp==="x"||wp==="y"||wp==="z"?gp[wp]=parseFloat(Rp[Ep]):wp==="charge"||wp==="radius"?mp[wp]=parseFloat(Rp[Ep]):gp[wp]=Rp[Ep]),gp.properties=mp,gp.bonds=[],gp.bondOrder=[]}wl[wl.length-1][_d-Vl]=gp}Du=Vl+tp-1}if(_t.assignBonds)for(let up=0;up<wl.length;up++)(0,s0.assignBonds)(wl[up],_t);return wl}var Dv;(function(c0){(function(_t){_t[_t.Int8=1]="Int8",_t[_t.Int16=2]="Int16",_t[_t.Int32=3]="Int32",_t[_t.Uint8=4]="Uint8",_t[_t.Uint16=5]="Uint16",_t[_t.Uint32=6]="Uint32"})(c0.IntDataType||(c0.IntDataType={})),function(_t){_t[_t.Float32=32]="Float32",_t[_t.Float64=33]="Float64"}(c0.FloatDataType||(c0.FloatDataType={})),c0.getDataType=function(_t){let wl;return wl=_t instanceof Int8Array?c0.IntDataType.Int8:_t instanceof Int16Array?c0.IntDataType.Int16:_t instanceof Int32Array?c0.IntDataType.Int32:_t instanceof Uint8Array?c0.IntDataType.Uint8:_t instanceof Uint16Array?c0.IntDataType.Uint16:_t instanceof Uint32Array?c0.IntDataType.Uint32:_t instanceof Float32Array?c0.FloatDataType.Float32:_t instanceof Float64Array?c0.FloatDataType.Float64:c0.IntDataType.Int32,wl},c0.isSignedIntegerDataType=function(_t){if(_t instanceof Int8Array||_t instanceof Int16Array||_t instanceof Int32Array)return!0;for(let wl=0,zl=_t.length;wl<zl;wl++)if(wl<0)return!1;return!0}})(Dv||(Dv={}));const _y=new Uint16Array(new Uint8Array([18,52]).buffer)[0]===13330;function wy(c0){let _t=c0.data;for(let wl=c0.encoding.length-1;wl>=0;wl--)_t=Sm(_t,c0.encoding[wl]);return _t}function Sm(c0,_t){switch(_t.kind){case"ByteArray":switch(_t.type){case Dv.IntDataType.Uint8:return c0;case Dv.IntDataType.Int8:return function(wl){return new Int8Array(wl.buffer,wl.byteOffset)}(c0);case Dv.IntDataType.Int16:return function(wl){return K0(wl,2,Int16Array)}(c0);case Dv.IntDataType.Uint16:return function(wl){return K0(wl,2,Uint16Array)}(c0);case Dv.IntDataType.Int32:return function(wl){return K0(wl,4,Int32Array)}(c0);case Dv.IntDataType.Uint32:return function(wl){return K0(wl,4,Uint32Array)}(c0);case Dv.FloatDataType.Float32:return function(wl){return K0(wl,4,Float32Array)}(c0);case Dv.FloatDataType.Float64:return function(wl){return K0(wl,8,Float64Array)}(c0);default:throw new Error("unreachable")}case"FixedPoint":return function(wl,zl){const Vl=wl.length,tp=R0(zl.srcType,Vl),Du=1/zl.factor;for(let lp=0;lp<Vl;lp++)tp[lp]=Du*wl[lp];return tp}(c0,_t);case"IntervalQuantization":return function(wl,zl){const Vl=wl.length,tp=R0(zl.srcType,Vl),Du=(zl.max-zl.min)/(zl.numSteps-1),lp=zl.min;for(let up=0;up<Vl;up++)tp[up]=lp+Du*wl[up];return tp}(c0,_t);case"RunLength":return function(wl,zl){const Vl=Xp(zl.srcType,zl.srcSize);let tp=0;for(let Du=0,lp=wl.length;Du<lp;Du+=2){const up=wl[Du],_d=wl[Du+1];for(let gp=0;gp<_d;++gp)Vl[tp++]=up}return Vl}(c0,_t);case"Delta":return function(wl,zl){const Vl=wl.length,tp=Xp(zl.srcType,Vl);if(!Vl)return wl;tp[0]=wl[0]+(0|zl.origin);for(let Du=1;Du<Vl;++Du)tp[Du]=wl[Du]+tp[Du-1];return tp}(c0,_t);case"IntegerPacking":return function(wl,zl){return wl.length===zl.srcSize?wl:zl.isUnsigned?function(Vl,tp){const Du=tp.byteCount===1?255:65535,lp=Vl.length,up=new Int32Array(tp.srcSize);let _d=0,gp=0;for(;_d<lp;){let mp=0,Rp=Vl[_d];for(;Rp===Du;)mp+=Rp,_d++,Rp=Vl[_d];mp+=Rp,up[gp]=mp,_d++,gp++}return up}(wl,zl):function(Vl,tp){const Du=tp.byteCount===1?127:32767,lp=-Du-1,up=Vl.length,_d=new Int32Array(tp.srcSize);let gp=0,mp=0;for(;gp<up;){let Rp=0,Ep=Vl[gp];for(;Ep===Du||Ep===lp;)Rp+=Ep,gp++,Ep=Vl[gp];Rp+=Ep,_d[mp]=Rp,gp++,mp++}return _d}(wl,zl)}(c0,_t);case"StringArray":return function(wl,zl){const Vl=wy({encoding:zl.offsetEncoding,data:zl.offsets}),tp=wy({encoding:zl.dataEncoding,data:wl}),Du=zl.stringData,lp=new Array(Vl.length);lp[0]="";for(let gp=1,mp=Vl.length;gp<mp;gp++)lp[gp]=Du.substring(Vl[gp-1],Vl[gp]);let up=0;const _d=new Array(tp.length);for(let gp=0,mp=tp.length;gp<mp;gp++)_d[up++]=lp[tp[gp]+1];return _d}(c0,_t)}}function Xp(c0,_t){switch(c0){case Dv.IntDataType.Int8:return new Int8Array(_t);case Dv.IntDataType.Int16:return new Int16Array(_t);case Dv.IntDataType.Int32:return new Int32Array(_t);case Dv.IntDataType.Uint8:return new Uint8Array(_t);case Dv.IntDataType.Uint16:return new Uint16Array(_t);case Dv.IntDataType.Uint32:return new Uint32Array(_t);default:return new Int32Array(_t)}}function R0(c0,_t){switch(c0){case Dv.FloatDataType.Float32:return new Float32Array(_t);case Dv.FloatDataType.Float64:default:return new Float64Array(_t)}}function K0(c0,_t,wl){return c0.byteOffset==0&&c0.byteLength==c0.buffer.byteLength||(c0=new Uint8Array(c0)),new wl(_y?c0.buffer:function(zl,Vl){const tp=new ArrayBuffer(zl.length),Du=new Uint8Array(tp);for(let lp=0,up=zl.length;lp<up;lp+=Vl)for(let _d=0;_d<Vl;_d++)Du[lp+Vl-_d-1]=zl[lp+_d];return tp}(c0,_t))}function Nm(c0){const _t=Object.create(null),wl=Object.create(null);for(const zl of c0.columns)_t[zl.name]=zl;return{rowCount:c0.rowCount,name:c0.name.substring(1),fieldNames:c0.columns.map(zl=>zl.name),getField(zl){const Vl=_t[zl];if(Vl)return wl[zl]||(wl[zl]=wy(Vl.data)),wl[zl]}}}var Gm=a(471);class M1{constructor(_t){if(this.C={},_t){let wl=_t.getField("comp_id"),zl=_t.getField("atom_id_1"),Vl=_t.getField("atom_id_2"),tp=_t.getField("value_order");for(let Du=0;Du<wl.length;Du++){let lp=wl[Du],up=zl[Du],_d=Vl[Du],gp=tp[Du],mp=1;gp=="doub"?mp=2:gp=="trip"&&(mp=3),this.C[lp]==null&&(this.C[lp]={}),this.C[lp][up]==null&&(this.C[lp][up]={}),this.C[lp][_d]==null&&(this.C[lp][_d]={}),this.C[lp][up][_d]=mp,this.C[lp][_d][up]=mp}}}order(_t,wl,zl){return this.C[_t]!==void 0&&this.C[_t][wl]!==void 0&&this.C[_t][wl][zl]!==void 0?this.C[_t][wl][zl]:0}}class Km{constructor(_t){if(this.C=[],_t){let wl=_t.getField("conn_type_id"),zl=_t.getField("ptnr1_label_asym_id"),Vl=_t.getField("ptnr1_label_seq_id"),tp=_t.getField("ptnr1_label_comp_id"),Du=_t.getField("ptnr1_label_atom_id"),lp=_t.getField("ptnr2_label_asym_id"),up=_t.getField("ptnr2_label_seq_id"),_d=_t.getField("ptnr2_label_comp_id"),gp=_t.getField("ptnr2_label_atom_id"),mp=_t.getField("pdbx_value_order");for(let Rp=0;Rp<wl.length;Rp++)if(wl[Rp]=="disulf"||wl[Rp]=="covale"){let Ep=mp?mp[Rp]==""?1:parseInt(mp[Rp]):1;this.C.push([[zl[Rp],Vl[Rp],tp[Rp],Du[Rp]],[lp[Rp],up[Rp],_d[Rp],gp[Rp]],Ep])}}}}class F1{constructor(){this.R={}}add(_t){this.R[_t.lchain]==null&&(this.R[_t.lchain]={}),this.R[_t.lchain][_t.lresi]==null&&(this.R[_t.lchain][_t.lresi]={}),this.R[_t.lchain][_t.lresi][_t.lresn]==null&&(this.R[_t.lchain][_t.lresi][_t.lresn]=[]),this.R[_t.lchain][_t.lresi][_t.lresn].push(_t),this.R[_t.lchain][_t.lresi][_t.lresn][_t.atom]=_t}geta([_t,wl,zl,Vl]){if(this.R[_t]!==void 0&&this.R[_t][wl]!==void 0&&this.R[_t][wl][zl]!==void 0)return this.R[_t][wl][zl][Vl]}setBonds(_t,wl){for(let zl in this.R)for(let Vl in this.R[zl])for(let tp in this.R[zl][Vl]){let Du=this.R[zl][Vl][tp];for(let lp=0;lp<Du.length;lp++)for(let up=lp+1;up<Du.length;up++){let _d=Du[lp],gp=Du[up],mp=_t.order(tp,_d.atom,gp.atom);_d.altLoc!=gp.altLoc&&_d.altLoc!=""&&gp.altLoc!=""&&(mp=0),mp>0&&(_d.bonds.push(gp.index),gp.bonds.push(_d.index),_d.bondOrder.push(mp),gp.bondOrder.push(mp))}}for(let zl of wl.C){let Vl=zl[0],tp=zl[1],Du=zl[2],lp=this.geta(Vl),up=this.geta(tp);lp!=null&&up!=null&&(lp.bonds.push(up.index),up.bonds.push(lp.index),lp.bondOrder.push(Du),up.bondOrder.push(Du))}}}function j1(c0,_t){var wl=!_t.keepH,zl=_t.altLoc?_t.altLoc:"A",Vl=!_t.noComputeSecondaryStructure;const tp=!_t.doAssembly,Du=_t.assignBonds===void 0||_t.assignBonds;if(typeof c0=="string")try{c0=(0,nt.base64ToArray)(c0)}catch{c0=new TextEncoder().encode(c0)}else c0=new Uint8Array(c0);var lp=Gm.decodeMsgpack(c0);lp==31&&(c0=(0,nt.inflateString)(c0,!1),lp=Gm.decodeMsgpack(c0));var up=[],_d=up.modelData=[],gp=lp.dataBlocks.length;if(gp==0)return up;_t.multimodel||(gp=1);for(let mp=0;mp<gp;mp++){let Rp=up.length;const Ep=[];_d.push({symmetries:[]}),up.push([]);const wp=lp.dataBlocks[mp],Tp=Object.create(null);for(const T1 of wp.categories)Tp[T1.name.substr(1)]=Nm(T1);let Mp={},Hp=Tp.struct_conf;if(Hp){let T1=Hp.getField("conf_type_id"),t1=Hp.getField("beg_label_asym_id"),gv=Hp.getField("beg_label_seq_id"),K1=Hp.getField("end_label_seq_id");for(let sv=0;sv<T1.length;sv++)if(T1[sv].startsWith("H")){let U1=t1[sv],Sv=gv[sv],Uv=K1[sv];U1 in Mp||(Mp[U1]={}),Mp[U1][Sv]="h1";for(let vy=Sv+1;vy<Uv;vy++)Mp[U1][vy]="h";Mp[U1][Uv]="h2"}}let Qp=Tp.struct_sheet_range;if(Qp){let T1=Qp.getField("id"),t1=Qp.getField("beg_label_asym_id"),gv=Qp.getField("beg_label_seq_id"),K1=Qp.getField("end_label_seq_id");for(let sv=0;sv<T1.length;sv++){let U1=t1[sv],Sv=gv[sv],Uv=K1[sv];U1 in Mp||(Mp[U1]={}),Mp[U1][Sv]="s1";for(let vy=Sv+1;vy<Uv;vy++)Mp[U1][vy]="s";Mp[U1][Uv]="s2"}}let i0=Tp.pdbx_struct_oper_list,w0=i0.getField("id");if(w0&&!tp){let T1=i0.getField("matrix[1][1]"),t1=i0.getField("matrix[1][2]"),gv=i0.getField("matrix[1][3]"),K1=i0.getField("matrix[2][1]"),sv=i0.getField("matrix[2][2]"),U1=i0.getField("matrix[2][3]"),Sv=i0.getField("matrix[3][1]"),Uv=i0.getField("matrix[3][2]"),vy=i0.getField("matrix[3][3]"),py=i0.getField("vector[1]"),Hy=i0.getField("vector[2]"),Ry=i0.getField("vector[3]");for(let Zv=0;Zv<w0.length;Zv++){const Yy=new b.Matrix4(T1[Zv],t1[Zv],gv[Zv],py[Zv],K1[Zv],sv[Zv],U1[Zv],Hy[Zv],Sv[Zv],Uv[Zv],vy[Zv],Ry[Zv]);_d[_d.length-1].symmetries.push(Yy)}}let m0=new M1(Tp.chem_comp_bond),B0=new F1,q0=new Km(Tp.struct_conn),Z0=Tp.atom_site,J0=Z0.rowCount,H0=Z0.getField("group_PDB"),wm=Z0.getField("Cartn_x"),bm=Z0.getField("Cartn_y"),Bm=Z0.getField("Cartn_z"),Im=Z0.getField("auth_asym_id"),e1=Z0.getField("label_asym_id"),n1=Z0.getField("auth_seq_id"),$m=Z0.getField("label_seq_id"),p1=Z0.getField("auth_comp_id"),Cm=Z0.getField("label_comp_id"),Pm=Z0.getField("auth_atom_id"),y1=Z0.getField("label_atom_id"),Zm=Z0.getField("type_symbol"),w1=Z0.getField("B_iso_or_equiv"),S1=Z0.getField("id"),Ym=Z0.getField("label_alt_id"),P1=Z0.getField("pdbx_PDB_model_num"),av=P1?P1[0]:0;for(let T1=0;T1<J0;T1++){if(H0!==void 0&&H0[T1]==="TER")continue;if(P1&&P1[T1]!=av){if(av=P1[T1],!_t.multimodel)break;_t.onemol||(up.push([]),_d.push(_d[_d.length-1]),av=P1[T1],B0.setBonds(m0,q0),B0=new F1)}const t1={};t1.x=wm[T1],t1.y=bm[T1],t1.z=Bm[T1],t1.chain=Im?Im[T1]:e1?e1[T1]:void 0,t1.lchain=e1?e1[T1]:void 0,t1.resi=n1?n1[T1]:$m?$m[T1]:void 0,t1.lresi=$m?$m[T1]:void 0,t1.resn=p1?p1[T1].trim():Cm?Cm[T1].trim():void 0,t1.lresn=Cm?Cm[T1].trim():void 0,t1.atom=Pm?Pm[T1].replace(/"/gm,""):y1?y1[T1].replace(/"/gm,""):void 0,t1.icode=Ym?Ym[T1]:void 0,t1.altLoc=t1.icode,t1.hetflag=!H0||H0[T1]==="HETA"||H0[T1]==="HETATM";let gv="X";Zm&&(gv=Zm[T1].replace(/\(?\+?\d+.*/,"")),t1.elem=gv[0].toUpperCase()+gv.substring(1,2).toLowerCase(),w1&&(t1.b=w1[T1]),wl&&t1.elem=="H"||t1.altLoc!=""&&t1.altLoc!=zl&&zl!="*"||(t1.bonds=[],t1.ss="c",t1.serial=S1[T1],t1.model=av,t1.bondOrder=[],t1.properties={},t1.index=up[up.length-1].length,Ep[t1.serial]=[up.length,t1.index],up[up.length-1].push(t1),B0.add(t1))}if(B0.setBonds(m0,q0),!Lm(Mp))for(let T1=Rp;T1<up.length;T1++){let t1=up[T1];for(let gv=0;gv<t1.length;gv++){const K1=t1[gv];if(K1!==void 0&&K1.lchain in Mp&&K1.lresi in Mp[K1.lchain]){const sv=Mp[K1.lchain][K1.lresi];K1.ss=sv[0],sv.length>1&&(sv[1]=="1"?K1.ssbegin=!0:sv[1]=="2"&&(K1.ssend=!0))}}}_t.multimodel&&mp<gp-1&&(_t.onemol||(up.push([]),_d.push({symmetries:[]})))}for(let mp=0;mp<up.length;mp++)!Du||_t.duplicateAssemblyAtoms&&!_t.dontConnectDuplicatedAtoms||g0(up[mp],_t),Vl&&Op(up[mp],_t.hbondCutoff),Wp(_d[mp].symmetries,up[mp],_t,_d[mp].cryst),_t.duplicateAssemblyAtoms&&!_t.dontConnectDuplicatedAtoms&&Du&&g0(up[mp],_t);return up}const x1={vasp:k0.VASP,VASP:k0.VASP,cube:D0.CUBE,CUBE:D0.CUBE,xyz:dp,XYZ:dp,sdf:S0,SDF:S0,json:l0,cdjson:l0,CDJSON:l0,mcif:V0,cif:V0,CIF:V0,mol2:Am,MOL2:Am,pdb:s1,PDB:s1,pdbqt:s1,PDBQT:s1,pqr:r1,PQR:r1,mmtf:Cv,MMTF:Cv,prmtop:lv,PRMTOP:lv,gro:J1,GRO:J1,lammpstrj:Iv,LAMMPSTRJ:Iv,bcif:j1,BCIF:j1};function hv(c0,_t="utf8"){return new TextDecoder(_t).decode(c0)}const my=new TextEncoder,$y=(()=>{const c0=new Uint8Array(4);return!((new Uint32Array(c0.buffer)[0]=1)&c0[0])})(),Zy={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class E2{constructor(_t=8192,wl={}){ti(this,"buffer"),ti(this,"byteLength"),ti(this,"byteOffset"),ti(this,"length"),ti(this,"offset"),ti(this,"lastWrittenByte"),ti(this,"littleEndian"),ti(this,"_data"),ti(this,"_mark"),ti(this,"_marks");let zl=!1;typeof _t=="number"?_t=new ArrayBuffer(_t):(zl=!0,this.lastWrittenByte=_t.byteLength);const Vl=wl.offset?wl.offset>>>0:0,tp=_t.byteLength-Vl;let Du=Vl;(ArrayBuffer.isView(_t)||_t instanceof E2)&&(_t.byteLength!==_t.buffer.byteLength&&(Du=_t.byteOffset+Vl),_t=_t.buffer),this.lastWrittenByte=zl?tp:0,this.buffer=_t,this.length=tp,this.byteLength=tp,this.byteOffset=Du,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Du,tp),this._mark=0,this._marks=[]}available(_t=1){return this.offset+_t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(_t=1){return this.offset+=_t,this}back(_t=1){return this.offset-=_t,this}seek(_t){return this.offset=_t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const _t=this._marks.pop();if(_t===void 0)throw new Error("Mark stack empty");return this.seek(_t),this}rewind(){return this.offset=0,this}ensureAvailable(_t=1){if(!this.available(_t)){const wl=2*(this.offset+_t),zl=new Uint8Array(wl);zl.set(new Uint8Array(this.buffer)),this.buffer=zl.buffer,this.length=wl,this.byteLength=wl,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(_t=1){return this.readArray(_t,"uint8")}readArray(_t,wl){const zl=Zy[wl].BYTES_PER_ELEMENT*_t,Vl=this.byteOffset+this.offset,tp=this.buffer.slice(Vl,Vl+zl);if(this.littleEndian===$y&&wl!=="uint8"&&wl!=="int8"){const lp=new Uint8Array(this.buffer.slice(Vl,Vl+zl));lp.reverse();const up=new Zy[wl](lp.buffer);return this.offset+=zl,up.reverse(),up}const Du=new Zy[wl](tp);return this.offset+=zl,Du}readInt16(){const _t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,_t}readUint16(){const _t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,_t}readInt32(){const _t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,_t}readUint32(){const _t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,_t}readFloat32(){const _t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,_t}readFloat64(){const _t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,_t}readBigInt64(){const _t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,_t}readBigUint64(){const _t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,_t}readChar(){return String.fromCharCode(this.readInt8())}readChars(_t=1){let wl="";for(let zl=0;zl<_t;zl++)wl+=this.readChar();return wl}readUtf8(_t=1){return hv(this.readBytes(_t))}decodeText(_t=1,wl="utf8"){return hv(this.readBytes(_t),wl)}writeBoolean(_t){return this.writeUint8(_t?255:0),this}writeInt8(_t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,_t),this._updateLastWrittenByte(),this}writeUint8(_t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,_t),this._updateLastWrittenByte(),this}writeByte(_t){return this.writeUint8(_t)}writeBytes(_t){this.ensureAvailable(_t.length);for(let wl=0;wl<_t.length;wl++)this._data.setUint8(this.offset++,_t[wl]);return this._updateLastWrittenByte(),this}writeInt16(_t){return this.ensureAvailable(2),this._data.setInt16(this.offset,_t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(_t){return this.ensureAvailable(2),this._data.setUint16(this.offset,_t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(_t){return this.ensureAvailable(4),this._data.setInt32(this.offset,_t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(_t){return this.ensureAvailable(4),this._data.setUint32(this.offset,_t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(_t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,_t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(_t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,_t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(_t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,_t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(_t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,_t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(_t){return this.writeUint8(_t.charCodeAt(0))}writeChars(_t){for(let wl=0;wl<_t.length;wl++)this.writeUint8(_t.charCodeAt(wl));return this}writeUtf8(_t){return this.writeBytes(function(wl){return my.encode(wl)}(_t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}const Ty=1,oy=2,Wv=3,xv=4,N1=5,c2=6;function D2(c0){switch(Number(c0)){case Ty:return"byte";case oy:return"char";case Wv:return"short";case xv:return"int";case N1:return"float";case c2:return"double";default:return"undefined"}}function d2(c0){switch(Number(c0)){case Ty:case oy:return 1;case Wv:return 2;case xv:case N1:return 4;case c2:return 8;default:return-1}}function L2(c0){switch(String(c0)){case"byte":return Ty;case"char":return oy;case"short":return Wv;case"int":return xv;case"float":return N1;case"double":return c2;default:return-1}}function b2(c0,_t){if(c0!==1){const wl=new Array(c0);for(let zl=0;zl<c0;zl++)wl[zl]=_t();return wl}return _t()}function g2(c0,_t,wl){switch(_t){case Ty:return Array.from(c0.readBytes(wl));case oy:return(zl=c0.readChars(wl)).charCodeAt(zl.length-1)===0?zl.substring(0,zl.length-1):zl;case Wv:return b2(wl,c0.readInt16.bind(c0));case xv:return b2(wl,c0.readInt32.bind(c0));case N1:return b2(wl,c0.readFloat32.bind(c0));case c2:return b2(wl,c0.readFloat64.bind(c0));default:throw new Error(`non valid type ${_t}`)}var zl}function yy(c0,_t){if(c0)throw new TypeError(`Not a valid NetCDF v3.x file: ${_t}`)}function e2(c0){c0.offset%4!=0&&c0.skip(4-c0.offset%4)}function M2(c0){const _t=c0.readUint32(),wl=c0.readChars(_t);return e2(c0),wl}function m2(c0,_t){const wl={version:_t},zl={length:c0.readUint32()},Vl=function(Du){const lp={};let up,_d;const gp=Du.readUint32();let mp;if(gp===0)return yy(Du.readUint32()!==0,"wrong empty tag for list of dimensions"),[];{yy(gp!==10,"wrong tag for list of dimensions");const Rp=Du.readUint32();mp=new Array(Rp);for(let Ep=0;Ep<Rp;Ep++){const wp=M2(Du),Tp=Du.readUint32();Tp===0&&(up=Ep,_d=wp),mp[Ep]={name:wp,size:Tp}}}return up!==void 0&&(lp.recordId=up),_d!==void 0&&(lp.recordName=_d),lp.dimensions=mp,lp}(c0);Array.isArray(Vl)||(zl.id=Vl.recordId,zl.name=Vl.recordName,wl.dimensions=Vl.dimensions),wl.globalAttributes=I2(c0);const tp=function(Du,lp,up){const _d=Du.readUint32();let gp,mp=0;if(_d===0)return yy(Du.readUint32()!==0,"wrong empty tag for list of variables"),[];{yy(_d!==11,"wrong tag for list of variables");const Rp=Du.readUint32();gp=new Array(Rp);for(let Ep=0;Ep<Rp;Ep++){const wp=M2(Du),Tp=Du.readUint32(),Mp=new Array(Tp);for(let B0=0;B0<Tp;B0++)Mp[B0]=Du.readUint32();const Hp=I2(Du),Qp=Du.readUint32();yy(Qp<1&&Qp>6,`non valid type ${Qp}`);const i0=Du.readUint32();let w0=Du.readUint32();up===2&&(yy(w0>0,"offsets larger than 4GB not supported"),w0=Du.readUint32());let m0=!1;lp!==void 0&&Mp[0]===lp&&(mp+=i0,m0=!0),gp[Ep]={name:wp,dimensions:Mp,attributes:Hp,type:D2(Qp),size:i0,offset:w0,record:m0}}}return{variables:gp,recordStep:mp}}(c0,zl==null?void 0:zl.id,_t);return Array.isArray(tp)||(wl.variables=tp.variables,zl.recordStep=tp.recordStep),wl.recordDimension=zl,wl}function I2(c0){const _t=c0.readUint32();let wl;if(_t===0)return yy(c0.readUint32()!==0,"wrong empty tag for list of attributes"),[];{yy(_t!==12,"wrong tag for list of attributes");const zl=c0.readUint32();wl=new Array(zl);for(let Vl=0;Vl<zl;Vl++){const tp=M2(c0),Du=c0.readUint32();yy(Du<1||Du>6,`non valid type ${Du}`);const lp=c0.readUint32(),up=g2(c0,Du,lp);e2(c0),wl[Vl]={name:tp,type:D2(Du),value:up}}}return wl}function O2(){const c0=[];c0.push("DIMENSIONS");for(const wl of this.dimensions)c0.push(`  ${wl.name.padEnd(30)} = size: ${wl.size}`);c0.push(""),c0.push("GLOBAL ATTRIBUTES");for(const wl of this.globalAttributes)c0.push(`  ${wl.name.padEnd(30)} = ${wl.value}`);const _t=JSON.parse(JSON.stringify(this.variables));c0.push(""),c0.push("VARIABLES:");for(const wl of _t){wl.value=this.getDataVariable(wl);let zl=JSON.stringify(wl.value);zl.length>50&&(zl=zl.substring(0,50)),isNaN(wl.value.length)||(zl+=` (length: ${wl.value.length})`),c0.push(`  ${wl.name.padEnd(30)} = ${zl}`)}return c0.join(`
`)}class B2{constructor(_t){this.toString=O2;const wl=new E2(_t);wl.setBigEndian(),yy(wl.readChars(3)!=="CDF","should start with CDF");const zl=wl.readByte();yy(zl>2,"unknown version"),this.header=m2(wl,zl),this.buffer=wl}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(_t){const wl=this.globalAttributes.find(zl=>zl.name===_t);return wl?wl.value:null}getDataVariableAsString(_t){const wl=this.getDataVariable(_t);return wl?wl.join(""):null}get variables(){return this.header.variables}getDataVariable(_t){let wl;if(wl=typeof _t=="string"?this.header.variables.find(zl=>zl.name===_t):_t,wl===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(wl.offset),wl.record?function(zl,Vl,tp){const Du=L2(Vl.type),lp=Vl.size?Vl.size/d2(Du):1,up=tp.length,_d=new Array(up),gp=tp.recordStep;if(!gp)throw new Error("recordDimension.recordStep is undefined");for(let mp=0;mp<up;mp++){const Rp=zl.offset;_d[mp]=g2(zl,Du,lp),zl.seek(Rp+gp)}return _d}(this.buffer,wl,this.header.recordDimension):function(zl,Vl){const tp=L2(Vl.type),Du=Vl.size/d2(tp),lp=new Array(Du);for(let up=0;up<Du;up++)lp[up]=g2(zl,tp,1);return lp}(this.buffer,wl)}dataVariableExists(_t){return this.header.variables.find(wl=>wl.name===_t)!==void 0}attributeExists(_t){return this.globalAttributes.find(wl=>wl.name===_t)!==void 0}}class Av{static sameObj(_t,wl){return _t&&wl?JSON.stringify(_t)==JSON.stringify(wl):_t==wl}constructor(_t,wl,zl){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new $.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=j.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=wl||{},this.viewer=zl,this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:j.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=_t}getRadiusFromStyle(_t,wl){var zl=this.defaultSphereRadius;if(wl.radius!==void 0)zl=wl.radius;else if(Av.vdwRadii[_t.elem])zl=Av.vdwRadii[_t.elem];else if(_t.elem.length>1){let Vl=_t.elem;Vl=Vl[0].toUpperCase()+Vl[1].toLowerCase(),Av.vdwRadii[Vl]&&(zl=Av.vdwRadii[Vl])}return wl.scale!==void 0&&(zl*=wl.scale),zl}drawAtomCross(_t,wl){if(_t.style.cross){var zl=_t.style.cross;if(!zl.hidden){var Vl=zl.linewidth||Av.defaultlineWidth;wl[Vl]||(wl[Vl]=new b.Geometry);var tp=wl[Vl].updateGeoGroup(6),Du=this.getRadiusFromStyle(_t,zl),lp=[[Du,0,0],[-Du,0,0],[0,Du,0],[0,-Du,0],[0,0,Du],[0,0,-Du]],up=_t.clickable||_t.hoverable;up&&_t.intersectionShape===void 0&&(_t.intersectionShape={sphere:[],cylinder:[],line:[]});for(var _d=(0,nt.getColorFromStyle)(_t,zl),gp=tp.vertexArray,mp=tp.colorArray,Rp=0;Rp<6;Rp++){var Ep=3*tp.vertices;if(tp.vertices++,gp[Ep]=_t.x+lp[Rp][0],gp[Ep+1]=_t.y+lp[Rp][1],gp[Ep+2]=_t.z+lp[Rp][2],mp[Ep]=_d.r,mp[Ep+1]=_d.g,mp[Ep+2]=_d.b,up){var wp=new $.Vector3(lp[Rp][0],lp[Rp][1],lp[Rp][2]);wp.multiplyScalar(.1),wp.set(wp.x+_t.x,wp.y+_t.y,wp.z+_t.z),_t.intersectionShape.line.push(wp)}}}}}getGoodCross(_t,wl,zl,Vl){for(var tp=null,Du=-1,lp=0,up=_t.bonds.length;lp<up;lp++)if(_t.bonds[lp]!=wl.index){let gp=_t.bonds[lp],mp=this.atoms[gp],Rp=new $.Vector3(mp.x,mp.y,mp.z).clone();Rp.sub(zl);let Ep=Rp.clone();Ep.cross(Vl);var _d=Ep.lengthSq();if(_d>Du&&(tp=Ep,(Du=_d)>.1))return tp}return tp}getSideBondV(_t,wl,zl){var Vl,tp,Du,lp,up=new $.Vector3(_t.x,_t.y,_t.z),_d=new $.Vector3(wl.x,wl.y,wl.z).clone(),gp=null;if(_d.sub(up),_t.bonds.length===1)wl.bonds.length===1?(gp=_d.clone(),Math.abs(gp.x)>1e-4?gp.y+=1:gp.x+=1):(Vl=(zl+1)%wl.bonds.length,tp=wl.bonds[Vl],(Du=this.atoms[tp]).index==_t.index&&(Vl=(Vl+1)%wl.bonds.length,tp=wl.bonds[Vl],Du=this.atoms[tp]),(lp=new $.Vector3(Du.x,Du.y,Du.z).clone()).sub(up),(gp=lp.clone()).cross(_d));else if((gp=this.getGoodCross(_t,wl,up,_d)).lengthSq()<.01){var mp=this.getGoodCross(wl,_t,up,_d);mp!=null&&(gp=mp)}return gp.lengthSq()<.01&&(gp=_d.clone(),Math.abs(gp.x)>1e-4?gp.y+=1:gp.x+=1),gp.cross(_d),gp.normalize(),gp}addLine(_t,wl,zl,Vl,tp,Du){_t[zl]=Vl.x,_t[zl+1]=Vl.y,_t[zl+2]=Vl.z,wl[zl]=Du.r,wl[zl+1]=Du.g,wl[zl+2]=Du.b,_t[zl+3]=tp.x,_t[zl+4]=tp.y,_t[zl+5]=tp.z,wl[zl+3]=Du.r,wl[zl+4]=Du.g,wl[zl+5]=Du.b}drawBondLines(_t,wl,zl){if(_t.style.line){var Vl=_t.style.line;if(!Vl.hidden){var tp,Du,lp,up,_d=Vl.linewidth||Av.defaultlineWidth;zl[_d]||(zl[_d]=new b.Geometry);for(var gp=zl[_d].updateGeoGroup(6*_t.bonds.length),mp=gp.vertexArray,Rp=gp.colorArray,Ep=0;Ep<_t.bonds.length;Ep++){var wp=wl[_t.bonds[Ep]];if(wp.style.line&&!(_t.index>=wp.index)){var Tp=new $.Vector3(_t.x,_t.y,_t.z),Mp=new $.Vector3(wp.x,wp.y,wp.z),Hp=Tp.clone().add(Mp).multiplyScalar(.5),Qp=!1,i0=_t.clickable||_t.hoverable,w0=wp.clickable||wp.hoverable;(i0||w0)&&(i0&&(_t.intersectionShape===void 0&&(_t.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),_t.intersectionShape.line.push(Tp),_t.intersectionShape.line.push(Hp)),w0&&(wp.intersectionShape===void 0&&(wp.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),wp.intersectionShape.line.push(Hp),wp.intersectionShape.line.push(Mp)));var m0=(0,nt.getColorFromStyle)(_t,_t.style.line),B0=(0,nt.getColorFromStyle)(wp,wp.style.line);if(_t.bondStyles&&_t.bondStyles[Ep]){var q0=_t.bondStyles[Ep];if(!q0.iswire)continue;q0.singleBond&&(Qp=!0),q0.color1!==void 0&&(m0=j.CC.color(q0.color1)),q0.color2!==void 0&&(B0=j.CC.color(q0.color2))}var Z0,J0,H0=3*gp.vertices;if(_t.bondOrder[Ep]>1&&_t.bondOrder[Ep]<4&&!Qp){var wm=this.getSideBondV(_t,wp,Ep),bm=Mp.clone();bm.sub(Tp),_t.bondOrder[Ep]==2?(wm.multiplyScalar(.1),(tp=Tp.clone()).add(wm),(Du=Tp.clone()).sub(wm),(lp=tp.clone()).add(bm),(up=Du.clone()).add(bm),m0==B0?(gp.vertices+=4,this.addLine(mp,Rp,H0,tp,lp,m0),this.addLine(mp,Rp,H0+6,Du,up,m0)):(gp.vertices+=8,bm.multiplyScalar(.5),(Z0=tp.clone()).add(bm),(J0=Du.clone()).add(bm),this.addLine(mp,Rp,H0,tp,Z0,m0),this.addLine(mp,Rp,H0+6,Z0,lp,B0),this.addLine(mp,Rp,H0+12,Du,J0,m0),this.addLine(mp,Rp,H0+18,J0,up,B0))):_t.bondOrder[Ep]==3&&(wm.multiplyScalar(.1),(tp=Tp.clone()).add(wm),(Du=Tp.clone()).sub(wm),(lp=tp.clone()).add(bm),(up=Du.clone()).add(bm),m0==B0?(gp.vertices+=6,this.addLine(mp,Rp,H0,Tp,Mp,m0),this.addLine(mp,Rp,H0+6,tp,lp,m0),this.addLine(mp,Rp,H0+12,Du,up,m0)):(gp.vertices+=12,bm.multiplyScalar(.5),(Z0=tp.clone()).add(bm),(J0=Du.clone()).add(bm),this.addLine(mp,Rp,H0,Tp,Hp,m0),this.addLine(mp,Rp,H0+6,Hp,Mp,B0),this.addLine(mp,Rp,H0+12,tp,Z0,m0),this.addLine(mp,Rp,H0+18,Z0,lp,B0),this.addLine(mp,Rp,H0+24,Du,J0,m0),this.addLine(mp,Rp,H0+30,J0,up,B0)))}else m0==B0?(gp.vertices+=2,this.addLine(mp,Rp,H0,Tp,Mp,m0)):(gp.vertices+=4,this.addLine(mp,Rp,H0,Tp,Hp,m0),this.addLine(mp,Rp,H0+6,Hp,Mp,B0))}}}}}drawAtomSphere(_t,wl){if(_t.style.sphere){var zl=_t.style.sphere;if(!zl.hidden){var Vl=(0,nt.getColorFromStyle)(_t,zl),tp=this.getRadiusFromStyle(_t,zl);if((_t.clickable===!0||_t.hoverable)&&_t.intersectionShape!==void 0){var Du=new $.Vector3(_t.x,_t.y,_t.z);_t.intersectionShape.sphere.push(new _.Sphere(Du,tp))}d.drawSphere(wl,_t,tp,Vl)}}}drawAtomClickSphere(_t){if(_t.style.clicksphere){var wl=_t.style.clicksphere;if(!wl.hidden){var zl=this.getRadiusFromStyle(_t,wl);if((_t.clickable===!0||_t.hoverable)&&_t.intersectionShape!==void 0){var Vl=new $.Vector3(_t.x,_t.y,_t.z);_t.intersectionShape.sphere.push(new _.Sphere(Vl,zl))}}}}drawAtomInstanced(_t,wl){if(_t.style.sphere){var zl=_t.style.sphere;if(!zl.hidden){var Vl=this.getRadiusFromStyle(_t,zl),tp=(0,nt.getColorFromStyle)(_t,zl),Du=wl.updateGeoGroup(1),lp=Du.vertices,up=3*lp,_d=Du.vertexArray,gp=Du.colorArray,mp=Du.radiusArray;if(_d[up]=_t.x,_d[up+1]=_t.y,_d[up+2]=_t.z,gp[up]=tp.r,gp[up+1]=tp.g,gp[up+2]=tp.b,mp[lp]=Vl,(_t.clickable===!0||_t.hoverable)&&_t.intersectionShape!==void 0){var Rp=new $.Vector3(_t.x,_t.y,_t.z);_t.intersectionShape.sphere.push(new _.Sphere(Rp,Vl))}Du.vertices+=1}}}drawSphereImposter(_t,wl,zl,Vl){var tp,Du=_t.updateGeoGroup(4),lp=Du.vertices,up=3*lp,_d=Du.vertexArray,gp=Du.colorArray;for(tp=0;tp<4;tp++)_d[up+3*tp]=wl.x,_d[up+3*tp+1]=wl.y,_d[up+3*tp+2]=wl.z;var mp=Du.normalArray;for(tp=0;tp<4;tp++)gp[up+3*tp]=Vl.r,gp[up+3*tp+1]=Vl.g,gp[up+3*tp+2]=Vl.b;mp[up+0]=-zl,mp[up+1]=zl,mp[up+2]=0,mp[up+3]=-zl,mp[up+4]=-zl,mp[up+5]=0,mp[up+6]=zl,mp[up+7]=-zl,mp[up+8]=0,mp[up+9]=zl,mp[up+10]=zl,mp[up+11]=0,Du.vertices+=4;var Rp=Du.faceArray,Ep=Du.faceidx;Rp[Ep+0]=lp,Rp[Ep+1]=lp+1,Rp[Ep+2]=lp+2,Rp[Ep+3]=lp+2,Rp[Ep+4]=lp+3,Rp[Ep+5]=lp,Du.faceidx+=6}drawAtomImposter(_t,wl){if(_t.style.sphere){var zl=_t.style.sphere;if(!zl.hidden){var Vl=this.getRadiusFromStyle(_t,zl),tp=(0,nt.getColorFromStyle)(_t,zl);if((_t.clickable===!0||_t.hoverable)&&_t.intersectionShape!==void 0){var Du=new $.Vector3(_t.x,_t.y,_t.z);_t.intersectionShape.sphere.push(new _.Sphere(Du,Vl))}this.drawSphereImposter(wl,_t,Vl,tp)}}}calculateDashes(_t,wl,zl,Vl,tp){var Du=Math.sqrt(Math.pow(_t.x-wl.x,2)+Math.pow(_t.y-wl.y,2)+Math.pow(_t.z-wl.z,2));zl=Math.max(zl,0),tp=Math.max(tp,0)+2*zl,(Vl=Math.max(Vl,.001))+tp>Du&&(Vl=Du,tp=0);var lp,up=Math.floor((Du-Vl)/(Vl+tp))+1;tp=(Du-up*Vl)/up;for(var _d=new $.Vector3(_t.x,_t.y,_t.z),gp=new $.Vector3((wl.x-_t.x)/(Du/tp),(wl.y-_t.y)/(Du/tp),(wl.z-_t.z)/(Du/tp)),mp=new $.Vector3((wl.x-_t.x)/(Du/Vl),(wl.y-_t.y)/(Du/Vl),(wl.z-_t.z)/(Du/Vl)),Rp=[],Ep=0;Ep<up;Ep++)lp=new $.Vector3(_d.x+mp.x,_d.y+mp.y,_d.z+mp.z),Rp.push({from:_d,to:lp}),_d=new $.Vector3(lp.x+gp.x,lp.y+gp.y,lp.z+gp.z);return Rp}static drawStickImposter(_t,wl,zl,Vl,tp,Du=0,lp=0){for(var up=_t.updateGeoGroup(4),_d=up.vertices,gp=3*_d,mp=up.vertexArray,Rp=up.colorArray,Ep=up.radiusArray,wp=up.normalArray,Tp=tp.r,Mp=tp.g,Hp=tp.b,Qp=function(q0){var Z0=-q0;return Z0==0&&(Z0=-1e-4),Z0},i0=gp,w0=0;w0<4;w0++)mp[i0]=wl.x,wp[i0]=zl.x,Rp[i0]=Tp,mp[++i0]=wl.y,wp[i0]=zl.y,Rp[i0]=Mp,mp[++i0]=wl.z,wp[i0]=zl.z,Rp[i0]=w0<2?Hp:Qp(Hp),i0++;up.vertices+=4,Ep[_d]=-Vl,Ep[_d+1]=Vl,Ep[_d+2]=-Vl,Ep[_d+3]=Vl;var m0=up.faceArray,B0=up.faceidx;m0[B0+0]=_d,m0[B0+1]=_d+1,m0[B0+2]=_d+2,m0[B0+3]=_d+2,m0[B0+4]=_d+3,m0[B0+5]=_d,up.faceidx+=6}drawBondSticks(_t,wl,zl){var Vl,tp;if(_t.style.stick){var Du=_t.style.stick;if(!Du.hidden){var lp,up,_d,gp,mp,Rp,Ep,wp,Tp,Mp,Hp,Qp,i0,w0,m0=Du.radius||this.defaultStickRadius,B0=Du.doubleBondScaling||.4,q0=Du.tripleBondScaling||.25,Z0=((Vl=Du.dashedBondConfig)===null||Vl===void 0?void 0:Vl.dashLength)||.1,J0=((tp=Du.dashedBondConfig)===null||tp===void 0?void 0:tp.gapLength)||.25,H0=m0,wm=Du.singleBonds||!1,bm=Du.dashedBonds||!1,Bm=0,Im=0,e1=(0,nt.getColorFromStyle)(_t,Du);!_t.capDrawn&&_t.bonds.length<4&&(Bm=2);var n1=Ry=>{var Zv=zl.imposter?Av.drawStickImposter:d.drawCylinder;return!bm&&Ry>=1?Zv:(Yy,Ey,Fy,Gy,a2,Jy=0,v2=0,ty=.1,Cy=.25)=>{this.calculateDashes(Ey,Fy,Gy,ty,Cy).forEach(My=>{Zv(Yy,My.from,My.to,Gy,a2,Jy,v2)})}};for(_d=0;_d<_t.bonds.length;_d++){var $m=n1(_t.bondOrder[_d]),p1=wl[_t.bonds[_d]];if(Qp=i0=w0=null,_t.index<p1.index){var Cm=p1.style;if(!Cm.stick||Cm.stick.hidden)continue;var Pm=(0,nt.getColorFromStyle)(p1,Cm.stick);if(H0=m0,gp=wm,_t.bondStyles&&_t.bondStyles[_d]){if((mp=_t.bondStyles[_d]).iswire)continue;mp.radius&&(H0=mp.radius),mp.singleBond&&(gp=!0),mp.color1!==void 0&&(e1=j.CC.color(mp.color1)),mp.color2!==void 0&&(Pm=j.CC.color(mp.color2))}var y1=new $.Vector3(_t.x,_t.y,_t.z),Zm=new $.Vector3(p1.x,p1.y,p1.z);if(_t.bondOrder[_d]<=1||gp||_t.bondOrder[_d]>3){if(_t.bondOrder[_d]<1&&(H0*=_t.bondOrder[_d]),!p1.capDrawn&&p1.bonds.length<4&&(Im=2),e1!=Pm?(Qp=new $.Vector3().addVectors(y1,Zm).multiplyScalar(.5),$m(zl,y1,Qp,H0,e1,Bm,0,Z0,J0),$m(zl,Qp,Zm,H0,Pm,0,Im,Z0,J0)):$m(zl,y1,Zm,H0,e1,Bm,Im,Z0,J0),lp=_t.clickable||_t.hoverable,up=p1.clickable||p1.hoverable,lp||up){if(Qp||(Qp=new $.Vector3().addVectors(y1,Zm).multiplyScalar(.5)),lp){var w1=new _.Cylinder(y1,Qp,H0),S1=new _.Sphere(y1,H0);_t.intersectionShape.cylinder.push(w1),_t.intersectionShape.sphere.push(S1)}if(up){var Ym=new _.Cylinder(Zm,Qp,H0),P1=new _.Sphere(Zm,H0);p1.intersectionShape.cylinder.push(Ym),p1.intersectionShape.sphere.push(P1)}}}else if(_t.bondOrder[_d]>1){var av=0,T1=0;H0!=m0&&(av=2,T1=2);var t1,gv,K1,sv,U1,Sv=Zm.clone(),Uv=null;Sv.sub(y1),Uv=this.getSideBondV(_t,p1,_d),_t.bondOrder[_d]==2?(t1=H0*B0,Uv.multiplyScalar(1.5*t1),(gv=y1.clone()).add(Uv),(K1=y1.clone()).sub(Uv),(sv=gv.clone()).add(Sv),(U1=K1.clone()).add(Sv),e1!=Pm?(Qp=new $.Vector3().addVectors(gv,sv).multiplyScalar(.5),i0=new $.Vector3().addVectors(K1,U1).multiplyScalar(.5),$m(zl,gv,Qp,t1,e1,av,0),$m(zl,Qp,sv,t1,Pm,0,T1),$m(zl,K1,i0,t1,e1,av,0),$m(zl,i0,U1,t1,Pm,0,T1)):($m(zl,gv,sv,t1,e1,av,T1),$m(zl,K1,U1,t1,e1,av,T1)),lp=_t.clickable||_t.hoverable,up=p1.clickable||p1.hoverable,(lp||up)&&(Qp||(Qp=new $.Vector3().addVectors(gv,sv).multiplyScalar(.5)),i0||(i0=new $.Vector3().addVectors(K1,U1).multiplyScalar(.5)),lp&&(Rp=new _.Cylinder(gv,Qp,t1),Ep=new _.Cylinder(K1,i0,t1),_t.intersectionShape.cylinder.push(Rp),_t.intersectionShape.cylinder.push(Ep)),up&&(Tp=new _.Cylinder(sv,Qp,t1),Mp=new _.Cylinder(U1,i0,t1),p1.intersectionShape.cylinder.push(Tp),p1.intersectionShape.cylinder.push(Mp)))):_t.bondOrder[_d]==3&&(t1=H0*q0,Uv.cross(Sv),Uv.normalize(),Uv.multiplyScalar(3*t1),(gv=y1.clone()).add(Uv),(K1=y1.clone()).sub(Uv),(sv=gv.clone()).add(Sv),(U1=K1.clone()).add(Sv),e1!=Pm?(Qp=new $.Vector3().addVectors(gv,sv).multiplyScalar(.5),i0=new $.Vector3().addVectors(K1,U1).multiplyScalar(.5),w0=new $.Vector3().addVectors(y1,Zm).multiplyScalar(.5),$m(zl,gv,Qp,t1,e1,av,0),$m(zl,Qp,sv,t1,Pm,0,T1),$m(zl,y1,w0,t1,e1,Bm,0),$m(zl,w0,Zm,t1,Pm,0,Im),$m(zl,K1,i0,t1,e1,av,0),$m(zl,i0,U1,t1,Pm,0,T1)):($m(zl,gv,sv,t1,e1,av,T1),$m(zl,y1,Zm,t1,e1,Bm,Im),$m(zl,K1,U1,t1,e1,av,T1)),lp=_t.clickable||_t.hoverable,up=p1.clickable||p1.hoverable,(lp||up)&&(Qp||(Qp=new $.Vector3().addVectors(gv,sv).multiplyScalar(.5)),i0||(i0=new $.Vector3().addVectors(K1,U1).multiplyScalar(.5)),w0||(w0=new $.Vector3().addVectors(y1,Zm).multiplyScalar(.5)),lp&&(Rp=new _.Cylinder(gv.clone(),Qp.clone(),t1),Ep=new _.Cylinder(K1.clone(),i0.clone(),t1),wp=new _.Cylinder(y1.clone(),w0.clone(),t1),_t.intersectionShape.cylinder.push(Rp),_t.intersectionShape.cylinder.push(Ep),_t.intersectionShape.cylinder.push(wp)),up&&(Tp=new _.Cylinder(sv.clone(),Qp.clone(),t1),Mp=new _.Cylinder(U1.clone(),i0.clone(),t1),Hp=new _.Cylinder(Zm.clone(),w0.clone(),t1),p1.intersectionShape.cylinder.push(Tp),p1.intersectionShape.cylinder.push(Mp),p1.intersectionShape.cylinder.push(Hp))))}}}var vy=!1,py=0,Hy=!1;for(_d=0;_d<_t.bonds.length;_d++)gp=wm,_t.bondStyles&&_t.bondStyles[_d]&&((mp=_t.bondStyles[_d]).singleBond&&(gp=!0),mp.radius&&mp.radius!=m0&&(Hy=!0)),(gp||_t.bondOrder[_d]==1)&&py++;Hy?py>0&&(vy=!0):py==0&&(_t.bonds.length>0||Du.showNonBonded)&&(vy=!0),vy&&(H0=m0,zl.imposter?this.drawSphereImposter(zl.sphereGeometry,_t,H0,e1):d.drawSphere(zl,_t,H0,e1))}}}createMolObj(_t,wl){wl=wl||{};var zl,Vl,tp,Du,lp=new b.Object3D,up=[],_d={},gp={},mp=this.drawAtomSphere,Rp=null,Ep=null;wl.supportsImposters?(mp=this.drawAtomImposter,(Rp=new b.Geometry(!0)).imposter=!0,(Ep=new b.Geometry(!0,!0)).imposter=!0,Ep.sphereGeometry=new b.Geometry(!0),Ep.sphereGeometry.imposter=!0,Ep.drawnCaps={}):wl.supportsAIA?(mp=this.drawAtomInstanced,(Rp=new b.Geometry(!1,!0,!0)).instanced=!0,Ep=new b.Geometry(!0)):(Rp=new b.Geometry(!0),Ep=new b.Geometry(!0));var wp,Tp={},Mp=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(zl=0,tp=_t.length;zl<tp;zl++){var Hp=_t[zl];if(Hp&&Hp.style){for(Vl in(Hp.clickable||Hp.hoverable)&&Hp.intersectionShape===void 0&&(Hp.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Du={line:void 0,cross:void 0,stick:void 0,sphere:void 0})Hp.style[Vl]?Hp.style[Vl].opacity?Du[Vl]=parseFloat(Hp.style[Vl].opacity):Du[Vl]=1:Du[Vl]=void 0,Tp[Vl]?Du[Vl]!=null&&Tp[Vl]!=Du[Vl]&&(console.log("Warning: "+Vl+" opacity is ambiguous"),Tp[Vl]=1):Tp[Vl]=Du[Vl];mp.call(this,Hp,Rp),this.drawAtomClickSphere(Hp),this.drawAtomCross(Hp,gp),this.drawBondLines(Hp,_t,_d),this.drawBondSticks(Hp,_t,Ep),Hp.style.cartoon===void 0||Hp.style.cartoon.hidden||(Hp.style.cartoon.color!=="spectrum"||typeof Hp.resi!="number"||Hp.hetflag||(Hp.resi<Mp[0]&&(Mp[0]=Hp.resi),Hp.resi>Mp[1]&&(Mp[1]=Hp.resi)),up.push(Hp))}}if(up.length>0&&h0(lp,up,Mp,this.defaultCartoonQuality),Rp&&Rp.vertices>0){Rp.initTypedArrays();var Qp=null,i0=null;Rp.imposter?Qp=new b.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):Rp.instanced?(i0=new b.Geometry(!0),d.drawSphere(i0,{x:0,y:0,z:0},1,new j.Color(.5,.5,.5)),i0.initTypedArrays(),Qp=new b.InstancedMaterial({sphereMaterial:new b.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:i0})):Qp=new b.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Tp.sphere<1&&Tp.sphere>=0&&(Qp.transparent=!0,Qp.opacity=Tp.sphere),i0=new b.Mesh(Rp,Qp),lp.add(i0)}if(Ep.vertices>0){var w0=null,m0=null,B0=Ep.sphereGeometry;B0&&B0.vertices!==void 0&&B0.vertices!=0||(B0=null),Ep.initTypedArrays(),B0&&B0.initTypedArrays();var q0={ambient:0,vertexColors:!0,reflectivity:0};Ep.imposter?(w0=new b.StickImposterMaterial(q0),m0=new b.SphereImposterMaterial(q0)):(w0=new b.MeshLambertMaterial(q0),m0=new b.MeshLambertMaterial(q0),w0.wireframe&&(Ep.setUpWireframe(),B0&&B0.setUpWireframe())),Tp.stick<1&&Tp.stick>=0&&(w0.transparent=!0,w0.opacity=Tp.stick,m0.transparent=!0,m0.opacity=Tp.stick);var Z0=new b.Mesh(Ep,w0);if(lp.add(Z0),B0){var J0=new b.Mesh(B0,m0);lp.add(J0)}}for(zl in _d)if(_d.hasOwnProperty(zl)){wp=zl;var H0=new b.LineBasicMaterial({linewidth:wp,vertexColors:!0});Tp.line<1&&Tp.line>=0&&(H0.transparent=!0,H0.opacity=Tp.line),_d[zl].initTypedArrays();var wm=new b.Line(_d[zl],H0,b.LineStyle.LinePieces);lp.add(wm)}for(zl in gp)if(gp.hasOwnProperty(zl)){wp=zl;var bm=new b.LineBasicMaterial({linewidth:wp,vertexColors:!0});Tp.cross<1&&Tp.cross>=0&&(bm.transparent=!0,bm.opacity=Tp.cross),gp[zl].initTypedArrays();var Bm=new b.Line(gp[zl],bm,b.LineStyle.LinePieces);lp.add(Bm)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var Im,e1=new b.Object3D;for(Im=0;Im<this.modelData.symmetries.length;Im++){var n1=new b.Object3D;(n1=lp.clone()).matrix.copy(this.modelData.symmetries[Im]),n1.matrixAutoUpdate=!1,e1.add(n1)}return e1}return lp}getViewer(){return this.viewer}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(_t){this.atoms=_t.atoms,this.frames=_t.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const _t=this.modelData.cryst;this.modelData.cryst.matrix=(0,$.conversionMatrix3)(_t.a,_t.b,_t.c,_t.alpha,_t.beta,_t.gamma)}return this.modelData.cryst}return null}setCrystData(_t,wl,zl,Vl,tp,Du){_t=_t||1,wl=wl||1,zl=zl||1,Vl=Vl||90,tp=tp||90,Du=Du||90;const lp=(0,$.conversionMatrix3)(_t,wl,zl,Vl,tp,Du);this.modelData.cryst={a:_t,b:wl,c:zl,alpha:Vl,beta:tp,gamma:Du,matrix:lp}}setCrystMatrix(_t){_t=_t||new $.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:_t}}getSymmetries(){return this.modelData.symmetries===void 0&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(_t){_t===void 0?this.modelData.symmetries=[this.idMatrix]:(this.modelData.symmetries=_t,this.molObj=null)}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(_t,wl,zl,Vl){var tp=wl-_t;return tp<-zl?wl+Vl:tp>zl?wl-Vl:wl}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var _t=this.box[0],wl=this.box[1],zl=this.box[2],Vl=.9*_t,tp=.9*wl,Du=.9*zl,lp=0;lp<this.atomdfs.length;lp++)for(var up=this.atomdfs[lp],_d=1;_d<up.length;_d++){var gp=this.atoms[up[_d][0]],mp=this.atoms[up[_d][1]];gp.x=this.adjustCoord(mp.x,gp.x,Vl,_t),gp.y=this.adjustCoord(mp.y,gp.y,tp,wl),gp.z=this.adjustCoord(mp.z,gp.z,Du,zl)}}setFrame(_t){var wl=this.getNumFrames();let zl=this,Vl=this.viewer;return new Promise(function(tp,Du){if(wl==0&&tp(),(_t<0||_t>=wl)&&(_t=wl-1),zl.frames.url!=null){var lp=zl.frames.url;(0,nt.getbin)(lp+"/traj/frame/"+_t+"/"+zl.frames.path,void 0,"POST",void 0).then(function(up){for(var _d=new Float32Array(up,44),gp=0,mp=0;mp<zl.atoms.length;mp++)zl.atoms[mp].x=_d[gp++],zl.atoms[mp].y=_d[gp++],zl.atoms[mp].z=_d[gp++];zl.box&&zl.atomdfs&&zl.adjustCoordinatesToBox(),tp()}).catch(Du)}else zl.atoms=zl.frames[_t],tp();zl.molObj=null,zl.modelDatas&&_t<zl.modelDatas.length&&(zl.modelData=zl.modelDatas[_t],zl.unitCellObjects&&Vl&&(Vl.removeUnitCell(zl),Vl.addUnitCell(zl)))})}addFrame(_t){this.frames.push(_t)}vibrate(_t=10,wl=1,zl=!1,Vl){var tp=0,Du=_t;let lp=this.viewer;zl&&(tp=-_t,Du=_t),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),tp<Du&&(this.frames=[]),zl&&(this.frames.origIndex=_t);for(var up=tp;up<Du;up++){var _d=[],gp=this.frames.length;if(up!=0||Vl){for(var mp=0;mp<this.atoms.length;mp++){var Rp=(0,nt.getAtomProperty)(this.atoms[mp],"dx"),Ep=(0,nt.getAtomProperty)(this.atoms[mp],"dy"),wp=(0,nt.getAtomProperty)(this.atoms[mp],"dz"),Tp=new $.Vector3(Rp,Ep,wp),Mp=new $.Vector3(this.atoms[mp].x,this.atoms[mp].y,this.atoms[mp].z),Hp=up*wl/_t;Tp.multiplyScalar(Hp),Mp.add(Tp);var Qp={};for(var i0 in this.atoms[mp])Qp[i0]=this.atoms[mp][i0];if(Qp.x=Mp.x,Qp.y=Mp.y,Qp.z=Mp.z,_d.push(Qp),lp&&Vl){var w0=(0,nt.extend)({},Vl),m0=new $.Vector3(Rp,Ep,wp);if(m0.multiplyScalar(wl),m0.add(Mp),w0.start=Mp,w0.end=m0,w0.frame=gp,!w0.color){var B0=Qp.style.sphere;B0||(B0=Qp.style.stick),B0||(B0=Qp.style.line),w0.color=(0,nt.getColorFromStyle)(Qp,B0)}lp.addArrow(w0)}}this.frames.push(_d)}else this.frames.push(this.atoms)}}setAtomDefaults(_t){for(let wl=0;wl<_t.length;wl++){let zl=_t[wl];zl&&(zl.style=zl.style||(0,nt.deepCopy)(Av.defaultAtomStyle),zl.color=zl.color||this.ElementColors[zl.elem]||this.defaultColor,zl.model=this.id,(zl.clickable||zl.hoverable)&&(zl.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(_t,wl,zl={}){var Vl=Av.parseMolData(_t,wl,zl);this.dontDuplicateAtoms=!zl.duplicateAssemblyAtoms;var tp=Vl.modelData;if(tp&&(Array.isArray(tp)?(this.modelData=tp[0],zl.frames&&(this.modelDatas=tp)):this.modelData=tp),Vl.box?this.box=Vl.box:this.box=null,this.frames.length==0){for(let lp=0;lp<Vl.length;lp++)Vl[lp].length!=0&&this.frames.push(Vl[lp]);this.frames[0]&&(this.atoms=this.frames[0])}else if(zl.frames)for(let lp=0;lp<Vl.length;lp++)this.frames.push(Vl[lp]);else for(var Du=0;Du<Vl.length;Du++)this.addAtoms(Vl[Du]);for(let lp=0;lp<this.frames.length;lp++)this.setAtomDefaults(this.frames[lp]);zl.vibrate&&zl.vibrate.frames&&zl.vibrate.amplitude&&this.vibrate(zl.vibrate.frames,zl.vibrate.amplitude),zl.style&&this.setStyle({},zl.style)}setDontDuplicateAtoms(_t){this.dontDuplicateAtoms=_t}setModelData(_t){this.modelData=_t}propertyMatches(_t,wl){if(_t==wl)return!0;if(typeof wl=="string"&&typeof _t=="number"){var zl=wl.match(/(-?\d+)\s*-\s*(-?\d+)/);if(zl){var Vl=parseInt(zl[1]),tp=parseInt(zl[2]);if(zl&&_t>=Vl&&_t<=tp)return!0}}return!1}static deepCopyAndCache(_t,wl){if(typeof _t!="object"||_t==null||_t instanceof Av||_t.__cache_created)return _t;const zl={};for(const Vl in _t){const tp=_t[Vl];if(Array.isArray(tp)){zl[Vl]=[];for(let Du=0;Du<tp.length;Du++)zl[Vl].push(Av.deepCopyAndCache(tp[Du],wl))}else zl[Vl]=typeof tp=="object"&&Vl!="properties"&&Vl!="model"?Av.deepCopyAndCache(tp,wl):tp;if(Vl=="and"||Vl=="or"){const Du=[];for(const lp of zl[Vl]){const up=new Set;for(const _d of wl.selectedAtoms(lp))up.add(_d.index);Du.push(up)}if(Vl=="and"){const lp=function(_d,gp){const mp=new Set;for(const Rp of gp)_d.has(Rp)&&mp.add(Rp);return mp};let up=new Set(Du[0]);for(const _d of Du.splice(1))up=lp(up,_d);zl[Vl].__cached_results=up}else if(Vl=="or"){const lp=new Set;for(const up of Du)for(const _d of up)lp.add(_d);zl[Vl].__cached_results=lp}}}return zl.__cache_created=!0,zl}atomIsSelected(_t,wl){if(wl===void 0)return!0;var zl=!!wl.invert,Vl=!0;for(var tp in wl)if(tp=="and"||tp=="or"||tp=="not"){if(tp=="not"){if(this.atomIsSelected(_t,wl[tp])){Vl=!1;break}}else if(wl[tp].__cached_results===void 0&&(wl=Av.deepCopyAndCache(wl,this)),!(Vl=wl[tp].__cached_results.has(_t.index)))break}else if(tp==="predicate"){if(!wl.predicate(_t)){Vl=!1;break}}else if(tp=="properties"&&_t[tp]){for(var Du in wl.properties)if(!Du.startsWith("__cache")){if(_t.properties[Du]===void 0){Vl=!1;break}if(_t.properties[Du]!=wl.properties[Du]){Vl=!1;break}}}else if(tp=="model"){let _d=wl.model;if(typeof _d=="number"&&_d<0&&(_d=this.viewer.getNextModelId()+_d),Array.isArray(_d)){let gp=!1;for(let mp=0;mp<_d.length;mp++)if(_d[mp]==this||_d[mp]==this.id){gp=!0;break}if(!gp){Vl=!1;break}}else if(_d!=this&&_d!=this.id){Vl=!1;break}}else if(wl.hasOwnProperty(tp)&&!Av.ignoredKeys.has(tp)&&!tp.startsWith("__cache")){if(_t[tp]===void 0){Vl=!1;break}let _d=!1;if(tp==="bonds"){if(wl[tp]!=_t.bonds.length){Vl=!1;break}}else if(Array.isArray(wl[tp])){var lp=wl[tp],up=_t[tp];for(let gp=0;gp<lp.length;gp++)if(this.propertyMatches(up,lp[gp])){_d=!0;break}if(!_d){Vl=!1;break}}else{let gp=wl[tp];if(!this.propertyMatches(_t[tp],gp)){Vl=!1;break}}}return zl?!Vl:Vl}static squaredDistance(_t,wl){var zl=wl.x-_t.x,Vl=wl.y-_t.y,tp=wl.z-_t.z;return zl*zl+Vl*Vl+tp*tp}expandAtomList(_t,wl){if(wl<=0)return _t;for(var zl=(0,nt.getExtent)(_t,void 0),Vl=[[],[],[]],tp=0;tp<3;tp++)Vl[0][tp]=zl[0][tp]-wl,Vl[1][tp]=zl[1][tp]+wl,Vl[2][tp]=zl[2][tp];var Du=[];for(let gp=0;gp<this.atoms.length;gp++){var lp=this.atoms[gp].x,up=this.atoms[gp].y,_d=this.atoms[gp].z;lp>=Vl[0][0]&&lp<=Vl[1][0]&&up>=Vl[0][1]&&up<=Vl[1][1]&&_d>=Vl[0][2]&&_d<=Vl[1][2]&&(lp>=zl[0][0]&&lp<=zl[1][0]&&up>=zl[0][1]&&up<=zl[1][1]&&_d>=zl[0][2]&&_d<=zl[1][2]||Du.push(this.atoms[gp]))}return Du}static getFloat(_t){return typeof _t=="number"?_t:parseFloat(_t)}selectedAtoms(_t,wl){var zl=[];_t=Av.deepCopyAndCache(_t||{},this),wl||(wl=this.atoms);for(var Vl=wl.length,tp=0;tp<Vl;tp++){var Du=wl[tp];Du&&this.atomIsSelected(Du,_t)&&zl.push(Du)}if(_t.hasOwnProperty("expand")){const Qp=Av.getFloat(_t.expand);let i0=this.expandAtomList(zl,Qp),w0=zl.length;const m0=Qp*Qp;for(let B0=0;B0<i0.length;B0++)for(let q0=0;q0<w0;q0++){var lp=Av.squaredDistance(i0[B0],zl[q0]);lp<m0&&lp>0&&zl.push(i0[B0])}}if(_t.hasOwnProperty("within")&&_t.within.hasOwnProperty("sel")&&_t.within.hasOwnProperty("distance")){var up=this.selectedAtoms(_t.within.sel,this.atoms),_d={};const Qp=Av.getFloat(_t.within.distance),i0=Qp*Qp;for(let w0=0;w0<up.length;w0++)for(let m0=0;m0<zl.length;m0++){let B0=Av.squaredDistance(up[w0],zl[m0]);B0<i0&&B0>0&&(_d[m0]=1)}var gp=[];if(_t.within.invert)for(let w0=0;w0<zl.length;w0++)_d[w0]||gp.push(zl[w0]);else for(let w0 in _d)gp.push(zl[w0]);zl=gp}if(_t.hasOwnProperty("byres")){var mp={},Rp=[],Ep=[];for(let Qp=0;Qp<zl.length;Qp++){let i0=zl[Qp];var wp=i0.chain,Tp=i0.resi;if(mp[wp]===void 0&&(mp[wp]={}),i0.hasOwnProperty("resi")&&mp[wp][Tp]===void 0){for(mp[wp][Tp]=!0,Ep.push(i0);Ep.length>0;)if(i0=Ep.pop(),wp=i0.chain,Tp=i0.resi,Rp[i0.index]===void 0){Rp[i0.index]=!0;for(var Mp=0;Mp<i0.bonds.length;Mp++){var Hp=this.atoms[i0.bonds[Mp]];Rp[Hp.index]===void 0&&Hp.hasOwnProperty("resi")&&Hp.chain==wp&&Hp.resi==Tp&&(Ep.push(Hp),zl.push(Hp))}}}}}return zl}addAtoms(_t){this.molObj=null;var wl,zl=this.atoms.length,Vl=[];for(wl=0;wl<_t.length;wl++)_t[wl].index===void 0&&(_t[wl].index=wl),_t[wl].serial===void 0&&(_t[wl].serial=wl),Vl[_t[wl].index]=zl+wl;for(wl=0;wl<_t.length;wl++){var tp=_t[wl],Du=Vl[tp.index],lp=(0,nt.extend)({},tp);lp.index=Du,lp.bonds=[],lp.bondOrder=[],lp.model=this.id,lp.style=lp.style||(0,nt.deepCopy)(Av.defaultAtomStyle),lp.color===void 0&&(lp.color=this.ElementColors[lp.elem]||this.defaultColor);for(var up=tp.bonds?tp.bonds.length:0,_d=0;_d<up;_d++){var gp=Vl[tp.bonds[_d]];gp!==void 0&&(lp.bonds.push(gp),lp.bondOrder.push(tp.bondOrder?tp.bondOrder[_d]:1))}this.atoms.push(lp)}}assignBonds(){(0,s0.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms(_t){this.molObj=null;var wl,zl=[];for(wl=0;wl<_t.length;wl++)zl[_t[wl].index]=!0;var Vl=[];for(wl=0;wl<this.atoms.length;wl++){var tp=this.atoms[wl];zl[tp.index]||Vl.push(tp)}this.atoms=[],this.addAtoms(Vl)}setStyle(_t,wl,zl){wl===void 0&&zl===void 0&&(wl=_t,_t={}),typeof wl=="string"&&(wl=(0,nt.specStringToObject)(wl));var Vl=!1,tp=this,Du=function(up){var _d=tp.selectedAtoms(_t,up);for(let gp=0;gp<up.length;gp++)up[gp]&&(up[gp].capDrawn=!1);for(let gp=0;gp<_d.length;gp++){Vl=!0,(_d[gp].clickable||_d[gp].hoverable)&&(_d[gp].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),zl||(_d[gp].style={});for(let mp in wl)wl.hasOwnProperty(mp)&&(_d[gp].style[mp]=_d[gp].style[mp]||{},Object.assign(_d[gp].style[mp],wl[mp]))}};if(_t.frame!==void 0&&_t.frame<this.frames.length){let up=_t.frame;up<0&&(up=this.frames.length+up),Du(this.frames[up])}else{Du(this.atoms);for(var lp=0;lp<this.frames.length;lp++)this.frames[lp]!==this.atoms&&Du(this.frames[lp])}Vl&&(this.molObj=null)}setClickable(_t,wl,zl){if(wl=!!wl,(zl=(0,nt.makeFunction)(zl))!==null){var Vl=this.selectedAtoms(_t,this.atoms),tp=Vl.length;for(let Du=0;Du<tp;Du++)Vl[Du].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Vl[Du].clickable=wl,zl&&(Vl[Du].callback=zl);tp>0&&(this.molObj=null)}else console.log("Callback is not a function")}setHoverable(_t,wl,zl,Vl){if(wl=!!wl,zl=(0,nt.makeFunction)(zl),Vl=(0,nt.makeFunction)(Vl),zl!==null)if(Vl!==null){var tp=this.selectedAtoms(_t,this.atoms),Du=tp.length;for(let lp=0;lp<Du;lp++)tp[lp].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},tp[lp].hoverable=wl,zl&&(tp[lp].hover_callback=zl),Vl&&(tp[lp].unhover_callback=Vl);Du>0&&(this.molObj=null)}else console.log("Unhover_callback is not a function");else console.log("Hover_callback is not a function")}enableContextMenu(_t,wl){var zl;wl=!!wl;var Vl=this.selectedAtoms(_t,this.atoms),tp=Vl.length;for(zl=0;zl<tp;zl++)Vl[zl].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Vl[zl].contextMenuEnabled=wl;tp>0&&(this.molObj=null)}setColorByElement(_t,wl){if(this.molObj===null||!Av.sameObj(wl,this.lastColors)){this.lastColors=wl;var zl=this.selectedAtoms(_t,zl);zl.length>0&&(this.molObj=null);for(var Vl=0;Vl<zl.length;Vl++){var tp=zl[Vl];wl[tp.elem]!==void 0&&(tp.color=wl[tp.elem])}}}setColorByProperty(_t,wl,zl,Vl){var tp,Du,lp=this.selectedAtoms(_t,lp);for(this.lastColors=null,lp.length>0&&(this.molObj=null),typeof zl=="string"&&rt.Gradient.builtinGradients[zl]!==void 0&&(zl=new rt.Gradient.builtinGradients[zl]),Vl||(Vl=zl.range()),Vl||(Vl=(0,nt.getPropertyRange)(lp,wl)),tp=0;tp<lp.length;tp++)Du=lp[tp],(0,nt.getAtomProperty)(Du,wl)!=null&&(Du.color=zl.valueToHex(parseFloat(Du.properties[wl]),Vl))}setColorByFunction(_t,wl){var zl=this.selectedAtoms(_t,zl);if(typeof wl=="function"){this.lastColors=null,zl.length>0&&(this.molObj=null);for(let Vl=0;Vl<zl.length;Vl++){let tp=zl[Vl];tp.color=wl(tp)}}}toCDObject(_t=!1){var wl={a:[],b:[]};_t&&(wl.s=[]);for(let Vl=0;Vl<this.atoms.length;Vl++){let tp={},Du=this.atoms[Vl];if(tp.x=Du.x,tp.y=Du.y,tp.z=Du.z,Du.elem!="C"&&(tp.l=Du.elem),_t){for(var zl=0;zl<wl.s.length&&JSON.stringify(Du.style)!==JSON.stringify(wl.s[zl]);)zl++;zl===wl.s.length&&wl.s.push(Du.style),zl!==0&&(tp.s=zl)}wl.a.push(tp);for(let lp=0;lp<Du.bonds.length;lp++){let up=Vl,_d=Du.bonds[lp];if(up>=_d)continue;let gp={b:up,e:_d},mp=Du.bondOrder[lp];mp!=1&&(gp.o=mp),wl.b.push(gp)}}return wl}globj(_t,wl){(this.molObj===null||wl.regen)&&(this.molObj=this.createMolObj(this.atoms,wl),this.renderedMolObj&&(_t.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),_t.add(this.renderedMolObj))}exportVRML(){return this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1}).vrml()}removegl(_t){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),_t.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(_t,wl,zl){let Vl=this.selectedAtoms(wl),tp=this.viewer,Du=(0,nt.deepCopy)(zl);for(let up=0;up<Vl.length;up++){let _d=Vl[up];var lp=null;_d[_t]!==void 0?lp=String(_d[_t]):_d.properties[_t]!==void 0&&(lp=String(_d.properties[_t])),lp!=null&&(Du.position=_d,tp.addLabel(lp,Du))}}addResLabels(_t,wl,zl=!1){let Vl=this.viewer;var tp=[],Du=function(up,_d){for(var gp=up.selectedAtoms(_t,gp),mp={},Rp=0;Rp<gp.length;Rp++){var Ep=gp[Rp],wp=Ep.chain,Tp=Ep.resn+""+Ep.resi;mp[wp]||(mp[wp]={}),mp[wp][Tp]||(mp[wp][Tp]=[]),mp[wp][Tp].push(Ep)}var Mp=(0,nt.deepCopy)(wl);for(let Qp in mp)if(mp.hasOwnProperty(Qp)){var Hp=mp[Qp];for(let i0 in Hp)if(Hp.hasOwnProperty(i0)){let w0=Hp[i0],m0=new $.Vector3(0,0,0);for(let q0=0;q0<w0.length;q0++){let Z0=w0[q0];m0.x+=Z0.x,m0.y+=Z0.y,m0.z+=Z0.z}m0.divideScalar(w0.length),Mp.position=m0,Mp.frame=_d;let B0=Vl.addLabel(i0,Mp,void 0,!0);tp.push(B0)}}};if(zl){var lp=this.getNumFrames();let up=this.atoms;for(let _d=0;_d<lp;_d++)this.frames[_d]&&(this.atoms=this.frames[_d],Du(this,_d));this.atoms=up}else Du(this);return tp}setupDFS(){this.atomdfs=[];var _t=this,wl=new Int8Array(this.atoms.length);wl.fill(0);for(var zl=function(Du,lp,up){up.push([Du,lp]);var _d=_t.atoms[Du];wl[Du]=1;for(var gp=0;gp<_d.bonds.length;gp++){var mp=_d.bonds[gp];_t.atoms[mp]&&!wl[mp]&&zl(mp,Du,up)}},Vl=0;Vl<this.atoms.length;Vl++)if(this.atoms[Vl]&&!wl[Vl]){var tp=[];zl(Vl,-1,tp),this.atomdfs.push(tp)}}setCoordinatesFromURL(_t,wl){this.frames=[];var zl=this;return this.box&&this.setupDFS(),_t.startsWith("http")||(_t="http://"+_t),(0,nt.get)(_t+"/traj/numframes/"+wl,function(Vl){if(!isNaN(parseInt(Vl)))return zl.frames.push(zl.atoms),zl.frames.numFrames=Vl,zl.frames.url=_t,zl.frames.path=wl,zl.setFrame(0)})}setCoordinates(_t,wl){if(!_t)return[];if(/\.gz$/.test(wl=wl||"")){wl=wl.replace(/\.gz$/,"");try{_t=(0,nt.inflateString)(_t)}catch(gp){console.log(gp)}}if({mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""}.hasOwnProperty(wl)){this.frames=[];for(var zl=this.atoms.length,Vl=Av.parseCrd(_t,wl),tp=0;tp<Vl.length;){for(var Du=[],lp=0;lp<zl;lp++){var up={};for(var _d in this.atoms[lp])up[_d]=this.atoms[lp][_d];Du[lp]=up,Du[lp].x=Vl[tp++],Du[lp].y=Vl[tp++],Du[lp].z=Vl[tp++]}this.frames.push(Du)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(_t){}static parseCrd(_t,wl){var zl=[],Vl=0;if(wl=="pdb")for(var tp=_t.indexOf(`
ATOM`);tp!=-1;){for(;_t.slice(tp,tp+5)==`
ATOM`||_t.slice(tp,tp+7)==`
HETATM`;)zl[Vl++]=parseFloat(_t.slice(tp+31,tp+39)),zl[Vl++]=parseFloat(_t.slice(tp+39,tp+47)),zl[Vl++]=parseFloat(_t.slice(tp+47,tp+55)),tp=_t.indexOf(`
`,tp+54),_t.slice(tp,tp+4)==`
TER`&&(tp=_t.indexOf(`
`,tp+5));tp=_t.indexOf(`
ATOM`,tp)}else if(wl=="netcdf"){var Du=new B2(_t);zl=[].concat.apply([],Du.getDataVariable("coordinates"))}else{if(wl=="array"||Array.isArray(_t))return _t.flat(2);{let lp=_t.indexOf(`
`);wl=="inpcrd"&&(lp=_t.indexOf(`
`,lp+1)),zl=(_t=_t.slice(lp+1)).match(/\S+/g).map(parseFloat)}}return zl}static parseMolData(_t,wl="",zl){if(!_t)return[];if(/\.gz$/.test(wl)){wl=wl.replace(/\.gz$/,"");try{_t=wl.match(/bcif/i)?(0,nt.inflateString)(_t,!1):(0,nt.inflateString)(_t)}catch(Vl){console.log(Vl)}}return x1[wl]===void 0&&(wl=wl.split(".").pop(),x1[wl]===void 0&&(console.log("Unknown format: "+wl),wl=_t instanceof Uint8Array?"bcif":_t.match(/^@<TRIPOS>MOLECULE/gm)?"mol2":_t.match(/^data_/gm)&&_t.match(/^loop_/gm)?"cif":_t.match(/^HETATM/gm)||_t.match(/^ATOM/gm)?"pdb":_t.match(/ITEM: TIMESTEP/gm)?"lammpstrj":_t.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?"sdf":_t.match(/^%VERSION\s+VERSION_STAMP/gm)?"prmtop":"xyz",console.log("Best guess: "+wl))),(0,x1[wl])(_t,zl)}}var qy;Av.defaultAtomStyle={line:{}},Av.defaultlineWidth=1,Av.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},Av.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"]),function(c0){c0[c0.VDW=1]="VDW",c0[c0.MS=2]="MS",c0[c0.SAS=3]="SAS",c0[c0.SES=4]="SES"}(qy||(qy={}));var zy=!1;function z2(c0){zy=c0}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(zy=!0);class Z1{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(_t,wl,zl,Vl){let tp=!!Vl.fulltable,Du=Vl.hasOwnProperty("origin")&&Vl.origin.hasOwnProperty("x")?Vl.origin:{x:0,y:0,z:0},lp=!!Vl.voxel,up=Vl.matrix,_d=Vl.nX||0,gp=Vl.nY||0,mp=Vl.nZ||0,Rp=Vl.scale||1,Ep=null;Ep=Vl.unitCube?Vl.unitCube:{x:Rp,y:Rp,z:Rp};let wp,Tp,Mp=new Int32Array(_d*gp*mp);for(wp=0,Tp=Mp.length;wp<Tp;++wp)Mp[wp]=-1;let Hp=function(m0,B0,q0,Z0,J0,H0){let wm={x:0,y:0,z:0},bm=J0;if(!(Z0&1<<J0)&&Z0&1<<H0&&(bm=H0),1&bm&&q0++,2&bm&&B0++,4&bm&&m0++,up){let Im=new $.Vector3(m0,B0,q0);Im=Im.applyMatrix4(up),wm={x:Im.x,y:Im.y,z:Im.z}}else wm.x=Du.x+Ep.x*m0,wm.y=Du.y+Ep.y*B0,wm.z=Du.z+Ep.z*q0;let Bm=(gp*m0+B0)*mp+q0;return lp?(wl.push(wm),wl.length-1):(Mp[Bm]<0&&(Mp[Bm]=wl.length,wl.push(wm)),Mp[Bm])},Qp=new Int32Array(12),i0=tp?this.edgeTable2:this.edgeTable,w0=tp?this.triTable2:this.triTable;for(wp=0;wp<_d-1;++wp)for(let m0=0;m0<gp-1;++m0)for(let B0=0;B0<mp-1;++B0){let q0=0;for(let H0=0;H0<8;++H0)q0|=!!(_t[(gp*(wp+((4&H0)>>2))+m0+((2&H0)>>1))*mp+B0+(1&H0)]&this.ISDONE)<<H0;if(q0===0||q0===255)continue;let Z0=i0[q0];if(Z0===0)continue;let J0=w0[q0];1&Z0&&(Qp[0]=Hp(wp,m0,B0,q0,0,1)),2&Z0&&(Qp[1]=Hp(wp,m0,B0,q0,1,3)),4&Z0&&(Qp[2]=Hp(wp,m0,B0,q0,3,2)),8&Z0&&(Qp[3]=Hp(wp,m0,B0,q0,2,0)),16&Z0&&(Qp[4]=Hp(wp,m0,B0,q0,4,5)),32&Z0&&(Qp[5]=Hp(wp,m0,B0,q0,5,7)),64&Z0&&(Qp[6]=Hp(wp,m0,B0,q0,7,6)),128&Z0&&(Qp[7]=Hp(wp,m0,B0,q0,6,4)),256&Z0&&(Qp[8]=Hp(wp,m0,B0,q0,0,4)),512&Z0&&(Qp[9]=Hp(wp,m0,B0,q0,1,5)),1024&Z0&&(Qp[10]=Hp(wp,m0,B0,q0,3,7)),2048&Z0&&(Qp[11]=Hp(wp,m0,B0,q0,2,6));for(let H0=0;H0<J0.length;H0+=3){let wm=Qp[J0[H0]],bm=Qp[J0[H0+1]],Bm=Qp[J0[H0+2]];lp&&H0>=3&&(wl.push(wl[wm]),wm=wl.length-1,wl.push(wl[bm]),bm=wl.length-1,wl.push(wl[Bm]),Bm=wl.length-1),zl.push(wm),zl.push(bm),zl.push(Bm)}}}laplacianSmooth(_t,wl,zl){let Vl,tp,Du,lp,up,_d=new Array(wl.length);for(Vl=0,tp=wl.length;Vl<tp;Vl++)_d[Vl]={x:0,y:0,z:0};let gp,mp=new Array(20);for(Vl=0;Vl<20;Vl++)mp[Vl]=new Array(wl.length);for(Vl=0,tp=wl.length;Vl<tp;Vl++)mp[0][Vl]=0;for(Vl=0,tp=zl.length/3;Vl<tp;Vl++){let Ep=3*Vl,wp=3*Vl+1,Tp=3*Vl+2;for(gp=!0,Du=0,lp=mp[0][zl[Ep]];Du<lp;Du++)if(zl[wp]==mp[Du+1][zl[Ep]]){gp=!1;break}for(gp&&(mp[0][zl[Ep]]++,mp[mp[0][zl[Ep]]][zl[Ep]]=zl[wp]),gp=!0,Du=0,lp=mp[0][zl[Ep]];Du<lp;Du++)if(zl[Tp]==mp[Du+1][zl[Ep]]){gp=!1;break}for(gp&&(mp[0][zl[Ep]]++,mp[mp[0][zl[Ep]]][zl[Ep]]=zl[Tp]),gp=!0,Du=0,lp=mp[0][zl[wp]];Du<lp;Du++)if(zl[Ep]==mp[Du+1][zl[wp]]){gp=!1;break}for(gp&&(mp[0][zl[wp]]++,mp[mp[0][zl[wp]]][zl[wp]]=zl[Ep]),gp=!0,Du=0,lp=mp[0][zl[wp]];Du<lp;Du++)if(zl[Tp]==mp[Du+1][zl[wp]]){gp=!1;break}for(gp&&(mp[0][zl[wp]]++,mp[mp[0][zl[wp]]][zl[wp]]=zl[Tp]),gp=!0,Du=0;Du<mp[0][zl[Tp]];Du++)if(zl[Ep]==mp[Du+1][zl[Tp]]){gp=!1;break}for(gp&&(mp[0][zl[Tp]]++,mp[mp[0][zl[Tp]]][zl[Tp]]=zl[Ep]),gp=!0,Du=0,lp=mp[0][zl[Tp]];Du<lp;Du++)if(zl[wp]==mp[Du+1][zl[Tp]]){gp=!1;break}gp&&(mp[0][zl[Tp]]++,mp[mp[0][zl[Tp]]][zl[Tp]]=zl[wp])}let Rp=.5;for(up=0;up<_t;up++){for(Vl=0,tp=wl.length;Vl<tp;Vl++)if(mp[0][Vl]<3)_d[Vl].x=wl[Vl].x,_d[Vl].y=wl[Vl].y,_d[Vl].z=wl[Vl].z;else if(mp[0][Vl]==3||mp[0][Vl]==4){for(_d[Vl].x=0,_d[Vl].y=0,_d[Vl].z=0,Du=0,lp=mp[0][Vl];Du<lp;Du++)_d[Vl].x+=wl[mp[Du+1][Vl]].x,_d[Vl].y+=wl[mp[Du+1][Vl]].y,_d[Vl].z+=wl[mp[Du+1][Vl]].z;_d[Vl].x+=Rp*wl[Vl].x,_d[Vl].y+=Rp*wl[Vl].y,_d[Vl].z+=Rp*wl[Vl].z,_d[Vl].x/=Rp+mp[0][Vl],_d[Vl].y/=Rp+mp[0][Vl],_d[Vl].z/=Rp+mp[0][Vl]}else{for(_d[Vl].x=0,_d[Vl].y=0,_d[Vl].z=0,Du=0,lp=mp[0][Vl];Du<lp;Du++)_d[Vl].x+=wl[mp[Du+1][Vl]].x,_d[Vl].y+=wl[mp[Du+1][Vl]].y,_d[Vl].z+=wl[mp[Du+1][Vl]].z;_d[Vl].x+=1*wl[Vl].x,_d[Vl].y+=1*wl[Vl].y,_d[Vl].z+=1*wl[Vl].z,_d[Vl].x/=1+mp[0][Vl],_d[Vl].y/=1+mp[0][Vl],_d[Vl].z/=1+mp[0][Vl]}for(Vl=0,tp=wl.length;Vl<tp;Vl++)wl[Vl].x=_d[Vl].x,wl[Vl].y=_d[Vl].y,wl[Vl].z=_d[Vl].z}}}let gu=new Z1;class t0{constructor(_t,wl,zl){this.data=new Int32Array(_t*wl*zl*3),this.width=wl,this.height=zl}set(_t,wl,zl,Vl){let tp=3*((_t*this.width+wl)*this.height+zl);this.data[tp]=Vl.ix,this.data[tp+1]=Vl.iy,this.data[tp+2]=Vl.iz}get(_t,wl,zl){let Vl=3*((_t*this.width+wl)*this.height+zl);return{ix:this.data[Vl],iy:this.data[Vl+1],iz:this.data[Vl+2]}}}class z0{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],z0.MarchingCube||(z0.MarchingCube=new Z1)}getVDWIndex(_t){return _t.elem&&this.vdwRadii[_t.elem]!==void 0?_t.elem:"X"}getFacesAndVertices(_t){let wl={};for(let tp=0,Du=_t.length;tp<Du;tp++)wl[_t[tp]]=!0;let zl=this.verts;for(let tp=0,Du=zl.length;tp<Du;tp++)zl[tp].x=zl[tp].x/this.scaleFactor-this.ptranx,zl[tp].y=zl[tp].y/this.scaleFactor-this.ptrany,zl[tp].z=zl[tp].z/this.scaleFactor-this.ptranz;let Vl=[];for(let tp=0,Du=this.faces.length;tp<Du;tp+=3){let lp=this.faces[tp],up=this.faces[tp+1],_d=this.faces[tp+2],gp=zl[lp].atomid,mp=zl[up].atomid,Rp=zl[_d].atomid,Ep=gp;mp<Ep&&(Ep=mp),Rp<Ep&&(Ep=Rp),wl[Ep]&&lp!==up&&up!==_d&&lp!==_d&&(Vl.push(lp),Vl.push(up),Vl.push(_d))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:zl,faces:Vl}}initparm(_t,wl,zl){zl>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let Vl=1/this.scaleFactor*5.5;this.pminx=_t[0][0],this.pmaxx=_t[1][0],this.pminy=_t[0][1],this.pmaxy=_t[1][1],this.pminz=_t[0][2],this.pmaxz=_t[1][2],wl?(this.pminx-=this.probeRadius+Vl,this.pminy-=this.probeRadius+Vl,this.pminz-=this.probeRadius+Vl,this.pmaxx+=this.probeRadius+Vl,this.pmaxy+=this.probeRadius+Vl,this.pmaxz+=this.probeRadius+Vl):(this.pminx-=Vl,this.pminy-=Vl,this.pminz-=Vl,this.pmaxx+=Vl,this.pmaxy+=Vl,this.pmaxz+=Vl),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(wl),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(_t){let wl={};for(const zl in this.vdwRadii){let Vl=this.vdwRadii[zl];wl[zl]=_t?(Vl+this.probeRadius)*this.scaleFactor+.5:Vl*this.scaleFactor+.5;let tp=wl[zl]*wl[zl];this.widxz[zl]=Math.floor(wl[zl])+1,this.depty[zl]=new Int32Array(this.widxz[zl]*this.widxz[zl]);let Du=0;for(let lp=0;lp<this.widxz[zl];lp++)for(let up=0;up<this.widxz[zl];up++){let _d=lp*lp+up*up;if(_d>tp)this.depty[zl][Du]=-1;else{let gp=Math.sqrt(tp-_d);this.depty[zl][Du]=Math.floor(gp)}Du++}}}fillvoxels(_t,wl){for(let zl=0,Vl=this.vpBits.length;zl<Vl;zl++)this.vpBits[zl]=0,this.vpDistance[zl]=-1,this.vpAtomID[zl]=-1;for(let zl in wl){let Vl=_t[wl[zl]];Vl!==void 0&&this.fillAtom(Vl,_t)}for(let zl=0,Vl=this.vpBits.length;zl<Vl;zl++)this.vpBits[zl]&this.INOUT&&(this.vpBits[zl]|=this.ISDONE)}fillAtom(_t,wl){let zl=Math.floor(.5+this.scaleFactor*(_t.x+this.ptranx)),Vl=Math.floor(.5+this.scaleFactor*(_t.y+this.ptrany)),tp=Math.floor(.5+this.scaleFactor*(_t.z+this.ptranz)),Du=this.getVDWIndex(_t),lp=0,up=this.pWidth*this.pHeight;for(let _d=0,gp=this.widxz[Du];_d<gp;_d++)for(let mp=0;mp<gp;mp++){if(this.depty[Du][lp]!=-1){for(let Rp=-1;Rp<2;Rp++)for(let Ep=-1;Ep<2;Ep++)for(let wp=-1;wp<2;wp++)if(Rp!==0&&Ep!==0&&wp!==0){let Tp=Rp*_d,Mp=wp*mp;for(let Hp=0;Hp<=this.depty[Du][lp];Hp++){let Qp=Hp*Ep,i0=zl+Tp,w0=Vl+Qp,m0=tp+Mp;if(i0<0||w0<0||m0<0||i0>=this.pLength||w0>=this.pWidth||m0>=this.pHeight)continue;let B0=i0*up+w0*this.pHeight+m0;if(this.vpBits[B0]&this.INOUT){let q0=wl[this.vpAtomID[B0]];if(q0.serial!=_t.serial){let Z0=zl+Tp-Math.floor(.5+this.scaleFactor*(q0.x+this.ptranx)),J0=Vl+Qp-Math.floor(.5+this.scaleFactor*(q0.y+this.ptrany)),H0=tp+Mp-Math.floor(.5+this.scaleFactor*(q0.z+this.ptranz));Tp*Tp+Qp*Qp+Mp*Mp<Z0*Z0+J0*J0+H0*H0&&(this.vpAtomID[B0]=_t.serial)}}else this.vpBits[B0]|=this.INOUT,this.vpAtomID[B0]=_t.serial}}}lp++}}fillvoxelswaals(_t,wl){for(let zl=0,Vl=this.vpBits.length;zl<Vl;zl++)this.vpBits[zl]&=~this.ISDONE;for(let zl in wl){let Vl=_t[wl[zl]];Vl!==void 0&&this.fillAtomWaals(Vl,_t)}}fillAtomWaals(_t,wl){let zl=0,Vl=Math.floor(.5+this.scaleFactor*(_t.x+this.ptranx)),tp=Math.floor(.5+this.scaleFactor*(_t.y+this.ptrany)),Du=Math.floor(.5+this.scaleFactor*(_t.z+this.ptranz)),lp=this.getVDWIndex(_t),up=this.pWidth*this.pHeight;for(let _d=0,gp=this.widxz[lp];_d<gp;_d++)for(let mp=0;mp<gp;mp++){if(this.depty[lp][zl]!=-1){for(let Rp=-1;Rp<2;Rp++)for(let Ep=-1;Ep<2;Ep++)for(let wp=-1;wp<2;wp++)if(Rp!==0&&Ep!==0&&wp!==0){let Tp=Rp*_d,Mp=wp*mp;for(let Hp=0;Hp<=this.depty[lp][zl];Hp++){let Qp=Hp*Ep,i0=Vl+Tp,w0=tp+Qp,m0=Du+Mp;if(i0<0||w0<0||m0<0||i0>=this.pLength||w0>=this.pWidth||m0>=this.pHeight)continue;let B0=i0*up+w0*this.pHeight+m0;if(this.vpBits[B0]&this.ISDONE){let q0=wl[this.vpAtomID[B0]];if(q0.serial!=_t.serial){let Z0=Vl+Tp-Math.floor(.5+this.scaleFactor*(q0.x+this.ptranx)),J0=tp+Qp-Math.floor(.5+this.scaleFactor*(q0.y+this.ptrany)),H0=Du+Mp-Math.floor(.5+this.scaleFactor*(q0.z+this.ptranz));Tp*Tp+Qp*Qp+Mp*Mp<Z0*Z0+J0*J0+H0*H0&&(this.vpAtomID[B0]=_t.serial)}}else this.vpBits[B0]|=this.ISDONE,this.vpAtomID[B0]=_t.serial}}}zl++}}buildboundary(){let _t=this.pWidth*this.pHeight;for(let wl=0;wl<this.pLength;wl++)for(let zl=0;zl<this.pHeight;zl++)for(let Vl=0;Vl<this.pWidth;Vl++){let tp=wl*_t+Vl*this.pHeight+zl;if(this.vpBits[tp]&this.INOUT){let Du=0;for(;Du<26;){let lp=wl+this.nb[Du][0],up=zl+this.nb[Du][2],_d=Vl+this.nb[Du][1];if(lp>-1&&lp<this.pLength&&_d>-1&&_d<this.pWidth&&up>-1&&up<this.pHeight&&!(this.vpBits[lp*_t+_d*this.pHeight+up]&this.INOUT)){this.vpBits[tp]|=this.ISBOUND;break}Du++}}}}fastdistancemap(){let _t,wl=new t0(this.pLength,this.pWidth,this.pHeight),zl=this.pWidth*this.pHeight,Vl=this.cutRadius*this.cutRadius,tp=[],Du=[];for(let _d=0;_d<this.pLength;_d++)for(let gp=0;gp<this.pWidth;gp++)for(let mp=0;mp<this.pHeight;mp++)if(_t=_d*zl+gp*this.pHeight+mp,this.vpBits[_t]&=~this.ISDONE,this.vpBits[_t]&this.INOUT&&this.vpBits[_t]&this.ISBOUND){let Rp={ix:_d,iy:gp,iz:mp};wl.set(_d,gp,mp,Rp),tp.push(Rp),this.vpDistance[_t]=0,this.vpBits[_t]|=this.ISDONE,this.vpBits[_t]&=~this.ISBOUND}do{Du=this.fastoneshell(tp,wl),tp=[];for(let _d=0,gp=Du.length;_d<gp;_d++)_t=zl*Du[_d].ix+this.pHeight*Du[_d].iy+Du[_d].iz,this.vpBits[_t]&=~this.ISBOUND,this.vpDistance[_t]<=1.0404*Vl&&tp.push({ix:Du[_d].ix,iy:Du[_d].iy,iz:Du[_d].iz})}while(tp.length!==0);tp=[],Du=[],wl=null;let lp=this.scaleFactor-.5;lp<0&&(lp=0);let up=Vl-.5/(.1+lp);for(let _d=0;_d<this.pLength;_d++)for(let gp=0;gp<this.pWidth;gp++)for(let mp=0;mp<this.pHeight;mp++)_t=_d*zl+gp*this.pHeight+mp,this.vpBits[_t]&=~this.ISBOUND,this.vpBits[_t]&this.INOUT&&(this.vpBits[_t]&this.ISDONE&&!(this.vpBits[_t]&this.ISDONE&&this.vpDistance[_t]>=up)||(this.vpBits[_t]|=this.ISBOUND))}fastoneshell(_t,wl){let zl,Vl,tp,Du,lp,up,_d,gp,mp,Rp=[];if(_t.length===0)return Rp;let Ep={ix:-1,iy:-1,iz:-1},wp=this.pWidth*this.pHeight;for(let Tp=0,Mp=_t.length;Tp<Mp;Tp++){zl=_t[Tp].ix,Vl=_t[Tp].iy,tp=_t[Tp].iz,gp=wl.get(zl,Vl,tp);for(let Hp=0;Hp<6;Hp++)Ep.ix=zl+this.nb[Hp][0],Ep.iy=Vl+this.nb[Hp][1],Ep.iz=tp+this.nb[Hp][2],Ep.ix<this.pLength&&Ep.ix>-1&&Ep.iy<this.pWidth&&Ep.iy>-1&&Ep.iz<this.pHeight&&Ep.iz>-1&&(mp=Ep.ix*wp+this.pHeight*Ep.iy+Ep.iz,this.vpBits[mp]&this.INOUT&&!(this.vpBits[mp]&this.ISDONE)?(wl.set(Ep.ix,Ep.iy,tp+this.nb[Hp][2],gp),Du=Ep.ix-gp.ix,lp=Ep.iy-gp.iy,up=Ep.iz-gp.iz,_d=Du*Du+lp*lp+up*up,this.vpDistance[mp]=_d,this.vpBits[mp]|=this.ISDONE,this.vpBits[mp]|=this.ISBOUND,Rp.push({ix:Ep.ix,iy:Ep.iy,iz:Ep.iz})):this.vpBits[mp]&this.INOUT&&this.vpBits[mp]&this.ISDONE&&(Du=Ep.ix-gp.ix,lp=Ep.iy-gp.iy,up=Ep.iz-gp.iz,_d=Du*Du+lp*lp+up*up,_d<this.vpDistance[mp]&&(wl.set(Ep.ix,Ep.iy,Ep.iz,gp),this.vpDistance[mp]=_d,this.vpBits[mp]&this.ISBOUND||(this.vpBits[mp]|=this.ISBOUND,Rp.push({ix:Ep.ix,iy:Ep.iy,iz:Ep.iz})))))}for(let Tp=0,Mp=_t.length;Tp<Mp;Tp++){zl=_t[Tp].ix,Vl=_t[Tp].iy,tp=_t[Tp].iz,gp=wl.get(zl,Vl,tp);for(let Hp=6;Hp<18;Hp++)Ep.ix=zl+this.nb[Hp][0],Ep.iy=Vl+this.nb[Hp][1],Ep.iz=tp+this.nb[Hp][2],Ep.ix<this.pLength&&Ep.ix>-1&&Ep.iy<this.pWidth&&Ep.iy>-1&&Ep.iz<this.pHeight&&Ep.iz>-1&&(mp=Ep.ix*wp+this.pHeight*Ep.iy+Ep.iz,this.vpBits[mp]&this.INOUT&&!(this.vpBits[mp]&this.ISDONE)?(wl.set(Ep.ix,Ep.iy,tp+this.nb[Hp][2],gp),Du=Ep.ix-gp.ix,lp=Ep.iy-gp.iy,up=Ep.iz-gp.iz,_d=Du*Du+lp*lp+up*up,this.vpDistance[mp]=_d,this.vpBits[mp]|=this.ISDONE,this.vpBits[mp]|=this.ISBOUND,Rp.push({ix:Ep.ix,iy:Ep.iy,iz:Ep.iz})):this.vpBits[mp]&this.INOUT&&this.vpBits[mp]&this.ISDONE&&(Du=Ep.ix-gp.ix,lp=Ep.iy-gp.iy,up=Ep.iz-gp.iz,_d=Du*Du+lp*lp+up*up,_d<this.vpDistance[mp]&&(wl.set(Ep.ix,Ep.iy,Ep.iz,gp),this.vpDistance[mp]=_d,this.vpBits[mp]&this.ISBOUND||(this.vpBits[mp]|=this.ISBOUND,Rp.push({ix:Ep.ix,iy:Ep.iy,iz:Ep.iz})))))}for(let Tp=0,Mp=_t.length;Tp<Mp;Tp++){zl=_t[Tp].ix,Vl=_t[Tp].iy,tp=_t[Tp].iz,gp=wl.get(zl,Vl,tp);for(let Hp=18;Hp<26;Hp++)Ep.ix=zl+this.nb[Hp][0],Ep.iy=Vl+this.nb[Hp][1],Ep.iz=tp+this.nb[Hp][2],Ep.ix<this.pLength&&Ep.ix>-1&&Ep.iy<this.pWidth&&Ep.iy>-1&&Ep.iz<this.pHeight&&Ep.iz>-1&&(mp=Ep.ix*wp+this.pHeight*Ep.iy+Ep.iz,this.vpBits[mp]&this.INOUT&&!(this.vpBits[mp]&this.ISDONE)?(wl.set(Ep.ix,Ep.iy,tp+this.nb[Hp][2],gp),Du=Ep.ix-gp.ix,lp=Ep.iy-gp.iy,up=Ep.iz-gp.iz,_d=Du*Du+lp*lp+up*up,this.vpDistance[mp]=_d,this.vpBits[mp]|=this.ISDONE,this.vpBits[mp]|=this.ISBOUND,Rp.push({ix:Ep.ix,iy:Ep.iy,iz:Ep.iz})):this.vpBits[mp]&this.INOUT&&this.vpBits[mp]&this.ISDONE&&(Du=Ep.ix-gp.ix,lp=Ep.iy-gp.iy,up=Ep.iz-gp.iz,_d=Du*Du+lp*lp+up*up,_d<this.vpDistance[mp]&&(wl.set(Ep.ix,Ep.iy,Ep.iz,gp),this.vpDistance[mp]=_d,this.vpBits[mp]&this.ISBOUND||(this.vpBits[mp]|=this.ISBOUND,Rp.push({ix:Ep.ix,iy:Ep.iy,iz:Ep.iz})))))}return Rp}marchingcubeinit(_t){for(let wl=0,zl=this.vpBits.length;wl<zl;wl++)_t==1?this.vpBits[wl]&=~this.ISBOUND:_t==4?(this.vpBits[wl]&=~this.ISDONE,this.vpBits[wl]&this.ISBOUND&&(this.vpBits[wl]|=this.ISDONE),this.vpBits[wl]&=~this.ISBOUND):_t==2?this.vpBits[wl]&this.ISBOUND&&this.vpBits[wl]&this.ISDONE?this.vpBits[wl]&=~this.ISBOUND:this.vpBits[wl]&this.ISBOUND&&!(this.vpBits[wl]&this.ISDONE)&&(this.vpBits[wl]|=this.ISDONE):_t==3&&(this.vpBits[wl]&=~this.ISBOUND)}marchingcube(_t){this.marchingcubeinit(_t),this.verts=[],this.faces=[],z0.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let wl=this.pWidth*this.pHeight;for(let zl=0,Vl=this.verts.length;zl<Vl;zl++)this.verts[zl].atomid=this.vpAtomID[this.verts[zl].x*wl+this.pHeight*this.verts[zl].y+this.verts[zl].z];z0.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}z0.MarchingCube=new Z1;var dm=a(848);class om{static finalizeGeo(_t){var wl=_t.updateGeoGroup(0);wl.vertices>0&&wl.truncateArrayBuffers(!0,!0)}static updateColor(_t,wl){var zl,Vl,tp;wl=wl||j.CC.color(wl),_t.colorsNeedUpdate=!0,wl.constructor!==Array&&(zl=wl.r,Vl=wl.g,tp=wl.b);for(let Du in _t.geometryGroups){let lp=_t.geometryGroups[Du],up=lp.colorArray;for(let _d=0,gp=lp.vertices;_d<gp;++_d){if(wl.constructor===Array){let mp=wl[_d];zl=mp.r,Vl=mp.g,tp=mp.b}up[3*_d]=zl,up[3*_d+1]=Vl,up[3*_d+2]=tp}}}static drawArrow(_t,wl,zl){var Vl=zl.start,tp=zl.end,Du=zl.radius,lp=zl.radiusRatio,up=zl.mid,_d=zl.midpos;if(!Vl||!tp)return;var gp=wl.updateGeoGroup(51),mp=new $.Vector3(tp.x,tp.y,tp.z).sub(Vl);if(_d){let Gy=mp.length();up=_d>0?_d/Gy:(Gy+_d)/Gy}mp.multiplyScalar(up);var Rp=new $.Vector3(Vl.x,Vl.y,Vl.z).add(mp),Ep=mp.clone().negate();let wp=new $.Vector3(Vl.x,Vl.y,Vl.z);_t.intersectionShape.cylinder.push(new _.Cylinder(wp,Rp.clone(),Du)),_t.intersectionShape.sphere.push(new _.Sphere(wp,Du));var Tp=[];Tp[0]=mp.clone(),Math.abs(Tp[0].x)>1e-4?Tp[0].y+=1:Tp[0].x+=1,Tp[0].cross(mp),Tp[0].normalize(),Tp[4]=Tp[0].clone(),Tp[4].crossVectors(Tp[0],mp),Tp[4].normalize(),Tp[8]=Tp[0].clone().negate(),Tp[12]=Tp[4].clone().negate(),Tp[2]=Tp[0].clone().add(Tp[4]).normalize(),Tp[6]=Tp[4].clone().add(Tp[8]).normalize(),Tp[10]=Tp[8].clone().add(Tp[12]).normalize(),Tp[14]=Tp[12].clone().add(Tp[0]).normalize(),Tp[1]=Tp[0].clone().add(Tp[2]).normalize(),Tp[3]=Tp[2].clone().add(Tp[4]).normalize(),Tp[5]=Tp[4].clone().add(Tp[6]).normalize(),Tp[7]=Tp[6].clone().add(Tp[8]).normalize(),Tp[9]=Tp[8].clone().add(Tp[10]).normalize(),Tp[11]=Tp[10].clone().add(Tp[12]).normalize(),Tp[13]=Tp[12].clone().add(Tp[14]).normalize(),Tp[15]=Tp[14].clone().add(Tp[0]).normalize();var Mp,Hp,Qp,i0,w0,m0,B0,q0,Z0,J0,H0,wm,bm,Bm,Im,e1,n1,$m,p1,Cm,Pm,y1,Zm=gp.vertices,w1=gp.vertexArray,S1=gp.faceArray,Ym=gp.normalArray,P1=gp.lineArray;for(Hp=0,Qp=Tp.length;Hp<Qp;++Hp){Mp=3*(Zm+3*Hp);var av=Tp[Hp].clone().multiplyScalar(Du).add(Vl),T1=Tp[Hp].clone().multiplyScalar(Du).add(Rp),t1=Tp[Hp].clone().multiplyScalar(Du*lp).add(Rp);if(w1[Mp]=av.x,w1[Mp+1]=av.y,w1[Mp+2]=av.z,w1[Mp+3]=T1.x,w1[Mp+4]=T1.y,w1[Mp+5]=T1.z,w1[Mp+6]=t1.x,w1[Mp+7]=t1.y,w1[Mp+8]=t1.z,Hp>0){var gv=w1[Mp-3],K1=w1[Mp-2],sv=w1[Mp-1],U1=new $.Vector3(gv,K1,sv),Sv=new $.Vector3(tp.x,tp.y,tp.z),Uv=Rp.clone(),vy=new $.Vector3(t1.x,t1.y,t1.z);_t.intersectionShape.triangle.push(new _.Triangle(vy,Sv,U1)),_t.intersectionShape.triangle.push(new _.Triangle(U1.clone(),Uv,vy.clone()))}}gp.vertices+=48,w1[Mp=3*gp.vertices]=Vl.x,w1[Mp+1]=Vl.y,w1[Mp+2]=Vl.z,w1[Mp+3]=Rp.x,w1[Mp+4]=Rp.y,w1[Mp+5]=Rp.z,w1[Mp+6]=tp.x,w1[Mp+7]=tp.y,w1[Mp+8]=tp.z,gp.vertices+=3;var py=gp.vertices-3,Hy=gp.vertices-2,Ry=gp.vertices-1,Zv=3*py,Yy=3*Hy,Ey=3*Ry;for(Hp=0,Qp=Tp.length-1;Hp<Qp;++Hp){var Fy=Zm+3*Hp;Mp=3*Fy,w0=gp.faceidx,m0=gp.lineidx,bm=3*(B0=Fy),Bm=3*(q0=Fy+1),Im=3*(Z0=Fy+2),e1=3*(J0=Fy+4),n1=3*(H0=Fy+5),$m=3*(wm=Fy+3),p1=Cm=Tp[Hp],Pm=y1=Tp[Hp+1],Ym[bm]=p1.x,Ym[Bm]=Cm.x,Ym[$m]=y1.x,Ym[bm+1]=p1.y,Ym[Bm+1]=Cm.y,Ym[$m+1]=y1.y,Ym[bm+2]=p1.z,Ym[Bm+2]=Cm.z,Ym[$m+2]=y1.z,Ym[Bm]=Cm.x,Ym[e1]=Pm.x,Ym[$m]=y1.x,Ym[Bm+1]=Cm.y,Ym[e1+1]=Pm.y,Ym[$m+1]=y1.y,Ym[Bm+2]=Cm.z,Ym[e1+2]=Pm.z,Ym[$m+2]=y1.z,Ym[Im]=Cm.x,Ym[n1]=Pm.x,Ym[Im+1]=Cm.y,Ym[n1+1]=Pm.y,Ym[Im+2]=Cm.z,Ym[n1+2]=Pm.z,S1[w0]=B0,S1[w0+1]=q0,S1[w0+2]=wm,S1[w0+3]=q0,S1[w0+4]=J0,S1[w0+5]=wm,S1[w0+6]=B0,S1[w0+7]=wm,S1[w0+8]=py,S1[w0+9]=Z0,S1[w0+10]=Hy,S1[w0+11]=H0,S1[w0+12]=Z0,S1[w0+13]=Ry,S1[w0+14]=H0,P1[m0]=B0,P1[m0+1]=q0,P1[m0+2]=B0,P1[m0+3]=wm,P1[m0+4]=J0,P1[m0+5]=wm,P1[m0+6]=B0,P1[m0+7]=wm,P1[m0+8]=Z0,P1[m0+9]=q0,P1[m0+10]=Z0,P1[m0+11]=H0,P1[m0+12]=J0,P1[m0+13]=H0,P1[m0+14]=Z0,P1[m0+15]=Ry,P1[m0+16]=Z0,P1[m0+17]=H0,P1[m0+18]=Ry,P1[m0+19]=H0,gp.faceidx+=15,gp.lineidx+=20}i0=[Zm+45,Zm+46,Zm+1,Zm,Zm+47,Zm+2],w0=gp.faceidx,m0=gp.lineidx,bm=3*(B0=i0[0]),Bm=3*(q0=i0[1]),Im=3*(Z0=i0[4]),e1=3*(J0=i0[2]),n1=3*(H0=i0[5]),$m=3*(wm=i0[3]),p1=Cm=Tp[15],Pm=y1=Tp[0],Ym[bm]=p1.x,Ym[Bm]=Cm.x,Ym[$m]=y1.x,Ym[bm+1]=p1.y,Ym[Bm+1]=Cm.y,Ym[$m+1]=y1.y,Ym[bm+2]=p1.z,Ym[Bm+2]=Cm.z,Ym[$m+2]=y1.z,Ym[Bm]=Cm.x,Ym[e1]=Pm.x,Ym[$m]=y1.x,Ym[Bm+1]=Cm.y,Ym[e1+1]=Pm.y,Ym[$m+1]=y1.y,Ym[Bm+2]=Cm.z,Ym[e1+2]=Pm.z,Ym[$m+2]=y1.z,Ym[Im]=Cm.x,Ym[n1]=Pm.x,Ym[Im+1]=Cm.y,Ym[n1+1]=Pm.y,Ym[Im+2]=Cm.z,Ym[n1+2]=Pm.z,mp.normalize(),Ep.normalize(),Ym[Zv]=Ep.x,Ym[Yy]=Ym[Ey]=mp.x,Ym[Zv+1]=Ep.y,Ym[Yy+1]=Ym[Ey+1]=mp.y,Ym[Zv+2]=Ep.z,Ym[Yy+2]=Ym[Ey+2]=mp.z,S1[w0]=B0,S1[w0+1]=q0,S1[w0+2]=wm,S1[w0+3]=q0,S1[w0+4]=J0,S1[w0+5]=wm,S1[w0+6]=B0,S1[w0+7]=wm,S1[w0+8]=py,S1[w0+9]=Z0,S1[w0+10]=Hy,S1[w0+11]=H0,S1[w0+12]=Z0,S1[w0+13]=Ry,S1[w0+14]=H0,P1[m0]=B0,P1[m0+1]=q0,P1[m0+2]=B0,P1[m0+3]=wm,P1[m0+4]=J0,P1[m0+5]=wm,P1[m0+6]=B0,P1[m0+7]=wm,P1[m0+8]=Z0,P1[m0+9]=q0,P1[m0+10]=Z0,P1[m0+11]=H0,P1[m0+12]=J0,P1[m0+13]=H0,P1[m0+14]=Z0,P1[m0+15]=Ry,P1[m0+16]=Z0,P1[m0+17]=H0,P1[m0+18]=Ry,P1[m0+19]=H0,gp.faceidx+=15,gp.lineidx+=20}static updateBoundingFromPoints(_t,wl,zl,Vl){_t.center.set(0,0,0);let tp=1/0,Du=1/0,lp=1/0,up=-1/0,_d=-1/0,gp=-1/0;_t.box&&(tp=_t.box.min.x,up=_t.box.max.x,Du=_t.box.min.y,_d=_t.box.max.y,lp=_t.box.min.z,gp=_t.box.max.z);for(let wp=0,Tp=Vl;wp<Tp;wp++){var mp=zl[3*wp],Rp=zl[3*wp+1],Ep=zl[3*wp+2];mp<tp&&(tp=mp),Rp<Du&&(Du=Rp),Ep<lp&&(lp=Ep),mp>up&&(up=mp),Rp>_d&&(_d=Rp),Ep>gp&&(gp=Ep)}_t.center.set((up+tp)/2,(_d+Du)/2,(gp+lp)/2),_t.radius=_t.center.distanceTo({x:up,y:_d,z:gp}),_t.box={min:{x:tp,y:Du,z:lp},max:{x:up,y:_d,z:gp}}}static addCustomGeo(_t,wl,zl,Vl,tp){var Du,lp,up,_d,gp,mp,Rp,Ep,wp,Tp=wl.addGeoGroup(),Mp=zl.vertexArr,Hp=zl.normalArr,Qp=zl.faceArr;Tp.vertices=Mp.length,Tp.faceidx=Qp.length;var i0=Tp.vertexArray,w0=Tp.colorArray;for(Vl.constructor!==Array&&(Ep=Vl.r,wp=Vl.g,_d=Vl.b),mp=0,Rp=Tp.vertices;mp<Rp;++mp)Du=3*mp,lp=Mp[mp],i0[Du]=lp.x,i0[Du+1]=lp.y,i0[Du+2]=lp.z,Vl.constructor===Array&&(Ep=(gp=Vl[mp]).r,wp=gp.g,_d=gp.b),w0[Du]=Ep,w0[Du+1]=wp,w0[Du+2]=_d;if(tp)for(mp=0,Rp=Tp.faceidx/3;mp<Rp;++mp){up=Qp[Du=3*mp],_d=Qp[Du+1],gp=Qp[Du+2];var m0=new $.Vector3,B0=new $.Vector3,q0=new $.Vector3;_t.intersectionShape.triangle.push(new _.Triangle(m0.copy(Mp[up]),B0.copy(Mp[_d]),q0.copy(Mp[gp])))}if(tp){var Z0=new $.Vector3(0,0,0),J0=0;for(let bm=0;bm<wl.geometryGroups.length;bm++)Z0.add(wl.geometryGroups[bm].getCentroid()),J0++;Z0.divideScalar(J0),om.updateBoundingFromPoints(_t.boundingSphere,{centroid:Z0},i0,Tp.vertices)}if(Tp.faceArray=new Uint16Array(Qp),Tp.truncateArrayBuffers(!0,!0),Hp.length<Tp.vertices)Tp.setNormals();else{var H0,wm=Tp.normalArray=new Float32Array(3*Tp.vertices);for(mp=0,Rp=Tp.vertices;mp<Rp;++mp)Du=3*mp,H0=Hp[mp],wm[Du]=H0.x,wm[Du+1]=H0.y,wm[Du+2]=H0.z}Tp.setLineIndices(),Tp.lineidx=Tp.lineArray.length}static updateFromStyle(_t,wl){wl.color!==void 0?(_t.color=wl.color||new j.Color,wl.color instanceof j.Color||(_t.color=j.CC.color(wl.color))):_t.color=j.CC.color(0),_t.wireframe=!!wl.wireframe,_t.opacity=wl.alpha?(0,$.clamp)(wl.alpha,0,1):1,wl.opacity!==void 0&&(_t.opacity=(0,$.clamp)(wl.opacity,0,1)),_t.side=wl.side!==void 0?wl.side:b.DoubleSide,_t.linewidth=wl.linewidth===void 0?1:wl.linewidth,_t.clickable=!!wl.clickable,_t.callback=(0,nt.makeFunction)(wl.callback),_t.hoverable=!!wl.hoverable,_t.hover_callback=(0,nt.makeFunction)(wl.hover_callback),_t.unhover_callback=(0,nt.makeFunction)(wl.unhover_callback),_t.contextMenuEnabled=!!wl.contextMenuEnabled,_t.hidden=wl.hidden,_t.frame=wl.frame}constructor(_t){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.contextMenuEnabled=!1,this.side=b.DoubleSide,this.stylespec=_t||{},this.boundingSphere=new _.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},om.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new b.Geometry(!0),this.linegeo=new b.Geometry(!0)}updateStyle(_t){for(var wl in _t)this.stylespec[wl]=_t[wl];if(om.updateFromStyle(this,this.stylespec),_t.voldata&&_t.volscheme){(0,nt.adjustVolumeStyle)(_t);const zl=_t.volscheme,Vl=_t.voldata,tp=j.CC,Du=zl.range()||[-1,1];this.geo.setColors(function(lp,up,_d){let gp=Vl.getVal(lp,up,_d);return tp.color(zl.valueToHex(gp,Du))}),delete this.color}}addCustom(_t){_t.vertexArr=_t.vertexArr||[],_t.faceArr=_t.faceArr||[],_t.normalArr=_t.normalArr||[],om.drawCustom(this,this.geo,_t)}addSphere(_t){_t.center||(_t.center=new $.Vector3(0,0,0)),_t.radius=_t.radius?(0,$.clamp)(_t.radius,0,1/0):1.5,_t.color=j.CC.color(_t.color),this.intersectionShape.sphere.push(new _.Sphere(_t.center,_t.radius)),d.drawSphere(this.geo,_t.center,_t.radius,_t.color,_t.quality),this.components.push({centroid:new $.Vector3(_t.center.x,_t.center.y,_t.center.z)});var wl=this.geo.updateGeoGroup(0);om.updateBoundingFromPoints(this.boundingSphere,this.components,wl.vertexArray,wl.vertices)}addBox(_t){var wl,zl,Vl,tp=_t.dimensions||{w:1,h:1,d:1};wl=typeof tp.w=="number"?{x:tp.w,y:0,z:0}:tp.w,zl=typeof tp.h=="number"?{x:0,y:tp.h,z:0}:tp.h,Vl=typeof tp.d=="number"?{x:0,y:0,z:tp.d}:tp.d;var Du=_t.corner;Du==null&&(Du=_t.center!==void 0?{x:_t.center.x-.5*(wl.x+zl.x+Vl.x),y:_t.center.y-.5*(wl.y+zl.y+Vl.y),z:_t.center.z-.5*(wl.z+zl.z+Vl.z)}:{x:0,y:0,z:0});var lp=[{x:Du.x,y:Du.y,z:Du.z},{x:Du.x+wl.x,y:Du.y+wl.y,z:Du.z+wl.z},{x:Du.x+zl.x,y:Du.y+zl.y,z:Du.z+zl.z},{x:Du.x+wl.x+zl.x,y:Du.y+wl.y+zl.y,z:Du.z+wl.z+zl.z},{x:Du.x+Vl.x,y:Du.y+Vl.y,z:Du.z+Vl.z},{x:Du.x+wl.x+Vl.x,y:Du.y+wl.y+Vl.y,z:Du.z+wl.z+Vl.z},{x:Du.x+zl.x+Vl.x,y:Du.y+zl.y+Vl.y,z:Du.z+zl.z+Vl.z},{x:Du.x+wl.x+zl.x+Vl.x,y:Du.y+wl.y+zl.y+Vl.y,z:Du.z+wl.z+zl.z+Vl.z}],up=[],_d=[];up.splice(up.length,0,lp[0],lp[1],lp[2],lp[3]),_d.splice(_d.length,0,0,2,1,1,2,3);var gp=4;up.splice(up.length,0,lp[2],lp[3],lp[6],lp[7]),_d.splice(_d.length,0,gp+0,gp+2,gp+1,gp+1,gp+2,gp+3),gp+=4,up.splice(up.length,0,lp[4],lp[5],lp[0],lp[1]),_d.splice(_d.length,0,gp+0,gp+2,gp+1,gp+1,gp+2,gp+3),gp+=4,up.splice(up.length,0,lp[6],lp[7],lp[4],lp[5]),_d.splice(_d.length,0,gp+0,gp+2,gp+1,gp+1,gp+2,gp+3),gp+=4,up.splice(up.length,0,lp[3],lp[1],lp[7],lp[5]),_d.splice(_d.length,0,gp+0,gp+2,gp+1,gp+1,gp+2,gp+3),gp+=4,up.splice(up.length,0,lp[2],lp[6],lp[0],lp[4]),_d.splice(_d.length,0,gp+0,gp+2,gp+1,gp+1,gp+2,gp+3),gp+=4;var mp=(0,nt.extend)({},_t);mp.vertexArr=up,mp.faceArr=_d,mp.normalArr=[],om.drawCustom(this,this.geo,mp);var Rp=new $.Vector3;this.components.push({centroid:Rp.addVectors(lp[0],lp[7]).multiplyScalar(.5)});var Ep=this.geo.updateGeoGroup(0);om.updateBoundingFromPoints(this.boundingSphere,this.components,Ep.vertexArray,Ep.vertices)}addCylinder(_t){var wl,zl;wl=_t.start?new $.Vector3(_t.start.x||0,_t.start.y||0,_t.start.z||0):new $.Vector3(0,0,0),_t.end?(zl=new $.Vector3(_t.end.x,_t.end.y||0,_t.end.z||0)).x===void 0&&(zl.x=3):zl=new $.Vector3(0,0,0);var Vl=_t.radius||.1,tp=j.CC.color(_t.color);this.intersectionShape.cylinder.push(new _.Cylinder(wl,zl,Vl)),d.drawCylinder(this.geo,wl,zl,Vl,tp,_t.fromCap,_t.toCap);var Du=new $.Vector3;this.components.push({centroid:Du.addVectors(wl,zl).multiplyScalar(.5)});var lp=this.geo.updateGeoGroup(0);om.updateBoundingFromPoints(this.boundingSphere,this.components,lp.vertexArray,lp.vertices)}addDashedCylinder(_t){var wl,zl;_t.dashLength=_t.dashLength||.25,_t.gapLength=_t.gapLength||.25,wl=_t.start?new $.Vector3(_t.start.x||0,_t.start.y||0,_t.start.z||0):new $.Vector3(0,0,0),_t.end?(zl=new $.Vector3(_t.end.x,_t.end.y||0,_t.end.z||0)).x===void 0&&(zl.x=3):zl=new $.Vector3(3,0,0);for(var Vl=_t.radius||.1,tp=j.CC.color(_t.color),Du=Math.sqrt(Math.pow(wl.x-zl.x,2)+Math.pow(wl.y-zl.y,2)+Math.pow(wl.z-zl.z,2)),lp=Du/(_t.gapLength+_t.dashLength),up=new $.Vector3(_t.start.x||0,_t.start.y||0,_t.start.z||0),_d=new $.Vector3(_t.end.x,_t.end.y||0,_t.end.z||0),gp=new $.Vector3((zl.x-wl.x)/(Du/_t.gapLength),(zl.y-wl.y)/(Du/_t.gapLength),(zl.z-wl.z)/(Du/_t.gapLength)),mp=new $.Vector3((zl.x-wl.x)/(Du/_t.dashLength),(zl.y-wl.y)/(Du/_t.dashLength),(zl.z-wl.z)/(Du/_t.dashLength)),Rp=0;Rp<lp;Rp++)_d=new $.Vector3(up.x+mp.x,up.y+mp.y,up.z+mp.z),this.intersectionShape.cylinder.push(new _.Cylinder(up,_d,Vl)),d.drawCylinder(this.geo,up,_d,Vl,tp,_t.fromCap,_t.toCap),up=new $.Vector3(_d.x+gp.x,_d.y+gp.y,_d.z+gp.z);var Ep=new $.Vector3;this.components.push({centroid:Ep.addVectors(wl,zl).multiplyScalar(.5)});var wp=this.geo.updateGeoGroup(0);om.updateBoundingFromPoints(this.boundingSphere,this.components,wp.vertexArray,wp.vertices)}addCurve(_t){_t.points=_t.points||[],_t.smooth=_t.smooth||10,_t.fromCap===void 0&&(_t.fromCap=2),_t.toCap===void 0&&(_t.toCap=2);var wl=In(_t.points,_t.smooth);if(wl.length<3)console.log("Too few points in addCurve");else{var zl=_t.radius||.1,Vl=j.CC.color(_t.color),tp=0,Du=wl.length-1,lp=wl[0].distanceTo(wl[1]),up=Math.ceil(2*zl/lp);if(_t.toArrow){let Rp={start:wl[Du-=up],end:wl[wl.length-1],radius:zl,color:Vl,mid:1e-4};this.addArrow(Rp)}if(_t.fromArrow){let Rp={start:wl[tp+=up],end:wl[0],radius:zl,color:Vl,mid:1e-4};this.addArrow(Rp)}for(var _d=Math.ceil(wl.length/2),gp={radius:zl,color:Vl,fromCap:2,toCap:2},mp=tp;mp<Du;mp++)gp.start=wl[mp],gp.end=wl[mp+1],gp.fromCap=2,gp.toCap=2,mp<_d?(gp.fromCap=2,gp.toCap=0):mp>_d?(gp.fromCap=0,gp.toCap=2):(gp.fromCap=2,gp.toCap=2),this.addCylinder(gp)}}addLine(_t){var wl,zl;wl=_t.start?new $.Vector3(_t.start.x||0,_t.start.y||0,_t.start.z||0):new $.Vector3(0,0,0),_t.end?(zl=new $.Vector3(_t.end.x,_t.end.y||0,_t.end.z||0)).x===void 0&&(zl.x=3):zl=new $.Vector3(3,0,0);var Vl=this.geo.updateGeoGroup(2),tp=Vl.vertices,Du=3*tp,lp=Vl.vertexArray;lp[Du]=wl.x,lp[Du+1]=wl.y,lp[Du+2]=wl.z,lp[Du+3]=zl.x,lp[Du+4]=zl.y,lp[Du+5]=zl.z,Vl.vertices+=2;var up=Vl.lineArray,_d=Vl.lineidx;up[_d]=tp,up[_d+1]=tp+1,Vl.lineidx+=2;var gp=new $.Vector3;this.components.push({centroid:gp.addVectors(wl,zl).multiplyScalar(.5)}),Vl=this.geo.updateGeoGroup(0),om.updateBoundingFromPoints(this.boundingSphere,this.components,Vl.vertexArray,Vl.vertices)}addArrow(_t){if(_t.start?_t.start=new $.Vector3(_t.start.x||0,_t.start.y||0,_t.start.z||0):_t.start=new $.Vector3(0,0,0),_t.dir instanceof $.Vector3&&typeof _t.length=="number"){var wl=_t.dir.clone().multiplyScalar(_t.length).add(_t.start);_t.end=wl}else _t.end?(_t.end=new $.Vector3(_t.end.x,_t.end.y||0,_t.end.z||0),_t.end.x===void 0&&(_t.end.x=3)):_t.end=new $.Vector3(3,0,0);_t.radius=_t.radius||.1,_t.radiusRatio=_t.radiusRatio||1.618034,_t.mid=0<_t.mid&&_t.mid<1?_t.mid:.618034,om.drawArrow(this,this.geo,_t);var zl=new $.Vector3;this.components.push({centroid:zl.addVectors(_t.start,_t.end).multiplyScalar(.5)});var Vl=this.geo.updateGeoGroup(0);om.updateBoundingFromPoints(this.boundingSphere,this.components,Vl.vertexArray,Vl.vertices)}static distance_from(_t,wl){return Math.sqrt(Math.pow(_t.x-wl.x,2)+Math.pow(_t.y-wl.y,2)+Math.pow(_t.z-wl.z,2))}static inSelectedRegion(_t,wl,zl){for(var Vl=0;Vl<wl.length;Vl++)if(om.distance_from(wl[Vl],_t)<=zl)return!0;return!1}addIsosurface(_t,wl,zl,Vl){var tp,Du,lp=wl.isoval!==void 0&&typeof wl.isoval=="number"?wl.isoval:0,up=!!wl.voxel,_d=wl.smoothness===void 0?1:wl.smoothness,gp=_t.size.x,mp=_t.size.y,Rp=_t.size.z,Ep=new Int16Array(gp*mp*Rp),wp=_t.data;for(tp=0,Du=Ep.length;tp<Du;++tp)Ep[tp]=-1;var Tp=new Uint8Array(gp*mp*Rp);for(tp=0,Du=wp.length;tp<Du;++tp)(lp>=0?wp[tp]-lp:lp-wp[tp])>0&&(Tp[tp]|=om.ISDONE);var Mp=[],Hp=[];gu.march(Tp,Mp,Hp,{fulltable:!0,voxel:up,unitCube:_t.unit,origin:_t.origin,matrix:_t.matrix,nX:gp,nY:mp,nZ:Rp}),!up&&_d>0&&gu.laplacianSmooth(_d,Mp,Hp);var Qp=[],i0=[],w0=[];if(wl.selectedRegion&&wl.coords===void 0&&(wl.coords=wl.selectedRegion),wl.coords===void 0&&wl.selection!==void 0&&(Vl?wl.coords=Vl.selectedAtoms(wl.selection):console.log("addIsosurface needs viewer is selection provided.")),wl.coords!==void 0){var m0=wl.coords[0].x,B0=wl.coords[0].y,q0=wl.coords[0].z,Z0=wl.coords[0].x,J0=wl.coords[0].y,H0=wl.coords[0].z;for(let Cm=0;Cm<wl.coords.length;Cm++)wl.coords[Cm].x>m0?m0=wl.coords[Cm].x:wl.coords[Cm].x<Z0&&(Z0=wl.coords[Cm].x),wl.coords[Cm].y>B0?B0=wl.coords[Cm].y:wl.coords[Cm].y<J0&&(J0=wl.coords[Cm].y),wl.coords[Cm].z>q0?q0=wl.coords[Cm].z:wl.coords[Cm].z<H0&&(H0=wl.coords[Cm].z);var wm=2;wl.radius!==void 0&&(wm=wl.radius),wl.selectedOffset!==void 0&&(wm=wl.selectedOffset),wl.seldist!==void 0&&(wm=wl.seldist),Z0-=wm,m0+=wm,J0-=wm,B0+=wm,H0-=wm,q0+=wm;for(let Cm=0;Cm<Mp.length;Cm++)Mp[Cm].x>Z0&&Mp[Cm].x<m0&&Mp[Cm].y>J0&&Mp[Cm].y<B0&&Mp[Cm].z>H0&&Mp[Cm].z<q0&&om.inSelectedRegion(Mp[Cm],wl.coords,wm)?(Qp.push(i0.length),i0.push(Mp[Cm])):Qp.push(-1);for(let Cm=0;Cm+2<Hp.length;Cm+=3)Qp[Hp[Cm]]!==-1&&Qp[Hp[Cm+1]]!==-1&&Qp[Hp[Cm+2]]!==-1&&(w0.push(Hp[Cm]-(Hp[Cm]-Qp[Hp[Cm]])),w0.push(Hp[Cm+1]-(Hp[Cm+1]-Qp[Hp[Cm+1]])),w0.push(Hp[Cm+2]-(Hp[Cm+2]-Qp[Hp[Cm+2]])));Mp=i0,Hp=w0}om.drawCustom(this,this.geo,{vertexArr:Mp,faceArr:Hp,normalArr:[],clickable:wl.clickable,hoverable:wl.hoverable}),this.updateStyle(wl);var bm=new $.Vector3(_t.origin.x,_t.origin.y,_t.origin.z),Bm=new $.Vector3(_t.size.x*_t.unit.x,_t.size.y*_t.unit.y,_t.size.z*_t.unit.z),Im=new $.Vector3(0,0,0),e1=bm.clone(),n1=bm.clone().add(Bm);for(let Cm=0;Cm<Mp.length;Cm++)Im.add(Mp[Cm]),e1.max(Mp[Cm]),n1.min(Mp[Cm]);Im.divideScalar(Mp.length);var $m=Im.distanceTo(n1),p1=Im.distanceTo(e1);this.boundingSphere.center=Im,this.boundingSphere.radius=Math.max($m,p1),typeof zl=="function"&&zl()}addVolumetricData(_t,wl,zl){_t=new dm.VolumeData(_t,wl),this.addIsosurface(_t,zl)}finalize(){return om.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(_t){if(this.renderedShapeObj&&(_t.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){om.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),this.color!==void 0&&om.updateColor(this.geo,this.color),this.shapeObj=new b.Object3D;var wl=null;wl=this.side==b.DoubleSide?new b.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:b.Coloring.VertexColors}):new b.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:b.Coloring.VertexColors});var zl=new b.Mesh(this.geo,wl);if(this.shapeObj.add(zl),this.linegeo&&this.linegeo.vertices>0){var Vl=new b.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),tp=new b.Line(this.linegeo,Vl,b.LineStyle.LinePieces);this.shapeObj.add(tp)}this.renderedShapeObj=this.shapeObj.clone(),_t.add(this.renderedShapeObj)}}removegl(_t){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),_t.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}function u1(c0){if(c0.vertexArr.length<64e3)return[c0];var _t=[{vertexArr:[],normalArr:[],faceArr:[]}];c0.colorArr&&(_t.colorArr=[]);var wl=[],zl=[],Vl=0,tp=c0.faceArr;for(let lp=0,up=tp.length;lp<up;lp+=3){let _d=_t[Vl];for(let gp=0;gp<3;gp++){var Du=tp[lp+gp];wl[Du]!==Vl&&(wl[Du]=Vl,zl[Du]=_d.vertexArr.length,_d.vertexArr.push(c0.vertexArr[Du]),c0.normalArr&&c0.normalArr[Du]&&_d.normalArr.push(c0.normalArr[Du]),c0.colorArr&&c0.colorArr[Du]&&_d.colorArr.push(c0.colorArr[Du])),_d.faceArr.push(zl[Du])}_d.vertexArr.length>=64e3&&(_t.push({vertexArr:[],normalArr:[],faceArr:[]}),c0.colorArr&&(_t.colorArr=[]),Vl++)}return _t}om.ISDONE=2,om.drawCustom=function(c0,_t,wl){var zl=wl,Vl=zl.vertexArr,tp=zl.faceArr;Vl.length!==0&&tp.length!==0||console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var Du=wl.color;Du===void 0&&(Du=c0.color),Du=j.CC.color(Du);for(var lp=u1(zl),up=0,_d=lp.length;up<_d;up++)om.addCustomGeo(c0,_t,lp[up],lp[up].colorArr?lp[up].colorArr:Du,wl.clickable)};let m1=0;function c1(c0,_t,wl){var zl=wl;return c0!==void 0&&(c0 instanceof j.Color?zl=c0.scaled():(zl=j.CC.color(c0)).scaled!==void 0&&(zl=zl.scaled())),_t!==void 0&&(zl.a=parseFloat(_t)),zl}class k1{constructor(_t,wl){this.id=m1++,this.stylespec=wl||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new b.Sprite,this.text=_t,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}hide(){this.sprite&&(this.sprite.visible=!1)}show(){this.sprite&&(this.sprite.visible=!0)}setContext(){var _t=this.stylespec,wl=_t.useScreen!==void 0&&_t.useScreen,zl=_t.showBackground;zl!=="0"&&zl!=="false"||(zl=!1),zl===void 0&&(zl=!0);var Vl=_t.font?_t.font:"sans-serif",tp=parseInt(_t.fontSize)?parseInt(_t.fontSize):18,Du=c1(_t.fontColor,_t.fontOpacity,{r:255,g:255,b:255,a:1}),lp=_t.padding?_t.padding:4,up=_t.borderThickness?_t.borderThickness:0,_d=c1(_t.backgroundColor,_t.backgroundOpacity,{r:0,g:0,b:0,a:1}),gp=c1(_t.borderColor,_t.borderOpacity,_d),mp=_t.position?_t.position:{x:-10,y:1,z:1},Rp=_t.inFront===void 0||_t.inFront;Rp!=="false"&&Rp!=="0"||(Rp=!1);var Ep=_t.alignment||b.SpriteAlignment.topLeft;typeof Ep=="string"&&Ep in b.SpriteAlignment&&(Ep=b.SpriteAlignment[Ep]);var wp="";_t.bold&&(wp="bold "),this.context.font=wp+tp+"px  "+Vl;var Tp=this.context.measureText(this.text).width;zl||(up=0);var Mp=Tp+2.5*up+2*lp,Hp=1.25*tp+2*up+2*lp;if(_t.backgroundImage){var Qp=_t.backgroundImage,i0=_t.backgroundWidth?_t.backgroundWidth:Qp.width,w0=_t.backgroundHeight?_t.backgroundHeight:Qp.height;i0>Mp&&(Mp=i0),w0>Hp&&(Hp=w0)}if(this.canvas.width=Mp,this.canvas.height=Hp,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),wp="",_t.bold&&(wp="bold "),this.context.font=wp+tp+"px  "+Vl,this.context.fillStyle="rgba("+_d.r+","+_d.g+","+_d.b+","+_d.a+")",this.context.strokeStyle="rgba("+gp.r+","+gp.g+","+gp.b+","+gp.a+")",_t.backgroundGradient){let B0=this.context.createLinearGradient(0,Hp/2,Mp,Hp/2),q0=rt.Gradient.getGradient(_t.backgroundGradient),Z0=q0.range(),J0=-1,H0=1;Z0&&(J0=Z0[0],H0=Z0[1]);let wm=H0-J0;for(let bm=0;bm<1.01;bm+=.1){let Bm=c1(q0.valueToHex(J0+wm*bm)),Im="rgba("+Bm.r+","+Bm.g+","+Bm.b+","+Bm.a+")";B0.addColorStop(bm,Im)}this.context.fillStyle=B0}this.context.lineWidth=up,zl&&function(B0,q0,Z0,J0,H0,wm,bm){B0.beginPath(),B0.moveTo(q0+wm,Z0),B0.lineTo(q0+J0-wm,Z0),B0.quadraticCurveTo(q0+J0,Z0,q0+J0,Z0+wm),B0.lineTo(q0+J0,Z0+H0-wm),B0.quadraticCurveTo(q0+J0,Z0+H0,q0+J0-wm,Z0+H0),B0.lineTo(q0+wm,Z0+H0),B0.quadraticCurveTo(q0,Z0+H0,q0,Z0+H0-wm),B0.lineTo(q0,Z0+wm),B0.quadraticCurveTo(q0,Z0,q0+wm,Z0),B0.closePath(),B0.fill(),bm&&B0.stroke()}(this.context,up,up,Mp-2*up,Hp-2*up,6,up>0),_t.backgroundImage&&this.context.drawImage(Qp,0,0,Mp,Hp),this.context.fillStyle="rgba("+Du.r+","+Du.g+","+Du.b+","+Du.a+")",this.context.fillText(this.text,up+lp,tp+up+lp,Tp);var m0=new b.Texture(this.canvas);m0.needsUpdate=!0,this.sprite.material=new b.SpriteMaterial({map:m0,useScreenCoordinates:wl,alignment:Ep,depthTest:!Rp,screenOffset:_t.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(mp.x,mp.y,mp.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}class d1{static interpolateArray(_t,wl){function zl(mp,Rp,Ep){return mp+(Rp-mp)*Ep}var Vl=[],tp=(_t.length-1)/(wl-1);Vl[0]=_t[0];for(var Du=1;Du<wl-1;Du++){var lp=Du*tp,up=Math.floor(lp),_d=Math.ceil(lp),gp=lp-up;Vl[Du]=zl(_t[up],_t[_d],gp)}return Vl[wl-1]=_t[_t.length-1],Vl}constructor(_t,wl,zl){this.hidden=!1,this.boundingSphere=new _.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,wl=wl||{};var Vl,tp,Du,lp,up,_d,gp,mp,Rp,Ep,wp=Object.assign([],wl.transferfn);this.subsamples=wl.subsamples||5,wp.forEach(function(Mp){Mp.value=parseFloat(Mp.value)}),wp.sort(function(Mp,Hp){return Mp.value-Hp.value}),this.min=wp[0].value,wp.length==0&&wp.push(wp[0]),this.max=wp[wp.length-1].value;for(let Mp=0;Mp<wp.length-1;Mp++)if(Du=j.CC.color(wp[Mp].color),lp=j.CC.color(wp[Mp+1].color),Rp=wp[Mp].opacity,Ep=wp[Mp+1].opacity,(Vl=Math.floor(256*(wp[Mp].value-this.min)/(this.max-this.min)))!=(tp=Math.floor(256*(wp[Mp+1].value-this.min)/(this.max-this.min)))){up=d1.interpolateArray([255*Du.r,255*lp.r],tp-Vl),_d=d1.interpolateArray([255*Du.g,255*lp.g],tp-Vl),gp=d1.interpolateArray([255*Du.b,255*lp.b],tp-Vl),mp=d1.interpolateArray([255*Rp,255*Ep],tp-Vl);for(let Hp=0;Hp<up.length;Hp++)this.transferfunctionbuffer.push(up[Hp]),this.transferfunctionbuffer.push(_d[Hp]),this.transferfunctionbuffer.push(gp[Hp]),this.transferfunctionbuffer.push(mp[Hp])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),_t.matrix){let Mp=new $.Vector3(0,0,0),Hp=new $.Vector3(_t.size.x,_t.size.y,_t.size.z),Qp=new $.Vector3(1,1,1);Mp.applyMatrix4(_t.matrix),Hp.applyMatrix4(_t.matrix),Qp.applyMatrix4(_t.matrix).sub(Mp),this.extent=[[Mp.x,Mp.y,Mp.z],[Hp.x,Hp.y,Hp.z]];for(let B0=1;B0<7;B0++)Hp.x=1&B0?_t.size.x:0,Hp.y=2&B0?_t.size.y:0,Hp.z=4&B0?_t.size.z:0,Hp.applyMatrix4(_t.matrix),this.extent[0][0]=Math.min(this.extent[0][0],Hp.x),this.extent[0][1]=Math.min(this.extent[0][1],Hp.y),this.extent[0][2]=Math.min(this.extent[0][2],Hp.z),this.extent[1][0]=Math.max(this.extent[1][0],Hp.x),this.extent[1][1]=Math.max(this.extent[1][1],Hp.y),this.extent[1][2]=Math.max(this.extent[1][2],Hp.z);let i0=Hp.x-Mp.x,w0=Hp.y-Mp.y,m0=Hp.z-Mp.z;this.maxdepth=Math.sqrt(i0*i0+w0*w0+m0*m0),this.minunit=Math.min(Math.min(Qp.x,Qp.y),Qp.z),this.texmatrix=new $.Matrix4().identity().scale({x:_t.size.x,y:_t.size.y,z:_t.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(_t.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new $.Matrix4().identity();let Mp=_t.unit.x*_t.size.x,Hp=_t.unit.y*_t.size.y,Qp=_t.unit.z*_t.size.z;this.texmatrix.makeTranslation(-_t.origin.x/Mp,-_t.origin.y/Hp,-_t.origin.z/Qp),this.texmatrix.scale({x:1/Mp,y:1/Hp,z:1/Qp}),this.minunit=Math.min(Math.min(_t.unit.x,_t.unit.y),_t.unit.z),this.extent=[[_t.origin.x,_t.origin.y,_t.origin.z],[_t.origin.x+Mp,_t.origin.y+Hp,_t.origin.z+Qp]],this.maxdepth=Math.sqrt(Mp*Mp+Hp*Hp+Qp*Qp)}var Tp=new om({});if(Tp.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=Tp.finalize(),this.boundingSphere.center=new $.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,wl.coords===void 0&&wl.selection!==void 0&&(zl?wl.coords=zl.selectedAtoms(wl.selection):console.log("Need to provide viewer to volumetric renderer if selection specified.")),wl.coords!==void 0&&wl.seldist!==void 0){let Mp=new Uint8Array(_t.data.length),Hp=wl.seldist,Qp=Hp*Hp;for(let i0=0,w0=wl.coords.length;i0<w0;i0++){let m0=wl.coords[i0],B0=m0.x-Hp,q0=m0.y-Hp,Z0=m0.z-Hp,J0=m0.x+Hp,H0=m0.y+Hp,wm=m0.z+Hp;if(_t.getIndex(B0,q0,Z0)>=0||_t.getIndex(J0,H0,wm)>=0)for(let bm=B0;bm<J0;bm+=this.minunit)for(let Bm=q0;Bm<H0;Bm+=this.minunit)for(let Im=Z0;Im<wm;Im+=this.minunit){let e1=_t.getIndex(bm,Bm,Im);e1>=0&&!Mp[e1]&&(bm-m0.x)*(bm-m0.x)+(Bm-m0.y)*(Bm-m0.y)+(Im-m0.z)*(Im-m0.z)<Qp&&(Mp[e1]=1)}}for(let i0=0,w0=_t.data.length;i0<w0;i0++)Mp[i0]==0&&(_t.data[i0]=1/0)}this.data=_t}globj(_t){if(this.renderedShapeObj&&(_t.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new b.Object3D;var wl,zl=new b.Texture(this.data,!0),Vl=new b.Texture(this.transferfunctionbuffer,!1);zl.needsUpdate=!0,Vl.needsUpdate=!0,Vl.flipY=!1,wl=new b.VolumetricMaterial({transferfn:Vl,transfermin:this.min,transfermax:this.max,map:zl,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var tp=new b.Mesh(this.geo,wl);this.shapeObj.add(tp),this.renderedShapeObj=this.shapeObj.clone(),_t.add(this.renderedShapeObj)}}removegl(_t){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),_t.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}const E1=16;class rv extends Array{constructor(_t){super(..._t)}getSymmetries(){if(this.length==0)return[];let _t=this[0];return _t.symmetries===void 0&&this.setSymmetries([new $.Matrix4]),_t.symmetries}setSymmetries(_t){_t===void 0&&(_t=[new $.Matrix4]);for(let wl of this)wl.symmetries=_t,wl.finished=!1}}class ev{getWidth(){let _t=this.container,wl=_t.offsetWidth;if(wl==0&&_t.style.display==="none"){let zl=_t.style.position,Vl=_t.style.visibility;_t.style.display="block",_t.style.visibility="hidden",_t.style.position="absolute",wl=_t.offsetWidth,_t.style.display="none",_t.style.visibility=Vl,_t.style.position=zl}return wl}getHeight(){let _t=this.container,wl=_t.offsetHeight;if(wl==0&&_t.style.display==="none"){let zl=_t.style.position,Vl=_t.style.visibility;_t.style.display="block",_t.style.visibility="hidden",_t.style.position="absolute",wl=_t.offsetHeight,_t.style.display="none",_t.style.visibility=Vl,_t.style.position=zl}return wl}setupRenderer(){let _t=Object.assign(Object.assign({},this.config),{preserveDrawingBuffer:!0,premultipliedAlpha:!1,containerWidth:this.WIDTH,containerHeight:this.HEIGHT});this.renderer=new b.Renderer(_t),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new b.Scene,this.scene.fog=new b.Fog(this.bgColor,100,200),this.modelGroup=new b.Object3D,this.rotationGroup=new b.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new $.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var _t=new b.Light(16777215);_t.position=new $.Vector3(.2,.2,1).normalize(),_t.intensity=1,this.scene.add(_t)}_handleLostContext(_t){const wl=function(zl){const Vl=zl.getBoundingClientRect();return!(Vl.right<0||Vl.bottom<0||Vl.top>(window.innerHeight||document.documentElement.clientHeight)||Vl.left>(window.innerWidth||document.documentElement.clientWidth))};if(wl(this.container)){let zl=0;for(let Vl of document.getElementsByTagName("canvas"))if(wl(Vl)&&Vl._3dmol_viewer!=null&&(Vl._3dmol_viewer.resize(),zl+=1,zl>=E1))break}}initContainer(_t){this.container=_t,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.glDOM._3dmol_viewer=this,this.glDOM.addEventListener("webglcontextlost",this._handleLostContext.bind(this)),this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var _t=0;for(let zl in this.surfaces)if(this.surfaces.hasOwnProperty(zl)){var wl=parseInt(zl);isNaN(wl)||wl>_t&&(_t=wl)}return _t+1}setSlabAndFog(){let _t=this.camera.position.z-this.rotationGroup.position.z;_t<1&&(_t=1),this.camera.near=_t+this.slabNear,!this.camera.ortho&&this.camera.near<1&&(this.camera.near=1),this.camera.far=_t+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=_t*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.near+this.fogEnd*(this.camera.far-this.camera.near),this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(_t){if(this.renderer.setViewport(),this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!_t&&this.linkedViewers.length>0))for(var wl=this._viewer.getView(),zl=0;zl<this.linkedViewers.length;zl++)this.linkedViewers[zl].setView(wl,!0)}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledObjects.splice(0,this.contextMenuEnabledObjects.length);for(let _t=0,wl=this.models.length;_t<wl;_t++){let zl=this.models[_t];if(zl){let Vl=zl.selectedAtoms({clickable:!0}),tp=zl.selectedAtoms({hoverable:!0}),Du=zl.selectedAtoms({contextMenuEnabled:!0});for(let lp=0;lp<tp.length;lp++)this.hoverables.push(tp[lp]);for(let lp=0;lp<Vl.length;lp++)this.clickables.push(Vl[lp]);for(let lp=0;lp<Du.length;lp++)this.contextMenuEnabledObjects.push(Du[lp])}}for(let _t=0,wl=this.shapes.length;_t<wl;_t++){let zl=this.shapes[_t];zl&&zl.clickable&&this.clickables.push(zl),zl&&zl.hoverable&&this.hoverables.push(zl),zl&&zl.contextMenuEnabled&&this.contextMenuEnabledObjects.push(zl)}}handleClickSelection(_t,wl,zl){let Vl=this.targetedObjects(_t,wl,this.clickables);if(Vl.length){var tp=Vl[0].clickable;tp.callback!==void 0&&(typeof tp.callback!="function"&&(tp.callback=(0,nt.makeFunction)(tp.callback)),typeof tp.callback=="function")&&(this.mouseButton===3&&this.contextMenuEnabledObjects.includes(tp)&&this.userContextMenuHandler||tp.callback(tp,this._viewer,zl,this.container,Vl))}}canvasOffset(){let _t=this.glDOM,wl=_t.getBoundingClientRect(),zl=_t.ownerDocument,Vl=zl.documentElement,tp=zl.defaultView;return{top:wl.top+tp.pageYOffset-Vl.clientTop,left:wl.left+tp.pageXOffset-Vl.clientLeft}}setHover(_t,wl,zl){this.current_hover!=_t&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,nt.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,wl,this.container,zl)),this.current_hover=_t,_t&&_t.hover_callback!==void 0&&(typeof _t.hover_callback!="function"&&(_t.hover_callback=(0,nt.makeFunction)(_t.hover_callback)),typeof _t.hover_callback=="function"&&_t.hover_callback(_t,this._viewer,wl,this.container,zl)))}handleHoverSelection(_t,wl,zl){if(this.hoverables.length==0)return;let Vl=this.targetedObjects(_t,wl,this.hoverables);if(Vl.length){var tp=Vl[0].clickable;this.setHover(tp,zl,Vl),this.current_hover=tp}else this.setHover(null)}handleHoverContinue(_t,wl){let zl=this.targetedObjects(_t,wl,this.hoverables);zl.length!=0&&zl[0]!==void 0||this.setHover(null),zl[0]!==void 0&&zl[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(_t,{allowTolerance:wl=_t.targetTouches,tolerance:zl=5}={}){const Vl=this.getX(_t),tp=this.getY(_t);if(wl){const Du=Math.abs(Vl-this.mouseStartX),lp=Math.abs(tp-this.mouseStartY);return Du<=zl&&lp<=zl}return Vl===this.mouseStartX&&tp===this.mouseStartY}calcTouchDistance(_t){var wl=_t.targetTouches[0].pageX-_t.targetTouches[1].pageX,zl=_t.targetTouches[0].pageY-_t.targetTouches[1].pageY;return Math.hypot(wl,zl)}getX(_t){var wl=_t.pageX;return wl==null&&(wl=_t.pageX),_t.targetTouches&&_t.targetTouches[0]?wl=_t.targetTouches[0].pageX:_t.changedTouches&&_t.changedTouches[0]&&(wl=_t.changedTouches[0].pageX),wl}getY(_t){var wl=_t.pageY;return wl==null&&(wl=_t.pageY),_t.targetTouches&&_t.targetTouches[0]?wl=_t.targetTouches[0].pageY:_t.changedTouches&&_t.changedTouches[0]&&(wl=_t.changedTouches[0].pageY),wl}isInViewer(_t,wl){if(this.viewers!=null){var zl=this.WIDTH/this.cols,Vl=this.HEIGHT/this.rows,tp=this.canvasOffset(),Du=_t-tp.left,lp=wl-tp.top,up=this.rows-Math.floor(lp/Vl)-1,_d=Math.floor(Du/zl);if(up!=this.row||_d!=this.col)return!1}return!0}adjustZoomToLimits(_t){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let wl=this.CAMERA_Z-this.config.lowerZoomLimit;_t>wl&&(_t=wl)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let wl=this.CAMERA_Z-this.config.upperZoomLimit;_t<wl&&(_t=wl)}return _t>this.CAMERA_Z-1&&(_t=this.CAMERA_Z-1),_t}static slerp(_t,wl,zl){if(zl==1)return wl.clone();if(zl==0)return _t.clone();let Vl=_t.x*wl.x+_t.y*wl.y+_t.z*wl.z+_t.w*wl.w;if(Vl>.9995){let gp=new $.Quaternion(_t.x+zl*(wl.x-_t.x),_t.y+zl*(wl.y-_t.y),_t.z+zl*(wl.z-_t.z),_t.w+zl*(wl.w-_t.w));return gp.normalize(),gp}Vl<0&&(wl=wl.clone().multiplyScalar(-1),Vl=-Vl),Vl>1?Vl=1:Vl<-1&&(Vl=-1);var tp=Math.acos(Vl)*zl,Du=wl.clone();Du.sub(_t.clone().multiplyScalar(Vl)),Du.normalize();var lp=Math.cos(tp),up=Math.sin(tp),_d=new $.Quaternion(_t.x*lp+Du.x*up,_t.y*lp+Du.y*up,_t.z*lp+Du.z*up,_t.w*lp+Du.w*up);return _d.normalize(),_d}constructor(_t,wl={}){if(this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledObjects=[],this.current_hover=null,this.hoverDuration=500,this.longTouchDuration=1e3,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.fogEnd=1,this.slabNear=-50,this.slabFar=50,this.cq=new $.Quaternion(0,0,0,1),this.dq=new $.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=wl,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=j.elementColors.defaultColors),this.nomouse=!!this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",this.config.backgroundColor!==void 0&&(this.bgColor=j.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,this.config.camerax!==void 0&&(this.camerax=typeof this.config.camerax=="string"?parseFloat(this.config.camerax):this.config.camerax),this._viewer=this,this.container=_t,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new b.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new $.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new $.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new b.Raycaster(new $.Vector3(0,0,0),new $.Vector3(0,0,0)),this.projector=new b.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=j.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),window.ResizeObserver!==void 0&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container)),window.IntersectionObserver!==void 0){let zl=(Vl,tp)=>{Vl.forEach(Du=>{Du.isIntersecting&&this.resize()})};this.intwatcher=new window.IntersectionObserver(zl),this.intwatcher.observe(this.container)}try{typeof this.callback=="function"&&this.callback(this)}catch(zl){console.log("error with glviewer callback: "+zl)}}targetedObjects(_t,wl,zl){var Vl={x:_t,y:wl,z:-1};return Array.isArray(zl)||(zl=this.selectedAtoms(zl)),zl.length==0?[]:(this.raycaster.setFromCamera(Vl,this.camera),this.raycaster.intersectObjects(this.modelGroup,zl))}modelToScreen(_t){let wl=!1;Array.isArray(_t)||(_t=[_t],wl=!0);let zl=this.renderer.getXRatio(),Vl=this.renderer.getYRatio(),tp=this.col,Du=this.row,lp=tp*(this.WIDTH/zl),up=(Vl-Du-1)*(this.HEIGHT/Vl),_d=[],gp=this.canvasOffset();return _t.forEach(mp=>{let Rp=new $.Vector3(mp.x,mp.y,mp.z);Rp.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(Rp,this.camera);let Ep=this.WIDTH/zl*(Rp.x+1)/2+gp.left+lp,wp=-this.HEIGHT/Vl*(Rp.y-1)/2+gp.top+up;_d.push({x:Ep,y:wp})}),wl&&(_d=_d[0]),_d}screenOffsetToModel(_t,wl,zl){var Vl=_t/this.WIDTH,tp=wl/this.HEIGHT,Du=zl===void 0?this.rotationGroup.position.z:zl,lp=this.rotationGroup.quaternion,up=new $.Vector3(0,0,Du);return this.projector.projectVector(up,this.camera),up.x+=2*Vl,up.y-=2*tp,this.projector.unprojectVector(up,this.camera),up.z=0,up.applyQuaternion(lp),up}screenToModelDistance(_t,wl){let zl=this.canvasOffset(),Vl=new $.Vector3(wl.x,wl.y,wl.z);Vl.applyMatrix4(this.modelGroup.matrixWorld);let tp=Vl.clone();this.projector.projectVector(Vl,this.camera);let Du=new $.Vector3(2*(_t.x-zl.left)/this.WIDTH-1,2*(_t.y-zl.top)/-this.HEIGHT+1,Vl.z);return this.projector.unprojectVector(Du,this.camera),Du.distanceTo(tp)}setViewChangeCallback(_t){typeof _t!="function"&&_t!=null||(this.viewChangeCallback=_t)}setStateChangeCallback(_t){typeof _t!="function"&&_t!=null||(this.stateChangeCallback=_t)}getConfig(){return this.config}setConfig(_t){this.config=_t,_t.ambientOcclusion&&this.renderer.enableAmbientOcclusion(_t.ambientOcclusion)}getInternalState(){var _t={models:[],surfaces:[],shapes:[],labels:[]};for(let wl=0;wl<this.models.length;wl++)this.models[wl]&&(_t.models[wl]=this.models[wl].getInternalState());return _t}setInternalState(_t){this.clear();var wl=_t.models;for(let zl=0;zl<wl.length;zl++)wl[zl]&&(this.models[zl]=new Av(zl,void 0,this),this.models[zl].setInternalState(wl[zl]));this.render()}setZoomLimits(_t,wl){_t!==void 0&&(this.config.lowerZoomLimit=_t),wl&&(this.config.upperZoomLimit=wl),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(_t){_t.fov!==void 0&&(this.fov=_t.fov,this.camera.fov=this.fov),_t.z!==void 0&&(this.CAMERA_Z=_t.z,this.camera.z=this.CAMERA_Z),_t.orthographic!==void 0&&(this.camera.ortho=_t.orthographic),this.setSlabAndFog()}_handleMouseDown(_t){if(_t.preventDefault(),!this.scene)return;var wl=this.getX(_t),zl=this.getY(_t);if(wl===void 0)return;this.isDragging=!0,this.mouseButton=_t.which,this.mouseStartX=wl,this.mouseStartY=zl,this.touchHold=!0,this.touchDistanceStart=0,_t.targetTouches&&_t.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(_t)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let Vl=this;_t.targetTouches&&_t.targetTouches.length===1&&(this.longTouchTimeout=setTimeout(function(){if(Vl.touchHold==1){Vl.glDOM=Vl.renderer.domElement;const tp=_t.targetTouches[0],Du=new PointerEvent("contextmenu",Object.assign(Object.assign({},_t),{pageX:tp.pageX,pageY:tp.pageY,screenX:tp.screenX,screenY:tp.screenY,clientX:tp.clientX,clientY:tp.clientY}));Vl.glDOM.dispatchEvent(Du)}},this.longTouchDuration))}_handleMouseUp(_t){if(this.touchHold=!1,this.isDragging&&this.scene){var wl=this.getX(_t),zl=this.getY(_t);if(this.closeEnoughForClick(_t)&&this.isInViewer(wl,zl)){let Vl=this.mouseXY(wl,zl);this.handleClickSelection(Vl.x,Vl.y,_t)}}this.isDragging=!1}_handleMouseScroll(_t){if(_t.preventDefault(),this.scene){var wl=this.getX(_t),zl=this.getY(_t);if(wl!==void 0&&(this.control_all||this.isInViewer(wl,zl))){var Vl=.85*(this.CAMERA_Z-this.rotationGroup.position.z),tp=1;if(_t.ctrlKey&&(tp=-1),_t.detail)this.rotationGroup.position.z+=tp*Vl*_t.detail/10;else if(_t.wheelDelta){let Du=600*_t.wheelDelta/(_t.wheelDelta+600);this.rotationGroup.position.z-=tp*Vl*Du/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(_t){let wl=this;return _t=_t||1,new Promise(function(zl){let Vl=0,tp=wl.viewChangeCallback,Du=[],lp=[],up=Date.now();wl.viewChangeCallback=function(){lp.push(Date.now()-up),up=Date.now(),Du.push(new Promise(_d=>{wl.getCanvas().toBlob(function(gp){gp.arrayBuffer().then(_d)},"image/png")})),Vl+=1,Vl==_t&&(wl.viewChangeCallback=tp,Promise.all(Du).then(_d=>{let gp=[];for(let Mp=0;Mp<_d.length;Mp++){let Hp=(0,g.decode)(_d[Mp]);gp.push((0,g.toRGBA8)(Hp)[0])}let mp=wl.getCanvas().width,Rp=wl.getCanvas().height,Ep=(0,g.encode)(gp,mp,Rp,0,lp),wp=new Blob([Ep],{type:"image/png"}),Tp=new FileReader;Tp.onload=function(Mp){zl(Mp.target.result)},Tp.readAsDataURL(wp)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(_t){this.hoverDuration=_t}mouseXY(_t,wl){let zl=this.canvasOffset(),Vl=this.renderer.getXRatio(),tp=this.renderer.getYRatio(),Du=this.col,lp=this.row,up=Du*(this.WIDTH/Vl),_d=(tp-lp-1)*(this.HEIGHT/tp);return{x:(_t-zl.left-up)/(this.WIDTH/Vl)*2-1,y:-(wl-zl.top-_d)/(this.HEIGHT/tp)*2+1}}_handleMouseMove(_t){clearTimeout(this.hoverTimeout),_t.preventDefault();let wl=this.getX(_t),zl=this.getY(_t);if(wl===void 0)return;let Vl=this.renderer.getXRatio(),tp=this.renderer.getYRatio(),Du=this.mouseXY(wl,zl),lp=this;this.current_hover!==null&&this.handleHoverContinue(Du.x,Du.y);var up=0;if((this.control_all||this.isInViewer(wl,zl))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){lp.handleHoverSelection(Du.x,Du.y,_t)},this.hoverDuration)),this.isDragging)){_t.targetTouches&&(_t.targetTouches.length>1||_t.targetTouches.length===1&&!this.closeEnoughForClick(_t))&&clearTimeout(this.longTouchTimeout);var _d=(wl-this.mouseStartX)/this.WIDTH,gp=(zl-this.mouseStartY)/this.HEIGHT;this.touchDistanceStart!=0&&_t.targetTouches&&_t.targetTouches.length==2?(up=2,gp=2*(this.calcTouchDistance(_t)-this.touchDistanceStart)/(this.WIDTH+this.HEIGHT)):_t.targetTouches&&_t.targetTouches.length==3&&(up=1),_d*=Vl,gp*=tp;var mp,Rp=Math.hypot(_d,gp);if(up==3||this.mouseButton==3&&_t.ctrlKey)this.slabNear=this.cslabNear+100*_d,this.slabFar=this.cslabFar-100*gp;else if(up==2||this.mouseButton==3||_t.shiftKey)(mp=.85*(this.CAMERA_Z-this.rotationGroup.position.z))<80&&(mp=80),this.rotationGroup.position.z=this.cz+gp*mp,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(up==1||this.mouseButton==2||_t.ctrlKey){var Ep=this.screenOffsetToModel(Vl*(wl-this.mouseStartX),tp*(zl-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,Ep)}else if((up===0||this.mouseButton==1)&&Rp!==0){var wp=Math.sin(Rp*Math.PI)/Rp;this.dq.x=Math.cos(Rp*Math.PI),this.dq.y=0,this.dq.z=wp*_d,this.dq.w=-wp*gp,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(_t){if(_t.preventDefault(),this.closeEnoughForClick(_t)){var wl=this.mouseStartX,zl=this.mouseStartY,Vl=this.canvasOffset();let Du=this.mouseXY(wl,zl),lp=Du.x,up=Du.y,_d=this.targetedObjects(lp,up,this.contextMenuEnabledObjects);var tp=null;_d.length&&(tp=_d[0].clickable),Vl=this.canvasOffset(),wl=this.mouseStartX-Vl.left,zl=this.mouseStartY-Vl.top,this.userContextMenuHandler&&(this.userContextMenuHandler(tp,wl,zl,_d,_t),this.isDragging=!1)}}setContainer(_t){let wl=(0,nt.getElement)(_t)||this.container;return this.initContainer(wl),this}setBackgroundColor(_t,wl){(wl===void 0||wl<0||wl>1)&&(wl=1);var zl=j.CC.color(_t);return this.scene.fog.color=zl,this.bgColor=zl.getHex(),this.renderer.setClearColorHex(zl.getHex(),wl),this.show(),this}setProjection(_t){this.camera.ortho=_t==="orthographic",this.setSlabAndFog()}setViewStyle(_t){if((_t=_t||{}).style=_t.style||"",_t.style.includes("outline")?this.renderer.enableOutline(_t):this.renderer.disableOutline(),_t.style.includes("ambientOcclusion")){var wl={};_t.strength&&(wl.strength=_t.strength),_t.radius&&(wl.radius=_t.radius),this.renderer.enableAmbientOcclusion(wl)}else this.renderer.disableAmbientOcclusion();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(_t){return this.WIDTH=_t||this.WIDTH,this.updateSize(),this}setHeight(_t){return this.HEIGHT=_t||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let _t=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let wl=!1,zl=this.container.querySelector("canvas");zl&&zl!=this.renderer.getCanvas()?this.config.canvas=zl:(zl.remove(),this.config&&this.config.canvas!=null&&(delete this.config.canvas,wl=!0)),this.setupRenderer(),this.initContainer(this.container),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),_t=!0,wl&&(this.config.canvas=this.renderer.getCanvas())}if(this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),_t){let wl=this.renderer.supportedExtensions();if(wl.regen=!0,this.viewers)for(let zl=0,Vl=this.viewers.length;zl<Vl;zl++)for(let tp=0,Du=this.viewers[zl].length;tp<Du;tp++)this.viewers[zl][tp].render(null,wl);this._viewer.render(null,wl)}else this.WIDTH>0&&this.HEIGHT>0&&this.show();return this}getModel(_t){return _t===void 0?this.models.length==0?null:this.models[this.models.length-1]:_t instanceof Av?_t:_t in this.models?this.models[_t]:this.models.length==0?null:this.models[this.models.length-1]}spin(_t,wl=1,zl=!1){if(clearInterval(this.spinInterval),_t===void 0&&(_t="y"),typeof _t=="boolean"){if(!_t)return;_t="y"}Array.isArray(_t)&&(_t={x:_t[0],y:_t[1],z:_t[2]});var Vl=this;this.spinInterval=setInterval(function(){!Vl.getCanvas().isConnected&&Vl.renderer.isLost()&&clearInterval(Vl.spinInterval),(!zl||Vl.container.checkVisibility&&Vl.container.checkVisibility())&&Vl.rotate(1*wl,_t)},25)}animateMotion(_t,wl,zl,Vl,tp,Du){var lp=Math.ceil(_t/20);lp<1&&(lp=1),this.incAnim();var up={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(wl){let mp=new Array(lp);for(let Tp=0;Tp<lp;Tp++){let Mp=(Tp+1)/lp,Hp={mpos:up.mpos,rz:up.rz,rot:up.rot};Hp.mpos=zl.clone().sub(up.mpos).multiplyScalar(Mp).add(up.mpos),Hp.rz=up.rz+Mp*(Vl-up.rz),Hp.rot=ev.slerp(up.rot,tp,Mp),Hp.cam=Du.clone().sub(up.cam).multiplyScalar(Mp).add(up.cam),mp[Tp]=Hp}let Rp=0,Ep=this,wp=function(){var Tp=mp[Rp];Rp+=1,Ep.modelGroup.position=Tp.mpos,Ep.rotationGroup.position.z=Tp.rz,Ep.rotationGroup.quaternion=Tp.rot,Ep.camera.lookAt(Tp.cam),Rp<mp.length?setTimeout(wp,20):Ep.decAnim(),Ep.show()};setTimeout(wp,20)}else{var _d={};let mp=1/lp;if(zl&&(_d.mpos=zl.clone().sub(up.mpos).multiplyScalar(mp)),Vl!==void 0&&Vl!=null&&(_d.rz=mp*(Vl-up.rz)),tp){var gp=ev.slerp(up.rot,tp,mp);_d.rot=up.rot.clone().inverse().multiply(gp)}Du&&(_d.cam=Du.clone().sub(up.cam).multiplyScalar(mp));let Rp=0,Ep=this,wp=function(){Rp+=1,_d.mpos&&Ep.modelGroup.position.add(_d.mpos),_d.rz&&(Ep.rotationGroup.position.z+=_d.rz),_d.rot&&Ep.rotationGroup.quaternion.multiply(_d.rot),_d.cam&&(Ep.lookingAt.add(_d.cam),Ep.camera.lookAt(Ep.lookingAt)),Rp<lp?setTimeout(wp,20):Ep.decAnim(),Ep.show()};setTimeout(wp,20)}}rotate(_t,wl="y",zl=0,Vl=!1){if(wl=="x"?wl={x:1,y:0,z:0}:wl=="y"?wl={x:0,y:1,z:0}:wl=="z"&&(wl={x:0,y:0,z:1}),wl=="vx"?wl={vx:1,vy:0,vz:0}:wl=="vy"?wl={vx:0,vy:1,vz:0}:wl=="vz"&&(wl={vx:0,vy:0,vz:1}),wl.vx!==void 0){var tp=new $.Vector3(wl.vx,wl.vy,wl.vz);tp.applyQuaternion(this.rotationGroup.quaternion),wl={x:tp.x,y:tp.y,z:tp.z}}var Du=function(up){var _d,gp,mp,Rp=Math.sin(up/2),Ep=Math.cos(up/2);return _d=wl.x*Rp,gp=wl.y*Rp,mp=wl.z*Rp,new $.Quaternion(_d,gp,mp,Ep).normalize()}(Math.PI*_t/180);if(zl){var lp=new $.Quaternion().copy(this.rotationGroup.quaternion).multiply(Du);this.animateMotion(zl,Vl,this.modelGroup.position,this.rotationGroup.position.z,lp,this.lookingAt)}else this.rotationGroup.quaternion.multiply(Du),this.show();return this}surfacesFinished(){for(var _t in this.surfaces)if(!this.surfaces[_t][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var _t=this.modelGroup.position,wl=this.rotationGroup.quaternion;return[_t.x,_t.y,_t.z,this.rotationGroup.position.z,wl.x,wl.y,wl.z,wl.w]}setView(_t,wl){return _t!==void 0&&(_t instanceof Array||_t.length!==8)&&this.modelGroup&&this.rotationGroup?(this.modelGroup.position.x=_t[0],this.modelGroup.position.y=_t[1],this.modelGroup.position.z=_t[2],this.rotationGroup.position.z=_t[3],this.rotationGroup.quaternion.x=_t[4],this.rotationGroup.quaternion.y=_t[5],this.rotationGroup.quaternion.z=_t[6],this.rotationGroup.quaternion.w=_t[7],_t[8]!==void 0&&(this.rotationGroup.position.x=_t[8],this.rotationGroup.position.y=_t[9]),this.show(wl),this):this}render(_t,wl){this.renderer.setViewport(),this.updateClickables();var zl,Vl,tp=this.getView();for(this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState()),wl||(wl=this.renderer.supportedExtensions()),zl=0;zl<this.models.length;zl++)this.models[zl]&&this.models[zl].globj(this.modelGroup,wl);for(zl=0;zl<this.shapes.length;zl++)this.shapes[zl]&&(this.shapes[zl].frame===void 0||this.viewer_frame<0||this.shapes[zl].frame<0||this.shapes[zl].frame==this.viewer_frame?this.shapes[zl].globj(this.modelGroup,wl):this.shapes[zl].removegl(this.modelGroup));for(zl=0;zl<this.labels.length;zl++)wl.regen&&(this.labels[zl].dispose(),this.modelGroup.remove(this.labels[zl].sprite),this.labels[zl].setContext(),this.modelGroup.add(this.labels[zl].sprite)),this.labels[zl]&&this.labels[zl].frame!==void 0&&this.labels[zl].frame>=0&&(this.modelGroup.remove(this.labels[zl].sprite),(this.viewer_frame<0||this.labels[zl].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[zl].sprite));for(zl in this.surfaces)if(this.surfaces.hasOwnProperty(zl)){var Du=this.surfaces[zl];for(Vl=0;Vl<Du.length;Vl++)if(Du.hasOwnProperty(Vl)){var lp=Du[Vl].geo;if(!Du[Vl].finished||wl.regen){lp.verticesNeedUpdate=!0,lp.elementsNeedUpdate=!0,lp.normalsNeedUpdate=!0,lp.colorsNeedUpdate=!0,lp.buffersNeedUpdate=!0,Du[Vl].mat.needsUpdate=!0,Du[Vl].done&&(Du[Vl].finished=!0),Du[Vl].lastGL&&this.modelGroup.remove(Du[Vl].lastGL);var up=null;if(Du[Vl].mat instanceof b.LineBasicMaterial?up=new b.Line(lp,Du[Vl].mat):("wireframe"in Du.style&&Du.style.wireframe&&lp.setUpWireframe(),up=new b.Mesh(lp,Du[Vl].mat)),Du[Vl].mat.transparent&&Du[Vl].mat.opacity==0?up.visible=!1:up.visible=!0,Du[Vl].symmetries.length>1||Du[Vl].symmetries.length==1&&!Du[Vl].symmetries[0].isIdentity()){var _d,gp=new b.Object3D;for(_d=0;_d<Du[Vl].symmetries.length;_d++){var mp=up.clone();mp.matrix=Du[Vl].symmetries[_d],mp.matrixAutoUpdate=!1,gp.add(mp)}Du[Vl].lastGL=gp,this.modelGroup.add(gp)}else Du[Vl].lastGL=up,this.modelGroup.add(up)}}}return this.setView(tp),typeof _t=="function"&&_t(this),this}getModelList(_t){let wl=[];if(_t===void 0||_t.model===void 0)for(let Vl=0;Vl<this.models.length;Vl++)this.models[Vl]&&wl.push(this.models[Vl]);else{let Vl=_t.model;Array.isArray(Vl)||(Vl=[Vl]);for(let tp=0;tp<Vl.length;tp++)if(typeof Vl[tp]=="number"){var zl=Vl[tp];zl<0&&(zl+=this.models.length),wl.push(this.models[zl])}else wl.push(Vl[tp])}return wl}getAtomsFromSel(_t){var wl=[];_t===void 0&&(_t={});var zl=this.getModelList(_t);for(let Vl=0;Vl<zl.length;Vl++)wl=wl.concat(zl[Vl].selectedAtoms(_t));return wl}atomIsSelected(_t,wl){wl===void 0&&(wl={});for(var zl=this.getModelList(wl),Vl=0;Vl<zl.length;Vl++)if(zl[Vl].atomIsSelected(_t,wl))return!0;return!1}selectedAtoms(_t){return this.getAtomsFromSel(_t)}getUniqueValues(_t,wl){wl===void 0&&(wl={});var zl=this.getAtomsFromSel(wl),Vl={};for(var tp in zl)zl[tp].hasOwnProperty(_t)&&(Vl[zl[tp][_t]]=!0);return Object.keys(Vl)}pdbData(_t){for(var wl=this.getAtomsFromSel(_t),zl="",Vl=0,tp=wl.length;Vl<tp;++Vl)zl+=wl[Vl].pdbline+`
`;return zl}zoom(_t=2,wl=0,zl=!1){var Vl=(this.CAMERA_Z-this.rotationGroup.position.z)/_t,tp=this.CAMERA_Z-Vl;return wl>0?this.animateMotion(wl,zl,this.modelGroup.position,this.adjustZoomToLimits(tp),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(tp),this.show()),this}translate(_t,wl,zl=0,Vl=!1){var tp=_t/this.WIDTH,Du=wl/this.HEIGHT,lp=new $.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(lp,this.camera),lp.x-=tp,lp.y-=Du,this.projector.unprojectVector(lp,this.camera),lp.z=0;var up=this.lookingAt.clone().add(lp);return zl>0?this.animateMotion(zl,Vl,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,up):(this.lookingAt=up,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(_t,wl,zl=0,Vl=!1){var tp=this.screenOffsetToModel(_t,wl),Du=this.modelGroup.position.clone().add(tp);return zl>0?this.animateMotion(zl,Vl,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Du,this.show()),this}fitSlab(_t){_t=_t||{};var wl=this.getAtomsFromSel(_t),zl=(0,nt.getExtent)(wl),Vl=zl[1][0]-zl[0][0],tp=zl[1][1]-zl[0][1],Du=zl[1][2]-zl[0][2],lp=Math.hypot(Vl,tp,Du);return lp<5&&(lp=5),this.slabNear=-lp/1.9,this.slabFar=lp/2,this}center(_t={},wl=0,zl=!1){var Vl,tp,Du=this.getAtomsFromSel(_t),lp=(0,nt.getExtent)(Du);(0,nt.isEmptyObject)(_t)?(this.shapes.forEach(Hp=>{if(Hp&&Hp.boundingSphere&&Hp.boundingSphere.center){var Qp=Hp.boundingSphere.center,i0=Hp.boundingSphere.radius;i0>0?(Du.push(new $.Vector3(Qp.x+i0,Qp.y,Qp.z)),Du.push(new $.Vector3(Qp.x-i0,Qp.y,Qp.z)),Du.push(new $.Vector3(Qp.x,Qp.y+i0,Qp.z)),Du.push(new $.Vector3(Qp.x,Qp.y-i0,Qp.z)),Du.push(new $.Vector3(Qp.x,Qp.y,Qp.z+i0)),Du.push(new $.Vector3(Qp.x,Qp.y,Qp.z-i0))):Du.push(Qp)}}),lp=(0,nt.getExtent)(Du),Vl=Du,tp=lp):(Vl=this.getAtomsFromSel({}),tp=(0,nt.getExtent)(Vl));var up=new $.Vector3(lp[2][0],lp[2][1],lp[2][2]),_d=tp[1][0]-tp[0][0],gp=tp[1][1]-tp[0][1],mp=tp[1][2]-tp[0][2],Rp=Math.hypot(_d,gp,mp);Rp<5&&(Rp=5),this.slabNear=-Rp/1.9,this.slabFar=Rp/2,_d=lp[1][0]-lp[0][0],gp=lp[1][1]-lp[0][1],mp=lp[1][2]-lp[0][2],(Rp=Math.hypot(_d,gp,mp))<5&&(Rp=5);for(var Ep=25,wp=0;wp<Du.length;wp++)if(Du[wp]){var Tp=up.distanceToSquared(Du[wp]);Tp>Ep&&(Ep=Tp)}Rp=2*Math.sqrt(Ep);var Mp=up.clone().multiplyScalar(-1);return wl>0?this.animateMotion(wl,zl,Mp,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Mp,this.show()),this}zoomTo(_t={},wl=0,zl=!1){let Vl=this.getAtomsFromSel(_t),tp=(0,nt.getExtent)(Vl),Du=tp;if((0,nt.isEmptyObject)(_t)){let Qp=Vl&&Vl.length;if(this.shapes.forEach(i0=>{if(i0&&i0.boundingSphere){if(i0.boundingSphere.box){let B0=i0.boundingSphere.box;Vl.push(new $.Vector3(B0.min.x,B0.min.y,B0.min.z)),Vl.push(new $.Vector3(B0.max.x,B0.max.y,B0.max.z))}else if(i0.boundingSphere.center){var w0=i0.boundingSphere.center,m0=i0.boundingSphere.radius;m0>0?(Vl.push(new $.Vector3(w0.x+m0,w0.y,w0.z)),Vl.push(new $.Vector3(w0.x-m0,w0.y,w0.z)),Vl.push(new $.Vector3(w0.x,w0.y+m0,w0.z)),Vl.push(new $.Vector3(w0.x,w0.y-m0,w0.z)),Vl.push(new $.Vector3(w0.x,w0.y,w0.z+m0)),Vl.push(new $.Vector3(w0.x,w0.y,w0.z-m0))):Vl.push(w0)}}}),Du=(0,nt.getExtent)(Vl),!Qp)for(let i0=0;i0<3;i0++)tp[2][i0]=(Du[0][i0]+Du[1][i0])/2}else{let Qp=this.getAtomsFromSel({});Du=(0,nt.getExtent)(Qp)}var lp=new $.Vector3(tp[2][0],tp[2][1],tp[2][2]),up=Du[1][0]-Du[0][0],_d=Du[1][1]-Du[0][1],gp=Du[1][2]-Du[0][2],mp=Math.hypot(up,_d,gp);mp<5&&(mp=5),this.slabNear=-mp/1.9,this.slabFar=mp/2,Object.keys(_t).length===0&&(this.slabNear=Math.min(2*-mp,-50),this.slabFar=Math.max(2*mp,50));var Rp=this.config.minimumZoomToDistance||5;up=tp[1][0]-tp[0][0],_d=tp[1][1]-tp[0][1],gp=tp[1][2]-tp[0][2],(mp=Math.hypot(up,_d,gp))<Rp&&(mp=Rp);for(var Ep=Rp*Rp,wp=0;wp<Vl.length;wp++)if(Vl[wp]){var Tp=lp.distanceToSquared(Vl[wp]);Tp>Ep&&(Ep=Tp)}mp=2*Math.sqrt(Ep);var Mp=lp.clone().multiplyScalar(-1),Hp=-(.5*mp/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return Hp=this.adjustZoomToLimits(Hp),wl>0?this.animateMotion(wl,zl,Mp,Hp,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=Mp,this.rotationGroup.position.z=Hp,this.show()),this}setSlab(_t,wl){this.slabNear=_t,this.slabFar=wl}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(_t,wl={},zl,Vl=!1){if(zl){var tp=(0,nt.getExtent)(this.getAtomsFromSel(zl));wl.position={x:tp[2][0],y:tp[2][1],z:tp[2][2]}}var Du=new k1(_t,wl);return Du.setContext(),this.modelGroup.add(Du.sprite),this.labels.push(Du),Vl||this.show(),Du}addResLabels(_t,wl,zl=!1){let Vl=this.labels.length;return this.applyToModels("addResLabels",_t,wl,zl),this.show(),this.labels.slice(Vl)}addPropertyLabels(_t,wl,zl){return this.applyToModels("addPropertyLabels",_t,wl,zl),this.show(),this}removeLabel(_t){for(var wl=0;wl<this.labels.length;wl++)if(this.labels[wl]==_t){this.labels.splice(wl,1),_t.dispose(),this.modelGroup.remove(_t.sprite);break}return this.show(),this}removeAllLabels(){for(var _t=0;_t<this.labels.length;_t++)this.labels[_t]&&this.labels[_t].sprite&&this.modelGroup.remove(this.labels[_t].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}hideAllLabels(){for(var _t=0;_t<this.labels.length;_t++)this.labels[_t]&&this.labels[_t].hide();return this.show(),this}showAllLabels(){for(var _t=0;_t<this.labels.length;_t++)this.labels[_t]&&this.labels[_t].show();return this.show(),this}setLabelStyle(_t,wl){return this.modelGroup.remove(_t.sprite),_t.dispose(),_t.stylespec=wl,_t.setContext(),this.modelGroup.add(_t.sprite),this.show(),_t}setLabelText(_t,wl){return this.modelGroup.remove(_t.sprite),_t.dispose(),_t.text=wl,_t.setContext(),this.modelGroup.add(_t.sprite),this.show(),_t}addShape(_t){var wl=new om(_t=_t||{});return wl.shapePosition=this.shapes.length,this.shapes.push(wl),wl}removeShape(_t){if(!_t)return this;for(_t.removegl(this.modelGroup),delete this.shapes[_t.shapePosition];this.shapes.length>0&&this.shapes[this.shapes.length-1]===void 0;)this.shapes.pop();return this}removeAllShapes(){for(var _t=0;_t<this.shapes.length;_t++){var wl=this.shapes[_t];wl&&wl.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(_t){if(_t.hasOwnProperty("x")&&_t.hasOwnProperty("y")&&_t.hasOwnProperty("z"))return _t;var wl=this.getAtomsFromSel(_t);if(wl.length==0)return{x:0,y:0,z:0};var zl=(0,nt.getExtent)(wl);return{x:zl[0][0]+(zl[1][0]-zl[0][0])/2,y:zl[0][1]+(zl[1][1]-zl[0][1])/2,z:zl[0][2]+(zl[1][2]-zl[0][2])/2}}addSphere(_t){(_t=_t||{}).center=this.getSelectionCenter(_t.center);var wl=new om(_t);return wl.shapePosition=this.shapes.length,wl.addSphere(_t),this.shapes.push(wl),wl.finalize(),wl}addBox(_t={}){_t.corner!=null&&(_t.corner=this.getSelectionCenter(_t.corner)),_t.center!=null&&(_t.center=this.getSelectionCenter(_t.center));var wl=new om(_t);return wl.shapePosition=this.shapes.length,wl.addBox(_t),this.shapes.push(wl),wl.finalize(),wl}addArrow(_t={}){_t.start=this.getSelectionCenter(_t.start),_t.end=this.getSelectionCenter(_t.end);var wl=new om(_t);return wl.shapePosition=this.shapes.length,wl.addArrow(_t),this.shapes.push(wl),wl.finalize(),wl}addCylinder(_t={}){_t.start=this.getSelectionCenter(_t.start),_t.end=this.getSelectionCenter(_t.end);var wl=new om(_t);return wl.shapePosition=this.shapes.length,_t.dashed?wl.addDashedCylinder(_t):wl.addCylinder(_t),this.shapes.push(wl),wl.finalize(),wl}addCurve(_t={}){var wl=new om(_t);return wl.shapePosition=this.shapes.length,wl.addCurve(_t),this.shapes.push(wl),wl.finalize(),wl}addLine(_t={}){_t.start=this.getSelectionCenter(_t.start),_t.end=this.getSelectionCenter(_t.end),_t.wireframe=!0;var wl=new om(_t);return wl.shapePosition=this.shapes.length,_t.dashed?wl=this.addLineDashed(_t,wl):wl.addLine(_t),this.shapes.push(wl),wl.finalize(),wl}addUnitCell(_t,wl){_t=this.getModel(_t),(wl=wl||{alabel:"a",blabel:"b",clabel:"c"}).box=wl.box||{},wl.astyle=wl.astyle||{color:"red",radius:.1,midpos:-1},wl.bstyle=wl.bstyle||{color:"green",radius:.1,midpos:-1},wl.cstyle=wl.cstyle||{color:"blue",radius:.1,midpos:-1},wl.alabelstyle=wl.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},wl.blabelstyle=wl.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},wl.clabelstyle=wl.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},_t.unitCellObjects&&this.removeUnitCell(_t),_t.unitCellObjects={shapes:[],labels:[]};var zl=_t.getCrystData(),Vl=null;if(zl){if(zl.matrix)Vl=zl.matrix;else{var tp,Du,lp,up=zl.a,_d=zl.b,gp=zl.c,mp=zl.alpha,Rp=zl.beta,Ep=zl.gamma;mp=mp*Math.PI/180,Rp=Rp*Math.PI/180,Ep=Ep*Math.PI/180,tp=Math.cos(Rp),Du=(Math.cos(mp)-Math.cos(Rp)*Math.cos(Ep))/Math.sin(Ep),lp=Math.sqrt(Math.max(0,1-tp*tp-Du*Du)),Vl=new $.Matrix3(up,_d*Math.cos(Ep),gp*tp,0,_d*Math.sin(Ep),gp*Du,0,0,gp*lp)}var wp=[new $.Vector3(0,0,0),new $.Vector3(1,0,0),new $.Vector3(0,1,0),new $.Vector3(0,0,1),new $.Vector3(1,1,0),new $.Vector3(0,1,1),new $.Vector3(1,0,1),new $.Vector3(1,1,1)];if(zl.matrix4)for(let Mp=0;Mp<wp.length;Mp++)zl.size&&wp[Mp].multiplyVectors(wp[Mp],zl.size),wp[Mp]=wp[Mp].applyMatrix4(zl.matrix4);else for(let Mp=0;Mp<wp.length;Mp++)wp[Mp]=wp[Mp].applyMatrix3(Vl);if(wl.box&&!wl.box.hidden){wl.box.wireframe=!0;var Tp=new om(wl.box);Tp.shapePosition=this.shapes.length,Tp.addLine({start:wp[0],end:wp[1]}),Tp.addLine({start:wp[0],end:wp[2]}),Tp.addLine({start:wp[1],end:wp[4]}),Tp.addLine({start:wp[2],end:wp[4]}),Tp.addLine({start:wp[0],end:wp[3]}),Tp.addLine({start:wp[3],end:wp[5]}),Tp.addLine({start:wp[2],end:wp[5]}),Tp.addLine({start:wp[1],end:wp[6]}),Tp.addLine({start:wp[4],end:wp[7]}),Tp.addLine({start:wp[6],end:wp[7]}),Tp.addLine({start:wp[3],end:wp[6]}),Tp.addLine({start:wp[5],end:wp[7]}),this.shapes.push(Tp),_t.unitCellObjects.shapes.push(Tp),Tp.finalize()}if(!wl.astyle.hidden){wl.astyle.start=wp[0],wl.astyle.end=wp[1];let Mp=this.addArrow(wl.astyle);_t.unitCellObjects.shapes.push(Mp)}if(!wl.bstyle.hidden){wl.bstyle.start=wp[0],wl.bstyle.end=wp[2];let Mp=this.addArrow(wl.bstyle);_t.unitCellObjects.shapes.push(Mp)}if(!wl.cstyle.hidden){wl.cstyle.start=wp[0],wl.cstyle.end=wp[3];let Mp=this.addArrow(wl.cstyle);_t.unitCellObjects.shapes.push(Mp)}if(wl.alabel){wl.alabelstyle.position=wp[1];let Mp=this.addLabel(wl.alabel,wl.alabelstyle);_t.unitCellObjects.labels.push(Mp)}if(wl.blabel){wl.blabelstyle.position=wp[2];let Mp=this.addLabel(wl.blabel,wl.blabelstyle);_t.unitCellObjects.labels.push(Mp)}if(wl.clabel){wl.clabelstyle.position=wp[3];let Mp=this.addLabel(wl.clabel,wl.clabelstyle);_t.unitCellObjects.labels.push(Mp)}}}removeUnitCell(_t){if((_t=this.getModel(_t)).unitCellObjects){let wl=this;_t.unitCellObjects.shapes.forEach(function(zl){wl.removeShape(zl)}),_t.unitCellObjects.labels.forEach(function(zl){wl.removeLabel(zl)})}delete _t.unitCellObjects}replicateUnitCell(_t=3,wl=_t,zl=wl,Vl,tp,Du){let lp=(Vl=this.getModel(Vl)).getCrystData();if(lp){const up=Vl.selectedAtoms({}),_d=lp.matrix;let gp=function(Rp){return Rp%2==0?-Rp/2:Math.ceil(Rp/2)};_t<=1&&wl<=1&&zl<=1&&(Du=!0,_t=wl=zl=3);let mp=function(Rp,Ep,wp){return!1};if(Du){const Rp=new $.Matrix3().getInverse3(_d);mp=function(Ep,wp,Tp){let Mp=new $.Vector3(Ep,wp,Tp).applyMatrix3(Rp);return!(Mp.x>-1e-4&&Mp.x<1.0001&&Mp.y>-1e-4&&Mp.y<1.0001&&Mp.z>-1e-4&&Mp.z<1.0001)}}for(let Rp=0;Rp<_t;Rp++)for(let Ep=0;Ep<wl;Ep++)for(let wp=0;wp<zl;wp++){if(Rp==0&&Ep==0&&wp==0)continue;let Tp=new $.Vector3(gp(Rp),gp(Ep),gp(wp));Tp.applyMatrix3(_d);let Mp=[];for(let Hp=0;Hp<up.length;Hp++){let Qp=up[Hp].x+Tp.x,i0=up[Hp].y+Tp.y,w0=up[Hp].z+Tp.z;if(mp(Qp,i0,w0))continue;let m0={};for(let B0 in up[Hp])m0[B0]=up[Hp][B0];m0.x=Qp,m0.y=i0,m0.z=w0,Mp.push(m0)}Vl.addAtoms(Mp)}tp&&Vl.assignBonds()}}addLineDashed(_t,wl){var zl,Vl;_t.dashLength=_t.dashLength||.5,_t.gapLength=_t.gapLength||.5,zl=_t.start?new $.Vector3(_t.start.x||0,_t.start.y||0,_t.start.z||0):new $.Vector3(0,0,0),Vl=_t.end?new $.Vector3(_t.end.x,_t.end.y||0,_t.end.z||0):new $.Vector3(0,0,0);var tp,Du,lp,up=new $.Vector3,_d=new $.Vector3,gp=new $.Vector3,mp=zl.clone(),Rp=0;for(up.subVectors(Vl,zl),tp=up.length(),up.normalize(),_d=up.clone(),gp=up.clone(),_d.multiplyScalar(_t.dashLength),gp.multiplyScalar(_t.gapLength),Du=_d.length(),lp=gp.length();Rp<tp;){if(Rp+Du>tp){_t.start=zl,_t.end=Vl,wl.addLine(_t);break}mp.addVectors(zl,_d),_t.start=zl,_t.end=mp,wl.addLine(_t),zl=mp.clone(),Rp+=Du,mp.addVectors(zl,gp),zl=mp.clone(),Rp+=lp}return wl.finalize(),wl}addCustom(_t){var wl=new om(_t=_t||{});return wl.shapePosition=this.shapes.length,wl.addCustom(_t),this.shapes.push(wl),wl.finalize(),wl}addVolumetricData(_t,wl,zl={}){var Vl=new dm.VolumeData(_t,wl);return zl.hasOwnProperty("transferfn")?this.addVolumetricRender(Vl,zl):this.addIsosurface(Vl,zl)}addIsosurface(_t,wl={},zl){var Vl=new om(wl);return Vl.shapePosition=this.shapes.length,Vl.addIsosurface(_t,wl,zl,this),this.shapes.push(Vl),Vl}addVolumetricRender(_t,wl){var zl=new d1(_t,wl=wl||{},this);return zl.shapePosition=this.shapes.length,this.shapes.push(zl),zl}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(_t){if(_t){this.scene.fog=new b.Fog(this.bgColor,100,200),this.config.disableFog=!1;const wl=_t;wl.fogStart==null?this.fogStart=.4:this.fogStart=wl.fogStart,wl.fogEnd==null?this.fogEnd=1:this.fogEnd=wl.fogEnd}else this.config.disableFog=!0,this.show()}setFrame(_t){this.viewer_frame=_t;let wl=this;return new Promise(function(zl){var Vl=wl.models.map(function(tp){return tp.setFrame(_t)});Promise.all(Vl).then(function(){zl()})})}getFrame(){return this.viewer_frame}getNumFrames(){var _t=0;for(let wl=0;wl<this.models.length;wl++)this.models[wl].getNumFrames()>_t&&(_t=this.models[wl].getNumFrames());for(let wl=0;wl<this.shapes.length;wl++)this.shapes[wl].frame&&this.shapes[wl].frame>=_t&&(_t=this.shapes[wl].frame+1);for(let wl=0;wl<this.labels.length;wl++)this.labels[wl].frame&&this.labels[wl].frame>=_t&&(_t=this.labels[wl].frame+1);return _t}getNextModelId(){return this.models.length}animate(_t){this.incAnim();var wl=100,zl="forward",Vl=1/0;(_t=_t||{}).interval&&(wl=_t.interval),_t.loop&&(zl=_t.loop),_t.reps&&(Vl=_t.reps);var tp=this.getNumFrames(),Du=this,lp=0;_t.startFrame&&(lp=_t.startFrame%tp);var up=1;_t.step&&(Vl/=up=_t.step);var _d,gp,mp=0,Rp=tp*Vl,Ep=new Date,wp=function(Tp){Ep=new Date,Tp=="forward"?Du.setFrame(lp).then(function(){lp=(lp+up)%tp,_d()}):Tp=="backward"?Du.setFrame(tp-1-lp).then(function(){lp=(lp+up)%tp,_d()}):Du.setFrame(lp).then(function(){up*=(lp+=up)%(tp-1)==0?-1:1,_d()})};return _d=function(){if(Du.render(),Du.getCanvas().isConnected)if(++mp>=Rp||!Du.isAnimated())gp.cancel(),Du.animationTimers.delete(gp),Du.decAnim();else{var Tp=wl-(new Date().getTime()-Ep.getTime());Tp=Tp>0?Tp:0,gp.cancel(),Du.animationTimers.delete(gp),gp=new nt.PausableTimer(wp,Tp,zl),Du.animationTimers.add(gp)}else Du.stopAnimate()},gp=new nt.PausableTimer(wp,0,zl),this.animationTimers.add(gp),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(_t){_t.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(_t){_t.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(_t){_t.resume()}),this}isAnimated(){return this.animated>0}getModelOpt(_t){return _t&&!_t.defaultcolors?(_t.defaultcolors=this.defaultcolors,_t.cartoonQuality=_t.cartoonQuality||this.config.cartoonQuality):_t===void 0&&(_t={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),_t}addModel(_t,wl="",zl){zl=this.getModelOpt(zl);var Vl=new Av(this.models.length,zl,this);return Vl.addMolData(_t,wl,zl),this.models.push(Vl),Vl}addModels(_t,wl,zl){(zl=this.getModelOpt(zl)).multimodel=!0,zl.frames=!0;for(var Vl=Av.parseMolData(_t,wl,zl),tp=0;tp<Vl.length;tp++){var Du=new Av(this.models.length,zl,this);Du.setAtomDefaults(Vl[tp]),Du.addFrame(Vl[tp]),Du.setFrame(0),Vl.modelData&&Du.setModelData(Vl.modelData[tp]),Du.setDontDuplicateAtoms(!zl.duplicateAssemblyAtoms),this.models.push(Du)}return this.models}addModelsAsFrames(_t,wl,zl){(zl=this.getModelOpt(zl)).multimodel=!0,zl.frames=!0;var Vl=new Av(this.models.length,zl,this);return Vl.addMolData(_t,wl,zl),this.models.push(Vl),Vl}addAsOneMolecule(_t,wl,zl){(zl=this.getModelOpt(zl)).multimodel=!0,zl.onemol=!0;var Vl=new Av(this.models.length,zl,this);return Vl.addMolData(_t,wl,zl),this.models.push(Vl),Vl}removeModel(_t){if(_t=this.getModel(_t)){for(_t.removegl(this.modelGroup),delete this.models[_t.getID()];this.models.length>0&&this.models[this.models.length-1]===void 0;)this.models.pop();return this}}removeAllModels(){for(var _t=0;_t<this.models.length;_t++){var wl=this.models[_t];wl&&wl.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(_t,wl){var zl={};return zl.m=wl===void 0?this.models.map(function(Vl){return Vl.toCDObject(_t)}):[this.models[wl].toCDObject()],JSON.stringify(zl)}exportVRML(){var _t=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new b.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var wl=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=_t,wl}createModelFrom(_t,wl=!1){for(var zl=new Av(this.models.length,this.defaultcolors,this),Vl=0;Vl<this.models.length;Vl++)if(this.models[Vl]){var tp=this.models[Vl].selectedAtoms(_t);zl.addAtoms(tp),wl&&this.models[Vl].removeAtoms(tp)}return this.models.push(zl),zl}applyToModels(_t,wl,zl,Vl,tp,Du,lp){for(var up=this.getModelList(wl),_d=0;_d<up.length;_d++)up[_d][_t](wl,zl,Vl,tp,Du,lp)}setStyle(_t,wl){return wl===void 0&&(wl=_t,_t={}),this.applyToModels("setStyle",_t,wl,!1),this}addStyle(_t,wl){return wl===void 0&&(wl=_t,_t={}),this.applyToModels("setStyle",_t,wl,!0),this}setClickable(_t,wl,zl){return this.applyToModels("setClickable",_t,wl,zl),this}setHoverable(_t,wl,zl,Vl){return this.applyToModels("setHoverable",_t,wl,zl,Vl),this}enableContextMenu(_t,wl){return this.applyToModels("enableContextMenu",_t,wl),this}vibrate(_t,wl,zl,Vl){return this.applyToModels("vibrate",_t,wl,zl,Vl),this}setColorByProperty(_t,wl,zl,Vl){return this.applyToModels("setColorByProperty",_t,wl,zl,Vl),this}setColorByElement(_t,wl){return this.applyToModels("setColorByElement",_t,wl),this}static getAtomsWithin(_t,wl){var zl=[];for(let tp=0;tp<_t.length;tp++){var Vl=_t[tp];Vl!==void 0&&(Vl.x<wl[0][0]||Vl.x>wl[1][0]||Vl.y<wl[0][1]||Vl.y>wl[1][1]||Vl.z<wl[0][2]||Vl.z>wl[1][2]||zl.push(Vl))}return zl}static volume(_t){return(_t[1][0]-_t[0][0])*(_t[1][1]-_t[0][1])*(_t[1][2]-_t[0][2])}carveUpExtent(_t,wl,zl){let Vl=[],tp={};for(let gp=0,mp=wl.length;gp<mp;gp++)tp[wl[gp].index]=gp;let Du=function(gp){let mp=[];for(let Rp=0,Ep=gp.length;Rp<Ep;Rp++)gp[Rp].index in tp&&mp.push(tp[gp[Rp].index]);return mp},lp=function(gp){let mp=[];return mp[0]=[gp[0][0],gp[0][1],gp[0][2]],mp[1]=[gp[1][0],gp[1][1],gp[1][2]],mp},up=function(gp){if(ev.volume(gp)<ev.maxVolume)return[gp];var mp,Rp=gp[1][0]-gp[0][0],Ep=gp[1][1]-gp[0][1],wp=gp[1][2]-gp[0][2];mp=Rp>Ep&&Rp>wp?0:Ep>Rp&&Ep>wp?1:2;var Tp=lp(gp),Mp=lp(gp),Hp=(gp[1][mp]-gp[0][mp])/2+gp[0][mp];Tp[1][mp]=Hp,Mp[0][mp]=Hp;var Qp=up(Tp),i0=up(Mp);return Qp.concat(i0)},_d=up(_t);for(let gp=0,mp=_d.length;gp<mp;gp++){let Rp=lp(_d[gp]);Rp[0][0]-=6,Rp[0][1]-=6,Rp[0][2]-=6,Rp[1][0]+=6,Rp[1][1]+=6,Rp[1][2]+=6;let Ep=ev.getAtomsWithin(wl,Rp),wp=ev.getAtomsWithin(zl,_d[gp]);Vl.push({extent:_d[gp],atoms:Du(Ep),toshow:Du(wp)})}return Vl}static generateSurfaceMesh(_t,wl,zl){var Vl=new b.Geometry(!0),tp=Vl.updateGeoGroup(0),Du=[];for(let J0=0,H0=_t.length;J0<H0;J0++){var lp=_t[J0];lp&&(lp.surfaceColor!==void 0?Du[J0]=lp.surfaceColor:lp.color&&(Du[J0]=j.CC.color(lp.color)))}var up=tp.vertexArray,_d=wl.vertices;for(let J0=0,H0=_d.length;J0<H0;J0++){let wm=3*tp.vertices;up[wm]=_d[J0].x,up[wm+1]=_d[J0].y,up[wm+2]=_d[J0].z,tp.vertices++}var gp=tp.colorArray;let mp=tp.atomArray;if(zl.voldata&&zl.volscheme){var Rp=zl.volscheme,Ep=zl.voldata,wp=Rp.range()||[-1,1];for(let J0=0,H0=_d.length;J0<H0;J0++){let wm=_d[J0].atomid,bm=Ep.getVal(_d[J0].x,_d[J0].y,_d[J0].z),Bm=j.CC.color(Rp.valueToHex(bm,wp)),Im=3*J0;gp[Im]=Bm.r,gp[Im+1]=Bm.g,gp[Im+2]=Bm.b,mp[J0]=_t[wm]}}else if(Du.length>0)for(let J0=0,H0=_d.length;J0<H0;J0++){let wm=_d[J0].atomid,bm=3*J0;gp[bm]=Du[wm].r,gp[bm+1]=Du[wm].g,gp[bm+2]=Du[wm].b,mp[J0]=_t[wm]}var Tp=wl.faces;tp.faceidx=Tp.length,Vl.initTypedArrays();var Mp,Hp,Qp,i0,w0=tp.vertexArray,m0=tp.normalArray;for(let J0=0,H0=Tp.length;J0<H0;J0+=3){var B0=3*Tp[J0],q0=3*Tp[J0+1],Z0=3*Tp[J0+2];Mp=new $.Vector3(w0[B0],w0[B0+1],w0[B0+2]),Hp=new $.Vector3(w0[q0],w0[q0+1],w0[q0+2]),(Qp=new $.Vector3(w0[Z0],w0[Z0+1],w0[Z0+2])).subVectors(Qp,Hp),Mp.subVectors(Mp,Hp),Qp.cross(Mp),(i0=Qp).normalize(),m0[B0]+=i0.x,m0[q0]+=i0.x,m0[Z0]+=i0.x,m0[B0+1]+=i0.y,m0[q0+1]+=i0.y,m0[Z0+1]+=i0.y,m0[B0+2]+=i0.z,m0[q0+2]+=i0.z,m0[Z0+2]+=i0.z}return tp.faceArray=new Uint16Array(Tp),new b.Mesh(Vl,zl)}static generateMeshSyncHelper(_t,wl,zl,Vl,tp,Du){var lp=new z0;return lp.initparm(wl,_t!==1,Du),lp.fillvoxels(tp,zl),lp.buildboundary(),_t!=qy.SES&&_t!=qy.MS||(lp.fastdistancemap(),lp.boundingatom(!1),lp.fillvoxelswaals(tp,zl)),lp.marchingcube(_t),lp.getFacesAndVertices(Vl)}static getMatWithStyle(_t){let wl=null;for(var zl in wl=_t.onesided?new b.MeshLambertMaterial:new b.MeshDoubleLambertMaterial,wl.vertexColors=b.Coloring.VertexColors,_t)zl==="color"||zl==="map"||_t.hasOwnProperty(zl)&&(wl[zl]=_t[zl]);return _t.opacity!==void 0&&(_t.opacity===1?wl.transparent=!1:wl.transparent=!0),_t.wireframe!==void 0&&(wl.wireframe=_t.wireframe),wl}addMesh(_t){let wl={geo:_t.geometry,mat:_t.material,done:!0,finished:!1};var zl=this.nextSurfID();return this.surfaces[zl]=new rv([wl]),zl}static shallowCopy(_t){var wl=[];let zl=_t.length;for(let Vl=0;Vl<zl;Vl++)wl[Vl]=(0,nt.extend)({},_t[Vl]);return wl}addSurface(_t,wl={},zl={},Vl,tp,Du){let lp=this.nextSurfID(),up=null,_d=this,gp=qy.VDW;typeof _t=="string"?ev.surfaceTypeMap[_t.toUpperCase()]!==void 0?gp=ev.surfaceTypeMap[_t]:console.log("Surface type : "+_t+" is not recognized"):typeof _t=="number"&&(gp=_t);var mp=null,Rp=null,Ep=ev.shallowCopy(this.getAtomsFromSel(zl));mp=Vl?ev.shallowCopy(this.getAtomsFromSel(Vl)):Ep,(0,nt.adjustVolumeStyle)(wl);var wp,Tp=!1;for(wp=0;wp<this.models.length;wp++)if(this.models[wp]){var Mp=this.models[wp].getSymmetries();if(Mp.length>1||Mp.length==1&&!Mp[0].isIdentity()){Tp=!0;break}}var Hp=function(q0,Z0,J0){var H0;Rp=tp?ev.shallowCopy(_d.getAtomsFromSel(tp)):J0;var wm=(0,nt.getExtent)(J0,!0);if(wl.map&&wl.map.prop){var bm=wl.map.prop;let Zm=(0,rt.getGradient)(wl.map.scheme||wl.map.gradient||new rt.Gradient.RWB),w1=Zm.range();w1||(w1=(0,nt.getPropertyRange)(J0,bm)),wl.colorscheme={prop:bm,gradient:Zm}}for(let Zm=0,w1=Z0.length;Zm<w1;Zm++)(H0=Z0[Zm]).surfaceColor=(0,nt.getColorFromStyle)(H0,wl);var Bm=ev.volume(wm),Im=_d.carveUpExtent(wm,Z0,J0);if(Rp&&Rp.length&&Rp.length>0){var e1=(0,nt.getExtent)(Rp,!0);Im.sort(function(Zm,w1){var S1=function(Ym,P1){var av=Ym.extent,T1=av[1][0]-av[0][0],t1=av[1][1]-av[0][1],gv=av[1][2]-av[0][2],K1=T1-P1[2][0];K1*=K1;var sv=t1-P1[2][1];sv*=sv;var U1=gv-P1[2][2];return K1+sv+(U1*=U1)};return S1(Zm,e1)-S1(w1,e1)})}var n1=[];for(let Zm=0,w1=Z0.length;Zm<w1;Zm++)H0=Z0[Zm],n1[Zm]={x:H0.x,y:H0.y,z:H0.z,serial:Zm,elem:H0.elem};var $m=!!zy;if(typeof $3Dmol<"u"&&$3Dmol.SurfaceWorker!==void 0||(console.log("$3Dmol.SurfaceWorker is not defined, using synchronous surface generation."),$m=!0),$m){var p1=function(Zm){return new Promise(function(w1){for(var S1=ev.generateMeshSyncHelper(gp,Im[Zm].extent,Im[Zm].atoms,Im[Zm].toshow,n1,Bm),Ym=u1({vertexArr:S1.vertices,faceArr:S1.faces}),P1=0,av=Ym.length;P1<av;P1++){S1={vertices:Ym[P1].vertexArr,faces:Ym[P1].faceArr};var T1=ev.generateSurfaceMesh(Z0,S1,up);(0,nt.mergeGeos)(q0.geo,T1)}_d.render(),w1()})},Cm=[];for(let Zm=0;Zm<Im.length;Zm++)Cm.push(p1(Zm));return Promise.all(Cm).then(function(){return q0.done=!0,_d.render(),Promise.resolve(lp)})}var Pm=[];gp<0&&(gp=0);for(let Zm=0,w1=ev.numWorkers;Zm<w1;Zm++){var y1=new Worker($3Dmol.SurfaceWorker);Pm.push(y1),y1.postMessage({type:-1,atoms:n1,volume:Bm})}return new Promise(function(Zm,w1){var S1=0,Ym=function(){Pm&&Pm.length&&Pm.forEach(function(t1){t1&&t1.terminate&&t1.terminate()})},P1=function(t1){for(var gv=u1({vertexArr:t1.data.vertices,faceArr:t1.data.faces}),K1=0,sv=gv.length;K1<sv;K1++){var U1={vertices:gv[K1].vertexArr,faces:gv[K1].faceArr},Sv=ev.generateSurfaceMesh(Z0,U1,up);(0,nt.mergeGeos)(q0.geo,Sv)}_d.render(),++S1==Im.length&&(q0.done=!0,Ym(),Zm(lp))},av=function(t1){Ym(),console.log(t1.message+" ("+t1.filename+":"+t1.lineno+")"),w1(t1)};for(let t1=0;t1<Im.length;t1++){var T1=Pm[t1%Pm.length];T1.onmessage=P1,T1.onerror=av,T1.postMessage({type:gp,expandedExtent:Im[t1].extent,extendedAtoms:Im[t1].atoms,atomsToShow:Im[t1].toshow})}})};wl=wl||{},up=ev.getMatWithStyle(wl);let Qp=new rv([]);Qp.style=wl,Qp.atomsel=zl,Qp.allsel=Vl,Qp.focus=tp;var i0=null;if(Tp){var w0={},m0={};for(wp=0;wp<this.models.length;wp++)w0[wp]=[],m0[wp]=[];for(wp=0;wp<mp.length;wp++)w0[mp[wp].model].push(mp[wp]);for(wp=0;wp<Ep.length;wp++)m0[Ep[wp].model].push(Ep[wp]);var B0=[];for(wp=0;wp<this.models.length;wp++)m0[wp].length>0&&(Qp.push({geo:new b.Geometry(!0),mat:up,done:!1,finished:!1,symmetries:this.models[wp].getSymmetries()}),B0.push(Hp(Qp[Qp.length-1],w0[wp],m0[wp])));i0=Promise.all(B0)}else Qp.push({geo:new b.Geometry(!0),mat:up,done:!1,finished:!1,symmetries:[new $.Matrix4]}),i0=Hp(Qp[Qp.length-1],mp,Ep);return this.surfaces[lp]=Qp,i0.surfid=lp,Du&&typeof Du=="function"?(i0.then(function(q0){Du(q0)}),lp):i0}setSurfaceMaterialStyle(_t,wl){if((0,nt.adjustVolumeStyle)(wl),this.surfaces[_t]){var zl=this.surfaces[_t];for(let tp=0;tp<zl.length;tp++){var Vl=zl[tp].mat=ev.getMatWithStyle(wl);if(zl[tp].mat.side=b.FrontSide,wl.wireframe&&zl[tp].geo.setUpWireframe(),wl.color){zl[tp].mat.color=j.CC.color(wl.color),zl[tp].geo.colorsNeedUpdate=!0;const Du=j.CC.color(wl.color);zl[tp].geo.setColor(Du)}else if(Vl.voldata&&Vl.volscheme){const Du=Vl.volscheme,lp=Vl.voldata,up=j.CC,_d=Du.range()||[-1,1];zl[tp].geo.setColors(function(gp,mp,Rp){let Ep=lp.getVal(gp,mp,Rp);return up.color(Du.valueToHex(Ep,_d))})}else{zl[tp].geo.colorsNeedUpdate=!0;for(let Du of zl[tp].geo.geometryGroups)for(let lp=0;lp<Du.vertices;lp++){let up=(0,nt.getColorFromStyle)(Du.atomArray[lp],wl),_d=3*lp;Du.colorArray[_d]=up.r,Du.colorArray[_d+1]=up.g,Du.colorArray[_d+2]=up.b}}zl[tp].finished=!1}}return this}getSurface(_t){return this.surfaces[_t]}removeSurface(_t){for(var wl=this.surfaces[_t],zl=0;zl<wl.length;zl++)wl[zl]&&wl[zl].lastGL&&(wl[zl].geo!==void 0&&wl[zl].geo.dispose(),wl[zl].mat!==void 0&&wl[zl].mat.dispose(),this.modelGroup.remove(wl[zl].lastGL));return delete this.surfaces[_t],this.show(),this}removeAllSurfaces(){for(var _t in this.surfaces)if(this.surfaces.hasOwnProperty(_t)){for(var wl=this.surfaces[_t],zl=0;zl<wl.length;zl++)wl[zl]&&wl[zl].lastGL&&(wl[zl].geo!==void 0&&wl[zl].geo.dispose(),wl[zl].mat!==void 0&&wl[zl].mat.dispose(),this.modelGroup.remove(wl[zl].lastGL));delete this.surfaces[_t]}return this.show(),this}jmolMoveTo(){var _t=this.modelGroup.position,wl="center { "+-_t.x+" "+-_t.y+" "+-_t.z+" }; ",zl=this.rotationGroup.quaternion;return wl+="moveto .5 quaternion { "+zl.x+" "+zl.y+" "+zl.z+" "+zl.w+" };"}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(_t,wl){wl=wl||{};var zl=this.getAtomsFromSel(wl);if(typeof _t=="function")for(let Du=0,lp=zl.length;Du<lp;Du++)_t(zl[Du]);else for(let Du=0,lp=zl.length;Du<lp;Du++){var Vl=zl[Du];for(let up=0,_d=_t.length;up<_d;up++){let gp=_t[up];if(gp.props)for(var tp in gp.props)gp.props.hasOwnProperty(tp)&&this.atomIsSelected(Vl,gp)&&(Vl.properties||(Vl.properties={}),Vl.properties[tp]=gp.props[tp])}}return this}linkViewer(_t){return this.linkedViewers.push(_t),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(_t){this.rotationGroup.position.z=this.CAMERA_Z-_t}setAutoEyeSeparation(_t,wl){var zl=this.getPerceivedDistance();return wl||(wl=5),_t||this.camera.position.x>0?this.camera.position.x=zl*Math.tan(Math.PI/180*wl):this.camera.position.x=-zl*Math.tan(Math.PI/180*wl),this.camera.lookAt(new $.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(_t){this.config.cartoonQuality=_t}}function Xv(c0,_t){if(c0=(0,nt.getElement)(c0)){_t=_t||{};try{return new ev(c0,_t)}catch(wl){throw"error creating viewer: "+wl}}}function ky(c0,_t={},wl={}){if(c0=(0,nt.getElement)(c0)){var zl=[],Vl=document.createElement("canvas");wl.rows=_t.rows,wl.cols=_t.cols,wl.control_all=_t.control_all!=null&&_t.control_all,c0.appendChild(Vl);try{for(var tp=0;tp<_t.rows;tp++){for(var Du=[],lp=0;lp<_t.cols;lp++){wl.row=tp,wl.col=lp,wl.canvas=Vl,wl.viewers=zl,wl.control_all=_t.control_all;var up=Xv(c0,(0,nt.extend)({},wl));Du.push(up)}zl.unshift(Du)}}catch(_d){throw"error creating viewer grid: "+_d}return zl}}function xy(c0){var _t=this;if(c0=(0,nt.getElement)(c0)){var wl=ky(c0,{rows:1,cols:2,control_all:!0});this.glviewer1=wl[0][0],this.glviewer2=wl[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var zl=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(tp){return typeof _t.glviewer1[tp]=="function"}),Vl=0;Vl<zl.length;Vl++)this[zl[Vl]]=function(tp){return function(){return[this.glviewer1[tp].apply(this.glviewer1,arguments),this.glviewer2[tp].apply(this.glviewer2,arguments)]}}(zl[Vl]);this.setCoordinates=function(tp,Du,lp){for(var up=0;up<tp.length;up++)tp[up].setCoordinates(Du,lp)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(tp){this.glviewer1.render(),this.glviewer2.render(),tp&&tp(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}ev.numWorkers=4,ev.maxVolume=64e3,ev.surfaceTypeMap={VDW:qy.VDW,MS:qy.MS,SAS:qy.SAS,SES:qy.SES};var _v=!1,Vv=!1,pv={};function hy(c0,_t){var wl,zl,Vl;if(document.querySelector(".viewer_3Dmoljs")!=null&&(_v=!0),_v){Vv=!0,c0=c0??null;var tp=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(Du=>{var lp=[],up=[],_d="";Du.style.position=="static"&&(Du.style.position="relative");var gp=null;if(Vl=null,Du.dataset.pdb)lp.push("https://files.rcsb.org/view/"+Du.dataset.pdb+".pdb"),up.push("pdb");else if(Du.dataset.cid)up.push("sdf"),lp.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+Du.dataset.cid+"/SDF?record_type=3d");else if(Du.dataset.href||Du.dataset.url){if(_d=Du.dataset.href?Du.dataset.href:Du.dataset.url,lp.push(_d),(Vl=_d.substring(_d.lastIndexOf(".")+1))=="gz"){let Zm=_d.substring(0,_d.lastIndexOf(".")).lastIndexOf(".");Vl=_d.substring(Zm+1)}up.push(Vl);var mp=_d.substring(_d.lastIndexOf("/")+1,_d.lastIndexOf("."));mp=="/"&&(mp=_d.substring(_d.lastIndexOf("/")+1)),Du.dataset[up[up.length-1]]=mp}let Rp=Du.dataset;for(wl in Rp)wl.substring(0,3)==="pdb"&&wl!=="pdb"?(lp.push("https://files.rcsb.org/view/"+Rp[wl]+".pdb"),up.push("pdb")):wl.substring(0,4)==="href"&&wl!=="href"?(_d=Rp[wl],lp.push(_d),up.push(_d.substring(_d.lastIndexOf(".")+1))):wl.substring(0,3)==="cid"&&wl!=="cid"&&(lp.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+Rp[wl]+"/SDF?record_type=3d"),up.push("sdf"));var Ep={};Du.dataset.options&&(Ep=(0,nt.specStringToObject)(Du.dataset.options));var wp=j.CC.color(Du.dataset.backgroundcolor),Tp=Du.dataset.backgroundalpha;Tp=Tp==null?1:parseFloat(Tp);var Mp={line:{}};Du.dataset.style&&(Mp=(0,nt.specStringToObject)(Du.dataset.style));var Hp={};Du.dataset.select&&(Hp=(0,nt.specStringToObject)(Du.dataset.select));var Qp=[],i0=[],w0=[],m0={},B0=null,q0=Du.dataset,Z0=/style(.+)/,J0=/surface(.*)/,H0=/labelres(.*)/,wm=[];for(zl in q0)Object.prototype.hasOwnProperty.call(q0,zl)&&wm.push(zl);for(wm.sort(),wl=0;wl<wm.length;wl++){zl=wm[wl];var bm,Bm,Im,e1=Z0.exec(zl);e1&&(bm="select"+e1[1],Bm=(0,nt.specStringToObject)(q0[bm]),Im=(0,nt.specStringToObject)(q0[zl]),Qp.push([Bm,Im])),(e1=J0.exec(zl))&&(bm="select"+e1[1],Bm=(0,nt.specStringToObject)(q0[bm]),Im=(0,nt.specStringToObject)(q0[zl]),i0.push([Bm,Im])),(e1=H0.exec(zl))&&(bm="select"+e1[1],Bm=(0,nt.specStringToObject)(q0[bm]),Im=(0,nt.specStringToObject)(q0[zl]),w0.push([Bm,Im])),zl=="zoomto"&&(m0=(0,nt.specStringToObject)(q0[zl])),zl=="spin"&&(B0=(0,nt.specStringToObject)(q0[zl]))}var n1=function(Zm){for(Zm.setStyle(Hp,Mp),gp&&gp.createSelectionAndStyle(Hp,Mp),wl=0;wl<Qp.length;wl++){let w1=Qp[wl][0]||{},S1=Qp[wl][1]||{line:{}};Zm.setStyle(w1,S1),gp&&gp.createSelectionAndStyle(Hp,Mp)}for(wl=0;wl<i0.length;wl++){let w1=i0[wl][0]||{},S1=i0[wl][1]||{};gp?Zm.addSurface(qy.VDW,S1,w1,w1).then(Ym=>{gp.loadSurface("VDW",w1,S1,Ym)}):Zm.addSurface(qy.VDW,S1,w1,w1)}for(wl=0;wl<w0.length;wl++){let w1=w0[wl][0]||{},S1=w0[wl][1]||{};Zm.addResLabels(w1,S1)}Zm.render(),Zm.zoomTo(m0),B0&&Zm.spin(B0.axis,B0.speed)};let $m=c0;try{var p1=(0,nt.specStringToObject)(Du.dataset.config)||{};p1.backgroundColor===void 0&&(p1.backgroundColor=wp),p1.backgroundAlpha===void 0&&(p1.backgroundAlpha=Tp),$m==null?$m=pv[Du.id||tp++]=Xv(Du,p1):($m.setBackgroundColor(wp,Tp),$m.setConfig(p1),gp&&gp.initiateUI()),Du.dataset.ui&&$3Dmol.StateManager&&(gp=new $3Dmol.StateManager($m))}catch(Zm){console.log(Zm),Du.textContent="WebGL appears to be disabled."}if(lp.length!=0){let Zm=0,w1=((S1,Ym)=>function(P1){_d=lp[Zm];var av=S1.dataset.type||S1.dataset.datatype||up[Zm];if(Ym.addModel(P1,av,Ep),gp){var T1=S1.dataset[up[Zm]];gp.setModelTitle(T1)}Zm+=1,Zm<lp.length?(0,nt.get)(lp[Zm]).then(w1):(n1(Ym),S1.dataset.callback&&(0,nt.makeFunction)(S1.dataset.callback)(Ym),Vv=!1,_t&&_t(Ym))})(Du,$m);Vl&&Vl.endsWith("gz")?(0,nt.getbin)(lp[0]).then(w1):(0,nt.get)(lp[0]).then(w1)}else{if(Du.dataset.element){var Cm="#"+Du.dataset.element,Pm=document.querySelector(Cm),y1=Pm?Pm.textContent:"";Vl=Du.dataset.type||Du.dataset.datatype,$m.addModel(y1,Vl,Ep)}n1($m),Du.dataset.callback&&(0,nt.makeFunction)(Du.dataset.callback)($m),Vv=!1,_t&&_t($m)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&hy()};const tv={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function Qy(c0,_t){if((!_t||c0.partialCharge===void 0)&&c0.resn&&c0.atom){var wl=c0.resn+":"+c0.atom;c0.properties.partialCharge=tv[wl]}}window&&(window.$3Dmol=o)},40:(e,o,a)=>{a.r(o),a.d(o,{bondLength:()=>d,bondTable:()=>c,setBondLength:()=>g});let c={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function d(b){return c[b]||1.6}function g(b,_){_<0&&(_=0),c[b]=_}},71:(e,o,a)=>{var c=a(107),d=a(981),g=a(972),b=a(834),_=a(746),$=Object.prototype.toString;function j(nt){if(!(this instanceof j))return new j(nt);this.options=d.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},nt||{});var In=this.options;In.raw&&In.windowBits>0?In.windowBits=-In.windowBits:In.gzip&&In.windowBits>0&&In.windowBits<16&&(In.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var xl=c.deflateInit2(this.strm,In.level,In.method,In.windowBits,In.memLevel,In.strategy);if(xl!==0)throw new Error(b[xl]);if(In.header&&c.deflateSetHeader(this.strm,In.header),In.dictionary){var Ll;if(Ll=typeof In.dictionary=="string"?g.string2buf(In.dictionary):$.call(In.dictionary)==="[object ArrayBuffer]"?new Uint8Array(In.dictionary):In.dictionary,(xl=c.deflateSetDictionary(this.strm,Ll))!==0)throw new Error(b[xl]);this._dict_set=!0}}function rt(nt,In){var xl=new j(In);if(xl.push(nt,!0),xl.err)throw xl.msg||b[xl.err];return xl.result}j.prototype.push=function(nt,In){var xl,Ll,Nl=this.strm,_u=this.options.chunkSize;if(this.ended)return!1;Ll=In===~~In?In:In===!0?4:0,typeof nt=="string"?Nl.input=g.string2buf(nt):$.call(nt)==="[object ArrayBuffer]"?Nl.input=new Uint8Array(nt):Nl.input=nt,Nl.next_in=0,Nl.avail_in=Nl.input.length;do{if(Nl.avail_out===0&&(Nl.output=new d.Buf8(_u),Nl.next_out=0,Nl.avail_out=_u),(xl=c.deflate(Nl,Ll))!==1&&xl!==0)return this.onEnd(xl),this.ended=!0,!1;Nl.avail_out!==0&&(Nl.avail_in!==0||Ll!==4&&Ll!==2)||(this.options.to==="string"?this.onData(g.buf2binstring(d.shrinkBuf(Nl.output,Nl.next_out))):this.onData(d.shrinkBuf(Nl.output,Nl.next_out)))}while((Nl.avail_in>0||Nl.avail_out===0)&&xl!==1);return Ll===4?(xl=c.deflateEnd(this.strm),this.onEnd(xl),this.ended=!0,xl===0):Ll!==2||(this.onEnd(0),Nl.avail_out=0,!0)},j.prototype.onData=function(nt){this.chunks.push(nt)},j.prototype.onEnd=function(nt){nt===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=nt,this.msg=this.strm.msg},o.Deflate=j,o.deflate=rt,o.deflateRaw=function(nt,In){return(In=In||{}).raw=!0,rt(nt,In)},o.gzip=function(nt,In){return(In=In||{}).gzip=!0,rt(nt,In)}},75:(e,o,a)=>{function c(Ql){let $p=Ql.length;for(;--$p>=0;)Ql[$p]=0}a.r(o),a.d(o,{Deflate:()=>Ey,Inflate:()=>Jy,constants:()=>My,default:()=>Ay,deflate:()=>Fy,deflateRaw:()=>Gy,gzip:()=>a2,inflate:()=>v2,inflateRaw:()=>ty,ungzip:()=>Cy});const d=256,g=286,b=30,_=15,$=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),j=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),rt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),nt=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),In=new Array(576);c(In);const xl=new Array(60);c(xl);const Ll=new Array(512);c(Ll);const Nl=new Array(256);c(Nl);const _u=new Array(29);c(_u);const Yl=new Array(b);function Ul(Ql,$p,Vu,G0,N0){this.static_tree=Ql,this.extra_bits=$p,this.extra_base=Vu,this.elems=G0,this.max_length=N0,this.has_stree=Ql&&Ql.length}let Dl,Zl,Ju;function Uu(Ql,$p){this.dyn_tree=Ql,this.max_code=0,this.stat_desc=$p}c(Yl);const fp=Ql=>Ql<256?Ll[Ql]:Ll[256+(Ql>>>7)],Zu=(Ql,$p)=>{Ql.pending_buf[Ql.pending++]=255&$p,Ql.pending_buf[Ql.pending++]=$p>>>8&255},Lp=(Ql,$p,Vu)=>{Ql.bi_valid>16-Vu?(Ql.bi_buf|=$p<<Ql.bi_valid&65535,Zu(Ql,Ql.bi_buf),Ql.bi_buf=$p>>16-Ql.bi_valid,Ql.bi_valid+=Vu-16):(Ql.bi_buf|=$p<<Ql.bi_valid&65535,Ql.bi_valid+=Vu)},Np=(Ql,$p,Vu)=>{Lp(Ql,Vu[2*$p],Vu[2*$p+1])},zp=(Ql,$p)=>{let Vu=0;do Vu|=1&Ql,Ql>>>=1,Vu<<=1;while(--$p>0);return Vu>>>1},h0=(Ql,$p,Vu)=>{const G0=new Array(16);let N0,I0,km=0;for(N0=1;N0<=_;N0++)km=km+Vu[N0-1]<<1,G0[N0]=km;for(I0=0;I0<=$p;I0++){let im=Ql[2*I0+1];im!==0&&(Ql[2*I0]=zp(G0[im]++,im))}},k0=Ql=>{let $p;for($p=0;$p<g;$p++)Ql.dyn_ltree[2*$p]=0;for($p=0;$p<b;$p++)Ql.dyn_dtree[2*$p]=0;for($p=0;$p<19;$p++)Ql.bl_tree[2*$p]=0;Ql.dyn_ltree[512]=1,Ql.opt_len=Ql.static_len=0,Ql.sym_next=Ql.matches=0},D0=Ql=>{Ql.bi_valid>8?Zu(Ql,Ql.bi_buf):Ql.bi_valid>0&&(Ql.pending_buf[Ql.pending++]=Ql.bi_buf),Ql.bi_buf=0,Ql.bi_valid=0},s0=(Ql,$p,Vu,G0)=>{const N0=2*$p,I0=2*Vu;return Ql[N0]<Ql[I0]||Ql[N0]===Ql[I0]&&G0[$p]<=G0[Vu]},dp=(Ql,$p,Vu)=>{const G0=Ql.heap[Vu];let N0=Vu<<1;for(;N0<=Ql.heap_len&&(N0<Ql.heap_len&&s0($p,Ql.heap[N0+1],Ql.heap[N0],Ql.depth)&&N0++,!s0($p,G0,Ql.heap[N0],Ql.depth));)Ql.heap[Vu]=Ql.heap[N0],Vu=N0,N0<<=1;Ql.heap[Vu]=G0},S0=(Ql,$p,Vu)=>{let G0,N0,I0,km,im=0;if(Ql.sym_next!==0)do G0=255&Ql.pending_buf[Ql.sym_buf+im++],G0+=(255&Ql.pending_buf[Ql.sym_buf+im++])<<8,N0=Ql.pending_buf[Ql.sym_buf+im++],G0===0?Np(Ql,N0,$p):(I0=Nl[N0],Np(Ql,I0+d+1,$p),km=$[I0],km!==0&&(N0-=_u[I0],Lp(Ql,N0,km)),G0--,I0=fp(G0),Np(Ql,I0,Vu),km=j[I0],km!==0&&(G0-=Yl[I0],Lp(Ql,G0,km)));while(im<Ql.sym_next);Np(Ql,256,$p)},l0=(Ql,$p)=>{const Vu=$p.dyn_tree,G0=$p.stat_desc.static_tree,N0=$p.stat_desc.has_stree,I0=$p.stat_desc.elems;let km,im,f1,um=-1;for(Ql.heap_len=0,Ql.heap_max=573,km=0;km<I0;km++)Vu[2*km]!==0?(Ql.heap[++Ql.heap_len]=um=km,Ql.depth[km]=0):Vu[2*km+1]=0;for(;Ql.heap_len<2;)f1=Ql.heap[++Ql.heap_len]=um<2?++um:0,Vu[2*f1]=1,Ql.depth[f1]=0,Ql.opt_len--,N0&&(Ql.static_len-=G0[2*f1+1]);for($p.max_code=um,km=Ql.heap_len>>1;km>=1;km--)dp(Ql,Vu,km);f1=I0;do km=Ql.heap[1],Ql.heap[1]=Ql.heap[Ql.heap_len--],dp(Ql,Vu,1),im=Ql.heap[1],Ql.heap[--Ql.heap_max]=km,Ql.heap[--Ql.heap_max]=im,Vu[2*f1]=Vu[2*km]+Vu[2*im],Ql.depth[f1]=(Ql.depth[km]>=Ql.depth[im]?Ql.depth[km]:Ql.depth[im])+1,Vu[2*km+1]=Vu[2*im+1]=f1,Ql.heap[1]=f1++,dp(Ql,Vu,1);while(Ql.heap_len>=2);Ql.heap[--Ql.heap_max]=Ql.heap[1],((Em,Rv)=>{const Q1=Rv.dyn_tree,g1=Rv.max_code,jy=Rv.stat_desc.static_tree,Qv=Rv.stat_desc.has_stree,fv=Rv.stat_desc.extra_bits,ay=Rv.stat_desc.extra_base,Fv=Rv.stat_desc.max_length;let D1,kv,sy,z1,qv,Pv,mv=0;for(z1=0;z1<=_;z1++)Em.bl_count[z1]=0;for(Q1[2*Em.heap[Em.heap_max]+1]=0,D1=Em.heap_max+1;D1<573;D1++)kv=Em.heap[D1],z1=Q1[2*Q1[2*kv+1]+1]+1,z1>Fv&&(z1=Fv,mv++),Q1[2*kv+1]=z1,kv>g1||(Em.bl_count[z1]++,qv=0,kv>=ay&&(qv=fv[kv-ay]),Pv=Q1[2*kv],Em.opt_len+=Pv*(z1+qv),Qv&&(Em.static_len+=Pv*(jy[2*kv+1]+qv)));if(mv!==0){do{for(z1=Fv-1;Em.bl_count[z1]===0;)z1--;Em.bl_count[z1]--,Em.bl_count[z1+1]+=2,Em.bl_count[Fv]--,mv-=2}while(mv>0);for(z1=Fv;z1!==0;z1--)for(kv=Em.bl_count[z1];kv!==0;)sy=Em.heap[--D1],sy>g1||(Q1[2*sy+1]!==z1&&(Em.opt_len+=(z1-Q1[2*sy+1])*Q1[2*sy],Q1[2*sy+1]=z1),kv--)}})(Ql,$p),h0(Vu,um,Ql.bl_count)},Op=(Ql,$p,Vu)=>{let G0,N0,I0=-1,km=$p[1],im=0,f1=7,um=4;for(km===0&&(f1=138,um=3),$p[2*(Vu+1)+1]=65535,G0=0;G0<=Vu;G0++)N0=km,km=$p[2*(G0+1)+1],++im<f1&&N0===km||(im<um?Ql.bl_tree[2*N0]+=im:N0!==0?(N0!==I0&&Ql.bl_tree[2*N0]++,Ql.bl_tree[32]++):im<=10?Ql.bl_tree[34]++:Ql.bl_tree[36]++,im=0,I0=N0,km===0?(f1=138,um=3):N0===km?(f1=6,um=3):(f1=7,um=4))},Wp=(Ql,$p,Vu)=>{let G0,N0,I0=-1,km=$p[1],im=0,f1=7,um=4;for(km===0&&(f1=138,um=3),G0=0;G0<=Vu;G0++)if(N0=km,km=$p[2*(G0+1)+1],!(++im<f1&&N0===km)){if(im<um)do Np(Ql,N0,Ql.bl_tree);while(--im!==0);else N0!==0?(N0!==I0&&(Np(Ql,N0,Ql.bl_tree),im--),Np(Ql,16,Ql.bl_tree),Lp(Ql,im-3,2)):im<=10?(Np(Ql,17,Ql.bl_tree),Lp(Ql,im-3,3)):(Np(Ql,18,Ql.bl_tree),Lp(Ql,im-11,7));im=0,I0=N0,km===0?(f1=138,um=3):N0===km?(f1=6,um=3):(f1=7,um=4)}};let mm=!1;const fm=(Ql,$p,Vu,G0)=>{Lp(Ql,0+(G0?1:0),3),D0(Ql),Zu(Ql,Vu),Zu(Ql,~Vu),Vu&&Ql.pending_buf.set(Ql.window.subarray($p,$p+Vu),Ql.pending),Ql.pending+=Vu};var g0=(Ql,$p,Vu,G0)=>{let N0,I0,km=0;Ql.level>0?(Ql.strm.data_type===2&&(Ql.strm.data_type=(im=>{let f1,um=4093624447;for(f1=0;f1<=31;f1++,um>>>=1)if(1&um&&im.dyn_ltree[2*f1]!==0)return 0;if(im.dyn_ltree[18]!==0||im.dyn_ltree[20]!==0||im.dyn_ltree[26]!==0)return 1;for(f1=32;f1<d;f1++)if(im.dyn_ltree[2*f1]!==0)return 1;return 0})(Ql)),l0(Ql,Ql.l_desc),l0(Ql,Ql.d_desc),km=(im=>{let f1;for(Op(im,im.dyn_ltree,im.l_desc.max_code),Op(im,im.dyn_dtree,im.d_desc.max_code),l0(im,im.bl_desc),f1=18;f1>=3&&im.bl_tree[2*nt[f1]+1]===0;f1--);return im.opt_len+=3*(f1+1)+5+5+4,f1})(Ql),N0=Ql.opt_len+3+7>>>3,I0=Ql.static_len+3+7>>>3,I0<=N0&&(N0=I0)):N0=I0=Vu+5,Vu+4<=N0&&$p!==-1?fm(Ql,$p,Vu,G0):Ql.strategy===4||I0===N0?(Lp(Ql,2+(G0?1:0),3),S0(Ql,In,xl)):(Lp(Ql,4+(G0?1:0),3),((im,f1,um,Em)=>{let Rv;for(Lp(im,f1-257,5),Lp(im,um-1,5),Lp(im,Em-4,4),Rv=0;Rv<Em;Rv++)Lp(im,im.bl_tree[2*nt[Rv]+1],3);Wp(im,im.dyn_ltree,f1-1),Wp(im,im.dyn_dtree,um-1)})(Ql,Ql.l_desc.max_code+1,Ql.d_desc.max_code+1,km+1),S0(Ql,Ql.dyn_ltree,Ql.dyn_dtree)),k0(Ql),G0&&D0(Ql)},e0={_tr_init:Ql=>{mm||((()=>{let $p,Vu,G0,N0,I0;const km=new Array(16);for(G0=0,N0=0;N0<28;N0++)for(_u[N0]=G0,$p=0;$p<1<<$[N0];$p++)Nl[G0++]=N0;for(Nl[G0-1]=N0,I0=0,N0=0;N0<16;N0++)for(Yl[N0]=I0,$p=0;$p<1<<j[N0];$p++)Ll[I0++]=N0;for(I0>>=7;N0<b;N0++)for(Yl[N0]=I0<<7,$p=0;$p<1<<j[N0]-7;$p++)Ll[256+I0++]=N0;for(Vu=0;Vu<=_;Vu++)km[Vu]=0;for($p=0;$p<=143;)In[2*$p+1]=8,$p++,km[8]++;for(;$p<=255;)In[2*$p+1]=9,$p++,km[9]++;for(;$p<=279;)In[2*$p+1]=7,$p++,km[7]++;for(;$p<=287;)In[2*$p+1]=8,$p++,km[8]++;for(h0(In,287,km),$p=0;$p<b;$p++)xl[2*$p+1]=5,xl[2*$p]=zp($p,5);Dl=new Ul(In,$,257,g,_),Zl=new Ul(xl,j,0,b,_),Ju=new Ul(new Array(0),rt,0,19,7)})(),mm=!0),Ql.l_desc=new Uu(Ql.dyn_ltree,Dl),Ql.d_desc=new Uu(Ql.dyn_dtree,Zl),Ql.bl_desc=new Uu(Ql.bl_tree,Ju),Ql.bi_buf=0,Ql.bi_valid=0,k0(Ql)},_tr_stored_block:fm,_tr_flush_block:g0,_tr_tally:(Ql,$p,Vu)=>(Ql.pending_buf[Ql.sym_buf+Ql.sym_next++]=$p,Ql.pending_buf[Ql.sym_buf+Ql.sym_next++]=$p>>8,Ql.pending_buf[Ql.sym_buf+Ql.sym_next++]=Vu,$p===0?Ql.dyn_ltree[2*Vu]++:(Ql.matches++,$p--,Ql.dyn_ltree[2*(Nl[Vu]+d+1)]++,Ql.dyn_dtree[2*fp($p)]++),Ql.sym_next===Ql.sym_end),_tr_align:Ql=>{Lp(Ql,2,3),Np(Ql,256,In),($p=>{$p.bi_valid===16?(Zu($p,$p.bi_buf),$p.bi_buf=0,$p.bi_valid=0):$p.bi_valid>=8&&($p.pending_buf[$p.pending++]=255&$p.bi_buf,$p.bi_buf>>=8,$p.bi_valid-=8)})(Ql)}},V0=(Ql,$p,Vu,G0)=>{let N0=65535&Ql,I0=Ql>>>16&65535,km=0;for(;Vu!==0;){km=Vu>2e3?2e3:Vu,Vu-=km;do N0=N0+$p[G0++]|0,I0=I0+N0|0;while(--km);N0%=65521,I0%=65521}return N0|I0<<16};const ym=new Uint32Array((()=>{let Ql,$p=[];for(var Vu=0;Vu<256;Vu++){Ql=Vu;for(var G0=0;G0<8;G0++)Ql=1&Ql?3988292384^Ql>>>1:Ql>>>1;$p[Vu]=Ql}return $p})());var Am=(Ql,$p,Vu,G0)=>{const N0=ym,I0=G0+Vu;Ql^=-1;for(let km=G0;km<I0;km++)Ql=Ql>>>8^N0[255&(Ql^$p[km])];return-1^Ql},am={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Rm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Lm,_tr_stored_block:Fm,_tr_flush_block:s1,_tr_tally:r1,_tr_align:Y1}=e0,{Z_NO_FLUSH:G1,Z_PARTIAL_FLUSH:wv,Z_FULL_FLUSH:Mv,Z_FINISH:Cv,Z_BLOCK:lv,Z_OK:J1,Z_STREAM_END:dy,Z_STREAM_ERROR:Iv,Z_DATA_ERROR:Dv,Z_BUF_ERROR:_y,Z_DEFAULT_COMPRESSION:wy,Z_FILTERED:Sm,Z_HUFFMAN_ONLY:Xp,Z_RLE:R0,Z_FIXED:K0,Z_DEFAULT_STRATEGY:Nm,Z_UNKNOWN:Gm,Z_DEFLATED:M1}=Rm,Km=258,F1=262,j1=42,x1=113,hv=666,my=(Ql,$p)=>(Ql.msg=am[$p],$p),$y=Ql=>2*Ql-(Ql>4?9:0),Zy=Ql=>{let $p=Ql.length;for(;--$p>=0;)Ql[$p]=0},E2=Ql=>{let $p,Vu,G0,N0=Ql.w_size;$p=Ql.hash_size,G0=$p;do Vu=Ql.head[--G0],Ql.head[G0]=Vu>=N0?Vu-N0:0;while(--$p);$p=N0,G0=$p;do Vu=Ql.prev[--G0],Ql.prev[G0]=Vu>=N0?Vu-N0:0;while(--$p)};let Ty=(Ql,$p,Vu)=>($p<<Ql.hash_shift^Vu)&Ql.hash_mask;const oy=Ql=>{const $p=Ql.state;let Vu=$p.pending;Vu>Ql.avail_out&&(Vu=Ql.avail_out),Vu!==0&&(Ql.output.set($p.pending_buf.subarray($p.pending_out,$p.pending_out+Vu),Ql.next_out),Ql.next_out+=Vu,$p.pending_out+=Vu,Ql.total_out+=Vu,Ql.avail_out-=Vu,$p.pending-=Vu,$p.pending===0&&($p.pending_out=0))},Wv=(Ql,$p)=>{s1(Ql,Ql.block_start>=0?Ql.block_start:-1,Ql.strstart-Ql.block_start,$p),Ql.block_start=Ql.strstart,oy(Ql.strm)},xv=(Ql,$p)=>{Ql.pending_buf[Ql.pending++]=$p},N1=(Ql,$p)=>{Ql.pending_buf[Ql.pending++]=$p>>>8&255,Ql.pending_buf[Ql.pending++]=255&$p},c2=(Ql,$p,Vu,G0)=>{let N0=Ql.avail_in;return N0>G0&&(N0=G0),N0===0?0:(Ql.avail_in-=N0,$p.set(Ql.input.subarray(Ql.next_in,Ql.next_in+N0),Vu),Ql.state.wrap===1?Ql.adler=V0(Ql.adler,$p,N0,Vu):Ql.state.wrap===2&&(Ql.adler=Am(Ql.adler,$p,N0,Vu)),Ql.next_in+=N0,Ql.total_in+=N0,N0)},D2=(Ql,$p)=>{let Vu,G0,N0=Ql.max_chain_length,I0=Ql.strstart,km=Ql.prev_length,im=Ql.nice_match;const f1=Ql.strstart>Ql.w_size-F1?Ql.strstart-(Ql.w_size-F1):0,um=Ql.window,Em=Ql.w_mask,Rv=Ql.prev,Q1=Ql.strstart+Km;let g1=um[I0+km-1],jy=um[I0+km];Ql.prev_length>=Ql.good_match&&(N0>>=2),im>Ql.lookahead&&(im=Ql.lookahead);do if(Vu=$p,um[Vu+km]===jy&&um[Vu+km-1]===g1&&um[Vu]===um[I0]&&um[++Vu]===um[I0+1]){I0+=2,Vu++;do;while(um[++I0]===um[++Vu]&&um[++I0]===um[++Vu]&&um[++I0]===um[++Vu]&&um[++I0]===um[++Vu]&&um[++I0]===um[++Vu]&&um[++I0]===um[++Vu]&&um[++I0]===um[++Vu]&&um[++I0]===um[++Vu]&&I0<Q1);if(G0=Km-(Q1-I0),I0=Q1-Km,G0>km){if(Ql.match_start=$p,km=G0,G0>=im)break;g1=um[I0+km-1],jy=um[I0+km]}}while(($p=Rv[$p&Em])>f1&&--N0!==0);return km<=Ql.lookahead?km:Ql.lookahead},d2=Ql=>{const $p=Ql.w_size;let Vu,G0,N0;do{if(G0=Ql.window_size-Ql.lookahead-Ql.strstart,Ql.strstart>=$p+($p-F1)&&(Ql.window.set(Ql.window.subarray($p,$p+$p-G0),0),Ql.match_start-=$p,Ql.strstart-=$p,Ql.block_start-=$p,Ql.insert>Ql.strstart&&(Ql.insert=Ql.strstart),E2(Ql),G0+=$p),Ql.strm.avail_in===0)break;if(Vu=c2(Ql.strm,Ql.window,Ql.strstart+Ql.lookahead,G0),Ql.lookahead+=Vu,Ql.lookahead+Ql.insert>=3)for(N0=Ql.strstart-Ql.insert,Ql.ins_h=Ql.window[N0],Ql.ins_h=Ty(Ql,Ql.ins_h,Ql.window[N0+1]);Ql.insert&&(Ql.ins_h=Ty(Ql,Ql.ins_h,Ql.window[N0+3-1]),Ql.prev[N0&Ql.w_mask]=Ql.head[Ql.ins_h],Ql.head[Ql.ins_h]=N0,N0++,Ql.insert--,!(Ql.lookahead+Ql.insert<3)););}while(Ql.lookahead<F1&&Ql.strm.avail_in!==0)},L2=(Ql,$p)=>{let Vu,G0,N0,I0=Ql.pending_buf_size-5>Ql.w_size?Ql.w_size:Ql.pending_buf_size-5,km=0,im=Ql.strm.avail_in;do{if(Vu=65535,N0=Ql.bi_valid+42>>3,Ql.strm.avail_out<N0||(N0=Ql.strm.avail_out-N0,G0=Ql.strstart-Ql.block_start,Vu>G0+Ql.strm.avail_in&&(Vu=G0+Ql.strm.avail_in),Vu>N0&&(Vu=N0),Vu<I0&&(Vu===0&&$p!==Cv||$p===G1||Vu!==G0+Ql.strm.avail_in)))break;km=$p===Cv&&Vu===G0+Ql.strm.avail_in?1:0,Fm(Ql,0,0,km),Ql.pending_buf[Ql.pending-4]=Vu,Ql.pending_buf[Ql.pending-3]=Vu>>8,Ql.pending_buf[Ql.pending-2]=~Vu,Ql.pending_buf[Ql.pending-1]=~Vu>>8,oy(Ql.strm),G0&&(G0>Vu&&(G0=Vu),Ql.strm.output.set(Ql.window.subarray(Ql.block_start,Ql.block_start+G0),Ql.strm.next_out),Ql.strm.next_out+=G0,Ql.strm.avail_out-=G0,Ql.strm.total_out+=G0,Ql.block_start+=G0,Vu-=G0),Vu&&(c2(Ql.strm,Ql.strm.output,Ql.strm.next_out,Vu),Ql.strm.next_out+=Vu,Ql.strm.avail_out-=Vu,Ql.strm.total_out+=Vu)}while(km===0);return im-=Ql.strm.avail_in,im&&(im>=Ql.w_size?(Ql.matches=2,Ql.window.set(Ql.strm.input.subarray(Ql.strm.next_in-Ql.w_size,Ql.strm.next_in),0),Ql.strstart=Ql.w_size,Ql.insert=Ql.strstart):(Ql.window_size-Ql.strstart<=im&&(Ql.strstart-=Ql.w_size,Ql.window.set(Ql.window.subarray(Ql.w_size,Ql.w_size+Ql.strstart),0),Ql.matches<2&&Ql.matches++,Ql.insert>Ql.strstart&&(Ql.insert=Ql.strstart)),Ql.window.set(Ql.strm.input.subarray(Ql.strm.next_in-im,Ql.strm.next_in),Ql.strstart),Ql.strstart+=im,Ql.insert+=im>Ql.w_size-Ql.insert?Ql.w_size-Ql.insert:im),Ql.block_start=Ql.strstart),Ql.high_water<Ql.strstart&&(Ql.high_water=Ql.strstart),km?4:$p!==G1&&$p!==Cv&&Ql.strm.avail_in===0&&Ql.strstart===Ql.block_start?2:(N0=Ql.window_size-Ql.strstart,Ql.strm.avail_in>N0&&Ql.block_start>=Ql.w_size&&(Ql.block_start-=Ql.w_size,Ql.strstart-=Ql.w_size,Ql.window.set(Ql.window.subarray(Ql.w_size,Ql.w_size+Ql.strstart),0),Ql.matches<2&&Ql.matches++,N0+=Ql.w_size,Ql.insert>Ql.strstart&&(Ql.insert=Ql.strstart)),N0>Ql.strm.avail_in&&(N0=Ql.strm.avail_in),N0&&(c2(Ql.strm,Ql.window,Ql.strstart,N0),Ql.strstart+=N0,Ql.insert+=N0>Ql.w_size-Ql.insert?Ql.w_size-Ql.insert:N0),Ql.high_water<Ql.strstart&&(Ql.high_water=Ql.strstart),N0=Ql.bi_valid+42>>3,N0=Ql.pending_buf_size-N0>65535?65535:Ql.pending_buf_size-N0,I0=N0>Ql.w_size?Ql.w_size:N0,G0=Ql.strstart-Ql.block_start,(G0>=I0||(G0||$p===Cv)&&$p!==G1&&Ql.strm.avail_in===0&&G0<=N0)&&(Vu=G0>N0?N0:G0,km=$p===Cv&&Ql.strm.avail_in===0&&Vu===G0?1:0,Fm(Ql,Ql.block_start,Vu,km),Ql.block_start+=Vu,oy(Ql.strm)),km?3:1)},b2=(Ql,$p)=>{let Vu,G0;for(;;){if(Ql.lookahead<F1){if(d2(Ql),Ql.lookahead<F1&&$p===G1)return 1;if(Ql.lookahead===0)break}if(Vu=0,Ql.lookahead>=3&&(Ql.ins_h=Ty(Ql,Ql.ins_h,Ql.window[Ql.strstart+3-1]),Vu=Ql.prev[Ql.strstart&Ql.w_mask]=Ql.head[Ql.ins_h],Ql.head[Ql.ins_h]=Ql.strstart),Vu!==0&&Ql.strstart-Vu<=Ql.w_size-F1&&(Ql.match_length=D2(Ql,Vu)),Ql.match_length>=3)if(G0=r1(Ql,Ql.strstart-Ql.match_start,Ql.match_length-3),Ql.lookahead-=Ql.match_length,Ql.match_length<=Ql.max_lazy_match&&Ql.lookahead>=3){Ql.match_length--;do Ql.strstart++,Ql.ins_h=Ty(Ql,Ql.ins_h,Ql.window[Ql.strstart+3-1]),Vu=Ql.prev[Ql.strstart&Ql.w_mask]=Ql.head[Ql.ins_h],Ql.head[Ql.ins_h]=Ql.strstart;while(--Ql.match_length!==0);Ql.strstart++}else Ql.strstart+=Ql.match_length,Ql.match_length=0,Ql.ins_h=Ql.window[Ql.strstart],Ql.ins_h=Ty(Ql,Ql.ins_h,Ql.window[Ql.strstart+1]);else G0=r1(Ql,0,Ql.window[Ql.strstart]),Ql.lookahead--,Ql.strstart++;if(G0&&(Wv(Ql,!1),Ql.strm.avail_out===0))return 1}return Ql.insert=Ql.strstart<2?Ql.strstart:2,$p===Cv?(Wv(Ql,!0),Ql.strm.avail_out===0?3:4):Ql.sym_next&&(Wv(Ql,!1),Ql.strm.avail_out===0)?1:2},g2=(Ql,$p)=>{let Vu,G0,N0;for(;;){if(Ql.lookahead<F1){if(d2(Ql),Ql.lookahead<F1&&$p===G1)return 1;if(Ql.lookahead===0)break}if(Vu=0,Ql.lookahead>=3&&(Ql.ins_h=Ty(Ql,Ql.ins_h,Ql.window[Ql.strstart+3-1]),Vu=Ql.prev[Ql.strstart&Ql.w_mask]=Ql.head[Ql.ins_h],Ql.head[Ql.ins_h]=Ql.strstart),Ql.prev_length=Ql.match_length,Ql.prev_match=Ql.match_start,Ql.match_length=2,Vu!==0&&Ql.prev_length<Ql.max_lazy_match&&Ql.strstart-Vu<=Ql.w_size-F1&&(Ql.match_length=D2(Ql,Vu),Ql.match_length<=5&&(Ql.strategy===Sm||Ql.match_length===3&&Ql.strstart-Ql.match_start>4096)&&(Ql.match_length=2)),Ql.prev_length>=3&&Ql.match_length<=Ql.prev_length){N0=Ql.strstart+Ql.lookahead-3,G0=r1(Ql,Ql.strstart-1-Ql.prev_match,Ql.prev_length-3),Ql.lookahead-=Ql.prev_length-1,Ql.prev_length-=2;do++Ql.strstart<=N0&&(Ql.ins_h=Ty(Ql,Ql.ins_h,Ql.window[Ql.strstart+3-1]),Vu=Ql.prev[Ql.strstart&Ql.w_mask]=Ql.head[Ql.ins_h],Ql.head[Ql.ins_h]=Ql.strstart);while(--Ql.prev_length!==0);if(Ql.match_available=0,Ql.match_length=2,Ql.strstart++,G0&&(Wv(Ql,!1),Ql.strm.avail_out===0))return 1}else if(Ql.match_available){if(G0=r1(Ql,0,Ql.window[Ql.strstart-1]),G0&&Wv(Ql,!1),Ql.strstart++,Ql.lookahead--,Ql.strm.avail_out===0)return 1}else Ql.match_available=1,Ql.strstart++,Ql.lookahead--}return Ql.match_available&&(G0=r1(Ql,0,Ql.window[Ql.strstart-1]),Ql.match_available=0),Ql.insert=Ql.strstart<2?Ql.strstart:2,$p===Cv?(Wv(Ql,!0),Ql.strm.avail_out===0?3:4):Ql.sym_next&&(Wv(Ql,!1),Ql.strm.avail_out===0)?1:2};function yy(Ql,$p,Vu,G0,N0){this.good_length=Ql,this.max_lazy=$p,this.nice_length=Vu,this.max_chain=G0,this.func=N0}const e2=[new yy(0,0,0,0,L2),new yy(4,4,8,4,b2),new yy(4,5,16,8,b2),new yy(4,6,32,32,b2),new yy(4,4,16,16,g2),new yy(8,16,32,32,g2),new yy(8,16,128,128,g2),new yy(8,32,128,256,g2),new yy(32,128,258,1024,g2),new yy(32,258,258,4096,g2)];function M2(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M1,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Zy(this.dyn_ltree),Zy(this.dyn_dtree),Zy(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Zy(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Zy(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const m2=Ql=>{if(!Ql)return 1;const $p=Ql.state;return!$p||$p.strm!==Ql||$p.status!==j1&&$p.status!==57&&$p.status!==69&&$p.status!==73&&$p.status!==91&&$p.status!==103&&$p.status!==x1&&$p.status!==hv?1:0},I2=Ql=>{if(m2(Ql))return my(Ql,Iv);Ql.total_in=Ql.total_out=0,Ql.data_type=Gm;const $p=Ql.state;return $p.pending=0,$p.pending_out=0,$p.wrap<0&&($p.wrap=-$p.wrap),$p.status=$p.wrap===2?57:$p.wrap?j1:x1,Ql.adler=$p.wrap===2?0:1,$p.last_flush=-2,Lm($p),J1},O2=Ql=>{const $p=I2(Ql);var Vu;return $p===J1&&((Vu=Ql.state).window_size=2*Vu.w_size,Zy(Vu.head),Vu.max_lazy_match=e2[Vu.level].max_lazy,Vu.good_match=e2[Vu.level].good_length,Vu.nice_match=e2[Vu.level].nice_length,Vu.max_chain_length=e2[Vu.level].max_chain,Vu.strstart=0,Vu.block_start=0,Vu.lookahead=0,Vu.insert=0,Vu.match_length=Vu.prev_length=2,Vu.match_available=0,Vu.ins_h=0),$p},B2=(Ql,$p,Vu,G0,N0,I0)=>{if(!Ql)return Iv;let km=1;if($p===wy&&($p=6),G0<0?(km=0,G0=-G0):G0>15&&(km=2,G0-=16),N0<1||N0>9||Vu!==M1||G0<8||G0>15||$p<0||$p>9||I0<0||I0>K0||G0===8&&km!==1)return my(Ql,Iv);G0===8&&(G0=9);const im=new M2;return Ql.state=im,im.strm=Ql,im.status=j1,im.wrap=km,im.gzhead=null,im.w_bits=G0,im.w_size=1<<im.w_bits,im.w_mask=im.w_size-1,im.hash_bits=N0+7,im.hash_size=1<<im.hash_bits,im.hash_mask=im.hash_size-1,im.hash_shift=~~((im.hash_bits+3-1)/3),im.window=new Uint8Array(2*im.w_size),im.head=new Uint16Array(im.hash_size),im.prev=new Uint16Array(im.w_size),im.lit_bufsize=1<<N0+6,im.pending_buf_size=4*im.lit_bufsize,im.pending_buf=new Uint8Array(im.pending_buf_size),im.sym_buf=im.lit_bufsize,im.sym_end=3*(im.lit_bufsize-1),im.level=$p,im.strategy=I0,im.method=Vu,O2(Ql)};var Av={deflateInit:(Ql,$p)=>B2(Ql,$p,M1,15,8,Nm),deflateInit2:B2,deflateReset:O2,deflateResetKeep:I2,deflateSetHeader:(Ql,$p)=>m2(Ql)||Ql.state.wrap!==2?Iv:(Ql.state.gzhead=$p,J1),deflate:(Ql,$p)=>{if(m2(Ql)||$p>lv||$p<0)return Ql?my(Ql,Iv):Iv;const Vu=Ql.state;if(!Ql.output||Ql.avail_in!==0&&!Ql.input||Vu.status===hv&&$p!==Cv)return my(Ql,Ql.avail_out===0?_y:Iv);const G0=Vu.last_flush;if(Vu.last_flush=$p,Vu.pending!==0){if(oy(Ql),Ql.avail_out===0)return Vu.last_flush=-1,J1}else if(Ql.avail_in===0&&$y($p)<=$y(G0)&&$p!==Cv)return my(Ql,_y);if(Vu.status===hv&&Ql.avail_in!==0)return my(Ql,_y);if(Vu.status===j1&&Vu.wrap===0&&(Vu.status=x1),Vu.status===j1){let N0=M1+(Vu.w_bits-8<<4)<<8,I0=-1;if(I0=Vu.strategy>=Xp||Vu.level<2?0:Vu.level<6?1:Vu.level===6?2:3,N0|=I0<<6,Vu.strstart!==0&&(N0|=32),N0+=31-N0%31,N1(Vu,N0),Vu.strstart!==0&&(N1(Vu,Ql.adler>>>16),N1(Vu,65535&Ql.adler)),Ql.adler=1,Vu.status=x1,oy(Ql),Vu.pending!==0)return Vu.last_flush=-1,J1}if(Vu.status===57){if(Ql.adler=0,xv(Vu,31),xv(Vu,139),xv(Vu,8),Vu.gzhead)xv(Vu,(Vu.gzhead.text?1:0)+(Vu.gzhead.hcrc?2:0)+(Vu.gzhead.extra?4:0)+(Vu.gzhead.name?8:0)+(Vu.gzhead.comment?16:0)),xv(Vu,255&Vu.gzhead.time),xv(Vu,Vu.gzhead.time>>8&255),xv(Vu,Vu.gzhead.time>>16&255),xv(Vu,Vu.gzhead.time>>24&255),xv(Vu,Vu.level===9?2:Vu.strategy>=Xp||Vu.level<2?4:0),xv(Vu,255&Vu.gzhead.os),Vu.gzhead.extra&&Vu.gzhead.extra.length&&(xv(Vu,255&Vu.gzhead.extra.length),xv(Vu,Vu.gzhead.extra.length>>8&255)),Vu.gzhead.hcrc&&(Ql.adler=Am(Ql.adler,Vu.pending_buf,Vu.pending,0)),Vu.gzindex=0,Vu.status=69;else if(xv(Vu,0),xv(Vu,0),xv(Vu,0),xv(Vu,0),xv(Vu,0),xv(Vu,Vu.level===9?2:Vu.strategy>=Xp||Vu.level<2?4:0),xv(Vu,3),Vu.status=x1,oy(Ql),Vu.pending!==0)return Vu.last_flush=-1,J1}if(Vu.status===69){if(Vu.gzhead.extra){let N0=Vu.pending,I0=(65535&Vu.gzhead.extra.length)-Vu.gzindex;for(;Vu.pending+I0>Vu.pending_buf_size;){let im=Vu.pending_buf_size-Vu.pending;if(Vu.pending_buf.set(Vu.gzhead.extra.subarray(Vu.gzindex,Vu.gzindex+im),Vu.pending),Vu.pending=Vu.pending_buf_size,Vu.gzhead.hcrc&&Vu.pending>N0&&(Ql.adler=Am(Ql.adler,Vu.pending_buf,Vu.pending-N0,N0)),Vu.gzindex+=im,oy(Ql),Vu.pending!==0)return Vu.last_flush=-1,J1;N0=0,I0-=im}let km=new Uint8Array(Vu.gzhead.extra);Vu.pending_buf.set(km.subarray(Vu.gzindex,Vu.gzindex+I0),Vu.pending),Vu.pending+=I0,Vu.gzhead.hcrc&&Vu.pending>N0&&(Ql.adler=Am(Ql.adler,Vu.pending_buf,Vu.pending-N0,N0)),Vu.gzindex=0}Vu.status=73}if(Vu.status===73){if(Vu.gzhead.name){let N0,I0=Vu.pending;do{if(Vu.pending===Vu.pending_buf_size){if(Vu.gzhead.hcrc&&Vu.pending>I0&&(Ql.adler=Am(Ql.adler,Vu.pending_buf,Vu.pending-I0,I0)),oy(Ql),Vu.pending!==0)return Vu.last_flush=-1,J1;I0=0}N0=Vu.gzindex<Vu.gzhead.name.length?255&Vu.gzhead.name.charCodeAt(Vu.gzindex++):0,xv(Vu,N0)}while(N0!==0);Vu.gzhead.hcrc&&Vu.pending>I0&&(Ql.adler=Am(Ql.adler,Vu.pending_buf,Vu.pending-I0,I0)),Vu.gzindex=0}Vu.status=91}if(Vu.status===91){if(Vu.gzhead.comment){let N0,I0=Vu.pending;do{if(Vu.pending===Vu.pending_buf_size){if(Vu.gzhead.hcrc&&Vu.pending>I0&&(Ql.adler=Am(Ql.adler,Vu.pending_buf,Vu.pending-I0,I0)),oy(Ql),Vu.pending!==0)return Vu.last_flush=-1,J1;I0=0}N0=Vu.gzindex<Vu.gzhead.comment.length?255&Vu.gzhead.comment.charCodeAt(Vu.gzindex++):0,xv(Vu,N0)}while(N0!==0);Vu.gzhead.hcrc&&Vu.pending>I0&&(Ql.adler=Am(Ql.adler,Vu.pending_buf,Vu.pending-I0,I0))}Vu.status=103}if(Vu.status===103){if(Vu.gzhead.hcrc){if(Vu.pending+2>Vu.pending_buf_size&&(oy(Ql),Vu.pending!==0))return Vu.last_flush=-1,J1;xv(Vu,255&Ql.adler),xv(Vu,Ql.adler>>8&255),Ql.adler=0}if(Vu.status=x1,oy(Ql),Vu.pending!==0)return Vu.last_flush=-1,J1}if(Ql.avail_in!==0||Vu.lookahead!==0||$p!==G1&&Vu.status!==hv){let N0=Vu.level===0?L2(Vu,$p):Vu.strategy===Xp?((I0,km)=>{let im;for(;;){if(I0.lookahead===0&&(d2(I0),I0.lookahead===0)){if(km===G1)return 1;break}if(I0.match_length=0,im=r1(I0,0,I0.window[I0.strstart]),I0.lookahead--,I0.strstart++,im&&(Wv(I0,!1),I0.strm.avail_out===0))return 1}return I0.insert=0,km===Cv?(Wv(I0,!0),I0.strm.avail_out===0?3:4):I0.sym_next&&(Wv(I0,!1),I0.strm.avail_out===0)?1:2})(Vu,$p):Vu.strategy===R0?((I0,km)=>{let im,f1,um,Em;const Rv=I0.window;for(;;){if(I0.lookahead<=Km){if(d2(I0),I0.lookahead<=Km&&km===G1)return 1;if(I0.lookahead===0)break}if(I0.match_length=0,I0.lookahead>=3&&I0.strstart>0&&(um=I0.strstart-1,f1=Rv[um],f1===Rv[++um]&&f1===Rv[++um]&&f1===Rv[++um])){Em=I0.strstart+Km;do;while(f1===Rv[++um]&&f1===Rv[++um]&&f1===Rv[++um]&&f1===Rv[++um]&&f1===Rv[++um]&&f1===Rv[++um]&&f1===Rv[++um]&&f1===Rv[++um]&&um<Em);I0.match_length=Km-(Em-um),I0.match_length>I0.lookahead&&(I0.match_length=I0.lookahead)}if(I0.match_length>=3?(im=r1(I0,1,I0.match_length-3),I0.lookahead-=I0.match_length,I0.strstart+=I0.match_length,I0.match_length=0):(im=r1(I0,0,I0.window[I0.strstart]),I0.lookahead--,I0.strstart++),im&&(Wv(I0,!1),I0.strm.avail_out===0))return 1}return I0.insert=0,km===Cv?(Wv(I0,!0),I0.strm.avail_out===0?3:4):I0.sym_next&&(Wv(I0,!1),I0.strm.avail_out===0)?1:2})(Vu,$p):e2[Vu.level].func(Vu,$p);if(N0!==3&&N0!==4||(Vu.status=hv),N0===1||N0===3)return Ql.avail_out===0&&(Vu.last_flush=-1),J1;if(N0===2&&($p===wv?Y1(Vu):$p!==lv&&(Fm(Vu,0,0,!1),$p===Mv&&(Zy(Vu.head),Vu.lookahead===0&&(Vu.strstart=0,Vu.block_start=0,Vu.insert=0))),oy(Ql),Ql.avail_out===0))return Vu.last_flush=-1,J1}return $p!==Cv?J1:Vu.wrap<=0?dy:(Vu.wrap===2?(xv(Vu,255&Ql.adler),xv(Vu,Ql.adler>>8&255),xv(Vu,Ql.adler>>16&255),xv(Vu,Ql.adler>>24&255),xv(Vu,255&Ql.total_in),xv(Vu,Ql.total_in>>8&255),xv(Vu,Ql.total_in>>16&255),xv(Vu,Ql.total_in>>24&255)):(N1(Vu,Ql.adler>>>16),N1(Vu,65535&Ql.adler)),oy(Ql),Vu.wrap>0&&(Vu.wrap=-Vu.wrap),Vu.pending!==0?J1:dy)},deflateEnd:Ql=>{if(m2(Ql))return Iv;const $p=Ql.state.status;return Ql.state=null,$p===x1?my(Ql,Dv):J1},deflateSetDictionary:(Ql,$p)=>{let Vu=$p.length;if(m2(Ql))return Iv;const G0=Ql.state,N0=G0.wrap;if(N0===2||N0===1&&G0.status!==j1||G0.lookahead)return Iv;if(N0===1&&(Ql.adler=V0(Ql.adler,$p,Vu,0)),G0.wrap=0,Vu>=G0.w_size){N0===0&&(Zy(G0.head),G0.strstart=0,G0.block_start=0,G0.insert=0);let f1=new Uint8Array(G0.w_size);f1.set($p.subarray(Vu-G0.w_size,Vu),0),$p=f1,Vu=G0.w_size}const I0=Ql.avail_in,km=Ql.next_in,im=Ql.input;for(Ql.avail_in=Vu,Ql.next_in=0,Ql.input=$p,d2(G0);G0.lookahead>=3;){let f1=G0.strstart,um=G0.lookahead-2;do G0.ins_h=Ty(G0,G0.ins_h,G0.window[f1+3-1]),G0.prev[f1&G0.w_mask]=G0.head[G0.ins_h],G0.head[G0.ins_h]=f1,f1++;while(--um);G0.strstart=f1,G0.lookahead=2,d2(G0)}return G0.strstart+=G0.lookahead,G0.block_start=G0.strstart,G0.insert=G0.lookahead,G0.lookahead=0,G0.match_length=G0.prev_length=2,G0.match_available=0,Ql.next_in=km,Ql.input=im,Ql.avail_in=I0,G0.wrap=N0,J1},deflateInfo:"pako deflate (from Nodeca project)"};const qy=(Ql,$p)=>Object.prototype.hasOwnProperty.call(Ql,$p);var zy=function(Ql){const $p=Array.prototype.slice.call(arguments,1);for(;$p.length;){const Vu=$p.shift();if(Vu){if(typeof Vu!="object")throw new TypeError(Vu+"must be non-object");for(const G0 in Vu)qy(Vu,G0)&&(Ql[G0]=Vu[G0])}}return Ql},z2=Ql=>{let $p=0;for(let G0=0,N0=Ql.length;G0<N0;G0++)$p+=Ql[G0].length;const Vu=new Uint8Array($p);for(let G0=0,N0=0,I0=Ql.length;G0<I0;G0++){let km=Ql[G0];Vu.set(km,N0),N0+=km.length}return Vu};let Z1=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Z1=!1}const gu=new Uint8Array(256);for(let Ql=0;Ql<256;Ql++)gu[Ql]=Ql>=252?6:Ql>=248?5:Ql>=240?4:Ql>=224?3:Ql>=192?2:1;gu[254]=gu[254]=1;var t0=Ql=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Ql);let $p,Vu,G0,N0,I0,km=Ql.length,im=0;for(N0=0;N0<km;N0++)Vu=Ql.charCodeAt(N0),(64512&Vu)==55296&&N0+1<km&&(G0=Ql.charCodeAt(N0+1),(64512&G0)==56320&&(Vu=65536+(Vu-55296<<10)+(G0-56320),N0++)),im+=Vu<128?1:Vu<2048?2:Vu<65536?3:4;for($p=new Uint8Array(im),I0=0,N0=0;I0<im;N0++)Vu=Ql.charCodeAt(N0),(64512&Vu)==55296&&N0+1<km&&(G0=Ql.charCodeAt(N0+1),(64512&G0)==56320&&(Vu=65536+(Vu-55296<<10)+(G0-56320),N0++)),Vu<128?$p[I0++]=Vu:Vu<2048?($p[I0++]=192|Vu>>>6,$p[I0++]=128|63&Vu):Vu<65536?($p[I0++]=224|Vu>>>12,$p[I0++]=128|Vu>>>6&63,$p[I0++]=128|63&Vu):($p[I0++]=240|Vu>>>18,$p[I0++]=128|Vu>>>12&63,$p[I0++]=128|Vu>>>6&63,$p[I0++]=128|63&Vu);return $p},z0=(Ql,$p)=>{const Vu=$p||Ql.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Ql.subarray(0,$p));let G0,N0;const I0=new Array(2*Vu);for(N0=0,G0=0;G0<Vu;){let km=Ql[G0++];if(km<128){I0[N0++]=km;continue}let im=gu[km];if(im>4)I0[N0++]=65533,G0+=im-1;else{for(km&=im===2?31:im===3?15:7;im>1&&G0<Vu;)km=km<<6|63&Ql[G0++],im--;im>1?I0[N0++]=65533:km<65536?I0[N0++]=km:(km-=65536,I0[N0++]=55296|km>>10&1023,I0[N0++]=56320|1023&km)}}return((km,im)=>{if(im<65534&&km.subarray&&Z1)return String.fromCharCode.apply(null,km.length===im?km:km.subarray(0,im));let f1="";for(let um=0;um<im;um++)f1+=String.fromCharCode(km[um]);return f1})(I0,N0)},dm=(Ql,$p)=>{($p=$p||Ql.length)>Ql.length&&($p=Ql.length);let Vu=$p-1;for(;Vu>=0&&(192&Ql[Vu])==128;)Vu--;return Vu<0||Vu===0?$p:Vu+gu[Ql[Vu]]>$p?Vu:$p},om=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const u1=Object.prototype.toString,{Z_NO_FLUSH:m1,Z_SYNC_FLUSH:c1,Z_FULL_FLUSH:k1,Z_FINISH:d1,Z_OK:E1,Z_STREAM_END:rv,Z_DEFAULT_COMPRESSION:ev,Z_DEFAULT_STRATEGY:Xv,Z_DEFLATED:ky}=Rm;function xy(Ql){this.options=zy({level:ev,method:ky,chunkSize:16384,windowBits:15,memLevel:8,strategy:Xv},Ql||{});let $p=this.options;$p.raw&&$p.windowBits>0?$p.windowBits=-$p.windowBits:$p.gzip&&$p.windowBits>0&&$p.windowBits<16&&($p.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new om,this.strm.avail_out=0;let Vu=Av.deflateInit2(this.strm,$p.level,$p.method,$p.windowBits,$p.memLevel,$p.strategy);if(Vu!==E1)throw new Error(am[Vu]);if($p.header&&Av.deflateSetHeader(this.strm,$p.header),$p.dictionary){let G0;if(G0=typeof $p.dictionary=="string"?t0($p.dictionary):u1.call($p.dictionary)==="[object ArrayBuffer]"?new Uint8Array($p.dictionary):$p.dictionary,Vu=Av.deflateSetDictionary(this.strm,G0),Vu!==E1)throw new Error(am[Vu]);this._dict_set=!0}}function _v(Ql,$p){const Vu=new xy($p);if(Vu.push(Ql,!0),Vu.err)throw Vu.msg||am[Vu.err];return Vu.result}xy.prototype.push=function(Ql,$p){const Vu=this.strm,G0=this.options.chunkSize;let N0,I0;if(this.ended)return!1;for(I0=$p===~~$p?$p:$p===!0?d1:m1,typeof Ql=="string"?Vu.input=t0(Ql):u1.call(Ql)==="[object ArrayBuffer]"?Vu.input=new Uint8Array(Ql):Vu.input=Ql,Vu.next_in=0,Vu.avail_in=Vu.input.length;;)if(Vu.avail_out===0&&(Vu.output=new Uint8Array(G0),Vu.next_out=0,Vu.avail_out=G0),(I0===c1||I0===k1)&&Vu.avail_out<=6)this.onData(Vu.output.subarray(0,Vu.next_out)),Vu.avail_out=0;else{if(N0=Av.deflate(Vu,I0),N0===rv)return Vu.next_out>0&&this.onData(Vu.output.subarray(0,Vu.next_out)),N0=Av.deflateEnd(this.strm),this.onEnd(N0),this.ended=!0,N0===E1;if(Vu.avail_out!==0){if(I0>0&&Vu.next_out>0)this.onData(Vu.output.subarray(0,Vu.next_out)),Vu.avail_out=0;else if(Vu.avail_in===0)break}else this.onData(Vu.output)}return!0},xy.prototype.onData=function(Ql){this.chunks.push(Ql)},xy.prototype.onEnd=function(Ql){Ql===E1&&(this.result=z2(this.chunks)),this.chunks=[],this.err=Ql,this.msg=this.strm.msg};var Vv={Deflate:xy,deflate:_v,deflateRaw:function(Ql,$p){return($p=$p||{}).raw=!0,_v(Ql,$p)},gzip:function(Ql,$p){return($p=$p||{}).gzip=!0,_v(Ql,$p)}};const pv=16209;var hy=function(Ql,$p){let Vu,G0,N0,I0,km,im,f1,um,Em,Rv,Q1,g1,jy,Qv,fv,ay,Fv,D1,kv,sy,z1,qv,Pv,mv;const $v=Ql.state;Vu=Ql.next_in,Pv=Ql.input,G0=Vu+(Ql.avail_in-5),N0=Ql.next_out,mv=Ql.output,I0=N0-($p-Ql.avail_out),km=N0+(Ql.avail_out-257),im=$v.dmax,f1=$v.wsize,um=$v.whave,Em=$v.wnext,Rv=$v.window,Q1=$v.hold,g1=$v.bits,jy=$v.lencode,Qv=$v.distcode,fv=(1<<$v.lenbits)-1,ay=(1<<$v.distbits)-1;e:do{g1<15&&(Q1+=Pv[Vu++]<<g1,g1+=8,Q1+=Pv[Vu++]<<g1,g1+=8),Fv=jy[Q1&fv];t:for(;;){if(D1=Fv>>>24,Q1>>>=D1,g1-=D1,D1=Fv>>>16&255,D1===0)mv[N0++]=65535&Fv;else{if(!(16&D1)){if(64&D1){if(32&D1){$v.mode=16191;break e}Ql.msg="invalid literal/length code",$v.mode=pv;break e}Fv=jy[(65535&Fv)+(Q1&(1<<D1)-1)];continue t}for(kv=65535&Fv,D1&=15,D1&&(g1<D1&&(Q1+=Pv[Vu++]<<g1,g1+=8),kv+=Q1&(1<<D1)-1,Q1>>>=D1,g1-=D1),g1<15&&(Q1+=Pv[Vu++]<<g1,g1+=8,Q1+=Pv[Vu++]<<g1,g1+=8),Fv=Qv[Q1&ay];;){if(D1=Fv>>>24,Q1>>>=D1,g1-=D1,D1=Fv>>>16&255,16&D1){if(sy=65535&Fv,D1&=15,g1<D1&&(Q1+=Pv[Vu++]<<g1,g1+=8,g1<D1&&(Q1+=Pv[Vu++]<<g1,g1+=8)),sy+=Q1&(1<<D1)-1,sy>im){Ql.msg="invalid distance too far back",$v.mode=pv;break e}if(Q1>>>=D1,g1-=D1,D1=N0-I0,sy>D1){if(D1=sy-D1,D1>um&&$v.sane){Ql.msg="invalid distance too far back",$v.mode=pv;break e}if(z1=0,qv=Rv,Em===0){if(z1+=f1-D1,D1<kv){kv-=D1;do mv[N0++]=Rv[z1++];while(--D1);z1=N0-sy,qv=mv}}else if(Em<D1){if(z1+=f1+Em-D1,D1-=Em,D1<kv){kv-=D1;do mv[N0++]=Rv[z1++];while(--D1);if(z1=0,Em<kv){D1=Em,kv-=D1;do mv[N0++]=Rv[z1++];while(--D1);z1=N0-sy,qv=mv}}}else if(z1+=Em-D1,D1<kv){kv-=D1;do mv[N0++]=Rv[z1++];while(--D1);z1=N0-sy,qv=mv}for(;kv>2;)mv[N0++]=qv[z1++],mv[N0++]=qv[z1++],mv[N0++]=qv[z1++],kv-=3;kv&&(mv[N0++]=qv[z1++],kv>1&&(mv[N0++]=qv[z1++]))}else{z1=N0-sy;do mv[N0++]=mv[z1++],mv[N0++]=mv[z1++],mv[N0++]=mv[z1++],kv-=3;while(kv>2);kv&&(mv[N0++]=mv[z1++],kv>1&&(mv[N0++]=mv[z1++]))}break}if(64&D1){Ql.msg="invalid distance code",$v.mode=pv;break e}Fv=Qv[(65535&Fv)+(Q1&(1<<D1)-1)]}}break}}while(Vu<G0&&N0<km);kv=g1>>3,Vu-=kv,g1-=kv<<3,Q1&=(1<<g1)-1,Ql.next_in=Vu,Ql.next_out=N0,Ql.avail_in=Vu<G0?G0-Vu+5:5-(Vu-G0),Ql.avail_out=N0<km?km-N0+257:257-(N0-km),$v.hold=Q1,$v.bits=g1};const tv=15,Qy=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),c0=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_t=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),wl=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var zl=(Ql,$p,Vu,G0,N0,I0,km,im)=>{const f1=im.bits;let um,Em,Rv,Q1,g1,jy,Qv=0,fv=0,ay=0,Fv=0,D1=0,kv=0,sy=0,z1=0,qv=0,Pv=0,mv=null;const $v=new Uint16Array(16),h2=new Uint16Array(16);let W2,q2,J2,d3=null;for(Qv=0;Qv<=tv;Qv++)$v[Qv]=0;for(fv=0;fv<G0;fv++)$v[$p[Vu+fv]]++;for(D1=f1,Fv=tv;Fv>=1&&$v[Fv]===0;Fv--);if(D1>Fv&&(D1=Fv),Fv===0)return N0[I0++]=20971520,N0[I0++]=20971520,im.bits=1,0;for(ay=1;ay<Fv&&$v[ay]===0;ay++);for(D1<ay&&(D1=ay),z1=1,Qv=1;Qv<=tv;Qv++)if(z1<<=1,z1-=$v[Qv],z1<0)return-1;if(z1>0&&(Ql===0||Fv!==1))return-1;for(h2[1]=0,Qv=1;Qv<tv;Qv++)h2[Qv+1]=h2[Qv]+$v[Qv];for(fv=0;fv<G0;fv++)$p[Vu+fv]!==0&&(km[h2[$p[Vu+fv]]++]=fv);if(Ql===0?(mv=d3=km,jy=20):Ql===1?(mv=Qy,d3=c0,jy=257):(mv=_t,d3=wl,jy=0),Pv=0,fv=0,Qv=ay,g1=I0,kv=D1,sy=0,Rv=-1,qv=1<<D1,Q1=qv-1,Ql===1&&qv>852||Ql===2&&qv>592)return 1;for(;;){W2=Qv-sy,km[fv]+1<jy?(q2=0,J2=km[fv]):km[fv]>=jy?(q2=d3[km[fv]-jy],J2=mv[km[fv]-jy]):(q2=96,J2=0),um=1<<Qv-sy,Em=1<<kv,ay=Em;do Em-=um,N0[g1+(Pv>>sy)+Em]=W2<<24|q2<<16|J2;while(Em!==0);for(um=1<<Qv-1;Pv&um;)um>>=1;if(um!==0?(Pv&=um-1,Pv+=um):Pv=0,fv++,--$v[Qv]===0){if(Qv===Fv)break;Qv=$p[Vu+km[fv]]}if(Qv>D1&&(Pv&Q1)!==Rv){for(sy===0&&(sy=D1),g1+=ay,kv=Qv-sy,z1=1<<kv;kv+sy<Fv&&(z1-=$v[kv+sy],!(z1<=0));)kv++,z1<<=1;if(qv+=1<<kv,Ql===1&&qv>852||Ql===2&&qv>592)return 1;Rv=Pv&Q1,N0[Rv]=D1<<24|kv<<16|g1-I0}}return Pv!==0&&(N0[g1+Pv]=Qv-sy<<24|64<<16),im.bits=D1,0};const{Z_FINISH:Vl,Z_BLOCK:tp,Z_TREES:Du,Z_OK:lp,Z_STREAM_END:up,Z_NEED_DICT:_d,Z_STREAM_ERROR:gp,Z_DATA_ERROR:mp,Z_MEM_ERROR:Rp,Z_BUF_ERROR:Ep,Z_DEFLATED:wp}=Rm,Tp=16180,Mp=16190,Hp=16191,Qp=16192,i0=16194,w0=16199,m0=16200,B0=16206,q0=16209,Z0=Ql=>(Ql>>>24&255)+(Ql>>>8&65280)+((65280&Ql)<<8)+((255&Ql)<<24);function J0(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const H0=Ql=>{if(!Ql)return 1;const $p=Ql.state;return!$p||$p.strm!==Ql||$p.mode<Tp||$p.mode>16211?1:0},wm=Ql=>{if(H0(Ql))return gp;const $p=Ql.state;return Ql.total_in=Ql.total_out=$p.total=0,Ql.msg="",$p.wrap&&(Ql.adler=1&$p.wrap),$p.mode=Tp,$p.last=0,$p.havedict=0,$p.flags=-1,$p.dmax=32768,$p.head=null,$p.hold=0,$p.bits=0,$p.lencode=$p.lendyn=new Int32Array(852),$p.distcode=$p.distdyn=new Int32Array(592),$p.sane=1,$p.back=-1,lp},bm=Ql=>{if(H0(Ql))return gp;const $p=Ql.state;return $p.wsize=0,$p.whave=0,$p.wnext=0,wm(Ql)},Bm=(Ql,$p)=>{let Vu;if(H0(Ql))return gp;const G0=Ql.state;return $p<0?(Vu=0,$p=-$p):(Vu=5+($p>>4),$p<48&&($p&=15)),$p&&($p<8||$p>15)?gp:(G0.window!==null&&G0.wbits!==$p&&(G0.window=null),G0.wrap=Vu,G0.wbits=$p,bm(Ql))},Im=(Ql,$p)=>{if(!Ql)return gp;const Vu=new J0;Ql.state=Vu,Vu.strm=Ql,Vu.window=null,Vu.mode=Tp;const G0=Bm(Ql,$p);return G0!==lp&&(Ql.state=null),G0};let e1,n1,$m=!0;const p1=Ql=>{if($m){e1=new Int32Array(512),n1=new Int32Array(32);let $p=0;for(;$p<144;)Ql.lens[$p++]=8;for(;$p<256;)Ql.lens[$p++]=9;for(;$p<280;)Ql.lens[$p++]=7;for(;$p<288;)Ql.lens[$p++]=8;for(zl(1,Ql.lens,0,288,e1,0,Ql.work,{bits:9}),$p=0;$p<32;)Ql.lens[$p++]=5;zl(2,Ql.lens,0,32,n1,0,Ql.work,{bits:5}),$m=!1}Ql.lencode=e1,Ql.lenbits=9,Ql.distcode=n1,Ql.distbits=5},Cm=(Ql,$p,Vu,G0)=>{let N0;const I0=Ql.state;return I0.window===null&&(I0.wsize=1<<I0.wbits,I0.wnext=0,I0.whave=0,I0.window=new Uint8Array(I0.wsize)),G0>=I0.wsize?(I0.window.set($p.subarray(Vu-I0.wsize,Vu),0),I0.wnext=0,I0.whave=I0.wsize):(N0=I0.wsize-I0.wnext,N0>G0&&(N0=G0),I0.window.set($p.subarray(Vu-G0,Vu-G0+N0),I0.wnext),(G0-=N0)?(I0.window.set($p.subarray(Vu-G0,Vu),0),I0.wnext=G0,I0.whave=I0.wsize):(I0.wnext+=N0,I0.wnext===I0.wsize&&(I0.wnext=0),I0.whave<I0.wsize&&(I0.whave+=N0))),0};var Pm={inflateReset:bm,inflateReset2:Bm,inflateResetKeep:wm,inflateInit:Ql=>Im(Ql,15),inflateInit2:Im,inflate:(Ql,$p)=>{let Vu,G0,N0,I0,km,im,f1,um,Em,Rv,Q1,g1,jy,Qv,fv,ay,Fv,D1,kv,sy,z1,qv,Pv=0;const mv=new Uint8Array(4);let $v,h2;const W2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(H0(Ql)||!Ql.output||!Ql.input&&Ql.avail_in!==0)return gp;Vu=Ql.state,Vu.mode===Hp&&(Vu.mode=Qp),km=Ql.next_out,N0=Ql.output,f1=Ql.avail_out,I0=Ql.next_in,G0=Ql.input,im=Ql.avail_in,um=Vu.hold,Em=Vu.bits,Rv=im,Q1=f1,qv=lp;e:for(;;)switch(Vu.mode){case Tp:if(Vu.wrap===0){Vu.mode=Qp;break}for(;Em<16;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(2&Vu.wrap&&um===35615){Vu.wbits===0&&(Vu.wbits=15),Vu.check=0,mv[0]=255&um,mv[1]=um>>>8&255,Vu.check=Am(Vu.check,mv,2,0),um=0,Em=0,Vu.mode=16181;break}if(Vu.head&&(Vu.head.done=!1),!(1&Vu.wrap)||(((255&um)<<8)+(um>>8))%31){Ql.msg="incorrect header check",Vu.mode=q0;break}if((15&um)!==wp){Ql.msg="unknown compression method",Vu.mode=q0;break}if(um>>>=4,Em-=4,z1=8+(15&um),Vu.wbits===0&&(Vu.wbits=z1),z1>15||z1>Vu.wbits){Ql.msg="invalid window size",Vu.mode=q0;break}Vu.dmax=1<<Vu.wbits,Vu.flags=0,Ql.adler=Vu.check=1,Vu.mode=512&um?16189:Hp,um=0,Em=0;break;case 16181:for(;Em<16;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(Vu.flags=um,(255&Vu.flags)!==wp){Ql.msg="unknown compression method",Vu.mode=q0;break}if(57344&Vu.flags){Ql.msg="unknown header flags set",Vu.mode=q0;break}Vu.head&&(Vu.head.text=um>>8&1),512&Vu.flags&&4&Vu.wrap&&(mv[0]=255&um,mv[1]=um>>>8&255,Vu.check=Am(Vu.check,mv,2,0)),um=0,Em=0,Vu.mode=16182;case 16182:for(;Em<32;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}Vu.head&&(Vu.head.time=um),512&Vu.flags&&4&Vu.wrap&&(mv[0]=255&um,mv[1]=um>>>8&255,mv[2]=um>>>16&255,mv[3]=um>>>24&255,Vu.check=Am(Vu.check,mv,4,0)),um=0,Em=0,Vu.mode=16183;case 16183:for(;Em<16;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}Vu.head&&(Vu.head.xflags=255&um,Vu.head.os=um>>8),512&Vu.flags&&4&Vu.wrap&&(mv[0]=255&um,mv[1]=um>>>8&255,Vu.check=Am(Vu.check,mv,2,0)),um=0,Em=0,Vu.mode=16184;case 16184:if(1024&Vu.flags){for(;Em<16;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}Vu.length=um,Vu.head&&(Vu.head.extra_len=um),512&Vu.flags&&4&Vu.wrap&&(mv[0]=255&um,mv[1]=um>>>8&255,Vu.check=Am(Vu.check,mv,2,0)),um=0,Em=0}else Vu.head&&(Vu.head.extra=null);Vu.mode=16185;case 16185:if(1024&Vu.flags&&(g1=Vu.length,g1>im&&(g1=im),g1&&(Vu.head&&(z1=Vu.head.extra_len-Vu.length,Vu.head.extra||(Vu.head.extra=new Uint8Array(Vu.head.extra_len)),Vu.head.extra.set(G0.subarray(I0,I0+g1),z1)),512&Vu.flags&&4&Vu.wrap&&(Vu.check=Am(Vu.check,G0,g1,I0)),im-=g1,I0+=g1,Vu.length-=g1),Vu.length))break e;Vu.length=0,Vu.mode=16186;case 16186:if(2048&Vu.flags){if(im===0)break e;g1=0;do z1=G0[I0+g1++],Vu.head&&z1&&Vu.length<65536&&(Vu.head.name+=String.fromCharCode(z1));while(z1&&g1<im);if(512&Vu.flags&&4&Vu.wrap&&(Vu.check=Am(Vu.check,G0,g1,I0)),im-=g1,I0+=g1,z1)break e}else Vu.head&&(Vu.head.name=null);Vu.length=0,Vu.mode=16187;case 16187:if(4096&Vu.flags){if(im===0)break e;g1=0;do z1=G0[I0+g1++],Vu.head&&z1&&Vu.length<65536&&(Vu.head.comment+=String.fromCharCode(z1));while(z1&&g1<im);if(512&Vu.flags&&4&Vu.wrap&&(Vu.check=Am(Vu.check,G0,g1,I0)),im-=g1,I0+=g1,z1)break e}else Vu.head&&(Vu.head.comment=null);Vu.mode=16188;case 16188:if(512&Vu.flags){for(;Em<16;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(4&Vu.wrap&&um!==(65535&Vu.check)){Ql.msg="header crc mismatch",Vu.mode=q0;break}um=0,Em=0}Vu.head&&(Vu.head.hcrc=Vu.flags>>9&1,Vu.head.done=!0),Ql.adler=Vu.check=0,Vu.mode=Hp;break;case 16189:for(;Em<32;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}Ql.adler=Vu.check=Z0(um),um=0,Em=0,Vu.mode=Mp;case Mp:if(Vu.havedict===0)return Ql.next_out=km,Ql.avail_out=f1,Ql.next_in=I0,Ql.avail_in=im,Vu.hold=um,Vu.bits=Em,_d;Ql.adler=Vu.check=1,Vu.mode=Hp;case Hp:if($p===tp||$p===Du)break e;case Qp:if(Vu.last){um>>>=7&Em,Em-=7&Em,Vu.mode=B0;break}for(;Em<3;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}switch(Vu.last=1&um,um>>>=1,Em-=1,3&um){case 0:Vu.mode=16193;break;case 1:if(p1(Vu),Vu.mode=w0,$p===Du){um>>>=2,Em-=2;break e}break;case 2:Vu.mode=16196;break;case 3:Ql.msg="invalid block type",Vu.mode=q0}um>>>=2,Em-=2;break;case 16193:for(um>>>=7&Em,Em-=7&Em;Em<32;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if((65535&um)!=(um>>>16^65535)){Ql.msg="invalid stored block lengths",Vu.mode=q0;break}if(Vu.length=65535&um,um=0,Em=0,Vu.mode=i0,$p===Du)break e;case i0:Vu.mode=16195;case 16195:if(g1=Vu.length,g1){if(g1>im&&(g1=im),g1>f1&&(g1=f1),g1===0)break e;N0.set(G0.subarray(I0,I0+g1),km),im-=g1,I0+=g1,f1-=g1,km+=g1,Vu.length-=g1;break}Vu.mode=Hp;break;case 16196:for(;Em<14;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(Vu.nlen=257+(31&um),um>>>=5,Em-=5,Vu.ndist=1+(31&um),um>>>=5,Em-=5,Vu.ncode=4+(15&um),um>>>=4,Em-=4,Vu.nlen>286||Vu.ndist>30){Ql.msg="too many length or distance symbols",Vu.mode=q0;break}Vu.have=0,Vu.mode=16197;case 16197:for(;Vu.have<Vu.ncode;){for(;Em<3;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}Vu.lens[W2[Vu.have++]]=7&um,um>>>=3,Em-=3}for(;Vu.have<19;)Vu.lens[W2[Vu.have++]]=0;if(Vu.lencode=Vu.lendyn,Vu.lenbits=7,$v={bits:Vu.lenbits},qv=zl(0,Vu.lens,0,19,Vu.lencode,0,Vu.work,$v),Vu.lenbits=$v.bits,qv){Ql.msg="invalid code lengths set",Vu.mode=q0;break}Vu.have=0,Vu.mode=16198;case 16198:for(;Vu.have<Vu.nlen+Vu.ndist;){for(;Pv=Vu.lencode[um&(1<<Vu.lenbits)-1],fv=Pv>>>24,ay=Pv>>>16&255,Fv=65535&Pv,!(fv<=Em);){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(Fv<16)um>>>=fv,Em-=fv,Vu.lens[Vu.have++]=Fv;else{if(Fv===16){for(h2=fv+2;Em<h2;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(um>>>=fv,Em-=fv,Vu.have===0){Ql.msg="invalid bit length repeat",Vu.mode=q0;break}z1=Vu.lens[Vu.have-1],g1=3+(3&um),um>>>=2,Em-=2}else if(Fv===17){for(h2=fv+3;Em<h2;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}um>>>=fv,Em-=fv,z1=0,g1=3+(7&um),um>>>=3,Em-=3}else{for(h2=fv+7;Em<h2;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}um>>>=fv,Em-=fv,z1=0,g1=11+(127&um),um>>>=7,Em-=7}if(Vu.have+g1>Vu.nlen+Vu.ndist){Ql.msg="invalid bit length repeat",Vu.mode=q0;break}for(;g1--;)Vu.lens[Vu.have++]=z1}}if(Vu.mode===q0)break;if(Vu.lens[256]===0){Ql.msg="invalid code -- missing end-of-block",Vu.mode=q0;break}if(Vu.lenbits=9,$v={bits:Vu.lenbits},qv=zl(1,Vu.lens,0,Vu.nlen,Vu.lencode,0,Vu.work,$v),Vu.lenbits=$v.bits,qv){Ql.msg="invalid literal/lengths set",Vu.mode=q0;break}if(Vu.distbits=6,Vu.distcode=Vu.distdyn,$v={bits:Vu.distbits},qv=zl(2,Vu.lens,Vu.nlen,Vu.ndist,Vu.distcode,0,Vu.work,$v),Vu.distbits=$v.bits,qv){Ql.msg="invalid distances set",Vu.mode=q0;break}if(Vu.mode=w0,$p===Du)break e;case w0:Vu.mode=m0;case m0:if(im>=6&&f1>=258){Ql.next_out=km,Ql.avail_out=f1,Ql.next_in=I0,Ql.avail_in=im,Vu.hold=um,Vu.bits=Em,hy(Ql,Q1),km=Ql.next_out,N0=Ql.output,f1=Ql.avail_out,I0=Ql.next_in,G0=Ql.input,im=Ql.avail_in,um=Vu.hold,Em=Vu.bits,Vu.mode===Hp&&(Vu.back=-1);break}for(Vu.back=0;Pv=Vu.lencode[um&(1<<Vu.lenbits)-1],fv=Pv>>>24,ay=Pv>>>16&255,Fv=65535&Pv,!(fv<=Em);){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(ay&&!(240&ay)){for(D1=fv,kv=ay,sy=Fv;Pv=Vu.lencode[sy+((um&(1<<D1+kv)-1)>>D1)],fv=Pv>>>24,ay=Pv>>>16&255,Fv=65535&Pv,!(D1+fv<=Em);){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}um>>>=D1,Em-=D1,Vu.back+=D1}if(um>>>=fv,Em-=fv,Vu.back+=fv,Vu.length=Fv,ay===0){Vu.mode=16205;break}if(32&ay){Vu.back=-1,Vu.mode=Hp;break}if(64&ay){Ql.msg="invalid literal/length code",Vu.mode=q0;break}Vu.extra=15&ay,Vu.mode=16201;case 16201:if(Vu.extra){for(h2=Vu.extra;Em<h2;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}Vu.length+=um&(1<<Vu.extra)-1,um>>>=Vu.extra,Em-=Vu.extra,Vu.back+=Vu.extra}Vu.was=Vu.length,Vu.mode=16202;case 16202:for(;Pv=Vu.distcode[um&(1<<Vu.distbits)-1],fv=Pv>>>24,ay=Pv>>>16&255,Fv=65535&Pv,!(fv<=Em);){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(!(240&ay)){for(D1=fv,kv=ay,sy=Fv;Pv=Vu.distcode[sy+((um&(1<<D1+kv)-1)>>D1)],fv=Pv>>>24,ay=Pv>>>16&255,Fv=65535&Pv,!(D1+fv<=Em);){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}um>>>=D1,Em-=D1,Vu.back+=D1}if(um>>>=fv,Em-=fv,Vu.back+=fv,64&ay){Ql.msg="invalid distance code",Vu.mode=q0;break}Vu.offset=Fv,Vu.extra=15&ay,Vu.mode=16203;case 16203:if(Vu.extra){for(h2=Vu.extra;Em<h2;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}Vu.offset+=um&(1<<Vu.extra)-1,um>>>=Vu.extra,Em-=Vu.extra,Vu.back+=Vu.extra}if(Vu.offset>Vu.dmax){Ql.msg="invalid distance too far back",Vu.mode=q0;break}Vu.mode=16204;case 16204:if(f1===0)break e;if(g1=Q1-f1,Vu.offset>g1){if(g1=Vu.offset-g1,g1>Vu.whave&&Vu.sane){Ql.msg="invalid distance too far back",Vu.mode=q0;break}g1>Vu.wnext?(g1-=Vu.wnext,jy=Vu.wsize-g1):jy=Vu.wnext-g1,g1>Vu.length&&(g1=Vu.length),Qv=Vu.window}else Qv=N0,jy=km-Vu.offset,g1=Vu.length;g1>f1&&(g1=f1),f1-=g1,Vu.length-=g1;do N0[km++]=Qv[jy++];while(--g1);Vu.length===0&&(Vu.mode=m0);break;case 16205:if(f1===0)break e;N0[km++]=Vu.length,f1--,Vu.mode=m0;break;case B0:if(Vu.wrap){for(;Em<32;){if(im===0)break e;im--,um|=G0[I0++]<<Em,Em+=8}if(Q1-=f1,Ql.total_out+=Q1,Vu.total+=Q1,4&Vu.wrap&&Q1&&(Ql.adler=Vu.check=Vu.flags?Am(Vu.check,N0,Q1,km-Q1):V0(Vu.check,N0,Q1,km-Q1)),Q1=f1,4&Vu.wrap&&(Vu.flags?um:Z0(um))!==Vu.check){Ql.msg="incorrect data check",Vu.mode=q0;break}um=0,Em=0}Vu.mode=16207;case 16207:if(Vu.wrap&&Vu.flags){for(;Em<32;){if(im===0)break e;im--,um+=G0[I0++]<<Em,Em+=8}if(4&Vu.wrap&&um!==(4294967295&Vu.total)){Ql.msg="incorrect length check",Vu.mode=q0;break}um=0,Em=0}Vu.mode=16208;case 16208:qv=up;break e;case q0:qv=mp;break e;case 16210:return Rp;default:return gp}return Ql.next_out=km,Ql.avail_out=f1,Ql.next_in=I0,Ql.avail_in=im,Vu.hold=um,Vu.bits=Em,(Vu.wsize||Q1!==Ql.avail_out&&Vu.mode<q0&&(Vu.mode<B0||$p!==Vl))&&Cm(Ql,Ql.output,Ql.next_out,Q1-Ql.avail_out),Rv-=Ql.avail_in,Q1-=Ql.avail_out,Ql.total_in+=Rv,Ql.total_out+=Q1,Vu.total+=Q1,4&Vu.wrap&&Q1&&(Ql.adler=Vu.check=Vu.flags?Am(Vu.check,N0,Q1,Ql.next_out-Q1):V0(Vu.check,N0,Q1,Ql.next_out-Q1)),Ql.data_type=Vu.bits+(Vu.last?64:0)+(Vu.mode===Hp?128:0)+(Vu.mode===w0||Vu.mode===i0?256:0),(Rv===0&&Q1===0||$p===Vl)&&qv===lp&&(qv=Ep),qv},inflateEnd:Ql=>{if(H0(Ql))return gp;let $p=Ql.state;return $p.window&&($p.window=null),Ql.state=null,lp},inflateGetHeader:(Ql,$p)=>{if(H0(Ql))return gp;const Vu=Ql.state;return 2&Vu.wrap?(Vu.head=$p,$p.done=!1,lp):gp},inflateSetDictionary:(Ql,$p)=>{const Vu=$p.length;let G0,N0,I0;return H0(Ql)?gp:(G0=Ql.state,G0.wrap!==0&&G0.mode!==Mp?gp:G0.mode===Mp&&(N0=1,N0=V0(N0,$p,Vu,0),N0!==G0.check)?mp:(I0=Cm(Ql,$p,Vu,Vu),I0?(G0.mode=16210,Rp):(G0.havedict=1,lp)))},inflateInfo:"pako inflate (from Nodeca project)"},y1=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Zm=Object.prototype.toString,{Z_NO_FLUSH:w1,Z_FINISH:S1,Z_OK:Ym,Z_STREAM_END:P1,Z_NEED_DICT:av,Z_STREAM_ERROR:T1,Z_DATA_ERROR:t1,Z_MEM_ERROR:gv}=Rm;function K1(Ql){this.options=zy({chunkSize:65536,windowBits:15,to:""},Ql||{});const $p=this.options;$p.raw&&$p.windowBits>=0&&$p.windowBits<16&&($p.windowBits=-$p.windowBits,$p.windowBits===0&&($p.windowBits=-15)),!($p.windowBits>=0&&$p.windowBits<16)||Ql&&Ql.windowBits||($p.windowBits+=32),$p.windowBits>15&&$p.windowBits<48&&(15&$p.windowBits||($p.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new om,this.strm.avail_out=0;let Vu=Pm.inflateInit2(this.strm,$p.windowBits);if(Vu!==Ym)throw new Error(am[Vu]);if(this.header=new y1,Pm.inflateGetHeader(this.strm,this.header),$p.dictionary&&(typeof $p.dictionary=="string"?$p.dictionary=t0($p.dictionary):Zm.call($p.dictionary)==="[object ArrayBuffer]"&&($p.dictionary=new Uint8Array($p.dictionary)),$p.raw&&(Vu=Pm.inflateSetDictionary(this.strm,$p.dictionary),Vu!==Ym)))throw new Error(am[Vu])}function sv(Ql,$p){const Vu=new K1($p);if(Vu.push(Ql),Vu.err)throw Vu.msg||am[Vu.err];return Vu.result}K1.prototype.push=function(Ql,$p){const Vu=this.strm,G0=this.options.chunkSize,N0=this.options.dictionary;let I0,km,im;if(this.ended)return!1;for(km=$p===~~$p?$p:$p===!0?S1:w1,Zm.call(Ql)==="[object ArrayBuffer]"?Vu.input=new Uint8Array(Ql):Vu.input=Ql,Vu.next_in=0,Vu.avail_in=Vu.input.length;;){for(Vu.avail_out===0&&(Vu.output=new Uint8Array(G0),Vu.next_out=0,Vu.avail_out=G0),I0=Pm.inflate(Vu,km),I0===av&&N0&&(I0=Pm.inflateSetDictionary(Vu,N0),I0===Ym?I0=Pm.inflate(Vu,km):I0===t1&&(I0=av));Vu.avail_in>0&&I0===P1&&Vu.state.wrap>0&&Ql[Vu.next_in]!==0;)Pm.inflateReset(Vu),I0=Pm.inflate(Vu,km);switch(I0){case T1:case t1:case av:case gv:return this.onEnd(I0),this.ended=!0,!1}if(im=Vu.avail_out,Vu.next_out&&(Vu.avail_out===0||I0===P1))if(this.options.to==="string"){let f1=dm(Vu.output,Vu.next_out),um=Vu.next_out-f1,Em=z0(Vu.output,f1);Vu.next_out=um,Vu.avail_out=G0-um,um&&Vu.output.set(Vu.output.subarray(f1,f1+um),0),this.onData(Em)}else this.onData(Vu.output.length===Vu.next_out?Vu.output:Vu.output.subarray(0,Vu.next_out));if(I0!==Ym||im!==0){if(I0===P1)return I0=Pm.inflateEnd(this.strm),this.onEnd(I0),this.ended=!0,!0;if(Vu.avail_in===0)break}}return!0},K1.prototype.onData=function(Ql){this.chunks.push(Ql)},K1.prototype.onEnd=function(Ql){Ql===Ym&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=z2(this.chunks)),this.chunks=[],this.err=Ql,this.msg=this.strm.msg};var U1={Inflate:K1,inflate:sv,inflateRaw:function(Ql,$p){return($p=$p||{}).raw=!0,sv(Ql,$p)},ungzip:sv};const{Deflate:Sv,deflate:Uv,deflateRaw:vy,gzip:py}=Vv,{Inflate:Hy,inflate:Ry,inflateRaw:Zv,ungzip:Yy}=U1;var Ey=Sv,Fy=Uv,Gy=vy,a2=py,Jy=Hy,v2=Ry,ty=Zv,Cy=Yy,My=Rm,Ay={Deflate:Sv,deflate:Uv,deflateRaw:vy,gzip:py,Inflate:Hy,inflate:Ry,inflateRaw:Zv,ungzip:Yy,constants:Rm}},99:(e,o,a)=>{a.r(o),a.d(o,{Cylinder:()=>b,Sphere:()=>d,Triangle:()=>$});var c=a(529);class d{constructor(rt={x:0,y:0,z:0},nt=0){this.center=new c.Vector3(rt.x,rt.y,rt.z),this.radius=nt}set(rt,nt){return this.center.copy(rt),this.radius=nt,this}copy(rt){return this.center.copy(rt.center),this.radius=rt.radius,this}applyMatrix4(rt){return this.center.applyMatrix4(rt),this.radius=this.radius*rt.getMaxScaleOnAxis(),this}translate(rt){return this.center.add(rt),this}equals(rt){return rt.center.equals(this.center)&&rt.radius===this.radius}clone(){return new d().copy(this)}}let g=new c.Vector3;class b{constructor(rt=new c.Vector3,nt=new c.Vector3,In=0){this.c1=rt,this.c2=nt,this.radius=In,this.direction=new c.Vector3().subVectors(this.c2,this.c1).normalize()}copy(rt){return this.c1.copy(rt.c1),this.c2.copy(rt.c2),this.direction.copy(rt.direction),this.radius=rt.radius,this}lengthSq(){return g.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(rt){return this.direction.add(this.c1).applyMatrix4(rt),this.c1.applyMatrix4(rt),this.c2.applyMatrix4(rt),this.direction.sub(this.c1).normalize(),this.radius=this.radius*rt.getMaxScaleOnAxis(),this}}const _=new c.Vector3;class ${constructor(rt=new c.Vector3,nt=new c.Vector3,In=new c.Vector3){this.a=rt,this.b=nt,this.c=In}copy(rt){return this.a.copy(rt.a),this.b.copy(rt.b),this.c.copy(rt.c),this}applyMatrix4(rt){return this.a.applyMatrix4(rt),this.b.applyMatrix4(rt),this.c.applyMatrix4(rt),this}getNormal(){var rt=this.a.clone();return rt.sub(this.b),_.subVectors(this.c,this.b),rt.cross(_),rt.normalize(),rt}}},107:(e,o,a)=>{var c,d=a(981),g=a(697),b=a(701),_=a(407),$=a(834),j=-2,rt=258,nt=262,In=103,xl=113,Ll=666;function Nl(dp,S0){return dp.msg=$[S0],S0}function _u(dp){return(dp<<1)-(dp>4?9:0)}function Yl(dp){for(var S0=dp.length;--S0>=0;)dp[S0]=0}function Ul(dp){var S0=dp.state,l0=S0.pending;l0>dp.avail_out&&(l0=dp.avail_out),l0!==0&&(d.arraySet(dp.output,S0.pending_buf,S0.pending_out,l0,dp.next_out),dp.next_out+=l0,S0.pending_out+=l0,dp.total_out+=l0,dp.avail_out-=l0,S0.pending-=l0,S0.pending===0&&(S0.pending_out=0))}function Dl(dp,S0){g._tr_flush_block(dp,dp.block_start>=0?dp.block_start:-1,dp.strstart-dp.block_start,S0),dp.block_start=dp.strstart,Ul(dp.strm)}function Zl(dp,S0){dp.pending_buf[dp.pending++]=S0}function Ju(dp,S0){dp.pending_buf[dp.pending++]=S0>>>8&255,dp.pending_buf[dp.pending++]=255&S0}function Uu(dp,S0,l0,Op){var Wp=dp.avail_in;return Wp>Op&&(Wp=Op),Wp===0?0:(dp.avail_in-=Wp,d.arraySet(S0,dp.input,dp.next_in,Wp,l0),dp.state.wrap===1?dp.adler=b(dp.adler,S0,Wp,l0):dp.state.wrap===2&&(dp.adler=_(dp.adler,S0,Wp,l0)),dp.next_in+=Wp,dp.total_in+=Wp,Wp)}function fp(dp,S0){var l0,Op,Wp=dp.max_chain_length,mm=dp.strstart,fm=dp.prev_length,g0=dp.nice_match,e0=dp.strstart>dp.w_size-nt?dp.strstart-(dp.w_size-nt):0,V0=dp.window,ym=dp.w_mask,Am=dp.prev,am=dp.strstart+rt,Rm=V0[mm+fm-1],Lm=V0[mm+fm];dp.prev_length>=dp.good_match&&(Wp>>=2),g0>dp.lookahead&&(g0=dp.lookahead);do if(V0[(l0=S0)+fm]===Lm&&V0[l0+fm-1]===Rm&&V0[l0]===V0[mm]&&V0[++l0]===V0[mm+1]){mm+=2,l0++;do;while(V0[++mm]===V0[++l0]&&V0[++mm]===V0[++l0]&&V0[++mm]===V0[++l0]&&V0[++mm]===V0[++l0]&&V0[++mm]===V0[++l0]&&V0[++mm]===V0[++l0]&&V0[++mm]===V0[++l0]&&V0[++mm]===V0[++l0]&&mm<am);if(Op=rt-(am-mm),mm=am-rt,Op>fm){if(dp.match_start=S0,fm=Op,Op>=g0)break;Rm=V0[mm+fm-1],Lm=V0[mm+fm]}}while((S0=Am[S0&ym])>e0&&--Wp!==0);return fm<=dp.lookahead?fm:dp.lookahead}function Zu(dp){var S0,l0,Op,Wp,mm,fm=dp.w_size;do{if(Wp=dp.window_size-dp.lookahead-dp.strstart,dp.strstart>=fm+(fm-nt)){d.arraySet(dp.window,dp.window,fm,fm,0),dp.match_start-=fm,dp.strstart-=fm,dp.block_start-=fm,S0=l0=dp.hash_size;do Op=dp.head[--S0],dp.head[S0]=Op>=fm?Op-fm:0;while(--l0);S0=l0=fm;do Op=dp.prev[--S0],dp.prev[S0]=Op>=fm?Op-fm:0;while(--l0);Wp+=fm}if(dp.strm.avail_in===0)break;if(l0=Uu(dp.strm,dp.window,dp.strstart+dp.lookahead,Wp),dp.lookahead+=l0,dp.lookahead+dp.insert>=3)for(mm=dp.strstart-dp.insert,dp.ins_h=dp.window[mm],dp.ins_h=(dp.ins_h<<dp.hash_shift^dp.window[mm+1])&dp.hash_mask;dp.insert&&(dp.ins_h=(dp.ins_h<<dp.hash_shift^dp.window[mm+3-1])&dp.hash_mask,dp.prev[mm&dp.w_mask]=dp.head[dp.ins_h],dp.head[dp.ins_h]=mm,mm++,dp.insert--,!(dp.lookahead+dp.insert<3)););}while(dp.lookahead<nt&&dp.strm.avail_in!==0)}function Lp(dp,S0){for(var l0,Op;;){if(dp.lookahead<nt){if(Zu(dp),dp.lookahead<nt&&S0===0)return 1;if(dp.lookahead===0)break}if(l0=0,dp.lookahead>=3&&(dp.ins_h=(dp.ins_h<<dp.hash_shift^dp.window[dp.strstart+3-1])&dp.hash_mask,l0=dp.prev[dp.strstart&dp.w_mask]=dp.head[dp.ins_h],dp.head[dp.ins_h]=dp.strstart),l0!==0&&dp.strstart-l0<=dp.w_size-nt&&(dp.match_length=fp(dp,l0)),dp.match_length>=3)if(Op=g._tr_tally(dp,dp.strstart-dp.match_start,dp.match_length-3),dp.lookahead-=dp.match_length,dp.match_length<=dp.max_lazy_match&&dp.lookahead>=3){dp.match_length--;do dp.strstart++,dp.ins_h=(dp.ins_h<<dp.hash_shift^dp.window[dp.strstart+3-1])&dp.hash_mask,l0=dp.prev[dp.strstart&dp.w_mask]=dp.head[dp.ins_h],dp.head[dp.ins_h]=dp.strstart;while(--dp.match_length!==0);dp.strstart++}else dp.strstart+=dp.match_length,dp.match_length=0,dp.ins_h=dp.window[dp.strstart],dp.ins_h=(dp.ins_h<<dp.hash_shift^dp.window[dp.strstart+1])&dp.hash_mask;else Op=g._tr_tally(dp,0,dp.window[dp.strstart]),dp.lookahead--,dp.strstart++;if(Op&&(Dl(dp,!1),dp.strm.avail_out===0))return 1}return dp.insert=dp.strstart<2?dp.strstart:2,S0===4?(Dl(dp,!0),dp.strm.avail_out===0?3:4):dp.last_lit&&(Dl(dp,!1),dp.strm.avail_out===0)?1:2}function Np(dp,S0){for(var l0,Op,Wp;;){if(dp.lookahead<nt){if(Zu(dp),dp.lookahead<nt&&S0===0)return 1;if(dp.lookahead===0)break}if(l0=0,dp.lookahead>=3&&(dp.ins_h=(dp.ins_h<<dp.hash_shift^dp.window[dp.strstart+3-1])&dp.hash_mask,l0=dp.prev[dp.strstart&dp.w_mask]=dp.head[dp.ins_h],dp.head[dp.ins_h]=dp.strstart),dp.prev_length=dp.match_length,dp.prev_match=dp.match_start,dp.match_length=2,l0!==0&&dp.prev_length<dp.max_lazy_match&&dp.strstart-l0<=dp.w_size-nt&&(dp.match_length=fp(dp,l0),dp.match_length<=5&&(dp.strategy===1||dp.match_length===3&&dp.strstart-dp.match_start>4096)&&(dp.match_length=2)),dp.prev_length>=3&&dp.match_length<=dp.prev_length){Wp=dp.strstart+dp.lookahead-3,Op=g._tr_tally(dp,dp.strstart-1-dp.prev_match,dp.prev_length-3),dp.lookahead-=dp.prev_length-1,dp.prev_length-=2;do++dp.strstart<=Wp&&(dp.ins_h=(dp.ins_h<<dp.hash_shift^dp.window[dp.strstart+3-1])&dp.hash_mask,l0=dp.prev[dp.strstart&dp.w_mask]=dp.head[dp.ins_h],dp.head[dp.ins_h]=dp.strstart);while(--dp.prev_length!==0);if(dp.match_available=0,dp.match_length=2,dp.strstart++,Op&&(Dl(dp,!1),dp.strm.avail_out===0))return 1}else if(dp.match_available){if((Op=g._tr_tally(dp,0,dp.window[dp.strstart-1]))&&Dl(dp,!1),dp.strstart++,dp.lookahead--,dp.strm.avail_out===0)return 1}else dp.match_available=1,dp.strstart++,dp.lookahead--}return dp.match_available&&(Op=g._tr_tally(dp,0,dp.window[dp.strstart-1]),dp.match_available=0),dp.insert=dp.strstart<2?dp.strstart:2,S0===4?(Dl(dp,!0),dp.strm.avail_out===0?3:4):dp.last_lit&&(Dl(dp,!1),dp.strm.avail_out===0)?1:2}function zp(dp,S0,l0,Op,Wp){this.good_length=dp,this.max_lazy=S0,this.nice_length=l0,this.max_chain=Op,this.func=Wp}function h0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(1146),this.dyn_dtree=new d.Buf16(122),this.bl_tree=new d.Buf16(78),Yl(this.dyn_ltree),Yl(this.dyn_dtree),Yl(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(16),this.heap=new d.Buf16(573),Yl(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(573),Yl(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k0(dp){var S0;return dp&&dp.state?(dp.total_in=dp.total_out=0,dp.data_type=2,(S0=dp.state).pending=0,S0.pending_out=0,S0.wrap<0&&(S0.wrap=-S0.wrap),S0.status=S0.wrap?42:xl,dp.adler=S0.wrap===2?0:1,S0.last_flush=0,g._tr_init(S0),0):Nl(dp,j)}function D0(dp){var S0,l0=k0(dp);return l0===0&&((S0=dp.state).window_size=2*S0.w_size,Yl(S0.head),S0.max_lazy_match=c[S0.level].max_lazy,S0.good_match=c[S0.level].good_length,S0.nice_match=c[S0.level].nice_length,S0.max_chain_length=c[S0.level].max_chain,S0.strstart=0,S0.block_start=0,S0.lookahead=0,S0.insert=0,S0.match_length=S0.prev_length=2,S0.match_available=0,S0.ins_h=0),l0}function s0(dp,S0,l0,Op,Wp,mm){if(!dp)return j;var fm=1;if(S0===-1&&(S0=6),Op<0?(fm=0,Op=-Op):Op>15&&(fm=2,Op-=16),Wp<1||Wp>9||l0!==8||Op<8||Op>15||S0<0||S0>9||mm<0||mm>4)return Nl(dp,j);Op===8&&(Op=9);var g0=new h0;return dp.state=g0,g0.strm=dp,g0.wrap=fm,g0.gzhead=null,g0.w_bits=Op,g0.w_size=1<<g0.w_bits,g0.w_mask=g0.w_size-1,g0.hash_bits=Wp+7,g0.hash_size=1<<g0.hash_bits,g0.hash_mask=g0.hash_size-1,g0.hash_shift=~~((g0.hash_bits+3-1)/3),g0.window=new d.Buf8(2*g0.w_size),g0.head=new d.Buf16(g0.hash_size),g0.prev=new d.Buf16(g0.w_size),g0.lit_bufsize=1<<Wp+6,g0.pending_buf_size=4*g0.lit_bufsize,g0.pending_buf=new d.Buf8(g0.pending_buf_size),g0.d_buf=1*g0.lit_bufsize,g0.l_buf=3*g0.lit_bufsize,g0.level=S0,g0.strategy=mm,g0.method=l0,D0(dp)}c=[new zp(0,0,0,0,function(dp,S0){var l0=65535;for(l0>dp.pending_buf_size-5&&(l0=dp.pending_buf_size-5);;){if(dp.lookahead<=1){if(Zu(dp),dp.lookahead===0&&S0===0)return 1;if(dp.lookahead===0)break}dp.strstart+=dp.lookahead,dp.lookahead=0;var Op=dp.block_start+l0;if((dp.strstart===0||dp.strstart>=Op)&&(dp.lookahead=dp.strstart-Op,dp.strstart=Op,Dl(dp,!1),dp.strm.avail_out===0)||dp.strstart-dp.block_start>=dp.w_size-nt&&(Dl(dp,!1),dp.strm.avail_out===0))return 1}return dp.insert=0,S0===4?(Dl(dp,!0),dp.strm.avail_out===0?3:4):(dp.strstart>dp.block_start&&(Dl(dp,!1),dp.strm.avail_out),1)}),new zp(4,4,8,4,Lp),new zp(4,5,16,8,Lp),new zp(4,6,32,32,Lp),new zp(4,4,16,16,Np),new zp(8,16,32,32,Np),new zp(8,16,128,128,Np),new zp(8,32,128,256,Np),new zp(32,128,258,1024,Np),new zp(32,258,258,4096,Np)],o.deflateInit=function(dp,S0){return s0(dp,S0,8,15,8,0)},o.deflateInit2=s0,o.deflateReset=D0,o.deflateResetKeep=k0,o.deflateSetHeader=function(dp,S0){return dp&&dp.state?dp.state.wrap!==2?j:(dp.state.gzhead=S0,0):j},o.deflate=function(dp,S0){var l0,Op,Wp,mm;if(!dp||!dp.state||S0>5||S0<0)return dp?Nl(dp,j):j;if(Op=dp.state,!dp.output||!dp.input&&dp.avail_in!==0||Op.status===Ll&&S0!==4)return Nl(dp,dp.avail_out===0?-5:j);if(Op.strm=dp,l0=Op.last_flush,Op.last_flush=S0,Op.status===42)if(Op.wrap===2)dp.adler=0,Zl(Op,31),Zl(Op,139),Zl(Op,8),Op.gzhead?(Zl(Op,(Op.gzhead.text?1:0)+(Op.gzhead.hcrc?2:0)+(Op.gzhead.extra?4:0)+(Op.gzhead.name?8:0)+(Op.gzhead.comment?16:0)),Zl(Op,255&Op.gzhead.time),Zl(Op,Op.gzhead.time>>8&255),Zl(Op,Op.gzhead.time>>16&255),Zl(Op,Op.gzhead.time>>24&255),Zl(Op,Op.level===9?2:Op.strategy>=2||Op.level<2?4:0),Zl(Op,255&Op.gzhead.os),Op.gzhead.extra&&Op.gzhead.extra.length&&(Zl(Op,255&Op.gzhead.extra.length),Zl(Op,Op.gzhead.extra.length>>8&255)),Op.gzhead.hcrc&&(dp.adler=_(dp.adler,Op.pending_buf,Op.pending,0)),Op.gzindex=0,Op.status=69):(Zl(Op,0),Zl(Op,0),Zl(Op,0),Zl(Op,0),Zl(Op,0),Zl(Op,Op.level===9?2:Op.strategy>=2||Op.level<2?4:0),Zl(Op,3),Op.status=xl);else{var fm=8+(Op.w_bits-8<<4)<<8;fm|=(Op.strategy>=2||Op.level<2?0:Op.level<6?1:Op.level===6?2:3)<<6,Op.strstart!==0&&(fm|=32),fm+=31-fm%31,Op.status=xl,Ju(Op,fm),Op.strstart!==0&&(Ju(Op,dp.adler>>>16),Ju(Op,65535&dp.adler)),dp.adler=1}if(Op.status===69)if(Op.gzhead.extra){for(Wp=Op.pending;Op.gzindex<(65535&Op.gzhead.extra.length)&&(Op.pending!==Op.pending_buf_size||(Op.gzhead.hcrc&&Op.pending>Wp&&(dp.adler=_(dp.adler,Op.pending_buf,Op.pending-Wp,Wp)),Ul(dp),Wp=Op.pending,Op.pending!==Op.pending_buf_size));)Zl(Op,255&Op.gzhead.extra[Op.gzindex]),Op.gzindex++;Op.gzhead.hcrc&&Op.pending>Wp&&(dp.adler=_(dp.adler,Op.pending_buf,Op.pending-Wp,Wp)),Op.gzindex===Op.gzhead.extra.length&&(Op.gzindex=0,Op.status=73)}else Op.status=73;if(Op.status===73)if(Op.gzhead.name){Wp=Op.pending;do{if(Op.pending===Op.pending_buf_size&&(Op.gzhead.hcrc&&Op.pending>Wp&&(dp.adler=_(dp.adler,Op.pending_buf,Op.pending-Wp,Wp)),Ul(dp),Wp=Op.pending,Op.pending===Op.pending_buf_size)){mm=1;break}mm=Op.gzindex<Op.gzhead.name.length?255&Op.gzhead.name.charCodeAt(Op.gzindex++):0,Zl(Op,mm)}while(mm!==0);Op.gzhead.hcrc&&Op.pending>Wp&&(dp.adler=_(dp.adler,Op.pending_buf,Op.pending-Wp,Wp)),mm===0&&(Op.gzindex=0,Op.status=91)}else Op.status=91;if(Op.status===91)if(Op.gzhead.comment){Wp=Op.pending;do{if(Op.pending===Op.pending_buf_size&&(Op.gzhead.hcrc&&Op.pending>Wp&&(dp.adler=_(dp.adler,Op.pending_buf,Op.pending-Wp,Wp)),Ul(dp),Wp=Op.pending,Op.pending===Op.pending_buf_size)){mm=1;break}mm=Op.gzindex<Op.gzhead.comment.length?255&Op.gzhead.comment.charCodeAt(Op.gzindex++):0,Zl(Op,mm)}while(mm!==0);Op.gzhead.hcrc&&Op.pending>Wp&&(dp.adler=_(dp.adler,Op.pending_buf,Op.pending-Wp,Wp)),mm===0&&(Op.status=In)}else Op.status=In;if(Op.status===In&&(Op.gzhead.hcrc?(Op.pending+2>Op.pending_buf_size&&Ul(dp),Op.pending+2<=Op.pending_buf_size&&(Zl(Op,255&dp.adler),Zl(Op,dp.adler>>8&255),dp.adler=0,Op.status=xl)):Op.status=xl),Op.pending!==0){if(Ul(dp),dp.avail_out===0)return Op.last_flush=-1,0}else if(dp.avail_in===0&&_u(S0)<=_u(l0)&&S0!==4)return Nl(dp,-5);if(Op.status===Ll&&dp.avail_in!==0)return Nl(dp,-5);if(dp.avail_in!==0||Op.lookahead!==0||S0!==0&&Op.status!==Ll){var g0=Op.strategy===2?function(e0,V0){for(var ym;;){if(e0.lookahead===0&&(Zu(e0),e0.lookahead===0)){if(V0===0)return 1;break}if(e0.match_length=0,ym=g._tr_tally(e0,0,e0.window[e0.strstart]),e0.lookahead--,e0.strstart++,ym&&(Dl(e0,!1),e0.strm.avail_out===0))return 1}return e0.insert=0,V0===4?(Dl(e0,!0),e0.strm.avail_out===0?3:4):e0.last_lit&&(Dl(e0,!1),e0.strm.avail_out===0)?1:2}(Op,S0):Op.strategy===3?function(e0,V0){for(var ym,Am,am,Rm,Lm=e0.window;;){if(e0.lookahead<=rt){if(Zu(e0),e0.lookahead<=rt&&V0===0)return 1;if(e0.lookahead===0)break}if(e0.match_length=0,e0.lookahead>=3&&e0.strstart>0&&(Am=Lm[am=e0.strstart-1])===Lm[++am]&&Am===Lm[++am]&&Am===Lm[++am]){Rm=e0.strstart+rt;do;while(Am===Lm[++am]&&Am===Lm[++am]&&Am===Lm[++am]&&Am===Lm[++am]&&Am===Lm[++am]&&Am===Lm[++am]&&Am===Lm[++am]&&Am===Lm[++am]&&am<Rm);e0.match_length=rt-(Rm-am),e0.match_length>e0.lookahead&&(e0.match_length=e0.lookahead)}if(e0.match_length>=3?(ym=g._tr_tally(e0,1,e0.match_length-3),e0.lookahead-=e0.match_length,e0.strstart+=e0.match_length,e0.match_length=0):(ym=g._tr_tally(e0,0,e0.window[e0.strstart]),e0.lookahead--,e0.strstart++),ym&&(Dl(e0,!1),e0.strm.avail_out===0))return 1}return e0.insert=0,V0===4?(Dl(e0,!0),e0.strm.avail_out===0?3:4):e0.last_lit&&(Dl(e0,!1),e0.strm.avail_out===0)?1:2}(Op,S0):c[Op.level].func(Op,S0);if(g0!==3&&g0!==4||(Op.status=Ll),g0===1||g0===3)return dp.avail_out===0&&(Op.last_flush=-1),0;if(g0===2&&(S0===1?g._tr_align(Op):S0!==5&&(g._tr_stored_block(Op,0,0,!1),S0===3&&(Yl(Op.head),Op.lookahead===0&&(Op.strstart=0,Op.block_start=0,Op.insert=0))),Ul(dp),dp.avail_out===0))return Op.last_flush=-1,0}return S0!==4?0:Op.wrap<=0?1:(Op.wrap===2?(Zl(Op,255&dp.adler),Zl(Op,dp.adler>>8&255),Zl(Op,dp.adler>>16&255),Zl(Op,dp.adler>>24&255),Zl(Op,255&dp.total_in),Zl(Op,dp.total_in>>8&255),Zl(Op,dp.total_in>>16&255),Zl(Op,dp.total_in>>24&255)):(Ju(Op,dp.adler>>>16),Ju(Op,65535&dp.adler)),Ul(dp),Op.wrap>0&&(Op.wrap=-Op.wrap),Op.pending!==0?0:1)},o.deflateEnd=function(dp){var S0;return dp&&dp.state?(S0=dp.state.status)!==42&&S0!==69&&S0!==73&&S0!==91&&S0!==In&&S0!==xl&&S0!==Ll?Nl(dp,j):(dp.state=null,S0===xl?Nl(dp,-3):0):j},o.deflateSetDictionary=function(dp,S0){var l0,Op,Wp,mm,fm,g0,e0,V0,ym=S0.length;if(!dp||!dp.state||(mm=(l0=dp.state).wrap)===2||mm===1&&l0.status!==42||l0.lookahead)return j;for(mm===1&&(dp.adler=b(dp.adler,S0,ym,0)),l0.wrap=0,ym>=l0.w_size&&(mm===0&&(Yl(l0.head),l0.strstart=0,l0.block_start=0,l0.insert=0),V0=new d.Buf8(l0.w_size),d.arraySet(V0,S0,ym-l0.w_size,l0.w_size,0),S0=V0,ym=l0.w_size),fm=dp.avail_in,g0=dp.next_in,e0=dp.input,dp.avail_in=ym,dp.next_in=0,dp.input=S0,Zu(l0);l0.lookahead>=3;){Op=l0.strstart,Wp=l0.lookahead-2;do l0.ins_h=(l0.ins_h<<l0.hash_shift^l0.window[Op+3-1])&l0.hash_mask,l0.prev[Op&l0.w_mask]=l0.head[l0.ins_h],l0.head[l0.ins_h]=Op,Op++;while(--Wp);l0.strstart=Op,l0.lookahead=2,Zu(l0)}return l0.strstart+=l0.lookahead,l0.block_start=l0.strstart,l0.insert=l0.lookahead,l0.lookahead=0,l0.match_length=l0.prev_length=2,l0.match_available=0,dp.next_in=g0,dp.input=e0,dp.avail_in=fm,l0.wrap=mm,0},o.deflateInfo="pako deflate (from Nodeca project)"},111:(e,o,a)=>{var c;c={},e.exports=c,function(d,g){d.toRGBA8=function(b){var _=b.width,$=b.height;if(b.tabs.acTL==null)return[d.toRGBA8.decodeImage(b.data,_,$,b).buffer];var j=[];b.frames[0].data==null&&(b.frames[0].data=b.data);for(var rt,nt=new Uint8Array(_*$*4),In=0;In<b.frames.length;In++){var xl=b.frames[In],Ll=xl.rect.x,Nl=xl.rect.y,_u=xl.rect.width,Yl=xl.rect.height,Ul=d.toRGBA8.decodeImage(xl.data,_u,Yl,b);if(In==0?rt=Ul:xl.blend==0?d._copyTile(Ul,_u,Yl,rt,_,$,Ll,Nl,0):xl.blend==1&&d._copyTile(Ul,_u,Yl,rt,_,$,Ll,Nl,1),j.push(rt.buffer),rt=rt.slice(0),xl.dispose!=0){if(xl.dispose==1)d._copyTile(nt,_u,Yl,rt,_,$,Ll,Nl,0);else if(xl.dispose==2){for(var Dl=In-1;b.frames[Dl].dispose==2;)Dl--;rt=new Uint8Array(j[Dl]).slice(0)}}}return j},d.toRGBA8.decodeImage=function(b,_,$,j){var rt=_*$,nt=d.decode._getBPP(j),In=Math.ceil(_*nt/8),xl=new Uint8Array(4*rt),Ll=new Uint32Array(xl.buffer),Nl=j.ctype,_u=j.depth,Yl=d._bin.readUshort;if(Nl==6){var Ul=rt<<2;if(_u==8)for(var Dl=0;Dl<Ul;Dl++)xl[Dl]=b[Dl];if(_u==16)for(Dl=0;Dl<Ul;Dl++)xl[Dl]=b[Dl<<1]}else if(Nl==2){var Zl=j.tabs.tRNS,Ju=-1,Uu=-1,fp=-1;if(Zl&&(Ju=Zl[0],Uu=Zl[1],fp=Zl[2]),_u==8)for(Dl=0;Dl<rt;Dl++){var Zu=3*Dl;xl[s0=Dl<<2]=b[Zu],xl[s0+1]=b[Zu+1],xl[s0+2]=b[Zu+2],xl[s0+3]=255,Ju!=-1&&b[Zu]==Ju&&b[Zu+1]==Uu&&b[Zu+2]==fp&&(xl[s0+3]=0)}if(_u==16)for(Dl=0;Dl<rt;Dl++)Zu=6*Dl,xl[s0=Dl<<2]=b[Zu],xl[s0+1]=b[Zu+2],xl[s0+2]=b[Zu+4],xl[s0+3]=255,Ju!=-1&&Yl(b,Zu)==Ju&&Yl(b,Zu+2)==Uu&&Yl(b,Zu+4)==fp&&(xl[s0+3]=0)}else if(Nl==3){var Lp=j.tabs.PLTE,Np=j.tabs.tRNS,zp=Np?Np.length:0;if(_u==1)for(var h0=0;h0<$;h0++){var k0=h0*In,D0=h0*_;for(Dl=0;Dl<_;Dl++){var s0=D0+Dl<<2,dp=3*(S0=b[k0+(Dl>>3)]>>7-(7&Dl)&1);xl[s0]=Lp[dp],xl[s0+1]=Lp[dp+1],xl[s0+2]=Lp[dp+2],xl[s0+3]=S0<zp?Np[S0]:255}}if(_u==2)for(h0=0;h0<$;h0++)for(k0=h0*In,D0=h0*_,Dl=0;Dl<_;Dl++)s0=D0+Dl<<2,dp=3*(S0=b[k0+(Dl>>2)]>>6-((3&Dl)<<1)&3),xl[s0]=Lp[dp],xl[s0+1]=Lp[dp+1],xl[s0+2]=Lp[dp+2],xl[s0+3]=S0<zp?Np[S0]:255;if(_u==4)for(h0=0;h0<$;h0++)for(k0=h0*In,D0=h0*_,Dl=0;Dl<_;Dl++)s0=D0+Dl<<2,dp=3*(S0=b[k0+(Dl>>1)]>>4-((1&Dl)<<2)&15),xl[s0]=Lp[dp],xl[s0+1]=Lp[dp+1],xl[s0+2]=Lp[dp+2],xl[s0+3]=S0<zp?Np[S0]:255;if(_u==8)for(Dl=0;Dl<rt;Dl++){var S0;s0=Dl<<2,dp=3*(S0=b[Dl]),xl[s0]=Lp[dp],xl[s0+1]=Lp[dp+1],xl[s0+2]=Lp[dp+2],xl[s0+3]=S0<zp?Np[S0]:255}}else if(Nl==4){if(_u==8)for(Dl=0;Dl<rt;Dl++){s0=Dl<<2;var l0=b[Op=Dl<<1];xl[s0]=l0,xl[s0+1]=l0,xl[s0+2]=l0,xl[s0+3]=b[Op+1]}if(_u==16)for(Dl=0;Dl<rt;Dl++){var Op;s0=Dl<<2,l0=b[Op=Dl<<2],xl[s0]=l0,xl[s0+1]=l0,xl[s0+2]=l0,xl[s0+3]=b[Op+2]}}else if(Nl==0){if(Ju=j.tabs.tRNS?j.tabs.tRNS:-1,_u==1)for(Dl=0;Dl<rt;Dl++){var Wp=(l0=255*(b[Dl>>3]>>7-(7&Dl)&1))==255*Ju?0:255;Ll[Dl]=Wp<<24|l0<<16|l0<<8|l0}if(_u==2)for(Dl=0;Dl<rt;Dl++)Wp=(l0=85*(b[Dl>>2]>>6-((3&Dl)<<1)&3))==85*Ju?0:255,Ll[Dl]=Wp<<24|l0<<16|l0<<8|l0;if(_u==4)for(Dl=0;Dl<rt;Dl++)Wp=(l0=17*(b[Dl>>1]>>4-((1&Dl)<<2)&15))==17*Ju?0:255,Ll[Dl]=Wp<<24|l0<<16|l0<<8|l0;if(_u==8)for(Dl=0;Dl<rt;Dl++)Wp=(l0=b[Dl])==Ju?0:255,Ll[Dl]=Wp<<24|l0<<16|l0<<8|l0;if(_u==16)for(Dl=0;Dl<rt;Dl++)l0=b[Dl<<1],Wp=Yl(b,Dl<<1)==Ju?0:255,Ll[Dl]=Wp<<24|l0<<16|l0<<8|l0}return xl},d.decode=function(b){for(var _,$=new Uint8Array(b),j=8,rt=d._bin,nt=rt.readUshort,In=rt.readUint,xl={tabs:{},frames:[]},Ll=new Uint8Array($.length),Nl=0,_u=0,Yl=[137,80,78,71,13,10,26,10],Ul=0;Ul<8;Ul++)if($[Ul]!=Yl[Ul])throw"The input is not a PNG file!";for(;j<$.length;){var Dl=rt.readUint($,j);j+=4;var Zl=rt.readASCII($,j,4);if(j+=4,Zl=="IHDR")d.decode._IHDR($,j,xl);else if(Zl=="IDAT"){for(Ul=0;Ul<Dl;Ul++)Ll[Nl+Ul]=$[j+Ul];Nl+=Dl}else if(Zl=="acTL")xl.tabs[Zl]={num_frames:In($,j),num_plays:In($,j+4)},_=new Uint8Array($.length);else if(Zl=="fcTL"){_u!=0&&((k0=xl.frames[xl.frames.length-1]).data=d.decode._decompress(xl,_.slice(0,_u),k0.rect.width,k0.rect.height),_u=0);var Ju={x:In($,j+12),y:In($,j+16),width:In($,j+4),height:In($,j+8)},Uu=nt($,j+22);Uu=nt($,j+20)/(Uu==0?100:Uu);var fp={rect:Ju,delay:Math.round(1e3*Uu),dispose:$[j+24],blend:$[j+25]};xl.frames.push(fp)}else if(Zl=="fdAT"){for(Ul=0;Ul<Dl-4;Ul++)_[_u+Ul]=$[j+Ul+4];_u+=Dl-4}else if(Zl=="pHYs")xl.tabs[Zl]=[rt.readUint($,j),rt.readUint($,j+4),$[j+8]];else if(Zl=="cHRM")for(xl.tabs[Zl]=[],Ul=0;Ul<8;Ul++)xl.tabs[Zl].push(rt.readUint($,j+4*Ul));else if(Zl=="tEXt"){xl.tabs[Zl]==null&&(xl.tabs[Zl]={});var Zu=rt.nextZero($,j),Lp=rt.readASCII($,j,Zu-j),Np=rt.readASCII($,Zu+1,j+Dl-Zu-1);xl.tabs[Zl][Lp]=Np}else if(Zl=="iTXt"){xl.tabs[Zl]==null&&(xl.tabs[Zl]={}),Zu=0;var zp=j;Zu=rt.nextZero($,zp),Lp=rt.readASCII($,zp,Zu-zp),$[zp=Zu+1],$[zp+1],zp+=2,Zu=rt.nextZero($,zp),rt.readASCII($,zp,Zu-zp),zp=Zu+1,Zu=rt.nextZero($,zp),rt.readUTF8($,zp,Zu-zp),zp=Zu+1,Np=rt.readUTF8($,zp,Dl-(zp-j)),xl.tabs[Zl][Lp]=Np}else if(Zl=="PLTE")xl.tabs[Zl]=rt.readBytes($,j,Dl);else if(Zl=="hIST"){var h0=xl.tabs.PLTE.length/3;for(xl.tabs[Zl]=[],Ul=0;Ul<h0;Ul++)xl.tabs[Zl].push(nt($,j+2*Ul))}else if(Zl=="tRNS")xl.ctype==3?xl.tabs[Zl]=rt.readBytes($,j,Dl):xl.ctype==0?xl.tabs[Zl]=nt($,j):xl.ctype==2&&(xl.tabs[Zl]=[nt($,j),nt($,j+2),nt($,j+4)]);else if(Zl=="gAMA")xl.tabs[Zl]=rt.readUint($,j)/1e5;else if(Zl=="sRGB")xl.tabs[Zl]=$[j];else if(Zl=="bKGD")xl.ctype==0||xl.ctype==4?xl.tabs[Zl]=[nt($,j)]:xl.ctype==2||xl.ctype==6?xl.tabs[Zl]=[nt($,j),nt($,j+2),nt($,j+4)]:xl.ctype==3&&(xl.tabs[Zl]=$[j]);else if(Zl=="IEND"){var k0;_u!=0&&((k0=xl.frames[xl.frames.length-1]).data=d.decode._decompress(xl,_.slice(0,_u),k0.rect.width,k0.rect.height),_u=0),xl.data=d.decode._decompress(xl,Ll,xl.width,xl.height);break}j+=Dl,rt.readUint($,j),j+=4}return delete xl.compress,delete xl.interlace,delete xl.filter,xl},d.decode._decompress=function(b,_,$,j){return b.compress==0&&(_=d.decode._inflate(_)),b.interlace==0?_=d.decode._filterZero(_,b,0,$,j):b.interlace==1&&(_=d.decode._readInterlace(_,b)),_},d.decode._inflate=function(b){return g.inflate(b)},d.decode._readInterlace=function(b,_){for(var $=_.width,j=_.height,rt=d.decode._getBPP(_),nt=rt>>3,In=Math.ceil($*rt/8),xl=new Uint8Array(j*In),Ll=0,Nl=[0,0,4,0,2,0,1],_u=[0,4,0,2,0,1,0],Yl=[8,8,8,4,4,2,2],Ul=[8,8,4,4,2,2,1],Dl=0;Dl<7;){for(var Zl=Yl[Dl],Ju=Ul[Dl],Uu=0,fp=0,Zu=Nl[Dl];Zu<j;)Zu+=Zl,fp++;for(var Lp=_u[Dl];Lp<$;)Lp+=Ju,Uu++;var Np=Math.ceil(Uu*rt/8);d.decode._filterZero(b,_,Ll,Uu,fp);for(var zp=0,h0=Nl[Dl];h0<j;){for(var k0=_u[Dl],D0=Ll+zp*Np<<3;k0<$;){var s0;if(rt==1&&(s0=(s0=b[D0>>3])>>7-(7&D0)&1,xl[h0*In+(k0>>3)]|=s0<<7-(3&k0)),rt==2&&(s0=(s0=b[D0>>3])>>6-(7&D0)&3,xl[h0*In+(k0>>2)]|=s0<<6-((3&k0)<<1)),rt==4&&(s0=(s0=b[D0>>3])>>4-(7&D0)&15,xl[h0*In+(k0>>1)]|=s0<<4-((1&k0)<<2)),rt>=8)for(var dp=h0*In+k0*nt,S0=0;S0<nt;S0++)xl[dp+S0]=b[(D0>>3)+S0];D0+=rt,k0+=Ju}zp++,h0+=Zl}Uu*fp!=0&&(Ll+=fp*(1+Np)),Dl+=1}return xl},d.decode._getBPP=function(b){return[1,null,3,1,2,null,4][b.ctype]*b.depth},d.decode._filterZero=function(b,_,$,j,rt){var nt=d.decode._getBPP(_),In=Math.ceil(j*nt/8),xl=d.decode._paeth;nt=Math.ceil(nt/8);for(var Ll=0;Ll<rt;Ll++){var Nl=$+Ll*In,_u=Nl+Ll+1,Yl=b[_u-1];if(Yl==0)for(var Ul=0;Ul<In;Ul++)b[Nl+Ul]=b[_u+Ul];else if(Yl==1){for(Ul=0;Ul<nt;Ul++)b[Nl+Ul]=b[_u+Ul];for(Ul=nt;Ul<In;Ul++)b[Nl+Ul]=b[_u+Ul]+b[Nl+Ul-nt]&255}else if(Ll==0){for(Ul=0;Ul<nt;Ul++)b[Nl+Ul]=b[_u+Ul];if(Yl==2)for(Ul=nt;Ul<In;Ul++)b[Nl+Ul]=255&b[_u+Ul];if(Yl==3)for(Ul=nt;Ul<In;Ul++)b[Nl+Ul]=b[_u+Ul]+(b[Nl+Ul-nt]>>1)&255;if(Yl==4)for(Ul=nt;Ul<In;Ul++)b[Nl+Ul]=b[_u+Ul]+xl(b[Nl+Ul-nt],0,0)&255}else{if(Yl==2)for(Ul=0;Ul<In;Ul++)b[Nl+Ul]=b[_u+Ul]+b[Nl+Ul-In]&255;if(Yl==3){for(Ul=0;Ul<nt;Ul++)b[Nl+Ul]=b[_u+Ul]+(b[Nl+Ul-In]>>1)&255;for(Ul=nt;Ul<In;Ul++)b[Nl+Ul]=b[_u+Ul]+(b[Nl+Ul-In]+b[Nl+Ul-nt]>>1)&255}if(Yl==4){for(Ul=0;Ul<nt;Ul++)b[Nl+Ul]=b[_u+Ul]+xl(0,b[Nl+Ul-In],0)&255;for(Ul=nt;Ul<In;Ul++)b[Nl+Ul]=b[_u+Ul]+xl(b[Nl+Ul-nt],b[Nl+Ul-In],b[Nl+Ul-nt-In])&255}}}return b},d.decode._paeth=function(b,_,$){var j=b+_-$,rt=Math.abs(j-b),nt=Math.abs(j-_),In=Math.abs(j-$);return rt<=nt&&rt<=In?b:nt<=In?_:$},d.decode._IHDR=function(b,_,$){var j=d._bin;$.width=j.readUint(b,_),_+=4,$.height=j.readUint(b,_),_+=4,$.depth=b[_],_++,$.ctype=b[_],_++,$.compress=b[_],_++,$.filter=b[_],_++,$.interlace=b[_],_++},d._bin={nextZero:function(b,_){for(;b[_]!=0;)_++;return _},readUshort:function(b,_){return b[_]<<8|b[_+1]},writeUshort:function(b,_,$){b[_]=$>>8&255,b[_+1]=255&$},readUint:function(b,_){return 16777216*b[_]+(b[_+1]<<16|b[_+2]<<8|b[_+3])},writeUint:function(b,_,$){b[_]=$>>24&255,b[_+1]=$>>16&255,b[_+2]=$>>8&255,b[_+3]=255&$},readASCII:function(b,_,$){for(var j="",rt=0;rt<$;rt++)j+=String.fromCharCode(b[_+rt]);return j},writeASCII:function(b,_,$){for(var j=0;j<$.length;j++)b[_+j]=$.charCodeAt(j)},readBytes:function(b,_,$){for(var j=[],rt=0;rt<$;rt++)j.push(b[_+rt]);return j},pad:function(b){return b.length<2?"0"+b:b},readUTF8:function(b,_,$){for(var j,rt="",nt=0;nt<$;nt++)rt+="%"+d._bin.pad(b[_+nt].toString(16));try{j=decodeURIComponent(rt)}catch{return d._bin.readASCII(b,_,$)}return j}},d._copyTile=function(b,_,$,j,rt,nt,In,xl,Ll){for(var Nl=Math.min(_,rt),_u=Math.min($,nt),Yl=0,Ul=0,Dl=0;Dl<_u;Dl++)for(var Zl=0;Zl<Nl;Zl++)if(In>=0&&xl>=0?(Yl=Dl*_+Zl<<2,Ul=(xl+Dl)*rt+In+Zl<<2):(Yl=(-xl+Dl)*_-In+Zl<<2,Ul=Dl*rt+Zl<<2),Ll==0)j[Ul]=b[Yl],j[Ul+1]=b[Yl+1],j[Ul+2]=b[Yl+2],j[Ul+3]=b[Yl+3];else if(Ll==1){var Ju=b[Yl+3]*.00392156862745098,Uu=b[Yl]*Ju,fp=b[Yl+1]*Ju,Zu=b[Yl+2]*Ju,Lp=j[Ul+3]*(1/255),Np=j[Ul]*Lp,zp=j[Ul+1]*Lp,h0=j[Ul+2]*Lp,k0=1-Ju,D0=Ju+Lp*k0,s0=D0==0?0:1/D0;j[Ul+3]=255*D0,j[Ul+0]=(Uu+Np*k0)*s0,j[Ul+1]=(fp+zp*k0)*s0,j[Ul+2]=(Zu+h0*k0)*s0}else if(Ll==2)Ju=b[Yl+3],Uu=b[Yl],fp=b[Yl+1],Zu=b[Yl+2],Lp=j[Ul+3],Np=j[Ul],zp=j[Ul+1],h0=j[Ul+2],Ju==Lp&&Uu==Np&&fp==zp&&Zu==h0?(j[Ul]=0,j[Ul+1]=0,j[Ul+2]=0,j[Ul+3]=0):(j[Ul]=Uu,j[Ul+1]=fp,j[Ul+2]=Zu,j[Ul+3]=Ju);else if(Ll==3){if(Ju=b[Yl+3],Uu=b[Yl],fp=b[Yl+1],Zu=b[Yl+2],Lp=j[Ul+3],Np=j[Ul],zp=j[Ul+1],h0=j[Ul+2],Ju==Lp&&Uu==Np&&fp==zp&&Zu==h0)continue;if(Ju<220&&Lp>20)return!1}return!0},d.encode=function(b,_,$,j,rt,nt){j==null&&(j=0),nt==null&&(nt=!1);for(var In=new Uint8Array(b[0].byteLength*b.length+100),xl=[137,80,78,71,13,10,26,10],Ll=0;Ll<8;Ll++)In[Ll]=xl[Ll];var Nl=8,_u=d._bin,Yl=d.crc.crc,Ul=_u.writeUint,Dl=_u.writeUshort,Zl=_u.writeASCII,Ju=d.encode.compressPNG(b,_,$,j,nt);Ul(In,Nl,13),Zl(In,Nl+=4,"IHDR"),Ul(In,Nl+=4,_),Ul(In,Nl+=4,$),In[Nl+=4]=Ju.depth,In[++Nl]=Ju.ctype,In[++Nl]=0,In[++Nl]=0,In[++Nl]=0,Ul(In,++Nl,Yl(In,Nl-17,17)),Ul(In,Nl+=4,1),Zl(In,Nl+=4,"sRGB"),In[Nl+=4]=1,Ul(In,++Nl,Yl(In,Nl-5,5)),Nl+=4;var Uu=b.length>1;if(Uu&&(Ul(In,Nl,8),Zl(In,Nl+=4,"acTL"),Ul(In,Nl+=4,b.length),Ul(In,Nl+=4,0),Ul(In,Nl+=4,Yl(In,Nl-12,12)),Nl+=4),Ju.ctype==3){for(Ul(In,Nl,3*(s0=Ju.plte.length)),Zl(In,Nl+=4,"PLTE"),Nl+=4,Ll=0;Ll<s0;Ll++){var fp=3*Ll,Zu=Ju.plte[Ll],Lp=255&Zu,Np=Zu>>8&255,zp=Zu>>16&255;In[Nl+fp+0]=Lp,In[Nl+fp+1]=Np,In[Nl+fp+2]=zp}if(Ul(In,Nl+=3*s0,Yl(In,Nl-3*s0-4,3*s0+4)),Nl+=4,Ju.gotAlpha){for(Ul(In,Nl,s0),Zl(In,Nl+=4,"tRNS"),Nl+=4,Ll=0;Ll<s0;Ll++)In[Nl+Ll]=Ju.plte[Ll]>>24&255;Ul(In,Nl+=s0,Yl(In,Nl-s0-4,s0+4)),Nl+=4}}for(var h0=0,k0=0;k0<Ju.frames.length;k0++){var D0=Ju.frames[k0];Uu&&(Ul(In,Nl,26),Zl(In,Nl+=4,"fcTL"),Ul(In,Nl+=4,h0++),Ul(In,Nl+=4,D0.rect.width),Ul(In,Nl+=4,D0.rect.height),Ul(In,Nl+=4,D0.rect.x),Ul(In,Nl+=4,D0.rect.y),Dl(In,Nl+=4,rt[k0]),Dl(In,Nl+=2,1e3),In[Nl+=2]=D0.dispose,In[++Nl]=D0.blend,Ul(In,++Nl,Yl(In,Nl-30,30)),Nl+=4);var s0,dp=D0.cimg;Ul(In,Nl,(s0=dp.length)+(k0==0?0:4));var S0=Nl+=4;for(Zl(In,Nl,k0==0?"IDAT":"fdAT"),Nl+=4,k0!=0&&(Ul(In,Nl,h0++),Nl+=4),Ll=0;Ll<s0;Ll++)In[Nl+Ll]=dp[Ll];Ul(In,Nl+=s0,Yl(In,S0,Nl-S0)),Nl+=4}return Ul(In,Nl,0),Zl(In,Nl+=4,"IEND"),Ul(In,Nl+=4,Yl(In,Nl-4,4)),Nl+=4,In.buffer.slice(0,Nl)},d.encode.compressPNG=function(b,_,$,j,rt){for(var nt=d.encode.compress(b,_,$,j,!1,rt),In=0;In<b.length;In++){var xl=nt.frames[In],Ll=(xl.rect.width,xl.rect.height),Nl=xl.bpl,_u=xl.bpp,Yl=new Uint8Array(Ll*Nl+Ll);xl.cimg=d.encode._filterZero(xl.img,Ll,_u,Nl,Yl)}return nt},d.encode.compress=function(b,_,$,j,rt,nt){nt==null&&(nt=!1);for(var In=6,xl=8,Ll=4,Nl=255,_u=0;_u<b.length;_u++)for(var Yl=new Uint8Array(b[_u]),Ul=Yl.length,Dl=0;Dl<Ul;Dl+=4)Nl&=Yl[Dl+3];var Zl=Nl!=255,Ju={},Uu=[];if(b.length!=0&&(Ju[0]=0,Uu.push(0),j!=0&&j--),j!=0){var fp=d.quantize(b,j,rt);for(b=fp.bufs,Dl=0;Dl<fp.plte.length;Dl++)Ju[Lp=fp.plte[Dl].est.rgba]==null&&(Ju[Lp]=Uu.length,Uu.push(Lp))}else for(_u=0;_u<b.length;_u++){var Zu=new Uint32Array(b[_u]);for(Ul=Zu.length,Dl=0;Dl<Ul;Dl++){var Lp=Zu[Dl];if((Dl<_||Lp!=Zu[Dl-1]&&Lp!=Zu[Dl-_])&&Ju[Lp]==null&&(Ju[Lp]=Uu.length,Uu.push(Lp),Uu.length>=300))break}}var Np=!!Zl&&rt,zp=Uu.length;zp<=256&&nt==0&&(xl=zp<=2?1:zp<=4?2:zp<=16?4:8,rt&&(xl=8),Zl=!0);var h0=[];for(_u=0;_u<b.length;_u++){var k0=new Uint8Array(b[_u]),D0=new Uint32Array(k0.buffer),s0=0,dp=0,S0=_,l0=$,Op=0;if(_u!=0&&!Np){for(var Wp=rt||_u==1||h0[h0.length-2].dispose==2?1:2,mm=0,fm=1e9,g0=0;g0<Wp;g0++){for(var e0=new Uint8Array(b[_u-1-g0]),V0=new Uint32Array(b[_u-1-g0]),ym=_,Am=$,am=-1,Rm=-1,Lm=0;Lm<$;Lm++)for(var Fm=0;Fm<_;Fm++)D0[Dl=Lm*_+Fm]!=V0[Dl]&&(Fm<ym&&(ym=Fm),Fm>am&&(am=Fm),Lm<Am&&(Am=Lm),Lm>Rm&&(Rm=Lm));var s1=am==-1?1:(am-ym+1)*(Rm-Am+1);s1<fm&&(fm=s1,mm=g0,am==-1?(s0=dp=0,S0=l0=1):(s0=ym,dp=Am,S0=am-ym+1,l0=Rm-Am+1))}e0=new Uint8Array(b[_u-1-mm]),mm==1&&(h0[h0.length-1].dispose=2);var r1=new Uint8Array(S0*l0*4);new Uint32Array(r1.buffer),d._copyTile(e0,_,$,r1,S0,l0,-s0,-dp,0),d._copyTile(k0,_,$,r1,S0,l0,-s0,-dp,3)?(d._copyTile(k0,_,$,r1,S0,l0,-s0,-dp,2),Op=1):(d._copyTile(k0,_,$,r1,S0,l0,-s0,-dp,0),Op=0),k0=r1,D0=new Uint32Array(k0.buffer)}var Y1=4*S0;if(zp<=256&&nt==0){for(Y1=Math.ceil(xl*S0/8),r1=new Uint8Array(Y1*l0),Lm=0;Lm<l0;Lm++){Dl=Lm*Y1;var G1=Lm*S0;if(xl==8)for(Fm=0;Fm<S0;Fm++)r1[Dl+Fm]=Ju[D0[G1+Fm]];else if(xl==4)for(Fm=0;Fm<S0;Fm++)r1[Dl+(Fm>>1)]|=Ju[D0[G1+Fm]]<<4-4*(1&Fm);else if(xl==2)for(Fm=0;Fm<S0;Fm++)r1[Dl+(Fm>>2)]|=Ju[D0[G1+Fm]]<<6-2*(3&Fm);else if(xl==1)for(Fm=0;Fm<S0;Fm++)r1[Dl+(Fm>>3)]|=Ju[D0[G1+Fm]]<<7-1*(7&Fm)}k0=r1,In=3,Ll=1}else if(Zl==0&&b.length==1){r1=new Uint8Array(S0*l0*3);var wv=S0*l0;for(Dl=0;Dl<wv;Dl++){var Mv=3*Dl,Cv=4*Dl;r1[Mv]=k0[Cv],r1[Mv+1]=k0[Cv+1],r1[Mv+2]=k0[Cv+2]}k0=r1,In=2,Ll=3,Y1=3*S0}h0.push({rect:{x:s0,y:dp,width:S0,height:l0},img:k0,bpl:Y1,bpp:Ll,blend:Op,dispose:Np?1:0})}return{ctype:In,depth:xl,plte:Uu,gotAlpha:Zl,frames:h0}},d.encode._filterZero=function(b,_,$,j,rt){for(var nt=[],In=0;In<5;In++)if(!(_*j>5e5)||In!=2&&In!=3&&In!=4){for(var xl=0;xl<_;xl++)d.encode._filterLine(rt,b,xl,j,$,In);if(nt.push(g.deflate(rt)),$==1)break}for(var Ll,Nl=1e9,_u=0;_u<nt.length;_u++)nt[_u].length<Nl&&(Ll=_u,Nl=nt[_u].length);return nt[Ll]},d.encode._filterLine=function(b,_,$,j,rt,nt){var In=$*j,xl=In+$,Ll=d.decode._paeth;if(b[xl]=nt,xl++,nt==0)for(var Nl=0;Nl<j;Nl++)b[xl+Nl]=_[In+Nl];else if(nt==1){for(Nl=0;Nl<rt;Nl++)b[xl+Nl]=_[In+Nl];for(Nl=rt;Nl<j;Nl++)b[xl+Nl]=_[In+Nl]-_[In+Nl-rt]+256&255}else if($==0){for(Nl=0;Nl<rt;Nl++)b[xl+Nl]=_[In+Nl];if(nt==2)for(Nl=rt;Nl<j;Nl++)b[xl+Nl]=_[In+Nl];if(nt==3)for(Nl=rt;Nl<j;Nl++)b[xl+Nl]=_[In+Nl]-(_[In+Nl-rt]>>1)+256&255;if(nt==4)for(Nl=rt;Nl<j;Nl++)b[xl+Nl]=_[In+Nl]-Ll(_[In+Nl-rt],0,0)+256&255}else{if(nt==2)for(Nl=0;Nl<j;Nl++)b[xl+Nl]=_[In+Nl]+256-_[In+Nl-j]&255;if(nt==3){for(Nl=0;Nl<rt;Nl++)b[xl+Nl]=_[In+Nl]+256-(_[In+Nl-j]>>1)&255;for(Nl=rt;Nl<j;Nl++)b[xl+Nl]=_[In+Nl]+256-(_[In+Nl-j]+_[In+Nl-rt]>>1)&255}if(nt==4){for(Nl=0;Nl<rt;Nl++)b[xl+Nl]=_[In+Nl]+256-Ll(0,_[In+Nl-j],0)&255;for(Nl=rt;Nl<j;Nl++)b[xl+Nl]=_[In+Nl]+256-Ll(_[In+Nl-rt],_[In+Nl-j],_[In+Nl-rt-j])&255}}},d.crc={table:function(){for(var b=new Uint32Array(256),_=0;_<256;_++){for(var $=_,j=0;j<8;j++)1&$?$=3988292384^$>>>1:$>>>=1;b[_]=$}return b}(),update:function(b,_,$,j){for(var rt=0;rt<j;rt++)b=d.crc.table[255&(b^_[$+rt])]^b>>>8;return b},crc:function(b,_,$){return 4294967295^d.crc.update(4294967295,b,_,$)}},d.quantize=function(b,_,$){for(var j=[],rt=0,nt=0;nt<b.length;nt++)j.push(d.encode.alphaMul(new Uint8Array(b[nt]),$)),rt+=b[nt].byteLength;var In=new Uint8Array(rt),xl=new Uint32Array(In.buffer),Ll=0;for(nt=0;nt<j.length;nt++){for(var Nl=j[nt],_u=Nl.length,Yl=0;Yl<_u;Yl++)In[Ll+Yl]=Nl[Yl];Ll+=_u}var Ul={i0:0,i1:In.length,bst:null,est:null,tdst:0,left:null,right:null};Ul.bst=d.quantize.stats(In,Ul.i0,Ul.i1),Ul.est=d.quantize.estats(Ul.bst);for(var Dl=[Ul];Dl.length<_;){var Zl=0,Ju=0;for(nt=0;nt<Dl.length;nt++)Dl[nt].est.L>Zl&&(Zl=Dl[nt].est.L,Ju=nt);if(Zl<.001)break;var Uu=Dl[Ju],fp=d.quantize.splitPixels(In,xl,Uu.i0,Uu.i1,Uu.est.e,Uu.est.eMq255),Zu={i0:Uu.i0,i1:fp,bst:null,est:null,tdst:0,left:null,right:null};Zu.bst=d.quantize.stats(In,Zu.i0,Zu.i1),Zu.est=d.quantize.estats(Zu.bst);var Lp={i0:fp,i1:Uu.i1,bst:null,est:null,tdst:0,left:null,right:null};for(Lp.bst={R:[],m:[],N:Uu.bst.N-Zu.bst.N},nt=0;nt<16;nt++)Lp.bst.R[nt]=Uu.bst.R[nt]-Zu.bst.R[nt];for(nt=0;nt<4;nt++)Lp.bst.m[nt]=Uu.bst.m[nt]-Zu.bst.m[nt];Lp.est=d.quantize.estats(Lp.bst),Uu.left=Zu,Uu.right=Lp,Dl[Ju]=Zu,Dl.push(Lp)}Dl.sort(function(Wp,mm){return mm.bst.N-Wp.bst.N});for(var Np=0;Np<j.length;Np++){var zp=d.quantize.planeDst,h0=new Uint8Array(j[Np].buffer),k0=new Uint32Array(j[Np].buffer),D0=h0.length;for(nt=0;nt<D0;nt+=4){for(var s0=h0[nt]*.00392156862745098,dp=h0[nt+1]*.00392156862745098,S0=h0[nt+2]*.00392156862745098,l0=h0[nt+3]*.00392156862745098,Op=Ul;Op.left;)Op=zp(Op.est,s0,dp,S0,l0)<=0?Op.left:Op.right;k0[nt>>2]=Op.est.rgba}j[Np]=k0.buffer}return{bufs:j,plte:Dl}},d.quantize.getNearest=function(b,_,$,j,rt){if(b.left==null)return b.tdst=d.quantize.dist(b.est.q,_,$,j,rt),b;var nt=d.quantize.planeDst(b.est,_,$,j,rt),In=b.left,xl=b.right;nt>0&&(In=b.right,xl=b.left);var Ll=d.quantize.getNearest(In,_,$,j,rt);if(Ll.tdst<=nt*nt)return Ll;var Nl=d.quantize.getNearest(xl,_,$,j,rt);return Nl.tdst<Ll.tdst?Nl:Ll},d.quantize.planeDst=function(b,_,$,j,rt){var nt=b.e;return nt[0]*_+nt[1]*$+nt[2]*j+nt[3]*rt-b.eMq},d.quantize.dist=function(b,_,$,j,rt){var nt=_-b[0],In=$-b[1],xl=j-b[2],Ll=rt-b[3];return nt*nt+In*In+xl*xl+Ll*Ll},d.quantize.splitPixels=function(b,_,$,j,rt,nt){var In=d.quantize.vecDot;for(j-=4;$<j;){for(;In(b,$,rt)<=nt;)$+=4;for(;In(b,j,rt)>nt;)j-=4;if($>=j)break;var xl=_[$>>2];_[$>>2]=_[j>>2],_[j>>2]=xl,$+=4,j-=4}for(;In(b,$,rt)>nt;)$-=4;return $+4},d.quantize.vecDot=function(b,_,$){return b[_]*$[0]+b[_+1]*$[1]+b[_+2]*$[2]+b[_+3]*$[3]},d.quantize.stats=function(b,_,$){for(var j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],rt=[0,0,0,0],nt=$-_>>2,In=_;In<$;In+=4){var xl=b[In]*.00392156862745098,Ll=b[In+1]*(1/255),Nl=b[In+2]*(1/255),_u=b[In+3]*(1/255);rt[0]+=xl,rt[1]+=Ll,rt[2]+=Nl,rt[3]+=_u,j[0]+=xl*xl,j[1]+=xl*Ll,j[2]+=xl*Nl,j[3]+=xl*_u,j[5]+=Ll*Ll,j[6]+=Ll*Nl,j[7]+=Ll*_u,j[10]+=Nl*Nl,j[11]+=Nl*_u,j[15]+=_u*_u}return j[4]=j[1],j[8]=j[2],j[12]=j[3],j[9]=j[6],j[13]=j[7],j[14]=j[11],{R:j,m:rt,N:nt}},d.quantize.estats=function(b){var _=b.R,$=b.m,j=b.N,rt=$[0],nt=$[1],In=$[2],xl=$[3],Ll=j==0?0:1/j,Nl=[_[0]-rt*rt*Ll,_[1]-rt*nt*Ll,_[2]-rt*In*Ll,_[3]-rt*xl*Ll,_[4]-nt*rt*Ll,_[5]-nt*nt*Ll,_[6]-nt*In*Ll,_[7]-nt*xl*Ll,_[8]-In*rt*Ll,_[9]-In*nt*Ll,_[10]-In*In*Ll,_[11]-In*xl*Ll,_[12]-xl*rt*Ll,_[13]-xl*nt*Ll,_[14]-xl*In*Ll,_[15]-xl*xl*Ll],_u=Nl,Yl=d.M4,Ul=[.5,.5,.5,.5],Dl=0,Zl=0;if(j!=0)for(var Ju=0;Ju<10&&(Ul=Yl.multVec(_u,Ul),Zl=Math.sqrt(Yl.dot(Ul,Ul)),Ul=Yl.sml(1/Zl,Ul),!(Math.abs(Zl-Dl)<1e-9));Ju++)Dl=Zl;var Uu=[rt*Ll,nt*Ll,In*Ll,xl*Ll],fp=Yl.dot(Yl.sml(255,Uu),Ul),Zu=Uu[3]<.001?0:1/Uu[3];return{Cov:Nl,q:Uu,e:Ul,L:Dl,eMq255:fp,eMq:Yl.dot(Ul,Uu),rgba:(Math.round(255*Uu[3])<<24|Math.round(255*Uu[2]*Zu)<<16|Math.round(255*Uu[1]*Zu)<<8|Math.round(255*Uu[0]*Zu))>>>0}},d.M4={multVec:function(b,_){return[b[0]*_[0]+b[1]*_[1]+b[2]*_[2]+b[3]*_[3],b[4]*_[0]+b[5]*_[1]+b[6]*_[2]+b[7]*_[3],b[8]*_[0]+b[9]*_[1]+b[10]*_[2]+b[11]*_[3],b[12]*_[0]+b[13]*_[1]+b[14]*_[2]+b[15]*_[3]]},dot:function(b,_){return b[0]*_[0]+b[1]*_[1]+b[2]*_[2]+b[3]*_[3]},sml:function(b,_){return[b*_[0],b*_[1],b*_[2],b*_[3]]}},d.encode.alphaMul=function(b,_){for(var $=new Uint8Array(b.length),j=b.length>>2,rt=0;rt<j;rt++){var nt=rt<<2,In=b[nt+3];_&&(In=In<128?0:255);var xl=In*(1/255);$[nt+0]=b[nt+0]*xl,$[nt+1]=b[nt+1]*xl,$[nt+2]=b[nt+2]*xl,$[nt+3]=In}return $}}(c,a(788))},165:e=>{e.exports=function(o,a){var c,d,g,b,_,$,j,rt,nt,In,xl,Ll,Nl,_u,Yl,Ul,Dl,Zl,Ju,Uu,fp,Zu,Lp,Np,zp;c=o.state,d=o.next_in,Np=o.input,g=d+(o.avail_in-5),b=o.next_out,zp=o.output,_=b-(a-o.avail_out),$=b+(o.avail_out-257),j=c.dmax,rt=c.wsize,nt=c.whave,In=c.wnext,xl=c.window,Ll=c.hold,Nl=c.bits,_u=c.lencode,Yl=c.distcode,Ul=(1<<c.lenbits)-1,Dl=(1<<c.distbits)-1;e:do{Nl<15&&(Ll+=Np[d++]<<Nl,Nl+=8,Ll+=Np[d++]<<Nl,Nl+=8),Zl=_u[Ll&Ul];t:for(;;){if(Ll>>>=Ju=Zl>>>24,Nl-=Ju,(Ju=Zl>>>16&255)==0)zp[b++]=65535&Zl;else{if(!(16&Ju)){if(64&Ju){if(32&Ju){c.mode=12;break e}o.msg="invalid literal/length code",c.mode=30;break e}Zl=_u[(65535&Zl)+(Ll&(1<<Ju)-1)];continue t}for(Uu=65535&Zl,(Ju&=15)&&(Nl<Ju&&(Ll+=Np[d++]<<Nl,Nl+=8),Uu+=Ll&(1<<Ju)-1,Ll>>>=Ju,Nl-=Ju),Nl<15&&(Ll+=Np[d++]<<Nl,Nl+=8,Ll+=Np[d++]<<Nl,Nl+=8),Zl=Yl[Ll&Dl];;){if(Ll>>>=Ju=Zl>>>24,Nl-=Ju,16&(Ju=Zl>>>16&255)){if(fp=65535&Zl,Nl<(Ju&=15)&&(Ll+=Np[d++]<<Nl,(Nl+=8)<Ju&&(Ll+=Np[d++]<<Nl,Nl+=8)),(fp+=Ll&(1<<Ju)-1)>j){o.msg="invalid distance too far back",c.mode=30;break e}if(Ll>>>=Ju,Nl-=Ju,fp>(Ju=b-_)){if((Ju=fp-Ju)>nt&&c.sane){o.msg="invalid distance too far back",c.mode=30;break e}if(Zu=0,Lp=xl,In===0){if(Zu+=rt-Ju,Ju<Uu){Uu-=Ju;do zp[b++]=xl[Zu++];while(--Ju);Zu=b-fp,Lp=zp}}else if(In<Ju){if(Zu+=rt+In-Ju,(Ju-=In)<Uu){Uu-=Ju;do zp[b++]=xl[Zu++];while(--Ju);if(Zu=0,In<Uu){Uu-=Ju=In;do zp[b++]=xl[Zu++];while(--Ju);Zu=b-fp,Lp=zp}}}else if(Zu+=In-Ju,Ju<Uu){Uu-=Ju;do zp[b++]=xl[Zu++];while(--Ju);Zu=b-fp,Lp=zp}for(;Uu>2;)zp[b++]=Lp[Zu++],zp[b++]=Lp[Zu++],zp[b++]=Lp[Zu++],Uu-=3;Uu&&(zp[b++]=Lp[Zu++],Uu>1&&(zp[b++]=Lp[Zu++]))}else{Zu=b-fp;do zp[b++]=zp[Zu++],zp[b++]=zp[Zu++],zp[b++]=zp[Zu++],Uu-=3;while(Uu>2);Uu&&(zp[b++]=zp[Zu++],Uu>1&&(zp[b++]=zp[Zu++]))}break}if(64&Ju){o.msg="invalid distance code",c.mode=30;break e}Zl=Yl[(65535&Zl)+(Ll&(1<<Ju)-1)]}}break}}while(d<g&&b<$);d-=Uu=Nl>>3,Ll&=(1<<(Nl-=Uu<<3))-1,o.next_in=d,o.next_out=b,o.avail_in=d<g?g-d+5:5-(d-g),o.avail_out=b<$?$-b+257:257-(b-$),c.hold=Ll,c.bits=Nl}},185:()=>{$3Dmol.workerString=(function(){self.onmessage=function(e){var o=e.data,a=o.type;if(a<0)self.atomData=o.atoms,self.volume=o.volume,self.ps=new ProteinSurface;else{var c=self.ps;c.initparm(o.expandedExtent,a!=1,self.volume),c.fillvoxels(self.atomData,o.extendedAtoms),c.buildboundary(),a!==4&&a!==2||(c.fastdistancemap(),c.boundingatom(!1),c.fillvoxelswaals(self.atomData,o.extendedAtoms)),c.marchingcube(a);var d=c.getFacesAndVertices(o.atomsToShow);self.postMessage(d)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},222:(e,o,a)=>{a.r(o),a.d(o,{CC:()=>d,Color:()=>c,builtinColorSchemes:()=>nt,chains:()=>rt,elementColors:()=>$,htmlColors:()=>g,residues:()=>j,ssColors:()=>b});class c{constructor(xl,Ll,Nl){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof xl=="number"?(this.r=xl||0,this.g=Ll||0,this.b=Nl||0,this):this.set(xl||0)}set(xl){return xl instanceof c?xl.clone():(typeof xl=="number"?this.setHex(xl):typeof xl=="object"&&(this.r=(xl==null?void 0:xl.r)||0,this.g=(xl==null?void 0:xl.g)||0,this.b=(xl==null?void 0:xl.b)||0),this)}setHex(xl){return xl=Math.floor(xl),this.r=(xl>>16&255)/255,this.g=(xl>>8&255)/255,this.b=(255&xl)/255,this}getHex(){return Math.round(255*this.r)<<16|Math.round(255*this.g)<<8|Math.round(255*this.b)}clone(){return new c(this.r,this.g,this.b)}copy(xl){return this.r=xl.r,this.g=xl.g,this.b=xl.b,this}scaled(){var xl={};return xl.r=Math.round(255*this.r),xl.g=Math.round(255*this.g),xl.b=Math.round(255*this.b),xl.a=1,xl}}class d{static color(xl){if(!xl)return d.cache[0];if(xl instanceof c)return xl;if(typeof xl=="number"&&d.cache[xl]!==void 0)return d.cache[xl];if(xl&&Array.isArray(xl))return xl.map(d.color);let Ll=d.getHex(xl),Nl=new c(Ll);return d.cache[Ll]=Nl,Nl}static getHex(xl){if(Array.isArray(xl))return xl.map(d.getHex);if(typeof xl=="string"){let Ll=xl;if(!isNaN(parseInt(Ll)))return parseInt(Ll);if(Ll=Ll.trim(),Ll.length==4&&Ll[0]=="#"&&(Ll="#"+Ll[1]+Ll[1]+Ll[2]+Ll[2]+Ll[3]+Ll[3]),Ll.length==7&&Ll[0]=="#")return parseInt(Ll.substring(1),16);let Nl=d.rgbRegEx.exec(Ll);if(Nl){Nl[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let Yl=0;for(let Ul=2;Ul<5;Ul++){Yl*=256;let Dl=Nl[Ul].endsWith("%")?255*parseFloat(Nl[Ul])/100:parseFloat(Nl[Ul]);Yl+=Math.round(Dl)}return Yl}let _u=g[Ll.toLowerCase()];return _u!==void 0?_u:(console.error("color not found",xl.toLowerCase(),g),0)}return xl}}d.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,d.cache={0:new c(0)};const g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074,b:255,g:32768,r:16711680,c:49087,m:12517567,y:12566272,k:0,w:16777215},b={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},_={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},$={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:_,defaultColors:Object.assign({},_),greenCarbon:Object.assign(Object.assign({},_),{C:65280}),cyanCarbon:Object.assign(Object.assign({},_),{C:65535}),magentaCarbon:Object.assign(Object.assign({},_),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},_),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},_),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},_),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},_),{C:8388736}),blueCarbon:Object.assign(Object.assign({},_),{C:255})},j={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},rt={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},nt={ssPyMol:{prop:"ss",map:b.pyMol},ssJmol:{prop:"ss",map:b.Jmol},Jmol:{prop:"elem",map:$.Jmol},amino:{prop:"resn",map:j.amino},shapely:{prop:"resn",map:j.shapely},nucleic:{prop:"resn",map:j.nucleic},chain:{prop:"chain",map:rt.atom},rasmol:{prop:"elem",map:$.rasmol},default:{prop:"elem",map:$.defaultColors},greenCarbon:{prop:"elem",map:$.greenCarbon},chainHetatm:{prop:"chain",map:rt.hetatm},cyanCarbon:{prop:"elem",map:$.cyanCarbon},magentaCarbon:{prop:"elem",map:$.magentaCarbon},purpleCarbon:{prop:"elem",map:$.purpleCarbon},whiteCarbon:{prop:"elem",map:$.whiteCarbon},orangeCarbon:{prop:"elem",map:$.orangeCarbon},yellowCarbon:{prop:"elem",map:$.yellowCarbon},blueCarbon:{prop:"elem",map:$.blueCarbon}}},307:e=>{typeof e.exports=="object"&&(e.exports=window.$3Dmol)},358:(e,o,a)=>{var c=a(981),d=15,g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],$=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(j,rt,nt,In,xl,Ll,Nl,_u){var Yl,Ul,Dl,Zl,Ju,Uu,fp,Zu,Lp,Np=_u.bits,zp=0,h0=0,k0=0,D0=0,s0=0,dp=0,S0=0,l0=0,Op=0,Wp=0,mm=null,fm=0,g0=new c.Buf16(16),e0=new c.Buf16(16),V0=null,ym=0;for(zp=0;zp<=d;zp++)g0[zp]=0;for(h0=0;h0<In;h0++)g0[rt[nt+h0]]++;for(s0=Np,D0=d;D0>=1&&g0[D0]===0;D0--);if(s0>D0&&(s0=D0),D0===0)return xl[Ll++]=20971520,xl[Ll++]=20971520,_u.bits=1,0;for(k0=1;k0<D0&&g0[k0]===0;k0++);for(s0<k0&&(s0=k0),l0=1,zp=1;zp<=d;zp++)if(l0<<=1,(l0-=g0[zp])<0)return-1;if(l0>0&&(j===0||D0!==1))return-1;for(e0[1]=0,zp=1;zp<d;zp++)e0[zp+1]=e0[zp]+g0[zp];for(h0=0;h0<In;h0++)rt[nt+h0]!==0&&(Nl[e0[rt[nt+h0]]++]=h0);if(j===0?(mm=V0=Nl,Uu=19):j===1?(mm=g,fm-=257,V0=b,ym-=257,Uu=256):(mm=_,V0=$,Uu=-1),Wp=0,h0=0,zp=k0,Ju=Ll,dp=s0,S0=0,Dl=-1,Zl=(Op=1<<s0)-1,j===1&&Op>852||j===2&&Op>592)return 1;for(;;){fp=zp-S0,Nl[h0]<Uu?(Zu=0,Lp=Nl[h0]):Nl[h0]>Uu?(Zu=V0[ym+Nl[h0]],Lp=mm[fm+Nl[h0]]):(Zu=96,Lp=0),Yl=1<<zp-S0,k0=Ul=1<<dp;do xl[Ju+(Wp>>S0)+(Ul-=Yl)]=fp<<24|Zu<<16|Lp;while(Ul!==0);for(Yl=1<<zp-1;Wp&Yl;)Yl>>=1;if(Yl!==0?(Wp&=Yl-1,Wp+=Yl):Wp=0,h0++,--g0[zp]===0){if(zp===D0)break;zp=rt[nt+Nl[h0]]}if(zp>s0&&(Wp&Zl)!==Dl){for(S0===0&&(S0=s0),Ju+=k0,l0=1<<(dp=zp-S0);dp+S0<D0&&!((l0-=g0[dp+S0])<=0);)dp++,l0<<=1;if(Op+=1<<dp,j===1&&Op>852||j===2&&Op>592)return 1;xl[Dl=Wp&Zl]=s0<<24|dp<<16|Ju-Ll}}return Wp!==0&&(xl[Ju+Wp]=zp-S0<<24|4194304),_u.bits=s0,0}},378:(e,o,a)=>{var c;a.r(o),a.d(o,{BackSide:()=>g,Camera:()=>I2,ClampToEdgeWrapping:()=>rt,Coloring:()=>c,Cylinder:()=>Op.Cylinder,DoubleSide:()=>b,EventDispatcher:()=>Zl,FloatType:()=>Nl,Fog:()=>O2,FrontSide:()=>d,Geometry:()=>zp,GeometryGroup:()=>Np,GeometryIDCount:()=>h0,ImposterMaterial:()=>wv,InstancedMaterial:()=>Mv,Light:()=>dp,Line:()=>R0,LineBasicMaterial:()=>Zu,LineStyle:()=>Xp,LinearFilter:()=>nt,LinearMipMapLinearFilter:()=>xl,Material:()=>Uu,MaterialIdCount:()=>fp,Matrix3:()=>$.Matrix3,Matrix4:()=>$.Matrix4,Mesh:()=>K0,MeshDoubleLambertMaterial:()=>lv,MeshLambertMaterial:()=>Cv,MeshOutlineMaterial:()=>J1,NearestFilter:()=>In,Object3D:()=>D0,Object3DIDCount:()=>k0,Projector:()=>l0,Quaternion:()=>$.Quaternion,R32Format:()=>Ul,RFormat:()=>Yl,RGBAFormat:()=>_u,Ray:()=>$.Ray,Raycaster:()=>fm,Renderer:()=>z2,Scene:()=>s0,ShaderLib:()=>e2,ShaderUtils:()=>m2,Shading:()=>_,Sphere:()=>Op.Sphere,SphereImposterMaterial:()=>dy,SphereImposterOutlineMaterial:()=>Iv,Sprite:()=>Nm,SpriteAlignment:()=>j,SpriteMaterial:()=>Dv,SpritePlugin:()=>B2,StickImposterMaterial:()=>_y,StickImposterOutlineMaterial:()=>wy,Texture:()=>Y1,TextureIdCount:()=>G1,TextureOperations:()=>Dl,Triangle:()=>Op.Triangle,UVMapping:()=>r1,UnsignedByteType:()=>Ll,Vector2:()=>$.Vector2,Vector3:()=>$.Vector3,VolumetricMaterial:()=>Sm,basic:()=>M1,clamp:()=>$.clamp,clone:()=>M2,conversionMatrix3:()=>$.conversionMatrix3,degToRad:()=>$.degToRad,instanced:()=>F1,intersectObject:()=>s1,lambert:()=>x1,lambertdouble:()=>my,outline:()=>Zy,screen:()=>E2,screenaa:()=>Ty,sphereimposter:()=>Wv,sphereimposteroutline:()=>N1,sprite:()=>c2,stickimposter:()=>L2,stickimposteroutline:()=>b2,volumetric:()=>yy}),function(Z1){Z1[Z1.NoColors=0]="NoColors",Z1[Z1.FaceColors=1]="FaceColors",Z1[Z1.VertexColors=2]="VertexColors"}(c||(c={}));const d=0,g=1,b=2;var _;(function(Z1){Z1[Z1.NoShading=0]="NoShading",Z1[Z1.FlatShading=1]="FlatShading",Z1[Z1.SmoothShading=2]="SmoothShading"})(_||(_={}));var $=a(529);const j={topLeft:new $.Vector2(1,-1),topCenter:new $.Vector2(0,-1),topRight:new $.Vector2(-1,-1),centerLeft:new $.Vector2(1,0),center:new $.Vector2(0,0),centerRight:new $.Vector2(-1,0),bottomLeft:new $.Vector2(1,1),bottomCenter:new $.Vector2(0,1),bottomRight:new $.Vector2(-1,1)},rt=1001,nt=1006,In=1007,xl=1008,Ll=1009,Nl=1010,_u=1021,Yl=1022,Ul=1023;var Dl;(function(Z1){Z1[Z1.MultiplyOperation=0]="MultiplyOperation",Z1[Z1.MixOperation=1]="MixOperation",Z1[Z1.AddOperation=2]="AddOperation"})(Dl||(Dl={}));class Zl{constructor(){this.listeners={}}dispatchEvent(gu){var t0=this.listeners[gu.type];if(t0!==void 0){gu.target=this;for(var z0=0,dm=t0.length;z0<dm;z0++)t0[z0].call(this,gu)}}removeEventListener(gu,t0){if(t0){var z0=this.listeners[gu].indexOf(t0);z0!==-1&&this.listeners[gu].splice(z0,1)}else this.listeners[gu]=[]}addEventListener(gu,t0){this.listeners[gu]===void 0&&(this.listeners[gu]=[]),this.listeners[gu].indexOf(t0)===-1&&this.listeners[gu].push(t0)}}var Ju=a(222);class Uu extends Zl{constructor(){super(...arguments),this.id=fp++,this.name="",this.side=d,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1,this.shaded=!1}setValues(gu={}){if(gu!==void 0)for(var t0 in gu){var z0=gu[t0];if(z0!==void 0){if(t0 in this){var dm=this[t0];dm instanceof Ju.Color&&z0 instanceof Ju.Color?dm.copy(z0):dm instanceof Ju.Color?dm.set(z0):dm instanceof $.Vector3&&z0 instanceof $.Vector3?dm.copy(z0):this[t0]=z0}}else console.warn("$3Dmol.Material: '"+t0+"' parameter is undefined.")}}clone(gu=new Uu){return gu.name=this.name,gu.side=this.side,gu.opacity=this.opacity,gu.transparent=this.transparent,gu.depthTest=this.depthTest,gu.depthWrite=this.depthWrite,gu.polygonOffset=this.polygonOffset,gu.polygonOffsetFactor=this.polygonOffsetFactor,gu.polygonOffsetUnits=this.polygonOffsetUnits,gu.alphaTest=this.alphaTest,gu.overdraw=this.overdraw,gu.visible=this.visible,gu}makeShaded(gu){this.shaded=!0,this.uniforms&&(this.uniforms.shading={type:"i",value:gu},this.uniforms.vWidth={type:"f",value:1},this.uniforms.vHeight={type:"f",value:1})}dispose(){this.dispatchEvent({type:"dispose"})}}let fp=0;class Zu extends Uu{constructor(gu){super(),this.color=new Ju.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(gu)}clone(gu=new Zu){return super.clone.call(this,gu),gu.color.copy(this.color),gu}}const Lp=65535;class Np{constructor(gu=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.atomArray=Array(),this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=gu}setColor(gu){var t0=this.vertexArray,z0=this.colorArray;if(!t0)throw new Error("vertex array not initialized");if(!z0)throw new Error("color array not initialized");let dm=Ju.CC.color(gu);for(var om=0;om<t0.length;om+=3)z0[om]=dm.r,z0[om+1]=dm.g,z0[om+2]=dm.b}setColors(gu){var t0=this.vertexArray,z0=this.colorArray;if(!t0)throw new Error("vertex array not initialized");if(!z0)throw new Error("color array not initialized");if(t0.length==z0.length)for(var dm=0;dm<t0.length;dm+=3){var om=gu(t0[dm],t0[dm+1],t0[dm+2]);om instanceof Ju.Color||(om=Ju.CC.color(om)),z0[dm]=om.r,z0[dm+1]=om.g,z0[dm+2]=om.b}else console.log("Cannot re-color geometry group due to mismatched lengths.")}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var gu,t0,z0,dm,om=new $.Vector3,u1=0;u1<this.vertices;++u1)gu=3*u1,t0=this.vertexArray[gu],z0=this.vertexArray[gu+1],dm=this.vertexArray[gu+2],om.x+=t0,om.y+=z0,om.z+=dm;return om.divideScalar(this.vertices),om}setNormals(){var gu=this.faceArray,t0=this.vertexArray,z0=this.normalArray;if(this.vertices&&this.faceidx){if(!gu)throw new Error("face array not initialized");if(!t0)throw new Error("vertex array not initialized");if(!z0)throw new Error("normal array not initialized");for(var dm,om,u1,m1,c1,k1,d1,E1=0;E1<gu.length/3;++E1)dm=3*gu[3*E1],om=3*gu[3*E1+1],u1=3*gu[3*E1+2],m1=new $.Vector3(t0[dm],t0[dm+1],t0[dm+2]),c1=new $.Vector3(t0[om],t0[om+1],t0[om+2]),k1=new $.Vector3(t0[u1],t0[u1+1],t0[u1+2]),m1.subVectors(m1,c1),k1.subVectors(k1,c1),k1.cross(m1),(d1=k1).normalize(),z0[dm]+=d1.x,z0[om]+=d1.x,z0[u1]+=d1.x,z0[dm+1]+=d1.y,z0[om+1]+=d1.y,z0[u1+1]+=d1.y,z0[dm+2]+=d1.z,z0[om+2]+=d1.z,z0[u1+2]+=d1.z}}setLineIndices(){if(this.faceidx&&(!this.lineArray||this.lineArray.length!=2*this.faceidx||this.lineidx!=2*this.faceidx)){var gu=this.faceArray,t0=this.lineArray=new Uint16Array(2*this.faceidx);if(this.lineidx=2*this.faceidx,!gu)throw new Error("face array not initialized");for(var z0=0;z0<this.faceidx/3;++z0){var dm=3*z0,om=2*dm,u1=gu[dm],m1=gu[dm+1],c1=gu[dm+2];t0[om]=u1,t0[om+1]=m1,t0[om+2]=u1,t0[om+3]=c1,t0[om+4]=m1,t0[om+5]=c1}}}vrml(gu,t0){var z0,dm,om,u1,m1,c1,k1,d1,E1,rv,ev,Xv,ky,xy,_v,Vv,pv,hy,tv="";if(tv+=gu+`Shape {
`+gu+` appearance Appearance {
`+gu+`  material Material {
`+gu+"   diffuseColor "+((z0=t0==null?void 0:t0.color)===null||z0===void 0?void 0:z0.r)+" "+((dm=t0==null?void 0:t0.color)===null||dm===void 0?void 0:dm.g)+" "+((om=t0==null?void 0:t0.color)===null||om===void 0?void 0:om.b)+`
`,t0.wireframe&&this.colorArray){let c0=this.colorArray;tv+=gu+"    emissiveColor "+c0[0]+" "+c0[1]+" "+c0[2]+`
`}t0!=null&&t0.transparent&&(tv+=gu+"   transparency "+(1-t0.opacity)+`
`),tv+=gu+`  }
`,tv+=gu+` }
`;var Qy=gu;if(gu+=" ",t0 instanceof Zu||t0.wireframe){let c0,_t,wl;tv+=gu+`geometry IndexedLineSet {
`+gu+` colorPerVertex TRUE
`+gu+` coord Coordinate {
`+gu+`  point [
`;for(let zl=0;zl<this.vertices;++zl){let Vl=3*zl;c0=(u1=this.vertexArray)===null||u1===void 0?void 0:u1[Vl],_t=(m1=this.vertexArray)===null||m1===void 0?void 0:m1[Vl+1],wl=(c1=this.vertexArray)===null||c1===void 0?void 0:c1[Vl+2],tv+=gu+"   "+c0+" "+_t+" "+wl+`,
`}if(tv+=gu+`  ]
`,tv+=gu+` }
`,this.colorArray&&!t0.wireframe){tv+=gu+` color Color {
`+gu+`  color [
`;for(let zl=0;zl<this.vertices;++zl){let Vl=3*zl;c0=this.colorArray[Vl],_t=this.colorArray[Vl+1],wl=this.colorArray[Vl+2],tv+=gu+"   "+c0+" "+_t+" "+wl+`,
`}tv+=gu+`  ]
`,tv+=gu+` }
`}if(tv+=gu+` coordIndex [
`,t0.wireframe&&this.faceArray)for(let zl=0;zl<this.faceidx;zl+=3)c0=(k1=this.faceArray)===null||k1===void 0?void 0:k1[zl],_t=(d1=this.faceArray)===null||d1===void 0?void 0:d1[zl+1],wl=(E1=this.faceArray)===null||E1===void 0?void 0:E1[zl+2],tv+=gu+"  "+c0+", "+_t+", "+wl+`, -1,
`;else for(let zl=0;zl<this.vertices-1;zl+=2)tv+=gu+"  "+zl+", "+(zl+1)+`, -1,
`;tv+=gu+` ]
`,tv+=gu+`}
`}else{let c0,_t,wl;tv+=gu+`geometry IndexedFaceSet {
`+gu+` colorPerVertex TRUE
`+gu+` normalPerVertex TRUE
`+gu+` solid FALSE
`,tv+=gu+` coord Coordinate {
`+gu+`  point [
`;for(let zl=0;zl<this.vertices;++zl){let Vl=3*zl;c0=(rv=this.vertexArray)===null||rv===void 0?void 0:rv[Vl],_t=(ev=this.vertexArray)===null||ev===void 0?void 0:ev[Vl+1],wl=(Xv=this.vertexArray)===null||Xv===void 0?void 0:Xv[Vl+2],tv+=gu+"   "+c0+" "+_t+" "+wl+`,
`}tv+=gu+`  ]
`,tv+=gu+` }
`,tv+=gu+` normal Normal {
`+gu+`  vector [
`;for(let zl=0;zl<this.vertices;++zl){let Vl=3*zl;c0=(ky=this.normalArray)===null||ky===void 0?void 0:ky[Vl],_t=(xy=this.normalArray)===null||xy===void 0?void 0:xy[Vl+1],wl=(_v=this.normalArray)===null||_v===void 0?void 0:_v[Vl+2],tv+=gu+"   "+c0+" "+_t+" "+wl+`,
`}if(tv+=gu+`  ]
`,tv+=gu+` }
`,this.colorArray){tv+=gu+` color Color {
`+gu+`  color [
`;for(let zl=0;zl<this.vertices;++zl){let Vl=3*zl;c0=this.colorArray[Vl],_t=this.colorArray[Vl+1],wl=this.colorArray[Vl+2],tv+=gu+"   "+c0+" "+_t+" "+wl+`,
`}tv+=gu+`  ]
`,tv+=gu+` }
`}tv+=gu+` coordIndex [
`;for(let zl=0;zl<this.faceidx;zl+=3)c0=(Vv=this.faceArray)===null||Vv===void 0?void 0:Vv[zl],_t=(pv=this.faceArray)===null||pv===void 0?void 0:pv[zl+1],wl=(hy=this.faceArray)===null||hy===void 0?void 0:hy[zl+2],tv+=gu+"  "+c0+", "+_t+", "+wl+`, -1,
`;tv+=gu+` ]
`,tv+=gu+`}
`}return tv+=Qy+"}"}truncateArrayBuffers(gu=!0,t0=!1){var z0=this.vertexArray,dm=this.colorArray,om=this.normalArray,u1=this.faceArray,m1=this.lineArray,c1=this.radiusArray;this.vertexArray=(z0==null?void 0:z0.subarray(0,3*this.vertices))||null,this.colorArray=(dm==null?void 0:dm.subarray(0,3*this.vertices))||null,gu?(this.normalArray=(om==null?void 0:om.subarray(0,3*this.vertices))||null,this.faceArray=(u1==null?void 0:u1.subarray(0,this.faceidx))||null,this.lineidx>0?this.lineArray=(m1==null?void 0:m1.subarray(0,this.lineidx))||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),c1&&(this.radiusArray=c1.subarray(0,this.vertices)),t0&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class zp extends Zl{constructor(gu=!1,t0=!1,z0=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=h0++,this.mesh=gu,this.radii=t0,this.offset=z0}updateGeoGroup(gu=0){var t0,z0=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!z0||z0.vertices+gu>(((t0=z0==null?void 0:z0.vertexArray)===null||t0===void 0?void 0:t0.length)||0)/3)&&(z0=this.addGeoGroup()),z0}vrml(gu,t0){for(var z0="",dm=this.geometryGroups.length,om=0;om<dm;om++)z0+=this.geometryGroups[om].vrml(gu,t0)+`,
`;return z0}addGeoGroup(){var gu=new Np(this.geometryGroups.length);return this.geometryGroups.push(gu),this.groups=this.geometryGroups.length,gu.vertexArray=new Float32Array(196605),gu.colorArray=new Float32Array(196605),this.mesh&&(gu.normalArray=new Float32Array(196605),gu.faceArray=new Uint16Array(393210),gu.lineArray=new Uint16Array(393210)),this.radii&&(gu.radiusArray=new Float32Array(Lp)),gu.useOffset=this.offset,gu}setUpNormals(...gu){for(var t0=0;t0<this.groups;t0++)this.geometryGroups[t0].setNormals(...gu)}setColors(...gu){for(var t0=this.geometryGroups.length,z0=0;z0<t0;z0++)this.geometryGroups[z0].setColors(...gu)}setColor(...gu){let t0=this.geometryGroups.length;for(var z0=0;z0<t0;z0++)this.geometryGroups[z0].setColor(...gu)}setUpWireframe(...gu){let t0=this.geometryGroups.length;for(var z0=0;z0<t0;z0++)this.geometryGroups[z0].setLineIndices(...gu)}initTypedArrays(){for(var gu=0;gu<this.groups;gu++){var t0=this.geometryGroups[gu];t0.__inittedArrays!==!0&&t0.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var gu=0,t0=0;t0<this.groups;t0++)gu+=this.geometryGroups[t0].vertices;return gu}}let h0=0,k0=0;class D0{constructor(){this.id=k0++,this.name="",this.children=[],this.position=new $.Vector3,this.rotation=new $.Vector3,this.matrix=new $.Matrix4,this.matrixWorld=new $.Matrix4,this.quaternion=new $.Quaternion,this.eulerOrder="XYZ",this.up=new $.Vector3(0,1,0),this.scale=new $.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(gu){this.matrix.lookAt(gu,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof $.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(gu){if(gu!==this){gu.parent=this,this.children.push(gu);for(var t0=this;t0.parent!==void 0;)t0=t0.parent;t0!==void 0&&t0 instanceof s0&&t0.__addObject(gu)}else console.error("Can't add $3Dmol.Object3D to itself")}remove(gu){var t0=this.children.indexOf(gu);if(t0!==-1){gu.parent=void 0,this.children.splice(t0,1);for(var z0=this;z0.parent!==void 0;)z0=z0.parent;z0!==void 0&&z0 instanceof s0&&z0.__removeObject(gu)}}vrml(gu){gu||(gu=" ");var t0=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),z0=0,dm=0,om=0;if(t0!=0){let c1=Math.sin(t0/2);z0=this.quaternion.x/c1,dm=this.quaternion.y/c1,om=this.quaternion.z/c1}var u1=gu+`Transform {
`+gu+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+gu+" rotation "+z0+" "+dm+" "+om+" "+t0+`
`+gu+` children [
`;this.geometry&&(u1+=this.geometry.vrml(gu,this.material));for(var m1=0;m1<this.children.length;m1++)u1+=this.children[m1].vrml(gu+" ")+`,
`;return u1+=` ]
`,u1+="}"}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof $.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),this.scale.x===1&&this.scale.y===1&&this.scale.z===1||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(gu){this.matrixAutoUpdate===!0&&this.updateMatrix(),this.matrixWorldNeedsUpdate!==!0&&gu!==!0||(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var t0=0;t0<this.children.length;t0++)this.children[t0].updateMatrixWorld(!0)}clone(gu){gu===void 0&&(gu=new D0),gu.name=this.name,gu.up.copy(this.up),gu.position.copy(this.position),gu.rotation instanceof $.Vector3&&this.rotation instanceof $.Vector3?gu.rotation.copy(this.rotation):gu.rotation=this.rotation,gu.eulerOrder=this.eulerOrder,gu.scale.copy(this.scale),gu.rotationAutoUpdate=this.rotationAutoUpdate,gu.matrix.copy(this.matrix),gu.matrixWorld.copy(this.matrixWorld),gu.quaternion.copy(this.quaternion),gu.matrixAutoUpdate=this.matrixAutoUpdate,gu.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,gu.useQuaternion=this.useQuaternion,gu.visible=this.visible;for(var t0=0;t0<this.children.length;t0++){var z0=this.children[t0];gu.add(z0.clone())}return gu}setVisible(gu){this.visible=gu;for(var t0=0;t0<this.children.length;t0++)this.children[t0].setVisible(gu)}}class s0 extends D0{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(gu){if(gu instanceof dp)this.__lights.indexOf(gu)===-1&&this.__lights.push(gu),gu.target&&gu.target.parent===void 0&&this.add(gu.target);else if(this.__objects.indexOf(gu)===-1){this.__objects.push(gu),this.__objectsAdded.push(gu);var t0=this.__objectsRemoved.indexOf(gu);t0!==-1&&this.__objectsRemoved.splice(t0,1)}for(var z0=0;z0<gu.children.length;z0++)this.__addObject(gu.children[z0])}__removeObject(gu){var t0;gu instanceof dp?(t0=this.__lights.indexOf(gu))!==-1&&this.__lights.splice(t0,1):(t0=this.__objects.indexOf(gu))!==-1&&(this.__objects.splice(t0,1),this.__objectsRemoved.push(gu),this.__objectsAdded.indexOf(gu)!==-1&&this.__objectsAdded.splice(t0,1));for(var z0=0;z0<gu.children.length;z0++)this.__removeObject(gu.children[z0])}}class dp extends D0{constructor(gu,t0=1){super(),this.position=new $.Vector3(0,1,0),this.target=new D0,this.castShadow=!1,this.onlyShadow=!1,this.color=new Ju.Color(gu),this.intensity=t0}}const S0=new $.Matrix4;class l0{static unprojectVector(gu,t0){return t0.projectionMatrixInverse.getInverse(t0.projectionMatrix),S0.multiplyMatrices(t0.matrixWorld,t0.projectionMatrixInverse),gu.applyProjection(S0)}static projectVector(gu,t0){return t0.matrixWorldInverse.getInverse(t0.matrixWorld),S0.multiplyMatrices(t0.projectionMatrix,t0.matrixWorldInverse),gu.applyProjection(S0)}projectVector(gu,t0){return l0.projectVector(gu,t0)}unprojectVector(gu,t0){return l0.unprojectVector(gu,t0)}}var Op=a(99);const Wp=(Z1,gu)=>Z1.distance-gu.distance,mm=new $.Matrix4;class fm{constructor(gu,t0,z0,dm){this.precision=1e-4,this.linePrecision=.2,this.ray=new $.Ray(gu,t0),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=dm||0,this.far=z0||1/0}set(gu,t0){this.ray.set(gu,t0)}setFromCamera(gu,t0){t0.ortho?(this.ray.origin.set(gu.x,gu.y,(t0.near+t0.far)/(t0.near-t0.far)).unproject(t0),this.ray.direction.set(0,0,-1).transformDirection(t0.matrixWorld)):(this.ray.origin.setFromMatrixPosition(t0.matrixWorld),this.ray.direction.set(gu.x,gu.y,gu.z),t0.projectionMatrixInverse.getInverse(t0.projectionMatrix),mm.multiplyMatrices(t0.matrixWorld,t0.projectionMatrixInverse),this.ray.direction.applyProjection(mm),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(gu,t0){for(var z0=[],dm=0,om=t0.length;dm<om;dm++)s1(gu,t0[dm],this,z0);return z0.sort(Wp),z0}}const g0=Z1=>Math.min(Math.max(Z1,-1),1);var e0=new Op.Sphere,V0=new Op.Cylinder,ym=new Op.Triangle,Am=new $.Vector3,am=new $.Vector3,Rm=new $.Vector3,Lm=new $.Vector3,Fm=new $.Vector3;function s1(Z1,gu,t0,z0){if(Fm.getPositionFromMatrix(Z1.matrixWorld),gu.intersectionShape===void 0||gu.hidden)return z0;var dm,om,u1,m1,c1,k1,d1,E1,rv,ev,Xv,ky,xy,_v,Vv=gu.intersectionShape,pv=t0.linePrecision,hy=(pv*=Z1.matrixWorld.getMaxScaleOnAxis())*pv;if(gu.boundingSphere!==void 0&&gu.boundingSphere instanceof Op.Sphere&&(e0.copy(gu.boundingSphere),e0.applyMatrix4(Z1.matrixWorld),!t0.ray.isIntersectionSphere(e0)))return z0;for(dm=0,om=Vv.triangle.length;dm<om;dm++)if(Vv.triangle[dm]instanceof Op.Triangle){if(ym.copy(Vv.triangle[dm]),ym.applyMatrix4(Z1.matrixWorld),u1=ym.getNormal(),(m1=t0.ray.direction.dot(u1))>=0||(Am.subVectors(ym.a,t0.ray.origin),(d1=u1.dot(Am)/m1)<0))continue;am.copy(t0.ray.direction).multiplyScalar(d1).add(t0.ray.origin),am.sub(ym.a),Rm.copy(ym.b).sub(ym.a),Lm.copy(ym.c).sub(ym.a);var tv=Rm.dot(Lm),Qy=Rm.lengthSq(),c0=Lm.lengthSq();if((ky=(Qy*am.dot(Lm)-tv*am.dot(Rm))/(Qy*c0-tv*tv))<0||ky>1||(Xv=(am.dot(Rm)-ky*tv)/Qy)<0||Xv>1||Xv+ky>1)continue;z0.push({clickable:gu,distance:d1})}for(dm=0,om=Vv.cylinder.length;dm<om;dm++)if(Vv.cylinder[dm]instanceof Op.Cylinder){if(V0.copy(Vv.cylinder[dm]),V0.applyMatrix4(Z1.matrixWorld),Am.subVectors(V0.c1,t0.ray.origin),c1=Am.dot(V0.direction),k1=Am.dot(t0.ray.direction),(rv=1-(m1=g0(t0.ray.direction.dot(V0.direction)))*m1)==0)continue;xy=(m1*k1-c1)/rv,_v=(k1-m1*c1)/rv,am.copy(V0.direction).multiplyScalar(xy).add(V0.c1),Rm.copy(t0.ray.direction).multiplyScalar(_v).add(t0.ray.origin),E1=Lm.subVectors(am,Rm).lengthSq();var _t=V0.radius*V0.radius;if(E1<=_t){if((Xv=m1*(ky=d1=(ev=(m1*c1-k1)*(m1*c1-k1)-rv*(Am.lengthSq()-c1*c1-_t))<=0?Math.sqrt(E1):(k1-m1*c1-Math.sqrt(ev))/rv)-c1)<0||Xv*Xv>V0.lengthSq()||ky<0)continue;z0.push({clickable:gu,distance:d1})}}for(dm=0,om=Vv.line.length;dm<om;dm+=2){am.copy(Vv.line[dm]),am.applyMatrix4(Z1.matrixWorld),Rm.copy(Vv.line[dm+1]),Rm.applyMatrix4(Z1.matrixWorld),Lm.subVectors(Rm,am);var wl=Lm.lengthSq();Lm.normalize(),Am.subVectors(am,t0.ray.origin);var zl=Am.dot(Lm);k1=Am.dot(t0.ray.direction),(rv=1-(m1=g0(t0.ray.direction.dot(Lm)))*m1)!=0&&(xy=(m1*k1-zl)/rv,_v=(k1-m1*zl)/rv,am.add(Lm.multiplyScalar(xy)),Rm.copy(t0.ray.direction).multiplyScalar(_v).add(t0.ray.origin),(E1=Lm.subVectors(Rm,am).lengthSq())<hy&&xy*xy<wl&&z0.push({clickable:gu,distance:_v}))}for(dm=0,om=Vv.sphere.length;dm<om;dm++)if(Vv.sphere[dm]instanceof Op.Sphere&&(e0.copy(Vv.sphere[dm]),e0.applyMatrix4(Z1.matrixWorld),t0.ray.isIntersectionSphere(e0))){am.subVectors(e0.center,t0.ray.origin);var Vl=am.dot(t0.ray.direction);if(ev=Vl*Vl-(am.lengthSq()-e0.radius*e0.radius),Vl<0)return z0;d1=ev<=0?Vl:Vl-Math.sqrt(ev),z0.push({clickable:gu,distance:d1})}return z0}class r1{}class Y1 extends Zl{constructor(gu,t0){super(),this.id=G1++,this.name="",this.image=gu,this.mapping=new r1,this.wrapS=rt,this.wrapT=rt,this.anisotropy=1,t0?(this.format=Yl,this.type=Nl,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=In,this.minFilter=In):(this.format=_u,this.type=Ll,this.offset=new $.Vector2(0,0),this.repeat=new $.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=nt,this.minFilter=xl),this.needsUpdate=!1,this.onUpdate=null}clone(gu=new Y1){return gu.image=this.image,gu.mapping=this.mapping,gu.wrapS=this.wrapS,gu.wrapT=this.wrapT,gu.magFilter=this.magFilter,gu.minFilter=this.minFilter,gu.anisotropy=this.anisotropy,gu.format=this.format,gu.type=this.type,gu.offset.copy(this.offset),gu.repeat.copy(this.repeat),gu.premultiplyAlpha=this.premultiplyAlpha,gu.flipY=this.flipY,gu.unpackAlignment=this.unpackAlignment,gu}dispose(){this.dispatchEvent({type:"dispose"})}}let G1=0;class wv extends Uu{constructor(gu){super(),this.color=new Ju.Color(16777215),this.ambient=new Ju.Color(1048575),this.emissive=new Ju.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new $.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.SmoothShading,this.shaderID=null,this.vertexColors=c.NoColors,this.skinning=!1,this.setValues(gu)}clone(gu=new wv){return super.clone.call(this,gu),gu.color.copy(this.color),gu.ambient.copy(this.ambient),gu.emissive.copy(this.emissive),gu.wrapAround=this.wrapAround,gu.wrapRGB.copy(this.wrapRGB),gu.map=this.map,gu.lightMap=this.lightMap,gu.specularMap=this.specularMap,gu.envMap=this.envMap,gu.combine=this.combine,gu.reflectivity=this.reflectivity,gu.refractionRatio=this.refractionRatio,gu.fog=this.fog,gu.shading=this.shading,gu.shaderID=this.shaderID,gu.vertexColors=this.vertexColors,gu.skinning=this.skinning,gu.morphTargets=this.morphTargets,gu.morphNormals=this.morphNormals,gu}}class Mv extends Uu{constructor(gu){super(),this.color=new Ju.Color(16777215),this.ambient=new Ju.Color(1048575),this.emissive=new Ju.Color(0),this.wrapAround=!1,this.wrapRGB=new $.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.SmoothShading,this.shaderID="instanced",this.vertexColors=c.NoColors,this.skinning=!1,this.sphere=null,this.setValues(gu)}clone(gu=new Mv){return super.clone.call(this,gu),gu.color.copy(this.color),gu.ambient.copy(this.ambient),gu.emissive.copy(this.emissive),gu.wrapAround=this.wrapAround,gu.wrapRGB.copy(this.wrapRGB),gu.map=this.map,gu.lightMap=this.lightMap,gu.specularMap=this.specularMap,gu.envMap=this.envMap,gu.combine=this.combine,gu.reflectivity=this.reflectivity,gu.refractionRatio=this.refractionRatio,gu.fog=this.fog,gu.shading=this.shading,gu.shaderID=this.shaderID,gu.vertexColors=this.vertexColors,gu.skinning=this.skinning,gu.morphTargets=this.morphTargets,gu.morphNormals=this.morphNormals,gu.sphere=this.sphere,gu}}class Cv extends Uu{constructor(gu){super(),this.color=new Ju.Color(16777215),this.ambient=new Ju.Color(1048575),this.emissive=new Ju.Color(0),this.wrapAround=!1,this.wrapRGB=new $.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=_.SmoothShading,this.shaderID="lambert",this.vertexColors=c.NoColors,this.skinning=!1,this.setValues(gu)}clone(gu=new Cv){return super.clone.call(this,gu),gu.color.copy(this.color),gu.ambient.copy(this.ambient),gu.emissive.copy(this.emissive),gu.wrapAround=this.wrapAround,gu.wrapRGB.copy(this.wrapRGB),gu.map=this.map,gu.lightMap=this.lightMap,gu.specularMap=this.specularMap,gu.envMap=this.envMap,gu.combine=this.combine,gu.reflectivity=this.reflectivity,gu.refractionRatio=this.refractionRatio,gu.fog=this.fog,gu.shading=this.shading,gu.shaderID=this.shaderID,gu.vertexColors=this.vertexColors,gu.skinning=this.skinning,gu.morphTargets=this.morphTargets,gu.morphNormals=this.morphNormals,gu}}class lv extends Cv{constructor(gu){super(gu),this.shaderID="lambertdouble",this.side=b,this.outline=!1}clone(gu=new lv){return super.clone.call(this,gu),gu}}class J1 extends Uu{constructor(gu){super(),gu=gu||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=Ju.CC.color(gu.color||new Ju.Color(0,0,0)),this.outlineWidth=gu.width||.1,this.outlinePushback=gu.pushback||1,this.outlineMaxPixels=gu.maxpixels||0}clone(gu=new J1){return super.clone.call(this,gu),gu.fog=this.fog,gu.shaderID=this.shaderID,gu.wireframe=this.wireframe,gu.outlineColor=this.outlineColor,gu.outlineWidth=this.outlineWidth,gu.outlinePushback=this.outlinePushback,gu.outlineMaxPixels=this.outlineMaxPixels,gu}}class dy extends wv{constructor(gu){super(gu),this.shaderID="sphereimposter",this.setValues(gu)}clone(gu=new dy){return super.clone.call(this,gu),gu}}class Iv extends wv{constructor(gu){super(gu),gu=gu||{},this.shaderID="sphereimposteroutline",this.outlineColor=Ju.CC.color(gu.color||new Ju.Color(0,0,0)),this.outlineWidth=gu.width||.1,this.outlinePushback=gu.pushback||1,this.outlineMaxPixels=gu.maxpixels||0,this.setValues(gu)}clone(gu=new Iv){return super.clone.call(this,gu),gu.outlineColor=this.outlineColor,gu.outlineWidth=this.outlineWidth,gu.outlinePushback=this.outlinePushback,gu.outlineMaxPixels=this.outlineMaxPixels,gu}}class Dv extends Uu{constructor(gu){super(),this.color=new Ju.Color(16777215),this.map=new Y1,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new $.Vector2(0,0),this.uvScale=new $.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=j.center.clone(),this.setValues(gu),(gu=gu||{}).depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),gu.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),gu.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(gu=new Dv){return super.clone.call(this,gu),gu.color.copy(this.color),gu.map=this.map,gu.useScreenCoordinates=this.useScreenCoordinates,gu.screenOffset=this.screenOffset,gu.sizeAttenuation=this.sizeAttenuation,gu.scaleByViewport=this.scaleByViewPort,gu.alignment.copy(this.alignment),gu.uvOffset.copy(this.uvOffset),gu}}class _y extends wv{constructor(gu){super(gu),this.shaderID="stickimposter",this.setValues(gu)}clone(gu=new _y){return super.clone.call(this,gu),gu}}class wy extends wv{constructor(gu={}){super(gu),this.shaderID="stickimposteroutline",this.outlineColor=new Ju.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,this.outlineMaxPixels=0,gu.color&&(this.outlineColor=Ju.CC.color(gu.color)),gu.width&&(this.outlineWidth=gu.width),gu.pushback&&(this.outlinePushback=gu.pushback),gu.maxpixels&&(this.outlineMaxPixels=gu.maxpixels),this.setValues(gu)}clone(gu=new wy){return super.clone.call(this,gu),gu.outlineColor=this.outlineColor,gu.outlineWidth=this.outlineWidth,gu.outlinePushback=this.outlinePushback,gu.outlineMaxPixels=this.outlineMaxPixels,gu}}class Sm extends Uu{constructor(gu){super(),this.transparent=!1,this.volumetric=!0,this.color=new Ju.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=d,this.setValues(gu)}clone(gu=new Sm){return super.clone.call(this,gu),gu.transparent=this.transparent,gu.volumetric=this.volumetric,gu.color=this.color,gu.transferfn=this.transferfn,gu.map=this.map,gu.extent=this.extent,gu.maxdepth=this.maxdepth,gu.unit=this.unit,gu.texmatrix=this.texmatrix,gu.transfermin=this.transfermin,gu.transfermax=this.transfermax,gu.subsamples=this.subsamples,gu.shaderID=this.shaderID,gu.side=this.side,gu}}var Xp;(function(Z1){Z1[Z1.LineStrip=0]="LineStrip",Z1[Z1.LinePieces=1]="LinePieces"})(Xp||(Xp={}));class R0 extends D0{constructor(gu,t0=new Zu({color:16777215*Math.random()}),z0=Xp.LineStrip){super(),this.geometry=gu,this.material=t0,this.type=z0}clone(gu=new R0(this.geometry,this.material,this.type)){return super.clone.call(this,gu),gu}}class K0 extends D0{constructor(gu,t0){super(),this.geometry=gu,this.material=t0}clone(gu){return gu===void 0&&(gu=new K0(this.geometry,this.material)),super.clone.call(this,gu),gu}}class Nm extends D0{constructor(gu=new Dv){super(),this.material=gu,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),this.scale.x===1&&this.scale.y===1||this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(gu=new Nm(this.material)){return D0.prototype.clone.call(this,gu),gu}}const Gm={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}},M1={vertexShader:`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;
varying vec4 mvPosition;

void main() {

    vColor = color;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`.replace("#define GLSLIFY 1",""),fragmentShader:`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
varying vec4 mvPosition;

//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`.replace("#define GLSLIFY 1",""),uniforms:Gm},Km={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},F1={fragmentShader:`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`.replace("#define GLSLIFY 1",""),uniforms:Km},j1={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},x1={fragmentShader:`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
varying vec4 mvPosition;


//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }

}`.replace("#define GLSLIFY 1",""),vertexShader:`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec4 mvPosition;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`.replace("#define GLSLIFY 1",""),uniforms:j1},hv={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},my={fragmentShader:`
#ifdef SHADED
uniform highp sampler2D shading;
#endif

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
varying vec4 mvPosition;

//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    vec3 color = vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( color, opacity );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }

}


`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;
varying vec4 mvPosition;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`.replace("#define GLSLIFY 1",""),uniforms:hv},$y={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new Ju.Color(0,0,0)},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}},Zy={fragmentShader:`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec4 mvPosition;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}


`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float vWidth;
uniform float vHeight;
uniform float outlineMaxPixels;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec4 mvPosition;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    vec4 outpos = projectionMatrix * mvPosition;

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*modelViewMatrix * vec4( position, 1.0 );
        float w = outpos.w;
        //normalize homogeneous coords
        unadjusted /= unadjusted.w;
        outpos /= outpos.w;
        vec2 diff = outpos.xy-unadjusted.xy;
        //put into pixels
        diff.x *= vWidth;
        diff.y *= vHeight;
        if ( length(diff) > outlineMaxPixels) {
            vec2 ndiff = normalize(diff)*outlineMaxPixels;
            ndiff.x /= vWidth;
            ndiff.y /= vHeight;
            outpos.xy = unadjusted.xy;
            outpos.xy += ndiff;
        }
        outpos *= w; //if I don't do this things blow up
    }
    gl_Position = outpos;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`.replace("#define GLSLIFY 1",""),uniforms:$y},E2={fragmentShader:`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);

   //gl_FragColor.g = gl_FragColor.b =  gl_FragColor.r; //debug shading 
}
        `.replace("#define GLSLIFY 1",""),vertexShader:`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `.replace("#define GLSLIFY 1",""),uniforms:{}},Ty={fragmentShader:`
        
precision highp float;
precision highp int;
precision highp sampler2D;

uniform sampler2D tColor;
varying highp vec2 vTexCoords;

// adapted from https://github.com/kosua20/Rendu
// MIT License Copyright (c) 2017 Simon Rodriguez
// by way of molstar (https://github.com/molstar/molstar/blob/master/src/mol-gl/shader/fxaa.frag.ts)

#define QUALITY(q) ((q) < 5 ? 1.0 : ((q) > 5 ? ((q) < 10 ? 2.0 : ((q) < 11 ? 4.0 : 8.0)) : 1.5))

float rgb2luma(vec3 rgb){
    return sqrt(dot(rgb, vec3(0.299, 0.587, 0.114)));
}

float sampleLuma(vec2 uv) {
    return rgb2luma(texture2D(tColor, uv).rgb);
}

float sampleLuma(vec2 uv, float uOffset, float vOffset) {
    uv += vec2(uOffset, vOffset);
    return sampleLuma(uv);
}

//DEFINEFRAGCOLOR
void main(void) {
    ivec2 dim = textureSize(tColor,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseScreenSize = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec2 coords = vTexCoords;

    vec4 colorCenter = texture2D(tColor, coords);
    float dEdgeThresholdMin = 0.0312;
    float dEdgeThresholdMax = 0.125;
    int dIterations = 12;
    float dSubpixelQuality = 0.3;

    // Luma at the current fragment
    float lumaCenter = rgb2luma(colorCenter.rgb);

    // Luma at the four direct neighbours of the current fragment.
    float lumaDown = sampleLuma(coords, 0.0, -inverseScreenSize.y);
    float lumaUp = sampleLuma(coords, 0.0, inverseScreenSize.y);
    float lumaLeft = sampleLuma(coords, -inverseScreenSize.x, 0.0);
    float lumaRight = sampleLuma(coords, inverseScreenSize.x, 0.0);

    // Find the maximum and minimum luma around the current fragment.
    float lumaMin = min(lumaCenter, min(min(lumaDown, lumaUp), min(lumaLeft, lumaRight)));
    float lumaMax = max(lumaCenter, max(max(lumaDown, lumaUp), max(lumaLeft, lumaRight)));

    // Compute the delta.
    float lumaRange = lumaMax - lumaMin;

    // If the luma variation is lower that a threshold (or if we are in a really dark area),
    // we are not on an edge, don't perform any AA.
    if (lumaRange < max(dEdgeThresholdMin, lumaMax * dEdgeThresholdMax)) {
        gl_FragColor = colorCenter;
        return;
    }

    // Query the 4 remaining corners lumas.
    float lumaDownLeft = sampleLuma(coords, -inverseScreenSize.x, -inverseScreenSize.y);
    float lumaUpRight = sampleLuma(coords, inverseScreenSize.x, inverseScreenSize.y);
    float lumaUpLeft = sampleLuma(coords, -inverseScreenSize.x, inverseScreenSize.y);
    float lumaDownRight = sampleLuma(coords, inverseScreenSize.x, -inverseScreenSize.y);

    // Combine the four edges lumas (using intermediary variables for future computations
    // with the same values).
    float lumaDownUp = lumaDown + lumaUp;
    float lumaLeftRight = lumaLeft + lumaRight;

    // Same for corners
    float lumaLeftCorners = lumaDownLeft + lumaUpLeft;
    float lumaDownCorners = lumaDownLeft + lumaDownRight;
    float lumaRightCorners = lumaDownRight + lumaUpRight;
    float lumaUpCorners = lumaUpRight + lumaUpLeft;

    // Compute an estimation of the gradient along the horizontal and vertical axis.
    float edgeHorizontal = abs(-2.0 * lumaLeft + lumaLeftCorners) + abs(-2.0 * lumaCenter + lumaDownUp) * 2.0 + abs(-2.0 * lumaRight + lumaRightCorners);
    float edgeVertical = abs(-2.0 * lumaUp + lumaUpCorners) + abs(-2.0 * lumaCenter + lumaLeftRight) * 2.0 + abs(-2.0 * lumaDown + lumaDownCorners);

    // Is the local edge horizontal or vertical ?
    bool isHorizontal = (edgeHorizontal >= edgeVertical);

    // Choose the step size (one pixel) accordingly.
    float stepLength = isHorizontal ? inverseScreenSize.y : inverseScreenSize.x;

    // Select the two neighboring texels lumas in the opposite direction to the local edge.
    float luma1 = isHorizontal ? lumaDown : lumaLeft;
    float luma2 = isHorizontal ? lumaUp : lumaRight;
    // Compute gradients in this direction.
    float gradient1 = luma1 - lumaCenter;
    float gradient2 = luma2 - lumaCenter;

    // Which direction is the steepest ?
    bool is1Steepest = abs(gradient1) >= abs(gradient2);

    // Gradient in the corresponding direction, normalized.
    float gradientScaled = 0.25 * max(abs(gradient1), abs(gradient2));

    // Average luma in the correct direction.
    float lumaLocalAverage = 0.0;
    if(is1Steepest){
        // Switch the direction
        stepLength = -stepLength;
        lumaLocalAverage = 0.5 * (luma1 + lumaCenter);
    } else {
        lumaLocalAverage = 0.5 * (luma2 + lumaCenter);
    }

    // Shift UV in the correct direction by half a pixel.
    vec2 currentUv = coords;
    if(isHorizontal){
        currentUv.y += stepLength * 0.5;
    } else {
        currentUv.x += stepLength * 0.5;
    }

    // Compute offset (for each iteration step) in the right direction.
    vec2 offset = isHorizontal ? vec2(inverseScreenSize.x, 0.0) : vec2(0.0, inverseScreenSize.y);
    // Compute UVs to explore on each side of the edge, orthogonally.
    // The QUALITY allows us to step faster.
    vec2 uv1 = currentUv - offset * QUALITY(0);
    vec2 uv2 = currentUv + offset * QUALITY(0);

    // Read the lumas at both current extremities of the exploration segment,
    // and compute the delta wrt to the local average luma.
    float lumaEnd1 = sampleLuma(uv1);
    float lumaEnd2 = sampleLuma(uv2);
    lumaEnd1 -= lumaLocalAverage;
    lumaEnd2 -= lumaLocalAverage;

    // If the luma deltas at the current extremities is larger than the local gradient,
    // we have reached the side of the edge.
    bool reached1 = abs(lumaEnd1) >= gradientScaled;
    bool reached2 = abs(lumaEnd2) >= gradientScaled;
    bool reachedBoth = reached1 && reached2;

    // If the side is not reached, we continue to explore in this direction.
    if(!reached1){
        uv1 -= offset * QUALITY(1);
    }
    if(!reached2){
        uv2 += offset * QUALITY(1);
    }

    // If both sides have not been reached, continue to explore.
    if(!reachedBoth){
        for(int i = 2; i < dIterations; i++){
            // If needed, read luma in 1st direction, compute delta.
            if(!reached1){
                lumaEnd1 = sampleLuma(uv1);
                lumaEnd1 = lumaEnd1 - lumaLocalAverage;
            }
            // If needed, read luma in opposite direction, compute delta.
            if(!reached2){
                lumaEnd2 = sampleLuma(uv2);
                lumaEnd2 = lumaEnd2 - lumaLocalAverage;
            }
            // If the luma deltas at the current extremities is larger than the local gradient,
            // we have reached the side of the edge.
            reached1 = abs(lumaEnd1) >= gradientScaled;
            reached2 = abs(lumaEnd2) >= gradientScaled;
            reachedBoth = reached1 && reached2;

            // If the side is not reached, we continue to explore in this direction,
            // with a variable quality.
            if(!reached1){
                uv1 -= offset * QUALITY(i);
            }
            if(!reached2){
                uv2 += offset * QUALITY(i);
            }

            // If both sides have been reached, stop the exploration.
            if(reachedBoth){
                break;
            }
        }
    }

    // Compute the distances to each side edge of the edge (!).
    float distance1 = isHorizontal ? (coords.x - uv1.x) : (coords.y - uv1.y);
    float distance2 = isHorizontal ? (uv2.x - coords.x) : (uv2.y - coords.y);

    // In which direction is the side of the edge closer ?
    bool isDirection1 = distance1 < distance2;
    float distanceFinal = min(distance1, distance2);

    // Thickness of the edge.
    float edgeThickness = (distance1 + distance2);

    // Is the luma at center smaller than the local average ?
    bool isLumaCenterSmaller = lumaCenter < lumaLocalAverage;

    // If the luma at center is smaller than at its neighbour,
    // the delta luma at each end should be positive (same variation).
    bool correctVariation1 = (lumaEnd1 < 0.0) != isLumaCenterSmaller;
    bool correctVariation2 = (lumaEnd2 < 0.0) != isLumaCenterSmaller;

    // Only keep the result in the direction of the closer side of the edge.
    bool correctVariation = isDirection1 ? correctVariation1 : correctVariation2;

    // UV offset: read in the direction of the closest side of the edge.
    float pixelOffset = - distanceFinal / edgeThickness + 0.5;

    // If the luma variation is incorrect, do not offset.
    float finalOffset = correctVariation ? pixelOffset : 0.0;

    // Sub-pixel shifting
    // Full weighted average of the luma over the 3x3 neighborhood.
    float lumaAverage = (1.0 / 12.0) * (2.0 * (lumaDownUp + lumaLeftRight) + lumaLeftCorners + lumaRightCorners);
    // Ratio of the delta between the global average and the center luma,
    // over the luma range in the 3x3 neighborhood.
    float subPixelOffset1 = clamp(abs(lumaAverage - lumaCenter) / lumaRange, 0.0, 1.0);
    float subPixelOffset2 = (-2.0 * subPixelOffset1 + 3.0) * subPixelOffset1 * subPixelOffset1;
    // Compute a sub-pixel offset based on this delta.
    float subPixelOffsetFinal = subPixelOffset2 * subPixelOffset2 * float(dSubpixelQuality);

    // Pick the biggest of the two offsets.
    finalOffset = max(finalOffset, subPixelOffsetFinal);

    // Compute the final UV coordinates.
    vec2 finalUv = coords;
    if(isHorizontal){
        finalUv.y += finalOffset * stepLength;
    } else {
        finalUv.x += finalOffset * stepLength;
    }

    // Read the color at the new UV coordinates, and use it.
    gl_FragColor = texture2D(tColor, finalUv);
}        

/* old fxaa implementation
uniform highp sampler2D colormap;
varying highp vec2 vTexCoords;


// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0


vec4 applyFXAA(vec2 fragCoord, highp sampler2D tex)
{
    vec4 color;
    ivec2 dim = textureSize(tex,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec4 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP);
    vec4 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP);
    vec4 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP);
    vec4 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP);
    vec4 rgbM  = texture2D(tex, fragCoord );
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW.xyz, luma);
    float lumaNE = dot(rgbNE.xyz, luma);
    float lumaSW = dot(rgbSW.xyz, luma);
    float lumaSE = dot(rgbSE.xyz, luma);
    float lumaM  = dot(rgbM.xyz,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec4 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)) +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)));
    vec4 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5) +
        texture2D(tex, fragCoord  + dir * 0.5));

    float lumaB = dot(rgbB.xyz, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = rgbA;
    else
        color = rgbB;

    return color;
}


//DEFINEFRAGCOLOR
void main (void) {
    ivec2 dim = textureSize(colormap,0);

  gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        
*/`.replace("#define GLSLIFY 1",""),vertexShader:`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `.replace("#define GLSLIFY 1",""),uniforms:{}},oy={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},Wv={vertexShader:`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`.replace("#define GLSLIFY 1",""),fragmentShader:`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    vec3 color = vLight*vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );

    if(fogNear != fogFar) {
        float depth = -cameraPos.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
     
}

`.replace("#define GLSLIFY 1",""),uniforms:oy},xv={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new Ju.Color(0,0,0)},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}},N1={fragmentShader:`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );

    if(fogNear != fogFar) {
        float depth = -cameraPos.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}


`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform float vHeight;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);

    vec4 adjust = projectionMatrix* vec4(norm,normal.z,1.0); 
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+vec4(adjust.xy,0.0,0.0);

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*vec4(center.x+normal.x, center.y,center.z,1.0); 
        vec4 ccoord = projectionMatrix*vec4(center.xyz,1.0);
        adjust = projectionMatrix* vec4(center.x+norm.x,center.y,center.z,1.0); 
        //subtract center 
        unadjusted.xyz -= ccoord.xyz;
        adjust.xyz -= ccoord.xyz;
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth;
        if(diff > outlineMaxPixels) {
            
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth;
            //adjsut reval by ratio of lengths
            rval *= fixlen/abs(adjust.x);
        }

    }
}

`.replace("#define GLSLIFY 1",""),uniforms:xv},c2={fragmentShader:`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a <= alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogNear != fogFar) {

        float depth = gl_FragCoord.z / gl_FragCoord.w; //probably wrong
        float fogFactor = smoothstep(fogNear, fogFar, depth);        
        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);
    }
}

`.replace("#define GLSLIFY 1",""),vertexShader:`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`.replace("#define GLSLIFY 1",""),uniforms:{}},D2={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}},d2=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`,L2={fragmentShader:[d2,`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    color *= light;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );
    if(fogNear != fogFar) {
        float depth = -qi.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`].join(`
`),vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
    bool isperspective = (projectionMatrix[3][3] == 0.0);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(isperspective) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(isperspective) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }

    if(isperspective) { //perspective
      vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
      vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
      mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    } else {
      vec3 cr = normalize(cross(vec3(0.0,0.0,-1.0),norm))*radius;
      vec3 doublecr = normalize(cross(vec3(0.0,0.0,-1.0),cr))*radius;
      mvPosition.xyz +=  mult*(cr + doublecr).xyz;     
    }

    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`,uniforms:D2},b2={fragmentShader:d2+`
    gl_FragColor = vec4(color, opacity*opacity );
    if(fogNear != fogFar) {
        float depth = -qi.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`,vertexShader:`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform mat4 projinv;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);

    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    float scale = 1.0;
    if(projectionMatrix[3][3] != 0.0) { //orthographic
        to.z -= outlinePushback;
        pt.z -= outlinePushback;
    } else { //perspective
        vec4 midbefore = pt;
        if(length(to.xyz) < length(pt)) {
            midbefore = to;
        }
        vec4 midafter = midbefore;
        midafter.xyz += normalize(midbefore.xyz)*outlinePushback;

        to.xyz += normalize(to.xyz)*outlinePushback;
        pt.xyz += normalize(pt.xyz)*outlinePushback;

        //figure out a scaling factor for radius to account for perspective setback
        vec4 midbeforer = vec4(midbefore.x+rad,midbefore.y, midbefore.z, midbefore.w);
        vec4 midafterr = vec4(midafter.x+rad,midafter.y, midafter.z, midafter.w);

        vec4 mb = projectionMatrix*midbefore;
        vec4 mbr = projectionMatrix*midbeforer;
        vec4 ma = projectionMatrix*midafter;
        vec4 mar = projectionMatrix*midafterr;
        mb /= mb.w;
        mbr /= mbr.w;
        ma /= ma.w;
        mar /= mar.w;
        scale = abs((mbr.x-mb.x)/(mar.x-ma.x));
        rad *= scale;
        r = abs(rad);
    }
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }

    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }

    if(outlineMaxPixels > 0.0) {
        vec4 cpos = mvPosition;
        vec4 unadjusted = projectionMatrix*vec4(cpos.x+abs(scale*radius), cpos.y,cpos.z,cpos.w); 
        vec4 ccoord = projectionMatrix*cpos;
        vec4 adjust = projectionMatrix*vec4(cpos.x+r,cpos.y,cpos.z,cpos.w); 
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        unadjusted.xyz -= ccoord.xyz/ccoord.w;
        adjust.xyz -= ccoord.xyz/ccoord.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth; //this should now be in pixels
        if(diff > outlineMaxPixels) {
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth; 
            vec4 pcoord = ccoord;
            pcoord.x += fixlen*pcoord.w;
            vec4 altc = projinv*pcoord;
            r= abs(altc.x-cpos.x);
        }
    }

    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`,uniforms:{opacity:{type:"f",value:1},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new Ju.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0},projinv:{type:"mat4",value:[]}}},g2={opacity:{type:"f",value:1},fogColor:{type:"c",value:new Ju.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}},yy={fragmentShader:`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `.replace("#define GLSLIFY 1",""),vertexShader:`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`.replace("#define GLSLIFY 1",""),uniforms:g2},e2={basic:M1,blur:{fragmentShader:`const float INV_TOTAL_SAMPLES_FACTOR = 1.0 / 9.0;
uniform highp sampler2D inTex;
varying highp vec2 vTexCoords;
    
void main() {
 
 vec2 texelSize = 1.0 / vec2(textureSize(inTex,0));
 float blurred_visibility_factor = 0.0f;
 for (int t = -1; t <= 1; ++t) {
  for (int s = -1; s <= 1; ++s) {
   vec2 offset = vec2(float(s), float(t)) * texelSize;
   blurred_visibility_factor += texture2D(inTex, vTexCoords + offset).r;
  }
 }
    
 gl_FragDepthEXT = blurred_visibility_factor * INV_TOTAL_SAMPLES_FACTOR;
 
}`,vertexShader:`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `,uniforms:{}},instanced:F1,lambert:x1,lambertdouble:my,outline:Zy,screen:E2,screenaa:Ty,ssao:{fragmentShader:`uniform sampler2D depthmap;
varying highp vec2 vTexCoords;
uniform float vWidth;
uniform float vHeight;
uniform float total_strength;
uniform float radius;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

//code for pseudorandom vector from chatgpt
float hash(vec3 p) {
    p = fract(p * vec3(0.1031, 0.1030, 0.0973));
    p += dot(p, p.yzx + 33.33);
    return fract((p.x + p.y) * p.z);
}

// Generate a pseudorandom vec3 from a seed vec3
vec3 pseudorandomVec3(vec3 seed) {
    vec3 randomVec;
    randomVec.x = hash(seed);
    randomVec.y = hash(seed + vec3(1.0, 0.0, 17.1));
    randomVec.z = hash(seed + vec3(0.0, 13.23, 0.0));
    return randomVec;
}

void main(void)
{   
   const float base = 0.2;
   const float area = 0.75;
   const int cycles = 1;

   const int samples = 64;
   vec3 sample_sphere[64] = vec3[](
      vec3(0.091258,-0.510164,0.000000),
      vec3(-0.204347,-0.872967,0.187199),
      vec3(0.009690,-0.263696,-0.110414),
      vec3(0.175208,-0.563987,0.228527),
      vec3(-0.001824,-0.003113,-0.000323),
      vec3(0.411134,-0.719869,-0.261530),
      vec3(-0.074272,-0.377368,0.276290),
      vec3(-0.147773,-0.381587,-0.284529),
      vec3(0.173317,-0.199635,0.063295),
      vec3(-0.186452,-0.199460,0.076965),
      vec3(0.143985,-0.308160,-0.307687),
      vec3(0.053194,-0.148286,0.169589),
      vec3(-0.547656,-0.486476,-0.317378),
      vec3(0.020804,-0.015092,-0.004574),
      vec3(-0.038006,-0.043165,0.054059),
      vec3(-0.094795,-0.443908,-0.731525),
      vec3(0.547552,-0.396466,0.461477),
      vec3(-0.176886,-0.089989,0.007315),
      vec3(0.074401,-0.048840,-0.074039),
      vec3(-0.008240,-0.075697,0.178197),
      vec3(-0.307880,-0.185053,-0.368943),
      vec3(0.309520,-0.108483,0.041646),
      vec3(-0.773478,-0.292946,0.538166),
      vec3(0.184487,-0.231594,-0.820065),
      vec3(0.207318,-0.100531,0.361797),
      vec3(-0.173306,-0.037737,-0.055289),
      vec3(0.548102,-0.105342,-0.253237),
      vec3(-0.119342,-0.043907,0.285162),
      vec3(-0.270247,-0.087861,-0.751357),
      vec3(0.449312,-0.039777,0.236146),
      vec3(-0.743773,-0.036095,0.196056),
      vec3(0.148819,-0.004300,-0.231448),
      vec3(0.008773,0.000809,0.051047),
      vec3(-0.461467,0.027390,-0.357386),
      vec3(0.169626,0.013338,-0.014053),
      vec3(-0.043786,0.007095,0.047331),
      vec3(0.004821,0.140371,-0.988260),
      vec3(0.092402,0.023994,0.101860),
      vec3(-0.295335,0.061530,-0.027372),
      vec3(0.024903,0.007537,-0.018901),
      vec3(-0.081463,0.125402,0.447794),
      vec3(-0.397119,0.231805,-0.631062),
      vec3(0.163853,0.059014,0.044905),
      vec3(-0.495220,0.214357,0.254139),
      vec3(0.306123,0.373687,-0.825715),
      vec3(0.021665,0.026737,0.053220),
      vec3(-0.208231,0.117129,-0.098685),
      vec3(0.139749,0.080968,-0.043086),
      vec3(-0.153599,0.182814,0.262090),
      vec3(-0.159673,0.496777,-0.743568),
      vec3(0.134797,0.117152,0.095753),
      vec3(-0.155626,0.120533,0.019395),
      vec3(0.042311,0.054462,-0.049709),
      vec3(0.001257,0.031288,0.034468),
      vec3(-0.002271,0.003199,-0.002304),
      vec3(0.662104,0.717307,0.033854),
      vec3(-0.373100,0.576021,0.308274),
      vec3(0.024233,0.231316,-0.173688),
      vec3(0.161311,0.420217,0.234273),
      vec3(-0.045248,0.078031,-0.010411),
      vec3(0.167453,0.376942,-0.094872),
      vec3(-0.056194,0.433247,0.173218),
      vec3(-0.016224,0.123149,-0.035569),
      vec3(0.067127,0.407641,0.028479)
   );

   float depth = texture2D(depthmap, vTexCoords).r;
   if(depth == 1.0) {
      discard;
   }

   vec4 screen_position = vec4(vTexCoords, depth,1.0);
   vec4 pos = projinv*screen_position;
   pos /= pos.w;
   vec3 position = pos.xyz;

   //approximate the normal from the depth map; I find this simpler
   //than trying to recompute the exact normal within every possible object shader

   //pixel offset positions in screen space
   ivec2 dim = textureSize(depthmap,0);
   vec2 offset1 = vec2(0.0,1.0/float(dim.y));
   vec2 offset2 = vec2(1.0/float(dim.x),0.0);
   float depth1 = texture2D(depthmap, vTexCoords + offset1).r;
   float depth2 = texture2D(depthmap, vTexCoords + offset2).r;
   
   vec3 p1 = vec3(screen_position.xy+offset1, depth1 - depth);
   vec3 p2 = vec3(screen_position.xy+offset2, depth2 - depth);

   //convert to model space
   vec4 pos1 = projinv*vec4(p1,1);
   pos1 /= pos1.w;
   vec4 pos2 = projinv*vec4(p2,1);
   pos2 /= pos2.w;

   vec3 normal = normalize(cross(pos1.xyz-position, pos2.xyz-position)); //model normal, important we normalize in model space

   //pseudo random number

   float occlusion = 0.0;
   for(int c = 0; c < cycles; c++) {
   vec3 random = normalize(pseudorandomVec3(position+float(c)));
   for(int i=0; i < samples; i++) {

      vec3 ray = radius * reflect(sample_sphere[i],random);
      vec3 hemi_ray = position + sign(dot(ray,normal)) * ray; //model space
      vec4 hemi_screen = projectionMatrix*vec4(hemi_ray,1.0);
      hemi_screen /= hemi_screen.w;
      
      float occ_depth = texture2D(depthmap, clamp(hemi_screen.xy,0.0,1.0)).r;
      float difference = hemi_screen.z - occ_depth;
      
      occlusion += step(0.0, difference) * (1.0-smoothstep(0.0, area, difference));
   }
   }
   float ao = 1.0 - total_strength * occlusion * (1.0 / float(cycles*samples));
   gl_FragDepthEXT = clamp(ao+base,0.0,1.0);

}`,vertexShader:`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `,uniforms:{total_strength:{type:"f",value:1},radius:{type:"f",value:5},projinv:{type:"mat4",value:[]}}},sphereimposter:Wv,sphereimposteroutline:N1,sprite:c2,stickimposter:L2,stickimposteroutline:b2,volumetric:yy};function M2(Z1){let gu={};for(const z0 in Z1){gu[z0]={},gu[z0].type=Z1[z0].type;var t0=Z1[z0].value;t0 instanceof Ju.Color?gu[z0].value=t0.clone():typeof t0=="number"?gu[z0].value=t0:t0 instanceof Array?gu[z0].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return gu}const m2={clone:M2};class I2 extends D0{constructor(gu=50,t0=1,z0=.1,dm=2e3,om=!1){super(),this.projectionMatrix=new $.Matrix4,this.projectionMatrixInverse=new $.Matrix4,this.matrixWorldInverse=new $.Matrix4,this.fov=gu,this.aspect=t0,this.near=z0,this.far=dm;var u1=this.position.z;this.right=u1*Math.tan(Math.PI/180*gu),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!om,this.updateProjectionMatrix()}lookAt(gu){this.matrix.lookAt(this.position,gu,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof $.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}class O2{constructor(gu,t0=1,z0=1e3){this.name="",this.color=new Ju.Color(gu),this.near=t0,this.far=z0}clone(){return new O2(this.color.getHex(),this.near,this.far)}}class B2{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(gu){this.gl=gu.context,this.renderer=gu,this.precision=gu.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var t0=0;this.sprite.vertices[t0++]=-1,this.sprite.vertices[t0++]=-1,this.sprite.vertices[t0++]=0,this.sprite.vertices[t0++]=0,this.sprite.vertices[t0++]=1,this.sprite.vertices[t0++]=-1,this.sprite.vertices[t0++]=1,this.sprite.vertices[t0++]=0,this.sprite.vertices[t0++]=1,this.sprite.vertices[t0++]=1,this.sprite.vertices[t0++]=1,this.sprite.vertices[t0++]=1,this.sprite.vertices[t0++]=-1,this.sprite.vertices[t0++]=1,this.sprite.vertices[t0++]=0,this.sprite.vertices[t0++]=1,t0=0,this.sprite.faces[t0++]=0,this.sprite.faces[t0++]=1,this.sprite.faces[t0++]=2,this.sprite.faces[t0++]=0,this.sprite.faces[t0++]=2,this.sprite.faces[t0++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(e2.sprite,this.precision||1),this.sprite.attributes={};const z0={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),z0.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),z0.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),z0.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),z0.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),z0.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),z0.color=this.gl.getUniformLocation(this.sprite.program,"color"),z0.map=this.gl.getUniformLocation(this.sprite.program,"map"),z0.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),z0.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),z0.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),z0.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),z0.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),z0.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),z0.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),z0.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),z0.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=z0}render(gu,t0,z0,dm,om){var u1,m1,c1,k1,d1,E1,rv,ev,Xv,ky;if(!this.gl)throw new Error("WebGLRenderer not initialized");let xy=[];(u1=gu==null?void 0:gu.__webglSprites)===null||u1===void 0||u1.forEach(lp=>{(om&&lp.material.depthTest==0||!om&&lp.material.depthTest)&&xy.push(lp)});let _v=xy.length;if(!_v)return;const Vv=this.sprite.attributes,pv=this.sprite.uniforms;if(!pv)throw new Error("Uniforms not defined");var hy=.5*z0,tv=.5*dm;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(Vv.position),this.gl.enableVertexAttribArray(Vv.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(Vv.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(Vv.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(pv.projectionMatrix,!1,t0.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(pv.map,0);var Qy,c0=gu.fog;let _t,wl,zl;c0?(this.gl.uniform3f(pv.fogColor,c0.color.r,c0.color.g,c0.color.b),this.gl.uniform1f(pv.fogNear,c0.near),this.gl.uniform1f(pv.fogFar,c0.far)):(this.gl.uniform1f(pv.fogNear,0),this.gl.uniform1f(pv.fogFar,0));let Vl=[];for(Qy=0;Qy<_v;Qy++)_t=xy[Qy],wl=_t.material,wl&&(wl.depthTest!=0||om)&&_t.visible&&wl.opacity!==0&&(wl.useScreenCoordinates?_t.z=-_t.position.z:(_t._modelViewMatrix.multiplyMatrices(t0.matrixWorldInverse,_t.matrixWorld),_t.z=-_t._modelViewMatrix.elements[14]));for(xy.sort(Av),Qy=0;Qy<_v;Qy++)if(_t=xy[Qy],wl=_t.material,wl&&_t.visible&&wl.opacity!==0&&wl.map&&wl.map.image&&wl.map.image.width){this.gl.uniform1f((pv==null?void 0:pv.alphaTest)||null,wl.alphaTest);var tp=wl.map.image.width,Du=wl.map.image.height;Vl[0]=tp*this.renderer.devicePixelRatio/z0,Vl[1]=Du*this.renderer.devicePixelRatio/dm,wl.useScreenCoordinates===!0?(this.gl.uniform1i(pv.useScreenCoordinates,1),this.gl.uniform3f(pv.screenPosition,(_t.position.x*this.renderer.devicePixelRatio-hy)/hy,(tv-_t.position.y*this.renderer.devicePixelRatio)/tv,Math.max(0,Math.min(1,_t.position.z)))):(this.gl.uniform1i(pv.useScreenCoordinates,0),this.gl.uniformMatrix4fv(pv.modelViewMatrix,!1,_t._modelViewMatrix.elements)),zl=1/(wl.scaleByViewport?dm:1),Vl[0]*=zl*_t.scale.x,Vl[1]*=zl*_t.scale.y;let lp=(m1=wl==null?void 0:wl.alignment)===null||m1===void 0?void 0:m1.x,up=(c1=wl==null?void 0:wl.alignment)===null||c1===void 0?void 0:c1.y;wl.screenOffset&&(lp=(lp||0)+2*wl.screenOffset.x/tp,up=(up||0)+2*wl.screenOffset.y/Du),this.gl.uniform2f(pv.uvScale,((k1=wl==null?void 0:wl.uvScale)===null||k1===void 0?void 0:k1.x)||1,((d1=wl==null?void 0:wl.uvScale)===null||d1===void 0?void 0:d1.y)||1),this.gl.uniform2f(pv.uvOffset,((E1=wl==null?void 0:wl.uvOffset)===null||E1===void 0?void 0:E1.x)||0,((rv=wl==null?void 0:wl.uvOffset)===null||rv===void 0?void 0:rv.y)||0),this.gl.uniform2f(pv.alignment,lp||0,up||0),this.gl.uniform1f(pv.opacity,wl.opacity),this.gl.uniform3f(pv.color,((ev=wl==null?void 0:wl.color)===null||ev===void 0?void 0:ev.r)||0,((Xv=wl==null?void 0:wl.color)===null||Xv===void 0?void 0:Xv.g)||0,((ky=wl==null?void 0:wl.color)===null||ky===void 0?void 0:ky.b)||0),this.gl.uniform1f(pv.rotation,_t.rotation),this.gl.uniform2fv(pv.scale,Vl),this.renderer.setDepthTest(wl.depthTest),this.renderer.setDepthWrite(wl.depthWrite),this.renderer.setTexture(wl.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(gu,t0){if(!this.gl)throw new Error("WebGL Rendering context not found");var z0=this.gl.createProgram();if(!z0)throw new Error("Error creating webgl program");var dm=this.gl.createShader(this.gl.FRAGMENT_SHADER),om=this.gl.createShader(this.gl.VERTEX_SHADER);if(!dm)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!om)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var u1="precision "+t0+` float;
`;if(this.gl.shaderSource(dm,u1+gu.fragmentShader),this.gl.shaderSource(om,u1+gu.vertexShader),this.gl.compileShader(dm),this.gl.compileShader(om),!this.gl.getShaderParameter(dm,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(om,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(dm)} 
      ${this.gl.getShaderInfoLog(om)}`);return this.gl.attachShader(z0,dm),this.gl.attachShader(z0,om),this.gl.linkProgram(z0),this.gl.getProgramParameter(z0,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),z0}}function Av(Z1,gu){return Z1.z!==gu.z?gu.z-Z1.z:gu.id-Z1.id}var qy=null,zy=null;class z2{constructor(gu){this.context=null,this.devicePixelRatio=1,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._offscreen=null,this._bitmap=null,this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._vector3=new $.Vector3,this._worldInverse=new $.Matrix4,this._projInverse=new $.Matrix4,this._textureMatrix=new $.Matrix4,this._fullProjModelMatrix=new $.Matrix4,this._fullProjModelMatrixInv=new $.Matrix4,this._direction=new $.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new B2,this._screenshader=null,this._AOshader=null,this._blurshader=null,this._vertexattribpos=null,this._aovertexattribpos=null,this._blurvertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,this._shadingTexture=null,this._scratchTexture=null,this._upscale=null,this._AOstrength=1,this._AOradius=5,this.SHADE_TEXTURE=3,gu=gu||{},this.row=gu.row,this.col=gu.col,this.rows=gu.rows,this.cols=gu.cols,this._canvas=gu.canvas!==void 0?gu.canvas:document.createElement("canvas"),this._precision=gu.precision!==void 0?gu.precision:"highp",this._alpha=gu.alpha===void 0||gu.alpha,this._premultipliedAlpha=gu.premultipliedAlpha===void 0||gu.premultipliedAlpha,this._antialias=gu.antialias!==void 0&&gu.antialias,this._upscale=gu.upscale!==void 0?gu.upscale:this._antialias,this._preserveDrawingBuffer=gu.preserveDrawingBuffer!==void 0&&gu.preserveDrawingBuffer,this._clearColor=gu.clearColor!==void 0?new Ju.Color(gu.clearColor):new Ju.Color(0),this._clearAlpha=gu.clearAlpha!==void 0?gu.clearAlpha:0,this._outlineMaterial=new J1(gu.outline),this._outlineSphereImposterMaterial=new Iv(gu.outline),this._outlineStickImposterMaterial=new wy(gu.outline),this._outlineEnabled=!!gu.outline,this._AOEnabled=!!gu.ambientOcclusion,gu.ambientOcclusion&&gu.ambientOcclusion.strength!==void 0&&(this._AOstrength=parseFloat(gu.ambientOcclusion.strength)),this._AOstrength==0&&(this._AOEnabled=!1),gu.ambientOcclusion&&gu.ambientOcclusion.radius!==void 0&&(this._AOradius=parseFloat(gu.ambientOcclusion.radius)),this.domElement=this._canvas,this._canvas.id=gu.id,gu.containerWidth!=0&&gu.containerHeight!=0&&(this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this))}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return this._gl==null||this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(gu,t0){this._clearColor.setHex(gu),this._clearAlpha=t0,this.isLost()||this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(gu){this._outlineMaterial=new J1(gu),this._outlineSphereImposterMaterial=new Iv(gu),this._outlineStickImposterMaterial=new wy(gu),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}enableAmbientOcclusion(gu){gu&&(gu.strength&&(this._AOstrength=gu.strength),gu.scale&&(this._AOradius=gu.scale)),this._AOEnabled=this._AOstrength>0}disableAmbientOcclusion(){this._AOEnabled=!1}setViewport(){if(this._offscreen&&(this._offscreen.width=this._canvas.width,this._offscreen.height=this._canvas.height),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null&&!this.isLost()){var gu=this._gl.drawingBufferWidth/this.cols,t0=this._gl.drawingBufferHeight/this.rows;this._viewportWidth=gu,this._viewportHeight=t0,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(gu*this.col,t0*this.row,gu,t0),this._gl.viewport(gu*this.col,t0*this.row,gu,t0)}}setSize(gu,t0){this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._upscale&&this.devicePixelRatio<2&&(this.devicePixelRatio=2),this._canvas.width=gu*this.devicePixelRatio,this._canvas.height=t0*this.devicePixelRatio,this._canvas.style.width=gu+"px",this._canvas.style.height=t0+"px",this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null?(this.isLost()||(this._viewportWidth=this._gl.drawingBufferWidth/this.cols,this._viewportHeight=this._gl.drawingBufferHeight/this.rows),this.setViewport()):(this._viewportWidth=this._canvas.width,this._viewportHeight=this._canvas.height,this.isLost()||this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight)),this.initFrameBuffer()}clear(gu,t0,z0){var dm=0;(gu===void 0||gu)&&(dm|=this._gl.COLOR_BUFFER_BIT),(t0===void 0||t0)&&(dm|=this._gl.DEPTH_BUFFER_BIT),(z0===void 0||z0)&&(dm|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(dm)}setMaterialFaces(gu,t0){var z0=gu.side===b,dm=gu.side===g;gu.imposter||(dm=t0?!dm:dm),this._oldDoubleSided!==z0&&(z0?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=z0),this._oldFlipSided!==dm&&(dm?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=dm),this._gl.cullFace(this._gl.BACK)}setDepthTest(gu){this._oldDepthTest!==gu&&(gu?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=gu)}setDepthWrite(gu){this._oldDepthWrite!==gu&&(this._gl.depthMask(gu),this._oldDepthWrite=gu)}setBlending(gu){gu?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(gu,t0,z0,dm){var om,u1;if(gu.addEventListener("dispose",this.onMaterialDispose.bind(this)),u1=gu.shaderID){var m1=e2[u1];gu.vertexShader=m1.vertexShader,gu.fragmentShader=m1.fragmentShader,gu.uniforms=m2.clone(m1.uniforms),gu.shaded&&gu.makeShaded(this.SHADE_TEXTURE)}om={wireframe:gu.wireframe,fragdepth:gu.imposter,volumetric:gu.volumetric,shaded:gu.shaded},gu.program=this.buildProgram(gu.fragmentShader,gu.vertexShader,gu.uniforms,om)}renderBuffer(gu,t0,z0,dm,om,u1){var m1,c1;if(dm.visible&&(m1=this.setProgram(gu,t0,z0,dm,u1,this))){c1=m1.attributes;var k1,d1,E1=!1,rv=dm.wireframe?1:0,ev=16777215*om.id+2*m1.id+rv;if(ev!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=ev,E1=!0),E1&&(this.disableAttributes(),c1.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,om.__webglVertexBuffer),this.enableAttribute(c1.position),this._gl.vertexAttribPointer(c1.position,3,this._gl.FLOAT,!1,0,0)),c1.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,om.__webglColorBuffer),this.enableAttribute(c1.color),this._gl.vertexAttribPointer(c1.color,3,this._gl.FLOAT,!1,0,0)),c1.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,om.__webglNormalBuffer),this.enableAttribute(c1.normal),this._gl.vertexAttribPointer(c1.normal,3,this._gl.FLOAT,!1,0,0)),c1.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,om.__webglOffsetBuffer),this.enableAttribute(c1.offset),this._gl.vertexAttribPointer(c1.offset,3,this._gl.FLOAT,!1,0,0)),c1.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,om.__webglRadiusBuffer),this.enableAttribute(c1.radius),this._gl.vertexAttribPointer(c1.radius,1,this._gl.FLOAT,!1,0,0))),u1 instanceof K0){if(dm.shaderID==="instanced"){var Xv=dm.sphere.geometryGroups[0];E1&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,om.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Xv.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,om.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Xv.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,om.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Xv.faceArray,this._gl.STATIC_DRAW)),k1=Xv.faceidx,this._extInstanced.vertexAttribDivisorANGLE(c1.offset,1),this._extInstanced.vertexAttribDivisorANGLE(c1.radius,1),this._extInstanced.vertexAttribDivisorANGLE(c1.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,k1,this._gl.UNSIGNED_SHORT,0,om.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(c1.offset,0),this._extInstanced.vertexAttribDivisorANGLE(c1.radius,0),this._extInstanced.vertexAttribDivisorANGLE(c1.color,0)}else dm.wireframe?(d1=om.lineidx,this.setLineWidth(dm.wireframeLinewidth),E1&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,om.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,d1,this._gl.UNSIGNED_SHORT,0)):(k1=om.faceidx,E1&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,om.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,k1,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=k1,this.info.render.faces+=k1/3}else u1 instanceof R0&&(d1=om.vertices,this.setLineWidth(dm.linewidth),this._gl.drawArrays(this._gl.LINES,0,d1),this.info.render.calls++)}}clearShading(){this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}setShading(gu,t0,z0){let dm=gu.__lights,om=gu.fog,u1=[];for(let k1=0,d1=gu.__webglObjects.length;k1<d1;k1++){let E1=gu.__webglObjects[k1];E1.render&&E1[z0]&&u1.push(E1)}if(u1.length==0)return;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,null,0),this.renderObjects(gu.__webglObjects,!0,z0+"Depth",t0,dm,om,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._scratchTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._AOshader),this._currentProgram=this._AOshader,this.setDepthTest(-1),this.setDepthWrite(-1);let m1=this._AOshader.uniforms;this._gl.uniform1f(m1.total_strength,this._AOstrength),this._gl.uniform1f(m1.radius,this._AOradius),this._fullProjModelMatrix=new $.Matrix4,this._fullProjModelMatrixInv=new $.Matrix4;let c1=u1[0].object;this._fullProjModelMatrix.multiplyMatrices(t0.projectionMatrix,c1._modelViewMatrix),this._fullProjModelMatrixInv.getInverse(this._fullProjModelMatrix),this._gl.uniformMatrix4fv(m1.projectionMatrix,!1,this._fullProjModelMatrix.elements),this._gl.uniformMatrix4fv(m1.projinv,!1,this._fullProjModelMatrixInv.elements),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._aovertexattribpos),this._gl.vertexAttribPointer(this._aovertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._blurshader),this._currentProgram=this._blurshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._blurvertexattribpos),this._gl.vertexAttribPointer(this._blurvertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}render(gu,t0){if(t0 instanceof I2==0)return void console.error("Renderer.render: camera is not an instance of Camera.");var z0,dm,om,u1,m1,c1=gu.__lights,k1=gu.fog;if(this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&gu.updateMatrixWorld(),t0.parent===void 0&&t0.updateMatrixWorld(),t0.matrixWorldInverse.getInverse(t0.matrixWorld),this.isLost())return;this.autoUpdateObjects&&this.initWebGLObjects(gu),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(!0,!0,!0),m1=gu.__webglObjects;let d1=!1,E1=this._AOEnabled;for(z0=0,dm=m1.length;z0<dm;z0++)u1=(om=m1[z0]).object,om.render=!1,u1.visible&&(this.setupMatrices(u1,t0),this.unrollBufferMaterial(om),om.render=!0,om.volumetric&&(d1=!0),om.hasAO&&(E1=!0));if(this.setBlending(!1),E1&&this.setShading(gu,t0,"opaque"),this.renderObjects(gu.__webglObjects,!0,"opaque",t0,c1,k1,!1),E1&&this.clearShading(),this.renderSprites(gu,t0,!1),this.renderObjects(gu.__webglObjects,!0,"transparentDepth",t0,c1,k1,!0),this.renderObjects(gu.__webglObjects,!1,"transparent",t0,c1,k1,!0),d1&&this._fb&&(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,null,0),this.renderObjects(gu.__webglObjects,!1,"volumetric",t0,c1,k1,!0)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(gu,t0,!0),this._bitmap){const rv=this._offscreen.transferToImageBitmap();this._bitmap.transferFromImageBitmap(rv),rv.close()}}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let gu=this._viewportWidth,t0=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,gu,t0),this._gl.viewport(0,0,gu,t0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,gu,t0,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,gu,t0,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._shadingTexture&&(this._gl.deleteTexture(this._shadingTexture),this._shadingTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,gu,t0,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.deleteTexture(this._scratchTexture),this._scratchTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,gu,t0,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.clearDepth(1),this._gl.clear(this._gl.DEPTH_BUFFER_BIT),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let gu=this._viewportWidth,t0=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,gu,t0),this._gl.viewport(0,0,gu,t0),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._shadingTexture=this._gl.createTexture(),this._scratchTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var z0=this._antialias?e2.screenaa:e2.screen;this._screenshader=this.buildProgram(z0.fragmentShader,z0.vertexShader,z0.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition"),this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array([1,1,-1,1,-1,-1,-1,-1,1,-1,1,1]),this._gl.STATIC_DRAW);let dm=e2.ssao;this._AOshader=this.buildProgram(dm.fragmentShader,dm.vertexShader,dm.uniforms,{}),this._aovertexattribpos=this._gl.getAttribLocation(this._AOshader,"vertexPosition");let om=e2.blur;this._blurshader=this.buildProgram(om.fragmentShader,om.vertexShader,om.uniforms,{}),this._blurvertexattribpos=this._gl.getAttribLocation(this._blurshader,"vertexPosition")}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(gu){if(gu.__webglObjects||(gu.__webglObjects=[],gu.__webglObjectsImmediate=[],gu.__webglSprites=[],gu.__webglFlares=[]),gu.__objectsAdded.length){for(;gu.__objectsAdded.length;)this.addObject(gu.__objectsAdded[0],gu),gu.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;gu.__objectsRemoved.length;)this.removeObject(gu.__objectsRemoved[0],gu),gu.__objectsRemoved.splice(0,1);for(var t0=0,z0=gu.__webglObjects.length;t0<z0;t0++)this.updateObject(gu.__webglObjects[t0].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(gu,t0){gu!=null&&t0!=null||(gu=this._canvas.width,t0=this._canvas.height);var z0=gu/t0;return this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null&&(z0=gu/this.cols/(t0/this.rows)),z0}setTexture(gu,t0,z0){if(gu.needsUpdate){gu.__webglInit||(gu.__webglInit=!0,gu.addEventListener("dispose",this.onTextureDispose.bind(this)),gu.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+t0);var dm=z0?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(dm,gu.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,gu.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,gu.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,gu.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,gu.unpackAlignment);var om=this.paramToGL(gu.format),u1=this.paramToGL(gu.type);if(z0)this.setTextureParameters(this._gl.TEXTURE_3D,gu),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,gu.image.size.z,gu.image.size.y,gu.image.size.x,0,this._gl.RED,this._gl.FLOAT,gu.image.data);else{var m1=gu.image,c1=m1.width,k1=m1.height;c1===void 0&&(c1=m1.length,om==this._gl.RGBA&&(c1/=4),k1=1),this.setTextureParameters(this._gl.TEXTURE_2D,gu),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,om,om,u1,gu.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,om,c1,k1,0,om,u1,gu.image)}gu.needsUpdate=!1,gu.onUpdate&&gu.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+t0),z0?this._gl.bindTexture(this._gl.TEXTURE_3D,gu.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,gu.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(gu){this._enabledAttributes[gu]||(this._gl.enableVertexAttribArray(gu),this._enabledAttributes[gu]=!0)}disableAttributes(){for(let gu in this._enabledAttributes)this._enabledAttributes[gu]&&(this._gl.disableVertexAttribArray(gu),this._enabledAttributes[gu]=!1)}setPolygonOffset(gu,t0,z0){this._oldPolygonOffset!==gu&&(gu?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(gu){gu!==this._oldLineWidth&&(this._gl.lineWidth(gu),this._oldLineWidth=gu)}deallocateGeometry(gu){if(gu.__webglInit=void 0,gu.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(gu.__webglVertexBuffer),gu.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(gu.__webglColorBuffer),gu.geometryGroups!==void 0)for(var t0=0,z0=gu.groups;t0<z0;t0++){var dm=gu.geometryGroups[t0];dm.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(dm.__webglVertexBuffer),dm.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(dm.__webglColorBuffer),dm.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(dm.__webglNormalBuffer),dm.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(dm.__webglFaceBuffer),dm.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(dm.__webglLineBuffer)}}deallocateMaterial(gu){var t0=gu.program;if(t0!==void 0){var z0,dm,om;gu.program=void 0;var u1=!1;for(z0=0,dm=this._programs.length;z0<dm;z0++)if((om=this._programs[z0]).program===t0){om.usedTimes--,om.usedTimes===0&&(u1=!0);break}if(u1===!0){var m1=[];for(z0=0,dm=this._programs.length;z0<dm;z0++)(om=this._programs[z0]).program!==t0&&m1.push(om);this._programs=m1,this._gl.deleteProgram(t0),this.info.memory.programs--}}}deallocateTexture(gu){if(gu.image&&gu.image.__webglTextureCube)this._gl.deleteTexture(gu.image.__webglTextureCube);else{if(!gu.__webglInit)return;gu.__webglInit=!1,this._gl.deleteTexture(gu.__webglTexture)}}onGeometryDispose(gu){var t0=gu.target;t0.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(t0),this.info.memory.geometries--}onTextureDispose(gu){var t0=gu.target;t0.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(t0),this.info.memory.textures--}onMaterialDispose(gu){var t0=gu.target;t0.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(t0)}getShader(gu,t0){var z0;return this.isWebGL1()||t0.startsWith("#version")||(t0=t0.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),t0=`#version 300 es
`+(t0=(t0=(t0=(t0=(t0=gu=="fragment"?t0.replace(/varying/g,"in"):t0.replace(/varying/g,"out")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;")).replace(/gl_FragColor/g,"glFragColor"))),gu==="fragment"?z0=this._gl.createShader(this._gl.FRAGMENT_SHADER):gu==="vertex"&&(z0=this._gl.createShader(this._gl.VERTEX_SHADER)),z0==null?null:(this._gl.shaderSource(z0,t0),this._gl.compileShader(z0),this._gl.getShaderParameter(z0,this._gl.COMPILE_STATUS)?z0:(console.error(this._gl.getShaderInfoLog(z0)),console.error("could not initialize shader"),null))}buildProgram(gu,t0,z0,dm){var om,u1,m1,c1,k1=[];for(om in k1.push(gu),k1.push(t0),dm)k1.push(om),k1.push(dm[om]);for(c1=k1.join(),om=0,u1=this._programs.length;om<u1;om++){var d1=this._programs[om];if(d1.code===c1)return d1.usedTimes++,d1.program}if(this.isWebGL1()&&dm.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if((m1=this._gl.createProgram())==null)return null;var E1,rv,ev,Xv="precision "+this._precision+" float;",ky=[dm.volumetric?"#version 300 es":"",Xv].join(`
`),xy=[dm.volumetric?"#version 300 es":"",dm.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",dm.shaded?"#define SHADED 1":"",dm.wireframe?"#define WIREFRAME 1":"",Xv].join(`
`),_v=this.getShader("fragment",xy+gu),Vv=this.getShader("vertex",ky+t0);for(rv in Vv!=null&&this._gl.attachShader(m1,Vv),_v!=null&&this._gl.attachShader(m1,_v),this._gl.linkProgram(m1),this._gl.getProgramParameter(m1,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),m1.uniforms={},m1.attributes={},E1=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","vWidth","vHeight"],z0)E1.push(rv);for(ev=0;ev<E1.length;ev++){var pv=E1[ev];m1.uniforms[pv]=this._gl.getUniformLocation(m1,pv)}for(E1=["position","normal","color","lineDistance","offset","radius"],ev=0;ev<E1.length;ev++){var hy=E1[ev];m1.attributes[hy]=this._gl.getAttribLocation(m1,hy)}return m1.id=this._programs_counter++,this._programs.push({program:m1,code:c1,usedTimes:1}),this.info.memory.programs=this._programs.length,m1}setProgram(gu,t0,z0,dm,om,u1){if(dm.needsUpdate&&(dm.program&&this.deallocateMaterial(dm),this.initMaterial(dm,t0,z0,om),dm.needsUpdate=!1),dm.program==null)return null;var m1=!1,c1=dm.program,k1=c1.uniforms,d1=dm.uniforms;if(c1!=this._currentProgram&&(this._gl.useProgram(c1),this._currentProgram=c1,m1=!0),dm.id!=this._currentMaterialId&&(this._currentMaterialId=dm.id,m1=!0),gu!=this._currentCamera&&(this._currentCamera=gu,m1=!0),k1.projectionMatrix&&this._gl.uniformMatrix4fv(k1.projectionMatrix,!1,gu.projectionMatrix.elements),k1.modelViewMatrix&&this._gl.uniformMatrix4fv(k1.modelViewMatrix,!1,om._modelViewMatrix.elements),k1.normalMatrix&&this._gl.uniformMatrix3fv(k1.normalMatrix,!1,om._normalMatrix.elements),k1.projinv&&(this._projInverse.getInverse(gu.projectionMatrix),this._gl.uniformMatrix4fv(k1.projinv,!1,this._projInverse.elements)),k1.viewMatrix&&this._gl.uniformMatrix4fv(k1.viewMatrix,!1,gu.matrixWorldInverse.elements),k1.vWidth&&this._gl.uniform1f(k1.vWidth,this._viewportWidth),k1.vHeight&&this._gl.uniform1f(k1.vHeight,this._viewportHeight),m1){if(d1.fogColor.value=z0.color,d1.fogNear.value=z0.near,d1.fogFar.value=z0.far,dm.shaderID.startsWith("lambert")||dm.shaderID==="instanced"||dm.shaderID.endsWith("imposter"))this._lightsNeedUpdate&&(this.setupLights(c1,t0),this._lightsNeedUpdate=!1),d1.directionalLightColor.value=this._lights.directional.colors,d1.directionalLightDirection.value=this._lights.directional.positions;else if(dm.shaderID.endsWith("outline"))d1.outlineColor.value=dm.outlineColor,d1.outlineWidth.value=dm.outlineWidth,d1.outlinePushback.value=dm.outlinePushback,d1.outlineMaxPixels.value=dm.outlineMaxPixels*this.devicePixelRatio;else if(dm.shaderID==="volumetric"){om._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(om._modelViewMatrix),this._projInverse.getInverse(gu.projectionMatrix),this._textureMatrix.multiplyMatrices(om.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(k1.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(k1.projinv,!1,this._projInverse.elements);let E1=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);d1.step.value=om.material.unit*E1,d1.maxdepth.value=om.material.maxdepth*E1,d1.transfermax.value=om.material.transfermax,d1.transfermin.value=om.material.transfermin,d1.subsamples.value=om.material.subsamples,u1.setTexture(om.material.transferfn,4,!1),u1.setTexture(om.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}d1.opacity.value=dm.opacity,this.loadMaterialUniforms(k1,d1)}return d1.shading&&(d1.shading.value==3?(this._gl.activeTexture(this._gl.TEXTURE0+this.SHADE_TEXTURE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture)):console.error("Invalid shading textures.")),c1}loadMaterialUniforms(gu,t0){var z0,dm,om,u1;for(z0 in t0)gu[z0]&&(dm=t0[z0].type,om=t0[z0].value,u1=gu[z0],dm==="f"?this._gl.uniform1f(u1,om):dm==="i"?this._gl.uniform1i(u1,om):dm==="fv"?this._gl.uniform3fv(u1,om):dm==="c"?this._gl.uniform3f(u1,om.r,om.g,om.b):dm==="f4"&&this._gl.uniform4f(u1,om[0],om[1],om[2],om[3]))}addObject(gu,t0){var z0,dm,om,u1;if(!gu.__webglInit&&(gu.__webglInit=!0,gu._modelViewMatrix=new $.Matrix4,gu._normalMatrix=new $.Matrix3,gu.geometry!==void 0&&gu.geometry.__webglInit===void 0&&(gu.geometry.__webglInit=!0,gu.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),gu instanceof K0||gu instanceof R0))for(z0=0,dm=(om=gu.geometry).geometryGroups.length;z0<dm;z0++)(u1=om.geometryGroups[z0]).id=this._geometryGroupCounter++,u1.__webglVertexBuffer||(gu instanceof K0?(this.createMeshBuffers(u1),om.elementsNeedUpdate=!0,om.normalsNeedUpdate=!0):gu instanceof R0&&this.createLineBuffers(u1),om.verticesNeedUpdate=!0,om.colorsNeedUpdate=!0);if(!gu.__webglActive){if(gu instanceof K0||gu instanceof R0)for(z0=0,dm=(om=gu.geometry).geometryGroups.length;z0<dm;z0++)u1=om.geometryGroups[z0],this.addBuffer(t0.__webglObjects,u1,gu);else gu instanceof Nm&&t0.__webglSprites.push(gu);gu.__webglActive=!0}}updateObject(gu){var t0,z0=gu.geometry;if(gu instanceof K0||gu instanceof R0){for(var dm=0,om=z0.geometryGroups.length;dm<om;dm++)t0=z0.geometryGroups[dm],(z0.verticesNeedUpdate||z0.elementsNeedUpdate||z0.colorsNeedUpdate||z0.normalsNeedUpdate)&&this.setBuffers(t0,this._gl.STATIC_DRAW);z0.verticesNeedUpdate=!1,z0.elementsNeedUpdate=!1,z0.normalsNeedUpdate=!1,z0.colorsNeedUpdate=!1,z0.buffersNeedUpdate=!1}}removeObject(gu,t0){gu instanceof K0||gu instanceof R0?this.removeInstances(t0.__webglObjects,gu):gu instanceof Nm&&this.removeInstancesDirect(t0.__webglSprites,gu),gu.__webglActive=!1}removeInstances(gu,t0){for(var z0=gu.length-1;z0>=0;--z0)gu[z0].object===t0&&gu.splice(z0,1)}removeInstancesDirect(gu,t0){for(var z0=gu.length-1;z0>=0;--z0)gu[z0]===t0&&gu.splice(z0,1)}unrollBufferMaterial(gu){var t0=gu.object.material;if(t0.volumetric)gu.opaque=null,gu.transparent=null,gu.volumetric=t0;else if(t0.transparent){if(gu.opaque=null,gu.volumetric=null,gu.transparent=t0,!t0.wireframe){let z0=t0.clone();z0.opacity=0,gu.transparentDepth=z0}}else{if(gu.opaque=t0,gu.transparent=null,gu.volumetric=null,!t0.wireframe){let z0=t0.clone();z0.opacity=0,gu.opaqueDepth=z0}t0.hasAO&&(gu.hasAO=!0),(this._AOEnabled||gu.hasAO)&&(gu.opaqueShaded=t0.clone(),gu.opaqueShaded.shaded=!0)}}setBuffers(gu,t0){var z0=gu.vertexArray,dm=gu.colorArray;if(gu.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,gu.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,z0,t0)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,gu.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,z0,t0)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,gu.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,dm,t0),gu.normalArray&&gu.__webglNormalBuffer!==void 0){var om=gu.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,gu.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,om,t0)}if(gu.radiusArray&&gu.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,gu.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,gu.radiusArray,t0)),gu.faceArray&&gu.__webglFaceBuffer!==void 0){var u1=gu.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,gu.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,u1,t0)}if(gu.lineArray&&gu.__webglLineBuffer!==void 0){var m1=gu.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,gu.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,m1,t0)}}createMeshBuffers(gu){gu.radiusArray&&(gu.__webglRadiusBuffer=this._gl.createBuffer()),gu.useOffset&&(gu.__webglOffsetBuffer=this._gl.createBuffer()),gu.__webglVertexBuffer=this._gl.createBuffer(),gu.__webglNormalBuffer=this._gl.createBuffer(),gu.__webglColorBuffer=this._gl.createBuffer(),gu.__webglFaceBuffer=this._gl.createBuffer(),gu.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(gu){gu.__webglVertexBuffer=this._gl.createBuffer(),gu.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(gu,t0,z0){gu.push({buffer:t0,object:z0,opaque:null,transparent:null})}setupMatrices(gu,t0){gu._modelViewMatrix.multiplyMatrices(t0.matrixWorldInverse,gu.matrixWorld),gu._normalMatrix.getInverse(gu._modelViewMatrix),gu._normalMatrix.transpose()}filterFallback(gu){return this._gl.LINEAR}setTextureParameters(gu,t0){gu==this._gl.TEXTURE_2D?(this._gl.texParameteri(gu,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(gu,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(gu,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(t0.magFilter)),this._gl.texParameteri(gu,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(t0.minFilter))):(this._gl.texParameteri(gu,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(gu,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(gu,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(gu,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(gu,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(gu,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(gu,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(gu){return gu===Ll?this._gl.UNSIGNED_BYTE:gu===_u?this._gl.RGBA:gu===In?this._gl.NEAREST:0}setupLights(gu,t0){var z0,dm,om,u1,m1,c1=this._lights,k1=c1.directional.colors,d1=c1.directional.positions,E1=0,rv=0;for(z0=0,dm=t0.length;z0<dm;z0++)if(u1=(om=t0[z0]).color,m1=om.intensity,om instanceof dp){if(this._direction.getPositionFromMatrix(om.matrixWorld),this._vector3.getPositionFromMatrix(om.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;d1[rv]=this._direction.x,d1[rv+1]=this._direction.y,d1[rv+2]=this._direction.z,k1[rv]=u1.r*m1,k1[rv+1]=u1.g*m1,k1[rv+2]=u1.b*m1,rv+=3,E1++}c1.ambient[0]=0,c1.ambient[1]=0,c1.ambient[2]=0,c1.directional.length=E1}initGL(){try{if(!OffscreenCanvas||this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context."}else(zy==null||zy.isContextLost())&&(qy=new OffscreenCanvas(this._canvas.width,this._canvas.height),zy=qy.getContext("webgl2",{alpha:!0,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})),this._offscreen=qy,this._gl=zy,this._bitmap=this._canvas.getContext("bitmaprenderer",{alpha:!0});var gu=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(gu[6])}catch(t0){console.error(t0)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(gu,t0,z0,dm,om,u1,m1){var c1,k1,d1,E1,rv,ev,Xv;t0?(rv=gu.length-1,ev=-1,Xv=-1):(rv=0,ev=gu.length,Xv=1);for(var ky=rv;ky!==ev;ky+=Xv)if((c1=gu[ky]).render){if(k1=c1.object,d1=c1.buffer,E1=c1[z0],(c1.hasAO||this._AOEnabled)&&c1[z0+"Shaded"]&&(E1=c1[z0+"Shaded"]),!E1)continue;this.setBlending(m1),this.setDepthTest(E1.depthTest),this.setDepthWrite(E1.depthWrite),this.setPolygonOffset(E1.polygonOffset,E1.polygonOffsetFactor,E1.polygonOffsetUnits);var xy=k1._modelViewMatrix.isReflected();if(this.setMaterialFaces(E1,xy),this.renderBuffer(dm,om,u1,E1,d1,k1),(this._outlineEnabled||E1.outline)&&!E1.wireframe&&E1.shaderID!=="basic"&&E1.opacity!==0){let _v=this._outlineMaterial;E1.shaderID=="sphereimposter"?_v=this._outlineSphereImposterMaterial:E1.shaderID=="stickimposter"&&(_v=this._outlineStickImposterMaterial),this.renderBuffer(dm,om,u1,_v,d1,k1)}}}renderSprites(gu,t0,z0){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(gu,t0,this._currentWidth,this._currentHeight,z0),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},392:(e,o,a)=>{a.r(o),a.d(o,{assignBonds:()=>b});var c=a(408);const d=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],g=4.95;function b(_,$){for(let nt=0,In=_.length;nt<In;nt++)_[nt].index||(_[nt].index=nt);const j={x:{y:{z:[]}}};for(let nt=0;nt<_.length;nt++){const In=_[nt],xl=Math.floor(In.x/g),Ll=Math.floor(In.y/g),Nl=Math.floor(In.z/g);j[xl]||(j[xl]={}),j[xl][Ll]||(j[xl][Ll]={}),j[xl][Ll][Nl]||(j[xl][Ll][Nl]=[]),j[xl][Ll][Nl].push(In)}function rt(nt,In){for(let xl=0;xl<nt.length;xl++){const Ll=nt[xl];for(let Nl=0;Nl<In.length;Nl++){const _u=In[Nl];if((0,c.areConnected)(Ll,_u,$)){const Yl=Ll.bonds.indexOf(_u.index),Ul=_u.bonds.indexOf(Ll.index);Yl===-1&&Ul===-1?(Ll.bonds.push(_u.index),Ll.bondOrder.push(1),_u.bonds.push(Ll.index),_u.bondOrder.push(1)):Yl===-1?(Ll.bonds.push(_u.index),Ll.bondOrder.push(_u.bondOrder[Ul])):Ul===-1&&(_u.bonds.push(Ll.index),_u.bondOrder.push(Ll.bondOrder[Yl]))}}}}for(let nt in j){const In=parseInt(nt);for(let xl in j[In]){const Ll=parseInt(xl);for(let Nl in j[In][Ll]){const _u=parseInt(Nl),Yl=j[In][Ll][_u];for(let Ul=0;Ul<Yl.length;Ul++){const Dl=Yl[Ul];for(let Zl=Ul+1;Zl<Yl.length;Zl++){const Ju=Yl[Zl];(0,c.areConnected)(Dl,Ju,$)&&Dl.bonds.indexOf(Ju.index)==-1&&(Dl.bonds.push(Ju.index),Dl.bondOrder.push(1),Ju.bonds.push(Dl.index),Ju.bondOrder.push(1))}}for(let Ul=0;Ul<d.length;Ul++){const Dl=d[Ul];j[In+Dl.x]&&j[In+Dl.x][Ll+Dl.y]&&j[In+Dl.x][Ll+Dl.y][_u+Dl.z]&&rt(Yl,j[In+Dl.x][Ll+Dl.y][_u+Dl.z])}}}}}},407:e=>{var o=function(){for(var a,c=[],d=0;d<256;d++){a=d;for(var g=0;g<8;g++)a=1&a?3988292384^a>>>1:a>>>1;c[d]=a}return c}();e.exports=function(a,c,d,g){var b=o,_=g+d;a^=-1;for(var $=g;$<_;$++)a=a>>>8^b[255&(a^c[$])];return-1^a}},408:(e,o,a)=>{a.r(o),a.d(o,{areConnected:()=>g});var c=a(40);const d=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function g(b,_,$){if($&&$.unboundCations&&(d.has(b.elem)||d.has(_.elem)))return!1;let j=(0,c.bondLength)(b.elem)+(0,c.bondLength)(_.elem);j+=.25,j*=j;let rt=b.x-_.x;if(rt*=rt,rt>j)return!1;let nt=b.y-_.y;if(nt*=nt,nt>j)return!1;let In=b.z-_.z;if(In*=In,In>j)return!1;const xl=rt+nt+In;return!(isNaN(xl)||xl<.5||xl>j||b.altLoc!==_.altLoc&&b.altLoc.trim()!==""&&_.altLoc.trim()!=="")}},471:function(e,o){(function(a){function c(Xp,R0,K0){for(var Nm=(Xp.byteLength,0),Gm=K0.length;Gm>Nm;Nm++){var M1=K0.charCodeAt(Nm);if(128>M1)Xp.setUint8(R0++,M1>>>0&127);else if(2048>M1)Xp.setUint8(R0++,M1>>>6&31|192),Xp.setUint8(R0++,M1>>>0&63|128);else if(65536>M1)Xp.setUint8(R0++,M1>>>12&15|224),Xp.setUint8(R0++,M1>>>6&63|128),Xp.setUint8(R0++,M1>>>0&63|128);else{if(!(1114112>M1))throw new Error("bad codepoint "+M1);Xp.setUint8(R0++,M1>>>18&7|240),Xp.setUint8(R0++,M1>>>12&63|128),Xp.setUint8(R0++,M1>>>6&63|128),Xp.setUint8(R0++,M1>>>0&63|128)}}}function d(Xp){for(var R0=0,K0=0,Nm=Xp.length;Nm>K0;K0++){var Gm=Xp.charCodeAt(K0);if(128>Gm)R0+=1;else if(2048>Gm)R0+=2;else if(65536>Gm)R0+=3;else{if(!(1114112>Gm))throw new Error("bad codepoint "+Gm);R0+=4}}return R0}function g(Xp,R0,K0){var Nm=typeof Xp;if(Nm==="string"){if(32>(Gm=d(Xp)))return R0.setUint8(K0,160|Gm),c(R0,K0+1,Xp),1+Gm;if(256>Gm)return R0.setUint8(K0,217),R0.setUint8(K0+1,Gm),c(R0,K0+2,Xp),2+Gm;if(65536>Gm)return R0.setUint8(K0,218),R0.setUint16(K0+1,Gm),c(R0,K0+3,Xp),3+Gm;if(4294967296>Gm)return R0.setUint8(K0,219),R0.setUint32(K0+1,Gm),c(R0,K0+5,Xp),5+Gm}if(Xp instanceof Uint8Array){var Gm=Xp.byteLength,M1=new Uint8Array(R0.buffer);if(256>Gm)return R0.setUint8(K0,196),R0.setUint8(K0+1,Gm),M1.set(Xp,K0+2),2+Gm;if(65536>Gm)return R0.setUint8(K0,197),R0.setUint16(K0+1,Gm),M1.set(Xp,K0+3),3+Gm;if(4294967296>Gm)return R0.setUint8(K0,198),R0.setUint32(K0+1,Gm),M1.set(Xp,K0+5),5+Gm}if(Nm==="number"){if(!isFinite(Xp))throw new Error("Number not finite: "+Xp);if(Math.floor(Xp)!==Xp)return R0.setUint8(K0,203),R0.setFloat64(K0+1,Xp),9;if(Xp>=0){if(128>Xp)return R0.setUint8(K0,Xp),1;if(256>Xp)return R0.setUint8(K0,204),R0.setUint8(K0+1,Xp),2;if(65536>Xp)return R0.setUint8(K0,205),R0.setUint16(K0+1,Xp),3;if(4294967296>Xp)return R0.setUint8(K0,206),R0.setUint32(K0+1,Xp),5;throw new Error("Number too big 0x"+Xp.toString(16))}if(Xp>=-32)return R0.setInt8(K0,Xp),1;if(Xp>=-128)return R0.setUint8(K0,208),R0.setInt8(K0+1,Xp),2;if(Xp>=-32768)return R0.setUint8(K0,209),R0.setInt16(K0+1,Xp),3;if(Xp>=-2147483648)return R0.setUint8(K0,210),R0.setInt32(K0+1,Xp),5;throw new Error("Number too small -0x"+(-Xp).toString(16).substr(1))}if(Xp===null)return R0.setUint8(K0,192),1;if(Nm==="boolean")return R0.setUint8(K0,Xp?195:194),1;if(Nm==="object"){var Km=0,F1=Array.isArray(Xp);if(F1)Gm=Xp.length;else{var j1=Object.keys(Xp);Gm=j1.length}if(16>Gm?(R0.setUint8(K0,Gm|(F1?144:128)),Km=1):65536>Gm?(R0.setUint8(K0,F1?220:222),R0.setUint16(K0+1,Gm),Km=3):4294967296>Gm&&(R0.setUint8(K0,F1?221:223),R0.setUint32(K0+1,Gm),Km=5),F1)for(var x1=0;Gm>x1;x1++)Km+=g(Xp[x1],R0,K0+Km);else for(x1=0;Gm>x1;x1++){var hv=j1[x1];Km+=g(hv,R0,K0+Km),Km+=g(Xp[hv],R0,K0+Km)}return Km}throw new Error("Unknown type "+Nm)}function b(Xp){var R0=typeof Xp;if(R0==="string"){if(32>(K0=d(Xp)))return 1+K0;if(256>K0)return 2+K0;if(65536>K0)return 3+K0;if(4294967296>K0)return 5+K0}if(Xp instanceof Uint8Array){if(256>(K0=Xp.byteLength))return 2+K0;if(65536>K0)return 3+K0;if(4294967296>K0)return 5+K0}if(R0==="number"){if(Math.floor(Xp)!==Xp)return 9;if(Xp>=0){if(128>Xp)return 1;if(256>Xp)return 2;if(65536>Xp)return 3;if(4294967296>Xp)return 5;throw new Error("Number too big 0x"+Xp.toString(16))}if(Xp>=-32)return 1;if(Xp>=-128)return 2;if(Xp>=-32768)return 3;if(Xp>=-2147483648)return 5;throw new Error("Number too small -0x"+Xp.toString(16).substr(1))}if(R0==="boolean"||Xp===null)return 1;if(R0==="object"){var K0,Nm=0;if(Array.isArray(Xp)){K0=Xp.length;for(var Gm=0;K0>Gm;Gm++)Nm+=b(Xp[Gm])}else{var M1=Object.keys(Xp);for(K0=M1.length,Gm=0;K0>Gm;Gm++){var Km=M1[Gm];Nm+=b(Km)+b(Xp[Km])}}if(16>K0)return 1+Nm;if(65536>K0)return 3+Nm;if(4294967296>K0)return 5+Nm;throw new Error("Array or object too long 0x"+K0.toString(16))}throw new Error("Unknown type "+R0)}function _(Xp){var R0=new ArrayBuffer(b(Xp));return g(Xp,new DataView(R0),0),new Uint8Array(R0)}function $(Xp,R0,K0){return R0?new Xp(R0.buffer,R0.byteOffset,R0.byteLength/(K0||1)):void 0}function j(Xp){return $(DataView,Xp)}function rt(Xp){return $(Uint8Array,Xp)}function nt(Xp){return $(Int8Array,Xp)}function In(Xp){return $(Int32Array,Xp,4)}function xl(Xp){return $(Float32Array,Xp,4)}function Ll(Xp,R0){var K0=Xp.length/2;R0||(R0=new Int16Array(K0));for(var Nm=0,Gm=0;K0>Nm;++Nm,Gm+=2)R0[Nm]=Xp[Gm]<<8^Xp[Gm+1];return R0}function Nl(Xp,R0){var K0=Xp.length;R0||(R0=new Uint8Array(2*K0));for(var Nm=j(R0),Gm=0;K0>Gm;++Gm)Nm.setInt16(2*Gm,Xp[Gm]);return rt(R0)}function _u(Xp,R0){var K0=Xp.length/4;R0||(R0=new Int32Array(K0));for(var Nm=0,Gm=0;K0>Nm;++Nm,Gm+=4)R0[Nm]=Xp[Gm]<<24^Xp[Gm+1]<<16^Xp[Gm+2]<<8^Xp[Gm+3];return R0}function Yl(Xp,R0){var K0=Xp.length;R0||(R0=new Uint8Array(4*K0));for(var Nm=j(R0),Gm=0;K0>Gm;++Gm)Nm.setInt32(4*Gm,Xp[Gm]);return rt(R0)}function Ul(Xp,R0){var K0=Xp.length;R0||(R0=new Float32Array(K0/4));for(var Nm=j(R0),Gm=j(Xp),M1=0,Km=0,F1=K0/4;F1>M1;++M1,Km+=4)Nm.setFloat32(Km,Gm.getFloat32(Km),!0);return R0}function Dl(Xp,R0,K0){var Nm=Xp.length,Gm=1/R0;K0||(K0=new Float32Array(Nm));for(var M1=0;Nm>M1;++M1)K0[M1]=Xp[M1]*Gm;return K0}function Zl(Xp,R0,K0){var Nm=Xp.length;K0||(K0=new Int32Array(Nm));for(var Gm=0;Nm>Gm;++Gm)K0[Gm]=Math.round(Xp[Gm]*R0);return K0}function Ju(Xp,R0){var K0,Nm;if(!R0){var Gm=0;for(K0=0,Nm=Xp.length;Nm>K0;K0+=2)Gm+=Xp[K0+1];R0=new Xp.constructor(Gm)}var M1=0;for(K0=0,Nm=Xp.length;Nm>K0;K0+=2)for(var Km=Xp[K0],F1=Xp[K0+1],j1=0;F1>j1;++j1)R0[M1]=Km,++M1;return R0}function Uu(Xp){if(Xp.length===0)return new Int32Array;var R0,K0,Nm=2;for(R0=1,K0=Xp.length;K0>R0;++R0)Xp[R0-1]!==Xp[R0]&&(Nm+=2);var Gm=new Int32Array(Nm),M1=0,Km=1;for(R0=1,K0=Xp.length;K0>R0;++R0)Xp[R0-1]!==Xp[R0]?(Gm[M1]=Xp[R0-1],Gm[M1+1]=Km,Km=1,M1+=2):++Km;return Gm[M1]=Xp[Xp.length-1],Gm[M1+1]=Km,Gm}function fp(Xp,R0){var K0=Xp.length;R0||(R0=new Xp.constructor(K0)),K0&&(R0[0]=Xp[0]);for(var Nm=1;K0>Nm;++Nm)R0[Nm]=Xp[Nm]+R0[Nm-1];return R0}function Zu(Xp,R0){var K0=Xp.length;R0||(R0=new Xp.constructor(K0)),R0[0]=Xp[0];for(var Nm=1;K0>Nm;++Nm)R0[Nm]=Xp[Nm]-Xp[Nm-1];return R0}function Lp(Xp,R0){var K0,Nm,Gm=Xp instanceof Int8Array?127:32767,M1=-Gm-1,Km=Xp.length;if(!R0){var F1=0;for(K0=0;Km>K0;++K0)Xp[K0]<Gm&&Xp[K0]>M1&&++F1;R0=new Int32Array(F1)}for(K0=0,Nm=0;Km>K0;){for(var j1=0;Xp[K0]===Gm||Xp[K0]===M1;)j1+=Xp[K0],++K0;j1+=Xp[K0],++K0,R0[Nm]=j1,++Nm}return R0}function Np(Xp,R0){var K0,Nm=32767,Gm=-Nm-1,M1=Xp.length,Km=0;for(K0=0;M1>K0;++K0)(x1=Xp[K0])===0?++Km:x1>0?(Km+=Math.ceil(x1/Nm),x1%Nm===0&&(Km+=1)):(Km+=Math.ceil(x1/Gm),x1%Gm===0&&(Km+=1));var F1=new Int16Array(Km),j1=0;for(K0=0;M1>K0;++K0){var x1;if((x1=Xp[K0])>=0)for(;x1>=Nm;)F1[j1]=Nm,++j1,x1-=Nm;else for(;Gm>=x1;)F1[j1]=Gm,++j1,x1-=Gm;F1[j1]=x1,++j1}return F1}function zp(Xp,R0){return fp(Ju(Xp),R0)}function h0(Xp){return Uu(Zu(Xp))}function k0(Xp,R0,K0){return Dl(Ju(Xp,In(K0)),R0,K0)}function D0(Xp,R0){return Uu(Zl(Xp,R0))}function s0(Xp,R0,K0){return Dl(fp(Xp,In(K0)),R0,K0)}function dp(Xp,R0,K0){return Zu(Zl(Xp,R0),K0)}function S0(Xp,R0,K0){return Dl(Lp(Xp,In(K0)),R0,K0)}function l0(Xp,R0,K0){var Nm=Lp(Xp,In(K0));return s0(Nm,R0,xl(Nm))}function Op(Xp,R0,K0){return Np(dp(Xp,R0))}function Wp(Xp){var R0=j(Xp),K0=R0.getInt32(0),Nm=R0.getInt32(4),Gm=Xp.subarray(8,12);return[K0,Xp=Xp.subarray(12),Nm,Gm]}function mm(Xp,R0,K0,Nm){var Gm=new ArrayBuffer(12+Nm.byteLength),M1=new Uint8Array(Gm),Km=new DataView(Gm);return Km.setInt32(0,Xp),Km.setInt32(4,R0),K0&&M1.set(K0,8),M1.set(Nm,12),M1}function fm(Xp){return mm(2,Xp.length,void 0,rt(Xp))}function g0(Xp){return mm(4,Xp.length,void 0,Yl(Xp))}function e0(Xp,R0){return mm(5,Xp.length/R0,Yl([R0]),rt(Xp))}function V0(Xp){return mm(6,Xp.length,void 0,Yl(Uu(Xp)))}function ym(Xp){return mm(8,Xp.length,void 0,Yl(h0(Xp)))}function Am(Xp,R0){return mm(9,Xp.length,Yl([R0]),Yl(D0(Xp,R0)))}function am(Xp,R0){return mm(10,Xp.length,Yl([R0]),Nl(Op(Xp,R0)))}function Rm(Xp){var R0={};return J1.forEach(function(K0){Xp[K0]!==void 0&&(R0[K0]=Xp[K0])}),Xp.bondAtomList&&(R0.bondAtomList=g0(Xp.bondAtomList)),Xp.bondOrderList&&(R0.bondOrderList=fm(Xp.bondOrderList)),R0.xCoordList=am(Xp.xCoordList,1e3),R0.yCoordList=am(Xp.yCoordList,1e3),R0.zCoordList=am(Xp.zCoordList,1e3),Xp.bFactorList&&(R0.bFactorList=am(Xp.bFactorList,100)),Xp.atomIdList&&(R0.atomIdList=ym(Xp.atomIdList)),Xp.altLocList&&(R0.altLocList=V0(Xp.altLocList)),Xp.occupancyList&&(R0.occupancyList=Am(Xp.occupancyList,100)),R0.groupIdList=ym(Xp.groupIdList),R0.groupTypeList=g0(Xp.groupTypeList),Xp.secStructList&&(R0.secStructList=fm(Xp.secStructList)),Xp.insCodeList&&(R0.insCodeList=V0(Xp.insCodeList)),Xp.sequenceIndexList&&(R0.sequenceIndexList=ym(Xp.sequenceIndexList)),R0.chainIdList=e0(Xp.chainIdList,4),Xp.chainNameList&&(R0.chainNameList=e0(Xp.chainNameList,4)),R0}function Lm(Xp){function R0(j1){for(var x1={},hv=0;j1>hv;hv++)x1[M1()]=M1();return x1}function K0(j1){var x1=Xp.subarray(Km,Km+j1);return Km+=j1,x1}function Nm(j1){var x1=Xp.subarray(Km,Km+j1);Km+=j1;var hv=65535;if(j1>hv){for(var my=[],$y=0;$y<x1.length;$y+=hv)my.push(String.fromCharCode.apply(null,x1.subarray($y,$y+hv)));return my.join("")}return String.fromCharCode.apply(null,x1)}function Gm(j1){for(var x1=new Array(j1),hv=0;j1>hv;hv++)x1[hv]=M1();return x1}function M1(){var j1,x1,hv=Xp[Km];if(!(128&hv))return Km++,hv;if((240&hv)==128)return Km++,R0(x1=15&hv);if((240&hv)==144)return Km++,Gm(x1=15&hv);if((224&hv)==160)return Km++,Nm(x1=31&hv);if(!(224&~hv))return j1=F1.getInt8(Km),Km++,j1;switch(hv){case 192:return Km++,null;case 194:return Km++,!1;case 195:return Km++,!0;case 196:return x1=F1.getUint8(Km+1),Km+=2,K0(x1);case 197:return x1=F1.getUint16(Km+1),Km+=3,K0(x1);case 198:return x1=F1.getUint32(Km+1),Km+=5,K0(x1);case 202:return j1=F1.getFloat32(Km+1),Km+=5,j1;case 203:return j1=F1.getFloat64(Km+1),Km+=9,j1;case 204:return j1=Xp[Km+1],Km+=2,j1;case 205:return j1=F1.getUint16(Km+1),Km+=3,j1;case 206:return j1=F1.getUint32(Km+1),Km+=5,j1;case 208:return j1=F1.getInt8(Km+1),Km+=2,j1;case 209:return j1=F1.getInt16(Km+1),Km+=3,j1;case 210:return j1=F1.getInt32(Km+1),Km+=5,j1;case 217:return x1=F1.getUint8(Km+1),Km+=2,Nm(x1);case 218:return x1=F1.getUint16(Km+1),Km+=3,Nm(x1);case 219:return x1=F1.getUint32(Km+1),Km+=5,Nm(x1);case 220:return x1=F1.getUint16(Km+1),Km+=3,Gm(x1);case 221:return x1=F1.getUint32(Km+1),Km+=5,Gm(x1);case 222:return x1=F1.getUint16(Km+1),Km+=3,R0(x1);case 223:return x1=F1.getUint32(Km+1),Km+=5,R0(x1)}throw new Error("Unknown type 0x"+hv.toString(16))}var Km=0,F1=new DataView(Xp.buffer);return M1()}function Fm(Xp,R0,K0,Nm){switch(Xp){case 1:return Ul(R0);case 2:return nt(R0);case 3:return Ll(R0);case 4:return _u(R0);case 5:return rt(R0);case 6:return Ju(_u(R0),new Uint8Array(K0));case 7:return Ju(_u(R0));case 8:return zp(_u(R0));case 9:return k0(_u(R0),_u(Nm)[0]);case 10:return l0(Ll(R0),_u(Nm)[0]);case 11:return Dl(Ll(R0),_u(Nm)[0]);case 12:return S0(Ll(R0),_u(Nm)[0]);case 13:return S0(nt(R0),_u(Nm)[0]);case 14:return Lp(Ll(R0));case 15:return Lp(nt(R0))}}function s1(Xp,R0){var K0=(R0=R0||{}).ignoreFields,Nm={};return Iv.forEach(function(Gm){var M1=!!K0&&K0.indexOf(Gm)!==-1,Km=Xp[Gm];M1||Km===void 0||(Km instanceof Uint8Array?Nm[Gm]=Fm.apply(null,Wp(Km)):Nm[Gm]=Km)}),Nm}function r1(Xp){return String.fromCharCode.apply(null,Xp).replace(/\0/g,"")}function Y1(Xp,R0,K0){var Nm,Gm,M1,Km,F1,j1,x1=(K0=K0||{}).firstModelOnly,hv=R0.onModel,my=R0.onChain,$y=R0.onGroup,Zy=R0.onAtom,E2=R0.onBond,Ty=0,oy=0,Wv=0,xv=0,N1=0,c2=-1,D2=Xp.chainNameList,d2=Xp.secStructList,L2=Xp.insCodeList,b2=Xp.sequenceIndexList,g2=Xp.atomIdList,yy=Xp.bFactorList,e2=Xp.altLocList,M2=Xp.occupancyList,m2=Xp.bondAtomList,I2=Xp.bondOrderList;for(Nm=0,Gm=Xp.chainsPerModel.length;Gm>Nm&&!(x1&&Ty>0);++Nm){var O2=Xp.chainsPerModel[Ty];for(hv&&hv({chainCount:O2,modelIndex:Ty}),M1=0;O2>M1;++M1){var B2=Xp.groupsPerChain[oy];if(my){var Av=r1(Xp.chainIdList.subarray(4*oy,4*oy+4)),qy=null;D2&&(qy=r1(D2.subarray(4*oy,4*oy+4))),my({groupCount:B2,chainIndex:oy,modelIndex:Ty,chainId:Av,chainName:qy})}for(Km=0;B2>Km;++Km){var zy=Xp.groupList[Xp.groupTypeList[Wv]],z2=zy.atomNameList.length;if($y){var Z1=null;d2&&(Z1=d2[Wv]);var gu=null;Xp.insCodeList&&(gu=String.fromCharCode(L2[Wv]));var t0=null;b2&&(t0=b2[Wv]),$y({atomCount:z2,groupIndex:Wv,chainIndex:oy,modelIndex:Ty,groupId:Xp.groupIdList[Wv],groupType:Xp.groupTypeList[Wv],groupName:zy.groupName,singleLetterCode:zy.singleLetterCode,chemCompType:zy.chemCompType,secStruct:Z1,insCode:gu,sequenceIndex:t0})}for(F1=0;z2>F1;++F1){if(Zy){var z0=null;g2&&(z0=g2[xv]);var dm=null;yy&&(dm=yy[xv]);var om=null;e2&&(om=String.fromCharCode(e2[xv]));var u1=null;M2&&(u1=M2[xv]),Zy({atomIndex:xv,groupIndex:Wv,chainIndex:oy,modelIndex:Ty,atomId:z0,element:zy.elementList[F1],atomName:zy.atomNameList[F1],formalCharge:zy.formalChargeList[F1],xCoord:Xp.xCoordList[xv],yCoord:Xp.yCoordList[xv],zCoord:Xp.zCoordList[xv],bFactor:dm,altLoc:om,occupancy:u1})}xv+=1}if(E2){var m1=zy.bondAtomList;for(F1=0,j1=zy.bondOrderList.length;j1>F1;++F1)E2({atomIndex1:xv-z2+m1[2*F1],atomIndex2:xv-z2+m1[2*F1+1],bondOrder:zy.bondOrderList[F1]})}Wv+=1}oy+=1}if(N1=c2+1,c2=xv-1,E2&&m2)for(F1=0,j1=m2.length;j1>F1;F1+=2){var c1=m2[F1],k1=m2[F1+1];(c1>=N1&&c2>=c1||k1>=N1&&c2>=k1)&&E2({atomIndex1:c1,atomIndex2:k1,bondOrder:I2?I2[F1/2]:null})}Ty+=1}}function G1(Xp){return _(Rm(Xp))}function wv(Xp,R0){return Xp instanceof ArrayBuffer&&(Xp=new Uint8Array(Xp)),s1(Xp instanceof Uint8Array?Lm(Xp):Xp,R0)}function Mv(Xp,R0,K0,Nm){function Gm(){try{var Km=wv(M1.response);K0(Km)}catch(F1){Nm(F1)}}var M1=new XMLHttpRequest;M1.addEventListener("load",Gm,!0),M1.addEventListener("error",Nm,!0),M1.responseType="arraybuffer",M1.open("GET",R0+Xp.toUpperCase()),M1.send()}function Cv(Xp,R0,K0){Mv(Xp,wy,R0,K0)}function lv(Xp,R0,K0){Mv(Xp,Sm,R0,K0)}var J1=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],dy=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],Iv=J1.concat(dy),Dv="v1.0.1",_y="//mmtf.rcsb.org/v1.0/",wy=_y+"full/",Sm=_y+"reduced/";a.encode=G1,a.decode=wv,a.traverse=Y1,a.fetch=Cv,a.fetchReduced=lv,a.version=Dv,a.fetchUrl=wy,a.fetchReducedUrl=Sm,a.encodeMsgpack=_,a.encodeMmtf=Rm,a.decodeMsgpack=Lm,a.decodeMmtf=s1})(o)},529:(e,o,a)=>{a.r(o),a.d(o,{Matrix3:()=>Nl,Matrix4:()=>xl,Quaternion:()=>c,Ray:()=>_u,Vector2:()=>d,Vector3:()=>Ll,clamp:()=>g,conversionMatrix3:()=>Yl,degToRad:()=>_});class c{constructor(Dl,Zl,Ju,Uu){this.x=Dl||0,this.y=Zl||0,this.z=Ju||0,this.w=Uu!==void 0?Uu:1}set(Dl,Zl,Ju,Uu){return this.x=Dl,this.y=Zl,this.z=Ju,this.w=Uu,this}copy(Dl){return this.x=Dl.x,this.y=Dl.y,this.z=Dl.z,this.w=Dl.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let Dl=this.length();return Dl===0?(this.x=0,this.y=0,this.z=0,this.w=1):(Dl=1/Dl,this.x*=Dl,this.y*=Dl,this.z*=Dl,this.w*=Dl),this}multiply(Dl){return this.multiplyQuaternions(this,Dl)}multiplyScalar(Dl){return this.x*=Dl,this.y*=Dl,this.z*=Dl,this.w*=Dl,this}multiplyQuaternions(Dl,Zl){const Ju=Dl.x,Uu=Dl.y,fp=Dl.z,Zu=Dl.w,Lp=Zl.x,Np=Zl.y,zp=Zl.z,h0=Zl.w;return this.x=Ju*h0+Zu*Lp+Uu*zp-fp*Np,this.y=Uu*h0+Zu*Np+fp*Lp-Ju*zp,this.z=fp*h0+Zu*zp+Ju*Np-Uu*Lp,this.w=Zu*h0-Ju*Lp-Uu*Np-fp*zp,this}sub(Dl){return this.x-=Dl.x,this.y-=Dl.y,this.z-=Dl.z,this.w-=Dl.w,this}clone(){return new c(this.x,this.y,this.z,this.w)}setFromEuler(Dl){const Zl=Math.cos(Dl.x/2),Ju=Math.cos(Dl.y/2),Uu=Math.cos(Dl.z/2),fp=Math.sin(Dl.x/2),Zu=Math.sin(Dl.y/2),Lp=Math.sin(Dl.z/2);return this.x=fp*Ju*Uu+Zl*Zu*Lp,this.y=Zl*Zu*Uu-fp*Ju*Lp,this.z=Zl*Ju*Lp+fp*Zu*Uu,this.w=Zl*Ju*Uu-fp*Zu*Lp,this}}class d{constructor(Dl,Zl){this.x=Dl||0,this.y=Zl||0}set(Dl,Zl){return this.x=Dl,this.y=Zl,this}subVectors(Dl,Zl){return this.x=Dl.x-Zl.x,this.y=Dl.y-Zl.y,this}copy(Dl){return this.x=Dl.x,this.y=Dl.y,this}clone(){return new d(this.x,this.y)}}function g(Ul,Dl,Zl){return Math.min(Math.max(Ul,Dl),Zl)}const b=Math.PI/180;function _(Ul){return Ul*b}var $,j,rt,nt,In;class xl{constructor(Dl=1,Zl=0,Ju=0,Uu=0,fp=0,Zu=1,Lp=0,Np=0,zp=0,h0=0,k0=1,D0=0,s0=0,dp=0,S0=0,l0=1){Dl!==void 0&&typeof Dl!="number"?this.elements=new Float32Array(Dl):(this.elements=new Float32Array(16),this.elements[0]=Dl,this.elements[4]=Zl,this.elements[8]=Ju,this.elements[12]=Uu,this.elements[1]=fp,this.elements[5]=Zu,this.elements[9]=Lp,this.elements[13]=Np,this.elements[2]=zp,this.elements[6]=h0,this.elements[10]=k0,this.elements[14]=D0,this.elements[3]=s0,this.elements[7]=dp,this.elements[11]=S0,this.elements[15]=l0)}makeScale(Dl,Zl,Ju){throw new Error("Method not implemented.")}set(Dl,Zl,Ju,Uu,fp,Zu,Lp,Np,zp,h0,k0,D0,s0,dp,S0,l0){const Op=this.elements;return Op[0]=Dl,Op[4]=Zl,Op[8]=Ju,Op[12]=Uu,Op[1]=fp,Op[5]=Zu,Op[9]=Lp,Op[13]=Np,Op[2]=zp,Op[6]=h0,Op[10]=k0,Op[14]=D0,Op[3]=s0,Op[7]=dp,Op[11]=S0,Op[15]=l0,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(Dl){const Zl=Dl.elements;return this.set(Zl[0],Zl[4],Zl[8],Zl[12],Zl[1],Zl[5],Zl[9],Zl[13],Zl[2],Zl[6],Zl[10],Zl[14],Zl[3],Zl[7],Zl[11],Zl[15]),this}matrix3FromTopLeft(){const Dl=this.elements;return new Nl(Dl[0],Dl[4],Dl[8],Dl[1],Dl[5],Dl[9],Dl[2],Dl[6],Dl[10])}setRotationFromEuler(Dl,Zl){const Ju=this.elements,{x:Uu,y:fp,z:Zu}=Dl,Lp=Math.cos(Uu),Np=Math.sin(Uu),zp=Math.cos(fp),h0=Math.sin(fp),k0=Math.cos(Zu),D0=Math.sin(Zu);if(Zl===void 0||Zl==="XYZ"){const s0=Lp*k0,dp=Lp*D0,S0=Np*k0,l0=Np*D0;Ju[0]=zp*k0,Ju[4]=-zp*D0,Ju[8]=h0,Ju[1]=dp+S0*h0,Ju[5]=s0-l0*h0,Ju[9]=-Np*zp,Ju[2]=l0-s0*h0,Ju[6]=S0+dp*h0,Ju[10]=Lp*zp}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${Zl}`);return this}setRotationFromQuaternion(Dl){const Zl=this.elements,{x:Ju,y:Uu,z:fp,w:Zu}=Dl,Lp=Ju+Ju,Np=Uu+Uu,zp=fp+fp,h0=Ju*Lp,k0=Ju*Np,D0=Ju*zp,s0=Uu*Np,dp=Uu*zp,S0=fp*zp,l0=Zu*Lp,Op=Zu*Np,Wp=Zu*zp;return Zl[0]=1-(s0+S0),Zl[4]=k0-Wp,Zl[8]=D0+Op,Zl[1]=k0+Wp,Zl[5]=1-(h0+S0),Zl[9]=dp-l0,Zl[2]=D0-Op,Zl[6]=dp+l0,Zl[10]=1-(h0+s0),this}multiplyMatrices(Dl,Zl){const Ju=Dl.elements,Uu=Zl.elements,fp=this.elements,Zu=Ju[0],Lp=Ju[4],Np=Ju[8],zp=Ju[12],h0=Ju[1],k0=Ju[5],D0=Ju[9],s0=Ju[13],dp=Ju[2],S0=Ju[6],l0=Ju[10],Op=Ju[14],Wp=Ju[3],mm=Ju[7],fm=Ju[11],g0=Ju[15],e0=Uu[0],V0=Uu[4],ym=Uu[8],Am=Uu[12],am=Uu[1],Rm=Uu[5],Lm=Uu[9],Fm=Uu[13],s1=Uu[2],r1=Uu[6],Y1=Uu[10],G1=Uu[14],wv=Uu[3],Mv=Uu[7],Cv=Uu[11],lv=Uu[15];return fp[0]=Zu*e0+Lp*am+Np*s1+zp*wv,fp[4]=Zu*V0+Lp*Rm+Np*r1+zp*Mv,fp[8]=Zu*ym+Lp*Lm+Np*Y1+zp*Cv,fp[12]=Zu*Am+Lp*Fm+Np*G1+zp*lv,fp[1]=h0*e0+k0*am+D0*s1+s0*wv,fp[5]=h0*V0+k0*Rm+D0*r1+s0*Mv,fp[9]=h0*ym+k0*Lm+D0*Y1+s0*Cv,fp[13]=h0*Am+k0*Fm+D0*G1+s0*lv,fp[2]=dp*e0+S0*am+l0*s1+Op*wv,fp[6]=dp*V0+S0*Rm+l0*r1+Op*Mv,fp[10]=dp*ym+S0*Lm+l0*Y1+Op*Cv,fp[14]=dp*Am+S0*Fm+l0*G1+Op*lv,fp[3]=Wp*e0+mm*am+fm*s1+g0*wv,fp[7]=Wp*V0+mm*Rm+fm*r1+g0*Mv,fp[11]=Wp*ym+mm*Lm+fm*Y1+g0*Cv,fp[15]=Wp*Am+mm*Fm+fm*G1+g0*lv,this}multiplyScalar(Dl){const Zl=this.elements;return Zl[0]*=Dl,Zl[4]*=Dl,Zl[8]*=Dl,Zl[12]*=Dl,Zl[1]*=Dl,Zl[5]*=Dl,Zl[9]*=Dl,Zl[13]*=Dl,Zl[2]*=Dl,Zl[6]*=Dl,Zl[10]*=Dl,Zl[14]*=Dl,Zl[3]*=Dl,Zl[7]*=Dl,Zl[11]*=Dl,Zl[15]*=Dl,this}makeTranslation(Dl,Zl,Ju){return this.set(1,0,0,Dl,0,1,0,Zl,0,0,1,Ju,0,0,0,1),this}snap(Dl){const Zl=Math.pow(10,4),Ju=this.elements;for(let Uu=0;Uu<16;Uu++){const fp=Math.round(Ju[Uu]);fp===Math.round(Ju[Uu]*Zl)/Zl&&(Ju[Uu]=fp)}return this}transpose(){const Dl=this.elements;let Zl;return Zl=Dl[1],Dl[1]=Dl[4],Dl[4]=Zl,Zl=Dl[2],Dl[2]=Dl[8],Dl[8]=Zl,Zl=Dl[6],Dl[6]=Dl[9],Dl[9]=Zl,Zl=Dl[3],Dl[3]=Dl[12],Dl[12]=Zl,Zl=Dl[7],Dl[7]=Dl[13],Dl[13]=Zl,Zl=Dl[11],Dl[11]=Dl[14],Dl[14]=Zl,this}setPosition(Dl){const Zl=this.elements;return Zl[12]=Dl.x,Zl[13]=Dl.y,Zl[14]=Dl.z,this}translate(Dl){const Zl=this.elements;return Zl[12]+=Dl.x,Zl[13]+=Dl.y,Zl[14]+=Dl.z,this}getInverse(Dl,Zl){const Ju=this.elements,Uu=Dl.elements,fp=Uu[0],Zu=Uu[4],Lp=Uu[8],Np=Uu[12],zp=Uu[1],h0=Uu[5],k0=Uu[9],D0=Uu[13],s0=Uu[2],dp=Uu[6],S0=Uu[10],l0=Uu[14],Op=Uu[3],Wp=Uu[7],mm=Uu[11],fm=Uu[15];Ju[0]=k0*l0*Wp-D0*S0*Wp+D0*dp*mm-h0*l0*mm-k0*dp*fm+h0*S0*fm,Ju[4]=Np*S0*Wp-Lp*l0*Wp-Np*dp*mm+Zu*l0*mm+Lp*dp*fm-Zu*S0*fm,Ju[8]=Lp*D0*Wp-Np*k0*Wp+Np*h0*mm-Zu*D0*mm-Lp*h0*fm+Zu*k0*fm,Ju[12]=Np*k0*dp-Lp*D0*dp-Np*h0*S0+Zu*D0*S0+Lp*h0*l0-Zu*k0*l0,Ju[1]=D0*S0*Op-k0*l0*Op-D0*s0*mm+zp*l0*mm+k0*s0*fm-zp*S0*fm,Ju[5]=Lp*l0*Op-Np*S0*Op+Np*s0*mm-fp*l0*mm-Lp*s0*fm+fp*S0*fm,Ju[9]=Np*k0*Op-Lp*D0*Op-Np*zp*mm+fp*D0*mm+Lp*zp*fm-fp*k0*fm,Ju[13]=Lp*D0*s0-Np*k0*s0+Np*zp*S0-fp*D0*S0-Lp*zp*l0+fp*k0*l0,Ju[2]=h0*l0*Op-D0*dp*Op+D0*s0*Wp-zp*l0*Wp-h0*s0*fm+zp*dp*fm,Ju[6]=Np*dp*Op-Zu*l0*Op-Np*s0*Wp+fp*l0*Wp+Zu*s0*fm-fp*dp*fm,Ju[10]=Zu*D0*Op-Np*h0*Op+Np*zp*Wp-fp*D0*Wp-Zu*zp*fm+fp*h0*fm,Ju[14]=Np*h0*s0-Zu*D0*s0-Np*zp*dp+fp*D0*dp+Zu*zp*l0-fp*h0*l0,Ju[3]=k0*dp*Op-h0*S0*Op-k0*s0*Wp+zp*S0*Wp+h0*s0*mm-zp*dp*mm,Ju[7]=Zu*S0*Op-Lp*dp*Op+Lp*s0*Wp-fp*S0*Wp-Zu*s0*mm+fp*dp*mm,Ju[11]=Lp*h0*Op-Zu*k0*Op-Lp*zp*Wp+fp*k0*Wp+Zu*zp*mm-fp*h0*mm,Ju[15]=Zu*k0*s0-Lp*h0*s0+Lp*zp*dp-fp*k0*dp-Zu*zp*S0+fp*h0*S0;const g0=fp*Ju[0]+zp*Ju[4]+s0*Ju[8]+Op*Ju[12];if(g0===0){const e0="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(Zl)throw new Error(e0);return console.warn(e0),this.identity(),this}return this.multiplyScalar(1/g0),this}isReflected(){const Dl=this.elements,Zl=Dl[0],Ju=Dl[4],Uu=Dl[8],fp=Dl[1],Zu=Dl[5],Lp=Dl[9],Np=Dl[2],zp=Dl[6],h0=Dl[10];return Zl*Zu*h0+fp*zp*Uu+Np*Ju*Lp-Np*Zu*Uu-fp*Ju*h0-Zl*zp*Lp<0}scale(Dl){const Zl=this.elements,{x:Ju}=Dl,{y:Uu}=Dl,{z:fp}=Dl;return Zl[0]*=Ju,Zl[4]*=Uu,Zl[8]*=fp,Zl[1]*=Ju,Zl[5]*=Uu,Zl[9]*=fp,Zl[2]*=Ju,Zl[6]*=Uu,Zl[10]*=fp,Zl[3]*=Ju,Zl[7]*=Uu,Zl[11]*=fp,this}getMaxScaleOnAxis(){const Dl=this.elements,Zl=Dl[0]*Dl[0]+Dl[1]*Dl[1]+Dl[2]*Dl[2],Ju=Dl[4]*Dl[4]+Dl[5]*Dl[5]+Dl[6]*Dl[6],Uu=Dl[8]*Dl[8]+Dl[9]*Dl[9]+Dl[10]*Dl[10];return Math.sqrt(Math.max(Zl,Math.max(Ju,Uu)))}makeFrustum(Dl,Zl,Ju,Uu,fp,Zu){const Lp=this.elements,Np=2*fp/(Zl-Dl),zp=2*fp/(Uu-Ju),h0=(Zl+Dl)/(Zl-Dl),k0=(Uu+Ju)/(Uu-Ju),D0=-(Zu+fp)/(Zu-fp),s0=-2*Zu*fp/(Zu-fp);return Lp[0]=Np,Lp[4]=0,Lp[8]=h0,Lp[12]=0,Lp[1]=0,Lp[5]=zp,Lp[9]=k0,Lp[13]=0,Lp[2]=0,Lp[6]=0,Lp[10]=D0,Lp[14]=s0,Lp[3]=0,Lp[7]=0,Lp[11]=-1,Lp[15]=0,this}makePerspective(Dl,Zl,Ju,Uu){const fp=Ju*Math.tan(_(.5*Dl)),Zu=-fp,Lp=Zu*Zl,Np=fp*Zl;return this.makeFrustum(Lp,Np,Zu,fp,Ju,Uu)}makeOrthographic(Dl,Zl,Ju,Uu,fp,Zu){const Lp=this.elements,Np=1/(Zl-Dl),zp=1/(Ju-Uu),h0=1/(Zu-fp),k0=(Zl+Dl)*Np,D0=(Ju+Uu)*zp,s0=(Zu+fp)*h0;return Lp[0]=2*Np,Lp[4]=0,Lp[8]=0,Lp[12]=-k0,Lp[1]=0,Lp[5]=2*zp,Lp[9]=0,Lp[13]=-D0,Lp[2]=0,Lp[6]=0,Lp[10]=-2*h0,Lp[14]=-s0,Lp[3]=0,Lp[7]=0,Lp[11]=0,Lp[15]=1,this}isEqual(Dl){const Zl=Dl.elements,Ju=this.elements;return Ju[0]===Zl[0]&&Ju[4]===Zl[4]&&Ju[8]===Zl[8]&&Ju[12]===Zl[12]&&Ju[1]===Zl[1]&&Ju[5]===Zl[5]&&Ju[9]===Zl[9]&&Ju[13]===Zl[13]&&Ju[2]===Zl[2]&&Ju[6]===Zl[6]&&Ju[10]===Zl[10]&&Ju[14]===Zl[14]&&Ju[3]===Zl[3]&&Ju[7]===Zl[7]&&Ju[11]===Zl[11]&&Ju[15]===Zl[15]}clone(){const Dl=this.elements;return new xl(Dl[0],Dl[4],Dl[8],Dl[12],Dl[1],Dl[5],Dl[9],Dl[13],Dl[2],Dl[6],Dl[10],Dl[14],Dl[3],Dl[7],Dl[11],Dl[15])}isIdentity(){const Dl=this.elements;return Dl[0]===1&&Dl[4]===0&&Dl[8]===0&&Dl[12]===0&&Dl[1]===0&&Dl[5]===1&&Dl[9]===0&&Dl[13]===0&&Dl[2]===0&&Dl[6]===0&&Dl[10]===1&&Dl[14]===0&&Dl[3]===0&&Dl[7]===0&&Dl[11]===0&&Dl[15]===1}isNearlyIdentity(Dl){return this.clone().snap(Dl).isIdentity()}getScale(Dl){const Zl=this.elements;return Dl=Dl||new Ll,rt.set(Zl[0],Zl[1],Zl[2]),nt.set(Zl[4],Zl[5],Zl[6]),In.set(Zl[8],Zl[9],Zl[10]),Dl.x=rt.length(),Dl.y=nt.length(),Dl.z=In.length(),Dl}lookAt(Dl,Zl,Ju){const Uu=this.elements;return In.subVectors(Dl,Zl).normalize(),In.length()===0&&(In.z=1),rt.crossVectors(Ju,In).normalize(),rt.length()===0&&(In.x+=1e-4,rt.crossVectors(Ju,In).normalize()),nt.crossVectors(In,rt),Uu[0]=rt.x,Uu[4]=nt.x,Uu[8]=In.x,Uu[1]=rt.y,Uu[5]=nt.y,Uu[9]=In.y,Uu[2]=rt.z,Uu[6]=nt.z,Uu[10]=In.z,this}compose(Dl,Zl,Ju){const Uu=this.elements;return $.identity(),$.setRotationFromQuaternion(Zl),j.makeScale(Ju.x,Ju.y,Ju.z),this.multiplyMatrices($,j),Uu[12]=Dl.x,Uu[13]=Dl.y,Uu[14]=Dl.z,this}}$=new xl,j=new xl;class Ll{constructor(Dl,Zl,Ju){this.x=Dl||0,this.y=Zl||0,this.z=Ju||0,this.atomid=void 0}set(Dl,Zl,Ju){return this.x=Dl,this.y=Zl,this.z=Ju,this}copy(Dl){return this.x=Dl.x,this.y=Dl.y,this.z=Dl.z,this}add(Dl){return this.x+=Dl.x,this.y+=Dl.y,this.z+=Dl.z,this}addVectors(Dl,Zl){return this.x=Dl.x+Zl.x,this.y=Dl.y+Zl.y,this.z=Dl.z+Zl.z,this}multiplyVectors(Dl,Zl){return this.x=Dl.x*Zl.x,this.y=Dl.y*Zl.y,this.z=Dl.z*Zl.z,this}sub(Dl){return this.x-=Dl.x,this.y-=Dl.y,this.z-=Dl.z,this}subVectors(Dl,Zl){return this.x=Dl.x-Zl.x,this.y=Dl.y-Zl.y,this.z=Dl.z-Zl.z,this}multiplyScalar(Dl){return this.x*=Dl,this.y*=Dl,this.z*=Dl,this}divideScalar(Dl){return Dl!==0?(this.x/=Dl,this.y/=Dl,this.z/=Dl):(this.x=0,this.y=0,this.z=0),this}max(Dl){return this.x=Math.max(this.x,Dl.x),this.y=Math.max(this.y,Dl.y),this.z=Math.max(this.z,Dl.z),this}min(Dl){return this.x=Math.min(this.x,Dl.x),this.y=Math.min(this.y,Dl.y),this.z=Math.min(this.z,Dl.z),this}distanceTo(Dl){return Math.sqrt(this.distanceToSquared(Dl))}distanceToSquared(Dl){const Zl=this.x-Dl.x,Ju=this.y-Dl.y,Uu=this.z-Dl.z;return Zl*Zl+Ju*Ju+Uu*Uu}applyMatrix3(Dl){const{x:Zl}=this,{y:Ju}=this,{z:Uu}=this,fp=Dl.elements;return this.x=fp[0]*Zl+fp[3]*Ju+fp[6]*Uu,this.y=fp[1]*Zl+fp[4]*Ju+fp[7]*Uu,this.z=fp[2]*Zl+fp[5]*Ju+fp[8]*Uu,this}applyMatrix4(Dl){const{x:Zl}=this,{y:Ju}=this,{z:Uu}=this,fp=Dl.elements;return this.x=fp[0]*Zl+fp[4]*Ju+fp[8]*Uu+fp[12],this.y=fp[1]*Zl+fp[5]*Ju+fp[9]*Uu+fp[13],this.z=fp[2]*Zl+fp[6]*Ju+fp[10]*Uu+fp[14],this}applyProjection(Dl){const{x:Zl}=this,{y:Ju}=this,{z:Uu}=this,fp=Dl.elements,Zu=fp[3]*Zl+fp[7]*Ju+fp[11]*Uu+fp[15];return this.x=(fp[0]*Zl+fp[4]*Ju+fp[8]*Uu+fp[12])/Zu,this.y=(fp[1]*Zl+fp[5]*Ju+fp[9]*Uu+fp[13])/Zu,this.z=(fp[2]*Zl+fp[6]*Ju+fp[10]*Uu+fp[14])/Zu,this}applyQuaternion(Dl){const{x:Zl}=this,{y:Ju}=this,{z:Uu}=this,fp=Dl.x,Zu=Dl.y,Lp=Dl.z,Np=Dl.w,zp={};zp.x=2*(Ju*Lp-Uu*Zu),zp.y=2*(Uu*fp-Zl*Lp),zp.z=2*(Zl*Zu-Ju*fp);const h0={};return h0.x=zp.y*Lp-zp.z*Zu,h0.y=zp.z*fp-zp.x*Lp,h0.z=zp.x*Zu-zp.y*fp,this.x=Zl+Np*zp.x+h0.x,this.y=Ju+Np*zp.y+h0.y,this.z=Uu+Np*zp.z+h0.z,this}negate(){return this.multiplyScalar(-1)}dot(Dl){return this.x*Dl.x+this.y*Dl.y+this.z*Dl.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(Dl){const{x:Zl}=this,{y:Ju}=this,{z:Uu}=this;return this.x=Ju*Dl.z-Uu*Dl.y,this.y=Uu*Dl.x-Zl*Dl.z,this.z=Zl*Dl.y-Ju*Dl.x,this}crossVectors(Dl,Zl){return this.x=Dl.y*Zl.z-Dl.z*Zl.y,this.y=Dl.z*Zl.x-Dl.x*Zl.z,this.z=Dl.x*Zl.y-Dl.y*Zl.x,this}equals(Dl){return this.x==Dl.x&&this.y==Dl.y&&this.z==Dl.z}getPositionFromMatrix(Dl){return this.x=Dl.elements[12],this.y=Dl.elements[13],this.z=Dl.elements[14],this}setEulerFromRotationMatrix(Dl,Zl){const Ju=Dl.elements,Uu=Ju[0],fp=Ju[4],Zu=Ju[8],Lp=Ju[5],Np=Ju[9],zp=Ju[6],h0=Ju[10];return Zl===void 0||Zl==="XYZ"?(this.y=Math.asin(g(Zu,-1,1)),Math.abs(Zu)<.99999?(this.x=Math.atan2(-Np,h0),this.z=Math.atan2(-fp,Uu)):(this.x=Math.atan2(zp,Lp),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${Zl}`),this}rotateAboutVector(Dl,Zl){Dl.normalize();const Ju=Math.cos(Zl),Uu=Math.sin(Zl),fp=this.clone().multiplyScalar(Ju),Zu=Dl.clone().cross(this).multiplyScalar(Uu),Lp=Dl.clone().multiplyScalar(Dl.clone().dot(this)).multiplyScalar(1-Ju),Np=fp.add(Zu).add(Lp);return this.x=Np.x,this.y=Np.y,this.z=Np.z,this}setFromMatrixPosition(Dl){const Zl=Dl.elements;return this.x=Zl[12],this.y=Zl[13],this.z=Zl[14],this}transformDirection(Dl){const{x:Zl}=this,{y:Ju}=this,{z:Uu}=this,fp=Dl.elements;return this.x=fp[0]*Zl+fp[4]*Ju+fp[8]*Uu,this.y=fp[1]*Zl+fp[5]*Ju+fp[9]*Uu,this.z=fp[2]*Zl+fp[6]*Ju+fp[10]*Uu,this.normalize()}clone(){return new Ll(this.x,this.y,this.z)}unproject(Dl){const Zl=$;return Zl.multiplyMatrices(Dl.matrixWorld,Zl.getInverse(Dl.projectionMatrix)),this.applyMatrix4(Zl)}}rt=new Ll,nt=new Ll,In=new Ll;class Nl{constructor(Dl=1,Zl=0,Ju=0,Uu=0,fp=1,Zu=0,Lp=0,Np=0,zp=1){this.elements=new Float32Array(9),this.set(Dl,Zl,Ju,Uu,fp,Zu,Lp,Np,zp)}set(Dl,Zl,Ju,Uu,fp,Zu,Lp,Np,zp){const h0=this.elements;return h0[0]=Dl,h0[3]=Zl,h0[6]=Ju,h0[1]=Uu,h0[4]=fp,h0[7]=Zu,h0[2]=Lp,h0[5]=Np,h0[8]=zp,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(Dl){const Zl=Dl.elements;this.set(Zl[0],Zl[3],Zl[6],Zl[1],Zl[4],Zl[7],Zl[2],Zl[5],Zl[8])}multiplyScalar(Dl){const Zl=this.elements;return Zl[0]*=Dl,Zl[3]*=Dl,Zl[6]*=Dl,Zl[1]*=Dl,Zl[4]*=Dl,Zl[7]*=Dl,Zl[2]*=Dl,Zl[5]*=Dl,Zl[8]*=Dl,this}getInverse3(Dl){const Zl=Dl.elements,Ju=this.elements;Ju[0]=Zl[4]*Zl[8]-Zl[5]*Zl[7],Ju[3]=Zl[6]*Zl[5]-Zl[3]*Zl[8],Ju[6]=Zl[3]*Zl[7]-Zl[6]*Zl[4],Ju[1]=Zl[7]*Zl[2]-Zl[1]*Zl[8],Ju[4]=Zl[0]*Zl[8]-Zl[6]*Zl[2],Ju[7]=Zl[1]*Zl[6]-Zl[0]*Zl[7],Ju[2]=Zl[1]*Zl[5]-Zl[2]*Zl[4],Ju[5]=Zl[2]*Zl[3]-Zl[0]*Zl[5],Ju[8]=Zl[0]*Zl[4]-Zl[1]*Zl[3];const Uu=Zl[0]*Ju[0]+Zl[3]*Ju[1]+Zl[6]*Ju[2];return this.multiplyScalar(1/Uu),this}getInverse(Dl,Zl){const Ju=Dl.elements,Uu=this.elements;Uu[0]=Ju[10]*Ju[5]-Ju[6]*Ju[9],Uu[1]=-Ju[10]*Ju[1]+Ju[2]*Ju[9],Uu[2]=Ju[6]*Ju[1]-Ju[2]*Ju[5],Uu[3]=-Ju[10]*Ju[4]+Ju[6]*Ju[8],Uu[4]=Ju[10]*Ju[0]-Ju[2]*Ju[8],Uu[5]=-Ju[6]*Ju[0]+Ju[2]*Ju[4],Uu[6]=Ju[9]*Ju[4]-Ju[5]*Ju[8],Uu[7]=-Ju[9]*Ju[0]+Ju[1]*Ju[8],Uu[8]=Ju[5]*Ju[0]-Ju[1]*Ju[4];const fp=Ju[0]*Uu[0]+Ju[1]*Uu[3]+Ju[2]*Uu[6];if(fp===0){const Zu="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(Zl)throw new Error(Zu);return console.warn(Zu),this.identity(),this}return this.multiplyScalar(1/fp),this}getDeterminant(){const Dl=this.elements;return Dl[0]*Dl[4]*Dl[8]+Dl[1]*Dl[5]*Dl[6]+Dl[2]*Dl[3]*Dl[7]-Dl[2]*Dl[4]*Dl[6]-Dl[1]*Dl[3]*Dl[8]-Dl[0]*Dl[5]*Dl[7]}transpose(){let Dl;const Zl=this.elements;return Dl=Zl[1],Zl[1]=Zl[3],Zl[3]=Dl,Dl=Zl[2],Zl[2]=Zl[6],Zl[6]=Dl,Dl=Zl[5],Zl[5]=Zl[7],Zl[7]=Dl,this}clone(){const Dl=this.elements;return new Nl(Dl[0],Dl[3],Dl[6],Dl[1],Dl[4],Dl[7],Dl[2],Dl[5],Dl[8])}getMatrix4(){const Dl=this.elements;return new xl(Dl[0],Dl[3],Dl[6],0,Dl[1],Dl[4],Dl[7],0,Dl[2],Dl[5],Dl[8],0)}}class _u{constructor(Dl,Zl){this.origin=Dl!==void 0?Dl:new Ll,this.direction=Zl!==void 0?Zl:new Ll}set(Dl,Zl){return this.origin.copy(Dl),this.direction.copy(Zl),this}copy(Dl){return this.origin.copy(Dl.origin),this.direction.copy(Dl.direction),this}at(Dl,Zl){return(Zl||new Ll).copy(this.direction).multiplyScalar(Dl).add(this.origin)}recast(Dl){const Zl=rt;return this.origin.copy(this.at(Dl,Zl)),this}closestPointToPoint(Dl,Zl){const Ju=Zl||new Ll;Ju.subVectors(Dl,this.origin);const Uu=Ju.dot(this.direction);return Ju.copy(this.direction).multiplyScalar(Uu).add(this.origin)}distanceToPoint(Dl){const Zl=rt,Ju=Zl.subVectors(Dl,this.origin).dot(this.direction);return Zl.copy(this.direction).multiplyScalar(Ju).add(this.origin),Zl.distanceTo(Dl)}isIntersectionCylinder(){}isIntersectionSphere(Dl){return this.distanceToPoint(Dl.center)<=Dl.radius}isIntersectionPlane(Dl){return Dl.normal.dot(this.direction)!==0||Dl.distanceToPoint(this.origin)===0}distanceToPlane(Dl){const Zl=Dl.normal.dot(this.direction);return Zl===0?Dl.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(Dl.normal)+Dl.constant)/Zl}intersectPlane(Dl,Zl){const Ju=this.distanceToPlane(Dl);if(Ju!==void 0)return this.at(Ju,Zl)}applyMatrix4(Dl){return this.direction.add(this.origin).applyMatrix4(Dl),this.origin.applyMatrix4(Dl),this.direction.sub(this.origin),this}clone(){return new _u().copy(this)}}function Yl(Ul,Dl,Zl,Ju,Uu,fp){Ju=Ju*Math.PI/180,Uu=Uu*Math.PI/180,fp=fp*Math.PI/180;const Zu=k0=>k0*k0,Lp=Math.cos(Ju),Np=Math.cos(Uu),zp=Math.cos(fp),h0=Math.sin(fp);return new Nl(Ul,Dl*zp,Zl*Np,0,Dl*h0,Zl*(Lp-Np*zp)/h0,0,0,Zl*Math.sqrt(1-Zu(Lp)-Zu(Np)-Zu(zp)+2*Lp*Np*zp)/h0)}},546:(e,o,a)=>{a.r(o),a.d(o,{CustomLinear:()=>rt,Gradient:()=>In,GradientType:()=>d,ROYGB:()=>$,RWB:()=>_,Sinebow:()=>j,builtinGradients:()=>nt,getGradient:()=>b,normalizeValue:()=>g});var c=a(222);class d{}function g(xl,Ll,Nl){return Ll>=xl?(Nl<xl&&(Nl=xl),Nl>Ll&&(Nl=Ll),{lo:xl,hi:Ll,val:Nl}):(Nl>xl&&(Nl=xl),Nl<Ll&&(Nl=Ll),{lo:Ll,hi:xl,val:Nl=xl-Nl+Ll})}function b(xl){if(xl instanceof d)return xl;if(xl.gradient!==void 0&&nt[xl.gradient]){let Ll=xl.min===void 0?-1:xl.min,Nl=xl.max===void 0?1:xl.max;return xl.mid===void 0?xl.colors===void 0?new nt[xl.gradient](Ll,Nl):new nt[xl.gradient](Ll,Nl,xl.colors):new nt[xl.gradient](Ll,Nl,xl.mid)}if(typeof xl.gradient=="string"&&xl.gradient.startsWith("linear_")){let Ll=xl.gradient.split("_");Ll.shift();let Nl=xl.min===void 0?-1:xl.min,_u=xl.max===void 0?1:xl.max;return new rt(Nl,_u,Ll)}return xl}class _ extends d{constructor(Ll,Nl,_u){super(),this.gradient="RWB",this.mult=1,this.mid=_u,this.min=Ll,this.max=Nl,Nl===void 0&&Array.isArray(Ll)&&Ll.length>=2?(this.max=Ll[1],this.min=Ll[0]):Ll&&Nl&&!Array.isArray(Ll)&&(this.min=Ll,this.max=Nl)}range(){return this.min!==void 0&&this.max!==void 0?[this.min,this.max]:null}valueToHex(Ll,Nl){var _u,Yl;if(Ll=this.mult*Ll,Nl?(_u=Nl[0],Yl=Nl[1]):(_u=this.min,Yl=this.max),Ll===void 0)return 16777215;var Ul=g(_u,Yl,Ll);_u=Ul.lo;var Dl,Zl=((Yl=Ul.hi)+_u)/2;return(Ll=Ul.val)<(Zl=Nl&&Nl[2]!==void 0?Nl[2]:this.mid!==void 0?this.mid:(_u+Yl)/2)?16711680+256*(Dl=Math.floor(255*Math.sqrt((Ll-_u)/(Zl-_u))))+Dl:Ll>Zl?65536*(Dl=Math.floor(255*Math.sqrt(1-(Ll-Zl)/(Yl-Zl))))+256*Dl+255:16777215}}class $ extends d{constructor(Ll,Nl){super(),this.gradient="ROYGB",this.mult=1,this.min=Ll,this.max=Nl,Nl===void 0&&Array.isArray(Ll)&&Ll.length>=2?(this.max=Ll[1],this.min=Ll[0]):Ll&&Nl&&!Array.isArray(Ll)&&(this.min=Ll,this.max=Nl)}valueToHex(Ll,Nl){var _u,Yl;if(Ll=this.mult*Ll,Nl?(_u=Nl[0],Yl=Nl[1]):(_u=this.min,Yl=this.max),Ll===void 0)return 16777215;var Ul=g(_u,Yl,Ll),Dl=((_u=Ul.lo)+(Yl=Ul.hi))/2,Zl=(_u+Dl)/2,Ju=(Dl+Yl)/2;return(Ll=Ul.val)<Zl?16711680+256*Math.floor(255*Math.sqrt((Ll-_u)/(Zl-_u)))+0:Ll<Dl?65536*Math.floor(255*Math.sqrt(1-(Ll-Zl)/(Dl-Zl)))+65280+0:Ll<Ju?65280+1*Math.floor(255*Math.sqrt((Ll-Dl)/(Ju-Dl))):0+256*Math.floor(255*Math.sqrt(1-(Ll-Ju)/(Yl-Ju)))+255}range(){return this.min!==void 0&&this.max!==void 0?[this.min,this.max]:null}}class j extends d{constructor(Ll,Nl){super(),this.gradient="Sinebow",this.mult=1,this.min=Ll,this.max=Nl,Nl===void 0&&Array.isArray(Ll)&&Ll.length>=2&&(this.max=Ll[1],this.min=Ll[0]),Nl<Ll&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(Ll,Nl){var _u,Yl;if(Ll=this.mult*Ll,Nl?(_u=Nl[0],Yl=Nl[1]):(_u=this.min,Yl=this.max),Ll===void 0)return 16777215;var Ul=In.normalizeValue(_u,Yl,Ll);_u=Ul.lo,Yl=Ul.hi;var Dl=((Ll=Ul.val)-_u)/(Yl-_u)*5/6+.5,Zl=Math.sin(Math.PI*Dl);Zl*=255*Zl;var Ju=Math.sin(Math.PI*(Dl+1/3));Ju*=255*Ju;var Uu=Math.sin(Math.PI*(Dl+2/3));return Uu*=255*Uu,65536*Math.floor(Zl)+256*Math.floor(Uu)+1*Math.floor(Ju)}range(){return this.min!==void 0&&this.max!==void 0?[this.min,this.max]:null}}class rt extends d{constructor(Ll,Nl,_u){var Yl;if(super(),this.gradient="linear",this.colors=new Array,Array.isArray(Ll)&&Ll.length>=2?(this.max=Ll[1],this.min=Ll[0],Yl=Nl):(this.min=Ll,this.max=Nl,Yl=_u),Yl)for(let Ul of Yl)this.colors.push(c.CC.color(Ul));else this.colors.push(c.CC.color(0))}range(){return this.min!==void 0&&this.max!==void 0?[this.min,this.max]:null}valueToHex(Ll,Nl){var _u,Yl;if(Nl?(_u=Nl[0],Yl=Nl[1]):(_u=this.min,Yl=this.max),Ll===void 0)return 16777215;var Ul=g(_u,Yl,Ll);_u=Ul.lo,Yl=Ul.hi,Ll=Ul.val;let Dl=this.colors.length,Zl=(Yl-_u)/Dl,Ju=Math.min(Math.floor((Ll-_u)/Zl),Dl-1),Uu=Math.min(Ju+1,Dl-1),fp=(Ll-_u-Ju*Zl)/Zl,Zu=this.colors[Ju],Lp=this.colors[Uu];return new c.Color(Zu.r+fp*(Lp.r-Zu.r),Zu.g+fp*(Lp.g-Zu.g),Zu.b+fp*(Lp.b-Zu.b)).getHex()}}const nt={rwb:_,RWB:_,roygb:$,ROYGB:$,sinebow:j,linear:rt};class In extends d{valueToHex(Ll,Nl){return 0}range(){return null}}In.RWB=_,In.ROYGB=$,In.Sinebow=j,In.CustomLinear=rt,In.builtinGradients=nt,In.normalizeValue=g,In.getGradient=b},663:(e,o,a)=>{var c=a(981),d=a(701),g=a(407),b=a(165),_=a(358),$=-2,j=12,rt=30;function nt(Uu){return(Uu>>>24&255)+(Uu>>>8&65280)+((65280&Uu)<<8)+((255&Uu)<<24)}function In(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function xl(Uu){var fp;return Uu&&Uu.state?(fp=Uu.state,Uu.total_in=Uu.total_out=fp.total=0,Uu.msg="",fp.wrap&&(Uu.adler=1&fp.wrap),fp.mode=1,fp.last=0,fp.havedict=0,fp.dmax=32768,fp.head=null,fp.hold=0,fp.bits=0,fp.lencode=fp.lendyn=new c.Buf32(852),fp.distcode=fp.distdyn=new c.Buf32(592),fp.sane=1,fp.back=-1,0):$}function Ll(Uu){var fp;return Uu&&Uu.state?((fp=Uu.state).wsize=0,fp.whave=0,fp.wnext=0,xl(Uu)):$}function Nl(Uu,fp){var Zu,Lp;return Uu&&Uu.state?(Lp=Uu.state,fp<0?(Zu=0,fp=-fp):(Zu=1+(fp>>4),fp<48&&(fp&=15)),fp&&(fp<8||fp>15)?$:(Lp.window!==null&&Lp.wbits!==fp&&(Lp.window=null),Lp.wrap=Zu,Lp.wbits=fp,Ll(Uu))):$}function _u(Uu,fp){var Zu,Lp;return Uu?(Lp=new In,Uu.state=Lp,Lp.window=null,(Zu=Nl(Uu,fp))!==0&&(Uu.state=null),Zu):$}var Yl,Ul,Dl=!0;function Zl(Uu){if(Dl){var fp;for(Yl=new c.Buf32(512),Ul=new c.Buf32(32),fp=0;fp<144;)Uu.lens[fp++]=8;for(;fp<256;)Uu.lens[fp++]=9;for(;fp<280;)Uu.lens[fp++]=7;for(;fp<288;)Uu.lens[fp++]=8;for(_(1,Uu.lens,0,288,Yl,0,Uu.work,{bits:9}),fp=0;fp<32;)Uu.lens[fp++]=5;_(2,Uu.lens,0,32,Ul,0,Uu.work,{bits:5}),Dl=!1}Uu.lencode=Yl,Uu.lenbits=9,Uu.distcode=Ul,Uu.distbits=5}function Ju(Uu,fp,Zu,Lp){var Np,zp=Uu.state;return zp.window===null&&(zp.wsize=1<<zp.wbits,zp.wnext=0,zp.whave=0,zp.window=new c.Buf8(zp.wsize)),Lp>=zp.wsize?(c.arraySet(zp.window,fp,Zu-zp.wsize,zp.wsize,0),zp.wnext=0,zp.whave=zp.wsize):((Np=zp.wsize-zp.wnext)>Lp&&(Np=Lp),c.arraySet(zp.window,fp,Zu-Lp,Np,zp.wnext),(Lp-=Np)?(c.arraySet(zp.window,fp,Zu-Lp,Lp,0),zp.wnext=Lp,zp.whave=zp.wsize):(zp.wnext+=Np,zp.wnext===zp.wsize&&(zp.wnext=0),zp.whave<zp.wsize&&(zp.whave+=Np))),0}o.inflateReset=Ll,o.inflateReset2=Nl,o.inflateResetKeep=xl,o.inflateInit=function(Uu){return _u(Uu,15)},o.inflateInit2=_u,o.inflate=function(Uu,fp){var Zu,Lp,Np,zp,h0,k0,D0,s0,dp,S0,l0,Op,Wp,mm,fm,g0,e0,V0,ym,Am,am,Rm,Lm,Fm,s1=0,r1=new c.Buf8(4),Y1=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Uu||!Uu.state||!Uu.output||!Uu.input&&Uu.avail_in!==0)return $;(Zu=Uu.state).mode===j&&(Zu.mode=13),h0=Uu.next_out,Np=Uu.output,D0=Uu.avail_out,zp=Uu.next_in,Lp=Uu.input,k0=Uu.avail_in,s0=Zu.hold,dp=Zu.bits,S0=k0,l0=D0,Rm=0;e:for(;;)switch(Zu.mode){case 1:if(Zu.wrap===0){Zu.mode=13;break}for(;dp<16;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(2&Zu.wrap&&s0===35615){Zu.check=0,r1[0]=255&s0,r1[1]=s0>>>8&255,Zu.check=g(Zu.check,r1,2,0),s0=0,dp=0,Zu.mode=2;break}if(Zu.flags=0,Zu.head&&(Zu.head.done=!1),!(1&Zu.wrap)||(((255&s0)<<8)+(s0>>8))%31){Uu.msg="incorrect header check",Zu.mode=rt;break}if((15&s0)!=8){Uu.msg="unknown compression method",Zu.mode=rt;break}if(dp-=4,am=8+(15&(s0>>>=4)),Zu.wbits===0)Zu.wbits=am;else if(am>Zu.wbits){Uu.msg="invalid window size",Zu.mode=rt;break}Zu.dmax=1<<am,Uu.adler=Zu.check=1,Zu.mode=512&s0?10:j,s0=0,dp=0;break;case 2:for(;dp<16;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(Zu.flags=s0,(255&Zu.flags)!=8){Uu.msg="unknown compression method",Zu.mode=rt;break}if(57344&Zu.flags){Uu.msg="unknown header flags set",Zu.mode=rt;break}Zu.head&&(Zu.head.text=s0>>8&1),512&Zu.flags&&(r1[0]=255&s0,r1[1]=s0>>>8&255,Zu.check=g(Zu.check,r1,2,0)),s0=0,dp=0,Zu.mode=3;case 3:for(;dp<32;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}Zu.head&&(Zu.head.time=s0),512&Zu.flags&&(r1[0]=255&s0,r1[1]=s0>>>8&255,r1[2]=s0>>>16&255,r1[3]=s0>>>24&255,Zu.check=g(Zu.check,r1,4,0)),s0=0,dp=0,Zu.mode=4;case 4:for(;dp<16;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}Zu.head&&(Zu.head.xflags=255&s0,Zu.head.os=s0>>8),512&Zu.flags&&(r1[0]=255&s0,r1[1]=s0>>>8&255,Zu.check=g(Zu.check,r1,2,0)),s0=0,dp=0,Zu.mode=5;case 5:if(1024&Zu.flags){for(;dp<16;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}Zu.length=s0,Zu.head&&(Zu.head.extra_len=s0),512&Zu.flags&&(r1[0]=255&s0,r1[1]=s0>>>8&255,Zu.check=g(Zu.check,r1,2,0)),s0=0,dp=0}else Zu.head&&(Zu.head.extra=null);Zu.mode=6;case 6:if(1024&Zu.flags&&((Op=Zu.length)>k0&&(Op=k0),Op&&(Zu.head&&(am=Zu.head.extra_len-Zu.length,Zu.head.extra||(Zu.head.extra=new Array(Zu.head.extra_len)),c.arraySet(Zu.head.extra,Lp,zp,Op,am)),512&Zu.flags&&(Zu.check=g(Zu.check,Lp,Op,zp)),k0-=Op,zp+=Op,Zu.length-=Op),Zu.length))break e;Zu.length=0,Zu.mode=7;case 7:if(2048&Zu.flags){if(k0===0)break e;Op=0;do am=Lp[zp+Op++],Zu.head&&am&&Zu.length<65536&&(Zu.head.name+=String.fromCharCode(am));while(am&&Op<k0);if(512&Zu.flags&&(Zu.check=g(Zu.check,Lp,Op,zp)),k0-=Op,zp+=Op,am)break e}else Zu.head&&(Zu.head.name=null);Zu.length=0,Zu.mode=8;case 8:if(4096&Zu.flags){if(k0===0)break e;Op=0;do am=Lp[zp+Op++],Zu.head&&am&&Zu.length<65536&&(Zu.head.comment+=String.fromCharCode(am));while(am&&Op<k0);if(512&Zu.flags&&(Zu.check=g(Zu.check,Lp,Op,zp)),k0-=Op,zp+=Op,am)break e}else Zu.head&&(Zu.head.comment=null);Zu.mode=9;case 9:if(512&Zu.flags){for(;dp<16;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(s0!==(65535&Zu.check)){Uu.msg="header crc mismatch",Zu.mode=rt;break}s0=0,dp=0}Zu.head&&(Zu.head.hcrc=Zu.flags>>9&1,Zu.head.done=!0),Uu.adler=Zu.check=0,Zu.mode=j;break;case 10:for(;dp<32;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}Uu.adler=Zu.check=nt(s0),s0=0,dp=0,Zu.mode=11;case 11:if(Zu.havedict===0)return Uu.next_out=h0,Uu.avail_out=D0,Uu.next_in=zp,Uu.avail_in=k0,Zu.hold=s0,Zu.bits=dp,2;Uu.adler=Zu.check=1,Zu.mode=j;case j:if(fp===5||fp===6)break e;case 13:if(Zu.last){s0>>>=7&dp,dp-=7&dp,Zu.mode=27;break}for(;dp<3;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}switch(Zu.last=1&s0,dp-=1,3&(s0>>>=1)){case 0:Zu.mode=14;break;case 1:if(Zl(Zu),Zu.mode=20,fp===6){s0>>>=2,dp-=2;break e}break;case 2:Zu.mode=17;break;case 3:Uu.msg="invalid block type",Zu.mode=rt}s0>>>=2,dp-=2;break;case 14:for(s0>>>=7&dp,dp-=7&dp;dp<32;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if((65535&s0)!=(s0>>>16^65535)){Uu.msg="invalid stored block lengths",Zu.mode=rt;break}if(Zu.length=65535&s0,s0=0,dp=0,Zu.mode=15,fp===6)break e;case 15:Zu.mode=16;case 16:if(Op=Zu.length){if(Op>k0&&(Op=k0),Op>D0&&(Op=D0),Op===0)break e;c.arraySet(Np,Lp,zp,Op,h0),k0-=Op,zp+=Op,D0-=Op,h0+=Op,Zu.length-=Op;break}Zu.mode=j;break;case 17:for(;dp<14;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(Zu.nlen=257+(31&s0),s0>>>=5,dp-=5,Zu.ndist=1+(31&s0),s0>>>=5,dp-=5,Zu.ncode=4+(15&s0),s0>>>=4,dp-=4,Zu.nlen>286||Zu.ndist>30){Uu.msg="too many length or distance symbols",Zu.mode=rt;break}Zu.have=0,Zu.mode=18;case 18:for(;Zu.have<Zu.ncode;){for(;dp<3;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}Zu.lens[Y1[Zu.have++]]=7&s0,s0>>>=3,dp-=3}for(;Zu.have<19;)Zu.lens[Y1[Zu.have++]]=0;if(Zu.lencode=Zu.lendyn,Zu.lenbits=7,Lm={bits:Zu.lenbits},Rm=_(0,Zu.lens,0,19,Zu.lencode,0,Zu.work,Lm),Zu.lenbits=Lm.bits,Rm){Uu.msg="invalid code lengths set",Zu.mode=rt;break}Zu.have=0,Zu.mode=19;case 19:for(;Zu.have<Zu.nlen+Zu.ndist;){for(;g0=(s1=Zu.lencode[s0&(1<<Zu.lenbits)-1])>>>16&255,e0=65535&s1,!((fm=s1>>>24)<=dp);){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(e0<16)s0>>>=fm,dp-=fm,Zu.lens[Zu.have++]=e0;else{if(e0===16){for(Fm=fm+2;dp<Fm;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(s0>>>=fm,dp-=fm,Zu.have===0){Uu.msg="invalid bit length repeat",Zu.mode=rt;break}am=Zu.lens[Zu.have-1],Op=3+(3&s0),s0>>>=2,dp-=2}else if(e0===17){for(Fm=fm+3;dp<Fm;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}dp-=fm,am=0,Op=3+(7&(s0>>>=fm)),s0>>>=3,dp-=3}else{for(Fm=fm+7;dp<Fm;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}dp-=fm,am=0,Op=11+(127&(s0>>>=fm)),s0>>>=7,dp-=7}if(Zu.have+Op>Zu.nlen+Zu.ndist){Uu.msg="invalid bit length repeat",Zu.mode=rt;break}for(;Op--;)Zu.lens[Zu.have++]=am}}if(Zu.mode===rt)break;if(Zu.lens[256]===0){Uu.msg="invalid code -- missing end-of-block",Zu.mode=rt;break}if(Zu.lenbits=9,Lm={bits:Zu.lenbits},Rm=_(1,Zu.lens,0,Zu.nlen,Zu.lencode,0,Zu.work,Lm),Zu.lenbits=Lm.bits,Rm){Uu.msg="invalid literal/lengths set",Zu.mode=rt;break}if(Zu.distbits=6,Zu.distcode=Zu.distdyn,Lm={bits:Zu.distbits},Rm=_(2,Zu.lens,Zu.nlen,Zu.ndist,Zu.distcode,0,Zu.work,Lm),Zu.distbits=Lm.bits,Rm){Uu.msg="invalid distances set",Zu.mode=rt;break}if(Zu.mode=20,fp===6)break e;case 20:Zu.mode=21;case 21:if(k0>=6&&D0>=258){Uu.next_out=h0,Uu.avail_out=D0,Uu.next_in=zp,Uu.avail_in=k0,Zu.hold=s0,Zu.bits=dp,b(Uu,l0),h0=Uu.next_out,Np=Uu.output,D0=Uu.avail_out,zp=Uu.next_in,Lp=Uu.input,k0=Uu.avail_in,s0=Zu.hold,dp=Zu.bits,Zu.mode===j&&(Zu.back=-1);break}for(Zu.back=0;g0=(s1=Zu.lencode[s0&(1<<Zu.lenbits)-1])>>>16&255,e0=65535&s1,!((fm=s1>>>24)<=dp);){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(g0&&!(240&g0)){for(V0=fm,ym=g0,Am=e0;g0=(s1=Zu.lencode[Am+((s0&(1<<V0+ym)-1)>>V0)])>>>16&255,e0=65535&s1,!(V0+(fm=s1>>>24)<=dp);){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}s0>>>=V0,dp-=V0,Zu.back+=V0}if(s0>>>=fm,dp-=fm,Zu.back+=fm,Zu.length=e0,g0===0){Zu.mode=26;break}if(32&g0){Zu.back=-1,Zu.mode=j;break}if(64&g0){Uu.msg="invalid literal/length code",Zu.mode=rt;break}Zu.extra=15&g0,Zu.mode=22;case 22:if(Zu.extra){for(Fm=Zu.extra;dp<Fm;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}Zu.length+=s0&(1<<Zu.extra)-1,s0>>>=Zu.extra,dp-=Zu.extra,Zu.back+=Zu.extra}Zu.was=Zu.length,Zu.mode=23;case 23:for(;g0=(s1=Zu.distcode[s0&(1<<Zu.distbits)-1])>>>16&255,e0=65535&s1,!((fm=s1>>>24)<=dp);){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(!(240&g0)){for(V0=fm,ym=g0,Am=e0;g0=(s1=Zu.distcode[Am+((s0&(1<<V0+ym)-1)>>V0)])>>>16&255,e0=65535&s1,!(V0+(fm=s1>>>24)<=dp);){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}s0>>>=V0,dp-=V0,Zu.back+=V0}if(s0>>>=fm,dp-=fm,Zu.back+=fm,64&g0){Uu.msg="invalid distance code",Zu.mode=rt;break}Zu.offset=e0,Zu.extra=15&g0,Zu.mode=24;case 24:if(Zu.extra){for(Fm=Zu.extra;dp<Fm;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}Zu.offset+=s0&(1<<Zu.extra)-1,s0>>>=Zu.extra,dp-=Zu.extra,Zu.back+=Zu.extra}if(Zu.offset>Zu.dmax){Uu.msg="invalid distance too far back",Zu.mode=rt;break}Zu.mode=25;case 25:if(D0===0)break e;if(Op=l0-D0,Zu.offset>Op){if((Op=Zu.offset-Op)>Zu.whave&&Zu.sane){Uu.msg="invalid distance too far back",Zu.mode=rt;break}Op>Zu.wnext?(Op-=Zu.wnext,Wp=Zu.wsize-Op):Wp=Zu.wnext-Op,Op>Zu.length&&(Op=Zu.length),mm=Zu.window}else mm=Np,Wp=h0-Zu.offset,Op=Zu.length;Op>D0&&(Op=D0),D0-=Op,Zu.length-=Op;do Np[h0++]=mm[Wp++];while(--Op);Zu.length===0&&(Zu.mode=21);break;case 26:if(D0===0)break e;Np[h0++]=Zu.length,D0--,Zu.mode=21;break;case 27:if(Zu.wrap){for(;dp<32;){if(k0===0)break e;k0--,s0|=Lp[zp++]<<dp,dp+=8}if(l0-=D0,Uu.total_out+=l0,Zu.total+=l0,l0&&(Uu.adler=Zu.check=Zu.flags?g(Zu.check,Np,l0,h0-l0):d(Zu.check,Np,l0,h0-l0)),l0=D0,(Zu.flags?s0:nt(s0))!==Zu.check){Uu.msg="incorrect data check",Zu.mode=rt;break}s0=0,dp=0}Zu.mode=28;case 28:if(Zu.wrap&&Zu.flags){for(;dp<32;){if(k0===0)break e;k0--,s0+=Lp[zp++]<<dp,dp+=8}if(s0!==(4294967295&Zu.total)){Uu.msg="incorrect length check",Zu.mode=rt;break}s0=0,dp=0}Zu.mode=29;case 29:Rm=1;break e;case rt:Rm=-3;break e;case 31:return-4;default:return $}return Uu.next_out=h0,Uu.avail_out=D0,Uu.next_in=zp,Uu.avail_in=k0,Zu.hold=s0,Zu.bits=dp,(Zu.wsize||l0!==Uu.avail_out&&Zu.mode<rt&&(Zu.mode<27||fp!==4))&&Ju(Uu,Uu.output,Uu.next_out,l0-Uu.avail_out)?(Zu.mode=31,-4):(S0-=Uu.avail_in,l0-=Uu.avail_out,Uu.total_in+=S0,Uu.total_out+=l0,Zu.total+=l0,Zu.wrap&&l0&&(Uu.adler=Zu.check=Zu.flags?g(Zu.check,Np,l0,Uu.next_out-l0):d(Zu.check,Np,l0,Uu.next_out-l0)),Uu.data_type=Zu.bits+(Zu.last?64:0)+(Zu.mode===j?128:0)+(Zu.mode===20||Zu.mode===15?256:0),(S0===0&&l0===0||fp===4)&&Rm===0&&(Rm=-5),Rm)},o.inflateEnd=function(Uu){if(!Uu||!Uu.state)return $;var fp=Uu.state;return fp.window&&(fp.window=null),Uu.state=null,0},o.inflateGetHeader=function(Uu,fp){var Zu;return Uu&&Uu.state&&2&(Zu=Uu.state).wrap?(Zu.head=fp,fp.done=!1,0):$},o.inflateSetDictionary=function(Uu,fp){var Zu,Lp=fp.length;return Uu&&Uu.state?(Zu=Uu.state).wrap!==0&&Zu.mode!==11?$:Zu.mode===11&&d(1,fp,Lp,0)!==Zu.check?-3:Ju(Uu,fp,Lp,Lp)?(Zu.mode=31,-4):(Zu.havedict=1,0):$},o.inflateInfo="pako inflate (from Nodeca project)"},670:e=>{e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},681:e=>{e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},697:(e,o,a)=>{var c=a(981);function d(e0){for(var V0=e0.length;--V0>=0;)e0[V0]=0}var g=256,b=286,_=30,$=15,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],rt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],In=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],xl=new Array(576);d(xl);var Ll=new Array(60);d(Ll);var Nl=new Array(512);d(Nl);var _u=new Array(256);d(_u);var Yl=new Array(29);d(Yl);var Ul,Dl,Zl,Ju=new Array(_);function Uu(e0,V0,ym,Am,am){this.static_tree=e0,this.extra_bits=V0,this.extra_base=ym,this.elems=Am,this.max_length=am,this.has_stree=e0&&e0.length}function fp(e0,V0){this.dyn_tree=e0,this.max_code=0,this.stat_desc=V0}function Zu(e0){return e0<256?Nl[e0]:Nl[256+(e0>>>7)]}function Lp(e0,V0){e0.pending_buf[e0.pending++]=255&V0,e0.pending_buf[e0.pending++]=V0>>>8&255}function Np(e0,V0,ym){e0.bi_valid>16-ym?(e0.bi_buf|=V0<<e0.bi_valid&65535,Lp(e0,e0.bi_buf),e0.bi_buf=V0>>16-e0.bi_valid,e0.bi_valid+=ym-16):(e0.bi_buf|=V0<<e0.bi_valid&65535,e0.bi_valid+=ym)}function zp(e0,V0,ym){Np(e0,ym[2*V0],ym[2*V0+1])}function h0(e0,V0){var ym=0;do ym|=1&e0,e0>>>=1,ym<<=1;while(--V0>0);return ym>>>1}function k0(e0,V0,ym){var Am,am,Rm=new Array(16),Lm=0;for(Am=1;Am<=$;Am++)Rm[Am]=Lm=Lm+ym[Am-1]<<1;for(am=0;am<=V0;am++){var Fm=e0[2*am+1];Fm!==0&&(e0[2*am]=h0(Rm[Fm]++,Fm))}}function D0(e0){var V0;for(V0=0;V0<b;V0++)e0.dyn_ltree[2*V0]=0;for(V0=0;V0<_;V0++)e0.dyn_dtree[2*V0]=0;for(V0=0;V0<19;V0++)e0.bl_tree[2*V0]=0;e0.dyn_ltree[512]=1,e0.opt_len=e0.static_len=0,e0.last_lit=e0.matches=0}function s0(e0){e0.bi_valid>8?Lp(e0,e0.bi_buf):e0.bi_valid>0&&(e0.pending_buf[e0.pending++]=e0.bi_buf),e0.bi_buf=0,e0.bi_valid=0}function dp(e0,V0,ym,Am){var am=2*V0,Rm=2*ym;return e0[am]<e0[Rm]||e0[am]===e0[Rm]&&Am[V0]<=Am[ym]}function S0(e0,V0,ym){for(var Am=e0.heap[ym],am=ym<<1;am<=e0.heap_len&&(am<e0.heap_len&&dp(V0,e0.heap[am+1],e0.heap[am],e0.depth)&&am++,!dp(V0,Am,e0.heap[am],e0.depth));)e0.heap[ym]=e0.heap[am],ym=am,am<<=1;e0.heap[ym]=Am}function l0(e0,V0,ym){var Am,am,Rm,Lm,Fm=0;if(e0.last_lit!==0)do Am=e0.pending_buf[e0.d_buf+2*Fm]<<8|e0.pending_buf[e0.d_buf+2*Fm+1],am=e0.pending_buf[e0.l_buf+Fm],Fm++,Am===0?zp(e0,am,V0):(zp(e0,(Rm=_u[am])+g+1,V0),(Lm=j[Rm])!==0&&Np(e0,am-=Yl[Rm],Lm),zp(e0,Rm=Zu(--Am),ym),(Lm=rt[Rm])!==0&&Np(e0,Am-=Ju[Rm],Lm));while(Fm<e0.last_lit);zp(e0,256,V0)}function Op(e0,V0){var ym,Am,am,Rm=V0.dyn_tree,Lm=V0.stat_desc.static_tree,Fm=V0.stat_desc.has_stree,s1=V0.stat_desc.elems,r1=-1;for(e0.heap_len=0,e0.heap_max=573,ym=0;ym<s1;ym++)Rm[2*ym]!==0?(e0.heap[++e0.heap_len]=r1=ym,e0.depth[ym]=0):Rm[2*ym+1]=0;for(;e0.heap_len<2;)Rm[2*(am=e0.heap[++e0.heap_len]=r1<2?++r1:0)]=1,e0.depth[am]=0,e0.opt_len--,Fm&&(e0.static_len-=Lm[2*am+1]);for(V0.max_code=r1,ym=e0.heap_len>>1;ym>=1;ym--)S0(e0,Rm,ym);am=s1;do ym=e0.heap[1],e0.heap[1]=e0.heap[e0.heap_len--],S0(e0,Rm,1),Am=e0.heap[1],e0.heap[--e0.heap_max]=ym,e0.heap[--e0.heap_max]=Am,Rm[2*am]=Rm[2*ym]+Rm[2*Am],e0.depth[am]=(e0.depth[ym]>=e0.depth[Am]?e0.depth[ym]:e0.depth[Am])+1,Rm[2*ym+1]=Rm[2*Am+1]=am,e0.heap[1]=am++,S0(e0,Rm,1);while(e0.heap_len>=2);e0.heap[--e0.heap_max]=e0.heap[1],function(Y1,G1){var wv,Mv,Cv,lv,J1,dy,Iv=G1.dyn_tree,Dv=G1.max_code,_y=G1.stat_desc.static_tree,wy=G1.stat_desc.has_stree,Sm=G1.stat_desc.extra_bits,Xp=G1.stat_desc.extra_base,R0=G1.stat_desc.max_length,K0=0;for(lv=0;lv<=$;lv++)Y1.bl_count[lv]=0;for(Iv[2*Y1.heap[Y1.heap_max]+1]=0,wv=Y1.heap_max+1;wv<573;wv++)(lv=Iv[2*Iv[2*(Mv=Y1.heap[wv])+1]+1]+1)>R0&&(lv=R0,K0++),Iv[2*Mv+1]=lv,Mv>Dv||(Y1.bl_count[lv]++,J1=0,Mv>=Xp&&(J1=Sm[Mv-Xp]),dy=Iv[2*Mv],Y1.opt_len+=dy*(lv+J1),wy&&(Y1.static_len+=dy*(_y[2*Mv+1]+J1)));if(K0!==0){do{for(lv=R0-1;Y1.bl_count[lv]===0;)lv--;Y1.bl_count[lv]--,Y1.bl_count[lv+1]+=2,Y1.bl_count[R0]--,K0-=2}while(K0>0);for(lv=R0;lv!==0;lv--)for(Mv=Y1.bl_count[lv];Mv!==0;)(Cv=Y1.heap[--wv])>Dv||(Iv[2*Cv+1]!==lv&&(Y1.opt_len+=(lv-Iv[2*Cv+1])*Iv[2*Cv],Iv[2*Cv+1]=lv),Mv--)}}(e0,V0),k0(Rm,r1,e0.bl_count)}function Wp(e0,V0,ym){var Am,am,Rm=-1,Lm=V0[1],Fm=0,s1=7,r1=4;for(Lm===0&&(s1=138,r1=3),V0[2*(ym+1)+1]=65535,Am=0;Am<=ym;Am++)am=Lm,Lm=V0[2*(Am+1)+1],++Fm<s1&&am===Lm||(Fm<r1?e0.bl_tree[2*am]+=Fm:am!==0?(am!==Rm&&e0.bl_tree[2*am]++,e0.bl_tree[32]++):Fm<=10?e0.bl_tree[34]++:e0.bl_tree[36]++,Fm=0,Rm=am,Lm===0?(s1=138,r1=3):am===Lm?(s1=6,r1=3):(s1=7,r1=4))}function mm(e0,V0,ym){var Am,am,Rm=-1,Lm=V0[1],Fm=0,s1=7,r1=4;for(Lm===0&&(s1=138,r1=3),Am=0;Am<=ym;Am++)if(am=Lm,Lm=V0[2*(Am+1)+1],!(++Fm<s1&&am===Lm)){if(Fm<r1)do zp(e0,am,e0.bl_tree);while(--Fm!==0);else am!==0?(am!==Rm&&(zp(e0,am,e0.bl_tree),Fm--),zp(e0,16,e0.bl_tree),Np(e0,Fm-3,2)):Fm<=10?(zp(e0,17,e0.bl_tree),Np(e0,Fm-3,3)):(zp(e0,18,e0.bl_tree),Np(e0,Fm-11,7));Fm=0,Rm=am,Lm===0?(s1=138,r1=3):am===Lm?(s1=6,r1=3):(s1=7,r1=4)}}d(Ju);var fm=!1;function g0(e0,V0,ym,Am){Np(e0,0+(Am?1:0),3),function(am,Rm,Lm,Fm){s0(am),Lp(am,Lm),Lp(am,~Lm),c.arraySet(am.pending_buf,am.window,Rm,Lm,am.pending),am.pending+=Lm}(e0,V0,ym)}o._tr_init=function(e0){fm||(function(){var V0,ym,Am,am,Rm,Lm=new Array(16);for(Am=0,am=0;am<28;am++)for(Yl[am]=Am,V0=0;V0<1<<j[am];V0++)_u[Am++]=am;for(_u[Am-1]=am,Rm=0,am=0;am<16;am++)for(Ju[am]=Rm,V0=0;V0<1<<rt[am];V0++)Nl[Rm++]=am;for(Rm>>=7;am<_;am++)for(Ju[am]=Rm<<7,V0=0;V0<1<<rt[am]-7;V0++)Nl[256+Rm++]=am;for(ym=0;ym<=$;ym++)Lm[ym]=0;for(V0=0;V0<=143;)xl[2*V0+1]=8,V0++,Lm[8]++;for(;V0<=255;)xl[2*V0+1]=9,V0++,Lm[9]++;for(;V0<=279;)xl[2*V0+1]=7,V0++,Lm[7]++;for(;V0<=287;)xl[2*V0+1]=8,V0++,Lm[8]++;for(k0(xl,287,Lm),V0=0;V0<_;V0++)Ll[2*V0+1]=5,Ll[2*V0]=h0(V0,5);Ul=new Uu(xl,j,257,b,$),Dl=new Uu(Ll,rt,0,_,$),Zl=new Uu(new Array(0),nt,0,19,7)}(),fm=!0),e0.l_desc=new fp(e0.dyn_ltree,Ul),e0.d_desc=new fp(e0.dyn_dtree,Dl),e0.bl_desc=new fp(e0.bl_tree,Zl),e0.bi_buf=0,e0.bi_valid=0,D0(e0)},o._tr_stored_block=g0,o._tr_flush_block=function(e0,V0,ym,Am){var am,Rm,Lm=0;e0.level>0?(e0.strm.data_type===2&&(e0.strm.data_type=function(Fm){var s1,r1=4093624447;for(s1=0;s1<=31;s1++,r1>>>=1)if(1&r1&&Fm.dyn_ltree[2*s1]!==0)return 0;if(Fm.dyn_ltree[18]!==0||Fm.dyn_ltree[20]!==0||Fm.dyn_ltree[26]!==0)return 1;for(s1=32;s1<g;s1++)if(Fm.dyn_ltree[2*s1]!==0)return 1;return 0}(e0)),Op(e0,e0.l_desc),Op(e0,e0.d_desc),Lm=function(Fm){var s1;for(Wp(Fm,Fm.dyn_ltree,Fm.l_desc.max_code),Wp(Fm,Fm.dyn_dtree,Fm.d_desc.max_code),Op(Fm,Fm.bl_desc),s1=18;s1>=3&&Fm.bl_tree[2*In[s1]+1]===0;s1--);return Fm.opt_len+=3*(s1+1)+5+5+4,s1}(e0),am=e0.opt_len+3+7>>>3,(Rm=e0.static_len+3+7>>>3)<=am&&(am=Rm)):am=Rm=ym+5,ym+4<=am&&V0!==-1?g0(e0,V0,ym,Am):e0.strategy===4||Rm===am?(Np(e0,2+(Am?1:0),3),l0(e0,xl,Ll)):(Np(e0,4+(Am?1:0),3),function(Fm,s1,r1,Y1){var G1;for(Np(Fm,s1-257,5),Np(Fm,r1-1,5),Np(Fm,Y1-4,4),G1=0;G1<Y1;G1++)Np(Fm,Fm.bl_tree[2*In[G1]+1],3);mm(Fm,Fm.dyn_ltree,s1-1),mm(Fm,Fm.dyn_dtree,r1-1)}(e0,e0.l_desc.max_code+1,e0.d_desc.max_code+1,Lm+1),l0(e0,e0.dyn_ltree,e0.dyn_dtree)),D0(e0),Am&&s0(e0)},o._tr_tally=function(e0,V0,ym){return e0.pending_buf[e0.d_buf+2*e0.last_lit]=V0>>>8&255,e0.pending_buf[e0.d_buf+2*e0.last_lit+1]=255&V0,e0.pending_buf[e0.l_buf+e0.last_lit]=255&ym,e0.last_lit++,V0===0?e0.dyn_ltree[2*ym]++:(e0.matches++,V0--,e0.dyn_ltree[2*(_u[ym]+g+1)]++,e0.dyn_dtree[2*Zu(V0)]++),e0.last_lit===e0.lit_bufsize-1},o._tr_align=function(e0){Np(e0,2,3),zp(e0,256,xl),function(V0){V0.bi_valid===16?(Lp(V0,V0.bi_buf),V0.bi_buf=0,V0.bi_valid=0):V0.bi_valid>=8&&(V0.pending_buf[V0.pending++]=255&V0.bi_buf,V0.bi_buf>>=8,V0.bi_valid-=8)}(e0)}},701:e=>{e.exports=function(o,a,c,d){for(var g=65535&o,b=o>>>16&65535,_=0;c!==0;){c-=_=c>2e3?2e3:c;do b=b+(g=g+a[d++]|0)|0;while(--_);g%=65521,b%=65521}return g|b<<16}},746:e=>{e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},788:(e,o,a)=>{var c={};(0,a(981).assign)(c,a(71),a(3),a(681)),e.exports=c},797:(e,o,a)=>{a.r(o),a.d(o,{VASP:()=>g});var c=a(378),d=a(392);function g(b,_={}){var $=[[]],j={};const rt=_.assignBonds===void 0||_.assignBonds;var nt=b.replace(/^\s+/,"").split(/\r?\n/);if(nt.length<3)return $;if(!nt[1].match(/\d+/))return console.log("Warning: second line of the vasp structure file must be a number"),$;if(j.length=parseFloat(nt[1]),j.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),$;j.xVec=new Float32Array(nt[2].replace(/^\s+/,"").split(/\s+/)),j.yVec=new Float32Array(nt[3].replace(/^\s+/,"").split(/\s+/)),j.zVec=new Float32Array(nt[4].replace(/^\s+/,"").split(/\s+/));var In=new c.Matrix3(j.xVec[0],j.xVec[1],j.xVec[2],j.yVec[0],j.yVec[1],j.yVec[2],j.zVec[0],j.zVec[1],j.zVec[2]);In.multiplyScalar(j.length),$.modelData=[{symmetries:[],cryst:{matrix:In}}];var xl=nt[5].trim().split(/\s+/),Ll=new Int16Array(nt[6].trim().split(/\s+/)),Nl=nt[7].trim(),_u=!1;if(Nl.match(/S/)&&(_u=!0,Nl=nt[8].trim()),Nl.toLowerCase()[0]=="c")Nl="cartesian";else{if(Nl.toLowerCase()[0]!="d")return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),$;Nl="direct"}if(xl.length!=Ll.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(xl),console.log(Ll),$;_u?nt.splice(0,9):nt.splice(0,8);for(var Yl=0,Ul=0,Dl=xl.length;Ul<Dl;Ul++){for(var Zl=xl[Ul],Ju=0,Uu=Ll[Ul];Ju<Uu;Ju++){var fp=new Float32Array(nt[Yl+Ju].trim().split(/\s+/)),Zu={};Zu.elem=Zl,Nl=="cartesian"?(Zu.x=j.length*fp[0],Zu.y=j.length*fp[1],Zu.z=j.length*fp[2]):(Zu.x=j.length*(fp[0]*j.xVec[0]+fp[1]*j.yVec[0]+fp[2]*j.zVec[0]),Zu.y=j.length*(fp[0]*j.xVec[1]+fp[1]*j.yVec[1]+fp[2]*j.zVec[1]),Zu.z=j.length*(fp[0]*j.xVec[2]+fp[1]*j.yVec[2]+fp[2]*j.zVec[2])),Zu.bonds=[],Zu.bondOrder=[],$[0].push(Zu)}Yl+=Ll[Ul]}if(rt)for(let Lp=0;Lp<$.length;Lp++)(0,d.assignBonds)($[Lp],_);return $}},834:e=>{e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},848:(e,o,a)=>{a.r(o),a.d(o,{VolumeData:()=>$});var c=a(864),d=a(529),g=a(797),b=a(865),_=a(75);class ${constructor(rt,nt,In){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(Yl){var Ul=Yl/(this.size.y*this.size.z),Dl=Yl%(this.size.y*this.size.z),Zl=Yl%this.size.z;return Ul*=this.unit.x,Dl*=this.unit.y,Zl*=this.unit.z,{x:Ul+=this.origin.x,y:Dl+=this.origin.y,z:Zl+=this.origin.z}},this.vasp=function(Yl){var Ul=Yl.replace(/^\s+/,"").split(/[\n\r]/),Dl=(0,g.VASP)(Yl)[0].length;if(Dl==0)return console.warn("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),void(this.data=[]);var Zl,Ju=1.889725992,Uu=parseFloat(Ul[1]);Zl=Ul[2].replace(/^\s+/,"").split(/\s+/);var fp=new d.Vector3(parseFloat(Zl[0]),parseFloat(Zl[1]),parseFloat(Zl[2])).multiplyScalar(Uu*Ju);Zl=Ul[3].replace(/^\s+/,"").split(/\s+/);var Zu=new d.Vector3(parseFloat(Zl[0]),parseFloat(Zl[1]),parseFloat(Zl[2])).multiplyScalar(Uu*Ju);Zl=Ul[4].replace(/^\s+/,"").split(/\s+/);var Lp=new d.Vector3(parseFloat(Zl[0]),parseFloat(Zl[1]),parseFloat(Zl[2])).multiplyScalar(Uu*Ju),Np=fp.x*(Zu.y*Lp.z-Lp.y*Zu.z)-Zu.x*(fp.y*Lp.z-Lp.y*fp.z)+Lp.x*(fp.y*Zu.z-Zu.y*fp.z),zp=1/(Np=Math.abs(Np)/Math.pow(Ju,3));Ul.splice(0,8+Dl+1);var h0=Ul[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),k0=Math.abs(parseFloat(h0[0])),D0=Math.abs(parseFloat(h0[1])),s0=Math.abs(parseFloat(h0[2])),dp=this.origin=new d.Vector3(0,0,0);this.size={x:k0,y:D0,z:s0},this.unit=new d.Vector3(fp.x,Zu.y,Lp.z),fp=fp.multiplyScalar(1/(Ju*k0)),Zu=Zu.multiplyScalar(1/(Ju*D0)),Lp=Lp.multiplyScalar(1/(Ju*s0)),fp.y==0&&fp.z==0&&Zu.x==0&&Zu.z==0&&Lp.x==0&&Lp.y==0||(this.matrix=new d.Matrix4(fp.x,Zu.x,Lp.x,0,fp.y,Zu.y,Lp.y,0,fp.z,Zu.z,Lp.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new d.Matrix4().makeTranslation(dp.x,dp.y,dp.z)),this.origin=new d.Vector3(0,0,0),this.unit=new d.Vector3(1,1,1)),Ul.splice(0,1);var S0=Ul.join(" "),l0=(S0=S0.replace(/^\s+/,"")).split(/[\s\r]+/);l0.splice(k0*D0*s0+1);for(var Op=Float32Array.from(l0,parseFloat),Wp=0;Wp<Op.length;Wp++)Op[Wp]=Op[Wp]*zp*.036749309;this.data=Op},this.dx=function(Yl){var Ul,Dl=Yl.split(/[\n\r]+/),Zl=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,Ju=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,Uu=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,fp=/data follows/,Zu=0;for(Zu=0;Zu<Dl.length;Zu++){var Lp=Dl[Zu];if(Ul=Zl.exec(Lp)){var Np=parseInt(Ul[1]),zp=parseInt(Ul[2]),h0=parseInt(Ul[3]);this.size={x:Np,y:zp,z:h0}}else if(Ul=Uu.exec(Lp)){var k0=parseFloat(Ul[1]);if(parseFloat(Ul[2])==0&&parseFloat(Ul[3])==0||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),Lp=Dl[Zu+=1],(Ul=Uu.exec(Lp))==null)return void console.error("Parse error in dx delta matrix");var D0=parseFloat(Ul[2]);if(parseFloat(Ul[1])==0&&parseFloat(Ul[3])==0||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),Lp=Dl[Zu+=1],(Ul=Uu.exec(Lp))==null)return void console.error("Parse error in dx delta matrix");var s0=parseFloat(Ul[3]);parseFloat(Ul[1])==0&&parseFloat(Ul[2])==0||console.warn("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new d.Vector3(k0,D0,s0)}else if(Ul=Ju.exec(Lp)){var dp=parseFloat(Ul[1]),S0=parseFloat(Ul[2]),l0=parseFloat(Ul[3]);this.origin=new d.Vector3(dp,S0,l0)}else if(Ul=fp.exec(Lp))break}if(Zu+=1,this.size&&this.origin&&this.unit&&this.size){var Op=Dl.splice(Zu).join(" ").split(/[\s\r]+/);this.data=Float32Array.from(Op,parseFloat)}else console.error("Error parsing dx format")},nt=nt.toLowerCase(),/\.gz$/.test(nt)){nt=nt.replace(/\.gz$/,"");try{this[nt]&&this.isbinary.has(nt)?(typeof rt=="string"&&(rt=(0,c.base64ToArray)(rt)),rt=(0,_.inflate)(rt)):rt=new TextDecoder("utf-8").decode((0,_.inflate)(rt))}catch(Yl){console.error(Yl)}}if(this[nt]&&(this.isbinary.has(nt)&&typeof rt=="string"&&(rt=(0,c.base64ToArray)(rt)),this[nt](rt)),In){if(In.negate)for(let Yl=0,Ul=this.data.length;Yl<Ul;Yl++)this.data[Yl]=-this.data[Yl];if(In.normalize){var xl=0;for(let Yl=0,Ul=this.data.length;Yl<Ul;Yl++)xl+=this.data[Yl];var Ll=xl/this.data.length;xl=0;for(let Yl=0,Ul=this.data.length;Yl<Ul;Yl++){var Nl=this.data[Yl]-Ll;xl+=Nl*Nl}var _u=xl/this.data.length;for(let Yl=0,Ul=this.data.length;Yl<Ul;Yl++)this.data[Yl]=(this.data[Yl]-Ll)/_u}}}getIndex(rt,nt,In){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new d.Matrix4().getInverse(this.matrix));var xl=new d.Vector3(rt,nt,In);rt=(xl=xl.applyMatrix4(this.inversematrix)).x,nt=xl.y,In=xl.z}else rt-=this.origin.x,nt-=this.origin.y,In-=this.origin.z,rt/=this.unit.x,nt/=this.unit.y,In/=this.unit.z;return rt=Math.round(rt),nt=Math.round(nt),In=Math.round(In),rt<0||rt>=this.size.x||nt<0||nt>=this.size.y||In<0||In>=this.size.z?-1:rt*this.size.y*this.size.z+nt*this.size.z+In}getVal(rt,nt,In){let xl=this.getIndex(rt,nt,In);return xl<0?0:this.data[xl]}cube(rt){var nt=rt.split(/\r?\n/);if(!(nt.length<6)){var In=(0,b.CUBE)(rt,{}).modelData[0].cryst,xl=nt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),Ll=parseFloat(xl[0]),Nl=Math.abs(Ll);this.origin=In.origin,this.size=In.size,this.unit=In.unit,this.matrix=In.matrix4;var _u=6;Ll<0&&_u++;var Yl=nt.splice(Nl+_u).join(" "),Ul=(Yl=Yl.replace(/^\s+/,"")).split(/[\s\r]+/);this.data=Float32Array.from(Ul,parseFloat)}}ccp4(rt){var nt={};rt=new Int8Array(rt);var In=new Int32Array(rt.buffer,0,56),xl=new Float32Array(rt.buffer,0,56),Ll=new DataView(rt.buffer);if(nt.MAP=String.fromCharCode(Ll.getUint8(208),Ll.getUint8(209),Ll.getUint8(210),Ll.getUint8(211)),nt.MACHST=[Ll.getUint8(212),Ll.getUint8(213)],nt.MACHST[0]===17&&nt.MACHST[1]===17)for(var Nl=rt.byteLength,_u=0;_u<Nl;_u+=4)Ll.setFloat32(_u,Ll.getFloat32(_u),!0);nt.NX=In[0],nt.NY=In[1],nt.NZ=In[2],nt.MODE=In[3],nt.NXSTART=In[4],nt.NYSTART=In[5],nt.NZSTART=In[6],nt.MX=In[7],nt.MY=In[8],nt.MZ=In[9],nt.xlen=xl[10],nt.ylen=xl[11],nt.zlen=xl[12],nt.alpha=xl[13],nt.beta=xl[14],nt.gamma=xl[15],nt.MAPC=In[16],nt.MAPR=In[17],nt.MAPS=In[18],nt.DMIN=xl[19],nt.DMAX=xl[20],nt.DMEAN=xl[21],nt.ISPG=In[22],nt.NSYMBT=In[23],nt.LSKFLG=In[24],nt.originX=xl[49],nt.originY=xl[50],nt.originZ=xl[51],nt.ARMS=xl[54];var Yl=nt,Ul=[Yl.xlen,0,0],Dl=[Yl.ylen*Math.cos(Math.PI/180*Yl.gamma),Yl.ylen*Math.sin(Math.PI/180*Yl.gamma),0],Zl=[Yl.zlen*Math.cos(Math.PI/180*Yl.beta),Yl.zlen*(Math.cos(Math.PI/180*Yl.alpha)-Math.cos(Math.PI/180*Yl.gamma)*Math.cos(Math.PI/180*Yl.beta))/Math.sin(Math.PI/180*Yl.gamma),0];Zl[2]=Math.sqrt(Yl.zlen*Yl.zlen*Math.sin(Math.PI/180*Yl.beta)*Math.sin(Math.PI/180*Yl.beta)-Zl[1]*Zl[1]);var Ju=[0,Ul,Dl,Zl],Uu=[0,Yl.MX,Yl.MY,Yl.MZ],fp=[0,Yl.MAPC,Yl.MAPR,Yl.MAPS];this.matrix=new d.Matrix4,this.matrix.set(Ju[fp[1]][0]/Uu[fp[1]],Ju[fp[2]][0]/Uu[fp[2]],Ju[fp[3]][0]/Uu[fp[3]],0,Ju[fp[1]][1]/Uu[fp[1]],Ju[fp[2]][1]/Uu[fp[2]],Ju[fp[3]][1]/Uu[fp[3]],0,Ju[fp[1]][2]/Uu[fp[1]],Ju[fp[2]][2]/Uu[fp[2]],Ju[fp[3]][2]/Uu[fp[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new d.Matrix4().makeTranslation(Yl.NXSTART+Yl.originX,Yl.NYSTART+Yl.originY,Yl.NZSTART+Yl.originZ)),this.origin=new d.Vector3(0,0,0),this.unit=new d.Vector3(1,1,1),this.size={x:nt.NX,y:nt.NY,z:nt.NZ},this.dimensionorder=[nt.MAPC,nt.MAPR,nt.MAPS];var Zu=new Float32Array(rt.buffer,1024+nt.NSYMBT),Lp=nt.NX,Np=nt.NY,zp=nt.NZ;this.data=new Float32Array(Lp*Np*zp);for(let h0=0;h0<Lp;h0++)for(let k0=0;k0<Np;k0++)for(let D0=0;D0<zp;D0++)this.data[(h0*Np+k0)*zp+D0]=Zu[(D0*Np+k0)*Lp+h0]}}},864:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,inflateString:()=>inflateString,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(546),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(848),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(222),pako__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(75);function extend(e,o){for(var a in o)o.hasOwnProperty(a)&&o[a]!==void 0&&(e[a]=o[a]);return e}function deepCopy(e){let o,a,c;if(e==null)return{};if(typeof e!="object"||e===null)return e;for(c in o=Array.isArray(e)?[]:{},e)a=e[c],o[c]=deepCopy(a);return o}function isNumeric(e){var o=typeof e;return(o==="number"||o==="string")&&!isNaN(e-parseFloat(e))}function isEmptyObject(e){return Object.keys(e).length===0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?(console.warn("Invalid callback provided."),()=>{}):callback}function adjustVolumeStyle(e){e&&(!e.volformat||e.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData||(e.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(e.voldata,e.volformat)),e.volscheme&&(e.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(e.volscheme)))}function getExtent(e,o){var a,c,d,g,b,_,$,j,rt,nt,In=!o;if(a=c=d=9999,g=b=_=-9999,$=j=rt=nt=0,e.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var xl=0;xl<e.length;xl++){var Ll=e[xl];if(Ll!==void 0&&isFinite(Ll.x)&&isFinite(Ll.y)&&isFinite(Ll.z)&&(nt++,$+=Ll.x,j+=Ll.y,rt+=Ll.z,a=a<Ll.x?a:Ll.x,c=c<Ll.y?c:Ll.y,d=d<Ll.z?d:Ll.z,g=g>Ll.x?g:Ll.x,b=b>Ll.y?b:Ll.y,_=_>Ll.z?_:Ll.z,Ll.symmetries&&In))for(var Nl=0;Nl<Ll.symmetries.length;Nl++)nt++,$+=Ll.symmetries[Nl].x,j+=Ll.symmetries[Nl].y,rt+=Ll.symmetries[Nl].z,a=a<Ll.symmetries[Nl].x?a:Ll.symmetries[Nl].x,c=c<Ll.symmetries[Nl].y?c:Ll.symmetries[Nl].y,d=d<Ll.symmetries[Nl].z?d:Ll.symmetries[Nl].z,g=g>Ll.symmetries[Nl].x?g:Ll.symmetries[Nl].x,b=b>Ll.symmetries[Nl].y?b:Ll.symmetries[Nl].y,_=_>Ll.symmetries[Nl].z?_:Ll.symmetries[Nl].z}return[[a,c,d],[g,b,_],[$/nt,j/nt,rt/nt]]}function getPropertyRange(e,o){for(var a=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=0,g=e.length;d<g;d++){var b=getAtomProperty(e[d],o);b!=null&&(b<a&&(a=b),b>c&&(c=b))}return isFinite(a)||isFinite(c)?isFinite(a)?isFinite(c)||(c=a):a=c:a=c=0,[a,c]}class PausableTimer{constructor(o,a,c){this.total_time_run=0,this.fn=o,this.arg=c,this.countdown=a,this.start_time=new Date().getTime(),this.ident=setTimeout(o,a,c)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(e){for(var o=window.atob(e),a=o.length,c=new Uint8Array(a),d=0;d<a;d++)c[d]=o.charCodeAt(d);return c}function getAtomProperty(e,o){var a=null;return e.properties&&e.properties[o]!==void 0?a=e.properties[o]:e[o]!==void 0&&(a=e[o]),a}function mergeGeos(e,o){var a=o.geometry;a!==void 0&&e.geometryGroups.push(a.geometryGroups[0])}function specStringToObject(e){if(typeof e=="object"||e===void 0||e==null)return e;try{return JSON.parse(e)}catch{}var o=function(In){return isNumeric(In)?Math.floor(parseFloat(In))==parseInt(In)||In.indexOf(".")>=0?parseFloat(In):parseInt(In):In==="true"||In!=="false"&&In},a={};if((e=e.replace(/%7E/g,"~"))==="all")return a;for(var c=e.split(";"),d=0;d<c.length;d++){var g=c[d].split(":"),b=g[0],_={},$=g[1];if($)if(($=$.replace(/~/g,"=")).indexOf("=")!==-1)for(var j=$.split(","),rt=0;rt<j.length;rt++){var nt=j[rt].split("=",2);_[nt[0]]=o(nt[1])}else _=$.indexOf(",")!==-1?$.split(","):o($);a[b]=_}return a}function checkStatus(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}function get(e,o){var a=fetch(e).then(checkStatus).then(c=>c.text());return o?a.then(o):a}function getbin(e,o,a,c){var d;return d=a=="POST"?fetch(e,{method:"POST",body:c}).then(g=>checkStatus(g)).then(g=>g.arrayBuffer()):fetch(e).then(g=>checkStatus(g)).then(g=>g.arrayBuffer()),o?d.then(o):d}function download(e,o,a,c){var d="",g="",b="",_=null,$=o.addModel();if(e.indexOf(":")<0&&(e=e.length==4?"pdb:"+e:isNaN(e)?"url:"+e:"cid:"+e),e.substring(0,5)=="mmtf:"&&(console.warn("WARNING: MMTF now deprecated.  Reverting to bcif."),e="bcif:"+e.slice(5)),e.substring(0,5)==="bcif:")e=e.substring(5).toUpperCase(),b="https://models.rcsb.org/"+e+".bcif.gz",a&&a.noComputeSecondaryStructure===void 0&&(a.noComputeSecondaryStructure=!0),_=new Promise(function(rt){getbin(b).then(function(nt){$.addMolData(nt,"bcif.gz",a),o.zoomTo(),o.render(),rt($)},function(){console.error("fetch of "+b+" failed.")})});else{if(e.substring(0,4)==="pdb:"){if(d="bcif",a&&a.format&&(d=a.format),a&&a.noComputeSecondaryStructure===void 0&&(a.noComputeSecondaryStructure=!0),!(e=e.substring(4).toUpperCase()).match(/^[1-9][A-Za-z0-9]{3}$/))return void alert("Wrong PDB ID");d=="bcif"?b="https://models.rcsb.org/"+e.toUpperCase()+".bcif.gz":(g=a&&a.pdbUri?a.pdbUri:"https://files.rcsb.org/view/",b=g+e+"."+d)}else if(e.substring(0,4)=="cid:"){if(d="sdf",!(e=e.substring(4)).match(/^[0-9]+$/))return void alert("Wrong Compound ID");b="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else e.substring(0,4)=="url:"&&(b=e.substring(4),d=b);var j=function(rt){$.addMolData(rt,d,a),o.zoomTo(),o.render()};_=new Promise(function(rt){d=="bcif"?getbin(b).then(function(nt){j(nt),rt($)}).catch(function(){g=a&&a.pdbUri?a.pdbUri:"https://files.rcsb.org/view/",b=g+e+".pdb",d="pdb",console.warn("falling back to pdb format"),get(b).then(function(nt){j(nt),rt($)}).catch(function(nt){j(""),rt($),console.error("fetch of "+b+" failed: "+nt.statusText)})}):get(b).then(function(nt){j(nt),rt($)}).catch(function(nt){j(""),rt($),console.error("fetch of "+b+" failed: "+nt.statusText)})})}return c?(_.then(function(rt){c(rt)}),$):_}function getColorFromStyle(e,o){let a=o.colorscheme;if(_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[a]!==void 0)a=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[a];else if(typeof a=="string"&&a.endsWith("Carbon")){let g=a.substring(0,a.lastIndexOf("Carbon")).toLowerCase();if(_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[g]!==void 0){let b=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);b.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[g],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[a]={prop:"elem",map:b},a=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[a]}}let c=e.color;if(o.color!==void 0&&o.color!="spectrum"&&(c=o.color),a!==void 0){let g,b;if(_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[a]!==void 0)a=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[a],a[e[a.prop]]!==void 0&&(c=a.map[e[a.prop]]);else if(a[e[a.prop]]!==void 0)c=a.map[e[a.prop]];else if(a.prop!==void 0&&a.gradient!==void 0){g=a.prop;var d=a.gradient;d instanceof _Gradient__WEBPACK_IMPORTED_MODULE_0__.GradientType||(d=(0,_Gradient__WEBPACK_IMPORTED_MODULE_0__.getGradient)(a));let _=d.range()||[-1,1];b=getAtomProperty(e,g),b!=null&&(c=d.valueToHex(b,_))}else a.prop!==void 0&&a.map!==void 0?(g=a.prop,b=getAtomProperty(e,g),a.map[b]!==void 0&&(c=a.map[b])):o.colorscheme[e.elem]!==void 0?c=o.colorscheme[e.elem]:console.warn("Could not interpret colorscheme "+a)}else o.colorfunc!==void 0&&(c=o.colorfunc(e));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(c)}function getElement(e){let o=e;return typeof e=="string"?o=document.querySelector("#"+e):typeof e=="object"&&e.get&&(o=e.get(0)),o}function inflateString(e,o=!0){let a;return a=typeof e=="string"?new TextEncoder().encode(e):new Uint8Array(e),(0,pako__WEBPACK_IMPORTED_MODULE_3__.inflate)(a,{to:o?"string":null})}},865:(e,o,a)=>{a.r(o),a.d(o,{CUBE:()=>b});var c=a(378),d=a(392);const g={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"};function b(_,$){$=$||{};const j=[[]];let rt=_.split(/\r?\n/);const nt=$.assignBonds===void 0||$.assignBonds;if(rt.length<6)return j;let In=rt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const xl=Math.abs(parseFloat(In[0]));let Ll={origin:void 0,size:void 0,unit:void 0,matrix4:void 0,matrix:void 0};const Nl=Ll.origin=new c.Vector3(parseFloat(In[1]),parseFloat(In[2]),parseFloat(In[3]));In=rt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),In=rt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const _u=In[0]>0?.529177:1;Nl.multiplyScalar(_u);const Yl=Math.abs(In[0]),Ul=new c.Vector3(parseFloat(In[1]),parseFloat(In[2]),parseFloat(In[3])).multiplyScalar(_u);In=rt[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const Dl=Math.abs(In[0]),Zl=new c.Vector3(parseFloat(In[1]),parseFloat(In[2]),parseFloat(In[3])).multiplyScalar(_u);In=rt[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const Ju=Math.abs(In[0]),Uu=new c.Vector3(parseFloat(In[1]),parseFloat(In[2]),parseFloat(In[3])).multiplyScalar(_u);if(Ll.size={x:Yl,y:Dl,z:Ju},Ll.unit=new c.Vector3(Ul.x,Zl.y,Uu.z),Ul.y!=0||Ul.z!=0||Zl.x!=0||Zl.z!=0||Uu.x!=0||Uu.y!=0){Ll.matrix4=new c.Matrix4(Ul.x,Zl.x,Uu.x,0,Ul.y,Zl.y,Uu.y,0,Ul.z,Zl.z,Uu.z,0,0,0,0,1);let h0=new c.Matrix4().makeTranslation(Nl.x,Nl.y,Nl.z);Ll.matrix4=Ll.matrix4.multiplyMatrices(h0,Ll.matrix4),Ll.matrix=Ll.matrix4.matrix3FromTopLeft(),Ll.origin=new c.Vector3(0,0,0),Ll.unit=new c.Vector3(1,1,1)}j.modelData=[{cryst:Ll}],rt=rt.splice(6,xl);for(var fp=j[j.length-1].length,Zu=fp+rt.length,Lp=fp;Lp<Zu;++Lp){var Np={};Np.serial=Lp;var zp=rt[Lp-fp].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");Np.elem=g[zp[0]],Np.x=parseFloat(zp[2])*_u,Np.y=parseFloat(zp[3])*_u,Np.z=parseFloat(zp[4])*_u,Np.hetflag=!0,Np.bonds=[],Np.bondOrder=[],Np.properties={},j[j.length-1].push(Np)}if(nt)for(let h0=0;h0<j.length;h0++)(0,d.assignBonds)(j[h0],$);return j}},972:(e,o,a)=>{var c=a(981),d=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var b=new c.Buf8(256),_=0;_<256;_++)b[_]=_>=252?6:_>=248?5:_>=240?4:_>=224?3:_>=192?2:1;function $(j,rt){if(rt<65534&&(j.subarray&&g||!j.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(j,rt));for(var nt="",In=0;In<rt;In++)nt+=String.fromCharCode(j[In]);return nt}b[254]=b[254]=1,o.string2buf=function(j){var rt,nt,In,xl,Ll,Nl=j.length,_u=0;for(xl=0;xl<Nl;xl++)(64512&(nt=j.charCodeAt(xl)))==55296&&xl+1<Nl&&(64512&(In=j.charCodeAt(xl+1)))==56320&&(nt=65536+(nt-55296<<10)+(In-56320),xl++),_u+=nt<128?1:nt<2048?2:nt<65536?3:4;for(rt=new c.Buf8(_u),Ll=0,xl=0;Ll<_u;xl++)(64512&(nt=j.charCodeAt(xl)))==55296&&xl+1<Nl&&(64512&(In=j.charCodeAt(xl+1)))==56320&&(nt=65536+(nt-55296<<10)+(In-56320),xl++),nt<128?rt[Ll++]=nt:nt<2048?(rt[Ll++]=192|nt>>>6,rt[Ll++]=128|63&nt):nt<65536?(rt[Ll++]=224|nt>>>12,rt[Ll++]=128|nt>>>6&63,rt[Ll++]=128|63&nt):(rt[Ll++]=240|nt>>>18,rt[Ll++]=128|nt>>>12&63,rt[Ll++]=128|nt>>>6&63,rt[Ll++]=128|63&nt);return rt},o.buf2binstring=function(j){return $(j,j.length)},o.binstring2buf=function(j){for(var rt=new c.Buf8(j.length),nt=0,In=rt.length;nt<In;nt++)rt[nt]=j.charCodeAt(nt);return rt},o.buf2string=function(j,rt){var nt,In,xl,Ll,Nl=rt||j.length,_u=new Array(2*Nl);for(In=0,nt=0;nt<Nl;)if((xl=j[nt++])<128)_u[In++]=xl;else if((Ll=b[xl])>4)_u[In++]=65533,nt+=Ll-1;else{for(xl&=Ll===2?31:Ll===3?15:7;Ll>1&&nt<Nl;)xl=xl<<6|63&j[nt++],Ll--;Ll>1?_u[In++]=65533:xl<65536?_u[In++]=xl:(xl-=65536,_u[In++]=55296|xl>>10&1023,_u[In++]=56320|1023&xl)}return $(_u,In)},o.utf8border=function(j,rt){var nt;for((rt=rt||j.length)>j.length&&(rt=j.length),nt=rt-1;nt>=0&&(192&j[nt])==128;)nt--;return nt<0||nt===0?rt:nt+b[j[nt]]>rt?nt:rt}},981:(e,o)=>{var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(b,_){return Object.prototype.hasOwnProperty.call(b,_)}o.assign=function(b){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var $=_.shift();if($){if(typeof $!="object")throw new TypeError($+"must be non-object");for(var j in $)c($,j)&&(b[j]=$[j])}}return b},o.shrinkBuf=function(b,_){return b.length===_?b:b.subarray?b.subarray(0,_):(b.length=_,b)};var d={arraySet:function(b,_,$,j,rt){if(_.subarray&&b.subarray)b.set(_.subarray($,$+j),rt);else for(var nt=0;nt<j;nt++)b[rt+nt]=_[$+nt]},flattenChunks:function(b){var _,$,j,rt,nt,In;for(j=0,_=0,$=b.length;_<$;_++)j+=b[_].length;for(In=new Uint8Array(j),rt=0,_=0,$=b.length;_<$;_++)nt=b[_],In.set(nt,rt),rt+=nt.length;return In}},g={arraySet:function(b,_,$,j,rt){for(var nt=0;nt<j;nt++)b[rt+nt]=_[$+nt]},flattenChunks:function(b){return[].concat.apply([],b)}};o.setTyped=function(b){b?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,d)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,g))},o.setTyped(a)}},__webpack_module_cache__={};function __webpack_require__(e){var o=__webpack_module_cache__[e];if(o!==void 0)return o.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.d=(e,o)=>{for(var a in o)__webpack_require__.o(o,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})},__webpack_require__.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),__webpack_require__.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__(16),__webpack_require__(185);var __webpack_exports__=__webpack_require__(307);return __webpack_exports__})(),module.exports=factory()})(_3DmolMin);const covalentRadii={H:.31,He:.28,Li:1.28,Be:.96,B:.84,C:.76,N:.71,O:.66,F:.57,Ne:.58,Na:1.66,Mg:1.41,Al:1.21,Si:1.11,P:1.07,S:1.05,Cl:1.02,Ar:1.06,K:2.03,Ca:1.76,Sc:1.7,Ti:1.6,V:1.53,Cr:1.39,Mn:1.61,Fe:1.52,Co:1.5,Ni:1.24,Cu:1.32,Zn:1.22,Ga:1.22,Ge:1.2,As:1.19,Se:1.2,Br:1.2,Kr:1.16,Rb:2.2,Sr:1.95,Y:1.9,Zr:1.75,Nb:1.64,Mo:1.54,Tc:1.47,Ru:1.46,Rh:1.42,Pd:1.39,Ag:1.45,Cd:1.44,In:1.42,Sn:1.39,Sb:1.39,Te:1.38,I:1.39,Xe:1.4,Cs:2.44,Ba:2.15,La:2.07,Ce:2.04,Pr:2.03,Nd:2.01,Pm:1.99,Sm:1.98,Eu:1.98,Gd:1.96,Tb:1.94,Dy:1.92,Ho:1.92,Er:1.89,Tm:1.9,Yb:1.87,Lu:1.75,Hf:1.87,Ta:1.7,W:1.62,Re:1.51,Os:1.44,Ir:1.41,Pt:1.36,Au:1.36,Hg:1.32,Tl:1.45,Pb:1.46,Bi:1.48,Po:1.4,At:1.5,Rn:1.5,Fr:2.6,Ra:2.21,Ac:2.15,Th:2.06,Pa:2,U:1.96,Np:1.9,Pu:1.87,Am:1.8,Cm:1.69},$3Dmol$1=window.$3Dmol;function mod(e,o){return(e%o+o)%o}function setCustomBondLengths(){function e(o,a){$3Dmol$1.setBondLength(o,a)}Object.keys(covalentRadii).forEach(o=>{e(o,1.05*covalentRadii[o])})}const Visualizer3dmol=reactExports.forwardRef(({viewerParams:e,cifText:o},a)=>{const c=reactExports.useRef(null),d=reactExports.useRef(null),g=reactExports.useRef("gldiv-"+(Math.random()+1).toString(36).substring(7));reactExports.useEffect(()=>{setCustomBondLengths()},[]);const b=()=>{if(d.current=c.current.addModel(),o){let j=$3Dmol$1.Parsers.CIF(o),rt=j[0],nt=j.modelData[0].cryst;d.current.setCrystData(nt.a,nt.b,nt.c,nt.alpha,nt.beta,nt.gamma);let In=d.current.modelData.cryst.matrix,xl=new $3Dmol$1.Matrix3().getInverse3(In),Ll=[],Nl=[];rt.forEach(Ul=>{let Dl=new $3Dmol$1.Vector3(Ul.x,Ul.y,Ul.z);if(e.packedCell){let Zl=Dl.clone().applyMatrix3(xl);Dl=new $3Dmol$1.Vector3(mod(Zl.x,1),mod(Zl.y,1),mod(Zl.z,1)).applyMatrix3(In)}Nl.push({elem:Ul.elem,x:Dl.x,y:Dl.y,z:Dl.z})});let _u=.03,Yl=e.supercell;for(let Ul=-1;Ul<Yl[0]+1;Ul++)for(let Dl=-1;Dl<Yl[1]+1;Dl++)for(let Zl=-1;Zl<Yl[2]+1;Zl++){let Ju=new $3Dmol$1.Vector3(Ul,Dl,Zl);if(Ju.applyMatrix3(In),Ul==-1||Ul==Yl[0]||Dl==-1||Dl==Yl[1]||Zl==-1||Zl==Yl[2])if(e.packedCell)Nl.forEach(Uu=>{let fp=new $3Dmol$1.Vector3(Uu.x,Uu.y,Uu.z);fp.add(Ju);let Zu=fp.clone().applyMatrix3(xl);Zu.x>-_u&&Zu.x<Yl[0]+_u&&Zu.y>-_u&&Zu.y<Yl[1]+_u&&Zu.z>-_u&&Zu.z<Yl[2]+_u&&Ll.push({elem:Uu.elem,x:fp.x,y:fp.y,z:fp.z})});else continue;else Nl.forEach(Uu=>{Ll.push({elem:Uu.elem,x:Uu.x+Ju.x,y:Uu.y+Ju.y,z:Uu.z+Ju.z})})}d.current.addAtoms(Ll)}},_=()=>{c.current.removeAllModels(),b();let j={sphere:{scale:.3,colorscheme:"Jmol"}};e.vdwRadius&&(j.sphere.scale=1),e.bonds&&(j.stick={radius:.15,colorscheme:"Jmol"}),c.current.setStyle(j),c.current.addUnitCell(d.current),d.current.assignBonds(),c.current.removeAllLabels(),e.atomLabels&&d.current.atoms.forEach(rt=>{c.current.addLabel(rt.elem,{position:{x:rt.x,y:rt.y,z:rt.z},fontColor:"black",bold:!0,fontSize:18,showBackground:!1,backgroundOpacity:1,inFront:!0},null,!0)}),c.current.zoomTo(),c.current.zoom(1.4),c.current.render()},$=(j,rt)=>{j=="camera"&&(rt=="x"&&c.current.setView([0,0,0,0,-.5,-.5,-.5,.5]),rt=="y"&&c.current.setView([0,0,0,0,.5,.5,.5,.5]),rt=="z"&&c.current.setView([0,0,0,0,0,0,0,1]),c.current.zoomTo(),c.current.zoom(1.4))};return reactExports.useImperativeHandle(a,()=>({handleEvent:$})),reactExports.useEffect(()=>{let j={backgroundColor:"white",orthographic:!0};c.current=$3Dmol$1.createViewer(g.current,j),_()},[]),reactExports.useEffect(()=>{c.current&&_()},[e,o]),jsxRuntimeExports.jsx("div",{id:g.current,className:"gldiv",children:"No data!"})});Visualizer3dmol.displayName="Visualizer3dmol";const StructureWindow=({mouseEnabled:e,setMouseEnabledState:o,visualizerRef:a,viewerParams:c,cifText:d})=>{let g="structure-window";e||(g+=" disable-mouse");let b="Click to interact",_="mouse-disabled-note";return e&&(_="mouse-disabled-note on"),jsxRuntimeExports.jsxs("div",{className:"structure-window-outer",children:[jsxRuntimeExports.jsx("div",{className:"structure-window-click-handler",onClick:()=>o(!0),children:jsxRuntimeExports.jsx("div",{className:g,children:jsxRuntimeExports.jsx(Visualizer3dmol,{ref:a,viewerParams:c,cifText:d})})}),jsxRuntimeExports.jsx("div",{className:_,onClick:()=>o(!e),children:b})]})},StructureVisualizer=e=>{const[o,a]=reactExports.useState({supercell:e.initSupercell||[2,2,2],bonds:!0,packedCell:!0,atomLabels:!1,vdwRadius:!1}),[c,d]=reactExports.useState(!1),g=reactExports.useRef(null),b=reactExports.useRef(null);reactExports.useEffect(()=>{const rt=nt=>{b&&!b.current.contains(nt.target)&&d(!1)};return document.addEventListener("mousedown",rt),()=>{document.removeEventListener("mousedown",rt)}},[]);const _=rt=>{d(rt)},$=(rt,nt)=>{a(In=>({...In,[rt]:nt}))},j=(rt,nt)=>{g.current.handleEvent(rt,nt)};return jsxRuntimeExports.jsxs("div",{ref:b,className:"structure-visualizer",children:[jsxRuntimeExports.jsx(StructureWindow,{visualizerRef:g,viewerParams:o,cifText:e.cifText,mouseEnabled:c,setMouseEnabledState:_}),jsxRuntimeExports.jsx(ControlBox,{viewerParams:o,onViewerParamChange:$,onViewerEvent:j})]})},MCInfoBox=({children:e,style:o=null})=>jsxRuntimeExports$1.jsx("div",{style:o,children:jsxRuntimeExports$1.jsx("div",{className:"mc-info-container subsection-shadow overflow-auto rounded",children:e})}),IcsdLogo="/develop/assets/icsd-CyAoXolo.png",CodLogo="/develop/assets/cod-C-fmIdgX.png",MpdsLogo="/develop/assets/mpds-CkkCkplF.png";function sourceUrl(e){return e.database=="MPDS"?`https://mpds.io/#entry/${e.id}`:e.database=="COD"?`http://www.crystallography.net/cod/${e.id}.html`:e.database=="ICSD"?`https://icsd.fiz-karlsruhe.de/linkicsd.xhtml?coll_code=${e.id}`:null}const SourceInfoText=({source:e,metadata:o})=>{var $,j,rt,nt,In,xl,Ll;if(!("info"in e))return console.warn("source['info'] not present."),null;if(!("info"in o))return console.warn("metadata['info'] not present."),null;let a=[],c=[],d=(j=($=o==null?void 0:o.info)==null?void 0:$.source)==null?void 0:j.high_pressure_threshold,g=(nt=(rt=o==null?void 0:o.info)==null?void 0:rt.source)==null?void 0:nt.high_temperature_threshold;(In=e==null?void 0:e.info)!=null&&In.is_theoretical&&(a.push("theoretical origin"),c.push("is of theoretical origin")),(xl=e==null?void 0:e.info)!=null&&xl.is_high_pressure&&d&&(a.push("high pressure"),c.push(`was characterized at a pressure higher than ${d.value} ${d.unit}`)),(Ll=e==null?void 0:e.info)!=null&&Ll.is_high_temperature&&g&&(a.push("high temperature"),c.push(`was characterized at a temperature higher than ${g.value} ${g.unit}`));let b="";if(a.length>0&&(b=a.join("; "),b=`(${b})`),b=="")return null;for(let Nl=0;Nl<c.length;Nl++)Nl<c.length-1?c[Nl]=c[Nl]+";":c[Nl]=c[Nl]+".";const _=jsxRuntimeExports$1.jsx(Popover$1,{id:"popover-basic",children:jsxRuntimeExports$1.jsxs(Popover$1.Body,{children:["The source database reported that the source crystal",jsxRuntimeExports$1.jsx("ul",{style:{margin:"0"},children:c.map(Nl=>jsxRuntimeExports$1.jsx("li",{children:Nl},Nl))})]})});return jsxRuntimeExports$1.jsxs("div",{style:{display:"flex",gap:"5px",marginLeft:"10px",alignItems:"center"},children:[b,jsxRuntimeExports$1.jsx("div",{style:{width:"20px",height:"20px",fontSize:"14px"},children:jsxRuntimeExports$1.jsx(Eu,{popover:_,placement:"top"})})]})};function SourceInfo({sources:e,metadata:o}){const a=e[0];return jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:e.map(c=>{let d=null;return c.database=="ICSD"&&(d=IcsdLogo),c.database=="COD"&&(d=CodLogo),c.database=="MPDS"&&(d=MpdsLogo),jsxRuntimeExports$1.jsxs("li",{children:[jsxRuntimeExports$1.jsx("a",{className:"source-a",href:sourceUrl(c),title:"Go to source data",children:jsxRuntimeExports$1.jsxs("div",{style:{display:"inline-flex",gap:"5px",alignItems:"center"},children:[jsxRuntimeExports$1.jsx("img",{src:d,style:{height:"20px"}}),c.database," ID: ",c.id]})}),jsxRuntimeExports$1.jsx(SourceInfoText,{source:a,metadata:o})]},c.id)})})}function GeneralInfoBox({details:e,metadata:o,methodLabel:a}){return jsxRuntimeExports$1.jsxs(MCInfoBox,{style:{height:"450px"},children:[jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Info"}),jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{children:["Formula (IUPAC): ",Cu(e.general.formula)]}),jsxRuntimeExports$1.jsxs("li",{children:["Hill formula (full):"," ",Cu(e.general.formula_hill)]}),jsxRuntimeExports$1.jsxs("li",{children:["Bravais lattice: ",e.general.bravais_lattice]}),jsxRuntimeExports$1.jsxs("li",{children:["Space group symbol:"," ",Tu(e.general.spacegroup_international)]}),jsxRuntimeExports$1.jsxs("li",{children:["Space group number: ",e.general.spacegroup_number]})]})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Source"}),jsxRuntimeExports$1.jsx(SourceInfo,{sources:e.source,metadata:o})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Properties"}),jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{children:["Total energy:"," ",format_aiida_prop(e.properties.total_energy,o.info.properties.total_energy,a,2)]}),jsxRuntimeExports$1.jsxs("li",{children:["Density:"," ",ku.calculateDensity(e.general.formula_hill,e.properties.cell_volume)," ","kg/m",jsxRuntimeExports$1.jsx("sup",{children:"3"})]}),jsxRuntimeExports$1.jsxs("li",{children:["Cell volume:"," ",format_aiida_prop(e.properties.cell_volume,o.info.properties.cell_volume,a,2)]}),jsxRuntimeExports$1.jsxs("li",{children:["Total magnetization:"," ",format_aiida_prop(e.properties.total_magnetization,o.info.properties.total_magnetization,a,2)]}),jsxRuntimeExports$1.jsxs("li",{children:["Absolute magnetization:"," ",format_aiida_prop(e.properties.absolute_magnetization,o.info.properties.absolute_magnetization,a,2)]})]})]})]})}const StructureViewerBox=({uuid:e,structureInfo:o,methodLabel:a})=>jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsxs("div",{className:"subsection-title",children:["Structure"," ",jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[a],uuid:e})]}),jsxRuntimeExports$1.jsxs("div",{className:"structure-view-box subsection-shadow",children:[jsxRuntimeExports$1.jsx(StructureVisualizer,{cifText:o.cif,initSupercell:[2,2,2]}),jsxRuntimeExports$1.jsx("div",{className:"download-button-container",children:jsxRuntimeExports$1.jsx(Au,{aiida_rest_url:AIIDA_API_URLS[a],uuid:e})})]})]});function OverviewSection({params:e,loadedData:o}){return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"section-heading",children:"General overview"}),jsxRuntimeExports$1.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports$1.jsxs(Row,{children:[jsxRuntimeExports$1.jsx(Col,{className:"flex-column",children:jsxRuntimeExports$1.jsx(StructureViewerBox,{uuid:o.details.general.structure_uuid,structureInfo:o.structureInfo,methodLabel:e.method})}),jsxRuntimeExports$1.jsx(Col,{className:"flex-column",children:jsxRuntimeExports$1.jsx("div",{style:{marginTop:"35px"},children:jsxRuntimeExports$1.jsx(GeneralInfoBox,{details:o.details,metadata:o.metadata,methodLabel:e.method})})})]})})]})}function formatIfFloat(e,o){return typeof e=="number"&&!isNaN(e)?e.toFixed(o):e}const MCTable=({headerRow:e,contents:o,floatPrecision:a=4,style:c=null})=>jsxRuntimeExports$1.jsx("div",{className:"mc-data-table-container subsection-shadow overflow-auto rounded",style:c,children:jsxRuntimeExports$1.jsxs(Table,{bordered:!0,style:{margin:0},children:[jsxRuntimeExports$1.jsx("thead",{children:jsxRuntimeExports$1.jsx("tr",{children:e.map((d,g)=>jsxRuntimeExports$1.jsx("th",{className:"px-2 py-2",children:d},g))})}),jsxRuntimeExports$1.jsx("tbody",{children:o.map((d,g)=>jsxRuntimeExports$1.jsx("tr",{children:d.map((b,_)=>jsxRuntimeExports$1.jsx("td",{children:formatIfFloat(b,a)},_))},g))})]})});function bundleLatticeData({baseMatrix:e,transform_matrix:o=null}){const a=o?Su.multiplyMatrices(o,e):e,c=Su.getMatrixParams(a);return{matrix:a,angles:[c.angles[1][2],c.angles[0][2],c.angles[0][1]],lengths:c.lengths}}const CellInfoBox=({structureInfo:e,spacegroup_symbol:o="P1"})=>{const[a,c]=reactExports.useState(!1),[d,g]=reactExports.useState(!1),b=e.aiidaAttributes.cell,_=ju(o);console.log("Cell transformation matrix:",_);const $=bundleLatticeData({baseMatrix:b}),j=bundleLatticeData({baseMatrix:b,transform_matrix:_}),rt=d?j:$,nt=()=>{c(!a)};return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsxs("div",{className:"subsection-title",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports$1.jsx("div",{style:{flex:1},children:jsxRuntimeExports$1.jsx("span",{children:"Cell Info"})}),jsxRuntimeExports$1.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"40px",marginRight:"5px",alignItems:"stretch"},children:jsxRuntimeExports$1.jsx(Ru,{labelLeft:"Parameters",labelRight:"Matrix",switchLength:"30px",fontSize:"17px",onToggle:nt})})]}),jsxRuntimeExports$1.jsx("div",{style:{minHeight:"181px",display:"flex",flexDirection:"column",justifyContent:"center"},children:a?jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsx(MCTable,{headerRow:["","x []","y []","z []"],contents:rt.matrix.map((In,xl)=>[jsxRuntimeExports$1.jsxs("span",{children:["v",jsxRuntimeExports$1.jsx("sub",{children:xl+1})]},`v${xl}`),In[0],In[1],In[2]])})}):jsxRuntimeExports$1.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[jsxRuntimeExports$1.jsx(MCTable,{headerRow:["","a","b","c"],contents:[["Lengths []",...rt.lengths]]}),jsxRuntimeExports$1.jsx(MCTable,{headerRow:["","","",""],contents:[["Angles []",...rt.angles]]})]})})]})};function cartToFrac(e,o){const a=Su.invertMatrix(o);return console.log("Cell",o),console.log("Inverse Cell",a),e.map(c=>[a[0][0]*c[0]+a[0][1]*c[1]+a[0][2]*c[2],a[1][0]*c[0]+a[1][1]*c[1]+a[1][2]*c[2],a[2][0]*c[0]+a[2][1]*c[1]+a[2][2]*c[2]])}const AtomicSitesInfoBox=({structureInfo:e})=>{const[o,a]=reactExports.useState(!1);console.log("sI",e.aiidaAttributes);const c=e.aiidaAttributes.cell,d=e.aiidaAttributes.sites,g=d.map(nt=>[nt.kind_name,nt.position[0].toFixed(4),nt.position[1].toFixed(4),nt.position[2].toFixed(4)]),b=d.map(nt=>nt.position),_=cartToFrac(b,c),$=d.map((nt,In)=>{const xl=_[In];return[nt.kind_name,xl[0].toFixed(4),xl[1].toFixed(4),xl[2].toFixed(4)]}),j=["Kind label","x []","y []","z []"],rt=["Kind label","x","y","z"];return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsxs("div",{className:"subsection-title flex justify-between items-center",children:[jsxRuntimeExports$1.jsx("span",{style:{flex:1},children:"Atomic positions"}),jsxRuntimeExports$1.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"40px",marginRight:"5px",alignItems:"stretch"}})]}),jsxRuntimeExports$1.jsx(MCTable,{headerRow:o?rt:j,contents:o?$:g,style:{maxHeight:"332px"}})]})},StructureSection=({params:e,loadedData:o})=>{let a=o.details,c=o.structureInfo;const d=o.metadata,g=e.method;return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"section-heading",children:"Structural details"}),jsxRuntimeExports$1.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports$1.jsxs(Row,{children:[jsxRuntimeExports$1.jsxs(Col,{className:"flex-column",children:[jsxRuntimeExports$1.jsxs("div",{style:{marginBottom:"10px"},children:[jsxRuntimeExports$1.jsx("div",{className:"subsection-title",children:"General"}),jsxRuntimeExports$1.jsx(MCInfoBox,{title:"General",children:jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{style:{marginTop:"-5px",marginBottom:"-4px"},children:["Download structure",jsxRuntimeExports$1.jsx(Au,{aiida_rest_url:AIIDA_API_URLS[e.method],uuid:a.general.structure_uuid})]}),jsxRuntimeExports$1.jsxs("li",{style:{marginBottom:"9px"},children:["Explore provenance"," ",jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[e.method],uuid:a.general.structure_uuid})]}),jsxRuntimeExports$1.jsxs("li",{children:["Cell volume:"," ",format_aiida_prop(a.properties.cell_volume,d.info.properties.cell_volume,g,2)]})]})})]}),jsxRuntimeExports$1.jsx(CellInfoBox,{structureInfo:c,spacegroup_symbol:a.general.spacegroup_international})]}),jsxRuntimeExports$1.jsx(Col,{className:"flex-column",children:jsxRuntimeExports$1.jsx(AtomicSitesInfoBox,{structureInfo:c})})]})})]})};function ProvenanceSection(e){let o=e.loadedData.details;return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"section-heading",children:"Provenance links"}),jsxRuntimeExports$1.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports$1.jsx(Row,{children:jsxRuntimeExports$1.jsx("div",{className:"provenance-section",children:jsxRuntimeExports$1.jsxs("div",{className:"provenance-section-inner",children:[jsxRuntimeExports$1.jsx("div",{children:"Relevant nodes in the provenance browser:"}),jsxRuntimeExports$1.jsx("ul",{children:o.provenance_links.map(a=>jsxRuntimeExports$1.jsxs("li",{children:[a.label," ",jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[e.params.method],uuid:a.uuid})]},a.uuid))})]})})})})]})}var plotlyBasic_min={exports:{}};(function(e){(function(o,a){e.exports?e.exports=a():o.moduleName=a()})(typeof self<"u"?self:commonjsGlobal,()=>{var o=(()=>{var a=(yu,hu)=>()=>(hu||yu((hu={exports:{}}).exports,hu),hu.exports),c=a(yu=>{yu.version="3.1.2"}),d=a((yu,hu)=>{(function(jt,it,st){it[jt]=it[jt]||st(),typeof hu<"u"&&hu.exports&&(hu.exports=it[jt])})("Promise",typeof window<"u"?window:yu,function(){var jt,it,st,Ln=Object.prototype.toString,Ft=typeof setImmediate<"u"?function(Rl){return setImmediate(Rl)}:setTimeout;try{Object.defineProperty({},"x",{}),jt=function(Rl,Bn,Cl,Al){return Object.defineProperty(Rl,Bn,{value:Cl,writable:!0,configurable:Al!==!1})}}catch{jt=function(Bn,Cl,Al){return Bn[Cl]=Al,Bn}}st=function(){var Rl,Bn,Cl;function Al(Il,$l){this.fn=Il,this.self=$l,this.next=void 0}return{add:function(Il,$l){Cl=new Al(Il,$l),Bn?Bn.next=Cl:Rl=Cl,Bn=Cl,Cl=void 0},drain:function(){var Il=Rl;for(Rl=Bn=it=void 0;Il;)Il.fn.call(Il.self),Il=Il.next}}}();function Fn(Rl,Bn){st.add(Rl,Bn),it||(it=Ft(st.drain))}function zn(Rl){var Bn,Cl=typeof Rl;return Rl!=null&&(Cl=="object"||Cl=="function")&&(Bn=Rl.then),typeof Bn=="function"?Bn:!1}function yl(){for(var Rl=0;Rl<this.chain.length;Rl++)ot(this,this.state===1?this.chain[Rl].success:this.chain[Rl].failure,this.chain[Rl]);this.chain.length=0}function ot(Rl,Bn,Cl){var Al,Il;try{Bn===!1?Cl.reject(Rl.msg):(Bn===!0?Al=Rl.msg:Al=Bn.call(void 0,Rl.msg),Al===Cl.promise?Cl.reject(TypeError("Promise-chain cycle")):(Il=zn(Al))?Il.call(Al,Cl.resolve,Cl.reject):Cl.resolve(Al))}catch($l){Cl.reject($l)}}function _l(Rl){var Bn,Cl=this;if(!Cl.triggered){Cl.triggered=!0,Cl.def&&(Cl=Cl.def);try{(Bn=zn(Rl))?Fn(function(){var Al=new Pl(Cl);try{Bn.call(Rl,function(){_l.apply(Al,arguments)},function(){ls.apply(Al,arguments)})}catch(Il){ls.call(Al,Il)}}):(Cl.msg=Rl,Cl.state=1,Cl.chain.length>0&&Fn(yl,Cl))}catch(Al){ls.call(new Pl(Cl),Al)}}}function ls(Rl){var Bn=this;Bn.triggered||(Bn.triggered=!0,Bn.def&&(Bn=Bn.def),Bn.msg=Rl,Bn.state=2,Bn.chain.length>0&&Fn(yl,Bn))}function Sl(Rl,Bn,Cl,Al){for(var Il=0;Il<Bn.length;Il++)(function($l){Rl.resolve(Bn[$l]).then(function(Bu){Cl($l,Bu)},Al)})(Il)}function Pl(Rl){this.def=Rl,this.triggered=!1}function Tl(Rl){this.promise=Rl,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function El(Rl){if(typeof Rl!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var Bn=new Tl(this);this.then=function(Cl,Al){var Il={success:typeof Cl=="function"?Cl:!0,failure:typeof Al=="function"?Al:!1};return Il.promise=new this.constructor(function($l,Bu){if(typeof $l!="function"||typeof Bu!="function")throw TypeError("Not a function");Il.resolve=$l,Il.reject=Bu}),Bn.chain.push(Il),Bn.state!==0&&Fn(yl,Bn),Il.promise},this.catch=function(Cl){return this.then(void 0,Cl)};try{Rl.call(void 0,function(Cl){_l.call(Bn,Cl)},function(Cl){ls.call(Bn,Cl)})}catch(Cl){ls.call(Bn,Cl)}}var Ml=jt({},"constructor",El,!1);return El.prototype=Ml,jt(Ml,"__NPO__",0,!1),jt(El,"resolve",function(Rl){var Bn=this;return Rl&&typeof Rl=="object"&&Rl.__NPO__===1?Rl:new Bn(function(Cl,Al){if(typeof Cl!="function"||typeof Al!="function")throw TypeError("Not a function");Cl(Rl)})}),jt(El,"reject",function(Rl){return new this(function(Bn,Cl){if(typeof Bn!="function"||typeof Cl!="function")throw TypeError("Not a function");Cl(Rl)})}),jt(El,"all",function(Rl){var Bn=this;return Ln.call(Rl)!="[object Array]"?Bn.reject(TypeError("Not an array")):Rl.length===0?Bn.resolve([]):new Bn(function(Cl,Al){if(typeof Cl!="function"||typeof Al!="function")throw TypeError("Not a function");var Il=Rl.length,$l=Array(Il),Bu=0;Sl(Bn,Rl,function(Jl,Kl){$l[Jl]=Kl,++Bu===Il&&Cl($l)},Al)})}),jt(El,"race",function(Rl){var Bn=this;return Ln.call(Rl)!="[object Array]"?Bn.reject(TypeError("Not an array")):new Bn(function(Cl,Al){if(typeof Cl!="function"||typeof Al!="function")throw TypeError("Not a function");Sl(Bn,Rl,function(Il,$l){Cl($l)},Al)})}),El})}),g=a((yu,hu)=>{(function(){var jt={version:"3.8.2"},it=[].slice,st=function(Et){return it.call(Et)},Ln=self.document;function Ft(Et){return Et&&(Et.ownerDocument||Et.document||Et).documentElement}function Fn(Et){return Et&&(Et.ownerDocument&&Et.ownerDocument.defaultView||Et.document&&Et||Et.defaultView)}if(Ln)try{st(Ln.documentElement.childNodes)[0].nodeType}catch{st=function(Fl){for(var Gl=Fl.length,Iu=new Array(Gl);Gl--;)Iu[Gl]=Fl[Gl];return Iu}}if(Date.now||(Date.now=function(){return+new Date}),Ln)try{Ln.createElement("DIV").style.setProperty("opacity",0,"")}catch{var zn=this.Element.prototype,yl=zn.setAttribute,ot=zn.setAttributeNS,_l=this.CSSStyleDeclaration.prototype,ls=_l.setProperty;zn.setAttribute=function(Fl,Gl){yl.call(this,Fl,Gl+"")},zn.setAttributeNS=function(Fl,Gl,Iu){ot.call(this,Fl,Gl,Iu+"")},_l.setProperty=function(Fl,Gl,Iu){ls.call(this,Fl,Gl+"",Iu)}}jt.ascending=Sl;function Sl(Et,Fl){return Et<Fl?-1:Et>Fl?1:Et>=Fl?0:NaN}jt.descending=function(Et,Fl){return Fl<Et?-1:Fl>Et?1:Fl>=Et?0:NaN},jt.min=function(Et,Fl){var Gl=-1,Iu=Et.length,Ku,_h;if(arguments.length===1){for(;++Gl<Iu;)if((_h=Et[Gl])!=null&&_h>=_h){Ku=_h;break}for(;++Gl<Iu;)(_h=Et[Gl])!=null&&Ku>_h&&(Ku=_h)}else{for(;++Gl<Iu;)if((_h=Fl.call(Et,Et[Gl],Gl))!=null&&_h>=_h){Ku=_h;break}for(;++Gl<Iu;)(_h=Fl.call(Et,Et[Gl],Gl))!=null&&Ku>_h&&(Ku=_h)}return Ku},jt.max=function(Et,Fl){var Gl=-1,Iu=Et.length,Ku,_h;if(arguments.length===1){for(;++Gl<Iu;)if((_h=Et[Gl])!=null&&_h>=_h){Ku=_h;break}for(;++Gl<Iu;)(_h=Et[Gl])!=null&&_h>Ku&&(Ku=_h)}else{for(;++Gl<Iu;)if((_h=Fl.call(Et,Et[Gl],Gl))!=null&&_h>=_h){Ku=_h;break}for(;++Gl<Iu;)(_h=Fl.call(Et,Et[Gl],Gl))!=null&&_h>Ku&&(Ku=_h)}return Ku},jt.extent=function(Et,Fl){var Gl=-1,Iu=Et.length,Ku,_h,_p;if(arguments.length===1){for(;++Gl<Iu;)if((_h=Et[Gl])!=null&&_h>=_h){Ku=_p=_h;break}for(;++Gl<Iu;)(_h=Et[Gl])!=null&&(Ku>_h&&(Ku=_h),_p<_h&&(_p=_h))}else{for(;++Gl<Iu;)if((_h=Fl.call(Et,Et[Gl],Gl))!=null&&_h>=_h){Ku=_p=_h;break}for(;++Gl<Iu;)(_h=Fl.call(Et,Et[Gl],Gl))!=null&&(Ku>_h&&(Ku=_h),_p<_h&&(_p=_h))}return[Ku,_p]};function Pl(Et){return Et===null?NaN:+Et}function Tl(Et){return!isNaN(Et)}jt.sum=function(Et,Fl){var Gl=0,Iu=Et.length,Ku,_h=-1;if(arguments.length===1)for(;++_h<Iu;)Tl(Ku=+Et[_h])&&(Gl+=Ku);else for(;++_h<Iu;)Tl(Ku=+Fl.call(Et,Et[_h],_h))&&(Gl+=Ku);return Gl},jt.mean=function(Et,Fl){var Gl=0,Iu=Et.length,Ku,_h=-1,_p=Iu;if(arguments.length===1)for(;++_h<Iu;)Tl(Ku=Pl(Et[_h]))?Gl+=Ku:--_p;else for(;++_h<Iu;)Tl(Ku=Pl(Fl.call(Et,Et[_h],_h)))?Gl+=Ku:--_p;if(_p)return Gl/_p},jt.quantile=function(Et,Fl){var Gl=(Et.length-1)*Fl+1,Iu=Math.floor(Gl),Ku=+Et[Iu-1],_h=Gl-Iu;return _h?Ku+_h*(Et[Iu]-Ku):Ku},jt.median=function(Et,Fl){var Gl=[],Iu=Et.length,Ku,_h=-1;if(arguments.length===1)for(;++_h<Iu;)Tl(Ku=Pl(Et[_h]))&&Gl.push(Ku);else for(;++_h<Iu;)Tl(Ku=Pl(Fl.call(Et,Et[_h],_h)))&&Gl.push(Ku);if(Gl.length)return jt.quantile(Gl.sort(Sl),.5)},jt.variance=function(Et,Fl){var Gl=Et.length,Iu=0,Ku,_h,_p=0,xp=-1,Ip=0;if(arguments.length===1)for(;++xp<Gl;)Tl(Ku=Pl(Et[xp]))&&(_h=Ku-Iu,Iu+=_h/++Ip,_p+=_h*(Ku-Iu));else for(;++xp<Gl;)Tl(Ku=Pl(Fl.call(Et,Et[xp],xp)))&&(_h=Ku-Iu,Iu+=_h/++Ip,_p+=_h*(Ku-Iu));if(Ip>1)return _p/(Ip-1)},jt.deviation=function(){var Et=jt.variance.apply(this,arguments);return Et&&Math.sqrt(Et)};function El(Et){return{left:function(Fl,Gl,Iu,Ku){for(arguments.length<3&&(Iu=0),arguments.length<4&&(Ku=Fl.length);Iu<Ku;){var _h=Iu+Ku>>>1;Et(Fl[_h],Gl)<0?Iu=_h+1:Ku=_h}return Iu},right:function(Fl,Gl,Iu,Ku){for(arguments.length<3&&(Iu=0),arguments.length<4&&(Ku=Fl.length);Iu<Ku;){var _h=Iu+Ku>>>1;Et(Fl[_h],Gl)>0?Ku=_h:Iu=_h+1}return Iu}}}var Ml=El(Sl);jt.bisectLeft=Ml.left,jt.bisect=jt.bisectRight=Ml.right,jt.bisector=function(Et){return El(Et.length===1?function(Fl,Gl){return Sl(Et(Fl),Gl)}:Et)},jt.shuffle=function(Et,Fl,Gl){(Iu=arguments.length)<3&&(Gl=Et.length,Iu<2&&(Fl=0));for(var Iu=Gl-Fl,Ku,_h;Iu;)_h=Math.random()*Iu--|0,Ku=Et[Iu+Fl],Et[Iu+Fl]=Et[_h+Fl],Et[_h+Fl]=Ku;return Et},jt.permute=function(Et,Fl){for(var Gl=Fl.length,Iu=new Array(Gl);Gl--;)Iu[Gl]=Et[Fl[Gl]];return Iu},jt.pairs=function(Et){for(var Fl=0,Gl=Et.length-1,Iu,Ku=Et[0],_h=new Array(Gl<0?0:Gl);Fl<Gl;)_h[Fl]=[Iu=Ku,Ku=Et[++Fl]];return _h},jt.transpose=function(Et){if(!(_h=Et.length))return[];for(var Fl=-1,Gl=jt.min(Et,Rl),Iu=new Array(Gl);++Fl<Gl;)for(var Ku=-1,_h,_p=Iu[Fl]=new Array(_h);++Ku<_h;)_p[Ku]=Et[Ku][Fl];return Iu};function Rl(Et){return Et.length}jt.zip=function(){return jt.transpose(arguments)},jt.keys=function(Et){var Fl=[];for(var Gl in Et)Fl.push(Gl);return Fl},jt.values=function(Et){var Fl=[];for(var Gl in Et)Fl.push(Et[Gl]);return Fl},jt.entries=function(Et){var Fl=[];for(var Gl in Et)Fl.push({key:Gl,value:Et[Gl]});return Fl},jt.merge=function(Et){for(var Fl=Et.length,Gl,Iu=-1,Ku=0,_h,_p;++Iu<Fl;)Ku+=Et[Iu].length;for(_h=new Array(Ku);--Fl>=0;)for(_p=Et[Fl],Gl=_p.length;--Gl>=0;)_h[--Ku]=_p[Gl];return _h};var Bn=Math.abs;jt.range=function(Et,Fl,Gl){if(arguments.length<3&&(Gl=1,arguments.length<2&&(Fl=Et,Et=0)),(Fl-Et)/Gl===1/0)throw new Error("infinite range");var Iu=[],Ku=Cl(Bn(Gl)),_h=-1,_p;if(Et*=Ku,Fl*=Ku,Gl*=Ku,Gl<0)for(;(_p=Et+Gl*++_h)>Fl;)Iu.push(_p/Ku);else for(;(_p=Et+Gl*++_h)<Fl;)Iu.push(_p/Ku);return Iu};function Cl(Et){for(var Fl=1;Et*Fl%1;)Fl*=10;return Fl}function Al(Et,Fl){for(var Gl in Fl)Object.defineProperty(Et.prototype,Gl,{value:Fl[Gl],enumerable:!1})}jt.map=function(Et,Fl){var Gl=new Il;if(Et instanceof Il)Et.forEach(function(xp,Ip){Gl.set(xp,Ip)});else if(Array.isArray(Et)){var Iu=-1,Ku=Et.length,_h;if(arguments.length===1)for(;++Iu<Ku;)Gl.set(Iu,Et[Iu]);else for(;++Iu<Ku;)Gl.set(Fl.call(Et,_h=Et[Iu],Iu),_h)}else for(var _p in Et)Gl.set(_p,Et[_p]);return Gl};function Il(){this._=Object.create(null)}var $l="__proto__",Bu="\0";Al(Il,{has:Bl,get:function(Et){return this._[Jl(Et)]},set:function(Et,Fl){return this._[Jl(Et)]=Fl},remove:$u,keys:mu,values:function(){var Et=[];for(var Fl in this._)Et.push(this._[Fl]);return Et},entries:function(){var Et=[];for(var Fl in this._)Et.push({key:Kl(Fl),value:this._[Fl]});return Et},size:Pu,empty:bu,forEach:function(Et){for(var Fl in this._)Et.call(this,Kl(Fl),this._[Fl])}});function Jl(Et){return(Et+="")===$l||Et[0]===Bu?Bu+Et:Et}function Kl(Et){return(Et+="")[0]===Bu?Et.slice(1):Et}function Bl(Et){return Jl(Et)in this._}function $u(Et){return(Et=Jl(Et))in this._&&delete this._[Et]}function mu(){var Et=[];for(var Fl in this._)Et.push(Kl(Fl));return Et}function Pu(){var Et=0;for(var Fl in this._)++Et;return Et}function bu(){for(var Et in this._)return!1;return!0}jt.nest=function(){var Et={},Fl=[],Gl=[],Iu,Ku;function _h(xp,Ip,Kp){if(Kp>=Fl.length)return Ku?Ku.call(Et,Ip):Iu?Ip.sort(Iu):Ip;for(var Zp=-1,_0=Ip.length,T0=Fl[Kp++],em,hm,F0,X0=new Il,Q0;++Zp<_0;)(Q0=X0.get(em=T0(hm=Ip[Zp])))?Q0.push(hm):X0.set(em,[hm]);return xp?(hm=xp(),F0=function(lm,cm){hm.set(lm,_h(xp,cm,Kp))}):(hm={},F0=function(lm,cm){hm[lm]=_h(xp,cm,Kp)}),X0.forEach(F0),hm}function _p(xp,Ip){if(Ip>=Fl.length)return xp;var Kp=[],Zp=Gl[Ip++];return xp.forEach(function(_0,T0){Kp.push({key:_0,values:_p(T0,Ip)})}),Zp?Kp.sort(function(_0,T0){return Zp(_0.key,T0.key)}):Kp}return Et.map=function(xp,Ip){return _h(Ip,xp,0)},Et.entries=function(xp){return _p(_h(jt.map,xp,0),0)},Et.key=function(xp){return Fl.push(xp),Et},Et.sortKeys=function(xp){return Gl[Fl.length-1]=xp,Et},Et.sortValues=function(xp){return Iu=xp,Et},Et.rollup=function(xp){return Ku=xp,Et},Et},jt.set=function(Et){var Fl=new Fu;if(Et)for(var Gl=0,Iu=Et.length;Gl<Iu;++Gl)Fl.add(Et[Gl]);return Fl};function Fu(){this._=Object.create(null)}Al(Fu,{has:Bl,add:function(Et){return this._[Jl(Et+="")]=!0,Et},remove:$u,values:mu,size:Pu,empty:bu,forEach:function(Et){for(var Fl in this._)Et.call(this,Kl(Fl))}}),jt.behavior={};function Hu(Et){return Et}jt.rebind=function(Et,Fl){for(var Gl=1,Iu=arguments.length,Ku;++Gl<Iu;)Et[Ku=arguments[Gl]]=Gu(Et,Fl,Fl[Ku]);return Et};function Gu(Et,Fl,Gl){return function(){var Iu=Gl.apply(Fl,arguments);return Iu===Fl?Et:Iu}}function Xl(Et,Fl){if(Fl in Et)return Fl;Fl=Fl.charAt(0).toUpperCase()+Fl.slice(1);for(var Gl=0,Iu=Wu.length;Gl<Iu;++Gl){var Ku=Wu[Gl]+Fl;if(Ku in Et)return Ku}}var Wu=["webkit","ms","moz","Moz","o","O"];function Yu(){}jt.dispatch=function(){for(var Et=new ap,Fl=-1,Gl=arguments.length;++Fl<Gl;)Et[arguments[Fl]]=rp(Et);return Et};function ap(){}ap.prototype.on=function(Et,Fl){var Gl=Et.indexOf("."),Iu="";if(Gl>=0&&(Iu=Et.slice(Gl+1),Et=Et.slice(0,Gl)),Et)return arguments.length<2?this[Et].on(Iu):this[Et].on(Iu,Fl);if(arguments.length===2){if(Fl==null)for(Et in this)this.hasOwnProperty(Et)&&this[Et].on(Iu,null);return this}};function rp(Et){var Fl=[],Gl=new Il;function Iu(){for(var Ku=Fl,_h=-1,_p=Ku.length,xp;++_h<_p;)(xp=Ku[_h].on)&&xp.apply(this,arguments);return Et}return Iu.on=function(Ku,_h){var _p=Gl.get(Ku),xp;return arguments.length<2?_p&&_p.on:(_p&&(_p.on=null,Fl=Fl.slice(0,xp=Fl.indexOf(_p)).concat(Fl.slice(xp+1)),Gl.remove(Ku)),_h&&Fl.push(Gl.set(Ku,{on:_h})),Et)},Iu}jt.event=null;function sp(){jt.event.preventDefault()}function bp(){for(var Et=jt.event,Fl;Fl=Et.sourceEvent;)Et=Fl;return Et}function Cp(Et){for(var Fl=new ap,Gl=0,Iu=arguments.length;++Gl<Iu;)Fl[arguments[Gl]]=rp(Fl);return Fl.of=function(Ku,_h){return function(_p){try{var xp=_p.sourceEvent=jt.event;_p.target=Et,jt.event=_p,Fl[_p.type].apply(Ku,_h)}finally{jt.event=xp}}},Fl}jt.requote=function(Et){return Et.replace(Ap,"\\$&")};var Ap=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Lu={}.__proto__?function(Et,Fl){Et.__proto__=Fl}:function(Et,Fl){for(var Gl in Fl)Et[Gl]=Fl[Gl]};function Nu(Et){return Lu(Et,vu),Et}var Hl=function(Et,Fl){return Fl.querySelector(Et)},qu=function(Et,Fl){return Fl.querySelectorAll(Et)},np=function(Et,Fl){var Gl=Et.matches||Et[Xl(Et,"matchesSelector")];return np=function(Iu,Ku){return Gl.call(Iu,Ku)},np(Et,Fl)};typeof Sizzle=="function"&&(Hl=function(Et,Fl){return Sizzle(Et,Fl)[0]||null},qu=Sizzle,np=Sizzle.matchesSelector),jt.selection=function(){return jt.select(Ln.documentElement)};var vu=jt.selection.prototype=[];vu.select=function(Et){var Fl=[],Gl,Iu,Ku,_h;Et=Ol(Et);for(var _p=-1,xp=this.length;++_p<xp;){Fl.push(Gl=[]),Gl.parentNode=(Ku=this[_p]).parentNode;for(var Ip=-1,Kp=Ku.length;++Ip<Kp;)(_h=Ku[Ip])?(Gl.push(Iu=Et.call(_h,_h.__data__,Ip,_p)),Iu&&"__data__"in _h&&(Iu.__data__=_h.__data__)):Gl.push(null)}return Nu(Fl)};function Ol(Et){return typeof Et=="function"?Et:function(){return Hl(Et,this)}}vu.selectAll=function(Et){var Fl=[],Gl,Iu;Et=Wl(Et);for(var Ku=-1,_h=this.length;++Ku<_h;)for(var _p=this[Ku],xp=-1,Ip=_p.length;++xp<Ip;)(Iu=_p[xp])&&(Fl.push(Gl=st(Et.call(Iu,Iu.__data__,xp,Ku))),Gl.parentNode=Iu);return Nu(Fl)};function Wl(Et){return typeof Et=="function"?Et:function(){return qu(Et,this)}}var Mu="http://www.w3.org/1999/xhtml",zu={svg:"http://www.w3.org/2000/svg",xhtml:Mu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};jt.ns={prefix:zu,qualify:function(Et){var Fl=Et.indexOf(":"),Gl=Et;return Fl>=0&&(Gl=Et.slice(0,Fl))!=="xmlns"&&(Et=Et.slice(Fl+1)),zu.hasOwnProperty(Gl)?{space:zu[Gl],local:Et}:Et}},vu.attr=function(Et,Fl){if(arguments.length<2){if(typeof Et=="string"){var Gl=this.node();return Et=jt.ns.qualify(Et),Et.local?Gl.getAttributeNS(Et.space,Et.local):Gl.getAttribute(Et)}for(Fl in Et)this.each(ip(Fl,Et[Fl]));return this}return this.each(ip(Et,Fl))};function ip(Et,Fl){Et=jt.ns.qualify(Et);function Gl(){this.removeAttribute(Et)}function Iu(){this.removeAttributeNS(Et.space,Et.local)}function Ku(){this.setAttribute(Et,Fl)}function _h(){this.setAttributeNS(Et.space,Et.local,Fl)}function _p(){var Ip=Fl.apply(this,arguments);Ip==null?this.removeAttribute(Et):this.setAttribute(Et,Ip)}function xp(){var Ip=Fl.apply(this,arguments);Ip==null?this.removeAttributeNS(Et.space,Et.local):this.setAttributeNS(Et.space,Et.local,Ip)}return Fl==null?Et.local?Iu:Gl:typeof Fl=="function"?Et.local?xp:_p:Et.local?_h:Ku}function pp(Et){return Et.trim().replace(/\s+/g," ")}vu.classed=function(Et,Fl){if(arguments.length<2){if(typeof Et=="string"){var Gl=this.node(),Iu=(Et=Pp(Et)).length,Ku=-1;if(Fl=Gl.classList){for(;++Ku<Iu;)if(!Fl.contains(Et[Ku]))return!1}else for(Fl=Gl.getAttribute("class");++Ku<Iu;)if(!vp(Et[Ku]).test(Fl))return!1;return!0}for(Fl in Et)this.each(Gp(Fl,Et[Fl]));return this}return this.each(Gp(Et,Fl))};function vp(Et){return new RegExp("(?:^|\\s+)"+jt.requote(Et)+"(?:\\s+|$)","g")}function Pp(Et){return(Et+"").trim().split(/^|\s+/)}function Gp(Et,Fl){Et=Pp(Et).map(r0);var Gl=Et.length;function Iu(){for(var _h=-1;++_h<Gl;)Et[_h](this,Fl)}function Ku(){for(var _h=-1,_p=Fl.apply(this,arguments);++_h<Gl;)Et[_h](this,_p)}return typeof Fl=="function"?Ku:Iu}function r0(Et){var Fl=vp(Et);return function(Gl,Iu){if(Ku=Gl.classList)return Iu?Ku.add(Et):Ku.remove(Et);var Ku=Gl.getAttribute("class")||"";Iu?(Fl.lastIndex=0,Fl.test(Ku)||Gl.setAttribute("class",pp(Ku+" "+Et))):Gl.setAttribute("class",pp(Ku.replace(Fl," ")))}}vu.style=function(Et,Fl,Gl){var Iu=arguments.length;if(Iu<3){if(typeof Et!="string"){Iu<2&&(Fl="");for(Gl in Et)this.each(C0(Gl,Et[Gl],Fl));return this}if(Iu<2){var Ku=this.node();return Fn(Ku).getComputedStyle(Ku,null).getPropertyValue(Et)}Gl=""}return this.each(C0(Et,Fl,Gl))};function C0(Et,Fl,Gl){function Iu(){this.style.removeProperty(Et)}function Ku(){this.style.setProperty(Et,Fl,Gl)}function _h(){var _p=Fl.apply(this,arguments);_p==null?this.style.removeProperty(Et):this.style.setProperty(Et,_p,Gl)}return Fl==null?Iu:typeof Fl=="function"?_h:Ku}vu.property=function(Et,Fl){if(arguments.length<2){if(typeof Et=="string")return this.node()[Et];for(Fl in Et)this.each(f0(Fl,Et[Fl]));return this}return this.each(f0(Et,Fl))};function f0(Et,Fl){function Gl(){delete this[Et]}function Iu(){this[Et]=Fl}function Ku(){var _h=Fl.apply(this,arguments);_h==null?delete this[Et]:this[Et]=_h}return Fl==null?Gl:typeof Fl=="function"?Ku:Iu}vu.text=function(Et){return arguments.length?this.each(typeof Et=="function"?function(){var Fl=Et.apply(this,arguments);this.textContent=Fl??""}:Et==null?function(){this.textContent=""}:function(){this.textContent=Et}):this.node().textContent},vu.html=function(Et){return arguments.length?this.each(typeof Et=="function"?function(){var Fl=Et.apply(this,arguments);this.innerHTML=Fl??""}:Et==null?function(){this.innerHTML=""}:function(){this.innerHTML=Et}):this.node().innerHTML},vu.append=function(Et){return Et=d0(Et),this.select(function(){return this.appendChild(Et.apply(this,arguments))})};function d0(Et){function Fl(){var Iu=this.ownerDocument,Ku=this.namespaceURI;return Ku===Mu&&Iu.documentElement.namespaceURI===Mu?Iu.createElement(Et):Iu.createElementNS(Ku,Et)}function Gl(){return this.ownerDocument.createElementNS(Et.space,Et.local)}return typeof Et=="function"?Et:(Et=jt.ns.qualify(Et)).local?Gl:Fl}vu.insert=function(Et,Fl){return Et=d0(Et),Fl=Ol(Fl),this.select(function(){return this.insertBefore(Et.apply(this,arguments),Fl.apply(this,arguments)||null)})},vu.remove=function(){return this.each(Sp)};function Sp(){var Et=this.parentNode;Et&&Et.removeChild(this)}vu.data=function(Et,Fl){var Gl=-1,Iu=this.length,Ku,_h;if(!arguments.length){for(Et=new Array(Iu=(Ku=this[0]).length);++Gl<Iu;)(_h=Ku[Gl])&&(Et[Gl]=_h.__data__);return Et}function _p(Zp,_0){var T0,em=Zp.length,hm=_0.length,F0=Math.min(em,hm),X0=new Array(hm),Q0=new Array(hm),lm=new Array(em),cm,_g;if(Fl){var qm=new Il,b1=new Array(em),_1;for(T0=-1;++T0<em;)(cm=Zp[T0])&&(qm.has(_1=Fl.call(cm,cm.__data__,T0))?lm[T0]=cm:qm.set(_1,cm),b1[T0]=_1);for(T0=-1;++T0<hm;)(cm=qm.get(_1=Fl.call(_0,_g=_0[T0],T0)))?cm!==!0&&(X0[T0]=cm,cm.__data__=_g):Q0[T0]=Fp(_g),qm.set(_1,!0);for(T0=-1;++T0<em;)T0 in b1&&qm.get(b1[T0])!==!0&&(lm[T0]=Zp[T0])}else{for(T0=-1;++T0<F0;)cm=Zp[T0],_g=_0[T0],cm?(cm.__data__=_g,X0[T0]=cm):Q0[T0]=Fp(_g);for(;T0<hm;++T0)Q0[T0]=Fp(_0[T0]);for(;T0<em;++T0)lm[T0]=Zp[T0]}Q0.update=X0,Q0.parentNode=X0.parentNode=lm.parentNode=Zp.parentNode,xp.push(Q0),Ip.push(X0),Kp.push(lm)}var xp=y0([]),Ip=Nu([]),Kp=Nu([]);if(typeof Et=="function")for(;++Gl<Iu;)_p(Ku=this[Gl],Et.call(Ku,Ku.parentNode.__data__,Gl));else for(;++Gl<Iu;)_p(Ku=this[Gl],Et);return Ip.enter=function(){return xp},Ip.exit=function(){return Kp},Ip};function Fp(Et){return{__data__:Et}}vu.datum=function(Et){return arguments.length?this.property("__data__",Et):this.property("__data__")},vu.filter=function(Et){var Fl=[],Gl,Iu,Ku;typeof Et!="function"&&(Et=cp(Et));for(var _h=0,_p=this.length;_h<_p;_h++){Fl.push(Gl=[]),Gl.parentNode=(Iu=this[_h]).parentNode;for(var xp=0,Ip=Iu.length;xp<Ip;xp++)(Ku=Iu[xp])&&Et.call(Ku,Ku.__data__,xp,_h)&&Gl.push(Ku)}return Nu(Fl)};function cp(Et){return function(){return np(this,Et)}}vu.order=function(){for(var Et=-1,Fl=this.length;++Et<Fl;)for(var Gl=this[Et],Iu=Gl.length-1,Ku=Gl[Iu],_h;--Iu>=0;)(_h=Gl[Iu])&&(Ku&&Ku!==_h.nextSibling&&Ku.parentNode.insertBefore(_h,Ku),Ku=_h);return this},vu.sort=function(Et){Et=jp.apply(this,arguments);for(var Fl=-1,Gl=this.length;++Fl<Gl;)this[Fl].sort(Et);return this.order()};function jp(Et){return arguments.length||(Et=Sl),function(Fl,Gl){return Fl&&Gl?Et(Fl.__data__,Gl.__data__):!Fl-!Gl}}vu.each=function(Et){return a0(this,function(Fl,Gl,Iu){Et.call(Fl,Fl.__data__,Gl,Iu)})};function a0(Et,Fl){for(var Gl=0,Iu=Et.length;Gl<Iu;Gl++)for(var Ku=Et[Gl],_h=0,_p=Ku.length,xp;_h<_p;_h++)(xp=Ku[_h])&&Fl(xp,_h,Gl);return Et}vu.call=function(Et){var Fl=st(arguments);return Et.apply(Fl[0]=this,Fl),this},vu.empty=function(){return!this.node()},vu.node=function(){for(var Et=0,Fl=this.length;Et<Fl;Et++)for(var Gl=this[Et],Iu=0,Ku=Gl.length;Iu<Ku;Iu++){var _h=Gl[Iu];if(_h)return _h}return null},vu.size=function(){var Et=0;return a0(this,function(){++Et}),Et};function y0(Et){return Lu(Et,P0),Et}var P0=[];jt.selection.enter=y0,jt.selection.enter.prototype=P0,P0.append=vu.append,P0.empty=vu.empty,P0.node=vu.node,P0.call=vu.call,P0.size=vu.size,P0.select=function(Et){for(var Fl=[],Gl,Iu,Ku,_h,_p,xp=-1,Ip=this.length;++xp<Ip;){Ku=(_h=this[xp]).update,Fl.push(Gl=[]),Gl.parentNode=_h.parentNode;for(var Kp=-1,Zp=_h.length;++Kp<Zp;)(_p=_h[Kp])?(Gl.push(Ku[Kp]=Iu=Et.call(_h.parentNode,_p.__data__,Kp,xp)),Iu.__data__=_p.__data__):Gl.push(null)}return Nu(Fl)},P0.insert=function(Et,Fl){return arguments.length<2&&(Fl=E0(this)),vu.insert.call(this,Et,Fl)};function E0(Et){var Fl,Gl;return function(Iu,Ku,_h){var _p=Et[_h].update,xp=_p.length,Ip;for(_h!=Gl&&(Gl=_h,Fl=0),Ku>=Fl&&(Fl=Ku+1);!(Ip=_p[Fl])&&++Fl<xp;);return Ip}}jt.select=function(Et){var Fl;return typeof Et=="string"?(Fl=[Hl(Et,Ln)],Fl.parentNode=Ln.documentElement):(Fl=[Et],Fl.parentNode=Ft(Et)),Nu([Fl])},jt.selectAll=function(Et){var Fl;return typeof Et=="string"?(Fl=st(qu(Et,Ln)),Fl.parentNode=Ln.documentElement):(Fl=st(Et),Fl.parentNode=null),Nu([Fl])},vu.on=function(Et,Fl,Gl){var Iu=arguments.length;if(Iu<3){if(typeof Et!="string"){Iu<2&&(Fl=!1);for(Gl in Et)this.each(O0(Gl,Et[Gl],Fl));return this}if(Iu<2)return(Iu=this.node()["__on"+Et])&&Iu._;Gl=!1}return this.each(O0(Et,Fl,Gl))};function O0(Et,Fl,Gl){var Iu="__on"+Et,Ku=Et.indexOf("."),_h=$0;Ku>0&&(Et=Et.slice(0,Ku));var _p=j0.get(Et);_p&&(Et=_p,_h=tm);function xp(){var Zp=this[Iu];Zp&&(this.removeEventListener(Et,Zp,Zp.$),delete this[Iu])}function Ip(){var Zp=_h(Fl,st(arguments));xp.call(this),this.addEventListener(Et,this[Iu]=Zp,Zp.$=Gl),Zp._=Fl}function Kp(){var Zp=new RegExp("^__on([^.]+)"+jt.requote(Et)+"$"),_0;for(var T0 in this)if(_0=T0.match(Zp)){var em=this[T0];this.removeEventListener(_0[1],em,em.$),delete this[T0]}}return Ku?Fl?Ip:xp:Fl?Yu:Kp}var j0=jt.map({mouseenter:"mouseover",mouseleave:"mouseout"});Ln&&j0.forEach(function(Et){"on"+Et in Ln&&j0.remove(Et)});function $0(Et,Fl){return function(Gl){var Iu=jt.event;jt.event=Gl,Fl[0]=this.__data__;try{Et.apply(this,Fl)}finally{jt.event=Iu}}}function tm(Et,Fl){var Gl=$0(Et,Fl);return function(Iu){var Ku=this,_h=Iu.relatedTarget;(!_h||_h!==Ku&&!(_h.compareDocumentPosition(Ku)&8))&&Gl.call(Ku,Iu)}}var A0,sm=0;function pm(Et){var Fl=".dragsuppress-"+ ++sm,Gl="click"+Fl,Iu=jt.select(Fn(Et)).on("touchmove"+Fl,sp).on("dragstart"+Fl,sp).on("selectstart"+Fl,sp);if(A0==null&&(A0="onselectstart"in Et?!1:Xl(Et.style,"userSelect")),A0){var Ku=Ft(Et).style,_h=Ku[A0];Ku[A0]="none"}return function(_p){if(Iu.on(Fl,null),A0&&(Ku[A0]=_h),_p){var xp=function(){Iu.on(Gl,null)};Iu.on(Gl,function(){sp(),xp()},!0),setTimeout(xp,0)}}}jt.mouse=function(Et){return vm(Et,bp())};var nm=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function vm(Et,Fl){Fl.changedTouches&&(Fl=Fl.changedTouches[0]);var Gl=Et.ownerSVGElement||Et;if(Gl.createSVGPoint){var Iu=Gl.createSVGPoint();if(nm<0){var Ku=Fn(Et);if(Ku.scrollX||Ku.scrollY){Gl=jt.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var _h=Gl[0][0].getScreenCTM();nm=!(_h.f||_h.e),Gl.remove()}}return nm?(Iu.x=Fl.pageX,Iu.y=Fl.pageY):(Iu.x=Fl.clientX,Iu.y=Fl.clientY),Iu=Iu.matrixTransform(Et.getScreenCTM().inverse()),[Iu.x,Iu.y]}var _p=Et.getBoundingClientRect();return[Fl.clientX-_p.left-Et.clientLeft,Fl.clientY-_p.top-Et.clientTop]}jt.touch=function(Et,Fl,Gl){if(arguments.length<3&&(Gl=Fl,Fl=bp().changedTouches),Fl){for(var Iu=0,Ku=Fl.length,_h;Iu<Ku;++Iu)if((_h=Fl[Iu]).identifier===Gl)return vm(Et,_h)}},jt.behavior.drag=function(){var Et=Cp(Ku,"drag","dragstart","dragend"),Fl=null,Gl=_h(Yu,jt.mouse,Fn,"mousemove","mouseup"),Iu=_h(kp,jt.touch,Hu,"touchmove","touchend");function Ku(){this.on("mousedown.drag",Gl).on("touchstart.drag",Iu)}function _h(_p,xp,Ip,Kp,Zp){return function(){var _0=this,T0=jt.event.target.correspondingElement||jt.event.target,em=_0.parentNode,hm=Et.of(_0,arguments),F0=0,X0=_p(),Q0=".drag"+(X0==null?"":"-"+X0),lm,cm=jt.select(Ip(T0)).on(Kp+Q0,b1).on(Zp+Q0,_1),_g=pm(T0),qm=xp(em,X0);Fl?(lm=Fl.apply(_0,arguments),lm=[lm.x-qm[0],lm.y-qm[1]]):lm=[0,0],hm({type:"dragstart"});function b1(){var C1=xp(em,X0),I1,O1;C1&&(I1=C1[0]-qm[0],O1=C1[1]-qm[1],F0|=I1|O1,qm=C1,hm({type:"drag",x:C1[0]+lm[0],y:C1[1]+lm[1],dx:I1,dy:O1}))}function _1(){xp(em,X0)&&(cm.on(Kp+Q0,null).on(Zp+Q0,null),_g(F0),hm({type:"dragend"}))}}}return Ku.origin=function(_p){return arguments.length?(Fl=_p,Ku):Fl},jt.rebind(Ku,Et,"on")};function kp(){return jt.event.changedTouches[0].identifier}jt.touches=function(Et,Fl){return arguments.length<2&&(Fl=bp().touches),Fl?st(Fl).map(function(Gl){var Iu=vm(Et,Gl);return Iu.identifier=Gl.identifier,Iu}):[]};var qp=1e-6,Xu=qp*qp,hp=Math.PI,yp=2*hp,Dp=yp-qp,Bp=hp/2,Jp=hp/180,n0=180/hp;function b0(Et,Fl,Gl){return(Fl[0]-Et[0])*(Gl[1]-Et[1])-(Fl[1]-Et[1])*(Gl[0]-Et[0])}function v0(Et){return Et>1?Bp:Et<-1?-Bp:Math.asin(Et)}function x0(Et){return((Et=Math.exp(Et))-1/Et)/2}function U0(Et){return((Et=Math.exp(Et))+1/Et)/2}function W0(Et){return((Et=Math.exp(2*Et))-1)/(Et+1)}var Y0=Math.SQRT2,gm=2,Dm=4;jt.interpolateZoom=function(Et,Fl){var Gl=Et[0],Iu=Et[1],Ku=Et[2],_h=Fl[0],_p=Fl[1],xp=Fl[2],Ip=_h-Gl,Kp=_p-Iu,Zp=Ip*Ip+Kp*Kp,_0,T0;if(Zp<Xu)T0=Math.log(xp/Ku)/Y0,_0=function(lm){return[Gl+lm*Ip,Iu+lm*Kp,Ku*Math.exp(Y0*lm*T0)]};else{var em=Math.sqrt(Zp),hm=(xp*xp-Ku*Ku+Dm*Zp)/(2*Ku*gm*em),F0=(xp*xp-Ku*Ku-Dm*Zp)/(2*xp*gm*em),X0=Math.log(Math.sqrt(hm*hm+1)-hm),Q0=Math.log(Math.sqrt(F0*F0+1)-F0);T0=(Q0-X0)/Y0,_0=function(lm){var cm=lm*T0,_g=U0(X0),qm=Ku/(gm*em)*(_g*W0(Y0*cm+X0)-x0(X0));return[Gl+qm*Ip,Iu+qm*Kp,Ku*_g/U0(Y0*cm+X0)]}}return _0.duration=T0*1e3,_0},jt.behavior.zoom=function(){var Et={x:0,y:0,k:1},Fl,Gl,Iu,Ku=[960,500],_h=Jm,_p=250,xp=0,Ip="mousedown.zoom",Kp="mousemove.zoom",Zp="mouseup.zoom",_0,T0="touchstart.zoom",em,hm=Cp(cm,"zoomstart","zoom","zoomend"),F0,X0,Q0,lm;h1||(h1="onwheel"in Ln?(a1=function(){return-jt.event.deltaY*(jt.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Ln?(a1=function(){return jt.event.wheelDelta},"mousewheel"):(a1=function(){return-jt.event.detail},"MozMousePixelScroll"));function cm(v1){v1.on(Ip,uv).on(h1+".zoom",Xy).on("dblclick.zoom",cy).on(T0,Yv)}cm.event=function(v1){v1.each(function(){var yv=hm.of(this,arguments),Ev=Et;a3?jt.select(this).transition().each("start.zoom",function(){Et=this.__chart__||{x:0,y:0,k:1},O1(yv)}).tween("zoom:zoom",function(){var Kv=Ku[0],By=Ku[1],i2=Gl?Gl[0]:Kv/2,p2=Gl?Gl[1]:By/2,_2=jt.interpolateZoom([(i2-Et.x)/Et.k,(p2-Et.y)/Et.k,Kv/Et.k],[(i2-Ev.x)/Ev.k,(p2-Ev.y)/Ev.k,Kv/Ev.k]);return function(T2){var k2=_2(T2),F2=Kv/k2[2];this.__chart__=Et={x:i2-k2[0]*F2,y:p2-k2[1]*F2,k:F2},vv(yv)}}).each("interrupt.zoom",function(){H1(yv)}).each("end.zoom",function(){H1(yv)}):(this.__chart__=Et,O1(yv),vv(yv),H1(yv))})},cm.translate=function(v1){return arguments.length?(Et={x:+v1[0],y:+v1[1],k:Et.k},I1(),cm):[Et.x,Et.y]},cm.scale=function(v1){return arguments.length?(Et={x:Et.x,y:Et.y,k:null},b1(+v1),I1(),cm):Et.k},cm.scaleExtent=function(v1){return arguments.length?(_h=v1==null?Jm:[+v1[0],+v1[1]],cm):_h},cm.center=function(v1){return arguments.length?(Iu=v1&&[+v1[0],+v1[1]],cm):Iu},cm.size=function(v1){return arguments.length?(Ku=v1&&[+v1[0],+v1[1]],cm):Ku},cm.duration=function(v1){return arguments.length?(_p=+v1,cm):_p},cm.x=function(v1){return arguments.length?(X0=v1,F0=v1.copy(),Et={x:0,y:0,k:1},cm):X0},cm.y=function(v1){return arguments.length?(lm=v1,Q0=v1.copy(),Et={x:0,y:0,k:1},cm):lm};function _g(v1){return[(v1[0]-Et.x)/Et.k,(v1[1]-Et.y)/Et.k]}function qm(v1){return[v1[0]*Et.k+Et.x,v1[1]*Et.k+Et.y]}function b1(v1){Et.k=Math.max(_h[0],Math.min(_h[1],v1))}function _1(v1,yv){yv=qm(yv),Et.x+=v1[0]-yv[0],Et.y+=v1[1]-yv[1]}function C1(v1,yv,Ev,Kv){v1.__chart__={x:Et.x,y:Et.y,k:Et.k},b1(Math.pow(2,Kv)),_1(Gl=yv,Ev),v1=jt.select(v1),_p>0&&(v1=v1.transition().duration(_p)),v1.call(cm.event)}function I1(){X0&&X0.domain(F0.range().map(function(v1){return(v1-Et.x)/Et.k}).map(F0.invert)),lm&&lm.domain(Q0.range().map(function(v1){return(v1-Et.y)/Et.k}).map(Q0.invert))}function O1(v1){xp++||v1({type:"zoomstart"})}function vv(v1){I1(),v1({type:"zoom",scale:Et.k,translate:[Et.x,Et.y]})}function H1(v1){--xp||(v1({type:"zoomend"}),Gl=null)}function uv(){var v1=this,yv=hm.of(v1,arguments),Ev=0,Kv=jt.select(Fn(v1)).on(Kp,p2).on(Zp,_2),By=_g(jt.mouse(v1)),i2=pm(v1);$3.call(v1),O1(yv);function p2(){Ev=1,_1(jt.mouse(v1),By),vv(yv)}function _2(){Kv.on(Kp,null).on(Zp,null),i2(Ev),H1(yv)}}function Yv(){var v1=this,yv=hm.of(v1,arguments),Ev={},Kv=0,By,i2=".zoom-"+jt.event.changedTouches[0].identifier,p2="touchmove"+i2,_2="touchend"+i2,T2=[],k2=jt.select(v1),F2=pm(v1);P2(),O1(yv),k2.on(Ip,null).on(T0,P2);function x2(){var U2=jt.touches(v1);return By=Et.k,U2.forEach(function(f2){f2.identifier in Ev&&(Ev[f2.identifier]=_g(f2))}),U2}function P2(){var U2=jt.event.target;jt.select(U2).on(p2,s3).on(_2,cS),T2.push(U2);for(var f2=jt.event.changedTouches,H2=0,Z2=f2.length;H2<Z2;++H2)Ev[f2[H2].identifier]=null;var G2=x2(),g3=Date.now();if(G2.length===1){if(g3-em<500){var l3=G2[0];C1(v1,l3,Ev[l3.identifier],Math.floor(Math.log(Et.k)/Math.LN2)+1),sp()}em=g3}else if(G2.length>1){var l3=G2[0],n3=G2[1],j3=l3[0]-n3[0],iC=l3[1]-n3[1];Kv=j3*j3+iC*iC}}function s3(){var U2=jt.touches(v1),f2,H2,Z2,G2;$3.call(v1);for(var g3=0,l3=U2.length;g3<l3;++g3,G2=null)if(Z2=U2[g3],G2=Ev[Z2.identifier]){if(H2)break;f2=Z2,H2=G2}if(G2){var n3=(n3=Z2[0]-f2[0])*n3+(n3=Z2[1]-f2[1])*n3,j3=Kv&&Math.sqrt(n3/Kv);f2=[(f2[0]+Z2[0])/2,(f2[1]+Z2[1])/2],H2=[(H2[0]+G2[0])/2,(H2[1]+G2[1])/2],b1(j3*By)}em=null,_1(f2,H2),vv(yv)}function cS(){if(jt.event.touches.length){for(var U2=jt.event.changedTouches,f2=0,H2=U2.length;f2<H2;++f2)delete Ev[U2[f2].identifier];for(var Z2 in Ev)return void x2()}jt.selectAll(T2).on(i2,null),k2.on(Ip,uv).on(T0,Yv),F2(),H1(yv)}}function Xy(){var v1=hm.of(this,arguments);_0?clearTimeout(_0):($3.call(this),Fl=_g(Gl=Iu||jt.mouse(this)),O1(v1)),_0=setTimeout(function(){_0=null,H1(v1)},50),sp(),b1(Math.pow(2,a1()*.002)*Et.k),_1(Gl,Fl),vv(v1)}function cy(){var v1=jt.mouse(this),yv=Math.log(Et.k)/Math.LN2;C1(this,v1,_g(v1),jt.event.shiftKey?Math.ceil(yv)-1:Math.floor(yv)+1)}return jt.rebind(cm,hm,"on")};var Jm=[0,1/0],a1,h1;jt.color=zm;function zm(){}zm.prototype.toString=function(){return this.rgb()+""},jt.hsl=xm;function xm(Et,Fl,Gl){return this instanceof xm?(this.h=+Et,this.s=+Fl,void(this.l=+Gl)):arguments.length<2?Et instanceof xm?new xm(Et.h,Et.s,Et.l):_f(""+Et,u0,xm):new xm(Et,Fl,Gl)}var Qm=xm.prototype=new zm;Qm.brighter=function(Et){return Et=Math.pow(.7,arguments.length?Et:1),new xm(this.h,this.s,this.l/Et)},Qm.darker=function(Et){return Et=Math.pow(.7,arguments.length?Et:1),new xm(this.h,this.s,Et*this.l)},Qm.rgb=function(){return l1(this.h,this.s,this.l)};function l1(Et,Fl,Gl){var Iu,Ku;Et=isNaN(Et)?0:(Et%=360)<0?Et+360:Et,Fl=isNaN(Fl)||Fl<0?0:Fl>1?1:Fl,Gl=Gl<0?0:Gl>1?1:Gl,Ku=Gl<=.5?Gl*(1+Fl):Gl+Fl-Gl*Fl,Iu=2*Gl-Ku;function _h(xp){return xp>360?xp-=360:xp<0&&(xp+=360),xp<60?Iu+(Ku-Iu)*xp/60:xp<180?Ku:xp<240?Iu+(Ku-Iu)*(240-xp)/60:Iu}function _p(xp){return Math.round(_h(xp)*255)}return new Hm(_p(Et+120),_p(Et),_p(Et-120))}jt.hcl=Xm;function Xm(Et,Fl,Gl){return this instanceof Xm?(this.h=+Et,this.c=+Fl,void(this.l=+Gl)):arguments.length<2?Et instanceof Xm?new Xm(Et.h,Et.c,Et.l):Et instanceof Om?dv(Et.l,Et.a,Et.b):dv((Et=Vp((Et=jt.rgb(Et)).r,Et.g,Et.b)).l,Et.a,Et.b):new Xm(Et,Fl,Gl)}var jm=Xm.prototype=new zm;jm.brighter=function(Et){return new Xm(this.h,this.c,Math.min(100,this.l+A1*(arguments.length?Et:1)))},jm.darker=function(Et){return new Xm(this.h,this.c,Math.max(0,this.l-A1*(arguments.length?Et:1)))},jm.rgb=function(){return Wm(this.h,this.c,this.l).rgb()};function Wm(Et,Fl,Gl){return isNaN(Et)&&(Et=0),isNaN(Fl)&&(Fl=0),new Om(Gl,Math.cos(Et*=Jp)*Fl,Math.sin(Et)*Fl)}jt.lab=Om;function Om(Et,Fl,Gl){return this instanceof Om?(this.l=+Et,this.a=+Fl,void(this.b=+Gl)):arguments.length<2?Et instanceof Om?new Om(Et.l,Et.a,Et.b):Et instanceof Xm?Wm(Et.h,Et.c,Et.l):Vp((Et=Hm(Et)).r,Et.g,Et.b):new Om(Et,Fl,Gl)}var A1=18,B1=.95047,o1=1,$1=1.08883,X1=Om.prototype=new zm;X1.brighter=function(Et){return new Om(Math.min(100,this.l+A1*(arguments.length?Et:1)),this.a,this.b)},X1.darker=function(Et){return new Om(Math.max(0,this.l-A1*(arguments.length?Et:1)),this.a,this.b)},X1.rgb=function(){return cv(this.l,this.a,this.b)};function cv(Et,Fl,Gl){var Iu=(Et+16)/116,Ku=Iu+Fl/500,_h=Iu-Gl/200;return Ku=L1(Ku)*B1,Iu=L1(Iu)*o1,_h=L1(_h)*$1,new Hm(W1(3.2404542*Ku-1.5371385*Iu-.4985314*_h),W1(-.969266*Ku+1.8760108*Iu+.041556*_h),W1(.0556434*Ku-.2040259*Iu+1.0572252*_h))}function dv(Et,Fl,Gl){return Et>0?new Xm(Math.atan2(Gl,Fl)*n0,Math.sqrt(Fl*Fl+Gl*Gl),Et):new Xm(NaN,NaN,Et)}function L1(Et){return Et>.206893034?Et*Et*Et:(Et-4/29)/7.787037}function iv(Et){return Et>.008856?Math.pow(Et,1/3):7.787037*Et+4/29}function W1(Et){return Math.round(255*(Et<=.00304?12.92*Et:1.055*Math.pow(Et,1/2.4)-.055))}jt.rgb=Hm;function Hm(Et,Fl,Gl){return this instanceof Hm?(this.r=~~Et,this.g=~~Fl,void(this.b=~~Gl)):arguments.length<2?Et instanceof Hm?new Hm(Et.r,Et.g,Et.b):_f(""+Et,Hm,l1):new Hm(Et,Fl,Gl)}function Tv(Et){return new Hm(Et>>16,Et>>8&255,Et&255)}function ep(Et){return Tv(Et)+""}var Qu=Hm.prototype=new zm;Qu.brighter=function(Et){Et=Math.pow(.7,arguments.length?Et:1);var Fl=this.r,Gl=this.g,Iu=this.b,Ku=30;return!Fl&&!Gl&&!Iu?new Hm(Ku,Ku,Ku):(Fl&&Fl<Ku&&(Fl=Ku),Gl&&Gl<Ku&&(Gl=Ku),Iu&&Iu<Ku&&(Iu=Ku),new Hm(Math.min(255,Fl/Et),Math.min(255,Gl/Et),Math.min(255,Iu/Et)))},Qu.darker=function(Et){return Et=Math.pow(.7,arguments.length?Et:1),new Hm(Et*this.r,Et*this.g,Et*this.b)},Qu.hsl=function(){return u0(this.r,this.g,this.b)},Qu.toString=function(){return"#"+Up(this.r)+Up(this.g)+Up(this.b)};function Up(Et){return Et<16?"0"+Math.max(0,Et).toString(16):Math.min(255,Et).toString(16)}function _f(Et,Fl,Gl){var Iu=0,Ku=0,_h=0,_p,xp,Ip;if(_p=/([a-z]+)\((.*)\)/.exec(Et=Et.toLowerCase()),_p)switch(xp=_p[2].split(","),_p[1]){case"hsl":return Gl(parseFloat(xp[0]),parseFloat(xp[1])/100,parseFloat(xp[2])/100);case"rgb":return Fl(p0(xp[0]),p0(xp[1]),p0(xp[2]))}return(Ip=o0.get(Et))?Fl(Ip.r,Ip.g,Ip.b):(Et!=null&&Et.charAt(0)==="#"&&!isNaN(Ip=parseInt(Et.slice(1),16))&&(Et.length===4?(Iu=(Ip&3840)>>4,Iu=Iu>>4|Iu,Ku=Ip&240,Ku=Ku>>4|Ku,_h=Ip&15,_h=_h<<4|_h):Et.length===7&&(Iu=(Ip&16711680)>>16,Ku=(Ip&65280)>>8,_h=Ip&255)),Fl(Iu,Ku,_h))}function u0(Et,Fl,Gl){var Iu=Math.min(Et/=255,Fl/=255,Gl/=255),Ku=Math.max(Et,Fl,Gl),_h=Ku-Iu,_p,xp,Ip=(Ku+Iu)/2;return _h?(xp=Ip<.5?_h/(Ku+Iu):_h/(2-Ku-Iu),Et==Ku?_p=(Fl-Gl)/_h+(Fl<Gl?6:0):Fl==Ku?_p=(Gl-Et)/_h+2:_p=(Et-Fl)/_h+4,_p*=60):(_p=NaN,xp=Ip>0&&Ip<1?0:_p),new xm(_p,xp,Ip)}function Vp(Et,Fl,Gl){Et=Yp(Et),Fl=Yp(Fl),Gl=Yp(Gl);var Iu=iv((.4124564*Et+.3575761*Fl+.1804375*Gl)/B1),Ku=iv((.2126729*Et+.7151522*Fl+.072175*Gl)/o1),_h=iv((.0193339*Et+.119192*Fl+.9503041*Gl)/$1);return Om(116*Ku-16,500*(Iu-Ku),200*(Ku-_h))}function Yp(Et){return(Et/=255)<=.04045?Et/12.92:Math.pow((Et+.055)/1.055,2.4)}function p0(Et){var Fl=parseFloat(Et);return Et.charAt(Et.length-1)==="%"?Math.round(Fl*2.55):Fl}var o0=jt.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});o0.forEach(function(Et,Fl){o0.set(Et,Tv(Fl))});function M0(Et){return typeof Et=="function"?Et:function(){return Et}}jt.functor=M0,jt.xhr=L0(Hu);function L0(Et){return function(Fl,Gl,Iu){return arguments.length===2&&typeof Gl=="function"&&(Iu=Gl,Gl=null),rm(Fl,Gl,Et,Iu)}}function rm(Et,Fl,Gl,Iu){var Ku={},_h=jt.dispatch("beforesend","progress","load","error"),_p={},xp=new XMLHttpRequest,Ip=null;self.XDomainRequest&&!("withCredentials"in xp)&&/^(http(s)?:)?\/\//.test(Et)&&(xp=new XDomainRequest),"onload"in xp?xp.onload=xp.onerror=Kp:xp.onreadystatechange=function(){xp.readyState>3&&Kp()};function Kp(){var Zp=xp.status,_0;if(!Zp&&Mm(xp)||Zp>=200&&Zp<300||Zp===304){try{_0=Gl.call(Ku,xp)}catch(T0){_h.error.call(Ku,T0);return}_h.load.call(Ku,_0)}else _h.error.call(Ku,xp)}return xp.onprogress=function(Zp){var _0=jt.event;jt.event=Zp;try{_h.progress.call(Ku,xp)}finally{jt.event=_0}},Ku.header=function(Zp,_0){return Zp=(Zp+"").toLowerCase(),arguments.length<2?_p[Zp]:(_0==null?delete _p[Zp]:_p[Zp]=_0+"",Ku)},Ku.mimeType=function(Zp){return arguments.length?(Fl=Zp==null?null:Zp+"",Ku):Fl},Ku.responseType=function(Zp){return arguments.length?(Ip=Zp,Ku):Ip},Ku.response=function(Zp){return Gl=Zp,Ku},["get","post"].forEach(function(Zp){Ku[Zp]=function(){return Ku.send.apply(Ku,[Zp].concat(st(arguments)))}}),Ku.send=function(Zp,_0,T0){if(arguments.length===2&&typeof _0=="function"&&(T0=_0,_0=null),xp.open(Zp,Et,!0),Fl!=null&&!("accept"in _p)&&(_p.accept=Fl+",*/*"),xp.setRequestHeader)for(var em in _p)xp.setRequestHeader(em,_p[em]);return Fl!=null&&xp.overrideMimeType&&xp.overrideMimeType(Fl),Ip!=null&&(xp.responseType=Ip),T0!=null&&Ku.on("error",T0).on("load",function(hm){T0(null,hm)}),_h.beforesend.call(Ku,xp),xp.send(_0??null),Ku},Ku.abort=function(){return xp.abort(),Ku},jt.rebind(Ku,_h,"on"),Iu==null?Ku:Ku.get(Tm(Iu))}function Tm(Et){return Et.length===1?function(Fl,Gl){Et(Fl==null?Gl:null)}:Et}function Mm(Et){var Fl=Et.responseType;return Fl&&Fl!=="text"?Et.response:Et.responseText}jt.dsv=function(Et,Fl){var Gl=new RegExp('["'+Et+`
]`),Iu=Et.charCodeAt(0);function Ku(Kp,Zp,_0){arguments.length<3&&(_0=Zp,Zp=null);var T0=rm(Kp,Fl,Zp==null?_h:_p(Zp),_0);return T0.row=function(em){return arguments.length?T0.response((Zp=em)==null?_h:_p(em)):Zp},T0}function _h(Kp){return Ku.parse(Kp.responseText)}function _p(Kp){return function(Zp){return Ku.parse(Zp.responseText,Kp)}}Ku.parse=function(Kp,Zp){var _0;return Ku.parseRows(Kp,function(T0,em){if(_0)return _0(T0,em-1);var hm=function(F0){for(var X0={},Q0=T0.length,lm=0;lm<Q0;++lm)X0[T0[lm]]=F0[lm];return X0};_0=Zp?function(F0,X0){return Zp(hm(F0),X0)}:hm})},Ku.parseRows=function(Kp,Zp){var _0={},T0={},em=[],hm=Kp.length,F0=0,X0=0,Q0,lm;function cm(){if(F0>=hm)return T0;if(lm)return lm=!1,_0;var qm=F0;if(Kp.charCodeAt(qm)===34){for(var b1=qm;b1++<hm;)if(Kp.charCodeAt(b1)===34){if(Kp.charCodeAt(b1+1)!==34)break;++b1}F0=b1+2;var _1=Kp.charCodeAt(b1+1);return _1===13?(lm=!0,Kp.charCodeAt(b1+2)===10&&++F0):_1===10&&(lm=!0),Kp.slice(qm+1,b1).replace(/""/g,'"')}for(;F0<hm;){var _1=Kp.charCodeAt(F0++),C1=1;if(_1===10)lm=!0;else if(_1===13)lm=!0,Kp.charCodeAt(F0)===10&&(++F0,++C1);else if(_1!==Iu)continue;return Kp.slice(qm,F0-C1)}return Kp.slice(qm)}for(;(Q0=cm())!==T0;){for(var _g=[];Q0!==_0&&Q0!==T0;)_g.push(Q0),Q0=cm();Zp&&(_g=Zp(_g,X0++))==null||em.push(_g)}return em},Ku.format=function(Kp){if(Array.isArray(Kp[0]))return Ku.formatRows(Kp);var Zp=new Fu,_0=[];return Kp.forEach(function(T0){for(var em in T0)Zp.has(em)||_0.push(Zp.add(em))}),[_0.map(Ip).join(Et)].concat(Kp.map(function(T0){return _0.map(function(em){return Ip(T0[em])}).join(Et)})).join(`
`)},Ku.formatRows=function(Kp){return Kp.map(xp).join(`
`)};function xp(Kp){return Kp.map(Ip).join(Et)}function Ip(Kp){return Gl.test(Kp)?'"'+Kp.replace(/\"/g,'""')+'"':Kp}return Ku},jt.csv=jt.dsv(",","text/csv"),jt.tsv=jt.dsv("	","text/tab-separated-values");var Vm,_m,Um,i1,ov=this[Xl(this,"requestAnimationFrame")]||function(Et){setTimeout(Et,17)};jt.timer=function(){R1.apply(this,arguments)};function R1(Et,Fl,Gl){var Iu=arguments.length;Iu<2&&(Fl=0),Iu<3&&(Gl=Date.now());var Ku=Gl+Fl,_h={c:Et,t:Ku,n:null};return _m?_m.n=_h:Vm=_h,_m=_h,Um||(i1=clearTimeout(i1),Um=1,ov(Ov)),_h}function Ov(){var Et=V1(),Fl=Bv()-Et;Fl>24?(isFinite(Fl)&&(clearTimeout(i1),i1=setTimeout(Ov,Fl)),Um=0):(Um=1,ov(Ov))}jt.timer.flush=function(){V1(),Bv()};function V1(){for(var Et=Date.now(),Fl=Vm;Fl;)Et>=Fl.t&&Fl.c(Et-Fl.t)&&(Fl.c=null),Fl=Fl.n;return Et}function Bv(){for(var Et,Fl=Vm,Gl=1/0;Fl;)Fl.c?(Fl.t<Gl&&(Gl=Fl.t),Fl=(Et=Fl).n):Fl=Et?Et.n=Fl.n:Vm=Fl.n;return _m=Et,Gl}jt.round=function(Et,Fl){return Fl?Math.round(Et*(Fl=Math.pow(10,Fl)))/Fl:Math.round(Et)},jt.geom={};function Lv(Et){return Et[0]}function ly(Et){return Et[1]}jt.geom.hull=function(Et){var Fl=Lv,Gl=ly;if(arguments.length)return Iu(Et);function Iu(Ku){if(Ku.length<3)return[];var _h=M0(Fl),_p=M0(Gl),xp,Ip=Ku.length,Kp=[],Zp=[];for(xp=0;xp<Ip;xp++)Kp.push([+_h.call(this,Ku[xp],xp),+_p.call(this,Ku[xp],xp),xp]);for(Kp.sort(q1),xp=0;xp<Ip;xp++)Zp.push([Kp[xp][0],-Kp[xp][1]]);var _0=Jv(Kp),T0=Jv(Zp),em=T0[0]===_0[0],hm=T0[T0.length-1]===_0[_0.length-1],F0=[];for(xp=_0.length-1;xp>=0;--xp)F0.push(Ku[Kp[_0[xp]][2]]);for(xp=+em;xp<T0.length-hm;++xp)F0.push(Ku[Kp[T0[xp]][2]]);return F0}return Iu.x=function(Ku){return arguments.length?(Fl=Ku,Iu):Fl},Iu.y=function(Ku){return arguments.length?(Gl=Ku,Iu):Gl},Iu};function Jv(Et){for(var Fl=Et.length,Gl=[0,1],Iu=2,Ku=2;Ku<Fl;Ku++){for(;Iu>1&&b0(Et[Gl[Iu-2]],Et[Gl[Iu-1]],Et[Ku])<=0;)--Iu;Gl[Iu++]=Ku}return Gl.slice(0,Iu)}function q1(Et,Fl){return Et[0]-Fl[0]||Et[1]-Fl[1]}jt.geom.polygon=function(Et){return Lu(Et,fy),Et};var fy=jt.geom.polygon.prototype=[];fy.area=function(){for(var Et=-1,Fl=this.length,Gl,Iu=this[Fl-1],Ku=0;++Et<Fl;)Gl=Iu,Iu=this[Et],Ku+=Gl[1]*Iu[0]-Gl[0]*Iu[1];return Ku*.5},fy.centroid=function(Et){var Fl=-1,Gl=this.length,Iu=0,Ku=0,_h,_p=this[Gl-1],xp;for(arguments.length||(Et=-1/(6*this.area()));++Fl<Gl;)_h=_p,_p=this[Fl],xp=_h[0]*_p[1]-_p[0]*_h[1],Iu+=(_h[0]+_p[0])*xp,Ku+=(_h[1]+_p[1])*xp;return[Iu*Et,Ku*Et]},fy.clip=function(Et){for(var Fl,Gl=ry(Et),Iu=-1,Ku=this.length-ry(this),_h,_p,xp=this[Ku-1],Ip,Kp,Zp;++Iu<Ku;){for(Fl=Et.slice(),Et.length=0,Ip=this[Iu],Kp=Fl[(_p=Fl.length-Gl)-1],_h=-1;++_h<_p;)Zp=Fl[_h],ey(Zp,xp,Ip)?(ey(Kp,xp,Ip)||Et.push(nv(Kp,Zp,xp,Ip)),Et.push(Zp)):ey(Kp,xp,Ip)&&Et.push(nv(Kp,Zp,xp,Ip)),Kp=Zp;Gl&&Et.push(Et[0]),xp=Ip}return Et};function ey(Et,Fl,Gl){return(Gl[0]-Fl[0])*(Et[1]-Fl[1])<(Gl[1]-Fl[1])*(Et[0]-Fl[0])}function nv(Et,Fl,Gl,Iu){var Ku=Et[0],_h=Gl[0],_p=Fl[0]-Ku,xp=Iu[0]-_h,Ip=Et[1],Kp=Gl[1],Zp=Fl[1]-Ip,_0=Iu[1]-Kp,T0=(xp*(Ip-Kp)-_0*(Ku-_h))/(_0*_p-xp*Zp);return[Ku+T0*_p,Ip+T0*Zp]}function ry(Et){var Fl=Et[0],Gl=Et[Et.length-1];return!(Fl[0]-Gl[0]||Fl[1]-Gl[1])}var uy,ny,Py,o2=[],bv,Hv,zv=[];function Gv(){Oy(this),this.edge=this.site=this.circle=null}function by(Et){var Fl=o2.pop()||new Gv;return Fl.site=Et,Fl}function Dy(Et){Wy(Et),Py.remove(Et),o2.push(Et),Oy(Et)}function Vy(Et){var Fl=Et.circle,Gl=Fl.x,Iu=Fl.cy,Ku={x:Gl,y:Iu},_h=Et.P,_p=Et.N,xp=[Et];Dy(Et);for(var Ip=_h;Ip.circle&&Bn(Gl-Ip.circle.x)<qp&&Bn(Iu-Ip.circle.cy)<qp;)_h=Ip.P,xp.unshift(Ip),Dy(Ip),Ip=_h;xp.unshift(Ip),Wy(Ip);for(var Kp=_p;Kp.circle&&Bn(Gl-Kp.circle.x)<qp&&Bn(Iu-Kp.circle.cy)<qp;)_p=Kp.N,xp.push(Kp),Dy(Kp),Kp=_p;xp.push(Kp),Wy(Kp);var Zp=xp.length,_0;for(_0=1;_0<Zp;++_0)Kp=xp[_0],Ip=xp[_0-1],Sy(Kp.edge,Ip.site,Kp.site,Ku);Ip=xp[0],Kp=xp[Zp-1],Kp.edge=N2(Ip.site,Kp.site,null,Ku),r2(Ip),r2(Kp)}function Ly(Et){for(var Fl=Et.x,Gl=Et.y,Iu,Ku,_h,_p,xp=Py._;xp;)if(_h=t2(xp,Gl)-Fl,_h>qp)xp=xp.L;else if(_p=Fl-Iy(xp,Gl),_p>qp){if(!xp.R){Iu=xp;break}xp=xp.R}else{_h>-qp?(Iu=xp.P,Ku=xp):_p>-qp?(Iu=xp,Ku=xp.N):Iu=Ku=xp;break}var Ip=by(Et);if(Py.insert(Iu,Ip),!(!Iu&&!Ku)){if(Iu===Ku){Wy(Iu),Ku=by(Iu.site),Py.insert(Ip,Ku),Ip.edge=Ku.edge=N2(Iu.site,Ip.site),r2(Iu),r2(Ku);return}if(!Ku){Ip.edge=N2(Iu.site,Ip.site);return}Wy(Iu),Wy(Ku);var Kp=Iu.site,Zp=Kp.x,_0=Kp.y,T0=Et.x-Zp,em=Et.y-_0,hm=Ku.site,F0=hm.x-Zp,X0=hm.y-_0,Q0=2*(T0*X0-em*F0),lm=T0*T0+em*em,cm=F0*F0+X0*X0,_g={x:(X0*lm-em*cm)/Q0+Zp,y:(T0*cm-F0*lm)/Q0+_0};Sy(Ku.edge,Kp,hm,_g),Ip.edge=N2(Kp,Et,null,_g),Ku.edge=N2(Et,hm,null,_g),r2(Iu),r2(Ku)}}function t2(Et,Fl){var Gl=Et.site,Iu=Gl.x,Ku=Gl.y,_h=Ku-Fl;if(!_h)return Iu;var _p=Et.P;if(!_p)return-1/0;Gl=_p.site;var xp=Gl.x,Ip=Gl.y,Kp=Ip-Fl;if(!Kp)return xp;var Zp=xp-Iu,_0=1/_h-1/Kp,T0=Zp/Kp;return _0?(-T0+Math.sqrt(T0*T0-2*_0*(Zp*Zp/(-2*Kp)-Ip+Kp/2+Ku-_h/2)))/_0+Iu:(Iu+xp)/2}function Iy(Et,Fl){var Gl=Et.N;if(Gl)return t2(Gl,Fl);var Iu=Et.site;return Iu.y===Fl?Iu.x:1/0}function Nv(Et){this.site=Et,this.edges=[]}Nv.prototype.prepare=function(){for(var Et=this.edges,Fl=Et.length,Gl;Fl--;)Gl=Et[Fl].edge,(!Gl.b||!Gl.a)&&Et.splice(Fl,1);return Et.sort(Uy),Et.length};function S2(Et){for(var Fl=Et[0][0],Gl=Et[1][0],Iu=Et[0][1],Ku=Et[1][1],_h,_p,xp,Ip,Kp=ny,Zp=Kp.length,_0,T0,em,hm,F0,X0;Zp--;)if(_0=Kp[Zp],!(!_0||!_0.prepare()))for(em=_0.edges,hm=em.length,T0=0;T0<hm;)X0=em[T0].end(),xp=X0.x,Ip=X0.y,F0=em[++T0%hm].start(),_h=F0.x,_p=F0.y,(Bn(xp-_h)>qp||Bn(Ip-_p)>qp)&&(em.splice(T0,0,new Ny(jv(_0.site,X0,Bn(xp-Fl)<qp&&Ku-Ip>qp?{x:Fl,y:Bn(_h-Fl)<qp?_p:Ku}:Bn(Ip-Ku)<qp&&Gl-xp>qp?{x:Bn(_p-Ku)<qp?_h:Gl,y:Ku}:Bn(xp-Gl)<qp&&Ip-Iu>qp?{x:Gl,y:Bn(_h-Gl)<qp?_p:Iu}:Bn(Ip-Iu)<qp&&xp-Fl>qp?{x:Bn(_p-Iu)<qp?_h:Fl,y:Iu}:null),_0.site,null)),++hm)}function Uy(Et,Fl){return Fl.angle-Et.angle}function s2(){Oy(this),this.x=this.y=this.arc=this.site=this.cy=null}function r2(Et){var Fl=Et.P,Gl=Et.N;if(!(!Fl||!Gl)){var Iu=Fl.site,Ku=Et.site,_h=Gl.site;if(Iu!==_h){var _p=Ku.x,xp=Ku.y,Ip=Iu.x-_p,Kp=Iu.y-xp,Zp=_h.x-_p,_0=_h.y-xp,T0=2*(Ip*_0-Kp*Zp);if(!(T0>=-Xu)){var em=Ip*Ip+Kp*Kp,hm=Zp*Zp+_0*_0,F0=(_0*em-Kp*hm)/T0,X0=(Ip*hm-Zp*em)/T0,_0=X0+xp,Q0=zv.pop()||new s2;Q0.arc=Et,Q0.site=Ku,Q0.x=F0+_p,Q0.y=_0+Math.sqrt(F0*F0+X0*X0),Q0.cy=_0,Et.circle=Q0;for(var lm=null,cm=Hv._;cm;)if(Q0.y<cm.y||Q0.y===cm.y&&Q0.x<=cm.x)if(cm.L)cm=cm.L;else{lm=cm.P;break}else if(cm.R)cm=cm.R;else{lm=cm;break}Hv.insert(lm,Q0),lm||(bv=Q0)}}}}function Wy(Et){var Fl=Et.circle;Fl&&(Fl.P||(bv=Fl.N),Hv.remove(Fl),zv.push(Fl),Oy(Fl),Et.circle=null)}function R2(Et,Fl,Gl,Iu){return function(Ku){var _h=Ku.a,_p=Ku.b,xp=_h.x,Ip=_h.y,Kp=_p.x,Zp=_p.y,_0=0,T0=1,em=Kp-xp,hm=Zp-Ip,F0;if(F0=Et-xp,!(!em&&F0>0)){if(F0/=em,em<0){if(F0<_0)return;F0<T0&&(T0=F0)}else if(em>0){if(F0>T0)return;F0>_0&&(_0=F0)}if(F0=Gl-xp,!(!em&&F0<0)){if(F0/=em,em<0){if(F0>T0)return;F0>_0&&(_0=F0)}else if(em>0){if(F0<_0)return;F0<T0&&(T0=F0)}if(F0=Fl-Ip,!(!hm&&F0>0)){if(F0/=hm,hm<0){if(F0<_0)return;F0<T0&&(T0=F0)}else if(hm>0){if(F0>T0)return;F0>_0&&(_0=F0)}if(F0=Iu-Ip,!(!hm&&F0<0)){if(F0/=hm,hm<0){if(F0>T0)return;F0>_0&&(_0=F0)}else if(hm>0){if(F0<_0)return;F0<T0&&(T0=F0)}return _0>0&&(Ku.a={x:xp+_0*em,y:Ip+_0*hm}),T0<1&&(Ku.b={x:xp+T0*em,y:Ip+T0*hm}),Ku}}}}}}function y2(Et){for(var Fl=uy,Gl=R2(Et[0][0],Et[0][1],Et[1][0],Et[1][1]),Iu=Fl.length,Ku;Iu--;)Ku=Fl[Iu],(!Ky(Ku,Et)||!Gl(Ku)||Bn(Ku.a.x-Ku.b.x)<qp&&Bn(Ku.a.y-Ku.b.y)<qp)&&(Ku.a=Ku.b=null,Fl.splice(Iu,1))}function Ky(Et,Fl){var Gl=Et.b;if(Gl)return!0;var Iu=Et.a,Ku=Fl[0][0],_h=Fl[1][0],_p=Fl[0][1],xp=Fl[1][1],Ip=Et.l,Kp=Et.r,Zp=Ip.x,_0=Ip.y,T0=Kp.x,em=Kp.y,hm=(Zp+T0)/2,F0=(_0+em)/2,X0,Q0;if(em===_0){if(hm<Ku||hm>=_h)return;if(Zp>T0){if(!Iu)Iu={x:hm,y:_p};else if(Iu.y>=xp)return;Gl={x:hm,y:xp}}else{if(!Iu)Iu={x:hm,y:xp};else if(Iu.y<_p)return;Gl={x:hm,y:_p}}}else if(X0=(Zp-T0)/(em-_0),Q0=F0-X0*hm,X0<-1||X0>1)if(Zp>T0){if(!Iu)Iu={x:(_p-Q0)/X0,y:_p};else if(Iu.y>=xp)return;Gl={x:(xp-Q0)/X0,y:xp}}else{if(!Iu)Iu={x:(xp-Q0)/X0,y:xp};else if(Iu.y<_p)return;Gl={x:(_p-Q0)/X0,y:_p}}else if(_0<em){if(!Iu)Iu={x:Ku,y:X0*Ku+Q0};else if(Iu.x>=_h)return;Gl={x:_h,y:X0*_h+Q0}}else{if(!Iu)Iu={x:_h,y:X0*_h+Q0};else if(Iu.x<Ku)return;Gl={x:Ku,y:X0*Ku+Q0}}return Et.a=Iu,Et.b=Gl,!0}function A2(Et,Fl){this.l=Et,this.r=Fl,this.a=this.b=null}function N2(Et,Fl,Gl,Iu){var Ku=new A2(Et,Fl);return uy.push(Ku),Gl&&Sy(Ku,Et,Fl,Gl),Iu&&Sy(Ku,Fl,Et,Iu),ny[Et.i].edges.push(new Ny(Ku,Et,Fl)),ny[Fl.i].edges.push(new Ny(Ku,Fl,Et)),Ku}function jv(Et,Fl,Gl){var Iu=new A2(Et,null);return Iu.a=Fl,Iu.b=Gl,uy.push(Iu),Iu}function Sy(Et,Fl,Gl,Iu){!Et.a&&!Et.b?(Et.a=Iu,Et.l=Fl,Et.r=Gl):Et.l===Gl?Et.b=Iu:Et.a=Iu}function Ny(Et,Fl,Gl){var Iu=Et.a,Ku=Et.b;this.edge=Et,this.site=Fl,this.angle=Gl?Math.atan2(Gl.y-Fl.y,Gl.x-Fl.x):Et.l===Fl?Math.atan2(Ku.x-Iu.x,Iu.y-Ku.y):Math.atan2(Iu.x-Ku.x,Ku.y-Iu.y)}Ny.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function l2(){this._=null}function Oy(Et){Et.U=Et.C=Et.L=Et.R=Et.P=Et.N=null}l2.prototype={insert:function(Et,Fl){var Gl,Iu,Ku;if(Et){if(Fl.P=Et,Fl.N=Et.N,Et.N&&(Et.N.P=Fl),Et.N=Fl,Et.R){for(Et=Et.R;Et.L;)Et=Et.L;Et.L=Fl}else Et.R=Fl;Gl=Et}else this._?(Et=e3(this._),Fl.P=null,Fl.N=Et,Et.P=Et.L=Fl,Gl=Et):(Fl.P=Fl.N=null,this._=Fl,Gl=null);for(Fl.L=Fl.R=null,Fl.U=Gl,Fl.C=!0,Et=Fl;Gl&&Gl.C;)Iu=Gl.U,Gl===Iu.L?(Ku=Iu.R,Ku&&Ku.C?(Gl.C=Ku.C=!1,Iu.C=!0,Et=Iu):(Et===Gl.R&&(iy(this,Gl),Et=Gl,Gl=Et.U),Gl.C=!1,Iu.C=!0,u2(this,Iu))):(Ku=Iu.L,Ku&&Ku.C?(Gl.C=Ku.C=!1,Iu.C=!0,Et=Iu):(Et===Gl.L&&(u2(this,Gl),Et=Gl,Gl=Et.U),Gl.C=!1,Iu.C=!0,iy(this,Iu))),Gl=Et.U;this._.C=!1},remove:function(Et){Et.N&&(Et.N.P=Et.P),Et.P&&(Et.P.N=Et.N),Et.N=Et.P=null;var Fl=Et.U,Gl,Iu=Et.L,Ku=Et.R,_h,_p;if(Iu?Ku?_h=e3(Ku):_h=Iu:_h=Ku,Fl?Fl.L===Et?Fl.L=_h:Fl.R=_h:this._=_h,Iu&&Ku?(_p=_h.C,_h.C=Et.C,_h.L=Iu,Iu.U=_h,_h!==Ku?(Fl=_h.U,_h.U=Et.U,Et=_h.R,Fl.L=Et,_h.R=Ku,Ku.U=_h):(_h.U=Fl,Fl=_h,Et=_h.R)):(_p=Et.C,Et=_h),Et&&(Et.U=Fl),!_p){if(Et&&Et.C){Et.C=!1;return}do{if(Et===this._)break;if(Et===Fl.L){if(Gl=Fl.R,Gl.C&&(Gl.C=!1,Fl.C=!0,iy(this,Fl),Gl=Fl.R),Gl.L&&Gl.L.C||Gl.R&&Gl.R.C){(!Gl.R||!Gl.R.C)&&(Gl.L.C=!1,Gl.C=!0,u2(this,Gl),Gl=Fl.R),Gl.C=Fl.C,Fl.C=Gl.R.C=!1,iy(this,Fl),Et=this._;break}}else if(Gl=Fl.L,Gl.C&&(Gl.C=!1,Fl.C=!0,u2(this,Fl),Gl=Fl.L),Gl.L&&Gl.L.C||Gl.R&&Gl.R.C){(!Gl.L||!Gl.L.C)&&(Gl.R.C=!1,Gl.C=!0,iy(this,Gl),Gl=Fl.L),Gl.C=Fl.C,Fl.C=Gl.L.C=!1,u2(this,Fl),Et=this._;break}Gl.C=!0,Et=Fl,Fl=Fl.U}while(!Et.C);Et&&(Et.C=!1)}}};function iy(Et,Fl){var Gl=Fl,Iu=Fl.R,Ku=Gl.U;Ku?Ku.L===Gl?Ku.L=Iu:Ku.R=Iu:Et._=Iu,Iu.U=Ku,Gl.U=Iu,Gl.R=Iu.L,Gl.R&&(Gl.R.U=Gl),Iu.L=Gl}function u2(Et,Fl){var Gl=Fl,Iu=Fl.L,Ku=Gl.U;Ku?Ku.L===Gl?Ku.L=Iu:Ku.R=Iu:Et._=Iu,Iu.U=Ku,Gl.U=Iu,Gl.L=Iu.R,Gl.L&&(Gl.L.U=Gl),Iu.R=Gl}function e3(Et){for(;Et.L;)Et=Et.L;return Et}function Y2(Et,Fl){var Gl=Et.sort(v3).pop(),Iu,Ku,_h;for(uy=[],ny=new Array(Et.length),Py=new l2,Hv=new l2;;)if(_h=bv,Gl&&(!_h||Gl.y<_h.y||Gl.y===_h.y&&Gl.x<_h.x))(Gl.x!==Iu||Gl.y!==Ku)&&(ny[Gl.i]=new Nv(Gl),Ly(Gl),Iu=Gl.x,Ku=Gl.y),Gl=Et.pop();else if(_h)Vy(_h.arc);else break;Fl&&(y2(Fl),S2(Fl));var _p={cells:ny,edges:uy};return Py=Hv=uy=ny=null,_p}function v3(Et,Fl){return Fl.y-Et.y||Fl.x-Et.x}jt.geom.voronoi=function(Et){var Fl=Lv,Gl=ly,Iu=Fl,Ku=Gl,_h=K2;if(Et)return _p(Et);function _p(Ip){var Kp=new Array(Ip.length),Zp=_h[0][0],_0=_h[0][1],T0=_h[1][0],em=_h[1][1];return Y2(xp(Ip),_h).cells.forEach(function(hm,F0){var X0=hm.edges,Q0=hm.site,lm=Kp[F0]=X0.length?X0.map(function(cm){var _g=cm.start();return[_g.x,_g.y]}):Q0.x>=Zp&&Q0.x<=T0&&Q0.y>=_0&&Q0.y<=em?[[Zp,em],[T0,em],[T0,_0],[Zp,_0]]:[];lm.point=Ip[F0]}),Kp}function xp(Ip){return Ip.map(function(Kp,Zp){return{x:Math.round(Iu(Kp,Zp)/qp)*qp,y:Math.round(Ku(Kp,Zp)/qp)*qp,i:Zp}})}return _p.links=function(Ip){return Y2(xp(Ip)).edges.filter(function(Kp){return Kp.l&&Kp.r}).map(function(Kp){return{source:Ip[Kp.l.i],target:Ip[Kp.r.i]}})},_p.triangles=function(Ip){var Kp=[];return Y2(xp(Ip)).cells.forEach(function(Zp,_0){for(var T0=Zp.site,em=Zp.edges.sort(Uy),hm=-1,F0=em.length,X0,Q0,lm=em[F0-1].edge,cm=lm.l===T0?lm.r:lm.l;++hm<F0;)X0=lm,Q0=cm,lm=em[hm].edge,cm=lm.l===T0?lm.r:lm.l,_0<Q0.i&&_0<cm.i&&A3(T0,Q0,cm)<0&&Kp.push([Ip[_0],Ip[Q0.i],Ip[cm.i]])}),Kp},_p.x=function(Ip){return arguments.length?(Iu=M0(Fl=Ip),_p):Fl},_p.y=function(Ip){return arguments.length?(Ku=M0(Gl=Ip),_p):Gl},_p.clipExtent=function(Ip){return arguments.length?(_h=Ip??K2,_p):_h===K2?null:_h},_p.size=function(Ip){return arguments.length?_p.clipExtent(Ip&&[[0,0],Ip]):_h===K2?null:_h&&_h[1]},_p};var K2=[[-1e6,-1e6],[1e6,1e6]];function A3(Et,Fl,Gl){return(Et.x-Gl.x)*(Fl.y-Et.y)-(Et.x-Fl.x)*(Gl.y-Et.y)}jt.geom.delaunay=function(Et){return jt.geom.voronoi().triangles(Et)},jt.geom.quadtree=function(Et,Fl,Gl,Iu,Ku){var _h=Lv,_p=ly,xp;if(xp=arguments.length)return _h=T3,_p=R3,xp===3&&(Ku=Gl,Iu=Fl,Gl=Fl=0),Ip(Et);function Ip(Kp){var Zp,_0=M0(_h),T0=M0(_p),em,hm,F0,X0,Q0,lm,cm,_g;if(Fl!=null)Q0=Fl,lm=Gl,cm=Iu,_g=Ku;else if(cm=_g=-(Q0=lm=1/0),em=[],hm=[],X0=Kp.length,xp)for(F0=0;F0<X0;++F0)Zp=Kp[F0],Zp.x<Q0&&(Q0=Zp.x),Zp.y<lm&&(lm=Zp.y),Zp.x>cm&&(cm=Zp.x),Zp.y>_g&&(_g=Zp.y),em.push(Zp.x),hm.push(Zp.y);else for(F0=0;F0<X0;++F0){var qm=+_0(Zp=Kp[F0],F0),b1=+T0(Zp,F0);qm<Q0&&(Q0=qm),b1<lm&&(lm=b1),qm>cm&&(cm=qm),b1>_g&&(_g=b1),em.push(qm),hm.push(b1)}var _1=cm-Q0,C1=_g-lm;_1>C1?_g=lm+_1:cm=Q0+C1;function I1(H1,uv,Yv,Xy,cy,v1,yv,Ev){if(!(isNaN(Yv)||isNaN(Xy)))if(H1.leaf){var Kv=H1.x,By=H1.y;if(Kv!=null)if(Bn(Kv-Yv)+Bn(By-Xy)<.01)O1(H1,uv,Yv,Xy,cy,v1,yv,Ev);else{var i2=H1.point;H1.x=H1.y=H1.point=null,O1(H1,i2,Kv,By,cy,v1,yv,Ev),O1(H1,uv,Yv,Xy,cy,v1,yv,Ev)}else H1.x=Yv,H1.y=Xy,H1.point=uv}else O1(H1,uv,Yv,Xy,cy,v1,yv,Ev)}function O1(H1,uv,Yv,Xy,cy,v1,yv,Ev){var Kv=(cy+yv)*.5,By=(v1+Ev)*.5,i2=Yv>=Kv,p2=Xy>=By,_2=p2<<1|i2;H1.leaf=!1,H1=H1.nodes[_2]||(H1.nodes[_2]=y3()),i2?cy=Kv:yv=Kv,p2?v1=By:Ev=By,I1(H1,uv,Yv,Xy,cy,v1,yv,Ev)}var vv=y3();if(vv.add=function(H1){I1(vv,H1,+_0(H1,++F0),+T0(H1,F0),Q0,lm,cm,_g)},vv.visit=function(H1){t3(H1,vv,Q0,lm,cm,_g)},vv.find=function(H1){return T4(vv,H1[0],H1[1],Q0,lm,cm,_g)},F0=-1,Fl==null){for(;++F0<X0;)I1(vv,Kp[F0],em[F0],hm[F0],Q0,lm,cm,_g);--F0}else Kp.forEach(vv.add);return em=hm=Kp=Zp=null,vv}return Ip.x=function(Kp){return arguments.length?(_h=Kp,Ip):_h},Ip.y=function(Kp){return arguments.length?(_p=Kp,Ip):_p},Ip.extent=function(Kp){return arguments.length?(Kp==null?Fl=Gl=Iu=Ku=null:(Fl=+Kp[0][0],Gl=+Kp[0][1],Iu=+Kp[1][0],Ku=+Kp[1][1]),Ip):Fl==null?null:[[Fl,Gl],[Iu,Ku]]},Ip.size=function(Kp){return arguments.length?(Kp==null?Fl=Gl=Iu=Ku=null:(Fl=Gl=0,Iu=+Kp[0],Ku=+Kp[1]),Ip):Fl==null?null:[Iu-Fl,Ku-Gl]},Ip};function T3(Et){return Et.x}function R3(Et){return Et.y}function y3(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function t3(Et,Fl,Gl,Iu,Ku,_h){if(!Et(Fl,Gl,Iu,Ku,_h)){var _p=(Gl+Ku)*.5,xp=(Iu+_h)*.5,Ip=Fl.nodes;Ip[0]&&t3(Et,Ip[0],Gl,Iu,_p,xp),Ip[1]&&t3(Et,Ip[1],_p,Iu,Ku,xp),Ip[2]&&t3(Et,Ip[2],Gl,xp,_p,_h),Ip[3]&&t3(Et,Ip[3],_p,xp,Ku,_h)}}function T4(Et,Fl,Gl,Iu,Ku,_h,_p){var xp=1/0,Ip;return function Kp(Zp,_0,T0,em,hm){if(!(_0>_h||T0>_p||em<Iu||hm<Ku)){if(F0=Zp.point){var F0,X0=Fl-Zp.x,Q0=Gl-Zp.y,lm=X0*X0+Q0*Q0;if(lm<xp){var cm=Math.sqrt(xp=lm);Iu=Fl-cm,Ku=Gl-cm,_h=Fl+cm,_p=Gl+cm,Ip=F0}}for(var _g=Zp.nodes,qm=(_0+em)*.5,b1=(T0+hm)*.5,_1=Fl>=qm,C1=Gl>=b1,I1=C1<<1|_1,O1=I1+4;I1<O1;++I1)if(Zp=_g[I1&3])switch(I1&3){case 0:Kp(Zp,_0,T0,qm,b1);break;case 1:Kp(Zp,qm,T0,em,b1);break;case 2:Kp(Zp,_0,b1,qm,hm);break;case 3:Kp(Zp,qm,b1,em,hm);break}}}(Et,Iu,Ku,_h,_p),Ip}jt.interpolateRgb=nx;function nx(Et,Fl){Et=jt.rgb(Et),Fl=jt.rgb(Fl);var Gl=Et.r,Iu=Et.g,Ku=Et.b,_h=Fl.r-Gl,_p=Fl.g-Iu,xp=Fl.b-Ku;return function(Ip){return"#"+Up(Math.round(Gl+_h*Ip))+Up(Math.round(Iu+_p*Ip))+Up(Math.round(Ku+xp*Ip))}}jt.interpolateObject=ow;function ow(Et,Fl){var Gl={},Iu={},Ku;for(Ku in Et)Ku in Fl?Gl[Ku]=o3(Et[Ku],Fl[Ku]):Iu[Ku]=Et[Ku];for(Ku in Fl)Ku in Et||(Iu[Ku]=Fl[Ku]);return function(_h){for(Ku in Gl)Iu[Ku]=Gl[Ku](_h);return Iu}}jt.interpolateNumber=Q2;function Q2(Et,Fl){return Et=+Et,Fl=+Fl,function(Gl){return Et*(1-Gl)+Fl*Gl}}jt.interpolateString=aw;function aw(Et,Fl){var Gl=ix.lastIndex=ox.lastIndex=0,Iu,Ku,_h,_p=-1,xp=[],Ip=[];for(Et=Et+"",Fl=Fl+"";(Iu=ix.exec(Et))&&(Ku=ox.exec(Fl));)(_h=Ku.index)>Gl&&(_h=Fl.slice(Gl,_h),xp[_p]?xp[_p]+=_h:xp[++_p]=_h),(Iu=Iu[0])===(Ku=Ku[0])?xp[_p]?xp[_p]+=Ku:xp[++_p]=Ku:(xp[++_p]=null,Ip.push({i:_p,x:Q2(Iu,Ku)})),Gl=ox.lastIndex;return Gl<Fl.length&&(_h=Fl.slice(Gl),xp[_p]?xp[_p]+=_h:xp[++_p]=_h),xp.length<2?Ip[0]?(Fl=Ip[0].x,function(Kp){return Fl(Kp)+""}):function(){return Fl}:(Fl=Ip.length,function(Kp){for(var Zp=0,_0;Zp<Fl;++Zp)xp[(_0=Ip[Zp]).i]=_0.x(Kp);return xp.join("")})}var ix=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ox=new RegExp(ix.source,"g");jt.interpolate=o3;function o3(Et,Fl){for(var Gl=jt.interpolators.length,Iu;--Gl>=0&&!(Iu=jt.interpolators[Gl](Et,Fl)););return Iu}jt.interpolators=[function(Et,Fl){var Gl=typeof Fl;return(Gl==="string"?o0.has(Fl.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Fl)?nx:aw:Fl instanceof zm?nx:Array.isArray(Fl)?F3:Gl==="object"&&isNaN(Fl)?ow:Q2)(Et,Fl)}],jt.interpolateArray=F3;function F3(Et,Fl){var Gl=[],Iu=[],Ku=Et.length,_h=Fl.length,_p=Math.min(Et.length,Fl.length),xp;for(xp=0;xp<_p;++xp)Gl.push(o3(Et[xp],Fl[xp]));for(;xp<Ku;++xp)Iu[xp]=Et[xp];for(;xp<_h;++xp)Iu[xp]=Fl[xp];return function(Ip){for(xp=0;xp<_p;++xp)Iu[xp]=Gl[xp](Ip);return Iu}}var sw=function(){return Hu},R4=jt.map({linear:sw,poly:O4,quad:function(){return D4},cubic:function(){return L4},sin:function(){return z4},exp:function(){return N4},circle:function(){return B4},elastic:$4,back:H4,bounce:function(){return G4}}),F4=jt.map({in:Hu,out:lw,"in-out":uw,"out-in":function(Et){return uw(lw(Et))}});jt.ease=function(Et){var Fl=Et.indexOf("-"),Gl=Fl>=0?Et.slice(0,Fl):Et,Iu=Fl>=0?Et.slice(Fl+1):"in";return Gl=R4.get(Gl)||sw,Iu=F4.get(Iu)||Hu,P4(Iu(Gl.apply(null,it.call(arguments,1))))};function P4(Et){return function(Fl){return Fl<=0?0:Fl>=1?1:Et(Fl)}}function lw(Et){return function(Fl){return 1-Et(1-Fl)}}function uw(Et){return function(Fl){return .5*(Fl<.5?Et(2*Fl):2-Et(2-2*Fl))}}function D4(Et){return Et*Et}function L4(Et){return Et*Et*Et}function I4(Et){if(Et<=0)return 0;if(Et>=1)return 1;var Fl=Et*Et,Gl=Fl*Et;return 4*(Et<.5?Gl:3*(Et-Fl)+Gl-.75)}function O4(Et){return function(Fl){return Math.pow(Fl,Et)}}function z4(Et){return 1-Math.cos(Et*Bp)}function N4(Et){return Math.pow(2,10*(Et-1))}function B4(Et){return 1-Math.sqrt(1-Et*Et)}function $4(Et,Fl){var Gl;return arguments.length<2&&(Fl=.45),arguments.length?Gl=Fl/yp*Math.asin(1/Et):(Et=1,Gl=Fl/4),function(Iu){return 1+Et*Math.pow(2,-10*Iu)*Math.sin((Iu-Gl)*yp/Fl)}}function H4(Et){return Et||(Et=1.70158),function(Fl){return Fl*Fl*((Et+1)*Fl-Et)}}function G4(Et){return Et<1/2.75?7.5625*Et*Et:Et<2/2.75?7.5625*(Et-=1.5/2.75)*Et+.75:Et<2.5/2.75?7.5625*(Et-=2.25/2.75)*Et+.9375:7.5625*(Et-=2.625/2.75)*Et+.984375}jt.interpolateHcl=j4;function j4(Et,Fl){Et=jt.hcl(Et),Fl=jt.hcl(Fl);var Gl=Et.h,Iu=Et.c,Ku=Et.l,_h=Fl.h-Gl,_p=Fl.c-Iu,xp=Fl.l-Ku;return isNaN(_p)&&(_p=0,Iu=isNaN(Iu)?Fl.c:Iu),isNaN(_h)?(_h=0,Gl=isNaN(Gl)?Fl.h:Gl):_h>180?_h-=360:_h<-180&&(_h+=360),function(Ip){return Wm(Gl+_h*Ip,Iu+_p*Ip,Ku+xp*Ip)+""}}jt.interpolateHsl=V4;function V4(Et,Fl){Et=jt.hsl(Et),Fl=jt.hsl(Fl);var Gl=Et.h,Iu=Et.s,Ku=Et.l,_h=Fl.h-Gl,_p=Fl.s-Iu,xp=Fl.l-Ku;return isNaN(_p)&&(_p=0,Iu=isNaN(Iu)?Fl.s:Iu),isNaN(_h)?(_h=0,Gl=isNaN(Gl)?Fl.h:Gl):_h>180?_h-=360:_h<-180&&(_h+=360),function(Ip){return l1(Gl+_h*Ip,Iu+_p*Ip,Ku+xp*Ip)+""}}jt.interpolateLab=U4;function U4(Et,Fl){Et=jt.lab(Et),Fl=jt.lab(Fl);var Gl=Et.l,Iu=Et.a,Ku=Et.b,_h=Fl.l-Gl,_p=Fl.a-Iu,xp=Fl.b-Ku;return function(Ip){return cv(Gl+_h*Ip,Iu+_p*Ip,Ku+xp*Ip)+""}}jt.interpolateRound=cw;function cw(Et,Fl){return Fl-=Et,function(Gl){return Math.round(Et+Fl*Gl)}}jt.transform=function(Et){var Fl=Ln.createElementNS(jt.ns.prefix.svg,"g");return(jt.transform=function(Gl){if(Gl!=null){Fl.setAttribute("transform",Gl);var Iu=Fl.transform.baseVal.consolidate()}return new dw(Iu?Iu.matrix:q4)})(Et)};function dw(Et){var Fl=[Et.a,Et.b],Gl=[Et.c,Et.d],Iu=pw(Fl),Ku=hw(Fl,Gl),_h=pw(W4(Gl,Fl,-Ku))||0;Fl[0]*Gl[1]<Gl[0]*Fl[1]&&(Fl[0]*=-1,Fl[1]*=-1,Iu*=-1,Ku*=-1),this.rotate=(Iu?Math.atan2(Fl[1],Fl[0]):Math.atan2(-Gl[0],Gl[1]))*n0,this.translate=[Et.e,Et.f],this.scale=[Iu,_h],this.skew=_h?Math.atan2(Ku,_h)*n0:0}dw.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function hw(Et,Fl){return Et[0]*Fl[0]+Et[1]*Fl[1]}function pw(Et){var Fl=Math.sqrt(hw(Et,Et));return Fl&&(Et[0]/=Fl,Et[1]/=Fl),Fl}function W4(Et,Fl,Gl){return Et[0]+=Gl*Fl[0],Et[1]+=Gl*Fl[1],Et}var q4={a:1,b:0,c:0,d:1,e:0,f:0};jt.interpolateTransform=fw;function f3(Et){return Et.length?Et.pop()+",":""}function Y4(Et,Fl,Gl,Iu){if(Et[0]!==Fl[0]||Et[1]!==Fl[1]){var Ku=Gl.push("translate(",null,",",null,")");Iu.push({i:Ku-4,x:Q2(Et[0],Fl[0])},{i:Ku-2,x:Q2(Et[1],Fl[1])})}else(Fl[0]||Fl[1])&&Gl.push("translate("+Fl+")")}function K4(Et,Fl,Gl,Iu){Et!==Fl?(Et-Fl>180?Fl+=360:Fl-Et>180&&(Et+=360),Iu.push({i:Gl.push(f3(Gl)+"rotate(",null,")")-2,x:Q2(Et,Fl)})):Fl&&Gl.push(f3(Gl)+"rotate("+Fl+")")}function X4(Et,Fl,Gl,Iu){Et!==Fl?Iu.push({i:Gl.push(f3(Gl)+"skewX(",null,")")-2,x:Q2(Et,Fl)}):Fl&&Gl.push(f3(Gl)+"skewX("+Fl+")")}function Z4(Et,Fl,Gl,Iu){if(Et[0]!==Fl[0]||Et[1]!==Fl[1]){var Ku=Gl.push(f3(Gl)+"scale(",null,",",null,")");Iu.push({i:Ku-4,x:Q2(Et[0],Fl[0])},{i:Ku-2,x:Q2(Et[1],Fl[1])})}else(Fl[0]!==1||Fl[1]!==1)&&Gl.push(f3(Gl)+"scale("+Fl+")")}function fw(Et,Fl){var Gl=[],Iu=[];return Et=jt.transform(Et),Fl=jt.transform(Fl),Y4(Et.translate,Fl.translate,Gl,Iu),K4(Et.rotate,Fl.rotate,Gl,Iu),X4(Et.skew,Fl.skew,Gl,Iu),Z4(Et.scale,Fl.scale,Gl,Iu),Et=Fl=null,function(Ku){for(var _h=-1,_p=Iu.length,xp;++_h<_p;)Gl[(xp=Iu[_h]).i]=xp.x(Ku);return Gl.join("")}}function Q4(Et,Fl){return Fl=(Fl-=Et=+Et)||1/Fl,function(Gl){return(Gl-Et)/Fl}}function J4(Et,Fl){return Fl=(Fl-=Et=+Et)||1/Fl,function(Gl){return Math.max(0,Math.min(1,(Gl-Et)/Fl))}}jt.layout={},jt.layout.bundle=function(){return function(Et){for(var Fl=[],Gl=-1,Iu=Et.length;++Gl<Iu;)Fl.push(e6(Et[Gl]));return Fl}};function e6(Et){for(var Fl=Et.source,Gl=Et.target,Iu=t6(Fl,Gl),Ku=[Fl];Fl!==Iu;)Fl=Fl.parent,Ku.push(Fl);for(var _h=Ku.length;Gl!==Iu;)Ku.splice(_h,0,Gl),Gl=Gl.parent;return Ku}function gw(Et){for(var Fl=[],Gl=Et.parent;Gl!=null;)Fl.push(Et),Et=Gl,Gl=Gl.parent;return Fl.push(Et),Fl}function t6(Et,Fl){if(Et===Fl)return Et;for(var Gl=gw(Et),Iu=gw(Fl),Ku=Gl.pop(),_h=Iu.pop(),_p=null;Ku===_h;)_p=Ku,Ku=Gl.pop(),_h=Iu.pop();return _p}jt.layout.chord=function(){var Et={},Fl,Gl,Iu,Ku,_h=0,_p,xp,Ip;function Kp(){var _0={},T0=[],em=jt.range(Ku),hm=[],F0,X0,Q0,lm,cm;for(Fl=[],Gl=[],F0=0,lm=-1;++lm<Ku;){for(X0=0,cm=-1;++cm<Ku;)X0+=Iu[lm][cm];T0.push(X0),hm.push(jt.range(Ku)),F0+=X0}for(_p&&em.sort(function(vv,H1){return _p(T0[vv],T0[H1])}),xp&&hm.forEach(function(vv,H1){vv.sort(function(uv,Yv){return xp(Iu[H1][uv],Iu[H1][Yv])})}),F0=(yp-_h*Ku)/F0,X0=0,lm=-1;++lm<Ku;){for(Q0=X0,cm=-1;++cm<Ku;){var _g=em[lm],qm=hm[_g][cm],b1=Iu[_g][qm],_1=X0,C1=X0+=b1*F0;_0[_g+"-"+qm]={index:_g,subindex:qm,startAngle:_1,endAngle:C1,value:b1}}Gl[_g]={index:_g,startAngle:Q0,endAngle:X0,value:T0[_g]},X0+=_h}for(lm=-1;++lm<Ku;)for(cm=lm-1;++cm<Ku;){var I1=_0[lm+"-"+cm],O1=_0[cm+"-"+lm];(I1.value||O1.value)&&Fl.push(I1.value<O1.value?{source:O1,target:I1}:{source:I1,target:O1})}Ip&&Zp()}function Zp(){Fl.sort(function(_0,T0){return Ip((_0.source.value+_0.target.value)/2,(T0.source.value+T0.target.value)/2)})}return Et.matrix=function(_0){return arguments.length?(Ku=(Iu=_0)&&Iu.length,Fl=Gl=null,Et):Iu},Et.padding=function(_0){return arguments.length?(_h=_0,Fl=Gl=null,Et):_h},Et.sortGroups=function(_0){return arguments.length?(_p=_0,Fl=Gl=null,Et):_p},Et.sortSubgroups=function(_0){return arguments.length?(xp=_0,Fl=null,Et):xp},Et.sortChords=function(_0){return arguments.length?(Ip=_0,Fl&&Zp(),Et):Ip},Et.chords=function(){return Fl||Kp(),Fl},Et.groups=function(){return Gl||Kp(),Gl},Et},jt.layout.force=function(){var Et={},Fl=jt.dispatch("start","tick","end"),Gl,Iu=[1,1],Ku,_h,_p=.9,xp=a6,Ip=s6,Kp=-30,Zp=l6,_0=.1,T0=.64,em=[],hm=[],F0,X0,Q0;function lm(_g){return function(qm,b1,_1,C1){if(qm.point!==_g){var I1=qm.cx-_g.x,O1=qm.cy-_g.y,vv=C1-b1,H1=I1*I1+O1*O1;if(vv*vv/T0<H1){if(H1<Zp){var uv=qm.charge/H1;_g.px-=I1*uv,_g.py-=O1*uv}return!0}if(qm.point&&H1&&H1<Zp){var uv=qm.pointCharge/H1;_g.px-=I1*uv,_g.py-=O1*uv}}return!qm.charge}}Et.tick=function(){if((_h*=.99)<.005)return Gl=null,Fl.end({type:"end",alpha:_h=0}),!0;var _g=em.length,qm=hm.length,b1,_1,C1,I1,O1,vv,H1,uv,Yv;for(_1=0;_1<qm;++_1)C1=hm[_1],I1=C1.source,O1=C1.target,uv=O1.x-I1.x,Yv=O1.y-I1.y,(vv=uv*uv+Yv*Yv)&&(vv=_h*X0[_1]*((vv=Math.sqrt(vv))-F0[_1])/vv,uv*=vv,Yv*=vv,O1.x-=uv*(H1=I1.weight+O1.weight?I1.weight/(I1.weight+O1.weight):.5),O1.y-=Yv*H1,I1.x+=uv*(H1=1-H1),I1.y+=Yv*H1);if((H1=_h*_0)&&(uv=Iu[0]/2,Yv=Iu[1]/2,_1=-1,H1))for(;++_1<_g;)C1=em[_1],C1.x+=(uv-C1.x)*H1,C1.y+=(Yv-C1.y)*H1;if(Kp)for(mw(b1=jt.geom.quadtree(em),_h,Q0),_1=-1;++_1<_g;)(C1=em[_1]).fixed||b1.visit(lm(C1));for(_1=-1;++_1<_g;)C1=em[_1],C1.fixed?(C1.x=C1.px,C1.y=C1.py):(C1.x-=(C1.px-(C1.px=C1.x))*_p,C1.y-=(C1.py-(C1.py=C1.y))*_p);Fl.tick({type:"tick",alpha:_h})},Et.nodes=function(_g){return arguments.length?(em=_g,Et):em},Et.links=function(_g){return arguments.length?(hm=_g,Et):hm},Et.size=function(_g){return arguments.length?(Iu=_g,Et):Iu},Et.linkDistance=function(_g){return arguments.length?(xp=typeof _g=="function"?_g:+_g,Et):xp},Et.distance=Et.linkDistance,Et.linkStrength=function(_g){return arguments.length?(Ip=typeof _g=="function"?_g:+_g,Et):Ip},Et.friction=function(_g){return arguments.length?(_p=+_g,Et):_p},Et.charge=function(_g){return arguments.length?(Kp=typeof _g=="function"?_g:+_g,Et):Kp},Et.chargeDistance=function(_g){return arguments.length?(Zp=_g*_g,Et):Math.sqrt(Zp)},Et.gravity=function(_g){return arguments.length?(_0=+_g,Et):_0},Et.theta=function(_g){return arguments.length?(T0=_g*_g,Et):Math.sqrt(T0)},Et.alpha=function(_g){return arguments.length?(_g=+_g,_h?_g>0?_h=_g:(Gl.c=null,Gl.t=NaN,Gl=null,Fl.end({type:"end",alpha:_h=0})):_g>0&&(Fl.start({type:"start",alpha:_h=_g}),Gl=R1(Et.tick)),Et):_h},Et.start=function(){var _g,qm=em.length,b1=hm.length,_1=Iu[0],C1=Iu[1],I1,O1;for(_g=0;_g<qm;++_g)(O1=em[_g]).index=_g,O1.weight=0;for(_g=0;_g<b1;++_g)O1=hm[_g],typeof O1.source=="number"&&(O1.source=em[O1.source]),typeof O1.target=="number"&&(O1.target=em[O1.target]),++O1.source.weight,++O1.target.weight;for(_g=0;_g<qm;++_g)O1=em[_g],isNaN(O1.x)&&(O1.x=vv("x",_1)),isNaN(O1.y)&&(O1.y=vv("y",C1)),isNaN(O1.px)&&(O1.px=O1.x),isNaN(O1.py)&&(O1.py=O1.y);if(F0=[],typeof xp=="function")for(_g=0;_g<b1;++_g)F0[_g]=+xp.call(this,hm[_g],_g);else for(_g=0;_g<b1;++_g)F0[_g]=xp;if(X0=[],typeof Ip=="function")for(_g=0;_g<b1;++_g)X0[_g]=+Ip.call(this,hm[_g],_g);else for(_g=0;_g<b1;++_g)X0[_g]=Ip;if(Q0=[],typeof Kp=="function")for(_g=0;_g<qm;++_g)Q0[_g]=+Kp.call(this,em[_g],_g);else for(_g=0;_g<qm;++_g)Q0[_g]=Kp;function vv(H1,uv){if(!I1){for(I1=new Array(qm),cy=0;cy<qm;++cy)I1[cy]=[];for(cy=0;cy<b1;++cy){var Yv=hm[cy];I1[Yv.source.index].push(Yv.target),I1[Yv.target.index].push(Yv.source)}}for(var Xy=I1[_g],cy=-1,v1=Xy.length,yv;++cy<v1;)if(!isNaN(yv=Xy[cy][H1]))return yv;return Math.random()*uv}return Et.resume()},Et.resume=function(){return Et.alpha(.1)},Et.stop=function(){return Et.alpha(0)},Et.drag=function(){if(Ku||(Ku=jt.behavior.drag().origin(Hu).on("dragstart.force",r6).on("drag.force",cm).on("dragend.force",n6)),!arguments.length)return Ku;this.on("mouseover.force",i6).on("mouseout.force",o6).call(Ku)};function cm(_g){_g.px=jt.event.x,_g.py=jt.event.y,Et.resume()}return jt.rebind(Et,Fl,"on")};function r6(Et){Et.fixed|=2}function n6(Et){Et.fixed&=-7}function i6(Et){Et.fixed|=4,Et.px=Et.x,Et.py=Et.y}function o6(Et){Et.fixed&=-5}function mw(Et,Fl,Gl){var Iu=0,Ku=0;if(Et.charge=0,!Et.leaf)for(var _h=Et.nodes,_p=_h.length,xp=-1,Ip;++xp<_p;)Ip=_h[xp],Ip!=null&&(mw(Ip,Fl,Gl),Et.charge+=Ip.charge,Iu+=Ip.charge*Ip.cx,Ku+=Ip.charge*Ip.cy);if(Et.point){Et.leaf||(Et.point.x+=Math.random()-.5,Et.point.y+=Math.random()-.5);var Kp=Fl*Gl[Et.point.index];Et.charge+=Et.pointCharge=Kp,Iu+=Kp*Et.point.x,Ku+=Kp*Et.point.y}Et.cx=Iu/Et.charge,Et.cy=Ku/Et.charge}var a6=20,s6=1,l6=1/0;jt.layout.hierarchy=function(){var Et=d6,Fl=u6,Gl=c6;function Iu(Ku){var _h=[Ku],_p=[],xp;for(Ku.depth=0;(xp=_h.pop())!=null;)if(_p.push(xp),(Kp=Fl.call(Iu,xp,xp.depth))&&(Ip=Kp.length)){for(var Ip,Kp,Zp;--Ip>=0;)_h.push(Zp=Kp[Ip]),Zp.parent=xp,Zp.depth=xp.depth+1;Gl&&(xp.value=0),xp.children=Kp}else Gl&&(xp.value=+Gl.call(Iu,xp,xp.depth)||0),delete xp.children;return X2(Ku,function(_0){var T0,em;Et&&(T0=_0.children)&&T0.sort(Et),Gl&&(em=_0.parent)&&(em.value+=_0.value)}),_p}return Iu.sort=function(Ku){return arguments.length?(Et=Ku,Iu):Et},Iu.children=function(Ku){return arguments.length?(Fl=Ku,Iu):Fl},Iu.value=function(Ku){return arguments.length?(Gl=Ku,Iu):Gl},Iu.revalue=function(Ku){return Gl&&(b3(Ku,function(_h){_h.children&&(_h.value=0)}),X2(Ku,function(_h){var _p;_h.children||(_h.value=+Gl.call(Iu,_h,_h.depth)||0),(_p=_h.parent)&&(_p.value+=_h.value)})),Ku},Iu};function x3(Et,Fl){return jt.rebind(Et,Fl,"sort","children","value"),Et.nodes=Et,Et.links=h6,Et}function b3(Et,Fl){for(var Gl=[Et];(Et=Gl.pop())!=null;)if(Fl(Et),(Ku=Et.children)&&(Iu=Ku.length))for(var Iu,Ku;--Iu>=0;)Gl.push(Ku[Iu])}function X2(Et,Fl){for(var Gl=[Et],Iu=[];(Et=Gl.pop())!=null;)if(Iu.push(Et),(_p=Et.children)&&(_h=_p.length))for(var Ku=-1,_h,_p;++Ku<_h;)Gl.push(_p[Ku]);for(;(Et=Iu.pop())!=null;)Fl(Et)}function u6(Et){return Et.children}function c6(Et){return Et.value}function d6(Et,Fl){return Fl.value-Et.value}function h6(Et){return jt.merge(Et.map(function(Fl){return(Fl.children||[]).map(function(Gl){return{source:Fl,target:Gl}})}))}jt.layout.partition=function(){var Et=jt.layout.hierarchy(),Fl=[1,1];function Gl(_h,_p,xp,Ip){var Kp=_h.children;if(_h.x=_p,_h.y=_h.depth*Ip,_h.dx=xp,_h.dy=Ip,Kp&&(_0=Kp.length)){var Zp=-1,_0,T0,em;for(xp=_h.value?xp/_h.value:0;++Zp<_0;)Gl(T0=Kp[Zp],_p,em=T0.value*xp,Ip),_p+=em}}function Iu(_h){var _p=_h.children,xp=0;if(_p&&(Kp=_p.length))for(var Ip=-1,Kp;++Ip<Kp;)xp=Math.max(xp,Iu(_p[Ip]));return 1+xp}function Ku(_h,_p){var xp=Et.call(this,_h,_p);return Gl(xp[0],0,Fl[0],Fl[1]/Iu(xp[0])),xp}return Ku.size=function(_h){return arguments.length?(Fl=_h,Ku):Fl},x3(Ku,Et)},jt.layout.pie=function(){var Et=Number,Fl=vw,Gl=0,Iu=yp,Ku=0;function _h(_p){var xp=_p.length,Ip=_p.map(function(lm,cm){return+Et.call(_h,lm,cm)}),Kp=+(typeof Gl=="function"?Gl.apply(this,arguments):Gl),Zp=(typeof Iu=="function"?Iu.apply(this,arguments):Iu)-Kp,_0=Math.min(Math.abs(Zp)/xp,+(typeof Ku=="function"?Ku.apply(this,arguments):Ku)),T0=_0*(Zp<0?-1:1),em=jt.sum(Ip),hm=em?(Zp-xp*T0)/em:0,F0=jt.range(xp),X0=[],Q0;return Fl!=null&&F0.sort(Fl===vw?function(lm,cm){return Ip[cm]-Ip[lm]}:function(lm,cm){return Fl(_p[lm],_p[cm])}),F0.forEach(function(lm){X0[lm]={data:_p[lm],value:Q0=Ip[lm],startAngle:Kp,endAngle:Kp+=Q0*hm+T0,padAngle:_0}}),X0}return _h.value=function(_p){return arguments.length?(Et=_p,_h):Et},_h.sort=function(_p){return arguments.length?(Fl=_p,_h):Fl},_h.startAngle=function(_p){return arguments.length?(Gl=_p,_h):Gl},_h.endAngle=function(_p){return arguments.length?(Iu=_p,_h):Iu},_h.padAngle=function(_p){return arguments.length?(Ku=_p,_h):Ku},_h};var vw={};jt.layout.stack=function(){var Et=Hu,Fl=ax,Gl=sx,Iu=g6,Ku=p6,_h=f6;function _p(xp,Ip){if(!(hm=xp.length))return xp;var Kp=xp.map(function(lm,cm){return Et.call(_p,lm,cm)}),Zp=Kp.map(function(lm){return lm.map(function(cm,_g){return[Ku.call(_p,cm,_g),_h.call(_p,cm,_g)]})}),_0=Fl.call(_p,Zp,Ip);Kp=jt.permute(Kp,_0),Zp=jt.permute(Zp,_0);var T0=Gl.call(_p,Zp,Ip),em=Kp[0].length,hm,F0,X0,Q0;for(X0=0;X0<em;++X0)for(Iu.call(_p,Kp[0][X0],Q0=T0[X0],Zp[0][X0][1]),F0=1;F0<hm;++F0)Iu.call(_p,Kp[F0][X0],Q0+=Zp[F0-1][X0][1],Zp[F0][X0][1]);return xp}return _p.values=function(xp){return arguments.length?(Et=xp,_p):Et},_p.order=function(xp){return arguments.length?(Fl=typeof xp=="function"?xp:m6.get(xp)||ax,_p):Fl},_p.offset=function(xp){return arguments.length?(Gl=typeof xp=="function"?xp:v6.get(xp)||sx,_p):Gl},_p.x=function(xp){return arguments.length?(Ku=xp,_p):Ku},_p.y=function(xp){return arguments.length?(_h=xp,_p):_h},_p.out=function(xp){return arguments.length?(Iu=xp,_p):Iu},_p};function p6(Et){return Et.x}function f6(Et){return Et.y}function g6(Et,Fl,Gl){Et.y0=Fl,Et.y=Gl}var m6=jt.map({"inside-out":function(Et){var Fl=Et.length,Gl,Iu,Ku=Et.map(y6),_h=Et.map(x6),_p=jt.range(Fl).sort(function(_0,T0){return Ku[_0]-Ku[T0]}),xp=0,Ip=0,Kp=[],Zp=[];for(Gl=0;Gl<Fl;++Gl)Iu=_p[Gl],xp<Ip?(xp+=_h[Iu],Kp.push(Iu)):(Ip+=_h[Iu],Zp.push(Iu));return Zp.reverse().concat(Kp)},reverse:function(Et){return jt.range(Et.length).reverse()},default:ax}),v6=jt.map({silhouette:function(Et){var Fl=Et.length,Gl=Et[0].length,Iu=[],Ku=0,_h,_p,xp,Ip=[];for(_p=0;_p<Gl;++_p){for(_h=0,xp=0;_h<Fl;_h++)xp+=Et[_h][_p][1];xp>Ku&&(Ku=xp),Iu.push(xp)}for(_p=0;_p<Gl;++_p)Ip[_p]=(Ku-Iu[_p])/2;return Ip},wiggle:function(Et){var Fl=Et.length,Gl=Et[0],Iu=Gl.length,Ku,_h,_p,xp,Ip,Kp,Zp,_0,T0,em=[];for(em[0]=_0=T0=0,_h=1;_h<Iu;++_h){for(Ku=0,xp=0;Ku<Fl;++Ku)xp+=Et[Ku][_h][1];for(Ku=0,Ip=0,Zp=Gl[_h][0]-Gl[_h-1][0];Ku<Fl;++Ku){for(_p=0,Kp=(Et[Ku][_h][1]-Et[Ku][_h-1][1])/(2*Zp);_p<Ku;++_p)Kp+=(Et[_p][_h][1]-Et[_p][_h-1][1])/Zp;Ip+=Kp*Et[Ku][_h][1]}em[_h]=_0-=xp?Ip/xp*Zp:0,_0<T0&&(T0=_0)}for(_h=0;_h<Iu;++_h)em[_h]-=T0;return em},expand:function(Et){var Fl=Et.length,Gl=Et[0].length,Iu=1/Fl,Ku,_h,_p,xp=[];for(_h=0;_h<Gl;++_h){for(Ku=0,_p=0;Ku<Fl;Ku++)_p+=Et[Ku][_h][1];if(_p)for(Ku=0;Ku<Fl;Ku++)Et[Ku][_h][1]/=_p;else for(Ku=0;Ku<Fl;Ku++)Et[Ku][_h][1]=Iu}for(_h=0;_h<Gl;++_h)xp[_h]=0;return xp},zero:sx});function ax(Et){return jt.range(Et.length)}function sx(Et){for(var Fl=-1,Gl=Et[0].length,Iu=[];++Fl<Gl;)Iu[Fl]=0;return Iu}function y6(Et){for(var Fl=1,Gl=0,Iu=Et[0][1],Ku,_h=Et.length;Fl<_h;++Fl)(Ku=Et[Fl][1])>Iu&&(Gl=Fl,Iu=Ku);return Gl}function x6(Et){return Et.reduce(b6,0)}function b6(Et,Fl){return Et+Fl[1]}jt.layout.histogram=function(){var Et=!0,Fl=Number,Gl=C6,Iu=w6;function Ku(_h,_p){for(var xp=[],Ip=_h.map(Fl,this),Kp=Gl.call(this,Ip,_p),Zp=Iu.call(this,Kp,Ip,_p),_0,_p=-1,T0=Ip.length,em=Zp.length-1,hm=Et?1:1/T0,F0;++_p<em;)_0=xp[_p]=[],_0.dx=Zp[_p+1]-(_0.x=Zp[_p]),_0.y=0;if(em>0)for(_p=-1;++_p<T0;)F0=Ip[_p],F0>=Kp[0]&&F0<=Kp[1]&&(_0=xp[jt.bisect(Zp,F0,1,em)-1],_0.y+=hm,_0.push(_h[_p]));return xp}return Ku.value=function(_h){return arguments.length?(Fl=_h,Ku):Fl},Ku.range=function(_h){return arguments.length?(Gl=M0(_h),Ku):Gl},Ku.bins=function(_h){return arguments.length?(Iu=typeof _h=="number"?function(_p){return yw(_p,_h)}:M0(_h),Ku):Iu},Ku.frequency=function(_h){return arguments.length?(Et=!!_h,Ku):Et},Ku};function w6(Et,Fl){return yw(Et,Math.ceil(Math.log(Fl.length)/Math.LN2+1))}function yw(Et,Fl){for(var Gl=-1,Iu=+Et[0],Ku=(Et[1]-Iu)/Fl,_h=[];++Gl<=Fl;)_h[Gl]=Ku*Gl+Iu;return _h}function C6(Et){return[jt.min(Et),jt.max(Et)]}jt.layout.pack=function(){var Et=jt.layout.hierarchy().sort(S6),Fl=0,Gl=[1,1],Iu;function Ku(_h,_p){var xp=Et.call(this,_h,_p),Ip=xp[0],Kp=Gl[0],Zp=Gl[1],_0=Iu==null?Math.sqrt:typeof Iu=="function"?Iu:function(){return Iu};if(Ip.x=Ip.y=0,X2(Ip,function(em){em.r=+_0(em.value)}),X2(Ip,ww),Fl){var T0=Fl*(Iu?1:Math.max(2*Ip.r/Kp,2*Ip.r/Zp))/2;X2(Ip,function(em){em.r+=T0}),X2(Ip,ww),X2(Ip,function(em){em.r-=T0})}return Cw(Ip,Kp/2,Zp/2,Iu?1:1/Math.max(2*Ip.r/Kp,2*Ip.r/Zp)),xp}return Ku.size=function(_h){return arguments.length?(Gl=_h,Ku):Gl},Ku.radius=function(_h){return arguments.length?(Iu=_h==null||typeof _h=="function"?_h:+_h,Ku):Iu},Ku.padding=function(_h){return arguments.length?(Fl=+_h,Ku):Fl},x3(Ku,Et)};function S6(Et,Fl){return Et.value-Fl.value}function lx(Et,Fl){var Gl=Et._pack_next;Et._pack_next=Fl,Fl._pack_prev=Et,Fl._pack_next=Gl,Gl._pack_prev=Fl}function xw(Et,Fl){Et._pack_next=Fl,Fl._pack_prev=Et}function bw(Et,Fl){var Gl=Fl.x-Et.x,Iu=Fl.y-Et.y,Ku=Et.r+Fl.r;return .999*Ku*Ku>Gl*Gl+Iu*Iu}function ww(Et){if(!(Fl=Et.children)||!(T0=Fl.length))return;var Fl,Gl=1/0,Iu=-1/0,Ku=1/0,_h=-1/0,_p,xp,Ip,Kp,Zp,_0,T0;function em(_g){Gl=Math.min(_g.x-_g.r,Gl),Iu=Math.max(_g.x+_g.r,Iu),Ku=Math.min(_g.y-_g.r,Ku),_h=Math.max(_g.y+_g.r,_h)}if(Fl.forEach(_6),_p=Fl[0],_p.x=-_p.r,_p.y=0,em(_p),T0>1&&(xp=Fl[1],xp.x=xp.r,xp.y=0,em(xp),T0>2))for(Ip=Fl[2],Sw(_p,xp,Ip),em(Ip),lx(_p,Ip),_p._pack_prev=Ip,lx(Ip,xp),xp=_p._pack_next,Kp=3;Kp<T0;Kp++){Sw(_p,xp,Ip=Fl[Kp]);var hm=0,F0=1,X0=1;for(Zp=xp._pack_next;Zp!==xp;Zp=Zp._pack_next,F0++)if(bw(Zp,Ip)){hm=1;break}if(hm==1)for(_0=_p._pack_prev;_0!==Zp._pack_prev&&!bw(_0,Ip);_0=_0._pack_prev,X0++);hm?(F0<X0||F0==X0&&xp.r<_p.r?xw(_p,xp=Zp):xw(_p=_0,xp),Kp--):(lx(_p,Ip),xp=Ip,em(Ip))}var Q0=(Gl+Iu)/2,lm=(Ku+_h)/2,cm=0;for(Kp=0;Kp<T0;Kp++)Ip=Fl[Kp],Ip.x-=Q0,Ip.y-=lm,cm=Math.max(cm,Ip.r+Math.sqrt(Ip.x*Ip.x+Ip.y*Ip.y));Et.r=cm,Fl.forEach(k6)}function _6(Et){Et._pack_next=Et._pack_prev=Et}function k6(Et){delete Et._pack_next,delete Et._pack_prev}function Cw(Et,Fl,Gl,Iu){var Ku=Et.children;if(Et.x=Fl+=Iu*Et.x,Et.y=Gl+=Iu*Et.y,Et.r*=Iu,Ku)for(var _h=-1,_p=Ku.length;++_h<_p;)Cw(Ku[_h],Fl,Gl,Iu)}function Sw(Et,Fl,Gl){var Iu=Et.r+Gl.r,Ku=Fl.x-Et.x,_h=Fl.y-Et.y;if(Iu&&(Ku||_h)){var _p=Fl.r+Gl.r,xp=Ku*Ku+_h*_h;_p*=_p,Iu*=Iu;var Ip=.5+(Iu-_p)/(2*xp),Kp=Math.sqrt(Math.max(0,2*_p*(Iu+xp)-(Iu-=xp)*Iu-_p*_p))/(2*xp);Gl.x=Et.x+Ip*Ku+Kp*_h,Gl.y=Et.y+Ip*_h-Kp*Ku}else Gl.x=Et.x+Iu,Gl.y=Et.y}jt.layout.tree=function(){var Et=jt.layout.hierarchy().sort(null).value(null),Fl=_w,Gl=[1,1],Iu=null;function Ku(Zp,_0){var T0=Et.call(this,Zp,_0),em=T0[0],hm=_h(em);if(X2(hm,_p),hm.parent.m=-hm.z,b3(hm,xp),Iu)b3(em,Kp);else{var F0=em,X0=em,Q0=em;b3(em,function(qm){qm.x<F0.x&&(F0=qm),qm.x>X0.x&&(X0=qm),qm.depth>Q0.depth&&(Q0=qm)});var lm=Fl(F0,X0)/2-F0.x,cm=Gl[0]/(X0.x+Fl(X0,F0)/2+lm),_g=Gl[1]/(Q0.depth||1);b3(em,function(qm){qm.x=(qm.x+lm)*cm,qm.y=qm.depth*_g})}return T0}function _h(Zp){for(var _0={A:null,children:[Zp]},T0=[_0],em;(em=T0.pop())!=null;)for(var hm=em.children,F0,X0=0,Q0=hm.length;X0<Q0;++X0)T0.push((hm[X0]=F0={_:hm[X0],parent:em,children:(F0=hm[X0].children)&&F0.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:X0}).a=F0);return _0.children[0]}function _p(Zp){var _0=Zp.children,T0=Zp.parent.children,em=Zp.i?T0[Zp.i-1]:null;if(_0.length){M6(Zp);var hm=(_0[0].z+_0[_0.length-1].z)/2;em?(Zp.z=em.z+Fl(Zp._,em._),Zp.m=Zp.z-hm):Zp.z=hm}else em&&(Zp.z=em.z+Fl(Zp._,em._));Zp.parent.A=Ip(Zp,em,Zp.parent.A||T0[0])}function xp(Zp){Zp._.x=Zp.z+Zp.parent.m,Zp.m+=Zp.parent.m}function Ip(Zp,_0,T0){if(_0){for(var em=Zp,hm=Zp,F0=_0,X0=em.parent.children[0],Q0=em.m,lm=hm.m,cm=F0.m,_g=X0.m,qm;F0=cx(F0),em=ux(em),F0&&em;)X0=ux(X0),hm=cx(hm),hm.a=Zp,qm=F0.z+cm-em.z-Q0+Fl(F0._,em._),qm>0&&(E6(A6(F0,Zp,T0),Zp,qm),Q0+=qm,lm+=qm),cm+=F0.m,Q0+=em.m,_g+=X0.m,lm+=hm.m;F0&&!cx(hm)&&(hm.t=F0,hm.m+=cm-lm),em&&!ux(X0)&&(X0.t=em,X0.m+=Q0-_g,T0=Zp)}return T0}function Kp(Zp){Zp.x*=Gl[0],Zp.y=Zp.depth*Gl[1]}return Ku.separation=function(Zp){return arguments.length?(Fl=Zp,Ku):Fl},Ku.size=function(Zp){return arguments.length?(Iu=(Gl=Zp)==null?Kp:null,Ku):Iu?null:Gl},Ku.nodeSize=function(Zp){return arguments.length?(Iu=(Gl=Zp)==null?null:Kp,Ku):Iu?Gl:null},x3(Ku,Et)};function _w(Et,Fl){return Et.parent==Fl.parent?1:2}function ux(Et){var Fl=Et.children;return Fl.length?Fl[0]:Et.t}function cx(Et){var Fl=Et.children,Gl;return(Gl=Fl.length)?Fl[Gl-1]:Et.t}function E6(Et,Fl,Gl){var Iu=Gl/(Fl.i-Et.i);Fl.c-=Iu,Fl.s+=Gl,Et.c+=Iu,Fl.z+=Gl,Fl.m+=Gl}function M6(Et){for(var Fl=0,Gl=0,Iu=Et.children,Ku=Iu.length,_h;--Ku>=0;)_h=Iu[Ku],_h.z+=Fl,_h.m+=Fl,Fl+=_h.s+(Gl+=_h.c)}function A6(Et,Fl,Gl){return Et.a.parent===Fl.parent?Et.a:Gl}jt.layout.cluster=function(){var Et=jt.layout.hierarchy().sort(null).value(null),Fl=_w,Gl=[1,1],Iu=!1;function Ku(_h,_p){var xp=Et.call(this,_h,_p),Ip=xp[0],Kp,Zp=0;X2(Ip,function(F0){var X0=F0.children;X0&&X0.length?(F0.x=R6(X0),F0.y=T6(X0)):(F0.x=Kp?Zp+=Fl(F0,Kp):0,F0.y=0,Kp=F0)});var _0=kw(Ip),T0=Ew(Ip),em=_0.x-Fl(_0,T0)/2,hm=T0.x+Fl(T0,_0)/2;return X2(Ip,Iu?function(F0){F0.x=(F0.x-Ip.x)*Gl[0],F0.y=(Ip.y-F0.y)*Gl[1]}:function(F0){F0.x=(F0.x-em)/(hm-em)*Gl[0],F0.y=(1-(Ip.y?F0.y/Ip.y:1))*Gl[1]}),xp}return Ku.separation=function(_h){return arguments.length?(Fl=_h,Ku):Fl},Ku.size=function(_h){return arguments.length?(Iu=(Gl=_h)==null,Ku):Iu?null:Gl},Ku.nodeSize=function(_h){return arguments.length?(Iu=(Gl=_h)!=null,Ku):Iu?Gl:null},x3(Ku,Et)};function T6(Et){return 1+jt.max(Et,function(Fl){return Fl.y})}function R6(Et){return Et.reduce(function(Fl,Gl){return Fl+Gl.x},0)/Et.length}function kw(Et){var Fl=Et.children;return Fl&&Fl.length?kw(Fl[0]):Et}function Ew(Et){var Fl=Et.children,Gl;return Fl&&(Gl=Fl.length)?Ew(Fl[Gl-1]):Et}jt.layout.treemap=function(){var Et=jt.layout.hierarchy(),Fl=Math.round,Gl=[1,1],Iu=null,Ku=dx,_h=!1,_p,xp="squarify",Ip=.5*(1+Math.sqrt(5));function Kp(F0,X0){for(var Q0=-1,lm=F0.length,cm,_g;++Q0<lm;)_g=(cm=F0[Q0]).value*(X0<0?0:X0),cm.area=isNaN(_g)||_g<=0?0:_g}function Zp(F0){var X0=F0.children;if(X0&&X0.length){var Q0=Ku(F0),lm=[],cm=X0.slice(),_g,qm=1/0,b1,_1=xp==="slice"?Q0.dx:xp==="dice"?Q0.dy:xp==="slice-dice"?F0.depth&1?Q0.dy:Q0.dx:Math.min(Q0.dx,Q0.dy),C1;for(Kp(cm,Q0.dx*Q0.dy/F0.value),lm.area=0;(C1=cm.length)>0;)lm.push(_g=cm[C1-1]),lm.area+=_g.area,xp!=="squarify"||(b1=T0(lm,_1))<=qm?(cm.pop(),qm=b1):(lm.area-=lm.pop().area,em(lm,_1,Q0,!1),_1=Math.min(Q0.dx,Q0.dy),lm.length=lm.area=0,qm=1/0);lm.length&&(em(lm,_1,Q0,!0),lm.length=lm.area=0),X0.forEach(Zp)}}function _0(F0){var X0=F0.children;if(X0&&X0.length){var Q0=Ku(F0),lm=X0.slice(),cm,_g=[];for(Kp(lm,Q0.dx*Q0.dy/F0.value),_g.area=0;cm=lm.pop();)_g.push(cm),_g.area+=cm.area,cm.z!=null&&(em(_g,cm.z?Q0.dx:Q0.dy,Q0,!lm.length),_g.length=_g.area=0);X0.forEach(_0)}}function T0(F0,X0){for(var Q0=F0.area,lm,cm=0,_g=1/0,qm=-1,b1=F0.length;++qm<b1;)(lm=F0[qm].area)&&(lm<_g&&(_g=lm),lm>cm&&(cm=lm));return Q0*=Q0,X0*=X0,Q0?Math.max(X0*cm*Ip/Q0,Q0/(X0*_g*Ip)):1/0}function em(F0,X0,Q0,lm){var cm=-1,_g=F0.length,qm=Q0.x,b1=Q0.y,_1=X0?Fl(F0.area/X0):0,C1;if(X0==Q0.dx){for((lm||_1>Q0.dy)&&(_1=Q0.dy);++cm<_g;)C1=F0[cm],C1.x=qm,C1.y=b1,C1.dy=_1,qm+=C1.dx=Math.min(Q0.x+Q0.dx-qm,_1?Fl(C1.area/_1):0);C1.z=!0,C1.dx+=Q0.x+Q0.dx-qm,Q0.y+=_1,Q0.dy-=_1}else{for((lm||_1>Q0.dx)&&(_1=Q0.dx);++cm<_g;)C1=F0[cm],C1.x=qm,C1.y=b1,C1.dx=_1,b1+=C1.dy=Math.min(Q0.y+Q0.dy-b1,_1?Fl(C1.area/_1):0);C1.z=!1,C1.dy+=Q0.y+Q0.dy-b1,Q0.x+=_1,Q0.dx-=_1}}function hm(F0){var X0=_p||Et(F0),Q0=X0[0];return Q0.x=Q0.y=0,Q0.value?(Q0.dx=Gl[0],Q0.dy=Gl[1]):Q0.dx=Q0.dy=0,_p&&Et.revalue(Q0),Kp([Q0],Q0.dx*Q0.dy/Q0.value),(_p?_0:Zp)(Q0),_h&&(_p=X0),X0}return hm.size=function(F0){return arguments.length?(Gl=F0,hm):Gl},hm.padding=function(F0){if(!arguments.length)return Iu;function X0(cm){var _g=F0.call(hm,cm,cm.depth);return _g==null?dx(cm):Mw(cm,typeof _g=="number"?[_g,_g,_g,_g]:_g)}function Q0(cm){return Mw(cm,F0)}var lm;return Ku=(Iu=F0)==null?dx:(lm=typeof F0)=="function"?X0:(lm==="number"&&(F0=[F0,F0,F0,F0]),Q0),hm},hm.round=function(F0){return arguments.length?(Fl=F0?Math.round:Number,hm):Fl!=Number},hm.sticky=function(F0){return arguments.length?(_h=F0,_p=null,hm):_h},hm.ratio=function(F0){return arguments.length?(Ip=F0,hm):Ip},hm.mode=function(F0){return arguments.length?(xp=F0+"",hm):xp},x3(hm,Et)};function dx(Et){return{x:Et.x,y:Et.y,dx:Et.dx,dy:Et.dy}}function Mw(Et,Fl){var Gl=Et.x+Fl[3],Iu=Et.y+Fl[0],Ku=Et.dx-Fl[1]-Fl[3],_h=Et.dy-Fl[0]-Fl[2];return Ku<0&&(Gl+=Ku/2,Ku=0),_h<0&&(Iu+=_h/2,_h=0),{x:Gl,y:Iu,dx:Ku,dy:_h}}jt.random={normal:function(Et,Fl){var Gl=arguments.length;return Gl<2&&(Fl=1),Gl<1&&(Et=0),function(){var Iu,Ku,_h;do Iu=Math.random()*2-1,Ku=Math.random()*2-1,_h=Iu*Iu+Ku*Ku;while(!_h||_h>1);return Et+Fl*Iu*Math.sqrt(-2*Math.log(_h)/_h)}},logNormal:function(){var Et=jt.random.normal.apply(jt,arguments);return function(){return Math.exp(Et())}},bates:function(Et){var Fl=jt.random.irwinHall(Et);return function(){return Fl()/Et}},irwinHall:function(Et){return function(){for(var Fl=0,Gl=0;Gl<Et;Gl++)Fl+=Math.random();return Fl}}},jt.scale={};function P3(Et){var Fl=Et[0],Gl=Et[Et.length-1];return Fl<Gl?[Fl,Gl]:[Gl,Fl]}function D3(Et){return Et.rangeExtent?Et.rangeExtent():P3(Et.range())}function F6(Et,Fl,Gl,Iu){var Ku=Gl(Et[0],Et[1]),_h=Iu(Fl[0],Fl[1]);return function(_p){return _h(Ku(_p))}}function hx(Et,Fl){var Gl=0,Iu=Et.length-1,Ku=Et[Gl],_h=Et[Iu],_p;return _h<Ku&&(_p=Gl,Gl=Iu,Iu=_p,_p=Ku,Ku=_h,_h=_p),Et[Gl]=Fl.floor(Ku),Et[Iu]=Fl.ceil(_h),Et}function Aw(Et){return Et?{floor:function(Fl){return Math.floor(Fl/Et)*Et},ceil:function(Fl){return Math.ceil(Fl/Et)*Et}}:P6}var P6={floor:Hu,ceil:Hu};function D6(Et,Fl,Gl,Iu){var Ku=[],_h=[],_p=0,xp=Math.min(Et.length,Fl.length)-1;for(Et[xp]<Et[0]&&(Et=Et.slice().reverse(),Fl=Fl.slice().reverse());++_p<=xp;)Ku.push(Gl(Et[_p-1],Et[_p])),_h.push(Iu(Fl[_p-1],Fl[_p]));return function(Ip){var Kp=jt.bisect(Et,Ip,1,xp)-1;return _h[Kp](Ku[Kp](Ip))}}jt.scale.linear=function(){return Tw([0,1],[0,1],o3,!1)};function Tw(Et,Fl,Gl,Iu){var Ku,_h;function _p(){var Ip=Math.min(Et.length,Fl.length)>2?D6:F6,Kp=Iu?J4:Q4;return Ku=Ip(Et,Fl,Kp,Gl),_h=Ip(Fl,Et,Kp,o3),xp}function xp(Ip){return Ku(Ip)}return xp.invert=function(Ip){return _h(Ip)},xp.domain=function(Ip){return arguments.length?(Et=Ip.map(Number),_p()):Et},xp.range=function(Ip){return arguments.length?(Fl=Ip,_p()):Fl},xp.rangeRound=function(Ip){return xp.range(Ip).interpolate(cw)},xp.clamp=function(Ip){return arguments.length?(Iu=Ip,_p()):Iu},xp.interpolate=function(Ip){return arguments.length?(Gl=Ip,_p()):Gl},xp.ticks=function(Ip){return fx(Et,Ip)},xp.tickFormat=function(Ip,Kp){return d3_scale_linearTickFormat(Et,Ip,Kp)},xp.nice=function(Ip){return Fw(Et,Ip),_p()},xp.copy=function(){return Tw(Et,Fl,Gl,Iu)},_p()}function Rw(Et,Fl){return jt.rebind(Et,Fl,"range","rangeRound","interpolate","clamp")}function Fw(Et,Fl){return hx(Et,Aw(px(Et,Fl)[2])),hx(Et,Aw(px(Et,Fl)[2])),Et}function px(Et,Fl){Fl==null&&(Fl=10);var Gl=P3(Et),Iu=Gl[1]-Gl[0],Ku=Math.pow(10,Math.floor(Math.log(Iu/Fl)/Math.LN10)),_h=Fl/Iu*Ku;return _h<=.15?Ku*=10:_h<=.35?Ku*=5:_h<=.75&&(Ku*=2),Gl[0]=Math.ceil(Gl[0]/Ku)*Ku,Gl[1]=Math.floor(Gl[1]/Ku)*Ku+Ku*.5,Gl[2]=Ku,Gl}function fx(Et,Fl){return jt.range.apply(jt,px(Et,Fl))}jt.scale.log=function(){return Pw(jt.scale.linear().domain([0,1]),10,!0,[1,10])};function Pw(Et,Fl,Gl,Iu){function Ku(xp){return(Gl?Math.log(xp<0?0:xp):-Math.log(xp>0?0:-xp))/Math.log(Fl)}function _h(xp){return Gl?Math.pow(Fl,xp):-Math.pow(Fl,-xp)}function _p(xp){return Et(Ku(xp))}return _p.invert=function(xp){return _h(Et.invert(xp))},_p.domain=function(xp){return arguments.length?(Gl=xp[0]>=0,Et.domain((Iu=xp.map(Number)).map(Ku)),_p):Iu},_p.base=function(xp){return arguments.length?(Fl=+xp,Et.domain(Iu.map(Ku)),_p):Fl},_p.nice=function(){var xp=hx(Iu.map(Ku),Gl?Math:L6);return Et.domain(xp),Iu=xp.map(_h),_p},_p.ticks=function(){var xp=P3(Iu),Ip=[],Kp=xp[0],Zp=xp[1],_0=Math.floor(Ku(Kp)),T0=Math.ceil(Ku(Zp)),em=Fl%1?2:Fl;if(isFinite(T0-_0)){if(Gl){for(;_0<T0;_0++)for(var hm=1;hm<em;hm++)Ip.push(_h(_0)*hm);Ip.push(_h(_0))}else for(Ip.push(_h(_0));_0++<T0;)for(var hm=em-1;hm>0;hm--)Ip.push(_h(_0)*hm);for(_0=0;Ip[_0]<Kp;_0++);for(T0=Ip.length;Ip[T0-1]>Zp;T0--);Ip=Ip.slice(_0,T0)}return Ip},_p.copy=function(){return Pw(Et.copy(),Fl,Gl,Iu)},Rw(_p,Et)}var L6={floor:function(Et){return-Math.ceil(-Et)},ceil:function(Et){return-Math.floor(-Et)}};jt.scale.pow=function(){return Dw(jt.scale.linear(),1,[0,1])};function Dw(Et,Fl,Gl){var Iu=L3(Fl),Ku=L3(1/Fl);function _h(_p){return Et(Iu(_p))}return _h.invert=function(_p){return Ku(Et.invert(_p))},_h.domain=function(_p){return arguments.length?(Et.domain((Gl=_p.map(Number)).map(Iu)),_h):Gl},_h.ticks=function(_p){return fx(Gl,_p)},_h.tickFormat=function(_p,xp){return d3_scale_linearTickFormat(Gl,_p,xp)},_h.nice=function(_p){return _h.domain(Fw(Gl,_p))},_h.exponent=function(_p){return arguments.length?(Iu=L3(Fl=_p),Ku=L3(1/Fl),Et.domain(Gl.map(Iu)),_h):Fl},_h.copy=function(){return Dw(Et.copy(),Fl,Gl)},Rw(_h,Et)}function L3(Et){return function(Fl){return Fl<0?-Math.pow(-Fl,Et):Math.pow(Fl,Et)}}jt.scale.sqrt=function(){return jt.scale.pow().exponent(.5)},jt.scale.ordinal=function(){return Lw([],{t:"range",a:[[]]})};function Lw(Et,Fl){var Gl,Iu,Ku;function _h(xp){return Iu[((Gl.get(xp)||(Fl.t==="range"?Gl.set(xp,Et.push(xp)):NaN))-1)%Iu.length]}function _p(xp,Ip){return jt.range(Et.length).map(function(Kp){return xp+Ip*Kp})}return _h.domain=function(xp){if(!arguments.length)return Et;Et=[],Gl=new Il;for(var Ip=-1,Kp=xp.length,Zp;++Ip<Kp;)Gl.has(Zp=xp[Ip])||Gl.set(Zp,Et.push(Zp));return _h[Fl.t].apply(_h,Fl.a)},_h.range=function(xp){return arguments.length?(Iu=xp,Ku=0,Fl={t:"range",a:arguments},_h):Iu},_h.rangePoints=function(xp,Ip){arguments.length<2&&(Ip=0);var Kp=xp[0],Zp=xp[1],_0=Et.length<2?(Kp=(Kp+Zp)/2,0):(Zp-Kp)/(Et.length-1+Ip);return Iu=_p(Kp+_0*Ip/2,_0),Ku=0,Fl={t:"rangePoints",a:arguments},_h},_h.rangeRoundPoints=function(xp,Ip){arguments.length<2&&(Ip=0);var Kp=xp[0],Zp=xp[1],_0=Et.length<2?(Kp=Zp=Math.round((Kp+Zp)/2),0):(Zp-Kp)/(Et.length-1+Ip)|0;return Iu=_p(Kp+Math.round(_0*Ip/2+(Zp-Kp-(Et.length-1+Ip)*_0)/2),_0),Ku=0,Fl={t:"rangeRoundPoints",a:arguments},_h},_h.rangeBands=function(xp,Ip,Kp){arguments.length<2&&(Ip=0),arguments.length<3&&(Kp=Ip);var Zp=xp[1]<xp[0],_0=xp[Zp-0],T0=xp[1-Zp],em=(T0-_0)/(Et.length-Ip+2*Kp);return Iu=_p(_0+em*Kp,em),Zp&&Iu.reverse(),Ku=em*(1-Ip),Fl={t:"rangeBands",a:arguments},_h},_h.rangeRoundBands=function(xp,Ip,Kp){arguments.length<2&&(Ip=0),arguments.length<3&&(Kp=Ip);var Zp=xp[1]<xp[0],_0=xp[Zp-0],T0=xp[1-Zp],em=Math.floor((T0-_0)/(Et.length-Ip+2*Kp));return Iu=_p(_0+Math.round((T0-_0-(Et.length-Ip)*em)/2),em),Zp&&Iu.reverse(),Ku=Math.round(em*(1-Ip)),Fl={t:"rangeRoundBands",a:arguments},_h},_h.rangeBand=function(){return Ku},_h.rangeExtent=function(){return P3(Fl.a[0])},_h.copy=function(){return Lw(Et,Fl)},_h.domain(Et)}jt.scale.category10=function(){return jt.scale.ordinal().range(I6)},jt.scale.category20=function(){return jt.scale.ordinal().range(O6)},jt.scale.category20b=function(){return jt.scale.ordinal().range(z6)},jt.scale.category20c=function(){return jt.scale.ordinal().range(N6)};var I6=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ep),O6=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ep),z6=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ep),N6=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ep);jt.scale.quantile=function(){return Iw([],[])};function Iw(Et,Fl){var Gl;function Iu(){var _h=0,_p=Fl.length;for(Gl=[];++_h<_p;)Gl[_h-1]=jt.quantile(Et,_h/_p);return Ku}function Ku(_h){if(!isNaN(_h=+_h))return Fl[jt.bisect(Gl,_h)]}return Ku.domain=function(_h){return arguments.length?(Et=_h.map(Pl).filter(Tl).sort(Sl),Iu()):Et},Ku.range=function(_h){return arguments.length?(Fl=_h,Iu()):Fl},Ku.quantiles=function(){return Gl},Ku.invertExtent=function(_h){return _h=Fl.indexOf(_h),_h<0?[NaN,NaN]:[_h>0?Gl[_h-1]:Et[0],_h<Gl.length?Gl[_h]:Et[Et.length-1]]},Ku.copy=function(){return Iw(Et,Fl)},Iu()}jt.scale.quantize=function(){return Ow(0,1,[0,1])};function Ow(Et,Fl,Gl){var Iu,Ku;function _h(xp){return Gl[Math.max(0,Math.min(Ku,Math.floor(Iu*(xp-Et))))]}function _p(){return Iu=Gl.length/(Fl-Et),Ku=Gl.length-1,_h}return _h.domain=function(xp){return arguments.length?(Et=+xp[0],Fl=+xp[xp.length-1],_p()):[Et,Fl]},_h.range=function(xp){return arguments.length?(Gl=xp,_p()):Gl},_h.invertExtent=function(xp){return xp=Gl.indexOf(xp),xp=xp<0?NaN:xp/Iu+Et,[xp,xp+1/Iu]},_h.copy=function(){return Ow(Et,Fl,Gl)},_p()}jt.scale.threshold=function(){return zw([.5],[0,1])};function zw(Et,Fl){function Gl(Iu){if(Iu<=Iu)return Fl[jt.bisect(Et,Iu)]}return Gl.domain=function(Iu){return arguments.length?(Et=Iu,Gl):Et},Gl.range=function(Iu){return arguments.length?(Fl=Iu,Gl):Fl},Gl.invertExtent=function(Iu){return Iu=Fl.indexOf(Iu),[Et[Iu-1],Et[Iu]]},Gl.copy=function(){return zw(Et,Fl)},Gl}jt.scale.identity=function(){return Nw([0,1])};function Nw(Et){function Fl(Gl){return+Gl}return Fl.invert=Fl,Fl.domain=Fl.range=function(Gl){return arguments.length?(Et=Gl.map(Fl),Fl):Et},Fl.ticks=function(Gl){return fx(Et,Gl)},Fl.tickFormat=function(Gl,Iu){return d3_scale_linearTickFormat(Et,Gl,Iu)},Fl.copy=function(){return Nw(Et)},Fl}jt.svg={};function B6(){return 0}jt.svg.arc=function(){var Et=$6,Fl=H6,Gl=B6,Iu=I3,Ku=Bw,_h=$w,_p=G6;function xp(){var Kp=Math.max(0,+Et.apply(this,arguments)),Zp=Math.max(0,+Fl.apply(this,arguments)),_0=Ku.apply(this,arguments)-Bp,T0=_h.apply(this,arguments)-Bp,em=Math.abs(T0-_0),hm=_0>T0?0:1;if(Zp<Kp&&(F0=Zp,Zp=Kp,Kp=F0),em>=Dp)return Ip(Zp,hm)+(Kp?Ip(Kp,1-hm):"")+"Z";var F0,X0,Q0,lm,cm=0,_g=0,qm,b1,_1,C1,I1,O1,vv,H1,uv=[];if((lm=(+_p.apply(this,arguments)||0)/2)&&(Q0=Iu===I3?Math.sqrt(Kp*Kp+Zp*Zp):+Iu.apply(this,arguments),hm||(_g*=-1),Zp&&(_g=v0(Q0/Zp*Math.sin(lm))),Kp&&(cm=v0(Q0/Kp*Math.sin(lm)))),Zp){qm=Zp*Math.cos(_0+_g),b1=Zp*Math.sin(_0+_g),_1=Zp*Math.cos(T0-_g),C1=Zp*Math.sin(T0-_g);var Yv=Math.abs(T0-_0-2*_g)<=hp?0:1;if(_g&&O3(qm,b1,_1,C1)===hm^Yv){var Xy=(_0+T0)/2;qm=Zp*Math.cos(Xy),b1=Zp*Math.sin(Xy),_1=C1=null}}else qm=b1=0;if(Kp){I1=Kp*Math.cos(T0-cm),O1=Kp*Math.sin(T0-cm),vv=Kp*Math.cos(_0+cm),H1=Kp*Math.sin(_0+cm);var cy=Math.abs(_0-T0+2*cm)<=hp?0:1;if(cm&&O3(I1,O1,vv,H1)===1-hm^cy){var v1=(_0+T0)/2;I1=Kp*Math.cos(v1),O1=Kp*Math.sin(v1),vv=H1=null}}else I1=O1=0;if(em>qp&&(F0=Math.min(Math.abs(Zp-Kp)/2,+Gl.apply(this,arguments)))>.001){X0=Kp<Zp^hm?0:1;var yv=F0,Ev=F0;if(em<hp){var Kv=vv==null?[I1,O1]:_1==null?[qm,b1]:nv([qm,b1],[vv,H1],[_1,C1],[I1,O1]),By=qm-Kv[0],i2=b1-Kv[1],p2=_1-Kv[0],_2=C1-Kv[1],T2=1/Math.sin(Math.acos((By*p2+i2*_2)/(Math.sqrt(By*By+i2*i2)*Math.sqrt(p2*p2+_2*_2)))/2),k2=Math.sqrt(Kv[0]*Kv[0]+Kv[1]*Kv[1]);Ev=Math.min(F0,(Kp-k2)/(T2-1)),yv=Math.min(F0,(Zp-k2)/(T2+1))}if(_1!=null){var F2=z3(vv==null?[I1,O1]:[vv,H1],[qm,b1],Zp,yv,hm),x2=z3([_1,C1],[I1,O1],Zp,yv,hm);F0===yv?uv.push("M",F2[0],"A",yv,",",yv," 0 0,",X0," ",F2[1],"A",Zp,",",Zp," 0 ",1-hm^O3(F2[1][0],F2[1][1],x2[1][0],x2[1][1]),",",hm," ",x2[1],"A",yv,",",yv," 0 0,",X0," ",x2[0]):uv.push("M",F2[0],"A",yv,",",yv," 0 1,",X0," ",x2[0])}else uv.push("M",qm,",",b1);if(vv!=null){var P2=z3([qm,b1],[vv,H1],Kp,-Ev,hm),s3=z3([I1,O1],_1==null?[qm,b1]:[_1,C1],Kp,-Ev,hm);F0===Ev?uv.push("L",s3[0],"A",Ev,",",Ev," 0 0,",X0," ",s3[1],"A",Kp,",",Kp," 0 ",hm^O3(s3[1][0],s3[1][1],P2[1][0],P2[1][1]),",",1-hm," ",P2[1],"A",Ev,",",Ev," 0 0,",X0," ",P2[0]):uv.push("L",s3[0],"A",Ev,",",Ev," 0 0,",X0," ",P2[0])}else uv.push("L",I1,",",O1)}else uv.push("M",qm,",",b1),_1!=null&&uv.push("A",Zp,",",Zp," 0 ",Yv,",",hm," ",_1,",",C1),uv.push("L",I1,",",O1),vv!=null&&uv.push("A",Kp,",",Kp," 0 ",cy,",",1-hm," ",vv,",",H1);return uv.push("Z"),uv.join("")}function Ip(Kp,Zp){return"M0,"+Kp+"A"+Kp+","+Kp+" 0 1,"+Zp+" 0,"+-Kp+"A"+Kp+","+Kp+" 0 1,"+Zp+" 0,"+Kp}return xp.innerRadius=function(Kp){return arguments.length?(Et=M0(Kp),xp):Et},xp.outerRadius=function(Kp){return arguments.length?(Fl=M0(Kp),xp):Fl},xp.cornerRadius=function(Kp){return arguments.length?(Gl=M0(Kp),xp):Gl},xp.padRadius=function(Kp){return arguments.length?(Iu=Kp==I3?I3:M0(Kp),xp):Iu},xp.startAngle=function(Kp){return arguments.length?(Ku=M0(Kp),xp):Ku},xp.endAngle=function(Kp){return arguments.length?(_h=M0(Kp),xp):_h},xp.padAngle=function(Kp){return arguments.length?(_p=M0(Kp),xp):_p},xp.centroid=function(){var Kp=(+Et.apply(this,arguments)+ +Fl.apply(this,arguments))/2,Zp=(+Ku.apply(this,arguments)+ +_h.apply(this,arguments))/2-Bp;return[Math.cos(Zp)*Kp,Math.sin(Zp)*Kp]},xp};var I3="auto";function $6(Et){return Et.innerRadius}function H6(Et){return Et.outerRadius}function Bw(Et){return Et.startAngle}function $w(Et){return Et.endAngle}function G6(Et){return Et&&Et.padAngle}function O3(Et,Fl,Gl,Iu){return(Et-Gl)*Fl-(Fl-Iu)*Et>0?0:1}function z3(Et,Fl,Gl,Iu,Ku){var _h=Et[0]-Fl[0],_p=Et[1]-Fl[1],xp=(Ku?Iu:-Iu)/Math.sqrt(_h*_h+_p*_p),Ip=xp*_p,Kp=-xp*_h,Zp=Et[0]+Ip,_0=Et[1]+Kp,T0=Fl[0]+Ip,em=Fl[1]+Kp,hm=(Zp+T0)/2,F0=(_0+em)/2,X0=T0-Zp,Q0=em-_0,lm=X0*X0+Q0*Q0,cm=Gl-Iu,_g=Zp*em-T0*_0,qm=(Q0<0?-1:1)*Math.sqrt(Math.max(0,cm*cm*lm-_g*_g)),b1=(_g*Q0-X0*qm)/lm,_1=(-_g*X0-Q0*qm)/lm,C1=(_g*Q0+X0*qm)/lm,I1=(-_g*X0+Q0*qm)/lm,O1=b1-hm,vv=_1-F0,H1=C1-hm,uv=I1-F0;return O1*O1+vv*vv>H1*H1+uv*uv&&(b1=C1,_1=I1),[[b1-Ip,_1-Kp],[b1*Gl/cm,_1*Gl/cm]]}function Hw(){return!0}function Gw(Et){var Fl=Lv,Gl=ly,Iu=Hw,Ku=V2,_h=Ku.key,_p=.7;function xp(Ip){var Kp=[],Zp=[],_0=-1,T0=Ip.length,em,hm=M0(Fl),F0=M0(Gl);function X0(){Kp.push("M",Ku(Et(Zp),_p))}for(;++_0<T0;)Iu.call(this,em=Ip[_0],_0)?Zp.push([+hm.call(this,em,_0),+F0.call(this,em,_0)]):Zp.length&&(X0(),Zp=[]);return Zp.length&&X0(),Kp.length?Kp.join(""):null}return xp.x=function(Ip){return arguments.length?(Fl=Ip,xp):Fl},xp.y=function(Ip){return arguments.length?(Gl=Ip,xp):Gl},xp.defined=function(Ip){return arguments.length?(Iu=Ip,xp):Iu},xp.interpolate=function(Ip){return arguments.length?(typeof Ip=="function"?_h=Ku=Ip:_h=(Ku=gx.get(Ip)||V2).key,xp):_h},xp.tension=function(Ip){return arguments.length?(_p=Ip,xp):_p},xp}jt.svg.line=function(){return Gw(Hu)};var gx=jt.map({linear:V2,"linear-closed":jw,step:j6,"step-before":mx,"step-after":vx,basis:Vw,"basis-open":q6,"basis-closed":Y6,bundle:K6,cardinal:W6,"cardinal-open":V6,"cardinal-closed":U6,monotone:Q6});gx.forEach(function(Et,Fl){Fl.key=Et,Fl.closed=/-closed$/.test(Et)});function V2(Et){return Et.length>1?Et.join("L"):Et+"Z"}function jw(Et){return Et.join("L")+"Z"}function j6(Et){for(var Fl=0,Gl=Et.length,Iu=Et[0],Ku=[Iu[0],",",Iu[1]];++Fl<Gl;)Ku.push("H",(Iu[0]+(Iu=Et[Fl])[0])/2,"V",Iu[1]);return Gl>1&&Ku.push("H",Iu[0]),Ku.join("")}function mx(Et){for(var Fl=0,Gl=Et.length,Iu=Et[0],Ku=[Iu[0],",",Iu[1]];++Fl<Gl;)Ku.push("V",(Iu=Et[Fl])[1],"H",Iu[0]);return Ku.join("")}function vx(Et){for(var Fl=0,Gl=Et.length,Iu=Et[0],Ku=[Iu[0],",",Iu[1]];++Fl<Gl;)Ku.push("H",(Iu=Et[Fl])[0],"V",Iu[1]);return Ku.join("")}function V6(Et,Fl){return Et.length<4?V2(Et):Et[1]+N3(Et.slice(1,-1),yx(Et,Fl))}function U6(Et,Fl){return Et.length<3?jw(Et):Et[0]+N3((Et.push(Et[0]),Et),yx([Et[Et.length-2]].concat(Et,[Et[1]]),Fl))}function W6(Et,Fl){return Et.length<3?V2(Et):Et[0]+N3(Et,yx(Et,Fl))}function N3(Et,Fl){if(Fl.length<1||Et.length!=Fl.length&&Et.length!=Fl.length+2)return V2(Et);var Gl=Et.length!=Fl.length,Iu="",Ku=Et[0],_h=Et[1],_p=Fl[0],xp=_p,Ip=1;if(Gl&&(Iu+="Q"+(_h[0]-_p[0]*2/3)+","+(_h[1]-_p[1]*2/3)+","+_h[0]+","+_h[1],Ku=Et[1],Ip=2),Fl.length>1){xp=Fl[1],_h=Et[Ip],Ip++,Iu+="C"+(Ku[0]+_p[0])+","+(Ku[1]+_p[1])+","+(_h[0]-xp[0])+","+(_h[1]-xp[1])+","+_h[0]+","+_h[1];for(var Kp=2;Kp<Fl.length;Kp++,Ip++)_h=Et[Ip],xp=Fl[Kp],Iu+="S"+(_h[0]-xp[0])+","+(_h[1]-xp[1])+","+_h[0]+","+_h[1]}if(Gl){var Zp=Et[Ip];Iu+="Q"+(_h[0]+xp[0]*2/3)+","+(_h[1]+xp[1]*2/3)+","+Zp[0]+","+Zp[1]}return Iu}function yx(Et,Fl){for(var Gl=[],Iu=(1-Fl)/2,Ku,_h=Et[0],_p=Et[1],xp=1,Ip=Et.length;++xp<Ip;)Ku=_h,_h=_p,_p=Et[xp],Gl.push([Iu*(_p[0]-Ku[0]),Iu*(_p[1]-Ku[1])]);return Gl}function Vw(Et){if(Et.length<3)return V2(Et);var Fl=1,Gl=Et.length,Iu=Et[0],Ku=Iu[0],_h=Iu[1],_p=[Ku,Ku,Ku,(Iu=Et[1])[0]],xp=[_h,_h,_h,Iu[1]],Ip=[Ku,",",_h,"L",$2(r3,_p),",",$2(r3,xp)];for(Et.push(Et[Gl-1]);++Fl<=Gl;)Iu=Et[Fl],_p.shift(),_p.push(Iu[0]),xp.shift(),xp.push(Iu[1]),xx(Ip,_p,xp);return Et.pop(),Ip.push("L",Iu),Ip.join("")}function q6(Et){if(Et.length<4)return V2(Et);for(var Fl=[],Gl=-1,Iu=Et.length,Ku,_h=[0],_p=[0];++Gl<3;)Ku=Et[Gl],_h.push(Ku[0]),_p.push(Ku[1]);for(Fl.push($2(r3,_h)+","+$2(r3,_p)),--Gl;++Gl<Iu;)Ku=Et[Gl],_h.shift(),_h.push(Ku[0]),_p.shift(),_p.push(Ku[1]),xx(Fl,_h,_p);return Fl.join("")}function Y6(Et){for(var Fl,Gl=-1,Iu=Et.length,Ku=Iu+4,_h,_p=[],xp=[];++Gl<4;)_h=Et[Gl%Iu],_p.push(_h[0]),xp.push(_h[1]);for(Fl=[$2(r3,_p),",",$2(r3,xp)],--Gl;++Gl<Ku;)_h=Et[Gl%Iu],_p.shift(),_p.push(_h[0]),xp.shift(),xp.push(_h[1]),xx(Fl,_p,xp);return Fl.join("")}function K6(Et,Fl){var Gl=Et.length-1;if(Gl)for(var Iu=Et[0][0],Ku=Et[0][1],_h=Et[Gl][0]-Iu,_p=Et[Gl][1]-Ku,xp=-1,Ip,Kp;++xp<=Gl;)Ip=Et[xp],Kp=xp/Gl,Ip[0]=Fl*Ip[0]+(1-Fl)*(Iu+Kp*_h),Ip[1]=Fl*Ip[1]+(1-Fl)*(Ku+Kp*_p);return Vw(Et)}function $2(Et,Fl){return Et[0]*Fl[0]+Et[1]*Fl[1]+Et[2]*Fl[2]+Et[3]*Fl[3]}var Uw=[0,2/3,1/3,0],Ww=[0,1/3,2/3,0],r3=[0,1/6,2/3,1/6];function xx(Et,Fl,Gl){Et.push("C",$2(Uw,Fl),",",$2(Uw,Gl),",",$2(Ww,Fl),",",$2(Ww,Gl),",",$2(r3,Fl),",",$2(r3,Gl))}function bx(Et,Fl){return(Fl[1]-Et[1])/(Fl[0]-Et[0])}function X6(Et){for(var Fl=0,Gl=Et.length-1,Iu=[],Ku=Et[0],_h=Et[1],_p=Iu[0]=bx(Ku,_h);++Fl<Gl;)Iu[Fl]=(_p+(_p=bx(Ku=_h,_h=Et[Fl+1])))/2;return Iu[Fl]=_p,Iu}function Z6(Et){for(var Fl=[],Gl,Iu,Ku,_h,_p=X6(Et),xp=-1,Ip=Et.length-1;++xp<Ip;)Gl=bx(Et[xp],Et[xp+1]),Bn(Gl)<qp?_p[xp]=_p[xp+1]=0:(Iu=_p[xp]/Gl,Ku=_p[xp+1]/Gl,_h=Iu*Iu+Ku*Ku,_h>9&&(_h=Gl*3/Math.sqrt(_h),_p[xp]=_h*Iu,_p[xp+1]=_h*Ku));for(xp=-1;++xp<=Ip;)_h=(Et[Math.min(Ip,xp+1)][0]-Et[Math.max(0,xp-1)][0])/(6*(1+_p[xp]*_p[xp])),Fl.push([_h||0,_p[xp]*_h||0]);return Fl}function Q6(Et){return Et.length<3?V2(Et):Et[0]+N3(Et,Z6(Et))}jt.svg.line.radial=function(){var Et=Gw(qw);return Et.radius=Et.x,delete Et.x,Et.angle=Et.y,delete Et.y,Et};function qw(Et){for(var Fl,Gl=-1,Iu=Et.length,Ku,_h;++Gl<Iu;)Fl=Et[Gl],Ku=Fl[0],_h=Fl[1]-Bp,Fl[0]=Ku*Math.cos(_h),Fl[1]=Ku*Math.sin(_h);return Et}function Yw(Et){var Fl=Lv,Gl=Lv,Iu=0,Ku=ly,_h=Hw,_p=V2,xp=_p.key,Ip=_p,Kp="L",Zp=.7;function _0(T0){var em=[],hm=[],F0=[],X0=-1,Q0=T0.length,lm,cm=M0(Fl),_g=M0(Iu),qm=Fl===Gl?function(){return _1}:M0(Gl),b1=Iu===Ku?function(){return C1}:M0(Ku),_1,C1;function I1(){em.push("M",_p(Et(F0),Zp),Kp,Ip(Et(hm.reverse()),Zp),"Z")}for(;++X0<Q0;)_h.call(this,lm=T0[X0],X0)?(hm.push([_1=+cm.call(this,lm,X0),C1=+_g.call(this,lm,X0)]),F0.push([+qm.call(this,lm,X0),+b1.call(this,lm,X0)])):hm.length&&(I1(),hm=[],F0=[]);return hm.length&&I1(),em.length?em.join(""):null}return _0.x=function(T0){return arguments.length?(Fl=Gl=T0,_0):Gl},_0.x0=function(T0){return arguments.length?(Fl=T0,_0):Fl},_0.x1=function(T0){return arguments.length?(Gl=T0,_0):Gl},_0.y=function(T0){return arguments.length?(Iu=Ku=T0,_0):Ku},_0.y0=function(T0){return arguments.length?(Iu=T0,_0):Iu},_0.y1=function(T0){return arguments.length?(Ku=T0,_0):Ku},_0.defined=function(T0){return arguments.length?(_h=T0,_0):_h},_0.interpolate=function(T0){return arguments.length?(typeof T0=="function"?xp=_p=T0:xp=(_p=gx.get(T0)||V2).key,Ip=_p.reverse||_p,Kp=_p.closed?"M":"L",_0):xp},_0.tension=function(T0){return arguments.length?(Zp=T0,_0):Zp},_0}mx.reverse=vx,vx.reverse=mx,jt.svg.area=function(){return Yw(Hu)},jt.svg.area.radial=function(){var Et=Yw(qw);return Et.radius=Et.x,delete Et.x,Et.innerRadius=Et.x0,delete Et.x0,Et.outerRadius=Et.x1,delete Et.x1,Et.angle=Et.y,delete Et.y,Et.startAngle=Et.y0,delete Et.y0,Et.endAngle=Et.y1,delete Et.y1,Et};function Kw(Et){return Et.source}function Xw(Et){return Et.target}jt.svg.chord=function(){var Et=Kw,Fl=Xw,Gl=J6,Iu=Bw,Ku=$w;function _h(Zp,_0){var T0=_p(this,Et,Zp,_0),em=_p(this,Fl,Zp,_0);return"M"+T0.p0+Ip(T0.r,T0.p1,T0.a1-T0.a0)+(xp(T0,em)?Kp(T0.r,T0.p1,T0.r,T0.p0):Kp(T0.r,T0.p1,em.r,em.p0)+Ip(em.r,em.p1,em.a1-em.a0)+Kp(em.r,em.p1,T0.r,T0.p0))+"Z"}function _p(Zp,_0,T0,em){var hm=_0.call(Zp,T0,em),F0=Gl.call(Zp,hm,em),X0=Iu.call(Zp,hm,em)-Bp,Q0=Ku.call(Zp,hm,em)-Bp;return{r:F0,a0:X0,a1:Q0,p0:[F0*Math.cos(X0),F0*Math.sin(X0)],p1:[F0*Math.cos(Q0),F0*Math.sin(Q0)]}}function xp(Zp,_0){return Zp.a0==_0.a0&&Zp.a1==_0.a1}function Ip(Zp,_0,T0){return"A"+Zp+","+Zp+" 0 "+ +(T0>hp)+",1 "+_0}function Kp(Zp,_0,T0,em){return"Q 0,0 "+em}return _h.radius=function(Zp){return arguments.length?(Gl=M0(Zp),_h):Gl},_h.source=function(Zp){return arguments.length?(Et=M0(Zp),_h):Et},_h.target=function(Zp){return arguments.length?(Fl=M0(Zp),_h):Fl},_h.startAngle=function(Zp){return arguments.length?(Iu=M0(Zp),_h):Iu},_h.endAngle=function(Zp){return arguments.length?(Ku=M0(Zp),_h):Ku},_h};function J6(Et){return Et.radius}jt.svg.diagonal=function(){var Et=Kw,Fl=Xw,Gl=Zw;function Iu(Ku,_h){var _p=Et.call(this,Ku,_h),xp=Fl.call(this,Ku,_h),Ip=(_p.y+xp.y)/2,Kp=[_p,{x:_p.x,y:Ip},{x:xp.x,y:Ip},xp];return Kp=Kp.map(Gl),"M"+Kp[0]+"C"+Kp[1]+" "+Kp[2]+" "+Kp[3]}return Iu.source=function(Ku){return arguments.length?(Et=M0(Ku),Iu):Et},Iu.target=function(Ku){return arguments.length?(Fl=M0(Ku),Iu):Fl},Iu.projection=function(Ku){return arguments.length?(Gl=Ku,Iu):Gl},Iu};function Zw(Et){return[Et.x,Et.y]}jt.svg.diagonal.radial=function(){var Et=jt.svg.diagonal(),Fl=Zw,Gl=Et.projection;return Et.projection=function(Iu){return arguments.length?Gl(eS(Fl=Iu)):Fl},Et};function eS(Et){return function(){var Fl=Et.apply(this,arguments),Gl=Fl[0],Iu=Fl[1]-Bp;return[Gl*Math.cos(Iu),Gl*Math.sin(Iu)]}}jt.svg.symbol=function(){var Et=rS,Fl=tS;function Gl(Iu,Ku){return(Jw.get(Et.call(this,Iu,Ku))||Qw)(Fl.call(this,Iu,Ku))}return Gl.type=function(Iu){return arguments.length?(Et=M0(Iu),Gl):Et},Gl.size=function(Iu){return arguments.length?(Fl=M0(Iu),Gl):Fl},Gl};function tS(){return 64}function rS(){return"circle"}function Qw(Et){var Fl=Math.sqrt(Et/hp);return"M0,"+Fl+"A"+Fl+","+Fl+" 0 1,1 0,"+-Fl+"A"+Fl+","+Fl+" 0 1,1 0,"+Fl+"Z"}var Jw=jt.map({circle:Qw,cross:function(Et){var Fl=Math.sqrt(Et/5)/2;return"M"+-3*Fl+","+-Fl+"H"+-Fl+"V"+-3*Fl+"H"+Fl+"V"+-Fl+"H"+3*Fl+"V"+Fl+"H"+Fl+"V"+3*Fl+"H"+-Fl+"V"+Fl+"H"+-3*Fl+"Z"},diamond:function(Et){var Fl=Math.sqrt(Et/(2*eC)),Gl=Fl*eC;return"M0,"+-Fl+"L"+Gl+",0 0,"+Fl+" "+-Gl+",0Z"},square:function(Et){var Fl=Math.sqrt(Et)/2;return"M"+-Fl+","+-Fl+"L"+Fl+","+-Fl+" "+Fl+","+Fl+" "+-Fl+","+Fl+"Z"},"triangle-down":function(Et){var Fl=Math.sqrt(Et/B3),Gl=Fl*B3/2;return"M0,"+Gl+"L"+Fl+","+-Gl+" "+-Fl+","+-Gl+"Z"},"triangle-up":function(Et){var Fl=Math.sqrt(Et/B3),Gl=Fl*B3/2;return"M0,"+-Gl+"L"+Fl+","+Gl+" "+-Fl+","+Gl+"Z"}});jt.svg.symbolTypes=Jw.keys();var B3=Math.sqrt(3),eC=Math.tan(30*Jp);vu.transition=function(Et){for(var Fl=a3||++rC,Gl=Cx(Et),Iu=[],Ku,_h,_p=H3||{time:Date.now(),ease:I4,delay:0,duration:250},xp=-1,Ip=this.length;++xp<Ip;){Iu.push(Ku=[]);for(var Kp=this[xp],Zp=-1,_0=Kp.length;++Zp<_0;)(_h=Kp[Zp])&&G3(_h,Zp,Gl,Fl,_p),Ku.push(_h)}return w3(Iu,Gl,Fl)},vu.interrupt=function(Et){return this.each(Et==null?$3:tC(Cx(Et)))};var $3=tC(Cx());function tC(Et){return function(){var Fl,Gl,Iu;(Fl=this[Et])&&(Iu=Fl[Gl=Fl.active])&&(Iu.timer.c=null,Iu.timer.t=NaN,--Fl.count?delete Fl[Gl]:delete this[Et],Fl.active+=.5,Iu.event&&Iu.event.interrupt.call(this,this.__data__,Iu.index))}}function w3(Et,Fl,Gl){return Lu(Et,n2),Et.namespace=Fl,Et.id=Gl,Et}var n2=[],rC=0,a3,H3;n2.call=vu.call,n2.empty=vu.empty,n2.node=vu.node,n2.size=vu.size,jt.transition=function(Et,Fl){return Et&&Et.transition?a3?Et.transition(Fl):Et:jt.selection().transition(Et)},jt.transition.prototype=n2,n2.select=function(Et){var Fl=this.id,Gl=this.namespace,Iu=[],Ku,_h,_p;Et=Ol(Et);for(var xp=-1,Ip=this.length;++xp<Ip;){Iu.push(Ku=[]);for(var Kp=this[xp],Zp=-1,_0=Kp.length;++Zp<_0;)(_p=Kp[Zp])&&(_h=Et.call(_p,_p.__data__,Zp,xp))?("__data__"in _p&&(_h.__data__=_p.__data__),G3(_h,Zp,Gl,Fl,_p[Gl][Fl]),Ku.push(_h)):Ku.push(null)}return w3(Iu,Gl,Fl)},n2.selectAll=function(Et){var Fl=this.id,Gl=this.namespace,Iu=[],Ku,_h,_p,xp,Ip;Et=Wl(Et);for(var Kp=-1,Zp=this.length;++Kp<Zp;)for(var _0=this[Kp],T0=-1,em=_0.length;++T0<em;)if(_p=_0[T0]){Ip=_p[Gl][Fl],_h=Et.call(_p,_p.__data__,T0,Kp),Iu.push(Ku=[]);for(var hm=-1,F0=_h.length;++hm<F0;)(xp=_h[hm])&&G3(xp,hm,Gl,Fl,Ip),Ku.push(xp)}return w3(Iu,Gl,Fl)},n2.filter=function(Et){var Fl=[],Gl,Iu,Ku;typeof Et!="function"&&(Et=cp(Et));for(var _h=0,_p=this.length;_h<_p;_h++){Fl.push(Gl=[]);for(var Iu=this[_h],xp=0,Ip=Iu.length;xp<Ip;xp++)(Ku=Iu[xp])&&Et.call(Ku,Ku.__data__,xp,_h)&&Gl.push(Ku)}return w3(Fl,this.namespace,this.id)},n2.tween=function(Et,Fl){var Gl=this.id,Iu=this.namespace;return arguments.length<2?this.node()[Iu][Gl].tween.get(Et):a0(this,Fl==null?function(Ku){Ku[Iu][Gl].tween.remove(Et)}:function(Ku){Ku[Iu][Gl].tween.set(Et,Fl)})};function wx(Et,Fl,Gl,Iu){var Ku=Et.id,_h=Et.namespace;return a0(Et,typeof Gl=="function"?function(_p,xp,Ip){_p[_h][Ku].tween.set(Fl,Iu(Gl.call(_p,_p.__data__,xp,Ip)))}:(Gl=Iu(Gl),function(_p){_p[_h][Ku].tween.set(Fl,Gl)}))}n2.attr=function(Et,Fl){if(arguments.length<2){for(Fl in Et)this.attr(Fl,Et[Fl]);return this}var Gl=Et=="transform"?fw:o3,Iu=jt.ns.qualify(Et);function Ku(){this.removeAttribute(Iu)}function _h(){this.removeAttributeNS(Iu.space,Iu.local)}function _p(Ip){return Ip==null?Ku:(Ip+="",function(){var Kp=this.getAttribute(Iu),Zp;return Kp!==Ip&&(Zp=Gl(Kp,Ip),function(_0){this.setAttribute(Iu,Zp(_0))})})}function xp(Ip){return Ip==null?_h:(Ip+="",function(){var Kp=this.getAttributeNS(Iu.space,Iu.local),Zp;return Kp!==Ip&&(Zp=Gl(Kp,Ip),function(_0){this.setAttributeNS(Iu.space,Iu.local,Zp(_0))})})}return wx(this,"attr."+Et,Fl,Iu.local?xp:_p)},n2.attrTween=function(Et,Fl){var Gl=jt.ns.qualify(Et);function Iu(_h,_p){var xp=Fl.call(this,_h,_p,this.getAttribute(Gl));return xp&&function(Ip){this.setAttribute(Gl,xp(Ip))}}function Ku(_h,_p){var xp=Fl.call(this,_h,_p,this.getAttributeNS(Gl.space,Gl.local));return xp&&function(Ip){this.setAttributeNS(Gl.space,Gl.local,xp(Ip))}}return this.tween("attr."+Et,Gl.local?Ku:Iu)},n2.style=function(Et,Fl,Gl){var Iu=arguments.length;if(Iu<3){if(typeof Et!="string"){Iu<2&&(Fl="");for(Gl in Et)this.style(Gl,Et[Gl],Fl);return this}Gl=""}function Ku(){this.style.removeProperty(Et)}function _h(_p){return _p==null?Ku:(_p+="",function(){var xp=Fn(this).getComputedStyle(this,null).getPropertyValue(Et),Ip;return xp!==_p&&(Ip=o3(xp,_p),function(Kp){this.style.setProperty(Et,Ip(Kp),Gl)})})}return wx(this,"style."+Et,Fl,_h)},n2.styleTween=function(Et,Fl,Gl){arguments.length<3&&(Gl="");function Iu(Ku,_h){var _p=Fl.call(this,Ku,_h,Fn(this).getComputedStyle(this,null).getPropertyValue(Et));return _p&&function(xp){this.style.setProperty(Et,_p(xp),Gl)}}return this.tween("style."+Et,Iu)},n2.text=function(Et){return wx(this,"text",Et,nS)};function nS(Et){return Et==null&&(Et=""),function(){this.textContent=Et}}n2.remove=function(){var Et=this.namespace;return this.each("end.transition",function(){var Fl;this[Et].count<2&&(Fl=this.parentNode)&&Fl.removeChild(this)})},n2.ease=function(Et){var Fl=this.id,Gl=this.namespace;return arguments.length<1?this.node()[Gl][Fl].ease:(typeof Et!="function"&&(Et=jt.ease.apply(jt,arguments)),a0(this,function(Iu){Iu[Gl][Fl].ease=Et}))},n2.delay=function(Et){var Fl=this.id,Gl=this.namespace;return arguments.length<1?this.node()[Gl][Fl].delay:a0(this,typeof Et=="function"?function(Iu,Ku,_h){Iu[Gl][Fl].delay=+Et.call(Iu,Iu.__data__,Ku,_h)}:(Et=+Et,function(Iu){Iu[Gl][Fl].delay=Et}))},n2.duration=function(Et){var Fl=this.id,Gl=this.namespace;return arguments.length<1?this.node()[Gl][Fl].duration:a0(this,typeof Et=="function"?function(Iu,Ku,_h){Iu[Gl][Fl].duration=Math.max(1,Et.call(Iu,Iu.__data__,Ku,_h))}:(Et=Math.max(1,Et),function(Iu){Iu[Gl][Fl].duration=Et}))},n2.each=function(Et,Fl){var Gl=this.id,Iu=this.namespace;if(arguments.length<2){var Ku=H3,_h=a3;try{a3=Gl,a0(this,function(_p,xp,Ip){H3=_p[Iu][Gl],Et.call(_p,_p.__data__,xp,Ip)})}finally{H3=Ku,a3=_h}}else a0(this,function(_p){var xp=_p[Iu][Gl];(xp.event||(xp.event=jt.dispatch("start","end","interrupt"))).on(Et,Fl)});return this},n2.transition=function(){for(var Et=this.id,Fl=++rC,Gl=this.namespace,Iu=[],Ku,_h,_p,xp,Ip=0,Kp=this.length;Ip<Kp;Ip++){Iu.push(Ku=[]);for(var _h=this[Ip],Zp=0,_0=_h.length;Zp<_0;Zp++)(_p=_h[Zp])&&(xp=_p[Gl][Et],G3(_p,Zp,Gl,Fl,{time:xp.time,ease:xp.ease,delay:xp.delay+xp.duration,duration:xp.duration})),Ku.push(_p)}return w3(Iu,Gl,Fl)};function Cx(Et){return Et==null?"__transition__":"__transition_"+Et+"__"}function G3(Et,Fl,Gl,Iu,Ku){var _h=Et[Gl]||(Et[Gl]={active:0,count:0}),_p=_h[Iu],xp,Ip,Kp,Zp,_0;function T0(F0){var X0=_p.delay;if(Ip.t=X0+xp,X0<=F0)return em(F0-X0);Ip.c=em}function em(F0){var X0=_h.active,Q0=_h[X0];Q0&&(Q0.timer.c=null,Q0.timer.t=NaN,--_h.count,delete _h[X0],Q0.event&&Q0.event.interrupt.call(Et,Et.__data__,Q0.index));for(var lm in _h)if(+lm<Iu){var cm=_h[lm];cm.timer.c=null,cm.timer.t=NaN,--_h.count,delete _h[lm]}Ip.c=hm,R1(function(){return Ip.c&&hm(F0||1)&&(Ip.c=null,Ip.t=NaN),1},0,xp),_h.active=Iu,_p.event&&_p.event.start.call(Et,Et.__data__,Fl),_0=[],_p.tween.forEach(function(_g,qm){(qm=qm.call(Et,Et.__data__,Fl))&&_0.push(qm)}),Zp=_p.ease,Kp=_p.duration}function hm(F0){for(var X0=F0/Kp,Q0=Zp(X0),lm=_0.length;lm>0;)_0[--lm].call(Et,Q0);if(X0>=1)return _p.event&&_p.event.end.call(Et,Et.__data__,Fl),--_h.count?delete _h[Iu]:delete Et[Gl],1}_p||(xp=Ku.time,Ip=R1(T0,0,xp),_p=_h[Iu]={tween:new Il,time:xp,timer:Ip,delay:Ku.delay,duration:Ku.duration,ease:Ku.ease,index:Fl},Ku=null,++_h.count)}jt.svg.axis=function(){var Et=jt.scale.linear(),Fl=nC,Gl=6,Iu=6,Ku=3,_h=[10],_p=null,xp;function Ip(Kp){Kp.each(function(){var Zp=jt.select(this),_0=this.__chart__||Et,T0=this.__chart__=Et.copy(),em=_p??(T0.ticks?T0.ticks.apply(T0,_h):T0.domain()),hm=xp??(T0.tickFormat?T0.tickFormat.apply(T0,_h):Hu),F0=Zp.selectAll(".tick").data(em,T0),X0=F0.enter().insert("g",".domain").attr("class","tick").style("opacity",qp),Q0=jt.transition(F0.exit()).style("opacity",qp).remove(),lm=jt.transition(F0.order()).style("opacity",1),cm=Math.max(Gl,0)+Ku,_g,qm=D3(T0),b1=Zp.selectAll(".domain").data([0]),_1=(b1.enter().append("path").attr("class","domain"),jt.transition(b1));X0.append("line"),X0.append("text");var C1=X0.select("line"),I1=lm.select("line"),O1=F0.select("text").text(hm),vv=X0.select("text"),H1=lm.select("text"),uv=Fl==="top"||Fl==="left"?-1:1,Yv,Xy,cy,v1;if(Fl==="bottom"||Fl==="top"?(_g=oS,Yv="x",cy="y",Xy="x2",v1="y2",O1.attr("dy",uv<0?"0em":".71em").style("text-anchor","middle"),_1.attr("d","M"+qm[0]+","+uv*Iu+"V0H"+qm[1]+"V"+uv*Iu)):(_g=aS,Yv="y",cy="x",Xy="y2",v1="x2",O1.attr("dy",".32em").style("text-anchor",uv<0?"end":"start"),_1.attr("d","M"+uv*Iu+","+qm[0]+"H0V"+qm[1]+"H"+uv*Iu)),C1.attr(v1,uv*Gl),vv.attr(cy,uv*cm),I1.attr(Xy,0).attr(v1,uv*Gl),H1.attr(Yv,0).attr(cy,uv*cm),T0.rangeBand){var yv=T0,Ev=yv.rangeBand()/2;_0=T0=function(Kv){return yv(Kv)+Ev}}else _0.rangeBand?_0=T0:Q0.call(_g,T0,_0);X0.call(_g,_0,T0),lm.call(_g,T0,T0)})}return Ip.scale=function(Kp){return arguments.length?(Et=Kp,Ip):Et},Ip.orient=function(Kp){return arguments.length?(Fl=Kp in iS?Kp+"":nC,Ip):Fl},Ip.ticks=function(){return arguments.length?(_h=st(arguments),Ip):_h},Ip.tickValues=function(Kp){return arguments.length?(_p=Kp,Ip):_p},Ip.tickFormat=function(Kp){return arguments.length?(xp=Kp,Ip):xp},Ip.tickSize=function(Kp){var Zp=arguments.length;return Zp?(Gl=+Kp,Iu=+arguments[Zp-1],Ip):Gl},Ip.innerTickSize=function(Kp){return arguments.length?(Gl=+Kp,Ip):Gl},Ip.outerTickSize=function(Kp){return arguments.length?(Iu=+Kp,Ip):Iu},Ip.tickPadding=function(Kp){return arguments.length?(Ku=+Kp,Ip):Ku},Ip.tickSubdivide=function(){return arguments.length&&Ip},Ip};var nC="bottom",iS={top:1,right:1,bottom:1,left:1};function oS(Et,Fl,Gl){Et.attr("transform",function(Iu){var Ku=Fl(Iu);return"translate("+(isFinite(Ku)?Ku:Gl(Iu))+",0)"})}function aS(Et,Fl,Gl){Et.attr("transform",function(Iu){var Ku=Fl(Iu);return"translate(0,"+(isFinite(Ku)?Ku:Gl(Iu))+")"})}jt.svg.brush=function(){var Et=Cp(Zp,"brushstart","brush","brushend"),Fl=null,Gl=null,Iu=[0,0],Ku=[0,0],_h,_p,xp=!0,Ip=!0,Kp=Sx[0];function Zp(F0){F0.each(function(){var X0=jt.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",hm).on("touchstart.brush",hm),Q0=X0.selectAll(".background").data([0]);Q0.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),X0.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var lm=X0.selectAll(".resize").data(Kp,Hu);lm.exit().remove(),lm.enter().append("g").attr("class",function(b1){return"resize "+b1}).style("cursor",function(b1){return sS[b1]}).append("rect").attr("x",function(b1){return/[ew]$/.test(b1)?-3:null}).attr("y",function(b1){return/^[ns]/.test(b1)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),lm.style("display",Zp.empty()?"none":null);var cm=jt.transition(X0),_g=jt.transition(Q0),qm;Fl&&(qm=D3(Fl),_g.attr("x",qm[0]).attr("width",qm[1]-qm[0]),T0(cm)),Gl&&(qm=D3(Gl),_g.attr("y",qm[0]).attr("height",qm[1]-qm[0]),em(cm)),_0(cm)})}Zp.event=function(F0){F0.each(function(){var X0=Et.of(this,arguments),Q0={x:Iu,y:Ku,i:_h,j:_p},lm=this.__chart__||Q0;this.__chart__=Q0,a3?jt.select(this).transition().each("start.brush",function(){_h=lm.i,_p=lm.j,Iu=lm.x,Ku=lm.y,X0({type:"brushstart"})}).tween("brush:brush",function(){var cm=F3(Iu,Q0.x),_g=F3(Ku,Q0.y);return _h=_p=null,function(qm){Iu=Q0.x=cm(qm),Ku=Q0.y=_g(qm),X0({type:"brush",mode:"resize"})}}).each("end.brush",function(){_h=Q0.i,_p=Q0.j,X0({type:"brush",mode:"resize"}),X0({type:"brushend"})}):(X0({type:"brushstart"}),X0({type:"brush",mode:"resize"}),X0({type:"brushend"}))})};function _0(F0){F0.selectAll(".resize").attr("transform",function(X0){return"translate("+Iu[+/e$/.test(X0)]+","+Ku[+/^s/.test(X0)]+")"})}function T0(F0){F0.select(".extent").attr("x",Iu[0]),F0.selectAll(".extent,.n>rect,.s>rect").attr("width",Iu[1]-Iu[0])}function em(F0){F0.select(".extent").attr("y",Ku[0]),F0.selectAll(".extent,.e>rect,.w>rect").attr("height",Ku[1]-Ku[0])}function hm(){var F0=this,X0=jt.select(jt.event.target),Q0=Et.of(F0,arguments),lm=jt.select(F0),cm=X0.datum(),_g=!/^(n|s)$/.test(cm)&&Fl,qm=!/^(e|w)$/.test(cm)&&Gl,b1=X0.classed("extent"),_1=pm(F0),C1,I1=jt.mouse(F0),O1,vv=jt.select(Fn(F0)).on("keydown.brush",Yv).on("keyup.brush",Xy);if(jt.event.changedTouches?vv.on("touchmove.brush",cy).on("touchend.brush",yv):vv.on("mousemove.brush",cy).on("mouseup.brush",yv),lm.interrupt().selectAll("*").interrupt(),b1)I1[0]=Iu[0]-I1[0],I1[1]=Ku[0]-I1[1];else if(cm){var H1=+/w$/.test(cm),uv=+/^n/.test(cm);O1=[Iu[1-H1]-I1[0],Ku[1-uv]-I1[1]],I1[0]=Iu[H1],I1[1]=Ku[uv]}else jt.event.altKey&&(C1=I1.slice());lm.style("pointer-events","none").selectAll(".resize").style("display",null),jt.select("body").style("cursor",X0.style("cursor")),Q0({type:"brushstart"}),cy();function Yv(){jt.event.keyCode==32&&(b1||(C1=null,I1[0]-=Iu[1],I1[1]-=Ku[1],b1=2),sp())}function Xy(){jt.event.keyCode==32&&b1==2&&(I1[0]+=Iu[1],I1[1]+=Ku[1],b1=0,sp())}function cy(){var Ev=jt.mouse(F0),Kv=!1;O1&&(Ev[0]+=O1[0],Ev[1]+=O1[1]),b1||(jt.event.altKey?(C1||(C1=[(Iu[0]+Iu[1])/2,(Ku[0]+Ku[1])/2]),I1[0]=Iu[+(Ev[0]<C1[0])],I1[1]=Ku[+(Ev[1]<C1[1])]):C1=null),_g&&v1(Ev,Fl,0)&&(T0(lm),Kv=!0),qm&&v1(Ev,Gl,1)&&(em(lm),Kv=!0),Kv&&(_0(lm),Q0({type:"brush",mode:b1?"move":"resize"}))}function v1(Ev,Kv,By){var i2=D3(Kv),p2=i2[0],_2=i2[1],T2=I1[By],k2=By?Ku:Iu,F2=k2[1]-k2[0],x2,P2;if(b1&&(p2-=T2,_2-=F2+T2),x2=(By?Ip:xp)?Math.max(p2,Math.min(_2,Ev[By])):Ev[By],b1?P2=(x2+=T2)+F2:(C1&&(T2=Math.max(p2,Math.min(_2,2*C1[By]-x2))),T2<x2?(P2=x2,x2=T2):P2=T2),k2[0]!=x2||k2[1]!=P2)return By?_p=null:_h=null,k2[0]=x2,k2[1]=P2,!0}function yv(){cy(),lm.style("pointer-events","all").selectAll(".resize").style("display",Zp.empty()?"none":null),jt.select("body").style("cursor",null),vv.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),_1(),Q0({type:"brushend"})}}return Zp.x=function(F0){return arguments.length?(Fl=F0,Kp=Sx[!Fl<<1|!Gl],Zp):Fl},Zp.y=function(F0){return arguments.length?(Gl=F0,Kp=Sx[!Fl<<1|!Gl],Zp):Gl},Zp.clamp=function(F0){return arguments.length?(Fl&&Gl?(xp=!!F0[0],Ip=!!F0[1]):Fl?xp=!!F0:Gl&&(Ip=!!F0),Zp):Fl&&Gl?[xp,Ip]:Fl?xp:Gl?Ip:null},Zp.extent=function(F0){var X0,Q0,lm,cm,_g;return arguments.length?(Fl&&(X0=F0[0],Q0=F0[1],Gl&&(X0=X0[0],Q0=Q0[0]),_h=[X0,Q0],Fl.invert&&(X0=Fl(X0),Q0=Fl(Q0)),Q0<X0&&(_g=X0,X0=Q0,Q0=_g),(X0!=Iu[0]||Q0!=Iu[1])&&(Iu=[X0,Q0])),Gl&&(lm=F0[0],cm=F0[1],Fl&&(lm=lm[1],cm=cm[1]),_p=[lm,cm],Gl.invert&&(lm=Gl(lm),cm=Gl(cm)),cm<lm&&(_g=lm,lm=cm,cm=_g),(lm!=Ku[0]||cm!=Ku[1])&&(Ku=[lm,cm])),Zp):(Fl&&(_h?(X0=_h[0],Q0=_h[1]):(X0=Iu[0],Q0=Iu[1],Fl.invert&&(X0=Fl.invert(X0),Q0=Fl.invert(Q0)),Q0<X0&&(_g=X0,X0=Q0,Q0=_g))),Gl&&(_p?(lm=_p[0],cm=_p[1]):(lm=Ku[0],cm=Ku[1],Gl.invert&&(lm=Gl.invert(lm),cm=Gl.invert(cm)),cm<lm&&(_g=lm,lm=cm,cm=_g))),Fl&&Gl?[[X0,lm],[Q0,cm]]:Fl?[X0,Q0]:Gl&&[lm,cm])},Zp.clear=function(){return Zp.empty()||(Iu=[0,0],Ku=[0,0],_h=_p=null),Zp},Zp.empty=function(){return!!Fl&&Iu[0]==Iu[1]||!!Gl&&Ku[0]==Ku[1]},jt.rebind(Zp,Et,"on")};var sS={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Sx=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];jt.text=L0(function(Et){return Et.responseText}),jt.json=function(Et,Fl){return rm(Et,"application/json",lS,Fl)};function lS(Et){return JSON.parse(Et.responseText)}jt.html=function(Et,Fl){return rm(Et,"text/html",uS,Fl)};function uS(Et){var Fl=Ln.createRange();return Fl.selectNode(Ln.body),Fl.createContextualFragment(Et.responseText)}jt.xml=L0(function(Et){return Et.responseXML}),typeof hu=="object"&&hu.exports?hu.exports=jt:this.d3=jt}).apply(self)}),b=a((yu,hu)=>{(function(jt,it){typeof yu=="object"&&typeof hu<"u"?it(yu):(jt=jt||self,it(jt.d3=jt.d3||{}))})(yu,function(jt){var it=new Date,st=new Date;function Ln(cp,jp,a0,y0){function P0(E0){return cp(E0=arguments.length===0?new Date:new Date(+E0)),E0}return P0.floor=function(E0){return cp(E0=new Date(+E0)),E0},P0.ceil=function(E0){return cp(E0=new Date(E0-1)),jp(E0,1),cp(E0),E0},P0.round=function(E0){var O0=P0(E0),j0=P0.ceil(E0);return E0-O0<j0-E0?O0:j0},P0.offset=function(E0,O0){return jp(E0=new Date(+E0),O0==null?1:Math.floor(O0)),E0},P0.range=function(E0,O0,j0){var $0=[],tm;if(E0=P0.ceil(E0),j0=j0==null?1:Math.floor(j0),!(E0<O0)||!(j0>0))return $0;do $0.push(tm=new Date(+E0)),jp(E0,j0),cp(E0);while(tm<E0&&E0<O0);return $0},P0.filter=function(E0){return Ln(function(O0){if(O0>=O0)for(;cp(O0),!E0(O0);)O0.setTime(O0-1)},function(O0,j0){if(O0>=O0)if(j0<0)for(;++j0<=0;)for(;jp(O0,-1),!E0(O0););else for(;--j0>=0;)for(;jp(O0,1),!E0(O0););})},a0&&(P0.count=function(E0,O0){return it.setTime(+E0),st.setTime(+O0),cp(it),cp(st),Math.floor(a0(it,st))},P0.every=function(E0){return E0=Math.floor(E0),!isFinite(E0)||!(E0>0)?null:E0>1?P0.filter(y0?function(O0){return y0(O0)%E0===0}:function(O0){return P0.count(0,O0)%E0===0}):P0}),P0}var Ft=Ln(function(){},function(cp,jp){cp.setTime(+cp+jp)},function(cp,jp){return jp-cp});Ft.every=function(cp){return cp=Math.floor(cp),!isFinite(cp)||!(cp>0)?null:cp>1?Ln(function(jp){jp.setTime(Math.floor(jp/cp)*cp)},function(jp,a0){jp.setTime(+jp+a0*cp)},function(jp,a0){return(a0-jp)/cp}):Ft};var Fn=Ft.range,zn=1e3,yl=6e4,ot=36e5,_l=864e5,ls=6048e5,Sl=Ln(function(cp){cp.setTime(cp-cp.getMilliseconds())},function(cp,jp){cp.setTime(+cp+jp*zn)},function(cp,jp){return(jp-cp)/zn},function(cp){return cp.getUTCSeconds()}),Pl=Sl.range,Tl=Ln(function(cp){cp.setTime(cp-cp.getMilliseconds()-cp.getSeconds()*zn)},function(cp,jp){cp.setTime(+cp+jp*yl)},function(cp,jp){return(jp-cp)/yl},function(cp){return cp.getMinutes()}),El=Tl.range,Ml=Ln(function(cp){cp.setTime(cp-cp.getMilliseconds()-cp.getSeconds()*zn-cp.getMinutes()*yl)},function(cp,jp){cp.setTime(+cp+jp*ot)},function(cp,jp){return(jp-cp)/ot},function(cp){return cp.getHours()}),Rl=Ml.range,Bn=Ln(function(cp){cp.setHours(0,0,0,0)},function(cp,jp){cp.setDate(cp.getDate()+jp)},function(cp,jp){return(jp-cp-(jp.getTimezoneOffset()-cp.getTimezoneOffset())*yl)/_l},function(cp){return cp.getDate()-1}),Cl=Bn.range;function Al(cp){return Ln(function(jp){jp.setDate(jp.getDate()-(jp.getDay()+7-cp)%7),jp.setHours(0,0,0,0)},function(jp,a0){jp.setDate(jp.getDate()+a0*7)},function(jp,a0){return(a0-jp-(a0.getTimezoneOffset()-jp.getTimezoneOffset())*yl)/ls})}var Il=Al(0),$l=Al(1),Bu=Al(2),Jl=Al(3),Kl=Al(4),Bl=Al(5),$u=Al(6),mu=Il.range,Pu=$l.range,bu=Bu.range,Fu=Jl.range,Hu=Kl.range,Gu=Bl.range,Xl=$u.range,Wu=Ln(function(cp){cp.setDate(1),cp.setHours(0,0,0,0)},function(cp,jp){cp.setMonth(cp.getMonth()+jp)},function(cp,jp){return jp.getMonth()-cp.getMonth()+(jp.getFullYear()-cp.getFullYear())*12},function(cp){return cp.getMonth()}),Yu=Wu.range,ap=Ln(function(cp){cp.setMonth(0,1),cp.setHours(0,0,0,0)},function(cp,jp){cp.setFullYear(cp.getFullYear()+jp)},function(cp,jp){return jp.getFullYear()-cp.getFullYear()},function(cp){return cp.getFullYear()});ap.every=function(cp){return!isFinite(cp=Math.floor(cp))||!(cp>0)?null:Ln(function(jp){jp.setFullYear(Math.floor(jp.getFullYear()/cp)*cp),jp.setMonth(0,1),jp.setHours(0,0,0,0)},function(jp,a0){jp.setFullYear(jp.getFullYear()+a0*cp)})};var rp=ap.range,sp=Ln(function(cp){cp.setUTCSeconds(0,0)},function(cp,jp){cp.setTime(+cp+jp*yl)},function(cp,jp){return(jp-cp)/yl},function(cp){return cp.getUTCMinutes()}),bp=sp.range,Cp=Ln(function(cp){cp.setUTCMinutes(0,0,0)},function(cp,jp){cp.setTime(+cp+jp*ot)},function(cp,jp){return(jp-cp)/ot},function(cp){return cp.getUTCHours()}),Ap=Cp.range,Lu=Ln(function(cp){cp.setUTCHours(0,0,0,0)},function(cp,jp){cp.setUTCDate(cp.getUTCDate()+jp)},function(cp,jp){return(jp-cp)/_l},function(cp){return cp.getUTCDate()-1}),Nu=Lu.range;function Hl(cp){return Ln(function(jp){jp.setUTCDate(jp.getUTCDate()-(jp.getUTCDay()+7-cp)%7),jp.setUTCHours(0,0,0,0)},function(jp,a0){jp.setUTCDate(jp.getUTCDate()+a0*7)},function(jp,a0){return(a0-jp)/ls})}var qu=Hl(0),np=Hl(1),vu=Hl(2),Ol=Hl(3),Wl=Hl(4),Mu=Hl(5),zu=Hl(6),ip=qu.range,pp=np.range,vp=vu.range,Pp=Ol.range,Gp=Wl.range,r0=Mu.range,C0=zu.range,f0=Ln(function(cp){cp.setUTCDate(1),cp.setUTCHours(0,0,0,0)},function(cp,jp){cp.setUTCMonth(cp.getUTCMonth()+jp)},function(cp,jp){return jp.getUTCMonth()-cp.getUTCMonth()+(jp.getUTCFullYear()-cp.getUTCFullYear())*12},function(cp){return cp.getUTCMonth()}),d0=f0.range,Sp=Ln(function(cp){cp.setUTCMonth(0,1),cp.setUTCHours(0,0,0,0)},function(cp,jp){cp.setUTCFullYear(cp.getUTCFullYear()+jp)},function(cp,jp){return jp.getUTCFullYear()-cp.getUTCFullYear()},function(cp){return cp.getUTCFullYear()});Sp.every=function(cp){return!isFinite(cp=Math.floor(cp))||!(cp>0)?null:Ln(function(jp){jp.setUTCFullYear(Math.floor(jp.getUTCFullYear()/cp)*cp),jp.setUTCMonth(0,1),jp.setUTCHours(0,0,0,0)},function(jp,a0){jp.setUTCFullYear(jp.getUTCFullYear()+a0*cp)})};var Fp=Sp.range;jt.timeDay=Bn,jt.timeDays=Cl,jt.timeFriday=Bl,jt.timeFridays=Gu,jt.timeHour=Ml,jt.timeHours=Rl,jt.timeInterval=Ln,jt.timeMillisecond=Ft,jt.timeMilliseconds=Fn,jt.timeMinute=Tl,jt.timeMinutes=El,jt.timeMonday=$l,jt.timeMondays=Pu,jt.timeMonth=Wu,jt.timeMonths=Yu,jt.timeSaturday=$u,jt.timeSaturdays=Xl,jt.timeSecond=Sl,jt.timeSeconds=Pl,jt.timeSunday=Il,jt.timeSundays=mu,jt.timeThursday=Kl,jt.timeThursdays=Hu,jt.timeTuesday=Bu,jt.timeTuesdays=bu,jt.timeWednesday=Jl,jt.timeWednesdays=Fu,jt.timeWeek=Il,jt.timeWeeks=mu,jt.timeYear=ap,jt.timeYears=rp,jt.utcDay=Lu,jt.utcDays=Nu,jt.utcFriday=Mu,jt.utcFridays=r0,jt.utcHour=Cp,jt.utcHours=Ap,jt.utcMillisecond=Ft,jt.utcMilliseconds=Fn,jt.utcMinute=sp,jt.utcMinutes=bp,jt.utcMonday=np,jt.utcMondays=pp,jt.utcMonth=f0,jt.utcMonths=d0,jt.utcSaturday=zu,jt.utcSaturdays=C0,jt.utcSecond=Sl,jt.utcSeconds=Pl,jt.utcSunday=qu,jt.utcSundays=ip,jt.utcThursday=Wl,jt.utcThursdays=Gp,jt.utcTuesday=vu,jt.utcTuesdays=vp,jt.utcWednesday=Ol,jt.utcWednesdays=Pp,jt.utcWeek=qu,jt.utcWeeks=ip,jt.utcYear=Sp,jt.utcYears=Fp,Object.defineProperty(jt,"__esModule",{value:!0})})}),_=a((yu,hu)=>{(function(jt,it){typeof yu=="object"&&typeof hu<"u"?it(yu,b()):(jt=jt||self,it(jt.d3=jt.d3||{},jt.d3))})(yu,function(jt,it){function st(kp){if(0<=kp.y&&kp.y<100){var qp=new Date(-1,kp.m,kp.d,kp.H,kp.M,kp.S,kp.L);return qp.setFullYear(kp.y),qp}return new Date(kp.y,kp.m,kp.d,kp.H,kp.M,kp.S,kp.L)}function Ln(kp){if(0<=kp.y&&kp.y<100){var qp=new Date(Date.UTC(-1,kp.m,kp.d,kp.H,kp.M,kp.S,kp.L));return qp.setUTCFullYear(kp.y),qp}return new Date(Date.UTC(kp.y,kp.m,kp.d,kp.H,kp.M,kp.S,kp.L))}function Ft(kp,qp,Xu){return{y:kp,m:qp,d:Xu,H:0,M:0,S:0,L:0}}function Fn(kp){var qp=kp.dateTime,Xu=kp.date,hp=kp.time,yp=kp.periods,Dp=kp.days,Bp=kp.shortDays,Jp=kp.months,n0=kp.shortMonths,b0=Pl(yp),v0=Tl(yp),x0=Pl(Dp),U0=Tl(Dp),W0=Pl(Bp),Y0=Tl(Bp),gm=Pl(Jp),Dm=Tl(Jp),Jm=Pl(n0),a1=Tl(n0),h1={a:cv,A:dv,b:L1,B:iv,c:null,d:Wu,e:Wu,f:bp,H:Yu,I:ap,j:rp,L:sp,m:Cp,M:Ap,p:W1,q:Hm,Q:O0,s:j0,S:Lu,u:Nu,U:Hl,V:qu,w:np,W:vu,x:null,X:null,y:Ol,Y:Wl,Z:Mu,"%":E0},zm={a:Tv,A:ep,b:Qu,B:Up,c:null,d:zu,e:zu,f:Gp,H:ip,I:pp,j:vp,L:Pp,m:r0,M:C0,p:_f,q:u0,Q:O0,s:j0,S:f0,u:d0,U:Sp,V:Fp,w:cp,W:jp,x:null,X:null,y:a0,Y:y0,Z:P0,"%":E0},xm={a:Wm,A:Om,b:A1,B:B1,c:o1,d:Kl,e:Kl,f:Fu,H:$u,I:$u,j:Bl,L:bu,m:Jl,M:mu,p:jm,q:Bu,Q:Gu,s:Xl,S:Pu,u:Ml,U:Rl,V:Bn,w:El,W:Cl,x:$1,X:X1,y:Il,Y:Al,Z:$l,"%":Hu};h1.x=Qm(Xu,h1),h1.X=Qm(hp,h1),h1.c=Qm(qp,h1),zm.x=Qm(Xu,zm),zm.X=Qm(hp,zm),zm.c=Qm(qp,zm);function Qm(Vp,Yp){return function(p0){var o0=[],M0=-1,L0=0,rm=Vp.length,Tm,Mm,Vm;for(p0 instanceof Date||(p0=new Date(+p0));++M0<rm;)Vp.charCodeAt(M0)===37&&(o0.push(Vp.slice(L0,M0)),(Mm=zn[Tm=Vp.charAt(++M0)])!=null?Tm=Vp.charAt(++M0):Mm=Tm==="e"?" ":"0",(Vm=Yp[Tm])&&(Tm=Vm(p0,Mm)),o0.push(Tm),L0=M0+1);return o0.push(Vp.slice(L0,M0)),o0.join("")}}function l1(Vp,Yp){return function(p0){var o0=Ft(1900,void 0,1),M0=Xm(o0,Vp,p0+="",0),L0,rm;if(M0!=p0.length)return null;if("Q"in o0)return new Date(o0.Q);if("s"in o0)return new Date(o0.s*1e3+("L"in o0?o0.L:0));if(Yp&&!("Z"in o0)&&(o0.Z=0),"p"in o0&&(o0.H=o0.H%12+o0.p*12),o0.m===void 0&&(o0.m="q"in o0?o0.q:0),"V"in o0){if(o0.V<1||o0.V>53)return null;"w"in o0||(o0.w=1),"Z"in o0?(L0=Ln(Ft(o0.y,0,1)),rm=L0.getUTCDay(),L0=rm>4||rm===0?it.utcMonday.ceil(L0):it.utcMonday(L0),L0=it.utcDay.offset(L0,(o0.V-1)*7),o0.y=L0.getUTCFullYear(),o0.m=L0.getUTCMonth(),o0.d=L0.getUTCDate()+(o0.w+6)%7):(L0=st(Ft(o0.y,0,1)),rm=L0.getDay(),L0=rm>4||rm===0?it.timeMonday.ceil(L0):it.timeMonday(L0),L0=it.timeDay.offset(L0,(o0.V-1)*7),o0.y=L0.getFullYear(),o0.m=L0.getMonth(),o0.d=L0.getDate()+(o0.w+6)%7)}else("W"in o0||"U"in o0)&&("w"in o0||(o0.w="u"in o0?o0.u%7:"W"in o0?1:0),rm="Z"in o0?Ln(Ft(o0.y,0,1)).getUTCDay():st(Ft(o0.y,0,1)).getDay(),o0.m=0,o0.d="W"in o0?(o0.w+6)%7+o0.W*7-(rm+5)%7:o0.w+o0.U*7-(rm+6)%7);return"Z"in o0?(o0.H+=o0.Z/100|0,o0.M+=o0.Z%100,Ln(o0)):st(o0)}}function Xm(Vp,Yp,p0,o0){for(var M0=0,L0=Yp.length,rm=p0.length,Tm,Mm;M0<L0;){if(o0>=rm)return-1;if(Tm=Yp.charCodeAt(M0++),Tm===37){if(Tm=Yp.charAt(M0++),Mm=xm[Tm in zn?Yp.charAt(M0++):Tm],!Mm||(o0=Mm(Vp,p0,o0))<0)return-1}else if(Tm!=p0.charCodeAt(o0++))return-1}return o0}function jm(Vp,Yp,p0){var o0=b0.exec(Yp.slice(p0));return o0?(Vp.p=v0[o0[0].toLowerCase()],p0+o0[0].length):-1}function Wm(Vp,Yp,p0){var o0=W0.exec(Yp.slice(p0));return o0?(Vp.w=Y0[o0[0].toLowerCase()],p0+o0[0].length):-1}function Om(Vp,Yp,p0){var o0=x0.exec(Yp.slice(p0));return o0?(Vp.w=U0[o0[0].toLowerCase()],p0+o0[0].length):-1}function A1(Vp,Yp,p0){var o0=Jm.exec(Yp.slice(p0));return o0?(Vp.m=a1[o0[0].toLowerCase()],p0+o0[0].length):-1}function B1(Vp,Yp,p0){var o0=gm.exec(Yp.slice(p0));return o0?(Vp.m=Dm[o0[0].toLowerCase()],p0+o0[0].length):-1}function o1(Vp,Yp,p0){return Xm(Vp,qp,Yp,p0)}function $1(Vp,Yp,p0){return Xm(Vp,Xu,Yp,p0)}function X1(Vp,Yp,p0){return Xm(Vp,hp,Yp,p0)}function cv(Vp){return Bp[Vp.getDay()]}function dv(Vp){return Dp[Vp.getDay()]}function L1(Vp){return n0[Vp.getMonth()]}function iv(Vp){return Jp[Vp.getMonth()]}function W1(Vp){return yp[+(Vp.getHours()>=12)]}function Hm(Vp){return 1+~~(Vp.getMonth()/3)}function Tv(Vp){return Bp[Vp.getUTCDay()]}function ep(Vp){return Dp[Vp.getUTCDay()]}function Qu(Vp){return n0[Vp.getUTCMonth()]}function Up(Vp){return Jp[Vp.getUTCMonth()]}function _f(Vp){return yp[+(Vp.getUTCHours()>=12)]}function u0(Vp){return 1+~~(Vp.getUTCMonth()/3)}return{format:function(Vp){var Yp=Qm(Vp+="",h1);return Yp.toString=function(){return Vp},Yp},parse:function(Vp){var Yp=l1(Vp+="",!1);return Yp.toString=function(){return Vp},Yp},utcFormat:function(Vp){var Yp=Qm(Vp+="",zm);return Yp.toString=function(){return Vp},Yp},utcParse:function(Vp){var Yp=l1(Vp+="",!0);return Yp.toString=function(){return Vp},Yp}}}var zn={"-":"",_:" ",0:"0"},yl=/^\s*\d+/,ot=/^%/,_l=/[\\^$*+?|[\]().{}]/g;function ls(kp,qp,Xu){var hp=kp<0?"-":"",yp=(hp?-kp:kp)+"",Dp=yp.length;return hp+(Dp<Xu?new Array(Xu-Dp+1).join(qp)+yp:yp)}function Sl(kp){return kp.replace(_l,"\\$&")}function Pl(kp){return new RegExp("^(?:"+kp.map(Sl).join("|")+")","i")}function Tl(kp){for(var qp={},Xu=-1,hp=kp.length;++Xu<hp;)qp[kp[Xu].toLowerCase()]=Xu;return qp}function El(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+1));return hp?(kp.w=+hp[0],Xu+hp[0].length):-1}function Ml(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+1));return hp?(kp.u=+hp[0],Xu+hp[0].length):-1}function Rl(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.U=+hp[0],Xu+hp[0].length):-1}function Bn(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.V=+hp[0],Xu+hp[0].length):-1}function Cl(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.W=+hp[0],Xu+hp[0].length):-1}function Al(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+4));return hp?(kp.y=+hp[0],Xu+hp[0].length):-1}function Il(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.y=+hp[0]+(+hp[0]>68?1900:2e3),Xu+hp[0].length):-1}function $l(kp,qp,Xu){var hp=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(qp.slice(Xu,Xu+6));return hp?(kp.Z=hp[1]?0:-(hp[2]+(hp[3]||"00")),Xu+hp[0].length):-1}function Bu(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+1));return hp?(kp.q=hp[0]*3-3,Xu+hp[0].length):-1}function Jl(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.m=hp[0]-1,Xu+hp[0].length):-1}function Kl(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.d=+hp[0],Xu+hp[0].length):-1}function Bl(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+3));return hp?(kp.m=0,kp.d=+hp[0],Xu+hp[0].length):-1}function $u(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.H=+hp[0],Xu+hp[0].length):-1}function mu(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.M=+hp[0],Xu+hp[0].length):-1}function Pu(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+2));return hp?(kp.S=+hp[0],Xu+hp[0].length):-1}function bu(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+3));return hp?(kp.L=+hp[0],Xu+hp[0].length):-1}function Fu(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu,Xu+6));return hp?(kp.L=Math.floor(hp[0]/1e3),Xu+hp[0].length):-1}function Hu(kp,qp,Xu){var hp=ot.exec(qp.slice(Xu,Xu+1));return hp?Xu+hp[0].length:-1}function Gu(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu));return hp?(kp.Q=+hp[0],Xu+hp[0].length):-1}function Xl(kp,qp,Xu){var hp=yl.exec(qp.slice(Xu));return hp?(kp.s=+hp[0],Xu+hp[0].length):-1}function Wu(kp,qp){return ls(kp.getDate(),qp,2)}function Yu(kp,qp){return ls(kp.getHours(),qp,2)}function ap(kp,qp){return ls(kp.getHours()%12||12,qp,2)}function rp(kp,qp){return ls(1+it.timeDay.count(it.timeYear(kp),kp),qp,3)}function sp(kp,qp){return ls(kp.getMilliseconds(),qp,3)}function bp(kp,qp){return sp(kp,qp)+"000"}function Cp(kp,qp){return ls(kp.getMonth()+1,qp,2)}function Ap(kp,qp){return ls(kp.getMinutes(),qp,2)}function Lu(kp,qp){return ls(kp.getSeconds(),qp,2)}function Nu(kp){var qp=kp.getDay();return qp===0?7:qp}function Hl(kp,qp){return ls(it.timeSunday.count(it.timeYear(kp)-1,kp),qp,2)}function qu(kp,qp){var Xu=kp.getDay();return kp=Xu>=4||Xu===0?it.timeThursday(kp):it.timeThursday.ceil(kp),ls(it.timeThursday.count(it.timeYear(kp),kp)+(it.timeYear(kp).getDay()===4),qp,2)}function np(kp){return kp.getDay()}function vu(kp,qp){return ls(it.timeMonday.count(it.timeYear(kp)-1,kp),qp,2)}function Ol(kp,qp){return ls(kp.getFullYear()%100,qp,2)}function Wl(kp,qp){return ls(kp.getFullYear()%1e4,qp,4)}function Mu(kp){var qp=kp.getTimezoneOffset();return(qp>0?"-":(qp*=-1,"+"))+ls(qp/60|0,"0",2)+ls(qp%60,"0",2)}function zu(kp,qp){return ls(kp.getUTCDate(),qp,2)}function ip(kp,qp){return ls(kp.getUTCHours(),qp,2)}function pp(kp,qp){return ls(kp.getUTCHours()%12||12,qp,2)}function vp(kp,qp){return ls(1+it.utcDay.count(it.utcYear(kp),kp),qp,3)}function Pp(kp,qp){return ls(kp.getUTCMilliseconds(),qp,3)}function Gp(kp,qp){return Pp(kp,qp)+"000"}function r0(kp,qp){return ls(kp.getUTCMonth()+1,qp,2)}function C0(kp,qp){return ls(kp.getUTCMinutes(),qp,2)}function f0(kp,qp){return ls(kp.getUTCSeconds(),qp,2)}function d0(kp){var qp=kp.getUTCDay();return qp===0?7:qp}function Sp(kp,qp){return ls(it.utcSunday.count(it.utcYear(kp)-1,kp),qp,2)}function Fp(kp,qp){var Xu=kp.getUTCDay();return kp=Xu>=4||Xu===0?it.utcThursday(kp):it.utcThursday.ceil(kp),ls(it.utcThursday.count(it.utcYear(kp),kp)+(it.utcYear(kp).getUTCDay()===4),qp,2)}function cp(kp){return kp.getUTCDay()}function jp(kp,qp){return ls(it.utcMonday.count(it.utcYear(kp)-1,kp),qp,2)}function a0(kp,qp){return ls(kp.getUTCFullYear()%100,qp,2)}function y0(kp,qp){return ls(kp.getUTCFullYear()%1e4,qp,4)}function P0(){return"+0000"}function E0(){return"%"}function O0(kp){return+kp}function j0(kp){return Math.floor(+kp/1e3)}var $0;tm({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tm(kp){return $0=Fn(kp),jt.timeFormat=$0.format,jt.timeParse=$0.parse,jt.utcFormat=$0.utcFormat,jt.utcParse=$0.utcParse,$0}var A0="%Y-%m-%dT%H:%M:%S.%LZ";function sm(kp){return kp.toISOString()}var pm=Date.prototype.toISOString?sm:jt.utcFormat(A0);function nm(kp){var qp=new Date(kp);return isNaN(qp)?null:qp}var vm=+new Date("2000-01-01T00:00:00.000Z")?nm:jt.utcParse(A0);jt.isoFormat=pm,jt.isoParse=vm,jt.timeFormatDefaultLocale=tm,jt.timeFormatLocale=Fn,Object.defineProperty(jt,"__esModule",{value:!0})})}),$=a((yu,hu)=>{(function(jt,it){typeof yu=="object"&&typeof hu<"u"?it(yu):(jt=typeof globalThis<"u"?globalThis:jt||self,it(jt.d3=jt.d3||{}))})(yu,function(jt){function it(Jl){return Math.abs(Jl=Math.round(Jl))>=1e21?Jl.toLocaleString("en").replace(/,/g,""):Jl.toString(10)}function st(Jl,Kl){if((Bl=(Jl=Kl?Jl.toExponential(Kl-1):Jl.toExponential()).indexOf("e"))<0)return null;var Bl,$u=Jl.slice(0,Bl);return[$u.length>1?$u[0]+$u.slice(2):$u,+Jl.slice(Bl+1)]}function Ln(Jl){return Jl=st(Math.abs(Jl)),Jl?Jl[1]:NaN}function Ft(Jl,Kl){return function(Bl,$u){for(var mu=Bl.length,Pu=[],bu=0,Fu=Jl[0],Hu=0;mu>0&&Fu>0&&(Hu+Fu+1>$u&&(Fu=Math.max(1,$u-Hu)),Pu.push(Bl.substring(mu-=Fu,mu+Fu)),!((Hu+=Fu+1)>$u));)Fu=Jl[bu=(bu+1)%Jl.length];return Pu.reverse().join(Kl)}}function Fn(Jl){return function(Kl){return Kl.replace(/[0-9]/g,function(Bl){return Jl[+Bl]})}}var zn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yl(Jl){if(!(Kl=zn.exec(Jl)))throw new Error("invalid format: "+Jl);var Kl;return new ot({fill:Kl[1],align:Kl[2],sign:Kl[3],symbol:Kl[4],zero:Kl[5],width:Kl[6],comma:Kl[7],precision:Kl[8]&&Kl[8].slice(1),trim:Kl[9],type:Kl[10]})}yl.prototype=ot.prototype;function ot(Jl){this.fill=Jl.fill===void 0?" ":Jl.fill+"",this.align=Jl.align===void 0?">":Jl.align+"",this.sign=Jl.sign===void 0?"-":Jl.sign+"",this.symbol=Jl.symbol===void 0?"":Jl.symbol+"",this.zero=!!Jl.zero,this.width=Jl.width===void 0?void 0:+Jl.width,this.comma=!!Jl.comma,this.precision=Jl.precision===void 0?void 0:+Jl.precision,this.trim=!!Jl.trim,this.type=Jl.type===void 0?"":Jl.type+""}ot.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _l(Jl){e:for(var Kl=Jl.length,Bl=1,$u=-1,mu;Bl<Kl;++Bl)switch(Jl[Bl]){case".":$u=mu=Bl;break;case"0":$u===0&&($u=Bl),mu=Bl;break;default:if(!+Jl[Bl])break e;$u>0&&($u=0);break}return $u>0?Jl.slice(0,$u)+Jl.slice(mu+1):Jl}var ls;function Sl(Jl,Kl){var Bl=st(Jl,Kl);if(!Bl)return Jl+"";var $u=Bl[0],mu=Bl[1],Pu=mu-(ls=Math.max(-8,Math.min(8,Math.floor(mu/3)))*3)+1,bu=$u.length;return Pu===bu?$u:Pu>bu?$u+new Array(Pu-bu+1).join("0"):Pu>0?$u.slice(0,Pu)+"."+$u.slice(Pu):"0."+new Array(1-Pu).join("0")+st(Jl,Math.max(0,Kl+Pu-1))[0]}function Pl(Jl,Kl){var Bl=st(Jl,Kl);if(!Bl)return Jl+"";var $u=Bl[0],mu=Bl[1];return mu<0?"0."+new Array(-mu).join("0")+$u:$u.length>mu+1?$u.slice(0,mu+1)+"."+$u.slice(mu+1):$u+new Array(mu-$u.length+2).join("0")}var Tl={"%":function(Jl,Kl){return(Jl*100).toFixed(Kl)},b:function(Jl){return Math.round(Jl).toString(2)},c:function(Jl){return Jl+""},d:it,e:function(Jl,Kl){return Jl.toExponential(Kl)},f:function(Jl,Kl){return Jl.toFixed(Kl)},g:function(Jl,Kl){return Jl.toPrecision(Kl)},o:function(Jl){return Math.round(Jl).toString(8)},p:function(Jl,Kl){return Pl(Jl*100,Kl)},r:Pl,s:Sl,X:function(Jl){return Math.round(Jl).toString(16).toUpperCase()},x:function(Jl){return Math.round(Jl).toString(16)}};function El(Jl){return Jl}var Ml=Array.prototype.map,Rl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bn(Jl){var Kl=Jl.grouping===void 0||Jl.thousands===void 0?El:Ft(Ml.call(Jl.grouping,Number),Jl.thousands+""),Bl=Jl.currency===void 0?"":Jl.currency[0]+"",$u=Jl.currency===void 0?"":Jl.currency[1]+"",mu=Jl.decimal===void 0?".":Jl.decimal+"",Pu=Jl.numerals===void 0?El:Fn(Ml.call(Jl.numerals,String)),bu=Jl.percent===void 0?"%":Jl.percent+"",Fu=Jl.minus===void 0?"-":Jl.minus+"",Hu=Jl.nan===void 0?"NaN":Jl.nan+"";function Gu(Wu){Wu=yl(Wu);var Yu=Wu.fill,ap=Wu.align,rp=Wu.sign,sp=Wu.symbol,bp=Wu.zero,Cp=Wu.width,Ap=Wu.comma,Lu=Wu.precision,Nu=Wu.trim,Hl=Wu.type;Hl==="n"?(Ap=!0,Hl="g"):Tl[Hl]||(Lu===void 0&&(Lu=12),Nu=!0,Hl="g"),(bp||Yu==="0"&&ap==="=")&&(bp=!0,Yu="0",ap="=");var qu=sp==="$"?Bl:sp==="#"&&/[boxX]/.test(Hl)?"0"+Hl.toLowerCase():"",np=sp==="$"?$u:/[%p]/.test(Hl)?bu:"",vu=Tl[Hl],Ol=/[defgprs%]/.test(Hl);Lu=Lu===void 0?6:/[gprs]/.test(Hl)?Math.max(1,Math.min(21,Lu)):Math.max(0,Math.min(20,Lu));function Wl(Mu){var zu=qu,ip=np,pp,vp,Pp;if(Hl==="c")ip=vu(Mu)+ip,Mu="";else{Mu=+Mu;var Gp=Mu<0||1/Mu<0;if(Mu=isNaN(Mu)?Hu:vu(Math.abs(Mu),Lu),Nu&&(Mu=_l(Mu)),Gp&&+Mu==0&&rp!=="+"&&(Gp=!1),zu=(Gp?rp==="("?rp:Fu:rp==="-"||rp==="("?"":rp)+zu,ip=(Hl==="s"?Rl[8+ls/3]:"")+ip+(Gp&&rp==="("?")":""),Ol){for(pp=-1,vp=Mu.length;++pp<vp;)if(Pp=Mu.charCodeAt(pp),48>Pp||Pp>57){ip=(Pp===46?mu+Mu.slice(pp+1):Mu.slice(pp))+ip,Mu=Mu.slice(0,pp);break}}}Ap&&!bp&&(Mu=Kl(Mu,1/0));var r0=zu.length+Mu.length+ip.length,C0=r0<Cp?new Array(Cp-r0+1).join(Yu):"";switch(Ap&&bp&&(Mu=Kl(C0+Mu,C0.length?Cp-ip.length:1/0),C0=""),ap){case"<":Mu=zu+Mu+ip+C0;break;case"=":Mu=zu+C0+Mu+ip;break;case"^":Mu=C0.slice(0,r0=C0.length>>1)+zu+Mu+ip+C0.slice(r0);break;default:Mu=C0+zu+Mu+ip;break}return Pu(Mu)}return Wl.toString=function(){return Wu+""},Wl}function Xl(Wu,Yu){var ap=Gu((Wu=yl(Wu),Wu.type="f",Wu)),rp=Math.max(-8,Math.min(8,Math.floor(Ln(Yu)/3)))*3,sp=Math.pow(10,-rp),bp=Rl[8+rp/3];return function(Cp){return ap(sp*Cp)+bp}}return{format:Gu,formatPrefix:Xl}}var Cl;Al({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Al(Jl){return Cl=Bn(Jl),jt.format=Cl.format,jt.formatPrefix=Cl.formatPrefix,Cl}function Il(Jl){return Math.max(0,-Ln(Math.abs(Jl)))}function $l(Jl,Kl){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ln(Kl)/3)))*3-Ln(Math.abs(Jl)))}function Bu(Jl,Kl){return Jl=Math.abs(Jl),Kl=Math.abs(Kl)-Jl,Math.max(0,Ln(Kl)-Ln(Jl))+1}jt.FormatSpecifier=ot,jt.formatDefaultLocale=Al,jt.formatLocale=Bn,jt.formatSpecifier=yl,jt.precisionFixed=Il,jt.precisionPrefix=$l,jt.precisionRound=Bu,Object.defineProperty(jt,"__esModule",{value:!0})})}),j=a((yu,hu)=>{hu.exports=function(jt){for(var it=jt.length,st,Ln=0;Ln<it;Ln++)if(st=jt.charCodeAt(Ln),(st<9||st>13)&&st!==32&&st!==133&&st!==160&&st!==5760&&st!==6158&&(st<8192||st>8205)&&st!==8232&&st!==8233&&st!==8239&&st!==8287&&st!==8288&&st!==12288&&st!==65279)return!1;return!0}}),rt=a((yu,hu)=>{var jt=j();hu.exports=function(it){var st=typeof it;if(st==="string"){var Ln=it;if(it=+it,it===0&&jt(Ln))return!1}else if(st!=="number")return!1;return it-it<1}}),nt=a((yu,hu)=>{hu.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:""}}),In=a((yu,hu)=>{(function(jt,it){typeof yu=="object"&&typeof hu<"u"?it(yu):(jt=typeof globalThis<"u"?globalThis:jt||self,it(jt["base64-arraybuffer"]={}))})(yu,function(jt){for(var it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",st=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ln=0;Ln<it.length;Ln++)st[it.charCodeAt(Ln)]=Ln;var Ft=function(zn){var yl=new Uint8Array(zn),ot,_l=yl.length,ls="";for(ot=0;ot<_l;ot+=3)ls+=it[yl[ot]>>2],ls+=it[(yl[ot]&3)<<4|yl[ot+1]>>4],ls+=it[(yl[ot+1]&15)<<2|yl[ot+2]>>6],ls+=it[yl[ot+2]&63];return _l%3===2?ls=ls.substring(0,ls.length-1)+"=":_l%3===1&&(ls=ls.substring(0,ls.length-2)+"=="),ls},Fn=function(zn){var yl=zn.length*.75,ot=zn.length,_l,ls=0,Sl,Pl,Tl,El;zn[zn.length-1]==="="&&(yl--,zn[zn.length-2]==="="&&yl--);var Ml=new ArrayBuffer(yl),Rl=new Uint8Array(Ml);for(_l=0;_l<ot;_l+=4)Sl=st[zn.charCodeAt(_l)],Pl=st[zn.charCodeAt(_l+1)],Tl=st[zn.charCodeAt(_l+2)],El=st[zn.charCodeAt(_l+3)],Rl[ls++]=Sl<<2|Pl>>4,Rl[ls++]=(Pl&15)<<4|Tl>>2,Rl[ls++]=(Tl&3)<<6|El&63;return Ml};jt.decode=Fn,jt.encode=Ft,Object.defineProperty(jt,"__esModule",{value:!0})})}),xl=a((yu,hu)=>{hu.exports=function(jt){return window&&window.process&&window.process.versions?Object.prototype.toString.call(jt)==="[object Object]":Object.prototype.toString.call(jt)==="[object Object]"&&Object.getPrototypeOf(jt).hasOwnProperty("hasOwnProperty")}}),Ll=a(yu=>{var hu=In().decode,jt=xl(),it=Array.isArray,st=ArrayBuffer,Ln=DataView;function Ft(Sl){return st.isView(Sl)&&!(Sl instanceof Ln)}yu.isTypedArray=Ft;function Fn(Sl){return it(Sl)||Ft(Sl)}yu.isArrayOrTypedArray=Fn;function zn(Sl){return!Fn(Sl[0])}yu.isArray1D=zn,yu.ensureArray=function(Sl,Pl){return it(Sl)||(Sl=[]),Sl.length=Pl,Sl};var yl={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};yl.uint8c=yl.u1c,yl.uint8=yl.u1,yl.int8=yl.i1,yl.uint16=yl.u2,yl.int16=yl.i2,yl.uint32=yl.u4,yl.int32=yl.i4,yl.float32=yl.f4,yl.float64=yl.f8;function ot(Sl){return Sl.constructor===ArrayBuffer}yu.isArrayBuffer=ot,yu.decodeTypedArraySpec=function(Sl){var Pl=[],Tl=_l(Sl),El=Tl.dtype,Ml=yl[El];if(!Ml)throw new Error('Error in dtype: "'+El+'"');var Rl=Ml.BYTES_PER_ELEMENT,Bn=Tl.bdata;ot(Bn)||(Bn=hu(Bn));var Cl=Tl.shape===void 0?[Bn.byteLength/Rl]:(""+Tl.shape).split(",");Cl.reverse();var Al=Cl.length,Il,$l,Bu=+Cl[0],Jl=Rl*Bu,Kl=0;if(Al===1)Pl=new Ml(Bn);else if(Al===2)for(Il=+Cl[1],$l=0;$l<Il;$l++)Pl[$l]=new Ml(Bn,Kl,Bu),Kl+=Jl;else if(Al===3){Il=+Cl[1];for(var Bl=+Cl[2],$u=0;$u<Bl;$u++)for(Pl[$u]=[],$l=0;$l<Il;$l++)Pl[$u][$l]=new Ml(Bn,Kl,Bu),Kl+=Jl}else throw new Error("ndim: "+Al+'is not supported with the shape:"'+Tl.shape+'"');return Pl.bdata=Tl.bdata,Pl.dtype=Tl.dtype,Pl.shape=Cl.reverse().join(","),Sl._inputArray=Pl,Pl},yu.isTypedArraySpec=function(Sl){return jt(Sl)&&Sl.hasOwnProperty("dtype")&&typeof Sl.dtype=="string"&&Sl.hasOwnProperty("bdata")&&(typeof Sl.bdata=="string"||ot(Sl.bdata))&&(Sl.shape===void 0||Sl.hasOwnProperty("shape")&&(typeof Sl.shape=="string"||typeof Sl.shape=="number"))};function _l(Sl){return{bdata:Sl.bdata,dtype:Sl.dtype,shape:Sl.shape}}yu.concat=function(){var Sl=[],Pl=!0,Tl=0,El,Ml,Rl,Bn,Cl,Al,Il,$l;for(Rl=0;Rl<arguments.length;Rl++)Bn=arguments[Rl],Al=Bn.length,Al&&(Ml?Sl.push(Bn):(Ml=Bn,Cl=Al),it(Bn)?El=!1:(Pl=!1,Tl?El!==Bn.constructor&&(El=!1):El=Bn.constructor),Tl+=Al);if(!Tl)return[];if(!Sl.length)return Ml;if(Pl)return Ml.concat.apply(Ml,Sl);if(El){for(Il=new El(Tl),Il.set(Ml),Rl=0;Rl<Sl.length;Rl++)Bn=Sl[Rl],Il.set(Bn,Cl),Cl+=Bn.length;return Il}for(Il=new Array(Tl),$l=0;$l<Ml.length;$l++)Il[$l]=Ml[$l];for(Rl=0;Rl<Sl.length;Rl++){for(Bn=Sl[Rl],$l=0;$l<Bn.length;$l++)Il[Cl+$l]=Bn[$l];Cl+=$l}return Il},yu.maxRowLength=function(Sl){return ls(Sl,Math.max,0)},yu.minRowLength=function(Sl){return ls(Sl,Math.min,1/0)};function ls(Sl,Pl,Tl){if(Fn(Sl))if(Fn(Sl[0])){for(var El=Tl,Ml=0;Ml<Sl.length;Ml++)El=Pl(El,Sl[Ml].length);return El}else return Sl.length;return 0}}),Nl=a((yu,hu)=>{var jt=rt(),it=Ll().isArrayOrTypedArray;hu.exports=function(ls,Sl){if(jt(Sl))Sl=String(Sl);else if(typeof Sl!="string"||Sl.substr(Sl.length-4)==="[-1]")throw"bad property string";var Pl=Sl.split("."),Tl,El,Ml,Rl;for(Rl=0;Rl<Pl.length;Rl++)if(String(Pl[Rl]).slice(0,2)==="__")throw"bad property string";for(Rl=0;Rl<Pl.length;){if(Tl=String(Pl[Rl]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),Tl){if(Tl[1])Pl[Rl]=Tl[1];else if(Rl===0)Pl.splice(0,1);else throw"bad property string";for(El=Tl[2].substr(1,Tl[2].length-2).split("]["),Ml=0;Ml<El.length;Ml++)Rl++,Pl.splice(Rl,0,Number(El[Ml]))}Rl++}return typeof ls!="object"?_l(ls,Sl,Pl):{set:Fn(ls,Pl,Sl),get:st(ls,Pl),astr:Sl,parts:Pl,obj:ls}};function st(ls,Sl){return function(Pl){var Tl=ls,El,Ml,Rl,Bn,Cl;for(Bn=0;Bn<Sl.length-1;Bn++){if(El=Sl[Bn],El===-1){for(Ml=!0,Rl=[],Cl=0;Cl<Tl.length;Cl++)Rl[Cl]=st(Tl[Cl],Sl.slice(Bn+1))(Pl),Rl[Cl]!==Rl[0]&&(Ml=!1);return Ml?Rl[0]:Rl}if(typeof El=="number"&&!it(Tl)||(Tl=Tl[El],typeof Tl!="object"||Tl===null))return}if(!(typeof Tl!="object"||Tl===null)&&(Rl=Tl[Sl[Bn]],!(!Pl&&Rl===null)))return Rl}}var Ln=/(^|\.)args\[/;function Ft(ls,Sl){return ls===void 0||ls===null&&!Sl.match(Ln)}function Fn(ls,Sl,Pl){return function(Tl){var El=ls,Ml="",Rl=Ft(Tl,Pl),Bn,Cl;for(Cl=0;Cl<Sl.length-1;Cl++){if(Bn=Sl[Cl],typeof Bn=="number"&&!it(El))throw"array index but container is not an array";if(Bn===-1){if(Rl=!yl(El,Sl.slice(Cl+1),Tl,Pl),Rl)break;return}if(!ot(El,Bn,Sl[Cl+1],Rl))break;if(El=El[Bn],typeof El!="object"||El===null)throw"container is not an object";Ml=zn(Ml,Bn)}if(Rl){if(Cl===Sl.length-1&&(delete El[Sl[Cl]],Array.isArray(El)&&+Sl[Cl]===El.length-1))for(;El.length&&El[El.length-1]===void 0;)El.pop()}else El[Sl[Cl]]=Tl}}function zn(ls,Sl){var Pl=Sl;return jt(Sl)?Pl="["+Sl+"]":ls&&(Pl="."+Sl),ls+Pl}function yl(ls,Sl,Pl,Tl){var El=it(Pl),Ml=!0,Rl=Pl,Bn=Tl.replace("-1",0),Cl=El?!1:Ft(Pl,Bn),Al=Sl[0],Il;for(Il=0;Il<ls.length;Il++)Bn=Tl.replace("-1",Il),El&&(Rl=Pl[Il%Pl.length],Cl=Ft(Rl,Bn)),Cl&&(Ml=!1),ot(ls,Il,Al,Cl)&&Fn(ls[Il],Sl,Tl.replace("-1",Il))(Rl);return Ml}function ot(ls,Sl,Pl,Tl){if(ls[Sl]===void 0){if(Tl)return!1;typeof Pl=="number"?ls[Sl]=[]:ls[Sl]={}}return!0}function _l(ls,Sl,Pl){return{set:function(){throw"bad container"},get:function(){},astr:Sl,parts:Pl,obj:ls}}}),_u=a((yu,hu)=>{var jt=Nl(),it=/^\w*$/,st=0,Ln=1,Ft=2,Fn=3,zn=4;hu.exports=function(yl,ot,_l,ls){_l=_l||"name",ls=ls||"value";var Sl,Pl,Tl,El={};ot&&ot.length?(Tl=jt(yl,ot),Pl=Tl.get()):Pl=yl,ot=ot||"";var Ml={};if(Pl)for(Sl=0;Sl<Pl.length;Sl++)Ml[Pl[Sl][_l]]=Sl;var Rl=it.test(ls),Bn={set:function(Cl,Al){var Il=Al===null?zn:st;if(!Pl){if(!Tl||Il===zn)return;Pl=[],Tl.set(Pl)}var $l=Ml[Cl];if($l===void 0){if(Il===zn)return;Il=Il|Fn,$l=Pl.length,Ml[Cl]=$l}else Al!==(Rl?Pl[$l][ls]:jt(Pl[$l],ls).get())&&(Il=Il|Ft);var Bu=Pl[$l]=Pl[$l]||{};return Bu[_l]=Cl,Rl?Bu[ls]=Al:jt(Bu,ls).set(Al),Al!==null&&(Il=Il&~zn),El[$l]=El[$l]|Il,Bn},get:function(Cl){if(Pl){var Al=Ml[Cl];if(Al!==void 0)return Rl?Pl[Al][ls]:jt(Pl[Al],ls).get()}},rename:function(Cl,Al){var Il=Ml[Cl];return Il===void 0||(El[Il]=El[Il]|Ln,Ml[Al]=Il,delete Ml[Cl],Pl[Il][_l]=Al),Bn},remove:function(Cl){var Al=Ml[Cl];if(Al===void 0)return Bn;var Il=Pl[Al];if(Object.keys(Il).length>2)return El[Al]=El[Al]|Ft,Bn.set(Cl,null);if(Rl){for(Sl=Al;Sl<Pl.length;Sl++)El[Sl]=El[Sl]|Fn;for(Sl=Al;Sl<Pl.length;Sl++)Ml[Pl[Sl][_l]]--;Pl.splice(Al,1),delete Ml[Cl]}else jt(Il,ls).set(null),El[Al]=El[Al]|Ft|zn;return Bn},constructUpdate:function(){for(var Cl,Al,Il={},$l=Object.keys(El),Bu=0;Bu<$l.length;Bu++)Al=$l[Bu],Cl=ot+"["+Al+"]",Pl[Al]?(El[Al]&Ln&&(Il[Cl+"."+_l]=Pl[Al][_l]),El[Al]&Ft&&(Rl?Il[Cl+"."+ls]=El[Al]&zn?null:Pl[Al][ls]:Il[Cl+"."+ls]=El[Al]&zn?null:jt(Pl[Al],ls).get())):Il[Cl]=null;return Il}};return Bn}}),Yl=a((yu,hu)=>{var jt=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,it=/^[^\.\[\]]+$/;hu.exports=function(st,Ln){for(;Ln;){var Ft=st.match(jt);if(Ft)st=Ft[1];else if(st.match(it))st="";else throw new Error("bad relativeAttr call:"+[st,Ln]);if(Ln.charAt(0)==="^")Ln=Ln.slice(1);else break}return st&&Ln.charAt(0)!=="["?st+"."+Ln:st+Ln}}),Ul=a((yu,hu)=>{var jt=rt();hu.exports=function(it,st){if(it>0)return Math.log(it)/Math.LN10;var Ln=Math.log(Math.min(st[0],st[1]))/Math.LN10;return jt(Ln)||(Ln=Math.log(Math.max(st[0],st[1]))/Math.LN10-6),Ln}}),Dl=a((yu,hu)=>{var jt=Ll().isArrayOrTypedArray,it=xl();hu.exports=function st(Ln,Ft){for(var Fn in Ft){var zn=Ft[Fn],yl=Ln[Fn];if(yl!==zn)if(Fn.charAt(0)==="_"||typeof zn=="function"){if(Fn in Ln)continue;Ln[Fn]=zn}else if(jt(zn)&&jt(yl)&&it(zn[0])){if(Fn==="customdata"||Fn==="ids")continue;for(var ot=Math.min(zn.length,yl.length),_l=0;_l<ot;_l++)yl[_l]!==zn[_l]&&it(zn[_l])&&it(yl[_l])&&st(yl[_l],zn[_l])}else it(zn)&&it(yl)&&(st(yl,zn),Object.keys(yl).length||delete Ln[Fn])}}}),Zl=a((yu,hu)=>{function jt(st,Ln){var Ft=st%Ln;return Ft<0?Ft+Ln:Ft}function it(st,Ln){return Math.abs(st)>Ln/2?st-Math.round(st/Ln)*Ln:st}hu.exports={mod:jt,modHalf:it}}),Ju=a((yu,hu)=>{(function(jt){var it=/^\s+/,st=/\s+$/,Ln=0,Ft=jt.round,Fn=jt.min,zn=jt.max,yl=jt.random;function ot(Ol,Wl){if(Ol=Ol||"",Wl=Wl||{},Ol instanceof ot)return Ol;if(!(this instanceof ot))return new ot(Ol,Wl);var Mu=_l(Ol);this._originalInput=Ol,this._r=Mu.r,this._g=Mu.g,this._b=Mu.b,this._a=Mu.a,this._roundA=Ft(100*this._a)/100,this._format=Wl.format||Mu.format,this._gradientType=Wl.gradientType,this._r<1&&(this._r=Ft(this._r)),this._g<1&&(this._g=Ft(this._g)),this._b<1&&(this._b=Ft(this._b)),this._ok=Mu.ok,this._tc_id=Ln++}ot.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Ol=this.toRgb();return(Ol.r*299+Ol.g*587+Ol.b*114)/1e3},getLuminance:function(){var Ol=this.toRgb(),Wl,Mu,zu,ip,pp,vp;return Wl=Ol.r/255,Mu=Ol.g/255,zu=Ol.b/255,Wl<=.03928?ip=Wl/12.92:ip=jt.pow((Wl+.055)/1.055,2.4),Mu<=.03928?pp=Mu/12.92:pp=jt.pow((Mu+.055)/1.055,2.4),zu<=.03928?vp=zu/12.92:vp=jt.pow((zu+.055)/1.055,2.4),.2126*ip+.7152*pp+.0722*vp},setAlpha:function(Ol){return this._a=Wu(Ol),this._roundA=Ft(100*this._a)/100,this},toHsv:function(){var Ol=Tl(this._r,this._g,this._b);return{h:Ol.h*360,s:Ol.s,v:Ol.v,a:this._a}},toHsvString:function(){var Ol=Tl(this._r,this._g,this._b),Wl=Ft(Ol.h*360),Mu=Ft(Ol.s*100),zu=Ft(Ol.v*100);return this._a==1?"hsv("+Wl+", "+Mu+"%, "+zu+"%)":"hsva("+Wl+", "+Mu+"%, "+zu+"%, "+this._roundA+")"},toHsl:function(){var Ol=Sl(this._r,this._g,this._b);return{h:Ol.h*360,s:Ol.s,l:Ol.l,a:this._a}},toHslString:function(){var Ol=Sl(this._r,this._g,this._b),Wl=Ft(Ol.h*360),Mu=Ft(Ol.s*100),zu=Ft(Ol.l*100);return this._a==1?"hsl("+Wl+", "+Mu+"%, "+zu+"%)":"hsla("+Wl+", "+Mu+"%, "+zu+"%, "+this._roundA+")"},toHex:function(Ol){return Ml(this._r,this._g,this._b,Ol)},toHexString:function(Ol){return"#"+this.toHex(Ol)},toHex8:function(Ol){return Rl(this._r,this._g,this._b,this._a,Ol)},toHex8String:function(Ol){return"#"+this.toHex8(Ol)},toRgb:function(){return{r:Ft(this._r),g:Ft(this._g),b:Ft(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Ft(this._r)+", "+Ft(this._g)+", "+Ft(this._b)+")":"rgba("+Ft(this._r)+", "+Ft(this._g)+", "+Ft(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Ft(Yu(this._r,255)*100)+"%",g:Ft(Yu(this._g,255)*100)+"%",b:Ft(Yu(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Ft(Yu(this._r,255)*100)+"%, "+Ft(Yu(this._g,255)*100)+"%, "+Ft(Yu(this._b,255)*100)+"%)":"rgba("+Ft(Yu(this._r,255)*100)+"%, "+Ft(Yu(this._g,255)*100)+"%, "+Ft(Yu(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Gu[Ml(this._r,this._g,this._b,!0)]||!1},toFilter:function(Ol){var Wl="#"+Bn(this._r,this._g,this._b,this._a),Mu=Wl,zu=this._gradientType?"GradientType = 1, ":"";if(Ol){var ip=ot(Ol);Mu="#"+Bn(ip._r,ip._g,ip._b,ip._a)}return"progid:DXImageTransform.Microsoft.gradient("+zu+"startColorstr="+Wl+",endColorstr="+Mu+")"},toString:function(Ol){var Wl=!!Ol;Ol=Ol||this._format;var Mu=!1,zu=this._a<1&&this._a>=0,ip=!Wl&&zu&&(Ol==="hex"||Ol==="hex6"||Ol==="hex3"||Ol==="hex4"||Ol==="hex8"||Ol==="name");return ip?Ol==="name"&&this._a===0?this.toName():this.toRgbString():(Ol==="rgb"&&(Mu=this.toRgbString()),Ol==="prgb"&&(Mu=this.toPercentageRgbString()),(Ol==="hex"||Ol==="hex6")&&(Mu=this.toHexString()),Ol==="hex3"&&(Mu=this.toHexString(!0)),Ol==="hex4"&&(Mu=this.toHex8String(!0)),Ol==="hex8"&&(Mu=this.toHex8String()),Ol==="name"&&(Mu=this.toName()),Ol==="hsl"&&(Mu=this.toHslString()),Ol==="hsv"&&(Mu=this.toHsvString()),Mu||this.toHexString())},clone:function(){return ot(this.toString())},_applyModification:function(Ol,Wl){var Mu=Ol.apply(null,[this].concat([].slice.call(Wl)));return this._r=Mu._r,this._g=Mu._g,this._b=Mu._b,this.setAlpha(Mu._a),this},lighten:function(){return this._applyModification($l,arguments)},brighten:function(){return this._applyModification(Bu,arguments)},darken:function(){return this._applyModification(Jl,arguments)},desaturate:function(){return this._applyModification(Cl,arguments)},saturate:function(){return this._applyModification(Al,arguments)},greyscale:function(){return this._applyModification(Il,arguments)},spin:function(){return this._applyModification(Kl,arguments)},_applyCombination:function(Ol,Wl){return Ol.apply(null,[this].concat([].slice.call(Wl)))},analogous:function(){return this._applyCombination(bu,arguments)},complement:function(){return this._applyCombination(Bl,arguments)},monochromatic:function(){return this._applyCombination(Fu,arguments)},splitcomplement:function(){return this._applyCombination(Pu,arguments)},triad:function(){return this._applyCombination($u,arguments)},tetrad:function(){return this._applyCombination(mu,arguments)}},ot.fromRatio=function(Ol,Wl){if(typeof Ol=="object"){var Mu={};for(var zu in Ol)Ol.hasOwnProperty(zu)&&(zu==="a"?Mu[zu]=Ol[zu]:Mu[zu]=Ap(Ol[zu]));Ol=Mu}return ot(Ol,Wl)};function _l(Ol){var Wl={r:0,g:0,b:0},Mu=1,zu=null,ip=null,pp=null,vp=!1,Pp=!1;return typeof Ol=="string"&&(Ol=np(Ol)),typeof Ol=="object"&&(qu(Ol.r)&&qu(Ol.g)&&qu(Ol.b)?(Wl=ls(Ol.r,Ol.g,Ol.b),vp=!0,Pp=String(Ol.r).substr(-1)==="%"?"prgb":"rgb"):qu(Ol.h)&&qu(Ol.s)&&qu(Ol.v)?(zu=Ap(Ol.s),ip=Ap(Ol.v),Wl=El(Ol.h,zu,ip),vp=!0,Pp="hsv"):qu(Ol.h)&&qu(Ol.s)&&qu(Ol.l)&&(zu=Ap(Ol.s),pp=Ap(Ol.l),Wl=Pl(Ol.h,zu,pp),vp=!0,Pp="hsl"),Ol.hasOwnProperty("a")&&(Mu=Ol.a)),Mu=Wu(Mu),{ok:vp,format:Ol.format||Pp,r:Fn(255,zn(Wl.r,0)),g:Fn(255,zn(Wl.g,0)),b:Fn(255,zn(Wl.b,0)),a:Mu}}function ls(Ol,Wl,Mu){return{r:Yu(Ol,255)*255,g:Yu(Wl,255)*255,b:Yu(Mu,255)*255}}function Sl(Ol,Wl,Mu){Ol=Yu(Ol,255),Wl=Yu(Wl,255),Mu=Yu(Mu,255);var zu=zn(Ol,Wl,Mu),ip=Fn(Ol,Wl,Mu),pp,vp,Pp=(zu+ip)/2;if(zu==ip)pp=vp=0;else{var Gp=zu-ip;switch(vp=Pp>.5?Gp/(2-zu-ip):Gp/(zu+ip),zu){case Ol:pp=(Wl-Mu)/Gp+(Wl<Mu?6:0);break;case Wl:pp=(Mu-Ol)/Gp+2;break;case Mu:pp=(Ol-Wl)/Gp+4;break}pp/=6}return{h:pp,s:vp,l:Pp}}function Pl(Ol,Wl,Mu){var zu,ip,pp;Ol=Yu(Ol,360),Wl=Yu(Wl,100),Mu=Yu(Mu,100);function vp(r0,C0,f0){return f0<0&&(f0+=1),f0>1&&(f0-=1),f0<1/6?r0+(C0-r0)*6*f0:f0<1/2?C0:f0<2/3?r0+(C0-r0)*(2/3-f0)*6:r0}if(Wl===0)zu=ip=pp=Mu;else{var Pp=Mu<.5?Mu*(1+Wl):Mu+Wl-Mu*Wl,Gp=2*Mu-Pp;zu=vp(Gp,Pp,Ol+1/3),ip=vp(Gp,Pp,Ol),pp=vp(Gp,Pp,Ol-1/3)}return{r:zu*255,g:ip*255,b:pp*255}}function Tl(Ol,Wl,Mu){Ol=Yu(Ol,255),Wl=Yu(Wl,255),Mu=Yu(Mu,255);var zu=zn(Ol,Wl,Mu),ip=Fn(Ol,Wl,Mu),pp,vp,Pp=zu,Gp=zu-ip;if(vp=zu===0?0:Gp/zu,zu==ip)pp=0;else{switch(zu){case Ol:pp=(Wl-Mu)/Gp+(Wl<Mu?6:0);break;case Wl:pp=(Mu-Ol)/Gp+2;break;case Mu:pp=(Ol-Wl)/Gp+4;break}pp/=6}return{h:pp,s:vp,v:Pp}}function El(Ol,Wl,Mu){Ol=Yu(Ol,360)*6,Wl=Yu(Wl,100),Mu=Yu(Mu,100);var zu=jt.floor(Ol),ip=Ol-zu,pp=Mu*(1-Wl),vp=Mu*(1-ip*Wl),Pp=Mu*(1-(1-ip)*Wl),Gp=zu%6,r0=[Mu,vp,pp,pp,Pp,Mu][Gp],C0=[Pp,Mu,Mu,vp,pp,pp][Gp],f0=[pp,pp,Pp,Mu,Mu,vp][Gp];return{r:r0*255,g:C0*255,b:f0*255}}function Ml(Ol,Wl,Mu,zu){var ip=[Cp(Ft(Ol).toString(16)),Cp(Ft(Wl).toString(16)),Cp(Ft(Mu).toString(16))];return zu&&ip[0].charAt(0)==ip[0].charAt(1)&&ip[1].charAt(0)==ip[1].charAt(1)&&ip[2].charAt(0)==ip[2].charAt(1)?ip[0].charAt(0)+ip[1].charAt(0)+ip[2].charAt(0):ip.join("")}function Rl(Ol,Wl,Mu,zu,ip){var pp=[Cp(Ft(Ol).toString(16)),Cp(Ft(Wl).toString(16)),Cp(Ft(Mu).toString(16)),Cp(Lu(zu))];return ip&&pp[0].charAt(0)==pp[0].charAt(1)&&pp[1].charAt(0)==pp[1].charAt(1)&&pp[2].charAt(0)==pp[2].charAt(1)&&pp[3].charAt(0)==pp[3].charAt(1)?pp[0].charAt(0)+pp[1].charAt(0)+pp[2].charAt(0)+pp[3].charAt(0):pp.join("")}function Bn(Ol,Wl,Mu,zu){var ip=[Cp(Lu(zu)),Cp(Ft(Ol).toString(16)),Cp(Ft(Wl).toString(16)),Cp(Ft(Mu).toString(16))];return ip.join("")}ot.equals=function(Ol,Wl){return!Ol||!Wl?!1:ot(Ol).toRgbString()==ot(Wl).toRgbString()},ot.random=function(){return ot.fromRatio({r:yl(),g:yl(),b:yl()})};function Cl(Ol,Wl){Wl=Wl===0?0:Wl||10;var Mu=ot(Ol).toHsl();return Mu.s-=Wl/100,Mu.s=ap(Mu.s),ot(Mu)}function Al(Ol,Wl){Wl=Wl===0?0:Wl||10;var Mu=ot(Ol).toHsl();return Mu.s+=Wl/100,Mu.s=ap(Mu.s),ot(Mu)}function Il(Ol){return ot(Ol).desaturate(100)}function $l(Ol,Wl){Wl=Wl===0?0:Wl||10;var Mu=ot(Ol).toHsl();return Mu.l+=Wl/100,Mu.l=ap(Mu.l),ot(Mu)}function Bu(Ol,Wl){Wl=Wl===0?0:Wl||10;var Mu=ot(Ol).toRgb();return Mu.r=zn(0,Fn(255,Mu.r-Ft(255*-(Wl/100)))),Mu.g=zn(0,Fn(255,Mu.g-Ft(255*-(Wl/100)))),Mu.b=zn(0,Fn(255,Mu.b-Ft(255*-(Wl/100)))),ot(Mu)}function Jl(Ol,Wl){Wl=Wl===0?0:Wl||10;var Mu=ot(Ol).toHsl();return Mu.l-=Wl/100,Mu.l=ap(Mu.l),ot(Mu)}function Kl(Ol,Wl){var Mu=ot(Ol).toHsl(),zu=(Mu.h+Wl)%360;return Mu.h=zu<0?360+zu:zu,ot(Mu)}function Bl(Ol){var Wl=ot(Ol).toHsl();return Wl.h=(Wl.h+180)%360,ot(Wl)}function $u(Ol){var Wl=ot(Ol).toHsl(),Mu=Wl.h;return[ot(Ol),ot({h:(Mu+120)%360,s:Wl.s,l:Wl.l}),ot({h:(Mu+240)%360,s:Wl.s,l:Wl.l})]}function mu(Ol){var Wl=ot(Ol).toHsl(),Mu=Wl.h;return[ot(Ol),ot({h:(Mu+90)%360,s:Wl.s,l:Wl.l}),ot({h:(Mu+180)%360,s:Wl.s,l:Wl.l}),ot({h:(Mu+270)%360,s:Wl.s,l:Wl.l})]}function Pu(Ol){var Wl=ot(Ol).toHsl(),Mu=Wl.h;return[ot(Ol),ot({h:(Mu+72)%360,s:Wl.s,l:Wl.l}),ot({h:(Mu+216)%360,s:Wl.s,l:Wl.l})]}function bu(Ol,Wl,Mu){Wl=Wl||6,Mu=Mu||30;var zu=ot(Ol).toHsl(),ip=360/Mu,pp=[ot(Ol)];for(zu.h=(zu.h-(ip*Wl>>1)+720)%360;--Wl;)zu.h=(zu.h+ip)%360,pp.push(ot(zu));return pp}function Fu(Ol,Wl){Wl=Wl||6;for(var Mu=ot(Ol).toHsv(),zu=Mu.h,ip=Mu.s,pp=Mu.v,vp=[],Pp=1/Wl;Wl--;)vp.push(ot({h:zu,s:ip,v:pp})),pp=(pp+Pp)%1;return vp}ot.mix=function(Ol,Wl,Mu){Mu=Mu===0?0:Mu||50;var zu=ot(Ol).toRgb(),ip=ot(Wl).toRgb(),pp=Mu/100,vp={r:(ip.r-zu.r)*pp+zu.r,g:(ip.g-zu.g)*pp+zu.g,b:(ip.b-zu.b)*pp+zu.b,a:(ip.a-zu.a)*pp+zu.a};return ot(vp)},ot.readability=function(Ol,Wl){var Mu=ot(Ol),zu=ot(Wl);return(jt.max(Mu.getLuminance(),zu.getLuminance())+.05)/(jt.min(Mu.getLuminance(),zu.getLuminance())+.05)},ot.isReadable=function(Ol,Wl,Mu){var zu=ot.readability(Ol,Wl),ip,pp;switch(pp=!1,ip=vu(Mu),ip.level+ip.size){case"AAsmall":case"AAAlarge":pp=zu>=4.5;break;case"AAlarge":pp=zu>=3;break;case"AAAsmall":pp=zu>=7;break}return pp},ot.mostReadable=function(Ol,Wl,Mu){var zu=null,ip=0,pp,vp,Pp,Gp;Mu=Mu||{},vp=Mu.includeFallbackColors,Pp=Mu.level,Gp=Mu.size;for(var r0=0;r0<Wl.length;r0++)pp=ot.readability(Ol,Wl[r0]),pp>ip&&(ip=pp,zu=ot(Wl[r0]));return ot.isReadable(Ol,zu,{level:Pp,size:Gp})||!vp?zu:(Mu.includeFallbackColors=!1,ot.mostReadable(Ol,["#fff","#000"],Mu))};var Hu=ot.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Gu=ot.hexNames=Xl(Hu);function Xl(Ol){var Wl={};for(var Mu in Ol)Ol.hasOwnProperty(Mu)&&(Wl[Ol[Mu]]=Mu);return Wl}function Wu(Ol){return Ol=parseFloat(Ol),(isNaN(Ol)||Ol<0||Ol>1)&&(Ol=1),Ol}function Yu(Ol,Wl){sp(Ol)&&(Ol="100%");var Mu=bp(Ol);return Ol=Fn(Wl,zn(0,parseFloat(Ol))),Mu&&(Ol=parseInt(Ol*Wl,10)/100),jt.abs(Ol-Wl)<1e-6?1:Ol%Wl/parseFloat(Wl)}function ap(Ol){return Fn(1,zn(0,Ol))}function rp(Ol){return parseInt(Ol,16)}function sp(Ol){return typeof Ol=="string"&&Ol.indexOf(".")!=-1&&parseFloat(Ol)===1}function bp(Ol){return typeof Ol=="string"&&Ol.indexOf("%")!=-1}function Cp(Ol){return Ol.length==1?"0"+Ol:""+Ol}function Ap(Ol){return Ol<=1&&(Ol=Ol*100+"%"),Ol}function Lu(Ol){return jt.round(parseFloat(Ol)*255).toString(16)}function Nu(Ol){return rp(Ol)/255}var Hl=function(){var Ol="[-\\+]?\\d+%?",Wl="[-\\+]?\\d*\\.\\d+%?",Mu="(?:"+Wl+")|(?:"+Ol+")",zu="[\\s|\\(]+("+Mu+")[,|\\s]+("+Mu+")[,|\\s]+("+Mu+")\\s*\\)?",ip="[\\s|\\(]+("+Mu+")[,|\\s]+("+Mu+")[,|\\s]+("+Mu+")[,|\\s]+("+Mu+")\\s*\\)?";return{CSS_UNIT:new RegExp(Mu),rgb:new RegExp("rgb"+zu),rgba:new RegExp("rgba"+ip),hsl:new RegExp("hsl"+zu),hsla:new RegExp("hsla"+ip),hsv:new RegExp("hsv"+zu),hsva:new RegExp("hsva"+ip),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function qu(Ol){return!!Hl.CSS_UNIT.exec(Ol)}function np(Ol){Ol=Ol.replace(it,"").replace(st,"").toLowerCase();var Wl=!1;if(Hu[Ol])Ol=Hu[Ol],Wl=!0;else if(Ol=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Mu;return(Mu=Hl.rgb.exec(Ol))?{r:Mu[1],g:Mu[2],b:Mu[3]}:(Mu=Hl.rgba.exec(Ol))?{r:Mu[1],g:Mu[2],b:Mu[3],a:Mu[4]}:(Mu=Hl.hsl.exec(Ol))?{h:Mu[1],s:Mu[2],l:Mu[3]}:(Mu=Hl.hsla.exec(Ol))?{h:Mu[1],s:Mu[2],l:Mu[3],a:Mu[4]}:(Mu=Hl.hsv.exec(Ol))?{h:Mu[1],s:Mu[2],v:Mu[3]}:(Mu=Hl.hsva.exec(Ol))?{h:Mu[1],s:Mu[2],v:Mu[3],a:Mu[4]}:(Mu=Hl.hex8.exec(Ol))?{r:rp(Mu[1]),g:rp(Mu[2]),b:rp(Mu[3]),a:Nu(Mu[4]),format:Wl?"name":"hex8"}:(Mu=Hl.hex6.exec(Ol))?{r:rp(Mu[1]),g:rp(Mu[2]),b:rp(Mu[3]),format:Wl?"name":"hex"}:(Mu=Hl.hex4.exec(Ol))?{r:rp(Mu[1]+""+Mu[1]),g:rp(Mu[2]+""+Mu[2]),b:rp(Mu[3]+""+Mu[3]),a:Nu(Mu[4]+""+Mu[4]),format:Wl?"name":"hex8"}:(Mu=Hl.hex3.exec(Ol))?{r:rp(Mu[1]+""+Mu[1]),g:rp(Mu[2]+""+Mu[2]),b:rp(Mu[3]+""+Mu[3]),format:Wl?"name":"hex"}:!1}function vu(Ol){var Wl,Mu;return Ol=Ol||{level:"AA",size:"small"},Wl=(Ol.level||"AA").toUpperCase(),Mu=(Ol.size||"small").toLowerCase(),Wl!=="AA"&&Wl!=="AAA"&&(Wl="AA"),Mu!=="small"&&Mu!=="large"&&(Mu="small"),{level:Wl,size:Mu}}typeof hu<"u"&&hu.exports?hu.exports=ot:window.tinycolor=ot})(Math)}),Uu=a(yu=>{var hu=xl(),jt=Array.isArray;function it(Ln,Ft){var Fn,zn;for(Fn=0;Fn<Ln.length;Fn++){if(zn=Ln[Fn],zn!==null&&typeof zn=="object")return!1;zn!==void 0&&(Ft[Fn]=zn)}return!0}yu.extendFlat=function(){return st(arguments,!1,!1,!1)},yu.extendDeep=function(){return st(arguments,!0,!1,!1)},yu.extendDeepAll=function(){return st(arguments,!0,!0,!1)},yu.extendDeepNoArrays=function(){return st(arguments,!0,!1,!0)};function st(Ln,Ft,Fn,zn){var yl=Ln[0],ot=Ln.length,_l,ls,Sl,Pl,Tl,El,Ml;if(ot===2&&jt(yl)&&jt(Ln[1])&&yl.length===0){if(Ml=it(Ln[1],yl),Ml)return yl;yl.splice(0,yl.length)}for(var Rl=1;Rl<ot;Rl++){_l=Ln[Rl];for(ls in _l)Sl=yl[ls],Pl=_l[ls],zn&&jt(Pl)?yl[ls]=Pl:Ft&&Pl&&(hu(Pl)||(Tl=jt(Pl)))?(Tl?(Tl=!1,El=Sl&&jt(Sl)?Sl:[]):El=Sl&&hu(Sl)?Sl:{},yl[ls]=st([El,Pl],Ft,Fn,zn)):(typeof Pl<"u"||Fn)&&(yl[ls]=Pl)}return yl}}),fp=a((yu,hu)=>{hu.exports=function(jt){var it=jt.variantValues,st=jt.editType,Ln=jt.colorEditType;Ln===void 0&&(Ln=st);var Ft={editType:st,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};jt.noNumericWeightValues&&(Ft.valType="enumerated",Ft.values=Ft.extras,Ft.extras=void 0,Ft.min=void 0,Ft.max=void 0);var Fn={family:{valType:"string",noBlank:!0,strict:!0,editType:st},size:{valType:"number",min:1,editType:st},color:{valType:"color",editType:Ln},weight:Ft,style:{editType:st,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:jt.noFontVariant?void 0:{editType:st,valType:"enumerated",values:it||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:jt.noFontTextcase?void 0:{editType:st,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:jt.noFontLineposition?void 0:{editType:st,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:jt.noFontShadow?void 0:{editType:st,valType:"string",dflt:jt.autoShadowDflt?"auto":"none"},editType:st};return jt.autoSize&&(Fn.size.dflt="auto"),jt.autoColor&&(Fn.color.dflt="auto"),jt.arrayOk&&(Fn.family.arrayOk=!0,Fn.weight.arrayOk=!0,Fn.style.arrayOk=!0,jt.noFontVariant||(Fn.variant.arrayOk=!0),jt.noFontTextcase||(Fn.textcase.arrayOk=!0),jt.noFontLineposition||(Fn.lineposition.arrayOk=!0),jt.noFontShadow||(Fn.shadow.arrayOk=!0),Fn.size.arrayOk=!0,Fn.color.arrayOk=!0),Fn}}),Zu=a((yu,hu)=>{hu.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}),Lp=a((yu,hu)=>{var jt=Zu(),it=fp(),st=it({editType:"none"});st.family.dflt=jt.HOVERFONT,st.size.dflt=jt.HOVERFONTSIZE,hu.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:st,grouptitlefont:it({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},showarrow:{valType:"boolean",dflt:!0,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}),Np=a((yu,hu)=>{var jt=fp(),it=Lp().hoverlabel,st=Uu().extendFlat;hu.exports={hoverlabel:{bgcolor:st({},it.bgcolor,{arrayOk:!0}),bordercolor:st({},it.bordercolor,{arrayOk:!0}),font:jt({arrayOk:!0,editType:"none"}),align:st({},it.align,{arrayOk:!0}),namelength:st({},it.namelength,{arrayOk:!0}),showarrow:st({},it.showarrow),editType:"none"}}}),zp=a((yu,hu)=>{var jt=fp(),it=Np();hu.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:jt({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:it.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}),h0=a((yu,hu)=>{var jt=Ju(),it={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},st=it.RdBu;function Ln(zn,yl){if(yl||(yl=st),!zn)return yl;function ot(){try{zn=it[zn]||JSON.parse(zn)}catch{zn=yl}}return typeof zn=="string"&&(ot(),typeof zn=="string"&&ot()),Ft(zn)?zn:yl}function Ft(zn){var yl=0;if(!Array.isArray(zn)||zn.length<2||!zn[0]||!zn[zn.length-1]||+zn[0][0]!=0||+zn[zn.length-1][0]!=1)return!1;for(var ot=0;ot<zn.length;ot++){var _l=zn[ot];if(_l.length!==2||+_l[0]<yl||!jt(_l[1]).isValid())return!1;yl=+_l[0]}return!0}function Fn(zn){return it[zn]!==void 0?!0:Ft(zn)}hu.exports={scales:it,defaultScale:st,get:Ln,isValid:Fn}}),k0=a(yu=>{yu.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],yu.defaultLine="#444",yu.lightLine="#eee",yu.background="#fff",yu.borderLine="#BEC8D9",yu.lightFraction=100*10/11}),D0=a((yu,hu)=>{var jt=Ju(),it=rt(),st=Ll().isTypedArray,Ln=hu.exports={},Ft=k0();Ln.defaults=Ft.defaults;var Fn=Ln.defaultLine=Ft.defaultLine;Ln.lightLine=Ft.lightLine;var zn=Ln.background=Ft.background;Ln.tinyRGB=function(ot){var _l=ot.toRgb();return"rgb("+Math.round(_l.r)+", "+Math.round(_l.g)+", "+Math.round(_l.b)+")"},Ln.rgb=function(ot){return Ln.tinyRGB(jt(ot))},Ln.opacity=function(ot){return ot?jt(ot).getAlpha():0},Ln.addOpacity=function(ot,_l){var ls=jt(ot).toRgb();return"rgba("+Math.round(ls.r)+", "+Math.round(ls.g)+", "+Math.round(ls.b)+", "+_l+")"},Ln.combine=function(ot,_l){var ls=jt(ot).toRgb();if(ls.a===1)return jt(ot).toRgbString();var Sl=jt(_l||zn).toRgb(),Pl=Sl.a===1?Sl:{r:255*(1-Sl.a)+Sl.r*Sl.a,g:255*(1-Sl.a)+Sl.g*Sl.a,b:255*(1-Sl.a)+Sl.b*Sl.a},Tl={r:Pl.r*(1-ls.a)+ls.r*ls.a,g:Pl.g*(1-ls.a)+ls.g*ls.a,b:Pl.b*(1-ls.a)+ls.b*ls.a};return jt(Tl).toRgbString()},Ln.interpolate=function(ot,_l,ls){var Sl=jt(ot).toRgb(),Pl=jt(_l).toRgb(),Tl={r:ls*Sl.r+(1-ls)*Pl.r,g:ls*Sl.g+(1-ls)*Pl.g,b:ls*Sl.b+(1-ls)*Pl.b};return jt(Tl).toRgbString()},Ln.contrast=function(ot,_l,ls){var Sl=jt(ot);Sl.getAlpha()!==1&&(Sl=jt(Ln.combine(ot,zn)));var Pl=Sl.isDark()?_l?Sl.lighten(_l):zn:ls?Sl.darken(ls):Fn;return Pl.toString()},Ln.stroke=function(ot,_l){var ls=jt(_l);ot.style({stroke:Ln.tinyRGB(ls),"stroke-opacity":ls.getAlpha()})},Ln.fill=function(ot,_l){var ls=jt(_l);ot.style({fill:Ln.tinyRGB(ls),"fill-opacity":ls.getAlpha()})},Ln.clean=function(ot){if(!(!ot||typeof ot!="object")){var _l=Object.keys(ot),ls,Sl,Pl,Tl;for(ls=0;ls<_l.length;ls++)if(Pl=_l[ls],Tl=ot[Pl],Pl.substr(Pl.length-5)==="color")if(Array.isArray(Tl))for(Sl=0;Sl<Tl.length;Sl++)Tl[Sl]=yl(Tl[Sl]);else ot[Pl]=yl(Tl);else if(Pl.substr(Pl.length-10)==="colorscale"&&Array.isArray(Tl))for(Sl=0;Sl<Tl.length;Sl++)Array.isArray(Tl[Sl])&&(Tl[Sl][1]=yl(Tl[Sl][1]));else if(Array.isArray(Tl)){var El=Tl[0];if(!Array.isArray(El)&&El&&typeof El=="object")for(Sl=0;Sl<Tl.length;Sl++)Ln.clean(Tl[Sl])}else Tl&&typeof Tl=="object"&&!st(Tl)&&Ln.clean(Tl)}};function yl(ot){if(it(ot)||typeof ot!="string")return ot;var _l=ot.trim();if(_l.substr(0,3)!=="rgb")return ot;var ls=_l.match(/^rgba?\s*\(([^()]*)\)$/);if(!ls)return ot;var Sl=ls[1].trim().split(/\s*[\s,]\s*/),Pl=_l.charAt(3)==="a"&&Sl.length===4;if(!Pl&&Sl.length!==3)return ot;for(var Tl=0;Tl<Sl.length;Tl++){if(!Sl[Tl].length||(Sl[Tl]=Number(Sl[Tl]),!(Sl[Tl]>=0)))return ot;if(Tl===3)Sl[Tl]>1&&(Sl[Tl]=1);else if(Sl[Tl]>=1)return ot}var El=Math.round(Sl[0]*255)+", "+Math.round(Sl[1]*255)+", "+Math.round(Sl[2]*255);return Pl?"rgba("+El+", "+Sl[3]+")":"rgb("+El+")"}}),s0=a((yu,hu)=>{hu.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),dp=a(yu=>{yu.counter=function(hu,jt,it,st){var Ln=(jt||"")+(it?"":"$"),Ft=st===!1?"":"^";return hu==="xy"?new RegExp(Ft+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+Ln):new RegExp(Ft+hu+"([2-9]|[1-9][0-9]+)?"+Ln)}}),S0=a(yu=>{var hu=rt(),jt=Ju(),it=Uu().extendFlat,st=zp(),Ln=h0(),Ft=D0(),Fn=s0().DESELECTDIM,zn=Nl(),yl=dp().counter,ot=Zl().modHalf,_l=Ll().isArrayOrTypedArray,ls=Ll().isTypedArraySpec,Sl=Ll().decodeTypedArraySpec;yu.valObjectMeta={data_array:{coerceFunction:function(Tl,El,Ml){El.set(_l(Tl)?Tl:ls(Tl)?Sl(Tl):Ml)}},enumerated:{coerceFunction:function(Tl,El,Ml,Rl){Rl.coerceNumber&&(Tl=+Tl),Rl.values.indexOf(Tl)===-1?El.set(Ml):El.set(Tl)},validateFunction:function(Tl,El){El.coerceNumber&&(Tl=+Tl);for(var Ml=El.values,Rl=0;Rl<Ml.length;Rl++){var Bn=String(Ml[Rl]);if(Bn.charAt(0)==="/"&&Bn.charAt(Bn.length-1)==="/"){var Cl=new RegExp(Bn.substr(1,Bn.length-2));if(Cl.test(Tl))return!0}else if(Tl===Ml[Rl])return!0}return!1}},boolean:{coerceFunction:function(Tl,El,Ml){Tl===!0||Tl===!1?El.set(Tl):El.set(Ml)}},number:{coerceFunction:function(Tl,El,Ml,Rl){ls(Tl)&&(Tl=Sl(Tl)),!hu(Tl)||Rl.min!==void 0&&Tl<Rl.min||Rl.max!==void 0&&Tl>Rl.max?El.set(Ml):El.set(+Tl)}},integer:{coerceFunction:function(Tl,El,Ml,Rl){if((Rl.extras||[]).indexOf(Tl)!==-1){El.set(Tl);return}ls(Tl)&&(Tl=Sl(Tl)),Tl%1||!hu(Tl)||Rl.min!==void 0&&Tl<Rl.min||Rl.max!==void 0&&Tl>Rl.max?El.set(Ml):El.set(+Tl)}},string:{coerceFunction:function(Tl,El,Ml,Rl){if(typeof Tl!="string"){var Bn=typeof Tl=="number";Rl.strict===!0||!Bn?El.set(Ml):El.set(String(Tl))}else Rl.noBlank&&!Tl?El.set(Ml):El.set(Tl)}},color:{coerceFunction:function(Tl,El,Ml){ls(Tl)&&(Tl=Sl(Tl)),jt(Tl).isValid()?El.set(Tl):El.set(Ml)}},colorlist:{coerceFunction:function(Tl,El,Ml){function Rl(Bn){return jt(Bn).isValid()}!Array.isArray(Tl)||!Tl.length?El.set(Ml):Tl.every(Rl)?El.set(Tl):El.set(Ml)}},colorscale:{coerceFunction:function(Tl,El,Ml){El.set(Ln.get(Tl,Ml))}},angle:{coerceFunction:function(Tl,El,Ml){ls(Tl)&&(Tl=Sl(Tl)),Tl==="auto"?El.set("auto"):hu(Tl)?El.set(ot(+Tl,360)):El.set(Ml)}},subplotid:{coerceFunction:function(Tl,El,Ml,Rl){var Bn=Rl.regex||yl(Ml);if(typeof Tl=="string"&&Bn.test(Tl)){El.set(Tl);return}El.set(Ml)},validateFunction:function(Tl,El){var Ml=El.dflt;return Tl===Ml?!0:typeof Tl!="string"?!1:!!yl(Ml).test(Tl)}},flaglist:{coerceFunction:function(Tl,El,Ml,Rl){if((Rl.extras||[]).indexOf(Tl)!==-1){El.set(Tl);return}if(typeof Tl!="string"){El.set(Ml);return}for(var Bn=Tl.split("+"),Cl=0;Cl<Bn.length;){var Al=Bn[Cl];Rl.flags.indexOf(Al)===-1||Bn.indexOf(Al)<Cl?Bn.splice(Cl,1):Cl++}Bn.length?El.set(Bn.join("+")):El.set(Ml)}},any:{coerceFunction:function(Tl,El,Ml){Tl===void 0?El.set(Ml):El.set(ls(Tl)?Sl(Tl):Tl)}},info_array:{coerceFunction:function(Tl,El,Ml,Rl){function Bn(Hu,Gu,Xl){var Wu,Yu={set:function(ap){Wu=ap}};return Xl===void 0&&(Xl=Gu.dflt),yu.valObjectMeta[Gu.valType].coerceFunction(Hu,Yu,Xl,Gu),Wu}if(ls(Tl)&&(Tl=Sl(Tl)),!_l(Tl)){El.set(Ml);return}var Cl=Rl.dimensions===2||Rl.dimensions==="1-2"&&Array.isArray(Tl)&&_l(Tl[0]),Al=Rl.items,Il=[],$l=Array.isArray(Al),Bu=$l&&Cl&&_l(Al[0]),Jl=Cl&&$l&&!Bu,Kl=$l&&!Jl?Al.length:Tl.length,Bl,$u,mu,Pu,bu,Fu;if(Ml=Array.isArray(Ml)?Ml:[],Cl)for(Bl=0;Bl<Kl;Bl++)for(Il[Bl]=[],mu=_l(Tl[Bl])?Tl[Bl]:[],Jl?bu=Al.length:$l?bu=Al[Bl].length:bu=mu.length,$u=0;$u<bu;$u++)Jl?Pu=Al[$u]:$l?Pu=Al[Bl][$u]:Pu=Al,Fu=Bn(mu[$u],Pu,(Ml[Bl]||[])[$u]),Fu!==void 0&&(Il[Bl][$u]=Fu);else for(Bl=0;Bl<Kl;Bl++)Fu=Bn(Tl[Bl],$l?Al[Bl]:Al,Ml[Bl]),Fu!==void 0&&(Il[Bl]=Fu);El.set(Il)},validateFunction:function(Tl,El){if(!_l(Tl))return!1;var Ml=El.items,Rl=Array.isArray(Ml),Bn=El.dimensions===2;if(!El.freeLength&&Tl.length!==Ml.length)return!1;for(var Cl=0;Cl<Tl.length;Cl++)if(Bn){if(!_l(Tl[Cl])||!El.freeLength&&Tl[Cl].length!==Ml[Cl].length)return!1;for(var Al=0;Al<Tl[Cl].length;Al++)if(!Pl(Tl[Cl][Al],Rl?Ml[Cl][Al]:Ml))return!1}else if(!Pl(Tl[Cl],Rl?Ml[Cl]:Ml))return!1;return!0}}},yu.coerce=function(Tl,El,Ml,Rl,Bn){var Cl=zn(Ml,Rl).get(),Al=zn(Tl,Rl),Il=zn(El,Rl),$l=Al.get(),Bu=El._template;if($l===void 0&&Bu&&($l=zn(Bu,Rl).get(),Bu=0),Bn===void 0&&(Bn=Cl.dflt),Cl.arrayOk){if(_l($l))return Il.set($l),$l;if(ls($l))return $l=Sl($l),Il.set($l),$l}var Jl=yu.valObjectMeta[Cl.valType].coerceFunction;Jl($l,Il,Bn,Cl);var Kl=Il.get();return Bu&&Kl===Bn&&!Pl($l,Cl)&&($l=zn(Bu,Rl).get(),Jl($l,Il,Bn,Cl),Kl=Il.get()),Kl},yu.coerce2=function(Tl,El,Ml,Rl,Bn){var Cl=zn(Tl,Rl),Al=yu.coerce(Tl,El,Ml,Rl,Bn),Il=Cl.get();return Il!=null?Al:!1},yu.coerceFont=function(Tl,El,Ml,Rl){Rl||(Rl={}),Ml=it({},Ml),Ml=it(Ml,Rl.overrideDflt||{});var Bn={family:Tl(El+".family",Ml.family),size:Tl(El+".size",Ml.size),color:Tl(El+".color",Ml.color),weight:Tl(El+".weight",Ml.weight),style:Tl(El+".style",Ml.style)};if(Rl.noFontVariant||(Bn.variant=Tl(El+".variant",Ml.variant)),Rl.noFontLineposition||(Bn.lineposition=Tl(El+".lineposition",Ml.lineposition)),Rl.noFontTextcase||(Bn.textcase=Tl(El+".textcase",Ml.textcase)),!Rl.noFontShadow){var Cl=Ml.shadow;Cl==="none"&&Rl.autoShadowDflt&&(Cl="auto"),Bn.shadow=Tl(El+".shadow",Cl)}return Bn},yu.coercePattern=function(Tl,El,Ml,Rl){var Bn=Tl(El+".shape"),Cl;if(Bn||(Cl=Tl(El+".path")),Bn||Cl){Bn&&Tl(El+".solidity"),Tl(El+".size");var Al=Tl(El+".fillmode"),Il=Al==="overlay";if(!Rl){var $l=Tl(El+".bgcolor",Il?Ml:void 0);Tl(El+".fgcolor",Il?Ft.contrast($l):Ml)}Tl(El+".fgopacity",Il?.5:1)}},yu.coerceHoverinfo=function(Tl,El,Ml){var Rl=El._module.attributes,Bn=Rl.hoverinfo?Rl:st,Cl=Bn.hoverinfo,Al;if(Ml._dataLength===1){var Il=Cl.dflt==="all"?Cl.flags.slice():Cl.dflt.split("+");Il.splice(Il.indexOf("name"),1),Al=Il.join("+")}return yu.coerce(Tl,El,Bn,"hoverinfo",Al)},yu.coerceSelectionMarkerOpacity=function(Tl,El){if(Tl.marker){var Ml=Tl.marker.opacity;if(Ml!==void 0){var Rl,Bn;!_l(Ml)&&!Tl.selected&&!Tl.unselected&&(Rl=Ml,Bn=Fn*Ml),El("selected.marker.opacity",Rl),El("unselected.marker.opacity",Bn)}}};function Pl(Tl,El){var Ml=yu.valObjectMeta[El.valType];if(El.arrayOk&&_l(Tl))return!0;if(Ml.validateFunction)return Ml.validateFunction(Tl,El);var Rl={},Bn=Rl,Cl={set:function(Al){Bn=Al}};return Ml.coerceFunction(Tl,Cl,Rl,El),Bn!==Rl}yu.validate=Pl}),l0=a((yu,hu)=>{var jt={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},it={};function st(Ln,Ft){for(var Fn in Ln){var zn=Ln[Fn];zn.valType?Ft[Fn]=zn.dflt:(Ft[Fn]||(Ft[Fn]={}),st(zn,Ft[Fn]))}}st(jt,it),hu.exports={configAttributes:jt,dfltConfig:it}}),Op=a((yu,hu)=>{var jt=g(),it=rt(),st=[];hu.exports=function(Ln,Ft){if(st.indexOf(Ln)!==-1)return;st.push(Ln);var Fn=1e3;it(Ft)?Fn=Ft:Ft==="long"&&(Fn=3e3);var zn=jt.select("body").selectAll(".plotly-notifier").data([0]);zn.enter().append("div").classed("plotly-notifier",!0);var yl=zn.selectAll(".notifier-note").data(st);function ot(_l){_l.duration(700).style("opacity",0).each("end",function(ls){var Sl=st.indexOf(ls);Sl!==-1&&st.splice(Sl,1),jt.select(this).remove()})}yl.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(_l){var ls=jt.select(this);ls.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){ls.transition().call(ot)});for(var Sl=ls.append("p"),Pl=_l.split(/<br\s*\/?>/g),Tl=0;Tl<Pl.length;Tl++)Tl&&Sl.append("br"),Sl.append("span").text(Pl[Tl]);Ft==="stick"?ls.transition().duration(350).style("opacity",1):ls.transition().duration(700).style("opacity",1).transition().delay(Fn).call(ot)})}}),Wp=a((yu,hu)=>{var jt=l0().dfltConfig,it=Op(),st=hu.exports={};st.log=function(){var Ln;if(jt.logging>1){var Ft=["LOG:"];for(Ln=0;Ln<arguments.length;Ln++)Ft.push(arguments[Ln]);console.trace.apply(console,Ft)}if(jt.notifyOnLogging>1){var Fn=[];for(Ln=0;Ln<arguments.length;Ln++)Fn.push(arguments[Ln]);it(Fn.join("<br>"),"long")}},st.warn=function(){var Ln;if(jt.logging>0){var Ft=["WARN:"];for(Ln=0;Ln<arguments.length;Ln++)Ft.push(arguments[Ln]);console.trace.apply(console,Ft)}if(jt.notifyOnLogging>0){var Fn=[];for(Ln=0;Ln<arguments.length;Ln++)Fn.push(arguments[Ln]);it(Fn.join("<br>"),"stick")}},st.error=function(){var Ln;if(jt.logging>0){var Ft=["ERROR:"];for(Ln=0;Ln<arguments.length;Ln++)Ft.push(arguments[Ln]);console.error.apply(console,Ft)}if(jt.notifyOnLogging>0){var Fn=[];for(Ln=0;Ln<arguments.length;Ln++)Fn.push(arguments[Ln]);it(Fn.join("<br>"),"stick")}}}),mm=a((yu,hu)=>{hu.exports=function(){}}),fm=a((yu,hu)=>{hu.exports=function(jt,it){if(it instanceof RegExp){for(var st=it.toString(),Ln=0;Ln<jt.length;Ln++)if(jt[Ln]instanceof RegExp&&jt[Ln].toString()===st)return jt;jt.push(it)}else(it||it===0)&&jt.indexOf(it)===-1&&jt.push(it);return jt}}),g0=a((yu,hu)=>{hu.exports=jt;function jt(){var it=new Float32Array(16);return it[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=1,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=1,it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1,it}}),e0=a((yu,hu)=>{hu.exports=jt;function jt(it){var st=new Float32Array(16);return st[0]=it[0],st[1]=it[1],st[2]=it[2],st[3]=it[3],st[4]=it[4],st[5]=it[5],st[6]=it[6],st[7]=it[7],st[8]=it[8],st[9]=it[9],st[10]=it[10],st[11]=it[11],st[12]=it[12],st[13]=it[13],st[14]=it[14],st[15]=it[15],st}}),V0=a((yu,hu)=>{hu.exports=jt;function jt(it,st){return it[0]=st[0],it[1]=st[1],it[2]=st[2],it[3]=st[3],it[4]=st[4],it[5]=st[5],it[6]=st[6],it[7]=st[7],it[8]=st[8],it[9]=st[9],it[10]=st[10],it[11]=st[11],it[12]=st[12],it[13]=st[13],it[14]=st[14],it[15]=st[15],it}}),ym=a((yu,hu)=>{hu.exports=jt;function jt(it){return it[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=1,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=1,it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1,it}}),Am=a((yu,hu)=>{hu.exports=jt;function jt(it,st){if(it===st){var Ln=st[1],Ft=st[2],Fn=st[3],zn=st[6],yl=st[7],ot=st[11];it[1]=st[4],it[2]=st[8],it[3]=st[12],it[4]=Ln,it[6]=st[9],it[7]=st[13],it[8]=Ft,it[9]=zn,it[11]=st[14],it[12]=Fn,it[13]=yl,it[14]=ot}else it[0]=st[0],it[1]=st[4],it[2]=st[8],it[3]=st[12],it[4]=st[1],it[5]=st[5],it[6]=st[9],it[7]=st[13],it[8]=st[2],it[9]=st[6],it[10]=st[10],it[11]=st[14],it[12]=st[3],it[13]=st[7],it[14]=st[11],it[15]=st[15];return it}}),am=a((yu,hu)=>{hu.exports=jt;function jt(it,st){var Ln=st[0],Ft=st[1],Fn=st[2],zn=st[3],yl=st[4],ot=st[5],_l=st[6],ls=st[7],Sl=st[8],Pl=st[9],Tl=st[10],El=st[11],Ml=st[12],Rl=st[13],Bn=st[14],Cl=st[15],Al=Ln*ot-Ft*yl,Il=Ln*_l-Fn*yl,$l=Ln*ls-zn*yl,Bu=Ft*_l-Fn*ot,Jl=Ft*ls-zn*ot,Kl=Fn*ls-zn*_l,Bl=Sl*Rl-Pl*Ml,$u=Sl*Bn-Tl*Ml,mu=Sl*Cl-El*Ml,Pu=Pl*Bn-Tl*Rl,bu=Pl*Cl-El*Rl,Fu=Tl*Cl-El*Bn,Hu=Al*Fu-Il*bu+$l*Pu+Bu*mu-Jl*$u+Kl*Bl;return Hu?(Hu=1/Hu,it[0]=(ot*Fu-_l*bu+ls*Pu)*Hu,it[1]=(Fn*bu-Ft*Fu-zn*Pu)*Hu,it[2]=(Rl*Kl-Bn*Jl+Cl*Bu)*Hu,it[3]=(Tl*Jl-Pl*Kl-El*Bu)*Hu,it[4]=(_l*mu-yl*Fu-ls*$u)*Hu,it[5]=(Ln*Fu-Fn*mu+zn*$u)*Hu,it[6]=(Bn*$l-Ml*Kl-Cl*Il)*Hu,it[7]=(Sl*Kl-Tl*$l+El*Il)*Hu,it[8]=(yl*bu-ot*mu+ls*Bl)*Hu,it[9]=(Ft*mu-Ln*bu-zn*Bl)*Hu,it[10]=(Ml*Jl-Rl*$l+Cl*Al)*Hu,it[11]=(Pl*$l-Sl*Jl-El*Al)*Hu,it[12]=(ot*$u-yl*Pu-_l*Bl)*Hu,it[13]=(Ln*Pu-Ft*$u+Fn*Bl)*Hu,it[14]=(Rl*Il-Ml*Bu-Bn*Al)*Hu,it[15]=(Sl*Bu-Pl*Il+Tl*Al)*Hu,it):null}}),Rm=a((yu,hu)=>{hu.exports=jt;function jt(it,st){var Ln=st[0],Ft=st[1],Fn=st[2],zn=st[3],yl=st[4],ot=st[5],_l=st[6],ls=st[7],Sl=st[8],Pl=st[9],Tl=st[10],El=st[11],Ml=st[12],Rl=st[13],Bn=st[14],Cl=st[15];return it[0]=ot*(Tl*Cl-El*Bn)-Pl*(_l*Cl-ls*Bn)+Rl*(_l*El-ls*Tl),it[1]=-(Ft*(Tl*Cl-El*Bn)-Pl*(Fn*Cl-zn*Bn)+Rl*(Fn*El-zn*Tl)),it[2]=Ft*(_l*Cl-ls*Bn)-ot*(Fn*Cl-zn*Bn)+Rl*(Fn*ls-zn*_l),it[3]=-(Ft*(_l*El-ls*Tl)-ot*(Fn*El-zn*Tl)+Pl*(Fn*ls-zn*_l)),it[4]=-(yl*(Tl*Cl-El*Bn)-Sl*(_l*Cl-ls*Bn)+Ml*(_l*El-ls*Tl)),it[5]=Ln*(Tl*Cl-El*Bn)-Sl*(Fn*Cl-zn*Bn)+Ml*(Fn*El-zn*Tl),it[6]=-(Ln*(_l*Cl-ls*Bn)-yl*(Fn*Cl-zn*Bn)+Ml*(Fn*ls-zn*_l)),it[7]=Ln*(_l*El-ls*Tl)-yl*(Fn*El-zn*Tl)+Sl*(Fn*ls-zn*_l),it[8]=yl*(Pl*Cl-El*Rl)-Sl*(ot*Cl-ls*Rl)+Ml*(ot*El-ls*Pl),it[9]=-(Ln*(Pl*Cl-El*Rl)-Sl*(Ft*Cl-zn*Rl)+Ml*(Ft*El-zn*Pl)),it[10]=Ln*(ot*Cl-ls*Rl)-yl*(Ft*Cl-zn*Rl)+Ml*(Ft*ls-zn*ot),it[11]=-(Ln*(ot*El-ls*Pl)-yl*(Ft*El-zn*Pl)+Sl*(Ft*ls-zn*ot)),it[12]=-(yl*(Pl*Bn-Tl*Rl)-Sl*(ot*Bn-_l*Rl)+Ml*(ot*Tl-_l*Pl)),it[13]=Ln*(Pl*Bn-Tl*Rl)-Sl*(Ft*Bn-Fn*Rl)+Ml*(Ft*Tl-Fn*Pl),it[14]=-(Ln*(ot*Bn-_l*Rl)-yl*(Ft*Bn-Fn*Rl)+Ml*(Ft*_l-Fn*ot)),it[15]=Ln*(ot*Tl-_l*Pl)-yl*(Ft*Tl-Fn*Pl)+Sl*(Ft*_l-Fn*ot),it}}),Lm=a((yu,hu)=>{hu.exports=jt;function jt(it){var st=it[0],Ln=it[1],Ft=it[2],Fn=it[3],zn=it[4],yl=it[5],ot=it[6],_l=it[7],ls=it[8],Sl=it[9],Pl=it[10],Tl=it[11],El=it[12],Ml=it[13],Rl=it[14],Bn=it[15],Cl=st*yl-Ln*zn,Al=st*ot-Ft*zn,Il=st*_l-Fn*zn,$l=Ln*ot-Ft*yl,Bu=Ln*_l-Fn*yl,Jl=Ft*_l-Fn*ot,Kl=ls*Ml-Sl*El,Bl=ls*Rl-Pl*El,$u=ls*Bn-Tl*El,mu=Sl*Rl-Pl*Ml,Pu=Sl*Bn-Tl*Ml,bu=Pl*Bn-Tl*Rl;return Cl*bu-Al*Pu+Il*mu+$l*$u-Bu*Bl+Jl*Kl}}),Fm=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln){var Ft=st[0],Fn=st[1],zn=st[2],yl=st[3],ot=st[4],_l=st[5],ls=st[6],Sl=st[7],Pl=st[8],Tl=st[9],El=st[10],Ml=st[11],Rl=st[12],Bn=st[13],Cl=st[14],Al=st[15],Il=Ln[0],$l=Ln[1],Bu=Ln[2],Jl=Ln[3];return it[0]=Il*Ft+$l*ot+Bu*Pl+Jl*Rl,it[1]=Il*Fn+$l*_l+Bu*Tl+Jl*Bn,it[2]=Il*zn+$l*ls+Bu*El+Jl*Cl,it[3]=Il*yl+$l*Sl+Bu*Ml+Jl*Al,Il=Ln[4],$l=Ln[5],Bu=Ln[6],Jl=Ln[7],it[4]=Il*Ft+$l*ot+Bu*Pl+Jl*Rl,it[5]=Il*Fn+$l*_l+Bu*Tl+Jl*Bn,it[6]=Il*zn+$l*ls+Bu*El+Jl*Cl,it[7]=Il*yl+$l*Sl+Bu*Ml+Jl*Al,Il=Ln[8],$l=Ln[9],Bu=Ln[10],Jl=Ln[11],it[8]=Il*Ft+$l*ot+Bu*Pl+Jl*Rl,it[9]=Il*Fn+$l*_l+Bu*Tl+Jl*Bn,it[10]=Il*zn+$l*ls+Bu*El+Jl*Cl,it[11]=Il*yl+$l*Sl+Bu*Ml+Jl*Al,Il=Ln[12],$l=Ln[13],Bu=Ln[14],Jl=Ln[15],it[12]=Il*Ft+$l*ot+Bu*Pl+Jl*Rl,it[13]=Il*Fn+$l*_l+Bu*Tl+Jl*Bn,it[14]=Il*zn+$l*ls+Bu*El+Jl*Cl,it[15]=Il*yl+$l*Sl+Bu*Ml+Jl*Al,it}}),s1=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln){var Ft=Ln[0],Fn=Ln[1],zn=Ln[2],yl,ot,_l,ls,Sl,Pl,Tl,El,Ml,Rl,Bn,Cl;return st===it?(it[12]=st[0]*Ft+st[4]*Fn+st[8]*zn+st[12],it[13]=st[1]*Ft+st[5]*Fn+st[9]*zn+st[13],it[14]=st[2]*Ft+st[6]*Fn+st[10]*zn+st[14],it[15]=st[3]*Ft+st[7]*Fn+st[11]*zn+st[15]):(yl=st[0],ot=st[1],_l=st[2],ls=st[3],Sl=st[4],Pl=st[5],Tl=st[6],El=st[7],Ml=st[8],Rl=st[9],Bn=st[10],Cl=st[11],it[0]=yl,it[1]=ot,it[2]=_l,it[3]=ls,it[4]=Sl,it[5]=Pl,it[6]=Tl,it[7]=El,it[8]=Ml,it[9]=Rl,it[10]=Bn,it[11]=Cl,it[12]=yl*Ft+Sl*Fn+Ml*zn+st[12],it[13]=ot*Ft+Pl*Fn+Rl*zn+st[13],it[14]=_l*Ft+Tl*Fn+Bn*zn+st[14],it[15]=ls*Ft+El*Fn+Cl*zn+st[15]),it}}),r1=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln){var Ft=Ln[0],Fn=Ln[1],zn=Ln[2];return it[0]=st[0]*Ft,it[1]=st[1]*Ft,it[2]=st[2]*Ft,it[3]=st[3]*Ft,it[4]=st[4]*Fn,it[5]=st[5]*Fn,it[6]=st[6]*Fn,it[7]=st[7]*Fn,it[8]=st[8]*zn,it[9]=st[9]*zn,it[10]=st[10]*zn,it[11]=st[11]*zn,it[12]=st[12],it[13]=st[13],it[14]=st[14],it[15]=st[15],it}}),Y1=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln,Ft){var Fn=Ft[0],zn=Ft[1],yl=Ft[2],ot=Math.sqrt(Fn*Fn+zn*zn+yl*yl),_l,ls,Sl,Pl,Tl,El,Ml,Rl,Bn,Cl,Al,Il,$l,Bu,Jl,Kl,Bl,$u,mu,Pu,bu,Fu,Hu,Gu;return Math.abs(ot)<1e-6?null:(ot=1/ot,Fn*=ot,zn*=ot,yl*=ot,_l=Math.sin(Ln),ls=Math.cos(Ln),Sl=1-ls,Pl=st[0],Tl=st[1],El=st[2],Ml=st[3],Rl=st[4],Bn=st[5],Cl=st[6],Al=st[7],Il=st[8],$l=st[9],Bu=st[10],Jl=st[11],Kl=Fn*Fn*Sl+ls,Bl=zn*Fn*Sl+yl*_l,$u=yl*Fn*Sl-zn*_l,mu=Fn*zn*Sl-yl*_l,Pu=zn*zn*Sl+ls,bu=yl*zn*Sl+Fn*_l,Fu=Fn*yl*Sl+zn*_l,Hu=zn*yl*Sl-Fn*_l,Gu=yl*yl*Sl+ls,it[0]=Pl*Kl+Rl*Bl+Il*$u,it[1]=Tl*Kl+Bn*Bl+$l*$u,it[2]=El*Kl+Cl*Bl+Bu*$u,it[3]=Ml*Kl+Al*Bl+Jl*$u,it[4]=Pl*mu+Rl*Pu+Il*bu,it[5]=Tl*mu+Bn*Pu+$l*bu,it[6]=El*mu+Cl*Pu+Bu*bu,it[7]=Ml*mu+Al*Pu+Jl*bu,it[8]=Pl*Fu+Rl*Hu+Il*Gu,it[9]=Tl*Fu+Bn*Hu+$l*Gu,it[10]=El*Fu+Cl*Hu+Bu*Gu,it[11]=Ml*Fu+Al*Hu+Jl*Gu,st!==it&&(it[12]=st[12],it[13]=st[13],it[14]=st[14],it[15]=st[15]),it)}}),G1=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln){var Ft=Math.sin(Ln),Fn=Math.cos(Ln),zn=st[4],yl=st[5],ot=st[6],_l=st[7],ls=st[8],Sl=st[9],Pl=st[10],Tl=st[11];return st!==it&&(it[0]=st[0],it[1]=st[1],it[2]=st[2],it[3]=st[3],it[12]=st[12],it[13]=st[13],it[14]=st[14],it[15]=st[15]),it[4]=zn*Fn+ls*Ft,it[5]=yl*Fn+Sl*Ft,it[6]=ot*Fn+Pl*Ft,it[7]=_l*Fn+Tl*Ft,it[8]=ls*Fn-zn*Ft,it[9]=Sl*Fn-yl*Ft,it[10]=Pl*Fn-ot*Ft,it[11]=Tl*Fn-_l*Ft,it}}),wv=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln){var Ft=Math.sin(Ln),Fn=Math.cos(Ln),zn=st[0],yl=st[1],ot=st[2],_l=st[3],ls=st[8],Sl=st[9],Pl=st[10],Tl=st[11];return st!==it&&(it[4]=st[4],it[5]=st[5],it[6]=st[6],it[7]=st[7],it[12]=st[12],it[13]=st[13],it[14]=st[14],it[15]=st[15]),it[0]=zn*Fn-ls*Ft,it[1]=yl*Fn-Sl*Ft,it[2]=ot*Fn-Pl*Ft,it[3]=_l*Fn-Tl*Ft,it[8]=zn*Ft+ls*Fn,it[9]=yl*Ft+Sl*Fn,it[10]=ot*Ft+Pl*Fn,it[11]=_l*Ft+Tl*Fn,it}}),Mv=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln){var Ft=Math.sin(Ln),Fn=Math.cos(Ln),zn=st[0],yl=st[1],ot=st[2],_l=st[3],ls=st[4],Sl=st[5],Pl=st[6],Tl=st[7];return st!==it&&(it[8]=st[8],it[9]=st[9],it[10]=st[10],it[11]=st[11],it[12]=st[12],it[13]=st[13],it[14]=st[14],it[15]=st[15]),it[0]=zn*Fn+ls*Ft,it[1]=yl*Fn+Sl*Ft,it[2]=ot*Fn+Pl*Ft,it[3]=_l*Fn+Tl*Ft,it[4]=ls*Fn-zn*Ft,it[5]=Sl*Fn-yl*Ft,it[6]=Pl*Fn-ot*Ft,it[7]=Tl*Fn-_l*Ft,it}}),Cv=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln){var Ft,Fn,zn,yl=Ln[0],ot=Ln[1],_l=Ln[2],ls=Math.sqrt(yl*yl+ot*ot+_l*_l);return Math.abs(ls)<1e-6?null:(ls=1/ls,yl*=ls,ot*=ls,_l*=ls,Ft=Math.sin(st),Fn=Math.cos(st),zn=1-Fn,it[0]=yl*yl*zn+Fn,it[1]=ot*yl*zn+_l*Ft,it[2]=_l*yl*zn-ot*Ft,it[3]=0,it[4]=yl*ot*zn-_l*Ft,it[5]=ot*ot*zn+Fn,it[6]=_l*ot*zn+yl*Ft,it[7]=0,it[8]=yl*_l*zn+ot*Ft,it[9]=ot*_l*zn-yl*Ft,it[10]=_l*_l*zn+Fn,it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1,it)}}),lv=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln){var Ft=st[0],Fn=st[1],zn=st[2],yl=st[3],ot=Ft+Ft,_l=Fn+Fn,ls=zn+zn,Sl=Ft*ot,Pl=Ft*_l,Tl=Ft*ls,El=Fn*_l,Ml=Fn*ls,Rl=zn*ls,Bn=yl*ot,Cl=yl*_l,Al=yl*ls;return it[0]=1-(El+Rl),it[1]=Pl+Al,it[2]=Tl-Cl,it[3]=0,it[4]=Pl-Al,it[5]=1-(Sl+Rl),it[6]=Ml+Bn,it[7]=0,it[8]=Tl+Cl,it[9]=Ml-Bn,it[10]=1-(Sl+El),it[11]=0,it[12]=Ln[0],it[13]=Ln[1],it[14]=Ln[2],it[15]=1,it}}),J1=a((yu,hu)=>{hu.exports=jt;function jt(it,st){return it[0]=st[0],it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=st[1],it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=st[2],it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1,it}}),dy=a((yu,hu)=>{hu.exports=jt;function jt(it,st){return it[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=1,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=1,it[11]=0,it[12]=st[0],it[13]=st[1],it[14]=st[2],it[15]=1,it}}),Iv=a((yu,hu)=>{hu.exports=jt;function jt(it,st){var Ln=Math.sin(st),Ft=Math.cos(st);return it[0]=1,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=Ft,it[6]=Ln,it[7]=0,it[8]=0,it[9]=-Ln,it[10]=Ft,it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1,it}}),Dv=a((yu,hu)=>{hu.exports=jt;function jt(it,st){var Ln=Math.sin(st),Ft=Math.cos(st);return it[0]=Ft,it[1]=0,it[2]=-Ln,it[3]=0,it[4]=0,it[5]=1,it[6]=0,it[7]=0,it[8]=Ln,it[9]=0,it[10]=Ft,it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1,it}}),_y=a((yu,hu)=>{hu.exports=jt;function jt(it,st){var Ln=Math.sin(st),Ft=Math.cos(st);return it[0]=Ft,it[1]=Ln,it[2]=0,it[3]=0,it[4]=-Ln,it[5]=Ft,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=1,it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1,it}}),wy=a((yu,hu)=>{hu.exports=jt;function jt(it,st){var Ln=st[0],Ft=st[1],Fn=st[2],zn=st[3],yl=Ln+Ln,ot=Ft+Ft,_l=Fn+Fn,ls=Ln*yl,Sl=Ft*yl,Pl=Ft*ot,Tl=Fn*yl,El=Fn*ot,Ml=Fn*_l,Rl=zn*yl,Bn=zn*ot,Cl=zn*_l;return it[0]=1-Pl-Ml,it[1]=Sl+Cl,it[2]=Tl-Bn,it[3]=0,it[4]=Sl-Cl,it[5]=1-ls-Ml,it[6]=El+Rl,it[7]=0,it[8]=Tl+Bn,it[9]=El-Rl,it[10]=1-ls-Pl,it[11]=0,it[12]=0,it[13]=0,it[14]=0,it[15]=1,it}}),Sm=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln,Ft,Fn,zn,yl){var ot=1/(Ln-st),_l=1/(Fn-Ft),ls=1/(zn-yl);return it[0]=zn*2*ot,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=zn*2*_l,it[6]=0,it[7]=0,it[8]=(Ln+st)*ot,it[9]=(Fn+Ft)*_l,it[10]=(yl+zn)*ls,it[11]=-1,it[12]=0,it[13]=0,it[14]=yl*zn*2*ls,it[15]=0,it}}),Xp=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln,Ft,Fn){var zn=1/Math.tan(st/2),yl=1/(Ft-Fn);return it[0]=zn/Ln,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=zn,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=(Fn+Ft)*yl,it[11]=-1,it[12]=0,it[13]=0,it[14]=2*Fn*Ft*yl,it[15]=0,it}}),R0=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln,Ft){var Fn=Math.tan(st.upDegrees*Math.PI/180),zn=Math.tan(st.downDegrees*Math.PI/180),yl=Math.tan(st.leftDegrees*Math.PI/180),ot=Math.tan(st.rightDegrees*Math.PI/180),_l=2/(yl+ot),ls=2/(Fn+zn);return it[0]=_l,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=ls,it[6]=0,it[7]=0,it[8]=-((yl-ot)*_l*.5),it[9]=(Fn-zn)*ls*.5,it[10]=Ft/(Ln-Ft),it[11]=-1,it[12]=0,it[13]=0,it[14]=Ft*Ln/(Ln-Ft),it[15]=0,it}}),K0=a((yu,hu)=>{hu.exports=jt;function jt(it,st,Ln,Ft,Fn,zn,yl){var ot=1/(st-Ln),_l=1/(Ft-Fn),ls=1/(zn-yl);return it[0]=-2*ot,it[1]=0,it[2]=0,it[3]=0,it[4]=0,it[5]=-2*_l,it[6]=0,it[7]=0,it[8]=0,it[9]=0,it[10]=2*ls,it[11]=0,it[12]=(st+Ln)*ot,it[13]=(Fn+Ft)*_l,it[14]=(yl+zn)*ls,it[15]=1,it}}),Nm=a((yu,hu)=>{var jt=ym();hu.exports=it;function it(st,Ln,Ft,Fn){var zn,yl,ot,_l,ls,Sl,Pl,Tl,El,Ml,Rl=Ln[0],Bn=Ln[1],Cl=Ln[2],Al=Fn[0],Il=Fn[1],$l=Fn[2],Bu=Ft[0],Jl=Ft[1],Kl=Ft[2];return Math.abs(Rl-Bu)<1e-6&&Math.abs(Bn-Jl)<1e-6&&Math.abs(Cl-Kl)<1e-6?jt(st):(Pl=Rl-Bu,Tl=Bn-Jl,El=Cl-Kl,Ml=1/Math.sqrt(Pl*Pl+Tl*Tl+El*El),Pl*=Ml,Tl*=Ml,El*=Ml,zn=Il*El-$l*Tl,yl=$l*Pl-Al*El,ot=Al*Tl-Il*Pl,Ml=Math.sqrt(zn*zn+yl*yl+ot*ot),Ml?(Ml=1/Ml,zn*=Ml,yl*=Ml,ot*=Ml):(zn=0,yl=0,ot=0),_l=Tl*ot-El*yl,ls=El*zn-Pl*ot,Sl=Pl*yl-Tl*zn,Ml=Math.sqrt(_l*_l+ls*ls+Sl*Sl),Ml?(Ml=1/Ml,_l*=Ml,ls*=Ml,Sl*=Ml):(_l=0,ls=0,Sl=0),st[0]=zn,st[1]=_l,st[2]=Pl,st[3]=0,st[4]=yl,st[5]=ls,st[6]=Tl,st[7]=0,st[8]=ot,st[9]=Sl,st[10]=El,st[11]=0,st[12]=-(zn*Rl+yl*Bn+ot*Cl),st[13]=-(_l*Rl+ls*Bn+Sl*Cl),st[14]=-(Pl*Rl+Tl*Bn+El*Cl),st[15]=1,st)}}),Gm=a((yu,hu)=>{hu.exports=jt;function jt(it){return"mat4("+it[0]+", "+it[1]+", "+it[2]+", "+it[3]+", "+it[4]+", "+it[5]+", "+it[6]+", "+it[7]+", "+it[8]+", "+it[9]+", "+it[10]+", "+it[11]+", "+it[12]+", "+it[13]+", "+it[14]+", "+it[15]+")"}}),M1=a((yu,hu)=>{hu.exports={create:g0(),clone:e0(),copy:V0(),identity:ym(),transpose:Am(),invert:am(),adjoint:Rm(),determinant:Lm(),multiply:Fm(),translate:s1(),scale:r1(),rotate:Y1(),rotateX:G1(),rotateY:wv(),rotateZ:Mv(),fromRotation:Cv(),fromRotationTranslation:lv(),fromScaling:J1(),fromTranslation:dy(),fromXRotation:Iv(),fromYRotation:Dv(),fromZRotation:_y(),fromQuat:wy(),frustum:Sm(),perspective:Xp(),perspectiveFromFieldOfView:R0(),ortho:K0(),lookAt:Nm(),str:Gm()}}),Km=a(yu=>{var hu=M1();yu.init2dArray=function(jt,it){for(var st=new Array(jt),Ln=0;Ln<jt;Ln++)st[Ln]=new Array(it);return st},yu.transposeRagged=function(jt){var it=0,st=jt.length,Ln,Ft;for(Ln=0;Ln<st;Ln++)it=Math.max(it,jt[Ln].length);var Fn=new Array(it);for(Ln=0;Ln<it;Ln++)for(Fn[Ln]=new Array(st),Ft=0;Ft<st;Ft++)Fn[Ln][Ft]=jt[Ft][Ln];return Fn},yu.dot=function(jt,it){if(!(jt.length&&it.length)||jt.length!==it.length)return null;var st=jt.length,Ln,Ft;if(jt[0].length)for(Ln=new Array(st),Ft=0;Ft<st;Ft++)Ln[Ft]=yu.dot(jt[Ft],it);else if(it[0].length){var Fn=yu.transposeRagged(it);for(Ln=new Array(Fn.length),Ft=0;Ft<Fn.length;Ft++)Ln[Ft]=yu.dot(jt,Fn[Ft])}else for(Ln=0,Ft=0;Ft<st;Ft++)Ln+=jt[Ft]*it[Ft];return Ln},yu.translationMatrix=function(jt,it){return[[1,0,jt],[0,1,it],[0,0,1]]},yu.rotationMatrix=function(jt){var it=jt*Math.PI/180;return[[Math.cos(it),-Math.sin(it),0],[Math.sin(it),Math.cos(it),0],[0,0,1]]},yu.rotationXYMatrix=function(jt,it,st){return yu.dot(yu.dot(yu.translationMatrix(it,st),yu.rotationMatrix(jt)),yu.translationMatrix(-it,-st))},yu.apply3DTransform=function(jt){return function(){var it=arguments,st=arguments.length===1?it[0]:[it[0],it[1],it[2]||0];return yu.dot(jt,[st[0],st[1],st[2],1]).slice(0,3)}},yu.apply2DTransform=function(jt){return function(){var it=arguments;it.length===3&&(it=it[0]);var st=arguments.length===1?it[0]:[it[0],it[1]];return yu.dot(jt,[st[0],st[1],1]).slice(0,2)}},yu.apply2DTransform2=function(jt){var it=yu.apply2DTransform(jt);return function(st){return it(st.slice(0,2)).concat(it(st.slice(2,4)))}},yu.convertCssMatrix=function(jt){if(jt){var it=jt.length;if(it===16)return jt;if(it===6)return[jt[0],jt[1],0,0,jt[2],jt[3],0,0,0,0,1,0,jt[4],jt[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},yu.inverseTransformMatrix=function(jt){var it=[];return hu.invert(it,jt),[[it[0],it[1],it[2],it[3]],[it[4],it[5],it[6],it[7]],[it[8],it[9],it[10],it[11]],[it[12],it[13],it[14],it[15]]]}}),F1=a((yu,hu)=>{var jt=g(),it=Wp(),st=Km(),Ln=M1();function Ft(Rl){var Bn;if(typeof Rl=="string"){if(Bn=document.getElementById(Rl),Bn===null)throw new Error("No DOM element with id '"+Rl+"' exists on the page.");return Bn}else if(Rl==null)throw new Error("DOM element provided is null or undefined");return Rl}function Fn(Rl){var Bn=jt.select(Rl);return Bn.node()instanceof HTMLElement&&Bn.size()&&Bn.classed("js-plotly-plot")}function zn(Rl){var Bn=Rl&&Rl.parentNode;Bn&&Bn.removeChild(Rl)}function yl(Rl,Bn){ot("global",Rl,Bn)}function ot(Rl,Bn,Cl){var Al="plotly.js-style-"+Rl,Il=document.getElementById(Al);if(!(Il&&Il.matches(".no-inline-styles"))){Il||(Il=document.createElement("style"),Il.setAttribute("id",Al),Il.appendChild(document.createTextNode("")),document.head.appendChild(Il));var $l=Il.sheet;$l?$l.insertRule?$l.insertRule(Bn+"{"+Cl+"}",0):$l.addRule?$l.addRule(Bn,Cl,0):it.warn("addStyleRule failed"):it.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function _l(Rl){var Bn="plotly.js-style-"+Rl,Cl=document.getElementById(Bn);Cl&&zn(Cl)}function ls(Rl,Bn,Cl,Al,Il,$l){var Bu=Al.split(":"),Jl=Il.split(":"),Kl="data-btn-style-event-added";$l||($l=document),$l.querySelectorAll(Rl).forEach(function(Bl){Bl.getAttribute(Kl)||(Bl.addEventListener("mouseenter",function(){var $u=this.querySelector(Cl);$u&&($u.style[Bu[0]]=Bu[1])}),Bl.addEventListener("mouseleave",function(){var $u=this.querySelector(Cl);$u&&(Bn&&this.matches(Bn)?$u.style[Bu[0]]=Bu[1]:$u.style[Jl[0]]=Jl[1])}),Bl.setAttribute(Kl,!0))})}function Sl(Rl){var Bn=Tl(Rl),Cl=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return Bn.forEach(function(Al){var Il=Pl(Al);if(Il){var $l=st.convertCssMatrix(Il);Cl=Ln.multiply(Cl,Cl,$l)}}),Cl}function Pl(Rl){var Bn=window.getComputedStyle(Rl,null),Cl=Bn.getPropertyValue("-webkit-transform")||Bn.getPropertyValue("-moz-transform")||Bn.getPropertyValue("-ms-transform")||Bn.getPropertyValue("-o-transform")||Bn.getPropertyValue("transform");return Cl==="none"?null:Cl.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(Al){return+Al})}function Tl(Rl){for(var Bn=[];El(Rl);)Bn.push(Rl),Rl=Rl.parentNode,typeof ShadowRoot=="function"&&Rl instanceof ShadowRoot&&(Rl=Rl.host);return Bn}function El(Rl){return Rl&&(Rl instanceof Element||Rl instanceof HTMLElement)}function Ml(Rl,Bn){return Rl&&Bn&&Rl.top===Bn.top&&Rl.left===Bn.left&&Rl.right===Bn.right&&Rl.bottom===Bn.bottom}hu.exports={getGraphDiv:Ft,isPlotDiv:Fn,removeElement:zn,addStyleRule:yl,addRelatedStyleRule:ot,deleteRelatedStyleRule:_l,setStyleOnHover:ls,getFullTransformMatrix:Sl,getElementTransformMatrix:Pl,getElementAndAncestors:Tl,equalDomRects:Ml}}),j1=a((yu,hu)=>{hu.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}),x1=a((yu,hu)=>{var jt=Uu().extendFlat,it=xl(),st={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},Ln={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},Ft=st.flags.slice().concat(["fullReplot"]),Fn=Ln.flags.slice().concat("layoutReplot");hu.exports={traces:st,layout:Ln,traceFlags:function(){return zn(Ft)},layoutFlags:function(){return zn(Fn)},update:function(_l,ls){var Sl=ls.editType;if(Sl&&Sl!=="none")for(var Pl=Sl.split("+"),Tl=0;Tl<Pl.length;Tl++)_l[Pl[Tl]]=!0},overrideAll:yl};function zn(_l){for(var ls={},Sl=0;Sl<_l.length;Sl++)ls[_l[Sl]]=!1;return ls}function yl(_l,ls,Sl){var Pl=jt({},_l);for(var Tl in Pl){var El=Pl[Tl];it(El)&&(Pl[Tl]=ot(El,ls,Sl,Tl))}return Sl==="from-root"&&(Pl.editType=ls),Pl}function ot(_l,ls,Sl,Pl){if(_l.valType){var Tl=jt({},_l);if(Tl.editType=ls,Array.isArray(_l.items)){Tl.items=new Array(_l.items.length);for(var El=0;El<_l.items.length;El++)Tl.items[El]=ot(_l.items[El],ls)}return Tl}else return yl(_l,ls,Pl.charAt(0)==="_"?"nested":"from-root")}}),hv=a(yu=>{yu.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},yu.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},path:{valType:"string",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}),my=a((yu,hu)=>{hu.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}),$y=a(yu=>{var hu=my(),jt=hu.FORMAT_LINK,it=hu.DATE_FORMAT_LINK;function st(Ft){var Fn=Ft&&Ft.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(Fn?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,jt,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,it,"for details on the date formatting syntax."].join(" ")}yu.templateFormatStringDescription=st;function Ln(Ft){var Fn=Ft.description?" "+Ft.description:"",zn=Ft.keys||[];if(zn.length>0){for(var yl=[],ot=0;ot<zn.length;ot++)yl[ot]="`"+zn[ot]+"`";Fn=Fn+"Finally, the template string has access to ",zn.length===1?Fn=Fn+"variable "+yl[0]:Fn=Fn+"variables "+yl.slice(0,-1).join(", ")+" and "+yl.slice(-1)+"."}return Fn}yu.hovertemplateAttrs=function(Ft,Fn){Ft=Ft||{},Fn=Fn||{},Ln(Fn);var zn={valType:"string",dflt:"",editType:Ft.editType||"none"};return Ft.arrayOk!==!1&&(zn.arrayOk=!0),zn},yu.texttemplateAttrs=function(Ft,Fn){Ft=Ft||{},Fn=Fn||{},Ln(Fn);var zn={valType:"string",dflt:"",editType:Ft.editType||"calc"};return Ft.arrayOk!==!1&&(zn.arrayOk=!0),zn},yu.shapeTexttemplateAttrs=function(Ft,Fn){Ft=Ft||{},Fn=Fn||{},Ft.newshape,Ln(Fn);var zn={valType:"string",dflt:"",editType:Ft.editType||"arraydraw"};return zn}}),Zy=a((yu,hu)=>{function jt(Cl,Al){return Al?Al.d2l(Cl):Cl}function it(Cl,Al){return Al?Al.l2d(Cl):Cl}function st(Cl){return Cl.x0}function Ln(Cl){return Cl.x1}function Ft(Cl){return Cl.y0}function Fn(Cl){return Cl.y1}function zn(Cl){return Cl.x0shift||0}function yl(Cl){return Cl.x1shift||0}function ot(Cl){return Cl.y0shift||0}function _l(Cl){return Cl.y1shift||0}function ls(Cl,Al){return jt(Cl.x1,Al)+yl(Cl)-jt(Cl.x0,Al)-zn(Cl)}function Sl(Cl,Al,Il){return jt(Cl.y1,Il)+_l(Cl)-jt(Cl.y0,Il)-ot(Cl)}function Pl(Cl,Al){return Math.abs(ls(Cl,Al))}function Tl(Cl,Al,Il){return Math.abs(Sl(Cl,Al,Il))}function El(Cl,Al,Il){return Cl.type!=="line"?void 0:Math.sqrt(Math.pow(ls(Cl,Al),2)+Math.pow(Sl(Cl,Al,Il),2))}function Ml(Cl,Al){return it((jt(Cl.x1,Al)+yl(Cl)+jt(Cl.x0,Al)+zn(Cl))/2,Al)}function Rl(Cl,Al,Il){return it((jt(Cl.y1,Il)+_l(Cl)+jt(Cl.y0,Il)+ot(Cl))/2,Il)}function Bn(Cl,Al,Il){return Cl.type!=="line"?void 0:Sl(Cl,Al,Il)/ls(Cl,Al)}hu.exports={x0:st,x1:Ln,y0:Ft,y1:Fn,slope:Bn,dx:ls,dy:Sl,width:Pl,height:Tl,length:El,xcenter:Ml,ycenter:Rl}}),E2=a((yu,hu)=>{var jt=x1().overrideAll,it=zp(),st=fp(),Ln=hv().dash,Ft=Uu().extendFlat,Fn=$y().shapeTexttemplateAttrs,zn=Zy();hu.exports=jt({newshape:{visible:Ft({},it.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:Ft({},it.legend,{}),legendgroup:Ft({},it.legendgroup,{}),legendgrouptitle:{text:Ft({},it.legendgrouptitle.text,{}),font:st({})},legendrank:Ft({},it.legendrank,{}),legendwidth:Ft({},it.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:Ft({},Ln,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:Ft({},it.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:Fn({newshape:!0},{keys:Object.keys(zn)}),font:st({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}),Ty=a((yu,hu)=>{var jt=hv().dash,it=Uu().extendFlat;hu.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:it({},jt,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}}),oy=a((yu,hu)=>{hu.exports=function(jt){var it=jt.editType;return{t:{valType:"number",dflt:0,editType:it},r:{valType:"number",dflt:0,editType:it},b:{valType:"number",dflt:0,editType:it},l:{valType:"number",dflt:0,editType:it},editType:it}}}),Wv=a((yu,hu)=>{var jt=fp(),it=j1(),st=k0(),Ln=E2(),Ft=Ty(),Fn=oy(),zn=Uu().extendFlat,yl=jt({editType:"calc"});yl.family.dflt='"Open Sans", verdana, arial, sans-serif',yl.size.dflt=12,yl.color.dflt=st.defaultLine,hu.exports={font:yl,title:{text:{valType:"string",editType:"layoutstyle"},font:jt({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:jt({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:zn(Fn({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:st.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:st.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:st.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:Ln.newshape,activeshape:Ln.activeshape,newselection:Ft.newselection,activeselection:Ft.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:zn({},it.transition,{editType:"none"})}}),xv=a(()=>{(function(){if(!document.getElementById("ce8d464691048653ffe3a57c6c18ab566e8366f186677868cf724621a857b4fe")){var yu=document.createElement("style");yu.id="ce8d464691048653ffe3a57c6c18ab566e8366f186677868cf724621a857b4fe",yu.textContent=`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`,document.head.appendChild(yu)}})()}),N1=a(yu=>{var hu=Wp(),jt=mm(),it=fm(),st=xl(),Ln=F1().addStyleRule,Ft=Uu(),Fn=zp(),zn=Wv(),yl=Ft.extendFlat,ot=Ft.extendDeepAll;yu.modules={},yu.allCategories={},yu.allTypes=[],yu.subplotsRegistry={},yu.componentsRegistry={},yu.layoutArrayContainers=[],yu.layoutArrayRegexes=[],yu.traceLayoutAttributes={},yu.localeRegistry={},yu.apiMethodRegistry={},yu.collectableSubplotTypes=null,yu.register=function(Cl){if(yu.collectableSubplotTypes=null,Cl)Cl&&!Array.isArray(Cl)&&(Cl=[Cl]);else throw new Error("No argument passed to Plotly.register.");for(var Al=0;Al<Cl.length;Al++){var Il=Cl[Al];if(!Il)throw new Error("Invalid module was attempted to be registered!");switch(Il.moduleType){case"trace":_l(Il);break;case"transform":Pl(Il);break;case"component":Sl(Il);break;case"locale":Tl(Il);break;case"apiMethod":var $l=Il.name;yu.apiMethodRegistry[$l]=Il.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},yu.getModule=function(Cl){var Al=yu.modules[Bn(Cl)];return Al?Al._module:!1},yu.traceIs=function(Cl,Al){if(Cl=Bn(Cl),Cl==="various")return!1;var Il=yu.modules[Cl];return Il||(Cl&&hu.log("Unrecognized trace type "+Cl+"."),Il=yu.modules[Fn.type.dflt]),!!Il.categories[Al]},yu.getComponentMethod=function(Cl,Al){var Il=yu.componentsRegistry[Cl];return Il&&Il[Al]||jt},yu.call=function(){var Cl=arguments[0],Al=[].slice.call(arguments,1);return yu.apiMethodRegistry[Cl].apply(null,Al)};function _l(Cl){var Al=Cl.name,Il=Cl.categories,$l=Cl.meta;if(yu.modules[Al]){hu.log("Type "+Al+" already registered");return}yu.subplotsRegistry[Cl.basePlotModule.name]||ls(Cl.basePlotModule);for(var Bu={},Jl=0;Jl<Il.length;Jl++)Bu[Il[Jl]]=!0,yu.allCategories[Il[Jl]]=!0;yu.modules[Al]={_module:Cl,categories:Bu},$l&&Object.keys($l).length&&(yu.modules[Al].meta=$l),yu.allTypes.push(Al);for(var Kl in yu.componentsRegistry)Ml(Kl,Al);Cl.layoutAttributes&&yl(yu.traceLayoutAttributes,Cl.layoutAttributes);var Bl=Cl.basePlotModule,$u=Bl.name;if($u==="mapbox"){var mu=Bl.constants.styleRules;for(var Pu in mu)Ln(".js-plotly-plot .plotly .mapboxgl-"+Pu,mu[Pu])}$u==="map"&&xv(),($u==="geo"||$u==="mapbox"||$u==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function ls(Cl){var Al=Cl.name;if(yu.subplotsRegistry[Al]){hu.log("Plot type "+Al+" already registered.");return}El(Cl),yu.subplotsRegistry[Al]=Cl;for(var Il in yu.componentsRegistry)Rl(Il,Cl.name)}function Sl(Cl){if(typeof Cl.name!="string")throw new Error("Component module *name* must be a string.");var Al=Cl.name;yu.componentsRegistry[Al]=Cl,Cl.layoutAttributes&&(Cl.layoutAttributes._isLinkedToArray&&it(yu.layoutArrayContainers,Al),El(Cl));for(var Il in yu.modules)Ml(Al,Il);for(var $l in yu.subplotsRegistry)Rl(Al,$l);Cl.schema&&Cl.schema.layout&&ot(zn,Cl.schema.layout)}function Pl(Cl){if(typeof Cl.name!="string")throw new Error("Transform module *name* must be a string.");var Al="Transform module "+Cl.name,Il=typeof Cl.transform=="function",$l=typeof Cl.calcTransform=="function";if(!Il&&!$l)throw new Error(Al+" is missing a *transform* or *calcTransform* method.");Il&&$l&&hu.log([Al+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),st(Cl.attributes)||hu.log(Al+" registered without an *attributes* object."),typeof Cl.supplyDefaults!="function"&&hu.log(Al+" registered without a *supplyDefaults* method.")}function Tl(Cl){var Al=Cl.name,Il=Al.split("-")[0],$l=Cl.dictionary,Bu=Cl.format,Jl=$l&&Object.keys($l).length,Kl=Bu&&Object.keys(Bu).length,Bl=yu.localeRegistry,$u=Bl[Al];if($u||(Bl[Al]=$u={}),Il!==Al){var mu=Bl[Il];mu||(Bl[Il]=mu={}),Jl&&mu.dictionary===$u.dictionary&&(mu.dictionary=$l),Kl&&mu.format===$u.format&&(mu.format=Bu)}Jl&&($u.dictionary=$l),Kl&&($u.format=Bu)}function El(Cl){if(Cl.layoutAttributes){var Al=Cl.layoutAttributes._arrayAttrRegexps;if(Al)for(var Il=0;Il<Al.length;Il++)it(yu.layoutArrayRegexes,Al[Il])}}function Ml(Cl,Al){var Il=yu.componentsRegistry[Cl].schema;if(!(!Il||!Il.traces)){var $l=Il.traces[Al];$l&&ot(yu.modules[Al]._module.attributes,$l)}}function Rl(Cl,Al){var Il=yu.componentsRegistry[Cl].schema;if(!(!Il||!Il.subplots)){var $l=yu.subplotsRegistry[Al],Bu=$l.layoutAttributes,Jl=$l.attr==="subplot"?$l.name:$l.attr;Array.isArray(Jl)&&(Jl=Jl[0]);var Kl=Il.subplots[Jl];Bu&&Kl&&ot(Bu,Kl)}}function Bn(Cl){return typeof Cl=="object"&&(Cl=Cl.type),Cl}}),c2=a(yu=>{var hu=_().timeFormat,jt=rt(),it=Wp(),st=Zl().mod,Ln=nt(),Ft=Ln.BADNUM,Fn=Ln.ONEDAY,zn=Ln.ONEHOUR,yl=Ln.ONEMIN,ot=Ln.ONESEC,_l=Ln.EPOCHJD,ls=N1(),Sl=_().utcFormat,Pl=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Tl=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,El=new Date().getFullYear()-70;function Ml(Hu){return Hu&&ls.componentsRegistry.calendars&&typeof Hu=="string"&&Hu!=="gregorian"}yu.dateTick0=function(Hu,Gu){var Xl=Rl(Hu,!!Gu);if(Gu<2)return Xl;var Wu=yu.dateTime2ms(Xl,Hu);return Wu+=Fn*(Gu-1),yu.ms2DateTime(Wu,0,Hu)};function Rl(Hu,Gu){return Ml(Hu)?Gu?ls.getComponentMethod("calendars","CANONICAL_SUNDAY")[Hu]:ls.getComponentMethod("calendars","CANONICAL_TICK")[Hu]:Gu?"2000-01-02":"2000-01-01"}yu.dfltRange=function(Hu){return Ml(Hu)?ls.getComponentMethod("calendars","DFLTRANGE")[Hu]:["2000-01-01","2001-01-01"]},yu.isJSDate=function(Hu){return typeof Hu=="object"&&Hu!==null&&typeof Hu.getTime=="function"};var Bn,Cl;yu.dateTime2ms=function(Hu,Gu){if(yu.isJSDate(Hu)){var Xl=Hu.getTimezoneOffset()*yl,Wu=(Hu.getUTCMinutes()-Hu.getMinutes())*yl+(Hu.getUTCSeconds()-Hu.getSeconds())*ot+(Hu.getUTCMilliseconds()-Hu.getMilliseconds());if(Wu){var Yu=3*yl;Xl=Xl-Yu/2+st(Wu-Xl+Yu/2,Yu)}return Hu=Number(Hu)-Xl,Hu>=Bn&&Hu<=Cl?Hu:Ft}if(typeof Hu!="string"&&typeof Hu!="number")return Ft;Hu=String(Hu);var ap=Ml(Gu),rp=Hu.charAt(0);ap&&(rp==="G"||rp==="g")&&(Hu=Hu.substr(1),Gu="");var sp=ap&&Gu.substr(0,7)==="chinese",bp=Hu.match(sp?Tl:Pl);if(!bp)return Ft;var Cp=bp[1],Ap=bp[3]||"1",Lu=Number(bp[5]||1),Nu=Number(bp[7]||0),Hl=Number(bp[9]||0),qu=Number(bp[11]||0);if(ap){if(Cp.length===2)return Ft;Cp=Number(Cp);var np;try{var vu=ls.getComponentMethod("calendars","getCal")(Gu);if(sp){var Ol=Ap.charAt(Ap.length-1)==="i";Ap=parseInt(Ap,10),np=vu.newDate(Cp,vu.toMonthIndex(Cp,Ap,Ol),Lu)}else np=vu.newDate(Cp,Number(Ap),Lu)}catch{return Ft}return np?(np.toJD()-_l)*Fn+Nu*zn+Hl*yl+qu*ot:Ft}Cp.length===2?Cp=(Number(Cp)+2e3-El)%100+El:Cp=Number(Cp),Ap-=1;var Wl=new Date(Date.UTC(2e3,Ap,Lu,Nu,Hl));return Wl.setUTCFullYear(Cp),Wl.getUTCMonth()!==Ap||Wl.getUTCDate()!==Lu?Ft:Wl.getTime()+qu*ot},Bn=yu.MIN_MS=yu.dateTime2ms("-9999"),Cl=yu.MAX_MS=yu.dateTime2ms("9999-12-31 23:59:59.9999"),yu.isDateTime=function(Hu,Gu){return yu.dateTime2ms(Hu,Gu)!==Ft};function Al(Hu,Gu){return String(Hu+Math.pow(10,Gu)).substr(1)}var Il=90*Fn,$l=3*zn,Bu=5*yl;yu.ms2DateTime=function(Hu,Gu,Xl){if(typeof Hu!="number"||!(Hu>=Bn&&Hu<=Cl))return Ft;Gu||(Gu=0);var Wu=Math.floor(st(Hu+.05,1)*10),Yu=Math.round(Hu-Wu/10),ap,rp,sp,bp,Cp,Ap;if(Ml(Xl)){var Lu=Math.floor(Yu/Fn)+_l,Nu=Math.floor(st(Hu,Fn));try{ap=ls.getComponentMethod("calendars","getCal")(Xl).fromJD(Lu).formatDate("yyyy-mm-dd")}catch{ap=Sl("G%Y-%m-%d")(new Date(Yu))}if(ap.charAt(0)==="-")for(;ap.length<11;)ap="-0"+ap.substr(1);else for(;ap.length<10;)ap="0"+ap;rp=Gu<Il?Math.floor(Nu/zn):0,sp=Gu<Il?Math.floor(Nu%zn/yl):0,bp=Gu<$l?Math.floor(Nu%yl/ot):0,Cp=Gu<Bu?Nu%ot*10+Wu:0}else Ap=new Date(Yu),ap=Sl("%Y-%m-%d")(Ap),rp=Gu<Il?Ap.getUTCHours():0,sp=Gu<Il?Ap.getUTCMinutes():0,bp=Gu<$l?Ap.getUTCSeconds():0,Cp=Gu<Bu?Ap.getUTCMilliseconds()*10+Wu:0;return Jl(ap,rp,sp,bp,Cp)},yu.ms2DateTimeLocal=function(Hu){if(!(Hu>=Bn+Fn&&Hu<=Cl-Fn))return Ft;var Gu=Math.floor(st(Hu+.05,1)*10),Xl=new Date(Math.round(Hu-Gu/10)),Wu=hu("%Y-%m-%d")(Xl),Yu=Xl.getHours(),ap=Xl.getMinutes(),rp=Xl.getSeconds(),sp=Xl.getUTCMilliseconds()*10+Gu;return Jl(Wu,Yu,ap,rp,sp)};function Jl(Hu,Gu,Xl,Wu,Yu){if((Gu||Xl||Wu||Yu)&&(Hu+=" "+Al(Gu,2)+":"+Al(Xl,2),(Wu||Yu)&&(Hu+=":"+Al(Wu,2),Yu))){for(var ap=4;Yu%10===0;)ap-=1,Yu/=10;Hu+="."+Al(Yu,ap)}return Hu}yu.cleanDate=function(Hu,Gu,Xl){if(Hu===Ft)return Gu;if(yu.isJSDate(Hu)||typeof Hu=="number"&&isFinite(Hu)){if(Ml(Xl))return it.error("JS Dates and milliseconds are incompatible with world calendars",Hu),Gu;if(Hu=yu.ms2DateTimeLocal(+Hu),!Hu&&Gu!==void 0)return Gu}else if(!yu.isDateTime(Hu,Xl))return it.error("unrecognized date",Hu),Gu;return Hu};var Kl=/%\d?f/g,Bl=/%h/g,$u={1:"1",2:"1",3:"2",4:"2"};function mu(Hu,Gu,Xl,Wu){Hu=Hu.replace(Kl,function(ap){var rp=Math.min(+ap.charAt(1)||6,6),sp=(Gu/1e3%1+2).toFixed(rp).substr(2).replace(/0+$/,"")||"0";return sp});var Yu=new Date(Math.floor(Gu+.05));if(Hu=Hu.replace(Bl,function(){return $u[Xl("%q")(Yu)]}),Ml(Wu))try{Hu=ls.getComponentMethod("calendars","worldCalFmt")(Hu,Gu,Wu)}catch{return"Invalid"}return Xl(Hu)(Yu)}var Pu=[59,59.9,59.99,59.999,59.9999];function bu(Hu,Gu){var Xl=st(Hu+.05,Fn),Wu=Al(Math.floor(Xl/zn),2)+":"+Al(st(Math.floor(Xl/yl),60),2);if(Gu!=="M"){jt(Gu)||(Gu=0);var Yu=Math.min(st(Hu/ot,60),Pu[Gu]),ap=(100+Yu).toFixed(Gu).substr(1);Gu>0&&(ap=ap.replace(/0+$/,"").replace(/[\.]$/,"")),Wu+=":"+ap}return Wu}yu.formatDate=function(Hu,Gu,Xl,Wu,Yu,ap){if(Yu=Ml(Yu)&&Yu,!Gu)if(Xl==="y")Gu=ap.year;else if(Xl==="m")Gu=ap.month;else if(Xl==="d")Gu=ap.dayMonth+`
`+ap.year;else return bu(Hu,Xl)+`
`+mu(ap.dayMonthYear,Hu,Wu,Yu);return mu(Gu,Hu,Wu,Yu)};var Fu=3*Fn;yu.incrementMonth=function(Hu,Gu,Xl){Xl=Ml(Xl)&&Xl;var Wu=st(Hu,Fn);if(Hu=Math.round(Hu-Wu),Xl)try{var Yu=Math.round(Hu/Fn)+_l,ap=ls.getComponentMethod("calendars","getCal")(Xl),rp=ap.fromJD(Yu);return Gu%12?ap.add(rp,Gu,"m"):ap.add(rp,Gu/12,"y"),(rp.toJD()-_l)*Fn+Wu}catch{it.error("invalid ms "+Hu+" in calendar "+Xl)}var sp=new Date(Hu+Fu);return sp.setUTCMonth(sp.getUTCMonth()+Gu)+Wu-Fu},yu.findExactDates=function(Hu,Gu){for(var Xl=0,Wu=0,Yu=0,ap=0,rp,sp,bp=Ml(Gu)&&ls.getComponentMethod("calendars","getCal")(Gu),Cp=0;Cp<Hu.length;Cp++){if(sp=Hu[Cp],!jt(sp)){ap++;continue}if(!(sp%Fn))if(bp)try{rp=bp.fromJD(sp/Fn+_l),rp.day()===1?rp.month()===1?Xl++:Wu++:Yu++}catch{}else rp=new Date(sp),rp.getUTCDate()===1?rp.getUTCMonth()===0?Xl++:Wu++:Yu++}Wu+=Xl,Yu+=Wu;var Ap=Hu.length-ap;return{exactYears:Xl/Ap,exactMonths:Wu/Ap,exactDays:Yu/Ap}}}),D2=a((yu,hu)=>{hu.exports=function(jt){return jt}}),d2=a(yu=>{var hu=rt(),jt=Wp(),it=D2(),st=nt().BADNUM,Ln=1e-9;yu.findBin=function(ot,_l,ls){if(hu(_l.start))return ls?Math.ceil((ot-_l.start)/_l.size-Ln)-1:Math.floor((ot-_l.start)/_l.size+Ln);var Sl=0,Pl=_l.length,Tl=0,El=Pl>1?(_l[Pl-1]-_l[0])/(Pl-1):1,Ml,Rl;for(El>=0?Rl=ls?Ft:Fn:Rl=ls?yl:zn,ot+=El*Ln*(ls?-1:1)*(El>=0?1:-1);Sl<Pl&&Tl++<100;)Ml=Math.floor((Sl+Pl)/2),Rl(_l[Ml],ot)?Sl=Ml+1:Pl=Ml;return Tl>90&&jt.log("Long binary search..."),Sl-1};function Ft(ot,_l){return ot<_l}function Fn(ot,_l){return ot<=_l}function zn(ot,_l){return ot>_l}function yl(ot,_l){return ot>=_l}yu.sorterAsc=function(ot,_l){return ot-_l},yu.sorterDes=function(ot,_l){return _l-ot},yu.distinctVals=function(ot){var _l=ot.slice();_l.sort(yu.sorterAsc);var ls;for(ls=_l.length-1;ls>-1&&_l[ls]===st;ls--);for(var Sl=_l[ls]-_l[0]||1,Pl=Sl/(ls||1)/1e4,Tl=[],El,Ml=0;Ml<=ls;Ml++){var Rl=_l[Ml],Bn=Rl-El;El===void 0?(Tl.push(Rl),El=Rl):Bn>Pl&&(Sl=Math.min(Sl,Bn),Tl.push(Rl),El=Rl)}return{vals:Tl,minDiff:Sl}},yu.roundUp=function(ot,_l,ls){for(var Sl=0,Pl=_l.length-1,Tl,El=0,Ml=ls?0:1,Rl=ls?1:0,Bn=ls?Math.ceil:Math.floor;Sl<Pl&&El++<100;)Tl=Bn((Sl+Pl)/2),_l[Tl]<=ot?Sl=Tl+Ml:Pl=Tl-Rl;return _l[Sl]},yu.sort=function(ot,_l){for(var ls=0,Sl=0,Pl=1;Pl<ot.length;Pl++){var Tl=_l(ot[Pl],ot[Pl-1]);if(Tl<0?ls=1:Tl>0&&(Sl=1),ls&&Sl)return ot.sort(_l)}return Sl?ot:ot.reverse()},yu.findIndexOfMin=function(ot,_l){_l=_l||it;for(var ls=1/0,Sl,Pl=0;Pl<ot.length;Pl++){var Tl=_l(ot[Pl]);Tl<ls&&(ls=Tl,Sl=Pl)}return Sl}}),L2=a((yu,hu)=>{hu.exports=function(jt){return Object.keys(jt).sort()}}),b2=a(yu=>{var hu=rt(),jt=Ll().isArrayOrTypedArray;yu.aggNums=function(it,st,Ln,Ft){var Fn,zn;if((!Ft||Ft>Ln.length)&&(Ft=Ln.length),hu(st)||(st=!1),jt(Ln[0])){for(zn=new Array(Ft),Fn=0;Fn<Ft;Fn++)zn[Fn]=yu.aggNums(it,st,Ln[Fn]);Ln=zn}for(Fn=0;Fn<Ft;Fn++)hu(st)?hu(Ln[Fn])&&(st=it(+st,+Ln[Fn])):st=Ln[Fn];return st},yu.len=function(it){return yu.aggNums(function(st){return st+1},0,it)},yu.mean=function(it,st){return st||(st=yu.len(it)),yu.aggNums(function(Ln,Ft){return Ln+Ft},0,it)/st},yu.geometricMean=function(it,st){return st||(st=yu.len(it)),Math.pow(yu.aggNums(function(Ln,Ft){return Ln*Ft},1,it),1/st)},yu.midRange=function(it){if(!(it===void 0||it.length===0))return(yu.aggNums(Math.max,null,it)+yu.aggNums(Math.min,null,it))/2},yu.variance=function(it,st,Ln){return st||(st=yu.len(it)),hu(Ln)||(Ln=yu.mean(it,st)),yu.aggNums(function(Ft,Fn){return Ft+Math.pow(Fn-Ln,2)},0,it)/st},yu.stdev=function(it,st,Ln){return Math.sqrt(yu.variance(it,st,Ln))},yu.median=function(it){var st=it.slice().sort();return yu.interp(st,.5)},yu.interp=function(it,st){if(!hu(st))throw"n should be a finite number";if(st=st*it.length-.5,st<0)return it[0];if(st>it.length-1)return it[it.length-1];var Ln=st%1;return Ln*it[Math.ceil(st)]+(1-Ln)*it[Math.floor(st)]}}),g2=a((yu,hu)=>{var jt=Zl(),it=jt.mod,st=jt.modHalf,Ln=Math.PI,Ft=2*Ln;function Fn(Rl){return Rl/180*Ln}function zn(Rl){return Rl/Ln*180}function yl(Rl){return Math.abs(Rl[1]-Rl[0])>Ft-1e-14}function ot(Rl,Bn){return st(Bn-Rl,Ft)}function _l(Rl,Bn){return Math.abs(ot(Rl,Bn))}function ls(Rl,Bn){if(yl(Bn))return!0;var Cl,Al;Bn[0]<Bn[1]?(Cl=Bn[0],Al=Bn[1]):(Cl=Bn[1],Al=Bn[0]),Cl=it(Cl,Ft),Al=it(Al,Ft),Cl>Al&&(Al+=Ft);var Il=it(Rl,Ft),$l=Il+Ft;return Il>=Cl&&Il<=Al||$l>=Cl&&$l<=Al}function Sl(Rl,Bn,Cl,Al){if(!ls(Bn,Al))return!1;var Il,$l;return Cl[0]<Cl[1]?(Il=Cl[0],$l=Cl[1]):(Il=Cl[1],$l=Cl[0]),Rl>=Il&&Rl<=$l}function Pl(Rl,Bn,Cl,Al,Il,$l,Bu){Il=Il||0,$l=$l||0;var Jl=yl([Cl,Al]),Kl,Bl,$u,mu,Pu;Jl?(Kl=0,Bl=Ln,$u=Ft):Cl<Al?(Kl=Cl,$u=Al):(Kl=Al,$u=Cl),Rl<Bn?(mu=Rl,Pu=Bn):(mu=Bn,Pu=Rl);function bu(Xl,Wu){return[Xl*Math.cos(Wu)+Il,$l-Xl*Math.sin(Wu)]}var Fu=Math.abs($u-Kl)<=Ln?0:1;function Hu(Xl,Wu,Yu){return"A"+[Xl,Xl]+" "+[0,Fu,Yu]+" "+bu(Xl,Wu)}var Gu;return Jl?mu===null?Gu="M"+bu(Pu,Kl)+Hu(Pu,Bl,0)+Hu(Pu,$u,0)+"Z":Gu="M"+bu(mu,Kl)+Hu(mu,Bl,0)+Hu(mu,$u,0)+"ZM"+bu(Pu,Kl)+Hu(Pu,Bl,1)+Hu(Pu,$u,1)+"Z":mu===null?(Gu="M"+bu(Pu,Kl)+Hu(Pu,$u,0),Bu&&(Gu+="L0,0Z")):Gu="M"+bu(mu,Kl)+"L"+bu(Pu,Kl)+Hu(Pu,$u,0)+"L"+bu(mu,$u)+Hu(mu,Kl,1)+"Z",Gu}function Tl(Rl,Bn,Cl,Al,Il){return Pl(null,Rl,Bn,Cl,Al,Il,0)}function El(Rl,Bn,Cl,Al,Il){return Pl(null,Rl,Bn,Cl,Al,Il,1)}function Ml(Rl,Bn,Cl,Al,Il,$l){return Pl(Rl,Bn,Cl,Al,Il,$l,1)}hu.exports={deg2rad:Fn,rad2deg:zn,angleDelta:ot,angleDist:_l,isFullCircle:yl,isAngleInsideSector:ls,isPtInsideSector:Sl,pathArc:Tl,pathSector:El,pathAnnulus:Ml}}),yy=a(yu=>{yu.isLeftAnchor=function(hu){return hu.xanchor==="left"||hu.xanchor==="auto"&&hu.x<=1/3},yu.isCenterAnchor=function(hu){return hu.xanchor==="center"||hu.xanchor==="auto"&&hu.x>1/3&&hu.x<2/3},yu.isRightAnchor=function(hu){return hu.xanchor==="right"||hu.xanchor==="auto"&&hu.x>=2/3},yu.isTopAnchor=function(hu){return hu.yanchor==="top"||hu.yanchor==="auto"&&hu.y>=2/3},yu.isMiddleAnchor=function(hu){return hu.yanchor==="middle"||hu.yanchor==="auto"&&hu.y>1/3&&hu.y<2/3},yu.isBottomAnchor=function(hu){return hu.yanchor==="bottom"||hu.yanchor==="auto"&&hu.y<=1/3}}),e2=a(yu=>{var hu=Zl().mod;yu.segmentsIntersect=jt;function jt(Fn,zn,yl,ot,_l,ls,Sl,Pl){var Tl=yl-Fn,El=_l-Fn,Ml=Sl-_l,Rl=ot-zn,Bn=ls-zn,Cl=Pl-ls,Al=Tl*Cl-Ml*Rl;if(Al===0)return null;var Il=(El*Cl-Ml*Bn)/Al,$l=(El*Rl-Tl*Bn)/Al;return $l<0||$l>1||Il<0||Il>1?null:{x:Fn+Tl*Il,y:zn+Rl*Il}}yu.segmentDistance=function(Fn,zn,yl,ot,_l,ls,Sl,Pl){if(jt(Fn,zn,yl,ot,_l,ls,Sl,Pl))return 0;var Tl=yl-Fn,El=ot-zn,Ml=Sl-_l,Rl=Pl-ls,Bn=Tl*Tl+El*El,Cl=Ml*Ml+Rl*Rl,Al=Math.min(it(Tl,El,Bn,_l-Fn,ls-zn),it(Tl,El,Bn,Sl-Fn,Pl-zn),it(Ml,Rl,Cl,Fn-_l,zn-ls),it(Ml,Rl,Cl,yl-_l,ot-ls));return Math.sqrt(Al)};function it(Fn,zn,yl,ot,_l){var ls=ot*Fn+_l*zn;if(ls<0)return ot*ot+_l*_l;if(ls>yl){var Sl=ot-Fn,Pl=_l-zn;return Sl*Sl+Pl*Pl}else{var Tl=ot*zn-_l*Fn;return Tl*Tl/yl}}var st,Ln,Ft;yu.getTextLocation=function(Fn,zn,yl,ot){if((Fn!==Ln||ot!==Ft)&&(st={},Ln=Fn,Ft=ot),st[yl])return st[yl];var _l=Fn.getPointAtLength(hu(yl-ot/2,zn)),ls=Fn.getPointAtLength(hu(yl+ot/2,zn)),Sl=Math.atan((ls.y-_l.y)/(ls.x-_l.x)),Pl=Fn.getPointAtLength(hu(yl,zn)),Tl=(Pl.x*4+_l.x+ls.x)/6,El=(Pl.y*4+_l.y+ls.y)/6,Ml={x:Tl,y:El,theta:Sl};return st[yl]=Ml,Ml},yu.clearLocationCache=function(){Ln=null},yu.getVisibleSegment=function(Fn,zn,yl){var ot=zn.left,_l=zn.right,ls=zn.top,Sl=zn.bottom,Pl=0,Tl=Fn.getTotalLength(),El=Tl,Ml,Rl;function Bn(Al){var Il=Fn.getPointAtLength(Al);Al===0?Ml=Il:Al===Tl&&(Rl=Il);var $l=Il.x<ot?ot-Il.x:Il.x>_l?Il.x-_l:0,Bu=Il.y<ls?ls-Il.y:Il.y>Sl?Il.y-Sl:0;return Math.sqrt($l*$l+Bu*Bu)}for(var Cl=Bn(Pl);Cl;){if(Pl+=Cl+yl,Pl>El)return;Cl=Bn(Pl)}for(Cl=Bn(El);Cl;){if(El-=Cl+yl,Pl>El)return;Cl=Bn(El)}return{min:Pl,max:El,len:El-Pl,total:Tl,isClosed:Pl===0&&El===Tl&&Math.abs(Ml.x-Rl.x)<.1&&Math.abs(Ml.y-Rl.y)<.1}},yu.findPointOnPath=function(Fn,zn,yl,ot){ot=ot||{};for(var _l=ot.pathLength||Fn.getTotalLength(),ls=ot.tolerance||.001,Sl=ot.iterationLimit||30,Pl=Fn.getPointAtLength(0)[yl]>Fn.getPointAtLength(_l)[yl]?-1:1,Tl=0,El=0,Ml=_l,Rl,Bn,Cl;Tl<Sl;){if(Rl=(El+Ml)/2,Bn=Fn.getPointAtLength(Rl),Cl=Bn[yl]-zn,Math.abs(Cl)<ls)return Bn;Pl*Cl>0?Ml=Rl:El=Rl,Tl++}return Bn}}),M2=a(yu=>{var hu={};yu.throttle=function(it,st,Ln){var Ft=hu[it],Fn=Date.now();if(!Ft){for(var zn in hu)hu[zn].ts<Fn-6e4&&delete hu[zn];Ft=hu[it]={ts:0,timer:null}}jt(Ft);function yl(){Ln(),Ft.ts=Date.now(),Ft.onDone&&(Ft.onDone(),Ft.onDone=null)}if(Fn>Ft.ts+st){yl();return}Ft.timer=setTimeout(function(){yl(),Ft.timer=null},st)},yu.done=function(it){var st=hu[it];return!st||!st.timer?Promise.resolve():new Promise(function(Ln){var Ft=st.onDone;st.onDone=function(){Ft&&Ft(),Ln(),st.onDone=null}})},yu.clear=function(it){if(it)jt(hu[it]),delete hu[it];else for(var st in hu)yu.clear(st)};function jt(it){it&&it.timer!==null&&(clearTimeout(it.timer),it.timer=null)}}),m2=a((yu,hu)=>{hu.exports=function(jt){jt._responsiveChartHandler&&(window.removeEventListener("resize",jt._responsiveChartHandler),delete jt._responsiveChartHandler)}}),I2=a((yu,hu)=>{hu.exports=Ln,hu.exports.isMobile=Ln,hu.exports.default=Ln;var jt=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,it=/CrOS/,st=/android|ipad|playbook|silk/i;function Ln(Ft){Ft||(Ft={});let Fn=Ft.ua;if(!Fn&&typeof navigator<"u"&&(Fn=navigator.userAgent),Fn&&Fn.headers&&typeof Fn.headers["user-agent"]=="string"&&(Fn=Fn.headers["user-agent"]),typeof Fn!="string")return!1;let zn=jt.test(Fn)&&!it.test(Fn)||!!Ft.tablet&&st.test(Fn);return!zn&&Ft.tablet&&Ft.featureDetect&&navigator&&navigator.maxTouchPoints>1&&Fn.indexOf("Macintosh")!==-1&&Fn.indexOf("Safari")!==-1&&(zn=!0),zn}}),O2=a((yu,hu)=>{var jt=rt(),it=I2();hu.exports=function(Ln){var Ft;if(Ln&&Ln.hasOwnProperty("userAgent")?Ft=Ln.userAgent:Ft=st(),typeof Ft!="string")return!0;var Fn=it({ua:{headers:{"user-agent":Ft}},tablet:!0,featureDetect:!1});if(!Fn)for(var zn=Ft.split(" "),yl=1;yl<zn.length;yl++){var ot=zn[yl];if(ot.indexOf("Safari")!==-1)for(var _l=yl-1;_l>-1;_l--){var ls=zn[_l];if(ls.substr(0,8)==="Version/"){var Sl=ls.substr(8).split(".")[0];if(jt(Sl)&&(Sl=+Sl),Sl>=13)return!0}}}return Fn};function st(){var Ln;return typeof navigator<"u"&&(Ln=navigator.userAgent),Ln&&Ln.headers&&typeof Ln.headers["user-agent"]=="string"&&(Ln=Ln.headers["user-agent"]),Ln}}),B2=a((yu,hu)=>{var jt=g();hu.exports=function(it,st,Ln){var Ft=it.selectAll("g."+Ln.replace(/\s/g,".")).data(st,function(zn){return zn[0].trace.uid});Ft.exit().remove(),Ft.enter().append("g").attr("class",Ln),Ft.order();var Fn=it.classed("rangeplot")?"nodeRangePlot3":"node3";return Ft.each(function(zn){zn[0][Fn]=jt.select(this)}),Ft}}),Av=a((yu,hu)=>{var jt=N1();hu.exports=function(it,st){for(var Ln=it._context.locale,Ft=0;Ft<2;Ft++){for(var Fn=it._context.locales,zn=0;zn<2;zn++){var yl=(Fn[Ln]||{}).dictionary;if(yl){var ot=yl[st];if(ot)return ot}Fn=jt.localeRegistry}var _l=Ln.split("-")[0];if(_l===Ln)break;Ln=_l}return st}}),qy=a((yu,hu)=>{hu.exports=function(jt){for(var it={},st=[],Ln=0,Ft=0;Ft<jt.length;Ft++){var Fn=jt[Ft];it[Fn]!==1&&(it[Fn]=1,st[Ln++]=Fn)}return st}}),zy=a((yu,hu)=>{hu.exports=function(Ln){for(var Ft=st(Ln)?it:jt,Fn=[],zn=0;zn<Ln.length;zn++){var yl=Ln[zn];Ft(yl)&&Fn.push(yl)}return Fn};function jt(Ln){return Ln.visible===!0}function it(Ln){var Ft=Ln[0].trace;return Ft.visible===!0&&Ft._length!==0}function st(Ln){return Array.isArray(Ln)&&Array.isArray(Ln[0])&&Ln[0][0]&&Ln[0][0].trace}}),z2=a((yu,hu)=>{hu.exports=function(jt,it){if(!it)return jt;var st=1/Math.abs(it),Ln=st>1?(st*jt+st*it)/st:jt+it,Ft=String(Ln).length;if(Ft>16){var Fn=String(it).length,zn=String(jt).length;if(Ft>=zn+Fn){var yl=parseFloat(Ln).toPrecision(12);yl.indexOf("e+")===-1&&(Ln=+yl)}}return Ln}}),Z1=a((yu,hu)=>{var jt=rt(),it=nt().BADNUM,st=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;hu.exports=function(Ln){return typeof Ln=="string"&&(Ln=Ln.replace(st,"")),jt(Ln)?Number(Ln):it}}),gu=a((yu,hu)=>{var jt=g(),it=_().utcFormat,st=$().format,Ln=rt(),Ft=nt(),Fn=Ft.FP_SAFE,zn=-Fn,yl=Ft.BADNUM,ot=hu.exports={};ot.adjustFormat=function(vu){return!vu||/^\d[.]\df/.test(vu)||/[.]\d%/.test(vu)?vu:vu==="0.f"?"~f":/^\d%/.test(vu)?"~%":/^\ds/.test(vu)?"~s":!/^[~,.0$]/.test(vu)&&/[&fps]/.test(vu)?"~"+vu:vu};var _l={};ot.warnBadFormat=function(vu){var Ol=String(vu);_l[Ol]||(_l[Ol]=1,ot.warn('encountered bad format: "'+Ol+'"'))},ot.noFormat=function(vu){return String(vu)},ot.numberFormat=function(vu){var Ol;try{Ol=st(ot.adjustFormat(vu))}catch{return ot.warnBadFormat(vu),ot.noFormat}return Ol},ot.nestedProperty=Nl(),ot.keyedContainer=_u(),ot.relativeAttr=Yl(),ot.isPlainObject=xl(),ot.toLogRange=Ul(),ot.relinkPrivateKeys=Dl();var ls=Ll();ot.isArrayBuffer=ls.isArrayBuffer,ot.isTypedArray=ls.isTypedArray,ot.isArrayOrTypedArray=ls.isArrayOrTypedArray,ot.isArray1D=ls.isArray1D,ot.ensureArray=ls.ensureArray,ot.concat=ls.concat,ot.maxRowLength=ls.maxRowLength,ot.minRowLength=ls.minRowLength;var Sl=Zl();ot.mod=Sl.mod,ot.modHalf=Sl.modHalf;var Pl=S0();ot.valObjectMeta=Pl.valObjectMeta,ot.coerce=Pl.coerce,ot.coerce2=Pl.coerce2,ot.coerceFont=Pl.coerceFont,ot.coercePattern=Pl.coercePattern,ot.coerceHoverinfo=Pl.coerceHoverinfo,ot.coerceSelectionMarkerOpacity=Pl.coerceSelectionMarkerOpacity,ot.validate=Pl.validate;var Tl=c2();ot.dateTime2ms=Tl.dateTime2ms,ot.isDateTime=Tl.isDateTime,ot.ms2DateTime=Tl.ms2DateTime,ot.ms2DateTimeLocal=Tl.ms2DateTimeLocal,ot.cleanDate=Tl.cleanDate,ot.isJSDate=Tl.isJSDate,ot.formatDate=Tl.formatDate,ot.incrementMonth=Tl.incrementMonth,ot.dateTick0=Tl.dateTick0,ot.dfltRange=Tl.dfltRange,ot.findExactDates=Tl.findExactDates,ot.MIN_MS=Tl.MIN_MS,ot.MAX_MS=Tl.MAX_MS;var El=d2();ot.findBin=El.findBin,ot.sorterAsc=El.sorterAsc,ot.sorterDes=El.sorterDes,ot.distinctVals=El.distinctVals,ot.roundUp=El.roundUp,ot.sort=El.sort,ot.findIndexOfMin=El.findIndexOfMin,ot.sortObjectKeys=L2();var Ml=b2();ot.aggNums=Ml.aggNums,ot.len=Ml.len,ot.mean=Ml.mean,ot.geometricMean=Ml.geometricMean,ot.median=Ml.median,ot.midRange=Ml.midRange,ot.variance=Ml.variance,ot.stdev=Ml.stdev,ot.interp=Ml.interp;var Rl=Km();ot.init2dArray=Rl.init2dArray,ot.transposeRagged=Rl.transposeRagged,ot.dot=Rl.dot,ot.translationMatrix=Rl.translationMatrix,ot.rotationMatrix=Rl.rotationMatrix,ot.rotationXYMatrix=Rl.rotationXYMatrix,ot.apply3DTransform=Rl.apply3DTransform,ot.apply2DTransform=Rl.apply2DTransform,ot.apply2DTransform2=Rl.apply2DTransform2,ot.convertCssMatrix=Rl.convertCssMatrix,ot.inverseTransformMatrix=Rl.inverseTransformMatrix;var Bn=g2();ot.deg2rad=Bn.deg2rad,ot.rad2deg=Bn.rad2deg,ot.angleDelta=Bn.angleDelta,ot.angleDist=Bn.angleDist,ot.isFullCircle=Bn.isFullCircle,ot.isAngleInsideSector=Bn.isAngleInsideSector,ot.isPtInsideSector=Bn.isPtInsideSector,ot.pathArc=Bn.pathArc,ot.pathSector=Bn.pathSector,ot.pathAnnulus=Bn.pathAnnulus;var Cl=yy();ot.isLeftAnchor=Cl.isLeftAnchor,ot.isCenterAnchor=Cl.isCenterAnchor,ot.isRightAnchor=Cl.isRightAnchor,ot.isTopAnchor=Cl.isTopAnchor,ot.isMiddleAnchor=Cl.isMiddleAnchor,ot.isBottomAnchor=Cl.isBottomAnchor;var Al=e2();ot.segmentsIntersect=Al.segmentsIntersect,ot.segmentDistance=Al.segmentDistance,ot.getTextLocation=Al.getTextLocation,ot.clearLocationCache=Al.clearLocationCache,ot.getVisibleSegment=Al.getVisibleSegment,ot.findPointOnPath=Al.findPointOnPath;var Il=Uu();ot.extendFlat=Il.extendFlat,ot.extendDeep=Il.extendDeep,ot.extendDeepAll=Il.extendDeepAll,ot.extendDeepNoArrays=Il.extendDeepNoArrays;var $l=Wp();ot.log=$l.log,ot.warn=$l.warn,ot.error=$l.error;var Bu=dp();ot.counterRegex=Bu.counter;var Jl=M2();ot.throttle=Jl.throttle,ot.throttleDone=Jl.done,ot.clearThrottle=Jl.clear;var Kl=F1();ot.getGraphDiv=Kl.getGraphDiv,ot.isPlotDiv=Kl.isPlotDiv,ot.removeElement=Kl.removeElement,ot.addStyleRule=Kl.addStyleRule,ot.addRelatedStyleRule=Kl.addRelatedStyleRule,ot.deleteRelatedStyleRule=Kl.deleteRelatedStyleRule,ot.setStyleOnHover=Kl.setStyleOnHover,ot.getFullTransformMatrix=Kl.getFullTransformMatrix,ot.getElementTransformMatrix=Kl.getElementTransformMatrix,ot.getElementAndAncestors=Kl.getElementAndAncestors,ot.equalDomRects=Kl.equalDomRects,ot.clearResponsive=m2(),ot.preserveDrawingBuffer=O2(),ot.makeTraceGroups=B2(),ot._=Av(),ot.notifier=Op(),ot.filterUnique=qy(),ot.filterVisible=zy(),ot.pushUnique=fm(),ot.increment=z2(),ot.cleanNumber=Z1(),ot.ensureNumber=function(vu){return Ln(vu)?(vu=Number(vu),vu>Fn||vu<zn?yl:vu):yl},ot.isIndex=function(vu,Ol){return Ol!==void 0&&vu>=Ol?!1:Ln(vu)&&vu>=0&&vu%1===0},ot.noop=mm(),ot.identity=D2(),ot.repeat=function(vu,Ol){for(var Wl=new Array(Ol),Mu=0;Mu<Ol;Mu++)Wl[Mu]=vu;return Wl},ot.swapAttrs=function(vu,Ol,Wl,Mu){Wl||(Wl="x"),Mu||(Mu="y");for(var zu=0;zu<Ol.length;zu++){var ip=Ol[zu],pp=ot.nestedProperty(vu,ip.replace("?",Wl)),vp=ot.nestedProperty(vu,ip.replace("?",Mu)),Pp=pp.get();pp.set(vp.get()),vp.set(Pp)}},ot.raiseToTop=function(vu){vu.parentNode.appendChild(vu)},ot.cancelTransition=function(vu){return vu.transition().duration(0)},ot.constrain=function(vu,Ol,Wl){return Ol>Wl?Math.max(Wl,Math.min(Ol,vu)):Math.max(Ol,Math.min(Wl,vu))},ot.bBoxIntersect=function(vu,Ol,Wl){return Wl=Wl||0,vu.left<=Ol.right+Wl&&Ol.left<=vu.right+Wl&&vu.top<=Ol.bottom+Wl&&Ol.top<=vu.bottom+Wl},ot.simpleMap=function(vu,Ol,Wl,Mu,zu){for(var ip=vu.length,pp=new Array(ip),vp=0;vp<ip;vp++)pp[vp]=Ol(vu[vp],Wl,Mu,zu);return pp},ot.randstr=function vu(Ol,Wl,Mu,zu){if(Mu||(Mu=16),Wl===void 0&&(Wl=24),Wl<=0)return"0";var ip=Math.log(Math.pow(2,Wl))/Math.log(Mu),pp="",vp,Pp,Gp;for(vp=2;ip===1/0;vp*=2)ip=Math.log(Math.pow(2,Wl/vp))/Math.log(Mu)*vp;var r0=ip-Math.floor(ip);for(vp=0;vp<Math.floor(ip);vp++)Gp=Math.floor(Math.random()*Mu).toString(Mu),pp=Gp+pp;r0&&(Pp=Math.pow(Mu,r0),Gp=Math.floor(Math.random()*Pp).toString(Mu),pp=Gp+pp);var C0=parseInt(pp,Mu);return Ol&&Ol[pp]||C0!==1/0&&C0>=Math.pow(2,Wl)?zu>10?(ot.warn("randstr failed uniqueness"),pp):vu(Ol,Wl,Mu,(zu||0)+1):pp},ot.OptionControl=function(vu,Ol){vu||(vu={}),Ol||(Ol="opt");var Wl={};return Wl.optionList=[],Wl._newoption=function(Mu){Mu[Ol]=vu,Wl[Mu.name]=Mu,Wl.optionList.push(Mu)},Wl["_"+Ol]=vu,Wl},ot.smooth=function(vu,Ol){if(Ol=Math.round(Ol)||0,Ol<2)return vu;var Wl=vu.length,Mu=2*Wl,zu=2*Ol-1,ip=new Array(zu),pp=new Array(Wl),vp,Pp,Gp,r0;for(vp=0;vp<zu;vp++)ip[vp]=(1-Math.cos(Math.PI*(vp+1)/Ol))/(2*Ol);for(vp=0;vp<Wl;vp++){for(r0=0,Pp=0;Pp<zu;Pp++)Gp=vp+Pp+1-Ol,Gp<-Wl?Gp-=Mu*Math.round(Gp/Mu):Gp>=Mu&&(Gp-=Mu*Math.floor(Gp/Mu)),Gp<0?Gp=-1-Gp:Gp>=Wl&&(Gp=Mu-1-Gp),r0+=vu[Gp]*ip[Pp];pp[vp]=r0}return pp},ot.syncOrAsync=function(vu,Ol,Wl){var Mu,zu;function ip(){return ot.syncOrAsync(vu,Ol,Wl)}for(;vu.length;)if(zu=vu.splice(0,1)[0],Mu=zu(Ol),Mu&&Mu.then)return Mu.then(ip);return Wl&&Wl(Ol)},ot.stripTrailingSlash=function(vu){return vu.substr(-1)==="/"?vu.substr(0,vu.length-1):vu},ot.noneOrAll=function(vu,Ol,Wl){if(vu){var Mu=!1,zu=!0,ip,pp;for(ip=0;ip<Wl.length;ip++)pp=vu[Wl[ip]],pp!=null?Mu=!0:zu=!1;if(Mu&&!zu)for(ip=0;ip<Wl.length;ip++)vu[Wl[ip]]=Ol[Wl[ip]]}},ot.mergeArray=function(vu,Ol,Wl,Mu){var zu=typeof Mu=="function";if(ot.isArrayOrTypedArray(vu))for(var ip=Math.min(vu.length,Ol.length),pp=0;pp<ip;pp++){var vp=vu[pp];Ol[pp][Wl]=zu?Mu(vp):vp}},ot.mergeArrayCastPositive=function(vu,Ol,Wl){return ot.mergeArray(vu,Ol,Wl,function(Mu){var zu=+Mu;return isFinite(zu)&&zu>0?zu:0})},ot.fillArray=function(vu,Ol,Wl,Mu){if(Mu=Mu||ot.identity,ot.isArrayOrTypedArray(vu))for(var zu=0;zu<Ol.length;zu++)Ol[zu][Wl]=Mu(vu[zu])},ot.castOption=function(vu,Ol,Wl,Mu){Mu=Mu||ot.identity;var zu=ot.nestedProperty(vu,Wl).get();return ot.isArrayOrTypedArray(zu)?Array.isArray(Ol)&&ot.isArrayOrTypedArray(zu[Ol[0]])?Mu(zu[Ol[0]][Ol[1]]):Mu(zu[Ol]):zu},ot.extractOption=function(vu,Ol,Wl,Mu){if(Wl in vu)return vu[Wl];var zu=ot.nestedProperty(Ol,Mu).get();if(!Array.isArray(zu))return zu};function Bl(vu){var Ol={};for(var Wl in vu)for(var Mu=vu[Wl],zu=0;zu<Mu.length;zu++)Ol[Mu[zu]]=+Wl;return Ol}ot.tagSelected=function(vu,Ol,Wl){var Mu=Ol.selectedpoints,zu=Ol._indexToPoints,ip;zu&&(ip=Bl(zu));function pp(C0){return C0!==void 0&&C0<vu.length}for(var vp=0;vp<Mu.length;vp++){var Pp=Mu[vp];if(ot.isIndex(Pp)||ot.isArrayOrTypedArray(Pp)&&ot.isIndex(Pp[0])&&ot.isIndex(Pp[1])){var Gp=ip?ip[Pp]:Pp,r0=Wl?Wl[Gp]:Gp;pp(r0)&&(vu[r0].selected=1)}}},ot.selIndices2selPoints=function(vu){var Ol=vu.selectedpoints,Wl=vu._indexToPoints;if(Wl){for(var Mu=Bl(Wl),zu=[],ip=0;ip<Ol.length;ip++){var pp=Ol[ip];if(ot.isIndex(pp)){var vp=Mu[pp];ot.isIndex(vp)&&zu.push(vp)}}return zu}else return Ol},ot.getTargetArray=function(vu,Ol){var Wl=Ol.target;if(typeof Wl=="string"&&Wl){var Mu=ot.nestedProperty(vu,Wl).get();return ot.isArrayOrTypedArray(Mu)?Mu:!1}else if(ot.isArrayOrTypedArray(Wl))return Wl;return!1};function $u(vu,Ol,Wl){var Mu={};typeof Ol!="object"&&(Ol={});var zu=Wl==="pieLike"?-1:3,ip=Object.keys(vu),pp,vp,Pp;for(pp=0;pp<ip.length;pp++)vp=ip[pp],Pp=vu[vp],!(vp.charAt(0)==="_"||typeof Pp=="function")&&(vp==="module"?Mu[vp]=Pp:Array.isArray(Pp)?vp==="colorscale"||zu===-1?Mu[vp]=Pp.slice():Mu[vp]=Pp.slice(0,zu):ot.isTypedArray(Pp)?zu===-1?Mu[vp]=Pp.subarray():Mu[vp]=Pp.subarray(0,zu):Pp&&typeof Pp=="object"?Mu[vp]=$u(vu[vp],Ol[vp],Wl):Mu[vp]=Pp);for(ip=Object.keys(Ol),pp=0;pp<ip.length;pp++)vp=ip[pp],Pp=Ol[vp],(typeof Pp!="object"||!(vp in Mu)||typeof Mu[vp]!="object")&&(Mu[vp]=Pp);return Mu}ot.minExtend=$u,ot.titleCase=function(vu){return vu.charAt(0).toUpperCase()+vu.substr(1)},ot.containsAny=function(vu,Ol){for(var Wl=0;Wl<Ol.length;Wl++)if(vu.indexOf(Ol[Wl])!==-1)return!0;return!1};var mu=/Version\/[\d\.]+.*Safari/;ot.isSafari=function(){return mu.test(window.navigator.userAgent)};var Pu=/iPad|iPhone|iPod/;ot.isIOS=function(){return Pu.test(window.navigator.userAgent)};var bu=/Macintosh.+AppleWebKit.+Gecko\)$/;ot.isMacWKWebView=()=>bu.test(window.navigator.userAgent);var Fu=/Firefox\/(\d+)\.\d+/;ot.getFirefoxVersion=function(){var vu=Fu.exec(window.navigator.userAgent);if(vu&&vu.length===2){var Ol=parseInt(vu[1]);if(!isNaN(Ol))return Ol}return null},ot.isD3Selection=function(vu){return vu instanceof jt.selection},ot.ensureSingle=function(vu,Ol,Wl,Mu){var zu=vu.select(Ol+(Wl?"."+Wl:""));if(zu.size())return zu;var ip=vu.append(Ol);return Wl&&ip.classed(Wl,!0),Mu&&ip.call(Mu),ip},ot.ensureSingleById=function(vu,Ol,Wl,Mu){var zu=vu.select(Ol+"#"+Wl);if(zu.size())return zu;var ip=vu.append(Ol).attr("id",Wl);return Mu&&ip.call(Mu),ip},ot.objectFromPath=function(vu,Ol){for(var Wl=vu.split("."),Mu,zu=Mu={},ip=0;ip<Wl.length;ip++){var pp=Wl[ip],vp=null,Pp=Wl[ip].match(/(.*)\[([0-9]+)\]/);Pp?(pp=Pp[1],vp=Pp[2],Mu=Mu[pp]=[],ip===Wl.length-1?Mu[vp]=Ol:Mu[vp]={},Mu=Mu[vp]):(ip===Wl.length-1?Mu[pp]=Ol:Mu[pp]={},Mu=Mu[pp])}return zu};var Hu=/^([^\[\.]+)\.(.+)?/,Gu=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function Xl(vu){return vu.slice(0,2)==="__"}ot.expandObjectPaths=function(vu){var Ol,Wl,Mu,zu,ip,pp,vp;if(typeof vu=="object"&&!Array.isArray(vu)){for(Wl in vu)if(vu.hasOwnProperty(Wl))if(Ol=Wl.match(Hu)){if(zu=vu[Wl],Mu=Ol[1],Xl(Mu))continue;delete vu[Wl],vu[Mu]=ot.extendDeepNoArrays(vu[Mu]||{},ot.objectFromPath(Wl,ot.expandObjectPaths(zu))[Mu])}else if(Ol=Wl.match(Gu)){if(zu=vu[Wl],Mu=Ol[1],Xl(Mu))continue;if(ip=parseInt(Ol[2]),delete vu[Wl],vu[Mu]=vu[Mu]||[],Ol[3]===".")vp=Ol[4],pp=vu[Mu][ip]=vu[Mu][ip]||{},ot.extendDeepNoArrays(pp,ot.objectFromPath(vp,ot.expandObjectPaths(zu)));else{if(Xl(Mu))continue;vu[Mu][ip]=ot.expandObjectPaths(zu)}}else{if(Xl(Wl))continue;vu[Wl]=ot.expandObjectPaths(vu[Wl])}}return vu},ot.numSeparate=function(vu,Ol,Wl){if(Wl||(Wl=!1),typeof Ol!="string"||Ol.length===0)throw new Error("Separator string required for formatting!");typeof vu=="number"&&(vu=String(vu));var Mu=/(\d+)(\d{3})/,zu=Ol.charAt(0),ip=Ol.charAt(1),pp=vu.split("."),vp=pp[0],Pp=pp.length>1?zu+pp[1]:"";if(ip&&(pp.length>1||vp.length>4||Wl))for(;Mu.test(vp);)vp=vp.replace(Mu,"$1"+ip+"$2");return vp+Pp},ot.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var Wu=/^\w*$/;ot.templateString=function(vu,Ol){var Wl={};return vu.replace(ot.TEMPLATE_STRING_REGEX,function(Mu,zu){var ip;return Wu.test(zu)?ip=Ol[zu]:(Wl[zu]=Wl[zu]||ot.nestedProperty(Ol,zu).get,ip=Wl[zu](!0)),ip!==void 0?ip:""})};var Yu={max:10,count:0,name:"hovertemplate"};ot.hovertemplateString=function(){return Ap.apply(Yu,arguments)};var ap={max:10,count:0,name:"texttemplate"};ot.texttemplateString=function(){return Ap.apply(ap,arguments)};var rp=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function sp(vu){var Ol=vu.match(rp);return Ol?{key:Ol[1],op:Ol[2],number:Number(Ol[3])}:{key:vu,op:null,number:null}}var bp={max:10,count:0,name:"texttemplate",parseMultDiv:!0};ot.texttemplateStringForShapes=function(){return Ap.apply(bp,arguments)};var Cp=/^[:|\|]/;function Ap(vu,Ol,Wl){var Mu=this,zu=arguments;return Ol||(Ol={}),vu.replace(ot.TEMPLATE_STRING_REGEX,function(ip,pp,vp){var Pp=pp==="xother"||pp==="yother",Gp=pp==="_xother"||pp==="_yother",r0=pp==="_xother_"||pp==="_yother_",C0=pp==="xother_"||pp==="yother_",f0=Pp||Gp||C0||r0,d0=pp;(Gp||r0)&&(d0=d0.substring(1)),(C0||r0)&&(d0=d0.substring(0,d0.length-1));var Sp=null,Fp=null;if(Mu.parseMultDiv){var cp=sp(d0);d0=cp.key,Sp=cp.op,Fp=cp.number}var jp;if(f0){if(jp=Ol[d0],jp===void 0)return""}else{var a0,y0;for(y0=3;y0<zu.length;y0++)if(a0=zu[y0],!!a0){if(a0.hasOwnProperty(d0)){jp=a0[d0];break}if(Wu.test(d0)||(jp=ot.nestedProperty(a0,d0).get(!0)),jp!==void 0)break}}if(jp!==void 0&&(Sp==="*"&&(jp*=Fp),Sp==="/"&&(jp/=Fp)),jp===void 0&&Mu)return Mu.count<Mu.max&&(ot.warn("Variable '"+d0+"' in "+Mu.name+" could not be found!"),jp=ip),Mu.count===Mu.max&&ot.warn("Too many "+Mu.name+" warnings - additional warnings will be suppressed"),Mu.count++,ip;if(vp){var P0;if(vp[0]===":"&&(P0=Wl?Wl.numberFormat:ot.numberFormat,jp!==""&&(jp=P0(vp.replace(Cp,""))(jp))),vp[0]==="|"){P0=Wl?Wl.timeFormat:it;var E0=ot.dateTime2ms(jp);jp=ot.formatDate(E0,vp.replace(Cp,""),!1,P0)}}else{var O0=d0+"Label";Ol.hasOwnProperty(O0)&&(jp=Ol[O0])}return f0&&(jp="("+jp+")",(Gp||r0)&&(jp=" "+jp),(C0||r0)&&(jp=jp+" ")),jp})}var Lu=48,Nu=57;ot.subplotSort=function(vu,Ol){for(var Wl=Math.min(vu.length,Ol.length)+1,Mu=0,zu=0,ip=0;ip<Wl;ip++){var pp=vu.charCodeAt(ip)||0,vp=Ol.charCodeAt(ip)||0,Pp=pp>=Lu&&pp<=Nu,Gp=vp>=Lu&&vp<=Nu;if(Pp&&(Mu=10*Mu+pp-Lu),Gp&&(zu=10*zu+vp-Lu),!Pp||!Gp){if(Mu!==zu)return Mu-zu;if(pp!==vp)return pp-vp}}return zu-Mu};var Hl=2e9;ot.seedPseudoRandom=function(){Hl=2e9},ot.pseudoRandom=function(){var vu=Hl;return Hl=(69069*Hl+1)%4294967296,Math.abs(Hl-vu)<429496729?ot.pseudoRandom():Hl/4294967296},ot.fillText=function(vu,Ol,Wl){var Mu=Array.isArray(Wl)?function(pp){Wl.push(pp)}:function(pp){Wl.text=pp},zu=ot.extractOption(vu,Ol,"htx","hovertext");if(ot.isValidTextValue(zu))return Mu(zu);var ip=ot.extractOption(vu,Ol,"tx","text");if(ot.isValidTextValue(ip))return Mu(ip)},ot.isValidTextValue=function(vu){return vu||vu===0},ot.formatPercent=function(vu,Ol){Ol=Ol||0;for(var Wl=(Math.round(100*vu*Math.pow(10,Ol))*Math.pow(.1,Ol)).toFixed(Ol)+"%",Mu=0;Mu<Ol;Mu++)Wl.indexOf(".")!==-1&&(Wl=Wl.replace("0%","%"),Wl=Wl.replace(".%","%"));return Wl},ot.isHidden=function(vu){var Ol=window.getComputedStyle(vu).display;return!Ol||Ol==="none"},ot.strTranslate=function(vu,Ol){return vu||Ol?"translate("+vu+","+Ol+")":""},ot.strRotate=function(vu){return vu?"rotate("+vu+")":""},ot.strScale=function(vu){return vu!==1?"scale("+vu+")":""},ot.getTextTransform=function(vu){var Ol=vu.noCenter,Wl=vu.textX,Mu=vu.textY,zu=vu.targetX,ip=vu.targetY,pp=vu.anchorX||0,vp=vu.anchorY||0,Pp=vu.rotate,Gp=vu.scale;return Gp?Gp>1&&(Gp=1):Gp=0,ot.strTranslate(zu-Gp*(Wl+pp),ip-Gp*(Mu+vp))+ot.strScale(Gp)+(Pp?"rotate("+Pp+(Ol?"":" "+Wl+" "+Mu)+")":"")},ot.setTransormAndDisplay=function(vu,Ol){vu.attr("transform",ot.getTextTransform(Ol)),vu.style("display",Ol.scale?null:"none")},ot.ensureUniformFontSize=function(vu,Ol){var Wl=ot.extendFlat({},Ol);return Wl.size=Math.max(Ol.size,vu._fullLayout.uniformtext.minsize||0),Wl},ot.join2=function(vu,Ol,Wl){var Mu=vu.length;return Mu>1?vu.slice(0,-1).join(Ol)+Wl+vu[Mu-1]:vu.join(Ol)},ot.bigFont=function(vu){return Math.round(1.2*vu)};var qu=ot.getFirefoxVersion(),np=qu!==null&&qu<86;ot.getPositionFromD3Event=function(){return np?[jt.event.layerX,jt.event.layerY]:[jt.event.offsetX,jt.event.offsetY]}}),t0=a(()=>{var yu=gu(),hu={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(it in hu)jt=it.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),yu.addStyleRule(jt,hu[it]);var jt,it}),z0=a((yu,hu)=>{hu.exports=!0}),dm=a((yu,hu)=>{var jt=z0(),it;typeof window.matchMedia=="function"?it=!window.matchMedia("(hover: none)").matches:it=jt,hu.exports=it}),om=a((yu,hu)=>{var jt=typeof Reflect=="object"?Reflect:null,it=jt&&typeof jt.apply=="function"?jt.apply:function(Il,$l,Bu){return Function.prototype.apply.call(Il,$l,Bu)},st;jt&&typeof jt.ownKeys=="function"?st=jt.ownKeys:Object.getOwnPropertySymbols?st=function(Il){return Object.getOwnPropertyNames(Il).concat(Object.getOwnPropertySymbols(Il))}:st=function(Il){return Object.getOwnPropertyNames(Il)};function Ln(Il){console&&console.warn&&console.warn(Il)}var Ft=Number.isNaN||function(Il){return Il!==Il};function Fn(){Fn.init.call(this)}hu.exports=Fn,hu.exports.once=Bn,Fn.EventEmitter=Fn,Fn.prototype._events=void 0,Fn.prototype._eventsCount=0,Fn.prototype._maxListeners=void 0;var zn=10;function yl(Il){if(typeof Il!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Il)}Object.defineProperty(Fn,"defaultMaxListeners",{enumerable:!0,get:function(){return zn},set:function(Il){if(typeof Il!="number"||Il<0||Ft(Il))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Il+".");zn=Il}}),Fn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Fn.prototype.setMaxListeners=function(Il){if(typeof Il!="number"||Il<0||Ft(Il))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Il+".");return this._maxListeners=Il,this};function ot(Il){return Il._maxListeners===void 0?Fn.defaultMaxListeners:Il._maxListeners}Fn.prototype.getMaxListeners=function(){return ot(this)},Fn.prototype.emit=function(Il){for(var $l=[],Bu=1;Bu<arguments.length;Bu++)$l.push(arguments[Bu]);var Jl=Il==="error",Kl=this._events;if(Kl!==void 0)Jl=Jl&&Kl.error===void 0;else if(!Jl)return!1;if(Jl){var Bl;if($l.length>0&&(Bl=$l[0]),Bl instanceof Error)throw Bl;var $u=new Error("Unhandled error."+(Bl?" ("+Bl.message+")":""));throw $u.context=Bl,$u}var mu=Kl[Il];if(mu===void 0)return!1;if(typeof mu=="function")it(mu,this,$l);else for(var Pu=mu.length,bu=El(mu,Pu),Bu=0;Bu<Pu;++Bu)it(bu[Bu],this,$l);return!0};function _l(Il,$l,Bu,Jl){var Kl,Bl,$u;if(yl(Bu),Bl=Il._events,Bl===void 0?(Bl=Il._events=Object.create(null),Il._eventsCount=0):(Bl.newListener!==void 0&&(Il.emit("newListener",$l,Bu.listener?Bu.listener:Bu),Bl=Il._events),$u=Bl[$l]),$u===void 0)$u=Bl[$l]=Bu,++Il._eventsCount;else if(typeof $u=="function"?$u=Bl[$l]=Jl?[Bu,$u]:[$u,Bu]:Jl?$u.unshift(Bu):$u.push(Bu),Kl=ot(Il),Kl>0&&$u.length>Kl&&!$u.warned){$u.warned=!0;var mu=new Error("Possible EventEmitter memory leak detected. "+$u.length+" "+String($l)+" listeners added. Use emitter.setMaxListeners() to increase limit");mu.name="MaxListenersExceededWarning",mu.emitter=Il,mu.type=$l,mu.count=$u.length,Ln(mu)}return Il}Fn.prototype.addListener=function(Il,$l){return _l(this,Il,$l,!1)},Fn.prototype.on=Fn.prototype.addListener,Fn.prototype.prependListener=function(Il,$l){return _l(this,Il,$l,!0)};function ls(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Sl(Il,$l,Bu){var Jl={fired:!1,wrapFn:void 0,target:Il,type:$l,listener:Bu},Kl=ls.bind(Jl);return Kl.listener=Bu,Jl.wrapFn=Kl,Kl}Fn.prototype.once=function(Il,$l){return yl($l),this.on(Il,Sl(this,Il,$l)),this},Fn.prototype.prependOnceListener=function(Il,$l){return yl($l),this.prependListener(Il,Sl(this,Il,$l)),this},Fn.prototype.removeListener=function(Il,$l){var Bu,Jl,Kl,Bl,$u;if(yl($l),Jl=this._events,Jl===void 0)return this;if(Bu=Jl[Il],Bu===void 0)return this;if(Bu===$l||Bu.listener===$l)--this._eventsCount===0?this._events=Object.create(null):(delete Jl[Il],Jl.removeListener&&this.emit("removeListener",Il,Bu.listener||$l));else if(typeof Bu!="function"){for(Kl=-1,Bl=Bu.length-1;Bl>=0;Bl--)if(Bu[Bl]===$l||Bu[Bl].listener===$l){$u=Bu[Bl].listener,Kl=Bl;break}if(Kl<0)return this;Kl===0?Bu.shift():Ml(Bu,Kl),Bu.length===1&&(Jl[Il]=Bu[0]),Jl.removeListener!==void 0&&this.emit("removeListener",Il,$u||$l)}return this},Fn.prototype.off=Fn.prototype.removeListener,Fn.prototype.removeAllListeners=function(Il){var $l,Bu,Jl;if(Bu=this._events,Bu===void 0)return this;if(Bu.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Bu[Il]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Bu[Il]),this;if(arguments.length===0){var Kl=Object.keys(Bu),Bl;for(Jl=0;Jl<Kl.length;++Jl)Bl=Kl[Jl],Bl!=="removeListener"&&this.removeAllListeners(Bl);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if($l=Bu[Il],typeof $l=="function")this.removeListener(Il,$l);else if($l!==void 0)for(Jl=$l.length-1;Jl>=0;Jl--)this.removeListener(Il,$l[Jl]);return this};function Pl(Il,$l,Bu){var Jl=Il._events;if(Jl===void 0)return[];var Kl=Jl[$l];return Kl===void 0?[]:typeof Kl=="function"?Bu?[Kl.listener||Kl]:[Kl]:Bu?Rl(Kl):El(Kl,Kl.length)}Fn.prototype.listeners=function(Il){return Pl(this,Il,!0)},Fn.prototype.rawListeners=function(Il){return Pl(this,Il,!1)},Fn.listenerCount=function(Il,$l){return typeof Il.listenerCount=="function"?Il.listenerCount($l):Tl.call(Il,$l)},Fn.prototype.listenerCount=Tl;function Tl(Il){var $l=this._events;if($l!==void 0){var Bu=$l[Il];if(typeof Bu=="function")return 1;if(Bu!==void 0)return Bu.length}return 0}Fn.prototype.eventNames=function(){return this._eventsCount>0?st(this._events):[]};function El(Il,$l){for(var Bu=new Array($l),Jl=0;Jl<$l;++Jl)Bu[Jl]=Il[Jl];return Bu}function Ml(Il,$l){for(;$l+1<Il.length;$l++)Il[$l]=Il[$l+1];Il.pop()}function Rl(Il){for(var $l=new Array(Il.length),Bu=0;Bu<$l.length;++Bu)$l[Bu]=Il[Bu].listener||Il[Bu];return $l}function Bn(Il,$l){return new Promise(function(Bu,Jl){function Kl($u){Il.removeListener($l,Bl),Jl($u)}function Bl(){typeof Il.removeListener=="function"&&Il.removeListener("error",Kl),Bu([].slice.call(arguments))}Al(Il,$l,Bl,{once:!0}),$l!=="error"&&Cl(Il,Kl,{once:!0})})}function Cl(Il,$l,Bu){typeof Il.on=="function"&&Al(Il,"error",$l,Bu)}function Al(Il,$l,Bu,Jl){if(typeof Il.on=="function")Jl.once?Il.once($l,Bu):Il.on($l,Bu);else if(typeof Il.addEventListener=="function")Il.addEventListener($l,function Kl(Bl){Jl.once&&Il.removeEventListener($l,Kl),Bu(Bl)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Il)}}),u1=a((yu,hu)=>{var jt=om().EventEmitter,it={init:function(st){if(st._ev instanceof jt)return st;var Ln=new jt,Ft=new jt;return st._ev=Ln,st._internalEv=Ft,st.on=Ln.on.bind(Ln),st.once=Ln.once.bind(Ln),st.removeListener=Ln.removeListener.bind(Ln),st.removeAllListeners=Ln.removeAllListeners.bind(Ln),st._internalOn=Ft.on.bind(Ft),st._internalOnce=Ft.once.bind(Ft),st._removeInternalListener=Ft.removeListener.bind(Ft),st._removeAllInternalListeners=Ft.removeAllListeners.bind(Ft),st.emit=function(Fn,zn){Ln.emit(Fn,zn),Ft.emit(Fn,zn)},typeof st.addEventListener=="function"&&st.addEventListener("wheel",()=>{},{passive:!0}),st},triggerHandler:function(st,Ln,Ft){var Fn,zn=st._ev;if(!zn)return;var yl=zn._events[Ln];if(!yl)return;function ot(ls){if(ls.listener){if(zn.removeListener(Ln,ls.listener),!ls.fired)return ls.fired=!0,ls.listener.apply(zn,[Ft])}else return ls.apply(zn,[Ft])}yl=Array.isArray(yl)?yl:[yl];var _l;for(_l=0;_l<yl.length-1;_l++)ot(yl[_l]);return Fn=ot(yl[_l]),Fn},purge:function(st){return delete st._ev,delete st.on,delete st.once,delete st.removeListener,delete st.removeAllListeners,delete st.emit,delete st._ev,delete st._internalEv,delete st._internalOn,delete st._internalOnce,delete st._removeInternalListener,delete st._removeAllInternalListeners,st}};hu.exports=it}),m1=a((yu,hu)=>{var jt=gu(),it=l0().dfltConfig;function st(Ft,Fn){for(var zn=[],yl,ot=0;ot<Fn.length;ot++)yl=Fn[ot],yl===Ft?zn[ot]=yl:typeof yl=="object"?zn[ot]=Array.isArray(yl)?jt.extendDeep([],yl):jt.extendDeepAll({},yl):zn[ot]=yl;return zn}var Ln={};Ln.add=function(Ft,Fn,zn,yl,ot){var _l,ls;if(Ft.undoQueue=Ft.undoQueue||{index:0,queue:[],sequence:!1},ls=Ft.undoQueue.index,Ft.autoplay){Ft.undoQueue.inSequence||(Ft.autoplay=!1);return}!Ft.undoQueue.sequence||Ft.undoQueue.beginSequence?(_l={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},Ft.undoQueue.queue.splice(ls,Ft.undoQueue.queue.length-ls,_l),Ft.undoQueue.index+=1):_l=Ft.undoQueue.queue[ls-1],Ft.undoQueue.beginSequence=!1,_l&&(_l.undo.calls.unshift(Fn),_l.undo.args.unshift(zn),_l.redo.calls.push(yl),_l.redo.args.push(ot)),Ft.undoQueue.queue.length>it.queueLength&&(Ft.undoQueue.queue.shift(),Ft.undoQueue.index--)},Ln.startSequence=function(Ft){Ft.undoQueue=Ft.undoQueue||{index:0,queue:[],sequence:!1},Ft.undoQueue.sequence=!0,Ft.undoQueue.beginSequence=!0},Ln.stopSequence=function(Ft){Ft.undoQueue=Ft.undoQueue||{index:0,queue:[],sequence:!1},Ft.undoQueue.sequence=!1,Ft.undoQueue.beginSequence=!1},Ln.undo=function(Ft){var Fn,zn;if(!(Ft.undoQueue===void 0||isNaN(Ft.undoQueue.index)||Ft.undoQueue.index<=0)){for(Ft.undoQueue.index--,Fn=Ft.undoQueue.queue[Ft.undoQueue.index],Ft.undoQueue.inSequence=!0,zn=0;zn<Fn.undo.calls.length;zn++)Ln.plotDo(Ft,Fn.undo.calls[zn],Fn.undo.args[zn]);Ft.undoQueue.inSequence=!1,Ft.autoplay=!1}},Ln.redo=function(Ft){var Fn,zn;if(!(Ft.undoQueue===void 0||isNaN(Ft.undoQueue.index)||Ft.undoQueue.index>=Ft.undoQueue.queue.length)){for(Fn=Ft.undoQueue.queue[Ft.undoQueue.index],Ft.undoQueue.inSequence=!0,zn=0;zn<Fn.redo.calls.length;zn++)Ln.plotDo(Ft,Fn.redo.calls[zn],Fn.redo.args[zn]);Ft.undoQueue.inSequence=!1,Ft.autoplay=!1,Ft.undoQueue.index++}},Ln.plotDo=function(Ft,Fn,zn){Ft.autoplay=!0,zn=st(Ft,zn),Fn.apply(null,zn)},hu.exports=Ln}),c1=a((yu,hu)=>{hu.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}),k1=a(yu=>{var hu=N1(),jt=gu(),it=zp(),st=Wv(),Ln=c1(),Ft=j1(),Fn=l0().configAttributes,zn=x1(),yl=jt.extendDeepAll,ot=jt.isPlainObject,_l=jt.isArrayOrTypedArray,ls=jt.nestedProperty,Sl=jt.valObjectMeta,Pl="_isSubplotObj",Tl="_isLinkedToArray",El="_arrayAttrRegexps",Ml="_deprecated",Rl=[Pl,Tl,El,Ml];yu.IS_SUBPLOT_OBJ=Pl,yu.IS_LINKED_TO_ARRAY=Tl,yu.DEPRECATED=Ml,yu.UNDERSCORE_ATTRS=Rl,yu.get=function(){var bu={};return hu.allTypes.forEach(function(Fu){bu[Fu]=Il(Fu)}),{defs:{valObjects:Sl,metaKeys:Rl.concat(["description","role","editType","impliedEdits"]),editType:{traces:zn.traces,layout:zn.layout},impliedEdits:{}},traces:bu,layout:$l(),frames:Bu(),animation:Jl(Ft),config:Jl(Fn)}},yu.crawl=function(bu,Fu,Hu,Gu){var Xl=Hu||0;Gu=Gu||"",Object.keys(bu).forEach(function(Wu){var Yu=bu[Wu];if(Rl.indexOf(Wu)===-1){var ap=(Gu?Gu+".":"")+Wu;Fu(Yu,Wu,bu,Xl,ap),!yu.isValObject(Yu)&&ot(Yu)&&Wu!=="impliedEdits"&&yu.crawl(Yu,Fu,Xl+1,ap)}})},yu.isValObject=function(bu){return bu&&bu.valType!==void 0},yu.findArrayAttributes=function(bu){var Fu=[],Hu=[],Gu=[],Xl,Wu;function Yu(rp,sp,bp,Cp){Hu=Hu.slice(0,Cp).concat([sp]),Gu=Gu.slice(0,Cp).concat([rp&&rp._isLinkedToArray]);var Ap=rp&&(rp.valType==="data_array"||rp.arrayOk===!0)&&!(Hu[Cp-1]==="colorbar"&&(sp==="ticktext"||sp==="tickvals"));Ap&&ap(Xl,0,"")}function ap(rp,sp,bp){var Cp=rp[Hu[sp]],Ap=bp+Hu[sp];if(sp===Hu.length-1)_l(Cp)&&Fu.push(Wu+Ap);else if(Gu[sp]){if(Array.isArray(Cp))for(var Lu=0;Lu<Cp.length;Lu++)ot(Cp[Lu])&&ap(Cp[Lu],sp+1,Ap+"["+Lu+"].")}else ot(Cp)&&ap(Cp,sp+1,Ap+".")}return Xl=bu,Wu="",yu.crawl(it,Yu),bu._module&&bu._module.attributes&&yu.crawl(bu._module.attributes,Yu),Fu},yu.getTraceValObject=function(bu,Fu){var Hu=Fu[0],Gu=1,Xl,Wu,Yu=bu._module;if(Yu||(Yu=(hu.modules[bu.type||it.type.dflt]||{})._module),!Yu)return!1;if(Xl=Yu.attributes,Wu=Xl&&Xl[Hu],!Wu){var ap=Yu.basePlotModule;ap&&ap.attributes&&(Wu=ap.attributes[Hu])}return Wu||(Wu=it[Hu]),Cl(Wu,Fu,Gu)},yu.getLayoutValObject=function(bu,Fu){var Hu=Bn(bu,Fu[0]);return Cl(Hu,Fu,1)};function Bn(bu,Fu){var Hu,Gu,Xl,Wu,Yu=bu._basePlotModules;if(Yu){var ap;for(Hu=0;Hu<Yu.length;Hu++){if(Xl=Yu[Hu],Xl.attrRegex&&Xl.attrRegex.test(Fu)){if(Xl.layoutAttrOverrides)return Xl.layoutAttrOverrides;!ap&&Xl.layoutAttributes&&(ap=Xl.layoutAttributes)}var rp=Xl.baseLayoutAttrOverrides;if(rp&&Fu in rp)return rp[Fu]}if(ap)return ap}var sp=bu._modules;if(sp){for(Hu=0;Hu<sp.length;Hu++)if(Wu=sp[Hu].layoutAttributes,Wu&&Fu in Wu)return Wu[Fu]}for(Gu in hu.componentsRegistry){if(Xl=hu.componentsRegistry[Gu],Xl.name==="colorscale"&&Fu.indexOf("coloraxis")===0)return Xl.layoutAttributes[Fu];if(!Xl.schema&&Fu===Xl.name)return Xl.layoutAttributes}return Fu in st?st[Fu]:!1}function Cl(bu,Fu,Hu){if(!bu)return!1;if(bu._isLinkedToArray){if(Al(Fu[Hu]))Hu++;else if(Hu<Fu.length)return!1}for(;Hu<Fu.length;Hu++){var Gu=bu[Fu[Hu]];if(ot(Gu))bu=Gu;else break;if(Hu===Fu.length-1)break;if(bu._isLinkedToArray){if(Hu++,!Al(Fu[Hu]))return!1}else if(bu.valType==="info_array"){Hu++;var Xl=Fu[Hu];if(!Al(Xl))return!1;var Wu=bu.items;if(Array.isArray(Wu)){if(Xl>=Wu.length)return!1;if(bu.dimensions===2){if(Hu++,Fu.length===Hu)return bu;var Yu=Fu[Hu];if(!Al(Yu))return!1;bu=Wu[Xl][Yu]}else bu=Wu[Xl]}else bu=Wu}}return bu}function Al(bu){return bu===Math.round(bu)&&bu>=0}function Il(bu){var Fu,Hu;Fu=hu.modules[bu]._module,Hu=Fu.basePlotModule;var Gu={};Gu.type=null;var Xl=yl({},it),Wu=yl({},Fu.attributes);yu.crawl(Wu,function(rp,sp,bp,Cp,Ap){ls(Xl,Ap).set(void 0),rp===void 0&&ls(Wu,Ap).set(void 0)}),yl(Gu,Xl),hu.traceIs(bu,"noOpacity")&&delete Gu.opacity,hu.traceIs(bu,"showLegend")||(delete Gu.showlegend,delete Gu.legendgroup),hu.traceIs(bu,"noHover")&&(delete Gu.hoverinfo,delete Gu.hoverlabel),Fu.selectPoints||delete Gu.selectedpoints,yl(Gu,Wu),Hu.attributes&&yl(Gu,Hu.attributes),Gu.type=bu;var Yu={meta:Fu.meta||{},categories:Fu.categories||{},animatable:!!Fu.animatable,type:bu,attributes:Jl(Gu)};if(Fu.layoutAttributes){var ap={};yl(ap,Fu.layoutAttributes),Yu.layoutAttributes=Jl(ap)}return Fu.animatable||yu.crawl(Yu,function(rp){yu.isValObject(rp)&&"anim"in rp&&delete rp.anim}),Yu}function $l(){var bu={},Fu,Hu;yl(bu,st);for(Fu in hu.subplotsRegistry)if(Hu=hu.subplotsRegistry[Fu],!!Hu.layoutAttributes)if(Array.isArray(Hu.attr))for(var Gu=0;Gu<Hu.attr.length;Gu++)mu(bu,Hu,Hu.attr[Gu]);else{var Xl=Hu.attr==="subplot"?Hu.name:Hu.attr;mu(bu,Hu,Xl)}for(Fu in hu.componentsRegistry){Hu=hu.componentsRegistry[Fu];var Wu=Hu.schema;if(Wu&&(Wu.subplots||Wu.layout)){var Yu=Wu.subplots;if(Yu&&Yu.xaxis&&!Yu.yaxis)for(var ap in Yu.xaxis)delete bu.yaxis[ap];delete bu.xaxis.shift,delete bu.xaxis.autoshift}else Hu.name==="colorscale"?yl(bu,Hu.layoutAttributes):Hu.layoutAttributes&&Pu(bu,Hu.layoutAttributes,Hu.name)}return{layoutAttributes:Jl(bu)}}function Bu(){var bu={frames:yl({},Ln)};return Jl(bu),bu.frames}function Jl(bu){return Kl(bu),Bl(bu),$u(bu),bu}function Kl(bu){function Fu(Gu){return{valType:"string",editType:"none"}}function Hu(Gu,Xl,Wu){yu.isValObject(Gu)?(Gu.arrayOk===!0||Gu.valType==="data_array")&&(Wu[Xl+"src"]=Fu()):ot(Gu)&&(Gu.role="object")}yu.crawl(bu,Hu)}function Bl(bu){function Fu(Hu,Gu,Xl){if(Hu){var Wu=Hu[Tl];Wu&&(delete Hu[Tl],Xl[Gu]={items:{}},Xl[Gu].items[Wu]=Hu,Xl[Gu].role="object")}}yu.crawl(bu,Fu)}function $u(bu){function Fu(Hu){for(var Gu in Hu)if(ot(Hu[Gu]))Fu(Hu[Gu]);else if(Array.isArray(Hu[Gu]))for(var Xl=0;Xl<Hu[Gu].length;Xl++)Fu(Hu[Gu][Xl]);else Hu[Gu]instanceof RegExp&&(Hu[Gu]=Hu[Gu].toString())}Fu(bu)}function mu(bu,Fu,Hu){var Gu=ls(bu,Hu),Xl=yl({},Fu.layoutAttributes);Xl[Pl]=!0,Gu.set(Xl)}function Pu(bu,Fu,Hu){var Gu=ls(bu,Hu);Gu.set(yl(Gu.get()||{},Fu))}}),d1=a(yu=>{var hu=gu(),jt=zp(),it="templateitemname",st={name:{valType:"string",editType:"none"}};st[it]={valType:"string",editType:"calc"},yu.templatedArray=function(Fn,zn){return zn._isLinkedToArray=Fn,zn.name=st.name,zn[it]=st[it],zn},yu.traceTemplater=function(Fn){var zn={},yl,ot;for(yl in Fn)ot=Fn[yl],Array.isArray(ot)&&ot.length&&(zn[yl]=0);function _l(ls){yl=hu.coerce(ls,{},jt,"type");var Sl={type:yl,_template:null};if(yl in zn){ot=Fn[yl];var Pl=zn[yl]%ot.length;zn[yl]++,Sl._template=ot[Pl]}return Sl}return{newTrace:_l}},yu.newContainer=function(Fn,zn,yl){var ot=Fn._template,_l=ot&&(ot[zn]||yl&&ot[yl]);hu.isPlainObject(_l)||(_l=null);var ls=Fn[zn]={_template:_l};return ls},yu.arrayTemplater=function(Fn,zn,yl){var ot=Fn._template,_l=ot&&ot[Ft(zn)],ls=ot&&ot[zn];(!Array.isArray(ls)||!ls.length)&&(ls=[]);var Sl={};function Pl(El){var Ml={name:El.name,_input:El},Rl=Ml[it]=El[it];if(!Ln(Rl))return Ml._template=_l,Ml;for(var Bn=0;Bn<ls.length;Bn++){var Cl=ls[Bn];if(Cl.name===Rl)return Sl[Rl]=1,Ml._template=Cl,Ml}return Ml[yl]=El[yl]||!1,Ml._template=!1,Ml}function Tl(){for(var El=[],Ml=0;Ml<ls.length;Ml++){var Rl=ls[Ml],Bn=Rl.name;if(Ln(Bn)&&!Sl[Bn]){var Cl={_template:Rl,name:Bn,_input:{_templateitemname:Bn}};Cl[it]=Rl[it],El.push(Cl),Sl[Bn]=1}}return El}return{newItem:Pl,defaultItems:Tl}};function Ln(Fn){return Fn&&typeof Fn=="string"}function Ft(Fn){var zn=Fn.length-1;return Fn.charAt(zn)!=="s"&&hu.warn("bad argument to arrayDefaultKey: "+Fn),Fn.substr(0,Fn.length-1)+"defaults"}yu.arrayDefaultKey=Ft,yu.arrayEditor=function(Fn,zn,yl){var ot=(hu.nestedProperty(Fn,zn).get()||[]).length,_l=yl._index,ls=_l>=ot&&(yl._input||{})._templateitemname;ls&&(_l=ot);var Sl=zn+"["+_l+"]",Pl;function Tl(){Pl={},ls&&(Pl[Sl]={},Pl[Sl][it]=ls)}Tl();function El(Cl,Al){Pl[Cl]=Al}function Ml(Cl,Al){ls?hu.nestedProperty(Pl[Sl],Cl).set(Al):Pl[Sl+"."+Cl]=Al}function Rl(){var Cl=Pl;return Tl(),Cl}function Bn(Cl,Al){Cl&&Ml(Cl,Al);var Il=Rl();for(var $l in Il)hu.nestedProperty(Fn,$l).set(Il[$l])}return{modifyBase:El,modifyItem:Ml,getUpdateObj:Rl,applyUpdate:Bn}}}),E1=a((yu,hu)=>{var jt=dp().counter;hu.exports={idRegex:{x:jt("x","( domain)?"),y:jt("y","( domain)?")},attrRegex:jt("[xy]axis"),xAxisMatch:jt("xaxis"),yAxisMatch:jt("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}),rv=a(yu=>{var hu=N1(),jt=E1();yu.id2name=function(st){if(!(typeof st!="string"||!st.match(jt.AX_ID_PATTERN))){var Ln=st.split(" ")[0].substr(1);return Ln==="1"&&(Ln=""),st.charAt(0)+"axis"+Ln}},yu.name2id=function(st){if(st.match(jt.AX_NAME_PATTERN)){var Ln=st.substr(5);return Ln==="1"&&(Ln=""),st.charAt(0)+Ln}},yu.cleanId=function(st,Ln,Ft){var Fn=/( domain)$/.test(st);if(!(typeof st!="string"||!st.match(jt.AX_ID_PATTERN))&&!(Ln&&st.charAt(0)!==Ln)&&!(Fn&&!Ft)){var zn=st.split(" ")[0].substr(1).replace(/^0+/,"");return zn==="1"&&(zn=""),st.charAt(0)+zn+(Fn&&Ft?" domain":"")}},yu.list=function(st,Ln,Ft){var Fn=st._fullLayout;if(!Fn)return[];var zn=yu.listIds(st,Ln),yl=new Array(zn.length),ot;for(ot=0;ot<zn.length;ot++){var _l=zn[ot];yl[ot]=Fn[_l.charAt(0)+"axis"+_l.substr(1)]}if(!Ft){var ls=Fn._subplots.gl3d||[];for(ot=0;ot<ls.length;ot++){var Sl=Fn[ls[ot]];Ln?yl.push(Sl[Ln+"axis"]):yl.push(Sl.xaxis,Sl.yaxis,Sl.zaxis)}}return yl},yu.listIds=function(st,Ln){var Ft=st._fullLayout;if(!Ft)return[];var Fn=Ft._subplots;return Ln?Fn[Ln+"axis"]:Fn.xaxis.concat(Fn.yaxis)},yu.getFromId=function(st,Ln,Ft){var Fn=st._fullLayout;return Ln=Ln===void 0||typeof Ln!="string"?Ln:Ln.replace(" domain",""),Ft==="x"?Ln=Ln.replace(/y[0-9]*/,""):Ft==="y"&&(Ln=Ln.replace(/x[0-9]*/,"")),Fn[yu.id2name(Ln)]},yu.getFromTrace=function(st,Ln,Ft){var Fn=st._fullLayout,zn=null;if(hu.traceIs(Ln,"gl3d")){var yl=Ln.scene;yl.substr(0,5)==="scene"&&(zn=Fn[yl][Ft+"axis"])}else zn=yu.getFromId(st,Ln[Ft+"axis"]||Ft);return zn},yu.idSort=function(st,Ln){var Ft=st.charAt(0),Fn=Ln.charAt(0);return Ft!==Fn?Ft>Fn?1:-1:+(st.substr(1)||1)-+(Ln.substr(1)||1)},yu.ref2id=function(st){return/^[xyz]/.test(st)?st.split(" ")[0]:!1};function it(st,Ln){if(Ln&&Ln.length){for(var Ft=0;Ft<Ln.length;Ft++)if(Ln[Ft][st])return!0}return!1}yu.isLinked=function(st,Ln){return it(Ln,st._axisMatchGroups)||it(Ln,st._axisConstraintGroups)}}),ev=a((yu,hu)=>{function jt(st){var Ln=st._fullLayout._zoomlayer;Ln&&Ln.selectAll(".outline-controllers").remove()}function it(st){var Ln=st._fullLayout._zoomlayer;Ln&&Ln.selectAll(".select-outline").remove(),st._fullLayout._outlining=!1}hu.exports={clearOutlineControllers:jt,clearOutline:it}}),Xv=a((yu,hu)=>{hu.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}),ky=a(yu=>{var hu=N1();E1().SUBPLOT_PATTERN,yu.getSubplotCalcData=function(jt,it,st){var Ln=hu.subplotsRegistry[it];if(!Ln)return[];for(var Ft=Ln.attr,Fn=[],zn=0;zn<jt.length;zn++){var yl=jt[zn],ot=yl[0].trace;ot[Ft]===st&&Fn.push(yl)}return Fn},yu.getModuleCalcData=function(jt,it,st){var Ln=[],Ft=[],Fn;if(typeof it=="string"?Fn=hu.getModule(it).plot:typeof it=="function"?Fn=it:Fn=it.plot,!Fn)return[Ln,jt];for(var zn=st,yl=0;yl<jt.length;yl++){var ot=jt[yl],_l=ot[0].trace,ls=_l.zorder!==void 0;_l.visible!==!0||_l._length===0||(_l._module&&_l._module.plot===Fn&&(!ls||_l.zorder===zn)?Ln.push(ot):Ft.push(ot))}return[Ln,Ft]},yu.getSubplotData=function(jt,it,st){if(!hu.subplotsRegistry[it])return[];for(var Ln=hu.subplotsRegistry[it].attr,Ft=[],Fn,zn,yl,ot=0;ot<jt.length;ot++)Fn=jt[ot],Fn[Ln]===st&&Ft.push(Fn);return Ft}}),xy=a(yu=>{var hu=N1(),jt=gu();yu.manageCommandObserver=function(zn,yl,ot,_l){var ls={},Sl=!0;yl&&yl._commandObserver&&(ls=yl._commandObserver),ls.cache||(ls.cache={}),ls.lookupTable={};var Pl=yu.hasSimpleAPICommandBindings(zn,ot,ls.lookupTable);if(yl&&yl._commandObserver){if(Pl)return ls;if(yl._commandObserver.remove)return yl._commandObserver.remove(),yl._commandObserver=null,ls}if(Pl){it(zn,Pl,ls.cache),ls.check=function(){if(Sl){var Ml=it(zn,Pl,ls.cache);return Ml.changed&&_l&&ls.lookupTable[Ml.value]!==void 0&&(ls.disable(),Promise.resolve(_l({value:Ml.value,type:Pl.type,prop:Pl.prop,traces:Pl.traces,index:ls.lookupTable[Ml.value]})).then(ls.enable,ls.enable)),Ml.changed}};for(var Tl=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],El=0;El<Tl.length;El++)zn._internalOn(Tl[El],ls.check);ls.remove=function(){for(var Ml=0;Ml<Tl.length;Ml++)zn._removeInternalListener(Tl[Ml],ls.check)}}else jt.log("Unable to automatically bind plot updates to API command"),ls.lookupTable={},ls.remove=function(){};return ls.disable=function(){Sl=!1},ls.enable=function(){Sl=!0},yl&&(yl._commandObserver=ls),ls},yu.hasSimpleAPICommandBindings=function(zn,yl,ot){var _l,ls=yl.length,Sl;for(_l=0;_l<ls;_l++){var Pl,Tl=yl[_l],El=Tl.method,Ml=Tl.args;if(Array.isArray(Ml)||(Ml=[]),!El)return!1;var Rl=yu.computeAPICommandBindings(zn,El,Ml);if(Rl.length!==1)return!1;if(!Sl)Sl=Rl[0],Array.isArray(Sl.traces)&&Sl.traces.sort();else{if(Pl=Rl[0],Pl.type!==Sl.type||Pl.prop!==Sl.prop)return!1;if(Array.isArray(Sl.traces))if(Array.isArray(Pl.traces)){Pl.traces.sort();for(var Bn=0;Bn<Sl.traces.length;Bn++)if(Sl.traces[Bn]!==Pl.traces[Bn])return!1}else return!1;else if(Pl.prop!==Sl.prop)return!1}Pl=Rl[0];var Cl=Pl.value;if(Array.isArray(Cl))if(Cl.length===1)Cl=Cl[0];else return!1;ot&&(ot[Cl]=_l)}return Sl};function it(zn,yl,ot){var _l,ls,Sl,Pl=!1;if(yl.type==="data")_l=zn._fullData[yl.traces!==null?yl.traces[0]:0];else if(yl.type==="layout")_l=zn._fullLayout;else return!1;return ls=jt.nestedProperty(_l,yl.prop).get(),Sl=ot[yl.type]=ot[yl.type]||{},Sl.hasOwnProperty(yl.prop)&&Sl[yl.prop]!==ls&&(Pl=!0),Sl[yl.prop]=ls,{changed:Pl,value:ls}}yu.executeAPICommand=function(zn,yl,ot){if(yl==="skip")return Promise.resolve();var _l=hu.apiMethodRegistry[yl],ls=[zn];Array.isArray(ot)||(ot=[]);for(var Sl=0;Sl<ot.length;Sl++)ls.push(ot[Sl]);return _l.apply(null,ls).catch(function(Pl){return jt.warn("API call to Plotly."+yl+" rejected.",Pl),Promise.reject(Pl)})},yu.computeAPICommandBindings=function(zn,yl,ot){var _l;switch(Array.isArray(ot)||(ot=[]),yl){case"restyle":_l=Ft(zn,ot);break;case"relayout":_l=Ln(zn,ot);break;case"update":_l=Ft(zn,[ot[0],ot[2]]).concat(Ln(zn,[ot[1]]));break;case"animate":_l=st(zn,ot);break;default:_l=[]}return _l};function st(zn,yl){return Array.isArray(yl[0])&&yl[0].length===1&&["string","number"].indexOf(typeof yl[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:yl[0][0].toString()}]:[]}function Ln(zn,yl){var ot=[],_l=yl[0],ls={};if(typeof _l=="string")ls[_l]=yl[1];else if(jt.isPlainObject(_l))ls=_l;else return ot;return Fn(ls,function(Sl,Pl,Tl){ot.push({type:"layout",prop:Sl,value:Tl})},"",0),ot}function Ft(zn,yl){var ot,_l,ls,Sl,Pl=[];if(_l=yl[0],ls=yl[1],ot=yl[2],Sl={},typeof _l=="string")Sl[_l]=ls;else if(jt.isPlainObject(_l))Sl=_l,ot===void 0&&(ot=ls);else return Pl;return ot===void 0&&(ot=null),Fn(Sl,function(Tl,El,Ml){var Rl,Bn;if(Array.isArray(Ml)){Bn=Ml.slice();var Cl=Math.min(Bn.length,zn.data.length);ot&&(Cl=Math.min(Cl,ot.length)),Rl=[];for(var Al=0;Al<Cl;Al++)Rl[Al]=ot?ot[Al]:Al}else Bn=Ml,Rl=ot?ot.slice():null;if(Rl===null)Array.isArray(Bn)&&(Bn=Bn[0]);else if(Array.isArray(Rl)){if(!Array.isArray(Bn)){var Il=Bn;Bn=[];for(var $l=0;$l<Rl.length;$l++)Bn[$l]=Il}Bn.length=Math.min(Rl.length,Bn.length)}Pl.push({type:"data",prop:Tl,traces:Rl,value:Bn})},"",0),Pl}function Fn(zn,yl,ot,_l){Object.keys(zn).forEach(function(ls){var Sl=zn[ls];if(ls[0]!=="_"){var Pl=ot+(_l>0?".":"")+ls;jt.isPlainObject(Sl)?Fn(Sl,yl,Pl,_l+1):yl(Pl,ls,Sl)}})}}),_v=a((yu,hu)=>{var jt=g(),it=_().timeFormatLocale,st=$().formatLocale,Ln=rt(),Ft=In(),Fn=N1(),zn=k1(),yl=d1(),ot=gu(),_l=D0(),ls=nt().BADNUM,Sl=rv(),Pl=ev().clearOutline,Tl=Xv(),El=j1(),Ml=c1(),Rl=ky().getModuleCalcData,Bn=ot.relinkPrivateKeys,Cl=ot._,Al=hu.exports={};ot.extendFlat(Al,Fn),Al.attributes=zp(),Al.attributes.type.values=Al.allTypes,Al.fontAttrs=fp(),Al.layoutAttributes=Wv();var Il=xy();Al.executeAPICommand=Il.executeAPICommand,Al.computeAPICommandBindings=Il.computeAPICommandBindings,Al.manageCommandObserver=Il.manageCommandObserver,Al.hasSimpleAPICommandBindings=Il.hasSimpleAPICommandBindings,Al.redrawText=function(Lu){return Lu=ot.getGraphDiv(Lu),new Promise(function(Nu){setTimeout(function(){Lu._fullLayout&&(Fn.getComponentMethod("annotations","draw")(Lu),Fn.getComponentMethod("legend","draw")(Lu),Fn.getComponentMethod("colorbar","draw")(Lu),Nu(Al.previousPromises(Lu)))},300)})},Al.resize=function(Lu){Lu=ot.getGraphDiv(Lu);var Nu,Hl=new Promise(function(qu,np){(!Lu||ot.isHidden(Lu))&&np(new Error("Resize must be passed a displayed plot div element.")),Lu._redrawTimer&&clearTimeout(Lu._redrawTimer),Lu._resolveResize&&(Nu=Lu._resolveResize),Lu._resolveResize=qu,Lu._redrawTimer=setTimeout(function(){if(!Lu.layout||Lu.layout.width&&Lu.layout.height||ot.isHidden(Lu)){qu(Lu);return}delete Lu.layout.width,delete Lu.layout.height;var vu=Lu.changed;Lu.autoplay=!0,Fn.call("relayout",Lu,{autosize:!0}).then(function(){Lu.changed=vu,Lu._resolveResize===qu&&(delete Lu._resolveResize,qu(Lu))})},100)});return Nu&&Nu(Hl),Hl},Al.previousPromises=function(Lu){if((Lu._promises||[]).length)return Promise.all(Lu._promises).then(function(){Lu._promises=[]})},Al.addLinks=function(Lu){if(!(!Lu._context.showLink&&!Lu._context.showSources)){var Nu=Lu._fullLayout,Hl=ot.ensureSingle(Nu._paper,"text","js-plot-link-container",function(Mu){Mu.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:_l.defaultLine,"pointer-events":"all"}).each(function(){var zu=jt.select(this);zu.append("tspan").classed("js-link-to-tool",!0),zu.append("tspan").classed("js-link-spacer",!0),zu.append("tspan").classed("js-sourcelinks",!0)})}),qu=Hl.node(),np={y:Nu._paper.attr("height")-9};document.body.contains(qu)&&qu.getComputedTextLength()>=Nu.width-20?(np["text-anchor"]="start",np.x=5):(np["text-anchor"]="end",np.x=Nu._paper.attr("width")-7),Hl.attr(np);var vu=Hl.select(".js-link-to-tool"),Ol=Hl.select(".js-link-spacer"),Wl=Hl.select(".js-sourcelinks");Lu._context.showSources&&Lu._context.showSources(Lu),Lu._context.showLink&&$l(Lu,vu),Ol.text(vu.text()&&Wl.text()?" - ":"")}};function $l(Lu,Nu){Nu.text("");var Hl=Nu.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Lu._context.linkText+" ");if(Lu._context.sendData)Hl.on("click",function(){Al.sendDataToCloud(Lu)});else{var qu=window.location.pathname.split("/"),np=window.location.search;Hl.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+qu[2].split(".")[0]+"/"+qu[1]+np})}}Al.sendDataToCloud=function(Lu){var Nu=(window.PLOTLYENV||{}).BASE_URL||Lu._context.plotlyServerURL;if(Nu){Lu.emit("plotly_beforeexport");var Hl=jt.select(Lu).append("div").attr("id","hiddenform").style("display","none"),qu=Hl.append("form").attr({action:Nu+"/external",method:"post",target:"_blank"}),np=qu.append("input").attr({type:"text",name:"data"});return np.node().value=Al.graphJson(Lu,!1,"keepdata"),qu.node().submit(),Hl.remove(),Lu.emit("plotly_afterexport"),!1}};var Bu=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],Jl=["year","month","dayMonth","dayMonthYear"];Al.supplyDefaults=function(Lu,Nu){var Hl=Nu&&Nu.skipUpdateCalc,qu=Lu._fullLayout||{};if(qu._skipDefaults){delete qu._skipDefaults;return}var np=Lu._fullLayout={},vu=Lu.layout||{},Ol=Lu._fullData||[],Wl=Lu._fullData=[],Mu=Lu.data||[],zu=Lu.calcdata||[],ip=Lu._context||{},pp;Lu._transitionData||Al.createTransitionData(Lu),np._dfltTitle={plot:Cl(Lu,"Click to enter Plot title"),subtitle:Cl(Lu,"Click to enter Plot subtitle"),x:Cl(Lu,"Click to enter X axis title"),y:Cl(Lu,"Click to enter Y axis title"),colorbar:Cl(Lu,"Click to enter Colorscale title"),annotation:Cl(Lu,"new text")},np._traceWord=Cl(Lu,"trace");var vp=$u(Lu,Bu);if(np._mapboxAccessToken=ip.mapboxAccessToken,qu._initialAutoSizeIsDone){var Pp=qu.width,Gp=qu.height;Al.supplyLayoutGlobalDefaults(vu,np,vp),vu.width||(np.width=Pp),vu.height||(np.height=Gp),Al.sanitizeMargins(np)}else{Al.supplyLayoutGlobalDefaults(vu,np,vp);var r0=!vu.width||!vu.height,C0=np.autosize,f0=ip.autosizable,d0=r0&&(C0||f0);d0?Al.plotAutoSize(Lu,vu,np):r0&&Al.sanitizeMargins(np),!C0&&r0&&(vu.width=np.width,vu.height=np.height)}np._d3locale=mu(vp,np.separators),np._extraFormat=$u(Lu,Jl),np._initialAutoSizeIsDone=!0,np._dataLength=Mu.length,np._modules=[],np._visibleModules=[],np._basePlotModules=[];var Sp=np._subplots=Bl(),Fp=np._splomAxes={x:{},y:{}},cp=np._splomSubplots={};np._splomGridDflt={},np._scatterStackOpts={},np._firstScatter={},np._alignmentOpts={},np._colorAxes={},np._requestRangeslider={},np._traceUids=Kl(Ol,Mu),Al.supplyDataDefaults(Mu,Wl,vu,np);var jp=Object.keys(Fp.x),a0=Object.keys(Fp.y);if(jp.length>1&&a0.length>1){for(Fn.getComponentMethod("grid","sizeDefaults")(vu,np),pp=0;pp<jp.length;pp++)ot.pushUnique(Sp.xaxis,jp[pp]);for(pp=0;pp<a0.length;pp++)ot.pushUnique(Sp.yaxis,a0[pp]);for(var y0 in cp)ot.pushUnique(Sp.cartesian,y0)}if(np._has=Al._hasPlotType.bind(np),Ol.length===Wl.length)for(pp=0;pp<Wl.length;pp++)Bn(Wl[pp],Ol[pp]);Al.supplyLayoutModuleDefaults(vu,np,Wl,Lu._transitionData);var P0=np._visibleModules,E0=[];for(pp=0;pp<P0.length;pp++){var O0=P0[pp].crossTraceDefaults;O0&&ot.pushUnique(E0,O0)}for(pp=0;pp<E0.length;pp++)E0[pp](Wl,np);np._hasOnlyLargeSploms=np._basePlotModules.length===1&&np._basePlotModules[0].name==="splom"&&jp.length>15&&a0.length>15&&np.shapes.length===0&&np.images.length===0,Al.linkSubplots(Wl,np,Ol,qu),Al.cleanPlot(Wl,np,Ol,qu);var j0=!!(qu._has&&qu._has("cartesian")),$0=!!(np._has&&np._has("cartesian")),tm=j0,A0=$0;tm&&!A0?qu._bgLayer.remove():A0&&!tm&&(np._shouldCreateBgLayer=!0),qu._zoomlayer&&!Lu._dragging&&Pl({_fullLayout:qu}),Pu(Wl,np),Bn(np,qu),Fn.getComponentMethod("colorscale","crossTraceDefaults")(Wl,np),np._preGUI||(np._preGUI={}),np._tracePreGUI||(np._tracePreGUI={});var sm=np._tracePreGUI,pm={},nm;for(nm in sm)pm[nm]="old";for(pp=0;pp<Wl.length;pp++)nm=Wl[pp]._fullInput.uid,pm[nm]||(sm[nm]={}),pm[nm]="new";for(nm in pm)pm[nm]==="old"&&delete sm[nm];Hu(np),Fn.getComponentMethod("rangeslider","makeData")(np),!Hl&&zu.length===Wl.length&&Al.supplyDefaultsUpdateCalc(zu,Wl)},Al.supplyDefaultsUpdateCalc=function(Lu,Nu){for(var Hl=0;Hl<Nu.length;Hl++){var qu=Nu[Hl],np=(Lu[Hl]||[])[0];if(np&&np.trace){var vu=np.trace;if(vu._hasCalcTransform){var Ol=vu._arrayAttrs,Wl,Mu,zu;for(Wl=0;Wl<Ol.length;Wl++)Mu=Ol[Wl],zu=ot.nestedProperty(vu,Mu).get().slice(),ot.nestedProperty(qu,Mu).set(zu)}np.trace=qu}}};function Kl(Lu,Nu){var Hl=Nu.length,qu=[],np,vu;for(np=0;np<Lu.length;np++){var Ol=Lu[np]._fullInput;Ol!==vu&&qu.push(Ol),vu=Ol}var Wl=qu.length,Mu=new Array(Hl),zu={};function ip(Pp,Gp){Mu[Gp]=Pp,zu[Pp]=1}function pp(Pp,Gp){if(Pp&&typeof Pp=="string"&&!zu[Pp])return ip(Pp,Gp),!0}for(np=0;np<Hl;np++){var vp=Nu[np].uid;typeof vp=="number"&&(vp=String(vp)),!pp(vp,np)&&(np<Wl&&pp(qu[np].uid,np)||ip(ot.randstr(zu),np))}return Mu}function Bl(){var Lu=Fn.collectableSubplotTypes,Nu={},Hl,qu;if(!Lu){Lu=[];var np=Fn.subplotsRegistry;for(var vu in np){var Ol=np[vu],Wl=Ol.attr;if(Wl&&(Lu.push(vu),Array.isArray(Wl)))for(qu=0;qu<Wl.length;qu++)ot.pushUnique(Lu,Wl[qu])}}for(Hl=0;Hl<Lu.length;Hl++)Nu[Lu[Hl]]=[];return Nu}function $u(Lu,Nu){var Hl=Lu._context.locale;Hl||(Hl="en-US");var qu=!1,np={};function vu(pp){for(var vp=!0,Pp=0;Pp<Nu.length;Pp++){var Gp=Nu[Pp];np[Gp]||(pp[Gp]?np[Gp]=pp[Gp]:vp=!1)}vp&&(qu=!0)}for(var Ol=0;Ol<2;Ol++){for(var Wl=Lu._context.locales,Mu=0;Mu<2;Mu++){var zu=(Wl[Hl]||{}).format;if(zu&&(vu(zu),qu))break;Wl=Fn.localeRegistry}var ip=Hl.split("-")[0];if(qu||ip===Hl)break;Hl=ip}return qu||vu(Fn.localeRegistry.en.format),np}function mu(Lu,Nu){return Lu.decimal=Nu.charAt(0),Lu.thousands=Nu.charAt(1),{numberFormat:function(Hl){try{Hl=st(Lu).format(ot.adjustFormat(Hl))}catch{return ot.warnBadFormat(Hl),ot.noFormat}return Hl},timeFormat:it(Lu).utcFormat}}function Pu(Lu,Nu){var Hl,qu=[];Nu.meta&&(Hl=Nu._meta={meta:Nu.meta,layout:{meta:Nu.meta}});for(var np=0;np<Lu.length;np++){var vu=Lu[np];vu.meta?qu[vu.index]=vu._meta={meta:vu.meta}:Nu.meta&&(vu._meta={meta:Nu.meta}),Nu.meta&&(vu._meta.layout={meta:Nu.meta})}qu.length&&(Hl||(Hl=Nu._meta={}),Hl.data=qu)}Al.createTransitionData=function(Lu){Lu._transitionData||(Lu._transitionData={}),Lu._transitionData._frames||(Lu._transitionData._frames=[]),Lu._transitionData._frameHash||(Lu._transitionData._frameHash={}),Lu._transitionData._counter||(Lu._transitionData._counter=0),Lu._transitionData._interruptCallbacks||(Lu._transitionData._interruptCallbacks=[])},Al._hasPlotType=function(Lu){var Nu,Hl=this._basePlotModules||[];for(Nu=0;Nu<Hl.length;Nu++)if(Hl[Nu].name===Lu)return!0;var qu=this._modules||[];for(Nu=0;Nu<qu.length;Nu++){var np=qu[Nu].name;if(np===Lu)return!0;var vu=Fn.modules[np];if(vu&&vu.categories[Lu])return!0}return!1},Al.cleanPlot=function(Lu,Nu,Hl,qu){var np,vu,Ol=qu._basePlotModules||[];for(np=0;np<Ol.length;np++){var Wl=Ol[np];Wl.clean&&Wl.clean(Lu,Nu,Hl,qu)}var Mu=qu._has&&qu._has("gl"),zu=Nu._has&&Nu._has("gl");Mu&&!zu&&qu._glcontainer!==void 0&&(qu._glcontainer.selectAll(".gl-canvas").remove(),qu._glcontainer.selectAll(".no-webgl").remove(),qu._glcanvas=null);var ip=!!qu._infolayer;e:for(np=0;np<Hl.length;np++){var pp=Hl[np],vp=pp.uid;for(vu=0;vu<Lu.length;vu++){var Pp=Lu[vu];if(vp===Pp.uid)continue e}ip&&qu._infolayer.select(".cb"+vp).remove()}},Al.linkSubplots=function(Lu,Nu,Hl,qu){var np,vu,Ol=qu._plots||{},Wl=Nu._plots={},Mu=Nu._subplots,zu={_fullData:Lu,_fullLayout:Nu},ip=Mu.cartesian||[];for(np=0;np<ip.length;np++){var pp=ip[np],vp=Ol[pp],Pp=Sl.getFromId(zu,pp,"x"),Gp=Sl.getFromId(zu,pp,"y"),r0;for(vp?r0=Wl[pp]=vp:(r0=Wl[pp]={},r0.id=pp),Pp._counterAxes.push(Gp._id),Gp._counterAxes.push(Pp._id),Pp._subplotsWith.push(pp),Gp._subplotsWith.push(pp),r0.xaxis=Pp,r0.yaxis=Gp,r0._hasClipOnAxisFalse=!1,vu=0;vu<Lu.length;vu++){var C0=Lu[vu];if(C0.xaxis===r0.xaxis._id&&C0.yaxis===r0.yaxis._id&&C0.cliponaxis===!1){r0._hasClipOnAxisFalse=!0;break}}}var f0=Sl.list(zu,null,!0),d0;for(np=0;np<f0.length;np++){d0=f0[np];var Sp=null;d0.overlaying&&(Sp=Sl.getFromId(zu,d0.overlaying),Sp&&Sp.overlaying&&(d0.overlaying=!1,Sp=null)),d0._mainAxis=Sp||d0,Sp&&(d0.domain=Sp.domain.slice()),d0._anchorAxis=d0.anchor==="free"?null:Sl.getFromId(zu,d0.anchor)}for(np=0;np<f0.length;np++)if(d0=f0[np],d0._counterAxes.sort(Sl.idSort),d0._subplotsWith.sort(ot.subplotSort),d0._mainSubplot=bu(d0,Nu),d0._counterAxes.length&&(d0.spikemode&&d0.spikemode.indexOf("across")!==-1||d0.automargin&&d0.mirror&&d0.anchor!=="free"||Fn.getComponentMethod("rangeslider","isVisible")(d0))){var Fp=1,cp=0;for(vu=0;vu<d0._counterAxes.length;vu++){var jp=Sl.getFromId(zu,d0._counterAxes[vu]);Fp=Math.min(Fp,jp.domain[0]),cp=Math.max(cp,jp.domain[1])}Fp<cp&&(d0._counterDomainMin=Fp,d0._counterDomainMax=cp)}};function bu(Lu,Nu){var Hl={_fullLayout:Nu},qu=Lu._id.charAt(0)==="x",np=Lu._mainAxis._anchorAxis,vu="",Ol="",Wl="";if(np&&(Wl=np._mainAxis._id,vu=qu?Lu._id+Wl:Wl+Lu._id),!vu||!Nu._plots[vu]){vu="";for(var Mu=Lu._counterAxes,zu=0;zu<Mu.length;zu++){var ip=Mu[zu],pp=qu?Lu._id+ip:ip+Lu._id;Ol||(Ol=pp);var vp=Sl.getFromId(Hl,ip);if(Wl&&vp.overlaying===Wl){vu=pp;break}}}return vu||Ol}Al.clearExpandedTraceDefaultColors=function(Lu){var Nu,Hl,qu;function np(Ol,Wl,Mu,zu){Hl[zu]=Wl,Hl.length=zu+1,Ol.valType==="color"&&Ol.dflt===void 0&&Nu.push(Hl.join("."))}for(Hl=[],Nu=Lu._module._colorAttrs,Nu||(Lu._module._colorAttrs=Nu=[],zn.crawl(Lu._module.attributes,np)),qu=0;qu<Nu.length;qu++){var vu=ot.nestedProperty(Lu,"_input."+Nu[qu]);vu.get()||ot.nestedProperty(Lu,Nu[qu]).set(null)}},Al.supplyDataDefaults=function(Lu,Nu,Hl,qu){var np=qu._modules,vu=qu._visibleModules,Ol=qu._basePlotModules,Wl=0,Mu,zu,ip;qu._transformModules=[];function pp(f0){Nu.push(f0);var d0=f0._module;d0&&(ot.pushUnique(np,d0),f0.visible===!0&&ot.pushUnique(vu,d0),ot.pushUnique(Ol,f0._module.basePlotModule),f0._input.visible!==!1&&Wl++)}var vp={},Pp=[],Gp=(Hl.template||{}).data||{},r0=yl.traceTemplater(Gp);for(Mu=0;Mu<Lu.length;Mu++)ip=Lu[Mu],zu=r0.newTrace(ip),zu.uid=qu._traceUids[Mu],Al.supplyTraceDefaults(ip,zu,Wl,qu,Mu),zu.index=Mu,zu._input=ip,zu._fullInput=zu,pp(zu),Fn.traceIs(zu,"carpetAxis")&&(vp[zu.carpet]=zu),Fn.traceIs(zu,"carpetDependent")&&Pp.push(Mu);for(Mu=0;Mu<Pp.length;Mu++)if(zu=Nu[Pp[Mu]],!!zu.visible){var C0=vp[zu.carpet];if(zu._carpet=C0,!C0||!C0.visible){zu.visible=!1;continue}zu.xaxis=C0.xaxis,zu.yaxis=C0.yaxis}},Al.supplyAnimationDefaults=function(Lu){Lu=Lu||{};var Nu,Hl={};function qu(np,vu){return ot.coerce(Lu||{},Hl,El,np,vu)}if(qu("mode"),qu("direction"),qu("fromcurrent"),Array.isArray(Lu.frame))for(Hl.frame=[],Nu=0;Nu<Lu.frame.length;Nu++)Hl.frame[Nu]=Al.supplyAnimationFrameDefaults(Lu.frame[Nu]||{});else Hl.frame=Al.supplyAnimationFrameDefaults(Lu.frame||{});if(Array.isArray(Lu.transition))for(Hl.transition=[],Nu=0;Nu<Lu.transition.length;Nu++)Hl.transition[Nu]=Al.supplyAnimationTransitionDefaults(Lu.transition[Nu]||{});else Hl.transition=Al.supplyAnimationTransitionDefaults(Lu.transition||{});return Hl},Al.supplyAnimationFrameDefaults=function(Lu){var Nu={};function Hl(qu,np){return ot.coerce(Lu||{},Nu,El.frame,qu,np)}return Hl("duration"),Hl("redraw"),Nu},Al.supplyAnimationTransitionDefaults=function(Lu){var Nu={};function Hl(qu,np){return ot.coerce(Lu||{},Nu,El.transition,qu,np)}return Hl("duration"),Hl("easing"),Nu},Al.supplyFrameDefaults=function(Lu){var Nu={};function Hl(qu,np){return ot.coerce(Lu,Nu,Ml,qu,np)}return Hl("group"),Hl("name"),Hl("traces"),Hl("baseframe"),Hl("data"),Hl("layout"),Nu},Al.supplyTraceDefaults=function(Lu,Nu,Hl,qu,np){var vu=qu.colorway||_l.defaults,Ol=vu[Hl%vu.length],Wl;function Mu(Sp,Fp){return ot.coerce(Lu,Nu,Al.attributes,Sp,Fp)}var zu=Mu("visible");Mu("type"),Mu("name",qu._traceWord+" "+np),Mu("uirevision",qu.uirevision);var ip=Al.getModule(Nu);if(Nu._module=ip,ip){var pp=ip.basePlotModule,vp=pp.attr,Pp=pp.attributes;if(vp&&Pp){var Gp=qu._subplots,r0="";if(Array.isArray(vp))for(Wl=0;Wl<vp.length;Wl++){var C0=vp[Wl],f0=ot.coerce(Lu,Nu,Pp,C0);Gp[C0]&&ot.pushUnique(Gp[C0],f0),r0+=f0}else r0=ot.coerce(Lu,Nu,Pp,vp);Gp[pp.name]&&ot.pushUnique(Gp[pp.name],r0)}}if(zu&&(Mu("customdata"),Mu("ids"),Mu("meta"),Fn.traceIs(Nu,"showLegend")?(ot.coerce(Lu,Nu,ip.attributes.showlegend?ip.attributes:Al.attributes,"showlegend"),Mu("legend"),Mu("legendwidth"),Mu("legendgroup"),Mu("legendgrouptitle.text"),Mu("legendrank"),Nu._dfltShowLegend=!0):Nu._dfltShowLegend=!1,ip&&ip.supplyDefaults(Lu,Nu,Ol,qu),Fn.traceIs(Nu,"noOpacity")||Mu("opacity"),Fn.traceIs(Nu,"notLegendIsolatable")&&(Nu.visible=!!Nu.visible),Fn.traceIs(Nu,"noHover")||(Nu.hovertemplate||ot.coerceHoverinfo(Lu,Nu,qu),Nu.type!=="parcats"&&Fn.getComponentMethod("fx","supplyDefaults")(Lu,Nu,Ol,qu)),ip&&ip.selectPoints)){var d0=Mu("selectedpoints");ot.isTypedArray(d0)&&(Nu.selectedpoints=Array.from(d0))}return Nu},Al.supplyLayoutGlobalDefaults=function(Lu,Nu,Hl){function qu(pp,vp){return ot.coerce(Lu,Nu,Al.layoutAttributes,pp,vp)}var np=Lu.template;ot.isPlainObject(np)&&(Nu.template=np,Nu._template=np.layout,Nu._dataTemplate=np.data),qu("autotypenumbers");var vu=ot.coerceFont(qu,"font"),Ol=vu.size;ot.coerceFont(qu,"title.font",vu,{overrideDflt:{size:Math.round(Ol*1.4)}}),qu("title.text",Nu._dfltTitle.plot),qu("title.xref");var Wl=qu("title.yref");qu("title.pad.t"),qu("title.pad.r"),qu("title.pad.b"),qu("title.pad.l");var Mu=qu("title.automargin");qu("title.x"),qu("title.xanchor"),qu("title.y"),qu("title.yanchor"),qu("title.subtitle.text",Nu._dfltTitle.subtitle),ot.coerceFont(qu,"title.subtitle.font",vu,{overrideDflt:{size:Math.round(Nu.title.font.size*.7)}}),Mu&&(Wl==="paper"&&(Nu.title.y!==0&&(Nu.title.y=1),Nu.title.yanchor==="auto"&&(Nu.title.yanchor=Nu.title.y===0?"top":"bottom")),Wl==="container"&&(Nu.title.y==="auto"&&(Nu.title.y=1),Nu.title.yanchor==="auto"&&(Nu.title.yanchor=Nu.title.y<.5?"bottom":"top")));var zu=qu("uniformtext.mode");zu&&qu("uniformtext.minsize"),qu("autosize",!(Lu.width&&Lu.height)),qu("width"),qu("height"),qu("minreducedwidth"),qu("minreducedheight"),qu("margin.l"),qu("margin.r"),qu("margin.t"),qu("margin.b"),qu("margin.pad"),qu("margin.autoexpand"),Lu.width&&Lu.height&&Al.sanitizeMargins(Nu),Fn.getComponentMethod("grid","sizeDefaults")(Lu,Nu),qu("paper_bgcolor"),qu("separators",Hl.decimal+Hl.thousands),qu("hidesources"),qu("colorway"),qu("datarevision");var ip=qu("uirevision");qu("editrevision",ip),qu("selectionrevision",ip),Fn.getComponentMethod("modebar","supplyLayoutDefaults")(Lu,Nu),Fn.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Lu,Nu,qu),Fn.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Lu,Nu,qu),qu("meta"),ot.isPlainObject(Lu.transition)&&(qu("transition.duration"),qu("transition.easing"),qu("transition.ordering")),Fn.getComponentMethod("calendars","handleDefaults")(Lu,Nu,"calendar"),Fn.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Lu,Nu,qu),ot.coerce(Lu,Nu,Tl,"scattermode")};function Fu(Lu){return typeof Lu=="string"&&Lu.substr(Lu.length-2)==="px"&&parseFloat(Lu)}Al.plotAutoSize=function(Lu,Nu,Hl){var qu=Lu._context||{},np=qu.frameMargins,vu,Ol,Wl=ot.isPlotDiv(Lu);if(Wl&&Lu.emit("plotly_autosize"),qu.fillFrame)vu=window.innerWidth,Ol=window.innerHeight,document.body.style.overflow="hidden";else{var Mu=Wl?window.getComputedStyle(Lu):{};if(vu=Fu(Mu.width)||Fu(Mu.maxWidth)||Hl.width,Ol=Fu(Mu.height)||Fu(Mu.maxHeight)||Hl.height,Ln(np)&&np>0){var zu=1-2*np;vu=Math.round(zu*vu),Ol=Math.round(zu*Ol)}}var ip=Al.layoutAttributes.width.min,pp=Al.layoutAttributes.height.min;vu<ip&&(vu=ip),Ol<pp&&(Ol=pp);var vp=!Nu.width&&Math.abs(Hl.width-vu)>1,Pp=!Nu.height&&Math.abs(Hl.height-Ol)>1;(Pp||vp)&&(vp&&(Hl.width=vu),Pp&&(Hl.height=Ol)),Lu._initialAutoSize||(Lu._initialAutoSize={width:vu,height:Ol}),Al.sanitizeMargins(Hl)},Al.supplyLayoutModuleDefaults=function(Lu,Nu,Hl,qu){var np=Fn.componentsRegistry,vu=Nu._basePlotModules,Ol,Wl,Mu,zu=Fn.subplotsRegistry.cartesian;for(Ol in np)Mu=np[Ol],Mu.includeBasePlot&&Mu.includeBasePlot(Lu,Nu);vu.length||vu.push(zu),Nu._has("cartesian")&&(Fn.getComponentMethod("grid","contentDefaults")(Lu,Nu),zu.finalizeSubplots(Lu,Nu));for(var ip in Nu._subplots)Nu._subplots[ip].sort(ot.subplotSort);for(Wl=0;Wl<vu.length;Wl++)Mu=vu[Wl],Mu.supplyLayoutDefaults&&Mu.supplyLayoutDefaults(Lu,Nu,Hl);var pp=Nu._modules;for(Wl=0;Wl<pp.length;Wl++)Mu=pp[Wl],Mu.supplyLayoutDefaults&&Mu.supplyLayoutDefaults(Lu,Nu,Hl);var vp=Nu._transformModules;for(Wl=0;Wl<vp.length;Wl++)Mu=vp[Wl],Mu.supplyLayoutDefaults&&Mu.supplyLayoutDefaults(Lu,Nu,Hl,qu);for(Ol in np)Mu=np[Ol],Mu.supplyLayoutDefaults&&Mu.supplyLayoutDefaults(Lu,Nu,Hl)},Al.purge=function(Lu){var Nu=Lu._fullLayout||{};Nu._glcontainer!==void 0&&(Nu._glcontainer.selectAll(".gl-canvas").remove(),Nu._glcontainer.remove(),Nu._glcanvas=null),Nu._modeBar&&Nu._modeBar.destroy(),Lu._transitionData&&(Lu._transitionData._interruptCallbacks&&(Lu._transitionData._interruptCallbacks.length=0),Lu._transitionData._animationRaf&&window.cancelAnimationFrame(Lu._transitionData._animationRaf)),ot.clearThrottle(),ot.clearResponsive(Lu),delete Lu.data,delete Lu.layout,delete Lu._fullData,delete Lu._fullLayout,delete Lu.calcdata,delete Lu.empty,delete Lu.fid,delete Lu.undoqueue,delete Lu.undonum,delete Lu.autoplay,delete Lu.changed,delete Lu._promises,delete Lu._redrawTimer,delete Lu._hmlumcount,delete Lu._hmpixcount,delete Lu._transitionData,delete Lu._transitioning,delete Lu._initialAutoSize,delete Lu._transitioningWithDuration,delete Lu._dragging,delete Lu._dragged,delete Lu._dragdata,delete Lu._hoverdata,delete Lu._snapshotInProgress,delete Lu._editing,delete Lu._mouseDownTime,delete Lu._legendMouseDownTime,Lu.removeAllListeners&&Lu.removeAllListeners()},Al.style=function(Lu){var Nu=Lu._fullLayout._visibleModules,Hl=[],qu;for(qu=0;qu<Nu.length;qu++){var np=Nu[qu];np.style&&ot.pushUnique(Hl,np.style)}for(qu=0;qu<Hl.length;qu++)Hl[qu](Lu)},Al.sanitizeMargins=function(Lu){if(!(!Lu||!Lu.margin)){var Nu=Lu.width,Hl=Lu.height,qu=Lu.margin,np=Nu-(qu.l+qu.r),vu=Hl-(qu.t+qu.b),Ol;np<0&&(Ol=(Nu-1)/(qu.l+qu.r),qu.l=Math.floor(Ol*qu.l),qu.r=Math.floor(Ol*qu.r)),vu<0&&(Ol=(Hl-1)/(qu.t+qu.b),qu.t=Math.floor(Ol*qu.t),qu.b=Math.floor(Ol*qu.b))}},Al.clearAutoMarginIds=function(Lu){Lu._fullLayout._pushmarginIds={}},Al.allowAutoMargin=function(Lu,Nu){Lu._fullLayout._pushmarginIds[Nu]=1};function Hu(Lu){var Nu=Lu.margin;if(!Lu._size){var Hl=Lu._size={l:Math.round(Nu.l),r:Math.round(Nu.r),t:Math.round(Nu.t),b:Math.round(Nu.b),p:Math.round(Nu.pad)};Hl.w=Math.round(Lu.width)-Hl.l-Hl.r,Hl.h=Math.round(Lu.height)-Hl.t-Hl.b}Lu._pushmargin||(Lu._pushmargin={}),Lu._pushmarginIds||(Lu._pushmarginIds={}),Lu._reservedMargin||(Lu._reservedMargin={})}var Gu=2,Xl=2;Al.autoMargin=function(Lu,Nu,Hl){var qu=Lu._fullLayout,np=qu.width,vu=qu.height,Ol=qu.margin,Wl=qu.minreducedwidth,Mu=qu.minreducedheight,zu=ot.constrain(np-Ol.l-Ol.r,Gu,Wl),ip=ot.constrain(vu-Ol.t-Ol.b,Xl,Mu),pp=Math.max(0,np-zu),vp=Math.max(0,vu-ip),Pp=qu._pushmargin,Gp=qu._pushmarginIds;if(Ol.autoexpand!==!1){if(!Hl)delete Pp[Nu],delete Gp[Nu];else{var r0=Hl.pad;if(r0===void 0&&(r0=Math.min(12,Ol.l,Ol.r,Ol.t,Ol.b)),pp){var C0=(Hl.l+Hl.r)/pp;C0>1&&(Hl.l/=C0,Hl.r/=C0)}if(vp){var f0=(Hl.t+Hl.b)/vp;f0>1&&(Hl.t/=f0,Hl.b/=f0)}var d0=Hl.xl!==void 0?Hl.xl:Hl.x,Sp=Hl.xr!==void 0?Hl.xr:Hl.x,Fp=Hl.yt!==void 0?Hl.yt:Hl.y,cp=Hl.yb!==void 0?Hl.yb:Hl.y;Pp[Nu]={l:{val:d0,size:Hl.l+r0},r:{val:Sp,size:Hl.r+r0},b:{val:cp,size:Hl.b+r0},t:{val:Fp,size:Hl.t+r0}},Gp[Nu]=1}if(!qu._replotting)return Al.doAutoMargin(Lu)}};function Wu(Lu){if("_redrawFromAutoMarginCount"in Lu._fullLayout)return!1;var Nu=Sl.list(Lu,"",!0);for(var Hl in Nu)if(Nu[Hl].autoshift||Nu[Hl].shift)return!0;return!1}Al.doAutoMargin=function(Lu){var Nu=Lu._fullLayout,Hl=Nu.width,qu=Nu.height;Nu._size||(Nu._size={}),Hu(Nu);var np=Nu._size,vu=Nu.margin,Ol={t:0,b:0,l:0,r:0},Wl=ot.extendFlat({},np),Mu=vu.l,zu=vu.r,ip=vu.t,pp=vu.b,vp=Nu._pushmargin,Pp=Nu._pushmarginIds,Gp=Nu.minreducedwidth,r0=Nu.minreducedheight;if(vu.autoexpand!==!1){for(var C0 in vp)Pp[C0]||delete vp[C0];var f0=Lu._fullLayout._reservedMargin;for(var d0 in f0)for(var Sp in f0[d0]){var Fp=f0[d0][Sp];Ol[Sp]=Math.max(Ol[Sp],Fp)}vp.base={l:{val:0,size:Mu},r:{val:1,size:zu},t:{val:1,size:ip},b:{val:0,size:pp}};for(var cp in Ol){var jp=0;for(var a0 in vp)a0!=="base"&&Ln(vp[a0][cp].size)&&(jp=vp[a0][cp].size>jp?vp[a0][cp].size:jp);var y0=Math.max(0,vu[cp]-jp);Ol[cp]=Math.max(0,Ol[cp]-y0)}for(var P0 in vp){var E0=vp[P0].l||{},O0=vp[P0].b||{},j0=E0.val,$0=E0.size,tm=O0.val,A0=O0.size,sm=Hl-Ol.r-Ol.l,pm=qu-Ol.t-Ol.b;for(var nm in vp){if(Ln($0)&&vp[nm].r){var vm=vp[nm].r.val,kp=vp[nm].r.size;if(vm>j0){var qp=($0*vm+(kp-sm)*j0)/(vm-j0),Xu=(kp*(1-j0)+($0-sm)*(1-vm))/(vm-j0);qp+Xu>Mu+zu&&(Mu=qp,zu=Xu)}}if(Ln(A0)&&vp[nm].t){var hp=vp[nm].t.val,yp=vp[nm].t.size;if(hp>tm){var Dp=(A0*hp+(yp-pm)*tm)/(hp-tm),Bp=(yp*(1-tm)+(A0-pm)*(1-hp))/(hp-tm);Dp+Bp>pp+ip&&(pp=Dp,ip=Bp)}}}}}var Jp=ot.constrain(Hl-vu.l-vu.r,Gu,Gp),n0=ot.constrain(qu-vu.t-vu.b,Xl,r0),b0=Math.max(0,Hl-Jp),v0=Math.max(0,qu-n0);if(b0){var x0=(Mu+zu)/b0;x0>1&&(Mu/=x0,zu/=x0)}if(v0){var U0=(pp+ip)/v0;U0>1&&(pp/=U0,ip/=U0)}if(np.l=Math.round(Mu)+Ol.l,np.r=Math.round(zu)+Ol.r,np.t=Math.round(ip)+Ol.t,np.b=Math.round(pp)+Ol.b,np.p=Math.round(vu.pad),np.w=Math.round(Hl)-np.l-np.r,np.h=Math.round(qu)-np.t-np.b,!Nu._replotting&&(Al.didMarginChange(Wl,np)||Wu(Lu))){"_redrawFromAutoMarginCount"in Nu?Nu._redrawFromAutoMarginCount++:Nu._redrawFromAutoMarginCount=1;var W0=3*(1+Object.keys(Pp).length);if(Nu._redrawFromAutoMarginCount<W0)return Fn.call("_doPlot",Lu);Nu._size=Wl,ot.warn("Too many auto-margin redraws.")}Yu(Lu)};function Yu(Lu){var Nu=Sl.list(Lu,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Hl){for(var qu=0;qu<Nu.length;qu++){var np=Nu[qu][Hl];np&&np()}})}var ap=["l","r","t","b","p","w","h"];Al.didMarginChange=function(Lu,Nu){for(var Hl=0;Hl<ap.length;Hl++){var qu=ap[Hl],np=Lu[qu],vu=Nu[qu];if(!Ln(np)||Math.abs(vu-np)>1)return!0}return!1},Al.graphJson=function(Lu,Nu,Hl,qu,np,vu){(np&&Nu&&!Lu._fullData||np&&!Nu&&!Lu._fullLayout)&&Al.supplyDefaults(Lu);var Ol=np?Lu._fullData:Lu.data,Wl=np?Lu._fullLayout:Lu.layout,Mu=(Lu._transitionData||{})._frames;function zu(vp,Pp){if(typeof vp=="function")return Pp?"_function_":null;if(ot.isPlainObject(vp)){var Gp={},r0;return Object.keys(vp).sort().forEach(function(Sp){if(["_","["].indexOf(Sp.charAt(0))===-1){if(typeof vp[Sp]=="function"){Pp&&(Gp[Sp]="_function");return}if(Hl==="keepdata"){if(Sp.substr(Sp.length-3)==="src")return}else if(Hl==="keepstream"){if(r0=vp[Sp+"src"],typeof r0=="string"&&r0.indexOf(":")>0&&!ot.isPlainObject(vp.stream))return}else if(Hl!=="keepall"&&(r0=vp[Sp+"src"],typeof r0=="string"&&r0.indexOf(":")>0))return;Gp[Sp]=zu(vp[Sp],Pp)}}),Gp}var C0=Array.isArray(vp),f0=ot.isTypedArray(vp);if((C0||f0)&&vp.dtype&&vp.shape){var d0=vp.bdata;return zu({dtype:vp.dtype,shape:vp.shape,bdata:ot.isArrayBuffer(d0)?Ft.encode(d0):d0},Pp)}return C0?vp.map(function(Sp){return zu(Sp,Pp)}):f0?ot.simpleMap(vp,ot.identity):ot.isJSDate(vp)?ot.ms2DateTimeLocal(+vp):vp}var ip={data:(Ol||[]).map(function(vp){var Pp=zu(vp);return Nu&&delete Pp.fit,Pp})};if(!Nu&&(ip.layout=zu(Wl),np)){var pp=Wl._size;ip.layout.computed={margin:{b:pp.b,l:pp.l,r:pp.r,t:pp.t}}}return Mu&&(ip.frames=zu(Mu)),vu&&(ip.config=zu(Lu._context,!0)),qu==="object"?ip:JSON.stringify(ip)},Al.modifyFrames=function(Lu,Nu){var Hl,qu,np,vu=Lu._transitionData._frames,Ol=Lu._transitionData._frameHash;for(Hl=0;Hl<Nu.length;Hl++)switch(qu=Nu[Hl],qu.type){case"replace":np=qu.value;var Wl=(vu[qu.index]||{}).name,Mu=np.name;vu[qu.index]=Ol[Mu]=np,Mu!==Wl&&(delete Ol[Wl],Ol[Mu]=np);break;case"insert":np=qu.value,Ol[np.name]=np,vu.splice(qu.index,0,np);break;case"delete":np=vu[qu.index],delete Ol[np.name],vu.splice(qu.index,1);break}return Promise.resolve()},Al.computeFrame=function(Lu,Nu){var Hl=Lu._transitionData._frameHash,qu,np,vu,Ol;if(!Nu)throw new Error("computeFrame must be given a string frame name");var Wl=Hl[Nu.toString()];if(!Wl)return!1;for(var Mu=[Wl],zu=[Wl.name];Wl.baseframe&&(Wl=Hl[Wl.baseframe.toString()])&&zu.indexOf(Wl.name)===-1;)Mu.push(Wl),zu.push(Wl.name);for(var ip={};Wl=Mu.pop();)if(Wl.layout&&(ip.layout=Al.extendLayout(ip.layout,Wl.layout)),Wl.data){if(ip.data||(ip.data=[]),np=Wl.traces,!np)for(np=[],qu=0;qu<Wl.data.length;qu++)np[qu]=qu;for(ip.traces||(ip.traces=[]),qu=0;qu<Wl.data.length;qu++)vu=np[qu],vu!=null&&(Ol=ip.traces.indexOf(vu),Ol===-1&&(Ol=ip.data.length,ip.traces[Ol]=vu),ip.data[Ol]=Al.extendTrace(ip.data[Ol],Wl.data[qu]))}return ip},Al.recomputeFrameHash=function(Lu){for(var Nu=Lu._transitionData._frameHash={},Hl=Lu._transitionData._frames,qu=0;qu<Hl.length;qu++){var np=Hl[qu];np&&np.name&&(Nu[np.name]=np)}},Al.extendObjectWithContainers=function(Lu,Nu,Hl){var qu,np,vu,Ol,Wl,Mu,zu,ip,pp=ot.extendDeepNoArrays({},Nu||{}),vp=ot.expandObjectPaths(pp),Pp={};if(Hl&&Hl.length)for(vu=0;vu<Hl.length;vu++)qu=ot.nestedProperty(vp,Hl[vu]),np=qu.get(),np===void 0?ot.nestedProperty(Pp,Hl[vu]).set(null):(qu.set(null),ot.nestedProperty(Pp,Hl[vu]).set(np));if(Lu=ot.extendDeepNoArrays(Lu||{},vp),Hl&&Hl.length){for(vu=0;vu<Hl.length;vu++)if(Wl=ot.nestedProperty(Pp,Hl[vu]),zu=Wl.get(),!!zu){for(Mu=ot.nestedProperty(Lu,Hl[vu]),ip=Mu.get(),Array.isArray(ip)||(ip=[],Mu.set(ip)),Ol=0;Ol<zu.length;Ol++){var Gp=zu[Ol];Gp===null?ip[Ol]=null:ip[Ol]=Al.extendObjectWithContainers(ip[Ol],Gp)}Mu.set(ip)}}return Lu},Al.dataArrayContainers=["transforms","dimensions"],Al.layoutArrayContainers=Fn.layoutArrayContainers,Al.extendTrace=function(Lu,Nu){return Al.extendObjectWithContainers(Lu,Nu,Al.dataArrayContainers)},Al.extendLayout=function(Lu,Nu){return Al.extendObjectWithContainers(Lu,Nu,Al.layoutArrayContainers)},Al.transition=function(Lu,Nu,Hl,qu,np,vu){var Ol={redraw:np.redraw},Wl={},Mu=[];return Ol.prepareFn=function(){for(var zu=Array.isArray(Nu)?Nu.length:0,ip=qu.slice(0,zu),pp=0;pp<ip.length;pp++){var vp=ip[pp],Pp=Lu._fullData[vp],Gp=Pp._module;if(Gp){if(Gp.animatable){var r0=Gp.basePlotModule.name;Wl[r0]||(Wl[r0]=[]),Wl[r0].push(vp)}Lu.data[ip[pp]]=Al.extendTrace(Lu.data[ip[pp]],Nu[pp])}}var C0=ot.expandObjectPaths(ot.extendDeepNoArrays({},Hl)),f0=/^[xy]axis[0-9]*$/;for(var d0 in C0)f0.test(d0)&&delete C0[d0].range;Al.extendLayout(Lu.layout,C0),delete Lu.calcdata,Al.supplyDefaults(Lu),Al.doCalcdata(Lu);var Sp=ot.expandObjectPaths(Hl);if(Sp){var Fp=Lu._fullLayout._plots;for(var cp in Fp){var jp=Fp[cp],a0=jp.xaxis,y0=jp.yaxis,P0=a0.range.slice(),E0=y0.range.slice(),O0=null,j0=null,$0=null,tm=null;Array.isArray(Sp[a0._name+".range"])?O0=Sp[a0._name+".range"].slice():Array.isArray((Sp[a0._name]||{}).range)&&(O0=Sp[a0._name].range.slice()),Array.isArray(Sp[y0._name+".range"])?j0=Sp[y0._name+".range"].slice():Array.isArray((Sp[y0._name]||{}).range)&&(j0=Sp[y0._name].range.slice()),P0&&O0&&(a0.r2l(P0[0])!==a0.r2l(O0[0])||a0.r2l(P0[1])!==a0.r2l(O0[1]))&&($0={xr0:P0,xr1:O0}),E0&&j0&&(y0.r2l(E0[0])!==y0.r2l(j0[0])||y0.r2l(E0[1])!==y0.r2l(j0[1]))&&(tm={yr0:E0,yr1:j0}),($0||tm)&&Mu.push(ot.extendFlat({plotinfo:jp},$0,tm))}}return Promise.resolve()},Ol.runFn=function(zu){var ip,pp=Lu._fullLayout._basePlotModules,vp=Mu.length,Pp;if(Hl)for(Pp=0;Pp<pp.length;Pp++)pp[Pp].transitionAxes&&pp[Pp].transitionAxes(Lu,Mu,vu,zu);vp?(ip=ot.extendFlat({},vu),ip.duration=0,delete Wl.cartesian):ip=vu;for(var Gp in Wl){var r0=Wl[Gp],C0=Lu._fullData[r0[0]]._module;C0.basePlotModule.plot(Lu,r0,ip,zu)}},rp(Lu,vu,Ol)},Al.transitionFromReact=function(Lu,Nu,Hl,qu){var np=Lu._fullLayout,vu=np.transition,Ol={},Wl=[];return Ol.prepareFn=function(){var Mu=np._plots;Ol.redraw=!1,Nu.anim==="some"&&(Ol.redraw=!0),Hl.anim==="some"&&(Ol.redraw=!0);for(var zu in Mu){var ip=Mu[zu],pp=ip.xaxis,vp=ip.yaxis,Pp=qu[pp._name].range.slice(),Gp=qu[vp._name].range.slice(),r0=pp.range.slice(),C0=vp.range.slice();pp.setScale(),vp.setScale();var f0=null,d0=null;(pp.r2l(Pp[0])!==pp.r2l(r0[0])||pp.r2l(Pp[1])!==pp.r2l(r0[1]))&&(f0={xr0:Pp,xr1:r0}),(vp.r2l(Gp[0])!==vp.r2l(C0[0])||vp.r2l(Gp[1])!==vp.r2l(C0[1]))&&(d0={yr0:Gp,yr1:C0}),(f0||d0)&&Wl.push(ot.extendFlat({plotinfo:ip},f0,d0))}return Promise.resolve()},Ol.runFn=function(Mu){for(var zu=Lu._fullData,ip=Lu._fullLayout,pp=ip._basePlotModules,vp,Pp,Gp,r0=[],C0=0;C0<zu.length;C0++)r0.push(C0);function f0(){if(Lu._fullLayout)for(var Sp=0;Sp<pp.length;Sp++)pp[Sp].transitionAxes&&pp[Sp].transitionAxes(Lu,Wl,vp,Mu)}function d0(){if(Lu._fullLayout)for(var Sp=0;Sp<pp.length;Sp++)pp[Sp].plot(Lu,Gp,Pp,Mu)}Wl.length&&Nu.anim?vu.ordering==="traces first"?(vp=ot.extendFlat({},vu,{duration:0}),Gp=r0,Pp=vu,setTimeout(f0,vu.duration),d0()):(vp=vu,Gp=null,Pp=ot.extendFlat({},vu,{duration:0}),setTimeout(d0,vp.duration),f0()):Wl.length?(vp=vu,f0()):Nu.anim&&(Gp=r0,Pp=vu,d0())},rp(Lu,vu,Ol)};function rp(Lu,Nu,Hl){var qu=!1;function np(pp){var vp=Promise.resolve();if(!pp)return vp;for(;pp.length;)vp=vp.then(pp.shift());return vp}function vu(pp){if(pp)for(;pp.length;)pp.shift()}function Ol(){return Lu.emit("plotly_transitioning",[]),new Promise(function(pp){Lu._transitioning=!0,Nu.duration>0&&(Lu._transitioningWithDuration=!0),Lu._transitionData._interruptCallbacks.push(function(){qu=!0}),Hl.redraw&&Lu._transitionData._interruptCallbacks.push(function(){return Fn.call("redraw",Lu)}),Lu._transitionData._interruptCallbacks.push(function(){Lu.emit("plotly_transitioninterrupted",[])});var vp=0,Pp=0;function Gp(){return vp++,function(){Pp++,!qu&&Pp===vp&&Wl(pp)}}Hl.runFn(Gp),setTimeout(Gp())})}function Wl(pp){if(Lu._transitionData)return vu(Lu._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(Hl.redraw)return Fn.call("redraw",Lu)}).then(function(){Lu._transitioning=!1,Lu._transitioningWithDuration=!1,Lu.emit("plotly_transitioned",[])}).then(pp)}function Mu(){if(Lu._transitionData)return Lu._transitioning=!1,np(Lu._transitionData._interruptCallbacks)}var zu=[Al.previousPromises,Mu,Hl.prepareFn,Al.rehover,Al.reselect,Ol],ip=ot.syncOrAsync(zu,Lu);return(!ip||!ip.then)&&(ip=Promise.resolve()),ip.then(function(){return Lu})}Al.doCalcdata=function(Lu,Nu){var Hl=Sl.list(Lu),qu=Lu._fullData,np=Lu._fullLayout,vu,Ol,Wl,Mu,zu=new Array(qu.length),ip=(Lu.calcdata||[]).slice();for(Lu.calcdata=zu,np._numBoxes=0,np._numViolins=0,np._violinScaleGroupStats={},Lu._hmpixcount=0,Lu._hmlumcount=0,np._piecolormap={},np._sunburstcolormap={},np._treemapcolormap={},np._iciclecolormap={},np._funnelareacolormap={},Wl=0;Wl<qu.length;Wl++)if(Array.isArray(Nu)&&Nu.indexOf(Wl)===-1){zu[Wl]=ip[Wl];continue}for(Wl=0;Wl<qu.length;Wl++)vu=qu[Wl],vu._arrayAttrs=zn.findArrayAttributes(vu),vu._extremes={};var pp=np._subplots.polar||[];for(Wl=0;Wl<pp.length;Wl++)Hl.push(np[pp[Wl]].radialaxis,np[pp[Wl]].angularaxis);for(var vp in np._colorAxes){var Pp=np[vp];Pp.cauto!==!1&&(delete Pp.cmin,delete Pp.cmax)}var Gp=!1;function r0(d0){if(vu=qu[d0],Ol=vu._module,vu.visible===!0&&vu.transforms){if(Ol&&Ol.calc){var Sp=Ol.calc(Lu,vu);Sp[0]&&Sp[0].t&&Sp[0].t._scene&&delete Sp[0].t._scene.dirty}for(Mu=0;Mu<vu.transforms.length;Mu++){var Fp=vu.transforms[Mu];Ol=transformsRegistry[Fp.type],Ol&&Ol.calcTransform&&(vu._hasCalcTransform=!0,Gp=!0,Ol.calcTransform(Lu,vu,Fp))}}}function C0(d0,Sp){if(vu=qu[d0],Ol=vu._module,!!Ol.isContainer===Sp){var Fp=[];if(vu.visible===!0&&vu._length!==0){delete vu._indexToPoints;var cp=vu.transforms||[];for(Mu=cp.length-1;Mu>=0;Mu--)if(cp[Mu].enabled){vu._indexToPoints=cp[Mu]._indexToPoints;break}Ol&&Ol.calc&&(Fp=Ol.calc(Lu,vu))}(!Array.isArray(Fp)||!Fp[0])&&(Fp=[{x:ls,y:ls}]),Fp[0].t||(Fp[0].t={}),Fp[0].trace=vu,zu[d0]=Fp}}for(Cp(Hl,qu,np),Wl=0;Wl<qu.length;Wl++)C0(Wl,!0);for(Wl=0;Wl<qu.length;Wl++)r0(Wl);for(Gp&&Cp(Hl,qu,np),Wl=0;Wl<qu.length;Wl++)C0(Wl,!0);for(Wl=0;Wl<qu.length;Wl++)C0(Wl,!1);Ap(Lu);var f0=bp(Hl,Lu);if(f0.length){for(np._numBoxes=0,np._numViolins=0,Wl=0;Wl<f0.length;Wl++)C0(f0[Wl],!0);for(Wl=0;Wl<f0.length;Wl++)C0(f0[Wl],!1);Ap(Lu)}Fn.getComponentMethod("fx","calc")(Lu),Fn.getComponentMethod("errorbars","calc")(Lu)};var sp=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function bp(Lu,Nu){var Hl=[],qu,np,vu,Ol,Wl;function Mu(nm,vm,kp){var qp=vm._id.charAt(0);if(nm==="histogram2dcontour"){var Xu=vm._counterAxes[0],hp=Sl.getFromId(Nu,Xu),yp=qp==="x"||Xu==="x"&&hp.type==="category",Dp=qp==="y"||Xu==="y"&&hp.type==="category";return function(Bp,Jp){return Bp===0||Jp===0||yp&&Bp===kp[Jp].length-1||Dp&&Jp===kp.length-1?-1:(qp==="y"?Jp:Bp)-1}}else return function(Bp,Jp){return qp==="y"?Jp:Bp}}var zu={min:function(nm){return ot.aggNums(Math.min,null,nm)},max:function(nm){return ot.aggNums(Math.max,null,nm)},sum:function(nm){return ot.aggNums(function(vm,kp){return vm+kp},null,nm)},total:function(nm){return ot.aggNums(function(vm,kp){return vm+kp},null,nm)},mean:function(nm){return ot.mean(nm)},"geometric mean":function(nm){return ot.geometricMean(nm)},median:function(nm){return ot.median(nm)}};function ip(nm,vm){return nm[1]-vm[1]}function pp(nm,vm){return vm[1]-nm[1]}for(qu=0;qu<Lu.length;qu++){var vp=Lu[qu];if(vp.type==="category"){var Pp=vp.categoryorder.match(sp);if(Pp){var Gp=Pp[1],r0=Pp[2],C0=vp._id.charAt(0),f0=C0==="x",d0=[];for(np=0;np<vp._categories.length;np++)d0.push([vp._categories[np],[]]);for(np=0;np<vp._traceIndices.length;np++){var Sp=vp._traceIndices[np],Fp=Nu._fullData[Sp];if(Fp.visible===!0){var cp=Fp.type;Fn.traceIs(Fp,"histogram")&&(delete Fp._xautoBinFinished,delete Fp._yautoBinFinished);var jp=cp==="splom",a0=cp==="scattergl",y0=Nu.calcdata[Sp];for(vu=0;vu<y0.length;vu++){var P0=y0[vu],E0,O0;if(jp){var j0=Fp._axesDim[vp._id];if(!f0){var $0=Fp._diag[j0][0];$0&&(vp=Nu._fullLayout[Sl.id2name($0)])}var tm=P0.trace.dimensions[j0].values;for(Ol=0;Ol<tm.length;Ol++)for(E0=vp._categoriesMap[tm[Ol]],Wl=0;Wl<P0.trace.dimensions.length;Wl++)if(Wl!==j0){var A0=P0.trace.dimensions[Wl];d0[E0][1].push(A0.values[Ol])}}else if(a0){for(Ol=0;Ol<P0.t.x.length;Ol++)f0?(E0=P0.t.x[Ol],O0=P0.t.y[Ol]):(E0=P0.t.y[Ol],O0=P0.t.x[Ol]),d0[E0][1].push(O0);P0.t&&P0.t._scene&&delete P0.t._scene.dirty}else if(P0.hasOwnProperty("z")){O0=P0.z;var sm=Mu(Fp.type,vp,O0);for(Ol=0;Ol<O0.length;Ol++)for(Wl=0;Wl<O0[Ol].length;Wl++)E0=sm(Wl,Ol),E0+1&&d0[E0][1].push(O0[Ol][Wl])}else for(E0=P0.p,E0===void 0&&(E0=P0[C0]),O0=P0.s,O0===void 0&&(O0=P0.v),O0===void 0&&(O0=f0?P0.y:P0.x),Array.isArray(O0)||(O0===void 0?O0=[]:O0=[O0]),Ol=0;Ol<O0.length;Ol++)d0[E0][1].push(O0[Ol])}}}vp._categoriesValue=d0;var pm=[];for(np=0;np<d0.length;np++)pm.push([d0[np][0],zu[Gp](d0[np][1])]);pm.sort(r0==="descending"?pp:ip),vp._categoriesAggregatedValue=pm,vp._initialCategories=pm.map(function(nm){return nm[0]}),Hl=Hl.concat(vp.sortByInitialCategories())}}}return Hl}function Cp(Lu,Nu,Hl){var qu={};function np(Mu){Mu.clearCalc(),Mu.type==="multicategory"&&Mu.setupMultiCategory(Nu),qu[Mu._id]=1}ot.simpleMap(Lu,np);for(var vu=Hl._axisMatchGroups||[],Ol=0;Ol<vu.length;Ol++)for(var Wl in vu[Ol])qu[Wl]||np(Hl[Sl.id2name(Wl)])}function Ap(Lu){var Nu=Lu._fullLayout,Hl=Nu._visibleModules,qu={},np,vu,Ol;for(vu=0;vu<Hl.length;vu++){var Wl=Hl[vu],Mu=Wl.crossTraceCalc;if(Mu){var zu=Wl.basePlotModule.name;qu[zu]?ot.pushUnique(qu[zu],Mu):qu[zu]=[Mu]}}for(Ol in qu){var ip=qu[Ol],pp=Nu._subplots[Ol];if(Array.isArray(pp))for(np=0;np<pp.length;np++){var vp=pp[np],Pp=Ol==="cartesian"?Nu._plots[vp]:Nu[vp];for(vu=0;vu<ip.length;vu++)ip[vu](Lu,Pp,vp)}else for(vu=0;vu<ip.length;vu++)ip[vu](Lu)}}Al.rehover=function(Lu){Lu._fullLayout._rehover&&Lu._fullLayout._rehover()},Al.redrag=function(Lu){Lu._fullLayout._redrag&&Lu._fullLayout._redrag()},Al.reselect=function(Lu){var Nu=Lu._fullLayout,Hl=(Lu.layout||{}).selections,qu=Nu._previousSelections;Nu._previousSelections=Hl;var np=Nu._reselect||JSON.stringify(Hl)!==JSON.stringify(qu);Fn.getComponentMethod("selections","reselect")(Lu,np)},Al.generalUpdatePerTraceModule=function(Lu,Nu,Hl,qu){var np=Nu.traceHash,vu={},Ol;for(Ol=0;Ol<Hl.length;Ol++){var Wl=Hl[Ol],Mu=Wl[0].trace;Mu.visible&&(vu[Mu.type]=vu[Mu.type]||[],vu[Mu.type].push(Wl))}for(var zu in np)if(!vu[zu]){var ip=np[zu][0],pp=ip[0].trace;pp.visible=!1,vu[zu]=[ip]}for(var vp in vu){var Pp=vu[vp],Gp=Pp[0][0].trace._module;Gp.plot(Lu,Nu,ot.filterVisible(Pp),qu)}Nu.traceHash=vu},Al.plotBasePlot=function(Lu,Nu,Hl,qu,np){var vu=Fn.getModule(Lu),Ol=Rl(Nu.calcdata,vu)[0];vu.plot(Nu,Ol,qu,np)},Al.cleanBasePlot=function(Lu,Nu,Hl,qu,np){var vu=np._has&&np._has(Lu),Ol=Hl._has&&Hl._has(Lu);vu&&!Ol&&np["_"+Lu+"layer"].selectAll("g.trace").remove()}}),Vv=a(yu=>{yu.xmlns="http://www.w3.org/2000/xmlns/",yu.svg="http://www.w3.org/2000/svg",yu.xlink="http://www.w3.org/1999/xlink",yu.svgAttrs={xmlns:yu.svg,"xmlns:xlink":yu.xlink}}),pv=a((yu,hu)=>{hu.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}),hy=a(yu=>{var hu=g(),jt=gu(),it=jt.strTranslate,st=Vv(),Ln=pv().LINE_SPACING,Ft=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;yu.convertToTspans=function(Xl,Wu,Yu){var ap=Xl.text(),rp=!Xl.attr("data-notex")&&Wu&&Wu._context.typesetMath&&typeof MathJax<"u"&&ap.match(Ft),sp=hu.select(Xl.node().parentNode);if(sp.empty())return;var bp=Xl.attr("class")?Xl.attr("class").split(" ")[0]:"text";bp+="-math",sp.selectAll("svg."+bp).remove(),sp.selectAll("g."+bp+"-group").remove(),Xl.style("display",null).attr({"data-unformatted":ap,"data-math":"N"});function Cp(){sp.empty()||(bp=Xl.attr("class")+"-math",sp.select("svg."+bp).remove()),Xl.text("").style("white-space","pre");var Ap=bu(Xl.node(),ap);Ap&&Xl.style("pointer-events","all"),yu.positionText(Xl),Yu&&Yu.call(Xl)}return rp?(Wu&&Wu._promises||[]).push(new Promise(function(Ap){Xl.style("display","none");var Lu=parseInt(Xl.node().style.fontSize,10),Nu={fontSize:Lu};_l(rp[2],Nu,function(Hl,qu,np){sp.selectAll("svg."+bp).remove(),sp.selectAll("g."+bp+"-group").remove();var vu=Hl&&Hl.select("svg");if(!vu||!vu.node()){Cp(),Ap();return}var Ol=sp.append("g").classed(bp+"-group",!0).attr({"pointer-events":"none","data-unformatted":ap,"data-math":"Y"});Ol.node().appendChild(vu.node()),qu&&qu.node()&&vu.node().insertBefore(qu.node().cloneNode(!0),vu.node().firstChild);var Wl=np.width,Mu=np.height;vu.attr({class:bp,height:Mu,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var zu=Xl.node().style.fill||"black",ip=vu.select("g");ip.attr({fill:zu,stroke:zu});var pp=ip.node().getBoundingClientRect(),vp=pp.width,Pp=pp.height;(vp>Wl||Pp>Mu)&&(vu.style("overflow","hidden"),pp=vu.node().getBoundingClientRect(),vp=pp.width,Pp=pp.height);var Gp=+Xl.attr("x"),r0=+Xl.attr("y"),C0=Lu||Xl.node().getBoundingClientRect().height,f0=-C0/4;if(bp[0]==="y")Ol.attr({transform:"rotate("+[-90,Gp,r0]+")"+it(-vp/2,f0-Pp/2)});else if(bp[0]==="l")r0=f0-Pp/2;else if(bp[0]==="a"&&bp.indexOf("atitle")!==0)Gp=0,r0=f0;else{var d0=Xl.attr("text-anchor");Gp=Gp-vp*(d0==="middle"?.5:d0==="end"?1:0),r0=r0+f0-Pp/2}vu.attr({x:Gp,y:r0}),Yu&&Yu.call(Xl,Ol),Ap(Ol)})})):Cp(),Xl};var Fn=/(<|&lt;|&#60;)/g,zn=/(>|&gt;|&#62;)/g;function yl(Xl){return Xl.replace(Fn,"\\lt ").replace(zn,"\\gt ")}var ot=[["$","$"],["\\(","\\)"]];function _l(Xl,Wu,Yu){var ap=parseInt((MathJax.version||"").split(".")[0]);if(ap!==2&&ap!==3){jt.warn("No MathJax version:",MathJax.version);return}var rp,sp,bp,Cp,Ap=function(){return sp=jt.extendDeepAll({},MathJax.Hub.config),bp=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:ot},displayAlign:"left"})},Lu=function(){sp=jt.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=ot},Nu=function(){if(rp=MathJax.Hub.config.menuSettings.renderer,rp!=="SVG")return MathJax.Hub.setRenderer("SVG")},Hl=function(){rp=MathJax.config.startup.output,rp!=="svg"&&(MathJax.config.startup.output="svg")},qu=function(){var zu="math-output-"+jt.randstr({},64);Cp=hu.select("body").append("div").attr({id:zu}).style({visibility:"hidden",position:"absolute","font-size":Wu.fontSize+"px"}).text(yl(Xl));var ip=Cp.node();return ap===2?MathJax.Hub.Typeset(ip):MathJax.typeset([ip])},np=function(){var zu=Cp.select(ap===2?".MathJax_SVG":".MathJax"),ip=!zu.empty()&&Cp.select("svg").node();if(!ip)jt.log("There was an error in the tex syntax.",Xl),Yu();else{var pp=ip.getBoundingClientRect(),vp;ap===2?vp=hu.select("body").select("#MathJax_SVG_glyphs"):vp=zu.select("defs"),Yu(zu,vp,pp)}Cp.remove()},vu=function(){if(rp!=="SVG")return MathJax.Hub.setRenderer(rp)},Ol=function(){rp!=="svg"&&(MathJax.config.startup.output=rp)},Wl=function(){return bp!==void 0&&(MathJax.Hub.processSectionDelay=bp),MathJax.Hub.Config(sp)},Mu=function(){MathJax.config=sp};ap===2?MathJax.Hub.Queue(Ap,Nu,qu,np,vu,Wl):ap===3&&(Lu(),Hl(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){qu(),np(),Ol(),Mu()}))}var ls={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},Sl={sub:"0.3em",sup:"-0.6em"},Pl={sub:"-0.21em",sup:"0.42em"},Tl="",El=["http:","https:","mailto:","",void 0,":"],Ml=yu.NEWLINES=/(\r\n?|\n)/g,Rl=/(<[^<>]*>)/,Bn=/<(\/?)([^ >]*)(\s+(.*))?>/i,Cl=/<br(\s+.*)?>/i;yu.BR_TAG_ALL=/<br(\s+.*)?>/gi;var Al=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,Il=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,$l=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,Bu=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function Jl(Xl,Wu){if(!Xl)return null;var Yu=Xl.match(Wu),ap=Yu&&(Yu[3]||Yu[4]);return ap&&mu(ap)}var Kl=/(^|;)\s*color:/;yu.plainText=function(Xl,Wu){Wu=Wu||{};for(var Yu=Wu.len!==void 0&&Wu.len!==-1?Wu.len:1/0,ap=Wu.allowedTags!==void 0?Wu.allowedTags:["br"],rp="...",sp=rp.length,bp=Xl.split(Rl),Cp=[],Ap="",Lu=0,Nu=0;Nu<bp.length;Nu++){var Hl=bp[Nu],qu=Hl.match(Bn),np=qu&&qu[2].toLowerCase();if(np)ap.indexOf(np)!==-1&&(Cp.push(Hl),Ap=np);else{var vu=Hl.length;if(Lu+vu<Yu)Cp.push(Hl),Lu+=vu;else if(Lu<Yu){var Ol=Yu-Lu;Ap&&(Ap!=="br"||Ol<=sp||vu<=sp)&&Cp.pop(),Yu>sp?Cp.push(Hl.substr(0,Ol-sp)+rp):Cp.push(Hl.substr(0,Ol));break}Ap=""}}return Cp.join("")};var Bl={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},$u=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function mu(Xl){return Xl.replace($u,function(Wu,Yu){var ap;return Yu.charAt(0)==="#"?ap=Pu(Yu.charAt(1)==="x"?parseInt(Yu.substr(2),16):parseInt(Yu.substr(1),10)):ap=Bl[Yu],ap||Wu})}yu.convertEntities=mu;function Pu(Xl){if(!(Xl>1114111)){var Wu=String.fromCodePoint;if(Wu)return Wu(Xl);var Yu=String.fromCharCode;return Xl<=65535?Yu(Xl):Yu((Xl>>10)+55232,Xl%1024+56320)}}function bu(Xl,Wu){Wu=Wu.replace(Ml," ");var Yu=!1,ap=[],rp,sp=-1;function bp(){sp++;var Pp=document.createElementNS(st.svg,"tspan");hu.select(Pp).attr({class:"line",dy:sp*Ln+"em"}),Xl.appendChild(Pp),rp=Pp;var Gp=ap;if(ap=[{node:Pp}],Gp.length>1)for(var r0=1;r0<Gp.length;r0++)Cp(Gp[r0])}function Cp(Pp){var Gp=Pp.type,r0={},C0;if(Gp==="a"){C0="a";var f0=Pp.target,d0=Pp.href,Sp=Pp.popup;d0&&(r0={"xlink:xlink:show":f0==="_blank"||f0.charAt(0)!=="_"?"new":"replace",target:f0,"xlink:xlink:href":d0},Sp&&(r0.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Sp+'");return false;'))}else C0="tspan";Pp.style&&(r0.style=Pp.style);var Fp=document.createElementNS(st.svg,C0);if(Gp==="sup"||Gp==="sub"){Ap(rp,Tl),rp.appendChild(Fp);var cp=document.createElementNS(st.svg,"tspan");Ap(cp,Tl),hu.select(cp).attr("dy",Pl[Gp]),r0.dy=Sl[Gp],rp.appendChild(Fp),rp.appendChild(cp)}else rp.appendChild(Fp);hu.select(Fp).attr(r0),rp=Pp.node=Fp,ap.push(Pp)}function Ap(Pp,Gp){Pp.appendChild(document.createTextNode(Gp))}function Lu(Pp){if(ap.length===1){jt.log("Ignoring unexpected end tag </"+Pp+">.",Wu);return}var Gp=ap.pop();Pp!==Gp.type&&jt.log("Start tag <"+Gp.type+"> doesnt match end tag <"+Pp+">. Pretending it did match.",Wu),rp=ap[ap.length-1].node}var Nu=Cl.test(Wu);Nu?bp():(rp=Xl,ap=[{node:Xl}]);for(var Hl=Wu.split(Rl),qu=0;qu<Hl.length;qu++){var np=Hl[qu],vu=np.match(Bn),Ol=vu&&vu[2].toLowerCase(),Wl=ls[Ol];if(Ol==="br")bp();else if(Wl===void 0)Ap(rp,mu(np));else if(vu[1])Lu(Ol);else{var Mu=vu[4],zu={type:Ol},ip=Jl(Mu,Al);if(ip?(ip=ip.replace(Kl,"$1 fill:"),Wl&&(ip+=";"+Wl)):Wl&&(ip=Wl),ip&&(zu.style=ip),Ol==="a"){Yu=!0;var pp=Jl(Mu,Il);if(pp){var vp=Fu(pp);vp&&(zu.href=vp,zu.target=Jl(Mu,$l)||"_blank",zu.popup=Jl(Mu,Bu))}}Cp(zu)}}return Yu}function Fu(Xl){var Wu=encodeURI(decodeURI(Xl)),Yu=document.createElement("a"),ap=document.createElement("a");Yu.href=Xl,ap.href=Wu;var rp=Yu.protocol,sp=ap.protocol;return El.indexOf(rp)!==-1&&El.indexOf(sp)!==-1?Wu:""}yu.sanitizeHTML=function(Xl){Xl=Xl.replace(Ml," ");for(var Wu=document.createElement("p"),Yu=Wu,ap=[],rp=Xl.split(Rl),sp=0;sp<rp.length;sp++){var bp=rp[sp],Cp=bp.match(Bn),Ap=Cp&&Cp[2].toLowerCase();if(Ap in ls)if(Cp[1])ap.length&&(Yu=ap.pop());else{var Lu=Cp[4],Nu=Jl(Lu,Al),Hl=Nu?{style:Nu}:{};if(Ap==="a"){var qu=Jl(Lu,Il);if(qu){var np=Fu(qu);if(np){Hl.href=np;var vu=Jl(Lu,$l);vu&&(Hl.target=vu)}}}var Ol=document.createElement(Ap);Yu.appendChild(Ol),hu.select(Ol).attr(Hl),Yu=Ol,ap.push(Ol)}else Yu.appendChild(document.createTextNode(mu(bp)))}var Wl="innerHTML";return Wu[Wl]},yu.lineCount=function(Xl){return Xl.selectAll("tspan.line").size()||1},yu.positionText=function(Xl,Wu,Yu){return Xl.each(function(){var ap=hu.select(this);function rp(Cp,Ap){return Ap===void 0?(Ap=ap.attr(Cp),Ap===null&&(ap.attr(Cp,0),Ap=0)):ap.attr(Cp,Ap),Ap}var sp=rp("x",Wu),bp=rp("y",Yu);this.nodeName==="text"&&ap.selectAll("tspan.line").attr({x:sp,y:bp})})};function Hu(Xl,Wu,Yu){var ap=Yu.horizontalAlign,rp=Yu.verticalAlign||"top",sp=Xl.node().getBoundingClientRect(),bp=Wu.node().getBoundingClientRect(),Cp,Ap,Lu;return rp==="bottom"?Ap=function(){return sp.bottom-Cp.height}:rp==="middle"?Ap=function(){return sp.top+(sp.height-Cp.height)/2}:Ap=function(){return sp.top},ap==="right"?Lu=function(){return sp.right-Cp.width}:ap==="center"?Lu=function(){return sp.left+(sp.width-Cp.width)/2}:Lu=function(){return sp.left},function(){Cp=this.node().getBoundingClientRect();var Nu=Lu()-bp.left,Hl=Ap()-bp.top,qu=Yu.gd||{};if(Yu.gd){qu._fullLayout._calcInverseTransform(qu);var np=jt.apply3DTransform(qu._fullLayout._invTransform)(Nu,Hl);Nu=np[0],Hl=np[1]}return this.style({top:Hl+"px",left:Nu+"px","z-index":1e3}),this}}var Gu="1px ";yu.makeTextShadow=function(Xl){var Wu=Gu,Yu=Gu,ap=Gu;return Wu+Yu+ap+Xl+", -"+Wu+"-"+Yu+ap+Xl+", "+Wu+"-"+Yu+ap+Xl+", -"+Wu+Yu+ap+Xl},yu.makeEditable=function(Xl,Wu){var Yu=Wu.gd,ap=Wu.delegate,rp=hu.dispatch("edit","input","cancel"),sp=ap||Xl;if(Xl.style({"pointer-events":ap?"none":"all"}),Xl.size()!==1)throw new Error("boo");function bp(){Ap(),Xl.style({opacity:0});var Lu=sp.attr("class"),Nu;Lu?Nu="."+Lu.split(" ")[0]+"-math-group":Nu="[class*=-math-group]",Nu&&hu.select(Xl.node().parentNode).select(Nu).style({opacity:0})}function Cp(Lu){var Nu=Lu.node(),Hl=document.createRange();Hl.selectNodeContents(Nu);var qu=window.getSelection();qu.removeAllRanges(),qu.addRange(Hl),Nu.focus()}function Ap(){var Lu=hu.select(Yu),Nu=Lu.select(".svg-container"),Hl=Nu.append("div"),qu=Xl.node().style,np=parseFloat(qu.fontSize||12),vu=Wu.text;vu===void 0&&(vu=Xl.attr("data-unformatted")),Hl.classed("plugin-editable editable",!0).style({position:"absolute","font-family":qu.fontFamily||"Arial","font-size":np,color:Wu.fill||qu.fill||"black",opacity:1,"background-color":Wu.background||"transparent",outline:"#ffffff33 1px solid",margin:[-np/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(vu).call(Hu(Xl,Nu,Wu)).on("blur",function(){Yu._editing=!1,Xl.text(this.textContent).style({opacity:1});var Ol=hu.select(this).attr("class"),Wl;Ol?Wl="."+Ol.split(" ")[0]+"-math-group":Wl="[class*=-math-group]",Wl&&hu.select(Xl.node().parentNode).select(Wl).style({opacity:0});var Mu=this.textContent;hu.select(this).transition().duration(0).remove(),hu.select(document).on("mouseup",null),rp.edit.call(Xl,Mu)}).on("focus",function(){var Ol=this;Yu._editing=!0,hu.select(document).on("mouseup",function(){if(hu.event.target===Ol)return!1;document.activeElement===Hl.node()&&Hl.node().blur()})}).on("keyup",function(){hu.event.which===27?(Yu._editing=!1,Xl.style({opacity:1}),hu.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),rp.cancel.call(Xl,this.textContent)):(rp.input.call(Xl,this.textContent),hu.select(this).call(Hu(Xl,Nu,Wu)))}).on("keydown",function(){hu.event.which===13&&this.blur()}).call(Cp)}return Wu.immediate?bp():sp.on("click",bp),hu.rebind(Xl,rp,"on")}}),tv=a((yu,hu)=>{var jt=g(),it=Ju(),st=rt(),Ln=gu(),Ft=D0(),Fn=h0().isValid;function zn(Ml,Rl,Bn){var Cl=Rl?Ln.nestedProperty(Ml,Rl).get()||{}:Ml,Al=Cl[Bn||"color"];Al&&Al._inputArray&&(Al=Al._inputArray);var Il=!1;if(Ln.isArrayOrTypedArray(Al)){for(var $l=0;$l<Al.length;$l++)if(st(Al[$l])){Il=!0;break}}return Ln.isPlainObject(Cl)&&(Il||Cl.showscale===!0||st(Cl.cmin)&&st(Cl.cmax)||Fn(Cl.colorscale)||Ln.isPlainObject(Cl.colorbar))}var yl=["showscale","autocolorscale","colorscale","reversescale","colorbar"],ot=["min","max","mid","auto"];function _l(Ml){var Rl=Ml._colorAx,Bn=Rl||Ml,Cl={},Al,Il,$l;for(Il=0;Il<yl.length;Il++)$l=yl[Il],Cl[$l]=Bn[$l];if(Rl)for(Al="c",Il=0;Il<ot.length;Il++)$l=ot[Il],Cl[$l]=Bn["c"+$l];else{var Bu;for(Il=0;Il<ot.length;Il++){if($l=ot[Il],Bu="c"+$l,Bu in Bn){Cl[$l]=Bn[Bu];continue}Bu="z"+$l,Bu in Bn&&(Cl[$l]=Bn[Bu])}Al=Bu.charAt(0)}return Cl._sync=function(Jl,Kl){var Bl=ot.indexOf(Jl)!==-1?Al+Jl:Jl;Bn[Bl]=Bn["_"+Bl]=Kl},Cl}function ls(Ml){for(var Rl=_l(Ml),Bn=Rl.min,Cl=Rl.max,Al=Rl.reversescale?Sl(Rl.colorscale):Rl.colorscale,Il=Al.length,$l=new Array(Il),Bu=new Array(Il),Jl=0;Jl<Il;Jl++){var Kl=Al[Jl];$l[Jl]=Bn+Kl[0]*(Cl-Bn),Bu[Jl]=Kl[1]}return{domain:$l,range:Bu}}function Sl(Ml){for(var Rl=Ml.length,Bn=new Array(Rl),Cl=Rl-1,Al=0;Cl>=0;Cl--,Al++){var Il=Ml[Cl];Bn[Al]=[1-Il[0],Il[1]]}return Bn}function Pl(Ml,Rl){Rl=Rl||{};for(var Bn=Ml.domain,Cl=Ml.range,Al=Cl.length,Il=new Array(Al),$l=0;$l<Al;$l++){var Bu=it(Cl[$l]).toRgb();Il[$l]=[Bu.r,Bu.g,Bu.b,Bu.a]}var Jl=jt.scale.linear().domain(Bn).range(Il).clamp(!0),Kl=Rl.noNumericCheck,Bl=Rl.returnArray,$u;return Kl&&Bl?$u=Jl:Kl?$u=function(mu){return El(Jl(mu))}:Bl?$u=function(mu){return st(mu)?Jl(mu):it(mu).isValid()?mu:Ft.defaultLine}:$u=function(mu){return st(mu)?El(Jl(mu)):it(mu).isValid()?mu:Ft.defaultLine},$u.domain=Jl.domain,$u.range=function(){return Cl},$u}function Tl(Ml,Rl){return Pl(ls(Ml),Rl)}function El(Ml){var Rl={r:Ml[0],g:Ml[1],b:Ml[2],a:Ml[3]};return it(Rl).toRgbString()}hu.exports={hasColorscale:zn,extractOpts:_l,extractScale:ls,flipScale:Sl,makeColorScaleFunc:Pl,makeColorScaleFuncFromTrace:Tl}}),Qy=a((yu,hu)=>{var jt=my(),it=jt.FORMAT_LINK,st=jt.DATE_FORMAT_LINK;function Ln(zn,yl){return{valType:"string",dflt:"",editType:"none",description:(yl?Ft:Fn)("hover text",zn)+["By default the values are formatted using "+(yl?"generic number format":"`"+zn+"axis.hoverformat`")+"."].join(" ")}}function Ft(zn,yl){return["Sets the "+zn+" formatting rule"+(yl?"for `"+yl+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+it+"."].join(" ")}function Fn(zn,yl){return Ft(zn,yl)+[" And for dates see: "+st+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}hu.exports={axisHoverFormat:Ln,descriptionOnlyNumbers:Ft,descriptionWithDates:Fn}}),c0=a((yu,hu)=>{var jt=fp(),it=k0(),st=hv().dash,Ln=Uu().extendFlat,Ft=d1().templatedArray;$y().templateFormatStringDescription;var Fn=Qy().descriptionWithDates,zn=nt().ONEDAY,yl=E1(),ot=yl.HOUR_PATTERN,_l=yl.WEEKDAY_PATTERN,ls={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},Sl=Ln({},ls,{values:ls.values.slice().concat(["sync"])});function Pl(Kl){return{valType:"integer",min:0,dflt:Kl?5:0,editType:"ticks"}}var Tl={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},El={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},Ml={valType:"data_array",editType:"ticks"},Rl={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function Bn(Kl){var Bl={valType:"number",min:0,editType:"ticks"};return Kl||(Bl.dflt=5),Bl}function Cl(Kl){var Bl={valType:"number",min:0,editType:"ticks"};return Kl||(Bl.dflt=1),Bl}var Al={valType:"color",dflt:it.defaultLine,editType:"ticks"},Il={valType:"color",dflt:it.lightLine,editType:"ticks"};function $l(Kl){var Bl={valType:"number",min:0,editType:"ticks"};return Kl||(Bl.dflt=1),Bl}var Bu=Ln({},st,{editType:"ticks"}),Jl={valType:"boolean",editType:"ticks"};hu.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:it.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:jt({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[yl.idRegex.x.toString(),yl.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[yl.idRegex.x.toString(),yl.idRegex.y.toString()],editType:"calc"},rangebreaks:Ft("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[_l,ot,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:zn},editType:"calc"}),tickmode:Sl,nticks:Pl(),tick0:Tl,dtick:El,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:Ml,ticktext:{valType:"data_array",editType:"ticks"},ticks:Rl,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:Bn(),tickwidth:Cl(),tickcolor:Al,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:Ln({},st,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:jt({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B","SI extended"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:Fn("tick label")},tickformatstops:Ft("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:Fn("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none"},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:it.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:Jl,gridcolor:Il,gridwidth:$l(),griddash:Bu,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:it.defaultLine,editType:"ticks"},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:it.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",yl.idRegex.x.toString(),yl.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",yl.idRegex.x.toString(),yl.idRegex.y.toString()],editType:"plot"},minor:{tickmode:ls,nticks:Pl("minor"),tick0:Tl,dtick:El,tickvals:Ml,ticks:Rl,ticklen:Bn("minor"),tickwidth:Cl("minor"),tickcolor:Al,gridcolor:Il,gridwidth:$l("minor"),griddash:Bu,showgrid:Jl,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}),_t=a((yu,hu)=>{var jt=c0(),it=fp(),st=Uu().extendFlat,Ln=x1().overrideAll;hu.exports=Ln({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:jt.linecolor,outlinewidth:jt.linewidth,bordercolor:jt.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:jt.minor.tickmode,nticks:jt.nticks,tick0:jt.tick0,dtick:jt.dtick,tickvals:jt.tickvals,ticktext:jt.ticktext,ticks:st({},jt.ticks,{dflt:""}),ticklabeloverflow:st({},jt.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:jt.ticklen,tickwidth:jt.tickwidth,tickcolor:jt.tickcolor,ticklabelstep:jt.ticklabelstep,showticklabels:jt.showticklabels,labelalias:jt.labelalias,tickfont:it({}),tickangle:jt.tickangle,tickformat:jt.tickformat,tickformatstops:jt.tickformatstops,tickprefix:jt.tickprefix,showtickprefix:jt.showtickprefix,ticksuffix:jt.ticksuffix,showticksuffix:jt.showticksuffix,separatethousands:jt.separatethousands,exponentformat:jt.exponentformat,minexponent:jt.minexponent,showexponent:jt.showexponent,title:{text:{valType:"string"},font:it({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")}),wl=a((yu,hu)=>{var jt=_t(),it=dp().counter,st=L2(),Ln=h0().scales;st(Ln);function Ft(Fn){return"`"+Fn+"`"}hu.exports=function(Fn,zn){Fn=Fn||"",zn=zn||{};var yl=zn.cLetter||"c";"onlyIfNumerical"in zn&&zn.onlyIfNumerical;var ot="noScale"in zn?zn.noScale:Fn==="marker.line",_l="showScaleDflt"in zn?zn.showScaleDflt:yl==="z",ls=typeof zn.colorscaleDflt=="string"?Ln[zn.colorscaleDflt]:null,Sl=zn.editTypeOverride||"",Pl=Fn?Fn+".":"",Tl;"colorAttr"in zn?(Tl=zn.colorAttr,zn.colorAttr):(Tl={z:"z",c:"color"}[yl],""+Ft(Pl+Tl));var El=yl+"auto",Ml=yl+"min",Rl=yl+"max",Bn=yl+"mid",Cl={};Cl[Ml]=Cl[Rl]=void 0;var Al={};Al[El]=!1;var Il={};return Tl==="color"&&(Il.color={valType:"color",arrayOk:!0,editType:Sl||"style"},zn.anim&&(Il.color.anim=!0)),Il[El]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:Cl},Il[Ml]={valType:"number",dflt:null,editType:Sl||"plot",impliedEdits:Al},Il[Rl]={valType:"number",dflt:null,editType:Sl||"plot",impliedEdits:Al},Il[Bn]={valType:"number",dflt:null,editType:"calc",impliedEdits:Cl},Il.colorscale={valType:"colorscale",editType:"calc",dflt:ls,impliedEdits:{autocolorscale:!1}},Il.autocolorscale={valType:"boolean",dflt:zn.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},Il.reversescale={valType:"boolean",dflt:!1,editType:"plot"},ot||(Il.showscale={valType:"boolean",dflt:_l,editType:"calc"},Il.colorbar=jt),zn.noColorAxis||(Il.coloraxis={valType:"subplotid",regex:it("coloraxis"),dflt:null,editType:"calc"}),Il}}),zl=a((yu,hu)=>{var jt=Uu().extendFlat,it=wl(),st=h0().scales;hu.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:st.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:st.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:st.RdBu,editType:"calc"}},coloraxis:jt({_isSubplotObj:!0,editType:"calc"},it("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}}),Vl=a((yu,hu)=>{var jt=gu();hu.exports=function(it){return jt.isPlainObject(it.colorbar)}}),tp=a(yu=>{var hu=rt(),jt=gu(),it=nt(),st=it.ONEDAY,Ln=it.ONEWEEK;yu.dtick=function(Ft,Fn){var zn=Fn==="log",yl=Fn==="date",ot=Fn==="category",_l=yl?st:1;if(!Ft)return _l;if(hu(Ft))return Ft=Number(Ft),Ft<=0?_l:ot?Math.max(1,Math.round(Ft)):yl?Math.max(.1,Ft):Ft;if(typeof Ft!="string"||!(yl||zn))return _l;var ls=Ft.charAt(0),Sl=Ft.substr(1);return Sl=hu(Sl)?Number(Sl):0,Sl<=0||!(yl&&ls==="M"&&Sl===Math.round(Sl)||zn&&ls==="L"||zn&&ls==="D"&&(Sl===1||Sl===2))?_l:Ft},yu.tick0=function(Ft,Fn,zn,yl){if(Fn==="date")return jt.cleanDate(Ft,jt.dateTick0(zn,yl%Ln===0?1:0));if(!(yl==="D1"||yl==="D2"))return hu(Ft)?Number(Ft):0}}),Du=a((yu,hu)=>{var jt=tp(),it=gu().isArrayOrTypedArray,st=Ll().isTypedArraySpec,Ln=Ll().decodeTypedArraySpec;hu.exports=function(Ft,Fn,zn,yl,ot){ot||(ot={});var _l=ot.isMinor,ls=_l?Ft.minor||{}:Ft,Sl=_l?Fn.minor:Fn,Pl=_l?"minor.":"";function Tl($l){var Bu=ls[$l];return st(Bu)&&(Bu=Ln(Bu)),Bu!==void 0?Bu:(Sl._template||{})[$l]}var El=Tl("tick0"),Ml=Tl("dtick"),Rl=Tl("tickvals"),Bn=it(Rl)?"array":Ml?"linear":"auto",Cl=zn(Pl+"tickmode",Bn);if(Cl==="auto"||Cl==="sync")zn(Pl+"nticks");else if(Cl==="linear"){var Al=Sl.dtick=jt.dtick(Ml,yl);Sl.tick0=jt.tick0(El,yl,Fn.calendar,Al)}else if(yl!=="multicategory"){var Il=zn(Pl+"tickvals");Il===void 0?Sl.tickmode="auto":_l||zn("ticktext")}}}),lp=a((yu,hu)=>{var jt=gu(),it=c0();hu.exports=function(st,Ln,Ft,Fn){var zn=Fn.isMinor,yl=zn?st.minor||{}:st,ot=zn?Ln.minor:Ln,_l=zn?it.minor:it,ls=zn?"minor.":"",Sl=jt.coerce2(yl,ot,_l,"ticklen",zn?(Ln.ticklen||5)*.6:void 0),Pl=jt.coerce2(yl,ot,_l,"tickwidth",zn?Ln.tickwidth||1:void 0),Tl=jt.coerce2(yl,ot,_l,"tickcolor",(zn?Ln.tickcolor:void 0)||ot.color),El=Ft(ls+"ticks",!zn&&Fn.outerTicks||Sl||Pl||Tl?"outside":"");El||(delete ot.ticklen,delete ot.tickwidth,delete ot.tickcolor)}}),up=a((yu,hu)=>{hu.exports=function(jt){var it=["showexponent","showtickprefix","showticksuffix"],st=it.filter(function(Ft){return jt[Ft]!==void 0}),Ln=function(Ft){return jt[Ft]===jt[st[0]]};if(st.every(Ln)||st.length===1)return jt[st[0]]}}),_d=a((yu,hu)=>{var jt=gu(),it=d1();hu.exports=function(st,Ln,Ft){var Fn=Ft.name,zn=Ft.inclusionAttr||"visible",yl=Ln[Fn],ot=jt.isArrayOrTypedArray(st[Fn])?st[Fn]:[],_l=Ln[Fn]=[],ls=it.arrayTemplater(Ln,Fn,zn),Sl,Pl;for(Sl=0;Sl<ot.length;Sl++){var Tl=ot[Sl];jt.isPlainObject(Tl)?Pl=ls.newItem(Tl):(Pl=ls.newItem({}),Pl[zn]=!1),Pl._index=Sl,Pl[zn]!==!1&&Ft.handleItemDefaults(Tl,Pl,Ln,Ft),_l.push(Pl)}var El=ls.defaultItems();for(Sl=0;Sl<El.length;Sl++)Pl=El[Sl],Pl._index=_l.length,Ft.handleItemDefaults({},Pl,Ln,Ft,{}),_l.push(Pl);if(jt.isArrayOrTypedArray(yl)){var Ml=Math.min(yl.length,_l.length);for(Sl=0;Sl<Ml;Sl++)jt.relinkPrivateKeys(_l[Sl],yl[Sl])}return _l}}),gp=a((yu,hu)=>{var jt=gu(),it=D0().contrast,st=c0(),Ln=up(),Ft=_d();hu.exports=function(zn,yl,ot,_l,ls){ls||(ls={});var Sl=ot("labelalias");jt.isPlainObject(Sl)||delete yl.labelalias;var Pl=Ln(zn),Tl=ot("showticklabels");if(Tl){ls.noTicklabelshift||ot("ticklabelshift"),ls.noTicklabelstandoff||ot("ticklabelstandoff");var El=ls.font||{},Ml=yl.color,Rl=yl.ticklabelposition||"",Bn=Rl.indexOf("inside")!==-1?it(ls.bgColor):Ml&&Ml!==st.color.dflt?Ml:El.color;if(jt.coerceFont(ot,"tickfont",El,{overrideDflt:{color:Bn}}),!ls.noTicklabelstep&&_l!=="multicategory"&&_l!=="log"&&ot("ticklabelstep"),!ls.noAng){var Cl=ot("tickangle");!ls.noAutotickangles&&Cl==="auto"&&ot("autotickangles")}if(_l!=="category"){var Al=ot("tickformat");Ft(zn,yl,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:Fn}),yl.tickformatstops.length||delete yl.tickformatstops,!ls.noExp&&!Al&&_l!=="date"&&(ot("showexponent",Pl),ot("exponentformat"),ot("minexponent"),ot("separatethousands"))}!ls.noMinorloglabels&&_l==="log"&&ot("minorloglabels")}};function Fn(zn,yl){function ot(ls,Sl){return jt.coerce(zn,yl,st.tickformatstops,ls,Sl)}var _l=ot("enabled");_l&&(ot("dtickrange"),ot("value"))}}),mp=a((yu,hu)=>{var jt=up();hu.exports=function(it,st,Ln,Ft,Fn){Fn||(Fn={});var zn=Fn.tickSuffixDflt,yl=jt(it),ot=Ln("tickprefix");ot&&Ln("showtickprefix",yl);var _l=Ln("ticksuffix",zn);_l&&Ln("showticksuffix",yl)}}),Rp=a((yu,hu)=>{var jt=gu(),it=d1(),st=Du(),Ln=lp(),Ft=gp(),Fn=mp(),zn=_t();hu.exports=function(yl,ot,_l){var ls=it.newContainer(ot,"colorbar"),Sl=yl.colorbar||{};function Pl(Xl,Wu){return jt.coerce(Sl,ls,zn,Xl,Wu)}var Tl=_l.margin||{t:0,b:0,l:0,r:0},El=_l.width-Tl.l-Tl.r,Ml=_l.height-Tl.t-Tl.b,Rl=Pl("orientation"),Bn=Rl==="v",Cl=Pl("thicknessmode");Pl("thickness",Cl==="fraction"?30/(Bn?El:Ml):30);var Al=Pl("lenmode");Pl("len",Al==="fraction"?1:Bn?Ml:El);var Il=Pl("yref"),$l=Pl("xref"),Bu=Il==="paper",Jl=$l==="paper",Kl,Bl,$u,mu="left";Bn?($u="middle",mu=Jl?"left":"right",Kl=Jl?1.02:1,Bl=.5):($u=Bu?"bottom":"top",mu="center",Kl=.5,Bl=Bu?1.02:1),jt.coerce(Sl,ls,{x:{valType:"number",min:Jl?-2:0,max:Jl?3:1,dflt:Kl}},"x"),jt.coerce(Sl,ls,{y:{valType:"number",min:Bu?-2:0,max:Bu?3:1,dflt:Bl}},"y"),Pl("xanchor",mu),Pl("xpad"),Pl("yanchor",$u),Pl("ypad"),jt.noneOrAll(Sl,ls,["x","y"]),Pl("outlinecolor"),Pl("outlinewidth"),Pl("bordercolor"),Pl("borderwidth"),Pl("bgcolor");var Pu=jt.coerce(Sl,ls,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Bn?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");Pl("ticklabeloverflow",Pu.indexOf("inside")!==-1?"hide past domain":"hide past div"),st(Sl,ls,Pl,"linear");var bu=_l.font,Fu={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:bu};Pu.indexOf("inside")!==-1&&(Fu.bgColor="black"),Fn(Sl,ls,Pl,"linear",Fu),Ft(Sl,ls,Pl,"linear",Fu),Ln(Sl,ls,Pl,"linear",Fu),Pl("title.text",_l._dfltTitle.colorbar);var Hu=ls.showticklabels?ls.tickfont:bu,Gu=jt.extendFlat({},bu,{family:Hu.family,size:jt.bigFont(Hu.size)});jt.coerceFont(Pl,"title.font",Gu),Pl("title.side",Bn?"top":"right")}}),Ep=a((yu,hu)=>{var jt=rt(),it=gu(),st=Vl(),Ln=Rp(),Ft=h0().isValid,Fn=N1().traceIs;function zn(yl,ot){var _l=ot.slice(0,ot.length-1);return ot?it.nestedProperty(yl,_l).get()||{}:yl}hu.exports=function yl(ot,_l,ls,Sl,Pl){var Tl=Pl.prefix,El=Pl.cLetter,Ml="_module"in _l,Rl=zn(ot,Tl),Bn=zn(_l,Tl),Cl=zn(_l._template||{},Tl)||{},Al=function(){return delete ot.coloraxis,delete _l.coloraxis,yl(ot,_l,ls,Sl,Pl)};if(Ml){var Il=ls._colorAxes||{},$l=Sl(Tl+"coloraxis");if($l){var Bu=Fn(_l,"contour")&&it.nestedProperty(_l,"contours.coloring").get()||"heatmap",Jl=Il[$l];Jl?(Jl[2].push(Al),Jl[0]!==Bu&&(Jl[0]=!1,it.warn(["Ignoring coloraxis:",$l,"setting","as it is linked to incompatible colorscales."].join(" ")))):Il[$l]=[Bu,_l,[Al]];return}}var Kl=Rl[El+"min"],Bl=Rl[El+"max"],$u=jt(Kl)&&jt(Bl)&&Kl<Bl,mu=Sl(Tl+El+"auto",!$u);mu?Sl(Tl+El+"mid"):(Sl(Tl+El+"min"),Sl(Tl+El+"max"));var Pu=Rl.colorscale,bu=Cl.colorscale,Fu;if(Pu!==void 0&&(Fu=!Ft(Pu)),bu!==void 0&&(Fu=!Ft(bu)),Sl(Tl+"autocolorscale",Fu),Sl(Tl+"colorscale"),Sl(Tl+"reversescale"),Tl!=="marker.line."){var Hu;Tl&&Ml&&(Hu=st(Rl));var Gu=Sl(Tl+"showscale",Hu);Gu&&(Tl&&Cl&&(Bn._template=Cl),Ln(Rl,Bn,ls))}}}),wp=a((yu,hu)=>{var jt=gu(),it=d1(),st=zl(),Ln=Ep();hu.exports=function(Ft,Fn){function zn(El,Ml){return jt.coerce(Ft,Fn,st,El,Ml)}zn("colorscale.sequential"),zn("colorscale.sequentialminus"),zn("colorscale.diverging");var yl=Fn._colorAxes,ot,_l;function ls(El,Ml){return jt.coerce(ot,_l,st.coloraxis,El,Ml)}for(var Sl in yl){var Pl=yl[Sl];if(Pl[0])ot=Ft[Sl]||{},_l=it.newContainer(Fn,Sl,"coloraxis"),_l._name=Sl,Ln(ot,_l,Fn,ls,{prefix:"",cLetter:"c"});else{for(var Tl=0;Tl<Pl[2].length;Tl++)Pl[2][Tl]();delete Fn._colorAxes[Sl]}}}}),Tp=a((yu,hu)=>{var jt=gu(),it=tv().hasColorscale,st=tv().extractOpts;hu.exports=function(Ln,Ft){function Fn(Pl,Tl){var El=Pl["_"+Tl];El!==void 0&&(Pl[Tl]=El)}function zn(Pl,Tl){var El=Tl.container?jt.nestedProperty(Pl,Tl.container).get():Pl;if(El)if(El.coloraxis)El._colorAx=Ft[El.coloraxis];else{var Ml=st(El),Rl=Ml.auto;(Rl||Ml.min===void 0)&&Fn(El,Tl.min),(Rl||Ml.max===void 0)&&Fn(El,Tl.max),Ml.autocolorscale&&Fn(El,"colorscale")}}for(var yl=0;yl<Ln.length;yl++){var ot=Ln[yl],_l=ot._module.colorbar;if(_l)if(Array.isArray(_l))for(var ls=0;ls<_l.length;ls++)zn(ot,_l[ls]);else zn(ot,_l);it(ot,"marker.line")&&zn(ot,{container:"marker.line",min:"cmin",max:"cmax"})}for(var Sl in Ft._colorAxes)zn(Ft[Sl],{min:"cmin",max:"cmax"})}}),Mp=a((yu,hu)=>{var jt=rt(),it=gu(),st=tv().extractOpts;hu.exports=function(Ln,Ft,Fn){var zn=Ln._fullLayout,yl=Fn.vals,ot=Fn.containerStr,_l=ot?it.nestedProperty(Ft,ot).get():Ft,ls=st(_l),Sl=ls.auto!==!1,Pl=ls.min,Tl=ls.max,El=ls.mid,Ml=function(){return it.aggNums(Math.min,null,yl)},Rl=function(){return it.aggNums(Math.max,null,yl)};if(Pl===void 0?Pl=Ml():Sl&&(_l._colorAx&&jt(Pl)?Pl=Math.min(Pl,Ml()):Pl=Ml()),Tl===void 0?Tl=Rl():Sl&&(_l._colorAx&&jt(Tl)?Tl=Math.max(Tl,Rl()):Tl=Rl()),Sl&&El!==void 0&&(Tl-El>El-Pl?Pl=El-(Tl-El):Tl-El<El-Pl&&(Tl=El+(El-Pl))),Pl===Tl&&(Pl-=.5,Tl+=.5),ls._sync("min",Pl),ls._sync("max",Tl),ls.autocolorscale){var Bn;Pl*Tl<0?Bn=zn.colorscale.diverging:Pl>=0?Bn=zn.colorscale.sequential:Bn=zn.colorscale.sequentialminus,ls._sync("colorscale",Bn)}}}),Hp=a((yu,hu)=>{var jt=h0(),it=tv();hu.exports={moduleType:"component",name:"colorscale",attributes:wl(),layoutAttributes:zl(),supplyLayoutDefaults:wp(),handleDefaults:Ep(),crossTraceDefaults:Tp(),calc:Mp(),scales:jt.scales,defaultScale:jt.defaultScale,getScale:jt.get,isValidScale:jt.isValid,hasColorscale:it.hasColorscale,extractOpts:it.extractOpts,extractScale:it.extractScale,flipScale:it.flipScale,makeColorScaleFunc:it.makeColorScaleFunc,makeColorScaleFuncFromTrace:it.makeColorScaleFuncFromTrace}}),Qp=a((yu,hu)=>{var jt=gu(),it=Ll().isTypedArraySpec;hu.exports={hasLines:function(st){return st.visible&&st.mode&&st.mode.indexOf("lines")!==-1},hasMarkers:function(st){return st.visible&&(st.mode&&st.mode.indexOf("markers")!==-1||st.type==="splom")},hasText:function(st){return st.visible&&st.mode&&st.mode.indexOf("text")!==-1},isBubble:function(st){var Ln=st.marker;return jt.isPlainObject(Ln)&&(jt.isArrayOrTypedArray(Ln.size)||it(Ln.size))}}}),i0=a((yu,hu)=>{var jt=rt();hu.exports=function(it,st){st||(st=2);var Ln=it.marker,Ft=Ln.sizeref||1,Fn=Ln.sizemin||0,zn=Ln.sizemode==="area"?function(yl){return Math.sqrt(yl/Ft)}:function(yl){return yl/Ft};return function(yl){var ot=zn(yl/st);return jt(ot)&&ot>0?Math.max(ot,Fn):0}}}),w0=a(yu=>{var hu=gu();yu.getSubplot=function(Fn){return Fn.subplot||Fn.xaxis+Fn.yaxis||Fn.geo},yu.isTraceInSubplots=function(Fn,zn){if(Fn.type==="splom"){for(var yl=Fn.xaxes||[],ot=Fn.yaxes||[],_l=0;_l<yl.length;_l++)for(var ls=0;ls<ot.length;ls++)if(zn.indexOf(yl[_l]+ot[ls])!==-1)return!0;return!1}return zn.indexOf(yu.getSubplot(Fn))!==-1},yu.flat=function(Fn,zn){for(var yl=new Array(Fn.length),ot=0;ot<Fn.length;ot++)yl[ot]=zn;return yl},yu.p2c=function(Fn,zn){for(var yl=new Array(Fn.length),ot=0;ot<Fn.length;ot++)yl[ot]=Fn[ot].p2c(zn);return yl},yu.getDistanceFunction=function(Fn,zn,yl,ot){return Fn==="closest"?ot||yu.quadrature(zn,yl):Fn.charAt(0)==="x"?zn:yl},yu.getClosest=function(Fn,zn,yl){if(yl.index!==!1)yl.index>=0&&yl.index<Fn.length?yl.distance=0:yl.index=!1;else for(var ot=1/0,_l=Fn.length,ls=0;ls<_l;ls++)ot=zn(Fn[ls]),ot<=yl.distance&&(yl.index=ls,yl.distance=ot);return yl},yu.inbox=function(Fn,zn,yl){return Fn*zn<0||Fn===0?yl:1/0},yu.quadrature=function(Fn,zn){return function(yl){var ot=Fn(yl),_l=zn(yl);return Math.sqrt(ot*ot+_l*_l)}},yu.makeEventData=function(Fn,zn,yl){var ot="index"in Fn?Fn.index:Fn.pointNumber,_l={data:zn._input,fullData:zn,curveNumber:zn.index,pointNumber:ot};if(zn._indexToPoints){var ls=zn._indexToPoints[ot];ls.length===1?_l.pointIndex=ls[0]:_l.pointIndices=ls}else _l.pointIndex=ot;return zn._module.eventData?_l=zn._module.eventData(_l,Fn,zn,yl,ot):("xVal"in Fn?_l.x=Fn.xVal:"x"in Fn&&(_l.x=Fn.x),"yVal"in Fn?_l.y=Fn.yVal:"y"in Fn&&(_l.y=Fn.y),Fn.xa&&(_l.xaxis=Fn.xa),Fn.ya&&(_l.yaxis=Fn.ya),Fn.zLabelVal!==void 0&&(_l.z=Fn.zLabelVal)),yu.appendArrayPointValue(_l,zn,ot),_l},yu.appendArrayPointValue=function(Fn,zn,yl){var ot=zn._arrayAttrs;if(ot)for(var _l=0;_l<ot.length;_l++){var ls=ot[_l],Sl=it(ls);if(Fn[Sl]===void 0){var Pl=hu.nestedProperty(zn,ls).get(),Tl=st(Pl,yl);Tl!==void 0&&(Fn[Sl]=Tl)}}},yu.appendArrayMultiPointValues=function(Fn,zn,yl){var ot=zn._arrayAttrs;if(ot)for(var _l=0;_l<ot.length;_l++){var ls=ot[_l],Sl=it(ls);if(Fn[Sl]===void 0){for(var Pl=hu.nestedProperty(zn,ls).get(),Tl=new Array(yl.length),El=0;El<yl.length;El++)Tl[El]=st(Pl,yl[El]);Fn[Sl]=Tl}}};var jt={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function it(Fn){return jt[Fn]||Fn}function st(Fn,zn){if(Array.isArray(zn)){if(Array.isArray(Fn)&&Array.isArray(Fn[zn[0]]))return Fn[zn[0]][zn[1]]}else return Fn[zn]}var Ln={x:!0,y:!0},Ft={"x unified":!0,"y unified":!0};yu.isUnifiedHover=function(Fn){return typeof Fn!="string"?!1:!!Ft[Fn]},yu.isXYhover=function(Fn){return typeof Fn!="string"?!1:!!Ln[Fn]}}),m0=a((yu,hu)=>{hu.exports=st;var jt={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},it=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function st(Fn){var zn=[];return Fn.replace(it,function(yl,ot,_l){var ls=ot.toLowerCase();for(_l=Ft(_l),ls=="m"&&_l.length>2&&(zn.push([ot].concat(_l.splice(0,2))),ls="l",ot=ot=="m"?"l":"L");;){if(_l.length==jt[ls])return _l.unshift(ot),zn.push(_l);if(_l.length<jt[ls])throw new Error("malformed path data");zn.push([ot].concat(_l.splice(0,jt[ls])))}}),zn}var Ln=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function Ft(Fn){var zn=Fn.match(Ln);return zn?zn.map(Number):[]}}),B0=a((yu,hu)=>{var jt=m0(),it=function(El,Ml){return Ml?Math.round(El*(Ml=Math.pow(10,Ml)))/Ml:Math.round(El)},st="M0,0Z",Ln=Math.sqrt(2),Ft=Math.sqrt(3),Fn=Math.PI,zn=Math.cos,yl=Math.sin;hu.exports={circle:{n:0,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2),Cl="M"+Bn+",0A"+Bn+","+Bn+" 0 1,1 0,-"+Bn+"A"+Bn+","+Bn+" 0 0,1 "+Bn+",0Z";return Rl?Tl(Ml,Rl,Cl):Cl}},square:{n:1,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M"+Bn+","+Bn+"H-"+Bn+"V-"+Bn+"H"+Bn+"Z")}},diamond:{n:2,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.3,2);return Tl(Ml,Rl,"M"+Bn+",0L0,"+Bn+"L-"+Bn+",0L0,-"+Bn+"Z")}},cross:{n:3,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.4,2),Cl=it(El*1.2,2);return Tl(Ml,Rl,"M"+Cl+","+Bn+"H"+Bn+"V"+Cl+"H-"+Bn+"V"+Bn+"H-"+Cl+"V-"+Bn+"H-"+Bn+"V-"+Cl+"H"+Bn+"V-"+Bn+"H"+Cl+"Z")}},x:{n:4,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.8/Ln,2),Cl="l"+Bn+","+Bn,Al="l"+Bn+",-"+Bn,Il="l-"+Bn+",-"+Bn,$l="l-"+Bn+","+Bn;return Tl(Ml,Rl,"M0,"+Bn+Cl+Al+Il+Al+Il+$l+Il+$l+Cl+$l+Cl+"Z")}},"triangle-up":{n:5,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*2/Ft,2),Cl=it(El/2,2),Al=it(El,2);return Tl(Ml,Rl,"M-"+Bn+","+Cl+"H"+Bn+"L0,-"+Al+"Z")}},"triangle-down":{n:6,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*2/Ft,2),Cl=it(El/2,2),Al=it(El,2);return Tl(Ml,Rl,"M-"+Bn+",-"+Cl+"H"+Bn+"L0,"+Al+"Z")}},"triangle-left":{n:7,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*2/Ft,2),Cl=it(El/2,2),Al=it(El,2);return Tl(Ml,Rl,"M"+Cl+",-"+Bn+"V"+Bn+"L-"+Al+",0Z")}},"triangle-right":{n:8,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*2/Ft,2),Cl=it(El/2,2),Al=it(El,2);return Tl(Ml,Rl,"M-"+Cl+",-"+Bn+"V"+Bn+"L"+Al+",0Z")}},"triangle-ne":{n:9,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.6,2),Cl=it(El*1.2,2);return Tl(Ml,Rl,"M-"+Cl+",-"+Bn+"H"+Bn+"V"+Cl+"Z")}},"triangle-se":{n:10,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.6,2),Cl=it(El*1.2,2);return Tl(Ml,Rl,"M"+Bn+",-"+Cl+"V"+Bn+"H-"+Cl+"Z")}},"triangle-sw":{n:11,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.6,2),Cl=it(El*1.2,2);return Tl(Ml,Rl,"M"+Cl+","+Bn+"H-"+Bn+"V-"+Cl+"Z")}},"triangle-nw":{n:12,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.6,2),Cl=it(El*1.2,2);return Tl(Ml,Rl,"M-"+Bn+","+Cl+"V-"+Bn+"H"+Cl+"Z")}},pentagon:{n:13,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.951,2),Cl=it(El*.588,2),Al=it(-El,2),Il=it(El*-.309,2),$l=it(El*.809,2);return Tl(Ml,Rl,"M"+Bn+","+Il+"L"+Cl+","+$l+"H-"+Cl+"L-"+Bn+","+Il+"L0,"+Al+"Z")}},hexagon:{n:14,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2),Cl=it(El/2,2),Al=it(El*Ft/2,2);return Tl(Ml,Rl,"M"+Al+",-"+Cl+"V"+Cl+"L0,"+Bn+"L-"+Al+","+Cl+"V-"+Cl+"L0,-"+Bn+"Z")}},hexagon2:{n:15,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2),Cl=it(El/2,2),Al=it(El*Ft/2,2);return Tl(Ml,Rl,"M-"+Cl+","+Al+"H"+Cl+"L"+Bn+",0L"+Cl+",-"+Al+"H-"+Cl+"L-"+Bn+",0Z")}},octagon:{n:16,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.924,2),Cl=it(El*.383,2);return Tl(Ml,Rl,"M-"+Cl+",-"+Bn+"H"+Cl+"L"+Bn+",-"+Cl+"V"+Cl+"L"+Cl+","+Bn+"H-"+Cl+"L-"+Bn+","+Cl+"V-"+Cl+"Z")}},star:{n:17,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=El*1.4,Cl=it(Bn*.225,2),Al=it(Bn*.951,2),Il=it(Bn*.363,2),$l=it(Bn*.588,2),Bu=it(-Bn,2),Jl=it(Bn*-.309,2),Kl=it(Bn*.118,2),Bl=it(Bn*.809,2),$u=it(Bn*.382,2);return Tl(Ml,Rl,"M"+Cl+","+Jl+"H"+Al+"L"+Il+","+Kl+"L"+$l+","+Bl+"L0,"+$u+"L-"+$l+","+Bl+"L-"+Il+","+Kl+"L-"+Al+","+Jl+"H-"+Cl+"L0,"+Bu+"Z")}},hexagram:{n:18,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.66,2),Cl=it(El*.38,2),Al=it(El*.76,2);return Tl(Ml,Rl,"M-"+Al+",0l-"+Cl+",-"+Bn+"h"+Al+"l"+Cl+",-"+Bn+"l"+Cl+","+Bn+"h"+Al+"l-"+Cl+","+Bn+"l"+Cl+","+Bn+"h-"+Al+"l-"+Cl+","+Bn+"l-"+Cl+",-"+Bn+"h-"+Al+"Z")}},"star-triangle-up":{n:19,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*Ft*.8,2),Cl=it(El*.8,2),Al=it(El*1.6,2),Il=it(El*4,2),$l="A "+Il+","+Il+" 0 0 1 ";return Tl(Ml,Rl,"M-"+Bn+","+Cl+$l+Bn+","+Cl+$l+"0,-"+Al+$l+"-"+Bn+","+Cl+"Z")}},"star-triangle-down":{n:20,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*Ft*.8,2),Cl=it(El*.8,2),Al=it(El*1.6,2),Il=it(El*4,2),$l="A "+Il+","+Il+" 0 0 1 ";return Tl(Ml,Rl,"M"+Bn+",-"+Cl+$l+"-"+Bn+",-"+Cl+$l+"0,"+Al+$l+Bn+",-"+Cl+"Z")}},"star-square":{n:21,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.1,2),Cl=it(El*2,2),Al="A "+Cl+","+Cl+" 0 0 1 ";return Tl(Ml,Rl,"M-"+Bn+",-"+Bn+Al+"-"+Bn+","+Bn+Al+Bn+","+Bn+Al+Bn+",-"+Bn+Al+"-"+Bn+",-"+Bn+"Z")}},"star-diamond":{n:22,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.4,2),Cl=it(El*1.9,2),Al="A "+Cl+","+Cl+" 0 0 1 ";return Tl(Ml,Rl,"M-"+Bn+",0"+Al+"0,"+Bn+Al+Bn+",0"+Al+"0,-"+Bn+Al+"-"+Bn+",0Z")}},"diamond-tall":{n:23,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*.7,2),Cl=it(El*1.4,2);return Tl(Ml,Rl,"M0,"+Cl+"L"+Bn+",0L0,-"+Cl+"L-"+Bn+",0Z")}},"diamond-wide":{n:24,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.4,2),Cl=it(El*.7,2);return Tl(Ml,Rl,"M0,"+Cl+"L"+Bn+",0L0,-"+Cl+"L-"+Bn+",0Z")}},hourglass:{n:25,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M"+Bn+","+Bn+"H-"+Bn+"L"+Bn+",-"+Bn+"H-"+Bn+"Z")},noDot:!0},bowtie:{n:26,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M"+Bn+","+Bn+"V-"+Bn+"L-"+Bn+","+Bn+"V-"+Bn+"Z")},noDot:!0},"circle-cross":{n:27,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M0,"+Bn+"V-"+Bn+"M"+Bn+",0H-"+Bn+"M"+Bn+",0A"+Bn+","+Bn+" 0 1,1 0,-"+Bn+"A"+Bn+","+Bn+" 0 0,1 "+Bn+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2),Cl=it(El/Ln,2);return Tl(Ml,Rl,"M"+Cl+","+Cl+"L-"+Cl+",-"+Cl+"M"+Cl+",-"+Cl+"L-"+Cl+","+Cl+"M"+Bn+",0A"+Bn+","+Bn+" 0 1,1 0,-"+Bn+"A"+Bn+","+Bn+" 0 0,1 "+Bn+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M0,"+Bn+"V-"+Bn+"M"+Bn+",0H-"+Bn+"M"+Bn+","+Bn+"H-"+Bn+"V-"+Bn+"H"+Bn+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M"+Bn+","+Bn+"L-"+Bn+",-"+Bn+"M"+Bn+",-"+Bn+"L-"+Bn+","+Bn+"M"+Bn+","+Bn+"H-"+Bn+"V-"+Bn+"H"+Bn+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.3,2);return Tl(Ml,Rl,"M"+Bn+",0L0,"+Bn+"L-"+Bn+",0L0,-"+Bn+"ZM0,-"+Bn+"V"+Bn+"M-"+Bn+",0H"+Bn)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.3,2),Cl=it(El*.65,2);return Tl(Ml,Rl,"M"+Bn+",0L0,"+Bn+"L-"+Bn+",0L0,-"+Bn+"ZM-"+Cl+",-"+Cl+"L"+Cl+","+Cl+"M-"+Cl+","+Cl+"L"+Cl+",-"+Cl)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.4,2);return Tl(Ml,Rl,"M0,"+Bn+"V-"+Bn+"M"+Bn+",0H-"+Bn)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M"+Bn+","+Bn+"L-"+Bn+",-"+Bn+"M"+Bn+",-"+Bn+"L-"+Bn+","+Bn)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.2,2),Cl=it(El*.85,2);return Tl(Ml,Rl,"M0,"+Bn+"V-"+Bn+"M"+Bn+",0H-"+Bn+"M"+Cl+","+Cl+"L-"+Cl+",-"+Cl+"M"+Cl+",-"+Cl+"L-"+Cl+","+Cl)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El/2,2),Cl=it(El,2);return Tl(Ml,Rl,"M"+Bn+","+Cl+"V-"+Cl+"M"+(Bn-Cl)+",-"+Cl+"V"+Cl+"M"+Cl+","+Bn+"H-"+Cl+"M-"+Cl+","+(Bn-Cl)+"H"+Cl)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.2,2),Cl=it(El*1.6,2),Al=it(El*.8,2);return Tl(Ml,Rl,"M-"+Bn+","+Al+"L0,0M"+Bn+","+Al+"L0,0M0,-"+Cl+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.2,2),Cl=it(El*1.6,2),Al=it(El*.8,2);return Tl(Ml,Rl,"M-"+Bn+",-"+Al+"L0,0M"+Bn+",-"+Al+"L0,0M0,"+Cl+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.2,2),Cl=it(El*1.6,2),Al=it(El*.8,2);return Tl(Ml,Rl,"M"+Al+","+Bn+"L0,0M"+Al+",-"+Bn+"L0,0M-"+Cl+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.2,2),Cl=it(El*1.6,2),Al=it(El*.8,2);return Tl(Ml,Rl,"M-"+Al+","+Bn+"L0,0M-"+Al+",-"+Bn+"L0,0M"+Cl+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.4,2);return Tl(Ml,Rl,"M"+Bn+",0H-"+Bn)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*1.4,2);return Tl(Ml,Rl,"M0,"+Bn+"V-"+Bn)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M"+Bn+",-"+Bn+"L-"+Bn+","+Bn)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2);return Tl(Ml,Rl,"M"+Bn+","+Bn+"L-"+Bn+",-"+Bn)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2),Cl=it(El*2,2);return Tl(Ml,Rl,"M0,0L-"+Bn+","+Cl+"H"+Bn+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2),Cl=it(El*2,2);return Tl(Ml,Rl,"M0,0L-"+Bn+",-"+Cl+"H"+Bn+"Z")},noDot:!0},"arrow-left":{n:47,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*2,2),Cl=it(El,2);return Tl(Ml,Rl,"M0,0L"+Bn+",-"+Cl+"V"+Cl+"Z")},noDot:!0},"arrow-right":{n:48,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*2,2),Cl=it(El,2);return Tl(Ml,Rl,"M0,0L-"+Bn+",-"+Cl+"V"+Cl+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2),Cl=it(El*2,2);return Tl(Ml,Rl,"M-"+Bn+",0H"+Bn+"M0,0L-"+Bn+","+Cl+"H"+Bn+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El,2),Cl=it(El*2,2);return Tl(Ml,Rl,"M-"+Bn+",0H"+Bn+"M0,0L-"+Bn+",-"+Cl+"H"+Bn+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*2,2),Cl=it(El,2);return Tl(Ml,Rl,"M0,-"+Cl+"V"+Cl+"M0,0L"+Bn+",-"+Cl+"V"+Cl+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=it(El*2,2),Cl=it(El,2);return Tl(Ml,Rl,"M0,-"+Cl+"V"+Cl+"M0,0L-"+Bn+",-"+Cl+"V"+Cl+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=Fn/2.5,Cl=2*El*zn(Bn),Al=2*El*yl(Bn);return Tl(Ml,Rl,"M0,0L"+-Cl+","+Al+"L"+Cl+","+Al+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(El,Ml,Rl){if(ot(Ml))return st;var Bn=Fn/4,Cl=2*El*zn(Bn),Al=2*El*yl(Bn);return Tl(Ml,Rl,"M0,0L"+-Cl+","+Al+"A "+2*El+","+2*El+" 0 0 1 "+Cl+","+Al+"Z")},backoff:.4,noDot:!0}};function ot(El){return El===null}var _l,ls,Sl,Pl;function Tl(El,Ml,Rl){if((!El||El%360===0)&&!Ml)return Rl;if(Sl===El&&Pl===Ml&&_l===Rl)return ls;Sl=El,Pl=Ml,_l=Rl;function Bn(Fu,Hu){var Gu=zn(Fu),Xl=yl(Fu),Wu=Hu[0],Yu=Hu[1]+(Ml||0);return[Wu*Gu-Yu*Xl,Wu*Xl+Yu*Gu]}for(var Cl=El/180*Fn,Al=0,Il=0,$l=jt(Rl),Bu="",Jl=0;Jl<$l.length;Jl++){var Kl=$l[Jl],Bl=Kl[0],$u=Al,mu=Il;if(Bl==="M"||Bl==="L")Al=+Kl[1],Il=+Kl[2];else if(Bl==="m"||Bl==="l")Al+=+Kl[1],Il+=+Kl[2];else if(Bl==="H")Al=+Kl[1];else if(Bl==="h")Al+=+Kl[1];else if(Bl==="V")Il=+Kl[1];else if(Bl==="v")Il+=+Kl[1];else if(Bl==="A"){Al=+Kl[1],Il=+Kl[2];var Pu=Bn(Cl,[+Kl[6],+Kl[7]]);Kl[6]=Pu[0],Kl[7]=Pu[1],Kl[3]=+Kl[3]+El}(Bl==="H"||Bl==="V")&&(Bl="L"),(Bl==="h"||Bl==="v")&&(Bl="l"),(Bl==="m"||Bl==="l")&&(Al-=$u,Il-=mu);var bu=Bn(Cl,[Al,Il]);(Bl==="H"||Bl==="V")&&(Bl="L"),(Bl==="M"||Bl==="L"||Bl==="m"||Bl==="l")&&(Kl[1]=bu[0],Kl[2]=bu[1]),Kl[0]=Bl,Bu+=Kl[0]+Kl.slice(1).join(",")}return ls=Bu,Bu}}),q0=a((yu,hu)=>{var jt=g(),it=gu(),st=it.numberFormat,Ln=rt(),Ft=Ju(),Fn=N1(),zn=D0(),yl=Hp(),ot=it.strTranslate,_l=hy(),ls=Vv(),Sl=pv(),Pl=Sl.LINE_SPACING,Tl=s0().DESELECTDIM,El=Qp(),Ml=i0(),Rl=w0().appendArrayPointValue,Bn=hu.exports={};Bn.font=function(Sp,Fp){var cp=Fp.variant,jp=Fp.style,a0=Fp.weight,y0=Fp.color,P0=Fp.size,E0=Fp.family,O0=Fp.shadow,j0=Fp.lineposition,$0=Fp.textcase;E0&&Sp.style("font-family",E0),P0+1&&Sp.style("font-size",P0+"px"),y0&&Sp.call(zn.fill,y0),a0&&Sp.style("font-weight",a0),jp&&Sp.style("font-style",jp),cp&&Sp.style("font-variant",cp),$0&&Sp.style("text-transform",Cl(Il($0))),O0&&Sp.style("text-shadow",O0==="auto"?_l.makeTextShadow(zn.contrast(y0)):Cl(O0)),j0&&Sp.style("text-decoration-line",Cl($l(j0)))};function Cl(Sp){return Sp==="none"?void 0:Sp}var Al={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function Il(Sp){return Al[Sp]}function $l(Sp){return Sp.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}Bn.setPosition=function(Sp,Fp,cp){Sp.attr("x",Fp).attr("y",cp)},Bn.setSize=function(Sp,Fp,cp){Sp.attr("width",Fp).attr("height",cp)},Bn.setRect=function(Sp,Fp,cp,jp,a0){Sp.call(Bn.setPosition,Fp,cp).call(Bn.setSize,jp,a0)},Bn.translatePoint=function(Sp,Fp,cp,jp){var a0=cp.c2p(Sp.x),y0=jp.c2p(Sp.y);if(Ln(a0)&&Ln(y0)&&Fp.node())Fp.node().nodeName==="text"?Fp.attr("x",a0).attr("y",y0):Fp.attr("transform",ot(a0,y0));else return!1;return!0},Bn.translatePoints=function(Sp,Fp,cp){Sp.each(function(jp){var a0=jt.select(this);Bn.translatePoint(jp,a0,Fp,cp)})},Bn.hideOutsideRangePoint=function(Sp,Fp,cp,jp,a0,y0){Fp.attr("display",cp.isPtWithinRange(Sp,a0)&&jp.isPtWithinRange(Sp,y0)?null:"none")},Bn.hideOutsideRangePoints=function(Sp,Fp){if(Fp._hasClipOnAxisFalse){var cp=Fp.xaxis,jp=Fp.yaxis;Sp.each(function(a0){var y0=a0[0].trace,P0=y0.xcalendar,E0=y0.ycalendar,O0=Fn.traceIs(y0,"bar-like")?".bartext":".point,.textpoint";Sp.selectAll(O0).each(function(j0){Bn.hideOutsideRangePoint(j0,jt.select(this),cp,jp,P0,E0)})})}},Bn.crispRound=function(Sp,Fp,cp){return!Fp||!Ln(Fp)?cp||0:Sp._context.staticPlot?Fp:Fp<1?1:Math.round(Fp)},Bn.singleLineStyle=function(Sp,Fp,cp,jp,a0){Fp.style("fill","none");var y0=(((Sp||[])[0]||{}).trace||{}).line||{},P0=cp||y0.width||0,E0=a0||y0.dash||"";zn.stroke(Fp,jp||y0.color),Bn.dashLine(Fp,E0,P0)},Bn.lineGroupStyle=function(Sp,Fp,cp,jp){Sp.style("fill","none").each(function(a0){var y0=(((a0||[])[0]||{}).trace||{}).line||{},P0=Fp||y0.width||0,E0=jp||y0.dash||"";jt.select(this).call(zn.stroke,cp||y0.color).call(Bn.dashLine,E0,P0)})},Bn.dashLine=function(Sp,Fp,cp){cp=+cp||0,Fp=Bn.dashStyle(Fp,cp),Sp.style({"stroke-dasharray":Fp,"stroke-width":cp+"px"})},Bn.dashStyle=function(Sp,Fp){Fp=+Fp||1;var cp=Math.max(Fp,3);return Sp==="solid"?Sp="":Sp==="dot"?Sp=cp+"px,"+cp+"px":Sp==="dash"?Sp=3*cp+"px,"+3*cp+"px":Sp==="longdash"?Sp=5*cp+"px,"+5*cp+"px":Sp==="dashdot"?Sp=3*cp+"px,"+cp+"px,"+cp+"px,"+cp+"px":Sp==="longdashdot"&&(Sp=5*cp+"px,"+2*cp+"px,"+cp+"px,"+2*cp+"px"),Sp};function Bu(Sp,Fp,cp,jp){var a0=Fp.fillpattern,y0=Fp.fillgradient,P0=Bn.getPatternAttr,E0=a0&&(P0(a0.shape,0,"")||P0(a0.path,0,""));if(E0){var O0=P0(a0.bgcolor,0,null),j0=P0(a0.fgcolor,0,null),$0=a0.fgopacity,tm=P0(a0.size,0,8),A0=P0(a0.solidity,0,.3),sm=Fp.uid;Bn.pattern(Sp,"point",cp,sm,E0,tm,A0,void 0,a0.fillmode,O0,j0,$0)}else if(y0&&y0.type!=="none"){var pm=y0.type,nm="scatterfill-"+Fp.uid;if(jp&&(nm="legendfill-"+Fp.uid),!jp&&(y0.start!==void 0||y0.stop!==void 0)){var vm,kp;pm==="horizontal"?(vm={x:y0.start,y:0},kp={x:y0.stop,y:0}):pm==="vertical"&&(vm={x:0,y:y0.start},kp={x:0,y:y0.stop}),vm.x=Fp._xA.c2p(vm.x===void 0?Fp._extremes.x.min[0].val:vm.x,!0),vm.y=Fp._yA.c2p(vm.y===void 0?Fp._extremes.y.min[0].val:vm.y,!0),kp.x=Fp._xA.c2p(kp.x===void 0?Fp._extremes.x.max[0].val:kp.x,!0),kp.y=Fp._yA.c2p(kp.y===void 0?Fp._extremes.y.max[0].val:kp.y,!0),Sp.call(bu,cp,nm,"linear",y0.colorscale,"fill",vm,kp,!0,!1)}else pm==="horizontal"&&(pm=pm+"reversed"),Sp.call(Bn.gradient,cp,nm,pm,y0.colorscale,"fill")}else Fp.fillcolor&&Sp.call(zn.fill,Fp.fillcolor)}Bn.singleFillStyle=function(Sp,Fp){var cp=jt.select(Sp.node()),jp=cp.data(),a0=((jp[0]||[])[0]||{}).trace||{};Bu(Sp,a0,Fp,!1)},Bn.fillGroupStyle=function(Sp,Fp,cp){Sp.style("stroke-width",0).each(function(jp){var a0=jt.select(this);jp[0].trace&&Bu(a0,jp[0].trace,Fp,cp)})};var Jl=B0();Bn.symbolNames=[],Bn.symbolFuncs=[],Bn.symbolBackOffs=[],Bn.symbolNeedLines={},Bn.symbolNoDot={},Bn.symbolNoFill={},Bn.symbolList=[],Object.keys(Jl).forEach(function(Sp){var Fp=Jl[Sp],cp=Fp.n;Bn.symbolList.push(cp,String(cp),Sp,cp+100,String(cp+100),Sp+"-open"),Bn.symbolNames[cp]=Sp,Bn.symbolFuncs[cp]=Fp.f,Bn.symbolBackOffs[cp]=Fp.backoff||0,Fp.needLine&&(Bn.symbolNeedLines[cp]=!0),Fp.noDot?Bn.symbolNoDot[cp]=!0:Bn.symbolList.push(cp+200,String(cp+200),Sp+"-dot",cp+300,String(cp+300),Sp+"-open-dot"),Fp.noFill&&(Bn.symbolNoFill[cp]=!0)});var Kl=Bn.symbolNames.length,Bl="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";Bn.symbolNumber=function(Sp){if(Ln(Sp))Sp=+Sp;else if(typeof Sp=="string"){var Fp=0;Sp.indexOf("-open")>0&&(Fp=100,Sp=Sp.replace("-open","")),Sp.indexOf("-dot")>0&&(Fp+=200,Sp=Sp.replace("-dot","")),Sp=Bn.symbolNames.indexOf(Sp),Sp>=0&&(Sp+=Fp)}return Sp%100>=Kl||Sp>=400?0:Math.floor(Math.max(Sp,0))};function $u(Sp,Fp,cp,jp){var a0=Sp%100;return Bn.symbolFuncs[a0](Fp,cp,jp)+(Sp>=200?Bl:"")}var mu=st("~f"),Pu={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};Bn.gradient=function(Sp,Fp,cp,jp,a0,y0){var P0=Pu[jp];return bu(Sp,Fp,cp,P0.type,a0,y0,P0.start,P0.stop,!1,P0.reversed)};function bu(Sp,Fp,cp,jp,a0,y0,P0,E0,O0,j0){var $0=a0.length,tm;jp==="linear"?tm={node:"linearGradient",attrs:{x1:P0.x,y1:P0.y,x2:E0.x,y2:E0.y,gradientUnits:O0?"userSpaceOnUse":"objectBoundingBox"},reversed:j0}:jp==="radial"&&(tm={node:"radialGradient",reversed:j0});for(var A0=new Array($0),sm=0;sm<$0;sm++)tm.reversed?A0[$0-1-sm]=[mu((1-a0[sm][0])*100),a0[sm][1]]:A0[sm]=[mu(a0[sm][0]*100),a0[sm][1]];var pm=Fp._fullLayout,nm="g"+pm._uid+"-"+cp,vm=pm._defs.select(".gradients").selectAll("#"+nm).data([jp+A0.join(";")],it.identity);vm.exit().remove(),vm.enter().append(tm.node).each(function(){var kp=jt.select(this);tm.attrs&&kp.attr(tm.attrs),kp.attr("id",nm);var qp=kp.selectAll("stop").data(A0);qp.exit().remove(),qp.enter().append("stop"),qp.each(function(Xu){var hp=Ft(Xu[1]);jt.select(this).attr({offset:Xu[0]+"%","stop-color":zn.tinyRGB(hp),"stop-opacity":hp.getAlpha()})})}),Sp.style(y0,np(nm,Fp)).style(y0+"-opacity",null),Sp.classed("gradient_filled",!0)}Bn.pattern=function(Sp,Fp,cp,jp,a0,y0,P0,E0,O0,j0,$0,tm){var A0=Fp==="legend";E0&&(O0==="overlay"?(j0=E0,$0=zn.contrast(j0)):(j0=void 0,$0=E0));var sm=cp._fullLayout,pm="p"+sm._uid+"-"+jp,nm,vm,kp=function(U0,W0,Y0,gm,Dm){return gm+(Dm-gm)*(U0-W0)/(Y0-W0)},qp,Xu,hp,yp,Dp={},Bp=Ft($0),Jp=zn.tinyRGB(Bp),n0=Bp.getAlpha(),b0=tm*n0;switch(a0){case"/":nm=y0*Math.sqrt(2),vm=y0*Math.sqrt(2),qp="M-"+nm/4+","+vm/4+"l"+nm/2+",-"+vm/2+"M0,"+vm+"L"+nm+",0M"+nm/4*3+","+vm/4*5+"l"+nm/2+",-"+vm/2,Xu=P0*y0,yp="path",Dp={d:qp,opacity:b0,stroke:Jp,"stroke-width":Xu+"px"};break;case"\\":nm=y0*Math.sqrt(2),vm=y0*Math.sqrt(2),qp="M"+nm/4*3+",-"+vm/4+"l"+nm/2+","+vm/2+"M0,0L"+nm+","+vm+"M-"+nm/4+","+vm/4*3+"l"+nm/2+","+vm/2,Xu=P0*y0,yp="path",Dp={d:qp,opacity:b0,stroke:Jp,"stroke-width":Xu+"px"};break;case"x":nm=y0*Math.sqrt(2),vm=y0*Math.sqrt(2),qp="M-"+nm/4+","+vm/4+"l"+nm/2+",-"+vm/2+"M0,"+vm+"L"+nm+",0M"+nm/4*3+","+vm/4*5+"l"+nm/2+",-"+vm/2+"M"+nm/4*3+",-"+vm/4+"l"+nm/2+","+vm/2+"M0,0L"+nm+","+vm+"M-"+nm/4+","+vm/4*3+"l"+nm/2+","+vm/2,Xu=y0-y0*Math.sqrt(1-P0),yp="path",Dp={d:qp,opacity:b0,stroke:Jp,"stroke-width":Xu+"px"};break;case"|":nm=y0,vm=y0,yp="path",qp="M"+nm/2+",0L"+nm/2+","+vm,Xu=P0*y0,yp="path",Dp={d:qp,opacity:b0,stroke:Jp,"stroke-width":Xu+"px"};break;case"-":nm=y0,vm=y0,yp="path",qp="M0,"+vm/2+"L"+nm+","+vm/2,Xu=P0*y0,yp="path",Dp={d:qp,opacity:b0,stroke:Jp,"stroke-width":Xu+"px"};break;case"+":nm=y0,vm=y0,yp="path",qp="M"+nm/2+",0L"+nm/2+","+vm+"M0,"+vm/2+"L"+nm+","+vm/2,Xu=y0-y0*Math.sqrt(1-P0),yp="path",Dp={d:qp,opacity:b0,stroke:Jp,"stroke-width":Xu+"px"};break;case".":nm=y0,vm=y0,P0<Math.PI/4?hp=Math.sqrt(P0*y0*y0/Math.PI):hp=kp(P0,Math.PI/4,1,y0/2,y0/Math.sqrt(2)),yp="circle",Dp={cx:nm/2,cy:vm/2,r:hp,opacity:b0,fill:Jp};break;default:nm=y0,vm=y0,yp="path",Dp={d:a0,opacity:b0,fill:Jp};break}var v0=[a0||"noSh",j0||"noBg",$0||"noFg",y0,P0].join(";"),x0=sm._defs.select(".patterns").selectAll("#"+pm).data([v0],it.identity);x0.exit().remove(),x0.enter().append("pattern").each(function(){var U0=jt.select(this);if(U0.attr({id:pm,width:nm+"px",height:vm+"px",patternUnits:"userSpaceOnUse",patternTransform:A0?"scale(0.8)":""}),j0){var W0=Ft(j0),Y0=zn.tinyRGB(W0),gm=W0.getAlpha(),Dm=U0.selectAll("rect").data([0]);Dm.exit().remove(),Dm.enter().append("rect").attr({width:nm+"px",height:vm+"px",fill:Y0,"fill-opacity":gm})}var Jm=U0.selectAll(yp).data([0]);Jm.exit().remove(),Jm.enter().append(yp).attr(Dp)}),Sp.style("fill",np(pm,cp)).style("fill-opacity",null),Sp.classed("pattern_filled",!0)},Bn.initGradients=function(Sp){var Fp=Sp._fullLayout,cp=it.ensureSingle(Fp._defs,"g","gradients");cp.selectAll("linearGradient,radialGradient").remove(),jt.select(Sp).selectAll(".gradient_filled").classed("gradient_filled",!1)},Bn.initPatterns=function(Sp){var Fp=Sp._fullLayout,cp=it.ensureSingle(Fp._defs,"g","patterns");cp.selectAll("pattern").remove(),jt.select(Sp).selectAll(".pattern_filled").classed("pattern_filled",!1)},Bn.getPatternAttr=function(Sp,Fp,cp){return Sp&&it.isArrayOrTypedArray(Sp)?Fp<Sp.length?Sp[Fp]:cp:Sp},Bn.pointStyle=function(Sp,Fp,cp,jp){if(Sp.size()){var a0=Bn.makePointStyleFns(Fp);Sp.each(function(y0){Bn.singlePointStyle(y0,jt.select(this),Fp,a0,cp,jp)})}},Bn.singlePointStyle=function(Sp,Fp,cp,jp,a0,y0){var P0=cp.marker,E0=P0.line;if(y0&&y0.i>=0&&Sp.i===void 0&&(Sp.i=y0.i),Fp.style("opacity",jp.selectedOpacityFn?jp.selectedOpacityFn(Sp):Sp.mo===void 0?P0.opacity:Sp.mo),jp.ms2mrc){var O0;Sp.ms==="various"||P0.size==="various"?O0=3:O0=jp.ms2mrc(Sp.ms),Sp.mrc=O0,jp.selectedSizeFn&&(O0=Sp.mrc=jp.selectedSizeFn(Sp));var j0=Bn.symbolNumber(Sp.mx||P0.symbol)||0;Sp.om=j0%200>=100;var $0=d0(Sp,cp),tm=Wl(Sp,cp);Fp.attr("d",$u(j0,O0,$0,tm))}var A0=!1,sm,pm,nm;if(Sp.so)nm=E0.outlierwidth,pm=E0.outliercolor,sm=P0.outliercolor;else{var vm=(E0||{}).width;nm=(Sp.mlw+1||vm+1||(Sp.trace?(Sp.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Sp?pm=Sp.mlcc=jp.lineScale(Sp.mlc):it.isArrayOrTypedArray(E0.color)?pm=zn.defaultLine:pm=E0.color,it.isArrayOrTypedArray(P0.color)&&(sm=zn.defaultLine,A0=!0),"mc"in Sp?sm=Sp.mcc=jp.markerScale(Sp.mc):sm=P0.color||P0.colors||"rgba(0,0,0,0)",jp.selectedColorFn&&(sm=jp.selectedColorFn(Sp))}if(Sp.om)Fp.call(zn.stroke,sm).style({"stroke-width":(nm||1)+"px",fill:"none"});else{Fp.style("stroke-width",(Sp.isBlank?0:nm)+"px");var kp=P0.gradient,qp=Sp.mgt;qp?A0=!0:qp=kp&&kp.type,it.isArrayOrTypedArray(qp)&&(qp=qp[0],Pu[qp]||(qp=0));var Xu=P0.pattern,hp=Bn.getPatternAttr,yp=Xu&&(hp(Xu.shape,Sp.i,"")||hp(Xu.path,Sp.i,""));if(qp&&qp!=="none"){var Dp=Sp.mgc;Dp?A0=!0:Dp=kp.color;var Bp=cp.uid;A0&&(Bp+="-"+Sp.i),Bn.gradient(Fp,a0,Bp,qp,[[0,Dp],[1,sm]],"fill")}else if(yp){var Jp=!1,n0=Xu.fgcolor;!n0&&y0&&y0.color&&(n0=y0.color,Jp=!0);var b0=hp(n0,Sp.i,y0&&y0.color||null),v0=hp(Xu.bgcolor,Sp.i,null),x0=Xu.fgopacity,U0=hp(Xu.size,Sp.i,8),W0=hp(Xu.solidity,Sp.i,.3);Jp=Jp||Sp.mcc||it.isArrayOrTypedArray(Xu.shape)||it.isArrayOrTypedArray(Xu.path)||it.isArrayOrTypedArray(Xu.bgcolor)||it.isArrayOrTypedArray(Xu.fgcolor)||it.isArrayOrTypedArray(Xu.size)||it.isArrayOrTypedArray(Xu.solidity);var Y0=cp.uid;Jp&&(Y0+="-"+Sp.i),Bn.pattern(Fp,"point",a0,Y0,yp,U0,W0,Sp.mcc,Xu.fillmode,v0,b0,x0)}else it.isArrayOrTypedArray(sm)?zn.fill(Fp,sm[Sp.i]):zn.fill(Fp,sm);nm&&zn.stroke(Fp,pm)}},Bn.makePointStyleFns=function(Sp){var Fp={},cp=Sp.marker;return Fp.markerScale=Bn.tryColorscale(cp,""),Fp.lineScale=Bn.tryColorscale(cp,"line"),Fn.traceIs(Sp,"symbols")&&(Fp.ms2mrc=El.isBubble(Sp)?Ml(Sp):function(){return(cp.size||6)/2}),Sp.selectedpoints&&it.extendFlat(Fp,Bn.makeSelectedPointStyleFns(Sp)),Fp},Bn.makeSelectedPointStyleFns=function(Sp){var Fp={},cp=Sp.selected||{},jp=Sp.unselected||{},a0=Sp.marker||{},y0=cp.marker||{},P0=jp.marker||{},E0=a0.opacity,O0=y0.opacity,j0=P0.opacity,$0=O0!==void 0,tm=j0!==void 0;(it.isArrayOrTypedArray(E0)||$0||tm)&&(Fp.selectedOpacityFn=function(hp){var yp=hp.mo===void 0?a0.opacity:hp.mo;return hp.selected?$0?O0:yp:tm?j0:Tl*yp});var A0=a0.color,sm=y0.color,pm=P0.color;(sm||pm)&&(Fp.selectedColorFn=function(hp){var yp=hp.mcc||A0;return hp.selected?sm||yp:pm||yp});var nm=a0.size,vm=y0.size,kp=P0.size,qp=vm!==void 0,Xu=kp!==void 0;return Fn.traceIs(Sp,"symbols")&&(qp||Xu)&&(Fp.selectedSizeFn=function(hp){var yp=hp.mrc||nm/2;return hp.selected?qp?vm/2:yp:Xu?kp/2:yp}),Fp},Bn.makeSelectedTextStyleFns=function(Sp){var Fp={},cp=Sp.selected||{},jp=Sp.unselected||{},a0=Sp.textfont||{},y0=cp.textfont||{},P0=jp.textfont||{},E0=a0.color,O0=y0.color,j0=P0.color;return Fp.selectedTextColorFn=function($0){var tm=$0.tc||E0;return $0.selected?O0||tm:j0||(O0?tm:zn.addOpacity(tm,Tl))},Fp},Bn.selectedPointStyle=function(Sp,Fp){if(!(!Sp.size()||!Fp.selectedpoints)){var cp=Bn.makeSelectedPointStyleFns(Fp),jp=Fp.marker||{},a0=[];cp.selectedOpacityFn&&a0.push(function(y0,P0){y0.style("opacity",cp.selectedOpacityFn(P0))}),cp.selectedColorFn&&a0.push(function(y0,P0){zn.fill(y0,cp.selectedColorFn(P0))}),cp.selectedSizeFn&&a0.push(function(y0,P0){var E0=P0.mx||jp.symbol||0,O0=cp.selectedSizeFn(P0);y0.attr("d",$u(Bn.symbolNumber(E0),O0,d0(P0,Fp),Wl(P0,Fp))),P0.mrc2=O0}),a0.length&&Sp.each(function(y0){for(var P0=jt.select(this),E0=0;E0<a0.length;E0++)a0[E0](P0,y0)})}},Bn.tryColorscale=function(Sp,Fp){var cp=Fp?it.nestedProperty(Sp,Fp).get():Sp;if(cp){var jp=cp.color;if((cp.colorscale||cp._colorAx)&&it.isArrayOrTypedArray(jp))return yl.makeColorScaleFuncFromTrace(cp)}return it.identity};var Fu={start:1,end:-1,middle:0,bottom:1,top:-1};function Hu(Sp,Fp,cp,jp,a0){var y0=jt.select(Sp.node().parentNode),P0=Fp.indexOf("top")!==-1?"top":Fp.indexOf("bottom")!==-1?"bottom":"middle",E0=Fp.indexOf("left")!==-1?"end":Fp.indexOf("right")!==-1?"start":"middle",O0=jp?jp/.8+1:0,j0=(_l.lineCount(Sp)-1)*Pl+1,$0=Fu[E0]*O0,tm=cp*.75+Fu[P0]*O0+(Fu[P0]-1)*j0*cp/2;Sp.attr("text-anchor",E0),a0||y0.attr("transform",ot($0,tm))}function Gu(Sp,Fp){var cp=Sp.ts||Fp.textfont.size;return Ln(cp)&&cp>0?cp:0}Bn.textPointStyle=function(Sp,Fp,cp){if(Sp.size()){var jp;if(Fp.selectedpoints){var a0=Bn.makeSelectedTextStyleFns(Fp);jp=a0.selectedTextColorFn}var y0=Fp.texttemplate,P0=cp._fullLayout;Sp.each(function(E0){var O0=jt.select(this),j0=y0?it.extractOption(E0,Fp,"txt","texttemplate"):it.extractOption(E0,Fp,"tx","text");if(!j0&&j0!==0){O0.remove();return}if(y0){var $0=Fp._module.formatLabels,tm=$0?$0(E0,Fp,P0):{},A0={};Rl(A0,Fp,E0.i);var sm=Fp._meta||{};j0=it.texttemplateString(j0,tm,P0._d3locale,A0,E0,sm)}var pm=E0.tp||Fp.textposition,nm=Gu(E0,Fp),vm=jp?jp(E0):E0.tc||Fp.textfont.color;O0.call(Bn.font,{family:E0.tf||Fp.textfont.family,weight:E0.tw||Fp.textfont.weight,style:E0.ty||Fp.textfont.style,variant:E0.tv||Fp.textfont.variant,textcase:E0.tC||Fp.textfont.textcase,lineposition:E0.tE||Fp.textfont.lineposition,shadow:E0.tS||Fp.textfont.shadow,size:nm,color:vm}).text(j0).call(_l.convertToTspans,cp).call(Hu,pm,nm,E0.mrc)})}},Bn.selectedTextStyle=function(Sp,Fp){if(!(!Sp.size()||!Fp.selectedpoints)){var cp=Bn.makeSelectedTextStyleFns(Fp);Sp.each(function(jp){var a0=jt.select(this),y0=cp.selectedTextColorFn(jp),P0=jp.tp||Fp.textposition,E0=Gu(jp,Fp);zn.fill(a0,y0);var O0=Fn.traceIs(Fp,"bar-like");Hu(a0,P0,E0,jp.mrc2||jp.mrc,O0)})}};var Xl=.5;Bn.smoothopen=function(Sp,Fp){if(Sp.length<3)return"M"+Sp.join("L");var cp="M"+Sp[0],jp=[],a0;for(a0=1;a0<Sp.length-1;a0++)jp.push(bp(Sp[a0-1],Sp[a0],Sp[a0+1],Fp));for(cp+="Q"+jp[0][0]+" "+Sp[1],a0=2;a0<Sp.length-1;a0++)cp+="C"+jp[a0-2][1]+" "+jp[a0-1][0]+" "+Sp[a0];return cp+="Q"+jp[Sp.length-3][1]+" "+Sp[Sp.length-1],cp},Bn.smoothclosed=function(Sp,Fp){if(Sp.length<3)return"M"+Sp.join("L")+"Z";var cp="M"+Sp[0],jp=Sp.length-1,a0=[bp(Sp[jp],Sp[0],Sp[1],Fp)],y0;for(y0=1;y0<jp;y0++)a0.push(bp(Sp[y0-1],Sp[y0],Sp[y0+1],Fp));for(a0.push(bp(Sp[jp-1],Sp[jp],Sp[0],Fp)),y0=1;y0<=jp;y0++)cp+="C"+a0[y0-1][1]+" "+a0[y0][0]+" "+Sp[y0];return cp+="C"+a0[jp][1]+" "+a0[0][0]+" "+Sp[0]+"Z",cp};var Wu,Yu;function ap(Sp,Fp,cp){return cp&&(Sp=Lu(Sp)),Fp?sp(Sp[1]):rp(Sp[0])}function rp(Sp){var Fp=jt.round(Sp,2);return Wu=Fp,Fp}function sp(Sp){var Fp=jt.round(Sp,2);return Yu=Fp,Fp}function bp(Sp,Fp,cp,jp){var a0=Sp[0]-Fp[0],y0=Sp[1]-Fp[1],P0=cp[0]-Fp[0],E0=cp[1]-Fp[1],O0=Math.pow(a0*a0+y0*y0,Xl/2),j0=Math.pow(P0*P0+E0*E0,Xl/2),$0=(j0*j0*a0-O0*O0*P0)*jp,tm=(j0*j0*y0-O0*O0*E0)*jp,A0=3*j0*(O0+j0),sm=3*O0*(O0+j0);return[[rp(Fp[0]+(A0&&$0/A0)),sp(Fp[1]+(A0&&tm/A0))],[rp(Fp[0]-(sm&&$0/sm)),sp(Fp[1]-(sm&&tm/sm))]]}var Cp={hv:function(Sp,Fp,cp){return"H"+rp(Fp[0])+"V"+ap(Fp,1,cp)},vh:function(Sp,Fp,cp){return"V"+sp(Fp[1])+"H"+ap(Fp,0,cp)},hvh:function(Sp,Fp,cp){return"H"+rp((Sp[0]+Fp[0])/2)+"V"+sp(Fp[1])+"H"+ap(Fp,0,cp)},vhv:function(Sp,Fp,cp){return"V"+sp((Sp[1]+Fp[1])/2)+"H"+rp(Fp[0])+"V"+ap(Fp,1,cp)}},Ap=function(Sp,Fp,cp){return"L"+ap(Fp,0,cp)+","+ap(Fp,1,cp)};Bn.steps=function(Sp){var Fp=Cp[Sp]||Ap;return function(cp){for(var jp="M"+rp(cp[0][0])+","+sp(cp[0][1]),a0=cp.length,y0=1;y0<a0;y0++)jp+=Fp(cp[y0-1],cp[y0],y0===a0-1);return jp}};function Lu(Sp,Fp){var cp=Sp.backoff,jp=Sp.trace,a0=Sp.d,y0=Sp.i;if(cp&&jp&&jp.marker&&jp.marker.angle%360===0&&jp.line&&jp.line.shape!=="spline"){var P0=it.isArrayOrTypedArray(cp),E0=Sp,O0=Fp?Fp[0]:Wu||0,j0=Fp?Fp[1]:Yu||0,$0=E0[0],tm=E0[1],A0=$0-O0,sm=tm-j0,pm=Math.atan2(sm,A0),nm=P0?cp[y0]:cp;if(nm==="auto"){var vm=E0.i;jp.type==="scatter"&&vm--;var kp=E0.marker,qp=kp.symbol;it.isArrayOrTypedArray(qp)&&(qp=qp[vm]);var Xu=kp.size;it.isArrayOrTypedArray(Xu)&&(Xu=Xu[vm]),nm=kp?Bn.symbolBackOffs[Bn.symbolNumber(qp)]*Xu:0,nm+=Bn.getMarkerStandoff(a0[vm],jp)||0}var hp=$0-nm*Math.cos(pm),yp=tm-nm*Math.sin(pm);(hp<=$0&&hp>=O0||hp>=$0&&hp<=O0)&&(yp<=tm&&yp>=j0||yp>=tm&&yp<=j0)&&(Sp=[hp,yp])}return Sp}Bn.applyBackoff=Lu,Bn.makeTester=function(){var Sp=it.ensureSingleById(jt.select("body"),"svg","js-plotly-tester",function(cp){cp.attr(ls.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Fp=it.ensureSingle(Sp,"path","js-reference-point",function(cp){cp.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});Bn.tester=Sp,Bn.testref=Fp},Bn.savedBBoxes={};var Nu=0,Hl=1e4;Bn.bBox=function(Sp,Fp,cp){cp||(cp=qu(Sp));var jp;if(cp){if(jp=Bn.savedBBoxes[cp],jp)return it.extendFlat({},jp)}else if(Sp.childNodes.length===1){var a0=Sp.childNodes[0];if(cp=qu(a0),cp){var y0=+a0.getAttribute("x")||0,P0=+a0.getAttribute("y")||0,E0=a0.getAttribute("transform");if(!E0){var O0=Bn.bBox(a0,!1,cp);return y0&&(O0.left+=y0,O0.right+=y0),P0&&(O0.top+=P0,O0.bottom+=P0),O0}if(cp+="~"+y0+"~"+P0+"~"+E0,jp=Bn.savedBBoxes[cp],jp)return it.extendFlat({},jp)}}var j0,$0;Fp?j0=Sp:($0=Bn.tester.node(),j0=Sp.cloneNode(!0),$0.appendChild(j0)),jt.select(j0).attr("transform",null).call(_l.positionText,0,0);var tm=j0.getBoundingClientRect(),A0=Bn.testref.node().getBoundingClientRect();Fp||$0.removeChild(j0);var sm={height:tm.height,width:tm.width,left:tm.left-A0.left,top:tm.top-A0.top,right:tm.right-A0.left,bottom:tm.bottom-A0.top};return Nu>=Hl&&(Bn.savedBBoxes={},Nu=0),cp&&(Bn.savedBBoxes[cp]=sm),Nu++,it.extendFlat({},sm)};function qu(Sp){var Fp=Sp.getAttribute("data-unformatted");if(Fp!==null)return Fp+Sp.getAttribute("data-math")+Sp.getAttribute("text-anchor")+Sp.getAttribute("style")}Bn.setClipUrl=function(Sp,Fp,cp){Sp.attr("clip-path",np(Fp,cp))};function np(Sp,Fp){if(!Sp)return null;var cp=Fp._context,jp=cp._exportedPlot?"":cp._baseUrl||"";return jp?"url('"+jp+"#"+Sp+"')":"url(#"+Sp+")"}Bn.getTranslate=function(Sp){var Fp=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,cp=Sp.attr?"attr":"getAttribute",jp=Sp[cp]("transform")||"",a0=jp.replace(Fp,function(y0,P0,E0){return[P0,E0].join(" ")}).split(" ");return{x:+a0[0]||0,y:+a0[1]||0}},Bn.setTranslate=function(Sp,Fp,cp){var jp=/(\btranslate\(.*?\);?)/,a0=Sp.attr?"attr":"getAttribute",y0=Sp.attr?"attr":"setAttribute",P0=Sp[a0]("transform")||"";return Fp=Fp||0,cp=cp||0,P0=P0.replace(jp,"").trim(),P0+=ot(Fp,cp),P0=P0.trim(),Sp[y0]("transform",P0),P0},Bn.getScale=function(Sp){var Fp=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,cp=Sp.attr?"attr":"getAttribute",jp=Sp[cp]("transform")||"",a0=jp.replace(Fp,function(y0,P0,E0){return[P0,E0].join(" ")}).split(" ");return{x:+a0[0]||1,y:+a0[1]||1}},Bn.setScale=function(Sp,Fp,cp){var jp=/(\bscale\(.*?\);?)/,a0=Sp.attr?"attr":"getAttribute",y0=Sp.attr?"attr":"setAttribute",P0=Sp[a0]("transform")||"";return Fp=Fp||1,cp=cp||1,P0=P0.replace(jp,"").trim(),P0+="scale("+Fp+","+cp+")",P0=P0.trim(),Sp[y0]("transform",P0),P0};var vu=/\s*sc.*/;Bn.setPointGroupScale=function(Sp,Fp,cp){if(Fp=Fp||1,cp=cp||1,!!Sp){var jp=Fp===1&&cp===1?"":"scale("+Fp+","+cp+")";Sp.each(function(){var a0=(this.getAttribute("transform")||"").replace(vu,"");a0+=jp,a0=a0.trim(),this.setAttribute("transform",a0)})}};var Ol=/translate\([^)]*\)\s*$/;Bn.setTextPointsScale=function(Sp,Fp,cp){Sp&&Sp.each(function(){var jp,a0=jt.select(this),y0=a0.select("text");if(y0.node()){var P0=parseFloat(y0.attr("x")||0),E0=parseFloat(y0.attr("y")||0),O0=(a0.attr("transform")||"").match(Ol);Fp===1&&cp===1?jp=[]:jp=[ot(P0,E0),"scale("+Fp+","+cp+")",ot(-P0,-E0)],O0&&jp.push(O0),a0.attr("transform",jp.join(""))}})};function Wl(Sp,Fp){var cp;return Sp&&(cp=Sp.mf),cp===void 0&&(cp=Fp.marker&&Fp.marker.standoff||0),!Fp._geo&&!Fp._xA?-cp:cp}Bn.getMarkerStandoff=Wl;var Mu=Math.atan2,zu=Math.cos,ip=Math.sin;function pp(Sp,Fp){var cp=Fp[0],jp=Fp[1];return[cp*zu(Sp)-jp*ip(Sp),cp*ip(Sp)+jp*zu(Sp)]}var vp,Pp,Gp,r0,C0,f0;function d0(Sp,Fp){var cp=Sp.ma;cp===void 0&&(cp=Fp.marker.angle,(!cp||it.isArrayOrTypedArray(cp))&&(cp=0));var jp,a0,y0=Fp.marker.angleref;if(y0==="previous"||y0==="north"){if(Fp._geo){var P0=Fp._geo.project(Sp.lonlat);jp=P0[0],a0=P0[1]}else{var E0=Fp._xA,O0=Fp._yA;if(E0&&O0)jp=E0.c2p(Sp.x),a0=O0.c2p(Sp.y);else return 90}if(Fp._geo){var j0=Sp.lonlat[0],$0=Sp.lonlat[1],tm=Fp._geo.project([j0,$0+1e-5]),A0=Fp._geo.project([j0+1e-5,$0]),sm=Mu(A0[1]-a0,A0[0]-jp),pm=Mu(tm[1]-a0,tm[0]-jp),nm;if(y0==="north")nm=cp/180*Math.PI;else if(y0==="previous"){var vm=j0/180*Math.PI,kp=$0/180*Math.PI,qp=vp/180*Math.PI,Xu=Pp/180*Math.PI,hp=qp-vm,yp=zu(Xu)*ip(hp),Dp=ip(Xu)*zu(kp)-zu(Xu)*ip(kp)*zu(hp);nm=-Mu(yp,Dp)-Math.PI,vp=j0,Pp=$0}var Bp=pp(sm,[zu(nm),0]),Jp=pp(pm,[ip(nm),0]);cp=Mu(Bp[1]+Jp[1],Bp[0]+Jp[0])/Math.PI*180,y0==="previous"&&!(f0===Fp.uid&&Sp.i===C0+1)&&(cp=null)}if(y0==="previous"&&!Fp._geo)if(f0===Fp.uid&&Sp.i===C0+1&&Ln(jp)&&Ln(a0)){var n0=jp-Gp,b0=a0-r0,v0=Fp.line&&Fp.line.shape||"",x0=v0.slice(v0.length-1);x0==="h"&&(b0=0),x0==="v"&&(n0=0),cp+=Mu(b0,n0)/Math.PI*180+90}else cp=null}return Gp=jp,r0=a0,C0=Sp.i,f0=Fp.uid,cp}Bn.getMarkerAngle=d0}),Z0=a((yu,hu)=>{var jt=g(),it=rt(),st=_v(),Ln=N1(),Ft=gu(),Fn=Ft.strTranslate,zn=q0(),yl=D0(),ot=hy(),_l=s0(),ls=pv().OPPOSITE_SIDE,Sl=/ [XY][0-9]* /,Pl=1.6,Tl=1.6;function El(Ml,Rl,Bn){var Cl=Ml._fullLayout,Al=Bn.propContainer,Il=Bn.propName,$l=Bn.placeholder,Bu=Bn.traceIndex,Jl=Bn.avoid||{},Kl=Bn.attributes,Bl=Bn.transform,$u=Bn.containerGroup,mu=1,Pu=Al.title,bu=(Pu&&Pu.text?Pu.text:"").trim(),Fu=!1,Hu=Pu&&Pu.font?Pu.font:{},Gu=Hu.family,Xl=Hu.size,Wu=Hu.color,Yu=Hu.weight,ap=Hu.style,rp=Hu.variant,sp=Hu.textcase,bp=Hu.lineposition,Cp=Hu.shadow,Ap=Bn.subtitlePropName,Lu=!!Ap,Nu=Bn.subtitlePlaceholder,Hl=(Al.title||{}).subtitle||{text:"",font:{}},qu=(Hl.text||"").trim(),np=!1,vu=1,Ol=Hl.font,Wl=Ol.family,Mu=Ol.size,zu=Ol.color,ip=Ol.weight,pp=Ol.style,vp=Ol.variant,Pp=Ol.textcase,Gp=Ol.lineposition,r0=Ol.shadow,C0;Il==="title.text"?C0="titleText":Il.indexOf("axis")!==-1?C0="axisTitleText":Il.indexOf("colorbar")!==-1&&(C0="colorbarTitleText");var f0=Ml._context.edits[C0];function d0(A0,sm){return A0===void 0||sm===void 0?!1:A0.replace(Sl," % ")===sm.replace(Sl," % ")}bu===""?mu=0:d0(bu,$l)&&(f0||(bu=""),mu=.2,Fu=!0),Lu&&(qu===""?vu=0:d0(qu,Nu)&&(f0||(qu=""),vu=.2,np=!0)),Bn._meta?bu=Ft.templateString(bu,Bn._meta):Cl._meta&&(bu=Ft.templateString(bu,Cl._meta));var Sp=bu||qu||f0,Fp;$u||($u=Ft.ensureSingle(Cl._infolayer,"g","g-"+Rl),Fp=Cl._hColorbarMoveTitle);var cp=$u.selectAll("text."+Rl).data(Sp?[0]:[]);cp.enter().append("text"),cp.text(bu).attr("class",Rl),cp.exit().remove();var jp=null,a0=Rl+"-subtitle",y0=qu||f0;if(Lu&&(jp=$u.selectAll("text."+a0).data(y0?[0]:[]),jp.enter().append("text"),jp.text(qu).attr("class",a0),jp.exit().remove()),!Sp)return $u;function P0(A0,sm){Ft.syncOrAsync([E0,O0],{title:A0,subtitle:sm})}function E0(A0){var sm=A0.title,pm=A0.subtitle,nm;!Bl&&Fp&&(Bl={}),Bl?(nm="",Bl.rotate&&(nm+="rotate("+[Bl.rotate,Kl.x,Kl.y]+")"),(Bl.offset||Fp)&&(nm+=Fn(0,(Bl.offset||0)-(Fp||0)))):nm=null,sm.attr("transform",nm);function vm(Dp){if(Dp){var Bp=jt.select(Dp.node().parentNode).select("."+a0);if(!Bp.empty()){var Jp=Dp.node().getBBox();if(Jp.height){var n0=Jp.y+Jp.height+Pl*Mu;Bp.attr("y",n0)}}}}if(sm.style("opacity",mu*yl.opacity(Wu)).call(zn.font,{color:yl.rgb(Wu),size:jt.round(Xl,2),family:Gu,weight:Yu,style:ap,variant:rp,textcase:sp,shadow:Cp,lineposition:bp}).attr(Kl).call(ot.convertToTspans,Ml,vm),pm&&!pm.empty()){var kp=$u.select("."+Rl+"-math-group"),qp=sm.node().getBBox(),Xu=kp.node()?kp.node().getBBox():void 0,hp=Xu?Xu.y+Xu.height+Pl*Mu:qp.y+qp.height+Tl*Mu,yp=Ft.extendFlat({},Kl,{y:hp});pm.attr("transform",nm),pm.style("opacity",vu*yl.opacity(zu)).call(zn.font,{color:yl.rgb(zu),size:jt.round(Mu,2),family:Wl,weight:ip,style:pp,variant:vp,textcase:Pp,shadow:r0,lineposition:Gp}).attr(yp).call(ot.convertToTspans,Ml)}return st.previousPromises(Ml)}function O0(A0){var sm=A0.title,pm=jt.select(sm.node().parentNode);if(Jl&&Jl.selection&&Jl.side&&bu){pm.attr("transform",null);var nm=ls[Jl.side],vm=Jl.side==="left"||Jl.side==="top"?-1:1,kp=it(Jl.pad)?Jl.pad:2,qp=zn.bBox(pm.node()),Xu={t:0,b:0,l:0,r:0},hp=Ml._fullLayout._reservedMargin;for(var yp in hp)for(var Dp in hp[yp]){var Bp=hp[yp][Dp];Xu[Dp]=Math.max(Xu[Dp],Bp)}var Jp={left:Xu.l,top:Xu.t,right:Cl.width-Xu.r,bottom:Cl.height-Xu.b},n0=Jl.maxShift||vm*(Jp[Jl.side]-qp[Jl.side]),b0=0;if(n0<0)b0=n0;else{var v0=Jl.offsetLeft||0,x0=Jl.offsetTop||0;qp.left-=v0,qp.right-=v0,qp.top-=x0,qp.bottom-=x0,Jl.selection.each(function(){var W0=zn.bBox(this);Ft.bBoxIntersect(qp,W0,kp)&&(b0=Math.max(b0,vm*(W0[Jl.side]-qp[nm])+kp))}),b0=Math.min(n0,b0),Al._titleScoot=Math.abs(b0)}if(b0>0||n0<0){var U0={left:[-b0,0],right:[b0,0],top:[0,-b0],bottom:[0,b0]}[Jl.side];pm.attr("transform",Fn(U0[0],U0[1]))}}}cp.call(P0,jp);function j0(A0,sm){A0.text(sm).on("mouseover.opacity",function(){jt.select(this).transition().duration(_l.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){jt.select(this).transition().duration(_l.HIDE_PLACEHOLDER).style("opacity",0)})}if(f0&&(bu?cp.on(".opacity",null):(j0(cp,$l),Fu=!0),cp.call(ot.makeEditable,{gd:Ml}).on("edit",function(A0){Bu!==void 0?Ln.call("_guiRestyle",Ml,Il,A0,Bu):Ln.call("_guiRelayout",Ml,Il,A0)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(P0)}).on("input",function(A0){this.text(A0||" ").call(ot.positionText,Kl.x,Kl.y)}),Lu)){if(Lu&&!bu){var $0=cp.node().getBBox(),tm=$0.y+$0.height+Tl*Mu;jp.attr("y",tm)}qu?jp.on(".opacity",null):(j0(jp,Nu),np=!0),jp.call(ot.makeEditable,{gd:Ml}).on("edit",function(A0){Ln.call("_guiRelayout",Ml,"title.subtitle.text",A0)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(P0)}).on("input",function(A0){this.text(A0||" ").call(ot.positionText,jp.attr("x"),jp.attr("y"))})}return cp.classed("js-placeholder",Fu),jp&&!jp.empty()&&jp.classed("js-placeholder",np),$u}hu.exports={draw:El,SUBTITLE_PADDING_EM:Tl,SUBTITLE_PADDING_MATHJAX_EM:Pl}}),J0=a((yu,hu)=>{var jt=g(),it=_().utcFormat,st=gu(),Ln=st.numberFormat,Ft=rt(),Fn=st.cleanNumber,zn=st.ms2DateTime,yl=st.dateTime2ms,ot=st.ensureNumber,_l=st.isArrayOrTypedArray,ls=nt(),Sl=ls.FP_SAFE,Pl=ls.BADNUM,Tl=ls.LOG_CLIP,El=ls.ONEWEEK,Ml=ls.ONEDAY,Rl=ls.ONEHOUR,Bn=ls.ONEMIN,Cl=ls.ONESEC,Al=rv(),Il=E1(),$l=Il.HOUR_PATTERN,Bu=Il.WEEKDAY_PATTERN;function Jl(Bl){return Math.pow(10,Bl)}function Kl(Bl){return Bl!=null}hu.exports=function(Bl,$u){$u=$u||{};var mu=Bl._id||"x",Pu=mu.charAt(0);function bu(Hl,qu){if(Hl>0)return Math.log(Hl)/Math.LN10;if(Hl<=0&&qu&&Bl.range&&Bl.range.length===2){var np=Bl.range[0],vu=Bl.range[1];return .5*(np+vu-2*Tl*Math.abs(np-vu))}else return Pl}function Fu(Hl,qu,np,vu){if((vu||{}).msUTC&&Ft(Hl))return+Hl;var Ol=yl(Hl,np||Bl.calendar);if(Ol===Pl)if(Ft(Hl)){Hl=+Hl;var Wl=Math.floor(st.mod(Hl+.05,1)*10),Mu=Math.round(Hl-Wl/10);Ol=yl(new Date(Mu))+Wl/10}else return Pl;return Ol}function Hu(Hl,qu,np){return zn(Hl,qu,np||Bl.calendar)}function Gu(Hl){return Bl._categories[Math.round(Hl)]}function Xl(Hl){if(Kl(Hl)){if(Bl._categoriesMap===void 0&&(Bl._categoriesMap={}),Bl._categoriesMap[Hl]!==void 0)return Bl._categoriesMap[Hl];Bl._categories.push(typeof Hl=="number"?String(Hl):Hl);var qu=Bl._categories.length-1;return Bl._categoriesMap[Hl]=qu,qu}return Pl}function Wu(Hl,qu){for(var np=new Array(qu),vu=0;vu<qu;vu++){var Ol=(Hl[0]||[])[vu],Wl=(Hl[1]||[])[vu];np[vu]=Yu([Ol,Wl])}return np}function Yu(Hl){if(Bl._categoriesMap)return Bl._categoriesMap[Hl]}function ap(Hl){var qu=Yu(Hl);if(qu!==void 0)return qu;if(Ft(Hl))return+Hl}function rp(Hl){return Ft(Hl)?+Hl:Yu(Hl)}function sp(Hl,qu,np){return jt.round(np+qu*Hl,2)}function bp(Hl,qu,np){return(Hl-np)/qu}var Cp=function(Hl){return Ft(Hl)?sp(Hl,Bl._m,Bl._b):Pl},Ap=function(Hl){return bp(Hl,Bl._m,Bl._b)};if(Bl.rangebreaks){var Lu=Pu==="y";Cp=function(Hl){if(!Ft(Hl))return Pl;var qu=Bl._rangebreaks.length;if(!qu)return sp(Hl,Bl._m,Bl._b);var np=Lu;Bl.range[0]>Bl.range[1]&&(np=!np);for(var vu=np?-1:1,Ol=vu*Hl,Wl=0,Mu=0;Mu<qu;Mu++){var zu=vu*Bl._rangebreaks[Mu].min,ip=vu*Bl._rangebreaks[Mu].max;if(Ol<zu)break;if(Ol>ip)Wl=Mu+1;else{Wl=Ol<(zu+ip)/2?Mu:Mu+1;break}}var pp=Bl._B[Wl]||0;return isFinite(pp)?sp(Hl,Bl._m2,pp):0},Ap=function(Hl){var qu=Bl._rangebreaks.length;if(!qu)return bp(Hl,Bl._m,Bl._b);for(var np=0,vu=0;vu<qu&&!(Hl<Bl._rangebreaks[vu].pmin);vu++)Hl>Bl._rangebreaks[vu].pmax&&(np=vu+1);return bp(Hl,Bl._m2,Bl._B[np])}}Bl.c2l=Bl.type==="log"?bu:ot,Bl.l2c=Bl.type==="log"?Jl:ot,Bl.l2p=Cp,Bl.p2l=Ap,Bl.c2p=Bl.type==="log"?function(Hl,qu){return Cp(bu(Hl,qu))}:Cp,Bl.p2c=Bl.type==="log"?function(Hl){return Jl(Ap(Hl))}:Ap,["linear","-"].indexOf(Bl.type)!==-1?(Bl.d2r=Bl.r2d=Bl.d2c=Bl.r2c=Bl.d2l=Bl.r2l=Fn,Bl.c2d=Bl.c2r=Bl.l2d=Bl.l2r=ot,Bl.d2p=Bl.r2p=function(Hl){return Bl.l2p(Fn(Hl))},Bl.p2d=Bl.p2r=Ap,Bl.cleanPos=ot):Bl.type==="log"?(Bl.d2r=Bl.d2l=function(Hl,qu){return bu(Fn(Hl),qu)},Bl.r2d=Bl.r2c=function(Hl){return Jl(Fn(Hl))},Bl.d2c=Bl.r2l=Fn,Bl.c2d=Bl.l2r=ot,Bl.c2r=bu,Bl.l2d=Jl,Bl.d2p=function(Hl,qu){return Bl.l2p(Bl.d2r(Hl,qu))},Bl.p2d=function(Hl){return Jl(Ap(Hl))},Bl.r2p=function(Hl){return Bl.l2p(Fn(Hl))},Bl.p2r=Ap,Bl.cleanPos=ot):Bl.type==="date"?(Bl.d2r=Bl.r2d=st.identity,Bl.d2c=Bl.r2c=Bl.d2l=Bl.r2l=Fu,Bl.c2d=Bl.c2r=Bl.l2d=Bl.l2r=Hu,Bl.d2p=Bl.r2p=function(Hl,qu,np){return Bl.l2p(Fu(Hl,0,np))},Bl.p2d=Bl.p2r=function(Hl,qu,np){return Hu(Ap(Hl),qu,np)},Bl.cleanPos=function(Hl){return st.cleanDate(Hl,Pl,Bl.calendar)}):Bl.type==="category"?(Bl.d2c=Bl.d2l=Xl,Bl.r2d=Bl.c2d=Bl.l2d=Gu,Bl.d2r=Bl.d2l_noadd=ap,Bl.r2c=function(Hl){var qu=rp(Hl);return qu!==void 0?qu:Bl.fraction2r(.5)},Bl.l2r=Bl.c2r=ot,Bl.r2l=rp,Bl.d2p=function(Hl){return Bl.l2p(Bl.r2c(Hl))},Bl.p2d=function(Hl){return Gu(Ap(Hl))},Bl.r2p=Bl.d2p,Bl.p2r=Ap,Bl.cleanPos=function(Hl){return typeof Hl=="string"&&Hl!==""?Hl:ot(Hl)}):Bl.type==="multicategory"&&(Bl.r2d=Bl.c2d=Bl.l2d=Gu,Bl.d2r=Bl.d2l_noadd=ap,Bl.r2c=function(Hl){var qu=ap(Hl);return qu!==void 0?qu:Bl.fraction2r(.5)},Bl.r2c_just_indices=Yu,Bl.l2r=Bl.c2r=ot,Bl.r2l=ap,Bl.d2p=function(Hl){return Bl.l2p(Bl.r2c(Hl))},Bl.p2d=function(Hl){return Gu(Ap(Hl))},Bl.r2p=Bl.d2p,Bl.p2r=Ap,Bl.cleanPos=function(Hl){return Array.isArray(Hl)||typeof Hl=="string"&&Hl!==""?Hl:ot(Hl)},Bl.setupMultiCategory=function(Hl){var qu=Bl._traceIndices,np,vu,Ol=Bl._matchGroup;if(Ol&&Bl._categories.length===0){for(var Wl in Ol)if(Wl!==mu){var Mu=$u[Al.id2name(Wl)];qu=qu.concat(Mu._traceIndices)}}var zu=[[0,{}],[0,{}]],ip=[];for(np=0;np<qu.length;np++){var pp=Hl[qu[np]];if(Pu in pp){var vp=pp[Pu],Pp=pp._length||st.minRowLength(vp);if(_l(vp[0])&&_l(vp[1]))for(vu=0;vu<Pp;vu++){var Gp=vp[0][vu],r0=vp[1][vu];Kl(Gp)&&Kl(r0)&&(ip.push([Gp,r0]),Gp in zu[0][1]||(zu[0][1][Gp]=zu[0][0]++),r0 in zu[1][1]||(zu[1][1][r0]=zu[1][0]++))}}}for(ip.sort(function(C0,f0){var d0=zu[0][1],Sp=d0[C0[0]]-d0[f0[0]];if(Sp)return Sp;var Fp=zu[1][1];return Fp[C0[1]]-Fp[f0[1]]}),np=0;np<ip.length;np++)Xl(ip[np])}),Bl.fraction2r=function(Hl){var qu=Bl.r2l(Bl.range[0]),np=Bl.r2l(Bl.range[1]);return Bl.l2r(qu+Hl*(np-qu))},Bl.r2fraction=function(Hl){var qu=Bl.r2l(Bl.range[0]),np=Bl.r2l(Bl.range[1]);return(Bl.r2l(Hl)-qu)/(np-qu)},Bl.limitRange=function(Hl){var qu=Bl.minallowed,np=Bl.maxallowed;if(!(qu===void 0&&np===void 0)){Hl||(Hl="range");var vu=st.nestedProperty(Bl,Hl).get(),Ol=st.simpleMap(vu,Bl.r2l),Wl=Ol[1]<Ol[0];Wl&&Ol.reverse();var Mu=st.simpleMap([qu,np],Bl.r2l);if(qu!==void 0&&Ol[0]<Mu[0]&&(vu[Wl?1:0]=qu),np!==void 0&&Ol[1]>Mu[1]&&(vu[Wl?0:1]=np),vu[0]===vu[1]){var zu=Bl.l2r(qu),ip=Bl.l2r(np);if(qu!==void 0){var pp=zu+1;np!==void 0&&(pp=Math.min(pp,ip)),vu[Wl?1:0]=pp}if(np!==void 0){var vp=ip+1;qu!==void 0&&(vp=Math.max(vp,zu)),vu[Wl?0:1]=vp}}}},Bl.cleanRange=function(Hl,qu){Bl._cleanRange(Hl,qu),Bl.limitRange(Hl)},Bl._cleanRange=function(Hl,qu){qu||(qu={}),Hl||(Hl="range");var np=st.nestedProperty(Bl,Hl).get(),vu,Ol;if(Bl.type==="date"?Ol=st.dfltRange(Bl.calendar):Pu==="y"?Ol=Il.DFLTRANGEY:Bl._name==="realaxis"?Ol=[0,1]:Ol=qu.dfltRange||Il.DFLTRANGEX,Ol=Ol.slice(),(Bl.rangemode==="tozero"||Bl.rangemode==="nonnegative")&&(Ol[0]=0),!np||np.length!==2){st.nestedProperty(Bl,Hl).set(Ol);return}var Wl=np[0]===null,Mu=np[1]===null;for(Bl.type==="date"&&!Bl.autorange&&(np[0]=st.cleanDate(np[0],Pl,Bl.calendar),np[1]=st.cleanDate(np[1],Pl,Bl.calendar)),vu=0;vu<2;vu++)if(Bl.type==="date"){if(!st.isDateTime(np[vu],Bl.calendar)){Bl[Hl]=Ol;break}if(Bl.r2l(np[0])===Bl.r2l(np[1])){var zu=st.constrain(Bl.r2l(np[0]),st.MIN_MS+1e3,st.MAX_MS-1e3);np[0]=Bl.l2r(zu-1e3),np[1]=Bl.l2r(zu+1e3);break}}else{if(!Ft(np[vu]))if(!(Wl||Mu)&&Ft(np[1-vu]))np[vu]=np[1-vu]*(vu?10:.1);else{Bl[Hl]=Ol;break}if(np[vu]<-Sl?np[vu]=-Sl:np[vu]>Sl&&(np[vu]=Sl),np[0]===np[1]){var ip=Math.max(1,Math.abs(np[0]*1e-6));np[0]-=ip,np[1]+=ip}}},Bl.setScale=function(Hl){var qu=$u._size;if(Bl.overlaying){var np=Al.getFromId({_fullLayout:$u},Bl.overlaying);Bl.domain=np.domain}var vu=Hl&&Bl._r?"_r":"range",Ol=Bl.calendar;Bl.cleanRange(vu);var Wl=Bl.r2l(Bl[vu][0],Ol),Mu=Bl.r2l(Bl[vu][1],Ol),zu=Pu==="y";if(zu?(Bl._offset=qu.t+(1-Bl.domain[1])*qu.h,Bl._length=qu.h*(Bl.domain[1]-Bl.domain[0]),Bl._m=Bl._length/(Wl-Mu),Bl._b=-Bl._m*Mu):(Bl._offset=qu.l+Bl.domain[0]*qu.w,Bl._length=qu.w*(Bl.domain[1]-Bl.domain[0]),Bl._m=Bl._length/(Mu-Wl),Bl._b=-Bl._m*Wl),Bl._rangebreaks=[],Bl._lBreaks=0,Bl._m2=0,Bl._B=[],Bl.rangebreaks){var ip,pp;if(Bl._rangebreaks=Bl.locateBreaks(Math.min(Wl,Mu),Math.max(Wl,Mu)),Bl._rangebreaks.length){for(ip=0;ip<Bl._rangebreaks.length;ip++)pp=Bl._rangebreaks[ip],Bl._lBreaks+=Math.abs(pp.max-pp.min);var vp=zu;Wl>Mu&&(vp=!vp),vp&&Bl._rangebreaks.reverse();var Pp=vp?-1:1;for(Bl._m2=Pp*Bl._length/(Math.abs(Mu-Wl)-Bl._lBreaks),Bl._B.push(-Bl._m2*(zu?Mu:Wl)),ip=0;ip<Bl._rangebreaks.length;ip++)pp=Bl._rangebreaks[ip],Bl._B.push(Bl._B[Bl._B.length-1]-Pp*Bl._m2*(pp.max-pp.min));for(ip=0;ip<Bl._rangebreaks.length;ip++)pp=Bl._rangebreaks[ip],pp.pmin=Cp(pp.min),pp.pmax=Cp(pp.max)}}if(!isFinite(Bl._m)||!isFinite(Bl._b)||Bl._length<0)throw $u._replotting=!1,new Error("Something went wrong with axis scaling")},Bl.maskBreaks=function(Hl){var qu=Bl.rangebreaks||[],np,vu,Ol,Wl,Mu;qu._cachedPatterns||(qu._cachedPatterns=qu.map(function(d0){return d0.enabled&&d0.bounds?st.simpleMap(d0.bounds,d0.pattern?Fn:Bl.d2c):null})),qu._cachedValues||(qu._cachedValues=qu.map(function(d0){return d0.enabled&&d0.values?st.simpleMap(d0.values,Bl.d2c).sort(st.sorterAsc):null}));for(var zu=0;zu<qu.length;zu++){var ip=qu[zu];if(ip.enabled){if(ip.bounds){var pp=ip.pattern;switch(np=qu._cachedPatterns[zu],vu=np[0],Ol=np[1],pp){case Bu:Mu=new Date(Hl),Wl=Mu.getUTCDay(),vu>Ol&&(Ol+=7,Wl<vu&&(Wl+=7));break;case $l:Mu=new Date(Hl);var vp=Mu.getUTCHours(),Pp=Mu.getUTCMinutes(),Gp=Mu.getUTCSeconds(),r0=Mu.getUTCMilliseconds();Wl=vp+(Pp/60+Gp/3600+r0/36e5),vu>Ol&&(Ol+=24,Wl<vu&&(Wl+=24));break;case"":Wl=Hl;break}if(Wl>=vu&&Wl<Ol)return Pl}else for(var C0=qu._cachedValues[zu],f0=0;f0<C0.length;f0++)if(vu=C0[f0],Ol=vu+ip.dvalue,Hl>=vu&&Hl<Ol)return Pl}}return Hl},Bl.locateBreaks=function(Hl,qu){var np,vu,Ol,Wl,Mu=[];if(!Bl.rangebreaks)return Mu;var zu=Bl.rangebreaks.slice().sort(function(Fp,cp){return Fp.pattern===Bu&&cp.pattern===$l?-1:cp.pattern===Bu&&Fp.pattern===$l?1:0}),ip=function(Fp,cp){if(Fp=st.constrain(Fp,Hl,qu),cp=st.constrain(cp,Hl,qu),Fp!==cp){for(var jp=!0,a0=0;a0<Mu.length;a0++){var y0=Mu[a0];Fp<y0.max&&cp>=y0.min&&(Fp<y0.min&&(y0.min=Fp),cp>y0.max&&(y0.max=cp),jp=!1)}jp&&Mu.push({min:Fp,max:cp})}};for(np=0;np<zu.length;np++){var pp=zu[np];if(pp.enabled)if(pp.bounds){var vp=Hl,Pp=qu;pp.pattern&&(vp=Math.floor(vp)),vu=st.simpleMap(pp.bounds,pp.pattern?Fn:Bl.r2l),Ol=vu[0],Wl=vu[1];var Gp=new Date(vp),r0,C0;switch(pp.pattern){case Bu:C0=El,r0=((Wl<Ol?7:0)+(Wl-Ol))*Ml,vp+=Ol*Ml-(Gp.getUTCDay()*Ml+Gp.getUTCHours()*Rl+Gp.getUTCMinutes()*Bn+Gp.getUTCSeconds()*Cl+Gp.getUTCMilliseconds());break;case $l:C0=Ml,r0=((Wl<Ol?24:0)+(Wl-Ol))*Rl,vp+=Ol*Rl-(Gp.getUTCHours()*Rl+Gp.getUTCMinutes()*Bn+Gp.getUTCSeconds()*Cl+Gp.getUTCMilliseconds());break;default:vp=Math.min(vu[0],vu[1]),Pp=Math.max(vu[0],vu[1]),C0=Pp-vp,r0=C0}for(var f0=vp;f0<Pp;f0+=C0)ip(f0,f0+r0)}else for(var d0=st.simpleMap(pp.values,Bl.d2c),Sp=0;Sp<d0.length;Sp++)Ol=d0[Sp],Wl=Ol+pp.dvalue,ip(Ol,Wl)}return Mu.sort(function(Fp,cp){return Fp.min-cp.min}),Mu},Bl.makeCalcdata=function(Hl,qu,np){var vu,Ol,Wl,Mu,zu=Bl.type,ip=zu==="date"&&Hl[qu+"calendar"];if(qu in Hl){if(vu=Hl[qu],Mu=Hl._length||st.minRowLength(vu),st.isTypedArray(vu)&&(zu==="linear"||zu==="log")){if(Mu===vu.length)return vu;if(vu.subarray)return vu.subarray(0,Mu)}if(zu==="multicategory")return Wu(vu,Mu);for(Ol=new Array(Mu),Wl=0;Wl<Mu;Wl++)Ol[Wl]=Bl.d2c(vu[Wl],0,ip,np)}else{var pp=qu+"0"in Hl?Bl.d2c(Hl[qu+"0"],0,ip):0,vp=Hl["d"+qu]?Number(Hl["d"+qu]):1;for(vu=Hl[{x:"y",y:"x"}[qu]],Mu=Hl._length||vu.length,Ol=new Array(Mu),Wl=0;Wl<Mu;Wl++)Ol[Wl]=pp+Wl*vp}if(Bl.rangebreaks)for(Wl=0;Wl<Mu;Wl++)Ol[Wl]=Bl.maskBreaks(Ol[Wl]);return Ol},Bl.isValidRange=function(Hl,qu){return Array.isArray(Hl)&&Hl.length===2&&(qu&&Hl[0]===null||Ft(Bl.r2l(Hl[0])))&&(qu&&Hl[1]===null||Ft(Bl.r2l(Hl[1])))},Bl.getAutorangeDflt=function(Hl,qu){var np=!Bl.isValidRange(Hl,"nullOk");return np&&qu&&qu.reverseDflt?np="reversed":Hl&&(Hl[0]===null&&Hl[1]===null?np=!0:Hl[0]===null&&Hl[1]!==null?np="min":Hl[0]!==null&&Hl[1]===null&&(np="max")),np},Bl.isReversed=function(){var Hl=Bl.autorange;return Hl==="reversed"||Hl==="min reversed"||Hl==="max reversed"},Bl.isPtWithinRange=function(Hl,qu){var np=Bl.c2l(Hl[Pu],null,qu),vu=Bl.r2l(Bl.range[0]),Ol=Bl.r2l(Bl.range[1]);return vu<Ol?vu<=np&&np<=Ol:Ol<=np&&np<=vu},Bl._emptyCategories=function(){Bl._categories=[],Bl._categoriesMap={}},Bl.clearCalc=function(){var Hl=Bl._matchGroup;if(Hl){var qu=null,np=null;for(var vu in Hl){var Ol=$u[Al.id2name(vu)];if(Ol._categories){qu=Ol._categories,np=Ol._categoriesMap;break}}qu&&np?(Bl._categories=qu,Bl._categoriesMap=np):Bl._emptyCategories()}else Bl._emptyCategories();if(Bl._initialCategories)for(var Wl=0;Wl<Bl._initialCategories.length;Wl++)Xl(Bl._initialCategories[Wl])},Bl.sortByInitialCategories=function(){var Hl=[];if(Bl._emptyCategories(),Bl._initialCategories)for(var qu=0;qu<Bl._initialCategories.length;qu++)Xl(Bl._initialCategories[qu]);Hl=Hl.concat(Bl._traceIndices);var np=Bl._matchGroup;for(var vu in np)if(mu!==vu){var Ol=$u[Al.id2name(vu)];Ol._categories=Bl._categories,Ol._categoriesMap=Bl._categoriesMap,Hl=Hl.concat(Ol._traceIndices)}return Hl};var Nu=$u._d3locale;Bl.type==="date"&&(Bl._dateFormat=Nu?Nu.timeFormat:it,Bl._extraFormat=$u._extraFormat),Bl._separators=$u.separators,Bl._numFormat=Nu?Nu.numberFormat:Ln,delete Bl._minDtick,delete Bl._forceTick0}}),H0=a((yu,hu)=>{var jt=rt(),it=gu(),st=nt().BADNUM,Ln=it.isArrayOrTypedArray,Ft=it.isDateTime,Fn=it.cleanNumber,zn=Math.round;hu.exports=function(Tl,El,Ml){var Rl=Tl,Bn=Ml.noMultiCategory;if(Ln(Rl)&&!Rl.length)return"-";if(!Bn&&Pl(Rl))return"multicategory";if(Bn&&Array.isArray(Rl[0])){for(var Cl=[],Al=0;Al<Rl.length;Al++)if(Ln(Rl[Al]))for(var Il=0;Il<Rl[Al].length;Il++)Cl.push(Rl[Al][Il]);Rl=Cl}if(_l(Rl,El))return"date";var $l=Ml.autotypenumbers!=="strict";return Sl(Rl,$l)?"category":ot(Rl,$l)?"linear":"-"};function yl(Tl,El){return El?jt(Tl):typeof Tl=="number"}function ot(Tl,El){for(var Ml=Tl.length,Rl=0;Rl<Ml;Rl++)if(yl(Tl[Rl],El))return!0;return!1}function _l(Tl,El){for(var Ml=Tl.length,Rl=ls(Ml),Bn=0,Cl=0,Al={},Il=0;Il<Ml;Il+=Rl){var $l=zn(Il),Bu=Tl[$l],Jl=String(Bu);Al[Jl]||(Al[Jl]=1,Ft(Bu,El)&&Bn++,jt(Bu)&&Cl++)}return Bn>Cl*2}function ls(Tl){return Math.max(1,(Tl-1)/1e3)}function Sl(Tl,El){for(var Ml=Tl.length,Rl=ls(Ml),Bn=0,Cl=0,Al={},Il=0;Il<Ml;Il+=Rl){var $l=zn(Il),Bu=Tl[$l],Jl=String(Bu);if(!Al[Jl]){Al[Jl]=1;var Kl=typeof Bu;Kl==="boolean"?Cl++:(El?Fn(Bu)!==st:Kl==="number")?Bn++:Kl==="string"&&Cl++}}return Cl>Bn*2}function Pl(Tl){return Ln(Tl[0])&&Ln(Tl[1])}}),wm=a((yu,hu)=>{var jt=g(),it=rt(),st=gu(),Ln=nt().FP_SAFE,Ft=N1(),Fn=q0(),zn=rv(),yl=zn.getFromId,ot=zn.isLinked;hu.exports={applyAutorangeOptions:$u,getAutoRange:_l,makePadFn:Sl,doAutoRange:Ml,findExtremes:Rl,concatExtremes:El};function _l(mu,Pu){var bu,Fu,Hu=[],Gu=mu._fullLayout,Xl=Sl(Gu,Pu,0),Wu=Sl(Gu,Pu,1),Yu=El(mu,Pu),ap=Yu.min,rp=Yu.max;if(ap.length===0||rp.length===0)return st.simpleMap(Pu.range,Pu.r2l);var sp=ap[0].val,bp=rp[0].val;for(bu=1;bu<ap.length&&sp===bp;bu++)sp=Math.min(sp,ap[bu].val);for(bu=1;bu<rp.length&&sp===bp;bu++)bp=Math.max(bp,rp[bu].val);var Cp=Pu.autorange,Ap=Cp==="reversed"||Cp==="min reversed"||Cp==="max reversed";if(!Ap&&Pu.range){var Lu=st.simpleMap(Pu.range,Pu.r2l);Ap=Lu[1]<Lu[0]}Pu.autorange==="reversed"&&(Pu.autorange=!0);var Nu=Pu.rangemode,Hl=Nu==="tozero",qu=Nu==="nonnegative",np=Pu._length,vu=np/10,Ol=0,Wl,Mu,zu,ip,pp,vp;for(bu=0;bu<ap.length;bu++)for(Wl=ap[bu],Fu=0;Fu<rp.length;Fu++)Mu=rp[Fu],vp=Mu.val-Wl.val-ls(Pu,Wl.val,Mu.val),vp>0&&(pp=np-Xl(Wl)-Wu(Mu),pp>vu?vp/pp>Ol&&(zu=Wl,ip=Mu,Ol=vp/pp):vp/np>Ol&&(zu={val:Wl.val,nopad:1},ip={val:Mu.val,nopad:1},Ol=vp/np));function Pp(d0,Sp){return Math.max(d0,Wu(Sp))}if(sp===bp){var Gp=sp-1,r0=sp+1;if(Hl)if(sp===0)Hu=[0,1];else{var C0=(sp>0?rp:ap).reduce(Pp,0),f0=sp/(1-Math.min(.5,C0/np));Hu=sp>0?[0,f0]:[f0,0]}else qu?Hu=[Math.max(0,Gp),Math.max(1,r0)]:Hu=[Gp,r0]}else Hl?(zu.val>=0&&(zu={val:0,nopad:1}),ip.val<=0&&(ip={val:0,nopad:1})):qu&&(zu.val-Ol*Xl(zu)<0&&(zu={val:0,nopad:1}),ip.val<=0&&(ip={val:1,nopad:1})),Ol=(ip.val-zu.val-ls(Pu,Wl.val,Mu.val))/(np-Xl(zu)-Wu(ip)),Hu=[zu.val-Ol*Xl(zu),ip.val+Ol*Wu(ip)];return Hu=$u(Hu,Pu),Pu.limitRange&&Pu.limitRange(),Ap&&Hu.reverse(),st.simpleMap(Hu,Pu.l2r||Number)}function ls(mu,Pu,bu){var Fu=0;if(mu.rangebreaks)for(var Hu=mu.locateBreaks(Pu,bu),Gu=0;Gu<Hu.length;Gu++){var Xl=Hu[Gu];Fu+=Xl.max-Xl.min}return Fu}function Sl(mu,Pu,bu){var Fu=.05*Pu._length,Hu=Pu._anchorAxis||{};if((Pu.ticklabelposition||"").indexOf("inside")!==-1||(Hu.ticklabelposition||"").indexOf("inside")!==-1){var Gu=Pu.isReversed();if(!Gu){var Xl=st.simpleMap(Pu.range,Pu.r2l);Gu=Xl[1]<Xl[0]}Gu&&(bu=!bu)}var Wu=0;return ot(mu,Pu._id)||(Wu=Tl(mu,Pu,bu)),Fu=Math.max(Wu,Fu),Pu.constrain==="domain"&&Pu._inputDomain&&(Fu*=(Pu._inputDomain[1]-Pu._inputDomain[0])/(Pu.domain[1]-Pu.domain[0])),function(Yu){return Yu.nopad?0:Yu.pad+(Yu.extrapad?Fu:Wu)}}var Pl=3;function Tl(mu,Pu,bu){var Fu=0,Hu=Pu._id.charAt(0)==="x";for(var Gu in mu._plots){var Xl=mu._plots[Gu];if(!(Pu._id!==Xl.xaxis._id&&Pu._id!==Xl.yaxis._id)){var Wu=(Hu?Xl.yaxis:Xl.xaxis)||{};if((Wu.ticklabelposition||"").indexOf("inside")!==-1&&(!bu&&(Wu.side==="left"||Wu.side==="bottom")||bu&&(Wu.side==="top"||Wu.side==="right"))){if(Wu._vals){var Yu=st.deg2rad(Wu._tickAngles[Wu._id+"tick"]||0),ap=Math.abs(Math.cos(Yu)),rp=Math.abs(Math.sin(Yu));if(!Wu._vals[0].bb){var sp=Wu._id+"tick",bp=Wu._selections[sp];bp.each(function(qu){var np=jt.select(this),vu=np.select(".text-math-group");vu.empty()&&(qu.bb=Fn.bBox(np.node()))})}for(var Cp=0;Cp<Wu._vals.length;Cp++){var Ap=Wu._vals[Cp],Lu=Ap.bb;if(Lu){var Nu=2*Pl+Lu.width,Hl=2*Pl+Lu.height;Fu=Math.max(Fu,Hu?Math.max(Nu*ap,Hl*rp):Math.max(Hl*ap,Nu*rp))}}}Wu.ticks==="inside"&&Wu.ticklabelposition==="inside"&&(Fu+=Wu.ticklen||0)}}}return Fu}function El(mu,Pu,bu){var Fu=Pu._id,Hu=mu._fullData,Gu=mu._fullLayout,Xl=[],Wu=[],Yu,ap,rp;function sp(Nu,Hl){for(Yu=0;Yu<Hl.length;Yu++){var qu=Nu[Hl[Yu]],np=(qu._extremes||{})[Fu];if(qu.visible===!0&&np){for(ap=0;ap<np.min.length;ap++)rp=np.min[ap],Bn(Xl,rp.val,rp.pad,{extrapad:rp.extrapad});for(ap=0;ap<np.max.length;ap++)rp=np.max[ap],Cl(Wu,rp.val,rp.pad,{extrapad:rp.extrapad})}}}if(sp(Hu,Pu._traceIndices),sp(Gu.annotations||[],Pu._annIndices||[]),sp(Gu.shapes||[],Pu._shapeIndices||[]),Pu._matchGroup&&!bu){for(var bp in Pu._matchGroup)if(bp!==Pu._id){var Cp=yl(mu,bp),Ap=El(mu,Cp,!0),Lu=Pu._length/Cp._length;for(ap=0;ap<Ap.min.length;ap++)rp=Ap.min[ap],Bn(Xl,rp.val,rp.pad*Lu,{extrapad:rp.extrapad});for(ap=0;ap<Ap.max.length;ap++)rp=Ap.max[ap],Cl(Wu,rp.val,rp.pad*Lu,{extrapad:rp.extrapad})}}return{min:Xl,max:Wu}}function Ml(mu,Pu,bu){if(Pu.setScale(),Pu.autorange){Pu.range=bu?bu.slice():_l(mu,Pu),Pu._r=Pu.range.slice(),Pu._rl=st.simpleMap(Pu._r,Pu.r2l);var Fu=Pu._input,Hu={};Hu[Pu._attr+".range"]=Pu.range,Hu[Pu._attr+".autorange"]=Pu.autorange,Ft.call("_storeDirectGUIEdit",mu.layout,mu._fullLayout._preGUI,Hu),Fu.range=Pu.range.slice(),Fu.autorange=Pu.autorange}var Gu=Pu._anchorAxis;if(Gu&&Gu.rangeslider){var Xl=Gu.rangeslider[Pu._name];Xl&&Xl.rangemode==="auto"&&(Xl.range=_l(mu,Pu)),Gu._input.rangeslider[Pu._name]=st.extendFlat({},Xl)}}function Rl(mu,Pu,bu){bu||(bu={}),mu._m||mu.setScale();var Fu=[],Hu=[],Gu=Pu.length,Xl=bu.padded||!1,Wu=bu.tozero&&(mu.type==="linear"||mu.type==="-"),Yu=mu.type==="log",ap=!1,rp=bu.vpadLinearized||!1,sp,bp,Cp,Ap,Lu,Nu,Hl,qu,np;function vu(Pp){if(Array.isArray(Pp))return ap=!0,function(r0){return Math.max(Number(Pp[r0]||0),0)};var Gp=Math.max(Number(Pp||0),0);return function(){return Gp}}var Ol=vu((mu._m>0?bu.ppadplus:bu.ppadminus)||bu.ppad||0),Wl=vu((mu._m>0?bu.ppadminus:bu.ppadplus)||bu.ppad||0),Mu=vu(bu.vpadplus||bu.vpad),zu=vu(bu.vpadminus||bu.vpad);if(!ap){if(qu=1/0,np=-1/0,Yu)for(sp=0;sp<Gu;sp++)bp=Pu[sp],bp<qu&&bp>0&&(qu=bp),bp>np&&bp<Ln&&(np=bp);else for(sp=0;sp<Gu;sp++)bp=Pu[sp],bp<qu&&bp>-Ln&&(qu=bp),bp>np&&bp<Ln&&(np=bp);Pu=[qu,np],Gu=2}var ip={tozero:Wu,extrapad:Xl};function pp(Pp){Cp=Pu[Pp],it(Cp)&&(Nu=Ol(Pp),Hl=Wl(Pp),rp?(Ap=mu.c2l(Cp)-zu(Pp),Lu=mu.c2l(Cp)+Mu(Pp)):(qu=Cp-zu(Pp),np=Cp+Mu(Pp),Yu&&qu<np/10&&(qu=np/10),Ap=mu.c2l(qu),Lu=mu.c2l(np)),Wu&&(Ap=Math.min(0,Ap),Lu=Math.max(0,Lu)),Il(Ap)&&Bn(Fu,Ap,Hl,ip),Il(Lu)&&Cl(Hu,Lu,Nu,ip))}var vp=Math.min(6,Gu);for(sp=0;sp<vp;sp++)pp(sp);for(sp=Gu-1;sp>=vp;sp--)pp(sp);return{min:Fu,max:Hu,opts:bu}}function Bn(mu,Pu,bu,Fu){Al(mu,Pu,bu,Fu,$l)}function Cl(mu,Pu,bu,Fu){Al(mu,Pu,bu,Fu,Bu)}function Al(mu,Pu,bu,Fu,Hu){for(var Gu=Fu.tozero,Xl=Fu.extrapad,Wu=!0,Yu=0;Yu<mu.length&&Wu;Yu++){var ap=mu[Yu];if(Hu(ap.val,Pu)&&ap.pad>=bu&&(ap.extrapad||!Xl)){Wu=!1;break}else Hu(Pu,ap.val)&&ap.pad<=bu&&(Xl||!ap.extrapad)&&(mu.splice(Yu,1),Yu--)}if(Wu){var rp=Gu&&Pu===0;mu.push({val:Pu,pad:rp?0:bu,extrapad:rp?!1:Xl})}}function Il(mu){return it(mu)&&Math.abs(mu)<Ln}function $l(mu,Pu){return mu<=Pu}function Bu(mu,Pu){return mu>=Pu}function Jl(mu,Pu){var bu=Pu.autorangeoptions;return bu&&bu.minallowed!==void 0&&Bl(Pu,bu.minallowed,bu.maxallowed)?bu.minallowed:bu&&bu.clipmin!==void 0&&Bl(Pu,bu.clipmin,bu.clipmax)?Math.max(mu,Pu.d2l(bu.clipmin)):mu}function Kl(mu,Pu){var bu=Pu.autorangeoptions;return bu&&bu.maxallowed!==void 0&&Bl(Pu,bu.minallowed,bu.maxallowed)?bu.maxallowed:bu&&bu.clipmax!==void 0&&Bl(Pu,bu.clipmin,bu.clipmax)?Math.min(mu,Pu.d2l(bu.clipmax)):mu}function Bl(mu,Pu,bu){return Pu!==void 0&&bu!==void 0?(Pu=mu.d2l(Pu),bu=mu.d2l(bu),Pu<bu):!0}function $u(mu,Pu){if(!Pu||!Pu.autorangeoptions)return mu;var bu=mu[0],Fu=mu[1],Hu=Pu.autorangeoptions.include;if(Hu!==void 0){var Gu=Pu.d2l(bu),Xl=Pu.d2l(Fu);st.isArrayOrTypedArray(Hu)||(Hu=[Hu]);for(var Wu=0;Wu<Hu.length;Wu++){var Yu=Pu.d2l(Hu[Wu]);Gu>=Yu&&(Gu=Yu,bu=Yu),Xl<=Yu&&(Xl=Yu,Fu=Yu)}}return bu=Jl(bu,Pu),Fu=Kl(Fu,Pu),[bu,Fu]}}),bm=a((yu,hu)=>{var jt=g(),it=rt(),st=_v(),Ln=N1(),Ft=gu(),Fn=Ft.strTranslate,zn=hy(),yl=Z0(),ot=D0(),_l=q0(),ls=c0(),Sl=tp(),Pl=nt(),Tl=Pl.ONEMAXYEAR,El=Pl.ONEAVGYEAR,Ml=Pl.ONEMINYEAR,Rl=Pl.ONEMAXQUARTER,Bn=Pl.ONEAVGQUARTER,Cl=Pl.ONEMINQUARTER,Al=Pl.ONEMAXMONTH,Il=Pl.ONEAVGMONTH,$l=Pl.ONEMINMONTH,Bu=Pl.ONEWEEK,Jl=Pl.ONEDAY,Kl=Jl/2,Bl=Pl.ONEHOUR,$u=Pl.ONEMIN,mu=Pl.ONESEC,Pu=Pl.ONEMILLI,bu=Pl.ONEMICROSEC,Fu=Pl.MINUS_SIGN,Hu=Pl.BADNUM,Gu={K:"zeroline"},Xl={K:"gridline",L:"path"},Wu={K:"minor-gridline",L:"path"},Yu={K:"tick",L:"path"},ap={K:"tick",L:"text"},rp={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},sp=pv(),bp=sp.MID_SHIFT,Cp=sp.CAP_SHIFT,Ap=sp.LINE_SPACING,Lu=sp.OPPOSITE_SIDE,Nu=3,Hl=hu.exports={};Hl.setConvert=J0();var qu=H0(),np=rv(),vu=np.idSort,Ol=np.isLinked;Hl.id2name=np.id2name,Hl.name2id=np.name2id,Hl.cleanId=np.cleanId,Hl.list=np.list,Hl.listIds=np.listIds,Hl.getFromId=np.getFromId,Hl.getFromTrace=np.getFromTrace;var Wl=wm();Hl.getAutoRange=Wl.getAutoRange,Hl.findExtremes=Wl.findExtremes;var Mu=1e-4;function zu(ep){var Qu=(ep[1]-ep[0])*Mu;return[ep[0]-Qu,ep[1]+Qu]}Hl.coerceRef=function(ep,Qu,Up,_f,u0,Vp){var Yp=_f.charAt(_f.length-1),p0=Up._fullLayout._subplots[Yp+"axis"],o0=_f+"ref",M0={};return u0||(u0=p0[0]||(typeof Vp=="string"?Vp:Vp[0])),Vp||(Vp=u0),p0=p0.concat(p0.map(function(L0){return L0+" domain"})),M0[o0]={valType:"enumerated",values:p0.concat(Vp?typeof Vp=="string"?[Vp]:Vp:[]),dflt:u0},Ft.coerce(ep,Qu,M0,o0)},Hl.getRefType=function(ep){return ep===void 0?ep:ep==="paper"?"paper":ep==="pixel"?"pixel":/( domain)$/.test(ep)?"domain":"range"},Hl.coercePosition=function(ep,Qu,Up,_f,u0,Vp){var Yp,p0,o0=Hl.getRefType(_f);if(o0!=="range")Yp=Ft.ensureNumber,p0=Up(u0,Vp);else{var M0=Hl.getFromId(Qu,_f);Vp=M0.fraction2r(Vp),p0=Up(u0,Vp),Yp=M0.cleanPos}ep[u0]=Yp(p0)},Hl.cleanPosition=function(ep,Qu,Up){var _f=Up==="paper"||Up==="pixel"?Ft.ensureNumber:Hl.getFromId(Qu,Up).cleanPos;return _f(ep)},Hl.redrawComponents=function(ep,Qu){Qu=Qu||Hl.listIds(ep);var Up=ep._fullLayout;function _f(u0,Vp,Yp,p0){for(var o0=Ln.getComponentMethod(u0,Vp),M0={},L0=0;L0<Qu.length;L0++)for(var rm=Up[Hl.id2name(Qu[L0])],Tm=rm[Yp],Mm=0;Mm<Tm.length;Mm++){var Vm=Tm[Mm];if(!M0[Vm]&&(o0(ep,Vm),M0[Vm]=1,p0))return}}_f("annotations","drawOne","_annIndices"),_f("shapes","drawOne","_shapeIndices"),_f("images","draw","_imgIndices",!0),_f("selections","drawOne","_selectionIndices")};var ip=Hl.getDataConversions=function(ep,Qu,Up,_f){var u0,Vp=Up==="x"||Up==="y"||Up==="z"?Up:_f;if(Ft.isArrayOrTypedArray(Vp)){if(u0={type:qu(_f,void 0,{autotypenumbers:ep._fullLayout.autotypenumbers}),_categories:[]},Hl.setConvert(u0),u0.type==="category")for(var Yp=0;Yp<_f.length;Yp++)u0.d2c(_f[Yp])}else u0=Hl.getFromTrace(ep,Qu,Vp);return u0?{d2c:u0.d2c,c2d:u0.c2d}:Vp==="ids"?{d2c:vp,c2d:vp}:{d2c:pp,c2d:pp}};function pp(ep){return+ep}function vp(ep){return String(ep)}Hl.getDataToCoordFunc=function(ep,Qu,Up,_f){return ip(ep,Qu,Up,_f).d2c},Hl.counterLetter=function(ep){var Qu=ep.charAt(0);if(Qu==="x")return"y";if(Qu==="y")return"x"},Hl.minDtick=function(ep,Qu,Up,_f){["log","category","multicategory"].indexOf(ep.type)!==-1||!_f?ep._minDtick=0:ep._minDtick===void 0?(ep._minDtick=Qu,ep._forceTick0=Up):ep._minDtick&&((ep._minDtick/Qu+1e-6)%1<2e-6&&((Up-ep._forceTick0)/Qu%1+1.000001)%1<2e-6?(ep._minDtick=Qu,ep._forceTick0=Up):((Qu/ep._minDtick+1e-6)%1>2e-6||((Up-ep._forceTick0)/ep._minDtick%1+1.000001)%1>2e-6)&&(ep._minDtick=0))},Hl.saveRangeInitial=function(ep,Qu){for(var Up=Hl.list(ep,"",!0),_f=!1,u0=0;u0<Up.length;u0++){var Vp=Up[u0],Yp=Vp._rangeInitial0===void 0&&Vp._rangeInitial1===void 0,p0=Yp||Vp.range[0]!==Vp._rangeInitial0||Vp.range[1]!==Vp._rangeInitial1,o0=Vp.autorange;(Yp&&o0!==!0||Qu&&p0)&&(Vp._rangeInitial0=o0==="min"||o0==="max reversed"?void 0:Vp.range[0],Vp._rangeInitial1=o0==="max"||o0==="min reversed"?void 0:Vp.range[1],Vp._autorangeInitial=o0,_f=!0)}return _f},Hl.saveShowSpikeInitial=function(ep,Qu){for(var Up=Hl.list(ep,"",!0),_f=!1,u0="on",Vp=0;Vp<Up.length;Vp++){var Yp=Up[Vp],p0=Yp._showSpikeInitial===void 0,o0=p0||Yp.showspikes!==Yp._showspikes;(p0||Qu&&o0)&&(Yp._showSpikeInitial=Yp.showspikes,_f=!0),u0==="on"&&!Yp.showspikes&&(u0="off")}return ep._fullLayout._cartesianSpikesEnabled=u0,_f},Hl.autoBin=function(ep,Qu,Up,_f,u0,Vp){var Yp=Ft.aggNums(Math.min,null,ep),p0=Ft.aggNums(Math.max,null,ep);if(Qu.type==="category"||Qu.type==="multicategory")return{start:Yp-.5,end:p0+.5,size:Math.max(1,Math.round(Vp)||1),_dataSpan:p0-Yp};u0||(u0=Qu.calendar);var o0;if(Qu.type==="log"?o0={type:"linear",range:[Yp,p0]}:o0={type:Qu.type,range:Ft.simpleMap([Yp,p0],Qu.c2r,0,u0),calendar:u0},Hl.setConvert(o0),Vp=Vp&&Sl.dtick(Vp,o0.type),Vp)o0.dtick=Vp,o0.tick0=Sl.tick0(void 0,o0.type,u0);else{var M0;if(Up)M0=(p0-Yp)/Up;else{var L0=Ft.distinctVals(ep),rm=Math.pow(10,Math.floor(Math.log(L0.minDiff)/Math.LN10)),Tm=rm*Ft.roundUp(L0.minDiff/rm,[.9,1.9,4.9,9.9],!0);M0=Math.max(Tm,2*Ft.stdev(ep)/Math.pow(ep.length,_f?.25:.4)),it(M0)||(M0=1)}Hl.autoTicks(o0,M0)}var Mm=o0.dtick,Vm=Hl.tickIncrement(Hl.tickFirst(o0),Mm,"reverse",u0),_m,Um;if(typeof Mm=="number")Vm=Pp(Vm,ep,o0,Yp,p0),Um=1+Math.floor((p0-Vm)/Mm),_m=Vm+Um*Mm;else for(o0.dtick.charAt(0)==="M"&&(Vm=Gp(Vm,ep,Mm,Yp,u0)),_m=Vm,Um=0;_m<=p0;)_m=Hl.tickIncrement(_m,Mm,!1,u0),Um++;return{start:Qu.c2r(Vm,0,u0),end:Qu.c2r(_m,0,u0),size:Mm,_dataSpan:p0-Yp}};function Pp(ep,Qu,Up,_f,u0){var Vp=0,Yp=0,p0=0,o0=0;function M0(Mm){return(1+(Mm-ep)*100/Up.dtick)%100<2}for(var L0=0;L0<Qu.length;L0++)Qu[L0]%1===0?p0++:it(Qu[L0])||o0++,M0(Qu[L0])&&Vp++,M0(Qu[L0]+Up.dtick/2)&&Yp++;var rm=Qu.length-o0;if(p0===rm&&Up.type!=="date")Up.dtick<1?ep=_f-.5*Up.dtick:(ep-=.5,ep+Up.dtick<_f&&(ep+=Up.dtick));else if(Yp<rm*.1&&(Vp>rm*.3||M0(_f)||M0(u0))){var Tm=Up.dtick/2;ep+=ep+Tm<_f?Tm:-Tm}return ep}function Gp(ep,Qu,Up,_f,u0){var Vp=Ft.findExactDates(Qu,u0),Yp=.8;if(Vp.exactDays>Yp){var p0=Number(Up.substr(1));Vp.exactYears>Yp&&p0%12===0?ep=Hl.tickIncrement(ep,"M6","reverse")+Jl*1.5:Vp.exactMonths>Yp?ep=Hl.tickIncrement(ep,"M1","reverse")+Jl*15.5:ep-=Kl;var o0=Hl.tickIncrement(ep,Up);if(o0<=_f)return o0}return ep}Hl.prepMinorTicks=function(ep,Qu,Up){if(!Qu.minor.dtick){delete ep.dtick;var _f=Qu.dtick&&it(Qu._tmin),u0;if(_f){var Vp=Hl.tickIncrement(Qu._tmin,Qu.dtick,!0);u0=[Qu._tmin,Vp*.99+Qu._tmin*.01]}else{var Yp=Ft.simpleMap(Qu.range,Qu.r2l);u0=[Yp[0],.8*Yp[0]+.2*Yp[1]]}if(ep.range=Ft.simpleMap(u0,Qu.l2r),ep._isMinor=!0,Hl.prepTicks(ep,Up),_f){var p0=it(Qu.dtick),o0=it(ep.dtick),M0=p0?Qu.dtick:+Qu.dtick.substring(1),L0=o0?ep.dtick:+ep.dtick.substring(1);p0&&o0?r0(M0,L0)?M0===2*Bu&&L0===2*Jl&&(ep.dtick=Bu):M0===2*Bu&&L0===3*Jl?ep.dtick=Bu:M0===Bu&&!(Qu._input.minor||{}).nticks?ep.dtick=Jl:C0(M0/L0,2.5)?ep.dtick=M0/2:ep.dtick=M0:String(Qu.dtick).charAt(0)==="M"?o0?ep.dtick="M1":r0(M0,L0)?M0>=12&&L0===2&&(ep.dtick="M3"):ep.dtick=Qu.dtick:String(ep.dtick).charAt(0)==="L"?String(Qu.dtick).charAt(0)==="L"?r0(M0,L0)||(ep.dtick=C0(M0/L0,2.5)?Qu.dtick/2:Qu.dtick):ep.dtick="D1":ep.dtick==="D2"&&+Qu.dtick>1&&(ep.dtick=1)}ep.range=Qu.range}Qu.minor._tick0Init===void 0&&(ep.tick0=Qu.tick0)};function r0(ep,Qu){return Math.abs((ep/Qu+.5)%1-.5)<.001}function C0(ep,Qu){return Math.abs(ep/Qu-1)<.001}Hl.prepTicks=function(ep,Qu){var Up=Ft.simpleMap(ep.range,ep.r2l,void 0,void 0,Qu);if(ep.tickmode==="auto"||!ep.dtick){var _f=ep.nticks,u0;_f||(ep.type==="category"||ep.type==="multicategory"?(u0=ep.tickfont?Ft.bigFont(ep.tickfont.size||12):15,_f=ep._length/u0):(u0=ep._id.charAt(0)==="y"?40:80,_f=Ft.constrain(ep._length/u0,4,9)+1),ep._name==="radialaxis"&&(_f*=2)),ep.minor&&ep.minor.tickmode!=="array"||ep.tickmode==="array"&&(_f*=100),ep._roughDTick=Math.abs(Up[1]-Up[0])/_f,Hl.autoTicks(ep,ep._roughDTick),ep._minDtick>0&&ep.dtick<ep._minDtick*2&&(ep.dtick=ep._minDtick,ep.tick0=ep.l2r(ep._forceTick0))}ep.ticklabelmode==="period"&&d0(ep),ep.tick0||(ep.tick0=ep.type==="date"?"2000-01-01":0),ep.type==="date"&&ep.dtick<.1&&(ep.dtick=.1),A0(ep)};function f0(ep){return+ep.substring(1)}function d0(ep){var Qu;function Up(){return!(it(ep.dtick)||ep.dtick.charAt(0)!=="M")}var _f=Up(),u0=Hl.getTickFormat(ep);if(u0){var Vp=ep._dtickInit!==ep.dtick;/%[fLQsSMX]/.test(u0)||(/%[HI]/.test(u0)?(Qu=Bl,Vp&&!_f&&ep.dtick<Bl&&(ep.dtick=Bl)):/%p/.test(u0)?(Qu=Kl,Vp&&!_f&&ep.dtick<Kl&&(ep.dtick=Kl)):/%[Aadejuwx]/.test(u0)?(Qu=Jl,Vp&&!_f&&ep.dtick<Jl&&(ep.dtick=Jl)):/%[UVW]/.test(u0)?(Qu=Bu,Vp&&!_f&&ep.dtick<Bu&&(ep.dtick=Bu)):/%[Bbm]/.test(u0)?(Qu=Il,Vp&&(_f?f0(ep.dtick)<1:ep.dtick<$l)&&(ep.dtick="M1")):/%[q]/.test(u0)?(Qu=Bn,Vp&&(_f?f0(ep.dtick)<3:ep.dtick<Cl)&&(ep.dtick="M3")):/%[Yy]/.test(u0)&&(Qu=El,Vp&&(_f?f0(ep.dtick)<12:ep.dtick<Ml)&&(ep.dtick="M12")))}_f=Up(),_f&&ep.tick0===ep._dowTick0&&(ep.tick0=ep._rawTick0),ep._definedDelta=Qu}function Sp(ep,Qu,Up){for(var _f=0;_f<ep.length;_f++){var u0=ep[_f].value,Vp=_f,Yp=_f+1;_f<ep.length-1?(Vp=_f,Yp=_f+1):_f>0?(Vp=_f-1,Yp=_f):(Vp=_f,Yp=_f);var p0=ep[Vp].value,o0=ep[Yp].value,M0=Math.abs(o0-p0),L0=Up||M0,rm=0;L0>=Ml?M0>=Ml&&M0<=Tl?rm=M0:rm=El:Up===Bn&&L0>=Cl?M0>=Cl&&M0<=Rl?rm=M0:rm=Bn:L0>=$l?M0>=$l&&M0<=Al?rm=M0:rm=Il:Up===Bu&&L0>=Bu?rm=Bu:L0>=Jl?rm=Jl:Up===Kl&&L0>=Kl?rm=Kl:Up===Bl&&L0>=Bl&&(rm=Bl);var Tm;rm>=M0&&(rm=M0,Tm=!0);var Mm=u0+rm;if(Qu.rangebreaks&&rm>0){for(var Vm=84,_m=0,Um=0;Um<Vm;Um++){var i1=(Um+.5)/Vm;Qu.maskBreaks(u0*(1-i1)+i1*Mm)!==Hu&&_m++}rm*=_m/Vm,rm||(ep[_f].drop=!0),Tm&&M0>Bu&&(rm=M0)}(rm>0||_f===0)&&(ep[_f].periodX=u0+rm/2)}}Hl.calcTicks=function(ep,Qu){for(var Up=ep.type,_f=ep.calendar,u0=ep.ticklabelstep,Vp=ep.ticklabelmode==="period",Yp=ep.range[0]>ep.range[1],p0=!ep.ticklabelindex||Ft.isArrayOrTypedArray(ep.ticklabelindex)?ep.ticklabelindex:[ep.ticklabelindex],o0=Ft.simpleMap(ep.range,ep.r2l,void 0,void 0,Qu),M0=o0[1]<o0[0],L0=Math.min(o0[0],o0[1]),rm=Math.max(o0[0],o0[1]),Tm=Math.max(1e3,ep._length||0),Mm=[],Vm=[],_m=[],Um=[],i1=[],ov=ep.minor&&(ep.minor.ticks||ep.minor.showgrid),R1=1;R1>=(ov?0:1);R1--){var Ov=!R1;R1?(ep._dtickInit=ep.dtick,ep._tick0Init=ep.tick0):(ep.minor._dtickInit=ep.minor.dtick,ep.minor._tick0Init=ep.minor.tick0);var V1=R1?ep:Ft.extendFlat({},ep,ep.minor);if(Ov?Hl.prepMinorTicks(V1,ep,Qu):Hl.prepTicks(V1,Qu),V1.tickmode==="array"){R1?(_m=[],Mm=jp(ep,!Ov)):(Um=[],Vm=jp(ep,!Ov));continue}if(V1.tickmode==="sync"){_m=[],Mm=cp(ep);continue}var Bv=zu(o0),Lv=Bv[0],ly=Bv[1],Jv=it(V1.dtick),q1=Up==="log"&&!(Jv||V1.dtick.charAt(0)==="L"),fy=Hl.tickFirst(V1,Qu);if(R1){if(ep._tmin=fy,fy<Lv!==M0)break;(Up==="category"||Up==="multicategory")&&(ly=M0?Math.max(-.5,ly):Math.min(ep._categories.length-.5,ly))}var ey=null,nv=fy,ry;if(R1){var uy;Jv?uy=ep.dtick:Up==="date"?typeof ep.dtick=="string"&&ep.dtick.charAt(0)==="M"&&(uy=Il*ep.dtick.substring(1)):uy=ep._roughDTick,ry=Math.round((ep.r2l(nv)-ep.r2l(ep.tick0))/uy)-1}var ny=V1.dtick;for(V1.rangebreaks&&V1._tick0Init!==V1.tick0&&(nv=dv(nv,ep),M0||(nv=Hl.tickIncrement(nv,ny,!M0,_f))),R1&&Vp&&(nv=Hl.tickIncrement(nv,ny,!M0,_f),ry--);M0?nv>=ly:nv<=ly;nv=Hl.tickIncrement(nv,ny,M0,_f)){if(R1&&ry++,V1.rangebreaks&&!M0){if(nv<Lv)continue;if(V1.maskBreaks(nv)===Hu&&dv(nv,V1)>=rm)break}if(_m.length>Tm||nv===ey)break;ey=nv;var Py={value:nv};R1?(q1&&nv!==(nv|0)&&(Py.simpleLabel=!0),u0>1&&ry%u0&&(Py.skipLabel=!0),_m.push(Py)):(Py.minor=!0,Um.push(Py))}}if(!Um||Um.length<2)p0=!1;else{var o2=(Um[1].value-Um[0].value)*(Yp?-1:1);Tv(o2,ep.tickformat)||(p0=!1)}if(!p0)i1=_m;else{var bv=_m.concat(Um);Vp&&_m.length&&(bv=bv.slice(1)),bv=bv.sort(function(jv,Sy){return jv.value-Sy.value}).filter(function(jv,Sy,Ny){return Sy===0||jv.value!==Ny[Sy-1].value});var Hv=bv.map(function(jv,Sy){return jv.minor===void 0&&!jv.skipLabel?Sy:null}).filter(function(jv){return jv!==null});Hv.forEach(function(jv){p0.map(function(Sy){var Ny=jv+Sy;Ny>=0&&Ny<bv.length&&Ft.pushUnique(i1,bv[Ny])})})}if(ov){var zv=ep.minor.ticks==="inside"&&ep.ticks==="outside"||ep.minor.ticks==="outside"&&ep.ticks==="inside";if(!zv){for(var Gv=_m.map(function(jv){return jv.value}),by=[],Dy=0;Dy<Um.length;Dy++){var Vy=Um[Dy],Ly=Vy.value;if(Gv.indexOf(Ly)===-1){for(var t2=!1,Iy=0;!t2&&Iy<_m.length;Iy++)1e7+_m[Iy].value===1e7+Ly&&(t2=!0);t2||by.push(Vy)}}Um=by}}Vp&&Sp(i1,ep,ep._definedDelta);var Nv;if(ep.rangebreaks){var S2=ep._id.charAt(0)==="y",Uy=1;ep.tickmode==="auto"&&(Uy=ep.tickfont?ep.tickfont.size:12);var s2=NaN;for(Nv=_m.length-1;Nv>-1;Nv--){if(_m[Nv].drop){_m.splice(Nv,1);continue}_m[Nv].value=dv(_m[Nv].value,ep);var r2=ep.c2p(_m[Nv].value);(S2?s2>r2-Uy:s2<r2+Uy)?_m.splice(M0?Nv+1:Nv,1):s2=r2}}cv(ep)&&Math.abs(o0[1]-o0[0])===360&&_m.pop(),ep._tmax=(_m[_m.length-1]||{}).value,ep._prevDateHead="",ep._inCalcTicks=!0;var Wy,R2=function(jv){jv.text="",ep._prevDateHead=Wy};_m=_m.concat(Um);function y2(jv,Sy){var Ny=Hl.tickText(jv,Sy.value,!1,Sy.simpleLabel),l2=Sy.periodX;return l2!==void 0&&(Ny.periodX=l2,(l2>rm||l2<L0)&&(l2>rm&&(Ny.periodX=rm),l2<L0&&(Ny.periodX=L0),R2(Ny))),Ny}var Ky;for(Nv=0;Nv<_m.length;Nv++){var A2=_m[Nv].minor,N2=_m[Nv].value;A2?(p0&&i1.indexOf(_m[Nv])!==-1?Ky=y2(ep,_m[Nv]):Ky={x:N2},Ky.minor=!0,Vm.push(Ky)):(Wy=ep._prevDateHead,Ky=y2(ep,_m[Nv]),(_m[Nv].skipLabel||p0&&i1.indexOf(_m[Nv])===-1)&&R2(Ky),Mm.push(Ky))}return Mm=Mm.concat(Vm),ep._inCalcTicks=!1,Vp&&Mm.length&&(Mm[0].noTick=!0),Mm};function Fp(ep,Qu){return ep.rangebreaks&&(Qu=Qu.filter(function(Up){return ep.maskBreaks(Up.x)!==Hu})),Qu}function cp(ep){var Qu=ep._mainAxis,Up=[];if(Qu._vals){for(var _f=0;_f<Qu._vals.length;_f++)if(!Qu._vals[_f].noTick){var u0=Qu.l2p(Qu._vals[_f].x),Vp=ep.p2l(u0),Yp=Hl.tickText(ep,Vp);Qu._vals[_f].minor&&(Yp.minor=!0,Yp.text=""),Up.push(Yp)}}return Up=Fp(ep,Up),Up}function jp(ep,Qu){var Up=Ft.simpleMap(ep.range,ep.r2l),_f=zu(Up),u0=Math.min(_f[0],_f[1]),Vp=Math.max(_f[0],_f[1]),Yp=ep.type==="category"?ep.d2l_noadd:ep.d2l;ep.type==="log"&&String(ep.dtick).charAt(0)!=="L"&&(ep.dtick="L"+Math.pow(10,Math.floor(Math.min(ep.range[0],ep.range[1]))-1));for(var p0=[],o0=0;o0<=1;o0++)if(!(Qu!==void 0&&(Qu&&o0||Qu===!1&&!o0))&&!(o0&&!ep.minor)){var M0=o0?ep.minor.tickvals:ep.tickvals,L0=o0?[]:ep.ticktext;if(M0){Ft.isArrayOrTypedArray(L0)||(L0=[]);for(var rm=0;rm<M0.length;rm++){var Tm=Yp(M0[rm]);if(Tm>u0&&Tm<Vp){var Mm=Hl.tickText(ep,Tm,!1,String(L0[rm]));o0&&(Mm.minor=!0,Mm.text=""),p0.push(Mm)}}}}return p0=Fp(ep,p0),p0}var a0=[2,5,10],y0=[1,2,3,6,12],P0=[1,2,5,10,15,30],E0=[1,2,3,7,14],O0=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],j0=[-.301,0,.301,.699,1],$0=[15,30,45,90,180];function tm(ep,Qu,Up){return Qu*Ft.roundUp(ep/Qu,Up)}Hl.autoTicks=function(ep,Qu,Up){var _f;function u0(rm){return Math.pow(rm,Math.floor(Math.log(Qu)/Math.LN10))}if(ep.type==="date"){ep.tick0=Ft.dateTick0(ep.calendar,0);var Vp=2*Qu;if(Vp>El)Qu/=El,_f=u0(10),ep.dtick="M"+12*tm(Qu,_f,a0);else if(Vp>Il)Qu/=Il,ep.dtick="M"+tm(Qu,1,y0);else if(Vp>Jl){if(ep.dtick=tm(Qu,Jl,ep._hasDayOfWeekBreaks?[1,2,7,14]:E0),!Up){var Yp=Hl.getTickFormat(ep),p0=ep.ticklabelmode==="period";p0&&(ep._rawTick0=ep.tick0),/%[uVW]/.test(Yp)?ep.tick0=Ft.dateTick0(ep.calendar,2):ep.tick0=Ft.dateTick0(ep.calendar,1),p0&&(ep._dowTick0=ep.tick0)}}else Vp>Bl?ep.dtick=tm(Qu,Bl,y0):Vp>$u?ep.dtick=tm(Qu,$u,P0):Vp>mu?ep.dtick=tm(Qu,mu,P0):(_f=u0(10),ep.dtick=tm(Qu,_f,a0))}else if(ep.type==="log"){ep.tick0=0;var o0=Ft.simpleMap(ep.range,ep.r2l);if(ep._isMinor&&(Qu*=1.5),Qu>.7)ep.dtick=Math.ceil(Qu);else if(Math.abs(o0[1]-o0[0])<1){var M0=1.5*Math.abs((o0[1]-o0[0])/Qu);Qu=Math.abs(Math.pow(10,o0[1])-Math.pow(10,o0[0]))/M0,_f=u0(10),ep.dtick="L"+tm(Qu,_f,a0)}else ep.dtick=Qu>.3?"D2":"D1"}else ep.type==="category"||ep.type==="multicategory"?(ep.tick0=0,ep.dtick=Math.ceil(Math.max(Qu,1))):cv(ep)?(ep.tick0=0,_f=1,ep.dtick=tm(Qu,_f,$0)):(ep.tick0=0,_f=u0(10),ep.dtick=tm(Qu,_f,a0));if(ep.dtick===0&&(ep.dtick=1),!it(ep.dtick)&&typeof ep.dtick!="string"){var L0=ep.dtick;throw ep.dtick=1,"ax.dtick error: "+String(L0)}};function A0(ep){var Qu=ep.dtick;if(ep._tickexponent=0,!it(Qu)&&typeof Qu!="string"&&(Qu=1),(ep.type==="category"||ep.type==="multicategory")&&(ep._tickround=null),ep.type==="date"){var Up=ep.r2l(ep.tick0),_f=ep.l2r(Up).replace(/(^-|i)/g,""),u0=_f.length;if(String(Qu).charAt(0)==="M")u0>10||_f.substr(5)!=="01-01"?ep._tickround="d":ep._tickround=+Qu.substr(1)%12===0?"y":"m";else if(Qu>=Jl&&u0<=10||Qu>=Jl*15)ep._tickround="d";else if(Qu>=$u&&u0<=16||Qu>=Bl)ep._tickround="M";else if(Qu>=mu&&u0<=19||Qu>=$u)ep._tickround="S";else{var Vp=ep.l2r(Up+Qu).replace(/^-/,"").length;ep._tickround=Math.max(u0,Vp)-20,ep._tickround<0&&(ep._tickround=4)}}else if(it(Qu)||Qu.charAt(0)==="L"){var Yp=ep.range.map(ep.r2d||Number);it(Qu)||(Qu=Number(Qu.substr(1))),ep._tickround=2-Math.floor(Math.log(Qu)/Math.LN10+.01);var p0=Math.max(Math.abs(Yp[0]),Math.abs(Yp[1])),o0=Math.floor(Math.log(p0)/Math.LN10+.01),M0=ep.minexponent===void 0?3:ep.minexponent;Math.abs(o0)>M0&&(Bp(ep.exponentformat)&&ep.exponentformat!=="SI extended"&&!Jp(o0)||Bp(ep.exponentformat)&&ep.exponentformat==="SI extended"&&!n0(o0)?ep._tickexponent=3*Math.round((o0-1)/3):ep._tickexponent=o0)}else ep._tickround=null}Hl.tickIncrement=function(ep,Qu,Up,_f){var u0=Up?-1:1;if(it(Qu))return Ft.increment(ep,u0*Qu);var Vp=Qu.charAt(0),Yp=u0*Number(Qu.substr(1));if(Vp==="M")return Ft.incrementMonth(ep,Yp,_f);if(Vp==="L")return Math.log(Math.pow(10,ep)+Yp)/Math.LN10;if(Vp==="D"){var p0=Qu==="D2"?j0:O0,o0=ep+u0*.01,M0=Ft.roundUp(Ft.mod(o0,1),p0,Up);return Math.floor(o0)+Math.log(jt.round(Math.pow(10,M0),1))/Math.LN10}throw"unrecognized dtick "+String(Qu)},Hl.tickFirst=function(ep,Qu){var Up=ep.r2l||Number,_f=Ft.simpleMap(ep.range,Up,void 0,void 0,Qu),u0=_f[1]<_f[0],Vp=u0?Math.floor:Math.ceil,Yp=zu(_f)[0],p0=ep.dtick,o0=Up(ep.tick0);if(it(p0)){var M0=Vp((Yp-o0)/p0)*p0+o0;return(ep.type==="category"||ep.type==="multicategory")&&(M0=Ft.constrain(M0,0,ep._categories.length-1)),M0}var L0=p0.charAt(0),rm=Number(p0.substr(1));if(L0==="M"){for(var Tm=0,Mm=o0,Vm,_m,Um;Tm<10;){if(Vm=Hl.tickIncrement(Mm,p0,u0,ep.calendar),(Vm-Yp)*(Mm-Yp)<=0)return u0?Math.min(Mm,Vm):Math.max(Mm,Vm);_m=(Yp-(Mm+Vm)/2)/(Vm-Mm),Um=L0+(Math.abs(Math.round(_m))||1)*rm,Mm=Hl.tickIncrement(Mm,Um,_m<0?!u0:u0,ep.calendar),Tm++}return Ft.error("tickFirst did not converge",ep),Mm}else{if(L0==="L")return Math.log(Vp((Math.pow(10,Yp)-o0)/rm)*rm+o0)/Math.LN10;if(L0==="D"){var i1=p0==="D2"?j0:O0,ov=Ft.roundUp(Ft.mod(Yp,1),i1,u0);return Math.floor(Yp)+Math.log(jt.round(Math.pow(10,ov),1))/Math.LN10}else throw"unrecognized dtick "+String(p0)}},Hl.tickText=function(ep,Qu,Up,_f){var u0=sm(ep,Qu),Vp=ep.tickmode==="array",Yp=Up||Vp,p0=ep.type,o0=p0==="category"?ep.d2l_noadd:ep.d2l,M0,L0=function(Um){var i1=ep.l2p(Um);return i1>=0&&i1<=ep._length?Um:null};if(Vp&&Ft.isArrayOrTypedArray(ep.ticktext)){var rm=Ft.simpleMap(ep.range,ep.r2l),Tm=(Math.abs(rm[1]-rm[0])-(ep._lBreaks||0))/1e4;for(M0=0;M0<ep.ticktext.length&&!(Math.abs(Qu-o0(ep.tickvals[M0]))<Tm);M0++);if(M0<ep.ticktext.length)return u0.text=String(ep.ticktext[M0]),u0.xbnd=[L0(u0.x-.5),L0(u0.x+ep.dtick-.5)],u0}function Mm(Um){if(Um===void 0)return!0;if(Up)return Um==="none";var i1={first:ep._tmin,last:ep._tmax}[Um];return Um!=="all"&&Qu!==i1}var Vm=Up?"never":ep.exponentformat!=="none"&&Mm(ep.showexponent)?"hide":"";if(p0==="date"?pm(ep,u0,Up,Yp):p0==="log"?nm(ep,u0,Up,Yp,Vm):p0==="category"?vm(ep,u0):p0==="multicategory"?kp(ep,u0,Up):cv(ep)?Xu(ep,u0,Up,Yp,Vm):qp(ep,u0,Up,Yp,Vm),_f||(ep.tickprefix&&!Mm(ep.showtickprefix)&&(u0.text=ep.tickprefix+u0.text),ep.ticksuffix&&!Mm(ep.showticksuffix)&&(u0.text+=ep.ticksuffix)),ep.labelalias&&ep.labelalias.hasOwnProperty(u0.text)){var _m=ep.labelalias[u0.text];typeof _m=="string"&&(u0.text=_m)}return(ep.tickson==="boundaries"||ep.showdividers)&&(u0.xbnd=[L0(u0.x-.5),L0(u0.x+ep.dtick-.5)]),u0},Hl.hoverLabelText=function(ep,Qu,Up){Up&&(ep=Ft.extendFlat({},ep,{hoverformat:Up}));var _f=Ft.isArrayOrTypedArray(Qu)?Qu[0]:Qu,u0=Ft.isArrayOrTypedArray(Qu)?Qu[1]:void 0;if(u0!==void 0&&u0!==_f)return Hl.hoverLabelText(ep,_f,Up)+" - "+Hl.hoverLabelText(ep,u0,Up);var Vp=ep.type==="log"&&_f<=0,Yp=Hl.tickText(ep,ep.c2l(Vp?-_f:_f),"hover").text;return Vp?_f===0?"0":Fu+Yp:Yp};function sm(ep,Qu,Up){var _f=ep.tickfont||{};return{x:Qu,dx:0,dy:0,text:Up||"",fontSize:_f.size,font:_f.family,fontWeight:_f.weight,fontStyle:_f.style,fontVariant:_f.variant,fontTextcase:_f.textcase,fontLineposition:_f.lineposition,fontShadow:_f.shadow,fontColor:_f.color}}function pm(ep,Qu,Up,_f){var u0=ep._tickround,Vp=Up&&ep.hoverformat||Hl.getTickFormat(ep);_f=!Vp&&_f,_f&&(it(u0)?u0=4:u0={y:"m",m:"d",d:"M",M:"S",S:4}[u0]);var Yp=Ft.formatDate(Qu.x,Vp,u0,ep._dateFormat,ep.calendar,ep._extraFormat),p0,o0=Yp.indexOf(`
`);if(o0!==-1&&(p0=Yp.substr(o0+1),Yp=Yp.substr(0,o0)),_f&&(p0!==void 0&&(Yp==="00:00:00"||Yp==="00:00")?(Yp=p0,p0=""):Yp.length===8&&(Yp=Yp.replace(/:00$/,""))),p0)if(Up)u0==="d"?Yp+=", "+p0:Yp=p0+(Yp?", "+Yp:"");else if(!ep._inCalcTicks||ep._prevDateHead!==p0)ep._prevDateHead=p0,Yp+="<br>"+p0;else{var M0=L1(ep),L0=ep._trueSide||ep.side;(!M0&&L0==="top"||M0&&L0==="bottom")&&(Yp+="<br> ")}Qu.text=Yp}function nm(ep,Qu,Up,_f,u0){var Vp=ep.dtick,Yp=Qu.x,p0=ep.tickformat,o0=typeof Vp=="string"&&Vp.charAt(0);if(u0==="never"&&(u0=""),_f&&o0!=="L"&&(Vp="L3",o0="L"),p0||o0==="L")Qu.text=v0(Math.pow(10,Yp),ep,u0,_f);else if(it(Vp)||o0==="D"&&(ep.minorloglabels==="complete"||Ft.mod(Yp+.01,1)<.1)){ep.minorloglabels==="complete"&&!(Ft.mod(Yp+.01,1)<.1)&&(Qu.fontSize*=.75);var M0=Math.pow(10,Yp).toExponential(0),L0=M0.split("e"),rm=+L0[1],Tm=Math.abs(rm),Mm=ep.exponentformat;Mm==="power"||Bp(Mm)&&Mm!=="SI extended"&&Jp(rm)||Bp(Mm)&&Mm==="SI extended"&&n0(rm)?(Qu.text=L0[0],Tm>0&&(Qu.text+="x10"),Qu.text==="1x10"&&(Qu.text="10"),rm!==0&&rm!==1&&(Qu.text+="<sup>"+(rm>0?"":Fu)+Tm+"</sup>"),Qu.fontSize*=1.25):(Mm==="e"||Mm==="E")&&Tm>2?Qu.text=L0[0]+Mm+(rm>0?"+":Fu)+Tm:(Qu.text=v0(Math.pow(10,Yp),ep,"","fakehover"),Vp==="D1"&&ep._id.charAt(0)==="y"&&(Qu.dy-=Qu.fontSize/6))}else if(o0==="D")Qu.text=ep.minorloglabels==="none"?"":String(Math.round(Math.pow(10,Ft.mod(Yp,1)))),Qu.fontSize*=.75;else throw"unrecognized dtick "+String(Vp);if(ep.dtick==="D1"){var Vm=String(Qu.text).charAt(0);(Vm==="0"||Vm==="1")&&(ep._id.charAt(0)==="y"?Qu.dx-=Qu.fontSize/4:(Qu.dy+=Qu.fontSize/2,Qu.dx+=(ep.range[1]>ep.range[0]?1:-1)*Qu.fontSize*(Yp<0?.5:.25)))}}function vm(ep,Qu){var Up=ep._categories[Math.round(Qu.x)];Up===void 0&&(Up=""),Qu.text=String(Up)}function kp(ep,Qu,Up){var _f=Math.round(Qu.x),u0=ep._categories[_f]||[],Vp=u0[1]===void 0?"":String(u0[1]),Yp=u0[0]===void 0?"":String(u0[0]);Up?Qu.text=Yp+" - "+Vp:(Qu.text=Vp,Qu.text2=Yp)}function qp(ep,Qu,Up,_f,u0){u0==="never"?u0="":ep.showexponent==="all"&&Math.abs(Qu.x/ep.dtick)<1e-6&&(u0="hide"),Qu.text=v0(Qu.x,ep,u0,_f)}function Xu(ep,Qu,Up,_f,u0){if(ep.thetaunit==="radians"&&!Up){var Vp=Qu.x/180;if(Vp===0)Qu.text="0";else{var Yp=hp(Vp);if(Yp[1]>=100)Qu.text=v0(Ft.deg2rad(Qu.x),ep,u0,_f);else{var p0=Qu.x<0;Yp[1]===1?Yp[0]===1?Qu.text="":Qu.text=Yp[0]+"":Qu.text=["<sup>",Yp[0],"</sup>","","<sub>",Yp[1],"</sub>",""].join(""),p0&&(Qu.text=Fu+Qu.text)}}}else Qu.text=v0(Qu.x,ep,u0,_f)}function hp(ep){function Qu(p0,o0){return Math.abs(p0-o0)<=1e-6}function Up(p0,o0){return Qu(o0,0)?p0:Up(o0,p0%o0)}function _f(p0){for(var o0=1;!Qu(Math.round(p0*o0)/o0,p0);)o0*=10;return o0}var u0=_f(ep),Vp=ep*u0,Yp=Math.abs(Up(Vp,u0));return[Math.round(Vp/Yp),Math.round(u0/Yp)]}var yp=["f","p","n","","m","","k","M","G","T"],Dp=["q","r","y","z","a",...yp,"P","E","Z","Y","R","Q"],Bp=ep=>["SI","SI extended","B"].includes(ep);function Jp(ep){return ep>14||ep<-15}function n0(ep){return ep>32||ep<-30}function b0(ep,Qu){return Bp(Qu)?!!(Qu==="SI extended"&&n0(ep)||Qu!=="SI extended"&&Jp(ep)):!1}function v0(ep,Qu,Up,_f){var u0=ep<0,Vp=Qu._tickround,Yp=Up||Qu.exponentformat||"B",p0=Qu._tickexponent,o0=Hl.getTickFormat(Qu),M0=Qu.separatethousands;if(_f){var L0={exponentformat:Yp,minexponent:Qu.minexponent,dtick:Qu.showexponent==="none"?Qu.dtick:it(ep)&&Math.abs(ep)||1,range:Qu.showexponent==="none"?Qu.range.map(Qu.r2d):[0,ep||1]};A0(L0),Vp=(Number(L0._tickround)||0)+4,p0=L0._tickexponent,Qu.hoverformat&&(o0=Qu.hoverformat)}if(o0)return Qu._numFormat(o0)(ep).replace(/-/g,Fu);var rm=Math.pow(10,-Vp)/2;if(Yp==="none"&&(p0=0),ep=Math.abs(ep),ep<rm)ep="0",u0=!1;else{if(ep+=rm,p0&&(ep*=Math.pow(10,-p0),Vp+=p0),Vp===0)ep=String(Math.floor(ep));else if(Vp<0){ep=String(Math.round(ep)),ep=ep.substr(0,ep.length+Vp);for(var Tm=Vp;Tm<0;Tm++)ep+="0"}else{ep=String(ep);var Mm=ep.indexOf(".")+1;Mm&&(ep=ep.substr(0,Mm+Vp).replace(/\.?0+$/,""))}ep=Ft.numSeparate(ep,Qu._separators,M0)}if(p0&&Yp!=="hide"){b0(p0,Yp)&&(Yp="power");var Vm;p0<0?Vm=Fu+-p0:Yp!=="power"?Vm="+"+p0:Vm=String(p0),Yp==="e"||Yp==="E"?ep+=Yp+Vm:Yp==="power"?ep+="10<sup>"+Vm+"</sup>":Yp==="B"&&p0===9?ep+="B":Bp(Yp)&&(ep+=Yp==="SI extended"?Dp[p0/3+10]:yp[p0/3+5])}return u0?Fu+ep:ep}Hl.getTickFormat=function(ep){var Qu;function Up(o0){return typeof o0!="string"?o0:Number(o0.replace("M",""))*Il}function _f(o0,M0){var L0=["L","D"];if(typeof o0==typeof M0){if(typeof o0=="number")return o0-M0;var rm=L0.indexOf(o0.charAt(0)),Tm=L0.indexOf(M0.charAt(0));return rm===Tm?Number(o0.replace(/(L|D)/g,""))-Number(M0.replace(/(L|D)/g,"")):rm-Tm}else return typeof o0=="number"?1:-1}function u0(o0,M0,L0){var rm=L0||function(Vm){return Vm},Tm=M0[0],Mm=M0[1];return(!Tm&&typeof Tm!="number"||rm(Tm)<=rm(o0))&&(!Mm&&typeof Mm!="number"||rm(Mm)>=rm(o0))}function Vp(o0,M0){var L0=M0[0]===null,rm=M0[1]===null,Tm=_f(o0,M0[0])>=0,Mm=_f(o0,M0[1])<=0;return(L0||Tm)&&(rm||Mm)}var Yp,p0;if(ep.tickformatstops&&ep.tickformatstops.length>0)switch(ep.type){case"date":case"linear":{for(Qu=0;Qu<ep.tickformatstops.length;Qu++)if(p0=ep.tickformatstops[Qu],p0.enabled&&u0(ep.dtick,p0.dtickrange,Up)){Yp=p0;break}break}case"log":{for(Qu=0;Qu<ep.tickformatstops.length;Qu++)if(p0=ep.tickformatstops[Qu],p0.enabled&&Vp(ep.dtick,p0.dtickrange)){Yp=p0;break}break}}return Yp?Yp.value:ep.tickformat},Hl.getSubplots=function(ep,Qu){var Up=ep._fullLayout._subplots,_f=Up.cartesian.concat(Up.gl2d||[]),u0=Qu?Hl.findSubplotsWithAxis(_f,Qu):_f;return u0.sort(function(Vp,Yp){var p0=Vp.substr(1).split("y"),o0=Yp.substr(1).split("y");return p0[0]===o0[0]?+p0[1]-+o0[1]:+p0[0]-+o0[0]}),u0},Hl.findSubplotsWithAxis=function(ep,Qu){for(var Up=new RegExp(Qu._id.charAt(0)==="x"?"^"+Qu._id+"y":Qu._id+"$"),_f=[],u0=0;u0<ep.length;u0++){var Vp=ep[u0];Up.test(Vp)&&_f.push(Vp)}return _f},Hl.makeClipPaths=function(ep){var Qu=ep._fullLayout;if(!Qu._hasOnlyLargeSploms){var Up={_offset:0,_length:Qu.width,_id:""},_f={_offset:0,_length:Qu.height,_id:""},u0=Hl.list(ep,"x",!0),Vp=Hl.list(ep,"y",!0),Yp=[],p0,o0;for(p0=0;p0<u0.length;p0++)for(Yp.push({x:u0[p0],y:_f}),o0=0;o0<Vp.length;o0++)p0===0&&Yp.push({x:Up,y:Vp[o0]}),Yp.push({x:u0[p0],y:Vp[o0]});var M0=Qu._clips.selectAll(".axesclip").data(Yp,function(L0){return L0.x._id+L0.y._id});M0.enter().append("clipPath").classed("axesclip",!0).attr("id",function(L0){return"clip"+Qu._uid+L0.x._id+L0.y._id}).append("rect"),M0.exit().remove(),M0.each(function(L0){jt.select(this).select("rect").attr({x:L0.x._offset||0,y:L0.y._offset||0,width:L0.x._length||1,height:L0.y._length||1})})}},Hl.draw=function(ep,Qu,Up){var _f=ep._fullLayout;Qu==="redraw"&&_f._paper.selectAll("g.subplot").each(function(o0){var M0=o0[0],L0=_f._plots[M0];if(L0){var rm=L0.xaxis,Tm=L0.yaxis;L0.xaxislayer.selectAll("."+rm._id+"tick").remove(),L0.yaxislayer.selectAll("."+Tm._id+"tick").remove(),L0.xaxislayer.selectAll("."+rm._id+"tick2").remove(),L0.yaxislayer.selectAll("."+Tm._id+"tick2").remove(),L0.xaxislayer.selectAll("."+rm._id+"divider").remove(),L0.yaxislayer.selectAll("."+Tm._id+"divider").remove(),L0.minorGridlayer&&L0.minorGridlayer.selectAll("path").remove(),L0.gridlayer&&L0.gridlayer.selectAll("path").remove(),L0.zerolinelayer&&L0.zerolinelayer.selectAll("path").remove(),L0.zerolinelayerAbove&&L0.zerolinelayerAbove.selectAll("path").remove(),_f._infolayer.select(".g-"+rm._id+"title").remove(),_f._infolayer.select(".g-"+Tm._id+"title").remove()}});var u0=!Qu||Qu==="redraw"?Hl.listIds(ep):Qu,Vp=Hl.list(ep),Yp=Vp.filter(function(o0){return o0.autoshift}).map(function(o0){return o0.overlaying});u0.map(function(o0){var M0=Hl.getFromId(ep,o0);if(M0.tickmode==="sync"&&M0.overlaying){var L0=u0.findIndex(function(rm){return rm===M0.overlaying});L0>=0&&u0.unshift(u0.splice(L0,1).shift())}});var p0={false:{left:0,right:0}};return Ft.syncOrAsync(u0.map(function(o0){return function(){if(o0){var M0=Hl.getFromId(ep,o0);Up||(Up={}),Up.axShifts=p0,Up.overlayingShiftedAx=Yp;var L0=Hl.drawOne(ep,M0,Up);return M0._shiftPusher&&W1(M0,M0._fullDepth||0,p0,!0),M0._r=M0.range.slice(),M0._rl=Ft.simpleMap(M0._r,M0.r2l),L0}}}))},Hl.drawOne=function(ep,Qu,Up){Up=Up||{};var _f=Up.axShifts||{},u0=Up.overlayingShiftedAx||[],Vp,Yp,p0;Qu.setScale();var o0=ep._fullLayout,M0=Qu._id,L0=M0.charAt(0),rm=Hl.counterLetter(M0),Tm=o0._plots[Qu._mainSubplot],Mm=Qu.zerolinelayer==="above traces";if(!Tm)return;if(Qu._shiftPusher=Qu.autoshift||u0.indexOf(Qu._id)!==-1||u0.indexOf(Qu.overlaying)!==-1,Qu._shiftPusher&Qu.anchor==="free"){var Vm=Qu.linewidth/2||0;Qu.ticks==="inside"&&(Vm+=Qu.ticklen),W1(Qu,Vm,_f,!0),W1(Qu,Qu.shift||0,_f,!1)}(Up.skipTitle!==!0||Qu._shift===void 0)&&(Qu._shift=Hm(Qu,_f));var _m=Tm[L0+"axislayer"],Um=Qu._mainLinePosition,i1=Um+=Qu._shift,ov=Qu._mainMirrorPosition,R1=Qu._vals=Hl.calcTicks(Qu),Ov=[Qu.mirror,i1,ov].join("_");for(Vp=0;Vp<R1.length;Vp++)R1[Vp].axInfo=Ov;Qu._selections={},Qu._tickAngles&&(Qu._prevTickAngles=Qu._tickAngles),Qu._tickAngles={},Qu._depth=null;var V1={};function Bv(jv){var Sy=M0+(jv||"tick");return V1[Sy]||(V1[Sy]=gm(Qu,Sy,i1)),V1[Sy]}if(Qu.visible){var Lv=Hl.makeTransTickFn(Qu),ly=Hl.makeTransTickLabelFn(Qu),Jv,q1,fy=Qu.ticks==="inside",ey=Qu.ticks==="outside";if(Qu.tickson==="boundaries"){var nv=U0(Qu,R1);q1=Hl.clipEnds(Qu,nv),Jv=fy?q1:nv}else q1=Hl.clipEnds(Qu,R1),Jv=fy&&Qu.ticklabelmode!=="period"?q1:R1;var ry=Qu._gridVals=q1,uy=Y0(Qu,R1);if(!o0._hasOnlyLargeSploms){var ny=Qu._subplotsWith,Py={};for(Vp=0;Vp<ny.length;Vp++){Yp=ny[Vp],p0=o0._plots[Yp];var o2=p0[rm+"axis"],bv=o2._mainAxis._id;if(!Py[bv]){Py[bv]=1;var Hv=L0==="x"?"M0,"+o2._offset+"v"+o2._length:"M"+o2._offset+",0h"+o2._length;Hl.drawGrid(ep,Qu,{vals:ry,counterAxis:o2,layer:p0.gridlayer.select("."+M0),minorLayer:p0.minorGridlayer.select("."+M0),path:Hv,transFn:Lv}),Hl.drawZeroLine(ep,Qu,{counterAxis:o2,layer:Mm?p0.zerolinelayerAbove:p0.zerolinelayer,path:Hv,transFn:Lv})}}}var zv,Gv=Hl.getTickSigns(Qu),by=Hl.getTickSigns(Qu,"minor");if(Qu.ticks||Qu.minor&&Qu.minor.ticks){var Dy=Hl.makeTickPath(Qu,i1,Gv[2]),Vy=Hl.makeTickPath(Qu,i1,by[2],{minor:!0}),Ly,t2,Iy,Nv;if(Qu._anchorAxis&&Qu.mirror&&Qu.mirror!==!0?(Ly=Hl.makeTickPath(Qu,ov,Gv[3]),t2=Hl.makeTickPath(Qu,ov,by[3],{minor:!0}),Iy=Dy+Ly,Nv=Vy+t2):(Ly="",t2="",Iy=Dy,Nv=Vy),Qu.showdividers&&ey&&Qu.tickson==="boundaries"){var S2={};for(Vp=0;Vp<uy.length;Vp++)S2[uy[Vp].x]=1;zv=function(jv){return S2[jv.x]?Ly:Iy}}else zv=function(jv){return jv.minor?Nv:Iy}}if(Hl.drawTicks(ep,Qu,{vals:Jv,layer:_m,path:zv,transFn:Lv}),Qu.mirror==="allticks"){var Uy=Object.keys(Qu._linepositions||{});for(Vp=0;Vp<Uy.length;Vp++){Yp=Uy[Vp],p0=o0._plots[Yp];var s2=Qu._linepositions[Yp]||[],r2=s2[0],Wy=s2[1],R2=s2[2],y2=Hl.makeTickPath(Qu,r2,R2?Gv[0]:by[0],{minor:R2})+Hl.makeTickPath(Qu,Wy,R2?Gv[1]:by[1],{minor:R2});Hl.drawTicks(ep,Qu,{vals:Jv,layer:p0[L0+"axislayer"],path:y2,transFn:Lv})}}var Ky=[];if(Ky.push(function(){return Hl.drawLabels(ep,Qu,{vals:R1,layer:_m,plotinfo:p0,transFn:ly,labelFns:Hl.makeLabelFns(Qu,i1)})}),Qu.type==="multicategory"){var A2={x:2,y:10}[L0];Ky.push(function(){var jv={x:"height",y:"width"}[L0],Sy=Bv()[jv]+A2+(Qu._tickAngles[M0+"tick"]?Qu.tickfont.size*Ap:0);return Hl.drawLabels(ep,Qu,{vals:W0(Qu,R1),layer:_m,cls:M0+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:Lv,labelFns:Hl.makeLabelFns(Qu,i1+Sy*Gv[4])})}),Ky.push(function(){return Qu._depth=Gv[4]*(Bv("tick2")[Qu.side]-i1),h1(ep,Qu,{vals:uy,layer:_m,path:Hl.makeTickPath(Qu,i1,Gv[4],{len:Qu._depth}),transFn:Lv})})}else Qu.title.hasOwnProperty("standoff")&&Ky.push(function(){Qu._depth=Gv[4]*(Bv()[Qu.side]-i1)});var N2=Ln.getComponentMethod("rangeslider","isVisible")(Qu);return!Up.skipTitle&&!(N2&&Qu.side==="bottom")&&Ky.push(function(){return xm(ep,Qu)}),Ky.push(function(){var jv=Qu.side.charAt(0),Sy=Lu[Qu.side].charAt(0),Ny=Hl.getPxPosition(ep,Qu),l2=ey?Qu.ticklen:0,Oy,iy,u2,e3;(Qu.automargin||N2||Qu._shiftPusher)&&(Qu.type==="multicategory"?Oy=Bv("tick2"):(Oy=Bv(),L0==="x"&&jv==="b"&&(Qu._depth=Math.max(Oy.width>0?Oy.bottom-Ny:0,l2))));var Y2=0,v3=0;if(Qu._shiftPusher&&(Y2=Math.max(l2,Oy.height>0?jv==="l"?Ny-Oy.left:Oy.right-Ny:0),Qu.title.text!==o0._dfltTitle[L0]&&(v3=(Qu._titleStandoff||0)+(Qu._titleScoot||0),jv==="l"&&(v3+=zm(Qu))),Qu._fullDepth=Math.max(Y2,v3)),Qu.automargin){iy={x:0,y:0,r:0,l:0,t:0,b:0};var K2=[0,1],A3=typeof Qu._shift=="number"?Qu._shift:0;if(L0==="x"){if(jv==="b"?iy[jv]=Qu._depth:(iy[jv]=Qu._depth=Math.max(Oy.width>0?Ny-Oy.top:0,l2),K2.reverse()),Oy.width>0){var T3=Oy.right-(Qu._offset+Qu._length);T3>0&&(iy.xr=1,iy.r=T3);var R3=Qu._offset-Oy.left;R3>0&&(iy.xl=0,iy.l=R3)}}else if(jv==="l"?(Qu._depth=Math.max(Oy.height>0?Ny-Oy.left:0,l2),iy[jv]=Qu._depth-A3):(Qu._depth=Math.max(Oy.height>0?Oy.right-Ny:0,l2),iy[jv]=Qu._depth+A3,K2.reverse()),Oy.height>0){var y3=Oy.bottom-(Qu._offset+Qu._length);y3>0&&(iy.yb=0,iy.b=y3);var t3=Qu._offset-Oy.top;t3>0&&(iy.yt=1,iy.t=t3)}iy[rm]=Qu.anchor==="free"?Qu.position:Qu._anchorAxis.domain[K2[0]],Qu.title.text!==o0._dfltTitle[L0]&&(iy[jv]+=zm(Qu)+(Qu.title.standoff||0)),Qu.mirror&&Qu.anchor!=="free"&&(u2={x:0,y:0,r:0,l:0,t:0,b:0},u2[Sy]=Qu.linewidth,Qu.mirror&&Qu.mirror!==!0&&(u2[Sy]+=l2),Qu.mirror===!0||Qu.mirror==="ticks"?u2[rm]=Qu._anchorAxis.domain[K2[1]]:(Qu.mirror==="all"||Qu.mirror==="allticks")&&(u2[rm]=[Qu._counterDomainMin,Qu._counterDomainMax][K2[1]]))}N2&&(e3=Ln.getComponentMethod("rangeslider","autoMarginOpts")(ep,Qu)),typeof Qu.automargin=="string"&&(x0(iy,Qu.automargin),x0(u2,Qu.automargin)),st.autoMargin(ep,Wm(Qu),iy),st.autoMargin(ep,Om(Qu),u2),st.autoMargin(ep,A1(Qu),e3)}),Ft.syncOrAsync(Ky)}};function x0(ep,Qu){if(ep){var Up=Object.keys(rp).reduce(function(_f,u0){return Qu.indexOf(u0)!==-1&&rp[u0].forEach(function(Vp){_f[Vp]=1}),_f},{});Object.keys(ep).forEach(function(_f){Up[_f]||(_f.length===1?ep[_f]=0:delete ep[_f])})}}function U0(ep,Qu){var Up=[],_f,u0=function(Vp,Yp){var p0=Vp.xbnd[Yp];p0!==null&&Up.push(Ft.extendFlat({},Vp,{x:p0}))};if(Qu.length){for(_f=0;_f<Qu.length;_f++)u0(Qu[_f],0);u0(Qu[_f-1],1)}return Up}function W0(ep,Qu){for(var Up=[],_f={},u0=0;u0<Qu.length;u0++){var Vp=Qu[u0];_f[Vp.text2]?_f[Vp.text2].push(Vp.x):_f[Vp.text2]=[Vp.x]}for(var Yp in _f)Up.push(sm(ep,Ft.interp(_f[Yp],.5),Yp));return Up}function Y0(ep,Qu){var Up=[],_f,u0,Vp=Qu.length&&Qu[Qu.length-1].x<Qu[0].x,Yp=function(o0,M0){var L0=o0.xbnd[M0];L0!==null&&Up.push(Ft.extendFlat({},o0,{x:L0}))};if(ep.showdividers&&Qu.length){for(_f=0;_f<Qu.length;_f++){var p0=Qu[_f];p0.text2!==u0&&Yp(p0,Vp?1:0),u0=p0.text2}Yp(Qu[_f-1],Vp?0:1)}return Up}function gm(ep,Qu,Up){var _f,u0,Vp,Yp;if(ep._selections[Qu].size())_f=1/0,u0=-1/0,Vp=1/0,Yp=-1/0,ep._selections[Qu].each(function(){var o0=jm(this);if(o0.node().style.display!=="none"){var M0=_l.bBox(o0.node().parentNode);_f=Math.min(_f,M0.top),u0=Math.max(u0,M0.bottom),Vp=Math.min(Vp,M0.left),Yp=Math.max(Yp,M0.right)}});else{var p0=Hl.makeLabelFns(ep,Up);_f=u0=p0.yFn({dx:0,dy:0,fontSize:0}),Vp=Yp=p0.xFn({dx:0,dy:0,fontSize:0})}return{top:_f,bottom:u0,left:Vp,right:Yp,height:u0-_f,width:Yp-Vp}}Hl.getTickSigns=function(ep,Qu){var Up=ep._id.charAt(0),_f={x:"top",y:"right"}[Up],u0=ep.side===_f?1:-1,Vp=[-1,1,u0,-u0],Yp=Qu?(ep.minor||{}).ticks:ep.ticks;return Yp!=="inside"==(Up==="x")&&(Vp=Vp.map(function(p0){return-p0})),ep.side&&Vp.push({l:-1,t:-1,r:1,b:1}[ep.side.charAt(0)]),Vp},Hl.makeTransTickFn=function(ep){return ep._id.charAt(0)==="x"?function(Qu){return Fn(ep._offset+ep.l2p(Qu.x),0)}:function(Qu){return Fn(0,ep._offset+ep.l2p(Qu.x))}},Hl.makeTransTickLabelFn=function(ep){var Qu=Jm(ep),Up=ep.ticklabelshift||0,_f=ep.ticklabelstandoff||0,u0=Qu[0],Vp=Qu[1],Yp=ep.range[0]>ep.range[1],p0=ep.ticklabelposition&&ep.ticklabelposition.indexOf("inside")!==-1,o0=!p0;if(Up){var M0=Yp?-1:1;Up=Up*M0}if(_f){var L0=ep.side,rm=p0&&(L0==="top"||L0==="left")||o0&&(L0==="bottom"||L0==="right")?1:-1;_f=_f*rm}return ep._id.charAt(0)==="x"?function(Tm){return Fn(u0+ep._offset+ep.l2p(Dm(Tm))+Up,Vp+_f)}:function(Tm){return Fn(Vp+_f,u0+ep._offset+ep.l2p(Dm(Tm))+Up)}};function Dm(ep){return ep.periodX!==void 0?ep.periodX:ep.x}function Jm(ep){var Qu=ep.ticklabelposition||"",Up=ep.tickson||"",_f=function(Vm){return Qu.indexOf(Vm)!==-1},u0=_f("top"),Vp=_f("left"),Yp=_f("right"),p0=_f("bottom"),o0=_f("inside"),M0=Up!=="boundaries"&&(p0||Vp||u0||Yp);if(!M0&&!o0)return[0,0];var L0=ep.side,rm=M0?(ep.tickwidth||0)/2:0,Tm=Nu,Mm=ep.tickfont?ep.tickfont.size:12;return(p0||u0)&&(rm+=Mm*Cp,Tm+=(ep.linewidth||0)/2),(Vp||Yp)&&(rm+=(ep.linewidth||0)/2,Tm+=Nu),o0&&L0==="top"&&(Tm-=Mm*(1-Cp)),(Vp||u0)&&(rm=-rm),(L0==="bottom"||L0==="right")&&(Tm=-Tm),[M0?rm:0,o0?Tm:0]}Hl.makeTickPath=function(ep,Qu,Up,_f){_f||(_f={});var u0=_f.minor;if(u0&&!ep.minor)return"";var Vp=_f.len!==void 0?_f.len:u0?ep.minor.ticklen:ep.ticklen,Yp=ep._id.charAt(0),p0=(ep.linewidth||1)/2;return Yp==="x"?"M0,"+(Qu+p0*Up)+"v"+Vp*Up:"M"+(Qu+p0*Up)+",0h"+Vp*Up},Hl.makeLabelFns=function(ep,Qu,Up){var _f=ep.ticklabelposition||"",u0=ep.tickson||"",Vp=function(nv){return _f.indexOf(nv)!==-1},Yp=Vp("top"),p0=Vp("left"),o0=Vp("right"),M0=Vp("bottom"),L0=u0!=="boundaries"&&(M0||p0||Yp||o0),rm=Vp("inside"),Tm=_f==="inside"&&ep.ticks==="inside"||!rm&&ep.ticks==="outside"&&u0!=="boundaries",Mm=0,Vm=0,_m=Tm?ep.ticklen:0;if(rm?_m*=-1:L0&&(_m=0),Tm&&(Mm+=_m,Up)){var Um=Ft.deg2rad(Up);Mm=_m*Math.cos(Um)+1,Vm=_m*Math.sin(Um)}ep.showticklabels&&(Tm||ep.showline)&&(Mm+=.2*ep.tickfont.size),Mm+=(ep.linewidth||1)/2*(rm?-1:1);var i1={labelStandoff:Mm,labelShift:Vm},ov,R1,Ov,V1,Bv=0,Lv=ep.side,ly=ep._id.charAt(0),Jv=ep.tickangle,q1;if(ly==="x")q1=!rm&&Lv==="bottom"||rm&&Lv==="top",V1=q1?1:-1,rm&&(V1*=-1),ov=Vm*V1,R1=Qu+Mm*V1,Ov=q1?1:-.2,Math.abs(Jv)===90&&(rm?Ov+=bp:Jv===-90&&Lv==="bottom"?Ov=Cp:Jv===90&&Lv==="top"?Ov=bp:Ov=.5,Bv=bp/2*(Jv/90)),i1.xFn=function(nv){return nv.dx+ov+Bv*nv.fontSize},i1.yFn=function(nv){return nv.dy+R1+nv.fontSize*Ov},i1.anchorFn=function(nv,ry){if(L0){if(p0)return"end";if(o0)return"start"}return!it(ry)||ry===0||ry===180?"middle":ry*V1<0!==rm?"end":"start"},i1.heightFn=function(nv,ry,uy){return ry<-60||ry>60?-.5*uy:ep.side==="top"!==rm?-uy:0};else if(ly==="y"){if(q1=!rm&&Lv==="left"||rm&&Lv==="right",V1=q1?1:-1,rm&&(V1*=-1),ov=Mm,R1=Vm*V1,Ov=0,!rm&&Math.abs(Jv)===90&&(Jv===-90&&Lv==="left"||Jv===90&&Lv==="right"?Ov=Cp:Ov=.5),rm){var fy=it(Jv)?+Jv:0;if(fy!==0){var ey=Ft.deg2rad(fy);Bv=Math.abs(Math.sin(ey))*Cp*V1,Ov=0}}i1.xFn=function(nv){return nv.dx+Qu-(ov+nv.fontSize*Ov)*V1+Bv*nv.fontSize},i1.yFn=function(nv){return nv.dy+R1+nv.fontSize*bp},i1.anchorFn=function(nv,ry){return it(ry)&&Math.abs(ry)===90?"middle":q1?"end":"start"},i1.heightFn=function(nv,ry,uy){return ep.side==="right"&&(ry*=-1),ry<-30?-uy:ry<30?-.5*uy:0}}return i1};function a1(ep){return[ep.text,ep.x,ep.axInfo,ep.font,ep.fontSize,ep.fontColor].join("_")}Hl.drawTicks=function(ep,Qu,Up){Up=Up||{};var _f=Qu._id+"tick",u0=[].concat(Qu.minor&&Qu.minor.ticks?Up.vals.filter(function(Yp){return Yp.minor&&!Yp.noTick}):[]).concat(Qu.ticks?Up.vals.filter(function(Yp){return!Yp.minor&&!Yp.noTick}):[]),Vp=Up.layer.selectAll("path."+_f).data(u0,a1);Vp.exit().remove(),Vp.enter().append("path").classed(_f,1).classed("ticks",1).classed("crisp",Up.crisp!==!1).each(function(Yp){return ot.stroke(jt.select(this),Yp.minor?Qu.minor.tickcolor:Qu.tickcolor)}).style("stroke-width",function(Yp){return _l.crispRound(ep,Yp.minor?Qu.minor.tickwidth:Qu.tickwidth,1)+"px"}).attr("d",Up.path).style("display",null),iv(Qu,[Yu]),Vp.attr("transform",Up.transFn)},Hl.drawGrid=function(ep,Qu,Up){if(Up=Up||{},Qu.tickmode!=="sync"){var _f=Qu._id+"grid",u0=Qu.minor&&Qu.minor.showgrid,Vp=u0?Up.vals.filter(function(i1){return i1.minor}):[],Yp=Qu.showgrid?Up.vals.filter(function(i1){return!i1.minor}):[],p0=Up.counterAxis;if(p0&&Hl.shouldShowZeroLine(ep,Qu,p0))for(var o0=Qu.tickmode==="array",M0=0;M0<Yp.length;M0++){var L0=Yp[M0].x;if(o0?!L0:Math.abs(L0)<Qu.dtick/100)if(Yp=Yp.slice(0,M0).concat(Yp.slice(M0+1)),o0)M0--;else break}Qu._gw=_l.crispRound(ep,Qu.gridwidth,1);for(var rm=u0?_l.crispRound(ep,Qu.minor.gridwidth,1):0,Tm=Up.layer,Mm=Up.minorLayer,Vm=1;Vm>=0;Vm--){var _m=Vm?Tm:Mm;if(_m){var Um=_m.selectAll("path."+_f).data(Vm?Yp:Vp,a1);Um.exit().remove(),Um.enter().append("path").classed(_f,1).classed("crisp",Up.crisp!==!1),Um.attr("transform",Up.transFn).attr("d",Up.path).each(function(i1){return ot.stroke(jt.select(this),i1.minor?Qu.minor.gridcolor:Qu.gridcolor||"#ddd")}).style("stroke-dasharray",function(i1){return _l.dashStyle(i1.minor?Qu.minor.griddash:Qu.griddash,i1.minor?Qu.minor.gridwidth:Qu.gridwidth)}).style("stroke-width",function(i1){return(i1.minor?rm:Qu._gw)+"px"}).style("display",null),typeof Up.path=="function"&&Um.attr("d",Up.path)}}iv(Qu,[Xl,Wu])}},Hl.drawZeroLine=function(ep,Qu,Up){Up=Up||Up;var _f=Qu._id+"zl",u0=Hl.shouldShowZeroLine(ep,Qu,Up.counterAxis),Vp=Up.layer.selectAll("path."+_f).data(u0?[{x:0,id:Qu._id}]:[]);Vp.exit().remove(),Vp.enter().append("path").classed(_f,1).classed("zl",1).classed("crisp",Up.crisp!==!1).each(function(){Up.layer.selectAll("path").sort(function(Yp,p0){return vu(Yp.id,p0.id)})}),Vp.attr("transform",Up.transFn).attr("d",Up.path).call(ot.stroke,Qu.zerolinecolor||ot.defaultLine).style("stroke-width",_l.crispRound(ep,Qu.zerolinewidth,Qu._gw||1)+"px").style("display",null),iv(Qu,[Gu])},Hl.drawLabels=function(ep,Qu,Up){Up=Up||{};var _f=ep._fullLayout,u0=Qu._id,Vp=Qu.zerolinelayer==="above traces",Yp=Up.cls||u0+"tick",p0=Up.vals.filter(function(bv){return bv.text}),o0=Up.labelFns,M0=Up.secondary?0:Qu.tickangle,L0=(Qu._prevTickAngles||{})[Yp],rm=Up.layer.selectAll("g."+Yp).data(Qu.showticklabels?p0:[],a1),Tm=[];rm.enter().append("g").classed(Yp,1).append("text").attr("text-anchor","middle").each(function(bv){var Hv=jt.select(this),zv=ep._promises.length;Hv.call(zn.positionText,o0.xFn(bv),o0.yFn(bv)).call(_l.font,{family:bv.font,size:bv.fontSize,color:bv.fontColor,weight:bv.fontWeight,style:bv.fontStyle,variant:bv.fontVariant,textcase:bv.fontTextcase,lineposition:bv.fontLineposition,shadow:bv.fontShadow}).text(bv.text).call(zn.convertToTspans,ep),ep._promises[zv]?Tm.push(ep._promises.pop().then(function(){Mm(Hv,M0)})):Mm(Hv,M0)}),iv(Qu,[ap]),rm.exit().remove(),Up.repositionOnUpdate&&rm.each(function(bv){jt.select(this).select("text").call(zn.positionText,o0.xFn(bv),o0.yFn(bv))});function Mm(bv,Hv){bv.each(function(zv){var Gv=jt.select(this),by=Gv.select(".text-math-group"),Dy=o0.anchorFn(zv,Hv),Vy=Up.transFn.call(Gv.node(),zv)+(it(Hv)&&+Hv!=0?" rotate("+Hv+","+o0.xFn(zv)+","+(o0.yFn(zv)-zv.fontSize/2)+")":""),Ly=zn.lineCount(Gv),t2=Ap*zv.fontSize,Iy=o0.heightFn(zv,it(Hv)?+Hv:0,(Ly-1)*t2);if(Iy&&(Vy+=Fn(0,Iy)),by.empty()){var Nv=Gv.select("text");Nv.attr({transform:Vy,"text-anchor":Dy}),Nv.style("display",null),Qu._adjustTickLabelsOverflow&&Qu._adjustTickLabelsOverflow()}else{var S2=_l.bBox(by.node()).width,Uy=S2*{end:-.5,start:.5}[Dy];by.attr("transform",Vy+Fn(Uy,0))}})}Qu._adjustTickLabelsOverflow=function(){var bv=Qu.ticklabeloverflow;if(!(!bv||bv==="allow")){var Hv=bv.indexOf("hide")!==-1,zv=Qu._id.charAt(0)==="x",Gv=0,by=zv?ep._fullLayout.width:ep._fullLayout.height;if(bv.indexOf("domain")!==-1){var Dy=Ft.simpleMap(Qu.range,Qu.r2l);Gv=Qu.l2p(Dy[0])+Qu._offset,by=Qu.l2p(Dy[1])+Qu._offset}var Vy=Math.min(Gv,by),Ly=Math.max(Gv,by),t2=Qu.side,Iy=1/0,Nv=-1/0;rm.each(function(r2){var Wy=jt.select(this),R2=Wy.select(".text-math-group");if(R2.empty()){var y2=_l.bBox(Wy.node()),Ky=0;zv?(y2.right>Ly||y2.left<Vy)&&(Ky=1):(y2.bottom>Ly||y2.top+(Qu.tickangle?0:r2.fontSize/4)<Vy)&&(Ky=1);var A2=Wy.select("text");Ky?Hv&&A2.style("display","none"):A2.node().style.display!=="none"&&(A2.style("display",null),t2==="bottom"||t2==="right"?Iy=Math.min(Iy,zv?y2.top:y2.left):Iy=-1/0,t2==="top"||t2==="left"?Nv=Math.max(Nv,zv?y2.bottom:y2.right):Nv=1/0)}});for(var S2 in _f._plots){var Uy=_f._plots[S2];if(!(Qu._id!==Uy.xaxis._id&&Qu._id!==Uy.yaxis._id)){var s2=zv?Uy.yaxis:Uy.xaxis;s2&&(s2["_visibleLabelMin_"+Qu._id]=Iy,s2["_visibleLabelMax_"+Qu._id]=Nv)}}}},Qu._hideCounterAxisInsideTickLabels=function(bv){var Hv=Qu._id.charAt(0)==="x",zv=[];for(var Gv in _f._plots){var by=_f._plots[Gv];Qu._id!==by.xaxis._id&&Qu._id!==by.yaxis._id||zv.push(Hv?by.yaxis:by.xaxis)}zv.forEach(function(Dy,Vy){Dy&&L1(Dy)&&(bv||[Gu,Wu,Xl,Yu,ap]).forEach(function(Ly){var t2=Ly.K==="tick"&&Ly.L==="text"&&Qu.ticklabelmode==="period",Iy=_f._plots[Qu._mainSubplot],Nv;if(Ly.K===Gu.K){var S2=Vp?Iy.zerolinelayerAbove:Iy.zerolinelayer;Nv=S2.selectAll("."+Qu._id+"zl")}else Ly.K===Wu.K?Nv=Iy.minorGridlayer.selectAll("."+Qu._id):Ly.K===Xl.K?Nv=Iy.gridlayer.selectAll("."+Qu._id):Nv=Iy[Qu._id.charAt(0)+"axislayer"];Nv.each(function(){var Uy=jt.select(this);Ly.L&&(Uy=Uy.selectAll(Ly.L)),Uy.each(function(s2){var r2=Qu.l2p(t2?Dm(s2):s2.x)+Qu._offset,Wy=jt.select(this);r2<Qu["_visibleLabelMax_"+Dy._id]&&r2>Qu["_visibleLabelMin_"+Dy._id]?Wy.style("display","none"):Ly.K==="tick"&&!Vy&&Wy.node().style.display!=="none"&&Wy.style("display",null)})})})})},Mm(rm,L0+1?L0:M0);function Vm(){return Tm.length&&Promise.all(Tm)}var _m=null;function Um(){if(Mm(rm,M0),p0.length&&Qu.autotickangles&&(Qu.type!=="log"||String(Qu.dtick).charAt(0)!=="D")){_m=Qu.autotickangles[0];var bv=0,Hv=[],zv,Gv=1;rm.each(function(iy){bv=Math.max(bv,iy.fontSize);var u2=Qu.l2p(iy.x),e3=jm(this),Y2=_l.bBox(e3.node());Gv=Math.max(Gv,zn.lineCount(e3)),Hv.push({top:0,bottom:10,height:10,left:u2-Y2.width/2,right:u2+Y2.width/2+2,width:Y2.width+2})});var by=(Qu.tickson==="boundaries"||Qu.showdividers)&&!Up.secondary,Dy=p0.length,Vy=Math.abs((p0[Dy-1].x-p0[0].x)*Qu._m)/(Dy-1),Ly=by?Vy/2:Vy,t2=by?Qu.ticklen:bv*1.25*Gv,Iy=Math.sqrt(Math.pow(Ly,2)+Math.pow(t2,2)),Nv=Ly/Iy,S2=Qu.autotickangles.map(function(iy){return iy*Math.PI/180}),Uy=S2.find(function(iy){return Math.abs(Math.cos(iy))<=Nv});Uy===void 0&&(Uy=S2.reduce(function(iy,u2){return Math.abs(Math.cos(iy))<Math.abs(Math.cos(u2))?iy:u2},S2[0]));var s2=Uy*(180/Math.PI);if(by){var r2=2;for(Qu.ticks&&(r2+=Qu.tickwidth/2),zv=0;zv<Hv.length;zv++){var Wy=p0[zv].xbnd,R2=Hv[zv];if(Wy[0]!==null&&R2.left-Qu.l2p(Wy[0])<r2||Wy[1]!==null&&Qu.l2p(Wy[1])-R2.right<r2){_m=s2;break}}}else{var y2=Qu.ticklabelposition||"",Ky=Qu.tickson||"",A2=function(iy){return y2.indexOf(iy)!==-1},N2=A2("top"),jv=A2("left"),Sy=A2("right"),Ny=A2("bottom"),l2=Ky!=="boundaries"&&(Ny||jv||N2||Sy),Oy=l2?(Qu.tickwidth||0)+2*Nu:0;for(zv=0;zv<Hv.length-1;zv++)if(Ft.bBoxIntersect(Hv[zv],Hv[zv+1],Oy)){_m=s2;break}}_m&&Mm(rm,_m)}}Qu._selections&&(Qu._selections[Yp]=rm);var i1=[Vm];Qu.automargin&&_f._redrawFromAutoMarginCount&&L0===90?(_m=L0,i1.push(function(){Mm(rm,L0)})):i1.push(Um),Qu._tickAngles&&i1.push(function(){Qu._tickAngles[Yp]=_m===null?it(M0)?M0:0:_m});var ov=function(){var bv=0,Hv=0;return rm.each(function(zv,Gv){var by=jm(this),Dy=by.select(".text-math-group");if(Dy.empty()){var Vy;Qu._vals[Gv]&&(Vy=Qu._vals[Gv].bb||_l.bBox(by.node()),Qu._vals[Gv].bb=Vy),bv=Math.max(bv,Vy.width),Hv=Math.max(Hv,Vy.height)}}),{labelsMaxW:bv,labelsMaxH:Hv}},R1=Qu._anchorAxis;if(R1&&(R1.autorange||R1.insiderange)&&L1(Qu)&&!Ol(_f,Qu._id)&&(_f._insideTickLabelsUpdaterange||(_f._insideTickLabelsUpdaterange={}),R1.autorange&&(_f._insideTickLabelsUpdaterange[R1._name+".autorange"]=R1.autorange,i1.push(ov)),R1.insiderange)){var Ov=ov(),V1=Qu._id.charAt(0)==="y"?Ov.labelsMaxW:Ov.labelsMaxH;V1+=2*Nu,Qu.ticklabelposition==="inside"&&(V1+=Qu.ticklen||0);var Bv=Qu.side==="right"||Qu.side==="top"?1:-1,Lv=Bv===1?1:0,ly=Bv===1?0:1,Jv=[];Jv[ly]=R1.range[ly];var q1=R1.range,fy=R1.r2p(q1[Lv]),ey=R1.r2p(q1[ly]),nv=_f._insideTickLabelsUpdaterange[R1._name+".range"];if(nv){var ry=R1.r2p(nv[Lv]),uy=R1.r2p(nv[ly]),ny=Bv*(Qu._id.charAt(0)==="y"?1:-1);ny*fy<ny*ry&&(fy=ry,Jv[Lv]=q1[Lv]=nv[Lv]),ny*ey>ny*uy&&(ey=uy,Jv[ly]=q1[ly]=nv[ly])}var Py=Math.abs(ey-fy);Py-V1>0?(Py-=V1,V1*=1+V1/Py):V1=0,Qu._id.charAt(0)!=="y"&&(V1=-V1),Jv[Lv]=R1.p2r(R1.r2p(q1[Lv])+Bv*V1),R1.autorange==="min"||R1.autorange==="max reversed"?(Jv[0]=null,R1._rangeInitial0=void 0,R1._rangeInitial1=void 0):(R1.autorange==="max"||R1.autorange==="min reversed")&&(Jv[1]=null,R1._rangeInitial0=void 0,R1._rangeInitial1=void 0),_f._insideTickLabelsUpdaterange[R1._name+".range"]=Jv}var o2=Ft.syncOrAsync(i1);return o2&&o2.then&&ep._promises.push(o2),o2};function h1(ep,Qu,Up){var _f=Qu._id+"divider",u0=Up.vals,Vp=Up.layer.selectAll("path."+_f).data(u0,a1);Vp.exit().remove(),Vp.enter().insert("path",":first-child").classed(_f,1).classed("crisp",1).call(ot.stroke,Qu.dividercolor).style("stroke-width",_l.crispRound(ep,Qu.dividerwidth,1)+"px"),Vp.attr("transform",Up.transFn).attr("d",Up.path)}Hl.getPxPosition=function(ep,Qu){var Up=ep._fullLayout._size,_f=Qu._id.charAt(0),u0=Qu.side,Vp;if(Qu.anchor!=="free"?Vp=Qu._anchorAxis:_f==="x"?Vp={_offset:Up.t+(1-(Qu.position||0))*Up.h,_length:0}:_f==="y"&&(Vp={_offset:Up.l+(Qu.position||0)*Up.w+Qu._shift,_length:0}),u0==="top"||u0==="left")return Vp._offset;if(u0==="bottom"||u0==="right")return Vp._offset+Vp._length};function zm(ep){var Qu=ep.title.font.size,Up=(ep.title.text.match(zn.BR_TAG_ALL)||[]).length;return ep.title.hasOwnProperty("standoff")?Qu*(Cp+Up*Ap):Up?Qu*(Up+1)*Ap:Qu}function xm(ep,Qu){var Up=ep._fullLayout,_f=Qu._id,u0=_f.charAt(0),Vp=Qu.title.font.size,Yp,p0=(Qu.title.text.match(zn.BR_TAG_ALL)||[]).length;if(Qu.title.hasOwnProperty("standoff"))Qu.side==="bottom"||Qu.side==="right"?Yp=Qu._depth+Qu.title.standoff+Vp*Cp:(Qu.side==="top"||Qu.side==="left")&&(Yp=Qu._depth+Qu.title.standoff+Vp*(bp+p0*Ap));else{var o0=L1(Qu);if(Qu.type==="multicategory")Yp=Qu._depth;else{var M0=1.5*Vp;o0&&(M0=.5*Vp,Qu.ticks==="outside"&&(M0+=Qu.ticklen)),Yp=10+M0+(Qu.linewidth?Qu.linewidth-1:0)}o0||(u0==="x"?Yp+=Qu.side==="top"?Vp*(Qu.showticklabels?1:0):Vp*(Qu.showticklabels?1.5:.5):Yp+=Qu.side==="right"?Vp*(Qu.showticklabels?1:.5):Vp*(Qu.showticklabels?.5:0))}var L0=Hl.getPxPosition(ep,Qu),rm,Tm,Mm;u0==="x"?(Tm=Qu._offset+Qu._length/2,Mm=Qu.side==="top"?L0-Yp:L0+Yp):(Mm=Qu._offset+Qu._length/2,Tm=Qu.side==="right"?L0+Yp:L0-Yp,rm={rotate:"-90",offset:0});var Vm;if(Qu.type!=="multicategory"){var _m=Qu._selections[Qu._id+"tick"];if(Vm={selection:_m,side:Qu.side},_m&&_m.node()&&_m.node().parentNode){var Um=_l.getTranslate(_m.node().parentNode);Vm.offsetLeft=Um.x,Vm.offsetTop=Um.y}Qu.title.hasOwnProperty("standoff")&&(Vm.pad=0)}return Qu._titleStandoff=Yp,yl.draw(ep,_f+"title",{propContainer:Qu,propName:Qu._name+".title.text",placeholder:Up._dfltTitle[u0],avoid:Vm,transform:rm,attributes:{x:Tm,y:Mm,"text-anchor":"middle"}})}Hl.shouldShowZeroLine=function(ep,Qu,Up){var _f=Ft.simpleMap(Qu.range,Qu.r2l);return _f[0]*_f[1]<=0&&Qu.zeroline&&(Qu.type==="linear"||Qu.type==="-")&&!(Qu.rangebreaks&&Qu.maskBreaks(0)===Hu)&&(Qm(Qu,0)||!l1(ep,Qu,Up,_f)||Xm(ep,Qu))},Hl.clipEnds=function(ep,Qu){return Qu.filter(function(Up){return Qm(ep,Up.x)})};function Qm(ep,Qu){var Up=ep.l2p(Qu);return Up>1&&Up<ep._length-1}function l1(ep,Qu,Up,_f){var u0=Up._mainAxis;if(!u0)return;var Vp=ep._fullLayout,Yp=Qu._id.charAt(0),p0=Hl.counterLetter(Qu._id),o0=Qu._offset+(Math.abs(_f[0])<Math.abs(_f[1])==(Yp==="x")?0:Qu._length);function M0(Vm){if(!Vm.showline||!Vm.linewidth)return!1;var _m=Math.max((Vm.linewidth+Qu.zerolinewidth)/2,1);function Um(R1){return typeof R1=="number"&&Math.abs(R1-o0)<_m}if(Um(Vm._mainLinePosition)||Um(Vm._mainMirrorPosition))return!0;var i1=Vm._linepositions||{};for(var ov in i1)if(Um(i1[ov][0])||Um(i1[ov][1]))return!0}var L0=Vp._plots[Up._mainSubplot];if(!(L0.mainplotinfo||L0).overlays.length)return M0(Up);for(var rm=Hl.list(ep,p0),Tm=0;Tm<rm.length;Tm++){var Mm=rm[Tm];if(Mm._mainAxis===u0&&M0(Mm))return!0}}function Xm(ep,Qu){for(var Up=ep._fullData,_f=Qu._mainSubplot,u0=Qu._id.charAt(0),Vp=0;Vp<Up.length;Vp++){var Yp=Up[Vp];if(Yp.visible===!0&&Yp.xaxis+Yp.yaxis===_f&&(Ln.traceIs(Yp,"bar-like")&&Yp.orientation==={x:"h",y:"v"}[u0]||Yp.fill&&Yp.fill.charAt(Yp.fill.length-1)===u0))return!0}return!1}function jm(ep){var Qu=jt.select(ep),Up=Qu.select(".text-math-group");return Up.empty()?Qu.select("text"):Up}Hl.allowAutoMargin=function(ep){for(var Qu=Hl.list(ep,"",!0),Up=0;Up<Qu.length;Up++){var _f=Qu[Up];_f.automargin&&(st.allowAutoMargin(ep,Wm(_f)),_f.mirror&&st.allowAutoMargin(ep,Om(_f))),Ln.getComponentMethod("rangeslider","isVisible")(_f)&&st.allowAutoMargin(ep,A1(_f))}};function Wm(ep){return ep._id+".automargin"}function Om(ep){return Wm(ep)+".mirror"}function A1(ep){return ep._id+".rangeslider"}Hl.swap=function(ep,Qu){for(var Up=B1(ep,Qu),_f=0;_f<Up.length;_f++)$1(ep,Up[_f].x,Up[_f].y)};function B1(ep,Qu){var Up=[],_f,u0;for(_f=0;_f<Qu.length;_f++){var Vp=[],Yp=ep._fullData[Qu[_f]].xaxis,p0=ep._fullData[Qu[_f]].yaxis;if(!(!Yp||!p0)){for(u0=0;u0<Up.length;u0++)(Up[u0].x.indexOf(Yp)!==-1||Up[u0].y.indexOf(p0)!==-1)&&Vp.push(u0);if(!Vp.length){Up.push({x:[Yp],y:[p0]});continue}var o0=Up[Vp[0]],M0;if(Vp.length>1)for(u0=1;u0<Vp.length;u0++)M0=Up[Vp[u0]],o1(o0.x,M0.x),o1(o0.y,M0.y);o1(o0.x,[Yp]),o1(o0.y,[p0])}}return Up}function o1(ep,Qu){for(var Up=0;Up<Qu.length;Up++)ep.indexOf(Qu[Up])===-1&&ep.push(Qu[Up])}function $1(ep,Qu,Up){var _f=[],u0=[],Vp=ep.layout,Yp,p0;for(Yp=0;Yp<Qu.length;Yp++)_f.push(Hl.getFromId(ep,Qu[Yp]));for(Yp=0;Yp<Up.length;Yp++)u0.push(Hl.getFromId(ep,Up[Yp]));var o0=Object.keys(ls),M0=["anchor","domain","overlaying","position","side","tickangle","editType"],L0=["linear","log"];for(Yp=0;Yp<o0.length;Yp++){var rm=o0[Yp],Tm=_f[0][rm],Mm=u0[0][rm],Vm=!0,_m=!1,Um=!1;if(!(rm.charAt(0)==="_"||typeof Tm=="function"||M0.indexOf(rm)!==-1)){for(p0=1;p0<_f.length&&Vm;p0++){var i1=_f[p0][rm];rm==="type"&&L0.indexOf(Tm)!==-1&&L0.indexOf(i1)!==-1&&Tm!==i1?_m=!0:i1!==Tm&&(Vm=!1)}for(p0=1;p0<u0.length&&Vm;p0++){var ov=u0[p0][rm];rm==="type"&&L0.indexOf(Mm)!==-1&&L0.indexOf(ov)!==-1&&Mm!==ov?Um=!0:u0[p0][rm]!==Mm&&(Vm=!1)}Vm&&(_m&&(Vp[_f[0]._name].type="linear"),Um&&(Vp[u0[0]._name].type="linear"),X1(Vp,rm,_f,u0,ep._fullLayout._dfltTitle))}}for(Yp=0;Yp<ep._fullLayout.annotations.length;Yp++){var R1=ep._fullLayout.annotations[Yp];Qu.indexOf(R1.xref)!==-1&&Up.indexOf(R1.yref)!==-1&&Ft.swapAttrs(Vp.annotations[Yp],["?"])}}function X1(ep,Qu,Up,_f,u0){var Vp=Ft.nestedProperty,Yp=Vp(ep[Up[0]._name],Qu).get(),p0=Vp(ep[_f[0]._name],Qu).get(),o0;for(Qu==="title"&&(Yp&&Yp.text===u0.x&&(Yp.text=u0.y),p0&&p0.text===u0.y&&(p0.text=u0.x)),o0=0;o0<Up.length;o0++)Vp(ep,Up[o0]._name+"."+Qu).set(p0);for(o0=0;o0<_f.length;o0++)Vp(ep,_f[o0]._name+"."+Qu).set(Yp)}function cv(ep){return ep._id==="angularaxis"}function dv(ep,Qu){for(var Up=Qu._rangebreaks.length,_f=0;_f<Up;_f++){var u0=Qu._rangebreaks[_f];if(ep>=u0.min&&ep<u0.max)return u0.max}return ep}function L1(ep){return(ep.ticklabelposition||"").indexOf("inside")!==-1}function iv(ep,Qu){L1(ep._anchorAxis||{})&&ep._hideCounterAxisInsideTickLabels&&ep._hideCounterAxisInsideTickLabels(Qu)}function W1(ep,Qu,Up,_f){var u0=ep.anchor!=="free"&&(ep.overlaying===void 0||ep.overlaying===!1)?ep._id:ep.overlaying,Vp;_f?Vp=ep.side==="right"?Qu:-Qu:Vp=Qu,u0 in Up||(Up[u0]={}),ep.side in Up[u0]||(Up[u0][ep.side]=0),Up[u0][ep.side]+=Vp}function Hm(ep,Qu){return ep.autoshift?Qu[ep.overlaying][ep.side]:ep.shift||0}function Tv(ep,Qu){return/%f/.test(Qu)?ep>=bu:/%L/.test(Qu)?ep>=Pu:/%[SX]/.test(Qu)?ep>=mu:/%M/.test(Qu)?ep>=$u:/%[HI]/.test(Qu)?ep>=Bl:/%p/.test(Qu)?ep>=Kl:/%[Aadejuwx]/.test(Qu)?ep>=Jl:/%[UVW]/.test(Qu)?ep>=Bu:/%[Bbm]/.test(Qu)?ep>=$l:/%[q]/.test(Qu)?ep>=Cl:/%[Yy]/.test(Qu)?ep>=Ml:!0}}),Bm=a((yu,hu)=>{hu.exports=function(jt,it,st){var Ln,Ft;if(st){var Fn=it==="reversed"||it==="min reversed"||it==="max reversed";Ln=st[Fn?1:0],Ft=st[Fn?0:1]}var zn=jt("autorangeoptions.minallowed",Ft===null?Ln:void 0),yl=jt("autorangeoptions.maxallowed",Ln===null?Ft:void 0);zn===void 0&&jt("autorangeoptions.clipmin"),yl===void 0&&jt("autorangeoptions.clipmax"),jt("autorangeoptions.include")}}),Im=a((yu,hu)=>{var jt=Bm();hu.exports=function(it,st,Ln,Ft){var Fn=st._template||{},zn=st.type||Fn.type||"-";Ln("minallowed"),Ln("maxallowed");var yl=Ln("range");if(!yl){var ot;!Ft.noInsiderange&&zn!=="log"&&(ot=Ln("insiderange"),ot&&(ot[0]===null||ot[1]===null)&&(st.insiderange=!1,ot=void 0),ot&&(yl=Ln("range",ot)))}var _l=st.getAutorangeDflt(yl,Ft),ls=Ln("autorange",_l),Sl;yl&&(yl[0]===null&&yl[1]===null||(yl[0]===null||yl[1]===null)&&(ls==="reversed"||ls===!0)||yl[0]!==null&&(ls==="min"||ls==="max reversed")||yl[1]!==null&&(ls==="max"||ls==="min reversed"))&&(yl=void 0,delete st.range,st.autorange=!0,Sl=!0),Sl||(_l=st.getAutorangeDflt(yl,Ft),ls=Ln("autorange",_l)),ls&&(jt(Ln,ls,yl),(zn==="linear"||zn==="-")&&Ln("rangemode")),st.cleanRange()}}),e1=a((yu,hu)=>{var jt={left:0,top:0};hu.exports=it;function it(Ln,Ft,Fn){Ft=Ft||Ln.currentTarget||Ln.srcElement,Array.isArray(Fn)||(Fn=[0,0]);var zn=Ln.clientX||0,yl=Ln.clientY||0,ot=st(Ft);return Fn[0]=zn-ot.left,Fn[1]=yl-ot.top,Fn}function st(Ln){return Ln===window||Ln===document||Ln===document.body?jt:Ln.getBoundingClientRect()}}),n1=a((yu,hu)=>{var jt=z0();function it(){var st=!1;try{var Ln=Object.defineProperty({},"passive",{get:function(){st=!0}});window.addEventListener("test",null,Ln),window.removeEventListener("test",null,Ln)}catch{st=!1}return st}hu.exports=jt&&it()}),$m=a((yu,hu)=>{hu.exports=function(jt,it,st,Ln,Ft){var Fn=(jt-st)/(Ln-st),zn=Fn+it/(Ln-st),yl=(Fn+zn)/2;return Ft==="left"||Ft==="bottom"?Fn:Ft==="center"||Ft==="middle"?yl:Ft==="right"||Ft==="top"?zn:Fn<2/3-yl?Fn:zn>4/3-yl?zn:yl}}),p1=a((yu,hu)=>{var jt=gu(),it=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];hu.exports=function(st,Ln,Ft,Fn){return Ft==="left"?st=0:Ft==="center"?st=1:Ft==="right"?st=2:st=jt.constrain(Math.floor(st*3),0,2),Fn==="bottom"?Ln=0:Fn==="middle"?Ln=1:Fn==="top"?Ln=2:Ln=jt.constrain(Math.floor(Ln*3),0,2),it[Ln][st]}}),Cm=a((yu,hu)=>{var jt=u1(),it=M2(),st=F1().getGraphDiv,Ln=Zu(),Ft=hu.exports={};Ft.wrapped=function(Fn,zn,yl){Fn=st(Fn),Fn._fullLayout&&it.clear(Fn._fullLayout._uid+Ln.HOVERID),Ft.raw(Fn,zn,yl)},Ft.raw=function(Fn,zn){var yl=Fn._fullLayout,ot=Fn._hoverdata;zn||(zn={}),!(zn.target&&!Fn._dragged&&jt.triggerHandler(Fn,"plotly_beforehover",zn)===!1)&&(yl._hoverlayer.selectAll("g").remove(),yl._hoverlayer.selectAll("line").remove(),yl._hoverlayer.selectAll("circle").remove(),Fn._hoverdata=void 0,zn.target&&ot&&Fn.emit("plotly_unhover",{event:zn,points:ot}))}}),Pm=a((yu,hu)=>{var jt=e1(),it=dm(),st=n1(),Ln=gu().removeElement,Ft=E1(),Fn=hu.exports={};Fn.align=$m(),Fn.getCursor=p1();var zn=Cm();Fn.unhover=zn.wrapped,Fn.unhoverRaw=zn.raw,Fn.init=function(_l){var ls=_l.gd,Sl=1,Pl=ls._context.doubleClickDelay,Tl=_l.element,El,Ml,Rl,Bn,Cl,Al,Il,$l;ls._mouseDownTime||(ls._mouseDownTime=0),Tl.style.pointerEvents="all",Tl.onmousedown=Kl,st?(Tl._ontouchstart&&Tl.removeEventListener("touchstart",Tl._ontouchstart),Tl._ontouchstart=Kl,Tl.addEventListener("touchstart",Kl,{passive:!1})):Tl.ontouchstart=Kl;function Bu(mu,Pu,bu){return Math.abs(mu)<bu&&(mu=0),Math.abs(Pu)<bu&&(Pu=0),[mu,Pu]}var Jl=_l.clampFn||Bu;function Kl(mu){ls._dragged=!1,ls._dragging=!0;var Pu=ot(mu);El=Pu[0],Ml=Pu[1],Il=mu.target,Al=mu,$l=mu.buttons===2||mu.ctrlKey,typeof mu.clientX>"u"&&typeof mu.clientY>"u"&&(mu.clientX=El,mu.clientY=Ml),Rl=new Date().getTime(),Rl-ls._mouseDownTime<Pl?Sl+=1:(Sl=1,ls._mouseDownTime=Rl),_l.prepFn&&_l.prepFn(mu,El,Ml),it&&!$l?(Cl=yl(),Cl.style.cursor=window.getComputedStyle(Tl).cursor):it||(Cl=document,Bn=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(Tl).cursor),document.addEventListener("mouseup",$u),document.addEventListener("touchend",$u),_l.dragmode!==!1&&(mu.preventDefault(),document.addEventListener("mousemove",Bl),document.addEventListener("touchmove",Bl,{passive:!1}))}function Bl(mu){mu.preventDefault();var Pu=ot(mu),bu=_l.minDrag||Ft.MINDRAG,Fu=Jl(Pu[0]-El,Pu[1]-Ml,bu),Hu=Fu[0],Gu=Fu[1];(Hu||Gu)&&(ls._dragged=!0,Fn.unhover(ls,mu)),ls._dragged&&_l.moveFn&&!$l&&(ls._dragdata={element:Tl,dx:Hu,dy:Gu},_l.moveFn(Hu,Gu))}function $u(mu){if(delete ls._dragdata,_l.dragmode!==!1&&(mu.preventDefault(),document.removeEventListener("mousemove",Bl),document.removeEventListener("touchmove",Bl)),document.removeEventListener("mouseup",$u),document.removeEventListener("touchend",$u),it?Ln(Cl):Bn&&(Cl.documentElement.style.cursor=Bn,Bn=null),!ls._dragging){ls._dragged=!1;return}if(ls._dragging=!1,new Date().getTime()-ls._mouseDownTime>Pl&&(Sl=Math.max(Sl-1,1)),ls._dragged)_l.doneFn&&_l.doneFn();else{var Pu;Al.target===Il?Pu=Al:(Pu={target:Il,srcElement:Il,toElement:Il},Object.keys(Al).concat(Object.keys(Al.__proto__)).forEach(bu=>{var Fu=Al[bu];!Pu[bu]&&typeof Fu!="function"&&(Pu[bu]=Fu)})),_l.clickFn&&_l.clickFn(Sl,Pu),$l||Il.dispatchEvent(new MouseEvent("click",mu))}ls._dragging=!1,ls._dragged=!1}};function yl(){var _l=document.createElement("div");_l.className="dragcover";var ls=_l.style;return ls.position="fixed",ls.left=0,ls.right=0,ls.top=0,ls.bottom=0,ls.zIndex=999999999,ls.background="none",document.body.appendChild(_l),_l}Fn.coverSlip=yl;function ot(_l){return jt(_l.changedTouches?_l.changedTouches[0]:_l,document.body)}}),y1=a((yu,hu)=>{hu.exports=function(jt,it){(jt.attr("class")||"").split(" ").forEach(function(st){st.indexOf("cursor-")===0&&jt.classed(st,!1)}),it&&jt.classed("cursor-"+it,!0)}}),Zm=a((yu,hu)=>{var jt=y1(),it="data-savedcursor",st="!!";hu.exports=function(Ln,Ft){var Fn=Ln.attr(it);if(Ft){if(!Fn){for(var zn=(Ln.attr("class")||"").split(" "),yl=0;yl<zn.length;yl++){var ot=zn[yl];ot.indexOf("cursor-")===0&&Ln.attr(it,ot.substr(7)).classed(ot,!1)}Ln.attr(it)||Ln.attr(it,st)}jt(Ln,Ft)}else Fn&&(Ln.attr(it,null),Fn===st?jt(Ln):jt(Ln,Fn))}}),w1=a((yu,hu)=>{var jt=fp(),it=k0();hu.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:it.defaultLine,editType:"legend"},maxheight:{valType:"number",min:0,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:jt({editType:"legend"}),grouptitlefont:jt({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:jt({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}),S1=a(yu=>{yu.isGrouped=function(hu){return(hu.traceorder||"").indexOf("grouped")!==-1},yu.isVertical=function(hu){return hu.orientation!=="h"},yu.isReversed=function(hu){return(hu.traceorder||"").indexOf("reversed")!==-1}}),Ym=a((yu,hu)=>{var jt=N1(),it=gu(),st=d1(),Ln=zp(),Ft=w1(),Fn=Wv(),zn=S1();function yl(ot,_l,ls,Sl){var Pl=_l[ot]||{},Tl=st.newContainer(ls,ot);function El(Ap,Lu){return it.coerce(Pl,Tl,Ft,Ap,Lu)}var Ml=it.coerceFont(El,"font",ls.font);El("bgcolor",ls.paper_bgcolor),El("bordercolor");var Rl=El("visible");if(Rl){for(var Bn,Cl=function(Ap,Lu){var Nu=Bn._input,Hl=Bn;return it.coerce(Nu,Hl,Ln,Ap,Lu)},Al=ls.font||{},Il=it.coerceFont(El,"grouptitlefont",Al,{overrideDflt:{size:Math.round(Al.size*1.1)}}),$l=0,Bu=!1,Jl="normal",Kl=(ls.shapes||[]).filter(function(Ap){return Ap.showlegend}),Bl=Sl.concat(Kl).filter(function(Ap){return ot===(Ap.legend||"legend")}),$u=0;$u<Bl.length;$u++)if(Bn=Bl[$u],!!Bn.visible){var mu=Bn._isShape;(Bn.showlegend||Bn._dfltShowLegend&&!(Bn._module&&Bn._module.attributes&&Bn._module.attributes.showlegend&&Bn._module.attributes.showlegend.dflt===!1))&&($l++,Bn.showlegend&&(Bu=!0,(!mu&&jt.traceIs(Bn,"pie-like")||Bn._input.showlegend===!0)&&$l++),it.coerceFont(Cl,"legendgrouptitle.font",Il)),(!mu&&jt.traceIs(Bn,"bar")&&ls.barmode==="stack"||["tonextx","tonexty"].indexOf(Bn.fill)!==-1)&&(Jl=zn.isGrouped({traceorder:Jl})?"grouped+reversed":"reversed"),Bn.legendgroup!==void 0&&Bn.legendgroup!==""&&(Jl=zn.isReversed({traceorder:Jl})?"reversed+grouped":"grouped")}var Pu=it.coerce(_l,ls,Fn,"showlegend",Bu&&$l>(ot==="legend"?1:0));if(Pu===!1&&(ls[ot]=void 0),!(Pu===!1&&!Pl.uirevision)&&(El("uirevision",ls.uirevision),Pu!==!1)){El("borderwidth");var bu=El("orientation"),Fu=El("yref"),Hu=El("xref"),Gu=bu==="h",Xl=Fu==="paper",Wu=Hu==="paper",Yu,ap,rp,sp="left";Gu?(Yu=0,jt.getComponentMethod("rangeslider","isVisible")(_l.xaxis)?Xl?(ap=1.1,rp="bottom"):(ap=1,rp="top"):Xl?(ap=-.1,rp="top"):(ap=0,rp="bottom")):(ap=1,rp="auto",Wu?Yu=1.02:(Yu=1,sp="right")),it.coerce(Pl,Tl,{x:{valType:"number",editType:"legend",min:Wu?-2:0,max:Wu?3:1,dflt:Yu}},"x"),it.coerce(Pl,Tl,{y:{valType:"number",editType:"legend",min:Xl?-2:0,max:Xl?3:1,dflt:ap}},"y"),El("traceorder",Jl),zn.isGrouped(ls[ot])&&El("tracegroupgap"),El("entrywidth"),El("entrywidthmode"),El("indentation"),El("itemsizing"),El("itemwidth"),El("itemclick"),El("itemdoubleclick"),El("groupclick"),El("xanchor",sp),El("yanchor",rp),El("maxheight"),El("valign"),it.noneOrAll(Pl,Tl,["x","y"]);var bp=El("title.text");if(bp){El("title.side",Gu?"left":"top");var Cp=it.extendFlat({},Ml,{size:it.bigFont(Ml.size)});it.coerceFont(El,"title.font",Cp)}}}}hu.exports=function(ot,_l,ls){var Sl,Pl=ls.slice(),Tl=_l.shapes;if(Tl)for(Sl=0;Sl<Tl.length;Sl++){var El=Tl[Sl];if(El.showlegend){var Ml={_input:El._input,visible:El.visible,showlegend:El.showlegend,legend:El.legend};Pl.push(Ml)}}var Rl=["legend"];for(Sl=0;Sl<Pl.length;Sl++)it.pushUnique(Rl,Pl[Sl].legend);for(_l._legends=[],Sl=0;Sl<Rl.length;Sl++){var Bn=Rl[Sl];yl(Bn,ot,_l,Pl),_l[Bn]&&(_l[Bn]._id=Bn),_l._legends.push(Bn)}}}),P1=a((yu,hu)=>{var jt=N1(),it=gu(),st=it.pushUnique,Ln=!0;hu.exports=function(Ft,Fn,zn){var yl=Fn._fullLayout;if(Fn._dragged||Fn._editing)return;var ot=yl.legend.itemclick,_l=yl.legend.itemdoubleclick,ls=yl.legend.groupclick;zn===1&&ot==="toggle"&&_l==="toggleothers"&&Ln&&Fn.data&&Fn._context.showTips&&it.notifier(it._(Fn,"Double-click on legend to isolate one trace"),"long"),Ln=!1;var Sl;if(zn===1?Sl=ot:zn===2&&(Sl=_l),!Sl)return;var Pl=ls==="togglegroup",Tl=yl.hiddenlabels?yl.hiddenlabels.slice():[],El=Ft.data()[0][0];if(El.groupTitle&&El.noClick)return;var Ml=Fn._fullData,Rl=(yl.shapes||[]).filter(function(d0){return d0.showlegend}),Bn=Ml.concat(Rl),Cl=El.trace;Cl._isShape&&(Cl=Cl._fullInput);var Al=Cl.legendgroup,Il,$l,Bu,Jl,Kl,Bl,$u={},mu=[],Pu=[],bu=[];function Fu(d0,Sp){var Fp=mu.indexOf(d0),cp=$u.visible;return cp||(cp=$u.visible=[]),mu.indexOf(d0)===-1&&(mu.push(d0),Fp=mu.length-1),cp[Fp]=Sp,Fp}var Hu=(yl.shapes||[]).map(function(d0){return d0._input}),Gu=!1;function Xl(d0,Sp){Hu[d0].visible=Sp,Gu=!0}function Wu(d0,Sp){if(!(El.groupTitle&&!Pl)){var Fp=d0._fullInput||d0,cp=Fp._isShape,jp=Fp.index;jp===void 0&&(jp=Fp._index);var a0=Fp.visible===!1?!1:Sp;cp?Xl(jp,a0):Fu(jp,a0)}}var Yu=Cl.legend,ap=Cl._fullInput,rp=ap&&ap._isShape;if(!rp&&jt.traceIs(Cl,"pie-like")){var sp=El.label,bp=Tl.indexOf(sp);if(Sl==="toggle")bp===-1?Tl.push(sp):Tl.splice(bp,1);else if(Sl==="toggleothers"){var Cp=bp!==-1,Ap=[];for(Il=0;Il<Fn.calcdata.length;Il++){var Lu=Fn.calcdata[Il];for($l=0;$l<Lu.length;$l++){var Nu=Lu[$l],Hl=Nu.label;Yu===Lu[0].trace.legend&&sp!==Hl&&(Tl.indexOf(Hl)===-1&&(Cp=!0),st(Tl,Hl),Ap.push(Hl))}}if(!Cp)for(var qu=0;qu<Ap.length;qu++){var np=Tl.indexOf(Ap[qu]);np!==-1&&Tl.splice(np,1)}}jt.call("_guiRelayout",Fn,"hiddenlabels",Tl)}else{var vu=Al&&Al.length,Ol=[],Wl;if(vu)for(Il=0;Il<Bn.length;Il++)Wl=Bn[Il],Wl.visible&&Wl.legendgroup===Al&&Ol.push(Il);if(Sl==="toggle"){var Mu;switch(Cl.visible){case!0:Mu="legendonly";break;case!1:Mu=!1;break;case"legendonly":Mu=!0;break}if(vu)if(Pl)for(Il=0;Il<Bn.length;Il++){var zu=Bn[Il];zu.visible!==!1&&zu.legendgroup===Al&&Wu(zu,Mu)}else Wu(Cl,Mu);else Wu(Cl,Mu)}else if(Sl==="toggleothers"){var ip,pp,vp,Pp,Gp,r0=!0;for(Il=0;Il<Bn.length;Il++)if(Gp=Bn[Il],ip=Gp===Cl,vp=Gp.showlegend!==!0,!(ip||vp)&&(pp=vu&&Gp.legendgroup===Al,!pp&&Gp.legend===Yu&&Gp.visible===!0&&!jt.traceIs(Gp,"notLegendIsolatable"))){r0=!1;break}for(Il=0;Il<Bn.length;Il++)if(Gp=Bn[Il],!(Gp.visible===!1||Gp.legend!==Yu)&&!jt.traceIs(Gp,"notLegendIsolatable"))switch(Cl.visible){case"legendonly":Wu(Gp,!0);break;case!0:Pp=r0?!0:"legendonly",ip=Gp===Cl,vp=Gp.showlegend!==!0&&!Gp.legendgroup,pp=ip||vu&&Gp.legendgroup===Al,Wu(Gp,pp||vp?!0:Pp);break}}for(Il=0;Il<Pu.length;Il++)if(Bu=Pu[Il],!!Bu){var C0=Bu.constructUpdate(),f0=Object.keys(C0);for($l=0;$l<f0.length;$l++)Jl=f0[$l],Bl=$u[Jl]=$u[Jl]||[],Bl[bu[Il]]=C0[Jl]}for(Kl=Object.keys($u),Il=0;Il<Kl.length;Il++)for(Jl=Kl[Il],$l=0;$l<mu.length;$l++)$u[Jl].hasOwnProperty($l)||($u[Jl][$l]=void 0);Gu?jt.call("_guiUpdate",Fn,$u,{shapes:Hu},mu):jt.call("_guiRestyle",Fn,$u,mu)}}}),av=a((yu,hu)=>{hu.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),T1=a((yu,hu)=>{var jt=N1(),it=S1();hu.exports=function(st,Ln,Ft){var Fn=Ln._inHover,zn=it.isGrouped(Ln),yl=it.isReversed(Ln),ot={},_l=[],ls=!1,Sl={},Pl=0,Tl=0,El,Ml;function Rl(Wu,Yu,ap){if(Ln.visible!==!1&&!(Ft&&Wu!==Ln._id))if(Yu===""||!it.isGrouped(Ln)){var rp="~~i"+Pl;_l.push(rp),ot[rp]=[ap],Pl++}else _l.indexOf(Yu)===-1?(_l.push(Yu),ls=!0,ot[Yu]=[ap]):ot[Yu].push(ap)}for(El=0;El<st.length;El++){var Bn=st[El],Cl=Bn[0],Al=Cl.trace,Il=Al.legend,$l=Al.legendgroup;if(!(!Fn&&(!Al.visible||!Al.showlegend)))if(jt.traceIs(Al,"pie-like"))for(Sl[$l]||(Sl[$l]={}),Ml=0;Ml<Bn.length;Ml++){var Bu=Bn[Ml].label;Sl[$l][Bu]||(Rl(Il,$l,{label:Bu,color:Bn[Ml].color,i:Bn[Ml].i,trace:Al,pts:Bn[Ml].pts}),Sl[$l][Bu]=!0,Tl=Math.max(Tl,(Bu||"").length))}else Rl(Il,$l,Cl),Tl=Math.max(Tl,(Al.name||"").length)}if(!_l.length)return[];var Jl=!ls||!zn,Kl=[];for(El=0;El<_l.length;El++){var Bl=ot[_l[El]];Jl?Kl.push(Bl[0]):Kl.push(Bl)}for(Jl&&(Kl=[Kl]),El=0;El<Kl.length;El++){var $u=1/0;for(Ml=0;Ml<Kl[El].length;Ml++){var mu=Kl[El][Ml].trace.legendrank;$u>mu&&($u=mu)}Kl[El][0]._groupMinRank=$u,Kl[El][0]._preGroupSort=El}var Pu=function(Wu,Yu){return Wu[0]._groupMinRank-Yu[0]._groupMinRank||Wu[0]._preGroupSort-Yu[0]._preGroupSort},bu=function(Wu,Yu){return Wu.trace.legendrank-Yu.trace.legendrank||Wu._preSort-Yu._preSort};for(Kl.forEach(function(Wu,Yu){Wu[0]._preGroupSort=Yu}),Kl.sort(Pu),El=0;El<Kl.length;El++){Kl[El].forEach(function(Wu,Yu){Wu._preSort=Yu}),Kl[El].sort(bu);var Fu=Kl[El][0].trace,Hu=null;for(Ml=0;Ml<Kl[El].length;Ml++){var Gu=Kl[El][Ml].trace.legendgrouptitle;if(Gu&&Gu.text){Hu=Gu,Fn&&(Gu.font=Ln._groupTitleFont);break}}if(yl&&Kl[El].reverse(),Hu){var Xl=!1;for(Ml=0;Ml<Kl[El].length;Ml++)if(jt.traceIs(Kl[El][Ml].trace,"pie-like")){Xl=!0;break}Kl[El].unshift({i:-1,groupTitle:Hu,noClick:Xl,trace:{showlegend:Fu.showlegend,legendgroup:Fu.legendgroup,visible:Ln.groupclick==="toggleitem"?!0:Fu.visible}})}for(Ml=0;Ml<Kl[El].length;Ml++)Kl[El][Ml]=[Kl[El][Ml]]}return Ln._lgroupsLength=Kl.length,Ln._maxNameLength=Tl,Kl}}),t1=a(yu=>{var hu=gu();function jt(it){return it.indexOf("e")!==-1?it.replace(/[.]?0+e/,"e"):it.indexOf(".")!==-1?it.replace(/[.]?0+$/,""):it}yu.formatPiePercent=function(it,st){var Ln=jt((it*100).toPrecision(3));return hu.numSeparate(Ln,st)+"%"},yu.formatPieValue=function(it,st){var Ln=jt(it.toPrecision(10));return hu.numSeparate(Ln,st)},yu.getFirstFilled=function(it,st){if(hu.isArrayOrTypedArray(it))for(var Ln=0;Ln<st.length;Ln++){var Ft=it[st[Ln]];if(Ft||Ft===0||Ft==="")return Ft}},yu.castOption=function(it,st){if(hu.isArrayOrTypedArray(it))return yu.getFirstFilled(it,st);if(it)return it},yu.getRotationAngle=function(it){return(it==="auto"?0:it)*Math.PI/180}}),gv=a((yu,hu)=>{var jt=q0(),it=D0();hu.exports=function(st,Ln,Ft,Fn){var zn=Ft.marker.pattern;zn&&zn.shape?jt.pointStyle(st,Ft,Fn,Ln):it.fill(st,Ln.color)}}),K1=a((yu,hu)=>{var jt=D0(),it=t1().castOption,st=gv();hu.exports=function(Ln,Ft,Fn,zn){var yl=Fn.marker.line,ot=it(yl.color,Ft.pts)||jt.defaultLine,_l=it(yl.width,Ft.pts)||0;Ln.call(st,Ft,Fn,zn).style("stroke-width",_l).call(jt.stroke,ot)}}),sv=a((yu,hu)=>{var jt=g(),it=N1(),st=gu(),Ln=st.strTranslate,Ft=q0(),Fn=D0(),zn=tv().extractOpts,yl=Qp(),ot=K1(),_l=t1().castOption,ls=av(),Sl=12,Pl=5,Tl=2,El=10,Ml=5;hu.exports=function(Al,Il,$l){var Bu=Il._fullLayout;$l||($l=Bu.legend);var Jl=$l.itemsizing==="constant",Kl=$l.itemwidth,Bl=(Kl+ls.itemGap*2)/2,$u=Ln(Bl,0),mu=function(Ap,Lu,Nu,Hl){var qu;if(Ap+1)qu=Ap;else if(Lu&&Lu.width>0)qu=Lu.width;else return 0;return Jl?Hl:Math.min(qu,Nu)};Al.each(function(Ap){var Lu=jt.select(this),Nu=st.ensureSingle(Lu,"g","layers");Nu.style("opacity",Ap[0].trace.opacity);var Hl=$l.indentation,qu=$l.valign,np=Ap[0].lineHeight,vu=Ap[0].height;if(qu==="middle"&&Hl===0||!np||!vu)Nu.attr("transform",null);else{var Ol={top:1,bottom:-1}[qu],Wl=Ol*(.5*(np-vu+3))||0,Mu=$l.indentation;Nu.attr("transform",Ln(Mu,Wl))}var zu=Nu.selectAll("g.legendfill").data([Ap]);zu.enter().append("g").classed("legendfill",!0);var ip=Nu.selectAll("g.legendlines").data([Ap]);ip.enter().append("g").classed("legendlines",!0);var pp=Nu.selectAll("g.legendsymbols").data([Ap]);pp.enter().append("g").classed("legendsymbols",!0),pp.selectAll("g.legendpoints").data([Ap]).enter().append("g").classed("legendpoints",!0)}).each(Cp).each(Fu).each(Gu).each(Hu).each(Wu).each(sp).each(rp).each(Pu).each(bu).each(Yu).each(ap);function Pu(Ap){var Lu=Bn(Ap),Nu=Lu.showFill,Hl=Lu.showLine,qu=Lu.showGradientLine,np=Lu.showGradientFill,vu=Lu.anyFill,Ol=Lu.anyLine,Wl=Ap[0],Mu=Wl.trace,zu,ip,pp=zn(Mu),vp=pp.colorscale,Pp=pp.reversescale,Gp=function(cp){if(cp.size())if(Nu)Ft.fillGroupStyle(cp,Il,!0);else{var jp="legendfill-"+Mu.uid;Ft.gradient(cp,Il,jp,Rl(Pp),vp,"fill")}},r0=function(cp){if(cp.size()){var jp="legendline-"+Mu.uid;Ft.lineGroupStyle(cp),Ft.gradient(cp,Il,jp,Rl(Pp),vp,"stroke")}},C0=yl.hasMarkers(Mu)||!vu?"M5,0":Ol?"M5,-2":"M5,-3",f0=jt.select(this),d0=f0.select(".legendfill").selectAll("path").data(Nu||np?[Ap]:[]);if(d0.enter().append("path").classed("js-fill",!0),d0.exit().remove(),d0.attr("d",C0+"h"+Kl+"v6h-"+Kl+"z").call(Gp),Hl||qu){var Sp=mu(void 0,Mu.line,El,Pl);ip=st.minExtend(Mu,{line:{width:Sp}}),zu=[st.minExtend(Wl,{trace:ip})]}var Fp=f0.select(".legendlines").selectAll("path").data(Hl||qu?[zu]:[]);Fp.enter().append("path").classed("js-line",!0),Fp.exit().remove(),Fp.attr("d",C0+(qu?"l"+Kl+",0.0001":"h"+Kl)).call(Hl?Ft.lineGroupStyle:r0)}function bu(Ap){var Lu=Bn(Ap),Nu=Lu.anyFill,Hl=Lu.anyLine,qu=Lu.showLine,np=Lu.showMarker,vu=Ap[0],Ol=vu.trace,Wl=!np&&!Hl&&!Nu&&yl.hasText(Ol),Mu,zu;function ip(d0,Sp,Fp,cp){var jp=st.nestedProperty(Ol,d0).get(),a0=st.isArrayOrTypedArray(jp)&&Sp?Sp(jp):jp;if(Jl&&a0&&cp!==void 0&&(a0=cp),Fp){if(a0<Fp[0])return Fp[0];if(a0>Fp[1])return Fp[1]}return a0}function pp(d0){return vu._distinct&&vu.index&&d0[vu.index]?d0[vu.index]:d0[0]}if(np||Wl||qu){var vp={},Pp={};if(np){vp.mc=ip("marker.color",pp),vp.mx=ip("marker.symbol",pp),vp.mo=ip("marker.opacity",st.mean,[.2,1]),vp.mlc=ip("marker.line.color",pp),vp.mlw=ip("marker.line.width",st.mean,[0,5],Tl),Pp.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Gp=ip("marker.size",st.mean,[2,16],Sl);vp.ms=Gp,Pp.marker.size=Gp}qu&&(Pp.line={width:ip("line.width",pp,[0,10],Pl)}),Wl&&(vp.tx="Aa",vp.tp=ip("textposition",pp),vp.ts=10,vp.tc=ip("textfont.color",pp),vp.tf=ip("textfont.family",pp),vp.tw=ip("textfont.weight",pp),vp.ty=ip("textfont.style",pp),vp.tv=ip("textfont.variant",pp),vp.tC=ip("textfont.textcase",pp),vp.tE=ip("textfont.lineposition",pp),vp.tS=ip("textfont.shadow",pp)),Mu=[st.minExtend(vu,vp)],zu=st.minExtend(Ol,Pp),zu.selectedpoints=null,zu.texttemplate=null}var r0=jt.select(this).select("g.legendpoints"),C0=r0.selectAll("path.scatterpts").data(np?Mu:[]);C0.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",$u),C0.exit().remove(),C0.call(Ft.pointStyle,zu,Il),np&&(Mu[0].mrc=3);var f0=r0.selectAll("g.pointtext").data(Wl?Mu:[]);f0.enter().append("g").classed("pointtext",!0).append("text").attr("transform",$u),f0.exit().remove(),f0.selectAll("text").call(Ft.textPointStyle,zu,Il)}function Fu(Ap){var Lu=Ap[0].trace,Nu=Lu.type==="waterfall";if(Ap[0]._distinct&&Nu){var Hl=Ap[0].trace[Ap[0].dir].marker;return Ap[0].mc=Hl.color,Ap[0].mlw=Hl.line.width,Ap[0].mlc=Hl.line.color,Xl(Ap,this,"waterfall")}var qu=[];Lu.visible&&Nu&&(qu=Ap[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var np=jt.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(qu);np.enter().append("path").classed("legendwaterfall",!0).attr("transform",$u).style("stroke-miterlimit",1),np.exit().remove(),np.each(function(vu){var Ol=jt.select(this),Wl=Lu[vu[0]].marker,Mu=mu(void 0,Wl.line,Ml,Tl);Ol.attr("d",vu[1]).style("stroke-width",Mu+"px").call(Fn.fill,Wl.color),Mu&&Ol.call(Fn.stroke,Wl.line.color)})}function Hu(Ap){Xl(Ap,this)}function Gu(Ap){Xl(Ap,this,"funnel")}function Xl(Ap,Lu,Nu){var Hl=Ap[0].trace,qu=Hl.marker||{},np=qu.line||{},vu=qu.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",Ol=Nu?Hl.visible&&Hl.type===Nu:it.traceIs(Hl,"bar"),Wl=jt.select(Lu).select("g.legendpoints").selectAll("path.legend"+Nu).data(Ol?[Ap]:[]);Wl.enter().append("path").classed("legend"+Nu,!0).attr("d",vu).attr("transform",$u),Wl.exit().remove(),Wl.each(function(Mu){var zu=jt.select(this),ip=Mu[0],pp=mu(ip.mlw,qu.line,Ml,Tl);zu.style("stroke-width",pp+"px");var vp=ip.mcc;if(!$l._inHover&&"mc"in ip){var Pp=zn(qu),Gp=Pp.mid;Gp===void 0&&(Gp=(Pp.max+Pp.min)/2),vp=Ft.tryColorscale(qu,"")(Gp)}var r0=vp||ip.mc||qu.color,C0=qu.pattern,f0=Ft.getPatternAttr,d0=C0&&(f0(C0.shape,0,"")||f0(C0.path,0,""));if(d0){var Sp=f0(C0.bgcolor,0,null),Fp=f0(C0.fgcolor,0,null),cp=C0.fgopacity,jp=Cl(C0.size,8,10),a0=Cl(C0.solidity,.5,1),y0="legend-"+Hl.uid;zu.call(Ft.pattern,"legend",Il,y0,d0,jp,a0,vp,C0.fillmode,Sp,Fp,cp)}else zu.call(Fn.fill,r0);pp&&Fn.stroke(zu,ip.mlc||np.color)})}function Wu(Ap){var Lu=Ap[0].trace,Nu=jt.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Lu.visible&&it.traceIs(Lu,"box-violin")?[Ap]:[]);Nu.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",$u),Nu.exit().remove(),Nu.each(function(){var Hl=jt.select(this);if((Lu.boxpoints==="all"||Lu.points==="all")&&Fn.opacity(Lu.fillcolor)===0&&Fn.opacity((Lu.line||{}).color)===0){var qu=st.minExtend(Lu,{marker:{size:Jl?Sl:st.constrain(Lu.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Nu.call(Ft.pointStyle,qu,Il)}else{var np=mu(void 0,Lu.line,Ml,Tl);Hl.style("stroke-width",np+"px").call(Fn.fill,Lu.fillcolor),np&&Fn.stroke(Hl,Lu.line.color)}})}function Yu(Ap){var Lu=Ap[0].trace,Nu=jt.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Lu.visible&&Lu.type==="candlestick"?[Ap,Ap]:[]);Nu.enter().append("path").classed("legendcandle",!0).attr("d",function(Hl,qu){return qu?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",$u).style("stroke-miterlimit",1),Nu.exit().remove(),Nu.each(function(Hl,qu){var np=jt.select(this),vu=Lu[qu?"increasing":"decreasing"],Ol=mu(void 0,vu.line,Ml,Tl);np.style("stroke-width",Ol+"px").call(Fn.fill,vu.fillcolor),Ol&&Fn.stroke(np,vu.line.color)})}function ap(Ap){var Lu=Ap[0].trace,Nu=jt.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Lu.visible&&Lu.type==="ohlc"?[Ap,Ap]:[]);Nu.enter().append("path").classed("legendohlc",!0).attr("d",function(Hl,qu){return qu?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",$u).style("stroke-miterlimit",1),Nu.exit().remove(),Nu.each(function(Hl,qu){var np=jt.select(this),vu=Lu[qu?"increasing":"decreasing"],Ol=mu(void 0,vu.line,Ml,Tl);np.style("fill","none").call(Ft.dashLine,vu.line.dash,Ol),Ol&&Fn.stroke(np,vu.line.color)})}function rp(Ap){bp(Ap,this,"pie")}function sp(Ap){bp(Ap,this,"funnelarea")}function bp(Ap,Lu,Nu){var Hl=Ap[0],qu=Hl.trace,np=Nu?qu.visible&&qu.type===Nu:it.traceIs(qu,Nu),vu=jt.select(Lu).select("g.legendpoints").selectAll("path.legend"+Nu).data(np?[Ap]:[]);if(vu.enter().append("path").classed("legend"+Nu,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",$u),vu.exit().remove(),vu.size()){var Ol=qu.marker||{},Wl=mu(_l(Ol.line.width,Hl.pts),Ol.line,Ml,Tl),Mu="pieLike",zu=st.minExtend(qu,{marker:{line:{width:Wl}}},Mu),ip=st.minExtend(Hl,{trace:zu},Mu);ot(vu,ip,zu,Il)}}function Cp(Ap){var Lu=Ap[0].trace,Nu,Hl=[];if(Lu.visible)switch(Lu.type){case"histogram2d":case"heatmap":Hl=[["M-15,-2V4H15V-2Z"]],Nu=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":Hl=[["M-6,-6V6H6V-6Z"]],Nu=!0;break;case"densitymapbox":case"densitymap":Hl=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Nu="radial";break;case"cone":Hl=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Nu=!1;break;case"streamtube":Hl=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Nu=!1;break;case"surface":Hl=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Nu=!0;break;case"mesh3d":Hl=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Nu=!1;break;case"volume":Hl=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Nu=!0;break;case"isosurface":Hl=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Nu=!1;break}var qu=jt.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Hl);qu.enter().append("path").classed("legend3dandfriends",!0).attr("transform",$u).style("stroke-miterlimit",1),qu.exit().remove(),qu.each(function(np,vu){var Ol=jt.select(this),Wl=zn(Lu),Mu=Wl.colorscale,zu=Wl.reversescale,ip=function(Gp){if(Gp.size()){var r0="legendfill-"+Lu.uid;Ft.gradient(Gp,Il,r0,Rl(zu,Nu==="radial"),Mu,"fill")}},pp;if(Mu){if(!Nu){var vp=Mu.length;pp=vu===0?Mu[zu?vp-1:0][1]:vu===1?Mu[zu?0:vp-1][1]:Mu[Math.floor((vp-1)/2)][1]}}else{var Pp=Lu.vertexcolor||Lu.facecolor||Lu.color;pp=st.isArrayOrTypedArray(Pp)?Pp[vu]||Pp[0]:Pp}Ol.attr("d",np[0]),pp?Ol.call(Fn.fill,pp):Ol.call(ip)})}};function Rl(Al,Il){var $l=Il?"radial":"horizontal";return $l+(Al?"":"reversed")}function Bn(Al){var Il=Al[0].trace,$l=Il.contours,Bu=yl.hasLines(Il),Jl=yl.hasMarkers(Il),Kl=Il.visible&&Il.fill&&Il.fill!=="none",Bl=!1,$u=!1;if($l){var mu=$l.coloring;mu==="lines"?Bl=!0:Bu=mu==="none"||mu==="heatmap"||$l.showlines,$l.type==="constraint"?Kl=$l._operation!=="=":(mu==="fill"||mu==="heatmap")&&($u=!0)}return{showMarker:Jl,showLine:Bu,showFill:Kl,showGradientLine:Bl,showGradientFill:$u,anyLine:Bu||Bl,anyFill:Kl||$u}}function Cl(Al,Il,$l){return Al&&st.isArrayOrTypedArray(Al)?Il:Al>$l?$l:Al}}),U1=a((yu,hu)=>{var jt=g(),it=gu(),st=_v(),Ln=N1(),Ft=u1(),Fn=Pm(),zn=q0(),yl=D0(),ot=hy(),_l=P1(),ls=av(),Sl=pv(),Pl=Sl.LINE_SPACING,Tl=Sl.FROM_TL,El=Sl.FROM_BR,Ml=T1(),Rl=sv(),Bn=S1(),Cl=1,Al=/^legend[0-9]*$/;hu.exports=function(Yu,ap){if(ap)$l(Yu,ap);else{var rp=Yu._fullLayout,sp=rp._legends,bp=rp._infolayer.selectAll('[class^="legend"]');bp.each(function(){var Nu=jt.select(this),Hl=Nu.attr("class"),qu=Hl.split(" ")[0];qu.match(Al)&&sp.indexOf(qu)===-1&&Nu.remove()});for(var Cp=0;Cp<sp.length;Cp++){var Ap=sp[Cp],Lu=Yu._fullLayout[Ap];$l(Yu,Lu)}}};function Il(Yu,ap,rp){if(!(ap.title.side!=="top center"&&ap.title.side!=="top right")){var sp=ap.title.font,bp=sp.size*Pl,Cp=0,Ap=Yu.node(),Lu=zn.bBox(Ap).width;ap.title.side==="top center"?Cp=.5*(ap._width-2*rp-2*ls.titlePad-Lu):ap.title.side==="top right"&&(Cp=ap._width-2*rp-2*ls.titlePad-Lu),ot.positionText(Yu,rp+ls.titlePad+Cp,rp+bp)}}function $l(Yu,ap){var rp=ap||{},sp=Yu._fullLayout,bp=Wu(rp),Cp,Ap,Lu=rp._inHover;if(Lu?(Ap=rp.layer,Cp="hover"):(Ap=sp._infolayer,Cp=bp),!!Ap){Cp+=sp._uid,Yu._legendMouseDownTime||(Yu._legendMouseDownTime=0);var Nu;if(Lu){if(!rp.entries)return;Nu=Ml(rp.entries,rp)}else{for(var Hl=(Yu.calcdata||[]).slice(),qu=sp.shapes,np=0;np<qu.length;np++){var vu=qu[np];if(vu.showlegend){var Ol={_isShape:!0,_fullInput:vu,index:vu._index,name:vu.name||vu.label.text||"shape "+vu._index,legend:vu.legend,legendgroup:vu.legendgroup,legendgrouptitle:vu.legendgrouptitle,legendrank:vu.legendrank,legendwidth:vu.legendwidth,showlegend:vu.showlegend,visible:vu.visible,opacity:vu.opacity,mode:vu.type==="line"?"lines":"markers",line:vu.line,marker:{line:vu.line,color:vu.fillcolor,size:12,symbol:vu.type==="rect"?"square":vu.type==="circle"?"circle":"hexagon2"}};Hl.push([{trace:Ol}])}}Nu=sp.showlegend&&Ml(Hl,rp,sp._legends.length>1)}var Wl=sp.hiddenlabels||[];if(!Lu&&(!sp.showlegend||!Nu.length))return Ap.selectAll("."+bp).remove(),sp._topdefs.select("#"+Cp).remove(),st.autoMargin(Yu,bp);var Mu=it.ensureSingle(Ap,"g",bp,function(f0){Lu||f0.attr("pointer-events","all")}),zu=it.ensureSingleById(sp._topdefs,"clipPath",Cp,function(f0){f0.append("rect")}),ip=it.ensureSingle(Mu,"rect","bg",function(f0){f0.attr("shape-rendering","crispEdges")});ip.call(yl.stroke,rp.bordercolor).call(yl.fill,rp.bgcolor).style("stroke-width",rp.borderwidth+"px");var pp=it.ensureSingle(Mu,"g","scrollbox"),vp=rp.title;rp._titleWidth=0,rp._titleHeight=0;var Pp;vp.text?(Pp=it.ensureSingle(pp,"text",bp+"titletext"),Pp.attr("text-anchor","start").call(zn.font,vp.font).text(vp.text),mu(Pp,pp,Yu,rp,Cl)):pp.selectAll("."+bp+"titletext").remove();var Gp=it.ensureSingle(Mu,"rect","scrollbar",function(f0){f0.attr(ls.scrollBarEnterAttrs).call(yl.fill,ls.scrollBarColor)}),r0=pp.selectAll("g.groups").data(Nu);r0.enter().append("g").attr("class","groups"),r0.exit().remove();var C0=r0.selectAll("g.traces").data(it.identity);C0.enter().append("g").attr("class","traces"),C0.exit().remove(),C0.style("opacity",function(f0){var d0=f0[0].trace;return Ln.traceIs(d0,"pie-like")?Wl.indexOf(f0[0].label)!==-1?.5:1:d0.visible==="legendonly"?.5:1}).each(function(){jt.select(this).call(Kl,Yu,rp)}).call(Rl,Yu,rp).each(function(){Lu||jt.select(this).call($u,Yu,bp)}),it.syncOrAsync([st.previousPromises,function(){return Fu(Yu,r0,C0,rp)},function(){var f0=sp._size,d0=rp.borderwidth,Sp=rp.xref==="paper",Fp=rp.yref==="paper";if(vp.text&&Il(Pp,rp,d0),!Lu){var cp,jp;Sp?cp=f0.l+f0.w*rp.x-Tl[Gu(rp)]*rp._width:cp=sp.width*rp.x-Tl[Gu(rp)]*rp._width,Fp?jp=f0.t+f0.h*(1-rp.y)-Tl[Xl(rp)]*rp._effHeight:jp=sp.height*(1-rp.y)-Tl[Xl(rp)]*rp._effHeight;var a0=Hu(Yu,bp,cp,jp);if(a0)return;if(sp.margin.autoexpand){var y0=cp,P0=jp;cp=Sp?it.constrain(cp,0,sp.width-rp._width):y0,jp=Fp?it.constrain(jp,0,sp.height-rp._effHeight):P0,cp!==y0&&it.log("Constrain "+bp+".x to make legend fit inside graph"),jp!==P0&&it.log("Constrain "+bp+".y to make legend fit inside graph")}zn.setTranslate(Mu,cp,jp)}if(Gp.on(".drag",null),Mu.on("wheel",null),Lu||rp._height<=rp._maxHeight||Yu._context.staticPlot){var E0=rp._effHeight;Lu&&(E0=rp._height),ip.attr({width:rp._width-d0,height:E0-d0,x:d0/2,y:d0/2}),zn.setTranslate(pp,0,0),zu.select("rect").attr({width:rp._width-2*d0,height:E0-2*d0,x:d0,y:d0}),zn.setClipUrl(pp,Cp,Yu),zn.setRect(Gp,0,0,0,0),delete rp._scrollY}else{var O0=Math.max(ls.scrollBarMinHeight,rp._effHeight*rp._effHeight/rp._height),j0=rp._effHeight-O0-2*ls.scrollBarMargin,$0=rp._height-rp._effHeight,tm=j0/$0,A0=Math.min(rp._scrollY||0,$0);ip.attr({width:rp._width-2*d0+ls.scrollBarWidth+ls.scrollBarMargin,height:rp._effHeight-d0,x:d0/2,y:d0/2}),zu.select("rect").attr({width:rp._width-2*d0+ls.scrollBarWidth+ls.scrollBarMargin,height:rp._effHeight-2*d0,x:d0,y:d0+A0}),zn.setClipUrl(pp,Cp,Yu),hp(A0,O0,tm),Mu.on("wheel",function(){A0=it.constrain(rp._scrollY+jt.event.deltaY/j0*$0,0,$0),hp(A0,O0,tm),A0!==0&&A0!==$0&&jt.event.preventDefault()});var sm,pm,nm,vm=function(n0,b0,v0){var x0=(v0-b0)/tm+n0;return it.constrain(x0,0,$0)},kp=function(n0,b0,v0){var x0=(b0-v0)/tm+n0;return it.constrain(x0,0,$0)},qp=jt.behavior.drag().on("dragstart",function(){var n0=jt.event.sourceEvent;n0.type==="touchstart"?sm=n0.changedTouches[0].clientY:sm=n0.clientY,nm=A0}).on("drag",function(){var n0=jt.event.sourceEvent;n0.buttons===2||n0.ctrlKey||(n0.type==="touchmove"?pm=n0.changedTouches[0].clientY:pm=n0.clientY,A0=vm(nm,sm,pm),hp(A0,O0,tm))});Gp.call(qp);var Xu=jt.behavior.drag().on("dragstart",function(){var n0=jt.event.sourceEvent;n0.type==="touchstart"&&(sm=n0.changedTouches[0].clientY,nm=A0)}).on("drag",function(){var n0=jt.event.sourceEvent;n0.type==="touchmove"&&(pm=n0.changedTouches[0].clientY,A0=kp(nm,sm,pm),hp(A0,O0,tm))});pp.call(Xu)}function hp(n0,b0,v0){rp._scrollY=Yu._fullLayout[bp]._scrollY=n0,zn.setTranslate(pp,0,-n0),zn.setRect(Gp,rp._width,ls.scrollBarMargin+n0*v0,ls.scrollBarWidth,b0),zu.select("rect").attr("y",d0+n0)}if(Yu._context.edits.legendPosition){var yp,Dp,Bp,Jp;Mu.classed("cursor-move",!0),Fn.init({element:Mu.node(),gd:Yu,prepFn:function(n0){if(n0.target!==Gp.node()){var b0=zn.getTranslate(Mu);Bp=b0.x,Jp=b0.y}},moveFn:function(n0,b0){if(Bp!==void 0&&Jp!==void 0){var v0=Bp+n0,x0=Jp+b0;zn.setTranslate(Mu,v0,x0),yp=Fn.align(v0,rp._width,f0.l,f0.l+f0.w,rp.xanchor),Dp=Fn.align(x0+rp._height,-rp._height,f0.t+f0.h,f0.t,rp.yanchor)}},doneFn:function(){if(yp!==void 0&&Dp!==void 0){var n0={};n0[bp+".x"]=yp,n0[bp+".y"]=Dp,Ln.call("_guiRelayout",Yu,n0)}},clickFn:function(n0,b0){var v0=Ap.selectAll("g.traces").filter(function(){var x0=this.getBoundingClientRect();return b0.clientX>=x0.left&&b0.clientX<=x0.right&&b0.clientY>=x0.top&&b0.clientY<=x0.bottom});v0.size()>0&&Jl(Yu,Mu,v0,n0,b0)}})}}],Yu)}}function Bu(Yu,ap,rp){var sp=Yu[0],bp=sp.width,Cp=ap.entrywidthmode,Ap=sp.trace.legendwidth||ap.entrywidth;return Cp==="fraction"?ap._maxWidth*Ap:rp+(Ap||bp)}function Jl(Yu,ap,rp,sp,bp){var Cp=rp.data()[0][0].trace,Ap={event:bp,node:rp.node(),curveNumber:Cp.index,expandedIndex:Cp.index,data:Yu.data,layout:Yu.layout,frames:Yu._transitionData._frames,config:Yu._context,fullData:Yu._fullData,fullLayout:Yu._fullLayout};Cp._group&&(Ap.group=Cp._group),Ln.traceIs(Cp,"pie-like")&&(Ap.label=rp.datum()[0].label);var Lu=Ft.triggerHandler(Yu,"plotly_legendclick",Ap);if(sp===1){if(Lu===!1)return;ap._clickTimeout=setTimeout(function(){Yu._fullLayout&&_l(rp,Yu,sp)},Yu._context.doubleClickDelay)}else if(sp===2){ap._clickTimeout&&clearTimeout(ap._clickTimeout),Yu._legendMouseDownTime=0;var Nu=Ft.triggerHandler(Yu,"plotly_legenddoubleclick",Ap);Nu!==!1&&Lu!==!1&&_l(rp,Yu,sp)}}function Kl(Yu,ap,rp){var sp=Wu(rp),bp=Yu.data()[0][0],Cp=bp.trace,Ap=Ln.traceIs(Cp,"pie-like"),Lu=!rp._inHover&&ap._context.edits.legendText&&!Ap,Nu=rp._maxNameLength,Hl,qu;bp.groupTitle?(Hl=bp.groupTitle.text,qu=bp.groupTitle.font):(qu=rp.font,rp.entries?Hl=bp.text:(Hl=Ap?bp.label:Cp.name,Cp._meta&&(Hl=it.templateString(Hl,Cp._meta))));var np=it.ensureSingle(Yu,"text",sp+"text");np.attr("text-anchor","start").call(zn.font,qu).text(Lu?Bl(Hl,Nu):Hl);var vu=rp.indentation+rp.itemwidth+ls.itemGap*2;ot.positionText(np,vu,0),Lu?np.call(ot.makeEditable,{gd:ap,text:Hl}).call(mu,Yu,ap,rp).on("edit",function(Ol){this.text(Bl(Ol,Nu)).call(mu,Yu,ap,rp);var Wl=bp.trace._fullInput||{},Mu={};return Mu.name=Ol,Wl._isShape?Ln.call("_guiRelayout",ap,"shapes["+Cp.index+"].name",Mu.name):Ln.call("_guiRestyle",ap,Mu,Cp.index)}):mu(np,Yu,ap,rp)}function Bl(Yu,ap){var rp=Math.max(4,ap);if(Yu&&Yu.trim().length>=rp/2)return Yu;Yu=Yu||"";for(var sp=rp-Yu.length;sp>0;sp--)Yu+=" ";return Yu}function $u(Yu,ap,rp){var sp=ap._context.doubleClickDelay,bp,Cp=1,Ap=it.ensureSingle(Yu,"rect",rp+"toggle",function(Lu){ap._context.staticPlot||Lu.style("cursor","pointer").attr("pointer-events","all"),Lu.call(yl.fill,"rgba(0,0,0,0)")});ap._context.staticPlot||(Ap.on("mousedown",function(){bp=new Date().getTime(),bp-ap._legendMouseDownTime<sp?Cp+=1:(Cp=1,ap._legendMouseDownTime=bp)}),Ap.on("mouseup",function(){if(!(ap._dragged||ap._editing)){var Lu=ap._fullLayout[rp];new Date().getTime()-ap._legendMouseDownTime>sp&&(Cp=Math.max(Cp-1,1)),Jl(ap,Lu,Yu,Cp,jt.event)}}))}function mu(Yu,ap,rp,sp,bp){sp._inHover&&Yu.attr("data-notex",!0),ot.convertToTspans(Yu,rp,function(){Pu(ap,rp,sp,bp)})}function Pu(Yu,ap,rp,sp){var bp=Yu.data()[0][0];if(!rp._inHover&&bp&&!bp.trace.showlegend){Yu.remove();return}var Cp=Yu.select("g[class*=math-group]"),Ap=Cp.node(),Lu=Wu(rp);rp||(rp=ap._fullLayout[Lu]);var Nu=rp.borderwidth,Hl;sp===Cl?Hl=rp.title.font:bp.groupTitle?Hl=bp.groupTitle.font:Hl=rp.font;var qu=Hl.size*Pl,np,vu;if(Ap){var Ol=zn.bBox(Ap);np=Ol.height,vu=Ol.width,sp===Cl?zn.setTranslate(Cp,Nu,Nu+np*.75):zn.setTranslate(Cp,0,np*.25)}else{var Wl="."+Lu+(sp===Cl?"title":"")+"text",Mu=Yu.select(Wl),zu=ot.lineCount(Mu),ip=Mu.node();if(np=qu*zu,vu=ip?zn.bBox(ip).width:0,sp===Cl)rp.title.side==="left"&&(vu+=ls.itemGap*2),ot.positionText(Mu,Nu+ls.titlePad,Nu+qu);else{var pp=ls.itemGap*2+rp.indentation+rp.itemwidth;bp.groupTitle&&(pp=ls.itemGap,vu-=rp.indentation+rp.itemwidth),ot.positionText(Mu,pp,-qu*((zu-1)/2-.3))}}sp===Cl?(rp._titleWidth=vu,rp._titleHeight=np):(bp.lineHeight=qu,bp.height=Math.max(np,16)+3,bp.width=vu)}function bu(Yu){var ap=0,rp=0,sp=Yu.title.side;return sp&&(sp.indexOf("left")!==-1&&(ap=Yu._titleWidth),sp.indexOf("top")!==-1&&(rp=Yu._titleHeight)),[ap,rp]}function Fu(Yu,ap,rp,sp){var bp=Yu._fullLayout,Cp=Wu(sp);sp||(sp=bp[Cp]);var Ap=bp._size,Lu=Bn.isVertical(sp),Nu=Bn.isGrouped(sp),Hl=sp.entrywidthmode==="fraction",qu=sp.borderwidth,np=2*qu,vu=ls.itemGap,Ol=sp.indentation+sp.itemwidth+vu*2,Wl=2*(qu+vu),Mu=Xl(sp),zu=sp.y<0||sp.y===0&&Mu==="top",ip=sp.y>1||sp.y===1&&Mu==="bottom",pp=sp.tracegroupgap,vp={};let{orientation:Pp,yref:Gp}=sp,{maxheight:r0}=sp,C0=zu||ip||Pp!=="v"||Gp!=="paper";r0||(r0=C0?.5:1);let f0=C0?bp.height:Ap.h;sp._maxHeight=Math.max(r0>1?r0:r0*f0,30);var d0=0;sp._width=0,sp._height=0;var Sp=bu(sp);if(Lu)rp.each(function(hp){var yp=hp[0].height;zn.setTranslate(this,qu+Sp[0],qu+Sp[1]+sp._height+yp/2+vu),sp._height+=yp,sp._width=Math.max(sp._width,hp[0].width)}),d0=Ol+sp._width,sp._width+=vu+Ol+np,sp._height+=Wl,Nu&&(ap.each(function(hp,yp){zn.setTranslate(this,0,yp*sp.tracegroupgap)}),sp._height+=(sp._lgroupsLength-1)*sp.tracegroupgap);else{var Fp=Gu(sp),cp=sp.x<0||sp.x===0&&Fp==="right",jp=sp.x>1||sp.x===1&&Fp==="left",a0=ip||zu,y0=bp.width/2;sp._maxWidth=Math.max(cp?a0&&Fp==="left"?Ap.l+Ap.w:y0:jp?a0&&Fp==="right"?Ap.r+Ap.w:y0:Ap.w,2*Ol);var P0=0,E0=0;rp.each(function(hp){var yp=Bu(hp,sp,Ol);P0=Math.max(P0,yp),E0+=yp}),d0=null;var O0=0;if(Nu){var j0=0,$0=0,tm=0;ap.each(function(){var hp=0,yp=0;jt.select(this).selectAll("g.traces").each(function(Bp){var Jp=Bu(Bp,sp,Ol),n0=Bp[0].height;zn.setTranslate(this,Sp[0],Sp[1]+qu+vu+n0/2+yp),yp+=n0,hp=Math.max(hp,Jp),vp[Bp[0].trace.legendgroup]=hp});var Dp=hp+vu;$0>0&&Dp+qu+$0>sp._maxWidth?(O0=Math.max(O0,$0),$0=0,tm+=j0+pp,j0=yp):j0=Math.max(j0,yp),zn.setTranslate(this,$0,tm),$0+=Dp}),sp._width=Math.max(O0,$0)+qu,sp._height=tm+j0+Wl}else{var A0=rp.size(),sm=E0+np+(A0-1)*vu<sp._maxWidth,pm=0,nm=0,vm=0,kp=0;rp.each(function(hp){var yp=hp[0].height,Dp=Bu(hp,sp,Ol),Bp=sm?Dp:P0;Hl||(Bp+=vu),Bp+qu+nm-vu>=sp._maxWidth&&(O0=Math.max(O0,kp),nm=0,vm+=pm,sp._height+=pm,pm=0),zn.setTranslate(this,Sp[0]+qu+nm,Sp[1]+qu+vm+yp/2+vu),kp=nm+Dp+vu,nm+=Bp,pm=Math.max(pm,yp)}),sm?(sp._width=nm+np,sp._height=pm+Wl):(sp._width=Math.max(O0,kp)+np,sp._height+=pm+Wl)}}sp._width=Math.ceil(Math.max(sp._width+Sp[0],sp._titleWidth+2*(qu+ls.titlePad))),sp._height=Math.ceil(Math.max(sp._height+Sp[1],sp._titleHeight+2*(qu+ls.itemGap))),sp._effHeight=Math.min(sp._height,sp._maxHeight);var qp=Yu._context.edits,Xu=qp.legendText||qp.legendPosition;rp.each(function(hp){var yp=jt.select(this).select("."+Cp+"toggle"),Dp=hp[0].height,Bp=hp[0].trace.legendgroup,Jp=Bu(hp,sp,Ol);Nu&&Bp!==""&&(Jp=vp[Bp]);var n0=Xu?Ol:d0||Jp;!Lu&&!Hl&&(n0+=vu/2),zn.setRect(yp,0,-Dp/2,n0,Dp)})}function Hu(Yu,ap,rp,sp){var bp=Yu._fullLayout,Cp=bp[ap],Ap=Gu(Cp),Lu=Xl(Cp),Nu=Cp.xref==="paper",Hl=Cp.yref==="paper";Yu._fullLayout._reservedMargin[ap]={};var qu=Cp.y<.5?"b":"t",np=Cp.x<.5?"l":"r",vu={r:bp.width-rp,l:rp+Cp._width,b:bp.height-sp,t:sp+Cp._effHeight};if(Nu&&Hl)return st.autoMargin(Yu,ap,{x:Cp.x,y:Cp.y,l:Cp._width*Tl[Ap],r:Cp._width*El[Ap],b:Cp._effHeight*El[Lu],t:Cp._effHeight*Tl[Lu]});Nu?Yu._fullLayout._reservedMargin[ap][qu]=vu[qu]:Hl||Cp.orientation==="v"?Yu._fullLayout._reservedMargin[ap][np]=vu[np]:Yu._fullLayout._reservedMargin[ap][qu]=vu[qu]}function Gu(Yu){return it.isRightAnchor(Yu)?"right":it.isCenterAnchor(Yu)?"center":"left"}function Xl(Yu){return it.isBottomAnchor(Yu)?"bottom":it.isMiddleAnchor(Yu)?"middle":"top"}function Wu(Yu){return Yu._id||"legend"}}),Sv=a(yu=>{var hu=g(),jt=rt(),it=Ju(),st=gu(),Ln=st.pushUnique,Ft=st.strTranslate,Fn=st.strRotate,zn=u1(),yl=hy(),ot=Zm(),_l=q0(),ls=D0(),Sl=Pm(),Pl=bm(),Tl=E1().zindexSeparator,El=N1(),Ml=w0(),Rl=Zu(),Bn=Ym(),Cl=U1(),Al=Rl.YANGLE,Il=Math.PI*Al/180,$l=1/Math.sin(Il),Bu=Math.cos(Il),Jl=Math.sin(Il),Kl=Rl.HOVERARROWSIZE,Bl=Rl.HOVERTEXTPAD,$u={box:!0,ohlc:!0,violin:!0,candlestick:!0},mu={scatter:!0,scattergl:!0,splom:!0};function Pu(Ol,Wl){return Ol.distance-Wl.distance}yu.hover=function(Ol,Wl,Mu,zu){Ol=st.getGraphDiv(Ol);var ip=Wl.target;st.throttle(Ol._fullLayout._uid+Rl.HOVERID,Rl.HOVERMINTIME,function(){bu(Ol,Wl,Mu,zu,ip)})},yu.loneHover=function(Ol,Wl){var Mu=!0;Array.isArray(Ol)||(Mu=!1,Ol=[Ol]);var zu=Wl.gd,ip=qu(zu),pp=np(zu),vp=Ol.map(function(cp){var jp=cp._x0||cp.x0||cp.x||0,a0=cp._x1||cp.x1||cp.x||0,y0=cp._y0||cp.y0||cp.y||0,P0=cp._y1||cp.y1||cp.y||0,E0=cp.eventData;if(E0){var O0=Math.min(jp,a0),j0=Math.max(jp,a0),$0=Math.min(y0,P0),tm=Math.max(y0,P0),A0=cp.trace;if(El.traceIs(A0,"gl3d")){var sm=zu._fullLayout[A0.scene]._scene.container,pm=sm.offsetLeft,nm=sm.offsetTop;O0+=pm,j0+=pm,$0+=nm,tm+=nm}E0.bbox={x0:O0+pp,x1:j0+pp,y0:$0+ip,y1:tm+ip},Wl.inOut_bbox&&Wl.inOut_bbox.push(E0.bbox)}else E0=!1;return{color:cp.color||ls.defaultLine,x0:cp.x0||cp.x||0,x1:cp.x1||cp.x||0,y0:cp.y0||cp.y||0,y1:cp.y1||cp.y||0,xLabel:cp.xLabel,yLabel:cp.yLabel,zLabel:cp.zLabel,text:cp.text,name:cp.name,idealAlign:cp.idealAlign,borderColor:cp.borderColor,fontFamily:cp.fontFamily,fontSize:cp.fontSize,fontColor:cp.fontColor,fontWeight:cp.fontWeight,fontStyle:cp.fontStyle,fontVariant:cp.fontVariant,nameLength:cp.nameLength,textAlign:cp.textAlign,trace:cp.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:cp.hovertemplate||!1,hovertemplateLabels:cp.hovertemplateLabels||!1,eventData:E0}}),Pp=!1,Gp=Gu(vp,{gd:zu,hovermode:"closest",rotateLabels:Pp,bgColor:Wl.bgColor||ls.background,container:hu.select(Wl.container),outerContainer:Wl.outerContainer||Wl.container}),r0=Gp.hoverLabels,C0=5,f0=0,d0=0;r0.sort(function(cp,jp){return cp.y0-jp.y0}).each(function(cp,jp){var a0=cp.y0-cp.by/2;a0-C0<f0?cp.offset=f0-a0+C0:cp.offset=0,f0=a0+cp.by+cp.offset,jp===Wl.anchorIndex&&(d0=cp.offset)}).each(function(cp){cp.offset-=d0});var Sp=zu._fullLayout._invScaleX,Fp=zu._fullLayout._invScaleY;return rp(r0,Pp,Sp,Fp),Mu?r0:r0.node()};function bu(Ol,Wl,Mu,zu,ip){Mu||(Mu="xy"),typeof Mu=="string"&&(Mu=Mu.split(Tl)[0]);var pp=Array.isArray(Mu)?Mu:[Mu],vp,Pp=Ol._fullLayout,Gp=Pp.hoversubplots,r0=Pp._plots||[],C0=r0[Mu],f0=Pp._has("cartesian"),d0=Wl.hovermode||Pp.hovermode,Sp=(d0||"").charAt(0)==="x",Fp=(d0||"").charAt(0)==="y",cp,jp;if(f0&&(Sp||Fp)&&Gp==="axis"){for(var a0=pp.length,y0=0;y0<a0;y0++)if(vp=pp[y0],r0[vp]){cp=Pl.getFromId(Ol,vp,"x"),jp=Pl.getFromId(Ol,vp,"y");var P0=(Sp?cp:jp)._subplotsWith;if(P0&&P0.length)for(var E0=0;E0<P0.length;E0++)Ln(pp,P0[E0])}}if(C0&&Gp!=="single"){var O0=C0.overlays.map(function(q1){return q1.id});pp=pp.concat(O0)}for(var j0=pp.length,$0=new Array(j0),tm=new Array(j0),A0=!1,sm=0;sm<j0;sm++)if(vp=pp[sm],r0[vp])A0=!0,$0[sm]=r0[vp].xaxis,tm[sm]=r0[vp].yaxis;else if(Pp[vp]&&Pp[vp]._subplot){var pm=Pp[vp]._subplot;$0[sm]=pm.xaxis,tm[sm]=pm.yaxis}else{st.warn("Unrecognized subplot: "+vp);return}if(d0&&!A0&&(d0="closest"),["x","y","closest","x unified","y unified"].indexOf(d0)===-1||!Ol.calcdata||Ol.querySelector(".zoombox")||Ol._dragging)return Sl.unhoverRaw(Ol,Wl);var nm=Pp.hoverdistance;nm===-1&&(nm=1/0);var vm=Pp.spikedistance;vm===-1&&(vm=1/0);var kp=[],qp=[],Xu,hp,yp,Dp,Bp,Jp,n0,b0,v0,x0,U0,W0,Y0,gm={hLinePoint:null,vLinePoint:null},Dm=!1;if(Array.isArray(Wl))for(d0="array",yp=0;yp<Wl.length;yp++)Bp=Ol.calcdata[Wl[yp].curveNumber||0],Bp&&(Jp=Bp[0].trace,Bp[0].trace.hoverinfo!=="skip"&&(qp.push(Bp),Jp.orientation==="h"&&(Dm=!0)));else{var Jm=Ol.calcdata.slice();for(Jm.sort(function(q1,fy){var ey=q1[0].trace.zorder||0,nv=fy[0].trace.zorder||0;return ey-nv}),Dp=0;Dp<Jm.length;Dp++)Bp=Jm[Dp],Jp=Bp[0].trace,Jp.hoverinfo!=="skip"&&Ml.isTraceInSubplots(Jp,pp)&&(qp.push(Bp),Jp.orientation==="h"&&(Dm=!0));var a1=!ip,h1,zm;if(a1)"xpx"in Wl?h1=Wl.xpx:h1=$0[0]._length/2,"ypx"in Wl?zm=Wl.ypx:zm=tm[0]._length/2;else{if(zn.triggerHandler(Ol,"plotly_beforehover",Wl)===!1)return;var xm=ip.getBoundingClientRect();h1=Wl.clientX-xm.left,zm=Wl.clientY-xm.top,Pp._calcInverseTransform(Ol);var Qm=st.apply3DTransform(Pp._invTransform)(h1,zm);if(h1=Qm[0],zm=Qm[1],h1<0||h1>$0[0]._length||zm<0||zm>tm[0]._length)return Sl.unhoverRaw(Ol,Wl)}if(Wl.pointerX=h1+$0[0]._offset,Wl.pointerY=zm+tm[0]._offset,"xval"in Wl?Xu=Ml.flat(pp,Wl.xval):Xu=Ml.p2c($0,h1),"yval"in Wl?hp=Ml.flat(pp,Wl.yval):hp=Ml.p2c(tm,zm),!jt(Xu[0])||!jt(hp[0]))return st.warn("Fx.hover failed",Wl,Ol),Sl.unhoverRaw(Ol,Wl)}var l1=1/0;function Xm(q1,fy){for(Dp=0;Dp<qp.length;Dp++)if(Bp=qp[Dp],!(!Bp||!Bp[0]||!Bp[0].trace)&&(Jp=Bp[0].trace,!(Jp.visible!==!0||Jp._length===0)&&["carpet","contourcarpet"].indexOf(Jp._module.name)===-1)){if(v0=d0,Ml.isUnifiedHover(v0)&&(v0=v0.charAt(0)),Jp.type==="splom"?(b0=0,n0=pp[b0]):(n0=Ml.getSubplot(Jp),b0=pp.indexOf(n0)),W0={cd:Bp,trace:Jp,xa:$0[b0],ya:tm[b0],maxHoverDistance:nm,maxSpikeDistance:vm,index:!1,distance:Math.min(l1,nm),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:ls.defaultLine,name:Jp.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Pp[n0]&&(W0.subplot=Pp[n0]._subplot),Pp._splomScenes&&Pp._splomScenes[Jp.uid]&&(W0.scene=Pp._splomScenes[Jp.uid]),v0==="array"){var ey=Wl[Dp];"pointNumber"in ey?(W0.index=ey.pointNumber,v0="closest"):(v0="","xval"in ey&&(x0=ey.xval,v0="x"),"yval"in ey&&(U0=ey.yval,v0=v0?"closest":"y"))}else q1!==void 0&&fy!==void 0?(x0=q1,U0=fy):(x0=Xu[b0],U0=hp[b0]);if(Y0=kp.length,nm!==0)if(Jp._module&&Jp._module.hoverPoints){var nv=Jp._module.hoverPoints(W0,x0,U0,v0,{finiteRange:!0,hoverLayer:Pp._hoverlayer,hoversubplots:Gp,gd:Ol});if(nv)for(var ry,uy=0;uy<nv.length;uy++)ry=nv[uy],jt(ry.x0)&&jt(ry.y0)&&kp.push(sp(ry,d0))}else st.log("Unrecognized trace type in hover:",Jp);if(d0==="closest"&&kp.length>Y0&&(kp.splice(0,Y0),l1=kp[0].distance),f0&&vm!==0&&kp.length===0){W0.distance=vm,W0.index=!1;var ny=Jp._module.hoverPoints(W0,x0,U0,"closest",{hoverLayer:Pp._hoverlayer});if(ny&&(ny=ny.filter(function(Gv){return Gv.spikeDistance<=vm})),ny&&ny.length){var Py,o2=ny.filter(function(Gv){return Gv.xa.showspikes&&Gv.xa.spikesnap!=="hovered data"});if(o2.length){var bv=o2[0];jt(bv.x0)&&jt(bv.y0)&&(Py=Wm(bv),(!gm.vLinePoint||gm.vLinePoint.spikeDistance>Py.spikeDistance)&&(gm.vLinePoint=Py))}var Hv=ny.filter(function(Gv){return Gv.ya.showspikes&&Gv.ya.spikesnap!=="hovered data"});if(Hv.length){var zv=Hv[0];jt(zv.x0)&&jt(zv.y0)&&(Py=Wm(zv),(!gm.hLinePoint||gm.hLinePoint.spikeDistance>Py.spikeDistance)&&(gm.hLinePoint=Py))}}}}}Xm();function jm(q1,fy,ey){for(var nv=null,ry=1/0,uy,ny=0;ny<q1.length;ny++)cp&&cp._id!==q1[ny].xa._id||jp&&jp._id!==q1[ny].ya._id||(uy=q1[ny].spikeDistance,ey&&ny===0&&(uy=-1/0),uy<=ry&&uy<=fy&&(nv=q1[ny],ry=uy));return nv}function Wm(q1){return q1?{xa:q1.xa,ya:q1.ya,x:q1.xSpike!==void 0?q1.xSpike:(q1.x0+q1.x1)/2,y:q1.ySpike!==void 0?q1.ySpike:(q1.y0+q1.y1)/2,distance:q1.distance,spikeDistance:q1.spikeDistance,curveNumber:q1.trace.index,color:q1.color,pointNumber:q1.index}:null}var Om={fullLayout:Pp,container:Pp._hoverlayer,event:Wl};Ol._spikepoints;var A1={vLinePoint:gm.vLinePoint,hLinePoint:gm.hLinePoint};Ol._spikepoints=A1;var B1=function(){var q1=kp.filter(function(ey){return cp&&cp._id===ey.xa._id&&jp&&jp._id===ey.ya._id}),fy=kp.filter(function(ey){return!(cp&&cp._id===ey.xa._id&&jp&&jp._id===ey.ya._id)});q1.sort(Pu),fy.sort(Pu),kp=q1.concat(fy),kp=Nu(kp,d0)};B1();var o1=d0.charAt(0),$1=(o1==="x"||o1==="y")&&kp[0]&&mu[kp[0].trace.type];if(f0&&vm!==0&&kp.length!==0){var X1=kp.filter(function(q1){return q1.ya.showspikes}),cv=jm(X1,vm,$1);gm.hLinePoint=Wm(cv);var dv=kp.filter(function(q1){return q1.xa.showspikes}),L1=jm(dv,vm,$1);gm.vLinePoint=Wm(L1)}if(kp.length===0){var iv=Sl.unhoverRaw(Ol,Wl);return f0&&(gm.hLinePoint!==null||gm.vLinePoint!==null)&&Ap()&&bp(Ol,gm,Om),iv}if(f0&&Ap()&&bp(Ol,gm,Om),Ml.isXYhover(v0)&&kp[0].length!==0&&kp[0].trace.type!=="splom"){var W1=kp[0];$u[W1.trace.type]?kp=kp.filter(function(q1){return q1.trace.index===W1.trace.index}):kp=[W1];var Hm=kp.length,Tv=Hl("x",W1,Pp),ep=Hl("y",W1,Pp);Xm(Tv,ep);var Qu=[],Up={},_f=0,u0=function(q1){var fy=$u[q1.trace.type]?Fu(q1):q1.trace.index;if(!Up[fy])_f++,Up[fy]=_f,Qu.push(q1);else{var ey=Up[fy]-1,nv=Qu[ey];ey>0&&Math.abs(q1.distance)<Math.abs(nv.distance)&&(Qu[ey]=q1)}},Vp;for(Vp=0;Vp<Hm;Vp++)u0(kp[Vp]);for(Vp=kp.length-1;Vp>Hm-1;Vp--)u0(kp[Vp]);kp=Qu,B1()}var Yp=Ol._hoverdata,p0=[],o0=qu(Ol),M0=np(Ol);for(yp=0;yp<kp.length;yp++){var L0=kp[yp],rm=Ml.makeEventData(L0,L0.trace,L0.cd);if(L0.hovertemplate!==!1){var Tm=!1;L0.cd[L0.index]&&L0.cd[L0.index].ht&&(Tm=L0.cd[L0.index].ht),L0.hovertemplate=Tm||L0.trace.hovertemplate||!1}if(L0.xa&&L0.ya){var Mm=L0.x0+L0.xa._offset,Vm=L0.x1+L0.xa._offset,_m=L0.y0+L0.ya._offset,Um=L0.y1+L0.ya._offset,i1=Math.min(Mm,Vm),ov=Math.max(Mm,Vm),R1=Math.min(_m,Um),Ov=Math.max(_m,Um);rm.bbox={x0:i1+M0,x1:ov+M0,y0:R1+o0,y1:Ov+o0}}L0.eventData=[rm],p0.push(rm)}Ol._hoverdata=p0;var V1=d0==="y"&&(qp.length>1||kp.length>1)||d0==="closest"&&Dm&&kp.length>1,Bv=ls.combine(Pp.plot_bgcolor||ls.background,Pp.paper_bgcolor),Lv=Gu(kp,{gd:Ol,hovermode:d0,rotateLabels:V1,bgColor:Bv,container:Pp._hoverlayer,outerContainer:Pp._paper.node(),commonLabelOpts:Pp.hoverlabel,hoverdistance:Pp.hoverdistance}),ly=Lv.hoverLabels;if(Ml.isUnifiedHover(d0)||(Wu(ly,V1,Pp,Lv.commonLabelBoundingBox),rp(ly,V1,Pp._invScaleX,Pp._invScaleY)),ip&&ip.tagName){var Jv=El.getComponentMethod("annotations","hasClickToShow")(Ol,p0);ot(hu.select(ip),Jv?"pointer":"")}!ip||zu||!Cp(Ol,Wl,Yp)||(Yp&&Ol.emit("plotly_unhover",{event:Wl,points:Yp}),Ol.emit("plotly_hover",{event:Wl,points:Ol._hoverdata,xaxes:$0,yaxes:tm,xvals:Xu,yvals:hp}))}function Fu(Ol){return[Ol.trace.index,Ol.index,Ol.x0,Ol.y0,Ol.name,Ol.attr,Ol.xa?Ol.xa._id:"",Ol.ya?Ol.ya._id:""].join(",")}var Hu=/<extra>([\s\S]*)<\/extra>/;function Gu(Ol,Wl){var Mu=Wl.gd,zu=Mu._fullLayout,ip=Wl.hovermode,pp=Wl.rotateLabels,vp=Wl.bgColor,Pp=Wl.container,Gp=Wl.outerContainer,r0=Wl.commonLabelOpts||{};if(Ol.length===0)return[[]];var C0=Wl.fontFamily||Rl.HOVERFONT,f0=Wl.fontSize||Rl.HOVERFONTSIZE,d0=Wl.fontWeight||zu.font.weight,Sp=Wl.fontStyle||zu.font.style,Fp=Wl.fontVariant||zu.font.variant,cp=Wl.fontTextcase||zu.font.textcase,jp=Wl.fontLineposition||zu.font.lineposition,a0=Wl.fontShadow||zu.font.shadow,y0=Ol[0],P0=y0.xa,E0=y0.ya,O0=ip.charAt(0),j0=O0+"Label",$0=y0[j0];if($0===void 0&&P0.type==="multicategory")for(var tm=0;tm<Ol.length&&($0=Ol[tm][j0],$0===void 0);tm++);var A0=vu(Mu,Gp),sm=A0.top,pm=A0.width,nm=A0.height,vm=$0!==void 0&&y0.distance<=Wl.hoverdistance&&(ip==="x"||ip==="y");if(vm){var kp=!0,qp,Xu;for(qp=0;qp<Ol.length;qp++)if(kp&&Ol[qp].zLabel===void 0&&(kp=!1),Xu=Ol[qp].hoverinfo||Ol[qp].trace.hoverinfo,Xu){var hp=Array.isArray(Xu)?Xu:Xu.split("+");if(hp.indexOf("all")===-1&&hp.indexOf(ip)===-1){vm=!1;break}}kp&&(vm=!1)}var yp=Pp.selectAll("g.axistext").data(vm?[0]:[]);yp.enter().append("g").classed("axistext",!0),yp.exit().remove();var Dp={minX:0,maxX:0,minY:0,maxY:0};if(yp.each(function(){var Hm=hu.select(this),Tv=st.ensureSingle(Hm,"path","",function(V1){V1.style({"stroke-width":"1px"})}),ep=st.ensureSingle(Hm,"text","",function(V1){V1.attr("data-notex",1)}),Qu=r0.bgcolor||ls.defaultLine,Up=r0.bordercolor||ls.contrast(Qu),_f=ls.contrast(Qu),u0=r0.font,Vp={weight:u0.weight||d0,style:u0.style||Sp,variant:u0.variant||Fp,textcase:u0.textcase||cp,lineposition:u0.lineposition||jp,shadow:u0.shadow||a0,family:u0.family||C0,size:u0.size||f0,color:u0.color||_f};Tv.style({fill:Qu,stroke:Up}),ep.text($0).call(_l.font,Vp).call(yl.positionText,0,0).call(yl.convertToTspans,Mu),Hm.attr("transform","");var Yp=vu(Mu,ep.node()),p0,o0;if(ip==="x"){var M0=P0.side==="top"?"-":"";ep.attr("text-anchor","middle").call(yl.positionText,0,P0.side==="top"?sm-Yp.bottom-Kl-Bl:sm-Yp.top+Kl+Bl),p0=P0._offset+(y0.x0+y0.x1)/2,o0=E0._offset+(P0.side==="top"?0:E0._length);var L0=Yp.width/2+Bl,rm=p0;p0<L0?rm=L0:p0>zu.width-L0&&(rm=zu.width-L0),Tv.attr("d","M"+(p0-rm)+",0L"+(p0-rm+Kl)+","+M0+Kl+"H"+L0+"v"+M0+(Bl*2+Yp.height)+"H"+-L0+"V"+M0+Kl+"H"+(p0-rm-Kl)+"Z"),p0=rm,Dp.minX=p0-L0,Dp.maxX=p0+L0,P0.side==="top"?(Dp.minY=o0-(Bl*2+Yp.height),Dp.maxY=o0-Bl):(Dp.minY=o0+Bl,Dp.maxY=o0+(Bl*2+Yp.height))}else{var Tm,Mm,Vm;E0.side==="right"?(Tm="start",Mm=1,Vm="",p0=P0._offset+P0._length):(Tm="end",Mm=-1,Vm="-",p0=P0._offset),o0=E0._offset+(y0.y0+y0.y1)/2,ep.attr("text-anchor",Tm),Tv.attr("d","M0,0L"+Vm+Kl+","+Kl+"V"+(Bl+Yp.height/2)+"h"+Vm+(Bl*2+Yp.width)+"V-"+(Bl+Yp.height/2)+"H"+Vm+Kl+"V-"+Kl+"Z"),Dp.minY=o0-(Bl+Yp.height/2),Dp.maxY=o0+(Bl+Yp.height/2),E0.side==="right"?(Dp.minX=p0+Kl,Dp.maxX=p0+Kl+(Bl*2+Yp.width)):(Dp.minX=p0-Kl-(Bl*2+Yp.width),Dp.maxX=p0-Kl);var _m=Yp.height/2,Um=sm-Yp.top-_m,i1="clip"+zu._uid+"commonlabel"+E0._id,ov;if(p0<Yp.width+2*Bl+Kl){ov="M-"+(Kl+Bl)+"-"+_m+"h-"+(Yp.width-Bl)+"V"+_m+"h"+(Yp.width-Bl)+"Z";var R1=Yp.width-p0+Bl;yl.positionText(ep,R1,Um),Tm==="end"&&ep.selectAll("tspan").each(function(){var V1=hu.select(this),Bv=_l.tester.append("text").text(V1.text()).call(_l.font,Vp),Lv=vu(Mu,Bv.node());Math.round(Lv.width)<Math.round(Yp.width)&&V1.attr("x",R1-Lv.width),Bv.remove()})}else yl.positionText(ep,Mm*(Bl+Kl),Um),ov=null;var Ov=zu._topclips.selectAll("#"+i1).data(ov?[0]:[]);Ov.enter().append("clipPath").attr("id",i1).append("path"),Ov.exit().remove(),Ov.select("path").attr("d",ov),_l.setClipUrl(ep,ov?i1:null,Mu)}Hm.attr("transform",Ft(p0,o0))}),Ml.isUnifiedHover(ip)){Pp.selectAll("g.hovertext").remove();var Bp=Ol.filter(function(Hm){return Hm.hoverinfo!=="none"});if(Bp.length===0)return[];var Jp=zu.hoverlabel,n0=Jp.font,b0=Bp[0],v0=((ip==="x unified"?b0.xa:b0.ya).unifiedhovertitle||{}).text,x0=v0?st.hovertemplateString(v0,{},zu._d3locale,ip==="x unified"?{xa:b0.xa,x:b0.xVal}:{ya:b0.ya,y:b0.yVal}):$0,U0={showlegend:!0,legend:{title:{text:x0,font:n0},font:n0,bgcolor:Jp.bgcolor,bordercolor:Jp.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:zu.legend?zu.legend.traceorder:void 0,orientation:"v"}},W0={font:n0};Bn(U0,W0,Mu._fullData);var Y0=W0.legend;Y0.entries=[];for(var gm=0;gm<Bp.length;gm++){var Dm=Bp[gm];if(Dm.hoverinfo!=="none"){var Jm=Xl(Dm,!0,ip,zu,$0),a1=Jm[0],h1=Jm[1];Dm.name=h1,h1!==""?Dm.text=h1+" : "+a1:Dm.text=a1;var zm=Dm.cd[Dm.index];zm&&(zm.mc&&(Dm.mc=zm.mc),zm.mcc&&(Dm.mc=zm.mcc),zm.mlc&&(Dm.mlc=zm.mlc),zm.mlcc&&(Dm.mlc=zm.mlcc),zm.mlw&&(Dm.mlw=zm.mlw),zm.mrc&&(Dm.mrc=zm.mrc),zm.dir&&(Dm.dir=zm.dir)),Dm._distinct=!0,Y0.entries.push([Dm])}}Y0.entries.sort(function(Hm,Tv){return Hm[0].trace.index-Tv[0].trace.index}),Y0.layer=Pp,Y0._inHover=!0,Y0._groupTitleFont=Jp.grouptitlefont,Cl(Mu,Y0);var xm=Pp.select("g.legend"),Qm=vu(Mu,xm.node()),l1=Qm.width+2*Bl,Xm=Qm.height+2*Bl,jm=Bp[0],Wm=(jm.x0+jm.x1)/2,Om=(jm.y0+jm.y1)/2,A1=!(El.traceIs(jm.trace,"bar-like")||El.traceIs(jm.trace,"box-violin")),B1,o1;O0==="y"?A1?(o1=Om-Bl,B1=Om+Bl):(o1=Math.min.apply(null,Bp.map(function(Hm){return Math.min(Hm.y0,Hm.y1)})),B1=Math.max.apply(null,Bp.map(function(Hm){return Math.max(Hm.y0,Hm.y1)}))):o1=B1=st.mean(Bp.map(function(Hm){return(Hm.y0+Hm.y1)/2}))-Xm/2;var $1,X1;O0==="x"?A1?($1=Wm+Bl,X1=Wm-Bl):($1=Math.max.apply(null,Bp.map(function(Hm){return Math.max(Hm.x0,Hm.x1)})),X1=Math.min.apply(null,Bp.map(function(Hm){return Math.min(Hm.x0,Hm.x1)}))):$1=X1=st.mean(Bp.map(function(Hm){return(Hm.x0+Hm.x1)/2}))-l1/2;var cv=P0._offset,dv=E0._offset;B1+=dv,$1+=cv,X1+=cv-l1,o1+=dv-Xm;var L1,iv;return $1+l1<pm&&$1>=0?L1=$1:X1+l1<pm&&X1>=0?L1=X1:cv+l1<pm?L1=cv:$1-Wm<Wm-X1+l1?L1=pm-l1:L1=0,L1+=Bl,B1+Xm<nm&&B1>=0?iv=B1:o1+Xm<nm&&o1>=0?iv=o1:dv+Xm<nm?iv=dv:B1-Om<Om-o1+Xm?iv=nm-Xm:iv=0,iv+=Bl,xm.attr("transform",Ft(L1-1,iv-1)),xm}var W1=Pp.selectAll("g.hovertext").data(Ol,function(Hm){return Fu(Hm)});return W1.enter().append("g").classed("hovertext",!0).each(function(){var Hm=hu.select(this);Hm.append("rect").call(ls.fill,ls.addOpacity(vp,.8)),Hm.append("text").classed("name",!0),Hm.append("path").style("stroke-width","1px"),Hm.append("text").classed("nums",!0).call(_l.font,{weight:d0,style:Sp,variant:Fp,textcase:cp,lineposition:jp,shadow:a0,family:C0,size:f0})}),W1.exit().remove(),W1.each(function(Hm){var Tv=hu.select(this).attr("transform",""),ep=Hm.color;Array.isArray(ep)&&(ep=ep[Hm.eventData[0].pointNumber]);var Qu=Hm.bgcolor||ep,Up=ls.combine(ls.opacity(Qu)?Qu:ls.defaultLine,vp),_f=ls.combine(ls.opacity(ep)?ep:ls.defaultLine,vp),u0=Hm.borderColor||ls.contrast(Up),Vp=Xl(Hm,vm,ip,zu,$0,Tv),Yp=Vp[0],p0=Vp[1],o0=Tv.select("text.nums").call(_l.font,{family:Hm.fontFamily||C0,size:Hm.fontSize||f0,color:Hm.fontColor||u0,weight:Hm.fontWeight||d0,style:Hm.fontStyle||Sp,variant:Hm.fontVariant||Fp,textcase:Hm.fontTextcase||cp,lineposition:Hm.fontLineposition||jp,shadow:Hm.fontShadow||a0}).text(Yp).attr("data-notex",1).call(yl.positionText,0,0).call(yl.convertToTspans,Mu),M0=Tv.select("text.name"),L0=0,rm=0;if(p0&&p0!==Yp){M0.call(_l.font,{family:Hm.fontFamily||C0,size:Hm.fontSize||f0,color:_f,weight:Hm.fontWeight||d0,style:Hm.fontStyle||Sp,variant:Hm.fontVariant||Fp,textcase:Hm.fontTextcase||cp,lineposition:Hm.fontLineposition||jp,shadow:Hm.fontShadow||a0}).text(p0).attr("data-notex",1).call(yl.positionText,0,0).call(yl.convertToTspans,Mu);var Tm=vu(Mu,M0.node());L0=Tm.width+2*Bl,rm=Tm.height+2*Bl}else M0.remove(),Tv.select("rect").remove();Tv.select("path").style({fill:Up,stroke:u0});var Mm=Hm.xa._offset+(Hm.x0+Hm.x1)/2,Vm=Hm.ya._offset+(Hm.y0+Hm.y1)/2,_m=Math.abs(Hm.x1-Hm.x0),Um=Math.abs(Hm.y1-Hm.y0),i1=vu(Mu,o0.node()),ov=i1.width/zu._invScaleX,R1=i1.height/zu._invScaleY;Hm.ty0=(sm-i1.top)/zu._invScaleY,Hm.bx=ov+2*Bl,Hm.by=Math.max(R1+2*Bl,rm),Hm.anchor="start",Hm.txwidth=ov,Hm.tx2width=L0,Hm.offset=0;var Ov=(ov+Kl+Bl+L0)*zu._invScaleX,V1,Bv;if(pp)Hm.pos=Mm,V1=Vm+Um/2+Ov<=nm,Bv=Vm-Um/2-Ov>=0,(Hm.idealAlign==="top"||!V1)&&Bv?(Vm-=Um/2,Hm.anchor="end"):V1?(Vm+=Um/2,Hm.anchor="start"):Hm.anchor="middle",Hm.crossPos=Vm;else{if(Hm.pos=Vm,V1=Mm+_m/2+Ov<=pm,Bv=Mm-_m/2-Ov>=0,(Hm.idealAlign==="left"||!V1)&&Bv)Mm-=_m/2,Hm.anchor="end";else if(V1)Mm+=_m/2,Hm.anchor="start";else{Hm.anchor="middle";var Lv=Ov/2,ly=Mm+Lv-pm,Jv=Mm-Lv;ly>0&&(Mm-=ly),Jv<0&&(Mm+=-Jv)}Hm.crossPos=Mm}o0.attr("text-anchor",Hm.anchor),L0&&M0.attr("text-anchor",Hm.anchor),Tv.attr("transform",Ft(Mm,Vm)+(pp?Fn(Al):""))}),{hoverLabels:W1,commonLabelBoundingBox:Dp}}function Xl(Ol,Wl,Mu,zu,ip,pp){var vp="",Pp="";Ol.nameOverride!==void 0&&(Ol.name=Ol.nameOverride),Ol.name&&(Ol.trace._meta&&(Ol.name=st.templateString(Ol.name,Ol.trace._meta)),vp=Lu(Ol.name,Ol.nameLength));var Gp=Mu.charAt(0),r0=Gp==="x"?"y":"x";Ol.zLabel!==void 0?(Ol.xLabel!==void 0&&(Pp+="x: "+Ol.xLabel+"<br>"),Ol.yLabel!==void 0&&(Pp+="y: "+Ol.yLabel+"<br>"),Ol.trace.type!=="choropleth"&&Ol.trace.type!=="choroplethmapbox"&&Ol.trace.type!=="choroplethmap"&&(Pp+=(Pp?"z: ":"")+Ol.zLabel)):Wl&&Ol[Gp+"Label"]===ip?Pp=Ol[r0+"Label"]||"":Ol.xLabel===void 0?Ol.yLabel!==void 0&&Ol.trace.type!=="scattercarpet"&&(Pp=Ol.yLabel):Ol.yLabel===void 0?Pp=Ol.xLabel:Pp="("+Ol.xLabel+", "+Ol.yLabel+")",(Ol.text||Ol.text===0)&&!Array.isArray(Ol.text)&&(Pp+=(Pp?"<br>":"")+Ol.text),Ol.extraText!==void 0&&(Pp+=(Pp?"<br>":"")+Ol.extraText),pp&&Pp===""&&!Ol.hovertemplate&&(vp===""&&pp.remove(),Pp=vp);var C0=Ol.hovertemplate||!1;if(C0){var f0=Ol.hovertemplateLabels||Ol;Ol[Gp+"Label"]!==ip&&(f0[Gp+"other"]=f0[Gp+"Val"],f0[Gp+"otherLabel"]=f0[Gp+"Label"]),Pp=st.hovertemplateString(C0,f0,zu._d3locale,Ol.eventData[0]||{},Ol.trace._meta),Pp=Pp.replace(Hu,function(d0,Sp){return vp=Lu(Sp,Ol.nameLength),""})}return[Pp,vp]}function Wu(Ol,Wl,Mu,zu){var ip=Wl?"xa":"ya",pp=Wl?"ya":"xa",vp=0,Pp=1,Gp=Ol.size(),r0=new Array(Gp),C0=0,f0=zu.minX,d0=zu.maxX,Sp=zu.minY,Fp=zu.maxY,cp=function(Xu){return Xu*Mu._invScaleX},jp=function(Xu){return Xu*Mu._invScaleY};Ol.each(function(Xu){var hp=Xu[ip],yp=Xu[pp],Dp=hp._id.charAt(0)==="x",Bp=hp.range;C0===0&&Bp&&Bp[0]>Bp[1]!==Dp&&(Pp=-1);var Jp=0,n0=Dp?Mu.width:Mu.height;if(Mu.hovermode==="x"||Mu.hovermode==="y"){var b0=Yu(Xu,Wl),v0=Xu.anchor,x0=v0==="end"?-1:1,U0,W0;if(v0==="middle")U0=Xu.crossPos+(Dp?jp(b0.y-Xu.by/2):cp(Xu.bx/2+Xu.tx2width/2)),W0=U0+(Dp?jp(Xu.by):cp(Xu.bx));else if(Dp)U0=Xu.crossPos+jp(Kl+b0.y)-jp(Xu.by/2-Kl),W0=U0+jp(Xu.by);else{var Y0=cp(x0*Kl+b0.x),gm=Y0+cp(x0*Xu.bx);U0=Xu.crossPos+Math.min(Y0,gm),W0=Xu.crossPos+Math.max(Y0,gm)}Dp?Sp!==void 0&&Fp!==void 0&&Math.min(W0,Fp)-Math.max(U0,Sp)>1&&(yp.side==="left"?(Jp=yp._mainLinePosition,n0=Mu.width):n0=yp._mainLinePosition):f0!==void 0&&d0!==void 0&&Math.min(W0,d0)-Math.max(U0,f0)>1&&(yp.side==="top"?(Jp=yp._mainLinePosition,n0=Mu.height):n0=yp._mainLinePosition)}r0[C0++]=[{datum:Xu,traceIndex:Xu.trace.index,dp:0,pos:Xu.pos,posref:Xu.posref,size:Xu.by*(Dp?$l:1)/2,pmin:Jp,pmax:n0}]}),r0.sort(function(Xu,hp){return Xu[0].posref-hp[0].posref||Pp*(hp[0].traceIndex-Xu[0].traceIndex)});var a0,y0,P0,E0,O0,j0,$0;function tm(Xu){var hp=Xu[0],yp=Xu[Xu.length-1];if(y0=hp.pmin-hp.pos-hp.dp+hp.size,P0=yp.pos+yp.dp+yp.size-hp.pmax,y0>.01){for(O0=Xu.length-1;O0>=0;O0--)Xu[O0].dp+=y0;a0=!1}if(!(P0<.01)){if(y0<-.01){for(O0=Xu.length-1;O0>=0;O0--)Xu[O0].dp-=P0;a0=!1}if(a0){var Dp=0;for(E0=0;E0<Xu.length;E0++)j0=Xu[E0],j0.pos+j0.dp+j0.size>hp.pmax&&Dp++;for(E0=Xu.length-1;E0>=0&&!(Dp<=0);E0--)j0=Xu[E0],j0.pos>hp.pmax-1&&(j0.del=!0,Dp--);for(E0=0;E0<Xu.length&&!(Dp<=0);E0++)if(j0=Xu[E0],j0.pos<hp.pmin+1)for(j0.del=!0,Dp--,P0=j0.size*2,O0=Xu.length-1;O0>=0;O0--)Xu[O0].dp-=P0;for(E0=Xu.length-1;E0>=0&&!(Dp<=0);E0--)j0=Xu[E0],j0.pos+j0.dp+j0.size>hp.pmax&&(j0.del=!0,Dp--)}}}for(;!a0&&vp<=Gp;){for(vp++,a0=!0,E0=0;E0<r0.length-1;){var A0=r0[E0],sm=r0[E0+1],pm=A0[A0.length-1],nm=sm[0];if(y0=pm.pos+pm.dp+pm.size-nm.pos-nm.dp+nm.size,y0>.01){for(O0=sm.length-1;O0>=0;O0--)sm[O0].dp+=y0;for(A0.push.apply(A0,sm),r0.splice(E0+1,1),$0=0,O0=A0.length-1;O0>=0;O0--)$0+=A0[O0].dp;for(P0=$0/A0.length,O0=A0.length-1;O0>=0;O0--)A0[O0].dp-=P0;a0=!1}else E0++}r0.forEach(tm)}for(E0=r0.length-1;E0>=0;E0--){var vm=r0[E0];for(O0=vm.length-1;O0>=0;O0--){var kp=vm[O0],qp=kp.datum;qp.offset=kp.dp,qp.del=kp.del}}}function Yu(Ol,Wl){var Mu=0,zu=Ol.offset;return Wl&&(zu*=-Jl,Mu=Ol.offset*Bu),{x:Mu,y:zu}}function ap(Ol){var Wl={start:1,end:-1,middle:0}[Ol.anchor],Mu=Wl*(Kl+Bl),zu=Mu+Wl*(Ol.txwidth+Bl),ip=Ol.anchor==="middle";return ip&&(Mu-=Ol.tx2width/2,zu+=Ol.txwidth/2+Bl),{alignShift:Wl,textShiftX:Mu,text2ShiftX:zu}}function rp(Ol,Wl,Mu,zu){var ip=function(vp){return vp*Mu},pp=function(vp){return vp*zu};Ol.each(function(vp){var Pp=hu.select(this);if(vp.del)return Pp.remove();var Gp=Pp.select("text.nums"),r0=vp.anchor,C0=r0==="end"?-1:1,f0=ap(vp),d0=Yu(vp,Wl),Sp=d0.x,Fp=d0.y,cp=r0==="middle",jp="hoverlabel"in vp.trace?vp.trace.hoverlabel.showarrow:!0,a0;cp?a0="M-"+ip(vp.bx/2+vp.tx2width/2)+","+pp(Fp-vp.by/2)+"h"+ip(vp.bx)+"v"+pp(vp.by)+"h-"+ip(vp.bx)+"Z":jp?a0="M0,0L"+ip(C0*Kl+Sp)+","+pp(Kl+Fp)+"v"+pp(vp.by/2-Kl)+"h"+ip(C0*vp.bx)+"v-"+pp(vp.by)+"H"+ip(C0*Kl+Sp)+"V"+pp(Fp-Kl)+"Z":a0="M"+ip(C0*Kl+Sp)+","+pp(Fp-vp.by/2)+"h"+ip(C0*vp.bx)+"v"+pp(vp.by)+"h"+ip(-C0*vp.bx)+"Z",Pp.select("path").attr("d",a0);var y0=Sp+f0.textShiftX,P0=Fp+vp.ty0-vp.by/2+Bl,E0=vp.textAlign||"auto";E0!=="auto"&&(E0==="left"&&r0!=="start"?(Gp.attr("text-anchor","start"),y0=cp?-vp.bx/2-vp.tx2width/2+Bl:-vp.bx-Bl):E0==="right"&&r0!=="end"&&(Gp.attr("text-anchor","end"),y0=cp?vp.bx/2-vp.tx2width/2-Bl:vp.bx+Bl)),Gp.call(yl.positionText,ip(y0),pp(P0)),vp.tx2width&&(Pp.select("text.name").call(yl.positionText,ip(f0.text2ShiftX+f0.alignShift*Bl+Sp),pp(Fp+vp.ty0-vp.by/2+Bl)),Pp.select("rect").call(_l.setRect,ip(f0.text2ShiftX+(f0.alignShift-1)*vp.tx2width/2+Sp),pp(Fp-vp.by/2-1),ip(vp.tx2width),pp(vp.by+2)))})}function sp(Ol,Wl){var Mu=Ol.index,zu=Ol.trace||{},ip=Ol.cd[0],pp=Ol.cd[Mu]||{};function vp(d0){return d0||jt(d0)&&d0===0}var Pp=Array.isArray(Mu)?function(d0,Sp){var Fp=st.castOption(ip,Mu,d0);return vp(Fp)?Fp:st.extractOption({},zu,"",Sp)}:function(d0,Sp){return st.extractOption(pp,zu,d0,Sp)};function Gp(d0,Sp,Fp){var cp=Pp(Sp,Fp);vp(cp)&&(Ol[d0]=cp)}if(Gp("hoverinfo","hi","hoverinfo"),Gp("bgcolor","hbg","hoverlabel.bgcolor"),Gp("borderColor","hbc","hoverlabel.bordercolor"),Gp("fontFamily","htf","hoverlabel.font.family"),Gp("fontSize","hts","hoverlabel.font.size"),Gp("fontColor","htc","hoverlabel.font.color"),Gp("fontWeight","htw","hoverlabel.font.weight"),Gp("fontStyle","hty","hoverlabel.font.style"),Gp("fontVariant","htv","hoverlabel.font.variant"),Gp("nameLength","hnl","hoverlabel.namelength"),Gp("textAlign","hta","hoverlabel.align"),Ol.posref=Wl==="y"||Wl==="closest"&&zu.orientation==="h"?Ol.xa._offset+(Ol.x0+Ol.x1)/2:Ol.ya._offset+(Ol.y0+Ol.y1)/2,Ol.x0=st.constrain(Ol.x0,0,Ol.xa._length),Ol.x1=st.constrain(Ol.x1,0,Ol.xa._length),Ol.y0=st.constrain(Ol.y0,0,Ol.ya._length),Ol.y1=st.constrain(Ol.y1,0,Ol.ya._length),Ol.xLabelVal!==void 0&&(Ol.xLabel="xLabel"in Ol?Ol.xLabel:Pl.hoverLabelText(Ol.xa,Ol.xLabelVal,zu.xhoverformat),Ol.xVal=Ol.xa.c2d(Ol.xLabelVal)),Ol.yLabelVal!==void 0&&(Ol.yLabel="yLabel"in Ol?Ol.yLabel:Pl.hoverLabelText(Ol.ya,Ol.yLabelVal,zu.yhoverformat),Ol.yVal=Ol.ya.c2d(Ol.yLabelVal)),Ol.zLabelVal!==void 0&&Ol.zLabel===void 0&&(Ol.zLabel=String(Ol.zLabelVal)),!isNaN(Ol.xerr)&&!(Ol.xa.type==="log"&&Ol.xerr<=0)){var r0=Pl.tickText(Ol.xa,Ol.xa.c2l(Ol.xerr),"hover").text;Ol.xerrneg!==void 0?Ol.xLabel+=" +"+r0+" / -"+Pl.tickText(Ol.xa,Ol.xa.c2l(Ol.xerrneg),"hover").text:Ol.xLabel+="  "+r0,Wl==="x"&&(Ol.distance+=1)}if(!isNaN(Ol.yerr)&&!(Ol.ya.type==="log"&&Ol.yerr<=0)){var C0=Pl.tickText(Ol.ya,Ol.ya.c2l(Ol.yerr),"hover").text;Ol.yerrneg!==void 0?Ol.yLabel+=" +"+C0+" / -"+Pl.tickText(Ol.ya,Ol.ya.c2l(Ol.yerrneg),"hover").text:Ol.yLabel+="  "+C0,Wl==="y"&&(Ol.distance+=1)}var f0=Ol.hoverinfo||Ol.trace.hoverinfo;return f0&&f0!=="all"&&(f0=Array.isArray(f0)?f0:f0.split("+"),f0.indexOf("x")===-1&&(Ol.xLabel=void 0),f0.indexOf("y")===-1&&(Ol.yLabel=void 0),f0.indexOf("z")===-1&&(Ol.zLabel=void 0),f0.indexOf("text")===-1&&(Ol.text=void 0),f0.indexOf("name")===-1&&(Ol.name=void 0)),Ol}function bp(Ol,Wl,Mu){var zu=Mu.container,ip=Mu.fullLayout,pp=ip._size,vp=Mu.event,Pp=!!Wl.hLinePoint,Gp=!!Wl.vLinePoint,r0,C0;if(zu.selectAll(".spikeline").remove(),!!(Gp||Pp)){var f0=ls.combine(ip.plot_bgcolor,ip.paper_bgcolor);if(Pp){var d0=Wl.hLinePoint,Sp,Fp;r0=d0&&d0.xa,C0=d0&&d0.ya;var cp=C0.spikesnap;cp==="cursor"?(Sp=vp.pointerX,Fp=vp.pointerY):(Sp=r0._offset+d0.x,Fp=C0._offset+d0.y);var jp=it.readability(d0.color,f0)<1.5?ls.contrast(f0):d0.color,a0=C0.spikemode,y0=C0.spikethickness,P0=C0.spikecolor||jp,E0=Pl.getPxPosition(Ol,C0),O0,j0;if(a0.indexOf("toaxis")!==-1||a0.indexOf("across")!==-1){if(a0.indexOf("toaxis")!==-1&&(O0=E0,j0=Sp),a0.indexOf("across")!==-1){var $0=C0._counterDomainMin,tm=C0._counterDomainMax;C0.anchor==="free"&&($0=Math.min($0,C0.position),tm=Math.max(tm,C0.position)),O0=pp.l+$0*pp.w,j0=pp.l+tm*pp.w}zu.insert("line",":first-child").attr({x1:O0,x2:j0,y1:Fp,y2:Fp,"stroke-width":y0,stroke:P0,"stroke-dasharray":_l.dashStyle(C0.spikedash,y0)}).classed("spikeline",!0).classed("crisp",!0),zu.insert("line",":first-child").attr({x1:O0,x2:j0,y1:Fp,y2:Fp,"stroke-width":y0+2,stroke:f0}).classed("spikeline",!0).classed("crisp",!0)}a0.indexOf("marker")!==-1&&zu.insert("circle",":first-child").attr({cx:E0+(C0.side!=="right"?y0:-y0),cy:Fp,r:y0,fill:P0}).classed("spikeline",!0)}if(Gp){var A0=Wl.vLinePoint,sm,pm;r0=A0&&A0.xa,C0=A0&&A0.ya;var nm=r0.spikesnap;nm==="cursor"?(sm=vp.pointerX,pm=vp.pointerY):(sm=r0._offset+A0.x,pm=C0._offset+A0.y);var vm=it.readability(A0.color,f0)<1.5?ls.contrast(f0):A0.color,kp=r0.spikemode,qp=r0.spikethickness,Xu=r0.spikecolor||vm,hp=Pl.getPxPosition(Ol,r0),yp,Dp;if(kp.indexOf("toaxis")!==-1||kp.indexOf("across")!==-1){if(kp.indexOf("toaxis")!==-1&&(yp=hp,Dp=pm),kp.indexOf("across")!==-1){var Bp=r0._counterDomainMin,Jp=r0._counterDomainMax;r0.anchor==="free"&&(Bp=Math.min(Bp,r0.position),Jp=Math.max(Jp,r0.position)),yp=pp.t+(1-Jp)*pp.h,Dp=pp.t+(1-Bp)*pp.h}zu.insert("line",":first-child").attr({x1:sm,x2:sm,y1:yp,y2:Dp,"stroke-width":qp,stroke:Xu,"stroke-dasharray":_l.dashStyle(r0.spikedash,qp)}).classed("spikeline",!0).classed("crisp",!0),zu.insert("line",":first-child").attr({x1:sm,x2:sm,y1:yp,y2:Dp,"stroke-width":qp+2,stroke:f0}).classed("spikeline",!0).classed("crisp",!0)}kp.indexOf("marker")!==-1&&zu.insert("circle",":first-child").attr({cx:sm,cy:hp-(r0.side!=="top"?qp:-qp),r:qp,fill:Xu}).classed("spikeline",!0)}}}function Cp(Ol,Wl,Mu){if(!Mu||Mu.length!==Ol._hoverdata.length)return!0;for(var zu=Mu.length-1;zu>=0;zu--){var ip=Mu[zu],pp=Ol._hoverdata[zu];if(ip.curveNumber!==pp.curveNumber||String(ip.pointNumber)!==String(pp.pointNumber)||String(ip.pointNumbers)!==String(pp.pointNumbers)||ip.binNumber!==pp.binNumber)return!0}return!1}function Ap(Ol,Wl){return!0}function Lu(Ol,Wl){return yl.plainText(Ol||"",{len:Wl,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function Nu(Ol,Wl){for(var Mu=Wl.charAt(0),zu=[],ip=[],pp=[],vp=0;vp<Ol.length;vp++){var Pp=Ol[vp];El.traceIs(Pp.trace,"bar-like")||El.traceIs(Pp.trace,"box-violin")?pp.push(Pp):Pp.trace[Mu+"period"]?ip.push(Pp):zu.push(Pp)}return zu.concat(ip).concat(pp)}function Hl(Ol,Wl,Mu){var zu=Wl[Ol+"a"],ip=Wl[Ol+"Val"],pp=Wl.cd[0];if(zu.type==="category"||zu.type==="multicategory")ip=zu._categoriesMap[ip];else if(zu.type==="date"){var vp=Wl.trace[Ol+"periodalignment"];if(vp){var Pp=Wl.cd[Wl.index],Gp=Pp[Ol+"Start"];Gp===void 0&&(Gp=Pp[Ol]);var r0=Pp[Ol+"End"];r0===void 0&&(r0=Pp[Ol]);var C0=r0-Gp;vp==="end"?ip+=C0:vp==="middle"&&(ip+=C0/2)}ip=zu.d2c(ip)}return pp&&pp.t&&pp.t.posLetter===zu._id&&(Mu.boxmode==="group"||Mu.violinmode==="group")&&(ip+=pp.t.dPos),ip}function qu(Ol){return Ol.offsetTop+Ol.clientTop}function np(Ol){return Ol.offsetLeft+Ol.clientLeft}function vu(Ol,Wl){var Mu=Ol._fullLayout,zu=Wl.getBoundingClientRect(),ip=zu.left,pp=zu.top,vp=ip+zu.width,Pp=pp+zu.height,Gp=st.apply3DTransform(Mu._invTransform)(ip,pp),r0=st.apply3DTransform(Mu._invTransform)(vp,Pp),C0=Gp[0],f0=Gp[1],d0=r0[0],Sp=r0[1];return{x:C0,y:f0,width:d0-C0,height:Sp-f0,top:Math.min(f0,Sp),left:Math.min(C0,d0),right:Math.max(C0,d0),bottom:Math.max(f0,Sp)}}}),Uv=a((yu,hu)=>{var jt=gu(),it=D0(),st=w0().isUnifiedHover;hu.exports=function(Ln,Ft,Fn,zn){zn=zn||{};var yl=Ft.legend;function ot(_l){zn.font[_l]||(zn.font[_l]=yl?Ft.legend.font[_l]:Ft.font[_l])}Ft&&st(Ft.hovermode)&&(zn.font||(zn.font={}),ot("size"),ot("family"),ot("color"),ot("weight"),ot("style"),ot("variant"),yl?(zn.bgcolor||(zn.bgcolor=it.combine(Ft.legend.bgcolor,Ft.paper_bgcolor)),zn.bordercolor||(zn.bordercolor=Ft.legend.bordercolor)):zn.bgcolor||(zn.bgcolor=Ft.paper_bgcolor)),Fn("hoverlabel.bgcolor",zn.bgcolor),Fn("hoverlabel.bordercolor",zn.bordercolor),Fn("hoverlabel.namelength",zn.namelength),Fn("hoverlabel.showarrow",zn.showarrow),jt.coerceFont(Fn,"hoverlabel.font",zn.font),Fn("hoverlabel.align",zn.align)}}),vy=a((yu,hu)=>{var jt=gu(),it=Uv(),st=Lp();hu.exports=function(Ln,Ft){function Fn(zn,yl){return jt.coerce(Ln,Ft,st,zn,yl)}it(Ln,Ft,Fn)}}),py=a((yu,hu)=>{var jt=gu(),it=Np(),st=Uv();hu.exports=function(Ln,Ft,Fn,zn){function yl(_l,ls){return jt.coerce(Ln,Ft,it,_l,ls)}var ot=jt.extendFlat({},zn.hoverlabel);Ft.hovertemplate&&(ot.namelength=-1),st(Ln,Ft,yl,ot)}}),Hy=a((yu,hu)=>{var jt=gu(),it=Lp();hu.exports=function(st,Ln){function Ft(Fn,zn){return Ln[Fn]!==void 0?Ln[Fn]:jt.coerce(st,Ln,it,Fn,zn)}return Ft("clickmode"),Ft("hoversubplots"),Ft("hovermode")}}),Ry=a((yu,hu)=>{var jt=gu(),it=Lp(),st=Hy(),Ln=Uv();hu.exports=function(Ft,Fn){function zn(Tl,El){return jt.coerce(Ft,Fn,it,Tl,El)}var yl=st(Ft,Fn);yl&&(zn("hoverdistance"),zn("spikedistance"));var ot=zn("dragmode");ot==="select"&&zn("selectdirection");var _l=Fn._has("mapbox"),ls=Fn._has("map"),Sl=Fn._has("geo"),Pl=Fn._basePlotModules.length;Fn.dragmode==="zoom"&&((_l||ls||Sl)&&Pl===1||(_l||ls)&&Sl&&Pl===2)&&(Fn.dragmode="pan"),Ln(Ft,Fn,zn),jt.coerceFont(zn,"hoverlabel.grouptitlefont",Fn.hoverlabel.font)}}),Zv=a((yu,hu)=>{var jt=gu(),it=N1();hu.exports=function(Ln){var Ft=Ln.calcdata,Fn=Ln._fullLayout;function zn(Sl){return function(Pl){return jt.coerceHoverinfo({hoverinfo:Pl},{_module:Sl._module},Fn)}}for(var yl=0;yl<Ft.length;yl++){var ot=Ft[yl],_l=ot[0].trace;if(!it.traceIs(_l,"pie-like")){var ls=it.traceIs(_l,"2dMap")?st:jt.fillArray;ls(_l.hoverinfo,ot,"hi",zn(_l)),_l.hovertemplate&&ls(_l.hovertemplate,ot,"ht"),_l.hoverlabel&&(ls(_l.hoverlabel.bgcolor,ot,"hbg"),ls(_l.hoverlabel.bordercolor,ot,"hbc"),ls(_l.hoverlabel.font.size,ot,"hts"),ls(_l.hoverlabel.font.color,ot,"htc"),ls(_l.hoverlabel.font.family,ot,"htf"),ls(_l.hoverlabel.font.weight,ot,"htw"),ls(_l.hoverlabel.font.style,ot,"hty"),ls(_l.hoverlabel.font.variant,ot,"htv"),ls(_l.hoverlabel.namelength,ot,"hnl"),ls(_l.hoverlabel.align,ot,"hta"),ls(_l.hoverlabel.showarrow,ot,"htsa"))}}};function st(Ln,Ft,Fn,zn){zn=zn||jt.identity,Array.isArray(Ln)&&(Ft[0][Fn]=zn(Ln))}}),Yy=a((yu,hu)=>{var jt=N1(),it=Sv().hover;hu.exports=function(st,Ln,Ft){var Fn=jt.getComponentMethod("annotations","onClick")(st,st._hoverdata);Ft!==void 0&&it(st,Ln,Ft,!0);function zn(){st.emit("plotly_click",{points:st._hoverdata,event:Ln})}st._hoverdata&&Ln&&Ln.target&&(Fn&&Fn.then?Fn.then(zn):zn(),Ln.stopImmediatePropagation&&Ln.stopImmediatePropagation())}}),Ey=a((yu,hu)=>{var jt=g(),it=gu(),st=Pm(),Ln=w0(),Ft=Lp(),Fn=Sv();hu.exports={moduleType:"component",name:"fx",constants:Zu(),schema:{layout:Ft},attributes:Np(),layoutAttributes:Ft,supplyLayoutGlobalDefaults:vy(),supplyDefaults:py(),supplyLayoutDefaults:Ry(),calc:Zv(),getDistanceFunction:Ln.getDistanceFunction,getClosest:Ln.getClosest,inbox:Ln.inbox,quadrature:Ln.quadrature,appendArrayPointValue:Ln.appendArrayPointValue,castHoverOption:yl,castHoverinfo:ot,hover:Fn.hover,unhover:st.unhover,loneHover:Fn.loneHover,loneUnhover:zn,click:Yy()};function zn(_l){var ls=it.isD3Selection(_l)?_l:jt.select(_l);ls.selectAll("g.hovertext").remove(),ls.selectAll(".spikeline").remove()}function yl(_l,ls,Sl){return it.castOption(_l,ls,"hoverlabel."+Sl)}function ot(_l,ls,Sl){function Pl(Tl){return it.coerceHoverinfo({hoverinfo:Tl},{_module:_l._module},ls)}return it.castOption(_l,Sl,"hoverinfo",Pl)}}),Fy=a(yu=>{yu.selectMode=function(hu){return hu==="lasso"||hu==="select"},yu.drawMode=function(hu){return hu==="drawclosedpath"||hu==="drawopenpath"||hu==="drawline"||hu==="drawrect"||hu==="drawcircle"},yu.openMode=function(hu){return hu==="drawline"||hu==="drawopenpath"},yu.rectMode=function(hu){return hu==="select"||hu==="drawline"||hu==="drawrect"||hu==="drawcircle"},yu.freeMode=function(hu){return hu==="lasso"||hu==="drawclosedpath"||hu==="drawopenpath"},yu.selectingOrDrawing=function(hu){return yu.freeMode(hu)||yu.rectMode(hu)}}),Gy=a((yu,hu)=>{hu.exports=function(jt){var it=jt._fullLayout;it._glcanvas&&it._glcanvas.size()&&it._glcanvas.each(function(st){st.regl&&st.regl.clear({color:!0,depth:!0})})}}),a2=a((yu,hu)=>{hu.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}}),Jy=a((yu,hu)=>{var jt=32;hu.exports={CIRCLE_SIDES:jt,i000:0,i090:jt/4,i180:jt/2,i270:jt/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),v2=a((yu,hu)=>{var jt=gu().strTranslate;function it(Fn,zn){switch(Fn.type){case"log":return Fn.p2d(zn);case"date":return Fn.p2r(zn,0,Fn.calendar);default:return Fn.p2r(zn)}}function st(Fn,zn){switch(Fn.type){case"log":return Fn.d2p(zn);case"date":return Fn.r2p(zn,0,Fn.calendar);default:return Fn.r2p(zn)}}function Ln(Fn){var zn=Fn._id.charAt(0)==="y"?1:0;return function(yl){return it(Fn,yl[zn])}}function Ft(Fn){return jt(Fn.xaxis._offset,Fn.yaxis._offset)}hu.exports={p2r:it,r2p:st,axValue:Ln,getTransform:Ft}}),ty=a(yu=>{var hu=m0(),jt=Jy(),it=jt.CIRCLE_SIDES,st=jt.SQRT2,Ln=v2(),Ft=Ln.p2r,Fn=Ln.r2p,zn=[0,3,4,5,6,1,2],yl=[0,3,4,1,2];yu.writePaths=function(ls){var Sl=ls.length;if(!Sl)return"M0,0Z";for(var Pl="",Tl=0;Tl<Sl;Tl++)for(var El=ls[Tl].length,Ml=0;Ml<El;Ml++){var Rl=ls[Tl][Ml][0];if(Rl==="Z")Pl+="Z";else for(var Bn=ls[Tl][Ml].length,Cl=0;Cl<Bn;Cl++){var Al=Cl;Rl==="Q"||Rl==="S"?Al=yl[Cl]:Rl==="C"&&(Al=zn[Cl]),Pl+=ls[Tl][Ml][Al],Cl>0&&Cl<Bn-1&&(Pl+=",")}}return Pl},yu.readPaths=function(ls,Sl,Pl,Tl){var El=hu(ls),Ml=[],Rl=-1,Bn=function(){Rl++,Ml[Rl]=[]},Cl,Al=0,Il=0,$l,Bu,Jl=function(){$l=Al,Bu=Il};Jl();for(var Kl=0;Kl<El.length;Kl++){var Bl=[],$u,mu,Pu,bu,Fu=El[Kl][0],Hu=Fu;switch(Fu){case"M":Bn(),Al=+El[Kl][1],Il=+El[Kl][2],Bl.push([Hu,Al,Il]),Jl();break;case"Q":case"S":$u=+El[Kl][1],Pu=+El[Kl][2],Al=+El[Kl][3],Il=+El[Kl][4],Bl.push([Hu,Al,Il,$u,Pu]);break;case"C":$u=+El[Kl][1],Pu=+El[Kl][2],mu=+El[Kl][3],bu=+El[Kl][4],Al=+El[Kl][5],Il=+El[Kl][6],Bl.push([Hu,Al,Il,$u,Pu,mu,bu]);break;case"T":case"L":Al=+El[Kl][1],Il=+El[Kl][2],Bl.push([Hu,Al,Il]);break;case"H":Hu="L",Al=+El[Kl][1],Bl.push([Hu,Al,Il]);break;case"V":Hu="L",Il=+El[Kl][1],Bl.push([Hu,Al,Il]);break;case"A":Hu="L";var Gu=+El[Kl][1],Xl=+El[Kl][2];+El[Kl][4]||(Gu=-Gu,Xl=-Xl);var Wu=Al-Gu,Yu=Il;for(Cl=1;Cl<=it/2;Cl++){var ap=2*Math.PI*Cl/it;Bl.push([Hu,Wu+Gu*Math.cos(ap),Yu+Xl*Math.sin(ap)])}break;case"Z":(Al!==$l||Il!==Bu)&&(Al=$l,Il=Bu,Bl.push([Hu,Al,Il]));break}for(var rp=(Pl||{}).domain,sp=Sl._fullLayout._size,bp=Pl&&Pl.xsizemode==="pixel",Cp=Pl&&Pl.ysizemode==="pixel",Ap=Tl===!1,Lu=0;Lu<Bl.length;Lu++){for(Cl=0;Cl+2<7;Cl+=2){var Nu=Bl[Lu][Cl+1],Hl=Bl[Lu][Cl+2];Nu===void 0||Hl===void 0||(Al=Nu,Il=Hl,Pl&&(Pl.xaxis&&Pl.xaxis.p2r?(Ap&&(Nu-=Pl.xaxis._offset),bp?Nu=Fn(Pl.xaxis,Pl.xanchor)+Nu:Nu=Ft(Pl.xaxis,Nu)):(Ap&&(Nu-=sp.l),rp?Nu=rp.x[0]+Nu/sp.w:Nu=Nu/sp.w),Pl.yaxis&&Pl.yaxis.p2r?(Ap&&(Hl-=Pl.yaxis._offset),Cp?Hl=Fn(Pl.yaxis,Pl.yanchor)-Hl:Hl=Ft(Pl.yaxis,Hl)):(Ap&&(Hl-=sp.t),rp?Hl=rp.y[1]-Hl/sp.h:Hl=1-Hl/sp.h)),Bl[Lu][Cl+1]=Nu,Bl[Lu][Cl+2]=Hl)}Ml[Rl].push(Bl[Lu].slice())}}return Ml};function ot(ls,Sl){return Math.abs(ls-Sl)<=1e-6}function _l(ls,Sl){var Pl=Sl[1]-ls[1],Tl=Sl[2]-ls[2];return Math.sqrt(Pl*Pl+Tl*Tl)}yu.pointsOnRectangle=function(ls){var Sl=ls.length;if(Sl!==5)return!1;for(var Pl=1;Pl<3;Pl++){var Tl=ls[0][Pl]-ls[1][Pl],El=ls[3][Pl]-ls[2][Pl];if(!ot(Tl,El))return!1;var Ml=ls[0][Pl]-ls[3][Pl],Rl=ls[1][Pl]-ls[2][Pl];if(!ot(Ml,Rl))return!1}return!ot(ls[0][1],ls[1][1])&&!ot(ls[0][1],ls[3][1])?!1:!!(_l(ls[0],ls[1])*_l(ls[0],ls[3]))},yu.pointsOnEllipse=function(ls){var Sl=ls.length;if(Sl!==it+1)return!1;Sl=it;for(var Pl=0;Pl<Sl;Pl++){var Tl=(Sl*2-Pl)%Sl,El=(Sl/2+Tl)%Sl,Ml=(Sl/2+Pl)%Sl;if(!ot(_l(ls[Pl],ls[Ml]),_l(ls[Tl],ls[El])))return!1}return!0},yu.handleEllipse=function(ls,Sl,Pl){if(!ls)return[Sl,Pl];var Tl=yu.ellipseOver({x0:Sl[0],y0:Sl[1],x1:Pl[0],y1:Pl[1]}),El=(Tl.x1+Tl.x0)/2,Ml=(Tl.y1+Tl.y0)/2,Rl=(Tl.x1-Tl.x0)/2,Bn=(Tl.y1-Tl.y0)/2;Rl||(Rl=Bn=Bn/st),Bn||(Bn=Rl=Rl/st);for(var Cl=[],Al=0;Al<it;Al++){var Il=Al*2*Math.PI/it;Cl.push([El+Rl*Math.cos(Il),Ml+Bn*Math.sin(Il)])}return Cl},yu.ellipseOver=function(ls){var Sl=ls.x0,Pl=ls.y0,Tl=ls.x1,El=ls.y1,Ml=Tl-Sl,Rl=El-Pl;Sl-=Ml,Pl-=Rl;var Bn=(Sl+Tl)/2,Cl=(Pl+El)/2,Al=st;return Ml*=Al,Rl*=Al,{x0:Bn-Ml,y0:Cl-Rl,x1:Bn+Ml,y1:Cl+Rl}},yu.fixDatesForPaths=function(ls,Sl,Pl){var Tl=Sl.type==="date",El=Pl.type==="date";if(!Tl&&!El)return ls;for(var Ml=0;Ml<ls.length;Ml++)for(var Rl=0;Rl<ls[Ml].length;Rl++)for(var Bn=0;Bn+2<ls[Ml][Rl].length;Bn+=2)Tl&&(ls[Ml][Rl][Bn+1]=ls[Ml][Rl][Bn+1].replace(" ","_")),El&&(ls[Ml][Rl][Bn+2]=ls[Ml][Rl][Bn+2].replace(" ","_"));return ls}}),Cy=a((yu,hu)=>{var jt=rv(),it=Fy(),st=it.drawMode,Ln=it.openMode,Ft=Jy(),Fn=Ft.i000,zn=Ft.i090,yl=Ft.i180,ot=Ft.i270,_l=Ft.cos45,ls=Ft.sin45,Sl=v2(),Pl=Sl.p2r,Tl=Sl.r2p,El=ev(),Ml=El.clearOutline,Rl=ty(),Bn=Rl.readPaths,Cl=Rl.writePaths,Al=Rl.ellipseOver,Il=Rl.fixDatesForPaths;function $l(Jl,Kl){if(Jl.length){var Bl=Jl[0][0];if(Bl){var $u=Kl.gd,mu=Kl.isActiveShape,Pu=Kl.dragmode,bu=($u.layout||{}).shapes||[];if(!st(Pu)&&mu!==void 0){var Fu=$u._fullLayout._activeShapeIndex;if(Fu<bu.length)switch($u._fullLayout.shapes[Fu].type){case"rect":Pu="drawrect";break;case"circle":Pu="drawcircle";break;case"line":Pu="drawline";break;case"path":var Hu=bu[Fu].path||"";Hu[Hu.length-1]==="Z"?Pu="drawclosedpath":Pu="drawopenpath";break}}var Gu=Bu(Jl,Kl,Pu);Ml($u);for(var Xl=Kl.editHelpers,Wu=(Xl||{}).modifyItem,Yu=[],ap=0;ap<bu.length;ap++){var rp=$u._fullLayout.shapes[ap];if(Yu[ap]=rp._input,mu!==void 0&&ap===$u._fullLayout._activeShapeIndex){var sp=Gu;switch(rp.type){case"line":case"rect":case"circle":var bp=jt.getFromId($u,rp.xref);rp.xref.charAt(0)==="x"&&bp.type.includes("category")?(Wu("x0",sp.x0-(rp.x0shift||0)),Wu("x1",sp.x1-(rp.x1shift||0))):(Wu("x0",sp.x0),Wu("x1",sp.x1));var Cp=jt.getFromId($u,rp.yref);rp.yref.charAt(0)==="y"&&Cp.type.includes("category")?(Wu("y0",sp.y0-(rp.y0shift||0)),Wu("y1",sp.y1-(rp.y1shift||0))):(Wu("y0",sp.y0),Wu("y1",sp.y1));break;case"path":Wu("path",sp.path);break}}}return mu===void 0?(Yu.push(Gu),Yu):Xl?Xl.getUpdateObj():{}}}}function Bu(Jl,Kl,Bl){var $u=Jl[0][0],mu=Kl.gd,Pu=$u.getAttribute("d"),bu=mu._fullLayout.newshape,Fu=Kl.plotinfo,Hu=Kl.isActiveShape,Gu=Fu.xaxis,Xl=Fu.yaxis,Wu=!!Fu.domain||!Fu.xaxis,Yu=!!Fu.domain||!Fu.yaxis,ap=Ln(Bl),rp=Bn(Pu,mu,Fu,Hu),sp={editable:!0,visible:bu.visible,name:bu.name,showlegend:bu.showlegend,legend:bu.legend,legendwidth:bu.legendwidth,legendgroup:bu.legendgroup,legendgrouptitle:{text:bu.legendgrouptitle.text,font:bu.legendgrouptitle.font},legendrank:bu.legendrank,label:bu.label,xref:Wu?"paper":Gu._id,yref:Yu?"paper":Xl._id,layer:bu.layer,opacity:bu.opacity,line:{color:bu.line.color,width:bu.line.width,dash:bu.line.dash}};ap||(sp.fillcolor=bu.fillcolor,sp.fillrule=bu.fillrule);var bp;if(rp.length===1&&(bp=rp[0]),bp&&bp.length===5&&Bl==="drawrect")sp.type="rect",sp.x0=bp[0][1],sp.y0=bp[0][2],sp.x1=bp[2][1],sp.y1=bp[2][2];else if(bp&&Bl==="drawline")sp.type="line",sp.x0=bp[0][1],sp.y0=bp[0][2],sp.x1=bp[1][1],sp.y1=bp[1][2];else if(bp&&Bl==="drawcircle"){sp.type="circle";var Cp=bp[Fn][1],Ap=bp[zn][1],Lu=bp[yl][1],Nu=bp[ot][1],Hl=bp[Fn][2],qu=bp[zn][2],np=bp[yl][2],vu=bp[ot][2],Ol=Fu.xaxis&&(Fu.xaxis.type==="date"||Fu.xaxis.type==="log"),Wl=Fu.yaxis&&(Fu.yaxis.type==="date"||Fu.yaxis.type==="log");Ol&&(Cp=Tl(Fu.xaxis,Cp),Ap=Tl(Fu.xaxis,Ap),Lu=Tl(Fu.xaxis,Lu),Nu=Tl(Fu.xaxis,Nu)),Wl&&(Hl=Tl(Fu.yaxis,Hl),qu=Tl(Fu.yaxis,qu),np=Tl(Fu.yaxis,np),vu=Tl(Fu.yaxis,vu));var Mu=(Ap+Nu)/2,zu=(Hl+np)/2,ip=(Nu-Ap+Lu-Cp)/2,pp=(vu-qu+np-Hl)/2,vp=Al({x0:Mu,y0:zu,x1:Mu+ip*_l,y1:zu+pp*ls});Ol&&(vp.x0=Pl(Fu.xaxis,vp.x0),vp.x1=Pl(Fu.xaxis,vp.x1)),Wl&&(vp.y0=Pl(Fu.yaxis,vp.y0),vp.y1=Pl(Fu.yaxis,vp.y1)),sp.x0=vp.x0,sp.y0=vp.y0,sp.x1=vp.x1,sp.y1=vp.y1}else sp.type="path",Gu&&Xl&&Il(rp,Gu,Xl),sp.path=Cl(rp),bp=null;return sp}hu.exports={newShapes:$l,createShapeObj:Bu}}),My=a((yu,hu)=>{var jt=Fy(),it=jt.selectMode,st=ev(),Ln=st.clearOutline,Ft=ty(),Fn=Ft.readPaths,zn=Ft.writePaths,yl=Ft.fixDatesForPaths;hu.exports=function(ot,_l){if(ot.length){var ls=ot[0][0];if(ls){var Sl=ls.getAttribute("d"),Pl=_l.gd,Tl=Pl._fullLayout.newselection,El=_l.plotinfo,Ml=El.xaxis,Rl=El.yaxis,Bn=_l.isActiveSelection,Cl=_l.dragmode,Al=(Pl.layout||{}).selections||[];if(!it(Cl)&&Bn!==void 0){var Il=Pl._fullLayout._activeSelectionIndex;if(Il<Al.length)switch(Pl._fullLayout.selections[Il].type){case"rect":Cl="select";break;case"path":Cl="lasso";break}}var $l=Fn(Sl,Pl,El,Bn),Bu={xref:Ml._id,yref:Rl._id,opacity:Tl.opacity,line:{color:Tl.line.color,width:Tl.line.width,dash:Tl.line.dash}},Jl;$l.length===1&&(Jl=$l[0]),Jl&&Jl.length===5&&Cl==="select"?(Bu.type="rect",Bu.x0=Jl[0][1],Bu.y0=Jl[0][2],Bu.x1=Jl[2][1],Bu.y1=Jl[2][2]):(Bu.type="path",Ml&&Rl&&yl($l,Ml,Rl),Bu.path=zn($l),Jl=null),Ln(Pl);for(var Kl=_l.editHelpers,Bl=(Kl||{}).modifyItem,$u=[],mu=0;mu<Al.length;mu++){var Pu=Pl._fullLayout.selections[mu];if(!Pu){$u[mu]=Pu;continue}if($u[mu]=Pu._input,Bn!==void 0&&mu===Pl._fullLayout._activeSelectionIndex){var bu=Bu;switch(Pu.type){case"rect":Bl("x0",bu.x0),Bl("x1",bu.x1),Bl("y0",bu.y0),Bl("y1",bu.y1);break;case"path":Bl("path",bu.path);break}}}return Bn===void 0?($u.push(Bu),$u):Kl?Kl.getUpdateObj():{}}}}}),Ay=a((yu,hu)=>{hu.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),Ql=a(yu=>{var hu=Ay(),jt=gu(),it=bm();yu.rangeToShapePosition=function(Ft){return Ft.type==="log"?Ft.r2d:function(Fn){return Fn}},yu.shapePositionToRange=function(Ft){return Ft.type==="log"?Ft.d2r:function(Fn){return Fn}},yu.decodeDate=function(Ft){return function(Fn){return Fn.replace&&(Fn=Fn.replace("_"," ")),Ft(Fn)}},yu.encodeDate=function(Ft){return function(Fn){return Ft(Fn).replace(" ","_")}},yu.extractPathCoords=function(Ft,Fn,zn){var yl=[],ot=Ft.match(hu.segmentRE);return ot.forEach(function(_l){var ls=Fn[_l.charAt(0)].drawn;if(ls!==void 0){var Sl=_l.substr(1).match(hu.paramRE);if(!(!Sl||Sl.length<ls)){var Pl=Sl[ls],Tl=zn?Pl:jt.cleanNumber(Pl);yl.push(Tl)}}}),yl},yu.getDataToPixel=function(Ft,Fn,zn,yl,ot){var _l=Ft._fullLayout._size,ls;if(Fn)if(ot==="domain")ls=function(Pl){return Fn._length*(yl?1-Pl:Pl)+Fn._offset};else{var Sl=yu.shapePositionToRange(Fn);ls=function(Pl){var Tl=Ln(Fn,zn);return Fn._offset+Fn.r2p(Sl(Pl,!0))+Tl},Fn.type==="date"&&(ls=yu.decodeDate(ls))}else yl?ls=function(Pl){return _l.t+_l.h*(1-Pl)}:ls=function(Pl){return _l.l+_l.w*Pl};return ls},yu.getPixelToData=function(Ft,Fn,zn,yl){var ot=Ft._fullLayout._size,_l;if(Fn)if(yl==="domain")_l=function(Sl){var Pl=(Sl-Fn._offset)/Fn._length;return zn?1-Pl:Pl};else{var ls=yu.rangeToShapePosition(Fn);_l=function(Sl){return ls(Fn.p2r(Sl-Fn._offset))}}else zn?_l=function(Sl){return 1-(Sl-ot.t)/ot.h}:_l=function(Sl){return(Sl-ot.l)/ot.w};return _l},yu.roundPositionForSharpStrokeRendering=function(Ft,Fn){var zn=Math.round(Fn%2)===1,yl=Math.round(Ft);return zn?yl+.5:yl},yu.makeShapesOptionsAndPlotinfo=function(Ft,Fn){var zn=Ft._fullLayout.shapes[Fn]||{},yl=Ft._fullLayout._plots[zn.xref+zn.yref],ot=!!yl;return ot?yl._hadPlotinfo=!0:(yl={},zn.xref&&zn.xref!=="paper"&&(yl.xaxis=Ft._fullLayout[zn.xref+"axis"]),zn.yref&&zn.yref!=="paper"&&(yl.yaxis=Ft._fullLayout[zn.yref+"axis"])),yl.xsizemode=zn.xsizemode,yl.ysizemode=zn.ysizemode,yl.xanchor=zn.xanchor,yl.yanchor=zn.yanchor,{options:zn,plotinfo:yl}},yu.makeSelectionsOptionsAndPlotinfo=function(Ft,Fn){var zn=Ft._fullLayout.selections[Fn]||{},yl=Ft._fullLayout._plots[zn.xref+zn.yref],ot=!!yl;return ot?yl._hadPlotinfo=!0:(yl={},zn.xref&&(yl.xaxis=Ft._fullLayout[zn.xref+"axis"]),zn.yref&&(yl.yaxis=Ft._fullLayout[zn.yref+"axis"])),{options:zn,plotinfo:yl}},yu.getPathString=function(Ft,Fn){var zn=Fn.type,yl=it.getRefType(Fn.xref),ot=it.getRefType(Fn.yref),_l=it.getFromId(Ft,Fn.xref),ls=it.getFromId(Ft,Fn.yref),Sl=Ft._fullLayout._size,Pl,Tl,El,Ml,Rl=Ln(_l,Fn.x0shift),Bn=Ln(_l,Fn.x1shift),Cl=Ln(ls,Fn.y0shift),Al=Ln(ls,Fn.y1shift),Il,$l,Bu,Jl;if(_l?yl==="domain"?Tl=function(Xl){return _l._offset+_l._length*Xl}:(Pl=yu.shapePositionToRange(_l),Tl=function(Xl){return _l._offset+_l.r2p(Pl(Xl,!0))}):Tl=function(Xl){return Sl.l+Sl.w*Xl},ls?ot==="domain"?Ml=function(Xl){return ls._offset+ls._length*(1-Xl)}:(El=yu.shapePositionToRange(ls),Ml=function(Xl){return ls._offset+ls.r2p(El(Xl,!0))}):Ml=function(Xl){return Sl.t+Sl.h*(1-Xl)},zn==="path")return _l&&_l.type==="date"&&(Tl=yu.decodeDate(Tl)),ls&&ls.type==="date"&&(Ml=yu.decodeDate(Ml)),st(Fn,Tl,Ml);if(Fn.xsizemode==="pixel"){var Kl=Tl(Fn.xanchor);Il=Kl+Fn.x0+Rl,$l=Kl+Fn.x1+Bn}else Il=Tl(Fn.x0)+Rl,$l=Tl(Fn.x1)+Bn;if(Fn.ysizemode==="pixel"){var Bl=Ml(Fn.yanchor);Bu=Bl-Fn.y0+Cl,Jl=Bl-Fn.y1+Al}else Bu=Ml(Fn.y0)+Cl,Jl=Ml(Fn.y1)+Al;if(zn==="line")return"M"+Il+","+Bu+"L"+$l+","+Jl;if(zn==="rect")return"M"+Il+","+Bu+"H"+$l+"V"+Jl+"H"+Il+"Z";var $u=(Il+$l)/2,mu=(Bu+Jl)/2,Pu=Math.abs($u-Il),bu=Math.abs(mu-Bu),Fu="A"+Pu+","+bu,Hu=$u+Pu+","+mu,Gu=$u+","+(mu-bu);return"M"+Hu+Fu+" 0 1,1 "+Gu+Fu+" 0 0,1 "+Hu+"Z"};function st(Ft,Fn,zn){var yl=Ft.path,ot=Ft.xsizemode,_l=Ft.ysizemode,ls=Ft.xanchor,Sl=Ft.yanchor;return yl.replace(hu.segmentRE,function(Pl){var Tl=0,El=Pl.charAt(0),Ml=hu.paramIsX[El],Rl=hu.paramIsY[El],Bn=hu.numParams[El],Cl=Pl.substr(1).replace(hu.paramRE,function(Al){return Ml[Tl]?ot==="pixel"?Al=Fn(ls)+Number(Al):Al=Fn(Al):Rl[Tl]&&(_l==="pixel"?Al=zn(Sl)-Number(Al):Al=zn(Al)),Tl++,Tl>Bn&&(Al="X"),Al});return Tl>Bn&&(Cl=Cl.replace(/[\s,]*X.*/,""),jt.log("Ignoring extra params in segment "+Pl)),El+Cl})}function Ln(Ft,Fn){Fn=Fn||0;var zn=0;return Fn&&Ft&&(Ft.type==="category"||Ft.type==="multicategory")&&(zn=(Ft.r2p(1)-Ft.r2p(0))*Fn),zn}}),$p=a((yu,hu)=>{var jt=gu(),it=bm(),st=hy(),Ln=q0(),Ft=ty().readPaths,Fn=Ql(),zn=Fn.getPathString,yl=Zy(),ot=pv().FROM_TL;hu.exports=function(Sl,Pl,Tl,El){if(El.selectAll(".shape-label").remove(),!!(Tl.label.text||Tl.label.texttemplate)){var Ml;if(Tl.label.texttemplate){var Rl={};if(Tl.type!=="path"){var Bn=it.getFromId(Sl,Tl.xref),Cl=it.getFromId(Sl,Tl.yref);for(var Al in yl){var Il=yl[Al](Tl,Bn,Cl);Il!==void 0&&(Rl[Al]=Il)}}Ml=jt.texttemplateStringForShapes(Tl.label.texttemplate,{},Sl._fullLayout._d3locale,Rl)}else Ml=Tl.label.text;var $l={"data-index":Pl},Bu=Tl.label.font,Jl={"data-notex":1},Kl=El.append("g").attr($l).classed("shape-label",!0),Bl=Kl.append("text").attr(Jl).classed("shape-label-text",!0).text(Ml),$u,mu,Pu,bu;if(Tl.path){var Fu=zn(Sl,Tl),Hu=Ft(Fu,Sl);$u=1/0,Pu=1/0,mu=-1/0,bu=-1/0;for(var Gu=0;Gu<Hu.length;Gu++)for(var Xl=0;Xl<Hu[Gu].length;Xl++)for(var Wu=Hu[Gu][Xl],Yu=1;Yu<Wu.length;Yu+=2){var ap=Wu[Yu],rp=Wu[Yu+1];$u=Math.min($u,ap),mu=Math.max(mu,ap),Pu=Math.min(Pu,rp),bu=Math.max(bu,rp)}}else{var sp=it.getFromId(Sl,Tl.xref),bp=Tl.x0shift,Cp=Tl.x1shift,Ap=it.getRefType(Tl.xref),Lu=it.getFromId(Sl,Tl.yref),Nu=Tl.y0shift,Hl=Tl.y1shift,qu=it.getRefType(Tl.yref),np=function(vp,Pp){var Gp=Fn.getDataToPixel(Sl,sp,Pp,!1,Ap);return Gp(vp)},vu=function(vp,Pp){var Gp=Fn.getDataToPixel(Sl,Lu,Pp,!0,qu);return Gp(vp)};$u=np(Tl.x0,bp),mu=np(Tl.x1,Cp),Pu=vu(Tl.y0,Nu),bu=vu(Tl.y1,Hl)}var Ol=Tl.label.textangle;Ol==="auto"&&(Tl.type==="line"?Ol=_l($u,Pu,mu,bu):Ol=0),Bl.call(function(vp){return vp.call(Ln.font,Bu).attr({}),st.convertToTspans(vp,Sl),vp});var Wl=Ln.bBox(Bl.node()),Mu=ls($u,Pu,mu,bu,Tl,Ol,Wl),zu=Mu.textx,ip=Mu.texty,pp=Mu.xanchor;Bl.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[pp],y:ip,x:zu,transform:"rotate("+Ol+","+zu+","+ip+")"}).call(st.positionText,zu,ip)}};function _l(Sl,Pl,Tl,El){var Ml,Rl;return Rl=Math.abs(Tl-Sl),Tl>=Sl?Ml=Pl-El:Ml=El-Pl,-180/Math.PI*Math.atan2(Ml,Rl)}function ls(Sl,Pl,Tl,El,Ml,Rl,Bn){var Cl=Ml.label.textposition,Al=Ml.label.textangle,Il=Ml.label.padding,$l=Ml.type,Bu=Math.PI/180*Rl,Jl=Math.sin(Bu),Kl=Math.cos(Bu),Bl=Ml.label.xanchor,$u=Ml.label.yanchor,mu,Pu,bu,Fu;if($l==="line"){Cl==="start"?(mu=Sl,Pu=Pl):Cl==="end"?(mu=Tl,Pu=El):(mu=(Sl+Tl)/2,Pu=(Pl+El)/2),Bl==="auto"&&(Cl==="start"?Al==="auto"?Tl>Sl?Bl="left":Tl<Sl?Bl="right":Bl="center":Tl>Sl?Bl="right":Tl<Sl?Bl="left":Bl="center":Cl==="end"?Al==="auto"?Tl>Sl?Bl="right":Tl<Sl?Bl="left":Bl="center":Tl>Sl?Bl="left":Tl<Sl?Bl="right":Bl="center":Bl="center");var Hu={left:1,center:0,right:-1},Gu={bottom:-1,middle:0,top:1};if(Al==="auto"){var Xl=Gu[$u];bu=-Il*Jl*Xl,Fu=Il*Kl*Xl}else{var Wu=Hu[Bl],Yu=Gu[$u];bu=Il*Wu,Fu=Il*Yu}mu=mu+bu,Pu=Pu+Fu}else bu=Il+3,Cl.indexOf("right")!==-1?(mu=Math.max(Sl,Tl)-bu,Bl==="auto"&&(Bl="right")):Cl.indexOf("left")!==-1?(mu=Math.min(Sl,Tl)+bu,Bl==="auto"&&(Bl="left")):(mu=(Sl+Tl)/2,Bl==="auto"&&(Bl="center")),Cl.indexOf("top")!==-1?Pu=Math.min(Pl,El):Cl.indexOf("bottom")!==-1?Pu=Math.max(Pl,El):Pu=(Pl+El)/2,Fu=Il,$u==="bottom"?Pu=Pu-Fu:$u==="top"&&(Pu=Pu+Fu);var ap=ot[$u],rp=Ml.label.font.size,sp=Bn.height,bp=(sp*ap-rp)*Jl,Cp=-(sp*ap-rp)*Kl;return{textx:mu+bp,texty:Pu+Cp,xanchor:Bl}}}),Vu=a((yu,hu)=>{var jt=gu(),it=jt.strTranslate,st=Pm(),Ln=Fy(),Ft=Ln.drawMode,Fn=Ln.selectMode,zn=N1(),yl=D0(),ot=Jy(),_l=ot.i000,ls=ot.i090,Sl=ot.i180,Pl=ot.i270,Tl=ev(),El=Tl.clearOutlineControllers,Ml=ty(),Rl=Ml.pointsOnRectangle,Bn=Ml.pointsOnEllipse,Cl=Ml.writePaths,Al=Cy().newShapes,Il=Cy().createShapeObj,$l=My(),Bu=$p();hu.exports=function $u(mu,Pu,bu,Fu){Fu||(Fu=0);var Hu=bu.gd;function Gu(){$u(mu,Pu,bu,Fu++),(Bn(mu[0])||bu.hasText)&&Xl({redrawing:!0})}function Xl(f0){var d0={};bu.isActiveShape!==void 0&&(bu.isActiveShape=!1,d0=Al(Pu,bu)),bu.isActiveSelection!==void 0&&(bu.isActiveSelection=!1,d0=$l(Pu,bu),Hu._fullLayout._reselect=!0),Object.keys(d0).length&&zn.call((f0||{}).redrawing?"relayout":"_guiRelayout",Hu,d0)}var Wu=Hu._fullLayout,Yu=Wu._zoomlayer,ap=bu.dragmode,rp=Ft(ap),sp=Fn(ap);(rp||sp)&&(Hu._fullLayout._outlining=!0),El(Hu),Pu.attr("d",Cl(mu));var bp,Cp,Ap,Lu,Nu;if(!Fu&&(bu.isActiveShape||bu.isActiveSelection)){Nu=Jl([],mu);var Hl=Yu.append("g").attr("class","outline-controllers");ip(Hl),C0()}if(rp&&bu.hasText){var qu=Yu.select(".label-temp"),np=Il(Pu,bu,bu.dragmode);Bu(Hu,"label-temp",np,qu)}function vu(f0){Ap=+f0.srcElement.getAttribute("data-i"),Lu=+f0.srcElement.getAttribute("data-j"),bp[Ap][Lu].moveFn=Ol}function Ol(f0,d0){if(mu.length){var Sp=Nu[Ap][Lu][1],Fp=Nu[Ap][Lu][2],cp=mu[Ap],jp=cp.length;if(Rl(cp)){var a0=f0,y0=d0;if(bu.isActiveSelection){var P0=Kl(cp,Lu);P0[1]===cp[Lu][1]?y0=0:a0=0}for(var E0=0;E0<jp;E0++)if(E0!==Lu){var O0=cp[E0];O0[1]===cp[Lu][1]&&(O0[1]=Sp+a0),O0[2]===cp[Lu][2]&&(O0[2]=Fp+y0)}if(cp[Lu][1]=Sp+a0,cp[Lu][2]=Fp+y0,!Rl(cp))for(var j0=0;j0<jp;j0++)for(var $0=0;$0<cp[j0].length;$0++)cp[j0][$0]=Nu[Ap][j0][$0]}else cp[Lu][1]=Sp+f0,cp[Lu][2]=Fp+d0;Gu()}}function Wl(){Xl()}function Mu(){if(mu.length&&mu[Ap]&&mu[Ap].length){for(var f0=[],d0=0;d0<mu[Ap].length;d0++)d0!==Lu&&f0.push(mu[Ap][d0]);f0.length>1&&!(f0.length===2&&f0[1][0]==="Z")&&(Lu===0&&(f0[0][0]="M"),mu[Ap]=f0,Gu(),Xl())}}function zu(f0,d0){if(f0===2){Ap=+d0.srcElement.getAttribute("data-i"),Lu=+d0.srcElement.getAttribute("data-j");var Sp=mu[Ap];!Rl(Sp)&&!Bn(Sp)&&Mu()}}function ip(f0){bp=[];for(var d0=0;d0<mu.length;d0++){var Sp=mu[d0],Fp=Rl(Sp),cp=!Fp&&Bn(Sp);bp[d0]=[];for(var jp=Sp.length,a0=0;a0<jp;a0++)if(Sp[a0][0]!=="Z"&&!(cp&&a0!==_l&&a0!==ls&&a0!==Sl&&a0!==Pl)){var y0=Fp&&bu.isActiveSelection,P0;y0&&(P0=Kl(Sp,a0));var E0=Sp[a0][1],O0=Sp[a0][2],j0=f0.append(y0?"rect":"circle").attr("data-i",d0).attr("data-j",a0).style({fill:yl.background,stroke:yl.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(y0){var $0=P0[1]-E0,tm=P0[2]-O0,A0=tm?5:Math.max(Math.min(25,Math.abs($0)-5),5),sm=$0?5:Math.max(Math.min(25,Math.abs(tm)-5),5);j0.classed(tm?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",A0).attr("height",sm).attr("x",E0-A0/2).attr("y",O0-sm/2).attr("transform",it($0/2,tm/2))}else j0.classed("cursor-grab",!0).attr("r",5).attr("cx",E0).attr("cy",O0);bp[d0][a0]={element:j0.node(),gd:Hu,prepFn:vu,doneFn:Wl,clickFn:zu},st.init(bp[d0][a0])}}}function pp(f0,d0){if(mu.length)for(var Sp=0;Sp<mu.length;Sp++)for(var Fp=0;Fp<mu[Sp].length;Fp++)for(var cp=0;cp+2<mu[Sp][Fp].length;cp+=2)mu[Sp][Fp][cp+1]=Nu[Sp][Fp][cp+1]+f0,mu[Sp][Fp][cp+2]=Nu[Sp][Fp][cp+2]+d0}function vp(f0,d0){pp(f0,d0),Gu()}function Pp(f0){Ap=+f0.srcElement.getAttribute("data-i"),Ap||(Ap=0),Cp[Ap].moveFn=vp}function Gp(){Xl()}function r0(f0){f0===2&&Bl(Hu)}function C0(){if(Cp=[],!!mu.length){var f0=0;Cp[f0]={element:Pu[0][0],gd:Hu,prepFn:Pp,doneFn:Gp,clickFn:r0},st.init(Cp[f0])}}};function Jl($u,mu){for(var Pu=0;Pu<mu.length;Pu++){var bu=mu[Pu];$u[Pu]=[];for(var Fu=0;Fu<bu.length;Fu++){$u[Pu][Fu]=[];for(var Hu=0;Hu<bu[Fu].length;Hu++)$u[Pu][Fu][Hu]=bu[Fu][Hu]}}return $u}function Kl($u,mu){var Pu=$u[mu][1],bu=$u[mu][2],Fu=$u.length,Hu,Gu,Xl;return Hu=(mu+1)%Fu,Gu=$u[Hu][1],Xl=$u[Hu][2],Gu===Pu&&Xl===bu&&(Hu=(mu+2)%Fu,Gu=$u[Hu][1],Xl=$u[Hu][2]),[Hu,Gu,Xl]}function Bl($u){if(Fn($u._fullLayout.dragmode)){El($u);var mu=$u._fullLayout._activeSelectionIndex,Pu=($u.layout||{}).selections||[];if(mu<Pu.length){for(var bu=[],Fu=0;Fu<Pu.length;Fu++)Fu!==mu&&bu.push(Pu[Fu]);delete $u._fullLayout._activeSelectionIndex;var Hu=$u._fullLayout.selections[mu];$u._fullLayout._deselect={xref:Hu.xref,yref:Hu.yref},zn.call("_guiRelayout",$u,{selections:bu})}}}}),G0=a((yu,hu)=>{var jt=g(),it=N1(),st=gu(),Ln=bm(),Ft=ty().readPaths,Fn=Vu(),zn=$p(),yl=ev().clearOutlineControllers,ot=D0(),_l=q0(),ls=d1().arrayEditor,Sl=Pm(),Pl=y1(),Tl=Ay(),El=Ql(),Ml=El.getPathString;hu.exports={draw:Rl,drawOne:Al,eraseActiveShape:Bl,drawLabel:zn};function Rl($u){var mu=$u._fullLayout;mu._shapeUpperLayer.selectAll("path").remove(),mu._shapeLowerLayer.selectAll("path").remove(),mu._shapeUpperLayer.selectAll("text").remove(),mu._shapeLowerLayer.selectAll("text").remove();for(var Pu in mu._plots){var bu=mu._plots[Pu].shapelayer;bu&&(bu.selectAll("path").remove(),bu.selectAll("text").remove())}for(var Fu=0;Fu<mu.shapes.length;Fu++)mu.shapes[Fu].visible===!0&&Al($u,Fu)}function Bn($u){return!!$u._fullLayout._outlining}function Cl($u){return!$u._context.edits.shapePosition}function Al($u,mu){$u._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+mu+'"]').remove();var Pu=El.makeShapesOptionsAndPlotinfo($u,mu),bu=Pu.options,Fu=Pu.plotinfo;if(!bu._input||bu.visible!==!0)return;if(bu.layer==="above")Gu($u._fullLayout._shapeUpperLayer);else if(bu.xref==="paper"||bu.yref==="paper")Gu($u._fullLayout._shapeLowerLayer);else if(bu.layer==="between")Gu(Fu.shapelayerBetween);else if(Fu._hadPlotinfo){var Hu=Fu.mainplotinfo||Fu;Gu(Hu.shapelayer)}else Gu($u._fullLayout._shapeLowerLayer);function Gu(Xl){var Wu=Ml($u,bu),Yu={"data-index":mu,"fill-rule":bu.fillrule,d:Wu},ap=bu.opacity,rp=bu.fillcolor,sp=bu.line.width?bu.line.color:"rgba(0,0,0,0)",bp=bu.line.width,Cp=bu.line.dash;!bp&&bu.editable===!0&&(bp=5,Cp="solid");var Ap=Wu[Wu.length-1]!=="Z",Lu=Cl($u)&&bu.editable&&$u._fullLayout._activeShapeIndex===mu;Lu&&(rp=Ap?"rgba(0,0,0,0)":$u._fullLayout.activeshape.fillcolor,ap=$u._fullLayout.activeshape.opacity);var Nu=Xl.append("g").classed("shape-group",!0).attr({"data-index":mu}),Hl=Nu.append("path").attr(Yu).style("opacity",ap).call(ot.stroke,sp).call(ot.fill,rp).call(_l.dashLine,Cp,bp);Il(Nu,$u,bu),zn($u,mu,bu,Nu);var qu;if((Lu||$u._context.edits.shapePosition)&&(qu=ls($u.layout,"shapes",bu)),Lu){Hl.style({cursor:"move"});var np={element:Hl.node(),plotinfo:Fu,gd:$u,editHelpers:qu,hasText:bu.label.text||bu.label.texttemplate,isActiveShape:!0},vu=Ft(Wu,$u);Fn(vu,Hl,np)}else $u._context.edits.shapePosition?$l($u,Hl,bu,mu,Xl,qu):bu.editable===!0&&Hl.style("pointer-events",Ap||ot.opacity(rp)*ap<=.5?"stroke":"all");Hl.node().addEventListener("click",function(){return Jl($u,Hl)})}}function Il($u,mu,Pu){var bu=(Pu.xref+Pu.yref).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");_l.setClipUrl($u,bu?"clip"+mu._fullLayout._uid+bu:null,mu)}function $l($u,mu,Pu,bu,Fu,Hu){var Gu=10,Xl=10,Wu=Pu.xsizemode==="pixel",Yu=Pu.ysizemode==="pixel",ap=Pu.type==="line",rp=Pu.type==="path",sp=Hu.modifyItem,bp,Cp,Ap,Lu,Nu,Hl,qu,np,vu,Ol,Wl,Mu,zu,ip,pp,vp=jt.select(mu.node().parentNode),Pp=Ln.getFromId($u,Pu.xref),Gp=Ln.getRefType(Pu.xref),r0=Ln.getFromId($u,Pu.yref),C0=Ln.getRefType(Pu.yref),f0=Pu.x0shift,d0=Pu.x1shift,Sp=Pu.y0shift,Fp=Pu.y1shift,cp=function(hp,yp){var Dp=El.getDataToPixel($u,Pp,yp,!1,Gp);return Dp(hp)},jp=function(hp,yp){var Dp=El.getDataToPixel($u,r0,yp,!0,C0);return Dp(hp)},a0=El.getPixelToData($u,Pp,!1,Gp),y0=El.getPixelToData($u,r0,!0,C0),P0=j0(),E0={element:P0.node(),gd:$u,prepFn:A0,doneFn:sm,clickFn:pm},O0;Sl.init(E0),P0.node().onmousemove=tm;function j0(){return ap?$0():mu}function $0(){var hp=10,yp=Math.max(Pu.line.width,hp),Dp=Fu.append("g").attr("data-index",bu).attr("drag-helper",!0);Dp.append("path").attr("d",mu.attr("d")).style({cursor:"move","stroke-width":yp,"stroke-opacity":"0"});var Bp={"fill-opacity":"0"},Jp=Math.max(yp/2,hp);return Dp.append("circle").attr({"data-line-point":"start-point",cx:Wu?cp(Pu.xanchor)+Pu.x0:cp(Pu.x0,f0),cy:Yu?jp(Pu.yanchor)-Pu.y0:jp(Pu.y0,Sp),r:Jp}).style(Bp).classed("cursor-grab",!0),Dp.append("circle").attr({"data-line-point":"end-point",cx:Wu?cp(Pu.xanchor)+Pu.x1:cp(Pu.x1,d0),cy:Yu?jp(Pu.yanchor)-Pu.y1:jp(Pu.y1,Fp),r:Jp}).style(Bp).classed("cursor-grab",!0),Dp}function tm(hp){if(Bn($u)){O0=null;return}if(ap)hp.target.tagName==="path"?O0="move":O0=hp.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var yp=E0.element.getBoundingClientRect(),Dp=yp.right-yp.left,Bp=yp.bottom-yp.top,Jp=hp.clientX-yp.left,n0=hp.clientY-yp.top,b0=!rp&&Dp>Gu&&Bp>Xl&&!hp.shiftKey?Sl.getCursor(Jp/Dp,1-n0/Bp):"move";Pl(mu,b0),O0=b0.split("-")[0]}}function A0(hp){Bn($u)||(Wu&&(Nu=cp(Pu.xanchor)),Yu&&(Hl=jp(Pu.yanchor)),Pu.type==="path"?pp=Pu.path:(bp=Wu?Pu.x0:cp(Pu.x0),Cp=Yu?Pu.y0:jp(Pu.y0),Ap=Wu?Pu.x1:cp(Pu.x1),Lu=Yu?Pu.y1:jp(Pu.y1)),bp<Ap?(vu=bp,zu="x0",Ol=Ap,ip="x1"):(vu=Ap,zu="x1",Ol=bp,ip="x0"),!Yu&&Cp<Lu||Yu&&Cp>Lu?(qu=Cp,Wl="y0",np=Lu,Mu="y1"):(qu=Lu,Wl="y1",np=Cp,Mu="y0"),tm(hp),kp(Fu,Pu),Xu(mu,Pu,$u),E0.moveFn=O0==="move"?nm:vm,E0.altKey=hp.altKey)}function sm(){Bn($u)||(Pl(mu),qp(Fu),Il(mu,$u,Pu),it.call("_guiRelayout",$u,Hu.getUpdateObj()))}function pm(){Bn($u)||qp(Fu)}function nm(hp,yp){if(Pu.type==="path"){var Dp=function(n0){return n0},Bp=Dp,Jp=Dp;Wu?sp("xanchor",Pu.xanchor=a0(Nu+hp)):(Bp=function(n0){return a0(cp(n0)+hp)},Pp&&Pp.type==="date"&&(Bp=El.encodeDate(Bp))),Yu?sp("yanchor",Pu.yanchor=y0(Hl+yp)):(Jp=function(n0){return y0(jp(n0)+yp)},r0&&r0.type==="date"&&(Jp=El.encodeDate(Jp))),sp("path",Pu.path=Bu(pp,Bp,Jp))}else Wu?sp("xanchor",Pu.xanchor=a0(Nu+hp)):(sp("x0",Pu.x0=a0(bp+hp)),sp("x1",Pu.x1=a0(Ap+hp))),Yu?sp("yanchor",Pu.yanchor=y0(Hl+yp)):(sp("y0",Pu.y0=y0(Cp+yp)),sp("y1",Pu.y1=y0(Lu+yp)));mu.attr("d",Ml($u,Pu)),kp(Fu,Pu),zn($u,bu,Pu,vp)}function vm(hp,yp){if(rp){var Dp=function(xm){return xm},Bp=Dp,Jp=Dp;Wu?sp("xanchor",Pu.xanchor=a0(Nu+hp)):(Bp=function(xm){return a0(cp(xm)+hp)},Pp&&Pp.type==="date"&&(Bp=El.encodeDate(Bp))),Yu?sp("yanchor",Pu.yanchor=y0(Hl+yp)):(Jp=function(xm){return y0(jp(xm)+yp)},r0&&r0.type==="date"&&(Jp=El.encodeDate(Jp))),sp("path",Pu.path=Bu(pp,Bp,Jp))}else if(ap){if(O0==="resize-over-start-point"){var n0=bp+hp,b0=Yu?Cp-yp:Cp+yp;sp("x0",Pu.x0=Wu?n0:a0(n0)),sp("y0",Pu.y0=Yu?b0:y0(b0))}else if(O0==="resize-over-end-point"){var v0=Ap+hp,x0=Yu?Lu-yp:Lu+yp;sp("x1",Pu.x1=Wu?v0:a0(v0)),sp("y1",Pu.y1=Yu?x0:y0(x0))}}else{var U0=function(xm){return O0.indexOf(xm)!==-1},W0=U0("n"),Y0=U0("s"),gm=U0("w"),Dm=U0("e"),Jm=W0?qu+yp:qu,a1=Y0?np+yp:np,h1=gm?vu+hp:vu,zm=Dm?Ol+hp:Ol;Yu&&(W0&&(Jm=qu-yp),Y0&&(a1=np-yp)),(!Yu&&a1-Jm>Xl||Yu&&Jm-a1>Xl)&&(sp(Wl,Pu[Wl]=Yu?Jm:y0(Jm)),sp(Mu,Pu[Mu]=Yu?a1:y0(a1))),zm-h1>Gu&&(sp(zu,Pu[zu]=Wu?h1:a0(h1)),sp(ip,Pu[ip]=Wu?zm:a0(zm)))}mu.attr("d",Ml($u,Pu)),kp(Fu,Pu),zn($u,bu,Pu,vp)}function kp(hp,yp){(Wu||Yu)&&Dp();function Dp(){var Bp=yp.type!=="path",Jp=hp.selectAll(".visual-cue").data([0]),n0=1;Jp.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":n0}).classed("visual-cue",!0);var b0=cp(Wu?yp.xanchor:st.midRange(Bp?[yp.x0,yp.x1]:El.extractPathCoords(yp.path,Tl.paramIsX))),v0=jp(Yu?yp.yanchor:st.midRange(Bp?[yp.y0,yp.y1]:El.extractPathCoords(yp.path,Tl.paramIsY)));if(b0=El.roundPositionForSharpStrokeRendering(b0,n0),v0=El.roundPositionForSharpStrokeRendering(v0,n0),Wu&&Yu){var x0="M"+(b0-1-n0)+","+(v0-1-n0)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Jp.attr("d",x0)}else if(Wu){var U0="M"+(b0-1-n0)+","+(v0-9-n0)+"v18 h2 v-18 Z";Jp.attr("d",U0)}else{var W0="M"+(b0-9-n0)+","+(v0-1-n0)+"h18 v2 h-18 Z";Jp.attr("d",W0)}}}function qp(hp){hp.selectAll(".visual-cue").remove()}function Xu(hp,yp,Dp){var Bp=yp.xref,Jp=yp.yref,n0=Ln.getFromId(Dp,Bp),b0=Ln.getFromId(Dp,Jp),v0="";Bp!=="paper"&&!n0.autorange&&(v0+=Bp),Jp!=="paper"&&!b0.autorange&&(v0+=Jp),_l.setClipUrl(hp,v0?"clip"+Dp._fullLayout._uid+v0:null,Dp)}}function Bu($u,mu,Pu){return $u.replace(Tl.segmentRE,function(bu){var Fu=0,Hu=bu.charAt(0),Gu=Tl.paramIsX[Hu],Xl=Tl.paramIsY[Hu],Wu=Tl.numParams[Hu],Yu=bu.substr(1).replace(Tl.paramRE,function(ap){return Fu>=Wu||(Gu[Fu]?ap=mu(ap):Xl[Fu]&&(ap=Pu(ap)),Fu++),ap});return Hu+Yu})}function Jl($u,mu){if(Cl($u)){var Pu=mu.node(),bu=+Pu.getAttribute("data-index");if(bu>=0){if(bu===$u._fullLayout._activeShapeIndex){Kl($u);return}$u._fullLayout._activeShapeIndex=bu,$u._fullLayout._deactivateShape=Kl,Rl($u)}}}function Kl($u){if(Cl($u)){var mu=$u._fullLayout._activeShapeIndex;mu>=0&&(yl($u),delete $u._fullLayout._activeShapeIndex,Rl($u))}}function Bl($u){if(Cl($u)){yl($u);var mu=$u._fullLayout._activeShapeIndex,Pu=($u.layout||{}).shapes||[];if(mu<Pu.length){for(var bu=[],Fu=0;Fu<Pu.length;Fu++)Fu!==mu&&bu.push(Pu[Fu]);return delete $u._fullLayout._activeShapeIndex,it.call("_guiRelayout",$u,{shapes:bu})}}}}),N0=a((yu,hu)=>{var jt=N1(),it=_v(),st=rv(),Ln=a2(),Ft=G0().eraseActiveShape,Fn=gu(),zn=Fn._,yl=hu.exports={};yl.toImage={name:"toImage",title:function($l){var Bu=$l._context.toImageButtonOptions||{},Jl=Bu.format||"png";return Jl==="png"?zn($l,"Download plot as a PNG"):zn($l,"Download plot")},icon:Ln.camera,click:function($l){var Bu=$l._context.toImageButtonOptions,Jl={format:Bu.format||"png"};Fn.notifier(zn($l,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(Kl){Kl in Bu&&(Jl[Kl]=Bu[Kl])}),jt.call("downloadImage",$l,Jl).then(function(Kl){Fn.notifier(zn($l,"Snapshot succeeded")+" - "+Kl,"long")}).catch(function(){Fn.notifier(zn($l,"Sorry, there was a problem downloading your snapshot!"),"long")})}},yl.sendDataToCloud={name:"sendDataToCloud",title:function($l){return zn($l,"Edit in Chart Studio")},icon:Ln.disk,click:function($l){it.sendDataToCloud($l)}},yl.editInChartStudio={name:"editInChartStudio",title:function($l){return zn($l,"Edit in Chart Studio")},icon:Ln.pencil,click:function($l){it.sendDataToCloud($l)}},yl.zoom2d={name:"zoom2d",_cat:"zoom",title:function($l){return zn($l,"Zoom")},attr:"dragmode",val:"zoom",icon:Ln.zoombox,click:ot},yl.pan2d={name:"pan2d",_cat:"pan",title:function($l){return zn($l,"Pan")},attr:"dragmode",val:"pan",icon:Ln.pan,click:ot},yl.select2d={name:"select2d",_cat:"select",title:function($l){return zn($l,"Box Select")},attr:"dragmode",val:"select",icon:Ln.selectbox,click:ot},yl.lasso2d={name:"lasso2d",_cat:"lasso",title:function($l){return zn($l,"Lasso Select")},attr:"dragmode",val:"lasso",icon:Ln.lasso,click:ot},yl.drawclosedpath={name:"drawclosedpath",title:function($l){return zn($l,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:Ln.drawclosedpath,click:ot},yl.drawopenpath={name:"drawopenpath",title:function($l){return zn($l,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:Ln.drawopenpath,click:ot},yl.drawline={name:"drawline",title:function($l){return zn($l,"Draw line")},attr:"dragmode",val:"drawline",icon:Ln.drawline,click:ot},yl.drawrect={name:"drawrect",title:function($l){return zn($l,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:Ln.drawrect,click:ot},yl.drawcircle={name:"drawcircle",title:function($l){return zn($l,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:Ln.drawcircle,click:ot},yl.eraseshape={name:"eraseshape",title:function($l){return zn($l,"Erase active shape")},icon:Ln.eraseshape,click:Ft},yl.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function($l){return zn($l,"Zoom in")},attr:"zoom",val:"in",icon:Ln.zoom_plus,click:ot},yl.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function($l){return zn($l,"Zoom out")},attr:"zoom",val:"out",icon:Ln.zoom_minus,click:ot},yl.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function($l){return zn($l,"Autoscale")},attr:"zoom",val:"auto",icon:Ln.autoscale,click:ot},yl.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function($l){return zn($l,"Reset axes")},attr:"zoom",val:"reset",icon:Ln.home,click:ot},yl.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function($l){return zn($l,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:Ln.tooltip_basic,gravity:"ne",click:ot},yl.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function($l){return zn($l,"Compare data on hover")},attr:"hovermode",val:function($l){return $l._fullLayout._isHoriz?"y":"x"},icon:Ln.tooltip_compare,gravity:"ne",click:ot};function ot($l,Bu){var Jl=Bu.currentTarget,Kl=Jl.getAttribute("data-attr"),Bl=Jl.getAttribute("data-val")||!0,$u=$l._fullLayout,mu={},Pu=st.list($l,null,!0),bu=$u._cartesianSpikesEnabled,Fu,Hu;if(Kl==="zoom"){var Gu=Bl==="in"?.5:2,Xl=(1+Gu)/2,Wu=(1-Gu)/2,Yu,ap;for(Hu=0;Hu<Pu.length;Hu++)if(Fu=Pu[Hu],ap=Fu.modebardisable==="none"||Fu.modebardisable.indexOf(Bl==="auto"||Bl==="reset"?"autoscale":"zoominout")===-1,ap&&!Fu.fixedrange)if(Yu=Fu._name,Bl==="auto")mu[Yu+".autorange"]=!0;else if(Bl==="reset")Fu._rangeInitial0===void 0&&Fu._rangeInitial1===void 0?mu[Yu+".autorange"]=!0:Fu._rangeInitial0===void 0?(mu[Yu+".autorange"]=Fu._autorangeInitial,mu[Yu+".range"]=[null,Fu._rangeInitial1]):Fu._rangeInitial1===void 0?(mu[Yu+".range"]=[Fu._rangeInitial0,null],mu[Yu+".autorange"]=Fu._autorangeInitial):mu[Yu+".range"]=[Fu._rangeInitial0,Fu._rangeInitial1],Fu._showSpikeInitial!==void 0&&(mu[Yu+".showspikes"]=Fu._showSpikeInitial,bu==="on"&&!Fu._showSpikeInitial&&(bu="off"));else{var rp=[Fu.r2l(Fu.range[0]),Fu.r2l(Fu.range[1])],sp=[Xl*rp[0]+Wu*rp[1],Xl*rp[1]+Wu*rp[0]];mu[Yu+".range[0]"]=Fu.l2r(sp[0]),mu[Yu+".range[1]"]=Fu.l2r(sp[1])}}else Kl==="hovermode"&&(Bl==="x"||Bl==="y")&&(Bl=$u._isHoriz?"y":"x",Jl.setAttribute("data-val",Bl)),mu[Kl]=Bl;$u._cartesianSpikesEnabled=bu,jt.call("_guiRelayout",$l,mu)}yl.zoom3d={name:"zoom3d",_cat:"zoom",title:function($l){return zn($l,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:Ln.zoombox,click:_l},yl.pan3d={name:"pan3d",_cat:"pan",title:function($l){return zn($l,"Pan")},attr:"scene.dragmode",val:"pan",icon:Ln.pan,click:_l},yl.orbitRotation={name:"orbitRotation",title:function($l){return zn($l,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:Ln["3d_rotate"],click:_l},yl.tableRotation={name:"tableRotation",title:function($l){return zn($l,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:Ln["z-axis"],click:_l};function _l($l,Bu){for(var Jl=Bu.currentTarget,Kl=Jl.getAttribute("data-attr"),Bl=Jl.getAttribute("data-val")||!0,$u=$l._fullLayout._subplots.gl3d||[],mu={},Pu=Kl.split("."),bu=0;bu<$u.length;bu++)mu[$u[bu]+"."+Pu[1]]=Bl;var Fu=Bl==="pan"?Bl:"zoom";mu.dragmode=Fu,jt.call("_guiRelayout",$l,mu)}yl.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function($l){return zn($l,"Reset camera to default")},attr:"resetDefault",icon:Ln.home,click:ls},yl.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function($l){return zn($l,"Reset camera to last save")},attr:"resetLastSave",icon:Ln.movie,click:ls};function ls($l,Bu){for(var Jl=Bu.currentTarget,Kl=Jl.getAttribute("data-attr"),Bl=Kl==="resetLastSave",$u=Kl==="resetDefault",mu=$l._fullLayout,Pu=mu._subplots.gl3d||[],bu={},Fu=0;Fu<Pu.length;Fu++){var Hu=Pu[Fu],Gu=Hu+".camera",Xl=Hu+".aspectratio",Wu=Hu+".aspectmode",Yu=mu[Hu]._scene,ap;Bl?(bu[Gu+".up"]=Yu.viewInitial.up,bu[Gu+".eye"]=Yu.viewInitial.eye,bu[Gu+".center"]=Yu.viewInitial.center,ap=!0):$u&&(bu[Gu+".up"]=null,bu[Gu+".eye"]=null,bu[Gu+".center"]=null,ap=!0),ap&&(bu[Xl+".x"]=Yu.viewInitial.aspectratio.x,bu[Xl+".y"]=Yu.viewInitial.aspectratio.y,bu[Xl+".z"]=Yu.viewInitial.aspectratio.z,bu[Wu]=Yu.viewInitial.aspectmode)}jt.call("_guiRelayout",$l,bu)}yl.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function($l){return zn($l,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Ln.tooltip_basic,gravity:"ne",click:Pl};function Sl($l,Bu){var Jl=Bu.currentTarget,Kl=Jl._previousVal,Bl=$l._fullLayout,$u=Bl._subplots.gl3d||[],mu=["xaxis","yaxis","zaxis"],Pu={},bu={};if(Kl)bu=Kl,Jl._previousVal=null;else{for(var Fu=0;Fu<$u.length;Fu++){var Hu=$u[Fu],Gu=Bl[Hu],Xl=Hu+".hovermode";Pu[Xl]=Gu.hovermode,bu[Xl]=!1;for(var Wu=0;Wu<3;Wu++){var Yu=mu[Wu],ap=Hu+"."+Yu+".showspikes";bu[ap]=!1,Pu[ap]=Gu[Yu].showspikes}}Jl._previousVal=Pu}return bu}function Pl($l,Bu){var Jl=Sl($l,Bu);jt.call("_guiRelayout",$l,Jl)}yl.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function($l){return zn($l,"Zoom in")},attr:"zoom",val:"in",icon:Ln.zoom_plus,click:Tl},yl.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function($l){return zn($l,"Zoom out")},attr:"zoom",val:"out",icon:Ln.zoom_minus,click:Tl},yl.resetGeo={name:"resetGeo",_cat:"reset",title:function($l){return zn($l,"Reset")},attr:"reset",val:null,icon:Ln.autoscale,click:Tl},yl.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function($l){return zn($l,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Ln.tooltip_basic,gravity:"ne",click:Ml};function Tl($l,Bu){for(var Jl=Bu.currentTarget,Kl=Jl.getAttribute("data-attr"),Bl=Jl.getAttribute("data-val")||!0,$u=$l._fullLayout,mu=$u._subplots.geo||[],Pu=0;Pu<mu.length;Pu++){var bu=mu[Pu],Fu=$u[bu];if(Kl==="zoom"){var Hu=Fu.projection.scale,Gu=Bl==="in"?2*Hu:.5*Hu;jt.call("_guiRelayout",$l,bu+".projection.scale",Gu)}}Kl==="reset"&&Il($l,"geo")}yl.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function($l){return zn($l,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:Ln.tooltip_basic,gravity:"ne",click:Ml};function El($l){var Bu=$l._fullLayout;return Bu.hovermode?!1:Bu._has("cartesian")?Bu._isHoriz?"y":"x":"closest"}function Ml($l){var Bu=El($l);jt.call("_guiRelayout",$l,"hovermode",Bu)}yl.resetViewSankey={name:"resetSankeyGroup",title:function($l){return zn($l,"Reset view")},icon:Ln.home,click:function($l){for(var Bu={"node.groups":[],"node.x":[],"node.y":[]},Jl=0;Jl<$l._fullData.length;Jl++){var Kl=$l._fullData[Jl]._viewInitial;Bu["node.groups"].push(Kl.node.groups.slice()),Bu["node.x"].push(Kl.node.x.slice()),Bu["node.y"].push(Kl.node.y.slice())}jt.call("restyle",$l,Bu)}},yl.toggleHover={name:"toggleHover",title:function($l){return zn($l,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:Ln.tooltip_basic,gravity:"ne",click:function($l,Bu){var Jl=Sl($l,Bu);Jl.hovermode=El($l),jt.call("_guiRelayout",$l,Jl)}},yl.resetViews={name:"resetViews",title:function($l){return zn($l,"Reset views")},icon:Ln.home,click:function($l,Bu){var Jl=Bu.currentTarget;Jl.setAttribute("data-attr","zoom"),Jl.setAttribute("data-val","reset"),ot($l,Bu),Jl.setAttribute("data-attr","resetLastSave"),ls($l,Bu),Il($l,"geo"),Il($l,"mapbox"),Il($l,"map")}},yl.toggleSpikelines={name:"toggleSpikelines",title:function($l){return zn($l,"Toggle Spike Lines")},icon:Ln.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function($l){var Bu=$l._fullLayout,Jl=Bu._cartesianSpikesEnabled;Bu._cartesianSpikesEnabled=Jl==="on"?"off":"on",jt.call("_guiRelayout",$l,Rl($l))}};function Rl($l){for(var Bu=$l._fullLayout,Jl=Bu._cartesianSpikesEnabled==="on",Kl=st.list($l,null,!0),Bl={},$u=0;$u<Kl.length;$u++){var mu=Kl[$u];Bl[mu._name+".showspikes"]=Jl?!0:mu._showSpikeInitial}return Bl}yl.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function($l){return zn($l,"Reset view")},attr:"reset",icon:Ln.home,click:function($l){Il($l,"mapbox")}},yl.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function($l){return zn($l,"Reset view")},attr:"reset",icon:Ln.home,click:function($l){Il($l,"map")}},yl.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function($l){return zn($l,"Zoom in")},attr:"zoom",val:"in",icon:Ln.zoom_plus,click:Bn},yl.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function($l){return zn($l,"Zoom in")},attr:"zoom",val:"in",icon:Ln.zoom_plus,click:Cl},yl.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function($l){return zn($l,"Zoom out")},attr:"zoom",val:"out",icon:Ln.zoom_minus,click:Bn},yl.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function($l){return zn($l,"Zoom out")},attr:"zoom",val:"out",icon:Ln.zoom_minus,click:Cl};function Bn($l,Bu){Al($l,Bu,"mapbox")}function Cl($l,Bu){Al($l,Bu,"map")}function Al($l,Bu,Jl){for(var Kl=Bu.currentTarget,Bl=Kl.getAttribute("data-val"),$u=$l._fullLayout,mu=$u._subplots[Jl]||[],Pu=1.05,bu={},Fu=0;Fu<mu.length;Fu++){var Hu=mu[Fu],Gu=$u[Hu].zoom,Xl=Bl==="in"?Pu*Gu:Gu/Pu;bu[Hu+".zoom"]=Xl}jt.call("_guiRelayout",$l,bu)}function Il($l,Bu){for(var Jl=$l._fullLayout,Kl=Jl._subplots[Bu]||[],Bl={},$u=0;$u<Kl.length;$u++)for(var mu=Kl[$u],Pu=Jl[mu]._subplot,bu=Pu.viewInitial,Fu=Object.keys(bu),Hu=0;Hu<Fu.length;Hu++){var Gu=Fu[Hu];Bl[mu+"."+Gu]=bu[Gu]}jt.call("_guiRelayout",$l,Bl)}}),I0=a((yu,hu)=>{var jt=N0(),it=Object.keys(jt),st=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],Ln=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(st),Ft=[],Fn=function(zn){if(Ln.indexOf(zn._cat||zn.name)===-1){var yl=zn.name,ot=(zn._cat||zn.name).toLowerCase();Ft.indexOf(yl)===-1&&Ft.push(yl),Ft.indexOf(ot)===-1&&Ft.push(ot)}};it.forEach(function(zn){Fn(jt[zn])}),Ft.sort(),hu.exports={DRAW_MODES:st,backButtons:Ln,foreButtons:Ft}}),km=a((yu,hu)=>{I0(),hu.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}),im=a((yu,hu)=>{var jt=gu(),it=D0(),st=d1(),Ln=km();hu.exports=function(Ft,Fn){var zn=Ft.modebar||{},yl=st.newContainer(Fn,"modebar");function ot(ls,Sl){return jt.coerce(zn,yl,Ln,ls,Sl)}ot("orientation"),ot("bgcolor",it.addOpacity(Fn.paper_bgcolor,.5));var _l=it.contrast(it.rgb(Fn.modebar.bgcolor));ot("color",it.addOpacity(_l,.3)),ot("activecolor",it.addOpacity(_l,.7)),ot("uirevision",Fn.uirevision),ot("add"),ot("remove")}}),f1=a((yu,hu)=>{var jt=g(),it=rt(),st=gu(),Ln=a2(),Ft=c().version,Fn=new DOMParser;function zn(ls){this.container=ls.container,this.element=document.createElement("div"),this.update(ls.graphInfo,ls.buttons),this.container.appendChild(this.element)}var yl=zn.prototype;yl.update=function(ls,Sl){this.graphInfo=ls;var Pl=this.graphInfo._context,Tl=this.graphInfo._fullLayout,El="modebar-"+Tl._uid;this.element.setAttribute("id",El),this.element.setAttribute("role","toolbar"),this._uid=El,this.element.className="modebar modebar--custom",Pl.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),Tl.modebar.orientation==="v"&&(this.element.className+=" vertical",Sl=Sl.reverse());var Ml=Tl.modebar,Rl="#"+El+" .modebar-group";document.querySelectorAll(Rl).forEach(function($l){$l.style.backgroundColor=Ml.bgcolor});var Bn=!this.hasButtons(Sl),Cl=this.hasLogo!==Pl.displaylogo,Al=this.locale!==Pl.locale;if(this.locale=Pl.locale,(Bn||Cl||Al)&&(this.removeAllButtons(),this.updateButtons(Sl),Pl.watermark||Pl.displaylogo)){var Il=this.getLogo();Pl.watermark&&(Il.className=Il.className+" watermark"),Tl.modebar.orientation==="v"?this.element.insertBefore(Il,this.element.childNodes[0]):this.element.appendChild(Il),this.hasLogo=!0}this.updateActiveButton(),st.setStyleOnHover("#"+El+" .modebar-btn",".active",".icon path","fill: "+Ml.activecolor,"fill: "+Ml.color,this.element)},yl.updateButtons=function(ls){var Sl=this;this.buttons=ls,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(Pl){var Tl=Sl.createGroup();Pl.forEach(function(El){var Ml=El.name;if(!Ml)throw new Error("must provide button 'name' in button config");if(Sl.buttonsNames.indexOf(Ml)!==-1)throw new Error("button name '"+Ml+"' is taken");Sl.buttonsNames.push(Ml);var Rl=Sl.createButton(El);Sl.buttonElements.push(Rl),Tl.appendChild(Rl)}),Sl.element.appendChild(Tl)})},yl.createGroup=function(){var ls=document.createElement("div");ls.className="modebar-group";var Sl=this.graphInfo._fullLayout.modebar;return ls.style.backgroundColor=Sl.bgcolor,ls},yl.createButton=function(ls){var Sl=this,Pl=document.createElement("button");Pl.setAttribute("type","button"),Pl.setAttribute("rel","tooltip"),Pl.className="modebar-btn";var Tl=ls.title;Tl===void 0?Tl=ls.name:typeof Tl=="function"&&(Tl=Tl(this.graphInfo)),(Tl||Tl===0)&&(Pl.setAttribute("data-title",Tl),Pl.setAttribute("aria-label",Tl)),ls.attr!==void 0&&Pl.setAttribute("data-attr",ls.attr);var El=ls.val;El!==void 0&&(typeof El=="function"&&(El=El(this.graphInfo)),Pl.setAttribute("data-val",El));var Ml=ls.click;if(typeof Ml!="function")throw new Error("must provide button 'click' function in button config");Pl.addEventListener("click",function(Bn){ls.click(Sl.graphInfo,Bn),Sl.updateActiveButton(Bn.currentTarget)}),Pl.setAttribute("data-toggle",ls.toggle||!1),ls.toggle&&jt.select(Pl).classed("active",!0);var Rl=ls.icon;return typeof Rl=="function"?Pl.appendChild(Rl()):Pl.appendChild(this.createIcon(Rl||Ln.question)),Pl.setAttribute("data-gravity",ls.gravity||"n"),Pl},yl.createIcon=function(ls){var Sl=it(ls.height)?Number(ls.height):ls.ascent-ls.descent,Pl="http://www.w3.org/2000/svg",Tl;if(ls.path){Tl=document.createElementNS(Pl,"svg"),Tl.setAttribute("viewBox",[0,0,ls.width,Sl].join(" ")),Tl.setAttribute("class","icon");var El=document.createElementNS(Pl,"path");El.setAttribute("d",ls.path),ls.transform?El.setAttribute("transform",ls.transform):ls.ascent!==void 0&&El.setAttribute("transform","matrix(1 0 0 -1 0 "+ls.ascent+")"),Tl.appendChild(El)}if(ls.svg){var Ml=Fn.parseFromString(ls.svg,"application/xml");Tl=Ml.childNodes[0]}return Tl.setAttribute("height","1em"),Tl.setAttribute("width","1em"),Tl},yl.updateActiveButton=function(ls){var Sl=this.graphInfo._fullLayout,Pl=ls!==void 0?ls.getAttribute("data-attr"):null;this.buttonElements.forEach(function(Tl){var El=Tl.getAttribute("data-val")||!0,Ml=Tl.getAttribute("data-attr"),Rl=Tl.getAttribute("data-toggle")==="true",Bn=jt.select(Tl),Cl=function($l,Bu){var Jl=Sl.modebar,Kl=$l.querySelector(".icon path");Kl&&(Bu||$l.matches(":hover")?Kl.style.fill=Jl.activecolor:Kl.style.fill=Jl.color)};if(Rl){if(Ml===Pl){var Al=!Bn.classed("active");Bn.classed("active",Al),Cl(Tl,Al)}}else{var Il=Ml===null?Ml:st.nestedProperty(Sl,Ml).get();Bn.classed("active",Il===El),Cl(Tl,Il===El)}})},yl.hasButtons=function(ls){var Sl=this.buttons;if(!Sl||ls.length!==Sl.length)return!1;for(var Pl=0;Pl<ls.length;++Pl){if(ls[Pl].length!==Sl[Pl].length)return!1;for(var Tl=0;Tl<ls[Pl].length;Tl++)if(ls[Pl][Tl].name!==Sl[Pl][Tl].name)return!1}return!0};function ot(ls){return ls+" (v"+Ft+")"}yl.getLogo=function(){var ls=this.createGroup(),Sl=document.createElement("a");return Sl.href="https://plotly.com/",Sl.target="_blank",Sl.setAttribute("data-title",ot(st._(this.graphInfo,"Produced with Plotly.js"))),Sl.className="modebar-btn plotlyjsicon modebar-btn--logo",Sl.appendChild(this.createIcon(Ln.newplotlylogo)),ls.appendChild(Sl),ls},yl.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},yl.destroy=function(){st.removeElement(this.container.querySelector(".modebar"))};function _l(ls,Sl){var Pl=ls._fullLayout,Tl=new zn({graphInfo:ls,container:Pl._modebardiv.node(),buttons:Sl});return Pl._privateplot&&jt.select(Tl.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),Tl}hu.exports=_l}),um=a((yu,hu)=>{var jt=rv(),it=Qp(),st=N1(),Ln=w0().isUnifiedHover,Ft=f1(),Fn=N0(),zn=I0().DRAW_MODES,yl=gu().extendDeep;hu.exports=function(El){var Ml=El._fullLayout,Rl=El._context,Bn=Ml._modeBar;if(!Rl.displayModeBar&&!Rl.watermark){Bn&&(Bn.destroy(),delete Ml._modeBar);return}if(!Array.isArray(Rl.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(Rl.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var Cl=Rl.modeBarButtons,Al;Array.isArray(Cl)&&Cl.length?Al=Tl(Cl):!Rl.displayModeBar&&Rl.watermark?Al=[]:Al=ot(El),Bn?Bn.update(El,Al):Ml._modeBar=Ft(El,Al)};function ot(El){var Ml=El._fullLayout,Rl=El._fullData,Bn=El._context;function Cl(Ol,Wl){if(typeof Wl=="string"){if(Wl.toLowerCase()===Ol.toLowerCase())return!0}else{var Mu=Wl.name,zu=Wl._cat||Wl.name;if(Mu===Ol||zu===Ol.toLowerCase())return!0}return!1}var Al=Ml.modebar.add;typeof Al=="string"&&(Al=[Al]);var Il=Ml.modebar.remove;typeof Il=="string"&&(Il=[Il]);var $l=Bn.modeBarButtonsToAdd.concat(Al.filter(function(Ol){for(var Wl=0;Wl<Bn.modeBarButtonsToRemove.length;Wl++)if(Cl(Ol,Bn.modeBarButtonsToRemove[Wl]))return!1;return!0})),Bu=Bn.modeBarButtonsToRemove.concat(Il.filter(function(Ol){for(var Wl=0;Wl<Bn.modeBarButtonsToAdd.length;Wl++)if(Cl(Ol,Bn.modeBarButtonsToAdd[Wl]))return!1;return!0})),Jl=Ml._has("cartesian"),Kl=Ml._has("gl3d"),Bl=Ml._has("geo"),$u=Ml._has("pie"),mu=Ml._has("funnelarea"),Pu=Ml._has("ternary"),bu=Ml._has("mapbox"),Fu=Ml._has("map"),Hu=Ml._has("polar"),Gu=Ml._has("smith"),Xl=Ml._has("sankey"),Wu=_l(Ml),Yu=Ln(Ml.hovermode),ap=[];function rp(Ol){if(Ol.length){for(var Wl=[],Mu=0;Mu<Ol.length;Mu++){for(var zu=Ol[Mu],ip=Fn[zu],pp=ip.name.toLowerCase(),vp=(ip._cat||ip.name).toLowerCase(),Pp=!1,Gp=0;Gp<Bu.length;Gp++){var r0=Bu[Gp].toLowerCase();if(r0===pp||r0===vp){Pp=!0;break}}Pp||Wl.push(Fn[zu])}ap.push(Wl)}}var sp=["toImage"];Bn.showEditInChartStudio?sp.push("editInChartStudio"):Bn.showSendToCloud&&sp.push("sendDataToCloud"),rp(sp);var bp=[],Cp=[],Ap=[],Lu=[];(Jl||$u||mu||Pu)+Bl+Kl+bu+Fu+Hu+Gu>1?(Cp=["toggleHover"],Ap=["resetViews"]):Bl?(bp=["zoomInGeo","zoomOutGeo"],Cp=["hoverClosestGeo"],Ap=["resetGeo"]):Kl?(Cp=["hoverClosest3d"],Ap=["resetCameraDefault3d","resetCameraLastSave3d"]):bu?(bp=["zoomInMapbox","zoomOutMapbox"],Cp=["toggleHover"],Ap=["resetViewMapbox"]):Fu?(bp=["zoomInMap","zoomOutMap"],Cp=["toggleHover"],Ap=["resetViewMap"]):$u?Cp=["hoverClosestPie"]:Xl?(Cp=["hoverClosestCartesian","hoverCompareCartesian"],Ap=["resetViewSankey"]):Cp=["toggleHover"],Jl&&Cp.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(Sl(Rl)||Yu)&&(Cp=[]),Jl&&!Wu&&(bp=["zoomIn2d","zoomOut2d","autoScale2d"],Ap[0]!=="resetViews"&&(Ap=["resetScale2d"])),Kl?Lu=["zoom3d","pan3d","orbitRotation","tableRotation"]:Jl&&!Wu||Pu?Lu=["zoom2d","pan2d"]:bu||Fu||Bl?Lu=["pan2d"]:Hu&&(Lu=["zoom2d"]),ls(Rl)&&Lu.push("select2d","lasso2d");var Nu=[],Hl=function(Ol){Nu.indexOf(Ol)===-1&&Cp.indexOf(Ol)!==-1&&Nu.push(Ol)};if(Array.isArray($l)){for(var qu=[],np=0;np<$l.length;np++){var vu=$l[np];typeof vu=="string"?(vu=vu.toLowerCase(),zn.indexOf(vu)!==-1?(Ml._has("mapbox")||Ml._has("map")||Ml._has("cartesian"))&&Lu.push(vu):vu==="togglespikelines"?Hl("toggleSpikelines"):vu==="togglehover"?Hl("toggleHover"):vu==="hovercompare"?Hl("hoverCompareCartesian"):vu==="hoverclosest"?(Hl("hoverClosestCartesian"),Hl("hoverClosestGeo"),Hl("hoverClosest3d"),Hl("hoverClosestPie")):vu==="v1hovermode"&&(Hl("hoverClosestCartesian"),Hl("hoverCompareCartesian"),Hl("hoverClosestGeo"),Hl("hoverClosest3d"),Hl("hoverClosestPie"))):qu.push(vu)}$l=qu}return rp(Lu),rp(bp.concat(Ap)),rp(Nu),Pl(ap,$l)}function _l(El){for(var Ml=jt.list({_fullLayout:El},null,!0),Rl=0;Rl<Ml.length;Rl++){var Bn=Ml[Rl].modebardisable;if(!Ml[Rl].fixedrange&&Bn!=="autoscale+zoominout"&&Bn!=="zoominout+autoscale")return!1}return!0}function ls(El){for(var Ml=!1,Rl=0;Rl<El.length&&!Ml;Rl++){var Bn=El[Rl];!Bn._module||!Bn._module.selectPoints||(st.traceIs(Bn,"scatter-like")?(it.hasMarkers(Bn)||it.hasText(Bn))&&(Ml=!0):st.traceIs(Bn,"box-violin")?(Bn.boxpoints==="all"||Bn.points==="all")&&(Ml=!0):Ml=!0)}return Ml}function Sl(El){for(var Ml=0;Ml<El.length;Ml++)if(!st.traceIs(El[Ml],"noHover"))return!1;return!0}function Pl(El,Ml){if(Ml.length)if(Array.isArray(Ml[0]))for(var Rl=0;Rl<Ml.length;Rl++)El.push(Ml[Rl]);else El.push(Ml);return El}function Tl(El){for(var Ml=yl([],El),Rl=0;Rl<Ml.length;Rl++)for(var Bn=Ml[Rl],Cl=0;Cl<Bn.length;Cl++){var Al=Bn[Cl];if(typeof Al=="string")if(Fn[Al]!==void 0)Ml[Rl][Cl]=Fn[Al];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return Ml}}),Em=a((yu,hu)=>{hu.exports={moduleType:"component",name:"modebar",layoutAttributes:km(),supplyLayoutDefaults:im(),manage:um()}}),Rv=a((yu,hu)=>{var jt=pv().FROM_BL;hu.exports=function(it,st,Ln){Ln===void 0&&(Ln=jt[it.constraintoward||"center"]);var Ft=[it.r2l(it.range[0]),it.r2l(it.range[1])],Fn=Ft[0]+(Ft[1]-Ft[0])*Ln;it.range=it._input.range=[it.l2r(Fn+(Ft[0]-Fn)*st),it.l2r(Fn+(Ft[1]-Fn)*st)],it.setScale()}}),Q1=a(yu=>{var hu=gu(),jt=wm(),it=rv().id2name,st=c0(),Ln=Rv(),Ft=J0(),Fn=nt().ALMOST_EQUAL,zn=pv().FROM_BL;yu.handleDefaults=function(El,Ml,Rl){var Bn=Rl.axIds,Cl=Rl.axHasImage,Al=Ml._axisConstraintGroups=[],Il=Ml._axisMatchGroups=[],$l,Bu,Jl,Kl,Bl,$u,mu,Pu;for($l=0;$l<Bn.length;$l++)Kl=it(Bn[$l]),Bl=El[Kl],$u=Ml[Kl],yl(Bl,$u,{axIds:Bn,layoutOut:Ml,hasImage:Cl[Kl]});function bu(sp,bp){for($l=0;$l<sp.length;$l++){Bu=sp[$l];for(Jl in Bu)Ml[it(Jl)][bp]=Bu}}for(bu(Il,"_matchGroup"),$l=0;$l<Al.length;$l++){Bu=Al[$l];for(Jl in Bu)if($u=Ml[it(Jl)],$u.fixedrange){for(var Fu in Bu){var Hu=it(Fu);(El[Hu]||{}).fixedrange===!1&&hu.warn("fixedrange was specified as false for axis "+Hu+" but was overridden because another axis in its constraint group has fixedrange true"),Ml[Hu].fixedrange=!0}break}}for($l=0;$l<Al.length;){Bu=Al[$l];for(Jl in Bu){$u=Ml[it(Jl)],$u._matchGroup&&Object.keys($u._matchGroup).length===Object.keys(Bu).length&&(Al.splice($l,1),$l--);break}$l++}bu(Al,"_constraintGroup");var Gu=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],Xl=!1,Wu=!1;function Yu(){Pu=$u[mu],mu==="rangebreaks"&&(Wu=$u._hasDayOfWeekBreaks)}for($l=0;$l<Il.length;$l++){Bu=Il[$l];for(var ap=0;ap<Gu.length;ap++){mu=Gu[ap],Pu=null;var rp;for(Jl in Bu)if(Kl=it(Jl),Bl=El[Kl],$u=Ml[Kl],mu in $u){if(!$u.matches&&(rp=$u,mu in Bl)){Yu();break}Pu===null&&mu in Bl&&Yu()}if(mu==="range"&&Pu&&Bl.range&&Bl.range.length===2&&Bl.range[0]!==null&&Bl.range[1]!==null&&(Xl=!0),mu==="autorange"&&Pu===null&&Xl&&(Pu=!1),Pu===null&&mu in rp&&(Pu=rp[mu]),Pu!==null)for(Jl in Bu)$u=Ml[it(Jl)],$u[mu]=mu==="range"?Pu.slice():Pu,mu==="rangebreaks"&&($u._hasDayOfWeekBreaks=Wu,Ft($u,Ml))}}};function yl(El,Ml,Rl){var Bn=Rl.axIds,Cl=Rl.layoutOut,Al=Rl.hasImage,Il=Cl._axisConstraintGroups,$l=Cl._axisMatchGroups,Bu=Ml._id,Jl=Bu.charAt(0),Kl=((Cl._splomAxes||{})[Jl]||{})[Bu]||{},Bl=Ml._id,$u=Bl.charAt(0)==="x";Ml._matchGroup=null,Ml._constraintGroup=null;function mu(Lu,Nu){return hu.coerce(El,Ml,st,Lu,Nu)}mu("constrain",Al?"domain":"range"),hu.coerce(El,Ml,{constraintoward:{valType:"enumerated",values:$u?["left","center","right"]:["bottom","middle","top"],dflt:$u?"center":"middle"}},"constraintoward");var Pu=Ml.type,bu,Fu,Hu=[];for(bu=0;bu<Bn.length;bu++)if(Fu=Bn[bu],Fu!==Bl){var Gu=Cl[it(Fu)];Gu.type===Pu&&Hu.push(Fu)}var Xl=_l(Il,Bl);if(Xl){var Wu=[];for(bu=0;bu<Hu.length;bu++)Fu=Hu[bu],Xl[Fu]||Wu.push(Fu);Hu=Wu}var Yu=Hu.length,ap,rp;Yu&&(El.matches||Kl.matches)&&(ap=hu.coerce(El,Ml,{matches:{valType:"enumerated",values:Hu,dflt:Hu.indexOf(Kl.matches)!==-1?Kl.matches:void 0}},"matches"));var sp=Al&&!$u?Ml.anchor:void 0;if(Yu&&!ap&&(El.scaleanchor||sp)&&(rp=hu.coerce(El,Ml,{scaleanchor:{valType:"enumerated",values:Hu.concat([!1])}},"scaleanchor",sp)),ap){Ml._matchGroup=ls($l,Bl,ap,1);var bp=Cl[it(ap)],Cp=ot(Cl,Ml)/ot(Cl,bp);$u!==(ap.charAt(0)==="x")&&(Cp=($u?"x":"y")+Cp),ls(Il,Bl,ap,Cp)}else El.matches&&Bn.indexOf(El.matches)!==-1&&hu.warn("ignored "+Ml._name+'.matches: "'+El.matches+'" to avoid an infinite loop');if(rp){var Ap=mu("scaleratio");Ap||(Ap=Ml.scaleratio=1),ls(Il,Bl,rp,Ap)}else El.scaleanchor&&Bn.indexOf(El.scaleanchor)!==-1&&hu.warn("ignored "+Ml._name+'.scaleanchor: "'+El.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function ot(El,Ml){var Rl=Ml.domain;return Rl||(Rl=El[it(Ml.overlaying)].domain),Rl[1]-Rl[0]}function _l(El,Ml){for(var Rl=0;Rl<El.length;Rl++)if(El[Rl][Ml])return El[Rl];return null}function ls(El,Ml,Rl,Bn){var Cl,Al,Il,$l,Bu,Jl=_l(El,Ml);Jl===null?(Jl={},Jl[Ml]=1,Bu=El.length,El.push(Jl)):Bu=El.indexOf(Jl);var Kl=Object.keys(Jl);for(Cl=0;Cl<El.length;Cl++)if(Il=El[Cl],Cl!==Bu&&Il[Rl]){var Bl=Il[Rl];for(Al=0;Al<Kl.length;Al++)$l=Kl[Al],Il[$l]=Sl(Bl,Sl(Bn,Jl[$l]));El.splice(Bu,1);return}if(Bn!==1)for(Al=0;Al<Kl.length;Al++){var $u=Kl[Al];Jl[$u]=Sl(Bn,Jl[$u])}Jl[Rl]=1}function Sl(El,Ml){var Rl="",Bn="",Cl,Al;typeof El=="string"&&(Rl=El.match(/^[xy]*/)[0],Cl=Rl.length,El=+El.substr(Cl)),typeof Ml=="string"&&(Bn=Ml.match(/^[xy]*/)[0],Al=Bn.length,Ml=+Ml.substr(Al));var Il=El*Ml;return!Cl&&!Al?Il:!Cl||!Al||Rl.charAt(0)===Bn.charAt(0)?Rl+Bn+El*Ml:Cl===Al?Il:(Cl>Al?Rl.substr(Al):Bn.substr(Cl))+Il}function Pl(El,Ml){for(var Rl=Ml._size,Bn=Rl.h/Rl.w,Cl={},Al=Object.keys(El),Il=0;Il<Al.length;Il++){var $l=Al[Il],Bu=El[$l];if(typeof Bu=="string"){var Jl=Bu.match(/^[xy]*/)[0],Kl=Jl.length;Bu=+Bu.substr(Kl);for(var Bl=Jl.charAt(0)==="y"?Bn:1/Bn,$u=0;$u<Kl;$u++)Bu*=Bl}Cl[$l]=Bu}return Cl}yu.enforce=function(El){var Ml=El._fullLayout,Rl=Ml._axisConstraintGroups||[],Bn,Cl,Al,Il,$l,Bu,Jl,Kl;for(Bn=0;Bn<Rl.length;Bn++){Al=Pl(Rl[Bn],Ml);var Bl=Object.keys(Al),$u=1/0,mu=0,Pu=1/0,bu={},Fu={},Hu=!1;for(Cl=0;Cl<Bl.length;Cl++)Il=Bl[Cl],Fu[Il]=$l=Ml[it(Il)],$l._inputDomain?$l.domain=$l._inputDomain.slice():$l._inputDomain=$l.domain.slice(),$l._inputRange||($l._inputRange=$l.range.slice()),$l.setScale(),bu[Il]=Bu=Math.abs($l._m)/Al[Il],$u=Math.min($u,Bu),($l.constrain==="domain"||!$l._constraintShrinkable)&&(Pu=Math.min(Pu,Bu)),delete $l._constraintShrinkable,mu=Math.max(mu,Bu),$l.constrain==="domain"&&(Hu=!0);if(!($u>Fn*mu&&!Hu)){for(Cl=0;Cl<Bl.length;Cl++)if(Il=Bl[Cl],Bu=bu[Il],$l=Fu[Il],Jl=$l.constrain,Bu!==Pu||Jl==="domain")if(Kl=Bu/Pu,Jl==="range")Ln($l,Kl);else{var Gu=$l._inputDomain,Xl=($l.domain[1]-$l.domain[0])/(Gu[1]-Gu[0]),Wu=($l.r2l($l.range[1])-$l.r2l($l.range[0]))/($l.r2l($l._inputRange[1])-$l.r2l($l._inputRange[0]));if(Kl/=Xl,Kl*Wu<1){$l.domain=$l._input.domain=Gu.slice(),Ln($l,Kl);continue}if(Wu<1&&($l.range=$l._input.range=$l._inputRange.slice(),Kl*=Wu),$l.autorange){var Yu=$l.r2l($l.range[0]),ap=$l.r2l($l.range[1]),rp=(Yu+ap)/2,sp=rp,bp=rp,Cp=Math.abs(ap-rp),Ap=rp-Cp*Kl*1.0001,Lu=rp+Cp*Kl*1.0001,Nu=jt.makePadFn(Ml,$l,0),Hl=jt.makePadFn(Ml,$l,1);Tl($l,Kl);var qu=Math.abs($l._m),np=jt.concatExtremes(El,$l),vu=np.min,Ol=np.max,Wl,Mu;for(Mu=0;Mu<vu.length;Mu++)Wl=vu[Mu].val-Nu(vu[Mu])/qu,Wl>Ap&&Wl<sp&&(sp=Wl);for(Mu=0;Mu<Ol.length;Mu++)Wl=Ol[Mu].val+Hl(Ol[Mu])/qu,Wl<Lu&&Wl>bp&&(bp=Wl);var zu=(bp-sp)/(2*Cp);Kl/=zu,sp=$l.l2r(sp),bp=$l.l2r(bp),$l.range=$l._input.range=Yu<ap?[sp,bp]:[bp,sp]}Tl($l,Kl)}}}},yu.getAxisGroup=function(El,Ml){for(var Rl=El._axisMatchGroups,Bn=0;Bn<Rl.length;Bn++){var Cl=Rl[Bn];if(Cl[Ml])return"g"+Bn}return Ml},yu.clean=function(El,Ml){if(Ml._inputDomain){for(var Rl=!1,Bn=Ml._id,Cl=El._fullLayout._axisConstraintGroups,Al=0;Al<Cl.length;Al++)if(Cl[Al][Bn]){Rl=!0;break}(!Rl||Ml.constrain!=="domain")&&(Ml._input.domain=Ml.domain=Ml._inputDomain,delete Ml._inputDomain)}};function Tl(El,Ml){var Rl=El._inputDomain,Bn=zn[El.constraintoward],Cl=Rl[0]+(Rl[1]-Rl[0])*Bn;El.domain=El._input.domain=[Cl+(Rl[0]-Cl)/Ml,Cl+(Rl[1]-Cl)/Ml],El.setScale()}}),g1=a(yu=>{var hu=g(),jt=N1(),it=_v(),st=gu(),Ln=hy(),Ft=Gy(),Fn=D0(),zn=q0(),yl=Z0(),ot=Em(),_l=bm(),ls=pv(),Sl=Q1(),Pl=Sl.enforce,Tl=Sl.clean,El=wm().doAutoRange,Ml="start",Rl="middle",Bn="end",Cl=E1().zindexSeparator;yu.layoutStyles=function(Xl){return st.syncOrAsync([it.doAutoMargin,Il],Xl)};function Al(Xl,Wu,Yu){for(var ap=0;ap<Yu.length;ap++){var rp=Yu[ap][0],sp=Yu[ap][1];if(!(rp[0]>=Xl[1]||rp[1]<=Xl[0])&&sp[0]<Wu[1]&&sp[1]>Wu[0])return!0}return!1}function Il(Xl){var Wu=Xl._fullLayout,Yu=Wu._size,ap=Yu.p,rp=_l.list(Xl,"",!0),sp,bp,Cp,Ap,Lu,Nu;if(Wu._paperdiv.style({width:Xl._context.responsive&&Wu.autosize&&!Xl._context._hasZeroWidth&&!Xl.layout.width?"100%":Wu.width+"px",height:Xl._context.responsive&&Wu.autosize&&!Xl._context._hasZeroHeight&&!Xl.layout.height?"100%":Wu.height+"px"}).selectAll(".main-svg").call(zn.setSize,Wu.width,Wu.height),Xl._context.setBackground(Xl,Wu.paper_bgcolor),yu.drawMainTitle(Xl),ot.manage(Xl),!Wu._has("cartesian"))return it.previousPromises(Xl);function Hl(Xu,hp,yp){var Dp=Xu._lw/2;if(Xu._id.charAt(0)==="x"){if(hp){if(yp==="top")return hp._offset-ap-Dp}else return Yu.t+Yu.h*(1-(Xu.position||0))+Dp%1;return hp._offset+hp._length+ap+Dp}if(hp){if(yp==="right")return hp._offset+hp._length+ap+Dp}else return Yu.l+Yu.w*(Xu.position||0)+Dp%1;return hp._offset-ap-Dp}for(sp=0;sp<rp.length;sp++){Ap=rp[sp];var qu=Ap._anchorAxis;Ap._linepositions={},Ap._lw=zn.crispRound(Xl,Ap.linewidth,1),Ap._mainLinePosition=Hl(Ap,qu,Ap.side),Ap._mainMirrorPosition=Ap.mirror&&qu?Hl(Ap,qu,ls.OPPOSITE_SIDE[Ap.side]):null}var np=[],vu=[],Ol=[],Wl=Fn.opacity(Wu.paper_bgcolor)===1&&Fn.opacity(Wu.plot_bgcolor)===1&&Wu.paper_bgcolor===Wu.plot_bgcolor;for(bp in Wu._plots)if(Cp=Wu._plots[bp],Cp.mainplot)Cp.bg&&Cp.bg.remove(),Cp.bg=void 0;else{var Mu=Cp.xaxis.domain,zu=Cp.yaxis.domain,ip=Cp.plotgroup;if(Al(Mu,zu,Ol)&&bp.indexOf(Cl)===-1){var pp=ip.node(),vp=Cp.bg=st.ensureSingle(ip,"rect","bg");pp.insertBefore(vp.node(),pp.childNodes[0]),vu.push(bp)}else ip.select("rect.bg").remove(),Ol.push([Mu,zu]),Wl||(np.push(bp),vu.push(bp))}var Pp=Wu._bgLayer.selectAll(".bg").data(np);for(Pp.enter().append("rect").classed("bg",!0),Pp.exit().remove(),Pp.each(function(Xu){Wu._plots[Xu].bg=hu.select(this)}),sp=0;sp<vu.length;sp++)Cp=Wu._plots[vu[sp]],Lu=Cp.xaxis,Nu=Cp.yaxis,Cp.bg&&Lu._offset!==void 0&&Nu._offset!==void 0&&Cp.bg.call(zn.setRect,Lu._offset-ap,Nu._offset-ap,Lu._length+2*ap,Nu._length+2*ap).call(Fn.fill,Wu.plot_bgcolor).style("stroke-width",0);if(!Wu._hasOnlyLargeSploms)for(bp in Wu._plots){Cp=Wu._plots[bp],Lu=Cp.xaxis,Nu=Cp.yaxis;var Gp=Cp.clipId="clip"+Wu._uid+bp+"plot",r0=st.ensureSingleById(Wu._clips,"clipPath",Gp,function(Xu){Xu.classed("plotclip",!0).append("rect")});Cp.clipRect=r0.select("rect").attr({width:Lu._length,height:Nu._length}),zn.setTranslate(Cp.plot,Lu._offset,Nu._offset);var C0,f0;Cp._hasClipOnAxisFalse?(C0=null,f0=Gp):(C0=Gp,f0=null),zn.setClipUrl(Cp.plot,C0,Xl),Cp.layerClipId=f0}var d0,Sp,Fp,cp,jp,a0,y0,P0,E0,O0,j0,$0,tm;function A0(Xu){return"M"+d0+","+Xu+"H"+Sp}function sm(Xu){return"M"+Lu._offset+","+Xu+"h"+Lu._length}function pm(Xu){return"M"+Xu+","+P0+"V"+y0}function nm(Xu){return Nu._shift!==void 0&&(Xu+=Nu._shift),"M"+Xu+","+Nu._offset+"v"+Nu._length}function vm(Xu,hp,yp){if(!Xu.showline||bp!==Xu._mainSubplot)return"";if(!Xu._anchorAxis)return yp(Xu._mainLinePosition);var Dp=hp(Xu._mainLinePosition);return Xu.mirror&&(Dp+=hp(Xu._mainMirrorPosition)),Dp}for(bp in Wu._plots){Cp=Wu._plots[bp],Lu=Cp.xaxis,Nu=Cp.yaxis;var kp="M0,0";$l(Lu,bp)&&(jp=Jl(Lu,"left",Nu,rp),d0=Lu._offset-(jp?ap+jp:0),a0=Jl(Lu,"right",Nu,rp),Sp=Lu._offset+Lu._length+(a0?ap+a0:0),Fp=Hl(Lu,Nu,"bottom"),cp=Hl(Lu,Nu,"top"),tm=!Lu._anchorAxis||bp!==Lu._mainSubplot,tm&&(Lu.mirror==="allticks"||Lu.mirror==="all")&&(Lu._linepositions[bp]=[Fp,cp]),kp=vm(Lu,A0,sm),tm&&Lu.showline&&(Lu.mirror==="all"||Lu.mirror==="allticks")&&(kp+=A0(Fp)+A0(cp)),Cp.xlines.style("stroke-width",Lu._lw+"px").call(Fn.stroke,Lu.showline?Lu.linecolor:"rgba(0,0,0,0)")),Cp.xlines.attr("d",kp);var qp="M0,0";$l(Nu,bp)&&(j0=Jl(Nu,"bottom",Lu,rp),y0=Nu._offset+Nu._length+(j0?ap:0),$0=Jl(Nu,"top",Lu,rp),P0=Nu._offset-($0?ap:0),E0=Hl(Nu,Lu,"left"),O0=Hl(Nu,Lu,"right"),tm=!Nu._anchorAxis||bp!==Nu._mainSubplot,tm&&(Nu.mirror==="allticks"||Nu.mirror==="all")&&(Nu._linepositions[bp]=[E0,O0]),qp=vm(Nu,pm,nm),tm&&Nu.showline&&(Nu.mirror==="all"||Nu.mirror==="allticks")&&(qp+=pm(E0)+pm(O0)),Cp.ylines.style("stroke-width",Nu._lw+"px").call(Fn.stroke,Nu.showline?Nu.linecolor:"rgba(0,0,0,0)")),Cp.ylines.attr("d",qp)}return _l.makeClipPaths(Xl),it.previousPromises(Xl)}function $l(Xl,Wu){return(Xl.ticks||Xl.showline)&&(Wu===Xl._mainSubplot||Xl.mirror==="all"||Xl.mirror==="allticks")}function Bu(Xl,Wu,Yu){if(!Yu.showline||!Yu._lw)return!1;if(Yu.mirror==="all"||Yu.mirror==="allticks")return!0;var ap=Yu._anchorAxis;if(!ap)return!1;var rp=ls.FROM_BL[Wu];return Yu.side===Wu?ap.domain[rp]===Xl.domain[rp]:Yu.mirror&&ap.domain[1-rp]===Xl.domain[1-rp]}function Jl(Xl,Wu,Yu,ap){if(Bu(Xl,Wu,Yu))return Yu._lw;for(var rp=0;rp<ap.length;rp++){var sp=ap[rp];if(sp._mainAxis===Yu._mainAxis&&Bu(Xl,Wu,sp))return sp._lw}return 0}yu.drawMainTitle=function(Xl){var Wu=Xl._fullLayout.title,Yu=Xl._fullLayout,ap=Hu(Yu),rp=Gu(Yu),sp=bu(Yu,rp),bp=Pu(Yu,ap);if(yl.draw(Xl,"gtitle",{propContainer:Yu,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:Yu._dfltTitle.plot,subtitlePlaceholder:Yu._dfltTitle.subtitle,attributes:{x:bp,y:sp,"text-anchor":ap,dy:rp}}),Wu.text&&Wu.automargin){var Cp=hu.select(Xl).selectAll(".gtitle"),Ap=zn.bBox(hu.select(Xl).selectAll(".g-gtitle").node()).height,Lu=$u(Xl,Wu,Ap);if(Lu>0){mu(Xl,sp,Lu,Ap),Cp.attr({x:bp,y:sp,"text-anchor":ap,dy:Fu(Wu.yanchor)}).call(Ln.positionText,bp,sp);var Nu=(Wu.text.match(Ln.BR_TAG_ALL)||[]).length;if(Nu){var Hl=ls.LINE_SPACING*Nu+ls.MID_SHIFT;Wu.y===0&&(Hl=-Hl),Cp.selectAll(".line").each(function(){var Wl=+this.getAttribute("dy").slice(0,-2)-Hl+"em";this.setAttribute("dy",Wl)})}var qu=hu.select(Xl).selectAll(".gtitle-subtitle");if(qu.node()){var np=Cp.node().getBBox(),vu=np.y+np.height,Ol=vu+yl.SUBTITLE_PADDING_EM*Wu.subtitle.font.size;qu.attr({x:bp,y:Ol,"text-anchor":ap,dy:Fu(Wu.yanchor)}).call(Ln.positionText,bp,Ol)}}}};function Kl(Xl,Wu,Yu,ap,rp){var sp=Wu.yref==="paper"?Xl._fullLayout._size.h:Xl._fullLayout.height,bp=st.isTopAnchor(Wu)?ap:ap-rp,Cp=Yu==="b"?sp-bp:bp;return st.isTopAnchor(Wu)&&Yu==="t"||st.isBottomAnchor(Wu)&&Yu==="b"?!1:Cp<rp}function Bl(Xl,Wu,Yu,ap,rp){var sp=0;return Yu==="middle"&&(sp+=rp/2),Xl==="t"?(Yu==="top"&&(sp+=rp),sp+=ap-Wu*ap):(Yu==="bottom"&&(sp+=rp),sp+=Wu*ap),sp}function $u(Xl,Wu,Yu){var ap=Wu.y,rp=Wu.yanchor,sp=ap>.5?"t":"b",bp=Xl._fullLayout.margin[sp],Cp=0;return Wu.yref==="paper"?Cp=Yu+Wu.pad.t+Wu.pad.b:Wu.yref==="container"&&(Cp=Bl(sp,ap,rp,Xl._fullLayout.height,Yu)+Wu.pad.t+Wu.pad.b),Cp>bp?Cp:0}function mu(Xl,Wu,Yu,ap){var rp="title.automargin",sp=Xl._fullLayout.title,bp=sp.y>.5?"t":"b",Cp={x:sp.x,y:sp.y,t:0,b:0},Ap={};sp.yref==="paper"&&Kl(Xl,sp,bp,Wu,ap)?Cp[bp]=Yu:sp.yref==="container"&&(Ap[bp]=Yu,Xl._fullLayout._reservedMargin[rp]=Ap),it.allowAutoMargin(Xl,rp),it.autoMargin(Xl,rp,Cp)}function Pu(Xl,Wu){var Yu=Xl.title,ap=Xl._size,rp=0;switch(Wu===Ml?rp=Yu.pad.l:Wu===Bn&&(rp=-Yu.pad.r),Yu.xref){case"paper":return ap.l+ap.w*Yu.x+rp;case"container":default:return Xl.width*Yu.x+rp}}function bu(Xl,Wu){var Yu=Xl.title,ap=Xl._size,rp=0;if(Wu==="0em"||!Wu?rp=-Yu.pad.b:Wu===ls.CAP_SHIFT+"em"&&(rp=Yu.pad.t),Yu.y==="auto")return ap.t/2;switch(Yu.yref){case"paper":return ap.t+ap.h-ap.h*Yu.y+rp;case"container":default:return Xl.height-Xl.height*Yu.y+rp}}function Fu(Xl){return Xl==="top"?ls.CAP_SHIFT+.3+"em":Xl==="bottom"?"-0.3em":ls.MID_SHIFT+"em"}function Hu(Xl){var Wu=Xl.title,Yu=Rl;return st.isRightAnchor(Wu)?Yu=Bn:st.isLeftAnchor(Wu)&&(Yu=Ml),Yu}function Gu(Xl){var Wu=Xl.title,Yu="0em";return st.isTopAnchor(Wu)?Yu=ls.CAP_SHIFT+"em":st.isMiddleAnchor(Wu)&&(Yu=ls.MID_SHIFT+"em"),Yu}yu.doTraceStyle=function(Xl){var Wu=Xl.calcdata,Yu=[],ap;for(ap=0;ap<Wu.length;ap++){var rp=Wu[ap],sp=rp[0]||{},bp=sp.trace||{},Cp=bp._module||{},Ap=Cp.arraysToCalcdata;Ap&&Ap(rp,bp);var Lu=Cp.editStyle;Lu&&Yu.push({fn:Lu,cd0:sp})}if(Yu.length){for(ap=0;ap<Yu.length;ap++){var Nu=Yu[ap];Nu.fn(Xl,Nu.cd0)}Ft(Xl),yu.redrawReglTraces(Xl)}return it.style(Xl),jt.getComponentMethod("legend","draw")(Xl),it.previousPromises(Xl)},yu.doColorBars=function(Xl){return jt.getComponentMethod("colorbar","draw")(Xl),it.previousPromises(Xl)},yu.layoutReplot=function(Xl){var Wu=Xl.layout;return Xl.layout=void 0,jt.call("_doPlot",Xl,"",Wu)},yu.doLegend=function(Xl){return jt.getComponentMethod("legend","draw")(Xl),it.previousPromises(Xl)},yu.doTicksRelayout=function(Xl){return _l.draw(Xl,"redraw"),Xl._fullLayout._hasOnlyLargeSploms&&(jt.subplotsRegistry.splom.updateGrid(Xl),Ft(Xl),yu.redrawReglTraces(Xl)),yu.drawMainTitle(Xl),it.previousPromises(Xl)},yu.doModeBar=function(Xl){var Wu=Xl._fullLayout;ot.manage(Xl);for(var Yu=0;Yu<Wu._basePlotModules.length;Yu++){var ap=Wu._basePlotModules[Yu].updateFx;ap&&ap(Xl)}return it.previousPromises(Xl)},yu.doCamera=function(Xl){for(var Wu=Xl._fullLayout,Yu=Wu._subplots.gl3d,ap=0;ap<Yu.length;ap++){var rp=Wu[Yu[ap]],sp=rp._scene;sp.setViewport(rp)}},yu.drawData=function(Xl){var Wu=Xl._fullLayout;Ft(Xl);for(var Yu=Wu._basePlotModules,ap=0;ap<Yu.length;ap++)Yu[ap].plot(Xl);return yu.redrawReglTraces(Xl),it.style(Xl),jt.getComponentMethod("selections","draw")(Xl),jt.getComponentMethod("shapes","draw")(Xl),jt.getComponentMethod("annotations","draw")(Xl),jt.getComponentMethod("images","draw")(Xl),Wu._replotting=!1,it.previousPromises(Xl)},yu.redrawReglTraces=function(Xl){var Wu=Xl._fullLayout;if(Wu._has("regl")){var Yu=Xl._fullData,ap=[],rp=[],sp,bp;for(Wu._hasOnlyLargeSploms&&Wu._splomGrid.draw(),sp=0;sp<Yu.length;sp++){var Cp=Yu[sp];Cp.visible===!0&&Cp._length!==0&&(Cp.type==="splom"?Wu._splomScenes[Cp.uid].draw():Cp.type==="scattergl"?st.pushUnique(ap,Cp.xaxis+Cp.yaxis):Cp.type==="scatterpolargl"&&st.pushUnique(rp,Cp.subplot))}for(sp=0;sp<ap.length;sp++)bp=Wu._plots[ap[sp]],bp._scene&&bp._scene.draw();for(sp=0;sp<rp.length;sp++)bp=Wu[rp[sp]]._subplot,bp._scene&&bp._scene.draw()}},yu.doAutoRangeAndConstraints=function(Xl){for(var Wu=_l.list(Xl,"",!0),Yu,ap={},rp=0;rp<Wu.length;rp++)if(Yu=Wu[rp],!ap[Yu._id]){ap[Yu._id]=1,Tl(Xl,Yu),El(Xl,Yu);var sp=Yu._matchGroup;if(sp)for(var bp in sp){var Cp=_l.getFromId(Xl,bp);El(Xl,Cp,Yu.range),ap[bp]=1}}Pl(Xl)},yu.finalDraw=function(Xl){jt.getComponentMethod("rangeslider","draw")(Xl),jt.getComponentMethod("rangeselector","draw")(Xl)},yu.drawMarginPushers=function(Xl){jt.getComponentMethod("legend","draw")(Xl),jt.getComponentMethod("rangeselector","draw")(Xl),jt.getComponentMethod("sliders","draw")(Xl),jt.getComponentMethod("updatemenus","draw")(Xl),jt.getComponentMethod("colorbar","draw")(Xl)}}),jy=a((yu,hu)=>{var jt=ty().readPaths,it=Vu(),st=ev().clearOutlineControllers,Ln=D0(),Ft=q0(),Fn=d1().arrayEditor,zn=Ql(),yl=zn.getPathString;hu.exports={draw:ot,drawOne:ls,activateLastSelection:Tl};function ot(Ml){var Rl=Ml._fullLayout;st(Ml),Rl._selectionLayer.selectAll("path").remove();for(var Bn in Rl._plots){var Cl=Rl._plots[Bn].selectionLayer;Cl&&Cl.selectAll("path").remove()}for(var Al=0;Al<Rl.selections.length;Al++)ls(Ml,Al)}function _l(Ml){return Ml._context.editSelection}function ls(Ml,Rl){Ml._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+Rl+'"]').remove();var Bn=zn.makeSelectionsOptionsAndPlotinfo(Ml,Rl),Cl=Bn.options,Al=Bn.plotinfo;if(!Cl._input)return;Il(Ml._fullLayout._selectionLayer);function Il($l){var Bu=yl(Ml,Cl),Jl={"data-index":Rl,"fill-rule":"evenodd",d:Bu},Kl=Cl.opacity,Bl="rgba(0,0,0,0)",$u=Cl.line.color||Ln.contrast(Ml._fullLayout.plot_bgcolor),mu=Cl.line.width,Pu=Cl.line.dash;mu||(mu=5,Pu="solid");var bu=_l(Ml)&&Ml._fullLayout._activeSelectionIndex===Rl;bu&&(Bl=Ml._fullLayout.activeselection.fillcolor,Kl=Ml._fullLayout.activeselection.opacity);for(var Fu=[],Hu=1;Hu>=0;Hu--){var Gu=$l.append("path").attr(Jl).style("opacity",Hu?.1:Kl).call(Ln.stroke,$u).call(Ln.fill,Bl).call(Ft.dashLine,Hu?"solid":Pu,Hu?4+mu:mu);if(Sl(Gu,Ml,Cl),bu){var Xl=Fn(Ml.layout,"selections",Cl);Gu.style({cursor:"move"});var Wu={element:Gu.node(),plotinfo:Al,gd:Ml,editHelpers:Xl,isActiveSelection:!0},Yu=jt(Bu,Ml);it(Yu,Gu,Wu)}else Gu.style("pointer-events",Hu?"all":"none");Fu[Hu]=Gu}var ap=Fu[0],rp=Fu[1];rp.node().addEventListener("click",function(){return Pl(Ml,ap)})}}function Sl(Ml,Rl,Bn){var Cl=Bn.xref+Bn.yref;Ft.setClipUrl(Ml,"clip"+Rl._fullLayout._uid+Cl,Rl)}function Pl(Ml,Rl){if(_l(Ml)){var Bn=Rl.node(),Cl=+Bn.getAttribute("data-index");if(Cl>=0){if(Cl===Ml._fullLayout._activeSelectionIndex){El(Ml);return}Ml._fullLayout._activeSelectionIndex=Cl,Ml._fullLayout._deactivateSelection=El,ot(Ml)}}}function Tl(Ml){if(_l(Ml)){var Rl=Ml._fullLayout.selections.length-1;Ml._fullLayout._activeSelectionIndex=Rl,Ml._fullLayout._deactivateSelection=El,ot(Ml)}}function El(Ml){if(_l(Ml)){var Rl=Ml._fullLayout._activeSelectionIndex;Rl>=0&&(st(Ml),delete Ml._fullLayout._activeSelectionIndex,ot(Ml))}}}),Qv=a((yu,hu)=>{function jt(){var it,st=0,Ln=!1;function Ft(Fn,zn){return it.list.push({type:Fn,data:zn?JSON.parse(JSON.stringify(zn)):void 0}),it}return it={list:[],segmentId:function(){return st++},checkIntersection:function(Fn,zn){return Ft("check",{seg1:Fn,seg2:zn})},segmentChop:function(Fn,zn){return Ft("div_seg",{seg:Fn,pt:zn}),Ft("chop",{seg:Fn,pt:zn})},statusRemove:function(Fn){return Ft("pop_seg",{seg:Fn})},segmentUpdate:function(Fn){return Ft("seg_update",{seg:Fn})},segmentNew:function(Fn,zn){return Ft("new_seg",{seg:Fn,primary:zn})},segmentRemove:function(Fn){return Ft("rem_seg",{seg:Fn})},tempStatus:function(Fn,zn,yl){return Ft("temp_status",{seg:Fn,above:zn,below:yl})},rewind:function(Fn){return Ft("rewind",{seg:Fn})},status:function(Fn,zn,yl){return Ft("status",{seg:Fn,above:zn,below:yl})},vert:function(Fn){return Fn===Ln?it:(Ln=Fn,Ft("vert",{x:Fn}))},log:function(Fn){return typeof Fn!="string"&&(Fn=JSON.stringify(Fn,!1,"  ")),Ft("log",{txt:Fn})},reset:function(){return Ft("reset")},selected:function(Fn){return Ft("selected",{segs:Fn})},chainStart:function(Fn){return Ft("chain_start",{seg:Fn})},chainRemoveHead:function(Fn,zn){return Ft("chain_rem_head",{index:Fn,pt:zn})},chainRemoveTail:function(Fn,zn){return Ft("chain_rem_tail",{index:Fn,pt:zn})},chainNew:function(Fn,zn){return Ft("chain_new",{pt1:Fn,pt2:zn})},chainMatch:function(Fn){return Ft("chain_match",{index:Fn})},chainClose:function(Fn){return Ft("chain_close",{index:Fn})},chainAddHead:function(Fn,zn){return Ft("chain_add_head",{index:Fn,pt:zn})},chainAddTail:function(Fn,zn){return Ft("chain_add_tail",{index:Fn,pt:zn})},chainConnect:function(Fn,zn){return Ft("chain_con",{index1:Fn,index2:zn})},chainReverse:function(Fn){return Ft("chain_rev",{index:Fn})},chainJoin:function(Fn,zn){return Ft("chain_join",{index1:Fn,index2:zn})},done:function(){return Ft("done")}},it}hu.exports=jt}),fv=a((yu,hu)=>{function jt(it){typeof it!="number"&&(it=1e-10);var st={epsilon:function(Ln){return typeof Ln=="number"&&(it=Ln),it},pointAboveOrOnLine:function(Ln,Ft,Fn){var zn=Ft[0],yl=Ft[1],ot=Fn[0],_l=Fn[1],ls=Ln[0],Sl=Ln[1];return(ot-zn)*(Sl-yl)-(_l-yl)*(ls-zn)>=-it},pointBetween:function(Ln,Ft,Fn){var zn=Ln[1]-Ft[1],yl=Fn[0]-Ft[0],ot=Ln[0]-Ft[0],_l=Fn[1]-Ft[1],ls=ot*yl+zn*_l;if(ls<it)return!1;var Sl=yl*yl+_l*_l;return!(ls-Sl>-it)},pointsSameX:function(Ln,Ft){return Math.abs(Ln[0]-Ft[0])<it},pointsSameY:function(Ln,Ft){return Math.abs(Ln[1]-Ft[1])<it},pointsSame:function(Ln,Ft){return st.pointsSameX(Ln,Ft)&&st.pointsSameY(Ln,Ft)},pointsCompare:function(Ln,Ft){return st.pointsSameX(Ln,Ft)?st.pointsSameY(Ln,Ft)?0:Ln[1]<Ft[1]?-1:1:Ln[0]<Ft[0]?-1:1},pointsCollinear:function(Ln,Ft,Fn){var zn=Ln[0]-Ft[0],yl=Ln[1]-Ft[1],ot=Ft[0]-Fn[0],_l=Ft[1]-Fn[1];return Math.abs(zn*_l-ot*yl)<it},linesIntersect:function(Ln,Ft,Fn,zn){var yl=Ft[0]-Ln[0],ot=Ft[1]-Ln[1],_l=zn[0]-Fn[0],ls=zn[1]-Fn[1],Sl=yl*ls-ot*_l;if(Math.abs(Sl)<it)return!1;var Pl=Ln[0]-Fn[0],Tl=Ln[1]-Fn[1],El=(_l*Tl-ls*Pl)/Sl,Ml=(yl*Tl-ot*Pl)/Sl,Rl={alongA:0,alongB:0,pt:[Ln[0]+El*yl,Ln[1]+El*ot]};return El<=-it?Rl.alongA=-2:El<it?Rl.alongA=-1:El-1<=-it?Rl.alongA=0:El-1<it?Rl.alongA=1:Rl.alongA=2,Ml<=-it?Rl.alongB=-2:Ml<it?Rl.alongB=-1:Ml-1<=-it?Rl.alongB=0:Ml-1<it?Rl.alongB=1:Rl.alongB=2,Rl},pointInsideRegion:function(Ln,Ft){for(var Fn=Ln[0],zn=Ln[1],yl=Ft[Ft.length-1][0],ot=Ft[Ft.length-1][1],_l=!1,ls=0;ls<Ft.length;ls++){var Sl=Ft[ls][0],Pl=Ft[ls][1];Pl-zn>it!=ot-zn>it&&(yl-Sl)*(zn-Pl)/(ot-Pl)+Sl-Fn>it&&(_l=!_l),yl=Sl,ot=Pl}return _l}};return st}hu.exports=jt}),ay=a((yu,hu)=>{var jt={create:function(){var it={root:{root:!0,next:null},exists:function(st){return!(st===null||st===it.root)},isEmpty:function(){return it.root.next===null},getHead:function(){return it.root.next},insertBefore:function(st,Ln){for(var Ft=it.root,Fn=it.root.next;Fn!==null;){if(Ln(Fn)){st.prev=Fn.prev,st.next=Fn,Fn.prev.next=st,Fn.prev=st;return}Ft=Fn,Fn=Fn.next}Ft.next=st,st.prev=Ft,st.next=null},findTransition:function(st){for(var Ln=it.root,Ft=it.root.next;Ft!==null&&!st(Ft);)Ln=Ft,Ft=Ft.next;return{before:Ln===it.root?null:Ln,after:Ft,insert:function(Fn){return Fn.prev=Ln,Fn.next=Ft,Ln.next=Fn,Ft!==null&&(Ft.prev=Fn),Fn}}}};return it},node:function(it){return it.prev=null,it.next=null,it.remove=function(){it.prev.next=it.next,it.next&&(it.next.prev=it.prev),it.prev=null,it.next=null},it}};hu.exports=jt}),Fv=a((yu,hu)=>{var jt=ay();function it(st,Ln,Ft){function Fn(Rl,Bn){return{id:Ft?Ft.segmentId():-1,start:Rl,end:Bn,myFill:{above:null,below:null},otherFill:null}}function zn(Rl,Bn,Cl){return{id:Ft?Ft.segmentId():-1,start:Rl,end:Bn,myFill:{above:Cl.myFill.above,below:Cl.myFill.below},otherFill:null}}var yl=jt.create();function ot(Rl,Bn,Cl,Al,Il,$l){var Bu=Ln.pointsCompare(Bn,Il);return Bu!==0?Bu:Ln.pointsSame(Cl,$l)?0:Rl!==Al?Rl?1:-1:Ln.pointAboveOrOnLine(Cl,Al?Il:$l,Al?$l:Il)?1:-1}function _l(Rl,Bn){yl.insertBefore(Rl,function(Cl){var Al=ot(Rl.isStart,Rl.pt,Bn,Cl.isStart,Cl.pt,Cl.other.pt);return Al<0})}function ls(Rl,Bn){var Cl=jt.node({isStart:!0,pt:Rl.start,seg:Rl,primary:Bn,other:null,status:null});return _l(Cl,Rl.end),Cl}function Sl(Rl,Bn,Cl){var Al=jt.node({isStart:!1,pt:Bn.end,seg:Bn,primary:Cl,other:Rl,status:null});Rl.other=Al,_l(Al,Rl.pt)}function Pl(Rl,Bn){var Cl=ls(Rl,Bn);return Sl(Cl,Rl,Bn),Cl}function Tl(Rl,Bn){Ft&&Ft.segmentChop(Rl.seg,Bn),Rl.other.remove(),Rl.seg.end=Bn,Rl.other.pt=Bn,_l(Rl.other,Rl.pt)}function El(Rl,Bn){var Cl=zn(Bn,Rl.seg.end,Rl.seg);return Tl(Rl,Bn),Pl(Cl,Rl.primary)}function Ml(Rl,Bn){var Cl=jt.create();function Al(Gu,Xl){var Wu=Gu.seg.start,Yu=Gu.seg.end,ap=Xl.seg.start,rp=Xl.seg.end;return Ln.pointsCollinear(Wu,ap,rp)?Ln.pointsCollinear(Yu,ap,rp)||Ln.pointAboveOrOnLine(Yu,ap,rp)?1:-1:Ln.pointAboveOrOnLine(Wu,ap,rp)?1:-1}function Il(Gu){return Cl.findTransition(function(Xl){var Wu=Al(Gu,Xl.ev);return Wu>0})}function $l(Gu,Xl){var Wu=Gu.seg,Yu=Xl.seg,ap=Wu.start,rp=Wu.end,sp=Yu.start,bp=Yu.end;Ft&&Ft.checkIntersection(Wu,Yu);var Cp=Ln.linesIntersect(ap,rp,sp,bp);if(Cp===!1){if(!Ln.pointsCollinear(ap,rp,sp)||Ln.pointsSame(ap,bp)||Ln.pointsSame(rp,sp))return!1;var Ap=Ln.pointsSame(ap,sp),Lu=Ln.pointsSame(rp,bp);if(Ap&&Lu)return Xl;var Nu=!Ap&&Ln.pointBetween(ap,sp,bp),Hl=!Lu&&Ln.pointBetween(rp,sp,bp);if(Ap)return Hl?El(Xl,rp):El(Gu,bp),Xl;Nu&&(Lu||(Hl?El(Xl,rp):El(Gu,bp)),El(Xl,ap))}else Cp.alongA===0&&(Cp.alongB===-1?El(Gu,sp):Cp.alongB===0?El(Gu,Cp.pt):Cp.alongB===1&&El(Gu,bp)),Cp.alongB===0&&(Cp.alongA===-1?El(Xl,ap):Cp.alongA===0?El(Xl,Cp.pt):Cp.alongA===1&&El(Xl,rp));return!1}for(var Bu=[];!yl.isEmpty();){var Jl=yl.getHead();if(Ft&&Ft.vert(Jl.pt[0]),Jl.isStart){let Gu=function(){if(Bl){var Xl=$l(Jl,Bl);if(Xl)return Xl}return $u?$l(Jl,$u):!1};Ft&&Ft.segmentNew(Jl.seg,Jl.primary);var Kl=Il(Jl),Bl=Kl.before?Kl.before.ev:null,$u=Kl.after?Kl.after.ev:null;Ft&&Ft.tempStatus(Jl.seg,Bl?Bl.seg:!1,$u?$u.seg:!1);var mu=Gu();if(mu){if(st){var Pu;Jl.seg.myFill.below===null?Pu=!0:Pu=Jl.seg.myFill.above!==Jl.seg.myFill.below,Pu&&(mu.seg.myFill.above=!mu.seg.myFill.above)}else mu.seg.otherFill=Jl.seg.myFill;Ft&&Ft.segmentUpdate(mu.seg),Jl.other.remove(),Jl.remove()}if(yl.getHead()!==Jl){Ft&&Ft.rewind(Jl.seg);continue}if(st){var Pu;Jl.seg.myFill.below===null?Pu=!0:Pu=Jl.seg.myFill.above!==Jl.seg.myFill.below,$u?Jl.seg.myFill.below=$u.seg.myFill.above:Jl.seg.myFill.below=Rl,Pu?Jl.seg.myFill.above=!Jl.seg.myFill.below:Jl.seg.myFill.above=Jl.seg.myFill.below}else if(Jl.seg.otherFill===null){var bu;$u?Jl.primary===$u.primary?bu=$u.seg.otherFill.above:bu=$u.seg.myFill.above:bu=Jl.primary?Bn:Rl,Jl.seg.otherFill={above:bu,below:bu}}Ft&&Ft.status(Jl.seg,Bl?Bl.seg:!1,$u?$u.seg:!1),Jl.other.status=Kl.insert(jt.node({ev:Jl}))}else{var Fu=Jl.status;if(Fu===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(Cl.exists(Fu.prev)&&Cl.exists(Fu.next)&&$l(Fu.prev.ev,Fu.next.ev),Ft&&Ft.statusRemove(Fu.ev.seg),Fu.remove(),!Jl.primary){var Hu=Jl.seg.myFill;Jl.seg.myFill=Jl.seg.otherFill,Jl.seg.otherFill=Hu}Bu.push(Jl.seg)}yl.getHead().remove()}return Ft&&Ft.done(),Bu}return st?{addRegion:function(Rl){for(var Bn,Cl=Rl[Rl.length-1],Al=0;Al<Rl.length;Al++){Bn=Cl,Cl=Rl[Al];var Il=Ln.pointsCompare(Bn,Cl);Il!==0&&Pl(Fn(Il<0?Bn:Cl,Il<0?Cl:Bn),!0)}},calculate:function(Rl){return Ml(Rl,!1)}}:{calculate:function(Rl,Bn,Cl,Al){return Rl.forEach(function(Il){Pl(zn(Il.start,Il.end,Il),!0)}),Cl.forEach(function(Il){Pl(zn(Il.start,Il.end,Il),!1)}),Ml(Bn,Al)}}}hu.exports=it}),D1=a((yu,hu)=>{function jt(it,st,Ln){var Ft=[],Fn=[];return it.forEach(function(zn){var yl=zn.start,ot=zn.end;if(st.pointsSame(yl,ot)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}Ln&&Ln.chainStart(zn);var _l={index:0,matches_head:!1,matches_pt1:!1},ls={index:0,matches_head:!1,matches_pt1:!1},Sl=_l;function Pl(bu,Fu,Hu){return Sl.index=bu,Sl.matches_head=Fu,Sl.matches_pt1=Hu,Sl===_l?(Sl=ls,!1):(Sl=null,!0)}for(var Tl=0;Tl<Ft.length;Tl++){var El=Ft[Tl],Ml=El[0];El[1];var Rl=El[El.length-1];if(El[El.length-2],st.pointsSame(Ml,yl)){if(Pl(Tl,!0,!0))break}else if(st.pointsSame(Ml,ot)){if(Pl(Tl,!0,!1))break}else if(st.pointsSame(Rl,yl)){if(Pl(Tl,!1,!0))break}else if(st.pointsSame(Rl,ot)&&Pl(Tl,!1,!1))break}if(Sl===_l){Ft.push([yl,ot]),Ln&&Ln.chainNew(yl,ot);return}if(Sl===ls){Ln&&Ln.chainMatch(_l.index);var Bn=_l.index,Cl=_l.matches_pt1?ot:yl,Al=_l.matches_head,El=Ft[Bn],Il=Al?El[0]:El[El.length-1],$l=Al?El[1]:El[El.length-2],Bu=Al?El[El.length-1]:El[0],Jl=Al?El[El.length-2]:El[1];if(st.pointsCollinear($l,Il,Cl)&&(Al?(Ln&&Ln.chainRemoveHead(_l.index,Cl),El.shift()):(Ln&&Ln.chainRemoveTail(_l.index,Cl),El.pop()),Il=$l),st.pointsSame(Bu,Cl)){Ft.splice(Bn,1),st.pointsCollinear(Jl,Bu,Il)&&(Al?(Ln&&Ln.chainRemoveTail(_l.index,Il),El.pop()):(Ln&&Ln.chainRemoveHead(_l.index,Il),El.shift())),Ln&&Ln.chainClose(_l.index),Fn.push(El);return}Al?(Ln&&Ln.chainAddHead(_l.index,Cl),El.unshift(Cl)):(Ln&&Ln.chainAddTail(_l.index,Cl),El.push(Cl));return}function Kl(bu){Ln&&Ln.chainReverse(bu),Ft[bu].reverse()}function Bl(bu,Fu){var Hu=Ft[bu],Gu=Ft[Fu],Xl=Hu[Hu.length-1],Wu=Hu[Hu.length-2],Yu=Gu[0],ap=Gu[1];st.pointsCollinear(Wu,Xl,Yu)&&(Ln&&Ln.chainRemoveTail(bu,Xl),Hu.pop(),Xl=Wu),st.pointsCollinear(Xl,Yu,ap)&&(Ln&&Ln.chainRemoveHead(Fu,Yu),Gu.shift()),Ln&&Ln.chainJoin(bu,Fu),Ft[bu]=Hu.concat(Gu),Ft.splice(Fu,1)}var $u=_l.index,mu=ls.index;Ln&&Ln.chainConnect($u,mu);var Pu=Ft[$u].length<Ft[mu].length;_l.matches_head?ls.matches_head?Pu?(Kl($u),Bl($u,mu)):(Kl(mu),Bl(mu,$u)):Bl(mu,$u):ls.matches_head?Bl($u,mu):Pu?(Kl($u),Bl(mu,$u)):(Kl(mu),Bl($u,mu))}),Fn}hu.exports=jt}),kv=a((yu,hu)=>{function jt(st,Ln,Ft){var Fn=[];return st.forEach(function(zn){var yl=(zn.myFill.above?8:0)+(zn.myFill.below?4:0)+(zn.otherFill&&zn.otherFill.above?2:0)+(zn.otherFill&&zn.otherFill.below?1:0);Ln[yl]!==0&&Fn.push({id:Ft?Ft.segmentId():-1,start:zn.start,end:zn.end,myFill:{above:Ln[yl]===1,below:Ln[yl]===2},otherFill:null})}),Ft&&Ft.selected(Fn),Fn}var it={union:function(st,Ln){return jt(st,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],Ln)},intersect:function(st,Ln){return jt(st,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],Ln)},difference:function(st,Ln){return jt(st,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],Ln)},differenceRev:function(st,Ln){return jt(st,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],Ln)},xor:function(st,Ln){return jt(st,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],Ln)}};hu.exports=it}),sy=a((yu,hu)=>{var jt={toPolygon:function(it,st){function Ln(zn){if(zn.length<=0)return it.segments({inverted:!1,regions:[]});function yl(ls){var Sl=ls.slice(0,ls.length-1);return it.segments({inverted:!1,regions:[Sl]})}for(var ot=yl(zn[0]),_l=1;_l<zn.length;_l++)ot=it.selectDifference(it.combine(ot,yl(zn[_l])));return ot}if(st.type==="Polygon")return it.polygon(Ln(st.coordinates));if(st.type==="MultiPolygon"){for(var Ft=it.segments({inverted:!1,regions:[]}),Fn=0;Fn<st.coordinates.length;Fn++)Ft=it.selectUnion(it.combine(Ft,Ln(st.coordinates[Fn])));return it.polygon(Ft)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(it,st,Ln){Ln=it.polygon(it.segments(Ln));function Ft(El,Ml){return st.pointInsideRegion([(El[0][0]+El[1][0])*.5,(El[0][1]+El[1][1])*.5],Ml)}function Fn(El){return{region:El,children:[]}}var zn=Fn(null);function yl(El,Ml){for(var Rl=0;Rl<El.children.length;Rl++){var Bn=El.children[Rl];if(Ft(Ml,Bn.region)){yl(Bn,Ml);return}}for(var Cl=Fn(Ml),Rl=0;Rl<El.children.length;Rl++){var Bn=El.children[Rl];Ft(Bn.region,Ml)&&(Cl.children.push(Bn),El.children.splice(Rl,1),Rl--)}El.children.push(Cl)}for(var ot=0;ot<Ln.regions.length;ot++){var _l=Ln.regions[ot];_l.length<3||yl(zn,_l)}function ls(El,Ml){for(var Rl=0,Bn=El[El.length-1][0],Cl=El[El.length-1][1],Al=[],Il=0;Il<El.length;Il++){var $l=El[Il][0],Bu=El[Il][1];Al.push([$l,Bu]),Rl+=Bu*Bn-$l*Cl,Bn=$l,Cl=Bu}var Jl=Rl<0;return Jl!==Ml&&Al.reverse(),Al.push([Al[0][0],Al[0][1]]),Al}var Sl=[];function Pl(El){var Ml=[ls(El.region,!1)];Sl.push(Ml);for(var Rl=0;Rl<El.children.length;Rl++)Ml.push(Tl(El.children[Rl]))}function Tl(El){for(var Ml=0;Ml<El.children.length;Ml++)Pl(El.children[Ml]);return ls(El.region,!0)}for(var ot=0;ot<zn.children.length;ot++)Pl(zn.children[ot]);return Sl.length<=0?{type:"Polygon",coordinates:[]}:Sl.length==1?{type:"Polygon",coordinates:Sl[0]}:{type:"MultiPolygon",coordinates:Sl}}};hu.exports=jt}),z1=a((yu,hu)=>{var jt=Qv(),it=fv(),st=Fv(),Ln=D1(),Ft=kv(),Fn=sy(),zn=!1,yl=it(),ot;ot={buildLog:function(ls){return ls===!0?zn=jt():ls===!1&&(zn=!1),zn===!1?!1:zn.list},epsilon:function(ls){return yl.epsilon(ls)},segments:function(ls){var Sl=st(!0,yl,zn);return ls.regions.forEach(Sl.addRegion),{segments:Sl.calculate(ls.inverted),inverted:ls.inverted}},combine:function(ls,Sl){var Pl=st(!1,yl,zn);return{combined:Pl.calculate(ls.segments,ls.inverted,Sl.segments,Sl.inverted),inverted1:ls.inverted,inverted2:Sl.inverted}},selectUnion:function(ls){return{segments:Ft.union(ls.combined,zn),inverted:ls.inverted1||ls.inverted2}},selectIntersect:function(ls){return{segments:Ft.intersect(ls.combined,zn),inverted:ls.inverted1&&ls.inverted2}},selectDifference:function(ls){return{segments:Ft.difference(ls.combined,zn),inverted:ls.inverted1&&!ls.inverted2}},selectDifferenceRev:function(ls){return{segments:Ft.differenceRev(ls.combined,zn),inverted:!ls.inverted1&&ls.inverted2}},selectXor:function(ls){return{segments:Ft.xor(ls.combined,zn),inverted:ls.inverted1!==ls.inverted2}},polygon:function(ls){return{regions:Ln(ls.segments,yl,zn),inverted:ls.inverted}},polygonFromGeoJSON:function(ls){return Fn.toPolygon(ot,ls)},polygonToGeoJSON:function(ls){return Fn.fromPolygon(ot,yl,ls)},union:function(ls,Sl){return _l(ls,Sl,ot.selectUnion)},intersect:function(ls,Sl){return _l(ls,Sl,ot.selectIntersect)},difference:function(ls,Sl){return _l(ls,Sl,ot.selectDifference)},differenceRev:function(ls,Sl){return _l(ls,Sl,ot.selectDifferenceRev)},xor:function(ls,Sl){return _l(ls,Sl,ot.selectXor)}};function _l(ls,Sl,Pl){var Tl=ot.segments(ls),El=ot.segments(Sl),Ml=ot.combine(Tl,El),Rl=Pl(Ml);return ot.polygon(Rl)}typeof window=="object"&&(window.PolyBool=ot),hu.exports=ot}),qv=a((yu,hu)=>{hu.exports=function(jt,it,st,Ln){var Ft=jt[0],Fn=jt[1],zn=!1;st===void 0&&(st=0),Ln===void 0&&(Ln=it.length);for(var yl=Ln-st,ot=0,_l=yl-1;ot<yl;_l=ot++){var ls=it[ot+st][0],Sl=it[ot+st][1],Pl=it[_l+st][0],Tl=it[_l+st][1],El=Sl>Fn!=Tl>Fn&&Ft<(Pl-ls)*(Fn-Sl)/(Tl-Sl)+ls;El&&(zn=!zn)}return zn}}),Pv=a((yu,hu)=>{var jt=Km().dot,it=nt().BADNUM,st=hu.exports={};st.tester=function(Ln){var Ft=Ln.slice(),Fn=Ft[0][0],zn=Fn,yl=Ft[0][1],ot=yl,_l;for((Ft[Ft.length-1][0]!==Ft[0][0]||Ft[Ft.length-1][1]!==Ft[0][1])&&Ft.push(Ft[0]),_l=1;_l<Ft.length;_l++)Fn=Math.min(Fn,Ft[_l][0]),zn=Math.max(zn,Ft[_l][0]),yl=Math.min(yl,Ft[_l][1]),ot=Math.max(ot,Ft[_l][1]);var ls=!1,Sl;Ft.length===5&&(Ft[0][0]===Ft[1][0]?Ft[2][0]===Ft[3][0]&&Ft[0][1]===Ft[3][1]&&Ft[1][1]===Ft[2][1]&&(ls=!0,Sl=function(Rl){return Rl[0]===Ft[0][0]}):Ft[0][1]===Ft[1][1]&&Ft[2][1]===Ft[3][1]&&Ft[0][0]===Ft[3][0]&&Ft[1][0]===Ft[2][0]&&(ls=!0,Sl=function(Rl){return Rl[1]===Ft[0][1]}));function Pl(Rl,Bn){var Cl=Rl[0],Al=Rl[1];return!(Cl===it||Cl<Fn||Cl>zn||Al===it||Al<yl||Al>ot||Bn&&Sl(Rl))}function Tl(Rl,Bn){var Cl=Rl[0],Al=Rl[1];if(Cl===it||Cl<Fn||Cl>zn||Al===it||Al<yl||Al>ot)return!1;var Il=Ft.length,$l=Ft[0][0],Bu=Ft[0][1],Jl=0,Kl,Bl,$u,mu,Pu;for(Kl=1;Kl<Il;Kl++)if(Bl=$l,$u=Bu,$l=Ft[Kl][0],Bu=Ft[Kl][1],mu=Math.min(Bl,$l),!(Cl<mu||Cl>Math.max(Bl,$l)||Al>Math.max($u,Bu)))if(Al<Math.min($u,Bu))Cl!==mu&&Jl++;else{if($l===Bl?Pu=Al:Pu=$u+(Cl-Bl)*(Bu-$u)/($l-Bl),Al===Pu)return!(Kl===1&&Bn);Al<=Pu&&Cl!==mu&&Jl++}return Jl%2===1}var El=!0,Ml=Ft[0];for(_l=1;_l<Ft.length;_l++)if(Ml[0]!==Ft[_l][0]||Ml[1]!==Ft[_l][1]){El=!1;break}return{xmin:Fn,xmax:zn,ymin:yl,ymax:ot,pts:Ft,contains:ls?Pl:Tl,isRect:ls,degenerate:El}},st.isSegmentBent=function(Ln,Ft,Fn,zn){var yl=Ln[Ft],ot=[Ln[Fn][0]-yl[0],Ln[Fn][1]-yl[1]],_l=jt(ot,ot),ls=Math.sqrt(_l),Sl=[-ot[1]/ls,ot[0]/ls],Pl,Tl,El;for(Pl=Ft+1;Pl<Fn;Pl++)if(Tl=[Ln[Pl][0]-yl[0],Ln[Pl][1]-yl[1]],El=jt(Tl,ot),El<0||El>_l||Math.abs(jt(Tl,Sl))>zn)return!0;return!1},st.filter=function(Ln,Ft){var Fn=[Ln[0]],zn=0,yl=0;function ot(ls){Ln.push(ls);var Sl=Fn.length,Pl=zn;Fn.splice(yl+1);for(var Tl=Pl+1;Tl<Ln.length;Tl++)(Tl===Ln.length-1||st.isSegmentBent(Ln,Pl,Tl+1,Ft))&&(Fn.push(Ln[Tl]),Fn.length<Sl-2&&(zn=Tl,yl=Fn.length-1),Pl=Tl)}if(Ln.length>1){var _l=Ln.pop();ot(_l)}return{addPt:ot,raw:Ln,filtered:Fn}}}),mv=a((yu,hu)=>{hu.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}),$v=a((yu,hu)=>{var jt=z1(),it=qv(),st=N1(),Ln=q0().dashStyle,Ft=D0(),Fn=Ey(),zn=w0().makeEventData,yl=Fy(),ot=yl.freeMode,_l=yl.rectMode,ls=yl.drawMode,Sl=yl.openMode,Pl=yl.selectMode,Tl=Ql(),El=Ay(),Ml=Vu(),Rl=ev().clearOutline,Bn=ty(),Cl=Bn.handleEllipse,Al=Bn.readPaths,Il=Cy().newShapes,$l=My(),Bu=jy().activateLastSelection,Jl=gu(),Kl=Jl.sorterAsc,Bl=Pv(),$u=M2(),mu=rv().getFromId,Pu=Gy(),bu=g1().redrawReglTraces,Fu=mv(),Hu=Fu.MINSELECT,Gu=Bl.filter,Xl=Bl.tester,Wu=v2(),Yu=Wu.p2r,ap=Wu.axValue,rp=Wu.getTransform;function sp(kp){return kp.subplot!==void 0}function bp(kp,qp,Xu,hp,yp){var Dp=!sp(hp),Bp=ot(yp),Jp=_l(yp),n0=Sl(yp),b0=ls(yp),v0=Pl(yp),x0=yp==="drawline",U0=yp==="drawcircle",W0=x0||U0,Y0=hp.gd,gm=Y0._fullLayout,Dm=v0&&gm.newselection.mode==="immediate"&&Dp,Jm=gm._zoomlayer,a1=hp.element.getBoundingClientRect(),h1=hp.plotinfo,zm=rp(h1),xm=qp-a1.left,Qm=Xu-a1.top;gm._calcInverseTransform(Y0);var l1=Jl.apply3DTransform(gm._invTransform)(xm,Qm);xm=l1[0],Qm=l1[1];var Xm=gm._invScaleX,jm=gm._invScaleY,Wm=xm,Om=Qm,A1="M"+xm+","+Qm,B1=hp.xaxes[0],o1=hp.yaxes[0],$1=B1._length,X1=o1._length,cv=kp.altKey&&!(ls(yp)&&n0),dv,L1,iv,W1,Hm,Tv,ep;qu(kp,Y0,hp),Bp&&(dv=Gu([[xm,Qm]],Fu.BENDPX));var Qu=Jm.selectAll("path.select-outline-"+h1.id).data([1]),Up=b0?gm.newshape:gm.newselection;b0&&(hp.hasText=Up.label.text||Up.label.texttemplate);var _f=b0&&!n0?Up.fillcolor:"rgba(0,0,0,0)",u0=Up.line.color||(Dp?Ft.contrast(Y0._fullLayout.plot_bgcolor):"#7f7f7f");Qu.enter().append("path").attr("class","select-outline select-outline-"+h1.id).style({opacity:b0?Up.opacity/2:1,"stroke-dasharray":Ln(Up.line.dash,Up.line.width),"stroke-width":Up.line.width+"px","shape-rendering":"crispEdges"}).call(Ft.stroke,u0).call(Ft.fill,_f).attr("fill-rule","evenodd").classed("cursor-move",!!b0).attr("transform",zm).attr("d",A1+"Z");var Vp=Jm.append("path").attr("class","zoombox-corners").style({fill:Ft.background,stroke:Ft.defaultLine,"stroke-width":1}).attr("transform",zm).attr("d","M0,0Z");if(b0&&hp.hasText){var Yp=Jm.select(".label-temp");Yp.empty()&&(Yp=Jm.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var p0=gm._uid+Fu.SELECTID,o0=[],M0=Mu(Y0,hp.xaxes,hp.yaxes,hp.subplot);Dm&&!kp.shiftKey&&(hp._clearSubplotSelections=function(){if(Dp){var rm=B1._id,Tm=o1._id;y0(Y0,rm,Tm,M0);for(var Mm=(Y0.layout||{}).selections||[],Vm=[],_m=!1,Um=0;Um<Mm.length;Um++){var i1=gm.selections[Um];!i1||i1.xref!==rm||i1.yref!==Tm?Vm.push(Mm[Um]):_m=!0}_m&&(Y0._fullLayout._noEmitSelectedAtStart=!0,st.call("_guiRelayout",Y0,{selections:Vm}))}});var L0=sm(hp);hp.moveFn=function(rm,Tm){hp._clearSubplotSelections&&(hp._clearSubplotSelections(),hp._clearSubplotSelections=void 0),Wm=Math.max(0,Math.min($1,Xm*rm+xm)),Om=Math.max(0,Math.min(X1,jm*Tm+Qm));var Mm=Math.abs(Wm-xm),Vm=Math.abs(Om-Qm);if(Jp){var _m,Um,i1;if(v0){var ov=gm.selectdirection;switch(ov==="any"?Vm<Math.min(Mm*.6,Hu)?_m="h":Mm<Math.min(Vm*.6,Hu)?_m="v":_m="d":_m=ov,_m){case"h":Um=U0?X1/2:0,i1=X1;break;case"v":Um=U0?$1/2:0,i1=$1;break}}if(b0)switch(gm.newshape.drawdirection){case"vertical":_m="h",Um=U0?X1/2:0,i1=X1;break;case"horizontal":_m="v",Um=U0?$1/2:0,i1=$1;break;case"ortho":Mm<Vm?(_m="h",Um=Qm,i1=Om):(_m="v",Um=xm,i1=Wm);break;default:_m="d"}_m==="h"?(W1=W0?Cl(U0,[Wm,Um],[Wm,i1]):[[xm,Um],[xm,i1],[Wm,i1],[Wm,Um]],W1.xmin=W0?Wm:Math.min(xm,Wm),W1.xmax=W0?Wm:Math.max(xm,Wm),W1.ymin=Math.min(Um,i1),W1.ymax=Math.max(Um,i1),Vp.attr("d","M"+W1.xmin+","+(Qm-Hu)+"h-4v"+2*Hu+"h4ZM"+(W1.xmax-1)+","+(Qm-Hu)+"h4v"+2*Hu+"h-4Z")):_m==="v"?(W1=W0?Cl(U0,[Um,Om],[i1,Om]):[[Um,Qm],[Um,Om],[i1,Om],[i1,Qm]],W1.xmin=Math.min(Um,i1),W1.xmax=Math.max(Um,i1),W1.ymin=W0?Om:Math.min(Qm,Om),W1.ymax=W0?Om:Math.max(Qm,Om),Vp.attr("d","M"+(xm-Hu)+","+W1.ymin+"v-4h"+2*Hu+"v4ZM"+(xm-Hu)+","+(W1.ymax-1)+"v4h"+2*Hu+"v-4Z")):_m==="d"&&(W1=W0?Cl(U0,[xm,Qm],[Wm,Om]):[[xm,Qm],[xm,Om],[Wm,Om],[Wm,Qm]],W1.xmin=Math.min(xm,Wm),W1.xmax=Math.max(xm,Wm),W1.ymin=Math.min(Qm,Om),W1.ymax=Math.max(Qm,Om),Vp.attr("d","M0,0Z"))}else Bp&&(dv.addPt([Wm,Om]),W1=dv.filtered);if(hp.selectionDefs&&hp.selectionDefs.length?(iv=f0(hp.mergedPolygons,W1,cv),W1.subtract=cv,L1=Hl(hp.selectionDefs.concat([W1]))):(iv=[W1],L1=Xl(W1)),Ml(Sp(iv,n0),Qu,hp),v0){var R1=cp(Y0,!1),Ov=R1.eventData?R1.eventData.points.slice():[];R1=cp(Y0,!1,L1,M0,hp),L1=R1.selectionTesters,ep=R1.eventData;var V1;dv?V1=dv.filtered:V1=$0(iv),$u.throttle(p0,Fu.SELECTDELAY,function(){o0=Fp(L1,M0);for(var Bv=o0.slice(),Lv=0;Lv<Ov.length;Lv++){for(var ly=Ov[Lv],Jv=!1,q1=0;q1<Bv.length;q1++)if(Bv[q1].curveNumber===ly.curveNumber&&Bv[q1].pointNumber===ly.pointNumber){Jv=!0;break}Jv||Bv.push(ly)}Bv.length&&(ep||(ep={}),ep.points=Bv),L0(ep,V1),pm(Y0,ep)})}},hp.clickFn=function(rm,Tm){if(Vp.remove(),Y0._fullLayout._activeShapeIndex>=0){Y0._fullLayout._deactivateShape(Y0);return}if(!b0){var Mm=gm.clickmode;$u.done(p0).then(function(){if($u.clear(p0),rm===2){for(Qu.remove(),Hm=0;Hm<M0.length;Hm++)Tv=M0[Hm],Tv._module.selectPoints(Tv,!1);if(r0(Y0,M0),Ol(hp),vm(Y0),M0.length){var Vm=M0[0].xaxis,_m=M0[0].yaxis;if(Vm&&_m){for(var Um=[],i1=Y0._fullLayout.selections,ov=0;ov<i1.length;ov++){var R1=i1[ov];R1&&(R1.xref!==Vm._id||R1.yref!==_m._id)&&Um.push(R1)}Um.length<i1.length&&(Y0._fullLayout._noEmitSelectedAtStart=!0,st.call("_guiRelayout",Y0,{selections:Um}))}}}else Mm.indexOf("select")>-1&&Cp(Tm,Y0,hp.xaxes,hp.yaxes,hp.subplot,hp,Qu),Mm==="event"&&nm(Y0,void 0);Fn.click(Y0,Tm,h1.id)}).catch(Jl.error)}},hp.doneFn=function(){Vp.remove(),$u.done(p0).then(function(){$u.clear(p0),!Dm&&W1&&hp.selectionDefs&&(W1.subtract=cv,hp.selectionDefs.push(W1),hp.mergedPolygons.length=0,[].push.apply(hp.mergedPolygons,iv)),(Dm||b0)&&Ol(hp,Dm),hp.doneFnCompleted&&hp.doneFnCompleted(o0),v0&&nm(Y0,ep)}).catch(Jl.error)}}function Cp(kp,qp,Xu,hp,yp,Dp,Bp){var Jp=qp._hoverdata,n0=qp._fullLayout,b0=n0.clickmode,v0=b0.indexOf("event")>-1,x0=[],U0,W0,Y0,gm,Dm,Jm,a1,h1,zm,xm;if(ip(Jp)){qu(kp,qp,Dp),U0=Mu(qp,Xu,hp,yp);var Qm=pp(Jp,U0),l1=Qm.pointNumbers.length>0;if(l1?Pp(U0,Qm):Gp(U0)&&(a1=vp(Qm))){for(Bp&&Bp.remove(),xm=0;xm<U0.length;xm++)W0=U0[xm],W0._module.selectPoints(W0,!1);r0(qp,U0),Ol(Dp),v0&&vm(qp)}else{h1=kp.shiftKey&&(a1!==void 0?a1:vp(Qm)),Y0=Ap(Qm.pointNumber,Qm.searchInfo,h1);var Xm=Dp.selectionDefs.concat([Y0]);for(gm=Hl(Xm),xm=0;xm<U0.length;xm++)if(Dm=U0[xm]._module.selectPoints(U0[xm],gm),Jm=d0(Dm,U0[xm]),x0.length)for(var jm=0;jm<Jm.length;jm++)x0.push(Jm[jm]);else x0=Jm;if(zm={points:x0},r0(qp,U0,zm),Y0&&Dp&&Dp.selectionDefs.push(Y0),Bp){var Wm=Dp.mergedPolygons,Om=Sl(Dp.dragmode);Ml(Sp(Wm,Om),Bp,Dp)}v0&&nm(qp,zm)}}}function Ap(kp,qp,Xu){return{pointNumber:kp,searchInfo:qp,subtract:!!Xu}}function Lu(kp){return"pointNumber"in kp&&"searchInfo"in kp}function Nu(kp){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(qp,Xu,hp,yp){var Dp=kp.searchInfo.cd[0].trace.index,Bp=yp.cd[0].trace.index;return Bp===Dp&&hp===kp.pointNumber},isRect:!1,degenerate:!1,subtract:!!kp.subtract}}function Hl(kp){if(!kp.length)return;for(var qp=[],Xu=Lu(kp[0])?0:kp[0][0][0],hp=Xu,yp=Lu(kp[0])?0:kp[0][0][1],Dp=yp,Bp=0;Bp<kp.length;Bp++)if(Lu(kp[Bp]))qp.push(Nu(kp[Bp]));else{var Jp=Xl(kp[Bp]);Jp.subtract=!!kp[Bp].subtract,qp.push(Jp),Xu=Math.min(Xu,Jp.xmin),hp=Math.max(hp,Jp.xmax),yp=Math.min(yp,Jp.ymin),Dp=Math.max(Dp,Jp.ymax)}function n0(b0,v0,x0,U0){for(var W0=!1,Y0=0;Y0<qp.length;Y0++)qp[Y0].contains(b0,v0,x0,U0)&&(W0=!qp[Y0].subtract);return W0}return{xmin:Xu,xmax:hp,ymin:yp,ymax:Dp,pts:[],contains:n0,isRect:!1,degenerate:!1}}function qu(kp,qp,Xu){var hp=qp._fullLayout,yp=Xu.plotinfo,Dp=Xu.dragmode,Bp=hp._lastSelectedSubplot&&hp._lastSelectedSubplot===yp.id,Jp=(kp.shiftKey||kp.altKey)&&!(ls(Dp)&&Sl(Dp));Bp&&Jp&&yp.selection&&yp.selection.selectionDefs&&!Xu.selectionDefs?(Xu.selectionDefs=yp.selection.selectionDefs,Xu.mergedPolygons=yp.selection.mergedPolygons):(!Jp||!yp.selection)&&Ol(Xu),Bp||(Rl(qp),hp._lastSelectedSubplot=yp.id)}function np(kp){return kp._fullLayout._activeShapeIndex>=0}function vu(kp){return kp._fullLayout._activeSelectionIndex>=0}function Ol(kp,qp){var Xu=kp.dragmode,hp=kp.plotinfo,yp=kp.gd;np(yp)&&yp._fullLayout._deactivateShape(yp),vu(yp)&&yp._fullLayout._deactivateSelection(yp);var Dp=yp._fullLayout,Bp=Dp._zoomlayer,Jp=ls(Xu),n0=Pl(Xu);if(Jp||n0){var b0=Bp.selectAll(".select-outline-"+hp.id);if(b0&&yp._fullLayout._outlining){var v0;Jp&&(v0=Il(b0,kp)),v0&&st.call("_guiRelayout",yp,{shapes:v0});var x0;n0&&!sp(kp)&&(x0=$l(b0,kp)),x0&&(yp._fullLayout._noEmitSelectedAtStart=!0,st.call("_guiRelayout",yp,{selections:x0}).then(function(){qp&&Bu(yp)})),yp._fullLayout._outlining=!1}}hp.selection={},hp.selection.selectionDefs=kp.selectionDefs=[],hp.selection.mergedPolygons=kp.mergedPolygons=[]}function Wl(kp){return kp._id}function Mu(kp,qp,Xu,hp){if(!kp.calcdata)return[];var yp=[],Dp=qp.map(Wl),Bp=Xu.map(Wl),Jp,n0,b0;for(b0=0;b0<kp.calcdata.length;b0++)if(Jp=kp.calcdata[b0],n0=Jp[0].trace,!(n0.visible!==!0||!n0._module||!n0._module.selectPoints))if(sp({subplot:hp})&&(n0.subplot===hp||n0.geo===hp))yp.push(zu(n0._module,Jp,qp[0],Xu[0]));else if(n0.type==="splom"){if(n0._xaxes[Dp[0]]&&n0._yaxes[Bp[0]]){var v0=zu(n0._module,Jp,qp[0],Xu[0]);v0.scene=kp._fullLayout._splomScenes[n0.uid],yp.push(v0)}}else if(n0.type==="sankey"){var x0=zu(n0._module,Jp,qp[0],Xu[0]);yp.push(x0)}else{if(Dp.indexOf(n0.xaxis)===-1&&(!n0._xA||!n0._xA.overlaying)||Bp.indexOf(n0.yaxis)===-1&&(!n0._yA||!n0._yA.overlaying))continue;yp.push(zu(n0._module,Jp,mu(kp,n0.xaxis),mu(kp,n0.yaxis)))}return yp}function zu(kp,qp,Xu,hp){return{_module:kp,cd:qp,xaxis:Xu,yaxis:hp}}function ip(kp){return kp&&Array.isArray(kp)&&kp[0].hoverOnBox!==!0}function pp(kp,qp){var Xu=kp[0],hp=-1,yp=[],Dp,Bp;for(Bp=0;Bp<qp.length;Bp++)if(Dp=qp[Bp],Xu.fullData.index===Dp.cd[0].trace.index){if(Xu.hoverOnBox===!0)break;Xu.pointNumber!==void 0?hp=Xu.pointNumber:Xu.binNumber!==void 0&&(hp=Xu.binNumber,yp=Xu.pointNumbers);break}return{pointNumber:hp,pointNumbers:yp,searchInfo:Dp}}function vp(kp){var qp=kp.searchInfo.cd[0].trace,Xu=kp.pointNumber,hp=kp.pointNumbers,yp=hp.length>0,Dp=yp?hp[0]:Xu;return qp.selectedpoints?qp.selectedpoints.indexOf(Dp)>-1:!1}function Pp(kp,qp){var Xu=[],hp,yp,Dp,Bp;for(Bp=0;Bp<kp.length;Bp++)hp=kp[Bp],hp.cd[0].trace.selectedpoints&&hp.cd[0].trace.selectedpoints.length>0&&Xu.push(hp);if(Xu.length===1&&(Dp=Xu[0]===qp.searchInfo,Dp&&(yp=qp.searchInfo.cd[0].trace,yp.selectedpoints.length===qp.pointNumbers.length))){for(Bp=0;Bp<qp.pointNumbers.length;Bp++)if(yp.selectedpoints.indexOf(qp.pointNumbers[Bp])<0)return!1;return!0}return!1}function Gp(kp){var qp=0,Xu,hp,yp;for(yp=0;yp<kp.length;yp++)if(Xu=kp[yp],hp=Xu.cd[0].trace,hp.selectedpoints&&(hp.selectedpoints.length>1||(qp+=hp.selectedpoints.length,qp>1)))return!1;return qp===1}function r0(kp,qp,Xu){var hp;for(hp=0;hp<qp.length;hp++){var yp=qp[hp].cd[0].trace._fullInput,Dp=kp._fullLayout._tracePreGUI[yp.uid]||{};Dp.selectedpoints===void 0&&(Dp.selectedpoints=yp._input.selectedpoints||null)}var Bp;if(Xu){var Jp=Xu.points||[];for(hp=0;hp<qp.length;hp++)Bp=qp[hp].cd[0].trace,Bp._input.selectedpoints=Bp._fullInput.selectedpoints=[],Bp._fullInput!==Bp&&(Bp.selectedpoints=[]);for(var n0=0;n0<Jp.length;n0++){var b0=Jp[n0],v0=b0.data,x0=b0.fullData,U0=b0.pointIndex,W0=b0.pointIndices;W0?([].push.apply(v0.selectedpoints,W0),Bp._fullInput!==Bp&&[].push.apply(x0.selectedpoints,W0)):(v0.selectedpoints.push(U0),Bp._fullInput!==Bp&&x0.selectedpoints.push(U0))}}else for(hp=0;hp<qp.length;hp++)Bp=qp[hp].cd[0].trace,delete Bp.selectedpoints,delete Bp._input.selectedpoints,Bp._fullInput!==Bp&&delete Bp._fullInput.selectedpoints;C0(kp,qp)}function C0(kp,qp){for(var Xu=!1,hp=0;hp<qp.length;hp++){var yp=qp[hp],Dp=yp.cd;st.traceIs(Dp[0].trace,"regl")&&(Xu=!0);var Bp=yp._module,Jp=Bp.styleOnSelect||Bp.style;Jp&&(Jp(kp,Dp,Dp[0].node3),Dp[0].nodeRangePlot3&&Jp(kp,Dp,Dp[0].nodeRangePlot3))}Xu&&(Pu(kp),bu(kp))}function f0(kp,qp,Xu){for(var hp=Xu?jt.difference:jt.union,yp=hp({regions:kp},{regions:[qp]}),Dp=yp.regions.reverse(),Bp=0;Bp<Dp.length;Bp++){var Jp=Dp[Bp];Jp.subtract=O0(Jp,Dp.slice(0,Bp))}return Dp}function d0(kp,qp){if(Array.isArray(kp))for(var Xu=qp.cd,hp=qp.cd[0].trace,yp=0;yp<kp.length;yp++)kp[yp]=zn(kp[yp],hp,Xu);return kp}function Sp(kp,qp){for(var Xu=[],hp=0;hp<kp.length;hp++){Xu[hp]=[];for(var yp=0;yp<kp[hp].length;yp++){Xu[hp][yp]=[],Xu[hp][yp][0]=yp?"L":"M";for(var Dp=0;Dp<kp[hp][yp].length;Dp++)Xu[hp][yp].push(kp[hp][yp][Dp])}qp||Xu[hp].push(["Z",Xu[hp][0][1],Xu[hp][0][2]])}return Xu}function Fp(kp,qp){for(var Xu=[],hp,yp=[],Dp,Bp=0;Bp<qp.length;Bp++){var Jp=qp[Bp];Dp=Jp._module.selectPoints(Jp,kp),yp.push(Dp),hp=d0(Dp,Jp),Xu=Xu.concat(hp)}return Xu}function cp(kp,qp,Xu,hp,yp){var Dp=!!hp,Bp,Jp,n0;yp&&(Bp=yp.plotinfo,Jp=yp.xaxes[0]._id,n0=yp.yaxes[0]._id);var b0=[],v0=[],x0=E0(kp),U0=kp._fullLayout;if(Bp){var W0=U0._zoomlayer,Y0=U0.dragmode,gm=ls(Y0),Dm=Pl(Y0);if(gm||Dm){var Jm=mu(kp,Jp,"x"),a1=mu(kp,n0,"y");if(Jm&&a1){var h1=W0.selectAll(".select-outline-"+Bp.id);if(h1&&kp._fullLayout._outlining&&h1.length){for(var zm=h1[0][0],xm=zm.getAttribute("d"),Qm=Al(xm,kp,Bp),l1=[],Xm=0;Xm<Qm.length;Xm++){for(var jm=Qm[Xm],Wm=[],Om=0;Om<jm.length;Om++)Wm.push([j0(Jm,jm[Om][1]),j0(a1,jm[Om][2])]);Wm.xref=Jp,Wm.yref=n0,Wm.subtract=O0(Wm,l1),l1.push(Wm)}x0=x0.concat(l1)}}}}var A1=Jp&&n0?[Jp+n0]:U0._subplots.cartesian;jp(kp);for(var B1={},o1=0;o1<A1.length;o1++){var $1=A1[o1],X1=$1.indexOf("y"),cv=$1.slice(0,X1),dv=$1.slice(X1),L1=Jp&&n0?Xu:void 0;if(L1=P0(x0,cv,dv,L1),L1){var iv=hp;if(!Dp){var W1=mu(kp,cv,"x"),Hm=mu(kp,dv,"y");iv=Mu(kp,[W1],[Hm],$1);for(var Tv=0;Tv<iv.length;Tv++){var ep=iv[Tv],Qu=ep.cd[0],Up=Qu.trace;if(ep._module.name==="scattergl"&&!Qu.t.xpx){var _f=Up.x,u0=Up.y,Vp=Up._length;Qu.t.xpx=[],Qu.t.ypx=[];for(var Yp=0;Yp<Vp;Yp++)Qu.t.xpx[Yp]=W1.c2p(_f[Yp]),Qu.t.ypx[Yp]=Hm.c2p(u0[Yp])}ep._module.name==="splom"&&(B1[Up.uid]||(B1[Up.uid]=!0))}}var p0=Fp(L1,iv);b0=b0.concat(p0),v0=v0.concat(iv)}}var o0={points:b0};r0(kp,v0,o0);var M0=U0.clickmode,L0=M0.indexOf("event")>-1&&qp;if(!Bp&&qp){var rm=E0(kp,!0);if(rm.length){var Tm=rm[0].xref,Mm=rm[0].yref;if(Tm&&Mm){var Vm=$0(rm),_m=A0([mu(kp,Tm,"x"),mu(kp,Mm,"y")]);_m(o0,Vm)}}kp._fullLayout._noEmitSelectedAtStart?kp._fullLayout._noEmitSelectedAtStart=!1:L0&&nm(kp,o0),U0._reselect=!1}if(!Bp&&U0._deselect){var Um=U0._deselect;Jp=Um.xref,n0=Um.yref,a0(Jp,n0,v0)||y0(kp,Jp,n0,hp),L0&&(o0.points.length?nm(kp,o0):vm(kp)),U0._deselect=!1}return{eventData:o0,selectionTesters:Xu}}function jp(kp){var qp=kp.calcdata;if(qp)for(var Xu=0;Xu<qp.length;Xu++){var hp=qp[Xu][0],yp=hp.trace,Dp=kp._fullLayout._splomScenes;if(Dp){var Bp=Dp[yp.uid];Bp&&(Bp.selectBatch=[])}}}function a0(kp,qp,Xu){for(var hp=0;hp<Xu.length;hp++){var yp=Xu[hp];if(yp.xaxis&&yp.xaxis._id===kp&&yp.yaxis&&yp.yaxis._id===qp)return!0}return!1}function y0(kp,qp,Xu,hp){hp=Mu(kp,[mu(kp,qp,"x")],[mu(kp,Xu,"y")],qp+Xu);for(var yp=0;yp<hp.length;yp++){var Dp=hp[yp];Dp._module.selectPoints(Dp,!1)}r0(kp,hp)}function P0(kp,qp,Xu,hp){for(var yp,Dp=0;Dp<kp.length;Dp++){var Bp=kp[Dp];if(!(qp!==Bp.xref||Xu!==Bp.yref))if(yp){var Jp=!!Bp.subtract;yp=f0(yp,Bp,Jp),hp=Hl(yp)}else yp=[Bp],hp=Xl(Bp)}return hp}function E0(kp,qp){for(var Xu=[],hp=kp._fullLayout,yp=hp.selections,Dp=yp.length,Bp=0;Bp<Dp;Bp++)if(!(qp&&Bp!==hp._activeSelectionIndex)){var Jp=yp[Bp];if(Jp){var n0=Jp.xref,b0=Jp.yref,v0=mu(kp,n0,"x"),x0=mu(kp,b0,"y"),U0,W0,Y0,gm,Dm;if(Jp.type==="rect"){Dm=[];var Jm=j0(v0,Jp.x0),a1=j0(v0,Jp.x1),h1=j0(x0,Jp.y0),zm=j0(x0,Jp.y1);Dm=[[Jm,h1],[Jm,zm],[a1,zm],[a1,h1]],U0=Math.min(Jm,a1),W0=Math.max(Jm,a1),Y0=Math.min(h1,zm),gm=Math.max(h1,zm),Dm.xmin=U0,Dm.xmax=W0,Dm.ymin=Y0,Dm.ymax=gm,Dm.xref=n0,Dm.yref=b0,Dm.subtract=!1,Dm.isRect=!0,Xu.push(Dm)}else if(Jp.type==="path")for(var xm=Jp.path.split("Z"),Qm=[],l1=0;l1<xm.length;l1++){var Xm=xm[l1];if(Xm){Xm+="Z";var jm=Tl.extractPathCoords(Xm,El.paramIsX,"raw"),Wm=Tl.extractPathCoords(Xm,El.paramIsY,"raw");U0=1/0,W0=-1/0,Y0=1/0,gm=-1/0,Dm=[];for(var Om=0;Om<jm.length;Om++){var A1=j0(v0,jm[Om]),B1=j0(x0,Wm[Om]);Dm.push([A1,B1]),U0=Math.min(A1,U0),W0=Math.max(A1,W0),Y0=Math.min(B1,Y0),gm=Math.max(B1,gm)}Dm.xmin=U0,Dm.xmax=W0,Dm.ymin=Y0,Dm.ymax=gm,Dm.xref=n0,Dm.yref=b0,Dm.subtract=O0(Dm,Qm),Qm.push(Dm),Xu.push(Dm)}}}}return Xu}function O0(kp,qp){for(var Xu=!1,hp=0;hp<qp.length;hp++)for(var yp=qp[hp],Dp=0;Dp<kp.length;Dp++)if(it(kp[Dp],yp)){Xu=!Xu;break}return Xu}function j0(kp,qp){return kp.type==="date"&&(qp=qp.replace("_"," ")),kp.type==="log"?kp.c2p(qp):kp.r2p(qp,null,kp.calendar)}function $0(kp){for(var qp=kp.length,Xu=[],hp=0;hp<qp;hp++){var yp=kp[hp];Xu=Xu.concat(yp),Xu=Xu.concat([yp[0]])}return tm(Xu)}function tm(kp){return kp.isRect=kp.length===5&&kp[0][0]===kp[4][0]&&kp[0][1]===kp[4][1]&&kp[0][0]===kp[1][0]&&kp[2][0]===kp[3][0]&&kp[0][1]===kp[3][1]&&kp[1][1]===kp[2][1]||kp[0][1]===kp[1][1]&&kp[2][1]===kp[3][1]&&kp[0][0]===kp[3][0]&&kp[1][0]===kp[2][0],kp.isRect&&(kp.xmin=Math.min(kp[0][0],kp[2][0]),kp.xmax=Math.max(kp[0][0],kp[2][0]),kp.ymin=Math.min(kp[0][1],kp[2][1]),kp.ymax=Math.max(kp[0][1],kp[2][1])),kp}function A0(kp){return function(qp,Xu){for(var hp,yp,Dp=0;Dp<kp.length;Dp++){var Bp=kp[Dp],Jp=Bp._id,n0=Jp.charAt(0);if(Xu.isRect){hp||(hp={});var b0=Xu[n0+"min"],v0=Xu[n0+"max"];b0!==void 0&&v0!==void 0&&(hp[Jp]=[Yu(Bp,b0),Yu(Bp,v0)].sort(Kl))}else yp||(yp={}),yp[Jp]=Xu.map(ap(Bp))}hp&&(qp.range=hp),yp&&(qp.lassoPoints=yp)}}function sm(kp){var qp=kp.plotinfo;return qp.fillRangeItems||A0(kp.xaxes.concat(kp.yaxes))}function pm(kp,qp){kp.emit("plotly_selecting",qp)}function nm(kp,qp){qp&&(qp.selections=(kp.layout||{}).selections||[]),kp.emit("plotly_selected",qp)}function vm(kp){kp.emit("plotly_deselect",null)}hu.exports={reselect:cp,prepSelect:bp,clearOutline:Rl,clearSelectionsCache:Ol,selectOnClick:Cp}}),h2=a((yu,hu)=>{hu.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}),W2=a((yu,hu)=>{hu.exports={axisRefDescription:function(jt,it,st){return["If set to a",jt,"axis id (e.g. *"+jt+"* or","*"+jt+"2*), the `"+jt+"` position refers to a",jt,"coordinate. If set to *paper*, the `"+jt+"`","position refers to the distance from the",it,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",it,"("+st+"). If set to a",jt,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",it,"of the domain of that axis: e.g.,","*"+jt+"2 domain* refers to the domain of the second",jt," axis and a",jt,"position of 0.5 refers to the","point between the",it,"and the",st,"of the domain of the","second",jt,"axis."].join(" ")}}}),q2=a((yu,hu)=>{var jt=h2(),it=fp(),st=E1(),Ln=d1().templatedArray;W2(),hu.exports=Ln("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:it({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:jt.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:jt.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",st.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",st.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",st.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",st.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:it({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}),J2=a((yu,hu)=>{hu.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),d3=a((yu,hu)=>{hu.exports=function(jt){return{valType:"color",editType:"style",anim:!0}}}),h3=a((yu,hu)=>{var jt=Qy().axisHoverFormat,it=$y().texttemplateAttrs,st=$y().hovertemplateAttrs,Ln=wl(),Ft=fp(),Fn=hv().dash,zn=hv().pattern,yl=q0(),ot=J2(),_l=Uu().extendFlat,ls=d3();function Sl(El){return{valType:"any",dflt:0,editType:"calc"}}function Pl(El){return{valType:"any",editType:"calc"}}function Tl(El){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}hu.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:Sl(),yperiod:Sl(),xperiod0:Pl(),yperiod0:Pl(),xperiodalignment:Tl(),yperiodalignment:Tl(),xhoverformat:jt("x"),yhoverformat:jt("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:it({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:st({},{keys:ot.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:_l({},Fn,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:ls(!0),fillgradient:_l({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:zn,marker:_l({symbol:{valType:"enumerated",values:yl.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:_l({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},Ln("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},Ln("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:Ft({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}),Ax=a((yu,hu)=>{var jt=q2(),it=h3().line,st=hv().dash,Ln=Uu().extendFlat,Ft=x1().overrideAll,Fn=d1().templatedArray;W2(),hu.exports=Ft(Fn("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:Ln({},jt.xref,{}),yref:Ln({},jt.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:it.color,width:Ln({},it.width,{min:1,dflt:1}),dash:Ln({},st,{dflt:"dot"})}}),"arraydraw","from-root")}),fC=a((yu,hu)=>{var jt=gu(),it=bm(),st=_d(),Ln=Ax(),Ft=Ql();hu.exports=function(zn,yl){st(zn,yl,{name:"selections",handleItemDefaults:Fn});for(var ot=yl.selections,_l=0;_l<ot.length;_l++){var ls=ot[_l];ls&&ls.path===void 0&&(ls.x0===void 0||ls.x1===void 0||ls.y0===void 0||ls.y1===void 0)&&(yl.selections[_l]=null)}};function Fn(zn,yl,ot){function _l(Pu,bu){return jt.coerce(zn,yl,Ln,Pu,bu)}var ls=_l("path"),Sl=ls?"path":"rect",Pl=_l("type",Sl),Tl=Pl!=="path";Tl&&delete yl.path,_l("opacity"),_l("line.color"),_l("line.width"),_l("line.dash");for(var El=["x","y"],Ml=0;Ml<2;Ml++){var Rl=El[Ml],Bn={_fullLayout:ot},Cl,Al,Il,$l=it.coerceRef(zn,yl,Bn,Rl);if(Cl=it.getFromId(Bn,$l),Cl._selectionIndices.push(yl._index),Il=Ft.rangeToShapePosition(Cl),Al=Ft.shapePositionToRange(Cl),Tl){var Bu=Rl+"0",Jl=Rl+"1",Kl=zn[Bu],Bl=zn[Jl];zn[Bu]=Al(zn[Bu],!0),zn[Jl]=Al(zn[Jl],!0),it.coercePosition(yl,Bn,_l,$l,Bu),it.coercePosition(yl,Bn,_l,$l,Jl);var $u=yl[Bu],mu=yl[Jl];$u!==void 0&&mu!==void 0&&(yl[Bu]=Il($u),yl[Jl]=Il(mu),zn[Bu]=Kl,zn[Jl]=Bl)}}Tl&&jt.noneOrAll(zn,yl,["x0","x1","y0","y1"])}}),gC=a((yu,hu)=>{hu.exports=function(jt,it,st){st("newselection.mode");var Ln=st("newselection.line.width");Ln&&(st("newselection.line.color"),st("newselection.line.dash")),st("activeselection.fillcolor"),st("activeselection.opacity")}}),S3=a((yu,hu)=>{var jt=N1(),it=gu(),st=rv();hu.exports=function(Ln){return function(Ft,Fn){var zn=Ft[Ln];if(Array.isArray(zn))for(var yl=jt.subplotsRegistry.cartesian,ot=yl.idRegex,_l=Fn._subplots,ls=_l.xaxis,Sl=_l.yaxis,Pl=_l.cartesian,Tl=Fn._has("cartesian"),El=0;El<zn.length;El++){var Ml=zn[El];if(it.isPlainObject(Ml)){var Rl=st.cleanId(Ml.xref,"x",!1),Bn=st.cleanId(Ml.yref,"y",!1),Cl=ot.x.test(Rl),Al=ot.y.test(Bn);if(Cl||Al){Tl||it.pushUnique(Fn._basePlotModules,yl);var Il=!1;Cl&&ls.indexOf(Rl)===-1&&(ls.push(Rl),Il=!0),Al&&Sl.indexOf(Bn)===-1&&(Sl.push(Bn),Il=!0),Il&&Cl&&Al&&Pl.push(Rl+Bn)}}}}}}),m3=a((yu,hu)=>{var jt=jy(),it=$v();hu.exports={moduleType:"component",name:"selections",layoutAttributes:Ax(),supplyLayoutDefaults:fC(),supplyDrawNewSelectionDefaults:gC(),includeBasePlot:S3()("selections"),draw:jt.draw,drawOne:jt.drawOne,reselect:it.reselect,prepSelect:it.prepSelect,clearOutline:it.clearOutline,clearSelectionsCache:it.clearSelectionsCache,selectOnClick:it.selectOnClick}}),mC=a((yu,hu)=>{var jt=g(),it=gu(),st=it.numberFormat,Ln=Ju(),Ft=n1(),Fn=N1(),zn=it.strTranslate,yl=hy(),ot=D0(),_l=q0(),ls=Ey(),Sl=bm(),Pl=y1(),Tl=Pm(),El=Fy(),Ml=El.selectingOrDrawing,Rl=El.freeMode,Bn=pv().FROM_TL,Cl=Gy(),Al=g1().redrawReglTraces,Il=_v(),$l=rv().getFromId,Bu=m3().prepSelect,Jl=m3().clearOutline,Kl=m3().selectOnClick,Bl=Rv(),$u=E1(),mu=$u.MINDRAG,Pu=$u.MINZOOM,bu=!0;function Fu(zu,ip,pp,vp,Pp,Gp,r0,C0){var f0=zu._fullLayout._zoomlayer,d0=r0+C0==="nsew",Sp=(r0+C0).length===1,Fp,cp,jp,a0,y0,P0,E0,O0,j0,$0,tm,A0,sm,pm,nm,vm,kp,qp,Xu,hp,yp,Dp,Bp;pp+=ip.yaxis._shift;function Jp(){if(Fp=ip.xaxis,cp=ip.yaxis,j0=Fp._length,$0=cp._length,E0=Fp._offset,O0=cp._offset,jp={},jp[Fp._id]=Fp,a0={},a0[cp._id]=cp,r0&&C0)for(var Qu=ip.overlays,Up=0;Up<Qu.length;Up++){var _f=Qu[Up].xaxis;jp[_f._id]=_f;var u0=Qu[Up].yaxis;a0[u0._id]=u0}y0=Mu(jp),P0=Mu(a0),sm=Xl(y0,C0),pm=Xl(P0,r0),nm=!pm&&!sm,A0=Ol(zu,zu._fullLayout._axisMatchGroups,jp,a0),tm=Ol(zu,zu._fullLayout._axisConstraintGroups,jp,a0,A0);var Vp=tm.isSubplotConstrained||A0.isSubplotConstrained;vm=C0||Vp,kp=r0||Vp;var Yp=zu._fullLayout;qp=Yp._has("scattergl"),Xu=Yp._has("splom"),hp=Yp._has("svg")}Jp();var n0=sp(pm+sm,zu._fullLayout.dragmode,d0),b0=Gu(ip,r0+C0+"drag",n0,pp,vp,Pp,Gp);if(nm&&!d0)return b0.onmousedown=null,b0.style.pointerEvents="none",b0;var v0={element:b0,gd:zu,plotinfo:ip};v0.prepFn=function(Qu,Up,_f){var u0=v0.dragmode,Vp=zu._fullLayout.dragmode;Vp!==u0&&(v0.dragmode=Vp),Jp(),Dp=zu._fullLayout._invScaleX,Bp=zu._fullLayout._invScaleY,nm||(d0?Qu.shiftKey?Vp==="pan"?Vp="zoom":Ml(Vp)||(Vp="pan"):Qu.ctrlKey&&(Vp="pan"):Vp="pan"),Rl(Vp)?v0.minDrag=1:v0.minDrag=void 0,Ml(Vp)?(v0.xaxes=y0,v0.yaxes=P0,Bu(Qu,Up,_f,v0,Vp)):(v0.clickFn=U0,Ml(u0)&&x0(),nm||(Vp==="zoom"?(v0.moveFn=Xm,v0.doneFn=Wm,v0.minDrag=1,l1(Qu,Up,_f)):Vp==="pan"&&(v0.moveFn=X1,v0.doneFn=iv))),zu._fullLayout._redrag=function(){var Yp=zu._dragdata;if(Yp&&Yp.element===b0){var p0=zu._fullLayout.dragmode;Ml(p0)||(Jp(),W1([0,0,j0,$0]),v0.moveFn(Yp.dx,Yp.dy))}}};function x0(){v0.plotinfo.selection=!1,Jl(zu)}function U0(Qu,Up){var _f=v0.gd;if(_f._fullLayout._activeShapeIndex>=0){_f._fullLayout._deactivateShape(_f);return}var u0=_f._fullLayout.clickmode;if(Nu(_f),Qu===2&&!Sp&&L1(),d0)u0.indexOf("select")>-1&&Kl(Up,_f,y0,P0,ip.id,v0),u0.indexOf("event")>-1&&ls.click(_f,Up,ip.id);else if(Qu===1&&Sp){var Vp=r0?cp:Fp,Yp=r0==="s"||C0==="w"?0:1,p0=Vp._name+".range["+Yp+"]",o0=Wu(Vp,Yp),M0="left",L0="middle";if(Vp.fixedrange)return;r0?(L0=r0==="n"?"top":"bottom",Vp.side==="right"&&(M0="right")):C0==="e"&&(M0="right"),_f._context.showAxisRangeEntryBoxes&&jt.select(b0).call(yl.makeEditable,{gd:_f,immediate:!0,background:_f._fullLayout.paper_bgcolor,text:String(o0),fill:Vp.tickfont?Vp.tickfont.color:"#444",horizontalAlign:M0,verticalAlign:L0}).on("edit",function(rm){var Tm=Vp.d2r(rm);Tm!==void 0&&Fn.call("_guiRelayout",_f,p0,Tm)})}}Tl.init(v0);var W0,Y0,gm,Dm,Jm,a1,h1,zm,xm,Qm;function l1(Qu,Up,_f){var u0=b0.getBoundingClientRect();W0=Up-u0.left,Y0=_f-u0.top,zu._fullLayout._calcInverseTransform(zu);var Vp=it.apply3DTransform(zu._fullLayout._invTransform)(W0,Y0);W0=Vp[0],Y0=Vp[1],gm={l:W0,r:W0,w:0,t:Y0,b:Y0,h:0},Dm=zu._hmpixcount?zu._hmlumcount/zu._hmpixcount:Ln(zu._fullLayout.plot_bgcolor).getLuminance(),Jm="M0,0H"+j0+"V"+$0+"H0V0",a1=!1,h1="xy",Qm=!1,zm=bp(f0,Dm,E0,O0,Jm),xm=Cp(f0,E0,O0)}function Xm(Qu,Up){if(zu._transitioningWithDuration)return!1;var _f=Math.max(0,Math.min(j0,Dp*Qu+W0)),u0=Math.max(0,Math.min($0,Bp*Up+Y0)),Vp=Math.abs(_f-W0),Yp=Math.abs(u0-Y0);gm.l=Math.min(W0,_f),gm.r=Math.max(W0,_f),gm.t=Math.min(Y0,u0),gm.b=Math.max(Y0,u0);function p0(){h1="",gm.r=gm.l,gm.t=gm.b,xm.attr("d","M0,0Z")}if(tm.isSubplotConstrained)Vp>Pu||Yp>Pu?(h1="xy",Vp/j0>Yp/$0?(Yp=Vp*$0/j0,Y0>u0?gm.t=Y0-Yp:gm.b=Y0+Yp):(Vp=Yp*j0/$0,W0>_f?gm.l=W0-Vp:gm.r=W0+Vp),xm.attr("d",vu(gm))):p0();else if(A0.isSubplotConstrained)if(Vp>Pu||Yp>Pu){h1="xy";var o0=Math.min(gm.l/j0,($0-gm.b)/$0),M0=Math.max(gm.r/j0,($0-gm.t)/$0);gm.l=o0*j0,gm.r=M0*j0,gm.b=(1-o0)*$0,gm.t=(1-M0)*$0,xm.attr("d",vu(gm))}else p0();else!pm||Yp<Math.min(Math.max(Vp*.6,mu),Pu)?Vp<mu||!sm?p0():(gm.t=0,gm.b=$0,h1="x",xm.attr("d",qu(gm,Y0))):!sm||Vp<Math.min(Yp*.6,Pu)?(gm.l=0,gm.r=j0,h1="y",xm.attr("d",np(gm,W0))):(h1="xy",xm.attr("d",vu(gm)));gm.w=gm.r-gm.l,gm.h=gm.b-gm.t,h1&&(Qm=!0),zu._dragged=Qm,Ap(zm,xm,gm,Jm,a1,Dm),jm(),zu.emit("plotly_relayouting",yp),a1=!0}function jm(){yp={},(h1==="xy"||h1==="x")&&(Yu(y0,gm.l/j0,gm.r/j0,yp,tm.xaxes),cv("x",yp)),(h1==="xy"||h1==="y")&&(Yu(P0,($0-gm.b)/$0,($0-gm.t)/$0,yp,tm.yaxes),cv("y",yp))}function Wm(){jm(),Nu(zu),iv(),Hl(zu)}var Om=[0,0,j0,$0],A1=null,B1=$u.REDRAWDELAY,o1=ip.mainplot?zu._fullLayout._plots[ip.mainplot]:ip;function $1(Qu){if(!zu._context._scrollZoom.cartesian&&!zu._fullLayout._enablescrollzoom)return;if(x0(),zu._transitioningWithDuration){Qu.preventDefault(),Qu.stopPropagation();return}Jp(),clearTimeout(A1);var Up=-Qu.deltaY;if(isFinite(Up)||(Up=Qu.wheelDelta/10),!isFinite(Up)){it.log("Did not find wheel motion attributes: ",Qu);return}var _f=Math.exp(-Math.min(Math.max(Up,-20),20)/200),u0=o1.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Vp=(Qu.clientX-u0.left)/u0.width,Yp=(u0.bottom-Qu.clientY)/u0.height,p0;function o0(M0,L0,rm){if(M0.fixedrange)return;var Tm=it.simpleMap(M0.range,M0.r2l),Mm=Tm[0]+(Tm[1]-Tm[0])*L0;function Vm(_m){return M0.l2r(Mm+(_m-Mm)*rm)}M0.range=Tm.map(Vm)}if(vm){for(C0||(Vp=.5),p0=0;p0<y0.length;p0++)o0(y0[p0],Vp,_f);cv("x"),Om[2]*=_f,Om[0]+=Om[2]*Vp*(1/_f-1)}if(kp){for(r0||(Yp=.5),p0=0;p0<P0.length;p0++)o0(P0[p0],Yp,_f);cv("y"),Om[3]*=_f,Om[1]+=Om[3]*(1-Yp)*(1/_f-1)}W1(Om),dv(),zu.emit("plotly_relayouting",yp),A1=setTimeout(function(){zu._fullLayout&&(Om=[0,0,j0,$0],iv())},B1),Qu.preventDefault()}r0.length*C0.length!==1&&Wl(b0,$1);function X1(Qu,Up){if(Qu=Qu*Dp,Up=Up*Bp,zu._transitioningWithDuration)return;if(zu._fullLayout._replotting=!0,sm==="ew"||pm==="ns"){var _f=sm?-Qu:0,u0=pm?-Up:0;if(A0.isSubplotConstrained){if(sm&&pm){var Vp=(Qu/j0-Up/$0)/2;Qu=Vp*j0,Up=-Vp*$0,_f=-Qu,u0=-Up}pm?_f=-u0*j0/$0:u0=-_f*$0/j0}sm&&(ap(y0,Qu),cv("x")),pm&&(ap(P0,Up),cv("y")),W1([_f,u0,j0,$0]),dv(),zu.emit("plotly_relayouting",yp);return}function Yp(Vm,_m,Um){for(var i1=1-_m,ov,R1,Ov=0;Ov<Vm.length;Ov++){var V1=Vm[Ov];if(!V1.fixedrange){ov=V1,R1=V1._rl[i1]+(V1._rl[_m]-V1._rl[i1])/rp(Um/V1._length);var Bv=V1.l2r(R1);Bv!==!1&&Bv!==void 0&&(V1.range[_m]=Bv)}}return ov._length*(ov._rl[_m]-R1)/(ov._rl[_m]-ov._rl[i1])}var p0=sm==="w"==(pm==="n")?1:-1;if(sm&&pm&&(tm.isSubplotConstrained||A0.isSubplotConstrained)){var o0=(Qu/j0+p0*Up/$0)/2;Qu=o0*j0,Up=p0*o0*$0}var M0,L0;if(sm==="w"?Qu=Yp(y0,0,Qu):sm==="e"?Qu=Yp(y0,1,-Qu):sm||(Qu=0),pm==="n"?Up=Yp(P0,1,Up):pm==="s"?Up=Yp(P0,0,-Up):pm||(Up=0),M0=sm==="w"?Qu:0,L0=pm==="n"?Up:0,tm.isSubplotConstrained&&!A0.isSubplotConstrained||A0.isSubplotConstrained&&sm&&pm&&p0>0){var rm;if(A0.isSubplotConstrained||!sm&&pm.length===1){for(rm=0;rm<y0.length;rm++)y0[rm].range=y0[rm]._r.slice(),Bl(y0[rm],1-Up/$0);Qu=Up*j0/$0,M0=Qu/2}if(A0.isSubplotConstrained||!pm&&sm.length===1){for(rm=0;rm<P0.length;rm++)P0[rm].range=P0[rm]._r.slice(),Bl(P0[rm],1-Qu/j0);Up=Qu*$0/j0,L0=Up/2}}(!A0.isSubplotConstrained||!pm)&&cv("x"),(!A0.isSubplotConstrained||!sm)&&cv("y");var Tm=j0-Qu,Mm=$0-Up;A0.isSubplotConstrained&&!(sm&&pm)&&(sm?(L0=M0?0:Qu*$0/j0,Mm=Tm*$0/j0):(M0=L0?0:Up*j0/$0,Tm=Mm*j0/$0)),W1([M0,L0,Tm,Mm]),dv(),zu.emit("plotly_relayouting",yp)}function cv(Qu,Up){for(var _f=A0.isSubplotConstrained?{x:P0,y:y0}[Qu]:A0[Qu+"axes"],u0=A0.isSubplotConstrained?{x:y0,y:P0}[Qu]:[],Vp=0;Vp<_f.length;Vp++){var Yp=_f[Vp],p0=Yp._id,o0=A0.xLinks[p0]||A0.yLinks[p0],M0=u0[0]||jp[o0]||a0[o0];M0&&(Up?(Up[Yp._name+".range[0]"]=Up[M0._name+".range[0]"],Up[Yp._name+".range[1]"]=Up[M0._name+".range[1]"]):Yp.range=M0.range.slice())}}function dv(){var Qu=[],Up;function _f(p0){for(Up=0;Up<p0.length;Up++)p0[Up].fixedrange||Qu.push(p0[Up]._id)}function u0(p0,o0){for(Up=0;Up<p0.length;Up++){var M0=p0[Up],L0=M0[o0];!M0.fixedrange&&L0.tickmode==="sync"&&Qu.push(L0._id)}}for(vm&&(_f(y0),_f(tm.xaxes),_f(A0.xaxes),u0(ip.overlays,"xaxis")),kp&&(_f(P0),_f(tm.yaxes),_f(A0.yaxes),u0(ip.overlays,"yaxis")),yp={},Up=0;Up<Qu.length;Up++){var Vp=Qu[Up],Yp=$l(zu,Vp);Sl.drawOne(zu,Yp,{skipTitle:!0}),yp[Yp._name+".range[0]"]=Yp.range[0],yp[Yp._name+".range[1]"]=Yp.range[1]}Sl.redrawComponents(zu,Qu)}function L1(){if(!zu._transitioningWithDuration){var Qu=zu._context.doubleClick,Up=[];sm&&(Up=Up.concat(y0)),pm&&(Up=Up.concat(P0)),A0.xaxes&&(Up=Up.concat(A0.xaxes)),A0.yaxes&&(Up=Up.concat(A0.yaxes));var _f={},u0,Vp;if(Qu==="reset+autosize")for(Qu="autosize",Vp=0;Vp<Up.length;Vp++){u0=Up[Vp];var Yp=u0._rangeInitial0,p0=u0._rangeInitial1,o0=Yp!==void 0||p0!==void 0;if(o0&&(Yp!==void 0&&Yp!==u0.range[0]||p0!==void 0&&p0!==u0.range[1])||!o0&&u0.autorange!==!0){Qu="reset";break}}if(Qu==="autosize")for(Vp=0;Vp<Up.length;Vp++)u0=Up[Vp],u0.fixedrange||(_f[u0._name+".autorange"]=!0);else if(Qu==="reset"){for((sm||tm.isSubplotConstrained)&&(Up=Up.concat(tm.xaxes)),pm&&!tm.isSubplotConstrained&&(Up=Up.concat(tm.yaxes)),tm.isSubplotConstrained&&(sm?pm||(Up=Up.concat(P0)):Up=Up.concat(y0)),Vp=0;Vp<Up.length;Vp++)if(u0=Up[Vp],!u0.fixedrange){var M0=u0._name,L0=u0._autorangeInitial;u0._rangeInitial0===void 0&&u0._rangeInitial1===void 0?_f[M0+".autorange"]=!0:u0._rangeInitial0===void 0?(_f[M0+".autorange"]=L0,_f[M0+".range"]=[null,u0._rangeInitial1]):u0._rangeInitial1===void 0?(_f[M0+".range"]=[u0._rangeInitial0,null],_f[M0+".autorange"]=L0):_f[M0+".range"]=[u0._rangeInitial0,u0._rangeInitial1]}}zu.emit("plotly_doubleclick",null),Fn.call("_guiRelayout",zu,_f)}}function iv(){W1([0,0,j0,$0]),it.syncOrAsync([Il.previousPromises,function(){zu._fullLayout._replotting=!1,Fn.call("_guiRelayout",zu,yp)}],zu)}function W1(Qu){var Up=zu._fullLayout,_f=Up._plots,u0=Up._subplots.cartesian,Vp,Yp,p0,o0;if(Xu&&Fn.subplotsRegistry.splom.drag(zu),qp){for(Vp=0;Vp<u0.length;Vp++)if(Yp=_f[u0[Vp]],p0=Yp.xaxis,o0=Yp.yaxis,Yp._scene){p0.limitRange&&p0.limitRange(),o0.limitRange&&o0.limitRange();var M0=it.simpleMap(p0.range,p0.r2l),L0=it.simpleMap(o0.range,o0.r2l);Yp._scene.update({range:[M0[0],L0[0],M0[1],L0[1]]})}}if((Xu||qp)&&(Cl(zu),Al(zu)),hp){var rm=Qu[2]/Fp._length,Tm=Qu[3]/cp._length;for(Vp=0;Vp<u0.length;Vp++){Yp=_f[u0[Vp]],p0=Yp.xaxis,o0=Yp.yaxis;var Mm=(vm||A0.isSubplotConstrained)&&!p0.fixedrange&&jp[p0._id],Vm=(kp||A0.isSubplotConstrained)&&!o0.fixedrange&&a0[o0._id],_m,Um,i1,ov;if(Mm?(_m=rm,i1=C0||A0.isSubplotConstrained?Qu[0]:ep(p0,_m)):A0.xaHash[p0._id]?(_m=rm,i1=Qu[0]*p0._length/Fp._length):A0.yaHash[p0._id]?(_m=Tm,i1=pm==="ns"?-Qu[1]*p0._length/cp._length:ep(p0,_m,{n:"top",s:"bottom"}[pm])):(_m=Hm(p0,rm,Tm),i1=Tv(p0,_m)),_m>1&&(p0.maxallowed!==void 0&&vm===(p0.range[0]<p0.range[1]?"e":"w")||p0.minallowed!==void 0&&vm===(p0.range[0]<p0.range[1]?"w":"e"))&&(_m=1,i1=0),Vm?(Um=Tm,ov=r0||A0.isSubplotConstrained?Qu[1]:ep(o0,Um)):A0.yaHash[o0._id]?(Um=Tm,ov=Qu[1]*o0._length/cp._length):A0.xaHash[o0._id]?(Um=rm,ov=sm==="ew"?-Qu[0]*o0._length/Fp._length:ep(o0,Um,{e:"right",w:"left"}[sm])):(Um=Hm(o0,rm,Tm),ov=Tv(o0,Um)),Um>1&&(o0.maxallowed!==void 0&&kp===(o0.range[0]<o0.range[1]?"n":"s")||o0.minallowed!==void 0&&kp===(o0.range[0]<o0.range[1]?"s":"n"))&&(Um=1,ov=0),!(!_m&&!Um)){_m||(_m=1),Um||(Um=1);var R1=p0._offset-i1/_m,Ov=o0._offset-ov/Um;Yp.clipRect.call(_l.setTranslate,i1,ov).call(_l.setScale,_m,Um),Yp.plot.call(_l.setTranslate,R1,Ov).call(_l.setScale,1/_m,1/Um),(_m!==Yp.xScaleFactor||Um!==Yp.yScaleFactor)&&(_l.setPointGroupScale(Yp.zoomScalePts,_m,Um),_l.setTextPointsScale(Yp.zoomScaleTxt,_m,Um)),_l.hideOutsideRangePoints(Yp.clipOnAxisFalseTraces,Yp),Yp.xScaleFactor=_m,Yp.yScaleFactor=Um}}}}function Hm(Qu,Up,_f){return Qu.fixedrange?0:vm&&tm.xaHash[Qu._id]?Up:kp&&(tm.isSubplotConstrained?tm.xaHash:tm.yaHash)[Qu._id]?_f:0}function Tv(Qu,Up){return Up?(Qu.range=Qu._r.slice(),Bl(Qu,Up),ep(Qu,Up)):0}function ep(Qu,Up,_f){return Qu._length*(1-Up)*Bn[_f||Qu.constraintoward||"middle"]}return b0}function Hu(zu,ip,pp,vp){var Pp=it.ensureSingle(zu.draglayer,ip,pp,function(Gp){Gp.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",zu.id)});return Pp.call(Pl,vp),Pp.node()}function Gu(zu,ip,pp,vp,Pp,Gp,r0){var C0=Hu(zu,"rect",ip,pp);return jt.select(C0).call(_l.setRect,vp,Pp,Gp,r0),C0}function Xl(zu,ip){for(var pp=0;pp<zu.length;pp++)if(!zu[pp].fixedrange)return ip;return""}function Wu(zu,ip){var pp=zu.range[ip],vp=Math.abs(pp-zu.range[1-ip]),Pp;return zu.type==="date"?pp:zu.type==="log"?(Pp=Math.ceil(Math.max(0,-Math.log(vp)/Math.LN10))+3,st("."+Pp+"g")(Math.pow(10,pp))):(Pp=Math.floor(Math.log(Math.abs(pp))/Math.LN10)-Math.floor(Math.log(vp)/Math.LN10)+4,st("."+String(Pp)+"g")(pp))}function Yu(zu,ip,pp,vp,Pp){for(var Gp=0;Gp<zu.length;Gp++){var r0=zu[Gp];if(!r0.fixedrange)if(r0.rangebreaks){var C0=r0._id.charAt(0)==="y",f0=C0?1-ip:ip,d0=C0?1-pp:pp;vp[r0._name+".range[0]"]=r0.l2r(r0.p2l(f0*r0._length)),vp[r0._name+".range[1]"]=r0.l2r(r0.p2l(d0*r0._length))}else{var Sp=r0._rl[0],Fp=r0._rl[1]-Sp;vp[r0._name+".range[0]"]=r0.l2r(Sp+Fp*ip),vp[r0._name+".range[1]"]=r0.l2r(Sp+Fp*pp)}}if(Pp&&Pp.length){var cp=(ip+(1-pp))/2;Yu(Pp,cp,1-cp,vp,[])}}function ap(zu,ip){for(var pp=0;pp<zu.length;pp++){var vp=zu[pp];if(!vp.fixedrange){if(vp.rangebreaks){var Pp=0,Gp=vp._length,r0=vp.p2l(Pp+ip)-vp.p2l(Pp),C0=vp.p2l(Gp+ip)-vp.p2l(Gp),f0=(r0+C0)/2;vp.range=[vp.l2r(vp._rl[0]-f0),vp.l2r(vp._rl[1]-f0)]}else vp.range=[vp.l2r(vp._rl[0]-ip/vp._m),vp.l2r(vp._rl[1]-ip/vp._m)];vp.limitRange&&vp.limitRange()}}}function rp(zu){return 1-(zu>=0?Math.min(zu,.9):1/(1/Math.max(zu,-.3)+3.222))}function sp(zu,ip,pp){return zu?zu==="nsew"?pp?"":ip==="pan"?"move":"crosshair":zu.toLowerCase()+"-resize":"pointer"}function bp(zu,ip,pp,vp,Pp){return zu.append("path").attr("class","zoombox").style({fill:ip>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",zn(pp,vp)).attr("d",Pp+"Z")}function Cp(zu,ip,pp){return zu.append("path").attr("class","zoombox-corners").style({fill:ot.background,stroke:ot.defaultLine,"stroke-width":1,opacity:0}).attr("transform",zn(ip,pp)).attr("d","M0,0Z")}function Ap(zu,ip,pp,vp,Pp,Gp){zu.attr("d",vp+"M"+pp.l+","+pp.t+"v"+pp.h+"h"+pp.w+"v-"+pp.h+"h-"+pp.w+"Z"),Lu(zu,ip,Pp,Gp)}function Lu(zu,ip,pp,vp){pp||(zu.transition().style("fill",vp>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ip.transition().style("opacity",1).duration(200))}function Nu(zu){jt.select(zu).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Hl(zu){bu&&zu.data&&zu._context.showTips&&(it.notifier(it._(zu,"Double-click to zoom back out"),"long"),bu=!1)}function qu(zu,ip){return"M"+(zu.l-.5)+","+(ip-Pu-.5)+"h-3v"+(2*Pu+1)+"h3ZM"+(zu.r+.5)+","+(ip-Pu-.5)+"h3v"+(2*Pu+1)+"h-3Z"}function np(zu,ip){return"M"+(ip-Pu-.5)+","+(zu.t-.5)+"v-3h"+(2*Pu+1)+"v3ZM"+(ip-Pu-.5)+","+(zu.b+.5)+"v3h"+(2*Pu+1)+"v-3Z"}function vu(zu){var ip=Math.floor(Math.min(zu.b-zu.t,zu.r-zu.l,Pu)/2);return"M"+(zu.l-3.5)+","+(zu.t-.5+ip)+"h3v"+-ip+"h"+ip+"v-3h-"+(ip+3)+"ZM"+(zu.r+3.5)+","+(zu.t-.5+ip)+"h-3v"+-ip+"h"+-ip+"v-3h"+(ip+3)+"ZM"+(zu.r+3.5)+","+(zu.b+.5-ip)+"h-3v"+ip+"h"+-ip+"v3h"+(ip+3)+"ZM"+(zu.l-3.5)+","+(zu.b+.5-ip)+"h3v"+ip+"h"+ip+"v3h-"+(ip+3)+"Z"}function Ol(zu,ip,pp,vp,Pp){for(var Gp=!1,r0={},C0={},f0,d0,Sp,Fp,cp=(Pp||{}).xaHash,jp=(Pp||{}).yaHash,a0=0;a0<ip.length;a0++){var y0=ip[a0];for(f0 in pp)if(y0[f0]){for(Sp in y0)!(Pp&&(cp[Sp]||jp[Sp]))&&!(Sp.charAt(0)==="x"?pp:vp)[Sp]&&(r0[Sp]=f0);for(d0 in vp)!(Pp&&(cp[d0]||jp[d0]))&&y0[d0]&&(Gp=!0)}for(d0 in vp)if(y0[d0])for(Fp in y0)!(Pp&&(cp[Fp]||jp[Fp]))&&!(Fp.charAt(0)==="x"?pp:vp)[Fp]&&(C0[Fp]=d0)}Gp&&(it.extendFlat(r0,C0),C0={});var P0={},E0=[];for(Sp in r0){var O0=$l(zu,Sp);E0.push(O0),P0[O0._id]=O0}var j0={},$0=[];for(Fp in C0){var tm=$l(zu,Fp);$0.push(tm),j0[tm._id]=tm}return{xaHash:P0,yaHash:j0,xaxes:E0,yaxes:$0,xLinks:r0,yLinks:C0,isSubplotConstrained:Gp}}function Wl(zu,ip){if(!Ft)zu.onwheel!==void 0?zu.onwheel=ip:zu.onmousewheel!==void 0?zu.onmousewheel=ip:zu.isAddedWheelEvent||(zu.isAddedWheelEvent=!0,zu.addEventListener("wheel",ip,{passive:!1}));else{var pp=zu.onwheel!==void 0?"wheel":"mousewheel";zu._onwheel&&zu.removeEventListener(pp,zu._onwheel),zu._onwheel=ip,zu.addEventListener(pp,ip,{passive:!1})}}function Mu(zu){var ip=[];for(var pp in zu)ip.push(zu[pp]);return ip}hu.exports={makeDragBox:Fu,makeDragger:Hu,makeRectDragger:Gu,makeZoombox:bp,makeCorners:Cp,updateZoombox:Ap,xyCorners:vu,transitionZoombox:Lu,removeZoombox:Nu,showDoubleClickNotifier:Hl,attachWheelEventHandler:Wl}}),Tx=a(yu=>{var hu=g(),jt=Ey(),it=Pm(),st=y1(),Ln=mC().makeDragBox,Ft=E1().DRAGGERSIZE;yu.initInteractions=function(Fn){var zn=Fn._fullLayout;if(Fn._context.staticPlot){hu.select(Fn).selectAll(".drag").remove();return}if(!(!zn._has("cartesian")&&!zn._has("splom"))){var yl=Object.keys(zn._plots||{}).sort(function(_l,ls){if((zn._plots[_l].mainplot&&!0)===(zn._plots[ls].mainplot&&!0)){var Sl=_l.split("y"),Pl=ls.split("y");return Sl[0]===Pl[0]?Number(Sl[1]||1)-Number(Pl[1]||1):Number(Sl[0]||1)-Number(Pl[0]||1)}return zn._plots[_l].mainplot?1:-1});yl.forEach(function(_l){var ls=zn._plots[_l],Sl=ls.xaxis,Pl=ls.yaxis;if(!ls.mainplot){var Tl=Ln(Fn,ls,Sl._offset,Pl._offset,Sl._length,Pl._length,"ns","ew");Tl.onmousemove=function(Rl){Fn._fullLayout._rehover=function(){Fn._fullLayout._hoversubplot===_l&&Fn._fullLayout._plots[_l]&&jt.hover(Fn,Rl,_l)},jt.hover(Fn,Rl,_l),Fn._fullLayout._lasthover=Tl,Fn._fullLayout._hoversubplot=_l},Tl.onmouseout=function(Rl){Fn._dragging||(Fn._fullLayout._hoversubplot=null,it.unhover(Fn,Rl))},Fn._context.showAxisDragHandles&&(Ln(Fn,ls,Sl._offset-Ft,Pl._offset-Ft,Ft,Ft,"n","w"),Ln(Fn,ls,Sl._offset+Sl._length,Pl._offset-Ft,Ft,Ft,"n","e"),Ln(Fn,ls,Sl._offset-Ft,Pl._offset+Pl._length,Ft,Ft,"s","w"),Ln(Fn,ls,Sl._offset+Sl._length,Pl._offset+Pl._length,Ft,Ft,"s","e"))}if(Fn._context.showAxisDragHandles){if(_l===Sl._mainSubplot){var El=Sl._mainLinePosition;Sl.side==="top"&&(El-=Ft),Ln(Fn,ls,Sl._offset+Sl._length*.1,El,Sl._length*.8,Ft,"","ew"),Ln(Fn,ls,Sl._offset,El,Sl._length*.1,Ft,"","w"),Ln(Fn,ls,Sl._offset+Sl._length*.9,El,Sl._length*.1,Ft,"","e")}if(_l===Pl._mainSubplot){var Ml=Pl._mainLinePosition;Pl.side!=="right"&&(Ml-=Ft),Ln(Fn,ls,Ml,Pl._offset+Pl._length*.1,Ft,Pl._length*.8,"ns",""),Ln(Fn,ls,Ml,Pl._offset+Pl._length*.9,Ft,Pl._length*.1,"s",""),Ln(Fn,ls,Ml,Pl._offset,Ft,Pl._length*.1,"n","")}}});var ot=zn._hoverlayer.node();ot.onmousemove=function(_l){_l.target=Fn._fullLayout._lasthover,jt.hover(Fn,_l,zn._hoversubplot)},ot.onclick=function(_l){_l.target=Fn._fullLayout._lasthover,jt.click(Fn,_l)},ot.onmousedown=function(_l){Fn._fullLayout._lasthover.onmousedown(_l)},yu.updateFx(Fn)}},yu.updateFx=function(Fn){var zn=Fn._fullLayout,yl=zn.dragmode==="pan"?"move":"crosshair";st(zn._draggers,yl)}}),vC=a((yu,hu)=>{var jt=N1();hu.exports=function(it){for(var st=jt.layoutArrayContainers,Ln=jt.layoutArrayRegexes,Ft=it.split("[")[0],Fn,zn,yl=0;yl<Ln.length;yl++)if(zn=it.match(Ln[yl]),zn&&zn.index===0){Fn=zn[0];break}if(Fn||(Fn=st[st.indexOf(Ft)]),!Fn)return!1;var ot=it.substr(Fn.length);return ot?(zn=ot.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),zn?{array:Fn,index:Number(zn[1]),property:zn[3]||""}:!1):{array:Fn,index:"",property:""}}}),yC=a(yu=>{var hu=xl(),jt=mm(),it=Wp(),st=d2().sorterAsc,Ln=N1();yu.containerArrayMatch=vC();var Ft=yu.isAddVal=function(zn){return zn==="add"||hu(zn)},Fn=yu.isRemoveVal=function(zn){return zn===null||zn==="remove"};yu.applyContainerArrayChanges=function(zn,yl,ot,_l,ls){var Sl=yl.astr,Pl=Ln.getComponentMethod(Sl,"supplyLayoutDefaults"),Tl=Ln.getComponentMethod(Sl,"draw"),El=Ln.getComponentMethod(Sl,"drawOne"),Ml=_l.replot||_l.recalc||Pl===jt||Tl===jt,Rl=zn.layout,Bn=zn._fullLayout;if(ot[""]){Object.keys(ot).length>1&&it.warn("Full array edits are incompatible with other edits",Sl);var Cl=ot[""][""];if(Fn(Cl))yl.set(null);else if(Array.isArray(Cl))yl.set(Cl);else return it.warn("Unrecognized full array edit value",Sl,Cl),!0;return Ml?!1:(Pl(Rl,Bn),Tl(zn),!0)}var Al=Object.keys(ot).map(Number).sort(st),Il=yl.get(),$l=Il||[],Bu=ls(Bn,Sl).get(),Jl=[],Kl=-1,Bl=$l.length,$u,mu,Pu,bu,Fu,Hu,Gu,Xl;for($u=0;$u<Al.length;$u++){if(Pu=Al[$u],bu=ot[Pu],Fu=Object.keys(bu),Hu=bu[""],Gu=Ft(Hu),Pu<0||Pu>$l.length-(Gu?0:1)){it.warn("index out of range",Sl,Pu);continue}if(Hu!==void 0)Fu.length>1&&it.warn("Insertion & removal are incompatible with edits to the same index.",Sl,Pu),Fn(Hu)?Jl.push(Pu):Gu?(Hu==="add"&&(Hu={}),$l.splice(Pu,0,Hu),Bu&&Bu.splice(Pu,0,{})):it.warn("Unrecognized full object edit value",Sl,Pu,Hu),Kl===-1&&(Kl=Pu);else for(mu=0;mu<Fu.length;mu++)Xl=Sl+"["+Pu+"].",ls($l[Pu],Fu[mu],Xl).set(bu[Fu[mu]])}for($u=Jl.length-1;$u>=0;$u--)$l.splice(Jl[$u],1),Bu&&Bu.splice(Jl[$u],1);if($l.length?Il||yl.set($l):yl.set(null),Ml)return!1;if(Pl(Rl,Bn),El!==jt){var Wu;if(Kl===-1)Wu=Al;else{for(Bl=Math.max($l.length,Bl),Wu=[],$u=0;$u<Al.length&&(Pu=Al[$u],!(Pu>=Kl));$u++)Wu.push(Pu);for($u=Kl;$u<Bl;$u++)Wu.push($u)}for($u=0;$u<Wu.length;$u++)El(zn,Wu[$u])}else Tl(zn);return!0}}),xC=a(yu=>{var hu=rt(),jt=N1(),it=gu(),st=_v(),Ln=rv(),Ft=D0(),Fn=Ln.cleanId,zn=Ln.getFromTrace,yl=jt.traceIs,ot=["x","y","z"];yu.clearPromiseQueue=function(Bn){Array.isArray(Bn._promises)&&Bn._promises.length>0&&it.log("Clearing previous rejected promises from queue."),Bn._promises=[]},yu.cleanLayout=function(Bn){var Cl;Bn||(Bn={}),Bn.xaxis1&&(Bn.xaxis||(Bn.xaxis=Bn.xaxis1),delete Bn.xaxis1),Bn.yaxis1&&(Bn.yaxis||(Bn.yaxis=Bn.yaxis1),delete Bn.yaxis1),Bn.scene1&&(Bn.scene||(Bn.scene=Bn.scene1),delete Bn.scene1);var Al=(st.subplotsRegistry.cartesian||{}).attrRegex;(st.subplotsRegistry.polar||{}).attrRegex,(st.subplotsRegistry.ternary||{}).attrRegex,(st.subplotsRegistry.gl3d||{}).attrRegex;var Il=Object.keys(Bn);for(Cl=0;Cl<Il.length;Cl++){var $l=Il[Cl];if(Al&&Al.test($l)){var Bu=Bn[$l];Bu.anchor&&Bu.anchor!=="free"&&(Bu.anchor=Fn(Bu.anchor)),Bu.overlaying&&(Bu.overlaying=Fn(Bu.overlaying)),Bu.type||(Bu.isdate?Bu.type="date":Bu.islog?Bu.type="log":Bu.isdate===!1&&Bu.islog===!1&&(Bu.type="linear")),(Bu.autorange==="withzero"||Bu.autorange==="tozero")&&(Bu.autorange=!0,Bu.rangemode="tozero"),Bu.insiderange&&delete Bu.range,delete Bu.islog,delete Bu.isdate,delete Bu.categories,Tl(Bu,"domain")&&delete Bu.domain}}var Jl=Array.isArray(Bn.annotations)?Bn.annotations.length:0;for(Cl=0;Cl<Jl;Cl++){var Kl=Bn.annotations[Cl];it.isPlainObject(Kl)&&(_l(Kl,"xref"),_l(Kl,"yref"))}var Bl=Array.isArray(Bn.shapes)?Bn.shapes.length:0;for(Cl=0;Cl<Bl;Cl++){var $u=Bn.shapes[Cl];it.isPlainObject($u)&&(_l($u,"xref"),_l($u,"yref"))}var mu=Array.isArray(Bn.images)?Bn.images.length:0;for(Cl=0;Cl<mu;Cl++){var Pu=Bn.images[Cl];it.isPlainObject(Pu)&&(_l(Pu,"xref"),_l(Pu,"yref"))}var bu=Bn.legend;return bu&&(bu.x>3?(bu.x=1.02,bu.xanchor="left"):bu.x<-2&&(bu.x=-.02,bu.xanchor="right"),bu.y>3?(bu.y=1.02,bu.yanchor="bottom"):bu.y<-2&&(bu.y=-.02,bu.yanchor="top")),Bn.dragmode==="rotate"&&(Bn.dragmode="orbit"),Ft.clean(Bn),Bn.template&&Bn.template.layout&&yu.cleanLayout(Bn.template.layout),Bn};function _l(Bn,Cl){var Al=Bn[Cl],Il=Cl.charAt(0);Al&&Al!=="paper"&&(Bn[Cl]=Fn(Al,Il,!0))}yu.cleanData=function(Bn){for(var Cl=0;Cl<Bn.length;Cl++){var Al=Bn[Cl],Il;if(Al.type==="histogramy"&&"xbins"in Al&&!("ybins"in Al)&&(Al.ybins=Al.xbins,delete Al.xbins),Al.type==="histogramy"&&yu.swapXYData(Al),(Al.type==="histogramx"||Al.type==="histogramy")&&(Al.type="histogram"),"scl"in Al&&!("colorscale"in Al)&&(Al.colorscale=Al.scl,delete Al.scl),"reversescl"in Al&&!("reversescale"in Al)&&(Al.reversescale=Al.reversescl,delete Al.reversescl),Al.xaxis&&(Al.xaxis=Fn(Al.xaxis,"x")),Al.yaxis&&(Al.yaxis=Fn(Al.yaxis,"y")),yl(Al,"gl3d")&&Al.scene&&(Al.scene=st.subplotsRegistry.gl3d.cleanId(Al.scene)),!yl(Al,"pie-like")&&!yl(Al,"bar-like"))if(Array.isArray(Al.textposition))for(Il=0;Il<Al.textposition.length;Il++)Al.textposition[Il]=Pl(Al.textposition[Il]);else Al.textposition&&(Al.textposition=Pl(Al.textposition));var $l=jt.getModule(Al);if($l&&$l.colorbar){var Bu=$l.colorbar.container,Jl=Bu?Al[Bu]:Al;Jl&&Jl.colorscale&&(Jl.colorscale==="YIGnBu"&&(Jl.colorscale="YlGnBu"),Jl.colorscale==="YIOrRd"&&(Jl.colorscale="YlOrRd"))}if(Al.type==="surface"&&it.isPlainObject(Al.contours)){var Kl=["x","y","z"];for(Il=0;Il<Kl.length;Il++){var Bl=Al.contours[Kl[Il]];it.isPlainObject(Bl)&&(Bl.highlightColor&&(Bl.highlightcolor=Bl.highlightColor,delete Bl.highlightColor),Bl.highlightWidth&&(Bl.highlightwidth=Bl.highlightWidth,delete Bl.highlightWidth))}}if(Al.type==="candlestick"||Al.type==="ohlc"){var $u=(Al.increasing||{}).showlegend!==!1,mu=(Al.decreasing||{}).showlegend!==!1,Pu=ls(Al.increasing),bu=ls(Al.decreasing);if(Pu!==!1&&bu!==!1){var Fu=Sl(Pu,bu,$u,mu);Fu&&(Al.name=Fu)}else(Pu||bu)&&!Al.name&&(Al.name=Pu||bu)}Tl(Al,"line")&&delete Al.line,"marker"in Al&&(Tl(Al.marker,"line")&&delete Al.marker.line,Tl(Al,"marker")&&delete Al.marker),Ft.clean(Al),Al.autobinx&&(delete Al.autobinx,delete Al.xbins),Al.autobiny&&(delete Al.autobiny,delete Al.ybins)}};function ls(Bn){if(!it.isPlainObject(Bn))return!1;var Cl=Bn.name;return delete Bn.name,delete Bn.showlegend,(typeof Cl=="string"||typeof Cl=="number")&&String(Cl)}function Sl(Bn,Cl,Al,Il){if(Al&&!Il)return Bn;if(Il&&!Al||!Bn.trim())return Cl;if(!Cl.trim())return Bn;var $l=Math.min(Bn.length,Cl.length),Bu;for(Bu=0;Bu<$l&&Bn.charAt(Bu)===Cl.charAt(Bu);Bu++);var Jl=Bn.substr(0,Bu);return Jl.trim()}function Pl(Bn){var Cl="middle",Al="center";return typeof Bn=="string"&&(Bn.indexOf("top")!==-1?Cl="top":Bn.indexOf("bottom")!==-1&&(Cl="bottom"),Bn.indexOf("left")!==-1?Al="left":Bn.indexOf("right")!==-1&&(Al="right")),Cl+" "+Al}function Tl(Bn,Cl){return Cl in Bn&&typeof Bn[Cl]=="object"&&Object.keys(Bn[Cl]).length===0}yu.swapXYData=function(Bn){var Cl;if(it.swapAttrs(Bn,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(Bn.z)&&Array.isArray(Bn.z[0])&&(Bn.transpose?delete Bn.transpose:Bn.transpose=!0),Bn.error_x&&Bn.error_y){var Al=Bn.error_y,Il="copy_ystyle"in Al?Al.copy_ystyle:!(Al.color||Al.thickness||Al.width);it.swapAttrs(Bn,["error_?.copy_ystyle"]),Il&&it.swapAttrs(Bn,["error_?.color","error_?.thickness","error_?.width"])}if(typeof Bn.hoverinfo=="string"){var $l=Bn.hoverinfo.split("+");for(Cl=0;Cl<$l.length;Cl++)$l[Cl]==="x"?$l[Cl]="y":$l[Cl]==="y"&&($l[Cl]="x");Bn.hoverinfo=$l.join("+")}},yu.coerceTraceIndices=function(Bn,Cl){if(hu(Cl))return[Cl];if(!Array.isArray(Cl)||!Cl.length)return Bn.data.map(function($l,Bu){return Bu});if(Array.isArray(Cl)){for(var Al=[],Il=0;Il<Cl.length;Il++)it.isIndex(Cl[Il],Bn.data.length)?Al.push(Cl[Il]):it.warn("trace index (",Cl[Il],") is not a number or is out of bounds");return Al}return Cl},yu.manageArrayContainers=function(Bn,Cl,Al){var Il=Bn.obj,$l=Bn.parts,Bu=$l.length,Jl=$l[Bu-1],Kl=hu(Jl);if(Kl&&Cl===null){var Bl=$l.slice(0,Bu-1).join("."),$u=it.nestedProperty(Il,Bl).get();$u.splice(Jl,1)}else Kl&&Bn.get()===void 0&&Bn.get()===void 0&&(Al[Bn.astr]=null),Bn.set(Cl)};var El=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function Ml(Bn){var Cl=Bn.search(El);if(Cl>0)return Bn.substr(0,Cl)}yu.hasParent=function(Bn,Cl){for(var Al=Ml(Cl);Al;){if(Al in Bn)return!0;Al=Ml(Al)}return!1},yu.clearAxisTypes=function(Bn,Cl,Al){for(var Il=0;Il<Cl.length;Il++)for(var $l=Bn._fullData[Il],Bu=0;Bu<3;Bu++){var Jl=zn(Bn,$l,ot[Bu]);if(Jl&&Jl.type!=="log"){var Kl=Jl._name,Bl=Jl._id.substr(1);if(Bl.substr(0,5)==="scene"){if(Al[Bl]!==void 0)continue;Kl=Bl+"."+Kl}var $u=Kl+".type";Al[Kl]===void 0&&Al[$u]===void 0&&it.nestedProperty(Bn.layout,$u).set(null)}}};var Rl=(Bn,Cl)=>{let Al=(...Il)=>Il.every($l=>it.isPlainObject($l))||Il.every($l=>Array.isArray($l));if([Bn,Cl].every(Il=>Array.isArray(Il))){if(Bn.length!==Cl.length)return!1;for(let Il=0;Il<Bn.length;Il++){let $l=Bn[Il],Bu=Cl[Il];if($l!==Bu&&!(Al($l,Bu)&&Rl($l,Bu)))return!1}return!0}else if([Bn,Cl].every(Il=>it.isPlainObject(Il))){if(Object.keys(Bn).length!==Object.keys(Cl).length)return!1;for(let Il in Bn){if(Il.startsWith("_"))continue;let $l=Bn[Il],Bu=Cl[Il];if($l!==Bu&&!(Al($l,Bu)&&Rl($l,Bu)))return!1}return!0}return!1};yu.collectionsAreEqual=Rl}),Rx=a(yu=>{var hu=g(),jt=rt(),it=dm(),st=gu(),Ln=st.nestedProperty,Ft=u1(),Fn=m1(),zn=N1(),yl=k1(),ot=_v(),_l=bm(),ls=Im(),Sl=c0(),Pl=q0(),Tl=D0(),El=Tx().initInteractions,Ml=Vv(),Rl=m3().clearOutline,Bn=l0().dfltConfig,Cl=yC(),Al=xC(),Il=g1(),$l=x1(),Bu=E1().AX_NAME_PATTERN,Jl=0,Kl=5;function Bl(Xu,hp,yp,Dp){var Bp;if(Xu=st.getGraphDiv(Xu),Ft.init(Xu),st.isPlainObject(hp)){var Jp=hp;hp=Jp.data,yp=Jp.layout,Dp=Jp.config,Bp=Jp.frames}var n0=Ft.triggerHandler(Xu,"plotly_beforeplot",[hp,yp,Dp]);if(n0===!1)return Promise.reject();!hp&&!yp&&!st.isPlotDiv(Xu)&&st.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Xu);function b0(){if(Bp)return yu.addFrames(Xu,Bp)}Fu(Xu,Dp),yp||(yp={}),hu.select(Xu).classed("js-plotly-plot",!0),Pl.makeTester(),Array.isArray(Xu._promises)||(Xu._promises=[]);var v0=(Xu.data||[]).length===0&&Array.isArray(hp);Array.isArray(hp)&&(Al.cleanData(hp),v0?Xu.data=hp:Xu.data.push.apply(Xu.data,hp),Xu.empty=!1),(!Xu.layout||v0)&&(Xu.layout=Al.cleanLayout(yp)),ot.supplyDefaults(Xu);var x0=Xu._fullLayout,U0=x0._has("cartesian");x0._replotting=!0,(v0||x0._shouldCreateBgLayer)&&(qp(Xu),x0._shouldCreateBgLayer&&delete x0._shouldCreateBgLayer),Pl.initGradients(Xu),Pl.initPatterns(Xu),v0&&_l.saveShowSpikeInitial(Xu);var W0=!Xu.calcdata||Xu.calcdata.length!==(Xu._fullData||[]).length;W0&&ot.doCalcdata(Xu);for(var Y0=0;Y0<Xu.calcdata.length;Y0++)Xu.calcdata[Y0][0].trace=Xu._fullData[Y0];Xu._context.responsive?Xu._responsiveChartHandler||(Xu._responsiveChartHandler=function(){st.isHidden(Xu)||ot.resize(Xu)},window.addEventListener("resize",Xu._responsiveChartHandler)):st.clearResponsive(Xu);var gm=st.extendFlat({},x0._size),Dm=0;function Jm(){for(var jm=x0._basePlotModules,Wm=0;Wm<jm.length;Wm++)jm[Wm].drawFramework&&jm[Wm].drawFramework(Xu);!x0._glcanvas&&x0._has("gl")&&(x0._glcanvas=x0._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(o1){return o1.key}),x0._glcanvas.enter().append("canvas").attr("class",function(o1){return"gl-canvas gl-canvas-"+o1.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Om=Xu._context.plotGlPixelRatio;if(x0._glcanvas){x0._glcanvas.attr("width",x0.width*Om).attr("height",x0.height*Om).style("width",x0.width+"px").style("height",x0.height+"px");var A1=x0._glcanvas.data()[0].regl;if(A1&&(Math.floor(x0.width*Om)!==A1._gl.drawingBufferWidth||Math.floor(x0.height*Om)!==A1._gl.drawingBufferHeight)){var B1="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(Dm)st.error(B1);else return st.log(B1+" Clearing graph and plotting again."),ot.cleanPlot([],{},Xu._fullData,x0),ot.supplyDefaults(Xu),x0=Xu._fullLayout,ot.doCalcdata(Xu),Dm++,Jm()}}return x0.modebar.orientation==="h"?x0._modebardiv.style("height",null).style("width","100%"):x0._modebardiv.style("width",null).style("height",x0.height+"px"),ot.previousPromises(Xu)}function a1(){if(ot.clearAutoMarginIds(Xu),Il.drawMarginPushers(Xu),_l.allowAutoMargin(Xu),Xu._fullLayout.title.text&&Xu._fullLayout.title.automargin&&ot.allowAutoMargin(Xu,"title.automargin"),x0._has("pie"))for(var jm=Xu._fullData,Wm=0;Wm<jm.length;Wm++){var Om=jm[Wm];Om.type==="pie"&&Om.automargin&&ot.allowAutoMargin(Xu,"pie."+Om.uid+".automargin")}return ot.doAutoMargin(Xu),ot.previousPromises(Xu)}function h1(){if(ot.didMarginChange(gm,x0._size))return st.syncOrAsync([a1,Il.layoutStyles],Xu)}function zm(){if(!W0){xm();return}return st.syncOrAsync([zn.getComponentMethod("shapes","calcAutorange"),zn.getComponentMethod("annotations","calcAutorange"),xm],Xu)}function xm(){Xu._transitioning||(Il.doAutoRangeAndConstraints(Xu),v0&&_l.saveRangeInitial(Xu),zn.getComponentMethod("rangeslider","calcAutorange")(Xu))}function Qm(){return _l.draw(Xu,v0?"":"redraw")}var l1=[ot.previousPromises,b0,Jm,a1,h1];U0&&l1.push(zm),l1.push(Il.layoutStyles),U0&&l1.push(Qm,function(jm){var Wm=jm._fullLayout._insideTickLabelsUpdaterange;if(Wm)return jm._fullLayout._insideTickLabelsUpdaterange=void 0,ip(jm,Wm).then(function(){_l.saveRangeInitial(jm,!0)})}),l1.push(Il.drawData,Il.finalDraw,El,ot.addLinks,ot.rehover,ot.redrag,ot.reselect,ot.doAutoMargin,ot.previousPromises);var Xm=st.syncOrAsync(l1,Xu);return(!Xm||!Xm.then)&&(Xm=Promise.resolve()),Xm.then(function(){return $u(Xu),Xu})}function $u(Xu){var hp=Xu._fullLayout;hp._redrawFromAutoMarginCount?hp._redrawFromAutoMarginCount--:Xu.emit("plotly_afterplot")}function mu(Xu){return st.extendFlat(Bn,Xu)}function Pu(Xu,hp){try{Xu._fullLayout._paper.style("background",hp)}catch(yp){st.error(yp)}}function bu(Xu,hp){var yp=Tl.combine(hp,"white");Pu(Xu,yp)}function Fu(Xu,hp){if(!Xu._context){Xu._context=st.extendDeep({},Bn);var yp=hu.select("base");Xu._context._baseUrl=yp.size()&&yp.attr("href")?window.location.href.split("#")[0]:""}var Dp=Xu._context,Bp,Jp,n0;if(hp){for(Jp=Object.keys(hp),Bp=0;Bp<Jp.length;Bp++)n0=Jp[Bp],!(n0==="editable"||n0==="edits")&&n0 in Dp&&(n0==="setBackground"&&hp[n0]==="opaque"?Dp[n0]=bu:Dp[n0]=hp[n0]);var b0=hp.editable;if(b0!==void 0)for(Dp.editable=b0,Jp=Object.keys(Dp.edits),Bp=0;Bp<Jp.length;Bp++)Dp.edits[Jp[Bp]]=b0;if(hp.edits)for(Jp=Object.keys(hp.edits),Bp=0;Bp<Jp.length;Bp++)n0=Jp[Bp],n0 in Dp.edits&&(Dp.edits[n0]=hp.edits[n0]);Dp._exportedPlot=hp._exportedPlot}Dp.staticPlot&&(Dp.editable=!1,Dp.edits={},Dp.autosizable=!1,Dp.scrollZoom=!1,Dp.doubleClick=!1,Dp.showTips=!1,Dp.showLink=!1,Dp.displayModeBar=!1),Dp.displayModeBar==="hover"&&!it&&(Dp.displayModeBar=!0),(Dp.setBackground==="transparent"||typeof Dp.setBackground!="function")&&(Dp.setBackground=Pu),Dp._hasZeroHeight=Dp._hasZeroHeight||Xu.clientHeight===0,Dp._hasZeroWidth=Dp._hasZeroWidth||Xu.clientWidth===0;var v0=Dp.scrollZoom,x0=Dp._scrollZoom={};if(v0===!0)x0.cartesian=1,x0.gl3d=1,x0.geo=1,x0.mapbox=1,x0.map=1;else if(typeof v0=="string"){var U0=v0.split("+");for(Bp=0;Bp<U0.length;Bp++)x0[U0[Bp]]=1}else v0!==!1&&(x0.gl3d=1,x0.geo=1,x0.mapbox=1,x0.map=1)}function Hu(Xu){if(Xu=st.getGraphDiv(Xu),!st.isPlotDiv(Xu))throw new Error("This element is not a Plotly plot: "+Xu);return Al.cleanData(Xu.data),Al.cleanLayout(Xu.layout),Xu.calcdata=void 0,yu._doPlot(Xu).then(function(){return Xu.emit("plotly_redraw"),Xu})}function Gu(Xu,hp,yp,Dp){return Xu=st.getGraphDiv(Xu),ot.cleanPlot([],{},Xu._fullData||[],Xu._fullLayout||{}),ot.purge(Xu),yu._doPlot(Xu,hp,yp,Dp)}function Xl(Xu,hp){var yp=hp+1,Dp=[],Bp,Jp;for(Bp=0;Bp<Xu.length;Bp++)Jp=Xu[Bp],Jp<0?Dp.push(yp+Jp):Dp.push(Jp);return Dp}function Wu(Xu,hp,yp){var Dp,Bp;for(Dp=0;Dp<hp.length;Dp++){if(Bp=hp[Dp],Bp!==parseInt(Bp,10))throw new Error("all values in "+yp+" must be integers");if(Bp>=Xu.data.length||Bp<-Xu.data.length)throw new Error(yp+" must be valid indices for gd.data.");if(hp.indexOf(Bp,Dp+1)>-1||Bp>=0&&hp.indexOf(-Xu.data.length+Bp)>-1||Bp<0&&hp.indexOf(Xu.data.length+Bp)>-1)throw new Error("each index in "+yp+" must be unique.")}}function Yu(Xu,hp,yp){if(!Array.isArray(Xu.data))throw new Error("gd.data must be an array.");if(typeof hp>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(hp)||(hp=[hp]),Wu(Xu,hp,"currentIndices"),typeof yp<"u"&&!Array.isArray(yp)&&(yp=[yp]),typeof yp<"u"&&Wu(Xu,yp,"newIndices"),typeof yp<"u"&&hp.length!==yp.length)throw new Error("current and new indices must be of equal length.")}function ap(Xu,hp,yp){var Dp,Bp;if(!Array.isArray(Xu.data))throw new Error("gd.data must be an array.");if(typeof hp>"u")throw new Error("traces must be defined.");for(Array.isArray(hp)||(hp=[hp]),Dp=0;Dp<hp.length;Dp++)if(Bp=hp[Dp],typeof Bp!="object"||Array.isArray(Bp)||Bp===null)throw new Error("all values in traces array must be non-array objects");if(typeof yp<"u"&&!Array.isArray(yp)&&(yp=[yp]),typeof yp<"u"&&yp.length!==hp.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function rp(Xu,hp,yp,Dp){var Bp=st.isPlainObject(Dp);if(!Array.isArray(Xu.data))throw new Error("gd.data must be an array");if(!st.isPlainObject(hp))throw new Error("update must be a key:value object");if(typeof yp>"u")throw new Error("indices must be an integer or array of integers");Wu(Xu,yp,"indices");for(var Jp in hp){if(!Array.isArray(hp[Jp])||hp[Jp].length!==yp.length)throw new Error("attribute "+Jp+" must be an array of length equal to indices array length");if(Bp&&(!(Jp in Dp)||!Array.isArray(Dp[Jp])||Dp[Jp].length!==hp[Jp].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}function sp(Xu,hp,yp,Dp){var Bp=st.isPlainObject(Dp),Jp=[],n0,b0,v0,x0,U0;Array.isArray(yp)||(yp=[yp]),yp=Xl(yp,Xu.data.length-1);for(var W0 in hp)for(var Y0=0;Y0<yp.length;Y0++){if(n0=Xu.data[yp[Y0]],v0=Ln(n0,W0),b0=v0.get(),x0=hp[W0][Y0],!st.isArrayOrTypedArray(x0))throw new Error("attribute: "+W0+" index: "+Y0+" must be an array");if(!st.isArrayOrTypedArray(b0))throw new Error("cannot extend missing or non-array attribute: "+W0);if(b0.constructor!==x0.constructor)throw new Error("cannot extend array with an array of a different type: "+W0);U0=Bp?Dp[W0][Y0]:Dp,jt(U0)||(U0=-1),Jp.push({prop:v0,target:b0,insert:x0,maxp:Math.floor(U0)})}return Jp}function bp(Xu,hp,yp,Dp,Bp){rp(Xu,hp,yp,Dp);for(var Jp=sp(Xu,hp,yp,Dp),n0={},b0={},v0=0;v0<Jp.length;v0++){var x0=Jp[v0].prop,U0=Jp[v0].maxp,W0=Bp(Jp[v0].target,Jp[v0].insert,U0);x0.set(W0[0]),Array.isArray(n0[x0.astr])||(n0[x0.astr]=[]),n0[x0.astr].push(W0[1]),Array.isArray(b0[x0.astr])||(b0[x0.astr]=[]),b0[x0.astr].push(Jp[v0].target.length)}return{update:n0,maxPoints:b0}}function Cp(Xu,hp){var yp=new Xu.constructor(Xu.length+hp.length);return yp.set(Xu),yp.set(hp,Xu.length),yp}function Ap(Xu,hp,yp,Dp){Xu=st.getGraphDiv(Xu);function Bp(v0,x0,U0){var W0,Y0;if(st.isTypedArray(v0))if(U0<0){var gm=new v0.constructor(0),Dm=Cp(v0,x0);U0<0?(W0=Dm,Y0=gm):(W0=gm,Y0=Dm)}else if(W0=new v0.constructor(U0),Y0=new v0.constructor(v0.length+x0.length-U0),U0===x0.length)W0.set(x0),Y0.set(v0);else if(U0<x0.length){var Jm=x0.length-U0;W0.set(x0.subarray(Jm)),Y0.set(v0),Y0.set(x0.subarray(0,Jm),v0.length)}else{var a1=U0-x0.length,h1=v0.length-a1;W0.set(v0.subarray(h1)),W0.set(x0,a1),Y0.set(v0.subarray(0,h1))}else W0=v0.concat(x0),Y0=U0>=0&&U0<W0.length?W0.splice(0,W0.length-U0):[];return[W0,Y0]}var Jp=bp(Xu,hp,yp,Dp,Bp),n0=yu.redraw(Xu),b0=[Xu,Jp.update,yp,Jp.maxPoints];return Fn.add(Xu,yu.prependTraces,b0,Ap,arguments),n0}function Lu(Xu,hp,yp,Dp){Xu=st.getGraphDiv(Xu);function Bp(v0,x0,U0){var W0,Y0;if(st.isTypedArray(v0))if(U0<=0){var gm=new v0.constructor(0),Dm=Cp(x0,v0);U0<0?(W0=Dm,Y0=gm):(W0=gm,Y0=Dm)}else if(W0=new v0.constructor(U0),Y0=new v0.constructor(v0.length+x0.length-U0),U0===x0.length)W0.set(x0),Y0.set(v0);else if(U0<x0.length){var Jm=x0.length-U0;W0.set(x0.subarray(0,Jm)),Y0.set(x0.subarray(Jm)),Y0.set(v0,Jm)}else{var a1=U0-x0.length;W0.set(x0),W0.set(v0.subarray(0,a1),x0.length),Y0.set(v0.subarray(a1))}else W0=x0.concat(v0),Y0=U0>=0&&U0<W0.length?W0.splice(U0,W0.length):[];return[W0,Y0]}var Jp=bp(Xu,hp,yp,Dp,Bp),n0=yu.redraw(Xu),b0=[Xu,Jp.update,yp,Jp.maxPoints];return Fn.add(Xu,yu.extendTraces,b0,Lu,arguments),n0}function Nu(Xu,hp,yp){Xu=st.getGraphDiv(Xu);var Dp=[],Bp=yu.deleteTraces,Jp=Nu,n0=[Xu,Dp],b0=[Xu,hp],v0,x0;for(ap(Xu,hp,yp),Array.isArray(hp)||(hp=[hp]),hp=hp.map(function(U0){return st.extendFlat({},U0)}),Al.cleanData(hp),v0=0;v0<hp.length;v0++)Xu.data.push(hp[v0]);for(v0=0;v0<hp.length;v0++)Dp.push(-hp.length+v0);if(typeof yp>"u")return x0=yu.redraw(Xu),Fn.add(Xu,Bp,n0,Jp,b0),x0;Array.isArray(yp)||(yp=[yp]);try{Yu(Xu,Dp,yp)}catch(U0){throw Xu.data.splice(Xu.data.length-hp.length,hp.length),U0}return Fn.startSequence(Xu),Fn.add(Xu,Bp,n0,Jp,b0),x0=yu.moveTraces(Xu,Dp,yp),Fn.stopSequence(Xu),x0}function Hl(Xu,hp){Xu=st.getGraphDiv(Xu);var yp=[],Dp=yu.addTraces,Bp=Hl,Jp=[Xu,yp,hp],n0=[Xu,hp],b0,v0;if(typeof hp>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(hp)||(hp=[hp]),Wu(Xu,hp,"indices"),hp=Xl(hp,Xu.data.length-1),hp.sort(st.sorterDes),b0=0;b0<hp.length;b0+=1)v0=Xu.data.splice(hp[b0],1)[0],yp.push(v0);var x0=yu.redraw(Xu);return Fn.add(Xu,Dp,Jp,Bp,n0),x0}function qu(Xu,hp,yp){Xu=st.getGraphDiv(Xu);var Dp=[],Bp=[],Jp=qu,n0=qu,b0=[Xu,yp,hp],v0=[Xu,hp,yp],x0;if(Yu(Xu,hp,yp),hp=Array.isArray(hp)?hp:[hp],typeof yp>"u")for(yp=[],x0=0;x0<hp.length;x0++)yp.push(-hp.length+x0);for(yp=Array.isArray(yp)?yp:[yp],hp=Xl(hp,Xu.data.length-1),yp=Xl(yp,Xu.data.length-1),x0=0;x0<Xu.data.length;x0++)hp.indexOf(x0)===-1&&Dp.push(Xu.data[x0]);for(x0=0;x0<hp.length;x0++)Bp.push({newIndex:yp[x0],trace:Xu.data[hp[x0]]});for(Bp.sort(function(W0,Y0){return W0.newIndex-Y0.newIndex}),x0=0;x0<Bp.length;x0+=1)Dp.splice(Bp[x0].newIndex,0,Bp[x0].trace);Xu.data=Dp;var U0=yu.redraw(Xu);return Fn.add(Xu,Jp,b0,n0,v0),U0}function np(Xu,hp,yp,Dp){Xu=st.getGraphDiv(Xu),Al.clearPromiseQueue(Xu);var Bp={};if(typeof hp=="string")Bp[hp]=yp;else if(st.isPlainObject(hp))Bp=st.extendFlat({},hp),Dp===void 0&&(Dp=yp);else return st.warn("Restyle fail.",hp,yp,Dp),Promise.reject();Object.keys(Bp).length&&(Xu.changed=!0);var Jp=Al.coerceTraceIndices(Xu,Dp),n0=zu(Xu,Bp,Jp),b0=n0.flags;b0.calc&&(Xu.calcdata=void 0),b0.clearAxisTypes&&Al.clearAxisTypes(Xu,Jp,{});var v0=[];b0.fullReplot?v0.push(yu._doPlot):(v0.push(ot.previousPromises),ot.supplyDefaults(Xu),b0.markerSize&&(ot.doCalcdata(Xu),vp(v0)),b0.style&&v0.push(Il.doTraceStyle),b0.colorbars&&v0.push(Il.doColorBars),v0.push($u)),v0.push(ot.rehover,ot.redrag,ot.reselect),Fn.add(Xu,np,[Xu,n0.undoit,n0.traces],np,[Xu,n0.redoit,n0.traces]);var x0=st.syncOrAsync(v0,Xu);return(!x0||!x0.then)&&(x0=Promise.resolve()),x0.then(function(){return Xu.emit("plotly_restyle",n0.eventData),Xu})}function vu(Xu){return Xu===void 0?null:Xu}function Ol(Xu,hp){return hp?function(yp,Dp,Bp){var Jp=Ln(yp,Dp),n0=Jp.set;return Jp.set=function(b0){var v0=(Bp||"")+Dp;Wl(v0,Jp.get(),b0,Xu),n0(b0)},Jp}:Ln}function Wl(Xu,hp,yp,Dp){if(Array.isArray(hp)||Array.isArray(yp))for(var Bp=Array.isArray(hp)?hp:[],Jp=Array.isArray(yp)?yp:[],n0=Math.max(Bp.length,Jp.length),b0=0;b0<n0;b0++)Wl(Xu+"["+b0+"]",Bp[b0],Jp[b0],Dp);else if(st.isPlainObject(hp)||st.isPlainObject(yp)){var v0=st.isPlainObject(hp)?hp:{},x0=st.isPlainObject(yp)?yp:{},U0=st.extendFlat({},v0,x0);for(var W0 in U0)Wl(Xu+"."+W0,v0[W0],x0[W0],Dp)}else Dp[Xu]===void 0&&(Dp[Xu]=vu(hp))}function Mu(Xu,hp,yp){for(var Dp in yp){var Bp=Ln(Xu,Dp);Wl(Dp,Bp.get(),yp[Dp],hp)}}function zu(Xu,hp,yp){var Dp=Xu._fullLayout,Bp=Xu._fullData,Jp=Xu.data,n0=Dp._guiEditing,b0=Ol(Dp._preGUI,n0),v0=st.extendDeepAll({},hp),x0,U0=$l.traceFlags(),W0={},Y0={},gm;function Dm(){return yp.map(function(){})}function Jm(L0){var rm=_l.id2name(L0);gm.indexOf(rm)===-1&&gm.push(rm)}function a1(L0){return"LAYOUT"+L0+".autorange"}function h1(L0){return"LAYOUT"+L0+".range"}function zm(L0){for(var rm=L0;rm<Bp.length;rm++)if(Bp[rm]._input===Jp[L0])return Bp[rm]}function xm(L0,rm,Tm){if(Array.isArray(L0)){L0.forEach(function(Um){xm(Um,rm,Tm)});return}if(!(L0 in hp||Al.hasParent(hp,L0))){var Mm;if(L0.substr(0,6)==="LAYOUT")Mm=b0(Xu.layout,L0.replace("LAYOUT",""));else{var Vm=yp[Tm],_m=Dp._tracePreGUI[zm(Vm)._fullInput.uid];Mm=Ol(_m,n0)(Jp[Vm],L0)}L0 in Y0||(Y0[L0]=Dm()),Y0[L0][Tm]===void 0&&(Y0[L0][Tm]=vu(Mm.get())),rm!==void 0&&Mm.set(rm)}}function Qm(L0){return function(rm){return Bp[rm][L0]}}function l1(L0){return function(rm,Tm){return rm===!1?Bp[yp[Tm]][L0]:null}}for(var Xm in hp){if(Al.hasParent(hp,Xm))throw new Error("cannot set "+Xm+" and a parent attribute simultaneously");var jm=hp[Xm],Wm,Om,A1,B1,o1,$1;if((Xm==="autobinx"||Xm==="autobiny")&&(Xm=Xm.charAt(Xm.length-1)+"bins",Array.isArray(jm)?jm=jm.map(l1(Xm)):jm===!1?jm=yp.map(Qm(Xm)):jm=null),W0[Xm]=jm,Xm.substr(0,6)==="LAYOUT"){A1=b0(Xu.layout,Xm.replace("LAYOUT","")),Y0[Xm]=[vu(A1.get())],A1.set(Array.isArray(jm)?jm[0]:jm),U0.calc=!0;continue}for(Y0[Xm]=Dm(),x0=0;x0<yp.length;x0++){Wm=Jp[yp[x0]],Om=zm(yp[x0]);var X1=Dp._tracePreGUI[Om._fullInput.uid];if(A1=Ol(X1,n0)(Wm,Xm),B1=A1.get(),o1=Array.isArray(jm)?jm[x0%jm.length]:jm,o1!==void 0){var cv=A1.parts[A1.parts.length-1],dv=Xm.substr(0,Xm.length-cv.length-1),L1=dv?dv+".":"",iv=dv?Ln(Om,dv).get():Om;if($1=yl.getTraceValObject(Om,A1.parts),$1&&$1.impliedEdits&&o1!==null)for(var W1 in $1.impliedEdits)xm(st.relativeAttr(Xm,W1),$1.impliedEdits[W1],x0);else if((cv==="thicknessmode"||cv==="lenmode")&&B1!==o1&&(o1==="fraction"||o1==="pixels")&&iv){var Hm=Dp._size,Tv=iv.orient,ep=Tv==="top"||Tv==="bottom";if(cv==="thicknessmode"){var Qu=ep?Hm.h:Hm.w;xm(L1+"thickness",iv.thickness*(o1==="fraction"?1/Qu:Qu),x0)}else{var Up=ep?Hm.w:Hm.h;xm(L1+"len",iv.len*(o1==="fraction"?1/Up:Up),x0)}}else if(Xm==="type"&&(o1==="pie"!=(B1==="pie")||o1==="funnelarea"!=(B1==="funnelarea"))){var _f="x",u0="y";(o1==="bar"||B1==="bar")&&Wm.orientation==="h"&&(_f="y",u0="x"),st.swapAttrs(Wm,["?","?src"],"labels",_f),st.swapAttrs(Wm,["d?","?0"],"label",_f),st.swapAttrs(Wm,["?","?src"],"values",u0),B1==="pie"||B1==="funnelarea"?(Ln(Wm,"marker.color").set(Ln(Wm,"marker.colors").get()),Dp._pielayer.selectAll("g.trace").remove()):zn.traceIs(Wm,"cartesian")&&Ln(Wm,"marker.colors").set(Ln(Wm,"marker.color").get())}Y0[Xm][x0]=vu(B1);var Vp=["swapxy","swapxyaxes","orientation","orientationaxes"];if(Vp.indexOf(Xm)!==-1){if(Xm==="orientation"){A1.set(o1);var Yp=Wm.x&&!Wm.y?"h":"v";if((A1.get()||Yp)===Om.orientation)continue}else Xm==="orientationaxes"&&(Wm.orientation={v:"h",h:"v"}[Om.orientation]);Al.swapXYData(Wm),U0.calc=U0.clearAxisTypes=!0}else ot.dataArrayContainers.indexOf(A1.parts[0])!==-1?(Al.manageArrayContainers(A1,o1,Y0),U0.calc=!0):($1?$1.arrayOk&&!zn.traceIs(Om,"regl")&&(st.isArrayOrTypedArray(o1)||st.isArrayOrTypedArray(B1))?U0.calc=!0:$l.update(U0,$1):U0.calc=!0,A1.set(o1))}}if(["swapxyaxes","orientationaxes"].indexOf(Xm)!==-1&&_l.swap(Xu,yp),Xm==="orientationaxes"){var p0=Ln(Xu.layout,"hovermode"),o0=p0.get();o0==="x"?p0.set("y"):o0==="y"?p0.set("x"):o0==="x unified"?p0.set("y unified"):o0==="y unified"&&p0.set("x unified")}if(["orientation","type"].indexOf(Xm)!==-1){for(gm=[],x0=0;x0<yp.length;x0++){var M0=Jp[yp[x0]];zn.traceIs(M0,"cartesian")&&(Jm(M0.xaxis||"x"),Jm(M0.yaxis||"y"))}xm(gm.map(a1),!0,0),xm(gm.map(h1),[0,1],0)}}return(U0.calc||U0.plot)&&(U0.fullReplot=!0),{flags:U0,undoit:Y0,redoit:W0,traces:yp,eventData:st.extendDeepNoArrays([],[v0,yp])}}function ip(Xu,hp,yp){Xu=st.getGraphDiv(Xu),Al.clearPromiseQueue(Xu);var Dp={};if(typeof hp=="string")Dp[hp]=yp;else if(st.isPlainObject(hp))Dp=st.extendFlat({},hp);else return st.warn("Relayout fail.",hp,yp),Promise.reject();Object.keys(Dp).length&&(Xu.changed=!0);var Bp=C0(Xu,Dp),Jp=Bp.flags;Jp.calc&&(Xu.calcdata=void 0);var n0=[ot.previousPromises];Jp.layoutReplot?n0.push(Il.layoutReplot):Object.keys(Dp).length&&(pp(Xu,Jp,Bp)||ot.supplyDefaults(Xu),Jp.legend&&n0.push(Il.doLegend),Jp.layoutstyle&&n0.push(Il.layoutStyles),Jp.axrange&&vp(n0,Bp.rangesAltered),Jp.ticks&&n0.push(Il.doTicksRelayout),Jp.modebar&&n0.push(Il.doModeBar),Jp.camera&&n0.push(Il.doCamera),Jp.colorbars&&n0.push(Il.doColorBars),n0.push($u)),n0.push(ot.rehover,ot.redrag,ot.reselect),Fn.add(Xu,ip,[Xu,Bp.undoit],ip,[Xu,Bp.redoit]);var b0=st.syncOrAsync(n0,Xu);return(!b0||!b0.then)&&(b0=Promise.resolve(Xu)),b0.then(function(){return Xu.emit("plotly_relayout",Bp.eventData),Xu})}function pp(Xu,hp,yp){var Dp=Xu._fullLayout;if(!hp.axrange)return!1;for(var Bp in hp)if(Bp!=="axrange"&&hp[Bp])return!1;var Jp,n0,b0=function(gm,Dm){return st.coerce(Jp,n0,Sl,gm,Dm)},v0={};for(var x0 in yp.rangesAltered){var U0=_l.id2name(x0);if(Jp=Xu.layout[U0],n0=Dp[U0],ls(Jp,n0,b0,v0),n0._matchGroup){for(var W0 in n0._matchGroup)if(W0!==x0){var Y0=Dp[_l.id2name(W0)];Y0.autorange=n0.autorange,Y0.range=n0.range.slice(),Y0._input.range=n0.range.slice()}}}return!0}function vp(Xu,hp){var yp=hp?function(Dp){var Bp=[],Jp=!0;for(var n0 in hp){var b0=_l.getFromId(Dp,n0);if(Bp.push(n0),(b0.ticklabelposition||"").indexOf("inside")!==-1&&b0._anchorAxis&&Bp.push(b0._anchorAxis._id),b0._matchGroup)for(var v0 in b0._matchGroup)hp[v0]||Bp.push(v0)}return _l.draw(Dp,Bp,{skipTitle:Jp})}:function(Dp){return _l.draw(Dp,"redraw")};Xu.push(Rl,Il.doAutoRangeAndConstraints,yp,Il.drawData,Il.finalDraw)}var Pp=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Gp=/^[xyz]axis[0-9]*\.autorange$/,r0=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function C0(Xu,hp){var yp=Xu.layout,Dp=Xu._fullLayout,Bp=Dp._guiEditing,Jp=Ol(Dp._preGUI,Bp),n0=Object.keys(hp),b0=_l.list(Xu),v0=st.extendDeepAll({},hp),x0={},U0,W0,Y0;for(n0=Object.keys(hp),W0=0;W0<n0.length;W0++)if(n0[W0].indexOf("allaxes")===0){for(Y0=0;Y0<b0.length;Y0++){var gm=b0[Y0]._id.substr(1),Dm=gm.indexOf("scene")!==-1?gm+".":"",Jm=n0[W0].replace("allaxes",Dm+b0[Y0]._name);hp[Jm]||(hp[Jm]=hp[n0[W0]])}delete hp[n0[W0]]}var a1=$l.layoutFlags(),h1={},zm={};function xm(_m,Um){if(Array.isArray(_m)){_m.forEach(function(ov){xm(ov,Um)});return}if(!(_m in hp||Al.hasParent(hp,_m))){var i1=Jp(yp,_m);_m in zm||(zm[_m]=vu(i1.get())),Um!==void 0&&i1.set(Um)}}var Qm={},l1;function Xm(_m){var Um=_l.name2id(_m.split(".")[0]);return Qm[Um]=1,Um}for(var jm in hp){if(Al.hasParent(hp,jm))throw new Error("cannot set "+jm+" and a parent attribute simultaneously");for(var Wm=Jp(yp,jm),Om=hp[jm],A1=Wm.parts.length,B1=A1-1;B1>0&&typeof Wm.parts[B1]!="string";)B1--;var o1=Wm.parts[B1],$1=Wm.parts[B1-1]+"."+o1,X1=Wm.parts.slice(0,B1).join("."),cv=Ln(Xu.layout,X1).get(),dv=Ln(Dp,X1).get(),L1=Wm.get();if(Om!==void 0){h1[jm]=Om,zm[jm]=o1==="reverse"?Om:vu(L1);var iv=yl.getLayoutValObject(Dp,Wm.parts);if(iv&&iv.impliedEdits&&Om!==null)for(var W1 in iv.impliedEdits)xm(st.relativeAttr(jm,W1),iv.impliedEdits[W1]);if(["width","height"].indexOf(jm)!==-1)if(Om){xm("autosize",null);var Hm=jm==="height"?"width":"height";xm(Hm,Dp[Hm])}else Dp[jm]=Xu._initialAutoSize[jm];else if(jm==="autosize")xm("width",Om?null:Dp.width),xm("height",Om?null:Dp.height);else if($1.match(Pp))Xm($1),Ln(Dp,X1+"._inputRange").set(null);else if($1.match(Gp)){Xm($1),Ln(Dp,X1+"._inputRange").set(null);var Tv=Ln(Dp,X1).get();Tv._inputDomain&&(Tv._input.domain=Tv._inputDomain.slice())}else $1.match(r0)&&Ln(Dp,X1+"._inputDomain").set(null);if(o1==="type"){l1=cv;var ep=dv.type==="linear"&&Om==="log",Qu=dv.type==="log"&&Om==="linear";if(ep||Qu){if(!l1||!l1.range)xm(X1+".autorange",!0);else if(dv.autorange)ep&&(l1.range=l1.range[1]>l1.range[0]?[1,2]:[2,1]);else{var Up=l1.range[0],_f=l1.range[1];ep?(Up<=0&&_f<=0&&xm(X1+".autorange",!0),Up<=0?Up=_f/1e6:_f<=0&&(_f=Up/1e6),xm(X1+".range[0]",Math.log(Up)/Math.LN10),xm(X1+".range[1]",Math.log(_f)/Math.LN10)):(xm(X1+".range[0]",Math.pow(10,Up)),xm(X1+".range[1]",Math.pow(10,_f)))}Array.isArray(Dp._subplots.polar)&&Dp._subplots.polar.length&&Dp[Wm.parts[0]]&&Wm.parts[1]==="radialaxis"&&delete Dp[Wm.parts[0]]._subplot.viewInitial["radialaxis.range"],zn.getComponentMethod("annotations","convertCoords")(Xu,dv,Om,xm),zn.getComponentMethod("images","convertCoords")(Xu,dv,Om,xm)}else xm(X1+".autorange",!0),xm(X1+".range",null);Ln(Dp,X1+"._inputRange").set(null)}else if(o1.match(Bu)){var u0=Ln(Dp,jm).get(),Vp=(Om||{}).type;(!Vp||Vp==="-")&&(Vp="linear"),zn.getComponentMethod("annotations","convertCoords")(Xu,u0,Vp,xm),zn.getComponentMethod("images","convertCoords")(Xu,u0,Vp,xm)}var Yp=Cl.containerArrayMatch(jm);if(Yp){U0=Yp.array,W0=Yp.index;var p0=Yp.property,o0=iv||{editType:"calc"};W0!==""&&p0===""&&(Cl.isAddVal(Om)?zm[jm]=null:Cl.isRemoveVal(Om)?zm[jm]=(Ln(yp,U0).get()||[])[W0]:st.warn("unrecognized full object value",hp)),$l.update(a1,o0),x0[U0]||(x0[U0]={});var M0=x0[U0][W0];M0||(M0=x0[U0][W0]={}),M0[p0]=Om,delete hp[jm]}else o1==="reverse"?(cv.range?cv.range.reverse():(xm(X1+".autorange",!0),cv.range=[1,0]),dv.autorange?a1.calc=!0:a1.plot=!0):(jm==="dragmode"&&(Om===!1&&L1!==!1||Om!==!1&&L1===!1)||Dp._has("scatter-like")&&Dp._has("regl")&&jm==="dragmode"&&(Om==="lasso"||Om==="select")&&!(L1==="lasso"||L1==="select")?a1.plot=!0:iv?$l.update(a1,iv):a1.calc=!0,Wm.set(Om))}}for(U0 in x0){var L0=Cl.applyContainerArrayChanges(Xu,Jp(yp,U0),x0[U0],a1,Jp);L0||(a1.plot=!0)}for(var rm in Qm){l1=_l.getFromId(Xu,rm);var Tm=l1&&l1._constraintGroup;if(Tm){a1.calc=!0;for(var Mm in Tm)Qm[Mm]||(_l.getFromId(Xu,Mm)._constraintShrinkable=!0)}}(f0(Xu)||hp.height||hp.width)&&(a1.plot=!0);var Vm=Dp.shapes;for(W0=0;W0<Vm.length;W0++)if(Vm[W0].showlegend){a1.calc=!0;break}return(a1.plot||a1.calc)&&(a1.layoutReplot=!0),{flags:a1,rangesAltered:Qm,undoit:zm,redoit:h1,eventData:v0}}function f0(Xu){var hp=Xu._fullLayout,yp=hp.width,Dp=hp.height;return Xu.layout.autosize&&ot.plotAutoSize(Xu,Xu.layout,hp),hp.width!==yp||hp.height!==Dp}function d0(Xu,hp,yp,Dp){Xu=st.getGraphDiv(Xu),Al.clearPromiseQueue(Xu),st.isPlainObject(hp)||(hp={}),st.isPlainObject(yp)||(yp={}),Object.keys(hp).length&&(Xu.changed=!0),Object.keys(yp).length&&(Xu.changed=!0);var Bp=Al.coerceTraceIndices(Xu,Dp),Jp=zu(Xu,st.extendFlat({},hp),Bp),n0=Jp.flags,b0=C0(Xu,st.extendFlat({},yp)),v0=b0.flags;(n0.calc||v0.calc)&&(Xu.calcdata=void 0),n0.clearAxisTypes&&Al.clearAxisTypes(Xu,Bp,yp);var x0=[];v0.layoutReplot?x0.push(Il.layoutReplot):n0.fullReplot?x0.push(yu._doPlot):(x0.push(ot.previousPromises),pp(Xu,v0,b0)||ot.supplyDefaults(Xu),n0.style&&x0.push(Il.doTraceStyle),(n0.colorbars||v0.colorbars)&&x0.push(Il.doColorBars),v0.legend&&x0.push(Il.doLegend),v0.layoutstyle&&x0.push(Il.layoutStyles),v0.axrange&&vp(x0,b0.rangesAltered),v0.ticks&&x0.push(Il.doTicksRelayout),v0.modebar&&x0.push(Il.doModeBar),v0.camera&&x0.push(Il.doCamera),x0.push($u)),x0.push(ot.rehover,ot.redrag,ot.reselect),Fn.add(Xu,d0,[Xu,Jp.undoit,b0.undoit,Jp.traces],d0,[Xu,Jp.redoit,b0.redoit,Jp.traces]);var U0=st.syncOrAsync(x0,Xu);return(!U0||!U0.then)&&(U0=Promise.resolve(Xu)),U0.then(function(){return Xu.emit("plotly_update",{data:Jp.eventData,layout:b0.eventData}),Xu})}function Sp(Xu){return function(hp){hp._fullLayout._guiEditing=!0;var yp=Xu.apply(null,arguments);return hp._fullLayout._guiEditing=!1,yp}}var Fp=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],cp=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function jp(Xu,hp){for(var yp=0;yp<hp.length;yp++){var Dp=hp[yp],Bp=Xu.match(Dp.pattern);if(Bp){var Jp=Bp[1]||"";return{head:Jp,tail:Xu.substr(Jp.length+1),attr:Dp.attr}}}}function a0(Xu,hp){var yp=Ln(hp,Xu).get();if(yp!==void 0)return yp;var Dp=Xu.split(".");for(Dp.pop();Dp.length>1;)if(Dp.pop(),yp=Ln(hp,Dp.join(".")+".uirevision").get(),yp!==void 0)return yp;return hp.uirevision}function y0(Xu,hp){for(var yp=0;yp<hp.length;yp++)if(hp[yp]._fullInput.uid===Xu)return yp;return-1}function P0(Xu,hp,yp){for(var Dp=0;Dp<hp.length;Dp++)if(hp[Dp].uid===Xu)return Dp;return!hp[yp]||hp[yp].uid?-1:yp}function E0(Xu,hp){var yp=st.isPlainObject(Xu),Dp=Array.isArray(Xu);return yp||Dp?(yp&&st.isPlainObject(hp)||Dp&&Array.isArray(hp))&&JSON.stringify(Xu)===JSON.stringify(hp):Xu===hp}function O0(Xu,hp,yp,Dp){var Bp=Dp._preGUI,Jp,n0,b0,v0,x0,U0,W0,Y0,gm,Dm,Jm=[],a1={},h1={};for(Jp in Bp){if(x0=jp(Jp,Fp),x0){if(gm=x0.head,Dm=x0.tail,n0=x0.attr||gm+".uirevision",b0=Ln(Dp,n0).get(),v0=b0&&a0(n0,hp),v0&&v0===b0){if(U0=Bp[Jp],U0===null&&(U0=void 0),W0=Ln(hp,Jp),Y0=W0.get(),E0(Y0,U0)){Y0===void 0&&Dm==="autorange"&&Jm.push(gm),W0.set(vu(Ln(Dp,Jp).get()));continue}else if(Dm==="autorange"||Dm.substr(0,6)==="range["){var zm=Bp[gm+".range[0]"],xm=Bp[gm+".range[1]"],Qm=Bp[gm+".autorange"];if(Qm||Qm===null&&zm===null&&xm===null){if(!(gm in a1)){var l1=Ln(hp,gm).get();a1[gm]=l1&&(l1.autorange||l1.autorange!==!1&&(!l1.range||l1.range.length!==2))}if(a1[gm]){W0.set(vu(Ln(Dp,Jp).get()));continue}}}}}else st.warn("unrecognized GUI edit: "+Jp);delete Bp[Jp],x0&&x0.tail.substr(0,6)==="range["&&(h1[x0.head]=1)}for(var Xm=0;Xm<Jm.length;Xm++){var jm=Jm[Xm];if(h1[jm]){var Wm=Ln(hp,jm).get();Wm&&delete Wm.autorange}}var Om=Dp._tracePreGUI;for(var A1 in Om){var B1=Om[A1],o1=null,$1;for(Jp in B1){if(!o1){var X1=y0(A1,yp);if(X1<0){delete Om[A1];break}var cv=yp[X1];$1=cv._fullInput;var dv=P0(A1,Xu,$1.index);if(dv<0){delete Om[A1];break}o1=Xu[dv]}if(x0=jp(Jp,cp),x0){if(x0.attr?(b0=Ln(Dp,x0.attr).get(),v0=b0&&a0(x0.attr,hp)):(b0=$1.uirevision,v0=o1.uirevision,v0===void 0&&(v0=hp.uirevision)),v0&&v0===b0&&(U0=B1[Jp],U0===null&&(U0=void 0),W0=Ln(o1,Jp),Y0=W0.get(),E0(Y0,U0))){W0.set(vu(Ln($1,Jp).get()));continue}}else st.warn("unrecognized GUI edit: "+Jp+" in trace uid "+A1);delete B1[Jp]}}}function j0(Xu,hp,yp,Dp){var Bp,Jp;function n0(){return yu.addFrames(Xu,Bp)}Xu=st.getGraphDiv(Xu),Al.clearPromiseQueue(Xu);var b0=Xu._fullData,v0=Xu._fullLayout;if(!st.isPlotDiv(Xu)||!b0||!v0)Jp=yu.newPlot(Xu,hp,yp,Dp);else{if(st.isPlainObject(hp)){var x0=hp;hp=x0.data,yp=x0.layout,Dp=x0.config,Bp=x0.frames}var U0=!1;if(Dp){let $1=st.extendDeepAll({},Xu._context);Xu._context=void 0,Fu(Xu,Dp),U0=!Al.collectionsAreEqual($1,Xu._context)}if(U0){let $1=Xu._ev.eventNames().map(X1=>[X1,Xu._ev.listeners(X1)]);Jp=yu.newPlot(Xu,hp,yp,Dp).then(()=>{for(let[X1,cv]of $1)cv.forEach(dv=>Xu.on(X1,dv));return yu.react(Xu,hp,yp,Dp)})}else{Xu.data=hp||[],Al.cleanData(Xu.data),Xu.layout=yp||{},Al.cleanLayout(Xu.layout),O0(Xu.data,Xu.layout,b0,v0),ot.supplyDefaults(Xu,{skipUpdateCalc:!0});var W0=Xu._fullData,Y0=Xu._fullLayout,gm=Y0.datarevision===void 0,Dm=Y0.transition,Jm=tm(Xu,v0,Y0,gm,Dm),a1=Jm.newDataRevision,h1=$0(Xu,b0,W0,gm,Dm,a1);if(f0(Xu)&&(Jm.layoutReplot=!0),h1.calc||Jm.calc){Xu.calcdata=void 0;for(var zm=Object.getOwnPropertyNames(Y0),xm=0;xm<zm.length;xm++){var Qm=zm[xm],l1=Qm.substring(0,5);if(l1==="xaxis"||l1==="yaxis"){var Xm=Y0[Qm]._emptyCategories;Xm&&Xm()}}}else ot.supplyDefaultsUpdateCalc(Xu.calcdata,W0);var jm=[];if(Bp&&(Xu._transitionData={},ot.createTransitionData(Xu),jm.push(n0)),Y0.transition&&(h1.anim||Jm.anim))Jm.ticks&&jm.push(Il.doTicksRelayout),ot.doCalcdata(Xu),Il.doAutoRangeAndConstraints(Xu),jm.push(function(){return ot.transitionFromReact(Xu,h1,Jm,v0)});else if(h1.fullReplot||Jm.layoutReplot)Xu._fullLayout._skipDefaults=!0,jm.push(yu._doPlot);else{for(var Wm in Jm.arrays){var Om=Jm.arrays[Wm];if(Om.length){var A1=zn.getComponentMethod(Wm,"drawOne");if(A1!==st.noop)for(var B1=0;B1<Om.length;B1++)A1(Xu,Om[B1]);else{var o1=zn.getComponentMethod(Wm,"draw");if(o1===st.noop)throw new Error("cannot draw components: "+Wm);o1(Xu)}}}jm.push(ot.previousPromises),h1.style&&jm.push(Il.doTraceStyle),(h1.colorbars||Jm.colorbars)&&jm.push(Il.doColorBars),Jm.legend&&jm.push(Il.doLegend),Jm.layoutstyle&&jm.push(Il.layoutStyles),Jm.axrange&&vp(jm),Jm.ticks&&jm.push(Il.doTicksRelayout),Jm.modebar&&jm.push(Il.doModeBar),Jm.camera&&jm.push(Il.doCamera),jm.push($u)}jm.push(ot.rehover,ot.redrag,ot.reselect),Jp=st.syncOrAsync(jm,Xu),(!Jp||!Jp.then)&&(Jp=Promise.resolve(Xu))}}return Jp.then(()=>(U0||Xu.emit("plotly_react",{config:Dp,data:hp,layout:yp}),Xu))}function $0(Xu,hp,yp,Dp,Bp,Jp){var n0=hp.length===yp.length;if(!Bp&&!n0)return{fullReplot:!0,calc:!0};var b0=$l.traceFlags();b0.arrays={},b0.nChanges=0,b0.nChangesAnim=0;var v0,x0;function U0(gm){var Dm=yl.getTraceValObject(x0,gm);return!x0._module.animatable&&Dm.anim&&(Dm.anim=!1),Dm}var W0={getValObject:U0,flags:b0,immutable:Dp,transition:Bp,newDataRevision:Jp,gd:Xu},Y0={};for(v0=0;v0<hp.length;v0++)if(yp[v0]){if(x0=yp[v0]._fullInput,Y0[x0.uid])continue;Y0[x0.uid]=1,A0(hp[v0]._fullInput,x0,[],W0)}return(b0.calc||b0.plot)&&(b0.fullReplot=!0),Bp&&b0.nChanges&&b0.nChangesAnim&&(b0.anim=b0.nChanges===b0.nChangesAnim&&n0?"all":"some"),b0}function tm(Xu,hp,yp,Dp,Bp){var Jp=$l.layoutFlags();Jp.arrays={},Jp.rangesAltered={},Jp.nChanges=0,Jp.nChangesAnim=0;function n0(Y0){return yl.getLayoutValObject(yp,Y0)}for(var b0 in yp)if(!(!b0.startsWith("xaxis")&&!b0.startsWith("yaxis"))&&hp[b0]){var v0=yp[b0].domain,x0=hp[b0].domain,U0=hp[b0]._inputDomain;hp[b0]._inputDomain&&(v0[0]===U0[0]&&v0[1]===U0[1]?yp[b0].domain=hp[b0].domain:(v0[0]!==x0[0]||v0[1]!==x0[1])&&(yp[b0]._inputDomain=null))}var W0={getValObject:n0,flags:Jp,immutable:Dp,transition:Bp,gd:Xu};return A0(hp,yp,[],W0),(Jp.plot||Jp.calc)&&(Jp.layoutReplot=!0),Bp&&Jp.nChanges&&Jp.nChangesAnim&&(Jp.anim=Jp.nChanges===Jp.nChangesAnim?"all":"some"),Jp}function A0(Xu,hp,yp,Dp){var Bp,Jp,n0,b0=Dp.getValObject,v0=Dp.flags,x0=Dp.immutable,U0=Dp.inArray,W0=Dp.arrayIndex;function Y0(){var X1=Bp.editType;if(U0&&X1.indexOf("arraydraw")!==-1){st.pushUnique(v0.arrays[U0],W0);return}$l.update(v0,Bp),X1!=="none"&&v0.nChanges++,Dp.transition&&Bp.anim&&v0.nChangesAnim++,(Pp.test(n0)||Gp.test(n0))&&(v0.rangesAltered[yp[0]]=1),Jp==="datarevision"&&(v0.newDataRevision=1)}function gm(X1){return X1.valType==="data_array"||X1.arrayOk}for(Jp in Xu){if(v0.calc&&!Dp.transition)return;var Dm=Xu[Jp],Jm=hp[Jp],a1=yp.concat(Jp);if(n0=a1.join("."),!(Jp.charAt(0)==="_"||typeof Dm=="function"||Dm===Jm)){if((Jp==="tick0"||Jp==="dtick")&&yp[0]!=="geo"){var h1=hp.tickmode;if(h1==="auto"||h1==="array"||!h1)continue}if(!(Jp==="range"&&hp.autorange)&&!((Jp==="zmin"||Jp==="zmax")&&hp.type==="contourcarpet")&&(Bp=b0(a1),!!Bp&&!(Bp._compareAsJSON&&JSON.stringify(Dm)===JSON.stringify(Jm)))){var zm=Bp.valType,xm,Qm=gm(Bp),l1=Array.isArray(Dm),Xm=Array.isArray(Jm);if(l1&&Xm){var jm="_input_"+Jp,Wm=Xu[jm],Om=hp[jm];if(Array.isArray(Wm)&&Wm===Om)continue}if(Jm===void 0)Qm&&l1?v0.calc=!0:Y0();else if(Bp._isLinkedToArray){var A1=[],B1=!1;U0||(v0.arrays[Jp]=A1);var o1=Math.min(Dm.length,Jm.length),$1=Math.max(Dm.length,Jm.length);if(o1!==$1)if(Bp.editType==="arraydraw")B1=!0;else{Y0();continue}for(xm=0;xm<o1;xm++)A0(Dm[xm],Jm[xm],a1.concat(xm),st.extendFlat({inArray:Jp,arrayIndex:xm},Dp));if(B1)for(xm=o1;xm<$1;xm++)A1.push(xm)}else!zm&&st.isPlainObject(Dm)?A0(Dm,Jm,a1,Dp):Qm?l1&&Xm?(x0&&(v0.calc=!0),(x0||Dp.newDataRevision)&&Y0()):l1!==Xm?v0.calc=!0:Y0():l1&&Xm?(Dm.length!==Jm.length||String(Dm)!==String(Jm))&&Y0():Y0()}}}for(Jp in hp)if(!(Jp in Xu||Jp.charAt(0)==="_"||typeof hp[Jp]=="function"))if(Bp=b0(yp.concat(Jp)),gm(Bp)&&Array.isArray(hp[Jp])){v0.calc=!0;return}else Y0()}function sm(Xu,hp,yp){if(Xu=st.getGraphDiv(Xu),!st.isPlotDiv(Xu))throw new Error("This element is not a Plotly plot: "+Xu+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Dp=Xu._transitionData;Dp._frameQueue||(Dp._frameQueue=[]),yp=ot.supplyAnimationDefaults(yp);var Bp=yp.transition,Jp=yp.frame;Dp._frameWaitingCnt===void 0&&(Dp._frameWaitingCnt=0);function n0(x0){return Array.isArray(Bp)?x0>=Bp.length?Bp[0]:Bp[x0]:Bp}function b0(x0){return Array.isArray(Jp)?x0>=Jp.length?Jp[0]:Jp[x0]:Jp}function v0(x0,U0){var W0=0;return function(){if(x0&&++W0===U0)return x0()}}return new Promise(function(x0,U0){function W0(){if(Dp._frameQueue.length!==0){for(;Dp._frameQueue.length;){var o1=Dp._frameQueue.pop();o1.onInterrupt&&o1.onInterrupt()}Xu.emit("plotly_animationinterrupted",[])}}function Y0(o1){if(o1.length!==0){for(var $1=0;$1<o1.length;$1++){var X1;o1[$1].type==="byname"?X1=ot.computeFrame(Xu,o1[$1].name):X1=o1[$1].data;var cv=b0($1),dv=n0($1);dv.duration=Math.min(dv.duration,cv.duration);var L1={frame:X1,name:o1[$1].name,frameOpts:cv,transitionOpts:dv};$1===o1.length-1&&(L1.onComplete=v0(x0,2),L1.onInterrupt=U0),Dp._frameQueue.push(L1)}yp.mode==="immediate"&&(Dp._lastFrameAt=-1/0),Dp._animationRaf||Jm()}}function gm(){Xu.emit("plotly_animated"),window.cancelAnimationFrame(Dp._animationRaf),Dp._animationRaf=null}function Dm(){Dp._currentFrame&&Dp._currentFrame.onComplete&&Dp._currentFrame.onComplete();var o1=Dp._currentFrame=Dp._frameQueue.shift();if(o1){var $1=o1.name?o1.name.toString():null;Xu._fullLayout._currentFrame=$1,Dp._lastFrameAt=Date.now(),Dp._timeToNext=o1.frameOpts.duration,ot.transition(Xu,o1.frame.data,o1.frame.layout,Al.coerceTraceIndices(Xu,o1.frame.traces),o1.frameOpts,o1.transitionOpts).then(function(){o1.onComplete&&o1.onComplete()}),Xu.emit("plotly_animatingframe",{name:$1,frame:o1.frame,animation:{frame:o1.frameOpts,transition:o1.transitionOpts}})}else gm()}function Jm(){Xu.emit("plotly_animating"),Dp._lastFrameAt=-1/0,Dp._timeToNext=0,Dp._runningTransitions=0,Dp._currentFrame=null;var o1=function(){Dp._animationRaf=window.requestAnimationFrame(o1),Date.now()-Dp._lastFrameAt>Dp._timeToNext&&Dm()};o1()}var a1=0;function h1(o1){return Array.isArray(Bp)?a1>=Bp.length?o1.transitionOpts=Bp[a1]:o1.transitionOpts=Bp[0]:o1.transitionOpts=Bp,a1++,o1}var zm,xm,Qm=[],l1=hp==null,Xm=Array.isArray(hp),jm=!l1&&!Xm&&st.isPlainObject(hp);if(jm)Qm.push({type:"object",data:h1(st.extendFlat({},hp))});else if(l1||["string","number"].indexOf(typeof hp)!==-1)for(zm=0;zm<Dp._frames.length;zm++)xm=Dp._frames[zm],xm&&(l1||String(xm.group)===String(hp))&&Qm.push({type:"byname",name:String(xm.name),data:h1({name:xm.name})});else if(Xm)for(zm=0;zm<hp.length;zm++){var Wm=hp[zm];["number","string"].indexOf(typeof Wm)!==-1?(Wm=String(Wm),Qm.push({type:"byname",name:Wm,data:h1({name:Wm})})):st.isPlainObject(Wm)&&Qm.push({type:"object",data:h1(st.extendFlat({},Wm))})}for(zm=0;zm<Qm.length;zm++)if(xm=Qm[zm],xm.type==="byname"&&!Dp._frameHash[xm.data.name]){st.warn('animate failure: frame not found: "'+xm.data.name+'"'),U0();return}["next","immediate"].indexOf(yp.mode)!==-1&&W0(),yp.direction==="reverse"&&Qm.reverse();var Om=Xu._fullLayout._currentFrame;if(Om&&yp.fromcurrent){var A1=-1;for(zm=0;zm<Qm.length;zm++)if(xm=Qm[zm],xm.type==="byname"&&xm.name===Om){A1=zm;break}if(A1>0&&A1<Qm.length-1){var B1=[];for(zm=0;zm<Qm.length;zm++)xm=Qm[zm],(Qm[zm].type!=="byname"||zm>A1)&&B1.push(xm);Qm=B1}}Qm.length>0?Y0(Qm):(Xu.emit("plotly_animated"),x0())})}function pm(Xu,hp,yp){if(Xu=st.getGraphDiv(Xu),hp==null)return Promise.resolve();if(!st.isPlotDiv(Xu))throw new Error("This element is not a Plotly plot: "+Xu+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Dp,Bp,Jp,n0,b0=Xu._transitionData._frames,v0=Xu._transitionData._frameHash;if(!Array.isArray(hp))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+hp);var x0=b0.length+hp.length*2,U0=[],W0={};for(Dp=hp.length-1;Dp>=0;Dp--)if(st.isPlainObject(hp[Dp])){var Y0=hp[Dp].name,gm=(v0[Y0]||W0[Y0]||{}).name,Dm=hp[Dp].name,Jm=v0[gm]||W0[gm];gm&&Dm&&typeof Dm=="number"&&Jm&&Jl<Kl&&(Jl++,st.warn('addFrames: overwriting frame "'+(v0[gm]||W0[gm]).name+'" with a frame whose name of type "number" also equates to "'+gm+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),Jl===Kl&&st.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),W0[Y0]={name:Y0},U0.push({frame:ot.supplyFrameDefaults(hp[Dp]),index:yp&&yp[Dp]!==void 0&&yp[Dp]!==null?yp[Dp]:x0+Dp})}U0.sort(function(jm,Wm){return jm.index>Wm.index?-1:jm.index<Wm.index?1:0});var a1=[],h1=[],zm=b0.length;for(Dp=U0.length-1;Dp>=0;Dp--){if(Bp=U0[Dp].frame,typeof Bp.name=="number"&&st.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Bp.name)for(;v0[Bp.name="frame "+Xu._transitionData._counter++];);if(v0[Bp.name]){for(Jp=0;Jp<b0.length&&(b0[Jp]||{}).name!==Bp.name;Jp++);a1.push({type:"replace",index:Jp,value:Bp}),h1.unshift({type:"replace",index:Jp,value:b0[Jp]})}else n0=Math.max(0,Math.min(U0[Dp].index,zm)),a1.push({type:"insert",index:n0,value:Bp}),h1.unshift({type:"delete",index:n0}),zm++}var xm=ot.modifyFrames,Qm=ot.modifyFrames,l1=[Xu,h1],Xm=[Xu,a1];return Fn&&Fn.add(Xu,xm,l1,Qm,Xm),ot.modifyFrames(Xu,a1)}function nm(Xu,hp){if(Xu=st.getGraphDiv(Xu),!st.isPlotDiv(Xu))throw new Error("This element is not a Plotly plot: "+Xu);var yp,Dp,Bp=Xu._transitionData._frames,Jp=[],n0=[];if(!hp)for(hp=[],yp=0;yp<Bp.length;yp++)hp.push(yp);for(hp=hp.slice(),hp.sort(),yp=hp.length-1;yp>=0;yp--)Dp=hp[yp],Jp.push({type:"delete",index:Dp}),n0.unshift({type:"insert",index:Dp,value:Bp[Dp]});var b0=ot.modifyFrames,v0=ot.modifyFrames,x0=[Xu,n0],U0=[Xu,Jp];return Fn&&Fn.add(Xu,b0,x0,v0,U0),ot.modifyFrames(Xu,Jp)}function vm(Xu){Xu=st.getGraphDiv(Xu);var hp=Xu._fullLayout||{},yp=Xu._fullData||[];return ot.cleanPlot([],{},yp,hp),ot.purge(Xu),Ft.purge(Xu),hp._container&&hp._container.remove(),delete Xu._context,Xu}function kp(Xu){var hp=Xu._fullLayout,yp=Xu.getBoundingClientRect();if(!st.equalDomRects(yp,hp._lastBBox)){var Dp=hp._invTransform=st.inverseTransformMatrix(st.getFullTransformMatrix(Xu));hp._invScaleX=Math.sqrt(Dp[0][0]*Dp[0][0]+Dp[0][1]*Dp[0][1]+Dp[0][2]*Dp[0][2]),hp._invScaleY=Math.sqrt(Dp[1][0]*Dp[1][0]+Dp[1][1]*Dp[1][1]+Dp[1][2]*Dp[1][2]),hp._lastBBox=yp}}function qp(Xu){var hp=hu.select(Xu),yp=Xu._fullLayout;if(yp._calcInverseTransform=kp,yp._calcInverseTransform(Xu),yp._container=hp.selectAll(".plot-container").data([0]),yp._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),yp._paperdiv=yp._container.selectAll(".svg-container").data([0]),yp._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),yp._glcontainer=yp._paperdiv.selectAll(".gl-container").data([{}]),yp._glcontainer.enter().append("div").classed("gl-container",!0),yp._paperdiv.selectAll(".main-svg").remove(),yp._paperdiv.select(".modebar-container").remove(),yp._paper=yp._paperdiv.insert("svg",":first-child").classed("main-svg",!0),yp._toppaper=yp._paperdiv.append("svg").classed("main-svg",!0),yp._modebardiv=yp._paperdiv.append("div"),delete yp._modeBar,yp._hoverpaper=yp._paperdiv.append("svg").classed("main-svg",!0),!yp._uid){var Dp={};hu.selectAll("defs").each(function(){this.id&&(Dp[this.id.split("-")[1]]=1)}),yp._uid=st.randstr(Dp)}yp._paperdiv.selectAll(".main-svg").attr(Ml.svgAttrs),yp._defs=yp._paper.append("defs").attr("id","defs-"+yp._uid),yp._clips=yp._defs.append("g").classed("clips",!0),yp._topdefs=yp._toppaper.append("defs").attr("id","topdefs-"+yp._uid),yp._topclips=yp._topdefs.append("g").classed("clips",!0),yp._bgLayer=yp._paper.append("g").classed("bglayer",!0),yp._draggers=yp._paper.append("g").classed("draglayer",!0);var Bp=yp._paper.append("g").classed("layer-below",!0);yp._imageLowerLayer=Bp.append("g").classed("imagelayer",!0),yp._shapeLowerLayer=Bp.append("g").classed("shapelayer",!0),yp._cartesianlayer=yp._paper.append("g").classed("cartesianlayer",!0),yp._polarlayer=yp._paper.append("g").classed("polarlayer",!0),yp._smithlayer=yp._paper.append("g").classed("smithlayer",!0),yp._ternarylayer=yp._paper.append("g").classed("ternarylayer",!0),yp._geolayer=yp._paper.append("g").classed("geolayer",!0),yp._funnelarealayer=yp._paper.append("g").classed("funnelarealayer",!0),yp._pielayer=yp._paper.append("g").classed("pielayer",!0),yp._iciclelayer=yp._paper.append("g").classed("iciclelayer",!0),yp._treemaplayer=yp._paper.append("g").classed("treemaplayer",!0),yp._sunburstlayer=yp._paper.append("g").classed("sunburstlayer",!0),yp._indicatorlayer=yp._toppaper.append("g").classed("indicatorlayer",!0),yp._glimages=yp._paper.append("g").classed("glimages",!0);var Jp=yp._toppaper.append("g").classed("layer-above",!0);yp._imageUpperLayer=Jp.append("g").classed("imagelayer",!0),yp._shapeUpperLayer=Jp.append("g").classed("shapelayer",!0),yp._selectionLayer=yp._toppaper.append("g").classed("selectionlayer",!0),yp._infolayer=yp._toppaper.append("g").classed("infolayer",!0),yp._menulayer=yp._toppaper.append("g").classed("menulayer",!0),yp._zoomlayer=yp._toppaper.append("g").classed("zoomlayer",!0),yp._hoverlayer=yp._hoverpaper.append("g").classed("hoverlayer",!0),yp._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Xu.emit("plotly_framework")}yu.animate=sm,yu.addFrames=pm,yu.deleteFrames=nm,yu.addTraces=Nu,yu.deleteTraces=Hl,yu.extendTraces=Ap,yu.moveTraces=qu,yu.prependTraces=Lu,yu.newPlot=Gu,yu._doPlot=Bl,yu.purge=vm,yu.react=j0,yu.redraw=Hu,yu.relayout=ip,yu.restyle=np,yu.setPlotConfig=mu,yu.update=d0,yu._guiRelayout=Sp(ip),yu._guiRestyle=Sp(np),yu._guiUpdate=Sp(d0),yu._storeDirectGUIEdit=Mu}),p3=a(yu=>{var hu=N1();yu.getDelay=function(st){return st._has&&(st._has("gl3d")||st._has("mapbox")||st._has("map"))?500:0},yu.getRedrawFunc=function(st){return function(){hu.getComponentMethod("colorbar","draw")(st)}},yu.encodeSVG=function(st){return"data:image/svg+xml,"+encodeURIComponent(st)},yu.encodeJSON=function(st){return"data:application/json,"+encodeURIComponent(st)};var jt=window.URL||window.webkitURL;yu.createObjectURL=function(st){return jt.createObjectURL(st)},yu.revokeObjectURL=function(st){return jt.revokeObjectURL(st)},yu.createBlob=function(st,Ln){if(Ln==="svg")return new window.Blob([st],{type:"image/svg+xml;charset=utf-8"});if(Ln==="full-json")return new window.Blob([st],{type:"application/json;charset=utf-8"});var Ft=it(window.atob(st));return new window.Blob([Ft],{type:"image/"+Ln})},yu.octetStream=function(st){document.location.href="data:application/octet-stream"+st};function it(st){for(var Ln=st.length,Ft=new ArrayBuffer(Ln),Fn=new Uint8Array(Ft),zn=0;zn<Ln;zn++)Fn[zn]=st.charCodeAt(zn);return Ft}yu.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}),V3=a((yu,hu)=>{var jt=g();gu();var it=q0(),st=D0();Vv();var Ln=/"/g,Ft="TOBESTRIPPED",Fn=new RegExp('("'+Ft+")|("+Ft+'")',"g");function zn(ot){var _l=jt.select("body").append("div").style({display:"none"}).html(""),ls=ot.replace(/(&[^;]*;)/gi,function(Sl){return Sl==="&lt;"?"&#60;":Sl==="&rt;"?"&#62;":Sl.indexOf("<")!==-1||Sl.indexOf(">")!==-1?"":_l.html(Sl).text()});return _l.remove(),ls}function yl(ot){return ot.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}hu.exports=function(ot,_l,ls){var Sl=ot._fullLayout,Pl=Sl._paper,Tl=Sl._toppaper,El=Sl.width,Ml=Sl.height,Rl;Pl.insert("rect",":first-child").call(it.setRect,0,0,El,Ml).call(st.fill,Sl.paper_bgcolor);var Bn=Sl._basePlotModules||[];for(Rl=0;Rl<Bn.length;Rl++){var Cl=Bn[Rl];Cl.toSVG&&Cl.toSVG(ot)}if(Tl){var Al=Tl.node().childNodes,Il=Array.prototype.slice.call(Al);for(Rl=0;Rl<Il.length;Rl++){var $l=Il[Rl];$l.childNodes.length&&Pl.node().appendChild($l)}}Sl._draggers&&Sl._draggers.remove(),Pl.node().style.background="",Pl.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var Jl=jt.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){Jl.remove();return}else Jl.style({visibility:null,display:null});var Kl=this.style.fontFamily;Kl&&Kl.indexOf('"')!==-1&&Jl.style("font-family",Kl.replace(Ln,Ft));var Bl=this.style.fontWeight;Bl&&(Bl==="normal"||Bl==="400")&&Jl.style("font-weight",void 0);var $u=this.style.fontStyle;$u&&$u==="normal"&&Jl.style("font-style",void 0);var mu=this.style.fontVariant;mu&&mu==="normal"&&Jl.style("font-variant",void 0)}),Pl.selectAll(".gradient_filled,.pattern_filled").each(function(){var Jl=jt.select(this),Kl=this.style.fill;Kl&&Kl.indexOf("url(")!==-1&&Jl.style("fill",Kl.replace(Ln,Ft));var Bl=this.style.stroke;Bl&&Bl.indexOf("url(")!==-1&&Jl.style("stroke",Bl.replace(Ln,Ft))}),(_l==="pdf"||_l==="eps")&&Pl.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),_l==="svg"&&ls&&(Pl.attr("width",ls*El),Pl.attr("height",ls*Ml),Pl.attr("viewBox","0 0 "+El+" "+Ml));var Bu=new window.XMLSerializer().serializeToString(Pl.node());return Bu=zn(Bu),Bu=yl(Bu),Bu=Bu.replace(Fn,"'"),Bu}}),U3=a((yu,hu)=>{var jt=gu(),it=om().EventEmitter,st=p3();function Ln(Ft){var Fn=Ft.emitter||new it,zn=new Promise(function(yl,ot){var _l=window.Image,ls=Ft.svg,Sl=Ft.format||"png",Pl=Ft.canvas,Tl=Ft.scale||1,El=Ft.width||300,Ml=Ft.height||150,Rl=Tl*El,Bn=Tl*Ml,Cl=Pl.getContext("2d",{willReadFrequently:!0}),Al=new _l,Il,$l;Sl==="svg"||jt.isSafari()?$l=st.encodeSVG(ls):(Il=st.createBlob(ls,"svg"),$l=st.createObjectURL(Il)),Pl.width=Rl,Pl.height=Bn,Al.onload=function(){var Bu;switch(Il=null,st.revokeObjectURL($l),Sl!=="svg"&&Cl.drawImage(Al,0,0,Rl,Bn),Sl){case"jpeg":Bu=Pl.toDataURL("image/jpeg");break;case"png":Bu=Pl.toDataURL("image/png");break;case"webp":Bu=Pl.toDataURL("image/webp");break;case"svg":Bu=$l;break;default:var Jl="Image format is not jpeg, png, svg or webp.";if(ot(new Error(Jl)),!Ft.promise)return Fn.emit("error",Jl)}yl(Bu),Ft.promise||Fn.emit("success",Bu)},Al.onerror=function(Bu){if(Il=null,st.revokeObjectURL($l),ot(Bu),!Ft.promise)return Fn.emit("error",Bu)},Al.src=$l});return Ft.promise?zn:Fn}hu.exports=Ln}),Fx=a((yu,hu)=>{var jt=rt(),it=Rx(),st=_v(),Ln=gu(),Ft=p3(),Fn=V3(),zn=U3(),yl=c().version,ot={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function _l(ls,Sl){Sl=Sl||{};var Pl,Tl,El,Ml;Ln.isPlainObject(ls)?(Pl=ls.data||[],Tl=ls.layout||{},El=ls.config||{},Ml={}):(ls=Ln.getGraphDiv(ls),Pl=Ln.extendDeep([],ls.data),Tl=Ln.extendDeep({},ls.layout),El=ls._context,Ml=ls._fullLayout||{});function Rl(Gu){return!(Gu in Sl)||Ln.validate(Sl[Gu],ot[Gu])}if(!Rl("width")&&Sl.width!==null||!Rl("height")&&Sl.height!==null)throw new Error("Height and width should be pixel values.");if(!Rl("format"))throw new Error("Export format is not "+Ln.join2(ot.format.values,", "," or ")+".");var Bn={};function Cl(Gu,Xl){return Ln.coerce(Sl,Bn,ot,Gu,Xl)}var Al=Cl("format"),Il=Cl("width"),$l=Cl("height"),Bu=Cl("scale"),Jl=Cl("setBackground"),Kl=Cl("imageDataOnly"),Bl=document.createElement("div");Bl.style.position="absolute",Bl.style.left="-5000px",document.body.appendChild(Bl);var $u=Ln.extendFlat({},Tl);Il?$u.width=Il:Sl.width===null&&jt(Ml.width)&&($u.width=Ml.width),$l?$u.height=$l:Sl.height===null&&jt(Ml.height)&&($u.height=Ml.height);var mu=Ln.extendFlat({},El,{_exportedPlot:!0,staticPlot:!0,setBackground:Jl}),Pu=Ft.getRedrawFunc(Bl);function bu(){return new Promise(function(Gu){setTimeout(Gu,Ft.getDelay(Bl._fullLayout))})}function Fu(){return new Promise(function(Gu,Xl){var Wu=Fn(Bl,Al,Bu),Yu=Bl._fullLayout.width,ap=Bl._fullLayout.height;function rp(){it.purge(Bl),document.body.removeChild(Bl)}if(Al==="full-json"){var sp=st.graphJson(Bl,!1,"keepdata","object",!0,!0);return sp.version=yl,sp=JSON.stringify(sp),rp(),Gu(Kl?sp:Ft.encodeJSON(sp))}if(rp(),Al==="svg")return Gu(Kl?Wu:Ft.encodeSVG(Wu));var bp=document.createElement("canvas");bp.id=Ln.randstr(),zn({format:Al,width:Yu,height:ap,scale:Bu,canvas:bp,svg:Wu,promise:!0}).then(Gu).catch(Xl)})}function Hu(Gu){return Kl?Gu.replace(Ft.IMAGE_URL_PREFIX,""):Gu}return new Promise(function(Gu,Xl){it.newPlot(Bl,Pl,$u,mu).then(Pu).then(bu).then(Fu).then(function(Wu){Gu(Hu(Wu))}).catch(function(Wu){Xl(Wu)})})}hu.exports=_l}),bC=a((yu,hu)=>{var jt=gu(),it=_v(),st=k1(),Ln=l0().dfltConfig,Ft=jt.isPlainObject,Fn=Array.isArray,zn=jt.isArrayOrTypedArray;hu.exports=function(Bn,Cl){Bn===void 0&&(Bn=[]),Cl===void 0&&(Cl={});var Al=st.get(),Il=[],$l={_context:jt.extendFlat({},Ln)},Bu,Jl;Fn(Bn)?($l.data=jt.extendDeep([],Bn),Bu=Bn):($l.data=[],Bu=[],Il.push(Sl("array","data"))),Ft(Cl)?($l.layout=jt.extendDeep({},Cl),Jl=Cl):($l.layout={},Jl={},arguments.length>1&&Il.push(Sl("object","layout"))),it.supplyDefaults($l);for(var Kl=$l._fullData,Bl=Bu.length,$u=0;$u<Bl;$u++){var mu=Bu[$u],Pu=["data",$u];if(!Ft(mu)){Il.push(Sl("object",Pu));continue}var bu=Kl[$u],Fu=bu.type,Hu=Al.traces[Fu].attributes;Hu.type={valType:"enumerated",values:[Fu]},bu.visible===!1&&mu.visible!==!1&&Il.push(Sl("invisible",Pu)),yl(mu,bu,Hu,Il,Pu)}var Gu=$l._fullLayout,Xl=ot(Al,Kl);return yl(Jl,Gu,Xl,Il,"layout"),Il.length===0?void 0:Il};function yl(Bn,Cl,Al,Il,$l,Bu){Bu=Bu||[];for(var Jl=Object.keys(Bn),Kl=0;Kl<Jl.length;Kl++){var Bl=Jl[Kl],$u=Bu.slice();$u.push(Bl);var mu=Bn[Bl],Pu=Cl[Bl],bu=Tl(Al,Bl),Fu=(bu||{}).valType,Hu=Fu==="info_array",Gu=Fu==="colorscale",Xl=(bu||{}).items;if(!Pl(Al,Bl))Il.push(Sl("schema",$l,$u));else if(Ft(mu)&&Ft(Pu)&&Fu!=="any")yl(mu,Pu,bu,Il,$l,$u);else if(Hu&&Fn(mu)){mu.length>Pu.length&&Il.push(Sl("unused",$l,$u.concat(Pu.length)));var Wu=Pu.length,Yu=Array.isArray(Xl);Yu&&(Wu=Math.min(Wu,Xl.length));var ap,rp,sp,bp,Cp;if(bu.dimensions===2)for(rp=0;rp<Wu;rp++)if(Fn(mu[rp])){mu[rp].length>Pu[rp].length&&Il.push(Sl("unused",$l,$u.concat(rp,Pu[rp].length)));var Ap=Pu[rp].length;for(ap=0;ap<(Yu?Math.min(Ap,Xl[rp].length):Ap);ap++)sp=Yu?Xl[rp][ap]:Xl,bp=mu[rp][ap],Cp=Pu[rp][ap],jt.validate(bp,sp)?Cp!==bp&&Cp!==+bp&&Il.push(Sl("dynamic",$l,$u.concat(rp,ap),bp,Cp)):Il.push(Sl("value",$l,$u.concat(rp,ap),bp))}else Il.push(Sl("array",$l,$u.concat(rp),mu[rp]));else for(rp=0;rp<Wu;rp++)sp=Yu?Xl[rp]:Xl,bp=mu[rp],Cp=Pu[rp],jt.validate(bp,sp)?Cp!==bp&&Cp!==+bp&&Il.push(Sl("dynamic",$l,$u.concat(rp),bp,Cp)):Il.push(Sl("value",$l,$u.concat(rp),bp))}else if(bu.items&&!Hu&&Fn(mu)){var Lu=Xl[Object.keys(Xl)[0]],Nu=[],Hl,qu;for(Hl=0;Hl<Pu.length;Hl++){var np=Pu[Hl]._index||Hl;if(qu=$u.slice(),qu.push(np),Ft(mu[np])&&Ft(Pu[Hl])){Nu.push(np);var vu=mu[np],Ol=Pu[Hl];Ft(vu)&&vu.visible!==!1&&Ol.visible===!1?Il.push(Sl("invisible",$l,qu)):yl(vu,Ol,Lu,Il,$l,qu)}}for(Hl=0;Hl<mu.length;Hl++)qu=$u.slice(),qu.push(Hl),Ft(mu[Hl])?Nu.indexOf(Hl)===-1&&Il.push(Sl("unused",$l,qu)):Il.push(Sl("object",$l,qu,mu[Hl]))}else!Ft(mu)&&Ft(Pu)?Il.push(Sl("object",$l,$u,mu)):!zn(mu)&&zn(Pu)&&!Hu&&!Gu?Il.push(Sl("array",$l,$u,mu)):Bl in Cl?jt.validate(mu,bu)?bu.valType==="enumerated"&&(bu.coerceNumber&&mu!==+Pu||!zn(mu)&&mu!==Pu||String(mu)!==String(Pu))&&Il.push(Sl("dynamic",$l,$u,mu,Pu)):Il.push(Sl("value",$l,$u,mu)):Il.push(Sl("unused",$l,$u,mu))}return Il}function ot(Bn,Cl){for(var Al=Bn.layout.layoutAttributes,Il=0;Il<Cl.length;Il++){var $l=Cl[Il],Bu=Bn.traces[$l.type],Jl=Bu.layoutAttributes;Jl&&($l.subplot?jt.extendFlat(Al[Bu.attributes.subplot.dflt],Jl):jt.extendFlat(Al,Jl))}return Al}var _l={object:function(Bn,Cl){var Al;return Bn==="layout"&&Cl===""?Al="The layout argument":Bn[0]==="data"&&Cl===""?Al="Trace "+Bn[1]+" in the data argument":Al=ls(Bn)+"key "+Cl,Al+" must be linked to an object container"},array:function(Bn,Cl){var Al;return Bn==="data"?Al="The data argument":Al=ls(Bn)+"key "+Cl,Al+" must be linked to an array container"},schema:function(Bn,Cl){return ls(Bn)+"key "+Cl+" is not part of the schema"},unused:function(Bn,Cl,Al){var Il=Ft(Al)?"container":"key";return ls(Bn)+Il+" "+Cl+" did not get coerced"},dynamic:function(Bn,Cl,Al,Il){return[ls(Bn)+"key",Cl,"(set to '"+Al+"')","got reset to","'"+Il+"'","during defaults."].join(" ")},invisible:function(Bn,Cl){return(Cl?ls(Bn)+"item "+Cl:"Trace "+Bn[1])+" got defaulted to be not visible"},value:function(Bn,Cl,Al){return[ls(Bn)+"key "+Cl,"is set to an invalid value ("+Al+")"].join(" ")}};function ls(Bn){return Fn(Bn)?"In data trace "+Bn[1]+", ":"In "+Bn+", "}function Sl(Bn,Cl,Al,Il,$l){Al=Al||"";var Bu,Jl;Fn(Cl)?(Bu=Cl[0],Jl=Cl[1]):(Bu=Cl,Jl=null);var Kl=Rl(Al),Bl=_l[Bn](Cl,Kl,Il,$l);return jt.log(Bl),{code:Bn,container:Bu,trace:Jl,path:Al,astr:Kl,msg:Bl}}function Pl(Bn,Cl){var Al=Ml(Cl),Il=Al.keyMinusId,$l=Al.id;return Il in Bn&&Bn[Il]._isSubplotObj&&$l?!0:Cl in Bn}function Tl(Bn,Cl){if(Cl in Bn)return Bn[Cl];var Al=Ml(Cl);return Bn[Al.keyMinusId]}var El=jt.counterRegex("([a-z]+)");function Ml(Bn){var Cl=Bn.match(El);return{keyMinusId:Cl&&Cl[1],id:Cl&&Cl[2]}}function Rl(Bn){if(!Fn(Bn))return String(Bn);for(var Cl="",Al=0;Al<Bn.length;Al++){var Il=Bn[Al];typeof Il=="number"?Cl=Cl.substr(0,Cl.length-1)+"["+Il+"]":Cl+=Il,Al<Bn.length-1&&(Cl+=".")}return Cl}}),wC=a((yu,hu)=>{var jt=gu(),it=p3();function st(Ln,Ft,Fn){var zn=document.createElement("a"),yl="download"in zn,ot=new Promise(function(_l,ls){var Sl,Pl;if(yl)return Sl=it.createBlob(Ln,Fn),Pl=it.createObjectURL(Sl),zn.href=Pl,zn.download=Ft,document.body.appendChild(zn),zn.click(),document.body.removeChild(zn),it.revokeObjectURL(Pl),Sl=null,_l(Ft);if(jt.isSafari()){var Tl=Fn==="svg"?",":";base64,";return it.octetStream(Tl+encodeURIComponent(Ln)),_l(Ft)}ls(new Error("download error"))});return ot}hu.exports=st}),Px=a((yu,hu)=>{var jt=gu(),it=Fx(),st=wC();p3();function Ln(Ft,Fn){var zn;return jt.isPlainObject(Ft)||(zn=jt.getGraphDiv(Ft)),Fn=Fn||{},Fn.format=Fn.format||"png",Fn.width=Fn.width||null,Fn.height=Fn.height||null,Fn.imageDataOnly=!0,new Promise(function(yl,ot){zn&&zn._snapshotInProgress&&ot(new Error("Snapshotting already in progress.")),zn&&(zn._snapshotInProgress=!0);var _l=it(Ft,Fn),ls=Fn.filename||Ft.fn||"newplot";ls+="."+Fn.format.replace("-","."),_l.then(function(Sl){return zn&&(zn._snapshotInProgress=!1),st(Sl,ls,Fn.format)}).then(function(Sl){yl(Sl)}).catch(function(Sl){zn&&(zn._snapshotInProgress=!1),ot(Sl)})})}hu.exports=Ln}),CC=a(yu=>{var hu=gu(),jt=hu.isPlainObject,it=k1(),st=_v(),Ln=zp(),Ft=d1(),Fn=l0().dfltConfig;yu.makeTemplate=function(El){El=hu.isPlainObject(El)?El:hu.getGraphDiv(El),El=hu.extendDeep({_context:Fn},{data:El.data,layout:El.layout}),st.supplyDefaults(El);var Ml=El.data||[],Rl=El.layout||{};Rl._basePlotModules=El._fullLayout._basePlotModules,Rl._modules=El._fullLayout._modules;var Bn={data:{},layout:{}};Ml.forEach(function(mu){var Pu={};ot(mu,Pu,ls.bind(null,mu));var bu=hu.coerce(mu,{},Ln,"type"),Fu=Bn.data[bu];Fu||(Fu=Bn.data[bu]=[]),Fu.push(Pu)}),ot(Rl,Bn.layout,_l.bind(null,Rl)),delete Bn.layout.template;var Cl=Rl.template;if(jt(Cl)){var Al=Cl.layout,Il,$l,Bu,Jl,Kl,Bl;jt(Al)&&zn(Al,Bn.layout);var $u=Cl.data;if(jt($u)){for($l in Bn.data)if(Bu=$u[$l],Array.isArray(Bu)){for(Kl=Bn.data[$l],Bl=Kl.length,Jl=Bu.length,Il=0;Il<Bl;Il++)zn(Bu[Il%Jl],Kl[Il]);for(Il=Bl;Il<Jl;Il++)Kl.push(hu.extendDeep({},Bu[Il]))}for($l in $u)$l in Bn.data||(Bn.data[$l]=hu.extendDeep([],$u[$l]))}}return Bn};function zn(El,Ml){El=hu.extendDeep({},El);var Rl=Object.keys(El).sort(),Bn,Cl;function Al(Kl,Bl,$u){if(jt(Bl)&&jt(Kl))zn(Kl,Bl);else if(Array.isArray(Bl)&&Array.isArray(Kl)){var mu=Ft.arrayTemplater({_template:El},$u);for(Cl=0;Cl<Bl.length;Cl++){var Pu=Bl[Cl],bu=mu.newItem(Pu)._template;bu&&zn(bu,Pu)}var Fu=mu.defaultItems();for(Cl=0;Cl<Fu.length;Cl++)Bl.push(Fu[Cl]._template);for(Cl=0;Cl<Bl.length;Cl++)delete Bl[Cl].templateitemname}}for(Bn=0;Bn<Rl.length;Bn++){var Il=Rl[Bn],$l=El[Il];if(Il in Ml?Al($l,Ml[Il],Il):Ml[Il]=$l,yl(Il)===Il)for(var Bu in Ml){var Jl=yl(Bu);Bu!==Jl&&Jl===Il&&!(Bu in El)&&Al($l,Ml[Bu],Il)}}}function yl(El){return El.replace(/[0-9]+$/,"")}function ot(El,Ml,Rl,Bn,Cl){var Al=Cl&&Rl(Cl);for(var Il in El){var $l=El[Il],Bu=Sl(El,Il,Bn),Jl=Sl(El,Il,Cl),Kl=Rl(Jl);if(!Kl){var Bl=yl(Il);Bl!==Il&&(Jl=Sl(El,Bl,Cl),Kl=Rl(Jl))}if(!(Al&&Al===Kl)&&!(!Kl||Kl._noTemplating||Kl.valType==="data_array"||Kl.arrayOk&&Array.isArray($l)))if(!Kl.valType&&jt($l))ot($l,Ml,Rl,Bu,Jl);else if(Kl._isLinkedToArray&&Array.isArray($l))for(var $u=!1,mu=0,Pu={},bu=0;bu<$l.length;bu++){var Fu=$l[bu];if(jt(Fu)){var Hu=Fu.name;if(Hu)Pu[Hu]||(ot(Fu,Ml,Rl,Sl($l,mu,Bu),Sl($l,mu,Jl)),mu++,Pu[Hu]=1);else if(!$u){var Gu=Ft.arrayDefaultKey(Il),Xl=Sl(El,Gu,Bn),Wu=Sl($l,mu,Bu);ot(Fu,Ml,Rl,Wu,Sl($l,mu,Jl));var Yu=hu.nestedProperty(Ml,Wu),ap=hu.nestedProperty(Ml,Xl);ap.set(Yu.get()),Yu.set(null),$u=!0}}}else{var rp=hu.nestedProperty(Ml,Bu);rp.set($l)}}}function _l(El,Ml){return it.getLayoutValObject(El,hu.nestedProperty({},Ml).parts)}function ls(El,Ml){return it.getTraceValObject(El,hu.nestedProperty({},Ml).parts)}function Sl(El,Ml,Rl){var Bn;return Rl?Array.isArray(El)?Bn=Rl+"["+Ml+"]":Bn=Rl+"."+Ml:Bn=Ml,Bn}yu.validateTemplate=function(El,Ml){var Rl=hu.extendDeep({},{_context:Fn,data:El.data,layout:El.layout}),Bn=Rl.layout||{};jt(Ml)||(Ml=Bn.template||{});var Cl=Ml.layout,Al=Ml.data,Il=[];Rl.layout=Bn,Rl.layout.template=Ml,st.supplyDefaults(Rl);var $l=Rl._fullLayout,Bu=Rl._fullData,Jl={};function Kl(Xl,Wu){for(var Yu in Xl)if(Yu.charAt(0)!=="_"&&jt(Xl[Yu])){var ap=yl(Yu),rp=[],sp;for(sp=0;sp<Wu.length;sp++)rp.push(Sl(Xl,Yu,Wu[sp])),ap!==Yu&&rp.push(Sl(Xl,ap,Wu[sp]));for(sp=0;sp<rp.length;sp++)Jl[rp[sp]]=1;Kl(Xl[Yu],rp)}}function Bl(Xl,Wu){for(var Yu in Xl)if(Yu.indexOf("defaults")===-1&&jt(Xl[Yu])){var ap=Sl(Xl,Yu,Wu);Jl[ap]?Bl(Xl[Yu],ap):Il.push({code:"unused",path:ap})}}if(jt(Cl)?(Kl($l,["layout"]),Bl(Cl,"layout")):Il.push({code:"layout"}),!jt(Al))Il.push({code:"data"});else{for(var $u={},mu,Pu=0;Pu<Bu.length;Pu++){var bu=Bu[Pu];mu=bu.type,$u[mu]=($u[mu]||0)+1,bu._fullInput._template||Il.push({code:"missing",index:bu.index,traceType:mu})}for(mu in Al){var Fu=Al[mu].length,Hu=$u[mu]||0;Fu>Hu?Il.push({code:"unused",traceType:mu,templateCount:Fu,dataCount:Hu}):Hu>Fu&&Il.push({code:"reused",traceType:mu,templateCount:Fu,dataCount:Hu})}}function Gu(Xl,Wu){for(var Yu in Xl)if(Yu.charAt(0)!=="_"){var ap=Xl[Yu],rp=Sl(Xl,Yu,Wu);jt(ap)?(Array.isArray(Xl)&&ap._template===!1&&ap.templateitemname&&Il.push({code:"missing",path:rp,templateitemname:ap.templateitemname}),Gu(ap,rp)):Array.isArray(ap)&&Pl(ap)&&Gu(ap,rp)}}if(Gu({data:Bu,layout:$l},""),Il.length)return Il.map(Tl)};function Pl(El){for(var Ml=0;Ml<El.length;Ml++)if(jt(El[Ml]))return!0}function Tl(El){var Ml;switch(El.code){case"data":Ml="The template has no key data.";break;case"layout":Ml="The template has no key layout.";break;case"missing":El.path?Ml="There are no templates for item "+El.path+" with name "+El.templateitemname:Ml="There are no templates for trace "+El.index+", of type "+El.traceType+".";break;case"unused":El.path?Ml="The template item at "+El.path+" was not used in constructing the plot.":El.dataCount?Ml="Some of the templates of type "+El.traceType+" were not used. The template has "+El.templateCount+" traces, the data only has "+El.dataCount+" of this type.":Ml="The template has "+El.templateCount+" traces of type "+El.traceType+" but there are none in the data.";break;case"reused":Ml="Some of the templates of type "+El.traceType+" were used more than once. The template has "+El.templateCount+" traces, the data has "+El.dataCount+" of this type.";break}return El.msg=Ml,El}}),SC=a(yu=>{var hu=Rx();yu._doPlot=hu._doPlot,yu.newPlot=hu.newPlot,yu.restyle=hu.restyle,yu.relayout=hu.relayout,yu.redraw=hu.redraw,yu.update=hu.update,yu._guiRestyle=hu._guiRestyle,yu._guiRelayout=hu._guiRelayout,yu._guiUpdate=hu._guiUpdate,yu._storeDirectGUIEdit=hu._storeDirectGUIEdit,yu.react=hu.react,yu.extendTraces=hu.extendTraces,yu.prependTraces=hu.prependTraces,yu.addTraces=hu.addTraces,yu.deleteTraces=hu.deleteTraces,yu.moveTraces=hu.moveTraces,yu.purge=hu.purge,yu.addFrames=hu.addFrames,yu.deleteFrames=hu.deleteFrames,yu.animate=hu.animate,yu.setPlotConfig=hu.setPlotConfig;var jt=F1().getGraphDiv,it=G0().eraseActiveShape;yu.deleteActiveShape=function(Ln){return it(jt(Ln))},yu.toImage=Fx(),yu.validate=bC(),yu.downloadImage=Px();var st=CC();yu.makeTemplate=st.makeTemplate,yu.validateTemplate=st.validateTemplate}),Dx=a((yu,hu)=>{var jt=gu(),it=N1();hu.exports=function(st,Ln,Ft,Fn){var zn=Fn("x"),yl=Fn("y"),ot,_l=it.getComponentMethod("calendars","handleTraceDefaults");if(_l(st,Ln,["x","y"],Ft),zn){var ls=jt.minRowLength(zn);yl?ot=Math.min(ls,jt.minRowLength(yl)):(ot=ls,Fn("y0"),Fn("dy"))}else{if(!yl)return 0;ot=jt.minRowLength(yl),Fn("x0"),Fn("dx")}return Ln._length=ot,ot}}),Lx=a((yu,hu)=>{var jt=gu().dateTick0,it=nt(),st=it.ONEWEEK;function Ln(Ft,Fn){return Ft%st===0?jt(Fn,1):jt(Fn,0)}hu.exports=function(Ft,Fn,zn,yl,ot){if(ot||(ot={x:!0,y:!0}),ot.x){var _l=yl("xperiod");_l&&(yl("xperiod0",Ln(_l,Fn.xcalendar)),yl("xperiodalignment"))}if(ot.y){var ls=yl("yperiod");ls&&(yl("yperiod0",Ln(ls,Fn.ycalendar)),yl("yperiodalignment"))}}}),_C=a((yu,hu)=>{var jt=["orientation","groupnorm","stackgaps"];hu.exports=function(it,st,Ln,Ft){var Fn=Ln._scatterStackOpts,zn=Ft("stackgroup");if(zn){var yl=st.xaxis+st.yaxis,ot=Fn[yl];ot||(ot=Fn[yl]={});var _l=ot[zn],ls=!1;_l?_l.traces.push(st):(_l=ot[zn]={traceIndices:[],traces:[st]},ls=!0);for(var Sl={orientation:st.x&&!st.y?"h":"v"},Pl=0;Pl<jt.length;Pl++){var Tl=jt[Pl],El=Tl+"Found";if(!_l[El]){var Ml=it[Tl]!==void 0,Rl=Tl==="orientation";if((Ml||ls)&&(_l[Tl]=Ft(Tl,Sl[Tl]),Rl&&(_l.fillDflt=_l[Tl]==="h"?"tonextx":"tonexty"),Ml&&(_l[El]=!0,!ls&&(delete _l.traces[0][Tl],Rl))))for(var Bn=0;Bn<_l.traces.length-1;Bn++){var Cl=_l.traces[Bn];Cl._input.fill!==Cl.fill&&(Cl.fill=_l.fillDflt)}}}return _l}}}),kC=a((yu,hu)=>{var jt=D0(),it=tv().hasColorscale,st=Ep(),Ln=Qp();hu.exports=function(Ft,Fn,zn,yl,ot,_l){var ls=Ln.isBubble(Ft),Sl=(Ft.line||{}).color,Pl;if(_l=_l||{},Sl&&(zn=Sl),ot("marker.symbol"),ot("marker.opacity",ls?.7:1),ot("marker.size"),_l.noAngle||(ot("marker.angle"),_l.noAngleRef||ot("marker.angleref"),_l.noStandOff||ot("marker.standoff")),ot("marker.color",zn),it(Ft,"marker")&&st(Ft,Fn,yl,ot,{prefix:"marker.",cLetter:"c"}),_l.noSelect||(ot("selected.marker.color"),ot("unselected.marker.color"),ot("selected.marker.size"),ot("unselected.marker.size")),_l.noLine||(Sl&&!Array.isArray(Sl)&&Fn.marker.color!==Sl?Pl=Sl:ls?Pl=jt.background:Pl=jt.defaultLine,ot("marker.line.color",Pl),it(Ft,"marker.line")&&st(Ft,Fn,yl,ot,{prefix:"marker.line.",cLetter:"c"}),ot("marker.line.width",ls?1:0)),ls&&(ot("marker.sizeref"),ot("marker.sizemin"),ot("marker.sizemode")),_l.gradient){var Tl=ot("marker.gradient.type");Tl!=="none"&&ot("marker.gradient.color")}}}),EC=a((yu,hu)=>{var jt=gu().isArrayOrTypedArray,it=tv().hasColorscale,st=Ep();hu.exports=function(Ln,Ft,Fn,zn,yl,ot){ot||(ot={});var _l=(Ln.marker||{}).color;if(_l&&_l._inputArray&&(_l=_l._inputArray),yl("line.color",Fn),it(Ln,"line"))st(Ln,Ft,zn,yl,{prefix:"line.",cLetter:"c"});else{var ls=(jt(_l)?!1:_l)||Fn;yl("line.color",ls)}yl("line.width"),ot.noDash||yl("line.dash"),ot.backoff&&yl("line.backoff")}}),MC=a((yu,hu)=>{hu.exports=function(jt,it,st){var Ln=st("line.shape");Ln==="spline"&&st("line.smoothing")}}),AC=a((yu,hu)=>{var jt=gu();hu.exports=function(it,st,Ln,Ft,Fn){Fn=Fn||{},Ft("textposition"),jt.coerceFont(Ft,"textfont",Fn.font||Ln.font,Fn),Fn.noSelect||(Ft("selected.textfont.color"),Ft("unselected.textfont.color"))}}),TC=a((yu,hu)=>{var jt=D0(),it=gu().isArrayOrTypedArray;function st(Ln){for(var Ft=jt.interpolate(Ln[0][1],Ln[1][1],.5),Fn=2;Fn<Ln.length;Fn++){var zn=jt.interpolate(Ln[Fn-1][1],Ln[Fn][1],.5);Ft=jt.interpolate(Ft,zn,Ln[Fn-1][0]/Ln[Fn][0])}return Ft}hu.exports=function(Ln,Ft,Fn,zn,yl){yl||(yl={});var ot=!1;if(Ft.marker){var _l=Ft.marker.color,ls=(Ft.marker.line||{}).color;_l&&!it(_l)?ot=_l:ls&&!it(ls)&&(ot=ls)}var Sl;if(yl.moduleHasFillgradient){var Pl=zn("fillgradient.type");if(Pl!=="none"){zn("fillgradient.start"),zn("fillgradient.stop");var Tl=zn("fillgradient.colorscale");Tl&&(Sl=st(Tl))}}zn("fillcolor",jt.addOpacity((Ft.line||{}).color||ot||Sl||Fn,.5))}}),RC=a((yu,hu)=>{var jt=gu(),it=N1(),st=h3(),Ln=J2(),Ft=Qp(),Fn=Dx(),zn=Lx(),yl=_C(),ot=kC(),_l=EC(),ls=MC(),Sl=AC(),Pl=TC(),Tl=gu().coercePattern;hu.exports=function(El,Ml,Rl,Bn){function Cl($u,mu){return jt.coerce(El,Ml,st,$u,mu)}var Al=Fn(El,Ml,Bn,Cl);if(Al||(Ml.visible=!1),!!Ml.visible){zn(El,Ml,Bn,Cl),Cl("xhoverformat"),Cl("yhoverformat"),Cl("zorder");var Il=yl(El,Ml,Bn,Cl);Bn.scattermode==="group"&&Ml.orientation===void 0&&Cl("orientation","v");var $l=!Il&&Al<Ln.PTS_LINESONLY?"lines+markers":"lines";Cl("text"),Cl("hovertext"),Cl("mode",$l),Ft.hasMarkers(Ml)&&ot(El,Ml,Rl,Bn,Cl,{gradient:!0}),Ft.hasLines(Ml)&&(_l(El,Ml,Rl,Bn,Cl,{backoff:!0}),ls(El,Ml,Cl),Cl("connectgaps"),Cl("line.simplify")),Ft.hasText(Ml)&&(Cl("texttemplate"),Sl(El,Ml,Bn,Cl));var Bu=[];(Ft.hasMarkers(Ml)||Ft.hasText(Ml))&&(Cl("cliponaxis"),Cl("marker.maxdisplayed"),Bu.push("points")),Cl("fill",Il?Il.fillDflt:"none"),Ml.fill!=="none"&&(Pl(El,Ml,Rl,Cl,{moduleHasFillgradient:!0}),Ft.hasLines(Ml)||ls(El,Ml,Cl),Tl(Cl,"fillpattern",Ml.fillcolor,!1));var Jl=(Ml.line||{}).color,Kl=(Ml.marker||{}).color;(Ml.fill==="tonext"||Ml.fill==="toself")&&Bu.push("fills"),Cl("hoveron",Bu.join("+")||"points"),Ml.hoveron!=="fills"&&Cl("hovertemplate");var Bl=it.getComponentMethod("errorbars","supplyDefaults");Bl(El,Ml,Jl||Kl||Rl,{axis:"y"}),Bl(El,Ml,Jl||Kl||Rl,{axis:"x",inherit:"y"}),jt.coerceSelectionMarkerOpacity(Ml,Cl)}}}),Ix=a((yu,hu)=>{var jt=Q1().getAxisGroup;hu.exports=function(it,st,Ln,Ft,Fn){var zn=st.orientation,yl=st[{v:"x",h:"y"}[zn]+"axis"],ot=jt(Ln,yl)+zn,_l=Ln._alignmentOpts||{},ls=Ft("alignmentgroup"),Sl=_l[ot];Sl||(Sl=_l[ot]={});var Pl=Sl[ls];Pl?Pl.traces.push(st):Pl=Sl[ls]={traces:[st],alignmentIndex:Object.keys(Sl).length,offsetGroups:{}};var Tl=Ft("offsetgroup")||"",El=Pl.offsetGroups,Ml=El[Tl];st._offsetIndex=0,(Fn!=="group"||Tl)&&(Ml||(Ml=El[Tl]={offsetIndex:Object.keys(El).length}),st._offsetIndex=Ml.offsetIndex)}}),FC=a((yu,hu)=>{var jt=gu(),it=Ix(),st=h3();hu.exports=function(Ln,Ft){var Fn,zn,yl,ot=Ft.scattermode;function _l(El){return jt.coerce(zn._input,zn,st,El)}if(Ft.scattermode==="group")for(yl=0;yl<Ln.length;yl++)zn=Ln[yl],zn.type==="scatter"&&(Fn=zn._input,it(Fn,zn,Ft,_l,ot));for(yl=0;yl<Ln.length;yl++){var ls=Ln[yl];if(ls.type==="scatter"){var Sl=ls.fill;if(!(Sl==="none"||Sl==="toself")&&(ls.opacity=void 0,Sl==="tonexty"||Sl==="tonextx"))for(var Pl=yl-1;Pl>=0;Pl--){var Tl=Ln[Pl];if(Tl.type==="scatter"&&Tl.xaxis===ls.xaxis&&Tl.yaxis===ls.yaxis){Tl.opacity=void 0;break}}}}}}),PC=a((yu,hu)=>{var jt=gu(),it=Xv();hu.exports=function(st,Ln){function Ft(zn,yl){return jt.coerce(st,Ln,it,zn,yl)}var Fn=Ln.barmode==="group";Ln.scattermode==="group"&&Ft("scattergap",Fn?Ln.bargap:.2)}}),Ox=a((yu,hu)=>{var jt=rt(),it=gu(),st=it.dateTime2ms,Ln=it.incrementMonth,Ft=nt(),Fn=Ft.ONEAVGMONTH;hu.exports=function(zn,yl,ot,_l){if(yl.type!=="date")return{vals:_l};var ls=zn[ot+"periodalignment"];if(!ls)return{vals:_l};var Sl=zn[ot+"period"],Pl;if(jt(Sl)){if(Sl=+Sl,Sl<=0)return{vals:_l}}else if(typeof Sl=="string"&&Sl.charAt(0)==="M"){var Tl=+Sl.substring(1);if(Tl>0&&Math.round(Tl)===Tl)Pl=Tl;else return{vals:_l}}for(var El=yl.calendar,Ml=ls==="start",Rl=ls==="end",Bn=zn[ot+"period0"],Cl=st(Bn,El)||0,Al=[],Il=[],$l=[],Bu=_l.length,Jl=0;Jl<Bu;Jl++){var Kl=_l[Jl],Bl,$u,mu;if(Pl){for(Bl=Math.round((Kl-Cl)/(Pl*Fn)),mu=Ln(Cl,Pl*Bl,El);mu>Kl;)mu=Ln(mu,-Pl,El);for(;mu<=Kl;)mu=Ln(mu,Pl,El);$u=Ln(mu,-Pl,El)}else{for(Bl=Math.round((Kl-Cl)/Sl),mu=Cl+Bl*Sl;mu>Kl;)mu-=Sl;for(;mu<=Kl;)mu+=Sl;$u=mu-Sl}Al[Jl]=Ml?$u:Rl?mu:($u+mu)/2,Il[Jl]=$u,$l[Jl]=mu}return{vals:Al,starts:Il,ends:$l}}}),DC=a((yu,hu)=>{var jt=tv().hasColorscale,it=Mp(),st=Qp();hu.exports=function(Ln,Ft){st.hasLines(Ft)&&jt(Ft,"line")&&it(Ln,Ft,{vals:Ft.line.color,containerStr:"line",cLetter:"c"}),st.hasMarkers(Ft)&&(jt(Ft,"marker")&&it(Ln,Ft,{vals:Ft.marker.color,containerStr:"marker",cLetter:"c"}),jt(Ft,"marker.line")&&it(Ln,Ft,{vals:Ft.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}),zx=a((yu,hu)=>{var jt=gu();hu.exports=function(it,st){for(var Ln=0;Ln<it.length;Ln++)it[Ln].i=Ln;jt.mergeArray(st.text,it,"tx"),jt.mergeArray(st.texttemplate,it,"txt"),jt.mergeArray(st.hovertext,it,"htx"),jt.mergeArray(st.customdata,it,"data"),jt.mergeArray(st.textposition,it,"tp"),st.textfont&&(jt.mergeArrayCastPositive(st.textfont.size,it,"ts"),jt.mergeArray(st.textfont.color,it,"tc"),jt.mergeArray(st.textfont.family,it,"tf"),jt.mergeArray(st.textfont.weight,it,"tw"),jt.mergeArray(st.textfont.style,it,"ty"),jt.mergeArray(st.textfont.variant,it,"tv"),jt.mergeArray(st.textfont.textcase,it,"tC"),jt.mergeArray(st.textfont.lineposition,it,"tE"),jt.mergeArray(st.textfont.shadow,it,"tS"));var Ft=st.marker;if(Ft){jt.mergeArrayCastPositive(Ft.size,it,"ms"),jt.mergeArrayCastPositive(Ft.opacity,it,"mo"),jt.mergeArray(Ft.symbol,it,"mx"),jt.mergeArray(Ft.angle,it,"ma"),jt.mergeArray(Ft.standoff,it,"mf"),jt.mergeArray(Ft.color,it,"mc");var Fn=Ft.line;Ft.line&&(jt.mergeArray(Fn.color,it,"mlc"),jt.mergeArrayCastPositive(Fn.width,it,"mlw"));var zn=Ft.gradient;zn&&zn.type!=="none"&&(jt.mergeArray(zn.type,it,"mgt"),jt.mergeArray(zn.color,it,"mgc"))}}}),Nx=a((yu,hu)=>{var jt=gu();hu.exports=function(it,st){jt.isArrayOrTypedArray(st.selectedpoints)&&jt.tagSelected(it,st)}}),Bx=a((yu,hu)=>{var jt=rt(),it=gu(),st=bm(),Ln=Ox(),Ft=nt().BADNUM,Fn=Qp(),zn=DC(),yl=zx(),ot=Nx();function _l(Ml,Rl){var Bn=Ml._fullLayout,Cl=Rl._xA=st.getFromId(Ml,Rl.xaxis||"x","x"),Al=Rl._yA=st.getFromId(Ml,Rl.yaxis||"y","y"),Il=Cl.makeCalcdata(Rl,"x"),$l=Al.makeCalcdata(Rl,"y"),Bu=Ln(Rl,Cl,"x",Il),Jl=Ln(Rl,Al,"y",$l),Kl=Bu.vals,Bl=Jl.vals,$u=Rl._length,mu=new Array($u),Pu=Rl.ids,bu=El(Rl,Bn,Cl,Al),Fu=!1,Hu,Gu,Xl,Wu,Yu,ap;Pl(Bn,Rl);var rp="x",sp="y",bp;if(bu)it.pushUnique(bu.traceIndices,Rl.index),Hu=bu.orientation==="v",Hu?(sp="s",bp="x"):(rp="s",bp="y"),Yu=bu.stackgaps==="interpolate";else{var Cp=Sl(Rl,$u);ls(Ml,Rl,Cl,Al,Kl,Bl,Cp)}var Ap=!!Rl.xperiodalignment,Lu=!!Rl.yperiodalignment;for(Gu=0;Gu<$u;Gu++){var Nu=mu[Gu]={},Hl=jt(Kl[Gu]),qu=jt(Bl[Gu]);Hl&&qu?(Nu[rp]=Kl[Gu],Nu[sp]=Bl[Gu],Ap&&(Nu.orig_x=Il[Gu],Nu.xEnd=Bu.ends[Gu],Nu.xStart=Bu.starts[Gu]),Lu&&(Nu.orig_y=$l[Gu],Nu.yEnd=Jl.ends[Gu],Nu.yStart=Jl.starts[Gu])):bu&&(Hu?Hl:qu)?(Nu[bp]=Hu?Kl[Gu]:Bl[Gu],Nu.gap=!0,Yu?(Nu.s=Ft,Fu=!0):Nu.s=0):Nu[rp]=Nu[sp]=Ft,Pu&&(Nu.id=String(Pu[Gu]))}if(yl(mu,Rl),zn(Ml,Rl),ot(mu,Rl),bu){for(Gu=0;Gu<mu.length;)mu[Gu][bp]===Ft?mu.splice(Gu,1):Gu++;if(it.sort(mu,function(Wl,Mu){return Wl[bp]-Mu[bp]||Wl.i-Mu.i}),Fu){for(Gu=0;Gu<mu.length-1&&mu[Gu].gap;)Gu++;for(ap=mu[Gu].s,ap||(ap=mu[Gu].s=0),Xl=0;Xl<Gu;Xl++)mu[Xl].s=ap;for(Wu=mu.length-1;Wu>Gu&&mu[Wu].gap;)Wu--;for(ap=mu[Wu].s,Xl=mu.length-1;Xl>Wu;Xl--)mu[Xl].s=ap;for(;Gu<Wu;)if(Gu++,mu[Gu].gap){for(Xl=Gu+1;mu[Xl].gap;)Xl++;for(var np=mu[Gu-1][bp],vu=mu[Gu-1].s,Ol=(mu[Xl].s-vu)/(mu[Xl][bp]-np);Gu<Xl;)mu[Gu].s=vu+(mu[Gu][bp]-np)*Ol,Gu++}}}return mu}function ls(Ml,Rl,Bn,Cl,Al,Il,$l){var Bu=Rl._length,Jl=Ml._fullLayout,Kl=Bn._id,Bl=Cl._id,$u=Jl._firstScatter[Tl(Rl)]===Rl.uid,mu=(El(Rl,Jl,Bn,Cl)||{}).orientation,Pu=Rl.fill;Bn._minDtick=0,Cl._minDtick=0;var bu={padded:!0},Fu={padded:!0};$l&&(bu.ppad=Fu.ppad=$l);var Hu=Bu<2||Al[0]!==Al[Bu-1]||Il[0]!==Il[Bu-1];Hu&&(Pu==="tozerox"||Pu==="tonextx"&&($u||mu==="h"))?bu.tozero=!0:!(Rl.error_y||{}).visible&&(Pu==="tonexty"||Pu==="tozeroy"||!Fn.hasMarkers(Rl)&&!Fn.hasText(Rl))&&(bu.padded=!1,bu.ppad=0),Hu&&(Pu==="tozeroy"||Pu==="tonexty"&&($u||mu==="v"))?Fu.tozero=!0:(Pu==="tonextx"||Pu==="tozerox")&&(Fu.padded=!1),Kl&&(Rl._extremes[Kl]=st.findExtremes(Bn,Al,bu)),Bl&&(Rl._extremes[Bl]=st.findExtremes(Cl,Il,Fu))}function Sl(Ml,Rl){if(Fn.hasMarkers(Ml)){var Bn=Ml.marker,Cl=1.6*(Ml.marker.sizeref||1),Al;if(Ml.marker.sizemode==="area"?Al=function(Kl){return Math.max(Math.sqrt((Kl||0)/Cl),3)}:Al=function(Kl){return Math.max((Kl||0)/Cl,3)},it.isArrayOrTypedArray(Bn.size)){var Il={type:"linear"};st.setConvert(Il);for(var $l=Il.makeCalcdata(Ml.marker,"size"),Bu=new Array(Rl),Jl=0;Jl<Rl;Jl++)Bu[Jl]=Al($l[Jl]);return Bu}else return Al(Bn.size)}}function Pl(Ml,Rl){var Bn=Tl(Rl),Cl=Ml._firstScatter;Cl[Bn]||(Cl[Bn]=Rl.uid)}function Tl(Ml){var Rl=Ml.stackgroup;return Ml.xaxis+Ml.yaxis+Ml.type+(Rl?"-"+Rl:"")}function El(Ml,Rl,Bn,Cl){var Al=Ml.stackgroup;if(Al){var Il=Rl._scatterStackOpts[Bn._id+Cl._id][Al],$l=Il.orientation==="v"?Cl:Bn;if($l.type==="linear"||$l.type==="log")return Il}}hu.exports={calc:_l,calcMarkerSize:Sl,calcAxisExpansion:ls,setFirstScatter:Pl,getStackOpts:El}}),LC=a((yu,hu)=>{hu.exports=it;var jt=gu().distinctVals;function it(st,Ln){this.traces=st,this.sepNegVal=Ln.sepNegVal,this.overlapNoMerge=Ln.overlapNoMerge;for(var Ft=1/0,Fn=Ln.posAxis._id.charAt(0),zn=[],yl=0;yl<st.length;yl++){for(var ot=st[yl],_l=0;_l<ot.length;_l++){var ls=ot[_l],Sl=ls.p;Sl===void 0&&(Sl=ls[Fn]),Sl!==void 0&&zn.push(Sl)}ot[0]&&ot[0].width1&&(Ft=Math.min(ot[0].width1,Ft))}this.positions=zn;var Pl=jt(zn);this.distinctPositions=Pl.vals,Pl.vals.length===1&&Ft!==1/0?this.minDiff=Ft:this.minDiff=Math.min(Pl.minDiff,Ft);var Tl=(Ln.posAxis||{}).type;(Tl==="category"||Tl==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}it.prototype.put=function(st,Ln,Ft){var Fn=this.getLabel(st,Ln,Ft),zn=this.bins[Fn]||0;return this.bins[Fn]=zn+Ft,zn},it.prototype.get=function(st,Ln,Ft){var Fn=this.getLabel(st,Ln,Ft);return this.bins[Fn]||0},it.prototype.getLabel=function(st,Ln,Ft){var Fn=Ft<0&&this.sepNegVal?"v":"^",zn=this.overlapNoMerge?st:Math.round(st/this.binWidth);return Fn+zn+"g"+Ln}}),$x=a((yu,hu)=>{var jt=rt(),it=gu().isArrayOrTypedArray,st=nt().BADNUM,Ln=N1(),Ft=bm(),Fn=Q1().getAxisGroup,zn=LC();function yl(mu,Pu){for(var bu=Pu.xaxis,Fu=Pu.yaxis,Hu=mu._fullLayout,Gu=mu._fullData,Xl=mu.calcdata,Wu=[],Yu=[],ap=0;ap<Gu.length;ap++){var rp=Gu[ap];if(rp.visible===!0&&Ln.traceIs(rp,"bar")&&rp.xaxis===bu._id&&rp.yaxis===Fu._id&&(rp.orientation==="h"?Wu.push(Xl[ap]):Yu.push(Xl[ap]),rp._computePh))for(var sp=mu.calcdata[ap],bp=0;bp<sp.length;bp++)typeof sp[bp].ph0=="function"&&(sp[bp].ph0=sp[bp].ph0()),typeof sp[bp].ph1=="function"&&(sp[bp].ph1=sp[bp].ph1())}var Cp={xCat:bu.type==="category"||bu.type==="multicategory",yCat:Fu.type==="category"||Fu.type==="multicategory",mode:Hu.barmode,norm:Hu.barnorm,gap:Hu.bargap,groupgap:Hu.bargroupgap};ot(mu,bu,Fu,Yu,Cp),ot(mu,Fu,bu,Wu,Cp)}function ot(mu,Pu,bu,Fu,Hu){if(Fu.length){var Gu,Xl,Wu,Yu,ap;switch(Sl(bu,Fu),Hu.mode){case"overlay":Pl(mu,Pu,bu,Fu,Hu);break;case"group":for(Gu=[],Xl=[],Wu=0;Wu<Fu.length;Wu++)Yu=Fu[Wu],ap=Yu[0].trace,ap.offset===void 0?Xl.push(Yu):Gu.push(Yu);Xl.length&&Tl(mu,Pu,bu,Xl,Hu),Gu.length&&Pl(mu,Pu,bu,Gu,Hu);break;case"stack":case"relative":for(Gu=[],Xl=[],Wu=0;Wu<Fu.length;Wu++)Yu=Fu[Wu],ap=Yu[0].trace,ap.base===void 0?Xl.push(Yu):Gu.push(Yu);ls(Xl),Xl.length&&El(mu,Pu,bu,Xl,Hu),Gu.length&&Pl(mu,Pu,bu,Gu,Hu);break}_l(Fu),Bl(Fu,Pu)}}function _l(mu){var Pu,bu,Fu,Hu,Gu,Xl,Wu;for(Pu=0;Pu<mu.length;Pu++)bu=mu[Pu],Fu=bu[0].trace,Hu=bu[0].t,Hu.cornerradiusvalue===void 0&&(Gu=Fu.marker?Fu.marker.cornerradius:void 0,Gu!==void 0&&(Xl=jt(Gu)?+Gu:+Gu.slice(0,-1),Wu=jt(Gu)?"px":"%",Hu.cornerradiusvalue=Xl,Hu.cornerradiusform=Wu))}function ls(mu){if(!(mu.length<2)){var Pu,bu,Fu,Hu,Gu,Xl,Wu;for(Pu=0;Pu<mu.length&&(bu=mu[Pu],Fu=bu[0].trace,Gu=Fu.marker?Fu.marker.cornerradius:void 0,Gu===void 0);Pu++);if(Gu!==void 0)for(Xl=jt(Gu)?+Gu:+Gu.slice(0,-1),Wu=jt(Gu)?"px":"%",Pu=0;Pu<mu.length;Pu++)bu=mu[Pu],Hu=bu[0].t,Hu.cornerradiusvalue=Xl,Hu.cornerradiusform=Wu}}function Sl(mu,Pu){var bu,Fu;for(bu=0;bu<Pu.length;bu++){var Hu=Pu[bu],Gu=Hu[0].trace,Xl=Gu.type==="funnel"?Gu._base:Gu.base,Wu,Yu=Gu.orientation==="h"?Gu.xcalendar:Gu.ycalendar,ap=mu.type==="category"||mu.type==="multicategory"?function(){return null}:mu.d2c;if(it(Xl)){for(Fu=0;Fu<Math.min(Xl.length,Hu.length);Fu++)Wu=ap(Xl[Fu],0,Yu),jt(Wu)?(Hu[Fu].b=+Wu,Hu[Fu].hasB=1):Hu[Fu].b=0;for(;Fu<Hu.length;Fu++)Hu[Fu].b=0}else{Wu=ap(Xl,0,Yu);var rp=jt(Wu);for(Wu=rp?Wu:0,Fu=0;Fu<Hu.length;Fu++)Hu[Fu].b=Wu,rp&&(Hu[Fu].hasB=1)}}}function Pl(mu,Pu,bu,Fu,Hu){for(var Gu=0;Gu<Fu.length;Gu++){var Xl=Fu[Gu],Wu=new zn([Xl],{posAxis:Pu,sepNegVal:!1,overlapNoMerge:!Hu.norm});Ml(mu,Pu,Wu,Hu),Hu.norm?($l(Wu),Jl(bu,Wu,Hu)):Al(bu,Wu)}}function Tl(mu,Pu,bu,Fu,Hu){var Gu=new zn(Fu,{posAxis:Pu,sepNegVal:!1,overlapNoMerge:!Hu.norm});Ml(mu,Pu,Gu,Hu),Bu(Gu,Pu),Hu.norm?($l(Gu),Jl(bu,Gu,Hu)):Al(bu,Gu)}function El(mu,Pu,bu,Fu,Hu){var Gu=new zn(Fu,{posAxis:Pu,sepNegVal:Hu.mode==="relative",overlapNoMerge:!(Hu.norm||Hu.mode==="stack"||Hu.mode==="relative")});Ml(mu,Pu,Gu,Hu),Il(bu,Gu,Hu);for(var Xl=0;Xl<Fu.length;Xl++)for(var Wu=Fu[Xl],Yu=Wu[0].t.offsetindex,ap=0;ap<Wu.length;ap++){var rp=Wu[ap];if(rp.s!==st){var sp=rp.b+rp.s===Gu.get(rp.p,Yu,rp.s);sp&&(rp._outmost=!0)}}Hu.norm&&Jl(bu,Gu,Hu)}function Ml(mu,Pu,bu,Fu){var Hu=mu._fullLayout,Gu=bu.positions,Xl=bu.distinctPositions,Wu=bu.minDiff,Yu=bu.traces,ap=Yu.length,rp=Gu.length!==Xl.length,sp=Wu*(1-Fu.gap),bp,Cp,Ap,Lu;if(Pu._id==="angularaxis")bp=sp,Cp=bp*(1-(Fu.groupgap||0)),Ap=-Cp/2;else{var Nu=Fn(Hu,Pu._id)+Yu[0][0].trace.orientation;Lu=Hu._alignmentOpts[Nu]||{}}for(var Hl=0;Hl<ap;Hl++){var qu=Yu[Hl],np=qu[0].trace;if(Pu._id!=="angularaxis"){var vu=Lu[np.alignmentgroup]||{},Ol=Object.keys(vu.offsetGroups||{}).length;Ol?bp=sp/Ol:bp=rp?sp/ap:sp,Cp=bp*(1-(Fu.groupgap||0)),Ol?Ap=((2*np._offsetIndex+1-Ol)*bp-Cp)/2:Ap=rp?((2*Hl+1-ap)*bp-Cp)/2:-Cp/2}var Wl=qu[0].t;Wl.barwidth=Cp,Wl.offsetindex=np._offsetIndex||0,Wl.poffset=Ap,Wl.bargroupwidth=sp,Wl.bardelta=Wu}bu.binWidth=Yu[0][0].t.barwidth/100,Rl(bu),Bn(Pu,bu),Pu._id==="angularaxis"?Cl(Pu,bu):Cl(Pu,bu,rp)}function Rl(mu){var Pu=mu.traces,bu,Fu;for(bu=0;bu<Pu.length;bu++){var Hu=Pu[bu],Gu=Hu[0],Xl=Gu.trace,Wu=Gu.t,Yu=Xl._offset||Xl.offset,ap=Wu.poffset,rp;if(it(Yu)){for(rp=Array.prototype.slice.call(Yu,0,Hu.length),Fu=0;Fu<rp.length;Fu++)jt(rp[Fu])||(rp[Fu]=ap);for(Fu=rp.length;Fu<Hu.length;Fu++)rp.push(ap);Wu.poffset=rp}else Yu!==void 0&&(Wu.poffset=Yu);var sp=Xl._width||Xl.width,bp=Wu.barwidth;if(it(sp)){var Cp=Array.prototype.slice.call(sp,0,Hu.length);for(Fu=0;Fu<Cp.length;Fu++)jt(Cp[Fu])||(Cp[Fu]=bp);for(Fu=Cp.length;Fu<Hu.length;Fu++)Cp.push(bp);if(Wu.barwidth=Cp,Yu===void 0){for(rp=[],Fu=0;Fu<Hu.length;Fu++)rp.push(ap+(bp-Cp[Fu])/2);Wu.poffset=rp}}else sp!==void 0&&(Wu.barwidth=sp,Yu===void 0&&(Wu.poffset=ap+(bp-sp)/2))}}function Bn(mu,Pu){for(var bu=Pu.traces,Fu=$u(mu),Hu=0;Hu<bu.length;Hu++)for(var Gu=bu[Hu],Xl=Gu[0].t,Wu=Xl.poffset,Yu=it(Wu),ap=Xl.barwidth,rp=it(ap),sp=0;sp<Gu.length;sp++){var bp=Gu[sp],Cp=bp.w=rp?ap[sp]:ap;bp.p===void 0&&(bp.p=bp[Fu],bp["orig_"+Fu]=bp[Fu]);var Ap=(Yu?Wu[sp]:Wu)+Cp/2;bp[Fu]=bp.p+Ap}}function Cl(mu,Pu,bu){var Fu=Pu.traces,Hu=Pu.minDiff,Gu=Hu/2;Ft.minDtick(mu,Pu.minDiff,Pu.distinctPositions[0],bu);for(var Xl=0;Xl<Fu.length;Xl++){var Wu=Fu[Xl],Yu=Wu[0],ap=Yu.trace,rp=[],sp,bp,Cp,Ap;for(Ap=0;Ap<Wu.length;Ap++)sp=Wu[Ap],bp=sp.p-Gu,Cp=sp.p+Gu,rp.push(bp,Cp);if(ap.width||ap.offset){var Lu=Yu.t,Nu=Lu.poffset,Hl=Lu.barwidth,qu=it(Nu),np=it(Hl);for(Ap=0;Ap<Wu.length;Ap++){sp=Wu[Ap];var vu=qu?Nu[Ap]:Nu,Ol=np?Hl[Ap]:Hl;bp=sp.p+vu,Cp=bp+Ol,rp.push(bp,Cp)}}ap._extremes[mu._id]=Ft.findExtremes(mu,rp,{padded:!1})}}function Al(mu,Pu){for(var bu=Pu.traces,Fu=$u(mu),Hu=0;Hu<bu.length;Hu++){for(var Gu=bu[Hu],Xl=Gu[0].trace,Wu=Xl.type==="scatter",Yu=Xl.orientation==="v",ap=[],rp=!1,sp=0;sp<Gu.length;sp++){var bp=Gu[sp],Cp=Wu?0:bp.b,Ap=Wu?Yu?bp.y:bp.x:Cp+bp.s;bp[Fu]=Ap,ap.push(Ap),bp.hasB&&ap.push(Cp),(!bp.hasB||!bp.b)&&(rp=!0)}Xl._extremes[mu._id]=Ft.findExtremes(mu,ap,{tozero:rp,padded:!0})}}function Il(mu,Pu,bu){var Fu=$u(mu),Hu=Pu.traces,Gu,Xl,Wu,Yu,ap,rp,sp;for(Yu=0;Yu<Hu.length;Yu++)if(Gu=Hu[Yu],Xl=Gu[0].trace,Xl.type==="funnel")for(sp=Gu[0].t.offsetindex,ap=0;ap<Gu.length;ap++)rp=Gu[ap],rp.s!==st&&Pu.put(rp.p,sp,-.5*rp.s);for(Yu=0;Yu<Hu.length;Yu++){Gu=Hu[Yu],Xl=Gu[0].trace,Wu=Xl.type==="funnel",sp=Xl.type==="barpolar"?0:Gu[0].t.offsetindex;var bp=[];for(ap=0;ap<Gu.length;ap++)if(rp=Gu[ap],rp.s!==st){var Cp;Wu?Cp=rp.s:Cp=rp.s+rp.b;var Ap=Pu.put(rp.p,sp,Cp),Lu=Ap+Cp;rp.b=Ap,rp[Fu]=Lu,bu.norm||(bp.push(Lu),rp.hasB&&bp.push(Ap))}bu.norm||(Xl._extremes[mu._id]=Ft.findExtremes(mu,bp,{tozero:!0,padded:!0}))}}function $l(mu){for(var Pu=mu.traces,bu=0;bu<Pu.length;bu++)for(var Fu=Pu[bu],Hu=Fu[0].t.offsetindex,Gu=0;Gu<Fu.length;Gu++){var Xl=Fu[Gu];Xl.s!==st&&mu.put(Xl.p,Hu,Xl.b+Xl.s)}}function Bu(mu,Pu){for(var bu=mu.traces,Fu=0;Fu<bu.length;Fu++){var Hu=bu[Fu],Gu=Hu[0].trace,Xl=Hu[0].t.offsetindex;if(Gu.base===void 0)for(var Wu=new zn([Hu],{posAxis:Pu,sepNegVal:!0,overlapNoMerge:!0}),Yu=0;Yu<Hu.length;Yu++){var ap=Hu[Yu];if(ap.p!==st){var rp=Wu.put(ap.p,Xl,ap.b+ap.s);rp&&(ap.b=rp)}}}}function Jl(mu,Pu,bu){var Fu=Pu.traces,Hu=$u(mu),Gu=bu.norm==="fraction"?1:100,Xl=Gu/1e9,Wu=mu.l2c(mu.c2l(0)),Yu=bu.mode==="stack"?Gu:Wu;function ap(Wl){return jt(mu.c2l(Wl))&&(Wl<Wu-Xl||Wl>Yu+Xl||!jt(Wu))}for(var rp=0;rp<Fu.length;rp++){for(var sp=Fu[rp],bp=sp[0].t.offsetindex,Cp=sp[0].trace,Ap=[],Lu=!1,Nu=!1,Hl=0;Hl<sp.length;Hl++){var qu=sp[Hl];if(qu.s!==st){var np=Math.abs(Gu/Pu.get(qu.p,bp,qu.s));qu.b*=np,qu.s*=np;var vu=qu.b,Ol=vu+qu.s;qu[Hu]=Ol,Ap.push(Ol),Nu=Nu||ap(Ol),qu.hasB&&(Ap.push(vu),Nu=Nu||ap(vu)),(!qu.hasB||!qu.b)&&(Lu=!0)}}Cp._extremes[mu._id]=Ft.findExtremes(mu,Ap,{tozero:Lu,padded:Nu})}}function Kl(mu,Pu,bu,Fu){for(var Hu=$u(Fu),Gu=0;Gu<mu.length;Gu++)for(var Xl=mu[Gu],Wu=0;Wu<Xl.length;Wu++){var Yu=Xl[Wu],ap=Yu[Hu];Yu._sMin=Pu[ap],Yu._sMax=bu[ap]}}function Bl(mu,Pu){var bu=$u(Pu),Fu={},Hu,Gu,Xl,Wu=1/0,Yu=-1/0;for(Hu=0;Hu<mu.length;Hu++)for(Xl=mu[Hu],Gu=0;Gu<Xl.length;Gu++){var ap=Xl[Gu].p;jt(ap)&&(Wu=Math.min(Wu,ap),Yu=Math.max(Yu,ap))}var rp=1e4/(Yu-Wu),sp=Fu.round=function(zu){return String(Math.round(rp*(zu-Wu)))},bp={},Cp={},Ap=mu.some(function(zu){var ip=zu[0].trace;return"marker"in ip&&ip.marker.cornerradius});for(Hu=0;Hu<mu.length;Hu++){Xl=mu[Hu],Xl[0].t.extents=Fu;var Lu=Xl[0].t.poffset,Nu=it(Lu);for(Gu=0;Gu<Xl.length;Gu++){var Hl=Xl[Gu],qu=Hl[bu]-Hl.w/2;if(jt(qu)){var np=Hl[bu]+Hl.w/2,vu=sp(Hl.p);Fu[vu]?Fu[vu]=[Math.min(qu,Fu[vu][0]),Math.max(np,Fu[vu][1])]:Fu[vu]=[qu,np]}if(Hl.p0=Hl.p+(Nu?Lu[Gu]:Lu),Hl.p1=Hl.p0+Hl.w,Hl.s0=Hl.b,Hl.s1=Hl.s0+Hl.s,Ap){var Ol=Math.min(Hl.s0,Hl.s1)||0,Wl=Math.max(Hl.s0,Hl.s1)||0,Mu=Hl[bu];bp[Mu]=Mu in bp?Math.min(bp[Mu],Ol):Ol,Cp[Mu]=Mu in Cp?Math.max(Cp[Mu],Wl):Wl}}}Ap&&Kl(mu,bp,Cp,Pu)}function $u(mu){return mu._id.charAt(0)}hu.exports={crossTraceCalc:yl,setGroupPositions:ot}}),IC=a((yu,hu)=>{var jt=Bx(),it=$x().setGroupPositions;function st(Fn,zn){for(var yl=zn.xaxis,ot=zn.yaxis,_l=Fn._fullLayout,ls=Fn._fullData,Sl=Fn.calcdata,Pl=[],Tl=[],El=0;El<ls.length;El++){var Ml=ls[El];Ml.visible===!0&&Ml.type==="scatter"&&Ml.xaxis===yl._id&&Ml.yaxis===ot._id&&(Ml.orientation==="h"?Pl.push(Sl[El]):Ml.orientation==="v"&&Tl.push(Sl[El]))}var Rl={mode:_l.scattermode,gap:_l.scattergap};it(Fn,yl,ot,Tl,Rl),it(Fn,ot,yl,Pl,Rl)}hu.exports=function(Fn,zn){Fn._fullLayout.scattermode==="group"&&st(Fn,zn);var yl=zn.xaxis,ot=zn.yaxis,_l=yl._id+ot._id,ls=Fn._fullLayout._scatterStackOpts[_l];if(ls){var Sl=Fn.calcdata,Pl,Tl,El,Ml,Rl,Bn,Cl,Al,Il,$l,Bu,Jl,Kl,Bl,$u;for(var mu in ls){$l=ls[mu];var Pu=$l.traceIndices;if(Pu.length){for(Bu=$l.stackgaps==="interpolate",Jl=$l.groupnorm,$l.orientation==="v"?(Kl="x",Bl="y"):(Kl="y",Bl="x"),$u=new Array(Pu.length),Pl=0;Pl<$u.length;Pl++)$u[Pl]=!1;Bn=Sl[Pu[0]];var bu=new Array(Bn.length);for(Pl=0;Pl<Bn.length;Pl++)bu[Pl]=Bn[Pl][Kl];for(Pl=1;Pl<Pu.length;Pl++){for(Rl=Sl[Pu[Pl]],Tl=El=0;Tl<Rl.length;Tl++){for(Cl=Rl[Tl][Kl];Cl>bu[El]&&El<bu.length;El++)Ln(Rl,Tl,bu[El],Pl,$u,Bu,Kl),Tl++;if(Cl!==bu[El]){for(Ml=0;Ml<Pl;Ml++)Ln(Sl[Pu[Ml]],El,Cl,Ml,$u,Bu,Kl);bu.splice(El,0,Cl)}El++}for(;El<bu.length;El++)Ln(Rl,Tl,bu[El],Pl,$u,Bu,Kl),Tl++}var Fu=bu.length;for(Tl=0;Tl<Bn.length;Tl++){for(Al=Bn[Tl][Bl]=Bn[Tl].s,Pl=1;Pl<Pu.length;Pl++)Rl=Sl[Pu[Pl]],Rl[0].trace._rawLength=Rl[0].trace._length,Rl[0].trace._length=Fu,Al+=Rl[Tl].s,Rl[Tl][Bl]=Al;if(Jl)for(Il=(Jl==="fraction"?Al:Al/100)||1,Pl=0;Pl<Pu.length;Pl++){var Hu=Sl[Pu[Pl]][Tl];Hu[Bl]/=Il,Hu.sNorm=Hu.s/Il}}for(Pl=0;Pl<Pu.length;Pl++){Rl=Sl[Pu[Pl]];var Gu=Rl[0].trace,Xl=jt.calcMarkerSize(Gu,Gu._rawLength),Wu=Array.isArray(Xl);if(Xl&&$u[Pl]||Wu){var Yu=Xl;for(Xl=new Array(Fu),Tl=0;Tl<Fu;Tl++)Xl[Tl]=Rl[Tl].gap?0:Wu?Yu[Rl[Tl].i]:Yu}var ap=new Array(Fu),rp=new Array(Fu);for(Tl=0;Tl<Fu;Tl++)ap[Tl]=Rl[Tl].x,rp[Tl]=Rl[Tl].y;jt.calcAxisExpansion(Fn,Gu,yl,ot,ap,rp,Xl),Rl[0].t.orientation=$l.orientation}}}}};function Ln(Fn,zn,yl,ot,_l,ls,Sl){_l[ot]=!0;var Pl={i:null,gap:!0,s:0};if(Pl[Sl]=yl,Fn.splice(zn,0,Pl),zn&&yl===Fn[zn-1][Sl]){var Tl=Fn[zn-1];Pl.s=Tl.s,Pl.i=Tl.i,Pl.gap=Tl.gap}else ls&&(Pl.s=Ft(Fn,zn,yl,Sl));zn||(Fn[0].t=Fn[1].t,Fn[0].trace=Fn[1].trace,delete Fn[1].t,delete Fn[1].trace)}function Ft(Fn,zn,yl,ot){var _l=Fn[zn-1],ls=Fn[zn+1];return ls?_l?_l.s+(ls.s-_l.s)*(yl-_l[ot])/(ls[ot]-_l[ot]):ls.s:_l.s}}),OC=a((yu,hu)=>{var jt=q0(),it=nt(),st=it.BADNUM,Ln=it.LOG_CLIP,Ft=Ln+.5,Fn=Ln-.5,zn=gu(),yl=zn.segmentsIntersect,ot=zn.constrain,_l=J2();hu.exports=function(ls,Sl){var Pl=Sl.trace||{},Tl=Sl.xaxis,El=Sl.yaxis,Ml=Tl.type==="log",Rl=El.type==="log",Bn=Tl._length,Cl=El._length,Al=Sl.backoff,Il=Pl.marker,$l=Sl.connectGaps,Bu=Sl.baseTolerance,Jl=Sl.shape,Kl=Jl==="linear",Bl=Pl.fill&&Pl.fill!=="none",$u=[],mu=_l.minTolerance,Pu=ls.length,bu=new Array(Pu),Fu=0,Hu,Gu,Xl,Wu,Yu,ap,rp,sp,bp,Cp,Ap,Lu,Nu,Hl,qu,np;function vu(n0){var b0=ls[n0];if(!b0)return!1;var v0=Sl.linearized?Tl.l2p(b0.x):Tl.c2p(b0.x),x0=Sl.linearized?El.l2p(b0.y):El.c2p(b0.y);if(v0===st){if(Ml&&(v0=Tl.c2p(b0.x,!0)),v0===st)return!1;Rl&&x0===st&&(v0*=Math.abs(Tl._m*Cl*(Tl._m>0?Ft:Fn)/(El._m*Bn*(El._m>0?Ft:Fn)))),v0*=1e3}if(x0===st){if(Rl&&(x0=El.c2p(b0.y,!0)),x0===st)return!1;x0*=1e3}return[v0,x0]}function Ol(n0,b0,v0,x0){var U0=v0-n0,W0=x0-b0,Y0=.5-n0,gm=.5-b0,Dm=U0*U0+W0*W0,Jm=U0*Y0+W0*gm;if(Jm>0&&Jm<Dm){var a1=Y0*W0-gm*U0;if(a1*a1<Dm)return!0}}var Wl,Mu;function zu(n0,b0){var v0=n0[0]/Bn,x0=n0[1]/Cl,U0=Math.max(0,-v0,v0-1,-x0,x0-1);return U0&&Wl!==void 0&&Ol(v0,x0,Wl,Mu)&&(U0=0),U0&&b0&&Ol(v0,x0,b0[0]/Bn,b0[1]/Cl)&&(U0=0),(1+_l.toleranceGrowth*U0)*Bu}function ip(n0,b0){var v0=n0[0]-b0[0],x0=n0[1]-b0[1];return Math.sqrt(v0*v0+x0*x0)}var pp=_l.maxScreensAway,vp=-Bn*pp,Pp=Bn*(1+pp),Gp=-Cl*pp,r0=Cl*(1+pp),C0=[[vp,Gp,Pp,Gp],[Pp,Gp,Pp,r0],[Pp,r0,vp,r0],[vp,r0,vp,Gp]],f0,d0,Sp,Fp,cp,jp;function a0(n0,b0){for(var v0=[],x0=0,U0=0;U0<4;U0++){var W0=C0[U0],Y0=yl(n0[0],n0[1],b0[0],b0[1],W0[0],W0[1],W0[2],W0[3]);Y0&&(!x0||Math.abs(Y0.x-v0[0][0])>1||Math.abs(Y0.y-v0[0][1])>1)&&(Y0=[Y0.x,Y0.y],x0&&ip(Y0,n0)<ip(v0[0],n0)?v0.unshift(Y0):v0.push(Y0),x0++)}return v0}function y0(n0){if(n0[0]<vp||n0[0]>Pp||n0[1]<Gp||n0[1]>r0)return[ot(n0[0],vp,Pp),ot(n0[1],Gp,r0)]}function P0(n0,b0){if(n0[0]===b0[0]&&(n0[0]===vp||n0[0]===Pp)||n0[1]===b0[1]&&(n0[1]===Gp||n0[1]===r0))return!0}function E0(n0,b0){var v0=[],x0=y0(n0),U0=y0(b0);return x0&&U0&&P0(x0,U0)||(x0&&v0.push(x0),U0&&v0.push(U0)),v0}function O0(n0,b0,v0){return function(x0,U0){var W0=y0(x0),Y0=y0(U0),gm=[];if(W0&&Y0&&P0(W0,Y0))return gm;W0&&gm.push(W0),Y0&&gm.push(Y0);var Dm=2*zn.constrain((x0[n0]+U0[n0])/2,b0,v0)-((W0||x0)[n0]+(Y0||U0)[n0]);if(Dm){var Jm;W0&&Y0?Jm=Dm>0==W0[n0]>Y0[n0]?W0:Y0:Jm=W0||Y0,Jm[n0]+=Dm}return gm}}var j0;Jl==="linear"||Jl==="spline"?j0=a0:Jl==="hv"||Jl==="vh"?j0=E0:Jl==="hvh"?j0=O0(0,vp,Pp):Jl==="vhv"&&(j0=O0(1,Gp,r0));function $0(n0,b0){var v0=b0[0]-n0[0],x0=(b0[1]-n0[1])/v0,U0=(n0[1]*b0[0]-b0[1]*n0[0])/v0;return U0>0?[x0>0?vp:Pp,r0]:[x0>0?Pp:vp,Gp]}function tm(n0){var b0=n0[0],v0=n0[1],x0=b0===bu[Fu-1][0],U0=v0===bu[Fu-1][1];if(!(x0&&U0))if(Fu>1){var W0=b0===bu[Fu-2][0],Y0=v0===bu[Fu-2][1];x0&&(b0===vp||b0===Pp)&&W0?Y0?Fu--:bu[Fu-1]=n0:U0&&(v0===Gp||v0===r0)&&Y0?W0?Fu--:bu[Fu-1]=n0:bu[Fu++]=n0}else bu[Fu++]=n0}function A0(n0){bu[Fu-1][0]!==n0[0]&&bu[Fu-1][1]!==n0[1]&&tm([Sp,Fp]),tm(n0),cp=null,Sp=Fp=0}var sm=zn.isArrayOrTypedArray(Il);function pm(n0){if(n0&&Al&&(n0.i=Hu,n0.d=ls,n0.trace=Pl,n0.marker=sm?Il[n0.i]:Il,n0.backoff=Al),Wl=n0[0]/Bn,Mu=n0[1]/Cl,f0=n0[0]<vp?vp:n0[0]>Pp?Pp:0,d0=n0[1]<Gp?Gp:n0[1]>r0?r0:0,f0||d0){if(!Fu)bu[Fu++]=[f0||n0[0],d0||n0[1]];else if(cp){var b0=j0(cp,n0);b0.length>1&&(A0(b0[0]),bu[Fu++]=b0[1])}else jp=j0(bu[Fu-1],n0)[0],bu[Fu++]=jp;var v0=bu[Fu-1];f0&&d0&&(v0[0]!==f0||v0[1]!==d0)?(cp&&(Sp!==f0&&Fp!==d0?tm(Sp&&Fp?$0(cp,n0):[Sp||f0,Fp||d0]):Sp&&Fp&&tm([Sp,Fp])),tm([f0,d0])):Sp-f0&&Fp-d0&&tm([f0||Sp,d0||Fp]),cp=n0,Sp=f0,Fp=d0}else cp&&A0(j0(cp,n0)[0]),bu[Fu++]=n0}for(Hu=0;Hu<Pu;Hu++)if(Gu=vu(Hu),!!Gu){for(Fu=0,cp=null,pm(Gu),Hu++;Hu<Pu;Hu++){if(Wu=vu(Hu),!Wu){if($l)continue;break}if(!Kl||!Sl.simplify){pm(Wu);continue}var nm=vu(Hu+1);if(Cp=ip(Wu,Gu),!(!(Bl&&(Fu===0||Fu===Pu-1))&&Cp<zu(Wu,nm)*mu)){for(sp=[(Wu[0]-Gu[0])/Cp,(Wu[1]-Gu[1])/Cp],Yu=Gu,Ap=Cp,Lu=Hl=qu=0,rp=!1,Xl=Wu,Hu++;Hu<ls.length;Hu++){if(ap=nm,nm=vu(Hu+1),!ap){if($l)continue;break}if(bp=[ap[0]-Gu[0],ap[1]-Gu[1]],np=bp[0]*sp[1]-bp[1]*sp[0],Hl=Math.min(Hl,np),qu=Math.max(qu,np),qu-Hl>zu(ap,nm))break;Xl=ap,Nu=bp[0]*sp[0]+bp[1]*sp[1],Nu>Ap?(Ap=Nu,Wu=ap,rp=!1):Nu<Lu&&(Lu=Nu,Yu=ap,rp=!0)}if(rp?(pm(Wu),Xl!==Yu&&pm(Yu)):(Yu!==Gu&&pm(Yu),Xl!==Wu&&pm(Wu)),pm(Xl),Hu>=ls.length||!ap)break;pm(ap),Gu=ap}}cp&&tm([Sp||cp[0],Fp||cp[1]]),$u.push(bu.slice(0,Fu))}var vm=Jl.slice(Jl.length-1);if(Al&&vm!=="h"&&vm!=="v"){for(var kp=!1,qp=-1,Xu=[],hp=0;hp<$u.length;hp++)for(var yp=0;yp<$u[hp].length-1;yp++){var Dp=$u[hp][yp],Bp=$u[hp][yp+1],Jp=jt.applyBackoff(Bp,Dp);(Jp[0]!==Bp[0]||Jp[1]!==Bp[1])&&(kp=!0),Xu[qp+1]||(qp++,Xu[qp]=[Dp,[Jp[0],Jp[1]]])}return kp?Xu:$u}return $u}}),zC=a((yu,hu)=>{var jt={tonextx:1,tonexty:1,tonext:1};hu.exports=function(it,st,Ln){var Ft,Fn,zn,yl,ot,_l={},ls=!1,Sl=-1,Pl=0,Tl=-1;for(Fn=0;Fn<Ln.length;Fn++)Ft=Ln[Fn][0].trace,zn=Ft.stackgroup||"",zn?zn in _l?ot=_l[zn]:(ot=_l[zn]=Pl,Pl++):Ft.fill in jt&&Tl>=0?ot=Tl:(ot=Tl=Pl,Pl++),ot<Sl&&(ls=!0),Ft._groupIndex=Sl=ot;var El=Ln.slice();ls&&El.sort(function(Rl,Bn){var Cl=Rl[0].trace,Al=Bn[0].trace;return Cl._groupIndex-Al._groupIndex||Cl.index-Al.index});var Ml={};for(Fn=0;Fn<El.length;Fn++)Ft=El[Fn][0].trace,zn=Ft.stackgroup||"",Ft.visible===!0?(Ft._nexttrace=null,Ft.fill in jt&&(yl=Ml[zn],Ft._prevtrace=yl||null,yl&&(yl._nexttrace=Ft)),Ft._ownfill=Ft.fill&&(Ft.fill.substr(0,6)==="tozero"||Ft.fill==="toself"||Ft.fill.substr(0,2)==="to"&&!Ft._prevtrace),Ml[zn]=Ft):Ft._prevtrace=Ft._nexttrace=Ft._ownfill=null;return El}}),NC=a((yu,hu)=>{var jt=g(),it=N1(),st=gu(),Ln=st.ensureSingle,Ft=st.identity,Fn=q0(),zn=Qp(),yl=OC(),ot=zC(),_l=Pv().tester;hu.exports=function(Tl,El,Ml,Rl,Bn,Cl){var Al,Il,$l=!Bn,Bu=!!Bn&&Bn.duration>0,Jl=ot(Tl,El,Ml);if(Al=Rl.selectAll("g.trace").data(Jl,function(Bl){return Bl[0].trace.uid}),Al.enter().append("g").attr("class",function(Bl){return"trace scatter trace"+Bl[0].trace.uid}).style("stroke-miterlimit",2),Al.order(),ls(Tl,Al,El),Bu){Cl&&(Il=Cl());var Kl=jt.transition().duration(Bn.duration).ease(Bn.easing).each("end",function(){Il&&Il()}).each("interrupt",function(){Il&&Il()});Kl.each(function(){Rl.selectAll("g.trace").each(function(Bl,$u){Sl(Tl,$u,El,Bl,Jl,this,Bn)})})}else Al.each(function(Bl,$u){Sl(Tl,$u,El,Bl,Jl,this,Bn)});$l&&Al.exit().remove(),Rl.selectAll("path:not([d])").remove()};function ls(Tl,El,Ml){El.each(function(Rl){var Bn=Ln(jt.select(this),"g","fills");Fn.setClipUrl(Bn,Ml.layerClipId,Tl);var Cl=Rl[0].trace,Al=[];Cl._ownfill&&Al.push("_ownFill"),Cl._nexttrace&&Al.push("_nextFill");var Il=Bn.selectAll("g").data(Al,Ft);Il.enter().append("g"),Il.exit().each(function($l){Cl[$l]=null}).remove(),Il.order().each(function($l){Cl[$l]=Ln(jt.select(this),"path","js-fill")})})}function Sl(Tl,El,Ml,Rl,Bn,Cl,Al){var Il=Tl._context.staticPlot,$l;Pl(Tl,El,Ml,Rl,Bn);var Bu=!!Al&&Al.duration>0;function Jl(A0){return Bu?A0.transition():A0}var Kl=Ml.xaxis,Bl=Ml.yaxis,$u=Rl[0].trace,mu=$u.line,Pu=jt.select(Cl),bu=Ln(Pu,"g","errorbars"),Fu=Ln(Pu,"g","lines"),Hu=Ln(Pu,"g","points"),Gu=Ln(Pu,"g","text");if(it.getComponentMethod("errorbars","plot")(Tl,bu,Ml,Al),$u.visible!==!0)return;Jl(Pu).style("opacity",$u.opacity);var Xl,Wu,Yu=$u.fill.charAt($u.fill.length-1);Yu!=="x"&&Yu!=="y"&&(Yu="");var ap,rp;Yu==="y"?(ap=1,rp=Bl.c2p(0,!0)):Yu==="x"&&(ap=0,rp=Kl.c2p(0,!0)),Rl[0][Ml.isRangePlot?"nodeRangePlot3":"node3"]=Pu;var sp="",bp=[],Cp=$u._prevtrace,Ap=null,Lu=null;Cp&&(sp=Cp._prevRevpath||"",Wu=Cp._nextFill,bp=Cp._ownPolygons,Ap=Cp._fillsegments,Lu=Cp._fillElement);var Nu,Hl,qu="",np="",vu,Ol,Wl,Mu,zu,ip,pp=[];$u._polygons=[];var vp=[],Pp=[],Gp=st.noop;if(Xl=$u._ownFill,zn.hasLines($u)||$u.fill!=="none"){Wu&&Wu.datum(Rl),["hv","vh","hvh","vhv"].indexOf(mu.shape)!==-1?(vu=Fn.steps(mu.shape),Ol=Fn.steps(mu.shape.split("").reverse().join(""))):mu.shape==="spline"?vu=Ol=function(A0){var sm=A0[A0.length-1];return A0.length>1&&A0[0][0]===sm[0]&&A0[0][1]===sm[1]?Fn.smoothclosed(A0.slice(1),mu.smoothing):Fn.smoothopen(A0,mu.smoothing)}:vu=Ol=function(A0){return"M"+A0.join("L")},Wl=function(A0){return Ol(A0.reverse())},Pp=yl(Rl,{xaxis:Kl,yaxis:Bl,trace:$u,connectGaps:$u.connectgaps,baseTolerance:Math.max(mu.width||1,3)/4,shape:mu.shape,backoff:mu.backoff,simplify:mu.simplify,fill:$u.fill}),vp=new Array(Pp.length);var r0=0;for($l=0;$l<Pp.length;$l++){var C0,f0=Pp[$l];!C0||!Yu?(C0=f0.slice(),vp[r0]=C0,r0++):C0.push.apply(C0,f0)}$u._fillElement=null,$u._fillExclusionElement=Lu,$u._fillsegments=vp.slice(0,r0),vp=$u._fillsegments,Pp.length&&(Mu=Pp[0][0].slice(),zu=Pp[Pp.length-1],ip=zu[zu.length-1].slice()),Gp=function(A0){return function(sm){if(Nu=vu(sm),Hl=Wl(sm),qu?Yu?(qu+="L"+Nu.substr(1),np=Hl+("L"+np.substr(1))):(qu+="Z"+Nu,np=Hl+"Z"+np):(qu=Nu,np=Hl),zn.hasLines($u)){var pm=jt.select(this);if(pm.datum(Rl),A0)Jl(pm.style("opacity",0).attr("d",Nu).call(Fn.lineGroupStyle)).style("opacity",1);else{var nm=Jl(pm);nm.attr("d",Nu),Fn.singleLineStyle(Rl,nm)}}}}}var d0=Fu.selectAll(".js-line").data(Pp);Jl(d0.exit()).style("opacity",0).remove(),d0.each(Gp(!1)),d0.enter().append("path").classed("js-line",!0).style("vector-effect",Il?"none":"non-scaling-stroke").call(Fn.lineGroupStyle).each(Gp(!0)),Fn.setClipUrl(d0,Ml.layerClipId,Tl);function Sp(A0){Jl(A0).attr("d","M0,0Z")}var Fp=function(){var A0=new Array(vp.length);for($l=0;$l<vp.length;$l++)A0[$l]=_l(vp[$l]);return A0},cp=function(A0){var sm,pm;if(!A0||A0.length===0)for(sm=new Array(vp.length),pm=0;pm<vp.length;pm++){var nm=vp[pm][0].slice(),vm=vp[pm][vp[pm].length-1].slice();nm[ap]=vm[ap]=rp;var kp=[vm,nm],qp=kp.concat(vp[pm]);sm[pm]=_l(qp)}else{for(sm=new Array(A0.length-1+vp.length),pm=0;pm<A0.length-1;pm++)sm[pm]=_l(A0[pm]);var Xu=A0[A0.length-1].slice();for(Xu.reverse(),pm=0;pm<vp.length;pm++)sm[A0.length-1+pm]=_l(vp[pm].concat(Xu))}return sm};Pp.length?(Xl?(Xl.datum(Rl),Mu&&ip&&(Yu?(Mu[ap]=ip[ap]=rp,Jl(Xl).attr("d","M"+ip+"L"+Mu+"L"+qu.substr(1)).call(Fn.singleFillStyle,Tl),pp=cp(null)):(Jl(Xl).attr("d",qu+"Z").call(Fn.singleFillStyle,Tl),pp=Fp())),$u._polygons=pp,$u._fillElement=Xl):Wu&&($u.fill.substr(0,6)==="tonext"&&qu&&sp?($u.fill==="tonext"?(Jl(Wu).attr("d",qu+"Z"+sp+"Z").call(Fn.singleFillStyle,Tl),pp=Fp(),$u._polygons=pp.concat(bp)):(Jl(Wu).attr("d",qu+"L"+sp.substr(1)+"Z").call(Fn.singleFillStyle,Tl),pp=cp(Ap),$u._polygons=pp),$u._fillElement=Wu):Sp(Wu)),$u._prevRevpath=np):(Xl?Sp(Xl):Wu&&Sp(Wu),$u._prevRevpath=null),$u._ownPolygons=pp;function jp(A0){return A0.filter(function(sm){return!sm.gap&&sm.vis})}function a0(A0){return A0.filter(function(sm){return sm.vis})}function y0(A0){return A0.filter(function(sm){return!sm.gap})}function P0(A0){return A0.id}function E0(A0){if(A0.ids)return P0}function O0(){return!1}function j0(A0,sm,pm){var nm,vm,kp,qp=pm[0].trace,Xu=zn.hasMarkers(qp),hp=zn.hasText(qp),yp=E0(qp),Dp=O0,Bp=O0;if(Xu||hp){var Jp=Ft,n0=qp.stackgroup,b0=n0&&Tl._fullLayout._scatterStackOpts[Kl._id+Bl._id][n0].stackgaps==="infer zero";qp.marker.maxdisplayed||qp._needsCull?Jp=b0?a0:jp:n0&&!b0&&(Jp=y0),Xu&&(Dp=Jp),hp&&(Bp=Jp)}vm=A0.selectAll("path.point"),nm=vm.data(Dp,yp);var v0=nm.enter().append("path").classed("point",!0);Bu&&v0.call(Fn.pointStyle,qp,Tl).call(Fn.translatePoints,Kl,Bl).style("opacity",0).transition().style("opacity",1),nm.order();var x0;Xu&&(x0=Fn.makePointStyleFns(qp)),nm.each(function(U0){var W0=jt.select(this),Y0=Jl(W0);kp=Fn.translatePoint(U0,Y0,Kl,Bl),kp?(Fn.singlePointStyle(U0,Y0,qp,x0,Tl),Ml.layerClipId&&Fn.hideOutsideRangePoint(U0,Y0,Kl,Bl,qp.xcalendar,qp.ycalendar),qp.customdata&&W0.classed("plotly-customdata",U0.data!==null&&U0.data!==void 0)):Y0.remove()}),Bu?nm.exit().transition().style("opacity",0).remove():nm.exit().remove(),vm=sm.selectAll("g"),nm=vm.data(Bp,yp),nm.enter().append("g").classed("textpoint",!0).append("text"),nm.order(),nm.each(function(U0){var W0=jt.select(this),Y0=Jl(W0.select("text"));kp=Fn.translatePoint(U0,Y0,Kl,Bl),kp?Ml.layerClipId&&Fn.hideOutsideRangePoint(U0,W0,Kl,Bl,qp.xcalendar,qp.ycalendar):W0.remove()}),nm.selectAll("text").call(Fn.textPointStyle,qp,Tl).each(function(U0){var W0=Kl.c2p(U0.x),Y0=Bl.c2p(U0.y);jt.select(this).selectAll("tspan.line").each(function(){Jl(jt.select(this)).attr({x:W0,y:Y0})})}),nm.exit().remove()}Hu.datum(Rl),Gu.datum(Rl),j0(Hu,Gu,Rl);var $0=$u.cliponaxis===!1,tm=$0?null:Ml.layerClipId;Fn.setClipUrl(Hu,tm,Tl),Fn.setClipUrl(Gu,tm,Tl)}function Pl(Tl,El,Ml,Rl,Bn){var Cl=Ml.xaxis,Al=Ml.yaxis,Il=jt.extent(st.simpleMap(Cl.range,Cl.r2c)),$l=jt.extent(st.simpleMap(Al.range,Al.r2c)),Bu=Rl[0].trace;if(zn.hasMarkers(Bu)){var Jl=Bu.marker.maxdisplayed;if(Jl!==0){var Kl=Rl.filter(function(Pu){return Pu.x>=Il[0]&&Pu.x<=Il[1]&&Pu.y>=$l[0]&&Pu.y<=$l[1]}),Bl=Math.ceil(Kl.length/Jl),$u=0;Bn.forEach(function(Pu,bu){var Fu=Pu[0].trace;zn.hasMarkers(Fu)&&Fu.marker.maxdisplayed>0&&bu<El&&$u++});var mu=Math.round($u*Bl/3+Math.floor($u/3)*Bl/7.1);Rl.forEach(function(Pu){delete Pu.vis}),Kl.forEach(function(Pu,bu){Math.round((bu+mu)%Bl)===0&&(Pu.vis=!0)})}}}}),Hx=a((yu,hu)=>{hu.exports={container:"marker",min:"cmin",max:"cmax"}}),BC=a((yu,hu)=>{var jt=bm();hu.exports=function(it,st,Ln){var Ft={},Fn={_fullLayout:Ln},zn=jt.getFromTrace(Fn,st,"x"),yl=jt.getFromTrace(Fn,st,"y"),ot=it.orig_x;ot===void 0&&(ot=it.x);var _l=it.orig_y;return _l===void 0&&(_l=it.y),Ft.xLabel=jt.tickText(zn,zn.c2l(ot),!0).text,Ft.yLabel=jt.tickText(yl,yl.c2l(_l),!0).text,Ft}}),Gx=a((yu,hu)=>{var jt=g(),it=q0(),st=N1();function Ln(yl){var ot=jt.select(yl).selectAll("g.trace.scatter");ot.style("opacity",function(_l){return _l[0].trace.opacity}),ot.selectAll("g.points").each(function(_l){var ls=jt.select(this),Sl=_l.trace||_l[0].trace;Ft(ls,Sl,yl)}),ot.selectAll("g.text").each(function(_l){var ls=jt.select(this),Sl=_l.trace||_l[0].trace;Fn(ls,Sl,yl)}),ot.selectAll("g.trace path.js-line").call(it.lineGroupStyle),ot.selectAll("g.trace path.js-fill").call(it.fillGroupStyle,yl,!1),st.getComponentMethod("errorbars","style")(ot)}function Ft(yl,ot,_l){it.pointStyle(yl.selectAll("path.point"),ot,_l)}function Fn(yl,ot,_l){it.textPointStyle(yl.selectAll("text"),ot,_l)}function zn(yl,ot,_l){var ls=ot[0].trace;ls.selectedpoints?(it.selectedPointStyle(_l.selectAll("path.point"),ls),it.selectedTextStyle(_l.selectAll("text"),ls)):(Ft(_l,ls,yl),Fn(_l,ls,yl))}hu.exports={style:Ln,stylePoints:Ft,styleText:Fn,styleOnSelect:zn}}),$C=a((yu,hu)=>{var jt=D0(),it=Qp();hu.exports=function(st,Ln){var Ft,Fn;if(st.mode==="lines")return Ft=st.line.color,Ft&&jt.opacity(Ft)?Ft:st.fillcolor;if(st.mode==="none")return st.fill?st.fillcolor:"";var zn=Ln.mcc||(st.marker||{}).color,yl=Ln.mlcc||((st.marker||{}).line||{}).color;return Fn=zn&&jt.opacity(zn)?zn:yl&&jt.opacity(yl)&&(Ln.mlw||((st.marker||{}).line||{}).width)?yl:"",Fn?jt.opacity(Fn)<.3?jt.addOpacity(Fn,.3):Fn:(Ft=(st.line||{}).color,Ft&&jt.opacity(Ft)&&it.hasLines(st)&&st.line.width?Ft:st.fillcolor)}}),HC=a((yu,hu)=>{var jt=gu(),it=Ey(),st=N1(),Ln=$C(),Ft=D0(),Fn=jt.fillText;hu.exports=function(zn,yl,ot,_l){var ls=zn.cd,Sl=ls[0].trace,Pl=zn.xa,Tl=zn.ya,El=Pl.c2p(yl),Ml=Tl.c2p(ot),Rl=[El,Ml],Bn=Sl.hoveron||"",Cl=Sl.mode.indexOf("markers")!==-1?3:.5,Al=!!Sl.xperiodalignment,Il=!!Sl.yperiodalignment;if(Bn.indexOf("points")!==-1){var $l=function(sp){if(Al){var bp=Pl.c2p(sp.xStart),Cp=Pl.c2p(sp.xEnd);return El>=Math.min(bp,Cp)&&El<=Math.max(bp,Cp)?0:1/0}var Ap=Math.max(3,sp.mrc||0),Lu=1-1/Ap,Nu=Math.abs(Pl.c2p(sp.x)-El);return Nu<Ap?Lu*Nu/Ap:Nu-Ap+Lu},Bu=function(sp){if(Il){var bp=Tl.c2p(sp.yStart),Cp=Tl.c2p(sp.yEnd);return Ml>=Math.min(bp,Cp)&&Ml<=Math.max(bp,Cp)?0:1/0}var Ap=Math.max(3,sp.mrc||0),Lu=1-1/Ap,Nu=Math.abs(Tl.c2p(sp.y)-Ml);return Nu<Ap?Lu*Nu/Ap:Nu-Ap+Lu},Jl=function(sp){var bp=Math.max(Cl,sp.mrc||0),Cp=Pl.c2p(sp.x)-El,Ap=Tl.c2p(sp.y)-Ml;return Math.max(Math.sqrt(Cp*Cp+Ap*Ap)-bp,1-Cl/bp)},Kl=it.getDistanceFunction(_l,$l,Bu,Jl);if(it.getClosest(ls,Kl,zn),zn.index!==!1){var Bl=ls[zn.index],$u=Pl.c2p(Bl.x,!0),mu=Tl.c2p(Bl.y,!0),Pu=Bl.mrc||1;zn.index=Bl.i;var bu=ls[0].t.orientation,Fu=bu&&(Bl.sNorm||Bl.s),Hu=bu==="h"?Fu:Bl.orig_x!==void 0?Bl.orig_x:Bl.x,Gu=bu==="v"?Fu:Bl.orig_y!==void 0?Bl.orig_y:Bl.y;return jt.extendFlat(zn,{color:Ln(Sl,Bl),x0:$u-Pu,x1:$u+Pu,xLabelVal:Hu,y0:mu-Pu,y1:mu+Pu,yLabelVal:Gu,spikeDistance:Jl(Bl),hovertemplate:Sl.hovertemplate}),Fn(Bl,Sl,zn),st.getComponentMethod("errorbars","hoverInfo")(Bl,Sl,zn),[zn]}}function Xl(sp){if(!sp)return!1;var bp=sp.node();try{var Cp=new DOMPoint(Rl[0],Rl[1]);return bp.isPointInFill(Cp)}catch{var Ap=bp.ownerSVGElement.createSVGPoint();return Ap.x=Rl[0],Ap.y=Rl[1],bp.isPointInFill(Ap)}}function Wu(sp){var bp,Cp=[],Ap=1/0,Lu=-1/0,Nu=1/0,Hl=-1/0,qu;for(bp=0;bp<sp.length;bp++){var np=sp[bp];np.contains(Rl)&&(Cp.push(np),Nu=Math.min(Nu,np.ymin),Hl=Math.max(Hl,np.ymax))}if(Cp.length===0)return null;Nu=Math.max(Nu,0),Hl=Math.min(Hl,Tl._length),qu=(Nu+Hl)/2;var vu,Ol,Wl,Mu,zu,ip,pp;for(bp=0;bp<Cp.length;bp++)for(Ol=Cp[bp].pts,vu=1;vu<Ol.length;vu++)ip=Ol[vu-1][1],pp=Ol[vu][1],ip>qu!=pp>=qu&&(Mu=Ol[vu-1][0],zu=Ol[vu][0],pp-ip&&(Wl=Mu+(zu-Mu)*(qu-ip)/(pp-ip),Ap=Math.min(Ap,Wl),Lu=Math.max(Lu,Wl)));return Ap=Math.max(Ap,0),Lu=Math.min(Lu,Pl._length),{x0:Ap,x1:Lu,y0:qu,y1:qu}}if(Bn.indexOf("fills")!==-1&&Sl._fillElement){var Yu=Xl(Sl._fillElement)&&!Xl(Sl._fillExclusionElement);if(Yu){var ap=Wu(Sl._polygons);ap===null&&(ap={x0:Rl[0],x1:Rl[0],y0:Rl[1],y1:Rl[1]});var rp=Ft.defaultLine;return Ft.opacity(Sl.fillcolor)?rp=Sl.fillcolor:Ft.opacity((Sl.line||{}).color)&&(rp=Sl.line.color),jt.extendFlat(zn,{distance:zn.maxHoverDistance,x0:ap.x0,x1:ap.x1,y0:ap.y0,y1:ap.y1,color:rp,hovertemplate:!1}),delete zn.index,Sl.text&&!jt.isArrayOrTypedArray(Sl.text)?zn.text=String(Sl.text):zn.text=Sl.name,[zn]}}}}),GC=a((yu,hu)=>{var jt=Qp();hu.exports=function(it,st){var Ln=it.cd,Ft=it.xaxis,Fn=it.yaxis,zn=[],yl=Ln[0].trace,ot,_l,ls,Sl,Pl=!jt.hasMarkers(yl)&&!jt.hasText(yl);if(Pl)return[];if(st===!1)for(ot=0;ot<Ln.length;ot++)Ln[ot].selected=0;else for(ot=0;ot<Ln.length;ot++)_l=Ln[ot],ls=Ft.c2p(_l.x),Sl=Fn.c2p(_l.y),_l.i!==null&&st.contains([ls,Sl],!1,ot,it)?(zn.push({pointNumber:_l.i,x:Ft.c2d(_l.x),y:Fn.c2d(_l.y)}),_l.selected=1):_l.selected=0;return zn}}),jC=a((yu,hu)=>{hu.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}),VC=a((yu,hu)=>{var jt=N1().traceIs,it=H0();hu.exports=function(zn,yl,ot,_l){ot("autotypenumbers",_l.autotypenumbersDflt);var ls=ot("type",(_l.splomStash||{}).type);ls==="-"&&(st(yl,_l.data),yl.type==="-"?yl.type="linear":zn.type=yl.type)};function st(zn,yl){if(zn.type==="-"){var ot=zn._id,_l=ot.charAt(0),ls;ot.indexOf("scene")!==-1&&(ot=_l);var Sl=Ln(yl,ot,_l);if(Sl){if(Sl.type==="histogram"&&_l==={v:"y",h:"x"}[Sl.orientation||"v"]){zn.type="linear";return}var Pl=_l+"calendar",Tl=Sl[Pl],El={noMultiCategory:!jt(Sl,"cartesian")||jt(Sl,"noMultiCategory")};if(Sl.type==="box"&&Sl._hasPreCompStats&&_l==={h:"x",v:"y"}[Sl.orientation||"v"]&&(El.noMultiCategory=!0),El.autotypenumbers=zn.autotypenumbers,Fn(Sl,_l)){var Ml=Ft(Sl),Rl=[];for(ls=0;ls<yl.length;ls++){var Bn=yl[ls];!jt(Bn,"box-violin")||(Bn[_l+"axis"]||_l)!==ot||(Bn[Ml]!==void 0?Rl.push(Bn[Ml][0]):Bn.name!==void 0?Rl.push(Bn.name):Rl.push("text"),Bn[Pl]!==Tl&&(Tl=void 0))}zn.type=it(Rl,Tl,El)}else if(Sl.type==="splom"){var Cl=Sl.dimensions,Al=Cl[Sl._axesDim[ot]];Al.visible&&(zn.type=it(Al.values,Tl,El))}else zn.type=it(Sl[_l]||[Sl[_l+"0"]],Tl,El)}}}function Ln(zn,yl,ot){for(var _l=0;_l<zn.length;_l++){var ls=zn[_l];if(ls.type==="splom"&&ls._length>0&&(ls["_"+ot+"axes"]||{})[yl]||(ls[ot+"axis"]||ot)===yl&&(Fn(ls,ot)||(ls[ot]||[]).length||ls[ot+"0"]))return ls}}function Ft(zn){return{v:"x",h:"y"}[zn.orientation||"v"]}function Fn(zn,yl){var ot=Ft(zn),_l=jt(zn,"box-violin"),ls=jt(zn._fullInput||{},"candlestick");return _l&&!ls&&yl===ot&&zn[ot]===void 0&&zn[ot+"0"]===void 0}}),UC=a((yu,hu)=>{var jt=Ll().isTypedArraySpec;function it(st,Ln){var Ft=Ln.dataAttr||st._id.charAt(0),Fn={},zn,yl,ot;if(Ln.axData)zn=Ln.axData;else for(zn=[],yl=0;yl<Ln.data.length;yl++){var _l=Ln.data[yl];_l[Ft+"axis"]===st._id&&zn.push(_l)}for(yl=0;yl<zn.length;yl++){var ls=zn[yl][Ft];for(ot=0;ot<ls.length;ot++){var Sl=ls[ot];Sl!=null&&(Fn[Sl]=1)}}return Object.keys(Fn)}hu.exports=function(st,Ln,Ft,Fn){if(Ln.type==="category"){var zn=st.categoryarray,yl=Array.isArray(zn)&&zn.length>0||jt(zn),ot;yl&&(ot="array");var _l=Ft("categoryorder",ot),ls;_l==="array"&&(ls=Ft("categoryarray")),!yl&&_l==="array"&&(_l=Ln.categoryorder="trace"),_l==="trace"?Ln._initialCategories=[]:_l==="array"?Ln._initialCategories=ls.slice():(ls=it(Ln,Fn).sort(),_l==="category ascending"?Ln._initialCategories=ls:_l==="category descending"&&(Ln._initialCategories=ls.reverse()))}}}),WC=a((yu,hu)=>{var jt=Ju().mix,it=k0(),st=gu();hu.exports=function(Ln,Ft,Fn,zn){zn=zn||{};var yl=zn.dfltColor;function ot(Bl,$u){return st.coerce2(Ln,Ft,zn.attributes,Bl,$u)}var _l=ot("linecolor",yl),ls=ot("linewidth"),Sl=Fn("showline",zn.showLine||!!_l||!!ls);Sl||(delete Ft.linecolor,delete Ft.linewidth);var Pl=jt(yl,zn.bgColor,zn.blend||it.lightFraction).toRgbString(),Tl=ot("gridcolor",Pl),El=ot("gridwidth"),Ml=ot("griddash"),Rl=Fn("showgrid",zn.showGrid||!!Tl||!!El||!!Ml);if(Rl||(delete Ft.gridcolor,delete Ft.gridwidth,delete Ft.griddash),zn.hasMinor){var Bn=jt(Ft.gridcolor,zn.bgColor,67).toRgbString(),Cl=ot("minor.gridcolor",Bn),Al=ot("minor.gridwidth",Ft.gridwidth||1),Il=ot("minor.griddash",Ft.griddash||"solid"),$l=Fn("minor.showgrid",!!Cl||!!Al||!!Il);$l||(delete Ft.minor.gridcolor,delete Ft.minor.gridwidth,delete Ft.minor.griddash)}if(!zn.noZeroLine){ot("zerolinelayer");var Bu=ot("zerolinecolor",yl),Jl=ot("zerolinewidth"),Kl=Fn("zeroline",zn.showGrid||!!Bu||!!Jl);Kl||(delete Ft.zerolinelayer,delete Ft.zerolinecolor,delete Ft.zerolinewidth)}}}),jx=a((yu,hu)=>{var jt=rt(),it=N1(),st=gu(),Ln=d1(),Ft=_d(),Fn=c0(),zn=Du(),yl=lp(),ot=gp(),_l=mp(),ls=UC(),Sl=WC(),Pl=Im(),Tl=J0(),El=E1().WEEKDAY_PATTERN,Ml=E1().HOUR_PATTERN;hu.exports=function(Al,Il,$l,Bu,Jl){var Kl=Bu.letter,Bl=Bu.font||{},$u=Bu.splomStash||{},mu=$l("visible",!Bu.visibleDflt),Pu=Il._template||{},bu=Il.type||Pu.type||"-",Fu;if(bu==="date"){var Hu=it.getComponentMethod("calendars","handleDefaults");Hu(Al,Il,"calendar",Bu.calendar),Bu.noTicklabelmode||(Fu=$l("ticklabelmode"))}!Bu.noTicklabelindex&&(bu==="date"||bu==="linear")&&$l("ticklabelindex");var Gu="";(!Bu.noTicklabelposition||bu==="multicategory")&&(Gu=st.coerce(Al,Il,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Fu==="period"?["outside","inside"]:Kl==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),Bu.noTicklabeloverflow||$l("ticklabeloverflow",Gu.indexOf("inside")!==-1?"hide past domain":bu==="category"||bu==="multicategory"?"allow":"hide past div"),Tl(Il,Jl),Pl(Al,Il,$l,Bu),ls(Al,Il,$l,Bu),Bu.noHover||(bu!=="category"&&$l("hoverformat"),Bu.noUnifiedhovertitle||$l("unifiedhovertitle.text"));var Xl=$l("color"),Wu=Xl!==Fn.color.dflt?Xl:Bl.color,Yu=$u.label||Jl._dfltTitle[Kl];if(_l(Al,Il,$l,bu,Bu),!mu)return Il;$l("title.text",Yu),st.coerceFont($l,"title.font",Bl,{overrideDflt:{size:st.bigFont(Bl.size),color:Wu}}),zn(Al,Il,$l,bu);var ap=Bu.hasMinor;if(ap&&(Ln.newContainer(Il,"minor"),zn(Al,Il,$l,bu,{isMinor:!0})),ot(Al,Il,$l,bu,Bu),yl(Al,Il,$l,Bu),ap){var rp=Bu.isMinor;Bu.isMinor=!0,yl(Al,Il,$l,Bu),Bu.isMinor=rp}Sl(Al,Il,$l,{dfltColor:Xl,bgColor:Bu.bgColor,showGrid:Bu.showGrid,hasMinor:ap,attributes:Fn}),ap&&!Il.minor.ticks&&!Il.minor.showgrid&&delete Il.minor,(Il.showline||Il.ticks)&&$l("mirror");var sp=bu==="multicategory";if(!Bu.noTickson&&(bu==="category"||sp)&&(Il.ticks||Il.showgrid)&&(sp?($l("tickson","boundaries"),delete Il.ticklabelposition):$l("tickson")),sp){var bp=$l("showdividers");bp&&($l("dividercolor"),$l("dividerwidth"))}if(bu==="date")if(Ft(Al,Il,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:Rl}),!Il.rangebreaks.length)delete Il.rangebreaks;else{for(var Cp=0;Cp<Il.rangebreaks.length;Cp++)if(Il.rangebreaks[Cp].pattern===El){Il._hasDayOfWeekBreaks=!0;break}if(Tl(Il,Jl),Jl._has("scattergl")||Jl._has("splom"))for(var Ap=0;Ap<Bu.data.length;Ap++){var Lu=Bu.data[Ap];(Lu.type==="scattergl"||Lu.type==="splom")&&(Lu.visible=!1,st.warn(Lu.type+" traces do not work on axes with rangebreaks. Setting trace "+Lu.index+" to `visible: false`."))}}return Il};function Rl(Al,Il,$l){function Bu(Hu,Gu){return st.coerce(Al,Il,Fn.rangebreaks,Hu,Gu)}var Jl=Bu("enabled");if(Jl){var Kl=Bu("bounds");if(Kl&&Kl.length>=2){var Bl="",$u,mu;if(Kl.length===2){for($u=0;$u<2;$u++)if(mu=Cl(Kl[$u]),mu){Bl=El;break}}var Pu=Bu("pattern",Bl);if(Pu===El)for($u=0;$u<2;$u++)mu=Cl(Kl[$u]),mu&&(Il.bounds[$u]=Kl[$u]=mu-1);if(Pu)for($u=0;$u<2;$u++)switch(mu=Kl[$u],Pu){case El:if(!jt(mu)){Il.enabled=!1;return}if(mu=+mu,mu!==Math.floor(mu)||mu<0||mu>=7){Il.enabled=!1;return}Il.bounds[$u]=Kl[$u]=mu;break;case Ml:if(!jt(mu)){Il.enabled=!1;return}if(mu=+mu,mu<0||mu>24){Il.enabled=!1;return}Il.bounds[$u]=Kl[$u]=mu;break}if($l.autorange===!1){var bu=$l.range;if(bu[0]<bu[1]){if(Kl[0]<bu[0]&&Kl[1]>bu[1]){Il.enabled=!1;return}}else if(Kl[0]>bu[0]&&Kl[1]<bu[1]){Il.enabled=!1;return}}}else{var Fu=Bu("values");if(Fu&&Fu.length)Bu("dvalue");else{Il.enabled=!1;return}}}}var Bn={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function Cl(Al){if(typeof Al=="string")return Bn[Al.substr(0,3).toLowerCase()]}}),Vx=a((yu,hu)=>{var jt=rt(),it=gu();hu.exports=function(st,Ln,Ft,Fn){var zn=Fn.counterAxes||[],yl=Fn.overlayableAxes||[],ot=Fn.letter,_l=Fn.grid,ls=Fn.overlayingDomain,Sl,Pl,Tl,El,Ml,Rl;_l&&(Pl=_l._domains[ot][_l._axisMap[Ln._id]],Sl=_l._anchors[Ln._id],Pl&&(Tl=_l[ot+"side"].split(" ")[0],El=_l.domain[ot][Tl==="right"||Tl==="top"?1:0])),Pl=Pl||[0,1],Sl=Sl||(jt(st.position)?"free":zn[0]||"free"),Tl=Tl||(ot==="x"?"bottom":"left"),El=El||0,Ml=0,Rl=!1;var Bn=it.coerce(st,Ln,{anchor:{valType:"enumerated",values:["free"].concat(zn),dflt:Sl}},"anchor"),Cl=it.coerce(st,Ln,{side:{valType:"enumerated",values:ot==="x"?["bottom","top"]:["left","right"],dflt:Tl}},"side");if(Bn==="free"){if(ot==="y"){var Al=Ft("autoshift");Al&&(El=Cl==="left"?ls[0]:ls[1],Rl=Ln.automargin?Ln.automargin:!0,Ml=Cl==="left"?-3:3),Ft("shift",Ml)}Ft("position",El)}Ft("automargin",Rl);var Il=!1;if(yl.length&&(Il=it.coerce(st,Ln,{overlaying:{valType:"enumerated",values:[!1].concat(yl),dflt:!1}},"overlaying")),!Il){var $l=Ft("domain",Pl);$l[0]>$l[1]-1/4096&&(Ln.domain=Pl),it.noneOrAll(st.domain,Ln.domain,Pl),Ln.tickmode==="sync"&&(Ln.tickmode="auto")}return Ft("layer"),Ln}}),qC=a((yu,hu)=>{var jt=gu(),it=D0(),st=w0().isUnifiedHover,Ln=Hy(),Ft=d1(),Fn=Wv(),zn=c0(),yl=VC(),ot=jx(),_l=Q1(),ls=Vx(),Sl=rv(),Pl=Sl.id2name,Tl=Sl.name2id,El=E1().AX_ID_PATTERN,Ml=N1(),Rl=Ml.traceIs,Bn=Ml.getComponentMethod;function Cl(Al,Il,$l){Array.isArray(Al[Il])?Al[Il].push($l):Al[Il]=[$l]}hu.exports=function(Al,Il,$l){var Bu=Il.autotypenumbers,Jl={},Kl={},Bl={},$u={},mu={},Pu={},bu={},Fu={},Hu={},Gu={},Xl,Wu;for(Xl=0;Xl<$l.length;Xl++){var Yu=$l[Xl];if(Rl(Yu,"cartesian")){var ap;if(Yu.xaxis)ap=Pl(Yu.xaxis),Cl(Jl,ap,Yu);else if(Yu.xaxes)for(Wu=0;Wu<Yu.xaxes.length;Wu++)Cl(Jl,Pl(Yu.xaxes[Wu]),Yu);var rp;if(Yu.yaxis)rp=Pl(Yu.yaxis),Cl(Jl,rp,Yu);else if(Yu.yaxes)for(Wu=0;Wu<Yu.yaxes.length;Wu++)Cl(Jl,Pl(Yu.yaxes[Wu]),Yu);if(Yu.type==="funnel"?Yu.orientation==="h"?(ap&&(Kl[ap]=!0),rp&&(bu[rp]=!0)):rp&&(Bl[rp]=!0):Yu.type==="image"?(rp&&(Fu[rp]=!0),ap&&(Fu[ap]=!0)):(rp&&(mu[rp]=!0,Pu[rp]=!0),(!Rl(Yu,"carpet")||Yu.type==="carpet"&&!Yu._cheater)&&ap&&($u[ap]=!0)),Yu.type==="carpet"&&Yu._cheater&&ap&&(Kl[ap]=!0),Rl(Yu,"2dMap")&&(Hu[ap]=!0,Hu[rp]=!0),Rl(Yu,"oriented")){var sp=Yu.orientation==="h"?rp:ap;Gu[sp]=!0}}}var bp=Il._subplots,Cp=bp.xaxis,Ap=bp.yaxis,Lu=jt.simpleMap(Cp,Pl),Nu=jt.simpleMap(Ap,Pl),Hl=Lu.concat(Nu),qu=it.background;Cp.length&&Ap.length&&(qu=jt.coerce(Al,Il,Fn,"plot_bgcolor"));var np=it.combine(qu,Il.paper_bgcolor),vu,Ol,Wl,Mu,zu;function ip(){var yp=Jl[vu]||[];zu._traceIndices=yp.map(function(Dp){return Dp.index}),zu._annIndices=[],zu._shapeIndices=[],zu._selectionIndices=[],zu._imgIndices=[],zu._subplotsWith=[],zu._counterAxes=[],zu._name=zu._attr=vu,zu._id=Ol}function pp(yp,Dp){return jt.coerce(Mu,zu,zn,yp,Dp)}function vp(yp,Dp){return jt.coerce2(Mu,zu,zn,yp,Dp)}function Pp(yp){return yp==="x"?Ap:Cp}function Gp(yp,Dp){for(var Bp=yp==="x"?Lu:Nu,Jp=[],n0=0;n0<Bp.length;n0++){var b0=Bp[n0];b0!==Dp&&!(Al[b0]||{}).overlaying&&Jp.push(Tl(b0))}return Jp}var r0={x:Pp("x"),y:Pp("y")},C0=r0.x.concat(r0.y),f0={},d0=[];function Sp(){var yp=Mu.matches;El.test(yp)&&C0.indexOf(yp)===-1&&(f0[yp]=Mu.type,d0=Object.keys(f0))}var Fp=Ln(Al,Il),cp=st(Fp);for(Xl=0;Xl<Hl.length;Xl++){vu=Hl[Xl],Ol=Tl(vu),Wl=vu.charAt(0),jt.isPlainObject(Al[vu])||(Al[vu]={}),Mu=Al[vu],zu=Ft.newContainer(Il,vu,Wl+"axis"),ip();var jp=Wl==="x"&&!$u[vu]&&Kl[vu]||Wl==="y"&&!mu[vu]&&Bl[vu],a0=Wl==="y"&&(!Pu[vu]&&bu[vu]||Fu[vu]),y0={hasMinor:!0,letter:Wl,font:Il.font,outerTicks:Hu[vu],showGrid:!Gu[vu],data:Jl[vu]||[],bgColor:np,calendar:Il.calendar,automargin:!0,visibleDflt:jp,reverseDflt:a0,autotypenumbersDflt:Bu,splomStash:((Il._splomAxes||{})[Wl]||{})[Ol],noAutotickangles:Wl==="y"};pp("uirevision",Il.uirevision),yl(Mu,zu,pp,y0),ot(Mu,zu,pp,y0,Il);var P0=cp&&Wl===Fp.charAt(0),E0=vp("spikecolor",cp?zu.color:void 0),O0=vp("spikethickness",cp?1.5:void 0),j0=vp("spikedash",cp?"dot":void 0),$0=vp("spikemode",cp?"across":void 0),tm=vp("spikesnap"),A0=pp("showspikes",!!P0||!!E0||!!O0||!!j0||!!$0||!!tm);A0||(delete zu.spikecolor,delete zu.spikethickness,delete zu.spikedash,delete zu.spikemode,delete zu.spikesnap);var sm=Pl(Mu.overlaying),pm=[0,1];if(Il[sm]!==void 0){var nm=Pl(Il[sm].anchor);Il[nm]!==void 0&&(pm=Il[nm].domain)}ls(Mu,zu,pp,{letter:Wl,counterAxes:r0[Wl],overlayableAxes:Gp(Wl,vu),grid:Il.grid,overlayingDomain:pm}),pp("title.standoff"),Sp(),zu._input=Mu}for(Xl=0;Xl<d0.length;){Ol=d0[Xl++],vu=Pl(Ol),Wl=vu.charAt(0),jt.isPlainObject(Al[vu])||(Al[vu]={}),Mu=Al[vu],zu=Ft.newContainer(Il,vu,Wl+"axis"),ip();var vm={letter:Wl,font:Il.font,outerTicks:Hu[vu],showGrid:!Gu[vu],data:[],bgColor:np,calendar:Il.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:Bu,splomStash:((Il._splomAxes||{})[Wl]||{})[Ol]};pp("uirevision",Il.uirevision),zu.type=f0[Ol]||"linear",ot(Mu,zu,pp,vm,Il),ls(Mu,zu,pp,{letter:Wl,counterAxes:r0[Wl],overlayableAxes:Gp(Wl,vu),grid:Il.grid}),pp("fixedrange"),pp("modebardisable"),Sp(),zu._input=Mu}var kp=Bn("rangeslider","handleDefaults"),qp=Bn("rangeselector","handleDefaults");for(Xl=0;Xl<Lu.length;Xl++)vu=Lu[Xl],Mu=Al[vu],zu=Il[vu],kp(Al,Il,vu),zu.type==="date"&&qp(Mu,zu,Il,Nu,zu.calendar),pp("fixedrange"),pp("modebardisable");for(Xl=0;Xl<Nu.length;Xl++){vu=Nu[Xl],Mu=Al[vu],zu=Il[vu];var Xu=Il[Pl(zu.anchor)],hp=Bn("rangeslider","isVisible")(Xu);pp("fixedrange",hp),pp("modebardisable")}_l.handleDefaults(Al,Il,{axIds:C0.concat(d0).sort(Sl.idSort),axHasImage:Fu})}}),YC=a((yu,hu)=>{var jt=g(),it=N1(),st=gu(),Ln=q0(),Ft=bm();hu.exports=function(Fn,zn,yl,ot){var _l=Fn._fullLayout;if(zn.length===0){Ft.redrawComponents(Fn);return}function ls(Il){var $l=Il.xaxis,Bu=Il.yaxis;_l._defs.select("#"+Il.clipId+"> rect").call(Ln.setTranslate,0,0).call(Ln.setScale,1,1),Il.plot.call(Ln.setTranslate,$l._offset,Bu._offset).call(Ln.setScale,1,1);var Jl=Il.plot.selectAll(".scatterlayer .trace");Jl.selectAll(".point").call(Ln.setPointGroupScale,1,1),Jl.selectAll(".textpoint").call(Ln.setTextPointsScale,1,1),Jl.call(Ln.hideOutsideRangePoints,Il)}function Sl(Il,$l){var Bu=Il.plotinfo,Jl=Bu.xaxis,Kl=Bu.yaxis,Bl=Jl._length,$u=Kl._length,mu=!!Il.xr1,Pu=!!Il.yr1,bu=[];if(mu){var Fu=st.simpleMap(Il.xr0,Jl.r2l),Hu=st.simpleMap(Il.xr1,Jl.r2l),Gu=Fu[1]-Fu[0],Xl=Hu[1]-Hu[0];bu[0]=(Fu[0]*(1-$l)+$l*Hu[0]-Fu[0])/(Fu[1]-Fu[0])*Bl,bu[2]=Bl*(1-$l+$l*Xl/Gu),Jl.range[0]=Jl.l2r(Fu[0]*(1-$l)+$l*Hu[0]),Jl.range[1]=Jl.l2r(Fu[1]*(1-$l)+$l*Hu[1])}else bu[0]=0,bu[2]=Bl;if(Pu){var Wu=st.simpleMap(Il.yr0,Kl.r2l),Yu=st.simpleMap(Il.yr1,Kl.r2l),ap=Wu[1]-Wu[0],rp=Yu[1]-Yu[0];bu[1]=(Wu[1]*(1-$l)+$l*Yu[1]-Wu[1])/(Wu[0]-Wu[1])*$u,bu[3]=$u*(1-$l+$l*rp/ap),Kl.range[0]=Jl.l2r(Wu[0]*(1-$l)+$l*Yu[0]),Kl.range[1]=Kl.l2r(Wu[1]*(1-$l)+$l*Yu[1])}else bu[1]=0,bu[3]=$u;Ft.drawOne(Fn,Jl,{skipTitle:!0}),Ft.drawOne(Fn,Kl,{skipTitle:!0}),Ft.redrawComponents(Fn,[Jl._id,Kl._id]);var sp=mu?Bl/bu[2]:1,bp=Pu?$u/bu[3]:1,Cp=mu?bu[0]:0,Ap=Pu?bu[1]:0,Lu=mu?bu[0]/bu[2]*Bl:0,Nu=Pu?bu[1]/bu[3]*$u:0,Hl=Jl._offset-Lu,qu=Kl._offset-Nu;Bu.clipRect.call(Ln.setTranslate,Cp,Ap).call(Ln.setScale,1/sp,1/bp),Bu.plot.call(Ln.setTranslate,Hl,qu).call(Ln.setScale,sp,bp),Ln.setPointGroupScale(Bu.zoomScalePts,1/sp,1/bp),Ln.setTextPointsScale(Bu.zoomScaleTxt,1/sp,1/bp)}var Pl;ot&&(Pl=ot());function Tl(){for(var Il={},$l=0;$l<zn.length;$l++){var Bu=zn[$l],Jl=Bu.plotinfo.xaxis,Kl=Bu.plotinfo.yaxis;Bu.xr1&&(Il[Jl._name+".range"]=Bu.xr1.slice()),Bu.yr1&&(Il[Kl._name+".range"]=Bu.yr1.slice())}return Pl&&Pl(),it.call("relayout",Fn,Il).then(function(){for(var Bl=0;Bl<zn.length;Bl++)ls(zn[Bl].plotinfo)})}function El(){for(var Il={},$l=0;$l<zn.length;$l++){var Bu=zn[$l],Jl=Bu.plotinfo.xaxis,Kl=Bu.plotinfo.yaxis;Bu.xr0&&(Il[Jl._name+".range"]=Bu.xr0.slice()),Bu.yr0&&(Il[Kl._name+".range"]=Bu.yr0.slice())}return it.call("relayout",Fn,Il).then(function(){for(var Bl=0;Bl<zn.length;Bl++)ls(zn[Bl].plotinfo)})}var Ml,Rl,Bn,Cl=jt.ease(yl.easing);Fn._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(Bn),Bn=null,El()});function Al(){Rl=Date.now();for(var Il=Math.min(1,(Rl-Ml)/yl.duration),$l=Cl(Il),Bu=0;Bu<zn.length;Bu++)Sl(zn[Bu],$l);Rl-Ml>yl.duration?(Tl(),Bn=window.cancelAnimationFrame(Al)):Bn=window.requestAnimationFrame(Al)}return Ml=Date.now(),Bn=window.requestAnimationFrame(Al),Promise.resolve()}}),W3=a(yu=>{var hu=g(),jt=N1(),it=gu(),st=_v(),Ln=q0(),Ft=ky().getModuleCalcData,Fn=rv(),zn=E1(),yl=Vv(),ot=it.ensureSingle;function _l(Rl,Bn,Cl){return it.ensureSingle(Rl,Bn,Cl,function(Al){Al.datum(Cl)})}var ls=zn.zindexSeparator;yu.name="cartesian",yu.attr=["xaxis","yaxis"],yu.idRoot=["x","y"],yu.idRegex=zn.idRegex,yu.attrRegex=zn.attrRegex,yu.attributes=jC(),yu.layoutAttributes=c0(),yu.supplyLayoutDefaults=qC(),yu.transitionAxes=YC(),yu.finalizeSubplots=function(Rl,Bn){var Cl=Bn._subplots,Al=Cl.xaxis,Il=Cl.yaxis,$l=Cl.cartesian,Bu=$l,Jl={},Kl={},Bl,$u,mu;for(Bl=0;Bl<Bu.length;Bl++){var Pu=Bu[Bl].split("y");Jl[Pu[0]]=1,Kl["y"+Pu[1]]=1}for(Bl=0;Bl<Al.length;Bl++)$u=Al[Bl],Jl[$u]||(mu=(Rl[Fn.id2name($u)]||{}).anchor,zn.idRegex.y.test(mu)||(mu="y"),$l.push($u+mu),Bu.push($u+mu),Kl[mu]||(Kl[mu]=1,it.pushUnique(Il,mu)));for(Bl=0;Bl<Il.length;Bl++)mu=Il[Bl],Kl[mu]||($u=(Rl[Fn.id2name(mu)]||{}).anchor,zn.idRegex.x.test($u)||($u="x"),$l.push($u+mu),Bu.push($u+mu),Jl[$u]||(Jl[$u]=1,it.pushUnique(Al,$u)));if(!Bu.length){$u="",mu="";for(var bu in Rl)if(zn.attrRegex.test(bu)){var Fu=bu.charAt(0);Fu==="x"?(!$u||+bu.substr(5)<+$u.substr(5))&&($u=bu):(!mu||+bu.substr(5)<+mu.substr(5))&&(mu=bu)}$u=$u?Fn.name2id($u):"x",mu=mu?Fn.name2id(mu):"y",Al.push($u),Il.push(mu),$l.push($u+mu)}},yu.plot=function(Rl,Bn,Cl,Al){var Il=Rl._fullLayout,$l=Il._subplots.cartesian,Bu=Rl.calcdata,Jl;if(!Array.isArray(Bn))for(Bn=[],Jl=0;Jl<Bu.length;Jl++)Bn.push(Jl);for(var Kl=Il._zindices,Bl=0;Bl<Kl.length;Bl++){var $u=Kl[Bl];for(Jl=0;Jl<$l.length;Jl++){var mu=$l[Jl],Pu=Il._plots[mu];if(Bl>0){var bu=Pu.id;if(bu.indexOf(ls)!==-1)continue;bu+=ls+(Bl+1),Pu=it.extendFlat({},Pu,{id:bu,plot:Il._cartesianlayer.selectAll(".subplot").select("."+bu)})}for(var Fu=[],Hu,Gu=0;Gu<Bu.length;Gu++){var Xl=Bu[Gu],Wu=Xl[0].trace;$u===(Wu.zorder||0)&&Wu.xaxis+Wu.yaxis===mu&&((Bn.indexOf(Wu.index)!==-1||Wu.carpet)&&(Hu&&Hu[0].trace.xaxis+Hu[0].trace.yaxis===mu&&["tonextx","tonexty","tonext"].indexOf(Wu.fill)!==-1&&Fu.indexOf(Hu)===-1&&Fu.push(Hu),Fu.push(Xl)),Hu=Xl)}Sl(Rl,Pu,Fu,Cl,Al)}}};function Sl(Rl,Bn,Cl,Al,Il){for(var $l=zn.traceLayerClasses,Bu=Rl._fullLayout,Jl=Bu._zindices,Kl=Bu._modules,Bl,$u,mu,Pu=[],bu=[],Fu=0;Fu<Jl.length;Fu++)for(var Hu=Jl[Fu],Gu=0;Gu<Kl.length;Gu++){Bl=Kl[Gu];var Xl=Bl.name,Wu=jt.modules[Xl].categories;if(Wu.svg){var Yu=Bl.layerName||Xl+"layer",ap=Yu+(Fu?Number(Fu)+1:""),rp=Bl.plot;$u=Ft(Cl,rp,Hu),mu=$u[0],Cl=$u[1],mu.length&&Pu.push({i:$l.indexOf(Yu),zindex:Fu,className:ap,plotMethod:rp,cdModule:mu}),Wu.zoomScale&&bu.push("."+ap)}}Pu.sort(function(Cp,Ap){return(Cp.zindex||0)-(Ap.zindex||0)||Cp.i-Ap.i});var sp=Bn.plot.selectAll("g.mlayer").data(Pu,function(Cp){return Cp.className});if(sp.enter().append("g").attr("class",function(Cp){return Cp.className}).classed("mlayer",!0).classed("rangeplot",Bn.isRangePlot),sp.exit().remove(),sp.order(),sp.each(function(Cp){var Ap=hu.select(this),Lu=Cp.className;Cp.plotMethod(Rl,Bn,Cp.cdModule,Ap,Al,Il),zn.clipOnAxisFalseQuery.indexOf("."+Lu)===-1&&Ln.setClipUrl(Ap,Bn.layerClipId,Rl)}),Bu._has("scattergl")&&(Bl=jt.getModule("scattergl"),mu=Ft(Cl,Bl)[0],Bl.plot(Rl,Bn,mu)),!Rl._context.staticPlot&&(Bn._hasClipOnAxisFalse&&(Bn.clipOnAxisFalseTraces=Bn.plot.selectAll(zn.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),bu.length)){var bp=Bn.plot.selectAll(bu.join(",")).selectAll(".trace");Bn.zoomScalePts=bp.selectAll("path.point"),Bn.zoomScaleTxt=bp.selectAll(".textpoint")}}yu.clean=function(Rl,Bn,Cl,Al){var Il=Al._plots||{},$l=Bn._plots||{},Bu=Al._subplots||{},Jl,Kl,Bl;if(Al._hasOnlyLargeSploms&&!Bn._hasOnlyLargeSploms)for(Bl in Il)Jl=Il[Bl],Jl.plotgroup&&Jl.plotgroup.remove();var $u=Al._has&&Al._has("gl"),mu=Bn._has&&Bn._has("gl");if($u&&!mu)for(Bl in Il)Jl=Il[Bl],Jl._scene&&Jl._scene.destroy();if(Bu.xaxis&&Bu.yaxis){var Pu=Fn.listIds({_fullLayout:Al});for(Kl=0;Kl<Pu.length;Kl++){var bu=Pu[Kl];Bn[Fn.id2name(bu)]||Al._infolayer.selectAll(".g-"+bu+"title").remove()}}var Fu=Al._has&&Al._has("cartesian"),Hu=Bn._has&&Bn._has("cartesian");if(Fu&&!Hu)El(Al._cartesianlayer.selectAll(".subplot"),Al),Al._defs.selectAll(".axesclip").remove(),delete Al._axisConstraintGroups,delete Al._axisMatchGroups;else if(Bu.cartesian)for(Kl=0;Kl<Bu.cartesian.length;Kl++){var Gu=Bu.cartesian[Kl];if(Gu.indexOf(ls)===-1&&!$l[Gu]){var Xl="."+Gu+",."+Gu+"-x,."+Gu+"-y";Al._cartesianlayer.selectAll(Xl).remove(),Ml(Gu,Al)}}},yu.drawFramework=function(Rl){var Bn=Rl._fullLayout,Cl=Rl.calcdata,Al,Il={};for(Al=0;Al<Cl.length;Al++){var $l=Cl[Al][0],Bu=$l.trace,Jl=Bu.zorder||0;Il[Jl]||(Il[Jl]=[]),Il[Jl].push($l)}var Kl=Object.keys(Il).map(Number).sort(it.sorterAsc);Kl.length||(Kl=[0]),Bn._zindices=Kl;var Bl=Pl(Rl),$u=Bl.length,mu=[];for(Al=0;Al<$u;Al++)mu[Al]=Bl[Al].slice();for(var Pu=1;Pu<Kl.length;Pu++){var bu=[];for(Al=0;Al<$u;Al++)bu[Al]=Bl[Al].slice(),bu[Al][0]+=ls+(Pu+1);mu=mu.concat(bu)}var Fu=Bn._cartesianlayer.selectAll(".subplot").data(mu,String);Fu.enter().append("g").attr("class",function(Hu){return"subplot "+Hu[0]}),Fu.order(),Fu.exit().call(El,Bn),Fu.each(function(Hu){var Gu=Hu[0],Xl=Gu.indexOf(ls),Wu=Xl!==-1,Yu=Wu?Gu.slice(0,Xl):Gu,ap=Bn._plots[Gu];ap||(ap=it.extendFlat({},Bn._plots[Yu]),ap&&(ap.id=Gu,Bn._plots[Gu]=ap,Bn._subplots.cartesian.push(Gu))),ap&&(ap.plotgroup=hu.select(this),Tl(Rl,ap),Wu||(ap.draglayer=ot(Bn._draggers,"g",Gu)))})},yu.rangePlot=function(Rl,Bn,Cl){Tl(Rl,Bn),Sl(Rl,Bn,Cl),st.style(Rl)};function Pl(Rl){var Bn=Rl._fullLayout,Cl=Bn._zindices.length,Al=Bn._subplots.cartesian,Il=Al.length,$l,Bu,Jl,Kl,Bl,$u,mu=[],Pu=[];for($l=0;$l<Il;$l++){Jl=Al[$l],Kl=Bn._plots[Jl],Bl=Kl.xaxis,$u=Kl.yaxis;var bu=Bl._mainAxis,Fu=$u._mainAxis,Hu=bu._id+Fu._id,Gu=Bn._plots[Hu];Kl.overlays=[],Hu!==Jl&&Gu?(Kl.mainplot=Hu,Kl.mainplotinfo=Gu,Pu.push(Jl)):(Kl.mainplot=void 0,Kl.mainplotinfo=void 0,mu.push(Jl))}for($l=0;$l<Pu.length;$l++)Jl=Pu[$l],Kl=Bn._plots[Jl],Kl.mainplotinfo.overlays.push(Kl);var Xl=mu.concat(Pu),Wu=[];for($l=0;$l<Il;$l++){Jl=Xl[$l],Kl=Bn._plots[Jl],Bl=Kl.xaxis,$u=Kl.yaxis;for(var Yu=[],ap=1;ap<=Cl;ap++){var rp="";for(ap>1&&(rp+=ls+ap),Yu.push(Jl+rp),Bu=0;Bu<Kl.overlays.length;Bu++)Yu.push(Kl.overlays[Bu].id+rp)}Yu=Yu.concat([Bl.layer,$u.layer,Bl.overlaying||"",$u.overlaying||""]),Wu.push(Yu)}return Wu}function Tl(Rl,Bn){var Cl=Rl._fullLayout,Al=Bn.plotgroup,Il=Bn.id,$l=Il.indexOf(ls),Bu=$l!==-1,Jl=zn.layerValue2layerClass[Bn.xaxis.layer],Kl=zn.layerValue2layerClass[Bn.yaxis.layer],Bl=Cl._hasOnlyLargeSploms,$u=Cl._zindices.length>1,mu=Bn.mainplotinfo;if(!Bn.mainplot||$u)if(Bl)Bn.xlines=ot(Al,"path","xlines-above"),Bn.ylines=ot(Al,"path","ylines-above"),Bn.xaxislayer=ot(Al,"g","xaxislayer-above"),Bn.yaxislayer=ot(Al,"g","yaxislayer-above");else{if(!Bu){var Pu=ot(Al,"g","layer-subplot");Bn.shapelayer=ot(Pu,"g","shapelayer"),Bn.imagelayer=ot(Pu,"g","imagelayer"),mu&&$u?(Bn.minorGridlayer=mu.minorGridlayer,Bn.gridlayer=mu.gridlayer,Bn.zerolinelayer=mu.zerolinelayer):(Bn.minorGridlayer=ot(Al,"g","minor-gridlayer"),Bn.gridlayer=ot(Al,"g","gridlayer"),Bn.zerolinelayer=ot(Al,"g","zerolinelayer"));var bu=ot(Al,"g","layer-between");Bn.shapelayerBetween=ot(bu,"g","shapelayer"),Bn.imagelayerBetween=ot(bu,"g","imagelayer"),ot(Al,"path","xlines-below"),ot(Al,"path","ylines-below"),Bn.overlinesBelow=ot(Al,"g","overlines-below"),ot(Al,"g","xaxislayer-below"),ot(Al,"g","yaxislayer-below"),Bn.overaxesBelow=ot(Al,"g","overaxes-below")}Bn.overplot=ot(Al,"g","overplot"),Bn.plot=ot(Bn.overplot,"g",Il),mu&&$u?Bn.zerolinelayerAbove=mu.zerolinelayerAbove:Bn.zerolinelayerAbove=ot(Al,"g","zerolinelayer-above"),Bu||(Bn.xlines=ot(Al,"path","xlines-above"),Bn.ylines=ot(Al,"path","ylines-above"),Bn.overlinesAbove=ot(Al,"g","overlines-above"),ot(Al,"g","xaxislayer-above"),ot(Al,"g","yaxislayer-above"),Bn.overaxesAbove=ot(Al,"g","overaxes-above"),Bn.xlines=Al.select(".xlines-"+Jl),Bn.ylines=Al.select(".ylines-"+Kl),Bn.xaxislayer=Al.select(".xaxislayer-"+Jl),Bn.yaxislayer=Al.select(".yaxislayer-"+Kl))}else{var Fu=mu.plotgroup,Hu=Il+"-x",Gu=Il+"-y";Bn.minorGridlayer=mu.minorGridlayer,Bn.gridlayer=mu.gridlayer,Bn.zerolinelayer=mu.zerolinelayer,Bn.zerolinelayerAbove=mu.zerolinelayerAbove,ot(mu.overlinesBelow,"path",Hu),ot(mu.overlinesBelow,"path",Gu),ot(mu.overaxesBelow,"g",Hu),ot(mu.overaxesBelow,"g",Gu),Bn.plot=ot(mu.overplot,"g",Il),ot(mu.overlinesAbove,"path",Hu),ot(mu.overlinesAbove,"path",Gu),ot(mu.overaxesAbove,"g",Hu),ot(mu.overaxesAbove,"g",Gu),Bn.xlines=Fu.select(".overlines-"+Jl).select("."+Hu),Bn.ylines=Fu.select(".overlines-"+Kl).select("."+Gu),Bn.xaxislayer=Fu.select(".overaxes-"+Jl).select("."+Hu),Bn.yaxislayer=Fu.select(".overaxes-"+Kl).select("."+Gu)}Bu||(Bl||(_l(Bn.minorGridlayer,"g",Bn.xaxis._id),_l(Bn.minorGridlayer,"g",Bn.yaxis._id),Bn.minorGridlayer.selectAll("g").map(function(Xl){return Xl[0]}).sort(Fn.idSort),_l(Bn.gridlayer,"g",Bn.xaxis._id),_l(Bn.gridlayer,"g",Bn.yaxis._id),Bn.gridlayer.selectAll("g").map(function(Xl){return Xl[0]}).sort(Fn.idSort)),Bn.xlines.style("fill","none").classed("crisp",!0),Bn.ylines.style("fill","none").classed("crisp",!0))}function El(Rl,Bn){if(Rl){var Cl={};Rl.each(function(Kl){var Bl=Kl[0],$u=hu.select(this);$u.remove(),Ml(Bl,Bn),Cl[Bl]=!0});for(var Al in Bn._plots)for(var Il=Bn._plots[Al],$l=Il.overlays||[],Bu=0;Bu<$l.length;Bu++){var Jl=$l[Bu];Cl[Jl.id]&&Jl.plot.selectAll(".trace").remove()}}}function Ml(Rl,Bn){Bn._draggers.selectAll("g."+Rl).remove(),Bn._defs.select("#clip"+Bn._uid+Rl+"plot").remove()}yu.toSVG=function(Rl){var Bn=Rl._fullLayout._glimages,Cl=hu.select(Rl).selectAll(".svg-container"),Al=Cl.filter(function($l,Bu){return Bu===Cl.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function Il(){var $l=this,Bu=$l.toDataURL("image/png"),Jl=Bn.append("svg:image");Jl.attr({xmlns:yl.svg,"xlink:href":Bu,preserveAspectRatio:"none",x:0,y:0,width:$l.style.width,height:$l.style.height})}Al.each(Il)},yu.updateFx=Tx().updateFx}),KC=a((yu,hu)=>{var jt=Qp();hu.exports={hasLines:jt.hasLines,hasMarkers:jt.hasMarkers,hasText:jt.hasText,isBubble:jt.isBubble,attributes:h3(),layoutAttributes:Xv(),supplyDefaults:RC(),crossTraceDefaults:FC(),supplyLayoutDefaults:PC(),calc:Bx().calc,crossTraceCalc:IC(),arraysToCalcdata:zx(),plot:NC(),colorbar:Hx(),formatLabels:BC(),style:Gx().style,styleOnSelect:Gx().styleOnSelect,hoverPoints:HC(),selectPoints:GC(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:W3(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}),XC=a((yu,hu)=>{var jt=g(),it=D0(),st=h2(),Ln=gu(),Ft=Ln.strScale,Fn=Ln.strRotate,zn=Ln.strTranslate;hu.exports=function(yl,ot,_l){var ls=yl.node(),Sl=st[_l.arrowhead||0],Pl=st[_l.startarrowhead||0],Tl=(_l.arrowwidth||1)*(_l.arrowsize||1),El=(_l.arrowwidth||1)*(_l.startarrowsize||1),Ml=ot.indexOf("start")>=0,Rl=ot.indexOf("end")>=0,Bn=Sl.backoff*Tl+_l.standoff,Cl=Pl.backoff*El+_l.startstandoff,Al,Il,$l,Bu;if(ls.nodeName==="line"){Al={x:+yl.attr("x1"),y:+yl.attr("y1")},Il={x:+yl.attr("x2"),y:+yl.attr("y2")};var Jl=Al.x-Il.x,Kl=Al.y-Il.y;if($l=Math.atan2(Kl,Jl),Bu=$l+Math.PI,Bn&&Cl&&Bn+Cl>Math.sqrt(Jl*Jl+Kl*Kl)){ap();return}if(Bn){if(Bn*Bn>Jl*Jl+Kl*Kl){ap();return}var Bl=Bn*Math.cos($l),$u=Bn*Math.sin($l);Il.x+=Bl,Il.y+=$u,yl.attr({x2:Il.x,y2:Il.y})}if(Cl){if(Cl*Cl>Jl*Jl+Kl*Kl){ap();return}var mu=Cl*Math.cos($l),Pu=Cl*Math.sin($l);Al.x-=mu,Al.y-=Pu,yl.attr({x1:Al.x,y1:Al.y})}}else if(ls.nodeName==="path"){var bu=ls.getTotalLength(),Fu="";if(bu<Bn+Cl){ap();return}var Hu=ls.getPointAtLength(0),Gu=ls.getPointAtLength(.1);$l=Math.atan2(Hu.y-Gu.y,Hu.x-Gu.x),Al=ls.getPointAtLength(Math.min(Cl,bu)),Fu="0px,"+Cl+"px,";var Xl=ls.getPointAtLength(bu),Wu=ls.getPointAtLength(bu-.1);Bu=Math.atan2(Xl.y-Wu.y,Xl.x-Wu.x),Il=ls.getPointAtLength(Math.max(0,bu-Bn));var Yu=Fu?Cl+Bn:Bn;Fu+=bu-Yu+"px,"+bu+"px",yl.style("stroke-dasharray",Fu)}function ap(){yl.style("stroke-dasharray","0px,100px")}function rp(sp,bp,Cp,Ap){sp.path&&(sp.noRotate&&(Cp=0),jt.select(ls.parentNode).append("path").attr({class:yl.attr("class"),d:sp.path,transform:zn(bp.x,bp.y)+Fn(Cp*180/Math.PI)+Ft(Ap)}).style({fill:it.rgb(_l.arrowcolor),"stroke-width":0}))}Ml&&rp(Pl,Al,$l,El),Rl&&rp(Sl,Il,Bu,Tl)}}),q3=a((yu,hu)=>{var jt=g(),it=N1(),st=_v(),Ln=gu(),Ft=Ln.strTranslate,Fn=bm(),zn=D0(),yl=q0(),ot=Ey(),_l=hy(),ls=y1(),Sl=Pm(),Pl=d1().arrayEditor,Tl=XC();hu.exports={draw:El,drawOne:Ml,drawRaw:Bn};function El(Cl){var Al=Cl._fullLayout;Al._infolayer.selectAll(".annotation").remove();for(var Il=0;Il<Al.annotations.length;Il++)Al.annotations[Il].visible&&Ml(Cl,Il);return st.previousPromises(Cl)}function Ml(Cl,Al){var Il=Cl._fullLayout,$l=Il.annotations[Al]||{},Bu=Fn.getFromId(Cl,$l.xref),Jl=Fn.getFromId(Cl,$l.yref);Bu&&Bu.setScale(),Jl&&Jl.setScale(),Bn(Cl,$l,Al,!1,Bu,Jl)}function Rl(Cl,Al,Il,$l,Bu){var Jl=Bu[Il],Kl=Bu[Il+"ref"],Bl=Il.indexOf("y")!==-1,$u=Fn.getRefType(Kl)==="domain",mu=Bl?$l.h:$l.w;return Cl?$u?Jl+(Bl?-Al:Al)/Cl._length:Cl.p2r(Cl.r2p(Jl)+Al):Jl+(Bl?-Al:Al)/mu}function Bn(Cl,Al,Il,$l,Bu,Jl){var Kl=Cl._fullLayout,Bl=Cl._fullLayout._size,$u=Cl._context.edits,mu,Pu;$l?(mu="annotation-"+$l,Pu=$l+".annotations"):(mu="annotation",Pu="annotations");var bu=Pl(Cl.layout,Pu,Al),Fu=bu.modifyBase,Hu=bu.modifyItem,Gu=bu.getUpdateObj;Kl._infolayer.selectAll("."+mu+'[data-index="'+Il+'"]').remove();var Xl="clip"+Kl._uid+"_ann"+Il;if(!Al._input||Al.visible===!1){jt.selectAll("#"+Xl).remove();return}var Wu={x:{},y:{}},Yu=+Al.textangle||0,ap=Kl._infolayer.append("g").classed(mu,!0).attr("data-index",String(Il)).style("opacity",Al.opacity),rp=ap.append("g").classed("annotation-text-g",!0),sp=$u[Al.showarrow?"annotationTail":"annotationPosition"],bp=Al.captureevents||$u.annotationText||sp;function Cp(pp){var vp={index:Il,annotation:Al._input,fullAnnotation:Al,event:pp};return $l&&(vp.subplotId=$l),vp}var Ap=rp.append("g").style("pointer-events",bp?"all":null).call(ls,"pointer").on("click",function(){Cl._dragging=!1,Cl.emit("plotly_clickannotation",Cp(jt.event))});Al.hovertext&&Ap.on("mouseover",function(){var pp=Al.hoverlabel,vp=pp.font,Pp=this.getBoundingClientRect(),Gp=Cl.getBoundingClientRect();ot.loneHover({x0:Pp.left-Gp.left,x1:Pp.right-Gp.left,y:(Pp.top+Pp.bottom)/2-Gp.top,text:Al.hovertext,color:pp.bgcolor,borderColor:pp.bordercolor,fontFamily:vp.family,fontSize:vp.size,fontColor:vp.color,fontWeight:vp.weight,fontStyle:vp.style,fontVariant:vp.variant,fontShadow:vp.fontShadow,fontLineposition:vp.fontLineposition,fontTextcase:vp.fontTextcase},{container:Kl._hoverlayer.node(),outerContainer:Kl._paper.node(),gd:Cl})}).on("mouseout",function(){ot.loneUnhover(Kl._hoverlayer.node())});var Lu=Al.borderwidth,Nu=Al.borderpad,Hl=Lu+Nu,qu=Ap.append("rect").attr("class","bg").style("stroke-width",Lu+"px").call(zn.stroke,Al.bordercolor).call(zn.fill,Al.bgcolor),np=Al.width||Al.height,vu=Kl._topclips.selectAll("#"+Xl).data(np?[0]:[]);vu.enter().append("clipPath").classed("annclip",!0).attr("id",Xl).append("rect"),vu.exit().remove();var Ol=Al.font,Wl=Kl._meta?Ln.templateString(Al.text,Kl._meta):Al.text,Mu=Ap.append("text").classed("annotation-text",!0).text(Wl);function zu(pp){return pp.call(yl.font,Ol).attr({"text-anchor":{left:"start",right:"end"}[Al.align]||"middle"}),_l.convertToTspans(pp,Cl,ip),pp}function ip(){var pp=Mu.selectAll("a");if(pp.size()===1&&pp.text()===Mu.text()){var vp=Ap.insert("a",":first-child").attr({"xlink:xlink:href":pp.attr("xlink:href"),"xlink:xlink:show":pp.attr("xlink:show")}).style({cursor:"pointer"});vp.node().appendChild(qu.node())}var Pp=Ap.select(".annotation-text-math-group"),Gp=!Pp.empty(),r0=yl.bBox((Gp?Pp:Mu).node()),C0=r0.width,f0=r0.height,d0=Al.width||C0,Sp=Al.height||f0,Fp=Math.round(d0+2*Hl),cp=Math.round(Sp+2*Hl);function jp(zm,xm){return xm==="auto"&&(zm<1/3?xm="left":zm>2/3?xm="right":xm="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[xm]}for(var a0=!1,y0=["x","y"],P0=0;P0<y0.length;P0++){var E0=y0[P0],O0=Al[E0+"ref"]||E0,j0=Al["a"+E0+"ref"],$0={x:Bu,y:Jl}[E0],tm=(Yu+(E0==="x"?0:-90))*Math.PI/180,A0=Fp*Math.cos(tm),sm=cp*Math.sin(tm),pm=Math.abs(A0)+Math.abs(sm),nm=Al[E0+"anchor"],vm=Al[E0+"shift"]*(E0==="x"?1:-1),kp=Wu[E0],qp,Xu,hp,yp,Dp,Bp=Fn.getRefType(O0);if($0&&Bp!=="domain"){var Jp=$0.r2fraction(Al[E0]);(Jp<0||Jp>1)&&(j0===O0?(Jp=$0.r2fraction(Al["a"+E0]),(Jp<0||Jp>1)&&(a0=!0)):a0=!0),qp=$0._offset+$0.r2p(Al[E0]),yp=.5}else{var n0=Bp==="domain";E0==="x"?(hp=Al[E0],qp=n0?$0._offset+$0._length*hp:qp=Bl.l+Bl.w*hp):(hp=1-Al[E0],qp=n0?$0._offset+$0._length*hp:qp=Bl.t+Bl.h*hp),yp=Al.showarrow?.5:hp}if(Al.showarrow){kp.head=qp;var b0=Al["a"+E0];if(Dp=A0*jp(.5,Al.xanchor)-sm*jp(.5,Al.yanchor),j0===O0){var v0=Fn.getRefType(j0);v0==="domain"?(E0==="y"&&(b0=1-b0),kp.tail=$0._offset+$0._length*b0):v0==="paper"?E0==="y"?(b0=1-b0,kp.tail=Bl.t+Bl.h*b0):kp.tail=Bl.l+Bl.w*b0:kp.tail=$0._offset+$0.r2p(b0),Xu=Dp}else kp.tail=qp+b0,Xu=Dp+b0;kp.text=kp.tail+Dp;var x0=Kl[E0==="x"?"width":"height"];if(O0==="paper"&&(kp.head=Ln.constrain(kp.head,1,x0-1)),j0==="pixel"){var U0=-Math.max(kp.tail-3,kp.text),W0=Math.min(kp.tail+3,kp.text)-x0;U0>0?(kp.tail+=U0,kp.text+=U0):W0>0&&(kp.tail-=W0,kp.text-=W0)}kp.tail+=vm,kp.head+=vm}else Dp=pm*jp(yp,nm),Xu=Dp,kp.text=qp+Dp;kp.text+=vm,Dp+=vm,Xu+=vm,Al["_"+E0+"padplus"]=pm/2+Xu,Al["_"+E0+"padminus"]=pm/2-Xu,Al["_"+E0+"size"]=pm,Al["_"+E0+"shift"]=Dp}if(a0){Ap.remove();return}var Y0=0,gm=0;if(Al.align!=="left"&&(Y0=(d0-C0)*(Al.align==="center"?.5:1)),Al.valign!=="top"&&(gm=(Sp-f0)*(Al.valign==="middle"?.5:1)),Gp)Pp.select("svg").attr({x:Hl+Y0-1,y:Hl+gm}).call(yl.setClipUrl,np?Xl:null,Cl);else{var Dm=Hl+gm-r0.top,Jm=Hl+Y0-r0.left;Mu.call(_l.positionText,Jm,Dm).call(yl.setClipUrl,np?Xl:null,Cl)}vu.select("rect").call(yl.setRect,Hl,Hl,d0,Sp),qu.call(yl.setRect,Lu/2,Lu/2,Fp-Lu,cp-Lu),Ap.call(yl.setTranslate,Math.round(Wu.x.text-Fp/2),Math.round(Wu.y.text-cp/2)),rp.attr({transform:"rotate("+Yu+","+Wu.x.text+","+Wu.y.text+")"});var a1=function(zm,xm){ap.selectAll(".annotation-arrow-g").remove();var Qm=Wu.x.head,l1=Wu.y.head,Xm=Wu.x.tail+zm,jm=Wu.y.tail+xm,Wm=Wu.x.text+zm,Om=Wu.y.text+xm,A1=Ln.rotationXYMatrix(Yu,Wm,Om),B1=Ln.apply2DTransform(A1),o1=Ln.apply2DTransform2(A1),$1=+qu.attr("width"),X1=+qu.attr("height"),cv=Wm-.5*$1,dv=cv+$1,L1=Om-.5*X1,iv=L1+X1,W1=[[cv,L1,cv,iv],[cv,iv,dv,iv],[dv,iv,dv,L1],[dv,L1,cv,L1]].map(o1);if(!W1.reduce(function(M0,L0){return M0^!!Ln.segmentsIntersect(Qm,l1,Qm+1e6,l1+1e6,L0[0],L0[1],L0[2],L0[3])},!1)){W1.forEach(function(M0){var L0=Ln.segmentsIntersect(Xm,jm,Qm,l1,M0[0],M0[1],M0[2],M0[3]);L0&&(Xm=L0.x,jm=L0.y)});var Hm=Al.arrowwidth,Tv=Al.arrowcolor,ep=Al.arrowside,Qu=ap.append("g").style({opacity:zn.opacity(Tv)}).classed("annotation-arrow-g",!0),Up=Qu.append("path").attr("d","M"+Xm+","+jm+"L"+Qm+","+l1).style("stroke-width",Hm+"px").call(zn.stroke,zn.rgb(Tv));if(Tl(Up,ep,Al),$u.annotationPosition&&Up.node().parentNode&&!$l){var _f=Qm,u0=l1;if(Al.standoff){var Vp=Math.sqrt(Math.pow(Qm-Xm,2)+Math.pow(l1-jm,2));_f+=Al.standoff*(Xm-Qm)/Vp,u0+=Al.standoff*(jm-l1)/Vp}var Yp=Qu.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Xm-_f)+","+(jm-u0),transform:Ft(_f,u0)}).style("stroke-width",Hm+6+"px").call(zn.stroke,"rgba(0,0,0,0)").call(zn.fill,"rgba(0,0,0,0)"),p0,o0;Sl.init({element:Yp.node(),gd:Cl,prepFn:function(){var M0=yl.getTranslate(Ap);p0=M0.x,o0=M0.y,Bu&&Bu.autorange&&Fu(Bu._name+".autorange",!0),Jl&&Jl.autorange&&Fu(Jl._name+".autorange",!0)},moveFn:function(M0,L0){var rm=B1(p0,o0),Tm=rm[0]+M0,Mm=rm[1]+L0;Ap.call(yl.setTranslate,Tm,Mm),Hu("x",Rl(Bu,M0,"x",Bl,Al)),Hu("y",Rl(Jl,L0,"y",Bl,Al)),Al.axref===Al.xref&&Hu("ax",Rl(Bu,M0,"ax",Bl,Al)),Al.ayref===Al.yref&&Hu("ay",Rl(Jl,L0,"ay",Bl,Al)),Qu.attr("transform",Ft(M0,L0)),rp.attr({transform:"rotate("+Yu+","+Tm+","+Mm+")"})},doneFn:function(){it.call("_guiRelayout",Cl,Gu());var M0=document.querySelector(".js-notes-box-panel");M0&&M0.redraw(M0.selectedObj)}})}}};if(Al.showarrow&&a1(0,0),sp){var h1;Sl.init({element:Ap.node(),gd:Cl,prepFn:function(){h1=rp.attr("transform")},moveFn:function(zm,xm){var Qm="pointer";if(Al.showarrow)Al.axref===Al.xref?Hu("ax",Rl(Bu,zm,"ax",Bl,Al)):Hu("ax",Al.ax+zm),Al.ayref===Al.yref?Hu("ay",Rl(Jl,xm,"ay",Bl.w,Al)):Hu("ay",Al.ay+xm),a1(zm,xm);else{if($l)return;var l1,Xm;if(Bu)l1=Rl(Bu,zm,"x",Bl,Al);else{var jm=Al._xsize/Bl.w,Wm=Al.x+(Al._xshift-Al.xshift)/Bl.w-jm/2;l1=Sl.align(Wm+zm/Bl.w,jm,0,1,Al.xanchor)}if(Jl)Xm=Rl(Jl,xm,"y",Bl,Al);else{var Om=Al._ysize/Bl.h,A1=Al.y-(Al._yshift+Al.yshift)/Bl.h-Om/2;Xm=Sl.align(A1-xm/Bl.h,Om,0,1,Al.yanchor)}Hu("x",l1),Hu("y",Xm),(!Bu||!Jl)&&(Qm=Sl.getCursor(Bu?.5:l1,Jl?.5:Xm,Al.xanchor,Al.yanchor))}rp.attr({transform:Ft(zm,xm)+h1}),ls(Ap,Qm)},clickFn:function(zm,xm){Al.captureevents&&Cl.emit("plotly_clickannotation",Cp(xm))},doneFn:function(){ls(Ap),it.call("_guiRelayout",Cl,Gu());var zm=document.querySelector(".js-notes-box-panel");zm&&zm.redraw(zm.selectedObj)}})}}$u.annotationText?Mu.call(_l.makeEditable,{delegate:Ap,gd:Cl}).call(zu).on("edit",function(pp){Al.text=pp,this.call(zu),Hu("text",pp),Bu&&Bu.autorange&&Fu(Bu._name+".autorange",!0),Jl&&Jl.autorange&&Fu(Jl._name+".autorange",!0),it.call("_guiRelayout",Cl,Gu())}):Mu.call(zu)}}),ZC=a((yu,hu)=>{var jt=gu(),it=N1(),st=d1().arrayEditor;hu.exports={hasClickToShow:Ln,onClick:Ft};function Ln(yl,ot){var _l=Fn(yl,ot);return _l.on.length>0||_l.explicitOff.length>0}function Ft(yl,ot){var _l=Fn(yl,ot),ls=_l.on,Sl=_l.off.concat(_l.explicitOff),Pl={},Tl=yl._fullLayout.annotations,El,Ml;if(ls.length||Sl.length){for(El=0;El<ls.length;El++)Ml=st(yl.layout,"annotations",Tl[ls[El]]),Ml.modifyItem("visible",!0),jt.extendFlat(Pl,Ml.getUpdateObj());for(El=0;El<Sl.length;El++)Ml=st(yl.layout,"annotations",Tl[Sl[El]]),Ml.modifyItem("visible",!1),jt.extendFlat(Pl,Ml.getUpdateObj());return it.call("update",yl,{},Pl)}}function Fn(yl,ot){var _l=yl._fullLayout.annotations,ls=[],Sl=[],Pl=[],Tl=(ot||[]).length,El,Ml,Rl,Bn,Cl,Al,Il,$l;for(El=0;El<_l.length;El++)if(Rl=_l[El],Bn=Rl.clicktoshow,Bn){for(Ml=0;Ml<Tl;Ml++)if(Cl=ot[Ml],Al=Cl.xaxis,Il=Cl.yaxis,Al._id===Rl.xref&&Il._id===Rl.yref&&Al.d2r(Cl.x)===zn(Rl._xclick,Al)&&Il.d2r(Cl.y)===zn(Rl._yclick,Il)){Rl.visible?Bn==="onout"?$l=Sl:$l=Pl:$l=ls,$l.push(El);break}Ml===Tl&&Rl.visible&&Bn==="onout"&&Sl.push(El)}return{on:ls,off:Sl,explicitOff:Pl}}function zn(yl,ot){return ot.type==="log"?ot.l2r(yl):ot.d2r(yl)}}),Ux=a((yu,hu)=>{var jt=gu(),it=D0();hu.exports=function(st,Ln,Ft,Fn){Fn("opacity");var zn=Fn("bgcolor"),yl=Fn("bordercolor"),ot=it.opacity(yl);Fn("borderpad");var _l=Fn("borderwidth"),ls=Fn("showarrow");Fn("text",ls?" ":Ft._dfltTitle.annotation),Fn("textangle"),jt.coerceFont(Fn,"font",Ft.font),Fn("width"),Fn("align");var Sl=Fn("height");if(Sl&&Fn("valign"),ls){var Pl=Fn("arrowside"),Tl,El;Pl.indexOf("end")!==-1&&(Tl=Fn("arrowhead"),El=Fn("arrowsize")),Pl.indexOf("start")!==-1&&(Fn("startarrowhead",Tl),Fn("startarrowsize",El)),Fn("arrowcolor",ot?Ln.bordercolor:it.defaultLine),Fn("arrowwidth",(ot&&_l||1)*2),Fn("standoff"),Fn("startstandoff")}var Ml=Fn("hovertext"),Rl=Ft.hoverlabel||{};if(Ml){var Bn=Fn("hoverlabel.bgcolor",Rl.bgcolor||(it.opacity(zn)?it.rgb(zn):it.defaultLine)),Cl=Fn("hoverlabel.bordercolor",Rl.bordercolor||it.contrast(Bn)),Al=jt.extendFlat({},Rl.font);Al.color||(Al.color=Cl),jt.coerceFont(Fn,"hoverlabel.font",Al)}Fn("captureevents",!!Ml)}}),QC=a((yu,hu)=>{var jt=gu(),it=bm(),st=_d(),Ln=Ux(),Ft=q2();hu.exports=function(zn,yl){st(zn,yl,{name:"annotations",handleItemDefaults:Fn})};function Fn(zn,yl,ot){function _l(Bl,$u){return jt.coerce(zn,yl,Ft,Bl,$u)}var ls=_l("visible"),Sl=_l("clicktoshow");if(ls||Sl){Ln(zn,yl,ot,_l);for(var Pl=yl.showarrow,Tl=["x","y"],El=[-10,-30],Ml={_fullLayout:ot},Rl=0;Rl<2;Rl++){var Bn=Tl[Rl],Cl=it.coerceRef(zn,yl,Ml,Bn,"","paper");if(Cl!=="paper"){var Al=it.getFromId(Ml,Cl);Al._annIndices.push(yl._index)}if(it.coercePosition(yl,Ml,_l,Cl,Bn,.5),Pl){var Il="a"+Bn,$l=it.coerceRef(zn,yl,Ml,Il,"pixel",["pixel","paper"]);$l!=="pixel"&&$l!==Cl&&($l=yl[Il]="pixel");var Bu=$l==="pixel"?El[Rl]:.4;it.coercePosition(yl,Ml,_l,$l,Il,Bu)}_l(Bn+"anchor"),_l(Bn+"shift")}if(jt.noneOrAll(zn,yl,["x","y"]),Pl&&jt.noneOrAll(zn,yl,["ax","ay"]),Sl){var Jl=_l("xclick"),Kl=_l("yclick");yl._xclick=Jl===void 0?yl.x:it.cleanPosition(Jl,Ml,yl.xref),yl._yclick=Kl===void 0?yl.y:it.cleanPosition(Kl,Ml,yl.yref)}}}}),JC=a((yu,hu)=>{var jt=gu(),it=bm(),st=q3().draw;hu.exports=function(Fn){var zn=Fn._fullLayout,yl=jt.filterVisible(zn.annotations);if(yl.length&&Fn._fullData.length)return jt.syncOrAsync([st,Ln],Fn)};function Ln(Fn){var zn=Fn._fullLayout;jt.filterVisible(zn.annotations).forEach(function(yl){var ot=it.getFromId(Fn,yl.xref),_l=it.getFromId(Fn,yl.yref),ls=it.getRefType(yl.xref),Sl=it.getRefType(yl.yref);yl._extremes={},ls==="range"&&Ft(yl,ot),Sl==="range"&&Ft(yl,_l)})}function Ft(Fn,zn){var yl=zn._id,ot=yl.charAt(0),_l=Fn[ot],ls=Fn["a"+ot],Sl=Fn[ot+"ref"],Pl=Fn["a"+ot+"ref"],Tl=Fn["_"+ot+"padplus"],El=Fn["_"+ot+"padminus"],Ml={x:1,y:-1}[ot]*Fn[ot+"shift"],Rl=3*Fn.arrowsize*Fn.arrowwidth||0,Bn=Rl+Ml,Cl=Rl-Ml,Al=3*Fn.startarrowsize*Fn.arrowwidth||0,Il=Al+Ml,$l=Al-Ml,Bu;if(Pl===Sl){var Jl=it.findExtremes(zn,[zn.r2c(_l)],{ppadplus:Bn,ppadminus:Cl}),Kl=it.findExtremes(zn,[zn.r2c(ls)],{ppadplus:Math.max(Tl,Il),ppadminus:Math.max(El,$l)});Bu={min:[Jl.min[0],Kl.min[0]],max:[Jl.max[0],Kl.max[0]]}}else Il=ls?Il+ls:Il,$l=ls?$l-ls:$l,Bu=it.findExtremes(zn,[zn.r2c(_l)],{ppadplus:Math.max(Tl,Bn,Il),ppadminus:Math.max(El,Cl,$l)});Fn._extremes[yl]=Bu}}),e5=a((yu,hu)=>{var jt=rt(),it=Ul();hu.exports=function(st,Ln,Ft,Fn){Ln=Ln||{};var zn=Ft==="log"&&Ln.type==="linear",yl=Ft==="linear"&&Ln.type==="log";if(!(zn||yl))return;var ot=st._fullLayout.annotations,_l=Ln._id.charAt(0),ls,Sl;function Pl(El){var Ml=ls[El],Rl=null;zn?Rl=it(Ml,Ln.range):Rl=Math.pow(10,Ml),jt(Rl)||(Rl=null),Fn(Sl+El,Rl)}for(var Tl=0;Tl<ot.length;Tl++)ls=ot[Tl],Sl="annotations["+Tl+"].",ls[_l+"ref"]===Ln._id&&Pl(_l),ls["a"+_l+"ref"]===Ln._id&&Pl("a"+_l)}}),t5=a((yu,hu)=>{var jt=q3(),it=ZC();hu.exports={moduleType:"component",name:"annotations",layoutAttributes:q2(),supplyLayoutDefaults:QC(),includeBasePlot:S3()("annotations"),calcAutorange:JC(),draw:jt.draw,drawOne:jt.drawOne,drawRaw:jt.drawRaw,hasClickToShow:it.hasClickToShow,onClick:it.onClick,convertCoords:e5()}}),Y3=a((yu,hu)=>{var jt=q2(),it=x1().overrideAll,st=d1().templatedArray;hu.exports=it(st("annotation",{visible:jt.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:jt.xanchor,xshift:jt.xshift,yanchor:jt.yanchor,yshift:jt.yshift,text:jt.text,textangle:jt.textangle,font:jt.font,width:jt.width,height:jt.height,opacity:jt.opacity,align:jt.align,valign:jt.valign,bgcolor:jt.bgcolor,bordercolor:jt.bordercolor,borderpad:jt.borderpad,borderwidth:jt.borderwidth,showarrow:jt.showarrow,arrowcolor:jt.arrowcolor,arrowhead:jt.arrowhead,startarrowhead:jt.startarrowhead,arrowside:jt.arrowside,arrowsize:jt.arrowsize,startarrowsize:jt.startarrowsize,arrowwidth:jt.arrowwidth,standoff:jt.standoff,startstandoff:jt.startstandoff,hovertext:jt.hovertext,hoverlabel:jt.hoverlabel,captureevents:jt.captureevents}),"calc","from-root")}),r5=a((yu,hu)=>{var jt=gu(),it=bm(),st=_d(),Ln=Ux(),Ft=Y3();hu.exports=function(zn,yl,ot){st(zn,yl,{name:"annotations",handleItemDefaults:Fn,fullLayout:ot.fullLayout})};function Fn(zn,yl,ot,_l){function ls(Tl,El){return jt.coerce(zn,yl,Ft,Tl,El)}function Sl(Tl){var El=Tl+"axis",Ml={_fullLayout:{}};return Ml._fullLayout[El]=ot[El],it.coercePosition(yl,Ml,ls,Tl,Tl,.5)}var Pl=ls("visible");Pl&&(Ln(zn,yl,_l.fullLayout,ls),Sl("x"),Sl("y"),Sl("z"),jt.noneOrAll(zn,yl,["x","y","z"]),yl.xref="x",yl.yref="y",yl.zref="z",ls("xanchor"),ls("yanchor"),ls("xshift"),ls("yshift"),yl.showarrow&&(yl.axref="pixel",yl.ayref="pixel",ls("ax",-10),ls("ay",-30),jt.noneOrAll(zn,yl,["ax","ay"])))}}),n5=a((yu,hu)=>{var jt=gu(),it=bm();hu.exports=function(Ln){for(var Ft=Ln.fullSceneLayout,Fn=Ft.annotations,zn=0;zn<Fn.length;zn++)st(Fn[zn],Ln);Ln.fullLayout._infolayer.selectAll(".annotation-"+Ln.id).remove()};function st(Ln,Ft){var Fn=Ft.fullSceneLayout,zn=Fn.domain,yl=Ft.fullLayout._size,ot={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};Ln._xa={},jt.extendFlat(Ln._xa,ot),it.setConvert(Ln._xa),Ln._xa._offset=yl.l+zn.x[0]*yl.w,Ln._xa.l2p=function(){return .5*(1+Ln._pdata[0]/Ln._pdata[3])*yl.w*(zn.x[1]-zn.x[0])},Ln._ya={},jt.extendFlat(Ln._ya,ot),it.setConvert(Ln._ya),Ln._ya._offset=yl.t+(1-zn.y[1])*yl.h,Ln._ya.l2p=function(){return .5*(1-Ln._pdata[1]/Ln._pdata[3])*yl.h*(zn.y[1]-zn.y[0])}}}),i5=a((yu,hu)=>{function jt(st,Ln){var Ft=[0,0,0,0],Fn,zn;for(Fn=0;Fn<4;++Fn)for(zn=0;zn<4;++zn)Ft[zn]+=st[4*Fn+zn]*Ln[Fn];return Ft}function it(st,Ln){var Ft=jt(st.projection,jt(st.view,jt(st.model,[Ln[0],Ln[1],Ln[2],1])));return Ft}hu.exports=it}),o5=a((yu,hu)=>{var jt=q3().drawRaw,it=i5(),st=["x","y","z"];hu.exports=function(Ln){for(var Ft=Ln.fullSceneLayout,Fn=Ln.dataScale,zn=Ft.annotations,yl=0;yl<zn.length;yl++){for(var ot=zn[yl],_l=!1,ls=0;ls<3;ls++){var Sl=st[ls],Pl=ot[Sl],Tl=Ft[Sl+"axis"],El=Tl.r2fraction(Pl);if(El<0||El>1){_l=!0;break}}_l?Ln.fullLayout._infolayer.select(".annotation-"+Ln.id+'[data-index="'+yl+'"]').remove():(ot._pdata=it(Ln.glplot.cameraParams,[Ft.xaxis.r2l(ot.x)*Fn[0],Ft.yaxis.r2l(ot.y)*Fn[1],Ft.zaxis.r2l(ot.z)*Fn[2]]),jt(Ln.graphDiv,ot,yl,Ln.id,ot._xa,ot._ya))}}}),a5=a((yu,hu)=>{var jt=N1(),it=gu();hu.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:Y3()}}},layoutAttributes:Y3(),handleDefaults:r5(),includeBasePlot:st,convert:n5(),draw:o5()};function st(Ln,Ft){var Fn=jt.subplotsRegistry.gl3d;if(Fn)for(var zn=Fn.attrRegex,yl=Object.keys(Ln),ot=0;ot<yl.length;ot++){var _l=yl[ot];zn.test(_l)&&(Ln[_l].annotations||[]).length&&(it.pushUnique(Ft._basePlotModules,Fn),it.pushUnique(Ft._subplots.gl3d,_l))}}}),Wx=a((yu,hu)=>{var jt=q2(),it=fp(),st=h3().line,Ln=hv().dash,Ft=Uu().extendFlat,Fn=d1().templatedArray;W2();var zn=zp(),yl=$y().shapeTexttemplateAttrs,ot=Zy();hu.exports=Fn("shape",{visible:Ft({},zn.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:Ft({},zn.legend,{editType:"calc+arraydraw"}),legendgroup:Ft({},zn.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:Ft({},zn.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:it({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:Ft({},zn.legendrank,{editType:"calc+arraydraw"}),legendwidth:Ft({},zn.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:Ft({},jt.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:Ft({},jt.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:Ft({},st.color,{editType:"arraydraw"}),width:Ft({},st.width,{editType:"calc+arraydraw"}),dash:Ft({},Ln,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:yl({},{keys:Object.keys(ot)}),font:it({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}),s5=a((yu,hu)=>{var jt=gu(),it=bm(),st=_d(),Ln=Wx(),Ft=Ql();hu.exports=function(yl,ot){st(yl,ot,{name:"shapes",handleItemDefaults:zn})};function Fn(yl,ot){return yl?"bottom":ot.indexOf("top")!==-1?"top":ot.indexOf("bottom")!==-1?"bottom":"middle"}function zn(yl,ot,_l){function ls(Lu,Nu){return jt.coerce(yl,ot,Ln,Lu,Nu)}ot._isShape=!0;var Sl=ls("visible");if(Sl){var Pl=ls("showlegend");Pl&&(ls("legend"),ls("legendwidth"),ls("legendgroup"),ls("legendgrouptitle.text"),jt.coerceFont(ls,"legendgrouptitle.font"),ls("legendrank"));var Tl=ls("path"),El=Tl?"path":"rect",Ml=ls("type",El),Rl=Ml!=="path";Rl&&delete ot.path,ls("editable"),ls("layer"),ls("opacity"),ls("fillcolor"),ls("fillrule");var Bn=ls("line.width");Bn&&(ls("line.color"),ls("line.dash"));for(var Cl=ls("xsizemode"),Al=ls("ysizemode"),Il=["x","y"],$l=0;$l<2;$l++){var Bu=Il[$l],Jl=Bu+"anchor",Kl=Bu==="x"?Cl:Al,Bl={_fullLayout:_l},$u,mu,Pu,bu=it.coerceRef(yl,ot,Bl,Bu,void 0,"paper"),Fu=it.getRefType(bu);if(Fu==="range"?($u=it.getFromId(Bl,bu),$u._shapeIndices.push(ot._index),Pu=Ft.rangeToShapePosition($u),mu=Ft.shapePositionToRange($u),($u.type==="category"||$u.type==="multicategory")&&(ls(Bu+"0shift"),ls(Bu+"1shift"))):mu=Pu=jt.identity,Rl){var Hu=.25,Gu=.75,Xl=Bu+"0",Wu=Bu+"1",Yu=yl[Xl],ap=yl[Wu];yl[Xl]=mu(yl[Xl],!0),yl[Wu]=mu(yl[Wu],!0),Kl==="pixel"?(ls(Xl,0),ls(Wu,10)):(it.coercePosition(ot,Bl,ls,bu,Xl,Hu),it.coercePosition(ot,Bl,ls,bu,Wu,Gu)),ot[Xl]=Pu(ot[Xl]),ot[Wu]=Pu(ot[Wu]),yl[Xl]=Yu,yl[Wu]=ap}if(Kl==="pixel"){var rp=yl[Jl];yl[Jl]=mu(yl[Jl],!0),it.coercePosition(ot,Bl,ls,bu,Jl,.25),ot[Jl]=Pu(ot[Jl]),yl[Jl]=rp}}Rl&&jt.noneOrAll(yl,ot,["x0","x1","y0","y1"]);var sp=Ml==="line",bp,Cp;if(Rl&&(bp=ls("label.texttemplate")),bp||(Cp=ls("label.text")),Cp||bp){ls("label.textangle");var Ap=ls("label.textposition",sp?"middle":"middle center");ls("label.xanchor"),ls("label.yanchor",Fn(sp,Ap)),ls("label.padding"),jt.coerceFont(ls,"label.font",_l.font)}}}}),l5=a((yu,hu)=>{var jt=D0(),it=gu();function st(Ln,Ft){return Ln?"bottom":Ft.indexOf("top")!==-1?"top":Ft.indexOf("bottom")!==-1?"bottom":"middle"}hu.exports=function(Ln,Ft,Fn){Fn("newshape.visible"),Fn("newshape.name"),Fn("newshape.showlegend"),Fn("newshape.legend"),Fn("newshape.legendwidth"),Fn("newshape.legendgroup"),Fn("newshape.legendgrouptitle.text"),it.coerceFont(Fn,"newshape.legendgrouptitle.font"),Fn("newshape.legendrank"),Fn("newshape.drawdirection"),Fn("newshape.layer"),Fn("newshape.fillcolor"),Fn("newshape.fillrule"),Fn("newshape.opacity");var zn=Fn("newshape.line.width");if(zn){var yl=(Ln||{}).plot_bgcolor||"#FFF";Fn("newshape.line.color",jt.contrast(yl)),Fn("newshape.line.dash")}var ot=Ln.dragmode==="drawline",_l=Fn("newshape.label.text"),ls=Fn("newshape.label.texttemplate");if(_l||ls){Fn("newshape.label.textangle");var Sl=Fn("newshape.label.textposition",ot?"middle":"middle center");Fn("newshape.label.xanchor"),Fn("newshape.label.yanchor",st(ot,Sl)),Fn("newshape.label.padding"),it.coerceFont(Fn,"newshape.label.font",Ft.font)}Fn("activeshape.fillcolor"),Fn("activeshape.opacity")}}),u5=a((yu,hu)=>{var jt=gu(),it=bm(),st=Ay(),Ln=Ql();hu.exports=function(ot){var _l=ot._fullLayout,ls=jt.filterVisible(_l.shapes);if(!(!ls.length||!ot._fullData.length))for(var Sl=0;Sl<ls.length;Sl++){var Pl=ls[Sl];Pl._extremes={};var Tl,El,Ml=it.getRefType(Pl.xref),Rl=it.getRefType(Pl.yref);Pl.xref!=="paper"&&Ml!=="domain"&&(Tl=it.getFromId(ot,Pl.xref),El=yl(Tl,Pl,st.paramIsX),El&&(Pl._extremes[Tl._id]=it.findExtremes(Tl,El,Ft(Pl)))),Pl.yref!=="paper"&&Rl!=="domain"&&(Tl=it.getFromId(ot,Pl.yref),El=yl(Tl,Pl,st.paramIsY),El&&(Pl._extremes[Tl._id]=it.findExtremes(Tl,El,Fn(Pl))))}};function Ft(ot){return zn(ot.line.width,ot.xsizemode,ot.x0,ot.x1,ot.path,!1)}function Fn(ot){return zn(ot.line.width,ot.ysizemode,ot.y0,ot.y1,ot.path,!0)}function zn(ot,_l,ls,Sl,Pl,Tl){var El=ot/2,Ml=Tl;if(_l==="pixel"){var Rl=Pl?Ln.extractPathCoords(Pl,Tl?st.paramIsY:st.paramIsX):[ls,Sl],Bn=jt.aggNums(Math.max,null,Rl),Cl=jt.aggNums(Math.min,null,Rl),Al=Cl<0?Math.abs(Cl)+El:El,Il=Bn>0?Bn+El:El;return{ppad:El,ppadplus:Ml?Al:Il,ppadminus:Ml?Il:Al}}else return{ppad:El}}function yl(ot,_l,ls){var Sl=ot._id.charAt(0)==="x"?"x":"y",Pl=ot.type==="category"||ot.type==="multicategory",Tl,El,Ml=0,Rl=0,Bn=Pl?ot.r2c:ot.d2c,Cl=_l[Sl+"sizemode"]==="scaled";if(Cl?(Tl=_l[Sl+"0"],El=_l[Sl+"1"],Pl&&(Ml=_l[Sl+"0shift"],Rl=_l[Sl+"1shift"])):(Tl=_l[Sl+"anchor"],El=_l[Sl+"anchor"]),Tl!==void 0)return[Bn(Tl)+Ml,Bn(El)+Rl];if(_l.path){var Al=1/0,Il=-1/0,$l=_l.path.match(st.segmentRE),Bu,Jl,Kl,Bl,$u;for(ot.type==="date"&&(Bn=Ln.decodeDate(Bn)),Bu=0;Bu<$l.length;Bu++)Jl=$l[Bu],Kl=ls[Jl.charAt(0)].drawn,Kl!==void 0&&(Bl=$l[Bu].substr(1).match(st.paramRE),!(!Bl||Bl.length<Kl)&&($u=Bn(Bl[Kl]),$u<Al&&(Al=$u),$u>Il&&(Il=$u)));if(Il>=Al)return[Al,Il]}}}),c5=a((yu,hu)=>{var jt=G0();hu.exports={moduleType:"component",name:"shapes",layoutAttributes:Wx(),supplyLayoutDefaults:s5(),supplyDrawNewShapeDefaults:l5(),includeBasePlot:S3()("shapes"),calcAutorange:u5(),draw:jt.draw,drawOne:jt.drawOne}}),qx=a((yu,hu)=>{var jt=E1(),it=d1().templatedArray;W2(),hu.exports=it("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",jt.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",jt.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}),d5=a((yu,hu)=>{var jt=gu(),it=bm(),st=_d(),Ln=qx(),Ft="images";hu.exports=function(zn,yl){var ot={name:Ft,handleItemDefaults:Fn};st(zn,yl,ot)};function Fn(zn,yl,ot){function _l(Cl,Al){return jt.coerce(zn,yl,Ln,Cl,Al)}var ls=_l("source"),Sl=_l("visible",!!ls);if(!Sl)return yl;_l("layer"),_l("xanchor"),_l("yanchor"),_l("sizex"),_l("sizey"),_l("sizing"),_l("opacity");for(var Pl={_fullLayout:ot},Tl=["x","y"],El=0;El<2;El++){var Ml=Tl[El],Rl=it.coerceRef(zn,yl,Pl,Ml,"paper",void 0);if(Rl!=="paper"){var Bn=it.getFromId(Pl,Rl);Bn._imgIndices.push(yl._index)}it.coercePosition(yl,Pl,_l,Rl,Ml,0)}return yl}}),h5=a((yu,hu)=>{var jt=g(),it=q0(),st=bm(),Ln=rv(),Ft=Vv();hu.exports=function(Fn){var zn=Fn._fullLayout,yl=[],ot={},_l=[],ls,Sl;for(Sl=0;Sl<zn.images.length;Sl++){var Pl=zn.images[Sl];if(Pl.visible)if(Pl.layer==="below"&&Pl.xref!=="paper"&&Pl.yref!=="paper"){ls=Ln.ref2id(Pl.xref)+Ln.ref2id(Pl.yref);var Tl=zn._plots[ls];if(!Tl){_l.push(Pl);continue}Tl.mainplot&&(ls=Tl.mainplot.id),ot[ls]||(ot[ls]=[]),ot[ls].push(Pl)}else Pl.layer==="above"?yl.push(Pl):_l.push(Pl)}var El={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function Ml(Kl){var Bl=jt.select(this);if(this._imgSrc!==Kl.source)if(Bl.attr("xmlns",Ft.svg),!Fn._context.staticPlot||Kl.source&&Kl.source.slice(0,5)==="data:")Bl.attr("xlink:href",Kl.source),this._imgSrc=Kl.source;else{var $u=new Promise((function(mu){var Pu=new Image;this.img=Pu,Pu.setAttribute("crossOrigin","anonymous"),Pu.onerror=bu,Pu.onload=function(){var Fu=document.createElement("canvas");Fu.width=this.width,Fu.height=this.height;var Hu=Fu.getContext("2d",{willReadFrequently:!0});Hu.drawImage(this,0,0);var Gu=Fu.toDataURL("image/png");Bl.attr("xlink:href",Gu),mu()},Bl.on("error",bu),Pu.src=Kl.source,this._imgSrc=Kl.source;function bu(){Bl.remove(),mu()}}).bind(this));Fn._promises.push($u)}}function Rl(Kl){var Bl=jt.select(this),$u=st.getFromId(Fn,Kl.xref),mu=st.getFromId(Fn,Kl.yref),Pu=st.getRefType(Kl.xref)==="domain",bu=st.getRefType(Kl.yref)==="domain",Fu=zn._size,Hu,Gu;$u!==void 0?Hu=typeof Kl.xref=="string"&&Pu?$u._length*Kl.sizex:Math.abs($u.l2p(Kl.sizex)-$u.l2p(0)):Hu=Kl.sizex*Fu.w,mu!==void 0?Gu=typeof Kl.yref=="string"&&bu?mu._length*Kl.sizey:Math.abs(mu.l2p(Kl.sizey)-mu.l2p(0)):Gu=Kl.sizey*Fu.h;var Xl=Hu*El.x[Kl.xanchor].offset,Wu=Gu*El.y[Kl.yanchor].offset,Yu=El.x[Kl.xanchor].sizing+El.y[Kl.yanchor].sizing,ap,rp;switch($u!==void 0?ap=typeof Kl.xref=="string"&&Pu?$u._length*Kl.x+$u._offset:$u.r2p(Kl.x)+$u._offset:ap=Kl.x*Fu.w+Fu.l,ap+=Xl,mu!==void 0?rp=typeof Kl.yref=="string"&&bu?mu._length*(1-Kl.y)+mu._offset:mu.r2p(Kl.y)+mu._offset:rp=Fu.h-Kl.y*Fu.h+Fu.t,rp+=Wu,Kl.sizing){case"fill":Yu+=" slice";break;case"stretch":Yu="none";break}Bl.attr({x:ap,y:rp,width:Hu,height:Gu,preserveAspectRatio:Yu,opacity:Kl.opacity});var sp=$u&&st.getRefType(Kl.xref)!=="domain"?$u._id:"",bp=mu&&st.getRefType(Kl.yref)!=="domain"?mu._id:"",Cp=sp+bp;it.setClipUrl(Bl,Cp?"clip"+zn._uid+Cp:null,Fn)}function Bn(Kl){return[Kl.xref,Kl.x,Kl.sizex,Kl.yref,Kl.y,Kl.sizey].join("_")}function Cl(Kl,Bl){return Kl._index-Bl._index}var Al=zn._imageLowerLayer.selectAll("image").data(_l,Bn),Il=zn._imageUpperLayer.selectAll("image").data(yl,Bn);Al.enter().append("image"),Il.enter().append("image"),Al.exit().remove(),Il.exit().remove(),Al.each(function(Kl){Ml.bind(this)(Kl),Rl.bind(this)(Kl)}),Il.each(function(Kl){Ml.bind(this)(Kl),Rl.bind(this)(Kl)}),Al.sort(Cl),Il.sort(Cl);var $l=Object.keys(zn._plots);for(Sl=0;Sl<$l.length;Sl++){ls=$l[Sl];var Bu=zn._plots[ls];if(Bu.imagelayer){var Jl=Bu.imagelayer.selectAll("image").data(ot[ls]||[],Bn);Jl.enter().append("image"),Jl.exit().remove(),Jl.each(function(Kl){Ml.bind(this)(Kl),Rl.bind(this)(Kl)}),Jl.sort(Cl)}}}}),p5=a((yu,hu)=>{var jt=rt(),it=Ul();hu.exports=function(st,Ln,Ft,Fn){Ln=Ln||{};var zn=Ft==="log"&&Ln.type==="linear",yl=Ft==="linear"&&Ln.type==="log";if(zn||yl){for(var ot=st._fullLayout.images,_l=Ln._id.charAt(0),ls,Sl,Pl=0;Pl<ot.length;Pl++)if(ls=ot[Pl],Sl="images["+Pl+"].",ls[_l+"ref"]===Ln._id){var Tl=ls[_l],El=ls["size"+_l],Ml=null,Rl=null;if(zn){Ml=it(Tl,Ln.range);var Bn=El/Math.pow(10,Ml)/2;Rl=2*Math.log(Bn+Math.sqrt(1+Bn*Bn))/Math.LN10}else Ml=Math.pow(10,Tl),Rl=Ml*(Math.pow(10,El/2)-Math.pow(10,-El/2));jt(Ml)?jt(Rl)||(Rl=null):(Ml=null,Rl=null),Fn(Sl+_l,Ml),Fn(Sl+"size"+_l,Rl)}}}}),f5=a((yu,hu)=>{hu.exports={moduleType:"component",name:"images",layoutAttributes:qx(),supplyLayoutDefaults:d5(),includeBasePlot:S3()("images"),draw:h5(),convertCoords:p5()}}),K3=a((yu,hu)=>{hu.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}}),Yx=a((yu,hu)=>{var jt=fp(),it=k0(),st=Uu().extendFlat,Ln=x1().overrideAll,Ft=oy(),Fn=d1().templatedArray,zn=Fn("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});hu.exports=Ln(Fn("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:zn,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:st(Ft({editType:"arraydraw"}),{}),font:jt({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:it.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}),g5=a((yu,hu)=>{var jt=gu(),it=_d(),st=Yx(),Ln=K3(),Ft=Ln.name,Fn=st.buttons;hu.exports=function(ot,_l){var ls={name:Ft,handleItemDefaults:zn};it(ot,_l,ls)};function zn(ot,_l,ls){function Sl(El,Ml){return jt.coerce(ot,_l,st,El,Ml)}var Pl=it(ot,_l,{name:"buttons",handleItemDefaults:yl}),Tl=Sl("visible",Pl.length>0);Tl&&(Sl("active"),Sl("direction"),Sl("type"),Sl("showactive"),Sl("x"),Sl("y"),jt.noneOrAll(ot,_l,["x","y"]),Sl("xanchor"),Sl("yanchor"),Sl("pad.t"),Sl("pad.r"),Sl("pad.b"),Sl("pad.l"),jt.coerceFont(Sl,"font",ls.font),Sl("bgcolor",ls.paper_bgcolor),Sl("bordercolor"),Sl("borderwidth"))}function yl(ot,_l){function ls(Pl,Tl){return jt.coerce(ot,_l,Fn,Pl,Tl)}var Sl=ls("visible",ot.method==="skip"||Array.isArray(ot.args));Sl&&(ls("method"),ls("args"),ls("args2"),ls("label"),ls("execute"))}}),m5=a((yu,hu)=>{hu.exports=Ft;var jt=g(),it=D0(),st=q0(),Ln=gu();function Ft(Fn,zn,yl){this.gd=Fn,this.container=zn,this.id=yl,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Ft.barWidth=2,Ft.barLength=20,Ft.barRadius=2,Ft.barPad=1,Ft.barColor="#808BA4",Ft.prototype.enable=function(Fn,zn,yl){var ot=this.gd._fullLayout,_l=ot.width,ls=ot.height;this.position=Fn;var Sl=this.position.l,Pl=this.position.w,Tl=this.position.t,El=this.position.h,Ml=this.position.direction,Rl=Ml==="down",Bn=Ml==="left",Cl=Ml==="right",Al=Ml==="up",Il=Pl,$l=El,Bu,Jl,Kl,Bl;!Rl&&!Bn&&!Cl&&!Al&&(this.position.direction="down",Rl=!0);var $u=Rl||Al;$u?(Bu=Sl,Jl=Bu+Il,Rl?(Kl=Tl,Bl=Math.min(Kl+$l,ls),$l=Bl-Kl):(Bl=Tl+$l,Kl=Math.max(Bl-$l,0),$l=Bl-Kl)):(Kl=Tl,Bl=Kl+$l,Bn?(Jl=Sl+Il,Bu=Math.max(Jl-Il,0),Il=Jl-Bu):(Bu=Sl,Jl=Math.min(Bu+Il,_l),Il=Jl-Bu)),this._box={l:Bu,t:Kl,w:Il,h:$l};var mu=Pl>Il,Pu=Ft.barLength+2*Ft.barPad,bu=Ft.barWidth+2*Ft.barPad,Fu=Sl,Hu=Tl+El;Hu+bu>ls&&(Hu=ls-bu);var Gu=this.container.selectAll("rect.scrollbar-horizontal").data(mu?[0]:[]);Gu.exit().on(".drag",null).remove(),Gu.enter().append("rect").classed("scrollbar-horizontal",!0).call(it.fill,Ft.barColor),mu?(this.hbar=Gu.attr({rx:Ft.barRadius,ry:Ft.barRadius,x:Fu,y:Hu,width:Pu,height:bu}),this._hbarXMin=Fu+Pu/2,this._hbarTranslateMax=Il-Pu):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var Xl=El>$l,Wu=Ft.barWidth+2*Ft.barPad,Yu=Ft.barLength+2*Ft.barPad,ap=Sl+Pl,rp=Tl;ap+Wu>_l&&(ap=_l-Wu);var sp=this.container.selectAll("rect.scrollbar-vertical").data(Xl?[0]:[]);sp.exit().on(".drag",null).remove(),sp.enter().append("rect").classed("scrollbar-vertical",!0).call(it.fill,Ft.barColor),Xl?(this.vbar=sp.attr({rx:Ft.barRadius,ry:Ft.barRadius,x:ap,y:rp,width:Wu,height:Yu}),this._vbarYMin=rp+Yu/2,this._vbarTranslateMax=$l-Yu):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var bp=this.id,Cp=Bu-.5,Ap=Xl?Jl+Wu+.5:Jl+.5,Lu=Kl-.5,Nu=mu?Bl+bu+.5:Bl+.5,Hl=ot._topdefs.selectAll("#"+bp).data(mu||Xl?[0]:[]);if(Hl.exit().remove(),Hl.enter().append("clipPath").attr("id",bp).append("rect"),mu||Xl?(this._clipRect=Hl.select("rect").attr({x:Math.floor(Cp),y:Math.floor(Lu),width:Math.ceil(Ap)-Math.floor(Cp),height:Math.ceil(Nu)-Math.floor(Lu)}),this.container.call(st.setClipUrl,bp,this.gd),this.bg.attr({x:Sl,y:Tl,width:Pl,height:El})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(st.setClipUrl,null),delete this._clipRect),mu||Xl){var qu=jt.behavior.drag().on("dragstart",function(){jt.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(qu);var np=jt.behavior.drag().on("dragstart",function(){jt.event.sourceEvent.preventDefault(),jt.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));mu&&this.hbar.on(".drag",null).call(np),Xl&&this.vbar.on(".drag",null).call(np)}this.setTranslate(zn,yl)},Ft.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(st.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},Ft.prototype._onBoxDrag=function(){var Fn=this.translateX,zn=this.translateY;this.hbar&&(Fn-=jt.event.dx),this.vbar&&(zn-=jt.event.dy),this.setTranslate(Fn,zn)},Ft.prototype._onBoxWheel=function(){var Fn=this.translateX,zn=this.translateY;this.hbar&&(Fn+=jt.event.deltaY),this.vbar&&(zn+=jt.event.deltaY),this.setTranslate(Fn,zn)},Ft.prototype._onBarDrag=function(){var Fn=this.translateX,zn=this.translateY;if(this.hbar){var yl=Fn+this._hbarXMin,ot=yl+this._hbarTranslateMax,_l=Ln.constrain(jt.event.x,yl,ot),ls=(_l-yl)/(ot-yl),Sl=this.position.w-this._box.w;Fn=ls*Sl}if(this.vbar){var Pl=zn+this._vbarYMin,Tl=Pl+this._vbarTranslateMax,El=Ln.constrain(jt.event.y,Pl,Tl),Ml=(El-Pl)/(Tl-Pl),Rl=this.position.h-this._box.h;zn=Ml*Rl}this.setTranslate(Fn,zn)},Ft.prototype.setTranslate=function(Fn,zn){var yl=this.position.w-this._box.w,ot=this.position.h-this._box.h;if(Fn=Ln.constrain(Fn||0,0,yl),zn=Ln.constrain(zn||0,0,ot),this.translateX=Fn,this.translateY=zn,this.container.call(st.setTranslate,this._box.l-this.position.l-Fn,this._box.t-this.position.t-zn),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+Fn-.5),y:Math.floor(this.position.t+zn-.5)}),this.hbar){var _l=Fn/yl;this.hbar.call(st.setTranslate,Fn+_l*this._hbarTranslateMax,zn)}if(this.vbar){var ls=zn/ot;this.vbar.call(st.setTranslate,Fn,zn+ls*this._vbarTranslateMax)}}}),v5=a((yu,hu)=>{var jt=g(),it=_v(),st=D0(),Ln=q0(),Ft=gu(),Fn=hy(),zn=d1().arrayEditor,yl=pv().LINE_SPACING,ot=K3(),_l=m5();hu.exports=function(Pu){var bu=Pu._fullLayout,Fu=Ft.filterVisible(bu[ot.name]);function Hu(bp){it.autoMargin(Pu,Bl(bp))}var Gu=bu._menulayer.selectAll("g."+ot.containerClassName).data(Fu.length>0?[0]:[]);if(Gu.enter().append("g").classed(ot.containerClassName,!0).style("cursor","pointer"),Gu.exit().each(function(){jt.select(this).selectAll("g."+ot.headerGroupClassName).each(Hu)}).remove(),Fu.length!==0){var Xl=Gu.selectAll("g."+ot.headerGroupClassName).data(Fu,ls);Xl.enter().append("g").classed(ot.headerGroupClassName,!0);for(var Wu=Ft.ensureSingle(Gu,"g",ot.dropdownButtonGroupClassName,function(bp){bp.style("pointer-events","all")}),Yu=0;Yu<Fu.length;Yu++){var ap=Fu[Yu];Kl(Pu,ap)}var rp="updatemenus"+bu._uid,sp=new _l(Pu,Wu,rp);Xl.enter().size()&&(Wu.node().parentNode.appendChild(Wu.node()),Wu.call(mu)),Xl.exit().each(function(bp){Wu.call(mu),Hu(bp)}).remove(),Xl.each(function(bp){var Cp=jt.select(this),Ap=bp.type==="dropdown"?Wu:null;it.manageCommandObserver(Pu,bp,bp.buttons,function(Lu){Tl(Pu,bp,bp.buttons[Lu.index],Cp,Ap,sp,Lu.index,!0)}),bp.type==="dropdown"?(El(Pu,Cp,Wu,sp,bp),Pl(Wu,bp)&&Ml(Pu,Cp,Wu,sp,bp)):Ml(Pu,Cp,null,null,bp)})}};function ls(Pu){return Pu._index}function Sl(Pu){return+Pu.attr(ot.menuIndexAttrName)==-1}function Pl(Pu,bu){return+Pu.attr(ot.menuIndexAttrName)===bu._index}function Tl(Pu,bu,Fu,Hu,Gu,Xl,Wu,Yu){bu.active=Wu,zn(Pu.layout,ot.name,bu).applyUpdate("active",Wu),bu.type==="buttons"?Ml(Pu,Hu,null,null,bu):bu.type==="dropdown"&&(Gu.attr(ot.menuIndexAttrName,"-1"),El(Pu,Hu,Gu,Xl,bu),Yu||Ml(Pu,Hu,Gu,Xl,bu))}function El(Pu,bu,Fu,Hu,Gu){var Xl=Ft.ensureSingle(bu,"g",ot.headerClassName,function(Cp){Cp.style("pointer-events","all")}),Wu=Gu._dims,Yu=Gu.active,ap=Gu.buttons[Yu]||ot.blankHeaderOpts,rp={y:Gu.pad.t,yPad:0,x:Gu.pad.l,xPad:0,index:0},sp={width:Wu.headerWidth,height:Wu.headerHeight};Xl.call(Cl,Gu,ap,Pu).call($u,Gu,rp,sp);var bp=Ft.ensureSingle(bu,"text",ot.headerArrowClassName,function(Cp){Cp.attr("text-anchor","end").call(Ln.font,Gu.font).text(ot.arrowSymbol[Gu.direction])});bp.attr({x:Wu.headerWidth-ot.arrowOffsetX+Gu.pad.l,y:Wu.headerHeight/2+ot.textOffsetY+Gu.pad.t}),Xl.on("click",function(){Fu.call(mu,String(Pl(Fu,Gu)?-1:Gu._index)),Ml(Pu,bu,Fu,Hu,Gu)}),Xl.on("mouseover",function(){Xl.call(Bu)}),Xl.on("mouseout",function(){Xl.call(Jl,Gu)}),Ln.setTranslate(bu,Wu.lx,Wu.ly)}function Ml(Pu,bu,Fu,Hu,Gu){Fu||(Fu=bu,Fu.attr("pointer-events","all"));var Xl=!Sl(Fu)||Gu.type==="buttons"?Gu.buttons:[],Wu=Gu.type==="dropdown"?ot.dropdownButtonClassName:ot.buttonClassName,Yu=Fu.selectAll("g."+Wu).data(Ft.filterVisible(Xl)),ap=Yu.enter().append("g").classed(Wu,!0),rp=Yu.exit();Gu.type==="dropdown"?(ap.attr("opacity","0").transition().attr("opacity","1"),rp.transition().attr("opacity","0").remove()):rp.remove();var sp=0,bp=0,Cp=Gu._dims,Ap=["up","down"].indexOf(Gu.direction)!==-1;Gu.type==="dropdown"&&(Ap?bp=Cp.headerHeight+ot.gapButtonHeader:sp=Cp.headerWidth+ot.gapButtonHeader),Gu.type==="dropdown"&&Gu.direction==="up"&&(bp=-ot.gapButtonHeader+ot.gapButton-Cp.openHeight),Gu.type==="dropdown"&&Gu.direction==="left"&&(sp=-ot.gapButtonHeader+ot.gapButton-Cp.openWidth);var Lu={x:Cp.lx+sp+Gu.pad.l,y:Cp.ly+bp+Gu.pad.t,yPad:ot.gapButton,xPad:ot.gapButton,index:0},Nu={l:Lu.x+Gu.borderwidth,t:Lu.y+Gu.borderwidth};Yu.each(function(Hl,qu){var np=jt.select(this);np.call(Cl,Gu,Hl,Pu).call($u,Gu,Lu),np.on("click",function(){jt.event.defaultPrevented||(Hl.execute&&(Hl.args2&&Gu.active===qu?(Tl(Pu,Gu,Hl,bu,Fu,Hu,-1),it.executeAPICommand(Pu,Hl.method,Hl.args2)):(Tl(Pu,Gu,Hl,bu,Fu,Hu,qu),it.executeAPICommand(Pu,Hl.method,Hl.args))),Pu.emit("plotly_buttonclicked",{menu:Gu,button:Hl,active:Gu.active}))}),np.on("mouseover",function(){np.call(Bu)}),np.on("mouseout",function(){np.call(Jl,Gu),Yu.call($l,Gu)})}),Yu.call($l,Gu),Ap?(Nu.w=Math.max(Cp.openWidth,Cp.headerWidth),Nu.h=Lu.y-Nu.t):(Nu.w=Lu.x-Nu.l,Nu.h=Math.max(Cp.openHeight,Cp.headerHeight)),Nu.direction=Gu.direction,Hu&&(Yu.size()?Rl(Pu,bu,Fu,Hu,Gu,Nu):Bn(Hu))}function Rl(Pu,bu,Fu,Hu,Gu,Xl){var Wu=Gu.direction,Yu=Wu==="up"||Wu==="down",ap=Gu._dims,rp=Gu.active,sp,bp,Cp;if(Yu)for(bp=0,Cp=0;Cp<rp;Cp++)bp+=ap.heights[Cp]+ot.gapButton;else for(sp=0,Cp=0;Cp<rp;Cp++)sp+=ap.widths[Cp]+ot.gapButton;Hu.enable(Xl,sp,bp),Hu.hbar&&Hu.hbar.attr("opacity","0").transition().attr("opacity","1"),Hu.vbar&&Hu.vbar.attr("opacity","0").transition().attr("opacity","1")}function Bn(Pu){var bu=!!Pu.hbar,Fu=!!Pu.vbar;bu&&Pu.hbar.transition().attr("opacity","0").each("end",function(){bu=!1,Fu||Pu.disable()}),Fu&&Pu.vbar.transition().attr("opacity","0").each("end",function(){Fu=!1,bu||Pu.disable()})}function Cl(Pu,bu,Fu,Hu){Pu.call(Al,bu).call(Il,bu,Fu,Hu)}function Al(Pu,bu){var Fu=Ft.ensureSingle(Pu,"rect",ot.itemRectClassName,function(Hu){Hu.attr({rx:ot.rx,ry:ot.ry,"shape-rendering":"crispEdges"})});Fu.call(st.stroke,bu.bordercolor).call(st.fill,bu.bgcolor).style("stroke-width",bu.borderwidth+"px")}function Il(Pu,bu,Fu,Hu){var Gu=Ft.ensureSingle(Pu,"text",ot.itemTextClassName,function(Yu){Yu.attr({"text-anchor":"start","data-notex":1})}),Xl=Fu.label,Wu=Hu._fullLayout._meta;Wu&&(Xl=Ft.templateString(Xl,Wu)),Gu.call(Ln.font,bu.font).text(Xl).call(Fn.convertToTspans,Hu)}function $l(Pu,bu){var Fu=bu.active;Pu.each(function(Hu,Gu){var Xl=jt.select(this);Gu===Fu&&bu.showactive&&Xl.select("rect."+ot.itemRectClassName).call(st.fill,ot.activeColor)})}function Bu(Pu){Pu.select("rect."+ot.itemRectClassName).call(st.fill,ot.hoverColor)}function Jl(Pu,bu){Pu.select("rect."+ot.itemRectClassName).call(st.fill,bu.bgcolor)}function Kl(Pu,bu){var Fu=bu._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Hu=Ln.tester.selectAll("g."+ot.dropdownButtonClassName).data(Ft.filterVisible(bu.buttons));Hu.enter().append("g").classed(ot.dropdownButtonClassName,!0);var Gu=["up","down"].indexOf(bu.direction)!==-1;Hu.each(function(sp,bp){var Cp=jt.select(this);Cp.call(Cl,bu,sp,Pu);var Ap=Cp.select("."+ot.itemTextClassName),Lu=Ap.node()&&Ln.bBox(Ap.node()).width,Nu=Math.max(Lu+ot.textPadX,ot.minWidth),Hl=bu.font.size*yl,qu=Fn.lineCount(Ap),np=Math.max(Hl*qu,ot.minHeight)+ot.textOffsetY;np=Math.ceil(np),Nu=Math.ceil(Nu),Fu.widths[bp]=Nu,Fu.heights[bp]=np,Fu.height1=Math.max(Fu.height1,np),Fu.width1=Math.max(Fu.width1,Nu),Gu?(Fu.totalWidth=Math.max(Fu.totalWidth,Nu),Fu.openWidth=Fu.totalWidth,Fu.totalHeight+=np+ot.gapButton,Fu.openHeight+=np+ot.gapButton):(Fu.totalWidth+=Nu+ot.gapButton,Fu.openWidth+=Nu+ot.gapButton,Fu.totalHeight=Math.max(Fu.totalHeight,np),Fu.openHeight=Fu.totalHeight)}),Gu?Fu.totalHeight-=ot.gapButton:Fu.totalWidth-=ot.gapButton,Fu.headerWidth=Fu.width1+ot.arrowPadX,Fu.headerHeight=Fu.height1,bu.type==="dropdown"&&(Gu?(Fu.width1+=ot.arrowPadX,Fu.totalHeight=Fu.height1):Fu.totalWidth=Fu.width1,Fu.totalWidth+=ot.arrowPadX),Hu.remove();var Xl=Fu.totalWidth+bu.pad.l+bu.pad.r,Wu=Fu.totalHeight+bu.pad.t+bu.pad.b,Yu=Pu._fullLayout._size;Fu.lx=Yu.l+Yu.w*bu.x,Fu.ly=Yu.t+Yu.h*(1-bu.y);var ap="left";Ft.isRightAnchor(bu)&&(Fu.lx-=Xl,ap="right"),Ft.isCenterAnchor(bu)&&(Fu.lx-=Xl/2,ap="center");var rp="top";Ft.isBottomAnchor(bu)&&(Fu.ly-=Wu,rp="bottom"),Ft.isMiddleAnchor(bu)&&(Fu.ly-=Wu/2,rp="middle"),Fu.totalWidth=Math.ceil(Fu.totalWidth),Fu.totalHeight=Math.ceil(Fu.totalHeight),Fu.lx=Math.round(Fu.lx),Fu.ly=Math.round(Fu.ly),it.autoMargin(Pu,Bl(bu),{x:bu.x,y:bu.y,l:Xl*({right:1,center:.5}[ap]||0),r:Xl*({left:1,center:.5}[ap]||0),b:Wu*({top:1,middle:.5}[rp]||0),t:Wu*({bottom:1,middle:.5}[rp]||0)})}function Bl(Pu){return ot.autoMarginIdRoot+Pu._index}function $u(Pu,bu,Fu,Hu){Hu=Hu||{};var Gu=Pu.select("."+ot.itemRectClassName),Xl=Pu.select("."+ot.itemTextClassName),Wu=bu.borderwidth,Yu=Fu.index,ap=bu._dims;Ln.setTranslate(Pu,Wu+Fu.x,Wu+Fu.y);var rp=["up","down"].indexOf(bu.direction)!==-1,sp=Hu.height||(rp?ap.heights[Yu]:ap.height1);Gu.attr({x:0,y:0,width:Hu.width||(rp?ap.width1:ap.widths[Yu]),height:sp});var bp=bu.font.size*yl,Cp=Fn.lineCount(Xl),Ap=(Cp-1)*bp/2;Fn.positionText(Xl,ot.textOffsetX,sp/2-Ap+ot.textOffsetY),rp?Fu.y+=ap.heights[Yu]+Fu.yPad:Fu.x+=ap.widths[Yu]+Fu.xPad,Fu.index++}function mu(Pu,bu){Pu.attr(ot.menuIndexAttrName,bu||"-1").selectAll("g."+ot.dropdownButtonClassName).remove()}}),y5=a((yu,hu)=>{var jt=K3();hu.exports={moduleType:"component",name:jt.name,layoutAttributes:Yx(),supplyLayoutDefaults:g5(),draw:v5()}}),_3=a((yu,hu)=>{hu.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),Kx=a((yu,hu)=>{var jt=fp(),it=oy(),st=Uu().extendDeepAll,Ln=x1().overrideAll,Ft=j1(),Fn=d1().templatedArray,zn=_3(),yl=Fn("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});hu.exports=Ln(Fn("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:yl,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:st(it({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:Ft.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:jt({})},font:jt({}),activebgcolor:{valType:"color",dflt:zn.gripBgActiveColor},bgcolor:{valType:"color",dflt:zn.railBgColor},bordercolor:{valType:"color",dflt:zn.railBorderColor},borderwidth:{valType:"number",min:0,dflt:zn.railBorderWidth},ticklen:{valType:"number",min:0,dflt:zn.tickLength},tickcolor:{valType:"color",dflt:zn.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:zn.minorTickLength}}),"arraydraw","from-root")}),x5=a((yu,hu)=>{var jt=gu(),it=_d(),st=Kx(),Ln=_3(),Ft=Ln.name,Fn=st.steps;hu.exports=function(ot,_l){it(ot,_l,{name:Ft,handleItemDefaults:zn})};function zn(ot,_l,ls){function Sl(Al,Il){return jt.coerce(ot,_l,st,Al,Il)}for(var Pl=it(ot,_l,{name:"steps",handleItemDefaults:yl}),Tl=0,El=0;El<Pl.length;El++)Pl[El].visible&&Tl++;var Ml;if(Tl<2?Ml=_l.visible=!1:Ml=Sl("visible"),!!Ml){_l._stepCount=Tl;var Rl=_l._visibleSteps=jt.filterVisible(Pl),Bn=Sl("active");(Pl[Bn]||{}).visible||(_l.active=Rl[0]._index),Sl("x"),Sl("y"),jt.noneOrAll(ot,_l,["x","y"]),Sl("xanchor"),Sl("yanchor"),Sl("len"),Sl("lenmode"),Sl("pad.t"),Sl("pad.r"),Sl("pad.b"),Sl("pad.l"),jt.coerceFont(Sl,"font",ls.font);var Cl=Sl("currentvalue.visible");Cl&&(Sl("currentvalue.xanchor"),Sl("currentvalue.prefix"),Sl("currentvalue.suffix"),Sl("currentvalue.offset"),jt.coerceFont(Sl,"currentvalue.font",_l.font)),Sl("transition.duration"),Sl("transition.easing"),Sl("bgcolor"),Sl("activebgcolor"),Sl("bordercolor"),Sl("borderwidth"),Sl("ticklen"),Sl("tickwidth"),Sl("tickcolor"),Sl("minorticklen")}}function yl(ot,_l){function ls(Tl,El){return jt.coerce(ot,_l,Fn,Tl,El)}var Sl;if(ot.method!=="skip"&&!Array.isArray(ot.args)?Sl=_l.visible=!1:Sl=ls("visible"),Sl){ls("method"),ls("args");var Pl=ls("label","step-"+_l._index);ls("value",Pl),ls("execute")}}}),b5=a((yu,hu)=>{var jt=g(),it=_v(),st=D0(),Ln=q0(),Ft=gu(),Fn=Ft.strTranslate,zn=hy(),yl=d1().arrayEditor,ot=_3(),_l=pv(),ls=_l.LINE_SPACING,Sl=_l.FROM_TL,Pl=_l.FROM_BR;hu.exports=function(Gu){var Xl=Gu._context.staticPlot,Wu=Gu._fullLayout,Yu=El(Wu,Gu),ap=Wu._infolayer.selectAll("g."+ot.containerClassName).data(Yu.length>0?[0]:[]);ap.enter().append("g").classed(ot.containerClassName,!0).style("cursor",Xl?null:"ew-resize");function rp(Ap){Ap._commandObserver&&(Ap._commandObserver.remove(),delete Ap._commandObserver),it.autoMargin(Gu,Tl(Ap))}if(ap.exit().each(function(){jt.select(this).selectAll("g."+ot.groupClassName).each(rp)}).remove(),Yu.length!==0){var sp=ap.selectAll("g."+ot.groupClassName).data(Yu,Ml);sp.enter().append("g").classed(ot.groupClassName,!0),sp.exit().each(rp).remove();for(var bp=0;bp<Yu.length;bp++){var Cp=Yu[bp];Rl(Gu,Cp)}sp.each(function(Ap){var Lu=jt.select(this);$u(Ap),it.manageCommandObserver(Gu,Ap,Ap._visibleSteps,function(Nu){var Hl=Lu.data()[0];Hl.active!==Nu.index&&(Hl._dragging||Jl(Gu,Lu,Hl,Nu.index,!1,!0))}),Bn(Gu,jt.select(this),Ap)})}};function Tl(Gu){return ot.autoMarginIdRoot+Gu._index}function El(Gu,Xl){for(var Wu=Gu[ot.name],Yu=[],ap=0;ap<Wu.length;ap++){var rp=Wu[ap];rp.visible&&(rp._gd=Xl,Yu.push(rp))}return Yu}function Ml(Gu){return Gu._index}function Rl(Gu,Xl){var Wu=Ln.tester.selectAll("g."+ot.labelGroupClass).data(Xl._visibleSteps);Wu.enter().append("g").classed(ot.labelGroupClass,!0);var Yu=0,ap=0;Wu.each(function(np){var vu=jt.select(this),Ol=Il(vu,{step:np},Xl),Wl=Ol.node();if(Wl){var Mu=Ln.bBox(Wl);ap=Math.max(ap,Mu.height),Yu=Math.max(Yu,Mu.width)}}),Wu.remove();var rp=Xl._dims={};rp.inputAreaWidth=Math.max(ot.railWidth,ot.gripHeight);var sp=Gu._fullLayout._size;rp.lx=sp.l+sp.w*Xl.x,rp.ly=sp.t+sp.h*(1-Xl.y),Xl.lenmode==="fraction"?rp.outerLength=Math.round(sp.w*Xl.len):rp.outerLength=Xl.len,rp.inputAreaStart=0,rp.inputAreaLength=Math.round(rp.outerLength-Xl.pad.l-Xl.pad.r);var bp=rp.inputAreaLength-2*ot.stepInset,Cp=bp/(Xl._stepCount-1),Ap=Yu+ot.labelPadding;if(rp.labelStride=Math.max(1,Math.ceil(Ap/Cp)),rp.labelHeight=ap,rp.currentValueMaxWidth=0,rp.currentValueHeight=0,rp.currentValueTotalHeight=0,rp.currentValueMaxLines=1,Xl.currentvalue.visible){var Lu=Ln.tester.append("g");Wu.each(function(np){var vu=Cl(Lu,Xl,np.label),Ol=vu.node()&&Ln.bBox(vu.node())||{width:0,height:0},Wl=zn.lineCount(vu);rp.currentValueMaxWidth=Math.max(rp.currentValueMaxWidth,Math.ceil(Ol.width)),rp.currentValueHeight=Math.max(rp.currentValueHeight,Math.ceil(Ol.height)),rp.currentValueMaxLines=Math.max(rp.currentValueMaxLines,Wl)}),rp.currentValueTotalHeight=rp.currentValueHeight+Xl.currentvalue.offset,Lu.remove()}rp.height=rp.currentValueTotalHeight+ot.tickOffset+Xl.ticklen+ot.labelOffset+rp.labelHeight+Xl.pad.t+Xl.pad.b;var Nu="left";Ft.isRightAnchor(Xl)&&(rp.lx-=rp.outerLength,Nu="right"),Ft.isCenterAnchor(Xl)&&(rp.lx-=rp.outerLength/2,Nu="center");var Hl="top";Ft.isBottomAnchor(Xl)&&(rp.ly-=rp.height,Hl="bottom"),Ft.isMiddleAnchor(Xl)&&(rp.ly-=rp.height/2,Hl="middle"),rp.outerLength=Math.ceil(rp.outerLength),rp.height=Math.ceil(rp.height),rp.lx=Math.round(rp.lx),rp.ly=Math.round(rp.ly);var qu={y:Xl.y,b:rp.height*Pl[Hl],t:rp.height*Sl[Hl]};Xl.lenmode==="fraction"?(qu.l=0,qu.xl=Xl.x-Xl.len*Sl[Nu],qu.r=0,qu.xr=Xl.x+Xl.len*Pl[Nu]):(qu.x=Xl.x,qu.l=rp.outerLength*Sl[Nu],qu.r=rp.outerLength*Pl[Nu]),it.autoMargin(Gu,Tl(Xl),qu)}function Bn(Gu,Xl,Wu){(Wu.steps[Wu.active]||{}).visible||(Wu.active=Wu._visibleSteps[0]._index),Xl.call(Cl,Wu).call(Hu,Wu).call($l,Wu).call(Bl,Wu).call(Fu,Gu,Wu).call(Al,Gu,Wu);var Yu=Wu._dims;Ln.setTranslate(Xl,Yu.lx+Wu.pad.l,Yu.ly+Wu.pad.t),Xl.call(mu,Wu,!1),Xl.call(Cl,Wu)}function Cl(Gu,Xl,Wu){if(Xl.currentvalue.visible){var Yu=Xl._dims,ap,rp;switch(Xl.currentvalue.xanchor){case"right":ap=Yu.inputAreaLength-ot.currentValueInset-Yu.currentValueMaxWidth,rp="left";break;case"center":ap=Yu.inputAreaLength*.5,rp="middle";break;default:ap=ot.currentValueInset,rp="left"}var sp=Ft.ensureSingle(Gu,"text",ot.labelClass,function(Hl){Hl.attr({"text-anchor":rp,"data-notex":1})}),bp=Xl.currentvalue.prefix?Xl.currentvalue.prefix:"";if(typeof Wu=="string")bp+=Wu;else{var Cp=Xl.steps[Xl.active].label,Ap=Xl._gd._fullLayout._meta;Ap&&(Cp=Ft.templateString(Cp,Ap)),bp+=Cp}Xl.currentvalue.suffix&&(bp+=Xl.currentvalue.suffix),sp.call(Ln.font,Xl.currentvalue.font).text(bp).call(zn.convertToTspans,Xl._gd);var Lu=zn.lineCount(sp),Nu=(Yu.currentValueMaxLines+1-Lu)*Xl.currentvalue.font.size*ls;return zn.positionText(sp,ap,Nu),sp}}function Al(Gu,Xl,Wu){var Yu=Ft.ensureSingle(Gu,"rect",ot.gripRectClass,function(ap){ap.call(Kl,Xl,Gu,Wu).style("pointer-events","all")});Yu.attr({width:ot.gripWidth,height:ot.gripHeight,rx:ot.gripRadius,ry:ot.gripRadius}).call(st.stroke,Wu.bordercolor).call(st.fill,Wu.bgcolor).style("stroke-width",Wu.borderwidth+"px")}function Il(Gu,Xl,Wu){var Yu=Ft.ensureSingle(Gu,"text",ot.labelClass,function(sp){sp.attr({"text-anchor":"middle","data-notex":1})}),ap=Xl.step.label,rp=Wu._gd._fullLayout._meta;return rp&&(ap=Ft.templateString(ap,rp)),Yu.call(Ln.font,Wu.font).text(ap).call(zn.convertToTspans,Wu._gd),Yu}function $l(Gu,Xl){var Wu=Ft.ensureSingle(Gu,"g",ot.labelsClass),Yu=Xl._dims,ap=Wu.selectAll("g."+ot.labelGroupClass).data(Yu.labelSteps);ap.enter().append("g").classed(ot.labelGroupClass,!0),ap.exit().remove(),ap.each(function(rp){var sp=jt.select(this);sp.call(Il,rp,Xl),Ln.setTranslate(sp,Pu(Xl,rp.fraction),ot.tickOffset+Xl.ticklen+Xl.font.size*ls+ot.labelOffset+Yu.currentValueTotalHeight)})}function Bu(Gu,Xl,Wu,Yu,ap){var rp=Math.round(Yu*(Wu._stepCount-1)),sp=Wu._visibleSteps[rp]._index;sp!==Wu.active&&Jl(Gu,Xl,Wu,sp,!0,ap)}function Jl(Gu,Xl,Wu,Yu,ap,rp){var sp=Wu.active;Wu.active=Yu,yl(Gu.layout,ot.name,Wu).applyUpdate("active",Yu);var bp=Wu.steps[Wu.active];Xl.call(mu,Wu,rp),Xl.call(Cl,Wu),Gu.emit("plotly_sliderchange",{slider:Wu,step:Wu.steps[Wu.active],interaction:ap,previousActive:sp}),bp&&bp.method&&ap&&(Xl._nextMethod?(Xl._nextMethod.step=bp,Xl._nextMethod.doCallback=ap,Xl._nextMethod.doTransition=rp):(Xl._nextMethod={step:bp,doCallback:ap,doTransition:rp},Xl._nextMethodRaf=window.requestAnimationFrame(function(){var Cp=Xl._nextMethod.step;Cp.method&&(Cp.execute&&it.executeAPICommand(Gu,Cp.method,Cp.args),Xl._nextMethod=null,Xl._nextMethodRaf=null)})))}function Kl(Gu,Xl,Wu){if(Xl._context.staticPlot)return;var Yu=Wu.node(),ap=jt.select(Xl);function rp(){return Wu.data()[0]}function sp(){var bp=rp();Xl.emit("plotly_sliderstart",{slider:bp});var Cp=Wu.select("."+ot.gripRectClass);jt.event.stopPropagation(),jt.event.preventDefault(),Cp.call(st.fill,bp.activebgcolor);var Ap=bu(bp,jt.mouse(Yu)[0]);Bu(Xl,Wu,bp,Ap,!0),bp._dragging=!0;function Lu(){var Hl=rp(),qu=bu(Hl,jt.mouse(Yu)[0]);Bu(Xl,Wu,Hl,qu,!1)}ap.on("mousemove",Lu),ap.on("touchmove",Lu);function Nu(){var Hl=rp();Hl._dragging=!1,Cp.call(st.fill,Hl.bgcolor),ap.on("mouseup",null),ap.on("mousemove",null),ap.on("touchend",null),ap.on("touchmove",null),Xl.emit("plotly_sliderend",{slider:Hl,step:Hl.steps[Hl.active]})}ap.on("mouseup",Nu),ap.on("touchend",Nu)}Gu.on("mousedown",sp),Gu.on("touchstart",sp)}function Bl(Gu,Xl){var Wu=Gu.selectAll("rect."+ot.tickRectClass).data(Xl._visibleSteps),Yu=Xl._dims;Wu.enter().append("rect").classed(ot.tickRectClass,!0),Wu.exit().remove(),Wu.attr({width:Xl.tickwidth+"px","shape-rendering":"crispEdges"}),Wu.each(function(ap,rp){var sp=rp%Yu.labelStride===0,bp=jt.select(this);bp.attr({height:sp?Xl.ticklen:Xl.minorticklen}).call(st.fill,Xl.tickcolor),Ln.setTranslate(bp,Pu(Xl,rp/(Xl._stepCount-1))-.5*Xl.tickwidth,(sp?ot.tickOffset:ot.minorTickOffset)+Yu.currentValueTotalHeight)})}function $u(Gu){var Xl=Gu._dims;Xl.labelSteps=[];for(var Wu=Gu._stepCount,Yu=0;Yu<Wu;Yu+=Xl.labelStride)Xl.labelSteps.push({fraction:Yu/(Wu-1),step:Gu._visibleSteps[Yu]})}function mu(Gu,Xl,Wu){for(var Yu=Gu.select("rect."+ot.gripRectClass),ap=0,rp=0;rp<Xl._stepCount;rp++)if(Xl._visibleSteps[rp]._index===Xl.active){ap=rp;break}var sp=Pu(Xl,ap/(Xl._stepCount-1));if(!Xl._invokingCommand){var bp=Yu;Wu&&Xl.transition.duration>0&&(bp=bp.transition().duration(Xl.transition.duration).ease(Xl.transition.easing)),bp.attr("transform",Fn(sp-ot.gripWidth*.5,Xl._dims.currentValueTotalHeight))}}function Pu(Gu,Xl){var Wu=Gu._dims;return Wu.inputAreaStart+ot.stepInset+(Wu.inputAreaLength-2*ot.stepInset)*Math.min(1,Math.max(0,Xl))}function bu(Gu,Xl){var Wu=Gu._dims;return Math.min(1,Math.max(0,(Xl-ot.stepInset-Wu.inputAreaStart)/(Wu.inputAreaLength-2*ot.stepInset-2*Wu.inputAreaStart)))}function Fu(Gu,Xl,Wu){var Yu=Wu._dims,ap=Ft.ensureSingle(Gu,"rect",ot.railTouchRectClass,function(rp){rp.call(Kl,Xl,Gu,Wu).style("pointer-events","all")});ap.attr({width:Yu.inputAreaLength,height:Math.max(Yu.inputAreaWidth,ot.tickOffset+Wu.ticklen+Yu.labelHeight)}).call(st.fill,Wu.bgcolor).attr("opacity",0),Ln.setTranslate(ap,0,Yu.currentValueTotalHeight)}function Hu(Gu,Xl){var Wu=Xl._dims,Yu=Wu.inputAreaLength-ot.railInset*2,ap=Ft.ensureSingle(Gu,"rect",ot.railRectClass);ap.attr({width:Yu,height:ot.railWidth,rx:ot.railRadius,ry:ot.railRadius,"shape-rendering":"crispEdges"}).call(st.stroke,Xl.bordercolor).call(st.fill,Xl.bgcolor).style("stroke-width",Xl.borderwidth+"px"),Ln.setTranslate(ap,ot.railInset,(Wu.inputAreaWidth-ot.railWidth)*.5+Wu.currentValueTotalHeight)}}),w5=a((yu,hu)=>{var jt=_3();hu.exports={moduleType:"component",name:jt.name,layoutAttributes:Kx(),supplyLayoutDefaults:x5(),draw:b5()}}),X3=a((yu,hu)=>{var jt=k0();hu.exports={bgcolor:{valType:"color",dflt:jt.background,editType:"plot"},bordercolor:{valType:"color",dflt:jt.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}),Xx=a((yu,hu)=>{hu.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}),Z3=a((yu,hu)=>{hu.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),C5=a(yu=>{var hu=rv(),jt=hy(),it=Z3(),st=pv().LINE_SPACING,Ln=it.name;function Ft(Fn){var zn=Fn&&Fn[Ln];return zn&&zn.visible}yu.isVisible=Ft,yu.makeData=function(Fn){for(var zn=hu.list({_fullLayout:Fn},"x",!0),yl=Fn.margin,ot=[],_l=0;_l<zn.length;_l++){var ls=zn[_l];if(Ft(ls)){ot.push(ls);var Sl=ls[Ln];Sl._id=Ln+ls._id,Sl._height=(Fn.height-yl.b-yl.t)*Sl.thickness,Sl._offsetShift=Math.floor(Sl.borderwidth/2)}}Fn._rangeSliderData=ot},yu.autoMarginOpts=function(Fn,zn){var yl=Fn._fullLayout,ot=zn[Ln],_l=zn._id.charAt(0),ls=0,Sl=0;if(zn.side==="bottom"&&(ls=zn._depth,zn.title.text!==yl._dfltTitle[_l])){Sl=1.5*zn.title.font.size+10+ot._offsetShift;var Pl=(zn.title.text.match(jt.BR_TAG_ALL)||[]).length;Sl+=Pl*zn.title.font.size*st}return{x:0,y:zn._counterDomainMin,l:0,r:0,t:0,b:ot._height+ls+Math.max(yl.margin.b,Sl),pad:it.extraPad+ot._offsetShift*2}}}),S5=a((yu,hu)=>{var jt=gu(),it=d1(),st=rv(),Ln=X3(),Ft=Xx();hu.exports=function(Fn,zn,yl){var ot=Fn[yl],_l=zn[yl];if(!(ot.rangeslider||zn._requestRangeslider[_l._id]))return;jt.isPlainObject(ot.rangeslider)||(ot.rangeslider={});var ls=ot.rangeslider,Sl=it.newContainer(_l,"rangeslider");function Pl(Bl,$u){return jt.coerce(ls,Sl,Ln,Bl,$u)}var Tl,El;function Ml(Bl,$u){return jt.coerce(Tl,El,Ft,Bl,$u)}var Rl=Pl("visible");if(Rl){Pl("bgcolor",zn.plot_bgcolor),Pl("bordercolor"),Pl("borderwidth"),Pl("thickness"),Pl("autorange",!_l.isValidRange(ls.range)),Pl("range");var Bn=zn._subplots;if(Bn)for(var Cl=Bn.cartesian.filter(function(Bl){return Bl.substr(0,Bl.indexOf("y"))===st.name2id(yl)}).map(function(Bl){return Bl.substr(Bl.indexOf("y"),Bl.length)}),Al=jt.simpleMap(Cl,st.id2name),Il=0;Il<Al.length;Il++){var $l=Al[Il];Tl=ls[$l]||{},El=it.newContainer(Sl,$l,"yaxis");var Bu=zn[$l],Jl;Tl.range&&Bu.isValidRange(Tl.range)&&(Jl="fixed");var Kl=Ml("rangemode",Jl);Kl!=="match"&&Ml("range",Bu.range.slice())}Sl._input=ls}}}),_5=a((yu,hu)=>{var jt=rv().list,it=wm().getAutoRange,st=Z3();hu.exports=function(Ln){for(var Ft=jt(Ln,"x",!0),Fn=0;Fn<Ft.length;Fn++){var zn=Ft[Fn],yl=zn[st.name];yl&&yl.visible&&yl.autorange&&(yl._input.autorange=!0,yl._input.range=yl.range=it(Ln,zn))}}}),k5=a((yu,hu)=>{var jt=g(),it=N1(),st=_v(),Ln=gu(),Ft=Ln.strTranslate,Fn=q0(),zn=D0(),yl=Z0(),ot=W3(),_l=rv(),ls=Pm(),Sl=y1(),Pl=Z3();hu.exports=function(Kl){for(var Bl=Kl._fullLayout,$u=Bl._rangeSliderData,mu=0;mu<$u.length;mu++){var Pu=$u[mu][Pl.name];Pu._clipId=Pu._id+"-"+Bl._uid}function bu(Hu){return Hu._name}var Fu=Bl._infolayer.selectAll("g."+Pl.containerClassName).data($u,bu);Fu.exit().each(function(Hu){var Gu=Hu[Pl.name];Bl._topdefs.select("#"+Gu._clipId).remove()}).remove(),$u.length!==0&&(Fu.enter().append("g").classed(Pl.containerClassName,!0).attr("pointer-events","all"),Fu.each(function(Hu){var Gu=jt.select(this),Xl=Hu[Pl.name],Wu=Bl[_l.id2name(Hu.anchor)],Yu=Xl[_l.id2name(Hu.anchor)];if(Xl.range){var ap=Ln.simpleMap(Xl.range,Hu.r2l),rp=Ln.simpleMap(Hu.range,Hu.r2l),sp;rp[0]<rp[1]?sp=[Math.min(ap[0],rp[0]),Math.max(ap[1],rp[1])]:sp=[Math.max(ap[0],rp[0]),Math.min(ap[1],rp[1])],Xl.range=Xl._input.range=Ln.simpleMap(sp,Hu.l2r)}Hu.cleanRange("rangeslider.range");var bp=Bl._size,Cp=Hu.domain;Xl._width=bp.w*(Cp[1]-Cp[0]);var Ap=Math.round(bp.l+bp.w*Cp[0]),Lu=Math.round(bp.t+bp.h*(1-Hu._counterDomainMin)+(Hu.side==="bottom"?Hu._depth:0)+Xl._offsetShift+Pl.extraPad);Gu.attr("transform",Ft(Ap,Lu)),Xl._rl=Ln.simpleMap(Xl.range,Hu.r2l);var Nu=Xl._rl[0],Hl=Xl._rl[1],qu=Hl-Nu;if(Xl.p2d=function(Pp){return Pp/Xl._width*qu+Nu},Xl.d2p=function(Pp){return(Pp-Nu)/qu*Xl._width},Hu.rangebreaks){var np=Hu.locateBreaks(Nu,Hl);if(np.length){var vu,Ol,Wl=0;for(vu=0;vu<np.length;vu++)Ol=np[vu],Wl+=Ol.max-Ol.min;var Mu=Xl._width/(Hl-Nu-Wl),zu=[-Mu*Nu];for(vu=0;vu<np.length;vu++)Ol=np[vu],zu.push(zu[zu.length-1]-Mu*(Ol.max-Ol.min));for(Xl.d2p=function(Pp){for(var Gp=zu[0],r0=0;r0<np.length;r0++){var C0=np[r0];if(Pp>=C0.max)Gp=zu[r0+1];else if(Pp<C0.min)break}return Gp+Mu*Pp},vu=0;vu<np.length;vu++)Ol=np[vu],Ol.pmin=Xl.d2p(Ol.min),Ol.pmax=Xl.d2p(Ol.max);Xl.p2d=function(Pp){for(var Gp=zu[0],r0=0;r0<np.length;r0++){var C0=np[r0];if(Pp>=C0.pmax)Gp=zu[r0+1];else if(Pp<C0.pmin)break}return(Pp-Gp)/Mu}}}if(Yu.rangemode!=="match"){var ip=Wu.r2l(Yu.range[0]),pp=Wu.r2l(Yu.range[1]),vp=pp-ip;Xl.d2pOppAxis=function(Pp){return(Pp-ip)/vp*Xl._height}}Gu.call(Bn,Kl,Hu,Xl).call(Cl,Kl,Hu,Xl).call(Al,Kl,Hu,Xl).call($l,Kl,Hu,Xl,Yu).call(Bu,Kl,Hu,Xl).call(Jl,Kl,Hu,Xl),El(Gu,Kl,Hu,Xl),Rl(Gu,Kl,Hu,Xl,Wu,Yu),Hu.side==="bottom"&&yl.draw(Kl,Hu._id+"title",{propContainer:Hu,propName:Hu._name+".title.text",placeholder:Bl._dfltTitle.x,attributes:{x:Hu._offset+Hu._length/2,y:Lu+Xl._height+Xl._offsetShift+10+1.5*Hu.title.font.size,"text-anchor":"middle"}})}))};function Tl(Kl){return typeof Kl.clientX=="number"?Kl.clientX:Kl.touches&&Kl.touches.length>0?Kl.touches[0].clientX:0}function El(Kl,Bl,$u,mu){if(Bl._context.staticPlot)return;var Pu=Kl.select("rect."+Pl.slideBoxClassName).node(),bu=Kl.select("rect."+Pl.grabAreaMinClassName).node(),Fu=Kl.select("rect."+Pl.grabAreaMaxClassName).node();function Hu(){var Gu=jt.event,Xl=Gu.target,Wu=Tl(Gu),Yu=Wu-Kl.node().getBoundingClientRect().left,ap=mu.d2p($u._rl[0]),rp=mu.d2p($u._rl[1]),sp=ls.coverSlip();this.addEventListener("touchmove",bp),this.addEventListener("touchend",Cp),sp.addEventListener("mousemove",bp),sp.addEventListener("mouseup",Cp);function bp(Ap){var Lu=Tl(Ap),Nu=+Lu-Wu,Hl,qu,np;switch(Xl){case Pu:if(np="ew-resize",ap+Nu>$u._length||rp+Nu<0)return;Hl=ap+Nu,qu=rp+Nu;break;case bu:if(np="col-resize",ap+Nu>$u._length)return;Hl=ap+Nu,qu=rp;break;case Fu:if(np="col-resize",rp+Nu<0)return;Hl=ap,qu=rp+Nu;break;default:np="ew-resize",Hl=Yu,qu=Yu+Nu;break}if(qu<Hl){var vu=qu;qu=Hl,Hl=vu}mu._pixelMin=Hl,mu._pixelMax=qu,Sl(jt.select(sp),np),Ml(Kl,Bl,$u,mu)}function Cp(){sp.removeEventListener("mousemove",bp),sp.removeEventListener("mouseup",Cp),this.removeEventListener("touchmove",bp),this.removeEventListener("touchend",Cp),Ln.removeElement(sp)}}Kl.on("mousedown",Hu),Kl.on("touchstart",Hu)}function Ml(Kl,Bl,$u,mu){function Pu(Hu){return $u.l2r(Ln.constrain(Hu,mu._rl[0],mu._rl[1]))}var bu=Pu(mu.p2d(mu._pixelMin)),Fu=Pu(mu.p2d(mu._pixelMax));window.requestAnimationFrame(function(){it.call("_guiRelayout",Bl,$u._name+".range",[bu,Fu])})}function Rl(Kl,Bl,$u,mu,Pu,bu){var Fu=Pl.handleWidth/2;function Hu(Ap){return Ln.constrain(Ap,0,mu._width)}function Gu(Ap){return Ln.constrain(Ap,0,mu._height)}function Xl(Ap){return Ln.constrain(Ap,-Fu,mu._width+Fu)}var Wu=Hu(mu.d2p($u._rl[0])),Yu=Hu(mu.d2p($u._rl[1]));if(Kl.select("rect."+Pl.slideBoxClassName).attr("x",Wu).attr("width",Yu-Wu),Kl.select("rect."+Pl.maskMinClassName).attr("width",Wu),Kl.select("rect."+Pl.maskMaxClassName).attr("x",Yu).attr("width",mu._width-Yu),bu.rangemode!=="match"){var ap=mu._height-Gu(mu.d2pOppAxis(Pu._rl[1])),rp=mu._height-Gu(mu.d2pOppAxis(Pu._rl[0]));Kl.select("rect."+Pl.maskMinOppAxisClassName).attr("x",Wu).attr("height",ap).attr("width",Yu-Wu),Kl.select("rect."+Pl.maskMaxOppAxisClassName).attr("x",Wu).attr("y",rp).attr("height",mu._height-rp).attr("width",Yu-Wu),Kl.select("rect."+Pl.slideBoxClassName).attr("y",ap).attr("height",rp-ap)}var sp=.5,bp=Math.round(Xl(Wu-Fu))-sp,Cp=Math.round(Xl(Yu-Fu))+sp;Kl.select("g."+Pl.grabberMinClassName).attr("transform",Ft(bp,sp)),Kl.select("g."+Pl.grabberMaxClassName).attr("transform",Ft(Cp,sp))}function Bn(Kl,Bl,$u,mu){var Pu=Ln.ensureSingle(Kl,"rect",Pl.bgClassName,function(Gu){Gu.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),bu=mu.borderwidth%2===0?mu.borderwidth:mu.borderwidth-1,Fu=-mu._offsetShift,Hu=Fn.crispRound(Bl,mu.borderwidth);Pu.attr({width:mu._width+bu,height:mu._height+bu,transform:Ft(Fu,Fu),"stroke-width":Hu}).call(zn.stroke,mu.bordercolor).call(zn.fill,mu.bgcolor)}function Cl(Kl,Bl,$u,mu){var Pu=Bl._fullLayout,bu=Ln.ensureSingleById(Pu._topdefs,"clipPath",mu._clipId,function(Fu){Fu.append("rect").attr({x:0,y:0})});bu.select("rect").attr({width:mu._width,height:mu._height})}function Al(Kl,Bl,$u,mu){var Pu=Bl.calcdata,bu=Kl.selectAll("g."+Pl.rangePlotClassName).data($u._subplotsWith,Ln.identity);bu.enter().append("g").attr("class",function(Hu){return Pl.rangePlotClassName+" "+Hu}).call(Fn.setClipUrl,mu._clipId,Bl),bu.order(),bu.exit().remove();var Fu;bu.each(function(Hu,Gu){var Xl=jt.select(this),Wu=Gu===0,Yu=_l.getFromId(Bl,Hu,"y"),ap=Yu._name,rp=mu[ap],sp={data:[],layout:{xaxis:{type:$u.type,domain:[0,1],range:mu.range.slice(),calendar:$u.calendar},width:mu._width,height:mu._height,margin:{t:0,b:0,l:0,r:0}},_context:Bl._context};$u.rangebreaks&&(sp.layout.xaxis.rangebreaks=$u.rangebreaks),sp.layout[ap]={type:Yu.type,domain:[0,1],range:rp.rangemode!=="match"?rp.range.slice():Yu.range.slice(),calendar:Yu.calendar},Yu.rangebreaks&&(sp.layout[ap].rangebreaks=Yu.rangebreaks),st.supplyDefaults(sp);var bp=sp._fullLayout.xaxis,Cp=sp._fullLayout[ap];bp.clearCalc(),bp.setScale(),Cp.clearCalc(),Cp.setScale();var Ap={id:Hu,plotgroup:Xl,xaxis:bp,yaxis:Cp,isRangePlot:!0};Wu?Fu=Ap:(Ap.mainplot="xy",Ap.mainplotinfo=Fu),ot.rangePlot(Bl,Ap,Il(Pu,Hu))})}function Il(Kl,Bl){for(var $u=[],mu=0;mu<Kl.length;mu++){var Pu=Kl[mu],bu=Pu[0].trace;bu.xaxis+bu.yaxis===Bl&&$u.push(Pu)}return $u}function $l(Kl,Bl,$u,mu,Pu){var bu=Ln.ensureSingle(Kl,"rect",Pl.maskMinClassName,function(Xl){Xl.attr({x:0,y:0,"shape-rendering":"crispEdges"})});bu.attr("height",mu._height).call(zn.fill,Pl.maskColor);var Fu=Ln.ensureSingle(Kl,"rect",Pl.maskMaxClassName,function(Xl){Xl.attr({y:0,"shape-rendering":"crispEdges"})});if(Fu.attr("height",mu._height).call(zn.fill,Pl.maskColor),Pu.rangemode!=="match"){var Hu=Ln.ensureSingle(Kl,"rect",Pl.maskMinOppAxisClassName,function(Xl){Xl.attr({y:0,"shape-rendering":"crispEdges"})});Hu.attr("width",mu._width).call(zn.fill,Pl.maskOppAxisColor);var Gu=Ln.ensureSingle(Kl,"rect",Pl.maskMaxOppAxisClassName,function(Xl){Xl.attr({y:0,"shape-rendering":"crispEdges"})});Gu.attr("width",mu._width).style("border-top",Pl.maskOppBorder).call(zn.fill,Pl.maskOppAxisColor)}}function Bu(Kl,Bl,$u,mu){if(!Bl._context.staticPlot){var Pu=Ln.ensureSingle(Kl,"rect",Pl.slideBoxClassName,function(bu){bu.attr({y:0,cursor:Pl.slideBoxCursor,"shape-rendering":"crispEdges"})});Pu.attr({height:mu._height,fill:Pl.slideBoxFill})}}function Jl(Kl,Bl,$u,mu){var Pu=Ln.ensureSingle(Kl,"g",Pl.grabberMinClassName),bu=Ln.ensureSingle(Kl,"g",Pl.grabberMaxClassName),Fu={x:0,width:Pl.handleWidth,rx:Pl.handleRadius,fill:zn.background,stroke:zn.defaultLine,"stroke-width":Pl.handleStrokeWidth,"shape-rendering":"crispEdges"},Hu={y:Math.round(mu._height/4),height:Math.round(mu._height/2)},Gu=Ln.ensureSingle(Pu,"rect",Pl.handleMinClassName,function(rp){rp.attr(Fu)});Gu.attr(Hu);var Xl=Ln.ensureSingle(bu,"rect",Pl.handleMaxClassName,function(rp){rp.attr(Fu)});Xl.attr(Hu);var Wu={width:Pl.grabAreaWidth,x:0,y:0,fill:Pl.grabAreaFill,cursor:Bl._context.staticPlot?void 0:Pl.grabAreaCursor},Yu=Ln.ensureSingle(Pu,"rect",Pl.grabAreaMinClassName,function(rp){rp.attr(Wu)});Yu.attr("height",mu._height);var ap=Ln.ensureSingle(bu,"rect",Pl.grabAreaMaxClassName,function(rp){rp.attr(Wu)});ap.attr("height",mu._height)}}),E5=a((yu,hu)=>{var jt=gu(),it=X3(),st=Xx(),Ln=C5();hu.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:jt.extendFlat({},it,{yaxis:st})}}},layoutAttributes:X3(),handleDefaults:S5(),calcAutorange:_5(),draw:k5(),isVisible:Ln.isVisible,makeData:Ln.makeData,autoMarginOpts:Ln.autoMarginOpts}}),Q3=a((yu,hu)=>{var jt=fp(),it=k0(),st=d1().templatedArray,Ln=st("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});hu.exports={visible:{valType:"boolean",editType:"plot"},buttons:Ln,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:jt({editType:"plot"}),bgcolor:{valType:"color",dflt:it.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:it.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}),Zx=a((yu,hu)=>{hu.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),M5=a((yu,hu)=>{var jt=gu(),it=D0(),st=d1(),Ln=_d(),Ft=Q3(),Fn=Zx();hu.exports=function(ot,_l,ls,Sl,Pl){var Tl=ot.rangeselector||{},El=st.newContainer(_l,"rangeselector");function Ml(Il,$l){return jt.coerce(Tl,El,Ft,Il,$l)}var Rl=Ln(Tl,El,{name:"buttons",handleItemDefaults:zn,calendar:Pl}),Bn=Ml("visible",Rl.length>0);if(Bn){var Cl=yl(_l,ls,Sl);Ml("x",Cl[0]),Ml("y",Cl[1]),jt.noneOrAll(ot,_l,["x","y"]),Ml("xanchor"),Ml("yanchor"),jt.coerceFont(Ml,"font",ls.font);var Al=Ml("bgcolor");Ml("activecolor",it.contrast(Al,Fn.lightAmount,Fn.darkAmount)),Ml("bordercolor"),Ml("borderwidth")}};function zn(ot,_l,ls,Sl){var Pl=Sl.calendar;function Tl(Rl,Bn){return jt.coerce(ot,_l,Ft.buttons,Rl,Bn)}var El=Tl("visible");if(El){var Ml=Tl("step");Ml!=="all"&&(Pl&&Pl!=="gregorian"&&(Ml==="month"||Ml==="year")?_l.stepmode="backward":Tl("stepmode"),Tl("count")),Tl("label")}}function yl(ot,_l,ls){for(var Sl=ls.filter(function(Ml){return _l[Ml].anchor===ot._id}),Pl=0,Tl=0;Tl<Sl.length;Tl++){var El=_l[Sl[Tl]].domain;El&&(Pl=Math.max(El[1],Pl))}return[ot.domain[0],Pl+Fn.yPad]}}),A5=a((yu,hu)=>{var jt=b(),it=gu().titleCase;hu.exports=function(Ln,Ft){var Fn=Ln._name,zn={};if(Ft.step==="all")zn[Fn+".autorange"]=!0;else{var yl=st(Ln,Ft);zn[Fn+".range[0]"]=yl[0],zn[Fn+".range[1]"]=yl[1]}return zn};function st(Ln,Ft){var Fn=Ln.range,zn=new Date(Ln.r2l(Fn[1])),yl=Ft.step,ot=jt["utc"+it(yl)],_l=Ft.count,ls;switch(Ft.stepmode){case"backward":ls=Ln.l2r(+ot.offset(zn,-_l));break;case"todate":var Sl=ot.offset(zn,-_l);ls=Ln.l2r(+ot.ceil(Sl));break}var Pl=Fn[1];return[ls,Pl]}}),T5=a((yu,hu)=>{var jt=g(),it=N1(),st=_v(),Ln=D0(),Ft=q0(),Fn=gu(),zn=Fn.strTranslate,yl=hy(),ot=rv(),_l=pv(),ls=_l.LINE_SPACING,Sl=_l.FROM_TL,Pl=_l.FROM_BR,Tl=Zx(),El=A5();hu.exports=function(Jl){var Kl=Jl._fullLayout,Bl=Kl._infolayer.selectAll(".rangeselector").data(Ml(Jl),Rl);Bl.enter().append("g").classed("rangeselector",!0),Bl.exit().remove(),Bl.style({cursor:"pointer","pointer-events":"all"}),Bl.each(function($u){var mu=jt.select(this),Pu=$u,bu=Pu.rangeselector,Fu=mu.selectAll("g.button").data(Fn.filterVisible(bu.buttons));Fu.enter().append("g").classed("button",!0),Fu.exit().remove(),Fu.each(function(Hu){var Gu=jt.select(this),Xl=El(Pu,Hu);Hu._isActive=Bn(Pu,Hu,Xl),Gu.call(Cl,bu,Hu),Gu.call(Il,bu,Hu,Jl),Gu.on("click",function(){Jl._dragged||it.call("_guiRelayout",Jl,Xl)}),Gu.on("mouseover",function(){Hu._isHovered=!0,Gu.call(Cl,bu,Hu)}),Gu.on("mouseout",function(){Hu._isHovered=!1,Gu.call(Cl,bu,Hu)})}),Bu(Jl,Fu,bu,Pu._name,mu)})};function Ml(Jl){for(var Kl=ot.list(Jl,"x",!0),Bl=[],$u=0;$u<Kl.length;$u++){var mu=Kl[$u];mu.rangeselector&&mu.rangeselector.visible&&Bl.push(mu)}return Bl}function Rl(Jl){return Jl._id}function Bn(Jl,Kl,Bl){if(Kl.step==="all")return Jl.autorange===!0;var $u=Object.keys(Bl);return Jl.range[0]===Bl[$u[0]]&&Jl.range[1]===Bl[$u[1]]}function Cl(Jl,Kl,Bl){var $u=Fn.ensureSingle(Jl,"rect","selector-rect",function(mu){mu.attr("shape-rendering","crispEdges")});$u.attr({rx:Tl.rx,ry:Tl.ry}),$u.call(Ln.stroke,Kl.bordercolor).call(Ln.fill,Al(Kl,Bl)).style("stroke-width",Kl.borderwidth+"px")}function Al(Jl,Kl){return Kl._isActive||Kl._isHovered?Jl.activecolor:Jl.bgcolor}function Il(Jl,Kl,Bl,$u){function mu(bu){yl.convertToTspans(bu,$u)}var Pu=Fn.ensureSingle(Jl,"text","selector-text",function(bu){bu.attr("text-anchor","middle")});Pu.call(Ft.font,Kl.font).text($l(Bl,$u._fullLayout._meta)).call(mu)}function $l(Jl,Kl){return Jl.label?Kl?Fn.templateString(Jl.label,Kl):Jl.label:Jl.step==="all"?"all":Jl.count+Jl.step.charAt(0)}function Bu(Jl,Kl,Bl,$u,mu){var Pu=0,bu=0,Fu=Bl.borderwidth;Kl.each(function(){var ap=jt.select(this),rp=ap.select(".selector-text"),sp=Bl.font.size*ls,bp=Math.max(sp*yl.lineCount(rp),16)+3;bu=Math.max(bu,bp)}),Kl.each(function(){var ap=jt.select(this),rp=ap.select(".selector-rect"),sp=ap.select(".selector-text"),bp=sp.node()&&Ft.bBox(sp.node()).width,Cp=Bl.font.size*ls,Ap=yl.lineCount(sp),Lu=Math.max(bp+10,Tl.minButtonWidth);ap.attr("transform",zn(Fu+Pu,Fu)),rp.attr({x:0,y:0,width:Lu,height:bu}),yl.positionText(sp,Lu/2,bu/2-(Ap-1)*Cp/2+3),Pu+=Lu+5});var Hu=Jl._fullLayout._size,Gu=Hu.l+Hu.w*Bl.x,Xl=Hu.t+Hu.h*(1-Bl.y),Wu="left";Fn.isRightAnchor(Bl)&&(Gu-=Pu,Wu="right"),Fn.isCenterAnchor(Bl)&&(Gu-=Pu/2,Wu="center");var Yu="top";Fn.isBottomAnchor(Bl)&&(Xl-=bu,Yu="bottom"),Fn.isMiddleAnchor(Bl)&&(Xl-=bu/2,Yu="middle"),Pu=Math.ceil(Pu),bu=Math.ceil(bu),Gu=Math.round(Gu),Xl=Math.round(Xl),st.autoMargin(Jl,$u+"-range-selector",{x:Bl.x,y:Bl.y,l:Pu*Sl[Wu],r:Pu*Pl[Wu],b:bu*Pl[Yu],t:bu*Sl[Yu]}),mu.attr("transform",zn(Gu,Xl))}}),R5=a((yu,hu)=>{hu.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:Q3()}}},layoutAttributes:Q3(),handleDefaults:M5(),draw:T5()}}),J3=a(yu=>{var hu=Uu().extendFlat;yu.attributes=function(jt,it){jt=jt||{},it=it||{};var st={valType:"info_array",editType:jt.editType,items:[{valType:"number",min:0,max:1,editType:jt.editType},{valType:"number",min:0,max:1,editType:jt.editType}],dflt:[0,1]};jt.name&&jt.name+"",jt.trace,it.description&&""+it.description;var Ln={x:hu({},st,{}),y:hu({},st,{}),editType:jt.editType};return jt.noGridCell||(Ln.row={valType:"integer",min:0,dflt:0,editType:jt.editType},Ln.column={valType:"integer",min:0,dflt:0,editType:jt.editType}),Ln},yu.defaults=function(jt,it,st,Ln){var Ft=Ln&&Ln.x||[0,1],Fn=Ln&&Ln.y||[0,1],zn=it.grid;if(zn){var yl=st("domain.column");yl!==void 0&&(yl<zn.columns?Ft=zn._domains.x[yl]:delete jt.domain.column);var ot=st("domain.row");ot!==void 0&&(ot<zn.rows?Fn=zn._domains.y[ot]:delete jt.domain.row)}var _l=st("domain.x",Ft),ls=st("domain.y",Fn);_l[0]<_l[1]||(jt.domain.x=Ft.slice()),ls[0]<ls[1]||(jt.domain.y=Fn.slice())}}),F5=a((yu,hu)=>{var jt=gu(),it=dp().counter,st=J3().attributes,Ln=E1().idRegex,Ft=d1(),Fn={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[it("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[Ln.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[Ln.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:st({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function zn(Sl,Pl,Tl){var El=Pl[Tl+"axes"],Ml=Object.keys((Sl._splomAxes||{})[Tl]||{});if(Array.isArray(El))return El;if(Ml.length)return Ml}function yl(Sl,Pl){var Tl=Sl.grid||{},El=zn(Pl,Tl,"x"),Ml=zn(Pl,Tl,"y");if(!Sl.grid&&!El&&!Ml)return;var Rl=Array.isArray(Tl.subplots)&&Array.isArray(Tl.subplots[0]),Bn=Array.isArray(El),Cl=Array.isArray(Ml),Al=Bn&&El!==Tl.xaxes&&Cl&&Ml!==Tl.yaxes,Il,$l;Rl?(Il=Tl.subplots.length,$l=Tl.subplots[0].length):(Cl&&(Il=Ml.length),Bn&&($l=El.length));var Bu=Ft.newContainer(Pl,"grid");function Jl(Xl,Wu){return jt.coerce(Tl,Bu,Fn,Xl,Wu)}var Kl=Jl("rows",Il),Bl=Jl("columns",$l);if(!(Kl*Bl>1)){delete Pl.grid;return}if(!Rl&&!Bn&&!Cl){var $u=Jl("pattern")==="independent";$u&&(Rl=!0)}Bu._hasSubplotGrid=Rl;var mu=Jl("roworder"),Pu=mu==="top to bottom",bu=Rl?.2:.1,Fu=Rl?.3:.1,Hu,Gu;Al&&Pl._splomGridDflt&&(Hu=Pl._splomGridDflt.xside,Gu=Pl._splomGridDflt.yside),Bu._domains={x:ot("x",Jl,bu,Hu,Bl),y:ot("y",Jl,Fu,Gu,Kl,Pu)}}function ot(Sl,Pl,Tl,El,Ml,Rl){var Bn=Pl(Sl+"gap",Tl),Cl=Pl("domain."+Sl);Pl(Sl+"side",El);for(var Al=new Array(Ml),Il=Cl[0],$l=(Cl[1]-Il)/(Ml-Bn),Bu=$l*(1-Bn),Jl=0;Jl<Ml;Jl++){var Kl=Il+$l*Jl;Al[Rl?Ml-1-Jl:Jl]=[Kl,Kl+Bu]}return Al}function _l(Sl,Pl){var Tl=Pl.grid;if(!(!Tl||!Tl._domains)){var El=Sl.grid||{},Ml=Pl._subplots,Rl=Tl._hasSubplotGrid,Bn=Tl.rows,Cl=Tl.columns,Al=Tl.pattern==="independent",Il,$l,Bu,Jl,Kl,Bl,$u,mu=Tl._axisMap={};if(Rl){var Pu=El.subplots||[];Bl=Tl.subplots=new Array(Bn);var bu=1;for(Il=0;Il<Bn;Il++){var Fu=Bl[Il]=new Array(Cl),Hu=Pu[Il]||[];for($l=0;$l<Cl;$l++)if(Al?(Kl=bu===1?"xy":"x"+bu+"y"+bu,bu++):Kl=Hu[$l],Fu[$l]="",Ml.cartesian.indexOf(Kl)!==-1){if($u=Kl.indexOf("y"),Bu=Kl.slice(0,$u),Jl=Kl.slice($u),mu[Bu]!==void 0&&mu[Bu]!==$l||mu[Jl]!==void 0&&mu[Jl]!==Il)continue;Fu[$l]=Kl,mu[Bu]=$l,mu[Jl]=Il}}}else{var Gu=zn(Pl,El,"x"),Xl=zn(Pl,El,"y");Tl.xaxes=ls(Gu,Ml.xaxis,Cl,mu,"x"),Tl.yaxes=ls(Xl,Ml.yaxis,Bn,mu,"y")}var Wu=Tl._anchors={},Yu=Tl.roworder==="top to bottom";for(var ap in mu){var rp=ap.charAt(0),sp=Tl[rp+"side"],bp,Cp,Ap;if(sp.length<8)Wu[ap]="free";else if(rp==="x"){if(sp.charAt(0)==="t"===Yu?(bp=0,Cp=1,Ap=Bn):(bp=Bn-1,Cp=-1,Ap=-1),Rl){var Lu=mu[ap];for(Il=bp;Il!==Ap;Il+=Cp)if(Kl=Bl[Il][Lu],!!Kl&&($u=Kl.indexOf("y"),Kl.slice(0,$u)===ap)){Wu[ap]=Kl.slice($u);break}}else for(Il=bp;Il!==Ap;Il+=Cp)if(Jl=Tl.yaxes[Il],Ml.cartesian.indexOf(ap+Jl)!==-1){Wu[ap]=Jl;break}}else if(sp.charAt(0)==="l"?(bp=0,Cp=1,Ap=Cl):(bp=Cl-1,Cp=-1,Ap=-1),Rl){var Nu=mu[ap];for(Il=bp;Il!==Ap;Il+=Cp)if(Kl=Bl[Nu][Il],!!Kl&&($u=Kl.indexOf("y"),Kl.slice($u)===ap)){Wu[ap]=Kl.slice(0,$u);break}}else for(Il=bp;Il!==Ap;Il+=Cp)if(Bu=Tl.xaxes[Il],Ml.cartesian.indexOf(Bu+ap)!==-1){Wu[ap]=Bu;break}}}}function ls(Sl,Pl,Tl,El,Ml){var Rl=new Array(Tl),Bn;function Cl(Al,Il){Pl.indexOf(Il)!==-1&&El[Il]===void 0?(Rl[Al]=Il,El[Il]=Al):Rl[Al]=""}if(Array.isArray(Sl))for(Bn=0;Bn<Tl;Bn++)Cl(Bn,Sl[Bn]);else for(Cl(0,Ml),Bn=1;Bn<Tl;Bn++)Cl(Bn,Ml+(Bn+1));return Rl}hu.exports={moduleType:"component",name:"grid",schema:{layout:{grid:Fn}},layoutAttributes:Fn,sizeDefaults:yl,contentDefaults:_l}}),Qx=a((yu,hu)=>{hu.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}),P5=a((yu,hu)=>{var jt=rt(),it=N1(),st=gu(),Ln=d1(),Ft=Qx();hu.exports=function(Fn,zn,yl,ot){var _l="error_"+ot.axis,ls=Ln.newContainer(zn,_l),Sl=Fn[_l]||{};function Pl(Al,Il){return st.coerce(Sl,ls,Ft,Al,Il)}var Tl=Sl.array!==void 0||Sl.value!==void 0||Sl.type==="sqrt",El=Pl("visible",Tl);if(El!==!1){var Ml=Pl("type","array"in Sl?"data":"percent"),Rl=!0;Ml!=="sqrt"&&(Rl=Pl("symmetric",!((Ml==="data"?"arrayminus":"valueminus")in Sl))),Ml==="data"?(Pl("array"),Pl("traceref"),Rl||(Pl("arrayminus"),Pl("tracerefminus"))):(Ml==="percent"||Ml==="constant")&&(Pl("value"),Rl||Pl("valueminus"));var Bn="copy_"+ot.inherit+"style";if(ot.inherit){var Cl=zn["error_"+ot.inherit];(Cl||{}).visible&&Pl(Bn,!(Sl.color||jt(Sl.thickness)||jt(Sl.width)))}(!ot.inherit||!ls[Bn])&&(Pl("color",yl),Pl("thickness"),Pl("width",it.traceIs(zn,"gl3d")?0:4))}}}),Jx=a((yu,hu)=>{hu.exports=function(it){var st=it.type,Ln=it.symmetric;if(st==="data"){var Ft=it.array||[];if(Ln)return function(ot,_l){var ls=+Ft[_l];return[ls,ls]};var Fn=it.arrayminus||[];return function(ot,_l){var ls=+Ft[_l],Sl=+Fn[_l];return!isNaN(ls)||!isNaN(Sl)?[Sl||0,ls||0]:[NaN,NaN]}}else{var zn=jt(st,it.value),yl=jt(st,it.valueminus);return Ln||it.valueminus===void 0?function(ot){var _l=zn(ot);return[_l,_l]}:function(ot){return[yl(ot),zn(ot)]}}};function jt(it,st){if(it==="percent")return function(Ln){return Math.abs(Ln*st/100)};if(it==="constant")return function(){return Math.abs(st)};if(it==="sqrt")return function(Ln){return Math.sqrt(Math.abs(Ln))}}}),D5=a((yu,hu)=>{var jt=rt(),it=N1(),st=bm(),Ln=gu(),Ft=Jx();hu.exports=function(zn){for(var yl=zn.calcdata,ot=0;ot<yl.length;ot++){var _l=yl[ot],ls=_l[0].trace;if(ls.visible===!0&&it.traceIs(ls,"errorBarsOK")){var Sl=st.getFromId(zn,ls.xaxis),Pl=st.getFromId(zn,ls.yaxis);Fn(_l,ls,Sl,"x"),Fn(_l,ls,Pl,"y")}}};function Fn(zn,yl,ot,_l){var ls=yl["error_"+_l]||{},Sl=ls.visible&&["linear","log"].indexOf(ot.type)!==-1,Pl=[];if(Sl){for(var Tl=Ft(ls),El=0;El<zn.length;El++){var Ml=zn[El],Rl=Ml.i;if(Rl===void 0)Rl=El;else if(Rl===null)continue;var Bn=Ml[_l];if(jt(ot.c2l(Bn))){var Cl=Tl(Bn,Rl);if(jt(Cl[0])&&jt(Cl[1])){var Al=Ml[_l+"s"]=Bn-Cl[0],Il=Ml[_l+"h"]=Bn+Cl[1];Pl.push(Al,Il)}}}var $l=ot._id,Bu=yl._extremes[$l],Jl=st.findExtremes(ot,Pl,Ln.extendFlat({tozero:Bu.opts.tozero},{padded:!0}));Bu.min=Bu.min.concat(Jl.min),Bu.max=Bu.max.concat(Jl.max)}}}),L5=a((yu,hu)=>{var jt=g(),it=rt(),st=q0(),Ln=Qp();hu.exports=function(Fn,zn,yl,ot){var _l,ls=yl.xaxis,Sl=yl.yaxis,Pl=ot&&ot.duration>0,Tl=Fn._context.staticPlot;zn.each(function(El){var Ml=El[0].trace,Rl=Ml.error_x||{},Bn=Ml.error_y||{},Cl;Ml.ids&&(Cl=function(Bu){return Bu.id});var Al=Ln.hasMarkers(Ml)&&Ml.marker.maxdisplayed>0;!Bn.visible&&!Rl.visible&&(El=[]);var Il=jt.select(this).selectAll("g.errorbar").data(El,Cl);if(Il.exit().remove(),!!El.length){Rl.visible||Il.selectAll("path.xerror").remove(),Bn.visible||Il.selectAll("path.yerror").remove(),Il.style("opacity",1);var $l=Il.enter().append("g").classed("errorbar",!0);Pl&&$l.style("opacity",0).transition().duration(ot.duration).style("opacity",1),st.setClipUrl(Il,yl.layerClipId,Fn),Il.each(function(Bu){var Jl=jt.select(this),Kl=Ft(Bu,ls,Sl);if(!(Al&&!Bu.vis)){var Bl,$u=Jl.select("path.yerror");if(Bn.visible&&it(Kl.x)&&it(Kl.yh)&&it(Kl.ys)){var mu=Bn.width;Bl="M"+(Kl.x-mu)+","+Kl.yh+"h"+2*mu+"m-"+mu+",0V"+Kl.ys,Kl.noYS||(Bl+="m-"+mu+",0h"+2*mu),_l=!$u.size(),_l?$u=Jl.append("path").style("vector-effect",Tl?"none":"non-scaling-stroke").classed("yerror",!0):Pl&&($u=$u.transition().duration(ot.duration).ease(ot.easing)),$u.attr("d",Bl)}else $u.remove();var Pu=Jl.select("path.xerror");if(Rl.visible&&it(Kl.y)&&it(Kl.xh)&&it(Kl.xs)){var bu=(Rl.copy_ystyle?Bn:Rl).width;Bl="M"+Kl.xh+","+(Kl.y-bu)+"v"+2*bu+"m0,-"+bu+"H"+Kl.xs,Kl.noXS||(Bl+="m0,-"+bu+"v"+2*bu),_l=!Pu.size(),_l?Pu=Jl.append("path").style("vector-effect",Tl?"none":"non-scaling-stroke").classed("xerror",!0):Pl&&(Pu=Pu.transition().duration(ot.duration).ease(ot.easing)),Pu.attr("d",Bl)}else Pu.remove()}})}})};function Ft(Fn,zn,yl){var ot={x:zn.c2p(Fn.x),y:yl.c2p(Fn.y)};return Fn.yh!==void 0&&(ot.yh=yl.c2p(Fn.yh),ot.ys=yl.c2p(Fn.ys),it(ot.ys)||(ot.noYS=!0,ot.ys=yl.c2p(Fn.ys,!0))),Fn.xh!==void 0&&(ot.xh=zn.c2p(Fn.xh),ot.xs=zn.c2p(Fn.xs),it(ot.xs)||(ot.noXS=!0,ot.xs=zn.c2p(Fn.xs,!0))),ot}}),I5=a((yu,hu)=>{var jt=g(),it=D0();hu.exports=function(st){st.each(function(Ln){var Ft=Ln[0].trace,Fn=Ft.error_y||{},zn=Ft.error_x||{},yl=jt.select(this);yl.selectAll("path.yerror").style("stroke-width",Fn.thickness+"px").call(it.stroke,Fn.color),zn.copy_ystyle&&(zn=Fn),yl.selectAll("path.xerror").style("stroke-width",zn.thickness+"px").call(it.stroke,zn.color)})}}),O5=a((yu,hu)=>{var jt=gu(),it=x1().overrideAll,st=Qx(),Ln={error_x:jt.extendFlat({},st),error_y:jt.extendFlat({},st)};delete Ln.error_x.copy_zstyle,delete Ln.error_y.copy_zstyle,delete Ln.error_y.copy_ystyle;var Ft={error_x:jt.extendFlat({},st),error_y:jt.extendFlat({},st),error_z:jt.extendFlat({},st)};delete Ft.error_x.copy_ystyle,delete Ft.error_y.copy_ystyle,delete Ft.error_z.copy_ystyle,delete Ft.error_z.copy_zstyle,hu.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:Ln,bar:Ln,histogram:Ln,scatter3d:it(Ft,"calc","nested"),scattergl:it(Ln,"calc","nested")}},supplyDefaults:P5(),calc:D5(),makeComputeError:Jx(),plot:L5(),style:I5(),hoverInfo:Fn};function Fn(zn,yl,ot){(yl.error_y||{}).visible&&(ot.yerr=zn.yh-zn.y,yl.error_y.symmetric||(ot.yerrneg=zn.y-zn.ys)),(yl.error_x||{}).visible&&(ot.xerr=zn.xh-zn.x,yl.error_x.symmetric||(ot.xerrneg=zn.x-zn.xs))}}),z5=a((yu,hu)=>{hu.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}),N5=a((yu,hu)=>{var jt=g(),it=Ju(),st=_v(),Ln=N1(),Ft=bm(),Fn=Pm(),zn=gu(),yl=zn.strTranslate,ot=Uu().extendFlat,_l=y1(),ls=q0(),Sl=D0(),Pl=Z0(),Tl=hy(),El=tv().flipScale,Ml=jx(),Rl=Vx(),Bn=c0(),Cl=pv(),Al=Cl.LINE_SPACING,Il=Cl.FROM_TL,$l=Cl.FROM_BR,Bu=z5().cn;function Jl(bu){var Fu=bu._fullLayout,Hu=Fu._infolayer.selectAll("g."+Bu.colorbar).data(Kl(bu),function(Gu){return Gu._id});Hu.enter().append("g").attr("class",function(Gu){return Gu._id}).classed(Bu.colorbar,!0),Hu.each(function(Gu){var Xl=jt.select(this);zn.ensureSingle(Xl,"rect",Bu.cbbg),zn.ensureSingle(Xl,"g",Bu.cbfills),zn.ensureSingle(Xl,"g",Bu.cblines),zn.ensureSingle(Xl,"g",Bu.cbaxis,function(Yu){Yu.classed(Bu.crisp,!0)}),zn.ensureSingle(Xl,"g",Bu.cbtitleunshift,function(Yu){Yu.append("g").classed(Bu.cbtitle,!0)}),zn.ensureSingle(Xl,"rect",Bu.cboutline);var Wu=Bl(Xl,Gu,bu);Wu&&Wu.then&&(bu._promises||[]).push(Wu),bu._context.edits.colorbarPosition&&$u(Xl,Gu,bu)}),Hu.exit().each(function(Gu){st.autoMargin(bu,Gu._id)}).remove(),Hu.order()}function Kl(bu){var Fu=bu._fullLayout,Hu=bu.calcdata,Gu=[],Xl,Wu,Yu,ap;function rp(Ol){return ot(Ol,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function sp(){typeof ap.calc=="function"?ap.calc(bu,Yu,Xl):(Xl._fillgradient=Wu.reversescale?El(Wu.colorscale):Wu.colorscale,Xl._zrange=[Wu[ap.min],Wu[ap.max]])}for(var bp=0;bp<Hu.length;bp++){var Cp=Hu[bp];if(Yu=Cp[0].trace,!!Yu._module){var Ap=Yu._module.colorbar;if(Yu.visible===!0&&Ap)for(var Lu=Array.isArray(Ap),Nu=Lu?Ap:[Ap],Hl=0;Hl<Nu.length;Hl++){ap=Nu[Hl];var qu=ap.container;Wu=qu?Yu[qu]:Yu,Wu&&Wu.showscale&&(Xl=rp(Wu.colorbar),Xl._id="cb"+Yu.uid+(Lu&&qu?"-"+qu:""),Xl._traceIndex=Yu.index,Xl._propPrefix=(qu?qu+".":"")+"colorbar.",Xl._meta=Yu._meta,sp(),Gu.push(Xl))}}}for(var np in Fu._colorAxes)if(Wu=Fu[np],Wu.showscale){var vu=Fu._colorAxes[np];Xl=rp(Wu.colorbar),Xl._id="cb"+np,Xl._propPrefix=np+".colorbar.",Xl._meta=Fu._meta,ap={min:"cmin",max:"cmax"},vu[0]!=="heatmap"&&(Yu=vu[1],ap.calc=Yu._module.colorbar.calc),sp(),Gu.push(Xl)}return Gu}function Bl(bu,Fu,Hu){var Gu=Fu.orientation==="v",Xl=Fu.len,Wu=Fu.lenmode,Yu=Fu.thickness,ap=Fu.thicknessmode,rp=Fu.outlinewidth,sp=Fu.borderwidth,bp=Fu.bgcolor,Cp=Fu.xanchor,Ap=Fu.yanchor,Lu=Fu.xpad,Nu=Fu.ypad,Hl=Fu.x,qu=Gu?Fu.y:1-Fu.y,np=Fu.yref==="paper",vu=Fu.xref==="paper",Ol=Hu._fullLayout,Wl=Ol._size,Mu=Fu._fillcolor,zu=Fu._line,ip=Fu.title,pp=ip.side,vp=Fu._zrange||jt.extent((typeof Mu=="function"?Mu:zu.color).domain()),Pp=typeof zu.color=="function"?zu.color:function(){return zu.color},Gp=typeof Mu=="function"?Mu:function(){return Mu},r0=Fu._levels,C0=mu(Hu,Fu,vp),f0=C0.fill,d0=C0.line,Sp=Math.round(Yu*(ap==="fraction"?Gu?Wl.w:Wl.h:1)),Fp=Sp/(Gu?Wl.w:Wl.h),cp=Math.round(Xl*(Wu==="fraction"?Gu?Wl.h:Wl.w:1)),jp=cp/(Gu?Wl.h:Wl.w),a0=vu?Wl.w:Hu._fullLayout.width,y0=np?Wl.h:Hu._fullLayout.height,P0=Math.round(Gu?Hl*a0+Lu:qu*y0+Nu),E0={center:.5,right:1}[Cp]||0,O0={top:1,middle:.5}[Ap]||0,j0=Gu?Hl-E0*Fp:qu-O0*Fp,$0=Gu?qu-O0*jp:Hl-E0*jp,tm=Math.round(Gu?y0*(1-$0):a0*$0);Fu._lenFrac=jp,Fu._thickFrac=Fp,Fu._uFrac=j0,Fu._vFrac=$0;var A0=Fu._axis=Pu(Hu,Fu,vp);A0.position=Fp+(Gu?Hl+Lu/Wl.w:qu+Nu/Wl.h);var sm=["top","bottom"].indexOf(pp)!==-1;if(Gu&&sm&&(A0.title.side=pp,A0.titlex=Hl+Lu/Wl.w,A0.titley=$0+(ip.side==="top"?jp-Nu/Wl.h:Nu/Wl.h)),!Gu&&!sm&&(A0.title.side=pp,A0.titley=qu+Nu/Wl.h,A0.titlex=$0+Lu/Wl.w),zu.color&&Fu.tickmode==="auto"){A0.tickmode="linear",A0.tick0=r0.start;var pm=r0.size,nm=zn.constrain(cp/50,4,15)+1,vm=(vp[1]-vp[0])/((Fu.nticks||nm)*pm);if(vm>1){var kp=Math.pow(10,Math.floor(Math.log(vm)/Math.LN10));pm*=kp*zn.roundUp(vm/kp,[2,5,10]),(Math.abs(r0.start)/r0.size+1e-6)%1<2e-6&&(A0.tick0=0)}A0.dtick=pm}A0.domain=Gu?[$0+Nu/Wl.h,$0+jp-Nu/Wl.h]:[$0+Lu/Wl.w,$0+jp-Lu/Wl.w],A0.setScale(),bu.attr("transform",yl(Math.round(Wl.l),Math.round(Wl.t)));var qp=bu.select("."+Bu.cbtitleunshift).attr("transform",yl(-Math.round(Wl.l),-Math.round(Wl.t))),Xu=A0.ticklabelposition,hp=A0.title.font.size,yp=bu.select("."+Bu.cbaxis),Dp,Bp=0,Jp=0;function n0(W0,Y0){var gm={propContainer:A0,propName:Fu._propPrefix+"title.text",traceIndex:Fu._traceIndex,_meta:Fu._meta,placeholder:Ol._dfltTitle.colorbar,containerGroup:bu.select("."+Bu.cbtitle)},Dm=W0.charAt(0)==="h"?W0.substr(1):"h"+W0;bu.selectAll("."+Dm+",."+Dm+"-math-group").remove(),Pl.draw(Hu,W0,ot(gm,Y0||{}))}function b0(){if(Gu&&sm||!Gu&&!sm){var W0,Y0;pp==="top"&&(W0=Lu+Wl.l+a0*Hl,Y0=Nu+Wl.t+y0*(1-$0-jp)+3+hp*.75),pp==="bottom"&&(W0=Lu+Wl.l+a0*Hl,Y0=Nu+Wl.t+y0*(1-$0)-3-hp*.25),pp==="right"&&(Y0=Nu+Wl.t+y0*qu+3+hp*.75,W0=Lu+Wl.l+a0*$0),n0(A0._id+"title",{attributes:{x:W0,y:Y0,"text-anchor":Gu?"start":"middle"}})}}function v0(){if(Gu&&!sm||!Gu&&sm){var W0=A0.position||0,Y0=A0._offset+A0._length/2,gm,Dm;if(pp==="right")Dm=Y0,gm=Wl.l+a0*W0+10+hp*(A0.showticklabels?1:.5);else if(gm=Y0,pp==="bottom"&&(Dm=Wl.t+y0*W0+10+(Xu.indexOf("inside")===-1?A0.tickfont.size:0)+(A0.ticks!=="inside"&&Fu.ticklen||0)),pp==="top"){var Jm=ip.text.split("<br>").length;Dm=Wl.t+y0*W0+10-Sp-Al*hp*Jm}n0((Gu?"h":"v")+A0._id+"title",{avoid:{selection:jt.select(Hu).selectAll("g."+A0._id+"tick"),side:pp,offsetTop:Gu?0:Wl.t,offsetLeft:Gu?Wl.l:0,maxShift:Gu?Ol.width:Ol.height},attributes:{x:gm,y:Dm,"text-anchor":"middle"},transform:{rotate:Gu?-90:0,offset:0}})}}function x0(){if(!Gu&&!sm||Gu&&sm){var W0=bu.select("."+Bu.cbtitle),Y0=W0.select("text"),gm=[-rp/2,rp/2],Dm=W0.select(".h"+A0._id+"title-math-group").node(),Jm=15.6;Y0.node()&&(Jm=parseInt(Y0.node().style.fontSize,10)*Al);var a1;if(Dm?(a1=ls.bBox(Dm),Jp=a1.width,Bp=a1.height,Bp>Jm&&(gm[1]-=(Bp-Jm)/2)):Y0.node()&&!Y0.classed(Bu.jsPlaceholder)&&(a1=ls.bBox(Y0.node()),Jp=a1.width,Bp=a1.height),Gu){if(Bp){if(Bp+=5,pp==="top")A0.domain[1]-=Bp/Wl.h,gm[1]*=-1;else{A0.domain[0]+=Bp/Wl.h;var h1=Tl.lineCount(Y0);gm[1]+=(1-h1)*Jm}W0.attr("transform",yl(gm[0],gm[1])),A0.setScale()}}else Jp&&(pp==="right"&&(A0.domain[0]+=(Jp+hp/2)/Wl.w),W0.attr("transform",yl(gm[0],gm[1])),A0.setScale())}bu.selectAll("."+Bu.cbfills+",."+Bu.cblines).attr("transform",Gu?yl(0,Math.round(Wl.h*(1-A0.domain[1]))):yl(Math.round(Wl.w*A0.domain[0]),0)),yp.attr("transform",Gu?yl(0,Math.round(-Wl.t)):yl(Math.round(-Wl.l),0));var zm=bu.select("."+Bu.cbfills).selectAll("rect."+Bu.cbfill).attr("style","").data(f0);zm.enter().append("rect").classed(Bu.cbfill,!0).attr("style",""),zm.exit().remove();var xm=vp.map(A0.c2p).map(Math.round).sort(function(Wm,Om){return Wm-Om});zm.each(function(Wm,Om){var A1=[Om===0?vp[0]:(f0[Om]+f0[Om-1])/2,Om===f0.length-1?vp[1]:(f0[Om]+f0[Om+1])/2].map(A0.c2p).map(Math.round);Gu&&(A1[1]=zn.constrain(A1[1]+(A1[1]>A1[0])?1:-1,xm[0],xm[1]));var B1=jt.select(this).attr(Gu?"x":"y",P0).attr(Gu?"y":"x",jt.min(A1)).attr(Gu?"width":"height",Math.max(Sp,2)).attr(Gu?"height":"width",Math.max(jt.max(A1)-jt.min(A1),2));if(Fu._fillgradient)ls.gradient(B1,Hu,Fu._id,Gu?"vertical":"horizontalreversed",Fu._fillgradient,"fill");else{var o1=Gp(Wm).replace("e-","");B1.attr("fill",it(o1).toHexString())}});var Qm=bu.select("."+Bu.cblines).selectAll("path."+Bu.cbline).data(zu.color&&zu.width?d0:[]);Qm.enter().append("path").classed(Bu.cbline,!0),Qm.exit().remove(),Qm.each(function(Wm){var Om=P0,A1=Math.round(A0.c2p(Wm))+zu.width/2%1;jt.select(this).attr("d","M"+(Gu?Om+","+A1:A1+","+Om)+(Gu?"h":"v")+Sp).call(ls.lineGroupStyle,zu.width,Pp(Wm),zu.dash)}),yp.selectAll("g."+A0._id+"tick,path").remove();var l1=P0+Sp+(rp||0)/2-(Fu.ticks==="outside"?1:0),Xm=Ft.calcTicks(A0),jm=Ft.getTickSigns(A0)[2];return Ft.drawTicks(Hu,A0,{vals:A0.ticks==="inside"?Ft.clipEnds(A0,Xm):Xm,layer:yp,path:Ft.makeTickPath(A0,l1,jm),transFn:Ft.makeTransTickFn(A0)}),Ft.drawLabels(Hu,A0,{vals:Xm,layer:yp,transFn:Ft.makeTransTickLabelFn(A0),labelFns:Ft.makeLabelFns(A0,l1)})}function U0(){var W0,Y0=Sp+rp/2;Xu.indexOf("inside")===-1&&(W0=ls.bBox(yp.node()),Y0+=Gu?W0.width:W0.height),Dp=qp.select("text");var gm=0,Dm=Gu&&pp==="top",Jm=!Gu&&pp==="right",a1=0;if(Dp.node()&&!Dp.classed(Bu.jsPlaceholder)){var h1,zm=qp.select(".h"+A0._id+"title-math-group").node();zm&&(Gu&&sm||!Gu&&!sm)?(W0=ls.bBox(zm),gm=W0.width,h1=W0.height):(W0=ls.bBox(qp.node()),gm=W0.right-Wl.l-(Gu?P0:tm),h1=W0.bottom-Wl.t-(Gu?tm:P0),!Gu&&pp==="top"&&(Y0+=W0.height,a1=W0.height)),Jm&&(Dp.attr("transform",yl(gm/2+hp/2,0)),gm*=2),Y0=Math.max(Y0,Gu?gm:h1)}var xm=(Gu?Lu:Nu)*2+Y0+sp+rp/2,Qm=0;!Gu&&ip.text&&Ap==="bottom"&&qu<=0&&(Qm=xm/2,xm+=Qm,a1+=Qm),Ol._hColorbarMoveTitle=Qm,Ol._hColorbarMoveCBTitle=a1;var l1=sp+rp,Xm=(Gu?P0:tm)-l1/2-(Gu?Lu:0),jm=(Gu?tm:P0)-(Gu?cp:Nu+a1-Qm);bu.select("."+Bu.cbbg).attr("x",Xm).attr("y",jm).attr(Gu?"width":"height",Math.max(xm-Qm,2)).attr(Gu?"height":"width",Math.max(cp+l1,2)).call(Sl.fill,bp).call(Sl.stroke,Fu.bordercolor).style("stroke-width",sp);var Wm=Jm?Math.max(gm-10,0):0;bu.selectAll("."+Bu.cboutline).attr("x",(Gu?P0:tm+Lu)+Wm).attr("y",(Gu?tm+Nu-cp:P0)+(Dm?Bp:0)).attr(Gu?"width":"height",Math.max(Sp,2)).attr(Gu?"height":"width",Math.max(cp-(Gu?2*Nu+Bp:2*Lu+Wm),2)).call(Sl.stroke,Fu.outlinecolor).style({fill:"none","stroke-width":rp});var Om=Gu?E0*xm:0,A1=Gu?0:(1-O0)*xm-a1;if(Om=vu?Wl.l-Om:-Om,A1=np?Wl.t-A1:-A1,bu.attr("transform",yl(Om,A1)),!Gu&&(sp||it(bp).getAlpha()&&!it.equals(Ol.paper_bgcolor,bp))){var B1=yp.selectAll("text"),o1=B1[0].length,$1=bu.select("."+Bu.cbbg).node(),X1=ls.bBox($1),cv=ls.getTranslate(bu),dv=2;B1.each(function(u0,Vp){var Yp=0,p0=o1-1;if(Vp===Yp||Vp===p0){var o0=ls.bBox(this),M0=ls.getTranslate(this),L0;if(Vp===p0){var rm=o0.right+M0.x,Tm=X1.right+cv.x+tm-sp-dv+Hl;L0=Tm-rm,L0>0&&(L0=0)}else if(Vp===Yp){var Mm=o0.left+M0.x,Vm=X1.left+cv.x+tm+sp+dv;L0=Vm-Mm,L0<0&&(L0=0)}L0&&(o1<3?this.setAttribute("transform","translate("+L0+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var L1={},iv=Il[Cp],W1=$l[Cp],Hm=Il[Ap],Tv=$l[Ap],ep=xm-Sp;Gu?(Wu==="pixels"?(L1.y=qu,L1.t=cp*Hm,L1.b=cp*Tv):(L1.t=L1.b=0,L1.yt=qu+Xl*Hm,L1.yb=qu-Xl*Tv),ap==="pixels"?(L1.x=Hl,L1.l=xm*iv,L1.r=xm*W1):(L1.l=ep*iv,L1.r=ep*W1,L1.xl=Hl-Yu*iv,L1.xr=Hl+Yu*W1)):(Wu==="pixels"?(L1.x=Hl,L1.l=cp*iv,L1.r=cp*W1):(L1.l=L1.r=0,L1.xl=Hl+Xl*iv,L1.xr=Hl-Xl*W1),ap==="pixels"?(L1.y=1-qu,L1.t=xm*Hm,L1.b=xm*Tv):(L1.t=ep*Hm,L1.b=ep*Tv,L1.yt=qu-Yu*Hm,L1.yb=qu+Yu*Tv));var Qu=Fu.y<.5?"b":"t",Up=Fu.x<.5?"l":"r";Hu._fullLayout._reservedMargin[Fu._id]={};var _f={r:Ol.width-Xm-Om,l:Xm+L1.r,b:Ol.height-jm-A1,t:jm+L1.b};vu&&np?st.autoMargin(Hu,Fu._id,L1):vu?Hu._fullLayout._reservedMargin[Fu._id][Qu]=_f[Qu]:np||Gu?Hu._fullLayout._reservedMargin[Fu._id][Up]=_f[Up]:Hu._fullLayout._reservedMargin[Fu._id][Qu]=_f[Qu]}return zn.syncOrAsync([st.previousPromises,b0,x0,v0,st.previousPromises,U0],Hu)}function $u(bu,Fu,Hu){var Gu=Fu.orientation==="v",Xl=Hu._fullLayout,Wu=Xl._size,Yu,ap,rp;Fn.init({element:bu.node(),gd:Hu,prepFn:function(){Yu=bu.attr("transform"),_l(bu)},moveFn:function(sp,bp){bu.attr("transform",Yu+yl(sp,bp)),ap=Fn.align((Gu?Fu._uFrac:Fu._vFrac)+sp/Wu.w,Gu?Fu._thickFrac:Fu._lenFrac,0,1,Fu.xanchor),rp=Fn.align((Gu?Fu._vFrac:1-Fu._uFrac)-bp/Wu.h,Gu?Fu._lenFrac:Fu._thickFrac,0,1,Fu.yanchor);var Cp=Fn.getCursor(ap,rp,Fu.xanchor,Fu.yanchor);_l(bu,Cp)},doneFn:function(){if(_l(bu),ap!==void 0&&rp!==void 0){var sp={};sp[Fu._propPrefix+"x"]=ap,sp[Fu._propPrefix+"y"]=rp,Fu._traceIndex!==void 0?Ln.call("_guiRestyle",Hu,sp,Fu._traceIndex):Ln.call("_guiRelayout",Hu,sp)}}})}function mu(bu,Fu,Hu){var Gu=Fu._levels,Xl=[],Wu=[],Yu,ap,rp=Gu.end+Gu.size/100,sp=Gu.size,bp=1.001*Hu[0]-.001*Hu[1],Cp=1.001*Hu[1]-.001*Hu[0];for(ap=0;ap<1e5&&(Yu=Gu.start+ap*sp,!(sp>0?Yu>=rp:Yu<=rp));ap++)Yu>bp&&Yu<Cp&&Xl.push(Yu);if(Fu._fillgradient)Wu=[0];else if(typeof Fu._fillcolor=="function"){var Ap=Fu._filllevels;if(Ap)for(rp=Ap.end+Ap.size/100,sp=Ap.size,ap=0;ap<1e5&&(Yu=Ap.start+ap*sp,!(sp>0?Yu>=rp:Yu<=rp));ap++)Yu>Hu[0]&&Yu<Hu[1]&&Wu.push(Yu);else Wu=Xl.map(function(Lu){return Lu-Gu.size/2}),Wu.push(Wu[Wu.length-1]+Gu.size)}else Fu._fillcolor&&typeof Fu._fillcolor=="string"&&(Wu=[0]);return Gu.size<0&&(Xl.reverse(),Wu.reverse()),{line:Xl,fill:Wu}}function Pu(bu,Fu,Hu){var Gu=bu._fullLayout,Xl=Fu.orientation==="v",Wu={type:"linear",range:Hu,tickmode:Fu.tickmode,nticks:Fu.nticks,tick0:Fu.tick0,dtick:Fu.dtick,tickvals:Fu.tickvals,ticktext:Fu.ticktext,ticks:Fu.ticks,ticklen:Fu.ticklen,tickwidth:Fu.tickwidth,tickcolor:Fu.tickcolor,showticklabels:Fu.showticklabels,labelalias:Fu.labelalias,ticklabelposition:Fu.ticklabelposition,ticklabeloverflow:Fu.ticklabeloverflow,ticklabelstep:Fu.ticklabelstep,tickfont:Fu.tickfont,tickangle:Fu.tickangle,tickformat:Fu.tickformat,exponentformat:Fu.exponentformat,minexponent:Fu.minexponent,separatethousands:Fu.separatethousands,showexponent:Fu.showexponent,showtickprefix:Fu.showtickprefix,tickprefix:Fu.tickprefix,showticksuffix:Fu.showticksuffix,ticksuffix:Fu.ticksuffix,title:Fu.title,showline:!0,anchor:"free",side:Xl?"right":"bottom",position:1},Yu=Xl?"y":"x",ap={type:"linear",_id:Yu+Fu._id},rp={letter:Yu,font:Gu.font,noAutotickangles:Yu==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:Gu.calendar};function sp(bp,Cp){return zn.coerce(Wu,ap,Bn,bp,Cp)}return Ml(Wu,ap,sp,rp,Gu),Rl(Wu,ap,sp,rp),ap}hu.exports={draw:Jl}}),B5=a((yu,hu)=>{hu.exports={moduleType:"component",name:"colorbar",attributes:_t(),supplyDefaults:Rp(),draw:N5().draw,hasColorbar:Vl()}}),$5=a((yu,hu)=>{hu.exports={moduleType:"component",name:"legend",layoutAttributes:w1(),supplyLayoutDefaults:Ym(),draw:U1(),style:sv()}}),H5=a((yu,hu)=>{hu.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}),G5=a((yu,hu)=>{hu.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}),_b=a((yu,hu)=>{var jt=N1(),it=gu(),st=it.extendFlat,Ln=it.extendDeep;function Ft(zn){var yl;switch(zn){case"themes__thumb":yl={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":yl={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:yl={}}return yl}function Fn(zn){var yl=["xaxis","yaxis","zaxis"];return yl.indexOf(zn.slice(0,5))>-1}hu.exports=function(zn,yl){var ot,_l=zn.data,ls=zn.layout,Sl=Ln([],_l),Pl=Ln({},ls,Ft(yl.tileClass)),Tl=zn._context||{};if(yl.width&&(Pl.width=yl.width),yl.height&&(Pl.height=yl.height),yl.tileClass==="thumbnail"||yl.tileClass==="themes__thumb"){Pl.annotations=[];var El=Object.keys(Pl);for(ot=0;ot<El.length;ot++)Fn(El[ot])&&(Pl[El[ot]].title={text:""});for(ot=0;ot<Sl.length;ot++){var Ml=Sl[ot];Ml.showscale=!1,Ml.marker&&(Ml.marker.showscale=!1),jt.traceIs(Ml,"pie-like")&&(Ml.textposition="none")}}if(Array.isArray(yl.annotations))for(ot=0;ot<yl.annotations.length;ot++)Pl.annotations.push(yl.annotations[ot]);var Rl=Object.keys(Pl).filter(function($l){return $l.match(/^scene\d*$/)});if(Rl.length){var Bn={};for(yl.tileClass==="thumbnail"&&(Bn={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),ot=0;ot<Rl.length;ot++){var Cl=Pl[Rl[ot]];Cl.xaxis||(Cl.xaxis={}),Cl.yaxis||(Cl.yaxis={}),Cl.zaxis||(Cl.zaxis={}),st(Cl.xaxis,Bn),st(Cl.yaxis,Bn),st(Cl.zaxis,Bn),Cl._scene=null}}var Al=document.createElement("div");yl.tileClass&&(Al.className=yl.tileClass);var Il={gd:Al,td:Al,layout:Pl,data:Sl,config:{staticPlot:yl.staticPlot===void 0?!0:yl.staticPlot,plotGlPixelRatio:yl.plotGlPixelRatio===void 0?2:yl.plotGlPixelRatio,displaylogo:yl.displaylogo||!1,showLink:yl.showLink||!1,showTips:yl.showTips||!1,mapboxAccessToken:Tl.mapboxAccessToken}};return yl.setBackground!=="transparent"&&(Il.config.setBackground=yl.setBackground||"opaque"),Il.gd.defaultLayout=Ft(yl.tileClass),Il}}),j5=a((yu,hu)=>{var jt=om().EventEmitter,it=N1(),st=gu(),Ln=p3(),Ft=_b(),Fn=V3(),zn=U3();function yl(ot,_l){var ls=new jt,Sl=Ft(ot,{format:"png"}),Pl=Sl.gd;Pl.style.position="absolute",Pl.style.left="-5000px",document.body.appendChild(Pl);function Tl(){var Ml=Ln.getDelay(Pl._fullLayout);setTimeout(function(){var Rl=Fn(Pl),Bn=document.createElement("canvas");Bn.id=st.randstr(),ls=zn({format:_l.format,width:Pl._fullLayout.width,height:Pl._fullLayout.height,canvas:Bn,emitter:ls,svg:Rl}),ls.clean=function(){Pl&&document.body.removeChild(Pl)}},Ml)}var El=Ln.getRedrawFunc(Pl);return it.call("_doPlot",Pl,Sl.data,Sl.layout,Sl.config).then(El).then(Tl).catch(function(Ml){ls.emit("error",Ml)}),ls}hu.exports=yl}),V5=a((yu,hu)=>{var jt=p3(),it={getDelay:jt.getDelay,getRedrawFunc:jt.getRedrawFunc,clone:_b(),toSVG:V3(),svgToImg:U3(),toImage:j5(),downloadImage:Px()};hu.exports=it}),U5=a(yu=>{yu.version=c().version,d(),t0();var hu=N1(),jt=yu.register=hu.register,it=SC(),st=Object.keys(it);for(Ft=0;Ft<st.length;Ft++)Ln=st[Ft],Ln.charAt(0)!=="_"&&(yu[Ln]=it[Ln]),jt({moduleType:"apiMethod",name:Ln,fn:it[Ln]});var Ln,Ft;jt(KC()),jt([t5(),a5(),m3(),c5(),f5(),y5(),w5(),E5(),R5(),F5(),O5(),Hp(),B5(),$5(),Ey(),Em()]),jt([H5(),G5()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(jt(window.PlotlyLocales),delete window.PlotlyLocales),yu.Icons=a2();var Fn=Ey(),zn=_v();yu.Plots={resize:zn.resize,graphJson:zn.graphJson,sendDataToCloud:zn.sendDataToCloud},yu.Fx={hover:Fn.hover,unhover:Fn.unhover,loneHover:Fn.loneHover,loneUnhover:Fn.loneUnhover},yu.Snapshot=V5(),yu.PlotSchema=k1()}),W5=a((yu,hu)=>{hu.exports=U5()}),ex=a((yu,hu)=>{hu.exports={TEXTPAD:3,eventDataKeys:["value","label"]}}),k3=a((yu,hu)=>{var jt=h3(),it=Qy().axisHoverFormat,st=$y().hovertemplateAttrs,Ln=$y().texttemplateAttrs,Ft=wl(),Fn=fp(),zn=ex(),yl=hv().pattern,ot=Uu().extendFlat,_l=Fn({editType:"calc",arrayOk:!0,colorEditType:"style"}),ls=jt.marker,Sl=ls.line,Pl=ot({},Sl.width,{dflt:0}),Tl=ot({width:Pl,editType:"calc"},Ft("marker.line")),El=ot({line:Tl,editType:"calc"},Ft("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:yl,cornerradius:{valType:"any",editType:"calc"}});hu.exports={x:jt.x,x0:jt.x0,dx:jt.dx,y:jt.y,y0:jt.y0,dy:jt.dy,xperiod:jt.xperiod,yperiod:jt.yperiod,xperiod0:jt.xperiod0,yperiod0:jt.yperiod0,xperiodalignment:jt.xperiodalignment,yperiodalignment:jt.yperiodalignment,xhoverformat:it("x"),yhoverformat:it("y"),text:jt.text,texttemplate:Ln({editType:"plot"},{keys:zn.eventDataKeys}),hovertext:jt.hovertext,hovertemplate:st({},{keys:zn.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:ot({},_l,{}),insidetextfont:ot({},_l,{}),outsidetextfont:ot({},_l,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:ot({},jt.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:El,offsetgroup:jt.offsetgroup,alignmentgroup:jt.alignmentgroup,selected:{marker:{opacity:jt.selected.marker.opacity,color:jt.selected.marker.color,editType:"style"},textfont:jt.selected.textfont,editType:"style"},unselected:{marker:{opacity:jt.unselected.marker.opacity,color:jt.unselected.marker.color,editType:"style"},textfont:jt.unselected.textfont,editType:"style"},zorder:jt.zorder}}),ew=a((yu,hu)=>{hu.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}}),q5=a((yu,hu)=>{var jt=D0(),it=tv().hasColorscale,st=Ep(),Ln=gu().coercePattern;hu.exports=function(Ft,Fn,zn,yl,ot){var _l=zn("marker.color",yl),ls=it(Ft,"marker");ls&&st(Ft,Fn,ot,zn,{prefix:"marker.",cLetter:"c"}),zn("marker.line.color",jt.defaultLine),it(Ft,"marker.line")&&st(Ft,Fn,ot,zn,{prefix:"marker.line.",cLetter:"c"}),zn("marker.line.width"),zn("marker.opacity"),Ln(zn,"marker.pattern",_l,ls),zn("selected.marker.color"),zn("unselected.marker.color")}}),E3=a((yu,hu)=>{var jt=rt(),it=gu(),st=D0(),Ln=N1(),Ft=Dx(),Fn=Lx(),zn=q5(),yl=Ix(),ot=k3(),_l=it.coerceFont;function ls(El,Ml,Rl,Bn){function Cl(Jl,Kl){return it.coerce(El,Ml,ot,Jl,Kl)}var Al=Ft(El,Ml,Bn,Cl);if(!Al){Ml.visible=!1;return}Fn(El,Ml,Bn,Cl),Cl("xhoverformat"),Cl("yhoverformat"),Cl("zorder"),Cl("orientation",Ml.x&&!Ml.y?"h":"v"),Cl("base"),Cl("offset"),Cl("width"),Cl("text"),Cl("hovertext"),Cl("hovertemplate");var Il=Cl("textposition");Tl(El,Ml,Bn,Cl,Il,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),zn(El,Ml,Cl,Rl,Bn);var $l=(Ml.marker.line||{}).color,Bu=Ln.getComponentMethod("errorbars","supplyDefaults");Bu(El,Ml,$l||st.defaultLine,{axis:"y"}),Bu(El,Ml,$l||st.defaultLine,{axis:"x",inherit:"y"}),it.coerceSelectionMarkerOpacity(Ml,Cl)}function Sl(El,Ml){var Rl,Bn;function Cl($l,Bu){return it.coerce(Bn._input,Bn,ot,$l,Bu)}for(var Al=0;Al<El.length;Al++)if(Bn=El[Al],Bn.type==="bar"){Rl=Bn._input;var Il=Cl("marker.cornerradius",Ml.barcornerradius);Bn.marker&&(Bn.marker.cornerradius=Pl(Il)),yl(Rl,Bn,Ml,Cl,Ml.barmode)}}function Pl(El){if(jt(El)){if(El=+El,El>=0)return El}else if(typeof El=="string"&&(El=El.trim(),El.slice(-1)==="%"&&jt(El.slice(0,-1))&&(El=+El.slice(0,-1),El>=0)))return El+"%"}function Tl(El,Ml,Rl,Bn,Cl,Al){Al=Al||{};var Il=Al.moduleHasSelected!==!1,$l=Al.moduleHasUnselected!==!1,Bu=Al.moduleHasConstrain!==!1,Jl=Al.moduleHasCliponaxis!==!1,Kl=Al.moduleHasTextangle!==!1,Bl=Al.moduleHasInsideanchor!==!1,$u=!!Al.hasPathbar,mu=Array.isArray(Cl)||Cl==="auto",Pu=mu||Cl==="inside",bu=mu||Cl==="outside";if(Pu||bu){var Fu=_l(Bn,"textfont",Rl.font),Hu=it.extendFlat({},Fu),Gu=El.textfont&&El.textfont.color,Xl=!Gu;if(Xl&&delete Hu.color,_l(Bn,"insidetextfont",Hu),$u){var Wu=it.extendFlat({},Fu);Xl&&delete Wu.color,_l(Bn,"pathbar.textfont",Wu)}bu&&_l(Bn,"outsidetextfont",Fu),Il&&Bn("selected.textfont.color"),$l&&Bn("unselected.textfont.color"),Bu&&Bn("constraintext"),Jl&&Bn("cliponaxis"),Kl&&Bn("textangle"),Bn("texttemplate")}Pu&&Bl&&Bn("insidetextanchor")}hu.exports={supplyDefaults:ls,crossTraceDefaults:Sl,handleText:Tl,validateCornerradius:Pl}}),Y5=a((yu,hu)=>{var jt=N1(),it=bm(),st=gu(),Ln=ew(),Ft=E3().validateCornerradius;hu.exports=function(Fn,zn,yl){function ot(Il,$l){return st.coerce(Fn,zn,Ln,Il,$l)}for(var _l=!1,ls=!1,Sl=!1,Pl={},Tl=ot("barmode"),El=Tl==="group",Ml=0;Ml<yl.length;Ml++){var Rl=yl[Ml];if(jt.traceIs(Rl,"bar")&&Rl.visible)_l=!0;else continue;var Bn=Rl.xaxis+Rl.yaxis;if(El?(Pl[Bn]&&(Sl=!0),Pl[Bn]=!0):(Bn+=Rl._input.offsetgroup,Pl.length>0&&!Pl[Bn]&&(Sl=!0),Pl[Bn]=!0),Rl.visible&&Rl.type==="histogram"){var Cl=it.getFromId({_fullLayout:zn},Rl[Rl.orientation==="v"?"xaxis":"yaxis"]);Cl.type!=="category"&&(ls=!0)}}if(!_l){delete zn.barmode;return}Tl!=="overlay"&&ot("barnorm"),ot("bargap",ls&&!Sl?0:.2),ot("bargroupgap");var Al=ot("barcornerradius");zn.barcornerradius=Ft(Al)}}),tw=a((yu,hu)=>{var jt=gu();hu.exports=function(it,st){for(var Ln=0;Ln<it.length;Ln++)it[Ln].i=Ln;jt.mergeArray(st.text,it,"tx"),jt.mergeArray(st.hovertext,it,"htx");var Ft=st.marker;if(Ft){jt.mergeArray(Ft.opacity,it,"mo",!0),jt.mergeArray(Ft.color,it,"mc");var Fn=Ft.line;Fn&&(jt.mergeArray(Fn.color,it,"mlc"),jt.mergeArrayCastPositive(Fn.width,it,"mlw"))}}}),K5=a((yu,hu)=>{var jt=bm(),it=Ox(),st=tv().hasColorscale,Ln=Mp(),Ft=tw(),Fn=Nx();hu.exports=function(zn,yl){var ot=jt.getFromId(zn,yl.xaxis||"x"),_l=jt.getFromId(zn,yl.yaxis||"y"),ls,Sl,Pl,Tl,El,Ml,Rl={msUTC:!!(yl.base||yl.base===0)};yl.orientation==="h"?(ls=ot.makeCalcdata(yl,"x",Rl),Pl=_l.makeCalcdata(yl,"y"),Tl=it(yl,_l,"y",Pl),El=!!yl.yperiodalignment,Ml="y"):(ls=_l.makeCalcdata(yl,"y",Rl),Pl=ot.makeCalcdata(yl,"x"),Tl=it(yl,ot,"x",Pl),El=!!yl.xperiodalignment,Ml="x"),Sl=Tl.vals;for(var Bn=Math.min(Sl.length,ls.length),Cl=new Array(Bn),Al=0;Al<Bn;Al++)Cl[Al]={p:Sl[Al],s:ls[Al]},El&&(Cl[Al].orig_p=Pl[Al],Cl[Al][Ml+"End"]=Tl.ends[Al],Cl[Al][Ml+"Start"]=Tl.starts[Al]),yl.ids&&(Cl[Al].id=String(yl.ids[Al]));return st(yl,"marker")&&Ln(zn,yl,{vals:yl.marker.color,containerStr:"marker",cLetter:"c"}),st(yl,"marker.line")&&Ln(zn,yl,{vals:yl.marker.line.color,containerStr:"marker.line",cLetter:"c"}),Ft(Cl,yl),Fn(Cl,yl),Cl}}),M3=a((yu,hu)=>{var jt=g(),it=gu();function st(zn,yl,ot){var _l=zn._fullLayout,ls=_l["_"+ot+"Text_minsize"];if(ls){var Sl=_l.uniformtext.mode==="hide",Pl;switch(ot){case"funnelarea":case"pie":case"sunburst":Pl="g.slice";break;case"treemap":case"icicle":Pl="g.slice, g.pathbar";break;default:Pl="g.points > g.point"}yl.selectAll(Pl).each(function(Tl){var El=Tl.transform;if(El){El.scale=Sl&&El.hide?0:ls/El.fontSize;var Ml=jt.select(this).select("text");it.setTransormAndDisplay(Ml,El)}})}}function Ln(zn,yl,ot){if(ot.uniformtext.mode){var _l=Fn(zn),ls=ot.uniformtext.minsize,Sl=yl.scale*yl.fontSize;yl.hide=Sl<ls,ot[_l]=ot[_l]||1/0,yl.hide||(ot[_l]=Math.min(ot[_l],Math.max(Sl,ls)))}}function Ft(zn,yl){var ot=Fn(zn);yl[ot]=void 0}function Fn(zn){return"_"+zn+"Text_minsize"}hu.exports={recordMinTextSize:Ln,clearMinTextSize:Ft,resizeText:st}}),tx=a(yu=>{var hu=rt(),jt=Ju(),it=gu().isArrayOrTypedArray;yu.coerceString=function(st,Ln,Ft){if(typeof Ln=="string"){if(Ln||!st.noBlank)return Ln}else if((typeof Ln=="number"||Ln===!0)&&!st.strict)return String(Ln);return Ft!==void 0?Ft:st.dflt},yu.coerceNumber=function(st,Ln,Ft){if(hu(Ln)){Ln=+Ln;var Fn=st.min,zn=st.max,yl=Fn!==void 0&&Ln<Fn||zn!==void 0&&Ln>zn;if(!yl)return Ln}return Ft!==void 0?Ft:st.dflt},yu.coerceColor=function(st,Ln,Ft){return jt(Ln).isValid()?Ln:Ft!==void 0?Ft:st.dflt},yu.coerceEnumerated=function(st,Ln,Ft){return st.coerceNumber&&(Ln=+Ln),st.values.indexOf(Ln)!==-1?Ln:Ft!==void 0?Ft:st.dflt},yu.getValue=function(st,Ln){var Ft;return it(st)?Ln<st.length&&(Ft=st[Ln]):Ft=st,Ft},yu.getLineWidth=function(st,Ln){var Ft=0<Ln.mlw?Ln.mlw:it(st.marker.line.width)?0:st.marker.line.width;return Ft}}),rx=a((yu,hu)=>{var jt=g(),it=D0(),st=q0(),Ln=gu(),Ft=N1(),Fn=M3().resizeText,zn=k3(),yl=zn.textfont,ot=zn.insidetextfont,_l=zn.outsidetextfont,ls=tx();function Sl(Jl){var Kl=jt.select(Jl).selectAll('g[class^="barlayer"]').selectAll("g.trace");Fn(Jl,Kl,"bar");var Bl=Kl.size(),$u=Jl._fullLayout;Kl.style("opacity",function(mu){return mu[0].trace.opacity}).each(function(mu){($u.barmode==="stack"&&Bl>1||$u.bargap===0&&$u.bargroupgap===0&&!mu[0].trace.marker.line.width)&&jt.select(this).attr("shape-rendering","crispEdges")}),Kl.selectAll("g.points").each(function(mu){var Pu=jt.select(this),bu=mu[0].trace;Pl(Pu,bu,Jl)}),Ft.getComponentMethod("errorbars","style")(Kl)}function Pl(Jl,Kl,Bl){st.pointStyle(Jl.selectAll("path"),Kl,Bl),Tl(Jl,Kl,Bl)}function Tl(Jl,Kl,Bl){Jl.selectAll("text").each(function($u){var mu=jt.select(this),Pu=Ln.ensureUniformFontSize(Bl,Bn(mu,$u,Kl,Bl));st.font(mu,Pu)})}function El(Jl,Kl,Bl){var $u=Kl[0].trace;$u.selectedpoints?Ml(Bl,$u,Jl):(Pl(Bl,$u,Jl),Ft.getComponentMethod("errorbars","style")(Bl))}function Ml(Jl,Kl,Bl){st.selectedPointStyle(Jl.selectAll("path"),Kl),Rl(Jl.selectAll("text"),Kl,Bl)}function Rl(Jl,Kl,Bl){Jl.each(function($u){var mu=jt.select(this),Pu;if($u.selected){Pu=Ln.ensureUniformFontSize(Bl,Bn(mu,$u,Kl,Bl));var bu=Kl.selected.textfont&&Kl.selected.textfont.color;bu&&(Pu.color=bu),st.font(mu,Pu)}else st.selectedTextStyle(mu,Kl)})}function Bn(Jl,Kl,Bl,$u){var mu=$u._fullLayout.font,Pu=Bl.textfont;if(Jl.classed("bartext-inside")){var bu=Bu(Kl,Bl);Pu=Al(Bl,Kl.i,mu,bu)}else Jl.classed("bartext-outside")&&(Pu=Il(Bl,Kl.i,mu));return Pu}function Cl(Jl,Kl,Bl){return $l(yl,Jl.textfont,Kl,Bl)}function Al(Jl,Kl,Bl,$u){var mu=Cl(Jl,Kl,Bl),Pu=Jl._input.textfont===void 0||Jl._input.textfont.color===void 0||Array.isArray(Jl.textfont.color)&&Jl.textfont.color[Kl]===void 0;return Pu&&(mu={color:it.contrast($u),family:mu.family,size:mu.size,weight:mu.weight,style:mu.style,variant:mu.variant,textcase:mu.textcase,lineposition:mu.lineposition,shadow:mu.shadow}),$l(ot,Jl.insidetextfont,Kl,mu)}function Il(Jl,Kl,Bl){var $u=Cl(Jl,Kl,Bl);return $l(_l,Jl.outsidetextfont,Kl,$u)}function $l(Jl,Kl,Bl,$u){Kl=Kl||{};var mu=ls.getValue(Kl.family,Bl),Pu=ls.getValue(Kl.size,Bl),bu=ls.getValue(Kl.color,Bl),Fu=ls.getValue(Kl.weight,Bl),Hu=ls.getValue(Kl.style,Bl),Gu=ls.getValue(Kl.variant,Bl),Xl=ls.getValue(Kl.textcase,Bl),Wu=ls.getValue(Kl.lineposition,Bl),Yu=ls.getValue(Kl.shadow,Bl);return{family:ls.coerceString(Jl.family,mu,$u.family),size:ls.coerceNumber(Jl.size,Pu,$u.size),color:ls.coerceColor(Jl.color,bu,$u.color),weight:ls.coerceString(Jl.weight,Fu,$u.weight),style:ls.coerceString(Jl.style,Hu,$u.style),variant:ls.coerceString(Jl.variant,Gu,$u.variant),textcase:ls.coerceString(Jl.variant,Xl,$u.textcase),lineposition:ls.coerceString(Jl.variant,Wu,$u.lineposition),shadow:ls.coerceString(Jl.variant,Yu,$u.shadow)}}function Bu(Jl,Kl){return Kl.type==="waterfall"?Kl[Jl.dir].marker.color:Jl.mcc||Jl.mc||Kl.marker.color}hu.exports={style:Sl,styleTextPoints:Tl,styleOnSelect:El,getInsideTextFont:Al,getOutsideTextFont:Il,getBarColor:Bu,resizeText:Fn}}),X5=a((yu,hu)=>{var jt=g(),it=rt(),st=gu(),Ln=hy(),Ft=D0(),Fn=q0(),zn=N1(),yl=bm().tickText,ot=M3(),_l=ot.recordMinTextSize,ls=ot.clearMinTextSize,Sl=rx(),Pl=tx(),Tl=ex(),El=k3(),Ml=El.text,Rl=El.textposition,Bn=w0().appendArrayPointValue,Cl=Tl.TEXTPAD;function Al(sp){return sp.id}function Il(sp){if(sp.ids)return Al}function $l(sp){return(sp>0)-(sp<0)}function Bu(sp,bp){return sp<bp?1:-1}function Jl(sp,bp,Cp,Ap){var Lu=[],Nu=[],Hl=Ap?bp:Cp,qu=Ap?Cp:bp;return Lu[0]=Hl.c2p(sp.s0,!0),Nu[0]=qu.c2p(sp.p0,!0),Lu[1]=Hl.c2p(sp.s1,!0),Nu[1]=qu.c2p(sp.p1,!0),Ap?[Lu,Nu]:[Nu,Lu]}function Kl(sp,bp,Cp,Ap){if(!bp.uniformtext.mode&&Bl(Cp)){var Lu;return Ap&&(Lu=Ap()),sp.transition().duration(Cp.duration).ease(Cp.easing).each("end",function(){Lu&&Lu()}).each("interrupt",function(){Lu&&Lu()})}else return sp}function Bl(sp){return sp&&sp.duration>0}function $u(sp,bp,Cp,Ap,Lu,Nu){var Hl=bp.xaxis,qu=bp.yaxis,np=sp._fullLayout,vu=sp._context.staticPlot;Lu||(Lu={mode:np.barmode,norm:np.barmode,gap:np.bargap,groupgap:np.bargroupgap},ls("bar",np));var Ol=st.makeTraceGroups(Ap,Cp,"trace bars").each(function(Wl){var Mu=jt.select(this),zu=Wl[0].trace,ip=Wl[0].t,pp=zu.type==="waterfall",vp=zu.type==="funnel",Pp=zu.type==="histogram",Gp=zu.type==="bar",r0=Gp||vp,C0=0;pp&&zu.connector.visible&&zu.connector.mode==="between"&&(C0=zu.connector.line.width/2);var f0=zu.orientation==="h",d0=Bl(Lu),Sp=st.ensureSingle(Mu,"g","points"),Fp=Il(zu),cp=Sp.selectAll("g.point").data(st.identity,Fp);cp.enter().append("g").classed("point",!0),cp.exit().remove(),cp.each(function(a0,y0){var P0=jt.select(this),E0=Jl(a0,Hl,qu,f0),O0=E0[0][0],j0=E0[0][1],$0=E0[1][0],tm=E0[1][1],A0=(f0?j0-O0:tm-$0)===0;A0&&r0&&Pl.getLineWidth(zu,a0)&&(A0=!1),A0||(A0=!it(O0)||!it(j0)||!it($0)||!it(tm)),a0.isBlank=A0,A0&&(f0?j0=O0:tm=$0),C0&&!A0&&(f0?(O0-=Bu(O0,j0)*C0,j0+=Bu(O0,j0)*C0):($0-=Bu($0,tm)*C0,tm+=Bu($0,tm)*C0));var sm,pm;if(zu.type==="waterfall"){if(!A0){var nm=zu[a0.dir].marker;sm=nm.line.width,pm=nm.color}}else sm=Pl.getLineWidth(zu,a0),pm=a0.mc||zu.marker.color;function vm(l1){var Xm=jt.round(sm/2%1,2);return Lu.gap===0&&Lu.groupgap===0?jt.round(Math.round(l1)-Xm,2):l1}function kp(l1,Xm,jm){return jm&&l1===Xm?l1:Math.abs(l1-Xm)>=2?vm(l1):l1>Xm?Math.ceil(l1):Math.floor(l1)}var qp=Ft.opacity(pm),Xu=qp<1||sm>.01?vm:kp;sp._context.staticPlot||(O0=Xu(O0,j0,f0),j0=Xu(j0,O0,f0),$0=Xu($0,tm,!f0),tm=Xu(tm,$0,!f0));var hp=f0?Hl.c2p:qu.c2p,yp;a0.s0>0?yp=a0._sMax:a0.s0<0?yp=a0._sMin:yp=a0.s1>0?a0._sMax:a0._sMin;function Dp(l1,Xm){if(!l1)return 0;var jm=Math.abs(f0?tm-$0:j0-O0),Wm=Math.abs(f0?j0-O0:tm-$0),Om=Xu(Math.abs(hp(yp,!0)-hp(0,!0))),A1=a0.hasB?Math.min(jm/2,Wm/2):Math.min(jm/2,Om),B1;if(Xm==="%"){var o1=Math.min(50,l1);B1=jm*(o1/100)}else B1=l1;return Xu(Math.max(Math.min(B1,A1),0))}var Bp=Gp||Pp?Dp(ip.cornerradiusvalue,ip.cornerradiusform):0,Jp,n0,b0="M"+O0+","+$0+"V"+tm+"H"+j0+"V"+$0+"Z",v0=0;if(Bp&&a0.s){var x0=$l(a0.s0)===0||$l(a0.s)===$l(a0.s0)?a0.s1:a0.s0;if(v0=Xu(a0.hasB?0:Math.abs(hp(yp,!0)-hp(x0,!0))),v0<Bp){var U0=Bu(O0,j0),W0=Bu($0,tm),Y0=U0===-W0?1:0;if(f0)if(a0.hasB)Jp="M"+(O0+Bp*U0)+","+$0+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+O0+","+($0+Bp*W0)+"V"+(tm-Bp*W0)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+(O0+Bp*U0)+","+tm+"H"+(j0-Bp*U0)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+j0+","+(tm-Bp*W0)+"V"+($0+Bp*W0)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+(j0-Bp*U0)+","+$0+"Z";else{n0=Math.abs(j0-O0)+v0;var gm=n0<Bp?Bp-Math.sqrt(n0*(2*Bp-n0)):0,Dm=v0>0?Math.sqrt(v0*(2*Bp-v0)):0,Jm=U0>0?Math.max:Math.min;Jp="M"+O0+","+$0+"V"+(tm-gm*W0)+"H"+Jm(j0-(Bp-v0)*U0,O0)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+j0+","+(tm-Bp*W0-Dm)+"V"+($0+Bp*W0+Dm)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+Jm(j0-(Bp-v0)*U0,O0)+","+($0+gm*W0)+"Z"}else if(a0.hasB)Jp="M"+(O0+Bp*U0)+","+$0+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+O0+","+($0+Bp*W0)+"V"+(tm-Bp*W0)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+(O0+Bp*U0)+","+tm+"H"+(j0-Bp*U0)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+j0+","+(tm-Bp*W0)+"V"+($0+Bp*W0)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+(j0-Bp*U0)+","+$0+"Z";else{n0=Math.abs(tm-$0)+v0;var a1=n0<Bp?Bp-Math.sqrt(n0*(2*Bp-n0)):0,h1=v0>0?Math.sqrt(v0*(2*Bp-v0)):0,zm=W0>0?Math.max:Math.min;Jp="M"+(O0+a1*U0)+","+$0+"V"+zm(tm-(Bp-v0)*W0,$0)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+(O0+Bp*U0-h1)+","+tm+"H"+(j0-Bp*U0+h1)+"A "+Bp+","+Bp+" 0 0 "+Y0+" "+(j0-a1*U0)+","+zm(tm-(Bp-v0)*W0,$0)+"V"+$0+"Z"}}else Jp=b0}else Jp=b0;var xm=Kl(st.ensureSingle(P0,"path"),np,Lu,Nu);if(xm.style("vector-effect",vu?"none":"non-scaling-stroke").attr("d",isNaN((j0-O0)*(tm-$0))||A0&&sp._context.staticPlot?"M0,0Z":Jp).call(Fn.setClipUrl,bp.layerClipId,sp),!np.uniformtext.mode&&d0){var Qm=Fn.makePointStyleFns(zu);Fn.singlePointStyle(a0,xm,zu,Qm,sp)}mu(sp,bp,P0,Wl,y0,O0,j0,$0,tm,Bp,v0,Lu,Nu),bp.layerClipId&&Fn.hideOutsideRangePoint(a0,P0.select("text"),Hl,qu,zu.xcalendar,zu.ycalendar)});var jp=zu.cliponaxis===!1;Fn.setClipUrl(Mu,jp?null:bp.layerClipId,sp)});zn.getComponentMethod("errorbars","plot")(sp,Ol,bp,Lu)}function mu(sp,bp,Cp,Ap,Lu,Nu,Hl,qu,np,vu,Ol,Wl,Mu){var zu=bp.xaxis,ip=bp.yaxis,pp=sp._fullLayout,vp;function Pp(n0,b0,v0){var x0=st.ensureSingle(n0,"text").text(b0).attr({class:"bartext bartext-"+vp,"text-anchor":"middle","data-notex":1}).call(Fn.font,v0).call(Ln.convertToTspans,sp);return x0}var Gp=Ap[0].trace,r0=Gp.orientation==="h",C0=Wu(pp,Ap,Lu,zu,ip);vp=Yu(Gp,Lu);var f0=Wl.mode==="stack"||Wl.mode==="relative",d0=Ap[Lu],Sp=!f0||d0._outmost,Fp=d0.hasB,cp=vu&&vu-Ol>Cl;if(!C0||vp==="none"||(d0.isBlank||Nu===Hl||qu===np)&&(vp==="auto"||vp==="inside")){Cp.select("text").remove();return}var jp=pp.font,a0=Sl.getBarColor(Ap[Lu],Gp),y0=Sl.getInsideTextFont(Gp,Lu,jp,a0),P0=Sl.getOutsideTextFont(Gp,Lu,jp),E0=Gp.insidetextanchor||"end",O0=Cp.datum();r0?zu.type==="log"&&O0.s0<=0&&(zu.range[0]<zu.range[1]?Nu=0:Nu=zu._length):ip.type==="log"&&O0.s0<=0&&(ip.range[0]<ip.range[1]?qu=ip._length:qu=0);var j0=Math.abs(Hl-Nu),$0=Math.abs(np-qu),tm=j0-2*Cl,A0=$0-2*Cl,sm,pm,nm,vm,kp;if(vp==="outside"&&!Sp&&!d0.hasB&&(vp="inside"),vp==="auto")if(Sp){vp="inside",kp=st.ensureUniformFontSize(sp,y0),sm=Pp(Cp,C0,kp),pm=Fn.bBox(sm.node()),nm=pm.width,vm=pm.height;var qp=nm>0&&vm>0,Xu;cp?Fp?Xu=Pu(tm-2*vu,A0,nm,vm,r0)||Pu(tm,A0-2*vu,nm,vm,r0):r0?Xu=Pu(tm-(vu-Ol),A0,nm,vm,r0)||Pu(tm,A0-2*(vu-Ol),nm,vm,r0):Xu=Pu(tm,A0-(vu-Ol),nm,vm,r0)||Pu(tm-2*(vu-Ol),A0,nm,vm,r0):Xu=Pu(tm,A0,nm,vm,r0),qp&&Xu?vp="inside":(vp="outside",sm.remove(),sm=null)}else vp="inside";if(!sm){kp=st.ensureUniformFontSize(sp,vp==="outside"?P0:y0),sm=Pp(Cp,C0,kp);var hp=sm.attr("transform");if(sm.attr("transform",""),pm=Fn.bBox(sm.node()),nm=pm.width,vm=pm.height,sm.attr("transform",hp),nm<=0||vm<=0){sm.remove();return}}var yp=Gp.textangle,Dp,Bp;vp==="outside"?(Bp=Gp.constraintext==="both"||Gp.constraintext==="outside",Dp=Xl(Nu,Hl,qu,np,pm,{isHorizontal:r0,constrained:Bp,angle:yp})):(Bp=Gp.constraintext==="both"||Gp.constraintext==="inside",Dp=Hu(Nu,Hl,qu,np,pm,{isHorizontal:r0,constrained:Bp,angle:yp,anchor:E0,hasB:Fp,r:vu,overhead:Ol})),Dp.fontSize=kp.size,_l(Gp.type==="histogram"?"bar":Gp.type,Dp,pp),d0.transform=Dp;var Jp=Kl(sm,pp,Wl,Mu);st.setTransormAndDisplay(Jp,Dp)}function Pu(sp,bp,Cp,Ap,Lu){if(sp<0||bp<0)return!1;var Nu=Cp<=sp&&Ap<=bp,Hl=Cp<=bp&&Ap<=sp,qu=Lu?sp>=Cp*(bp/Ap):bp>=Ap*(sp/Cp);return Nu||Hl||qu}function bu(sp){return sp==="auto"?0:sp}function Fu(sp,bp){var Cp=Math.PI/180*bp,Ap=Math.abs(Math.sin(Cp)),Lu=Math.abs(Math.cos(Cp));return{x:sp.width*Lu+sp.height*Ap,y:sp.width*Ap+sp.height*Lu}}function Hu(sp,bp,Cp,Ap,Lu,Nu){var Hl=!!Nu.isHorizontal,qu=!!Nu.constrained,np=Nu.angle||0,vu=Nu.anchor,Ol=vu==="end",Wl=vu==="start",Mu=Nu.leftToRight||0,zu=(Mu+1)/2,ip=1-zu,pp=Nu.hasB,vp=Nu.r,Pp=Nu.overhead,Gp=Lu.width,r0=Lu.height,C0=Math.abs(bp-sp),f0=Math.abs(Ap-Cp),d0=C0>2*Cl&&f0>2*Cl?Cl:0;C0-=2*d0,f0-=2*d0;var Sp=bu(np);np==="auto"&&!(Gp<=C0&&r0<=f0)&&(Gp>C0||r0>f0)&&(!(Gp>f0||r0>C0)||Gp<r0!=C0<f0)&&(Sp+=90);var Fp=Fu(Lu,Sp),cp,jp;if(vp&&vp-Pp>Cl){var a0=Gu(sp,bp,Cp,Ap,Fp,vp,Pp,Hl,pp);cp=a0.scale,jp=a0.pad}else cp=1,qu&&(cp=Math.min(1,C0/Fp.x,f0/Fp.y)),jp=0;var y0=Lu.left*ip+Lu.right*zu,P0=(Lu.top+Lu.bottom)/2,E0=(sp+Cl)*ip+(bp-Cl)*zu,O0=(Cp+Ap)/2,j0=0,$0=0;if(Wl||Ol){var tm=(Hl?Fp.x:Fp.y)/2;vp&&(Ol||pp)&&(d0+=jp);var A0=Hl?Bu(sp,bp):Bu(Cp,Ap);Hl?Wl?(E0=sp+A0*d0,j0=-A0*tm):(E0=bp-A0*d0,j0=A0*tm):Wl?(O0=Cp+A0*d0,$0=-A0*tm):(O0=Ap-A0*d0,$0=A0*tm)}return{textX:y0,textY:P0,targetX:E0,targetY:O0,anchorX:j0,anchorY:$0,scale:cp,rotate:Sp}}function Gu(sp,bp,Cp,Ap,Lu,Nu,Hl,qu,np){var vu=Math.max(0,Math.abs(bp-sp)-2*Cl),Ol=Math.max(0,Math.abs(Ap-Cp)-2*Cl),Wl=Nu-Cl,Mu=Hl?Wl-Math.sqrt(Wl*Wl-(Wl-Hl)*(Wl-Hl)):Wl,zu=np?Wl*2:qu?Wl-Hl:2*Mu,ip=np?Wl*2:qu?2*Mu:Wl-Hl,pp,vp,Pp,Gp,r0;return Lu.y/Lu.x>=Ol/(vu-zu)?Gp=Ol/Lu.y:Lu.y/Lu.x<=(Ol-ip)/vu?Gp=vu/Lu.x:!np&&qu?(pp=Lu.x*Lu.x+Lu.y*Lu.y/4,vp=-2*Lu.x*(vu-Wl)-Lu.y*(Ol/2-Wl),Pp=(vu-Wl)*(vu-Wl)+(Ol/2-Wl)*(Ol/2-Wl)-Wl*Wl,Gp=(-vp+Math.sqrt(vp*vp-4*pp*Pp))/(2*pp)):np?(pp=(Lu.x*Lu.x+Lu.y*Lu.y)/4,vp=-Lu.x*(vu/2-Wl)-Lu.y*(Ol/2-Wl),Pp=(vu/2-Wl)*(vu/2-Wl)+(Ol/2-Wl)*(Ol/2-Wl)-Wl*Wl,Gp=(-vp+Math.sqrt(vp*vp-4*pp*Pp))/(2*pp)):(pp=Lu.x*Lu.x/4+Lu.y*Lu.y,vp=-Lu.x*(vu/2-Wl)-2*Lu.y*(Ol-Wl),Pp=(vu/2-Wl)*(vu/2-Wl)+(Ol-Wl)*(Ol-Wl)-Wl*Wl,Gp=(-vp+Math.sqrt(vp*vp-4*pp*Pp))/(2*pp)),Gp=Math.min(1,Gp),qu?r0=Math.max(0,Wl-Math.sqrt(Math.max(0,Wl*Wl-(Wl-(Ol-Lu.y*Gp)/2)*(Wl-(Ol-Lu.y*Gp)/2)))-Hl):r0=Math.max(0,Wl-Math.sqrt(Math.max(0,Wl*Wl-(Wl-(vu-Lu.x*Gp)/2)*(Wl-(vu-Lu.x*Gp)/2)))-Hl),{scale:Gp,pad:r0}}function Xl(sp,bp,Cp,Ap,Lu,Nu){var Hl=!!Nu.isHorizontal,qu=!!Nu.constrained,np=Nu.angle||0,vu=Lu.width,Ol=Lu.height,Wl=Math.abs(bp-sp),Mu=Math.abs(Ap-Cp),zu;Hl?zu=Mu>2*Cl?Cl:0:zu=Wl>2*Cl?Cl:0;var ip=1;qu&&(ip=Hl?Math.min(1,Mu/Ol):Math.min(1,Wl/vu));var pp=bu(np),vp=Fu(Lu,pp),Pp=(Hl?vp.x:vp.y)/2,Gp=(Lu.left+Lu.right)/2,r0=(Lu.top+Lu.bottom)/2,C0=(sp+bp)/2,f0=(Cp+Ap)/2,d0=0,Sp=0,Fp=Hl?Bu(bp,sp):Bu(Cp,Ap);return Hl?(C0=bp-Fp*zu,d0=Fp*Pp):(f0=Ap+Fp*zu,Sp=-Fp*Pp),{textX:Gp,textY:r0,targetX:C0,targetY:f0,anchorX:d0,anchorY:Sp,scale:ip,rotate:pp}}function Wu(sp,bp,Cp,Ap,Lu){var Nu=bp[0].trace,Hl=Nu.texttemplate,qu;return Hl?qu=ap(sp,bp,Cp,Ap,Lu):Nu.textinfo?qu=rp(bp,Cp,Ap,Lu):qu=Pl.getValue(Nu.text,Cp),Pl.coerceString(Ml,qu)}function Yu(sp,bp){var Cp=Pl.getValue(sp.textposition,bp);return Pl.coerceEnumerated(Rl,Cp)}function ap(sp,bp,Cp,Ap,Lu){var Nu=bp[0].trace,Hl=st.castOption(Nu,Cp,"texttemplate");if(!Hl)return"";var qu=Nu.type==="histogram",np=Nu.type==="waterfall",vu=Nu.type==="funnel",Ol=Nu.orientation==="h",Wl,Mu,zu,ip;Ol?(Wl="y",Mu=Lu,zu="x",ip=Ap):(Wl="x",Mu=Ap,zu="y",ip=Lu);function pp(d0){return yl(Mu,Mu.c2l(d0),!0).text}function vp(d0){return yl(ip,ip.c2l(d0),!0).text}var Pp=bp[Cp],Gp={};Gp.label=Pp.p,Gp.labelLabel=Gp[Wl+"Label"]=pp(Pp.p);var r0=st.castOption(Nu,Pp.i,"text");(r0===0||r0)&&(Gp.text=r0),Gp.value=Pp.s,Gp.valueLabel=Gp[zu+"Label"]=vp(Pp.s);var C0={};Bn(C0,Nu,Pp.i),(qu||C0.x===void 0)&&(C0.x=Ol?Gp.value:Gp.label),(qu||C0.y===void 0)&&(C0.y=Ol?Gp.label:Gp.value),(qu||C0.xLabel===void 0)&&(C0.xLabel=Ol?Gp.valueLabel:Gp.labelLabel),(qu||C0.yLabel===void 0)&&(C0.yLabel=Ol?Gp.labelLabel:Gp.valueLabel),np&&(Gp.delta=+Pp.rawS||Pp.s,Gp.deltaLabel=vp(Gp.delta),Gp.final=Pp.v,Gp.finalLabel=vp(Gp.final),Gp.initial=Gp.final-Gp.delta,Gp.initialLabel=vp(Gp.initial)),vu&&(Gp.value=Pp.s,Gp.valueLabel=vp(Gp.value),Gp.percentInitial=Pp.begR,Gp.percentInitialLabel=st.formatPercent(Pp.begR),Gp.percentPrevious=Pp.difR,Gp.percentPreviousLabel=st.formatPercent(Pp.difR),Gp.percentTotal=Pp.sumR,Gp.percenTotalLabel=st.formatPercent(Pp.sumR));var f0=st.castOption(Nu,Pp.i,"customdata");return f0&&(Gp.customdata=f0),st.texttemplateString(Hl,Gp,sp._d3locale,C0,Gp,Nu._meta||{})}function rp(sp,bp,Cp,Ap){var Lu=sp[0].trace,Nu=Lu.orientation==="h",Hl=Lu.type==="waterfall",qu=Lu.type==="funnel";function np(f0){var d0=Nu?Ap:Cp;return yl(d0,f0,!0).text}function vu(f0){var d0=Nu?Cp:Ap;return yl(d0,+f0,!0).text}var Ol=Lu.textinfo,Wl=sp[bp],Mu=Ol.split("+"),zu=[],ip,pp=function(f0){return Mu.indexOf(f0)!==-1};if(pp("label")&&zu.push(np(sp[bp].p)),pp("text")&&(ip=st.castOption(Lu,Wl.i,"text"),(ip===0||ip)&&zu.push(ip)),Hl){var vp=+Wl.rawS||Wl.s,Pp=Wl.v,Gp=Pp-vp;pp("initial")&&zu.push(vu(Gp)),pp("delta")&&zu.push(vu(vp)),pp("final")&&zu.push(vu(Pp))}if(qu){pp("value")&&zu.push(vu(Wl.s));var r0=0;pp("percent initial")&&r0++,pp("percent previous")&&r0++,pp("percent total")&&r0++;var C0=r0>1;pp("percent initial")&&(ip=st.formatPercent(Wl.begR),C0&&(ip+=" of initial"),zu.push(ip)),pp("percent previous")&&(ip=st.formatPercent(Wl.difR),C0&&(ip+=" of previous"),zu.push(ip)),pp("percent total")&&(ip=st.formatPercent(Wl.sumR),C0&&(ip+=" of total"),zu.push(ip))}return zu.join("<br>")}hu.exports={plot:$u,toMoveInsideBar:Hu}}),Z5=a((yu,hu)=>{var jt=Ey(),it=N1(),st=D0(),Ln=gu().fillText,Ft=tx().getLineWidth,Fn=bm().hoverLabelText,zn=nt().BADNUM;function yl(ls,Sl,Pl,Tl,El){var Ml=ot(ls,Sl,Pl,Tl,El);if(Ml){var Rl=Ml.cd,Bn=Rl[0].trace,Cl=Rl[Ml.index];return Ml.color=_l(Bn,Cl),it.getComponentMethod("errorbars","hoverInfo")(Cl,Bn,Ml),[Ml]}}function ot(ls,Sl,Pl,Tl,El){var Ml=ls.cd,Rl=Ml[0].trace,Bn=Ml[0].t,Cl=Tl==="closest",Al=Rl.type==="waterfall",Il=ls.maxHoverDistance,$l=ls.maxSpikeDistance,Bu,Jl,Kl,Bl,$u,mu,Pu;Rl.orientation==="h"?(Bu=Pl,Jl=Sl,Kl="y",Bl="x",$u=Ap,mu=sp):(Bu=Sl,Jl=Pl,Kl="x",Bl="y",mu=Ap,$u=sp);var bu=Rl[Kl+"period"],Fu=Cl||bu;function Hu(ip){return Xl(ip,-1)}function Gu(ip){return Xl(ip,1)}function Xl(ip,pp){var vp=ip.w;return ip[Kl]+pp*vp/2}function Wu(ip){return ip[Kl+"End"]-ip[Kl+"Start"]}var Yu=Cl?Hu:bu?function(ip){return ip.p-Wu(ip)/2}:function(ip){return Math.min(Hu(ip),ip.p-Bn.bardelta/2)},ap=Cl?Gu:bu?function(ip){return ip.p+Wu(ip)/2}:function(ip){return Math.max(Gu(ip),ip.p+Bn.bardelta/2)};function rp(ip,pp,vp){return El.finiteRange&&(vp=0),jt.inbox(ip-Bu,pp-Bu,vp+Math.min(1,Math.abs(pp-ip)/Pu)-1)}function sp(ip){return rp(Yu(ip),ap(ip),Il)}function bp(ip){return rp(Hu(ip),Gu(ip),$l)}function Cp(ip){var pp=ip[Bl];if(Al){var vp=Math.abs(ip.rawS)||0;Jl>0?pp+=vp:Jl<0&&(pp-=vp)}return pp}function Ap(ip){var pp=Jl,vp=ip.b,Pp=Cp(ip);return jt.inbox(vp-pp,Pp-pp,Il+(Pp-pp)/(Pp-vp)-1)}function Lu(ip){var pp=Jl,vp=ip.b,Pp=Cp(ip);return jt.inbox(vp-pp,Pp-pp,$l+(Pp-pp)/(Pp-vp)-1)}var Nu=ls[Kl+"a"],Hl=ls[Bl+"a"];Pu=Math.abs(Nu.r2c(Nu.range[1])-Nu.r2c(Nu.range[0]));function qu(ip){return($u(ip)+mu(ip))/2}var np=jt.getDistanceFunction(Tl,$u,mu,qu);if(jt.getClosest(Ml,np,ls),ls.index!==!1&&Ml[ls.index].p!==zn){Fu||(Yu=function(ip){return Math.min(Hu(ip),ip.p-Bn.bargroupwidth/2)},ap=function(ip){return Math.max(Gu(ip),ip.p+Bn.bargroupwidth/2)});var vu=ls.index,Ol=Ml[vu],Wl=Rl.base?Ol.b+Ol.s:Ol.s;ls[Bl+"0"]=ls[Bl+"1"]=Hl.c2p(Ol[Bl],!0),ls[Bl+"LabelVal"]=Wl;var Mu=Bn.extents[Bn.extents.round(Ol.p)];ls[Kl+"0"]=Nu.c2p(Cl?Yu(Ol):Mu[0],!0),ls[Kl+"1"]=Nu.c2p(Cl?ap(Ol):Mu[1],!0);var zu=Ol.orig_p!==void 0;return ls[Kl+"LabelVal"]=zu?Ol.orig_p:Ol.p,ls.labelLabel=Fn(Nu,ls[Kl+"LabelVal"],Rl[Kl+"hoverformat"]),ls.valueLabel=Fn(Hl,ls[Bl+"LabelVal"],Rl[Bl+"hoverformat"]),ls.baseLabel=Fn(Hl,Ol.b,Rl[Bl+"hoverformat"]),ls.spikeDistance=(Lu(Ol)+bp(Ol))/2,ls[Kl+"Spike"]=Nu.c2p(Ol.p,!0),Ln(Ol,Rl,ls),ls.hovertemplate=Rl.hovertemplate,ls}}function _l(ls,Sl){var Pl=Sl.mcc||ls.marker.color,Tl=Sl.mlcc||ls.marker.line.color,El=Ft(ls,Sl);if(st.opacity(Pl))return Pl;if(st.opacity(Tl)&&El)return Tl}hu.exports={hoverPoints:yl,hoverOnBars:ot,getTraceColor:_l}}),Q5=a((yu,hu)=>{hu.exports=function(jt,it,st){return jt.x="xVal"in it?it.xVal:it.x,jt.y="yVal"in it?it.yVal:it.y,it.xa&&(jt.xaxis=it.xa),it.ya&&(jt.yaxis=it.ya),st.orientation==="h"?(jt.label=jt.y,jt.value=jt.x):(jt.label=jt.x,jt.value=jt.y),jt}}),J5=a((yu,hu)=>{hu.exports=function(it,st){var Ln=it.cd,Ft=it.xaxis,Fn=it.yaxis,zn=Ln[0].trace,yl=zn.type==="funnel",ot=zn.orientation==="h",_l=[],ls;if(st===!1)for(ls=0;ls<Ln.length;ls++)Ln[ls].selected=0;else for(ls=0;ls<Ln.length;ls++){var Sl=Ln[ls],Pl="ct"in Sl?Sl.ct:jt(Sl,Ft,Fn,ot,yl);st.contains(Pl,!1,ls,it)?(_l.push({pointNumber:ls,x:Ft.c2d(Sl.x),y:Fn.c2d(Sl.y)}),Sl.selected=1):Sl.selected=0}return _l};function jt(it,st,Ln,Ft,Fn){var zn=st.c2p(Ft?it.s0:it.p0,!0),yl=st.c2p(Ft?it.s1:it.p1,!0),ot=Ln.c2p(Ft?it.p0:it.s0,!0),_l=Ln.c2p(Ft?it.p1:it.s1,!0);return Fn?[(zn+yl)/2,(ot+_l)/2]:Ft?[yl,(ot+_l)/2]:[(zn+yl)/2,_l]}}),e4=a((yu,hu)=>{hu.exports={attributes:k3(),layoutAttributes:ew(),supplyDefaults:E3().supplyDefaults,crossTraceDefaults:E3().crossTraceDefaults,supplyLayoutDefaults:Y5(),calc:K5(),crossTraceCalc:$x().crossTraceCalc,colorbar:Hx(),arraysToCalcdata:tw(),plot:X5().plot,style:rx().style,styleOnSelect:rx().styleOnSelect,hoverPoints:Z5().hoverPoints,eventData:Q5(),selectPoints:J5(),moduleType:"trace",name:"bar",basePlotModule:W3(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}}),t4=a((yu,hu)=>{hu.exports=e4()}),rw=a((yu,hu)=>{var jt=zp(),it=J3().attributes,st=fp(),Ln=k0(),Ft=$y().hovertemplateAttrs,Fn=$y().texttemplateAttrs,zn=Uu().extendFlat,yl=hv().pattern,ot=st({editType:"plot",arrayOk:!0,colorEditType:"plot"});hu.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:Ln.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:yl,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:zn({},jt.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:Ft({},{keys:["label","color","value","percent","text"]}),texttemplate:Fn({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:zn({},ot,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:zn({},ot,{}),outsidetextfont:zn({},ot,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:zn({},ot,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:it({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}}),r4=a((yu,hu)=>{var jt=rt(),it=gu(),st=rw(),Ln=J3().defaults,Ft=E3().handleText,Fn=gu().coercePattern;function zn(_l,ls){var Sl=it.isArrayOrTypedArray(_l),Pl=it.isArrayOrTypedArray(ls),Tl=Math.min(Sl?_l.length:1/0,Pl?ls.length:1/0);if(isFinite(Tl)||(Tl=0),Tl&&Pl){for(var El,Ml=0;Ml<Tl;Ml++){var Rl=ls[Ml];if(jt(Rl)&&Rl>0){El=!0;break}}El||(Tl=0)}return{hasLabels:Sl,hasValues:Pl,len:Tl}}function yl(_l,ls,Sl,Pl,Tl){var El=Pl("marker.line.width");El&&Pl("marker.line.color",Tl?void 0:Sl.paper_bgcolor);var Ml=Pl("marker.colors");Fn(Pl,"marker.pattern",Ml),_l.marker&&!ls.marker.pattern.fgcolor&&(ls.marker.pattern.fgcolor=_l.marker.colors),ls.marker.pattern.bgcolor||(ls.marker.pattern.bgcolor=Sl.paper_bgcolor)}function ot(_l,ls,Sl,Pl){function Tl(mu,Pu){return it.coerce(_l,ls,st,mu,Pu)}var El=Tl("labels"),Ml=Tl("values"),Rl=zn(El,Ml),Bn=Rl.len;if(ls._hasLabels=Rl.hasLabels,ls._hasValues=Rl.hasValues,!ls._hasLabels&&ls._hasValues&&(Tl("label0"),Tl("dlabel")),!Bn){ls.visible=!1;return}ls._length=Bn,yl(_l,ls,Pl,Tl,!0),Tl("scalegroup");var Cl=Tl("text"),Al=Tl("texttemplate"),Il;if(Al||(Il=Tl("textinfo",it.isArrayOrTypedArray(Cl)?"text+percent":"percent")),Tl("hovertext"),Tl("hovertemplate"),Al||Il&&Il!=="none"){var $l=Tl("textposition");Ft(_l,ls,Pl,Tl,$l,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var Bu=Array.isArray($l)||$l==="auto",Jl=Bu||$l==="outside";Jl&&Tl("automargin"),($l==="inside"||$l==="auto"||Array.isArray($l))&&Tl("insidetextorientation")}else Il==="none"&&Tl("textposition","none");Ln(ls,Pl,Tl);var Kl=Tl("hole"),Bl=Tl("title.text");if(Bl){var $u=Tl("title.position",Kl?"middle center":"top center");!Kl&&$u==="middle center"&&(ls.title.position="top center"),it.coerceFont(Tl,"title.font",Pl.font)}Tl("sort"),Tl("direction"),Tl("rotation"),Tl("pull")}hu.exports={handleLabelsAndValues:zn,handleMarkerDefaults:yl,supplyDefaults:ot}}),nw=a((yu,hu)=>{hu.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}}),n4=a((yu,hu)=>{var jt=gu(),it=nw();hu.exports=function(st,Ln){function Ft(Fn,zn){return jt.coerce(st,Ln,it,Fn,zn)}Ft("hiddenlabels"),Ft("piecolorway",Ln.colorway),Ft("extendpiecolors")}}),iw=a((yu,hu)=>{var jt=rt(),it=Ju(),st=D0(),Ln={};function Ft(ot,_l){var ls=[],Sl=ot._fullLayout,Pl=Sl.hiddenlabels||[],Tl=_l.labels,El=_l.marker.colors||[],Ml=_l.values,Rl=_l._length,Bn=_l._hasValues&&Rl,Cl,Al;if(_l.dlabel)for(Tl=new Array(Rl),Cl=0;Cl<Rl;Cl++)Tl[Cl]=String(_l.label0+Cl*_l.dlabel);var Il={},$l=Fn(Sl["_"+_l.type+"colormap"]),Bu=0,Jl=!1;for(Cl=0;Cl<Rl;Cl++){var Kl,Bl,$u;if(Bn){if(Kl=Ml[Cl],!jt(Kl))continue;Kl=+Kl}else Kl=1;Bl=Tl[Cl],(Bl===void 0||Bl==="")&&(Bl=Cl),Bl=String(Bl);var mu=Il[Bl];mu===void 0?(Il[Bl]=ls.length,$u=Pl.indexOf(Bl)!==-1,$u||(Bu+=Kl),ls.push({v:Kl,label:Bl,color:$l(El[Cl],Bl),i:Cl,pts:[Cl],hidden:$u})):(Jl=!0,Al=ls[mu],Al.v+=Kl,Al.pts.push(Cl),Al.hidden||(Bu+=Kl),Al.color===!1&&El[Cl]&&(Al.color=$l(El[Cl],Bl)))}ls=ls.filter(function(bu){return bu.v>=0});var Pu=_l.type==="funnelarea"?Jl:_l.sort;return Pu&&ls.sort(function(bu,Fu){return Fu.v-bu.v}),ls[0]&&(ls[0].vTotal=Bu),ls}function Fn(ot){return function(_l,ls){return!_l||(_l=it(_l),!_l.isValid())?!1:(_l=st.addOpacity(_l,_l.getAlpha()),ot[ls]||(ot[ls]=_l),_l)}}function zn(ot,_l){var ls=(_l||{}).type;ls||(ls="pie");var Sl=ot._fullLayout,Pl=ot.calcdata,Tl=Sl[ls+"colorway"],El=Sl["_"+ls+"colormap"];Sl["extend"+ls+"colors"]&&(Tl=yl(Tl,Ln));for(var Ml=0,Rl=0;Rl<Pl.length;Rl++){var Bn=Pl[Rl],Cl=Bn[0].trace.type;if(Cl===ls)for(var Al=0;Al<Bn.length;Al++){var Il=Bn[Al];Il.color===!1&&(El[Il.label]?Il.color=El[Il.label]:(El[Il.label]=Il.color=Tl[Ml%Tl.length],Ml++))}}}function yl(ot,_l){var ls,Sl=JSON.stringify(ot),Pl=_l[Sl];if(!Pl){for(Pl=ot.slice(),ls=0;ls<ot.length;ls++)Pl.push(it(ot[ls]).lighten(20).toHexString());for(ls=0;ls<ot.length;ls++)Pl.push(it(ot[ls]).darken(20).toHexString());_l[Sl]=Pl}return Pl}hu.exports={calc:Ft,crossTraceCalc:zn,makePullColorFn:Fn,generateExtendedColors:yl}}),i4=a((yu,hu)=>{var jt=w0().appendArrayMultiPointValues;hu.exports=function(it,st){var Ln={curveNumber:st.index,pointNumbers:it.pts,data:st._input,fullData:st,label:it.label,color:it.color,value:it.v,percent:it.percent,text:it.text,bbox:it.bbox,v:it.v};return it.pts.length===1&&(Ln.pointNumber=Ln.i=it.pts[0]),jt(Ln,st,it.pts),st.type==="funnelarea"&&(delete Ln.v,delete Ln.i),Ln}}),o4=a((yu,hu)=>{var jt=g(),it=_v(),st=Ey(),Ln=D0(),Ft=q0(),Fn=gu(),zn=Fn.strScale,yl=Fn.strTranslate,ot=hy(),_l=M3(),ls=_l.recordMinTextSize,Sl=_l.clearMinTextSize,Pl=ex().TEXTPAD,Tl=t1(),El=i4(),Ml=gu().isValidTextValue;function Rl(Nu,Hl){var qu=Nu._context.staticPlot,np=Nu._fullLayout,vu=np._size;Sl("pie",np),$l(Hl,Nu),rp(Hl,vu);var Ol=Fn.makeTraceGroups(np._pielayer,Hl,"trace").each(function(Wl){var Mu=jt.select(this),zu=Wl[0],ip=zu.trace;bp(Wl),Mu.attr("stroke-linejoin","round"),Mu.each(function(){var pp=jt.select(this).selectAll("g.slice").data(Wl);pp.enter().append("g").classed("slice",!0),pp.exit().remove();var vp=[[[],[]],[[],[]]],Pp=!1;pp.each(function(cp,jp){if(cp.hidden){jt.select(this).selectAll("path,g").remove();return}cp.pointNumber=cp.i,cp.curveNumber=ip.index,vp[cp.pxmid[1]<0?0:1][cp.pxmid[0]<0?0:1].push(cp);var a0=zu.cx,y0=zu.cy,P0=jt.select(this),E0=P0.selectAll("path.surface").data([cp]);if(E0.enter().append("path").classed("surface",!0).style({"pointer-events":qu?"none":"all"}),P0.call(Cl,Nu,Wl),ip.pull){var O0=+Tl.castOption(ip.pull,cp.pts)||0;O0>0&&(a0+=O0*cp.pxmid[0],y0+=O0*cp.pxmid[1])}cp.cxFinal=a0,cp.cyFinal=y0;function j0(vm,kp,qp,Xu){var hp=Xu*(kp[0]-vm[0]),yp=Xu*(kp[1]-vm[1]);return"a"+Xu*zu.r+","+Xu*zu.r+" 0 "+cp.largeArc+(qp?" 1 ":" 0 ")+hp+","+yp}var $0=ip.hole;if(cp.v===zu.vTotal){var tm="M"+(a0+cp.px0[0])+","+(y0+cp.px0[1])+j0(cp.px0,cp.pxmid,!0,1)+j0(cp.pxmid,cp.px0,!0,1)+"Z";$0?E0.attr("d","M"+(a0+$0*cp.px0[0])+","+(y0+$0*cp.px0[1])+j0(cp.px0,cp.pxmid,!1,$0)+j0(cp.pxmid,cp.px0,!1,$0)+"Z"+tm):E0.attr("d",tm)}else{var A0=j0(cp.px0,cp.px1,!0,1);if($0){var sm=1-$0;E0.attr("d","M"+(a0+$0*cp.px1[0])+","+(y0+$0*cp.px1[1])+j0(cp.px1,cp.px0,!1,$0)+"l"+sm*cp.px0[0]+","+sm*cp.px0[1]+A0+"Z")}else E0.attr("d","M"+a0+","+y0+"l"+cp.px0[0]+","+cp.px0[1]+A0+"Z")}Ap(Nu,cp,zu);var pm=Tl.castOption(ip.textposition,cp.pts),nm=P0.selectAll("g.slicetext").data(cp.text&&pm!=="none"?[0]:[]);nm.enter().append("g").classed("slicetext",!0),nm.exit().remove(),nm.each(function(){var vm=Fn.ensureSingle(jt.select(this),"text","",function(Jp){Jp.attr("data-notex",1)}),kp=Fn.ensureUniformFontSize(Nu,pm==="outside"?Al(ip,cp,np.font):Il(ip,cp,np.font));vm.text(cp.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(Ft.font,kp).call(ot.convertToTspans,Nu);var qp=Ft.bBox(vm.node()),Xu;if(pm==="outside")Xu=Fu(qp,cp);else if(Xu=Bu(qp,cp,zu),pm==="auto"&&Xu.scale<1){var hp=Fn.ensureUniformFontSize(Nu,ip.outsidetextfont);vm.call(Ft.font,hp),qp=Ft.bBox(vm.node()),Xu=Fu(qp,cp)}var yp=Xu.textPosAngle,Dp=yp===void 0?cp.pxmid:Cp(zu.r,yp);if(Xu.targetX=a0+Dp[0]*Xu.rCenter+(Xu.x||0),Xu.targetY=y0+Dp[1]*Xu.rCenter+(Xu.y||0),Lu(Xu,qp),Xu.outside){var Bp=Xu.targetY;cp.yLabelMin=Bp-qp.height/2,cp.yLabelMid=Bp,cp.yLabelMax=Bp+qp.height/2,cp.labelExtraX=0,cp.labelExtraY=0,Pp=!0}Xu.fontSize=kp.size,ls(ip.type,Xu,np),Wl[jp].transform=Xu,Fn.setTransormAndDisplay(vm,Xu)})});var Gp=jt.select(this).selectAll("g.titletext").data(ip.title.text?[0]:[]);if(Gp.enter().append("g").classed("titletext",!0),Gp.exit().remove(),Gp.each(function(){var cp=Fn.ensureSingle(jt.select(this),"text","",function(y0){y0.attr("data-notex",1)}),jp=ip.title.text;ip._meta&&(jp=Fn.templateString(jp,ip._meta)),cp.text(jp).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(Ft.font,ip.title.font).call(ot.convertToTspans,Nu);var a0;ip.title.position==="middle center"?a0=Hu(zu):a0=Gu(zu,vu),cp.attr("transform",yl(a0.x,a0.y)+zn(Math.min(1,a0.scale))+yl(a0.tx,a0.ty))}),Pp&&ap(vp,ip),Bn(pp,ip),Pp&&ip.automargin){var r0=Ft.bBox(Mu.node()),C0=ip.domain,f0=vu.w*(C0.x[1]-C0.x[0]),d0=vu.h*(C0.y[1]-C0.y[0]),Sp=(.5*f0-zu.r)/vu.w,Fp=(.5*d0-zu.r)/vu.h;it.autoMargin(Nu,"pie."+ip.uid+".automargin",{xl:C0.x[0]-Sp,xr:C0.x[1]+Sp,yb:C0.y[0]-Fp,yt:C0.y[1]+Fp,l:Math.max(zu.cx-zu.r-r0.left,0),r:Math.max(r0.right-(zu.cx+zu.r),0),b:Math.max(r0.bottom-(zu.cy+zu.r),0),t:Math.max(zu.cy-zu.r-r0.top,0),pad:5})}})});setTimeout(function(){Ol.selectAll("tspan").each(function(){var Wl=jt.select(this);Wl.attr("dy")&&Wl.attr("dy",Wl.attr("dy"))})},0)}function Bn(Nu,Hl){Nu.each(function(qu){var np=jt.select(this);if(!qu.labelExtraX&&!qu.labelExtraY){np.select("path.textline").remove();return}var vu=np.select("g.slicetext text");qu.transform.targetX+=qu.labelExtraX,qu.transform.targetY+=qu.labelExtraY,Fn.setTransormAndDisplay(vu,qu.transform);var Ol=qu.cxFinal+qu.pxmid[0],Wl=qu.cyFinal+qu.pxmid[1],Mu="M"+Ol+","+Wl,zu=(qu.yLabelMax-qu.yLabelMin)*(qu.pxmid[0]<0?-1:1)/4;if(qu.labelExtraX){var ip=qu.labelExtraX*qu.pxmid[1]/qu.pxmid[0],pp=qu.yLabelMid+qu.labelExtraY-(qu.cyFinal+qu.pxmid[1]);Math.abs(ip)>Math.abs(pp)?Mu+="l"+pp*qu.pxmid[0]/qu.pxmid[1]+","+pp+"H"+(Ol+qu.labelExtraX+zu):Mu+="l"+qu.labelExtraX+","+ip+"v"+(pp-ip)+"h"+zu}else Mu+="V"+(qu.yLabelMid+qu.labelExtraY)+"h"+zu;Fn.ensureSingle(np,"path","textline").call(Ln.stroke,Hl.outsidetextfont.color).attr({"stroke-width":Math.min(2,Hl.outsidetextfont.size/8),d:Mu,fill:"none"})})}function Cl(Nu,Hl,qu){var np=qu[0],vu=np.cx,Ol=np.cy,Wl=np.trace,Mu=Wl.type==="funnelarea";"_hasHoverLabel"in Wl||(Wl._hasHoverLabel=!1),"_hasHoverEvent"in Wl||(Wl._hasHoverEvent=!1),Nu.on("mouseover",function(zu){var ip=Hl._fullLayout,pp=Hl._fullData[Wl.index];if(!(Hl._dragging||ip.hovermode===!1)){var vp=pp.hoverinfo;if(Array.isArray(vp)&&(vp=st.castHoverinfo({hoverinfo:[Tl.castOption(vp,zu.pts)],_module:Wl._module},ip,0)),vp==="all"&&(vp="label+text+value+percent+name"),pp.hovertemplate||vp!=="none"&&vp!=="skip"&&vp){var Pp=zu.rInscribed||0,Gp=vu+zu.pxmid[0]*(1-Pp),r0=Ol+zu.pxmid[1]*(1-Pp),C0=ip.separators,f0=[];if(vp&&vp.indexOf("label")!==-1&&f0.push(zu.label),zu.text=Tl.castOption(pp.hovertext||pp.text,zu.pts),vp&&vp.indexOf("text")!==-1){var d0=zu.text;Fn.isValidTextValue(d0)&&f0.push(d0)}zu.value=zu.v,zu.valueLabel=Tl.formatPieValue(zu.v,C0),vp&&vp.indexOf("value")!==-1&&f0.push(zu.valueLabel),zu.percent=zu.v/np.vTotal,zu.percentLabel=Tl.formatPiePercent(zu.percent,C0),vp&&vp.indexOf("percent")!==-1&&f0.push(zu.percentLabel);var Sp=pp.hoverlabel,Fp=Sp.font,cp=[];st.loneHover({trace:Wl,x0:Gp-Pp*np.r,x1:Gp+Pp*np.r,y:r0,_x0:Mu?vu+zu.TL[0]:Gp-Pp*np.r,_x1:Mu?vu+zu.TR[0]:Gp+Pp*np.r,_y0:Mu?Ol+zu.TL[1]:r0-Pp*np.r,_y1:Mu?Ol+zu.BL[1]:r0+Pp*np.r,text:f0.join("<br>"),name:pp.hovertemplate||vp.indexOf("name")!==-1?pp.name:void 0,idealAlign:zu.pxmid[0]<0?"left":"right",color:Tl.castOption(Sp.bgcolor,zu.pts)||zu.color,borderColor:Tl.castOption(Sp.bordercolor,zu.pts),fontFamily:Tl.castOption(Fp.family,zu.pts),fontSize:Tl.castOption(Fp.size,zu.pts),fontColor:Tl.castOption(Fp.color,zu.pts),nameLength:Tl.castOption(Sp.namelength,zu.pts),textAlign:Tl.castOption(Sp.align,zu.pts),hovertemplate:Tl.castOption(pp.hovertemplate,zu.pts),hovertemplateLabels:zu,eventData:[El(zu,pp)]},{container:ip._hoverlayer.node(),outerContainer:ip._paper.node(),gd:Hl,inOut_bbox:cp}),zu.bbox=cp[0],Wl._hasHoverLabel=!0}Wl._hasHoverEvent=!0,Hl.emit("plotly_hover",{points:[El(zu,pp)],event:jt.event})}}),Nu.on("mouseout",function(zu){var ip=Hl._fullLayout,pp=Hl._fullData[Wl.index],vp=jt.select(this).datum();Wl._hasHoverEvent&&(zu.originalEvent=jt.event,Hl.emit("plotly_unhover",{points:[El(vp,pp)],event:jt.event}),Wl._hasHoverEvent=!1),Wl._hasHoverLabel&&(st.loneUnhover(ip._hoverlayer.node()),Wl._hasHoverLabel=!1)}),Nu.on("click",function(zu){var ip=Hl._fullLayout,pp=Hl._fullData[Wl.index];Hl._dragging||ip.hovermode===!1||(Hl._hoverdata=[El(zu,pp)],st.click(Hl,jt.event))})}function Al(Nu,Hl,qu){var np=Tl.castOption(Nu.outsidetextfont.color,Hl.pts)||Tl.castOption(Nu.textfont.color,Hl.pts)||qu.color,vu=Tl.castOption(Nu.outsidetextfont.family,Hl.pts)||Tl.castOption(Nu.textfont.family,Hl.pts)||qu.family,Ol=Tl.castOption(Nu.outsidetextfont.size,Hl.pts)||Tl.castOption(Nu.textfont.size,Hl.pts)||qu.size,Wl=Tl.castOption(Nu.outsidetextfont.weight,Hl.pts)||Tl.castOption(Nu.textfont.weight,Hl.pts)||qu.weight,Mu=Tl.castOption(Nu.outsidetextfont.style,Hl.pts)||Tl.castOption(Nu.textfont.style,Hl.pts)||qu.style,zu=Tl.castOption(Nu.outsidetextfont.variant,Hl.pts)||Tl.castOption(Nu.textfont.variant,Hl.pts)||qu.variant,ip=Tl.castOption(Nu.outsidetextfont.textcase,Hl.pts)||Tl.castOption(Nu.textfont.textcase,Hl.pts)||qu.textcase,pp=Tl.castOption(Nu.outsidetextfont.lineposition,Hl.pts)||Tl.castOption(Nu.textfont.lineposition,Hl.pts)||qu.lineposition,vp=Tl.castOption(Nu.outsidetextfont.shadow,Hl.pts)||Tl.castOption(Nu.textfont.shadow,Hl.pts)||qu.shadow;return{color:np,family:vu,size:Ol,weight:Wl,style:Mu,variant:zu,textcase:ip,lineposition:pp,shadow:vp}}function Il(Nu,Hl,qu){var np=Tl.castOption(Nu.insidetextfont.color,Hl.pts);!np&&Nu._input.textfont&&(np=Tl.castOption(Nu._input.textfont.color,Hl.pts));var vu=Tl.castOption(Nu.insidetextfont.family,Hl.pts)||Tl.castOption(Nu.textfont.family,Hl.pts)||qu.family,Ol=Tl.castOption(Nu.insidetextfont.size,Hl.pts)||Tl.castOption(Nu.textfont.size,Hl.pts)||qu.size,Wl=Tl.castOption(Nu.insidetextfont.weight,Hl.pts)||Tl.castOption(Nu.textfont.weight,Hl.pts)||qu.weight,Mu=Tl.castOption(Nu.insidetextfont.style,Hl.pts)||Tl.castOption(Nu.textfont.style,Hl.pts)||qu.style,zu=Tl.castOption(Nu.insidetextfont.variant,Hl.pts)||Tl.castOption(Nu.textfont.variant,Hl.pts)||qu.variant,ip=Tl.castOption(Nu.insidetextfont.textcase,Hl.pts)||Tl.castOption(Nu.textfont.textcase,Hl.pts)||qu.textcase,pp=Tl.castOption(Nu.insidetextfont.lineposition,Hl.pts)||Tl.castOption(Nu.textfont.lineposition,Hl.pts)||qu.lineposition,vp=Tl.castOption(Nu.insidetextfont.shadow,Hl.pts)||Tl.castOption(Nu.textfont.shadow,Hl.pts)||qu.shadow;return{color:np||Ln.contrast(Hl.color),family:vu,size:Ol,weight:Wl,style:Mu,variant:zu,textcase:ip,lineposition:pp,shadow:vp}}function $l(Nu,Hl){for(var qu,np,vu=0;vu<Nu.length;vu++)if(qu=Nu[vu][0],np=qu.trace,np.title.text){var Ol=np.title.text;np._meta&&(Ol=Fn.templateString(Ol,np._meta));var Wl=Ft.tester.append("text").attr("data-notex",1).text(Ol).call(Ft.font,np.title.font).call(ot.convertToTspans,Hl),Mu=Ft.bBox(Wl.node(),!0);qu.titleBox={width:Mu.width,height:Mu.height},Wl.remove()}}function Bu(Nu,Hl,qu){var np=qu.r||Hl.rpx1,vu=Hl.rInscribed,Ol=Hl.startangle===Hl.stopangle;if(Ol)return{rCenter:1-vu,scale:0,rotate:0,textPosAngle:0};var Wl=Hl.ring,Mu=Wl===1&&Math.abs(Hl.startangle-Hl.stopangle)===Math.PI*2,zu=Hl.halfangle,ip=Hl.midangle,pp=qu.trace.insidetextorientation,vp=pp==="horizontal",Pp=pp==="tangential",Gp=pp==="radial",r0=pp==="auto",C0=[],f0;if(!r0){var d0=function(P0,E0){if(Jl(Hl,P0)){var O0=Math.abs(P0-Hl.startangle),j0=Math.abs(P0-Hl.stopangle),$0=O0<j0?O0:j0;E0==="tan"?f0=Bl(Nu,np,Wl,$0,0):f0=Kl(Nu,np,Wl,$0,Math.PI/2),f0.textPosAngle=P0,C0.push(f0)}},Sp;if(vp||Pp){for(Sp=4;Sp>=-4;Sp-=2)d0(Math.PI*Sp,"tan");for(Sp=4;Sp>=-4;Sp-=2)d0(Math.PI*(Sp+1),"tan")}if(vp||Gp){for(Sp=4;Sp>=-4;Sp-=2)d0(Math.PI*(Sp+1.5),"rad");for(Sp=4;Sp>=-4;Sp-=2)d0(Math.PI*(Sp+.5),"rad")}}if(Mu||r0||vp){var Fp=Math.sqrt(Nu.width*Nu.width+Nu.height*Nu.height);if(f0={scale:vu*np*2/Fp,rCenter:1-vu,rotate:0},f0.textPosAngle=(Hl.startangle+Hl.stopangle)/2,f0.scale>=1)return f0;C0.push(f0)}(r0||Gp)&&(f0=Kl(Nu,np,Wl,zu,ip),f0.textPosAngle=(Hl.startangle+Hl.stopangle)/2,C0.push(f0)),(r0||Pp)&&(f0=Bl(Nu,np,Wl,zu,ip),f0.textPosAngle=(Hl.startangle+Hl.stopangle)/2,C0.push(f0));for(var cp=0,jp=0,a0=0;a0<C0.length;a0++){var y0=C0[a0].scale;if(jp<y0&&(jp=y0,cp=a0),!r0&&jp>=1)break}return C0[cp]}function Jl(Nu,Hl){var qu=Nu.startangle,np=Nu.stopangle;return qu>Hl&&Hl>np||qu<Hl&&Hl<np}function Kl(Nu,Hl,qu,np,vu){Hl=Math.max(0,Hl-2*Pl);var Ol=Nu.width/Nu.height,Wl=Pu(Ol,np,Hl,qu);return{scale:Wl*2/Nu.height,rCenter:$u(Ol,Wl/Hl),rotate:mu(vu)}}function Bl(Nu,Hl,qu,np,vu){Hl=Math.max(0,Hl-2*Pl);var Ol=Nu.height/Nu.width,Wl=Pu(Ol,np,Hl,qu);return{scale:Wl*2/Nu.width,rCenter:$u(Ol,Wl/Hl),rotate:mu(vu+Math.PI/2)}}function $u(Nu,Hl){return Math.cos(Hl)-Nu*Hl}function mu(Nu){return(180/Math.PI*Nu+720)%180-90}function Pu(Nu,Hl,qu,np){var vu=Nu+1/(2*Math.tan(Hl));return qu*Math.min(1/(Math.sqrt(vu*vu+.5)+vu),np/(Math.sqrt(Nu*Nu+np/2)+Nu))}function bu(Nu,Hl){return Nu.v===Hl.vTotal&&!Hl.trace.hole?1:Math.min(1/(1+1/Math.sin(Nu.halfangle)),Nu.ring/2)}function Fu(Nu,Hl){var qu=Hl.pxmid[0],np=Hl.pxmid[1],vu=Nu.width/2,Ol=Nu.height/2;return qu<0&&(vu*=-1),np<0&&(Ol*=-1),{scale:1,rCenter:1,rotate:0,x:vu+Math.abs(Ol)*(vu>0?1:-1)/2,y:Ol/(1+qu*qu/(np*np)),outside:!0}}function Hu(Nu){var Hl=Math.sqrt(Nu.titleBox.width*Nu.titleBox.width+Nu.titleBox.height*Nu.titleBox.height);return{x:Nu.cx,y:Nu.cy,scale:Nu.trace.hole*Nu.r*2/Hl,tx:0,ty:-Nu.titleBox.height/2+Nu.trace.title.font.size}}function Gu(Nu,Hl){var qu=1,np=1,vu,Ol=Nu.trace,Wl={x:Nu.cx,y:Nu.cy},Mu={tx:0,ty:0};Mu.ty+=Ol.title.font.size,vu=Yu(Ol),Ol.title.position.indexOf("top")!==-1?(Wl.y-=(1+vu)*Nu.r,Mu.ty-=Nu.titleBox.height):Ol.title.position.indexOf("bottom")!==-1&&(Wl.y+=(1+vu)*Nu.r);var zu=Xl(Nu.r,Nu.trace.aspectratio),ip=Hl.w*(Ol.domain.x[1]-Ol.domain.x[0])/2;return Ol.title.position.indexOf("left")!==-1?(ip=ip+zu,Wl.x-=(1+vu)*zu,Mu.tx+=Nu.titleBox.width/2):Ol.title.position.indexOf("center")!==-1?ip*=2:Ol.title.position.indexOf("right")!==-1&&(ip=ip+zu,Wl.x+=(1+vu)*zu,Mu.tx-=Nu.titleBox.width/2),qu=ip/Nu.titleBox.width,np=Wu(Nu,Hl)/Nu.titleBox.height,{x:Wl.x,y:Wl.y,scale:Math.min(qu,np),tx:Mu.tx,ty:Mu.ty}}function Xl(Nu,Hl){return Nu/(Hl===void 0?1:Hl)}function Wu(Nu,Hl){var qu=Nu.trace,np=Hl.h*(qu.domain.y[1]-qu.domain.y[0]);return Math.min(Nu.titleBox.height,np/2)}function Yu(Nu){var Hl=Nu.pull;if(!Hl)return 0;var qu;if(Fn.isArrayOrTypedArray(Hl))for(Hl=0,qu=0;qu<Nu.pull.length;qu++)Nu.pull[qu]>Hl&&(Hl=Nu.pull[qu]);return Hl}function ap(Nu,Hl){var qu,np,vu,Ol,Wl,Mu,zu,ip,pp,vp,Pp,Gp,r0;function C0(Fp,cp){return Fp.pxmid[1]-cp.pxmid[1]}function f0(Fp,cp){return cp.pxmid[1]-Fp.pxmid[1]}function d0(Fp,cp){cp||(cp={});var jp=cp.labelExtraY+(np?cp.yLabelMax:cp.yLabelMin),a0=np?Fp.yLabelMin:Fp.yLabelMax,y0=np?Fp.yLabelMax:Fp.yLabelMin,P0=Fp.cyFinal+Wl(Fp.px0[1],Fp.px1[1]),E0=jp-a0,O0,j0,$0,tm,A0,sm;if(E0*zu>0&&(Fp.labelExtraY=E0),!!Fn.isArrayOrTypedArray(Hl.pull))for(j0=0;j0<vp.length;j0++)$0=vp[j0],!($0===Fp||(Tl.castOption(Hl.pull,Fp.pts)||0)>=(Tl.castOption(Hl.pull,$0.pts)||0))&&((Fp.pxmid[1]-$0.pxmid[1])*zu>0?(tm=$0.cyFinal+Wl($0.px0[1],$0.px1[1]),E0=tm-a0-Fp.labelExtraY,E0*zu>0&&(Fp.labelExtraY+=E0)):(y0+Fp.labelExtraY-P0)*zu>0&&(O0=3*Mu*Math.abs(j0-vp.indexOf(Fp)),A0=$0.cxFinal+Ol($0.px0[0],$0.px1[0]),sm=A0+O0-(Fp.cxFinal+Fp.pxmid[0])-Fp.labelExtraX,sm*Mu>0&&(Fp.labelExtraX+=sm)))}for(np=0;np<2;np++)for(vu=np?C0:f0,Wl=np?Math.max:Math.min,zu=np?1:-1,qu=0;qu<2;qu++){for(Ol=qu?Math.max:Math.min,Mu=qu?1:-1,ip=Nu[np][qu],ip.sort(vu),pp=Nu[1-np][qu],vp=pp.concat(ip),Gp=[],Pp=0;Pp<ip.length;Pp++)ip[Pp].yLabelMid!==void 0&&Gp.push(ip[Pp]);for(r0=!1,Pp=0;np&&Pp<pp.length;Pp++)if(pp[Pp].yLabelMid!==void 0){r0=pp[Pp];break}for(Pp=0;Pp<Gp.length;Pp++){var Sp=Pp&&Gp[Pp-1];r0&&!Pp&&(Sp=r0),d0(Gp[Pp],Sp)}}}function rp(Nu,Hl){for(var qu=[],np=0;np<Nu.length;np++){var vu=Nu[np][0],Ol=vu.trace,Wl=Ol.domain,Mu=Hl.w*(Wl.x[1]-Wl.x[0]),zu=Hl.h*(Wl.y[1]-Wl.y[0]);Ol.title.text&&Ol.title.position!=="middle center"&&(zu-=Wu(vu,Hl));var ip=Mu/2,pp=zu/2;Ol.type==="funnelarea"&&!Ol.scalegroup&&(pp/=Ol.aspectratio),vu.r=Math.min(ip,pp)/(1+Yu(Ol)),vu.cx=Hl.l+Hl.w*(Ol.domain.x[1]+Ol.domain.x[0])/2,vu.cy=Hl.t+Hl.h*(1-Ol.domain.y[0])-zu/2,Ol.title.text&&Ol.title.position.indexOf("bottom")!==-1&&(vu.cy-=Wu(vu,Hl)),Ol.scalegroup&&qu.indexOf(Ol.scalegroup)===-1&&qu.push(Ol.scalegroup)}sp(Nu,qu)}function sp(Nu,Hl){for(var qu,np,vu,Ol=0;Ol<Hl.length;Ol++){var Wl=1/0,Mu=Hl[Ol];for(np=0;np<Nu.length;np++)if(qu=Nu[np][0],vu=qu.trace,vu.scalegroup===Mu){var zu;if(vu.type==="pie")zu=qu.r*qu.r;else if(vu.type==="funnelarea"){var ip,pp;vu.aspectratio>1?(ip=qu.r,pp=ip/vu.aspectratio):(pp=qu.r,ip=pp*vu.aspectratio),ip*=(1+vu.baseratio)/2,zu=ip*pp}Wl=Math.min(Wl,zu/qu.vTotal)}for(np=0;np<Nu.length;np++)if(qu=Nu[np][0],vu=qu.trace,vu.scalegroup===Mu){var vp=Wl*qu.vTotal;vu.type==="funnelarea"&&(vp/=(1+vu.baseratio)/2,vp/=vu.aspectratio),qu.r=Math.sqrt(vp)}}}function bp(Nu){var Hl=Nu[0],qu=Hl.r,np=Hl.trace,vu=Tl.getRotationAngle(np.rotation),Ol=2*Math.PI/Hl.vTotal,Wl="px0",Mu="px1",zu,ip,pp;if(np.direction==="counterclockwise"){for(zu=0;zu<Nu.length&&Nu[zu].hidden;zu++);if(zu===Nu.length)return;vu+=Ol*Nu[zu].v,Ol*=-1,Wl="px1",Mu="px0"}for(pp=Cp(qu,vu),zu=0;zu<Nu.length;zu++)ip=Nu[zu],!ip.hidden&&(ip[Wl]=pp,ip.startangle=vu,vu+=Ol*ip.v/2,ip.pxmid=Cp(qu,vu),ip.midangle=vu,vu+=Ol*ip.v/2,pp=Cp(qu,vu),ip.stopangle=vu,ip[Mu]=pp,ip.largeArc=ip.v>Hl.vTotal/2?1:0,ip.halfangle=Math.PI*Math.min(ip.v/Hl.vTotal,.5),ip.ring=1-np.hole,ip.rInscribed=bu(ip,Hl))}function Cp(Nu,Hl){return[Nu*Math.sin(Hl),-Nu*Math.cos(Hl)]}function Ap(Nu,Hl,qu){var np=Nu._fullLayout,vu=qu.trace,Ol=vu.texttemplate,Wl=vu.textinfo;if(!Ol&&Wl&&Wl!=="none"){var Mu=Wl.split("+"),zu=function(cp){return Mu.indexOf(cp)!==-1},ip=zu("label"),pp=zu("text"),vp=zu("value"),Pp=zu("percent"),Gp=np.separators,r0;if(r0=ip?[Hl.label]:[],pp){var C0=Tl.getFirstFilled(vu.text,Hl.pts);Ml(C0)&&r0.push(C0)}vp&&r0.push(Tl.formatPieValue(Hl.v,Gp)),Pp&&r0.push(Tl.formatPiePercent(Hl.v/qu.vTotal,Gp)),Hl.text=r0.join("<br>")}function f0(cp){return{label:cp.label,value:cp.v,valueLabel:Tl.formatPieValue(cp.v,np.separators),percent:cp.v/qu.vTotal,percentLabel:Tl.formatPiePercent(cp.v/qu.vTotal,np.separators),color:cp.color,text:cp.text,customdata:Fn.castOption(vu,cp.i,"customdata")}}if(Ol){var d0=Fn.castOption(vu,Hl.i,"texttemplate");if(!d0)Hl.text="";else{var Sp=f0(Hl),Fp=Tl.getFirstFilled(vu.text,Hl.pts);(Ml(Fp)||Fp==="")&&(Sp.text=Fp),Hl.text=Fn.texttemplateString(d0,Sp,Nu._fullLayout._d3locale,Sp,vu._meta||{})}}}function Lu(Nu,Hl){var qu=Nu.rotate*Math.PI/180,np=Math.cos(qu),vu=Math.sin(qu),Ol=(Hl.left+Hl.right)/2,Wl=(Hl.top+Hl.bottom)/2;Nu.textX=Ol*np-Wl*vu,Nu.textY=Ol*vu+Wl*np,Nu.noCenter=!0}hu.exports={plot:Rl,formatSliceLabel:Ap,transformInsideText:Bu,determineInsideTextFont:Il,positionTitleOutside:Gu,prerenderTitles:$l,layoutAreas:rp,attachFxHandlers:Cl,computeTransform:Lu}}),a4=a((yu,hu)=>{var jt=g(),it=K1(),st=M3().resizeText;hu.exports=function(Ln){var Ft=Ln._fullLayout._pielayer.selectAll(".trace");st(Ln,Ft,"pie"),Ft.each(function(Fn){var zn=Fn[0],yl=zn.trace,ot=jt.select(this);ot.style({opacity:yl.opacity}),ot.selectAll("path.surface").each(function(_l){jt.select(this).call(it,_l,yl,Ln)})})}}),s4=a(yu=>{var hu=_v();yu.name="pie",yu.plot=function(jt,it,st,Ln){hu.plotBasePlot(yu.name,jt,it,st,Ln)},yu.clean=function(jt,it,st,Ln){hu.cleanBasePlot(yu.name,jt,it,st,Ln)}}),l4=a((yu,hu)=>{hu.exports={attributes:rw(),supplyDefaults:r4().supplyDefaults,supplyLayoutDefaults:n4(),layoutAttributes:nw(),calc:iw().calc,crossTraceCalc:iw().crossTraceCalc,plot:o4().plot,style:a4(),styleOne:K1(),moduleType:"trace",name:"pie",basePlotModule:s4(),categories:["pie-like","pie","showLegend"],meta:{}}}),u4=a((yu,hu)=>{hu.exports=l4()}),w2=a((yu,hu)=>{var jt=Object.getOwnPropertySymbols,it=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;function Ln(Fn){if(Fn==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(Fn)}function Ft(){try{if(!Object.assign)return!1;var Fn=new String("abc");if(Fn[5]="de",Object.getOwnPropertyNames(Fn)[0]==="5")return!1;for(var zn={},yl=0;yl<10;yl++)zn["_"+String.fromCharCode(yl)]=yl;var ot=Object.getOwnPropertyNames(zn).map(function(ls){return zn[ls]});if(ot.join("")!=="0123456789")return!1;var _l={};return"abcdefghijklmnopqrst".split("").forEach(function(ls){_l[ls]=ls}),Object.keys(Object.assign({},_l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}hu.exports=Ft()?Object.assign:function(Fn,zn){for(var yl,ot=Ln(Fn),_l,ls=1;ls<arguments.length;ls++){yl=Object(arguments[ls]);for(var Sl in yl)it.call(yl,Sl)&&(ot[Sl]=yl[Sl]);if(jt){_l=jt(yl);for(var Pl=0;Pl<_l.length;Pl++)st.call(yl,_l[Pl])&&(ot[_l[Pl]]=yl[_l[Pl]])}}return ot}}),C2=a((yu,hu)=>{var jt=w2();function it(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}jt(it.prototype,{instance:function(yl,ot){yl=(yl||"gregorian").toLowerCase(),ot=ot||"";var _l=this._localCals[yl+"-"+ot];if(!_l&&this.calendars[yl]&&(_l=new this.calendars[yl](ot),this._localCals[yl+"-"+ot]=_l),!_l)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,yl);return _l},newDate:function(yl,ot,_l,ls,Sl){return ls=(yl!=null&&yl.year?yl.calendar():typeof ls=="string"?this.instance(ls,Sl):ls)||this.instance(),ls.newDate(yl,ot,_l)},substituteDigits:function(yl){return function(ot){return(ot+"").replace(/[0-9]/g,function(_l){return yl[_l]})}},substituteChineseDigits:function(yl,ot){return function(_l){for(var ls="",Sl=0;_l>0;){var Pl=_l%10;ls=(Pl===0?"":yl[Pl]+ot[Sl])+ls,Sl++,_l=Math.floor(_l/10)}return ls.indexOf(yl[1]+ot[1])===0&&(ls=ls.substr(1)),ls||yl[0]}}});function st(yl,ot,_l,ls){if(this._calendar=yl,this._year=ot,this._month=_l,this._day=ls,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(zn.local.invalidDate||zn.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function Ln(yl,ot){return yl=""+yl,"000000".substring(0,ot-yl.length)+yl}jt(st.prototype,{newDate:function(yl,ot,_l){return this._calendar.newDate(yl??this,ot,_l)},year:function(yl){return arguments.length===0?this._year:this.set(yl,"y")},month:function(yl){return arguments.length===0?this._month:this.set(yl,"m")},day:function(yl){return arguments.length===0?this._day:this.set(yl,"d")},date:function(yl,ot,_l){if(!this._calendar.isValid(yl,ot,_l))throw(zn.local.invalidDate||zn.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=yl,this._month=ot,this._day=_l,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(yl,ot){return this._calendar.add(this,yl,ot)},set:function(yl,ot){return this._calendar.set(this,yl,ot)},compareTo:function(yl){if(this._calendar.name!==yl._calendar.name)throw(zn.local.differentCalendars||zn.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,yl._calendar.local.name);var ot=this._year!==yl._year?this._year-yl._year:this._month!==yl._month?this.monthOfYear()-yl.monthOfYear():this._day-yl._day;return ot===0?0:ot<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(yl){return this._calendar.fromJD(yl)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(yl){return this._calendar.fromJSDate(yl)},toString:function(){return(this.year()<0?"-":"")+Ln(Math.abs(this.year()),4)+"-"+Ln(this.month(),2)+"-"+Ln(this.day(),2)}});function Ft(){this.shortYearCutoff="+10"}jt(Ft.prototype,{_validateLevel:0,newDate:function(yl,ot,_l){return yl==null?this.today():(yl.year&&(this._validate(yl,ot,_l,zn.local.invalidDate||zn.regionalOptions[""].invalidDate),_l=yl.day(),ot=yl.month(),yl=yl.year()),new st(this,yl,ot,_l))},today:function(){return this.fromJSDate(new Date)},epoch:function(yl){var ot=this._validate(yl,this.minMonth,this.minDay,zn.local.invalidYear||zn.regionalOptions[""].invalidYear);return ot.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(yl){var ot=this._validate(yl,this.minMonth,this.minDay,zn.local.invalidYear||zn.regionalOptions[""].invalidYear);return(ot.year()<0?"-":"")+Ln(Math.abs(ot.year()),4)},monthsInYear:function(yl){return this._validate(yl,this.minMonth,this.minDay,zn.local.invalidYear||zn.regionalOptions[""].invalidYear),12},monthOfYear:function(yl,ot){var _l=this._validate(yl,ot,this.minDay,zn.local.invalidMonth||zn.regionalOptions[""].invalidMonth);return(_l.month()+this.monthsInYear(_l)-this.firstMonth)%this.monthsInYear(_l)+this.minMonth},fromMonthOfYear:function(yl,ot){var _l=(ot+this.firstMonth-2*this.minMonth)%this.monthsInYear(yl)+this.minMonth;return this._validate(yl,_l,this.minDay,zn.local.invalidMonth||zn.regionalOptions[""].invalidMonth),_l},daysInYear:function(yl){var ot=this._validate(yl,this.minMonth,this.minDay,zn.local.invalidYear||zn.regionalOptions[""].invalidYear);return this.leapYear(ot)?366:365},dayOfYear:function(yl,ot,_l){var ls=this._validate(yl,ot,_l,zn.local.invalidDate||zn.regionalOptions[""].invalidDate);return ls.toJD()-this.newDate(ls.year(),this.fromMonthOfYear(ls.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(yl,ot,_l){var ls=this._validate(yl,ot,_l,zn.local.invalidDate||zn.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(ls))+2)%this.daysInWeek()},extraInfo:function(yl,ot,_l){return this._validate(yl,ot,_l,zn.local.invalidDate||zn.regionalOptions[""].invalidDate),{}},add:function(yl,ot,_l){return this._validate(yl,this.minMonth,this.minDay,zn.local.invalidDate||zn.regionalOptions[""].invalidDate),this._correctAdd(yl,this._add(yl,ot,_l),ot,_l)},_add:function(yl,ot,_l){if(this._validateLevel++,_l==="d"||_l==="w"){var ls=yl.toJD()+ot*(_l==="w"?this.daysInWeek():1),Sl=yl.calendar().fromJD(ls);return this._validateLevel--,[Sl.year(),Sl.month(),Sl.day()]}try{var Pl=yl.year()+(_l==="y"?ot:0),Tl=yl.monthOfYear()+(_l==="m"?ot:0),Sl=yl.day(),El=function(Bn){for(;Tl<Bn.minMonth;)Pl--,Tl+=Bn.monthsInYear(Pl);for(var Cl=Bn.monthsInYear(Pl);Tl>Cl-1+Bn.minMonth;)Pl++,Tl-=Cl,Cl=Bn.monthsInYear(Pl)};_l==="y"?(yl.month()!==this.fromMonthOfYear(Pl,Tl)&&(Tl=this.newDate(Pl,yl.month(),this.minDay).monthOfYear()),Tl=Math.min(Tl,this.monthsInYear(Pl)),Sl=Math.min(Sl,this.daysInMonth(Pl,this.fromMonthOfYear(Pl,Tl)))):_l==="m"&&(El(this),Sl=Math.min(Sl,this.daysInMonth(Pl,this.fromMonthOfYear(Pl,Tl))));var Ml=[Pl,this.fromMonthOfYear(Pl,Tl),Sl];return this._validateLevel--,Ml}catch(Rl){throw this._validateLevel--,Rl}},_correctAdd:function(yl,ot,_l,ls){if(!this.hasYearZero&&(ls==="y"||ls==="m")&&(ot[0]===0||yl.year()>0!=ot[0]>0)){var Sl={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[ls],Pl=_l<0?-1:1;ot=this._add(yl,_l*Sl[0]+Pl*Sl[1],Sl[2])}return yl.date(ot[0],ot[1],ot[2])},set:function(yl,ot,_l){this._validate(yl,this.minMonth,this.minDay,zn.local.invalidDate||zn.regionalOptions[""].invalidDate);var ls=_l==="y"?ot:yl.year(),Sl=_l==="m"?ot:yl.month(),Pl=_l==="d"?ot:yl.day();return(_l==="y"||_l==="m")&&(Pl=Math.min(Pl,this.daysInMonth(ls,Sl))),yl.date(ls,Sl,Pl)},isValid:function(yl,ot,_l){this._validateLevel++;var ls=this.hasYearZero||yl!==0;if(ls){var Sl=this.newDate(yl,ot,this.minDay);ls=ot>=this.minMonth&&ot-this.minMonth<this.monthsInYear(Sl)&&_l>=this.minDay&&_l-this.minDay<this.daysInMonth(Sl)}return this._validateLevel--,ls},toJSDate:function(yl,ot,_l){var ls=this._validate(yl,ot,_l,zn.local.invalidDate||zn.regionalOptions[""].invalidDate);return zn.instance().fromJD(this.toJD(ls)).toJSDate()},fromJSDate:function(yl){return this.fromJD(zn.instance().fromJSDate(yl).toJD())},_validate:function(yl,ot,_l,ls){if(yl.year){if(this._validateLevel===0&&this.name!==yl.calendar().name)throw(zn.local.differentCalendars||zn.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,yl.calendar().local.name);return yl}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(yl,ot,_l))throw ls.replace(/\{0\}/,this.local.name);var Sl=this.newDate(yl,ot,_l);return this._validateLevel--,Sl}catch(Pl){throw this._validateLevel--,Pl}}});function Fn(yl){this.local=this.regionalOptions[yl]||this.regionalOptions[""]}Fn.prototype=new Ft,jt(Fn.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_l){var ot=this._validate(_l,this.minMonth,this.minDay,zn.local.invalidYear||zn.regionalOptions[""].invalidYear),_l=ot.year()+(ot.year()<0?1:0);return _l%4===0&&(_l%100!==0||_l%400===0)},weekOfYear:function(yl,ot,_l){var ls=this.newDate(yl,ot,_l);return ls.add(4-(ls.dayOfWeek()||7),"d"),Math.floor((ls.dayOfYear()-1)/7)+1},daysInMonth:function(yl,ot){var _l=this._validate(yl,ot,this.minDay,zn.local.invalidMonth||zn.regionalOptions[""].invalidMonth);return this.daysPerMonth[_l.month()-1]+(_l.month()===2&&this.leapYear(_l.year())?1:0)},weekDay:function(yl,ot,_l){return(this.dayOfWeek(yl,ot,_l)||7)<6},toJD:function(yl,ot,_l){var ls=this._validate(yl,ot,_l,zn.local.invalidDate||zn.regionalOptions[""].invalidDate);yl=ls.year(),ot=ls.month(),_l=ls.day(),yl<0&&yl++,ot<3&&(ot+=12,yl--);var Sl=Math.floor(yl/100),Pl=2-Sl+Math.floor(Sl/4);return Math.floor(365.25*(yl+4716))+Math.floor(30.6001*(ot+1))+_l+Pl-1524.5},fromJD:function(yl){var ot=Math.floor(yl+.5),_l=Math.floor((ot-186721625e-2)/36524.25);_l=ot+1+_l-Math.floor(_l/4);var ls=_l+1524,Sl=Math.floor((ls-122.1)/365.25),Pl=Math.floor(365.25*Sl),Tl=Math.floor((ls-Pl)/30.6001),El=ls-Pl-Math.floor(Tl*30.6001),Ml=Tl-(Tl>13.5?13:1),Rl=Sl-(Ml>2.5?4716:4715);return Rl<=0&&Rl--,this.newDate(Rl,Ml,El)},toJSDate:function(yl,ot,_l){var ls=this._validate(yl,ot,_l,zn.local.invalidDate||zn.regionalOptions[""].invalidDate),Sl=new Date(ls.year(),ls.month()-1,ls.day());return Sl.setHours(0),Sl.setMinutes(0),Sl.setSeconds(0),Sl.setMilliseconds(0),Sl.setHours(Sl.getHours()>12?Sl.getHours()+2:0),Sl},fromJSDate:function(yl){return this.newDate(yl.getFullYear(),yl.getMonth()+1,yl.getDate())}});var zn=hu.exports=new it;zn.cdate=st,zn.baseCalendar=Ft,zn.calendars.gregorian=Fn}),c4=a(()=>{var yu=w2(),hu=C2();yu(hu.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),hu.local=hu.regionalOptions[""],yu(hu.cdate.prototype,{formatDate:function(jt,it){return typeof jt!="string"&&(it=jt,jt=""),this._calendar.formatDate(jt||"",this,it)}}),yu(hu.baseCalendar.prototype,{UNIX_EPOCH:hu.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:hu.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(jt,it,st){if(typeof jt!="string"&&(st=it,it=jt,jt=""),!it)return"";if(it.calendar()!==this)throw hu.local.invalidFormat||hu.regionalOptions[""].invalidFormat;jt=jt||this.local.dateFormat,st=st||{};for(var Ln=st.dayNamesShort||this.local.dayNamesShort,Ft=st.dayNames||this.local.dayNames,Fn=st.monthNumbers||this.local.monthNumbers,zn=st.monthNamesShort||this.local.monthNamesShort,yl=st.monthNames||this.local.monthNames,ot=st.calculateWeek||this.local.calculateWeek,_l=function(Il,$l){for(var Bu=1;Al+Bu<jt.length&&jt.charAt(Al+Bu)===Il;)Bu++;return Al+=Bu-1,Math.floor(Bu/($l||1))>1},ls=function(Il,$l,Bu,Jl){var Kl=""+$l;if(_l(Il,Jl))for(;Kl.length<Bu;)Kl="0"+Kl;return Kl},Sl=function(Il,$l,Bu,Jl){return _l(Il)?Jl[$l]:Bu[$l]},Pl=this,Tl=function(Il){return typeof Fn=="function"?Fn.call(Pl,Il,_l("m")):Rl(ls("m",Il.month(),2))},El=function(Il,$l){return $l?typeof yl=="function"?yl.call(Pl,Il):yl[Il.month()-Pl.minMonth]:typeof zn=="function"?zn.call(Pl,Il):zn[Il.month()-Pl.minMonth]},Ml=this.local.digits,Rl=function(Il){return st.localNumbers&&Ml?Ml(Il):Il},Bn="",Cl=!1,Al=0;Al<jt.length;Al++)if(Cl)jt.charAt(Al)==="'"&&!_l("'")?Cl=!1:Bn+=jt.charAt(Al);else switch(jt.charAt(Al)){case"d":Bn+=Rl(ls("d",it.day(),2));break;case"D":Bn+=Sl("D",it.dayOfWeek(),Ln,Ft);break;case"o":Bn+=ls("o",it.dayOfYear(),3);break;case"w":Bn+=ls("w",it.weekOfYear(),2);break;case"m":Bn+=Tl(it);break;case"M":Bn+=El(it,_l("M"));break;case"y":Bn+=_l("y",2)?it.year():(it.year()%100<10?"0":"")+it.year()%100;break;case"Y":_l("Y",2),Bn+=it.formatYear();break;case"J":Bn+=it.toJD();break;case"@":Bn+=(it.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":Bn+=(it.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":_l("'")?Bn+="'":Cl=!0;break;default:Bn+=jt.charAt(Al)}return Bn},parseDate:function(jt,it,st){if(it==null)throw hu.local.invalidArguments||hu.regionalOptions[""].invalidArguments;if(it=typeof it=="object"?it.toString():it+"",it==="")return null;jt=jt||this.local.dateFormat,st=st||{};var Ln=st.shortYearCutoff||this.shortYearCutoff;Ln=typeof Ln!="string"?Ln:this.today().year()%100+parseInt(Ln,10);for(var Ft=st.dayNamesShort||this.local.dayNamesShort,Fn=st.dayNames||this.local.dayNames,zn=st.parseMonth||this.local.parseMonth,yl=st.monthNumbers||this.local.monthNumbers,ot=st.monthNamesShort||this.local.monthNamesShort,_l=st.monthNames||this.local.monthNames,ls=-1,Sl=-1,Pl=-1,Tl=-1,El=-1,Ml=!1,Rl=!1,Bn=function(Pu,bu){for(var Fu=1;Bl+Fu<jt.length&&jt.charAt(Bl+Fu)===Pu;)Fu++;return Bl+=Fu-1,Math.floor(Fu/(bu||1))>1},Cl=function(Pu,bu){var Fu=Bn(Pu,bu),Hu=[2,3,Fu?4:2,Fu?4:2,10,11,20]["oyYJ@!".indexOf(Pu)+1],Gu=new RegExp("^-?\\d{1,"+Hu+"}"),Xl=it.substring(Kl).match(Gu);if(!Xl)throw(hu.local.missingNumberAt||hu.regionalOptions[""].missingNumberAt).replace(/\{0\}/,Kl);return Kl+=Xl[0].length,parseInt(Xl[0],10)},Al=this,Il=function(){if(typeof yl=="function"){Bn("m");var Pu=yl.call(Al,it.substring(Kl));return Kl+=Pu.length,Pu}return Cl("m")},$l=function(Pu,bu,Fu,Hu){for(var Gu=Bn(Pu,Hu)?Fu:bu,Xl=0;Xl<Gu.length;Xl++)if(it.substr(Kl,Gu[Xl].length).toLowerCase()===Gu[Xl].toLowerCase())return Kl+=Gu[Xl].length,Xl+Al.minMonth;throw(hu.local.unknownNameAt||hu.regionalOptions[""].unknownNameAt).replace(/\{0\}/,Kl)},Bu=function(){if(typeof _l=="function"){var Pu=Bn("M")?_l.call(Al,it.substring(Kl)):ot.call(Al,it.substring(Kl));return Kl+=Pu.length,Pu}return $l("M",ot,_l)},Jl=function(){if(it.charAt(Kl)!==jt.charAt(Bl))throw(hu.local.unexpectedLiteralAt||hu.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,Kl);Kl++},Kl=0,Bl=0;Bl<jt.length;Bl++)if(Rl)jt.charAt(Bl)==="'"&&!Bn("'")?Rl=!1:Jl();else switch(jt.charAt(Bl)){case"d":Tl=Cl("d");break;case"D":$l("D",Ft,Fn);break;case"o":El=Cl("o");break;case"w":Cl("w");break;case"m":Pl=Il();break;case"M":Pl=Bu();break;case"y":var $u=Bl;Ml=!Bn("y",2),Bl=$u,Sl=Cl("y",2);break;case"Y":Sl=Cl("Y",2);break;case"J":ls=Cl("J")+.5,it.charAt(Kl)==="."&&(Kl++,Cl("J"));break;case"@":ls=Cl("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":ls=Cl("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":Kl=it.length;break;case"'":Bn("'")?Jl():Rl=!0;break;default:Jl()}if(Kl<it.length)throw hu.local.unexpectedText||hu.regionalOptions[""].unexpectedText;if(Sl===-1?Sl=this.today().year():Sl<100&&Ml&&(Sl+=Ln===-1?1900:this.today().year()-this.today().year()%100-(Sl<=Ln?0:100)),typeof Pl=="string"&&(Pl=zn.call(this,Sl,Pl)),El>-1){Pl=1,Tl=El;for(var mu=this.daysInMonth(Sl,Pl);Tl>mu;mu=this.daysInMonth(Sl,Pl))Pl++,Tl-=mu}return ls>-1?this.fromJD(ls):this.newDate(Sl,Pl,Tl)},determineDate:function(jt,it,st,Ln,Ft){st&&typeof st!="object"&&(Ft=Ln,Ln=st,st=null),typeof Ln!="string"&&(Ft=Ln,Ln="");var Fn=this,zn=function(yl){try{return Fn.parseDate(Ln,yl,Ft)}catch{}yl=yl.toLowerCase();for(var ot=(yl.match(/^c/)&&st?st.newDate():null)||Fn.today(),_l=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,ls=_l.exec(yl);ls;)ot.add(parseInt(ls[1],10),ls[2]||"d"),ls=_l.exec(yl);return ot};return it=it?it.newDate():null,jt=jt==null?it:typeof jt=="string"?zn(jt):typeof jt=="number"?isNaN(jt)||jt===1/0||jt===-1/0?it:Fn.today().add(jt,"d"):Fn.newDate(jt),jt}})}),d4=a(()=>{var yu=C2(),hu=w2(),jt=yu.instance();function it(ls){this.local=this.regionalOptions[ls||""]||this.regionalOptions[""]}it.prototype=new yu.baseCalendar,hu(it.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(ls,Sl){if(typeof ls=="string"){var Pl=ls.match(Ln);return Pl?Pl[0]:""}var Tl=this._validateYear(ls),El=ls.month(),Ml=""+this.toChineseMonth(Tl,El);return Sl&&Ml.length<2&&(Ml="0"+Ml),this.isIntercalaryMonth(Tl,El)&&(Ml+="i"),Ml},monthNames:function(ls){if(typeof ls=="string"){var Sl=ls.match(Ft);return Sl?Sl[0]:""}var Pl=this._validateYear(ls),Tl=ls.month(),El=this.toChineseMonth(Pl,Tl),Ml=["","","","","","","","","","","",""][El-1];return this.isIntercalaryMonth(Pl,Tl)&&(Ml=""+Ml),Ml},monthNamesShort:function(ls){if(typeof ls=="string"){var Sl=ls.match(Fn);return Sl?Sl[0]:""}var Pl=this._validateYear(ls),Tl=ls.month(),El=this.toChineseMonth(Pl,Tl),Ml=["","","","","","","","","","","",""][El-1];return this.isIntercalaryMonth(Pl,Tl)&&(Ml=""+Ml),Ml},parseMonth:function(ls,Sl){ls=this._validateYear(ls);var Pl=parseInt(Sl),Tl;if(isNaN(Pl))Sl[0]===""&&(Tl=!0,Sl=Sl.substring(1)),Sl[Sl.length-1]===""&&(Sl=Sl.substring(0,Sl.length-1)),Pl=1+["","","","","","","","","","","",""].indexOf(Sl);else{var El=Sl[Sl.length-1];Tl=El==="i"||El==="I"}var Ml=this.toMonthIndex(ls,Pl,Tl);return Ml},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(ls,Sl){if(ls.year&&(ls=ls.year()),typeof ls!="number"||ls<1888||ls>2111)throw Sl.replace(/\{0\}/,this.local.name);return ls},toMonthIndex:function(ls,Sl,Pl){var Tl=this.intercalaryMonth(ls),El=Pl&&Sl!==Tl;if(El||Sl<1||Sl>12)throw yu.local.invalidMonth.replace(/\{0\}/,this.local.name);var Ml;return Tl?!Pl&&Sl<=Tl?Ml=Sl-1:Ml=Sl:Ml=Sl-1,Ml},toChineseMonth:function(ls,Sl){ls.year&&(ls=ls.year(),Sl=ls.month());var Pl=this.intercalaryMonth(ls),Tl=Pl?12:11;if(Sl<0||Sl>Tl)throw yu.local.invalidMonth.replace(/\{0\}/,this.local.name);var El;return Pl?Sl<Pl?El=Sl+1:El=Sl:El=Sl+1,El},intercalaryMonth:function(ls){ls=this._validateYear(ls);var Sl=zn[ls-zn[0]],Pl=Sl>>13;return Pl},isIntercalaryMonth:function(ls,Sl){ls.year&&(ls=ls.year(),Sl=ls.month());var Pl=this.intercalaryMonth(ls);return!!Pl&&Pl===Sl},leapYear:function(ls){return this.intercalaryMonth(ls)!==0},weekOfYear:function(ls,Sl,Pl){var Tl=this._validateYear(ls,yu.local.invalidyear),El=yl[Tl-yl[0]],Ml=El>>9&4095,Rl=El>>5&15,Bn=El&31,Cl;Cl=jt.newDate(Ml,Rl,Bn),Cl.add(4-(Cl.dayOfWeek()||7),"d");var Al=this.toJD(ls,Sl,Pl)-Cl.toJD();return 1+Math.floor(Al/7)},monthsInYear:function(ls){return this.leapYear(ls)?13:12},daysInMonth:function(ls,Sl){ls.year&&(Sl=ls.month(),ls=ls.year()),ls=this._validateYear(ls);var Pl=zn[ls-zn[0]],Tl=Pl>>13,El=Tl?12:11;if(Sl>El)throw yu.local.invalidMonth.replace(/\{0\}/,this.local.name);var Ml=Pl&1<<12-Sl?30:29;return Ml},weekDay:function(ls,Sl,Pl){return(this.dayOfWeek(ls,Sl,Pl)||7)<6},toJD:function(ls,Sl,Pl){var Tl=this._validate(ls,Ml,Pl,yu.local.invalidDate);ls=this._validateYear(Tl.year()),Sl=Tl.month(),Pl=Tl.day();var El=this.isIntercalaryMonth(ls,Sl),Ml=this.toChineseMonth(ls,Sl),Rl=_l(ls,Ml,Pl,El);return jt.toJD(Rl.year,Rl.month,Rl.day)},fromJD:function(ls){var Sl=jt.fromJD(ls),Pl=ot(Sl.year(),Sl.month(),Sl.day()),Tl=this.toMonthIndex(Pl.year,Pl.month,Pl.isIntercalary);return this.newDate(Pl.year,Tl,Pl.day)},fromString:function(ls){var Sl=ls.match(st),Pl=this._validateYear(+Sl[1]),Tl=+Sl[2],El=!!Sl[3],Ml=this.toMonthIndex(Pl,Tl,El),Rl=+Sl[4];return this.newDate(Pl,Ml,Rl)},add:function(ls,Sl,Pl){var Tl=ls.year(),El=ls.month(),Ml=this.isIntercalaryMonth(Tl,El),Rl=this.toChineseMonth(Tl,El),Bn=Object.getPrototypeOf(it.prototype).add.call(this,ls,Sl,Pl);if(Pl==="y"){var Cl=Bn.year(),Al=Bn.month(),Il=this.isIntercalaryMonth(Cl,Rl),$l=Ml&&Il?this.toMonthIndex(Cl,Rl,!0):this.toMonthIndex(Cl,Rl,!1);$l!==Al&&Bn.month($l)}return Bn}});var st=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,Ln=/^\d?\d[iI]?/m,Ft=/^??[]?/m,Fn=/^??[]?/m;yu.calendars.chinese=it;var zn=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],yl=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function ot(ls,Sl,Pl,Tl){var El,Ml;if(typeof ls=="object")El=ls,Ml=Sl||{};else{var Rl=typeof ls=="number"&&ls>=1888&&ls<=2111;if(!Rl)throw new Error("Solar year outside range 1888-2111");var Bn=typeof Sl=="number"&&Sl>=1&&Sl<=12;if(!Bn)throw new Error("Solar month outside range 1 - 12");var Cl=typeof Pl=="number"&&Pl>=1&&Pl<=31;if(!Cl)throw new Error("Solar day outside range 1 - 31");El={year:ls,month:Sl,day:Pl},Ml={}}var Al=yl[El.year-yl[0]],Il=El.year<<9|El.month<<5|El.day;Ml.year=Il>=Al?El.year:El.year-1,Al=yl[Ml.year-yl[0]];var $l=Al>>9&4095,Bu=Al>>5&15,Jl=Al&31,Kl,Bl=new Date($l,Bu-1,Jl),$u=new Date(El.year,El.month-1,El.day);Kl=Math.round(($u-Bl)/(24*3600*1e3));var mu=zn[Ml.year-zn[0]],Pu;for(Pu=0;Pu<13;Pu++){var bu=mu&1<<12-Pu?30:29;if(Kl<bu)break;Kl-=bu}var Fu=mu>>13;return!Fu||Pu<Fu?(Ml.isIntercalary=!1,Ml.month=1+Pu):Pu===Fu?(Ml.isIntercalary=!0,Ml.month=Pu):(Ml.isIntercalary=!1,Ml.month=Pu),Ml.day=1+Kl,Ml}function _l(ls,Sl,Pl,Tl,El){var Ml,Rl;if(typeof ls=="object")Rl=ls,Ml=Sl||{};else{var Bn=typeof ls=="number"&&ls>=1888&&ls<=2111;if(!Bn)throw new Error("Lunar year outside range 1888-2111");var Cl=typeof Sl=="number"&&Sl>=1&&Sl<=12;if(!Cl)throw new Error("Lunar month outside range 1 - 12");var Al=typeof Pl=="number"&&Pl>=1&&Pl<=30;if(!Al)throw new Error("Lunar day outside range 1 - 30");var Il;typeof Tl=="object"?(Il=!1,Ml=Tl):(Il=!!Tl,Ml={}),Rl={year:ls,month:Sl,day:Pl,isIntercalary:Il}}var $l;$l=Rl.day-1;var Bu=zn[Rl.year-zn[0]],Jl=Bu>>13,Kl;Jl&&(Rl.month>Jl||Rl.isIntercalary)?Kl=Rl.month:Kl=Rl.month-1;for(var Bl=0;Bl<Kl;Bl++){var $u=Bu&1<<12-Bl?30:29;$l+=$u}var mu=yl[Rl.year-yl[0]],Pu=mu>>9&4095,bu=mu>>5&15,Fu=mu&31,Hu=new Date(Pu,bu-1,Fu+$l);return Ml.year=Hu.getFullYear(),Ml.month=1+Hu.getMonth(),Ml.day=Hu.getDate(),Ml}}),h4=a(()=>{var yu=C2(),hu=w2();function jt(it){this.local=this.regionalOptions[it||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ln){var st=this._validate(Ln,this.minMonth,this.minDay,yu.local.invalidYear),Ln=st.year()+(st.year()<0?1:0);return Ln%4===3||Ln%4===-1},monthsInYear:function(it){return this._validate(it,this.minMonth,this.minDay,yu.local.invalidYear||yu.regionalOptions[""].invalidYear),13},weekOfYear:function(it,st,Ln){var Ft=this.newDate(it,st,Ln);return Ft.add(-Ft.dayOfWeek(),"d"),Math.floor((Ft.dayOfYear()-1)/7)+1},daysInMonth:function(it,st){var Ln=this._validate(it,st,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ln.month()-1]+(Ln.month()===13&&this.leapYear(Ln.year())?1:0)},weekDay:function(it,st,Ln){return(this.dayOfWeek(it,st,Ln)||7)<6},toJD:function(it,st,Ln){var Ft=this._validate(it,st,Ln,yu.local.invalidDate);return it=Ft.year(),it<0&&it++,Ft.day()+(Ft.month()-1)*30+(it-1)*365+Math.floor(it/4)+this.jdEpoch-1},fromJD:function(it){var st=Math.floor(it)+.5-this.jdEpoch,Ln=Math.floor((st-Math.floor((st+366)/1461))/365)+1;Ln<=0&&Ln--,st=Math.floor(it)+.5-this.newDate(Ln,1,1).toJD();var Ft=Math.floor(st/30)+1,Fn=st-(Ft-1)*30+1;return this.newDate(Ln,Ft,Fn)}}),yu.calendars.coptic=jt}),p4=a(()=>{var yu=C2(),hu=w2();function jt(st){this.local=this.regionalOptions[st||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(st){return this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear),!1},monthsInYear:function(st){return this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear),13},daysInYear:function(st){return this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear),400},weekOfYear:function(st,Ln,Ft){var Fn=this.newDate(st,Ln,Ft);return Fn.add(-Fn.dayOfWeek(),"d"),Math.floor((Fn.dayOfYear()-1)/8)+1},daysInMonth:function(st,Ln){var Ft=this._validate(st,Ln,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ft.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(st,Ln,Ft){var Fn=this._validate(st,Ln,Ft,yu.local.invalidDate);return(Fn.day()+1)%8},weekDay:function(st,Ln,Ft){var Fn=this.dayOfWeek(st,Ln,Ft);return Fn>=2&&Fn<=6},extraInfo:function(st,Ln,Ft){var Fn=this._validate(st,Ln,Ft,yu.local.invalidDate);return{century:it[Math.floor((Fn.year()-1)/100)+1]||""}},toJD:function(st,Ln,Ft){var Fn=this._validate(st,Ln,Ft,yu.local.invalidDate);return st=Fn.year()+(Fn.year()<0?1:0),Ln=Fn.month(),Ft=Fn.day(),Ft+(Ln>1?16:0)+(Ln>2?(Ln-2)*32:0)+(st-1)*400+this.jdEpoch-1},fromJD:function(st){st=Math.floor(st+.5)-Math.floor(this.jdEpoch)-1;var Ln=Math.floor(st/400)+1;st-=(Ln-1)*400,st+=st>15?16:0;var Ft=Math.floor(st/32)+1,Fn=st-(Ft-1)*32+1;return this.newDate(Ln<=0?Ln-1:Ln,Ft,Fn)}});var it={20:"Fruitbat",21:"Anchovy"};yu.calendars.discworld=jt}),f4=a(()=>{var yu=C2(),hu=w2();function jt(it){this.local=this.regionalOptions[it||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ln){var st=this._validate(Ln,this.minMonth,this.minDay,yu.local.invalidYear),Ln=st.year()+(st.year()<0?1:0);return Ln%4===3||Ln%4===-1},monthsInYear:function(it){return this._validate(it,this.minMonth,this.minDay,yu.local.invalidYear||yu.regionalOptions[""].invalidYear),13},weekOfYear:function(it,st,Ln){var Ft=this.newDate(it,st,Ln);return Ft.add(-Ft.dayOfWeek(),"d"),Math.floor((Ft.dayOfYear()-1)/7)+1},daysInMonth:function(it,st){var Ln=this._validate(it,st,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ln.month()-1]+(Ln.month()===13&&this.leapYear(Ln.year())?1:0)},weekDay:function(it,st,Ln){return(this.dayOfWeek(it,st,Ln)||7)<6},toJD:function(it,st,Ln){var Ft=this._validate(it,st,Ln,yu.local.invalidDate);return it=Ft.year(),it<0&&it++,Ft.day()+(Ft.month()-1)*30+(it-1)*365+Math.floor(it/4)+this.jdEpoch-1},fromJD:function(it){var st=Math.floor(it)+.5-this.jdEpoch,Ln=Math.floor((st-Math.floor((st+366)/1461))/365)+1;Ln<=0&&Ln--,st=Math.floor(it)+.5-this.newDate(Ln,1,1).toJD();var Ft=Math.floor(st/30)+1,Fn=st-(Ft-1)*30+1;return this.newDate(Ln,Ft,Fn)}}),yu.calendars.ethiopian=jt}),g4=a(()=>{var yu=C2(),hu=w2();function jt(st){this.local=this.regionalOptions[st||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(st){var Ln=this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear);return this._leapYear(Ln.year())},_leapYear:function(st){return st=st<0?st+1:st,it(st*7+1,19)<7},monthsInYear:function(st){return this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear),this._leapYear(st.year?st.year():st)?13:12},weekOfYear:function(st,Ln,Ft){var Fn=this.newDate(st,Ln,Ft);return Fn.add(-Fn.dayOfWeek(),"d"),Math.floor((Fn.dayOfYear()-1)/7)+1},daysInYear:function(st){var Ln=this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear);return st=Ln.year(),this.toJD(st===-1?1:st+1,7,1)-this.toJD(st,7,1)},daysInMonth:function(st,Ln){return st.year&&(Ln=st.month(),st=st.year()),this._validate(st,Ln,this.minDay,yu.local.invalidMonth),Ln===12&&this.leapYear(st)||Ln===8&&it(this.daysInYear(st),10)===5?30:Ln===9&&it(this.daysInYear(st),10)===3?29:this.daysPerMonth[Ln-1]},weekDay:function(st,Ln,Ft){return this.dayOfWeek(st,Ln,Ft)!==6},extraInfo:function(st,Ln,Ft){var Fn=this._validate(st,Ln,Ft,yu.local.invalidDate);return{yearType:(this.leapYear(Fn)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(Fn)%10-3]}},toJD:function(st,Ln,Ft){var Fn=this._validate(st,Ln,Ft,yu.local.invalidDate);st=Fn.year(),Ln=Fn.month(),Ft=Fn.day();var zn=st<=0?st+1:st,yl=this.jdEpoch+this._delay1(zn)+this._delay2(zn)+Ft+1;if(Ln<7){for(var ot=7;ot<=this.monthsInYear(st);ot++)yl+=this.daysInMonth(st,ot);for(var ot=1;ot<Ln;ot++)yl+=this.daysInMonth(st,ot)}else for(var ot=7;ot<Ln;ot++)yl+=this.daysInMonth(st,ot);return yl},_delay1:function(st){var Ln=Math.floor((235*st-234)/19),Ft=12084+13753*Ln,Fn=Ln*29+Math.floor(Ft/25920);return it(3*(Fn+1),7)<3&&Fn++,Fn},_delay2:function(st){var Ln=this._delay1(st-1),Ft=this._delay1(st),Fn=this._delay1(st+1);return Fn-Ft===356?2:Ft-Ln===382?1:0},fromJD:function(st){st=Math.floor(st)+.5;for(var Ln=Math.floor((st-this.jdEpoch)*98496/35975351)-1;st>=this.toJD(Ln===-1?1:Ln+1,7,1);)Ln++;for(var Ft=st<this.toJD(Ln,1,1)?7:1;st>this.toJD(Ln,Ft,this.daysInMonth(Ln,Ft));)Ft++;var Fn=st-this.toJD(Ln,Ft,1)+1;return this.newDate(Ln,Ft,Fn)}});function it(st,Ln){return st-Ln*Math.floor(st/Ln)}yu.calendars.hebrew=jt}),m4=a(()=>{var yu=C2(),hu=w2();function jt(it){this.local=this.regionalOptions[it||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(it){var st=this._validate(it,this.minMonth,this.minDay,yu.local.invalidYear);return(st.year()*11+14)%30<11},weekOfYear:function(it,st,Ln){var Ft=this.newDate(it,st,Ln);return Ft.add(-Ft.dayOfWeek(),"d"),Math.floor((Ft.dayOfYear()-1)/7)+1},daysInYear:function(it){return this.leapYear(it)?355:354},daysInMonth:function(it,st){var Ln=this._validate(it,st,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ln.month()-1]+(Ln.month()===12&&this.leapYear(Ln.year())?1:0)},weekDay:function(it,st,Ln){return this.dayOfWeek(it,st,Ln)!==5},toJD:function(it,st,Ln){var Ft=this._validate(it,st,Ln,yu.local.invalidDate);return it=Ft.year(),st=Ft.month(),Ln=Ft.day(),it=it<=0?it+1:it,Ln+Math.ceil(29.5*(st-1))+(it-1)*354+Math.floor((3+11*it)/30)+this.jdEpoch-1},fromJD:function(it){it=Math.floor(it)+.5;var st=Math.floor((30*(it-this.jdEpoch)+10646)/10631);st=st<=0?st-1:st;var Ln=Math.min(12,Math.ceil((it-29-this.toJD(st,1,1))/29.5)+1),Ft=it-this.toJD(st,Ln,1)+1;return this.newDate(st,Ln,Ft)}}),yu.calendars.islamic=jt}),v4=a(()=>{var yu=C2(),hu=w2();function jt(it){this.local=this.regionalOptions[it||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ln){var st=this._validate(Ln,this.minMonth,this.minDay,yu.local.invalidYear),Ln=st.year()<0?st.year()+1:st.year();return Ln%4===0},weekOfYear:function(it,st,Ln){var Ft=this.newDate(it,st,Ln);return Ft.add(4-(Ft.dayOfWeek()||7),"d"),Math.floor((Ft.dayOfYear()-1)/7)+1},daysInMonth:function(it,st){var Ln=this._validate(it,st,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ln.month()-1]+(Ln.month()===2&&this.leapYear(Ln.year())?1:0)},weekDay:function(it,st,Ln){return(this.dayOfWeek(it,st,Ln)||7)<6},toJD:function(it,st,Ln){var Ft=this._validate(it,st,Ln,yu.local.invalidDate);return it=Ft.year(),st=Ft.month(),Ln=Ft.day(),it<0&&it++,st<=2&&(it--,st+=12),Math.floor(365.25*(it+4716))+Math.floor(30.6001*(st+1))+Ln-1524.5},fromJD:function(it){var st=Math.floor(it+.5),Ln=st+1524,Ft=Math.floor((Ln-122.1)/365.25),Fn=Math.floor(365.25*Ft),zn=Math.floor((Ln-Fn)/30.6001),yl=zn-Math.floor(zn<14?1:13),ot=Ft-Math.floor(yl>2?4716:4715),_l=Ln-Fn-Math.floor(30.6001*zn);return ot<=0&&ot--,this.newDate(ot,yl,_l)}}),yu.calendars.julian=jt}),y4=a(()=>{var yu=C2(),hu=w2();function jt(Ln){this.local=this.regionalOptions[Ln||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(Ln){return this._validate(Ln,this.minMonth,this.minDay,yu.local.invalidYear),!1},formatYear:function(Ln){var Ft=this._validate(Ln,this.minMonth,this.minDay,yu.local.invalidYear);Ln=Ft.year();var Fn=Math.floor(Ln/400);Ln=Ln%400,Ln+=Ln<0?400:0;var zn=Math.floor(Ln/20);return Fn+"."+zn+"."+Ln%20},forYear:function(Ln){if(Ln=Ln.split("."),Ln.length<3)throw"Invalid Mayan year";for(var Ft=0,Fn=0;Fn<Ln.length;Fn++){var zn=parseInt(Ln[Fn],10);if(Math.abs(zn)>19||Fn>0&&zn<0)throw"Invalid Mayan year";Ft=Ft*20+zn}return Ft},monthsInYear:function(Ln){return this._validate(Ln,this.minMonth,this.minDay,yu.local.invalidYear),18},weekOfYear:function(Ln,Ft,Fn){return this._validate(Ln,Ft,Fn,yu.local.invalidDate),0},daysInYear:function(Ln){return this._validate(Ln,this.minMonth,this.minDay,yu.local.invalidYear),360},daysInMonth:function(Ln,Ft){return this._validate(Ln,Ft,this.minDay,yu.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(Ln,Ft,Fn){var zn=this._validate(Ln,Ft,Fn,yu.local.invalidDate);return zn.day()},weekDay:function(Ln,Ft,Fn){return this._validate(Ln,Ft,Fn,yu.local.invalidDate),!0},extraInfo:function(Ln,Ft,Fn){var zn=this._validate(Ln,Ft,Fn,yu.local.invalidDate),yl=zn.toJD(),ot=this._toHaab(yl),_l=this._toTzolkin(yl);return{haabMonthName:this.local.haabMonths[ot[0]-1],haabMonth:ot[0],haabDay:ot[1],tzolkinDayName:this.local.tzolkinMonths[_l[0]-1],tzolkinDay:_l[0],tzolkinTrecena:_l[1]}},_toHaab:function(Ln){Ln-=this.jdEpoch;var Ft=it(Ln+8+17*20,365);return[Math.floor(Ft/20)+1,it(Ft,20)]},_toTzolkin:function(Ln){return Ln-=this.jdEpoch,[st(Ln+20,20),st(Ln+4,13)]},toJD:function(Ln,Ft,Fn){var zn=this._validate(Ln,Ft,Fn,yu.local.invalidDate);return zn.day()+zn.month()*20+zn.year()*360+this.jdEpoch},fromJD:function(Ln){Ln=Math.floor(Ln)+.5-this.jdEpoch;var Ft=Math.floor(Ln/360);Ln=Ln%360,Ln+=Ln<0?360:0;var Fn=Math.floor(Ln/20),zn=Ln%20;return this.newDate(Ft,Fn,zn)}});function it(Ln,Ft){return Ln-Ft*Math.floor(Ln/Ft)}function st(Ln,Ft){return it(Ln-1,Ft)+1}yu.calendars.mayan=jt}),x4=a(()=>{var yu=C2(),hu=w2();function jt(st){this.local=this.regionalOptions[st||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar;var it=yu.instance("gregorian");hu(jt.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(st){var Ln=this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear||yu.regionalOptions[""].invalidYear);return it.leapYear(Ln.year()+(Ln.year()<1?1:0)+1469)},weekOfYear:function(st,Ln,Ft){var Fn=this.newDate(st,Ln,Ft);return Fn.add(1-(Fn.dayOfWeek()||7),"d"),Math.floor((Fn.dayOfYear()-1)/7)+1},daysInMonth:function(st,Ln){var Ft=this._validate(st,Ln,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ft.month()-1]+(Ft.month()===12&&this.leapYear(Ft.year())?1:0)},weekDay:function(st,Ln,Ft){return(this.dayOfWeek(st,Ln,Ft)||7)<6},toJD:function(zn,Ln,Ft){var Fn=this._validate(zn,Ln,Ft,yu.local.invalidMonth),zn=Fn.year();zn<0&&zn++;for(var yl=Fn.day(),ot=1;ot<Fn.month();ot++)yl+=this.daysPerMonth[ot-1];return yl+it.toJD(zn+1468,3,13)},fromJD:function(st){st=Math.floor(st+.5);for(var Ln=Math.floor((st-(this.jdEpoch-1))/366);st>=this.toJD(Ln+1,1,1);)Ln++;for(var Ft=st-Math.floor(this.toJD(Ln,1,1)+.5)+1,Fn=1;Ft>this.daysInMonth(Ln,Fn);)Ft-=this.daysInMonth(Ln,Fn),Fn++;return this.newDate(Ln,Fn,Ft)}}),yu.calendars.nanakshahi=jt}),b4=a(()=>{var yu=C2(),hu=w2();function jt(it){this.local=this.regionalOptions[it||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(it){return this.daysInYear(it)!==this.daysPerYear},weekOfYear:function(it,st,Ln){var Ft=this.newDate(it,st,Ln);return Ft.add(-Ft.dayOfWeek(),"d"),Math.floor((Ft.dayOfYear()-1)/7)+1},daysInYear:function(it){var st=this._validate(it,this.minMonth,this.minDay,yu.local.invalidYear);if(it=st.year(),typeof this.NEPALI_CALENDAR_DATA[it]>"u")return this.daysPerYear;for(var Ln=0,Ft=this.minMonth;Ft<=12;Ft++)Ln+=this.NEPALI_CALENDAR_DATA[it][Ft];return Ln},daysInMonth:function(it,st){return it.year&&(st=it.month(),it=it.year()),this._validate(it,st,this.minDay,yu.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[it]>"u"?this.daysPerMonth[st-1]:this.NEPALI_CALENDAR_DATA[it][st]},weekDay:function(it,st,Ln){return this.dayOfWeek(it,st,Ln)!==6},toJD:function(it,st,Ln){var Ft=this._validate(it,st,Ln,yu.local.invalidDate);it=Ft.year(),st=Ft.month(),Ln=Ft.day();var Fn=yu.instance(),zn=0,yl=st,ot=it;this._createMissingCalendarData(it);var _l=it-(yl>9||yl===9&&Ln>=this.NEPALI_CALENDAR_DATA[ot][0]?56:57);for(st!==9&&(zn=Ln,yl--);yl!==9;)yl<=0&&(yl=12,ot--),zn+=this.NEPALI_CALENDAR_DATA[ot][yl],yl--;return st===9?(zn+=Ln-this.NEPALI_CALENDAR_DATA[ot][0],zn<0&&(zn+=Fn.daysInYear(_l))):zn+=this.NEPALI_CALENDAR_DATA[ot][9]-this.NEPALI_CALENDAR_DATA[ot][0],Fn.newDate(_l,1,1).add(zn,"d").toJD()},fromJD:function(it){var st=yu.instance(),Ln=st.fromJD(it),Ft=Ln.year(),Fn=Ln.dayOfYear(),zn=Ft+56;this._createMissingCalendarData(zn);for(var yl=9,ot=this.NEPALI_CALENDAR_DATA[zn][0],_l=this.NEPALI_CALENDAR_DATA[zn][yl]-ot+1;Fn>_l;)yl++,yl>12&&(yl=1,zn++),_l+=this.NEPALI_CALENDAR_DATA[zn][yl];var ls=this.NEPALI_CALENDAR_DATA[zn][yl]-(_l-Fn);return this.newDate(zn,yl,ls)},_createMissingCalendarData:function(it){var st=this.daysPerMonth.slice(0);st.unshift(17);for(var Ln=it-1;Ln<it+2;Ln++)typeof this.NEPALI_CALENDAR_DATA[Ln]>"u"&&(this.NEPALI_CALENDAR_DATA[Ln]=st)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),yu.calendars.nepali=jt}),w4=a(()=>{var yu=C2(),hu=w2();function jt(st){this.local=this.regionalOptions[st||""]||this.regionalOptions[""]}function it(st){var Ln=st-475;st<0&&Ln++;var Ft=.242197,Fn=Ft*Ln,zn=Ft*(Ln+1),yl=Fn-Math.floor(Fn),ot=zn-Math.floor(zn);return yl>ot}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],dayNames:["Yekshanbeh","Doshanbeh","Seshanbeh","Chahrshanbeh","Panjshanbeh","Jom'eh","Shanbeh"],dayNamesShort:["Yek","Do","Se","Cha","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(st){var Ln=this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear);return it(Ln.year())},weekOfYear:function(st,Ln,Ft){var Fn=this.newDate(st,Ln,Ft);return Fn.add(-((Fn.dayOfWeek()+1)%7),"d"),Math.floor((Fn.dayOfYear()-1)/7)+1},daysInMonth:function(st,Ln){var Ft=this._validate(st,Ln,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ft.month()-1]+(Ft.month()===12&&this.leapYear(Ft.year())?1:0)},weekDay:function(st,Ln,Ft){return this.dayOfWeek(st,Ln,Ft)!==5},toJD:function(st,Ln,Ft){var Fn=this._validate(st,Ln,Ft,yu.local.invalidDate);st=Fn.year(),Ln=Fn.month(),Ft=Fn.day();var zn=0;if(st>0)for(var yl=1;yl<st;yl++)it(yl)&&zn++;else if(st<0)for(var yl=st;yl<0;yl++)it(yl)&&zn--;return Ft+(Ln<=7?(Ln-1)*31:(Ln-1)*30+6)+(st>0?st-1:st)*365+zn+this.jdEpoch-1},fromJD:function(st){st=Math.floor(st)+.5;var Ln=475+(st-this.toJD(475,1,1))/365.242197,Ft=Math.floor(Ln);Ft<=0&&Ft--,st>this.toJD(Ft,12,it(Ft)?30:29)&&(Ft++,Ft===0&&Ft++);var Fn=st-this.toJD(Ft,1,1)+1,zn=Fn<=186?Math.ceil(Fn/31):Math.ceil((Fn-6)/30),yl=st-this.toJD(Ft,zn,1)+1;return this.newDate(Ft,zn,yl)}}),yu.calendars.persian=jt,yu.calendars.jalali=jt}),C4=a(()=>{var yu=C2(),hu=w2(),jt=yu.instance();function it(st){this.local=this.regionalOptions[st||""]||this.regionalOptions[""]}it.prototype=new yu.baseCalendar,hu(it.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(Ft){var Ln=this._validate(Ft,this.minMonth,this.minDay,yu.local.invalidYear),Ft=this._t2gYear(Ln.year());return jt.leapYear(Ft)},weekOfYear:function(zn,Ln,Ft){var Fn=this._validate(zn,this.minMonth,this.minDay,yu.local.invalidYear),zn=this._t2gYear(Fn.year());return jt.weekOfYear(zn,Fn.month(),Fn.day())},daysInMonth:function(st,Ln){var Ft=this._validate(st,Ln,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ft.month()-1]+(Ft.month()===2&&this.leapYear(Ft.year())?1:0)},weekDay:function(st,Ln,Ft){return(this.dayOfWeek(st,Ln,Ft)||7)<6},toJD:function(zn,Ln,Ft){var Fn=this._validate(zn,Ln,Ft,yu.local.invalidDate),zn=this._t2gYear(Fn.year());return jt.toJD(zn,Fn.month(),Fn.day())},fromJD:function(st){var Ln=jt.fromJD(st),Ft=this._g2tYear(Ln.year());return this.newDate(Ft,Ln.month(),Ln.day())},_t2gYear:function(st){return st+this.yearsOffset+(st>=-this.yearsOffset&&st<=-1?1:0)},_g2tYear:function(st){return st-this.yearsOffset-(st>=1&&st<=this.yearsOffset?1:0)}}),yu.calendars.taiwan=it}),S4=a(()=>{var yu=C2(),hu=w2(),jt=yu.instance();function it(st){this.local=this.regionalOptions[st||""]||this.regionalOptions[""]}it.prototype=new yu.baseCalendar,hu(it.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Ft){var Ln=this._validate(Ft,this.minMonth,this.minDay,yu.local.invalidYear),Ft=this._t2gYear(Ln.year());return jt.leapYear(Ft)},weekOfYear:function(zn,Ln,Ft){var Fn=this._validate(zn,this.minMonth,this.minDay,yu.local.invalidYear),zn=this._t2gYear(Fn.year());return jt.weekOfYear(zn,Fn.month(),Fn.day())},daysInMonth:function(st,Ln){var Ft=this._validate(st,Ln,this.minDay,yu.local.invalidMonth);return this.daysPerMonth[Ft.month()-1]+(Ft.month()===2&&this.leapYear(Ft.year())?1:0)},weekDay:function(st,Ln,Ft){return(this.dayOfWeek(st,Ln,Ft)||7)<6},toJD:function(zn,Ln,Ft){var Fn=this._validate(zn,Ln,Ft,yu.local.invalidDate),zn=this._t2gYear(Fn.year());return jt.toJD(zn,Fn.month(),Fn.day())},fromJD:function(st){var Ln=jt.fromJD(st),Ft=this._g2tYear(Ln.year());return this.newDate(Ft,Ln.month(),Ln.day())},_t2gYear:function(st){return st-this.yearsOffset-(st>=1&&st<=this.yearsOffset?1:0)},_g2tYear:function(st){return st+this.yearsOffset+(st>=-this.yearsOffset&&st<=-1?1:0)}}),yu.calendars.thai=it}),_4=a(()=>{var yu=C2(),hu=w2();function jt(st){this.local=this.regionalOptions[st||""]||this.regionalOptions[""]}jt.prototype=new yu.baseCalendar,hu(jt.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(st){var Ln=this._validate(st,this.minMonth,this.minDay,yu.local.invalidYear);return this.daysInYear(Ln.year())===355},weekOfYear:function(st,Ln,Ft){var Fn=this.newDate(st,Ln,Ft);return Fn.add(-Fn.dayOfWeek(),"d"),Math.floor((Fn.dayOfYear()-1)/7)+1},daysInYear:function(st){for(var Ln=0,Ft=1;Ft<=12;Ft++)Ln+=this.daysInMonth(st,Ft);return Ln},daysInMonth:function(st,Ln){for(var Ft=this._validate(st,Ln,this.minDay,yu.local.invalidMonth),Fn=Ft.toJD()-24e5+.5,zn=0,yl=0;yl<it.length;yl++){if(it[yl]>Fn)return it[zn]-it[zn-1];zn++}return 30},weekDay:function(st,Ln,Ft){return this.dayOfWeek(st,Ln,Ft)!==5},toJD:function(st,Ln,Ft){var Fn=this._validate(st,Ln,Ft,yu.local.invalidDate),zn=12*(Fn.year()-1)+Fn.month()-15292,yl=Fn.day()+it[zn-1]-1;return yl+24e5-.5},fromJD:function(st){for(var Ln=st-24e5+.5,Ft=0,Fn=0;Fn<it.length&&!(it[Fn]>Ln);Fn++)Ft++;var zn=Ft+15292,yl=Math.floor((zn-1)/12),ot=yl+1,_l=zn-12*yl,ls=Ln-it[Ft-1]+1;return this.newDate(ot,_l,ls)},isValid:function(st,Ln,Ft){var Fn=yu.baseCalendar.prototype.isValid.apply(this,arguments);return Fn&&(st=st.year!=null?st.year:st,Fn=st>=1276&&st<=1500),Fn},_validate:function(st,Ln,Ft,Fn){var zn=yu.baseCalendar.prototype._validate.apply(this,arguments);if(zn.year<1276||zn.year>1500)throw Fn.replace(/\{0\}/,this.local.name);return zn}}),yu.calendars.ummalqura=jt;var it=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),k4=a((yu,hu)=>{hu.exports=C2(),c4(),d4(),h4(),p4(),f4(),g4(),m4(),v4(),y4(),x4(),b4(),w4(),C4(),S4(),_4()}),E4=a((yu,hu)=>{var jt=k4(),it=gu(),st=nt(),Ln=st.EPOCHJD,Ft=st.ONEDAY,Fn={valType:"enumerated",values:it.sortObjectKeys(jt.calendars),editType:"calc",dflt:"gregorian"},zn=function(Bu,Jl,Kl,Bl){var $u={};return $u[Kl]=Fn,it.coerce(Bu,Jl,$u,Kl,Bl)},yl=function(Bu,Jl,Kl,Bl){for(var $u=0;$u<Kl.length;$u++)zn(Bu,Jl,Kl[$u]+"calendar",Bl.calendar)},ot={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},_l={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},ls={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},Sl="##",Pl={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:Sl,w:Sl,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function Tl(Bu,Jl,Kl){for(var Bl=Math.floor((Jl+.05)/Ft)+Ln,$u=Ml(Kl).fromJD(Bl),mu=0,Pu,bu,Fu,Hu,Gu;(mu=Bu.indexOf("%",mu))!==-1;)Pu=Bu.charAt(mu+1),Pu==="0"||Pu==="-"||Pu==="_"?(Fu=3,bu=Bu.charAt(mu+2),Pu==="_"&&(Pu="-")):(bu=Pu,Pu="0",Fu=2),Hu=Pl[bu],Hu?(Hu===Sl?Gu=Sl:Gu=$u.formatDate(Hu[Pu]),Bu=Bu.substr(0,mu)+Gu+Bu.substr(mu+Fu),mu+=Gu.length):mu+=Fu;return Bu}var El={};function Ml(Bu){var Jl=El[Bu];return Jl||(Jl=El[Bu]=jt.instance(Bu),Jl)}function Rl(Bu){return it.extendFlat({},Fn,{description:Bu})}function Bn(Bu){return"Sets the calendar system to use with `"+Bu+"` date data."}var Cl={xcalendar:Rl(Bn("x"))},Al=it.extendFlat({},Cl,{ycalendar:Rl(Bn("y"))}),Il=it.extendFlat({},Al,{zcalendar:Rl(Bn("z"))}),$l=Rl(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));hu.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:Al,bar:Al,box:Al,heatmap:Al,contour:Al,histogram:Al,histogram2d:Al,histogram2dcontour:Al,scatter3d:Il,surface:Il,mesh3d:Il,scattergl:Al,ohlc:Cl,candlestick:Cl},layout:{calendar:Rl(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:$l},yaxis:{calendar:$l},scene:{xaxis:{calendar:$l},yaxis:{calendar:$l},zaxis:{calendar:$l}},polar:{radialaxis:{calendar:$l}}}},layoutAttributes:Fn,handleDefaults:zn,handleTraceDefaults:yl,CANONICAL_SUNDAY:_l,CANONICAL_TICK:ot,DFLTRANGE:ls,getCal:Ml,worldCalFmt:Tl}}),M4=a((yu,hu)=>{hu.exports=E4()}),A4=a((yu,hu)=>{var jt=W5();jt.register([t4(),u4(),M4()]),hu.exports=jt});return A4()})();/*! Bundled license information:

	native-promise-only/lib/npo.src.js:
	  (*! Native Promise Only
	      v0.8.1 (c) Kyle Simpson
	      MIT License: http://getify.mit-license.org
	  *)

	polybooljs/index.js:
	  (*
	   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
	   * @license MIT
	   * @preserve Project Home: https://github.com/voidqk/polybooljs
	   *)

	object-assign/index.js:
	  (*
	  object-assign
	  (c) Sindre Sorhus
	  @license MIT
	  *)
	*/return window.Plotly=o,o})})(plotlyBasic_min);var plotlyBasic_minExports=plotlyBasic_min.exports;const Plotly=getDefaultExportFromCjs(plotlyBasic_minExports);function wavelengthName(e){let o=e.slice(0,-1);return e.charAt(e.length-1)==="a"?o=o.concat(""):e.charAt(e.length-1)==="b"?o=o.concat(""):(console.log("wavelength name conversion failed!"),o=e),o}function makeArr(e,o,a){for(var c=[],d=(o-e)/(a-1),g=0;g<a;g++)c.push(e+d*g);return c}function gaussian(e,o,a,c){return e*Math.exp(-Math.pow((c-o)/a,2)/2)}function lorentz(e,o,a,c){return a*Math.pow(o,2)/(Math.pow(o,2)+Math.pow(c-e,2))}function gaussianBroadening(e,o,a,c){let d=e.slice(),g=a/2/Math.pow(2*Math.log(2),.5),b=new Array(c.length).fill(0);for(let _=0;_<o.length;_++){let $=2*o[_]*Math.sqrt(Math.log(2))/a/Math.sqrt(Math.PI);for(let j=0;j<c.length;j++)b[j]+=gaussian($,d[_],g,c[j])}return b}function lorentzianBroadening(e,o,a,c){let d=e.slice(),g=a/2,b=new Array(c.length).fill(0);for(let _=0;_<o.length;_++){let $=o[_]*2/a/Math.PI;for(let j=0;j<c.length;j++)b[j]+=lorentz(d[_],g,$,c[j])}return b}function doFitting(e,o,a){let c=e.peaks_positions,d=Math.min(o/5,.1),g=Math.round((e.angular_range[1]-e.angular_range[0])/d),b=makeArr(e.angular_range[0],e.angular_range[1],g),_=null;if(a==="Gaussian")_=gaussianBroadening(c,e.intensities,o,b);else if(a==="Lorentzian")_=lorentzianBroadening(c,e.intensities,o,b);else return console.log("Fit type not defined!"),null;return{x:b,curve:_}}const getFittedCurve=(e,o,a)=>{let c=doFitting(e,o,a);return{x:c.x,y:c.curve,type:"scatter",mode:"lines+points",marker:{color:"red",size:.5},line:{width:2},hoverinfo:"none"}},getHistogram=e=>({x:e.peaks_positions,y:e.intensities,text:e.hkls,type:"bar",hovertemplate:"hkl: <b>%{text}</b><extra></extra>",width:.7,marker:{color:"black",opacity:.6}}),XrdPlot=({xrdData:e})=>{const o=Object.keys(e),a=reactExports.useRef(null),[c,d]=reactExports.useState(o[0]),[g,b]=reactExports.useState("Gaussian"),[_,$]=reactExports.useState(1),[j,rt]=reactExports.useState(!0),[nt,In]=reactExports.useState(!0),xl=["Gaussian","Lorentzian"],Ll=[];nt&&Ll.push(getHistogram(e[c])),j&&Ll.push(getFittedCurve(e[c],_,g));const Nl=e[c].angular_range.slice(),_u=[0,null];return reactExports.useEffect(()=>{if(!a.current)return;const Yl=a.current,Ul={showlegend:!1,xaxis:{range:Nl,title:{text:"2 []"},linecolor:"black",linewidth:1,tickwidth:1,tickcolor:"black",gridcolor:"lightgray",mirror:!0},yaxis:{range:_u,title:{text:"Intensity [a.u.]"},linecolor:"black",linewidth:1,tickwidth:1,tickcolor:"black",gridcolor:"lightgray",mirror:!0},margin:{l:50,r:20,b:40,t:20}},Dl={responsive:!0};return Plotly.newPlot(Yl,Ll,Ul,Dl),()=>{Plotly.purge(Yl)}},[e,c,g,_,j,nt]),jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsxs(Row,{children:[jsxRuntimeExports$1.jsxs(Col,{style:{minWidth:"300px"},children:[jsxRuntimeExports$1.jsxs(Form$1,{children:[jsxRuntimeExports$1.jsx(Form$1.Label,{children:"Select the X-ray source"}),jsxRuntimeExports$1.jsx(Form$1.Select,{value:c,onChange:Yl=>d(Yl.target.value),children:o.map(Yl=>jsxRuntimeExports$1.jsx("option",{value:Yl,children:wavelengthName(Yl)},Yl))})]}),jsxRuntimeExports$1.jsxs(Form$1,{children:[jsxRuntimeExports$1.jsx(Form$1.Label,{children:"Select peak broadening profile"}),jsxRuntimeExports$1.jsx(Form$1.Select,{value:g,onChange:Yl=>b(Yl.target.value),children:xl.map(Yl=>jsxRuntimeExports$1.jsx("option",{value:Yl,children:Yl},Yl))})]}),jsxRuntimeExports$1.jsxs(Form$1,{children:[jsxRuntimeExports$1.jsxs(Form$1.Label,{children:["Select peak broadening FWHM (full width at half maximum)",jsxRuntimeExports$1.jsx("br",{})," value: ",_.toFixed(2)]}),jsxRuntimeExports$1.jsx(Form$1.Range,{min:.1,max:2,step:.05,value:_,onInput:Yl=>$(parseFloat(Yl.target.value))})]}),jsxRuntimeExports$1.jsxs(Form$1,{children:[jsxRuntimeExports$1.jsx(Form$1.Check,{checked:j,onChange:Yl=>rt(Yl.target.checked),label:"Show broadened curve"}),jsxRuntimeExports$1.jsx(Form$1.Check,{checked:nt,onChange:Yl=>In(Yl.target.checked),label:"Show histogram"})]})]}),jsxRuntimeExports$1.jsx(Col,{children:jsxRuntimeExports$1.jsx("div",{ref:a,style:{width:"100%",height:"100%",minHeight:"400px",minWidth:"300px"}})})]})})},XrdSection=e=>{const[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!1);reactExports.useEffect(()=>{loadXrd(e.params.method,e.params.id).then(b=>{b?(console.log("Loaded XRD data",b),a(b)):d(!0)})},[e.params.method,e.params.id]);let g="";return c?g="Not available for this material.":o==null?g=jsxRuntimeExports$1.jsx("div",{style:{width:"150px",padding:"40px",margin:"0 auto"},children:jsxRuntimeExports$1.jsx(xu,{})}):g=jsxRuntimeExports$1.jsx(XrdPlot,{xrdData:o}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"section-heading",children:"X-ray diffraction pattern"}),jsxRuntimeExports$1.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports$1.jsx(Row,{children:jsxRuntimeExports$1.jsx("div",{className:"xrd-section",children:g})})})]})};function TitledColumn({width:e,title:o,loading:a,condition:c,fallback:d,children:g,style:b={},className:_="",titleStyle:$={},titleClassName:j=""}){const rt=a?jsxRuntimeExports$1.jsx("div",{className:"flex justify-center items-center w-100 h-full",children:jsxRuntimeExports$1.jsx("div",{style:{maxWidth:"70px",width:"100%"},children:jsxRuntimeExports$1.jsx(xu,{})})}):c?g:d||null;return rt?jsxRuntimeExports$1.jsxs(Col,{md:e,className:`flex flex-col ${_}`,style:{minHeight:"300px",...b},children:[jsxRuntimeExports$1.jsxs("div",{className:`subsection-title w-100 mb-3 ${j}`,style:{marginBottom:"0.5rem",...$},children:[o||""," "]}),rt]}):null}function SuperconHeader({params:e,superconData:o}){return jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsxs("div",{className:"title-and-doi",style:{borderBottom:"1px solid grey",paddingBottom:"0.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.25rem"},children:[jsxRuntimeExports$1.jsx("span",{className:"title-span",children:"Superconductivity Estimation"}),jsxRuntimeExports$1.jsxs("div",{className:"doi-container",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"0.5rem"},children:[jsxRuntimeExports$1.jsx(CitationsList,{citationLabels:["MBercxSupercon25"]}),jsxRuntimeExports$1.jsx(wu,{doi_id:"9w-az",label:"Data DOI"})]})]}),jsxRuntimeExports$1.jsxs("div",{className:"alert alert-warning",style:{margin:"10px 10px 5px 10px"},role:"alert",children:["This contribution re-relaxes the structure with a different methodology. To see this structure, explore the AiiDA provenance"," ",(o==null?void 0:o.a2f_uuid)&&jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[e.method]+"-supercon",uuid:o.structure_uuid})]}),jsxRuntimeExports$1.jsxs("div",{style:{padding:"10px 10px"},children:["This dataset provides results from a high-throughput search for phonon-mediated superconductivity, where electronphonon interactions and critical temperatures were systematically computed to identify and characterize promising superconducting materials. This frontend section contains the final superconductivity estimation results, as well as the intermediate electronic and vibrational calculated properties. For further details regarding the methodology see the"," ",jsxRuntimeExports$1.jsx("a",{href:"./#/contributions",target:"_blank",rel:"noopener noreferrer",children:"contribution details"}),"."]})]})}const TwoWideInfoBox=({childrenLeft:e,childrenRight:o,style:a=null})=>jsxRuntimeExports$1.jsx("div",{style:a,children:jsxRuntimeExports$1.jsxs("div",{className:"two-wide-container subsection-shadow overflow-auto rounded",children:[jsxRuntimeExports$1.jsx("div",{className:"info-col",children:e}),jsxRuntimeExports$1.jsx("div",{className:"info-col",children:o})]})}),omegaLogLabel=jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["",jsxRuntimeExports$1.jsx("sub",{children:"log"}),jsxRuntimeExports$1.jsx("span",{style:{marginLeft:"0.10em"}})]}),TcLabel=jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["T",jsxRuntimeExports$1.jsx("sub",{children:"c"}),jsxRuntimeExports$1.jsx("span",{style:{marginLeft:"0.10em"}})]});function formatIfExists(e,{decimals:o=3,format:a=d=>d,fallback:c=void 0}={}){if(typeof e=="number"&&!isNaN(e)){const d=Number(e.toFixed(o));return a(d)}else{if(Array.isArray(e))return a(e.join("  "));if(e!=null)return a(e)}return c}function SuperconInfoBox({superconData:e,style:o={}}){var b,_;const a=[{key:"Space group number",value:formatIfExists(e.space_group_number,{format:$=>`${$}`,fallback:"Unknown Spacegroup"})},{key:"Total energy",value:formatIfExists(e.total_energy,{format:$=>`${$} eV`,fallback:"Unknown Total energy"})},{key:"Cell volume",value:formatIfExists(e.cell_volume,{format:$=>`${$} `,fallback:"Unknown Spacegroup"})},{key:"Fermi energy",value:formatIfExists(e.fermi_energy_coarse,{format:$=>`${$} eV`})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["",jsxRuntimeExports$1.jsx("sup",{children:"max"})]}),value:formatIfExists(e.highest_phonon_frequency,{format:$=>`${$} meV`})}],c=[{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["E",jsxRuntimeExports$1.jsx("sub",{children:"cut"})]}),value:formatIfExists(e.ecut,{format:$=>`${($/13.605703976).toFixed(0)} Ry`,fallback:"No data"})},{key:"Smearing",value:formatIfExists(e.scf_smearing,{format:$=>`${$} eV`,fallback:"No data"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["DFPT ",jsxRuntimeExports$1.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(e.kpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No DFPT kgrid data"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["DFPT ",jsxRuntimeExports$1.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(e.qpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No DFPT qgrid data"})}],d=[{key:"Type of anisotropy",value:formatIfExists(e.type,{format:$=>`${$}`})},{key:"Number of Wannier functions",value:formatIfExists(e.number_of_wannier_functions,{format:$=>`${$}`})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Coarse ",jsxRuntimeExports$1.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(e.kpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No EPW coarse kgriddata"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Coarse ",jsxRuntimeExports$1.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(e.qpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No EPW coarse qgriddata"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Fine ",jsxRuntimeExports$1.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(e.kfpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No EPW fine kgriddata"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Fine ",jsxRuntimeExports$1.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(e.qfpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No EPW fine qgriddata"})},{key:"Smearing-q",value:formatIfExists(e.smearing_q,{format:$=>`${$} meV`,fallback:"No data"})},{key:"Fermi window",value:formatIfExists(e.fermi_window,{format:$=>`${$} eV`,fallback:"No data"})}],g=[{key:omegaLogLabel,value:formatIfExists(e.omega_log,{format:$=>`${$} meV`,fallback:"Not calculated"})},{key:"",value:formatIfExists(e.lambda,{format:$=>`${$}`,fallback:"Not calculated"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Allen-Dynes ",TcLabel]}),value:formatIfExists(e.allen_dynes_tc,{format:$=>`${$} K`,fallback:"Not calculated"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Isotropic ",TcLabel]}),value:formatIfExists(e.iso_tc,{format:$=>`${$} K`,fallback:"Not superconducting"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["",jsxRuntimeExports$1.jsxs("sub",{children:["n",jsxRuntimeExports$1.jsx("b",{children:"k"})]}),"(0)"]}),value:formatIfExists((b=e.aniso_info)==null?void 0:b.delta0,{format:$=>`${$} K`,fallback:"No nk Data"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Anisotropic ",TcLabel]}),value:formatIfExists((_=e.aniso_info)==null?void 0:_.Tc,{format:$=>`${$} K`,fallback:"Not superconducting"})}];return jsxRuntimeExports$1.jsx(TwoWideInfoBox,{style:o,childrenLeft:jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"General properties"}),jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:a.filter($=>$.value!==void 0).map(($,j)=>jsxRuntimeExports$1.jsxs("li",{children:[$.key,": ",$.value]},j))}),jsxRuntimeExports$1.jsx("b",{children:"Superconducting properties"}),jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:g.filter($=>$.value!==void 0).map(($,j)=>jsxRuntimeExports$1.jsxs("li",{children:[$.key,": ",$.value]},j))})]}),childrenRight:jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"DFT calculation details "}),jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:c.filter($=>$.value!==void 0).map(($,j)=>jsxRuntimeExports$1.jsxs("li",{children:[$.key,": ",$.value]},j))}),jsxRuntimeExports$1.jsx("b",{children:"EPW calculation details"}),jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:d.filter($=>$.value!==void 0).map(($,j)=>jsxRuntimeExports$1.jsxs("li",{children:[$.key,": ",$.value]},j))})]})})}const GAP_TRACE_CONFIG={color:"#d62728"},GAP_LAYOUT_CONFIG={xaxis:{title:{text:"T [K]",font:{size:15,color:"#111"}},tickfont:{size:14},showgrid:!1,zeroline:!1,showline:!1,ticks:"inside",rangemode:"nonnegative"},yaxis:{title:{text:"<sub>n<b>k</b></sub>(T) [meV]",font:{size:15,color:"#111"}},tickfont:{size:14},showgrid:!1,zeroline:!1,showline:!1,ticks:"inside",rangemode:"nonnegative"},legend:{visible:!1},margin:{t:10,b:50,l:52,r:0},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]};function createAnalyticGapTrace(e,o,a,c=200,d="Analytical (T)"){const g=Array.from({length:c},(_,$)=>$*a/(c-1)),b=g.map(_=>e*Math.sqrt(1-Math.pow(_/a,o)));return{x:g,y:b,name:d,type:"scatter",mode:"lines",hovertemplate:"<b>Value of the fit of BCS gap at %{x:.2f}K:</b> %{y:.3f}<extra></extra>",line:{color:"#b22222",dash:"dash"}}}function GapFunction({gapfuncData:e,Tc:o,verts:a,points:c,delta0:d,expo:g,resolution:b=1e3,minXVal:_=0,maxXVal:$=null,minYVal:j=null,maxYVal:rt=0}){const nt=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!e||!nt.current)return;const In=nt.current,xl=a??[],Ll=Object.entries(e).filter(([Ul])=>Array.isArray(Ul)).map(([Ul])=>{const Dl=Ul.map(([fp])=>fp),Zl=Ul.map(([fp])=>fp),{leftVerts:Ju,distances:Uu}=Dl.reduce((fp,Zu)=>{const Lp=xl.filter(Np=>Np<=Zu);if(!Lp.length)fp.leftVerts.push(null),fp.distances.push(null);else{const Np=Math.max(...Lp);fp.leftVerts.push(Np),fp.distances.push(Zu-Np)}return fp},{leftVerts:[],distances:[]});return{x:Dl,y:Zl,customdata:Uu,text:Ju,type:"scatter",mode:"lines",line:{color:GAP_TRACE_CONFIG.color},hovertemplate:"<b>Histogram of <sub>nk</sub>(%{text:.1f}K) at %{y:.2f} meV:</b> %{customdata:.2f} <extra></extra>"}}),Nl=(a||[]).map((Ul,Dl)=>({x:[Ul],y:[(c||[])[Dl]],name:`point ${Dl}`,type:"scatter",mode:"markers",hovertemplate:"<b>Weighted average at %{x:.0f}K:</b> %{y:.3f}<extra></extra>",marker:{color:GAP_TRACE_CONFIG.color,size:12}}));Ll.push(...Nl);const _u=createAnalyticGapTrace(d,g,o,b);Ll.push(_u);let Yl={...GAP_LAYOUT_CONFIG,xaxis:{...GAP_LAYOUT_CONFIG.xaxis,range:_!=null&&$!=null?[_,$]:void 0},yaxis:{...GAP_LAYOUT_CONFIG.yaxis,range:j!=null&&rt!=null?[j,rt]:void 0},shapes:[...GAP_LAYOUT_CONFIG.shapes||[],...xl.map(Ul=>({type:"line",x0:Ul,x1:Ul,y0:0,y1:1,yref:"paper",line:{color:"#111",width:1.25},layer:"below"}))]};return Plotly.newPlot(In,Ll,Yl,{responsive:!0}),()=>Plotly.purge(In)},[e]),jsxRuntimeExports$1.jsx("div",{ref:nt,style:{width:"100%",height:"350px"}})}const A2F_TRACE_CONFIG={color:"#d62728",dash:"solid",label:"<sup>2</sup>F()",hoverlabel:"Eliashberg spectral function",lineWidth:1.75,xaxis:"x2",yaxis:"y2"},A2F_CUMULATIVE_CONFIG={color:"#111",dash:"solid",label:"()",hoverlabel:"Cumulative electron-phonon coupling strength",lineWidth:1.75,xaxis:"x3",yaxis:"y2"};function getA2FTraces({a2f:e,frequency:o,degaussq:a,selectedDegaussIndex:c=-1}){if(!e||!o||!a||a.length===0)return[];const d=c<0?a.length-1:c,g={x:e.map(rt=>rt[d]),y:o,type:"scatter",mode:"lines",name:A2F_TRACE_CONFIG.label,hovertemplate:`<b>${A2F_TRACE_CONFIG.hoverlabel} at %{y:.2f} meV:</b> %{y:.3f} <br><extra></extra>`,line:{color:A2F_TRACE_CONFIG.color,dash:A2F_TRACE_CONFIG.dash,width:A2F_TRACE_CONFIG.lineWidth},xaxis:A2F_TRACE_CONFIG.xaxis,yaxis:A2F_TRACE_CONFIG.yaxis},b=o[1]-o[0];let _=0;const j={x:o.map((rt,nt)=>{const In=e[nt][d];return _+=2*In/rt*b,_}),y:o,type:"scatter",mode:"lines",name:A2F_CUMULATIVE_CONFIG.label,label:`${A2F_CUMULATIVE_CONFIG.label}`,hovertemplate:`<b>${A2F_CUMULATIVE_CONFIG.hoverlabel} at %{y:.2f} meV:</b> %{x:.3f}<br><extra></extra>`,line:{color:A2F_CUMULATIVE_CONFIG.color,dash:A2F_CUMULATIVE_CONFIG.dash,width:A2F_CUMULATIVE_CONFIG.lineWidth},xaxis:A2F_CUMULATIVE_CONFIG.xaxis,yaxis:A2F_CUMULATIVE_CONFIG.yaxis};return[g,j]}function transpose(e){const o=e.length,a=e[0].length,c=new Array(a);for(let d=0;d<a;d++){c[d]=new Array(o);for(let g=0;g<o;g++)c[d][g]=e[g][d]}return c}const baseColors=["#636EFA","#EF553B","#00CC96","#AB63FA","#FFA15A","#19D3F3","#FF6692","#B6E880","#FF97FF","#FECB52"];function getColor(e){return e<baseColors.length?baseColors[e]:`hsl(${e*47%360}, 70%, 50%)`}function mergeLegendTracesByName(e){const o=new Set;return e.map(c=>{const d=c.name||"",g=!o.has(d);return g&&o.add(d),{...c,legendgroup:d,showlegend:g}})}function getXYData(e){const o=[],a=[];let c=null;return e.paths.forEach((d,g)=>{const b=d.x,_=d.values;g>0&&(o.push(null),a.forEach($=>$.push(null))),b.forEach(($,j)=>{$===c&&(o.push(null),a.forEach(rt=>rt.push(null))),o.push($),c=$,_.forEach((rt,nt)=>{a[nt]||(a[nt]=[]),a[nt].push(rt[j])})})}),{xs:o,ys:a}}function prettifyLabels(e){const o={GAMMA:"",DELTA:"",SIGMA:"",LAMBDA:""};Object.keys(o).forEach(c=>{const d=new RegExp(c,"gi");e=e.replace(d,o[c])}),e=e.replace(/\bG\b/g,""),e=e.replace(/-/g,"");const a={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""};return e=e.replace(/_(.)/g,(c,d)=>a[d]||c),e}function getXLabelPos(e=td.paths){const o=[0];for(const a of e)a.x.length<3||o.push(a.x[a.x.length-1]);return o}function getXLabelsfromkpath(e){const o=e.flat(),a=[];a.push(o[0]);for(let c=1;c<o.length-1;c++)o[c]===o[c+1]?(a.push(o[c]),c++):(a.push(o[c]+"|"+o[c+1]),c++);return a.push(o[o.length-1]),a}function getXYRangeForAxis(e,o="x",a="y"){let c=1/0,d=-1/0,g=1/0,b=-1/0;for(const _ of e){const $=_.xaxis===o||!_.xaxis&&o==="x",j=_.yaxis===a||!_.yaxis&&a==="y";if(!(!$||!j)){for(const rt of _.x??[])typeof rt=="number"&&(c=Math.min(c,rt),d=Math.max(d,rt));for(const rt of _.y??[])typeof rt=="number"&&(g=Math.min(g,rt),b=Math.max(b,rt))}}return{x:c===1/0?null:[c,d],y:g===1/0?null:[g,b]}}function createFermiLine(e,o,a,c={}){return{x:e,y:o,mode:"lines",type:"scatter",name:`Fermi [${a}eV]`,legendgroup:`fermi-${a}`,showlegend:c.showlegend??!0,line:{color:"green",width:1.25,dash:"dash"},...c}}function addfermiLines(e,o,a,c){const d=[...o];if(a&&!c){const{y:g}=getXYRangeForAxis(o);for(const b of e)d.push(createFermiLine([b,b],[g[0],g[1]],b))}else if(c&&!a){const{x:g}=getXYRangeForAxis(o);for(const b of e)d.push(createFermiLine([g[0],g[1]],[b,b],b))}else if(c&&a){const{x:g}=getXYRangeForAxis(o,"x2","y"),{x:b}=getXYRangeForAxis(o,"x","y");for(const _ of e)d.push(createFermiLine([b[0],b[1]],[_,_],_)),d.push(createFermiLine([g[0],g[1]],[_,_],_,{showlegend:!1,xaxis:"x2",yaxis:"y"}))}return d}var isMergeableObject=function e(o){return isNonNullObject(o)&&!isSpecial(o)};function isNonNullObject(e){return!!e&&typeof e=="object"}function isSpecial(e){var o=Object.prototype.toString.call(e);return o==="[object RegExp]"||o==="[object Date]"||isReactElement(e)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,o){return o.clone!==!1&&o.isMergeableObject(e)?deepmerge(emptyTarget(e),e,o):e}function defaultArrayMerge(e,o,a){return e.concat(o).map(function(c){return cloneUnlessOtherwiseSpecified(c,a)})}function getMergeFunction(e,o){if(!o.customMerge)return deepmerge;var a=o.customMerge(e);return typeof a=="function"?a:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(o){return Object.propertyIsEnumerable.call(e,o)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,o){try{return o in e}catch{return!1}}function propertyIsUnsafe(e,o){return propertyIsOnObject(e,o)&&!(Object.hasOwnProperty.call(e,o)&&Object.propertyIsEnumerable.call(e,o))}function mergeObject(e,o,a){var c={};return a.isMergeableObject(e)&&getKeys(e).forEach(function(d){c[d]=cloneUnlessOtherwiseSpecified(e[d],a)}),getKeys(o).forEach(function(d){propertyIsUnsafe(e,d)||(propertyIsOnObject(e,d)&&a.isMergeableObject(o[d])?c[d]=getMergeFunction(d,a)(e[d],o[d],a):c[d]=cloneUnlessOtherwiseSpecified(o[d],a))}),c}function deepmerge(e,o,a){a=a||{},a.arrayMerge=a.arrayMerge||defaultArrayMerge,a.isMergeableObject=a.isMergeableObject||isMergeableObject,a.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var c=Array.isArray(o),d=Array.isArray(e),g=c===d;return g?c?a.arrayMerge(e,o,a):mergeObject(e,o,a):cloneUnlessOtherwiseSpecified(o,a)}deepmerge.all=function e(o,a){if(!Array.isArray(o))throw new Error("first argument should be an array");return o.reduce(function(c,d){return deepmerge(c,d,a)},{})};var deepmerge_1=deepmerge,cjs$2=deepmerge_1;const deepmerge$1=getDefaultExportFromCjs(cjs$2),plotLayoutDefault={title:"Multi Trace Plot with border",hovermode:"closest",uirevision:!0,shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:2},layer:"above"}],margin:{l:55,r:10,t:10,b:45},dragmode:"zoom",xaxis:{title:{text:"x-axis",font:{size:18,color:"#212529"}},showgrid:!0,showline:!1,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"y-axis",font:{size:19,color:"#212529"}},showgrid:!0,zeroline:!1,showline:!1,ticks:"inside",color:"#212529",tickfont:{color:"#212529",size:19}},legend:{x:1.01,y:1,xanchor:"left",yanchor:"top",orientation:"v"}},plotBandLayout=deepmerge$1(plotLayoutDefault,{title:"BSPlot",xaxis:{title:{text:"K-path",font:{size:18,color:"#212529"}},showgrid:!0,showline:!1,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Energy [eV]",font:{size:19,color:"#212529"}},showgrid:!0,zeroline:!1,showline:!1,ticks:"inside",color:"#212529",tickfont:{color:"#212529",size:19}}}),plotDOSLayout=deepmerge$1(plotLayoutDefault,{title:"DOSPlot",xaxis:{title:{text:"Energy [eV]",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Density of States",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}}}),plotDOSLayoutF=deepmerge$1(plotLayoutDefault,{title:"DOSPlot",xaxis:{title:{text:"Density of States",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Energy [eV]",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}}}),plotCombinedLayout={shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:.7,y1:1,line:{color:"black",width:2},layer:"above"},{type:"rect",xref:"paper",yref:"paper",x0:.73,y0:0,x1:1,y1:1,line:{color:"black",width:2},layer:"above"}],grid:{rows:1,columns:2,pattern:"independent"},xaxis:{domain:[0,.7],autorange:!0},xaxis2:{title:{text:"Energy [eV]",font:{size:18}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"},domain:[.73,1],autorange:!0,showgrid:!0},yaxis:{autorange:!0},margin:{l:60,r:30,b:40,t:40},showlegend:!0,legend:{}},traceDefaultBands={mode:"lines",dash:"solid",line:{color:"rgba(90, 60, 255, 0.85)",width:1},name:"Band Structure"},traceDefaultDos={name:"DOS",legendgroup:"DOS",showlegend:!0,type:"scatter",mode:"lines",dash:"dash",line:{color:"rgba(90, 60, 255, 0.85)",width:2},fill:"toself"};function getBandTraces(e,o,a={}){const c=[];return o.forEach((d,g)=>{c.push({name:a.name,legendgroup:a.name,showlegend:g===0,...traceDefaultBands,...a,x:e,y:d})}),c}function getBandLayout(e=[],o=[]){return deepmerge$1.all([plotBandLayout,{xaxis:{tickvals:o,ticktext:e},yaxis:{}}])}function getBandStructure(e){const a=getXLabelsfromkpath(e[0].bandsData.path).map(prettifyLabels),c=getXLabelPos(e[0].bandsData.paths),d=getBandLayout(a,c);let g=[];for(const[b,_]of e.entries()){let $=_.traceFormat;(!$||Object.keys($).length===0)&&($={name:`Band Structure ${b}`,line:{color:getColor(b),width:1}});const j=_.bandsData,{xs:rt,ys:nt}=getXYData(j),In=getBandTraces(rt,nt,$);g.push(...In)}return{bandTraces:g,bandLayout:d}}function getDosLayout(e="h"){let o;return e==="v"?o=plotDOSLayoutF:o=plotDOSLayout,o}function getDosTraces(e,o="h",a={}){const c=o==="v"?e.y:e.x,d=o==="v"?e.x:e.y;return{...traceDefaultDos,...a,x:c,y:d}}function getDos(e,o="h"){const a=[];for(const[d,g]of e.entries()){let b=g.traceFormat;(!b||Object.keys(b).length===0)&&(b={name:`DOS ${d}`,line:{color:getColor(d),width:2}});const _=g.dosData,$=getDosTraces(_,o,b);a.push($)}const c=getDosLayout(o);return{dosTraces:a,dosLayout:c}}function getProjectionTraces(e,o,a,c={},d=1){const g=transpose(a),b=transpose(o),_=[];return b.forEach(($,j)=>{const rt=g[j],nt=new Float64Array($.length),In=new Float64Array($.length);for(let _u=0;_u<$.length;_u++){const Yl=rt[_u]*d;nt[_u]=$[_u]+Yl,In[_u]=$[_u]-Yl}const xl=e.length,Ll=new Float32Array(xl*2),Nl=new Float32Array(xl*2);for(let _u=0;_u<xl;_u++)Ll[_u]=e[_u],Nl[_u]=In[_u],Ll[2*xl-1-_u]=e[_u],Nl[2*xl-1-_u]=nt[_u];_.push({name:c.name,legendgroup:c.name,type:"scatter",mode:"lines",fill:"toself",...c,showlegend:j===0,x:Ll,y:Nl})}),_}function handleSettings(e,o){for(const a in e)e[a]!==null&&typeof e[a]=="object"&&!Array.isArray(e[a])&&o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])?o[a]=deepmerge$1(o[a],e[a]):o[a]=e[a]}function BandsVisualiser(e,{bandsDataArray:o=[],dosDataArray:a=[],fermiLevels:c=[],customTraces:d=[],settings:g={}}){let b=[],_={},$=[],j=[],rt={};typeof c=="number"&&(c=[c]);const nt=o.length>0,In=a.length>0;if(nt){const _u=getBandStructure(o);b=_u.bandTraces,_=_u.bandLayout;for(const[Yl,Ul]of o.entries())if(Ul.hasOwnProperty("projections"))for(const[Dl,Zl]of Ul.projections.entries()){const Ju=Zl.traceFormat&&Object.keys(Zl.traceFormat).length>0?Zl.traceFormat:{name:`Projection ${Dl}`,line:{color:getColor(Dl),width:0}};$.push(...getProjectionTraces(Ul.bandsData.x,Ul.bandsData.y,Zl.projData.weights,Ju))}}if(In){const Yl=getDos(a,nt?"v":"h");j=Yl.dosTraces,rt=Yl.dosLayout}let xl={},Ll=[];if(In&&!nt)Ll=j,xl={...rt,showlegend:(rt==null?void 0:rt.showlegend)??!0};else if(nt&&!In)Ll=[...b,...$],xl={..._,showlegend:(_==null?void 0:_.showlegend)??!0};else if(In&&nt){j=j.map(Yl=>({...Yl,xaxis:"x2",yaxis:"y"}));const _u=mergeLegendTracesByName([...$,...j]);Ll=[...b,..._u],xl={...plotCombinedLayout,xaxis:{...plotCombinedLayout.xaxis||{},...(_==null?void 0:_.xaxis)||{}},xaxis2:{...plotCombinedLayout.xaxis2||{},...(rt==null?void 0:rt.xaxis2)||{}},yaxis:{...plotCombinedLayout.yaxis||{},...(_==null?void 0:_.yaxis)||{},...(rt==null?void 0:rt.yaxis)||{}}}}for(const _u of d)console.log(_u),_u.target==="dos"?Ll.push({..._u,xaxis:"x2",yaxis:"y"}):_u.target==="bands"?Ll.push({..._u,xaxis:"x",yaxis:"y"}):Ll.push({..._u});const Nl=addfermiLines(c,Ll,In,nt);handleSettings(g,xl),Plotly.react(e,Nl,xl,{displaylogo:!1,responsive:!0})}function BandStructure({bandsDataArray:e,dosDataArray:o=void 0,customTraces:a=[],minYval:c=null,maxYval:d=null,layoutOverrides:g=null}){const b=reactExports.useRef(null),_=reactExports.useMemo(()=>{const $={...g??{}};return c!=null&&d!=null&&($.yaxis={...$.yaxis??{},range:[c,d]}),$},[g,c,d]);return c!=null&&d!=null&&(_.yaxis={..._.yaxis??{},range:[c,d]}),reactExports.useEffect(()=>{!b.current||!e||BandsVisualiser(b.current,{bandsDataArray:e,dosDataArray:o,customTraces:a,settings:_})},[e,o,a,_]),e?jsxRuntimeExports$1.jsx("div",{ref:b,style:{width:"100%",height:"450px"}}):jsxRuntimeExports$1.jsx("div",{className:"placeholder-wave d-flex align-items-center justify-content-center rounded bg-secondary",style:{height:"450px",width:"100%"},children:jsxRuntimeExports$1.jsx("span",{children:" Failed to render data for the visualiser "})})}const traceConfigs={electronicEPW:{label:"EPW",colors:["#d62728"],dash:"4px",width:1.75,opacity:1,units:"eV"},electronicQE:{label:"QE",colors:["#6baed6"],dash:"solid",width:2.25,opacity:.95,units:"eV"},phononEPW:{label:"EPW",colors:["#d62728"],dash:"solid",width:1.75,opacity:1,units:"eV",showlegend:!1},unknownEntry:{label:"Unknown Data 1",colors:["#2ca02c","#98df8a"],dash:"dot",units:"eV"}},COMMON_LAYOUT_CONFIG={yaxis:{showgrid:!1,showline:!1,ticks:"inside",tickfont:{size:14,color:"#333"},title:{font:{size:16,color:"#333"},standoff:10}},xaxis:{showgrid:!0,ticks:"inside",tickfont:{size:14,color:"#333"},title:{font:{size:16,color:"#333"}}},legend:{orientation:"v",y:.985,x:.985,xanchor:"right",font:{size:14,color:"#333"},bgcolor:"rgba(250, 250, 250, 1.0)",bordercolor:"#ccc",borderwidth:1},margin:{l:65,r:10,t:0,b:50},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]},SUPERCON_BANDS_LAYOUT_CONFIG={...COMMON_LAYOUT_CONFIG,yaxis:{...COMMON_LAYOUT_CONFIG.yaxis,title:{...COMMON_LAYOUT_CONFIG.yaxis.title,text:"Energy [eV]"}}},SUPERCON_PHONON_A2F_LAYOUT_CONFIG={...COMMON_LAYOUT_CONFIG,margin:{l:65,r:10,t:50,b:50},yaxis:{...COMMON_LAYOUT_CONFIG.yaxis,title:{...COMMON_LAYOUT_CONFIG.yaxis.title,text:"Energy [meV]"},autorange:!1,rangemode:"nonnegative"},yaxis2:{matches:"y",showticklabels:!1,ticks:"inside",showgrid:!1,rangemode:"nonnegative",autorange:!1,zeroline:!1},xaxis:{ticks:"inside",tickfont:{size:14,color:"#333"},title:{text:"q-path",font:{size:16,color:"#333"}}},xaxis2:{...COMMON_LAYOUT_CONFIG.xaxis,title:{...COMMON_LAYOUT_CONFIG.xaxis.title,text:"<sup>2</sup>F()"},showgrid:!1},xaxis3:{overlaying:"x2",side:"top",anchor:"y",title:{text:"()",font:{size:16}},showgrid:!1,tickfont:{size:15,color:"#333"},ticks:"inside",tickmode:"auto"},legend2:{orientation:"v",y:.1,x:.585,xanchor:"right",zorder:-100,opacity:0,bgcolor:"rgba(0, 0, 0, 0)"},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:.7,y1:1,line:{color:"black",width:1.25},layer:"above"},{type:"rect",xref:"paper",yref:"paper",x0:.73,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]};function shiftBands(e,o){e.paths.forEach(a=>{a.values.forEach(c=>{c.forEach((d,g,b)=>{b[g]+=o})})})}function normalizeBandsData(e){const o=e.map(d=>{var b;const g=(b=d.bandsData)==null?void 0:b.paths;return g?g.reduce((_,$)=>!$.x||$.x.length===0?_:_+($.x[$.x.length-1]-$.x[0]),0):0}),a=Math.max(...o);return e.map((d,g)=>{var rt;const b=(rt=d.bandsData)==null?void 0:rt.paths;if(!b)return d;const _=o[g];if(_===0)return d;const $=a/_,j=b.map(nt=>!nt.x||nt.x.length===0?nt:{...nt,x:nt.x.map(In=>In*$)});return{...d,bandsData:{...d.bandsData,paths:j}}})}function prepareSuperConBand(e,o=0,a="unknownEntry"){shiftBands(e,o);let c=traceConfigs[a],d={bandsData:e,traceFormat:{label:`${c.label}`,name:c.label,hovertemplate:`<b>${c.label}</b>: %{y:.3f} ${c.units}<br><extra></extra>`,mode:c.mode,line:{color:c.colors[0],dash:c.dash,width:c.width,opacity:c.opacity}}};return a=="phononEPW"&&(d={bandsData:e,traceFormat:{label:`${c.label}`,name:c.label,hovertemplate:`<b>${c.label}</b>: %{y:.3f} ${c.units}<br><extra></extra>`,mode:c.mode,line:{color:c.colors[0],dash:c.dash,width:c.width,opacity:c.opacity},showlegend:!1}}),d}function useAsyncData(e,o){const[a,c]=reactExports.useState(null),[d,g]=reactExports.useState(!1);return reactExports.useEffect(()=>{let b=!1;async function _(){g(!0);try{const $=await e();b||c($??null)}catch{b||c(null)}finally{b||g(!1)}}return _(),()=>{b=!0}},o),[a,d]}function safePrepareBands(e,o,a){return!e||typeof o!="number"?null:prepareSuperConBand(e,-o,a)}function SuperConductivity({params:e,loadedData:o}){var xl,Ll,Nl,_u,Yl,Ul;const a=(xl=o==null?void 0:o.details)==null?void 0:xl.supercon,c=reactExports.useCallback(async()=>a.aniso_gap_function_uuid?loadXY(`${e.method}-supercon`,a.aniso_gap_function_uuid):null,[e.method]),[d,g]=useAsyncData(c,[c]),b=reactExports.useCallback(async()=>a.a2f_uuid?loadXY(`${e.method}-supercon`,a.a2f_uuid):null,[e.method]),[_]=useAsyncData(b,[b]),$=reactExports.useCallback(async()=>{const Dl=`${e.method}-supercon`,[Zl,Ju,Uu]=await Promise.all([a.epw_el_band_structure_uuid?loadAiidaBands(Dl,a.epw_el_band_structure_uuid):null,a.qe_el_band_structure_uuid?loadAiidaBands(Dl,a.qe_el_band_structure_uuid):null,a.epw_ph_band_structure_uuid?loadAiidaBands(Dl,a.epw_ph_band_structure_uuid):null]),fp=safePrepareBands(Zl,a.fermi_energy_coarse,"electronicEPW"),Zu=safePrepareBands(Ju,a.fermi_energy_coarse,"electronicQE"),Lp=normalizeBandsData([Zu,fp].filter(Boolean)),Np=safePrepareBands(Uu,0,"phononEPW");return{el:Lp,ph:Np?[Np]:[]}},[e.method]),[j,rt]=useAsyncData($,[$]),nt=(j==null?void 0:j.el)??[],In=(j==null?void 0:j.ph)??[];return a?jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsxs(Container,{fluid:!0,className:"section-container",children:[jsxRuntimeExports$1.jsx(SuperconHeader,{params:e,superconData:a}),jsxRuntimeExports$1.jsxs(Row,{children:[jsxRuntimeExports$1.jsx(TitledColumn,{width:6,title:"",titleStyle:{marginTop:0},condition:a!=null,children:jsxRuntimeExports$1.jsx(SuperconInfoBox,{superconData:a,style:{marginTop:0}})}),jsxRuntimeExports$1.jsxs(TitledColumn,{width:6,title:"Electronic band structure",loading:rt,condition:nt.length>0,titleStyle:{marginTop:0},children:[jsxRuntimeExports$1.jsx("div",{style:{marginBottom:10,marginLeft:10},children:"Electronic band structure calculated with Quantum ESPRESSO (QE) and EPW."}),jsxRuntimeExports$1.jsx(BandStructure,{bandsDataArray:nt,loading:rt,minYval:-10.4,maxYval:10.8,layoutOverrides:SUPERCON_BANDS_LAYOUT_CONFIG})]})]}),jsxRuntimeExports$1.jsx(Row,{children:jsxRuntimeExports$1.jsxs(TitledColumn,{width:12,title:"Phonon bands and electron-phonon interaction",loading:rt,condition:In.length>0&&a.highest_phonon_frequency!=null,children:[jsxRuntimeExports$1.jsx("div",{style:{marginLeft:10},children:"Phonon band structure calculated with EPW, Eliashberg spectral function [F()], and electron-phonon coupling strength [()]."}),jsxRuntimeExports$1.jsx(BandStructure,{bandsDataArray:In,minYval:0,maxYval:a.highest_phonon_frequency!=null?Math.min(a.highest_phonon_frequency+2,100):100,dosDataArray:[{dosData:{x:[0],y:[0]},traceFormat:{name:"",legend:"legend2",showlegend:!1,opacity:0}}],loading:rt,layoutOverrides:SUPERCON_PHONON_A2F_LAYOUT_CONFIG,customTraces:getA2FTraces({a2f:_==null?void 0:_.a2f,frequency:_==null?void 0:_.frequency,degaussq:_==null?void 0:_.degaussq,lambda:_==null?void 0:_.lambda})})]})}),jsxRuntimeExports$1.jsx(Row,{children:jsxRuntimeExports$1.jsx(TitledColumn,{width:9,title:"Anisotropic superconducting gap function",condition:a.aniso_info!=null,loading:g,children:jsxRuntimeExports$1.jsx(GapFunction,{gapfuncData:d,verts:(Ll=a.aniso_info)==null?void 0:Ll.temps,points:(Nl=a.aniso_info)==null?void 0:Nl.average_deltas,delta0:(_u=a.aniso_info)==null?void 0:_u.delta0,Tc:(Yl=a.aniso_info)==null?void 0:Yl.Tc,expo:(Ul=a.aniso_info)==null?void 0:Ul.expo,minXVal:0,maxXVal:null,minYVal:0,maxYVal:null})})})]})}):jsxRuntimeExports$1.jsx("div",{className:"empty-supercon-div"})}function MissingDataWarning({params:e,navigate:o}){return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/develop/"},{name:`${e.id}/${e.method}`,link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsxs("div",{style:{textAlign:"center",marginTop:"5rem",marginBottom:"10rem"},children:[jsxRuntimeExports$1.jsx("div",{style:{color:"red",fontSize:"1.2rem",marginBottom:"2rem"},children:`Warning: Fetching of data failed, suggesting that ${e.id} has not been calculated with ${e.method}`}),jsxRuntimeExports$1.jsx(Button,{variant:"primary",onClick:()=>o("/"),children:"Return to MC3D homepage"})]})]})})}async function fetchCompoundData(e,o){var a;try{const[c,d]=await Promise.all([loadMetadata(e,o),loadDetails(e,o)]),g=(a=d==null?void 0:d.general)==null?void 0:a.structure_uuid;if(!g)throw new Error("Missing structure UUID");const[b,_]=await Promise.all([loadAiidaAttributes(e,g),loadAiidaCif(e,g)]);return{metadata:c,details:d,structureInfo:{aiidaAttributes:b,cif:_},missingStructureWarning:null}}catch{return{metadata:null,details:null,structureInfo:{aiidaAttributes:null,cif:null},missingStructureWarning:!0}}}function DetailPage(){const[e,o]=reactExports.useState(null),a=useNavigate(),c=useParams();if(reactExports.useEffect(()=>{o(null),fetchCompoundData(c.method,c.id).then(g=>{console.log("Loaded general data",g),o(g)})},[c.id,c.method]),e===null)return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/develop/"},{name:`${c.id}/${c.method}`,link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsx("div",{style:{width:"150px",padding:"40px",margin:"0 auto"},children:jsxRuntimeExports$1.jsx(xu,{})})]})});if(e!=null&&e.missingStructureWarning)return jsxRuntimeExports$1.jsx(MissingDataWarning,{params:c,navigate:a});const d=formatTitle(e.details.general.formula,c.id,c.method);return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/develop/"},{name:`${c.id}/${c.method}`,link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsx("div",{className:"detail-page-heading",children:d}),jsxRuntimeExports$1.jsx(OverviewSection,{params:c,loadedData:e}),jsxRuntimeExports$1.jsx(StructureSection,{params:c,loadedData:e}),jsxRuntimeExports$1.jsx(ProvenanceSection,{params:c,loadedData:e}),jsxRuntimeExports$1.jsx(XrdSection,{params:c,loadedData:e}),jsxRuntimeExports$1.jsx(SuperConductivity,{params:c,loadedData:e})]})})}function ok$1(){}function unreachable(){}function parse$2(e){const o=[],a=String(e||"");let c=a.indexOf(","),d=0,g=!1;for(;!g;){c===-1&&(c=a.length,g=!0);const b=a.slice(d,c).trim();(b||!g)&&o.push(b),d=c+1,c=a.indexOf(",",d)}return o}function stringify$1(e,o){const a={};return(e[e.length-1]===""?[...e,""]:e).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$5={};function name(e,o){return(emptyOptions$5.jsx?nameReJsx:nameRe).test(e)}const re=/[ \t\n\f\r]/g;function whitespace(e){return typeof e=="object"?e.type==="text"?empty$1(e.value):!1:empty$1(e)}function empty$1(e){return e.replace(re,"")===""}class Schema{constructor(o,a,c){this.normal=a,this.property=o,c&&(this.space=c)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(e,o){const a={},c={};for(const d of e)Object.assign(a,d.property),Object.assign(c,d.normal);return new Schema(a,c,o)}function normalize$1(e){return e.toLowerCase()}class Info{constructor(o,a){this.attribute=a,this.property=o}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(o,a,c,d){let g=-1;if(super(o,a),mark(this,"space",d),typeof c=="number")for(;++g<checks.length;){const b=checks[g];mark(this,checks[g],(c&types[b])===types[b])}}}DefinedInfo.prototype.defined=!0;function mark(e,o,a){a&&(e[o]=a)}function create(e){const o={},a={};for(const[c,d]of Object.entries(e.properties)){const g=new DefinedInfo(c,e.transform(e.attributes||{},c),d,e.space);e.mustUseProperty&&e.mustUseProperty.includes(c)&&(g.mustUseProperty=!0),o[c]=g,a[normalize$1(c)]=c,a[normalize$1(g.attribute)]=c}return new Schema(o,a,e.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(e,o){return o==="role"?o:"aria-"+o.slice(4).toLowerCase()}});function caseSensitiveTransform(e,o){return o in e?e[o]:o}function caseInsensitiveTransform(e,o){return caseSensitiveTransform(e,o.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,o){return"xlink:"+o.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,o){return"xml:"+o.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(e,o){const a=normalize$1(o);let c=o,d=Info;if(a in e.normal)return e.property[e.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&valid.test(o)){if(o.charAt(4)==="-"){const g=o.slice(5).replace(dash,camelcase);c="data"+g.charAt(0).toUpperCase()+g.slice(1)}else{const g=o.slice(4);if(!dash.test(g)){let b=g.replace(cap$1,kebab);b.charAt(0)!=="-"&&(b="-"+b),o="data"+b}}d=DefinedInfo}return new d(c,o)}function kebab(e){return"-"+e.toLowerCase()}function camelcase(e){return e.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function parse$1(e){const o=String(e||"").trim();return o?o.split(/[ \t\n\r\f]+/g):[]}function stringify(e){return e.join(" ").trim()}var cjs$1={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(e,o){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];o=o||{};var a=1,c=1;function d(Ll){var Nl=Ll.match(NEWLINE_REGEX);Nl&&(a+=Nl.length);var _u=Ll.lastIndexOf(NEWLINE);c=~_u?Ll.length-_u:c+Ll.length}function g(){var Ll={line:a,column:c};return function(Nl){return Nl.position=new b(Ll),j(),Nl}}function b(Ll){this.start=Ll,this.end={line:a,column:c},this.source=o.source}b.prototype.content=e;function _(Ll){var Nl=new Error(o.source+":"+a+":"+c+": "+Ll);if(Nl.reason=Ll,Nl.filename=o.source,Nl.line=a,Nl.column=c,Nl.source=e,!o.silent)throw Nl}function $(Ll){var Nl=Ll.exec(e);if(Nl){var _u=Nl[0];return d(_u),e=e.slice(_u.length),Nl}}function j(){$(WHITESPACE_REGEX)}function rt(Ll){var Nl;for(Ll=Ll||[];Nl=nt();)Nl!==!1&&Ll.push(Nl);return Ll}function nt(){var Ll=g();if(!(FORWARD_SLASH!=e.charAt(0)||ASTERISK!=e.charAt(1))){for(var Nl=2;EMPTY_STRING!=e.charAt(Nl)&&(ASTERISK!=e.charAt(Nl)||FORWARD_SLASH!=e.charAt(Nl+1));)++Nl;if(Nl+=2,EMPTY_STRING===e.charAt(Nl-1))return _("End of comment missing");var _u=e.slice(2,Nl-2);return c+=2,d(_u),e=e.slice(Nl),c+=2,Ll({type:TYPE_COMMENT,comment:_u})}}function In(){var Ll=g(),Nl=$(PROPERTY_REGEX);if(Nl){if(nt(),!$(COLON_REGEX))return _("property missing ':'");var _u=$(VALUE_REGEX),Yl=Ll({type:TYPE_DECLARATION,property:trim(Nl[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:_u?trim(_u[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return $(SEMICOLON_REGEX),Yl}}function xl(){var Ll=[];rt(Ll);for(var Nl;Nl=In();)Nl!==!1&&(Ll.push(Nl),rt(Ll));return Ll}return j(),xl()};function trim(e){return e?e.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var __importDefault$1=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$1,"__esModule",{value:!0});cjs$1.default=StyleToObject;const inline_style_parser_1=__importDefault$1(inlineStyleParser);function StyleToObject(e,o){let a=null;if(!e||typeof e!="string")return a;const c=(0,inline_style_parser_1.default)(e),d=typeof o=="function";return c.forEach(g=>{if(g.type!=="declaration")return;const{property:b,value:_}=g;d?o(b,_,g):_&&(a=a||{},a[b]=_)}),a}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(e){return!e||NO_HYPHEN_REGEX.test(e)||CUSTOM_PROPERTY_REGEX.test(e)},capitalize=function(e,o){return o.toUpperCase()},trimHyphen=function(e,o){return"".concat(o,"-")},camelCase=function(e,o){return o===void 0&&(o={}),skipCamelCase(e)?e:(e=e.toLowerCase(),o.reactCompat?e=e.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):e=e.replace(VENDOR_PREFIX_REGEX,trimHyphen),e.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal&&commonjsGlobal.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},style_to_object_1=__importDefault(cjs$1),utilities_1=utilities;function StyleToJS(e,o){var a={};return!e||typeof e!="string"||(0,style_to_object_1.default)(e,function(c,d){c&&d&&(a[(0,utilities_1.camelCase)(c,o)]=d)}),a}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(e){return o;function o(a){const c=a&&a.position&&a.position[e]||{};if(typeof c.line=="number"&&c.line>0&&typeof c.column=="number"&&c.column>0)return{line:c.line,column:c.column,offset:typeof c.offset=="number"&&c.offset>-1?c.offset:void 0}}}function position$1(e){const o=pointStart(e),a=pointEnd(e);if(o&&a)return{start:o,end:a}}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position(e.position):"start"in e||"end"in e?position(e):"line"in e||"column"in e?point$1(e):""}function point$1(e){return index(e&&e.line)+":"+index(e&&e.column)}function position(e){return point$1(e&&e.start)+"-"+point$1(e&&e.end)}function index(e){return e&&typeof e=="number"?e:1}class VFileMessage extends Error{constructor(o,a,c){super(),typeof a=="string"&&(c=a,a=void 0);let d="",g={},b=!1;if(a&&("line"in a&&"column"in a?g={place:a}:"start"in a&&"end"in a?g={place:a}:"type"in a?g={ancestors:[a],place:a.position}:g={...a}),typeof o=="string"?d=o:!g.cause&&o&&(b=!0,d=o.message,g.cause=o),!g.ruleId&&!g.source&&typeof c=="string"){const $=c.indexOf(":");$===-1?g.ruleId=c:(g.source=c.slice(0,$),g.ruleId=c.slice($+1))}if(!g.place&&g.ancestors&&g.ancestors){const $=g.ancestors[g.ancestors.length-1];$&&(g.place=$.position)}const _=g.place&&"start"in g.place?g.place.start:g.place;this.ancestors=g.ancestors||void 0,this.cause=g.cause||void 0,this.column=_?_.column:void 0,this.fatal=void 0,this.file="",this.message=d,this.line=_?_.line:void 0,this.name=stringifyPosition(g.place)||"1:1",this.place=g.place||void 0,this.reason=this.message,this.ruleId=g.ruleId||void 0,this.source=g.source||void 0,this.stack=b&&g.cause&&typeof g.cause.stack=="string"?g.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(e,o){if(!o||o.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=o.filePath||void 0;let c;if(o.development){if(typeof o.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");c=developmentCreate(a,o.jsxDEV)}else{if(typeof o.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof o.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");c=productionCreate(a,o.jsx,o.jsxs)}const d={Fragment:o.Fragment,ancestors:[],components:o.components||{},create:c,elementAttributeNameCase:o.elementAttributeNameCase||"react",evaluater:o.createEvaluater?o.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:o.ignoreInvalidStyle||!1,passKeys:o.passKeys!==!1,passNode:o.passNode||!1,schema:o.space==="svg"?svg:html$2,stylePropertyNameCase:o.stylePropertyNameCase||"dom",tableCellAlignToStyle:o.tableCellAlignToStyle!==!1},g=one$2(d,e,void 0);return g&&typeof g!="string"?g:d.create(e,d.Fragment,{children:g||void 0},void 0)}function one$2(e,o,a){if(o.type==="element")return element$3(e,o,a);if(o.type==="mdxFlowExpression"||o.type==="mdxTextExpression")return mdxExpression(e,o);if(o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement")return mdxJsxElement(e,o,a);if(o.type==="mdxjsEsm")return mdxEsm(e,o);if(o.type==="root")return root$3(e,o,a);if(o.type==="text")return text$7(e,o)}function element$3(e,o,a){const c=e.schema;let d=c;o.tagName.toLowerCase()==="svg"&&c.space==="html"&&(d=svg,e.schema=d),e.ancestors.push(o);const g=findComponentFromName(e,o.tagName,!1),b=createElementProps(e,o);let _=createChildren(e,o);return tableElements.has(o.tagName)&&(_=_.filter(function($){return typeof $=="string"?!whitespace($):!0})),addNode(e,b,g,o),addChildren(b,_),e.ancestors.pop(),e.schema=c,e.create(o,g,b,a)}function mdxExpression(e,o){if(o.data&&o.data.estree&&e.evaluater){const c=o.data.estree.body[0];return c.type,e.evaluater.evaluateExpression(c.expression)}crashEstree(e,o.position)}function mdxEsm(e,o){if(o.data&&o.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(o.data.estree);crashEstree(e,o.position)}function mdxJsxElement(e,o,a){const c=e.schema;let d=c;o.name==="svg"&&c.space==="html"&&(d=svg,e.schema=d),e.ancestors.push(o);const g=o.name===null?e.Fragment:findComponentFromName(e,o.name,!0),b=createJsxElementProps(e,o),_=createChildren(e,o);return addNode(e,b,g,o),addChildren(b,_),e.ancestors.pop(),e.schema=c,e.create(o,g,b,a)}function root$3(e,o,a){const c={};return addChildren(c,createChildren(e,o)),e.create(o,e.Fragment,c,a)}function text$7(e,o){return o.value}function addNode(e,o,a,c){typeof a!="string"&&a!==e.Fragment&&e.passNode&&(o.node=c)}function addChildren(e,o){if(o.length>0){const a=o.length>1?o:o[0];a&&(e.children=a)}}function productionCreate(e,o,a){return c;function c(d,g,b,_){const j=Array.isArray(b.children)?a:o;return _?j(g,b,_):j(g,b)}}function developmentCreate(e,o){return a;function a(c,d,g,b){const _=Array.isArray(g.children),$=pointStart(c);return o(d,g,b,_,{columnNumber:$?$.column-1:void 0,fileName:e,lineNumber:$?$.line:void 0},void 0)}}function createElementProps(e,o){const a={};let c,d;for(d in o.properties)if(d!=="children"&&own$3.call(o.properties,d)){const g=createProperty(e,d,o.properties[d]);if(g){const[b,_]=g;e.tableCellAlignToStyle&&b==="align"&&typeof _=="string"&&tableCellElement.has(o.tagName)?c=_:a[b]=_}}if(c){const g=a.style||(a.style={});g[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=c}return a}function createJsxElementProps(e,o){const a={};for(const c of o.attributes)if(c.type==="mdxJsxExpressionAttribute")if(c.data&&c.data.estree&&e.evaluater){const g=c.data.estree.body[0];g.type;const b=g.expression;b.type;const _=b.properties[0];_.type,Object.assign(a,e.evaluater.evaluateExpression(_.argument))}else crashEstree(e,o.position);else{const d=c.name;let g;if(c.value&&typeof c.value=="object")if(c.value.data&&c.value.data.estree&&e.evaluater){const _=c.value.data.estree.body[0];_.type,g=e.evaluater.evaluateExpression(_.expression)}else crashEstree(e,o.position);else g=c.value===null?!0:c.value;a[d]=g}return a}function createChildren(e,o){const a=[];let c=-1;const d=e.passKeys?new Map:emptyMap;for(;++c<o.children.length;){const g=o.children[c];let b;if(e.passKeys){const $=g.type==="element"?g.tagName:g.type==="mdxJsxFlowElement"||g.type==="mdxJsxTextElement"?g.name:void 0;if($){const j=d.get($)||0;b=$+"-"+j,d.set($,j+1)}}const _=one$2(e,g,b);_!==void 0&&a.push(_)}return a}function createProperty(e,o,a){const c=find(e.schema,o);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=c.commaSeparated?stringify$1(a):stringify(a)),c.property==="style"){let d=typeof a=="object"?a:parseStyle(e,String(a));return e.stylePropertyNameCase==="css"&&(d=transformStylesToCssCasing(d)),["style",d]}return[e.elementAttributeNameCase==="react"&&c.space?hastToReact[c.property]||c.property:c.attribute,a]}}function parseStyle(e,o){try{return styleToJs(o,{reactCompat:!0})}catch(a){if(e.ignoreInvalidStyle)return{};const c=a,d=new VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:c,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw d.file=e.filePath||void 0,d.url=docs+"#cannot-parse-style-attribute",d}}function findComponentFromName(e,o,a){let c;if(!a)c={type:"Literal",value:o};else if(o.includes(".")){const d=o.split(".");let g=-1,b;for(;++g<d.length;){const _=name(d[g])?{type:"Identifier",name:d[g]}:{type:"Literal",value:d[g]};b=b?{type:"MemberExpression",object:b,property:_,computed:!!(g&&_.type==="Literal"),optional:!1}:_}c=b}else c=name(o)&&!/^[a-z]/.test(o)?{type:"Identifier",name:o}:{type:"Literal",value:o};if(c.type==="Literal"){const d=c.value;return own$3.call(e.components,d)?e.components[d]:d}if(e.evaluater)return e.evaluater.evaluateExpression(c);crashEstree(e)}function crashEstree(e,o){const a=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:o,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",a}function transformStylesToCssCasing(e){const o={};let a;for(a in e)own$3.call(e,a)&&(o[transformStyleToCssCasing(a)]=e[a]);return o}function transformStyleToCssCasing(e){let o=e.replace(cap,toDash);return o.slice(0,3)==="ms-"&&(o="-"+o),o}function toDash(e){return"-"+e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$4={};function toString$1(e,o){const a=emptyOptions$4,c=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,d=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return one$1(e,c,d)}function one$1(e,o,a){if(node(e)){if("value"in e)return e.type==="html"&&!a?"":e.value;if(o&&"alt"in e&&e.alt)return e.alt;if("children"in e)return all$1(e.children,o,a)}return Array.isArray(e)?all$1(e,o,a):""}function all$1(e,o,a){const c=[];let d=-1;for(;++d<e.length;)c[d]=one$1(e[d],o,a);return c.join("")}function node(e){return!!(e&&typeof e=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(e){const o="&"+e+";";element$2.innerHTML=o;const a=element$2.textContent;return a.charCodeAt(a.length-1)===59&&e!=="semi"||a===o?!1:a}function splice$1(e,o,a,c){const d=e.length;let g=0,b;if(o<0?o=-o>d?0:d+o:o=o>d?d:o,a=a>0?a:0,c.length<1e4)b=Array.from(c),b.unshift(o,a),e.splice(...b);else for(a&&e.splice(o,a);g<c.length;)b=c.slice(g,g+1e4),b.unshift(o,0),e.splice(...b),g+=1e4,o+=1e4}function push(e,o){return e.length>0?(splice$1(e,e.length,0,o),e):o}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(e){const o={};let a=-1;for(;++a<e.length;)syntaxExtension(o,e[a]);return o}function syntaxExtension(e,o){let a;for(a in o){const d=(hasOwnProperty.call(e,a)?e[a]:void 0)||(e[a]={}),g=o[a];let b;if(g)for(b in g){hasOwnProperty.call(d,b)||(d[b]=[]);const _=g[b];constructs(d[b],Array.isArray(_)?_:_?[_]:[])}}}function constructs(e,o){let a=-1;const c=[];for(;++a<o.length;)(o[a].add==="after"?e:c).push(o[a]);splice$1(e,0,0,c)}function decodeNumericCharacterReference$1(e,o){const a=Number.parseInt(e,o);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"":String.fromCodePoint(a)}function normalizeIdentifier$2(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding$1(e){return e!==null&&e<-2}function markdownLineEndingOrSpace$1(e){return e!==null&&(e<0||e===32)}function markdownSpace$1(e){return e===-2||e===-1||e===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(e){return o;function o(a){return a!==null&&a>-1&&e.test(String.fromCharCode(a))}}function normalizeUri(e){const o=[];let a=-1,c=0,d=0;for(;++a<e.length;){const g=e.charCodeAt(a);let b="";if(g===37&&asciiAlphanumeric(e.charCodeAt(a+1))&&asciiAlphanumeric(e.charCodeAt(a+2)))d=2;else if(g<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(g))||(b=String.fromCharCode(g));else if(g>55295&&g<57344){const _=e.charCodeAt(a+1);g<56320&&_>56319&&_<57344?(b=String.fromCharCode(g,_),d=1):b=""}else b=String.fromCharCode(g);b&&(o.push(e.slice(c,a),encodeURIComponent(b)),c=a+d+1,b=""),d&&(a+=d,d=0)}return o.join("")+e.slice(c)}function factorySpace$1(e,o,a,c){const d=c?c-1:Number.POSITIVE_INFINITY;let g=0;return b;function b($){return markdownSpace$1($)?(e.enter(a),_($)):o($)}function _($){return markdownSpace$1($)&&g++<d?(e.consume($),_):(e.exit(a),o($))}}const content$1={tokenize:initializeContent};function initializeContent(e){const o=e.attempt(this.parser.constructs.contentInitial,c,d);let a;return o;function c(_){if(_===null){e.consume(_);return}return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),factorySpace$1(e,o,"linePrefix")}function d(_){return e.enter("paragraph"),g(_)}function g(_){const $=e.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=$),a=$,b(_)}function b(_){if(_===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(_);return}return markdownLineEnding$1(_)?(e.consume(_),e.exit("chunkText"),g):(e.consume(_),b)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const o=this,a=[];let c=0,d,g,b;return _;function _(Dl){if(c<a.length){const Zl=a[c];return o.containerState=Zl[1],e.attempt(Zl[0].continuation,$,j)(Dl)}return j(Dl)}function $(Dl){if(c++,o.containerState._closeFlow){o.containerState._closeFlow=void 0,d&&Ul();const Zl=o.events.length;let Ju=Zl,Uu;for(;Ju--;)if(o.events[Ju][0]==="exit"&&o.events[Ju][1].type==="chunkFlow"){Uu=o.events[Ju][1].end;break}Yl(c);let fp=Zl;for(;fp<o.events.length;)o.events[fp][1].end={...Uu},fp++;return splice$1(o.events,Ju+1,0,o.events.slice(Zl)),o.events.length=fp,j(Dl)}return _(Dl)}function j(Dl){if(c===a.length){if(!d)return In(Dl);if(d.currentConstruct&&d.currentConstruct.concrete)return Ll(Dl);o.interrupt=!!(d.currentConstruct&&!d._gfmTableDynamicInterruptHack)}return o.containerState={},e.check(containerConstruct,rt,nt)(Dl)}function rt(Dl){return d&&Ul(),Yl(c),In(Dl)}function nt(Dl){return o.parser.lazy[o.now().line]=c!==a.length,b=o.now().offset,Ll(Dl)}function In(Dl){return o.containerState={},e.attempt(containerConstruct,xl,Ll)(Dl)}function xl(Dl){return c++,a.push([o.currentConstruct,o.containerState]),In(Dl)}function Ll(Dl){if(Dl===null){d&&Ul(),Yl(0),e.consume(Dl);return}return d=d||o.parser.flow(o.now()),e.enter("chunkFlow",{_tokenizer:d,contentType:"flow",previous:g}),Nl(Dl)}function Nl(Dl){if(Dl===null){_u(e.exit("chunkFlow"),!0),Yl(0),e.consume(Dl);return}return markdownLineEnding$1(Dl)?(e.consume(Dl),_u(e.exit("chunkFlow")),c=0,o.interrupt=void 0,_):(e.consume(Dl),Nl)}function _u(Dl,Zl){const Ju=o.sliceStream(Dl);if(Zl&&Ju.push(null),Dl.previous=g,g&&(g.next=Dl),g=Dl,d.defineSkip(Dl.start),d.write(Ju),o.parser.lazy[Dl.start.line]){let Uu=d.events.length;for(;Uu--;)if(d.events[Uu][1].start.offset<b&&(!d.events[Uu][1].end||d.events[Uu][1].end.offset>b))return;const fp=o.events.length;let Zu=fp,Lp,Np;for(;Zu--;)if(o.events[Zu][0]==="exit"&&o.events[Zu][1].type==="chunkFlow"){if(Lp){Np=o.events[Zu][1].end;break}Lp=!0}for(Yl(c),Uu=fp;Uu<o.events.length;)o.events[Uu][1].end={...Np},Uu++;splice$1(o.events,Zu+1,0,o.events.slice(fp)),o.events.length=Uu}}function Yl(Dl){let Zl=a.length;for(;Zl-- >Dl;){const Ju=a[Zl];o.containerState=Ju[1],Ju[0].exit.call(o,e)}a.length=Dl}function Ul(){d.write([null]),g=void 0,d=void 0,o.containerState._closeFlow=void 0}}function tokenizeContainer(e,o,a){return factorySpace$1(e,e.attempt(this.parser.constructs.document,o,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace$1(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll$1(e,o,a){const c=[];let d=-1;for(;++d<e.length;){const g=e[d].resolveAll;g&&!c.includes(g)&&(o=g(o,a),c.push(g))}return o}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(e,o){let a=-1,c,d,g,b,_,$,j,rt;for(;++a<e.length;)if(e[a][0]==="enter"&&e[a][1].type==="attentionSequence"&&e[a][1]._close){for(c=a;c--;)if(e[c][0]==="exit"&&e[c][1].type==="attentionSequence"&&e[c][1]._open&&o.sliceSerialize(e[c][1]).charCodeAt(0)===o.sliceSerialize(e[a][1]).charCodeAt(0)){if((e[c][1]._close||e[a][1]._open)&&(e[a][1].end.offset-e[a][1].start.offset)%3&&!((e[c][1].end.offset-e[c][1].start.offset+e[a][1].end.offset-e[a][1].start.offset)%3))continue;$=e[c][1].end.offset-e[c][1].start.offset>1&&e[a][1].end.offset-e[a][1].start.offset>1?2:1;const nt={...e[c][1].end},In={...e[a][1].start};movePoint(nt,-$),movePoint(In,$),b={type:$>1?"strongSequence":"emphasisSequence",start:nt,end:{...e[c][1].end}},_={type:$>1?"strongSequence":"emphasisSequence",start:{...e[a][1].start},end:In},g={type:$>1?"strongText":"emphasisText",start:{...e[c][1].end},end:{...e[a][1].start}},d={type:$>1?"strong":"emphasis",start:{...b.start},end:{..._.end}},e[c][1].end={...b.start},e[a][1].start={..._.end},j=[],e[c][1].end.offset-e[c][1].start.offset&&(j=push(j,[["enter",e[c][1],o],["exit",e[c][1],o]])),j=push(j,[["enter",d,o],["enter",b,o],["exit",b,o],["enter",g,o]]),j=push(j,resolveAll$1(o.parser.constructs.insideSpan.null,e.slice(c+1,a),o)),j=push(j,[["exit",g,o],["enter",_,o],["exit",_,o],["exit",d,o]]),e[a][1].end.offset-e[a][1].start.offset?(rt=2,j=push(j,[["enter",e[a][1],o],["exit",e[a][1],o]])):rt=0,splice$1(e,c-1,a-c+3,j),a=c+j.length-rt-2;break}}for(a=-1;++a<e.length;)e[a][1].type==="attentionSequence"&&(e[a][1].type="data");return e}function tokenizeAttention(e,o){const a=this.parser.constructs.attentionMarkers.null,c=this.previous,d=classifyCharacter(c);let g;return b;function b($){return g=$,e.enter("attentionSequence"),_($)}function _($){if($===g)return e.consume($),_;const j=e.exit("attentionSequence"),rt=classifyCharacter($),nt=!rt||rt===2&&d||a.includes($),In=!d||d===2&&rt||a.includes(c);return j._open=!!(g===42?nt:nt&&(d||!In)),j._close=!!(g===42?In:In&&(rt||!nt)),o($)}}function movePoint(e,o){e.column+=o,e.offset+=o,e._bufferIndex+=o}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,o,a){let c=0;return d;function d(xl){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(xl),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),g}function g(xl){return asciiAlpha(xl)?(e.consume(xl),b):xl===64?a(xl):j(xl)}function b(xl){return xl===43||xl===45||xl===46||asciiAlphanumeric(xl)?(c=1,_(xl)):j(xl)}function _(xl){return xl===58?(e.consume(xl),c=0,$):(xl===43||xl===45||xl===46||asciiAlphanumeric(xl))&&c++<32?(e.consume(xl),_):(c=0,j(xl))}function $(xl){return xl===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(xl),e.exit("autolinkMarker"),e.exit("autolink"),o):xl===null||xl===32||xl===60||asciiControl(xl)?a(xl):(e.consume(xl),$)}function j(xl){return xl===64?(e.consume(xl),rt):asciiAtext(xl)?(e.consume(xl),j):a(xl)}function rt(xl){return asciiAlphanumeric(xl)?nt(xl):a(xl)}function nt(xl){return xl===46?(e.consume(xl),c=0,rt):xl===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(xl),e.exit("autolinkMarker"),e.exit("autolink"),o):In(xl)}function In(xl){if((xl===45||asciiAlphanumeric(xl))&&c++<63){const Ll=xl===45?In:nt;return e.consume(xl),Ll}return a(xl)}}const blankLine$1={partial:!0,tokenize:tokenizeBlankLine$1};function tokenizeBlankLine$1(e,o,a){return c;function c(g){return markdownSpace$1(g)?factorySpace$1(e,d,"linePrefix")(g):d(g)}function d(g){return g===null||markdownLineEnding$1(g)?o(g):a(g)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(e,o,a){const c=this;return d;function d(b){if(b===62){const _=c.containerState;return _.open||(e.enter("blockQuote",{_container:!0}),_.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(b),e.exit("blockQuoteMarker"),g}return a(b)}function g(b){return markdownSpace$1(b)?(e.enter("blockQuotePrefixWhitespace"),e.consume(b),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),o):(e.exit("blockQuotePrefix"),o(b))}}function tokenizeBlockQuoteContinuation(e,o,a){const c=this;return d;function d(b){return markdownSpace$1(b)?factorySpace$1(e,g,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):g(b)}function g(b){return e.attempt(blockQuote,o,a)(b)}}function exit$1(e){e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,o,a){return c;function c(g){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(g),e.exit("escapeMarker"),d}function d(g){return asciiPunctuation(g)?(e.enter("characterEscapeValue"),e.consume(g),e.exit("characterEscapeValue"),e.exit("characterEscape"),o):a(g)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,o,a){const c=this;let d=0,g,b;return _;function _(nt){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(nt),e.exit("characterReferenceMarker"),$}function $(nt){return nt===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(nt),e.exit("characterReferenceMarkerNumeric"),j):(e.enter("characterReferenceValue"),g=31,b=asciiAlphanumeric,rt(nt))}function j(nt){return nt===88||nt===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(nt),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),g=6,b=asciiHexDigit,rt):(e.enter("characterReferenceValue"),g=7,b=asciiDigit,rt(nt))}function rt(nt){if(nt===59&&d){const In=e.exit("characterReferenceValue");return b===asciiAlphanumeric&&!decodeNamedCharacterReference(c.sliceSerialize(In))?a(nt):(e.enter("characterReferenceMarker"),e.consume(nt),e.exit("characterReferenceMarker"),e.exit("characterReference"),o)}return b(nt)&&d++<g?(e.consume(nt),rt):a(nt)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(e,o,a){const c=this,d={partial:!0,tokenize:Ju};let g=0,b=0,_;return $;function $(Uu){return j(Uu)}function j(Uu){const fp=c.events[c.events.length-1];return g=fp&&fp[1].type==="linePrefix"?fp[2].sliceSerialize(fp[1],!0).length:0,_=Uu,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),rt(Uu)}function rt(Uu){return Uu===_?(b++,e.consume(Uu),rt):b<3?a(Uu):(e.exit("codeFencedFenceSequence"),markdownSpace$1(Uu)?factorySpace$1(e,nt,"whitespace")(Uu):nt(Uu))}function nt(Uu){return Uu===null||markdownLineEnding$1(Uu)?(e.exit("codeFencedFence"),c.interrupt?o(Uu):e.check(nonLazyContinuation$1,Nl,Zl)(Uu)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),In(Uu))}function In(Uu){return Uu===null||markdownLineEnding$1(Uu)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),nt(Uu)):markdownSpace$1(Uu)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace$1(e,xl,"whitespace")(Uu)):Uu===96&&Uu===_?a(Uu):(e.consume(Uu),In)}function xl(Uu){return Uu===null||markdownLineEnding$1(Uu)?nt(Uu):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),Ll(Uu))}function Ll(Uu){return Uu===null||markdownLineEnding$1(Uu)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),nt(Uu)):Uu===96&&Uu===_?a(Uu):(e.consume(Uu),Ll)}function Nl(Uu){return e.attempt(d,Zl,_u)(Uu)}function _u(Uu){return e.enter("lineEnding"),e.consume(Uu),e.exit("lineEnding"),Yl}function Yl(Uu){return g>0&&markdownSpace$1(Uu)?factorySpace$1(e,Ul,"linePrefix",g+1)(Uu):Ul(Uu)}function Ul(Uu){return Uu===null||markdownLineEnding$1(Uu)?e.check(nonLazyContinuation$1,Nl,Zl)(Uu):(e.enter("codeFlowValue"),Dl(Uu))}function Dl(Uu){return Uu===null||markdownLineEnding$1(Uu)?(e.exit("codeFlowValue"),Ul(Uu)):(e.consume(Uu),Dl)}function Zl(Uu){return e.exit("codeFenced"),o(Uu)}function Ju(Uu,fp,Zu){let Lp=0;return Np;function Np(s0){return Uu.enter("lineEnding"),Uu.consume(s0),Uu.exit("lineEnding"),zp}function zp(s0){return Uu.enter("codeFencedFence"),markdownSpace$1(s0)?factorySpace$1(Uu,h0,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s0):h0(s0)}function h0(s0){return s0===_?(Uu.enter("codeFencedFenceSequence"),k0(s0)):Zu(s0)}function k0(s0){return s0===_?(Lp++,Uu.consume(s0),k0):Lp>=b?(Uu.exit("codeFencedFenceSequence"),markdownSpace$1(s0)?factorySpace$1(Uu,D0,"whitespace")(s0):D0(s0)):Zu(s0)}function D0(s0){return s0===null||markdownLineEnding$1(s0)?(Uu.exit("codeFencedFence"),fp(s0)):Zu(s0)}}}function tokenizeNonLazyContinuation$1(e,o,a){const c=this;return d;function d(b){return b===null?a(b):(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g)}function g(b){return c.parser.lazy[c.now().line]?a(b):o(b)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(e,o,a){const c=this;return d;function d(j){return e.enter("codeIndented"),factorySpace$1(e,g,"linePrefix",5)(j)}function g(j){const rt=c.events[c.events.length-1];return rt&&rt[1].type==="linePrefix"&&rt[2].sliceSerialize(rt[1],!0).length>=4?b(j):a(j)}function b(j){return j===null?$(j):markdownLineEnding$1(j)?e.attempt(furtherStart,b,$)(j):(e.enter("codeFlowValue"),_(j))}function _(j){return j===null||markdownLineEnding$1(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),_)}function $(j){return e.exit("codeIndented"),o(j)}}function tokenizeFurtherStart(e,o,a){const c=this;return d;function d(b){return c.parser.lazy[c.now().line]?a(b):markdownLineEnding$1(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),d):factorySpace$1(e,g,"linePrefix",5)(b)}function g(b){const _=c.events[c.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?o(b):markdownLineEnding$1(b)?d(b):a(b)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(e){let o=e.length-4,a=3,c,d;if((e[a][1].type==="lineEnding"||e[a][1].type==="space")&&(e[o][1].type==="lineEnding"||e[o][1].type==="space")){for(c=a;++c<o;)if(e[c][1].type==="codeTextData"){e[a][1].type="codeTextPadding",e[o][1].type="codeTextPadding",a+=2,o-=2;break}}for(c=a-1,o++;++c<=o;)d===void 0?c!==o&&e[c][1].type!=="lineEnding"&&(d=c):(c===o||e[c][1].type==="lineEnding")&&(e[d][1].type="codeTextData",c!==d+2&&(e[d][1].end=e[c-1][1].end,e.splice(d+2,c-d-2),o-=c-d-2,c=d+2),d=void 0);return e}function previous$2(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,o,a){let c=0,d,g;return b;function b(nt){return e.enter("codeText"),e.enter("codeTextSequence"),_(nt)}function _(nt){return nt===96?(e.consume(nt),c++,_):(e.exit("codeTextSequence"),$(nt))}function $(nt){return nt===null?a(nt):nt===32?(e.enter("space"),e.consume(nt),e.exit("space"),$):nt===96?(g=e.enter("codeTextSequence"),d=0,rt(nt)):markdownLineEnding$1(nt)?(e.enter("lineEnding"),e.consume(nt),e.exit("lineEnding"),$):(e.enter("codeTextData"),j(nt))}function j(nt){return nt===null||nt===32||nt===96||markdownLineEnding$1(nt)?(e.exit("codeTextData"),$(nt)):(e.consume(nt),j)}function rt(nt){return nt===96?(e.consume(nt),d++,rt):d===c?(e.exit("codeTextSequence"),e.exit("codeText"),o(nt)):(g.type="codeTextData",j(nt))}}class SpliceBuffer{constructor(o){this.left=o?[...o]:[],this.right=[]}get(o){if(o<0||o>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+o+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return o<this.left.length?this.left[o]:this.right[this.right.length-o+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(o,a){const c=a??Number.POSITIVE_INFINITY;return c<this.left.length?this.left.slice(o,c):o>this.left.length?this.right.slice(this.right.length-c+this.left.length,this.right.length-o+this.left.length).reverse():this.left.slice(o).concat(this.right.slice(this.right.length-c+this.left.length).reverse())}splice(o,a,c){const d=a||0;this.setCursor(Math.trunc(o));const g=this.right.splice(this.right.length-d,Number.POSITIVE_INFINITY);return c&&chunkedPush(this.left,c),g.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(o){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(o)}pushMany(o){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,o)}unshift(o){this.setCursor(0),this.right.push(o)}unshiftMany(o){this.setCursor(0),chunkedPush(this.right,o.reverse())}setCursor(o){if(!(o===this.left.length||o>this.left.length&&this.right.length===0||o<0&&this.left.length===0))if(o<this.left.length){const a=this.left.splice(o,Number.POSITIVE_INFINITY);chunkedPush(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-o,Number.POSITIVE_INFINITY);chunkedPush(this.left,a.reverse())}}}function chunkedPush(e,o){let a=0;if(o.length<1e4)e.push(...o);else for(;a<o.length;)e.push(...o.slice(a,a+1e4)),a+=1e4}function subtokenize(e){const o={};let a=-1,c,d,g,b,_,$,j;const rt=new SpliceBuffer(e);for(;++a<rt.length;){for(;a in o;)a=o[a];if(c=rt.get(a),a&&c[1].type==="chunkFlow"&&rt.get(a-1)[1].type==="listItemPrefix"&&($=c[1]._tokenizer.events,g=0,g<$.length&&$[g][1].type==="lineEndingBlank"&&(g+=2),g<$.length&&$[g][1].type==="content"))for(;++g<$.length&&$[g][1].type!=="content";)$[g][1].type==="chunkText"&&($[g][1]._isInFirstContentOfListItem=!0,g++);if(c[0]==="enter")c[1].contentType&&(Object.assign(o,subcontent(rt,a)),a=o[a],j=!0);else if(c[1]._container){for(g=a,d=void 0;g--;)if(b=rt.get(g),b[1].type==="lineEnding"||b[1].type==="lineEndingBlank")b[0]==="enter"&&(d&&(rt.get(d)[1].type="lineEndingBlank"),b[1].type="lineEnding",d=g);else if(!(b[1].type==="linePrefix"||b[1].type==="listItemIndent"))break;d&&(c[1].end={...rt.get(d)[1].start},_=rt.slice(d,a),_.unshift(c),rt.splice(d,a-d+1,_))}}return splice$1(e,0,Number.POSITIVE_INFINITY,rt.slice(0)),!j}function subcontent(e,o){const a=e.get(o)[1],c=e.get(o)[2];let d=o-1;const g=[];let b=a._tokenizer;b||(b=c.parser[a.contentType](a.start),a._contentTypeTextTrailing&&(b._contentTypeTextTrailing=!0));const _=b.events,$=[],j={};let rt,nt,In=-1,xl=a,Ll=0,Nl=0;const _u=[Nl];for(;xl;){for(;e.get(++d)[1]!==xl;);g.push(d),xl._tokenizer||(rt=c.sliceStream(xl),xl.next||rt.push(null),nt&&b.defineSkip(xl.start),xl._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=!0),b.write(rt),xl._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=void 0)),nt=xl,xl=xl.next}for(xl=a;++In<_.length;)_[In][0]==="exit"&&_[In-1][0]==="enter"&&_[In][1].type===_[In-1][1].type&&_[In][1].start.line!==_[In][1].end.line&&(Nl=In+1,_u.push(Nl),xl._tokenizer=void 0,xl.previous=void 0,xl=xl.next);for(b.events=[],xl?(xl._tokenizer=void 0,xl.previous=void 0):_u.pop(),In=_u.length;In--;){const Yl=_.slice(_u[In],_u[In+1]),Ul=g.pop();$.push([Ul,Ul+Yl.length-1]),e.splice(Ul,2,Yl)}for($.reverse(),In=-1;++In<$.length;)j[Ll+$[In][0]]=Ll+$[In][1],Ll+=$[In][1]-$[In][0]-1;return j}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,o){let a;return c;function c(_){return e.enter("content"),a=e.enter("chunkContent",{contentType:"content"}),d(_)}function d(_){return _===null?g(_):markdownLineEnding$1(_)?e.check(continuationConstruct,b,g)(_):(e.consume(_),d)}function g(_){return e.exit("chunkContent"),e.exit("content"),o(_)}function b(_){return e.consume(_),e.exit("chunkContent"),a.next=e.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,d}}function tokenizeContinuation(e,o,a){const c=this;return d;function d(b){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),factorySpace$1(e,g,"linePrefix")}function g(b){if(b===null||markdownLineEnding$1(b))return a(b);const _=c.events[c.events.length-1];return!c.parser.constructs.disable.null.includes("codeIndented")&&_&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?o(b):e.interrupt(c.parser.constructs.flow,a,o)(b)}}function factoryDestination(e,o,a,c,d,g,b,_,$){const j=$||Number.POSITIVE_INFINITY;let rt=0;return nt;function nt(Yl){return Yl===60?(e.enter(c),e.enter(d),e.enter(g),e.consume(Yl),e.exit(g),In):Yl===null||Yl===32||Yl===41||asciiControl(Yl)?a(Yl):(e.enter(c),e.enter(b),e.enter(_),e.enter("chunkString",{contentType:"string"}),Nl(Yl))}function In(Yl){return Yl===62?(e.enter(g),e.consume(Yl),e.exit(g),e.exit(d),e.exit(c),o):(e.enter(_),e.enter("chunkString",{contentType:"string"}),xl(Yl))}function xl(Yl){return Yl===62?(e.exit("chunkString"),e.exit(_),In(Yl)):Yl===null||Yl===60||markdownLineEnding$1(Yl)?a(Yl):(e.consume(Yl),Yl===92?Ll:xl)}function Ll(Yl){return Yl===60||Yl===62||Yl===92?(e.consume(Yl),xl):xl(Yl)}function Nl(Yl){return!rt&&(Yl===null||Yl===41||markdownLineEndingOrSpace$1(Yl))?(e.exit("chunkString"),e.exit(_),e.exit(b),e.exit(c),o(Yl)):rt<j&&Yl===40?(e.consume(Yl),rt++,Nl):Yl===41?(e.consume(Yl),rt--,Nl):Yl===null||Yl===32||Yl===40||asciiControl(Yl)?a(Yl):(e.consume(Yl),Yl===92?_u:Nl)}function _u(Yl){return Yl===40||Yl===41||Yl===92?(e.consume(Yl),Nl):Nl(Yl)}}function factoryLabel(e,o,a,c,d,g){const b=this;let _=0,$;return j;function j(xl){return e.enter(c),e.enter(d),e.consume(xl),e.exit(d),e.enter(g),rt}function rt(xl){return _>999||xl===null||xl===91||xl===93&&!$||xl===94&&!_&&"_hiddenFootnoteSupport"in b.parser.constructs?a(xl):xl===93?(e.exit(g),e.enter(d),e.consume(xl),e.exit(d),e.exit(c),o):markdownLineEnding$1(xl)?(e.enter("lineEnding"),e.consume(xl),e.exit("lineEnding"),rt):(e.enter("chunkString",{contentType:"string"}),nt(xl))}function nt(xl){return xl===null||xl===91||xl===93||markdownLineEnding$1(xl)||_++>999?(e.exit("chunkString"),rt(xl)):(e.consume(xl),$||($=!markdownSpace$1(xl)),xl===92?In:nt)}function In(xl){return xl===91||xl===92||xl===93?(e.consume(xl),_++,nt):nt(xl)}}function factoryTitle(e,o,a,c,d,g){let b;return _;function _(In){return In===34||In===39||In===40?(e.enter(c),e.enter(d),e.consume(In),e.exit(d),b=In===40?41:In,$):a(In)}function $(In){return In===b?(e.enter(d),e.consume(In),e.exit(d),e.exit(c),o):(e.enter(g),j(In))}function j(In){return In===b?(e.exit(g),$(b)):In===null?a(In):markdownLineEnding$1(In)?(e.enter("lineEnding"),e.consume(In),e.exit("lineEnding"),factorySpace$1(e,j,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),rt(In))}function rt(In){return In===b||In===null||markdownLineEnding$1(In)?(e.exit("chunkString"),j(In)):(e.consume(In),In===92?nt:rt)}function nt(In){return In===b||In===92?(e.consume(In),rt):rt(In)}}function factoryWhitespace(e,o){let a;return c;function c(d){return markdownLineEnding$1(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a=!0,c):markdownSpace$1(d)?factorySpace$1(e,c,a?"linePrefix":"lineSuffix")(d):o(d)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(e,o,a){const c=this;let d;return g;function g(xl){return e.enter("definition"),b(xl)}function b(xl){return factoryLabel.call(c,e,_,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(xl)}function _(xl){return d=normalizeIdentifier$2(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)),xl===58?(e.enter("definitionMarker"),e.consume(xl),e.exit("definitionMarker"),$):a(xl)}function $(xl){return markdownLineEndingOrSpace$1(xl)?factoryWhitespace(e,j)(xl):j(xl)}function j(xl){return factoryDestination(e,rt,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(xl)}function rt(xl){return e.attempt(titleBefore,nt,nt)(xl)}function nt(xl){return markdownSpace$1(xl)?factorySpace$1(e,In,"whitespace")(xl):In(xl)}function In(xl){return xl===null||markdownLineEnding$1(xl)?(e.exit("definition"),c.parser.defined.push(d),o(xl)):a(xl)}}function tokenizeTitleBefore(e,o,a){return c;function c(_){return markdownLineEndingOrSpace$1(_)?factoryWhitespace(e,d)(_):a(_)}function d(_){return factoryTitle(e,g,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(_)}function g(_){return markdownSpace$1(_)?factorySpace$1(e,b,"whitespace")(_):b(_)}function b(_){return _===null||markdownLineEnding$1(_)?o(_):a(_)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,o,a){return c;function c(g){return e.enter("hardBreakEscape"),e.consume(g),d}function d(g){return markdownLineEnding$1(g)?(e.exit("hardBreakEscape"),o(g)):a(g)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(e,o){let a=e.length-2,c=3,d,g;return e[c][1].type==="whitespace"&&(c+=2),a-2>c&&e[a][1].type==="whitespace"&&(a-=2),e[a][1].type==="atxHeadingSequence"&&(c===a-1||a-4>c&&e[a-2][1].type==="whitespace")&&(a-=c+1===a?2:4),a>c&&(d={type:"atxHeadingText",start:e[c][1].start,end:e[a][1].end},g={type:"chunkText",start:e[c][1].start,end:e[a][1].end,contentType:"text"},splice$1(e,c,a-c+1,[["enter",d,o],["enter",g,o],["exit",g,o],["exit",d,o]])),e}function tokenizeHeadingAtx(e,o,a){let c=0;return d;function d(rt){return e.enter("atxHeading"),g(rt)}function g(rt){return e.enter("atxHeadingSequence"),b(rt)}function b(rt){return rt===35&&c++<6?(e.consume(rt),b):rt===null||markdownLineEndingOrSpace$1(rt)?(e.exit("atxHeadingSequence"),_(rt)):a(rt)}function _(rt){return rt===35?(e.enter("atxHeadingSequence"),$(rt)):rt===null||markdownLineEnding$1(rt)?(e.exit("atxHeading"),o(rt)):markdownSpace$1(rt)?factorySpace$1(e,_,"whitespace")(rt):(e.enter("atxHeadingText"),j(rt))}function $(rt){return rt===35?(e.consume(rt),$):(e.exit("atxHeadingSequence"),_(rt))}function j(rt){return rt===null||rt===35||markdownLineEndingOrSpace$1(rt)?(e.exit("atxHeadingText"),_(rt)):(e.consume(rt),j)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(e){let o=e.length;for(;o--&&!(e[o][0]==="enter"&&e[o][1].type==="htmlFlow"););return o>1&&e[o-2][1].type==="linePrefix"&&(e[o][1].start=e[o-2][1].start,e[o+1][1].start=e[o-2][1].start,e.splice(o-2,2)),e}function tokenizeHtmlFlow(e,o,a){const c=this;let d,g,b,_,$;return j;function j(g0){return rt(g0)}function rt(g0){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g0),nt}function nt(g0){return g0===33?(e.consume(g0),In):g0===47?(e.consume(g0),g=!0,Nl):g0===63?(e.consume(g0),d=3,c.interrupt?o:Wp):asciiAlpha(g0)?(e.consume(g0),b=String.fromCharCode(g0),_u):a(g0)}function In(g0){return g0===45?(e.consume(g0),d=2,xl):g0===91?(e.consume(g0),d=5,_=0,Ll):asciiAlpha(g0)?(e.consume(g0),d=4,c.interrupt?o:Wp):a(g0)}function xl(g0){return g0===45?(e.consume(g0),c.interrupt?o:Wp):a(g0)}function Ll(g0){const e0="CDATA[";return g0===e0.charCodeAt(_++)?(e.consume(g0),_===e0.length?c.interrupt?o:h0:Ll):a(g0)}function Nl(g0){return asciiAlpha(g0)?(e.consume(g0),b=String.fromCharCode(g0),_u):a(g0)}function _u(g0){if(g0===null||g0===47||g0===62||markdownLineEndingOrSpace$1(g0)){const e0=g0===47,V0=b.toLowerCase();return!e0&&!g&&htmlRawNames.includes(V0)?(d=1,c.interrupt?o(g0):h0(g0)):htmlBlockNames.includes(b.toLowerCase())?(d=6,e0?(e.consume(g0),Yl):c.interrupt?o(g0):h0(g0)):(d=7,c.interrupt&&!c.parser.lazy[c.now().line]?a(g0):g?Ul(g0):Dl(g0))}return g0===45||asciiAlphanumeric(g0)?(e.consume(g0),b+=String.fromCharCode(g0),_u):a(g0)}function Yl(g0){return g0===62?(e.consume(g0),c.interrupt?o:h0):a(g0)}function Ul(g0){return markdownSpace$1(g0)?(e.consume(g0),Ul):Np(g0)}function Dl(g0){return g0===47?(e.consume(g0),Np):g0===58||g0===95||asciiAlpha(g0)?(e.consume(g0),Zl):markdownSpace$1(g0)?(e.consume(g0),Dl):Np(g0)}function Zl(g0){return g0===45||g0===46||g0===58||g0===95||asciiAlphanumeric(g0)?(e.consume(g0),Zl):Ju(g0)}function Ju(g0){return g0===61?(e.consume(g0),Uu):markdownSpace$1(g0)?(e.consume(g0),Ju):Dl(g0)}function Uu(g0){return g0===null||g0===60||g0===61||g0===62||g0===96?a(g0):g0===34||g0===39?(e.consume(g0),$=g0,fp):markdownSpace$1(g0)?(e.consume(g0),Uu):Zu(g0)}function fp(g0){return g0===$?(e.consume(g0),$=null,Lp):g0===null||markdownLineEnding$1(g0)?a(g0):(e.consume(g0),fp)}function Zu(g0){return g0===null||g0===34||g0===39||g0===47||g0===60||g0===61||g0===62||g0===96||markdownLineEndingOrSpace$1(g0)?Ju(g0):(e.consume(g0),Zu)}function Lp(g0){return g0===47||g0===62||markdownSpace$1(g0)?Dl(g0):a(g0)}function Np(g0){return g0===62?(e.consume(g0),zp):a(g0)}function zp(g0){return g0===null||markdownLineEnding$1(g0)?h0(g0):markdownSpace$1(g0)?(e.consume(g0),zp):a(g0)}function h0(g0){return g0===45&&d===2?(e.consume(g0),dp):g0===60&&d===1?(e.consume(g0),S0):g0===62&&d===4?(e.consume(g0),mm):g0===63&&d===3?(e.consume(g0),Wp):g0===93&&d===5?(e.consume(g0),Op):markdownLineEnding$1(g0)&&(d===6||d===7)?(e.exit("htmlFlowData"),e.check(blankLineBefore,fm,k0)(g0)):g0===null||markdownLineEnding$1(g0)?(e.exit("htmlFlowData"),k0(g0)):(e.consume(g0),h0)}function k0(g0){return e.check(nonLazyContinuationStart,D0,fm)(g0)}function D0(g0){return e.enter("lineEnding"),e.consume(g0),e.exit("lineEnding"),s0}function s0(g0){return g0===null||markdownLineEnding$1(g0)?k0(g0):(e.enter("htmlFlowData"),h0(g0))}function dp(g0){return g0===45?(e.consume(g0),Wp):h0(g0)}function S0(g0){return g0===47?(e.consume(g0),b="",l0):h0(g0)}function l0(g0){if(g0===62){const e0=b.toLowerCase();return htmlRawNames.includes(e0)?(e.consume(g0),mm):h0(g0)}return asciiAlpha(g0)&&b.length<8?(e.consume(g0),b+=String.fromCharCode(g0),l0):h0(g0)}function Op(g0){return g0===93?(e.consume(g0),Wp):h0(g0)}function Wp(g0){return g0===62?(e.consume(g0),mm):g0===45&&d===2?(e.consume(g0),Wp):h0(g0)}function mm(g0){return g0===null||markdownLineEnding$1(g0)?(e.exit("htmlFlowData"),fm(g0)):(e.consume(g0),mm)}function fm(g0){return e.exit("htmlFlow"),o(g0)}}function tokenizeNonLazyContinuationStart(e,o,a){const c=this;return d;function d(b){return markdownLineEnding$1(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g):a(b)}function g(b){return c.parser.lazy[c.now().line]?a(b):o(b)}}function tokenizeBlankLineBefore(e,o,a){return c;function c(d){return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),e.attempt(blankLine$1,o,a)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,o,a){const c=this;let d,g,b;return _;function _(Wp){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(Wp),$}function $(Wp){return Wp===33?(e.consume(Wp),j):Wp===47?(e.consume(Wp),Ju):Wp===63?(e.consume(Wp),Dl):asciiAlpha(Wp)?(e.consume(Wp),Zu):a(Wp)}function j(Wp){return Wp===45?(e.consume(Wp),rt):Wp===91?(e.consume(Wp),g=0,Ll):asciiAlpha(Wp)?(e.consume(Wp),Ul):a(Wp)}function rt(Wp){return Wp===45?(e.consume(Wp),xl):a(Wp)}function nt(Wp){return Wp===null?a(Wp):Wp===45?(e.consume(Wp),In):markdownLineEnding$1(Wp)?(b=nt,S0(Wp)):(e.consume(Wp),nt)}function In(Wp){return Wp===45?(e.consume(Wp),xl):nt(Wp)}function xl(Wp){return Wp===62?dp(Wp):Wp===45?In(Wp):nt(Wp)}function Ll(Wp){const mm="CDATA[";return Wp===mm.charCodeAt(g++)?(e.consume(Wp),g===mm.length?Nl:Ll):a(Wp)}function Nl(Wp){return Wp===null?a(Wp):Wp===93?(e.consume(Wp),_u):markdownLineEnding$1(Wp)?(b=Nl,S0(Wp)):(e.consume(Wp),Nl)}function _u(Wp){return Wp===93?(e.consume(Wp),Yl):Nl(Wp)}function Yl(Wp){return Wp===62?dp(Wp):Wp===93?(e.consume(Wp),Yl):Nl(Wp)}function Ul(Wp){return Wp===null||Wp===62?dp(Wp):markdownLineEnding$1(Wp)?(b=Ul,S0(Wp)):(e.consume(Wp),Ul)}function Dl(Wp){return Wp===null?a(Wp):Wp===63?(e.consume(Wp),Zl):markdownLineEnding$1(Wp)?(b=Dl,S0(Wp)):(e.consume(Wp),Dl)}function Zl(Wp){return Wp===62?dp(Wp):Dl(Wp)}function Ju(Wp){return asciiAlpha(Wp)?(e.consume(Wp),Uu):a(Wp)}function Uu(Wp){return Wp===45||asciiAlphanumeric(Wp)?(e.consume(Wp),Uu):fp(Wp)}function fp(Wp){return markdownLineEnding$1(Wp)?(b=fp,S0(Wp)):markdownSpace$1(Wp)?(e.consume(Wp),fp):dp(Wp)}function Zu(Wp){return Wp===45||asciiAlphanumeric(Wp)?(e.consume(Wp),Zu):Wp===47||Wp===62||markdownLineEndingOrSpace$1(Wp)?Lp(Wp):a(Wp)}function Lp(Wp){return Wp===47?(e.consume(Wp),dp):Wp===58||Wp===95||asciiAlpha(Wp)?(e.consume(Wp),Np):markdownLineEnding$1(Wp)?(b=Lp,S0(Wp)):markdownSpace$1(Wp)?(e.consume(Wp),Lp):dp(Wp)}function Np(Wp){return Wp===45||Wp===46||Wp===58||Wp===95||asciiAlphanumeric(Wp)?(e.consume(Wp),Np):zp(Wp)}function zp(Wp){return Wp===61?(e.consume(Wp),h0):markdownLineEnding$1(Wp)?(b=zp,S0(Wp)):markdownSpace$1(Wp)?(e.consume(Wp),zp):Lp(Wp)}function h0(Wp){return Wp===null||Wp===60||Wp===61||Wp===62||Wp===96?a(Wp):Wp===34||Wp===39?(e.consume(Wp),d=Wp,k0):markdownLineEnding$1(Wp)?(b=h0,S0(Wp)):markdownSpace$1(Wp)?(e.consume(Wp),h0):(e.consume(Wp),D0)}function k0(Wp){return Wp===d?(e.consume(Wp),d=void 0,s0):Wp===null?a(Wp):markdownLineEnding$1(Wp)?(b=k0,S0(Wp)):(e.consume(Wp),k0)}function D0(Wp){return Wp===null||Wp===34||Wp===39||Wp===60||Wp===61||Wp===96?a(Wp):Wp===47||Wp===62||markdownLineEndingOrSpace$1(Wp)?Lp(Wp):(e.consume(Wp),D0)}function s0(Wp){return Wp===47||Wp===62||markdownLineEndingOrSpace$1(Wp)?Lp(Wp):a(Wp)}function dp(Wp){return Wp===62?(e.consume(Wp),e.exit("htmlTextData"),e.exit("htmlText"),o):a(Wp)}function S0(Wp){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(Wp),e.exit("lineEnding"),l0}function l0(Wp){return markdownSpace$1(Wp)?factorySpace$1(e,Op,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Wp):Op(Wp)}function Op(Wp){return e.enter("htmlTextData"),b(Wp)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(e){let o=-1;const a=[];for(;++o<e.length;){const c=e[o][1];if(a.push(e[o]),c.type==="labelImage"||c.type==="labelLink"||c.type==="labelEnd"){const d=c.type==="labelImage"?4:2;c.type="data",o+=d}}return e.length!==a.length&&splice$1(e,0,e.length,a),e}function resolveToLabelEnd(e,o){let a=e.length,c=0,d,g,b,_;for(;a--;)if(d=e[a][1],g){if(d.type==="link"||d.type==="labelLink"&&d._inactive)break;e[a][0]==="enter"&&d.type==="labelLink"&&(d._inactive=!0)}else if(b){if(e[a][0]==="enter"&&(d.type==="labelImage"||d.type==="labelLink")&&!d._balanced&&(g=a,d.type!=="labelLink")){c=2;break}}else d.type==="labelEnd"&&(b=a);const $={type:e[g][1].type==="labelLink"?"link":"image",start:{...e[g][1].start},end:{...e[e.length-1][1].end}},j={type:"label",start:{...e[g][1].start},end:{...e[b][1].end}},rt={type:"labelText",start:{...e[g+c+2][1].end},end:{...e[b-2][1].start}};return _=[["enter",$,o],["enter",j,o]],_=push(_,e.slice(g+1,g+c+3)),_=push(_,[["enter",rt,o]]),_=push(_,resolveAll$1(o.parser.constructs.insideSpan.null,e.slice(g+c+4,b-3),o)),_=push(_,[["exit",rt,o],e[b-2],e[b-1],["exit",j,o]]),_=push(_,e.slice(b+1)),_=push(_,[["exit",$,o]]),splice$1(e,g,e.length,_),e}function tokenizeLabelEnd(e,o,a){const c=this;let d=c.events.length,g,b;for(;d--;)if((c.events[d][1].type==="labelImage"||c.events[d][1].type==="labelLink")&&!c.events[d][1]._balanced){g=c.events[d][1];break}return _;function _(In){return g?g._inactive?nt(In):(b=c.parser.defined.includes(normalizeIdentifier$2(c.sliceSerialize({start:g.end,end:c.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(In),e.exit("labelMarker"),e.exit("labelEnd"),$):a(In)}function $(In){return In===40?e.attempt(resourceConstruct,rt,b?rt:nt)(In):In===91?e.attempt(referenceFullConstruct,rt,b?j:nt)(In):b?rt(In):nt(In)}function j(In){return e.attempt(referenceCollapsedConstruct,rt,nt)(In)}function rt(In){return o(In)}function nt(In){return g._balanced=!0,a(In)}}function tokenizeResource(e,o,a){return c;function c(nt){return e.enter("resource"),e.enter("resourceMarker"),e.consume(nt),e.exit("resourceMarker"),d}function d(nt){return markdownLineEndingOrSpace$1(nt)?factoryWhitespace(e,g)(nt):g(nt)}function g(nt){return nt===41?rt(nt):factoryDestination(e,b,_,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(nt)}function b(nt){return markdownLineEndingOrSpace$1(nt)?factoryWhitespace(e,$)(nt):rt(nt)}function _(nt){return a(nt)}function $(nt){return nt===34||nt===39||nt===40?factoryTitle(e,j,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(nt):rt(nt)}function j(nt){return markdownLineEndingOrSpace$1(nt)?factoryWhitespace(e,rt)(nt):rt(nt)}function rt(nt){return nt===41?(e.enter("resourceMarker"),e.consume(nt),e.exit("resourceMarker"),e.exit("resource"),o):a(nt)}}function tokenizeReferenceFull(e,o,a){const c=this;return d;function d(_){return factoryLabel.call(c,e,g,b,"reference","referenceMarker","referenceString")(_)}function g(_){return c.parser.defined.includes(normalizeIdentifier$2(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)))?o(_):a(_)}function b(_){return a(_)}}function tokenizeReferenceCollapsed(e,o,a){return c;function c(g){return e.enter("reference"),e.enter("referenceMarker"),e.consume(g),e.exit("referenceMarker"),d}function d(g){return g===93?(e.enter("referenceMarker"),e.consume(g),e.exit("referenceMarker"),e.exit("reference"),o):a(g)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(e,o,a){const c=this;return d;function d(_){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(_),e.exit("labelImageMarker"),g}function g(_){return _===91?(e.enter("labelMarker"),e.consume(_),e.exit("labelMarker"),e.exit("labelImage"),b):a(_)}function b(_){return _===94&&"_hiddenFootnoteSupport"in c.parser.constructs?a(_):o(_)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(e,o,a){const c=this;return d;function d(b){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelLink"),g}function g(b){return b===94&&"_hiddenFootnoteSupport"in c.parser.constructs?a(b):o(b)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,o){return a;function a(c){return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),factorySpace$1(e,o,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,o,a){let c=0,d;return g;function g(j){return e.enter("thematicBreak"),b(j)}function b(j){return d=j,_(j)}function _(j){return j===d?(e.enter("thematicBreakSequence"),$(j)):c>=3&&(j===null||markdownLineEnding$1(j))?(e.exit("thematicBreak"),o(j)):a(j)}function $(j){return j===d?(e.consume(j),c++,$):(e.exit("thematicBreakSequence"),markdownSpace$1(j)?factorySpace$1(e,_,"whitespace")(j):_(j))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$2};function tokenizeListStart(e,o,a){const c=this,d=c.events[c.events.length-1];let g=d&&d[1].type==="linePrefix"?d[2].sliceSerialize(d[1],!0).length:0,b=0;return _;function _(xl){const Ll=c.containerState.type||(xl===42||xl===43||xl===45?"listUnordered":"listOrdered");if(Ll==="listUnordered"?!c.containerState.marker||xl===c.containerState.marker:asciiDigit(xl)){if(c.containerState.type||(c.containerState.type=Ll,e.enter(Ll,{_container:!0})),Ll==="listUnordered")return e.enter("listItemPrefix"),xl===42||xl===45?e.check(thematicBreak$2,a,j)(xl):j(xl);if(!c.interrupt||xl===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),$(xl)}return a(xl)}function $(xl){return asciiDigit(xl)&&++b<10?(e.consume(xl),$):(!c.interrupt||b<2)&&(c.containerState.marker?xl===c.containerState.marker:xl===41||xl===46)?(e.exit("listItemValue"),j(xl)):a(xl)}function j(xl){return e.enter("listItemMarker"),e.consume(xl),e.exit("listItemMarker"),c.containerState.marker=c.containerState.marker||xl,e.check(blankLine$1,c.interrupt?a:rt,e.attempt(listItemPrefixWhitespaceConstruct,In,nt))}function rt(xl){return c.containerState.initialBlankLine=!0,g++,In(xl)}function nt(xl){return markdownSpace$1(xl)?(e.enter("listItemPrefixWhitespace"),e.consume(xl),e.exit("listItemPrefixWhitespace"),In):a(xl)}function In(xl){return c.containerState.size=g+c.sliceSerialize(e.exit("listItemPrefix"),!0).length,o(xl)}}function tokenizeListContinuation(e,o,a){const c=this;return c.containerState._closeFlow=void 0,e.check(blankLine$1,d,g);function d(_){return c.containerState.furtherBlankLines=c.containerState.furtherBlankLines||c.containerState.initialBlankLine,factorySpace$1(e,o,"listItemIndent",c.containerState.size+1)(_)}function g(_){return c.containerState.furtherBlankLines||!markdownSpace$1(_)?(c.containerState.furtherBlankLines=void 0,c.containerState.initialBlankLine=void 0,b(_)):(c.containerState.furtherBlankLines=void 0,c.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,o,b)(_))}function b(_){return c.containerState._closeFlow=!0,c.interrupt=void 0,factorySpace$1(e,e.attempt(list$2,o,a),"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_)}}function tokenizeIndent$2(e,o,a){const c=this;return factorySpace$1(e,d,"listItemIndent",c.containerState.size+1);function d(g){const b=c.events[c.events.length-1];return b&&b[1].type==="listItemIndent"&&b[2].sliceSerialize(b[1],!0).length===c.containerState.size?o(g):a(g)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,o,a){const c=this;return factorySpace$1(e,d,"listItemPrefixWhitespace",c.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function d(g){const b=c.events[c.events.length-1];return!markdownSpace$1(g)&&b&&b[1].type==="listItemPrefixWhitespace"?o(g):a(g)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(e,o){let a=e.length,c,d,g;for(;a--;)if(e[a][0]==="enter"){if(e[a][1].type==="content"){c=a;break}e[a][1].type==="paragraph"&&(d=a)}else e[a][1].type==="content"&&e.splice(a,1),!g&&e[a][1].type==="definition"&&(g=a);const b={type:"setextHeading",start:{...e[c][1].start},end:{...e[e.length-1][1].end}};return e[d][1].type="setextHeadingText",g?(e.splice(d,0,["enter",b,o]),e.splice(g+1,0,["exit",e[c][1],o]),e[c][1].end={...e[g][1].end}):e[c][1]=b,e.push(["exit",b,o]),e}function tokenizeSetextUnderline(e,o,a){const c=this;let d;return g;function g(j){let rt=c.events.length,nt;for(;rt--;)if(c.events[rt][1].type!=="lineEnding"&&c.events[rt][1].type!=="linePrefix"&&c.events[rt][1].type!=="content"){nt=c.events[rt][1].type==="paragraph";break}return!c.parser.lazy[c.now().line]&&(c.interrupt||nt)?(e.enter("setextHeadingLine"),d=j,b(j)):a(j)}function b(j){return e.enter("setextHeadingLineSequence"),_(j)}function _(j){return j===d?(e.consume(j),_):(e.exit("setextHeadingLineSequence"),markdownSpace$1(j)?factorySpace$1(e,$,"lineSuffix")(j):$(j))}function $(j){return j===null||markdownLineEnding$1(j)?(e.exit("setextHeadingLine"),o(j)):a(j)}}const flow$1={tokenize:initializeFlow};function initializeFlow(e){const o=this,a=e.attempt(blankLine$1,c,e.attempt(this.parser.constructs.flowInitial,d,factorySpace$1(e,e.attempt(this.parser.constructs.flow,d,e.attempt(content,d)),"linePrefix")));return a;function c(g){if(g===null){e.consume(g);return}return e.enter("lineEndingBlank"),e.consume(g),e.exit("lineEndingBlank"),o.currentConstruct=void 0,a}function d(g){if(g===null){e.consume(g);return}return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),o.currentConstruct=void 0,a}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$6=initializeFactory("text");function initializeFactory(e){return{resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0),tokenize:o};function o(a){const c=this,d=this.parser.constructs[e],g=a.attempt(d,b,_);return b;function b(rt){return j(rt)?g(rt):_(rt)}function _(rt){if(rt===null){a.consume(rt);return}return a.enter("data"),a.consume(rt),$}function $(rt){return j(rt)?(a.exit("data"),g(rt)):(a.consume(rt),$)}function j(rt){if(rt===null)return!0;const nt=d[rt];let In=-1;if(nt)for(;++In<nt.length;){const xl=nt[In];if(!xl.previous||xl.previous.call(c,c.previous))return!0}return!1}}}function createResolver(e){return o;function o(a,c){let d=-1,g;for(;++d<=a.length;)g===void 0?a[d]&&a[d][1].type==="data"&&(g=d,d++):(!a[d]||a[d][1].type!=="data")&&(d!==g+2&&(a[g][1].end=a[d-1][1].end,a.splice(g+2,d-g-2),d=g+2),g=void 0);return e?e(a,c):a}}function resolveAllLineSuffixes(e,o){let a=0;for(;++a<=e.length;)if((a===e.length||e[a][1].type==="lineEnding")&&e[a-1][1].type==="data"){const c=e[a-1][1],d=o.sliceStream(c);let g=d.length,b=-1,_=0,$;for(;g--;){const j=d[g];if(typeof j=="string"){for(b=j.length;j.charCodeAt(b-1)===32;)_++,b--;if(b)break;b=-1}else if(j===-2)$=!0,_++;else if(j!==-1){g++;break}}if(o._contentTypeTextTrailing&&a===e.length&&(_=0),_){const j={type:a===e.length||$||_<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:g?b:c.start._bufferIndex+b,_index:c.start._index+g,line:c.end.line,column:c.end.column-_,offset:c.end.offset-_},end:{...c.end}};c.end={...j.start},c.start.offset===c.end.offset?Object.assign(c,j):(e.splice(a,0,["enter",j,o],["exit",j,o]),a+=2)}a++}return e}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$5={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$5},Symbol.toStringTag,{value:"Module"}));function createTokenizer(e,o,a){let c={_bufferIndex:-1,_index:0,line:a&&a.line||1,column:a&&a.column||1,offset:a&&a.offset||0};const d={},g=[];let b=[],_=[];const $={attempt:fp(Ju),check:fp(Uu),consume:Ul,enter:Dl,exit:Zl,interrupt:fp(Uu,{interrupt:!0})},j={code:null,containerState:{},defineSkip:Nl,events:[],now:Ll,parser:e,previous:null,sliceSerialize:In,sliceStream:xl,write:nt};let rt=o.tokenize.call(j,$);return o.resolveAll&&g.push(o),j;function nt(zp){return b=push(b,zp),_u(),b[b.length-1]!==null?[]:(Zu(o,0),j.events=resolveAll$1(g,j.events,j),j.events)}function In(zp,h0){return serializeChunks(xl(zp),h0)}function xl(zp){return sliceChunks(b,zp)}function Ll(){const{_bufferIndex:zp,_index:h0,line:k0,column:D0,offset:s0}=c;return{_bufferIndex:zp,_index:h0,line:k0,column:D0,offset:s0}}function Nl(zp){d[zp.line]=zp.column,Np()}function _u(){let zp;for(;c._index<b.length;){const h0=b[c._index];if(typeof h0=="string")for(zp=c._index,c._bufferIndex<0&&(c._bufferIndex=0);c._index===zp&&c._bufferIndex<h0.length;)Yl(h0.charCodeAt(c._bufferIndex));else Yl(h0)}}function Yl(zp){rt=rt(zp)}function Ul(zp){markdownLineEnding$1(zp)?(c.line++,c.column=1,c.offset+=zp===-3?2:1,Np()):zp!==-1&&(c.column++,c.offset++),c._bufferIndex<0?c._index++:(c._bufferIndex++,c._bufferIndex===b[c._index].length&&(c._bufferIndex=-1,c._index++)),j.previous=zp}function Dl(zp,h0){const k0=h0||{};return k0.type=zp,k0.start=Ll(),j.events.push(["enter",k0,j]),_.push(k0),k0}function Zl(zp){const h0=_.pop();return h0.end=Ll(),j.events.push(["exit",h0,j]),h0}function Ju(zp,h0){Zu(zp,h0.from)}function Uu(zp,h0){h0.restore()}function fp(zp,h0){return k0;function k0(D0,s0,dp){let S0,l0,Op,Wp;return Array.isArray(D0)?fm(D0):"tokenize"in D0?fm([D0]):mm(D0);function mm(ym){return Am;function Am(am){const Rm=am!==null&&ym[am],Lm=am!==null&&ym.null,Fm=[...Array.isArray(Rm)?Rm:Rm?[Rm]:[],...Array.isArray(Lm)?Lm:Lm?[Lm]:[]];return fm(Fm)(am)}}function fm(ym){return S0=ym,l0=0,ym.length===0?dp:g0(ym[l0])}function g0(ym){return Am;function Am(am){return Wp=Lp(),Op=ym,ym.partial||(j.currentConstruct=ym),ym.name&&j.parser.constructs.disable.null.includes(ym.name)?V0():ym.tokenize.call(h0?Object.assign(Object.create(j),h0):j,$,e0,V0)(am)}}function e0(ym){return zp(Op,Wp),s0}function V0(ym){return Wp.restore(),++l0<S0.length?g0(S0[l0]):dp}}}function Zu(zp,h0){zp.resolveAll&&!g.includes(zp)&&g.push(zp),zp.resolve&&splice$1(j.events,h0,j.events.length-h0,zp.resolve(j.events.slice(h0),j)),zp.resolveTo&&(j.events=zp.resolveTo(j.events,j))}function Lp(){const zp=Ll(),h0=j.previous,k0=j.currentConstruct,D0=j.events.length,s0=Array.from(_);return{from:D0,restore:dp};function dp(){c=zp,j.previous=h0,j.currentConstruct=k0,j.events.length=D0,_=s0,Np()}}function Np(){c.line in d&&c.column<2&&(c.column=d[c.line],c.offset+=d[c.line]-1)}}function sliceChunks(e,o){const a=o.start._index,c=o.start._bufferIndex,d=o.end._index,g=o.end._bufferIndex;let b;if(a===d)b=[e[a].slice(c,g)];else{if(b=e.slice(a,d),c>-1){const _=b[0];typeof _=="string"?b[0]=_.slice(c):b.shift()}g>0&&b.push(e[d].slice(0,g))}return b}function serializeChunks(e,o){let a=-1;const c=[];let d;for(;++a<e.length;){const g=e[a];let b;if(typeof g=="string")b=g;else switch(g){case-5:{b="\r";break}case-4:{b=`
`;break}case-3:{b=`\r
`;break}case-2:{b=o?" ":"	";break}case-1:{if(!o&&d)continue;b=" ";break}default:b=String.fromCharCode(g)}d=g===-2,c.push(b)}return c.join("")}function parse(e){const c={constructs:combineExtensions([defaultConstructs,...(e||{}).extensions||[]]),content:d(content$1),defined:[],document:d(document$2),flow:d(flow$1),lazy:{},string:d(string$1),text:d(text$6)};return c;function d(g){return b;function b(_){return createTokenizer(c,g,_)}}}function postprocess(e){for(;!subtokenize(e););return e}const search$1=/[\0\t\n\r]/g;function preprocess(){let e=1,o="",a=!0,c;return d;function d(g,b,_){const $=[];let j,rt,nt,In,xl;for(g=o+(typeof g=="string"?g.toString():new TextDecoder(b||void 0).decode(g)),nt=0,o="",a&&(g.charCodeAt(0)===65279&&nt++,a=void 0);nt<g.length;){if(search$1.lastIndex=nt,j=search$1.exec(g),In=j&&j.index!==void 0?j.index:g.length,xl=g.charCodeAt(In),!j){o=g.slice(nt);break}if(xl===10&&nt===In&&c)$.push(-3),c=void 0;else switch(c&&($.push(-5),c=void 0),nt<In&&($.push(g.slice(nt,In)),e+=In-nt),xl){case 0:{$.push(65533),e++;break}case 9:{for(rt=Math.ceil(e/4)*4,$.push(-2);e++<rt;)$.push(-1);break}case 10:{$.push(-4),e=1;break}default:c=!0,e=1}nt=In+1}return _&&(c&&$.push(-5),o&&$.push(o),$.push(null)),$}}const characterEscapeOrReference$1=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString$1(e){return e.replace(characterEscapeOrReference$1,decode$1)}function decode$1(e,o,a){if(o)return o;if(a.charCodeAt(0)===35){const d=a.charCodeAt(1),g=d===120||d===88;return decodeNumericCharacterReference$1(a.slice(g?2:1),g?16:10)}return decodeNamedCharacterReference(a)||e}const own$2={}.hasOwnProperty;function fromMarkdown(e,o,a){return typeof o!="string"&&(a=o,o=void 0),compiler(a)(postprocess(parse(a).document().write(preprocess()(e,o,!0))))}function compiler(e){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:g(lv),autolinkProtocol:Lp,autolinkEmail:Lp,atxHeading:g(G1),blockQuote:g(Lm),characterEscape:Lp,characterReference:Lp,codeFenced:g(Fm),codeFencedFenceInfo:b,codeFencedFenceMeta:b,codeIndented:g(Fm,b),codeText:g(s1,b),codeTextData:Lp,data:Lp,codeFlowValue:Lp,definition:g(r1),definitionDestinationString:b,definitionLabelString:b,definitionTitleString:b,emphasis:g(Y1),hardBreakEscape:g(wv),hardBreakTrailing:g(wv),htmlFlow:g(Mv,b),htmlFlowData:Lp,htmlText:g(Mv,b),htmlTextData:Lp,image:g(Cv),label:b,link:g(lv),listItem:g(dy),listItemValue:In,listOrdered:g(J1,nt),listUnordered:g(J1),paragraph:g(Iv),reference:g0,referenceString:b,resourceDestinationString:b,resourceTitleString:b,setextHeading:g(G1),strong:g(Dv),thematicBreak:g(wy)},exit:{atxHeading:$(),atxHeadingSequence:Ju,autolink:$(),autolinkEmail:Rm,autolinkProtocol:am,blockQuote:$(),characterEscapeValue:Np,characterReferenceMarkerHexadecimal:V0,characterReferenceMarkerNumeric:V0,characterReferenceValue:ym,characterReference:Am,codeFenced:$(_u),codeFencedFence:Nl,codeFencedFenceInfo:xl,codeFencedFenceMeta:Ll,codeFlowValue:Np,codeIndented:$(Yl),codeText:$(s0),codeTextData:Np,data:Np,definition:$(),definitionDestinationString:Zl,definitionLabelString:Ul,definitionTitleString:Dl,emphasis:$(),hardBreakEscape:$(h0),hardBreakTrailing:$(h0),htmlFlow:$(k0),htmlFlowData:Np,htmlText:$(D0),htmlTextData:Np,image:$(S0),label:Op,labelText:l0,lineEnding:zp,link:$(dp),listItem:$(),listOrdered:$(),listUnordered:$(),paragraph:$(),referenceString:e0,resourceDestinationString:Wp,resourceTitleString:mm,resource:fm,setextHeading:$(Zu),setextHeadingLineSequence:fp,setextHeadingText:Uu,strong:$(),thematicBreak:$()}};configure(o,(e||{}).mdastExtensions||[]);const a={};return c;function c(Sm){let Xp={type:"root",children:[]};const R0={stack:[Xp],tokenStack:[],config:o,enter:_,exit:j,buffer:b,resume:rt,data:a},K0=[];let Nm=-1;for(;++Nm<Sm.length;)if(Sm[Nm][1].type==="listOrdered"||Sm[Nm][1].type==="listUnordered")if(Sm[Nm][0]==="enter")K0.push(Nm);else{const Gm=K0.pop();Nm=d(Sm,Gm,Nm)}for(Nm=-1;++Nm<Sm.length;){const Gm=o[Sm[Nm][0]];own$2.call(Gm,Sm[Nm][1].type)&&Gm[Sm[Nm][1].type].call(Object.assign({sliceSerialize:Sm[Nm][2].sliceSerialize},R0),Sm[Nm][1])}if(R0.tokenStack.length>0){const Gm=R0.tokenStack[R0.tokenStack.length-1];(Gm[1]||defaultOnError).call(R0,void 0,Gm[0])}for(Xp.position={start:point(Sm.length>0?Sm[0][1].start:{line:1,column:1,offset:0}),end:point(Sm.length>0?Sm[Sm.length-2][1].end:{line:1,column:1,offset:0})},Nm=-1;++Nm<o.transforms.length;)Xp=o.transforms[Nm](Xp)||Xp;return Xp}function d(Sm,Xp,R0){let K0=Xp-1,Nm=-1,Gm=!1,M1,Km,F1,j1;for(;++K0<=R0;){const x1=Sm[K0];switch(x1[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{x1[0]==="enter"?Nm++:Nm--,j1=void 0;break}case"lineEndingBlank":{x1[0]==="enter"&&(M1&&!j1&&!Nm&&!F1&&(F1=K0),j1=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:j1=void 0}if(!Nm&&x1[0]==="enter"&&x1[1].type==="listItemPrefix"||Nm===-1&&x1[0]==="exit"&&(x1[1].type==="listUnordered"||x1[1].type==="listOrdered")){if(M1){let hv=K0;for(Km=void 0;hv--;){const my=Sm[hv];if(my[1].type==="lineEnding"||my[1].type==="lineEndingBlank"){if(my[0]==="exit")continue;Km&&(Sm[Km][1].type="lineEndingBlank",Gm=!0),my[1].type="lineEnding",Km=hv}else if(!(my[1].type==="linePrefix"||my[1].type==="blockQuotePrefix"||my[1].type==="blockQuotePrefixWhitespace"||my[1].type==="blockQuoteMarker"||my[1].type==="listItemIndent"))break}F1&&(!Km||F1<Km)&&(M1._spread=!0),M1.end=Object.assign({},Km?Sm[Km][1].start:x1[1].end),Sm.splice(Km||K0,0,["exit",M1,x1[2]]),K0++,R0++}if(x1[1].type==="listItemPrefix"){const hv={type:"listItem",_spread:!1,start:Object.assign({},x1[1].start),end:void 0};M1=hv,Sm.splice(K0,0,["enter",hv,x1[2]]),K0++,R0++,F1=void 0,j1=!0}}}return Sm[Xp][1]._spread=Gm,R0}function g(Sm,Xp){return R0;function R0(K0){_.call(this,Sm(K0),K0),Xp&&Xp.call(this,K0)}}function b(){this.stack.push({type:"fragment",children:[]})}function _(Sm,Xp,R0){this.stack[this.stack.length-1].children.push(Sm),this.stack.push(Sm),this.tokenStack.push([Xp,R0||void 0]),Sm.position={start:point(Xp.start),end:void 0}}function $(Sm){return Xp;function Xp(R0){Sm&&Sm.call(this,R0),j.call(this,R0)}}function j(Sm,Xp){const R0=this.stack.pop(),K0=this.tokenStack.pop();if(K0)K0[0].type!==Sm.type&&(Xp?Xp.call(this,Sm,K0[0]):(K0[1]||defaultOnError).call(this,Sm,K0[0]));else throw new Error("Cannot close `"+Sm.type+"` ("+stringifyPosition({start:Sm.start,end:Sm.end})+"): its not open");R0.position.end=point(Sm.end)}function rt(){return toString$1(this.stack.pop())}function nt(){this.data.expectingFirstListItemValue=!0}function In(Sm){if(this.data.expectingFirstListItemValue){const Xp=this.stack[this.stack.length-2];Xp.start=Number.parseInt(this.sliceSerialize(Sm),10),this.data.expectingFirstListItemValue=void 0}}function xl(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.lang=Sm}function Ll(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.meta=Sm}function Nl(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _u(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.value=Sm.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function Yl(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.value=Sm.replace(/(\r?\n|\r)$/g,"")}function Ul(Sm){const Xp=this.resume(),R0=this.stack[this.stack.length-1];R0.label=Xp,R0.identifier=normalizeIdentifier$2(this.sliceSerialize(Sm)).toLowerCase()}function Dl(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.title=Sm}function Zl(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.url=Sm}function Ju(Sm){const Xp=this.stack[this.stack.length-1];if(!Xp.depth){const R0=this.sliceSerialize(Sm).length;Xp.depth=R0}}function Uu(){this.data.setextHeadingSlurpLineEnding=!0}function fp(Sm){const Xp=this.stack[this.stack.length-1];Xp.depth=this.sliceSerialize(Sm).codePointAt(0)===61?1:2}function Zu(){this.data.setextHeadingSlurpLineEnding=void 0}function Lp(Sm){const R0=this.stack[this.stack.length-1].children;let K0=R0[R0.length-1];(!K0||K0.type!=="text")&&(K0=_y(),K0.position={start:point(Sm.start),end:void 0},R0.push(K0)),this.stack.push(K0)}function Np(Sm){const Xp=this.stack.pop();Xp.value+=this.sliceSerialize(Sm),Xp.position.end=point(Sm.end)}function zp(Sm){const Xp=this.stack[this.stack.length-1];if(this.data.atHardBreak){const R0=Xp.children[Xp.children.length-1];R0.position.end=point(Sm.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&o.canContainEols.includes(Xp.type)&&(Lp.call(this,Sm),Np.call(this,Sm))}function h0(){this.data.atHardBreak=!0}function k0(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.value=Sm}function D0(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.value=Sm}function s0(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.value=Sm}function dp(){const Sm=this.stack[this.stack.length-1];if(this.data.inReference){const Xp=this.data.referenceType||"shortcut";Sm.type+="Reference",Sm.referenceType=Xp,delete Sm.url,delete Sm.title}else delete Sm.identifier,delete Sm.label;this.data.referenceType=void 0}function S0(){const Sm=this.stack[this.stack.length-1];if(this.data.inReference){const Xp=this.data.referenceType||"shortcut";Sm.type+="Reference",Sm.referenceType=Xp,delete Sm.url,delete Sm.title}else delete Sm.identifier,delete Sm.label;this.data.referenceType=void 0}function l0(Sm){const Xp=this.sliceSerialize(Sm),R0=this.stack[this.stack.length-2];R0.label=decodeString$1(Xp),R0.identifier=normalizeIdentifier$2(Xp).toLowerCase()}function Op(){const Sm=this.stack[this.stack.length-1],Xp=this.resume(),R0=this.stack[this.stack.length-1];if(this.data.inReference=!0,R0.type==="link"){const K0=Sm.children;R0.children=K0}else R0.alt=Xp}function Wp(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.url=Sm}function mm(){const Sm=this.resume(),Xp=this.stack[this.stack.length-1];Xp.title=Sm}function fm(){this.data.inReference=void 0}function g0(){this.data.referenceType="collapsed"}function e0(Sm){const Xp=this.resume(),R0=this.stack[this.stack.length-1];R0.label=Xp,R0.identifier=normalizeIdentifier$2(this.sliceSerialize(Sm)).toLowerCase(),this.data.referenceType="full"}function V0(Sm){this.data.characterReferenceType=Sm.type}function ym(Sm){const Xp=this.sliceSerialize(Sm),R0=this.data.characterReferenceType;let K0;R0?(K0=decodeNumericCharacterReference$1(Xp,R0==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):K0=decodeNamedCharacterReference(Xp);const Nm=this.stack[this.stack.length-1];Nm.value+=K0}function Am(Sm){const Xp=this.stack.pop();Xp.position.end=point(Sm.end)}function am(Sm){Np.call(this,Sm);const Xp=this.stack[this.stack.length-1];Xp.url=this.sliceSerialize(Sm)}function Rm(Sm){Np.call(this,Sm);const Xp=this.stack[this.stack.length-1];Xp.url="mailto:"+this.sliceSerialize(Sm)}function Lm(){return{type:"blockquote",children:[]}}function Fm(){return{type:"code",lang:null,meta:null,value:""}}function s1(){return{type:"inlineCode",value:""}}function r1(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Y1(){return{type:"emphasis",children:[]}}function G1(){return{type:"heading",depth:0,children:[]}}function wv(){return{type:"break"}}function Mv(){return{type:"html",value:""}}function Cv(){return{type:"image",title:null,url:"",alt:null}}function lv(){return{type:"link",title:null,url:"",children:[]}}function J1(Sm){return{type:"list",ordered:Sm.type==="listOrdered",start:null,spread:Sm._spread,children:[]}}function dy(Sm){return{type:"listItem",spread:Sm._spread,checked:null,children:[]}}function Iv(){return{type:"paragraph",children:[]}}function Dv(){return{type:"strong",children:[]}}function _y(){return{type:"text",value:""}}function wy(){return{type:"thematicBreak"}}}function point(e){return{line:e.line,column:e.column,offset:e.offset}}function configure(e,o){let a=-1;for(;++a<o.length;){const c=o[a];Array.isArray(c)?configure(e,c):extension(e,c)}}function extension(e,o){let a;for(a in o)if(own$2.call(o,a))switch(a){case"canContainEols":{const c=o[a];c&&e[a].push(...c);break}case"transforms":{const c=o[a];c&&e[a].push(...c);break}case"enter":case"exit":{const c=o[a];c&&Object.assign(e[a],c);break}}}function defaultOnError(e,o){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+o.type+"`, "+stringifyPosition({start:o.start,end:o.end})+") is open"):new Error("Cannot close document, a token (`"+o.type+"`, "+stringifyPosition({start:o.start,end:o.end})+") is still open")}function remarkParse(e){const o=this;o.parser=a;function a(c){return fromMarkdown(c,{...o.data("settings"),...e,extensions:o.data("micromarkExtensions")||[],mdastExtensions:o.data("fromMarkdownExtensions")||[]})}}function blockquote$1(e,o){const a={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(o),!0)};return e.patch(o,a),e.applyData(o,a)}function hardBreak$1(e,o){const a={type:"element",tagName:"br",properties:{},children:[]};return e.patch(o,a),[e.applyData(o,a),{type:"text",value:`
`}]}function code$2(e,o){const a=o.value?o.value+`
`:"",c={};o.lang&&(c.className=["language-"+o.lang]);let d={type:"element",tagName:"code",properties:c,children:[{type:"text",value:a}]};return o.meta&&(d.data={meta:o.meta}),e.patch(o,d),d=e.applyData(o,d),d={type:"element",tagName:"pre",properties:{},children:[d]},e.patch(o,d),d}function strikethrough(e,o){const a={type:"element",tagName:"del",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function emphasis$1(e,o){const a={type:"element",tagName:"em",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function footnoteReference$2(e,o){const a=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",c=String(o.identifier).toUpperCase(),d=normalizeUri(c.toLowerCase()),g=e.footnoteOrder.indexOf(c);let b,_=e.footnoteCounts.get(c);_===void 0?(_=0,e.footnoteOrder.push(c),b=e.footnoteOrder.length):b=g+1,_+=1,e.footnoteCounts.set(c,_);const $={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+d,id:a+"fnref-"+d+(_>1?"-"+_:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(b)}]};e.patch(o,$);const j={type:"element",tagName:"sup",properties:{},children:[$]};return e.patch(o,j),e.applyData(o,j)}function heading$1(e,o){const a={type:"element",tagName:"h"+o.depth,properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function html$1(e,o){if(e.options.allowDangerousHtml){const a={type:"raw",value:o.value};return e.patch(o,a),e.applyData(o,a)}}function revert(e,o){const a=o.referenceType;let c="]";if(a==="collapsed"?c+="[]":a==="full"&&(c+="["+(o.label||o.identifier)+"]"),o.type==="imageReference")return[{type:"text",value:"!["+o.alt+c}];const d=e.all(o),g=d[0];g&&g.type==="text"?g.value="["+g.value:d.unshift({type:"text",value:"["});const b=d[d.length-1];return b&&b.type==="text"?b.value+=c:d.push({type:"text",value:c}),d}function imageReference$1(e,o){const a=String(o.identifier).toUpperCase(),c=e.definitionById.get(a);if(!c)return revert(e,o);const d={src:normalizeUri(c.url||""),alt:o.alt};c.title!==null&&c.title!==void 0&&(d.title=c.title);const g={type:"element",tagName:"img",properties:d,children:[]};return e.patch(o,g),e.applyData(o,g)}function image$1(e,o){const a={src:normalizeUri(o.url)};o.alt!==null&&o.alt!==void 0&&(a.alt=o.alt),o.title!==null&&o.title!==void 0&&(a.title=o.title);const c={type:"element",tagName:"img",properties:a,children:[]};return e.patch(o,c),e.applyData(o,c)}function inlineCode$1(e,o){const a={type:"text",value:o.value.replace(/\r?\n|\r/g," ")};e.patch(o,a);const c={type:"element",tagName:"code",properties:{},children:[a]};return e.patch(o,c),e.applyData(o,c)}function linkReference$1(e,o){const a=String(o.identifier).toUpperCase(),c=e.definitionById.get(a);if(!c)return revert(e,o);const d={href:normalizeUri(c.url||"")};c.title!==null&&c.title!==void 0&&(d.title=c.title);const g={type:"element",tagName:"a",properties:d,children:e.all(o)};return e.patch(o,g),e.applyData(o,g)}function link$1(e,o){const a={href:normalizeUri(o.url)};o.title!==null&&o.title!==void 0&&(a.title=o.title);const c={type:"element",tagName:"a",properties:a,children:e.all(o)};return e.patch(o,c),e.applyData(o,c)}function listItem$1(e,o,a){const c=e.all(o),d=a?listLoose(a):listItemLoose(o),g={},b=[];if(typeof o.checked=="boolean"){const rt=c[0];let nt;rt&&rt.type==="element"&&rt.tagName==="p"?nt=rt:(nt={type:"element",tagName:"p",properties:{},children:[]},c.unshift(nt)),nt.children.length>0&&nt.children.unshift({type:"text",value:" "}),nt.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:o.checked,disabled:!0},children:[]}),g.className=["task-list-item"]}let _=-1;for(;++_<c.length;){const rt=c[_];(d||_!==0||rt.type!=="element"||rt.tagName!=="p")&&b.push({type:"text",value:`
`}),rt.type==="element"&&rt.tagName==="p"&&!d?b.push(...rt.children):b.push(rt)}const $=c[c.length-1];$&&(d||$.type!=="element"||$.tagName!=="p")&&b.push({type:"text",value:`
`});const j={type:"element",tagName:"li",properties:g,children:b};return e.patch(o,j),e.applyData(o,j)}function listLoose(e){let o=!1;if(e.type==="list"){o=e.spread||!1;const a=e.children;let c=-1;for(;!o&&++c<a.length;)o=listItemLoose(a[c])}return o}function listItemLoose(e){const o=e.spread;return o??e.children.length>1}function list$1(e,o){const a={},c=e.all(o);let d=-1;for(typeof o.start=="number"&&o.start!==1&&(a.start=o.start);++d<c.length;){const b=c[d];if(b.type==="element"&&b.tagName==="li"&&b.properties&&Array.isArray(b.properties.className)&&b.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const g={type:"element",tagName:o.ordered?"ol":"ul",properties:a,children:e.wrap(c,!0)};return e.patch(o,g),e.applyData(o,g)}function paragraph$1(e,o){const a={type:"element",tagName:"p",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function root$2(e,o){const a={type:"root",children:e.wrap(e.all(o))};return e.patch(o,a),e.applyData(o,a)}function strong$1(e,o){const a={type:"element",tagName:"strong",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function table(e,o){const a=e.all(o),c=a.shift(),d=[];if(c){const b={type:"element",tagName:"thead",properties:{},children:e.wrap([c],!0)};e.patch(o.children[0],b),d.push(b)}if(a.length>0){const b={type:"element",tagName:"tbody",properties:{},children:e.wrap(a,!0)},_=pointStart(o.children[1]),$=pointEnd(o.children[o.children.length-1]);_&&$&&(b.position={start:_,end:$}),d.push(b)}const g={type:"element",tagName:"table",properties:{},children:e.wrap(d,!0)};return e.patch(o,g),e.applyData(o,g)}function tableRow(e,o,a){const c=a?a.children:void 0,g=(c?c.indexOf(o):1)===0?"th":"td",b=a&&a.type==="table"?a.align:void 0,_=b?b.length:o.children.length;let $=-1;const j=[];for(;++$<_;){const nt=o.children[$],In={},xl=b?b[$]:void 0;xl&&(In.align=xl);let Ll={type:"element",tagName:g,properties:In,children:[]};nt&&(Ll.children=e.all(nt),e.patch(nt,Ll),Ll=e.applyData(nt,Ll)),j.push(Ll)}const rt={type:"element",tagName:"tr",properties:{},children:e.wrap(j,!0)};return e.patch(o,rt),e.applyData(o,rt)}function tableCell(e,o){const a={type:"element",tagName:"td",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}const tab=9,space=32;function trimLines(e){const o=String(e),a=/\r?\n|\r/g;let c=a.exec(o),d=0;const g=[];for(;c;)g.push(trimLine(o.slice(d,c.index),d>0,!0),c[0]),d=c.index+c[0].length,c=a.exec(o);return g.push(trimLine(o.slice(d),d>0,!1)),g.join("")}function trimLine(e,o,a){let c=0,d=e.length;if(o){let g=e.codePointAt(c);for(;g===tab||g===space;)c++,g=e.codePointAt(c)}if(a){let g=e.codePointAt(d-1);for(;g===tab||g===space;)d--,g=e.codePointAt(d-1)}return d>c?e.slice(c,d):""}function text$4(e,o){const a={type:"text",value:trimLines(String(o.value))};return e.patch(o,a),e.applyData(o,a)}function thematicBreak$1(e,o){const a={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(o,a),e.applyData(o,a)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$2,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$2,strong:strong$1,table,tableCell,tableRow,text:text$4,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(e,o)=>{const a=(d,g)=>(e.set(g,d),d),c=d=>{if(e.has(d))return e.get(d);const[g,b]=o[d];switch(g){case PRIMITIVE:case VOID:return a(b,d);case ARRAY:{const _=a([],d);for(const $ of b)_.push(c($));return _}case OBJECT:{const _=a({},d);for(const[$,j]of b)_[c($)]=c(j);return _}case DATE:return a(new Date(b),d);case REGEXP:{const{source:_,flags:$}=b;return a(new RegExp(_,$),d)}case MAP:{const _=a(new Map,d);for(const[$,j]of b)_.set(c($),c(j));return _}case SET:{const _=a(new Set,d);for(const $ of b)_.add(c($));return _}case ERROR:{const{name:_,message:$}=b;return a(new env[_]($),d)}case BIGINT:return a(BigInt(b),d);case"BigInt":return a(Object(BigInt(b)),d);case"ArrayBuffer":return a(new Uint8Array(b).buffer,b);case"DataView":{const{buffer:_}=new Uint8Array(b);return a(new DataView(_),b)}}return a(new env[g](b),d)};return c},deserialize=e=>deserializer(new Map,e)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=e=>{const o=typeof e;if(o!=="object"||!e)return[PRIMITIVE,o];const a=toString.call(e).slice(8,-1);switch(a){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,a]}return a.includes("Array")?[ARRAY,a]:a.includes("Error")?[ERROR,a]:[OBJECT,a]},shouldSkip=([e,o])=>e===PRIMITIVE&&(o==="function"||o==="symbol"),serializer=(e,o,a,c)=>{const d=(b,_)=>{const $=c.push(b)-1;return a.set(_,$),$},g=b=>{if(a.has(b))return a.get(b);let[_,$]=typeOf(b);switch(_){case PRIMITIVE:{let rt=b;switch($){case"bigint":_=BIGINT,rt=b.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+$);rt=null;break;case"undefined":return d([VOID],b)}return d([_,rt],b)}case ARRAY:{if($){let In=b;return $==="DataView"?In=new Uint8Array(b.buffer):$==="ArrayBuffer"&&(In=new Uint8Array(b)),d([$,[...In]],b)}const rt=[],nt=d([_,rt],b);for(const In of b)rt.push(g(In));return nt}case OBJECT:{if($)switch($){case"BigInt":return d([$,b.toString()],b);case"Boolean":case"Number":case"String":return d([$,b.valueOf()],b)}if(o&&"toJSON"in b)return g(b.toJSON());const rt=[],nt=d([_,rt],b);for(const In of keys(b))(e||!shouldSkip(typeOf(b[In])))&&rt.push([g(In),g(b[In])]);return nt}case DATE:return d([_,b.toISOString()],b);case REGEXP:{const{source:rt,flags:nt}=b;return d([_,{source:rt,flags:nt}],b)}case MAP:{const rt=[],nt=d([_,rt],b);for(const[In,xl]of b)(e||!(shouldSkip(typeOf(In))||shouldSkip(typeOf(xl))))&&rt.push([g(In),g(xl)]);return nt}case SET:{const rt=[],nt=d([_,rt],b);for(const In of b)(e||!shouldSkip(typeOf(In)))&&rt.push(g(In));return nt}}const{message:j}=b;return d([_,{name:$,message:j}],b)};return g},serialize$1=(e,{json:o,lossy:a}={})=>{const c=[];return serializer(!(o||a),!!o,new Map,c)(e),c},structuredClone$1=typeof structuredClone=="function"?(e,o)=>o&&("json"in o||"lossy"in o)?deserialize(serialize$1(e,o)):structuredClone(e):(e,o)=>deserialize(serialize$1(e,o));function defaultFootnoteBackContent(e,o){const a=[{type:"text",value:""}];return o>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(o)}]}),a}function defaultFootnoteBackLabel(e,o){return"Back to reference "+(e+1)+(o>1?"-"+o:"")}function footer(e){const o=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=e.options.footnoteBackContent||defaultFootnoteBackContent,c=e.options.footnoteBackLabel||defaultFootnoteBackLabel,d=e.options.footnoteLabel||"Footnotes",g=e.options.footnoteLabelTagName||"h2",b=e.options.footnoteLabelProperties||{className:["sr-only"]},_=[];let $=-1;for(;++$<e.footnoteOrder.length;){const j=e.footnoteById.get(e.footnoteOrder[$]);if(!j)continue;const rt=e.all(j),nt=String(j.identifier).toUpperCase(),In=normalizeUri(nt.toLowerCase());let xl=0;const Ll=[],Nl=e.footnoteCounts.get(nt);for(;Nl!==void 0&&++xl<=Nl;){Ll.length>0&&Ll.push({type:"text",value:" "});let Ul=typeof a=="string"?a:a($,xl);typeof Ul=="string"&&(Ul={type:"text",value:Ul}),Ll.push({type:"element",tagName:"a",properties:{href:"#"+o+"fnref-"+In+(xl>1?"-"+xl:""),dataFootnoteBackref:"",ariaLabel:typeof c=="string"?c:c($,xl),className:["data-footnote-backref"]},children:Array.isArray(Ul)?Ul:[Ul]})}const _u=rt[rt.length-1];if(_u&&_u.type==="element"&&_u.tagName==="p"){const Ul=_u.children[_u.children.length-1];Ul&&Ul.type==="text"?Ul.value+=" ":_u.children.push({type:"text",value:" "}),_u.children.push(...Ll)}else rt.push(...Ll);const Yl={type:"element",tagName:"li",properties:{id:o+"fn-"+In},children:e.wrap(rt,!0)};e.patch(j,Yl),_.push(Yl)}if(_.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:g,properties:{...structuredClone$1(b),id:"footnote-label"},children:[{type:"text",value:d}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(_,!0)},{type:"text",value:`
`}]}}const convert=function(e){if(e==null)return ok;if(typeof e=="function")return castFactory$1(e);if(typeof e=="object")return Array.isArray(e)?anyFactory$1(e):propertiesFactory(e);if(typeof e=="string")return typeFactory(e);throw new Error("Expected function, string, or object as test")};function anyFactory$1(e){const o=[];let a=-1;for(;++a<e.length;)o[a]=convert(e[a]);return castFactory$1(c);function c(...d){let g=-1;for(;++g<o.length;)if(o[g].apply(this,d))return!0;return!1}}function propertiesFactory(e){const o=e;return castFactory$1(a);function a(c){const d=c;let g;for(g in e)if(d[g]!==o[g])return!1;return!0}}function typeFactory(e){return castFactory$1(o);function o(a){return a&&a.type===e}}function castFactory$1(e){return o;function o(a,c,d){return!!(looksLikeANode(a)&&e.call(this,a,typeof c=="number"?c:void 0,d||void 0))}}function ok(){return!0}function looksLikeANode(e){return e!==null&&typeof e=="object"&&"type"in e}function color(e){return e}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(e,o,a,c){let d;typeof o=="function"&&typeof a!="function"?(c=a,a=o):d=o;const g=convert(d),b=c?-1:1;_(e,void 0,[])();function _($,j,rt){const nt=$&&typeof $=="object"?$:{};if(typeof nt.type=="string"){const xl=typeof nt.tagName=="string"?nt.tagName:typeof nt.name=="string"?nt.name:void 0;Object.defineProperty(In,"name",{value:"node ("+($.type+(xl?"<"+xl+">":""))+")"})}return In;function In(){let xl=empty,Ll,Nl,_u;if((!o||g($,j,rt[rt.length-1]||void 0))&&(xl=toResult(a($,rt)),xl[0]===EXIT))return xl;if("children"in $&&$.children){const Yl=$;if(Yl.children&&xl[0]!==SKIP)for(Nl=(c?Yl.children.length:-1)+b,_u=rt.concat(Yl);Nl>-1&&Nl<Yl.children.length;){const Ul=Yl.children[Nl];if(Ll=_(Ul,Nl,_u)(),Ll[0]===EXIT)return Ll;Nl=typeof Ll[1]=="number"?Ll[1]:Nl+b}}return xl}}}function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:e==null?empty:[e]}function visit(e,o,a,c){let d,g,b;typeof o=="function"&&typeof a!="function"?(g=void 0,b=o,d=a):(g=o,b=a,d=c),visitParents(e,g,_,d);function _($,j){const rt=j[j.length-1],nt=rt?rt.children.indexOf($):void 0;return b($,nt,rt)}}const own$1={}.hasOwnProperty,emptyOptions$3={};function createState(e,o){const a=o||emptyOptions$3,c=new Map,d=new Map,g=new Map,b={...handlers,...a.handlers},_={all:j,applyData,definitionById:c,footnoteById:d,footnoteCounts:g,footnoteOrder:[],handlers:b,one:$,options:a,patch,wrap:wrap$1};return visit(e,function(rt){if(rt.type==="definition"||rt.type==="footnoteDefinition"){const nt=rt.type==="definition"?c:d,In=String(rt.identifier).toUpperCase();nt.has(In)||nt.set(In,rt)}}),_;function $(rt,nt){const In=rt.type,xl=_.handlers[In];if(own$1.call(_.handlers,In)&&xl)return xl(_,rt,nt);if(_.options.passThrough&&_.options.passThrough.includes(In)){if("children"in rt){const{children:Nl,..._u}=rt,Yl=structuredClone$1(_u);return Yl.children=_.all(rt),Yl}return structuredClone$1(rt)}return(_.options.unknownHandler||defaultUnknownHandler)(_,rt,nt)}function j(rt){const nt=[];if("children"in rt){const In=rt.children;let xl=-1;for(;++xl<In.length;){const Ll=_.one(In[xl],rt);if(Ll){if(xl&&In[xl-1].type==="break"&&(!Array.isArray(Ll)&&Ll.type==="text"&&(Ll.value=trimMarkdownSpaceStart(Ll.value)),!Array.isArray(Ll)&&Ll.type==="element")){const Nl=Ll.children[0];Nl&&Nl.type==="text"&&(Nl.value=trimMarkdownSpaceStart(Nl.value))}Array.isArray(Ll)?nt.push(...Ll):nt.push(Ll)}}}return nt}}function patch(e,o){e.position&&(o.position=position$1(e))}function applyData(e,o){let a=o;if(e&&e.data){const c=e.data.hName,d=e.data.hChildren,g=e.data.hProperties;if(typeof c=="string")if(a.type==="element")a.tagName=c;else{const b="children"in a?a.children:[a];a={type:"element",tagName:c,properties:{},children:b}}a.type==="element"&&g&&Object.assign(a.properties,structuredClone$1(g)),"children"in a&&a.children&&d!==null&&d!==void 0&&(a.children=d)}return a}function defaultUnknownHandler(e,o){const a=o.data||{},c="value"in o&&!(own$1.call(a,"hProperties")||own$1.call(a,"hChildren"))?{type:"text",value:o.value}:{type:"element",tagName:"div",properties:{},children:e.all(o)};return e.patch(o,c),e.applyData(o,c)}function wrap$1(e,o){const a=[];let c=-1;for(o&&a.push({type:"text",value:`
`});++c<e.length;)c&&a.push({type:"text",value:`
`}),a.push(e[c]);return o&&e.length>0&&a.push({type:"text",value:`
`}),a}function trimMarkdownSpaceStart(e){let o=0,a=e.charCodeAt(o);for(;a===9||a===32;)o++,a=e.charCodeAt(o);return e.slice(o)}function toHast(e,o){const a=createState(e,o),c=a.one(e,void 0),d=footer(a),g=Array.isArray(c)?{type:"root",children:c}:c||{type:"root",children:[]};return d&&g.children.push({type:"text",value:`
`},d),g}function remarkRehype(e,o){return e&&"run"in e?async function(a,c){const d=toHast(a,{file:c,...o});await e.run(d,c)}:function(a,c){return toHast(a,{file:c,...e||o})}}function bail(e){if(e)throw e}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function e(o){return typeof Array.isArray=="function"?Array.isArray(o):toStr.call(o)==="[object Array]"},isPlainObject$1=function e(o){if(!o||toStr.call(o)!=="[object Object]")return!1;var a=hasOwn.call(o,"constructor"),c=o.constructor&&o.constructor.prototype&&hasOwn.call(o.constructor.prototype,"isPrototypeOf");if(o.constructor&&!a&&!c)return!1;var d;for(d in o);return typeof d>"u"||hasOwn.call(o,d)},setProperty=function e(o,a){defineProperty&&a.name==="__proto__"?defineProperty(o,a.name,{enumerable:!0,configurable:!0,value:a.newValue,writable:!0}):o[a.name]=a.newValue},getProperty=function e(o,a){if(a==="__proto__")if(hasOwn.call(o,a)){if(gOPD)return gOPD(o,a).value}else return;return o[a]},extend=function e(){var o,a,c,d,g,b,_=arguments[0],$=1,j=arguments.length,rt=!1;for(typeof _=="boolean"&&(rt=_,_=arguments[1]||{},$=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});$<j;++$)if(o=arguments[$],o!=null)for(a in o)c=getProperty(_,a),d=getProperty(o,a),_!==d&&(rt&&d&&(isPlainObject$1(d)||(g=isArray(d)))?(g?(g=!1,b=c&&isArray(c)?c:[]):b=c&&isPlainObject$1(c)?c:{},setProperty(_,{name:a,newValue:e(rt,b,d)})):typeof d<"u"&&setProperty(_,{name:a,newValue:d}));return _};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(e){if(typeof e!="object"||e===null)return!1;const o=Object.getPrototypeOf(e);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function trough(){const e=[],o={run:a,use:c};return o;function a(...d){let g=-1;const b=d.pop();if(typeof b!="function")throw new TypeError("Expected function as last argument, not "+b);_(null,...d);function _($,...j){const rt=e[++g];let nt=-1;if($){b($);return}for(;++nt<d.length;)(j[nt]===null||j[nt]===void 0)&&(j[nt]=d[nt]);d=j,rt?wrap(rt,_)(...j):b(null,...j)}}function c(d){if(typeof d!="function")throw new TypeError("Expected `middelware` to be a function, not "+d);return e.push(d),o}}function wrap(e,o){let a;return c;function c(...b){const _=e.length>b.length;let $;_&&b.push(d);try{$=e.apply(this,b)}catch(j){const rt=j;if(_&&a)throw rt;return d(rt)}_||($&&$.then&&typeof $.then=="function"?$.then(g,d):$ instanceof Error?d($):g($))}function d(b,..._){a||(a=!0,o(b,..._))}function g(b){d(null,b)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(e,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(e);let a=0,c=-1,d=e.length,g;if(o===void 0||o.length===0||o.length>e.length){for(;d--;)if(e.codePointAt(d)===47){if(g){a=d+1;break}}else c<0&&(g=!0,c=d+1);return c<0?"":e.slice(a,c)}if(o===e)return"";let b=-1,_=o.length-1;for(;d--;)if(e.codePointAt(d)===47){if(g){a=d+1;break}}else b<0&&(g=!0,b=d+1),_>-1&&(e.codePointAt(d)===o.codePointAt(_--)?_<0&&(c=d):(_=-1,c=b));return a===c?c=b:c<0&&(c=e.length),e.slice(a,c)}function dirname(e){if(assertPath$1(e),e.length===0)return".";let o=-1,a=e.length,c;for(;--a;)if(e.codePointAt(a)===47){if(c){o=a;break}}else c||(c=!0);return o<0?e.codePointAt(0)===47?"/":".":o===1&&e.codePointAt(0)===47?"//":e.slice(0,o)}function extname(e){assertPath$1(e);let o=e.length,a=-1,c=0,d=-1,g=0,b;for(;o--;){const _=e.codePointAt(o);if(_===47){if(b){c=o+1;break}continue}a<0&&(b=!0,a=o+1),_===46?d<0?d=o:g!==1&&(g=1):d>-1&&(g=-1)}return d<0||a<0||g===0||g===1&&d===a-1&&d===c+1?"":e.slice(d,a)}function join(...e){let o=-1,a;for(;++o<e.length;)assertPath$1(e[o]),e[o]&&(a=a===void 0?e[o]:a+"/"+e[o]);return a===void 0?".":normalize(a)}function normalize(e){assertPath$1(e);const o=e.codePointAt(0)===47;let a=normalizeString(e,!o);return a.length===0&&!o&&(a="."),a.length>0&&e.codePointAt(e.length-1)===47&&(a+="/"),o?"/"+a:a}function normalizeString(e,o){let a="",c=0,d=-1,g=0,b=-1,_,$;for(;++b<=e.length;){if(b<e.length)_=e.codePointAt(b);else{if(_===47)break;_=47}if(_===47){if(!(d===b-1||g===1))if(d!==b-1&&g===2){if(a.length<2||c!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if($=a.lastIndexOf("/"),$!==a.length-1){$<0?(a="",c=0):(a=a.slice(0,$),c=a.length-1-a.lastIndexOf("/")),d=b,g=0;continue}}else if(a.length>0){a="",c=0,d=b,g=0;continue}}o&&(a=a.length>0?a+"/..":"..",c=2)}else a.length>0?a+="/"+e.slice(d+1,b):a=e.slice(d+1,b),c=b-d-1;d=b,g=0}else _===46&&g>-1?g++:g=-1}return a}function assertPath$1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const minproc={cwd};function cwd(){return"/"}function isUrl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const o=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw o.code="ERR_INVALID_ARG_TYPE",o}if(e.protocol!=="file:"){const o=new TypeError("The URL must be of scheme file");throw o.code="ERR_INVALID_URL_SCHEME",o}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const c=new TypeError('File URL host must be "localhost" or empty on darwin');throw c.code="ERR_INVALID_FILE_URL_HOST",c}const o=e.pathname;let a=-1;for(;++a<o.length;)if(o.codePointAt(a)===37&&o.codePointAt(a+1)===50){const c=o.codePointAt(a+2);if(c===70||c===102){const d=new TypeError("File URL path must not include encoded / characters");throw d.code="ERR_INVALID_FILE_URL_PATH",d}}return decodeURIComponent(o)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(o){let a;o?isUrl(o)?a={path:o}:typeof o=="string"||isUint8Array$1(o)?a={value:o}:a=o:a={},this.cwd="cwd"in a?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let c=-1;for(;++c<order.length;){const g=order[c];g in a&&a[g]!==void 0&&a[g]!==null&&(this[g]=g==="history"?[...a[g]]:a[g])}let d;for(d in a)order.includes(d)||(this[d]=a[d])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(o){assertNonEmpty(o,"basename"),assertPart(o,"basename"),this.path=minpath.join(this.dirname||"",o)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(o){assertPath(this.basename,"dirname"),this.path=minpath.join(o||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(o){if(assertPart(o,"extname"),assertPath(this.dirname,"extname"),o){if(o.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(o.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(o||""))}get path(){return this.history[this.history.length-1]}set path(o){isUrl(o)&&(o=urlToPath(o)),assertNonEmpty(o,"path"),this.path!==o&&this.history.push(o)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(o){assertNonEmpty(o,"stem"),assertPart(o,"stem"),this.path=minpath.join(this.dirname||"",o+(this.extname||""))}fail(o,a,c){const d=this.message(o,a,c);throw d.fatal=!0,d}info(o,a,c){const d=this.message(o,a,c);return d.fatal=void 0,d}message(o,a,c){const d=new VFileMessage(o,a,c);return this.path&&(d.name=this.path+":"+d.name,d.file=this.path),d.fatal=!1,this.messages.push(d),d}toString(o){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(o||void 0).decode(this.value)}}function assertPart(e,o){if(e&&e.includes(minpath.sep))throw new Error("`"+o+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(e,o){if(!e)throw new Error("`"+o+"` cannot be empty")}function assertPath(e,o){if(!e)throw new Error("Setting `"+o+"` requires `path` to be set too")}function isUint8Array$1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CallableInstance=function(e){const c=this.constructor.prototype,d=c[e],g=function(){return d.apply(g,arguments)};return Object.setPrototypeOf(g,c),g},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const o=new Processor;let a=-1;for(;++a<this.attachers.length;){const c=this.attachers[a];o.use(...c)}return o.data(extend$1(!0,{},this.namespace)),o}data(o,a){return typeof o=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[o]=a,this):own.call(this.namespace,o)&&this.namespace[o]||void 0:o?(assertUnfrozen("data",this.frozen),this.namespace=o,this):this.namespace}freeze(){if(this.frozen)return this;const o=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...c]=this.attachers[this.freezeIndex];if(c[0]===!1)continue;c[0]===!0&&(c[0]=void 0);const d=a.call(o,...c);typeof d=="function"&&this.transformers.use(d)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(o){this.freeze();const a=vfile(o),c=this.parser||this.Parser;return assertParser("parse",c),c(String(a),a)}process(o,a){const c=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),a?d(void 0,a):new Promise(d);function d(g,b){const _=vfile(o),$=c.parse(_);c.run($,_,function(rt,nt,In){if(rt||!nt||!In)return j(rt);const xl=nt,Ll=c.stringify(xl,In);looksLikeAValue(Ll)?In.value=Ll:In.result=Ll,j(rt,In)});function j(rt,nt){rt||!nt?b(rt):g?g(nt):a(void 0,nt)}}}processSync(o){let a=!1,c;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(o,d),assertDone("processSync","process",a),c;function d(g,b){a=!0,bail(g),c=b}}run(o,a,c){assertNode(o),this.freeze();const d=this.transformers;return!c&&typeof a=="function"&&(c=a,a=void 0),c?g(void 0,c):new Promise(g);function g(b,_){const $=vfile(a);d.run(o,$,j);function j(rt,nt,In){const xl=nt||o;rt?_(rt):b?b(xl):c(void 0,xl,In)}}}runSync(o,a){let c=!1,d;return this.run(o,a,g),assertDone("runSync","run",c),d;function g(b,_){bail(b),d=_,c=!0}}stringify(o,a){this.freeze();const c=vfile(a),d=this.compiler||this.Compiler;return assertCompiler("stringify",d),assertNode(o),d(o,c)}use(o,...a){const c=this.attachers,d=this.namespace;if(assertUnfrozen("use",this.frozen),o!=null)if(typeof o=="function")$(o,a);else if(typeof o=="object")Array.isArray(o)?_(o):b(o);else throw new TypeError("Expected usable value, not `"+o+"`");return this;function g(j){if(typeof j=="function")$(j,[]);else if(typeof j=="object")if(Array.isArray(j)){const[rt,...nt]=j;$(rt,nt)}else b(j);else throw new TypeError("Expected usable value, not `"+j+"`")}function b(j){if(!("plugins"in j)&&!("settings"in j))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");_(j.plugins),j.settings&&(d.settings=extend$1(!0,d.settings,j.settings))}function _(j){let rt=-1;if(j!=null)if(Array.isArray(j))for(;++rt<j.length;){const nt=j[rt];g(nt)}else throw new TypeError("Expected a list of plugins, not `"+j+"`")}function $(j,rt){let nt=-1,In=-1;for(;++nt<c.length;)if(c[nt][0]===j){In=nt;break}if(In===-1)c.push([j,...rt]);else if(rt.length>0){let[xl,...Ll]=rt;const Nl=c[In][1];isPlainObject(Nl)&&isPlainObject(xl)&&(xl=extend$1(!0,Nl,xl)),c[In]=[j,xl,...Ll]}}}}const unified=new Processor().freeze();function assertParser(e,o){if(typeof o!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function assertCompiler(e,o){if(typeof o!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function assertUnfrozen(e,o){if(o)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,o,a){if(!a)throw new Error("`"+e+"` finished async. Use `"+o+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAValue(e){return typeof e=="string"||isUint8Array(e)}function isUint8Array(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(e){const o=createProcessor(e),a=createFile(e);return post(o.runSync(o.parse(a),a),e)}function createProcessor(e){const o=e.rehypePlugins||emptyPlugins,a=e.remarkPlugins||emptyPlugins,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(a).use(remarkRehype,c).use(o)}function createFile(e){const o=e.children||"",a=new VFile;return typeof o=="string"&&(a.value=o),a}function post(e,o){const a=o.allowedElements,c=o.allowElement,d=o.components,g=o.disallowedElements,b=o.skipHtml,_=o.unwrapDisallowed,$=o.urlTransform||defaultUrlTransform;for(const rt of deprecations)Object.hasOwn(o,rt.from)&&(""+rt.from+(rt.to?"use `"+rt.to+"` instead":"remove it")+changelog+rt.id,void 0);return visit(e,j),toJsxRuntime(e,{Fragment:jsxRuntimeExports$1.Fragment,components:d,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports$1.jsx,jsxs:jsxRuntimeExports$1.jsxs,passKeys:!0,passNode:!0});function j(rt,nt,In){if(rt.type==="raw"&&In&&typeof nt=="number")return b?In.children.splice(nt,1):In.children[nt]={type:"text",value:rt.value},nt;if(rt.type==="element"){let xl;for(xl in urlAttributes)if(Object.hasOwn(urlAttributes,xl)&&Object.hasOwn(rt.properties,xl)){const Ll=rt.properties[xl],Nl=urlAttributes[xl];(Nl===null||Nl.includes(rt.tagName))&&(rt.properties[xl]=$(String(Ll||""),xl,rt))}}if(rt.type==="element"){let xl=a?!a.includes(rt.tagName):g?g.includes(rt.tagName):!1;if(!xl&&c&&typeof nt=="number"&&(xl=!c(rt,nt,In)),xl&&In&&typeof nt=="number")return _&&rt.children?In.children.splice(nt,1,...rt.children):In.children.splice(nt,1),nt}}}function defaultUrlTransform(e){const o=e.indexOf(":"),a=e.indexOf("?"),c=e.indexOf("#"),d=e.indexOf("/");return o===-1||d!==-1&&o>d||a!==-1&&o>a||c!==-1&&o>c||safeProtocol.test(e.slice(0,o))?e:""}function longestStreak(e,o){const a=String(e);let c=a.indexOf(o),d=c,g=0,b=0;if(typeof o!="string")throw new TypeError("Expected substring");for(;c!==-1;)c===d?++g>b&&(b=g):g=1,d=c+o.length,c=a.indexOf(o,d);return b}function mathFromMarkdown(){return{enter:{mathFlow:e,mathFlowFenceMeta:o,mathText:g},exit:{mathFlow:d,mathFlowFence:c,mathFlowFenceMeta:a,mathFlowValue:_,mathText:b,mathTextData:_}};function e($){const j={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[j]}},$)}function o(){this.buffer()}function a(){const $=this.resume(),j=this.stack[this.stack.length-1];j.type,j.meta=$}function c(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function d($){const j=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),rt=this.stack[this.stack.length-1];rt.type,this.exit($),rt.value=j;const nt=rt.data.hChildren[0];nt.type,nt.tagName,nt.children.push({type:"text",value:j}),this.data.mathFlowInside=void 0}function g($){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},$),this.buffer()}function b($){const j=this.resume(),rt=this.stack[this.stack.length-1];rt.type,this.exit($),rt.value=j,rt.data.hChildren.push({type:"text",value:j})}function _($){this.config.enter.data.call(this,$),this.config.exit.data.call(this,$)}}function mathToMarkdown(e){let o=(e||{}).singleDollarTextMath;return o==null&&(o=!0),c.peek=d,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:o?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:a,inlineMath:c}};function a(g,b,_,$){const j=g.value||"",rt=_.createTracker($),nt="$".repeat(Math.max(longestStreak(j,"$")+1,2)),In=_.enter("mathFlow");let xl=rt.move(nt);if(g.meta){const Ll=_.enter("mathFlowMeta");xl+=rt.move(_.safe(g.meta,{after:`
`,before:xl,encode:["$"],...rt.current()})),Ll()}return xl+=rt.move(`
`),j&&(xl+=rt.move(j+`
`)),xl+=rt.move(nt),In(),xl}function c(g,b,_){let $=g.value||"",j=1;for(o||j++;new RegExp("(^|[^$])"+"\\$".repeat(j)+"([^$]|$)").test($);)j++;const rt="$".repeat(j);/[^ \r\n]/.test($)&&(/^[ \r\n]/.test($)&&/[ \r\n]$/.test($)||/^\$|\$$/.test($))&&($=" "+$+" ");let nt=-1;for(;++nt<_.unsafe.length;){const In=_.unsafe[nt];if(!In.atBreak)continue;const xl=_.compilePattern(In);let Ll;for(;Ll=xl.exec($);){let Nl=Ll.index;$.codePointAt(Nl)===10&&$.codePointAt(Nl-1)===13&&Nl--,$=$.slice(0,Nl)+" "+$.slice(Ll.index+1)}}return rt+$+rt}function d(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(e,o,a){const c=this,d=c.events[c.events.length-1],g=d&&d[1].type==="linePrefix"?d[2].sliceSerialize(d[1],!0).length:0;let b=0;return _;function _(Ul){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),$(Ul)}function $(Ul){return Ul===36?(e.consume(Ul),b++,$):b<2?a(Ul):(e.exit("mathFlowFenceSequence"),factorySpace$1(e,j,"whitespace")(Ul))}function j(Ul){return Ul===null||markdownLineEnding$1(Ul)?nt(Ul):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),rt(Ul))}function rt(Ul){return Ul===null||markdownLineEnding$1(Ul)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),nt(Ul)):Ul===36?a(Ul):(e.consume(Ul),rt)}function nt(Ul){return e.exit("mathFlowFence"),c.interrupt?o(Ul):e.attempt(nonLazyContinuation,In,_u)(Ul)}function In(Ul){return e.attempt({tokenize:Yl,partial:!0},_u,xl)(Ul)}function xl(Ul){return(g?factorySpace$1(e,Ll,"linePrefix",g+1):Ll)(Ul)}function Ll(Ul){return Ul===null?_u(Ul):markdownLineEnding$1(Ul)?e.attempt(nonLazyContinuation,In,_u)(Ul):(e.enter("mathFlowValue"),Nl(Ul))}function Nl(Ul){return Ul===null||markdownLineEnding$1(Ul)?(e.exit("mathFlowValue"),Ll(Ul)):(e.consume(Ul),Nl)}function _u(Ul){return e.exit("mathFlow"),o(Ul)}function Yl(Ul,Dl,Zl){let Ju=0;return factorySpace$1(Ul,Uu,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function Uu(Lp){return Ul.enter("mathFlowFence"),Ul.enter("mathFlowFenceSequence"),fp(Lp)}function fp(Lp){return Lp===36?(Ju++,Ul.consume(Lp),fp):Ju<b?Zl(Lp):(Ul.exit("mathFlowFenceSequence"),factorySpace$1(Ul,Zu,"whitespace")(Lp))}function Zu(Lp){return Lp===null||markdownLineEnding$1(Lp)?(Ul.exit("mathFlowFence"),Dl(Lp)):Zl(Lp)}}}function tokenizeNonLazyContinuation(e,o,a){const c=this;return d;function d(b){return b===null?o(b):(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g)}function g(b){return c.parser.lazy[c.now().line]?a(b):o(b)}}function mathText(e){let a=(e||{}).singleDollarTextMath;return a==null&&(a=!0),{tokenize:c,resolve:resolveMathText,previous:previous$1,name:"mathText"};function c(d,g,b){let _=0,$,j;return rt;function rt(Nl){return d.enter("mathText"),d.enter("mathTextSequence"),nt(Nl)}function nt(Nl){return Nl===36?(d.consume(Nl),_++,nt):_<2&&!a?b(Nl):(d.exit("mathTextSequence"),In(Nl))}function In(Nl){return Nl===null?b(Nl):Nl===36?(j=d.enter("mathTextSequence"),$=0,Ll(Nl)):Nl===32?(d.enter("space"),d.consume(Nl),d.exit("space"),In):markdownLineEnding$1(Nl)?(d.enter("lineEnding"),d.consume(Nl),d.exit("lineEnding"),In):(d.enter("mathTextData"),xl(Nl))}function xl(Nl){return Nl===null||Nl===32||Nl===36||markdownLineEnding$1(Nl)?(d.exit("mathTextData"),In(Nl)):(d.consume(Nl),xl)}function Ll(Nl){return Nl===36?(d.consume(Nl),$++,Ll):$===_?(d.exit("mathTextSequence"),d.exit("mathText"),g(Nl)):(j.type="mathTextData",xl(Nl))}}}function resolveMathText(e){let o=e.length-4,a=3,c,d;if((e[a][1].type==="lineEnding"||e[a][1].type==="space")&&(e[o][1].type==="lineEnding"||e[o][1].type==="space")){for(c=a;++c<o;)if(e[c][1].type==="mathTextData"){e[o][1].type="mathTextPadding",e[a][1].type="mathTextPadding",a+=2,o-=2;break}}for(c=a-1,o++;++c<=o;)d===void 0?c!==o&&e[c][1].type!=="lineEnding"&&(d=c):(c===o||e[c][1].type==="lineEnding")&&(e[d][1].type="mathTextData",c!==d+2&&(e[d][1].end=e[c-1][1].end,e.splice(d+2,c-d-2),o-=c-d-2,c=d+2),d=void 0);return e}function previous$1(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(e){return{flow:{36:mathFlow},text:{36:mathText(e)}}}class SourceLocation{constructor(o,a,c){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=o,this.start=a,this.end=c}static range(o,a){return a?!o||!o.loc||!a.loc||o.loc.lexer!==a.loc.lexer?null:new SourceLocation(o.loc.lexer,o.loc.start,a.loc.end):o&&o.loc}}class Token{constructor(o,a){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=o,this.loc=a}range(o,a){return new Token(a,SourceLocation.range(this,o))}}class ParseError{constructor(o,a){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var c="KaTeX parse error: "+o,d,g,b=a&&a.loc;if(b&&b.start<=b.end){var _=b.lexer.input;d=b.start,g=b.end,d===_.length?c+=" at end of input: ":c+=" at position "+(d+1)+": ";var $=_.slice(d,g).replace(/[^]/g,"$&"),j;d>15?j=""+_.slice(d-15,d):j=_.slice(0,d);var rt;g+15<_.length?rt=_.slice(g,g+15)+"":rt=_.slice(g),c+=j+$+rt}var nt=new Error(c);return nt.name="ParseError",nt.__proto__=ParseError.prototype,nt.position=d,d!=null&&g!=null&&(nt.length=g-d),nt.rawMessage=o,nt}}ParseError.prototype.__proto__=Error.prototype;var deflt=function e(o,a){return o===void 0?a:o},uppercase=/([A-Z])/g,hyphenate=function e(o){return o.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(e){return String(e).replace(ESCAPE_REGEX,o=>ESCAPE_LOOKUP[o])}var getBaseElem=function e(o){return o.type==="ordgroup"||o.type==="color"?o.body.length===1?e(o.body[0]):o:o.type==="font"?e(o.body):o},isCharacterBox=function e(o){var a=getBaseElem(o);return a.type==="mathord"||a.type==="textord"||a.type==="atom"},assert=function e(o){if(!o)throw new Error("Expected non-null, but got "+String(o));return o},protocolFromUrl=function e(o){var a=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(o);return a?a[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(a[1])?null:a[1].toLowerCase():"_relative"},utils={deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,o)=>(o.push(e),o)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(e){if(e.default)return e.default;var o=e.type,a=Array.isArray(o)?o[0]:o;if(typeof a!="string")return a.enum[0];switch(a){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(o){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,o=o||{};for(var a in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(a)){var c=SETTINGS_SCHEMA[a];this[a]=o[a]!==void 0?c.processor?c.processor(o[a]):o[a]:getDefaultValue(c)}}reportNonstrict(o,a,c){var d=this.strict;if(typeof d=="function"&&(d=d(o,a,c)),!(!d||d==="ignore")){if(d===!0||d==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(a+" ["+o+"]"),c);d==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(a+" ["+o+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+d+"': "+a+" ["+o+"]"))}}useStrictBehavior(o,a,c){var d=this.strict;if(typeof d=="function")try{d=d(o,a,c)}catch{d="error"}return!d||d==="ignore"?!1:d===!0||d==="error"?!0:d==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(a+" ["+o+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+d+"': "+a+" ["+o+"]")),!1)}isTrusted(o){if(o.url&&!o.protocol){var a=utils.protocolFromUrl(o.url);if(a==null)return!1;o.protocol=a}var c=typeof this.trust=="function"?this.trust(o):this.trust;return!!c}}class Style{constructor(o,a,c){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=o,this.size=a,this.cramped=c}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(e){for(var o=0;o<scriptData.length;o++)for(var a=scriptData[o],c=0;c<a.blocks.length;c++){var d=a.blocks[c];if(e>=d[0]&&e<=d[1])return a.name}return null}var allBlocks=[];scriptData.forEach(e=>e.blocks.forEach(o=>allBlocks.push(...o)));function supportedCodepoint(e){for(var o=0;o<allBlocks.length;o+=2)if(e>=allBlocks[o]&&e<=allBlocks[o+1])return!0;return!1}var hLinePad=80,sqrtMain=function e(o,a){return"M95,"+(622+o+a)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+o/2.075+" -"+o+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+o)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+o)+" "+a+"h400000v"+(40+o)+"h-400000z"},sqrtSize1=function e(o,a){return"M263,"+(601+o+a)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+o/2.084+" -"+o+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+o)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+o)+" "+a+"h400000v"+(40+o)+"h-400000z"},sqrtSize2=function e(o,a){return"M983 "+(10+o+a)+`
l`+o/3.13+" -"+o+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+o)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+o)+" "+a+"h400000v"+(40+o)+"h-400000z"},sqrtSize3=function e(o,a){return"M424,"+(2398+o+a)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+o/4.223+" -"+o+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+o)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+o)+" "+a+`
h400000v`+(40+o)+"h-400000z"},sqrtSize4=function e(o,a){return"M473,"+(2713+o+a)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+o/5.298+" -"+o+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+o)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+o)+" "+a+"h400000v"+(40+o)+"H1017.7z"},phasePath=function e(o){var a=o/2;return"M400000 "+o+" H0 L"+a+" 0 l65 45 L145 "+(o-80)+" H400000z"},sqrtTall=function e(o,a,c){var d=c-54-a-o;return"M702 "+(o+a)+"H400000"+(40+o)+`
H742v`+d+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+a+"H400000v"+(40+o)+"H742z"},sqrtPath=function e(o,a,c){a=1e3*a;var d="";switch(o){case"sqrtMain":d=sqrtMain(a,hLinePad);break;case"sqrtSize1":d=sqrtSize1(a,hLinePad);break;case"sqrtSize2":d=sqrtSize2(a,hLinePad);break;case"sqrtSize3":d=sqrtSize3(a,hLinePad);break;case"sqrtSize4":d=sqrtSize4(a,hLinePad);break;case"sqrtTall":d=sqrtTall(a,hLinePad,c)}return d},innerPath=function e(o,a){switch(o){case"":return"M291 0 H417 V"+a+" H291z M291 0 H417 V"+a+" H291z";case"":return"M145 0 H188 V"+a+" H145z M145 0 H188 V"+a+" H145z";case"":return"M145 0 H188 V"+a+" H145z M145 0 H188 V"+a+" H145z"+("M367 0 H410 V"+a+" H367z M367 0 H410 V"+a+" H367z");case"":return"M457 0 H583 V"+a+" H457z M457 0 H583 V"+a+" H457z";case"":return"M319 0 H403 V"+a+" H319z M319 0 H403 V"+a+" H319z";case"":return"M263 0 H347 V"+a+" H263z M263 0 H347 V"+a+" H263z";case"":return"M384 0 H504 V"+a+" H384z M384 0 H504 V"+a+" H384z";case"":return"M312 0 H355 V"+a+" H312z M312 0 H355 V"+a+" H312z";case"":return"M257 0 H300 V"+a+" H257z M257 0 H300 V"+a+" H257z"+("M478 0 H521 V"+a+" H478z M478 0 H521 V"+a+" H478z");default:return""}},path$1={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function e(o,a){switch(o){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+a+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+a+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+a+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+a+" v1759 h84z";case"vert":return"M145 15 v585 v"+a+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-a+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+a+" v585 h43z";case"doublevert":return"M145 15 v585 v"+a+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-a+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+a+` v585 h43z
M367 15 v585 v`+a+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-a+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+a+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+a+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+a+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+a+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+a+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+a+` v602 h84z
M403 1759 V0 H319 V1759 v`+a+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+a+` v602 h84z
M347 1759 V0 h-84 V1759 v`+a+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(a+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(a+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(a+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(a+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class DocumentFragment{constructor(o){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=o,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(o){return this.classes.includes(o)}toNode(){for(var o=document.createDocumentFragment(),a=0;a<this.children.length;a++)o.appendChild(this.children[a].toNode());return o}toMarkup(){for(var o="",a=0;a<this.children.length;a++)o+=this.children[a].toMarkup();return o}toText(){var o=a=>a.toText();return this.children.map(o).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(e,o){fontMetricsData[e]=o}function getCharacterMetrics(e,o,a){if(!fontMetricsData[o])throw new Error("Font metrics not found for font: "+o+".");var c=e.charCodeAt(0),d=fontMetricsData[o][c];if(!d&&e[0]in extraCharacterMap&&(c=extraCharacterMap[e[0]].charCodeAt(0),d=fontMetricsData[o][c]),!d&&a==="text"&&supportedCodepoint(c)&&(d=fontMetricsData[o][77]),d)return{depth:d[0],height:d[1],italic:d[2],skew:d[3],width:d[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(e){var o;if(e>=5?o=0:e>=3?o=1:o=2,!fontMetricsBySizeIndex[o]){var a=fontMetricsBySizeIndex[o]={cssEmPerMu:sigmasAndXis.quad[o]/18};for(var c in sigmasAndXis)sigmasAndXis.hasOwnProperty(c)&&(a[c]=sigmasAndXis[c][o])}return fontMetricsBySizeIndex[o]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function e(o,a){return a.size<2?o:sizeStyleMap[o-1][a.size-1]};class Options{constructor(o){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=o.style,this.color=o.color,this.size=o.size||Options.BASESIZE,this.textSize=o.textSize||this.size,this.phantom=!!o.phantom,this.font=o.font||"",this.fontFamily=o.fontFamily||"",this.fontWeight=o.fontWeight||"",this.fontShape=o.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=o.maxSize,this.minRuleThickness=o.minRuleThickness,this._fontMetrics=void 0}extend(o){var a={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var c in o)o.hasOwnProperty(c)&&(a[c]=o[c]);return new Options(a)}havingStyle(o){return this.style===o?this:this.extend({style:o,size:sizeAtStyle(this.textSize,o)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(o){return this.size===o&&this.textSize===o?this:this.extend({style:this.style.text(),size:o,textSize:o,sizeMultiplier:sizeMultipliers[o-1]})}havingBaseStyle(o){o=o||this.style.text();var a=sizeAtStyle(Options.BASESIZE,o);return this.size===a&&this.textSize===Options.BASESIZE&&this.style===o?this:this.extend({style:o,size:a})}havingBaseSizing(){var o;switch(this.style.id){case 4:case 5:o=3;break;case 6:case 7:o=1;break;default:o=6}return this.extend({style:this.style.text(),size:o})}withColor(o){return this.extend({color:o})}withPhantom(){return this.extend({phantom:!0})}withFont(o){return this.extend({font:o})}withTextFontFamily(o){return this.extend({fontFamily:o,font:""})}withTextFontWeight(o){return this.extend({fontWeight:o,font:""})}withTextFontShape(o){return this.extend({fontShape:o,font:""})}sizingClasses(o){return o.size!==this.size?["sizing","reset-size"+o.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function e(o){return typeof o!="string"&&(o=o.unit),o in ptPerUnit||o in relativeUnit||o==="ex"},calculateSize=function e(o,a){var c;if(o.unit in ptPerUnit)c=ptPerUnit[o.unit]/a.fontMetrics().ptPerEm/a.sizeMultiplier;else if(o.unit==="mu")c=a.fontMetrics().cssEmPerMu;else{var d;if(a.style.isTight()?d=a.havingStyle(a.style.text()):d=a,o.unit==="ex")c=d.fontMetrics().xHeight;else if(o.unit==="em")c=d.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+o.unit+"'");d!==a&&(c*=d.sizeMultiplier/a.sizeMultiplier)}return Math.min(o.number*c,a.maxSize)},makeEm=function e(o){return+o.toFixed(4)+"em"},createClass=function e(o){return o.filter(a=>a).join(" ")},initNode=function e(o,a,c){if(this.classes=o||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=c||{},a){a.style.isTight()&&this.classes.push("mtight");var d=a.getColor();d&&(this.style.color=d)}},toNode=function e(o){var a=document.createElement(o);a.className=createClass(this.classes);for(var c in this.style)this.style.hasOwnProperty(c)&&(a.style[c]=this.style[c]);for(var d in this.attributes)this.attributes.hasOwnProperty(d)&&a.setAttribute(d,this.attributes[d]);for(var g=0;g<this.children.length;g++)a.appendChild(this.children[g].toNode());return a},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function e(o){var a="<"+o;this.classes.length&&(a+=' class="'+utils.escape(createClass(this.classes))+'"');var c="";for(var d in this.style)this.style.hasOwnProperty(d)&&(c+=utils.hyphenate(d)+":"+this.style[d]+";");c&&(a+=' style="'+utils.escape(c)+'"');for(var g in this.attributes)if(this.attributes.hasOwnProperty(g)){if(invalidAttributeNameRegex.test(g))throw new ParseError("Invalid attribute name '"+g+"'");a+=" "+g+'="'+utils.escape(this.attributes[g])+'"'}a+=">";for(var b=0;b<this.children.length;b++)a+=this.children[b].toMarkup();return a+="</"+o+">",a};class Span{constructor(o,a,c,d){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,o,c,d),this.children=a||[]}setAttribute(o,a){this.attributes[o]=a}hasClass(o){return this.classes.includes(o)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(o,a,c,d){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,a,d),this.children=c||[],this.setAttribute("href",o)}setAttribute(o,a){this.attributes[o]=a}hasClass(o){return this.classes.includes(o)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(o,a,c){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=a,this.src=o,this.classes=["mord"],this.style=c}hasClass(o){return this.classes.includes(o)}toNode(){var o=document.createElement("img");o.src=this.src,o.alt=this.alt,o.className="mord";for(var a in this.style)this.style.hasOwnProperty(a)&&(o.style[a]=this.style[a]);return o}toMarkup(){var o='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),a="";for(var c in this.style)this.style.hasOwnProperty(c)&&(a+=utils.hyphenate(c)+":"+this.style[c]+";");return a&&(o+=' style="'+utils.escape(a)+'"'),o+="'/>",o}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(o,a,c,d,g,b,_,$){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=o,this.height=a||0,this.depth=c||0,this.italic=d||0,this.skew=g||0,this.width=b||0,this.classes=_||[],this.style=$||{},this.maxFontSize=0;var j=scriptFromCodepoint(this.text.charCodeAt(0));j&&this.classes.push(j+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(o){return this.classes.includes(o)}toNode(){var o=document.createTextNode(this.text),a=null;this.italic>0&&(a=document.createElement("span"),a.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(a=a||document.createElement("span"),a.className=createClass(this.classes));for(var c in this.style)this.style.hasOwnProperty(c)&&(a=a||document.createElement("span"),a.style[c]=this.style[c]);return a?(a.appendChild(o),a):o}toMarkup(){var o=!1,a="<span";this.classes.length&&(o=!0,a+=' class="',a+=utils.escape(createClass(this.classes)),a+='"');var c="";this.italic>0&&(c+="margin-right:"+this.italic+"em;");for(var d in this.style)this.style.hasOwnProperty(d)&&(c+=utils.hyphenate(d)+":"+this.style[d]+";");c&&(o=!0,a+=' style="'+utils.escape(c)+'"');var g=utils.escape(this.text);return o?(a+=">",a+=g,a+="</span>",a):g}}class SvgNode{constructor(o,a){this.children=void 0,this.attributes=void 0,this.children=o||[],this.attributes=a||{}}toNode(){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg");for(var c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&a.setAttribute(c,this.attributes[c]);for(var d=0;d<this.children.length;d++)a.appendChild(this.children[d].toNode());return a}toMarkup(){var o='<svg xmlns="http://www.w3.org/2000/svg"';for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&(o+=" "+a+'="'+utils.escape(this.attributes[a])+'"');o+=">";for(var c=0;c<this.children.length;c++)o+=this.children[c].toMarkup();return o+="</svg>",o}}class PathNode{constructor(o,a){this.pathName=void 0,this.alternate=void 0,this.pathName=o,this.alternate=a}toNode(){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"path");return this.alternate?a.setAttribute("d",this.alternate):a.setAttribute("d",path$1[this.pathName]),a}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path$1[this.pathName])+'"/>'}}class LineNode{constructor(o){this.attributes=void 0,this.attributes=o||{}}toNode(){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"line");for(var c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&a.setAttribute(c,this.attributes[c]);return a}toMarkup(){var o="<line";for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&(o+=" "+a+'="'+utils.escape(this.attributes[a])+'"');return o+="/>",o}}function assertSymbolDomNode(e){if(e instanceof SymbolNode)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function assertSpan(e){if(e instanceof Span)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(e,o,a,c,d,g){symbols[e][d]={font:o,group:a,replace:c},g&&c&&(symbols[e][c]=symbols[e][d])}var math="math",text$3="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open$1="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0);defineSymbol(math,main,rel,"","\\prec",!0);defineSymbol(math,main,rel,"","\\succ",!0);defineSymbol(math,main,rel,"","\\sim",!0);defineSymbol(math,main,rel,"","\\perp");defineSymbol(math,main,rel,"","\\preceq",!0);defineSymbol(math,main,rel,"","\\succeq",!0);defineSymbol(math,main,rel,"","\\simeq",!0);defineSymbol(math,main,rel,"","\\mid",!0);defineSymbol(math,main,rel,"","\\ll",!0);defineSymbol(math,main,rel,"","\\gg",!0);defineSymbol(math,main,rel,"","\\asymp",!0);defineSymbol(math,main,rel,"","\\parallel");defineSymbol(math,main,rel,"","\\bowtie",!0);defineSymbol(math,main,rel,"","\\smile",!0);defineSymbol(math,main,rel,"","\\sqsubseteq",!0);defineSymbol(math,main,rel,"","\\sqsupseteq",!0);defineSymbol(math,main,rel,"","\\doteq",!0);defineSymbol(math,main,rel,"","\\frown",!0);defineSymbol(math,main,rel,"","\\ni",!0);defineSymbol(math,main,rel,"","\\propto",!0);defineSymbol(math,main,rel,"","\\vdash",!0);defineSymbol(math,main,rel,"","\\dashv",!0);defineSymbol(math,main,rel,"","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$3,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$3,main,textord,"&","\\&");defineSymbol(math,main,textord,"","\\aleph",!0);defineSymbol(math,main,textord,"","\\forall",!0);defineSymbol(math,main,textord,"","\\hbar",!0);defineSymbol(math,main,textord,"","\\exists",!0);defineSymbol(math,main,textord,"","\\nabla",!0);defineSymbol(math,main,textord,"","\\flat",!0);defineSymbol(math,main,textord,"","\\ell",!0);defineSymbol(math,main,textord,"","\\natural",!0);defineSymbol(math,main,textord,"","\\clubsuit",!0);defineSymbol(math,main,textord,"","\\wp",!0);defineSymbol(math,main,textord,"","\\sharp",!0);defineSymbol(math,main,textord,"","\\diamondsuit",!0);defineSymbol(math,main,textord,"","\\Re",!0);defineSymbol(math,main,textord,"","\\heartsuit",!0);defineSymbol(math,main,textord,"","\\Im",!0);defineSymbol(math,main,textord,"","\\spadesuit",!0);defineSymbol(math,main,textord,"","\\S",!0);defineSymbol(text$3,main,textord,"","\\S");defineSymbol(math,main,textord,"","\\P",!0);defineSymbol(text$3,main,textord,"","\\P");defineSymbol(math,main,textord,"","\\dag");defineSymbol(text$3,main,textord,"","\\dag");defineSymbol(text$3,main,textord,"","\\textdagger");defineSymbol(math,main,textord,"","\\ddag");defineSymbol(text$3,main,textord,"","\\ddag");defineSymbol(text$3,main,textord,"","\\textdaggerdbl");defineSymbol(math,main,close,"","\\rmoustache",!0);defineSymbol(math,main,open$1,"","\\lmoustache",!0);defineSymbol(math,main,close,"","\\rgroup",!0);defineSymbol(math,main,open$1,"","\\lgroup",!0);defineSymbol(math,main,bin,"","\\mp",!0);defineSymbol(math,main,bin,"","\\ominus",!0);defineSymbol(math,main,bin,"","\\uplus",!0);defineSymbol(math,main,bin,"","\\sqcap",!0);defineSymbol(math,main,bin,"","\\ast");defineSymbol(math,main,bin,"","\\sqcup",!0);defineSymbol(math,main,bin,"","\\bigcirc",!0);defineSymbol(math,main,bin,"","\\bullet",!0);defineSymbol(math,main,bin,"","\\ddagger");defineSymbol(math,main,bin,"","\\wr",!0);defineSymbol(math,main,bin,"","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"","\\longleftarrow",!0);defineSymbol(math,main,rel,"","\\Leftarrow",!0);defineSymbol(math,main,rel,"","\\Longleftarrow",!0);defineSymbol(math,main,rel,"","\\longrightarrow",!0);defineSymbol(math,main,rel,"","\\Rightarrow",!0);defineSymbol(math,main,rel,"","\\Longrightarrow",!0);defineSymbol(math,main,rel,"","\\leftrightarrow",!0);defineSymbol(math,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\mapsto",!0);defineSymbol(math,main,rel,"","\\longmapsto",!0);defineSymbol(math,main,rel,"","\\nearrow",!0);defineSymbol(math,main,rel,"","\\hookleftarrow",!0);defineSymbol(math,main,rel,"","\\hookrightarrow",!0);defineSymbol(math,main,rel,"","\\searrow",!0);defineSymbol(math,main,rel,"","\\leftharpoonup",!0);defineSymbol(math,main,rel,"","\\rightharpoonup",!0);defineSymbol(math,main,rel,"","\\swarrow",!0);defineSymbol(math,main,rel,"","\\leftharpoondown",!0);defineSymbol(math,main,rel,"","\\rightharpoondown",!0);defineSymbol(math,main,rel,"","\\nwarrow",!0);defineSymbol(math,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"","\\lneq",!0);defineSymbol(math,ams,rel,"","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"","\\lnsim",!0);defineSymbol(math,ams,rel,"","\\lnapprox",!0);defineSymbol(math,ams,rel,"","\\nprec",!0);defineSymbol(math,ams,rel,"","\\npreceq",!0);defineSymbol(math,ams,rel,"","\\precnsim",!0);defineSymbol(math,ams,rel,"","\\precnapprox",!0);defineSymbol(math,ams,rel,"","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"","\\nmid",!0);defineSymbol(math,ams,rel,"","\\nvdash",!0);defineSymbol(math,ams,rel,"","\\nvDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleleft");defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"","\\gneq",!0);defineSymbol(math,ams,rel,"","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"","\\gnsim",!0);defineSymbol(math,ams,rel,"","\\gnapprox",!0);defineSymbol(math,ams,rel,"","\\nsucc",!0);defineSymbol(math,ams,rel,"","\\nsucceq",!0);defineSymbol(math,ams,rel,"","\\succnsim",!0);defineSymbol(math,ams,rel,"","\\succnapprox",!0);defineSymbol(math,ams,rel,"","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"","\\nparallel",!0);defineSymbol(math,ams,rel,"","\\nVDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleright");defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"","\\nVdash",!0);defineSymbol(math,ams,rel,"","\\precneqq",!0);defineSymbol(math,ams,rel,"","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"","\\unlhd");defineSymbol(math,ams,bin,"","\\unrhd");defineSymbol(math,ams,rel,"","\\nleftarrow",!0);defineSymbol(math,ams,rel,"","\\nrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"","\\nRightarrow",!0);defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"","\\vartriangle");defineSymbol(math,ams,textord,"","\\hslash");defineSymbol(math,ams,textord,"","\\triangledown");defineSymbol(math,ams,textord,"","\\lozenge");defineSymbol(math,ams,textord,"","\\circledS");defineSymbol(math,ams,textord,"","\\circledR");defineSymbol(text$3,ams,textord,"","\\circledR");defineSymbol(math,ams,textord,"","\\measuredangle",!0);defineSymbol(math,ams,textord,"","\\nexists");defineSymbol(math,ams,textord,"","\\mho");defineSymbol(math,ams,textord,"","\\Finv",!0);defineSymbol(math,ams,textord,"","\\Game",!0);defineSymbol(math,ams,textord,"","\\backprime");defineSymbol(math,ams,textord,"","\\blacktriangle");defineSymbol(math,ams,textord,"","\\blacktriangledown");defineSymbol(math,ams,textord,"","\\blacksquare");defineSymbol(math,ams,textord,"","\\blacklozenge");defineSymbol(math,ams,textord,"","\\bigstar");defineSymbol(math,ams,textord,"","\\sphericalangle",!0);defineSymbol(math,ams,textord,"","\\complement",!0);defineSymbol(math,ams,textord,"","\\eth",!0);defineSymbol(text$3,main,textord,"","");defineSymbol(math,ams,textord,"","\\diagup");defineSymbol(math,ams,textord,"","\\diagdown");defineSymbol(math,ams,textord,"","\\square");defineSymbol(math,ams,textord,"","\\Box");defineSymbol(math,ams,textord,"","\\Diamond");defineSymbol(math,ams,textord,"","\\yen",!0);defineSymbol(text$3,ams,textord,"","\\yen",!0);defineSymbol(math,ams,textord,"","\\checkmark",!0);defineSymbol(text$3,ams,textord,"","\\checkmark");defineSymbol(math,ams,textord,"","\\beth",!0);defineSymbol(math,ams,textord,"","\\daleth",!0);defineSymbol(math,ams,textord,"","\\gimel",!0);defineSymbol(math,ams,textord,"","\\digamma",!0);defineSymbol(math,ams,textord,"","\\varkappa");defineSymbol(math,ams,open$1,"","\\@ulcorner",!0);defineSymbol(math,ams,close,"","\\@urcorner",!0);defineSymbol(math,ams,open$1,"","\\@llcorner",!0);defineSymbol(math,ams,close,"","\\@lrcorner",!0);defineSymbol(math,ams,rel,"","\\leqq",!0);defineSymbol(math,ams,rel,"","\\leqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantless",!0);defineSymbol(math,ams,rel,"","\\lesssim",!0);defineSymbol(math,ams,rel,"","\\lessapprox",!0);defineSymbol(math,ams,rel,"","\\approxeq",!0);defineSymbol(math,ams,bin,"","\\lessdot");defineSymbol(math,ams,rel,"","\\lll",!0);defineSymbol(math,ams,rel,"","\\lessgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"","\\doteqdot");defineSymbol(math,ams,rel,"","\\risingdotseq",!0);defineSymbol(math,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"","\\backsim",!0);defineSymbol(math,ams,rel,"","\\backsimeq",!0);defineSymbol(math,ams,rel,"","\\subseteqq",!0);defineSymbol(math,ams,rel,"","\\Subset",!0);defineSymbol(math,ams,rel,"","\\sqsubset",!0);defineSymbol(math,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"","\\precsim",!0);defineSymbol(math,ams,rel,"","\\precapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleleft");defineSymbol(math,ams,rel,"","\\trianglelefteq");defineSymbol(math,ams,rel,"","\\vDash",!0);defineSymbol(math,ams,rel,"","\\Vvdash",!0);defineSymbol(math,ams,rel,"","\\smallsmile");defineSymbol(math,ams,rel,"","\\smallfrown");defineSymbol(math,ams,rel,"","\\bumpeq",!0);defineSymbol(math,ams,rel,"","\\Bumpeq",!0);defineSymbol(math,ams,rel,"","\\geqq",!0);defineSymbol(math,ams,rel,"","\\geqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"","\\gtrsim",!0);defineSymbol(math,ams,rel,"","\\gtrapprox",!0);defineSymbol(math,ams,bin,"","\\gtrdot");defineSymbol(math,ams,rel,"","\\ggg",!0);defineSymbol(math,ams,rel,"","\\gtrless",!0);defineSymbol(math,ams,rel,"","\\gtreqless",!0);defineSymbol(math,ams,rel,"","\\gtreqqless",!0);defineSymbol(math,ams,rel,"","\\eqcirc",!0);defineSymbol(math,ams,rel,"","\\circeq",!0);defineSymbol(math,ams,rel,"","\\triangleq",!0);defineSymbol(math,ams,rel,"","\\thicksim");defineSymbol(math,ams,rel,"","\\thickapprox");defineSymbol(math,ams,rel,"","\\supseteqq",!0);defineSymbol(math,ams,rel,"","\\Supset",!0);defineSymbol(math,ams,rel,"","\\sqsupset",!0);defineSymbol(math,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"","\\succsim",!0);defineSymbol(math,ams,rel,"","\\succapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleright");defineSymbol(math,ams,rel,"","\\trianglerighteq");defineSymbol(math,ams,rel,"","\\Vdash",!0);defineSymbol(math,ams,rel,"","\\shortmid");defineSymbol(math,ams,rel,"","\\shortparallel");defineSymbol(math,ams,rel,"","\\between",!0);defineSymbol(math,ams,rel,"","\\pitchfork",!0);defineSymbol(math,ams,rel,"","\\varpropto");defineSymbol(math,ams,rel,"","\\blacktriangleleft");defineSymbol(math,ams,rel,"","\\therefore",!0);defineSymbol(math,ams,rel,"","\\backepsilon");defineSymbol(math,ams,rel,"","\\blacktriangleright");defineSymbol(math,ams,rel,"","\\because",!0);defineSymbol(math,ams,rel,"","\\llless");defineSymbol(math,ams,rel,"","\\gggtr");defineSymbol(math,ams,bin,"","\\lhd");defineSymbol(math,ams,bin,"","\\rhd");defineSymbol(math,ams,rel,"","\\eqsim",!0);defineSymbol(math,main,rel,"","\\Join");defineSymbol(math,ams,rel,"","\\Doteq",!0);defineSymbol(math,ams,bin,"","\\dotplus",!0);defineSymbol(math,ams,bin,"","\\smallsetminus");defineSymbol(math,ams,bin,"","\\Cap",!0);defineSymbol(math,ams,bin,"","\\Cup",!0);defineSymbol(math,ams,bin,"","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"","\\boxminus",!0);defineSymbol(math,ams,bin,"","\\boxplus",!0);defineSymbol(math,ams,bin,"","\\divideontimes",!0);defineSymbol(math,ams,bin,"","\\ltimes",!0);defineSymbol(math,ams,bin,"","\\rtimes",!0);defineSymbol(math,ams,bin,"","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"","\\curlywedge",!0);defineSymbol(math,ams,bin,"","\\curlyvee",!0);defineSymbol(math,ams,bin,"","\\circleddash",!0);defineSymbol(math,ams,bin,"","\\circledast",!0);defineSymbol(math,ams,bin,"","\\centerdot");defineSymbol(math,ams,bin,"","\\intercal",!0);defineSymbol(math,ams,bin,"","\\doublecap");defineSymbol(math,ams,bin,"","\\doublecup");defineSymbol(math,ams,bin,"","\\boxtimes",!0);defineSymbol(math,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowleft",!0);defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"","\\Lsh",!0);defineSymbol(math,ams,rel,"","\\upuparrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math,main,rel,"","\\origof",!0);defineSymbol(math,main,rel,"","\\imageof",!0);defineSymbol(math,ams,rel,"","\\multimap",!0);defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowright",!0);defineSymbol(math,ams,rel,"","\\curvearrowright",!0);defineSymbol(math,ams,rel,"","\\circlearrowright",!0);defineSymbol(math,ams,rel,"","\\Rsh",!0);defineSymbol(math,ams,rel,"","\\downdownarrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonright",!0);defineSymbol(math,ams,rel,"","\\downharpoonright",!0);defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\leadsto");defineSymbol(math,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"","\\restriction");defineSymbol(math,main,textord,"","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$3,main,textord,"$","\\$");defineSymbol(text$3,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$3,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$3,main,textord,"_","\\_");defineSymbol(text$3,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"","\\angle",!0);defineSymbol(math,main,textord,"","\\infty",!0);defineSymbol(math,main,textord,"","\\prime");defineSymbol(math,main,textord,"","\\triangle");defineSymbol(math,main,textord,"","\\Gamma",!0);defineSymbol(math,main,textord,"","\\Delta",!0);defineSymbol(math,main,textord,"","\\Theta",!0);defineSymbol(math,main,textord,"","\\Lambda",!0);defineSymbol(math,main,textord,"","\\Xi",!0);defineSymbol(math,main,textord,"","\\Pi",!0);defineSymbol(math,main,textord,"","\\Sigma",!0);defineSymbol(math,main,textord,"","\\Upsilon",!0);defineSymbol(math,main,textord,"","\\Phi",!0);defineSymbol(math,main,textord,"","\\Psi",!0);defineSymbol(math,main,textord,"","\\Omega",!0);defineSymbol(math,main,textord,"A","");defineSymbol(math,main,textord,"B","");defineSymbol(math,main,textord,"E","");defineSymbol(math,main,textord,"Z","");defineSymbol(math,main,textord,"H","");defineSymbol(math,main,textord,"I","");defineSymbol(math,main,textord,"K","");defineSymbol(math,main,textord,"M","");defineSymbol(math,main,textord,"N","");defineSymbol(math,main,textord,"O","");defineSymbol(math,main,textord,"P","");defineSymbol(math,main,textord,"T","");defineSymbol(math,main,textord,"X","");defineSymbol(math,main,textord,"","\\neg",!0);defineSymbol(math,main,textord,"","\\lnot");defineSymbol(math,main,textord,"","\\top");defineSymbol(math,main,textord,"","\\bot");defineSymbol(math,main,textord,"","\\emptyset");defineSymbol(math,ams,textord,"","\\varnothing");defineSymbol(math,main,mathord,"","\\alpha",!0);defineSymbol(math,main,mathord,"","\\beta",!0);defineSymbol(math,main,mathord,"","\\gamma",!0);defineSymbol(math,main,mathord,"","\\delta",!0);defineSymbol(math,main,mathord,"","\\epsilon",!0);defineSymbol(math,main,mathord,"","\\zeta",!0);defineSymbol(math,main,mathord,"","\\eta",!0);defineSymbol(math,main,mathord,"","\\theta",!0);defineSymbol(math,main,mathord,"","\\iota",!0);defineSymbol(math,main,mathord,"","\\kappa",!0);defineSymbol(math,main,mathord,"","\\lambda",!0);defineSymbol(math,main,mathord,"","\\mu",!0);defineSymbol(math,main,mathord,"","\\nu",!0);defineSymbol(math,main,mathord,"","\\xi",!0);defineSymbol(math,main,mathord,"","\\omicron",!0);defineSymbol(math,main,mathord,"","\\pi",!0);defineSymbol(math,main,mathord,"","\\rho",!0);defineSymbol(math,main,mathord,"","\\sigma",!0);defineSymbol(math,main,mathord,"","\\tau",!0);defineSymbol(math,main,mathord,"","\\upsilon",!0);defineSymbol(math,main,mathord,"","\\phi",!0);defineSymbol(math,main,mathord,"","\\chi",!0);defineSymbol(math,main,mathord,"","\\psi",!0);defineSymbol(math,main,mathord,"","\\omega",!0);defineSymbol(math,main,mathord,"","\\varepsilon",!0);defineSymbol(math,main,mathord,"","\\vartheta",!0);defineSymbol(math,main,mathord,"","\\varpi",!0);defineSymbol(math,main,mathord,"","\\varrho",!0);defineSymbol(math,main,mathord,"","\\varsigma",!0);defineSymbol(math,main,mathord,"","\\varphi",!0);defineSymbol(math,main,bin,"","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"","-",!0);defineSymbol(math,main,bin,"","\\cdot",!0);defineSymbol(math,main,bin,"","\\circ",!0);defineSymbol(math,main,bin,"","\\div",!0);defineSymbol(math,main,bin,"","\\pm",!0);defineSymbol(math,main,bin,"","\\times",!0);defineSymbol(math,main,bin,"","\\cap",!0);defineSymbol(math,main,bin,"","\\cup",!0);defineSymbol(math,main,bin,"","\\setminus",!0);defineSymbol(math,main,bin,"","\\land");defineSymbol(math,main,bin,"","\\lor");defineSymbol(math,main,bin,"","\\wedge",!0);defineSymbol(math,main,bin,"","\\vee",!0);defineSymbol(math,main,textord,"","\\surd");defineSymbol(math,main,open$1,"","\\langle",!0);defineSymbol(math,main,open$1,"","\\lvert");defineSymbol(math,main,open$1,"","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"","\\rangle",!0);defineSymbol(math,main,close,"","\\rvert");defineSymbol(math,main,close,"","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"","\\approx",!0);defineSymbol(math,main,rel,"","\\cong",!0);defineSymbol(math,main,rel,"","\\ge");defineSymbol(math,main,rel,"","\\geq",!0);defineSymbol(math,main,rel,"","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"","\\subset",!0);defineSymbol(math,main,rel,"","\\supset",!0);defineSymbol(math,main,rel,"","\\subseteq",!0);defineSymbol(math,main,rel,"","\\supseteq",!0);defineSymbol(math,ams,rel,"","\\nsubseteq",!0);defineSymbol(math,ams,rel,"","\\nsupseteq",!0);defineSymbol(math,main,rel,"","\\models");defineSymbol(math,main,rel,"","\\leftarrow",!0);defineSymbol(math,main,rel,"","\\le");defineSymbol(math,main,rel,"","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"","\\rightarrow",!0);defineSymbol(math,main,rel,"","\\to");defineSymbol(math,ams,rel,"","\\ngeq",!0);defineSymbol(math,ams,rel,"","\\nleq",!0);defineSymbol(math,main,spacing,"","\\ ");defineSymbol(math,main,spacing,"","\\space");defineSymbol(math,main,spacing,"","\\nobreakspace");defineSymbol(text$3,main,spacing,"","\\ ");defineSymbol(text$3,main,spacing,""," ");defineSymbol(text$3,main,spacing,"","\\space");defineSymbol(text$3,main,spacing,"","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"","\\barwedge",!0);defineSymbol(math,ams,bin,"","\\veebar",!0);defineSymbol(math,main,bin,"","\\odot",!0);defineSymbol(math,main,bin,"","\\oplus",!0);defineSymbol(math,main,bin,"","\\otimes",!0);defineSymbol(math,main,textord,"","\\partial",!0);defineSymbol(math,main,bin,"","\\oslash",!0);defineSymbol(math,ams,bin,"","\\circledcirc",!0);defineSymbol(math,ams,bin,"","\\boxdot",!0);defineSymbol(math,main,bin,"","\\bigtriangleup");defineSymbol(math,main,bin,"","\\bigtriangledown");defineSymbol(math,main,bin,"","\\dagger");defineSymbol(math,main,bin,"","\\diamond");defineSymbol(math,main,bin,"","\\star");defineSymbol(math,main,bin,"","\\triangleleft");defineSymbol(math,main,bin,"","\\triangleright");defineSymbol(math,main,open$1,"{","\\{");defineSymbol(text$3,main,textord,"{","\\{");defineSymbol(text$3,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$3,main,textord,"}","\\}");defineSymbol(text$3,main,textord,"}","\\textbraceright");defineSymbol(math,main,open$1,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open$1,"[","\\lbrack",!0);defineSymbol(text$3,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$3,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open$1,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$3,main,textord,"<","\\textless",!0);defineSymbol(text$3,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open$1,"","\\lfloor",!0);defineSymbol(math,main,close,"","\\rfloor",!0);defineSymbol(math,main,open$1,"","\\lceil",!0);defineSymbol(math,main,close,"","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"","|");defineSymbol(math,main,textord,"","\\vert");defineSymbol(text$3,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"","\\|");defineSymbol(math,main,textord,"","\\Vert");defineSymbol(text$3,main,textord,"","\\textbardbl");defineSymbol(text$3,main,textord,"~","\\textasciitilde");defineSymbol(text$3,main,textord,"\\","\\textbackslash");defineSymbol(text$3,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"","\\uparrow",!0);defineSymbol(math,main,rel,"","\\Uparrow",!0);defineSymbol(math,main,rel,"","\\downarrow",!0);defineSymbol(math,main,rel,"","\\Downarrow",!0);defineSymbol(math,main,rel,"","\\updownarrow",!0);defineSymbol(math,main,rel,"","\\Updownarrow",!0);defineSymbol(math,main,op,"","\\coprod");defineSymbol(math,main,op,"","\\bigvee");defineSymbol(math,main,op,"","\\bigwedge");defineSymbol(math,main,op,"","\\biguplus");defineSymbol(math,main,op,"","\\bigcap");defineSymbol(math,main,op,"","\\bigcup");defineSymbol(math,main,op,"","\\int");defineSymbol(math,main,op,"","\\intop");defineSymbol(math,main,op,"","\\iint");defineSymbol(math,main,op,"","\\iiint");defineSymbol(math,main,op,"","\\prod");defineSymbol(math,main,op,"","\\sum");defineSymbol(math,main,op,"","\\bigotimes");defineSymbol(math,main,op,"","\\bigoplus");defineSymbol(math,main,op,"","\\bigodot");defineSymbol(math,main,op,"","\\oint");defineSymbol(math,main,op,"","\\oiint");defineSymbol(math,main,op,"","\\oiiint");defineSymbol(math,main,op,"","\\bigsqcup");defineSymbol(math,main,op,"","\\smallint");defineSymbol(text$3,main,inner,"","\\textellipsis");defineSymbol(math,main,inner,"","\\mathellipsis");defineSymbol(text$3,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\@cdots",!0);defineSymbol(math,main,inner,"","\\ddots",!0);defineSymbol(math,main,textord,"","\\varvdots");defineSymbol(text$3,main,textord,"","\\varvdots");defineSymbol(math,main,accent,"","\\acute");defineSymbol(math,main,accent,"","\\grave");defineSymbol(math,main,accent,"","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"","\\bar");defineSymbol(math,main,accent,"","\\breve");defineSymbol(math,main,accent,"","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"","\\vec");defineSymbol(math,main,accent,"","\\dot");defineSymbol(math,main,accent,"","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"","");defineSymbol(math,main,textord,"","");defineSymbol(text$3,main,textord,"","\\i",!0);defineSymbol(text$3,main,textord,"","\\j",!0);defineSymbol(text$3,main,textord,"","\\ss",!0);defineSymbol(text$3,main,textord,"","\\ae",!0);defineSymbol(text$3,main,textord,"","\\oe",!0);defineSymbol(text$3,main,textord,"","\\o",!0);defineSymbol(text$3,main,textord,"","\\AE",!0);defineSymbol(text$3,main,textord,"","\\OE",!0);defineSymbol(text$3,main,textord,"","\\O",!0);defineSymbol(text$3,main,accent,"","\\'");defineSymbol(text$3,main,accent,"","\\`");defineSymbol(text$3,main,accent,"","\\^");defineSymbol(text$3,main,accent,"","\\~");defineSymbol(text$3,main,accent,"","\\=");defineSymbol(text$3,main,accent,"","\\u");defineSymbol(text$3,main,accent,"","\\.");defineSymbol(text$3,main,accent,"","\\c");defineSymbol(text$3,main,accent,"","\\r");defineSymbol(text$3,main,accent,"","\\v");defineSymbol(text$3,main,accent,"",'\\"');defineSymbol(text$3,main,accent,"","\\H");defineSymbol(text$3,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$3,main,textord,"","--",!0);defineSymbol(text$3,main,textord,"","\\textendash");defineSymbol(text$3,main,textord,"","---",!0);defineSymbol(text$3,main,textord,"","\\textemdash");defineSymbol(text$3,main,textord,"","`",!0);defineSymbol(text$3,main,textord,"","\\textquoteleft");defineSymbol(text$3,main,textord,"","'",!0);defineSymbol(text$3,main,textord,"","\\textquoteright");defineSymbol(text$3,main,textord,"","``",!0);defineSymbol(text$3,main,textord,"","\\textquotedblleft");defineSymbol(text$3,main,textord,"","''",!0);defineSymbol(text$3,main,textord,"","\\textquotedblright");defineSymbol(math,main,textord,"","\\degree",!0);defineSymbol(text$3,main,textord,"","\\degree");defineSymbol(text$3,main,textord,"","\\textdegree",!0);defineSymbol(math,main,textord,"","\\pounds");defineSymbol(math,main,textord,"","\\mathsterling",!0);defineSymbol(text$3,main,textord,"","\\pounds");defineSymbol(text$3,main,textord,"","\\textsterling",!0);defineSymbol(math,ams,textord,"","\\maltese");defineSymbol(text$3,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$3,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$3,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","");defineSymbol(text$3,ams,textord,"C","");defineSymbol(math,ams,textord,"H","");defineSymbol(text$3,ams,textord,"H","");defineSymbol(math,ams,textord,"N","");defineSymbol(text$3,ams,textord,"N","");defineSymbol(math,ams,textord,"P","");defineSymbol(text$3,ams,textord,"P","");defineSymbol(math,ams,textord,"Q","");defineSymbol(text$3,ams,textord,"Q","");defineSymbol(math,ams,textord,"R","");defineSymbol(text$3,ams,textord,"R","");defineSymbol(math,ams,textord,"Z","");defineSymbol(text$3,ams,textord,"Z","");defineSymbol(math,main,mathord,"h","");defineSymbol(text$3,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$3,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$3,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function e(o,a){var c=o.charCodeAt(0),d=o.charCodeAt(1),g=(c-55296)*1024+(d-56320)+65536,b=a==="math"?0:1;if(119808<=g&&g<120484){var _=Math.floor((g-119808)/26);return[wideLatinLetterData[_][2],wideLatinLetterData[_][b]]}else if(120782<=g&&g<=120831){var $=Math.floor((g-120782)/10);return[wideNumeralData[$][2],wideNumeralData[$][b]]}else{if(g===120485||g===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][b]];if(120486<g&&g<120782)return["",""];throw new ParseError("Unsupported character: "+o)}},lookupSymbol=function e(o,a,c){return symbols[c][o]&&symbols[c][o].replace&&(o=symbols[c][o].replace),{value:o,metrics:getCharacterMetrics(o,a,c)}},makeSymbol=function e(o,a,c,d,g){var b=lookupSymbol(o,a,c),_=b.metrics;o=b.value;var $;if(_){var j=_.italic;(c==="text"||d&&d.font==="mathit")&&(j=0),$=new SymbolNode(o,_.height,_.depth,j,_.skew,_.width,g)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+o+"' in style '"+a+"' and mode '"+c+"'")),$=new SymbolNode(o,0,0,0,0,0,g);if(d){$.maxFontSize=d.sizeMultiplier,d.style.isTight()&&$.classes.push("mtight");var rt=d.getColor();rt&&($.style.color=rt)}return $},mathsym=function e(o,a,c,d){return d===void 0&&(d=[]),c.font==="boldsymbol"&&lookupSymbol(o,"Main-Bold",a).metrics?makeSymbol(o,"Main-Bold",a,c,d.concat(["mathbf"])):o==="\\"||symbols[a][o].font==="main"?makeSymbol(o,"Main-Regular",a,c,d):makeSymbol(o,"AMS-Regular",a,c,d.concat(["amsrm"]))},boldsymbol=function e(o,a,c,d,g){return g!=="textord"&&lookupSymbol(o,"Math-BoldItalic",a).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function e(o,a,c){var d=o.mode,g=o.text,b=["mord"],_=d==="math"||d==="text"&&a.font,$=_?a.font:a.fontFamily,j="",rt="";if(g.charCodeAt(0)===55349&&([j,rt]=wideCharacterFont(g,d)),j.length>0)return makeSymbol(g,j,d,a,b.concat(rt));if($){var nt,In;if($==="boldsymbol"){var xl=boldsymbol(g,d,a,b,c);nt=xl.fontName,In=[xl.fontClass]}else _?(nt=fontMap[$].fontName,In=[$]):(nt=retrieveTextFontName($,a.fontWeight,a.fontShape),In=[$,a.fontWeight,a.fontShape]);if(lookupSymbol(g,nt,d).metrics)return makeSymbol(g,nt,d,a,b.concat(In));if(ligatures.hasOwnProperty(g)&&nt.slice(0,10)==="Typewriter"){for(var Ll=[],Nl=0;Nl<g.length;Nl++)Ll.push(makeSymbol(g[Nl],nt,d,a,b.concat(In)));return makeFragment(Ll)}}if(c==="mathord")return makeSymbol(g,"Math-Italic",d,a,b.concat(["mathnormal"]));if(c==="textord"){var _u=symbols[d][g]&&symbols[d][g].font;if(_u==="ams"){var Yl=retrieveTextFontName("amsrm",a.fontWeight,a.fontShape);return makeSymbol(g,Yl,d,a,b.concat("amsrm",a.fontWeight,a.fontShape))}else if(_u==="main"||!_u){var Ul=retrieveTextFontName("textrm",a.fontWeight,a.fontShape);return makeSymbol(g,Ul,d,a,b.concat(a.fontWeight,a.fontShape))}else{var Dl=retrieveTextFontName(_u,a.fontWeight,a.fontShape);return makeSymbol(g,Dl,d,a,b.concat(Dl,a.fontWeight,a.fontShape))}}else throw new Error("unexpected type: "+c+" in makeOrd")},canCombine=(e,o)=>{if(createClass(e.classes)!==createClass(o.classes)||e.skew!==o.skew||e.maxFontSize!==o.maxFontSize)return!1;if(e.classes.length===1){var a=e.classes[0];if(a==="mbin"||a==="mord")return!1}for(var c in e.style)if(e.style.hasOwnProperty(c)&&e.style[c]!==o.style[c])return!1;for(var d in o.style)if(o.style.hasOwnProperty(d)&&e.style[d]!==o.style[d])return!1;return!0},tryCombineChars=e=>{for(var o=0;o<e.length-1;o++){var a=e[o],c=e[o+1];a instanceof SymbolNode&&c instanceof SymbolNode&&canCombine(a,c)&&(a.text+=c.text,a.height=Math.max(a.height,c.height),a.depth=Math.max(a.depth,c.depth),a.italic=c.italic,e.splice(o+1,1),o--)}return e},sizeElementFromChildren=function e(o){for(var a=0,c=0,d=0,g=0;g<o.children.length;g++){var b=o.children[g];b.height>a&&(a=b.height),b.depth>c&&(c=b.depth),b.maxFontSize>d&&(d=b.maxFontSize)}o.height=a,o.depth=c,o.maxFontSize=d},makeSpan$2=function e(o,a,c,d){var g=new Span(o,a,c,d);return sizeElementFromChildren(g),g},makeSvgSpan=(e,o,a,c)=>new Span(e,o,a,c),makeLineSpan=function e(o,a,c){var d=makeSpan$2([o],[],a);return d.height=Math.max(c||a.fontMetrics().defaultRuleThickness,a.minRuleThickness),d.style.borderBottomWidth=makeEm(d.height),d.maxFontSize=1,d},makeAnchor=function e(o,a,c,d){var g=new Anchor(o,a,c,d);return sizeElementFromChildren(g),g},makeFragment=function e(o){var a=new DocumentFragment(o);return sizeElementFromChildren(a),a},wrapFragment=function e(o,a){return o instanceof DocumentFragment?makeSpan$2([],[o],a):o},getVListChildrenAndDepth=function e(o){if(o.positionType==="individualShift"){for(var a=o.children,c=[a[0]],d=-a[0].shift-a[0].elem.depth,g=d,b=1;b<a.length;b++){var _=-a[b].shift-g-a[b].elem.depth,$=_-(a[b-1].elem.height+a[b-1].elem.depth);g=g+_,c.push({type:"kern",size:$}),c.push(a[b])}return{children:c,depth:d}}var j;if(o.positionType==="top"){for(var rt=o.positionData,nt=0;nt<o.children.length;nt++){var In=o.children[nt];rt-=In.type==="kern"?In.size:In.elem.height+In.elem.depth}j=rt}else if(o.positionType==="bottom")j=-o.positionData;else{var xl=o.children[0];if(xl.type!=="elem")throw new Error('First child must have type "elem".');if(o.positionType==="shift")j=-xl.elem.depth-o.positionData;else if(o.positionType==="firstBaseline")j=-xl.elem.depth;else throw new Error("Invalid positionType "+o.positionType+".")}return{children:o.children,depth:j}},makeVList=function e(o,a){for(var{children:c,depth:d}=getVListChildrenAndDepth(o),g=0,b=0;b<c.length;b++){var _=c[b];if(_.type==="elem"){var $=_.elem;g=Math.max(g,$.maxFontSize,$.height)}}g+=2;var j=makeSpan$2(["pstrut"],[]);j.style.height=makeEm(g);for(var rt=[],nt=d,In=d,xl=d,Ll=0;Ll<c.length;Ll++){var Nl=c[Ll];if(Nl.type==="kern")xl+=Nl.size;else{var _u=Nl.elem,Yl=Nl.wrapperClasses||[],Ul=Nl.wrapperStyle||{},Dl=makeSpan$2(Yl,[j,_u],void 0,Ul);Dl.style.top=makeEm(-g-xl-_u.depth),Nl.marginLeft&&(Dl.style.marginLeft=Nl.marginLeft),Nl.marginRight&&(Dl.style.marginRight=Nl.marginRight),rt.push(Dl),xl+=_u.height+_u.depth}nt=Math.min(nt,xl),In=Math.max(In,xl)}var Zl=makeSpan$2(["vlist"],rt);Zl.style.height=makeEm(In);var Ju;if(nt<0){var Uu=makeSpan$2([],[]),fp=makeSpan$2(["vlist"],[Uu]);fp.style.height=makeEm(-nt);var Zu=makeSpan$2(["vlist-s"],[new SymbolNode("")]);Ju=[makeSpan$2(["vlist-r"],[Zl,Zu]),makeSpan$2(["vlist-r"],[fp])]}else Ju=[makeSpan$2(["vlist-r"],[Zl])];var Lp=makeSpan$2(["vlist-t"],Ju);return Ju.length===2&&Lp.classes.push("vlist-t2"),Lp.height=In,Lp.depth=-nt,Lp},makeGlue=(e,o)=>{var a=makeSpan$2(["mspace"],[],o),c=calculateSize(e,o);return a.style.marginRight=makeEm(c),a},retrieveTextFontName=function e(o,a,c){var d="";switch(o){case"amsrm":d="AMS";break;case"textrm":d="Main";break;case"textsf":d="SansSerif";break;case"texttt":d="Typewriter";break;default:d=o}var g;return a==="textbf"&&c==="textit"?g="BoldItalic":a==="textbf"?g="Bold":a==="textit"?g="Italic":g="Regular",d+"-"+g},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function e(o,a){var[c,d,g]=svgData[o],b=new PathNode(c),_=new SvgNode([b],{width:makeEm(d),height:makeEm(g),style:"width:"+makeEm(d),viewBox:"0 0 "+1e3*d+" "+1e3*g,preserveAspectRatio:"xMinYMin"}),$=makeSvgSpan(["overlay"],[_],a);return $.height=g,$.style.height=makeEm(g),$.style.width=makeEm(d),$},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(e){for(var{type:o,names:a,props:c,handler:d,htmlBuilder:g,mathmlBuilder:b}=e,_={type:o,numArgs:c.numArgs,argTypes:c.argTypes,allowedInArgument:!!c.allowedInArgument,allowedInText:!!c.allowedInText,allowedInMath:c.allowedInMath===void 0?!0:c.allowedInMath,numOptionalArgs:c.numOptionalArgs||0,infix:!!c.infix,primitive:!!c.primitive,handler:d},$=0;$<a.length;++$)_functions[a[$]]=_;o&&(g&&(_htmlGroupBuilders[o]=g),b&&(_mathmlGroupBuilders[o]=b))}function defineFunctionBuilders(e){var{type:o,htmlBuilder:a,mathmlBuilder:c}=e;defineFunction({type:o,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:a,mathmlBuilder:c})}var normalizeArgument=function e(o){return o.type==="ordgroup"&&o.body.length===1?o.body[0]:o},ordargument=function e(o){return o.type==="ordgroup"?o.body:[o]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function e(o,a,c,d){d===void 0&&(d=[null,null]);for(var g=[],b=0;b<o.length;b++){var _=buildGroup$1(o[b],a);if(_ instanceof DocumentFragment){var $=_.children;g.push(...$)}else g.push(_)}if(buildCommon.tryCombineChars(g),!c)return g;var j=a;if(o.length===1){var rt=o[0];rt.type==="sizing"?j=a.havingSize(rt.size):rt.type==="styling"&&(j=a.havingStyle(styleMap$1[rt.style]))}var nt=makeSpan$1([d[0]||"leftmost"],[],a),In=makeSpan$1([d[1]||"rightmost"],[],a),xl=c==="root";return traverseNonSpaceNodes(g,(Ll,Nl)=>{var _u=Nl.classes[0],Yl=Ll.classes[0];_u==="mbin"&&binRightCanceller.includes(Yl)?Nl.classes[0]="mord":Yl==="mbin"&&binLeftCanceller.includes(_u)&&(Ll.classes[0]="mord")},{node:nt},In,xl),traverseNonSpaceNodes(g,(Ll,Nl)=>{var _u=getTypeOfDomTree(Nl),Yl=getTypeOfDomTree(Ll),Ul=_u&&Yl?Ll.hasClass("mtight")?tightSpacings[_u][Yl]:spacings[_u][Yl]:null;if(Ul)return buildCommon.makeGlue(Ul,j)},{node:nt},In,xl),g},traverseNonSpaceNodes=function e(o,a,c,d,g){d&&o.push(d);for(var b=0;b<o.length;b++){var _=o[b],$=checkPartialGroup(_);if($){e($.children,a,c,null,g);continue}var j=!_.hasClass("mspace");if(j){var rt=a(_,c.node);rt&&(c.insertAfter?c.insertAfter(rt):(o.unshift(rt),b++))}j?c.node=_:g&&_.hasClass("newline")&&(c.node=makeSpan$1(["leftmost"])),c.insertAfter=(nt=>In=>{o.splice(nt+1,0,In),b++})(b)}d&&o.pop()},checkPartialGroup=function e(o){return o instanceof DocumentFragment||o instanceof Anchor||o instanceof Span&&o.hasClass("enclosing")?o:null},getOutermostNode=function e(o,a){var c=checkPartialGroup(o);if(c){var d=c.children;if(d.length){if(a==="right")return e(d[d.length-1],"right");if(a==="left")return e(d[0],"left")}}return o},getTypeOfDomTree=function e(o,a){return o?(a&&(o=getOutermostNode(o,a)),DomEnum[o.classes[0]]||null):null},makeNullDelimiter=function e(o,a){var c=["nulldelimiter"].concat(o.baseSizingClasses());return makeSpan$1(a.concat(c))},buildGroup$1=function e(o,a,c){if(!o)return makeSpan$1();if(_htmlGroupBuilders[o.type]){var d=_htmlGroupBuilders[o.type](o,a);if(c&&a.size!==c.size){d=makeSpan$1(a.sizingClasses(c),[d],a);var g=a.sizeMultiplier/c.sizeMultiplier;d.height*=g,d.depth*=g}return d}else throw new ParseError("Got group of unknown type: '"+o.type+"'")};function buildHTMLUnbreakable(e,o){var a=makeSpan$1(["base"],e,o),c=makeSpan$1(["strut"]);return c.style.height=makeEm(a.height+a.depth),a.depth&&(c.style.verticalAlign=makeEm(-a.depth)),a.children.unshift(c),a}function buildHTML(e,o){var a=null;e.length===1&&e[0].type==="tag"&&(a=e[0].tag,e=e[0].body);var c=buildExpression$1(e,o,"root"),d;c.length===2&&c[1].hasClass("tag")&&(d=c.pop());for(var g=[],b=[],_=0;_<c.length;_++)if(b.push(c[_]),c[_].hasClass("mbin")||c[_].hasClass("mrel")||c[_].hasClass("allowbreak")){for(var $=!1;_<c.length-1&&c[_+1].hasClass("mspace")&&!c[_+1].hasClass("newline");)_++,b.push(c[_]),c[_].hasClass("nobreak")&&($=!0);$||(g.push(buildHTMLUnbreakable(b,o)),b=[])}else c[_].hasClass("newline")&&(b.pop(),b.length>0&&(g.push(buildHTMLUnbreakable(b,o)),b=[]),g.push(c[_]));b.length>0&&g.push(buildHTMLUnbreakable(b,o));var j;a?(j=buildHTMLUnbreakable(buildExpression$1(a,o,!0)),j.classes=["tag"],g.push(j)):d&&g.push(d);var rt=makeSpan$1(["katex-html"],g);if(rt.setAttribute("aria-hidden","true"),j){var nt=j.children[0];nt.style.height=makeEm(rt.height+rt.depth),rt.depth&&(nt.style.verticalAlign=makeEm(-rt.depth))}return rt}function newDocumentFragment(e){return new DocumentFragment(e)}class MathNode{constructor(o,a,c){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=o,this.attributes={},this.children=a||[],this.classes=c||[]}setAttribute(o,a){this.attributes[o]=a}getAttribute(o){return this.attributes[o]}toNode(){var o=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&o.setAttribute(a,this.attributes[a]);this.classes.length>0&&(o.className=createClass(this.classes));for(var c=0;c<this.children.length;c++)if(this.children[c]instanceof TextNode&&this.children[c+1]instanceof TextNode){for(var d=this.children[c].toText()+this.children[++c].toText();this.children[c+1]instanceof TextNode;)d+=this.children[++c].toText();o.appendChild(new TextNode(d).toNode())}else o.appendChild(this.children[c].toNode());return o}toMarkup(){var o="<"+this.type;for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&(o+=" "+a+'="',o+=utils.escape(this.attributes[a]),o+='"');this.classes.length>0&&(o+=' class ="'+utils.escape(createClass(this.classes))+'"'),o+=">";for(var c=0;c<this.children.length;c++)o+=this.children[c].toMarkup();return o+="</"+this.type+">",o}toText(){return this.children.map(o=>o.toText()).join("")}}class TextNode{constructor(o){this.text=void 0,this.text=o}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(o){this.width=void 0,this.character=void 0,this.width=o,o>=.05555&&o<=.05556?this.character="":o>=.1666&&o<=.1667?this.character="":o>=.2222&&o<=.2223?this.character="":o>=.2777&&o<=.2778?this.character="":o>=-.05556&&o<=-.05555?this.character="":o>=-.1667&&o<=-.1666?this.character="":o>=-.2223&&o<=-.2222?this.character="":o>=-.2778&&o<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var o=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return o.setAttribute("width",makeEm(this.width)),o}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function e(o,a,c){return symbols[a][o]&&symbols[a][o].replace&&o.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(o)&&c&&(c.fontFamily&&c.fontFamily.slice(4,6)==="tt"||c.font&&c.font.slice(4,6)==="tt"))&&(o=symbols[a][o].replace),new mathMLTree.TextNode(o)},makeRow=function e(o){return o.length===1?o[0]:new mathMLTree.MathNode("mrow",o)},getVariant=function e(o,a){if(a.fontFamily==="texttt")return"monospace";if(a.fontFamily==="textsf")return a.fontShape==="textit"&&a.fontWeight==="textbf"?"sans-serif-bold-italic":a.fontShape==="textit"?"sans-serif-italic":a.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(a.fontShape==="textit"&&a.fontWeight==="textbf")return"bold-italic";if(a.fontShape==="textit")return"italic";if(a.fontWeight==="textbf")return"bold";var c=a.font;if(!c||c==="mathnormal")return null;var d=o.mode;if(c==="mathit")return"italic";if(c==="boldsymbol")return o.type==="textord"?"bold":"bold-italic";if(c==="mathbf")return"bold";if(c==="mathbb")return"double-struck";if(c==="mathsfit")return"sans-serif-italic";if(c==="mathfrak")return"fraktur";if(c==="mathscr"||c==="mathcal")return"script";if(c==="mathsf")return"sans-serif";if(c==="mathtt")return"monospace";var g=o.text;if(["\\imath","\\jmath"].includes(g))return null;symbols[d][g]&&symbols[d][g].replace&&(g=symbols[d][g].replace);var b=buildCommon.fontMap[c].fontName;return getCharacterMetrics(g,b,d)?buildCommon.fontMap[c].variant:null};function isNumberPunctuation(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var o=e.children[0];return o instanceof TextNode&&o.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var a=e.children[0];return a instanceof TextNode&&a.text===","}else return!1}var buildExpression=function e(o,a,c){if(o.length===1){var d=buildGroup(o[0],a);return c&&d instanceof MathNode&&d.type==="mo"&&(d.setAttribute("lspace","0em"),d.setAttribute("rspace","0em")),[d]}for(var g=[],b,_=0;_<o.length;_++){var $=buildGroup(o[_],a);if($ instanceof MathNode&&b instanceof MathNode){if($.type==="mtext"&&b.type==="mtext"&&$.getAttribute("mathvariant")===b.getAttribute("mathvariant")){b.children.push(...$.children);continue}else if($.type==="mn"&&b.type==="mn"){b.children.push(...$.children);continue}else if(isNumberPunctuation($)&&b.type==="mn"){b.children.push(...$.children);continue}else if($.type==="mn"&&isNumberPunctuation(b))$.children=[...b.children,...$.children],g.pop();else if(($.type==="msup"||$.type==="msub")&&$.children.length>=1&&(b.type==="mn"||isNumberPunctuation(b))){var j=$.children[0];j instanceof MathNode&&j.type==="mn"&&(j.children=[...b.children,...j.children],g.pop())}else if(b.type==="mi"&&b.children.length===1){var rt=b.children[0];if(rt instanceof TextNode&&rt.text===""&&($.type==="mo"||$.type==="mi"||$.type==="mn")){var nt=$.children[0];nt instanceof TextNode&&nt.text.length>0&&(nt.text=nt.text.slice(0,1)+""+nt.text.slice(1),g.pop())}}}g.push($),b=$}return g},buildExpressionRow=function e(o,a,c){return makeRow(buildExpression(o,a,c))},buildGroup=function e(o,a){if(!o)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[o.type]){var c=_mathmlGroupBuilders[o.type](o,a);return c}else throw new ParseError("Got group of unknown type: '"+o.type+"'")};function buildMathML(e,o,a,c,d){var g=buildExpression(e,a),b;g.length===1&&g[0]instanceof MathNode&&["mrow","mtable"].includes(g[0].type)?b=g[0]:b=new mathMLTree.MathNode("mrow",g);var _=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(o)]);_.setAttribute("encoding","application/x-tex");var $=new mathMLTree.MathNode("semantics",[b,_]),j=new mathMLTree.MathNode("math",[$]);j.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),c&&j.setAttribute("display","block");var rt=d?"katex":"katex-mathml";return buildCommon.makeSpan([rt],[j])}var optionsFromSettings=function e(o){return new Options({style:o.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:o.maxSize,minRuleThickness:o.minRuleThickness})},displayWrap=function e(o,a){if(a.displayMode){var c=["katex-display"];a.leqno&&c.push("leqno"),a.fleqn&&c.push("fleqn"),o=buildCommon.makeSpan(c,[o])}return o},buildTree=function e(o,a,c){var d=optionsFromSettings(c),g;if(c.output==="mathml")return buildMathML(o,a,d,c.displayMode,!0);if(c.output==="html"){var b=buildHTML(o,d);g=buildCommon.makeSpan(["katex"],[b])}else{var _=buildMathML(o,a,d,c.displayMode,!1),$=buildHTML(o,d);g=buildCommon.makeSpan(["katex"],[_,$])}return displayWrap(g,c)},buildHTMLTree=function e(o,a,c){var d=optionsFromSettings(c),g=buildHTML(o,d),b=buildCommon.makeSpan(["katex"],[g]);return displayWrap(b,c)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function e(o){var a=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[o.replace(/^\\/,"")])]);return a.setAttribute("stretchy","true"),a},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function e(o){return o.type==="ordgroup"?o.body.length:1},svgSpan=function e(o,a){function c(){var _=4e5,$=o.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes($)){var j=o,rt=groupLength(j.base),nt,In,xl;if(rt>5)$==="widehat"||$==="widecheck"?(nt=420,_=2364,xl=.42,In=$+"4"):(nt=312,_=2340,xl=.34,In="tilde4");else{var Ll=[1,1,2,2,3,3][rt];$==="widehat"||$==="widecheck"?(_=[0,1062,2364,2364,2364][Ll],nt=[0,239,300,360,420][Ll],xl=[0,.24,.3,.3,.36,.42][Ll],In=$+Ll):(_=[0,600,1033,2339,2340][Ll],nt=[0,260,286,306,312][Ll],xl=[0,.26,.286,.3,.306,.34][Ll],In="tilde"+Ll)}var Nl=new PathNode(In),_u=new SvgNode([Nl],{width:"100%",height:makeEm(xl),viewBox:"0 0 "+_+" "+nt,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[_u],a),minWidth:0,height:xl}}else{var Yl=[],Ul=katexImagesData[$],[Dl,Zl,Ju]=Ul,Uu=Ju/1e3,fp=Dl.length,Zu,Lp;if(fp===1){var Np=Ul[3];Zu=["hide-tail"],Lp=[Np]}else if(fp===2)Zu=["halfarrow-left","halfarrow-right"],Lp=["xMinYMin","xMaxYMin"];else if(fp===3)Zu=["brace-left","brace-center","brace-right"],Lp=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+fp+" children.");for(var zp=0;zp<fp;zp++){var h0=new PathNode(Dl[zp]),k0=new SvgNode([h0],{width:"400em",height:makeEm(Uu),viewBox:"0 0 "+_+" "+Ju,preserveAspectRatio:Lp[zp]+" slice"}),D0=buildCommon.makeSvgSpan([Zu[zp]],[k0],a);if(fp===1)return{span:D0,minWidth:Zl,height:Uu};D0.style.height=makeEm(Uu),Yl.push(D0)}return{span:buildCommon.makeSpan(["stretchy"],Yl,a),minWidth:Zl,height:Uu}}}var{span:d,minWidth:g,height:b}=c();return d.height=b,d.style.height=makeEm(b),g>0&&(d.style.minWidth=makeEm(g)),d},encloseSpan=function e(o,a,c,d,g){var b,_=o.height+o.depth+c+d;if(/fbox|color|angl/.test(a)){if(b=buildCommon.makeSpan(["stretchy",a],[],g),a==="fbox"){var $=g.color&&g.getColor();$&&(b.style.borderColor=$)}}else{var j=[];/^[bx]cancel$/.test(a)&&j.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(a)&&j.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var rt=new SvgNode(j,{width:"100%",height:makeEm(_)});b=buildCommon.makeSvgSpan([],[rt],g)}return b.height=_,b.style.height=makeEm(_),b},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(e,o){if(!e||e.type!==o)throw new Error("Expected node of type "+o+", but got "+(e?"node of type "+e.type:String(e)));return e}function assertSymbolNodeType(e){var o=checkSymbolNodeType(e);if(!o)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return o}function checkSymbolNodeType(e){return e&&(e.type==="atom"||NON_ATOMS.hasOwnProperty(e.type))?e:null}var htmlBuilder$a=(e,o)=>{var a,c,d;e&&e.type==="supsub"?(c=assertNodeType(e.base,"accent"),a=c.base,e.base=a,d=assertSpan(buildGroup$1(e,o)),e.base=c):(c=assertNodeType(e,"accent"),a=c.base);var g=buildGroup$1(a,o.havingCrampedStyle()),b=c.isShifty&&utils.isCharacterBox(a),_=0;if(b){var $=utils.getBaseElem(a),j=buildGroup$1($,o.havingCrampedStyle());_=assertSymbolDomNode(j).skew}var rt=c.label==="\\c",nt=rt?g.height+g.depth:Math.min(g.height,o.fontMetrics().xHeight),In;if(c.isStretchy)In=stretchy.svgSpan(c,o),In=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g},{type:"elem",elem:In,wrapperClasses:["svg-align"],wrapperStyle:_>0?{width:"calc(100% - "+makeEm(2*_)+")",marginLeft:makeEm(2*_)}:void 0}]},o);else{var xl,Ll;c.label==="\\vec"?(xl=buildCommon.staticSvg("vec",o),Ll=buildCommon.svgData.vec[1]):(xl=buildCommon.makeOrd({mode:c.mode,text:c.label},o,"textord"),xl=assertSymbolDomNode(xl),xl.italic=0,Ll=xl.width,rt&&(nt+=xl.depth)),In=buildCommon.makeSpan(["accent-body"],[xl]);var Nl=c.label==="\\textcircled";Nl&&(In.classes.push("accent-full"),nt=g.height);var _u=_;Nl||(_u-=Ll/2),In.style.left=makeEm(_u),c.label==="\\textcircled"&&(In.style.top=".2em"),In=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g},{type:"kern",size:-nt},{type:"elem",elem:In}]},o)}var Yl=buildCommon.makeSpan(["mord","accent"],[In],o);return d?(d.children[0]=Yl,d.height=Math.max(Yl.height,d.height),d.classes[0]="mord",d):Yl},mathmlBuilder$9=(e,o)=>{var a=e.isStretchy?stretchy.mathMLnode(e.label):new mathMLTree.MathNode("mo",[makeText(e.label,e.mode)]),c=new mathMLTree.MathNode("mover",[buildGroup(e.base,o),a]);return c.setAttribute("accent","true"),c},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,o)=>{var a=normalizeArgument(o[0]),c=!NON_STRETCHY_ACCENT_REGEX.test(e.funcName),d=!c||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:c,isShifty:d,base:a}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,o)=>{var a=o[0],c=e.parser.mode;return c==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),c="text"),{type:"accent",mode:c,label:e.funcName,isStretchy:!1,isShifty:!0,base:a}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0];return{type:"accentUnder",mode:a.mode,label:c,base:d}},htmlBuilder:(e,o)=>{var a=buildGroup$1(e.base,o),c=stretchy.svgSpan(e,o),d=e.label==="\\utilde"?.12:0,g=buildCommon.makeVList({positionType:"top",positionData:a.height,children:[{type:"elem",elem:c,wrapperClasses:["svg-align"]},{type:"kern",size:d},{type:"elem",elem:a}]},o);return buildCommon.makeSpan(["mord","accentunder"],[g],o)},mathmlBuilder:(e,o)=>{var a=stretchy.mathMLnode(e.label),c=new mathMLTree.MathNode("munder",[buildGroup(e.base,o),a]);return c.setAttribute("accentunder","true"),c}});var paddedNode=e=>{var o=new mathMLTree.MathNode("mpadded",e?[e]:[]);return o.setAttribute("width","+0.6em"),o.setAttribute("lspace","0.3em"),o};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,o,a){var{parser:c,funcName:d}=e;return{type:"xArrow",mode:c.mode,label:d,body:o[0],below:a[0]}},htmlBuilder(e,o){var a=o.style,c=o.havingStyle(a.sup()),d=buildCommon.wrapFragment(buildGroup$1(e.body,c,o),o),g=e.label.slice(0,2)==="\\x"?"x":"cd";d.classes.push(g+"-arrow-pad");var b;e.below&&(c=o.havingStyle(a.sub()),b=buildCommon.wrapFragment(buildGroup$1(e.below,c,o),o),b.classes.push(g+"-arrow-pad"));var _=stretchy.svgSpan(e,o),$=-o.fontMetrics().axisHeight+.5*_.height,j=-o.fontMetrics().axisHeight-.5*_.height-.111;(d.depth>.25||e.label==="\\xleftequilibrium")&&(j-=d.depth);var rt;if(b){var nt=-o.fontMetrics().axisHeight+b.height+.5*_.height+.111;rt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:j},{type:"elem",elem:_,shift:$},{type:"elem",elem:b,shift:nt}]},o)}else rt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:j},{type:"elem",elem:_,shift:$}]},o);return rt.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[rt],o)},mathmlBuilder(e,o){var a=stretchy.mathMLnode(e.label);a.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var c;if(e.body){var d=paddedNode(buildGroup(e.body,o));if(e.below){var g=paddedNode(buildGroup(e.below,o));c=new mathMLTree.MathNode("munderover",[a,g,d])}else c=new mathMLTree.MathNode("mover",[a,d])}else if(e.below){var b=paddedNode(buildGroup(e.below,o));c=new mathMLTree.MathNode("munder",[a,b])}else c=paddedNode(),c=new mathMLTree.MathNode("mover",[a,c]);return c}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(e,o){var a=buildExpression$1(e.body,o,!0);return makeSpan([e.mclass],a,o)}function mathmlBuilder$8(e,o){var a,c=buildExpression(e.body,o);return e.mclass==="minner"?a=new mathMLTree.MathNode("mpadded",c):e.mclass==="mord"?e.isCharacterBox?(a=c[0],a.type="mi"):a=new mathMLTree.MathNode("mi",c):(e.isCharacterBox?(a=c[0],a.type="mo"):a=new mathMLTree.MathNode("mo",c),e.mclass==="mbin"?(a.attributes.lspace="0.22em",a.attributes.rspace="0.22em"):e.mclass==="mpunct"?(a.attributes.lspace="0em",a.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(a.attributes.lspace="0em",a.attributes.rspace="0em"):e.mclass==="minner"&&(a.attributes.lspace="0.0556em",a.attributes.width="+0.1111em")),a}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,o){var{parser:a,funcName:c}=e,d=o[0];return{type:"mclass",mode:a.mode,mclass:"m"+c.slice(5),body:ordargument(d),isCharacterBox:utils.isCharacterBox(d)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=e=>{var o=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return o.type==="atom"&&(o.family==="bin"||o.family==="rel")?"m"+o.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,o){var{parser:a}=e;return{type:"mclass",mode:a.mode,mclass:binrelClass(o[0]),body:ordargument(o[1]),isCharacterBox:utils.isCharacterBox(o[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,o){var{parser:a,funcName:c}=e,d=o[1],g=o[0],b;c!=="\\stackrel"?b=binrelClass(d):b="mrel";var _={type:"op",mode:d.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:c!=="\\stackrel",body:ordargument(d)},$={type:"supsub",mode:g.mode,base:_,sup:c==="\\underset"?null:g,sub:c==="\\underset"?g:null};return{type:"mclass",mode:a.mode,mclass:b,body:[$],isCharacterBox:utils.isCharacterBox($)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,o){var{parser:a}=e;return{type:"pmb",mode:a.mode,mclass:binrelClass(o[0]),body:ordargument(o[0])}},htmlBuilder(e,o){var a=buildExpression$1(e.body,o,!0),c=buildCommon.makeSpan([e.mclass],a,o);return c.style.textShadow="0.02em 0.01em 0.04px",c},mathmlBuilder(e,o){var a=buildExpression(e.body,o),c=new mathMLTree.MathNode("mstyle",a);return c.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),c}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=e=>e.type==="textord"&&e.text==="@",isLabelEnd=(e,o)=>(e.type==="mathord"||e.type==="atom")&&e.text===o;function cdArrow(e,o,a){var c=cdArrowFunctionName[e];switch(c){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return a.callFunction(c,[o[0]],[o[1]]);case"\\uparrow":case"\\downarrow":{var d=a.callFunction("\\\\cdleft",[o[0]],[]),g={type:"atom",text:c,mode:"math",family:"rel"},b=a.callFunction("\\Big",[g],[]),_=a.callFunction("\\\\cdright",[o[1]],[]),$={type:"ordgroup",mode:"math",body:[d,b,_]};return a.callFunction("\\\\cdparent",[$],[])}case"\\\\cdlongequal":return a.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var j={type:"textord",text:"\\Vert",mode:"math"};return a.callFunction("\\Big",[j],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(e){var o=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){o.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var a=e.fetch().text;if(a==="&"||a==="\\\\")e.consume();else if(a==="\\end"){o[o.length-1].length===0&&o.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var c=[],d=[c],g=0;g<o.length;g++){for(var b=o[g],_=newCell(),$=0;$<b.length;$++)if(!isStartOfArrow(b[$]))_.body.push(b[$]);else{c.push(_),$+=1;var j=assertSymbolNodeType(b[$]).text,rt=new Array(2);if(rt[0]={type:"ordgroup",mode:"math",body:[]},rt[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(j)>-1))if("<>AV".indexOf(j)>-1)for(var nt=0;nt<2;nt++){for(var In=!0,xl=$+1;xl<b.length;xl++){if(isLabelEnd(b[xl],j)){In=!1,$=xl;break}if(isStartOfArrow(b[xl]))throw new ParseError("Missing a "+j+" character to complete a CD arrow.",b[xl]);rt[nt].body.push(b[xl])}if(In)throw new ParseError("Missing a "+j+" character to complete a CD arrow.",b[$])}else throw new ParseError('Expected one of "<>AV=|." after @',b[$]);var Ll=cdArrow(j,rt,e),Nl={type:"styling",body:[Ll],mode:"math",style:"display"};c.push(Nl),_=newCell()}g%2===0?c.push(_):c.shift(),c=[],d.push(c)}e.gullet.endGroup(),e.gullet.endGroup();var _u=new Array(d[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:d,arraystretch:1,addJot:!0,rowGaps:[null],cols:_u,colSeparationType:"CD",hLinesBeforeRow:new Array(d.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,o){var{parser:a,funcName:c}=e;return{type:"cdlabel",mode:a.mode,side:c.slice(4),label:o[0]}},htmlBuilder(e,o){var a=o.havingStyle(o.style.sup()),c=buildCommon.wrapFragment(buildGroup$1(e.label,a,o),o);return c.classes.push("cd-label-"+e.side),c.style.bottom=makeEm(.8-c.depth),c.height=0,c.depth=0,c},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mrow",[buildGroup(e.label,o)]);return a=new mathMLTree.MathNode("mpadded",[a]),a.setAttribute("width","0"),e.side==="left"&&a.setAttribute("lspace","-1width"),a.setAttribute("voffset","0.7em"),a=new mathMLTree.MathNode("mstyle",[a]),a.setAttribute("displaystyle","false"),a.setAttribute("scriptlevel","1"),a}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,o){var{parser:a}=e;return{type:"cdlabelparent",mode:a.mode,fragment:o[0]}},htmlBuilder(e,o){var a=buildCommon.wrapFragment(buildGroup$1(e.fragment,o),o);return a.classes.push("cd-vert-arrow"),a},mathmlBuilder(e,o){return new mathMLTree.MathNode("mrow",[buildGroup(e.fragment,o)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,o){for(var{parser:a}=e,c=assertNodeType(o[0],"ordgroup"),d=c.body,g="",b=0;b<d.length;b++){var _=assertNodeType(d[b],"textord");g+=_.text}var $=parseInt(g),j;if(isNaN($))throw new ParseError("\\@char has non-numeric argument "+g);if($<0||$>=1114111)throw new ParseError("\\@char with invalid code point "+g);return $<=65535?j=String.fromCharCode($):($-=65536,j=String.fromCharCode(($>>10)+55296,($&1023)+56320)),{type:"textord",mode:a.mode,text:j}}});var htmlBuilder$8=(e,o)=>{var a=buildExpression$1(e.body,o.withColor(e.color),!1);return buildCommon.makeFragment(a)},mathmlBuilder$7=(e,o)=>{var a=buildExpression(e.body,o.withColor(e.color)),c=new mathMLTree.MathNode("mstyle",a);return c.setAttribute("mathcolor",e.color),c};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,o){var{parser:a}=e,c=assertNodeType(o[0],"color-token").color,d=o[1];return{type:"color",mode:a.mode,color:c,body:ordargument(d)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,o){var{parser:a,breakOnTokenText:c}=e,d=assertNodeType(o[0],"color-token").color;a.gullet.macros.set("\\current@color",d);var g=a.parseExpression(!0,c);return{type:"color",mode:a.mode,color:d,body:g}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,o,a){var{parser:c}=e,d=c.gullet.future().text==="["?c.parseSizeGroup(!0):null,g=!c.settings.displayMode||!c.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:c.mode,newLine:g,size:d&&assertNodeType(d,"size").value}},htmlBuilder(e,o){var a=buildCommon.makeSpan(["mspace"],[],o);return e.newLine&&(a.classes.push("newline"),e.size&&(a.style.marginTop=makeEm(calculateSize(e.size,o)))),a},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mspace");return e.newLine&&(a.setAttribute("linebreak","newline"),e.size&&a.setAttribute("height",makeEm(calculateSize(e.size,o)))),a}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=e=>{var o=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new ParseError("Expected a control sequence",e);return o},getRHS=e=>{var o=e.gullet.popToken();return o.text==="="&&(o=e.gullet.popToken(),o.text===" "&&(o=e.gullet.popToken())),o},letCommand=(e,o,a,c)=>{var d=e.gullet.macros.get(a.text);d==null&&(a.noexpand=!0,d={tokens:[a],numArgs:0,unexpandable:!e.gullet.isExpandable(a.text)}),e.gullet.macros.set(o,d,c)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:o,funcName:a}=e;o.consumeSpaces();var c=o.fetch();if(globalMap[c.text])return(a==="\\global"||a==="\\\\globallong")&&(c.text=globalMap[c.text]),assertNodeType(o.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",c)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:o,funcName:a}=e,c=o.gullet.popToken(),d=c.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(d))throw new ParseError("Expected a control sequence",c);for(var g=0,b,_=[[]];o.gullet.future().text!=="{";)if(c=o.gullet.popToken(),c.text==="#"){if(o.gullet.future().text==="{"){b=o.gullet.future(),_[g].push("{");break}if(c=o.gullet.popToken(),!/^[1-9]$/.test(c.text))throw new ParseError('Invalid argument number "'+c.text+'"');if(parseInt(c.text)!==g+1)throw new ParseError('Argument number "'+c.text+'" out of order');g++,_.push([])}else{if(c.text==="EOF")throw new ParseError("Expected a macro definition");_[g].push(c.text)}var{tokens:$}=o.gullet.consumeArg();return b&&$.unshift(b),(a==="\\edef"||a==="\\xdef")&&($=o.gullet.expandTokens($),$.reverse()),o.gullet.macros.set(d,{tokens:$,numArgs:g,delimiters:_},a===globalMap[a]),{type:"internal",mode:o.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:o,funcName:a}=e,c=checkControlSequence(o.gullet.popToken());o.gullet.consumeSpaces();var d=getRHS(o);return letCommand(o,c,d,a==="\\\\globallet"),{type:"internal",mode:o.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:o,funcName:a}=e,c=checkControlSequence(o.gullet.popToken()),d=o.gullet.popToken(),g=o.gullet.popToken();return letCommand(o,c,g,a==="\\\\globalfuture"),o.gullet.pushToken(g),o.gullet.pushToken(d),{type:"internal",mode:o.mode}}});var getMetrics=function e(o,a,c){var d=symbols.math[o]&&symbols.math[o].replace,g=getCharacterMetrics(d||o,a,c);if(!g)throw new Error("Unsupported symbol "+o+" and font size "+a+".");return g},styleWrap=function e(o,a,c,d){var g=c.havingBaseStyle(a),b=buildCommon.makeSpan(d.concat(g.sizingClasses(c)),[o],c),_=g.sizeMultiplier/c.sizeMultiplier;return b.height*=_,b.depth*=_,b.maxFontSize=g.sizeMultiplier,b},centerSpan=function e(o,a,c){var d=a.havingBaseStyle(c),g=(1-a.sizeMultiplier/d.sizeMultiplier)*a.fontMetrics().axisHeight;o.classes.push("delimcenter"),o.style.top=makeEm(g),o.height-=g,o.depth+=g},makeSmallDelim=function e(o,a,c,d,g,b){var _=buildCommon.makeSymbol(o,"Main-Regular",g,d),$=styleWrap(_,a,d,b);return c&&centerSpan($,d,a),$},mathrmSize=function e(o,a,c,d){return buildCommon.makeSymbol(o,"Size"+a+"-Regular",c,d)},makeLargeDelim=function e(o,a,c,d,g,b){var _=mathrmSize(o,a,g,d),$=styleWrap(buildCommon.makeSpan(["delimsizing","size"+a],[_],d),Style$1.TEXT,d,b);return c&&centerSpan($,d,Style$1.TEXT),$},makeGlyphSpan=function e(o,a,c){var d;a==="Size1-Regular"?d="delim-size1":d="delim-size4";var g=buildCommon.makeSpan(["delimsizinginner",d],[buildCommon.makeSpan([],[buildCommon.makeSymbol(o,a,c)])]);return{type:"elem",elem:g}},makeInner=function e(o,a,c){var d=fontMetricsData["Size4-Regular"][o.charCodeAt(0)]?fontMetricsData["Size4-Regular"][o.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][o.charCodeAt(0)][4],g=new PathNode("inner",innerPath(o,Math.round(1e3*a))),b=new SvgNode([g],{width:makeEm(d),height:makeEm(a),style:"width:"+makeEm(d),viewBox:"0 0 "+1e3*d+" "+Math.round(1e3*a),preserveAspectRatio:"xMinYMin"}),_=buildCommon.makeSvgSpan([],[b],c);return _.height=a,_.style.height=makeEm(a),_.style.width=makeEm(d),{type:"elem",elem:_}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function e(o,a,c,d,g,b){var _,$,j,rt,nt="",In=0;_=j=rt=o,$=null;var xl="Size1-Regular";o==="\\uparrow"?j=rt="":o==="\\Uparrow"?j=rt="":o==="\\downarrow"?_=j="":o==="\\Downarrow"?_=j="":o==="\\updownarrow"?(_="\\uparrow",j="",rt="\\downarrow"):o==="\\Updownarrow"?(_="\\Uparrow",j="",rt="\\Downarrow"):verts.includes(o)?(j="",nt="vert",In=333):doubleVerts.includes(o)?(j="",nt="doublevert",In=556):o==="["||o==="\\lbrack"?(_="",j="",rt="",xl="Size4-Regular",nt="lbrack",In=667):o==="]"||o==="\\rbrack"?(_="",j="",rt="",xl="Size4-Regular",nt="rbrack",In=667):o==="\\lfloor"||o===""?(j=_="",rt="",xl="Size4-Regular",nt="lfloor",In=667):o==="\\lceil"||o===""?(_="",j=rt="",xl="Size4-Regular",nt="lceil",In=667):o==="\\rfloor"||o===""?(j=_="",rt="",xl="Size4-Regular",nt="rfloor",In=667):o==="\\rceil"||o===""?(_="",j=rt="",xl="Size4-Regular",nt="rceil",In=667):o==="("||o==="\\lparen"?(_="",j="",rt="",xl="Size4-Regular",nt="lparen",In=875):o===")"||o==="\\rparen"?(_="",j="",rt="",xl="Size4-Regular",nt="rparen",In=875):o==="\\{"||o==="\\lbrace"?(_="",$="",rt="",j="",xl="Size4-Regular"):o==="\\}"||o==="\\rbrace"?(_="",$="",rt="",j="",xl="Size4-Regular"):o==="\\lgroup"||o===""?(_="",rt="",j="",xl="Size4-Regular"):o==="\\rgroup"||o===""?(_="",rt="",j="",xl="Size4-Regular"):o==="\\lmoustache"||o===""?(_="",rt="",j="",xl="Size4-Regular"):(o==="\\rmoustache"||o==="")&&(_="",rt="",j="",xl="Size4-Regular");var Ll=getMetrics(_,xl,g),Nl=Ll.height+Ll.depth,_u=getMetrics(j,xl,g),Yl=_u.height+_u.depth,Ul=getMetrics(rt,xl,g),Dl=Ul.height+Ul.depth,Zl=0,Ju=1;if($!==null){var Uu=getMetrics($,xl,g);Zl=Uu.height+Uu.depth,Ju=2}var fp=Nl+Dl+Zl,Zu=Math.max(0,Math.ceil((a-fp)/(Ju*Yl))),Lp=fp+Zu*Ju*Yl,Np=d.fontMetrics().axisHeight;c&&(Np*=d.sizeMultiplier);var zp=Lp/2-Np,h0=[];if(nt.length>0){var k0=Lp-Nl-Dl,D0=Math.round(Lp*1e3),s0=tallDelim(nt,Math.round(k0*1e3)),dp=new PathNode(nt,s0),S0=(In/1e3).toFixed(3)+"em",l0=(D0/1e3).toFixed(3)+"em",Op=new SvgNode([dp],{width:S0,height:l0,viewBox:"0 0 "+In+" "+D0}),Wp=buildCommon.makeSvgSpan([],[Op],d);Wp.height=D0/1e3,Wp.style.width=S0,Wp.style.height=l0,h0.push({type:"elem",elem:Wp})}else{if(h0.push(makeGlyphSpan(rt,xl,g)),h0.push(lap),$===null){var mm=Lp-Nl-Dl+2*lapInEms;h0.push(makeInner(j,mm,d))}else{var fm=(Lp-Nl-Dl-Zl)/2+2*lapInEms;h0.push(makeInner(j,fm,d)),h0.push(lap),h0.push(makeGlyphSpan($,xl,g)),h0.push(lap),h0.push(makeInner(j,fm,d))}h0.push(lap),h0.push(makeGlyphSpan(_,xl,g))}var g0=d.havingBaseStyle(Style$1.TEXT),e0=buildCommon.makeVList({positionType:"bottom",positionData:zp,children:h0},g0);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[e0],g0),Style$1.TEXT,d,b)},vbPad=80,emPad=.08,sqrtSvg=function e(o,a,c,d,g){var b=sqrtPath(o,d,c),_=new PathNode(o,b),$=new SvgNode([_],{width:"400em",height:makeEm(a),viewBox:"0 0 400000 "+c,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[$],g)},makeSqrtImage=function e(o,a){var c=a.havingBaseSizing(),d=traverseSequence("\\surd",o*c.sizeMultiplier,stackLargeDelimiterSequence,c),g=c.sizeMultiplier,b=Math.max(0,a.minRuleThickness-a.fontMetrics().sqrtRuleThickness),_,$=0,j=0,rt=0,nt;return d.type==="small"?(rt=1e3+1e3*b+vbPad,o<1?g=1:o<1.4&&(g=.7),$=(1+b+emPad)/g,j=(1+b)/g,_=sqrtSvg("sqrtMain",$,rt,b,a),_.style.minWidth="0.853em",nt=.833/g):d.type==="large"?(rt=(1e3+vbPad)*sizeToMaxHeight[d.size],j=(sizeToMaxHeight[d.size]+b)/g,$=(sizeToMaxHeight[d.size]+b+emPad)/g,_=sqrtSvg("sqrtSize"+d.size,$,rt,b,a),_.style.minWidth="1.02em",nt=1/g):($=o+b+emPad,j=o+b,rt=Math.floor(1e3*o+b)+vbPad,_=sqrtSvg("sqrtTall",$,rt,b,a),_.style.minWidth="0.742em",nt=1.056),_.height=j,_.style.height=makeEm($),{span:_,advanceWidth:nt,ruleWidth:(a.fontMetrics().sqrtRuleThickness+b)*g}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function e(o,a,c,d,g){if(o==="<"||o==="\\lt"||o===""?o="\\langle":(o===">"||o==="\\gt"||o==="")&&(o="\\rangle"),stackLargeDelimiters.includes(o)||stackNeverDelimiters.includes(o))return makeLargeDelim(o,a,!1,c,d,g);if(stackAlwaysDelimiters.includes(o))return makeStackedDelim(o,sizeToMaxHeight[a],!1,c,d,g);throw new ParseError("Illegal delimiter: '"+o+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function e(o){if(o.type==="small")return"Main-Regular";if(o.type==="large")return"Size"+o.size+"-Regular";if(o.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+o.type+"' here.")},traverseSequence=function e(o,a,c,d){for(var g=Math.min(2,3-d.style.size),b=g;b<c.length&&c[b].type!=="stack";b++){var _=getMetrics(o,delimTypeToFont(c[b]),"math"),$=_.height+_.depth;if(c[b].type==="small"){var j=d.havingBaseStyle(c[b].style);$*=j.sizeMultiplier}if($>a)return c[b]}return c[c.length-1]},makeCustomSizedDelim=function e(o,a,c,d,g,b){o==="<"||o==="\\lt"||o===""?o="\\langle":(o===">"||o==="\\gt"||o==="")&&(o="\\rangle");var _;stackNeverDelimiters.includes(o)?_=stackNeverDelimiterSequence:stackLargeDelimiters.includes(o)?_=stackLargeDelimiterSequence:_=stackAlwaysDelimiterSequence;var $=traverseSequence(o,a,_,d);return $.type==="small"?makeSmallDelim(o,$.style,c,d,g,b):$.type==="large"?makeLargeDelim(o,$.size,c,d,g,b):makeStackedDelim(o,a,c,d,g,b)},makeLeftRightDelim=function e(o,a,c,d,g,b){var _=d.fontMetrics().axisHeight*d.sizeMultiplier,$=901,j=5/d.fontMetrics().ptPerEm,rt=Math.max(a-_,c+_),nt=Math.max(rt/500*$,2*rt-j);return makeCustomSizedDelim(o,nt,!0,d,g,b)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(e,o){var a=checkSymbolNodeType(e);if(a&&delimiters.includes(a.text))return a;throw a?new ParseError("Invalid delimiter '"+a.text+"' after '"+o.funcName+"'",e):new ParseError("Invalid delimiter type '"+e.type+"'",e)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,o)=>{var a=checkDelimiter(o[0],e);return{type:"delimsizing",mode:e.parser.mode,size:delimiterSizes[e.funcName].size,mclass:delimiterSizes[e.funcName].mclass,delim:a.text}},htmlBuilder:(e,o)=>e.delim==="."?buildCommon.makeSpan([e.mclass]):delimiter.sizedDelim(e.delim,e.size,o,e.mode,[e.mclass]),mathmlBuilder:e=>{var o=[];e.delim!=="."&&o.push(makeText(e.delim,e.mode));var a=new mathMLTree.MathNode("mo",o);e.mclass==="mopen"||e.mclass==="mclose"?a.setAttribute("fence","true"):a.setAttribute("fence","false"),a.setAttribute("stretchy","true");var c=makeEm(delimiter.sizeToMaxHeight[e.size]);return a.setAttribute("minsize",c),a.setAttribute("maxsize",c),a}});function assertParsed(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,o)=>{var a=e.parser.gullet.macros.get("\\current@color");if(a&&typeof a!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:checkDelimiter(o[0],e).text,color:a}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,o)=>{var a=checkDelimiter(o[0],e),c=e.parser;++c.leftrightDepth;var d=c.parseExpression(!1);--c.leftrightDepth,c.expect("\\right",!1);var g=assertNodeType(c.parseFunction(),"leftright-right");return{type:"leftright",mode:c.mode,body:d,left:a.text,right:g.delim,rightColor:g.color}},htmlBuilder:(e,o)=>{assertParsed(e);for(var a=buildExpression$1(e.body,o,!0,["mopen","mclose"]),c=0,d=0,g=!1,b=0;b<a.length;b++)a[b].isMiddle?g=!0:(c=Math.max(a[b].height,c),d=Math.max(a[b].depth,d));c*=o.sizeMultiplier,d*=o.sizeMultiplier;var _;if(e.left==="."?_=makeNullDelimiter(o,["mopen"]):_=delimiter.leftRightDelim(e.left,c,d,o,e.mode,["mopen"]),a.unshift(_),g)for(var $=1;$<a.length;$++){var j=a[$],rt=j.isMiddle;rt&&(a[$]=delimiter.leftRightDelim(rt.delim,c,d,rt.options,e.mode,[]))}var nt;if(e.right===".")nt=makeNullDelimiter(o,["mclose"]);else{var In=e.rightColor?o.withColor(e.rightColor):o;nt=delimiter.leftRightDelim(e.right,c,d,In,e.mode,["mclose"])}return a.push(nt),buildCommon.makeSpan(["minner"],a,o)},mathmlBuilder:(e,o)=>{assertParsed(e);var a=buildExpression(e.body,o);if(e.left!=="."){var c=new mathMLTree.MathNode("mo",[makeText(e.left,e.mode)]);c.setAttribute("fence","true"),a.unshift(c)}if(e.right!=="."){var d=new mathMLTree.MathNode("mo",[makeText(e.right,e.mode)]);d.setAttribute("fence","true"),e.rightColor&&d.setAttribute("mathcolor",e.rightColor),a.push(d)}return makeRow(a)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,o)=>{var a=checkDelimiter(o[0],e);if(!e.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",a);return{type:"middle",mode:e.parser.mode,delim:a.text}},htmlBuilder:(e,o)=>{var a;if(e.delim===".")a=makeNullDelimiter(o,[]);else{a=delimiter.sizedDelim(e.delim,1,o,e.mode,[]);var c={delim:e.delim,options:o};a.isMiddle=c}return a},mathmlBuilder:(e,o)=>{var a=e.delim==="\\vert"||e.delim==="|"?makeText("|","text"):makeText(e.delim,e.mode),c=new mathMLTree.MathNode("mo",[a]);return c.setAttribute("fence","true"),c.setAttribute("lspace","0.05em"),c.setAttribute("rspace","0.05em"),c}});var htmlBuilder$7=(e,o)=>{var a=buildCommon.wrapFragment(buildGroup$1(e.body,o),o),c=e.label.slice(1),d=o.sizeMultiplier,g,b=0,_=utils.isCharacterBox(e.body);if(c==="sout")g=buildCommon.makeSpan(["stretchy","sout"]),g.height=o.fontMetrics().defaultRuleThickness/d,b=-.5*o.fontMetrics().xHeight;else if(c==="phase"){var $=calculateSize({number:.6,unit:"pt"},o),j=calculateSize({number:.35,unit:"ex"},o),rt=o.havingBaseSizing();d=d/rt.sizeMultiplier;var nt=a.height+a.depth+$+j;a.style.paddingLeft=makeEm(nt/2+$);var In=Math.floor(1e3*nt*d),xl=phasePath(In),Ll=new SvgNode([new PathNode("phase",xl)],{width:"400em",height:makeEm(In/1e3),viewBox:"0 0 400000 "+In,preserveAspectRatio:"xMinYMin slice"});g=buildCommon.makeSvgSpan(["hide-tail"],[Ll],o),g.style.height=makeEm(nt),b=a.depth+$+j}else{/cancel/.test(c)?_||a.classes.push("cancel-pad"):c==="angl"?a.classes.push("anglpad"):a.classes.push("boxpad");var Nl=0,_u=0,Yl=0;/box/.test(c)?(Yl=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness),Nl=o.fontMetrics().fboxsep+(c==="colorbox"?0:Yl),_u=Nl):c==="angl"?(Yl=Math.max(o.fontMetrics().defaultRuleThickness,o.minRuleThickness),Nl=4*Yl,_u=Math.max(0,.25-a.depth)):(Nl=_?.2:0,_u=Nl),g=stretchy.encloseSpan(a,c,Nl,_u,o),/fbox|boxed|fcolorbox/.test(c)?(g.style.borderStyle="solid",g.style.borderWidth=makeEm(Yl)):c==="angl"&&Yl!==.049&&(g.style.borderTopWidth=makeEm(Yl),g.style.borderRightWidth=makeEm(Yl)),b=a.depth+_u,e.backgroundColor&&(g.style.backgroundColor=e.backgroundColor,e.borderColor&&(g.style.borderColor=e.borderColor))}var Ul;if(e.backgroundColor)Ul=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:g,shift:b},{type:"elem",elem:a,shift:0}]},o);else{var Dl=/cancel|phase/.test(c)?["svg-align"]:[];Ul=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:g,shift:b,wrapperClasses:Dl}]},o)}return/cancel/.test(c)&&(Ul.height=a.height,Ul.depth=a.depth),/cancel/.test(c)&&!_?buildCommon.makeSpan(["mord","cancel-lap"],[Ul],o):buildCommon.makeSpan(["mord"],[Ul],o)},mathmlBuilder$6=(e,o)=>{var a=0,c=new mathMLTree.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(e.body,o)]);switch(e.label){case"\\cancel":c.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":c.setAttribute("notation","downdiagonalstrike");break;case"\\phase":c.setAttribute("notation","phasorangle");break;case"\\sout":c.setAttribute("notation","horizontalstrike");break;case"\\fbox":c.setAttribute("notation","box");break;case"\\angl":c.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(a=o.fontMetrics().fboxsep*o.fontMetrics().ptPerEm,c.setAttribute("width","+"+2*a+"pt"),c.setAttribute("height","+"+2*a+"pt"),c.setAttribute("lspace",a+"pt"),c.setAttribute("voffset",a+"pt"),e.label==="\\fcolorbox"){var d=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness);c.setAttribute("style","border: "+d+"em solid "+String(e.borderColor))}break;case"\\xcancel":c.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&c.setAttribute("mathbackground",e.backgroundColor),c};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,o,a){var{parser:c,funcName:d}=e,g=assertNodeType(o[0],"color-token").color,b=o[1];return{type:"enclose",mode:c.mode,label:d,backgroundColor:g,body:b}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,o,a){var{parser:c,funcName:d}=e,g=assertNodeType(o[0],"color-token").color,b=assertNodeType(o[1],"color-token").color,_=o[2];return{type:"enclose",mode:c.mode,label:d,backgroundColor:b,borderColor:g,body:_}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,o){var{parser:a}=e;return{type:"enclose",mode:a.mode,label:"\\fbox",body:o[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,o){var{parser:a,funcName:c}=e,d=o[0];return{type:"enclose",mode:a.mode,label:c,body:d}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,o){var{parser:a}=e;return{type:"enclose",mode:a.mode,label:"\\angl",body:o[0]}}});var _environments={};function defineEnvironment(e){for(var{type:o,names:a,props:c,handler:d,htmlBuilder:g,mathmlBuilder:b}=e,_={type:o,numArgs:c.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:d},$=0;$<a.length;++$)_environments[a[$]]=_;g&&(_htmlGroupBuilders[o]=g),b&&(_mathmlGroupBuilders[o]=b)}var _macros={};function defineMacro(e,o){_macros[e]=o}function getHLines(e){var o=[];e.consumeSpaces();var a=e.fetch().text;for(a==="\\relax"&&(e.consume(),e.consumeSpaces(),a=e.fetch().text);a==="\\hline"||a==="\\hdashline";)e.consume(),o.push(a==="\\hdashline"),e.consumeSpaces(),a=e.fetch().text;return o}var validateAmsEnvironmentContext=e=>{var o=e.parser.settings;if(!o.displayMode)throw new ParseError("{"+e.envName+"} can be used only in display mode.")};function getAutoTag(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function parseArray(e,o,a){var{hskipBeforeAndAfter:c,addJot:d,cols:g,arraystretch:b,colSeparationType:_,autoTag:$,singleRow:j,emptySingleRow:rt,maxNumCols:nt,leqno:In}=o;if(e.gullet.beginGroup(),j||e.gullet.macros.set("\\cr","\\\\\\relax"),!b){var xl=e.gullet.expandMacroAsText("\\arraystretch");if(xl==null)b=1;else if(b=parseFloat(xl),!b||b<0)throw new ParseError("Invalid \\arraystretch: "+xl)}e.gullet.beginGroup();var Ll=[],Nl=[Ll],_u=[],Yl=[],Ul=$!=null?[]:void 0;function Dl(){$&&e.gullet.macros.set("\\@eqnsw","1",!0)}function Zl(){Ul&&(e.gullet.macros.get("\\df@tag")?(Ul.push(e.subparse([new Token("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):Ul.push(!!$&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(Dl(),Yl.push(getHLines(e));;){var Ju=e.parseExpression(!1,j?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),Ju={type:"ordgroup",mode:e.mode,body:Ju},a&&(Ju={type:"styling",mode:e.mode,style:a,body:[Ju]}),Ll.push(Ju);var Uu=e.fetch().text;if(Uu==="&"){if(nt&&Ll.length===nt){if(j||_)throw new ParseError("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(Uu==="\\end"){Zl(),Ll.length===1&&Ju.type==="styling"&&Ju.body[0].body.length===0&&(Nl.length>1||!rt)&&Nl.pop(),Yl.length<Nl.length+1&&Yl.push([]);break}else if(Uu==="\\\\"){e.consume();var fp=void 0;e.gullet.future().text!==" "&&(fp=e.parseSizeGroup(!0)),_u.push(fp?fp.value:null),Zl(),Yl.push(getHLines(e)),Ll=[],Nl.push(Ll),Dl()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:d,arraystretch:b,body:Nl,cols:g,rowGaps:_u,hskipBeforeAndAfter:c,hLinesBeforeRow:Yl,colSeparationType:_,tags:Ul,leqno:In}}function dCellStyle(e){return e.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function e(o,a){var c,d,g=o.body.length,b=o.hLinesBeforeRow,_=0,$=new Array(g),j=[],rt=Math.max(a.fontMetrics().arrayRuleWidth,a.minRuleThickness),nt=1/a.fontMetrics().ptPerEm,In=5*nt;if(o.colSeparationType&&o.colSeparationType==="small"){var xl=a.havingStyle(Style$1.SCRIPT).sizeMultiplier;In=.2778*(xl/a.sizeMultiplier)}var Ll=o.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},a):12*nt,Nl=3*nt,_u=o.arraystretch*Ll,Yl=.7*_u,Ul=.3*_u,Dl=0;function Zl(Cv){for(var lv=0;lv<Cv.length;++lv)lv>0&&(Dl+=.25),j.push({pos:Dl,isDashed:Cv[lv]})}for(Zl(b[0]),c=0;c<o.body.length;++c){var Ju=o.body[c],Uu=Yl,fp=Ul;_<Ju.length&&(_=Ju.length);var Zu=new Array(Ju.length);for(d=0;d<Ju.length;++d){var Lp=buildGroup$1(Ju[d],a);fp<Lp.depth&&(fp=Lp.depth),Uu<Lp.height&&(Uu=Lp.height),Zu[d]=Lp}var Np=o.rowGaps[c],zp=0;Np&&(zp=calculateSize(Np,a),zp>0&&(zp+=Ul,fp<zp&&(fp=zp),zp=0)),o.addJot&&(fp+=Nl),Zu.height=Uu,Zu.depth=fp,Dl+=Uu,Zu.pos=Dl,Dl+=fp+zp,$[c]=Zu,Zl(b[c+1])}var h0=Dl/2+a.fontMetrics().axisHeight,k0=o.cols||[],D0=[],s0,dp,S0=[];if(o.tags&&o.tags.some(Cv=>Cv))for(c=0;c<g;++c){var l0=$[c],Op=l0.pos-h0,Wp=o.tags[c],mm=void 0;Wp===!0?mm=buildCommon.makeSpan(["eqn-num"],[],a):Wp===!1?mm=buildCommon.makeSpan([],[],a):mm=buildCommon.makeSpan([],buildExpression$1(Wp,a,!0),a),mm.depth=l0.depth,mm.height=l0.height,S0.push({type:"elem",elem:mm,shift:Op})}for(d=0,dp=0;d<_||dp<k0.length;++d,++dp){for(var fm=k0[dp]||{},g0=!0;fm.type==="separator";){if(g0||(s0=buildCommon.makeSpan(["arraycolsep"],[]),s0.style.width=makeEm(a.fontMetrics().doubleRuleSep),D0.push(s0)),fm.separator==="|"||fm.separator===":"){var e0=fm.separator==="|"?"solid":"dashed",V0=buildCommon.makeSpan(["vertical-separator"],[],a);V0.style.height=makeEm(Dl),V0.style.borderRightWidth=makeEm(rt),V0.style.borderRightStyle=e0,V0.style.margin="0 "+makeEm(-rt/2);var ym=Dl-h0;ym&&(V0.style.verticalAlign=makeEm(-ym)),D0.push(V0)}else throw new ParseError("Invalid separator type: "+fm.separator);dp++,fm=k0[dp]||{},g0=!1}if(!(d>=_)){var Am=void 0;(d>0||o.hskipBeforeAndAfter)&&(Am=utils.deflt(fm.pregap,In),Am!==0&&(s0=buildCommon.makeSpan(["arraycolsep"],[]),s0.style.width=makeEm(Am),D0.push(s0)));var am=[];for(c=0;c<g;++c){var Rm=$[c],Lm=Rm[d];if(Lm){var Fm=Rm.pos-h0;Lm.depth=Rm.depth,Lm.height=Rm.height,am.push({type:"elem",elem:Lm,shift:Fm})}}am=buildCommon.makeVList({positionType:"individualShift",children:am},a),am=buildCommon.makeSpan(["col-align-"+(fm.align||"c")],[am]),D0.push(am),(d<_-1||o.hskipBeforeAndAfter)&&(Am=utils.deflt(fm.postgap,In),Am!==0&&(s0=buildCommon.makeSpan(["arraycolsep"],[]),s0.style.width=makeEm(Am),D0.push(s0)))}}if($=buildCommon.makeSpan(["mtable"],D0),j.length>0){for(var s1=buildCommon.makeLineSpan("hline",a,rt),r1=buildCommon.makeLineSpan("hdashline",a,rt),Y1=[{type:"elem",elem:$,shift:0}];j.length>0;){var G1=j.pop(),wv=G1.pos-h0;G1.isDashed?Y1.push({type:"elem",elem:r1,shift:wv}):Y1.push({type:"elem",elem:s1,shift:wv})}$=buildCommon.makeVList({positionType:"individualShift",children:Y1},a)}if(S0.length===0)return buildCommon.makeSpan(["mord"],[$],a);var Mv=buildCommon.makeVList({positionType:"individualShift",children:S0},a);return Mv=buildCommon.makeSpan(["tag"],[Mv],a),buildCommon.makeFragment([$,Mv])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function e(o,a){for(var c=[],d=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),g=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),b=0;b<o.body.length;b++){for(var _=o.body[b],$=[],j=0;j<_.length;j++)$.push(new mathMLTree.MathNode("mtd",[buildGroup(_[j],a)]));o.tags&&o.tags[b]&&($.unshift(d),$.push(d),o.leqno?$.unshift(g):$.push(g)),c.push(new mathMLTree.MathNode("mtr",$))}var rt=new mathMLTree.MathNode("mtable",c),nt=o.arraystretch===.5?.1:.16+o.arraystretch-1+(o.addJot?.09:0);rt.setAttribute("rowspacing",makeEm(nt));var In="",xl="";if(o.cols&&o.cols.length>0){var Ll=o.cols,Nl="",_u=!1,Yl=0,Ul=Ll.length;Ll[0].type==="separator"&&(In+="top ",Yl=1),Ll[Ll.length-1].type==="separator"&&(In+="bottom ",Ul-=1);for(var Dl=Yl;Dl<Ul;Dl++)Ll[Dl].type==="align"?(xl+=alignMap[Ll[Dl].align],_u&&(Nl+="none "),_u=!0):Ll[Dl].type==="separator"&&_u&&(Nl+=Ll[Dl].separator==="|"?"solid ":"dashed ",_u=!1);rt.setAttribute("columnalign",xl.trim()),/[sd]/.test(Nl)&&rt.setAttribute("columnlines",Nl.trim())}if(o.colSeparationType==="align"){for(var Zl=o.cols||[],Ju="",Uu=1;Uu<Zl.length;Uu++)Ju+=Uu%2?"0em ":"1em ";rt.setAttribute("columnspacing",Ju.trim())}else o.colSeparationType==="alignat"||o.colSeparationType==="gather"?rt.setAttribute("columnspacing","0em"):o.colSeparationType==="small"?rt.setAttribute("columnspacing","0.2778em"):o.colSeparationType==="CD"?rt.setAttribute("columnspacing","0.5em"):rt.setAttribute("columnspacing","1em");var fp="",Zu=o.hLinesBeforeRow;In+=Zu[0].length>0?"left ":"",In+=Zu[Zu.length-1].length>0?"right ":"";for(var Lp=1;Lp<Zu.length-1;Lp++)fp+=Zu[Lp].length===0?"none ":Zu[Lp][0]?"dashed ":"solid ";return/[sd]/.test(fp)&&rt.setAttribute("rowlines",fp.trim()),In!==""&&(rt=new mathMLTree.MathNode("menclose",[rt]),rt.setAttribute("notation",In.trim())),o.arraystretch&&o.arraystretch<1&&(rt=new mathMLTree.MathNode("mstyle",[rt]),rt.setAttribute("scriptlevel","1")),rt},alignedHandler=function e(o,a){o.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(o);var c=[],d=o.envName.indexOf("at")>-1?"alignat":"align",g=o.envName==="split",b=parseArray(o.parser,{cols:c,addJot:!0,autoTag:g?void 0:getAutoTag(o.envName),emptySingleRow:!0,colSeparationType:d,maxNumCols:g?2:void 0,leqno:o.parser.settings.leqno},"display"),_,$=0,j={type:"ordgroup",mode:o.mode,body:[]};if(a[0]&&a[0].type==="ordgroup"){for(var rt="",nt=0;nt<a[0].body.length;nt++){var In=assertNodeType(a[0].body[nt],"textord");rt+=In.text}_=Number(rt),$=_*2}var xl=!$;b.body.forEach(function(Yl){for(var Ul=1;Ul<Yl.length;Ul+=2){var Dl=assertNodeType(Yl[Ul],"styling"),Zl=assertNodeType(Dl.body[0],"ordgroup");Zl.body.unshift(j)}if(xl)$<Yl.length&&($=Yl.length);else{var Ju=Yl.length/2;if(_<Ju)throw new ParseError("Too many math in a row: "+("expected "+_+", but got "+Ju),Yl[0])}});for(var Ll=0;Ll<$;++Ll){var Nl="r",_u=0;Ll%2===1?Nl="l":Ll>0&&xl&&(_u=1),c[Ll]={type:"align",align:Nl,pregap:_u,postgap:0}}return b.colSeparationType=xl?"align":"alignat",b};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,o){var a=checkSymbolNodeType(o[0]),c=a?[o[0]]:assertNodeType(o[0],"ordgroup").body,d=c.map(function(b){var _=assertSymbolNodeType(b),$=_.text;if("lcr".indexOf($)!==-1)return{type:"align",align:$};if($==="|")return{type:"separator",separator:"|"};if($===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+$,b)}),g={cols:d,hskipBeforeAndAfter:!0,maxNumCols:d.length};return parseArray(e.parser,g,dCellStyle(e.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var o={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],a="c",c={hskipBeforeAndAfter:!1,cols:[{type:"align",align:a}]};if(e.envName.charAt(e.envName.length-1)==="*"){var d=e.parser;if(d.consumeSpaces(),d.fetch().text==="["){if(d.consume(),d.consumeSpaces(),a=d.fetch().text,"lcr".indexOf(a)===-1)throw new ParseError("Expected l or c or r",d.nextToken);d.consume(),d.consumeSpaces(),d.expect("]"),d.consume(),c.cols=[{type:"align",align:a}]}}var g=parseArray(e.parser,c,dCellStyle(e.envName)),b=Math.max(0,...g.body.map(_=>_.length));return g.cols=new Array(b).fill({type:"align",align:a}),o?{type:"leftright",mode:e.mode,body:[g],left:o[0],right:o[1],rightColor:void 0}:g},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var o={arraystretch:.5},a=parseArray(e.parser,o,"script");return a.colSeparationType="small",a},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(e,o){var a=checkSymbolNodeType(o[0]),c=a?[o[0]]:assertNodeType(o[0],"ordgroup").body,d=c.map(function(b){var _=assertSymbolNodeType(b),$=_.text;if("lc".indexOf($)!==-1)return{type:"align",align:$};throw new ParseError("Unknown column alignment: "+$,b)});if(d.length>1)throw new ParseError("{subarray} can contain only one column");var g={cols:d,hskipBeforeAndAfter:!1,arraystretch:.5};if(g=parseArray(e.parser,g,"script"),g.body.length>0&&g.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return g},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var o={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},a=parseArray(e.parser,o,dCellStyle(e.envName));return{type:"leftright",mode:e.mode,body:[a],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){["gather","gather*"].includes(e.envName)&&validateAmsEnvironmentContext(e);var o={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return parseArray(e.parser,o,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){validateAmsEnvironmentContext(e);var o={autoTag:getAutoTag(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return parseArray(e.parser,o,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(e){return validateAmsEnvironmentContext(e),parseCD(e.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,o){throw new ParseError(e.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,o){var{parser:a,funcName:c}=e,d=o[0];if(d.type!=="ordgroup")throw new ParseError("Invalid environment name",d);for(var g="",b=0;b<d.body.length;++b)g+=assertNodeType(d.body[b],"textord").text;if(c==="\\begin"){if(!environments.hasOwnProperty(g))throw new ParseError("No such environment: "+g,d);var _=environments[g],{args:$,optArgs:j}=a.parseArguments("\\begin{"+g+"}",_),rt={mode:a.mode,envName:g,parser:a},nt=_.handler(rt,$,j);a.expect("\\end",!1);var In=a.nextToken,xl=assertNodeType(a.parseFunction(),"environment");if(xl.name!==g)throw new ParseError("Mismatch: \\begin{"+g+"} matched by \\end{"+xl.name+"}",In);return nt}return{type:"environment",mode:a.mode,name:g,nameGroup:d}}});var htmlBuilder$5=(e,o)=>{var a=e.font,c=o.withFont(a);return buildGroup$1(e.body,c)},mathmlBuilder$4=(e,o)=>{var a=e.font,c=o.withFont(a);return buildGroup(e.body,c)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=normalizeArgument(o[0]),g=c;return g in fontAliases&&(g=fontAliases[g]),{type:"font",mode:a.mode,font:g.slice(1),body:d}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,o)=>{var{parser:a}=e,c=o[0],d=utils.isCharacterBox(c);return{type:"mclass",mode:a.mode,mclass:binrelClass(c),body:[{type:"font",mode:a.mode,font:"boldsymbol",body:c}],isCharacterBox:d}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,o)=>{var{parser:a,funcName:c,breakOnTokenText:d}=e,{mode:g}=a,b=a.parseExpression(!0,d),_="math"+c.slice(1);return{type:"font",mode:g,font:_,body:{type:"ordgroup",mode:a.mode,body:b}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(e,o)=>{var a=o;return e==="display"?a=a.id>=Style$1.SCRIPT.id?a.text():Style$1.DISPLAY:e==="text"&&a.size===Style$1.DISPLAY.size?a=Style$1.TEXT:e==="script"?a=Style$1.SCRIPT:e==="scriptscript"&&(a=Style$1.SCRIPTSCRIPT),a},htmlBuilder$4=(e,o)=>{var a=adjustStyle(e.size,o.style),c=a.fracNum(),d=a.fracDen(),g;g=o.havingStyle(c);var b=buildGroup$1(e.numer,g,o);if(e.continued){var _=8.5/o.fontMetrics().ptPerEm,$=3.5/o.fontMetrics().ptPerEm;b.height=b.height<_?_:b.height,b.depth=b.depth<$?$:b.depth}g=o.havingStyle(d);var j=buildGroup$1(e.denom,g,o),rt,nt,In;e.hasBarLine?(e.barSize?(nt=calculateSize(e.barSize,o),rt=buildCommon.makeLineSpan("frac-line",o,nt)):rt=buildCommon.makeLineSpan("frac-line",o),nt=rt.height,In=rt.height):(rt=null,nt=0,In=o.fontMetrics().defaultRuleThickness);var xl,Ll,Nl;a.size===Style$1.DISPLAY.size||e.size==="display"?(xl=o.fontMetrics().num1,nt>0?Ll=3*In:Ll=7*In,Nl=o.fontMetrics().denom1):(nt>0?(xl=o.fontMetrics().num2,Ll=In):(xl=o.fontMetrics().num3,Ll=3*In),Nl=o.fontMetrics().denom2);var _u;if(rt){var Ul=o.fontMetrics().axisHeight;xl-b.depth-(Ul+.5*nt)<Ll&&(xl+=Ll-(xl-b.depth-(Ul+.5*nt))),Ul-.5*nt-(j.height-Nl)<Ll&&(Nl+=Ll-(Ul-.5*nt-(j.height-Nl)));var Dl=-(Ul-.5*nt);_u=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:Nl},{type:"elem",elem:rt,shift:Dl},{type:"elem",elem:b,shift:-xl}]},o)}else{var Yl=xl-b.depth-(j.height-Nl);Yl<Ll&&(xl+=.5*(Ll-Yl),Nl+=.5*(Ll-Yl)),_u=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:Nl},{type:"elem",elem:b,shift:-xl}]},o)}g=o.havingStyle(a),_u.height*=g.sizeMultiplier/o.sizeMultiplier,_u.depth*=g.sizeMultiplier/o.sizeMultiplier;var Zl;a.size===Style$1.DISPLAY.size?Zl=o.fontMetrics().delim1:a.size===Style$1.SCRIPTSCRIPT.size?Zl=o.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:Zl=o.fontMetrics().delim2;var Ju,Uu;return e.leftDelim==null?Ju=makeNullDelimiter(o,["mopen"]):Ju=delimiter.customSizedDelim(e.leftDelim,Zl,!0,o.havingStyle(a),e.mode,["mopen"]),e.continued?Uu=buildCommon.makeSpan([]):e.rightDelim==null?Uu=makeNullDelimiter(o,["mclose"]):Uu=delimiter.customSizedDelim(e.rightDelim,Zl,!0,o.havingStyle(a),e.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(g.sizingClasses(o)),[Ju,buildCommon.makeSpan(["mfrac"],[_u]),Uu],o)},mathmlBuilder$3=(e,o)=>{var a=new mathMLTree.MathNode("mfrac",[buildGroup(e.numer,o),buildGroup(e.denom,o)]);if(!e.hasBarLine)a.setAttribute("linethickness","0px");else if(e.barSize){var c=calculateSize(e.barSize,o);a.setAttribute("linethickness",makeEm(c))}var d=adjustStyle(e.size,o.style);if(d.size!==o.style.size){a=new mathMLTree.MathNode("mstyle",[a]);var g=d.size===Style$1.DISPLAY.size?"true":"false";a.setAttribute("displaystyle",g),a.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var b=[];if(e.leftDelim!=null){var _=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.leftDelim.replace("\\",""))]);_.setAttribute("fence","true"),b.push(_)}if(b.push(a),e.rightDelim!=null){var $=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.rightDelim.replace("\\",""))]);$.setAttribute("fence","true"),b.push($)}return makeRow(b)}return a};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0],g=o[1],b,_=null,$=null,j="auto";switch(c){case"\\dfrac":case"\\frac":case"\\tfrac":b=!0;break;case"\\\\atopfrac":b=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":b=!1,_="(",$=")";break;case"\\\\bracefrac":b=!1,_="\\{",$="\\}";break;case"\\\\brackfrac":b=!1,_="[",$="]";break;default:throw new Error("Unrecognized genfrac command")}switch(c){case"\\dfrac":case"\\dbinom":j="display";break;case"\\tfrac":case"\\tbinom":j="text";break}return{type:"genfrac",mode:a.mode,continued:!1,numer:d,denom:g,hasBarLine:b,leftDelim:_,rightDelim:$,size:j,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0],g=o[1];return{type:"genfrac",mode:a.mode,continued:!0,numer:d,denom:g,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:o,funcName:a,token:c}=e,d;switch(a){case"\\over":d="\\frac";break;case"\\choose":d="\\binom";break;case"\\atop":d="\\\\atopfrac";break;case"\\brace":d="\\\\bracefrac";break;case"\\brack":d="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:o.mode,replaceWith:d,token:c}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function e(o){var a=null;return o.length>0&&(a=o,a=a==="."?null:a),a};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,o){var{parser:a}=e,c=o[4],d=o[5],g=normalizeArgument(o[0]),b=g.type==="atom"&&g.family==="open"?delimFromValue(g.text):null,_=normalizeArgument(o[1]),$=_.type==="atom"&&_.family==="close"?delimFromValue(_.text):null,j=assertNodeType(o[2],"size"),rt,nt=null;j.isBlank?rt=!0:(nt=j.value,rt=nt.number>0);var In="auto",xl=o[3];if(xl.type==="ordgroup"){if(xl.body.length>0){var Ll=assertNodeType(xl.body[0],"textord");In=stylArray[Number(Ll.text)]}}else xl=assertNodeType(xl,"textord"),In=stylArray[Number(xl.text)];return{type:"genfrac",mode:a.mode,numer:c,denom:d,continued:!1,hasBarLine:rt,barSize:nt,leftDelim:b,rightDelim:$,size:In}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,o){var{parser:a,funcName:c,token:d}=e;return{type:"infix",mode:a.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(o[0],"size").value,token:d}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0],g=assert(assertNodeType(o[1],"infix").size),b=o[2],_=g.number>0;return{type:"genfrac",mode:a.mode,numer:d,denom:b,continued:!1,hasBarLine:_,barSize:g,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(e,o)=>{var a=o.style,c,d;e.type==="supsub"?(c=e.sup?buildGroup$1(e.sup,o.havingStyle(a.sup()),o):buildGroup$1(e.sub,o.havingStyle(a.sub()),o),d=assertNodeType(e.base,"horizBrace")):d=assertNodeType(e,"horizBrace");var g=buildGroup$1(d.base,o.havingBaseStyle(Style$1.DISPLAY)),b=stretchy.svgSpan(d,o),_;if(d.isOver?(_=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g},{type:"kern",size:.1},{type:"elem",elem:b}]},o),_.children[0].children[0].children[1].classes.push("svg-align")):(_=buildCommon.makeVList({positionType:"bottom",positionData:g.depth+.1+b.height,children:[{type:"elem",elem:b},{type:"kern",size:.1},{type:"elem",elem:g}]},o),_.children[0].children[0].children[0].classes.push("svg-align")),c){var $=buildCommon.makeSpan(["mord",d.isOver?"mover":"munder"],[_],o);d.isOver?_=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:$},{type:"kern",size:.2},{type:"elem",elem:c}]},o):_=buildCommon.makeVList({positionType:"bottom",positionData:$.depth+.2+c.height+c.depth,children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:$}]},o)}return buildCommon.makeSpan(["mord",d.isOver?"mover":"munder"],[_],o)},mathmlBuilder$2=(e,o)=>{var a=stretchy.mathMLnode(e.label);return new mathMLTree.MathNode(e.isOver?"mover":"munder",[buildGroup(e.base,o),a])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,o){var{parser:a,funcName:c}=e;return{type:"horizBrace",mode:a.mode,label:c,isOver:/^\\over/.test(c),base:o[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=o[1],d=assertNodeType(o[0],"url").url;return a.settings.isTrusted({command:"\\href",url:d})?{type:"href",mode:a.mode,href:d,body:ordargument(c)}:a.formatUnsupportedCmd("\\href")},htmlBuilder:(e,o)=>{var a=buildExpression$1(e.body,o,!1);return buildCommon.makeAnchor(e.href,[],a,o)},mathmlBuilder:(e,o)=>{var a=buildExpressionRow(e.body,o);return a instanceof MathNode||(a=new MathNode("mrow",[a])),a.setAttribute("href",e.href),a}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=assertNodeType(o[0],"url").url;if(!a.settings.isTrusted({command:"\\url",url:c}))return a.formatUnsupportedCmd("\\url");for(var d=[],g=0;g<c.length;g++){var b=c[g];b==="~"&&(b="\\textasciitilde"),d.push({type:"textord",mode:"text",text:b})}var _={type:"text",mode:a.mode,font:"\\texttt",body:d};return{type:"href",mode:a.mode,href:c,body:ordargument(_)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,o){var{parser:a}=e;return{type:"hbox",mode:a.mode,body:ordargument(o[0])}},htmlBuilder(e,o){var a=buildExpression$1(e.body,o,!1);return buildCommon.makeFragment(a)},mathmlBuilder(e,o){return new mathMLTree.MathNode("mrow",buildExpression(e.body,o))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,o)=>{var{parser:a,funcName:c,token:d}=e,g=assertNodeType(o[0],"raw").string,b=o[1];a.settings.strict&&a.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var _,$={};switch(c){case"\\htmlClass":$.class=g,_={command:"\\htmlClass",class:g};break;case"\\htmlId":$.id=g,_={command:"\\htmlId",id:g};break;case"\\htmlStyle":$.style=g,_={command:"\\htmlStyle",style:g};break;case"\\htmlData":{for(var j=g.split(","),rt=0;rt<j.length;rt++){var nt=j[rt].split("=");if(nt.length!==2)throw new ParseError("Error parsing key-value for \\htmlData");$["data-"+nt[0].trim()]=nt[1].trim()}_={command:"\\htmlData",attributes:$};break}default:throw new Error("Unrecognized html command")}return a.settings.isTrusted(_)?{type:"html",mode:a.mode,attributes:$,body:ordargument(b)}:a.formatUnsupportedCmd(c)},htmlBuilder:(e,o)=>{var a=buildExpression$1(e.body,o,!1),c=["enclosing"];e.attributes.class&&c.push(...e.attributes.class.trim().split(/\s+/));var d=buildCommon.makeSpan(c,a,o);for(var g in e.attributes)g!=="class"&&e.attributes.hasOwnProperty(g)&&d.setAttribute(g,e.attributes[g]);return d},mathmlBuilder:(e,o)=>buildExpressionRow(e.body,o)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,o)=>{var{parser:a}=e;return{type:"htmlmathml",mode:a.mode,html:ordargument(o[0]),mathml:ordargument(o[1])}},htmlBuilder:(e,o)=>{var a=buildExpression$1(e.html,o,!1);return buildCommon.makeFragment(a)},mathmlBuilder:(e,o)=>buildExpressionRow(e.mathml,o)});var sizeData=function e(o){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(o))return{number:+o,unit:"bp"};var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(o);if(!a)throw new ParseError("Invalid size: '"+o+"' in \\includegraphics");var c={number:+(a[1]+a[2]),unit:a[3]};if(!validUnit(c))throw new ParseError("Invalid unit: '"+c.unit+"' in \\includegraphics.");return c};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,o,a)=>{var{parser:c}=e,d={number:0,unit:"em"},g={number:.9,unit:"em"},b={number:0,unit:"em"},_="";if(a[0])for(var $=assertNodeType(a[0],"raw").string,j=$.split(","),rt=0;rt<j.length;rt++){var nt=j[rt].split("=");if(nt.length===2){var In=nt[1].trim();switch(nt[0].trim()){case"alt":_=In;break;case"width":d=sizeData(In);break;case"height":g=sizeData(In);break;case"totalheight":b=sizeData(In);break;default:throw new ParseError("Invalid key: '"+nt[0]+"' in \\includegraphics.")}}}var xl=assertNodeType(o[0],"url").url;return _===""&&(_=xl,_=_.replace(/^.*[\\/]/,""),_=_.substring(0,_.lastIndexOf("."))),c.settings.isTrusted({command:"\\includegraphics",url:xl})?{type:"includegraphics",mode:c.mode,alt:_,width:d,height:g,totalheight:b,src:xl}:c.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,o)=>{var a=calculateSize(e.height,o),c=0;e.totalheight.number>0&&(c=calculateSize(e.totalheight,o)-a);var d=0;e.width.number>0&&(d=calculateSize(e.width,o));var g={height:makeEm(a+c)};d>0&&(g.width=makeEm(d)),c>0&&(g.verticalAlign=makeEm(-c));var b=new Img(e.src,e.alt,g);return b.height=a,b.depth=c,b},mathmlBuilder:(e,o)=>{var a=new mathMLTree.MathNode("mglyph",[]);a.setAttribute("alt",e.alt);var c=calculateSize(e.height,o),d=0;if(e.totalheight.number>0&&(d=calculateSize(e.totalheight,o)-c,a.setAttribute("valign",makeEm(-d))),a.setAttribute("height",makeEm(c+d)),e.width.number>0){var g=calculateSize(e.width,o);a.setAttribute("width",makeEm(g))}return a.setAttribute("src",e.src),a}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,o){var{parser:a,funcName:c}=e,d=assertNodeType(o[0],"size");if(a.settings.strict){var g=c[1]==="m",b=d.value.unit==="mu";g?(b||a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" supports only mu units, "+("not "+d.value.unit+" units")),a.mode!=="math"&&a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" works only in math mode")):b&&a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" doesn't support mu units")}return{type:"kern",mode:a.mode,dimension:d.value}},htmlBuilder(e,o){return buildCommon.makeGlue(e.dimension,o)},mathmlBuilder(e,o){var a=calculateSize(e.dimension,o);return new mathMLTree.SpaceNode(a)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0];return{type:"lap",mode:a.mode,alignment:c.slice(5),body:d}},htmlBuilder:(e,o)=>{var a;e.alignment==="clap"?(a=buildCommon.makeSpan([],[buildGroup$1(e.body,o)]),a=buildCommon.makeSpan(["inner"],[a],o)):a=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,o)]);var c=buildCommon.makeSpan(["fix"],[]),d=buildCommon.makeSpan([e.alignment],[a,c],o),g=buildCommon.makeSpan(["strut"]);return g.style.height=makeEm(d.height+d.depth),d.depth&&(g.style.verticalAlign=makeEm(-d.depth)),d.children.unshift(g),d=buildCommon.makeSpan(["thinbox"],[d],o),buildCommon.makeSpan(["mord","vbox"],[d],o)},mathmlBuilder:(e,o)=>{var a=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,o)]);if(e.alignment!=="rlap"){var c=e.alignment==="llap"?"-1":"-0.5";a.setAttribute("lspace",c+"width")}return a.setAttribute("width","0px"),a}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,o){var{funcName:a,parser:c}=e,d=c.mode;c.switchMode("math");var g=a==="\\("?"\\)":"$",b=c.parseExpression(!1,g);return c.expect(g),c.switchMode(d),{type:"styling",mode:c.mode,style:"text",body:b}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,o){throw new ParseError("Mismatched "+e.funcName)}});var chooseMathStyle=(e,o)=>{switch(o.style.size){case Style$1.DISPLAY.size:return e.display;case Style$1.TEXT.size:return e.text;case Style$1.SCRIPT.size:return e.script;case Style$1.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,o)=>{var{parser:a}=e;return{type:"mathchoice",mode:a.mode,display:ordargument(o[0]),text:ordargument(o[1]),script:ordargument(o[2]),scriptscript:ordargument(o[3])}},htmlBuilder:(e,o)=>{var a=chooseMathStyle(e,o),c=buildExpression$1(a,o,!1);return buildCommon.makeFragment(c)},mathmlBuilder:(e,o)=>{var a=chooseMathStyle(e,o);return buildExpressionRow(a,o)}});var assembleSupSub=(e,o,a,c,d,g,b)=>{e=buildCommon.makeSpan([],[e]);var _=a&&utils.isCharacterBox(a),$,j;if(o){var rt=buildGroup$1(o,c.havingStyle(d.sup()),c);j={elem:rt,kern:Math.max(c.fontMetrics().bigOpSpacing1,c.fontMetrics().bigOpSpacing3-rt.depth)}}if(a){var nt=buildGroup$1(a,c.havingStyle(d.sub()),c);$={elem:nt,kern:Math.max(c.fontMetrics().bigOpSpacing2,c.fontMetrics().bigOpSpacing4-nt.height)}}var In;if(j&&$){var xl=c.fontMetrics().bigOpSpacing5+$.elem.height+$.elem.depth+$.kern+e.depth+b;In=buildCommon.makeVList({positionType:"bottom",positionData:xl,children:[{type:"kern",size:c.fontMetrics().bigOpSpacing5},{type:"elem",elem:$.elem,marginLeft:makeEm(-g)},{type:"kern",size:$.kern},{type:"elem",elem:e},{type:"kern",size:j.kern},{type:"elem",elem:j.elem,marginLeft:makeEm(g)},{type:"kern",size:c.fontMetrics().bigOpSpacing5}]},c)}else if($){var Ll=e.height-b;In=buildCommon.makeVList({positionType:"top",positionData:Ll,children:[{type:"kern",size:c.fontMetrics().bigOpSpacing5},{type:"elem",elem:$.elem,marginLeft:makeEm(-g)},{type:"kern",size:$.kern},{type:"elem",elem:e}]},c)}else if(j){var Nl=e.depth+b;In=buildCommon.makeVList({positionType:"bottom",positionData:Nl,children:[{type:"elem",elem:e},{type:"kern",size:j.kern},{type:"elem",elem:j.elem,marginLeft:makeEm(g)},{type:"kern",size:c.fontMetrics().bigOpSpacing5}]},c)}else return e;var _u=[In];if($&&g!==0&&!_){var Yl=buildCommon.makeSpan(["mspace"],[],c);Yl.style.marginRight=makeEm(g),_u.unshift(Yl)}return buildCommon.makeSpan(["mop","op-limits"],_u,c)},noSuccessor=["\\smallint"],htmlBuilder$2=(e,o)=>{var a,c,d=!1,g;e.type==="supsub"?(a=e.sup,c=e.sub,g=assertNodeType(e.base,"op"),d=!0):g=assertNodeType(e,"op");var b=o.style,_=!1;b.size===Style$1.DISPLAY.size&&g.symbol&&!noSuccessor.includes(g.name)&&(_=!0);var $;if(g.symbol){var j=_?"Size2-Regular":"Size1-Regular",rt="";if((g.name==="\\oiint"||g.name==="\\oiiint")&&(rt=g.name.slice(1),g.name=rt==="oiint"?"\\iint":"\\iiint"),$=buildCommon.makeSymbol(g.name,j,"math",o,["mop","op-symbol",_?"large-op":"small-op"]),rt.length>0){var nt=$.italic,In=buildCommon.staticSvg(rt+"Size"+(_?"2":"1"),o);$=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:$,shift:0},{type:"elem",elem:In,shift:_?.08:0}]},o),g.name="\\"+rt,$.classes.unshift("mop"),$.italic=nt}}else if(g.body){var xl=buildExpression$1(g.body,o,!0);xl.length===1&&xl[0]instanceof SymbolNode?($=xl[0],$.classes[0]="mop"):$=buildCommon.makeSpan(["mop"],xl,o)}else{for(var Ll=[],Nl=1;Nl<g.name.length;Nl++)Ll.push(buildCommon.mathsym(g.name[Nl],g.mode,o));$=buildCommon.makeSpan(["mop"],Ll,o)}var _u=0,Yl=0;return($ instanceof SymbolNode||g.name==="\\oiint"||g.name==="\\oiiint")&&!g.suppressBaseShift&&(_u=($.height-$.depth)/2-o.fontMetrics().axisHeight,Yl=$.italic),d?assembleSupSub($,a,c,o,b,Yl,_u):(_u&&($.style.position="relative",$.style.top=makeEm(_u)),$)},mathmlBuilder$1=(e,o)=>{var a;if(e.symbol)a=new MathNode("mo",[makeText(e.name,e.mode)]),noSuccessor.includes(e.name)&&a.setAttribute("largeop","false");else if(e.body)a=new MathNode("mo",buildExpression(e.body,o));else{a=new MathNode("mi",[new TextNode(e.name.slice(1))]);var c=new MathNode("mo",[makeText("","text")]);e.parentIsSupSub?a=new MathNode("mrow",[a,c]):a=newDocumentFragment([a,c])}return a},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=c;return d.length===1&&(d=singleCharBigOps[d]),{type:"op",mode:a.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:d}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,o)=>{var{parser:a}=e,c=o[0];return{type:"op",mode:a.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(c)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:o,funcName:a}=e;return{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:a}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:o,funcName:a}=e;return{type:"op",mode:o.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:a}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:o,funcName:a}=e,c=a;return c.length===1&&(c=singleCharIntegrals[c]),{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:c}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(e,o)=>{var a,c,d=!1,g;e.type==="supsub"?(a=e.sup,c=e.sub,g=assertNodeType(e.base,"operatorname"),d=!0):g=assertNodeType(e,"operatorname");var b;if(g.body.length>0){for(var _=g.body.map(nt=>{var In=nt.text;return typeof In=="string"?{type:"textord",mode:nt.mode,text:In}:nt}),$=buildExpression$1(_,o.withFont("mathrm"),!0),j=0;j<$.length;j++){var rt=$[j];rt instanceof SymbolNode&&(rt.text=rt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}b=buildCommon.makeSpan(["mop"],$,o)}else b=buildCommon.makeSpan(["mop"],[],o);return d?assembleSupSub(b,a,c,o,o.style,0,0):b},mathmlBuilder=(e,o)=>{for(var a=buildExpression(e.body,o.withFont("mathrm")),c=!0,d=0;d<a.length;d++){var g=a[d];if(!(g instanceof mathMLTree.SpaceNode))if(g instanceof mathMLTree.MathNode)switch(g.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var b=g.children[0];g.children.length===1&&b instanceof mathMLTree.TextNode?b.text=b.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):c=!1;break}default:c=!1}else c=!1}if(c){var _=a.map(rt=>rt.toText()).join("");a=[new mathMLTree.TextNode(_)]}var $=new mathMLTree.MathNode("mi",a);$.setAttribute("mathvariant","normal");var j=new mathMLTree.MathNode("mo",[makeText("","text")]);return e.parentIsSupSub?new mathMLTree.MathNode("mrow",[$,j]):mathMLTree.newDocumentFragment([$,j])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0];return{type:"operatorname",mode:a.mode,body:ordargument(d),alwaysHandleSupSub:c==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(e,o){return e.semisimple?buildCommon.makeFragment(buildExpression$1(e.body,o,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(e.body,o,!0),o)},mathmlBuilder(e,o){return buildExpressionRow(e.body,o,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,o){var{parser:a}=e,c=o[0];return{type:"overline",mode:a.mode,body:c}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o.havingCrampedStyle()),c=buildCommon.makeLineSpan("overline-line",o),d=o.fontMetrics().defaultRuleThickness,g=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:3*d},{type:"elem",elem:c},{type:"kern",size:d}]},o);return buildCommon.makeSpan(["mord","overline"],[g],o)},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);a.setAttribute("stretchy","true");var c=new mathMLTree.MathNode("mover",[buildGroup(e.body,o),a]);return c.setAttribute("accent","true"),c}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=o[0];return{type:"phantom",mode:a.mode,body:ordargument(c)}},htmlBuilder:(e,o)=>{var a=buildExpression$1(e.body,o.withPhantom(),!1);return buildCommon.makeFragment(a)},mathmlBuilder:(e,o)=>{var a=buildExpression(e.body,o);return new mathMLTree.MathNode("mphantom",a)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=o[0];return{type:"hphantom",mode:a.mode,body:c}},htmlBuilder:(e,o)=>{var a=buildCommon.makeSpan([],[buildGroup$1(e.body,o.withPhantom())]);if(a.height=0,a.depth=0,a.children)for(var c=0;c<a.children.length;c++)a.children[c].height=0,a.children[c].depth=0;return a=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a}]},o),buildCommon.makeSpan(["mord"],[a],o)},mathmlBuilder:(e,o)=>{var a=buildExpression(ordargument(e.body),o),c=new mathMLTree.MathNode("mphantom",a),d=new mathMLTree.MathNode("mpadded",[c]);return d.setAttribute("height","0px"),d.setAttribute("depth","0px"),d}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=o[0];return{type:"vphantom",mode:a.mode,body:c}},htmlBuilder:(e,o)=>{var a=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,o.withPhantom())]),c=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[a,c],o)},mathmlBuilder:(e,o)=>{var a=buildExpression(ordargument(e.body),o),c=new mathMLTree.MathNode("mphantom",a),d=new mathMLTree.MathNode("mpadded",[c]);return d.setAttribute("width","0px"),d}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,o){var{parser:a}=e,c=assertNodeType(o[0],"size").value,d=o[1];return{type:"raisebox",mode:a.mode,dy:c,body:d}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o),c=calculateSize(e.dy,o);return buildCommon.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:a}]},o)},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,o)]),c=e.dy.number+e.dy.unit;return a.setAttribute("voffset",c),a}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:o}=e;return{type:"internal",mode:o.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,o,a){var{parser:c}=e,d=a[0],g=assertNodeType(o[0],"size"),b=assertNodeType(o[1],"size");return{type:"rule",mode:c.mode,shift:d&&assertNodeType(d,"size").value,width:g.value,height:b.value}},htmlBuilder(e,o){var a=buildCommon.makeSpan(["mord","rule"],[],o),c=calculateSize(e.width,o),d=calculateSize(e.height,o),g=e.shift?calculateSize(e.shift,o):0;return a.style.borderRightWidth=makeEm(c),a.style.borderTopWidth=makeEm(d),a.style.bottom=makeEm(g),a.width=c,a.height=d+g,a.depth=-g,a.maxFontSize=d*1.125*o.sizeMultiplier,a},mathmlBuilder(e,o){var a=calculateSize(e.width,o),c=calculateSize(e.height,o),d=e.shift?calculateSize(e.shift,o):0,g=o.color&&o.getColor()||"black",b=new mathMLTree.MathNode("mspace");b.setAttribute("mathbackground",g),b.setAttribute("width",makeEm(a)),b.setAttribute("height",makeEm(c));var _=new mathMLTree.MathNode("mpadded",[b]);return d>=0?_.setAttribute("height",makeEm(d)):(_.setAttribute("height",makeEm(d)),_.setAttribute("depth",makeEm(-d))),_.setAttribute("voffset",makeEm(d)),_}});function sizingGroup(e,o,a){for(var c=buildExpression$1(e,o,!1),d=o.sizeMultiplier/a.sizeMultiplier,g=0;g<c.length;g++){var b=c[g].classes.indexOf("sizing");b<0?Array.prototype.push.apply(c[g].classes,o.sizingClasses(a)):c[g].classes[b+1]==="reset-size"+o.size&&(c[g].classes[b+1]="reset-size"+a.size),c[g].height*=d,c[g].depth*=d}return buildCommon.makeFragment(c)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(e,o)=>{var a=o.havingSize(e.size);return sizingGroup(e.body,a,o)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(e,o)=>{var{breakOnTokenText:a,funcName:c,parser:d}=e,g=d.parseExpression(!1,a);return{type:"sizing",mode:d.mode,size:sizeFuncs.indexOf(c)+1,body:g}},htmlBuilder,mathmlBuilder:(e,o)=>{var a=o.havingSize(e.size),c=buildExpression(e.body,a),d=new mathMLTree.MathNode("mstyle",c);return d.setAttribute("mathsize",makeEm(a.sizeMultiplier)),d}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,o,a)=>{var{parser:c}=e,d=!1,g=!1,b=a[0]&&assertNodeType(a[0],"ordgroup");if(b)for(var _="",$=0;$<b.body.length;++$){var j=b.body[$];if(_=j.text,_==="t")d=!0;else if(_==="b")g=!0;else{d=!1,g=!1;break}}else d=!0,g=!0;var rt=o[0];return{type:"smash",mode:c.mode,body:rt,smashHeight:d,smashDepth:g}},htmlBuilder:(e,o)=>{var a=buildCommon.makeSpan([],[buildGroup$1(e.body,o)]);if(!e.smashHeight&&!e.smashDepth)return a;if(e.smashHeight&&(a.height=0,a.children))for(var c=0;c<a.children.length;c++)a.children[c].height=0;if(e.smashDepth&&(a.depth=0,a.children))for(var d=0;d<a.children.length;d++)a.children[d].depth=0;var g=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a}]},o);return buildCommon.makeSpan(["mord"],[g],o)},mathmlBuilder:(e,o)=>{var a=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,o)]);return e.smashHeight&&a.setAttribute("height","0px"),e.smashDepth&&a.setAttribute("depth","0px"),a}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,o,a){var{parser:c}=e,d=a[0],g=o[0];return{type:"sqrt",mode:c.mode,body:g,index:d}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o.havingCrampedStyle());a.height===0&&(a.height=o.fontMetrics().xHeight),a=buildCommon.wrapFragment(a,o);var c=o.fontMetrics(),d=c.defaultRuleThickness,g=d;o.style.id<Style$1.TEXT.id&&(g=o.fontMetrics().xHeight);var b=d+g/4,_=a.height+a.depth+b+d,{span:$,ruleWidth:j,advanceWidth:rt}=delimiter.sqrtImage(_,o),nt=$.height-j;nt>a.height+a.depth+b&&(b=(b+nt-a.height-a.depth)/2);var In=$.height-a.height-b-j;a.style.paddingLeft=makeEm(rt);var xl=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:-(a.height+In)},{type:"elem",elem:$},{type:"kern",size:j}]},o);if(e.index){var Ll=o.havingStyle(Style$1.SCRIPTSCRIPT),Nl=buildGroup$1(e.index,Ll,o),_u=.6*(xl.height-xl.depth),Yl=buildCommon.makeVList({positionType:"shift",positionData:-_u,children:[{type:"elem",elem:Nl}]},o),Ul=buildCommon.makeSpan(["root"],[Yl]);return buildCommon.makeSpan(["mord","sqrt"],[Ul,xl],o)}else return buildCommon.makeSpan(["mord","sqrt"],[xl],o)},mathmlBuilder(e,o){var{body:a,index:c}=e;return c?new mathMLTree.MathNode("mroot",[buildGroup(a,o),buildGroup(c,o)]):new mathMLTree.MathNode("msqrt",[buildGroup(a,o)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,o){var{breakOnTokenText:a,funcName:c,parser:d}=e,g=d.parseExpression(!0,a),b=c.slice(1,c.length-5);return{type:"styling",mode:d.mode,style:b,body:g}},htmlBuilder(e,o){var a=styleMap[e.style],c=o.havingStyle(a).withFont("");return sizingGroup(e.body,c,o)},mathmlBuilder(e,o){var a=styleMap[e.style],c=o.havingStyle(a),d=buildExpression(e.body,c),g=new mathMLTree.MathNode("mstyle",d),b={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},_=b[e.style];return g.setAttribute("scriptlevel",_[0]),g.setAttribute("displaystyle",_[1]),g}});var htmlBuilderDelegate=function e(o,a){var c=o.base;if(c)if(c.type==="op"){var d=c.limits&&(a.style.size===Style$1.DISPLAY.size||c.alwaysHandleSupSub);return d?htmlBuilder$2:null}else if(c.type==="operatorname"){var g=c.alwaysHandleSupSub&&(a.style.size===Style$1.DISPLAY.size||c.limits);return g?htmlBuilder$1:null}else{if(c.type==="accent")return utils.isCharacterBox(c.base)?htmlBuilder$a:null;if(c.type==="horizBrace"){var b=!o.sub;return b===c.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(e,o){var a=htmlBuilderDelegate(e,o);if(a)return a(e,o);var{base:c,sup:d,sub:g}=e,b=buildGroup$1(c,o),_,$,j=o.fontMetrics(),rt=0,nt=0,In=c&&utils.isCharacterBox(c);if(d){var xl=o.havingStyle(o.style.sup());_=buildGroup$1(d,xl,o),In||(rt=b.height-xl.fontMetrics().supDrop*xl.sizeMultiplier/o.sizeMultiplier)}if(g){var Ll=o.havingStyle(o.style.sub());$=buildGroup$1(g,Ll,o),In||(nt=b.depth+Ll.fontMetrics().subDrop*Ll.sizeMultiplier/o.sizeMultiplier)}var Nl;o.style===Style$1.DISPLAY?Nl=j.sup1:o.style.cramped?Nl=j.sup3:Nl=j.sup2;var _u=o.sizeMultiplier,Yl=makeEm(.5/j.ptPerEm/_u),Ul=null;if($){var Dl=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(b instanceof SymbolNode||Dl)&&(Ul=makeEm(-b.italic))}var Zl;if(_&&$){rt=Math.max(rt,Nl,_.depth+.25*j.xHeight),nt=Math.max(nt,j.sub2);var Ju=j.defaultRuleThickness,Uu=4*Ju;if(rt-_.depth-($.height-nt)<Uu){nt=Uu-(rt-_.depth)+$.height;var fp=.8*j.xHeight-(rt-_.depth);fp>0&&(rt+=fp,nt-=fp)}var Zu=[{type:"elem",elem:$,shift:nt,marginRight:Yl,marginLeft:Ul},{type:"elem",elem:_,shift:-rt,marginRight:Yl}];Zl=buildCommon.makeVList({positionType:"individualShift",children:Zu},o)}else if($){nt=Math.max(nt,j.sub1,$.height-.8*j.xHeight);var Lp=[{type:"elem",elem:$,marginLeft:Ul,marginRight:Yl}];Zl=buildCommon.makeVList({positionType:"shift",positionData:nt,children:Lp},o)}else if(_)rt=Math.max(rt,Nl,_.depth+.25*j.xHeight),Zl=buildCommon.makeVList({positionType:"shift",positionData:-rt,children:[{type:"elem",elem:_,marginRight:Yl}]},o);else throw new Error("supsub must have either sup or sub.");var Np=getTypeOfDomTree(b,"right")||"mord";return buildCommon.makeSpan([Np],[b,buildCommon.makeSpan(["msupsub"],[Zl])],o)},mathmlBuilder(e,o){var a=!1,c,d;e.base&&e.base.type==="horizBrace"&&(d=!!e.sup,d===e.base.isOver&&(a=!0,c=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var g=[buildGroup(e.base,o)];e.sub&&g.push(buildGroup(e.sub,o)),e.sup&&g.push(buildGroup(e.sup,o));var b;if(a)b=c?"mover":"munder";else if(e.sub)if(e.sup){var j=e.base;j&&j.type==="op"&&j.limits&&o.style===Style$1.DISPLAY||j&&j.type==="operatorname"&&j.alwaysHandleSupSub&&(o.style===Style$1.DISPLAY||j.limits)?b="munderover":b="msubsup"}else{var $=e.base;$&&$.type==="op"&&$.limits&&(o.style===Style$1.DISPLAY||$.alwaysHandleSupSub)||$&&$.type==="operatorname"&&$.alwaysHandleSupSub&&($.limits||o.style===Style$1.DISPLAY)?b="munder":b="msub"}else{var _=e.base;_&&_.type==="op"&&_.limits&&(o.style===Style$1.DISPLAY||_.alwaysHandleSupSub)||_&&_.type==="operatorname"&&_.alwaysHandleSupSub&&(_.limits||o.style===Style$1.DISPLAY)?b="mover":b="msup"}return new mathMLTree.MathNode(b,g)}});defineFunctionBuilders({type:"atom",htmlBuilder(e,o){return buildCommon.mathsym(e.text,e.mode,o,["m"+e.family])},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mo",[makeText(e.text,e.mode)]);if(e.family==="bin"){var c=getVariant(e,o);c==="bold-italic"&&a.setAttribute("mathvariant",c)}else e.family==="punct"?a.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&a.setAttribute("stretchy","false");return a}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(e,o){return buildCommon.makeOrd(e,o,"mathord")},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mi",[makeText(e.text,e.mode,o)]),c=getVariant(e,o)||"italic";return c!==defaultVariant[a.type]&&a.setAttribute("mathvariant",c),a}});defineFunctionBuilders({type:"textord",htmlBuilder(e,o){return buildCommon.makeOrd(e,o,"textord")},mathmlBuilder(e,o){var a=makeText(e.text,e.mode,o),c=getVariant(e,o)||"normal",d;return e.mode==="text"?d=new mathMLTree.MathNode("mtext",[a]):/[0-9]/.test(e.text)?d=new mathMLTree.MathNode("mn",[a]):e.text==="\\prime"?d=new mathMLTree.MathNode("mo",[a]):d=new mathMLTree.MathNode("mi",[a]),c!==defaultVariant[d.type]&&d.setAttribute("mathvariant",c),d}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(e,o){if(regularSpace.hasOwnProperty(e.text)){var a=regularSpace[e.text].className||"";if(e.mode==="text"){var c=buildCommon.makeOrd(e,o,"textord");return c.classes.push(a),c}else return buildCommon.makeSpan(["mspace",a],[buildCommon.mathsym(e.text,e.mode,o)],o)}else{if(cssSpace.hasOwnProperty(e.text))return buildCommon.makeSpan(["mspace",cssSpace[e.text]],[],o);throw new ParseError('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,o){var a;if(regularSpace.hasOwnProperty(e.text))a=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(e.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+e.text+'"')}return a}});var pad=()=>{var e=new mathMLTree.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};defineFunctionBuilders({type:"tag",mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.body,o)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.tag,o)])])]);return a.setAttribute("width","100%"),a}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(e,o)=>{var a=e.font;if(a){if(textFontFamilies[a])return o.withTextFontFamily(textFontFamilies[a]);if(textFontWeights[a])return o.withTextFontWeight(textFontWeights[a]);if(a==="\\emph")return o.fontShape==="textit"?o.withTextFontShape("textup"):o.withTextFontShape("textit")}else return o;return o.withTextFontShape(textFontShapes[a])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,o){var{parser:a,funcName:c}=e,d=o[0];return{type:"text",mode:a.mode,body:ordargument(d),font:c}},htmlBuilder(e,o){var a=optionsWithFont(e,o),c=buildExpression$1(e.body,a,!0);return buildCommon.makeSpan(["mord","text"],c,a)},mathmlBuilder(e,o){var a=optionsWithFont(e,o);return buildExpressionRow(e.body,a)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,o){var{parser:a}=e;return{type:"underline",mode:a.mode,body:o[0]}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o),c=buildCommon.makeLineSpan("underline-line",o),d=o.fontMetrics().defaultRuleThickness,g=buildCommon.makeVList({positionType:"top",positionData:a.height,children:[{type:"kern",size:d},{type:"elem",elem:c},{type:"kern",size:3*d},{type:"elem",elem:a}]},o);return buildCommon.makeSpan(["mord","underline"],[g],o)},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);a.setAttribute("stretchy","true");var c=new mathMLTree.MathNode("munder",[buildGroup(e.body,o),a]);return c.setAttribute("accentunder","true"),c}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,o){var{parser:a}=e;return{type:"vcenter",mode:a.mode,body:o[0]}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o),c=o.fontMetrics().axisHeight,d=.5*(a.height-c-(a.depth+c));return buildCommon.makeVList({positionType:"shift",positionData:d,children:[{type:"elem",elem:a}]},o)},mathmlBuilder(e,o){return new mathMLTree.MathNode("mpadded",[buildGroup(e.body,o)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,o,a){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,o){for(var a=makeVerb(e),c=[],d=o.havingStyle(o.style.text()),g=0;g<a.length;g++){var b=a[g];b==="~"&&(b="\\textasciitilde"),c.push(buildCommon.makeSymbol(b,"Typewriter-Regular",e.mode,d,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(d.sizingClasses(o)),buildCommon.tryCombineChars(c),d)},mathmlBuilder(e,o){var a=new mathMLTree.TextNode(makeVerb(e)),c=new mathMLTree.MathNode("mtext",[a]);return c.setAttribute("mathvariant","monospace"),c}});var makeVerb=e=>e.body.replace(/ /g,e.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(o,a){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=o,this.settings=a,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(o,a){this.catcodes[o]=a}lex(){var o=this.input,a=this.tokenRegex.lastIndex;if(a===o.length)return new Token("EOF",new SourceLocation(this,a,a));var c=this.tokenRegex.exec(o);if(c===null||c.index!==a)throw new ParseError("Unexpected character: '"+o[a]+"'",new Token(o[a],new SourceLocation(this,a,a+1)));var d=c[6]||c[3]||(c[2]?"\\ ":" ");if(this.catcodes[d]===14){var g=o.indexOf(`
`,this.tokenRegex.lastIndex);return g===-1?(this.tokenRegex.lastIndex=o.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=g+1,this.lex()}return new Token(d,new SourceLocation(this,a,this.tokenRegex.lastIndex))}}class Namespace{constructor(o,a){o===void 0&&(o={}),a===void 0&&(a={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=a,this.builtins=o,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var o=this.undefStack.pop();for(var a in o)o.hasOwnProperty(a)&&(o[a]==null?delete this.current[a]:this.current[a]=o[a])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(o){return this.current.hasOwnProperty(o)||this.builtins.hasOwnProperty(o)}get(o){return this.current.hasOwnProperty(o)?this.current[o]:this.builtins[o]}set(o,a,c){if(c===void 0&&(c=!1),c){for(var d=0;d<this.undefStack.length;d++)delete this.undefStack[d][o];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][o]=a)}else{var g=this.undefStack[this.undefStack.length-1];g&&!g.hasOwnProperty(o)&&(g[o]=this.current[o])}a==null?delete this.current[o]:this.current[o]=a}}var macros=_macros;defineMacro("\\noexpand",function(e){var o=e.popToken();return e.isExpandable(o.text)&&(o.noexpand=!0,o.treatAsRelax=!0),{tokens:[o],numArgs:0}});defineMacro("\\expandafter",function(e){var o=e.popToken();return e.expandOnce(!0),{tokens:[o],numArgs:0}});defineMacro("\\@firstoftwo",function(e){var o=e.consumeArgs(2);return{tokens:o[0],numArgs:0}});defineMacro("\\@secondoftwo",function(e){var o=e.consumeArgs(2);return{tokens:o[1],numArgs:0}});defineMacro("\\@ifnextchar",function(e){var o=e.consumeArgs(3);e.consumeSpaces();var a=e.future();return o[0].length===1&&o[0][0].text===a.text?{tokens:o[1],numArgs:0}:{tokens:o[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(e){var o=e.consumeArgs(2);return e.mode==="text"?{tokens:o[0],numArgs:0}:{tokens:o[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(e){var o=e.popToken(),a,c="";if(o.text==="'")a=8,o=e.popToken();else if(o.text==='"')a=16,o=e.popToken();else if(o.text==="`")if(o=e.popToken(),o.text[0]==="\\")c=o.text.charCodeAt(1);else{if(o.text==="EOF")throw new ParseError("\\char` missing argument");c=o.text.charCodeAt(0)}else a=10;if(a){if(c=digitToNumber[o.text],c==null||c>=a)throw new ParseError("Invalid base-"+a+" digit "+o.text);for(var d;(d=digitToNumber[e.future().text])!=null&&d<a;)c*=a,c+=d,e.popToken()}return"\\@char{"+c+"}"});var newcommand=(e,o,a,c)=>{var d=e.consumeArg().tokens;if(d.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var g=d[0].text,b=e.isDefined(g);if(b&&!o)throw new ParseError("\\newcommand{"+g+"} attempting to redefine "+(g+"; use \\renewcommand"));if(!b&&!a)throw new ParseError("\\renewcommand{"+g+"} when command "+g+" does not yet exist; use \\newcommand");var _=0;if(d=e.consumeArg().tokens,d.length===1&&d[0].text==="["){for(var $="",j=e.expandNextToken();j.text!=="]"&&j.text!=="EOF";)$+=j.text,j=e.expandNextToken();if(!$.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+$);_=parseInt($),d=e.consumeArg().tokens}return b&&c||e.macros.set(g,{tokens:d,numArgs:_}),""};defineMacro("\\newcommand",e=>newcommand(e,!1,!0,!1));defineMacro("\\renewcommand",e=>newcommand(e,!0,!1,!1));defineMacro("\\providecommand",e=>newcommand(e,!0,!0,!0));defineMacro("\\message",e=>{var o=e.consumeArgs(1)[0];return console.log(o.reverse().map(a=>a.text).join("")),""});defineMacro("\\errmessage",e=>{var o=e.consumeArgs(1)[0];return console.error(o.reverse().map(a=>a.text).join("")),""});defineMacro("\\show",e=>{var o=e.popToken(),a=o.text;return console.log(o,e.macros.get(a),functions[a],symbols.math[a],symbols.text[a]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(e){var o="\\dotso",a=e.expandAfterFuture().text;return a in dotsByToken?o=dotsByToken[a]:(a.slice(0,4)==="\\not"||a in symbols.math&&["bin","rel"].includes(symbols.math[a].group))&&(o="\\dotsb"),o});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(e){var o=e.future().text;return o in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(e){var o=e.future().text;return o in spaceAfterDots&&o!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(e){var o=e.future().text;return o in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=e=>o=>{var a=o.consumeArg().tokens,c=o.consumeArg().tokens,d=o.consumeArg().tokens,g=o.consumeArg().tokens,b=o.macros.get("|"),_=o.macros.get("\\|");o.macros.beginGroup();var $=nt=>In=>{e&&(In.macros.set("|",b),d.length&&In.macros.set("\\|",_));var xl=nt;if(!nt&&d.length){var Ll=In.future();Ll.text==="|"&&(In.popToken(),xl=!0)}return{tokens:xl?d:c,numArgs:0}};o.macros.set("|",$(!1)),d.length&&o.macros.set("\\|",$(!0));var j=o.consumeArg().tokens,rt=o.expandTokens([...g,...j,...a]);return o.macros.endGroup(),{tokens:rt.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(o,a,c){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=a,this.expansionCount=0,this.feed(o),this.macros=new Namespace(macros,a.macros),this.mode=c,this.stack=[]}feed(o){this.lexer=new Lexer(o,this.settings)}switchMode(o){this.mode=o}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(o){this.stack.push(o)}pushTokens(o){this.stack.push(...o)}scanArgument(o){var a,c,d;if(o){if(this.consumeSpaces(),this.future().text!=="[")return null;a=this.popToken(),{tokens:d,end:c}=this.consumeArg(["]"])}else({tokens:d,start:a,end:c}=this.consumeArg());return this.pushToken(new Token("EOF",c.loc)),this.pushTokens(d),new Token("",SourceLocation.range(a,c))}consumeSpaces(){for(;;){var o=this.future();if(o.text===" ")this.stack.pop();else break}}consumeArg(o){var a=[],c=o&&o.length>0;c||this.consumeSpaces();var d=this.future(),g,b=0,_=0;do{if(g=this.popToken(),a.push(g),g.text==="{")++b;else if(g.text==="}"){if(--b,b===-1)throw new ParseError("Extra }",g)}else if(g.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(o&&c?o[_]:"}")+"'",g);if(o&&c)if((b===0||b===1&&o[_]==="{")&&g.text===o[_]){if(++_,_===o.length){a.splice(-_,_);break}}else _=0}while(b!==0||c);return d.text==="{"&&a[a.length-1].text==="}"&&(a.pop(),a.shift()),a.reverse(),{tokens:a,start:d,end:g}}consumeArgs(o,a){if(a){if(a.length!==o+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var c=a[0],d=0;d<c.length;d++){var g=this.popToken();if(c[d]!==g.text)throw new ParseError("Use of the macro doesn't match its definition",g)}}for(var b=[],_=0;_<o;_++)b.push(this.consumeArg(a&&a[_+1]).tokens);return b}countExpansion(o){if(this.expansionCount+=o,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(o){var a=this.popToken(),c=a.text,d=a.noexpand?null:this._getExpansion(c);if(d==null||o&&d.unexpandable){if(o&&d==null&&c[0]==="\\"&&!this.isDefined(c))throw new ParseError("Undefined control sequence: "+c);return this.pushToken(a),!1}this.countExpansion(1);var g=d.tokens,b=this.consumeArgs(d.numArgs,d.delimiters);if(d.numArgs){g=g.slice();for(var _=g.length-1;_>=0;--_){var $=g[_];if($.text==="#"){if(_===0)throw new ParseError("Incomplete placeholder at end of macro body",$);if($=g[--_],$.text==="#")g.splice(_+1,1);else if(/^[1-9]$/.test($.text))g.splice(_,2,...b[+$.text-1]);else throw new ParseError("Not a valid argument number",$)}}}return this.pushTokens(g),g.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var o=this.stack.pop();return o.treatAsRelax&&(o.text="\\relax"),o}throw new Error}expandMacro(o){return this.macros.has(o)?this.expandTokens([new Token(o)]):void 0}expandTokens(o){var a=[],c=this.stack.length;for(this.pushTokens(o);this.stack.length>c;)if(this.expandOnce(!0)===!1){var d=this.stack.pop();d.treatAsRelax&&(d.noexpand=!1,d.treatAsRelax=!1),a.push(d)}return this.countExpansion(a.length),a}expandMacroAsText(o){var a=this.expandMacro(o);return a&&a.map(c=>c.text).join("")}_getExpansion(o){var a=this.macros.get(o);if(a==null)return a;if(o.length===1){var c=this.lexer.catcodes[o];if(c!=null&&c!==13)return}var d=typeof a=="function"?a(this):a;if(typeof d=="string"){var g=0;if(d.indexOf("#")!==-1)for(var b=d.replace(/##/g,"");b.indexOf("#"+(g+1))!==-1;)++g;for(var _=new Lexer(d,this.settings),$=[],j=_.lex();j.text!=="EOF";)$.push(j),j=_.lex();$.reverse();var rt={tokens:$,numArgs:g};return rt}return d}isDefined(o){return this.macros.has(o)||functions.hasOwnProperty(o)||symbols.math.hasOwnProperty(o)||symbols.text.hasOwnProperty(o)||implicitCommands.hasOwnProperty(o)}isExpandable(o){var a=this.macros.get(o);return a!=null?typeof a=="string"||typeof a=="function"||!a.unexpandable:functions.hasOwnProperty(o)&&!functions[o].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(o,a){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(o,a,this.mode),this.settings=a,this.leftrightDepth=0}expect(o,a){if(a===void 0&&(a=!0),this.fetch().text!==o)throw new ParseError("Expected '"+o+"', got '"+this.fetch().text+"'",this.fetch());a&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(o){this.mode=o,this.gullet.switchMode(o)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var o=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),o}finally{this.gullet.endGroups()}}subparse(o){var a=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(o);var c=this.parseExpression(!1);return this.expect("}"),this.nextToken=a,c}parseExpression(o,a){for(var c=[];;){this.mode==="math"&&this.consumeSpaces();var d=this.fetch();if(Parser.endOfExpression.indexOf(d.text)!==-1||a&&d.text===a||o&&functions[d.text]&&functions[d.text].infix)break;var g=this.parseAtom(a);if(g){if(g.type==="internal")continue}else break;c.push(g)}return this.mode==="text"&&this.formLigatures(c),this.handleInfixNodes(c)}handleInfixNodes(o){for(var a=-1,c,d=0;d<o.length;d++)if(o[d].type==="infix"){if(a!==-1)throw new ParseError("only one infix operator per group",o[d].token);a=d,c=o[d].replaceWith}if(a!==-1&&c){var g,b,_=o.slice(0,a),$=o.slice(a+1);_.length===1&&_[0].type==="ordgroup"?g=_[0]:g={type:"ordgroup",mode:this.mode,body:_},$.length===1&&$[0].type==="ordgroup"?b=$[0]:b={type:"ordgroup",mode:this.mode,body:$};var j;return c==="\\\\abovefrac"?j=this.callFunction(c,[g,o[a],b],[]):j=this.callFunction(c,[g,b],[]),[j]}else return o}handleSupSubscript(o){var a=this.fetch(),c=a.text;this.consume(),this.consumeSpaces();var d;do{var g;d=this.parseGroup(o)}while(((g=d)==null?void 0:g.type)==="internal");if(!d)throw new ParseError("Expected group after '"+c+"'",a);return d}formatUnsupportedCmd(o){for(var a=[],c=0;c<o.length;c++)a.push({type:"textord",mode:"text",text:o[c]});var d={type:"text",mode:this.mode,body:a},g={type:"color",mode:this.mode,color:this.settings.errorColor,body:[d]};return g}parseAtom(o){var a=this.parseGroup("atom",o);if((a==null?void 0:a.type)==="internal"||this.mode==="text")return a;for(var c,d;;){this.consumeSpaces();var g=this.fetch();if(g.text==="\\limits"||g.text==="\\nolimits"){if(a&&a.type==="op"){var b=g.text==="\\limits";a.limits=b,a.alwaysHandleSupSub=!0}else if(a&&a.type==="operatorname")a.alwaysHandleSupSub&&(a.limits=g.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",g);this.consume()}else if(g.text==="^"){if(c)throw new ParseError("Double superscript",g);c=this.handleSupSubscript("superscript")}else if(g.text==="_"){if(d)throw new ParseError("Double subscript",g);d=this.handleSupSubscript("subscript")}else if(g.text==="'"){if(c)throw new ParseError("Double superscript",g);var _={type:"textord",mode:this.mode,text:"\\prime"},$=[_];for(this.consume();this.fetch().text==="'";)$.push(_),this.consume();this.fetch().text==="^"&&$.push(this.handleSupSubscript("superscript")),c={type:"ordgroup",mode:this.mode,body:$}}else if(uSubsAndSups[g.text]){var j=unicodeSubRegEx.test(g.text),rt=[];for(rt.push(new Token(uSubsAndSups[g.text])),this.consume();;){var nt=this.fetch().text;if(!uSubsAndSups[nt]||unicodeSubRegEx.test(nt)!==j)break;rt.unshift(new Token(uSubsAndSups[nt])),this.consume()}var In=this.subparse(rt);j?d={type:"ordgroup",mode:"math",body:In}:c={type:"ordgroup",mode:"math",body:In}}else break}return c||d?{type:"supsub",mode:this.mode,base:a,sup:c,sub:d}:a}parseFunction(o,a){var c=this.fetch(),d=c.text,g=functions[d];if(!g)return null;if(this.consume(),a&&a!=="atom"&&!g.allowedInArgument)throw new ParseError("Got function '"+d+"' with no arguments"+(a?" as "+a:""),c);if(this.mode==="text"&&!g.allowedInText)throw new ParseError("Can't use function '"+d+"' in text mode",c);if(this.mode==="math"&&g.allowedInMath===!1)throw new ParseError("Can't use function '"+d+"' in math mode",c);var{args:b,optArgs:_}=this.parseArguments(d,g);return this.callFunction(d,b,_,c,o)}callFunction(o,a,c,d,g){var b={funcName:o,parser:this,token:d,breakOnTokenText:g},_=functions[o];if(_&&_.handler)return _.handler(b,a,c);throw new ParseError("No function handler for "+o)}parseArguments(o,a){var c=a.numArgs+a.numOptionalArgs;if(c===0)return{args:[],optArgs:[]};for(var d=[],g=[],b=0;b<c;b++){var _=a.argTypes&&a.argTypes[b],$=b<a.numOptionalArgs;(a.primitive&&_==null||a.type==="sqrt"&&b===1&&g[0]==null)&&(_="primitive");var j=this.parseGroupOfType("argument to '"+o+"'",_,$);if($)g.push(j);else if(j!=null)d.push(j);else throw new ParseError("Null argument, please report this as a bug")}return{args:d,optArgs:g}}parseGroupOfType(o,a,c){switch(a){case"color":return this.parseColorGroup(c);case"size":return this.parseSizeGroup(c);case"url":return this.parseUrlGroup(c);case"math":case"text":return this.parseArgumentGroup(c,a);case"hbox":{var d=this.parseArgumentGroup(c,"text");return d!=null?{type:"styling",mode:d.mode,body:[d],style:"text"}:null}case"raw":{var g=this.parseStringGroup("raw",c);return g!=null?{type:"raw",mode:"text",string:g.text}:null}case"primitive":{if(c)throw new ParseError("A primitive argument cannot be optional");var b=this.parseGroup(o);if(b==null)throw new ParseError("Expected group as "+o,this.fetch());return b}case"original":case null:case void 0:return this.parseArgumentGroup(c);default:throw new ParseError("Unknown group type as "+o,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(o,a){var c=this.gullet.scanArgument(a);if(c==null)return null;for(var d="",g;(g=this.fetch()).text!=="EOF";)d+=g.text,this.consume();return this.consume(),c.text=d,c}parseRegexGroup(o,a){for(var c=this.fetch(),d=c,g="",b;(b=this.fetch()).text!=="EOF"&&o.test(g+b.text);)d=b,g+=d.text,this.consume();if(g==="")throw new ParseError("Invalid "+a+": '"+c.text+"'",c);return c.range(d,g)}parseColorGroup(o){var a=this.parseStringGroup("color",o);if(a==null)return null;var c=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(a.text);if(!c)throw new ParseError("Invalid color: '"+a.text+"'",a);var d=c[0];return/^[0-9a-f]{6}$/i.test(d)&&(d="#"+d),{type:"color-token",mode:this.mode,color:d}}parseSizeGroup(o){var a,c=!1;if(this.gullet.consumeSpaces(),!o&&this.gullet.future().text!=="{"?a=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):a=this.parseStringGroup("size",o),!a)return null;!o&&a.text.length===0&&(a.text="0pt",c=!0);var d=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(a.text);if(!d)throw new ParseError("Invalid size: '"+a.text+"'",a);var g={number:+(d[1]+d[2]),unit:d[3]};if(!validUnit(g))throw new ParseError("Invalid unit: '"+g.unit+"'",a);return{type:"size",mode:this.mode,value:g,isBlank:c}}parseUrlGroup(o){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var a=this.parseStringGroup("url",o);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),a==null)return null;var c=a.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:c}}parseArgumentGroup(o,a){var c=this.gullet.scanArgument(o);if(c==null)return null;var d=this.mode;a&&this.switchMode(a),this.gullet.beginGroup();var g=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var b={type:"ordgroup",mode:this.mode,loc:c.loc,body:g};return a&&this.switchMode(d),b}parseGroup(o,a){var c=this.fetch(),d=c.text,g;if(d==="{"||d==="\\begingroup"){this.consume();var b=d==="{"?"}":"\\endgroup";this.gullet.beginGroup();var _=this.parseExpression(!1,b),$=this.fetch();this.expect(b),this.gullet.endGroup(),g={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(c,$),body:_,semisimple:d==="\\begingroup"||void 0}}else if(g=this.parseFunction(a,o)||this.parseSymbol(),g==null&&d[0]==="\\"&&!implicitCommands.hasOwnProperty(d)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+d,c);g=this.formatUnsupportedCmd(d),this.consume()}return g}formLigatures(o){for(var a=o.length-1,c=0;c<a;++c){var d=o[c],g=d.text;g==="-"&&o[c+1].text==="-"&&(c+1<a&&o[c+2].text==="-"?(o.splice(c,3,{type:"textord",mode:"text",loc:SourceLocation.range(d,o[c+2]),text:"---"}),a-=2):(o.splice(c,2,{type:"textord",mode:"text",loc:SourceLocation.range(d,o[c+1]),text:"--"}),a-=1)),(g==="'"||g==="`")&&o[c+1].text===g&&(o.splice(c,2,{type:"textord",mode:"text",loc:SourceLocation.range(d,o[c+1]),text:g+g}),a-=1)}}parseSymbol(){var o=this.fetch(),a=o.text;if(/^\\verb[^a-zA-Z]/.test(a)){this.consume();var c=a.slice(5),d=c.charAt(0)==="*";if(d&&(c=c.slice(1)),c.length<2||c.charAt(0)!==c.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return c=c.slice(1,-1),{type:"verb",mode:"text",body:c,star:d}}unicodeSymbols.hasOwnProperty(a[0])&&!symbols[this.mode][a[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+a[0]+'" used in math mode',o),a=unicodeSymbols[a[0]]+a.slice(1));var g=combiningDiacriticalMarksEndRegex.exec(a);g&&(a=a.substring(0,g.index),a==="i"?a="":a==="j"&&(a=""));var b;if(symbols[this.mode][a]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(a)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+a[0]+'" used in math mode',o);var _=symbols[this.mode][a].group,$=SourceLocation.range(o),j;if(ATOMS.hasOwnProperty(_)){var rt=_;j={type:"atom",mode:this.mode,family:rt,loc:$,text:a}}else j={type:_,mode:this.mode,loc:$,text:a};b=j}else if(a.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(a.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+a[0]+'" used in math mode',o):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+a[0]+'"'+(" ("+a.charCodeAt(0)+")"),o)),b={type:"textord",mode:"text",loc:SourceLocation.range(o),text:a};else return null;if(this.consume(),g)for(var nt=0;nt<g[0].length;nt++){var In=g[0][nt];if(!unicodeAccents[In])throw new ParseError("Unknown accent ' "+In+"'",o);var xl=unicodeAccents[In][this.mode]||unicodeAccents[In].text;if(!xl)throw new ParseError("Accent "+In+" unsupported in "+this.mode+" mode",o);b={type:"accent",mode:this.mode,loc:SourceLocation.range(o),label:xl,isStretchy:!1,isShifty:!0,base:b}}return b}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function e(o,a){if(!(typeof o=="string"||o instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var c=new Parser(o,a);delete c.gullet.macros.current["\\df@tag"];var d=c.parse();if(delete c.gullet.macros.current["\\current@color"],delete c.gullet.macros.current["\\color"],c.gullet.macros.get("\\df@tag")){if(!a.displayMode)throw new ParseError("\\tag works only in display equations");d=[{type:"tag",mode:"text",body:d,tag:c.subparse([new Token("\\df@tag")])}]}return d},render=function e(o,a,c){a.textContent="";var d=renderToDomTree(o,c).toNode();a.appendChild(d)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function e(o,a){var c=renderToDomTree(o,a).toMarkup();return c},generateParseTree=function e(o,a){var c=new Settings(a);return parseTree(o,c)},renderError=function e(o,a,c){if(c.throwOnError||!(o instanceof ParseError))throw o;var d=buildCommon.makeSpan(["katex-error"],[new SymbolNode(a)]);return d.setAttribute("title",o.toString()),d.setAttribute("style","color:"+c.errorColor),d},renderToDomTree=function e(o,a){var c=new Settings(a);try{var d=parseTree(o,c);return buildTree(d,o,c)}catch(g){return renderError(g,o,c)}},renderToHTMLTree=function e(o,a){var c=new Settings(a);try{var d=parseTree(o,c);return buildHTMLTree(d,o,c)}catch(g){return renderError(g,o,c)}},version="0.16.25",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const emptyOptions$2={};function remarkMath(e){const o=this,a=e||emptyOptions$2,c=o.data(),d=c.micromarkExtensions||(c.micromarkExtensions=[]),g=c.fromMarkdownExtensions||(c.fromMarkdownExtensions=[]),b=c.toMarkdownExtensions||(c.toMarkdownExtensions=[]);d.push(math$1(a)),g.push(mathFromMarkdown()),b.push(mathToMarkdown(a))}const search=/[#.]/g;function parseSelector(e,o){const a=e||"",c={};let d=0,g,b;for(;d<a.length;){search.lastIndex=d;const _=search.exec(a),$=a.slice(d,_?_.index:a.length);$&&(g?g==="#"?c.id=$:Array.isArray(c.className)?c.className.push($):c.className=[$]:b=$,d+=$.length),_&&(g=_[0],d++)}return{type:"element",tagName:b||o||"div",properties:c,children:[]}}function createH(e,o,a){const c=a?createAdjustMap(a):void 0;function d(g,b,..._){let $;if(g==null){$={type:"root",children:[]};const j=b;_.unshift(j)}else{$=parseSelector(g,o);const j=$.tagName.toLowerCase(),rt=c?c.get(j):void 0;if($.tagName=rt||j,isChild(b))_.unshift(b);else for(const[nt,In]of Object.entries(b))addProperty(e,$.properties,nt,In)}for(const j of _)addChild($.children,j);return $.type==="element"&&$.tagName==="template"&&($.content={type:"root",children:$.children},$.children=[]),$}return d}function isChild(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const o=e,a=Object.keys(e);for(const c of a){const d=o[c];if(d&&typeof d=="object"){if(!Array.isArray(d))return!0;const g=d;for(const b of g)if(typeof b!="number"&&typeof b!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function addProperty(e,o,a,c){const d=find(e,a);let g;if(c!=null){if(typeof c=="number"){if(Number.isNaN(c))return;g=c}else typeof c=="boolean"?g=c:typeof c=="string"?d.spaceSeparated?g=parse$1(c):d.commaSeparated?g=parse$2(c):d.commaOrSpaceSeparated?g=parse$1(parse$2(c).join(" ")):g=parsePrimitive(d,d.property,c):Array.isArray(c)?g=[...c]:g=d.property==="style"?style(c):String(c);if(Array.isArray(g)){const b=[];for(const _ of g)b.push(parsePrimitive(d,d.property,_));g=b}d.property==="className"&&Array.isArray(o.className)&&(g=o.className.concat(g)),o[d.property]=g}}function addChild(e,o){if(o!=null)if(typeof o=="number"||typeof o=="string")e.push({type:"text",value:String(o)});else if(Array.isArray(o))for(const a of o)addChild(e,a);else if(typeof o=="object"&&"type"in o)o.type==="root"?addChild(e,o.children):e.push(o);else throw new Error("Expected node, nodes, or string, got `"+o+"`")}function parsePrimitive(e,o,a){if(typeof a=="string"){if(e.number&&a&&!Number.isNaN(Number(a)))return Number(a);if((e.boolean||e.overloadedBoolean)&&(a===""||normalize$1(a)===normalize$1(o)))return!0}return a}function style(e){const o=[];for(const[a,c]of Object.entries(e))o.push([a,c].join(": "));return o.join("; ")}function createAdjustMap(e){const o=new Map;for(const a of e)o.set(a.toLowerCase(),a);return o}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$2,"div"),s=createH(svg,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fromDom(e,o){return transform(e,{})||{type:"root",children:[]}}function transform(e,o){const a=one(e,o);return a&&o.afterTransform&&o.afterTransform(e,a),a}function one(e,o){switch(e.nodeType){case 1:return element$1(e,o);case 3:return text$2(e);case 8:return comment(e);case 9:return root$1(e,o);case 10:return doctype();case 11:return root$1(e,o);default:return}}function root$1(e,o){return{type:"root",children:all(e,o)}}function doctype(){return{type:"doctype"}}function text$2(e){return{type:"text",value:e.nodeValue||""}}function comment(e){return{type:"comment",value:e.nodeValue||""}}function element$1(e,o){const a=e.namespaceURI,c=a===webNamespaces.svg?s:h,d=a===webNamespaces.html?e.tagName.toLowerCase():e.tagName,g=a===webNamespaces.html&&d==="template"?e.content:e,b=e.getAttributeNames(),_={};let $=-1;for(;++$<b.length;)_[b[$]]=e.getAttribute(b[$])||"";return c(d,_,all(g,o))}function all(e,o){const a=e.childNodes,c=[];let d=-1;for(;++d<a.length;){const g=transform(a[d],o);g!==void 0&&c.push(g)}return c}new DOMParser;function fromHtmlIsomorphic(e,o){const a=parseFragment(e);return fromDom(a)}function parseFragment(e){const o=document.createElement("template");return o.innerHTML=e,o.content}const findAfter=function(e,o,a){const c=convert(a);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof o=="number"){if(o<0||o===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(o=e.children.indexOf(o),o<0)throw new Error("Expected child node or index");for(;++o<e.children.length;)if(c(e.children[o],o,e))return e.children[o]},convertElement=function(e){if(e==null)return element;if(typeof e=="string")return tagNameFactory(e);if(typeof e=="object")return anyFactory(e);if(typeof e=="function")return castFactory(e);throw new Error("Expected function, string, or array as `test`")};function anyFactory(e){const o=[];let a=-1;for(;++a<e.length;)o[a]=convertElement(e[a]);return castFactory(c);function c(...d){let g=-1;for(;++g<o.length;)if(o[g].apply(this,d))return!0;return!1}}function tagNameFactory(e){return castFactory(o);function o(a){return a.tagName===e}}function castFactory(e){return o;function o(a,c,d){return!!(looksLikeAnElement(a)&&e.call(this,a,typeof c=="number"?c:void 0,d||void 0))}}function element(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function looksLikeAnElement(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(e,o){const a=o||{},c="children"in e?e.children:[],d=blockOrCaption(e),g=inferWhitespace(e,{whitespace:a.whitespace||"normal"}),b=[];(e.type==="text"||e.type==="comment")&&b.push(...collectText(e,{breakBefore:!0,breakAfter:!0}));let _=-1;for(;++_<c.length;)b.push(...renderedTextCollection(c[_],e,{whitespace:g,breakBefore:_?void 0:d,breakAfter:_<c.length-1?br(c[_+1]):d}));const $=[];let j;for(_=-1;++_<b.length;){const rt=b[_];typeof rt=="number"?j!==void 0&&rt>j&&(j=rt):rt&&(j!==void 0&&j>-1&&$.push(`
`.repeat(j)||" "),j=-1,$.push(rt))}return $.join("")}function renderedTextCollection(e,o,a){return e.type==="element"?collectElement(e,o,a):e.type==="text"?a.whitespace==="normal"?collectText(e,a):collectPreText(e):[]}function collectElement(e,o,a){const c=inferWhitespace(e,a),d=e.children||[];let g=-1,b=[];if(notRendered(e))return b;let _,$;for(br(e)||row(e)&&findAfter(o,e,row)?$=`
`:p(e)?(_=2,$=2):blockOrCaption(e)&&(_=1,$=1);++g<d.length;)b=b.concat(renderedTextCollection(d[g],e,{whitespace:c,breakBefore:g?void 0:_,breakAfter:g<d.length-1?br(d[g+1]):$}));return cell(e)&&findAfter(o,e,cell)&&b.push("	"),_&&b.unshift(_),$&&b.push($),b}function collectText(e,o){const a=String(e.value),c=[],d=[];let g=0;for(;g<=a.length;){searchLineFeeds.lastIndex=g;const $=searchLineFeeds.exec(a),j=$&&"index"in $?$.index:a.length;c.push(trimAndCollapseSpacesAndTabs(a.slice(g,j).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),g===0?o.breakBefore:!0,j===a.length?o.breakAfter:!0)),g=j+1}let b=-1,_;for(;++b<c.length;)c[b].charCodeAt(c[b].length-1)===8203||b<c.length-1&&c[b+1].charCodeAt(0)===8203?(d.push(c[b]),_=void 0):c[b]?(typeof _=="number"&&d.push(_),d.push(c[b]),_=0):(b===0||b===c.length-1)&&d.push(0);return d}function collectPreText(e){return[String(e.value)]}function trimAndCollapseSpacesAndTabs(e,o,a){const c=[];let d=0,g;for(;d<e.length;){searchTabOrSpaces.lastIndex=d;const b=searchTabOrSpaces.exec(e);g=b?b.index:e.length,!d&&!g&&b&&!o&&c.push(""),d!==g&&c.push(e.slice(d,g)),d=b?g+b[0].length:g}return d!==g&&!a&&c.push(""),c.join(" ")}function inferWhitespace(e,o){if(e.type==="element"){const a=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return a.wrap?"pre-wrap":"pre";case"td":case"th":return a.noWrap?"nowrap":o.whitespace;case"textarea":return"pre-wrap"}}return o.whitespace}function hidden(e){return!!(e.properties||{}).hidden}function isCell(e){return e.tagName==="td"||e.tagName==="th"}function closedDialog(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const emptyOptions$1={},emptyClasses=[];function rehypeKatex(e){const o=e||emptyOptions$1;return function(a,c){visitParents(a,"element",function(d,g){const b=Array.isArray(d.properties.className)?d.properties.className:emptyClasses,_=b.includes("language-math"),$=b.includes("math-display"),j=b.includes("math-inline");let rt=$;if(!_&&!$&&!j)return;let nt=g[g.length-1],In=d;if(d.tagName==="code"&&_&&nt&&nt.type==="element"&&nt.tagName==="pre"&&(In=nt,nt=g[g.length-2],rt=!0),!nt)return;const xl=toText(In,{whitespace:"pre"});let Ll;try{Ll=katex.renderToString(xl,{...o,displayMode:rt,throwOnError:!0})}catch(_u){const Yl=_u,Ul=Yl.name.toLowerCase();c.message("Could not render math with KaTeX",{ancestors:[...g,d],cause:Yl,place:d.position,ruleId:Ul,source:"rehype-katex"});try{Ll=katex.renderToString(xl,{...o,displayMode:rt,strict:"ignore",throwOnError:!1})}catch{Ll=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(o.errorColor||"#cc0000"),title:String(_u)},children:[{type:"text",value:xl}]}]}}typeof Ll=="string"&&(Ll=fromHtmlIsomorphic(Ll).children);const Nl=nt.children.indexOf(In);return nt.children.splice(Nl,1,...Ll),SKIP})}}function ccount(e,o){const a=String(e);if(typeof o!="string")throw new TypeError("Expected character");let c=0,d=a.indexOf(o);for(;d!==-1;)c++,d=a.indexOf(o,d+o.length);return c}function escapeStringRegexp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(e,o,a){const d=convert((a||{}).ignore||[]),g=toPairs(o);let b=-1;for(;++b<g.length;)visitParents(e,"text",_);function _(j,rt){let nt=-1,In;for(;++nt<rt.length;){const xl=rt[nt],Ll=In?In.children:void 0;if(d(xl,Ll?Ll.indexOf(xl):void 0,In))return;In=xl}if(In)return $(j,rt)}function $(j,rt){const nt=rt[rt.length-1],In=g[b][0],xl=g[b][1];let Ll=0;const _u=nt.children.indexOf(j);let Yl=!1,Ul=[];In.lastIndex=0;let Dl=In.exec(j.value);for(;Dl;){const Zl=Dl.index,Ju={index:Dl.index,input:Dl.input,stack:[...rt,j]};let Uu=xl(...Dl,Ju);if(typeof Uu=="string"&&(Uu=Uu.length>0?{type:"text",value:Uu}:void 0),Uu===!1?In.lastIndex=Zl+1:(Ll!==Zl&&Ul.push({type:"text",value:j.value.slice(Ll,Zl)}),Array.isArray(Uu)?Ul.push(...Uu):Uu&&Ul.push(Uu),Ll=Zl+Dl[0].length,Yl=!0),!In.global)break;Dl=In.exec(j.value)}return Yl?(Ll<j.value.length&&Ul.push({type:"text",value:j.value.slice(Ll)}),nt.children.splice(_u,1,...Ul)):Ul=[j],_u+Ul.length}}function toPairs(e){const o=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const a=!e[0]||Array.isArray(e[0])?e:[e];let c=-1;for(;++c<a.length;){const d=a[c];o.push([toExpression(d[0]),toFunction(d[1])])}return o}function toExpression(e){return typeof e=="string"?new RegExp(escapeStringRegexp(e),"g"):e}function toFunction(e){return typeof e=="function"?e:function(){return e}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function enterLiteralAutolinkValue(e){this.config.enter.autolinkProtocol.call(this,e)}function exitLiteralAutolinkHttp(e){this.config.exit.autolinkProtocol.call(this,e)}function exitLiteralAutolinkWww(e){this.config.exit.data.call(this,e);const o=this.stack[this.stack.length-1];o.type,o.url="http://"+this.sliceSerialize(e)}function exitLiteralAutolinkEmail(e){this.config.exit.autolinkEmail.call(this,e)}function exitLiteralAutolink(e){this.exit(e)}function transformGfmAutolinkLiterals(e){findAndReplace(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(e,o,a,c,d){let g="";if(!previous(d)||(/^w/i.test(o)&&(a=o+a,o="",g="http://"),!isCorrectDomain(a)))return!1;const b=splitUrl(a+c);if(!b[0])return!1;const _={type:"link",title:null,url:g+o+b[0],children:[{type:"text",value:o+b[0]}]};return b[1]?[_,{type:"text",value:b[1]}]:_}function findEmail(e,o,a,c){return!previous(c,!0)||/[-\d_]$/.test(a)?!1:{type:"link",title:null,url:"mailto:"+o+"@"+a,children:[{type:"text",value:o+"@"+a}]}}function isCorrectDomain(e){const o=e.split(".");return!(o.length<2||o[o.length-1]&&(/_/.test(o[o.length-1])||!/[a-zA-Z\d]/.test(o[o.length-1]))||o[o.length-2]&&(/_/.test(o[o.length-2])||!/[a-zA-Z\d]/.test(o[o.length-2])))}function splitUrl(e){const o=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!o)return[e,void 0];e=e.slice(0,o.index);let a=o[0],c=a.indexOf(")");const d=ccount(e,"(");let g=ccount(e,")");for(;c!==-1&&d>g;)e+=a.slice(0,c+1),a=a.slice(c+1),c=a.indexOf(")"),g++;return[e,a]}function previous(e,o){const a=e.input.charCodeAt(e.index-1);return(e.index===0||unicodeWhitespace(a)||unicodePunctuation(a))&&(!o||a!==47)}footnoteReference$1.peek=footnoteReferencePeek$1;function enterFootnoteCallString$1(){this.buffer()}function enterFootnoteCall$1(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function enterFootnoteDefinitionLabelString$1(){this.buffer()}function enterFootnoteDefinition$1(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function exitFootnoteCallString$1(e){const o=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=normalizeIdentifier$2(this.sliceSerialize(e)).toLowerCase(),a.label=o}function exitFootnoteCall$1(e){this.exit(e)}function exitFootnoteDefinitionLabelString$1(e){const o=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=normalizeIdentifier$2(this.sliceSerialize(e)).toLowerCase(),a.label=o}function exitFootnoteDefinition$1(e){this.exit(e)}function footnoteReferencePeek$1(){return"["}function footnoteReference$1(e,o,a,c){const d=a.createTracker(c);let g=d.move("[^");const b=a.enter("footnoteReference"),_=a.enter("reference");return g+=d.move(a.safe(a.associationId(e),{after:"]",before:g})),_(),b(),g+=d.move("]"),g}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString$1,gfmFootnoteCall:enterFootnoteCall$1,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString$1,gfmFootnoteDefinition:enterFootnoteDefinition$1},exit:{gfmFootnoteCallString:exitFootnoteCallString$1,gfmFootnoteCall:exitFootnoteCall$1,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString$1,gfmFootnoteDefinition:exitFootnoteDefinition$1}}}function gfmFootnoteToMarkdown(e){let o=!1;return e&&e.firstLineBlank&&(o=!0),{handlers:{footnoteDefinition:a,footnoteReference:footnoteReference$1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function a(c,d,g,b){const _=g.createTracker(b);let $=_.move("[^");const j=g.enter("footnoteDefinition"),rt=g.enter("label");return $+=_.move(g.safe(g.associationId(c),{before:$,after:"]"})),rt(),$+=_.move("]:"),c.children&&c.children.length>0&&(_.shift(4),$+=_.move((o?`
`:" ")+g.indentLines(g.containerFlow(c,_.current()),o?mapAll:mapExceptFirst))),j(),$}}function mapExceptFirst(e,o,a){return o===0?e:mapAll(e,o,a)}function mapAll(e,o,a){return(a?"":"    ")+e}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(e){this.enter({type:"delete",children:[]},e)}function exitStrikethrough(e){this.exit(e)}function handleDelete(e,o,a,c){const d=a.createTracker(c),g=a.enter("strikethrough");let b=d.move("~~");return b+=a.containerPhrasing(e,{...d.current(),before:b,after:"~"}),b+=d.move("~~"),g(),b}function peekDelete(){return"~"}function defaultStringLength(e){return e.length}function markdownTable(e,o){const a=o||{},c=(a.align||[]).concat(),d=a.stringLength||defaultStringLength,g=[],b=[],_=[],$=[];let j=0,rt=-1;for(;++rt<e.length;){const Nl=[],_u=[];let Yl=-1;for(e[rt].length>j&&(j=e[rt].length);++Yl<e[rt].length;){const Ul=serialize(e[rt][Yl]);if(a.alignDelimiters!==!1){const Dl=d(Ul);_u[Yl]=Dl,($[Yl]===void 0||Dl>$[Yl])&&($[Yl]=Dl)}Nl.push(Ul)}b[rt]=Nl,_[rt]=_u}let nt=-1;if(typeof c=="object"&&"length"in c)for(;++nt<j;)g[nt]=toAlignment(c[nt]);else{const Nl=toAlignment(c);for(;++nt<j;)g[nt]=Nl}nt=-1;const In=[],xl=[];for(;++nt<j;){const Nl=g[nt];let _u="",Yl="";Nl===99?(_u=":",Yl=":"):Nl===108?_u=":":Nl===114&&(Yl=":");let Ul=a.alignDelimiters===!1?1:Math.max(1,$[nt]-_u.length-Yl.length);const Dl=_u+"-".repeat(Ul)+Yl;a.alignDelimiters!==!1&&(Ul=_u.length+Ul+Yl.length,Ul>$[nt]&&($[nt]=Ul),xl[nt]=Ul),In[nt]=Dl}b.splice(1,0,In),_.splice(1,0,xl),rt=-1;const Ll=[];for(;++rt<b.length;){const Nl=b[rt],_u=_[rt];nt=-1;const Yl=[];for(;++nt<j;){const Ul=Nl[nt]||"";let Dl="",Zl="";if(a.alignDelimiters!==!1){const Ju=$[nt]-(_u[nt]||0),Uu=g[nt];Uu===114?Dl=" ".repeat(Ju):Uu===99?Ju%2?(Dl=" ".repeat(Ju/2+.5),Zl=" ".repeat(Ju/2-.5)):(Dl=" ".repeat(Ju/2),Zl=Dl):Zl=" ".repeat(Ju)}a.delimiterStart!==!1&&!nt&&Yl.push("|"),a.padding!==!1&&!(a.alignDelimiters===!1&&Ul==="")&&(a.delimiterStart!==!1||nt)&&Yl.push(" "),a.alignDelimiters!==!1&&Yl.push(Dl),Yl.push(Ul),a.alignDelimiters!==!1&&Yl.push(Zl),a.padding!==!1&&Yl.push(" "),(a.delimiterEnd!==!1||nt!==j-1)&&Yl.push("|")}Ll.push(a.delimiterEnd===!1?Yl.join("").replace(/ +$/,""):Yl.join(""))}return Ll.join(`
`)}function serialize(e){return e==null?"":String(e)}function toAlignment(e){const o=typeof e=="string"?e.codePointAt(0):0;return o===67||o===99?99:o===76||o===108?108:o===82||o===114?114:0}function blockquote(e,o,a,c){const d=a.enter("blockquote"),g=a.createTracker(c);g.move("> "),g.shift(2);const b=a.indentLines(a.containerFlow(e,g.current()),map$1);return d(),b}function map$1(e,o,a){return">"+(a?"":" ")+e}function patternInScope$1(e,o){return listInScope$1(e,o.inConstruct,!0)&&!listInScope$1(e,o.notInConstruct,!1)}function listInScope$1(e,o,a){if(typeof o=="string"&&(o=[o]),!o||o.length===0)return a;let c=-1;for(;++c<o.length;)if(e.includes(o[c]))return!0;return!1}function hardBreak(e,o,a,c){let d=-1;for(;++d<a.unsafe.length;)if(a.unsafe[d].character===`
`&&patternInScope$1(a.stack,a.unsafe[d]))return/[ \t]/.test(c.before)?"":" ";return`\\
`}function formatCodeAsIndented(e,o){return!!(o.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function checkFence(e){const o=e.options.fence||"`";if(o!=="`"&&o!=="~")throw new Error("Cannot serialize code with `"+o+"` for `options.fence`, expected `` ` `` or `~`");return o}function code$1(e,o,a,c){const d=checkFence(a),g=e.value||"",b=d==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(e,a)){const nt=a.enter("codeIndented"),In=a.indentLines(g,map);return nt(),In}const _=a.createTracker(c),$=d.repeat(Math.max(longestStreak(g,d)+1,3)),j=a.enter("codeFenced");let rt=_.move($);if(e.lang){const nt=a.enter(`codeFencedLang${b}`);rt+=_.move(a.safe(e.lang,{before:rt,after:" ",encode:["`"],..._.current()})),nt()}if(e.lang&&e.meta){const nt=a.enter(`codeFencedMeta${b}`);rt+=_.move(" "),rt+=_.move(a.safe(e.meta,{before:rt,after:`
`,encode:["`"],..._.current()})),nt()}return rt+=_.move(`
`),g&&(rt+=_.move(g+`
`)),rt+=_.move($),j(),rt}function map(e,o,a){return(a?"":"    ")+e}function checkQuote(e){const o=e.options.quote||'"';if(o!=='"'&&o!=="'")throw new Error("Cannot serialize title with `"+o+"` for `options.quote`, expected `\"`, or `'`");return o}function definition(e,o,a,c){const d=checkQuote(a),g=d==='"'?"Quote":"Apostrophe",b=a.enter("definition");let _=a.enter("label");const $=a.createTracker(c);let j=$.move("[");return j+=$.move(a.safe(a.associationId(e),{before:j,after:"]",...$.current()})),j+=$.move("]: "),_(),!e.url||/[\0- \u007F]/.test(e.url)?(_=a.enter("destinationLiteral"),j+=$.move("<"),j+=$.move(a.safe(e.url,{before:j,after:">",...$.current()})),j+=$.move(">")):(_=a.enter("destinationRaw"),j+=$.move(a.safe(e.url,{before:j,after:e.title?" ":`
`,...$.current()}))),_(),e.title&&(_=a.enter(`title${g}`),j+=$.move(" "+d),j+=$.move(a.safe(e.title,{before:j,after:d,...$.current()})),j+=$.move(d),_()),b(),j}function checkEmphasis(e){const o=e.options.emphasis||"*";if(o!=="*"&&o!=="_")throw new Error("Cannot serialize emphasis with `"+o+"` for `options.emphasis`, expected `*`, or `_`");return o}function encodeCharacterReference(e){return"&#x"+e.toString(16).toUpperCase()+";"}function encodeInfo(e,o,a){const c=classifyCharacter(e),d=classifyCharacter(o);return c===void 0?d===void 0?a==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:d===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:c===1?d===void 0?{inside:!1,outside:!1}:d===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:d===void 0?{inside:!1,outside:!1}:d===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(e,o,a,c){const d=checkEmphasis(a),g=a.enter("emphasis"),b=a.createTracker(c),_=b.move(d);let $=b.move(a.containerPhrasing(e,{after:d,before:_,...b.current()}));const j=$.charCodeAt(0),rt=encodeInfo(c.before.charCodeAt(c.before.length-1),j,d);rt.inside&&($=encodeCharacterReference(j)+$.slice(1));const nt=$.charCodeAt($.length-1),In=encodeInfo(c.after.charCodeAt(0),nt,d);In.inside&&($=$.slice(0,-1)+encodeCharacterReference(nt));const xl=b.move(d);return g(),a.attentionEncodeSurroundingInfo={after:In.outside,before:rt.outside},_+$+xl}function emphasisPeek(e,o,a){return a.options.emphasis||"*"}function formatHeadingAsSetext(e,o){let a=!1;return visit(e,function(c){if("value"in c&&/\r?\n|\r/.test(c.value)||c.type==="break")return a=!0,EXIT}),!!((!e.depth||e.depth<3)&&toString$1(e)&&(o.options.setext||a))}function heading(e,o,a,c){const d=Math.max(Math.min(6,e.depth||1),1),g=a.createTracker(c);if(formatHeadingAsSetext(e,a)){const rt=a.enter("headingSetext"),nt=a.enter("phrasing"),In=a.containerPhrasing(e,{...g.current(),before:`
`,after:`
`});return nt(),rt(),In+`
`+(d===1?"=":"-").repeat(In.length-(Math.max(In.lastIndexOf("\r"),In.lastIndexOf(`
`))+1))}const b="#".repeat(d),_=a.enter("headingAtx"),$=a.enter("phrasing");g.move(b+" ");let j=a.containerPhrasing(e,{before:"# ",after:`
`,...g.current()});return/^[\t ]/.test(j)&&(j=encodeCharacterReference(j.charCodeAt(0))+j.slice(1)),j=j?b+" "+j:b,a.options.closeAtx&&(j+=" "+b),$(),_(),j}html.peek=htmlPeek;function html(e){return e.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(e,o,a,c){const d=checkQuote(a),g=d==='"'?"Quote":"Apostrophe",b=a.enter("image");let _=a.enter("label");const $=a.createTracker(c);let j=$.move("![");return j+=$.move(a.safe(e.alt,{before:j,after:"]",...$.current()})),j+=$.move("]("),_(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(_=a.enter("destinationLiteral"),j+=$.move("<"),j+=$.move(a.safe(e.url,{before:j,after:">",...$.current()})),j+=$.move(">")):(_=a.enter("destinationRaw"),j+=$.move(a.safe(e.url,{before:j,after:e.title?" ":")",...$.current()}))),_(),e.title&&(_=a.enter(`title${g}`),j+=$.move(" "+d),j+=$.move(a.safe(e.title,{before:j,after:d,...$.current()})),j+=$.move(d),_()),j+=$.move(")"),b(),j}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(e,o,a,c){const d=e.referenceType,g=a.enter("imageReference");let b=a.enter("label");const _=a.createTracker(c);let $=_.move("![");const j=a.safe(e.alt,{before:$,after:"]",..._.current()});$+=_.move(j+"]["),b();const rt=a.stack;a.stack=[],b=a.enter("reference");const nt=a.safe(a.associationId(e),{before:$,after:"]",..._.current()});return b(),a.stack=rt,g(),d==="full"||!j||j!==nt?$+=_.move(nt+"]"):d==="shortcut"?$=$.slice(0,-1):$+=_.move("]"),$}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(e,o,a){let c=e.value||"",d="`",g=-1;for(;new RegExp("(^|[^`])"+d+"([^`]|$)").test(c);)d+="`";for(/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^`|`$/.test(c))&&(c=" "+c+" ");++g<a.unsafe.length;){const b=a.unsafe[g],_=a.compilePattern(b);let $;if(b.atBreak)for(;$=_.exec(c);){let j=$.index;c.charCodeAt(j)===10&&c.charCodeAt(j-1)===13&&j--,c=c.slice(0,j)+" "+c.slice($.index+1)}}return d+c+d}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(e,o){const a=toString$1(e);return!!(!o.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(a===e.url||"mailto:"+a===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}link.peek=linkPeek;function link(e,o,a,c){const d=checkQuote(a),g=d==='"'?"Quote":"Apostrophe",b=a.createTracker(c);let _,$;if(formatLinkAsAutolink(e,a)){const rt=a.stack;a.stack=[],_=a.enter("autolink");let nt=b.move("<");return nt+=b.move(a.containerPhrasing(e,{before:nt,after:">",...b.current()})),nt+=b.move(">"),_(),a.stack=rt,nt}_=a.enter("link"),$=a.enter("label");let j=b.move("[");return j+=b.move(a.containerPhrasing(e,{before:j,after:"](",...b.current()})),j+=b.move("]("),$(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?($=a.enter("destinationLiteral"),j+=b.move("<"),j+=b.move(a.safe(e.url,{before:j,after:">",...b.current()})),j+=b.move(">")):($=a.enter("destinationRaw"),j+=b.move(a.safe(e.url,{before:j,after:e.title?" ":")",...b.current()}))),$(),e.title&&($=a.enter(`title${g}`),j+=b.move(" "+d),j+=b.move(a.safe(e.title,{before:j,after:d,...b.current()})),j+=b.move(d),$()),j+=b.move(")"),_(),j}function linkPeek(e,o,a){return formatLinkAsAutolink(e,a)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(e,o,a,c){const d=e.referenceType,g=a.enter("linkReference");let b=a.enter("label");const _=a.createTracker(c);let $=_.move("[");const j=a.containerPhrasing(e,{before:$,after:"]",..._.current()});$+=_.move(j+"]["),b();const rt=a.stack;a.stack=[],b=a.enter("reference");const nt=a.safe(a.associationId(e),{before:$,after:"]",..._.current()});return b(),a.stack=rt,g(),d==="full"||!j||j!==nt?$+=_.move(nt+"]"):d==="shortcut"?$=$.slice(0,-1):$+=_.move("]"),$}function linkReferencePeek(){return"["}function checkBullet(e){const o=e.options.bullet||"*";if(o!=="*"&&o!=="+"&&o!=="-")throw new Error("Cannot serialize items with `"+o+"` for `options.bullet`, expected `*`, `+`, or `-`");return o}function checkBulletOther(e){const o=checkBullet(e),a=e.options.bulletOther;if(!a)return o==="*"?"-":"*";if(a!=="*"&&a!=="+"&&a!=="-")throw new Error("Cannot serialize items with `"+a+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(a===o)throw new Error("Expected `bullet` (`"+o+"`) and `bulletOther` (`"+a+"`) to be different");return a}function checkBulletOrdered(e){const o=e.options.bulletOrdered||".";if(o!=="."&&o!==")")throw new Error("Cannot serialize items with `"+o+"` for `options.bulletOrdered`, expected `.` or `)`");return o}function checkRule(e){const o=e.options.rule||"*";if(o!=="*"&&o!=="-"&&o!=="_")throw new Error("Cannot serialize rules with `"+o+"` for `options.rule`, expected `*`, `-`, or `_`");return o}function list(e,o,a,c){const d=a.enter("list"),g=a.bulletCurrent;let b=e.ordered?checkBulletOrdered(a):checkBullet(a);const _=e.ordered?b==="."?")":".":checkBulletOther(a);let $=o&&a.bulletLastUsed?b===a.bulletLastUsed:!1;if(!e.ordered){const rt=e.children?e.children[0]:void 0;if((b==="*"||b==="-")&&rt&&(!rt.children||!rt.children[0])&&a.stack[a.stack.length-1]==="list"&&a.stack[a.stack.length-2]==="listItem"&&a.stack[a.stack.length-3]==="list"&&a.stack[a.stack.length-4]==="listItem"&&a.indexStack[a.indexStack.length-1]===0&&a.indexStack[a.indexStack.length-2]===0&&a.indexStack[a.indexStack.length-3]===0&&($=!0),checkRule(a)===b&&rt){let nt=-1;for(;++nt<e.children.length;){const In=e.children[nt];if(In&&In.type==="listItem"&&In.children&&In.children[0]&&In.children[0].type==="thematicBreak"){$=!0;break}}}}$&&(b=_),a.bulletCurrent=b;const j=a.containerFlow(e,c);return a.bulletLastUsed=b,a.bulletCurrent=g,d(),j}function checkListItemIndent(e){const o=e.options.listItemIndent||"one";if(o!=="tab"&&o!=="one"&&o!=="mixed")throw new Error("Cannot serialize items with `"+o+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return o}function listItem(e,o,a,c){const d=checkListItemIndent(a);let g=a.bulletCurrent||checkBullet(a);o&&o.type==="list"&&o.ordered&&(g=(typeof o.start=="number"&&o.start>-1?o.start:1)+(a.options.incrementListMarker===!1?0:o.children.indexOf(e))+g);let b=g.length+1;(d==="tab"||d==="mixed"&&(o&&o.type==="list"&&o.spread||e.spread))&&(b=Math.ceil(b/4)*4);const _=a.createTracker(c);_.move(g+" ".repeat(b-g.length)),_.shift(b);const $=a.enter("listItem"),j=a.indentLines(a.containerFlow(e,_.current()),rt);return $(),j;function rt(nt,In,xl){return In?(xl?"":" ".repeat(b))+nt:(xl?g:g+" ".repeat(b-g.length))+nt}}function paragraph(e,o,a,c){const d=a.enter("paragraph"),g=a.enter("phrasing"),b=a.containerPhrasing(e,c);return g(),d(),b}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(e,o,a,c){return(e.children.some(function(b){return phrasing(b)})?a.containerPhrasing:a.containerFlow).call(a,e,c)}function checkStrong(e){const o=e.options.strong||"*";if(o!=="*"&&o!=="_")throw new Error("Cannot serialize strong with `"+o+"` for `options.strong`, expected `*`, or `_`");return o}strong.peek=strongPeek;function strong(e,o,a,c){const d=checkStrong(a),g=a.enter("strong"),b=a.createTracker(c),_=b.move(d+d);let $=b.move(a.containerPhrasing(e,{after:d,before:_,...b.current()}));const j=$.charCodeAt(0),rt=encodeInfo(c.before.charCodeAt(c.before.length-1),j,d);rt.inside&&($=encodeCharacterReference(j)+$.slice(1));const nt=$.charCodeAt($.length-1),In=encodeInfo(c.after.charCodeAt(0),nt,d);In.inside&&($=$.slice(0,-1)+encodeCharacterReference(nt));const xl=b.move(d+d);return g(),a.attentionEncodeSurroundingInfo={after:In.outside,before:rt.outside},_+$+xl}function strongPeek(e,o,a){return a.options.strong||"*"}function text$1(e,o,a,c){return a.safe(e.value,c)}function checkRuleRepetition(e){const o=e.options.ruleRepetition||3;if(o<3)throw new Error("Cannot serialize rules with repetition `"+o+"` for `options.ruleRepetition`, expected `3` or more");return o}function thematicBreak(e,o,a){const c=(checkRule(a)+(a.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(a));return a.options.ruleSpaces?c.slice(0,-1):c}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(e){const o=e._align;this.enter({type:"table",align:o.map(function(a){return a==="none"?null:a}),children:[]},e),this.data.inTable=!0}function exitTable(e){this.exit(e),this.data.inTable=void 0}function enterRow(e){this.enter({type:"tableRow",children:[]},e)}function exit(e){this.exit(e)}function enterCell(e){this.enter({type:"tableCell",children:[]},e)}function exitCodeText(e){let o=this.resume();this.data.inTable&&(o=o.replace(/\\([\\|])/g,replace));const a=this.stack[this.stack.length-1];a.type,a.value=o,this.exit(e)}function replace(e,o){return o==="|"?o:e}function gfmTableToMarkdown(e){const o=e||{},a=o.tableCellPadding,c=o.tablePipeAlign,d=o.stringLength,g=a?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:In,table:b,tableCell:$,tableRow:_}};function b(xl,Ll,Nl,_u){return j(rt(xl,Nl,_u),xl.align)}function _(xl,Ll,Nl,_u){const Yl=nt(xl,Nl,_u),Ul=j([Yl]);return Ul.slice(0,Ul.indexOf(`
`))}function $(xl,Ll,Nl,_u){const Yl=Nl.enter("tableCell"),Ul=Nl.enter("phrasing"),Dl=Nl.containerPhrasing(xl,{..._u,before:g,after:g});return Ul(),Yl(),Dl}function j(xl,Ll){return markdownTable(xl,{align:Ll,alignDelimiters:c,padding:a,stringLength:d})}function rt(xl,Ll,Nl){const _u=xl.children;let Yl=-1;const Ul=[],Dl=Ll.enter("table");for(;++Yl<_u.length;)Ul[Yl]=nt(_u[Yl],Ll,Nl);return Dl(),Ul}function nt(xl,Ll,Nl){const _u=xl.children;let Yl=-1;const Ul=[],Dl=Ll.enter("tableRow");for(;++Yl<_u.length;)Ul[Yl]=$(_u[Yl],xl,Ll,Nl);return Dl(),Ul}function In(xl,Ll,Nl){let _u=handle.inlineCode(xl,Ll,Nl);return Nl.stack.includes("tableCell")&&(_u=_u.replace(/\|/g,"\\$&")),_u}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(e){const o=this.stack[this.stack.length-2];o.type,o.checked=e.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(e){const o=this.stack[this.stack.length-2];if(o&&o.type==="listItem"&&typeof o.checked=="boolean"){const a=this.stack[this.stack.length-1];a.type;const c=a.children[0];if(c&&c.type==="text"){const d=o.children;let g=-1,b;for(;++g<d.length;){const _=d[g];if(_.type==="paragraph"){b=_;break}}b===a&&(c.value=c.value.slice(1),c.value.length===0?a.children.shift():a.position&&c.position&&typeof c.position.start.offset=="number"&&(c.position.start.column++,c.position.start.offset++,a.position.start=Object.assign({},c.position.start)))}}this.exit(e)}function listItemWithTaskListItem(e,o,a,c){const d=e.children[0],g=typeof e.checked=="boolean"&&d&&d.type==="paragraph",b="["+(e.checked?"x":" ")+"] ",_=a.createTracker(c);g&&_.move(b);let $=handle.listItem(e,o,a,{...c,..._.current()});return g&&($=$.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,j)),$;function j(rt){return rt+b}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(e){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(e),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(e),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(e,o,a){const c=this;let d,g;return b;function b(nt){return!gfmAtext(nt)||!previousEmail.call(c,c.previous)||previousUnbalanced(c.events)?a(nt):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),_(nt))}function _(nt){return gfmAtext(nt)?(e.consume(nt),_):nt===64?(e.consume(nt),$):a(nt)}function $(nt){return nt===46?e.check(emailDomainDotTrail,rt,j)(nt):nt===45||nt===95||asciiAlphanumeric(nt)?(g=!0,e.consume(nt),$):rt(nt)}function j(nt){return e.consume(nt),d=!0,$}function rt(nt){return g&&d&&asciiAlpha(c.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),o(nt)):a(nt)}}function tokenizeWwwAutolink(e,o,a){const c=this;return d;function d(b){return b!==87&&b!==119||!previousWww.call(c,c.previous)||previousUnbalanced(c.events)?a(b):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wwwPrefix,e.attempt(domain,e.attempt(path,g),a),a)(b))}function g(b){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),o(b)}}function tokenizeProtocolAutolink(e,o,a){const c=this;let d="",g=!1;return b;function b(nt){return(nt===72||nt===104)&&previousProtocol.call(c,c.previous)&&!previousUnbalanced(c.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),d+=String.fromCodePoint(nt),e.consume(nt),_):a(nt)}function _(nt){if(asciiAlpha(nt)&&d.length<5)return d+=String.fromCodePoint(nt),e.consume(nt),_;if(nt===58){const In=d.toLowerCase();if(In==="http"||In==="https")return e.consume(nt),$}return a(nt)}function $(nt){return nt===47?(e.consume(nt),g?j:(g=!0,$)):a(nt)}function j(nt){return nt===null||asciiControl(nt)||markdownLineEndingOrSpace$1(nt)||unicodeWhitespace(nt)||unicodePunctuation(nt)?a(nt):e.attempt(domain,e.attempt(path,rt),a)(nt)}function rt(nt){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),o(nt)}}function tokenizeWwwPrefix(e,o,a){let c=0;return d;function d(b){return(b===87||b===119)&&c<3?(c++,e.consume(b),d):b===46&&c===3?(e.consume(b),g):a(b)}function g(b){return b===null?a(b):o(b)}}function tokenizeDomain(e,o,a){let c,d,g;return b;function b(j){return j===46||j===95?e.check(trail,$,_)(j):j===null||markdownLineEndingOrSpace$1(j)||unicodeWhitespace(j)||j!==45&&unicodePunctuation(j)?$(j):(g=!0,e.consume(j),b)}function _(j){return j===95?c=!0:(d=c,c=void 0),e.consume(j),b}function $(j){return d||c||!g?a(j):o(j)}}function tokenizePath(e,o){let a=0,c=0;return d;function d(b){return b===40?(a++,e.consume(b),d):b===41&&c<a?g(b):b===33||b===34||b===38||b===39||b===41||b===42||b===44||b===46||b===58||b===59||b===60||b===63||b===93||b===95||b===126?e.check(trail,o,g)(b):b===null||markdownLineEndingOrSpace$1(b)||unicodeWhitespace(b)?o(b):(e.consume(b),d)}function g(b){return b===41&&c++,e.consume(b),d}}function tokenizeTrail(e,o,a){return c;function c(_){return _===33||_===34||_===39||_===41||_===42||_===44||_===46||_===58||_===59||_===63||_===95||_===126?(e.consume(_),c):_===38?(e.consume(_),g):_===93?(e.consume(_),d):_===60||_===null||markdownLineEndingOrSpace$1(_)||unicodeWhitespace(_)?o(_):a(_)}function d(_){return _===null||_===40||_===91||markdownLineEndingOrSpace$1(_)||unicodeWhitespace(_)?o(_):c(_)}function g(_){return asciiAlpha(_)?b(_):a(_)}function b(_){return _===59?(e.consume(_),c):asciiAlpha(_)?(e.consume(_),b):a(_)}}function tokenizeEmailDomainDotTrail(e,o,a){return c;function c(g){return e.consume(g),d}function d(g){return asciiAlphanumeric(g)?a(g):o(g)}}function previousWww(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||markdownLineEndingOrSpace$1(e)}function previousProtocol(e){return!asciiAlpha(e)}function previousEmail(e){return!(e===47||gfmAtext(e))}function gfmAtext(e){return e===43||e===45||e===46||e===95||asciiAlphanumeric(e)}function previousUnbalanced(e){let o=e.length,a=!1;for(;o--;){const c=e[o][1];if((c.type==="labelLink"||c.type==="labelImage")&&!c._balanced){a=!0;break}if(c._gfmAutolinkLiteralWalkedInto){a=!1;break}}return e.length>0&&!a&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),a}const indent$1={tokenize:tokenizeIndent$1,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart$1,continuation:{tokenize:tokenizeDefinitionContinuation$1},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(e,o,a){const c=this;let d=c.events.length;const g=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let b;for(;d--;){const $=c.events[d][1];if($.type==="labelImage"){b=$;break}if($.type==="gfmFootnoteCall"||$.type==="labelLink"||$.type==="label"||$.type==="image"||$.type==="link")break}return _;function _($){if(!b||!b._balanced)return a($);const j=normalizeIdentifier$2(c.sliceSerialize({start:b.end,end:c.now()}));return j.codePointAt(0)!==94||!g.includes(j.slice(1))?a($):(e.enter("gfmFootnoteCallLabelMarker"),e.consume($),e.exit("gfmFootnoteCallLabelMarker"),o($))}}function resolveToPotentialGfmFootnoteCall(e,o){let a=e.length;for(;a--;)if(e[a][1].type==="labelImage"&&e[a][0]==="enter"){e[a][1];break}e[a+1][1].type="data",e[a+3][1].type="gfmFootnoteCallLabelMarker";const c={type:"gfmFootnoteCall",start:Object.assign({},e[a+3][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"gfmFootnoteCallMarker",start:Object.assign({},e[a+3][1].end),end:Object.assign({},e[a+3][1].end)};d.end.column++,d.end.offset++,d.end._bufferIndex++;const g={type:"gfmFootnoteCallString",start:Object.assign({},d.end),end:Object.assign({},e[e.length-1][1].start)},b={type:"chunkString",contentType:"string",start:Object.assign({},g.start),end:Object.assign({},g.end)},_=[e[a+1],e[a+2],["enter",c,o],e[a+3],e[a+4],["enter",d,o],["exit",d,o],["enter",g,o],["enter",b,o],["exit",b,o],["exit",g,o],e[e.length-2],e[e.length-1],["exit",c,o]];return e.splice(a,e.length-a+1,..._),e}function tokenizeGfmFootnoteCall(e,o,a){const c=this,d=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let g=0,b;return _;function _(nt){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(nt),e.exit("gfmFootnoteCallLabelMarker"),$}function $(nt){return nt!==94?a(nt):(e.enter("gfmFootnoteCallMarker"),e.consume(nt),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",j)}function j(nt){if(g>999||nt===93&&!b||nt===null||nt===91||markdownLineEndingOrSpace$1(nt))return a(nt);if(nt===93){e.exit("chunkString");const In=e.exit("gfmFootnoteCallString");return d.includes(normalizeIdentifier$2(c.sliceSerialize(In)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(nt),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),o):a(nt)}return markdownLineEndingOrSpace$1(nt)||(b=!0),g++,e.consume(nt),nt===92?rt:j}function rt(nt){return nt===91||nt===92||nt===93?(e.consume(nt),g++,j):j(nt)}}function tokenizeDefinitionStart$1(e,o,a){const c=this,d=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let g,b=0,_;return $;function $(Ll){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(Ll),e.exit("gfmFootnoteDefinitionLabelMarker"),j}function j(Ll){return Ll===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(Ll),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",rt):a(Ll)}function rt(Ll){if(b>999||Ll===93&&!_||Ll===null||Ll===91||markdownLineEndingOrSpace$1(Ll))return a(Ll);if(Ll===93){e.exit("chunkString");const Nl=e.exit("gfmFootnoteDefinitionLabelString");return g=normalizeIdentifier$2(c.sliceSerialize(Nl)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(Ll),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),In}return markdownLineEndingOrSpace$1(Ll)||(_=!0),b++,e.consume(Ll),Ll===92?nt:rt}function nt(Ll){return Ll===91||Ll===92||Ll===93?(e.consume(Ll),b++,rt):rt(Ll)}function In(Ll){return Ll===58?(e.enter("definitionMarker"),e.consume(Ll),e.exit("definitionMarker"),d.includes(g)||d.push(g),factorySpace$1(e,xl,"gfmFootnoteDefinitionWhitespace")):a(Ll)}function xl(Ll){return o(Ll)}}function tokenizeDefinitionContinuation$1(e,o,a){return e.check(blankLine$1,o,e.attempt(indent$1,o,a))}function gfmFootnoteDefinitionEnd(e){e.exit("gfmFootnoteDefinition")}function tokenizeIndent$1(e,o,a){const c=this;return factorySpace$1(e,d,"gfmFootnoteDefinitionIndent",5);function d(g){const b=c.events[c.events.length-1];return b&&b[1].type==="gfmFootnoteDefinitionIndent"&&b[2].sliceSerialize(b[1],!0).length===4?o(g):a(g)}}function gfmStrikethrough(e){let a=(e||{}).singleTilde;const c={name:"strikethrough",tokenize:g,resolveAll:d};return a==null&&(a=!0),{text:{126:c},insideSpan:{null:[c]},attentionMarkers:{null:[126]}};function d(b,_){let $=-1;for(;++$<b.length;)if(b[$][0]==="enter"&&b[$][1].type==="strikethroughSequenceTemporary"&&b[$][1]._close){let j=$;for(;j--;)if(b[j][0]==="exit"&&b[j][1].type==="strikethroughSequenceTemporary"&&b[j][1]._open&&b[$][1].end.offset-b[$][1].start.offset===b[j][1].end.offset-b[j][1].start.offset){b[$][1].type="strikethroughSequence",b[j][1].type="strikethroughSequence";const rt={type:"strikethrough",start:Object.assign({},b[j][1].start),end:Object.assign({},b[$][1].end)},nt={type:"strikethroughText",start:Object.assign({},b[j][1].end),end:Object.assign({},b[$][1].start)},In=[["enter",rt,_],["enter",b[j][1],_],["exit",b[j][1],_],["enter",nt,_]],xl=_.parser.constructs.insideSpan.null;xl&&splice$1(In,In.length,0,resolveAll$1(xl,b.slice(j+1,$),_)),splice$1(In,In.length,0,[["exit",nt,_],["enter",b[$][1],_],["exit",b[$][1],_],["exit",rt,_]]),splice$1(b,j-1,$-j+3,In),$=j+In.length-2;break}}for($=-1;++$<b.length;)b[$][1].type==="strikethroughSequenceTemporary"&&(b[$][1].type="data");return b}function g(b,_,$){const j=this.previous,rt=this.events;let nt=0;return In;function In(Ll){return j===126&&rt[rt.length-1][1].type!=="characterEscape"?$(Ll):(b.enter("strikethroughSequenceTemporary"),xl(Ll))}function xl(Ll){const Nl=classifyCharacter(j);if(Ll===126)return nt>1?$(Ll):(b.consume(Ll),nt++,xl);if(nt<2&&!a)return $(Ll);const _u=b.exit("strikethroughSequenceTemporary"),Yl=classifyCharacter(Ll);return _u._open=!Yl||Yl===2&&!!Nl,_u._close=!Nl||Nl===2&&!!Yl,_(Ll)}}}class EditMap{constructor(){this.map=[]}add(o,a,c){addImplementation(this,o,a,c)}consume(o){if(this.map.sort(function(g,b){return g[0]-b[0]}),this.map.length===0)return;let a=this.map.length;const c=[];for(;a>0;)a-=1,c.push(o.slice(this.map[a][0]+this.map[a][1]),this.map[a][2]),o.length=this.map[a][0];c.push(o.slice()),o.length=0;let d=c.pop();for(;d;){for(const g of d)o.push(g);d=c.pop()}this.map.length=0}}function addImplementation(e,o,a,c){let d=0;if(!(a===0&&c.length===0)){for(;d<e.map.length;){if(e.map[d][0]===o){e.map[d][1]+=a,e.map[d][2].push(...c);return}d+=1}e.map.push([o,a,c])}}function gfmTableAlign(e,o){let a=!1;const c=[];for(;o<e.length;){const d=e[o];if(a){if(d[0]==="enter")d[1].type==="tableContent"&&c.push(e[o+1][1].type==="tableDelimiterMarker"?"left":"none");else if(d[1].type==="tableContent"){if(e[o-1][1].type==="tableDelimiterMarker"){const g=c.length-1;c[g]=c[g]==="left"?"center":"right"}}else if(d[1].type==="tableDelimiterRow")break}else d[0]==="enter"&&d[1].type==="tableDelimiterRow"&&(a=!0);o+=1}return c}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(e,o,a){const c=this;let d=0,g=0,b;return _;function _(Np){let zp=c.events.length-1;for(;zp>-1;){const D0=c.events[zp][1].type;if(D0==="lineEnding"||D0==="linePrefix")zp--;else break}const h0=zp>-1?c.events[zp][1].type:null,k0=h0==="tableHead"||h0==="tableRow"?Uu:$;return k0===Uu&&c.parser.lazy[c.now().line]?a(Np):k0(Np)}function $(Np){return e.enter("tableHead"),e.enter("tableRow"),j(Np)}function j(Np){return Np===124||(b=!0,g+=1),rt(Np)}function rt(Np){return Np===null?a(Np):markdownLineEnding$1(Np)?g>1?(g=0,c.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(Np),e.exit("lineEnding"),xl):a(Np):markdownSpace$1(Np)?factorySpace$1(e,rt,"whitespace")(Np):(g+=1,b&&(b=!1,d+=1),Np===124?(e.enter("tableCellDivider"),e.consume(Np),e.exit("tableCellDivider"),b=!0,rt):(e.enter("data"),nt(Np)))}function nt(Np){return Np===null||Np===124||markdownLineEndingOrSpace$1(Np)?(e.exit("data"),rt(Np)):(e.consume(Np),Np===92?In:nt)}function In(Np){return Np===92||Np===124?(e.consume(Np),nt):nt(Np)}function xl(Np){return c.interrupt=!1,c.parser.lazy[c.now().line]?a(Np):(e.enter("tableDelimiterRow"),b=!1,markdownSpace$1(Np)?factorySpace$1(e,Ll,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Np):Ll(Np))}function Ll(Np){return Np===45||Np===58?_u(Np):Np===124?(b=!0,e.enter("tableCellDivider"),e.consume(Np),e.exit("tableCellDivider"),Nl):Ju(Np)}function Nl(Np){return markdownSpace$1(Np)?factorySpace$1(e,_u,"whitespace")(Np):_u(Np)}function _u(Np){return Np===58?(g+=1,b=!0,e.enter("tableDelimiterMarker"),e.consume(Np),e.exit("tableDelimiterMarker"),Yl):Np===45?(g+=1,Yl(Np)):Np===null||markdownLineEnding$1(Np)?Zl(Np):Ju(Np)}function Yl(Np){return Np===45?(e.enter("tableDelimiterFiller"),Ul(Np)):Ju(Np)}function Ul(Np){return Np===45?(e.consume(Np),Ul):Np===58?(b=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(Np),e.exit("tableDelimiterMarker"),Dl):(e.exit("tableDelimiterFiller"),Dl(Np))}function Dl(Np){return markdownSpace$1(Np)?factorySpace$1(e,Zl,"whitespace")(Np):Zl(Np)}function Zl(Np){return Np===124?Ll(Np):Np===null||markdownLineEnding$1(Np)?!b||d!==g?Ju(Np):(e.exit("tableDelimiterRow"),e.exit("tableHead"),o(Np)):Ju(Np)}function Ju(Np){return a(Np)}function Uu(Np){return e.enter("tableRow"),fp(Np)}function fp(Np){return Np===124?(e.enter("tableCellDivider"),e.consume(Np),e.exit("tableCellDivider"),fp):Np===null||markdownLineEnding$1(Np)?(e.exit("tableRow"),o(Np)):markdownSpace$1(Np)?factorySpace$1(e,fp,"whitespace")(Np):(e.enter("data"),Zu(Np))}function Zu(Np){return Np===null||Np===124||markdownLineEndingOrSpace$1(Np)?(e.exit("data"),fp(Np)):(e.consume(Np),Np===92?Lp:Zu)}function Lp(Np){return Np===92||Np===124?(e.consume(Np),Zu):Zu(Np)}}function resolveTable(e,o){let a=-1,c=!0,d=0,g=[0,0,0,0],b=[0,0,0,0],_=!1,$=0,j,rt,nt;const In=new EditMap;for(;++a<e.length;){const xl=e[a],Ll=xl[1];xl[0]==="enter"?Ll.type==="tableHead"?(_=!1,$!==0&&(flushTableEnd(In,o,$,j,rt),rt=void 0,$=0),j={type:"table",start:Object.assign({},Ll.start),end:Object.assign({},Ll.end)},In.add(a,0,[["enter",j,o]])):Ll.type==="tableRow"||Ll.type==="tableDelimiterRow"?(c=!0,nt=void 0,g=[0,0,0,0],b=[0,a+1,0,0],_&&(_=!1,rt={type:"tableBody",start:Object.assign({},Ll.start),end:Object.assign({},Ll.end)},In.add(a,0,[["enter",rt,o]])),d=Ll.type==="tableDelimiterRow"?2:rt?3:1):d&&(Ll.type==="data"||Ll.type==="tableDelimiterMarker"||Ll.type==="tableDelimiterFiller")?(c=!1,b[2]===0&&(g[1]!==0&&(b[0]=b[1],nt=flushCell(In,o,g,d,void 0,nt),g=[0,0,0,0]),b[2]=a)):Ll.type==="tableCellDivider"&&(c?c=!1:(g[1]!==0&&(b[0]=b[1],nt=flushCell(In,o,g,d,void 0,nt)),g=b,b=[g[1],a,0,0])):Ll.type==="tableHead"?(_=!0,$=a):Ll.type==="tableRow"||Ll.type==="tableDelimiterRow"?($=a,g[1]!==0?(b[0]=b[1],nt=flushCell(In,o,g,d,a,nt)):b[1]!==0&&(nt=flushCell(In,o,b,d,a,nt)),d=0):d&&(Ll.type==="data"||Ll.type==="tableDelimiterMarker"||Ll.type==="tableDelimiterFiller")&&(b[3]=a)}for($!==0&&flushTableEnd(In,o,$,j,rt),In.consume(o.events),a=-1;++a<o.events.length;){const xl=o.events[a];xl[0]==="enter"&&xl[1].type==="table"&&(xl[1]._align=gfmTableAlign(o.events,a))}return e}function flushCell(e,o,a,c,d,g){const b=c===1?"tableHeader":c===2?"tableDelimiter":"tableData",_="tableContent";a[0]!==0&&(g.end=Object.assign({},getPoint(o.events,a[0])),e.add(a[0],0,[["exit",g,o]]));const $=getPoint(o.events,a[1]);if(g={type:b,start:Object.assign({},$),end:Object.assign({},$)},e.add(a[1],0,[["enter",g,o]]),a[2]!==0){const j=getPoint(o.events,a[2]),rt=getPoint(o.events,a[3]),nt={type:_,start:Object.assign({},j),end:Object.assign({},rt)};if(e.add(a[2],0,[["enter",nt,o]]),c!==2){const In=o.events[a[2]],xl=o.events[a[3]];if(In[1].end=Object.assign({},xl[1].end),In[1].type="chunkText",In[1].contentType="text",a[3]>a[2]+1){const Ll=a[2]+1,Nl=a[3]-a[2]-1;e.add(Ll,Nl,[])}}e.add(a[3]+1,0,[["exit",nt,o]])}return d!==void 0&&(g.end=Object.assign({},getPoint(o.events,d)),e.add(d,0,[["exit",g,o]]),g=void 0),g}function flushTableEnd(e,o,a,c,d){const g=[],b=getPoint(o.events,a);d&&(d.end=Object.assign({},b),g.push(["exit",d,o])),c.end=Object.assign({},b),g.push(["exit",c,o]),e.add(a+1,0,g)}function getPoint(e,o){const a=e[o],c=a[0]==="enter"?"start":"end";return a[1][c]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(e,o,a){const c=this;return d;function d($){return c.previous!==null||!c._gfmTasklistFirstContentOfListItem?a($):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume($),e.exit("taskListCheckMarker"),g)}function g($){return markdownLineEndingOrSpace$1($)?(e.enter("taskListCheckValueUnchecked"),e.consume($),e.exit("taskListCheckValueUnchecked"),b):$===88||$===120?(e.enter("taskListCheckValueChecked"),e.consume($),e.exit("taskListCheckValueChecked"),b):a($)}function b($){return $===93?(e.enter("taskListCheckMarker"),e.consume($),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),_):a($)}function _($){return markdownLineEnding$1($)?o($):markdownSpace$1($)?e.check({tokenize:spaceThenNonSpace},o,a)($):a($)}}function spaceThenNonSpace(e,o,a){return factorySpace$1(e,c,"whitespace");function c(d){return d===null?a(d):o(d)}}function gfm(e){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(e),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(e){const o=this,a=e||emptyOptions,c=o.data(),d=c.micromarkExtensions||(c.micromarkExtensions=[]),g=c.fromMarkdownExtensions||(c.fromMarkdownExtensions=[]),b=c.toMarkdownExtensions||(c.toMarkdownExtensions=[]);d.push(gfm(a)),g.push(gfmFromMarkdown()),b.push(gfmToMarkdown(a))}function splice(e,o,a,c){const d=e.length;let g=0,b;if(o<0?o=-o>d?0:d+o:o=o>d?d:o,a=a>0?a:0,c.length<1e4)b=Array.from(c),b.unshift(o,a),e.splice(...b);else for(a&&e.splice(o,a);g<c.length;)b=c.slice(g,g+1e4),b.unshift(o,0),e.splice(...b),g+=1e4,o+=1e4}function markdownLineEnding(e){return e!==null&&e<-2}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownSpace(e){return e===-2||e===-1||e===32}function resolveAll(e,o,a){const c=[];let d=-1;for(;++d<e.length;){const g=e[d].resolveAll;g&&!c.includes(g)&&(o=g(o,a),c.push(g))}return o}function factorySpace(e,o,a,c){const d=c?c-1:Number.POSITIVE_INFINITY;let g=0;return b;function b($){return markdownSpace($)?(e.enter(a),_($)):o($)}function _($){return markdownSpace($)&&g++<d?(e.consume($),_):(e.exit(a),o($))}}const blankLine={tokenize:tokenizeBlankLine,partial:!0};function tokenizeBlankLine(e,o,a){return c;function c(g){return markdownSpace(g)?factorySpace(e,d,"linePrefix")(g):d(g)}function d(g){return g===null||markdownLineEnding(g)?o(g):a(g)}}function normalizeIdentifier$1(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const indent={tokenize:tokenizeIndent,partial:!0};function footnote$1(e={}){const o={tokenize:tokenizeFootnoteCall},a={tokenize:tokenizeNoteStart,resolveAll:resolveAllNote},c={add:"after",tokenize:tokenizeNoteEnd,resolveAll:resolveAllNote,resolveTo:resolveToNoteEnd},d={tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:footnoteDefinitionEnd},g={91:o};return e.inlineNotes&&(g[93]=c,g[94]=a),{_hiddenFootnoteSupport:{},document:{91:d},text:g}}function resolveAllNote(e){let o=-1,a;for(;++o<e.length;)a=e[o][1],e[o][0]==="enter"&&a.type==="inlineNoteStart"&&(a.type="data",e.splice(o+1,4));return e}function resolveToNoteEnd(e,o){let a=e.length-4,c,d;for(;a--;)if(c=e[a][1],e[a][0]==="enter"&&c.type==="inlineNoteStart"){d=a;break}const g={type:"inlineNote",start:Object.assign({},e[d][1].start),end:Object.assign({},e[e.length-1][1].end)},b={type:"inlineNoteText",start:Object.assign({},e[d+4][1].end),end:Object.assign({},e[e.length-3][1].start)},_=[["enter",g,o],e[d+1],e[d+2],e[d+3],e[d+4],["enter",b,o]];return splice(_,_.length,0,resolveAll(o.parser.constructs.insideSpan.null,e.slice(d+6,-4),o)),_.push(["exit",b,o],e[e.length-2],e[e.length-3],["exit",g,o]),splice(e,a,e.length-a,_),e}function tokenizeFootnoteCall(e,o,a){const c=this,d=c.parser.footnotes||(c.parser.footnotes=[]);let g=0,b;return _;function _(In){return e.enter("footnoteCall"),e.enter("footnoteCallLabelMarker"),e.consume(In),e.exit("footnoteCallLabelMarker"),$}function $(In){return In!==94?a(In):(e.enter("footnoteCallMarker"),e.consume(In),e.exit("footnoteCallMarker"),e.enter("footnoteCallString"),e.enter("chunkString").contentType="string",j)}function j(In){let xl;return In===null||In===91||g++>999?a(In):In===93?b?(e.exit("chunkString"),xl=e.exit("footnoteCallString"),d.includes(normalizeIdentifier$1(c.sliceSerialize(xl)))?nt(In):a(In)):a(In):(e.consume(In),markdownLineEndingOrSpace(In)||(b=!0),In===92?rt:j)}function rt(In){return In===91||In===92||In===93?(e.consume(In),g++,j):j(In)}function nt(In){return e.enter("footnoteCallLabelMarker"),e.consume(In),e.exit("footnoteCallLabelMarker"),e.exit("footnoteCall"),o}}function tokenizeNoteStart(e,o,a){return c;function c(g){return e.enter("inlineNoteStart"),e.enter("inlineNoteMarker"),e.consume(g),e.exit("inlineNoteMarker"),d}function d(g){return g!==91?a(g):(e.enter("inlineNoteStartMarker"),e.consume(g),e.exit("inlineNoteStartMarker"),e.exit("inlineNoteStart"),o)}}function tokenizeNoteEnd(e,o,a){const c=this;return d;function d(g){let b=c.events.length,_;for(;b--;)if(c.events[b][1].type==="inlineNoteStart"){_=!0;break}return _?(e.enter("inlineNoteEnd"),e.enter("inlineNoteEndMarker"),e.consume(g),e.exit("inlineNoteEndMarker"),e.exit("inlineNoteEnd"),o):a(g)}}function tokenizeDefinitionStart(e,o,a){const c=this,d=c.parser.footnotes||(c.parser.footnotes=[]);let g,b=0,_;return $;function $(Yl){return e.enter("footnoteDefinition")._container=!0,e.enter("footnoteDefinitionLabel"),e.enter("footnoteDefinitionLabelMarker"),e.consume(Yl),e.exit("footnoteDefinitionLabelMarker"),j}function j(Yl){return Yl!==94?a(Yl):(e.enter("footnoteDefinitionMarker"),e.consume(Yl),e.exit("footnoteDefinitionMarker"),e.enter("footnoteDefinitionLabelString"),rt)}function rt(Yl){let Ul;return Yl===null||Yl===91||b>999?a(Yl):Yl===93?_?(Ul=e.exit("footnoteDefinitionLabelString"),g=normalizeIdentifier$1(c.sliceSerialize(Ul)),e.enter("footnoteDefinitionLabelMarker"),e.consume(Yl),e.exit("footnoteDefinitionLabelMarker"),e.exit("footnoteDefinitionLabel"),xl):a(Yl):markdownLineEnding(Yl)?(e.enter("lineEnding"),e.consume(Yl),e.exit("lineEnding"),b++,rt):(e.enter("chunkString").contentType="string",nt(Yl))}function nt(Yl){return Yl===null||markdownLineEnding(Yl)||Yl===91||Yl===93||b>999?(e.exit("chunkString"),rt(Yl)):(markdownLineEndingOrSpace(Yl)||(_=!0),b++,e.consume(Yl),Yl===92?In:nt)}function In(Yl){return Yl===91||Yl===92||Yl===93?(e.consume(Yl),b++,nt):nt(Yl)}function xl(Yl){return Yl!==58?a(Yl):(e.enter("definitionMarker"),e.consume(Yl),e.exit("definitionMarker"),e.check(blankLine,Ll,Nl))}function Ll(Yl){return c.containerState.initialBlankLine=!0,_u(Yl)}function Nl(Yl){return markdownSpace(Yl)&&(e.enter("footnoteDefinitionWhitespace"),e.consume(Yl),e.exit("footnoteDefinitionWhitespace")),_u(Yl)}function _u(Yl){return d.includes(g)||d.push(g),o(Yl)}}function tokenizeDefinitionContinuation(e,o,a){const c=this;return e.check(blankLine,d,g);function d(b){return c.containerState.initialBlankLine&&(c.containerState.furtherBlankLines=!0),o(b)}function g(b){return c.containerState.furtherBlankLines||!markdownSpace(b)?a(b):(c.containerState.initialBlankLine=void 0,c.containerState.furtherBlankLines=void 0,e.attempt(indent,o,a)(b))}}function footnoteDefinitionEnd(e){e.exit("footnoteDefinition")}function tokenizeIndent(e,o,a){const c=this;return factorySpace(e,d,"footnoteDefinitionIndent",5);function d(g){const b=c.events[c.events.length-1];return b&&b[1].type==="footnoteDefinitionIndent"&&b[2].sliceSerialize(b[1],!0).length===4?o(g):a(g)}}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function decodeNumericCharacterReference(e,o){const a=Number.parseInt(e,o);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"":String.fromCharCode(a)}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,o,a){if(o)return o;if(a.charCodeAt(0)===35){const d=a.charCodeAt(1),g=d===120||d===88;return decodeNumericCharacterReference(a.slice(g?2:1),g?16:10)}return decodeNamedCharacterReference(a)||e}function association(e){return e.label||!e.identifier?e.label||"":decodeString(e.identifier)}function containerPhrasing(e,o,a){const c=o.indexStack,d=e.children||[],g=[];let b=-1,_=a.before;c.push(-1);let $=o.createTracker(a);for(;++b<d.length;){const j=d[b];let rt;if(c[c.length-1]=b,b+1<d.length){let nt=o.handle.handlers[d[b+1].type];nt&&nt.peek&&(nt=nt.peek),rt=nt?nt(d[b+1],e,o,{before:"",after:"",...$.current()}).charAt(0):""}else rt=a.after;g.length>0&&(_==="\r"||_===`
`)&&j.type==="html"&&(g[g.length-1]=g[g.length-1].replace(/(\r?\n|\r)$/," "),_=" ",$=o.createTracker(a),$.move(g.join(""))),g.push($.move(o.handle(j,e,o,{...$.current(),before:_,after:rt}))),_=g[g.length-1].slice(-1)}return c.pop(),g.join("")}function containerFlow(e,o,a){const c=o.indexStack,d=e.children||[],g=o.createTracker(a),b=[];let _=-1;for(c.push(-1);++_<d.length;){const $=d[_];c[c.length-1]=_,b.push(g.move(o.handle($,e,o,{before:`
`,after:`
`,...g.current()}))),$.type!=="list"&&(o.bulletLastUsed=void 0),_<d.length-1&&b.push(g.move(between($,d[_+1],e,o)))}return c.pop(),b.join("")}function between(e,o,a,c){let d=c.join.length;for(;d--;){const g=c.join[d](e,o,a,c);if(g===!0||g===1)break;if(typeof g=="number")return`
`.repeat(1+g);if(g===!1)return`

<!---->

`}return`

`}const eol=/\r?\n|\r/g;function indentLines(e,o){const a=[];let c=0,d=0,g;for(;g=eol.exec(e);)b(e.slice(c,g.index)),a.push(g[0]),c=g.index+g[0].length,d++;return b(e.slice(c)),a.join("");function b(_){a.push(o(_,d,!_))}}function patternCompile(e){if(!e._compiled){const o=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((o?"("+o+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function patternInScope(e,o){return listInScope(e,o.inConstruct,!0)&&!listInScope(e,o.notInConstruct,!1)}function listInScope(e,o,a){if(typeof o=="string"&&(o=[o]),!o||o.length===0)return a;let c=-1;for(;++c<o.length;)if(e.includes(o[c]))return!0;return!1}function safe(e,o,a){const c=(a.before||"")+(o||"")+(a.after||""),d=[],g=[],b={};let _=-1;for(;++_<e.unsafe.length;){const rt=e.unsafe[_];if(!patternInScope(e.stack,rt))continue;const nt=patternCompile(rt);let In;for(;In=nt.exec(c);){const xl="before"in rt||!!rt.atBreak,Ll="after"in rt,Nl=In.index+(xl?In[1].length:0);d.includes(Nl)?(b[Nl].before&&!xl&&(b[Nl].before=!1),b[Nl].after&&!Ll&&(b[Nl].after=!1)):(d.push(Nl),b[Nl]={before:xl,after:Ll})}}d.sort(numerical);let $=a.before?a.before.length:0;const j=c.length-(a.after?a.after.length:0);for(_=-1;++_<d.length;){const rt=d[_];rt<$||rt>=j||rt+1<j&&d[_+1]===rt+1&&b[rt].after&&!b[rt+1].before&&!b[rt+1].after||d[_-1]===rt-1&&b[rt].before&&!b[rt-1].before&&!b[rt-1].after||($!==rt&&g.push(escapeBackslashes(c.slice($,rt),"\\")),$=rt,/[!-/:-@[-`{-~]/.test(c.charAt(rt))&&(!a.encode||!a.encode.includes(c.charAt(rt)))?g.push("\\"):(g.push("&#x"+c.charCodeAt(rt).toString(16).toUpperCase()+";"),$++))}return g.push(escapeBackslashes(c.slice($,j),a.after)),g.join("")}function numerical(e,o){return e-o}function escapeBackslashes(e,o){const a=/\\(?=[!-/:-@[-`{-~])/g,c=[],d=[],g=e+o;let b=-1,_=0,$;for(;$=a.exec(g);)c.push($.index);for(;++b<c.length;)_!==c[b]&&d.push(e.slice(_,c[b])),d.push("\\"),_=c[b];return d.push(e.slice(_)),d.join("")}function track(e){const o=e||{},a=o.now||{};let c=o.lineShift||0,d=a.line||1,g=a.column||1;return{move:$,current:b,shift:_};function b(){return{now:{line:d,column:g},lineShift:c}}function _(j){c+=j}function $(j){const rt=j||"",nt=rt.split(/\r?\n|\r/g),In=nt[nt.length-1];return d+=nt.length-1,g=nt.length===1?g+In.length:1+In.length+c,rt}}const footnoteFromMarkdown={canContainEols:["footnote"],enter:{footnoteDefinition:enterFootnoteDefinition,footnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,footnoteCall:enterFootnoteCall,footnoteCallString:enterFootnoteCallString,inlineNote:enterNote},exit:{footnoteDefinition:exitFootnoteDefinition,footnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,footnoteCall:exitFootnoteCall,footnoteCallString:exitFootnoteCallString,inlineNote:exitNote}},footnoteToMarkdown={unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnote,footnoteDefinition,footnoteReference}};footnoteReference.peek=footnoteReferencePeek;footnote.peek=footnotePeek;function enterFootnoteDefinition(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(e){const o=this.resume(),a=this.stack[this.stack.length-1];a.label=o,a.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase()}function exitFootnoteDefinition(e){this.exit(e)}function enterFootnoteCall(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(e){const o=this.resume(),a=this.stack[this.stack.length-1];a.label=o,a.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase()}function exitFootnoteCall(e){this.exit(e)}function enterNote(e){this.enter({type:"footnote",children:[]},e)}function exitNote(e){this.exit(e)}function footnoteReference(e,o,a,c){const d=track(c);let g=d.move("[^");const b=a.enter("footnoteReference"),_=a.enter("reference");return g+=d.move(safe(a,association(e),{...d.current(),before:g,after:"]"})),_(),b(),g+=d.move("]"),g}function footnoteReferencePeek(){return"["}function footnote(e,o,a,c){const d=track(c);let g=d.move("^[");const b=a.enter("footnote"),_=a.enter("label");return g+=d.move(containerPhrasing(e,a,{...d.current(),before:g,after:"]"})),_(),b(),g+=d.move("]"),g}function footnotePeek(){return"^"}function footnoteDefinition(e,o,a,c){const d=track(c);let g=d.move("[^");const b=a.enter("footnoteDefinition"),_=a.enter("label");return g+=d.move(safe(a,association(e),{...d.current(),before:g,after:"]"})),_(),g+=d.move("]:"+(e.children&&e.children.length>0?" ":"")),d.shift(4),g+=d.move(indentLines(containerFlow(e,a,d.current()),$)),b(),g;function $(j,rt,nt){return rt?(nt?"":"    ")+j:j}}function remarkFootnotes(e={}){const o=this.data();a("micromarkExtensions",footnote$1(e)),a("fromMarkdownExtensions",footnoteFromMarkdown),a("toMarkdownExtensions",footnoteToMarkdown);function a(c,d){(o[c]?o[c]:o[c]=[]).push(d)}}const markdownEntries=["preface.md","superconductivity.md"];function ContributionsPage(){const[e,o]=reactExports.useState([]);return reactExports.useEffect(()=>{Promise.all(markdownEntries.map(a=>fetch(`./contributions/${a}`).then(c=>{if(!c.ok)throw new Error(`Failed to fetch ${a}`);return c.text()}))).then(a=>o(a)).catch(a=>{console.error(a),o([])})},[]),jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/develop/"},{name:"Extended dataset documentation",link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),e.length===0?"Loading...":e.map((a,c)=>{const d=`markdown-entry-${c}`;return jsxRuntimeExports$1.jsx("div",{className:"markdown-entry",id:d,children:jsxRuntimeExports$1.jsx(Markdown,{remarkPlugins:[remarkMath,remarkGfm,remarkFootnotes],rehypePlugins:[rehypeKatex],components:{a:({...g})=>{const b=g.href||"";return b.startsWith("#")?jsxRuntimeExports$1.jsx("a",{...g,onClick:$=>{$.preventDefault();const j=$.currentTarget.closest(".markdown-entry"),rt=j==null?void 0:j.querySelector(b);if(rt){const In=rt.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:In,behavior:"smooth"}),rt.classList.add("footnote-flash"),setTimeout(()=>{rt.classList.remove("footnote-flash")},2e3)}}}):jsxRuntimeExports$1.jsx("a",{...g,target:"_blank",rel:"noopener noreferrer"})}},children:a})},c)})]})})}function App(){return jsxRuntimeExports$1.jsx(HashRouter,{children:jsxRuntimeExports$1.jsxs(Routes,{children:[jsxRuntimeExports$1.jsx(Route,{path:"/",element:jsxRuntimeExports$1.jsx(MainPage,{})}),jsxRuntimeExports$1.jsx(Route,{path:"/details/:id/:method",element:jsxRuntimeExports$1.jsx(DetailPage,{})}),jsxRuntimeExports$1.jsx(Route,{path:"/contributions",element:jsxRuntimeExports$1.jsx(ContributionsPage,{})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports$1.jsx(React.StrictMode,{children:jsxRuntimeExports$1.jsx(App,{})}));
