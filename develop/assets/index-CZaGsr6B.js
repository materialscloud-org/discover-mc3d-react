var h6=Object.defineProperty;var p6=(e,o,a)=>o in e?h6(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a;var $5=(e,o,a)=>p6(e,typeof o!="symbol"?o+"":o,a);function _mergeNamespaces(e,o){for(var a=0;a<o.length;a++){const c=o[a];if(typeof c!="string"&&!Array.isArray(c)){for(const d in c)if(d!=="default"&&!(d in e)){const g=Object.getOwnPropertyDescriptor(c,d);g&&Object.defineProperty(e,d,g.get?g:{enumerable:!0,get:()=>c[d]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const b of g.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&c(b)}).observe(document,{childList:!0,subtree:!0});function a(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(d){if(d.ep)return;d.ep=!0;const g=a(d);fetch(d.href,g)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var o=e.default;if(typeof o=="function"){var a=function c(){return this instanceof c?Reflect.construct(o,arguments,this.constructor):o.apply(this,arguments)};a.prototype=o.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(c){var d=Object.getOwnPropertyDescriptor(e,c);Object.defineProperty(a,c,d.get?d:{enumerable:!0,get:function(){return e[c]}})}),a}var jsxRuntime$1={exports:{}},reactJsxRuntime_production_min$1={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$3=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$2={};function E$1(e,o,a){this.props=e,this.context=o,this.refs=D$2,this.updater=a||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,o){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,o,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,o,a){this.props=e,this.context=o,this.refs=D$2,this.updater=a||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,o,a){var c,d={},g=null,b=null;if(o!=null)for(c in o.ref!==void 0&&(b=o.ref),o.key!==void 0&&(g=""+o.key),o)J.call(o,c)&&!L$1.hasOwnProperty(c)&&(d[c]=o[c]);var _=arguments.length-2;if(_===1)d.children=a;else if(1<_){for(var $=Array(_),j=0;j<_;j++)$[j]=arguments[j+2];d.children=$}if(e&&e.defaultProps)for(c in _=e.defaultProps,_)d[c]===void 0&&(d[c]=_[c]);return{$$typeof:l$1,type:e,key:g,ref:b,props:d,_owner:K$1.current}}function N$3(e,o){return{$$typeof:l$1,type:e.type,key:o,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var o={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return o[a]})}var P$1=/\/+/g;function Q$1(e,o){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):o.toString(36)}function R$1(e,o,a,c,d){var g=typeof e;(g==="undefined"||g==="boolean")&&(e=null);var b=!1;if(e===null)b=!0;else switch(g){case"string":case"number":b=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:b=!0}}if(b)return b=e,d=d(b),e=c===""?"."+Q$1(b,0):c,I$1(d)?(a="",e!=null&&(a=e.replace(P$1,"$&/")+"/"),R$1(d,o,a,"",function(j){return j})):d!=null&&(O$1(d)&&(d=N$3(d,a+(!d.key||b&&b.key===d.key?"":(""+d.key).replace(P$1,"$&/")+"/")+e)),o.push(d)),1;if(b=0,c=c===""?".":c+":",I$1(e))for(var _=0;_<e.length;_++){g=e[_];var $=c+Q$1(g,_);b+=R$1(g,o,a,$,d)}else if($=A$1(e),typeof $=="function")for(e=$.call(e),_=0;!(g=e.next()).done;)g=g.value,$=c+Q$1(g,_++),b+=R$1(g,o,a,$,d);else if(g==="object")throw o=String(e),Error("Objects are not valid as a React child (found: "+(o==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":o)+"). If you meant to render a collection of children, use an array instead.");return b}function S$2(e,o,a){if(e==null)return e;var c=[],d=0;return R$1(e,c,"","",function(g){return o.call(a,g,d++)}),c}function T$3(e){if(e._status===-1){var o=e._result;o=o(),o.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=o)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};function X$1(){throw Error("act(...) is not supported in production builds of React.")}react_production_min.Children={map:S$2,forEach:function(e,o,a){S$2(e,function(){o.apply(this,arguments)},a)},count:function(e){var o=0;return S$2(e,function(){o++}),o},toArray:function(e){return S$2(e,function(o){return o})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$3;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.act=X$1;react_production_min.cloneElement=function(e,o,a){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=C$1({},e.props),d=e.key,g=e.ref,b=e._owner;if(o!=null){if(o.ref!==void 0&&(g=o.ref,b=K$1.current),o.key!==void 0&&(d=""+o.key),e.type&&e.type.defaultProps)var _=e.type.defaultProps;for($ in o)J.call(o,$)&&!L$1.hasOwnProperty($)&&(c[$]=o[$]===void 0&&_!==void 0?_[$]:o[$])}var $=arguments.length-2;if($===1)c.children=a;else if(1<$){_=Array($);for(var j=0;j<$;j++)_[j]=arguments[j+2];c.children=_}return{$$typeof:l$1,type:e.type,key:d,ref:g,props:c,_owner:b}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var o=M$1.bind(null,e);return o.type=e,o};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v$1,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$3}};react_production_min.memo=function(e,o){return{$$typeof:x,type:e,compare:o===void 0?null:o}};react_production_min.startTransition=function(e){var o=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=o}};react_production_min.unstable_act=X$1;react_production_min.useCallback=function(e,o){return U$1.current.useCallback(e,o)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,o){return U$1.current.useEffect(e,o)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,o,a){return U$1.current.useImperativeHandle(e,o,a)};react_production_min.useInsertionEffect=function(e,o){return U$1.current.useInsertionEffect(e,o)};react_production_min.useLayoutEffect=function(e,o){return U$1.current.useLayoutEffect(e,o)};react_production_min.useMemo=function(e,o){return U$1.current.useMemo(e,o)};react_production_min.useReducer=function(e,o,a){return U$1.current.useReducer(e,o,a)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,o,a){return U$1.current.useSyncExternalStore(e,o,a)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.3.1";react.exports=react_production_min;var reactExports=react.exports;const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k$1=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$2={key:!0,ref:!0,__self:!0,__source:!0};function q(e,o,a){var c,d={},g=null,b=null;a!==void 0&&(g=""+a),o.key!==void 0&&(g=""+o.key),o.ref!==void 0&&(b=o.ref);for(c in o)m$1.call(o,c)&&!p$2.hasOwnProperty(c)&&(d[c]=o[c]);if(e&&e.defaultProps)for(c in o=e.defaultProps,o)d[c]===void 0&&(d[c]=o[c]);return{$$typeof:k$1,type:e,key:g,ref:b,props:d,_owner:n.current}}reactJsxRuntime_production_min$1.Fragment=l;reactJsxRuntime_production_min$1.jsx=q;reactJsxRuntime_production_min$1.jsxs=q;jsxRuntime$1.exports=reactJsxRuntime_production_min$1;var jsxRuntimeExports$1=jsxRuntime$1.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function o(fp,_p){var ip=fp.length;fp.push(_p);e:for(;0<ip;){var gp=ip-1>>>1,Dp=fp[gp];if(0<d(Dp,_p))fp[gp]=_p,fp[ip]=Dp,ip=gp;else break e}}function a(fp){return fp.length===0?null:fp[0]}function c(fp){if(fp.length===0)return null;var _p=fp[0],ip=fp.pop();if(ip!==_p){fp[0]=ip;e:for(var gp=0,Dp=fp.length,Fp=Dp>>>1;gp<Fp;){var n0=2*(gp+1)-1,S0=fp[n0],C0=n0+1,P0=fp[C0];if(0>d(S0,ip))C0<Dp&&0>d(P0,S0)?(fp[gp]=P0,fp[C0]=ip,gp=C0):(fp[gp]=S0,fp[n0]=ip,gp=n0);else if(C0<Dp&&0>d(P0,ip))fp[gp]=P0,fp[C0]=ip,gp=C0;else break e}}return _p}function d(fp,_p){var ip=fp.sortIndex-_p.sortIndex;return ip!==0?ip:fp.id-_p.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;e.unstable_now=function(){return g.now()}}else{var b=Date,_=b.now();e.unstable_now=function(){return b.now()-_}}var $=[],j=[],rt=1,nt=null,st=3,jt=!1,wl=!1,Ft=!1,it=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,Ln=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Cl(fp){for(var _p=a(j);_p!==null;){if(_p.callback===null)c(j);else if(_p.startTime<=fp)c(j),_p.sortIndex=_p.expirationTime,o($,_p);else break;_p=a(j)}}function Tl(fp){if(Ft=!1,Cl(fp),!wl)if(a($)!==null)wl=!0,yp(zl);else{var _p=a(j);_p!==null&&xp(Tl,_p.startTime-fp)}}function zl(fp,_p){wl=!1,Ft&&(Ft=!1,ot(Dl),Dl=-1),jt=!0;var ip=st;try{for(Cl(_p),nt=a($);nt!==null&&(!(nt.expirationTime>_p)||fp&&!mu());){var gp=nt.callback;if(typeof gp=="function"){nt.callback=null,st=nt.priorityLevel;var Dp=gp(nt.expirationTime<=_p);_p=e.unstable_now(),typeof Dp=="function"?nt.callback=Dp:nt===a($)&&c($),Cl(_p)}else c($);nt=a($)}if(nt!==null)var Fp=!0;else{var n0=a(j);n0!==null&&xp(Tl,n0.startTime-_p),Fp=!1}return Fp}finally{nt=null,st=ip,jt=!1}}var In=!1,Ml=null,Dl=-1,Ul=5,Vl=-1;function mu(){return!(e.unstable_now()-Vl<Ul)}function rp(){if(Ml!==null){var fp=e.unstable_now();Vl=fp;var _p=!0;try{_p=Ml(!0,fp)}finally{_p?Ju():(In=!1,Ml=null)}}else In=!1}var Ju;if(typeof Ln=="function")Ju=function(){Ln(rp)};else if(typeof MessageChannel<"u"){var cp=new MessageChannel,hp=cp.port2;cp.port1.onmessage=rp,Ju=function(){hp.postMessage(null)}}else Ju=function(){it(rp,0)};function yp(fp){Ml=fp,In||(In=!0,Ju())}function xp(fp,_p){Dl=it(function(){fp(e.unstable_now())},_p)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fp){fp.callback=null},e.unstable_continueExecution=function(){wl||jt||(wl=!0,yp(zl))},e.unstable_forceFrameRate=function(fp){0>fp||125<fp?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ul=0<fp?Math.floor(1e3/fp):5},e.unstable_getCurrentPriorityLevel=function(){return st},e.unstable_getFirstCallbackNode=function(){return a($)},e.unstable_next=function(fp){switch(st){case 1:case 2:case 3:var _p=3;break;default:_p=st}var ip=st;st=_p;try{return fp()}finally{st=ip}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fp,_p){switch(fp){case 1:case 2:case 3:case 4:case 5:break;default:fp=3}var ip=st;st=fp;try{return _p()}finally{st=ip}},e.unstable_scheduleCallback=function(fp,_p,ip){var gp=e.unstable_now();switch(typeof ip=="object"&&ip!==null?(ip=ip.delay,ip=typeof ip=="number"&&0<ip?gp+ip:gp):ip=gp,fp){case 1:var Dp=-1;break;case 2:Dp=250;break;case 5:Dp=1073741823;break;case 4:Dp=1e4;break;default:Dp=5e3}return Dp=ip+Dp,fp={id:rt++,callback:_p,priorityLevel:fp,startTime:ip,expirationTime:Dp,sortIndex:-1},ip>gp?(fp.sortIndex=ip,o(j,fp),a($)===null&&fp===a(j)&&(Ft?(ot(Dl),Dl=-1):Ft=!0,xp(Tl,ip-gp))):(fp.sortIndex=Dp,o($,fp),wl||jt||(wl=!0,yp(zl))),fp},e.unstable_shouldYield=mu,e.unstable_wrapCallback=function(fp){var _p=st;return function(){var ip=st;st=_p;try{return fp.apply(this,arguments)}finally{st=ip}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$2=reactExports,ca$2=schedulerExports;function p$1(e){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$2=new Set,ea$2={};function fa$2(e,o){ha$2(e,o),ha$2(e+"Capture",o)}function ha$2(e,o){for(ea$2[e]=o,e=0;e<o.length;e++)da$2.add(o[e])}var ia$2=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$2=Object.prototype.hasOwnProperty,ka$2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$2={},ma$2={};function oa$2(e){return ja$2.call(ma$2,e)?!0:ja$2.call(la$2,e)?!1:ka$2.test(e)?ma$2[e]=!0:(la$2[e]=!0,!1)}function pa$2(e,o,a,c){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function qa$1(e,o,a,c){if(o===null||typeof o>"u"||pa$2(e,o,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function v(e,o,a,c,d,g,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=e,this.type=o,this.sanitizeURL=g,this.removeEmptyString=b}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new v(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var o=e[0];z[o]=new v(o,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new v(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new v(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new v(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new v(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var ra$2=/[\-:]([a-z])/g;function sa$2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var o=e.replace(ra$2,sa$2);z[o]=new v(o,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var o=e.replace(ra$2,sa$2);z[o]=new v(o,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var o=e.replace(ra$2,sa$2);z[o]=new v(o,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});function ta$2(e,o,a,c){var d=z.hasOwnProperty(o)?z[o]:null;(d!==null?d.type!==0:c||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(qa$1(o,a,d,c)&&(a=null),c||d===null?oa$2(o)&&(a===null?e.removeAttribute(o):e.setAttribute(o,""+a)):d.mustUseProperty?e[d.propertyName]=a===null?d.type===3?!1:"":a:(o=d.attributeName,c=d.attributeNamespace,a===null?e.removeAttribute(o):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?e.setAttributeNS(c,o,a):e.setAttribute(o,a))))}var ua$2=aa$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$2=Symbol.for("react.element"),wa$2=Symbol.for("react.portal"),ya$2=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$2=Symbol.for("react.profiler"),Ba$2=Symbol.for("react.provider"),Ca$2=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$2=Symbol.for("react.suspense"),Fa$2=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$2=Symbol.for("react.lazy"),Ia$2=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(e){return e===null||typeof e!="object"?null:(e=Ja$1&&e[Ja$1]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,La$2;function Ma$1(e){if(La$2===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);La$2=o&&o[1]||""}return`
`+La$2+e}var Na$2=!1;function Oa$2(e,o){if(!e||Na$2)return"";Na$2=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(j){var c=j}Reflect.construct(e,[],o)}else{try{o.call()}catch(j){c=j}e.call(o.prototype)}else{try{throw Error()}catch(j){c=j}e()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var d=j.stack.split(`
`),g=c.stack.split(`
`),b=d.length-1,_=g.length-1;1<=b&&0<=_&&d[b]!==g[_];)_--;for(;1<=b&&0<=_;b--,_--)if(d[b]!==g[_]){if(b!==1||_!==1)do if(b--,_--,0>_||d[b]!==g[_]){var $=`
`+d[b].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=b&&0<=_);break}}}finally{Na$2=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?Ma$1(e):""}function Pa$2(e){switch(e.tag){case 5:return Ma$1(e.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return e=Oa$2(e.type,!1),e;case 11:return e=Oa$2(e.type.render,!1),e;case 1:return e=Oa$2(e.type,!0),e;default:return""}}function Qa$1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ya$2:return"Fragment";case wa$2:return"Portal";case Aa$2:return"Profiler";case za$1:return"StrictMode";case Ea$2:return"Suspense";case Fa$2:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ca$2:return(e.displayName||"Context")+".Consumer";case Ba$2:return(e._context.displayName||"Context")+".Provider";case Da$1:var o=e.render;return e=e.displayName,e||(e=o.displayName||o.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ga$1:return o=e.displayName||null,o!==null?o:Qa$1(e.type)||"Memo";case Ha$2:o=e._payload,e=e._init;try{return Qa$1(e(o))}catch{}}return null}function Ra$2(e){var o=e.type;switch(e.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=o.render,e=e.displayName||e.name||"",o.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(o);case 8:return o===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Sa$2(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ta$2(e){var o=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ua$2(e){var o=Ta$2(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,o),c=""+e[o];if(!e.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(e,o,{configurable:!0,get:function(){return d.call(this)},set:function(b){c=""+b,g.call(this,b)}}),Object.defineProperty(e,o,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(b){c=""+b},stopTracking:function(){e._valueTracker=null,delete e[o]}}}}function Va$1(e){e._valueTracker||(e._valueTracker=Ua$2(e))}function Wa$1(e){if(!e)return!1;var o=e._valueTracker;if(!o)return!0;var a=o.getValue(),c="";return e&&(c=Ta$2(e)?e.checked?"true":"false":e.value),e=c,e!==a?(o.setValue(e),!0):!1}function Xa$1(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya$2(e,o){var a=o.checked;return A({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??e._wrapperState.initialChecked})}function Za$1(e,o){var a=o.defaultValue==null?"":o.defaultValue,c=o.checked!=null?o.checked:o.defaultChecked;a=Sa$2(o.value!=null?o.value:a),e._wrapperState={initialChecked:c,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ab(e,o){o=o.checked,o!=null&&ta$2(e,"checked",o,!1)}function bb(e,o){ab(e,o);var a=Sa$2(o.value),c=o.type;if(a!=null)c==="number"?(a===0&&e.value===""||e.value!=a)&&(e.value=""+a):e.value!==""+a&&(e.value=""+a);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}o.hasOwnProperty("value")?cb(e,o.type,a):o.hasOwnProperty("defaultValue")&&cb(e,o.type,Sa$2(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(e.defaultChecked=!!o.defaultChecked)}function db(e,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var c=o.type;if(!(c!=="submit"&&c!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+e._wrapperState.initialValue,a||o===e.value||(e.value=o),e.defaultValue=o}a=e.name,a!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,a!==""&&(e.name=a)}function cb(e,o,a){(o!=="number"||Xa$1(e.ownerDocument)!==e)&&(a==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+a&&(e.defaultValue=""+a))}var eb=Array.isArray;function fb(e,o,a,c){if(e=e.options,o){o={};for(var d=0;d<a.length;d++)o["$"+a[d]]=!0;for(a=0;a<e.length;a++)d=o.hasOwnProperty("$"+e[a].value),e[a].selected!==d&&(e[a].selected=d),d&&c&&(e[a].defaultSelected=!0)}else{for(a=""+Sa$2(a),o=null,d=0;d<e.length;d++){if(e[d].value===a){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}o!==null||e[d].disabled||(o=e[d])}o!==null&&(o.selected=!0)}}function gb(e,o){if(o.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},o,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hb(e,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(p$1(92));if(eb(a)){if(1<a.length)throw Error(p$1(93));a=a[0]}o=a}o==null&&(o=""),a=o}e._wrapperState={initialValue:Sa$2(a)}}function ib(e,o){var a=Sa$2(o.value),c=Sa$2(o.defaultValue);a!=null&&(a=""+a,a!==e.value&&(e.value=a),o.defaultValue==null&&e.defaultValue!==a&&(e.defaultValue=a)),c!=null&&(e.defaultValue=""+c)}function jb(e){var o=e.textContent;o===e._wrapperState.initialValue&&o!==""&&o!==null&&(e.value=o)}function kb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(e,o){return e==null||e==="http://www.w3.org/1999/xhtml"?kb(o):e==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mb,nb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,c,d){MSApp.execUnsafeLocalFunction(function(){return e(o,a,c,d)})}:e}(function(e,o){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=o;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;o.firstChild;)e.appendChild(o.firstChild)}});function ob(e,o){if(o){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=o;return}}e.textContent=o}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(e){qb.forEach(function(o){o=o+e.charAt(0).toUpperCase()+e.substring(1),pb[o]=pb[e]})});function rb(e,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||pb.hasOwnProperty(e)&&pb[e]?(""+o).trim():o+"px"}function sb(e,o){e=e.style;for(var a in o)if(o.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=rb(a,o[a],c);a==="float"&&(a="cssFloat"),c?e.setProperty(a,d):e[a]=d}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(e,o){if(o){if(tb[e]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(p$1(137,e));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(p$1(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(p$1(61))}if(o.style!=null&&typeof o.style!="object")throw Error(p$1(62))}}function vb(e,o){if(e.indexOf("-")===-1)return typeof o.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yb=null,zb=null,Ab=null;function Bb(e){if(e=Cb(e)){if(typeof yb!="function")throw Error(p$1(280));var o=e.stateNode;o&&(o=Db(o),yb(e.stateNode,e.type,o))}}function Eb(e){zb?Ab?Ab.push(e):Ab=[e]:zb=e}function Fb(){if(zb){var e=zb,o=Ab;if(Ab=zb=null,Bb(e),o)for(e=0;e<o.length;e++)Bb(o[e])}}function Gb(e,o){return e(o)}function Hb(){}var Ib=!1;function Jb(e,o,a){if(Ib)return e(o,a);Ib=!0;try{return Gb(e,o,a)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(e,o){var a=e.stateNode;if(a===null)return null;var c=Db(a);if(c===null)return null;a=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p$1(231,o,typeof a));return a}var Lb=!1;if(ia$2)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(e,o,a,c,d,g,b,_,$){var j=Array.prototype.slice.call(arguments,3);try{o.apply(a,j)}catch(rt){this.onError(rt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(e){Ob=!0,Pb=e}};function Tb(e,o,a,c,d,g,b,_,$){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(e,o,a,c,d,g,b,_,$){if(Tb.apply(this,arguments),Ob){if(Ob){var j=Pb;Ob=!1,Pb=null}else throw Error(p$1(198));Qb||(Qb=!0,Rb=j)}}function Vb(e){var o=e,a=e;if(e.alternate)for(;o.return;)o=o.return;else{e=o;do o=e,o.flags&4098&&(a=o.return),e=o.return;while(e)}return o.tag===3?a:null}function Wb(e){if(e.tag===13){var o=e.memoizedState;if(o===null&&(e=e.alternate,e!==null&&(o=e.memoizedState)),o!==null)return o.dehydrated}return null}function Xb(e){if(Vb(e)!==e)throw Error(p$1(188))}function Yb(e){var o=e.alternate;if(!o){if(o=Vb(e),o===null)throw Error(p$1(188));return o!==e?null:e}for(var a=e,c=o;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Xb(d),e;if(g===c)return Xb(d),o;g=g.sibling}throw Error(p$1(188))}if(a.return!==c.return)a=d,c=g;else{for(var b=!1,_=d.child;_;){if(_===a){b=!0,a=d,c=g;break}if(_===c){b=!0,c=d,a=g;break}_=_.sibling}if(!b){for(_=g.child;_;){if(_===a){b=!0,a=g,c=d;break}if(_===c){b=!0,c=g,a=d;break}_=_.sibling}if(!b)throw Error(p$1(189))}}if(a.alternate!==c)throw Error(p$1(190))}if(a.tag!==3)throw Error(p$1(188));return a.stateNode.current===a?e:o}function Zb(e){return e=Yb(e),e!==null?$b(e):null}function $b(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var o=$b(e);if(o!==null)return o;e=e.sibling}return null}var ac$1=ca$2.unstable_scheduleCallback,bc$1=ca$2.unstable_cancelCallback,cc$1=ca$2.unstable_shouldYield,dc$1=ca$2.unstable_requestPaint,B=ca$2.unstable_now,ec$1=ca$2.unstable_getCurrentPriorityLevel,fc$1=ca$2.unstable_ImmediatePriority,gc$1=ca$2.unstable_UserBlockingPriority,hc$1=ca$2.unstable_NormalPriority,ic$1=ca$2.unstable_LowPriority,jc$1=ca$2.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(e){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,e,void 0,(e.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(e){return e>>>=0,e===0?32:31-(pc$1(e)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function uc$1(e,o){var a=e.pendingLanes;if(a===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes,b=a&268435455;if(b!==0){var _=b&~d;_!==0?c=tc$1(_):(g&=b,g!==0&&(c=tc$1(g)))}else b=a&~d,b!==0?c=tc$1(b):g!==0&&(c=tc$1(g));if(c===0)return 0;if(o!==0&&o!==c&&!(o&d)&&(d=c&-c,g=o&-o,d>=g||d===16&&(g&4194240)!==0))return o;if(c&4&&(c|=a&16),o=e.entangledLanes,o!==0)for(e=e.entanglements,o&=c;0<o;)a=31-oc$1(o),d=1<<a,c|=e[a],o&=~d;return c}function vc$1(e,o){switch(e){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(e,o){for(var a=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,g=e.pendingLanes;0<g;){var b=31-oc$1(g),_=1<<b,$=d[b];$===-1?(!(_&a)||_&c)&&(d[b]=vc$1(_,o)):$<=o&&(e.expiredLanes|=_),g&=~_}}function xc$1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yc$1(){var e=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),e}function zc$1(e){for(var o=[],a=0;31>a;a++)o.push(e);return o}function Ac$1(e,o,a){e.pendingLanes|=o,o!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,o=31-oc$1(o),e[o]=a}function Bc$1(e,o){var a=e.pendingLanes&~o;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=o,e.mutableReadLanes&=o,e.entangledLanes&=o,o=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<a;){var d=31-oc$1(a),g=1<<d;o[d]=0,c[d]=-1,e[d]=-1,a&=~g}}function Cc$1(e,o){var a=e.entangledLanes|=o;for(e=e.entanglements;a;){var c=31-oc$1(a),d=1<<c;d&o|e[c]&o&&(e[c]|=o),a&=~d}}var C=0;function Dc$2(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$2(e,o){switch(e){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(o.pointerId)}}function Tc$2(e,o,a,c,d,g){return e===null||e.nativeEvent!==g?(e={blockedOn:o,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},o!==null&&(o=Cb(o),o!==null&&Fc$1(o)),e):(e.eventSystemFlags|=c,o=e.targetContainers,d!==null&&o.indexOf(d)===-1&&o.push(d),e)}function Uc$1(e,o,a,c,d){switch(o){case"focusin":return Lc$1=Tc$2(Lc$1,e,o,a,c,d),!0;case"dragenter":return Mc$1=Tc$2(Mc$1,e,o,a,c,d),!0;case"mouseover":return Nc$1=Tc$2(Nc$1,e,o,a,c,d),!0;case"pointerover":var g=d.pointerId;return Oc$1.set(g,Tc$2(Oc$1.get(g)||null,e,o,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Pc$1.set(g,Tc$2(Pc$1.get(g)||null,e,o,a,c,d)),!0}return!1}function Vc$1(e){var o=Wc$1(e.target);if(o!==null){var a=Vb(o);if(a!==null){if(o=a.tag,o===13){if(o=Wb(a),o!==null){e.blockedOn=o,Ic$1(e.priority,function(){Gc$1(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc$1(e){if(e.blockedOn!==null)return!1;for(var o=e.targetContainers;0<o.length;){var a=Yc$1(e.domEventName,e.eventSystemFlags,o[0],e.nativeEvent);if(a===null){a=e.nativeEvent;var c=new a.constructor(a.type,a);wb=c,a.target.dispatchEvent(c),wb=null}else return o=Cb(a),o!==null&&Fc$1(o),e.blockedOn=a,!1;o.shift()}return!0}function Zc$1(e,o,a){Xc$1(e)&&a.delete(o)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad(e,o){e.blockedOn===o&&(e.blockedOn=null,Jc$1||(Jc$1=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$1)))}function bd(e){function o(d){return ad(d,e)}if(0<Kc$1.length){ad(Kc$1[0],e);for(var a=1;a<Kc$1.length;a++){var c=Kc$1[a];c.blockedOn===e&&(c.blockedOn=null)}}for(Lc$1!==null&&ad(Lc$1,e),Mc$1!==null&&ad(Mc$1,e),Nc$1!==null&&ad(Nc$1,e),Oc$1.forEach(o),Pc$1.forEach(o),a=0;a<Qc$1.length;a++)c=Qc$1[a],c.blockedOn===e&&(c.blockedOn=null);for(;0<Qc$1.length&&(a=Qc$1[0],a.blockedOn===null);)Vc$1(a),a.blockedOn===null&&Qc$1.shift()}var cd=ua$2.ReactCurrentBatchConfig,dd=!0;function ed(e,o,a,c){var d=C,g=cd.transition;cd.transition=null;try{C=1,fd(e,o,a,c)}finally{C=d,cd.transition=g}}function gd(e,o,a,c){var d=C,g=cd.transition;cd.transition=null;try{C=4,fd(e,o,a,c)}finally{C=d,cd.transition=g}}function fd(e,o,a,c){if(dd){var d=Yc$1(e,o,a,c);if(d===null)hd(e,o,c,id,a),Sc$2(e,c);else if(Uc$1(d,e,o,a,c))c.stopPropagation();else if(Sc$2(e,c),o&4&&-1<Rc$1.indexOf(e)){for(;d!==null;){var g=Cb(d);if(g!==null&&Ec$1(g),g=Yc$1(e,o,a,c),g===null&&hd(e,o,c,id,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else hd(e,o,c,null,a)}}var id=null;function Yc$1(e,o,a,c){if(id=null,e=xb(c),e=Wc$1(e),e!==null)if(o=Vb(e),o===null)e=null;else if(a=o.tag,a===13){if(e=Wb(o),e!==null)return e;e=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;e=null}else o!==e&&(e=null);return id=e,null}function jd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var e,o=ld,a=o.length,c,d="value"in kd?kd.value:kd.textContent,g=d.length;for(e=0;e<a&&o[e]===d[e];e++);var b=a-e;for(c=1;c<=b&&o[a-c]===d[g-c];c++);return md=d.slice(e,1<c?1-c:void 0)}function od(e){var o=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&o===13&&(e=13)):e=o,e===10&&(e=13),32<=e||e===13?e:0}function pd(){return!0}function qd(){return!1}function rd(e){function o(a,c,d,g,b){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),o}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yd&&(yd&&e.type==="mousemove"?(wd=e.screenX-yd.screenX,xd=e.screenY-yd.screenY):xd=wd=0,yd=e),wd)},movementY:function(e){return"movementY"in e?e.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(e){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(e):(e=Od[e])?!!o[e]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(e){if(e.key){var o=Md[e.key]||e.key;if(o!=="Unidentified")return o}return e.type==="keypress"?(e=od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Nd[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(e){return e.type==="keypress"?od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia$2&&"CompositionEvent"in window,be$1=null;ia$2&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia$2&&"TextEvent"in window&&!be$1,de$2=ia$2&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(e,o){switch(e){case"keyup":return $d.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ie=!1;function je$1(e,o){switch(e){case"compositionend":return he$1(o);case"keypress":return o.which!==32?null:(fe$1=!0,ee$1);case"textInput":return e=o.data,e===ee$1&&fe$1?null:e;default:return null}}function ke$1(e,o){if(ie)return e==="compositionend"||!ae$1&&ge$1(e,o)?(e=nd(),md=ld=kd=null,ie=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return de$2&&o.locale!=="ko"?null:o.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o==="input"?!!le$1[e.type]:o==="textarea"}function ne$1(e,o,a,c){Eb(c),o=oe(o,"onChange"),0<o.length&&(a=new td$1("onChange","change",null,a,c),e.push({event:a,listeners:o}))}var pe$2=null,qe$1=null;function re$1(e){se(e,0)}function te$1(e){var o=ue$1(e);if(Wa$1(o))return e}function ve(e,o){if(e==="change")return o}var we$1=!1;if(ia$2){var xe$1;if(ia$2){var ye$1="oninput"in document;if(!ye$1){var ze$2=document.createElement("div");ze$2.setAttribute("oninput","return;"),ye$1=typeof ze$2.oninput=="function"}xe$1=ye$1}else xe$1=!1;we$1=xe$1&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$2&&(pe$2.detachEvent("onpropertychange",Be$1),qe$1=pe$2=null)}function Be$1(e){if(e.propertyName==="value"&&te$1(qe$1)){var o=[];ne$1(o,qe$1,e,xb(e)),Jb(re$1,o)}}function Ce$2(e,o,a){e==="focusin"?(Ae$1(),pe$2=o,qe$1=a,pe$2.attachEvent("onpropertychange",Be$1)):e==="focusout"&&Ae$1()}function De$1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return te$1(qe$1)}function Ee$2(e,o){if(e==="click")return te$1(o)}function Fe$1(e,o){if(e==="input"||e==="change")return te$1(o)}function Ge$1(e,o){return e===o&&(e!==0||1/e===1/o)||e!==e&&o!==o}var He$2=typeof Object.is=="function"?Object.is:Ge$1;function Ie$2(e,o){if(He$2(e,o))return!0;if(typeof e!="object"||e===null||typeof o!="object"||o===null)return!1;var a=Object.keys(e),c=Object.keys(o);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!ja$2.call(o,d)||!He$2(e[d],o[d]))return!1}return!0}function Je$1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ke$1(e,o){var a=Je$1(e);e=0;for(var c;a;){if(a.nodeType===3){if(c=e+a.textContent.length,e<=o&&c>=o)return{node:a,offset:o-e};e=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Je$1(a)}}function Le$1(e,o){return e&&o?e===o?!0:e&&e.nodeType===3?!1:o&&o.nodeType===3?Le$1(e,o.parentNode):"contains"in e?e.contains(o):e.compareDocumentPosition?!!(e.compareDocumentPosition(o)&16):!1:!1}function Me(){for(var e=window,o=Xa$1();o instanceof e.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)e=o.contentWindow;else break;o=Xa$1(e.document)}return o}function Ne$1(e){var o=e&&e.nodeName&&e.nodeName.toLowerCase();return o&&(o==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||o==="textarea"||e.contentEditable==="true")}function Oe$1(e){var o=Me(),a=e.focusedElem,c=e.selectionRange;if(o!==a&&a&&a.ownerDocument&&Le$1(a.ownerDocument.documentElement,a)){if(c!==null&&Ne$1(a)){if(o=c.start,e=c.end,e===void 0&&(e=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(e,a.value.length);else if(e=(o=a.ownerDocument||document)&&o.defaultView||window,e.getSelection){e=e.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!e.extend&&g>c&&(d=c,c=g,g=d),d=Ke$1(a,g);var b=Ke$1(a,c);d&&b&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==b.node||e.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(d.node,d.offset),e.removeAllRanges(),g>c?(e.addRange(o),e.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),e.addRange(o)))}}for(o=[],e=a;e=e.parentNode;)e.nodeType===1&&o.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)e=o[a],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Pe=ia$2&&"documentMode"in document&&11>=document.documentMode,Qe$2=null,Re$1=null,Se$2=null,Te$1=!1;function Ue$1(e,o,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Te$1||Qe$2==null||Qe$2!==Xa$1(c)||(c=Qe$2,"selectionStart"in c&&Ne$1(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Se$2&&Ie$2(Se$2,c)||(Se$2=c,c=oe(Re$1,"onSelect"),0<c.length&&(o=new td$1("onSelect","select",null,o,a),e.push({event:o,listeners:c}),o.target=Qe$2)))}function Ve$1(e,o){var a={};return a[e.toLowerCase()]=o.toLowerCase(),a["Webkit"+e]="webkit"+o,a["Moz"+e]="moz"+o,a}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$2={},Ye$2={};ia$2&&(Ye$2=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(e){if(Xe$2[e])return Xe$2[e];if(!We$1[e])return e;var o=We$1[e],a;for(a in o)if(o.hasOwnProperty(a)&&a in Ye$2)return Xe$2[e]=o[a];return e}var $e$2=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(e,o){df.set(e,o),fa$2(o,[e])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$2,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$2("onMouseEnter",["mouseout","mouseover"]);ha$2("onMouseLeave",["mouseout","mouseover"]);ha$2("onPointerEnter",["pointerout","pointerover"]);ha$2("onPointerLeave",["pointerout","pointerover"]);fa$2("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$2("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$2("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$2("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(e,o,a){var c=e.type||"unknown-event";e.currentTarget=a,Ub(c,o,void 0,e),e.currentTarget=null}function se(e,o){o=(o&4)!==0;for(var a=0;a<e.length;a++){var c=e[a],d=c.event;c=c.listeners;e:{var g=void 0;if(o)for(var b=c.length-1;0<=b;b--){var _=c[b],$=_.instance,j=_.currentTarget;if(_=_.listener,$!==g&&d.isPropagationStopped())break e;nf(d,_,j),g=$}else for(b=0;b<c.length;b++){if(_=c[b],$=_.instance,j=_.currentTarget,_=_.listener,$!==g&&d.isPropagationStopped())break e;nf(d,_,j),g=$}}}if(Qb)throw e=Rb,Qb=!1,Rb=null,e}function D$1(e,o){var a=o[of];a===void 0&&(a=o[of]=new Set);var c=e+"__bubble";a.has(c)||(pf(o,e,2,!1),a.add(c))}function qf(e,o,a){var c=0;o&&(c|=4),pf(a,e,c,o)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(e){if(!e[rf]){e[rf]=!0,da$2.forEach(function(a){a!=="selectionchange"&&(mf.has(a)||qf(a,!1,e),qf(a,!0,e))});var o=e.nodeType===9?e:e.ownerDocument;o===null||o[rf]||(o[rf]=!0,qf("selectionchange",!1,o))}}function pf(e,o,a,c){switch(jd(o)){case 1:var d=ed;break;case 4:d=gd;break;default:d=fd}a=d.bind(null,o,a,e),d=void 0,!Lb||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(o,a,{capture:!0,passive:d}):e.addEventListener(o,a,!0):d!==void 0?e.addEventListener(o,a,{passive:d}):e.addEventListener(o,a,!1)}function hd(e,o,a,c,d){var g=c;if(!(o&1)&&!(o&2)&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var _=c.stateNode.containerInfo;if(_===d||_.nodeType===8&&_.parentNode===d)break;if(b===4)for(b=c.return;b!==null;){var $=b.tag;if(($===3||$===4)&&($=b.stateNode.containerInfo,$===d||$.nodeType===8&&$.parentNode===d))return;b=b.return}for(;_!==null;){if(b=Wc$1(_),b===null)return;if($=b.tag,$===5||$===6){c=g=b;continue e}_=_.parentNode}}c=c.return}Jb(function(){var j=g,rt=xb(a),nt=[];e:{var st=df.get(e);if(st!==void 0){var jt=td$1,wl=e;switch(e){case"keypress":if(od(a)===0)break e;case"keydown":case"keyup":jt=Rd;break;case"focusin":wl="focus",jt=Fd;break;case"focusout":wl="blur",jt=Fd;break;case"beforeblur":case"afterblur":jt=Fd;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jt=Vd;break;case $e$2:case af:case bf:jt=Hd;break;case cf:jt=Xd;break;case"scroll":jt=vd;break;case"wheel":jt=Zd;break;case"copy":case"cut":case"paste":jt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jt=Td}var Ft=(o&4)!==0,it=!Ft&&e==="scroll",ot=Ft?st!==null?st+"Capture":null:st;Ft=[];for(var Ln=j,Cl;Ln!==null;){Cl=Ln;var Tl=Cl.stateNode;if(Cl.tag===5&&Tl!==null&&(Cl=Tl,ot!==null&&(Tl=Kb(Ln,ot),Tl!=null&&Ft.push(tf(Ln,Tl,Cl)))),it)break;Ln=Ln.return}0<Ft.length&&(st=new jt(st,wl,null,a,rt),nt.push({event:st,listeners:Ft}))}}if(!(o&7)){e:{if(st=e==="mouseover"||e==="pointerover",jt=e==="mouseout"||e==="pointerout",st&&a!==wb&&(wl=a.relatedTarget||a.fromElement)&&(Wc$1(wl)||wl[uf]))break e;if((jt||st)&&(st=rt.window===rt?rt:(st=rt.ownerDocument)?st.defaultView||st.parentWindow:window,jt?(wl=a.relatedTarget||a.toElement,jt=j,wl=wl?Wc$1(wl):null,wl!==null&&(it=Vb(wl),wl!==it||wl.tag!==5&&wl.tag!==6)&&(wl=null)):(jt=null,wl=j),jt!==wl)){if(Ft=Bd,Tl="onMouseLeave",ot="onMouseEnter",Ln="mouse",(e==="pointerout"||e==="pointerover")&&(Ft=Td,Tl="onPointerLeave",ot="onPointerEnter",Ln="pointer"),it=jt==null?st:ue$1(jt),Cl=wl==null?st:ue$1(wl),st=new Ft(Tl,Ln+"leave",jt,a,rt),st.target=it,st.relatedTarget=Cl,Tl=null,Wc$1(rt)===j&&(Ft=new Ft(ot,Ln+"enter",wl,a,rt),Ft.target=Cl,Ft.relatedTarget=it,Tl=Ft),it=Tl,jt&&wl)t:{for(Ft=jt,ot=wl,Ln=0,Cl=Ft;Cl;Cl=vf(Cl))Ln++;for(Cl=0,Tl=ot;Tl;Tl=vf(Tl))Cl++;for(;0<Ln-Cl;)Ft=vf(Ft),Ln--;for(;0<Cl-Ln;)ot=vf(ot),Cl--;for(;Ln--;){if(Ft===ot||ot!==null&&Ft===ot.alternate)break t;Ft=vf(Ft),ot=vf(ot)}Ft=null}else Ft=null;jt!==null&&wf(nt,st,jt,Ft,!1),wl!==null&&it!==null&&wf(nt,it,wl,Ft,!0)}}e:{if(st=j?ue$1(j):window,jt=st.nodeName&&st.nodeName.toLowerCase(),jt==="select"||jt==="input"&&st.type==="file")var zl=ve;else if(me$1(st))if(we$1)zl=Fe$1;else{zl=De$1;var In=Ce$2}else(jt=st.nodeName)&&jt.toLowerCase()==="input"&&(st.type==="checkbox"||st.type==="radio")&&(zl=Ee$2);if(zl&&(zl=zl(e,j))){ne$1(nt,zl,a,rt);break e}In&&In(e,st,j),e==="focusout"&&(In=st._wrapperState)&&In.controlled&&st.type==="number"&&cb(st,"number",st.value)}switch(In=j?ue$1(j):window,e){case"focusin":(me$1(In)||In.contentEditable==="true")&&(Qe$2=In,Re$1=j,Se$2=null);break;case"focusout":Se$2=Re$1=Qe$2=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(nt,a,rt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue$1(nt,a,rt)}var Ml;if(ae$1)e:{switch(e){case"compositionstart":var Dl="onCompositionStart";break e;case"compositionend":Dl="onCompositionEnd";break e;case"compositionupdate":Dl="onCompositionUpdate";break e}Dl=void 0}else ie?ge$1(e,a)&&(Dl="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Dl="onCompositionStart");Dl&&(de$2&&a.locale!=="ko"&&(ie||Dl!=="onCompositionStart"?Dl==="onCompositionEnd"&&ie&&(Ml=nd()):(kd=rt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),In=oe(j,Dl),0<In.length&&(Dl=new Ld(Dl,e,null,a,rt),nt.push({event:Dl,listeners:In}),Ml?Dl.data=Ml:(Ml=he$1(a),Ml!==null&&(Dl.data=Ml)))),(Ml=ce?je$1(e,a):ke$1(e,a))&&(j=oe(j,"onBeforeInput"),0<j.length&&(rt=new Ld("onBeforeInput","beforeinput",null,a,rt),nt.push({event:rt,listeners:j}),rt.data=Ml))}se(nt,o)})}function tf(e,o,a){return{instance:e,listener:o,currentTarget:a}}function oe(e,o){for(var a=o+"Capture",c=[];e!==null;){var d=e,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Kb(e,a),g!=null&&c.unshift(tf(e,g,d)),g=Kb(e,o),g!=null&&c.push(tf(e,g,d))),e=e.return}return c}function vf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,o,a,c,d){for(var g=o._reactName,b=[];a!==null&&a!==c;){var _=a,$=_.alternate,j=_.stateNode;if($!==null&&$===c)break;_.tag===5&&j!==null&&(_=j,d?($=Kb(a,g),$!=null&&b.unshift(tf(a,$,_))):d||($=Kb(a,g),$!=null&&b.push(tf(a,$,_)))),a=a.return}b.length!==0&&e.push({event:o,listeners:b})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(e){return(typeof e=="string"?e:""+e).replace(xf,`
`).replace(yf,"")}function Af(e,o,a){if(o=zf(o),zf(e)!==o&&a)throw Error(p$1(425))}function Bf(){}var Cf=null,Df=null;function Ef(e,o){return e==="textarea"||e==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(If)}:Ff;function If(e){setTimeout(function(){throw e})}function Kf(e,o){var a=o,c=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){e.removeChild(d),bd(o);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);bd(o)}function Lf(e){for(;e!=null;e=e.nextSibling){var o=e.nodeType;if(o===1||o===3)break;if(o===8){if(o=e.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return e}function Mf(e){e=e.previousSibling;for(var o=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return e;o--}else a==="/$"&&o++}e=e.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(e){var o=e[Of];if(o)return o;for(var a=e.parentNode;a;){if(o=a[uf]||a[Of]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(e=Mf(e);e!==null;){if(a=e[Of])return a;e=Mf(e)}return o}e=a,a=e.parentNode}return null}function Cb(e){return e=e[Of]||e[uf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ue$1(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$1(33))}function Db(e){return e[Pf]||null}var Sf=[],Tf=-1;function Uf(e){return{current:e}}function E(e){0>Tf||(e.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(e,o){Tf++,Sf[Tf]=e.current,e.current=o}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(e,o){var a=e.type.contextTypes;if(!a)return Vf;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===o)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=o[g];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=d),d}function Zf(e){return e=e.childContextTypes,e!=null}function $f(){E(Wf),E(H)}function ag(e,o,a){if(H.current!==Vf)throw Error(p$1(168));G(H,o),G(Wf,a)}function bg(e,o,a){var c=e.stateNode;if(o=o.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in o))throw Error(p$1(108,Ra$2(e)||"Unknown",d));return A({},a,c)}function cg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,e),G(Wf,Wf.current),!0}function dg(e,o,a){var c=e.stateNode;if(!c)throw Error(p$1(169));a?(e=bg(e,o,Xf),c.__reactInternalMemoizedMergedChildContext=e,E(Wf),E(H),G(H,e)):E(Wf),G(Wf,a)}var eg=null,fg=!1,gg=!1;function hg(e){eg===null?eg=[e]:eg.push(e)}function ig(e){fg=!0,hg(e)}function jg(){if(!gg&&eg!==null){gg=!0;var e=0,o=C;try{var a=eg;for(C=1;e<a.length;e++){var c=a[e];do c=c(!0);while(c!==null)}eg=null,fg=!1}catch(d){throw eg!==null&&(eg=eg.slice(e+1)),ac$1(fc$1,jg),d}finally{C=o,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(e,o){kg[lg++]=ng,kg[lg++]=mg,mg=e,ng=o}function ug(e,o,a){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=e;var c=rg;e=sg;var d=32-oc$1(c)-1;c&=~(1<<d),a+=1;var g=32-oc$1(o)+d;if(30<g){var b=d-d%5;g=(c&(1<<b)-1).toString(32),c>>=b,d-=b,rg=1<<32-oc$1(o)+d|a<<d|c,sg=g+e}else rg=1<<g|a<<d|c,sg=e}function vg(e){e.return!==null&&(tg(e,1),ug(e,1,0))}function wg(e){for(;e===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;e===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(e,o){var a=Bg(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=e,o=e.deletions,o===null?(e.deletions=[a],e.flags|=16):o.push(a)}function Cg(e,o){switch(e.tag){case 5:var a=e.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(e.stateNode=o,xg=e,yg=Lf(o.firstChild),!0):!1;case 6:return o=e.pendingProps===""||o.nodeType!==3?null:o,o!==null?(e.stateNode=o,xg=e,yg=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=qg!==null?{id:rg,overflow:sg}:null,e.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=Bg(18,null,null,0),a.stateNode=o,a.return=e,e.child=a,xg=e,yg=null,!0):!1;default:return!1}}function Dg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eg(e){if(I){var o=yg;if(o){var a=o;if(!Cg(e,o)){if(Dg(e))throw Error(p$1(418));o=Lf(a.nextSibling);var c=xg;o&&Cg(e,o)?Ag(c,a):(e.flags=e.flags&-4097|2,I=!1,xg=e)}}else{if(Dg(e))throw Error(p$1(418));e.flags=e.flags&-4097|2,I=!1,xg=e}}}function Fg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xg=e}function Gg(e){if(e!==xg)return!1;if(!I)return Fg(e),I=!0,!1;var o;if((o=e.tag!==3)&&!(o=e.tag!==5)&&(o=e.type,o=o!=="head"&&o!=="body"&&!Ef(e.type,e.memoizedProps)),o&&(o=yg)){if(Dg(e))throw Hg(),Error(p$1(418));for(;o;)Ag(e,o),o=Lf(o.nextSibling)}if(Fg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$1(317));e:{for(e=e.nextSibling,o=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"){if(o===0){yg=Lf(e.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}e=e.nextSibling}yg=null}}else yg=xg?Lf(e.stateNode.nextSibling):null;return!0}function Hg(){for(var e=yg;e;)e=Lf(e.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(e){zg===null?zg=[e]:zg.push(e)}var Kg=ua$2.ReactCurrentBatchConfig;function Lg(e,o,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(p$1(309));var c=a.stateNode}if(!c)throw Error(p$1(147,e));var d=c,g=""+e;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(b){var _=d.refs;b===null?delete _[g]:_[g]=b},o._stringRef=g,o)}if(typeof e!="string")throw Error(p$1(284));if(!a._owner)throw Error(p$1(290,e))}return e}function Mg(e,o){throw e=Object.prototype.toString.call(o),Error(p$1(31,e==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":e))}function Ng(e){var o=e._init;return o(e._payload)}function Og(e){function o(ot,Ln){if(e){var Cl=ot.deletions;Cl===null?(ot.deletions=[Ln],ot.flags|=16):Cl.push(Ln)}}function a(ot,Ln){if(!e)return null;for(;Ln!==null;)o(ot,Ln),Ln=Ln.sibling;return null}function c(ot,Ln){for(ot=new Map;Ln!==null;)Ln.key!==null?ot.set(Ln.key,Ln):ot.set(Ln.index,Ln),Ln=Ln.sibling;return ot}function d(ot,Ln){return ot=Pg(ot,Ln),ot.index=0,ot.sibling=null,ot}function g(ot,Ln,Cl){return ot.index=Cl,e?(Cl=ot.alternate,Cl!==null?(Cl=Cl.index,Cl<Ln?(ot.flags|=2,Ln):Cl):(ot.flags|=2,Ln)):(ot.flags|=1048576,Ln)}function b(ot){return e&&ot.alternate===null&&(ot.flags|=2),ot}function _(ot,Ln,Cl,Tl){return Ln===null||Ln.tag!==6?(Ln=Qg(Cl,ot.mode,Tl),Ln.return=ot,Ln):(Ln=d(Ln,Cl),Ln.return=ot,Ln)}function $(ot,Ln,Cl,Tl){var zl=Cl.type;return zl===ya$2?rt(ot,Ln,Cl.props.children,Tl,Cl.key):Ln!==null&&(Ln.elementType===zl||typeof zl=="object"&&zl!==null&&zl.$$typeof===Ha$2&&Ng(zl)===Ln.type)?(Tl=d(Ln,Cl.props),Tl.ref=Lg(ot,Ln,Cl),Tl.return=ot,Tl):(Tl=Rg(Cl.type,Cl.key,Cl.props,null,ot.mode,Tl),Tl.ref=Lg(ot,Ln,Cl),Tl.return=ot,Tl)}function j(ot,Ln,Cl,Tl){return Ln===null||Ln.tag!==4||Ln.stateNode.containerInfo!==Cl.containerInfo||Ln.stateNode.implementation!==Cl.implementation?(Ln=Sg(Cl,ot.mode,Tl),Ln.return=ot,Ln):(Ln=d(Ln,Cl.children||[]),Ln.return=ot,Ln)}function rt(ot,Ln,Cl,Tl,zl){return Ln===null||Ln.tag!==7?(Ln=Tg(Cl,ot.mode,Tl,zl),Ln.return=ot,Ln):(Ln=d(Ln,Cl),Ln.return=ot,Ln)}function nt(ot,Ln,Cl){if(typeof Ln=="string"&&Ln!==""||typeof Ln=="number")return Ln=Qg(""+Ln,ot.mode,Cl),Ln.return=ot,Ln;if(typeof Ln=="object"&&Ln!==null){switch(Ln.$$typeof){case va$2:return Cl=Rg(Ln.type,Ln.key,Ln.props,null,ot.mode,Cl),Cl.ref=Lg(ot,null,Ln),Cl.return=ot,Cl;case wa$2:return Ln=Sg(Ln,ot.mode,Cl),Ln.return=ot,Ln;case Ha$2:var Tl=Ln._init;return nt(ot,Tl(Ln._payload),Cl)}if(eb(Ln)||Ka$1(Ln))return Ln=Tg(Ln,ot.mode,Cl,null),Ln.return=ot,Ln;Mg(ot,Ln)}return null}function st(ot,Ln,Cl,Tl){var zl=Ln!==null?Ln.key:null;if(typeof Cl=="string"&&Cl!==""||typeof Cl=="number")return zl!==null?null:_(ot,Ln,""+Cl,Tl);if(typeof Cl=="object"&&Cl!==null){switch(Cl.$$typeof){case va$2:return Cl.key===zl?$(ot,Ln,Cl,Tl):null;case wa$2:return Cl.key===zl?j(ot,Ln,Cl,Tl):null;case Ha$2:return zl=Cl._init,st(ot,Ln,zl(Cl._payload),Tl)}if(eb(Cl)||Ka$1(Cl))return zl!==null?null:rt(ot,Ln,Cl,Tl,null);Mg(ot,Cl)}return null}function jt(ot,Ln,Cl,Tl,zl){if(typeof Tl=="string"&&Tl!==""||typeof Tl=="number")return ot=ot.get(Cl)||null,_(Ln,ot,""+Tl,zl);if(typeof Tl=="object"&&Tl!==null){switch(Tl.$$typeof){case va$2:return ot=ot.get(Tl.key===null?Cl:Tl.key)||null,$(Ln,ot,Tl,zl);case wa$2:return ot=ot.get(Tl.key===null?Cl:Tl.key)||null,j(Ln,ot,Tl,zl);case Ha$2:var In=Tl._init;return jt(ot,Ln,Cl,In(Tl._payload),zl)}if(eb(Tl)||Ka$1(Tl))return ot=ot.get(Cl)||null,rt(Ln,ot,Tl,zl,null);Mg(Ln,Tl)}return null}function wl(ot,Ln,Cl,Tl){for(var zl=null,In=null,Ml=Ln,Dl=Ln=0,Ul=null;Ml!==null&&Dl<Cl.length;Dl++){Ml.index>Dl?(Ul=Ml,Ml=null):Ul=Ml.sibling;var Vl=st(ot,Ml,Cl[Dl],Tl);if(Vl===null){Ml===null&&(Ml=Ul);break}e&&Ml&&Vl.alternate===null&&o(ot,Ml),Ln=g(Vl,Ln,Dl),In===null?zl=Vl:In.sibling=Vl,In=Vl,Ml=Ul}if(Dl===Cl.length)return a(ot,Ml),I&&tg(ot,Dl),zl;if(Ml===null){for(;Dl<Cl.length;Dl++)Ml=nt(ot,Cl[Dl],Tl),Ml!==null&&(Ln=g(Ml,Ln,Dl),In===null?zl=Ml:In.sibling=Ml,In=Ml);return I&&tg(ot,Dl),zl}for(Ml=c(ot,Ml);Dl<Cl.length;Dl++)Ul=jt(Ml,ot,Dl,Cl[Dl],Tl),Ul!==null&&(e&&Ul.alternate!==null&&Ml.delete(Ul.key===null?Dl:Ul.key),Ln=g(Ul,Ln,Dl),In===null?zl=Ul:In.sibling=Ul,In=Ul);return e&&Ml.forEach(function(mu){return o(ot,mu)}),I&&tg(ot,Dl),zl}function Ft(ot,Ln,Cl,Tl){var zl=Ka$1(Cl);if(typeof zl!="function")throw Error(p$1(150));if(Cl=zl.call(Cl),Cl==null)throw Error(p$1(151));for(var In=zl=null,Ml=Ln,Dl=Ln=0,Ul=null,Vl=Cl.next();Ml!==null&&!Vl.done;Dl++,Vl=Cl.next()){Ml.index>Dl?(Ul=Ml,Ml=null):Ul=Ml.sibling;var mu=st(ot,Ml,Vl.value,Tl);if(mu===null){Ml===null&&(Ml=Ul);break}e&&Ml&&mu.alternate===null&&o(ot,Ml),Ln=g(mu,Ln,Dl),In===null?zl=mu:In.sibling=mu,In=mu,Ml=Ul}if(Vl.done)return a(ot,Ml),I&&tg(ot,Dl),zl;if(Ml===null){for(;!Vl.done;Dl++,Vl=Cl.next())Vl=nt(ot,Vl.value,Tl),Vl!==null&&(Ln=g(Vl,Ln,Dl),In===null?zl=Vl:In.sibling=Vl,In=Vl);return I&&tg(ot,Dl),zl}for(Ml=c(ot,Ml);!Vl.done;Dl++,Vl=Cl.next())Vl=jt(Ml,ot,Dl,Vl.value,Tl),Vl!==null&&(e&&Vl.alternate!==null&&Ml.delete(Vl.key===null?Dl:Vl.key),Ln=g(Vl,Ln,Dl),In===null?zl=Vl:In.sibling=Vl,In=Vl);return e&&Ml.forEach(function(rp){return o(ot,rp)}),I&&tg(ot,Dl),zl}function it(ot,Ln,Cl,Tl){if(typeof Cl=="object"&&Cl!==null&&Cl.type===ya$2&&Cl.key===null&&(Cl=Cl.props.children),typeof Cl=="object"&&Cl!==null){switch(Cl.$$typeof){case va$2:e:{for(var zl=Cl.key,In=Ln;In!==null;){if(In.key===zl){if(zl=Cl.type,zl===ya$2){if(In.tag===7){a(ot,In.sibling),Ln=d(In,Cl.props.children),Ln.return=ot,ot=Ln;break e}}else if(In.elementType===zl||typeof zl=="object"&&zl!==null&&zl.$$typeof===Ha$2&&Ng(zl)===In.type){a(ot,In.sibling),Ln=d(In,Cl.props),Ln.ref=Lg(ot,In,Cl),Ln.return=ot,ot=Ln;break e}a(ot,In);break}else o(ot,In);In=In.sibling}Cl.type===ya$2?(Ln=Tg(Cl.props.children,ot.mode,Tl,Cl.key),Ln.return=ot,ot=Ln):(Tl=Rg(Cl.type,Cl.key,Cl.props,null,ot.mode,Tl),Tl.ref=Lg(ot,Ln,Cl),Tl.return=ot,ot=Tl)}return b(ot);case wa$2:e:{for(In=Cl.key;Ln!==null;){if(Ln.key===In)if(Ln.tag===4&&Ln.stateNode.containerInfo===Cl.containerInfo&&Ln.stateNode.implementation===Cl.implementation){a(ot,Ln.sibling),Ln=d(Ln,Cl.children||[]),Ln.return=ot,ot=Ln;break e}else{a(ot,Ln);break}else o(ot,Ln);Ln=Ln.sibling}Ln=Sg(Cl,ot.mode,Tl),Ln.return=ot,ot=Ln}return b(ot);case Ha$2:return In=Cl._init,it(ot,Ln,In(Cl._payload),Tl)}if(eb(Cl))return wl(ot,Ln,Cl,Tl);if(Ka$1(Cl))return Ft(ot,Ln,Cl,Tl);Mg(ot,Cl)}return typeof Cl=="string"&&Cl!==""||typeof Cl=="number"?(Cl=""+Cl,Ln!==null&&Ln.tag===6?(a(ot,Ln.sibling),Ln=d(Ln,Cl),Ln.return=ot,ot=Ln):(a(ot,Ln),Ln=Qg(Cl,ot.mode,Tl),Ln.return=ot,ot=Ln),b(ot)):a(ot,Ln)}return it}var Ug=Og(!0),Vg=Og(!1),Wg=Uf(null),Xg=null,Yg=null,Zg=null;function $g(){Zg=Yg=Xg=null}function ah(e){var o=Wg.current;E(Wg),e._currentValue=o}function bh(e,o,a){for(;e!==null;){var c=e.alternate;if((e.childLanes&o)!==o?(e.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),e===a)break;e=e.return}}function ch$1(e,o){Xg=e,Zg=Yg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&o&&(dh=!0),e.firstContext=null)}function eh(e){var o=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:o,next:null},Yg===null){if(Xg===null)throw Error(p$1(308));Yg=e,Xg.dependencies={lanes:0,firstContext:e}}else Yg=Yg.next=e;return o}var fh=null;function gh(e){fh===null?fh=[e]:fh.push(e)}function hh(e,o,a,c){var d=o.interleaved;return d===null?(a.next=a,gh(o)):(a.next=d.next,d.next=a),o.interleaved=a,ih(e,c)}function ih(e,o){e.lanes|=o;var a=e.alternate;for(a!==null&&(a.lanes|=o),a=e,e=e.return;e!==null;)e.childLanes|=o,a=e.alternate,a!==null&&(a.childLanes|=o),a=e,e=e.return;return a.tag===3?a.stateNode:null}var jh=!1;function kh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(e,o){e=e.updateQueue,o.updateQueue===e&&(o.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mh(e,o){return{eventTime:e,lane:o,tag:0,payload:null,callback:null,next:null}}function nh(e,o,a){var c=e.updateQueue;if(c===null)return null;if(c=c.shared,K&2){var d=c.pending;return d===null?o.next=o:(o.next=d.next,d.next=o),c.pending=o,ih(e,a)}return d=c.interleaved,d===null?(o.next=o,gh(c)):(o.next=d.next,d.next=o),c.interleaved=o,ih(e,a)}function oh(e,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var c=o.lanes;c&=e.pendingLanes,a|=c,o.lanes=a,Cc$1(e,a)}}function ph(e,o){var a=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var b={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=b:g=g.next=b,a=a.next}while(a!==null);g===null?d=g=o:g=g.next=o}else d=g=o;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=o:e.next=o,a.lastBaseUpdate=o}function qh(e,o,a,c){var d=e.updateQueue;jh=!1;var g=d.firstBaseUpdate,b=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var $=_,j=$.next;$.next=null,b===null?g=j:b.next=j,b=$;var rt=e.alternate;rt!==null&&(rt=rt.updateQueue,_=rt.lastBaseUpdate,_!==b&&(_===null?rt.firstBaseUpdate=j:_.next=j,rt.lastBaseUpdate=$))}if(g!==null){var nt=d.baseState;b=0,rt=j=$=null,_=g;do{var st=_.lane,jt=_.eventTime;if((c&st)===st){rt!==null&&(rt=rt.next={eventTime:jt,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var wl=e,Ft=_;switch(st=o,jt=a,Ft.tag){case 1:if(wl=Ft.payload,typeof wl=="function"){nt=wl.call(jt,nt,st);break e}nt=wl;break e;case 3:wl.flags=wl.flags&-65537|128;case 0:if(wl=Ft.payload,st=typeof wl=="function"?wl.call(jt,nt,st):wl,st==null)break e;nt=A({},nt,st);break e;case 2:jh=!0}}_.callback!==null&&_.lane!==0&&(e.flags|=64,st=d.effects,st===null?d.effects=[_]:st.push(_))}else jt={eventTime:jt,lane:st,tag:_.tag,payload:_.payload,callback:_.callback,next:null},rt===null?(j=rt=jt,$=nt):rt=rt.next=jt,b|=st;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;st=_,_=st.next,st.next=null,d.lastBaseUpdate=st,d.shared.pending=null}}while(!0);if(rt===null&&($=nt),d.baseState=$,d.firstBaseUpdate=j,d.lastBaseUpdate=rt,o=d.shared.interleaved,o!==null){d=o;do b|=d.lane,d=d.next;while(d!==o)}else g===null&&(d.shared.lanes=0);rh|=b,e.lanes=b,e.memoizedState=nt}}function sh(e,o,a){if(e=o.effects,o.effects=null,e!==null)for(o=0;o<e.length;o++){var c=e[o],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(p$1(191,d));d.call(c)}}}var th={},uh=Uf(th),vh=Uf(th),wh=Uf(th);function xh(e){if(e===th)throw Error(p$1(174));return e}function yh(e,o){switch(G(wh,o),G(vh,e),G(uh,th),e=o.nodeType,e){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:lb(null,"");break;default:e=e===8?o.parentNode:o,o=e.namespaceURI||null,e=e.tagName,o=lb(o,e)}E(uh),G(uh,o)}function zh(){E(uh),E(vh),E(wh)}function Ah(e){xh(wh.current);var o=xh(uh.current),a=lb(o,e.type);o!==a&&(G(vh,e),G(uh,a))}function Bh(e){vh.current===e&&(E(uh),E(vh))}var L=Uf(0);function Ch(e){for(var o=e;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Dh=[];function Eh(){for(var e=0;e<Dh.length;e++)Dh[e]._workInProgressVersionPrimary=null;Dh.length=0}var Fh=ua$2.ReactCurrentDispatcher,Gh=ua$2.ReactCurrentBatchConfig,Hh=0,M=null,N$2=null,O=null,Ih=!1,Jh=!1,Kh=0,Lh=0;function P(){throw Error(p$1(321))}function Mh(e,o){if(o===null)return!1;for(var a=0;a<o.length&&a<e.length;a++)if(!He$2(e[a],o[a]))return!1;return!0}function Nh(e,o,a,c,d,g){if(Hh=g,M=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Fh.current=e===null||e.memoizedState===null?Oh:Ph,e=a(c,d),Jh){g=0;do{if(Jh=!1,Kh=0,25<=g)throw Error(p$1(301));g+=1,O=N$2=null,o.updateQueue=null,Fh.current=Qh,e=a(c,d)}while(Jh)}if(Fh.current=Rh,o=N$2!==null&&N$2.next!==null,Hh=0,O=N$2=M=null,Ih=!1,o)throw Error(p$1(300));return e}function Sh(){var e=Kh!==0;return Kh=0,e}function Th(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return O===null?M.memoizedState=O=e:O=O.next=e,O}function Uh(){if(N$2===null){var e=M.alternate;e=e!==null?e.memoizedState:null}else e=N$2.next;var o=O===null?M.memoizedState:O.next;if(o!==null)O=o,N$2=e;else{if(e===null)throw Error(p$1(310));N$2=e,e={memoizedState:N$2.memoizedState,baseState:N$2.baseState,baseQueue:N$2.baseQueue,queue:N$2.queue,next:null},O===null?M.memoizedState=O=e:O=O.next=e}return O}function Vh(e,o){return typeof o=="function"?o(e):o}function Wh(e){var o=Uh(),a=o.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=e;var c=N$2,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var b=d.next;d.next=g.next,g.next=b}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var _=b=null,$=null,j=g;do{var rt=j.lane;if((Hh&rt)===rt)$!==null&&($=$.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:e(c,j.action);else{var nt={lane:rt,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};$===null?(_=$=nt,b=c):$=$.next=nt,M.lanes|=rt,rh|=rt}j=j.next}while(j!==null&&j!==g);$===null?b=c:$.next=_,He$2(c,o.memoizedState)||(dh=!0),o.memoizedState=c,o.baseState=b,o.baseQueue=$,a.lastRenderedState=c}if(e=a.interleaved,e!==null){d=e;do g=d.lane,M.lanes|=g,rh|=g,d=d.next;while(d!==e)}else d===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function Xh(e){var o=Uh(),a=o.queue;if(a===null)throw Error(p$1(311));a.lastRenderedReducer=e;var c=a.dispatch,d=a.pending,g=o.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do g=e(g,b.action),b=b.next;while(b!==d);He$2(g,o.memoizedState)||(dh=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),a.lastRenderedState=g}return[g,c]}function Yh(){}function Zh(e,o){var a=M,c=Uh(),d=o(),g=!He$2(c.memoizedState,d);if(g&&(c.memoizedState=d,dh=!0),c=c.queue,$h(ai$2.bind(null,a,c,e),[e]),c.getSnapshot!==o||g||O!==null&&O.memoizedState.tag&1){if(a.flags|=2048,bi$2(9,ci$2.bind(null,a,c,d,o),void 0,null),Q===null)throw Error(p$1(349));Hh&30||di$1(a,o,d)}return d}function di$1(e,o,a){e.flags|=16384,e={getSnapshot:o,value:a},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.stores=[e]):(a=o.stores,a===null?o.stores=[e]:a.push(e))}function ci$2(e,o,a,c){o.value=a,o.getSnapshot=c,ei$1(o)&&fi$1(e)}function ai$2(e,o,a){return a(function(){ei$1(o)&&fi$1(e)})}function ei$1(e){var o=e.getSnapshot;e=e.value;try{var a=o();return!He$2(e,a)}catch{return!0}}function fi$1(e){var o=ih(e,1);o!==null&&gi$1(o,e,1,-1)}function hi$1(e){var o=Th();return typeof e=="function"&&(e=e()),o.memoizedState=o.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:e},o.queue=e,e=e.dispatch=ii$1.bind(null,M,e),[o.memoizedState,e]}function bi$2(e,o,a,c){return e={tag:e,create:o,destroy:a,deps:c,next:null},o=M.updateQueue,o===null?(o={lastEffect:null,stores:null},M.updateQueue=o,o.lastEffect=e.next=e):(a=o.lastEffect,a===null?o.lastEffect=e.next=e:(c=a.next,a.next=e,e.next=c,o.lastEffect=e)),e}function ji$2(){return Uh().memoizedState}function ki$2(e,o,a,c){var d=Th();M.flags|=e,d.memoizedState=bi$2(1|o,a,void 0,c===void 0?null:c)}function li$2(e,o,a,c){var d=Uh();c=c===void 0?null:c;var g=void 0;if(N$2!==null){var b=N$2.memoizedState;if(g=b.destroy,c!==null&&Mh(c,b.deps)){d.memoizedState=bi$2(o,a,g,c);return}}M.flags|=e,d.memoizedState=bi$2(1|o,a,g,c)}function mi$1(e,o){return ki$2(8390656,8,e,o)}function $h(e,o){return li$2(2048,8,e,o)}function ni$1(e,o){return li$2(4,2,e,o)}function oi$1(e,o){return li$2(4,4,e,o)}function pi$1(e,o){if(typeof o=="function")return e=e(),o(e),function(){o(null)};if(o!=null)return e=e(),o.current=e,function(){o.current=null}}function qi$2(e,o,a){return a=a!=null?a.concat([e]):null,li$2(4,4,pi$1.bind(null,o,e),a)}function ri$2(){}function si$1(e,o){var a=Uh();o=o===void 0?null:o;var c=a.memoizedState;return c!==null&&o!==null&&Mh(o,c[1])?c[0]:(a.memoizedState=[e,o],e)}function ti$1(e,o){var a=Uh();o=o===void 0?null:o;var c=a.memoizedState;return c!==null&&o!==null&&Mh(o,c[1])?c[0]:(e=e(),a.memoizedState=[e,o],e)}function ui$2(e,o,a){return Hh&21?(He$2(a,o)||(a=yc$1(),M.lanes|=a,rh|=a,e.baseState=!0),o):(e.baseState&&(e.baseState=!1,dh=!0),e.memoizedState=a)}function vi$1(e,o){var a=C;C=a!==0&&4>a?a:4,e(!0);var c=Gh.transition;Gh.transition={};try{e(!1),o()}finally{C=a,Gh.transition=c}}function wi$2(){return Uh().memoizedState}function xi$1(e,o,a){var c=yi$2(e);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},zi$2(e))Ai$2(o,a);else if(a=hh(e,o,a,c),a!==null){var d=R();gi$1(a,e,c,d),Bi$2(a,o,c)}}function ii$1(e,o,a){var c=yi$2(e),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(zi$2(e))Ai$2(o,d);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var b=o.lastRenderedState,_=g(b,a);if(d.hasEagerState=!0,d.eagerState=_,He$2(_,b)){var $=o.interleaved;$===null?(d.next=d,gh(o)):(d.next=$.next,$.next=d),o.interleaved=d;return}}catch{}finally{}a=hh(e,o,d,c),a!==null&&(d=R(),gi$1(a,e,c,d),Bi$2(a,o,c))}}function zi$2(e){var o=e.alternate;return e===M||o!==null&&o===M}function Ai$2(e,o){Jh=Ih=!0;var a=e.pending;a===null?o.next=o:(o.next=a.next,a.next=o),e.pending=o}function Bi$2(e,o,a){if(a&4194240){var c=o.lanes;c&=e.pendingLanes,a|=c,o.lanes=a,Cc$1(e,a)}}var Rh={readContext:eh,useCallback:P,useContext:P,useEffect:P,useImperativeHandle:P,useInsertionEffect:P,useLayoutEffect:P,useMemo:P,useReducer:P,useRef:P,useState:P,useDebugValue:P,useDeferredValue:P,useTransition:P,useMutableSource:P,useSyncExternalStore:P,useId:P,unstable_isNewReconciler:!1},Oh={readContext:eh,useCallback:function(e,o){return Th().memoizedState=[e,o===void 0?null:o],e},useContext:eh,useEffect:mi$1,useImperativeHandle:function(e,o,a){return a=a!=null?a.concat([e]):null,ki$2(4194308,4,pi$1.bind(null,o,e),a)},useLayoutEffect:function(e,o){return ki$2(4194308,4,e,o)},useInsertionEffect:function(e,o){return ki$2(4,2,e,o)},useMemo:function(e,o){var a=Th();return o=o===void 0?null:o,e=e(),a.memoizedState=[e,o],e},useReducer:function(e,o,a){var c=Th();return o=a!==void 0?a(o):o,c.memoizedState=c.baseState=o,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},c.queue=e,e=e.dispatch=xi$1.bind(null,M,e),[c.memoizedState,e]},useRef:function(e){var o=Th();return e={current:e},o.memoizedState=e},useState:hi$1,useDebugValue:ri$2,useDeferredValue:function(e){return Th().memoizedState=e},useTransition:function(){var e=hi$1(!1),o=e[0];return e=vi$1.bind(null,e[1]),Th().memoizedState=e,[o,e]},useMutableSource:function(){},useSyncExternalStore:function(e,o,a){var c=M,d=Th();if(I){if(a===void 0)throw Error(p$1(407));a=a()}else{if(a=o(),Q===null)throw Error(p$1(349));Hh&30||di$1(c,o,a)}d.memoizedState=a;var g={value:a,getSnapshot:o};return d.queue=g,mi$1(ai$2.bind(null,c,g,e),[e]),c.flags|=2048,bi$2(9,ci$2.bind(null,c,g,a,o),void 0,null),a},useId:function(){var e=Th(),o=Q.identifierPrefix;if(I){var a=sg,c=rg;a=(c&~(1<<32-oc$1(c)-1)).toString(32)+a,o=":"+o+"R"+a,a=Kh++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=Lh++,o=":"+o+"r"+a.toString(32)+":";return e.memoizedState=o},unstable_isNewReconciler:!1},Ph={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Wh,useRef:ji$2,useState:function(){return Wh(Vh)},useDebugValue:ri$2,useDeferredValue:function(e){var o=Uh();return ui$2(o,N$2.memoizedState,e)},useTransition:function(){var e=Wh(Vh)[0],o=Uh().memoizedState;return[e,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$2,unstable_isNewReconciler:!1},Qh={readContext:eh,useCallback:si$1,useContext:eh,useEffect:$h,useImperativeHandle:qi$2,useInsertionEffect:ni$1,useLayoutEffect:oi$1,useMemo:ti$1,useReducer:Xh,useRef:ji$2,useState:function(){return Xh(Vh)},useDebugValue:ri$2,useDeferredValue:function(e){var o=Uh();return N$2===null?o.memoizedState=e:ui$2(o,N$2.memoizedState,e)},useTransition:function(){var e=Xh(Vh)[0],o=Uh().memoizedState;return[e,o]},useMutableSource:Yh,useSyncExternalStore:Zh,useId:wi$2,unstable_isNewReconciler:!1};function Ci$2(e,o){if(e&&e.defaultProps){o=A({},o),e=e.defaultProps;for(var a in e)o[a]===void 0&&(o[a]=e[a]);return o}return o}function Di$2(e,o,a,c){o=e.memoizedState,a=a(c,o),a=a==null?o:A({},o,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ei$1={isMounted:function(e){return(e=e._reactInternals)?Vb(e)===e:!1},enqueueSetState:function(e,o,a){e=e._reactInternals;var c=R(),d=yi$2(e),g=mh(c,d);g.payload=o,a!=null&&(g.callback=a),o=nh(e,g,d),o!==null&&(gi$1(o,e,d,c),oh(o,e,d))},enqueueReplaceState:function(e,o,a){e=e._reactInternals;var c=R(),d=yi$2(e),g=mh(c,d);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=nh(e,g,d),o!==null&&(gi$1(o,e,d,c),oh(o,e,d))},enqueueForceUpdate:function(e,o){e=e._reactInternals;var a=R(),c=yi$2(e),d=mh(a,c);d.tag=2,o!=null&&(d.callback=o),o=nh(e,d,c),o!==null&&(gi$1(o,e,c,a),oh(o,e,c))}};function Fi$2(e,o,a,c,d,g,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,g,b):o.prototype&&o.prototype.isPureReactComponent?!Ie$2(a,c)||!Ie$2(d,g):!0}function Gi$2(e,o,a){var c=!1,d=Vf,g=o.contextType;return typeof g=="object"&&g!==null?g=eh(g):(d=Zf(o)?Xf:H.current,c=o.contextTypes,g=(c=c!=null)?Yf(e,d):Vf),o=new o(a,g),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Ei$1,e.stateNode=o,o._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=g),o}function Hi$2(e,o,a,c){e=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,c),o.state!==e&&Ei$1.enqueueReplaceState(o,o.state,null)}function Ii$2(e,o,a,c){var d=e.stateNode;d.props=a,d.state=e.memoizedState,d.refs={},kh(e);var g=o.contextType;typeof g=="object"&&g!==null?d.context=eh(g):(g=Zf(o)?Xf:H.current,d.context=Yf(e,g)),d.state=e.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(Di$2(e,o,g,a),d.state=e.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(o=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),o!==d.state&&Ei$1.enqueueReplaceState(d,d.state,null),qh(e,a,d,c),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Ji$2(e,o){try{var a="",c=o;do a+=Pa$2(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:o,stack:d,digest:null}}function Ki$2(e,o,a){return{value:e,source:null,stack:a??null,digest:o??null}}function Li$2(e,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var Mi$2=typeof WeakMap=="function"?WeakMap:Map;function Ni$2(e,o,a){a=mh(-1,a),a.tag=3,a.payload={element:null};var c=o.value;return a.callback=function(){Oi$2||(Oi$2=!0,Pi$2=c),Li$2(e,o)},a}function Qi$2(e,o,a){a=mh(-1,a),a.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;a.payload=function(){return c(d)},a.callback=function(){Li$2(e,o)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Li$2(e,o),typeof c!="function"&&(Ri$2===null?Ri$2=new Set([this]):Ri$2.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),a}function Si$2(e,o,a){var c=e.pingCache;if(c===null){c=e.pingCache=new Mi$2;var d=new Set;c.set(o,d)}else d=c.get(o),d===void 0&&(d=new Set,c.set(o,d));d.has(a)||(d.add(a),e=Ti$2.bind(null,e,o,a),o.then(e,e))}function Ui$2(e){do{var o;if((o=e.tag===13)&&(o=e.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return e;e=e.return}while(e!==null);return null}function Vi$2(e,o,a,c,d){return e.mode&1?(e.flags|=65536,e.lanes=d,e):(e===o?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=mh(-1,1),o.tag=2,nh(a,o,1))),a.lanes|=1),e)}var Wi$2=ua$2.ReactCurrentOwner,dh=!1;function Xi$2(e,o,a,c){o.child=e===null?Vg(o,null,a,c):Ug(o,e.child,a,c)}function Yi$2(e,o,a,c,d){a=a.render;var g=o.ref;return ch$1(o,d),c=Nh(e,o,a,c,g,d),a=Sh(),e!==null&&!dh?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~d,Zi$2(e,o,d)):(I&&a&&vg(o),o.flags|=1,Xi$2(e,o,c,d),o.child)}function $i$2(e,o,a,c,d){if(e===null){var g=a.type;return typeof g=="function"&&!aj(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=g,bj(e,o,g,c,d)):(e=Rg(a.type,null,c,o,o.mode,d),e.ref=o.ref,e.return=o,o.child=e)}if(g=e.child,!(e.lanes&d)){var b=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ie$2,a(b,c)&&e.ref===o.ref)return Zi$2(e,o,d)}return o.flags|=1,e=Pg(g,c),e.ref=o.ref,e.return=o,o.child=e}function bj(e,o,a,c,d){if(e!==null){var g=e.memoizedProps;if(Ie$2(g,c)&&e.ref===o.ref)if(dh=!1,o.pendingProps=c=g,(e.lanes&d)!==0)e.flags&131072&&(dh=!0);else return o.lanes=e.lanes,Zi$2(e,o,d)}return cj(e,o,a,c,d)}function dj(e,o,a){var c=o.pendingProps,d=c.children,g=e!==null?e.memoizedState:null;if(c.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(ej,fj),fj|=a;else{if(!(a&1073741824))return e=g!==null?g.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:e,cachePool:null,transitions:null},o.updateQueue=null,G(ej,fj),fj|=e,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,G(ej,fj),fj|=c}else g!==null?(c=g.baseLanes|a,o.memoizedState=null):c=a,G(ej,fj),fj|=c;return Xi$2(e,o,d,a),o.child}function gj(e,o){var a=o.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function cj(e,o,a,c,d){var g=Zf(a)?Xf:H.current;return g=Yf(o,g),ch$1(o,d),a=Nh(e,o,a,c,g,d),c=Sh(),e!==null&&!dh?(o.updateQueue=e.updateQueue,o.flags&=-2053,e.lanes&=~d,Zi$2(e,o,d)):(I&&c&&vg(o),o.flags|=1,Xi$2(e,o,a,d),o.child)}function hj(e,o,a,c,d){if(Zf(a)){var g=!0;cg(o)}else g=!1;if(ch$1(o,d),o.stateNode===null)ij(e,o),Gi$2(o,a,c),Ii$2(o,a,c,d),c=!0;else if(e===null){var b=o.stateNode,_=o.memoizedProps;b.props=_;var $=b.context,j=a.contextType;typeof j=="object"&&j!==null?j=eh(j):(j=Zf(a)?Xf:H.current,j=Yf(o,j));var rt=a.getDerivedStateFromProps,nt=typeof rt=="function"||typeof b.getSnapshotBeforeUpdate=="function";nt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==c||$!==j)&&Hi$2(o,b,c,j),jh=!1;var st=o.memoizedState;b.state=st,qh(o,c,b,d),$=o.memoizedState,_!==c||st!==$||Wf.current||jh?(typeof rt=="function"&&(Di$2(o,a,rt,c),$=o.memoizedState),(_=jh||Fi$2(o,a,_,c,st,$,j))?(nt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=$),b.props=c,b.state=$,b.context=j,c=_):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{b=o.stateNode,lh(e,o),_=o.memoizedProps,j=o.type===o.elementType?_:Ci$2(o.type,_),b.props=j,nt=o.pendingProps,st=b.context,$=a.contextType,typeof $=="object"&&$!==null?$=eh($):($=Zf(a)?Xf:H.current,$=Yf(o,$));var jt=a.getDerivedStateFromProps;(rt=typeof jt=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(_!==nt||st!==$)&&Hi$2(o,b,c,$),jh=!1,st=o.memoizedState,b.state=st,qh(o,c,b,d);var wl=o.memoizedState;_!==nt||st!==wl||Wf.current||jh?(typeof jt=="function"&&(Di$2(o,a,jt,c),wl=o.memoizedState),(j=jh||Fi$2(o,a,j,c,st,wl,$)||!1)?(rt||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,wl,$),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,wl,$)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||_===e.memoizedProps&&st===e.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&st===e.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=wl),b.props=c,b.state=wl,b.context=$,c=j):(typeof b.componentDidUpdate!="function"||_===e.memoizedProps&&st===e.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&st===e.memoizedState||(o.flags|=1024),c=!1)}return jj(e,o,a,c,g,d)}function jj(e,o,a,c,d,g){gj(e,o);var b=(o.flags&128)!==0;if(!c&&!b)return d&&dg(o,a,!1),Zi$2(e,o,g);c=o.stateNode,Wi$2.current=o;var _=b&&typeof a.getDerivedStateFromError!="function"?null:c.render();return o.flags|=1,e!==null&&b?(o.child=Ug(o,e.child,null,g),o.child=Ug(o,null,_,g)):Xi$2(e,o,_,g),o.memoizedState=c.state,d&&dg(o,a,!0),o.child}function kj(e){var o=e.stateNode;o.pendingContext?ag(e,o.pendingContext,o.pendingContext!==o.context):o.context&&ag(e,o.context,!1),yh(e,o.containerInfo)}function lj(e,o,a,c,d){return Ig(),Jg(d),o.flags|=256,Xi$2(e,o,a,c),o.child}var mj={dehydrated:null,treeContext:null,retryLane:0};function nj(e){return{baseLanes:e,cachePool:null,transitions:null}}function oj(e,o,a){var c=o.pendingProps,d=L.current,g=!1,b=(o.flags&128)!==0,_;if((_=b)||(_=e!==null&&e.memoizedState===null?!1:(d&2)!==0),_?(g=!0,o.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),G(L,d&1),e===null)return Eg(o),e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(o.mode&1?e.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(b=c.children,e=c.fallback,g?(c=o.mode,g=o.child,b={mode:"hidden",children:b},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=b):g=pj(b,c,0,null),e=Tg(e,c,a,null),g.return=o,e.return=o,g.sibling=e,o.child=g,o.child.memoizedState=nj(a),o.memoizedState=mj,e):qj(o,b));if(d=e.memoizedState,d!==null&&(_=d.dehydrated,_!==null))return rj(e,o,b,c,_,d,a);if(g){g=c.fallback,b=o.mode,d=e.child,_=d.sibling;var $={mode:"hidden",children:c.children};return!(b&1)&&o.child!==d?(c=o.child,c.childLanes=0,c.pendingProps=$,o.deletions=null):(c=Pg(d,$),c.subtreeFlags=d.subtreeFlags&14680064),_!==null?g=Pg(_,g):(g=Tg(g,b,a,null),g.flags|=2),g.return=o,c.return=o,c.sibling=g,o.child=c,c=g,g=o.child,b=e.child.memoizedState,b=b===null?nj(a):{baseLanes:b.baseLanes|a,cachePool:null,transitions:b.transitions},g.memoizedState=b,g.childLanes=e.childLanes&~a,o.memoizedState=mj,c}return g=e.child,e=g.sibling,c=Pg(g,{mode:"visible",children:c.children}),!(o.mode&1)&&(c.lanes=a),c.return=o,c.sibling=null,e!==null&&(a=o.deletions,a===null?(o.deletions=[e],o.flags|=16):a.push(e)),o.child=c,o.memoizedState=null,c}function qj(e,o){return o=pj({mode:"visible",children:o},e.mode,0,null),o.return=e,e.child=o}function sj(e,o,a,c){return c!==null&&Jg(c),Ug(o,e.child,null,a),e=qj(o,o.pendingProps.children),e.flags|=2,o.memoizedState=null,e}function rj(e,o,a,c,d,g,b){if(a)return o.flags&256?(o.flags&=-257,c=Ki$2(Error(p$1(422))),sj(e,o,b,c)):o.memoizedState!==null?(o.child=e.child,o.flags|=128,null):(g=c.fallback,d=o.mode,c=pj({mode:"visible",children:c.children},d,0,null),g=Tg(g,d,b,null),g.flags|=2,c.return=o,g.return=o,c.sibling=g,o.child=c,o.mode&1&&Ug(o,e.child,null,b),o.child.memoizedState=nj(b),o.memoizedState=mj,g);if(!(o.mode&1))return sj(e,o,b,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var _=c.dgst;return c=_,g=Error(p$1(419)),c=Ki$2(g,c,void 0),sj(e,o,b,c)}if(_=(b&e.childLanes)!==0,dh||_){if(c=Q,c!==null){switch(b&-b){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|b)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,ih(e,d),gi$1(c,e,d,-1))}return tj(),c=Ki$2(Error(p$1(421))),sj(e,o,b,c)}return d.data==="$?"?(o.flags|=128,o.child=e.child,o=uj.bind(null,e),d._reactRetry=o,null):(e=g.treeContext,yg=Lf(d.nextSibling),xg=o,I=!0,zg=null,e!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=e.id,sg=e.overflow,qg=o),o=qj(o,c.children),o.flags|=4096,o)}function vj(e,o,a){e.lanes|=o;var c=e.alternate;c!==null&&(c.lanes|=o),bh(e.return,o,a)}function wj(e,o,a,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function xj(e,o,a){var c=o.pendingProps,d=c.revealOrder,g=c.tail;if(Xi$2(e,o,c.children,a),c=L.current,c&2)c=c&1|2,o.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=o.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vj(e,a,o);else if(e.tag===19)vj(e,a,o);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===o)break e;for(;e.sibling===null;){if(e.return===null||e.return===o)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(G(L,c),!(o.mode&1))o.memoizedState=null;else switch(d){case"forwards":for(a=o.child,d=null;a!==null;)e=a.alternate,e!==null&&Ch(e)===null&&(d=a),a=a.sibling;a=d,a===null?(d=o.child,o.child=null):(d=a.sibling,a.sibling=null),wj(o,!1,d,a,g);break;case"backwards":for(a=null,d=o.child,o.child=null;d!==null;){if(e=d.alternate,e!==null&&Ch(e)===null){o.child=d;break}e=d.sibling,d.sibling=a,a=d,d=e}wj(o,!0,a,null,g);break;case"together":wj(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ij(e,o){!(o.mode&1)&&e!==null&&(e.alternate=null,o.alternate=null,o.flags|=2)}function Zi$2(e,o,a){if(e!==null&&(o.dependencies=e.dependencies),rh|=o.lanes,!(a&o.childLanes))return null;if(e!==null&&o.child!==e.child)throw Error(p$1(153));if(o.child!==null){for(e=o.child,a=Pg(e,e.pendingProps),o.child=a,a.return=o;e.sibling!==null;)e=e.sibling,a=a.sibling=Pg(e,e.pendingProps),a.return=o;a.sibling=null}return o.child}function yj(e,o,a){switch(o.tag){case 3:kj(o),Ig();break;case 5:Ah(o);break;case 1:Zf(o.type)&&cg(o);break;case 4:yh(o,o.stateNode.containerInfo);break;case 10:var c=o.type._context,d=o.memoizedProps.value;G(Wg,c._currentValue),c._currentValue=d;break;case 13:if(c=o.memoizedState,c!==null)return c.dehydrated!==null?(G(L,L.current&1),o.flags|=128,null):a&o.child.childLanes?oj(e,o,a):(G(L,L.current&1),e=Zi$2(e,o,a),e!==null?e.sibling:null);G(L,L.current&1);break;case 19:if(c=(a&o.childLanes)!==0,e.flags&128){if(c)return xj(e,o,a);o.flags|=128}if(d=o.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(L,L.current),c)break;return null;case 22:case 23:return o.lanes=0,dj(e,o,a)}return Zi$2(e,o,a)}var zj,Aj,Bj,Cj;zj=function(e,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};Aj=function(){};Bj=function(e,o,a,c){var d=e.memoizedProps;if(d!==c){e=o.stateNode,xh(uh.current);var g=null;switch(a){case"input":d=Ya$2(e,d),c=Ya$2(e,c),g=[];break;case"select":d=A({},d,{value:void 0}),c=A({},c,{value:void 0}),g=[];break;case"textarea":d=gb(e,d),c=gb(e,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Bf)}ub(a,c);var b;a=null;for(j in d)if(!c.hasOwnProperty(j)&&d.hasOwnProperty(j)&&d[j]!=null)if(j==="style"){var _=d[j];for(b in _)_.hasOwnProperty(b)&&(a||(a={}),a[b]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea$2.hasOwnProperty(j)?g||(g=[]):(g=g||[]).push(j,null));for(j in c){var $=c[j];if(_=d!=null?d[j]:void 0,c.hasOwnProperty(j)&&$!==_&&($!=null||_!=null))if(j==="style")if(_){for(b in _)!_.hasOwnProperty(b)||$&&$.hasOwnProperty(b)||(a||(a={}),a[b]="");for(b in $)$.hasOwnProperty(b)&&_[b]!==$[b]&&(a||(a={}),a[b]=$[b])}else a||(g||(g=[]),g.push(j,a)),a=$;else j==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,_=_?_.__html:void 0,$!=null&&_!==$&&(g=g||[]).push(j,$)):j==="children"?typeof $!="string"&&typeof $!="number"||(g=g||[]).push(j,""+$):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty(j)?($!=null&&j==="onScroll"&&D$1("scroll",e),g||_===$||(g=[])):(g=g||[]).push(j,$))}a&&(g=g||[]).push("style",a);var j=g;(o.updateQueue=j)&&(o.flags|=4)}};Cj=function(e,o,a,c){a!==c&&(o.flags|=4)};function Dj(e,o){if(!I)switch(e.tailMode){case"hidden":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function S$1(e){var o=e.alternate!==null&&e.alternate.child===e.child,a=0,c=0;if(o)for(var d=e.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=a,o}function Ej(e,o,a){var c=o.pendingProps;switch(wg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$1(o),null;case 1:return Zf(o.type)&&$f(),S$1(o),null;case 3:return c=o.stateNode,zh(),E(Wf),E(H),Eh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(Gg(o)?o.flags|=4:e===null||e.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,zg!==null&&(Fj(zg),zg=null))),Aj(e,o),S$1(o),null;case 5:Bh(o);var d=xh(wh.current);if(a=o.type,e!==null&&o.stateNode!=null)Bj(e,o,a,c,d),e.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!c){if(o.stateNode===null)throw Error(p$1(166));return S$1(o),null}if(e=xh(uh.current),Gg(o)){c=o.stateNode,a=o.type;var g=o.memoizedProps;switch(c[Of]=o,c[Pf]=g,e=(o.mode&1)!==0,a){case"dialog":D$1("cancel",c),D$1("close",c);break;case"iframe":case"object":case"embed":D$1("load",c);break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],c);break;case"source":D$1("error",c);break;case"img":case"image":case"link":D$1("error",c),D$1("load",c);break;case"details":D$1("toggle",c);break;case"input":Za$1(c,g),D$1("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},D$1("invalid",c);break;case"textarea":hb(c,g),D$1("invalid",c)}ub(a,g),d=null;for(var b in g)if(g.hasOwnProperty(b)){var _=g[b];b==="children"?typeof _=="string"?c.textContent!==_&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,_,e),d=["children",_]):typeof _=="number"&&c.textContent!==""+_&&(g.suppressHydrationWarning!==!0&&Af(c.textContent,_,e),d=["children",""+_]):ea$2.hasOwnProperty(b)&&_!=null&&b==="onScroll"&&D$1("scroll",c)}switch(a){case"input":Va$1(c),db(c,g,!0);break;case"textarea":Va$1(c),jb(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=Bf)}c=d,o.updateQueue=c,c!==null&&(o.flags|=4)}else{b=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kb(a)),e==="http://www.w3.org/1999/xhtml"?a==="script"?(e=b.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=b.createElement(a,{is:c.is}):(e=b.createElement(a),a==="select"&&(b=e,c.multiple?b.multiple=!0:c.size&&(b.size=c.size))):e=b.createElementNS(e,a),e[Of]=o,e[Pf]=c,zj(e,o,!1,!1),o.stateNode=e;e:{switch(b=vb(a,c),a){case"dialog":D$1("cancel",e),D$1("close",e),d=c;break;case"iframe":case"object":case"embed":D$1("load",e),d=c;break;case"video":case"audio":for(d=0;d<lf.length;d++)D$1(lf[d],e);d=c;break;case"source":D$1("error",e),d=c;break;case"img":case"image":case"link":D$1("error",e),D$1("load",e),d=c;break;case"details":D$1("toggle",e),d=c;break;case"input":Za$1(e,c),d=Ya$2(e,c),D$1("invalid",e);break;case"option":d=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},d=A({},c,{value:void 0}),D$1("invalid",e);break;case"textarea":hb(e,c),d=gb(e,c),D$1("invalid",e);break;default:d=c}ub(a,d),_=d;for(g in _)if(_.hasOwnProperty(g)){var $=_[g];g==="style"?sb(e,$):g==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&nb(e,$)):g==="children"?typeof $=="string"?(a!=="textarea"||$!=="")&&ob(e,$):typeof $=="number"&&ob(e,""+$):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ea$2.hasOwnProperty(g)?$!=null&&g==="onScroll"&&D$1("scroll",e):$!=null&&ta$2(e,g,$,b))}switch(a){case"input":Va$1(e),db(e,c,!1);break;case"textarea":Va$1(e),jb(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Sa$2(c.value));break;case"select":e.multiple=!!c.multiple,g=c.value,g!=null?fb(e,!!c.multiple,g,!1):c.defaultValue!=null&&fb(e,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Bf)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return S$1(o),null;case 6:if(e&&o.stateNode!=null)Cj(e,o,e.memoizedProps,c);else{if(typeof c!="string"&&o.stateNode===null)throw Error(p$1(166));if(a=xh(wh.current),xh(uh.current),Gg(o)){if(c=o.stateNode,a=o.memoizedProps,c[Of]=o,(g=c.nodeValue!==a)&&(e=xg,e!==null))switch(e.tag){case 3:Af(c.nodeValue,a,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Af(c.nodeValue,a,(e.mode&1)!==0)}g&&(o.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Of]=o,o.stateNode=c}return S$1(o),null;case 13:if(E(L),c=o.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(I&&yg!==null&&o.mode&1&&!(o.flags&128))Hg(),Ig(),o.flags|=98560,g=!1;else if(g=Gg(o),c!==null&&c.dehydrated!==null){if(e===null){if(!g)throw Error(p$1(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p$1(317));g[Of]=o}else Ig(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;S$1(o),g=!1}else zg!==null&&(Fj(zg),zg=null),g=!0;if(!g)return o.flags&65536?o:null}return o.flags&128?(o.lanes=a,o):(c=c!==null,c!==(e!==null&&e.memoizedState!==null)&&c&&(o.child.flags|=8192,o.mode&1&&(e===null||L.current&1?T$2===0&&(T$2=3):tj())),o.updateQueue!==null&&(o.flags|=4),S$1(o),null);case 4:return zh(),Aj(e,o),e===null&&sf(o.stateNode.containerInfo),S$1(o),null;case 10:return ah(o.type._context),S$1(o),null;case 17:return Zf(o.type)&&$f(),S$1(o),null;case 19:if(E(L),g=o.memoizedState,g===null)return S$1(o),null;if(c=(o.flags&128)!==0,b=g.rendering,b===null)if(c)Dj(g,!1);else{if(T$2!==0||e!==null&&e.flags&128)for(e=o.child;e!==null;){if(b=Ch(e),b!==null){for(o.flags|=128,Dj(g,!1),c=b.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),o.subtreeFlags=0,c=a,a=o.child;a!==null;)g=a,e=c,g.flags&=14680066,b=g.alternate,b===null?(g.childLanes=0,g.lanes=e,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,e=b.dependencies,g.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),a=a.sibling;return G(L,L.current&1|2),o.child}e=e.sibling}g.tail!==null&&B()>Gj&&(o.flags|=128,c=!0,Dj(g,!1),o.lanes=4194304)}else{if(!c)if(e=Ch(b),e!==null){if(o.flags|=128,c=!0,a=e.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),Dj(g,!0),g.tail===null&&g.tailMode==="hidden"&&!b.alternate&&!I)return S$1(o),null}else 2*B()-g.renderingStartTime>Gj&&a!==1073741824&&(o.flags|=128,c=!0,Dj(g,!1),o.lanes=4194304);g.isBackwards?(b.sibling=o.child,o.child=b):(a=g.last,a!==null?a.sibling=b:o.child=b,g.last=b)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=B(),o.sibling=null,a=L.current,G(L,c?a&1|2:a&1),o):(S$1(o),null);case 22:case 23:return Hj(),c=o.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(o.flags|=8192),c&&o.mode&1?fj&1073741824&&(S$1(o),o.subtreeFlags&6&&(o.flags|=8192)):S$1(o),null;case 24:return null;case 25:return null}throw Error(p$1(156,o.tag))}function Ij(e,o){switch(wg(o),o.tag){case 1:return Zf(o.type)&&$f(),e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 3:return zh(),E(Wf),E(H),Eh(),e=o.flags,e&65536&&!(e&128)?(o.flags=e&-65537|128,o):null;case 5:return Bh(o),null;case 13:if(E(L),e=o.memoizedState,e!==null&&e.dehydrated!==null){if(o.alternate===null)throw Error(p$1(340));Ig()}return e=o.flags,e&65536?(o.flags=e&-65537|128,o):null;case 19:return E(L),null;case 4:return zh(),null;case 10:return ah(o.type._context),null;case 22:case 23:return Hj(),null;case 24:return null;default:return null}}var Jj=!1,U=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Lj(e,o){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){W(e,o,c)}else a.current=null}function Mj(e,o,a){try{a()}catch(c){W(e,o,c)}}var Nj=!1;function Oj(e,o){if(Cf=dd,e=Me(),Ne$1(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var b=0,_=-1,$=-1,j=0,rt=0,nt=e,st=null;t:for(;;){for(var jt;nt!==a||d!==0&&nt.nodeType!==3||(_=b+d),nt!==g||c!==0&&nt.nodeType!==3||($=b+c),nt.nodeType===3&&(b+=nt.nodeValue.length),(jt=nt.firstChild)!==null;)st=nt,nt=jt;for(;;){if(nt===e)break t;if(st===a&&++j===d&&(_=b),st===g&&++rt===c&&($=b),(jt=nt.nextSibling)!==null)break;nt=st,st=nt.parentNode}nt=jt}a=_===-1||$===-1?null:{start:_,end:$}}else a=null}a=a||{start:0,end:0}}else a=null;for(Df={focusedElem:e,selectionRange:a},dd=!1,V=o;V!==null;)if(o=V,e=o.child,(o.subtreeFlags&1028)!==0&&e!==null)e.return=o,V=e;else for(;V!==null;){o=V;try{var wl=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(wl!==null){var Ft=wl.memoizedProps,it=wl.memoizedState,ot=o.stateNode,Ln=ot.getSnapshotBeforeUpdate(o.elementType===o.type?Ft:Ci$2(o.type,Ft),it);ot.__reactInternalSnapshotBeforeUpdate=Ln}break;case 3:var Cl=o.stateNode.containerInfo;Cl.nodeType===1?Cl.textContent="":Cl.nodeType===9&&Cl.documentElement&&Cl.removeChild(Cl.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(Tl){W(o,o.return,Tl)}if(e=o.sibling,e!==null){e.return=o.return,V=e;break}V=o.return}return wl=Nj,Nj=!1,wl}function Pj(e,o,a){var c=o.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&e)===e){var g=d.destroy;d.destroy=void 0,g!==void 0&&Mj(o,a,g)}d=d.next}while(d!==c)}}function Qj(e,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&e)===e){var c=a.create;a.destroy=c()}a=a.next}while(a!==o)}}function Rj(e){var o=e.ref;if(o!==null){var a=e.stateNode;switch(e.tag){case 5:e=a;break;default:e=a}typeof o=="function"?o(e):o.current=e}}function Sj(e){var o=e.alternate;o!==null&&(e.alternate=null,Sj(o)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(o=e.stateNode,o!==null&&(delete o[Of],delete o[Pf],delete o[of],delete o[Qf],delete o[Rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tj(e){return e.tag===5||e.tag===3||e.tag===4}function Uj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vj(e,o,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,o?a.nodeType===8?a.parentNode.insertBefore(e,o):a.insertBefore(e,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore(e,a)):(o=a,o.appendChild(e)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=Bf));else if(c!==4&&(e=e.child,e!==null))for(Vj(e,o,a),e=e.sibling;e!==null;)Vj(e,o,a),e=e.sibling}function Wj(e,o,a){var c=e.tag;if(c===5||c===6)e=e.stateNode,o?a.insertBefore(e,o):a.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Wj(e,o,a),e=e.sibling;e!==null;)Wj(e,o,a),e=e.sibling}var X=null,Xj=!1;function Yj(e,o,a){for(a=a.child;a!==null;)Zj(e,o,a),a=a.sibling}function Zj(e,o,a){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,a)}catch{}switch(a.tag){case 5:U||Lj(a,o);case 6:var c=X,d=Xj;X=null,Yj(e,o,a),X=c,Xj=d,X!==null&&(Xj?(e=X,a=a.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)):X.removeChild(a.stateNode));break;case 18:X!==null&&(Xj?(e=X,a=a.stateNode,e.nodeType===8?Kf(e.parentNode,a):e.nodeType===1&&Kf(e,a),bd(e)):Kf(X,a.stateNode));break;case 4:c=X,d=Xj,X=a.stateNode.containerInfo,Xj=!0,Yj(e,o,a),X=c,Xj=d;break;case 0:case 11:case 14:case 15:if(!U&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,b=g.destroy;g=g.tag,b!==void 0&&(g&2||g&4)&&Mj(a,o,b),d=d.next}while(d!==c)}Yj(e,o,a);break;case 1:if(!U&&(Lj(a,o),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(_){W(a,o,_)}Yj(e,o,a);break;case 21:Yj(e,o,a);break;case 22:a.mode&1?(U=(c=U)||a.memoizedState!==null,Yj(e,o,a),U=c):Yj(e,o,a);break;default:Yj(e,o,a)}}function ak(e){var o=e.updateQueue;if(o!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new Kj),o.forEach(function(c){var d=bk.bind(null,e,c);a.has(c)||(a.add(c),c.then(d,d))})}}function ck(e,o){var a=o.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=e,b=o,_=b;e:for(;_!==null;){switch(_.tag){case 5:X=_.stateNode,Xj=!1;break e;case 3:X=_.stateNode.containerInfo,Xj=!0;break e;case 4:X=_.stateNode.containerInfo,Xj=!0;break e}_=_.return}if(X===null)throw Error(p$1(160));Zj(g,b,d),X=null,Xj=!1;var $=d.alternate;$!==null&&($.return=null),d.return=null}catch(j){W(d,o,j)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)dk(o,e),o=o.sibling}function dk(e,o){var a=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ck(o,e),ek(e),c&4){try{Pj(3,e,e.return),Qj(3,e)}catch(Ft){W(e,e.return,Ft)}try{Pj(5,e,e.return)}catch(Ft){W(e,e.return,Ft)}}break;case 1:ck(o,e),ek(e),c&512&&a!==null&&Lj(a,a.return);break;case 5:if(ck(o,e),ek(e),c&512&&a!==null&&Lj(a,a.return),e.flags&32){var d=e.stateNode;try{ob(d,"")}catch(Ft){W(e,e.return,Ft)}}if(c&4&&(d=e.stateNode,d!=null)){var g=e.memoizedProps,b=a!==null?a.memoizedProps:g,_=e.type,$=e.updateQueue;if(e.updateQueue=null,$!==null)try{_==="input"&&g.type==="radio"&&g.name!=null&&ab(d,g),vb(_,b);var j=vb(_,g);for(b=0;b<$.length;b+=2){var rt=$[b],nt=$[b+1];rt==="style"?sb(d,nt):rt==="dangerouslySetInnerHTML"?nb(d,nt):rt==="children"?ob(d,nt):ta$2(d,rt,nt,j)}switch(_){case"input":bb(d,g);break;case"textarea":ib(d,g);break;case"select":var st=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var jt=g.value;jt!=null?fb(d,!!g.multiple,jt,!1):st!==!!g.multiple&&(g.defaultValue!=null?fb(d,!!g.multiple,g.defaultValue,!0):fb(d,!!g.multiple,g.multiple?[]:"",!1))}d[Pf]=g}catch(Ft){W(e,e.return,Ft)}}break;case 6:if(ck(o,e),ek(e),c&4){if(e.stateNode===null)throw Error(p$1(162));d=e.stateNode,g=e.memoizedProps;try{d.nodeValue=g}catch(Ft){W(e,e.return,Ft)}}break;case 3:if(ck(o,e),ek(e),c&4&&a!==null&&a.memoizedState.isDehydrated)try{bd(o.containerInfo)}catch(Ft){W(e,e.return,Ft)}break;case 4:ck(o,e),ek(e);break;case 13:ck(o,e),ek(e),d=e.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(fk=B())),c&4&&ak(e);break;case 22:if(rt=a!==null&&a.memoizedState!==null,e.mode&1?(U=(j=U)||rt,ck(o,e),U=j):ck(o,e),ek(e),c&8192){if(j=e.memoizedState!==null,(e.stateNode.isHidden=j)&&!rt&&e.mode&1)for(V=e,rt=e.child;rt!==null;){for(nt=V=rt;V!==null;){switch(st=V,jt=st.child,st.tag){case 0:case 11:case 14:case 15:Pj(4,st,st.return);break;case 1:Lj(st,st.return);var wl=st.stateNode;if(typeof wl.componentWillUnmount=="function"){c=st,a=st.return;try{o=c,wl.props=o.memoizedProps,wl.state=o.memoizedState,wl.componentWillUnmount()}catch(Ft){W(c,a,Ft)}}break;case 5:Lj(st,st.return);break;case 22:if(st.memoizedState!==null){gk(nt);continue}}jt!==null?(jt.return=st,V=jt):gk(nt)}rt=rt.sibling}e:for(rt=null,nt=e;;){if(nt.tag===5){if(rt===null){rt=nt;try{d=nt.stateNode,j?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(_=nt.stateNode,$=nt.memoizedProps.style,b=$!=null&&$.hasOwnProperty("display")?$.display:null,_.style.display=rb("display",b))}catch(Ft){W(e,e.return,Ft)}}}else if(nt.tag===6){if(rt===null)try{nt.stateNode.nodeValue=j?"":nt.memoizedProps}catch(Ft){W(e,e.return,Ft)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===e)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===e)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===e)break e;rt===nt&&(rt=null),nt=nt.return}rt===nt&&(rt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:ck(o,e),ek(e),c&4&&ak(e);break;case 21:break;default:ck(o,e),ek(e)}}function ek(e){var o=e.flags;if(o&2){try{e:{for(var a=e.return;a!==null;){if(Tj(a)){var c=a;break e}a=a.return}throw Error(p$1(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ob(d,""),c.flags&=-33);var g=Uj(e);Wj(e,g,d);break;case 3:case 4:var b=c.stateNode.containerInfo,_=Uj(e);Vj(e,_,b);break;default:throw Error(p$1(161))}}catch($){W(e,e.return,$)}e.flags&=-3}o&4096&&(e.flags&=-4097)}function hk(e,o,a){V=e,ik(e)}function ik(e,o,a){for(var c=(e.mode&1)!==0;V!==null;){var d=V,g=d.child;if(d.tag===22&&c){var b=d.memoizedState!==null||Jj;if(!b){var _=d.alternate,$=_!==null&&_.memoizedState!==null||U;_=Jj;var j=U;if(Jj=b,(U=$)&&!j)for(V=d;V!==null;)b=V,$=b.child,b.tag===22&&b.memoizedState!==null?jk(d):$!==null?($.return=b,V=$):jk(d);for(;g!==null;)V=g,ik(g),g=g.sibling;V=d,Jj=_,U=j}kk(e)}else d.subtreeFlags&8772&&g!==null?(g.return=d,V=g):kk(e)}}function kk(e){for(;V!==null;){var o=V;if(o.flags&8772){var a=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:U||Qj(5,o);break;case 1:var c=o.stateNode;if(o.flags&4&&!U)if(a===null)c.componentDidMount();else{var d=o.elementType===o.type?a.memoizedProps:Ci$2(o.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&sh(o,g,c);break;case 3:var b=o.updateQueue;if(b!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}sh(o,b,a)}break;case 5:var _=o.stateNode;if(a===null&&o.flags&4){a=_;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&a.focus();break;case"img":$.src&&(a.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var j=o.alternate;if(j!==null){var rt=j.memoizedState;if(rt!==null){var nt=rt.dehydrated;nt!==null&&bd(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$1(163))}U||o.flags&512&&Rj(o)}catch(st){W(o,o.return,st)}}if(o===e){V=null;break}if(a=o.sibling,a!==null){a.return=o.return,V=a;break}V=o.return}}function gk(e){for(;V!==null;){var o=V;if(o===e){V=null;break}var a=o.sibling;if(a!==null){a.return=o.return,V=a;break}V=o.return}}function jk(e){for(;V!==null;){var o=V;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{Qj(4,o)}catch($){W(o,a,$)}break;case 1:var c=o.stateNode;if(typeof c.componentDidMount=="function"){var d=o.return;try{c.componentDidMount()}catch($){W(o,d,$)}}var g=o.return;try{Rj(o)}catch($){W(o,g,$)}break;case 5:var b=o.return;try{Rj(o)}catch($){W(o,b,$)}}}catch($){W(o,o.return,$)}if(o===e){V=null;break}var _=o.sibling;if(_!==null){_.return=o.return,V=_;break}V=o.return}}var lk=Math.ceil,mk=ua$2.ReactCurrentDispatcher,nk=ua$2.ReactCurrentOwner,ok$2=ua$2.ReactCurrentBatchConfig,K=0,Q=null,Y=null,Z=0,fj=0,ej=Uf(0),T$2=0,pk=null,rh=0,qk=0,rk=0,sk=null,tk=null,fk=0,Gj=1/0,uk=null,Oi$2=!1,Pi$2=null,Ri$2=null,vk=!1,wk=null,xk=0,yk=0,zk=null,Ak=-1,Bk=0;function R(){return K&6?B():Ak!==-1?Ak:Ak=B()}function yi$2(e){return e.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Bk===0&&(Bk=yc$1()),Bk):(e=C,e!==0||(e=window.event,e=e===void 0?16:jd(e.type)),e):1}function gi$1(e,o,a,c){if(50<yk)throw yk=0,zk=null,Error(p$1(185));Ac$1(e,a,c),(!(K&2)||e!==Q)&&(e===Q&&(!(K&2)&&(qk|=a),T$2===4&&Ck(e,Z)),Dk(e,c),a===1&&K===0&&!(o.mode&1)&&(Gj=B()+500,fg&&jg()))}function Dk(e,o){var a=e.callbackNode;wc$1(e,o);var c=uc$1(e,e===Q?Z:0);if(c===0)a!==null&&bc$1(a),e.callbackNode=null,e.callbackPriority=0;else if(o=c&-c,e.callbackPriority!==o){if(a!=null&&bc$1(a),o===1)e.tag===0?ig(Ek.bind(null,e)):hg(Ek.bind(null,e)),Jf(function(){!(K&6)&&jg()}),a=null;else{switch(Dc$2(c)){case 1:a=fc$1;break;case 4:a=gc$1;break;case 16:a=hc$1;break;case 536870912:a=jc$1;break;default:a=hc$1}a=Fk(a,Gk.bind(null,e))}e.callbackPriority=o,e.callbackNode=a}}function Gk(e,o){if(Ak=-1,Bk=0,K&6)throw Error(p$1(327));var a=e.callbackNode;if(Hk()&&e.callbackNode!==a)return null;var c=uc$1(e,e===Q?Z:0);if(c===0)return null;if(c&30||c&e.expiredLanes||o)o=Ik(e,c);else{o=c;var d=K;K|=2;var g=Jk();(Q!==e||Z!==o)&&(uk=null,Gj=B()+500,Kk(e,o));do try{Lk();break}catch(_){Mk(e,_)}while(!0);$g(),mk.current=g,K=d,Y!==null?o=0:(Q=null,Z=0,o=T$2)}if(o!==0){if(o===2&&(d=xc$1(e),d!==0&&(c=d,o=Nk(e,d))),o===1)throw a=pk,Kk(e,0),Ck(e,c),Dk(e,B()),a;if(o===6)Ck(e,c);else{if(d=e.current.alternate,!(c&30)&&!Ok(d)&&(o=Ik(e,c),o===2&&(g=xc$1(e),g!==0&&(c=g,o=Nk(e,g))),o===1))throw a=pk,Kk(e,0),Ck(e,c),Dk(e,B()),a;switch(e.finishedWork=d,e.finishedLanes=c,o){case 0:case 1:throw Error(p$1(345));case 2:Pk(e,tk,uk);break;case 3:if(Ck(e,c),(c&130023424)===c&&(o=fk+500-B(),10<o)){if(uc$1(e,0)!==0)break;if(d=e.suspendedLanes,(d&c)!==c){R(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),o);break}Pk(e,tk,uk);break;case 4:if(Ck(e,c),(c&4194240)===c)break;for(o=e.eventTimes,d=-1;0<c;){var b=31-oc$1(c);g=1<<b,b=o[b],b>d&&(d=b),c&=~g}if(c=d,c=B()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*lk(c/1960))-c,10<c){e.timeoutHandle=Ff(Pk.bind(null,e,tk,uk),c);break}Pk(e,tk,uk);break;case 5:Pk(e,tk,uk);break;default:throw Error(p$1(329))}}}return Dk(e,B()),e.callbackNode===a?Gk.bind(null,e):null}function Nk(e,o){var a=sk;return e.current.memoizedState.isDehydrated&&(Kk(e,o).flags|=256),e=Ik(e,o),e!==2&&(o=tk,tk=a,o!==null&&Fj(o)),e}function Fj(e){tk===null?tk=e:tk.push.apply(tk,e)}function Ok(e){for(var o=e;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!He$2(g(),d))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===e)break;for(;o.sibling===null;){if(o.return===null||o.return===e)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ck(e,o){for(o&=~rk,o&=~qk,e.suspendedLanes|=o,e.pingedLanes&=~o,e=e.expirationTimes;0<o;){var a=31-oc$1(o),c=1<<a;e[a]=-1,o&=~c}}function Ek(e){if(K&6)throw Error(p$1(327));Hk();var o=uc$1(e,0);if(!(o&1))return Dk(e,B()),null;var a=Ik(e,o);if(e.tag!==0&&a===2){var c=xc$1(e);c!==0&&(o=c,a=Nk(e,c))}if(a===1)throw a=pk,Kk(e,0),Ck(e,o),Dk(e,B()),a;if(a===6)throw Error(p$1(345));return e.finishedWork=e.current.alternate,e.finishedLanes=o,Pk(e,tk,uk),Dk(e,B()),null}function Qk(e,o){var a=K;K|=1;try{return e(o)}finally{K=a,K===0&&(Gj=B()+500,fg&&jg())}}function Rk(e){wk!==null&&wk.tag===0&&!(K&6)&&Hk();var o=K;K|=1;var a=ok$2.transition,c=C;try{if(ok$2.transition=null,C=1,e)return e()}finally{C=c,ok$2.transition=a,K=o,!(K&6)&&jg()}}function Hj(){fj=ej.current,E(ej)}function Kk(e,o){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==-1&&(e.timeoutHandle=-1,Gf(a)),Y!==null)for(a=Y.return;a!==null;){var c=a;switch(wg(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&$f();break;case 3:zh(),E(Wf),E(H),Eh();break;case 5:Bh(c);break;case 4:zh();break;case 13:E(L);break;case 19:E(L);break;case 10:ah(c.type._context);break;case 22:case 23:Hj()}a=a.return}if(Q=e,Y=e=Pg(e.current,null),Z=fj=o,T$2=0,pk=null,rk=qk=rh=0,tk=sk=null,fh!==null){for(o=0;o<fh.length;o++)if(a=fh[o],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var b=g.next;g.next=d,c.next=b}a.pending=c}fh=null}return e}function Mk(e,o){do{var a=Y;try{if($g(),Fh.current=Rh,Ih){for(var c=M.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ih=!1}if(Hh=0,O=N$2=M=null,Jh=!1,Kh=0,nk.current=null,a===null||a.return===null){T$2=1,pk=o,Y=null;break}e:{var g=e,b=a.return,_=a,$=o;if(o=Z,_.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var j=$,rt=_,nt=rt.tag;if(!(rt.mode&1)&&(nt===0||nt===11||nt===15)){var st=rt.alternate;st?(rt.updateQueue=st.updateQueue,rt.memoizedState=st.memoizedState,rt.lanes=st.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var jt=Ui$2(b);if(jt!==null){jt.flags&=-257,Vi$2(jt,b,_,g,o),jt.mode&1&&Si$2(g,j,o),o=jt,$=j;var wl=o.updateQueue;if(wl===null){var Ft=new Set;Ft.add($),o.updateQueue=Ft}else wl.add($);break e}else{if(!(o&1)){Si$2(g,j,o),tj();break e}$=Error(p$1(426))}}else if(I&&_.mode&1){var it=Ui$2(b);if(it!==null){!(it.flags&65536)&&(it.flags|=256),Vi$2(it,b,_,g,o),Jg(Ji$2($,_));break e}}g=$=Ji$2($,_),T$2!==4&&(T$2=2),sk===null?sk=[g]:sk.push(g),g=b;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var ot=Ni$2(g,$,o);ph(g,ot);break e;case 1:_=$;var Ln=g.type,Cl=g.stateNode;if(!(g.flags&128)&&(typeof Ln.getDerivedStateFromError=="function"||Cl!==null&&typeof Cl.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(Cl)))){g.flags|=65536,o&=-o,g.lanes|=o;var Tl=Qi$2(g,_,o);ph(g,Tl);break e}}g=g.return}while(g!==null)}Sk(a)}catch(zl){o=zl,Y===a&&a!==null&&(Y=a=a.return);continue}break}while(!0)}function Jk(){var e=mk.current;return mk.current=Rh,e===null?Rh:e}function tj(){(T$2===0||T$2===3||T$2===2)&&(T$2=4),Q===null||!(rh&268435455)&&!(qk&268435455)||Ck(Q,Z)}function Ik(e,o){var a=K;K|=2;var c=Jk();(Q!==e||Z!==o)&&(uk=null,Kk(e,o));do try{Tk();break}catch(d){Mk(e,d)}while(!0);if($g(),K=a,mk.current=c,Y!==null)throw Error(p$1(261));return Q=null,Z=0,T$2}function Tk(){for(;Y!==null;)Uk(Y)}function Lk(){for(;Y!==null&&!cc$1();)Uk(Y)}function Uk(e){var o=Vk(e.alternate,e,fj);e.memoizedProps=e.pendingProps,o===null?Sk(e):Y=o,nk.current=null}function Sk(e){var o=e;do{var a=o.alternate;if(e=o.return,o.flags&32768){if(a=Ij(a,o),a!==null){a.flags&=32767,Y=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{T$2=6,Y=null;return}}else if(a=Ej(a,o,fj),a!==null){Y=a;return}if(o=o.sibling,o!==null){Y=o;return}Y=o=e}while(o!==null);T$2===0&&(T$2=5)}function Pk(e,o,a){var c=C,d=ok$2.transition;try{ok$2.transition=null,C=1,Wk(e,o,a,c)}finally{ok$2.transition=d,C=c}return null}function Wk(e,o,a,c){do Hk();while(wk!==null);if(K&6)throw Error(p$1(327));a=e.finishedWork;var d=e.finishedLanes;if(a===null)return null;if(e.finishedWork=null,e.finishedLanes=0,a===e.current)throw Error(p$1(177));e.callbackNode=null,e.callbackPriority=0;var g=a.lanes|a.childLanes;if(Bc$1(e,g),e===Q&&(Y=Q=null,Z=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||vk||(vk=!0,Fk(hc$1,function(){return Hk(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=ok$2.transition,ok$2.transition=null;var b=C;C=1;var _=K;K|=4,nk.current=null,Oj(e,a),dk(a,e),Oe$1(Df),dd=!!Cf,Df=Cf=null,e.current=a,hk(a),dc$1(),K=_,C=b,ok$2.transition=g}else e.current=a;if(vk&&(vk=!1,wk=e,xk=d),g=e.pendingLanes,g===0&&(Ri$2=null),mc$1(a.stateNode),Dk(e,B()),o!==null)for(c=e.onRecoverableError,a=0;a<o.length;a++)d=o[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(Oi$2)throw Oi$2=!1,e=Pi$2,Pi$2=null,e;return xk&1&&e.tag!==0&&Hk(),g=e.pendingLanes,g&1?e===zk?yk++:(yk=0,zk=e):yk=0,jg(),null}function Hk(){if(wk!==null){var e=Dc$2(xk),o=ok$2.transition,a=C;try{if(ok$2.transition=null,C=16>e?16:e,wk===null)var c=!1;else{if(e=wk,wk=null,xk=0,K&6)throw Error(p$1(331));var d=K;for(K|=4,V=e.current;V!==null;){var g=V,b=g.child;if(V.flags&16){var _=g.deletions;if(_!==null){for(var $=0;$<_.length;$++){var j=_[$];for(V=j;V!==null;){var rt=V;switch(rt.tag){case 0:case 11:case 15:Pj(8,rt,g)}var nt=rt.child;if(nt!==null)nt.return=rt,V=nt;else for(;V!==null;){rt=V;var st=rt.sibling,jt=rt.return;if(Sj(rt),rt===j){V=null;break}if(st!==null){st.return=jt,V=st;break}V=jt}}}var wl=g.alternate;if(wl!==null){var Ft=wl.child;if(Ft!==null){wl.child=null;do{var it=Ft.sibling;Ft.sibling=null,Ft=it}while(Ft!==null)}}V=g}}if(g.subtreeFlags&2064&&b!==null)b.return=g,V=b;else e:for(;V!==null;){if(g=V,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Pj(9,g,g.return)}var ot=g.sibling;if(ot!==null){ot.return=g.return,V=ot;break e}V=g.return}}var Ln=e.current;for(V=Ln;V!==null;){b=V;var Cl=b.child;if(b.subtreeFlags&2064&&Cl!==null)Cl.return=b,V=Cl;else e:for(b=Ln;V!==null;){if(_=V,_.flags&2048)try{switch(_.tag){case 0:case 11:case 15:Qj(9,_)}}catch(zl){W(_,_.return,zl)}if(_===b){V=null;break e}var Tl=_.sibling;if(Tl!==null){Tl.return=_.return,V=Tl;break e}V=_.return}}if(K=d,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,e)}catch{}c=!0}return c}finally{C=a,ok$2.transition=o}}return!1}function Xk(e,o,a){o=Ji$2(a,o),o=Ni$2(e,o,1),e=nh(e,o,1),o=R(),e!==null&&(Ac$1(e,1,o),Dk(e,o))}function W(e,o,a){if(e.tag===3)Xk(e,e,a);else for(;o!==null;){if(o.tag===3){Xk(o,e,a);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ri$2===null||!Ri$2.has(c))){e=Ji$2(a,e),e=Qi$2(o,e,1),o=nh(o,e,1),e=R(),o!==null&&(Ac$1(o,1,e),Dk(o,e));break}}o=o.return}}function Ti$2(e,o,a){var c=e.pingCache;c!==null&&c.delete(o),o=R(),e.pingedLanes|=e.suspendedLanes&a,Q===e&&(Z&a)===a&&(T$2===4||T$2===3&&(Z&130023424)===Z&&500>B()-fk?Kk(e,0):rk|=a),Dk(e,o)}function Yk(e,o){o===0&&(e.mode&1?(o=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):o=1);var a=R();e=ih(e,o),e!==null&&(Ac$1(e,o,a),Dk(e,a))}function uj(e){var o=e.memoizedState,a=0;o!==null&&(a=o.retryLane),Yk(e,a)}function bk(e,o){var a=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(p$1(314))}c!==null&&c.delete(o),Yk(e,a)}var Vk;Vk=function(e,o,a){if(e!==null)if(e.memoizedProps!==o.pendingProps||Wf.current)dh=!0;else{if(!(e.lanes&a)&&!(o.flags&128))return dh=!1,yj(e,o,a);dh=!!(e.flags&131072)}else dh=!1,I&&o.flags&1048576&&ug(o,ng,o.index);switch(o.lanes=0,o.tag){case 2:var c=o.type;ij(e,o),e=o.pendingProps;var d=Yf(o,H.current);ch$1(o,a),d=Nh(null,o,c,e,d,a);var g=Sh();return o.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Zf(c)?(g=!0,cg(o)):g=!1,o.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,kh(o),d.updater=Ei$1,o.stateNode=d,d._reactInternals=o,Ii$2(o,c,e,a),o=jj(null,o,c,!0,g,a)):(o.tag=0,I&&g&&vg(o),Xi$2(null,o,d,a),o=o.child),o;case 16:c=o.elementType;e:{switch(ij(e,o),e=o.pendingProps,d=c._init,c=d(c._payload),o.type=c,d=o.tag=Zk(c),e=Ci$2(c,e),d){case 0:o=cj(null,o,c,e,a);break e;case 1:o=hj(null,o,c,e,a);break e;case 11:o=Yi$2(null,o,c,e,a);break e;case 14:o=$i$2(null,o,c,Ci$2(c.type,e),a);break e}throw Error(p$1(306,c,""))}return o;case 0:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Ci$2(c,d),cj(e,o,c,d,a);case 1:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Ci$2(c,d),hj(e,o,c,d,a);case 3:e:{if(kj(o),e===null)throw Error(p$1(387));c=o.pendingProps,g=o.memoizedState,d=g.element,lh(e,o),qh(o,c,null,a);var b=o.memoizedState;if(c=b.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){d=Ji$2(Error(p$1(423)),o),o=lj(e,o,c,a,d);break e}else if(c!==d){d=Ji$2(Error(p$1(424)),o),o=lj(e,o,c,a,d);break e}else for(yg=Lf(o.stateNode.containerInfo.firstChild),xg=o,I=!0,zg=null,a=Vg(o,null,c,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ig(),c===d){o=Zi$2(e,o,a);break e}Xi$2(e,o,c,a)}o=o.child}return o;case 5:return Ah(o),e===null&&Eg(o),c=o.type,d=o.pendingProps,g=e!==null?e.memoizedProps:null,b=d.children,Ef(c,d)?b=null:g!==null&&Ef(c,g)&&(o.flags|=32),gj(e,o),Xi$2(e,o,b,a),o.child;case 6:return e===null&&Eg(o),null;case 13:return oj(e,o,a);case 4:return yh(o,o.stateNode.containerInfo),c=o.pendingProps,e===null?o.child=Ug(o,null,c,a):Xi$2(e,o,c,a),o.child;case 11:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Ci$2(c,d),Yi$2(e,o,c,d,a);case 7:return Xi$2(e,o,o.pendingProps,a),o.child;case 8:return Xi$2(e,o,o.pendingProps.children,a),o.child;case 12:return Xi$2(e,o,o.pendingProps.children,a),o.child;case 10:e:{if(c=o.type._context,d=o.pendingProps,g=o.memoizedProps,b=d.value,G(Wg,c._currentValue),c._currentValue=b,g!==null)if(He$2(g.value,b)){if(g.children===d.children&&!Wf.current){o=Zi$2(e,o,a);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var _=g.dependencies;if(_!==null){b=g.child;for(var $=_.firstContext;$!==null;){if($.context===c){if(g.tag===1){$=mh(-1,a&-a),$.tag=2;var j=g.updateQueue;if(j!==null){j=j.shared;var rt=j.pending;rt===null?$.next=$:($.next=rt.next,rt.next=$),j.pending=$}}g.lanes|=a,$=g.alternate,$!==null&&($.lanes|=a),bh(g.return,a,o),_.lanes|=a;break}$=$.next}}else if(g.tag===10)b=g.type===o.type?null:g.child;else if(g.tag===18){if(b=g.return,b===null)throw Error(p$1(341));b.lanes|=a,_=b.alternate,_!==null&&(_.lanes|=a),bh(b,a,o),b=g.sibling}else b=g.child;if(b!==null)b.return=g;else for(b=g;b!==null;){if(b===o){b=null;break}if(g=b.sibling,g!==null){g.return=b.return,b=g;break}b=b.return}g=b}Xi$2(e,o,d.children,a),o=o.child}return o;case 9:return d=o.type,c=o.pendingProps.children,ch$1(o,a),d=eh(d),c=c(d),o.flags|=1,Xi$2(e,o,c,a),o.child;case 14:return c=o.type,d=Ci$2(c,o.pendingProps),d=Ci$2(c.type,d),$i$2(e,o,c,d,a);case 15:return bj(e,o,o.type,o.pendingProps,a);case 17:return c=o.type,d=o.pendingProps,d=o.elementType===c?d:Ci$2(c,d),ij(e,o),o.tag=1,Zf(c)?(e=!0,cg(o)):e=!1,ch$1(o,a),Gi$2(o,c,d),Ii$2(o,c,d,a),jj(null,o,c,!0,e,a);case 19:return xj(e,o,a);case 22:return dj(e,o,a)}throw Error(p$1(156,o.tag))};function Fk(e,o){return ac$1(e,o)}function $k(e,o,a,c){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(e,o,a,c){return new $k(e,o,a,c)}function aj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zk(e){if(typeof e=="function")return aj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Da$1)return 11;if(e===Ga$1)return 14}return 2}function Pg(e,o){var a=e.alternate;return a===null?(a=Bg(e.tag,o,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=o,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,o=e.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Rg(e,o,a,c,d,g){var b=2;if(c=e,typeof e=="function")aj(e)&&(b=1);else if(typeof e=="string")b=5;else e:switch(e){case ya$2:return Tg(a.children,d,g,o);case za$1:b=8,d|=8;break;case Aa$2:return e=Bg(12,a,o,d|2),e.elementType=Aa$2,e.lanes=g,e;case Ea$2:return e=Bg(13,a,o,d),e.elementType=Ea$2,e.lanes=g,e;case Fa$2:return e=Bg(19,a,o,d),e.elementType=Fa$2,e.lanes=g,e;case Ia$2:return pj(a,d,g,o);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ba$2:b=10;break e;case Ca$2:b=9;break e;case Da$1:b=11;break e;case Ga$1:b=14;break e;case Ha$2:b=16,c=null;break e}throw Error(p$1(130,e==null?e:typeof e,""))}return o=Bg(b,a,o,d),o.elementType=e,o.type=c,o.lanes=g,o}function Tg(e,o,a,c){return e=Bg(7,e,c,o),e.lanes=a,e}function pj(e,o,a,c){return e=Bg(22,e,c,o),e.elementType=Ia$2,e.lanes=a,e.stateNode={isHidden:!1},e}function Qg(e,o,a){return e=Bg(6,e,null,o),e.lanes=a,e}function Sg(e,o,a){return o=Bg(4,e.children!==null?e.children:[],e.key,o),o.lanes=a,o.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},o}function al(e,o,a,c,d){this.tag=o,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function bl(e,o,a,c,d,g,b,_,$){return e=new al(e,o,a,_,$),o===1?(o=1,g===!0&&(o|=8)):o=0,g=Bg(3,null,null,o),e.current=g,g.stateNode=e,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},kh(g),e}function cl(e,o,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$2,key:c==null?null:""+c,children:e,containerInfo:o,implementation:a}}function dl(e){if(!e)return Vf;e=e._reactInternals;e:{if(Vb(e)!==e||e.tag!==1)throw Error(p$1(170));var o=e;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Zf(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(p$1(171))}if(e.tag===1){var a=e.type;if(Zf(a))return bg(e,a,o)}return o}function el(e,o,a,c,d,g,b,_,$){return e=bl(a,c,!0,e,d,g,b,_,$),e.context=dl(null),a=e.current,c=R(),d=yi$2(a),g=mh(c,d),g.callback=o??null,nh(a,g,d),e.current.lanes=d,Ac$1(e,d,c),Dk(e,c),e}function fl(e,o,a,c){var d=o.current,g=R(),b=yi$2(d);return a=dl(a),o.context===null?o.context=a:o.pendingContext=a,o=mh(g,b),o.payload={element:e},c=c===void 0?null:c,c!==null&&(o.callback=c),e=nh(d,o,b),e!==null&&(gi$1(e,d,b,g),oh(e,d,b)),b}function gl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hl(e,o){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<o?a:o}}function il(e,o){hl(e,o),(e=e.alternate)&&hl(e,o)}function jl(){return null}var kl=typeof reportError=="function"?reportError:function(e){console.error(e)};function ll(e){this._internalRoot=e}ml.prototype.render=ll.prototype.render=function(e){var o=this._internalRoot;if(o===null)throw Error(p$1(409));fl(e,o,null,null)};ml.prototype.unmount=ll.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var o=e.containerInfo;Rk(function(){fl(null,e,null,null)}),o[uf]=null}};function ml(e){this._internalRoot=e}ml.prototype.unstable_scheduleHydration=function(e){if(e){var o=Hc$1();e={blockedOn:null,target:e,priority:o};for(var a=0;a<Qc$1.length&&o!==0&&o<Qc$1[a].priority;a++);Qc$1.splice(a,0,e),a===0&&Vc$1(e)}};function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ol(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pl(){}function ql(e,o,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var j=gl(b);g.call(j)}}var b=el(o,c,e,0,null,!1,!1,"",pl);return e._reactRootContainer=b,e[uf]=b.current,sf(e.nodeType===8?e.parentNode:e),Rk(),b}for(;d=e.lastChild;)e.removeChild(d);if(typeof c=="function"){var _=c;c=function(){var j=gl($);_.call(j)}}var $=bl(e,0,!1,null,null,!1,!1,"",pl);return e._reactRootContainer=$,e[uf]=$.current,sf(e.nodeType===8?e.parentNode:e),Rk(function(){fl(o,$,a,c)}),$}function rl(e,o,a,c,d){var g=a._reactRootContainer;if(g){var b=g;if(typeof d=="function"){var _=d;d=function(){var $=gl(b);_.call($)}}fl(o,b,e,d)}else b=ql(a,o,e,d,c);return gl(b)}Ec$1=function(e){switch(e.tag){case 3:var o=e.stateNode;if(o.current.memoizedState.isDehydrated){var a=tc$1(o.pendingLanes);a!==0&&(Cc$1(o,a|1),Dk(o,B()),!(K&6)&&(Gj=B()+500,jg()))}break;case 13:Rk(function(){var c=ih(e,1);if(c!==null){var d=R();gi$1(c,e,1,d)}}),il(e,1)}};Fc$1=function(e){if(e.tag===13){var o=ih(e,134217728);if(o!==null){var a=R();gi$1(o,e,134217728,a)}il(e,134217728)}};Gc$1=function(e){if(e.tag===13){var o=yi$2(e),a=ih(e,o);if(a!==null){var c=R();gi$1(a,e,o,c)}il(e,o)}};Hc$1=function(){return C};Ic$1=function(e,o){var a=C;try{return C=e,o()}finally{C=a}};yb=function(e,o,a){switch(o){case"input":if(bb(e,a),o=a.name,a.type==="radio"&&o!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var c=a[o];if(c!==e&&c.form===e.form){var d=Db(c);if(!d)throw Error(p$1(90));Wa$1(c),bb(c,d)}}}break;case"textarea":ib(e,a);break;case"select":o=a.value,o!=null&&fb(e,!!a.multiple,o,!1)}};Gb=Qk;Hb=Rk;var sl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Qk]},tl={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ul={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$2.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zb(e),e===null?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||jl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{kc$1=vl.inject(ul),lc$1=vl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl;reactDom_production_min.createPortal=function(e,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nl(o))throw Error(p$1(200));return cl(e,o,null,a)};reactDom_production_min.createRoot=function(e,o){if(!nl(e))throw Error(p$1(299));var a=!1,c="",d=kl;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onRecoverableError!==void 0&&(d=o.onRecoverableError)),o=bl(e,1,!1,null,null,a,!1,c,d),e[uf]=o.current,sf(e.nodeType===8?e.parentNode:e),new ll(o)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var o=e._reactInternals;if(o===void 0)throw typeof e.render=="function"?Error(p$1(188)):(e=Object.keys(e).join(","),Error(p$1(268,e)));return e=Zb(o),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Rk(e)};reactDom_production_min.hydrate=function(e,o,a){if(!ol(o))throw Error(p$1(200));return rl(null,e,o,!0,a)};reactDom_production_min.hydrateRoot=function(e,o,a){if(!nl(e))throw Error(p$1(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",b=kl;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(b=a.onRecoverableError)),o=el(o,null,e,1,a??null,d,!1,g,b),e[uf]=o.current,sf(e),c)for(e=0;e<c.length;e++)a=c[e],d=a._getVersion,d=d(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,d]:o.mutableSourceEagerHydrationData.push(a,d);return new ml(o)};reactDom_production_min.render=function(e,o,a){if(!ol(o))throw Error(p$1(200));return rl(null,e,o,!1,a)};reactDom_production_min.unmountComponentAtNode=function(e){if(!ol(e))throw Error(p$1(40));return e._reactRootContainer?(Rk(function(){rl(null,null,e,!1,function(){e._reactRootContainer=null,e[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Qk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,o,a,c){if(!ol(a))throw Error(p$1(200));if(e==null||e._reactInternals===void 0)throw Error(p$1(38));return rl(e,o,a,!1,c)};reactDom_production_min.version="18.3.1-next-f1338f8080-20240426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends$4.apply(this,arguments)}var Action;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createHashHistory(e){e===void 0&&(e={});function o(d,g){let{pathname:b="/",search:_="",hash:$=""}=parsePath(d.location.hash.substr(1));return!b.startsWith("/")&&!b.startsWith(".")&&(b="/"+b),createLocation("",{pathname:b,search:_,hash:$},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function a(d,g){let b=d.document.querySelector("base"),_="";if(b&&b.getAttribute("href")){let $=d.location.href,j=$.indexOf("#");_=j===-1?$:$.slice(0,j)}return _+"#"+(typeof g=="string"?g:createPath(g))}function c(d,g){warning(d.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(g)+")")}return getUrlBasedHistory(o,a,c,e)}function invariant(e,o){if(e===!1||e===null||typeof e>"u")throw new Error(o)}function warning(e,o){if(!e){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(e,o){return{usr:e.state,key:e.key,idx:o}}function createLocation(e,o,a,c){return a===void 0&&(a=null),_extends$4({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof o=="string"?parsePath(o):o,{state:a,key:o&&o.key||c||createKey()})}function createPath(e){let{pathname:o="/",search:a="",hash:c=""}=e;return a&&a!=="?"&&(o+=a.charAt(0)==="?"?a:"?"+a),c&&c!=="#"&&(o+=c.charAt(0)==="#"?c:"#"+c),o}function parsePath(e){let o={};if(e){let a=e.indexOf("#");a>=0&&(o.hash=e.substr(a),e=e.substr(0,a));let c=e.indexOf("?");c>=0&&(o.search=e.substr(c),e=e.substr(0,c)),e&&(o.pathname=e)}return o}function getUrlBasedHistory(e,o,a,c){c===void 0&&(c={});let{window:d=document.defaultView,v5Compat:g=!1}=c,b=d.history,_=Action.Pop,$=null,j=rt();j==null&&(j=0,b.replaceState(_extends$4({},b.state,{idx:j}),""));function rt(){return(b.state||{idx:null}).idx}function nt(){_=Action.Pop;let it=rt(),ot=it==null?null:it-j;j=it,$&&$({action:_,location:Ft.location,delta:ot})}function st(it,ot){_=Action.Push;let Ln=createLocation(Ft.location,it,ot);a&&a(Ln,it),j=rt()+1;let Cl=getHistoryState(Ln,j),Tl=Ft.createHref(Ln);try{b.pushState(Cl,"",Tl)}catch(zl){if(zl instanceof DOMException&&zl.name==="DataCloneError")throw zl;d.location.assign(Tl)}g&&$&&$({action:_,location:Ft.location,delta:1})}function jt(it,ot){_=Action.Replace;let Ln=createLocation(Ft.location,it,ot);a&&a(Ln,it),j=rt();let Cl=getHistoryState(Ln,j),Tl=Ft.createHref(Ln);b.replaceState(Cl,"",Tl),g&&$&&$({action:_,location:Ft.location,delta:0})}function wl(it){let ot=d.location.origin!=="null"?d.location.origin:d.location.href,Ln=typeof it=="string"?it:createPath(it);return Ln=Ln.replace(/ $/,"%20"),invariant(ot,"No window.location.(origin|href) available to create URL for href: "+Ln),new URL(Ln,ot)}let Ft={get action(){return _},get location(){return e(d,b)},listen(it){if($)throw new Error("A history only accepts one active listener");return d.addEventListener(PopStateEventType,nt),$=it,()=>{d.removeEventListener(PopStateEventType,nt),$=null}},createHref(it){return o(d,it)},createURL:wl,encodeLocation(it){let ot=wl(it);return{pathname:ot.pathname,search:ot.search,hash:ot.hash}},push:st,replace:jt,go(it){return b.go(it)}};return Ft}var ResultType;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ResultType||(ResultType={}));function matchRoutes(e,o,a){return a===void 0&&(a="/"),matchRoutesImpl(e,o,a)}function matchRoutesImpl(e,o,a,c){let d=typeof o=="string"?parsePath(o):o,g=stripBasename(d.pathname||"/",a);if(g==null)return null;let b=flattenRoutes(e);rankRouteBranches(b);let _=null;for(let $=0;_==null&&$<b.length;++$){let j=decodePath(g);_=matchRouteBranch(b[$],j)}return _}function flattenRoutes(e,o,a,c){o===void 0&&(o=[]),a===void 0&&(a=[]),c===void 0&&(c="");let d=(g,b,_)=>{let $={relativePath:_===void 0?g.path||"":_,caseSensitive:g.caseSensitive===!0,childrenIndex:b,route:g};$.relativePath.startsWith("/")&&(invariant($.relativePath.startsWith(c),'Absolute route path "'+$.relativePath+'" nested under path '+('"'+c+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),$.relativePath=$.relativePath.slice(c.length));let j=joinPaths([c,$.relativePath]),rt=a.concat($);g.children&&g.children.length>0&&(invariant(g.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+j+'".')),flattenRoutes(g.children,o,rt,j)),!(g.path==null&&!g.index)&&o.push({path:j,score:computeScore(j,g.index),routesMeta:rt})};return e.forEach((g,b)=>{var _;if(g.path===""||!((_=g.path)!=null&&_.includes("?")))d(g,b);else for(let $ of explodeOptionalSegments(g.path))d(g,b,$)}),o}function explodeOptionalSegments(e){let o=e.split("/");if(o.length===0)return[];let[a,...c]=o,d=a.endsWith("?"),g=a.replace(/\?$/,"");if(c.length===0)return d?[g,""]:[g];let b=explodeOptionalSegments(c.join("/")),_=[];return _.push(...b.map($=>$===""?g:[g,$].join("/"))),d&&_.push(...b),_.map($=>e.startsWith("/")&&$===""?"/":$)}function rankRouteBranches(e){e.sort((o,a)=>o.score!==a.score?a.score-o.score:compareIndexes(o.routesMeta.map(c=>c.childrenIndex),a.routesMeta.map(c=>c.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=e=>e==="*";function computeScore(e,o){let a=e.split("/"),c=a.length;return a.some(isSplat)&&(c+=splatPenalty),o&&(c+=indexRouteValue),a.filter(d=>!isSplat(d)).reduce((d,g)=>d+(paramRe.test(g)?dynamicSegmentValue:g===""?emptySegmentValue:staticSegmentValue),c)}function compareIndexes(e,o){return e.length===o.length&&e.slice(0,-1).every((c,d)=>c===o[d])?e[e.length-1]-o[o.length-1]:0}function matchRouteBranch(e,o,a){let{routesMeta:c}=e,d={},g="/",b=[];for(let _=0;_<c.length;++_){let $=c[_],j=_===c.length-1,rt=g==="/"?o:o.slice(g.length)||"/",nt=matchPath({path:$.relativePath,caseSensitive:$.caseSensitive,end:j},rt),st=$.route;if(!nt)return null;Object.assign(d,nt.params),b.push({params:d,pathname:joinPaths([g,nt.pathname]),pathnameBase:normalizePathname(joinPaths([g,nt.pathnameBase])),route:st}),nt.pathnameBase!=="/"&&(g=joinPaths([g,nt.pathnameBase]))}return b}function matchPath(e,o){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,c]=compilePath(e.path,e.caseSensitive,e.end),d=o.match(a);if(!d)return null;let g=d[0],b=g.replace(/(.)\/+$/,"$1"),_=d.slice(1);return{params:c.reduce((j,rt,nt)=>{let{paramName:st,isOptional:jt}=rt;if(st==="*"){let Ft=_[nt]||"";b=g.slice(0,g.length-Ft.length).replace(/(.)\/+$/,"$1")}const wl=_[nt];return jt&&!wl?j[st]=void 0:j[st]=(wl||"").replace(/%2F/g,"/"),j},{}),pathname:g,pathnameBase:b,pattern:e}}function compilePath(e,o,a){o===void 0&&(o=!1),a===void 0&&(a=!0),warning(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let c=[],d="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(b,_,$)=>(c.push({paramName:_,isOptional:$!=null}),$?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(c.push({paramName:"*"}),d+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?d+="\\/*$":e!==""&&e!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,o?void 0:"i"),c]}function decodePath(e){try{return e.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return warning(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+o+").")),e}}function stripBasename(e,o){if(o==="/")return e;if(!e.toLowerCase().startsWith(o.toLowerCase()))return null;let a=o.endsWith("/")?o.length-1:o.length,c=e.charAt(a);return c&&c!=="/"?null:e.slice(a)||"/"}function resolvePath(e,o){o===void 0&&(o="/");let{pathname:a,search:c="",hash:d=""}=typeof e=="string"?parsePath(e):e;return{pathname:a?a.startsWith("/")?a:resolvePathname(a,o):o,search:normalizeSearch(c),hash:normalizeHash(d)}}function resolvePathname(e,o){let a=o.replace(/\/+$/,"").split("/");return e.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function getInvalidPathError(e,o,a,c){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+o+"` field ["+JSON.stringify(c)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(e){return e.filter((o,a)=>a===0||o.route.path&&o.route.path.length>0)}function getResolveToMatches(e,o){let a=getPathContributingMatches(e);return o?a.map((c,d)=>d===a.length-1?c.pathname:c.pathnameBase):a.map(c=>c.pathnameBase)}function resolveTo(e,o,a,c){c===void 0&&(c=!1);let d;typeof e=="string"?d=parsePath(e):(d=_extends$4({},e),invariant(!d.pathname||!d.pathname.includes("?"),getInvalidPathError("?","pathname","search",d)),invariant(!d.pathname||!d.pathname.includes("#"),getInvalidPathError("#","pathname","hash",d)),invariant(!d.search||!d.search.includes("#"),getInvalidPathError("#","search","hash",d)));let g=e===""||d.pathname==="",b=g?"/":d.pathname,_;if(b==null)_=a;else{let nt=o.length-1;if(!c&&b.startsWith("..")){let st=b.split("/");for(;st[0]==="..";)st.shift(),nt-=1;d.pathname=st.join("/")}_=nt>=0?o[nt]:"/"}let $=resolvePath(d,_),j=b&&b!=="/"&&b.endsWith("/"),rt=(g||b===".")&&a.endsWith("/");return!$.pathname.endsWith("/")&&(j||rt)&&($.pathname+="/"),$}const joinPaths=e=>e.join("/").replace(/\/\/+/g,"/"),normalizePathname=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,normalizeHash=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function isRouteErrorResponse(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends$3.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useHref(e,o){let{relative:a}=o===void 0?{}:o;useInRouterContext()||invariant(!1);let{basename:c,navigator:d}=reactExports.useContext(NavigationContext),{hash:g,pathname:b,search:_}=useResolvedPath(e,{relative:a}),$=b;return c!=="/"&&($=b==="/"?c:joinPaths([c,b])),d.createHref({pathname:$,search:_,hash:g})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(e){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(e)}function useNavigate(){let{isDataRoute:e}=reactExports.useContext(RouteContext);return e?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant(!1);let e=reactExports.useContext(DataRouterContext),{basename:o,future:a,navigator:c}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(d,a.v7_relativeSplatPath)),_=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{_.current=!0}),reactExports.useCallback(function(j,rt){if(rt===void 0&&(rt={}),!_.current)return;if(typeof j=="number"){c.go(j);return}let nt=resolveTo(j,JSON.parse(b),g,rt.relative==="path");e==null&&o!=="/"&&(nt.pathname=nt.pathname==="/"?o:joinPaths([o,nt.pathname])),(rt.replace?c.replace:c.push)(nt,rt.state,rt)},[o,c,b,g,e])}function useParams(){let{matches:e}=reactExports.useContext(RouteContext),o=e[e.length-1];return o?o.params:{}}function useResolvedPath(e,o){let{relative:a}=o===void 0?{}:o,{future:c}=reactExports.useContext(NavigationContext),{matches:d}=reactExports.useContext(RouteContext),{pathname:g}=useLocation(),b=JSON.stringify(getResolveToMatches(d,c.v7_relativeSplatPath));return reactExports.useMemo(()=>resolveTo(e,JSON.parse(b),g,a==="path"),[e,b,g,a])}function useRoutes(e,o){return useRoutesImpl(e,o)}function useRoutesImpl(e,o,a,c){useInRouterContext()||invariant(!1);let{navigator:d}=reactExports.useContext(NavigationContext),{matches:g}=reactExports.useContext(RouteContext),b=g[g.length-1],_=b?b.params:{};b&&b.pathname;let $=b?b.pathnameBase:"/";b&&b.route;let j=useLocation(),rt;if(o){var nt;let it=typeof o=="string"?parsePath(o):o;$==="/"||(nt=it.pathname)!=null&&nt.startsWith($)||invariant(!1),rt=it}else rt=j;let st=rt.pathname||"/",jt=st;if($!=="/"){let it=$.replace(/^\//,"").split("/");jt="/"+st.replace(/^\//,"").split("/").slice(it.length).join("/")}let wl=matchRoutes(e,{pathname:jt}),Ft=_renderMatches(wl&&wl.map(it=>Object.assign({},it,{params:Object.assign({},_,it.params),pathname:joinPaths([$,d.encodeLocation?d.encodeLocation(it.pathname).pathname:it.pathname]),pathnameBase:it.pathnameBase==="/"?$:joinPaths([$,d.encodeLocation?d.encodeLocation(it.pathnameBase).pathname:it.pathnameBase])})),g,a,c);return o&&Ft?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$3({pathname:"/",search:"",hash:"",state:null,key:"default"},rt),navigationType:Action.Pop}},Ft):Ft}function DefaultErrorComponent(){let e=useRouteError(),o=isRouteErrorResponse(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,d={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},o),a?reactExports.createElement("pre",{style:d},a):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(o){super(o),this.state={location:o.location,revalidation:o.revalidation,error:o.error}}static getDerivedStateFromError(o){return{error:o}}static getDerivedStateFromProps(o,a){return a.location!==o.location||a.revalidation!=="idle"&&o.revalidation==="idle"?{error:o.error,location:o.location,revalidation:o.revalidation}:{error:o.error!==void 0?o.error:a.error,location:a.location,revalidation:o.revalidation||a.revalidation}}componentDidCatch(o,a){console.error("React Router caught the following error during render",o,a)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(e){let{routeContext:o,match:a,children:c}=e,d=reactExports.useContext(DataRouterContext);return d&&d.static&&d.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(d.staticContext._deepestRenderedBoundaryId=a.route.id),reactExports.createElement(RouteContext.Provider,{value:o},c)}function _renderMatches(e,o,a,c){var d;if(o===void 0&&(o=[]),a===void 0&&(a=null),c===void 0&&(c=null),e==null){var g;if(!a)return null;if(a.errors)e=a.matches;else if((g=c)!=null&&g.v7_partialHydration&&o.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let b=e,_=(d=a)==null?void 0:d.errors;if(_!=null){let rt=b.findIndex(nt=>nt.route.id&&(_==null?void 0:_[nt.route.id])!==void 0);rt>=0||invariant(!1),b=b.slice(0,Math.min(b.length,rt+1))}let $=!1,j=-1;if(a&&c&&c.v7_partialHydration)for(let rt=0;rt<b.length;rt++){let nt=b[rt];if((nt.route.HydrateFallback||nt.route.hydrateFallbackElement)&&(j=rt),nt.route.id){let{loaderData:st,errors:jt}=a,wl=nt.route.loader&&st[nt.route.id]===void 0&&(!jt||jt[nt.route.id]===void 0);if(nt.route.lazy||wl){$=!0,j>=0?b=b.slice(0,j+1):b=[b[0]];break}}}return b.reduceRight((rt,nt,st)=>{let jt,wl=!1,Ft=null,it=null;a&&(jt=_&&nt.route.id?_[nt.route.id]:void 0,Ft=nt.route.errorElement||defaultErrorElement,$&&(j<0&&st===0?(warningOnce("route-fallback"),wl=!0,it=null):j===st&&(wl=!0,it=nt.route.hydrateFallbackElement||null)));let ot=o.concat(b.slice(0,st+1)),Ln=()=>{let Cl;return jt?Cl=Ft:wl?Cl=it:nt.route.Component?Cl=reactExports.createElement(nt.route.Component,null):nt.route.element?Cl=nt.route.element:Cl=rt,reactExports.createElement(RenderedRoute,{match:nt,routeContext:{outlet:rt,matches:ot,isDataRoute:a!=null},children:Cl})};return a&&(nt.route.ErrorBoundary||nt.route.errorElement||st===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:Ft,error:jt,children:Ln(),routeContext:{outlet:null,matches:ot,isDataRoute:!0}}):Ln()},null)}var DataRouterHook$1=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(DataRouterHook$1||{}),DataRouterStateHook$1=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(DataRouterStateHook$1||{});function useDataRouterContext$1(e){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useDataRouterState(e){let o=reactExports.useContext(DataRouterStateContext);return o||invariant(!1),o}function useRouteContext(e){let o=reactExports.useContext(RouteContext);return o||invariant(!1),o}function useCurrentRouteId(e){let o=useRouteContext(),a=o.matches[o.matches.length-1];return a.route.id||invariant(!1),a.route.id}function useRouteError(){var e;let o=reactExports.useContext(RouteErrorContext),a=useDataRouterState(),c=useCurrentRouteId();return o!==void 0?o:(e=a.errors)==null?void 0:e[c]}function useNavigateStable(){let{router:e}=useDataRouterContext$1(DataRouterHook$1.UseNavigateStable),o=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),a=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{a.current=!0}),reactExports.useCallback(function(d,g){g===void 0&&(g={}),a.current&&(typeof d=="number"?e.navigate(d):e.navigate(d,_extends$3({fromRouteId:o},g)))},[e,o])}const alreadyWarned$1={};function warningOnce(e,o,a){alreadyWarned$1[e]||(alreadyWarned$1[e]=!0)}function logV6DeprecationWarnings(e,o){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Route(e){invariant(!1)}function Router(e){let{basename:o="/",children:a=null,location:c,navigationType:d=Action.Pop,navigator:g,static:b=!1,future:_}=e;useInRouterContext()&&invariant(!1);let $=o.replace(/^\/*/,"/"),j=reactExports.useMemo(()=>({basename:$,navigator:g,static:b,future:_extends$3({v7_relativeSplatPath:!1},_)}),[$,_,g,b]);typeof c=="string"&&(c=parsePath(c));let{pathname:rt="/",search:nt="",hash:st="",state:jt=null,key:wl="default"}=c,Ft=reactExports.useMemo(()=>{let it=stripBasename(rt,$);return it==null?null:{location:{pathname:it,search:nt,hash:st,state:jt,key:wl},navigationType:d}},[$,rt,nt,st,jt,wl,d]);return Ft==null?null:reactExports.createElement(NavigationContext.Provider,{value:j},reactExports.createElement(LocationContext.Provider,{children:a,value:Ft}))}function Routes(e){let{children:o,location:a}=e;return useRoutes(createRoutesFromChildren(o),a)}new Promise(()=>{});function createRoutesFromChildren(e,o){o===void 0&&(o=[]);let a=[];return reactExports.Children.forEach(e,(c,d)=>{if(!reactExports.isValidElement(c))return;let g=[...o,d];if(c.type===reactExports.Fragment){a.push.apply(a,createRoutesFromChildren(c.props.children,g));return}c.type!==Route&&invariant(!1),!c.props.index||!c.props.children||invariant(!1);let b={id:c.props.id||g.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,loader:c.props.loader,action:c.props.action,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(b.children=createRoutesFromChildren(c.props.children,g)),a.push(b)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends$2.apply(this,arguments)}function _objectWithoutPropertiesLoose$7(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function isModifiedEvent(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function shouldProcessLinkClick(e,o){return e.button===0&&(!o||o==="_self")&&!isModifiedEvent(e)}const _excluded$6=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_excluded2$1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const ViewTransitionContext=reactExports.createContext({isTransitioning:!1}),START_TRANSITION="startTransition",startTransitionImpl=React$1[START_TRANSITION];function HashRouter(e){let{basename:o,children:a,future:c,window:d}=e,g=reactExports.useRef();g.current==null&&(g.current=createHashHistory({window:d,v5Compat:!0}));let b=g.current,[_,$]=reactExports.useState({action:b.action,location:b.location}),{v7_startTransition:j}=c||{},rt=reactExports.useCallback(nt=>{j&&startTransitionImpl?startTransitionImpl(()=>$(nt)):$(nt)},[$,j]);return reactExports.useLayoutEffect(()=>b.listen(rt),[b,rt]),reactExports.useEffect(()=>logV6DeprecationWarnings(c),[c]),reactExports.createElement(Router,{basename:o,children:a,location:_.location,navigationType:_.action,navigator:b,future:c})}const isBrowser=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function(o,a){let{onClick:c,relative:d,reloadDocument:g,replace:b,state:_,target:$,to:j,preventScrollReset:rt,viewTransition:nt}=o,st=_objectWithoutPropertiesLoose$7(o,_excluded$6),{basename:jt}=reactExports.useContext(NavigationContext),wl,Ft=!1;if(typeof j=="string"&&ABSOLUTE_URL_REGEX.test(j)&&(wl=j,isBrowser))try{let Cl=new URL(window.location.href),Tl=j.startsWith("//")?new URL(Cl.protocol+j):new URL(j),zl=stripBasename(Tl.pathname,jt);Tl.origin===Cl.origin&&zl!=null?j=zl+Tl.search+Tl.hash:Ft=!0}catch{}let it=useHref(j,{relative:d}),ot=useLinkClickHandler(j,{replace:b,state:_,target:$,preventScrollReset:rt,relative:d,viewTransition:nt});function Ln(Cl){c&&c(Cl),Cl.defaultPrevented||ot(Cl)}return reactExports.createElement("a",_extends$2({},st,{href:wl||it,onClick:Ft||g?c:Ln,ref:a,target:$}))}),NavLink$1=reactExports.forwardRef(function(o,a){let{"aria-current":c="page",caseSensitive:d=!1,className:g="",end:b=!1,style:_,to:$,viewTransition:j,children:rt}=o,nt=_objectWithoutPropertiesLoose$7(o,_excluded2$1),st=useResolvedPath($,{relative:nt.relative}),jt=useLocation(),wl=reactExports.useContext(DataRouterStateContext),{navigator:Ft,basename:it}=reactExports.useContext(NavigationContext),ot=wl!=null&&useViewTransitionState(st)&&j===!0,Ln=Ft.encodeLocation?Ft.encodeLocation(st).pathname:st.pathname,Cl=jt.pathname,Tl=wl&&wl.navigation&&wl.navigation.location?wl.navigation.location.pathname:null;d||(Cl=Cl.toLowerCase(),Tl=Tl?Tl.toLowerCase():null,Ln=Ln.toLowerCase()),Tl&&it&&(Tl=stripBasename(Tl,it)||Tl);const zl=Ln!=="/"&&Ln.endsWith("/")?Ln.length-1:Ln.length;let In=Cl===Ln||!b&&Cl.startsWith(Ln)&&Cl.charAt(zl)==="/",Ml=Tl!=null&&(Tl===Ln||!b&&Tl.startsWith(Ln)&&Tl.charAt(Ln.length)==="/"),Dl={isActive:In,isPending:Ml,isTransitioning:ot},Ul=In?c:void 0,Vl;typeof g=="function"?Vl=g(Dl):Vl=[g,In?"active":null,Ml?"pending":null,ot?"transitioning":null].filter(Boolean).join(" ");let mu=typeof _=="function"?_(Dl):_;return reactExports.createElement(Link,_extends$2({},nt,{"aria-current":Ul,className:Vl,ref:a,style:mu,to:$,viewTransition:j}),typeof rt=="function"?rt(Dl):rt)});var DataRouterHook;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useDataRouterContext(e){let o=reactExports.useContext(DataRouterContext);return o||invariant(!1),o}function useLinkClickHandler(e,o){let{target:a,replace:c,state:d,preventScrollReset:g,relative:b,viewTransition:_}=o===void 0?{}:o,$=useNavigate(),j=useLocation(),rt=useResolvedPath(e,{relative:b});return reactExports.useCallback(nt=>{if(shouldProcessLinkClick(nt,a)){nt.preventDefault();let st=c!==void 0?c:createPath(j)===createPath(rt);$(e,{replace:st,state:d,preventScrollReset:g,relative:b,viewTransition:_})}},[j,$,rt,c,d,a,e,g,b,_])}function useViewTransitionState(e,o){o===void 0&&(o={});let a=reactExports.useContext(ViewTransitionContext);a==null&&invariant(!1);let{basename:c}=useDataRouterContext(DataRouterHook.useViewTransitionState),d=useResolvedPath(e,{relative:o.relative});if(!a.isTransitioning)return!1;let g=stripBasename(a.currentLocation.pathname,c)||a.currentLocation.pathname,b=stripBasename(a.nextLocation.pathname,c)||a.nextLocation.pathname;return matchPath(d.pathname,b)!=null||matchPath(d.pathname,g)!=null}var dist$1={},Navbar$1={};const mcloud_logo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAABPCAYAAAAQlxDmAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA3XAAAN1wFCKJt4AAAAB3RJTUUH4QgeDQk2h9q0aQAADmpJREFUeNrtXXuYU9W1/61zkgzDc2ByMuM45GR4fDyGZHiM16uFXm2V6idWKWpLa6Gg9oHaa1Xwtra0Kn0/KKKoxVKxLVKq9T7Ui9ZPvNZXZQAzmaBYYJLMMDBJEMSBYSY5Z90/Mthz9jxIhuRMBrP+y87JPnvt317PvfYOUKACFahABSpQz0SDefDbAFupe9SIU5/ldkeiOhZrKwCRQwpWw5FsK50tMc1hovMATAagArAJjx4mpn0gfQcTvZXU+IWZTfGWAhBnSIGxzlqWaBmAawCM6EcXDEIdM/8mkXBsqm1pOVEAIu2ZAwVU50IQ3QbGeVns+igYj9mIfzY1HD9YAKIP8o8tm0ayvg6MOWmy0Anw8S4Vla7EfECM770Tia27DtAKQBiobhbsjphyLwh3ALD38ti7BLykE79qk7TX2k8Wx42qhgFpd+XIkiQVVUPCJwmYDeAiAEN66W8HSbTU2xitLwABoK6iwumwJ/7cNWkitRGwWSfp0ZpQ698zNvKVI8foUtH1TLgJwLQeHjlOoEXecPQvH2sgGsaWnqdL0tMAzhW+0pjwoI7E92eEjh7NitpzO68kojUAqrrZJcL9vlDsWwToHzsggu4xUzWSXwUwWvhqD4GWesPR17P9zncnOUd0nqQfAri1+2Twz73h+IqPFRDBcaPdmmZ7A0CF8NWT8gksyXVgFnA75zHRHwCMEmTjDl84/quPBRBBRRmuDcXLAGYJDv8vfeHoCqvUw9uqMkMCngegmFQi8/yaSPx/rJwTaSCA0IrxQE8g1ISjd1qpo6eHY7tYlz4F0PuGZpmIngiMdY0/q4EIVLnmgrBIkMstvnB0QHRzTVNrA0j/HIAOQ/MwlviBsxaIf0yYUMQ6PySoxD2dnfYlA+WtAIAvFP8/ZtwlNF/mdyvXnJVAnEgeWwpgnFFLEWhpPuR/fJHYWjBeMQkqYdUWQD6rgKibBTtYv0vw3R/MhYvaT69Fl3XcACBpaJ40xWONVFgGhD2mXEUg1dDULhH9CHlE1c2xvQQ8ZlosjNvOLtVEWGxmkDd6G6OtyDPSZP45zInA8+s9pZPPCiACqms+AfNMQMj8O+QhTd8ffw/gOnPATWuD1XAMWiCCHqXcr7p+wcDmbi/WZTkfgWCAQDRUEOdLtDblLb9HuWzQRdZ+1XkjgdaitxQ0owng+b5IfEe+gFA3C3ZHXHkEwJI+HnvWnnQsnnLgwOG8lwi/R1lMoPXofR8AIIwF0StvV5X+S74A4Tis/PE0IADAFQlb5zN1s3rdM8kPIOrdo0YTo6eo9CSAhNA2VNKlhzkP0vEB1TUfjGt7+OrDHtr+1R53ZdWbouwDodwFwk8MTUdZ58V7muLPVldD1tqUmwCsgSFQIuYfMOTXBgwFCcOYtTVG95qB1ySdFnubovuCHqVcY34IoKsNv2odQcM8VaHQybwDom7c6FEOzbYbxtQ289d8kfhvTGCpyloAtyB/6YRMGF8dih36iLeKiqEOW+JdEMYaY4yaSGxN3qimf0yYUFSvKrc4NNvbEPYXNMn2Qjf0mZ9HflO9EQQAqG1pOQEiMQWyut6j/Cmglk4ZUCC2AHK9qtzcnvhgH4C1ADziMzLr54htOqE8z4HobXzndNMojOsYUkO96tp0JqnzfqumYKUyQZOxEcCFp3HMX+hUYvNqd6QM9S5PSYnM9u0AJghPHgawB2ArE4CUmnSa2m0umL/qi8TXf2TMq1xzWeetp5mz40y03BeKPkwA5xwIv8e5kJjWAxiWrqgD+G8QO8D0RQCVwjBWy8Oj/1EdROeA6CG3cxaIngVQZo7t8BQDbxNjIghfQvfyzt5oa7Fd+/zEve8fyxkQ9W7nTSB6uAe19iEBaxm8G6DbANSm2eV+bzg2cSD3IwwB6Po0H08Q8w9ZojAxbuBU/ZRIO9kmXV6zrzWadRvhV13LQPRI99/RE0mdJ3vDsbt94fgfNUpcCkIgzZTC7oEGIbUipWDaIIA+743E7/GFYo95w7E5BFoAoFl4biYl9Vd2TihXsgpEwO26lMD3C1LUDsJSXzj6RWPF9YzQ0aPFNm02A7/tIYgTRXIaD9DeuWB1p6ajEHRJn+0NR582NnrD0b+QRLXixhKASXJC+9O2NFQapaeOysaBeDvAY8wRJ33GF46+0acUjS9zIaF/koDxXW/8NwCXC2JxnS8S+/NAgcCAVK8qOwiYbmhuIcIDrEMHiEH42+l4TeWqnFuEwO+jwogzB0J1/hWgS0ySIOEyX2PslX4y/SIBF/+zjcOJhGPqQG2ZBjyurzPzQ8ZhSkxzpkWiGUf7wWo4tDblP4XFxkzSBX2VjJ5WJfhV1wIBBBBwS39A6PqtbtPw1a7cU1cbqUX2zh8MBAg7xzormPmn5kHS+v6AAADVQXTKJ3BdyhU39Mj6Q32pYOl0AZvE/GPBv/4vbzi24UyYr26O7QVhjSC+3/RXOSdZDYRNovsAjDQ0HWGZvndG/MVibUzSV2B2QmY09FEV0icQU9zOy5kw0dDUYZPt/56NCWhLFt0DYL+hqYiY1luZiW1QnRcDWGpeELwiXZezL6oJtb4JYKOpb+p9/7tPIHSiJWZh4N9NbTwYzsYkXNjc3E6g5YIBmROwqJZoG2DTQauF5h17wvGsbeEypPtgrgq5oLf9716B2OUpKSHgSlPeSJYezuZkdJ1J2CoYkV8FFWV4roFwupVlAGqM606X9GXZPEFUE25tZIE/1qVFGQFhY9snYD6545/WGPVne0JkDbcaDTeASn0or8wlCEGPUs6EewUD/ej0xsNv5cA33mh+TY+HcXoHgonmCB3+by4mpbo5thfgHwmG+/agR5meKyC01MaUsRz/YLEtuTwX7yoq5udhlrLauoqKoenbCOZaM5K0PVcT06YN+YVguGWNsToXhjvgcV4kbokyeGUmCbpMaPKe+IcA3jM02e0OzZeBsaYy0yqS9YZcAXFhc3M7MYve2EUB1bkwm++pmwU7p/bTjQC/6QvHNyCXRGgQYqmyTLymUpOIdRQdzuVYvZH4MwQ8JXCwut49anS23mGPK8sBqjYm8HSWb8x10pEYMfNn3ZkJECUmkT5w4ChyTEmS7wRgTHO4AEdWDLf/3DGVBHxbaH5keuRQELknYe64JBMgjAc3UFlZ6cj1aGeEDoXAdI8g1t/MRu0T2aS1AIxu8QHHEP6OFTGLDioSnJGODIy1uZ5nCJ0cbcWgix0j1wjGTZJ16ZdnYrgDVa653TKiTN/pMqQ5JzJnrcFMx9IHQkLI5O9LPNmKQU/cu7eDddwIw54vA7MDbueN/emv0eMZwjqvE6bmpZpI9HELU1qTBI+0Mf04gk2rEhLkmVaNuqYp9jeIhptoVX8M9zE+fgdO7YV0mSJodJtVvHSVZprcVclG76UNhAS8ISBziYUrCJzUvgXAeNbaReRYlUkfuzzlHgIEO0Brfc2tAav4cLyvXCDYpsaezoX0IRHSNnOkjU8HqlxllknFgfebGXSv2Wzha37VmbZkytDXADBGsS2OIfr3rVxQpPMXBB5eyijF4Yu07gewy5h+0nW+wUomEs7orwHabZxbAtals8cdcDvngfmz5sXEd1hloIHUdRMMWigEc09lBETXwB8XOrm1pzxJrqh2BxJE+s0wFWvR+QG3s88F8XplZTGnLj8xG+hQfLOVC6mzXfqGEI8dOhyO/TVjIIba9A0Ajhiayh2OTktF2xuKvwzQJsFw/9g/vszV229GyB3fhekYMXUSNEuLnv3njqkE8d1CSPDri837E+kBkUqE8WpBTG5vcLs+YSVTNujLARh971Ipqa/rcQI8ZeczsELIMaz2hg+/Y5mjAUhklzfAvAUbldvxYB/OUd/UlRltNNkKwqadY50VVjE2NRw/yIyVArML/KpydzcvifUnYawjYjRxu3SflQun3uNaCcalQlR3V1837qQVrQbcrkuZeKsJOEIgaZM/PXPvoZgVzG0DbKUeZScYXoGFTSRhI2u6B6lz26VCOuGamnD0KctAUJWbAfHEFL/oDcfn9lWYnHbaIKAqqxi4W2jeq8t8RepIrAV6V3UtIPCTmcRTvnDsPKvUUYOq3NvDHB0kiWac7kx52qWO08KxldT9mO4ESaPtfo/zC5bYCu3ktsyceH7JinEFPUp5QFWe6QGEYwyel87B/rSBIECXhscWA3ha+GokMT1RryrP1ruds3LJsE5DMkxxSCU5BUBRhterzts1xjsQy0iBDyDhyppwfGea85sZbQHkKapyPwPLeunwVZ3wqGaTn8um/Xi9srJ4mNyxRbzBAKlc/+tInbkQtyBPSExz+1u11xv/kzxltcT6lwB8WYgTTlGzJNG8TIot+p9adruuZ+J16P3SWwbwLoAgg0NE1P8yFcYwMK4yHiTsopc7E/Zra1ta4inX1bmQmP4gSHqSga0S+B0m0s9AHEtAPAnATMEtFem5zoR98akx5RwIoOuCxKR8P4iuwgCQRnLVjNChkNmgOx8n0JcHYDgxZrrTF4n+PtNjWxnZiJ6oev+RiC8Sv1pims3AM7D2wMkxEYQUQ5LVtxq3MGiFYwiPr4lEH+8PCGcsESLtrjpHTeqJRQCuAKgWOb79qyeJqFedvwfo+hxPfitALxLrm+OR+Nbe0hYDBoTJgR83elRRQp7IRFUskZN0HtlvE0GkADyJgMtgPn3zcqecvLp2/5EPAKDerVwLwmZB0g8y8ByBw2Dq32FJiTsBOgpdaiLmxmlN0f39XfmWA5Gb1IGyBIwN3VYn85sgUgBcYOKJsJ3bpYtrWluP5ztvg+6vbQKq8iQDC9J4tE3WMCNV0pn/JA02IDoS9kXEON0VEkfA0vzBAsKglIhTeZ2AqixDKqg03oPRAcYTxLTK2xTdN5h4GtT/unUqzwOgPEncnuhwNOXrfwgVqEAFKlCBCtRf+n97Y2CaOfCNbwAAAABJRU5ErkJggg==",mcloud_logo$1=Object.freeze(Object.defineProperty({__proto__:null,default:mcloud_logo},Symbol.toStringTag,{value:"Module"})),require$$1$1=getAugmentedNamespace(mcloud_logo$1);function _typeof$1(e){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof$1(e)}Object.defineProperty(Navbar$1,"__esModule",{value:!0});Navbar$1.default=void 0;var _mcloud_logo=_interopRequireDefault$7(require$$1$1),_react$8=_interopRequireDefault$7(reactExports);function _interopRequireDefault$7(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck$1(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(e,o){for(var a=0;a<o.length;a++){var c=o[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,_toPropertyKey$3(c.key),c)}}function _createClass$1(e,o,a){return o&&_defineProperties$1(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey$3(e){var o=_toPrimitive$3(e,"string");return _typeof$1(o)==="symbol"?o:String(o)}function _toPrimitive$3(e,o){if(_typeof$1(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var c=a.call(e,o);if(_typeof$1(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _inherits$1(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_setPrototypeOf$2(e,o)}function _setPrototypeOf$2(e,o){return _setPrototypeOf$2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=d,c},_setPrototypeOf$2(e,o)}function _createSuper$1(e){var o=_isNativeReflectConstruct$1();return function(){var c=_getPrototypeOf$1(e),d;if(o){var g=_getPrototypeOf$1(this).constructor;d=Reflect.construct(c,arguments,g)}else d=c.apply(this,arguments);return _possibleConstructorReturn$1(this,d)}}function _possibleConstructorReturn$1(e,o){if(o&&(_typeof$1(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized$1(e)}function _assertThisInitialized$1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf$1(e){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf$1(e)}var mainSections={learn:{name:"LEARN",link:"https://www.materialscloud.org/learn"},work:{name:"WORK",link:"https://www.materialscloud.org/work"},discover:{name:"DISCOVER",link:"https://www.materialscloud.org/discover"},explore:{name:"EXPLORE",link:"https://www.materialscloud.org/explore"},archive:{name:"ARCHIVE",link:"https://www.materialscloud.org/archive"}},dropdownSections={policies:{name:"Policies",link:"https://www.materialscloud.org/policies"},dmp:{name:"Data Management Plan",link:"https://www.materialscloud.org/dmp"},terms:{name:"Terms of Use",link:"https://www.materialscloud.org/termssummary"},infrastructure:{name:"Infrastructure",link:"https://www.materialscloud.org/infrastructure"},team:{name:"Team & Contact",link:"https://www.materialscloud.org/team"},partners:{name:"Partners",link:"https://www.materialscloud.org/home#partners"},restapi:{name:"Connect your REST API",link:"https://www.materialscloud.org/explore/connect"}},DropdownMenu=function(e){_inherits$1(a,e);var o=_createSuper$1(a);function a(c){var d;return _classCallCheck$1(this,a),d=o.call(this,c),d.state={dropdownOpen:!1},d.toggleDropdown=d.toggleDropdown.bind(_assertThisInitialized$1(d)),d.setWrapperRef=d.setWrapperRef.bind(_assertThisInitialized$1(d)),d.handleClickOutside=d.handleClickOutside.bind(_assertThisInitialized$1(d)),d}return _createClass$1(a,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutside)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"setWrapperRef",value:function(d){this.wrapperRef=d}},{key:"handleClickOutside",value:function(d){this.wrapperRef&&!this.wrapperRef.contains(d.target)&&this.state.dropdownOpen&&this.setState({dropdownOpen:!1})}},{key:"toggleDropdown",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var d=this,g="dropdown-content";return this.state.dropdownOpen&&(g+=" dropdown-open"),_react$8.default.createElement("div",{ref:this.setWrapperRef,className:"more-dropdown"},_react$8.default.createElement("a",{className:"more-btn",onClick:this.toggleDropdown},"More ",_react$8.default.createElement("i",{className:"fa fa-caret-down"})),_react$8.default.createElement("div",{className:g},Object.keys(dropdownSections).map(function(b,_){var $="";return b==d.props.activeSection&&($="active"),_react$8.default.createElement("a",{key:_,className:$,href:dropdownSections[b].link},dropdownSections[b].name)})))}}]),a}(_react$8.default.Component),Navbar=function(e){_inherits$1(a,e);var o=_createSuper$1(a);function a(){return _classCallCheck$1(this,a),o.apply(this,arguments)}return _createClass$1(a,[{key:"render",value:function(){var d=this;return _react$8.default.createElement("div",{className:"mc-navbar"},_react$8.default.createElement("a",{className:"mc-navbrand",href:"https://www.materialscloud.org/home"},_react$8.default.createElement("img",{src:_mcloud_logo.default,height:"50",alt:"MC logo"})),Object.keys(mainSections).map(function(g,b){var _="mc-navlink";return g==d.props.activeSection&&(_+=" active"),_react$8.default.createElement("a",{key:b,className:_,href:mainSections[g].link},mainSections[g].name)}),_react$8.default.createElement(DropdownMenu,{activeSection:this.props.activeSection}))}}]),a}(_react$8.default.Component),_default$2=Navbar;Navbar$1.default=_default$2;var Breadcrumbs$1={};Object.defineProperty(Breadcrumbs$1,"__esModule",{value:!0});Breadcrumbs$1.default=void 0;var _react$7=_interopRequireDefault$6(reactExports);function _interopRequireDefault$6(e){return e&&e.__esModule?e:{default:e}}function Breadcrumbs(e){return _react$7.default.createElement("ul",{className:"mc-breadcrumb"},e.breadcrumbsPath.map(function(o,a){return _react$7.default.createElement("li",{key:a},_react$7.default.createElement("a",{href:o.link},o.name))}))}var _default$1=Breadcrumbs;Breadcrumbs$1.default=_default$1;function _typeof(e){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},_typeof(e)}Object.defineProperty(dist$1,"__esModule",{value:!0});var default_1$1=dist$1.default=void 0,_react$6=_interopRequireDefault$5(reactExports),_Navbar=_interopRequireDefault$5(Navbar$1),_Breadcrumbs=_interopRequireDefault$5(Breadcrumbs$1);function _interopRequireDefault$5(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,o){for(var a=0;a<o.length;a++){var c=o[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,_toPropertyKey$2(c.key),c)}}function _createClass(e,o,a){return o&&_defineProperties(e.prototype,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey$2(e){var o=_toPrimitive$2(e,"string");return _typeof(o)==="symbol"?o:String(o)}function _toPrimitive$2(e,o){if(_typeof(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var c=a.call(e,o);if(_typeof(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _inherits(e,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),o&&_setPrototypeOf$1(e,o)}function _setPrototypeOf$1(e,o){return _setPrototypeOf$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,d){return c.__proto__=d,c},_setPrototypeOf$1(e,o)}function _createSuper(e){var o=_isNativeReflectConstruct();return function(){var c=_getPrototypeOf(e),d;if(o){var g=_getPrototypeOf(this).constructor;d=Reflect.construct(c,arguments,g)}else d=c.apply(this,arguments);return _possibleConstructorReturn(this,d)}}function _possibleConstructorReturn(e,o){if(o&&(_typeof(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},_getPrototypeOf(e)}var MaterialsCloudHeader=function(e){_inherits(a,e);var o=_createSuper(a);function a(c){return _classCallCheck(this,a),o.call(this,c)}return _createClass(a,[{key:"render",value:function(){return _react$6.default.createElement("div",{className:"main-container"},_react$6.default.createElement(_Navbar.default,{activeSection:this.props.activeSection}),_react$6.default.createElement("div",{className:"content-container"},_react$6.default.createElement(_Breadcrumbs.default,{breadcrumbsPath:this.props.breadcrumbsPath}),this.props.children))}}]),a}(_react$6.default.Component),_default=MaterialsCloudHeader;default_1$1=dist$1.default=_default;var dist={},PTable$1={},classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var o={}.hasOwnProperty;function a(){for(var g="",b=0;b<arguments.length;b++){var _=arguments[b];_&&(g=d(g,c(_)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return a.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var _ in g)o.call(g,_)&&g[_]&&(b=d(b,_));return b}function d(g,b){return b?g?g+" "+b:g+b:g}e.exports?(a.default=a,e.exports=a):window.classNames=a})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports),DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT}),{Consumer,Provider}=ThemeContext;function useBootstrapPrefix(e,o){const{prefixes:a}=reactExports.useContext(ThemeContext);return e||a[o]||o}function useBootstrapBreakpoints(){const{breakpoints:e}=reactExports.useContext(ThemeContext);return e}function useBootstrapMinBreakpoint(){const{minBreakpoint:e}=reactExports.useContext(ThemeContext);return e}function useIsRTL(){const{dir:e}=reactExports.useContext(ThemeContext);return e==="rtl"}const PopoverHeader=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"popover-header"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));PopoverHeader.displayName="PopoverHeader";const PopoverBody=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"popover-body"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));PopoverBody.displayName="PopoverBody";function getOverlayDirection(e,o){let a=e;return e==="left"?a=o?"end":"start":e==="right"&&(a=o?"start":"end"),a}function getInitialPopperStyles(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const Popover=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,body:g,arrowProps:b,hasDoneInitialMeasure:_,popper:$,show:j,...rt},nt)=>{const st=useBootstrapPrefix(e,"popover"),jt=useIsRTL(),[wl]=(o==null?void 0:o.split("-"))||[],Ft=getOverlayDirection(wl,jt);let it=c;return j&&!_&&(it={...c,...getInitialPopperStyles($==null?void 0:$.strategy)}),jsxRuntimeExports$1.jsxs("div",{ref:nt,role:"tooltip",style:it,"x-placement":wl,className:classNames(a,st,wl&&`bs-popover-${Ft}`),...rt,children:[jsxRuntimeExports$1.jsx("div",{className:"popover-arrow",...b}),g?jsxRuntimeExports$1.jsx(PopoverBody,{children:d}):d]})});Popover.displayName="Popover";const Popover$1=Object.assign(Popover,{Header:PopoverHeader,Body:PopoverBody,POPPER_OFFSET:[0,8]}),Popover$2=Object.freeze(Object.defineProperty({__proto__:null,default:Popover$1},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(Popover$2);function or$1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vt={exports:{}},at={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr$1;function Qn$1(){if(Rr$1)return at;Rr$1=1;var e=React,o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b(_,$,j){var rt,nt={},st=null,jt=null;j!==void 0&&(st=""+j),$.key!==void 0&&(st=""+$.key),$.ref!==void 0&&(jt=$.ref);for(rt in $)c.call($,rt)&&!g.hasOwnProperty(rt)&&(nt[rt]=$[rt]);if(_&&_.defaultProps)for(rt in $=_.defaultProps,$)nt[rt]===void 0&&(nt[rt]=$[rt]);return{$$typeof:o,type:_,key:st,ref:jt,props:nt,_owner:d.current}}return at.Fragment=a,at.jsx=b,at.jsxs=b,at}Vt.exports=Qn$1();var k=Vt.exports;const $n$1="_button_qg5kh_1",Zn$1={button:$n$1};function Fa$1(e){return k.jsx("button",{className:Zn$1.button,children:"TEST"})}const eo$1="_archive_doicitation_5woyi_1",to$1="_doi_badge_5woyi_8",ro$1="_doi_left_5woyi_12",no$1="_doi_right_5woyi_28",xt={archive_doicitation:eo$1,doi_badge:to$1,doi_left:ro$1,doi_right:no$1};function Ba$1(e){return k.jsx("div",{className:xt.archive_doicitation,children:k.jsxs("span",{className:xt.doi_badge,children:[k.jsx("span",{className:xt.doi_left,children:"DOI"}),k.jsx("a",{href:`https://doi.org/10.24435/materialscloud:${e.doi_id}`,className:xt.doi_right,target:"_blank",children:`10.24435/materialscloud:${e.doi_id}`})]})})}function Wt(e,o){if(e.contains)return e.contains(o);if(e.compareDocumentPosition)return e===o||!!(e.compareDocumentPosition(o)&16)}var Jt={exports:{}},Bt$1,jr$1;function ir$1(){if(jr$1)return Bt$1;jr$1=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bt$1=e,Bt$1}var Nt$1,Fr$1;function co$1(){if(Fr$1)return Nt$1;Fr$1=1;var e=ir$1();function o(){}function a(){}return a.resetWarningCache=o,Nt$1=function(){function c(b,_,$,j,rt,nt){if(nt!==e){var st=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw st.name="Invariant Violation",st}}c.isRequired=c;function d(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:a,resetWarningCache:o};return g.PropTypes=g,g},Nt$1}Jt.exports=co$1()();var po$1=Jt.exports;const N$1=or$1(po$1);function on(){const e=reactExports.useRef(!0),o=reactExports.useRef(()=>e.current);return reactExports.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),o.current}function vo$1(e){const o=reactExports.useRef(e);return o.current=e,o}function mo$1(e){const o=vo$1(e);reactExports.useEffect(()=>()=>o.current(),[])}const Gt=2**31-1;function an(e,o,a){const c=a-Date.now();e.current=c<=Gt?setTimeout(o,c):setTimeout(()=>an(e,o,a),Gt)}function ho$1(){const e=on(),o=reactExports.useRef();return mo$1(()=>clearTimeout(o.current)),reactExports.useMemo(()=>{const a=()=>clearTimeout(o.current);function c(d,g=0){e()&&(a(),g<=Gt?o.current=setTimeout(d,g):an(o,d,Date.now()+g))}return{set:c,clear:a,handleRef:o}},[])}var sn=function(){},bo$1=sn;const un$1=or$1(bo$1);function wo$1(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function xo$1(e,o,a){var c=reactExports.useRef(e!==void 0),d=reactExports.useState(o),g=d[0],b=d[1],_=e!==void 0,$=c.current;return c.current=_,!_&&$&&g!==o&&b(o),[_?e:g,reactExports.useCallback(function(j){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),st=1;st<rt;st++)nt[st-1]=arguments[st];a&&a.apply(void 0,[j].concat(nt)),b(j)},[a])]}function qt$1(e,o){return qt$1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},qt$1(e,o)}function Eo$1(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,qt$1(e,o)}const Br$1=e=>!e||typeof e=="function"?e:o=>{e.current=o};function Ao$1(e,o){const a=Br$1(e),c=Br$1(o);return d=>{a&&a(d),c&&c(d)}}function tt(e,o){return reactExports.useMemo(()=>Ao$1(e,o),[e,o])}var cn$1={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var o={}.hasOwnProperty;function a(){for(var g="",b=0;b<arguments.length;b++){var _=arguments[b];_&&(g=d(g,c(_)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return a.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var _ in g)o.call(g,_)&&g[_]&&(b=d(b,_));return b}function d(g,b){return b?g?g+" "+b:g+b:g}e.exports?(a.default=a,e.exports=a):window.classNames=a})()})(cn$1);var Oo$1=cn$1.exports;const Ye$1=or$1(Oo$1);function Ir$1(){return reactExports.useState(null)}var Lr$1=Object.prototype.hasOwnProperty;function Hr(e,o,a){for(a of e.keys())if(lt(a,o))return a}function lt(e,o){var a,c,d;if(e===o)return!0;if(e&&o&&(a=e.constructor)===o.constructor){if(a===Date)return e.getTime()===o.getTime();if(a===RegExp)return e.toString()===o.toString();if(a===Array){if((c=e.length)===o.length)for(;c--&&lt(e[c],o[c]););return c===-1}if(a===Set){if(e.size!==o.size)return!1;for(c of e)if(d=c,d&&typeof d=="object"&&(d=Hr(o,d),!d)||!o.has(d))return!1;return!0}if(a===Map){if(e.size!==o.size)return!1;for(c of e)if(d=c[0],d&&typeof d=="object"&&(d=Hr(o,d),!d)||!lt(c[1],o.get(d)))return!1;return!0}if(a===ArrayBuffer)e=new Uint8Array(e),o=new Uint8Array(o);else if(a===DataView){if((c=e.byteLength)===o.byteLength)for(;c--&&e.getInt8(c)===o.getInt8(c););return c===-1}if(ArrayBuffer.isView(e)){if((c=e.byteLength)===o.byteLength)for(;c--&&e[c]===o[c];);return c===-1}if(!a||typeof e=="object"){c=0;for(a in e)if(Lr$1.call(e,a)&&++c&&!Lr$1.call(o,a)||!(a in o)||!lt(e[a],o[a]))return!1;return Object.keys(o).length===c}}return e!==e&&o!==o}function Ro$1(e){const o=on();return[e[0],reactExports.useCallback(a=>{if(o())return e[1](a)},[o,e[1]])]}var de$1="top",be="bottom",we="right",pe$1="left",ar="auto",ht=[de$1,be,we,pe$1],Qe$1="start",vt="end",To$1="clippingParents",ln$1="viewport",ut="popper",Co$1="reference",Nr=ht.reduce(function(e,o){return e.concat([o+"-"+Qe$1,o+"-"+vt])},[]),fn$1=[].concat(ht,[ar]).reduce(function(e,o){return e.concat([o,o+"-"+Qe$1,o+"-"+vt])},[]),So$1="beforeRead",ko$1="read",Po$1="afterRead",jo$1="beforeMain",Do$1="main",_o$1="afterMain",Mo$1="beforeWrite",Fo$1="write",Bo$1="afterWrite",Io$1=[So$1,ko$1,Po$1,jo$1,Do$1,_o$1,Mo$1,Fo$1,Bo$1];function xe(e){return e.split("-")[0]}function me(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var o=e.ownerDocument;return o&&o.defaultView||window}return e}function He$1(e){var o=me(e).Element;return e instanceof o||e instanceof Element}function Ee$1(e){var o=me(e).HTMLElement;return e instanceof o||e instanceof HTMLElement}function sr$1(e){if(typeof ShadowRoot>"u")return!1;var o=me(e).ShadowRoot;return e instanceof o||e instanceof ShadowRoot}var Le=Math.max,Ct$1=Math.min,Xe$1=Math.round;function zt$2(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function dn$1(){return!/^((?!chrome|android).)*safari/i.test(zt$2())}function $e$1(e,o,a){o===void 0&&(o=!1),a===void 0&&(a=!1);var c=e.getBoundingClientRect(),d=1,g=1;o&&Ee$1(e)&&(d=e.offsetWidth>0&&Xe$1(c.width)/e.offsetWidth||1,g=e.offsetHeight>0&&Xe$1(c.height)/e.offsetHeight||1);var b=He$1(e)?me(e):window,_=b.visualViewport,$=!dn$1()&&a,j=(c.left+($&&_?_.offsetLeft:0))/d,rt=(c.top+($&&_?_.offsetTop:0))/g,nt=c.width/d,st=c.height/g;return{width:nt,height:st,top:rt,right:j+nt,bottom:rt+st,left:j,x:j,y:rt}}function ur$1(e){var o=$e$1(e),a=e.offsetWidth,c=e.offsetHeight;return Math.abs(o.width-a)<=1&&(a=o.width),Math.abs(o.height-c)<=1&&(c=o.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:c}}function pn$1(e,o){var a=o.getRootNode&&o.getRootNode();if(e.contains(o))return!0;if(a&&sr$1(a)){var c=o;do{if(c&&e.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function De(e){return e?(e.nodeName||"").toLowerCase():null}function Ce$1(e){return me(e).getComputedStyle(e)}function Lo$1(e){return["table","td","th"].indexOf(De(e))>=0}function _e$1(e){return((He$1(e)?e.ownerDocument:e.document)||window.document).documentElement}function kt$1(e){return De(e)==="html"?e:e.assignedSlot||e.parentNode||(sr$1(e)?e.host:null)||_e$1(e)}function Ur(e){return!Ee$1(e)||Ce$1(e).position==="fixed"?null:e.offsetParent}function Ho$1(e){var o=/firefox/i.test(zt$2()),a=/Trident/i.test(zt$2());if(a&&Ee$1(e)){var c=Ce$1(e);if(c.position==="fixed")return null}var d=kt$1(e);for(sr$1(d)&&(d=d.host);Ee$1(d)&&["html","body"].indexOf(De(d))<0;){var g=Ce$1(d);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||o&&g.willChange==="filter"||o&&g.filter&&g.filter!=="none")return d;d=d.parentNode}return null}function yt$1(e){for(var o=me(e),a=Ur(e);a&&Lo$1(a)&&Ce$1(a).position==="static";)a=Ur(a);return a&&(De(a)==="html"||De(a)==="body"&&Ce$1(a).position==="static")?o:a||Ho$1(e)||o}function cr(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ft(e,o,a){return Le(e,Ct$1(o,a))}function No$1(e,o,a){var c=ft(e,o,a);return c>a?a:c}function vn$1(){return{top:0,right:0,bottom:0,left:0}}function mn$1(e){return Object.assign({},vn$1(),e)}function hn$1(e,o){return o.reduce(function(a,c){return a[c]=e,a},{})}var Uo$1=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,mn$1(typeof e!="number"?e:hn$1(e,ht))};function Yo$1(e){var o,a=e.state,c=e.name,d=e.options,g=a.elements.arrow,b=a.modifiersData.popperOffsets,_=xe(a.placement),$=cr(_),j=[pe$1,we].indexOf(_)>=0,rt=j?"height":"width";if(!(!g||!b)){var nt=Uo$1(d.padding,a),st=ur$1(g),jt=$==="y"?de$1:pe$1,wl=$==="y"?be:we,Ft=a.rects.reference[rt]+a.rects.reference[$]-b[$]-a.rects.popper[rt],it=b[$]-a.rects.reference[$],ot=yt$1(g),Ln=ot?$==="y"?ot.clientHeight||0:ot.clientWidth||0:0,Cl=Ft/2-it/2,Tl=nt[jt],zl=Ln-st[rt]-nt[wl],In=Ln/2-st[rt]/2+Cl,Ml=ft(Tl,In,zl),Dl=$;a.modifiersData[c]=(o={},o[Dl]=Ml,o.centerOffset=Ml-In,o)}}function Vo$1(e){var o=e.state,a=e.options,c=a.element,d=c===void 0?"[data-popper-arrow]":c;d!=null&&(typeof d=="string"&&(d=o.elements.popper.querySelector(d),!d)||pn$1(o.elements.popper,d)&&(o.elements.arrow=d))}const Wo$1={name:"arrow",enabled:!0,phase:"main",fn:Yo$1,effect:Vo$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ze(e){return e.split("-")[1]}var Jo$1={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Go$1(e,o){var a=e.x,c=e.y,d=o.devicePixelRatio||1;return{x:Xe$1(a*d)/d||0,y:Xe$1(c*d)/d||0}}function Yr(e){var o,a=e.popper,c=e.popperRect,d=e.placement,g=e.variation,b=e.offsets,_=e.position,$=e.gpuAcceleration,j=e.adaptive,rt=e.roundOffsets,nt=e.isFixed,st=b.x,jt=st===void 0?0:st,wl=b.y,Ft=wl===void 0?0:wl,it=typeof rt=="function"?rt({x:jt,y:Ft}):{x:jt,y:Ft};jt=it.x,Ft=it.y;var ot=b.hasOwnProperty("x"),Ln=b.hasOwnProperty("y"),Cl=pe$1,Tl=de$1,zl=window;if(j){var In=yt$1(a),Ml="clientHeight",Dl="clientWidth";if(In===me(a)&&(In=_e$1(a),Ce$1(In).position!=="static"&&_==="absolute"&&(Ml="scrollHeight",Dl="scrollWidth")),In=In,d===de$1||(d===pe$1||d===we)&&g===vt){Tl=be;var Ul=nt&&In===zl&&zl.visualViewport?zl.visualViewport.height:In[Ml];Ft-=Ul-c.height,Ft*=$?1:-1}if(d===pe$1||(d===de$1||d===be)&&g===vt){Cl=we;var Vl=nt&&In===zl&&zl.visualViewport?zl.visualViewport.width:In[Dl];jt-=Vl-c.width,jt*=$?1:-1}}var mu=Object.assign({position:_},j&&Jo$1),rp=rt===!0?Go$1({x:jt,y:Ft},me(a)):{x:jt,y:Ft};if(jt=rp.x,Ft=rp.y,$){var Ju;return Object.assign({},mu,(Ju={},Ju[Tl]=Ln?"0":"",Ju[Cl]=ot?"0":"",Ju.transform=(zl.devicePixelRatio||1)<=1?"translate("+jt+"px, "+Ft+"px)":"translate3d("+jt+"px, "+Ft+"px, 0)",Ju))}return Object.assign({},mu,(o={},o[Tl]=Ln?Ft+"px":"",o[Cl]=ot?jt+"px":"",o.transform="",o))}function qo$1(e){var o=e.state,a=e.options,c=a.gpuAcceleration,d=c===void 0?!0:c,g=a.adaptive,b=g===void 0?!0:g,_=a.roundOffsets,$=_===void 0?!0:_,j={placement:xe(o.placement),variation:Ze(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:d,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,Yr(Object.assign({},j,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:b,roundOffsets:$})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,Yr(Object.assign({},j,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:$})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const zo$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:qo$1,data:{}};var At={passive:!0};function Ko$1(e){var o=e.state,a=e.instance,c=e.options,d=c.scroll,g=d===void 0?!0:d,b=c.resize,_=b===void 0?!0:b,$=me(o.elements.popper),j=[].concat(o.scrollParents.reference,o.scrollParents.popper);return g&&j.forEach(function(rt){rt.addEventListener("scroll",a.update,At)}),_&&$.addEventListener("resize",a.update,At),function(){g&&j.forEach(function(rt){rt.removeEventListener("scroll",a.update,At)}),_&&$.removeEventListener("resize",a.update,At)}}const Qo$1={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ko$1,data:{}};var Xo$1={left:"right",right:"left",bottom:"top",top:"bottom"};function Rt$1(e){return e.replace(/left|right|bottom|top/g,function(o){return Xo$1[o]})}var $o$1={start:"end",end:"start"};function Vr(e){return e.replace(/start|end/g,function(o){return $o$1[o]})}function lr$1(e){var o=me(e),a=o.pageXOffset,c=o.pageYOffset;return{scrollLeft:a,scrollTop:c}}function fr$1(e){return $e$1(_e$1(e)).left+lr$1(e).scrollLeft}function Zo$1(e,o){var a=me(e),c=_e$1(e),d=a.visualViewport,g=c.clientWidth,b=c.clientHeight,_=0,$=0;if(d){g=d.width,b=d.height;var j=dn$1();(j||!j&&o==="fixed")&&(_=d.offsetLeft,$=d.offsetTop)}return{width:g,height:b,x:_+fr$1(e),y:$}}function ei(e){var o,a=_e$1(e),c=lr$1(e),d=(o=e.ownerDocument)==null?void 0:o.body,g=Le(a.scrollWidth,a.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),b=Le(a.scrollHeight,a.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),_=-c.scrollLeft+fr$1(e),$=-c.scrollTop;return Ce$1(d||a).direction==="rtl"&&(_+=Le(a.clientWidth,d?d.clientWidth:0)-g),{width:g,height:b,x:_,y:$}}function dr$1(e){var o=Ce$1(e),a=o.overflow,c=o.overflowX,d=o.overflowY;return/auto|scroll|overlay|hidden/.test(a+d+c)}function yn$1(e){return["html","body","#document"].indexOf(De(e))>=0?e.ownerDocument.body:Ee$1(e)&&dr$1(e)?e:yn$1(kt$1(e))}function dt$1(e,o){var a;o===void 0&&(o=[]);var c=yn$1(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),g=me(c),b=d?[g].concat(g.visualViewport||[],dr$1(c)?c:[]):c,_=o.concat(b);return d?_:_.concat(dt$1(kt$1(b)))}function Kt(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ti(e,o){var a=$e$1(e,!1,o==="fixed");return a.top=a.top+e.clientTop,a.left=a.left+e.clientLeft,a.bottom=a.top+e.clientHeight,a.right=a.left+e.clientWidth,a.width=e.clientWidth,a.height=e.clientHeight,a.x=a.left,a.y=a.top,a}function Wr(e,o,a){return o===ln$1?Kt(Zo$1(e,a)):He$1(o)?ti(o,a):Kt(ei(_e$1(e)))}function ri$1(e){var o=dt$1(kt$1(e)),a=["absolute","fixed"].indexOf(Ce$1(e).position)>=0,c=a&&Ee$1(e)?yt$1(e):e;return He$1(c)?o.filter(function(d){return He$1(d)&&pn$1(d,c)&&De(d)!=="body"}):[]}function ni(e,o,a,c){var d=o==="clippingParents"?ri$1(e):[].concat(o),g=[].concat(d,[a]),b=g[0],_=g.reduce(function($,j){var rt=Wr(e,j,c);return $.top=Le(rt.top,$.top),$.right=Ct$1(rt.right,$.right),$.bottom=Ct$1(rt.bottom,$.bottom),$.left=Le(rt.left,$.left),$},Wr(e,b,c));return _.width=_.right-_.left,_.height=_.bottom-_.top,_.x=_.left,_.y=_.top,_}function gn$1(e){var o=e.reference,a=e.element,c=e.placement,d=c?xe(c):null,g=c?Ze(c):null,b=o.x+o.width/2-a.width/2,_=o.y+o.height/2-a.height/2,$;switch(d){case de$1:$={x:b,y:o.y-a.height};break;case be:$={x:b,y:o.y+o.height};break;case we:$={x:o.x+o.width,y:_};break;case pe$1:$={x:o.x-a.width,y:_};break;default:$={x:o.x,y:o.y}}var j=d?cr(d):null;if(j!=null){var rt=j==="y"?"height":"width";switch(g){case Qe$1:$[j]=$[j]-(o[rt]/2-a[rt]/2);break;case vt:$[j]=$[j]+(o[rt]/2-a[rt]/2);break}}return $}function mt(e,o){o===void 0&&(o={});var a=o,c=a.placement,d=c===void 0?e.placement:c,g=a.strategy,b=g===void 0?e.strategy:g,_=a.boundary,$=_===void 0?To$1:_,j=a.rootBoundary,rt=j===void 0?ln$1:j,nt=a.elementContext,st=nt===void 0?ut:nt,jt=a.altBoundary,wl=jt===void 0?!1:jt,Ft=a.padding,it=Ft===void 0?0:Ft,ot=mn$1(typeof it!="number"?it:hn$1(it,ht)),Ln=st===ut?Co$1:ut,Cl=e.rects.popper,Tl=e.elements[wl?Ln:st],zl=ni(He$1(Tl)?Tl:Tl.contextElement||_e$1(e.elements.popper),$,rt,b),In=$e$1(e.elements.reference),Ml=gn$1({reference:In,element:Cl,placement:d}),Dl=Kt(Object.assign({},Cl,Ml)),Ul=st===ut?Dl:In,Vl={top:zl.top-Ul.top+ot.top,bottom:Ul.bottom-zl.bottom+ot.bottom,left:zl.left-Ul.left+ot.left,right:Ul.right-zl.right+ot.right},mu=e.modifiersData.offset;if(st===ut&&mu){var rp=mu[d];Object.keys(Vl).forEach(function(Ju){var cp=[we,be].indexOf(Ju)>=0?1:-1,hp=[de$1,be].indexOf(Ju)>=0?"y":"x";Vl[Ju]+=rp[hp]*cp})}return Vl}function oi(e,o){o===void 0&&(o={});var a=o,c=a.placement,d=a.boundary,g=a.rootBoundary,b=a.padding,_=a.flipVariations,$=a.allowedAutoPlacements,j=$===void 0?fn$1:$,rt=Ze(c),nt=rt?_?Nr:Nr.filter(function(wl){return Ze(wl)===rt}):ht,st=nt.filter(function(wl){return j.indexOf(wl)>=0});st.length===0&&(st=nt);var jt=st.reduce(function(wl,Ft){return wl[Ft]=mt(e,{placement:Ft,boundary:d,rootBoundary:g,padding:b})[xe(Ft)],wl},{});return Object.keys(jt).sort(function(wl,Ft){return jt[wl]-jt[Ft]})}function ii(e){if(xe(e)===ar)return[];var o=Rt$1(e);return[Vr(e),o,Vr(o)]}function ai$1(e){var o=e.state,a=e.options,c=e.name;if(!o.modifiersData[c]._skip){for(var d=a.mainAxis,g=d===void 0?!0:d,b=a.altAxis,_=b===void 0?!0:b,$=a.fallbackPlacements,j=a.padding,rt=a.boundary,nt=a.rootBoundary,st=a.altBoundary,jt=a.flipVariations,wl=jt===void 0?!0:jt,Ft=a.allowedAutoPlacements,it=o.options.placement,ot=xe(it),Ln=ot===it,Cl=$||(Ln||!wl?[Rt$1(it)]:ii(it)),Tl=[it].concat(Cl).reduce(function(n0,S0){return n0.concat(xe(S0)===ar?oi(o,{placement:S0,boundary:rt,rootBoundary:nt,padding:j,flipVariations:wl,allowedAutoPlacements:Ft}):S0)},[]),zl=o.rects.reference,In=o.rects.popper,Ml=new Map,Dl=!0,Ul=Tl[0],Vl=0;Vl<Tl.length;Vl++){var mu=Tl[Vl],rp=xe(mu),Ju=Ze(mu)===Qe$1,cp=[de$1,be].indexOf(rp)>=0,hp=cp?"width":"height",yp=mt(o,{placement:mu,boundary:rt,rootBoundary:nt,altBoundary:st,padding:j}),xp=cp?Ju?we:pe$1:Ju?be:de$1;zl[hp]>In[hp]&&(xp=Rt$1(xp));var fp=Rt$1(xp),_p=[];if(g&&_p.push(yp[rp]<=0),_&&_p.push(yp[xp]<=0,yp[fp]<=0),_p.every(function(n0){return n0})){Ul=mu,Dl=!1;break}Ml.set(mu,_p)}if(Dl)for(var ip=wl?3:1,gp=function(n0){var S0=Tl.find(function(C0){var P0=Ml.get(C0);if(P0)return P0.slice(0,n0).every(function(k0){return k0})});if(S0)return Ul=S0,"break"},Dp=ip;Dp>0;Dp--){var Fp=gp(Dp);if(Fp==="break")break}o.placement!==Ul&&(o.modifiersData[c]._skip=!0,o.placement=Ul,o.reset=!0)}}const si={name:"flip",enabled:!0,phase:"main",fn:ai$1,requiresIfExists:["offset"],data:{_skip:!1}};function Jr(e,o,a){return a===void 0&&(a={x:0,y:0}),{top:e.top-o.height-a.y,right:e.right-o.width+a.x,bottom:e.bottom-o.height+a.y,left:e.left-o.width-a.x}}function Gr(e){return[de$1,we,be,pe$1].some(function(o){return e[o]>=0})}function ui$1(e){var o=e.state,a=e.name,c=o.rects.reference,d=o.rects.popper,g=o.modifiersData.preventOverflow,b=mt(o,{elementContext:"reference"}),_=mt(o,{altBoundary:!0}),$=Jr(b,c),j=Jr(_,d,g),rt=Gr($),nt=Gr(j);o.modifiersData[a]={referenceClippingOffsets:$,popperEscapeOffsets:j,isReferenceHidden:rt,hasPopperEscaped:nt},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":rt,"data-popper-escaped":nt})}const ci$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ui$1};function li$1(e,o,a){var c=xe(e),d=[pe$1,de$1].indexOf(c)>=0?-1:1,g=typeof a=="function"?a(Object.assign({},o,{placement:e})):a,b=g[0],_=g[1];return b=b||0,_=(_||0)*d,[pe$1,we].indexOf(c)>=0?{x:_,y:b}:{x:b,y:_}}function fi(e){var o=e.state,a=e.options,c=e.name,d=a.offset,g=d===void 0?[0,0]:d,b=fn$1.reduce(function(rt,nt){return rt[nt]=li$1(nt,o.rects,g),rt},{}),_=b[o.placement],$=_.x,j=_.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=$,o.modifiersData.popperOffsets.y+=j),o.modifiersData[c]=b}const di={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fi};function pi(e){var o=e.state,a=e.name;o.modifiersData[a]=gn$1({reference:o.rects.reference,element:o.rects.popper,placement:o.placement})}const vi={name:"popperOffsets",enabled:!0,phase:"read",fn:pi,data:{}};function mi(e){return e==="x"?"y":"x"}function hi(e){var o=e.state,a=e.options,c=e.name,d=a.mainAxis,g=d===void 0?!0:d,b=a.altAxis,_=b===void 0?!1:b,$=a.boundary,j=a.rootBoundary,rt=a.altBoundary,nt=a.padding,st=a.tether,jt=st===void 0?!0:st,wl=a.tetherOffset,Ft=wl===void 0?0:wl,it=mt(o,{boundary:$,rootBoundary:j,padding:nt,altBoundary:rt}),ot=xe(o.placement),Ln=Ze(o.placement),Cl=!Ln,Tl=cr(ot),zl=mi(Tl),In=o.modifiersData.popperOffsets,Ml=o.rects.reference,Dl=o.rects.popper,Ul=typeof Ft=="function"?Ft(Object.assign({},o.rects,{placement:o.placement})):Ft,Vl=typeof Ul=="number"?{mainAxis:Ul,altAxis:Ul}:Object.assign({mainAxis:0,altAxis:0},Ul),mu=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,rp={x:0,y:0};if(In){if(g){var Ju,cp=Tl==="y"?de$1:pe$1,hp=Tl==="y"?be:we,yp=Tl==="y"?"height":"width",xp=In[Tl],fp=xp+it[cp],_p=xp-it[hp],ip=jt?-Dl[yp]/2:0,gp=Ln===Qe$1?Ml[yp]:Dl[yp],Dp=Ln===Qe$1?-Dl[yp]:-Ml[yp],Fp=o.elements.arrow,n0=jt&&Fp?ur$1(Fp):{width:0,height:0},S0=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:vn$1(),C0=S0[cp],P0=S0[hp],k0=ft(0,Ml[yp],n0[yp]),T0=Cl?Ml[yp]/2-ip-k0-C0-Vl.mainAxis:gp-k0-C0-Vl.mainAxis,im=Cl?-Ml[yp]/2+ip+k0+P0+Vl.mainAxis:Dp+k0+P0+Vl.mainAxis,am=o.elements.arrow&&yt$1(o.elements.arrow),bm=am?Tl==="y"?am.clientTop||0:am.clientLeft||0:0,_g=(Ju=mu==null?void 0:mu[Tl])!=null?Ju:0,b0=xp+T0-_g-bm,U0=xp+im-_g,mm=ft(jt?Ct$1(fp,b0):fp,xp,jt?Le(_p,U0):_p);In[Tl]=mm,rp[Tl]=mm-xp}if(_){var Lm,Um=Tl==="x"?de$1:pe$1,Hm=Tl==="x"?be:we,Dm=In[zl],Nm=zl==="y"?"height":"width",Om=Dm+it[Um],Mm=Dm-it[Hm],cm=[de$1,pe$1].indexOf(ot)!==-1,Jm=(Lm=mu==null?void 0:mu[zl])!=null?Lm:0,B0=cm?Om:Dm-Ml[Nm]-Dl[Nm]-Jm+Vl.altAxis,Pp=cm?Dm+Ml[Nm]+Dl[Nm]-Jm-Vl.altAxis:Mm,Yp=jt&&cm?No$1(B0,Dm,Pp):ft(jt?B0:Om,Dm,jt?Pp:Mm);In[zl]=Yp,rp[zl]=Yp-Dm}o.modifiersData[c]=rp}}const yi$1={name:"preventOverflow",enabled:!0,phase:"main",fn:hi,requiresIfExists:["offset"]};function gi(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function bi$1(e){return e===me(e)||!Ee$1(e)?lr$1(e):gi(e)}function wi$1(e){var o=e.getBoundingClientRect(),a=Xe$1(o.width)/e.offsetWidth||1,c=Xe$1(o.height)/e.offsetHeight||1;return a!==1||c!==1}function xi(e,o,a){a===void 0&&(a=!1);var c=Ee$1(o),d=Ee$1(o)&&wi$1(o),g=_e$1(o),b=$e$1(e,d,a),_={scrollLeft:0,scrollTop:0},$={x:0,y:0};return(c||!c&&!a)&&((De(o)!=="body"||dr$1(g))&&(_=bi$1(o)),Ee$1(o)?($=$e$1(o,!0),$.x+=o.clientLeft,$.y+=o.clientTop):g&&($.x=fr$1(g))),{x:b.left+_.scrollLeft-$.x,y:b.top+_.scrollTop-$.y,width:b.width,height:b.height}}function Ei(e){var o=new Map,a=new Set,c=[];e.forEach(function(g){o.set(g.name,g)});function d(g){a.add(g.name);var b=[].concat(g.requires||[],g.requiresIfExists||[]);b.forEach(function(_){if(!a.has(_)){var $=o.get(_);$&&d($)}}),c.push(g)}return e.forEach(function(g){a.has(g.name)||d(g)}),c}function Ai$1(e){var o=Ei(e);return Io$1.reduce(function(a,c){return a.concat(o.filter(function(d){return d.phase===c}))},[])}function Oi$1(e){var o;return function(){return o||(o=new Promise(function(a){Promise.resolve().then(function(){o=void 0,a(e())})})),o}}function Ri$1(e){var o=e.reduce(function(a,c){var d=a[c.name];return a[c.name]=d?Object.assign({},d,c,{options:Object.assign({},d.options,c.options),data:Object.assign({},d.data,c.data)}):c,a},{});return Object.keys(o).map(function(a){return o[a]})}var qr={placement:"bottom",modifiers:[],strategy:"absolute"};function zr$1(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return!o.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function Ti$1(e){e===void 0&&(e={});var o=e,a=o.defaultModifiers,c=a===void 0?[]:a,d=o.defaultOptions,g=d===void 0?qr:d;return function(b,_,$){$===void 0&&($=g);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},qr,g),modifiersData:{},elements:{reference:b,popper:_},attributes:{},styles:{}},rt=[],nt=!1,st={state:j,setOptions:function(Ft){var it=typeof Ft=="function"?Ft(j.options):Ft;wl(),j.options=Object.assign({},g,j.options,it),j.scrollParents={reference:He$1(b)?dt$1(b):b.contextElement?dt$1(b.contextElement):[],popper:dt$1(_)};var ot=Ai$1(Ri$1([].concat(c,j.options.modifiers)));return j.orderedModifiers=ot.filter(function(Ln){return Ln.enabled}),jt(),st.update()},forceUpdate:function(){if(!nt){var Ft=j.elements,it=Ft.reference,ot=Ft.popper;if(zr$1(it,ot)){j.rects={reference:xi(it,yt$1(ot),j.options.strategy==="fixed"),popper:ur$1(ot)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(Dl){return j.modifiersData[Dl.name]=Object.assign({},Dl.data)});for(var Ln=0;Ln<j.orderedModifiers.length;Ln++){if(j.reset===!0){j.reset=!1,Ln=-1;continue}var Cl=j.orderedModifiers[Ln],Tl=Cl.fn,zl=Cl.options,In=zl===void 0?{}:zl,Ml=Cl.name;typeof Tl=="function"&&(j=Tl({state:j,options:In,name:Ml,instance:st})||j)}}}},update:Oi$1(function(){return new Promise(function(Ft){st.forceUpdate(),Ft(j)})}),destroy:function(){wl(),nt=!0}};if(!zr$1(b,_))return st;st.setOptions($).then(function(Ft){!nt&&$.onFirstUpdate&&$.onFirstUpdate(Ft)});function jt(){j.orderedModifiers.forEach(function(Ft){var it=Ft.name,ot=Ft.options,Ln=ot===void 0?{}:ot,Cl=Ft.effect;if(typeof Cl=="function"){var Tl=Cl({state:j,name:it,instance:st,options:Ln}),zl=function(){};rt.push(Tl||zl)}})}function wl(){rt.forEach(function(Ft){return Ft()}),rt=[]}return st}}const Ci$1=Ti$1({defaultModifiers:[ci$1,vi,zo$1,Qo$1,di,si,yi$1,Wo$1]}),Si$1=["enabled","placement","strategy","modifiers"];function ki$1(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}const Pi$1={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ji$1={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:o,popper:a}=e.elements;if("removeAttribute"in o){const c=(o.getAttribute("aria-describedby")||"").split(",").filter(d=>d.trim()!==a.id);c.length?o.setAttribute("aria-describedby",c.join(",")):o.removeAttribute("aria-describedby")}},fn:({state:e})=>{var o;const{popper:a,reference:c}=e.elements,d=(o=a.getAttribute("role"))==null?void 0:o.toLowerCase();if(a.id&&d==="tooltip"&&"setAttribute"in c){const g=c.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(a.id)!==-1)return;c.setAttribute("aria-describedby",g?`${g},${a.id}`:a.id)}}},Di$1=[];function _i$2(e,o,a={}){let{enabled:c=!0,placement:d="bottom",strategy:g="absolute",modifiers:b=Di$1}=a,_=ki$1(a,Si$1);const $=reactExports.useRef(b),j=reactExports.useRef(),rt=reactExports.useCallback(()=>{var it;(it=j.current)==null||it.update()},[]),nt=reactExports.useCallback(()=>{var it;(it=j.current)==null||it.forceUpdate()},[]),[st,jt]=Ro$1(reactExports.useState({placement:d,update:rt,forceUpdate:nt,attributes:{},styles:{popper:{},arrow:{}}})),wl=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:it})=>{const ot={},Ln={};Object.keys(it.elements).forEach(Cl=>{ot[Cl]=it.styles[Cl],Ln[Cl]=it.attributes[Cl]}),jt({state:it,styles:ot,attributes:Ln,update:rt,forceUpdate:nt,placement:it.placement})}}),[rt,nt,jt]),Ft=reactExports.useMemo(()=>(lt($.current,b)||($.current=b),$.current),[b]);return reactExports.useEffect(()=>{!j.current||!c||j.current.setOptions({placement:d,strategy:g,modifiers:[...Ft,wl,Pi$1]})},[g,d,wl,c,Ft]),reactExports.useEffect(()=>{if(!(!c||e==null||o==null))return j.current=Ci$1(e,o,Object.assign({},_,{placement:d,strategy:g,modifiers:[...Ft,ji$1,wl]})),()=>{j.current!=null&&(j.current.destroy(),j.current=void 0,jt(it=>Object.assign({},it,{attributes:{},styles:{popper:{}}})))}},[c,e,o]),st}const pr$1=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qt$1=!1,Xt$1=!1;try{var Ut$1={get passive(){return Qt$1=!0},get once(){return Xt$1=Qt$1=!0}};pr$1&&(window.addEventListener("test",Ut$1,Ut$1),window.removeEventListener("test",Ut$1,!0))}catch{}function Mi$1(e,o,a,c){if(c&&typeof c!="boolean"&&!Xt$1){var d=c.once,g=c.capture,b=a;!Xt$1&&d&&(b=a.__once||function _($){this.removeEventListener(o,_,g),a.call(this,$)},a.__once=b),e.addEventListener(o,b,Qt$1?c:g)}e.addEventListener(o,a,c)}function Fi$1(e,o,a,c){var d=c&&typeof c!="boolean"?c.capture:c;e.removeEventListener(o,a,d),a.__once&&e.removeEventListener(o,a.__once,d)}function Ie$1(e,o,a,c){return Mi$1(e,o,a,c),function(){Fi$1(e,o,a,c)}}function Pt$1(e){return e&&e.ownerDocument||document}function Bi$1(e){const o=reactExports.useRef(e);return reactExports.useEffect(()=>{o.current=e},[e]),o}function et(e){const o=Bi$1(e);return reactExports.useCallback(function(...a){return o.current&&o.current(...a)},[o])}const Kr=()=>{};function Ii$1(e){return e.button===0}function Li$1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const Tt=e=>e&&("current"in e?e.current:e),Qr={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Hi$1(e,o=Kr,{disabled:a,clickTrigger:c="click"}={}){const d=reactExports.useRef(!1),g=reactExports.useRef(!1),b=reactExports.useCallback(j=>{const rt=Tt(e);un$1(!!rt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),d.current=!rt||Li$1(j)||!Ii$1(j)||!!Wt(rt,j.target)||g.current,g.current=!1},[e]),_=et(j=>{const rt=Tt(e);rt&&Wt(rt,j.target)&&(g.current=!0)}),$=et(j=>{d.current||o(j)});reactExports.useEffect(()=>{var j,rt;if(a||e==null)return;const nt=Pt$1(Tt(e)),st=nt.defaultView||window;let jt=(j=st.event)!=null?j:(rt=st.parent)==null?void 0:rt.event,wl=null;Qr[c]&&(wl=Ie$1(nt,Qr[c],_,!0));const Ft=Ie$1(nt,c,b,!0),it=Ie$1(nt,c,Ln=>{if(Ln===jt){jt=void 0;return}$(Ln)});let ot=[];return"ontouchstart"in nt.documentElement&&(ot=[].slice.call(nt.body.children).map(Ln=>Ie$1(Ln,"mousemove",Kr))),()=>{wl==null||wl(),Ft(),it(),ot.forEach(Ln=>Ln())}},[e,a,c,b,_,$])}function Ni$1(e){return e.code==="Escape"||e.keyCode===27}const Ui$1=()=>{};function Yi$1(e,o,{disabled:a,clickTrigger:c}={}){const d=o||Ui$1;Hi$1(e,d,{disabled:a,clickTrigger:c});const g=et(b=>{Ni$1(b)&&d(b)});reactExports.useEffect(()=>{if(a||e==null)return;const b=Pt$1(Tt(e));let _=(b.defaultView||window).event;const $=Ie$1(b,"keyup",j=>{if(j===_){_=void 0;return}g(j)});return()=>{$()}},[e,a,g])}const bn=reactExports.createContext(pr$1?window:void 0);bn.Provider;function Vi$1(){return reactExports.useContext(bn)}const Yt=(e,o)=>pr$1?e==null?(o||Pt$1()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function Xr(e,o){const a=Vi$1(),[c,d]=reactExports.useState(()=>Yt(e,a==null?void 0:a.document));if(!c){const g=Yt(e);g&&d(g)}return reactExports.useEffect(()=>{},[o,c]),reactExports.useEffect(()=>{const g=Yt(e);g!==c&&d(g)},[e,c]),c}function Wi$1(e){const o={};return Array.isArray(e)?(e==null||e.forEach(a=>{o[a.name]=a}),o):e||o}function Ji$1(e={}){return Array.isArray(e)?e:Object.keys(e).map(o=>(e[o].name=o,e[o]))}function Gi$1({enabled:e,enableEvents:o,placement:a,flip:c,offset:d,fixed:g,containerPadding:b,arrowElement:_,popperConfig:$={}}){var j,rt,nt,st;const jt=Wi$1($.modifiers);return Object.assign({},$,{placement:a,enabled:e,strategy:g?"fixed":$.strategy,modifiers:Ji$1(Object.assign({},jt,{eventListeners:{enabled:o,options:(j=jt.eventListeners)==null?void 0:j.options},preventOverflow:Object.assign({},jt.preventOverflow,{options:Object.assign({padding:b},(rt=jt.preventOverflow)==null?void 0:rt.options)}),offset:{options:Object.assign({offset:d},(nt=jt.offset)==null?void 0:nt.options)},arrow:Object.assign({},jt.arrow,{enabled:!!_,options:Object.assign({},(st=jt.arrow)==null?void 0:st.options,{element:_})}),flip:Object.assign({enabled:!!c},jt.flip)}))})}const qi$1=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",zi$1=typeof document<"u",$t$1=zi$1||qi$1?reactExports.useLayoutEffect:reactExports.useEffect;function Ki$1({children:e,in:o,onExited:a,mountOnEnter:c,unmountOnExit:d}){const g=reactExports.useRef(null),b=reactExports.useRef(o),_=et(a);reactExports.useEffect(()=>{o?b.current=!0:_(g.current)},[o,_]);const $=tt(g,e.ref),j=reactExports.cloneElement(e,{ref:$});return o?j:d||!b.current&&c?null:j}function Qi$1({in:e,onTransition:o}){const a=reactExports.useRef(null),c=reactExports.useRef(!0),d=et(o);return $t$1(()=>{if(!a.current)return;let g=!1;return d({in:e,element:a.current,initial:c.current,isStale:()=>g}),()=>{g=!0}},[e,d]),$t$1(()=>(c.current=!1,()=>{c.current=!0}),[]),a}function Xi$1({children:e,in:o,onExited:a,onEntered:c,transition:d}){const[g,b]=reactExports.useState(!o);o&&g&&b(!1);const _=Qi$1({in:!!o,onTransition:j=>{const rt=()=>{j.isStale()||(j.in?c==null||c(j.element,j.initial):(b(!0),a==null||a(j.element)))};Promise.resolve(d(j)).then(rt,nt=>{throw j.in||b(!0),nt})}}),$=tt(_,e.ref);return g&&!o?null:reactExports.cloneElement(e,{ref:$})}function $i$1(e,o,a){return e?k.jsx(e,Object.assign({},a)):o?k.jsx(Xi$1,Object.assign({},a,{transition:o})):k.jsx(Ki$1,Object.assign({},a))}const wn=reactExports.forwardRef((e,o)=>{const{flip:a,offset:c,placement:d,containerPadding:g,popperConfig:b={},transition:_,runTransition:$}=e,[j,rt]=Ir$1(),[nt,st]=Ir$1(),jt=tt(rt,o),wl=Xr(e.container),Ft=Xr(e.target),[it,ot]=reactExports.useState(!e.show),Ln=_i$2(Ft,j,Gi$1({placement:d,enableEvents:!!e.show,containerPadding:g||5,flip:a,offset:c,arrowElement:nt,popperConfig:b}));e.show&&it&&ot(!1);const Cl=(...mu)=>{ot(!0),e.onExited&&e.onExited(...mu)},Tl=e.show||!it;if(Yi$1(j,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!Tl)return null;const{onExit:zl,onExiting:In,onEnter:Ml,onEntering:Dl,onEntered:Ul}=e;let Vl=e.children(Object.assign({},Ln.attributes.popper,{style:Ln.styles.popper,ref:jt}),{popper:Ln,placement:d,show:!!e.show,arrowProps:Object.assign({},Ln.attributes.arrow,{style:Ln.styles.arrow,ref:st})});return Vl=$i$1(_,$,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Vl,onExit:zl,onExiting:In,onExited:Cl,onEnter:Ml,onEntering:Dl,onEntered:Ul}),wl?ReactDOM.createPortal(Vl,wl):null});wn.displayName="Overlay";function $r(e,o){return e.classList?!!o&&e.classList.contains(o):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+o+" ")!==-1}const Zi$1=["xxl","xl","lg","md","sm","xs"],ea$1="xs",xn=reactExports.createContext({prefixes:{},breakpoints:Zi$1,minBreakpoint:ea$1});function Ne(e,o){const{prefixes:a}=reactExports.useContext(xn);return e||a[o]||o}function En(){const{dir:e}=reactExports.useContext(xn);return e==="rtl"}const An=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=Ne(o,"popover-header"),k.jsx(a,{ref:d,className:Ye$1(e,o),...c})));An.displayName="PopoverHeader";const vr$1=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=Ne(o,"popover-body"),k.jsx(a,{ref:d,className:Ye$1(e,o),...c})));vr$1.displayName="PopoverBody";function On(e,o){let a=e;return e==="left"?a=o?"end":"start":e==="right"&&(a=o?"start":"end"),a}function Rn(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const ta$1=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,body:g,arrowProps:b,hasDoneInitialMeasure:_,popper:$,show:j,...rt},nt)=>{const st=Ne(e,"popover"),jt=En(),[wl]=(o==null?void 0:o.split("-"))||[],Ft=On(wl,jt);let it=c;return j&&!_&&(it={...c,...Rn($==null?void 0:$.strategy)}),k.jsxs("div",{ref:nt,role:"tooltip",style:it,"x-placement":wl,className:Ye$1(a,st,wl&&`bs-popover-${Ft}`),...rt,children:[k.jsx("div",{className:"popover-arrow",...b}),g?k.jsx(vr$1,{children:d}):d]})}),Zt$1=Object.assign(ta$1,{Header:An,Body:vr$1,POPPER_OFFSET:[0,8]}),Tn=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,arrowProps:g,hasDoneInitialMeasure:b,popper:_,show:$,...j},rt)=>{e=Ne(e,"tooltip");const nt=En(),[st]=(o==null?void 0:o.split("-"))||[],jt=On(st,nt);let wl=c;return $&&!b&&(wl={...c,...Rn(_==null?void 0:_.strategy)}),k.jsxs("div",{ref:rt,style:wl,role:"tooltip","x-placement":st,className:Ye$1(a,e,`bs-tooltip-${jt}`),...j,children:[k.jsx("div",{className:"tooltip-arrow",...g}),k.jsx("div",{className:`${e}-inner`,children:d})]})});Tn.displayName="Tooltip";const Cn=Object.assign(Tn,{TOOLTIP_OFFSET:[0,6]});function ra$1(e){const o=reactExports.useRef(null),a=Ne(void 0,"popover"),c=Ne(void 0,"tooltip"),d=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(o.current){if($r(o.current,a))return Zt$1.POPPER_OFFSET;if($r(o.current,c))return Cn.TOOLTIP_OFFSET}return[0,0]}}}),[e,a,c]);return[o,[d]]}const Zr={disabled:!1},Sn$1=React.createContext(null);var oa$1=function(e){return e.scrollTop},ct="unmounted",Fe="exited",je="entering",Be="entered",er$1="exiting",Se$1=function(e){Eo$1(o,e);function o(c,d){var g;g=e.call(this,c,d)||this;var b=d,_=b&&!b.isMounting?c.enter:c.appear,$;return g.appearStatus=null,c.in?_?($=Fe,g.appearStatus=je):$=Be:c.unmountOnExit||c.mountOnEnter?$=ct:$=Fe,g.state={status:$},g.nextCallback=null,g}o.getDerivedStateFromProps=function(c,d){var g=c.in;return g&&d.status===ct?{status:Fe}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(c){var d=null;if(c!==this.props){var g=this.state.status;this.props.in?g!==je&&g!==Be&&(d=je):(g===je||g===Be)&&(d=er$1)}this.updateStatus(!1,d)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var c=this.props.timeout,d,g,b;return d=g=b=c,c!=null&&typeof c!="number"&&(d=c.exit,g=c.enter,b=c.appear!==void 0?c.appear:g),{exit:d,enter:g,appear:b}},a.updateStatus=function(c,d){if(c===void 0&&(c=!1),d!==null)if(this.cancelNextCallback(),d===je){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);g&&oa$1(g)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Fe&&this.setState({status:ct})},a.performEnter=function(c){var d=this,g=this.props.enter,b=this.context?this.context.isMounting:c,_=this.props.nodeRef?[b]:[ReactDOM.findDOMNode(this),b],$=_[0],j=_[1],rt=this.getTimeouts(),nt=b?rt.appear:rt.enter;if(!c&&!g||Zr.disabled){this.safeSetState({status:Be},function(){d.props.onEntered($)});return}this.props.onEnter($,j),this.safeSetState({status:je},function(){d.props.onEntering($,j),d.onTransitionEnd(nt,function(){d.safeSetState({status:Be},function(){d.props.onEntered($,j)})})})},a.performExit=function(){var c=this,d=this.props.exit,g=this.getTimeouts(),b=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!d||Zr.disabled){this.safeSetState({status:Fe},function(){c.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:er$1},function(){c.props.onExiting(b),c.onTransitionEnd(g.exit,function(){c.safeSetState({status:Fe},function(){c.props.onExited(b)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(c,d){d=this.setNextCallback(d),this.setState(c,d)},a.setNextCallback=function(c){var d=this,g=!0;return this.nextCallback=function(b){g&&(g=!1,d.nextCallback=null,c(b))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},a.onTransitionEnd=function(c,d){this.setNextCallback(d);var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),b=c==null&&!this.props.addEndListener;if(!g||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var _=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],$=_[0],j=_[1];this.props.addEndListener($,j)}c!=null&&setTimeout(this.nextCallback,c)},a.render=function(){var c=this.state.status;if(c===ct)return null;var d=this.props,g=d.children;d.in,d.mountOnEnter,d.unmountOnExit,d.appear,d.enter,d.exit,d.timeout,d.addEndListener,d.onEnter,d.onEntering,d.onEntered,d.onExit,d.onExiting,d.onExited,d.nodeRef;var b=wo$1(d,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(Sn$1.Provider,{value:null},typeof g=="function"?g(c,b):React.cloneElement(React.Children.only(g),b))},o}(React.Component);Se$1.contextType=Sn$1;Se$1.propTypes={};function ze$1(){}Se$1.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ze$1,onEntering:ze$1,onEntered:ze$1,onExit:ze$1,onExiting:ze$1,onExited:ze$1};Se$1.UNMOUNTED=ct;Se$1.EXITED=Fe;Se$1.ENTERING=je;Se$1.ENTERED=Be;Se$1.EXITING=er$1;function ia$1(e){var o=Pt$1(e);return o&&o.defaultView||window}function aa$1(e,o){return ia$1(e).getComputedStyle(e,o)}var sa$1=/([A-Z])/g;function ua$1(e){return e.replace(sa$1,"-$1").toLowerCase()}var ca$1=/^ms-/;function Ot(e){return ua$1(e).replace(ca$1,"-ms-")}var la$1=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function fa$1(e){return!!(e&&la$1.test(e))}function kn(e,o){var a="",c="";if(typeof o=="string")return e.style.getPropertyValue(Ot(o))||aa$1(e).getPropertyValue(Ot(o));Object.keys(o).forEach(function(d){var g=o[d];!g&&g!==0?e.style.removeProperty(Ot(d)):fa$1(d)?c+=d+"("+g+") ":a+=Ot(d)+": "+g+";"}),c&&(a+="transform: "+c+";"),e.style.cssText+=";"+a}function da$1(e,o,a,c){if(c===void 0&&(c=!0),e){var d=document.createEvent("HTMLEvents");d.initEvent(o,a,c),e.dispatchEvent(d)}}function pa$1(e){var o=kn(e,"transitionDuration")||"",a=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*a}function va$1(e,o,a){a===void 0&&(a=5);var c=!1,d=setTimeout(function(){c||da$1(e,"transitionend",!0)},o+a),g=Ie$1(e,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(d),g()}}function ma$1(e,o,a,c){a==null&&(a=pa$1(e)||0);var d=va$1(e,a,c),g=Ie$1(e,"transitionend",o);return function(){d(),g()}}function en$1(e,o){const a=kn(e,o)||"",c=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*c}function ha$1(e,o){const a=en$1(e,"transitionDuration"),c=en$1(e,"transitionDelay"),d=ma$1(e,g=>{g.target===e&&(d(),o(g))},a+c)}function ya$1(e){e.offsetHeight}function St(e){return e&&"setState"in e?ReactDOM.findDOMNode(e):e??null}const ga$1=React.forwardRef(({onEnter:e,onEntering:o,onEntered:a,onExit:c,onExiting:d,onExited:g,addEndListener:b,children:_,childRef:$,...j},rt)=>{const nt=reactExports.useRef(null),st=tt(nt,$),jt=In=>{st(St(In))},wl=In=>Ml=>{In&&nt.current&&In(nt.current,Ml)},Ft=reactExports.useCallback(wl(e),[e]),it=reactExports.useCallback(wl(o),[o]),ot=reactExports.useCallback(wl(a),[a]),Ln=reactExports.useCallback(wl(c),[c]),Cl=reactExports.useCallback(wl(d),[d]),Tl=reactExports.useCallback(wl(g),[g]),zl=reactExports.useCallback(wl(b),[b]);return k.jsx(Se$1,{ref:rt,...j,onEnter:Ft,onEntered:ot,onEntering:it,onExit:Ln,onExited:Tl,onExiting:Cl,addEndListener:zl,nodeRef:nt,children:typeof _=="function"?(In,Ml)=>_(In,{...Ml,ref:jt}):React.cloneElement(_,{ref:jt})})}),ba$1={[je]:"show",[Be]:"show"},tr$1=reactExports.forwardRef(({className:e,children:o,transitionClasses:a={},onEnter:c,...d},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...d},_=reactExports.useCallback(($,j)=>{ya$1($),c==null||c($,j)},[c]);return k.jsx(ga$1,{ref:g,addEndListener:ha$1,...b,onEnter:_,childRef:o.ref,children:($,j)=>reactExports.cloneElement(o,{...j,className:Ye$1("fade",e,o.props.className,ba$1[$],a[$])})})});tr$1.displayName="Fade";function wa$1(e,o){const{ref:a}=e,{ref:c}=o;e.ref=a.__wrapped||(a.__wrapped=d=>a(St(d))),o.ref=c.__wrapped||(c.__wrapped=d=>c(St(d)))}const Pn=reactExports.forwardRef(({children:e,transition:o=tr$1,popperConfig:a={},rootClose:c=!1,placement:d="top",show:g=!1,...b},_)=>{const $=reactExports.useRef({}),[j,rt]=reactExports.useState(null),[nt,st]=ra$1(b.offset),jt=tt(_,nt),wl=o===!0?tr$1:o||void 0,Ft=et(it=>{rt(it),a==null||a.onFirstUpdate==null||a.onFirstUpdate(it)});return $t$1(()=>{j&&b.target&&($.current.scheduleUpdate==null||$.current.scheduleUpdate())},[j,b.target]),reactExports.useEffect(()=>{g||rt(null)},[g]),k.jsx(wn,{...b,ref:jt,popperConfig:{...a,modifiers:st.concat(a.modifiers||[]),onFirstUpdate:Ft},transition:wl,rootClose:c,placement:d,show:g,children:(it,{arrowProps:ot,popper:Ln,show:Cl})=>{var Tl,zl;wa$1(it,ot);const In=Ln==null?void 0:Ln.placement,Ml=Object.assign($.current,{state:Ln==null?void 0:Ln.state,scheduleUpdate:Ln==null?void 0:Ln.update,placement:In,outOfBoundaries:(Ln==null||(Tl=Ln.state)==null||(zl=Tl.modifiersData.hide)==null?void 0:zl.isReferenceHidden)||!1,strategy:a.strategy}),Dl=!!j;return typeof e=="function"?e({...it,placement:In,show:Cl,...!o&&Cl&&{className:"show"},popper:Ml,arrowProps:ot,hasDoneInitialMeasure:Dl}):reactExports.cloneElement(e,{...it,placement:In,arrowProps:ot,popper:Ml,hasDoneInitialMeasure:Dl,className:Ye$1(e.props.className,!o&&Cl&&"show"),style:{...e.props.style,...it.style}})}})});Pn.displayName="Overlay";function xa$1(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function tn$1(e,o,a){const[c]=o,d=c.currentTarget,g=c.relatedTarget||c.nativeEvent[a];(!g||g!==d)&&!Wt(d,g)&&e(...o)}N$1.oneOf(["click","hover","focus"]);const mr$1=({trigger:e=["hover","focus"],overlay:o,children:a,popperConfig:c={},show:d,defaultShow:g=!1,onToggle:b,delay:_,placement:$,flip:j=$&&$.indexOf("auto")!==-1,...rt})=>{const nt=reactExports.useRef(null),st=tt(nt,a.ref),jt=ho$1(),wl=reactExports.useRef(""),[Ft,it]=xo$1(d,g,b),ot=xa$1(_),{onFocus:Ln,onBlur:Cl,onClick:Tl}=typeof a!="function"?reactExports.Children.only(a).props:{},zl=hp=>{st(St(hp))},In=reactExports.useCallback(()=>{if(jt.clear(),wl.current="show",!ot.show){it(!0);return}jt.set(()=>{wl.current==="show"&&it(!0)},ot.show)},[ot.show,it,jt]),Ml=reactExports.useCallback(()=>{if(jt.clear(),wl.current="hide",!ot.hide){it(!1);return}jt.set(()=>{wl.current==="hide"&&it(!1)},ot.hide)},[ot.hide,it,jt]),Dl=reactExports.useCallback((...hp)=>{In(),Ln==null||Ln(...hp)},[In,Ln]),Ul=reactExports.useCallback((...hp)=>{Ml(),Cl==null||Cl(...hp)},[Ml,Cl]),Vl=reactExports.useCallback((...hp)=>{it(!Ft),Tl==null||Tl(...hp)},[Tl,it,Ft]),mu=reactExports.useCallback((...hp)=>{tn$1(In,hp,"fromElement")},[In]),rp=reactExports.useCallback((...hp)=>{tn$1(Ml,hp,"toElement")},[Ml]),Ju=e==null?[]:[].concat(e),cp={ref:zl};return Ju.indexOf("click")!==-1&&(cp.onClick=Vl),Ju.indexOf("focus")!==-1&&(cp.onFocus=Dl,cp.onBlur=Ul),Ju.indexOf("hover")!==-1&&(cp.onMouseOver=mu,cp.onMouseOut=rp),k.jsxs(k.Fragment,{children:[typeof a=="function"?a(cp):reactExports.cloneElement(a,cp),k.jsx(Pn,{...rt,show:Ft,onHide:Ml,flip:j,placement:$,popperConfig:c,target:nt.current,children:o})]})},Ea$1="_help_button_1s4g5_1",Aa$1={help_button:Ea$1};function Ia$1(e){let o=k.jsx("div",{className:Aa$1.help_button,children:"?"});return e.popover!=null&&(o=k.jsx(mr$1,{trigger:"click",rootClose:!0,placement:e.placement,overlay:e.popover,children:o})),o}const Oa$1="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='36.012337'%20height='31.802971'%20viewBox='0%200%2036.012336%2031.802972'%20id='svg9098'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='mclogo-split-rotate-v9.svg'%3e%3cdefs%20id='defs9100'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='11.2'%20inkscape:cx='14.890099'%20inkscape:cy='23.051314'%20inkscape:document-units='px'%20inkscape:current-layer='g9'%20showgrid='false'%20units='px'%20inkscape:window-width='1680'%20inkscape:window-height='940'%20inkscape:window-x='0'%20inkscape:window-y='1'%20inkscape:window-maximized='1'%20fit-margin-top='3'%20fit-margin-left='3'%20fit-margin-right='3'%20fit-margin-bottom='5'%20/%3e%3cmetadata%20id='metadata9103'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(3.0066849,-1015.2422)'%3e%3cg%20id='mctriangle'%20transform='matrix(1.1533275,0,0,1.1556928,-379.094,391.20844)'%3e%3cg%20transform='translate(2975.41,266.50511)'%20style='display:inline;stroke:%23d21f15;stroke-width:0.86616874;stroke-opacity:1'%20id='layer6'%20/%3e%3cg%20id='g9'%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9220'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9224'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9228'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9232'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9236'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9240'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9244'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9248'%20/%3e%3cellipse%20ry='0.25958455'%20rx='0.26011693'%20cy='553.91522'%20cx='341.70126'%20id='ref'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.4000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20/%3e%3cpath%20id='mctriangleonly'%20d='M%20335.13723,550.18801%20338.41923,555.66439%20341.70129,561.14077%20344.98332,555.66439%20348.26535,550.18801%20341.70129,550.18801%20Z'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.91575587;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20inkscape:connector-curvature='0'%20/%3e%3ccircle%20cy='550.02032'%20cx='348.39252'%20id='circle7840-5'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20cy='550.02032'%20cx='335.01007'%20id='circle7842-0'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20id='circle7844-5'%20cx='341.70132'%20cy='561.30841'%20r='1.4070433'%20/%3e%3ccircle%20r='1.4070433'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;filter-blend-mode:normal;filter-gaussianBlur-deviation:0'%20id='movingcircle'%20cx='335.01007'%20cy='550.02032'%3e%3canimateTransform%20id='anim1'%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20values='0.0%200.0;13.38245%200.0;6.69125%2011.28809;0.0%200.0'%20type='translate'%20attributeName='transform'%20/%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function La$1(){return k.jsx("div",{style:{background:"transparent",border:"none",textAlign:"center"},children:k.jsx("img",{src:Oa$1,alt:"Materials Cloud spinner",style:{width:"100%",minWidth:"20px",maxWidth:"200px",height:"auto"}})})}const Ra$1=["as","disabled"];function Ta$1(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function Ca$1(e){return!e||e.trim()==="#"}function jn({tagName:e,disabled:o,href:a,target:c,rel:d,role:g,onClick:b,tabIndex:_=0,type:$}){e||(a!=null||c!=null||d!=null?e="a":e="button");const j={tagName:e};if(e==="button")return[{type:$||"button",disabled:o},j];const rt=st=>{if((o||e==="a"&&Ca$1(a))&&st.preventDefault(),o){st.stopPropagation();return}b==null||b(st)},nt=st=>{st.key===" "&&(st.preventDefault(),rt(st))};return e==="a"&&(a||(a="#"),o&&(a=void 0)),[{role:g??"button",disabled:void 0,tabIndex:o?void 0:_,href:a,target:e==="a"?c:void 0,"aria-disabled":o||void 0,rel:e==="a"?d:void 0,onClick:rt,onKeyDown:nt},j]}const Sa$1=reactExports.forwardRef((e,o)=>{let{as:a,disabled:c}=e,d=Ta$1(e,Ra$1);const[g,{tagName:b}]=jn(Object.assign({tagName:a,disabled:c},d));return k.jsx(b,Object.assign({},d,g,{ref:o}))});Sa$1.displayName="Button";const Dn=reactExports.forwardRef(({as:e,bsPrefix:o,variant:a="primary",size:c,active:d=!1,disabled:g=!1,className:b,..._},$)=>{const j=Ne(o,"btn"),[rt,{tagName:nt}]=jn({tagName:e,disabled:g,..._}),st=nt;return k.jsx(st,{...rt,..._,ref:$,disabled:g,className:Ye$1(b,j,d&&"active",a&&`${j}-${a}`,c&&`${j}-${c}`,_.href&&g&&"disabled")})});Dn.displayName="Button";const ka$1="_download_dropdown_menu_23m9j_1",Pa$1={download_dropdown_menu:ka$1};function Ha$1(e){var o=`${e.aiida_rest_url}/nodes/${e.uuid}/download`,a=k.jsx(Zt$1,{children:k.jsx(Zt$1.Body,{style:{padding:"5px 0px"},children:k.jsxs("ul",{className:Pa$1.download_dropdown_menu,children:[k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=chemdoodle`,children:"ChemDoodle"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=cif`,children:"CIF"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=xsf`,children:"XSF"})}),k.jsx("li",{children:k.jsx("a",{href:`${o}?download_format=xyz`,children:"XYZ"})})]})})});return k.jsx(mr$1,{trigger:"click",rootClose:!0,placement:"bottom",overlay:a,children:k.jsx(Dn,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",children:k.jsx("span",{className:"bi bi-download"})})})}const ja$1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACACAYAAADUHPECAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAdTAAAHUwAGRbQIfAAAAB3RJTUUH4QoMEAcil62xzQAAGc9JREFUeNrtnXl8XVW1x7/r3JvcJC1tgdKWUqADs0CTAk6AAh+GgAzyBBUUKQ8R6GDx4Ud9j6YVWkCeAio2pSLqQxyK4gTSBBApVJDCo4lMMjQpHaAphVI6ZLrnrPfHOjeEtknOvfece8/N5/0+H/j00yb77L3P7+y99tpr/ZYwyKFzRgMCquAIeDoCmARMBmqAQ4B9gD2B3YCU/6udwBbgbWAd8BLwT+A54BUcbxOeYz8pINe1FXuokUKK3YGooHNHgwco4MgwVKcAJwPHAQdhxCjPstlu4B3gFeAx4GFgBcpmxJ4l8wcnYQYdUXT2aDIvDWFf4CzgM8DRwLCQH/ce8CzwO5D7cHQ1nv2DzBtchBk0RFGaoO60DEnGAhcAFwOHAYmIH+8BLwB3Ab/GtiqY14hQXeypCQWDgig6Z4zZIFABfBq4CjgGcArcFQ94Bvg+8EegHRSZt6HYU5Q3Sp4oWjfaSCJyAPCfwOeAIUXu1jZgMXAjyGuoh8wvbbKUNFG0bjSgAnIqcAMwpdh92gErgP/CcxtxElrKdkvJEkXrRoE6ZYheDFwH7F3sPvWB9cBckJ+BdpcqWUqSKLaSkAJmAdcQ/mkmbGwBrsdsl85SJEvJEUVnjwKRcuA/gDqgqth9CojtwHyEm1HtKjUDt9Cngrygc0aBagK4HFtJSoUk+H39L5TLURI6e3Sx+5MVSooodFeA43wamAsMLXZ3csBQYC4i51BeWot5yfTWt0uqsWPnQcXuT554GTvGN5eKvVISK4rW7Q0wAvg2pU8SgIOBa4EROntUsfsSCLEnin59GIgIMBU4o9j9CRFnAFNRFX+1jDViTxQqK0Hdw4CZQFmxuxMiyoCZOM5haPwtgPgTBZLAlcDEENpygUbgX8UelI+J/tiSxe7IQIg1UfwleQpwXojN3g2cA9wGbCz2GIHzEK3RujHF7ke/iDVRsPCALwJhb+KvYA6787Fb3o4ijnG0P8aoQyHyQmyJot/eB2xpPjPstv0jaRp4FPgScBmwHDJhRwXHWaAT9Zr4GrWxJQpeB8BpwP5RNC/z2jKE2YLI3cC52JVAaxFGuz9wKhVFeHJAxJcomqwETo+6jzKvDbrTAG/wescNGGHuAN4t4Ggd4HS6qCzgM7PuYFwxCYuSjxxy40YjzP4VAM14OgMLpVwCdBVovFMI52QXCWJJFN9bOQUoqNuyZzsSuoAG4EJgBtBcgMfvBRyldfH01MaSKHgIFjVflJOAzN8A6oFtP3dgcbjzyQRNR4MkcDTixNL7Fk+iJKgEPlTMLsj8t3qnXKzCTczBCHMXlqYRBQ5DvVjaKfEkCrIHsG+xewG9tiPHUyzC/nLsSP037IgdJvb1xx47xJQo7AnEasJk/npofQ/MOfcn4LOY0+6lwTzuDOJKlL0gfl4Fubs9Y+wCbMR1bsOuA24BwggsqfDHHjvElSjDiPFNsVznb0dlLsCrqHwDu4/6HRYbmyvKiGmgeFyJUkHM7z4A5NoN/gqjLrAMYSrw78AyLKE9WySI4UoK8SVKghIK05R5beB6oGwj6SwGfoipHmTdFDH9QOIaB5HG9AhiD50z2npaloBu90DS3uXAF8jNWegR/kkqFMSVKNuxCYvl1wWg3xoLSTdD55F0uxdiQUiH5NGsS342TmSIK1Hexfb4VJ7tRIdyFzwqsIvLr2ICPfnOZxewqdhD2xXiSpS3sC8rvrk7yuEI38SOx7uF1Op24hF1txPiasy+DcQ95/JQLEIuLJLgjzkXIzhyxJMowiZgVbG70T+0AQtDCBOtqMZy64knUbSrC1NgjDO2YOoEYW4Vz9GRKlT8S1aIJ1HssPM0JuEZT5SnQHgC+FVILXYCT1Oei58uesSSKDJvI0ATsLZQz9SrD0LrRhM0a0/q1oCdzBYCr4bQhTVAk9ywvlBDzgqxJAoAyjrgyYI8qm4UVG0GZDdgZFBJCrmuDZSXgdvJ31H2JGiUgVF5Ib5EQbuBvxBhzGqvFSQJfBL0buB7IFV+YnyQVhRLKnsqj650AveBE0uvLMSZKFIOlnfzQhTNa93ozOgPBbkFu/k9Gzgf0TOQYLaCzN8Aohsww3Zbjt15AXgsziZZbIki89ZCp9cG/JZwE7PUX0VG4XE1lik4Exjp/3sVcBWaGKV1AUNDLMn8AeD+HPrjAfewzWuTebE8GQMxJgoASVHgHsIxFsFuZoZgsa+/A25i13orHwG+iHqBbrBlXhso24EfYCqQ2eAVlN/GXYEp1kSRGzaApy3Az7ALszDGezUWIH08fV86JoErkOTBgZPHU4B6y4FfEPzm2wXuxPVa5TvxdkTHmigACIq92KdDGu9BBHO7HwhMA8qslMsA3axrA8QFFhE8jvYp4G4ciX1IReyJYsai+ya2TWwu8OMvAP24r7MfrK+etxJYwMARbpuBm/C89XJ9vFcTKAGiAKBlYMbiTyms4sBIrADDbjo3oGHrOGCChI/381Me8BOUBpy4XuDvMKxidyAIZN6bYP6U7wKPFPjxp4GcTWewOgy+Yfs2dlzuK1Hsr8D3gC5/bLFHSRAFMpom8ibwDeDFAj66EphFWfvYwKJ8ZS4gD2FH7x3xgo1B1pdStbCSIQoAqQ7wWIFtB68X8MlHAVN9dcoBIXM3AtqBBVn3dsu/DlxFwmuie2sBu58/SoooMvtdO7hu6XoICz9cU6BHO8BlqB4eVG3A0ji8FZhdhd/XmXSmH6Y7gXzn/4kSKeTaNhhaDpL4M3AF8FqBHj0e8+CW6zWBPbYecCdwLzANGXIfqSRyfTxviPtDyREF/Eqg6oLrPIDVDfxHgR59PsgJJIIlB8i8DaCyGriUJ469H91eskUpS5Io4C/tSReQJ7A8mruI/lZtBPA1VIcHFrwRVWAzxy5D5pXeStIzjGJ3IF/o7L1AHLA7nC8BX8O8qlGhE5jOe4fcKT9YWuzhFwwlT5QM7OjqAN7hmJzW+UQnIdEMnI3q6lIvKhkUJbv17Ajb+12A51H5KlYU+24sRyhsHIFp08Y2kzFsDJoVpTd09hiwe7ZyTDTw01g1iwMJTy3gNeAsmdcWF139SDEoiQJ+HGxmeJUpaO/cGxMQ/AQWbzIJ25qCEqcDS85aiUl0/Q1YKvPaotJzixUGLVF6wy9Y2fuvhgFjMV3XCcA4TH1gGLYKgd0tvYdl763FFK1bgDcok/fothvlUj3uZouCEWXykipEFFA8twySHppwkbRDsjuNV2bmUremeeH0aGKM9dtjwN2FSIIobHZgqDg4noM4gpdw8bZ4JCrZKQ6pWyGZQOZHdKFXvzLTMcCxx4tgl87d9KSMC3BlYTSMIyNKdWMFiiIfKFqkkOxGuyodTaiD44m44nmu5yUSfQfvNNVGV/xC68ZYIL0AbgISrh233TJwOvHfUrQrx8IWP+52hylQAUFQEnbPpIDrkhSP9I6vzv/daZMi6WKoRKlpMHKAjUkdrRCV0djyPhGTBN0b2B0LHnSwo8o2bP9fh+UctwCrsXRNFyCZTvPMmbHNZsgei1aC23v6JQE6EtgPs5/GA/tgSpFV2DLoYbbSJuBNf45W2pxpmzHbVm0gVNKEQpSaxkq0JwpMh4EcgemFHAschtWkGRLweS5mG6zB8o8fBx5OptMtg4IoC1vef5dCOXAA8HHMyJ6MfUzDCHb0VmArpkj5IvB3my99HmRLz4+EQJi8iDK5oQrBo6m2g+qGionAp7Cj6BTM3R0GuoBpyXT6zpImSv1KMistwh7AiZiS5LHYyhGWT+sdYAUWC/MAm8a0sPt6s8OuzJ0wORFlygMpPEdISDeulh2EVbD6LBa4HLbdsww4L5lOt5UsURa0ZGZlD+xDmgocQ7QKkB6W5rIYuBsSryIueALTJ2TdWNYv1YxUEGUv4CJM8juqWsTbgIsduPfZCA3ayLBwpRmkSjlCLRZwdRyF19B9GbgD4S6Ut3LZjrJa7iY3VuA5iCgnAr8G/ptoC1bfp7CkJNeR+lZQB2Aiwg+w2+0TKY7Q8sHATSi/Bk5CPIf6lqwaCLSiVDc4QDkqDBHlCiyJKmgWd65YD5yr8I/mgKtJdUMFCDSdVuTVp74FSDjg1gLXYaGUccF64GZMgWErLjBzYF/MgCtK9V/K8J2Ve4vyfeB6oieJJX2JPJ0VSWCoQLn/5+LAvtQUuNOxDMc4kQRgDPYObwXGkgDqVw34S/0S5cN/HoYfzTURy4C7lMJIer5kz9Ms0kilDKhTpQ4YUr2kCGQxkgwBZgPfocAVzLJAOfYuFwETwYNb+5dm6ZconSYnNhFbps6iMC7/bmBB2ulqCbqFGCn0WH/w3wTmAEMKurIs7CHJXCylpKpwD88JgpUKXgRMItV/cGCfRKlurECUfbCK46cUcACPA79JaDCbr8bskt2wE8WemLE4C+EbQGpyQwEKatW3AJICvgXM4v2LxVLAydg7HueTfZfYJVGqGytQZThwI6bMXCi8B9yKOO80nxYs/DVtt8LnAKf2+usUZnBfiuIc2RDhezNHmoPqZVihp1IiSQa1wA0ow/s6De1ElOqHKgGSYl/o5ylsKMIfVHkYL5hpUtOQIoGOxXJ8dlw6hgBzRPSURJQC3VoG6KlYce24bzd9QbB3PQshSf3qnX5gJ6JouwfKGdjkF/LMvxb4oTh0NJ0+8GpS/RQ4goMyFbsy2BVGA/MVb0Ik9kr9SpD0BKyCaVwN16CwLVuptXvHD+IDRKluSCHlsh/2dRSytp0H/BSkqWlFQB/IO5W4Kh9i4NjVo4CrQcoP+dOI8Hr8+y2gWm5tx+4InCv2AOoguS/1rR/4hx6iVC+tQIUEJh5T6IH/E7gT1ONbA/9wdWMliJZjmXvjB/hxAb4IesqQVHt4PV7XBuKcYm0PKhyNZWAmetsr768o2xVRORrLvAvDLllHsNzgTuC23Ts6VgcOUPI8gBOwlIwgGA58zUV2nxLGFrToVUg4u2N23PAQ5moL8C8Kq/3SFxxgKmhNbwGhHqKoxUZ8BfPchYFlwL9hubf9KSU9InDvOxXBjrFHNlSCyAgs0WtEFv05DjjLdUNQweqsAPNBHB/SXLVhtQhnY7G5xcZYjAs9NqoD5v4WpAZzqoUFj5T+LzAduBB4kJ3FhTdhruTNzbXBtoWOsgqwnJ0Ts+xPCrhEEjKi+pE8VpWbWyDZPRy4hHC91GtJjr8RC0O4AytuVUycg0g1Cyx+11YUwQE+R9g1d7slgW0tD5A5fsHzvX7iHmDpioBbTs2SFJXd7fthtkkuL+nDwCc0nwzlKgFbST4S6lyBQ7oVzF6b4c9XAxEqdw+AUViMkUPmf6KMwxKkQkdTbQfvmXt4kyC3Y+rQN2E69wuymwhxBL6MZerlgirgM0gex34lia1o4ftMpk2CaRPx56QRuAAjTXPozwqGTyEyFsCpbqhEbf+OLO6/5USlqbYDz2y1VkSvAc5D3BeCGrDVDRWoUIPt5fmEDX5CBj4p9QPdH/hkVHMFGFnaOwHeRbgD247mU8BqIz4OAI6jfiWOqiYxf3/kzrXm2k5LvVBxgTfACWTlVz9YjlrY4Fex+NJ8MA74aE1jDguC3YV8FAuAjhZXH2qE8RRgFcgc7HDwC+yUVAiUASejkkiKMAaL3ywYss3TkXQSHO8U7MvKF0ngeBV+SbbHUcXB7JPCaX5O90MW61sVeBqRr6B6L2bvFaIvxyCMcbB0iui/kBxR01COOt6e2HF4WFjN4nkjsv4tYQTRfFQDv+xpE2yFUTqAP4F8FvMKB1XJzhX7A4clgRrCrbQZLkQF5fOYHRXm4MeRfUXQoZifI+zE9HXs6oJlV5g2ARa0grARlR8iugQLcL+IaO6bdgOqk9gJIrY6KaqJcViF8jBtqOFY9mJ2BS4dZy2uXhTFMHGd4If2TLqFJZO9iiffxNE/Yjbcpwj3ROYARzpY+mKcsQUz4ML0WJYB+538TNa/5wHtof9n20n2LuMrJ9p2JLjAMpBLsFPhk4R7HTApSXgu+6jwbmJ7x01uVcUDmJc3DMktAfZ+6KgsL7UuH1/sudg1pk+AH60CR7chLEZZim1FX8GOuPlijEN4qZ+RoKm2A6+qAuA5RWZiHssl5K8AueeUhyoHjz7MjPFmv9g6sh4n+V3slFiPVabPB7s7lEBU1oraDsqTabDA64ewu6NpwLPkXh20Sl2NrW2WM6b725HXDaa7Pwu7nrkf2J5jq1UOhfQJ5IHlJ6dprm33ZTV4F5MOv5D+y530hzIcHTwryo6YNgl/Y01j1TwuAn5Mbh9WMoktViXxZR3RmDJhHk8cHD0GuweZkmNzrmoOBmSpYEGrKRioArIfZuSeS25Klm4Ss7zj60chI9Djjxsm4OhlmCJAPhmL7Q7xL9GWNW573VSjbMZGYG7/GUA1uQektSexoKJYEmXqPdA8PJVRztpd7dp7GnBkCM1vSqVSXlA/V0lgQatf1lDKQE9A9SrsHi/fFJJ3k5jq4bhij3FHTF5SwQoBB00BJ6mFHYapBtDmBawV2IOFraARRSt6HszIUZn99la7PKzcDtsrD0d0OvZRhRUgvyGJFRvKdZ8PHdUNVYBHd1opS0q1qszA4j9GhPiYNLBm+UlZeuKvGA8LV2f3O0EgAuU5mA53vgqdCXAVhLG0V34J4TLCDxlZlQSew87bRT0B1PylHE1ktP9kXFlSLsFyifeP4HFbMUHB7LCwdQwWoR6swGAwCMpG0ulFWGhoMNS3ZDxJQxHOxtz3xxD+wUSB55JAE3a+DnPwWaF6SYVftZ5hIOf4gz6K6MgbNENgRziYw+/gkPuzChMmGpgoC1b6mrOaBDnWn6taovOHbQOaklgM63qKcOfTk72nkgQ9HrNDTiVabTNszLox699S3kJoInyiDOzbuL3Fd2QIeHowyBVYnaJw45x3xpsozycRVqM0UUCiTDalBAQPD+cwEb0S+1JHFuDxHrBMO73sHU9lnd2kU3/H7psK53uqX5lxzY/E04xXOmyy9oUViK5Nalo7JSGPYM6YyAdf3VCRuScdrTgXicVShHFxFRQbgWVSlWDgYuc7oLMKEu4yv43oc40zTjO0EtteZmFyo4XypnvAI7jalXSGOGiHPoopIecbj9onqht7CDIEi5mYhaU8FLrmzXKUl5tOycF/MnN/qG/5F7AcSwCLBplUTg9B+DB2GXoOFjhVSKwDHmVkCmfFCe2o8ioRVSivWVLpJ5ipg30NP8W0zT5O4UmSBv6A4+SRhKztwO/JejkKiPfzfSfi6PX+s75A4UkCdkfUwgX79ixh3ZjVfW6oHRLUczxE5QBVyYTrBSxHHgleBBqtwkbug8Jybl4iHA9xplH1SbIHZgNNJ/f8pTCwBfgN/gdhCWACII8DYVZTVFz2FJXpwJ+Br1NcknjALzWhbzSdkUfy3bSJ0N39JuQQxd/fXFnm4+nYy7mN4pIE4FEsfxzwidJU24GaE2oR4eWMHIHJa98KHFrkQYO5AX6DF8JFYDKh2At9Pt+mfAwHbgF+henlFUO0uDe2AIsQtvmZi++fchKAKg9jX38YOAKTpij2oMFSNBeUO92rm8MQK55+ACSc1WSdEtsn9sKM4xFFnKPe+CPwCO77C2YPUZ6tbQehHVM1fr3YPQ0ZjcDibi/EU6VN4mK/7cGEVcAtqLYz432vxQf8Js21HTheogn4HtFXJS8UVgPXo2xeURvikGxJ3oypQOdyHRBHdAI3k3CaezIUfews9ieeCvwc24NLHe3ADcDyptMjiDuZNhE8We4/I0Tdr6JhMfBzdhF/sRNRVpzejgpbgW/Ty+otQbjAj1HuIpecmaAQFPgfTPwmDtJauWIZprq9lSt3rufT5+1s9YOV4OlR/iR8qNijyAGLUaYDb0eymvSG+T9GYqkRQXXl4oQXgYtRfWbHLSeDPu92tMtFXclIa71c7JFkifuAryMFIAlk7JWNmHL1/cUefJZ4BZiOyjNI347yPonSfGYXTtIDkaVYxllYPoMoocC9GLnXRlkGdydYaudakOnAH4hyuwsPLwCXk+BRRGHa+D5/sN/b4hWndYIqgj6GRb0/VuyR9YMu4CfAdIU1VQWpFrMDOpOArsbCAH5C8fTXgmAZcAkqj9JNZlXsE4EiyKxChSIWlngtFjtShDfRJ94CvouyEGHrqOF78ODH3ihOT360KiMkNRRb2a4m+uCibNCJnW7mAquCVmMPHGp4VGMK1+IVh2KixVdj0hHFhAJPANeB9zA4XkG3m/5Q3wIiCVRPwSTjP0aR45IxRYhbMPfHVkTY1QlnV8ipSuk2t4MhTkUNpoJ0DuEpIWWDNcCdIHeAvgFKU5gOtTCQqX+jjMU0+y+lOOpWW7CrmZvBXQGJAbeaHZETw6v9rQiLbT0ZM3ZPoDCJZG9idxF3OKJNnjqKaPELTvaFH7X4lqAKJvr8ZSzrIeq6jGAEWYqV3fsriDkFsyQJ5LEUHtFYScJTvwUZCnocpot6AvbVhLnMdmHHuPuB32JKSelYVCQNip6oNUni6BGYv+VMrBxwmPaeYjKjj2C2yGNYJL3l/8zMLTQ675dZYzq1gCKqSRU5ECPLScBk7MsZkuWzPEwnrRULO3wYeHKv7VXr3qoy5YZU0uOpk+N8qNgFfrwautM2E+1JqEyPxeRIT8VUtcdjIQfZxi5vA97AhIv/BiwFeQXUovAUk8PIA6F99VMaU6gHKpkmNSXIODXVySnA4f5EjPIno9KfkLQ/0E1Y2shrWFJaM8qLKrpe/GRyD/hnXIzVfHH7SvD8uXJU8GQMcAiWTH4kFnC+NxbxVoUfCYIlS2/GUoFXYf6tJuA5RNeg4htqYqevK8JJrvg/1r/N4lnuwIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTAtMTJUMTY6MDc6MzQrMDI6MDB1PnpAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEwLTEyVDE2OjA3OjM0KzAyOjAwBGPC/AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=";function Na$1(e){var o=`${e.explore_url}/details/${e.uuid}?nodeType=NODE`;return k.jsx(mr$1,{placement:"bottom",overlay:k.jsxs(Cn,{className:"explore_btn_tooltip",children:["Browse provenance",k.jsx("br",{}),e.uuid]}),children:k.jsx("a",{href:o,target:"_blank",children:k.jsx("img",{src:ja$1,className:"explore_btn_aiida_logo"})})})}function Ua$1(e){return e.split(/(\d+)/).map((o,a)=>o.match(/\d+/)?k.jsx("sub",{children:o},a):o)}function Ya$1(e){let o=!1;return k.jsx("span",{children:e.split("").map((a,c)=>a=="_"?(o=!0,null):o?(o=!1,k.jsx("sub",{children:a},c)):a)})}const main$1=Object.freeze(Object.defineProperty({__proto__:null,DoiBadge:Ba$1,ExploreButton:Na$1,HelpButton:Ia$1,McloudSpinner:La$1,StructDownloadButton:Ha$1,TestButton:Fa$1,formatChemicalFormula:Ua$1,formatSpaceGroupSymbol:Ya$1},Symbol.toStringTag,{value:"Module"})),require$$8=getAugmentedNamespace(main$1);var ptable_data={};Object.defineProperty(ptable_data,"__esModule",{value:!0});ptable_data.elementsInfo=ptable_data.elementClassColors=void 0;ptable_data.elementsInfo=[{sym:"X",class:"X"},{sym:"H",class:"H"},{sym:"He",class:"noble"},{sym:"Li",class:"alkali"},{sym:"Be",class:"alkaline_earth"},{sym:"B",class:"semimetal"},{sym:"C",class:"nonmetal"},{sym:"N",class:"nonmetal"},{sym:"O",class:"nonmetal"},{sym:"F",class:"halogen"},{sym:"Ne",class:"noble"},{sym:"Na",class:"alkali"},{sym:"Mg",class:"alkaline_earth"},{sym:"Al",class:"post_transition"},{sym:"Si",class:"semimetal"},{sym:"P",class:"nonmetal"},{sym:"S",class:"nonmetal"},{sym:"Cl",class:"halogen"},{sym:"Ar",class:"noble"},{sym:"K",class:"alkali"},{sym:"Ca",class:"alkaline_earth"},{sym:"Sc",class:"transition"},{sym:"Ti",class:"transition"},{sym:"V",class:"transition"},{sym:"Cr",class:"transition"},{sym:"Mn",class:"transition"},{sym:"Fe",class:"transition"},{sym:"Co",class:"transition"},{sym:"Ni",class:"transition"},{sym:"Cu",class:"transition"},{sym:"Zn",class:"transition"},{sym:"Ga",class:"post_transition"},{sym:"Ge",class:"semimetal"},{sym:"As",class:"semimetal"},{sym:"Se",class:"nonmetal"},{sym:"Br",class:"halogen"},{sym:"Kr",class:"noble"},{sym:"Rb",class:"alkali"},{sym:"Sr",class:"alkaline_earth"},{sym:"Y",class:"transition"},{sym:"Zr",class:"transition"},{sym:"Nb",class:"transition"},{sym:"Mo",class:"transition"},{sym:"Tc",class:"transition"},{sym:"Ru",class:"transition"},{sym:"Rh",class:"transition"},{sym:"Pd",class:"transition"},{sym:"Ag",class:"transition"},{sym:"Cd",class:"transition"},{sym:"In",class:"post_transition"},{sym:"Sn",class:"post_transition"},{sym:"Sb",class:"semimetal"},{sym:"Te",class:"semimetal"},{sym:"I",class:"halogen"},{sym:"Xe",class:"noble"},{sym:"Cs",class:"alkali"},{sym:"Ba",class:"alkaline_earth"},{sym:"La",class:"lanthanoid"},{sym:"Ce",class:"lanthanoid"},{sym:"Pr",class:"lanthanoid"},{sym:"Nd",class:"lanthanoid"},{sym:"Pm",class:"lanthanoid"},{sym:"Sm",class:"lanthanoid"},{sym:"Eu",class:"lanthanoid"},{sym:"Gd",class:"lanthanoid"},{sym:"Tb",class:"lanthanoid"},{sym:"Dy",class:"lanthanoid"},{sym:"Ho",class:"lanthanoid"},{sym:"Er",class:"lanthanoid"},{sym:"Tm",class:"lanthanoid"},{sym:"Yb",class:"lanthanoid"},{sym:"Lu",class:"lanthanoid"},{sym:"Hf",class:"transition"},{sym:"Ta",class:"transition"},{sym:"W",class:"transition"},{sym:"Re",class:"transition"},{sym:"Os",class:"transition"},{sym:"Ir",class:"transition"},{sym:"Pt",class:"transition"},{sym:"Au",class:"transition"},{sym:"Hg",class:"transition"},{sym:"Tl",class:"post_transition"},{sym:"Pb",class:"post_transition"},{sym:"Bi",class:"post_transition"},{sym:"Po",class:"post_transition"},{sym:"At",class:"halogen"},{sym:"Rn",class:"noble"},{sym:"Fr",class:"alkali"},{sym:"Ra",class:"alkaline_earth"},{sym:"Ac",class:"actinoid"},{sym:"Th",class:"actinoid"},{sym:"Pa",class:"actinoid"},{sym:"U",class:"actinoid"},{sym:"Np",class:"actinoid"},{sym:"Pu",class:"actinoid"},{sym:"Am",class:"actinoid"},{sym:"Cm",class:"actinoid"},{sym:"Bk",class:"actinoid"},{sym:"Cf",class:"actinoid"},{sym:"Es",class:"actinoid"},{sym:"Fm",class:"actinoid"},{sym:"Md",class:"actinoid"},{sym:"No",class:"actinoid"},{sym:"Lr",class:"actinoid"},{sym:"Rf",class:"transition"},{sym:"Db",class:"transition"},{sym:"Sg",class:"transition"},{sym:"Bh",class:"transition"},{sym:"Hs",class:"transition"},{sym:"Mt",class:"X"},{sym:"Ds",class:"X"},{sym:"Rg",class:"X"},{sym:"Cn",class:"X"},{sym:"Nh",class:"X"},{sym:"Fl",class:"X"},{sym:"Mc",class:"X"},{sym:"Lv",class:"X"},{sym:"Ts",class:"X"},{sym:"Og",class:"X"}];ptable_data.elementClassColors={X:"rgb(220, 220, 220)",H:"rgb(220, 105, 105)",noble:"rgb(196, 205, 255)",alkali:"rgb(209, 146, 146)",alkaline_earth:"rgb(209, 189, 146)",semimetal:"rgb(189, 214, 163)",nonmetal:"rgb(214, 163, 190)",halogen:"rgb(210, 214, 163)",post_transition:"rgb(163, 178, 214)",transition:"rgb(169, 196, 212)",lanthanoid:"rgb(237, 184, 255)",actinoid:"rgb(191, 150, 255)"};var utils$1={};Object.defineProperty(utils$1,"__esModule",{value:!0});utils$1.RGB_Log_Blend=void 0;const RGB_Log_Blend=(e,o,a)=>{var c=parseInt,d=Math.round,g=1-e,[b,_,$,j]=o.split(","),[rt,nt,st,jt]=a.split(","),wl=j||jt,Ft=wl?","+(j?jt?d((parseFloat(j)*g+parseFloat(jt)*e)*1e3)/1e3+")":j:jt):")";return"rgb"+(wl?"a(":"(")+d((g*c(b[3]==="a"?b.slice(5):b.slice(4))**2+e*c(rt[3]==="a"?rt.slice(5):rt.slice(4))**2)**.5)+","+d((g*c(_)**2+e*c(nt)**2)**.5)+","+d((g*c($)**2+e*c(st)**2)**.5)+Ft};utils$1.RGB_Log_Blend=RGB_Log_Blend;Object.defineProperty(PTable$1,"__esModule",{value:!0});PTable$1.default=PTable$1.Element=void 0;var _react$5=_interopRequireDefault$4(reactExports),_Popover$1=_interopRequireDefault$4(require$$1),_mcReactLibrary$1=require$$8,_ptable_data=ptable_data,_utils=utils$1;function _interopRequireDefault$4(e){return e&&e.__esModule?e:{default:e}}let Element$1=class extends _react$5.default.Component{constructor(o){super(o),this.handleOnClick=this.handleOnClick.bind(this),this.symbol=_ptable_data.elementsInfo[this.props.num].sym;let a=_ptable_data.elementsInfo[this.props.num].class;this.color=_ptable_data.elementClassColors[a]}handleOnClick(){this.props.disabled&&this.props.selection===0||this.props.onSelectionChange!=null&&this.props.onSelectionChange({element:this.symbol})}render(){let o=`pt_element pt_element-${this.props.num}`;return this.props.disabled&&this.props.selection===0?o+=" pt_element-disabled":o+=` pt_element-state${this.props.selection}`,this.props.doc||(o+=" nondoc"),this.props.num>=57&&this.props.num<=71&&(o+=" lanthanide"),_react$5.default.createElement("div",{className:o,style:{backgroundColor:(0,_utils.RGB_Log_Blend)(.5,this.color,"rgb(220, 220, 220)")},onClick:this.handleOnClick},_react$5.default.createElement("div",{className:"elem_num"},this.props.num),_react$5.default.createElement("div",{className:"elem_sym"},this.symbol))}};PTable$1.Element=Element$1;const helpPopover$1=_react$5.default.createElement(_Popover$1.default,{id:"popover-basic"},_react$5.default.createElement(_Popover$1.default.Header,{as:"h3"},"Filtering mode help"),_react$5.default.createElement(_Popover$1.default.Body,{style:{textAlign:"justify"}},_react$5.default.createElement("b",null,"Include/exclude elements"),_react$5.default.createElement("br",null),"The green selected elements must be included, while the red elements must not be included in the formula. For example",_react$5.default.createElement("div",{className:"doc-elements"},_react$5.default.createElement(Element$1,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),_react$5.default.createElement(Element$1,{num:8,disabled:!1,onSelectionChange:null,selection:2,doc:!0})),"filters for materials that contain Si and any other elements except O.",_react$5.default.createElement("br",null),_react$5.default.createElement("b",null,"Only selected elements"),_react$5.default.createElement("br",null),"Only the selected elements are allowed in the resulting chemical formula. For example",_react$5.default.createElement("div",{className:"doc-elements"},_react$5.default.createElement(Element$1,{num:14,disabled:!1,onSelectionChange:null,selection:1,doc:!0}),_react$5.default.createElement(Element$1,{num:8,disabled:!1,onSelectionChange:null,selection:1,doc:!0})),"only allows for formulas in the form of Si",_react$5.default.createElement("sub",null,"x"),"O",_react$5.default.createElement("sub",null,"y"),"."));class SelectionMode extends _react$5.default.Component{render(){return _react$5.default.createElement("div",{className:"selection_mode_outer"},_react$5.default.createElement("div",{className:"selection_mode_inner",onChange:o=>this.props.onSelectionChange({mode:o.target.value})},_react$5.default.createElement("div",{style:{marginBottom:"2px"}},"Elements filtering mode:"),_react$5.default.createElement("label",{className:"selection_mode_control"},_react$5.default.createElement("input",{type:"radio",name:"sel_mode",value:"include",defaultChecked:!0}),"Include/exclude"),_react$5.default.createElement("label",{className:"selection_mode_control"},_react$5.default.createElement("input",{type:"radio",name:"sel_mode",value:"exact"}),"Only selected")),_react$5.default.createElement(_mcReactLibrary$1.HelpButton,{popover:helpPopover$1,placement:"bottom"}))}}function fitsFilter(e,o){let a=new Set(e),c=o[1],d=o[2],g=[...c].every(_=>a.has(_)),b=[...a].every(_=>!d.has(_));return g&&b}function enabledElements(e,o){let a=new Set,c={1:new Set,2:new Set};for(const[d,g]of Object.entries(o.elements))c[g].add(d);return e.forEach(d=>{fitsFilter(d.elem_array,c)&&(a=new Set([...a,...d.elem_array]))}),a}class PTable extends _react$5.default.Component{constructor(){super(...arguments);$5(this,"makeElements",(a,c)=>{let d=[];for(let g=a;g<=c;g++){let b=_ptable_data.elementsInfo[g].sym,_=0;b in this.props.filter.elements&&(_=this.props.filter.elements[b]),d.push(_react$5.default.createElement(Element$1,{key:g,num:g,disabled:!this.enabledElems.has(b),onSelectionChange:this.props.onSelectionChange,selection:_,doc:!1}))}return d})}render(){return this.enabledElems=enabledElements(this.props.rows,this.props.filter),_react$5.default.createElement("div",{className:"ptable_outer"},_react$5.default.createElement("div",{className:"ptable"},_react$5.default.createElement(SelectionMode,{onSelectionChange:this.props.onSelectionChange,filter:this.props.filter}),this.makeElements(1,56),this.makeElements(72,88),this.makeElements(104,118),this.makeElements(57,71),this.makeElements(89,103)))}}PTable$1.default=PTable;var MaterialDataGrid$1={},__defProp$1=Object.defineProperty,__getOwnPropDesc$1=Object.getOwnPropertyDescriptor,__getOwnPropNames$1=Object.getOwnPropertyNames,__hasOwnProp$1=Object.prototype.hasOwnProperty,__export$1=(e,o)=>{for(var a in o)__defProp$1(e,a,{get:o[a],enumerable:!0})},__copyProps$1=(e,o,a,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of __getOwnPropNames$1(o))!__hasOwnProp$1.call(e,d)&&d!==a&&__defProp$1(e,d,{get:()=>o[d],enumerable:!(c=__getOwnPropDesc$1(o,d))||c.enumerable});return e},__toCommonJS$1=e=>__copyProps$1(__defProp$1({},"__esModule",{value:!0}),e),main_exports={};__export$1(main_exports,{ALWAYS_SYNC_GLOBAL_EVENTS:()=>ALWAYS_SYNC_GLOBAL_EVENTS,AbstractHeaderCellCtrl:()=>AbstractHeaderCellCtrl,AgAbstractField:()=>AgAbstractField,AgAbstractInputField:()=>AgAbstractInputField,AgAbstractLabel:()=>AgAbstractLabel,AgCheckbox:()=>AgCheckbox,AgCheckboxSelector:()=>AgCheckboxSelector,AgColumn:()=>AgColumn,AgColumnGroup:()=>AgColumnGroup,AgInputDateField:()=>AgInputDateField,AgInputNumberField:()=>AgInputNumberField,AgInputNumberFieldSelector:()=>AgInputNumberFieldSelector,AgInputTextArea:()=>AgInputTextArea,AgInputTextField:()=>AgInputTextField,AgInputTextFieldSelector:()=>AgInputTextFieldSelector,AgPickerField:()=>AgPickerField,AgPromise:()=>AgPromise,AgProvidedColumnGroup:()=>AgProvidedColumnGroup,AgRadioButton:()=>AgRadioButton,AgSelect:()=>AgSelect,AgSelectSelector:()=>AgSelectSelector,AgToggleButton:()=>AgToggleButton,AgToggleButtonSelector:()=>AgToggleButtonSelector,AnimateShowChangeCellRenderer:()=>AnimateShowChangeCellRenderer,AnimateSlideCellRenderer:()=>AnimateSlideCellRenderer,AnimationFrameService:()=>AnimationFrameService,AriaAnnouncementService:()=>AriaAnnouncementService,AutoScrollService:()=>AutoScrollService,AutoWidthCalculator:()=>AutoWidthCalculator,BarColumnLabelPlacement:()=>BarColumnLabelPlacement,BaseComponentWrapper:()=>BaseComponentWrapper,BaseCreator:()=>BaseCreator,BaseGridSerializingSession:()=>BaseGridSerializingSession,BeanStub:()=>BeanStub,BodyDropPivotTarget:()=>BodyDropPivotTarget,BodyDropTarget:()=>BodyDropTarget,CellComp:()=>CellComp$1,CellCtrl:()=>CellCtrl,CellNavigationService:()=>CellNavigationService,CellPositionUtils:()=>CellPositionUtils,CellRangeType:()=>CellRangeType,ChangedPath:()=>ChangedPath,ChartMappings:()=>ChartMappings,CheckboxCellEditor:()=>CheckboxCellEditor,CheckboxCellRenderer:()=>CheckboxCellRenderer,CheckboxSelectionComponent:()=>CheckboxSelectionComponent,ClientSideRowModelModule:()=>ClientSideRowModelModule,ClientSideRowModelSteps:()=>ClientSideRowModelSteps,ColumnApplyStateService:()=>ColumnApplyStateService,ColumnAutosizeService:()=>ColumnAutosizeService,ColumnFactory:()=>ColumnFactory,ColumnKeyCreator:()=>ColumnKeyCreator,ColumnModel:()=>ColumnModel,ColumnMoveService:()=>ColumnMoveService,ColumnNameService:()=>ColumnNameService,ColumnSizeService:()=>ColumnSizeService,CommunityFeaturesModule:()=>CommunityFeaturesModule,Component:()=>Component,ComponentUtil:()=>ComponentUtil,Context:()=>Context,CssClassManager:()=>CssClassManager,CsvCreator:()=>CsvCreator,CsvExportModule:()=>CsvExportModule,CtrlsService:()=>CtrlsService,DataTypeService:()=>DataTypeService,DateCellEditor:()=>DateCellEditor,DateFilter:()=>DateFilter,DateStringCellEditor:()=>DateStringCellEditor,Downloader:()=>Downloader,DragAndDropService:()=>DragAndDropService,DragService:()=>DragService,DragSourceType:()=>DragSourceType,Environment:()=>Environment,EventService:()=>EventService,ExcelFactoryMode:()=>ExcelFactoryMode,ExpansionService:()=>ExpansionService,ExpressionService:()=>ExpressionService,FakeHScrollComp:()=>FakeHScrollComp,FakeVScrollComp:()=>FakeVScrollComp,FilterManager:()=>FilterManager,FilterWrapperComp:()=>FilterWrapperComp,FocusService:()=>FocusService,FuncColsService:()=>FuncColsService,GROUP_AUTO_COLUMN_ID:()=>GROUP_AUTO_COLUMN_ID,Grid:()=>Grid,GridBodyComp:()=>GridBodyComp$1,GridBodyCtrl:()=>GridBodyCtrl,GridComp:()=>GridComp$1,GridCoreCreator:()=>GridCoreCreator,GridCoreModule:()=>GridCoreModule,GridCtrl:()=>GridCtrl,GridHeaderComp:()=>GridHeaderComp$1,GridHeaderCtrl:()=>GridHeaderCtrl,GridOptionsService:()=>GridOptionsService,GridSerializer:()=>GridSerializer,GroupInstanceIdCreator:()=>GroupInstanceIdCreator,HeaderCellCtrl:()=>HeaderCellCtrl,HeaderFilterCellComp:()=>HeaderFilterCellComp$1,HeaderFilterCellCtrl:()=>HeaderFilterCellCtrl,HeaderGroupCellCtrl:()=>HeaderGroupCellCtrl,HeaderNavigationDirection:()=>HeaderNavigationDirection,HeaderNavigationService:()=>HeaderNavigationService,HeaderPositionUtils:()=>HeaderPositionUtils,HeaderRowComp:()=>HeaderRowComp$1,HeaderRowContainerComp:()=>HeaderRowContainerComp$1,HeaderRowContainerCtrl:()=>HeaderRowContainerCtrl,HeaderRowCtrl:()=>HeaderRowCtrl,HeaderRowType:()=>HeaderRowType,HorizontalDirection:()=>HorizontalDirection,HorizontalResizeService:()=>HorizontalResizeService,InfiniteRowModelModule:()=>InfiniteRowModelModule,KeyCode:()=>KeyCode,LargeTextCellEditor:()=>LargeTextCellEditor,LayoutCssClasses:()=>LayoutCssClasses,LocalEventService:()=>LocalEventService,LocaleService:()=>LocaleService,ManagedFocusFeature:()=>ManagedFocusFeature,MenuService:()=>MenuService,ModuleNames:()=>ModuleNames,ModuleRegistry:()=>ModuleRegistry,MouseEventService:()=>MouseEventService,MoveColumnFeature:()=>MoveColumnFeature,NavigationService:()=>NavigationService,NumberCellEditor:()=>NumberCellEditor,NumberFilter:()=>NumberFilter,NumberSequence:()=>NumberSequence,OverlayWrapperComponent:()=>OverlayWrapperComponent,PinnedRowModel:()=>PinnedRowModel,PivotResultColsService:()=>PivotResultColsService,PopupComponent:()=>PopupComponent,PopupEditorWrapper:()=>PopupEditorWrapper,PopupService:()=>PopupService,PositionableFeature:()=>PositionableFeature,PropertyKeys:()=>PropertyKeys,ProvidedFilter:()=>ProvidedFilter,RefPlaceholder:()=>RefPlaceholder,ResizeObserverService:()=>ResizeObserverService,RowContainerComp:()=>RowContainerComp$1,RowContainerCtrl:()=>RowContainerCtrl,RowCtrl:()=>RowCtrl,RowDragComp:()=>RowDragComp,RowHighlightPosition:()=>RowHighlightPosition,RowModelHelperService:()=>RowModelHelperService,RowNode:()=>RowNode,RowNodeBlock:()=>RowNodeBlock,RowNodeBlockLoader:()=>RowNodeBlockLoader,RowNodeSorter:()=>RowNodeSorter,RowPositionUtils:()=>RowPositionUtils,RowRenderer:()=>RowRenderer,RowType:()=>RowType,ScalarFilter:()=>ScalarFilter,ScrollVisibleService:()=>ScrollVisibleService,SelectCellEditor:()=>SelectCellEditor,SelectableService:()=>SelectableService,SelectionHandleType:()=>SelectionHandleType,ServerSideTransactionResultStatus:()=>ServerSideTransactionResultStatus,SetLeftFeature:()=>SetLeftFeature,SimpleFilter:()=>SimpleFilter,SortController:()=>SortController,SortIndicatorComp:()=>SortIndicatorComp,SortIndicatorSelector:()=>SortIndicatorSelector,StandardMenuFactory:()=>StandardMenuFactory,StylingService:()=>StylingService,TabGuardClassNames:()=>TabGuardClassNames,TabGuardComp:()=>TabGuardComp$1,TabGuardCtrl:()=>TabGuardCtrl,TabGuardFeature:()=>TabGuardFeature,TextCellEditor:()=>TextCellEditor,TextFilter:()=>TextFilter,TextFloatingFilter:()=>TextFloatingFilter,TooltipFeature:()=>TooltipFeature,TooltipStateManager:()=>TooltipStateManager,TouchListener:()=>TouchListener,UserComponentFactory:()=>UserComponentFactory,UserComponentRegistry:()=>UserComponentRegistry,ValueCache:()=>ValueCache,ValueService:()=>ValueService,VanillaFrameworkOverrides:()=>VanillaFrameworkOverrides,VerticalDirection:()=>VerticalDirection,VisibleColsService:()=>VisibleColsService,XmlFactory:()=>XmlFactory,ZipContainer:()=>ZipContainer,_ColumnFilterModule:()=>ColumnFilterModule,_CommunityMenuApiModule:()=>CommunityMenuApiModule,_CsrmSsrmSharedApiModule:()=>CsrmSsrmSharedApiModule,_CsvExportCoreModule:()=>CsvExportCoreModule,_EditCoreModule:()=>EditCoreModule,_EmptyBean:()=>EmptyBean,_FilterCoreModule:()=>FilterCoreModule,_FloatingFilterModule:()=>FloatingFilterModule,_ReadOnlyFloatingFilterModule:()=>ReadOnlyFloatingFilterModule,_RowNodeBlockModule:()=>RowNodeBlockModule,_SsrmInfiniteSharedApiModule:()=>SsrmInfiniteSharedApiModule,_addFocusableContainerListener:()=>_addFocusableContainerListener,_areEqual:()=>_areEqual,_bindCellRendererToHtmlElement:()=>_bindCellRendererToHtmlElement,_capitalise:()=>_capitalise,_clearElement:()=>_clearElement,_cloneObject:()=>_cloneObject,_combineAttributesAndGridOptions:()=>_combineAttributesAndGridOptions,_compose:()=>_compose,_createIcon:()=>_createIcon,_createIconNoSpan:()=>_createIconNoSpan,_debounce:()=>_debounce,_defaultComparator:()=>_defaultComparator,_defineModule:()=>_defineModule,_doOnce:()=>_doOnce,_errorOnce:()=>_errorOnce,_escapeString:()=>_escapeString,_exists:()=>_exists,_existsAndNotEmpty:()=>_existsAndNotEmpty,_flatten:()=>_flatten,_forEachReverse:()=>_forEachReverse,_formatNumberCommas:()=>_formatNumberCommas,_formatNumberTwoDecimalPlacesAndCommas:()=>_formatNumberTwoDecimalPlacesAndCommas,_fuzzySuggestions:()=>_fuzzySuggestions,_getAbsoluteHeight:()=>_getAbsoluteHeight,_getAbsoluteWidth:()=>_getAbsoluteWidth,_getActiveDomElement:()=>_getActiveDomElement,_getAllValuesInObject:()=>_getAllValuesInObject,_getAriaPosInSet:()=>_getAriaPosInSet,_getCtrlForEventTarget:()=>_getCtrlForEventTarget,_getDocument:()=>_getDocument,_getFillHandle:()=>_getFillHandle,_getGlobalGridOption:()=>_getGlobalGridOption,_getGrandTotalRow:()=>_getGrandTotalRow,_getGroupAggFiltering:()=>_getGroupAggFiltering,_getGroupSelection:()=>_getGroupSelection,_getGroupSelectsDescendants:()=>_getGroupSelectsDescendants,_getGroupTotalRowCallback:()=>_getGroupTotalRowCallback,_getHeaderCheckbox:()=>_getHeaderCheckbox,_getHeaderClassesFromColDef:()=>_getHeaderClassesFromColDef,_getInnerHeight:()=>_getInnerHeight,_getInnerWidth:()=>_getInnerWidth,_getIsRowSelectable:()=>_getIsRowSelectable,_getRowContainerOptions:()=>_getRowContainerOptions,_getRowHeightAsNumber:()=>_getRowHeightAsNumber,_getRowHeightForNode:()=>_getRowHeightForNode,_getRowIdCallback:()=>_getRowIdCallback,_getRowSelectionMode:()=>_getRowSelectionMode,_getSuppressMultiRanges:()=>_getSuppressMultiRanges,_getToolPanelClassesFromColDef:()=>_getToolPanelClassesFromColDef,_includes:()=>_includes,_insertArrayIntoArray:()=>_insertArrayIntoArray,_insertIntoArray:()=>_insertIntoArray,_isAnimateRows:()=>_isAnimateRows,_isCellSelectionEnabled:()=>_isCellSelectionEnabled,_isClientSideRowModel:()=>_isClientSideRowModel,_isColumnsSortingCoupledToGroup:()=>_isColumnsSortingCoupledToGroup,_isDomLayout:()=>_isDomLayout,_isElementInEventPath:()=>_isElementInEventPath,_isEventFromPrintableCharacter:()=>_isEventFromPrintableCharacter,_isGetRowHeightFunction:()=>_isGetRowHeightFunction,_isGroupMultiAutoColumn:()=>_isGroupMultiAutoColumn,_isGroupUseEntireRow:()=>_isGroupUseEntireRow,_isIOSUserAgent:()=>_isIOSUserAgent,_isMultiRowSelection:()=>_isMultiRowSelection,_isNodeOrElement:()=>_isNodeOrElement,_isNothingFocused:()=>_isNothingFocused,_isRowSelection:()=>_isRowSelection,_isServerSideRowModel:()=>_isServerSideRowModel,_isStopPropagationForAgGrid:()=>_isStopPropagationForAgGrid,_isUsingNewCellSelectionAPI:()=>_isUsingNewCellSelectionAPI,_isUsingNewRowSelectionAPI:()=>_isUsingNewRowSelectionAPI,_isVisible:()=>_isVisible,_iterateObject:()=>_iterateObject,_jsonEquals:()=>_jsonEquals,_last:()=>_last,_loadTemplate:()=>_loadTemplate,_log:()=>_log,_makeNull:()=>_makeNull,_mergeDeep:()=>_mergeDeep,_missing:()=>_missing,_missingOrEmpty:()=>_missingOrEmpty,_parseDateTimeFromString:()=>_parseDateTimeFromString,_processOnChange:()=>_processOnChange,_radioCssClass:()=>_radioCssClass,_removeAriaExpanded:()=>_removeAriaExpanded,_removeAriaSort:()=>_removeAriaSort,_removeFromArray:()=>_removeFromArray,_removeFromParent:()=>_removeFromParent,_removeRepeatsFromArray:()=>_removeRepeatsFromArray,_serialiseDate:()=>_serialiseDate,_setAriaActiveDescendant:()=>_setAriaActiveDescendant,_setAriaChecked:()=>_setAriaChecked,_setAriaColCount:()=>_setAriaColCount,_setAriaColIndex:()=>_setAriaColIndex,_setAriaColSpan:()=>_setAriaColSpan,_setAriaControls:()=>_setAriaControls,_setAriaDescribedBy:()=>_setAriaDescribedBy,_setAriaDisabled:()=>_setAriaDisabled,_setAriaExpanded:()=>_setAriaExpanded,_setAriaHidden:()=>_setAriaHidden,_setAriaLabel:()=>_setAriaLabel,_setAriaLabelledBy:()=>_setAriaLabelledBy,_setAriaLevel:()=>_setAriaLevel,_setAriaPosInSet:()=>_setAriaPosInSet,_setAriaRole:()=>_setAriaRole,_setAriaRowCount:()=>_setAriaRowCount,_setAriaRowIndex:()=>_setAriaRowIndex,_setAriaSelected:()=>_setAriaSelected,_setAriaSetSize:()=>_setAriaSetSize,_setAriaSort:()=>_setAriaSort,_setDisabled:()=>_setDisabled,_setDisplayed:()=>_setDisplayed,_setFixedWidth:()=>_setFixedWidth,_setVisible:()=>_setVisible,_shallowCompare:()=>_shallowCompare,_stopPropagationForAgGrid:()=>_stopPropagationForAgGrid,_toStringOrNull:()=>_toStringOrNull,_unwrapUserComp:()=>_unwrapUserComp,_utf8_encode:()=>_utf8_encode,_values:()=>_values,_waitUntil:()=>_waitUntil,_warnOnce:()=>_warnOnce,checkboxStyleDefault:()=>checkboxStyleDefault,colorSchemeDark:()=>colorSchemeDark,colorSchemeDarkBlue:()=>colorSchemeDarkBlue,colorSchemeDarkWarm:()=>colorSchemeDarkWarm,colorSchemeLight:()=>colorSchemeLight,colorSchemeLightCold:()=>colorSchemeLightCold,colorSchemeLightWarm:()=>colorSchemeLightWarm,createGrid:()=>createGrid,createPart:()=>createPart,createTheme:()=>createTheme,getDefaultFloatingFilterType:()=>getDefaultFloatingFilterType,getParamType:()=>getParamType,iconSetAlpine:()=>iconSetAlpine,iconSetMaterial:()=>iconSetMaterial,iconSetQuartz:()=>iconSetQuartz,iconSetQuartzBold:()=>iconSetQuartzBold,iconSetQuartzLight:()=>iconSetQuartzLight,iconSetQuartzRegular:()=>iconSetQuartzRegular,inputStyleBase:()=>inputStyleBase,inputStyleBordered:()=>inputStyleBordered,inputStyleUnderlined:()=>inputStyleUnderlined,isColumn:()=>isColumn,isColumnControlsCol:()=>isColumnControlsCol,isColumnGroup:()=>isColumnGroup,isColumnGroupAutoCol:()=>isColumnGroupAutoCol,isProvidedColumnGroup:()=>isProvidedColumnGroup,isSelectionUIEvent:()=>isSelectionUIEvent,paramValueToCss:()=>paramValueToCss,provideGlobalGridOptions:()=>provideGlobalGridOptions,tabStyleAlpine:()=>tabStyleAlpine,tabStyleBase:()=>tabStyleBase,tabStyleMaterial:()=>tabStyleMaterial,tabStyleQuartz:()=>tabStyleQuartz,tabStyleRolodex:()=>tabStyleRolodex,themeAlpine:()=>themeAlpine,themeBalham:()=>themeBalham,themeQuartz:()=>themeQuartz});var main_cjs=__toCommonJS$1(main_exports),LocalEventService=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,o,a){const c=o?this.allAsyncListeners:this.allSyncListeners;let d=c.get(e);return!d&&a&&(d=new Set,c.set(e,d)),d}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,o,a=!1){this.getListeners(e,a,!0).add(o)}removeEventListener(e,o,a=!1){const c=this.getListeners(e,a,!1);c&&(c.delete(o),c.size===0&&(a?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,o=!1){(o?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,o=!1){(o?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const o=e;this.dispatchToListeners(o,!0),this.dispatchToListeners(o,!1),this.firedEvents[o.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,o){const a=e.type;if(o&&"event"in e){const _=e.event;_ instanceof Event&&(e.eventPath=_.composedPath())}const c=(_,$)=>_.forEach(j=>{if(!$.has(j))return;const rt=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>j(e)):()=>j(e);o?this.dispatchAsync(rt):rt()}),d=this.getListeners(a,o,!1)??new Set,g=new Set(d);g.size>0&&c(g,d),new Set(o?this.globalAsyncListeners:this.globalSyncListeners).forEach(_=>{const $=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>_(a,e)):()=>_(a,e);o?this.dispatchAsync($):$()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const o=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(o):o(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(o=>o())}},ModuleNames=(e=>(e.CommunityCoreModule="@ag-grid-community/core",e.InfiniteRowModelModule="@ag-grid-community/infinite-row-model",e.ClientSideRowModelModule="@ag-grid-community/client-side-row-model",e.CsvExportModule="@ag-grid-community/csv-export",e.EnterpriseCoreModule="@ag-grid-enterprise/core",e.RowGroupingModule="@ag-grid-enterprise/row-grouping",e.ColumnsToolPanelModule="@ag-grid-enterprise/column-tool-panel",e.FiltersToolPanelModule="@ag-grid-enterprise/filter-tool-panel",e.MenuModule="@ag-grid-enterprise/menu",e.SetFilterModule="@ag-grid-enterprise/set-filter",e.MultiFilterModule="@ag-grid-enterprise/multi-filter",e.StatusBarModule="@ag-grid-enterprise/status-bar",e.SideBarModule="@ag-grid-enterprise/side-bar",e.RangeSelectionModule="@ag-grid-enterprise/range-selection",e.MasterDetailModule="@ag-grid-enterprise/master-detail",e.RichSelectModule="@ag-grid-enterprise/rich-select",e.GridChartsModule="@ag-grid-enterprise/charts",e.ViewportRowModelModule="@ag-grid-enterprise/viewport-row-model",e.ServerSideRowModelModule="@ag-grid-enterprise/server-side-row-model",e.ExcelExportModule="@ag-grid-enterprise/excel-export",e.ClipboardModule="@ag-grid-enterprise/clipboard",e.SparklinesModule="@ag-grid-enterprise/sparklines",e.AdvancedFilterModule="@ag-grid-enterprise/advanced-filter",e.AngularModule="@ag-grid-community/angular",e.ReactModule="@ag-grid-community/react",e.VueModule="@ag-grid-community/vue",e))(ModuleNames||{}),doOnceFlags={};function _doOnce(e,o){doOnceFlags[o]||(e(),doOnceFlags[o]=!0)}function _log(e,...o){console.log("AG Grid: "+e,...o)}function _warnOnce(e,...o){_doOnce(()=>console.warn("AG Grid: "+e,...o),e+(o==null?void 0:o.join("")))}function _errorOnce(e,...o){_doOnce(()=>console.error("AG Grid: "+e,...o),e+(o==null?void 0:o.join("")))}function _isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}function _executeInAWhile(e){_executeAfter(e,400)}var executeNextVMTurnFuncs=[],executeNextVMTurnPending=!1;function _executeNextVMTurn(e){executeNextVMTurnFuncs.push(e),!executeNextVMTurnPending&&(executeNextVMTurnPending=!0,window.setTimeout(()=>{const o=executeNextVMTurnFuncs.slice();executeNextVMTurnFuncs.length=0,executeNextVMTurnPending=!1,o.forEach(a=>a())},0))}function _executeAfter(e,o=0){e.length>0&&window.setTimeout(()=>e.forEach(a=>a()),o)}function _debounce(e,o){let a;return function(...c){const d=this;window.clearTimeout(a),a=window.setTimeout(function(){e.apply(d,c)},o)}}function _throttle(e,o){let a=0;return function(...c){const d=this,g=new Date().getTime();g-a<o||(a=g,e.apply(d,c))}}function _waitUntil(e,o,a=100,c){const d=new Date().getTime();let g=null,b=!1;const _=()=>{const $=new Date().getTime()-d>a;(e()||$)&&(o(),b=!0,g!=null&&(window.clearInterval(g),g=null),$&&c&&_warnOnce(c))};_(),b||(g=window.setInterval(_,10))}function _compose(...e){return o=>e.reduce((a,c)=>c(a),o)}function _makeNull(e){return e==null||e===""?null:e}function _exists(e,o=!1){return e!=null&&(e!==""||o)}function _missing(e){return!_exists(e)}function _missingOrEmpty(e){return e==null||e.length===0}function _toStringOrNull(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function _attrToNumber(e){if(e===void 0)return;if(e===null||e==="")return null;if(typeof e=="number")return isNaN(e)?void 0:e;const o=parseInt(e,10);return isNaN(o)?void 0:o}function _attrToBoolean(e){if(e!==void 0)return e===null||e===""?!1:toBoolean(e)}function toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e.toUpperCase()==="TRUE"||e=="":!1}function _jsonEquals(e,o){const a=e?JSON.stringify(e):null,c=o?JSON.stringify(o):null;return a===c}function _defaultComparator(e,o,a=!1){const c=e==null,d=o==null;if(e&&e.toNumber&&(e=e.toNumber()),o&&o.toNumber&&(o=o.toNumber()),c&&d)return 0;if(c)return-1;if(d)return 1;function g(b,_){return b>_?1:b<_?-1:0}if(typeof e!="string"||!a)return g(e,o);try{return e.localeCompare(o)}catch{return g(e,o)}}function _values(e){if(e instanceof Set||e instanceof Map){const o=[];return e.forEach(a=>o.push(a)),o}return Object.values(e)}function isRowModelType(e,o){return e.get("rowModelType")===o}function _isClientSideRowModel(e){return isRowModelType(e,"clientSide")}function _isServerSideRowModel(e){return isRowModelType(e,"serverSide")}function _isDomLayout(e,o){return e.get("domLayout")===o}function _isRowSelection(e){return _getRowSelectionMode(e)!==void 0}function _useAsyncEvents(e){return!e.get("suppressAsyncEvents")}function _isGetRowHeightFunction(e){return typeof e.get("getRowHeight")=="function"}function _shouldMaintainColumnOrder(e,o){return o?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function _getRowHeightForNode(e,o,a=!1,c){if(c==null&&(c=e.environment.getDefaultRowHeight()),_isGetRowHeightFunction(e)){if(a)return{height:c,estimated:!0};const b={node:o,data:o.data},_=e.getCallback("getRowHeight")(b);if(isNumeric(_))return _===0&&_warnOnce("The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead."),{height:Math.max(1,_),estimated:!1}}if(o.detail&&e.get("masterDetail"))return getMasterDetailRowHeight(e);const d=e.get("rowHeight");return{height:d&&isNumeric(d)?d:c,estimated:!1}}function getMasterDetailRowHeight(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const o=e.get("detailRowHeight");return isNumeric(o)?{height:o,estimated:!1}:{height:300,estimated:!1}}function _getRowHeightAsNumber(e){const{environment:o}=e,a=e.get("rowHeight");if(!a||_missing(a))return o.getDefaultRowHeight();const c=o.refreshRowHeightVariable();return c!==-1?c:(_warnOnce("row height must be a number if not using standard row model"),o.getDefaultRowHeight())}function isNumeric(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function _getDomData(e,o,a){const c=o[e.getDomDataKey()];return c?c[a]:void 0}function _setDomData(e,o,a,c){const d=e.getDomDataKey();let g=o[d];_missing(g)&&(g={},o[d]=g),g[a]=c}function _getDocument(e){let o=null;const a=e.get("getDocument");return a&&_exists(a)?o=a():e.eGridDiv&&(o=e.eGridDiv.ownerDocument),o&&_exists(o)?o:document}function _getWindow(e){return _getDocument(e).defaultView||window}function _getRootNode(e){return e.eGridDiv.getRootNode()}function _getActiveDomElement(e){return _getRootNode(e).activeElement}function _isNothingFocused(e){const o=_getDocument(e),a=_getActiveDomElement(e);return a===null||a===o.body}function _isAnimateRows(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function _isGroupRowsSticky(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||_isDomLayout(e,"print"))}function _isColumnsSortingCoupledToGroup(e){const o=e.get("autoGroupColumnDef");return!(o!=null&&o.comparator)&&!e.get("treeData")}function _getGroupAggFiltering(e){const o=e.get("groupAggFiltering");if(typeof o=="function")return e.getCallback("groupAggFiltering");if(o===!0)return()=>!0}function _getGrandTotalRow(e){const o=e.get("grandTotalRow");if(o)return o;if(e.get("groupIncludeTotalFooter"))return"bottom"}function _getGroupTotalRowCallback(e){const o=e.get("groupTotalRow");if(typeof o=="function")return e.getCallback("groupTotalRow");if(o)return()=>o;const a=e.get("groupIncludeFooter");if(typeof a=="function"){const c=e.getCallback("groupIncludeFooter");return d=>c(d)?"bottom":void 0}return()=>a?"bottom":void 0}function _isGroupMultiAutoColumn(e){return e.exists("groupDisplayType")?e.get("groupDisplayType")==="multipleColumns":e.get("groupHideOpenParents")}function _isGroupUseEntireRow(e,o){return o?!1:e.get("groupDisplayType")==="groupRows"}function _getRowIdCallback(e){const o=e.getCallback("getRowId");return o===void 0?o:a=>{let c=o(a);return typeof c!="string"&&(_warnOnce("The getRowId callback must return a string. The ID ",c," is being cast to a string."),c=String(c)),c}}function _getCheckboxes(e){return(e==null?void 0:e.checkboxes)??!0}function _getHeaderCheckbox(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function _getHideDisabledCheckboxes(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function _isUsingNewRowSelectionAPI(e){return typeof e.get("rowSelection")!="string"}function _isUsingNewCellSelectionAPI(e){return e.get("cellSelection")!==void 0}function _getSuppressMultiRanges(e){const o=e.get("cellSelection");return o!==void 0?typeof o!="boolean"?(o==null?void 0:o.suppressMultiRanges)??!1:!1:e.get("suppressMultiRangeSelection")}function _isCellSelectionEnabled(e){const o=e.get("cellSelection");return o!==void 0?!!o:e.get("enableRangeSelection")}function _isRangeHandleEnabled(e){var c;const o=e.get("cellSelection");return o!==void 0?typeof o!="boolean"?((c=o.handle)==null?void 0:c.mode)==="range":!1:e.get("enableRangeHandle")}function _isFillHandleEnabled(e){var c;const o=e.get("cellSelection");return o!==void 0?typeof o!="boolean"?((c=o.handle)==null?void 0:c.mode)==="fill":!1:e.get("enableFillHandle")}function _getFillHandle(e){var c;const o=e.get("cellSelection");return o!==void 0?typeof o!="boolean"&&((c=o.handle)==null?void 0:c.mode)==="fill"?o.handle:void 0:{mode:"fill",setFillValue:e.get("fillOperation"),direction:e.get("fillHandleDirection"),suppressClearOnFillReduction:e.get("suppressClearOnFillReduction")}}function _getEnableClickSelection(e){const o=e.get("rowSelection")??"single";if(typeof o=="string"){const a=e.get("suppressRowClickSelection"),c=e.get("suppressRowDeselection");return a&&c?!1:a?"enableDeselection":c?"enableSelection":!0}return o.mode==="singleRow"||o.mode==="multiRow"?o.enableClickSelection??!1:!1}function _getEnableSelection(e){const o=_getEnableClickSelection(e);return o===!0||o==="enableSelection"}function _getEnableDeselection(e){const o=_getEnableClickSelection(e);return o===!0||o==="enableDeselection"}function _getIsRowSelectable(e){const o=e.get("rowSelection");return typeof o=="string"?e.get("isRowSelectable"):o==null?void 0:o.isRowSelectable}function _getRowSelectionMode(e){const o=e.get("rowSelection");if(typeof o=="string")switch(o){case"multiple":return"multiRow";case"single":return"singleRow";default:return}return o==null?void 0:o.mode}function _isMultiRowSelection(e){return _getRowSelectionMode(e)==="multiRow"}function _getEnableSelectionWithoutKeys(e){const o=e.get("rowSelection");return typeof o=="string"?e.get("rowMultiSelectWithClick"):(o==null?void 0:o.enableSelectionWithoutKeys)??!1}function _getGroupSelection(e){const o=e.get("rowSelection");if(typeof o=="string"){const a=e.get("groupSelectsChildren"),c=e.get("groupSelectsFiltered");return a&&c?"filteredDescendants":a?"descendants":"self"}return(o==null?void 0:o.mode)==="multiRow"?o.groupSelects:void 0}function _getGroupSelectsDescendants(e){const o=_getGroupSelection(e);return o==="descendants"||o==="filteredDescendants"}function _isSetFilterByDefault(e){return e.isModuleRegistered("@ag-grid-enterprise/set-filter")&&!e.get("suppressSetFilterByDefault")}function _existsAndNotEmpty(e){return e!=null&&e.length>0}function _last(e){if(!(!e||!e.length))return e[e.length-1]}function _areEqual(e,o,a){return e==null&&o==null?!0:e!=null&&o!=null&&e.length===o.length&&e.every((c,d)=>a?a(c,o[d]):o[d]===c)}function _shallowCompare(e,o){return _areEqual(e,o)}function _sortNumerically(e){return e.sort((o,a)=>o-a)}function _removeRepeatsFromArray(e,o){if(e)for(let a=e.length-2;a>=0;a--){const c=e[a]===o,d=e[a+1]===o;c&&d&&e.splice(a+1,1)}}function _removeFromUnorderedArray(e,o){const a=e.indexOf(o);a>=0&&(e[a]=e[e.length-1],e.pop())}function _removeFromArray(e,o){const a=e.indexOf(o);a>=0&&e.splice(a,1)}function _removeAllFromUnorderedArray(e,o){for(let a=0;a<o.length;a++)_removeFromUnorderedArray(e,o[a])}function _removeAllFromArray(e,o){for(let a=0;a<o.length;a++)_removeFromArray(e,o[a])}function _insertIntoArray(e,o,a){e.splice(a,0,o)}function _insertArrayIntoArray(e,o,a){if(!(e==null||o==null))for(let c=o.length-1;c>=0;c--){const d=o[c];_insertIntoArray(e,d,a)}}function _moveInArray(e,o,a){_removeAllFromArray(e,o),o.slice().reverse().forEach(c=>_insertIntoArray(e,c,a))}function _includes(e,o){return e.indexOf(o)>-1}function _flatten(e){return(e==null?void 0:e.flatMap(o=>o))??[]}function _pushAll(e,o){o==null||e==null||o.forEach(a=>e.push(a))}function _forEachReverse(e,o){if(e!=null)for(let a=e.length-1;a>=0;a--)o(e[a],a)}var AG_GRID_STOP_PROPAGATION="__ag_Grid_Stop_Propagation",PASSIVE_EVENTS=["touchstart","touchend","touchmove","touchcancel","scroll"],supports={};function _stopPropagationForAgGrid(e){e[AG_GRID_STOP_PROPAGATION]=!0}function _isStopPropagationForAgGrid(e){return e[AG_GRID_STOP_PROPAGATION]===!0}var _isEventSupported=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a=>{if(typeof supports[a]=="boolean")return supports[a];const c=document.createElement(e[a]||"div");return a="on"+a,supports[a]=a in c}})();function _getCtrlForEventTarget(e,o,a){let c=o;for(;c;){const d=_getDomData(e,c,a);if(d)return d;c=c.parentElement}return null}function _isElementInEventPath(e,o){return!o||!e?!1:_getEventPath(o).indexOf(e)>=0}function _createEventPath(e){const o=[];let a=e.target;for(;a;)o.push(a),a=a.parentElement;return o}function _getEventPath(e){const o=e;return o.path?o.path:o.composedPath?o.composedPath():_createEventPath(o)}function _addSafePassiveEventListener(e,o,a,c){const g=_includes(PASSIVE_EVENTS,a)?{passive:!0}:void 0;e&&e.addEventListener&&e.addEventListener(o,a,c,g)}var BeanStub=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.frameworkOverrides=e.frameworkOverrides,this.stubContext=e.context,this.eventService=e.eventService,this.gos=e.gos,this.localeService=e.localeService}getFrameworkOverrides(){return this.frameworkOverrides}destroy(){for(let e=0;e<this.destroyFunctions.length;e++)this.destroyFunctions[e]();this.destroyFunctions.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,o,a){this.localEventService||(this.localEventService=new LocalEventService),this.localEventService.addEventListener(e,o,a)}removeEventListener(e,o,a){this.localEventService&&this.localEventService.removeEventListener(e,o,a)}dispatchLocalEvent(e){this.localEventService&&this.localEventService.dispatchEvent(e)}addManagedElementListeners(e,o){return this._setupListeners(e,o)}addManagedEventListeners(e){return this._setupListeners(this.eventService,e)}addManagedListeners(e,o){return this._setupListeners(e,o)}_setupListeners(e,o){const a=[];for(const c in o){const d=o[c];d&&a.push(this._setupListener(e,c,d))}return a}_setupListener(e,o,a){if(this.destroyed)return()=>null;e instanceof HTMLElement?_addSafePassiveEventListener(this.getFrameworkOverrides(),e,o,a):e.addEventListener(o,a);const c=()=>(e.removeEventListener(o,a),null);return this.destroyFunctions.push(c),()=>(c(),this.destroyFunctions=this.destroyFunctions.filter(d=>d!==c),null)}setupGridOptionListener(e,o){this.gos.addPropertyEventListener(e,o);const a=()=>(this.gos.removePropertyEventListener(e,o),null);return this.destroyFunctions.push(a),()=>(a(),this.destroyFunctions=this.destroyFunctions.filter(c=>c!==a),null)}addManagedPropertyListener(e,o){return this.destroyed?()=>null:this.setupGridOptionListener(e,o)}addManagedPropertyListeners(e,o){if(this.destroyed)return;const a=e.join("-")+this.propertyListenerId++,c=d=>{if(d.changeSet){if(d.changeSet&&d.changeSet.id===this.lastChangeSetIdLookup[a])return;this.lastChangeSetIdLookup[a]=d.changeSet.id}const g={type:"gridPropertyChanged",changeSet:d.changeSet,source:d.source};o(g)};e.forEach(d=>this.setupGridOptionListener(d,c))}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createManagedBean(e,o){const a=this.createBean(e,o);return this.addDestroyFunc(this.destroyBean.bind(this,e,o)),a}createBean(e,o,a){return(o||this.stubContext).createBean(e,a)}destroyBean(e,o){return(o||this.stubContext).destroyBean(e)}destroyBeans(e,o){return(o||this.stubContext).destroyBeans(e)}};function isProvidedColumnGroup(e){return e instanceof AgProvidedColumnGroup}var AgProvidedColumnGroup=class extends BeanStub{constructor(e,o,a,c){super(),this.isColumn=!1,this.expandable=!1,this.instanceId=getNextColInstanceId(),this.expandableListenerRemoveCallback=null,this.colGroupDef=e,this.groupId=o,this.expanded=!!e&&!!e.openByDefault,this.padding=a,this.level=c}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,o){this.colGroupDef=e,this.level=o,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(o=>{isColumn(o)?e.push(o):isProvidedColumnGroup(o)&&o.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(o=>o.addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(o=>o.removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,o=!1,a=!1;const c=this.findChildrenRemovingPadding();for(let g=0,b=c.length;g<b;g++){const _=c[g];if(!_.isVisible())continue;const $=_.getColumnGroupShow();$==="open"?(e=!0,a=!0):$==="closed"?(o=!0,a=!0):(e=!0,o=!0)}const d=e&&o&&a;this.expandable!==d&&(this.expandable=d,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],o=a=>{a.forEach(c=>{isProvidedColumnGroup(c)&&c.isPadding()?o(c.children):e.push(c)})};return o(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},CONTROLS_COLUMN_ID_PREFIX="ag-Grid-ControlsColumn",ControlsColService=class extends BeanStub{constructor(){super(...arguments),this.beanName="controlsColService"}isControlsColEnabled(){const{gos:e}=this,o=e.get("rowSelection");if(!o||typeof o!="object")return!1;const a=_getCheckboxes(o),c=_getHeaderCheckbox(o);return!!(a||c)}createControlsCols(){if(!this.isControlsColEnabled())return[];const{gos:e}=this,o=e.get("selectionColumnDef"),c={maxWidth:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:e.get("enableRtl")?"right":"left",comparator(g,b,_,$){const j=_.isSelected(),rt=$.isSelected();return j&&rt?0:j?1:-1},editable:!1,suppressFillHandle:!0,...o,colId:`${CONTROLS_COLUMN_ID_PREFIX}`},d=new AgColumn(c,null,c.colId,!1);return this.createBean(d),[d]}},GROUP_AUTO_COLUMN_ID="ag-Grid-AutoColumn";function getColumnsFromTree(e){const o=[],a=c=>{for(let d=0;d<c.length;d++){const g=c[d];isColumn(g)?o.push(g):isProvidedColumnGroup(g)&&a(g.getChildren())}};return a(e),o}function getWidthOfColsInList(e){return e.reduce((o,a)=>o+a.getActualWidth(),0)}function destroyColumnTree(e,o,a){const c={};if(!o)return;depthFirstOriginalTreeSearch(null,o,g=>{c[g.getInstanceId()]=g}),a&&depthFirstOriginalTreeSearch(null,a,g=>{c[g.getInstanceId()]=null});const d=Object.values(c).filter(g=>g!=null);e.destroyBeans(d)}function isColumnGroupAutoCol(e){return e.getId().startsWith(GROUP_AUTO_COLUMN_ID)}function isColumnControlsCol(e){return e.getColId().startsWith(CONTROLS_COLUMN_ID_PREFIX)}function convertColumnTypes(e){let o=[];return e instanceof Array?e.some(c=>typeof c!="string")?_warnOnce("if colDef.type is supplied an array it should be of type 'string[]'"):o=e:typeof e=="string"?o=e.split(","):_warnOnce("colDef.type should be of type 'string' | 'string[]'"),o}var FrameworkEventListenerService=class{constructor(e){this.frameworkOverrides=e,this.wrappedListeners=new Map,this.wrappedGlobalListeners=new Map}wrap(e,o){const{frameworkOverrides:a,wrappedListeners:c}=this;let d=o;if(a.shouldWrapOutgoing){d=b=>{a.wrapOutgoing(()=>o(b))};let g=c.get(e);g||(g=new Map,c.set(e,g)),g.set(o,d)}return d}wrapGlobal(e){const{frameworkOverrides:o,wrappedGlobalListeners:a}=this;let c=e;return o.shouldWrapOutgoing&&(c=(d,g)=>{o.wrapOutgoing(()=>e(d,g))},a.set(e,c)),c}unwrap(e,o){const{wrappedListeners:a}=this,c=a.get(e);if(c){const d=c.get(o);if(d)return c.delete(o),c.size===0&&a.delete(e),d}return o}unwrapGlobal(e){const{wrappedGlobalListeners:o}=this,a=o.get(e);return a?(o.delete(e),a):e}},SKIP_JS_BUILTINS=new Set(["__proto__","constructor","prototype"]);function _iterateObject(e,o){if(e!=null){if(Array.isArray(e)){for(let a=0;a<e.length;a++)o(a.toString(),e[a]);return}for(const[a,c]of Object.entries(e))SKIP_JS_BUILTINS.has(a)||o(a,c)}}function _cloneObject(e){const o={},a=Object.keys(e);for(let c=0;c<a.length;c++){if(SKIP_JS_BUILTINS.has(a[c]))continue;const d=a[c],g=e[d];o[d]=g}return o}function _deepCloneDefinition(e,o){if(!e)return;const a=e,c={};return Object.keys(a).forEach(d=>{if(o&&o.indexOf(d)>=0||SKIP_JS_BUILTINS.has(d))return;const g=a[d];_isNonNullObject(g)&&g.constructor===Object?c[d]=_deepCloneDefinition(g):c[d]=g}),c}function _getAllValuesInObject(e){if(!e)return[];const o=Object;if(typeof o.values=="function")return o.values(e);const a=[];for(const c in e)e.hasOwnProperty(c)&&e.propertyIsEnumerable(c)&&a.push(e[c]);return a}function _mergeDeep(e,o,a=!0,c=!1){_exists(o)&&_iterateObject(o,(d,g)=>{if(SKIP_JS_BUILTINS.has(d))return;let b=e[d];b!==g&&(c&&b==null&&g!=null&&typeof g=="object"&&g.constructor===Object&&(b={},e[d]=b),_isNonNullObject(g)&&_isNonNullObject(b)&&!Array.isArray(b)?_mergeDeep(b,g,a,c):(a||g!==void 0)&&(e[d]=g))})}function _getValueUsingField(e,o,a){if(!o||!e)return;if(!a)return e[o];const c=o.split(".");let d=e;for(let g=0;g<c.length;g++){if(d==null)return;d=d[c[g]]}return d}function _isNonNullObject(e){return typeof e=="object"&&e!==null}var COL_DEF_DEFAULTS={resizable:!0,sortable:!0},instanceIdSequence=0;function getNextColInstanceId(){return instanceIdSequence++}function isColumn(e){return e instanceof AgColumn}var AgColumn=class extends BeanStub{constructor(e,o,a,c){super(),this.isColumn=!0,this.instanceId=getNextColInstanceId(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.columnEventService=new LocalEventService,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.colDef=e,this.userProvidedColDef=o,this.colId=a,this.primary=c,this.setState(e)}wireBeans(e){this.columnHoverService=e.columnHoverService}getInstanceId(){return this.instanceId}setState(e){e.sort!==void 0?(e.sort==="asc"||e.sort==="desc")&&(this.sort=e.sort):(e.initialSort==="asc"||e.initialSort==="desc")&&(this.sort=e.initialSort);const o=e.sortIndex,a=e.initialSortIndex;o!==void 0?o!==null&&(this.sortIndex=o):a!==null&&(this.sortIndex=a);const c=e.hide,d=e.initialHide;c!==void 0?this.visible=!c:this.visible=!d,e.pinned!==void 0?this.setPinned(e.pinned):this.setPinned(e.initialPinned);const g=e.flex,b=e.initialFlex;g!==void 0?this.flex=g:b!==void 0&&(this.flex=b)}setColDef(e,o,a){this.colDef=e,this.userProvidedColDef=o,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),this.columnEventService.dispatchEvent(this.createColumnEvent("colDefChanged",a))}getUserProvidedColDef(){return this.userProvidedColDef}setParent(e){this.parent=e}getParent(){return this.parent}setOriginalParent(e){this.originalParent=e}getOriginalParent(){return this.originalParent}postConstruct(){this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip()}initDotNotation(){const e=this.gos.get("suppressFieldDotNotation");this.fieldContainsDots=_exists(this.colDef.field)&&this.colDef.field.indexOf(".")>=0&&!e,this.tooltipFieldContainsDots=_exists(this.colDef.tooltipField)&&this.colDef.tooltipField.indexOf(".")>=0&&!e}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.gos.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){this.tooltipEnabled=_exists(this.colDef.tooltipField)||_exists(this.colDef.tooltipValueGetter)||_exists(this.colDef.tooltipComponent)}resetActualWidth(e){const o=this.calculateColInitialWidth(this.colDef);this.setActualWidth(o,e,!0)}calculateColInitialWidth(e){let o;const a=_attrToNumber(e.width),c=_attrToNumber(e.initialWidth);return a!=null?o=a:c!=null?o=c:o=200,Math.max(Math.min(o,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){if(_missing(this.colDef)||_missing(this.colDef.showRowGroup))return!1;const o=this.colDef.showRowGroup===!0,a=this.colDef.showRowGroup===e;return o||a}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}addEventListener(e,o){var c;this.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.columnEventService.setFrameworkOverrides(this.frameworkOverrides),this.frameworkEventListenerService=new FrameworkEventListenerService(this.frameworkOverrides));const a=((c=this.frameworkEventListenerService)==null?void 0:c.wrap(e,o))??o;this.columnEventService.addEventListener(e,a)}removeEventListener(e,o){var c;const a=((c=this.frameworkEventListenerService)==null?void 0:c.unwrap(e,o))??o;this.columnEventService.removeEventListener(e,a)}createColumnFunctionCallbackParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){if(typeof this.colDef.suppressNavigable=="boolean")return this.colDef.suppressNavigable;if(typeof this.colDef.suppressNavigable=="function"){const o=this.createColumnFunctionCallbackParams(e),a=this.colDef.suppressNavigable;return a(o)}return!1}isCellEditable(e){if(e.group){if(this.gos.get("treeData")){if(!e.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return this.isColumnFunc(e,this.colDef.editable)}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){const o=this.gos.get("rowSelection");if(o&&typeof o!="string"){const a=isColumnControlsCol(this)&&_getCheckboxes(o);return this.isColumnFunc(e,a)}else return this.isColumnFunc(e,this.colDef.checkboxSelection)}isSuppressPaste(e){return this.isColumnFunc(e,this.colDef?this.colDef.suppressPaste:null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??COL_DEF_DEFAULTS[e]}isColumnFunc(e,o){if(typeof o=="boolean")return o;if(typeof o=="function"){const a=this.createColumnFunctionCallbackParams(e);return o(a)}return!1}setHighlighted(e){this.highlighted!==e&&(this.highlighted=e,this.columnEventService.dispatchEvent(this.createColumnEvent("headerHighlightChanged","uiColumnMoved")))}setMoving(e,o){this.moving=e,this.columnEventService.dispatchEvent(this.createColumnEvent("movingChanged",o))}createColumnEvent(e,o){return this.gos.addGridCommonParams({type:e,column:this,columns:[this],source:o})}isMoving(){return this.moving}getSort(){return this.sort}setSort(e,o){this.sort!==e&&(this.sort=e,this.columnEventService.dispatchEvent(this.createColumnEvent("sortChanged",o))),this.dispatchStateUpdatedEvent("sort")}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return _missing(this.sort)}isSorting(){return _exists(this.sort)}getSortIndex(){return this.sortIndex}setSortIndex(e){this.sortIndex=e,this.dispatchStateUpdatedEvent("sortIndex")}setMenuVisible(e,o){this.menuVisible!==e&&(this.menuVisible=e,this.columnEventService.dispatchEvent(this.createColumnEvent("menuVisibleChanged",o)))}isMenuVisible(){return this.menuVisible}setAggFunc(e){this.aggFunc=e,this.dispatchStateUpdatedEvent("aggFunc")}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,o){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.columnEventService.dispatchEvent(this.createColumnEvent("leftChanged",o)))}isFilterActive(){return this.filterActive}setFilterActive(e,o,a){this.filterActive!==e&&(this.filterActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("filterActiveChanged",o)));const c=this.createColumnEvent("filterChanged",o);a&&_mergeDeep(c,a),this.columnEventService.dispatchEvent(c)}isHovered(){return this.columnHoverService.isHovered(this)}setPinned(e){e===!0||e==="left"?this.pinned="left":e==="right"?this.pinned="right":this.pinned=null,this.dispatchStateUpdatedEvent("pinned")}setFirstRightPinned(e,o){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("firstRightPinnedChanged",o)))}setLastLeftPinned(e,o){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.columnEventService.dispatchEvent(this.createColumnEvent("lastLeftPinnedChanged",o)))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,o){const a=e===!0;this.visible!==a&&(this.visible=a,this.columnEventService.dispatchEvent(this.createColumnEvent("visibleChanged",o))),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const o=e.getPaddingLevel()+1;let a=!0;for(;e;){if(!e.isPadding()){a=!1;break}e=e.getParent()}return{numberOfParents:o,isSpanningTotal:a}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const o=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,o}createBaseColDefParams(e){return this.gos.addGridCommonParams({node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(_missing(this.colDef.colSpan))return 1;const o=this.createBaseColDefParams(e),a=this.colDef.colSpan(o);return Math.max(a,1)}getRowSpan(e){if(_missing(this.colDef.rowSpan))return 1;const o=this.createBaseColDefParams(e),a=this.colDef.rowSpan(o);return Math.max(a,1)}setActualWidth(e,o,a=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex&&o!=="flex"&&o!=="gridInitializing"&&(this.flex=null),a||this.fireColumnWidthChangedEvent(o)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.columnEventService.dispatchEvent(this.createColumnEvent("widthChanged",e))}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex||0}setFlex(e){this.flex!==e&&(this.flex=e),this.dispatchStateUpdatedEvent("flex")}setMinimum(e){this.setActualWidth(this.minWidth,e)}setRowGroupActive(e,o){this.rowGroupActive!==e&&(this.rowGroupActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnRowGroupChanged",o))),this.dispatchStateUpdatedEvent("rowGroup")}isRowGroupActive(){return this.rowGroupActive}setPivotActive(e,o){this.pivotActive!==e&&(this.pivotActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnPivotChanged",o))),this.dispatchStateUpdatedEvent("pivot")}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}setValueActive(e,o){this.aggregationActive!==e&&(this.aggregationActive=e,this.columnEventService.dispatchEvent(this.createColumnEvent("columnValueChanged",o)))}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchStateUpdatedEvent(e){this.columnEventService.dispatchEvent({type:"columnStateUpdated",key:e})}},DefaultColumnTypes={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},ColumnKeyCreator=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let o=0;o<e.length;o++)this.existingKeys[e[o]]=!0}getUniqueKey(e,o){e=_toStringOrNull(e);let a=0;for(;;){let c;if(e?(c=e,a!==0&&(c+="_"+a)):o?(c=o,a!==0&&(c+="_"+a)):c=a,!this.existingKeys[c])return this.existingKeys[c]=!0,String(c);a++}}},ColumnFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnFactory"}wireBeans(e){this.dataTypeService=e.dataTypeService}createColumnTree(e,o,a,c){const d=new ColumnKeyCreator,{existingCols:g,existingGroups:b,existingColKeys:_}=this.extractExistingTreeData(a);d.addExistingKeys(_);const $=this.recursivelyCreateColumns(e,0,o,g,d,b,c),j=this.findMaxDept($,0),rt=this.balanceColumnTree($,0,j,d);return depthFirstOriginalTreeSearch(null,rt,(st,jt)=>{isProvidedColumnGroup(st)&&st.setupExpandable(),st.setOriginalParent(jt)}),{columnTree:rt,treeDept:j}}extractExistingTreeData(e){const o=[],a=[],c=[];return e&&depthFirstOriginalTreeSearch(null,e,d=>{if(isProvidedColumnGroup(d)){const g=d;a.push(g)}else{const g=d;c.push(g.getId()),o.push(g)}}),{existingCols:o,existingGroups:a,existingColKeys:c}}balanceTreeForAutoCols(e,o){const a=[],c=this.findDepth(o);return e.forEach(d=>{let g=d;for(let b=c-1;b>=0;b--){const _=new AgProvidedColumnGroup(null,`FAKE_PATH_${d.getId()}}_${b}`,!0,b);this.createBean(_),_.setChildren([g]),g.setOriginalParent(_),g=_}c===0&&d.setOriginalParent(null),a.push(g)}),[a,c]}findDepth(e){let o=0,a=e;for(;a&&a[0]&&isProvidedColumnGroup(a[0]);)o++,a=a[0].getChildren();return o}balanceColumnTree(e,o,a,c){const d=[];for(let g=0;g<e.length;g++){const b=e[g];if(isProvidedColumnGroup(b)){const _=b,$=this.balanceColumnTree(_.getChildren(),o+1,a,c);_.setChildren($),d.push(_)}else{let _,$;for(let j=a-1;j>=o;j--){const rt=c.getUniqueKey(null,null),nt=this.createMergedColGroupDef(null),st=new AgProvidedColumnGroup(nt,rt,!0,o);this.createBean(st),$&&$.setChildren([st]),$=st,_||(_=$)}if(_&&$)if(d.push(_),e.some(rt=>isProvidedColumnGroup(rt))){$.setChildren([b]);continue}else{$.setChildren(e);break}d.push(b)}}return d}findMaxDept(e,o){let a=o;for(let c=0;c<e.length;c++){const d=e[c];if(isProvidedColumnGroup(d)){const g=d,b=this.findMaxDept(g.getChildren(),o+1);a<b&&(a=b)}}return a}recursivelyCreateColumns(e,o,a,c,d,g,b){if(!e)return[];const _=new Array(e.length);for(let $=0;$<_.length;$++){const j=e[$];this.isColumnGroup(j)?_[$]=this.createColumnGroup(a,j,o,c,d,g,b):_[$]=this.createColumn(a,j,c,d,b)}return _}createColumnGroup(e,o,a,c,d,g,b){const _=this.createMergedColGroupDef(o),$=d.getUniqueKey(_.groupId||null,null),j=new AgProvidedColumnGroup(_,$,!1,a);this.createBean(j);const rt=this.findExistingGroup(o,g);rt&&g.splice(rt.idx,1);const nt=rt==null?void 0:rt.group;nt&&j.setExpanded(nt.isExpanded());const st=this.recursivelyCreateColumns(_.children,a+1,e,c,d,g,b);return j.setChildren(st),j}createMergedColGroupDef(e){const o={};return Object.assign(o,this.gos.get("defaultColGroupDef")),Object.assign(o,e),o}createColumn(e,o,a,c,d){var _;const g=this.findExistingColumn(o,a);g&&(a==null||a.splice(g.idx,1));let b=g==null?void 0:g.column;if(b){const $=this.addColumnDefaultAndTypes(o,b.getColId());b.setColDef($,o,d),this.applyColumnState(b,$,d)}else{const $=c.getUniqueKey(o.colId,o.field),j=this.addColumnDefaultAndTypes(o,$);b=new AgColumn(j,o,$,e),this.createBean(b)}return(_=this.dataTypeService)==null||_.addColumnListeners(b),b}applyColumnState(e,o,a){const c=_attrToNumber(o.flex);if(c!==void 0&&e.setFlex(c),e.getFlex()<=0){const _=_attrToNumber(o.width);if(_!=null)e.setActualWidth(_,a);else{const $=e.getActualWidth();e.setActualWidth($,a)}}o.sort!==void 0&&(o.sort=="asc"||o.sort=="desc"?e.setSort(o.sort,a):e.setSort(void 0,a));const g=_attrToNumber(o.sortIndex);g!==void 0&&e.setSortIndex(g);const b=_attrToBoolean(o.hide);b!==void 0&&e.setVisible(!b,a),o.pinned!==void 0&&e.setPinned(o.pinned)}findExistingColumn(e,o){if(o)for(let a=0;a<o.length;a++){const c=o[a].getUserProvidedColDef();if(!c)continue;if(e.colId!=null){if(o[a].getId()===e.colId)return{idx:a,column:o[a]};continue}if(e.field!=null){if(c.field===e.field)return{idx:a,column:o[a]};continue}if(c===e)return{idx:a,column:o[a]}}}findExistingGroup(e,o){if(e.groupId!=null)for(let c=0;c<o.length;c++){const d=o[c];if(d.getColGroupDef()&&d.getId()===e.groupId)return{idx:c,group:d}}}addColumnDefaultAndTypes(e,o){var _;const a={},c=this.gos.get("defaultColDef");_mergeDeep(a,c,!1,!0);const d=this.updateColDefAndGetColumnType(a,e,o);d&&this.assignColumnTypes(d,a),_mergeDeep(a,e,!1,!0);const g=this.gos.get("autoGroupColumnDef"),b=_isColumnsSortingCoupledToGroup(this.gos);return e.rowGroup&&g&&b&&_mergeDeep(a,{sort:g.sort,initialSort:g.initialSort},!1,!0),(_=this.dataTypeService)==null||_.validateColDef(a),a}updateColDefAndGetColumnType(e,o,a){var g;const c=(g=this.dataTypeService)==null?void 0:g.updateColDefAndGetColumnType(e,o,a),d=o.type??c??e.type;return e.type=d,d?convertColumnTypes(d):void 0}assignColumnTypes(e,o){if(!e.length)return;const a=Object.assign({},DefaultColumnTypes),c=this.gos.get("columnTypes")||{};_iterateObject(c,(d,g)=>{d in a?_warnOnce(`the column type '${d}' is a default column type and cannot be overridden.`):(g.type&&_warnOnce("Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type."),a[d]=g)}),e.forEach(d=>{const g=a[d.trim()];g?_mergeDeep(o,g,!1,!0):_warnOnce("colDef.type '"+d+"' does not correspond to defined gridOptions.columnTypes")})}isColumnGroup(e){return e.children!==void 0}};function depthFirstOriginalTreeSearch(e,o,a){if(o)for(let c=0;c<o.length;c++){const d=o[c];isProvidedColumnGroup(d)&&depthFirstOriginalTreeSearch(d,d.getChildren(),a),a(d,e)}}var ColumnModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnModel",this.pivotMode=!1,this.autoHeightActiveAtLeastOnce=!1,this.ready=!1,this.changeEventsDispatching=!1,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}wireBeans(e){this.context=e.context,this.ctrlsService=e.ctrlsService,this.columnFactory=e.columnFactory,this.columnSizeService=e.columnSizeService,this.visibleColsService=e.visibleColsService,this.columnViewportService=e.columnViewportService,this.pivotResultColsService=e.pivotResultColsService,this.columnAnimationService=e.columnAnimationService,this.autoColService=e.autoColService,this.controlsColService=e.controlsColService,this.valueCache=e.valueCache,this.columnDefFactory=e.columnDefFactory,this.columnApplyStateService=e.columnApplyStateService,this.columnGroupStateService=e.columnGroupStateService,this.eventDispatcher=e.columnEventDispatcher,this.columnMoveService=e.columnMoveService,this.columnAutosizeService=e.columnAutosizeService,this.funcColsService=e.funcColsService,this.quickFilterService=e.quickFilterService,this.showRowGroupColsService=e.showRowGroupColsService,this.environment=e.environment}postConstruct(){const e=this.gos.get("pivotMode");this.isPivotSettingAllowed(e)&&(this.pivotMode=e),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],o=>this.refreshAll(convertSourceType(o.source))),this.addManagedPropertyListener("rowSelection",o=>{this.onSelectionOptionsChanged(o.currentValue,o.previousValue,convertSourceType(o.source))}),this.addManagedPropertyListener("autoGroupColumnDef",o=>this.onAutoGroupColumnDefChanged(convertSourceType(o.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],o=>this.recreateColumnDefs(convertSourceType(o.source))),this.addManagedPropertyListener("pivotMode",o=>this.setPivotMode(this.gos.get("pivotMode"),convertSourceType(o.source))),this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}createColsFromColDefs(e){var j,rt,nt;const o=this.colDefs?this.columnApplyStateService.compareColumnStatesAndDispatchEvents(e):void 0;this.valueCache.expire();const a=(j=this.colDefCols)==null?void 0:j.list,c=(rt=this.colDefCols)==null?void 0:rt.tree,d=this.columnFactory.createColumnTree(this.colDefs,!0,c,e);destroyColumnTree(this.context,(nt=this.colDefCols)==null?void 0:nt.tree,d.columnTree);const g=d.columnTree,b=d.treeDept,_=getColumnsFromTree(g),$={};_.forEach(st=>$[st.getId()]=st),this.colDefCols={tree:g,treeDepth:b,list:_,map:$},this.funcColsService.extractCols(e,a),this.ready=!0,this.refreshCols(!0),this.visibleColsService.refresh(e),this.columnViewportService.checkViewportColumns(),this.eventDispatcher.everythingChanged(e),o&&(this.changeEventsDispatching=!0,o(),this.changeEventsDispatching=!1),this.eventDispatcher.newColumnsLoaded(e),e==="gridInitializing"&&this.columnSizeService.applyAutosizeStrategy()}refreshCols(e){var d,g,b;if(!this.colDefCols)return;const o=(d=this.cols)==null?void 0:d.tree;this.saveColOrder(),this.selectCols(),this.createAutoCols(),this.addAutoCols(),this.createControlsCols(),this.addControlsCols();const a=_shouldMaintainColumnOrder(this.gos,this.showingPivotResult);(!e||a)&&this.restoreColOrder(),this.positionLockedCols(),(g=this.showRowGroupColsService)==null||g.refresh(),(b=this.quickFilterService)==null||b.refreshQuickFilterCols(),this.setColSpanActive(),this.setAutoHeightActive(),this.visibleColsService.clear(),this.columnViewportService.clear(),!_areEqual(o,this.cols.tree)&&this.eventDispatcher.gridColumns()}selectCols(){const e=this.pivotResultColsService.getPivotResultCols();if(this.showingPivotResult=e!=null,e){const{map:o,list:a,tree:c,treeDepth:d}=e;this.cols={list:a.slice(),map:{...o},tree:c.slice(),treeDepth:d},e.list.some(b=>{var _;return((_=this.cols)==null?void 0:_.map[b.getColId()])!==void 0})||(this.lastPivotOrder=null)}else{const{map:o,list:a,tree:c,treeDepth:d}=this.colDefCols;this.cols={list:a.slice(),map:{...o},tree:c.slice(),treeDepth:d}}}getColsToShow(){var d;const e=this.isPivotMode()&&!this.isShowingPivotResult(),o=this.funcColsService.getValueColumns(),a=(d=this.controlsColService)==null?void 0:d.isControlsColEnabled();return this.cols.list.filter(g=>{const b=isColumnGroupAutoCol(g);if(e){const _=o&&_includes(o,g);return b||_||a&&isColumnControlsCol(g)}else return b||g.isVisible()})}addAutoCols(){this.autoCols!=null&&(this.cols.list=this.autoCols.list.concat(this.cols.list),this.cols.tree=this.autoCols.tree.concat(this.cols.tree),updateColsMap(this.cols))}createAutoCols(){var wl;const e=_isGroupUseEntireRow(this.gos,this.pivotMode),o=this.pivotMode?this.gos.get("pivotSuppressAutoColumn"):this.isSuppressAutoCol(),a=this.funcColsService.getRowGroupColumns(),d=!(a.length>0||this.gos.get("treeData"))||o||e,g=()=>{this.autoCols&&(destroyColumnTree(this.context,this.autoCols.tree),this.autoCols=null)};if(d||!this.autoColService){g();return}const b=this.autoColService.createAutoCols(a)??[],_=areColIdsEqual(b,((wl=this.autoCols)==null?void 0:wl.list)||null),$=this.cols.treeDepth,rt=(this.autoCols?this.autoCols.treeDepth:-1)==$;if(_&&rt)return;g();const[nt,st]=this.columnFactory.balanceTreeForAutoCols(b,this.cols.tree);this.autoCols={list:b,tree:nt,treeDepth:st,map:{}};const jt=Ft=>{if(!Ft)return null;const it=Ft.filter(ot=>!isColumnGroupAutoCol(ot));return[...b,...it]};this.lastOrder=jt(this.lastOrder),this.lastPivotOrder=jt(this.lastPivotOrder)}createControlsCols(){var j,rt,nt;const e=()=>{var st;destroyColumnTree(this.context,(st=this.controlsCols)==null?void 0:st.tree),this.controlsCols=null};this.controlsColService||e();const o=this.cols.treeDepth,c=(((j=this.controlsCols)==null?void 0:j.treeDepth)??-1)==o,d=((rt=this.controlsColService)==null?void 0:rt.createControlsCols())??[];if(areColIdsEqual(d,((nt=this.controlsCols)==null?void 0:nt.list)??[])&&c)return;e();const[b,_]=this.columnFactory.balanceTreeForAutoCols(d,this.cols.tree);this.controlsCols={list:d,tree:b,treeDepth:_,map:{}};const $=st=>{if(!st)return null;const jt=st.filter(wl=>!isColumnControlsCol(wl));return[...d,...jt]};this.lastOrder=$(this.lastOrder),this.lastPivotOrder=$(this.lastPivotOrder)}addControlsCols(){this.controlsCols!=null&&(this.cols.list=this.controlsCols.list.concat(this.cols.list),this.cols.tree=this.controlsCols.tree.concat(this.cols.tree),updateColsMap(this.cols))}refreshAll(e){this.isReady()&&(this.refreshCols(!1),this.visibleColsService.refresh(e))}setColsVisible(e,o=!1,a){this.columnApplyStateService.applyColumnState({state:e.map(c=>({colId:typeof c=="string"?c:c.getColId(),hide:!o}))},a)}setColsPinned(e,o,a){if(!this.cols||_missingOrEmpty(e))return;if(_isDomLayout(this.gos,"print")){_warnOnce("Changing the column pinning status is not allowed with domLayout='print'");return}this.columnAnimationService.start();let c;o===!0||o==="left"?c="left":o==="right"?c="right":c=null;const d=[];e.forEach(g=>{if(!g)return;const b=this.getCol(g);b&&b.getPinned()!==c&&(b.setPinned(c),d.push(b))}),d.length&&(this.visibleColsService.refresh(a),this.eventDispatcher.columnPinned(d,a)),this.columnAnimationService.finish()}setColumnGroupOpened(e,o,a){let c;isProvidedColumnGroup(e)?c=e.getId():c=e||"",this.columnGroupStateService.setColumnGroupState([{groupId:c,open:o}],a)}getProvidedColGroup(e){var a;let o=null;return depthFirstOriginalTreeSearch(null,(a=this.cols)==null?void 0:a.tree,c=>{isProvidedColumnGroup(c)&&c.getId()===e&&(o=c)}),o}isColGroupLocked(e){const o=this.gos.get("groupLockGroupColumns");if(!e.isRowGroupActive()||o===0)return!1;if(o===-1)return!0;const c=this.funcColsService.getRowGroupColumns().findIndex(d=>d.getColId()===e.getColId());return o>c}isSuppressAutoCol(){return this.gos.get("groupDisplayType")==="custom"?!0:this.gos.get("treeDataDisplayType")==="custom"}setAutoHeightActive(){this.autoHeightActive=this.cols.list.some(e=>e.isVisible()&&e.isAutoHeight()),this.autoHeightActive&&(this.autoHeightActiveAtLeastOnce=!0,_isClientSideRowModel(this.gos)||_isServerSideRowModel(this.gos)||_warnOnce("autoHeight columns only work with Client Side Row Model and Server Side Row Model."))}restoreColOrder(){const e=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!e)return;const o=new Map(e.map(($,j)=>[$,j]));if(!this.cols.list.some($=>o.has($)))return;const c=new Map(this.cols.list.map($=>[$,!0])),d=e.filter($=>c.has($)),g=new Map(d.map($=>[$,!0])),b=this.cols.list.filter($=>!g.has($)),_=d.slice();b.forEach($=>{let j=$.getOriginalParent();if(!j){_.push($);return}const rt=[];for(;!rt.length&&j;)j.getLeafColumns().forEach(wl=>{const Ft=_.indexOf(wl)>=0,it=rt.indexOf(wl)<0;Ft&&it&&rt.push(wl)}),j=j.getOriginalParent();if(!rt.length){_.push($);return}const nt=rt.map(jt=>_.indexOf(jt)),st=Math.max(...nt);_insertIntoArray(_,$,st+1)}),this.cols.list=_}sortColsLikeKeys(e){if(this.cols==null)return;let o=[];const a={};e.forEach(d=>{if(a[d])return;const g=this.cols.map[d];g&&(o.push(g),a[d]=!0)});let c=0;if(this.cols.list.forEach(d=>{const g=d.getColId();if(a[g]!=null)return;g.startsWith(GROUP_AUTO_COLUMN_ID)?_insertIntoArray(o,d,c++):o.push(d)}),o=this.columnMoveService.placeLockedColumns(o),!this.columnMoveService.doesMovePassMarryChildren(o)){_warnOnce("Applying column order broke a group where columns should be married together. Applying new order has been discarded.");return}this.cols.list=o}sortColsLikeCols(e){!e||e.length<=1||e.filter(a=>this.cols.list.indexOf(a)<0).length>0||e.sort((a,c)=>{const d=this.cols.list.indexOf(a),g=this.cols.list.indexOf(c);return d-g})}resetColDefIntoCol(e,o){const a=e.getUserProvidedColDef();if(!a)return!1;const c=this.columnFactory.addColumnDefaultAndTypes(a,e.getColId());return e.setColDef(c,a,o),!0}queueResizeOperations(){this.shouldQueueResizeOperations=!0}isShouldQueueResizeOperations(){return this.shouldQueueResizeOperations}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}moveInCols(e,o,a){var c;_moveInArray((c=this.cols)==null?void 0:c.list,e,o),this.visibleColsService.refresh(a)}positionLockedCols(){this.cols.list=this.columnMoveService.placeLockedColumns(this.cols.list)}saveColOrder(){var e,o;this.showingPivotResult?this.lastPivotOrder=(e=this.cols)==null?void 0:e.list:this.lastOrder=(o=this.cols)==null?void 0:o.list}getColumnDefs(){if(!this.colDefCols)return;const e=this.colDefCols.list.slice();this.showingPivotResult?e.sort((c,d)=>this.lastOrder.indexOf(c)-this.lastOrder.indexOf(d)):this.lastOrder&&e.sort((c,d)=>this.cols.list.indexOf(c)-this.cols.list.indexOf(d));const o=this.funcColsService.getRowGroupColumns(),a=this.funcColsService.getPivotColumns();return this.columnDefFactory.buildColumnDefs(e,o,a)}isShowingPivotResult(){return this.showingPivotResult}isChangeEventsDispatching(){return this.changeEventsDispatching}isColSpanActive(){return this.colSpanActive}isProvidedColGroupsPresent(){var e;return((e=this.colDefCols)==null?void 0:e.treeDepth)>0}setColSpanActive(){this.colSpanActive=this.cols.list.some(e=>e.getColDef().colSpan!=null)}isAutoRowHeightActive(){return this.autoHeightActive}wasAutoRowHeightEverActive(){return this.autoHeightActiveAtLeastOnce}getHeaderRowCount(){return this.cols?this.cols.treeDepth+1:-1}isReady(){return this.ready}isPivotMode(){return this.pivotMode}setPivotMode(e,o){e===this.pivotMode||!this.isPivotSettingAllowed(this.pivotMode)||(this.pivotMode=e,this.ready&&(this.refreshCols(!1),this.visibleColsService.refresh(o),this.eventDispatcher.pivotModeChanged()))}isPivotSettingAllowed(e){return e&&this.gos.get("treeData")?(_warnOnce("Pivot mode not available with treeData."),!1):!0}isPivotActive(){const e=this.funcColsService.getPivotColumns();return this.pivotMode&&!_missingOrEmpty(e)}recreateColumnDefs(e){this.cols&&(this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e),this.createColsFromColDefs(e))}setColumnDefs(e,o){this.colDefs=e,this.createColsFromColDefs(o)}destroy(){var e,o,a;destroyColumnTree(this.context,(e=this.colDefCols)==null?void 0:e.tree),destroyColumnTree(this.context,(o=this.autoCols)==null?void 0:o.tree),destroyColumnTree(this.context,(a=this.controlsCols)==null?void 0:a.tree),super.destroy()}getColTree(){return this.cols.tree}getColDefColTree(){return this.colDefCols.tree}getColDefCols(){var e;return(e=this.colDefCols)!=null&&e.list?this.colDefCols.list:null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}getAllCols(){var a,c,d;const e=this.pivotResultColsService.getPivotResultCols(),o=e==null?void 0:e.list;return[((a=this.colDefCols)==null?void 0:a.list)??[],((c=this.autoCols)==null?void 0:c.list)??[],((d=this.controlsCols)==null?void 0:d.list)??[],o??[]].flat()}getColsForKeys(e){return e?e.map(o=>this.getCol(o)).filter(o=>o!=null):[]}getColDefCol(e){var o;return(o=this.colDefCols)!=null&&o.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,o){if(o==null)return null;const{map:a,list:c}=o;if(typeof e=="string"&&a[e])return a[e];for(let d=0;d<c.length;d++)if(columnsMatch(c[d],e))return c[d];return this.getAutoCol(e)}getAutoCol(e){var o;return((o=this.autoCols)==null?void 0:o.list.find(a=>columnsMatch(a,e)))??null}getAutoCols(){var e;return((e=this.autoCols)==null?void 0:e.list)??null}setColHeaderHeight(e,o){e.setAutoHeaderHeight(o)&&(e.isColumn?this.eventDispatcher.headerHeight(e):this.eventDispatcher.groupHeaderHeight(e))}getGroupRowsHeight(){const e=[],o=this.ctrlsService.getHeaderRowContainerCtrls();for(const a of o){if(!a)continue;const c=a.getGroupRowCount()||0;for(let d=0;d<c;d++){const g=a.getGroupRowCtrlAtIndex(d),b=e[d];if(g){const _=this.getColumnGroupHeaderRowHeight(g);(b==null||_>b)&&(e[d]=_)}}}return e}getColumnGroupHeaderRowHeight(e){const o=this.isPivotMode()?this.getPivotGroupHeaderHeight():this.getGroupHeaderHeight();let a=0;const c=e.getHeaderCtrls();for(const d of c){const g=d.getColumn();if(g.isAutoHeaderHeight()){const b=g.getAutoHeaderHeight();b!=null&&b>a&&(a=b)}}return Math.max(o,a)}getColumnHeaderRowHeight(){const e=this.isPivotMode()?this.getPivotHeaderHeight():this.getHeaderHeight(),a=this.visibleColsService.getAllCols().filter(c=>c.isAutoHeaderHeight()).map(c=>c.getAutoHeaderHeight()||0);return Math.max(e,...a)}getHeaderHeight(){return this.gos.get("headerHeight")??this.environment.getDefaultHeaderHeight()}getFloatingFiltersHeight(){return this.gos.get("floatingFiltersHeight")??this.getHeaderHeight()}getGroupHeaderHeight(){return this.gos.get("groupHeaderHeight")??this.getHeaderHeight()}getPivotHeaderHeight(){return this.gos.get("pivotHeaderHeight")??this.getHeaderHeight()}getPivotGroupHeaderHeight(){return this.gos.get("pivotGroupHeaderHeight")??this.getGroupHeaderHeight()}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:o,skipHeader:a}=e;setTimeout(()=>{o?this.columnAutosizeService.autoSizeCols({colKeys:o,skipHeader:a,source:"autosizeColumns"}):this.columnAutosizeService.autoSizeAllColumns("autosizeColumns",a)})}onAutoGroupColumnDefChanged(e){this.autoCols&&this.autoColService.updateAutoCols(this.autoCols.list,e)}onSelectionOptionsChanged(e,o,a){const c=o&&typeof o!="string"?_getCheckboxes(o):void 0,d=e&&typeof e!="string"?_getCheckboxes(e):void 0,g=c!==d,b=o&&typeof o!="string"?_getHeaderCheckbox(o):void 0,_=e&&typeof e!="string"?_getHeaderCheckbox(e):void 0;(g||b!==_)&&this.refreshAll(a)}};function convertSourceType(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function updateColsMap(e){e.map={},e.list.forEach(o=>e.map[o.getId()]=o)}function columnsMatch(e,o){const a=e===o,c=e.getColDef()===o,d=e.getColId()==o;return a||c||d}function areColIdsEqual(e,o){return _areEqual(e,o,(a,c)=>a.getColId()===c.getColId())}var ColumnAutosizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnAutosizeService",this.timesDelayed=0}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.animationFrameService=e.animationFrameService,this.autoWidthCalculator=e.autoWidthCalculator,this.eventDispatcher=e.columnEventDispatcher,this.ctrlsService=e.ctrlsService,this.renderStatusService=e.renderStatusService}autoSizeCols(e){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:o,skipHeader:a,skipHeaderGroups:c,stopAtGroup:d,source:g="api"}=e;if(this.animationFrameService.flushAllFrames(),this.timesDelayed<5&&this.renderStatusService&&!this.renderStatusService.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>this.autoSizeCols(e));return}this.timesDelayed=0;const b=[];let _=-1;const $=a??this.gos.get("skipHeaderOnAutoSize"),j=c??$;for(;_!==0;){_=0;const rt=[];o.forEach(nt=>{if(!nt)return;const st=this.columnModel.getCol(nt);if(!st||b.indexOf(st)>=0)return;const jt=this.autoWidthCalculator.getPreferredWidthForColumn(st,$);if(jt>0){const wl=this.normaliseColumnWidth(st,jt);st.setActualWidth(wl,g),b.push(st),_++}rt.push(st)}),rt.length&&this.visibleColsService.refresh(g)}j||this.autoSizeColumnGroupsByColumns(o,g,d),this.eventDispatcher.columnResized(b,!0,"autosizeColumns")}autoSizeColumn(e,o,a){e&&this.autoSizeCols({colKeys:[e],skipHeader:a,skipHeaderGroups:!0,source:o})}autoSizeColumnGroupsByColumns(e,o,a){const c=new Set;this.columnModel.getColsForKeys(e).forEach(_=>{let $=_.getParent();for(;$&&$!=a;)$.isPadding()||c.add($),$=$.getParent()});let g;const b=[];for(const _ of c){for(const $ of this.ctrlsService.getHeaderRowContainerCtrls())if(g=$.getHeaderCtrlForColumn(_),g)break;g&&g.resizeLeafColumnsToFit(o)}return b}autoSizeAllColumns(e,o){if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.autoSizeAllColumns(e,o));return}const a=this.visibleColsService.getAllCols();this.autoSizeCols({colKeys:a,skipHeader:o,source:e})}normaliseColumnWidth(e,o){const a=e.getMinWidth();o<a&&(o=a);const c=e.getMaxWidth();return e.isGreaterThanMax(o)&&(o=c),o}},FuncColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="funcColsService",this.rowGroupCols=[],this.valueCols=[],this.pivotCols=[]}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.aggFuncService=e.aggFuncService,this.visibleColsService=e.visibleColsService}getModifyColumnsNoEventsCallbacks(){return{addGroupCol:e=>this.rowGroupCols.push(e),removeGroupCol:e=>_removeFromArray(this.rowGroupCols,e),addPivotCol:e=>this.pivotCols.push(e),removePivotCol:e=>_removeFromArray(this.pivotCols,e),addValueCol:e=>this.valueCols.push(e),removeValueCol:e=>_removeFromArray(this.valueCols,e)}}getSourceColumnsForGroupColumn(e){const o=e.getColDef().showRowGroup;if(!o)return null;if(o===!0)return this.rowGroupCols.slice(0);const a=this.columnModel.getColDefCol(o);return a?[a]:null}sortRowGroupColumns(e){this.rowGroupCols.sort(e)}sortPivotColumns(e){this.pivotCols.sort(e)}getValueColumns(){return this.valueCols?this.valueCols:[]}getPivotColumns(){return this.pivotCols?this.pivotCols:[]}getRowGroupColumns(){return this.rowGroupCols?this.rowGroupCols:[]}isRowGroupEmpty(){return _missingOrEmpty(this.rowGroupCols)}setColumnAggFunc(e,o,a){if(!e)return;const c=this.columnModel.getColDefCol(e);c&&(c.setAggFunc(o),this.eventDispatcher.columnChanged("columnValueChanged",[c],a))}setRowGroupColumns(e,o){this.setColList(e,this.rowGroupCols,"columnRowGroupChanged",!0,!0,(a,c)=>this.setRowGroupActive(a,c,o),o)}setRowGroupActive(e,o,a){e!==o.isRowGroupActive()&&(o.setRowGroupActive(e,a),e&&!this.gos.get("suppressRowGroupHidesColumns")&&this.columnModel.setColsVisible([o],!1,a),!e&&!this.gos.get("suppressMakeColumnVisibleAfterUnGroup")&&this.columnModel.setColsVisible([o],!0,a))}addRowGroupColumns(e,o){this.updateColList(e,this.rowGroupCols,!0,!0,a=>this.setRowGroupActive(!0,a,o),"columnRowGroupChanged",o)}removeRowGroupColumns(e,o){this.updateColList(e,this.rowGroupCols,!1,!0,a=>this.setRowGroupActive(!1,a,o),"columnRowGroupChanged",o)}addPivotColumns(e,o){this.updateColList(e,this.pivotCols,!0,!1,a=>a.setPivotActive(!0,o),"columnPivotChanged",o)}setPivotColumns(e,o){this.setColList(e,this.pivotCols,"columnPivotChanged",!0,!1,(a,c)=>{c.setPivotActive(a,o)},o)}removePivotColumns(e,o){this.updateColList(e,this.pivotCols,!1,!1,a=>a.setPivotActive(!1,o),"columnPivotChanged",o)}setValueColumns(e,o){this.setColList(e,this.valueCols,"columnValueChanged",!1,!1,(a,c)=>this.setValueActive(a,c,o),o)}setValueActive(e,o,a){if(e!==o.isValueActive()&&(o.setValueActive(e,a),e&&!o.getAggFunc()&&this.aggFuncService)){const c=this.aggFuncService.getDefaultAggFunc(o);o.setAggFunc(c)}}addValueColumns(e,o){this.updateColList(e,this.valueCols,!0,!1,a=>this.setValueActive(!0,a,o),"columnValueChanged",o)}removeValueColumns(e,o){this.updateColList(e,this.valueCols,!1,!1,a=>this.setValueActive(!1,a,o),"columnValueChanged",o)}moveRowGroupColumn(e,o,a){if(this.isRowGroupEmpty())return;const c=this.rowGroupCols[e],d=this.rowGroupCols.slice(e,o);this.rowGroupCols.splice(e,1),this.rowGroupCols.splice(o,0,c),this.eventDispatcher.rowGroupChanged(d,a)}setColList(e,o,a,c,d,g,b){if(!this.columnModel.getCols())return;const _=new Map;o.forEach((j,rt)=>_.set(j,rt)),o.length=0,_exists(e)&&e.forEach(j=>{const rt=this.columnModel.getColDefCol(j);rt&&o.push(rt)}),o.forEach((j,rt)=>{const nt=_.get(j);if(nt===void 0){_.set(j,0);return}c&&nt!==rt||_.delete(j)}),(this.columnModel.getColDefCols()||[]).forEach(j=>{const rt=o.indexOf(j)>=0;g(rt,j)}),d&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(b),this.eventDispatcher.columnChanged(a,[..._.keys()],b)}updateColList(e,o,a,c,d,g,b){if(!e||_missingOrEmpty(e))return;let _=!1;const $=new Set;e.forEach(j=>{if(!j)return;const rt=this.columnModel.getColDefCol(j);if(rt){if($.add(rt),a){if(o.indexOf(rt)>=0)return;o.push(rt)}else{const nt=o.indexOf(rt);if(nt<0)return;for(let st=nt+1;st<o.length;st++)$.add(o[st]);_removeFromArray(o,rt)}d(rt),_=!0}}),_&&(c&&this.columnModel.refreshCols(!1),this.visibleColsService.refresh(b),this.eventDispatcher.genericColumnEvent(g,Array.from($),b))}extractCols(e,o){this.extractRowGroupCols(e,o),this.extractPivotCols(e,o),this.extractValueCols(e,o)}extractValueCols(e,o){this.valueCols=this.extractColsCommon(o,this.valueCols,(a,c)=>a.setValueActive(c,e),()=>{},()=>{},a=>{const c=a.aggFunc;if(c===null||c==="")return null;if(c!==void 0)return!!c},a=>a.initialAggFunc!=null&&a.initialAggFunc!=""),this.valueCols.forEach(a=>{const c=a.getColDef();c.aggFunc!=null&&c.aggFunc!=""?a.setAggFunc(c.aggFunc):a.getAggFunc()||a.setAggFunc(c.initialAggFunc)})}extractRowGroupCols(e,o){this.rowGroupCols=this.extractColsCommon(o,this.rowGroupCols,(a,c)=>a.setRowGroupActive(c,e),a=>a.rowGroupIndex,a=>a.initialRowGroupIndex,a=>a.rowGroup,a=>a.initialRowGroup)}extractPivotCols(e,o){this.pivotCols=this.extractColsCommon(o,this.pivotCols,(a,c)=>a.setPivotActive(c,e),a=>a.pivotIndex,a=>a.initialPivotIndex,a=>a.pivot,a=>a.initialPivot)}extractColsCommon(e=[],o=[],a,c,d,g,b){const _=[],$=[];(this.columnModel.getColDefCols()||[]).forEach(st=>{const jt=e.indexOf(st)<0,wl=st.getColDef(),Ft=_attrToBoolean(g(wl)),it=_attrToBoolean(b(wl)),ot=_attrToNumber(c(wl)),Ln=_attrToNumber(d(wl));let Cl;Ft!==void 0?Cl=Ft:ot!==void 0?ot===null?Cl=!1:Cl=ot>=0:jt?it!==void 0?Cl=it:Ln!==void 0?Cl=Ln!=null&&Ln>=0:Cl=!1:Cl=o.indexOf(st)>=0,Cl&&((jt?ot!=null||Ln!=null:ot!=null)?_.push(st):$.push(st))});const rt=st=>{const jt=c(st.getColDef()),wl=d(st.getColDef());return jt??wl};_.sort((st,jt)=>{const wl=rt(st),Ft=rt(jt);return wl===Ft?0:wl<Ft?-1:1});const nt=[].concat(_);return o.forEach(st=>{$.indexOf(st)>=0&&nt.push(st)}),$.forEach(st=>{nt.indexOf(st)<0&&nt.push(st)}),o.forEach(st=>{nt.indexOf(st)<0&&a(st,!1)}),nt.forEach(st=>{o.indexOf(st)<0&&a(st,!0)}),nt}generateColumnStateForRowGroupAndPivotIndexes(e,o){const a={},c=(d,g,b,_,$,j)=>{const rt=this.columnModel.getColDefCols();if(!g.length||!rt)return[];const nt=Object.keys(d),st=new Set(nt),jt=new Set(nt),wl=new Set(g.map(In=>{const Ml=In.getColId();return jt.delete(Ml),Ml}).concat(nt)),Ft=[],it={};let ot=0;for(let In=0;In<rt.length;In++){const Ml=rt[In].getColId();wl.has(Ml)&&(Ft.push(Ml),it[Ml]=ot++)}let Ln=1e3,Cl=!1,Tl=0;const zl=In=>{const Ml=it[In];for(let Dl=Tl;Dl<Ml;Dl++){const Ul=Ft[Dl];jt.has(Ul)&&(d[Ul][$]=Ln++,jt.delete(Ul))}Tl=Ml};g.forEach(In=>{const Ml=In.getColId();if(st.has(Ml))zl(Ml),d[Ml][$]=Ln++;else{const Dl=In.getColDef();(Dl[$]===null||Dl[$]===void 0&&Dl[j]==null)&&(Cl||(Dl[b]||Dl[b]===void 0&&Dl[_]?zl(Ml):(jt.forEach(mu=>{d[mu][$]=Ln+it[mu]}),Ln+=Ft.length,Cl=!0)),a[Ml]||(a[Ml]={colId:Ml}),a[Ml][$]=Ln++)}})};return c(e,this.rowGroupCols,"rowGroup","initialRowGroup","rowGroupIndex","initialRowGroupIndex"),c(o,this.pivotCols,"pivot","initialPivot","pivotIndex","initialPivotIndex"),Object.values(a)}},ColumnApplyStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnApplyStateService"}wireBeans(e){this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher,this.sortController=e.sortController,this.columnGetStateService=e.columnGetStateService,this.funcColsService=e.funcColsService,this.visibleColsService=e.visibleColsService,this.columnAnimationService=e.columnAnimationService,this.pivotResultColsService=e.pivotResultColsService}applyColumnState(e,o){const a=this.columnModel.getColDefCols()||[];if(_missingOrEmpty(a))return!1;if(e&&e.state&&!e.state.forEach)return _warnOnce("applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state."),!1;const c=this.funcColsService.getModifyColumnsNoEventsCallbacks(),d=(_,$,j)=>{const rt=this.compareColumnStatesAndDispatchEvents(o),nt=$.slice(),st={},jt={},wl=[],Ft=[];let it=0;const ot=this.funcColsService.getRowGroupColumns().slice(),Ln=this.funcColsService.getPivotColumns().slice();_.forEach(In=>{const Ml=In.colId||"";if(Ml.startsWith(GROUP_AUTO_COLUMN_ID)){wl.push(In),Ft.push(In);return}const Ul=j(Ml);Ul?(this.syncColumnWithStateItem(Ul,In,e.defaultState,st,jt,!1,o,c),_removeFromArray(nt,Ul)):(Ft.push(In),it+=1)});const Cl=In=>this.syncColumnWithStateItem(In,null,e.defaultState,st,jt,!1,o,c);nt.forEach(Cl),this.funcColsService.sortRowGroupColumns(comparatorByIndex.bind(this,st,ot)),this.funcColsService.sortPivotColumns(comparatorByIndex.bind(this,jt,Ln)),this.columnModel.refreshCols(!1);const zl=(this.columnModel.getAutoCols()||[]).slice();return wl.forEach(In=>{const Ml=this.columnModel.getAutoCol(In.colId);_removeFromArray(zl,Ml),this.syncColumnWithStateItem(Ml,In,e.defaultState,null,null,!0,o,c)}),zl.forEach(Cl),this.orderLiveColsLikeState(e),this.visibleColsService.refresh(o),this.eventDispatcher.everythingChanged(o),rt(),{unmatchedAndAutoStates:Ft,unmatchedCount:it}};this.columnAnimationService.start();let{unmatchedAndAutoStates:g,unmatchedCount:b}=d(e.state||[],a,_=>this.columnModel.getColDefCol(_));if(g.length>0||_exists(e.defaultState)){const _=this.pivotResultColsService.getPivotResultCols(),$=_==null?void 0:_.list;b=d(g,$||[],j=>this.pivotResultColsService.getPivotResultCol(j)).unmatchedCount}return this.columnAnimationService.finish(),b===0}resetColumnState(e){const o=this.columnModel.getColDefCols();if(_missingOrEmpty(o))return;const a=this.columnModel.getColDefColTree(),c=getColumnsFromTree(a),d=[];let g=1e3,b=1e3,_=[];const $=this.columnModel.getAutoCols();$&&(_=_.concat($)),c&&(_=_.concat(c)),_.forEach(j=>{const rt=this.getColumnStateFromColDef(j);_missing(rt.rowGroupIndex)&&rt.rowGroup&&(rt.rowGroupIndex=g++),_missing(rt.pivotIndex)&&rt.pivot&&(rt.pivotIndex=b++),d.push(rt)}),this.applyColumnState({state:d,applyOrder:!0},e)}getColumnStateFromColDef(e){const o=(wl,Ft)=>wl??Ft??null,a=e.getColDef(),c=o(a.sort,a.initialSort),d=o(a.sortIndex,a.initialSortIndex),g=o(a.hide,a.initialHide),b=o(a.pinned,a.initialPinned),_=o(a.width,a.initialWidth),$=o(a.flex,a.initialFlex);let j=o(a.rowGroupIndex,a.initialRowGroupIndex),rt=o(a.rowGroup,a.initialRowGroup);j==null&&(rt==null||rt==!1)&&(j=null,rt=null);let nt=o(a.pivotIndex,a.initialPivotIndex),st=o(a.pivot,a.initialPivot);nt==null&&(st==null||st==!1)&&(nt=null,st=null);const jt=o(a.aggFunc,a.initialAggFunc);return{colId:e.getColId(),sort:c,sortIndex:d,hide:g,pinned:b,width:_,flex:$,rowGroup:rt,rowGroupIndex:j,pivot:st,pivotIndex:nt,aggFunc:jt}}syncColumnWithStateItem(e,o,a,c,d,g,b,_){if(!e)return;const $=(Tl,zl)=>{const In={value1:void 0,value2:void 0};let Ml=!1;return o&&(o[Tl]!==void 0&&(In.value1=o[Tl],Ml=!0),_exists(zl)&&o[zl]!==void 0&&(In.value2=o[zl],Ml=!0)),!Ml&&a&&(a[Tl]!==void 0&&(In.value1=a[Tl]),_exists(zl)&&a[zl]!==void 0&&(In.value2=a[zl])),In},j=$("hide").value1;j!==void 0&&e.setVisible(!j,b);const rt=$("pinned").value1;rt!==void 0&&e.setPinned(rt);const nt=e.getColDef().minWidth??this.gos.environment.getDefaultColumnMinWidth(),st=$("flex").value1;if(st!==void 0&&e.setFlex(st),st==null){const Tl=$("width").value1;Tl!=null&&nt!=null&&Tl>=nt&&e.setActualWidth(Tl,b)}const jt=$("sort").value1;jt!==void 0&&(jt==="desc"||jt==="asc"?e.setSort(jt,b):e.setSort(void 0,b));const wl=$("sortIndex").value1;if(wl!==void 0&&e.setSortIndex(wl),g||!e.isPrimary())return;const Ft=$("aggFunc").value1;Ft!==void 0&&(typeof Ft=="string"?(e.setAggFunc(Ft),e.isValueActive()||(e.setValueActive(!0,b),_.addValueCol(e))):(_exists(Ft)&&_warnOnce("stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON."),e.isValueActive()&&(e.setValueActive(!1,b),_.removeValueCol(e))));const{value1:it,value2:ot}=$("rowGroup","rowGroupIndex");(it!==void 0||ot!==void 0)&&(typeof ot=="number"||it?(e.isRowGroupActive()||(e.setRowGroupActive(!0,b),_.addGroupCol(e)),c&&typeof ot=="number"&&(c[e.getId()]=ot)):e.isRowGroupActive()&&(e.setRowGroupActive(!1,b),_.removeGroupCol(e)));const{value1:Ln,value2:Cl}=$("pivot","pivotIndex");(Ln!==void 0||Cl!==void 0)&&(typeof Cl=="number"||Ln?(e.isPivotActive()||(e.setPivotActive(!0,b),_.addPivotCol(e)),d&&typeof Cl=="number"&&(d[e.getId()]=Cl)):e.isPivotActive()&&(e.setPivotActive(!1,b),_.removePivotCol(e)))}orderLiveColsLikeState(e){if(!e.applyOrder||!e.state)return;const o=[];e.state.forEach(a=>{a.colId!=null&&o.push(a.colId)}),this.columnModel.sortColsLikeKeys(o)}compareColumnStatesAndDispatchEvents(e){const o={rowGroupColumns:this.funcColsService.getRowGroupColumns().slice(),pivotColumns:this.funcColsService.getPivotColumns().slice(),valueColumns:this.funcColsService.getValueColumns().slice()},a=this.columnGetStateService.getColumnState(),c={};return a.forEach(d=>{c[d.colId]=d}),()=>{const d=this.columnModel.getAllCols(),g=(Ft,it,ot,Ln)=>{const Cl=it.map(Ln),Tl=ot.map(Ln);if(_areEqual(Cl,Tl))return;const In=new Set(it);ot.forEach(Dl=>{In.delete(Dl)||In.add(Dl)});const Ml=[...In];this.eventService.dispatchEvent({type:Ft,columns:Ml,column:Ml.length===1?Ml[0]:null,source:e})},b=Ft=>{const it=[];return d.forEach(ot=>{const Ln=c[ot.getColId()];Ln&&Ft(Ln,ot)&&it.push(ot)}),it},_=Ft=>Ft.getColId();g("columnRowGroupChanged",o.rowGroupColumns,this.funcColsService.getRowGroupColumns(),_),g("columnPivotChanged",o.pivotColumns,this.funcColsService.getPivotColumns(),_);const j=b((Ft,it)=>{const ot=Ft.aggFunc!=null,Ln=ot!=it.isValueActive(),Cl=ot&&Ft.aggFunc!=it.getAggFunc();return Ln||Cl});j.length>0&&this.eventDispatcher.columnChanged("columnValueChanged",j,e);const rt=(Ft,it)=>Ft.width!=it.getActualWidth();this.eventDispatcher.columnResized(b(rt),!0,e);const nt=(Ft,it)=>Ft.pinned!=it.getPinned();this.eventDispatcher.columnPinned(b(nt),e);const st=(Ft,it)=>Ft.hide==it.isVisible();this.eventDispatcher.columnVisible(b(st),e);const wl=b((Ft,it)=>Ft.sort!=it.getSort()||Ft.sortIndex!=it.getSortIndex());wl.length>0&&this.sortController.dispatchSortChangedEvents(e,wl),this.normaliseColumnMovedEventForColumnState(a,e)}}normaliseColumnMovedEventForColumnState(e,o){const a=this.columnGetStateService.getColumnState(),c={};a.forEach($=>c[$.colId]=$);const d={};e.forEach($=>{c[$.colId]&&(d[$.colId]=!0)});const g=e.filter($=>d[$.colId]),b=a.filter($=>d[$.colId]),_=[];b.forEach(($,j)=>{const rt=g&&g[j];if(rt&&rt.colId!==$.colId){const nt=this.columnModel.getCol(rt.colId);nt&&_.push(nt)}}),_.length&&this.eventDispatcher.columnMoved({movedColumns:_,source:o,finished:!0})}},comparatorByIndex=(e,o,a,c)=>{const d=e[a.getId()],g=e[c.getId()],b=d!=null,_=g!=null;if(b&&_)return d-g;if(b)return-1;if(_)return 1;const $=o.indexOf(a),j=o.indexOf(c),rt=$>=0,nt=j>=0;return rt&&nt?$-j:rt?-1:1},ColumnMoveService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnMoveService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher}moveColumnByIndex(e,o,a){const c=this.columnModel.getCols();if(!c)return;const d=c[e];this.moveColumns([d],o,a)}moveColumns(e,o,a,c=!0){const d=this.columnModel.getCols();if(!d)return;if(o>d.length-e.length){_warnOnce("tried to insert columns in invalid location, toIndex = ",o),_warnOnce("remember that you should not count the moving columns when calculating the new index");return}this.columnAnimationService.start();const g=this.columnModel.getColsForKeys(e);this.doesMovePassRules(g,o)&&(this.columnModel.moveInCols(g,o,a),this.eventDispatcher.columnMoved({movedColumns:g,source:a,toIndex:o,finished:c})),this.columnAnimationService.finish()}doesMovePassRules(e,o){const a=this.getProposedColumnOrder(e,o);return this.doesOrderPassRules(a)}doesOrderPassRules(e){return!(!this.doesMovePassMarryChildren(e)||!this.doesMovePassLockedPositions(e))}getProposedColumnOrder(e,o){const c=this.columnModel.getCols().slice();return _moveInArray(c,e,o),c}doesMovePassLockedPositions(e){const o=g=>g?g==="left"||g===!0?-1:1:0,a=this.gos.get("enableRtl");let c=a?1:-1,d=!0;return e.forEach(g=>{const b=o(g.getColDef().lockPosition);a?b>c&&(d=!1):b<c&&(d=!1),c=b}),d}doesMovePassMarryChildren(e){let o=!0;const a=this.columnModel.getColTree();return depthFirstOriginalTreeSearch(null,a,c=>{if(!isProvidedColumnGroup(c))return;const d=c,g=d.getColGroupDef();if(!(g&&g.marryChildren))return;const _=[];d.getLeafColumns().forEach(st=>{const jt=e.indexOf(st);_.push(jt)});const $=Math.max.apply(Math,_),j=Math.min.apply(Math,_),rt=$-j,nt=d.getLeafColumns().length-1;rt>nt&&(o=!1)}),o}placeLockedColumns(e){const o=[],a=[],c=[];return e.forEach(g=>{const b=g.getColDef().lockPosition;b==="right"?c.push(g):b==="left"||b===!0?o.push(g):a.push(g)}),this.gos.get("enableRtl")?[...c,...a,...o]:[...o,...a,...c]}},reUnescapedHtml=/[&<>"']/g,HTML_ESCAPES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _utf8_encode(e){const o=String.fromCharCode;function a(nt){const st=[];if(!nt)return[];const jt=nt.length;let wl=0,Ft,it;for(;wl<jt;)Ft=nt.charCodeAt(wl++),Ft>=55296&&Ft<=56319&&wl<jt?(it=nt.charCodeAt(wl++),(it&64512)==56320?st.push(((Ft&1023)<<10)+(it&1023)+65536):(st.push(Ft),wl--)):st.push(Ft);return st}function c(nt){if(nt>=55296&&nt<=57343)throw Error("Lone surrogate U+"+nt.toString(16).toUpperCase()+" is not a scalar value")}function d(nt,st){return o(nt>>st&63|128)}function g(nt){if(!(nt&4294967168))return o(nt);let st="";return nt&4294965248?nt&4294901760?nt&4292870144||(st=o(nt>>18&7|240),st+=d(nt,12),st+=d(nt,6)):(c(nt),st=o(nt>>12&15|224),st+=d(nt,6)):st=o(nt>>6&31|192),st+=o(nt&63|128),st}const b=a(e),_=b.length;let $=-1,j,rt="";for(;++$<_;)j=b[$],rt+=g(j);return rt}function _capitalise(e){return e[0].toUpperCase()+e.substring(1).toLowerCase()}function _escapeString(e,o){if(e==null)return null;const a=e.toString().toString();return o?a:a.replace(reUnescapedHtml,c=>HTML_ESCAPES[c])}function _camelCaseToHumanText(e){if(!e||e==null)return null;const o=/([a-z])([A-Z])/g,a=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(o,"$1 $2").replace(a,"$1 $2$3").replace(/\./g," ").split(" ").map(d=>d.substring(0,1).toUpperCase()+(d.length>1?d.substring(1,d.length):"")).join(" ")}function _camelCaseToHyphenated(e){return e.replace(/[A-Z]/g,o=>`-${o.toLocaleLowerCase()}`)}var ColumnNameService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnNameService"}wireBeans(e){this.expressionService=e.expressionService,this.funcColsService=e.funcColsService,this.columnModel=e.columnModel}getDisplayNameForColumn(e,o,a=!1){if(!e)return null;const c=this.getHeaderName(e.getColDef(),e,null,null,o);return a?this.wrapHeaderNameWithAggFunc(e,c):c}getDisplayNameForProvidedColumnGroup(e,o,a){const c=o?o.getColGroupDef():null;return c?this.getHeaderName(c,null,e,o,a):null}getDisplayNameForColumnGroup(e,o){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),o)}getHeaderName(e,o,a,c,d){const g=e.headerValueGetter;if(g){const b=this.gos.addGridCommonParams({colDef:e,column:o,columnGroup:a,providedColumnGroup:c,location:d});return typeof g=="function"?g(b):typeof g=="string"?this.expressionService.evaluate(g,b):(_warnOnce("headerValueGetter must be a function or a string"),"")}else{if(e.headerName!=null)return e.headerName;if(e.field)return _camelCaseToHumanText(e.field)}return""}wrapHeaderNameWithAggFunc(e,o){if(this.gos.get("suppressAggFuncInHeader"))return o;const a=e.getColDef().pivotValueColumn,c=_exists(a);let d=null,g;if(c){const b=this.funcColsService.getValueColumns(),_=this.gos.get("removePivotHeaderRowWhenSingleValueColumn")&&b.length===1,$=e.getColDef().pivotTotalColumnIds!==void 0;if(_&&!$)return o;d=a?a.getAggFunc():null,g=!0}else{const b=e.isValueActive(),_=this.columnModel.isPivotMode()||!this.funcColsService.isRowGroupEmpty();b&&_?(d=e.getAggFunc(),g=!0):g=!1}if(g){const b=typeof d=="string"?d:"func";return`${this.localeService.getLocaleTextFunc()(b,b)}(${o})`}return o}},PivotResultColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pivotResultColsService"}wireBeans(e){this.context=e.context,this.columnModel=e.columnModel,this.columnFactory=e.columnFactory,this.visibleColsService=e.visibleColsService}destroy(){var e;destroyColumnTree(this.context,(e=this.pivotResultCols)==null?void 0:e.tree),super.destroy()}isPivotResultColsPresent(){return this.pivotResultCols!=null}lookupPivotResultCol(e,o){if(this.pivotResultCols==null)return null;const a=this.columnModel.getColDefCol(o);let c=null;return this.pivotResultCols.list.forEach(d=>{const g=d.getColDef().pivotKeys,b=d.getColDef().pivotValueColumn;_areEqual(g,e)&&b===a&&(c=d)}),c}getPivotResultCols(){return this.pivotResultCols}getPivotResultCol(e){return this.pivotResultCols?this.columnModel.getColFromCollection(e,this.pivotResultCols):null}setPivotResultCols(e,o){var a,c;if(this.columnModel.isReady()&&!(e==null&&this.pivotResultCols==null)){if(e){this.processPivotResultColDef(e);const d=this.columnFactory.createColumnTree(e,!1,((a=this.pivotResultCols)==null?void 0:a.tree)||this.previousPivotResultCols||void 0,o);destroyColumnTree(this.context,(c=this.pivotResultCols)==null?void 0:c.tree,d.columnTree);const g=d.columnTree,b=d.treeDept,_=getColumnsFromTree(g),$={};this.pivotResultCols={tree:g,treeDepth:b,list:_,map:$},this.pivotResultCols.list.forEach(rt=>this.pivotResultCols.map[rt.getId()]=rt);const j=!!this.previousPivotResultCols;this.previousPivotResultCols=null,this.columnModel.refreshCols(!j)}else this.previousPivotResultCols=this.pivotResultCols?this.pivotResultCols.tree:null,this.pivotResultCols=null,this.columnModel.refreshCols(!1);this.visibleColsService.refresh(o)}}processPivotResultColDef(e){const o=this.gos.get("processPivotResultColDef"),a=this.gos.get("processPivotResultColGroupDef");if(!o&&!a)return;const c=d=>{d.forEach(g=>{if(_exists(g.children)){const _=g;a&&a(_),c(_.children)}else o&&o(g)})};e&&c(e)}},ColumnSizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnSizeService"}wireBeans(e){this.columnModel=e.columnModel,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}setColumnWidths(e,o,a,c){const d=[];e.forEach(g=>{const b=this.columnModel.getColDefCol(g.key)||this.columnModel.getCol(g.key);if(!b)return;if(d.push({width:g.newWidth,ratios:[1],columns:[b]}),this.gos.get("colResizeDefault")==="shift"&&(o=!o),o){const $=this.visibleColsService.getColAfter(b);if(!$)return;const j=b.getActualWidth()-g.newWidth,rt=$.getActualWidth()+j;d.push({width:rt,ratios:[1],columns:[$]})}}),d.length!==0&&this.resizeColumnSets({resizeSets:d,finished:a,source:c})}resizeColumnSets(e){const{resizeSets:o,finished:a,source:c}=e;if(!(!o||o.every(rt=>this.checkMinAndMaxWidthsForSet(rt)))){if(a){const rt=o&&o.length>0?o[0].columns:null;this.eventDispatcher.columnResized(rt,a,c)}return}const g=[],b=[];o.forEach(rt=>{const{width:nt,columns:st,ratios:jt}=rt,wl={},Ft={};st.forEach(Ln=>b.push(Ln));let it=!0,ot=0;for(;it;){if(ot++,ot>1e3){_errorOnce("infinite loop in resizeColumnSets");break}it=!1;const Ln=[];let Cl=0,Tl=nt;st.forEach((In,Ml)=>{if(Ft[In.getId()])Tl-=wl[In.getId()];else{Ln.push(In);const Ul=jt[Ml];Cl+=Ul}});const zl=1/Cl;Ln.forEach((In,Ml)=>{const Dl=Ml===Ln.length-1;let Ul;Dl?Ul=Tl:(Ul=Math.round(jt[Ml]*nt*zl),Tl-=Ul);const Vl=In.getMinWidth(),mu=In.getMaxWidth();Ul<Vl?(Ul=Vl,Ft[In.getId()]=!0,it=!0):mu>0&&Ul>mu&&(Ul=mu,Ft[In.getId()]=!0,it=!0),wl[In.getId()]=Ul})}st.forEach(Ln=>{const Cl=wl[Ln.getId()];Ln.getActualWidth()!==Cl&&(Ln.setActualWidth(Cl,c),g.push(Ln))})});const _=g.length>0;let $=[];_&&($=this.refreshFlexedColumns({resizingCols:b,skipSetLeft:!0}),this.visibleColsService.setLeftValues(c),this.visibleColsService.updateBodyWidths(),this.columnViewportService.checkViewportColumns());const j=b.concat($);(_||a)&&this.eventDispatcher.columnResized(j,a,c,$)}checkMinAndMaxWidthsForSet(e){const{columns:o,width:a}=e;let c=0,d=0,g=!0;o.forEach($=>{const j=$.getMinWidth();c+=j||0;const rt=$.getMaxWidth();rt>0?d+=rt:g=!1});const b=a>=c,_=!g||a<=d;return b&&_}refreshFlexedColumns(e={}){const o=e.source?e.source:"flex";if(e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth),!this.flexViewportWidth)return[];const a=this.visibleColsService.getCenterCols();let c=-1;if(e.resizingCols){const st=new Set(e.resizingCols);for(let jt=a.length-1;jt>=0;jt--)if(st.has(a[jt])){c=jt;break}}let d=0,g=[],b=0,_=0;for(let st=0;st<a.length;st++)a[st].getFlex()&&st>c?(g.push(a[st]),_+=a[st].getFlex(),b+=a[st].getMinWidth()):d+=a[st].getActualWidth();if(!g.length)return[];let $=[];d+b>this.flexViewportWidth&&(g.forEach(st=>st.setActualWidth(st.getMinWidth(),o)),$=g,g=[]);const j=[];let rt;e:for(;;){rt=this.flexViewportWidth-d;const st=rt/_;for(let jt=0;jt<g.length;jt++){const wl=g[jt],Ft=st*wl.getFlex();let it=0;const ot=wl.getMinWidth(),Ln=wl.getMaxWidth();if(Ft<ot?it=ot:Ft>Ln&&(it=Ln),it){wl.setActualWidth(it,o),_removeFromUnorderedArray(g,wl),_-=wl.getFlex(),$.push(wl),d+=wl.getActualWidth();continue e}j[jt]=Math.floor(Ft)}break}let nt=rt;return g.forEach((st,jt)=>{const wl=jt<g.length-1?Math.min(j[jt],nt):Math.max(j[jt],nt);st.setActualWidth(wl,o),$.push(st),nt-=j[jt]}),e.skipSetLeft||this.visibleColsService.setLeftValues(o),e.updateBodyWidths&&this.visibleColsService.updateBodyWidths(),e.fireResizedEvent&&this.eventDispatcher.columnResized($,!0,o,g),g}sizeColumnsToFit(e,o="sizeColumnsToFit",a,c){var st;if(this.columnModel.isShouldQueueResizeOperations()){this.columnModel.pushResizeOperation(()=>this.sizeColumnsToFit(e,o,a,c));return}const d={};c&&((st=c==null?void 0:c.columnLimits)==null||st.forEach(({key:jt,...wl})=>{d[typeof jt=="string"?jt:jt.getColId()]=wl}));const g=this.visibleColsService.getAllCols(),b=e===getWidthOfColsInList(g);if(e<=0||!g.length||b)return;const _=[],$=[];g.forEach(jt=>{jt.getColDef().suppressSizeToFit===!0?$.push(jt):_.push(jt)});const j=_.slice(0);let rt=!1;const nt=jt=>{_removeFromArray(_,jt),$.push(jt)};for(_.forEach(jt=>{jt.resetActualWidth(o);const wl=d==null?void 0:d[jt.getId()],Ft=(wl==null?void 0:wl.minWidth)??(c==null?void 0:c.defaultMinWidth),it=(wl==null?void 0:wl.maxWidth)??(c==null?void 0:c.defaultMaxWidth),ot=jt.getActualWidth();typeof Ft=="number"&&ot<Ft?jt.setActualWidth(Ft,o,!0):typeof it=="number"&&ot>it&&jt.setActualWidth(it,o,!0)});!rt;){rt=!0;const jt=e-getWidthOfColsInList($);if(jt<=0)_.forEach(wl=>{var it;const Ft=((it=d==null?void 0:d[wl.getId()])==null?void 0:it.minWidth)??(c==null?void 0:c.defaultMinWidth);if(typeof Ft=="number"){wl.setActualWidth(Ft,o,!0);return}wl.setMinimum(o)});else{const wl=jt/getWidthOfColsInList(_);let Ft=jt;for(let it=_.length-1;it>=0;it--){const ot=_[it],Ln=d==null?void 0:d[ot.getId()],Cl=(Ln==null?void 0:Ln.minWidth)??(c==null?void 0:c.defaultMinWidth),Tl=(Ln==null?void 0:Ln.maxWidth)??(c==null?void 0:c.defaultMaxWidth),zl=ot.getMinWidth(),In=ot.getMaxWidth(),Ml=typeof Cl=="number"&&Cl>zl?Cl:zl,Dl=typeof Tl=="number"&&Tl<In?Tl:In;let Ul=Math.round(ot.getActualWidth()*wl);Ul<Ml?(Ul=Ml,nt(ot),rt=!1):Ul>Dl?(Ul=Dl,nt(ot),rt=!1):it===0&&(Ul=Ft),ot.setActualWidth(Ul,o,!0),Ft-=Ul}}}j.forEach(jt=>{jt.fireColumnWidthChangedEvent(o)}),this.visibleColsService.setLeftValues(o),this.visibleColsService.updateBodyWidths(),!a&&this.eventDispatcher.columnResized(j,!0,o)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:o}=e;setTimeout(()=>{if(o==="fitGridWidth"){const{columnLimits:a,defaultMinWidth:c,defaultMaxWidth:d}=e,g=a==null?void 0:a.map(({colId:b,minWidth:_,maxWidth:$})=>({key:b,minWidth:_,maxWidth:$}));this.ctrlsService.getGridBodyCtrl().sizeColumnsToFit({defaultMinWidth:c,defaultMaxWidth:d,columnLimits:g})}else o==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}};function createUniqueColumnGroupId(e,o){return e+"_"+o}function isColumnGroup(e){return e instanceof AgColumnGroup}var AgColumnGroup=class extends BeanStub{constructor(e,o,a,c){super(),this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null,this.groupId=o,this.partId=a,this.providedColumnGroup=e,this.pinned=c}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}setParent(e){this.parent=e}getUniqueId(){return createUniqueColumnGroupId(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(o=>o.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{isColumnGroup(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const o=_last(this.displayedChildren).getLeft();this.setLeft(o)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){let e=0;return this.displayedChildren&&this.displayedChildren.forEach(o=>{e+=o.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(o=>{o.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(o=>{e+=o.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const o=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,o}addDisplayedLeafColumns(e){this.displayedChildren.forEach(o=>{isColumn(o)?e.push(o):isColumnGroup(o)&&o.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(o=>{isColumn(o)?e.push(o):isColumnGroup(o)&&o.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(a=>{if(isColumnGroup(a)&&(!a.displayedChildren||!a.displayedChildren.length))return;switch(a.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(a);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(a);break;default:this.displayedChildren.push(a);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},GroupInstanceIdCreator=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const o=this.existingIds[e];let a;return typeof o!="number"?a=0:a=o+1,this.existingIds[e]=a,a}},VisibleColsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="visibleColsService",this.colsAndGroupsMap={},this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.bodyWidthDirty=!0}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.columnViewportService=e.columnViewportService,this.eventDispatcher=e.columnEventDispatcher}refresh(e,o=!1){o||this.buildTrees(),this.updateOpenClosedVisibilityInColumnGroups(),this.columnsLeft=pickDisplayedCols(this.treeLeft),this.columnsCenter=pickDisplayedCols(this.treeCenter),this.columnsRight=pickDisplayedCols(this.treeRight),this.joinColsAriaOrder(),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.columns.filter(a=>a.isAutoHeight()),this.columnSizeService.refreshFlexedColumns(),this.updateBodyWidths(),this.columnViewportService.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(e),this.eventDispatcher.visibleCols(e)}updateBodyWidths(){const e=getWidthOfColsInList(this.columnsCenter),o=getWidthOfColsInList(this.columnsLeft),a=getWidthOfColsInList(this.columnsRight);this.bodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==o||this.rightWidth!==a)&&(this.bodyWidth=e,this.leftWidth=o,this.rightWidth=a,this.eventService.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventService.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e){let o,a;this.gos.get("enableRtl")?(o=this.columnsLeft?this.columnsLeft[0]:null,a=this.columnsRight?_last(this.columnsRight):null):(o=this.columnsLeft?_last(this.columnsLeft):null,a=this.columnsRight?this.columnsRight[0]:null),this.columnModel.getCols().forEach(c=>{c.setLastLeftPinned(c===o,e),c.setFirstRightPinned(c===a,e)})}buildTrees(){const e=this.columnModel.getColsToShow(),o=e.filter(g=>g.getPinned()=="left"),a=e.filter(g=>g.getPinned()=="right"),c=e.filter(g=>g.getPinned()!="left"&&g.getPinned()!="right"),d=new GroupInstanceIdCreator;this.treeLeft=this.createGroups({columns:o,idCreator:d,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=this.createGroups({columns:a,idCreator:d,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=this.createGroups({columns:c,idCreator:d,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.columnsLeft=[],this.columnsRight=[],this.columnsCenter=[],this.columns=[],this.ariaOrderColumns=[]}joinColsAriaOrder(){const e=this.columnModel.getCols(),o=[],a=[],c=[];for(const d of e){const g=d.getPinned();g?g===!0||g==="left"?o.push(d):c.push(d):a.push(d)}this.ariaOrderColumns=o.concat(a).concat(c)}getAriaColIndex(e){let o;return isColumnGroup(e)?o=e.getLeafColumns()[0]:o=e,this.ariaOrderColumns.indexOf(o)+1}getAllAutoHeightCols(){return this.autoHeightCols}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(o=>{isColumnGroup(o)&&o.checkLeft()})})}setLeftValuesOfCols(e){if(!this.columnModel.getColDefCols())return;const a=this.columnModel.getCols().slice(0),c=this.gos.get("enableRtl");[this.columnsLeft,this.columnsRight,this.columnsCenter].forEach(d=>{if(c){let g=getWidthOfColsInList(d);d.forEach(b=>{g-=b.getActualWidth(),b.setLeft(g,e)})}else{let g=0;d.forEach(b=>{b.setLeft(g,e),g+=b.getActualWidth()})}_removeAllFromUnorderedArray(a,d)}),a.forEach(d=>{d.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.columns=this.columnsRight.concat(this.columnsCenter).concat(this.columnsLeft):this.columns=this.columnsLeft.concat(this.columnsCenter).concat(this.columnsRight)}getColsCenter(){return this.columnsCenter}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}getTreeLeft(){return this.treeLeft}getTreeRight(){return this.treeRight}getTreeCenter(){return this.treeCenter}getAllCols(){return this.columns}isColDisplayed(e){return this.getAllCols().indexOf(e)>=0}getLeftColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsLeft):this.columnsLeft}getRightColsForRow(e){return this.columnModel.isColSpanActive()?this.getColsForRow(e,this.columnsRight):this.columnsRight}getColsForRow(e,o,a,c){const d=[];let g=null;for(let b=0;b<o.length;b++){const _=o[b],$=o.length-b,j=Math.min(_.getColSpan(e),$),rt=[_];if(j>1){const st=j-1;for(let jt=1;jt<=st;jt++)rt.push(o[b+jt]);b+=st}let nt;a?(nt=!1,rt.forEach(st=>{a(st)&&(nt=!0)})):nt=!0,nt&&(d.length===0&&g&&(c&&c(_))&&d.push(g),d.push(_)),g=_}return d}getBodyContainerWidth(){return this.bodyWidth}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getCenterCols(){return this.columnsCenter}getLeftCols(){return this.columnsLeft}getRightCols(){return this.columnsRight}getColBefore(e){const o=this.getAllCols(),a=o.indexOf(e);return a>0?o[a-1]:null}getGroupAtDirection(e,o){const a=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),c=e.getDisplayedLeafColumns(),d=o==="After"?_last(c):c[0],g=`getCol${o}`;for(;;){const b=this[g](d);if(!b)return null;const _=this.getColGroupAtLevel(b,a);if(_!==e)return _}}getColGroupAtLevel(e,o){let a=e.getParent(),c,d;for(;c=a.getProvidedColumnGroup().getLevel(),d=a.getPaddingLevel(),!(c+d<=o);)a=a.getParent();return a}isPinningLeft(){return this.columnsLeft.length>0}isPinningRight(){return this.columnsRight.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=o=>{this.colsAndGroupsMap[o.getUniqueId()]=o};depthFirstAllColumnTreeSearch(this.treeCenter,!1,e),depthFirstAllColumnTreeSearch(this.treeLeft,!1,e),depthFirstAllColumnTreeSearch(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}updateOpenClosedVisibilityInColumnGroups(){const e=this.getAllTrees();depthFirstAllColumnTreeSearch(e,!1,o=>{isColumnGroup(o)&&o.calculateDisplayedColumns()})}getFirstColumn(){const e=this.gos.get("enableRtl"),o=["getLeftCols","getCenterCols","getRightCols"];e&&o.reverse();for(let a=0;a<o.length;a++){const c=this[o[a]]();if(c.length)return e?_last(c):c[0]}return null}getColumnGroup(e,o){if(!e)return null;if(isColumnGroup(e))return e;const a=this.getAllTrees(),c=typeof o=="number";let d=null;return depthFirstAllColumnTreeSearch(a,!1,g=>{if(isColumnGroup(g)){const b=g;let _;c?_=e===b.getGroupId()&&o===b.getPartId():_=e===b.getGroupId(),_&&(d=b)}}),d}getColAfter(e){const o=this.getAllCols(),a=o.indexOf(e);return a<o.length-1?o[a+1]:null}isBodyWidthDirty(){return this.bodyWidthDirty}setBodyWidthDirty(){this.bodyWidthDirty=!0}getColsLeftWidth(){return getWidthOfColsInList(this.columnsLeft)}getDisplayedColumnsRightWidth(){return getWidthOfColsInList(this.columnsRight)}isColAtEdge(e,o){const a=this.getAllCols();if(!a.length)return!1;const c=o==="first";let d;if(isColumnGroup(e)){const g=e.getDisplayedLeafColumns();if(!g.length)return!1;d=c?g[0]:_last(g)}else d=e;return(c?a[0]:_last(a))===d}createGroups(e){const{columns:o,idCreator:a,pinned:c,oldDisplayedGroups:d,isStandaloneStructure:g}=e,b=this.mapOldGroupsById(d),_=[];let $=o;for(;$.length;){const j=$;$=[];let rt=0;const nt=st=>{const jt=rt;rt=st;const wl=j[jt],it=(isColumnGroup(wl)?wl.getProvidedColumnGroup():wl).getOriginalParent();if(it==null){for(let Ln=jt;Ln<st;Ln++)_.push(j[Ln]);return}const ot=this.createColGroup(it,a,b,c,g);for(let Ln=jt;Ln<st;Ln++)ot.addChild(j[Ln]);$.push(ot)};for(let st=1;st<j.length;st++){const jt=j[st],Ft=(isColumnGroup(jt)?jt.getProvidedColumnGroup():jt).getOriginalParent(),it=j[rt],Ln=(isColumnGroup(it)?it.getProvidedColumnGroup():it).getOriginalParent();Ft!==Ln&&nt(st)}rt<j.length&&nt(j.length)}return g||this.setupParentsIntoCols(_,null),_}createColGroup(e,o,a,c,d){const g=e.getGroupId(),b=o.getInstanceIdForKey(g),_=createUniqueColumnGroupId(g,b);let $=a[_];return $&&$.getProvidedColumnGroup()!==e&&($=null),_exists($)?$.reset():($=new AgColumnGroup(e,g,b,c),d||this.createBean($)),$}mapOldGroupsById(e){const o={},a=c=>{c.forEach(d=>{if(isColumnGroup(d)){const g=d;o[d.getUniqueId()]=g,a(g.getChildren())}})};return e&&a(e),o}setupParentsIntoCols(e,o){e.forEach(a=>{if(a.setParent(o),isColumnGroup(a)){const c=a;this.setupParentsIntoCols(c.getChildren(),c)}})}};function depthFirstAllColumnTreeSearch(e,o,a){if(e)for(let c=0;c<e.length;c++){const d=e[c];if(isColumnGroup(d)){const g=o?d.getDisplayedChildren():d.getChildren();depthFirstAllColumnTreeSearch(g,o,a)}a(d)}}function pickDisplayedCols(e){const o=[];return depthFirstAllColumnTreeSearch(e,!0,a=>{isColumn(a)&&o.push(a)}),o}var PUBLIC_EVENTS=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel"],INTERNAL_EVENTS=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged"],ALL_EVENTS=[...PUBLIC_EVENTS,...INTERNAL_EVENTS],INITIAL_GRID_OPTION_KEYS={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,advancedFilterModel:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressAsyncEvents:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,suppressAggFuncInHeader:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,suppressGroupMaintainValueType:!0,groupLockGroupColumns:!0,rowGroupPanelSuppressSort:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,suppressServerSideInfiniteScroll:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0},_PropertyKeys=class{};_PropertyKeys.STRING_PROPERTIES=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow"];_PropertyKeys.OBJECT_PROPERTIES=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","statusBar","sideBar","theme","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterModel","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","cellSelection","selectionColumnDef"];_PropertyKeys.ARRAY_PROPERTIES=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"];_PropertyKeys.NUMBER_PROPERTIES=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDelay","cellFadeDelay","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"];_PropertyKeys.BOOLEAN_PROPERTIES=["suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupIncludeTotalFooter","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","suppressAsyncEvents","allowContextMenuWithControlKey","suppressContextMenu","enableCellChangeFlash","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","serverSideSortOnServer","serverSideFilterOnServer","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","suppressServerSideInfiniteScroll","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","suppressGroupMaintainValueType","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"];_PropertyKeys.OTHER_PROPERTIES=["suppressStickyTotalRow","loadThemeGoogleFonts","rowSelection"];_PropertyKeys.FUNCTION_PROPERTIES=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","groupIncludeFooter","loadingCellRendererSelector","getRowId","groupAggFiltering","chartMenuItems","groupTotalRow"];_PropertyKeys.ALL_PROPERTIES=[..._PropertyKeys.ARRAY_PROPERTIES,..._PropertyKeys.OBJECT_PROPERTIES,..._PropertyKeys.STRING_PROPERTIES,..._PropertyKeys.NUMBER_PROPERTIES,..._PropertyKeys.FUNCTION_PROPERTIES,..._PropertyKeys.BOOLEAN_PROPERTIES,..._PropertyKeys.OTHER_PROPERTIES];var PropertyKeys=_PropertyKeys,_ComponentUtil=class{static getCallbackForEvent(o){return!o||o.length<2?o:"on"+o[0].toUpperCase()+o.substring(1)}};_ComponentUtil.VUE_OMITTED_PROPERTY="AG-VUE-OMITTED-PROPERTY";_ComponentUtil.PUBLIC_EVENTS=PUBLIC_EVENTS;_ComponentUtil.EVENT_CALLBACKS=ALL_EVENTS.map(e=>_ComponentUtil.getCallbackForEvent(e));_ComponentUtil.BOOLEAN_PROPERTIES=PropertyKeys.BOOLEAN_PROPERTIES;_ComponentUtil.ALL_PROPERTIES=PropertyKeys.ALL_PROPERTIES;_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS=[..._ComponentUtil.ALL_PROPERTIES,..._ComponentUtil.EVENT_CALLBACKS];_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS_SET=new Set(_ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS);var ComponentUtil=_ComponentUtil;function _combineAttributesAndGridOptions(e,o){typeof e!="object"&&(e={});const a={...e};return ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS.forEach(d=>{const g=o[d];typeof g<"u"&&g!==ComponentUtil.VUE_OMITTED_PROPERTY&&(a[d]=g)}),a}function _processOnChange(e,o){if(!e)return;const a={};let c=!1;if(Object.keys(e).filter(b=>ComponentUtil.ALL_PROPERTIES_AND_CALLBACKS_SET.has(b)).forEach(b=>{a[b]=e[b],c=!0}),!c)return;const d={type:"gridOptionsChanged",options:a};o.dispatchEvent(d);const g={type:"componentStateChanged"};_iterateObject(a,(b,_)=>{g[b]=_}),o.dispatchEvent(g)}var EmptyBean=class extends BeanStub{};function setupCompBean(e,o,a){return a&&e.addDestroyFunc(()=>o.destroyBean(a)),a??e}var CssClassManager=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){const o=(e||"").split(" ");if(o.length>1){o.forEach(c=>this.addCssClass(c));return}if(this.cssClassStates[e]!==!0&&e.length){const c=this.getGui();c&&c.classList.add(e),this.cssClassStates[e]=!0}}removeCssClass(e){const o=(e||"").split(" ");if(o.length>1){o.forEach(c=>this.removeCssClass(c));return}if(this.cssClassStates[e]!==!1&&e.length){const c=this.getGui();c&&c.classList.remove(e),this.cssClassStates[e]=!1}}containsCssClass(e){const o=this.getGui();return o?o.classList.contains(e):!1}addOrRemoveCssClass(e,o){if(!e)return;if(e.indexOf(" ")>=0){const c=(e||"").split(" ");if(c.length>1){c.forEach(d=>this.addOrRemoveCssClass(d,o));return}}if(this.cssClassStates[e]!==o&&e.length){const c=this.getGui();c&&c.classList.toggle(e,o),this.cssClassStates[e]=o}}};function _toggleAriaAttribute(e,o,a){a==null||typeof a=="string"&&a==""?_removeAriaAttribute(e,o):_setAriaAttribute(e,o,a)}function _setAriaAttribute(e,o,a){e.setAttribute(_ariaAttributeName(o),a.toString())}function _removeAriaAttribute(e,o){e.removeAttribute(_ariaAttributeName(o))}function _ariaAttributeName(e){return`aria-${e}`}function _setAriaRole(e,o){o?e.setAttribute("role",o):e.removeAttribute("role")}function _getAriaSortState(e){let o;return e==="asc"?o="ascending":e==="desc"?o="descending":e==="mixed"?o="other":o="none",o}function _getAriaPosInSet(e){return parseInt(e.getAttribute("aria-posinset"),10)}function _getAriaLabel(e){return e.getAttribute("aria-label")}function _setAriaLabel(e,o){_toggleAriaAttribute(e,"label",o)}function _setAriaLabelledBy(e,o){_toggleAriaAttribute(e,"labelledby",o)}function _setAriaDescribedBy(e,o){_toggleAriaAttribute(e,"describedby",o)}function _setAriaLive(e,o){_toggleAriaAttribute(e,"live",o)}function _setAriaAtomic(e,o){_toggleAriaAttribute(e,"atomic",o)}function _setAriaRelevant(e,o){_toggleAriaAttribute(e,"relevant",o)}function _setAriaLevel(e,o){_toggleAriaAttribute(e,"level",o)}function _setAriaDisabled(e,o){_toggleAriaAttribute(e,"disabled",o)}function _setAriaHidden(e,o){_toggleAriaAttribute(e,"hidden",o)}function _setAriaActiveDescendant(e,o){_toggleAriaAttribute(e,"activedescendant",o)}function _setAriaExpanded(e,o){_setAriaAttribute(e,"expanded",o)}function _removeAriaExpanded(e){_removeAriaAttribute(e,"expanded")}function _setAriaSetSize(e,o){_setAriaAttribute(e,"setsize",o)}function _setAriaPosInSet(e,o){_setAriaAttribute(e,"posinset",o)}function _setAriaMultiSelectable(e,o){_setAriaAttribute(e,"multiselectable",o)}function _setAriaRowCount(e,o){_setAriaAttribute(e,"rowcount",o)}function _setAriaRowIndex(e,o){_setAriaAttribute(e,"rowindex",o)}function _setAriaColCount(e,o){_setAriaAttribute(e,"colcount",o)}function _setAriaColIndex(e,o){_setAriaAttribute(e,"colindex",o)}function _setAriaColSpan(e,o){_setAriaAttribute(e,"colspan",o)}function _setAriaSort(e,o){_setAriaAttribute(e,"sort",o)}function _removeAriaSort(e){_removeAriaAttribute(e,"sort")}function _setAriaSelected(e,o){_toggleAriaAttribute(e,"selected",o)}function _setAriaChecked(e,o){_setAriaAttribute(e,"checked",o===void 0?"mixed":o)}function _setAriaControls(e,o){_toggleAriaAttribute(e,"controls",o.id),_setAriaLabelledBy(o,e.id)}function _getAriaCheckboxStateName(e,o){return o===void 0?e("ariaIndeterminate","indeterminate"):o===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}function _radioCssClass(e,o,a){const c=e.parentElement;let d=c&&c.firstChild;for(;d;)o&&d.classList.toggle(o,d===e),a&&d.classList.toggle(a,d!==e),d=d.nextSibling}var FOCUSABLE_SELECTOR="[tabindex], input, select, button, textarea, [href]",FOCUSABLE_EXCLUDE="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function _isFocusableFormField(e){const o=Element.prototype.matches||Element.prototype.msMatchesSelector,c=o.call(e,"input, select, button, textarea"),d=o.call(e,FOCUSABLE_EXCLUDE),g=_isVisible(e);return c&&!d&&g}function _setDisplayed(e,o,a={}){const{skipAriaHidden:c}=a;e.classList.toggle("ag-hidden",!o),c||_setAriaHidden(e,!o)}function _setVisible(e,o,a={}){const{skipAriaHidden:c}=a;e.classList.toggle("ag-invisible",!o),c||_setAriaHidden(e,!o)}function _setDisabled(e,o){const a="disabled",c=o?d=>d.setAttribute(a,""):d=>d.removeAttribute(a);c(e),_nodeListForEach(e.querySelectorAll("input"),d=>c(d))}function _isElementChildOfClass(e,o,a){let c=0;for(;e;){if(e.classList.contains(o))return!0;if(e=e.parentElement,typeof a=="number"){if(++c>a)break}else if(e===a)break}return!1}function _getElementSize(e){const{height:o,width:a,borderTopWidth:c,borderRightWidth:d,borderBottomWidth:g,borderLeftWidth:b,paddingTop:_,paddingRight:$,paddingBottom:j,paddingLeft:rt,marginTop:nt,marginRight:st,marginBottom:jt,marginLeft:wl,boxSizing:Ft}=window.getComputedStyle(e);return{height:parseFloat(o||"0"),width:parseFloat(a||"0"),borderTopWidth:parseFloat(c||"0"),borderRightWidth:parseFloat(d||"0"),borderBottomWidth:parseFloat(g||"0"),borderLeftWidth:parseFloat(b||"0"),paddingTop:parseFloat(_||"0"),paddingRight:parseFloat($||"0"),paddingBottom:parseFloat(j||"0"),paddingLeft:parseFloat(rt||"0"),marginTop:parseFloat(nt||"0"),marginRight:parseFloat(st||"0"),marginBottom:parseFloat(jt||"0"),marginLeft:parseFloat(wl||"0"),boxSizing:Ft}}function _getInnerHeight(e){const o=_getElementSize(e);return o.boxSizing==="border-box"?o.height-o.paddingTop-o.paddingBottom:o.height}function _getInnerWidth(e){const o=_getElementSize(e);return o.boxSizing==="border-box"?o.width-o.paddingLeft-o.paddingRight:o.width}function _getAbsoluteHeight(e){const{height:o,marginBottom:a,marginTop:c}=_getElementSize(e);return Math.floor(o+a+c)}function _getAbsoluteWidth(e){const{width:o,marginLeft:a,marginRight:c}=_getElementSize(e);return Math.floor(o+a+c)}function _getElementRectWithOffset(e){const o=e.getBoundingClientRect(),{borderTopWidth:a,borderLeftWidth:c,borderRightWidth:d,borderBottomWidth:g}=_getElementSize(e);return{top:o.top+(a||0),left:o.left+(c||0),right:o.right+(d||0),bottom:o.bottom+(g||0)}}function _getScrollLeft(e,o){let a=e.scrollLeft;return o&&(a=Math.abs(a)),a}function _setScrollLeft(e,o,a){a&&(o*=-1),e.scrollLeft=o}function _clearElement(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function _removeFromParent(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function _isInDOM(e){return!!e.offsetParent}function _isVisible(e){const o=e;return o.checkVisibility?o.checkVisibility({checkVisibilityCSS:!0}):!(!_isInDOM(e)||window.getComputedStyle(e).visibility!=="visible")}function _loadTemplate(e){const o=document.createElement("div");return o.innerHTML=(e||"").trim(),o.firstChild}function _ensureDomOrder(e,o,a){a&&a.nextSibling===o||(e.firstChild?a?a.nextSibling?e.insertBefore(o,a.nextSibling):e.appendChild(o):e.firstChild&&e.firstChild!==o&&e.insertAdjacentElement("afterbegin",o):e.appendChild(o))}function _setDomChildOrder(e,o){for(let a=0;a<o.length;a++){const c=o[a],d=e.children[a];d!==c&&e.insertBefore(c,d)}}function _addStylesToElement(e,o){if(o)for(const[a,c]of Object.entries(o)){if(!a||!a.length||c==null)continue;const d=_camelCaseToHyphenated(a),g=c.toString(),b=g.replace(/\s*!important/g,""),_=b.length!=g.length?"important":void 0;e.style.setProperty(d,b,_)}}function _isHorizontalScrollShowing(e){return e.clientWidth<e.scrollWidth}function _isVerticalScrollShowing(e){return e.clientHeight<e.scrollHeight}function _setElementWidth(e,o){o==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):_setFixedWidth(e,o)}function _setFixedWidth(e,o){o=_formatSize(o),e.style.width=o.toString(),e.style.maxWidth=o.toString(),e.style.minWidth=o.toString()}function _setFixedHeight(e,o){o=_formatSize(o),e.style.height=o.toString(),e.style.maxHeight=o.toString(),e.style.minHeight=o.toString()}function _formatSize(e){return typeof e=="number"?`${e}px`:e}function _isNodeOrElement(e){return e instanceof Node||e instanceof HTMLElement}function _copyNodeList(e){if(e==null)return[];const o=[];return _nodeListForEach(e,a=>o.push(a)),o}function _iterateNamedNodeMap(e,o){if(e)for(let a=0;a<e.length;a++){const c=e[a];o(c.name,c.value)}}function _addOrRemoveAttribute(e,o,a){a==null||a===""?e.removeAttribute(o):e.setAttribute(o,a.toString())}function _nodeListForEach(e,o){if(e!=null)for(let a=0;a<e.length;a++)o(e[a])}function _bindCellRendererToHtmlElement(e,o){e.then(a=>{const c=a.getGui();c!=null&&(typeof c=="object"?o.appendChild(c):o.innerHTML=c)})}var NumberSequence=class{constructor(e=0,o=1){this.nextValue=e,this.step=o}next(){const e=this.nextValue;return this.nextValue+=this.step,e}peek(){return this.nextValue}skip(e){this.nextValue+=e}},isSafari,safariVersion,isChrome,isFirefox,isMacOs,isIOS,invisibleScrollbar,browserScrollbarWidth,maxDivHeight;function _isBrowserSafari(){return isSafari===void 0&&(isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),isSafari}function _getSafariVersion(){if(safariVersion===void 0)if(_isBrowserSafari()){const e=navigator.userAgent.match(/version\/(\d+)/i);e&&(safariVersion=e[1]!=null?parseFloat(e[1]):0)}else safariVersion=0;return safariVersion}function _isBrowserChrome(){if(isChrome===void 0){const e=window;isChrome=!!e.chrome&&(!!e.chrome.webstore||!!e.chrome.runtime)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}return isChrome}function _isBrowserFirefox(){return isFirefox===void 0&&(isFirefox=/(firefox)/i.test(navigator.userAgent)),isFirefox}function _isMacOsUserAgent(){return isMacOs===void 0&&(isMacOs=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),isMacOs}function _isIOSUserAgent(){return isIOS===void 0&&(isIOS=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),isIOS}function _browserSupportsPreventScroll(){return!_isBrowserSafari()||_getSafariVersion()>=15}function _getTabIndex(e){if(!e)return null;const o=e.tabIndex,a=e.getAttribute("tabIndex");return o===-1&&(a===null||a===""&&!_isBrowserFirefox())?null:o.toString()}function _getMaxDivHeight(){if(maxDivHeight!==void 0)return maxDivHeight;if(!document.body)return-1;let e=1e6;const o=_isBrowserFirefox()?6e6:1e9,a=document.createElement("div");for(document.body.appendChild(a);;){const c=e*2;if(a.style.height=c+"px",c>o||a.clientHeight!==c)break;e=c}return document.body.removeChild(a),maxDivHeight=e,e}function _getBodyWidth(){var e,o;return((e=document.body)==null?void 0:e.clientWidth)??(window.innerHeight||((o=document.documentElement)==null?void 0:o.clientWidth)||-1)}function _getBodyHeight(){var e,o;return((e=document.body)==null?void 0:e.clientHeight)??(window.innerHeight||((o=document.documentElement)==null?void 0:o.clientHeight)||-1)}function _getScrollbarWidth(){return browserScrollbarWidth==null&&initScrollbarWidthAndVisibility(),browserScrollbarWidth}function initScrollbarWidthAndVisibility(){const e=document.body,o=document.createElement("div");o.style.width=o.style.height="100px",o.style.opacity="0",o.style.overflow="scroll",o.style.msOverflowStyle="scrollbar",o.style.position="absolute",e.appendChild(o);let a=o.offsetWidth-o.clientWidth;a===0&&o.clientWidth===0&&(a=null),o.parentNode&&o.parentNode.removeChild(o),a!=null&&(browserScrollbarWidth=a,invisibleScrollbar=a===0)}function _isInvisibleScrollbar(){return invisibleScrollbar==null&&initScrollbarWidthAndVisibility(),invisibleScrollbar}var SHOW_QUICK_TOOLTIP_DIFF=1e3,FADE_OUT_TOOLTIP_TIMEOUT=1e3,INTERACTIVE_HIDE_DELAY=100,_TooltipStateManager=class z2 extends BeanStub{constructor(o,a,c,d){super(),this.parentComp=o,this.tooltipShowDelayOverride=a,this.tooltipHideDelayOverride=c,this.shouldDisplayTooltip=d,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(o){this.popupService=o.popupService,this.userComponentFactory=o.userComponentFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const o=this.parentComp.getGui();this.tooltipTrigger===0&&this.addManagedListeners(o,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(o,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(o,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(o,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(o){const a=this.gos.get(o);return a<0&&_warnOnce(`${o} should not be lower than 0`),Math.max(200,a)}getTooltipDelay(o){return o==="show"?this.tooltipShowDelayOverride??this.getGridOptionsTooltipDelay("tooltipShowDelay"):this.tooltipHideDelayOverride??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const o=this.gos.get("tooltipTrigger");return!o||o==="hover"?0:1}onMouseEnter(o){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!_isIOSUserAgent()&&(z2.isLocked?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(o)},INTERACTIVE_HIDE_DELAY):this.prepareToShowTooltip(o))}onMouseMove(o){this.lastMouseEvent&&(this.lastMouseEvent=o),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(o){var g;const a=o.relatedTarget,c=this.parentComp.getGui(),d=(g=this.tooltipComp)==null?void 0:g.getGui();this.isInteractingWithTooltip||c.contains(a)||this.interactionEnabled&&(d!=null&&d.contains(a))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(o){if(this.state!=0||z2.isLocked)return;let a=0;o&&(a=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=o||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),a),this.state=1}isLastTooltipHiddenRecently(){const o=new Date().getTime(),a=z2.lastTooltipHideTime;return o-a<SHOW_QUICK_TOOLTIP_DIFF}setToDoNothing(o){!o&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){const o={...this.parentComp.getTooltipParams()};if(!_exists(o.value)||this.shouldDisplayTooltip&&!this.shouldDisplayTooltip()){this.setToDoNothing();return}this.state=2,this.tooltipInstanceCount++;const a=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount);this.userComponentFactory.getTooltipCompDetails(o).newAgStackInstance().then(a)}hideTooltip(o){!o&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),z2.lastTooltipHideTime=new Date().getTime()),this.eventService.dispatchEvent({type:"tooltipHide",parentGui:this.parentComp.getGui()}),o&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(o,a){if(this.state!==2||this.tooltipInstanceCount!==o){this.destroyBean(a);return}const d=a.getGui();this.tooltipComp=a,d.classList.contains("ag-tooltip")||d.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&d.classList.add("ag-tooltip-animate"),this.interactionEnabled&&d.classList.add("ag-tooltip-interactive");const g=this.localeService.getLocaleTextFunc(),b=this.popupService.addPopup({eChild:d,ariaLabel:g("ariaLabelTooltip","Tooltip")});if(b&&(this.tooltipPopupDestroyFunc=b.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const _=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:_,columnMoved:_})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(d,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(_getDocument(this.gos),{keydown:_=>{d.contains(_==null?void 0:_.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(d,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventService.dispatchEvent({type:"tooltipShow",tooltipGui:d,parentGui:this.parentComp.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var c;const o=(c=this.tooltipComp)==null?void 0:c.getGui(),a=_getActiveDomElement(this.gos);return!!o&&o.contains(a)}onTooltipFocusOut(o){const a=this.parentComp.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,a.contains(o.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){const o={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?this.popupService.positionPopupUnderMouseEvent({...o,mouseEvent:this.lastMouseEvent}):this.popupService.positionPopupByComponent({...o,eventSource:this.parentComp.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const o=this.tooltipPopupDestroyFunc,a=this.tooltipComp,c=this.tooltipTrigger===0?FADE_OUT_TOOLTIP_TIMEOUT:0;window.setTimeout(()=>{o(),this.destroyBean(a)},c),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(o=>{o&&o()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){z2.isLocked=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},INTERACTIVE_HIDE_DELAY)}unlockService(){z2.isLocked=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};_TooltipStateManager.isLocked=!1;var TooltipStateManager=_TooltipStateManager,TooltipFeature=class extends BeanStub{constructor(e,o){super(),this.ctrl=e,o&&(this.beans=o)}wireBeans(e){this.beans=e}postConstruct(){this.refreshToolTip()}setBrowserTooltip(e){const o="title",a=this.ctrl.getGui();a&&(e!=null&&e!=""?a.setAttribute(o,e):a.removeAttribute(o))}updateTooltipText(){this.tooltip=this.ctrl.getTooltipValue()}createTooltipFeatureIfNeeded(){var o,a,c,d;if(this.tooltipManager!=null)return;const e={getTooltipParams:()=>this.getTooltipParams(),getGui:()=>this.ctrl.getGui()};this.tooltipManager=this.createBean(new TooltipStateManager(e,(a=(o=this.ctrl).getTooltipShowDelayOverride)==null?void 0:a.call(o),(d=(c=this.ctrl).getTooltipHideDelayOverride)==null?void 0:d.call(c),this.ctrl.shouldDisplayTooltip),this.beans.context)}refreshToolTip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context))):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}getTooltipParams(){var d,g,b,_,$;const e=this.ctrl,o=(d=e.getColumn)==null?void 0:d.call(e),a=(g=e.getColDef)==null?void 0:g.call(e),c=(b=e.getRowNode)==null?void 0:b.call(e);return{location:e.getLocation(),colDef:a,column:o,rowIndex:(_=e.getRowIndex)==null?void 0:_.call(e),node:c,data:c==null?void 0:c.data,value:this.getTooltipText(),valueFormatted:($=e.getValueFormatted)==null?void 0:$.call(e),hideTooltipCallback:()=>{var j;return(j=this.tooltipManager)==null?void 0:j.hideTooltip(!0)}}}getTooltipText(){return this.tooltip}destroy(){this.tooltipManager&&(this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)),super.destroy()}},compIdSequence=new NumberSequence,RefPlaceholder=null,Component=class j5 extends BeanStub{constructor(o,a){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=compIdSequence.next(),this.cssClassManager=new CssClassManager(()=>this.eGui),this.componentSelectors=new Map((a??[]).map(c=>[c.selector,c])),o&&this.setTemplate(o)}preWireBeans(o){super.preWireBeans(o)}preConstruct(){this.usingBrowserTooltips=this.gos.get("enableBrowserTooltips"),this.wireTemplate(this.getGui())}wireTemplate(o,a){o&&this.gos&&(this.applyElementsToComponent(o),this.createChildComponentsFromTags(o,a))}getCompId(){return this.compId}getTooltipParams(){return{value:this.tooltipText,location:"UNKNOWN"}}setTooltip(o){const{newTooltipText:a,showDelayOverride:c,hideDelayOverride:d,location:g,shouldDisplayTooltip:b}=o||{};this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),this.tooltipText!==a&&(this.tooltipText=a);const _=()=>this.tooltipText;a!=null&&(this.tooltipFeature=this.createBean(new TooltipFeature({getTooltipValue:_,getGui:()=>this.getGui(),getLocation:()=>g??"UNKNOWN",getColDef:o==null?void 0:o.getColDef,getColumn:o==null?void 0:o.getColumn,getTooltipShowDelayOverride:c!=null?()=>c:void 0,getTooltipHideDelayOverride:d!=null?()=>d:void 0,shouldDisplayTooltip:b})))}getDataRefAttribute(o){return o.getAttribute?o.getAttribute("data-ref"):null}applyElementsToComponent(o,a,c,d=null){if(a===void 0&&(a=this.getDataRefAttribute(o)),a){const g=this[a];if(g===RefPlaceholder)this[a]=d??o;else{const b=c&&c[a];!this.suppressDataRefValidation&&!b&&_warnOnce(`Issue with data-ref: ${a} on ${this.constructor.name} with ${g}`)}}}createChildComponentsFromTags(o,a){_copyNodeList(o.childNodes).forEach(d=>{if(!(d instanceof HTMLElement))return;const g=this.createComponentFromElement(d,b=>{b.getGui()&&this.copyAttributesFromNode(d,b.getGui())},a);if(g){if(g.addItems&&d.children.length){this.createChildComponentsFromTags(d,a);const b=Array.prototype.slice.call(d.children);g.addItems(b)}this.swapComponentForNode(g,o,d)}else d.childNodes&&this.createChildComponentsFromTags(d,a)})}createComponentFromElement(o,a,c){const d=o.nodeName,g=this.getDataRefAttribute(o),b=d.indexOf("AG-")===0,_=b?this.componentSelectors.get(d):null;let $=null;if(_){j5.elementGettingCreated=o;const j=c&&g?c[g]:void 0;$=new _.component(j),$.setParentComponent(this),this.createBean($,null,a)}else b&&_warnOnce(`Missing selector: ${d}`);return this.applyElementsToComponent(o,g,c,$),$}copyAttributesFromNode(o,a){_iterateNamedNodeMap(o.attributes,(c,d)=>a.setAttribute(c,d))}swapComponentForNode(o,a,c){const d=o.getGui();a.replaceChild(d,c),a.insertBefore(document.createComment(c.nodeName),d),this.addDestroyFunc(this.destroyBean.bind(this,o))}activateTabIndex(o){const a=this.gos.get("tabIndex");o||(o=[]),o.length||o.push(this.getGui()),o.forEach(c=>c.setAttribute("tabindex",a.toString()))}setTemplate(o,a,c){const d=_loadTemplate(o);this.setTemplateFromElement(d,a,c)}setTemplateFromElement(o,a,c,d=!1){if(this.eGui=o,this.suppressDataRefValidation=d,a)for(let g=0;g<a.length;g++){const b=a[g];this.componentSelectors.set(b.selector,b)}this.wireTemplate(o,c)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(o){this.parentComponent=o}getParentComponent(){return this.parentComponent}setGui(o){this.eGui=o}queryForHtmlElement(o){return this.eGui.querySelector(o)}getContainerAndElement(o,a){let c=a;return o==null?null:(c||(c=this.eGui),_isNodeOrElement(o)?{element:o,parent:c}:{element:o.getGui(),parent:c})}prependChild(o,a){const{element:c,parent:d}=this.getContainerAndElement(o,a)||{};!c||!d||d.insertAdjacentElement("afterbegin",c)}appendChild(o,a){const{element:c,parent:d}=this.getContainerAndElement(o,a)||{};!c||!d||d.appendChild(c)}isDisplayed(){return this.displayed}setVisible(o,a={}){if(o!==this.visible){this.visible=o;const{skipAriaHidden:c}=a;_setVisible(this.eGui,o,{skipAriaHidden:c})}}setDisplayed(o,a={}){if(o!==this.displayed){this.displayed=o;const{skipAriaHidden:c}=a;_setDisplayed(this.eGui,o,{skipAriaHidden:c});const d={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(d)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature)),super.destroy()}addGuiEventListener(o,a,c){this.eGui.addEventListener(o,a,c),this.addDestroyFunc(()=>this.eGui.removeEventListener(o,a))}addCssClass(o){this.cssClassManager.addCssClass(o)}removeCssClass(o){this.cssClassManager.removeCssClass(o)}containsCssClass(o){return this.cssClassManager.containsCssClass(o)}addOrRemoveCssClass(o,a){this.cssClassManager.addOrRemoveCssClass(o,a)}},iconNameClassMap={columnGroupOpened:"expanded",columnGroupClosed:"contracted",columnSelectClosed:"tree-closed",columnSelectOpen:"tree-open",columnSelectIndeterminate:"tree-indeterminate",columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",groupContracted:"tree-closed",groupExpanded:"tree-open",setFilterGroupClosed:"tree-closed",setFilterGroupOpen:"tree-open",setFilterGroupIndeterminate:"tree-indeterminate",chart:"chart",close:"cross",cancel:"cancel",check:"tick",first:"first",previous:"previous",next:"next",last:"last",linked:"linked",unlinked:"unlinked",colorPicker:"color-picker",groupLoading:"loading",menu:"menu",menuAlt:"menu-alt",filter:"filter",columns:"columns",maximize:"maximize",minimize:"minimize",menuPin:"pin",menuValue:"aggregation",menuAddRowGroup:"group",menuRemoveRowGroup:"group",clipboardCopy:"copy",clipboardCut:"cut",clipboardPaste:"paste",pivotPanel:"pivot",rowGroupPanel:"group",valuePanel:"aggregation",columnDrag:"grip",rowDrag:"grip",save:"save",csvExport:"csv",excelExport:"excel",smallDown:"small-down",smallLeft:"small-left",smallRight:"small-right",smallUp:"small-up",sortAscending:"asc",sortDescending:"desc",sortUnSort:"none",advancedFilterBuilder:"group",advancedFilterBuilderDrag:"grip",advancedFilterBuilderInvalid:"not-allowed",advancedFilterBuilderMoveUp:"up",advancedFilterBuilderMoveDown:"down",advancedFilterBuilderAdd:"plus",advancedFilterBuilderRemove:"minus",chartsMenuEdit:"chart",chartsMenuAdvancedSettings:"settings",chartsMenuAdd:"plus",checkboxChecked:"checkbox-checked",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off"},ICONS=(()=>{const e=new Set(Object.values(iconNameClassMap));return e.add("eye"),e})();function _createIcon(e,o,a){const c=_createIconNoSpan(e,o,a);if(c){const{className:g}=c;if(typeof g=="string"&&g.indexOf("ag-icon")>-1||typeof g=="object"&&g["ag-icon"])return c}const d=document.createElement("span");return d.appendChild(c),d}function _createIconNoSpan(e,o,a,c){let d=null;const g=a&&a.getColDef().icons;if(g&&(d=g[e]),o&&!d){const b=o.get("icons");b&&(d=b[e])}if(d){let b;if(typeof d=="function")b=d();else if(typeof d=="string")b=d;else throw new Error("icon from grid options needs to be a string or a function");if(typeof b=="string")return _loadTemplate(b);if(_isNodeOrElement(b))return b;_warnOnce("iconRenderer should return back a string or a dom object")}else{const b=document.createElement("span");let _=iconNameClassMap[e]??(ICONS.has(e)?e:void 0);return _||(c?_=e:(_warnOnce(`Did not find icon ${e}`),_="")),b.setAttribute("class",`ag-icon ag-icon-${_}`),b.setAttribute("unselectable","on"),_setAriaRole(b,"presentation"),b}}var DragAndDropImageComponent=class extends Component{constructor(){super(...arguments),this.dragSource=null,this.eIcon=RefPlaceholder,this.eLabel=RefPlaceholder}postConstruct(){const e=o=>_createIcon(o,this.gos,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(`<div class="ag-dnd-ghost ag-unselectable">
                <span data-ref="eIcon" class="ag-dnd-ghost-icon ag-shake-left-to-right"></span>
                <div data-ref="eLabel" class="ag-dnd-ghost-label"></div>
            </div>`)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,o=!1){var c,d;_clearElement(this.eIcon);let a=null;e||(e=(c=this.dragSource)!=null&&c.getDefaultIconName?(d=this.dragSource)==null?void 0:d.getDefaultIconName():"notAllowed"),a=this.dropIconMap[e],this.eIcon.classList.toggle("ag-shake-left-to-right",o),!(a===this.dropIconMap.hide&&this.gos.get("suppressDragLeaveHidesColumns"))&&a&&this.eIcon.appendChild(a)}setLabel(e){this.eLabel.textContent=_escapeString(e)}};function _areEventsNear(e,o,a){if(a===0)return!1;const c=Math.abs(e.clientX-o.clientX),d=Math.abs(e.clientY-o.clientY);return Math.max(c,d)<=a}var TouchListener=class{constructor(e,o=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new LocalEventService,this.eElement=e,this.preventMouseClick=o;const a=this.onTouchStart.bind(this),c=this.onTouchMove.bind(this),d=this.onTouchEnd.bind(this);this.eElement.addEventListener("touchstart",a,{passive:!0}),this.eElement.addEventListener("touchmove",c,{passive:!0}),this.eElement.addEventListener("touchend",d,{passive:!1}),this.destroyFuncs.push(()=>{this.eElement.removeEventListener("touchstart",a,{passive:!0}),this.eElement.removeEventListener("touchmove",c,{passive:!0}),this.eElement.removeEventListener("touchend",d,{passive:!1})})}getActiveTouch(e){for(let o=0;o<e.length;o++)if(e[o].identifier===this.touchStart.identifier)return e[o];return null}addEventListener(e,o){this.localEventService.addEventListener(e,o)}removeEventListener(e,o){this.localEventService.removeEventListener(e,o)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const o=this.touchStart;window.setTimeout(()=>{const a=this.touchStart===o;if(this.touching&&a&&!this.moved){this.moved=!0;const c={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(c)}},500)}onTouchMove(e){if(!this.touching)return;const o=this.getActiveTouch(e.touches);if(!o)return;!_areEventsNear(o,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const o={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(o),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=new Date().getTime();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const a={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(a),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}};function makeSpan$3(e,o){return`<span data-ref="eSort${e}" class="ag-sort-indicator-icon ag-sort-${o} ag-hidden" aria-hidden="true"></span>`}var SortIndicatorTemplate=`<span class="ag-sort-indicator-container">
        ${makeSpan$3("Order","order")}
        ${makeSpan$3("Asc","ascending-icon")}
        ${makeSpan$3("Desc","descending-icon")}
        ${makeSpan$3("Mixed","mixed-icon")}
        ${makeSpan$3("None","none-icon")}
    </span>`,SortIndicatorComp=class extends Component{constructor(e){super(),this.eSortOrder=RefPlaceholder,this.eSortAsc=RefPlaceholder,this.eSortDesc=RefPlaceholder,this.eSortMixed=RefPlaceholder,this.eSortNone=RefPlaceholder,e||this.setTemplate(SortIndicatorTemplate)}wireBeans(e){this.sortController=e.sortController}attachCustomElements(e,o,a,c,d){this.eSortOrder=e,this.eSortAsc=o,this.eSortDesc=a,this.eSortMixed=c,this.eSortNone=d}setupSort(e,o=!1){if(this.column=e,this.suppressOrder=o,this.setupMultiSortIndicator(),!this.column.isSortable()&&!this.column.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const a=this.updateIcons.bind(this),c=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",a),this.addManagedEventListeners({newColumnsLoaded:a,sortChanged:c,columnRowGroupChanged:c}),this.onSortChanged()}addInIcon(e,o,a){if(o==null)return;const c=_createIconNoSpan(e,this.gos,a);c&&o.appendChild(c)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const e=this.sortController.getDisplaySortForColumn(this.column);if(this.eSortAsc){const o=e==="asc";_setDisplayed(this.eSortAsc,o,{skipAriaHidden:!0})}if(this.eSortDesc){const o=e==="desc";_setDisplayed(this.eSortDesc,o,{skipAriaHidden:!0})}if(this.eSortNone){const o=!this.column.getColDef().unSortIcon&&!this.gos.get("unSortIcon"),a=e==null;_setDisplayed(this.eSortNone,!o&&a,{skipAriaHidden:!0})}}setupMultiSortIndicator(){this.addInIcon("sortUnSort",this.eSortMixed,this.column);const e=this.column.getColDef().showRowGroup;_isColumnsSortingCoupledToGroup(this.gos)&&e&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){if(this.eSortMixed){const e=this.sortController.getDisplaySortForColumn(this.column)==="mixed";_setDisplayed(this.eSortMixed,e,{skipAriaHidden:!0})}}updateSortOrder(){if(!this.eSortOrder)return;const e=this.sortController.getColumnsWithSortingOrdered(),o=this.sortController.getDisplaySortIndexForColumn(this.column)??-1,a=e.some(d=>this.sortController.getDisplaySortIndexForColumn(d)??!1),c=o>=0&&a;_setDisplayed(this.eSortOrder,c,{skipAriaHidden:!0}),o>=0?this.eSortOrder.textContent=(o+1).toString():_clearElement(this.eSortOrder)}},SortIndicatorSelector={selector:"AG-SORT-INDICATOR",component:SortIndicatorComp},HeaderCompTemplate=`<div class="ag-cell-label-container" role="presentation">
        <span data-ref="eMenu" class="ag-header-icon ag-header-cell-menu-button" aria-hidden="true"></span>
        <span data-ref="eFilterButton" class="ag-header-icon ag-header-cell-filter-button" aria-hidden="true"></span>
        <div data-ref="eLabel" class="ag-header-cell-label" role="presentation">
            <span data-ref="eText" class="ag-header-cell-text"></span>
            <span data-ref="eFilter" class="ag-header-icon ag-header-label-icon ag-filter-icon" aria-hidden="true"></span>
            <ag-sort-indicator data-ref="eSortIndicator"></ag-sort-indicator>
        </div>
    </div>`,HeaderComp=class extends Component{constructor(){super(...arguments),this.eFilter=RefPlaceholder,this.eFilterButton=RefPlaceholder,this.eSortIndicator=RefPlaceholder,this.eMenu=RefPlaceholder,this.eLabel=RefPlaceholder,this.eText=RefPlaceholder,this.eSortOrder=RefPlaceholder,this.eSortAsc=RefPlaceholder,this.eSortDesc=RefPlaceholder,this.eSortMixed=RefPlaceholder,this.eSortNone=RefPlaceholder,this.lastMovingChanged=0}wireBeans(e){this.sortController=e.sortController,this.menuService=e.menuService,this.funcColsService=e.funcColsService}destroy(){super.destroy()}refresh(e){const o=this.params;return this.params=e,this.workOutTemplate()!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||this.workOutSort()!=this.currentSort||this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||o.enableFilterButton!=e.enableFilterButton||o.enableFilterIcon!=e.enableFilterIcon?!1:(this.setDisplayName(e),!0)}workOutTemplate(){let e=this.params.template??HeaderCompTemplate;return e=e&&e.trim?e.trim():e,e}init(e){this.params=e,this.currentTemplate=this.workOutTemplate(),this.setTemplate(this.currentTemplate,[SortIndicatorSelector]),this.setupTap(),this.setMenu(),this.setupSort(),this.setupFilterIcon(),this.setupFilterButton(),this.setDisplayName(e)}setDisplayName(e){if(this.currentDisplayName!=e.displayName){this.currentDisplayName=e.displayName;const o=_escapeString(this.currentDisplayName,!0);this.eText&&(this.eText.textContent=o)}}addInIcon(e,o,a){if(o==null)return;const c=_createIconNoSpan(e,this.gos,a);c&&o.appendChild(c)}setupTap(){const{gos:e}=this;if(e.get("suppressTouch"))return;const o=new TouchListener(this.getGui(),!0),a=this.shouldSuppressMenuHide(),c=a&&_exists(this.eMenu),d=c?new TouchListener(this.eMenu,!0):o;if(this.params.enableMenu){const g=c?"tap":"longTap",b=_=>this.params.showColumnMenuAfterMouseClick(_.touchStart);this.addManagedListeners(d,{[g]:b})}if(this.params.enableSorting){const g=b=>{var $,j;const _=b.touchStart.target;a&&(($=this.eMenu)!=null&&$.contains(_)||(j=this.eFilterButton)!=null&&j.contains(_))||this.sortController.progressSort(this.params.column,!1,"uiColumnSorted")};this.addManagedListeners(o,{tap:g})}if(this.params.enableFilterButton){const g=new TouchListener(this.eFilterButton,!0);this.addManagedListeners(g,{tap:()=>this.params.showFilter(this.eFilterButton)}),this.addDestroyFunc(()=>g.destroy())}this.addDestroyFunc(()=>o.destroy()),c&&this.addDestroyFunc(()=>d.destroy())}workOutShowMenu(){return this.params.enableMenu&&this.menuService.isHeaderMenuButtonEnabled()}shouldSuppressMenuHide(){return this.menuService.isHeaderMenuButtonAlwaysShowEnabled()}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){_removeFromParent(this.eMenu),this.eMenu=void 0;return}const e=this.menuService.isLegacyMenuEnabled();this.addInIcon(e?"menu":"menuAlt",this.eMenu,this.params.column),this.eMenu.classList.toggle("ag-header-menu-icon",!e),this.currentSuppressMenuHide=this.shouldSuppressMenuHide(),this.addManagedElementListeners(this.eMenu,{click:()=>this.params.showColumnMenu(this.eMenu)}),this.eMenu.classList.toggle("ag-header-menu-always-show",this.currentSuppressMenuHide)}onMenuKeyboardShortcut(e){const o=this.params.column,a=this.menuService.isLegacyMenuEnabled();if(e&&!a){if(this.menuService.isFilterMenuInHeaderEnabled(o))return this.params.showFilter(this.eFilterButton??this.eMenu??this.getGui()),!0}else if(this.params.enableMenu)return this.params.showColumnMenu(this.eMenu??this.eFilterButton??this.getGui()),!0;return!1}workOutSort(){return this.params.enableSorting}setupSort(){if(this.currentSort=this.params.enableSorting,this.eSortIndicator||(this.eSortIndicator=this.createBean(new SortIndicatorComp(!0)),this.eSortIndicator.attachCustomElements(this.eSortOrder,this.eSortAsc,this.eSortDesc,this.eSortMixed,this.eSortNone)),this.eSortIndicator.setupSort(this.params.column),!this.currentSort)return;this.addManagedListeners(this.params.column,{movingChanged:()=>{this.lastMovingChanged=new Date().getTime()}}),this.eLabel&&this.addManagedElementListeners(this.eLabel,{click:o=>{const a=this.params.column.isMoving(),d=new Date().getTime()-this.lastMovingChanged<50;if(!(a||d)){const _=this.gos.get("multiSortKey")==="ctrl"?o.ctrlKey||o.metaKey:o.shiftKey;this.params.progressSort(_)}}});const e=()=>{const o=this.params.column.getSort();if(this.addOrRemoveCssClass("ag-header-cell-sorted-asc",o==="asc"),this.addOrRemoveCssClass("ag-header-cell-sorted-desc",o==="desc"),this.addOrRemoveCssClass("ag-header-cell-sorted-none",!o),this.params.column.getColDef().showRowGroup){const a=this.funcColsService.getSourceColumnsForGroupColumn(this.params.column),d=!(a==null?void 0:a.every(g=>this.params.column.getSort()==g.getSort()));this.addOrRemoveCssClass("ag-header-cell-sorted-mixed",d)}};this.addManagedEventListeners({sortChanged:e,columnRowGroupChanged:e})}setupFilterIcon(){this.eFilter&&this.configureFilter(this.params.enableFilterIcon,this.eFilter,this.onFilterChangedIcon.bind(this))}setupFilterButton(){if(!this.eFilterButton)return;this.configureFilter(this.params.enableFilterButton,this.eFilterButton,this.onFilterChangedButton.bind(this))?this.addManagedElementListeners(this.eFilterButton,{click:()=>this.params.showFilter(this.eFilterButton)}):this.eFilterButton=void 0}configureFilter(e,o,a){if(!e)return _removeFromParent(o),!1;const c=this.params.column;return this.addInIcon("filter",o,c),this.addManagedListeners(c,{filterChanged:a}),a(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();_setDisplayed(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){return e?this.eFilterButton??this.eMenu??this.getGui():this.eMenu??this.eFilterButton??this.getGui()}},HeaderGroupComp=class extends Component{constructor(){super(`<div class="ag-header-group-cell-label" role="presentation">
            <span data-ref="agLabel" class="ag-header-group-text" role="presentation"></span>
            <span data-ref="agOpened" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"></span>
            <span data-ref="agClosed" class="ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"></span>
        </div>`),this.agOpened=RefPlaceholder,this.agClosed=RefPlaceholder,this.agLabel=RefPlaceholder}wireBeans(e){this.columnModel=e.columnModel}destroy(){super.destroy()}init(e){this.params=e,this.checkWarnings(),this.setupLabel(),this.addGroupExpandIcon(),this.setupExpandIcons()}checkWarnings(){this.params.template&&_warnOnce("A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)")}setupExpandIcons(){this.addInIcon("columnGroupOpened",this.agOpened),this.addInIcon("columnGroupClosed",this.agClosed);const e=d=>{if(_isStopPropagationForAgGrid(d))return;const g=!this.params.columnGroup.isExpanded();this.columnModel.setColumnGroupOpened(this.params.columnGroup.getProvidedColumnGroup(),g,"uiColumnExpanded")};this.addTouchAndClickListeners(this.agClosed,e),this.addTouchAndClickListeners(this.agOpened,e);const o=d=>{_stopPropagationForAgGrid(d)};this.addManagedElementListeners(this.agClosed,{dblclick:o}),this.addManagedElementListeners(this.agOpened,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:e}),this.updateIconVisibility();const a=this.params.columnGroup.getProvidedColumnGroup(),c=this.updateIconVisibility.bind(this);this.addManagedListeners(a,{expandedChanged:c,expandableChanged:c})}addTouchAndClickListeners(e,o){const a=new TouchListener(e,!0);this.addManagedListeners(a,{tap:o}),this.addDestroyFunc(()=>a.destroy()),this.addManagedElementListeners(e,{click:o})}updateIconVisibility(){if(this.params.columnGroup.isExpandable()){const o=this.params.columnGroup.isExpanded();_setDisplayed(this.agOpened,o),_setDisplayed(this.agClosed,!o)}else _setDisplayed(this.agOpened,!1),_setDisplayed(this.agClosed,!1)}addInIcon(e,o){const a=_createIconNoSpan(e,this.gos,null);a&&o.appendChild(a)}addGroupExpandIcon(){if(!this.params.columnGroup.isExpandable()){_setDisplayed(this.agOpened,!1),_setDisplayed(this.agClosed,!1);return}}setupLabel(){var a;const{displayName:e,columnGroup:o}=this.params;if(_exists(e)){const c=_escapeString(e,!0);this.agLabel.textContent=c}this.addOrRemoveCssClass("ag-sticky-label",!((a=o.getColGroupDef())!=null&&a.suppressStickyLabel))}},ARROW_UP="",ARROW_DOWN="",AnimateShowChangeCellRenderer=class extends Component{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),o=document.createElement("span");o.setAttribute("class","ag-value-change-delta");const a=document.createElement("span");a.setAttribute("class","ag-value-change-value"),e.appendChild(o),e.appendChild(a),this.setTemplateFromElement(e)}wireBeans(e){this.filterManager=e.filterManager}init(e){this.eValue=this.queryForHtmlElement(".ag-value-change-value"),this.eDelta=this.queryForHtmlElement(".ag-value-change-delta"),this.refresh(e,!0)}showDelta(e,o){const a=Math.abs(o),c=e.formatValue(a),d=_exists(c)?c:a,g=o>=0;g?this.eDelta.textContent=ARROW_UP+d:this.eDelta.textContent=ARROW_DOWN+d,this.eDelta.classList.toggle("ag-value-change-delta-up",g),this.eDelta.classList.toggle("ag-value-change-delta-down",!g)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),_clearElement(this.eDelta)}refresh(e,o=!1){var c;const a=e.value;if(a===this.lastValue||(_exists(e.valueFormatted)?this.eValue.textContent=e.valueFormatted:_exists(e.value)?this.eValue.textContent=a:_clearElement(this.eValue),(c=this.filterManager)!=null&&c.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof a=="number"&&typeof this.lastValue=="number"){const d=a-this.lastValue;this.showDelta(e,d)}return this.lastValue&&this.eValue.classList.add("ag-value-change-value-highlight"),o||this.setTimerToRemoveDelta(),this.lastValue=a,!0}},AnimateSlideCellRenderer=class extends Component{constructor(){super(),this.refreshCount=0;const e=document.createElement("span"),o=document.createElement("span");o.setAttribute("class","ag-value-slide-current"),e.appendChild(o),this.setTemplateFromElement(e),this.eCurrent=this.queryForHtmlElement(".ag-value-slide-current")}wireBeans(e){this.filterManager=e.filterManager}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const o=document.createElement("span");o.setAttribute("class","ag-value-slide-previous ag-value-slide-out"),this.ePrevious=o,this.ePrevious.textContent=this.eCurrent.textContent,this.getGui().insertBefore(this.ePrevious,this.eCurrent),this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,o=!1){var c;let a=e.value;return _missing(a)&&(a=""),a===this.lastValue||(c=this.filterManager)!=null&&c.isSuppressFlashingCellsBecauseFiltering()?!1:(o||this.addSlideAnimation(),this.lastValue=a,_exists(e.valueFormatted)?this.eCurrent.textContent=e.valueFormatted:_exists(e.value)?this.eCurrent.textContent=a:_clearElement(this.eCurrent),!0)}},KeyCode=class{};KeyCode.BACKSPACE="Backspace";KeyCode.TAB="Tab";KeyCode.ENTER="Enter";KeyCode.ESCAPE="Escape";KeyCode.SPACE=" ";KeyCode.LEFT="ArrowLeft";KeyCode.UP="ArrowUp";KeyCode.RIGHT="ArrowRight";KeyCode.DOWN="ArrowDown";KeyCode.DELETE="Delete";KeyCode.F2="F2";KeyCode.PAGE_UP="PageUp";KeyCode.PAGE_DOWN="PageDown";KeyCode.PAGE_HOME="Home";KeyCode.PAGE_END="End";KeyCode.A="KeyA";KeyCode.C="KeyC";KeyCode.D="KeyD";KeyCode.V="KeyV";KeyCode.X="KeyX";KeyCode.Y="KeyY";KeyCode.Z="KeyZ";var AgAbstractLabel=class extends Component{constructor(e,o,a){super(o,a),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{}}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:o,labelWidth:a,labelAlignment:c,disabled:d}=this.config;d!=null&&this.setDisabled(d),e!=null&&this.setLabelSeparator(e),o!=null&&this.setLabel(o),a!=null&&this.setLabelWidth(a),this.setLabelAlignment(c||this.labelAlignment),this.refreshLabel()}refreshLabel(){_clearElement(this.eLabel),typeof this.label=="string"?this.eLabel.innerText=this.label+this.labelSeparator:this.label&&this.eLabel.appendChild(this.label),this.label===""?(_setDisplayed(this.eLabel,!1),_setAriaRole(this.eLabel,"presentation")):(_setDisplayed(this.eLabel,!0),_setAriaRole(this.eLabel,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){return this.eLabel.id=this.eLabel.id||`ag-${this.getCompId()}-label`,this.eLabel.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const a=this.getGui().classList;return a.toggle("ag-label-align-left",e==="left"),a.toggle("ag-label-align-right",e==="right"),a.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(_setElementWidth(this.eLabel,e),this)}setDisabled(e){e=!!e;const o=this.getGui();return _setDisabled(o,e),o.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},AgAbstractField=class extends AgAbstractLabel{constructor(e,o,a,c){super(e,o,a),this.className=c}postConstruct(){super.postConstruct();const{width:e,value:o,onValueChange:a}=this.config;e!=null&&this.setWidth(e),o!=null&&this.setValue(o),a!=null&&this.onValueChange(a),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),o=this.getLabelId(),a=this.getLabel();a==null||a==""||_getAriaLabel(e)!==null?_setAriaLabelledBy(e,""):_setAriaLabelledBy(e,o??"")}setAriaLabel(e){return _setAriaLabel(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return _setFixedWidth(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,o){return this.value===e?this:(this.previousValue=this.value,this.value=e,o||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}},AgAbstractInputField=class extends AgAbstractField{constructor(e,o,a="text",c="input"){super(e,(e==null?void 0:e.template)??`
            <div role="presentation">
                <div data-ref="eLabel" class="ag-input-field-label"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-input-wrapper" role="presentation">
                    <${c} data-ref="eInput" class="ag-input-field-input"></${c}>
                </div>
            </div>`,[],o),this.inputType=a,this.displayFieldTag=c,this.eLabel=RefPlaceholder,this.eWrapper=RefPlaceholder,this.eInput=RefPlaceholder}postConstruct(){super.postConstruct(),this.setInputType(),this.eLabel.classList.add(`${this.className}-label`),this.eWrapper.classList.add(`${this.className}-input-wrapper`),this.eInput.classList.add(`${this.className}-input`),this.addCssClass("ag-input-field"),this.eInput.id=this.eInput.id||`ag-${this.getCompId()}-input`;const{inputName:e,inputWidth:o}=this.config;e!=null&&this.setInputName(e),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([this.eInput])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return _setElementWidth(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const o=this.eInput;return o.maxLength=e,this}setInputPlaceholder(e){return _addOrRemoveAttribute(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return _setAriaLabel(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return _setDisabled(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)_addOrRemoveAttribute(this.eInput,"autocomplete",null);else{const o=typeof e=="string"?e:"off";_addOrRemoveAttribute(this.eInput,"autocomplete",o)}return this}},AgCheckbox=class extends AgAbstractInputField{constructor(e,o="ag-checkbox",a="checkbox"){super(e,o,a),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:o}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof o=="boolean"&&this.setPassive(o)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),o=this.getNextValue();this.passive?this.dispatchChange(o,e):this.setValue(o)}getValue(){return this.isSelected()}setValue(e,o){return this.refreshSelectedClass(e),this.setSelected(e,o),this}setName(e){const o=this.getInputElement();return o.name=e,this}isSelected(){return this.selected}setSelected(e,o){this.isSelected()!==e&&(this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0,this.eInput.checked=e,this.eInput.indeterminate=e===void 0,o||this.dispatchChange(this.selected,this.previousValue))}dispatchChange(e,o,a){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:o,event:a});const c=this.getInputElement();this.eventService.dispatchEvent({type:"checkboxChanged",id:c.id,name:c.name,selected:e,previousValue:o})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const o=this.isSelected(),a=this.selected=e.target.checked;this.refreshSelectedClass(a),this.dispatchChange(a,o,e)}refreshSelectedClass(e){this.eWrapper.classList.toggle("ag-checked",e===!0),this.eWrapper.classList.toggle("ag-indeterminate",e==null)}},AgCheckboxSelector={selector:"AG-CHECKBOX",component:AgCheckbox},CheckboxCellRenderer=class extends Component{constructor(){super(`
            <div class="ag-cell-wrapper ag-checkbox-cell" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[AgCheckboxSelector]),this.eCheckbox=RefPlaceholder}init(e){this.refresh(e);const o=this.eCheckbox.getInputElement();o.setAttribute("tabindex","-1"),_setAriaLive(o,"polite"),this.addManagedListeners(o,{click:a=>{if(_stopPropagationForAgGrid(a),this.eCheckbox.isDisabled())return;const c=this.eCheckbox.getValue();this.onCheckboxChanged(c)},dblclick:a=>{_stopPropagationForAgGrid(a)}}),this.addManagedElementListeners(this.params.eGridCell,{keydown:a=>{if(a.key===KeyCode.SPACE&&!this.eCheckbox.isDisabled()){this.params.eGridCell===_getActiveDomElement(this.gos)&&this.eCheckbox.toggle();const c=this.eCheckbox.getValue();this.onCheckboxChanged(c),a.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){var _;let o,a=!0;if(e.node.group&&e.column)if(typeof e.value=="boolean")o=e.value;else{const $=e.column.getColId();$.startsWith(GROUP_AUTO_COLUMN_ID)?o=e.value==null||e.value===""?void 0:e.value==="true":e.node.aggData&&e.node.aggData[$]!==void 0?o=e.value??void 0:a=!1}else o=e.value??void 0;if(!a){this.eCheckbox.setDisplayed(!1);return}this.eCheckbox.setValue(o);const c=e.disabled!=null?e.disabled:!((_=e.column)!=null&&_.isCellEditable(e.node));this.eCheckbox.setDisabled(c);const d=this.localeService.getLocaleTextFunc(),g=_getAriaCheckboxStateName(d,o),b=c?g:`${d("ariaToggleCellValue","Press SPACE to toggle cell value")} (${g})`;this.eCheckbox.setInputAriaLabel(b)}onCheckboxChanged(e){const{column:o,node:a,value:c}=this.params;this.eventService.dispatchEvent({type:"cellEditingStarted",column:o,colDef:o==null?void 0:o.getColDef(),data:a.data,node:a,rowIndex:a.rowIndex,rowPinned:a.rowPinned,value:c});const d=this.params.node.setDataValue(this.params.column,e,"edit");this.eventService.dispatchEvent({type:"cellEditingStopped",column:o,colDef:o==null?void 0:o.getColDef(),data:a.data,node:a,rowIndex:a.rowIndex,rowPinned:a.rowPinned,value:c,oldValue:c,newValue:e,valueChanged:d}),d||this.updateCheckbox(this.params)}},LoadingCellRenderer=class extends Component{constructor(){super(`<div class="ag-loading">
            <span class="ag-loading-icon" data-ref="eLoadingIcon"></span>
            <span class="ag-loading-text" data-ref="eLoadingText"></span>
        </div>`),this.eLoadingIcon=RefPlaceholder,this.eLoadingText=RefPlaceholder}init(e){e.node.failedLoad?this.setupFailed():this.setupLoading()}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=e("loadingError","ERR")}setupLoading(){const e=_createIconNoSpan("groupLoading",this.gos,null);e&&this.eLoadingIcon.appendChild(e);const o=this.localeService.getLocaleTextFunc();this.eLoadingText.innerText=o("loadingOoo","Loading")}refresh(e){return!1}destroy(){super.destroy()}},SkeletonCellRenderer=class extends Component{constructor(){super('<div class="ag-skeleton-container"></div>')}init(e){const o=`ag-cell-skeleton-renderer-${this.getCompId()}`;this.getGui().setAttribute("id",o),this.addDestroyFunc(()=>_setAriaLabelledBy(e.eParentOfValue)),_setAriaLabelledBy(e.eParentOfValue,o),e.node.failedLoad?this.setupFailed():this.setupLoading(e)}setupFailed(){const e=this.localeService.getLocaleTextFunc();this.getGui().innerText=e("loadingError","ERR");const o=e("ariaSkeletonCellLoadingFailed","Row failed to load");_setAriaLabel(this.getGui(),o)}setupLoading(e){const a=_getDocument(this.gos).createElement("div");a.classList.add("ag-skeleton-effect");const c=e.node.rowIndex;if(c!=null){const b=75+25*(c%2===0?Math.sin(c):Math.cos(c));a.style.width=`${b}%`}this.getGui().appendChild(a);const g=this.localeService.getLocaleTextFunc()("ariaSkeletonCellLoading","Row data is loading");_setAriaLabel(this.getGui(),g)}refresh(e){return!1}destroy(){super.destroy()}},OverlayComponent=class extends Component{constructor(){super()}destroy(){super.destroy()}},LoadingOverlayComponent=class extends OverlayComponent{init(){var o;const e=_makeNull((o=this.gos.get("overlayLoadingTemplate"))==null?void 0:o.trim());if(this.setTemplate(e??'<span aria-live="polite" aria-atomic="true" class="ag-overlay-loading-center"></span>'),!e){const a=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=a("loadingOoo","Loading...")})}}},NoRowsOverlayComponent=class extends OverlayComponent{init(){var o;const e=_makeNull((o=this.gos.get("overlayNoRowsTemplate"))==null?void 0:o.trim());if(this.setTemplate(e??'<span class="ag-overlay-no-rows-center"></span>'),!e){const a=this.localeService.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=a("noRowsToShow","No Rows To Show")})}}},PopupComponent=class extends Component{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},TooltipComponent=class extends PopupComponent{constructor(){super('<div class="ag-tooltip"></div>')}init(e){const{value:o}=e;this.getGui().textContent=_escapeString(o,!0)}};function _fuzzySuggestions(e){const{inputValue:o,allSuggestions:a,hideIrrelevant:c,filterByPercentageOfBestMatch:d,addSequentialWeight:g}=e;let b=a.map((j,rt)=>({value:j,relevance:levenshteinDistance(o.toLowerCase(),j.toLocaleLowerCase(),g),idx:rt}));if(b.sort((j,rt)=>rt.relevance-j.relevance),c&&(b=b.filter(j=>j.relevance!==0)),b.length>0&&d&&d>0){const rt=b[0].relevance*d;b=b.filter(nt=>rt-nt.relevance<0)}const _=[],$=[];for(const j of b)_.push(j.value),$.push(j.idx);return{values:_,indices:$}}function getAllSubstrings(e){const o=[],a=e.length;for(let c=1;c<=a;c++)for(let d=0;d<=a-c;d++){const g=d+c-1;o.push(e.slice(d,g+1))}return o}function levenshteinDistance(e,o,a=!1){const c=e.replace(/\s/g,""),d=o.replace(/\s/g,""),g=c.length,b=d.length,_=new Array(g+1).fill(null).map(()=>new Array(b+1).fill(0));for(let nt=0;nt<=g;nt+=1)_[nt][0]=nt;for(let nt=0;nt<=b;nt+=1)_[0][nt]=nt;for(let nt=1;nt<=g;nt++)for(let st=1;st<=b;st++)c[nt-1]===d[st-1]?_[nt][st]=_[nt-1][st-1]:_[nt][st]=1+Math.min(_[nt][st-1],Math.min(_[nt-1][st],_[nt-1][st-1]));const $=_[g][b];let rt=Math.max(g,b)-$;if(a){const nt=getAllSubstrings(c);for(let st=0;st<nt.length;st++){const jt=nt[st];d.indexOf(jt)!==-1&&(rt+=1,rt*=jt.length)}}return rt}var UserComponentRegistry=class extends BeanStub{constructor(){super(...arguments),this.beanName="userComponentRegistry",this.agGridDefaults={agDragAndDropImage:DragAndDropImageComponent,agColumnHeader:HeaderComp,agColumnGroupHeader:HeaderGroupComp,agSortIndicator:SortIndicatorComp,agAnimateShowChangeCellRenderer:AnimateShowChangeCellRenderer,agAnimateSlideCellRenderer:AnimateSlideCellRenderer,agLoadingCellRenderer:LoadingCellRenderer,agSkeletonCellRenderer:SkeletonCellRenderer,agCheckboxCellRenderer:CheckboxCellRenderer,agLoadingOverlay:LoadingOverlayComponent,agNoRowsOverlay:NoRowsOverlayComponent,agTooltipComponent:TooltipComponent},this.agGridDefaultParams={},this.enterpriseAgDefaultCompsModule={agSetColumnFilter:"@ag-grid-enterprise/set-filter",agSetColumnFloatingFilter:"@ag-grid-enterprise/set-filter",agMultiColumnFilter:"@ag-grid-enterprise/multi-filter",agMultiColumnFloatingFilter:"@ag-grid-enterprise/multi-filter",agGroupColumnFilter:"@ag-grid-enterprise/row-grouping",agGroupColumnFloatingFilter:"@ag-grid-enterprise/row-grouping",agGroupCellRenderer:"@ag-grid-enterprise/row-grouping",agGroupRowRenderer:"@ag-grid-enterprise/row-grouping",agRichSelect:"@ag-grid-enterprise/rich-select",agRichSelectCellEditor:"@ag-grid-enterprise/rich-select",agDetailCellRenderer:"@ag-grid-enterprise/master-detail",agSparklineCellRenderer:"@ag-grid-enterprise/sparklines"},this.jsComps={}}postConstruct(){const e=this.gos.get("components");e!=null&&_iterateObject(e,(o,a)=>this.registerJsComponent(o,a))}registerDefaultComponent(e,o,a){this.agGridDefaults[e]=o,a&&(this.agGridDefaultParams[e]=a)}registerJsComponent(e,o){this.jsComps[e]=o}retrieve(e,o){const a=(_,$,j)=>({componentFromFramework:$,component:_,params:j}),c=this.getFrameworkOverrides().frameworkComponent(o,this.gos.get("components"));if(c!=null)return a(c,!0);const d=this.jsComps[o];if(d){const _=this.getFrameworkOverrides().isFrameworkComponent(d);return a(d,_)}const g=this.agGridDefaults[o];if(g)return a(g,!1,this.agGridDefaultParams[o]);const b=this.enterpriseAgDefaultCompsModule[o];return b?this.gos.assertModuleRegistered(b,`AG Grid '${e}' component: ${o}`):_doOnce(()=>{this.warnAboutMissingComponent(e,o)},"MissingComp"+o),null}warnAboutMissingComponent(e,o){const a=[...Object.keys(this.agGridDefaults).filter(d=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(d)),...Object.keys(this.jsComps)],c=_fuzzySuggestions({inputValue:o,allSuggestions:a,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;_warnOnce(`Could not find '${o}' component. It was configured as "${e}: '${o}'" but it wasn't found in the list of registered components.`),c.length>0&&_warnOnce(`         Did you mean: [${c.slice(0,3)}]?`),_warnOnce(`If using a custom component check it has been registered as described in: ${this.getFrameworkOverrides().getDocLink("components/")}`)}},AgPromise=class _b{constructor(o){this.status=0,this.resolution=null,this.waiters=[],o(a=>this.onDone(a),a=>this.onReject(a))}static all(o){return o.length?new _b(a=>{let c=o.length;const d=new Array(c);o.forEach((g,b)=>{g.then(_=>{d[b]=_,c--,c===0&&a(d)})})}):_b.resolve()}static resolve(o=null){return new _b(a=>a(o))}then(o){return new _b(a=>{this.status===1?a(o(this.resolution)):this.waiters.push(c=>a(o(c)))})}onDone(o){this.status=1,this.resolution=o,this.waiters.forEach(a=>a(o))}onReject(o){}},DateComponent={propertyName:"dateComponent",cellRenderer:!1},DragAndDropImageComponent2={propertyName:"dragAndDropImageComponent",cellRenderer:!1},HeaderComponent={propertyName:"headerComponent",cellRenderer:!1},HeaderGroupComponent={propertyName:"headerGroupComponent",cellRenderer:!1},CellRendererComponent={propertyName:"cellRenderer",cellRenderer:!0},EditorRendererComponent={propertyName:"cellRenderer",cellRenderer:!1},LoadingCellRendererComponent={propertyName:"loadingCellRenderer",cellRenderer:!0},CellEditorComponent={propertyName:"cellEditor",cellRenderer:!1},InnerRendererComponent={propertyName:"innerRenderer",cellRenderer:!0},LoadingOverlayComponent2={propertyName:"loadingOverlayComponent",cellRenderer:!1},NoRowsOverlayComponent2={propertyName:"noRowsOverlayComponent",cellRenderer:!1},TooltipComponent2={propertyName:"tooltipComponent",cellRenderer:!1},FilterComponent={propertyName:"filter",cellRenderer:!1},FloatingFilterComponent={propertyName:"floatingFilterComponent",cellRenderer:!1},ToolPanelComponent={propertyName:"toolPanel",cellRenderer:!1},StatusPanelComponent={propertyName:"statusPanel",cellRenderer:!1},FullWidth={propertyName:"fullWidthCellRenderer",cellRenderer:!0},FullWidthLoading={propertyName:"loadingCellRenderer",cellRenderer:!0},FullWidthGroup={propertyName:"groupRowRenderer",cellRenderer:!0},FullWidthDetail={propertyName:"detailCellRenderer",cellRenderer:!0},MenuItemComponent={propertyName:"menuItem",cellRenderer:!1},UserComponentFactory=class V5 extends BeanStub{constructor(){super(...arguments),this.beanName="userComponentFactory"}wireBeans(o){this.agComponentUtils=o.agComponentUtils,this.componentMetadataProvider=o.componentMetadataProvider,this.userComponentRegistry=o.userComponentRegistry,this.frameworkComponentWrapper=o.frameworkComponentWrapper,this.gridOptions=o.gridOptions}getDragAndDropImageCompDetails(o){return this.getCompDetails(this.gridOptions,DragAndDropImageComponent2,"agDragAndDropImage",o,!0)}getHeaderCompDetails(o,a){return this.getCompDetails(o,HeaderComponent,"agColumnHeader",a)}getHeaderGroupCompDetails(o){const a=o.columnGroup.getColGroupDef();return this.getCompDetails(a,HeaderGroupComponent,"agColumnGroupHeader",o)}getFullWidthCellRendererDetails(o){return this.getCompDetails(this.gridOptions,FullWidth,null,o,!0)}getFullWidthLoadingCellRendererDetails(o){return this.getCompDetails(this.gridOptions,FullWidthLoading,"agLoadingCellRenderer",o,!0)}getFullWidthGroupCellRendererDetails(o){return this.getCompDetails(this.gridOptions,FullWidthGroup,"agGroupRowRenderer",o,!0)}getFullWidthDetailCellRendererDetails(o){return this.getCompDetails(this.gridOptions,FullWidthDetail,"agDetailCellRenderer",o,!0)}getInnerRendererDetails(o,a){return this.getCompDetails(o,InnerRendererComponent,null,a)}getFullWidthGroupRowInnerCellRenderer(o,a){return this.getCompDetails(o,InnerRendererComponent,null,a)}getCellRendererDetails(o,a){return this.getCompDetails(o,CellRendererComponent,null,a)}getEditorRendererDetails(o,a){return this.getCompDetails(o,EditorRendererComponent,null,a)}getLoadingCellRendererDetails(o,a){return this.getCompDetails(o,LoadingCellRendererComponent,"agSkeletonCellRenderer",a,!0)}getCellEditorDetails(o,a){return this.getCompDetails(o,CellEditorComponent,"agCellEditor",a,!0)}getFilterDetails(o,a,c){return this.getCompDetails(o,FilterComponent,c,a,!0)}getDateCompDetails(o){return this.getCompDetails(this.gridOptions,DateComponent,"agDateInput",o,!0)}getLoadingOverlayCompDetails(o){return this.getCompDetails(this.gridOptions,LoadingOverlayComponent2,"agLoadingOverlay",o,!0)}getNoRowsOverlayCompDetails(o){return this.getCompDetails(this.gridOptions,NoRowsOverlayComponent2,"agNoRowsOverlay",o,!0)}getTooltipCompDetails(o){return this.getCompDetails(o.colDef,TooltipComponent2,"agTooltipComponent",o,!0)}getSetFilterCellRendererDetails(o,a){return this.getCompDetails(o,CellRendererComponent,null,a)}getFloatingFilterCompDetails(o,a,c){return this.getCompDetails(o,FloatingFilterComponent,c,a)}getToolPanelCompDetails(o,a){return this.getCompDetails(o,ToolPanelComponent,null,a,!0)}getStatusPanelCompDetails(o,a){return this.getCompDetails(o,StatusPanelComponent,null,a,!0)}getMenuItemCompDetails(o,a){return this.getCompDetails(o,MenuItemComponent,"agMenuItem",a,!0)}getCompDetails(o,a,c,d,g=!1){const{propertyName:b,cellRenderer:_}=a;let{compName:$,jsComp:j,fwComp:rt,paramsFromSelector:nt,popupFromSelector:st,popupPositionFromSelector:jt}=V5.getCompKeys(this.frameworkOverrides,o,a,d),wl;const Ft=Cl=>{const Tl=this.userComponentRegistry.retrieve(b,Cl);Tl&&(j=Tl.componentFromFramework?void 0:Tl.component,rt=Tl.componentFromFramework?Tl.component:void 0,wl=Tl.params)};if($!=null&&Ft($),j==null&&rt==null&&c!=null&&Ft(c),j&&_&&!this.agComponentUtils.doesImplementIComponent(j)&&(j=this.agComponentUtils.adaptFunction(b,j)),!j&&!rt){g&&_errorOnce(`Could not find component ${$}, did you forget to configure this component?`);return}const it=this.mergeParamsWithApplicationProvidedParams(o,a,d,nt,wl),ot=j==null,Ln=j||rt;return{componentFromFramework:ot,componentClass:Ln,params:it,type:a,popupFromSelector:st,popupPositionFromSelector:jt,newAgStackInstance:()=>this.newAgStackInstance(Ln,ot,it,a)}}static getCompKeys(o,a,c,d){const{propertyName:g}=c;let b,_,$,j,rt,nt;if(a){const st=a,jt=st[g+"Selector"],wl=jt?jt(d):null,Ft=it=>{typeof it=="string"?b=it:it!=null&&it!==!0&&(o.isFrameworkComponent(it)?$=it:_=it)};wl?(Ft(wl.component),j=wl.params,rt=wl.popup,nt=wl.popupPosition):Ft(st[g])}return{compName:b,jsComp:_,fwComp:$,paramsFromSelector:j,popupFromSelector:rt,popupPositionFromSelector:nt}}newAgStackInstance(o,a,c,d){const g=d.propertyName,b=!a;let _;if(b)_=new o;else{const j=this.componentMetadataProvider.retrieve(g);_=this.frameworkComponentWrapper.wrap(o,j.mandatoryMethodList,j.optionalMethodList,d)}const $=this.initComponent(_,c);return $==null?AgPromise.resolve(_):$.then(()=>_)}mergeParamsWithApplicationProvidedParams(o,a,c,d=null,g){const b=this.gos.getGridCommonParams();_mergeDeep(b,c),g&&_mergeDeep(b,g);const _=o,$=_&&_[a.propertyName+"Params"];if(typeof $=="function"){const j=$(c);_mergeDeep(b,j)}else typeof $=="object"&&_mergeDeep(b,$);return _mergeDeep(b,d),b}initComponent(o,a){if(this.createBean(o),o.init!=null)return o.init(a)}};function _unwrapUserComp(e){const o=e;return o!=null&&o.getFrameworkComponentInstance!=null?o.getFrameworkComponentInstance():e}var _ModuleRegistry=class uv{static register(o){uv.__register(o,!0,void 0)}static registerModules(o){uv.__registerModules(o,!0,void 0)}static __register(o,a,c){uv.runVersionChecks(o),c!==void 0?(uv.areGridScopedModules=!0,uv.gridModulesMap[c]===void 0&&(uv.gridModulesMap[c]={}),uv.gridModulesMap[c][o.moduleName]=o):uv.globalModulesMap[o.moduleName]=o,uv.setModuleBased(a)}static __unRegisterGridModules(o){delete uv.gridModulesMap[o]}static __registerModules(o,a,c){uv.setModuleBased(a),o&&o.forEach(d=>uv.__register(d,a,c))}static isValidModuleVersion(o){const[a,c]=o.version.split(".")||[],[d,g]=uv.currentModuleVersion.split(".")||[];return a===d&&c===g}static runVersionChecks(o){uv.currentModuleVersion||(uv.currentModuleVersion=o.version);const a=c=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${c} Please update all modules to the same version.`;if(o.version?uv.isValidModuleVersion(o)||_errorOnce(a(`'${o.moduleName}' is version ${o.version} but the other modules are version ${uv.currentModuleVersion}.`)):_errorOnce(a(`'${o.moduleName}' is incompatible.`)),o.validate){const c=o.validate();c.isValid||_errorOnce(`${c.message}`)}}static setModuleBased(o){uv.moduleBased===void 0?uv.moduleBased=o:uv.moduleBased!==o&&(_errorOnce("AG Grid: You are mixing modules (i.e. @ag-grid-community/core) and packages (ag-grid-community) - you can only use one or the other of these mechanisms."),_errorOnce("Please see https://www.ag-grid.com/javascript-grid/modules/ for more information."))}static __setIsBundled(){uv.isBundled=!0}static __assertRegistered(o,a,c){var g;if(this.__isRegistered(o,c))return!0;let d;if(uv.isBundled)d=`AG Grid: unable to use ${a} as 'ag-grid-enterprise' has not been loaded. Check you are using the Enterprise bundle:
        
        <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@AG_GRID_VERSION/dist/ag-grid-enterprise.min.js"><\/script>
        
For more info see: https://ag-grid.com/javascript-data-grid/getting-started/#getting-started-with-ag-grid-enterprise`;else if(uv.moduleBased||uv.moduleBased===void 0){const b=(g=Object.entries(ModuleNames).find(([_,$])=>$===o))==null?void 0:g[0];d=`AG Grid: unable to use ${a} as the ${b} is not registered${uv.areGridScopedModules?` for gridId: ${c}`:""}. Check if you have registered the module:
           
    import { ModuleRegistry } from '@ag-grid-community/core';
    import { ${b} } from '${o}';
    
    ModuleRegistry.registerModules([ ${b} ]);

For more info see: https://www.ag-grid.com/javascript-grid/modules/`}else d=`AG Grid: unable to use ${a} as package 'ag-grid-enterprise' has not been imported. Check that you have imported the package:
            
    import 'ag-grid-enterprise';`;return _errorOnce(d),!1}static __isRegistered(o,a){var c;return!!uv.globalModulesMap[o]||!!((c=uv.gridModulesMap[a])!=null&&c[o])}static __getRegisteredModules(o){return[..._values(uv.globalModulesMap),..._values(uv.gridModulesMap[o]||{})]}static __getGridRegisteredModules(o){return _values(uv.gridModulesMap[o]??{})||[]}static __isPackageBased(){return!uv.moduleBased}};_ModuleRegistry.globalModulesMap={};_ModuleRegistry.gridModulesMap={};_ModuleRegistry.areGridScopedModules=!1;var ModuleRegistry=_ModuleRegistry,GenericContext=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var o;Object.entries(e.providedBeanInstances).forEach(([a,c])=>{this.beans[a]=c}),e.beanClasses.forEach(a=>{const c=new a;c.beanName?this.beans[c.beanName]=c:console.error(`Bean ${a.name} is missing beanName`),this.createdBeans.push(c)}),(o=e.derivedBeans)==null||o.forEach(a=>{const{beanName:c,bean:d}=a(this);this.beans[c]=d,this.createdBeans.push(d)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,o){if(!e)throw Error("Can't wire to bean since it is null");return this.initBeans([e],o),e}initBeans(e,o){e.forEach(a=>{var c,d;(c=a.preWireBeans)==null||c.call(a,this.beans),(d=a.wireBeans)==null||d.call(a,this.beans)}),e.forEach(a=>{var c;return(c=a.preConstruct)==null?void 0:c.call(a)}),o&&e.forEach(o),e.forEach(a=>{var c;return(c=a.postConstruct)==null?void 0:c.call(a)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var o;(o=e==null?void 0:e.destroy)==null||o.call(e)}destroyBeans(e){if(e)for(let o=0;o<e.length;o++)this.destroyBean(e[o]);return[]}isDestroyed(){return this.destroyed}},Context=class extends GenericContext{init(e){this.gridId=e.gridId,this.beans.context=this,super.init(e)}destroy(){super.destroy(),ModuleRegistry.__unRegisterGridModules(this.gridId)}getGridId(){return this.gridId}},ExcelFactoryMode=(e=>(e[e.SINGLE_SHEET=0]="SINGLE_SHEET",e[e.MULTI_SHEET=1]="MULTI_SHEET",e))(ExcelFactoryMode||{}),VerticalDirection=(e=>(e[e.Up=0]="Up",e[e.Down=1]="Down",e))(VerticalDirection||{}),HorizontalDirection=(e=>(e[e.Left=0]="Left",e[e.Right=1]="Right",e))(HorizontalDirection||{}),DragSourceType=(e=>(e[e.ToolPanel=0]="ToolPanel",e[e.HeaderCell=1]="HeaderCell",e[e.RowDrag=2]="RowDrag",e[e.ChartPanel=3]="ChartPanel",e[e.AdvancedFilterBuilder=4]="AdvancedFilterBuilder",e))(DragSourceType||{}),DragAndDropService=class extends BeanStub{constructor(){super(...arguments),this.beanName="dragAndDropService",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.dragService=e.dragService,this.mouseEventService=e.mouseEventService,this.environment=e.environment,this.userComponentFactory=e.userComponentFactory}addDragSource(e,o=!1){const a={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:o};this.dragSourceAndParamsList.push({params:a,dragSource:e}),this.dragService.addDragSource(a)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const o=this.dragSourceAndParamsList.find(a=>a.dragSource===e);o&&(this.dragService.removeDragSource(o.params),_removeFromArray(this.dragSourceAndParamsList,o))}destroy(){this.dragSourceAndParamsList.forEach(e=>this.dragService.removeDragSource(e.params)),this.dragSourceAndParamsList.length=0,this.dropTargets.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,o){var a,c;this.dragging=!0,this.dragSource=e,this.eventLastTime=o,this.dragItem=this.dragSource.getDragItem(),(c=(a=this.dragSource).onDragStarted)==null||c.call(a),this.createDragAndDropImageComponent()}onDragStop(e){var o,a,c;if((a=(o=this.dragSource)==null?void 0:o.onDragStopped)==null||a.call(o),(c=this.lastDropTarget)!=null&&c.onDragStop){const d=this.createDropTargetEvent(this.lastDropTarget,e,null,null,!1);this.lastDropTarget.onDragStop(d)}this.clearDragAndDropProperties()}onDragCancel(){var e,o,a;(o=(e=this.dragSource)==null?void 0:e.onDragCancelled)==null||o.call(e),(a=this.lastDropTarget)!=null&&a.onDragCancel&&this.lastDropTarget.onDragCancel(this.createDropTargetEvent(this.lastDropTarget,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,o=!1){var b,_,$,j;const a=this.getHorizontalDirection(e),c=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const d=this.dropTargets.filter(rt=>this.isMouseOnDropTarget(e,rt)),g=this.findCurrentDropTarget(e,d);if(g!==this.lastDropTarget){if(this.leaveLastTargetIfExists(e,a,c,o),this.lastDropTarget!==null&&g===null&&((_=(b=this.dragSource)==null?void 0:b.onGridExit)==null||_.call(b,this.dragItem)),this.lastDropTarget===null&&g!==null&&((j=($=this.dragSource)==null?void 0:$.onGridEnter)==null||j.call($,this.dragItem)),this.enterDragTargetIfExists(g,e,a,c,o),g&&this.dragAndDropImageComp){const{comp:rt,promise:nt}=this.dragAndDropImageComp;rt?rt.setIcon(g.getIconName?g.getIconName():null):nt.then(st=>{st&&st.setIcon(g.getIconName?g.getIconName():null)})}this.lastDropTarget=g}else if(g&&g.onDragging){const rt=this.createDropTargetEvent(g,e,a,c,o);g.onDragging(rt)}}getAllContainersFromDropTarget(e){const o=e.getSecondaryContainers?e.getSecondaryContainers():null,a=[[e.getContainer()]];return o?a.concat(o):a}allContainersIntersect(e,o){for(const a of o){const{width:c,height:d,left:g,right:b,top:_,bottom:$}=a.getBoundingClientRect();if(c===0||d===0)return!1;const j=e.clientX>=g&&e.clientX<b,rt=e.clientY>=_&&e.clientY<$;if(!j||!rt)return!1}return!0}isMouseOnDropTarget(e,o){const a=this.getAllContainersFromDropTarget(o);let c=!1;for(const b of a)if(this.allContainersIntersect(e,b)){c=!0;break}const{eElement:d,type:g}=this.dragSource;return o.targetContainsSource&&!o.getContainer().contains(d)?!1:c&&o.isInterestedIn(g,d)}findCurrentDropTarget(e,o){const a=o.length;if(a===0)return null;if(a===1)return o[0];const d=_getRootNode(this.gos).elementsFromPoint(e.clientX,e.clientY);for(const g of d)for(const b of o)if(_flatten(this.getAllContainersFromDropTarget(b)).indexOf(g)!==-1)return b;return null}enterDragTargetIfExists(e,o,a,c,d){if(e&&e.onDragEnter){const g=this.createDropTargetEvent(e,o,a,c,d);e.onDragEnter(g)}}leaveLastTargetIfExists(e,o,a,c){if(!this.lastDropTarget)return;if(this.lastDropTarget.onDragLeave){const g=this.createDropTargetEvent(this.lastDropTarget,e,o,a,c);this.lastDropTarget.onDragLeave(g)}const d=this.getDragAndDropImageComponent();d&&d.setIcon(null)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(o=>o.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(a=>a.external).find(a=>a.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const a=this.ctrlsService.getGridBodyCtrl().getGui(),{dropZoneTarget:c}=e;return a.contains(c)}getHorizontalDirection(e){const o=this.eventLastTime&&this.eventLastTime.clientX,a=e.clientX;return o===a?null:o>a?0:1}getVerticalDirection(e){const o=this.eventLastTime&&this.eventLastTime.clientY,a=e.clientY;return o===a?null:o>a?0:1}createDropTargetEvent(e,o,a,c,d){const g=e.getContainer(),b=g.getBoundingClientRect(),{dragItem:_,dragSource:$}=this,j=o.clientX-b.left,rt=o.clientY-b.top;return this.gos.addGridCommonParams({event:o,x:j,y:rt,vDirection:c,hDirection:a,dragSource:$,fromNudge:d,dragItem:_,dropZoneTarget:g})}positionDragAndDropImageComp(e){const o=this.getDragAndDropImageComponent();if(!o)return;const a=o.getGui(),d=a.getBoundingClientRect().height,g=_getBodyWidth()-2,b=_getBodyHeight()-2;if(!a.offsetParent)return;const $=_getElementRectWithOffset(a.offsetParent),{clientY:j,clientX:rt}=e;let nt=j-$.top-d/2,st=rt-$.left-10;const jt=_getDocument(this.gos),wl=jt.defaultView||window,Ft=wl.pageYOffset||jt.documentElement.scrollTop,it=wl.pageXOffset||jt.documentElement.scrollLeft;g>0&&st+a.clientWidth>g+it&&(st=g+it-a.clientWidth),st<0&&(st=0),b>0&&nt+a.clientHeight>b+Ft&&(nt=b+Ft-a.clientHeight),nt<0&&(nt=0),a.style.left=`${st}px`,a.style.top=`${nt}px`}removeDragAndDropImageComponent(){if(this.dragAndDropImageComp){const{comp:e}=this.dragAndDropImageComp;if(e){const o=e.getGui();this.dragAndDropImageParent&&this.dragAndDropImageParent.removeChild(o),this.destroyBean(e)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e}=this;if(!e)return;const a=this.userComponentFactory.getDragAndDropImageCompDetails({dragSource:e}).newAgStackInstance();this.dragAndDropImageComp={promise:a},a.then(c=>{!c||!this.isAlive()||(this.processDragAndDropImageComponent(c),this.dragAndDropImageComp.comp=c)})}processDragAndDropImageComponent(e){const{dragSource:o,mouseEventService:a,environment:c}=this;if(!o)return;const d=e.getGui();d.style.setProperty("position","absolute"),d.style.setProperty("z-index","9999"),a.stampTopLevelGridCompWithGridInstance(d),c.applyThemeClasses(d),e.setIcon(null);let{dragItemName:g}=o;_isFunction(g)&&(g=g()),e.setLabel(g||""),d.style.top="20px",d.style.left="20px";const b=_getDocument(this.gos);let _=null,$=null;try{_=b.fullscreenElement}catch{}finally{_||(_=_getRootNode(this.gos));const j=_.querySelector("body");j?$=j:_ instanceof ShadowRoot?$=_:_ instanceof Document?$=_==null?void 0:_.documentElement:$=_}this.dragAndDropImageParent=$,$?$.appendChild(d):_warnOnce("Could not find document body, it is needed for drag and drop.")}},AutoScrollService=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,o=!1){const a=o||this.shouldSkipVerticalScroll();if(a&&this.shouldSkipHorizontalScroll())return;const c=this.scrollContainer.getBoundingClientRect(),d=this.scrollByTick;this.tickLeft=e.clientX<c.left+d,this.tickRight=e.clientX>c.right-d,this.tickUp=e.clientY<c.top+d&&!a,this.tickDown=e.clientY>c.bottom-d&&!a,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const o=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(o-e),this.tickDown&&this.setVerticalPosition(o+e)}if(this.scrollHorizontally){const o=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(o-e),this.tickRight&&this.setHorizontalPosition(o+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}},RowHighlightPosition=(e=>(e[e.Above=0]="Above",e[e.Below=1]="Below",e))(RowHighlightPosition||{}),RowDragFeature=class extends BeanStub{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.sortController=e.sortController,this.filterManager=e.filterManager,this.selectionService=e.selectionService,this.mouseEventService=e.mouseEventService,this.ctrlsService=e.ctrlsService,this.funcColsService=e.funcColsService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){_isClientSideRowModel(this.gos)&&(this.clientSideRowModel=this.rowModel),this.ctrlsService.whenReady(this,e=>{const o=e.gridBodyCtrl;this.autoScrollService=new AutoScrollService({scrollContainer:o.getBodyViewportElement(),scrollAxis:"y",getVerticalPosition:()=>o.getScrollFeature().getVScrollPosition().top,setVerticalPosition:a=>o.getScrollFeature().setVerticalScrollPosition(a),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){var c;return!!(this.funcColsService.getRowGroupColumns().length||((c=this.filterManager)==null?void 0:c.isAnyFilterPresent())||this.sortController.isSortActive())}getRowNodes(e){if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const o=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const c=[...this.selectionService.getSelectedNodes()].sort((d,g)=>d.rowIndex==null||g.rowIndex==null?0:this.getRowIndexNumber(d)-this.getRowIndexNumber(g));if(c.indexOf(o)!==-1)return c}return[o]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(o=>{o.setDragging(!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:o}=e.dragSource;return o===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const o=this.mouseEventService.getNormalisedPosition(e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,o),this.autoScrollService.check(e.event)}doManagedDrag(e,o){const a=this.isFromThisGrid(e),c=this.gos.get("rowDragManaged"),d=e.dragItem.rowNodes;c&&this.shouldPreventRowMove()||(this.gos.get("suppressMoveWhenRowDragging")||!a?this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(d[0],o):this.moveRows(d,o))}getRowIndexNumber(e){const o=e.getRowIndexString();return parseInt(_last(o.split("-")),10)}moveRowAndClearHighlight(e){const o=this.clientSideRowModel.getLastHighlightedRowNode(),a=o&&o.highlighted===1,c=this.mouseEventService.getNormalisedPosition(e).y,d=e.dragItem.rowNodes;let g=a?1:0;if(this.isFromThisGrid(e))d.forEach(b=>{b.rowTop<c&&(g-=1)}),this.moveRows(d,c,g);else{const b=_getRowIdCallback(this.gos);let _=this.clientSideRowModel.getRowIndexAtPixel(c)+1;this.clientSideRowModel.getHighlightPosition(c)===0&&_--,this.clientSideRowModel.updateRowData({add:d.filter($=>!this.clientSideRowModel.getRowNode((b==null?void 0:b({data:$.data,level:0,rowPinned:$.rowPinned}))??$.data.id)).map($=>$.data),addIndex:_})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,o,a=0){var d;this.clientSideRowModel.ensureRowsAtPixel(e,o,a)&&(this.focusService.clearFocusedCell(),(d=this.rangeService)==null||d.removeAllCellRanges())}addRowDropZone(e){if(!e.getContainer()){_warnOnce("addRowDropZone - A container target needs to be provided");return}if(this.dragAndDropService.findExternalZone(e)){_warnOnce("addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.");return}let o={getContainer:e.getContainer};e.fromGrid?o=e:(e.onDragEnter&&(o.onDragEnter=c=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",c))}),e.onDragLeave&&(o.onDragLeave=c=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",c))}),e.onDragging&&(o.onDragging=c=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",c))}),e.onDragStop&&(o.onDragStop=c=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",c))}),e.onDragCancel&&(o.onDragCancel=c=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",c))}));const a={isInterestedIn:c=>c===2,getIconName:()=>"move",external:!0,...o};this.dragAndDropService.addDropTarget(a),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(a))}getRowDropZone(e){const o=this.getContainer.bind(this),a=this.onDragEnter.bind(this),c=this.onDragLeave.bind(this),d=this.onDragging.bind(this),g=this.onDragStop.bind(this),b=this.onDragCancel.bind(this);let _;return e?_={getContainer:o,onDragEnter:e.onDragEnter?$=>{a($),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",$))}:a,onDragLeave:e.onDragLeave?$=>{c($),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",$))}:c,onDragging:e.onDragging?$=>{d($),e.onDragging(this.draggingToRowDragEvent("rowDragMove",$))}:d,onDragStop:e.onDragStop?$=>{g($),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",$))}:g,onDragCancel:e.onDragCancel?$=>{b($),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",$))}:b,fromGrid:!0}:_={getContainer:o,onDragEnter:a,onDragLeave:c,onDragging:d,onDragStop:g,onDragCancel:b,fromGrid:!0},_}draggingToRowDragEvent(e,o){const a=this.mouseEventService.getNormalisedPosition(o).y,c=a>this.pageBoundsService.getCurrentPageHeight();let d=-1,g;c||(d=this.rowModel.getRowIndexAtPixel(a),g=this.rowModel.getRow(d));let b;switch(o.vDirection){case 1:b="down";break;case 0:b="up";break;default:b=null;break}return this.gos.addGridCommonParams({type:e,event:o.event,node:o.dragItem.rowNode,nodes:o.dragItem.rowNodes,overIndex:d,overNode:g,y:a,vDirection:b})}dispatchGridEvent(e,o){const a=this.draggingToRowDragEvent(e,o);this.eventService.dispatchEvent(a)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&(this.gos.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&this.dragAndDropService.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(o=>{o.setDragging(!1)})}},DragService=class extends BeanStub{constructor(){super(...arguments),this.beanName="dragService",this.dragEndFunctions=[],this.dragSources=[]}wireBeans(e){this.mouseEventService=e.mouseEventService}destroy(){this.dragSources.forEach(this.removeListener.bind(this)),this.dragSources.length=0,super.destroy()}removeListener(e){const o=e.dragSource.eElement,a=e.mouseDownListener;if(o.removeEventListener("mousedown",a),e.touchEnabled){const c=e.touchStartListener;o.removeEventListener("touchstart",c,{passive:!0})}}removeDragSource(e){const o=this.dragSources.find(a=>a.dragSource===e);o&&(this.removeListener(o),_removeFromArray(this.dragSources,o))}isDragging(){return this.dragging}addDragSource(e){const o=this.onMouseDown.bind(this,e),{eElement:a,includeTouch:c,stopPropagationForTouch:d}=e;a.addEventListener("mousedown",o);let g=null;const b=this.gos.get("suppressTouch");c&&!b&&(g=_=>{_isFocusableFormField(_.target)||(d&&_.stopPropagation(),this.onTouchStart(e,_))},a.addEventListener("touchstart",g,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:o,touchStartListener:g,touchEnabled:!!c})}getStartTarget(){return this.startTarget}onTouchStart(e,o){this.currentDragParams=e,this.dragging=!1;const a=o.touches[0];this.touchLastTime=a,this.touchStart=a;const c=$=>this.onTouchMove($,e.eElement),d=$=>this.onTouchUp($,e.eElement),g=$=>{$.cancelable&&$.preventDefault()},b=o.target,_=[{target:_getRootNode(this.gos),type:"touchmove",listener:g,options:{passive:!1}},{target:b,type:"touchmove",listener:c,options:{passive:!0}},{target:b,type:"touchend",listener:d,options:{passive:!0}},{target:b,type:"touchcancel",listener:d,options:{passive:!0}}];this.addTemporaryEvents(_),e.dragStartPixels===0&&this.onCommonMove(a,this.touchStart,e.eElement)}onMouseDown(e,o){const a=o;if(e.skipMouseEvent&&e.skipMouseEvent(o)||a._alreadyProcessedByDragService||(a._alreadyProcessedByDragService=!0,o.button!==0))return;this.shouldPreventMouseEvent(o)&&o.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=o,this.startTarget=o.target;const c=j=>this.onMouseMove(j,e.eElement),d=j=>this.onMouseUp(j,e.eElement),g=j=>j.preventDefault(),b=j=>{j.key===KeyCode.ESCAPE&&this.cancelDrag(e.eElement)},_=_getRootNode(this.gos),$=[{target:_,type:"mousemove",listener:c},{target:_,type:"mouseup",listener:d},{target:_,type:"contextmenu",listener:g},{target:_,type:"keydown",listener:b}];this.addTemporaryEvents($),e.dragStartPixels===0&&this.onMouseMove(o,e.eElement)}addTemporaryEvents(e){e.forEach(o=>{const{target:a,type:c,listener:d,options:g}=o;a.addEventListener(c,d,g)}),this.dragEndFunctions.push(()=>{e.forEach(o=>{const{target:a,type:c,listener:d,options:g}=o;a.removeEventListener(c,d,g)})})}isEventNearStartEvent(e,o){const{dragStartPixels:a}=this.currentDragParams,c=_exists(a)?a:4;return _areEventsNear(e,o,c)}getFirstActiveTouch(e){for(let o=0;o<e.length;o++)if(e[o].identifier===this.touchStart.identifier)return e[o];return null}onCommonMove(e,o,a){var c;if(!this.dragging){if(this.isEventNearStartEvent(e,o))return;if(this.dragging=!0,this.eventService.dispatchEvent({type:"dragStarted",target:a}),this.currentDragParams.onDragStart(o),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(o)}(c=this.currentDragParams)==null||c.onDragging(e)}onTouchMove(e,o){const a=this.getFirstActiveTouch(e.touches);a&&this.onCommonMove(a,this.touchStart,o)}onMouseMove(e,o){var a;_isBrowserSafari()&&((a=_getDocument(this.gos).getSelection())==null||a.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,o)}shouldPreventMouseEvent(e){const o=this.gos.get("enableCellTextSelection"),a=e.type==="mousemove";return o&&a&&e.cancelable&&this.mouseEventService.isEventFromThisGrid(e)&&!this.isOverFormFieldElement(e)}isOverFormFieldElement(e){const o=e.target,a=o==null?void 0:o.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))}onTouchUp(e,o){let a=this.getFirstActiveTouch(e.changedTouches);a||(a=this.touchLastTime),this.onUpCommon(a,o)}onMouseUp(e,o){this.onUpCommon(e,o)}onUpCommon(e,o){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventService.dispatchEvent({type:"dragStopped",target:o})),this.resetDragProperties()}cancelDrag(e){var o,a;this.eventService.dispatchEvent({type:"dragCancelled",target:e}),(a=(o=this.currentDragParams)==null?void 0:o.onDragCancel)==null||a.call(o),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null,this.dragEndFunctions.forEach(e=>e()),this.dragEndFunctions.length=0}},RowDragComp=class extends Component{constructor(e,o,a,c,d,g){super(),this.cellValueFn=e,this.rowNode=o,this.column=a,this.customGui=c,this.dragStartPixels=d,this.suppressVisibilityChange=g,this.dragSource=null}wireBeans(e){this.beans=e}isCustomGui(){return this.customGui!=null}postConstruct(){if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate('<div class="ag-drag-handle ag-row-drag" aria-hidden="true"></div>'),this.getGui().appendChild(_createIconNoSpan("rowDrag",this.gos,null)),this.addDragSource()),this.checkCompatibility(),!this.suppressVisibilityChange){const e=this.gos.get("rowDragManaged")?new ManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column):new NonManagedVisibilityStrategy(this,this.beans,this.rowNode,this.column);this.createManagedBean(e,this.beans.context)}}setDragElement(e,o){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(o)}getSelectedNodes(){if(!this.gos.get("rowDragMultiRow"))return[this.rowNode];const o=this.beans.selectionService.getSelectedNodes();return o.indexOf(this.rowNode)!==-1?o:[this.rowNode]}checkCompatibility(){const e=this.gos.get("rowDragManaged");this.gos.get("treeData")&&e&&_warnOnce("If using row drag with tree data, you cannot have rowDragManaged=true")}getDragItem(){return{rowNode:this.rowNode,rowNodes:this.getSelectedNodes(),columns:this.column?[this.column]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const o=e.getColDef();if(o.rowDragText)return o.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const o=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(o,{mousedown:c=>{c==null||c.preventDefault()}})[0]);const a=this.localeService.getLocaleTextFunc();this.dragSource={type:2,eElement:o,dragItemName:()=>{var b;const c=this.getDragItem(),d=((b=c.rowNodes)==null?void 0:b.length)||1,g=this.getRowDragText(this.column);return g?g(c,d):d===1?this.cellValueFn():`${d} ${a("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDropService.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},VisibilityStrategy=class extends BeanStub{constructor(e,o,a){super(),this.parent=e,this.rowNode=o,this.column=a}setDisplayedOrVisible(e){const o={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,o);else{let a=!0,c=!1;this.column&&(a=this.column.isRowDrag(this.rowNode)||this.parent.isCustomGui(),c=_isFunction(this.column.getColDef().rowDrag)),c?(this.parent.setDisplayed(!0,o),this.parent.setVisible(a,o)):(this.parent.setDisplayed(a,o),this.parent.setVisible(!0,o))}}},NonManagedVisibilityStrategy=class extends VisibilityStrategy{constructor(e,o,a,c){super(e,a,c),this.beans=o}postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},ManagedVisibilityStrategy=class extends VisibilityStrategy{constructor(e,o,a,c){super(e,a,c),this.beans=o}postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventService,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const o=this.beans.ctrlsService.getGridBodyCtrl().getRowDragFeature(),a=o&&o.shouldPreventRowMove(),c=this.gos.get("suppressRowDrag"),d=this.beans.dragAndDropService.hasExternalDropZones(),g=a&&!d||c;this.setDisplayedOrVisible(g)}},IGNORED_SIBLING_PROPERTIES=new Set(["localEventService","__objectId","sticky","__autoHeights","checkAutoHeightsDebounced"]),_RowNode=class x2{constructor(o){this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=x2.OBJECT_ID_SEQUENCE++,this.__autoHeights={},this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.selected=!1,this.beans=o}setData(o){this.setDataCommon(o,!1)}updateData(o){this.setDataCommon(o,!0)}setDataCommon(o,a){var g;const c=this.data;this.data=o,this.beans.valueCache.onDataChanged(),this.updateDataOnDetailNode(),this.checkRowSelectable(),this.resetQuickFilterAggregateText();const d=this.createDataChangedEvent(o,c,a);(g=this.localEventService)==null||g.dispatchEvent(d)}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(o,a,c){return{type:"dataChanged",node:this,oldData:a,newData:o,update:c}}getRowIndexString(){return this.rowIndex==null?(_errorOnce("Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid."),null):this.rowPinned==="top"?x2.ID_PREFIX_TOP_PINNED+this.rowIndex:this.rowPinned==="bottom"?x2.ID_PREFIX_BOTTOM_PINNED+this.rowIndex:this.rowIndex.toString()}createDaemonNode(){const o=new x2(this.beans);return o.id=this.id,o.data=this.data,o.__daemon=!0,o.selected=this.selected,o.level=this.level,o}setDataAndId(o,a){var b;const c=_exists(this.id)?this.createDaemonNode():null,d=this.data;this.data=o,this.updateDataOnDetailNode(),this.setId(a),this.checkRowSelectable(),this.beans.selectionService.syncInRowNode(this,c);const g=this.createDataChangedEvent(o,d,!1);(b=this.localEventService)==null||b.dispatchEvent(g)}checkRowSelectable(){const o=_getIsRowSelectable(this.beans.gos);this.setRowSelectable(o?o(this):!0)}setRowSelectable(o,a){if(this.selectable!==o){if(this.selectable=o,this.dispatchRowEvent("selectableChanged"),a)return;if(_getGroupSelectsDescendants(this.beans.gos)){const d=this.calculateSelectedFromChildren();this.setSelectedParams({newValue:d??!1,source:"selectableChanged"});return}this.isSelected()&&!this.selectable&&this.setSelectedParams({newValue:!1,source:"selectableChanged"})}}setId(o){var c;const a=_getRowIdCallback(this.beans.gos);if(a)if(this.data){const d=((c=this.parent)==null?void 0:c.getRoute())??[];this.id=a({data:this.data,parentKeys:d.length>0?d:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(x2.ID_PREFIX_ROW_GROUP)&&_errorOnce(`Row IDs cannot start with ${x2.ID_PREFIX_ROW_GROUP}, this is a reserved prefix for AG Grid's row grouping feature.`)}else this.id=void 0;else this.id=o}setRowTop(o){this.oldRowTop=this.rowTop,this.rowTop!==o&&(this.rowTop=o,this.dispatchRowEvent("topChanged"),this.setDisplayed(o!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(o){this.hovered=o}isHovered(){return this.hovered}setMaster(o){this.master!==o&&(this.master&&!o&&(this.expanded=!1),this.master=o,this.dispatchRowEvent("masterChanged"))}setGroup(o){this.group!==o&&(this.group&&!o&&(this.expanded=!1),this.group=o,this.updateHasChildren(),this.checkRowSelectable(),this.dispatchRowEvent("groupChanged"))}setRowHeight(o,a=!1){this.rowHeight=o,this.rowHeightEstimated=a,this.dispatchRowEvent("heightChanged")}setRowAutoHeight(o,a){this.__autoHeights||(this.__autoHeights={}),this.__autoHeights[a.getId()]=o,o!=null&&(this.checkAutoHeightsDebounced==null&&(this.checkAutoHeightsDebounced=_debounce(this.checkAutoHeights.bind(this),1)),this.checkAutoHeightsDebounced())}checkAutoHeights(){var _;let o=!1,a=!0,c=0;const d=this.__autoHeights;if(d==null||(this.beans.visibleColsService.getAllAutoHeightCols().forEach($=>{let j=d[$.getId()];if(j==null)if(this.beans.columnModel.isColSpanActive()){let rt=[];switch($.getPinned()){case"left":rt=this.beans.visibleColsService.getLeftColsForRow(this);break;case"right":rt=this.beans.visibleColsService.getRightColsForRow(this);break;case null:rt=this.beans.columnViewportService.getColsWithinViewport(this);break}if(rt.includes($)){o=!0;return}j=-1}else{o=!0;return}else a=!1;j>c&&(c=j)}),o)||((a||c<10)&&(c=_getRowHeightForNode(this.beans.gos,this).height),c==this.rowHeight))return;this.setRowHeight(c);const b=this.beans.rowModel;(_=b.onRowHeightChangedDebounced)==null||_.call(b)}setExpanded(o,a,c){if(this.expanded===o)return;this.expanded=o,this.dispatchRowEvent("expandedChanged");const d={...this.createGlobalRowEvent("rowGroupOpened"),expanded:o,event:a||null};this.beans.rowNodeEventThrottle.dispatchExpanded(d,c),this.beans.rowRenderer.refreshCells({rowNodes:[this]})}createGlobalRowEvent(o){return this.beans.gos.addGridCommonParams({type:o,node:this,data:this.data,rowIndex:this.rowIndex,rowPinned:this.rowPinned})}setDataValue(o,a,c){const g=typeof o!="string"?o:this.beans.columnModel.getCol(o)??this.beans.columnModel.getColDefCol(o),b=this.beans.valueService.getValueForDisplay(g,this);if(this.beans.gos.get("readOnlyEdit"))return this.beans.eventService.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:this.rowIndex,rowPinned:this.rowPinned,column:g,colDef:g.getColDef(),data:this.data,node:this,oldValue:b,newValue:a,value:a,source:c}),!1;const _=this.beans.valueService.setValue(this,g,a,c);return this.dispatchCellChangedEvent(g,a,b),this.checkRowSelectable(),_}setGroupValue(o,a){const c=this.beans.columnModel.getCol(o);_missing(this.groupData)&&(this.groupData={});const d=c.getColId(),g=this.groupData[d];g!==a&&(this.groupData[d]=a,this.dispatchCellChangedEvent(c,a,g))}setAggData(o){const a=this.aggData;if(this.aggData=o,this.localEventService){const c=d=>{const g=this.aggData?this.aggData[d]:void 0,b=a?a[d]:void 0;if(g===b)return;const _=this.beans.columnModel.getCol(d);_&&this.dispatchCellChangedEvent(_,g,b)};for(const d in a)c(d);for(const d in o)(!a||!(d in a))&&c(d)}}updateHasChildren(){let o=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;if(_isServerSideRowModel(this.beans.gos)){const c=this.beans.gos.get("treeData"),d=this.beans.gos.get("isServerSideGroup");o=!this.stub&&!this.footer&&(c?!!d&&d(this.data):!!this.group)}o!==this.__hasChildren&&(this.__hasChildren=!!o,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(o,a,c){var g;const d={type:"cellChanged",node:this,column:o,newValue:a,oldValue:c};(g=this.localEventService)==null||g.dispatchEvent(d)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){return this.footer?!1:this.beans.columnModel.isPivotMode()?this.hasChildren()&&!this.leafGroup:this.hasChildren()||!!this.master}isSelected(){return this.footer?this.sibling.isSelected():this.selected}depthFirstSearch(o){this.childrenAfterGroup&&this.childrenAfterGroup.forEach(a=>a.depthFirstSearch(o)),o(this)}calculateSelectedFromChildren(){var c;let o=!1,a=!1;if(!((c=this.childrenAfterGroup)!=null&&c.length))return this.selectable?this.selected:null;for(let d=0;d<this.childrenAfterGroup.length;d++){const g=this.childrenAfterGroup[d];let b=g.isSelected();if(!g.selectable){const _=g.calculateSelectedFromChildren();if(_===null)continue;b=_}switch(b){case!0:o=!0;break;case!1:a=!0;break;default:return}}if(!(o&&a))return o?!0:a?!1:this.selectable?this.selected:null}setSelectedInitialValue(o){this.selected=o}dispatchRowEvent(o){var a;(a=this.localEventService)==null||a.dispatchEvent({type:o,node:this})}selectThisNode(o,a,c="api"){const d=!this.selectable&&o,g=this.selected===o;if(d||g)return!1;this.selected=o,this.dispatchRowEvent("rowSelected");const b=this.sibling;return b&&b.footer&&b.localEventService&&b.dispatchRowEvent("rowSelected"),this.beans.eventService.dispatchEvent({...this.createGlobalRowEvent("rowSelected"),event:a||null,source:c}),!0}setSelected(o,a=!1,c="api"){if(typeof c=="boolean"){_warnOnce("since version v30, rowNode.setSelected() property `suppressFinishActions` has been removed, please use `gridApi.setNodesSelected()` for bulk actions, and the event `source` property for ignoring events instead.");return}this.setSelectedParams({newValue:o,clearSelection:a,rangeSelect:!1,source:c})}setSelectedParams(o){return this.rowPinned?(_warnOnce("cannot select pinned rows"),0):this.id===void 0?(_warnOnce("cannot select node until id for node is known"),0):this.beans.selectionService.setNodesSelected({...o,nodes:[this.footer?this.sibling:this]})}isRowPinned(){return!!this.rowPinned}addEventListener(o,a){var d;this.localEventService||(this.localEventService=new LocalEventService),this.beans.frameworkOverrides.shouldWrapOutgoing&&!this.frameworkEventListenerService&&(this.localEventService.setFrameworkOverrides(this.beans.frameworkOverrides),this.frameworkEventListenerService=new FrameworkEventListenerService(this.beans.frameworkOverrides));const c=((d=this.frameworkEventListenerService)==null?void 0:d.wrap(o,a))??a;this.localEventService.addEventListener(o,c)}removeEventListener(o,a){var d;if(!this.localEventService)return;const c=((d=this.frameworkEventListenerService)==null?void 0:d.unwrap(o,a))??a;this.localEventService.removeEventListener(o,c),this.localEventService.noRegisteredListenersExist()&&(this.localEventService=null)}onMouseEnter(){this.dispatchRowEvent("mouseEnter")}onMouseLeave(){this.dispatchRowEvent("mouseLeave")}isFullWidthCell(){if(_warnOnce("since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option."),this.detail)return!0;const o=this.beans.gos.getCallback("isFullWidthRow");return o?o({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const o=[];let a=this;for(;a&&a.key!=null;)o.push(a.key),a=a.parent;return o.reverse()}createFooter(){if(this.sibling)return;const o=new x2(this.beans);Object.keys(this).forEach(a=>{IGNORED_SIBLING_PROPERTIES.has(a)||(o[a]=this[a])}),o.footer=!0,o.setRowTop(null),o.setRowIndex(null),o.oldRowTop=null,o.id="rowGroupFooter_"+this.id,o.sibling=this,this.sibling=o}destroyFooter(){this.sibling&&(this.sibling.setRowTop(null),this.sibling.setRowIndex(null),this.sibling=void 0)}setFirstChild(o){this.firstChild!==o&&(this.firstChild=o,this.dispatchRowEvent("firstChildChanged"))}setLastChild(o){this.lastChild!==o&&(this.lastChild=o,this.dispatchRowEvent("lastChildChanged"))}setChildIndex(o){this.childIndex!==o&&(this.childIndex=o,this.dispatchRowEvent("childIndexChanged"))}setDisplayed(o){this.displayed!==o&&(this.displayed=o,this.dispatchRowEvent("displayedChanged"))}setDragging(o){this.dragging!==o&&(this.dragging=o,this.dispatchRowEvent("draggingChanged"))}setHighlighted(o){this.highlighted!==o&&(this.highlighted=o,this.dispatchRowEvent("rowHighlightChanged"))}setAllChildrenCount(o){this.allChildrenCount!==o&&(this.allChildrenCount=o,this.dispatchRowEvent("allChildrenCountChanged"))}setRowIndex(o){this.rowIndex!==o&&(this.rowIndex=o,this.dispatchRowEvent("rowIndexChanged"))}setUiLevel(o){this.uiLevel!==o&&(this.uiLevel=o,this.dispatchRowEvent("uiLevelChanged"))}};_RowNode.ID_PREFIX_ROW_GROUP="row-group-";_RowNode.ID_PREFIX_TOP_PINNED="t-";_RowNode.ID_PREFIX_BOTTOM_PINNED="b-";_RowNode.OBJECT_ID_SEQUENCE=0;var RowNode=_RowNode,FilterManager=class extends BeanStub{constructor(){super(...arguments),this.beanName="filterManager",this.advancedFilterModelUpdateQueue=[]}wireBeans(e){this.columnModel=e.columnModel,this.dataTypeService=e.dataTypeService,this.quickFilterService=e.quickFilterService,this.advancedFilterService=e.advancedFilterService,this.columnFilterService=e.columnFilterService}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),o=this.updateAdvancedFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:o,columnVisible:o,advancedFilterEnabledChanged:({enabled:a})=>this.onAdvancedFilterEnabledChanged(a),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.addManagedPropertyListener("advancedFilterModel",a=>this.setAdvancedFilterModel(a.currentValue)),this.quickFilterService&&this.addManagedListeners(this.quickFilterService,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"?e({}):!1}doesExternalFilterPass(e){const o=this.gos.get("doesExternalFilterPass");return typeof o=="function"?o(e):!1}setFilterModel(e,o="api"){var a;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}(a=this.columnFilterService)==null||a.setFilterModel(e,o)}getFilterModel(){var e;return((e=this.columnFilterService)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.columnFilterService)!=null&&e.isAggregateFilterPresent())}isExternalFilterPresent(){return this.externalFilterPresent}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}isAdvancedFilterPresent(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isFilterPresent()}onAdvancedFilterEnabledChanged(e){var o,a;e?(o=this.columnFilterService)!=null&&o.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(a=this.advancedFilterService)!=null&&a.isFilterPresent()&&(this.advancedFilterService.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvancedFilterEnabled(){var e;return!!((e=this.advancedFilterService)!=null&&e.isEnabled())}isAdvancedFilterHeaderActive(){return this.isAdvancedFilterEnabled()&&this.advancedFilterService.isHeaderActive()}isAnyFilterPresent(){return this.isQuickFilterPresent()||this.isColumnFilterPresent()||this.isAggregateFilterPresent()||this.isExternalFilterPresent()||this.isAdvancedFilterPresent()}resetQuickFilterCache(){var e;(e=this.quickFilterService)==null||e.resetQuickFilterCache()}refreshFiltersForAggregations(){_getGroupAggFiltering(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:o,additionalEventAttributes:a,columns:c=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.columnFilterService?this.columnFilterService.updateBeforeFilterChanged(e):AgPromise.resolve()).then(()=>{var g;const d={source:o,type:"filterChanged",columns:c};a&&_mergeDeep(d,a),this.eventService.dispatchEvent(d),(g=this.columnFilterService)==null||g.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.columnFilterService)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilterService)!=null&&e.isQuickFilterPresent())}updateAggFiltering(){this.aggFiltering=!!_getGroupAggFiltering(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.columnModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,o){return this.doesRowPassFilter({rowNode:o,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){return!(this.isAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isAggregateFilterPresent()&&!this.columnFilterService.doAggregateFiltersPass(e.rowNode,e.filterInstanceToSkip))}doesRowPassFilter(e){return!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilterService.doesRowPassQuickFilter(e.rowNode)||this.isExternalFilterPresent()&&!this.doesExternalFilterPass(e.rowNode)||this.isColumnFilterPresent()&&!this.columnFilterService.doColumnFiltersPass(e.rowNode,e.filterInstanceToSkip)||this.isAdvancedFilterPresent()&&!this.advancedFilterService.doesFilterPass(e.rowNode))}isFilterActive(e){var o;return!!((o=this.columnFilterService)!=null&&o.isFilterActive(e))}getOrCreateFilterWrapper(e){var o;return((o=this.columnFilterService)==null?void 0:o.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.columnFilterService.getDefaultFloatingFilter(e)}createFilterParams(e,o){return this.columnFilterService.createFilterParams(e,o)}isFilterAllowed(e){var o;return this.isAdvancedFilterEnabled()?!1:!!((o=this.columnFilterService)!=null&&o.isFilterAllowed(e))}getFloatingFilterCompDetails(e,o){var a;return(a=this.columnFilterService)==null?void 0:a.getFloatingFilterCompDetails(e,o)}getCurrentFloatingFilterParentModel(e){var o;return(o=this.columnFilterService)==null?void 0:o.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,o="api"){var a;(a=this.columnFilterService)==null||a.destroyFilter(e,o)}areFilterCompsDifferent(e,o){var a;return!!((a=this.columnFilterService)!=null&&a.areFilterCompsDifferent(e,o))}getAdvancedFilterModel(){return this.isAdvancedFilterEnabled()?this.advancedFilterService.getModel():null}setAdvancedFilterModel(e){var o;if(this.isAdvancedFilterEnabled()){if((o=this.dataTypeService)!=null&&o.isPendingInference()){this.advancedFilterModelUpdateQueue.push(e);return}this.advancedFilterService.setModel(e??null),this.onFilterChanged({source:"advancedFilter"})}}toggleAdvancedFilterBuilder(e,o){this.isAdvancedFilterEnabled()&&this.advancedFilterService.getCtrl().toggleFilterBuilder({source:o,force:e})}updateAdvancedFilterColumns(){this.isAdvancedFilterEnabled()&&this.advancedFilterService.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvancedFilterEnabled()?!1:!!((e=this.columnFilterService)!=null&&e.hasFloatingFilters())}getFilterInstance(e,o){var a;if(this.isAdvancedFilterEnabled()){this.warnAdvancedFilters();return}return(a=this.columnFilterService)==null?void 0:a.getFilterInstance(e,o)}getColumnFilterInstance(e){var o;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve(void 0)):((o=this.columnFilterService)==null?void 0:o.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvancedFilters(){_warnOnce("Column Filter API methods have been disabled as Advanced Filters are enabled.")}setupAdvancedFilterHeaderComp(e){var o;(o=this.advancedFilterService)==null||o.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvancedFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvancedFilterHeaderActive()?this.advancedFilterService.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advancedFilterModelUpdateQueue.forEach(e=>this.setAdvancedFilterModel(e)),this.advancedFilterModelUpdateQueue=[]}getColumnFilterModel(e){var o;return(o=this.columnFilterService)==null?void 0:o.getColumnFilterModel(e)}setColumnFilterModel(e,o){var a;return this.isAdvancedFilterEnabled()?(this.warnAdvancedFilters(),Promise.resolve()):((a=this.columnFilterService)==null?void 0:a.setColumnFilterModel(e,o))??Promise.resolve()}setColDefPropertiesForDataType(e,o,a){var c;(c=this.columnFilterService)==null||c.setColDefPropertiesForDataType(e,o,a)}},FilterWrapperComp=class extends Component{constructor(e,o){super('<div class="ag-filter"></div>'),this.column=e,this.source=o,this.filterWrapper=null}wireBeans(e){this.filterManager=e.filterManager,this.columnModel=e.columnModel}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,o;return((o=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:o.then(()=>{}))??AgPromise.resolve()}afterGuiAttached(e){var o,a;(a=(o=this.filterWrapper)==null?void 0:o.filterPromise)==null||a.then(c=>{var d;(d=c==null?void 0:c.afterGuiAttached)==null||d.call(c,e)})}afterGuiDetached(){var e,o;(o=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||o.then(a=>{var c;(c=a==null?void 0:a.afterGuiDetached)==null||c.call(a)})}createFilter(e){var c,d;const{column:o,source:a}=this;this.filterWrapper=((c=this.filterManager)==null?void 0:c.getOrCreateFilterWrapper(o))??null,(d=this.filterWrapper)!=null&&d.filterPromise&&this.filterWrapper.filterPromise.then(g=>{const b=g.getGui();_exists(b)||_warnOnce(`getGui method from filter returned ${b}; it should be a DOM element.`),this.appendChild(b),e&&this.eventService.dispatchEvent({type:"filterOpened",column:o,source:a,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.columnModel.getColDefCol(this.column)&&(_clearElement(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},RESIZE_CONTAINER_STYLE="ag-resizer-wrapper",makeDiv=(e,o)=>`<div data-ref="${e}Resizer" class="ag-resizer ag-resizer-${o}"></div>`,RESIZE_TEMPLATE=`<div class="${RESIZE_CONTAINER_STYLE}">
        ${makeDiv("eTopLeft","topLeft")}
        ${makeDiv("eTop","top")}
        ${makeDiv("eTopRight","topRight")}
        ${makeDiv("eRight","right")}
        ${makeDiv("eBottomRight","bottomRight")}
        ${makeDiv("eBottom","bottom")}
        ${makeDiv("eBottomLeft","bottomLeft")}
        ${makeDiv("eLeft","left")}
    </div>`,PositionableFeature=class extends BeanStub{constructor(e,o){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},o)}wireBeans(e){this.popupService=e.popupService,this.resizeObserverService=e.resizeObserverService,this.dragService=e.dragService}center(){const{clientHeight:e,clientWidth:o}=this.offsetParent,a=o/2-this.getWidth()/2,c=e/2-this.getHeight()/2;this.offsetElement(a,c)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:o,minWidth:a,width:c,minHeight:d,height:g,x:b,y:_}=this.config;this.offsetParent||this.setOffsetParent();let $=0,j=0;const rt=_isVisible(this.element);if(rt){const nt=this.findBoundaryElement(),st=window.getComputedStyle(nt);if(st.minWidth!=null){const jt=nt.offsetWidth-this.element.offsetWidth;j=parseInt(st.minWidth,10)-jt}if(st.minHeight!=null){const jt=nt.offsetHeight-this.element.offsetHeight;$=parseInt(st.minHeight,10)-jt}}if(this.minHeight=d||$,this.minWidth=a||j,c&&this.setWidth(c),g&&this.setHeight(g),(!c||!g)&&this.refreshSize(),e)this.center();else if(b||_)this.offsetElement(b,_);else if(rt&&o){let nt=this.boundaryEl,st=!0;if(nt||(nt=this.findBoundaryElement(),st=!1),nt){const jt=parseFloat(nt.style.top),wl=parseFloat(nt.style.left);st?this.offsetElement(isNaN(wl)?0:wl,isNaN(jt)?0:jt):this.setPosition(wl,jt)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,o){if(!this.config.popup||e===this.movable)return;this.movable=e;const a=this.moveElementDragListener||{eElement:o,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?(this.dragService.addDragSource(a),this.moveElementDragListener=a):(this.dragService.removeDragSource(a),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(o=>{const c=!!e[o],d=this.getResizerElement(o),g={dragStartPixels:0,eElement:d,onDragStart:b=>this.onResizeStart(b,o),onDragging:this.onResize.bind(this),onDragStop:b=>this.onResizeEnd(b,o)};(c||!this.isAlive()&&!c)&&(c?(this.dragService.addDragSource(g),this.resizeListeners.push(g),d.style.pointerEvents="all"):d.style.pointerEvents="none",this.resizable[o]=c)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:o}=this.lastSize;o!==-1&&(this.element.style.width=`${o}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:o}=this.config,a=this.element;let c=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_setFixedHeight(a,e),e=_getAbsoluteHeight(a),c=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const d=this.getAvailableHeight();d&&e>d&&(e=d)}this.getHeight()!==e&&(c?(a.style.maxHeight="unset",a.style.minHeight="unset"):o?_setFixedHeight(a,e):(a.style.height=`${e}px`,a.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:o}=this.config;this.positioned||this.initialisePosition();const{clientHeight:a}=this.offsetParent;if(!a)return null;const c=this.element.getBoundingClientRect(),d=this.offsetParent.getBoundingClientRect(),g=e?this.position.y:c.top,b=e?0:d.top;let _=0;if(o){const j=this.element.parentElement;if(j){const{bottom:rt}=j.getBoundingClientRect();_=rt-c.bottom}}return a+b-g-_}getWidth(){return this.element.offsetWidth}setWidth(e){const o=this.element,{popup:a}=this.config;let c=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_setFixedWidth(o,e),e=_getAbsoluteWidth(o),c=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:d}=this.offsetParent,g=a?this.position.x:this.element.getBoundingClientRect().left;d&&e+g>d&&(e=d-g)}this.getWidth()!==e&&(c?(o.style.maxWidth="unset",o.style.minWidth="unset"):this.config.popup?_setFixedWidth(o,e):(o.style.width=`${e}px`,o.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,o=0){const{forcePopupParentAsOffsetParent:a}=this.config,c=a?this.boundaryEl:this.element;c&&(this.popupService.positionPopup({ePopup:c,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:o})}),this.setPosition(parseFloat(c.style.left),parseFloat(c.style.top)))}constrainSizeToAvailableHeight(e){if(!this.config.forcePopupParentAsOffsetParent)return;const o=()=>{const a=this.getAvailableHeight();this.element.style.setProperty("max-height",`${a}px`)};e?this.resizeObserverSubscriber=this.resizeObserverService.observeResize(this.popupService.getPopupParent(),o):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,o){this.position.x=e,this.position.y=o}updateDragStartPosition(e,o){this.dragStartPosition={x:e,y:o}}calculateMouseMovement(e){const{e:o,isLeft:a,isTop:c,anywhereWithin:d,topBuffer:g}=e,b=o.clientX-this.dragStartPosition.x,_=o.clientY-this.dragStartPosition.y,$=this.shouldSkipX(o,!!a,!!d,b)?0:b,j=this.shouldSkipY(o,!!c,g,_)?0:_;return{movementX:$,movementY:j}}shouldSkipX(e,o,a,c){const d=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),b=this.boundaryEl.getBoundingClientRect(),_=this.config.popup?this.position.x:d.left;let $=_<=0&&g.left>=e.clientX||g.right<=e.clientX&&g.right<=b.right;return $?!0:(o?$=c<0&&e.clientX>_+g.left||c>0&&e.clientX<_+g.left:a?$=c<0&&e.clientX>b.right||c>0&&e.clientX<_+g.left:$=c<0&&e.clientX>b.right||c>0&&e.clientX<b.right,$)}shouldSkipY(e,o,a=0,c){const d=this.element.getBoundingClientRect(),g=this.offsetParent.getBoundingClientRect(),b=this.boundaryEl.getBoundingClientRect(),_=this.config.popup?this.position.y:d.top;let $=_<=0&&g.top>=e.clientY||g.bottom<=e.clientY&&g.bottom<=b.bottom;return $?!0:(o?$=c<0&&e.clientY>_+g.top+a||c>0&&e.clientY<_+g.top:$=c<0&&e.clientY>b.bottom||c>0&&e.clientY<b.bottom,$)}createResizeMap(){const e=this.element;this.resizerMap={topLeft:{element:e.querySelector("[data-ref=eTopLeftResizer]")},top:{element:e.querySelector("[data-ref=eTopResizer]")},topRight:{element:e.querySelector("[data-ref=eTopRightResizer]")},right:{element:e.querySelector("[data-ref=eRightResizer]")},bottomRight:{element:e.querySelector("[data-ref=eBottomRightResizer]")},bottom:{element:e.querySelector("[data-ref=eBottomResizer]")},bottomLeft:{element:e.querySelector("[data-ref=eBottomLeftResizer]")},left:{element:e.querySelector("[data-ref=eLeftResizer]")}}}addResizers(){if(this.resizersAdded)return;const e=this.element;if(!e)return;const a=new DOMParser().parseFromString(RESIZE_TEMPLATE,"text/html").body;e.appendChild(a.firstChild),this.createResizeMap(),this.resizersAdded=!0}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${RESIZE_CONTAINER_STYLE}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,o){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!o.match(/top/i),isRight:!!o.match(/right/i),isBottom:!!o.match(/bottom/i),isLeft:!!o.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[o].element.classList.add("ag-active");const{popup:a,forcePopupParentAsOffsetParent:c}=this.config;!a&&!c&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const o=this.element.parentElement;return o?Array.prototype.slice.call(o.children).filter(a=>!a.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let o=0,a=0;for(let c=0;c<e.length;c++){const d=e[c],g=!!d.style.flex&&d.style.flex!=="0 0 auto";if(d===this.element)continue;let b=this.minHeight||0,_=this.minWidth||0;if(g){const $=window.getComputedStyle(d);$.minHeight&&(b=parseInt($.minHeight,10)),$.minWidth&&(_=parseInt($.minWidth,10))}else b=d.offsetHeight,_=d.offsetWidth;o+=b,a+=_}return{height:o,width:a}}applySizeToSiblings(e){let o=null;const a=this.getSiblings();if(a){for(let c=0;c<a.length;c++){const d=a[c];d!==o&&(e?d.style.height=`${d.offsetHeight}px`:d.style.width=`${d.offsetWidth}px`,d.style.flex="0 0 auto",d===this.element&&(o=a[c+1]))}o&&(o.style.removeProperty("height"),o.style.removeProperty("min-height"),o.style.removeProperty("max-height"),o.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:o,forcePopupParentAsOffsetParent:a}=this.config,{isTop:c,isRight:d,isBottom:g,isLeft:b}=this.currentResizer,_=d||b,$=g||c,{movementX:j,movementY:rt}=this.calculateMouseMovement({e,isLeft:b,isTop:c}),nt=this.position.x,st=this.position.y;let jt=0,wl=0;if(_&&j){const Ft=b?-1:1,it=this.getWidth(),ot=it+j*Ft;let Ln=!1;b&&(jt=it-ot,(nt+jt<=0||ot<=this.minWidth)&&(Ln=!0,jt=0)),Ln||this.setWidth(ot)}if($&&rt){const Ft=c?-1:1,it=this.getHeight(),ot=it+rt*Ft;let Ln=!1;c?(wl=it-ot,(st+wl<=0||ot<=this.minHeight)&&(Ln=!0,wl=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&it<ot&&this.getMinSizeOfSiblings().height+ot>this.element.parentElement.offsetHeight&&(Ln=!0),Ln||this.setHeight(ot)}this.updateDragStartPosition(e.clientX,e.clientY),((o||a)&&jt||wl)&&this.offsetElement(nt+jt,st+wl)}onResizeEnd(e,o){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[o].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:o,y:a}=this.position;let c;this.config.calculateTopBuffer&&(c=this.config.calculateTopBuffer());const{movementX:d,movementY:g}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:c});this.offsetElement(o+d,a+g),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent?this.offsetParent=this.popupService.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){for(;this.resizeListeners.length;){const e=this.resizeListeners.pop();this.dragService.removeDragSource(e)}}destroy(){super.destroy(),this.moveElementDragListener&&this.dragService.removeDragSource(this.moveElementDragListener),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},_ManagedFocusFeature=class W5 extends BeanStub{constructor(o,a={}){super(),this.eFocusableElement=o,this.callbacks=a,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:c=>{if(c.defaultPrevented)return;const d=this.focusService.findNextFocusableElement(this.eFocusableElement,!1,c.shiftKey);d&&(d.focus(),c.preventDefault())},...a}}wireBeans(o){this.focusService=o.focusService}postConstruct(){this.eFocusableElement.classList.add(W5.FOCUS_MANAGED_CLASS),this.addKeyDownListeners(this.eFocusableElement),this.callbacks.onFocusIn&&this.addManagedElementListeners(this.eFocusableElement,{focusin:this.callbacks.onFocusIn}),this.callbacks.onFocusOut&&this.addManagedElementListeners(this.eFocusableElement,{focusout:this.callbacks.onFocusOut})}addKeyDownListeners(o){this.addManagedElementListeners(o,{keydown:a=>{if(!(a.defaultPrevented||_isStopPropagationForAgGrid(a))){if(this.callbacks.shouldStopEventPropagation(a)){_stopPropagationForAgGrid(a);return}a.key===KeyCode.TAB?this.callbacks.onTabKeyDown(a):this.callbacks.handleKeyDown&&this.callbacks.handleKeyDown(a)}}})}};_ManagedFocusFeature.FOCUS_MANAGED_CLASS="ag-focus-managed";var ManagedFocusFeature=_ManagedFocusFeature,FILTER_LOCALE_TEXT={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function getDebounceMs(e,o){return isUseApplyButton(e)?(e.debounceMs!=null&&_warnOnce("debounceMs is ignored when apply button is present"),0):e.debounceMs!=null?e.debounceMs:o}function isUseApplyButton(e){return!!e.buttons&&e.buttons.indexOf("apply")>=0}var ProvidedFilter=class extends Component{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=RefPlaceholder,this.buttonListeners=[]}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.resetTemplate(),this.createManagedBean(new ManagedFocusFeature(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new PositionableFeature(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let o=this.getGui();o&&o.removeEventListener("submit",this.onFormSubmit);const a=`
            <form class="ag-filter-wrapper">
                <div class="ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper" data-ref="eFilterBody">
                    ${this.createBodyTemplate()}
                </div>
            </form>`;this.setTemplate(a,this.getAgComponents(),e),o=this.getGui(),o&&o.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.providedFilterParams.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.providedFilterParams=e,this.applyActive=isUseApplyButton(e),this.resetButtonsPanel(e)}updateParams(e){this.providedFilterParams=e,this.applyActive=isUseApplyButton(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,o){const{buttons:a,readOnly:c}=o??{},{buttons:d,readOnly:g}=e;if(c===g&&_jsonEquals(a,d))return;const b=d&&d.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(_clearElement(this.eButtonsPanel),this.buttonListeners.forEach(j=>j()),this.buttonListeners=[]):b&&(this.eButtonsPanel=document.createElement("div"),this.eButtonsPanel.classList.add("ag-filter-apply-panel")),!b){this.eButtonsPanel&&_removeFromParent(this.eButtonsPanel);return}const _=document.createDocumentFragment(),$=j=>{let rt,nt;switch(j){case"apply":rt=this.translate("applyFilter"),nt=wl=>this.onBtApply(!1,!1,wl);break;case"clear":rt=this.translate("clearFilter"),nt=()=>this.onBtClear();break;case"reset":rt=this.translate("resetFilter"),nt=()=>this.onBtReset();break;case"cancel":rt=this.translate("cancelFilter"),nt=wl=>{this.onBtCancel(wl)};break;default:_warnOnce("Unknown button type specified");return}const jt=_loadTemplate(`<button
                    type="${j==="apply"?"submit":"button"}"
                    data-ref="${j}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${rt}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(jt,{click:nt})),_.append(jt)};d.forEach(j=>$(j)),this.eButtonsPanel.append(_),this.getGui().appendChild(this.eButtonsPanel)}getDefaultDebounceMs(){return 0}setupOnBtApplyDebounce(){const e=getDebounceMs(this.providedFilterParams,this.getDefaultDebounceMs()),o=_debounce(this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,o()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel?this.appliedModel:null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.providedFilterParams.closeOnApply&&this.close(e)}resetUiToActiveModel(e,o){const a=()=>{this.onUiChanged(!1,"prevent"),o==null||o()};e!=null?this.setModelIntoUi(e).then(a):this.resetUiToDefaults().then(a)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const o=this.getModelFromUi();if(!this.isModelValid(o))return!1;const a=this.appliedModel;return this.appliedModel=o,!this.areModelsEqual(a,o)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,o=!1,a){a&&a.preventDefault(),this.applyModel(o?"rowDataUpdated":"ui")&&this.providedFilterParams.filterChangedCallback({afterFloatingFilter:e,afterDataChange:o,source:"columnFilter"});const{closeOnApply:c}=this.providedFilterParams;c&&this.applyActive&&!e&&!o&&this.close(a)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const o=e,a=o&&o.key;let c;(a==="Enter"||a==="Space")&&(c={keyboardEvent:o}),this.hidePopup(c),this.hidePopup=null}onUiChanged(e=!1,o){if(this.updateUiVisibility(),this.providedFilterParams.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const a=this.isModelValid(this.getModelFromUi()),c=this.queryForHtmlElement('[data-ref="applyFilterButton"]');c&&_setDisabled(c,!a)}e&&!o||o==="immediately"?this.onBtApply(e):(!this.applyActive&&!o||o==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){if(!this.positionableFeature||e==="toolPanel")return;const o=e==="floatingFilter"||e==="columnFilter",{positionableFeature:a,gos:c}=this;o?(a.restoreLastSize(),a.setResizable(c.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(this.positionableFeature.removeSizeFromEl(),this.positionableFeature.setResizable(!1)),this.positionableFeature.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){this.checkApplyDebounce(),this.positionableFeature&&this.positionableFeature.constrainSizeToAvailableHeight(!1)}refresh(e){const o=this.providedFilterParams;return this.providedFilterParams=e,this.resetButtonsPanel(e,o),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.localeService.getLocaleTextFunc()(e,FILTER_LOCALE_TEXT[e])}getCellValue(e){return this.providedFilterParams.getValue(e)}getPositionableElement(){return this.eFilterBody}},AgRadioButton=class extends AgCheckbox{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){e.selected&&e.name&&this.eInput.name&&this.eInput.name===e.name&&e.id&&this.eInput.id!==e.id&&this.setValue(!1,!0)}},AgList=class extends Component{constructor(e="default",o=!1){super(`<div class="ag-list ag-${e}-list" role="listbox"></div>`),this.cssIdentifier=e,this.unFocusable=o,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const o=e.key;switch(o){case KeyCode.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const a=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(a)}break;case KeyCode.DOWN:case KeyCode.UP:e.preventDefault(),this.navigate(o);break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:e.preventDefault(),this.navigateToPage(o);break}}navigate(e){const o=e===KeyCode.DOWN;let a;if(!this.highlightedEl)a=this.itemEls[o?0:this.itemEls.length-1];else{let d=this.itemEls.indexOf(this.highlightedEl)+(o?1:-1);d=Math.min(Math.max(d,0),this.itemEls.length-1),a=this.itemEls[d]}this.highlightItem(a)}navigateToPage(e){if(!this.highlightedEl||this.itemEls.length===0)return;const o=this.itemEls.indexOf(this.highlightedEl),a=this.options.length-1,c=this.itemEls[0].clientHeight,d=Math.floor(this.getGui().clientHeight/c);let g=-1;e===KeyCode.PAGE_HOME?g=0:e===KeyCode.PAGE_END?g=a:e===KeyCode.PAGE_DOWN?g=Math.min(o+d,a):e===KeyCode.PAGE_UP&&(g=Math.max(o-d,0)),g!==-1&&this.highlightItem(this.itemEls[g])}addOptions(e){return e.forEach(o=>this.addOption(o)),this}addOption(e){const{value:o,text:a}=e,c=a||o;return this.options.push({value:o,text:c}),this.renderOption(o,c),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{_removeFromParent(e)}),this.itemEls=[]}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");e.forEach((o,a)=>{_setAriaPosInSet(o,a+1),_setAriaSetSize(o,e.length)})}renderOption(e,o){const a=_getDocument(this.gos),c=a.createElement("div");_setAriaRole(c,"option"),c.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const d=a.createElement("span");c.appendChild(d),d.textContent=o,this.unFocusable||(c.tabIndex=-1),this.itemEls.push(c),this.addManagedListeners(c,{mouseover:()=>this.highlightItem(c),mousedown:g=>{g.preventDefault(),g.stopPropagation(),this.setValue(e)}}),this.createManagedBean(new TooltipFeature({getTooltipValue:()=>o,getGui:()=>c,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>d.scrollWidth>d.clientWidth})),this.getGui().appendChild(c)}setValue(e,o){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(o),this;const a=this.options.findIndex(c=>c.value===e);if(a!==-1){const c=this.options[a];this.value=c.value,this.displayValue=c.text,this.highlightItem(this.itemEls[a]),o||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(o=>o.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!_isVisible(e))return;this.clearHighlighted(),this.highlightedEl=e,this.highlightedEl.classList.add(this.activeClass),_setAriaSelected(this.highlightedEl,!0);const o=this.getGui(),{scrollTop:a,clientHeight:c}=o,{offsetTop:d,offsetHeight:g}=e;(d+g>a+c||d<a)&&this.highlightedEl.scrollIntoView({block:"nearest"}),this.unFocusable||this.highlightedEl.focus()}clearHighlighted(){!this.highlightedEl||!_isVisible(this.highlightedEl)||(this.highlightedEl.classList.remove(this.activeClass),_setAriaSelected(this.highlightedEl,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},AgPickerField=class extends AgAbstractField{constructor(e){if(super(e,(e==null?void 0:e.template)||`
            <div class="ag-picker-field" role="presentation">
                <div data-ref="eLabel"></div>
                <div data-ref="eWrapper" class="ag-wrapper ag-picker-field-wrapper ag-picker-collapsed">
                    <div data-ref="eDisplayField" class="ag-picker-field-display"></div>
                    <div data-ref="eIcon" class="ag-picker-field-icon" aria-hidden="true"></div>
                </div>
            </div>`,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=RefPlaceholder,this.eWrapper=RefPlaceholder,this.eDisplayField=RefPlaceholder,this.eIcon=RefPlaceholder,this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:o,maxPickerHeight:a,variableWidth:c,minPickerWidth:d,maxPickerWidth:g}=e;o!=null&&(this.pickerGap=o),this.variableWidth=!!c,a!=null&&this.setPickerMaxHeight(a),d!=null&&this.setPickerMinWidth(d),g!=null&&this.setPickerMaxWidth(g)}wireBeans(e){this.popupService=e.popupService}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const o=this.getAriaElement();this.addManagedElementListeners(o,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:a,inputWidth:c}=this.config;if(a){const d=_createIconNoSpan(a,this.gos);d&&this.eIcon.appendChild(d)}c!=null&&this.setInputWidth(c)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),_setAriaExpanded(e,!1),this.ariaRole&&_setAriaRole(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const o=this.getFocusableElement();if(o!==this.eWrapper&&(e==null?void 0:e.target)===o)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case KeyCode.UP:case KeyCode.DOWN:case KeyCode.ENTER:case KeyCode.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case KeyCode.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const o=this.localeService.getLocaleTextFunc(),{pickerAriaLabelKey:a,pickerAriaLabelValue:c,modalPicker:d=!0}=this.config,g={modal:d,eChild:e,closeOnEsc:!0,closedCallback:()=>{const st=_isNothingFocused(this.gos);this.beforeHidePicker(),st&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:o(a,c),anchorToElement:this.eWrapper};e.style.position="absolute";const b=this.popupService.addPopup(g),{maxPickerHeight:_,minPickerWidth:$,maxPickerWidth:j,variableWidth:rt}=this;rt?($&&(e.style.minWidth=$),e.style.width=_formatSize(_getAbsoluteWidth(this.eWrapper)),j&&(e.style.maxWidth=j)):_setElementWidth(e,j??_getAbsoluteWidth(this.eWrapper));const nt=_??`${_getInnerHeight(this.popupService.getPopupParent())}px`;return e.style.setProperty("max-height",nt),this.alignPickerToComponent(),b.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerType:e}=this.config,{pickerGap:o}=this,a=this.gos.get("enableRtl")?"right":"left";this.popupService.positionPopupByComponent({type:e,eventSource:this.eWrapper,ePopup:this.pickerComponent.getGui(),position:"under",alignSide:a,keepWithinBounds:!0,nudgeY:o})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const o=this.getAriaElement();_setAriaExpanded(o,e),this.eWrapper.classList.toggle("ag-picker-expanded",e),this.eWrapper.classList.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var o;(o=this.pickerComponent)!=null&&o.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){this.hideCurrentPicker&&this.hideCurrentPicker()}setInputWidth(e){return _setElementWidth(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},AgSelect=class extends AgPickerField{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"smallDown",ariaRole:"combobox",...e})}postConstruct(){super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:o,placeholder:a}=this.config;e!=null&&this.addOptions(e),o!=null&&this.setValue(o,!0),a&&o==null&&(this.eDisplayField.textContent=a),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){this.listComponent=this.createBean(new AgList("select",!0)),this.listComponent.setParentComponent(this);const e=this.listComponent.getAriaElement(),o=`ag-select-list-${this.listComponent.getCompId()}`;e.setAttribute("id",o),_setAriaControls(this.getAriaElement(),e),this.listComponent.addManagedListeners(this.listComponent,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})}}),this.listComponent.addManagedListeners(this.listComponent,{fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var a;const{key:o}=e;switch(o===KeyCode.TAB&&this.hidePicker(),o){case KeyCode.ENTER:case KeyCode.UP:case KeyCode.DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(a=this.listComponent)==null||a.handleKeyDown(e):super.onKeyDown(e);break;case KeyCode.ESCAPE:super.onKeyDown(e);break;case KeyCode.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){this.listComponent&&(super.showPicker(),this.listComponent.refreshHighlighted())}addOptions(e){return e.forEach(o=>this.addOption(o)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this}setValue(e,o,a){if(this.value===e||!this.listComponent)return this;if(a||this.listComponent.setValue(e,!0),this.listComponent.getValue()===this.getValue())return this;let d=this.listComponent.getDisplayValue();return d==null&&this.config.placeholder&&(d=this.config.placeholder),this.eDisplayField.textContent=d,this.setTooltip({newTooltipText:d??null,shouldDisplayTooltip:()=>this.eDisplayField.scrollWidth>this.eDisplayField.clientWidth}),super.setValue(e,o)}destroy(){this.listComponent&&(this.listComponent=this.destroyBean(this.listComponent)),super.destroy()}},AgSelectSelector={selector:"AG-SELECT",component:AgSelect},OptionsFactory=class{constructor(){this.customFilterOptions={}}init(e,o){this.filterOptions=e.filterOptions||o,this.mapCustomOptions(),this.selectDefaultItem(e)}getFilterOptions(){return this.filterOptions}mapCustomOptions(){this.filterOptions&&this.filterOptions.forEach(e=>{if(typeof e=="string")return;const o=[["displayKey"],["displayName"],["predicate","test"]],a=c=>c.some(d=>e[d]!=null)?!0:(_warnOnce(`ignoring FilterOptionDef as it doesn't contain one of '${c}'`),!1);if(!o.every(a)){this.filterOptions=this.filterOptions.filter(c=>c===e)||[];return}this.customFilterOptions[e.displayKey]=e})}selectDefaultItem(e){if(e.defaultOption)this.defaultOption=e.defaultOption;else if(this.filterOptions.length>=1){const o=this.filterOptions[0];typeof o=="string"?this.defaultOption=o:o.displayKey?this.defaultOption=o.displayKey:_warnOnce("invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'")}else _warnOnce("no filter options for filter")}getDefaultOption(){return this.defaultOption}getCustomOption(e){return this.customFilterOptions[e]}},SimpleFilter=class extends ProvidedFilter{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const o=this.optionsFactory.getCustomOption(e);if(o){const{numberOfInputs:c}=o;return c??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,o){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(o),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((o,a)=>{a===0?o.setValue(e,!0):o.setValue(this.optionsFactory.getDefaultOption(),!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.getFilterType(),operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){return this.eJoinOperatorsOr.length===0?this.defaultJoinOperator:this.eJoinOperatorsOr[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,o){if(!e&&!o)return!0;if(!e&&o||e&&!o)return!1;const a=!e.operator,c=!o.operator;if(!a&&c||a&&!c)return!1;let g;if(a){const b=e,_=o;g=this.areSimpleModelsEqual(b,_)}else{const b=e,_=o;g=b.operator===_.operator&&_areEqual(b.conditions,_.conditions,($,j)=>this.areSimpleModelsEqual($,j))}return g}shouldRefresh(e){var g;const o=this.getModel(),a=o?o.conditions??[o]:null,c=((g=e.filterOptions)==null?void 0:g.map(b=>typeof b=="string"?b:b.displayKey))??this.getDefaultFilterOptions();return!(!(!a||a.every(b=>c.find(_=>_===b.type)!==void 0))||typeof e.maxNumConditions=="number"&&a&&a.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const a=e;let c=a.conditions;c==null&&(c=[],_warnOnce("Filter model is missing 'conditions'"));const d=this.validateAndUpdateConditions(c),g=this.getNumConditions();if(d<g)this.removeConditionsAndOperators(d);else if(d>g)for(let _=g;_<d;_++)this.createJoinOperatorPanel(),this.createOption();const b=a.operator==="OR";this.eJoinOperatorsAnd.forEach(_=>_.setValue(!b,!0)),this.eJoinOperatorsOr.forEach(_=>_.setValue(b,!0)),c.forEach((_,$)=>{this.eTypes[$].setValue(_.type,!0),this.setConditionIntoUi(_,$)})}else{const a=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(a.type,!0),this.setConditionIntoUi(a,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),AgPromise.resolve()}validateAndUpdateConditions(e){let o=e.length;return o>this.maxNumConditions&&(e.splice(this.maxNumConditions),_warnOnce('Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.'),o=this.maxNumConditions),o}doesFilterPass(e){const o=this.getModel();if(o==null)return!0;const{operator:a}=o,c=[];if(a){const g=o;c.push(...g.conditions??[])}else c.push(o);return c[a&&a==="OR"?"some":"every"](g=>this.individualConditionPasses(e,g))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=this.getDefaultJoinOperator(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new OptionsFactory,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){this.maxNumConditions=e.maxNumConditions??2,this.maxNumConditions<1&&(_warnOnce('"filterParams.maxNumConditions" must be greater than or equal to zero.'),this.maxNumConditions=1),this.numAlwaysVisibleConditions=e.numAlwaysVisibleConditions??1,this.numAlwaysVisibleConditions<1&&(_warnOnce('"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.'),this.numAlwaysVisibleConditions=1),this.numAlwaysVisibleConditions>this.maxNumConditions&&(_warnOnce('"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".'),this.numAlwaysVisibleConditions=this.maxNumConditions)}createOption(){const e=this.createManagedBean(new AgSelect);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const o=this.createValueElement();this.eConditionBodies.push(o),this.eFilterBody.appendChild(o),this.putOptionsIntoDropdown(e),this.resetType(e);const a=this.getNumConditions()-1;this.forEachPositionInput(a,c=>this.resetInput(c)),this.addChangedListeners(e,a)}createJoinOperatorPanel(){const e=document.createElement("div");this.eJoinOperatorPanels.push(e),e.classList.add("ag-filter-condition");const o=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),a=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const c=this.eJoinOperatorPanels.length-1,d=this.joinOperatorId++;this.resetJoinOperatorAnd(o,c,d),this.resetJoinOperatorOr(a,c,d),this.isReadOnly()||(o.onValueChange(this.listener),a.onValueChange(this.listener))}createJoinOperator(e,o,a){const c=this.createManagedBean(new AgRadioButton);return e.push(c),c.addCssClass("ag-filter-condition-operator"),c.addCssClass(`ag-filter-condition-operator-${a}`),o.appendChild(c.getGui()),c}getDefaultJoinOperator(e){return e==="AND"||e==="OR"?e:"AND"}createFilterListOptions(){const e=this.optionsFactory.getFilterOptions();this.filterListOptions=e.map(o=>typeof o=="string"?this.createBoilerplateListOption(o):this.createCustomListOption(o))}putOptionsIntoDropdown(e){this.filterListOptions.forEach(o=>{e.addOption(o)}),e.setDisabled(this.filterListOptions.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:o}=e,a=this.optionsFactory.getCustomOption(e.displayKey);return{value:o,text:a?this.localeService.getLocaleTextFunc()(a.displayKey,a.displayName):this.translate(o)}}createBodyTemplate(){return""}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,o=!0;for(let a=0;a<this.getNumConditions();a++)this.isConditionUiComplete(a)?e=a:o=!1;if(this.shouldAddNewConditionAtEnd(o))this.createJoinOperatorPanel(),this.createOption();else{const a=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<a){this.removeConditionsAndOperators(a+1);const c=e+1,d=a-c;d>0&&this.removeConditionsAndOperators(c,d),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,o){this.eTypes.forEach((c,d)=>{const g=this.isConditionDisabled(d,e);c.setDisabled(g||this.filterListOptions.length<=1),d===1&&(_setDisabled(this.eJoinOperatorPanels[0],g),this.eJoinOperatorsAnd[0].setDisabled(g),this.eJoinOperatorsOr[0].setDisabled(g))}),this.eConditionBodies.forEach((c,d)=>{_setDisplayed(c,this.isConditionBodyVisible(d))});const a=(o??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(c=>{c.setValue(!a,!0)}),this.eJoinOperatorsOr.forEach(c=>{c.setValue(a,!0)}),this.forEachInput((c,d,g,b)=>{this.setElementDisplayed(c,d<b),this.setElementDisabled(c,this.isConditionDisabled(g,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,o){if(e>=this.getNumConditions())return;this.removeComponents(this.eTypes,e,o),this.removeElements(this.eConditionBodies,e,o),this.removeValueElements(e,o);const a=Math.max(e-1,0);this.removeElements(this.eJoinOperatorPanels,a,o),this.removeComponents(this.eJoinOperatorsAnd,a,o),this.removeComponents(this.eJoinOperatorsOr,a,o)}removeElements(e,o,a){this.removeItems(e,o,a).forEach(d=>_removeFromParent(d))}removeComponents(e,o,a){this.removeItems(e,o,a).forEach(d=>{_removeFromParent(d.getGui()),this.destroyBean(d)})}removeItems(e,o,a){return a==null?e.splice(o):e.splice(o,a)}afterGuiAttached(e){if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus))if(this.isReadOnly())this.eFilterBody.focus();else{const o=this.getInputs(0)[0];if(!o)return;o instanceof AgAbstractInputField&&o.getInputElement().focus()}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let o=-1,a=-1,c=!1;const d=this.getJoinOperator();for(let b=this.getNumConditions()-1;b>=0;b--)if(this.isConditionUiComplete(b))o===-1&&(o=b,a=b);else{const _=b>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(b-1),$=b<o;(_||$)&&(this.removeConditionsAndOperators(b,1),c=!0,$&&a--)}let g=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),g=!0),this.shouldAddNewConditionAtEnd(a===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),g=!0),g&&this.updateConditionStatusesAndValues(a,d),c&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=a}getPlaceholderText(e,o){let a=this.translate(e);if(_isFunction(this.filterPlaceholder)){const c=this.filterPlaceholder,d=this.eTypes[o].getValue(),g=this.translate(d);a=c({filterOptionKey:d,filterOption:g,placeholder:a})}else typeof this.filterPlaceholder=="string"&&(a=this.filterPlaceholder);return a}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc();this.forEachInput((o,a,c,d)=>{if(!(o instanceof AgAbstractInputField))return;const g=a===0&&d>1?"inRangeStart":a===0?"filterOoo":"inRangeEnd",b=a===0&&d>1?e("ariaFilterFromValue","Filter from value"):a===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");o.setInputPlaceholder(this.getPlaceholderText(g,c)),o.setInputAriaLabel(b)})}setElementValue(e,o,a){e instanceof AgAbstractInputField&&e.setValue(o!=null?String(o):null,!0)}setElementDisplayed(e,o){e instanceof Component&&_setDisplayed(e.getGui(),o)}setElementDisabled(e,o){e instanceof Component&&_setDisabled(e.getGui(),o)}attachElementOnChange(e,o){e instanceof AgAbstractInputField&&e.onValueChange(o)}forEachInput(e){this.getConditionTypes().forEach((o,a)=>{this.forEachPositionTypeInput(a,o,e)})}forEachPositionInput(e,o){const a=this.getConditionType(e);this.forEachPositionTypeInput(e,a,o)}forEachPositionTypeInput(e,o,a){const c=this.getNumberOfInputs(o),d=this.getInputs(e);for(let g=0;g<d.length;g++){const b=d[g];b!=null&&a(b,g,e,c)}}isConditionDisabled(e,o){return this.isReadOnly()?!0:e===0?!1:e>o+1}isConditionBodyVisible(e){const o=this.getConditionType(e);return this.getNumberOfInputs(o)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(a=>a==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let o=0;o<this.getNumConditions();o++)this.isConditionUiComplete(o)&&e.push(this.createCondition(o));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(o=>this.resetType(o)),this.eJoinOperatorsAnd.forEach((o,a)=>this.resetJoinOperatorAnd(o,a,this.joinOperatorId+a)),this.eJoinOperatorsOr.forEach((o,a)=>this.resetJoinOperatorOr(o,a,this.joinOperatorId+a)),this.joinOperatorId++,this.forEachInput(o=>this.resetInput(o)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),AgPromise.resolve()}resetType(e){const a=this.localeService.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.getDefaultOption(),!0).setAriaLabel(a).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,o,a){this.resetJoinOperator(e,o,this.isDefaultOperator("AND"),this.translate("andCondition"),a)}resetJoinOperatorOr(e,o,a){this.resetJoinOperator(e,o,this.isDefaultOperator("OR"),this.translate("orCondition"),a)}resetJoinOperator(e,o,a,c,d){this.updateJoinOperatorDisabled(e.setValue(a,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${d}`).setLabel(c),o)}updateJoinOperatorsDisabled(){this.eJoinOperatorsAnd.forEach((e,o)=>this.updateJoinOperatorDisabled(e,o)),this.eJoinOperatorsOr.forEach((e,o)=>this.updateJoinOperatorDisabled(e,o))}updateJoinOperatorDisabled(e,o){e.setDisabled(this.isReadOnly()||o>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,o){const a=this.mapValuesFromModel(e);this.forEachInput((c,d,g)=>{g===o&&this.setElementValue(c,a[d]!=null?a[d]:null)})}setValueFromFloatingFilter(e){this.forEachInput((o,a,c)=>{this.setElementValue(o,a===0&&c===0?e:null,!0)})}isDefaultOperator(e){return e===this.defaultJoinOperator}addChangedListeners(e,o){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(o,a=>{this.attachElementOnChange(a,this.listener)}))}individualConditionPasses(e,o){const a=this.getCellValue(e.node),c=this.mapValuesFromModel(o),d=this.optionsFactory.getCustomOption(o.type),g=this.evaluateCustomFilter(d,c,a);return g??(a==null?this.evaluateNullValue(o.type):this.evaluateNonNullValue(c,a,o,e))}evaluateCustomFilter(e,o,a){if(e==null)return;const{predicate:c}=e;if(c!=null&&!o.some(d=>d==null))return c(o,a)}isBlank(e){return e==null||typeof e=="string"&&e.trim().length===0}hasInvalidInputs(){return!1}},ScalarFilter=class extends SimpleFilter{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){switch(e){case"equals":if(this.scalarFilterParams.includeBlanksInEquals)return!0;break;case"notEqual":if(this.scalarFilterParams.includeBlanksInNotEqual)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(this.scalarFilterParams.includeBlanksInGreaterThan)return!0;break;case"lessThan":case"lessThanOrEqual":if(this.scalarFilterParams.includeBlanksInLessThan)return!0;break;case"inRange":if(this.scalarFilterParams.includeBlanksInRange)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,o,a){const c=this.comparator(),d=e[0]!=null?c(e[0],o):0;switch(a.type){case"equals":return d===0;case"notEqual":return d!==0;case"greaterThan":return d>0;case"greaterThanOrEqual":return d>=0;case"lessThan":return d<0;case"lessThanOrEqual":return d<=0;case"inRange":{const g=c(e[1],o);return this.scalarFilterParams.inRangeInclusive?d>=0&&g<=0:d>0&&g<0}case"blank":return this.isBlank(o);case"notBlank":return!this.isBlank(o);default:return _warnOnce('Unexpected type of filter "'+a.type+'", it looks like the filter was configured with incorrect Filter Options'),!0}}},A_KEYCODE=65,C_KEYCODE=67,V_KEYCODE=86,D_KEYCODE=68,Z_KEYCODE=90,Y_KEYCODE=89;function _isEventFromPrintableCharacter(e){var a;return e.altKey||e.ctrlKey||e.metaKey?!1:((a=e.key)==null?void 0:a.length)===1}function _isUserSuppressingKeyboardEvent(e,o,a,c,d){const g=c?c.getColDef().suppressKeyboardEvent:void 0;if(!g)return!1;const b=e.addGridCommonParams({event:o,editing:d,column:c,node:a,data:a.data,colDef:c.getColDef()});return!!(g&&g(b))}function _isUserSuppressingHeaderKeyboardEvent(e,o,a,c){const d=c.getDefinition(),g=d&&d.suppressHeaderKeyboardEvent;if(!_exists(g))return!1;const b=e.addGridCommonParams({colDef:d,column:c,headerRowIndex:a,event:o});return!!g(b)}function _normaliseQwertyAzerty(e){const{keyCode:o}=e;let a;switch(o){case A_KEYCODE:a=KeyCode.A;break;case C_KEYCODE:a=KeyCode.C;break;case V_KEYCODE:a=KeyCode.V;break;case D_KEYCODE:a=KeyCode.D;break;case Z_KEYCODE:a=KeyCode.Z;break;case Y_KEYCODE:a=KeyCode.Y;break;default:a=e.code}return a}function _isDeleteKey(e,o=!1){return e===KeyCode.DELETE?!0:!o&&e===KeyCode.BACKSPACE?_isMacOsUserAgent():!1}var AgInputTextField=class extends AgAbstractInputField{constructor(e,o="ag-text-field",a="text"){super(e,o,a)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,o){return this.eInput.value!==e&&(this.eInput.value=_exists(e)?e:""),super.setValue(e,o)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),o=a=>{_isEventFromPrintableCharacter(a)&&a.key&&!e.test(a.key)&&a.preventDefault()};this.addManagedListeners(this.eInput,{keydown:o,paste:a=>{var d;const c=(d=a.clipboardData)==null?void 0:d.getData("text");c&&c.split("").some(g=>!e.test(g))&&a.preventDefault()}})}},AgInputTextFieldSelector={selector:"AG-INPUT-TEXT-FIELD",component:AgInputTextField},AgInputNumberField=class extends AgInputTextField{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct(),this.addManagedListeners(this.eInput,{blur:()=>{const d=parseFloat(this.eInput.value),g=isNaN(d)?"":this.normalizeValue(d.toString());this.value!==g&&this.setValue(g)},wheel:this.onWheel.bind(this)}),this.eInput.step="any";const{precision:e,min:o,max:a,step:c}=this.config;typeof e=="number"&&this.setPrecision(e),typeof o=="number"&&this.setMin(o),typeof a=="number"&&this.setMax(a),typeof c=="number"&&this.setStep(c)}onWheel(e){_getActiveDomElement(this.gos)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const o=parseFloat(e);return this.min!=null&&o<this.min?e=this.min.toString():this.max!=null&&o>this.max&&(e=this.max.toString()),e}adjustPrecision(e,o){if(this.precision==null)return e;if(o){const c=parseFloat(e).toFixed(this.precision);return parseFloat(c).toString()}const a=String(e).split(".");if(a.length>1){if(a[1].length<=this.precision)return e;if(this.precision>0)return`${a[0]}.${a[1].slice(0,this.precision)}`}return a[0]}setMin(e){return this.min===e?this:(this.min=e,_addOrRemoveAttribute(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,_addOrRemoveAttribute(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,_addOrRemoveAttribute(this.eInput,"step",e),this)}setValue(e,o){return this.setValueOrInputValue(a=>super.setValue(a,o),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(o=>super.setValue(o,!0),o=>{this.eInput.value=o},e)}setValueOrInputValue(e,o,a){if(_exists(a)){let c=this.isScientificNotation(a);if(c&&this.eInput.validity.valid)return e(a);if(!c){a=this.adjustPrecision(a);const d=this.normalizeValue(a);c=a!=d}if(c)return o(a)}return e(a)}getValue(){if(!this.eInput.validity.valid)return;const e=this.eInput.value;return this.isScientificNotation(e)?this.adjustPrecision(e,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},AgInputNumberFieldSelector={selector:"AG-INPUT-NUMBER-FIELD",component:AgInputNumberField},DEFAULT_NUMBER_FILTER_OPTIONS=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],SimpleFilterModelFormatter=class{constructor(e,o,a){this.localeService=e,this.optionsFactory=o,this.valueFormatter=a}getModelAsString(e){if(!e)return null;const o=e.operator!=null,a=this.localeService.getLocaleTextFunc();if(o){const c=e,g=(c.conditions??[]).map(_=>this.getModelAsString(_)),b=c.operator==="AND"?"andCondition":"orCondition";return g.join(` ${a(b,FILTER_LOCALE_TEXT[b])} `)}else{if(e.type==="blank"||e.type==="notBlank")return a(e.type,e.type);{const c=e,d=this.optionsFactory.getCustomOption(c.type),{displayKey:g,displayName:b,numberOfInputs:_}=d||{};return g&&b&&_===0?(a(g,b),b):this.conditionToString(c,d)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){return this.valueFormatter?this.valueFormatter(e??null)??"":String(e)}},NumberFilterModelFormatter=class extends SimpleFilterModelFormatter{conditionToString(e,o){const{numberOfInputs:a}=o||{};return e.type=="inRange"||a===2?`${this.formatValue(e.filter)}-${this.formatValue(e.filterTo)}`:e.filter!=null?this.formatValue(e.filter):`${e.type}`}};function getAllowedCharPattern(e){const{allowedCharPattern:o}=e??{};return o??null}var NumberFilter=class extends ScalarFilter{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[]}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:o,filterTo:a,type:c}=e||{};return[this.processValue(o),this.processValue(a)].slice(0,this.getNumberOfInputs(c))}getDefaultDebounceMs(){return 500}comparator(){return(e,o)=>e===o?0:e<o?1:-1}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new NumberFilterModelFormatter(this.localeService,this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return DEFAULT_NUMBER_FILTER_OPTIONS}setElementValue(e,o,a){const c=!a&&this.numberFilterParams.numberFormatter?this.numberFilterParams.numberFormatter(o??null):o;super.setElementValue(e,c)}createValueElement(){const e=getAllowedCharPattern(this.numberFilterParams),o=document.createElement("div");return o.classList.add("ag-filter-body"),_setAriaRole(o,"presentation"),this.createFromToElement(o,this.eValuesFrom,"from",e),this.createFromToElement(o,this.eValuesTo,"to",e),o}createFromToElement(e,o,a,c){const d=this.createManagedBean(c?new AgInputTextField({allowedCharPattern:c}):new AgInputNumberField);d.addCssClass(`ag-filter-${a}`),d.addCssClass("ag-filter-filter"),o.push(d),e.appendChild(d.getGui())}removeValueElements(e,o){this.removeComponents(this.eValuesFrom,e,o),this.removeComponents(this.eValuesTo,e,o)}getValues(e){const o=[];return this.forEachPositionInput(e,(a,c,d,g)=>{c<g&&o.push(this.processValue(this.stringToFloat(a.getValue())))}),o}areSimpleModelsEqual(e,o){return e.filter===o.filter&&e.filterTo===o.filterTo&&e.type===o.type}getFilterType(){return"number"}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let o=_makeNull(e);return o!=null&&o.trim()===""&&(o=null),this.numberFilterParams.numberParser?this.numberFilterParams.numberParser(o):o==null||o.trim()==="-"?null:parseFloat(o)}createCondition(e){const o=this.getConditionType(e),a={filterType:this.getFilterType(),type:o},c=this.getValues(e);return c.length>0&&(a.filter=c[0]),c.length>1&&(a.filterTo=c[1]),a}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(o=>{if(!o.getInputElement().validity.valid){e=!0;return}}),e}},DEFAULT_TEXT_FILTER_OPTIONS=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],TextFilterModelFormatter=class extends SimpleFilterModelFormatter{conditionToString(e,o){const{numberOfInputs:a}=o||{};return e.type=="inRange"||a===2?`${e.filter}-${e.filterTo}`:e.filter!=null?`${e.filter}`:`${e.type}`}};function trimInputForFilter(e){const o=e&&e.trim();return o===""?e:o}var TextFilter=class extends SimpleFilter{constructor(){super("textFilter"),this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:o,filterText:a})=>{if(a==null)return!1;switch(e){case"contains":return o.indexOf(a)>=0;case"notContains":return o.indexOf(a)<0;case"equals":return o===a;case"notEqual":return o!=a;case"startsWith":return o.indexOf(a)===0;case"endsWith":{const c=o.lastIndexOf(a);return c>=0&&c===o.length-a.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[]}getDefaultDebounceMs(){return 500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=this.getTextMatcher(),this.formatter=this.textFilterParams.textFormatter||(this.textFilterParams.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new TextFilterModelFormatter(this.localeService,this.optionsFactory)}getTextMatcher(){const e=this.textFilterParams.textCustomComparator;return e?(_warnOnce("textCustomComparator is deprecated, use textMatcher instead."),({filterOption:o,value:a,filterText:c})=>e(o,a,c)):this.textFilterParams.textMatcher||this.defaultMatcher}createCondition(e){const o=this.getConditionType(e),a={filterType:this.getFilterType(),type:o},c=this.getValuesWithSideEffects(e,!0);return c.length>0&&(a.filter=c[0]),c.length>1&&(a.filterTo=c[1]),a}getFilterType(){return"text"}areSimpleModelsEqual(e,o){return e.filter===o.filter&&e.filterTo===o.filterTo&&e.type===o.type}getInputs(e){return e>=this.eValuesFrom.length?[null,null]:[this.eValuesFrom[e],this.eValuesTo[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,o){const a=[];return this.forEachPositionInput(e,(c,d,g,b)=>{if(d<b){let _=_makeNull(c.getValue());o&&this.textFilterParams.trimInput&&(_=trimInputForFilter(_)??null,c.setValue(_,!0)),a.push(_)}}),a}getDefaultFilterOptions(){return DEFAULT_TEXT_FILTER_OPTIONS}createValueElement(){const e=document.createElement("div");return e.classList.add("ag-filter-body"),_setAriaRole(e,"presentation"),this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,o,a){const c=this.createManagedBean(new AgInputTextField);c.addCssClass(`ag-filter-${a}`),c.addCssClass("ag-filter-filter"),o.push(c),e.appendChild(c.getGui())}removeValueElements(e,o){this.removeComponents(this.eValuesFrom,e,o),this.removeComponents(this.eValuesTo,e,o)}mapValuesFromModel(e){const{filter:o,filterTo:a,type:c}=e||{};return[o||null,a||null].slice(0,this.getNumberOfInputs(c))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,o,a,c){const d=e.map(st=>this.formatter(st))||[],g=this.formatter(o),{api:b,colDef:_,column:$,context:j,textFormatter:rt}=this.textFilterParams;if(a.type==="blank")return this.isBlank(o);if(a.type==="notBlank")return!this.isBlank(o);const nt={api:b,colDef:_,column:$,context:j,node:c.node,data:c.data,filterOption:a.type,value:g,textFormatter:rt};return d.some(st=>this.matcher({...nt,filterText:st}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function toNumber(e){if(typeof e=="number")return e;if(typeof e=="string"){const o=parseInt(e);return isNaN(o)?void 0:o}}function toConstrainedNum(e,o=Number.MAX_VALUE){return a=>{const c=toNumber(a);if(!(c==null||c<e||c>o))return c}}function _padStartWidthZeros(e,o){return e.toString().padStart(o,"0")}function _createArrayOfNumbers(e,o){const a=[];for(let c=e;c<=o;c++)a.push(c);return a}function _formatNumberTwoDecimalPlacesAndCommas(e,o,a){return typeof e!="number"?"":_formatNumberCommas(Math.round(e*100)/100,o,a)}function _formatNumberCommas(e,o,a){return typeof e!="number"?"":e.toString().replace(".",a).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${o}`)}function _serialiseDate(e,o=!0,a="-"){if(!e)return null;let c=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(d=>_padStartWidthZeros(d,2)).join(a);return o&&(c+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(d=>_padStartWidthZeros(d,2)).join(":")),c}var calculateOrdinal=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function _dateToFormattedString(e,o="YYYY-MM-DD"){const a=_padStartWidthZeros(e.getFullYear(),4),c=["January","February","March","April","May","June","July","August","September","October","November","December"],d=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],g={YYYY:()=>a.slice(a.length-4,a.length),YY:()=>a.slice(a.length-2,a.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>c[e.getMonth()],MMM:()=>c[e.getMonth()].slice(0,3),MM:()=>_padStartWidthZeros(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${calculateOrdinal(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${calculateOrdinal(e.getDate())}`,DD:()=>_padStartWidthZeros(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>d[e.getDay()],ddd:()=>d[e.getDay()].slice(0,3),dd:()=>d[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${calculateOrdinal(e.getDay())}`,d:()=>`${e.getDay()}`},b=new RegExp(Object.keys(g).join("|"),"g");return o.replace(b,_=>_ in g?g[_]():_)}function _parseDateTimeFromString(e){if(!e)return null;const[o,a]=e.split(" ");if(!o)return null;const c=o.split("-").map(nt=>parseInt(nt,10));if(c.filter(nt=>!isNaN(nt)).length!==3)return null;const[d,g,b]=c,_=new Date(d,g-1,b);if(_.getFullYear()!==d||_.getMonth()!==g-1||_.getDate()!==b)return null;if(!a||a==="00:00:00")return _;const[$,j,rt]=a.split(":").map(nt=>parseInt(nt,10));return $>=0&&$<24&&_.setHours($),j>=0&&j<60&&_.setMinutes(j),rt>=0&&rt<60&&_.setSeconds(rt),_}var DateCompWrapper=class{constructor(e,o,a,c,d){this.alive=!0,this.context=e,this.eParent=c,o.getDateCompDetails(a).newAgStackInstance().then(_=>{if(!this.alive){e.destroyBean(_);return}this.dateComp=_,_&&(c.appendChild(_.getGui()),_.afterGuiAttached&&_.afterGuiAttached(),this.tempValue&&_.setDate(this.tempValue),this.disabled!=null&&this.setDateCompDisabled(this.disabled),d==null||d(this))})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){this.dateComp?this.dateComp.setDate(e):this.tempValue=e}setDisabled(e){this.dateComp?this.setDateCompDisabled(e):this.disabled=e}setDisplayed(e){_setDisplayed(this.eParent,e)}setInputPlaceholder(e){this.dateComp&&this.dateComp.setInputPlaceholder&&this.dateComp.setInputPlaceholder(e)}setInputAriaLabel(e){this.dateComp&&this.dateComp.setInputAriaLabel&&this.dateComp.setInputAriaLabel(e)}afterGuiAttached(e){this.dateComp&&typeof this.dateComp.afterGuiAttached=="function"&&this.dateComp.afterGuiAttached(e)}updateParams(e){var a,c;let o=!1;(a=this.dateComp)!=null&&a.refresh&&typeof this.dateComp.refresh=="function"&&this.dateComp.refresh(e)!==null&&(o=!0),!o&&((c=this.dateComp)!=null&&c.onParamsUpdated)&&typeof this.dateComp.onParamsUpdated=="function"&&this.dateComp.onParamsUpdated(e)!==null&&_warnOnce("Custom date component method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")}setDateCompDisabled(e){this.dateComp!=null&&this.dateComp.setDisabled!=null&&this.dateComp.setDisabled(e)}},DEFAULT_DATE_FILTER_OPTIONS=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],DateFilterModelFormatter=class extends SimpleFilterModelFormatter{constructor(e,o,a){super(o,a),this.dateFilterParams=e}conditionToString(e,o){const{type:a}=e,{numberOfInputs:c}=o||{},d=a=="inRange"||c===2,g=_parseDateTimeFromString(e.dateFrom),b=_parseDateTimeFromString(e.dateTo),_=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(d){const $=g!==null?_dateToFormattedString(g,_):"null",j=b!==null?_dateToFormattedString(b,_):"null";return`${$}-${j}`}return g!=null?_dateToFormattedString(g,_):`${a}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},DEFAULT_MIN_YEAR=1e3,DEFAULT_MAX_YEAR=1/0,DateFilter=class extends ScalarFilter{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=DEFAULT_MIN_YEAR,this.maxValidYear=DEFAULT_MAX_YEAR,this.minValidDate=null,this.maxValidDate=null}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:o,dateTo:a,type:c}=e||{};return[o&&_parseDateTimeFromString(o)||null,a&&_parseDateTimeFromString(a)||null].slice(0,this.getNumberOfInputs(c))}comparator(){return this.dateFilterParams.comparator?this.dateFilterParams.comparator:this.defaultComparator.bind(this)}defaultComparator(e,o){const a=o;return o==null||a<e?-1:a>e?1:0}setParams(e){this.dateFilterParams=e,super.setParams(e);const o=(a,c)=>{if(e[a]!=null)if(isNaN(e[a]))_warnOnce(`DateFilter ${a} is not a number`);else return e[a]==null?c:Number(e[a]);return c};this.minValidYear=o("minValidYear",DEFAULT_MIN_YEAR),this.maxValidYear=o("maxValidYear",DEFAULT_MAX_YEAR),this.minValidYear>this.maxValidYear&&_warnOnce("DateFilter minValidYear should be <= maxValidYear"),e.minValidDate?this.minValidDate=e.minValidDate instanceof Date?e.minValidDate:_parseDateTimeFromString(e.minValidDate):this.minValidDate=null,e.maxValidDate?this.maxValidDate=e.maxValidDate instanceof Date?e.maxValidDate:_parseDateTimeFromString(e.maxValidDate):this.maxValidDate=null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&_warnOnce("DateFilter minValidDate should be <= maxValidDate"),this.filterModelFormatter=new DateFilterModelFormatter(this.dateFilterParams,this.localeService,this.optionsFactory)}createDateCompWrapper(e){const o=new DateCompWrapper(this.context,this.userComponentFactory,{onDateChanged:()=>this.onUiChanged(),filterParams:this.dateFilterParams},e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,o){e.setDate(o)}setElementDisplayed(e,o){e.setDisplayed(o)}setElementDisabled(e,o){e.setDisabled(o)}getDefaultFilterOptions(){return DEFAULT_DATE_FILTER_OPTIONS}createValueElement(){const o=_getDocument(this.gos).createElement("div");return o.classList.add("ag-filter-body"),this.createFromToElement(o,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(o,this.eConditionPanelsTo,this.dateConditionToComps,"to"),o}createFromToElement(e,o,a,c){const g=_getDocument(this.gos).createElement("div");g.classList.add(`ag-filter-${c}`),g.classList.add(`ag-filter-date-${c}`),o.push(g),e.appendChild(g),a.push(this.createDateCompWrapper(g))}removeValueElements(e,o){this.removeDateComps(this.dateConditionFromComps,e,o),this.removeDateComps(this.dateConditionToComps,e,o),this.removeItems(this.eConditionPanelsFrom,e,o),this.removeItems(this.eConditionPanelsTo,e,o)}removeDateComps(e,o,a){this.removeItems(e,o,a).forEach(d=>d.destroy())}isValidDateValue(e){if(e===null)return!1;if(this.minValidDate){if(e<this.minValidDate)return!1}else if(e.getUTCFullYear()<this.minValidYear)return!1;if(this.maxValidDate){if(e>this.maxValidDate)return!1}else if(e.getUTCFullYear()>this.maxValidYear)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let o=!0;return this.forEachInput((a,c,d,g)=>{d!==e||!o||c>=g||(o=o&&this.isValidDateValue(a.getDate()))}),o}areSimpleModelsEqual(e,o){return e.dateFrom===o.dateFrom&&e.dateTo===o.dateTo&&e.type===o.type}getFilterType(){return"date"}createCondition(e){const o=this.getConditionType(e),a={},c=this.getValues(e);return c.length>0&&(a.dateFrom=_serialiseDate(c[0])),c.length>1&&(a.dateTo=_serialiseDate(c[1])),{dateFrom:null,dateTo:null,filterType:this.getFilterType(),type:o,...a}}resetPlaceholder(){const e=this.localeService.getLocaleTextFunc(),o=this.translate("dateFormatOoo"),a=e("ariaFilterValue","Filter Value");this.forEachInput(c=>{c.setInputPlaceholder(o),c.setInputAriaLabel(a)})}getInputs(e){return e>=this.dateConditionFromComps.length?[null,null]:[this.dateConditionFromComps[e],this.dateConditionToComps[e]]}getValues(e){const o=[];return this.forEachPositionInput(e,(a,c,d,g)=>{c<g&&o.push(a.getDate())}),o}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},SetLeftFeature=class extends BeanStub{constructor(e,o,a,c){super(),this.columnOrGroup=e,this.columnOrGroup=e,this.eCell=o,this.ariaEl=this.eCell.querySelector("[role=columnheader]")||this.eCell,this.colsSpanning=c,this.beans=a}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){return this.beans.gos.get("enableRtl")&&this.colsSpanning?_last(this.colsSpanning):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const e=this.beans.gos.get("suppressColumnMoveAnimation"),o=_exists(this.columnOrGroup.getOldLeft());this.beans.columnAnimationService.isActive()&&o&&!e?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),o=e.getLeft(),a=e.getOldLeft(),c=this.modifyLeftForPrintLayout(e,a),d=this.modifyLeftForPrintLayout(e,o);this.setLeft(c),this.actualLeft=d,this.beans.columnAnimationService.executeNextVMTurn(()=>{this.actualLeft===d&&this.setLeft(d)})}onLeftChanged(){const e=this.getColumnOrGroup(),o=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,o),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,o){if(!_isDomLayout(this.beans.gos,"print")||e.getPinned()==="left")return o;const c=this.beans.visibleColsService.getColsLeftWidth();if(e.getPinned()==="right"){const d=this.beans.visibleColsService.getBodyContainerWidth();return c+d+o}return c+o}setLeft(e){if(_exists(e)&&(this.eCell.style.left=`${e}px`),isColumnGroup(this.columnOrGroup)){const o=this.columnOrGroup.getLeafColumns();if(!o.length)return;o.length>1&&_setAriaColSpan(this.ariaEl,o.length)}}},CSS_FIRST_COLUMN="ag-column-first",CSS_LAST_COLUMN="ag-column-last";function _getHeaderClassesFromColDef(e,o,a,c){return _missing(e)?[]:getColumnClassesFromCollDef(e.headerClass,e,o,a,c)}function _getToolPanelClassesFromColDef(e,o,a,c){return _missing(e)?[]:getColumnClassesFromCollDef(e.toolPanelClass,e,o,a,c)}function refreshFirstAndLastStyles(e,o,a){e.addOrRemoveCssClass(CSS_FIRST_COLUMN,a.isColAtEdge(o,"first")),e.addOrRemoveCssClass(CSS_LAST_COLUMN,a.isColAtEdge(o,"last"))}function getClassParams(e,o,a,c){return o.addGridCommonParams({colDef:e,column:a,columnGroup:c})}function getColumnClassesFromCollDef(e,o,a,c,d){if(_missing(e))return[];let g;if(typeof e=="function"){const b=getClassParams(o,a,c,d);g=e(b)}else g=e;return typeof g=="string"?[g]:Array.isArray(g)?[...g]:[]}var instanceIdSequence2=0,_AbstractHeaderCellCtrl=class U5 extends BeanStub{constructor(o,a,c){super(),this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.columnGroupChild=o,this.parentRowCtrl=c,this.beans=a,this.instanceId=o.getUniqueId()+"-"+instanceIdSequence2++}wireBeans(o){this.pinnedWidthService=o.pinnedWidthService,this.focusService=o.focusService,this.userComponentFactory=o.userComponentFactory,this.ctrlsService=o.ctrlsService,this.dragAndDropService=o.dragAndDropService,this.menuService=o.menuService}postConstruct(){const o=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],o),this.addManagedEventListeners({overlayExclusiveChanged:o})}shouldStopEventPropagation(o){const{headerRowIndex:a,column:c}=this.focusService.getFocusedHeader();return _isUserSuppressingHeaderKeyboardEvent(this.gos,o,a,c)}getWrapperHasFocus(){return _getActiveDomElement(this.gos)===this.eGui}setGui(o,a){this.eGui=o,this.addDomData(a),a.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),a.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}onGuiFocus(){this.eventService.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(o){const{wrapperElement:a,checkMeasuringCallback:c,compBean:d}=o,{animationFrameService:g,resizeObserverService:b,columnModel:_,gos:$}=this.beans,j=Ft=>{if(!this.isAlive()||!d.isAlive())return;const{paddingTop:it,paddingBottom:ot,borderBottomWidth:Ln,borderTopWidth:Cl}=_getElementSize(this.getGui()),Tl=it+ot+Ln+Cl,In=a.offsetHeight+Tl;if(Ft<5){const Ml=_getDocument($),Dl=!Ml||!Ml.contains(a),Ul=In==0;if(Dl||Ul){g.requestAnimationFrame(()=>j(Ft+1));return}}_.setColHeaderHeight(this.column,In)};let rt=!1,nt;const st=()=>{const Ft=this.column.isAutoHeaderHeight();Ft&&!rt&&jt(),!Ft&&rt&&wl()},jt=()=>{rt=!0,j(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),nt=b.observeResize(a,()=>j(0))},wl=()=>{rt=!1,nt&&nt(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),nt=void 0};st(),d.addDestroyFunc(()=>wl()),d.addManagedListeners(this.column,{widthChanged:()=>rt&&j(0)}),d.addManagedEventListeners({sortChanged:()=>{rt&&window.setTimeout(()=>j(0))}}),c&&c(st)}onDisplayedColumnsChanged(){const{comp:o,column:a,beans:c,eGui:d}=this;!o||!a||!d||(refreshFirstAndLastStyles(o,a,c.visibleColsService),_setAriaColIndex(d,c.visibleColsService.getAriaColIndex(a)))}addResizeAndMoveKeyboardListeners(o){this.resizeFeature&&o.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const o=this.focusService.isHeaderFocusSuppressed();this.eGui&&_addOrRemoveAttribute(this.eGui,"tabindex",o?null:"-1")}onGuiKeyDown(o){var b;const a=_getActiveDomElement(this.gos),c=o.key===KeyCode.LEFT||o.key===KeyCode.RIGHT;if(this.isResizing&&(o.preventDefault(),o.stopImmediatePropagation()),a!==this.eGui||!o.shiftKey&&!o.altKey||((this.isResizing||c)&&(o.preventDefault(),o.stopImmediatePropagation()),!c))return;const d=o.key===KeyCode.LEFT!==this.gos.get("enableRtl"),g=HorizontalDirection[d?"Left":"Right"];if(o.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const _=this.getViewportAdjustedResizeDiff(o);this.resizeHeader(_,o.shiftKey),(b=this.resizeFeature)==null||b.toggleColumnResizing(!0)}else this.moveHeader(g)}getViewportAdjustedResizeDiff(o){let a=this.getResizeDiff(o);if(this.column.getPinned()){const d=this.pinnedWidthService.getPinnedLeftWidth(),g=this.pinnedWidthService.getPinnedRightWidth(),b=_getInnerWidth(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if(d+g+a>b)if(b>d+g)a=b-d-g;else return 0}return a}getResizeDiff(o){let a=o.key===KeyCode.LEFT!==this.gos.get("enableRtl");const c=this.column.getPinned(),d=this.gos.get("enableRtl");return c&&d!==(c==="right")&&(a=!a),(a?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var o;(o=this.resizeFeature)==null||o.toggleColumnResizing(!1)},150))}handleKeyDown(o){const a=this.getWrapperHasFocus();switch(o.key){case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:a&&o.preventDefault()}}addDomData(o){const a=U5.DOM_DATA_KEY_HEADER_CTRL;_setDomData(this.gos,this.eGui,a,this),o.addDestroyFunc(()=>_setDomData(this.gos,this.eGui,a,null))}getGui(){return this.eGui}focus(o){return this.eGui?(this.lastFocusEvent=o||null,this.eGui.focus(),!0):!1}getRowIndex(){return this.parentRowCtrl.getRowIndex()}getParentRowCtrl(){return this.parentRowCtrl}getPinned(){return this.parentRowCtrl.getPinned()}getColumnGroupChild(){return this.columnGroupChild}removeDragSource(){this.dragSource&&(this.dragAndDropService.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(o,a,c){const d=o??a;this.gos.get("preventDefaultOnContextMenu")&&d.preventDefault(),this.menuService.isHeaderContextMenuEnabled(c)&&this.menuService.showHeaderContextMenu(c,o,a),this.dispatchColumnMouseEvent("columnHeaderContextMenu",c)}dispatchColumnMouseEvent(o,a){this.eventService.dispatchEvent({type:o,column:a})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.columnGroupChild=null,this.parentRowCtrl=null}};_AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL="headerCtrl";var AbstractHeaderCellCtrl=_AbstractHeaderCellCtrl,HoverFeature=class extends BeanStub{wireBeans(e){this.columnHoverService=e.columnHoverService}constructor(e,o){super(),this.columns=e,this.element=o}postConstruct(){this.gos.get("columnHoverHighlight")&&this.addMouseHoverListeners()}addMouseHoverListeners(){this.addManagedListeners(this.element,{mouseout:this.onMouseOut.bind(this),mouseover:this.onMouseOver.bind(this)})}onMouseOut(){this.columnHoverService.clearMouseOver()}onMouseOver(){this.columnHoverService.setMouseOver(this.columns)}},HeaderFilterCellCtrl=class extends AbstractHeaderCellCtrl{constructor(e,o,a){super(e,o,a),this.iconCreated=!1,this.column=e}setComp(e,o,a,c,d){this.comp=e,d=setupCompBean(this,this.beans.context,d),this.eButtonShowMainFilter=a,this.eFloatingFilterBody=c,this.setGui(o,d),this.setupActive(),this.setupWidth(d),this.setupLeft(d),this.setupHover(d),this.setupFocus(d),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(d),this.setupUi(),d.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(d),d.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(d)}),d.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}setupActive(){const e=this.column.getColDef(),o=!!e.filter,a=!!e.floatingFilter;this.active=o&&a}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=_createIconNoSpan("filter",this.gos,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new ManagedFocusFeature(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.localeService.getLocaleTextFunc();_setAriaLabel(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){if(_getActiveDomElement(this.gos)===this.eGui)return;const c=this.focusService.findNextFocusableElement(this.eGui,null,e.shiftKey);if(c){this.beans.headerNavigationService.scrollToColumn(this.column),e.preventDefault(),c.focus();return}const d=this.findNextColumnWithFloatingFilter(e.shiftKey);d&&this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:this.getParentRowCtrl().getRowIndex(),column:d},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const o=this.beans.visibleColsService;let a=this.column;do if(a=e?o.getColBefore(a):o.getColAfter(a),!a)break;while(!a.getColDef().filter||!a.getColDef().floatingFilter);return a}handleKeyDown(e){super.handleKeyDown(e);const o=this.getWrapperHasFocus();switch(e.key){case KeyCode.UP:case KeyCode.DOWN:o||e.preventDefault();case KeyCode.LEFT:case KeyCode.RIGHT:if(o)return;e.stopPropagation();case KeyCode.ENTER:o&&this.focusService.focusInto(this.eGui)&&e.preventDefault();break;case KeyCode.ESCAPE:o||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const a=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),c=!!e.relatedTarget&&_isElementChildOfClass(e.relatedTarget,"ag-floating-filter");if(a&&c&&e.target===this.eGui){const g=this.lastFocusEvent,b=!!(g&&g.key===KeyCode.TAB);if(g&&b){const _=g.shiftKey;this.focusService.focusInto(this.eGui,_)}}const d=this.getRowIndex();this.beans.focusService.setFocusedHeader(d,this.column)}setupHover(e){e.createManagedBean(new HoverFeature([this.column],this.eGui));const o=()=>{if(!this.gos.get("columnHoverHighlight"))return;const a=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",a)};e.addManagedEventListeners({columnHoverChanged:o}),o()}setupLeft(e){const o=new SetLeftFeature(this.column,this.eGui,this.beans);e.createManagedBean(o)}setupFilterButton(){this.suppressFilterButton=!this.menuService.isFloatingFilterButtonEnabled(this.column),this.highlightFilterButtonWhenActive=!this.menuService.isLegacyMenuEnabled()}setupUserComp(){var o;if(!this.active)return;const e=(o=this.beans.filterManager)==null?void 0:o.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;this.menuService.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:o}=this.beans,a=c=>{if((c==null?void 0:c.source)==="filterDestroyed"&&!this.isAlive())return;const d=this.comp.getFloatingFilterComp();d&&d.then(g=>{if(g){const b=o==null?void 0:o.getCurrentFloatingFilterParentModel(this.column),_=c?{...c,columns:c.columns??[],source:c.source==="api"?"api":"columnFilter"}:null;g.onParentModelChanged(b,_)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:a}),o!=null&&o.isFilterActive(this.column)&&a(null)}setupWidth(e){const o=()=>{const a=`${this.column.getActualWidth()}px`;this.comp.setWidth(a)};e.addManagedListeners(this.column,{widthChanged:o}),o()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const o=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(o),this.highlightFilterButtonWhenActive&&o&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var g;const o=this.active;this.setupActive();const a=!o&&this.active;o&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const c=this.active?(g=this.beans.filterManager)==null?void 0:g.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,d=this.comp.getFloatingFilterComp();!d||!c?this.updateCompDetails(e,c,a):d.then(b=>{var _;!b||(_=this.beans.filterManager)!=null&&_.areFilterCompsDifferent(this.userCompDetails??null,c)?this.updateCompDetails(e,c,a):this.updateFloatingFilterParams(c)})}updateCompDetails(e,o,a){this.isAlive()&&(this.setCompDetails(o),this.setupFilterButton(),this.setupUi(),a&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var a;if(!e)return;const o=e.params;(a=this.comp.getFloatingFilterComp())==null||a.then(c=>{let d=!1;c!=null&&c.refresh&&typeof c.refresh=="function"&&c.refresh(o)!==null&&(d=!0),!d&&(c!=null&&c.onParamsUpdated)&&typeof c.onParamsUpdated=="function"&&c.onParamsUpdated(o)!==null&&_warnOnce("Custom floating filter method 'onParamsUpdated' is deprecated. Use 'refresh' instead.")})}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function _defineModule(e){return e}var VERSION="32.3.9";function isColumnFilterPresent(e){var o,a;return!!((o=e.filterManager)!=null&&o.isColumnFilterPresent())||!!((a=e.filterManager)!=null&&a.isAggregateFilterPresent())}function getFilterInstance(e,o,a){var c;return(c=e.filterManager)==null?void 0:c.getFilterInstance(o,a)}function getColumnFilterInstance(e,o){var a;return((a=e.filterManager)==null?void 0:a.getColumnFilterInstance(o))??Promise.resolve(void 0)}function destroyFilter(e,o){var c;const a=e.columnModel.getColDefCol(o);if(a)return(c=e.filterManager)==null?void 0:c.destroyFilter(a,"api")}function setFilterModel(e,o){e.frameworkOverrides.wrapIncoming(()=>{var a;return(a=e.filterManager)==null?void 0:a.setFilterModel(o)})}function getFilterModel(e){var o;return((o=e.filterManager)==null?void 0:o.getFilterModel())??{}}function getColumnFilterModel(e,o){var a;return((a=e.filterManager)==null?void 0:a.getColumnFilterModel(o))??null}function setColumnFilterModel(e,o,a){var c;return((c=e.filterManager)==null?void 0:c.setColumnFilterModel(o,a))??Promise.resolve()}function showColumnFilter(e,o){const a=e.columnModel.getCol(o);if(!a){_errorOnce(`column '${o}' not found`);return}e.menuService.showFilterMenu({column:a,containerType:"columnFilter",positionBy:"auto"})}function getDefaultFloatingFilterType(e,o,a){if(o==null)return null;let c=null;const{compName:d,jsComp:g,fwComp:b}=UserComponentFactory.getCompKeys(e,o,FilterComponent);return d?c={set:"agSetColumnFloatingFilter",agSetColumnFilter:"agSetColumnFloatingFilter",multi:"agMultiColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",group:"agGroupColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",number:"agNumberColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",date:"agDateColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",text:"agTextColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[d]:g==null&&b==null&&o.filter===!0&&(c=a()),c}var MONTH_LOCALE_TEXT={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},MONTH_KEYS=["january","february","march","april","may","june","july","august","september","october","november","december"],ColumnFilterService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnFilterService",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.userComponentFactory=e.userComponentFactory,this.rowRenderer=e.rowRenderer,this.dataTypeService=e.dataTypeService,this.filterManager=e.filterManager}postConstruct(){var e,o;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),rowDataUpdated:()=>this.onNewRowsLoaded("rowDataUpdated"),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((o=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:o.filterModel)??{}}}setFilterModel(e,o="api"){var d;if((d=this.dataTypeService)!=null&&d.isPendingInference()){this.filterModelUpdateQueue.push({model:e,source:o});return}const a=[],c=this.getFilterModel(!0);if(e){const g=new Set(Object.keys(e));this.allColumnFilters.forEach((b,_)=>{const $=e[_];a.push(this.setModelOnFilterWrapper(b.filterPromise,$)),g.delete(_)}),g.forEach(b=>{const _=this.columnModel.getColDefCol(b)||this.columnModel.getCol(b);if(!_){_warnOnce("setFilterModel() - no column found for colId: "+b);return}if(!_.isFilterAllowed()){_warnOnce("setFilterModel() - unable to fully apply model, filtering disabled for colId: "+b);return}const $=this.getOrCreateFilterWrapper(_);if(!$){_warnOnce("setFilterModel() - unable to fully apply model, unable to create filter for colId: "+b);return}a.push(this.setModelOnFilterWrapper($.filterPromise,e[b]))})}else this.allColumnFilters.forEach(g=>{a.push(this.setModelOnFilterWrapper(g.filterPromise,null))});AgPromise.all(a).then(()=>{var _;const g=this.getFilterModel(!0),b=[];this.allColumnFilters.forEach(($,j)=>{const rt=c?c[j]:null,nt=g?g[j]:null;_jsonEquals(rt,nt)||b.push($.column)}),b.length>0&&((_=this.filterManager)==null||_.onFilterChanged({columns:b,source:o}))})}setModelOnFilterWrapper(e,o){return new AgPromise(a=>{e.then(c=>{typeof c.setModel!="function"&&(_warnOnce("filter missing setModel method, which is needed for setFilterModel"),a()),(c.setModel(o)||AgPromise.resolve()).then(()=>a())})})}getFilterModel(e){const o={},{allColumnFilters:a,initialFilterModel:c}=this;return a.forEach((d,g)=>{const b=this.getModelFromFilterWrapper(d);_exists(b)&&(o[g]=b)}),e||Object.entries(c).forEach(([d,g])=>{var b;_exists(g)&&!a.has(d)&&((b=this.columnModel.getCol(d))!=null&&b.isFilterAllowed())&&(o[d]=g)}),o}getModelFromFilterWrapper(e){const{filter:o}=e;return o?typeof o.getModel!="function"?(_warnOnce("filter API missing getModel method, which is needed for getFilterModel"),null):o.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){return this.allColumnFilters.size?(this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,o){return this.doColumnFiltersPass(e,o,!0)}updateActiveFilters(){const e=g=>g?g.isFilterActive?g.isFilterActive():(_warnOnce("Filter is missing isFilterActive() method"),!1):!1,o=!!_getGroupAggFiltering(this.gos),a=g=>{if(!g.isPrimary())return!0;const _=!this.columnModel.isPivotActive();return!g.isValueActive()||!_?!1:this.columnModel.isPivotMode()?!0:o},c=[],d=[];return this.forEachColumnFilter((g,b)=>{e(g)&&(a(b.column)?c.push(g):d.push(g))}).then(()=>{this.activeAggregateFilters=c,this.activeColumnFilters=d})}updateFilterFlagInColumns(e,o){return this.forEachColumnFilter((a,c)=>c.column.setFilterActive(a.isFilterActive(),e,o))}forEachColumnFilter(e){return AgPromise.all(Array.from(this.allColumnFilters.values()).map(o=>o.filterPromise.then(a=>e(a,o))))}doColumnFiltersPass(e,o,a){const{data:c,aggData:d}=e,g=a?this.activeAggregateFilters:this.activeColumnFilters,b=a?d:c;for(let _=0;_<g.length;_++){const $=g[_];if(!($==null||$===o)){if(typeof $.doesFilterPass!="function")throw new Error("Filter is missing method doesFilterPass");if(!$.doesFilterPass({node:e,data:b}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const o=()=>{var a;return(a=this.filterManager)==null?void 0:a.onFilterChanged(e)};this.rowRenderer.isRefreshInProgress()?setTimeout(o,0):o()}updateBeforeFilterChanged(e={}){const{filterInstance:o,additionalEventAttributes:a}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",a).then(()=>{this.allColumnFilters.forEach(c=>{c.filterPromise&&c.filterPromise.then(d=>{d&&d!==o&&d.onAnyFilterChanged&&d.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(o=>{o.onNewRowsLoaded&&o.onNewRowsLoaded()}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createValueGetter(e){return({node:o})=>this.valueService.getValue(e,o,!0)}createGetValue(e){return(o,a)=>{const c=a?this.columnModel.getCol(a):e;return c?this.valueService.getValue(c,o,!0):void 0}}isFilterActive(e){const{filter:o}=this.cachedFilter(e)??{};return o?o.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let o=this.cachedFilter(e);return o||(o=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,o)),o}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){var a;let o;if(_isSetFilterByDefault(this.gos))o="agSetColumnFilter";else{const c=(a=this.dataTypeService)==null?void 0:a.getBaseDataType(e);c==="number"?o="agNumberColumnFilter":c==="date"||c==="dateString"?o="agDateColumnFilter":o="agTextColumnFilter"}return o}getDefaultFloatingFilter(e){var a;let o;if(_isSetFilterByDefault(this.gos))o="agSetColumnFloatingFilter";else{const c=(a=this.dataTypeService)==null?void 0:a.getBaseDataType(e);c==="number"?o="agNumberColumnFloatingFilter":c==="date"||c==="dateString"?o="agDateColumnFloatingFilter":o="agTextColumnFloatingFilter"}return o}createFilterInstance(e,o){const a=this.getDefaultFilter(e),c=e.getColDef();let d;const g={...this.createFilterParams(e,c),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(d,e)(),filterChangedCallback:_=>this.filterChangedCallbackFactory(d,e)(_),doesRowPassOtherFilter:_=>this.filterManager?this.filterManager.doesRowPassOtherFilters(d,_):!0},b=this.userComponentFactory.getFilterDetails(c,g,a);return b?{filterPromise:()=>{const _=b.newAgStackInstance();return _!=null&&_.then($=>{d=$,o&&(o.filter=$)}),_},compDetails:b}:{filterPromise:null,compDetails:null}}createFilterParams(e,o){return this.gos.addGridCommonParams({column:e,colDef:_cloneObject(o),rowModel:this.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},valueGetter:this.createValueGetter(e),getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const o={column:e,filterPromise:null,compiledElement:null,compDetails:null},{filterPromise:a,compDetails:c}=this.createFilterInstance(e,o);return o.filterPromise=(a==null?void 0:a())??null,o.compDetails=c,o}onColumnsChanged(){var a;const e=[];this.allColumnFilters.forEach((c,d)=>{let g;c.column.isPrimary()?g=this.columnModel.getColDefCol(d):g=this.columnModel.getCol(d),!(g&&g===c.column)&&(e.push(c.column),this.disposeFilterWrapper(c,"columnChanged"),this.disposeColumnListener(d))});const o=e.every(c=>c.getColDef().filter==="agGroupColumnFilter");e.length>0&&!o?(a=this.filterManager)==null||a.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){const e=this.columnModel.getAutoCols();e==null||e.forEach(o=>{o.getColDef().filter==="agGroupColumnFilter"&&this.getOrCreateFilterWrapper(o)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:a}=this.allColumnFilters.get(e.getColId())??{};return a&&typeof(a==null?void 0:a.isFilterAllowed)=="function"?a.isFilterAllowed():!0}getFloatingFilterCompDetails(e,o){const a=$=>{var rt;const j=(rt=this.getOrCreateFilterWrapper(e))==null?void 0:rt.filterPromise;j!=null&&j.then(nt=>{$(_unwrapUserComp(nt))})},c=e.getColDef(),d={...this.createFilterParams(e,c),filterChangedCallback:()=>a($=>this.filterChangedCallbackFactory($,e)())},g=this.userComponentFactory.mergeParamsWithApplicationProvidedParams(c,FilterComponent,d);let b=getDefaultFloatingFilterType(this.frameworkOverrides,c,()=>this.getDefaultFloatingFilter(e));b==null&&(b="agReadOnlyFloatingFilter");const _={column:e,filterParams:g,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:a,showParentFilter:o,suppressFilterButton:!1};return this.userComponentFactory.getFloatingFilterCompDetails(c,_,b)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,o="api"){var d;const a=e.getColId(),c=this.allColumnFilters.get(a);this.disposeColumnListener(a),delete this.initialFilterModel[a],c&&(this.disposeFilterWrapper(c,o),(d=this.filterManager)==null||d.onFilterChanged({columns:[e],source:"api"}))}disposeColumnListener(e){const o=this.allColumnListeners.get(e);o&&(this.allColumnListeners.delete(e),o())}disposeFilterWrapper(e,o){e.filterPromise.then(a=>{this.destroyBean(a),e.column.setFilterActive(!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventService.dispatchEvent({type:"filterDestroyed",source:o,column:e.column})})}filterModifiedCallbackFactory(e,o){return()=>{this.eventService.dispatchEvent({type:"filterModified",column:o,filterInstance:e})}}filterChangedCallbackFactory(e,o){return a=>{const c=(a==null?void 0:a.source)??"columnFilter",d={filter:e,additionalEventAttributes:a,columns:[o],source:c};this.callOnFilterChangedOutsideRenderCycle(d)}}checkDestroyFilter(e){const o=this.allColumnFilters.get(e);if(!o)return;const a=o.column,{compDetails:c}=a.isFilterAllowed()?this.createFilterInstance(a):{compDetails:null};if(this.areFilterCompsDifferent(o.compDetails,c)){this.destroyFilter(a,"paramsUpdated");return}const d=a.getColDef().filterParams;if(!o.filterPromise){this.destroyFilter(a,"paramsUpdated");return}o.filterPromise.then(g=>{(g!=null&&g.refresh?g.refresh({...this.createFilterParams(a,a.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(g,a),filterChangedCallback:this.filterChangedCallbackFactory(g,a),doesRowPassOtherFilter:_=>this.filterManager?this.filterManager.doesRowPassOtherFilters(g,_):!0,...d}):!0)===!1&&this.destroyFilter(a,"paramsUpdated")})}setColumnFilterWrapper(e,o){const a=e.getColId();this.allColumnFilters.set(a,o),this.allColumnListeners.set(a,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(a)})[0])}areFilterCompsDifferent(e,o){if(!o||!e)return!0;const{componentClass:a}=e,{componentClass:c}=o;return!(a===c||(a==null?void 0:a.render)&&(c==null?void 0:c.render)&&a.render===c.render)}hasFloatingFilters(){return this.columnModel.getCols().some(o=>o.getColDef().floatingFilter)}getFilterInstance(e,o){o&&this.getFilterInstanceImpl(e).then(a=>{const c=_unwrapUserComp(a);o(c)})}getColumnFilterInstance(e){return new Promise(o=>{this.getFilterInstanceImpl(e).then(a=>{o(_unwrapUserComp(a))})})}getFilterInstanceImpl(e){var c;const o=this.columnModel.getColDefCol(e);return o?((c=this.getOrCreateFilterWrapper(o))==null?void 0:c.filterPromise)??AgPromise.resolve(null):AgPromise.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:o})=>this.setFilterModel(e,o)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:o,resolve:a})=>{this.setColumnFilterModel(e,o).then(()=>a())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const o=this.getFilterWrapper(e);return o?this.getModelFromFilterWrapper(o):null}setColumnFilterModel(e,o){var g;if((g=this.dataTypeService)!=null&&g.isPendingInference()){let b=()=>{};const _=new Promise($=>{b=$});return this.columnFilterModelUpdateQueue.push({key:e,model:o,resolve:b}),_}const a=this.columnModel.getColDefCol(e),c=a?this.getOrCreateFilterWrapper(a):null;return c?(b=>new Promise(_=>{b.then($=>_($))}))(this.setModelOnFilterWrapper(c.filterPromise,o)):Promise.resolve()}getFilterWrapper(e){const o=this.columnModel.getColDefCol(e);return o?this.cachedFilter(o)??null:null}setColDefPropertiesForDataType(e,o,a){const c=_isSetFilterByDefault(this.gos),d=this.localeService.getLocaleTextFunc(),g=b=>{const{filterParams:_}=e;e.filterParams=typeof _=="object"?{..._,...b}:b};switch(o.baseDataType){case"number":{c&&g({comparator:(b,_)=>{const $=b==null?0:parseInt(b),j=_==null?0:parseInt(_);return $===j?0:$>j?1:-1}});break}case"boolean":{g(c?{valueFormatter:b=>_exists(b.value)?d(String(b.value),b.value?"True":"False"):d("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(b,_)=>_,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(b,_)=>_===!1,numberOfInputs:0}]});break}case"date":{c&&g({valueFormatter:b=>{const _=a(b);return _exists(_)?_:d("blanks","(Blanks)")},treeList:!0,treeListFormatter:(b,_)=>{if(_===1&&b!=null){const $=MONTH_KEYS[Number(b)-1];return d($,MONTH_LOCALE_TEXT[$])}return b??d("blanks","(Blanks)")}});break}case"dateString":{const b=o.dateParser;g(c?{valueFormatter:_=>{const $=a(_);return _exists($)?$:d("blanks","(Blanks)")},treeList:!0,treeListPathGetter:_=>{const $=b(_??void 0);return $?[String($.getFullYear()),String($.getMonth()+1),String($.getDate())]:null},treeListFormatter:(_,$)=>{if($===1&&_!=null){const j=MONTH_KEYS[Number(_)-1];return d(j,MONTH_LOCALE_TEXT[j])}return _??d("blanks","(Blanks)")}}:{comparator:(_,$)=>{const j=b($);return $==null||j<_?-1:j>_?1:0}});break}case"object":{c?g({valueFormatter:b=>{const _=a(b);return _exists(_)?_:d("blanks","(Blanks)")}}):e.filterValueGetter=b=>a({column:b.column,node:b.node,value:this.valueService.getValue(b.column,b.node)});break}}}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function isAnyFilterPresent(e){var o;return!!((o=e.filterManager)!=null&&o.isAnyFilterPresent())}function onFilterChanged(e,o="api"){var a;(a=e.filterManager)==null||a.onFilterChanged({source:o})}var ReadOnlyFloatingFilter=class extends Component{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eFloatingFilterText"></ag-input-text-field>
            </div>`,[AgInputTextFieldSelector]),this.eFloatingFilterText=RefPlaceholder}wireBeans(e){this.columnNameService=e.columnNameService}destroy(){super.destroy()}init(e){this.params=e;const o=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),a=this.localeService.getLocaleTextFunc();this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${o} ${a("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(o=>{if(o.getModelAsString){const a=o.getModelAsString(e);this.eFloatingFilterText.setValue(a)}})}onParamsUpdated(e){this.refresh(e)}refresh(e){this.init(e)}},SimpleFloatingFilter=class extends Component{wireBeans(e){this.columnNameService=e.columnNameService}getDefaultDebounceMs(){return 0}destroy(){super.destroy()}isEventFromFloatingFilter(e){return e&&e.afterFloatingFilter}isEventFromDataChange(e){return e==null?void 0:e.afterDataChange}getLastType(){return this.lastType}isReadOnly(){return this.readOnly}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.getDefaultOption();return}const o=e.operator;let a;o?a=e.conditions[0]:a=e,this.lastType=a.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const a=e;return this.isTypeEditable(a.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,o=!0){this.optionsFactory=new OptionsFactory,this.optionsFactory.init(e.filterParams,this.getDefaultFilterOptions()),o||(this.lastType=this.optionsFactory.getDefaultOption()),this.readOnly=!!e.filterParams.readOnly;const a=this.isTypeEditable(this.optionsFactory.getDefaultOption());this.setEditable(a)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.setSimpleParams(e)}doesFilterHaveSingleInput(e){const o=this.optionsFactory.getCustomOption(e),{numberOfInputs:a}=o||{};return a==null||a==1}isTypeEditable(e){const o=["inRange","empty","blank","notBlank"];return!!e&&!this.isReadOnly()&&this.doesFilterHaveSingleInput(e)&&o.indexOf(e)<0}getAriaLabel(e){const o=this.columnNameService.getDisplayNameForColumn(e.column,"header",!0),a=this.localeService.getLocaleTextFunc();return`${o} ${a("ariaFilterInput","Filter Input")}`}},DateFloatingFilter=class extends SimpleFloatingFilter{constructor(){super(`
            <div class="ag-floating-filter-input" role="presentation">
                <ag-input-text-field data-ref="eReadOnlyText"></ag-input-text-field>
                <div data-ref="eDateWrapper" style="display: flex;"></div>
            </div>`,[AgInputTextFieldSelector]),this.eReadOnlyText=RefPlaceholder,this.eDateWrapper=RefPlaceholder}wireBeans(e){super.wireBeans(e),this.context=e.context,this.userComponentFactory=e.userComponentFactory}getDefaultFilterOptions(){return DEFAULT_DATE_FILTER_OPTIONS}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new DateFilterModelFormatter(this.filterParams,this.localeService,this.optionsFactory);const o=this.localeService.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(o("ariaDateFilterInput","Date Filter Input"))}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.updateDateComponent(),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const o=!this.isReadOnly()&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(o),o){if(e){const a=e;this.dateComp.setDate(_parseDateTimeFromString(a.dateFrom))}else this.dateComp.setDate(null);this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){_setDisplayed(this.eDateWrapper,e),_setDisplayed(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,o){this.isEventFromFloatingFilter(o)||this.isEventFromDataChange(o)||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),o=_serialiseDate(e);this.params.parentFilterInstance(a=>{if(a){const c=_parseDateTimeFromString(o);a.onFloatingFilterChanged(this.getLastType()||null,c)}})}getDateComponentParams(){const e=getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs());return{onDateChanged:_debounce(this.onDateChanged.bind(this),e),filterParams:this.params.column.getColDef().filterParams}}createDateComponent(){this.dateComp=new DateCompWrapper(this.context,this.userComponentFactory,this.getDateComponentParams(),this.eDateWrapper,e=>{e.setInputAriaLabel(this.getAriaLabel(this.params))}),this.addDestroyFunc(()=>this.dateComp.destroy())}updateDateComponent(){const e=this.gos.addGridCommonParams(this.getDateComponentParams());this.dateComp.updateParams(e)}getFilterModelFormatter(){return this.filterModelFormatter}},DefaultDateComponent=class extends Component{constructor(){super(`
            <div class="ag-filter-filter">
                <ag-input-text-field class="ag-date-filter" data-ref="eDateInput"></ag-input-text-field>
            </div>`,[AgInputTextFieldSelector]),this.eDateInput=RefPlaceholder}destroy(){super.destroy()}init(e){this.params=e,this.setParams(e);const o=this.eDateInput.getInputElement();this.addManagedListeners(o,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||o.focus()},input:a=>{a.target===_getActiveDomElement(this.gos)&&(this.eDateInput.isDisabled()||this.params.onDateChanged())}})}setParams(e){const o=this.eDateInput.getInputElement(),a=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=a&&_isBrowserSafari(),o.type=a?"date":"text";const{minValidYear:c,maxValidYear:d,minValidDate:g,maxValidDate:b}=e.filterParams||{};if(g&&c&&_warnOnce("DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored."),b&&d&&_warnOnce("DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored."),g&&b){const[_,$]=[g,b].map(j=>j instanceof Date?j:_parseDateTimeFromString(j));_&&$&&_.getTime()>$.getTime()&&_warnOnce("DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.")}g?g instanceof Date?o.min=_dateToFormattedString(g):o.min=g:c&&(o.min=`${c}-01-01`),b?b instanceof Date?o.max=_dateToFormattedString(b):o.max=b:d&&(o.max=`${d}-12-31`)}onParamsUpdated(e){this.refresh(e)}refresh(e){this.params=e,this.setParams(e)}getDate(){return _parseDateTimeFromString(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(_serialiseDate(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus()}shouldUseBrowserDatePicker(e){return e.filterParams&&e.filterParams.browserDatePicker!=null?e.filterParams.browserDatePicker:_isBrowserChrome()||_isBrowserFirefox()||_isBrowserSafari()&&_getSafariVersion()>=14.1}},FloatingFilterTextInputService=class extends BeanStub{constructor(e){super(),this.params=e,this.eFloatingFilterTextInput=RefPlaceholder,this.valueChangedListener=()=>{}}setupGui(e){var c;this.eFloatingFilterTextInput=this.createManagedBean(new AgInputTextField((c=this.params)==null?void 0:c.config));const o=this.eFloatingFilterTextInput.getGui();e.appendChild(o);const a=d=>this.valueChangedListener(d);this.addManagedListeners(o,{input:a,keydown:a})}setEditable(e){this.eFloatingFilterTextInput.setDisabled(!e)}setAutoComplete(e){this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.eFloatingFilterTextInput.getValue()}setValue(e,o){this.eFloatingFilterTextInput.setValue(e,o)}setValueChangedListener(e){this.valueChangedListener=e}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterTextInput.setInputAriaLabel(e)}},TextInputFloatingFilter=class extends SimpleFloatingFilter{constructor(){super(...arguments),this.eFloatingFilterInputContainer=RefPlaceholder}postConstruct(){this.setTemplate(`
            <div class="ag-floating-filter-input" role="presentation" data-ref="eFloatingFilterInputContainer"></div>
        `)}getDefaultDebounceMs(){return 500}onParentModelChanged(e,o){this.isEventFromFloatingFilter(o)||this.isEventFromDataChange(o)||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.floatingFilterInputService.setValue(this.getFilterModelFormatter().getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.floatingFilterInputService=this.createFloatingFilterInputService(e),this.floatingFilterInputService.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const o=e.browserAutoComplete??!1;if(this.floatingFilterInputService.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:o}),this.applyActive=isUseApplyButton(this.params.filterParams),!this.isReadOnly()){const a=getDebounceMs(this.params.filterParams,this.getDefaultDebounceMs()),c=_debounce(this.syncUpWithParentFilter.bind(this),a);this.floatingFilterInputService.setValueChangedListener(c)}}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const o=this.floatingFilterInputService.getValue();_clearElement(this.eFloatingFilterInputContainer),this.destroyBean(this.floatingFilterInputService),this.setupFloatingFilterInputService(e),this.floatingFilterInputService.setValue(o,!0)}syncUpWithParentFilter(e){const o=e.key===KeyCode.ENTER;if(this.applyActive&&!o)return;let a=this.floatingFilterInputService.getValue();this.params.filterParams.trimInput&&(a=trimInputForFilter(a),this.floatingFilterInputService.setValue(a,!0)),this.params.parentFilterInstance(c=>{c&&c.onFloatingFilterChanged(this.getLastType()||null,a||null)})}setEditable(e){this.floatingFilterInputService.setEditable(e)}},FloatingFilterNumberInputService=class extends BeanStub{constructor(){super(...arguments),this.valueChangedListener=()=>{},this.numberInputActive=!0}setupGui(e){this.eFloatingFilterNumberInput=this.createManagedBean(new AgInputNumberField),this.eFloatingFilterTextInput=this.createManagedBean(new AgInputTextField),this.eFloatingFilterTextInput.setDisabled(!0);const o=this.eFloatingFilterNumberInput.getGui(),a=this.eFloatingFilterTextInput.getGui();e.appendChild(o),e.appendChild(a),this.setupListeners(o,c=>this.valueChangedListener(c)),this.setupListeners(a,c=>this.valueChangedListener(c))}setEditable(e){this.numberInputActive=e,this.eFloatingFilterNumberInput.setDisplayed(this.numberInputActive),this.eFloatingFilterTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eFloatingFilterNumberInput.setAutoComplete(e),this.eFloatingFilterTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,o){this.getActiveInputElement().setValue(e,o)}getActiveInputElement(){return this.numberInputActive?this.eFloatingFilterNumberInput:this.eFloatingFilterTextInput}setValueChangedListener(e){this.valueChangedListener=e}setupListeners(e,o){this.addManagedListeners(e,{input:o,keydown:o})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eFloatingFilterNumberInput.setInputAriaLabel(e),this.eFloatingFilterTextInput.setInputAriaLabel(e)}},NumberFloatingFilter=class extends TextInputFloatingFilter{init(e){var o;super.init(e),this.filterModelFormatter=new NumberFilterModelFormatter(this.localeService,this.optionsFactory,(o=e.filterParams)==null?void 0:o.numberFormatter)}onParamsUpdated(e){this.refresh(e)}refresh(e){getAllowedCharPattern(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return DEFAULT_NUMBER_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(e){return this.allowedCharPattern=getAllowedCharPattern(e.filterParams),this.allowedCharPattern?this.createManagedBean(new FloatingFilterTextInputService({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new FloatingFilterNumberInputService)}},TextFloatingFilter=class extends TextInputFloatingFilter{init(e){super.init(e),this.filterModelFormatter=new TextFilterModelFormatter(this.localeService,this.optionsFactory)}onParamsUpdated(e){this.refresh(e)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultFilterOptions(){return DEFAULT_TEXT_FILTER_OPTIONS}getFilterModelFormatter(){return this.filterModelFormatter}createFloatingFilterInputService(){return this.createManagedBean(new FloatingFilterTextInputService)}};function isQuickFilterPresent(e){var o;return!!((o=e.filterManager)!=null&&o.isQuickFilterPresent())}function getQuickFilter(e){return e.gos.get("quickFilterText")}function resetQuickFilter(e){var o;(o=e.filterManager)==null||o.resetQuickFilterCache()}var QuickFilterService=class extends BeanStub{constructor(){super(...arguments),this.beanName="quickFilterService",this.quickFilter=null,this.quickFilterParts=null}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.rowModel=e.rowModel,this.pivotResultColsService=e.pivotResultColsService}postConstruct(){const e=this.resetQuickFilterCache.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{this.gos.get("includeHiddenColumnsInQuickFilter")||this.resetQuickFilterCache()}}),this.addManagedPropertyListener("quickFilterText",o=>this.setQuickFilter(o.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onQuickFilterColumnConfigChanged()),this.quickFilter=this.parseQuickFilter(this.gos.get("quickFilterText")),this.parser=this.gos.get("quickFilterParser"),this.matcher=this.gos.get("quickFilterMatcher"),this.setQuickFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setQuickFilterParserAndMatcher())}refreshQuickFilterCols(){var d;const e=this.columnModel.isPivotMode(),o=this.columnModel.getAutoCols(),a=this.columnModel.getColDefCols();let c=(e&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")?(d=this.pivotResultColsService.getPivotResultCols())==null?void 0:d.list:a)??[];o&&(c=c.concat(o)),this.colsForQuickFilter=this.gos.get("includeHiddenColumnsInQuickFilter")?c:c.filter(g=>g.isVisible()||g.isRowGroupActive())}isQuickFilterPresent(){return this.quickFilter!==null}doesRowPassQuickFilter(e){const o=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassQuickFilterMatcher(o,e):this.quickFilterParts.every(a=>o?this.doesRowPassQuickFilterCache(e,a):this.doesRowPassQuickFilterNoCache(e,a))}resetQuickFilterCache(){this.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}setQuickFilterParts(){const{quickFilter:e,parser:o}=this;e?this.quickFilterParts=o?o(e):e.split(" "):this.quickFilterParts=null}parseQuickFilter(e){return _exists(e)?_isClientSideRowModel(this.gos)?e.toUpperCase():(_warnOnce("Quick filtering only works with the Client-Side Row Model"),null):null}setQuickFilter(e){if(e!=null&&typeof e!="string"){_warnOnce(`Grid option quickFilterText only supports string inputs, received: ${typeof e}`);return}const o=this.parseQuickFilter(e);this.quickFilter!==o&&(this.quickFilter=o,this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setQuickFilterParserAndMatcher(){const e=this.gos.get("quickFilterParser"),o=this.gos.get("quickFilterMatcher"),a=e!==this.parser||o!==this.matcher;this.parser=e,this.matcher=o,a&&(this.setQuickFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onQuickFilterColumnConfigChanged(){this.refreshQuickFilterCols(),this.resetQuickFilterCache(),this.isQuickFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassQuickFilterNoCache(e,o){return this.colsForQuickFilter.some(a=>{const c=this.getQuickFilterTextForColumn(a,e);return _exists(c)&&c.indexOf(o)>=0})}doesRowPassQuickFilterCache(e,o){return this.checkGenerateQuickFilterAggregateText(e),e.quickFilterAggregateText.indexOf(o)>=0}doesRowPassQuickFilterMatcher(e,o){let a;e?(this.checkGenerateQuickFilterAggregateText(o),a=o.quickFilterAggregateText):a=this.getQuickFilterAggregateText(o);const{quickFilterParts:c,matcher:d}=this;return d(c,a)}checkGenerateQuickFilterAggregateText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getQuickFilterAggregateText(e))}getQuickFilterTextForColumn(e,o){let a=this.valueService.getValue(e,o,!0);const c=e.getColDef();if(c.getQuickFilterText){const d=this.gos.addGridCommonParams({value:a,node:o,data:o.data,column:e,colDef:c});a=c.getQuickFilterText(d)}return _exists(a)?a.toString().toUpperCase():null}getQuickFilterAggregateText(e){const o=[];return this.colsForQuickFilter.forEach(a=>{const c=this.getQuickFilterTextForColumn(a,e);_exists(c)&&o.push(c)}),o.join(`
`)}},FilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/filter-core",beans:[FilterManager]},FilterApiModule={version:VERSION,moduleName:"@ag-grid-community/filter-api",apiFunctions:{isAnyFilterPresent,onFilterChanged},dependantModules:[FilterCoreModule]},ColumnFilterModule={version:VERSION,moduleName:"@ag-grid-community/column-filter",beans:[ColumnFilterService],dependantModules:[FilterCoreModule]},ColumnFilterApiModule={version:VERSION,moduleName:"@ag-grid-community/column-filter-api",apiFunctions:{isColumnFilterPresent,getFilterInstance,getColumnFilterInstance,destroyFilter,setFilterModel,getFilterModel,getColumnFilterModel,setColumnFilterModel,showColumnFilter},dependantModules:[ColumnFilterModule,FilterApiModule]},FloatingFilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/floating-filter-core",controllers:[{name:"headerFilterCell",classImp:HeaderFilterCellCtrl}],dependantModules:[ColumnFilterModule]},FloatingFilterModule={version:VERSION,moduleName:"@ag-grid-community/floating-filter",dependantModules:[FloatingFilterCoreModule,ColumnFilterModule]},ReadOnlyFloatingFilterModule={version:VERSION,moduleName:"@ag-grid-community/read-only-floating-filter",userComponents:[{name:"agReadOnlyFloatingFilter",classImp:ReadOnlyFloatingFilter}],dependantModules:[FloatingFilterCoreModule]},SimpleFilterModule={version:VERSION,moduleName:"@ag-grid-community/simple-filter",dependantModules:[ColumnFilterModule],userComponents:[{name:"agTextColumnFilter",classImp:TextFilter},{name:"agNumberColumnFilter",classImp:NumberFilter},{name:"agDateColumnFilter",classImp:DateFilter},{name:"agDateInput",classImp:DefaultDateComponent}]},SimpleFloatingFilterModule={version:VERSION,moduleName:"@ag-grid-community/simple-floating-filter",dependantModules:[SimpleFilterModule,FloatingFilterCoreModule],userComponents:[{name:"agTextColumnFloatingFilter",classImp:TextFloatingFilter},{name:"agNumberColumnFloatingFilter",classImp:NumberFloatingFilter},{name:"agDateColumnFloatingFilter",classImp:DateFloatingFilter}]},QuickFilterCoreModule={version:VERSION,moduleName:"@ag-grid-community/quick-filter-core",beans:[QuickFilterService],dependantModules:[FilterCoreModule]},QuickFilterApiModule={version:VERSION,moduleName:"@ag-grid-community/quick-filter-api",apiFunctions:{isQuickFilterPresent,getQuickFilter,resetQuickFilter},dependantModules:[QuickFilterCoreModule]},QuickFilterModule={version:VERSION,moduleName:"@ag-grid-community/quick-filter",dependantModules:[QuickFilterCoreModule,QuickFilterApiModule]},FilterModule={version:VERSION,moduleName:"@ag-grid-community/filter",dependantModules:[SimpleFloatingFilterModule,ReadOnlyFloatingFilterModule,QuickFilterModule,ColumnFilterApiModule]},AbstractHeaderCellComp=class extends Component{constructor(e,o){super(e),this.ctrl=o}getCtrl(){return this.ctrl}},HeaderFilterCellComp$1=class extends AbstractHeaderCellComp{constructor(o){super(`<div class="ag-header-cell ag-floating-filter" role="gridcell">
            <div data-ref="eFloatingFilterBody" role="presentation"></div>
            <div class="ag-floating-filter-button ag-hidden" data-ref="eButtonWrapper" role="presentation">
                <button type="button" class="ag-button ag-floating-filter-button-button" data-ref="eButtonShowMainFilter" tabindex="-1"></button>
            </div>
        </div>`,o),this.eFloatingFilterBody=RefPlaceholder,this.eButtonWrapper=RefPlaceholder,this.eButtonShowMainFilter=RefPlaceholder}postConstruct(){const o=this.getGui(),a={addOrRemoveCssClass:(c,d)=>this.addOrRemoveCssClass(c,d),addOrRemoveBodyCssClass:(c,d)=>this.eFloatingFilterBody.classList.toggle(c,d),setButtonWrapperDisplayed:c=>_setDisplayed(this.eButtonWrapper,c),setCompDetails:c=>this.setCompDetails(c),getFloatingFilterComp:()=>this.compPromise,setWidth:c=>o.style.width=c,setMenuIcon:c=>this.eButtonShowMainFilter.appendChild(c)};this.ctrl.setComp(a,o,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(o){if(!o){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=o.newAgStackInstance(),this.compPromise.then(a=>this.afterCompCreated(a))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(o){if(o){if(!this.isAlive()){this.destroyBean(o);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=o,this.eFloatingFilterBody.appendChild(o.getGui()),o.afterGuiAttached&&o.afterGuiAttached()}}},HeaderCellComp$1=class extends AbstractHeaderCellComp{constructor(o){super(`<div class="ag-header-cell" role="columnheader">
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
        </div>`,o),this.eResize=RefPlaceholder,this.eHeaderCompWrapper=RefPlaceholder,this.headerCompVersion=0,this.column=o.getColumnGroupChild(),this.pinned=o.getPinned()}postConstruct(){const o=this.getGui();((g,b)=>{b!=null&&b!=""?o.setAttribute(g,b):o.removeAttribute(g)})("col-id",this.column.getColId());const c={setWidth:g=>o.style.width=g,addOrRemoveCssClass:(g,b)=>this.addOrRemoveCssClass(g,b),setAriaSort:g=>g?_setAriaSort(o,g):_removeAriaSort(o),setUserCompDetails:g=>this.setUserCompDetails(g),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(c,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const d=this.ctrl.getSelectAllGui();this.eResize.insertAdjacentElement("afterend",d)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(o){this.headerCompVersion++;const a=this.headerCompVersion;o.newAgStackInstance().then(c=>this.afterCompCreated(a,c))}afterCompCreated(o,a){if(o!=this.headerCompVersion||!this.isAlive()){this.destroyBean(a);return}this.destroyHeaderComp(),this.headerComp=a,this.headerCompGui=a.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},HeaderGroupCellComp$1=class extends AbstractHeaderCellComp{constructor(o){super(`<div class="ag-header-group-cell" role="columnheader">
            <div data-ref="eHeaderCompWrapper" class="ag-header-cell-comp-wrapper" role="presentation"></div>
            <div data-ref="eResize" class="ag-header-cell-resize" role="presentation"></div>
        </div>`,o),this.eResize=RefPlaceholder,this.eHeaderCompWrapper=RefPlaceholder}postConstruct(){const o=this.getGui(),a=(d,g)=>g!=null?o.setAttribute(d,g):o.removeAttribute(d);o.setAttribute("col-id",this.ctrl.getColId());const c={addOrRemoveCssClass:(d,g)=>this.addOrRemoveCssClass(d,g),setHeaderWrapperHidden:d=>{d?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:d=>{d!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${d}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",d!=null)},setResizableDisplayed:d=>_setDisplayed(this.eResize,d),setWidth:d=>o.style.width=d,setAriaExpanded:d=>a("aria-expanded",d),setUserCompDetails:d=>this.setUserCompDetails(d),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(c,o,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(o){o.newAgStackInstance().then(a=>this.afterHeaderCompCreated(a))}afterHeaderCompCreated(o){const a=()=>this.destroyBean(o);if(!this.isAlive()){a();return}const c=this.getGui(),d=o.getGui();this.eHeaderCompWrapper.appendChild(d),this.addDestroyFunc(a),this.headerGroupComp=o,this.ctrl.setDragSource(c)}addOrRemoveHeaderWrapperStyle(o,a){const{eHeaderCompWrapper:c}=this;a?c.style.setProperty(o,a):c.style.removeProperty(o)}},HeaderRowType=(e=>(e.COLUMN_GROUP="group",e.COLUMN="column",e.FLOATING_FILTER="filter",e))(HeaderRowType||{}),HeaderRowComp$1=class extends Component{constructor(o){super(),this.headerComps={},this.ctrl=o,this.setTemplate(`<div class="${this.ctrl.getHeaderRowClass()}" role="row"></div>`)}postConstruct(){_setAriaRowIndex(this.getGui(),this.ctrl.getAriaRowIndex());const o={setHeight:a=>this.getGui().style.height=a,setTop:a=>this.getGui().style.top=a,setHeaderCtrls:(a,c)=>this.setHeaderCtrls(a,c),setWidth:a=>this.getGui().style.width=a};this.ctrl.setComp(o,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(o,a){if(!this.isAlive())return;const c=this.headerComps;if(this.headerComps={},o.forEach(d=>{const g=d.instanceId;let b=c[g];delete c[g],b==null&&(b=this.createHeaderComp(d),this.getGui().appendChild(b.getGui())),this.headerComps[g]=b}),_iterateObject(c,(d,g)=>{this.getGui().removeChild(g.getGui()),this.destroyBean(g)}),a){const d=_getAllValuesInObject(this.headerComps);d.sort((b,_)=>{const $=b.getCtrl().getColumnGroupChild().getLeft(),j=_.getCtrl().getColumnGroupChild().getLeft();return $-j});const g=d.map(b=>b.getGui());_setDomChildOrder(this.getGui(),g)}}createHeaderComp(o){let a;switch(this.ctrl.getType()){case"group":a=new HeaderGroupCellComp$1(o);break;case"filter":a=new HeaderFilterCellComp$1(o);break;default:a=new HeaderCellComp$1(o);break}return this.createBean(a),a.setParentComponent(this),a}},HeaderNavigationDirection=(e=>(e[e.UP=0]="UP",e[e.DOWN=1]="DOWN",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT",e))(HeaderNavigationDirection||{}),HeaderNavigationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="headerNavigationService",this.currentHeaderRowWithoutSpan=-1}wireBeans(e){this.focusService=e.focusService,this.headerPositionUtils=e.headerPositionUtils,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.visibleColService=e.visibleColsService}postConstruct(){this.ctrlsService.whenReady(this,o=>{this.gridBodyCon=o.gridBodyCtrl});const e=_getDocument(this.gos);this.addManagedElementListeners(e,{mousedown:()=>this.setCurrentHeaderRowWithoutSpan(-1)})}getHeaderRowCount(){var e;return((e=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:e.getRowCount())??0}getHeaderPositionForColumn(e,o){let a;if(typeof e=="string"?(a=this.columnModel.getCol(e),a||(a=this.visibleColService.getColumnGroup(e))):a=e,!a)return null;const c=this.ctrlsService.getHeaderRowContainerCtrl(),d=c==null?void 0:c.getAllCtrls(),g=_last(d||[]).getType()==="filter",b=this.getHeaderRowCount()-1;let _=-1,$=a;for(;$;)_++,$=$.getParent();let j=_;return o&&g&&j===b-1&&j++,j===-1?null:{headerRowIndex:j,column:a}}navigateVertically(e,o,a){if(o||(o=this.focusService.getFocusedHeader()),!o)return!1;const{headerRowIndex:c}=o,d=o.column,g=this.getHeaderRowCount(),b=e===0;let{headerRowIndex:_,column:$,headerRowIndexWithoutSpan:j}=b?this.headerPositionUtils.getColumnVisibleParent(d,c):this.headerPositionUtils.getColumnVisibleChild(d,c),rt=!1;return _<0&&(_=0,$=d,rt=!0),_>=g?(_=-1,this.setCurrentHeaderRowWithoutSpan(-1)):j!==void 0&&(this.currentHeaderRowWithoutSpan=j),!rt&&!$?!1:this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:_,column:$},allowUserOverride:!0,event:a})}setCurrentHeaderRowWithoutSpan(e){this.currentHeaderRowWithoutSpan=e}navigateHorizontally(e,o=!1,a){const c=this.focusService.getFocusedHeader(),d=e===2,g=this.gos.get("enableRtl");let b,_;if(this.currentHeaderRowWithoutSpan!==-1?c.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=c.headerRowIndex,d!==g?(_="Before",b=this.headerPositionUtils.findHeader(c,_)):(_="After",b=this.headerPositionUtils.findHeader(c,_)),b||!o)return this.focusService.focusHeaderPosition({headerPosition:b,direction:_,fromTab:o,allowUserOverride:!0,event:a});if(o){const $=this.gos.getCallback("tabToNextHeader");if($)return this.focusService.focusHeaderPositionFromUserFunc({userFunc:$,headerPosition:b,direction:_})}return this.focusNextHeaderRow(c,_,a)}focusNextHeaderRow(e,o,a){const c=e.headerRowIndex;let d=null,g;if(o==="Before"?c>0&&(g=c-1,this.currentHeaderRowWithoutSpan-=1,d=this.headerPositionUtils.findColAtEdgeForHeaderRow(g,"end")):(g=c+1,this.currentHeaderRowWithoutSpan<this.getHeaderRowCount()?this.currentHeaderRowWithoutSpan+=1:this.setCurrentHeaderRowWithoutSpan(-1),d=this.headerPositionUtils.findColAtEdgeForHeaderRow(g,"start")),!d)return!1;const{column:b,headerRowIndex:_}=this.headerPositionUtils.getHeaderIndexToFocus(d.column,d==null?void 0:d.headerRowIndex);return this.focusService.focusHeaderPosition({headerPosition:{column:b,headerRowIndex:_},direction:o,fromTab:!0,allowUserOverride:!0,event:a})}scrollToColumn(e,o="After"){if(e.getPinned())return;let a;if(isColumnGroup(e)){const c=e.getDisplayedLeafColumns();a=o==="Before"?_last(c):c[0]}else a=e;this.gridBodyCon.getScrollFeature().ensureColumnVisible(a)}},GridHeaderCtrl=class extends BeanStub{wireBeans(e){this.animationFrameService=e.animationFrameService,this.headerNavigationService=e.headerNavigationService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService,this.filterManager=e.filterManager,this.menuService=e.menuService}setComp(e,o,a){this.comp=e,this.eGui=o,this.createManagedBean(new ManagedFocusFeature(a,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),this.onPivotModeChanged(),this.setupHeaderHeight();const c=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:c}),this.mockContextMenuForIPad(c),this.ctrlsService.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>this.animationFrameService.requestAnimationFrame(()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}getHeaderHeight(){return this.headerHeight}setHeaderHeight(){var g;const{columnModel:e}=this;let o=0;const a=this.columnModel.getGroupRowsHeight().reduce((b,_)=>b+_,0),c=this.columnModel.getColumnHeaderRowHeight();if((g=this.filterManager)!=null&&g.hasFloatingFilters()&&(o+=e.getFloatingFiltersHeight()),o+=a,o+=c,this.headerHeight===o)return;this.headerHeight=o;const d=`${o+1}px`;this.comp.setHeightAndMinHeight(d),this.eventService.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(){const e=this.columnModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",e),this.comp.addOrRemoveCssClass("ag-pivot-off",!e)}onDisplayedColumnsChanged(){const o=this.visibleColsService.getAllCols().some(a=>a.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",o)}onTabKeyDown(e){const o=this.gos.get("enableRtl"),a=e.shiftKey,c=a!==o?2:3;(this.headerNavigationService.navigateHorizontally(c,!0,e)||!a&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(a,!0))&&e.preventDefault()}handleKeyDown(e){let o=null;switch(e.key){case KeyCode.LEFT:o=2;case KeyCode.RIGHT:{_exists(o)||(o=3),this.headerNavigationService.navigateHorizontally(o,!1,e)&&e.preventDefault();break}case KeyCode.UP:o=0;case KeyCode.DOWN:{_exists(o)||(o=1),this.headerNavigationService.navigateVertically(o,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:o}=e;!o&&this.eGui.contains(_getActiveDomElement(this.gos))||this.eGui.contains(o)||this.focusService.clearFocusedHeader()}onHeaderContextMenu(e,o,a){var d;if(!e&&!a||!this.menuService.isHeaderContextMenuEnabled())return;const{target:c}=e??o;(c===this.eGui||c===((d=this.ctrlsService.getHeaderRowContainerCtrl())==null?void 0:d.getViewportElement()))&&this.menuService.showHeaderContextMenu(void 0,e,a)}mockContextMenuForIPad(e){if(!_isIOSUserAgent())return;const o=new TouchListener(this.eGui),a=c=>{e(void 0,c.touchStart,c.touchEvent)};this.addManagedListeners(o,{longTap:a}),this.addDestroyFunc(()=>o.destroy())}},CenterWidthFeature=class extends BeanStub{constructor(e,o=!1){super(),this.callback=e,this.addSpacer=o}wireBeans(e){this.visibleColsService=e.visibleColsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=_isDomLayout(this.gos,"print"),o=this.visibleColsService.getBodyContainerWidth(),a=this.visibleColsService.getColsLeftWidth(),c=this.visibleColsService.getDisplayedColumnsRightWidth();let d;e?d=o+a+c:(d=o,this.addSpacer&&(this.gos.get("enableRtl")?a:c)===0&&this.scrollVisibleService.isVerticalScrollShowing()&&(d+=this.scrollVisibleService.getScrollbarWidth())),this.callback(d)}},BodyDropPivotTarget=class extends BeanStub{constructor(e){super(),this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[],this.pinned=e}wireBeans(e){this.funcColsService=e.funcColsService}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const o=e.dragItem.columns;o&&o.forEach(a=>{a.isPrimary()&&(a.isAnyFunctionActive()||(a.isAllowValue()?this.columnsToAggregate.push(a):a.isAllowRowGroup()?this.columnsToGroup.push(a):a.isAllowPivot()&&this.columnsToPivot.push(a)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){this.columnsToAggregate.length>0&&this.funcColsService.addValueColumns(this.columnsToAggregate,"toolPanelDragAndDrop"),this.columnsToGroup.length>0&&this.funcColsService.addRowGroupColumns(this.columnsToGroup,"toolPanelDragAndDrop"),this.columnsToPivot.length>0&&this.funcColsService.addPivotColumns(this.columnsToPivot,"toolPanelDragAndDrop")}onDragCancel(){this.clearColumnsList()}};function getBestColumnMoveIndexFromXPosition(e){const{isFromHeader:o,fromLeft:a,xPosition:c,fromEnter:d,fakeEvent:g,pinned:b,gos:_,columnModel:$,columnMoveService:j,visibleColsService:rt}=e;let{allMovingColumns:nt}=e;if(o){const zl=[];nt.forEach(In=>{var Ul;let Ml=null,Dl=In.getParent();for(;Dl!=null&&Dl.getDisplayedLeafColumns().length===1;)Ml=Dl,Dl=Dl.getParent();Ml!=null?(!!((Ul=Ml.getColGroupDef())!=null&&Ul.marryChildren)?Ml.getProvidedColumnGroup().getLeafColumns():Ml.getLeafColumns()).forEach(rp=>{zl.includes(rp)||zl.push(rp)}):zl.includes(In)||zl.push(In)}),nt=zl}const st=nt.slice();$.sortColsLikeCols(st);const jt=calculateValidMoves({movingCols:st,draggingRight:a,xPosition:c,pinned:b,gos:_,columnModel:$,visibleColsService:rt}),wl=calculateOldIndex(st,$);if(jt.length===0)return;const Ft=jt[0];let it=wl!==null&&!d;if(o&&(it=wl!==null),it&&!g&&(!a&&Ft>=wl||a&&Ft<=wl))return;const ot=rt.getAllCols(),Ln=[];let Cl=null;for(let zl=0;zl<jt.length;zl++){const In=jt[zl],Ml=j.getProposedColumnOrder(st,In);if(!j.doesOrderPassRules(Ml))continue;const Dl=Ml.filter(Vl=>ot.includes(Vl));if(Cl===null)Cl=Dl;else if(!_areEqual(Dl,Cl))break;const Ul=groupFragCount(Ml);Ln.push({move:In,fragCount:Ul})}if(Ln.length===0)return;Ln.sort((zl,In)=>zl.fragCount-In.fragCount);const Tl=Ln[0].move;if(!(Tl>$.getCols().length-nt.length))return{columns:nt,toIndex:Tl}}function attemptMoveColumns(e){const{columns:o,toIndex:a}=getBestColumnMoveIndexFromXPosition(e)||{},{finished:c,columnMoveService:d}=e;return!o||a==null?null:(d.moveColumns(o,a,"uiColumnMoved",c),c?null:{columns:o,toIndex:a})}function calculateOldIndex(e,o){const a=o.getCols(),c=_sortNumerically(e.map($=>a.indexOf($))),d=c[0];return _last(c)-d!==c.length-1?null:d}function groupFragCount(e){function o(c){const d=[];let g=c.getOriginalParent();for(;g!=null;)d.push(g),g=g.getOriginalParent();return d}let a=0;for(let c=0;c<e.length-1;c++){let d=o(e[c]),g=o(e[c+1]);[d,g]=d.length>g.length?[d,g]:[g,d],d.forEach(b=>{g.indexOf(b)===-1&&a++})}return a}function getDisplayedColumns(e,o){switch(o){case"left":return e.getLeftCols();case"right":return e.getRightCols();default:return e.getCenterCols()}}function calculateValidMoves(e){const{movingCols:o,draggingRight:a,xPosition:c,pinned:d,gos:g,columnModel:b,visibleColsService:_}=e;if(g.get("suppressMovableColumns")||o.some(Cl=>Cl.getColDef().suppressMovable))return[];const j=getDisplayedColumns(_,d),rt=b.getCols(),nt=j.filter(Cl=>_includes(o,Cl)),st=j.filter(Cl=>!_includes(o,Cl)),jt=rt.filter(Cl=>!_includes(o,Cl));let wl=0,Ft=c;if(a){let Cl=0;nt.forEach(Tl=>Cl+=Tl.getActualWidth()),Ft-=Cl}if(Ft>0){for(let Cl=0;Cl<st.length;Cl++){const Tl=st[Cl];if(Ft-=Tl.getActualWidth(),Ft<0)break;wl++}a&&wl++}let it;if(wl>0){const Cl=st[wl-1];it=jt.indexOf(Cl)+1}else it=jt.indexOf(st[0]),it===-1&&(it=0);const ot=[it],Ln=(Cl,Tl)=>Cl-Tl;if(a){let Cl=it+1;const Tl=rt.length-1;for(;Cl<=Tl;)ot.push(Cl),Cl++;ot.sort(Ln)}else{let Cl=it;const Tl=rt.length-1;let zl=rt[Cl];for(;Cl<=Tl&&j.indexOf(zl)<0;)Cl++,ot.push(Cl),zl=rt[Cl];Cl=it-1;const In=0;for(;Cl>=In;)ot.push(Cl),Cl--;ot.sort(Ln).reverse()}return ot}function normaliseX(e){var j;const{pinned:o,fromKeyboard:a,gos:c,ctrlsService:d,useHeaderRow:g,skipScrollPadding:b}=e;let _=(j=d.getHeaderRowContainerCtrl(o))==null?void 0:j.getViewportElement(),{x:$}=e;return _?(a&&($-=_.getBoundingClientRect().left),c.get("enableRtl")&&(g&&(_=_.querySelector(".ag-header-row")),$=_.clientWidth-$),o==null&&!b&&($+=d.get("center").getCenterViewportScrollLeft()),$):0}function setColumnsMoving(e,o){for(const a of e)a.setMoving(o,"uiColumnMoved")}var MOVE_FAIL_THRESHOLD=7,SCROLL_MOVE_WIDTH=100,SCROLL_GAP_NEEDED_BEFORE_MOVE=SCROLL_MOVE_WIDTH/2,SCROLL_ACCELERATION_RATE=5,SCROLL_TIME_INTERVAL=100,MoveColumnFeature=class extends BeanStub{constructor(e){super(),this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.pinned=e,this.isCenterContainer=!_exists(e)}wireBeans(e){this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnMoveService=e.columnMoveService,this.dragAndDropService=e.dragAndDropService,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){var o;const e=((o=this.lastDraggingEvent)==null?void 0:o.dragItem.columns)??[];for(const a of e){const c=a.getPinned();if(a.getColDef().lockPinned){if(c==this.pinned)return"move";continue}if(c===this.pinned||!this.pinned)return"move";if(!c&&this.pinned)return"pinned"}return"notAllowed"}onDragEnter(e){const o=e.dragItem.columns;if(e.dragSource.type===0)this.setColumnsVisible(o,!0,"uiColumnDragged");else{const c=e.dragItem.visibleState,d=(o||[]).filter(g=>c[g.getId()]);this.setColumnsVisible(d,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(o,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,o=!1,a=!1,c=!1){const d=this.gos.get("suppressMoveWhenColumnDragging");if(c&&!d){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!c&&_missing(e.hDirection))return;const{pinned:g,gos:b,ctrlsService:_}=this,$=normaliseX({x:e.x,pinned:g,gos:b,ctrlsService:_});o||this.checkCenterForScrolling($),d?this.handleColumnDragWhileSuppressingMovement(e,o,a,$,c):this.handleColumnDragWhileAllowingMovement(e,o,a,$,c)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,o,a){if(!e)return;const c=e.filter(d=>!d.getColDef().lockVisible);this.columnModel.setColsVisible(c,o,a)}finishColumnMoving(){if(this.clearHighlighted(),!this.lastMovedInfo)return;const{columns:e,toIndex:o}=this.lastMovedInfo;this.columnMoveService.moveColumns(e,o,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,o,a,c,d){const g=this.getAllMovingColumns(e,!0);if(d){const b=this.isAttemptingToPin(g);b&&this.attemptToPinColumns(g,void 0,!0);const{fromLeft:_,xPosition:$}=this.getNormalisedXPositionInfo(g,b)||{};if(_==null||$==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:g,xPosition:$,fromEnter:o,fakeEvent:a,fromLeft:_})}else{if(!this.dragAndDropService.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(g,c)}}handleColumnDragWhileAllowingMovement(e,o,a,c,d){const g=this.getAllMovingColumns(e),b=this.normaliseDirection(e.hDirection)===1,_=e.dragSource.type===1,$=this.getMoveColumnParams({allMovingColumns:g,isFromHeader:_,xPosition:c,fromLeft:b,fromEnter:o,fakeEvent:a}),j=attemptMoveColumns({...$,finished:d});j&&(this.lastMovedInfo=j)}getAllMovingColumns(e,o=!1){const a=e.dragSource.getDragItem();let c=null;o?(c=a.columnsInSplit,c||(c=a.columns)):c=a.columns;const d=g=>g.getColDef().lockPinned?g.getPinned()==this.pinned:!0;return c?c.filter(d):[]}getMoveColumnParams(e){const{allMovingColumns:o,isFromHeader:a,xPosition:c,fromLeft:d,fromEnter:g,fakeEvent:b}=e,{pinned:_,gos:$,columnModel:j,columnMoveService:rt,visibleColsService:nt}=this;return{allMovingColumns:o,isFromHeader:a,fromLeft:d,xPosition:c,pinned:_,fromEnter:g,fakeEvent:b,gos:$,columnModel:j,columnMoveService:rt,visibleColsService:nt}}findFirstAndLastMovingColumns(e){const o=e.length;let a,c;for(let d=0;d<=o;d++){if(!a){const g=e[d];g.getLeft()!=null&&(a=g)}if(!c){const g=e[o-1-d];g.getLeft()!=null&&(c=g)}if(a&&c)break}return{firstMovingCol:a,lastMovingCol:c}}highlightHoveredColumn(e,o){var rt;const{gos:a,columnModel:c}=this,d=a.get("enableRtl"),g=c.getCols().filter(nt=>nt.isVisible()&&nt.getPinned()===this.pinned);let b=null,_=null,$=null;for(const nt of g){if(_=nt.getActualWidth(),b=this.getNormalisedColumnLeft(nt,0,d),b!=null){const st=b+_;if(b<=o&&st>=o){$=nt;break}}b=null,_=null}if($)e.indexOf($)!==-1&&($=null);else{for(let nt=g.length-1;nt>=0;nt--){const st=g[nt],jt=g[nt].getParent();if(!jt){$=st;break}const wl=jt==null?void 0:jt.getDisplayedLeafColumns();if(wl.length){$=_last(wl);break}}if(!$)return;b=this.getNormalisedColumnLeft($,0,d),_=$.getActualWidth()}if(((rt=this.lastHighlightedColumn)==null?void 0:rt.column)!==$&&this.clearHighlighted(),$==null||b==null||_==null)return;let j;o-b<_/2!==d?j=0:j=1,$.setHighlighted(j),this.lastHighlightedColumn={column:$,position:j}}getNormalisedXPositionInfo(e,o){const{gos:a,visibleColsService:c}=this,d=a.get("enableRtl"),{firstMovingCol:g,column:b,position:_}=this.getColumnMoveAndTargetInfo(e,o,d);if(!g||!b||_==null)return;const $=c.getAllCols(),j=$.indexOf(g),rt=$.indexOf(b),nt=_===0!==d,st=j<rt||j===rt&&!nt;let jt=0;if(nt?st&&(jt-=1):st||(jt+=1),rt+jt===j)return;const wl=$[rt+jt];if(!wl)return;const Ft=this.getNormalisedColumnLeft(wl,20,d);return{fromLeft:st,xPosition:Ft}}getColumnMoveAndTargetInfo(e,o,a){const c=this.lastHighlightedColumn||{},{firstMovingCol:d,lastMovingCol:g}=this.findFirstAndLastMovingColumns(e);if(!d||!g||c.column||!o)return{firstMovingCol:d,...c};const _=this.getPinDirection()==="left";return{firstMovingCol:d,position:_?1:0,column:_!==a?d:g}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case 0:return 1;case 1:return 0}return e}getNormalisedColumnLeft(e,o,a){const{gos:c,ctrlsService:d}=this,g=e.getLeft();if(g==null)return null;const b=e.getActualWidth();return normaliseX({x:a?g+b-o:g+o,pinned:e.getPinned(),useHeaderRow:a,skipScrollPadding:!0,gos:c,ctrlsService:d})}isAttemptingToPin(e){const o=this.needToMoveLeft||this.needToMoveRight,a=this.failedMoveAttempts>MOVE_FAIL_THRESHOLD;return o&&a||e.some(c=>c.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:o,xPosition:a,fromEnter:c,fakeEvent:d,fromLeft:g}=e,b=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:!0,xPosition:a,fromLeft:g,fromEnter:c,fakeEvent:d}),{columns:_,toIndex:$}=getBestColumnMoveIndexFromXPosition(b)||{};_&&$!=null&&(this.lastMovedInfo={columns:_,toIndex:$}),this.finishColumnMoving()}clearHighlighted(){this.lastHighlightedColumn&&(this.lastHighlightedColumn.column.setHighlighted(null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const o=this.ctrlsService.get("center"),a=o.getCenterViewportScrollLeft(),c=a+o.getCenterWidth();this.gos.get("enableRtl")?(this.needToMoveRight=e<a+SCROLL_GAP_NEEDED_BEFORE_MOVE,this.needToMoveLeft=e>c-SCROLL_GAP_NEEDED_BEFORE_MOVE):(this.needToMoveLeft=e<a+SCROLL_GAP_NEEDED_BEFORE_MOVE,this.needToMoveRight=e>c-SCROLL_GAP_NEEDED_BEFORE_MOVE),this.needToMoveLeft||this.needToMoveRight?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),SCROLL_TIME_INTERVAL),(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.dragAndDropService.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName()))}moveInterval(){var c,d;let e;this.intervalCount++,e=10+this.intervalCount*SCROLL_ACCELERATION_RATE,e>SCROLL_MOVE_WIDTH&&(e=SCROLL_MOVE_WIDTH);let o=null;const a=this.gridBodyCon.getScrollFeature();if(this.needToMoveLeft?o=a.scrollHorizontally(-e):this.needToMoveRight&&(o=a.scrollHorizontally(e)),o!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{if(this.failedMoveAttempts++,this.failedMoveAttempts<=MOVE_FAIL_THRESHOLD+1)return;if((c=this.dragAndDropService.getDragAndDropImageComponent())==null||c.setIcon("pinned"),!this.gos.get("suppressMoveWhenColumnDragging")){const g=(d=this.lastDraggingEvent)==null?void 0:d.dragItem.columns;this.attemptToPinColumns(g,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,o,a=!1){const c=(e||[]).filter(d=>!d.getColDef().lockPinned);return c.length?(a&&(o=this.getPinDirection()),this.columnModel.setColsPinned(c,o,"uiColumnDragged"),a&&this.dragAndDropService.nudge(),c.length):0}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}},BodyDropTarget=class extends BeanStub{wireBeans(e){this.dragAndDropService=e.dragAndDropService,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}constructor(e,o){super(),this.pinned=e,this.eContainer=o}postConstruct(){this.ctrlsService.whenReady(this,e=>{switch(this.pinned){case"left":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.left.getContainerElement()],[e.bottomLeft.getContainerElement()],[e.topLeft.getContainerElement()]];break;case"right":this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.right.getContainerElement()],[e.bottomRight.getContainerElement()],[e.topRight.getContainerElement()]];break;default:this.eSecondaryContainers=[[e.gridBodyCtrl.getBodyViewportElement(),e.center.getViewportElement()],[e.bottomCenter.getViewportElement()],[e.topCenter.getViewportElement()]];break}}),this.moveColumnFeature=this.createManagedBean(new MoveColumnFeature(this.pinned)),this.bodyDropPivotTarget=this.createManagedBean(new BodyDropPivotTarget(this.pinned)),this.dragAndDropService.addDropTarget(this),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.columnModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},ResizeFeature=class extends BeanStub{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.pinnedWidthService=e.pinnedWidthService,this.ctrlsService=e.ctrlsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,o,a,c,d){super(),this.pinned=e,this.column=o,this.eResize=a,this.comp=c,this.ctrl=d}postConstruct(){const e=[];let o,a;const c=()=>{if(_setDisplayed(this.eResize,o),!o)return;const b=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(e.push(b),a){const _=this.gos.get("skipHeaderOnAutoSize"),$=()=>{this.columnAutosizeService.autoSizeColumn(this.column,"uiColumnResized",_)};this.eResize.addEventListener("dblclick",$);const j=new TouchListener(this.eResize);j.addEventListener("doubleTap",$),e.push(()=>{this.eResize.removeEventListener("dblclick",$),j.removeEventListener("doubleTap",$),j.destroy()})}},d=()=>{e.forEach(b=>b()),e.length=0},g=()=>{const b=this.column.isResizable(),_=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(b!==o||_!==a)&&(o=b,a=_,d(),c())};g(),this.addDestroyFunc(d),this.ctrl.setRefreshFunction("resize",g)}onResizing(e,o){const{column:a,lastResizeAmount:c,resizeStartWidth:d}=this,g=this.normaliseResizeAmount(o),b=d+g,_=[{key:a,newWidth:b}];if(this.column.getPinned()){const $=this.pinnedWidthService.getPinnedLeftWidth(),j=this.pinnedWidthService.getPinnedRightWidth(),rt=_getInnerWidth(this.ctrlsService.getGridBodyCtrl().getBodyViewportElement())-50;if($+j+(g-c)>rt)return}this.lastResizeAmount=g,this.columnSizeService.setColumnWidths(_,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let o=e;const a=this.pinned!=="left",c=this.pinned==="right";return this.gos.get("enableRtl")?a&&(o*=-1):c&&(o*=-1),o}},SelectAllFeature=class extends BeanStub{constructor(e){super(),this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1,this.column=e}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}onSpaceKeyDown(e){const o=this.cbSelectAll;o.isDisplayed()&&!o.getGui().contains(_getActiveDomElement(this.gos))&&(e.preventDefault(),o.setValue(!o.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e,this.cbSelectAll=this.createManagedBean(new AgCheckbox),this.cbSelectAll.addCssClass("ag-header-select-all"),_setAriaRole(this.cbSelectAll.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:this.onNewColumnsLoaded.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedListeners(this.cbSelectAll,{fieldValueChanged:this.onCbSelectAll.bind(this)}),this.cbSelectAll.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onNewColumnsLoaded(){this.showOrHideSelectAll()}onDisplayedColumnsChanged(){this.isAlive()&&this.showOrHideSelectAll()}showOrHideSelectAll(){this.cbSelectAllVisible=this.isCheckboxSelection(),this.cbSelectAll.setDisplayed(this.cbSelectAllVisible),this.cbSelectAllVisible&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel()}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.selectionService.getSelectAllState(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setValue(e);const o=this.selectionService.hasNodesToSelect(this.isFilteredOnly(),this.isCurrentPageOnly());this.cbSelectAll.setDisabled(!o),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(){const e=this.localeService.getLocaleTextFunc(),a=this.cbSelectAll.getValue()?e("ariaChecked","checked"):e("ariaUnchecked","unchecked"),c=e("ariaRowSelectAll","Press Space to toggle all rows selection");this.cbSelectAllVisible?this.headerCellCtrl.setAriaDescriptionProperty("selectAll",`${c} (${a})`):this.headerCellCtrl.setAriaDescriptionProperty("selectAll",null),this.cbSelectAll.setInputAriaLabel(e("ariaHeaderSelection","Column with Header Selection")),this.headerCellCtrl.announceAriaDescription()}checkSelectionType(e){return _isMultiRowSelection(this.gos)?!0:(_warnOnce(`${e} is only available if using 'multiRow' selection mode.`),!1)}checkRightRowModelType(e){return _isClientSideRowModel(this.gos)||_isServerSideRowModel(this.gos)?!0:(_warnOnce(`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${this.rowModel.getType()}.`),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),o=this.isFilteredOnly(),a=this.isCurrentPageOnly();let c="uiSelectAll";a?c="uiSelectAllCurrentPage":o&&(c="uiSelectAllFiltered");const d={source:c,justFiltered:o,justCurrentPage:a};e?this.selectionService.selectAllRowNodes(d):this.selectionService.deselectAllRowNodes(d)}isCheckboxSelection(){const e=this.gos.get("rowSelection"),o=typeof e=="object"&&_getHeaderCheckbox(e)&&isColumnControlsCol(this.column),a=this.column.getColDef().headerCheckboxSelection;let c=!1;return o?c=!0:typeof a=="function"?c=a(this.gos.addGridCommonParams({column:this.column,colDef:this.column.getColDef()})):c=!!a,c&&this.checkRightRowModelType(o?"headerCheckbox":"headerCheckboxSelection")&&this.checkSelectionType(o?"headerCheckbox":"headerCheckboxSelection")}isFilteredOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="filtered":!!this.column.getColDef().headerCheckboxSelectionFilteredOnly}isCurrentPageOnly(){const e=this.gos.get("rowSelection");return typeof e=="object"?e.mode==="multiRow"&&e.selectAll==="currentPage":!!this.column.getColDef().headerCheckboxSelectionCurrentPageOnly}},HeaderCellCtrl=class extends AbstractHeaderCellCtrl{constructor(e,o,a){super(e,o,a),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map,this.column=e}setComp(e,o,a,c,d){this.comp=e,d=setupCompBean(this,this.beans.context,d),this.setGui(o,d),this.updateState(),this.setupWidth(d),this.setupMovingCss(d),this.setupMenuClass(d),this.setupSortableClass(d),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:c,checkMeasuringCallback:b=>this.setRefreshFunction("measuring",b),compBean:d}),this.addColumnHoverListener(d),this.setupFilterClass(d),this.setupClassesFromColDef(),this.setupTooltip(d),this.addActiveHeaderMouseListeners(d),this.setupSelectAll(d),this.setupUserComp(d),this.refreshAria(),this.resizeFeature=d.createManagedBean(new ResizeFeature(this.getPinned(),this.column,a,e,this)),d.createManagedBean(new HoverFeature([this.column],o)),d.createManagedBean(new SetLeftFeature(this.column,o,this.beans)),d.createManagedBean(new ManagedFocusFeature(o,{shouldStopEventPropagation:b=>this.shouldStopEventPropagation(b),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(d),d.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader"],()=>this.refresh(d)),d.addManagedListeners(this.column,{colDefChanged:()=>this.refresh(d)}),d.addManagedListeners(this.column,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const g=()=>this.checkDisplayName(d);d.addManagedEventListeners({columnValueChanged:g,columnRowGroupChanged:g,columnPivotChanged:g,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),d.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,o){if(!this.column.isResizable())return;const a=this.column.getActualWidth(),c=this.column.getMinWidth(),d=this.column.getMaxWidth(),g=Math.min(Math.max(a+e,c),d);this.beans.columnSizeService.setColumnWidths([{key:this.column,newWidth:g}],o,!0,"uiColumnResized")}moveHeader(e){const{eGui:o,beans:a,column:c,ctrlsService:d}=this,{gos:g,columnModel:b,columnMoveService:_,visibleColsService:$}=a,j=this.getPinned(),rt=o.getBoundingClientRect().left,nt=c.getActualWidth(),st=g.get("enableRtl"),wl=normaliseX({x:e===0!==st?rt-20:rt+nt+20,pinned:j,fromKeyboard:!0,gos:g,ctrlsService:d}),Ft=this.focusService.getFocusedHeader();attemptMoveColumns({allMovingColumns:[c],isFromHeader:!0,fromLeft:e===1,xPosition:wl,pinned:j,fromEnter:!1,fakeEvent:!1,gos:g,columnModel:b,columnMoveService:_,visibleColsService:$,finished:!0}),d.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(c,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&Ft&&this.restoreFocus(Ft)}restoreFocus(e){this.focusService.focusHeaderPosition({headerPosition:{...e,column:this.column}})}setupUserComp(e){const o=this.lookupUserCompDetails(e);this.setCompDetails(o)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(e){const o=this.createParams(e),a=this.column.getColDef();return this.userComponentFactory.getHeaderCompDetails(a,o)}createParams(e){return this.gos.addGridCommonParams({column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&this.menuService.isHeaderFilterButtonEnabled(this.column),enableFilterIcon:!this.openFilterEnabled||this.menuService.isLegacyMenuEnabled(),showColumnMenu:a=>{this.menuService.showColumnMenu({column:this.column,buttonElement:a,positionBy:"button"})},showColumnMenuAfterMouseClick:a=>{this.menuService.showColumnMenu({column:this.column,mouseEvent:a,positionBy:"mouse"})},showFilter:a=>{this.menuService.showFilterMenu({column:this.column,buttonElement:a,containerType:"columnFilter",positionBy:"button"})},progressSort:a=>{this.beans.sortController.progressSort(this.column,!!a,"uiColumnSorted")},setSort:(a,c)=>{this.beans.sortController.setSortForColumn(this.column,a,!!c,"uiColumnSorted")},eGridHeader:this.getGui(),setTooltip:(a,c)=>{this.setupTooltip(e,a,c)}})}setupSelectAll(e){this.selectAllFeature=e.createManagedBean(new SelectAllFeature(this.column)),this.selectAllFeature.setComp(this)}getSelectAllGui(){return this.selectAllFeature.getCheckboxGui()}handleKeyDown(e){super.handleKeyDown(e),e.key===KeyCode.SPACE&&this.selectAllFeature.onSpaceKeyDown(e),e.key===KeyCode.ENTER&&this.onEnterKeyDown(e),e.key===KeyCode.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){if(e.ctrlKey||e.metaKey)this.showMenuOnKeyPress(e,!0);else if(this.sortable){const o=e.shiftKey;this.beans.sortController.progressSort(this.column,o,"uiColumnSorted")}}showMenuOnKeyPress(e,o){const a=this.comp.getUserCompInstance();!a||!(a instanceof HeaderComp)||a.onMenuKeyboardShortcut(o)&&e.preventDefault()}onFocusIn(e){if(!this.getGui().contains(e.relatedTarget)){const o=this.getRowIndex();this.focusService.setFocusedHeader(o,this.column),this.announceAriaDescription()}this.focusService.isKeyboardMode()&&this.setActiveHeader(!0)}onFocusOut(e){this.getGui().contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,o,a){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const c=this.gos.get("tooltipShowMode")==="whenTruncated",d=this.eGui,g=this.column.getColDef();!a&&c&&!g.headerComponent&&(a=()=>{const $=d.querySelector(".ag-header-cell-text");return $?$.scrollWidth>$.clientWidth:!0});const b={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getGui:()=>d,getLocation:()=>"header",getTooltipValue:()=>o??this.column.getColDef().headerTooltip,shouldDisplayTooltip:a},_=e.createManagedBean(new TooltipFeature(b));this.setRefreshFunction("tooltip",()=>_.refreshToolTip())}setupClassesFromColDef(){const e=()=>{const o=this.column.getColDef(),a=_getHeaderClassesFromColDef(o,this.gos,this.column,null),c=this.userHeaderClasses;this.userHeaderClasses=new Set(a),a.forEach(d=>{c.has(d)?c.delete(d):this.comp.addOrRemoveCssClass(d,!0)}),c.forEach(d=>this.comp.addOrRemoveCssClass(d,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){if(this.dragSourceElement=e,this.removeDragSource(),!e||!this.draggable)return;const{column:o,beans:a,displayName:c,dragAndDropService:d,gos:g}=this,{columnModel:b}=a;let _=!this.gos.get("suppressDragLeaveHidesColumns");const $=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>_?"hide":"notAllowed",getDragItem:()=>this.createDragItem(o),dragItemName:c,onDragStarted:()=>{_=!g.get("suppressDragLeaveHidesColumns"),setColumnsMoving([o],!0)},onDragStopped:()=>setColumnsMoving([o],!1),onDragCancelled:()=>setColumnsMoving([o],!1),onGridEnter:j=>{var rt;if(_){const nt=((rt=j==null?void 0:j.columns)==null?void 0:rt.filter(st=>!st.getColDef().lockVisible))||[];b.setColsVisible(nt,!0,"uiColumnMoved")}},onGridExit:j=>{var rt;if(_){const nt=((rt=j==null?void 0:j.columns)==null?void 0:rt.filter(st=>!st.getColDef().lockVisible))||[];b.setColsVisible(nt,!1,"uiColumnMoved")}}};d.addDragSource($,!0)}createDragItem(e){const o={};return o[e.getId()]=e.isVisible(),{columns:[e],visibleState:o}}updateState(){this.menuEnabled=this.menuService.isColumnMenuInHeaderEnabled(this.column),this.openFilterEnabled=this.menuService.isFilterMenuInHeaderEnabled(this.column),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,o){this.refreshFunctions[e]=o}refresh(e){this.updateState(),this.refreshHeaderComp(e),this.refreshAria(),Object.values(this.refreshFunctions).forEach(o=>o())}refreshHeaderComp(e){const o=this.lookupUserCompDetails(e);(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==o.componentClass?this.attemptHeaderCompRefresh(o.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(o)}attemptHeaderCompRefresh(e){const o=this.comp.getUserCompInstance();return!o||!o.refresh?!1:o.refresh(e)}calculateDisplayName(){return this.beans.columnNameService.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(e){this.displayName!==this.calculateDisplayName()&&this.refresh(e)}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const o=()=>{const a=this.column.getActualWidth();this.comp.setWidth(`${a}px`)};e.addManagedListeners(this.column,{widthChanged:o}),o()}setupMovingCss(e){const o=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:o}),o()}setupMenuClass(e){const o=()=>{this.comp.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:o}),o()}setupSortableClass(e){const o=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};o(),this.setRefreshFunction("updateSortable",o),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const o=()=>{const a=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",a),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:o}),o()}setupWrapTextClass(){const e=()=>{const o=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",o)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),o=e===0,a=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",o),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:o,comp:a,beans:c}=this,d=this.beans.columnModel.getGroupRowsHeight(),g=d.reduce((nt,st)=>nt+=st,0)===0;if(a.addOrRemoveCssClass("ag-header-parent-hidden",g),!o.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),a.addOrRemoveCssClass("ag-header-span-height",!1),a.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:b,isSpanningTotal:_}=this.column.getColumnGroupPaddingInfo();a.addOrRemoveCssClass("ag-header-span-height",b>0);const{columnModel:$}=c,j=$.getColumnHeaderRowHeight();if(b===0){a.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${j}px`);return}a.addOrRemoveCssClass("ag-header-span-total",_);let rt=0;for(let nt=0;nt<b;nt++)rt+=d[d.length-1-nt];e.style.setProperty("top",`${-rt}px`),e.style.setProperty("height",`${j+rt}px`)}refreshAriaSort(){if(this.sortable){const e=this.localeService.getLocaleTextFunc(),o=this.beans.sortController.getDisplaySortForColumn(this.column)||null;this.comp.setAriaSort(_getAriaSortState(o)),this.setAriaDescriptionProperty("sort",e("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!this.menuService.isLegacyMenuEnabled()){const e=this.localeService.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.localeService.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,o){o!=null?this.ariaDescriptionProperties.set(e,o):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){if(!this.eGui.contains(_getActiveDomElement(this.beans.gos)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((o,a)=>o==="filter"?-1:a.charCodeAt(0)-o.charCodeAt(0)).map(o=>this.ariaDescriptionProperties.get(o)).join(". ");this.beans.ariaAnnouncementService.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){const o=()=>{if(!this.gos.get("columnHoverHighlight"))return;const a=this.beans.columnHoverService.isHovered(this.column);this.comp.addOrRemoveCssClass("ag-column-hover",a)};e.addManagedEventListeners({columnHoverChanged:o}),o()}getColId(){return this.column.getColId()}addActiveHeaderMouseListeners(e){const o=d=>this.handleMouseOverChange(d.type==="mouseenter"),a=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column),c=d=>this.handleContextMenuMouseEvent(d,void 0,this.column);e.addManagedListeners(this.getGui(),{mouseenter:o,mouseleave:o,click:a,contextmenu:c})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const o=this.comp.getUserCompInstance();return o instanceof HeaderComp?o.getAnchorElementForMenu(e):this.getGui()}destroy(){super.destroy()}},GroupResizeFeature=class extends BeanStub{wireBeans(e){this.horizontalResizeService=e.horizontalResizeService,this.autoWidthCalculator=e.autoWidthCalculator,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.columnAutosizeService=e.columnAutosizeService}constructor(e,o,a,c){super(),this.eResize=o,this.comp=e,this.pinned=a,this.columnGroup=c}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const e=this.horizontalResizeService.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});if(this.addDestroyFunc(e),!this.gos.get("suppressAutoSize")){const o=this.gos.get("skipHeaderOnAutoSize");this.eResize.addEventListener("dblclick",()=>{const a=[];this.columnGroup.getDisplayedLeafColumns().forEach(d=>{d.getColDef().suppressAutoSize||a.push(d.getColId())}),a.length>0&&this.columnAutosizeService.autoSizeCols({colKeys:a,skipHeader:o,stopAtGroup:this.columnGroup,source:"uiColumnResized"}),this.resizeLeafColumnsToFit("uiColumnResized")})}}onResizeStart(e){const o=this.getInitialValues(e);this.storeLocalValues(o),this.toggleColumnResizing(!0)}onResizing(e,o,a="uiColumnResized"){const c=this.normaliseDragChange(o),d=this.resizeStartWidth+c;this.resizeColumnsFromLocalValues(d,a,e)}getInitialValues(e){const o=this.getColumnsToResize(),a=this.getInitialSizeOfColumns(o),c=this.getSizeRatiosOfColumns(o,a),d={columnsToResize:o,resizeStartWidth:a,resizeRatios:c};let g=null;if(e&&(g=this.visibleColsService.getGroupAtDirection(this.columnGroup,"After")),g){const b=g.getDisplayedLeafColumns(),_=d.groupAfterColumns=b.filter(j=>j.isResizable()),$=d.groupAfterStartWidth=this.getInitialSizeOfColumns(_);d.groupAfterRatios=this.getSizeRatiosOfColumns(_,$)}else d.groupAfterColumns=void 0,d.groupAfterStartWidth=void 0,d.groupAfterRatios=void 0;return d}storeLocalValues(e){const{columnsToResize:o,resizeStartWidth:a,resizeRatios:c,groupAfterColumns:d,groupAfterStartWidth:g,groupAfterRatios:b}=e;this.resizeCols=o,this.resizeStartWidth=a,this.resizeRatios=c,this.resizeTakeFromCols=d,this.resizeTakeFromStartWidth=g,this.resizeTakeFromRatios=b}clearLocalValues(){this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}resizeLeafColumnsToFit(e){const o=this.autoWidthCalculator.getPreferredWidthForColumnGroup(this.columnGroup),a=this.getInitialValues();o>a.resizeStartWidth&&this.resizeColumns(a,o,e,!0)}resizeColumnsFromLocalValues(e,o,a=!0){if(!this.resizeCols||!this.resizeRatios)return;const c={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols??void 0,groupAfterStartWidth:this.resizeTakeFromStartWidth??void 0,groupAfterRatios:this.resizeTakeFromRatios??void 0};this.resizeColumns(c,e,o,a)}resizeColumns(e,o,a,c=!0){const{columnsToResize:d,resizeStartWidth:g,resizeRatios:b,groupAfterColumns:_,groupAfterStartWidth:$,groupAfterRatios:j}=e,rt=[];if(rt.push({columns:d,ratios:b,width:o}),_){const nt=o-g;rt.push({columns:_,ratios:j,width:$-nt})}this.columnSizeService.resizeColumnSets({resizeSets:rt,finished:c,source:a}),c&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(o=>o.isResizable())}getInitialSizeOfColumns(e){return e.reduce((o,a)=>o+a.getActualWidth(),0)}getSizeRatiosOfColumns(e,o){return e.map(a=>a.getActualWidth()/o)}normaliseDragChange(e){let o=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(o*=-1):this.pinned==="right"&&(o*=-1),o}destroy(){super.destroy(),this.clearLocalValues()}},GroupWidthFeature=class extends BeanStub{constructor(e,o){super(),this.removeChildListenersFuncs=[],this.columnGroup=o,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(o=>{o.addEventListener("widthChanged",e),o.addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{o.removeEventListener("widthChanged",e),o.removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},HeaderGroupCellCtrl=class extends AbstractHeaderCellCtrl{constructor(e,o,a){super(e,o,a),this.onSuppressColMoveChange=()=>{if(!this.isAlive()||this.isSuppressMoving())this.removeDragSource();else if(!this.dragSource){const c=this.getGui();this.setDragSource(c)}},this.column=e}setComp(e,o,a,c,d){this.comp=e,d=setupCompBean(this,this.beans.context,d),this.setGui(o,d),this.displayName=this.beans.columnNameService.getDisplayNameForColumnGroup(this.column,"header"),this.addClasses(),this.setupMovingCss(d),this.setupExpandable(d),this.setupTooltip(d),this.setupAutoHeight({wrapperElement:c,compBean:d}),this.setupUserComp(d),this.addHeaderMouseListeners(d),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const g=this.getParentRowCtrl().getPinned(),b=this.column.getProvidedColumnGroup().getLeafColumns();d.createManagedBean(new HoverFeature(b,o)),d.createManagedBean(new SetLeftFeature(this.column,o,this.beans)),d.createManagedBean(new GroupWidthFeature(e,this.column)),this.resizeFeature=d.createManagedBean(new GroupResizeFeature(e,a,g,this.column)),d.createManagedBean(new ManagedFocusFeature(o,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(d,b),d.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(d),d.addDestroyFunc(()=>this.clearComponent())}refreshMaxHeaderHeight(){const{gos:e,comp:o}=this,a=e.get("groupHeaderHeight");a!=null?a===0?o.setHeaderWrapperHidden(!0):o.setHeaderWrapperMaxHeight(a):(o.setHeaderWrapperHidden(!1),o.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,o){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const a of o)e.addManagedListeners(a,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,a)})}onLeafColumnHighlightChanged(e){const o=this.column.getDisplayedLeafColumns(),a=o[0]===e,c=_last(o)===e;if(!a&&!c)return;const d=e.getHighlighted(),g=!!this.getParentRowCtrl().findHeaderCellCtrl($=>$.getColumnGroupChild().isMoving());let b=!1,_=!1;if(g){const $=this.beans.gos.get("enableRtl"),j=d===1,rt=d===0;a&&($?_=j:b=rt),c&&($?b=rt:_=j)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",b),this.comp.addOrRemoveCssClass("ag-header-highlight-after",_)}getColumn(){return this.column}resizeHeader(e,o){if(!this.resizeFeature)return;const a=this.resizeFeature.getInitialValues(o);this.resizeFeature.resizeColumns(a,a.resizeStartWidth+e,"uiColumnResized",!0)}moveHeader(e){const{beans:o,eGui:a,column:c,ctrlsService:d}=this,{gos:g,columnModel:b,columnMoveService:_,visibleColsService:$}=o,j=g.get("enableRtl"),rt=e===0,nt=this.getPinned(),st=a.getBoundingClientRect(),jt=st.left,wl=st.width,Ft=normaliseX({x:rt!==j?jt-20:jt+wl+20,pinned:nt,fromKeyboard:!0,gos:g,ctrlsService:d}),it=c.getGroupId(),ot=this.focusService.getFocusedHeader();attemptMoveColumns({allMovingColumns:this.column.getLeafColumns(),isFromHeader:!0,fromLeft:e===1,xPosition:Ft,pinned:nt,fromEnter:!1,fakeEvent:!1,gos:g,columnModel:b,columnMoveService:_,visibleColsService:$,finished:!0});const Ln=c.getDisplayedLeafColumns(),Cl=rt?Ln[0]:_last(Ln);this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(Cl,"auto"),(!this.isAlive()||this.beans.gos.get("ensureDomOrder"))&&ot&&this.restoreFocus(it,c,ot)}restoreFocus(e,o,a){const c=o.getLeafColumns();if(!c.length)return;const d=c[0].getParent();if(!d)return;const g=this.findGroupWidthId(d,e);g&&this.focusService.focusHeaderPosition({headerPosition:{...a,column:g}})}findGroupWidthId(e,o){for(;e;){if(e.getGroupId()===o)return e;e=e.getParent()}return null}resizeLeafColumnsToFit(e){this.resizeFeature&&this.resizeFeature.resizeLeafColumnsToFit(e)}setupUserComp(e){const o=this.gos.addGridCommonParams({displayName:this.displayName,columnGroup:this.column,setExpanded:c=>{this.beans.columnModel.setColumnGroupOpened(this.column.getProvidedColumnGroup(),c,"gridInitializing")},setTooltip:(c,d)=>{this.setupTooltip(e,c,d)}}),a=this.userComponentFactory.getHeaderGroupCompDetails(o);this.comp.setUserCompDetails(a)}addHeaderMouseListeners(e){const o=d=>this.handleMouseOverChange(d.type==="mouseenter"),a=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),c=d=>this.handleContextMenuMouseEvent(d,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.getGui(),{mouseenter:o,mouseleave:o,click:a,contextmenu:c})}handleMouseOverChange(e){this.eventService.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,o,a){this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature));const c=this.column.getColGroupDef(),d=this.gos.get("tooltipShowMode")==="whenTruncated",g=this.eGui;!a&&d&&!(c!=null&&c.headerGroupComponent)&&(a=()=>{const _=g.querySelector(".ag-header-group-text");return _?_.scrollWidth>_.clientWidth:!0});const b={getColumn:()=>this.column,getGui:()=>g,getLocation:()=>"headerGroup",getTooltipValue:()=>o??(c&&c.headerTooltip),shouldDisplayTooltip:a};c&&(b.getColDef=()=>c),e.createManagedBean(new TooltipFeature(b))}setupExpandable(e){const o=this.column.getProvidedColumnGroup();this.refreshExpanded();const a=this.refreshExpanded.bind(this);e.addManagedListeners(o,{expandedChanged:a,expandableChanged:a})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const o=e.isExpanded();this.expandable?this.comp.setAriaExpanded(o?"true":"false"):this.comp.setAriaExpanded(void 0)}getColId(){return this.column.getUniqueId()}addClasses(){const e=this.column.getColGroupDef(),o=_getHeaderClassesFromColDef(e,this.gos,null,this.column);this.column.isPadding()?(o.push("ag-header-group-cell-no-group"),this.column.getLeafColumns().every(c=>c.isSpanHeaderHeight())&&o.push("ag-header-span-height")):(o.push("ag-header-group-cell-with-group"),e!=null&&e.wrapHeaderText&&o.push("ag-header-cell-wrap-text")),o.forEach(a=>this.comp.addOrRemoveCssClass(a,!0))}setupMovingCss(e){const a=this.column.getProvidedColumnGroup().getLeafColumns(),c=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving());a.forEach(d=>{e.addManagedListeners(d,{movingChanged:c})}),c()}onFocusIn(e){if(!this.eGui.contains(e.relatedTarget)){const o=this.getRowIndex();this.beans.focusService.setFocusedHeader(o,this.column)}}handleKeyDown(e){super.handleKeyDown(e);const o=this.getWrapperHasFocus();if(!(!this.expandable||!o)&&e.key===KeyCode.ENTER){const a=this.column,c=!a.isExpanded();this.beans.columnModel.setColumnGroupOpened(a.getProvidedColumnGroup(),c,"uiColumnExpanded")}}setDragSource(e){if(!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),!e))return;const{beans:o,column:a,displayName:c,gos:d,dragAndDropService:g}=this,{columnModel:b}=o,_=a.getProvidedColumnGroup().getLeafColumns();let $=!d.get("suppressDragLeaveHidesColumns");const j=this.dragSource={type:1,eElement:e,getDefaultIconName:()=>$?"hide":"notAllowed",dragItemName:c,getDragItem:()=>this.getDragItemForGroup(a),onDragStarted:()=>{$=!d.get("suppressDragLeaveHidesColumns"),setColumnsMoving(_,!0)},onDragStopped:()=>setColumnsMoving(_,!1),onDragCancelled:()=>setColumnsMoving(_,!1),onGridEnter:rt=>{if($){const{columns:nt=[],visibleState:st}=rt??{},jt=nt.filter(wl=>!wl.getColDef().lockVisible&&(!st||st[wl.getColId()]));b.setColsVisible(jt,!0,"uiColumnMoved")}},onGridExit:rt=>{var nt;if($){const st=((nt=rt==null?void 0:rt.columns)==null?void 0:nt.filter(jt=>!jt.getColDef().lockVisible))||[];b.setColsVisible(st,!1,"uiColumnMoved")}}};g.addDragSource(j,!0)}getDragItemForGroup(e){const o=e.getProvidedColumnGroup().getLeafColumns(),a={};o.forEach(b=>a[b.getId()]=b.isVisible());const c=[];this.beans.visibleColsService.getAllCols().forEach(b=>{o.indexOf(b)>=0&&(c.push(b),_removeFromArray(o,b))}),o.forEach(b=>c.push(b));const d=[],g=e.getLeafColumns();for(const b of c)g.indexOf(b)!==-1&&d.push(b);return{columns:c,columnsInSplit:d,visibleState:a}}isSuppressMoving(){let e=!1;return this.column.getLeafColumns().forEach(a=>{(a.getColDef().suppressMovable||a.getColDef().lockPosition)&&(e=!0)}),e||this.gos.get("suppressMovableColumns")}destroy(){super.destroy()}},instanceIdSequence3=0,HeaderRowCtrl=class extends BeanStub{constructor(e,o,a){super(),this.instanceId=instanceIdSequence3++,this.rowIndex=e,this.pinned=o,this.type=a;const c=a=="group"?"ag-header-row-column-group":a=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${c}`}wireBeans(e){this.beans=e}postConstruct(){this.isPrintLayout=_isDomLayout(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.getHeaderCellCtrls().every(e=>e.getGui()!=null):!1}setComp(e,o,a=!0){this.comp=e,o=setupCompBean(this,this.beans.context,o),a&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(o)}getHeaderRowClass(){return this.headerRowClass}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const o=this.onRowHeightChanged.bind(this);e.addManagedEventListeners({columnResized:this.onColumnResized.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:a=>this.onVirtualColumnsChanged(a.afterScroll),columnGroupHeaderHeightChanged:o,columnHeaderHeightChanged:o,gridStylesChanged:o,advancedFilterEnabledChanged:o}),e.addManagedPropertyListener("domLayout",this.onDisplayedColumnsChanged.bind(this)),e.addManagedPropertyListener("ensureDomOrder",a=>this.isEnsureDomOrder=a.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],o)}getHeaderCellCtrl(e){if(this.headerCellCtrls)return _values(this.headerCellCtrls).find(o=>o.getColumnGroupChild()===e)}onDisplayedColumnsChanged(){this.isPrintLayout=_isDomLayout(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}getType(){return this.type}onColumnResized(){this.setWidth()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleColsService:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:o}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(o+"px")}getTopAndHeight(){const{columnModel:e,filterManager:o}=this.beans,a=[],c=e.getGroupRowsHeight(),d=e.getColumnHeaderRowHeight();a.push(...c),a.push(d),o!=null&&o.hasFloatingFilters()&&a.push(e.getFloatingFiltersHeight());let g=0;for(let _=0;_<this.rowIndex;_++)g+=a[_];const b=a[this.rowIndex];return{topOffset:g,rowHeight:b}}getPinned(){return this.pinned}getRowIndex(){return this.rowIndex}onVirtualColumnsChanged(e=!1){const o=this.getHeaderCtrls(),a=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(o,a,e)}getHeaderCtrls(){const e=this.headerCellCtrls;this.headerCellCtrls=new Map;const o=this.getColumnsInViewport();for(const c of o)this.recycleAndCreateHeaderCtrls(c,e);const a=c=>{const{focusService:d,visibleColsService:g}=this.beans;return d.isHeaderWrapperFocused(c)?g.isVisible(c.getColumnGroupChild()):!1};if(e)for(const[c,d]of e)a(d)?this.headerCellCtrls.set(c,d):this.destroyBean(d);return this.getHeaderCellCtrls()}getHeaderCellCtrls(){var e;return Array.from(((e=this.headerCellCtrls)==null?void 0:e.values())??[])}recycleAndCreateHeaderCtrls(e,o){if(!this.headerCellCtrls||e.isEmptyGroup())return;const a=e.getUniqueId();let c;if(o&&(c=o.get(a),o.delete(a)),c&&c.getColumnGroupChild()!=e&&(this.destroyBean(c),c=void 0),c==null)switch(this.type){case"filter":{c=this.createBean(this.beans.ctrlsFactory.getInstance("headerFilterCell",e,this.beans,this));break}case"group":c=this.createBean(new HeaderGroupCellCtrl(e,this.beans,this));break;default:c=this.createBean(new HeaderCellCtrl(e,this.beans,this));break}this.headerCellCtrls.set(a,c)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const o=this.getActualDepth(),{columnViewportService:a}=this.beans;return["left",null,"right"].forEach(c=>{const d=a.getHeadersToRender(c,o);e=e.concat(d)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.columnViewportService.getHeadersToRender(this.pinned,this.getActualDepth())}findHeaderCellCtrl(e){if(!this.headerCellCtrls)return;const o=this.getHeaderCellCtrls();let a;return typeof e=="function"?a=o.find(e):a=o.find(c=>c.getColumnGroupChild()==e),a}focusHeader(e,o){const a=this.findHeaderCellCtrl(e);return a?a.focus(o):!1}destroy(){var e;(e=this.headerCellCtrls)==null||e.forEach(o=>{this.destroyBean(o)}),this.headerCellCtrls=void 0,super.destroy()}},HeaderRowContainerCtrl=class extends BeanStub{constructor(e){super(),this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[],this.pinned=e}wireBeans(e){this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.focusService=e.focusService,this.filterManager=e.filterManager}setComp(e,o){this.comp=e,this.eViewport=o,this.setupCenterWidth(),this.setupPinnedWidth(),this.setupDragAndDrop(this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const c=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;this.ctrlsService.register(c,this),this.columnModel.isReady()&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const o=new NumberSequence,a=this.focusService.getFocusHeaderToUseAfterRefresh(),c=()=>{const _=this.columnModel.getHeaderRowCount()-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let $=0;$<_;$++){const j=this.createBean(new HeaderRowCtrl(o.next(),this.pinned,"group"));this.groupsRowCtrls.push(j)}},d=()=>{const _=o.next(),$=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.getRowIndex()!==_);($||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),$&&(this.columnsRowCtrl=this.createBean(new HeaderRowCtrl(_,this.pinned,"column")))},g=()=>{var j;this.includeFloatingFilter=!!((j=this.filterManager)!=null&&j.hasFloatingFilters())&&!this.hidden;const _=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){_();return}const $=o.next();if(this.filtersRowCtrl){const rt=this.filtersRowCtrl.getRowIndex()!==$;(!e||rt)&&_()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new HeaderRowCtrl($,this.pinned,"filter")))};c(),d(),g();const b=this.getAllCtrls();this.comp.setCtrls(b),this.restoreFocusOnHeader(a)}getHeaderCtrlForColumn(e){var o;if(isColumn(e))return(o=this.columnsRowCtrl)==null?void 0:o.getHeaderCellCtrl(e);if(this.groupsRowCtrls.length!==0)for(let a=0;a<this.groupsRowCtrls.length;a++){const c=this.groupsRowCtrls[a].getHeaderCellCtrl(e);if(c)return c}}getHtmlElementForColumnHeader(e){const o=this.getHeaderCtrlForColumn(e);return o?o.getGui():null}getRowType(e){const a=this.getAllCtrls()[e];return a?a.getType():void 0}focusHeader(e,o,a){const d=this.getAllCtrls()[e];return d?d.focusHeader(o,a):!1}getViewportElement(){return this.eViewport}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}destroy(){this.filtersRowCtrl&&(this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)),this.columnsRowCtrl&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),this.groupsRowCtrls&&this.groupsRowCtrls.length&&(this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls)),super.destroy()}setupDragAndDrop(e){const o=new BodyDropTarget(this.pinned,e);this.createManagedBean(o)}restoreFocusOnHeader(e){if(!e)return;const{column:o}=e;o.getPinned()==this.pinned&&this.focusService.focusHeaderPosition({headerPosition:e})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(){var o;const e=((o=this.filterManager)==null?void 0:o.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==e&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new CenterWidthFeature(e=>this.comp.setCenterWidth(`${e}px`),!0))}setupPinnedWidth(){if(this.pinned==null)return;const e=this.pinned==="left",o=this.pinned==="right";this.hidden=!0;const a=()=>{const c=e?this.pinnedWidthService.getPinnedLeftWidth():this.pinnedWidthService.getPinnedRightWidth();if(c==null)return;const d=c==0,g=this.hidden!==d,b=this.gos.get("enableRtl"),_=this.scrollVisibleService.getScrollbarWidth(),j=this.scrollVisibleService.isVerticalScrollShowing()&&(b&&e||!b&&o)?c+_:c;this.comp.setPinnedContainerWidth(`${j}px`),this.comp.setDisplayed(!d),g&&(this.hidden=d,this.refresh())};this.addManagedEventListeners({leftPinnedWidthChanged:a,rightPinnedWidthChanged:a,scrollVisibilityChanged:a,scrollbarWidthChanged:a})}},PINNED_LEFT_TEMPLATE='<div class="ag-pinned-left-header" role="rowgroup"></div>',PINNED_RIGHT_TEMPLATE='<div class="ag-pinned-right-header" role="rowgroup"></div>',CENTER_TEMPLATE=`<div class="ag-header-viewport" role="presentation">
        <div class="ag-header-container" data-ref="eCenterContainer" role="rowgroup"></div>
    </div>`,HeaderRowContainerComp$1=class extends Component{constructor(o){super(),this.eCenterContainer=RefPlaceholder,this.headerRowComps={},this.rowCompsList=[],this.pinned=o}postConstruct(){this.selectAndSetTemplate();const o={setDisplayed:c=>this.setDisplayed(c),setCtrls:c=>this.setCtrls(c),setCenterWidth:c=>this.eCenterContainer.style.width=c,setViewportScrollLeft:c=>this.getGui().scrollLeft=c,setPinnedContainerWidth:c=>{const d=this.getGui();d.style.width=c,d.style.maxWidth=c,d.style.minWidth=c}};this.createManagedBean(new HeaderRowContainerCtrl(this.pinned)).setComp(o,this.getGui())}selectAndSetTemplate(){const o=this.pinned=="left",a=this.pinned=="right",c=o?PINNED_LEFT_TEMPLATE:a?PINNED_RIGHT_TEMPLATE:CENTER_TEMPLATE;this.setTemplate(c),this.eRowContainer=this.eCenterContainer!==RefPlaceholder?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(o){this.destroyBean(o),this.eRowContainer.removeChild(o.getGui())}setCtrls(o){const a=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let c;const d=g=>{const b=g.getGui();b.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(b),c&&_ensureDomOrder(this.eRowContainer,b,c),c=b};o.forEach(g=>{const b=g.instanceId,_=a[b];delete a[b];const $=_||this.createBean(new HeaderRowComp$1(g));this.headerRowComps[b]=$,this.rowCompsList.push($),d($)}),_getAllValuesInObject(a).forEach(g=>this.destroyRowComp(g))}},GridHeaderComp$1=class extends Component{constructor(){super('<div class="ag-header" role="presentation"/>')}postConstruct(){const o={addOrRemoveCssClass:(d,g)=>this.addOrRemoveCssClass(d,g),setHeightAndMinHeight:d=>{this.getGui().style.height=d,this.getGui().style.minHeight=d}};this.createManagedBean(new GridHeaderCtrl).setComp(o,this.getGui(),this.getFocusableElement());const c=d=>{this.createManagedBean(d),this.appendChild(d)};c(new HeaderRowContainerComp$1("left")),c(new HeaderRowContainerComp$1(null)),c(new HeaderRowContainerComp$1("right"))}},GridHeaderSelector={selector:"AG-HEADER-ROOT",component:GridHeaderComp$1},LayoutCssClasses=(e=>(e.AUTO_HEIGHT="ag-layout-auto-height",e.NORMAL="ag-layout-normal",e.PRINT="ag-layout-print",e))(LayoutCssClasses||{}),LayoutFeature=class extends BeanStub{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.getDomLayout(),o={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},a=o.autoHeight?"ag-layout-auto-height":o.print?"ag-layout-print":"ag-layout-normal";this.view.updateLayoutClasses(a,o)}getDomLayout(){const e=this.gos.get("domLayout")??"normal";return["normal","print","autoHeight"].indexOf(e)===-1?(_warnOnce(`${e} is not valid for DOM Layout, valid values are 'normal', 'autoHeight', 'print'.`),"normal"):e}},OverlayWrapperComponent=class extends Component{constructor(){super(`
            <div class="ag-overlay" role="presentation">
                <div class="ag-overlay-panel" role="presentation">
                    <div class="ag-overlay-wrapper" data-ref="eOverlayWrapper" role="presentation"></div>
                </div>
            </div>`),this.eOverlayWrapper=RefPlaceholder,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeOverlayWrapperCssClass=null,this.elToFocusAfter=null}wireBeans(e){this.overlayService=e.overlayService,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}handleKeyDown(e){if(e.key!==KeyCode.TAB||e.defaultPrevented||_isStopPropagationForAgGrid(e)||this.focusService.findNextFocusableElement(this.eOverlayWrapper,!1,e.shiftKey))return;let a=!1;e.shiftKey?a=this.focusService.focusGridView(_last(this.visibleColsService.getAllCols()),!0,!1):a=this.focusService.focusNextGridCoreContainer(!1),a&&e.preventDefault()}updateLayoutClasses(e,o){const a=this.eOverlayWrapper.classList;a.toggle("ag-layout-auto-height",o.autoHeight),a.toggle("ag-layout-normal",o.normal),a.toggle("ag-layout-print",o.print)}postConstruct(){this.createManagedBean(new LayoutFeature(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.overlayService.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const o=this.eOverlayWrapper.classList;this.activeOverlayWrapperCssClass&&o.toggle(this.activeOverlayWrapperCssClass,!1),this.activeOverlayWrapperCssClass=e,o.toggle(e,!0)}showOverlay(e,o,a,c){if(this.setWrapperTypeClass(o),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),a&&this.focusService.isGridFocused()){const d=_getActiveDomElement(this.gos);d&&!_isNothingFocused(this.gos)&&(this.elToFocusAfter=d)}e.then(d=>{if(this.activePromise!==e){this.activeOverlay!==d&&(this.destroyBean(d),d=null);return}if(this.activePromise=null,!d)return;if(this.activeOverlay!==d&&(this.eOverlayWrapper.appendChild(d.getGui()),this.activeOverlay=d,c)){const b=d;this.updateListenerDestroyFunc=this.addManagedPropertyListener(c,({currentValue:_})=>{var $;($=b.refresh)==null||$.call(b,this.gos.addGridCommonParams({..._??{}}))})}const g=this.focusService;a&&g.isGridFocused()&&g.focusInto(this.eOverlayWrapper)})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var c;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let o=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,o&&!this.focusService.isGridFocused()&&(o=null);const a=this.updateListenerDestroyFunc;a&&(a(),this.updateListenerDestroyFunc=null),this.destroyBean(e),_clearElement(this.eOverlayWrapper),(c=o==null?void 0:o.focus)==null||c.call(o,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.overlayService.setOverlayWrapperComp(void 0),super.destroy()}},OverlayWrapperSelector={selector:"AG-OVERLAY-WRAPPER",component:OverlayWrapperComponent},AbstractFakeScrollComp=class extends Component{constructor(e,o){super(),this.direction=o,this.eViewport=RefPlaceholder,this.eContainer=RefPlaceholder,this.hideTimeout=null,this.setTemplate(e)}wireBeans(e){this.animationFrameService=e.animationFrameService}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",_isMacOsUserAgent()||_isIOSUserAgent())}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=_isInvisibleScrollbar(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),o=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),a=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:o,mousedown:o,touchstart:o,mouseleave:a,touchend:a})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),this.animationFrameService.requestAnimationFrame(()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout!==null&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=null),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=null},400)}})}attemptSettingScrollPosition(e){const o=this.getViewportElement();_waitUntil(()=>_isVisible(o),()=>this.setScrollPosition(e),100)}getViewportElement(){return this.eViewport}getContainer(){return this.eContainer}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}},FakeHScrollComp=class extends AbstractFakeScrollComp{constructor(){super(`<div class="ag-body-horizontal-scroll" aria-hidden="true">
            <div class="ag-horizontal-left-spacer" data-ref="eLeftSpacer"></div>
            <div class="ag-body-horizontal-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-horizontal-scroll-container" data-ref="eContainer"></div>
            </div>
            <div class="ag-horizontal-right-spacer" data-ref="eRightSpacer"></div>
        </div>`,"horizontal"),this.eLeftSpacer=RefPlaceholder,this.eRightSpacer=RefPlaceholder}wireBeans(e){super.wireBeans(e),this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.ctrlsService.register("fakeHScrollComp",this),this.createManagedBean(new CenterWidthFeature(o=>this.eContainer.style.width=`${o}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}onPinnedRowDataChanged(){this.refreshCompBottom()}refreshCompBottom(){if(!this.invisibleScrollbar)return;const e=this.pinnedRowModel.getPinnedBottomTotalHeight();this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleService.isVerticalScrollShowing();let o=this.visibleColsService.getDisplayedColumnsRightWidth();const a=!this.enableRtl&&e,c=this.scrollVisibleService.getScrollbarWidth();a&&(o+=c),_setFixedWidth(this.eRightSpacer,o),this.eRightSpacer.classList.toggle("ag-scroller-corner",o<=c);let d=this.visibleColsService.getColsLeftWidth();this.enableRtl&&e&&(d+=c),_setFixedWidth(this.eLeftSpacer,d),this.eLeftSpacer.classList.toggle("ag-scroller-corner",d<=c)}setScrollVisible(){const e=this.scrollVisibleService.isHorizontalScrollShowing(),o=this.invisibleScrollbar,a=this.gos.get("suppressHorizontalScroll"),c=e&&this.scrollVisibleService.getScrollbarWidth()||0,g=a?0:c===0&&o?16:c;this.addOrRemoveCssClass("ag-scrollbar-invisible",o),_setFixedHeight(this.getGui(),g),_setFixedHeight(this.eViewport,g),_setFixedHeight(this.eContainer,g),this.setDisplayed(e,{skipAriaHidden:!0})}getScrollPosition(){return _getScrollLeft(this.getViewportElement(),this.enableRtl)}setScrollPosition(e){_isVisible(this.getViewportElement())||this.attemptSettingScrollPosition(e),_setScrollLeft(this.getViewportElement(),e,this.enableRtl)}},FakeHScrollSelector={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:FakeHScrollComp},SetHeightFeature=class extends BeanStub{wireBeans(e){this.maxDivHeightScaler=e.rowContainerHeightService}constructor(e,o){super(),this.eContainer=e,this.eViewport=o}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this)})}onHeightChanged(){const e=this.maxDivHeightScaler.getUiContainerHeight(),o=e!=null?`${e}px`:"";this.eContainer.style.height=o,this.eViewport&&(this.eViewport.style.height=o)}},FakeVScrollComp=class extends AbstractFakeScrollComp{wireBeans(e){super.wireBeans(e),this.ctrlsService=e.ctrlsService,this.scrollVisibleService=e.scrollVisibleService}constructor(){super(`<div class="ag-body-vertical-scroll" aria-hidden="true">
            <div class="ag-body-vertical-scroll-viewport" data-ref="eViewport">
                <div class="ag-body-vertical-scroll-container" data-ref="eContainer"></div>
            </div>
        </div>`,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new SetHeightFeature(this.eContainer)),this.ctrlsService.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this)})}setScrollVisible(){const e=this.scrollVisibleService.isVerticalScrollShowing(),o=this.invisibleScrollbar,a=e&&this.scrollVisibleService.getScrollbarWidth()||0,c=a===0&&o?16:a;this.addOrRemoveCssClass("ag-scrollbar-invisible",o),_setFixedWidth(this.getGui(),c),_setFixedWidth(this.eViewport,c),_setFixedWidth(this.eContainer,c),this.setDisplayed(e,{skipAriaHidden:!0})}onRowContainerHeightChanged(){const{ctrlsService:e}=this,a=e.getGridBodyCtrl().getBodyViewportElement(),c=this.getScrollPosition(),d=a.scrollTop;c!=d&&this.setScrollPosition(d,!0)}getScrollPosition(){return this.getViewportElement().scrollTop}setScrollPosition(e,o){!o&&!_isVisible(this.getViewportElement())&&this.attemptSettingScrollPosition(e),this.getViewportElement().scrollTop=e}},FakeVScrollSelector={selector:"AG-FAKE-VERTICAL-SCROLL",component:FakeVScrollComp},HorizontalSources=(e=>(e.FakeHScrollbar="fakeHScrollComp",e.Header="centerHeader",e.PinnedTop="topCenter",e.PinnedBottom="bottomCenter",e.StickyTop="stickyTopCenter",e.StickyBottom="stickyBottomCenter",e))(HorizontalSources||{}),GridBodyScrollFeature=class extends BeanStub{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.eBodyViewport=e,this.resetLastHScrollDebounced=_debounce(()=>this.lastScrollSource[1]=null,500),this.resetLastVScrollDebounced=_debounce(()=>this.lastScrollSource[0]=null,500)}wireBeans(e){this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.rowModel=e.rowModel,this.heightScaler=e.rowContainerHeightService,this.rowRenderer=e.rowRenderer,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)}),this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.getViewportElement(),{scroll:this.onHScroll.bind(this,"Viewport")});for(const e of Object.values(HorizontalSources)){const o=this.ctrlsService.get(e);this.registerScrollPartner(o,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsService.get("fakeVScrollComp"),o=this.gos.get("debounceVerticalScrollbar"),a=o?_debounce(this.onVScroll.bind(this,"Viewport"),100):this.onVScroll.bind(this,"Viewport"),c=o?_debounce(this.onVScroll.bind(this,"fakeVScrollComp"),100):this.onVScroll.bind(this,"fakeVScrollComp");this.addManagedElementListeners(this.eBodyViewport,{scroll:a}),this.registerScrollPartner(e,c)}registerScrollPartner(e,o){e.onScrollCallback(o)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const o of[...Object.values(HorizontalSources),"Viewport"]){if(this.lastScrollSource[1]===o)continue;const a=this.getViewportForSource(o);_setScrollLeft(a,e,this.enableRtl)}}getViewportForSource(e){return e==="Viewport"?this.centerRowsCtrl.getViewportElement():this.ctrlsService.get(e).getViewportElement()}isControllingScroll(e,o){return this.lastScrollSource[o]==null?(o===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[o]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const o=this.centerRowsCtrl.getViewportElement(),{scrollLeft:a}=o;if(this.shouldBlockScrollUpdate(1,a,!0))return;const c=_getScrollLeft(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(c),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let o;e==="Viewport"?o=this.eBodyViewport.scrollTop:o=this.ctrlsService.get("fakeVScrollComp").getScrollPosition(),!this.shouldBlockScrollUpdate(0,o,!0)&&(this.animationFrameService.setScrollTop(o),this.nextScrollTop=o,e==="Viewport"?this.ctrlsService.get("fakeVScrollComp").setScrollPosition(o):this.eBodyViewport.scrollTop=o,this.gos.get("suppressAnimationFrame")?this.scrollGridIfNeeded():this.animationFrameService.schedule(),this.resetLastVScrollDebounced())}doHorizontalScroll(e){const o=this.ctrlsService.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===o||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const o={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventService.dispatchEvent(o),window.clearTimeout(this.scrollTimer),this.scrollTimer=void 0,this.scrollTimer=window.setTimeout(()=>{this.eventService.dispatchEvent({...o,type:"bodyScrollEnd"})},100)}shouldBlockScrollUpdate(e,o,a=!1){return a&&!_isIOSUserAgent()?!1:e===0?this.shouldBlockVerticalScroll(o):this.shouldBlockHorizontalScroll(o)}shouldBlockVerticalScroll(e){const o=_getInnerHeight(this.eBodyViewport),{scrollHeight:a}=this.eBodyViewport;return e<0||e+o>a}shouldBlockHorizontalScroll(e){const o=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:a}=this.centerRowsCtrl.getViewportElement();if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+o>a}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll("Viewport")}scrollGridIfNeeded(){const e=this.scrollTop!=this.nextScrollTop;return e&&(this.scrollTop=this.nextScrollTop,this.redrawRowsAfterScroll()),e}setHorizontalScrollPosition(e,o=!1){const c=this.centerRowsCtrl.getViewportElement().scrollWidth-this.centerRowsCtrl.getCenterWidth();!o&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:c:e=Math.min(Math.max(e,0),c)),_setScrollLeft(this.centerRowsCtrl.getViewportElement(),Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.eBodyViewport.scrollTop=e}getVScrollPosition(){return this.lastScrollTop=this.eBodyViewport.scrollTop,this.lastOffsetHeight=this.eBodyViewport.offsetHeight,{top:this.lastScrollTop,bottom:this.lastScrollTop+this.lastOffsetHeight}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.centerRowsCtrl.isHorizontalScrollShowing()}scrollHorizontally(e){const o=this.centerRowsCtrl.getViewportElement().scrollLeft;return this.setHorizontalScrollPosition(o+e),this.centerRowsCtrl.getViewportElement().scrollLeft-o}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,o=null){const a=this.rowModel.getRowCount();let c=-1;for(let d=0;d<a;d++){const g=this.rowModel.getRow(d);if(typeof e=="function"){if(g&&e(g)){c=d;break}}else if(e===g||e===g.data){c=d;break}}c>=0&&this.ensureIndexVisible(c,o)}ensureIndexVisible(e,o){if(_isDomLayout(this.gos,"print"))return;const a=this.rowModel.getRowCount();if(typeof e!="number"||e<0||e>=a){_warnOnce("Invalid row index for ensureIndexVisible: "+e);return}const d=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.getFrameworkOverrides().wrapIncoming(()=>{var rt;d||(rt=this.paginationService)==null||rt.goToPageWithIndex(e);const g=this.ctrlsService.getGridBodyCtrl(),b=g.getStickyTopHeight(),_=g.getStickyBottomHeight(),$=this.rowModel.getRow(e);let j;do{const nt=$.rowTop,st=$.rowHeight,jt=this.pageBoundsService.getPixelOffset(),wl=$.rowTop-jt,Ft=wl+$.rowHeight,it=this.getVScrollPosition(),ot=this.heightScaler.getDivStretchOffset(),Ln=it.top+ot,Cl=it.bottom+ot,Tl=Cl-Ln,zl=this.heightScaler.getScrollPositionForPixel(wl),In=this.heightScaler.getScrollPositionForPixel(Ft-Tl),Ml=Math.min((zl+In)/2,wl),Dl=Ln+b>wl,Ul=Cl-_<Ft;let Vl=null;o==="top"?Vl=zl:o==="bottom"?Vl=In:o==="middle"?Vl=Ml:Dl?Vl=zl-b:Ul&&(Vl=In+_),Vl!==null&&(this.setVerticalScrollPosition(Vl),this.rowRenderer.redraw({afterScroll:!0})),j=nt!==$.rowTop||st!==$.rowHeight}while(j);this.animationFrameService.flushAllFrames()})}ensureColumnVisible(e,o="auto"){const a=this.columnModel.getCol(e);if(!a||a.isPinned()||!this.visibleColsService.isColDisplayed(a))return;const c=this.getPositionedHorizontalScroll(a,o);this.getFrameworkOverrides().wrapIncoming(()=>{c!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(c),this.centerRowsCtrl.onHorizontalViewportChanged(),this.animationFrameService.flushAllFrames()})}setScrollPosition(e,o){this.getFrameworkOverrides().wrapIncoming(()=>{this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.setVerticalScrollPosition(e),this.rowRenderer.redraw({afterScroll:!0}),this.animationFrameService.flushAllFrames()})}getPositionedHorizontalScroll(e,o){const{columnBeforeStart:a,columnAfterEnd:c}=this.isColumnOutsideViewport(e),d=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),g=this.centerRowsCtrl.getCenterWidth(),b=this.enableRtl;let _=(b?a:c)||d,$=b?c:a;o!=="auto"&&(_=o==="start",$=o==="end");const j=o==="middle";if(_||$||j){const{colLeft:rt,colMiddle:nt,colRight:st}=this.getColumnBounds(e);return j?nt-g/2:_?b?st:rt:b?rt-g:st-g}return null}isColumnOutsideViewport(e){const{start:o,end:a}=this.getViewportBounds(),{colLeft:c,colRight:d}=this.getColumnBounds(e),g=this.enableRtl,b=g?o>d:a<d,_=g?a<c:o>c;return{columnBeforeStart:b,columnAfterEnd:_}}getColumnBounds(e){const o=this.enableRtl,a=this.visibleColsService.getBodyContainerWidth(),c=e.getActualWidth(),d=e.getLeft(),g=o?-1:1,b=o?a-d:d,_=b+c*g,$=b+c/2*g;return{colLeft:b,colMiddle:$,colRight:_}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),o=this.centerRowsCtrl.getCenterViewportScrollLeft(),a=o,c=e+o;return{start:a,end:c,width:e}}},ViewportSizeFeature=class extends BeanStub{wireBeans(e){this.animationFrameService=e.animationFrameService,this.ctrlsService=e.ctrlsService,this.pinnedWidthService=e.pinnedWidthService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.columnViewportService=e.columnViewportService}constructor(e){super(),this.centerContainerCtrl=e}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const e=()=>{this.animationFrameService.requestAnimationFrame(()=>{this.onCenterViewportResized()})};this.centerContainerCtrl.registerViewportResizeListener(e),this.gridBodyCtrl.registerBodyViewportResizeListener(e)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleService.onCentreViewportResized(),this.centerContainerCtrl.isViewportInTheDOMTree()){this.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const e=this.centerContainerCtrl.getCenterWidth();e!==this.centerWidth&&(this.centerWidth=e,this.columnSizeService.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.getBodyViewportElement(),o=_getInnerWidth(e);if(o<=50)return;let a=this.getPinnedColumnsOverflowingViewport(o-50);const c=this.gos.getCallback("processUnpinnedColumns");a.length&&(c&&(a=c({columns:a,viewportWidth:o})),this.columnModel.setColsPinned(a,null,"viewportSizeFeature"))}getPinnedColumnsOverflowingViewport(e){const o=this.pinnedWidthService.getPinnedRightWidth(),a=this.pinnedWidthService.getPinnedLeftWidth(),c=o+a;if(c<e)return[];const d=[...this.visibleColsService.getLeftCols()],g=[...this.visibleColsService.getRightCols()];let b=0,_=0;const $=0,j=[];let rt=c-$-e;for(;(_<d.length||b<g.length)&&rt>0;){if(b<g.length){const nt=g[b++];rt-=nt.getActualWidth(),j.push(nt)}if(_<d.length&&rt>0){const nt=d[_++];rt-=nt.getActualWidth(),j.push(nt)}}return j}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.getScrollFeature().checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.getBodyViewportElement(),o=_getInnerHeight(e);this.bodyHeight!==o&&(this.bodyHeight=o,this.eventService.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleService.setScrollsVisible(e)}isHorizontalScrollShowing(){return this.centerContainerCtrl.isHorizontalScrollShowing()}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),o=this.centerContainerCtrl.getViewportScrollLeft();this.columnViewportService.setScrollPosition(e,o)}},DragListenerFeature=class extends BeanStub{wireBeans(e){this.dragService=e.dragService,this.rangeService=e.rangeService}constructor(e){super(),this.eContainer=e}postConstruct(){if(!this.rangeService)return;this.params={eElement:this.eContainer,onDragStart:this.rangeService.onDragStart.bind(this.rangeService),onDragStop:this.rangeService.onDragStop.bind(this.rangeService),onDragging:this.rangeService.onDragging.bind(this.rangeService)},this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{_isCellSelectionEnabled(this.gos)?this.enableFeature():this.disableFeature()}),this.addDestroyFunc(()=>this.disableFeature()),_isCellSelectionEnabled(this.gos)&&this.enableFeature()}enableFeature(){this.dragService.addDragSource(this.params)}disableFeature(){this.dragService.removeDragSource(this.params)}},CheckboxSelectionComponent=class extends Component{constructor(){super(`
            <div class="ag-selection-checkbox" role="presentation">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[AgCheckboxSelector]),this.eCheckbox=RefPlaceholder}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.localeService.getLocaleTextFunc(),o=this.rowNode.isSelected(),a=_getAriaCheckboxStateName(e,o),[c,d]=this.rowNode.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],g=e(c,d);this.eCheckbox.setValue(o,!0),this.eCheckbox.setInputAriaLabel(`${g} (${a})`)}onClicked(e,o,a){return this.rowNode.setSelectedParams({newValue:e,rangeSelect:a.shiftKey,groupSelectsFiltered:o,event:a,source:"checkboxSelected"})}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:c=>_stopPropagationForAgGrid(c),click:c=>{_stopPropagationForAgGrid(c);const d=_getGroupSelection(this.gos)==="filteredDescendants",g=this.eCheckbox.getValue();this.shouldHandleIndeterminateState(g,d)?this.onClicked(!0,d,c||{})===0&&this.onClicked(!1,d,c):g?this.onClicked(!1,d,c):this.onClicked(!0,d,c||{})}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),_getIsRowSelectable(this.gos)||typeof this.getIsVisible()=="function"){const c=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:c}),this.addManagedListeners(this.rowNode,{dataChanged:c,cellChanged:c}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}shouldHandleIndeterminateState(e,o){return o&&(this.eCheckbox.getPreviousValue()===void 0||e===void 0)&&_isClientSideRowModel(this.gos)}showOrHideSelect(){var d,g,b;let e=this.rowNode.selectable;const o=this.getIsVisible();if(e)if(typeof o=="function"){const _=(d=this.overrides)==null?void 0:d.callbackParams;if(!this.column)e=o({..._,node:this.rowNode,data:this.rowNode.data});else{const $=this.column.createColumnFunctionCallbackParams(this.rowNode);e=o({..._,...$})}}else e=o??!1;const a=this.gos.get("rowSelection");if(a&&typeof a!="string"?!_getHideDisabledCheckboxes(a):(g=this.column)==null?void 0:g.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!e),this.setVisible(!0),this.setDisplayed(!0);return}if((b=this.overrides)!=null&&b.removeHidden){this.setDisplayed(e);return}this.setVisible(e)}getIsVisible(){var o,a;if(this.overrides)return this.overrides.isVisible;const e=this.gos.get("rowSelection");return e&&typeof e!="string"?_getCheckboxes(e):(a=(o=this.column)==null?void 0:o.getColDef())==null?void 0:a.checkboxSelection}},DndSourceComp=class extends Component{constructor(e,o,a){super('<div class="ag-drag-handle ag-row-drag" draggable="true"></div>'),this.rowNode=e,this.column=o,this.eCell=a}postConstruct(){this.getGui().appendChild(_createIconNoSpan("rowDrag",this.gos,null)),this.addGuiEventListener("mousedown",o=>{o.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const o=this.column.getColDef().dndSourceOnRowDrag;e.dataTransfer.setDragImage(this.eCell,0,0);const a=()=>{try{const c=JSON.stringify(this.rowNode.data);e.dataTransfer.setData("application/json",c),e.dataTransfer.setData("text/plain",c)}catch{}};if(o){const c=this.gos.addGridCommonParams({rowNode:this.rowNode,dragEvent:e});o(c)}else a()}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}},CellCustomStyleFeature=class extends BeanStub{constructor(e,o){super(),this.staticClasses=[],this.cellCtrl=e,this.beans=o,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const e=this.column.getColDef(),{cellClassRules:o}=e,a=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,colDef:e,column:this.column,rowIndex:this.rowNode.rowIndex});this.beans.stylingService.processClassRules(o===this.cellClassRules?void 0:this.cellClassRules,o,a,c=>this.cellComp.addOrRemoveCssClass(c,!0),c=>this.cellComp.addOrRemoveCssClass(c,!1)),this.cellClassRules=o}applyUserStyles(){const e=this.column.getColDef();if(!e.cellStyle)return;let o;if(typeof e.cellStyle=="function"){const a=this.beans.gos.addGridCommonParams({column:this.column,value:this.cellCtrl.getValue(),colDef:e,data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex}),c=e.cellStyle;o=c(a)}else o=e.cellStyle;o&&this.cellComp.setUserStyles(o)}applyClassesFromColDef(){const e=this.column.getColDef(),o=this.beans.gos.addGridCommonParams({value:this.cellCtrl.getValue(),data:this.rowNode.data,node:this.rowNode,column:this.column,colDef:e,rowIndex:this.rowNode.rowIndex});this.staticClasses.length&&this.staticClasses.forEach(a=>this.cellComp.addOrRemoveCssClass(a,!1)),this.staticClasses=this.beans.stylingService.getStaticCellClasses(e,o),this.staticClasses.length&&this.staticClasses.forEach(a=>this.cellComp.addOrRemoveCssClass(a,!0))}destroy(){super.destroy()}},CellKeyboardListenerFeature=class extends BeanStub{constructor(e,o,a,c,d){super(),this.cellCtrl=e,this.beans=o,this.rowNode=c,this.rowCtrl=d}setComp(e){this.eGui=e}onKeyDown(e){const o=e.key;switch(o){case KeyCode.ENTER:this.onEnterKeyDown(e);break;case KeyCode.F2:this.onF2KeyDown(e);break;case KeyCode.ESCAPE:this.onEscapeKeyDown(e);break;case KeyCode.TAB:this.onTabKeyDown(e);break;case KeyCode.BACKSPACE:case KeyCode.DELETE:this.onBackspaceOrDeleteKeyDown(o,e);break;case KeyCode.DOWN:case KeyCode.UP:case KeyCode.RIGHT:case KeyCode.LEFT:this.onNavigationKeyDown(e,o);break}}onNavigationKeyDown(e,o){this.cellCtrl.isEditing()||(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled()?this.onShiftRangeSelect(e):this.beans.navigationService.navigateToNextCell(e,o,this.cellCtrl.getCellPosition(),!0),e.preventDefault())}onShiftRangeSelect(e){if(!this.beans.rangeService)return;const o=this.beans.rangeService.extendLatestRangeInDirection(e);o&&this.beans.navigationService.ensureCellVisible(o)}onTabKeyDown(e){this.beans.navigationService.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,o){const{cellCtrl:a,beans:c,rowNode:d}=this,{gos:g,rangeService:b,eventService:_}=c;if(!a.isEditing()){if(_.dispatchEvent({type:"keyShortcutChangedCellStart"}),_isDeleteKey(e,g.get("enableCellEditingOnBackspace"))){if(b&&_isCellSelectionEnabled(g))b.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(a.isCellEditable()){const $=a.getColumn(),j=this.beans.valueService.getDeleteValue($,d);d.setDataValue($,j,"cellClear")}}else a.startRowOrCellEdit(e,o);_.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){if(this.cellCtrl.isEditing()||this.rowCtrl.isEditing())this.cellCtrl.stopEditingAndFocus(!1,e.shiftKey);else if(this.beans.gos.get("enterNavigatesVertically")){const o=e.shiftKey?KeyCode.UP:KeyCode.DOWN;this.beans.navigationService.navigateToNextCell(null,o,this.cellCtrl.getCellPosition(),!1)}else this.cellCtrl.startRowOrCellEdit(KeyCode.ENTER,e),this.cellCtrl.isEditing()&&e.preventDefault()}onF2KeyDown(e){this.cellCtrl.isEditing()||this.cellCtrl.startRowOrCellEdit(KeyCode.F2,e)}onEscapeKeyDown(e){this.cellCtrl.isEditing()&&(this.cellCtrl.stopRowOrCellEdit(!0),this.cellCtrl.focusCell(!0))}processCharacter(e){if(e.target!==this.eGui||this.cellCtrl.isEditing())return;const c=e.key;c===" "?this.onSpaceKeyDown(e):this.cellCtrl.startRowOrCellEdit(c,e)&&e.preventDefault()}onSpaceKeyDown(e){const{gos:o}=this.beans;if(!this.cellCtrl.isEditing()&&_isRowSelection(o)){const a=this.rowNode.isSelected(),c=!a,d=_getGroupSelection(o)==="filteredDescendants",g=this.rowNode.setSelectedParams({newValue:c,rangeSelect:e.shiftKey,groupSelectsFiltered:d,event:e,source:"spaceKey"});a===void 0&&g===0&&this.rowNode.setSelectedParams({newValue:!1,rangeSelect:e.shiftKey,groupSelectsFiltered:d,event:e,source:"spaceKey"})}e.preventDefault()}destroy(){super.destroy()}},CellMouseListenerFeature=class extends BeanStub{constructor(e,o,a){super(),this.cellCtrl=e,this.beans=o,this.column=a}onMouseEvent(e,o){if(!_isStopPropagationForAgGrid(o))switch(e){case"click":this.onCellClicked(o);break;case"mousedown":case"touchstart":this.onMouseDown(o);break;case"dblclick":this.onCellDoubleClicked(o);break;case"mouseout":this.onMouseOut(o);break;case"mouseover":this.onMouseOver(o);break}}onCellClicked(e){if(this.isDoubleClickOnIPad()){this.onCellDoubleClicked(e),e.preventDefault();return}const{eventService:o,rangeService:a,gos:c}=this.beans,d=e.ctrlKey||e.metaKey;a&&d&&a.getCellRangeCount(this.cellCtrl.getCellPosition())>1&&a.intersectLastRange(!0);const g=this.cellCtrl.createEvent(e,"cellClicked");o.dispatchEvent(g);const b=this.column.getColDef();b.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{b.onCellClicked(g)})},0),(c.get("singleClickEdit")||b.singleClickEdit)&&!c.get("suppressClickEdit")&&!(e.shiftKey&&(a==null?void 0:a.getCellRanges().length)!=0)&&this.cellCtrl.startRowOrCellEdit()}isDoubleClickOnIPad(){if(!_isIOSUserAgent()||_isEventSupported("dblclick"))return!1;const e=new Date().getTime(),o=e-this.lastIPadMouseClickEvent<200;return this.lastIPadMouseClickEvent=e,o}onCellDoubleClicked(e){const{column:o,beans:a,cellCtrl:c}=this,{eventService:d,frameworkOverrides:g,gos:b}=a,_=o.getColDef(),$=c.createEvent(e,"cellDoubleClicked");d.dispatchEvent($),typeof _.onCellDoubleClicked=="function"&&window.setTimeout(()=>{g.wrapOutgoing(()=>{_.onCellDoubleClicked($)})},0),!b.get("singleClickEdit")&&!b.get("suppressClickEdit")&&c.startRowOrCellEdit(null,e)}onMouseDown(e){const{ctrlKey:o,metaKey:a,shiftKey:c}=e,d=e.target,{cellCtrl:g,beans:b}=this,{eventService:_,rangeService:$,focusService:j,gos:rt}=b;if(this.isRightClickInExistingRange(e))return;const nt=$&&$.getCellRanges().length!=0;if(!c||!nt){const jt=rt.get("enableCellTextSelection")&&e.defaultPrevented,wl=(_isBrowserSafari()||jt)&&!g.isEditing()&&!_isFocusableFormField(d);g.focusCell(wl)}if(c&&nt&&!j.isCellFocused(g.getCellPosition())){e.preventDefault();const st=j.getFocusedCell();if(st){const{column:jt,rowIndex:wl,rowPinned:Ft}=st,it=b.rowRenderer.getRowByPosition({rowIndex:wl,rowPinned:Ft}),ot=it==null?void 0:it.getCellCtrl(jt);ot!=null&&ot.isEditing()&&ot.stopEditing(),j.setFocusedCell({column:jt,rowIndex:wl,rowPinned:Ft,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!this.containsWidget(d)){if($){const st=this.cellCtrl.getCellPosition();if(c)$.extendLatestRangeToCell(st);else{const jt=o||a;$.setRangeToCell(st,jt)}}_.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeService:o}=this.beans;if(o){const a=o.isCellInAnyRange(this.cellCtrl.getCellPosition()),c=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(a&&c)return!0}return!1}containsWidget(e){return _isElementChildOfClass(e,"ag-selection-checkbox",3)}onMouseOut(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),this.beans.columnHoverService.clearMouseOver())}onMouseOver(e){this.mouseStayingInsideCell(e)||(this.beans.eventService.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),this.beans.columnHoverService.setMouseOver([this.column]))}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const o=this.cellCtrl.getGui(),a=o.contains(e.target),c=o.contains(e.relatedTarget);return a&&c}destroy(){super.destroy()}},CellPositionFeature=class extends BeanStub{constructor(e,o){super(),this.cellCtrl=e,this.beans=o,this.column=e.getColumn(),this.rowNode=e.getRowNode()}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventService,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}setComp(e){this.eGui=e,this.setupColSpan(),this.setupRowSpan(),this.onLeftChanged(),this.onWidthChanged(),this.applyRowSpan()}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this.applyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();_areEqual(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventService,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eGui)return;const e=this.getCellWidth();this.eGui.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,o)=>e+o.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const e=this.column.getColSpan(this.rowNode),o=[];if(e===1)o.push(this.column);else{let a=this.column;const c=this.column.getPinned();for(let d=0;a&&d<e&&(o.push(a),a=this.beans.visibleColsService.getColAfter(a),!(!a||_missing(a)||c!==a.getPinned()));d++);}return o}onLeftChanged(){if(!this.eGui)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eGui.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=_last(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.isPrintLayout()||this.column.getPinned()==="left")return e;const o=this.beans.visibleColsService.getColsLeftWidth();if(this.column.getPinned()==="right"){const a=this.beans.visibleColsService.getBodyContainerWidth();return o+a+(e||0)}return o+(e||0)}applyRowSpan(e){if(this.rowSpan===1&&!e)return;const a=_getRowHeightAsNumber(this.beans.gos)*this.rowSpan;this.eGui.style.height=`${a}px`,this.eGui.style.zIndex="1"}destroy(){super.destroy()}},SelectionHandleType=(e=>(e[e.FILL=0]="FILL",e[e.RANGE=1]="RANGE",e))(SelectionHandleType||{}),CellRangeType=(e=>(e[e.VALUE=0]="VALUE",e[e.DIMENSION=1]="DIMENSION",e))(CellRangeType||{}),CSS_CELL_RANGE_SELECTED="ag-cell-range-selected",CSS_CELL_RANGE_CHART="ag-cell-range-chart",CSS_CELL_RANGE_SINGLE_CELL="ag-cell-range-single-cell",CSS_CELL_RANGE_CHART_CATEGORY="ag-cell-range-chart-category",CSS_CELL_RANGE_HANDLE="ag-cell-range-handle",CSS_CELL_RANGE_TOP="ag-cell-range-top",CSS_CELL_RANGE_RIGHT="ag-cell-range-right",CSS_CELL_RANGE_BOTTOM="ag-cell-range-bottom",CSS_CELL_RANGE_LEFT="ag-cell-range-left",CellRangeFeature=class{constructor(e,o){this.beans=e,this.rangeService=e.rangeService,this.selectionHandleFactory=e.selectionHandleFactory,this.cellCtrl=o}setComp(e,o){this.cellComp=e,this.eGui=o,this.onCellSelectionChanged()}onCellSelectionChanged(){this.cellComp&&(this.rangeCount=this.rangeService.getCellRangeCount(this.cellCtrl.getCellPosition()),this.hasChartRange=this.getHasChartRange(),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SELECTED,this.rangeCount!==0),this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-1`,this.rangeCount===1),this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-2`,this.rangeCount===2),this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-3`,this.rangeCount===3),this.cellComp.addOrRemoveCssClass(`${CSS_CELL_RANGE_SELECTED}-4`,this.rangeCount>=4),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART,this.hasChartRange),_setAriaSelected(this.eGui,this.rangeCount>0?!0:void 0),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_SINGLE_CELL,this.isSingleCell()),this.updateRangeBorders(),this.refreshHandle())}updateRangeBorders(){const e=this.getRangeBorders(),o=this.isSingleCell(),a=!o&&e.top,c=!o&&e.right,d=!o&&e.bottom,g=!o&&e.left;this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_TOP,a),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_RIGHT,c),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_BOTTOM,d),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_LEFT,g)}isSingleCell(){const{rangeService:e}=this.beans;return this.rangeCount===1&&!!e&&!e.isMoreThanOneCell()}getHasChartRange(){const{rangeService:e}=this.beans;if(!this.rangeCount||!e)return!1;const o=e.getCellRanges();return o.length>0&&o.every(a=>_includes([1,0],a.type))}updateRangeBordersIfRangeCount(){this.rangeCount>0&&(this.updateRangeBorders(),this.refreshHandle())}getRangeBorders(){const e=this.beans.gos.get("enableRtl");let o=!1,a=!1,c=!1,d=!1;const g=this.cellCtrl.getCellPosition().column,b=this.beans.visibleColsService;let _,$;e?(_=b.getColAfter(g),$=b.getColBefore(g)):(_=b.getColBefore(g),$=b.getColAfter(g));const j=this.rangeService.getCellRanges().filter(rt=>this.rangeService.isCellInSpecificRange(this.cellCtrl.getCellPosition(),rt));_||(d=!0),$||(a=!0);for(let rt=0;rt<j.length&&!(o&&a&&c&&d);rt++){const nt=j[rt],st=this.rangeService.getRangeStartRow(nt),jt=this.rangeService.getRangeEndRow(nt);!o&&this.beans.rowPositionUtils.sameRow(st,this.cellCtrl.getCellPosition())&&(o=!0),!c&&this.beans.rowPositionUtils.sameRow(jt,this.cellCtrl.getCellPosition())&&(c=!0),!d&&_&&nt.columns.indexOf(_)<0&&(d=!0),!a&&$&&nt.columns.indexOf($)<0&&(a=!0)}return{top:o,right:a,bottom:c,left:d}}refreshHandle(){if(this.beans.context.isDestroyed())return;const e=this.shouldHaveSelectionHandle();this.selectionHandle&&!e&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),e&&this.addSelectionHandle(),this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_HANDLE,!!this.selectionHandle)}shouldHaveSelectionHandle(){const e=this.beans.gos,o=this.rangeService.getCellRanges(),a=o.length;if(this.rangeCount<1||a<1)return!1;const c=_last(o),d=this.cellCtrl.getCellPosition(),g=_isFillHandleEnabled(e)&&!this.cellCtrl.isSuppressFillHandle(),b=_isRangeHandleEnabled(e);let _=a===1&&!this.cellCtrl.isEditing()&&(g||b);if(this.hasChartRange){const j=o[0].type===1&&this.rangeService.isCellInSpecificRange(d,o[0]);this.cellComp.addOrRemoveCssClass(CSS_CELL_RANGE_CHART_CATEGORY,j),_=c.type===0}return _&&c.endRow!=null&&this.rangeService.isContiguousRange(c)&&this.rangeService.isBottomRightCell(c,d)}addSelectionHandle(){const e=_last(this.rangeService.getCellRanges()).type,a=_isFillHandleEnabled(this.beans.gos)&&_missing(e)?0:1;this.selectionHandle&&this.selectionHandle.getType()!==a&&(this.selectionHandle=this.beans.context.destroyBean(this.selectionHandle)),this.selectionHandle||(this.selectionHandle=this.selectionHandleFactory.createSelectionHandle(a)),this.selectionHandle.refresh(this.cellCtrl)}destroy(){this.beans.context.destroyBean(this.selectionHandle)}},CSS_CELL="ag-cell",CSS_AUTO_HEIGHT="ag-cell-auto-height",CSS_NORMAL_HEIGHT="ag-cell-normal-height",CSS_CELL_FOCUS="ag-cell-focus",CSS_CELL_FIRST_RIGHT_PINNED="ag-cell-first-right-pinned",CSS_CELL_LAST_LEFT_PINNED="ag-cell-last-left-pinned",CSS_CELL_NOT_INLINE_EDITING="ag-cell-not-inline-editing",CSS_COLUMN_HOVER="ag-column-hover",CSS_CELL_WRAP_TEXT="ag-cell-wrap-text",instanceIdSequence4=0,_CellCtrl=class LC extends BeanStub{constructor(o,a,c,d){super(),this.column=o,this.rowNode=a,this.beans=c,this.rowCtrl=d,this.cellRangeFeature=void 0,this.cellPositionFeature=void 0,this.cellCustomStyleFeature=void 0,this.tooltipFeature=void 0,this.cellMouseListenerFeature=void 0,this.cellKeyboardListenerFeature=void 0,this.suppressRefreshCell=!1,this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],this.instanceId=o.getId()+"-"+instanceIdSequence4++,this.colIdSanitised=_escapeString(this.column.getId()),this.createCellPosition(),this.updateAndFormatValue(!1)}shouldRestoreFocus(){return this.beans.focusService.shouldRestoreFocus(this.cellPosition)}onFocusOut(){this.beans.focusService.clearRestoreFocus()}addFeatures(){this.cellPositionFeature=new CellPositionFeature(this,this.beans),this.cellCustomStyleFeature=new CellCustomStyleFeature(this,this.beans),this.cellMouseListenerFeature=new CellMouseListenerFeature(this,this.beans,this.column),this.cellKeyboardListenerFeature=new CellKeyboardListenerFeature(this,this.beans,this.column,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature(),this.beans.rangeService&&_isCellSelectionEnabled(this.beans.gos)&&(this.cellRangeFeature=new CellRangeFeature(this.beans,this))}removeFeatures(){const o=this.beans.context;this.cellPositionFeature=o.destroyBean(this.cellPositionFeature),this.cellCustomStyleFeature=o.destroyBean(this.cellCustomStyleFeature),this.cellMouseListenerFeature=o.destroyBean(this.cellMouseListenerFeature),this.cellKeyboardListenerFeature=o.destroyBean(this.cellKeyboardListenerFeature),this.cellRangeFeature=o.destroyBean(this.cellRangeFeature),this.disableTooltipFeature()}enableTooltipFeature(o,a){const c=()=>{const b=this.column.getColDef(),_=this.rowNode.data;if(b.tooltipField&&_exists(_))return _getValueUsingField(_,b.tooltipField,this.column.isTooltipFieldContainsDots());const $=b.tooltipValueGetter;return $?$(this.beans.gos.addGridCommonParams({location:"cell",colDef:this.column.getColDef(),column:this.column,rowIndex:this.cellPosition.rowIndex,node:this.rowNode,data:this.rowNode.data,value:this.value,valueFormatted:this.valueFormatted})):null},d=this.beans.gos.get("tooltipShowMode")==="whenTruncated";!a&&d&&!this.isCellRenderer()&&(a=()=>{const b=this.getGui(),_=b.children.length===0?b:b.querySelector(".ag-cell-value");return _?_.scrollWidth>_.clientWidth:!0});const g={getColumn:()=>this.column,getColDef:()=>this.column.getColDef(),getRowIndex:()=>this.cellPosition.rowIndex,getRowNode:()=>this.rowNode,getGui:()=>this.getGui(),getLocation:()=>"cell",getTooltipValue:o!=null?()=>o:c,getValueFormatted:()=>this.valueFormatted,shouldDisplayTooltip:a};this.tooltipFeature=new TooltipFeature(g,this.beans)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(o,a,c,d,g,b){var _,$,j,rt;this.cellComp=o,this.eGui=a,this.printLayout=d,b??(b=this),this.addDomData(b),this.addFeatures(),b.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.onCellFocused(this.focusEventToRestore),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(c,b),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(_=this.cellPositionFeature)==null||_.setComp(a),($=this.cellCustomStyleFeature)==null||$.setComp(o),(j=this.tooltipFeature)==null||j.refreshToolTip(),(rt=this.cellKeyboardListenerFeature)==null||rt.setComp(this.eGui),this.cellRangeFeature&&this.cellRangeFeature.setComp(o,a),g&&this.isCellEditable()?this.startEditing():this.showValue(),this.onCellCompAttachedFuncs.length&&(this.onCellCompAttachedFuncs.forEach(nt=>nt()),this.onCellCompAttachedFuncs=[])}setupAutoHeight(o,a){if(this.isAutoHeight=this.column.isAutoHeight(),!this.isAutoHeight||!o)return;const c=o.parentElement,d=_getRowHeightForNode(this.beans.gos,this.rowNode).height,g=$=>{if(this.editing||!this.isAlive()||!a.isAlive())return;const{paddingTop:j,paddingBottom:rt,borderBottomWidth:nt,borderTopWidth:st}=_getElementSize(c),jt=j+rt+nt+st,Ft=o.offsetHeight+jt;if($<5){const ot=_getDocument(this.beans.gos),Ln=!ot||!ot.contains(o),Cl=Ft==0;if(Ln||Cl){window.setTimeout(()=>g($+1),0);return}}const it=Math.max(Ft,d);this.rowNode.setRowAutoHeight(it,this.column)},b=()=>g(0);b();const _=this.beans.resizeObserverService.observeResize(o,b);a.addDestroyFunc(()=>{_(),this.rowNode.setRowAutoHeight(void 0,this.column)})}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const o=this.column.getColDef();return o.cellRenderer!=null||o.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(o=!1){var st;const{beans:a,column:c,rowNode:d,cellRangeFeature:g,cellComp:b}=this,{userComponentFactory:_,animationFrameService:$}=a,j=this.getValueToDisplay();let rt;if(d.stub&&((st=d.groupData)==null?void 0:st[this.column.getId()])==null){const jt=this.createCellRendererParams();rt=_.getLoadingCellRendererDetails(c.getColDef(),jt)}else if(this.isCellRenderer()){const jt=this.createCellRendererParams();rt=_.getCellRendererDetails(c.getColDef(),jt)}b.setRenderDetails(rt,j,o),$.requestAnimationFrame(()=>g==null?void 0:g.refreshHandle())}setupControlComps(){const o=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(o)),this.includeRowDrag=this.isIncludeControl(o.rowDrag),this.includeDndSource=this.isIncludeControl(o.dndSource),this.cellComp.setIncludeSelection(this.includeSelection),this.cellComp.setIncludeDndSource(this.includeDndSource),this.cellComp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(o){return this.rowNode.rowPinned!=null?!1:typeof o=="function"||o===!0}isCheckboxSelection(o){const{rowSelection:a}=this.beans.gridOptions;return o.checkboxSelection||isColumnControlsCol(this.column)&&a&&typeof a!="string"&&_getCheckboxes(a)}refreshShouldDestroy(){const o=this.column.getColDef(),a=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(o)),c=this.includeRowDrag!=this.isIncludeControl(o.rowDrag),d=this.includeDndSource!=this.isIncludeControl(o.dndSource),g=this.isAutoHeight!=this.column.isAutoHeight();return a||c||d||g}startEditing(o=null,a=!1,c=null){const{editService:d}=this.beans;return!this.isCellEditable()||this.editing||!d?!0:this.cellComp?d.startEditing(this,o,a,c):(this.onCellCompAttachedFuncs.push(()=>{this.startEditing(o,a,c)}),!0)}setEditing(o,a){this.editCompDetails=a,this.editing!==o&&(this.editing=o)}stopRowOrCellEdit(o=!1){this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.stopEditing(o):this.stopEditing(o)}onPopupEditorClosed(){this.editing&&this.stopEditingAndFocus()}stopEditing(o=!1){this.onCellEditorAttachedFuncs=[];const{editService:a}=this.beans;return!this.editing||!a?!1:a.stopEditing(this,o)}createCellRendererParams(){return this.beans.gos.addGridCommonParams({value:this.value,valueFormatted:this.valueFormatted,getValue:()=>this.beans.valueService.getValueForDisplay(this.column,this.rowNode),setValue:a=>this.beans.valueService.setValue(this.rowNode,this.column,a),formatValue:this.formatValue.bind(this),data:this.rowNode.data,node:this.rowNode,pinned:this.column.getPinned(),colDef:this.column.getColDef(),column:this.column,refreshCell:this.refreshCell.bind(this),eGridCell:this.getGui(),eParentOfValue:this.cellComp.getParentOfValue(),registerRowDragger:(a,c,d,g)=>this.registerRowDragger(a,c,g),setTooltip:(a,c)=>{var d;this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(a,c),(d=this.tooltipFeature)==null||d.refreshToolTip()}})}setFocusOutOnEditor(){var o;this.editing&&((o=this.beans.editService)==null||o.setFocusOutOnEditor(this))}setFocusInOnEditor(){var o;this.editing&&((o=this.beans.editService)==null||o.setFocusInOnEditor(this))}onCellChanged(o){o.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(o){var a;this.refreshShouldDestroy()?(a=this.rowCtrl)==null||a.recreateCell(this):this.refreshCell(o)}refreshCell(o){var rt,nt,st,jt,wl;if(this.suppressRefreshCell||this.editing)return;const a=this.column.getColDef(),c=o!=null&&!!o.newData,d=o!=null&&!!o.suppressFlash||!!a.suppressCellFlash,g=a.field==null&&a.valueGetter==null&&a.showRowGroup==null,b=o&&o.forceRefresh||g||c,_=!!this.cellComp,$=this.updateAndFormatValue(_),j=b||$;if(_){if(j){this.showValue(c);const Ft=(rt=this.beans.filterManager)==null?void 0:rt.isSuppressFlashingCellsBecauseFiltering();!d&&!Ft&&(this.beans.gos.get("enableCellChangeFlash")||a.enableCellChangeFlash)&&this.flashCell(),(nt=this.cellCustomStyleFeature)==null||nt.applyUserStyles(),(st=this.cellCustomStyleFeature)==null||st.applyClassesFromColDef()}(jt=this.tooltipFeature)==null||jt.refreshToolTip(),(wl=this.cellCustomStyleFeature)==null||wl.applyCellClassRules()}}stopEditingAndFocus(o=!1,a=!1){var c;(c=this.beans.editService)==null||c.stopEditingAndFocus(this,o,a)}flashCell(o){const a=(o==null?void 0:o.flashDuration)??(o==null?void 0:o.flashDelay),c=(o==null?void 0:o.fadeDuration)??(o==null?void 0:o.fadeDelay);this.animateCell("data-changed",a,c)}animateCell(o,a,c){if(!this.cellComp)return;const{gos:d}=this.beans;if(a||(a=d.get("cellFlashDuration")),a===0)return;_exists(c)||(c=d.get("cellFadeDuration"));const g=`ag-cell-${o}`,b=`ag-cell-${o}-animation`;this.cellComp.addOrRemoveCssClass(g,!0),this.cellComp.addOrRemoveCssClass(b,!1),this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(g,!1),this.cellComp.addOrRemoveCssClass(b,!0),this.eGui.style.transition=`background-color ${c}ms`,window.setTimeout(()=>{this.isAlive()&&(this.cellComp.addOrRemoveCssClass(b,!1),this.eGui.style.transition="")},c))},a)})}onFlashCells(o){if(!this.cellComp)return;const a=this.beans.cellPositionUtils.createId(this.getCellPosition());o.cells[a]&&this.animateCell("highlight")}isCellEditable(){return this.column.isCellEditable(this.rowNode)}isSuppressFillHandle(){return this.column.isSuppressFillHandle()}formatValue(o){return this.callValueFormatter(o)??o}callValueFormatter(o){return this.beans.valueService.formatValue(this.column,this.rowNode,o)}updateAndFormatValue(o){const a=this.value,c=this.valueFormatted;return this.value=this.beans.valueService.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),o?!this.valuesAreEqual(a,this.value)||this.valueFormatted!=c:!0}valuesAreEqual(o,a){const c=this.column.getColDef();return c.equals?c.equals(o,a):o===a}getComp(){return this.cellComp}getValue(){return this.value}addDomData(o){const a=this.getGui();_setDomData(this.beans.gos,a,LC.DOM_DATA_KEY_CELL_CTRL,this),o.addDestroyFunc(()=>_setDomData(this.beans.gos,a,LC.DOM_DATA_KEY_CELL_CTRL,null))}createEvent(o,a){return this.beans.gos.addGridCommonParams({type:a,node:this.rowNode,data:this.rowNode.data,value:this.value,column:this.column,colDef:this.column.getColDef(),rowPinned:this.rowNode.rowPinned,event:o,rowIndex:this.rowNode.rowIndex})}processCharacter(o){var a;(a=this.cellKeyboardListenerFeature)==null||a.processCharacter(o)}onKeyDown(o){var a;(a=this.cellKeyboardListenerFeature)==null||a.onKeyDown(o)}onMouseEvent(o,a){var c;(c=this.cellMouseListenerFeature)==null||c.onMouseEvent(o,a)}getGui(){return this.eGui}getColSpanningList(){return this.cellPositionFeature.getColSpanningList()}onLeftChanged(){var o;this.cellComp&&((o=this.cellPositionFeature)==null||o.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{cellComp:o,column:a,beans:c}=this;refreshFirstAndLastStyles(o,a,c.visibleColsService)}refreshAriaColIndex(){const o=this.beans.visibleColsService.getAriaColIndex(this.column);_setAriaColIndex(this.getGui(),o)}isSuppressNavigable(){return this.column.isSuppressNavigable(this.rowNode)}onWidthChanged(){var o;return(o=this.cellPositionFeature)==null?void 0:o.onWidthChanged()}getColumn(){return this.column}getRowNode(){return this.rowNode}isPrintLayout(){return this.printLayout}getCellPosition(){return this.cellPosition}isEditing(){return this.editing}startRowOrCellEdit(o,a=null){return this.cellComp?this.beans.gos.get("editType")==="fullRow"?this.rowCtrl.startRowEditing(o,this):this.startEditing(o,!0,a):(this.onCellCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(o,a)}),!0)}getRowCtrl(){return this.rowCtrl}getRowPosition(){return{rowIndex:this.cellPosition.rowIndex,rowPinned:this.cellPosition.rowPinned}}updateRangeBordersIfRangeCount(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.updateRangeBordersIfRangeCount()}onCellSelectionChanged(){this.cellComp&&this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}isRangeSelectionEnabled(){return this.cellRangeFeature!=null}focusCell(o=!1){this.beans.focusService.setFocusedCell({rowIndex:this.getCellPosition().rowIndex,column:this.column,rowPinned:this.rowNode.rowPinned,forceBrowserFocus:o})}onRowIndexChanged(){this.createCellPosition(),this.onCellFocused(),this.cellRangeFeature&&this.cellRangeFeature.onCellSelectionChanged()}onSuppressCellFocusChanged(o){this.eGui&&_addOrRemoveAttribute(this.eGui,"tabindex",o?void 0:-1)}onFirstRightPinnedChanged(){if(!this.cellComp)return;const o=this.column.isFirstRightPinned();this.cellComp.addOrRemoveCssClass(CSS_CELL_FIRST_RIGHT_PINNED,o)}onLastLeftPinnedChanged(){if(!this.cellComp)return;const o=this.column.isLastLeftPinned();this.cellComp.addOrRemoveCssClass(CSS_CELL_LAST_LEFT_PINNED,o)}onCellFocused(o){if(this.beans.focusService.isCellFocusSuppressed())return;const a=this.beans.focusService.isCellFocused(this.cellPosition);if(!this.cellComp){a&&(o!=null&&o.forceBrowserFocus)&&(this.focusEventToRestore=o);return}if(this.focusEventToRestore=void 0,this.cellComp.addOrRemoveCssClass(CSS_CELL_FOCUS,a),a&&o&&o.forceBrowserFocus){let d=this.cellComp.getFocusableElement();if(this.editing){const g=this.beans.focusService.findFocusableElements(d,null,!0);g.length&&(d=g[0])}d.focus({preventScroll:!!o.preventScrollOnBrowserFocus})}const c=this.beans.gos.get("editType")==="fullRow";!a&&!c&&this.editing&&this.stopRowOrCellEdit(),a&&this.rowCtrl.announceDescription()}createCellPosition(){this.cellPosition={rowIndex:this.rowNode.rowIndex,rowPinned:_makeNull(this.rowNode.rowPinned),column:this.column}}applyStaticCssClasses(){this.cellComp.addOrRemoveCssClass(CSS_CELL,!0),this.cellComp.addOrRemoveCssClass(CSS_CELL_NOT_INLINE_EDITING,!0);const o=this.column.isAutoHeight()==!0;this.cellComp.addOrRemoveCssClass(CSS_AUTO_HEIGHT,o),this.cellComp.addOrRemoveCssClass(CSS_NORMAL_HEIGHT,!o)}onColumnHover(){if(!this.cellComp||!this.beans.gos.get("columnHoverHighlight"))return;const o=this.beans.columnHoverService.isHovered(this.column);this.cellComp.addOrRemoveCssClass(CSS_COLUMN_HOVER,o)}onColDefChanged(){var a;if(!this.cellComp)return;this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(a=this.beans.editService)==null||a.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0})}setWrapText(){const o=this.column.getColDef().wrapText==!0;this.cellComp.addOrRemoveCssClass(CSS_CELL_WRAP_TEXT,o)}dispatchCellContextMenuEvent(o){const a=this.column.getColDef(),c=this.createEvent(o,"cellContextMenu");this.beans.eventService.dispatchEvent(c),a.onCellContextMenu&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellContextMenu(c)})},0)}getCellRenderer(){return this.cellComp?this.cellComp.getCellRenderer():null}getCellEditor(){return this.cellComp?this.cellComp.getCellEditor():null}destroy(){this.onCellCompAttachedFuncs=[],this.onCellEditorAttachedFuncs=[],super.destroy()}createSelectionCheckbox(){const o=new CheckboxSelectionComponent;return this.beans.context.createBean(o),o.init({rowNode:this.rowNode,column:this.column}),o}createDndSource(){const o=new DndSourceComp(this.rowNode,this.column,this.eGui);return this.beans.context.createBean(o),o}registerRowDragger(o,a,c){if(this.customRowDragComp){this.customRowDragComp.setDragElement(o,a);return}const d=this.createRowDragComp(o,a,c);d&&(this.customRowDragComp=d,this.addDestroyFunc(()=>{this.beans.context.destroyBean(d),this.customRowDragComp=null}))}createRowDragComp(o,a,c){const d=this.beans.gos.get("pagination"),g=this.beans.gos.get("rowDragManaged"),b=_isClientSideRowModel(this.beans.gos);if(g){if(!b){_warnOnce("managed row dragging is only allowed in the Client Side Row Model");return}if(d){_warnOnce("managed row dragging is not possible when doing pagination");return}}const _=new RowDragComp(()=>this.value,this.rowNode,this.column,o,a,c);return this.beans.context.createBean(_),_}setSuppressRefreshCell(o){this.suppressRefreshCell=o}getEditCompDetails(){return this.editCompDetails}onCellEditorAttached(o){this.onCellEditorAttachedFuncs.push(o)}cellEditorAttached(){this.onCellEditorAttachedFuncs.forEach(o=>o()),this.onCellEditorAttachedFuncs=[]}};_CellCtrl.DOM_DATA_KEY_CELL_CTRL="cellCtrl";var CellCtrl=_CellCtrl,instanceIdSequence5=0,_RowCtrl=class OC extends BeanStub{constructor(o,a,c,d,g){var b;super(),this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKeySanitised=null,this.beans=a,this.gos=a.gos,this.rowNode=o,this.paginationPage=((b=a.paginationService)==null?void 0:b.getCurrentPage())??0,this.useAnimationFrameForCreate=d,this.printLayout=g,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=o.id+"-"+instanceIdSequence5++,this.rowId=_escapeString(o.id),this.initRowBusinessKey(),this.rowFocused=a.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=a.rowCssClassCalculator.calculateRowLevel(this.rowNode),this.setRowType(),this.setAnimateFlags(c),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const o=this.businessKeyForNodeFunc(this.rowNode);this.businessKeySanitised=_escapeString(o)}getRowId(){return this.rowId}getRowStyles(){return this.rowStyles}isSticky(){return this.rowNode.sticky}updateGui(o,a){o==="left"?this.leftGui=a:o==="right"?this.rightGui=a:o==="fullWidth"?this.fullWidthGui=a:this.centerGui=a}setComp(o,a,c,d){d=setupCompBean(this,this.beans.context,d);const g={rowComp:o,element:a,containerType:c,compBean:d};this.allRowGuis.push(g),this.updateGui(c,g),this.initialiseRowComp(g),this.rowType!=="FullWidthLoading"&&!this.rowNode.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent()}unsetComp(o){this.allRowGuis=this.allRowGuis.filter(a=>a.containerType!==o),this.updateGui(o,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(o){const a=o?"none":"";this.allRowGuis.forEach(c=>c.element.style.display=a)}initialiseRowComp(o){const a=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(o),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights(),this.onRowHeightChanged(o),this.updateRowIndexes(o),this.setFocusedClasses(o),this.setStylesFromGridOptions(!1,o),_isRowSelection(a)&&this.rowNode.selectable&&this.onRowSelected(o),this.updateColumnLists(!this.useAnimationFrameForCreate);const c=o.rowComp;this.getInitialRowClasses(o.containerType).forEach(g=>c.addOrRemoveCssClass(g,!0)),this.executeSlideAndFadeAnimations(o),this.rowNode.group&&_setAriaExpanded(o.element,this.rowNode.expanded==!0),this.setRowCompRowId(c),this.setRowCompRowBusinessKey(c),_setDomData(a,o.element,OC.DOM_DATA_KEY_ROW_CTRL,this),o.compBean.addDestroyFunc(()=>_setDomData(a,o.element,OC.DOM_DATA_KEY_ROW_CTRL,null)),this.useAnimationFrameForCreate?this.beans.animationFrameService.createTask(this.addHoverFunctionality.bind(this,o),this.rowNode.rowIndex,"createTasksP2"):this.addHoverFunctionality(o),this.isFullWidth()&&this.setupFullWidth(o),a.get("rowDragEntireRow")&&this.addRowDraggerToRow(o),this.useAnimationFrameForCreate&&this.beans.animationFrameService.addDestroyTask(()=>{this.isAlive()&&o.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(o){this.businessKeySanitised!=null&&o.setRowBusinessKey(this.businessKeySanitised)}getBusinessKey(){return this.businessKeySanitised}setRowCompRowId(o){this.rowId=_escapeString(this.rowNode.id),this.rowId!=null&&o.setRowId(this.rowId)}executeSlideAndFadeAnimations(o){const{containerType:a}=o;this.slideInAnimation[a]&&(_executeNextVMTurn(()=>{this.onTopChanged()}),this.slideInAnimation[a]=!1),this.fadeInAnimation[a]&&(_executeNextVMTurn(()=>{o.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[a]=!1)}addRowDraggerToRow(o){if(_isCellSelectionEnabled(this.gos)){_warnOnce("Setting `rowDragEntireRow: true` in the gridOptions doesn't work with `cellSelection: true`");return}const a=this.beans.localeService.getLocaleTextFunc(),c=new RowDragComp(()=>`1 ${a("rowDragRow","row")}`,this.rowNode,void 0,o.element,void 0,!0),d=this.createBean(c,this.beans.context);this.rowDragComps.push(d),o.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(g=>g!==d),this.destroyBean(d,this.beans.context)})}setupFullWidth(o){const a=this.getPinnedForContainer(o.containerType);if(this.rowType=="FullWidthDetail"&&!this.gos.assertModuleRegistered("@ag-grid-enterprise/master-detail","cell renderer 'agDetailCellRenderer' (for master detail)"))return;const c=this.createFullWidthCompDetails(o.element,a);o.rowComp.showFullWidth(c)}isPrintLayout(){return this.printLayout}getFullWidthCellRenderers(){var o,a;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(c=>{var d;return(d=c==null?void 0:c.rowComp)==null?void 0:d.getFullWidthCellRenderer()}):[(a=(o=this.fullWidthGui)==null?void 0:o.rowComp)==null?void 0:a.getFullWidthCellRenderer()]}getCellElement(o){const a=this.getCellCtrl(o);return a?a.getGui():null}executeProcessRowPostCreateFunc(){const o=this.gos.getCallback("processRowPostCreate");if(!o||!this.areAllContainersReady())return;const a={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};o(a)}areAllContainersReady(){const o=!!this.leftGui||!this.beans.visibleColsService.isPinningLeft(),a=!!this.centerGui,c=!!this.rightGui||!this.beans.visibleColsService.isPinningRight();return o&&a&&c}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const o=this.beans.gos.getCallback("isFullWidthRow");return o?o({rowNode:this.rowNode}):!1}setRowType(){const o=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),a=this.isNodeFullWidthCell(),c=this.gos.get("masterDetail")&&this.rowNode.detail,d=this.beans.columnModel.isPivotMode(),b=!!this.rowNode.group&&!this.rowNode.footer&&_isGroupUseEntireRow(this.gos,d);o?this.rowType="FullWidthLoading":c?this.rowType="FullWidthDetail":a?this.rowType="FullWidth":b?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(o=!1,a=!1){if(this.isFullWidth())return;if(o||this.gos.get("suppressAnimationFrame")||this.printLayout){this.updateColumnListsImpl(a);return}this.updateColumnListsPending||(this.beans.animationFrameService.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"createTasksP1"),this.updateColumnListsPending=!0)}createCellCtrls(o,a,c=null){const d={list:[],map:{}},g=(_,$,j)=>{j!=null?d.list.splice(j,0,$):d.list.push($),d.map[_]=$},b=[];for(const _ of a){const $=_.getInstanceId();let j=o.map[$];j||(j=new CellCtrl(_,this.rowNode,this.beans,this)),g($,j)}for(const _ of o.list){const $=_.getColumn().getInstanceId();if(d.map[$]!=null)continue;!this.isCellEligibleToBeRemoved(_,c)?b.push([$,_]):_.destroy()}if(b.length)for(const[_,$]of b){const j=d.list.findIndex(nt=>nt.getColumn().getLeft()>$.getColumn().getLeft()),rt=j===-1?void 0:Math.max(j-1,0);g(_,$,rt)}return d}updateColumnListsImpl(o){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(o)}setCellCtrls(o){this.allRowGuis.forEach(a=>{const c=this.getCellCtrlsForContainer(a.containerType);a.rowComp.setCellCtrls(c,o)})}getCellCtrlsForContainer(o){switch(o){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const o=this.beans.columnViewportService,a=this.beans.visibleColsService;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,a.getAllCols()),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const c=o.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,c);const d=a.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,d,"left");const g=a.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,g,"right")}}isCellEligibleToBeRemoved(o,a){if(o.getColumn().getPinned()!=a)return!0;const b=o.isEditing(),_=this.beans.focusService.isCellFocused(o.getCellPosition());if(b||_){const j=o.getColumn();return!(this.beans.visibleColsService.getAllCols().indexOf(j)>=0)}return!0}getDomOrder(){return this.gos.get("ensureDomOrder")||_isDomLayout(this.gos,"print")}listenOnDomOrder(o){const a=()=>{o.rowComp.setDomOrder(this.getDomOrder())};o.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],a)}setAnimateFlags(o){if(this.isSticky()||!o)return;const a=_exists(this.rowNode.oldRowTop),c=this.beans.visibleColsService.isPinningLeft(),d=this.beans.visibleColsService.isPinningRight();if(a){if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.slideInAnimation.fullWidth=!0;return}this.slideInAnimation.center=!0,this.slideInAnimation.left=c,this.slideInAnimation.right=d}else{if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){this.fadeInAnimation.fullWidth=!0;return}this.fadeInAnimation.center=!0,this.fadeInAnimation.left=c,this.fadeInAnimation.right=d}}isEditing(){return this.editingRow}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const o=(_,$)=>_?_.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(_.element,$).params):!0,a=o(this.fullWidthGui,null),c=o(this.centerGui,null),d=o(this.leftGui,"left"),g=o(this.rightGui,"right");return a&&c&&d&&g}addListeners(){this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),expandedChanged:this.updateExpandedCss.bind(this),hasChildrenChanged:this.updateExpandedCss.bind(this)}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventService,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature&&(this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context))}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(a=>{this.addRowDraggerToRow(a)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(o=>o.onRowIndexChanged())},cellChanged:o=>{this.getAllCellCtrls().forEach(a=>a.onCellChanged(o))}})}onRowNodeDataChanged(o){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(c=>c.refreshCell({suppressFlash:!o.update,newData:!o.update})),this.allRowGuis.forEach(c=>{this.setRowCompRowId(c.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(c.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const o=this.rowNode.highlighted;this.allRowGuis.forEach(a=>{const c=o===0,d=o===1;a.rowComp.addOrRemoveCssClass("ag-row-highlight-above",c),a.rowComp.addOrRemoveCssClass("ag-row-highlight-below",d)})}postProcessRowDragging(){const o=this.rowNode.dragging;this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass("ag-row-dragging",o))}updateExpandedCss(){const o=this.rowNode.isExpandable(),a=this.rowNode.expanded==!0;this.allRowGuis.forEach(c=>{c.rowComp.addOrRemoveCssClass("ag-row-group",o),c.rowComp.addOrRemoveCssClass("ag-row-group-expanded",o&&a),c.rowComp.addOrRemoveCssClass("ag-row-group-contracted",o&&!a),_setAriaExpanded(c.element,o&&a)})}onDisplayedColumnsChanged(){this.updateColumnLists(!0),this.beans.columnModel.wasAutoRowHeightEverActive()&&this.rowNode.checkAutoHeights()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:_makeNull(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}findFullWidthRowGui(o){return this.allRowGuis.find(a=>a.element.contains(o))}onKeyboardNavigate(o){const a=this.findFullWidthRowGui(o.target);if(!((a?a.element:null)===o.target))return;const g=this.rowNode,b=this.beans.focusService.getFocusedCell(),_={rowIndex:g.rowIndex,rowPinned:g.rowPinned,column:(b==null?void 0:b.column)??this.getColumnForFullWidth(a)};this.beans.navigationService.navigateToNextCell(o,o.key,_,!0),o.preventDefault()}onTabKeyDown(o){if(o.defaultPrevented||_isStopPropagationForAgGrid(o))return;const a=this.allRowGuis.find($=>$.element.contains(o.target)),c=a?a.element:null,d=c===o.target,g=_getActiveDomElement(this.gos);let b=!1;c&&g&&(b=c.contains(g)&&g.classList.contains("ag-cell"));let _=null;!d&&!b&&(_=this.beans.focusService.findNextFocusableElement(c,!1,o.shiftKey)),(this.isFullWidth()&&d||!_)&&this.beans.navigationService.onTabKeyDown(this,o)}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var a;const o=(a=this.allRowGuis.find(c=>_isVisible(c.element)))==null?void 0:a.element;return o?o.getBoundingClientRect().top:0}onSuppressCellFocusChanged(o){const a=this.isFullWidth()&&o?void 0:-1;this.allRowGuis.forEach(c=>{_addOrRemoveAttribute(c.element,"tabindex",a)})}onFullWidthRowFocused(o){var g;const a=this.rowNode,c=o?this.isFullWidth()&&o.rowIndex===a.rowIndex&&o.rowPinned==a.rowPinned:!1,d=this.fullWidthGui?this.fullWidthGui.element:(g=this.centerGui)==null?void 0:g.element;d&&(d.classList.toggle("ag-full-width-focus",c),c&&(o!=null&&o.forceBrowserFocus)&&d.focus({preventScroll:!0}))}recreateCell(o){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,o),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,o),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,o),o.destroy(),this.updateColumnLists()}removeCellCtrl(o,a){const c={list:[],map:{}};return o.list.forEach(d=>{d!==a&&(c.list.push(d),c.map[d.getColumn().getInstanceId()]=d)}),c}onMouseEvent(o,a){switch(o){case"dblclick":this.onRowDblClick(a);break;case"click":this.onRowClick(a);break;case"touchstart":case"mousedown":this.onRowMouseDown(a);break}}createRowEvent(o,a){return this.gos.addGridCommonParams({type:o,node:this.rowNode,data:this.rowNode.data,rowIndex:this.rowNode.rowIndex,rowPinned:this.rowNode.rowPinned,event:a})}createRowEventWithSource(o,a){const c=this.createRowEvent(o,a);return c.source=this,c}onRowDblClick(o){_isStopPropagationForAgGrid(o)||this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",o))}getColumnForFullWidth(o){const{visibleColsService:a}=this.beans;switch(o==null?void 0:o.containerType){case"center":return a.getCenterCols()[0];case"left":return a.getLeftCols()[0];case"right":return a.getRightCols()[0];default:return a.getAllCols()[0]}}onRowMouseDown(o){if(this.lastMouseDownOnDragger=_isElementChildOfClass(o.target,"ag-row-drag",3),!this.isFullWidth())return;const a=this.rowNode;this.beans.rangeService&&this.beans.rangeService.removeAllCellRanges();const c=this.findFullWidthRowGui(o.target),d=c==null?void 0:c.element,g=o.target;let b=!0;d&&d.contains(g)&&_isFocusableFormField(g)&&(b=!1),this.beans.focusService.setFocusedCell({rowIndex:a.rowIndex,column:this.getColumnForFullWidth(c),rowPinned:a.rowPinned,forceBrowserFocus:b})}onRowClick(o){if(_isStopPropagationForAgGrid(o)||this.lastMouseDownOnDragger)return;const{gos:c}=this;this.beans.eventService.dispatchEvent(this.createRowEventWithSource("rowClicked",o));const d=o.ctrlKey||o.metaKey,g=o.shiftKey,b=this.rowNode.isSelected(),_=_getGroupSelectsDescendants(c),$=_getEnableDeselection(c),j=_getEnableSelection(c);if(_&&this.rowNode.group||this.isRowSelectionBlocked()||!j&&!b||!$&&b)return;const rt=_getEnableSelectionWithoutKeys(c),nt="rowClicked";if(b)rt?this.rowNode.setSelectedParams({newValue:!1,event:o,source:nt}):d?$&&this.rowNode.setSelectedParams({newValue:!1,event:o,source:nt}):j&&this.rowNode.setSelectedParams({newValue:!0,clearSelection:!g,rangeSelect:g,event:o,source:nt});else{const st=rt?!1:!d;this.rowNode.setSelectedParams({newValue:!0,clearSelection:st,rangeSelect:g,event:o,source:nt})}}isRowSelectionBlocked(){return!this.rowNode.selectable||!!this.rowNode.rowPinned||!_isRowSelection(this.gos)}setupDetailRowAutoHeight(o){if(this.rowType!=="FullWidthDetail"||!this.gos.get("detailRowAutoHeight"))return;const a=()=>{const d=o.clientHeight;if(d!=null&&d>0){const g=()=>{this.rowNode.setRowHeight(d),(_isClientSideRowModel(this.gos)||_isServerSideRowModel(this.gos))&&this.beans.rowModel.onRowHeightChanged()};window.setTimeout(g,0)}},c=this.beans.resizeObserverService.observeResize(o,a);this.addDestroyFunc(c),a()}createFullWidthCompDetails(o,a){const{gos:c,rowNode:d}=this,g=c.addGridCommonParams({fullWidth:!0,data:d.data,node:d,value:d.key,valueFormatted:d.key,eGridCell:o,eParentOfValue:o,pinned:a,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(_,$,j,rt)=>this.addFullWidthRowDragging(_,$,j,rt),setTooltip:(_,$)=>this.refreshRowTooltip(_,$)}),b=this.beans.userComponentFactory;switch(this.rowType){case"FullWidthDetail":return b.getFullWidthDetailCellRendererDetails(g);case"FullWidthGroup":return b.getFullWidthGroupCellRendererDetails(g);case"FullWidthLoading":return b.getFullWidthLoadingCellRendererDetails(g);default:return b.getFullWidthCellRendererDetails(g)}}refreshRowTooltip(o,a){if(!this.fullWidthGui)return;const c={getGui:()=>this.fullWidthGui.element,getTooltipValue:()=>o,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:a};this.tooltipFeature&&this.destroyBean(this.tooltipFeature,this.beans.context),this.tooltipFeature=this.createBean(new TooltipFeature(c,this.beans))}addFullWidthRowDragging(o,a,c="",d){if(!this.isFullWidth())return;const g=new RowDragComp(()=>c,this.rowNode,void 0,o,a,d);this.createBean(g,this.beans.context),this.addDestroyFunc(()=>{this.destroyBean(g,this.beans.context)})}onUiLevelChanged(){const o=this.beans.rowCssClassCalculator.calculateRowLevel(this.rowNode);if(this.rowLevel!=o){const a="ag-row-level-"+o,c="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(d=>{d.rowComp.addOrRemoveCssClass(a,!0),d.rowComp.addOrRemoveCssClass(c,!1)})}this.rowLevel=o}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBoundsService.getLastRow()}refreshFirstAndLastRowStyles(){const o=this.isFirstRowOnPage(),a=this.isLastRowOnPage();this.firstRowOnPage!==o&&(this.firstRowOnPage=o,this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass("ag-row-first",o))),this.lastRowOnPage!==a&&(this.lastRowOnPage=a,this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass("ag-row-last",a)))}stopEditing(o=!1){var a;this.stoppingRowEdit||(a=this.beans.rowEditService)==null||a.stopEditing(this,o)}setInlineEditingCss(){const o=this.editingRow||this.getAllCellCtrls().some(a=>a.isEditing());this.allRowGuis.forEach(a=>{a.rowComp.addOrRemoveCssClass("ag-row-inline-editing",o),a.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!o)})}setEditingRow(o){this.editingRow=o}startRowEditing(o=null,a=null,c=null){var d;return this.editingRow?!0:((d=this.beans.rowEditService)==null?void 0:d.startEditing(this,o,a,c))??!0}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){const o=this.beans.rowCssClassCalculator.processClassesFromGridOptions(this.rowNode);!o||!o.length||o.forEach(a=>{this.allRowGuis.forEach(c=>c.rowComp.addOrRemoveCssClass(a,!0))})}postProcessRowClassRules(){this.beans.rowCssClassCalculator.processRowClassRules(this.rowNode,o=>{this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass(o,!0))},o=>{this.allRowGuis.forEach(a=>a.rowComp.addOrRemoveCssClass(o,!1))})}setStylesFromGridOptions(o,a){o&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(a,c=>c.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(o){return o==="left"||o==="right"?o:null}getInitialRowClasses(o){const a=this.getPinnedForContainer(o),c={rowNode:this.rowNode,rowFocused:this.rowFocused,fadeRowIn:this.fadeInAnimation[o],rowIsEven:this.rowNode.rowIndex%2===0,rowLevel:this.rowLevel,fullWidthRow:this.isFullWidth(),firstRowOnPage:this.isFirstRowOnPage(),lastRowOnPage:this.isLastRowOnPage(),printLayout:this.printLayout,expandable:this.rowNode.isExpandable(),pinned:a};return this.beans.rowCssClassCalculator.getInitialRowClasses(c)}processStylesFromGridOptions(){const o=this.gos.get("rowStyle");if(o&&typeof o=="function"){_warnOnce("rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead");return}const a=this.gos.getCallback("getRowStyle");let c;if(a){const d={data:this.rowNode.data,node:this.rowNode,rowIndex:this.rowNode.rowIndex};c=a(d)}return c||o?Object.assign({},o,c):this.emptyStyle}onRowSelected(o){const a=!!this.rowNode.isSelected();this.forEachGui(o,c=>{c.rowComp.addOrRemoveCssClass("ag-row-selected",a),_setAriaSelected(c.element,a),c.element.contains(_getActiveDomElement(this.gos))&&(c===this.centerGui||c===this.fullWidthGui)&&this.announceDescription()})}announceDescription(){if(this.isRowSelectionBlocked())return;const o=this.rowNode.isSelected();if(o&&!_getEnableDeselection(this.gos))return;const c=this.beans.localeService.getLocaleTextFunc()(o?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${o?"deselect":"select"} this row.`);this.beans.ariaAnnouncementService.announceValue(c,"rowSelection")}addHoverFunctionality(o){if(!this.active)return;const{element:a,compBean:c}=o,{rowNode:d,beans:g,gos:b}=this;c.addManagedListeners(a,{mouseenter:()=>d.onMouseEnter(),mouseleave:()=>d.onMouseLeave()}),c.addManagedListeners(d,{mouseEnter:()=>{!g.dragService.isDragging()&&!b.get("suppressRowHoverHighlight")&&(a.classList.add("ag-row-hover"),d.setHovered(!0))},mouseLeave:()=>{a.classList.remove("ag-row-hover"),d.setHovered(!1)}})}roundRowTopToBounds(o){const a=this.beans.ctrlsService.getGridBodyCtrl().getScrollFeature().getApproximateVScollPosition(),c=this.applyPaginationOffset(a.top,!0)-100,d=this.applyPaginationOffset(a.bottom,!0)+100;return Math.min(Math.max(c,o),d)}getFrameworkOverrides(){return this.beans.frameworkOverrides}forEachGui(o,a){o?a(o):this.allRowGuis.forEach(a)}onRowHeightChanged(o){if(this.rowNode.rowHeight==null)return;const a=this.rowNode.rowHeight,c=this.beans.environment.getDefaultRowHeight(),g=_isGetRowHeightFunction(this.gos)?_getRowHeightForNode(this.gos,this.rowNode).height:void 0,b=g?`${Math.min(c,g)-2}px`:void 0;this.forEachGui(o,_=>{_.element.style.height=`${a}px`,b&&_.element.style.setProperty("--ag-line-height",b)})}addEventListener(o,a){super.addEventListener(o,a)}removeEventListener(o,a){super.removeEventListener(o,a)}destroyFirstPass(o=!1){if(this.active=!1,!o&&_isAnimateRows(this.gos)&&!this.isSticky())if(this.rowNode.rowTop!=null){const d=this.roundRowTopToBounds(this.rowNode.rowTop);this.setRowTop(d)}else this.allRowGuis.forEach(d=>d.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));this.rowNode.setHovered(!1);const a=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(a),this.beans.eventService.dispatchEvent(a),super.destroy()}destroySecondPass(){this.allRowGuis.length=0,this.stopEditing();const o=a=>(a.list.forEach(c=>c.destroy()),{list:[],map:{}});this.centerCellCtrls=o(this.centerCellCtrls),this.leftCellCtrls=o(this.leftCellCtrls),this.rightCellCtrls=o(this.rightCellCtrls)}setFocusedClasses(o){this.forEachGui(o,a=>{a.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),a.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const o=this.beans.focusService.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);o!==this.rowFocused&&(this.rowFocused=o,this.setFocusedClasses()),!o&&this.editingRow&&this.stopEditing(!1)}onPaginationChanged(){var a;const o=((a=this.beans.paginationService)==null?void 0:a.getCurrentPage())??0;this.paginationPage!==o&&(this.paginationPage=o,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(o,a=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return o;const c=this.beans.pageBoundsService.getPixelOffset();return o+c*(a?1:-1)}setRowTop(o){if(!this.printLayout&&_exists(o)){const a=this.applyPaginationOffset(o),g=`${this.rowNode.isRowPinned()||this.rowNode.sticky?a:this.beans.rowContainerHeightService.getRealPixelPosition(a)}px`;this.setRowTopStyle(g)}}getInitialRowTop(o){return this.suppressRowTransform?this.getInitialRowTopShared(o):void 0}getInitialTransform(o){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(o)})`}getInitialRowTopShared(o){if(this.printLayout)return"";const a=this.rowNode;let c;if(this.isSticky())c=a.stickyRowTop;else{const d=this.slideInAnimation[o]?this.roundRowTopToBounds(a.oldRowTop):a.rowTop,g=this.applyPaginationOffset(d);c=a.isRowPinned()?g:this.beans.rowContainerHeightService.getRealPixelPosition(g)}return c+"px"}setRowTopStyle(o){this.allRowGuis.forEach(a=>this.suppressRowTransform?a.rowComp.setTop(o):a.rowComp.setTransform(`translateY(${o})`))}getRowNode(){return this.rowNode}getCellCtrl(o){let a=null;return this.getAllCellCtrls().forEach(c=>{c.getColumn()==o&&(a=c)}),a!=null||this.getAllCellCtrls().forEach(c=>{c.getColSpanningList().indexOf(o)>=0&&(a=c)}),a}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}getRowIndex(){return this.rowNode.getRowIndexString()}updateRowIndexes(o){var b;const a=this.rowNode.getRowIndexString();if(a===null)return;const c=this.beans.headerNavigationService.getHeaderRowCount()+(((b=this.beans.filterManager)==null?void 0:b.getHeaderRowCount())??0),d=this.rowNode.rowIndex%2===0,g=c+this.rowNode.rowIndex+1;this.forEachGui(o,_=>{_.rowComp.setRowIndex(a),_.rowComp.addOrRemoveCssClass("ag-row-even",d),_.rowComp.addOrRemoveCssClass("ag-row-odd",!d),_setAriaRowIndex(_.element,g)})}setStoppingRowEdit(o){this.stoppingRowEdit=o}};_RowCtrl.DOM_DATA_KEY_ROW_CTRL="renderedRow";var RowCtrl=_RowCtrl,RowContainerEventsFeature=class extends BeanStub{wireBeans(e){this.mouseEventService=e.mouseEventService,this.valueService=e.valueService,this.menuService=e.menuService,this.ctrlsService=e.ctrlsService,this.navigationService=e.navigationService,this.focusService=e.focusService,this.undoRedoService=e.undoRedoService,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.rangeService=e.rangeService,this.clipboardService=e.clipboardService}constructor(e){super(),this.element=e}postConstruct(){this.addKeyboardListeners(),this.addMouseListeners(),this.mockContextMenuForIPad()}addKeyboardListeners(){const e="keydown",o=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:o})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",_isEventSupported("touchstart")?"touchstart":"mousedown"].forEach(a=>{const c=this.processMouseEvent.bind(this,a);this.addManagedElementListeners(this.element,{[a]:c})})}processMouseEvent(e,o){if(!this.mouseEventService.isEventFromThisGrid(o)||_isStopPropagationForAgGrid(o))return;const a=this.getRowForEvent(o),c=this.mouseEventService.getRenderedCellForEvent(o);e==="contextmenu"?this.handleContextMenuMouseEvent(o,void 0,a,c):(c&&c.onMouseEvent(e,o),a&&a.onMouseEvent(e,o))}mockContextMenuForIPad(){if(!_isIOSUserAgent())return;const e=new TouchListener(this.element),o=a=>{const c=this.getRowForEvent(a.touchEvent),d=this.mouseEventService.getRenderedCellForEvent(a.touchEvent);this.handleContextMenuMouseEvent(void 0,a.touchEvent,c,d)};this.addManagedListeners(e,{longTap:o}),this.addDestroyFunc(()=>e.destroy())}getRowForEvent(e){let o=e.target;for(;o;){const a=_getDomData(this.gos,o,RowCtrl.DOM_DATA_KEY_ROW_CTRL);if(a)return a;o=o.parentElement}return null}handleContextMenuMouseEvent(e,o,a,c){const d=a?a.getRowNode():null,g=c?c.getColumn():null;let b=null;if(g){const j=e||o;c.dispatchCellContextMenuEvent(j??null),b=this.valueService.getValue(g,d)}const _=this.ctrlsService.getGridBodyCtrl(),$=c?c.getGui():_.getGridBodyElement();this.menuService.showContextMenu({mouseEvent:e,touchEvent:o,rowNode:d,column:g,value:b,anchorToElement:$})}getControlsForEventTarget(e){return{cellCtrl:_getCtrlForEventTarget(this.gos,e,CellCtrl.DOM_DATA_KEY_CELL_CTRL),rowCtrl:_getCtrlForEventTarget(this.gos,e,RowCtrl.DOM_DATA_KEY_ROW_CTRL)}}processKeyboardEvent(e,o){const{cellCtrl:a,rowCtrl:c}=this.getControlsForEventTarget(o.target);o.defaultPrevented||(a?this.processCellKeyboardEvent(a,e,o):c&&c.isFullWidth()&&this.processFullWidthRowKeyboardEvent(c,e,o))}processCellKeyboardEvent(e,o,a){const c=e.getRowNode(),d=e.getColumn(),g=e.isEditing();!_isUserSuppressingKeyboardEvent(this.gos,a,c,d,g)&&o==="keydown"&&(!g&&this.navigationService.handlePageScrollingKey(a)||e.onKeyDown(a),this.doGridOperations(a,e.isEditing()),_isEventFromPrintableCharacter(a)&&e.processCharacter(a)),o==="keydown"&&this.eventService.dispatchEvent(e.createEvent(a,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,o,a){const c=e.getRowNode(),d=this.focusService.getFocusedCell(),g=d&&d.column;if(!_isUserSuppressingKeyboardEvent(this.gos,a,c,g,!1)){const _=a.key;if(o==="keydown")switch(_){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:case KeyCode.PAGE_UP:case KeyCode.PAGE_DOWN:this.navigationService.handlePageScrollingKey(a,!0);break;case KeyCode.UP:case KeyCode.DOWN:e.onKeyboardNavigate(a);break;case KeyCode.TAB:e.onTabKeyDown(a);break}}o==="keydown"&&this.eventService.dispatchEvent(e.createRowEvent("cellKeyDown",a))}doGridOperations(e,o){if(!e.ctrlKey&&!e.metaKey||o||!this.mouseEventService.isEventFromThisGrid(e))return;const a=_normaliseQwertyAzerty(e);if(a===KeyCode.A)return this.onCtrlAndA(e);if(a===KeyCode.C)return this.onCtrlAndC(e);if(a===KeyCode.D)return this.onCtrlAndD(e);if(a===KeyCode.V)return this.onCtrlAndV(e);if(a===KeyCode.X)return this.onCtrlAndX(e);if(a===KeyCode.Y)return this.onCtrlAndY();if(a===KeyCode.Z)return this.onCtrlAndZ(e)}onCtrlAndA(e){const{pinnedRowModel:o,rowModel:a,rangeService:c}=this;if(c&&a.isRowsToRender()){const[d,g]=[o.isEmpty("top"),o.isEmpty("bottom")],b=d?null:"top";let _,$;g?(_=null,$=a.getRowCount()-1):(_="bottom",$=o.getPinnedBottomRowCount()-1);const j=this.visibleColsService.getAllCols();if(_missingOrEmpty(j))return;c.setCellRange({rowStartIndex:0,rowStartPinned:b,rowEndIndex:$,rowEndPinned:_,columnStart:j[0],columnEnd:_last(j)})}e.preventDefault()}onCtrlAndC(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:o,rowCtrl:a}=this.getControlsForEventTarget(e.target);o!=null&&o.isEditing()||a!=null&&a.isEditing()||(e.preventDefault(),this.clipboardService.copyToClipboard())}onCtrlAndX(e){if(!this.clipboardService||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:o,rowCtrl:a}=this.getControlsForEventTarget(e.target);o!=null&&o.isEditing()||a!=null&&a.isEditing()||(e.preventDefault(),this.clipboardService.cutToClipboard(void 0,"ui"))}onCtrlAndV(e){const{cellCtrl:o,rowCtrl:a}=this.getControlsForEventTarget(e.target);o!=null&&o.isEditing()||a!=null&&a.isEditing()||this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.pasteFromClipboard()}onCtrlAndD(e){this.clipboardService&&!this.gos.get("suppressClipboardPaste")&&this.clipboardService.copyRangeDown(),e.preventDefault()}onCtrlAndZ(e){!this.gos.get("undoRedoCellEditing")||!this.undoRedoService||(e.preventDefault(),e.shiftKey?this.undoRedoService.redo("ui"):this.undoRedoService.undo("ui"))}onCtrlAndY(){var e;(e=this.undoRedoService)==null||e.redo("ui")}},SetPinnedLeftWidthFeature=class extends BeanStub{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({leftPinnedWidthChanged:this.onPinnedLeftWidthChanged.bind(this)})}onPinnedLeftWidthChanged(){const e=this.pinnedWidthService.getPinnedLeftWidth(),o=e>0;_setDisplayed(this.element,o),_setFixedWidth(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedLeftWidth()}},SetPinnedRightWidthFeature=class extends BeanStub{wireBeans(e){this.pinnedWidthService=e.pinnedWidthService}constructor(e){super(),this.element=e}postConstruct(){this.addManagedEventListeners({rightPinnedWidthChanged:this.onPinnedRightWidthChanged.bind(this)})}onPinnedRightWidthChanged(){const e=this.pinnedWidthService.getPinnedRightWidth(),o=e>0;_setDisplayed(this.element,o),_setFixedWidth(this.element,e)}getWidth(){return this.pinnedWidthService.getPinnedRightWidth()}},getTopRowCtrls=e=>e.getTopRowCtrls(),getStickyTopRowCtrls=e=>e.getStickyTopRowCtrls(),getStickyBottomRowCtrls=e=>e.getStickyBottomRowCtrls(),getBottomRowCtrls=e=>e.getBottomRowCtrls(),getCentreRowCtrls=e=>e.getCentreRowCtrls(),ContainerCssClasses={center:{type:"center",container:"ag-center-cols-container",viewport:"ag-center-cols-viewport",getRowCtrls:getCentreRowCtrls},left:{type:"left",container:"ag-pinned-left-cols-container",pinnedType:"left",getRowCtrls:getCentreRowCtrls},right:{type:"right",container:"ag-pinned-right-cols-container",pinnedType:"right",getRowCtrls:getCentreRowCtrls},fullWidth:{type:"fullWidth",container:"ag-full-width-container",fullWidth:!0,getRowCtrls:getCentreRowCtrls},topCenter:{type:"center",container:"ag-floating-top-container",viewport:"ag-floating-top-viewport",getRowCtrls:getTopRowCtrls},topLeft:{type:"left",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:getTopRowCtrls},topRight:{type:"right",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:getTopRowCtrls},topFullWidth:{type:"fullWidth",container:"ag-floating-top-full-width-container",fullWidth:!0,getRowCtrls:getTopRowCtrls},stickyTopCenter:{type:"center",container:"ag-sticky-top-container",viewport:"ag-sticky-top-viewport",getRowCtrls:getStickyTopRowCtrls},stickyTopLeft:{type:"left",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:getStickyTopRowCtrls},stickyTopRight:{type:"right",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:getStickyTopRowCtrls},stickyTopFullWidth:{type:"fullWidth",container:"ag-sticky-top-full-width-container",fullWidth:!0,getRowCtrls:getStickyTopRowCtrls},stickyBottomCenter:{type:"center",container:"ag-sticky-bottom-container",viewport:"ag-sticky-bottom-viewport",getRowCtrls:getStickyBottomRowCtrls},stickyBottomLeft:{type:"left",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:getStickyBottomRowCtrls},stickyBottomRight:{type:"right",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:getStickyBottomRowCtrls},stickyBottomFullWidth:{type:"fullWidth",container:"ag-sticky-bottom-full-width-container",fullWidth:!0,getRowCtrls:getStickyBottomRowCtrls},bottomCenter:{type:"center",container:"ag-floating-bottom-container",viewport:"ag-floating-bottom-viewport",getRowCtrls:getBottomRowCtrls},bottomLeft:{type:"left",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:getBottomRowCtrls},bottomRight:{type:"right",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:getBottomRowCtrls},bottomFullWidth:{type:"fullWidth",container:"ag-floating-bottom-full-width-container",fullWidth:!0,getRowCtrls:getBottomRowCtrls}};function _getRowContainerOptions(e){return ContainerCssClasses[e]}var allTopNoFW=["topCenter","topLeft","topRight"],allBottomNoFW=["bottomCenter","bottomLeft","bottomRight"],allMiddleNoFW=["center","left","right"],allMiddle=["center","left","right","fullWidth"],allCenter=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],allLeft=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],allRight=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],allStickyTopNoFW=["stickyTopCenter","stickyTopLeft","stickyTopRight"],allStickyBottomNoFW=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],allStickyContainers=[...allStickyTopNoFW,"stickyTopFullWidth",...allStickyBottomNoFW,"stickyBottomFullWidth"],allNoFW=[...allTopNoFW,...allBottomNoFW,...allMiddleNoFW,...allStickyTopNoFW,...allStickyBottomNoFW],RowContainerCtrl=class extends BeanStub{constructor(e){super(),this.visible=!0,this.EMPTY_CTRLS=[],this.name=e,this.options=_getRowContainerOptions(e)}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService,this.columnViewportService=e.columnViewportService,this.resizeObserverService=e.resizeObserverService,this.rowRenderer=e.rowRenderer}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new ViewportSizeFeature(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.ctrlsService.register(this.name,this)}forContainers(e,o){e.indexOf(this.name)>=0&&o()}getContainerElement(){return this.eContainer}getViewportSizeFeature(){return this.viewportSizeFeature}setComp(e,o,a){this.comp=e,this.eContainer=o,this.eViewport=a,this.createManagedBean(new RowContainerEventsFeature(this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const c=()=>this.onPinnedWidthChanged();this.forContainers(allLeft,()=>{this.pinnedWidthFeature=this.createManagedBean(new SetPinnedLeftWidthFeature(this.eContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:c})}),this.forContainers(allRight,()=>{this.pinnedWidthFeature=this.createManagedBean(new SetPinnedRightWidthFeature(this.eContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:c})}),this.forContainers(allMiddle,()=>this.createManagedBean(new SetHeightFeature(this.eContainer,this.name==="center"?a:void 0))),this.forContainers(allNoFW,()=>this.createManagedBean(new DragListenerFeature(this.eContainer))),this.forContainers(allCenter,()=>this.createManagedBean(new CenterWidthFeature(d=>this.comp.setContainerWidth(`${d}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.getViewportElement(),{scroll:e})}addListeners(){this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),displayedRowsChanged:e=>this.onDisplayedRowsChanged(e.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedColumnsWidthChanged(),this.onDisplayedRowsChanged()}listenOnDomOrder(){if(allStickyContainers.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const o=()=>{const a=this.gos.get("ensureDomOrder"),c=_isDomLayout(this.gos,"print");this.comp.setDomOrder(a||c)};this.addManagedPropertyListener("domLayout",o),o()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}onDisplayedColumnsWidthChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const e=o=>{this.dragService.isDragging()&&o.cancelable&&o.preventDefault()};this.eContainer.addEventListener("touchmove",e,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",e))}onHorizontalViewportChanged(e=!1){const o=this.getCenterWidth(),a=this.getCenterViewportScrollLeft();this.columnViewportService.setScrollPosition(o,a,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return _getInnerWidth(this.eViewport)}getCenterViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const o=this.resizeObserverService.observeResize(this.eViewport,e);this.addDestroyFunc(()=>o())}isViewportInTheDOMTree(){return _isInDOM(this.eViewport)}getViewportScrollLeft(){return _getScrollLeft(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||_isHorizontalScrollShowing(this.eViewport)}getViewportElement(){return this.eViewport}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){_setScrollLeft(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const o=this.options.getRowCtrls(this.rowRenderer);if(!this.visible||o.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const a=_isDomLayout(this.gos,"print"),d=this.gos.get("embedFullWidthRows")||a,g=o.filter(b=>{const _=b.isFullWidth();return this.options.fullWidth?!d&&_:d||!_});this.comp.setRowCtrls({rowCtrls:g,useFlushSync:e})}},CSS_CLASS_FORCE_VERTICAL_SCROLL="ag-force-vertical-scroll",CSS_CLASS_CELL_SELECTABLE="ag-selectable",CSS_CLASS_COLUMN_MOVING="ag-column-moving",GridBodyCtrl=class extends BeanStub{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.scrollVisibleService=e.scrollVisibleService,this.menuService=e.menuService,this.headerNavigationService=e.headerNavigationService,this.dragAndDropService=e.dragAndDropService,this.pinnedRowModel=e.pinnedRowModel,this.rowRenderer=e.rowRenderer,this.popupService=e.popupService,this.mouseEventService=e.mouseEventService,this.rowModel=e.rowModel,this.filterManager=e.filterManager,this.environment=e.environment}getScrollFeature(){return this.bodyScrollFeature}getBodyViewportElement(){return this.eBodyViewport}setComp(e,o,a,c,d,g,b){var _;this.comp=e,this.eGridBody=o,this.eBodyViewport=a,this.eTop=c,this.eBottom=d,this.eStickyTop=g,this.eStickyBottom=b,this.eCenterColsViewport=a.querySelector(`.${_getRowContainerOptions("center").viewport}`),this.eFullWidthContainer=a.querySelector(`.${_getRowContainerOptions("fullWidth").container}`),this.eStickyTopFullWidthContainer=g.querySelector(`.${_getRowContainerOptions("stickyTopFullWidth").container}`),this.eStickyBottomFullWidthContainer=b.querySelector(`.${_getRowContainerOptions("stickyBottomFullWidth").container}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",$=>this.setCellTextSelection($.currentValue)),this.createManagedBean(new LayoutFeature(this.comp)),this.bodyScrollFeature=this.createManagedBean(new GridBodyScrollFeature(this.eBodyViewport)),this.addRowDragListener(),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([c,a,d,g,b]),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(_=this.filterManager)==null||_.setupAdvancedFilterHeaderComp(c),this.ctrlsService.register("gridBodyCtrl",this)}getComp(){return this.comp}addEventListeners(){const e=this.setFloatingHeights.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.onScrollGapChanged.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.onHeaderHeightChanged.bind(this)})}addFocusListeners(e){e.forEach(o=>{this.addManagedElementListeners(o,{focusin:a=>{const{target:c}=a,d=_isElementChildOfClass(c,"ag-root",o);o.classList.toggle("ag-has-focus",!d)},focusout:a=>{const{target:c,relatedTarget:d}=a,g=o.contains(d),b=_isElementChildOfClass(d,"ag-root",o);_isElementChildOfClass(c,"ag-root",o)||(!g||b)&&o.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(CSS_CLASS_COLUMN_MOVING,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(CSS_CLASS_CELL_SELECTABLE,e)}onScrollVisibilityChanged(){const e=this.scrollVisibleService.isVerticalScrollShowing();this.setVerticalScrollPaddingVisible(e),this.setStickyWidth(e),this.setStickyBottomOffsetBottom();const o=e&&this.scrollVisibleService.getScrollbarWidth()||0,a=_isInvisibleScrollbar()?16:0,c=`calc(100% + ${o+a}px)`;this.animationFrameService.requestAnimationFrame(()=>this.comp.setBodyViewportWidth(c)),this.updateScrollingClasses()}onScrollGapChanged(){this.updateScrollingClasses()}updateScrollingClasses(){this.eGridBody.classList.toggle("ag-body-vertical-content-no-gap",!this.scrollVisibleService.hasVerticalScrollGap()),this.eGridBody.classList.toggle("ag-body-horizontal-content-no-gap",!this.scrollVisibleService.hasHorizontalScrollGap())}onGridColumnsChanged(){const e=this.columnModel.getCols();this.comp.setColumnCount(e.length)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const e=a=>{const c=a.relatedTarget;if(_getTabIndex(c)===null){this.rowRenderer.stopEditing();return}let d=o.some(g=>g.contains(c))&&this.mouseEventService.isElementInThisGrid(c);if(!d){const g=this.popupService;d=g.getActivePopups().some(b=>b.contains(c))||g.isElementWithinCustomPopup(c)}d||this.rowRenderer.stopEditing()},o=[this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom];o.forEach(a=>this.addManagedElementListeners(a,{focusout:e}))}updateRowCount(){var c;const e=this.headerNavigationService.getHeaderRowCount()+(((c=this.filterManager)==null?void 0:c.getHeaderRowCount())??0),o=this.rowModel.isLastRowIndexKnown()?this.rowModel.getRowCount():-1,a=o===-1?-1:e+o;this.comp.setRowCount(a)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const o=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(o)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),o=e?CSS_CLASS_FORCE_VERTICAL_SCROLL:null,a=_isDomLayout(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(o,e),e||a&&_isVerticalScrollShowing(this.eBodyViewport)}setupRowAnimationCssClass(){let e=this.environment.hasMeasuredSizes();const o=()=>{const a=e&&_isAnimateRows(this.gos)&&!this.rowContainerHeightService.isStretching(),c=a?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(c,a)};o(),this.addManagedEventListeners({heightScaleChanged:o}),this.addManagedPropertyListener("animateRows",o),this.addManagedEventListeners({gridStylesChanged:()=>{!e&&this.environment.hasMeasuredSizes()&&(e=!0,o())}})}getGridBodyElement(){return this.eGridBody}addBodyViewportListener(){const e=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:e}),this.mockContextMenuForIPad(e),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:o,deltaY:a,shiftKey:c}=e;(c||Math.abs(o)>Math.abs(a))&&this.mouseEventService.isEventFromThisGrid(e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:o,deltaY:a,shiftKey:c}=e,d=c||Math.abs(o)>Math.abs(a),g=e.target;d?(this.eStickyTopFullWidthContainer.contains(g)||this.eStickyBottomFullWidthContainer.contains(g))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(a))}scrollGridBodyToMatchEvent(e){const{deltaX:o,deltaY:a}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:o||a})}onBodyViewportContextMenu(e,o,a){if(!e&&!a)return;this.gos.get("preventDefaultOnContextMenu")&&(e||a).preventDefault();const{target:c}=e||o;(c===this.eBodyViewport||c===this.ctrlsService.get("center").getViewportElement())&&this.menuService.showContextMenu({mouseEvent:e,touchEvent:a,value:null,anchorToElement:this.eGridBody})}mockContextMenuForIPad(e){if(!_isIOSUserAgent())return;const o=new TouchListener(this.eBodyViewport),a=c=>{e(void 0,c.touchStart,c.touchEvent)};this.addManagedListeners(o,{longTap:a}),this.addDestroyFunc(()=>o.destroy())}onBodyViewportWheel(e){this.gos.get("suppressScrollWhenPopupsAreOpen")&&this.popupService.hasAnchoredPopup()&&e.preventDefault()}getGui(){return this.eGridBody}scrollVertically(e){const o=this.eBodyViewport.scrollTop;return this.bodyScrollFeature.setVerticalScrollPosition(o+e),this.eBodyViewport.scrollTop-o}addRowDragListener(){this.rowDragFeature=this.createManagedBean(new RowDragFeature(this.eBodyViewport)),this.dragAndDropService.addDropTarget(this.rowDragFeature),this.addDestroyFunc(()=>this.dragAndDropService.removeDropTarget(this.rowDragFeature))}getRowDragFeature(){return this.rowDragFeature}setFloatingHeights(){const{pinnedRowModel:e}=this,o=e.getPinnedTopTotalHeight(),a=e.getPinnedBottomTotalHeight();this.comp.setTopHeight(o),this.comp.setBottomHeight(a),this.comp.setTopDisplay(o?"inherit":"none"),this.comp.setBottomDisplay(a?"inherit":"none"),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}getStickyTopHeight(){return this.stickyTopHeight}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}getStickyBottomHeight(){return this.stickyBottomHeight}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const o=this.scrollVisibleService.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${o}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${o}px)`)}}onHeaderHeightChanged(){this.setStickyTopOffsetTop()}setStickyTopOffsetTop(){var d;const o=this.ctrlsService.get("gridHeaderCtrl").getHeaderHeight()+(((d=this.filterManager)==null?void 0:d.getHeaderHeight())??0),a=this.pinnedRowModel.getPinnedTopTotalHeight();let c=0;o>0&&(c+=o),a>0&&(c+=a),c>0&&(c+=1),this.comp.setStickyTopTop(`${c}px`)}setStickyBottomOffsetBottom(){const e=this.pinnedRowModel.getPinnedBottomTotalHeight(),a=this.scrollVisibleService.isHorizontalScrollShowing()&&this.scrollVisibleService.getScrollbarWidth()||0,c=e+a;this.comp.setStickyBottomBottom(`${c}px`)}sizeColumnsToFit(e,o){const c=this.isVerticalScrollShowing()?this.scrollVisibleService.getScrollbarWidth():0,g=_getInnerWidth(this.eGridBody)-c;if(g>0){this.columnSizeService.sizeColumnsToFit(g,"sizeColumnsToFit",!1,e);return}o===void 0?window.setTimeout(()=>{this.sizeColumnsToFit(e,100)},0):o===100?window.setTimeout(()=>{this.sizeColumnsToFit(e,500)},100):o===500?window.setTimeout(()=>{this.sizeColumnsToFit(e,-1)},500):_warnOnce("tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?")}addScrollEventListener(e){this.eBodyViewport.addEventListener("scroll",e,{passive:!0})}removeScrollEventListener(e){this.eBodyViewport.removeEventListener("scroll",e)}},CellComp$1=class extends Component{constructor(o,a,c,d,g){super(),this.rendererVersion=0,this.editorVersion=0,this.beans=o,this.column=a.getColumn(),this.rowNode=a.getRowNode(),this.rowCtrl=a.getRowCtrl(),this.eRow=d,this.cellCtrl=a;const b=document.createElement("div");b.setAttribute("comp-id",`${this.getCompId()}`),this.setTemplateFromElement(b);const _=this.getGui();this.forceWrapper=a.isForceWrapper(),this.refreshWrapper(!1),_setAriaRole(_,a.getCellAriaRole()),_.setAttribute("col-id",a.colIdSanitised);const $={addOrRemoveCssClass:(j,rt)=>this.addOrRemoveCssClass(j,rt),setUserStyles:j=>_addStylesToElement(_,j),getFocusableElement:()=>this.getFocusableElement(),setIncludeSelection:j=>this.includeSelection=j,setIncludeRowDrag:j=>this.includeRowDrag=j,setIncludeDndSource:j=>this.includeDndSource=j,setRenderDetails:(j,rt,nt)=>this.setRenderDetails(j,rt,nt),setEditDetails:(j,rt,nt)=>this.setEditDetails(j,rt,nt),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};a.setComp($,this.getGui(),this.eCellWrapper,c,g,void 0)}getParentOfValue(){return this.eCellValue?this.eCellValue:this.eCellWrapper?this.eCellWrapper:this.getGui()}setRenderDetails(o,a,c){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const g=this.refreshWrapper(!1);this.refreshEditStyles(!1),o?!(c||g)&&this.refreshCellRenderer(o)||(this.destroyRenderer(),this.createCellRendererInstance(o)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(a))}setEditDetails(o,a,c){o?this.createCellEditorInstance(o,a,c):this.destroyEditor()}removeControls(){this.checkboxSelectionComp=this.beans.context.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=this.beans.context.destroyBean(this.dndSourceComp),this.rowDraggingComp=this.beans.context.destroyBean(this.rowDraggingComp)}refreshWrapper(o){const a=this.includeRowDrag||this.includeDndSource||this.includeSelection,c=a||this.forceWrapper,d=c&&this.eCellWrapper==null;if(d){const rt=document.createElement("div");rt.setAttribute("role","presentation"),rt.setAttribute("class","ag-cell-wrapper"),this.eCellWrapper=rt,this.getGui().appendChild(this.eCellWrapper)}const g=!c&&this.eCellWrapper!=null;g&&(_removeFromParent(this.eCellWrapper),this.eCellWrapper=void 0),this.addOrRemoveCssClass("ag-cell-value",!c);const b=!o&&c,_=b&&this.eCellValue==null;if(_){const rt=document.createElement("span");rt.setAttribute("role","presentation"),rt.setAttribute("class","ag-cell-value"),this.eCellValue=rt,this.eCellWrapper.appendChild(this.eCellValue)}const $=!b&&this.eCellValue!=null;$&&(_removeFromParent(this.eCellValue),this.eCellValue=void 0);const j=d||g||_||$;return j&&this.removeControls(),o||a&&this.addControls(),j}addControls(){this.includeRowDrag&&this.rowDraggingComp==null&&(this.rowDraggingComp=this.cellCtrl.createRowDragComp(),this.rowDraggingComp&&this.eCellWrapper.insertBefore(this.rowDraggingComp.getGui(),this.eCellValue)),this.includeDndSource&&this.dndSourceComp==null&&(this.dndSourceComp=this.cellCtrl.createDndSource(),this.eCellWrapper.insertBefore(this.dndSourceComp.getGui(),this.eCellValue)),this.includeSelection&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=this.cellCtrl.createSelectionCheckbox(),this.eCellWrapper.insertBefore(this.checkboxSelectionComp.getGui(),this.eCellValue))}createCellEditorInstance(o,a,c){const d=this.editorVersion,g=o.newAgStackInstance();if(g==null)return;const{params:b}=o;g.then($=>this.afterCellEditorCreated(d,$,b,a,c)),_missing(this.cellEditor)&&b.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(o){const a=this.getParentOfValue();_clearElement(a);const c=o!=null?_escapeString(o,!0):null;c!=null&&(a.textContent=c)}destroyEditorAndRenderer(){this.destroyRenderer(),this.destroyEditor()}destroyRenderer(){const{context:o}=this.beans;this.cellRenderer=o.destroyBean(this.cellRenderer),_removeFromParent(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){const{context:o}=this.beans;this.hideEditorPopup&&this.hideEditorPopup(),this.hideEditorPopup=void 0,this.cellEditor=o.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=o.destroyBean(this.cellEditorPopupWrapper),_removeFromParent(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(o){if(this.cellRenderer==null||this.cellRenderer.refresh==null||this.cellRendererClass!==o.componentClass)return!1;const a=this.cellRenderer.refresh(o.params);return a===!0||a===void 0}createCellRendererInstance(o){const c=!this.beans.gos.get("suppressAnimationFrame"),d=this.rendererVersion,{componentClass:g}=o,b=()=>{if(this.rendererVersion!==d||!this.isAlive())return;const $=o.newAgStackInstance(),j=this.afterCellRendererCreated.bind(this,d,g);$&&$.then(j)};c&&this.firstRender?this.beans.animationFrameService.createTask(b,this.rowNode.rowIndex,"createTasksP2"):b()}getCtrl(){return this.cellCtrl}getRowCtrl(){return this.rowCtrl}getCellRenderer(){return this.cellRenderer}getCellEditor(){return this.cellEditor}afterCellRendererCreated(o,a,c){if(!this.isAlive()||o!==this.rendererVersion){this.beans.context.destroyBean(c);return}if(this.cellRenderer=c,this.cellRendererClass=a,this.cellRendererGui=this.cellRenderer.getGui(),this.cellRendererGui!=null){const g=this.getParentOfValue();_clearElement(g),g.appendChild(this.cellRendererGui)}}afterCellEditorCreated(o,a,c,d,g){if(o!==this.editorVersion){this.beans.context.destroyBean(a);return}if(a.isCancelBeforeStart&&a.isCancelBeforeStart()){this.beans.context.destroyBean(a),this.cellCtrl.stopEditing(!0);return}if(!a.getGui){_warnOnce(`cellEditor for column ${this.column.getId()} is missing getGui() method`),this.beans.context.destroyBean(a);return}this.cellEditor=a,this.cellEditorGui=a.getGui();const $=d||a.isPopup!==void 0&&a.isPopup();$?this.addPopupCellEditor(c,g):this.addInCellEditor(),this.refreshEditStyles(!0,$),a.afterGuiAttached&&a.afterGuiAttached(),this.cellCtrl.cellEditorAttached()}refreshEditStyles(o,a){var c;this.addOrRemoveCssClass("ag-cell-inline-editing",o&&!a),this.addOrRemoveCssClass("ag-cell-popup-editing",o&&!!a),this.addOrRemoveCssClass("ag-cell-not-inline-editing",!o||!!a),(c=this.rowCtrl)==null||c.setInlineEditingCss()}addInCellEditor(){const o=this.getGui();o.contains(_getActiveDomElement(this.beans.gos))&&o.focus(),this.destroyRenderer(),this.refreshWrapper(!0),this.clearParentOfValue(),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(o,a){var jt;this.beans.gos.get("editType")==="fullRow"&&_warnOnce("popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.");const c=this.cellEditor;this.cellEditorPopupWrapper=this.beans.context.createBean(this.beans.editService.createPopupEditorWrapper(o));const d=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&d.appendChild(this.cellEditorGui);const g=this.beans.popupService,b=this.beans.gos.get("stopEditingWhenCellsLoseFocus"),_=a??((jt=c.getPopupPosition)==null?void 0:jt.call(c))??"over",$=this.beans.gos.get("enableRtl"),j={ePopup:d,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.getGui(),position:_,alignSide:$?"right":"left",keepWithinBounds:!0},rt=g.positionPopupByComponent.bind(g,j),nt=this.beans.localeService.getLocaleTextFunc(),st=g.addPopup({modal:b,eChild:d,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.getGui(),positionCallback:rt,ariaLabel:nt("ariaLabelCellEditor","Cell Editor")});st&&(this.hideEditorPopup=st.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyEditorAndRenderer(),this.removeControls(),super.destroy()}clearParentOfValue(){const o=this.getGui();o.contains(_getActiveDomElement(this.beans.gos))&&_browserSupportsPreventScroll()&&o.focus({preventScroll:!0}),_clearElement(this.getParentOfValue())}},RowComp$1=class extends Component{constructor(o,a,c){super(),this.cellComps={},this.beans=a,this.rowCtrl=o;const d=document.createElement("div");d.setAttribute("comp-id",`${this.getCompId()}`),this.setInitialStyle(d,c),this.setTemplateFromElement(d);const g=this.getGui(),b=g.style;this.domOrder=this.rowCtrl.getDomOrder(),_setAriaRole(g,"row");const _={setDomOrder:$=>this.domOrder=$,setCellCtrls:$=>this.setCellCtrls($),showFullWidth:$=>this.showFullWidth($),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:($,j)=>this.addOrRemoveCssClass($,j),setUserStyles:$=>_addStylesToElement(g,$),setTop:$=>b.top=$,setTransform:$=>b.transform=$,setRowIndex:$=>g.setAttribute("row-index",$),setRowId:$=>g.setAttribute("row-id",$),setRowBusinessKey:$=>g.setAttribute("row-business-key",$),refreshFullWidth:$=>{var j,rt;return((rt=(j=this.fullWidthCellRenderer)==null?void 0:j.refresh)==null?void 0:rt.call(j,$()))??!1}};o.setComp(_,this.getGui(),c,void 0),this.addDestroyFunc(()=>{o.unsetComp(c)})}setInitialStyle(o,a){const c=this.rowCtrl.getInitialTransform(a);if(c)o.style.setProperty("transform",c);else{const d=this.rowCtrl.getInitialRowTop(a);d&&o.style.setProperty("top",d)}}showFullWidth(o){const a=d=>{if(this.isAlive()){const g=d.getGui();this.getGui().appendChild(g),this.rowCtrl.setupDetailRowAutoHeight(g),this.setFullWidthRowComp(d)}else this.beans.context.destroyBean(d)},c=o.newAgStackInstance();c!=null&&c.then(a)}setCellCtrls(o){const a=Object.assign({},this.cellComps);o.forEach(d=>{const g=d.instanceId;this.cellComps[g]==null?this.newCellComp(d):a[g]=null});const c=_getAllValuesInObject(a).filter(d=>d!=null);this.destroyCells(c),this.ensureDomOrder(o)}ensureDomOrder(o){if(!this.domOrder)return;const a=[];o.forEach(c=>{const d=this.cellComps[c.instanceId];d&&a.push(d.getGui())}),_setDomChildOrder(this.getGui(),a)}newCellComp(o){const a=new CellComp$1(this.beans,o,this.rowCtrl.isPrintLayout(),this.getGui(),this.rowCtrl.isEditing());this.cellComps[o.instanceId]=a,this.getGui().appendChild(a.getGui())}destroy(){super.destroy(),this.destroyAllCells()}destroyAllCells(){const o=_getAllValuesInObject(this.cellComps).filter(a=>a!=null);this.destroyCells(o)}setFullWidthRowComp(o){this.fullWidthCellRenderer&&_errorOnce("should not be setting fullWidthRowComponent twice"),this.fullWidthCellRenderer=o,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(o){o.forEach(a=>{if(!a)return;const c=a.getCtrl().instanceId;this.cellComps[c]===a&&(a.detach(),a.destroy(),this.cellComps[c]=null)})}};function templateFactory(e){let o;return e.type==="center"?o=`<div class="${e.viewport}" data-ref="eViewport" role="presentation">
                <div class="${e.container}" data-ref="eContainer" role="rowgroup"></div>
            </div>`:o=`<div class="${e.container}" data-ref="eContainer" role="rowgroup"></div>`,o}var RowContainerComp$1=class extends Component{constructor(){super(),this.eViewport=RefPlaceholder,this.eContainer=RefPlaceholder,this.rowComps={},this.name=Component.elementGettingCreated.getAttribute("name"),this.options=_getRowContainerOptions(this.name),this.setTemplate(templateFactory(this.options))}wireBeans(o){this.beans=o}postConstruct(){const o={setHorizontalScroll:c=>this.eViewport.scrollLeft=c,setViewportHeight:c=>this.eViewport.style.height=c,setRowCtrls:({rowCtrls:c})=>this.setRowCtrls(c),setDomOrder:c=>{this.domOrder=c},setContainerWidth:c=>this.eContainer.style.width=c,setOffsetTop:c=>this.eContainer.style.transform=`translateY(${c})`};this.createManagedBean(new RowContainerCtrl(this.name)).setComp(o,this.eContainer,this.eViewport)}destroy(){this.setRowCtrls([]),super.destroy(),this.lastPlacedElement=null}setRowCtrls(o){const{rowComps:a,beans:c,options:d}=this,g={...a};this.rowComps={},this.lastPlacedElement=null;const b=[];for(const _ of o){const $=_.instanceId,j=g[$];let rt;if(j)rt=j,delete g[$];else{if(!_.getRowNode().displayed)continue;rt=new RowComp$1(_,c,d.type)}this.rowComps[$]=rt,b.push([rt,!j])}this.removeOldRows(Object.values(g)),this.addRowNodes(b)}addRowNodes(o){const{domOrder:a,eContainer:c}=this;for(const[d,g]of o){const b=d.getGui();a?this.ensureDomOrder(b):g&&c.appendChild(b)}}removeOldRows(o){const{eContainer:a}=this;for(const c of o)a.removeChild(c.getGui()),c.destroy()}ensureDomOrder(o){this.domOrder&&(_ensureDomOrder(this.eContainer,o,this.lastPlacedElement),this.lastPlacedElement=o)}},RowContainerSelector={selector:"AG-ROW-CONTAINER",component:RowContainerComp$1};function makeRowContainers(e){return e.map(o=>`<ag-row-container name="${o}"></ag-row-container>`).join("")}var GRID_BODY_TEMPLATE=`<div class="ag-root ag-unselectable" role="treegrid">
        <ag-header-root></ag-header-root>
        <div class="ag-floating-top" data-ref="eTop" role="presentation">
            ${makeRowContainers(["topLeft","topCenter","topRight","topFullWidth"])}
        </div>
        <div class="ag-body" data-ref="eBody" role="presentation">
            <div class="ag-body-viewport" data-ref="eBodyViewport" role="presentation">
            ${makeRowContainers(["left","center","right","fullWidth"])}
            </div>
            <ag-fake-vertical-scroll></ag-fake-vertical-scroll>
        </div>
        <div class="ag-sticky-top" data-ref="eStickyTop" role="presentation">
            ${makeRowContainers(["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])}
        </div>
        <div class="ag-sticky-bottom" data-ref="eStickyBottom" role="presentation">
            ${makeRowContainers(["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])}
        </div>
        <div class="ag-floating-bottom" data-ref="eBottom" role="presentation">
            ${makeRowContainers(["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])}
        </div>
        <ag-fake-horizontal-scroll></ag-fake-horizontal-scroll>
        <ag-overlay-wrapper></ag-overlay-wrapper>
    </div>`,GridBodyComp$1=class extends Component{constructor(){super(GRID_BODY_TEMPLATE,[OverlayWrapperSelector,FakeHScrollSelector,FakeVScrollSelector,GridHeaderSelector,RowContainerSelector]),this.eBodyViewport=RefPlaceholder,this.eStickyTop=RefPlaceholder,this.eStickyBottom=RefPlaceholder,this.eTop=RefPlaceholder,this.eBottom=RefPlaceholder,this.eBody=RefPlaceholder}wireBeans(o){this.resizeObserverService=o.resizeObserverService,this.rangeService=o.rangeService}postConstruct(){const o=(c,d)=>{const g=`${c}px`;d.style.minHeight=g,d.style.height=g},a={setRowAnimationCssOnBodyViewport:(c,d)=>this.setRowAnimationCssOnBodyViewport(c,d),setColumnCount:c=>_setAriaColCount(this.getGui(),c),setRowCount:c=>_setAriaRowCount(this.getGui(),c),setTopHeight:c=>o(c,this.eTop),setBottomHeight:c=>o(c,this.eBottom),setTopDisplay:c=>this.eTop.style.display=c,setBottomDisplay:c=>this.eBottom.style.display=c,setStickyTopHeight:c=>this.eStickyTop.style.height=c,setStickyTopTop:c=>this.eStickyTop.style.top=c,setStickyTopWidth:c=>this.eStickyTop.style.width=c,setStickyBottomHeight:c=>{this.eStickyBottom.style.height=c,this.eStickyBottom.classList.toggle("ag-hidden",c==="0px")},setStickyBottomBottom:c=>this.eStickyBottom.style.bottom=c,setStickyBottomWidth:c=>this.eStickyBottom.style.width=c,setColumnMovingCss:(c,d)=>this.addOrRemoveCssClass(c,d),updateLayoutClasses:(c,d)=>{[this.eBodyViewport.classList,this.eBody.classList].forEach(b=>{b.toggle("ag-layout-auto-height",d.autoHeight),b.toggle("ag-layout-normal",d.normal),b.toggle("ag-layout-print",d.print)}),this.addOrRemoveCssClass("ag-layout-auto-height",d.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",d.normal),this.addOrRemoveCssClass("ag-layout-print",d.print)},setAlwaysVerticalScrollClass:(c,d)=>this.eBodyViewport.classList.toggle(CSS_CLASS_FORCE_VERTICAL_SCROLL,d),registerBodyViewportResizeListener:c=>{const d=this.resizeObserverService.observeResize(this.eBodyViewport,c);this.addDestroyFunc(()=>d())},setPinnedTopBottomOverflowY:c=>this.eTop.style.overflowY=this.eBottom.style.overflowY=c,setCellSelectableCss:(c,d)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(g=>g.classList.toggle(c,d))},setBodyViewportWidth:c=>this.eBodyViewport.style.width=c};this.ctrl=this.createManagedBean(new GridBodyCtrl),this.ctrl.setComp(a,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(this.rangeService&&_isCellSelectionEnabled(this.gos)||_isMultiRowSelection(this.gos))&&_setAriaMultiSelectable(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(o,a){const c=this.eBodyViewport.classList;c.toggle("ag-row-animation",a),c.toggle("ag-row-no-animation",!a)}getFloatingTopBottom(){return[this.eTop,this.eBottom]}},GridBodySelector={selector:"AG-GRID-BODY",component:GridBodyComp$1},ScrollVisibleService=class extends BeanStub{constructor(){super(...arguments),this.beanName="scrollVisibleService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnAnimationService=e.columnAnimationService}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this)})}onDisplayedColumnsChanged(){this.updateScrollVisible()}onDisplayedColumnsWidthChanged(){this.updateScrollVisible()}onCentreViewportResized(){this.updateScrollGap()}updateScrollVisible(){this.columnAnimationService.isActive()?this.columnAnimationService.executeLaterVMTurn(()=>{this.columnAnimationService.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){const e=this.ctrlsService.get("center");if(!e||this.columnAnimationService.isActive())return;const o={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.isVerticalScrollShowing()};this.setScrollsVisible(o),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsService.get("center"),o=e.hasHorizontalScrollGap(),a=e.hasVerticalScrollGap();(this.horizontalScrollGap!==o||this.verticalScrollGap!==a)&&(this.horizontalScrollGap=o,this.verticalScrollGap=a,this.eventService.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventService.dispatchEvent({type:"scrollVisibilityChanged"}))}isHorizontalScrollShowing(){return this.horizontalScrollShowing}isVerticalScrollShowing(){return this.verticalScrollShowing}hasHorizontalScrollGap(){return this.horizontalScrollGap}hasVerticalScrollGap(){return this.verticalScrollGap}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),a=typeof e=="number"&&e>=0?e:_getScrollbarWidth();a!=null&&(this.scrollbarWidth=a,this.eventService.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},GRID_DOM_KEY="__ag_grid_instance",_MouseEventService=class q5 extends BeanStub{constructor(){super(...arguments),this.beanName="mouseEventService",this.gridInstanceId=q5.gridInstanceSequence.next()}wireBeans(o){this.ctrlsService=o.ctrlsService}stampTopLevelGridCompWithGridInstance(o){o[GRID_DOM_KEY]=this.gridInstanceId}getRenderedCellForEvent(o){return _getCtrlForEventTarget(this.gos,o.target,CellCtrl.DOM_DATA_KEY_CELL_CTRL)}isEventFromThisGrid(o){return this.isElementInThisGrid(o.target)}isElementInThisGrid(o){let a=o;for(;a;){const c=a[GRID_DOM_KEY];if(_exists(c))return c===this.gridInstanceId;a=a.parentElement}return!1}getCellPositionForEvent(o){const a=this.getRenderedCellForEvent(o);return a?a.getCellPosition():null}getNormalisedPosition(o){const a=_isDomLayout(this.gos,"normal"),c=o;let d,g;if(c.clientX!=null||c.clientY!=null?(d=c.clientX,g=c.clientY):(d=c.x,g=c.y),a){const b=this.ctrlsService.getGridBodyCtrl(),_=b.getScrollFeature().getVScrollPosition(),$=b.getScrollFeature().getHScrollPosition();d+=$.left,g+=_.top}return{x:d,y:g}}};_MouseEventService.gridInstanceSequence=new NumberSequence;var MouseEventService=_MouseEventService,NavigationService=class extends BeanStub{constructor(){super(),this.beanName="navigationService",this.onPageDown=_throttle(this.onPageDown,100),this.onPageUp=_throttle(this.onPageUp,100)}wireBeans(e){this.mouseEventService=e.mouseEventService,this.pageBoundsService=e.pageBoundsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.ctrlsService=e.ctrlsService,this.rowRenderer=e.rowRenderer,this.headerNavigationService=e.headerNavigationService,this.rowPositionUtils=e.rowPositionUtils,this.cellNavigationService=e.cellNavigationService,this.pinnedRowModel=e.pinnedRowModel,this.scrollVisibleService=e.scrollVisibleService,this.rangeService=e.rangeService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,o=!1){const a=e.key,c=e.altKey,d=e.ctrlKey||e.metaKey,g=!!this.rangeService&&e.shiftKey,b=this.mouseEventService.getCellPositionForEvent(e);let _=!1;switch(a){case KeyCode.PAGE_HOME:case KeyCode.PAGE_END:!d&&!c&&(this.onHomeOrEndKey(a),_=!0);break;case KeyCode.LEFT:case KeyCode.RIGHT:case KeyCode.UP:case KeyCode.DOWN:if(!b)return!1;d&&!c&&!g&&(this.onCtrlUpDownLeftRight(a,b),_=!0);break;case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:!d&&!c&&(_=this.handlePageUpDown(a,b,o));break}return _&&e.preventDefault(),_}handlePageUpDown(e,o,a){return a&&(o=this.focusService.getFocusedCell()),o?(e===KeyCode.PAGE_UP?this.onPageUp(o):this.onPageDown(o),!0):!1}navigateTo(e){var b;const{scrollIndex:o,scrollType:a,scrollColumn:c,focusIndex:d,focusColumn:g}=e;_exists(c)&&!c.isPinned()&&this.gridBodyCon.getScrollFeature().ensureColumnVisible(c),_exists(o)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(o,a),e.isAsync||this.gridBodyCon.getScrollFeature().ensureIndexVisible(d),this.focusService.setFocusedCell({rowIndex:d,column:g,rowPinned:null,forceBrowserFocus:!0}),(b=this.rangeService)==null||b.setRangeToCell({rowIndex:d,rowPinned:null,column:g})}onPageDown(e){const a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.getViewportHeight(),d=this.pageBoundsService.getPixelOffset(),g=a.top+c,b=this.rowModel.getRowIndexAtPixel(g+d);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,b):this.navigateToNextPage(e,b)}onPageUp(e){const a=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),c=this.pageBoundsService.getPixelOffset(),d=a.top,g=this.rowModel.getRowIndexAtPixel(d+c);this.columnModel.isAutoRowHeightActive()?this.navigateToNextPageWithAutoHeight(e,g,!0):this.navigateToNextPage(e,g,!0)}navigateToNextPage(e,o,a=!1){const c=this.getViewportHeight(),d=this.pageBoundsService.getFirstRow(),g=this.pageBoundsService.getLastRow(),b=this.pageBoundsService.getPixelOffset(),_=this.rowModel.getRow(e.rowIndex),$=a?(_==null?void 0:_.rowHeight)-c-b:c-b,j=(_==null?void 0:_.rowTop)+$;let rt=this.rowModel.getRowIndexAtPixel(j+b);if(rt===e.rowIndex){const st=a?-1:1;o=rt=e.rowIndex+st}let nt;a?(nt="bottom",rt<d&&(rt=d),o<d&&(o=d)):(nt="top",rt>g&&(rt=g),o>g&&(o=g)),this.isRowTallerThanView(rt)&&(o=rt,nt="top"),this.navigateTo({scrollIndex:o,scrollType:nt,scrollColumn:null,focusIndex:rt,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,o,a=!1){this.navigateTo({scrollIndex:o,scrollType:a?"bottom":"top",scrollColumn:null,focusIndex:o,focusColumn:e.column}),setTimeout(()=>{const c=this.getNextFocusIndexForAutoHeight(e,a);this.navigateTo({scrollIndex:o,scrollType:a?"bottom":"top",scrollColumn:null,focusIndex:c,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,o=!1){const a=o?-1:1,c=this.getViewportHeight(),d=this.pageBoundsService.getLastRow();let g=0,b=e.rowIndex;for(;b>=0&&b<=d;){const _=this.rowModel.getRow(b);if(_){const $=_.rowHeight??0;if(g+$>c)break;g+=$}b+=a}return Math.max(0,Math.min(b,d))}getViewportHeight(){const e=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition(),o=this.scrollVisibleService.getScrollbarWidth();let a=e.bottom-e.top;return this.ctrlsService.get("center").isHorizontalScrollShowing()&&(a-=o),a}isRowTallerThanView(e){const o=this.rowModel.getRow(e);if(!o)return!1;const a=o.rowHeight;return typeof a!="number"?!1:a>this.getViewportHeight()}onCtrlUpDownLeftRight(e,o){const a=this.cellNavigationService.getNextCellToFocus(e,o,!0),{rowIndex:c}=a,d=a.column;this.navigateTo({scrollIndex:c,scrollType:null,scrollColumn:d,focusIndex:c,focusColumn:d})}onHomeOrEndKey(e){const o=e===KeyCode.PAGE_HOME,a=this.visibleColsService.getAllCols(),c=o?a[0]:_last(a),d=o?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow();this.navigateTo({scrollIndex:d,scrollType:null,scrollColumn:c,focusIndex:d,focusColumn:c})}onTabKeyDown(e,o){const a=o.shiftKey,c=this.tabToNextCellCommon(e,a,o);if(c!==!1){c?o.preventDefault():c===null&&this.focusService.allowFocusForNextGridCoreContainer(a);return}if(a){const{rowIndex:d,rowPinned:g}=e.getRowPosition();(g?d===0:d===this.pageBoundsService.getFirstRow())&&(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()?this.focusService.focusNextGridCoreContainer(!0,!0):(o.preventDefault(),this.focusService.focusPreviousFromFirstCell(o)))}else e instanceof CellCtrl&&e.focusCell(!0),(!a&&this.focusService.focusOverlay(!1)||this.focusService.focusNextGridCoreContainer(a))&&o.preventDefault()}tabToNextCell(e,o){const a=this.focusService.getFocusedCell();if(!a)return!1;let c=this.getCellByPosition(a);return!c&&(c=this.rowRenderer.getRowByPosition(a),!c||!c.isFullWidth())?!1:!!this.tabToNextCellCommon(c,e,o)}tabToNextCellCommon(e,o,a){let c=e.isEditing();if(!c&&e instanceof CellCtrl){const b=e.getRowCtrl();b&&(c=b.isEditing())}let d;return c?this.gos.get("editType")==="fullRow"?d=this.moveToNextEditingRow(e,o,a):d=this.moveToNextEditingCell(e,o,a):d=this.moveToNextCellNotEditing(e,o),d===null?d:d||!!this.focusService.getFocusedHeader()}moveToNextEditingCell(e,o,a=null){const c=e.getCellPosition();e.getGui().focus(),e.stopEditing();const d=this.findNextCellToFocusOn(c,o,!0);return d===!1?null:d==null?!1:(d.startEditing(null,!0,a),d.focusCell(!1),!0)}moveToNextEditingRow(e,o,a=null){const c=e.getCellPosition(),d=this.findNextCellToFocusOn(c,o,!0);if(d===!1)return null;if(d==null)return!1;const g=d.getCellPosition(),b=this.isCellEditable(c),_=this.isCellEditable(g),$=g&&c.rowIndex===g.rowIndex&&c.rowPinned===g.rowPinned;return b&&e.setFocusOutOnEditor(),$||(e.getRowCtrl().stopEditing(),d.getRowCtrl().startRowEditing(void 0,void 0,a)),_?(d.setFocusInOnEditor(),d.focusCell()):d.focusCell(!0),!0}moveToNextCellNotEditing(e,o){const a=this.visibleColsService.getAllCols();let c;e instanceof RowCtrl?c={...e.getRowPosition(),column:o?a[0]:_last(a)}:c=e.getCellPosition();const d=this.findNextCellToFocusOn(c,o,!1);if(d===!1)return null;if(d instanceof CellCtrl)d.focusCell(!0);else if(d)return this.tryToFocusFullWidthRow(d.getRowPosition(),o);return _exists(d)}findNextCellToFocusOn(e,o,a){var d;let c=e;for(;;){e!==c&&(e=c),o||(c=this.getLastCellOfColSpan(c)),c=this.cellNavigationService.getNextTabbedCell(c,o);const g=this.gos.getCallback("tabToNextCell");if(_exists(g)){const j=g({backwards:o,editing:a,previousCellPosition:e,nextCellPosition:c||null});if(j===!0||j===null)j===null&&_warnOnce("Returning `null` from tabToNextCell is deprecated. Return `true` to stay on the current cell, or `false` to let the browser handle the tab behaviour."),c=e;else{if(j===!1)return!1;c={rowIndex:j.rowIndex,column:j.column,rowPinned:j.rowPinned}}}if(!c)return null;if(c.rowIndex<0){const $=this.headerNavigationService.getHeaderRowCount();return this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:$+c.rowIndex,column:c.column},fromCell:!0}),null}const b=this.gos.get("editType")==="fullRow";if(a&&!b&&!this.isCellEditable(c))continue;this.ensureCellVisible(c);const _=this.getCellByPosition(c);if(!_){const $=this.rowRenderer.getRowByPosition(c);if(!$||!$.isFullWidth()||a)continue;return $}if(!_.isSuppressNavigable())return(d=this.rangeService)==null||d.setRangeToCell(c),_}}isCellEditable(e){const o=this.lookupRowNodeForCell(e);return o?e.column.isCellEditable(o):!1}getCellByPosition(e){const o=this.rowRenderer.getRowByPosition(e);return o?o.getCellCtrl(e.column):null}lookupRowNodeForCell(e){return e.rowPinned==="top"?this.pinnedRowModel.getPinnedTopRow(e.rowIndex):e.rowPinned==="bottom"?this.pinnedRowModel.getPinnedBottomRow(e.rowIndex):this.rowModel.getRow(e.rowIndex)}navigateToNextCell(e,o,a,c){let d=a,g=!1;for(;d&&(d===a||!this.isValidNavigateCell(d));)this.gos.get("enableRtl")?o===KeyCode.LEFT&&(d=this.getLastCellOfColSpan(d)):o===KeyCode.RIGHT&&(d=this.getLastCellOfColSpan(d)),d=this.cellNavigationService.getNextCellToFocus(o,d),g=_missing(d);if(g&&e&&e.key===KeyCode.UP&&(d={rowIndex:-1,rowPinned:null,column:a.column}),c){const _=this.gos.getCallback("navigateToNextCell");if(_exists(_)){const j=_({key:o,previousCellPosition:a,nextCellPosition:d||null,event:e});_exists(j)?d={rowPinned:j.rowPinned,rowIndex:j.rowIndex,column:j.column}:d=null}}if(!d)return;if(d.rowIndex<0){const _=this.headerNavigationService.getHeaderRowCount();this.focusService.focusHeaderPosition({headerPosition:{headerRowIndex:_+d.rowIndex,column:a.column},event:e||void 0,fromCell:!0});return}const b=this.getNormalisedPosition(d);b?this.focusPosition(b):this.tryToFocusFullWidthRow(d)}getNormalisedPosition(e){this.ensureCellVisible(e);const o=this.getCellByPosition(e);return o?(e=o.getCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,o){const a=this.visibleColsService.getAllCols(),c=this.rowRenderer.getRowByPosition(e);if(!c||!c.isFullWidth())return!1;const d=this.focusService.getFocusedCell(),g={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(o?_last(a):a[0])};this.focusPosition(g);const b=o??(d!=null&&this.rowPositionUtils.before(g,d));return this.eventService.dispatchEvent({type:"fullWidthRowFocused",rowIndex:g.rowIndex,rowPinned:g.rowPinned,column:g.column,isFullWidthCell:!0,fromBelow:b}),!0}focusPosition(e){var o;this.focusService.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),(o=this.rangeService)==null||o.setRangeToCell(e)}isValidNavigateCell(e){return!!this.rowPositionUtils.getRowNode(e)}getLastCellOfColSpan(e){const o=this.getCellByPosition(e);if(!o)return e;const a=o.getColSpanningList();return a.length===1?e:{rowIndex:e.rowIndex,column:_last(a),rowPinned:e.rowPinned}}ensureCellVisible(e){const o=_isGroupRowsSticky(this.gos),a=this.rowModel.getRow(e.rowIndex);!(o&&(a==null?void 0:a.sticky))&&_missing(e.rowPinned)&&this.gridBodyCon.getScrollFeature().ensureIndexVisible(e.rowIndex),e.column.isPinned()||this.gridBodyCon.getScrollFeature().ensureColumnVisible(e.column)}},HorizontalResizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="horizontalResizeService"}wireBeans(e){this.dragService=e.dragService,this.ctrlsService=e.ctrlsService}addResizeBar(e){const o={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0};return this.dragService.addDragSource(o),()=>this.dragService.removeDragSource(o)}onDragStart(e,o){this.dragStartX=o.clientX,this.setResizeIcons();const a=o instanceof MouseEvent&&o.shiftKey===!0;e.onResizeStart(a)}setResizeIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.ctrlsService.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,o){this.resizeAmount=o.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},StandardMenuFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupService=e.popupService,this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.menuService=e.menuService}hideActiveMenu(){this.hidePopup&&this.hidePopup()}showMenuAfterMouseEvent(e,o,a){this.showPopup(e,c=>{this.popupService.positionPopupUnderMouseEvent({column:e,type:a,mouseEvent:o,ePopup:c})},a,o.target,this.menuService.isLegacyMenuEnabled())}showMenuAfterButtonClick(e,o,a){let c=-1,d="left";const g=this.menuService.isLegacyMenuEnabled();!g&&this.gos.get("enableRtl")&&(c=1,d="right");const b=g?void 0:4*c,_=g?void 0:4;this.showPopup(e,$=>{this.popupService.positionPopupByComponent({type:a,eventSource:o,ePopup:$,nudgeX:b,nudgeY:_,alignSide:d,keepWithinBounds:!0,position:"under",column:e})},a,o,g)}showPopup(e,o,a,c,d){const g=e?this.createBean(new FilterWrapperComp(e,"COLUMN_MENU")):void 0;if(this.activeMenu=g,!(g!=null&&g.hasFilter())||!e)throw new Error("AG Grid - unable to show popup filter, filter instantiation failed");const b=document.createElement("div");_setAriaRole(b,"presentation"),b.classList.add("ag-menu"),d||b.classList.add("ag-filter-menu"),[this.tabListener]=this.addManagedElementListeners(b,{keydown:wl=>this.trapFocusWithin(wl,b)}),b.appendChild(g==null?void 0:g.getGui());let _;const $=()=>g==null?void 0:g.afterGuiDetached(),j=this.menuService.isColumnMenuAnchoringEnabled()?c??this.ctrlsService.getGridBodyCtrl().getGui():void 0,rt=wl=>{e.setMenuVisible(!1,"contextMenu");const Ft=wl instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),Ft&&c&&_isVisible(c)){const it=this.focusService.findTabbableParent(c);it&&it.focus()}$(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,a,e)},nt=this.localeService.getLocaleTextFunc(),st=d&&a!=="columnFilter"?nt("ariaLabelColumnMenu","Column Menu"):nt("ariaLabelColumnFilter","Column Filter"),jt=this.popupService.addPopup({modal:!0,eChild:b,closeOnEsc:!0,closedCallback:rt,positionCallback:()=>o(b),anchorToElement:j,ariaLabel:st});jt&&(this.hidePopup=_=jt.hideFunc),g.afterInit().then(()=>{o(b),g.afterGuiAttached({container:a,hidePopup:_})}),e.setMenuVisible(!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,a,e)}trapFocusWithin(e,o){e.key!==KeyCode.TAB||e.defaultPrevented||this.focusService.findNextFocusableElement(o,!1,e.shiftKey)||(e.preventDefault(),this.focusService.focusInto(o,e.shiftKey))}dispatchVisibleChangedEvent(e,o,a){this.eventService.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:o,column:a??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},ResizeObserverService=class extends BeanStub{constructor(){super(...arguments),this.beanName="resizeObserverService"}observeResize(e,o){const c=_getWindow(this.gos).ResizeObserver,d=c?new c(o):null;return d==null||d.observe(e),()=>d==null?void 0:d.disconnect()}},AnimationFrameService=class extends BeanStub{constructor(){super(...arguments),this.beanName="animationFrameService",this.createTasksP1={list:[],sorted:!1},this.createTasksP2={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastPage=0,this.lastScrollTop=0,this.taskCount=0,this.cancelledTasks=new Set}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}setScrollTop(e){var a;const o=this.gos.get("pagination");if(this.scrollGoingDown=e>=this.lastScrollTop,o&&e===0){const c=((a=this.paginationService)==null?void 0:a.getCurrentPage())??0;c!==this.lastPage&&(this.lastPage=c,this.scrollGoingDown=!0)}this.lastScrollTop=e}postConstruct(){this.useAnimationFrame=!this.gos.get("suppressAnimationFrame")}isOn(){return this.useAnimationFrame}verifyAnimationFrameOn(e){this.useAnimationFrame===!1&&_warnOnce(`AnimationFrameService.${e} called but animation frames are off`)}createTask(e,o,a){this.verifyAnimationFrameOn(a);const c={task:e,index:o,createOrder:++this.taskCount};this.addTaskToList(this[a],c),this.schedule()}cancelTask(e){this.cancelledTasks.add(e)}addTaskToList(e,o){e.list.push(o),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const o=this.scrollGoingDown?1:-1;e.list.sort((a,c)=>a.index!==c.index?o*(c.index-a.index):c.createOrder-a.createOrder),e.sorted=!0}addDestroyTask(e){this.verifyAnimationFrameOn("createTasksP3"),this.destroyTasks.push(e),this.schedule()}executeFrame(e){this.verifyAnimationFrameOn("executeFrame");const o=this.createTasksP1,a=o.list,c=this.createTasksP2,d=c.list,g=this.destroyTasks,b=new Date().getTime();let _=new Date().getTime()-b;const $=e<=0,j=this.ctrlsService.getGridBodyCtrl();for(;$||_<e;){if(!j.getScrollFeature().scrollGridIfNeeded()){let nt;if(a.length)this.sortTaskList(o),nt=a.pop().task;else if(d.length)this.sortTaskList(c),nt=d.pop().task;else if(g.length)nt=g.pop();else{this.cancelledTasks.clear();break}this.cancelledTasks.has(nt)||nt()}_=new Date().getTime()-b}a.length||d.length||g.length?this.requestFrame():this.stopTicking()}stopTicking(){this.ticking=!1}flushAllFrames(){this.useAnimationFrame&&this.executeFrame(-1)}schedule(){this.useAnimationFrame&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);this.requestAnimationFrame(e)}requestAnimationFrame(e){const o=_getWindow(this.gos);o.requestAnimationFrame?o.requestAnimationFrame(e):o.webkitRequestAnimationFrame?o.webkitRequestAnimationFrame(e):o.setTimeout(e,0)}isQueueEmpty(){return!this.ticking}debounce(e){let o=!1;return()=>{if(!this.isOn()){window.setTimeout(e,0);return}o||(o=!0,this.addDestroyTask(()=>{o=!1,e()}))}}},ClientSideRowModelSteps=(e=>(e.EVERYTHING="group",e.FILTER="filter",e.SORT="sort",e.MAP="map",e.AGGREGATE="aggregate",e.FILTER_AGGREGATES="filter_aggregates",e.PIVOT="pivot",e.NOTHING="nothing",e))(ClientSideRowModelSteps||{}),ExpansionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="expansionService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.isClientSideRowModel=_isClientSideRowModel(this.gos)}expandRows(e){if(!this.isClientSideRowModel)return;const o=new Set(e);this.rowModel.forEachNode(a=>{a.id&&o.has(a.id)&&(a.expanded=!0)}),this.onGroupExpandedOrCollapsed()}getExpandedRows(){const e=[];return this.rowModel.forEachNode(({expanded:o,id:a})=>{o&&a&&e.push(a)}),e}expandAll(e){this.isClientSideRowModel&&this.rowModel.expandOrCollapseAll(e)}setRowNodeExpanded(e,o,a,c){e&&(a&&e.parent&&e.parent.level!==-1&&this.setRowNodeExpanded(e.parent,o,a,c),e.setExpanded(o,void 0,c))}onGroupExpandedOrCollapsed(){this.isClientSideRowModel&&this.rowModel.refreshModel({step:"map"})}},MenuService=class extends BeanStub{constructor(){super(...arguments),this.beanName="menuService"}wireBeans(e){this.valueService=e.valueService,this.filterMenuFactory=e.filterMenuFactory,this.ctrlsService=e.ctrlsService,this.animationFrameService=e.animationFrameService,this.filterManager=e.filterManager,this.rowRenderer=e.rowRenderer,this.columnChooserFactory=e.columnChooserFactory,this.contextMenuFactory=e.contextMenuFactory,this.enterpriseMenuFactory=e.enterpriseMenuFactory}postConstruct(){this.activeMenuFactory=this.enterpriseMenuFactory??this.filterMenuFactory}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const o=this.enterpriseMenuFactory&&this.isLegacyMenuEnabled()?this.enterpriseMenuFactory:this.filterMenuFactory;this.showColumnMenuCommon(o,e,e.containerType,!0)}showHeaderContextMenu(e,o,a){this.activeMenuFactory.showMenuAfterContextMenuEvent(e,o,a)}getContextMenuPosition(e,o){const a=this.getRowCtrl(e),c=this.getCellGui(a,o);if(!c)return a?{x:0,y:a.getRowYPosition()}:{x:0,y:0};const d=c.getBoundingClientRect();return{x:d.x+d.width/2,y:d.y+d.height/2}}showContextMenu(e){var g;const o=e.rowNode,a=e.column;let{anchorToElement:c,value:d}=e;o&&a&&d==null&&(d=this.valueService.getValueForDisplay(a,o)),c==null&&(c=this.getContextMenuAnchorElement(o,a)),(g=this.contextMenuFactory)==null||g.onContextMenu(e.mouseEvent??null,e.touchEvent??null,o??null,a??null,d,c)}showColumnChooser(e){var o;(o=this.columnChooserFactory)==null||o.showColumnChooser(e)}hidePopupMenu(){var e;(e=this.contextMenuFactory)==null||e.hideActiveMenu(),this.activeMenuFactory.hideActiveMenu()}hideColumnChooser(){var e;(e=this.columnChooserFactory)==null||e.hideActiveColumnChooser()}isColumnMenuInHeaderEnabled(e){const{suppressMenu:o,suppressHeaderMenuButton:a}=e.getColDef();return!(a??o)&&this.activeMenuFactory.isMenuEnabled(e)&&(this.isLegacyMenuEnabled()||!!this.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var o;return!e.getColDef().suppressHeaderFilterButton&&!!((o=this.filterManager)!=null&&o.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const o=e&&isColumn(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(o!=null&&o.suppressHeaderContextMenu)&&this.getColumnMenuType()==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(_isIOSUserAgent()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!this.isLegacyMenuEnabled()&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var o;return!!((o=this.filterManager)!=null&&o.isFilterAllowed(e))&&!this.isLegacyMenuEnabled()&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isColumnMenuAnchoringEnabled(){return!this.isLegacyMenuEnabled()}areAdditionalColumnMenuItemsEnabled(){return this.getColumnMenuType()==="new"}isLegacyMenuEnabled(){return this.getColumnMenuType()==="legacy"}isFloatingFilterButtonEnabled(e){var c;const o=e.getColDef(),a=(c=o.floatingFilterComponentParams)==null?void 0:c.suppressFilterButton;return a!=null&&_warnOnce("As of v31.1, 'colDef.floatingFilterComponentParams.suppressFilterButton' is deprecated. Use 'colDef.suppressFloatingFilterButton' instead."),o.suppressFloatingFilterButton==null?!a:!o.suppressFloatingFilterButton}getColumnMenuType(){return this.gos.get("columnMenu")}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos.get("suppressMenuHide");return this.isLegacyMenuEnabled()?this.gos.exists("suppressMenuHide")?e:!1:e}showColumnMenuCommon(e,o,a,c){const{positionBy:d}=o,g=o.column;if(d==="button"){const{buttonElement:b}=o;e.showMenuAfterButtonClick(g,b,a,c)}else if(d==="mouse"){const{mouseEvent:b}=o;e.showMenuAfterMouseEvent(g,b,a,c)}else g&&(this.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(g,"auto"),this.animationFrameService.requestAnimationFrame(()=>{var _;const b=(_=this.ctrlsService.getHeaderRowContainerCtrl(g.getPinned()))==null?void 0:_.getHeaderCtrlForColumn(g);b&&e.showMenuAfterButtonClick(g,b.getAnchorElementForMenu(c),a,!0)}))}getRowCtrl(e){const{rowIndex:o,rowPinned:a}=e||{};if(o!=null)return this.rowRenderer.getRowByPosition({rowIndex:o,rowPinned:a})||void 0}getCellGui(e,o){if(!e||!o)return;const a=e.getCellCtrl(o);return(a==null?void 0:a.getGui())||void 0}getContextMenuAnchorElement(e,o){const a=this.ctrlsService.getGridBodyCtrl().getGridBodyElement(),c=this.getRowCtrl(e);if(!c)return a;const d=this.getCellGui(c,o);return d||(c.isFullWidth()?c.getFullWidthElement():a)}},AgInputTextArea=class extends AgAbstractInputField{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,o){const a=super.setValue(e,o);return this.eInput.value=e,a}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},AgInputTextAreaSelector={selector:"AG-INPUT-TEXT-AREA",component:AgInputTextArea},LargeTextCellEditor=class extends PopupComponent{constructor(){super(`<div class="ag-large-text">
        <ag-input-text-area data-ref="eTextArea" class="ag-large-text-input"></ag-input-text-area>
        </div>`,[AgInputTextAreaSelector]),this.eTextArea=RefPlaceholder}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),_exists(e.value,!0)&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const o=e.key;(o===KeyCode.LEFT||o===KeyCode.UP||o===KeyCode.RIGHT||o===KeyCode.DOWN||e.shiftKey&&o===KeyCode.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.localeService.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue();return!_exists(e)&&!_exists(this.params.value)?this.params.value:this.params.parseValue(e)}},PopupEditorWrapper=class extends PopupComponent{constructor(e){super('<div class="ag-popup-editor" tabindex="-1"/>'),this.params=e}postConstruct(){_setDomData(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),o=this.params,a=c=>{_isUserSuppressingKeyboardEvent(this.gos,c,o.node,o.column,!0)||o.onKeyDown(c)};this.addManagedElementListeners(e,{keydown:a})}},SelectCellEditor=class extends PopupComponent{constructor(){super(`<div class="ag-cell-edit-wrapper">
                <ag-select class="ag-cell-editor" data-ref="eSelect"></ag-select>
            </div>`,[AgSelectSelector]),this.eSelect=RefPlaceholder,this.startedByEnter=!1}wireBeans(e){this.valueService=e.valueService}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:o,valueService:a,gos:c}=this,{values:d,value:g,eventKey:b}=e;if(_missing(d)){_warnOnce("no values found for select cellEditor");return}this.startedByEnter=b!=null?b===KeyCode.ENTER:!1;let _=!1;d.forEach(nt=>{const st={value:nt},jt=a.formatValue(e.column,null,nt),wl=jt!=null;st.text=wl?jt:nt,o.addOption(st),_=_||g===nt}),_?o.setValue(e.value,!0):e.values.length&&o.setValue(e.values[0],!0);const{valueListGap:$,valueListMaxWidth:j,valueListMaxHeight:rt}=e;$!=null&&o.setPickerGap($),rt!=null&&o.setPickerMaxHeight(rt),j!=null&&o.setPickerMaxWidth(j),c.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},SimpleCellEditor=class extends PopupComponent{constructor(e){super(`
            <div class="ag-cell-edit-wrapper">
                ${e.getTemplate()}
            </div>`,e.getAgComponents()),this.cellEditorInput=e,this.eInput=RefPlaceholder}init(e){this.params=e;const{cellStartedEdit:o,eventKey:a,suppressPreventDefault:c}=e,d=this.eInput;this.cellEditorInput.init(d,e);let g,b=!0;o?(this.focusAfterAttached=!0,a===KeyCode.BACKSPACE||a===KeyCode.DELETE?g="":a&&a.length===1?c?b=!1:g=a:(g=this.cellEditorInput.getStartValue(),a!==KeyCode.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,g=this.cellEditorInput.getStartValue()),b&&g!=null&&d.setStartValue(g),this.addManagedElementListeners(d.getGui(),{keydown:_=>{const{key:$}=_;($===KeyCode.PAGE_UP||$===KeyCode.PAGE_DOWN)&&_.preventDefault()}})}afterGuiAttached(){var c,d;const e=this.localeService.getLocaleTextFunc(),o=this.eInput;if(o.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;_isBrowserSafari()||o.getFocusableElement().focus();const a=o.getInputElement();this.highlightAllOnFocus?a.select():(d=(c=this.cellEditorInput).setCaret)==null||d.call(c)}focusIn(){const e=this.eInput,o=e.getFocusableElement(),a=e.getInputElement();o.focus(),a.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},TextCellEditorInput=class{getTemplate(){return'<ag-input-text-field class="ag-cell-editor" data-ref="eInput"></ag-input-text-field>'}getAgComponents(){return[AgInputTextFieldSelector]}init(e,o){this.eInput=e,this.params=o,o.maxLength!=null&&e.setMaxLength(o.maxLength)}getValue(){const e=this.eInput.getValue();return!_exists(e)&&!_exists(this.params.value)?this.params.value:this.params.parseValue(e)}getStartValue(){return this.params.useFormatter||this.params.column.getColDef().refData?this.params.formatValue(this.params.value):this.params.value}setCaret(){const e=this.eInput.getValue(),o=_exists(e)&&e.length||0;o&&this.eInput.getInputElement().setSelectionRange(o,o)}},TextCellEditor=class extends SimpleCellEditor{constructor(){super(new TextCellEditorInput)}},NumberCellEditorInput=class{getTemplate(){return'<ag-input-number-field class="ag-cell-editor" data-ref="eInput"></ag-input-number-field>'}getAgComponents(){return[AgInputNumberFieldSelector]}init(e,o){this.eInput=e,this.params=o,o.max!=null&&e.setMax(o.max),o.min!=null&&e.setMin(o.min),o.precision!=null&&e.setPrecision(o.precision),o.step!=null&&e.setStep(o.step);const a=e.getInputElement();o.preventStepping?e.addManagedElementListeners(a,{keydown:this.preventStepping}):o.showStepperButtons&&a.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===KeyCode.UP||e.key===KeyCode.DOWN)&&e.preventDefault()}getValue(){const e=this.eInput.getValue();if(!_exists(e)&&!_exists(this.params.value))return this.params.value;let o=this.params.parseValue(e);if(o==null)return o;if(typeof o=="string"){if(o==="")return null;o=Number(o)}return isNaN(o)?null:o}getStartValue(){return this.params.value}setCaret(){_isBrowserSafari()&&this.eInput.getInputElement().focus({preventScroll:!0})}},NumberCellEditor=class extends SimpleCellEditor{constructor(){super(new NumberCellEditorInput)}},AgInputDateField=class extends AgInputTextField{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=_isBrowserSafari();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){_getActiveDomElement(this.gos)===this.eInput&&e.preventDefault()}setMin(e){const o=e instanceof Date?_serialiseDate(e??null,!1)??void 0:e;return this.min===o?this:(this.min=o,_addOrRemoveAttribute(this.eInput,"min",o),this)}setMax(e){const o=e instanceof Date?_serialiseDate(e??null,!1)??void 0:e;return this.max===o?this:(this.max=o,_addOrRemoveAttribute(this.eInput,"max",o),this)}setStep(e){return this.step===e?this:(this.step=e,_addOrRemoveAttribute(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return _parseDateTimeFromString(this.getValue())??void 0}setDate(e,o){this.setValue(_serialiseDate(e??null,!1),o)}},AgInputDateFieldSelector={selector:"AG-INPUT-DATE-FIELD",component:AgInputDateField},DateCellEditorInput=class{getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[AgInputDateFieldSelector]}init(e,o){this.eInput=e,this.params=o,o.min!=null&&e.setMin(o.min),o.max!=null&&e.setMax(o.max),o.step!=null&&e.setStep(o.step)}getValue(){const e=this.eInput.getDate();return!_exists(e)&&!_exists(this.params.value)?this.params.value:e??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return _serialiseDate(e,!1)}},DateCellEditor=class extends SimpleCellEditor{constructor(){super(new DateCellEditorInput)}},DateStringCellEditorInput=class{constructor(e){this.getDataTypeService=e}getTemplate(){return'<ag-input-date-field class="ag-cell-editor" data-ref="eInput"></ag-input-date-field>'}getAgComponents(){return[AgInputDateFieldSelector]}init(e,o){this.eInput=e,this.params=o,o.min!=null&&e.setMin(o.min),o.max!=null&&e.setMax(o.max),o.step!=null&&e.setStep(o.step)}getValue(){const e=this.formatDate(this.eInput.getDate());return!_exists(e)&&!_exists(this.params.value)?this.params.value:this.params.parseValue(e??"")}getStartValue(){return _serialiseDate(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const o=this.getDataTypeService();return o?o.getDateParserFunction(this.params.column)(e):_parseDateTimeFromString(e)??void 0}formatDate(e){const o=this.getDataTypeService();return o?o.getDateFormatterFunction(this.params.column)(e):_serialiseDate(e??null,!1)??void 0}},DateStringCellEditor=class extends SimpleCellEditor{wireBeans(e){this.dataTypeService=e.dataTypeService}constructor(){super(new DateStringCellEditorInput(()=>this.dataTypeService))}},CheckboxCellEditor=class extends PopupComponent{constructor(){super(`
            <div class="ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit">
                <ag-checkbox role="presentation" data-ref="eCheckbox"></ag-checkbox>
            </div>`,[AgCheckboxSelector]),this.eCheckbox=RefPlaceholder}init(e){this.params=e;const o=e.value??void 0;this.eCheckbox.setValue(o),this.eCheckbox.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(o),this.addManagedListeners(this.eCheckbox,{fieldValueChanged:c=>this.setAriaLabel(c.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const o=this.localeService.getLocaleTextFunc(),a=_getAriaCheckboxStateName(o,e),c=o("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${c} (${a})`)}},UndoRedoAction=class{constructor(e){this.cellValueChanges=e}},RangeUndoRedoAction=class extends UndoRedoAction{constructor(e,o,a,c){super(e),this.initialRange=o,this.finalRange=a,this.ranges=c}},DEFAULT_STACK_SIZE=10,UndoRedoStack=class{constructor(e){this.actionStack=[],this.maxStackSize=e||DEFAULT_STACK_SIZE,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},UndoRedoService=class extends BeanStub{constructor(){super(...arguments),this.beanName="undoRedoService",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const o={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},a=this.activeCellEdit!==null&&this.cellPositionUtils.equals(this.activeCellEdit,o),c=this.activeRowEdit!==null&&this.rowPositionUtils.sameRow(this.activeRowEdit,o);if(!(a||c||this.isPasting||this.isRangeInAction))return;const{rowPinned:g,rowIndex:b,column:_,oldValue:$,value:j}=e,rt={rowPinned:g,rowIndex:b,columnId:_.getColId(),newValue:j,oldValue:$};this.cellValueChanges.push(rt)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}wireBeans(e){this.focusService=e.focusService,this.ctrlsService=e.ctrlsService,this.cellPositionUtils=e.cellPositionUtils,this.rowPositionUtils=e.rowPositionUtils,this.columnModel=e.columnModel,this.rangeService=e.rangeService}postConstruct(){if(!this.gos.get("undoRedoCellEditing"))return;const e=this.gos.get("undoRedoCellEditingLimit");if(e<=0)return;this.undoStack=new UndoRedoStack(e),this.redoStack=new UndoRedoStack(e),this.addListeners();const o=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:a=>{a.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:o,newColumnsLoaded:o,columnGroupOpened:o,columnRowGroupChanged:o,columnMoved:o,columnPinned:o,columnVisible:o,rowDragEnd:o}),this.ctrlsService.whenReady(this,a=>{this.gridBodyCtrl=a.gridBodyCtrl})}getCurrentUndoStackSize(){return this.undoStack?this.undoStack.getCurrentStackSize():0}getCurrentRedoStackSize(){return this.redoStack?this.redoStack.getCurrentStackSize():0}undo(e){this.eventService.dispatchEvent({type:"undoStarted",source:e});const o=this.undoRedo(this.undoStack,this.redoStack,"initialRange","oldValue","undo");this.eventService.dispatchEvent({type:"undoEnded",source:e,operationPerformed:o})}redo(e){this.eventService.dispatchEvent({type:"redoStarted",source:e});const o=this.undoRedo(this.redoStack,this.undoStack,"finalRange","newValue","redo");this.eventService.dispatchEvent({type:"redoEnded",source:e,operationPerformed:o})}undoRedo(e,o,a,c,d){if(!e)return!1;const g=e.pop();return!g||!g.cellValueChanges?!1:(this.processAction(g,b=>b[c],d),g instanceof RangeUndoRedoAction?this.processRange(this.rangeService,g.ranges||[g[a]]):this.processCell(g.cellValueChanges),o.push(g),!0)}processAction(e,o,a){e.cellValueChanges.forEach(c=>{const{rowIndex:d,rowPinned:g,columnId:b}=c,_={rowIndex:d,rowPinned:g},$=this.rowPositionUtils.getRowNode(_);$.displayed&&$.setDataValue(b,o(c),a)})}processRange(e,o){let a;e.removeAllCellRanges(!0),o.forEach((c,d)=>{if(!c)return;const g=c.startRow,b=c.endRow;d===o.length-1&&(a={rowPinned:g.rowPinned,rowIndex:g.rowIndex,columnId:c.startColumn.getColId()},this.setLastFocusedCell(a));const _={rowStartIndex:g.rowIndex,rowStartPinned:g.rowPinned,rowEndIndex:b.rowIndex,rowEndPinned:b.rowPinned,columnStart:c.startColumn,columns:c.columns};e.addCellRange(_)})}processCell(e){const o=e[0],{rowIndex:a,rowPinned:c}=o,d={rowIndex:a,rowPinned:c},g=this.rowPositionUtils.getRowNode(d),b={rowPinned:o.rowPinned,rowIndex:g.rowIndex,columnId:o.columnId};this.setLastFocusedCell(b,this.rangeService)}setLastFocusedCell(e,o){const{rowIndex:a,columnId:c,rowPinned:d}=e,g=this.gridBodyCtrl.getScrollFeature(),b=this.columnModel.getCol(c);if(!b)return;g.ensureIndexVisible(a),g.ensureColumnVisible(b);const _={rowIndex:a,column:b,rowPinned:d};this.focusService.setFocusedCell({..._,forceBrowserFocus:!0}),o==null||o.setRangeToCell(_)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const a=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(a)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new UndoRedoAction(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const o=new RangeUndoRedoAction(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(o),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;this.rangeService&&_isCellSelectionEnabled(this.gos)?e=new RangeUndoRedoAction(this.cellValueChanges,void 0,void 0,[...this.rangeService.getCellRanges()]):e=new UndoRedoAction(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}};function getVerticalPixelRange(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition()}function getHorizontalPixelRange(e){return e.ctrlsService.getGridBodyCtrl().getScrollFeature().getHScrollPosition()}function ensureColumnVisible(e,o,a="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureColumnVisible(o,a),"ensureVisible")}function ensureIndexVisible(e,o,a){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureIndexVisible(o,a),"ensureVisible")}function ensureNodeVisible(e,o,a=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getGridBodyCtrl().getScrollFeature().ensureNodeVisible(o,a),"ensureVisible")}function undoCellEditing(e){var o;(o=e.undoRedoService)==null||o.undo("api")}function redoCellEditing(e){var o;(o=e.undoRedoService)==null||o.redo("api")}function getCellEditorInstances(e,o={}){return e.rowRenderer.getCellEditorInstances(o).map(_unwrapUserComp)}function getEditingCells(e){return e.rowRenderer.getEditingCells()}function stopEditing(e,o=!1){e.rowRenderer.stopEditing(o)}function startEditingCell(e,o){const a=e.columnModel.getCol(o.colKey);if(!a){_warnOnce(`no column found for ${o.colKey}`);return}const c={rowIndex:o.rowIndex,rowPinned:o.rowPinned||null,column:a};o.rowPinned==null&&ensureIndexVisible(e,o.rowIndex),ensureColumnVisible(e,o.colKey);const g=e.navigationService.getCellByPosition(c);if(!g)return;const{focusService:b,gos:_}=e,$=()=>{const rt=_getActiveDomElement(_),nt=g.getGui();return rt!==nt&&!!(nt!=null&&nt.contains(rt))},j=_.get("stopEditingWhenCellsLoseFocus")&&$();(j||!b.isCellFocused(c))&&b.setFocusedCell({...c,forceBrowserFocus:j,preventScrollOnBrowserFocus:!0}),g.startRowOrCellEdit(o.key)}function getCurrentUndoSize(e){var o;return((o=e.undoRedoService)==null?void 0:o.getCurrentUndoStackSize())??0}function getCurrentRedoSize(e){var o;return((o=e.undoRedoService)==null?void 0:o.getCurrentRedoStackSize())??0}var EditService=class extends BeanStub{constructor(){super(...arguments),this.beanName="editService"}wireBeans(e){this.navigationService=e.navigationService,this.userComponentFactory=e.userComponentFactory,this.valueService=e.valueService}startEditing(e,o=null,a=!1,c=null){var j;const d=this.createCellEditorParams(e,o,a),g=e.getColumn().getColDef(),b=this.userComponentFactory.getCellEditorDetails(g,d),_=(b==null?void 0:b.popupFromSelector)!=null?b.popupFromSelector:!!g.cellEditorPopup,$=(b==null?void 0:b.popupPositionFromSelector)!=null?b.popupPositionFromSelector:g.cellEditorPopupPosition;return e.setEditing(!0,b),e.getComp().setEditDetails(b,_,$,this.gos.get("reactiveCustomComponents")),this.eventService.dispatchEvent(e.createEvent(c,"cellEditingStarted")),!((j=b==null?void 0:b.params)!=null&&j.suppressPreventDefault)}stopEditing(e,o){const a=e.getComp(),{newValue:c,newValueExists:d}=this.takeValueFromCellEditor(o,a),g=e.getRowNode(),b=e.getColumn(),_=this.valueService.getValueForDisplay(b,g);let $=!1;return d&&($=this.saveNewValue(e,_,c,g,b)),e.setEditing(!1,void 0),a.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventService.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:_,newValue:c,valueChanged:$}),$}handleColDefChanged(e){const o=e.getCellEditor();if(o!=null&&o.refresh){const{eventKey:a,cellStartedEdit:c}=e.getEditCompDetails().params,d=this.createCellEditorParams(e,a,c),g=e.getColumn().getColDef(),b=this.userComponentFactory.getCellEditorDetails(g,d);o.refresh(b.params)}}setFocusOutOnEditor(e){const o=e.getComp().getCellEditor();o&&o.focusOut&&o.focusOut()}setFocusInOnEditor(e){const o=e.getComp(),a=o.getCellEditor();a!=null&&a.focusIn?a.focusIn():(e.focusCell(!0),e.onCellEditorAttached(()=>{var c,d;return(d=(c=o.getCellEditor())==null?void 0:c.focusIn)==null?void 0:d.call(c)}))}stopEditingAndFocus(e,o=!1,a=!1){e.stopRowOrCellEdit(),e.focusCell(!0),o||this.navigateAfterEdit(a,e.getCellPosition())}createPopupEditorWrapper(e){return new PopupEditorWrapper(e)}takeValueFromCellEditor(e,o){const a={newValueExists:!1};if(e)return a;const c=o.getCellEditor();return!c||c.isCancelAfterEnd&&c.isCancelAfterEnd()?a:{newValue:c.getValue(),newValueExists:!0}}saveNewValue(e,o,a,c,d){if(a===o)return!1;e.setSuppressRefreshCell(!0);const g=c.setDataValue(d,a,"edit");return e.setSuppressRefreshCell(!1),g}createCellEditorParams(e,o,a){const c=e.getColumn(),d=e.getRowNode();return this.gos.addGridCommonParams({value:this.valueService.getValueForDisplay(c,d),eventKey:o,column:c,colDef:c.getColDef(),rowIndex:e.getCellPosition().rowIndex,node:d,data:d.data,cellStartedEdit:a,onKeyDown:e.onKeyDown.bind(e),stopEditing:e.stopEditingAndFocus.bind(e),eGridCell:e.getGui(),parseValue:g=>this.valueService.parseValue(c,d,g,e.getValue()),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,o){if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const c=e?KeyCode.UP:KeyCode.DOWN;this.navigationService.navigateToNextCell(null,c,o,!1)}}},RowEditService=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowEditService"}startEditing(e,o=null,a=null,c=null){let d=!0;return e.getAllCellCtrls().reduce((b,_)=>{const $=_===a;return $?d=_.startEditing(o,$,c):_.startEditing(null,$,c),b?!0:_.isEditing()},!1)&&this.setEditing(e,!0),d}stopEditing(e,o=!1){const a=e.getAllCellCtrls(),c=e.isEditing();e.setStoppingRowEdit(!0);let d=!1;for(const g of a){const b=g.stopEditing(o);c&&!o&&!d&&b&&(d=!0)}d&&this.eventService.dispatchEvent(e.createRowEvent("rowValueChanged")),c&&this.setEditing(e,!1),e.setStoppingRowEdit(!1)}setEditing(e,o){e.setEditingRow(o),e.forEachGui(void 0,c=>c.rowComp.addOrRemoveCssClass("ag-row-editing",o));const a=o?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventService.dispatchEvent(a)}},EditCoreModule={version:VERSION,moduleName:"@ag-grid-community/edit-core",beans:[EditService]},EditApiModule={version:VERSION,moduleName:"@ag-grid-community/edit-api",apiFunctions:{undoCellEditing,redoCellEditing,getCellEditorInstances,getEditingCells,stopEditing,startEditingCell,getCurrentUndoSize,getCurrentRedoSize},dependantModules:[EditCoreModule]},UndoRedoEditModule={version:VERSION,moduleName:"@ag-grid-community/undo-redo-edit",beans:[UndoRedoService],dependantModules:[EditCoreModule]},FullRowEditModule={version:VERSION,moduleName:"@ag-grid-community/full-row-edit",beans:[RowEditService],dependantModules:[EditCoreModule]},DefaultEditorModule={version:VERSION,moduleName:"@ag-grid-community/default-editor",userComponents:[{name:"agCellEditor",classImp:TextCellEditor}],dependantModules:[EditCoreModule]},DataTypeEditorsModule={version:VERSION,moduleName:"@ag-grid-community/data-type-editors",userComponents:[{name:"agTextCellEditor",classImp:TextCellEditor},{name:"agNumberCellEditor",classImp:NumberCellEditor,params:{suppressPreventDefault:!0}},{name:"agDateCellEditor",classImp:DateCellEditor},{name:"agDateStringCellEditor",classImp:DateStringCellEditor},{name:"agCheckboxCellEditor",classImp:CheckboxCellEditor}],dependantModules:[DefaultEditorModule]},SelectEditorModule={version:VERSION,moduleName:"@ag-grid-community/select-editor",userComponents:[{name:"agSelectCellEditor",classImp:SelectCellEditor}],dependantModules:[EditCoreModule]},LargeTextEditorModule={version:VERSION,moduleName:"@ag-grid-community/large-text-editor",userComponents:[{name:"agLargeTextCellEditor",classImp:LargeTextCellEditor}],dependantModules:[EditCoreModule]},AllCommunityEditorsModule={version:VERSION,moduleName:"@ag-grid-community/all-editors",dependantModules:[DefaultEditorModule,DataTypeEditorsModule,SelectEditorModule,LargeTextEditorModule]},EditModule={version:VERSION,moduleName:"@ag-grid-community/editing",dependantModules:[EditCoreModule,UndoRedoEditModule,FullRowEditModule,AllCommunityEditorsModule,EditApiModule]},AutoWidthCalculator=class extends BeanStub{constructor(){super(...arguments),this.beanName="autoWidthCalculator"}wireBeans(e){this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,o){const a=this.getHeaderCellForColumn(e);if(!a)return-1;const c=this.rowRenderer.getAllCellsForColumn(e);return o||c.push(a),this.addElementsToContainerAndGetWidth(c)}getPreferredWidthForColumnGroup(e){const o=this.getHeaderCellForColumn(e);return o?this.addElementsToContainerAndGetWidth([o]):-1}addElementsToContainerAndGetWidth(e){const o=document.createElement("form");o.style.position="fixed";const a=this.centerRowContainerCtrl.getContainerElement();e.forEach(g=>this.cloneItemIntoDummy(g,o)),a.appendChild(o);const c=o.offsetWidth;a.removeChild(o);const d=this.getAutoSizePadding();return c+d}getAutoSizePadding(){return this.gos.get("autoSizePadding")}getHeaderCellForColumn(e){let o=null;return this.ctrlsService.getHeaderRowContainerCtrls().forEach(a=>{const c=a.getHtmlElementForColumnHeader(e);c!=null&&(o=c)}),o}cloneItemIntoDummy(e,o){const a=e.cloneNode(!0);a.style.width="",a.style.position="static",a.style.left="";const c=document.createElement("div"),d=c.classList;["ag-header-cell","ag-header-group-cell"].some(_=>a.classList.contains(_))?(d.add("ag-header","ag-header-row"),c.style.position="static"):d.add("ag-row");let b=e.parentElement;for(;b;){if(["ag-header-row","ag-row"].some($=>b.classList.contains($))){for(let $=0;$<b.classList.length;$++){const j=b.classList[$];j!="ag-row-position-absolute"&&d.add(j)}break}b=b.parentElement}c.appendChild(a),o.appendChild(c)}},StickyRowFeature=class extends BeanStub{constructor(e,o){super(),this.createRowCon=e,this.destroyRowCtrls=o,this.stickyTopRowCtrls=[],this.stickyBottomRowCtrls=[],this.extraTopHeight=0,this.extraBottomHeight=0}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.ctrlsService=e.ctrlsService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.isClientSide=_isClientSideRowModel(this.gos),this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl}),this.resetStickyContainers()}getStickyTopRowCtrls(){return this.stickyTopRowCtrls}getStickyBottomRowCtrls(){return this.stickyBottomRowCtrls}setOffsetTop(e){this.extraTopHeight!==e&&(this.extraTopHeight=e,this.eventService.dispatchEvent({type:"stickyTopOffsetChanged",offset:e}))}setOffsetBottom(e){this.extraBottomHeight!==e&&(this.extraBottomHeight=e)}resetOffsets(){this.setOffsetBottom(0),this.setOffsetTop(0)}getExtraTopHeight(){return this.extraTopHeight}getExtraBottomHeight(){return this.extraBottomHeight}getLastPixelOfGroup(e){return this.isClientSide?this.getClientSideLastPixelOfGroup(e):this.getServerSideLastPixelOfGroup(e)}getFirstPixelOfGroup(e){return e.footer?e.sibling.rowTop+e.sibling.rowHeight-1:e.hasChildren()?e.rowTop-1:0}getServerSideLastPixelOfGroup(e){var o,a;if(this.isClientSide)throw new Error("This func should only be called in server side row model.");if(e.isExpandable()||e.footer){if(e.master)return e.detailNode.rowTop+e.detailNode.rowHeight;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let d=(o=e.childStore)==null?void 0:o.getStoreBounds();return e.footer&&(d=(a=e.sibling.childStore)==null?void 0:a.getStoreBounds()),((d==null?void 0:d.heightPx)??0)+((d==null?void 0:d.topPx)??0)}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}getClientSideLastPixelOfGroup(e){if(!this.isClientSide)throw new Error("This func should only be called in client side row model.");if(e.isExpandable()||e.footer){if(e.footer&&e.rowIndex===0)return Number.MAX_SAFE_INTEGER;if(!e.sibling||Math.abs(e.sibling.rowIndex-e.rowIndex)===1){let c=e.footer?e.sibling:e;for(;c.isExpandable()&&c.expanded;)if(c.master)c=c.detailNode;else if(c.childrenAfterSort){if(c.childrenAfterSort.length===0)break;c=_last(c.childrenAfterSort)}return c.rowTop+c.rowHeight}return e.footer?e.rowTop+e.rowHeight:e.sibling.rowTop+e.sibling.rowHeight}return Number.MAX_SAFE_INTEGER}updateStickyRows(e){const o=e==="top";let a=0;if(!this.canRowsBeSticky())return this.refreshNodesAndContainerHeight(e,new Set,a);const c=o?this.rowRenderer.getFirstVisibleVerticalPixel()-this.extraTopHeight:this.rowRenderer.getLastVisibleVerticalPixel()-this.extraTopHeight,d=new Set,g=j=>{if(d.add(j),o){const rt=this.getLastPixelOfGroup(j),nt=c+a+j.rowHeight;rt<nt?j.stickyRowTop=a+(rt-nt):j.stickyRowTop=a}else{const rt=this.getFirstPixelOfGroup(j),nt=c-(a+j.rowHeight);rt>nt?j.stickyRowTop=a-(rt-nt):j.stickyRowTop=a}a=0,d.forEach(rt=>{const nt=rt.stickyRowTop+rt.rowHeight;a<nt&&(a=nt)})},b=this.areFooterRowsStickySuppressed(),_=this.gos.get("suppressGroupRowsSticky"),$=j=>{if(!j.displayed)return!1;if(j.footer){if(b===!0||b==="grand"&&j.level===-1||b==="group"&&j.level>-1)return!1;const rt=j.sibling.rowIndex?j.sibling.rowIndex+1===j.rowIndex:!1;return e==="bottom"&&rt?!1:!d.has(j)}return j.isExpandable()?_===!0||e==="bottom"?!1:!d.has(j)&&j.expanded:!1};for(let j=0;j<100;j++){let rt=c+a;o||(rt=c-a);const nt=this.rowModel.getRowIndexAtPixel(rt),st=this.rowModel.getRow(nt);if(st==null)break;const wl=this.getStickyAncestors(st).find(it=>(o?it.rowIndex<nt:it.rowIndex>nt)&&$(it));if(wl){g(wl);continue}if((o?st.rowTop<rt:st.rowTop+st.rowHeight>rt)&&$(st)){g(st);continue}break}return o||d.forEach(j=>{j.stickyRowTop=a-(j.stickyRowTop+j.rowHeight)}),this.refreshNodesAndContainerHeight(e,d,a)}areFooterRowsStickySuppressed(){const e=this.gos.get("suppressStickyTotalRow");if(e===!0)return!0;const o=!!this.gos.get("groupIncludeFooter")||e==="group",a=!!this.gos.get("groupIncludeTotalFooter")||e==="grand";return o&&a?!0:a?"grand":o?"group":!1}canRowsBeSticky(){const e=_isGroupRowsSticky(this.gos),o=this.areFooterRowsStickySuppressed(),a=this.gos.get("suppressGroupRowsSticky");return e&&(!o||!a)}getStickyAncestors(e){const o=[];let a=e.footer?e.sibling:e.parent;for(;a;)a.sibling&&o.push(a.sibling),o.push(a),a=a.parent;return o.reverse()}checkStickyRows(){const e=this.updateStickyRows("top"),o=this.updateStickyRows("bottom");return e||o}destroyStickyCtrls(){this.resetStickyContainers()}resetStickyContainers(){this.refreshNodesAndContainerHeight("top",new Set,0),this.refreshNodesAndContainerHeight("bottom",new Set,0)}refreshStickyNode(e){const o=new Set;if(this.stickyTopRowCtrls.some(a=>a.getRowNode()===e)){for(let a=0;a<this.stickyTopRowCtrls.length;a++){const c=this.stickyTopRowCtrls[a].getRowNode();c!==e&&o.add(c)}this.refreshNodesAndContainerHeight("top",o,this.topContainerHeight)&&this.checkStickyRows();return}for(let a=0;a<this.stickyBottomRowCtrls.length;a++){const c=this.stickyBottomRowCtrls[a].getRowNode();c!==e&&o.add(c)}this.refreshNodesAndContainerHeight("bottom",o,this.bottomContainerHeight)&&this.checkStickyRows()}refreshNodesAndContainerHeight(e,o,a){const c=e==="top",d=c?this.stickyTopRowCtrls:this.stickyBottomRowCtrls,g={},b=[];for(let st=0;st<d.length;st++){const jt=d[st].getRowNode();if(!o.has(jt)){g[jt.id]=d[st],jt.sticky=!1;continue}b.push(d[st])}const _=new Set;for(let st=0;st<b.length;st++)_.add(b[st].getRowNode());const $=[];o.forEach(st=>{_.has(st)||(st.sticky=!0,$.push(this.createRowCon(st,!1,!1)))});let j=!!$.length||b.length!==d.length;c?this.topContainerHeight!==a&&(this.topContainerHeight=a,this.gridBodyCtrl.setStickyTopHeight(a),j=!0):this.bottomContainerHeight!==a&&(this.bottomContainerHeight=a,this.gridBodyCtrl.setStickyBottomHeight(a),j=!0),this.destroyRowCtrls(g,!1);const rt=[...b,...$];rt.sort((st,jt)=>jt.getRowNode().rowIndex-st.getRowNode().rowIndex),c||rt.reverse(),rt.forEach(st=>st.setRowTop(st.getRowNode().stickyRowTop));let nt=0;return c?(o.forEach(st=>{st.rowIndex<this.pageBoundsService.getFirstRow()&&(nt+=st.rowHeight)}),nt>this.topContainerHeight&&(nt=this.topContainerHeight),this.setOffsetTop(nt)):(o.forEach(st=>{st.rowIndex>this.pageBoundsService.getLastRow()&&(nt+=st.rowHeight)}),nt>this.bottomContainerHeight&&(nt=this.bottomContainerHeight),this.setOffsetBottom(nt)),j?(c?this.stickyTopRowCtrls=rt:this.stickyBottomRowCtrls=rt,!0):!1}ensureRowHeightsValid(){let e=!1;const o=a=>{const c=a.getRowNode();if(c.rowHeightEstimated){const d=_getRowHeightForNode(this.gos,c);c.setRowHeight(d.height),e=!0}};return this.stickyTopRowCtrls.forEach(o),this.stickyBottomRowCtrls.forEach(o),e}},RowRenderer=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(g=>g.onCellSelectionChanged())},o=()=>{this.getAllCellCtrls().forEach(g=>g.updateRangeBordersIfRangeCount())},a=()=>{this.eventService.addEventListener("cellSelectionChanged",e),this.eventService.addEventListener("columnMoved",o),this.eventService.addEventListener("columnPinned",o),this.eventService.addEventListener("columnVisible",o)},c=()=>{this.eventService.removeEventListener("cellSelectionChanged",e),this.eventService.removeEventListener("columnMoved",o),this.eventService.removeEventListener("columnPinned",o),this.eventService.removeEventListener("columnVisible",o)};this.addDestroyFunc(()=>c()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{_isCellSelectionEnabled(this.gos)?a():c()}),_isCellSelectionEnabled(this.gos)&&a()}}wireBeans(e){this.animationFrameService=e.animationFrameService,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusService=e.focusService,this.beans=e,this.rowContainerHeightService=e.rowContainerHeightService,this.ctrlsService=e.ctrlsService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",e=>this.onSuppressCellFocusChanged(e.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection","rowSelection"],()=>this.redrawRows()),_isGroupRowsSticky(this.gos)&&(_isClientSideRowModel(this.gos)||_isServerSideRowModel(this.gos))&&(this.stickyRowFeature=this.createManagedBean(new StickyRowFeature(this.createRowCon.bind(this),this.destroyRowCtrls.bind(this)))),this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=_isDomLayout(this.gos,"print"),this.embedFullWidthRows=this.printLayout||this.gos.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),o=e??3;this.cachedRowCtrls=new RowCtrlCache(o)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyTopRowCtrls():[]}getStickyBottomRowCtrls(){return this.stickyRowFeature?this.stickyRowFeature.getStickyBottomRowCtrls():[]}updateAllRowCtrls(){const e=_getAllValuesInObject(this.rowCtrlsByRowIndex),o=_getAllValuesInObject(this.zombieRowCtrls),a=this.cachedRowCtrls?this.cachedRowCtrls.getEntries():[];o.length>0||a.length>0?this.allRowCtrls=[...e,...o,...a]:this.allRowCtrls=e}onCellFocusChanged(e){this.getAllCellCtrls().forEach(o=>o.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(o=>o.onFullWidthRowFocused(e))}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(o=>o.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(o=>o.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>{this.onCellFocusChanged(e)},cellFocusCleared:()=>this.onCellFocusChanged(),flashCells:e=>{this.getAllCellCtrls().forEach(o=>o.onFlashCells(e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.columnModel.getCols().forEach(o=>{const a=$=>{this.getAllCellCtrls().forEach(j=>{j.getColumn()===o&&$(j)})},c=()=>{a($=>$.onLeftChanged())},d=()=>{a($=>$.onWidthChanged())},g=()=>{a($=>$.onFirstRightPinnedChanged())},b=()=>{a($=>$.onLastLeftPinnedChanged())},_=()=>{a($=>$.onColDefChanged())};o.addEventListener("leftChanged",c),o.addEventListener("widthChanged",d),o.addEventListener("firstRightPinnedChanged",g),o.addEventListener("lastLeftPinnedChanged",b),o.addEventListener("colDefChanged",_),this.destroyFuncsForColumnListeners.push(()=>{o.removeEventListener("leftChanged",c),o.removeEventListener("widthChanged",d),o.removeEventListener("firstRightPinnedChanged",g),o.removeEventListener("lastLeftPinnedChanged",b),o.removeEventListener("colDefChanged",_)})})}onDomLayoutChanged(){const e=_isDomLayout(this.gos,"print"),o=e||this.gos.get("embedFullWidthRows"),a=o!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=o,a&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const o={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(o)}getAllCellsForColumn(e){const o=[];return this.getAllRowCtrls().forEach(a=>{const c=a.getCellElement(e);c&&o.push(c)}),o}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}getTopRowCtrls(){return this.topRowCtrls}getCentreRowCtrls(){return this.allRowCtrls}getBottomRowCtrls(){return this.bottomRowCtrls}refreshFloatingRows(e,o){const{pinnedRowModel:a,beans:c,printLayout:d}=this,g=Object.fromEntries(e.map(_=>[_.getRowNode().id,_]));a.forEachPinnedRow(o,(_,$)=>{const j=e[$];j&&a.getPinnedRowById(j.getRowNode().id,o)===void 0&&(j.destroyFirstPass(),j.destroySecondPass()),_.id in g?(e[$]=g[_.id],delete g[_.id]):e[$]=new RowCtrl(_,c,!1,!1,d)});const b=o==="top"?a.getPinnedTopRowCount():a.getPinnedBottomRowCount();e.length=b}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,o=!1){var a;if(e.sticky)this.stickyRowFeature.refreshStickyNode(e);else if((a=this.cachedRowCtrls)!=null&&a.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const c=d=>{const g=d[e.rowIndex];g&&g.getRowNode()===e&&(g.destroyFirstPass(),g.destroySecondPass(),d[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":c(this.topRowCtrls);break;case"bottom":c(this.bottomRowCtrls);break;default:c(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}o||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(a=>this.redrawRow(a,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}getCellToRestoreFocusToAfterRefresh(e){const o=e!=null&&e.suppressKeepFocus?null:this.focusService.getFocusCellToUseAfterRefresh();if(o==null)return null;const a=_getActiveDomElement(this.gos),c=_getDomData(this.gos,a,CellCtrl.DOM_DATA_KEY_CELL_CTRL),d=_getDomData(this.gos,a,RowCtrl.DOM_DATA_KEY_ROW_CTRL);return c||d?o:null}redrawAfterModelUpdate(e={}){this.getLockOnRefresh();const o=this.getCellToRestoreFocusToAfterRefresh(e);this.updateContainerHeights(),this.scrollToTopIfNewData(e);const a=!e.domLayoutChanged&&!!e.recycleRows,c=e.animate&&_isAnimateRows(this.gos),d=a?this.getRowsToRecycle():null;if(a||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender(),this.stickyRowFeature){this.stickyRowFeature.checkStickyRows();const g=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();g&&this.updateContainerHeights(g)}this.recycleRows(d,c),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),o!=null&&this.restoreFocusedCell(o),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var c;const o=e.newData||e.newPage,a=this.gos.get("suppressScrollOnNewData");o&&!a&&(this.gridBodyCtrl.getScrollFeature().scrollToTop(),(c=this.stickyRowFeature)==null||c.resetOffsets())}updateContainerHeights(e=0){if(this.printLayout){this.rowContainerHeightService.setModelHeight(null);return}let o=this.pageBoundsService.getCurrentPageHeight();o===0&&(o=1),this.rowContainerHeightService.setModelHeight(o+e)}getLockOnRefresh(){var e,o;if(this.refreshInProgress)throw new Error("AG Grid: cannot get grid to draw rows when it is in the middle of drawing rows. Your code probably called a grid API method while the grid was in the render stage. To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). To see what part of your code that caused the refresh check this stacktrace.");this.refreshInProgress=!0,(o=(e=this.frameworkOverrides).getLockOnRefresh)==null||o.call(e)}releaseLockOnRefresh(){var e,o;this.refreshInProgress=!1,(o=(e=this.frameworkOverrides).releaseLockOnRefresh)==null||o.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){e&&this.focusService.restoreFocusedCell(e,()=>{this.onCellFocusChanged(this.gos.addGridCommonParams({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))})}stopEditing(e=!1){this.getAllRowCtrls().forEach(o=>{o.stopEditing(e)})}getAllCellCtrls(){const e=[],o=this.getAllRowCtrls(),a=o.length;for(let c=0;c<a;c++){const d=o[c].getAllCellCtrls(),g=d.length;for(let b=0;b<g;b++)e.push(d[b])}return e}getAllRowCtrls(){const e=this.stickyRowFeature&&this.stickyRowFeature.getStickyTopRowCtrls()||[],o=this.stickyRowFeature&&this.stickyRowFeature.getStickyBottomRowCtrls()||[],a=[...this.topRowCtrls,...this.bottomRowCtrls,...e,...o];for(const c in this.rowCtrlsByRowIndex)a.push(this.rowCtrlsByRowIndex[c]);return a}addRenderedRowListener(e,o,a){const c=this.rowCtrlsByRowIndex[o];c&&c.addEventListener(e,a)}flashCells(e={}){this.getCellCtrls(e.rowNodes,e.columns).forEach(o=>o.flashCell(e))}refreshCells(e={}){const o={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const a of this.getCellCtrls(e.rowNodes,e.columns))a.refreshOrDestroyCell(o);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let o=null;this.stickyRowFeature&&_browserSupportsPreventScroll()&&(o=this.getCellToRestoreFocusToAfterRefresh()||null);for(const a of this.getRowCtrls(e)){if(!a.isFullWidth())continue;a.refreshFullWidth()||this.redrawRow(a.getRowNode(),!0)}this.dispatchDisplayedRowsChanged(!1),o&&this.restoreFocusedCell(o)}getCellRendererInstances(e){var d;const o=this.getCellCtrls(e.rowNodes,e.columns).map(g=>g.getCellRenderer()).filter(g=>g!=null);if((d=e.columns)!=null&&d.length)return o;const a=[],c=this.mapRowNodes(e.rowNodes);return this.getAllRowCtrls().forEach(g=>{if(c&&!this.isRowInMap(g.getRowNode(),c)||!g.isFullWidth())return;const b=g.getFullWidthCellRenderers();for(let _=0;_<b.length;_++){const $=b[_];$!=null&&a.push($)}}),[...a,...o]}getCellEditorInstances(e){const o=[];return this.getCellCtrls(e.rowNodes,e.columns).forEach(a=>{const c=a.getCellEditor();c&&o.push(c)}),o}getEditingCells(){const e=[];return this.getAllCellCtrls().forEach(o=>{if(o.isEditing()){const a=o.getCellPosition();e.push(a)}}),e}mapRowNodes(e){if(!e)return;const o={top:{},bottom:{},normal:{}};return e.forEach(a=>{const c=a.id;switch(a.rowPinned){case"top":o.top[c]=a;break;case"bottom":o.bottom[c]=a;break;default:o.normal[c]=a;break}}),o}isRowInMap(e,o){const a=e.id;switch(e.rowPinned){case"top":return o.top[a]!=null;case"bottom":return o.bottom[a]!=null;default:return o.normal[a]!=null}}getRowCtrls(e){const o=this.mapRowNodes(e),a=this.getAllRowCtrls();return!e||!o?a:a.filter(c=>{const d=c.getRowNode();return this.isRowInMap(d,o)})}getCellCtrls(e,o){let a;_exists(o)&&(a={},o.forEach(d=>{const g=this.columnModel.getCol(d);_exists(g)&&(a[g.getId()]=!0)}));const c=[];return this.getRowCtrls(e).forEach(d=>{d.getAllCellCtrls().forEach(g=>{const b=g.getColumn().getId();a&&!a[b]||c.push(g)})}),c}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){const o=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(o,e),this.stickyRowFeature&&this.stickyRowFeature.destroyStickyCtrls()}getRowsToRecycle(){const e=[];_iterateObject(this.rowCtrlsByRowIndex,(a,c)=>{c.getRowNode().id==null&&e.push(a)}),this.removeRowCtrls(e);const o={};return _iterateObject(this.rowCtrlsByRowIndex,(a,c)=>{const d=c.getRowNode();o[d.id]=c}),this.rowCtrlsByRowIndex={},o}removeRowCtrls(e,o=!1){e.forEach(a=>{const c=this.rowCtrlsByRowIndex[a];c&&(c.destroyFirstPass(o),c.destroySecondPass()),delete this.rowCtrlsByRowIndex[a]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{afterScroll:o}=e;let a;this.stickyRowFeature&&_browserSupportsPreventScroll()&&(a=this.getCellToRestoreFocusToAfterRefresh()||void 0);const c=this.firstRenderedRow,d=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let g=!1;if(this.stickyRowFeature){g=this.stickyRowFeature.checkStickyRows();const _=this.stickyRowFeature.getExtraTopHeight()+this.stickyRowFeature.getExtraBottomHeight();_&&this.updateContainerHeights(_)}const b=this.firstRenderedRow!==c||this.lastRenderedRow!==d;if(!(o&&!g&&!b)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,o),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(o&&!g),a!=null)){const _=this.getCellToRestoreFocusToAfterRefresh();a!=null&&_==null&&(this.animationFrameService.flushAllFrames(),this.restoreFocusedCell(a))}}removeRowCompsNotToDraw(e,o){const a={};e.forEach(g=>a[g]=!0);const d=Object.keys(this.rowCtrlsByRowIndex).filter(g=>!a[g]);this.removeRowCtrls(d,o)}calculateIndexesToDraw(e){const o=_createArrayOfNumbers(this.firstRenderedRow,this.lastRenderedRow),a=(d,g)=>{const b=g.getRowNode().rowIndex;b!=null&&(b<this.firstRenderedRow||b>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(g)&&o.push(b)};_iterateObject(this.rowCtrlsByRowIndex,a),_iterateObject(e,a),o.sort((d,g)=>d-g);const c=[];for(let d=0;d<o.length;d++){const g=o[d],b=this.rowModel.getRow(g);b&&!b.sticky&&c.push(g)}return c}recycleRows(e,o=!1,a=!1){const c=this.calculateIndexesToDraw(e);(this.printLayout||a)&&(o=!1),this.removeRowCompsNotToDraw(c,!o),c.forEach(d=>{this.createOrUpdateRowCtrl(d,e,o,a)}),e&&(a&&!this.gos.get("suppressAnimationFrame")&&!this.printLayout?this.beans.animationFrameService.addDestroyTask(()=>{this.destroyRowCtrls(e,o),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,o)),this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventService.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const e=this.visibleColsService.isPinningLeft(),o=this.visibleColsService.isPinningRight();(this.pinningLeft!==e||o!==this.pinningRight)&&(this.pinningLeft=e,this.pinningRight=o,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(o=>{const a=o.getRowNode().rowIndex;e.push(a.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const o=this.mapRowNodes(e);return this.getAllRowCtrls().filter(a=>{if(!a.isFullWidth())return!1;const c=a.getRowNode();return!(o!=null&&!this.isRowInMap(c,o))})}createOrUpdateRowCtrl(e,o,a,c){let d,g=this.rowCtrlsByRowIndex[e];if(g||(d=this.rowModel.getRow(e),_exists(d)&&_exists(o)&&o[d.id]&&d.alreadyRendered&&(g=o[d.id],o[d.id]=null)),!g)if(d||(d=this.rowModel.getRow(e)),_exists(d))g=this.createRowCon(d,a,c);else return;return d&&(d.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=g,g}destroyRowCtrls(e,o){const a=[];_iterateObject(e,(c,d)=>{if(d){if(this.cachedRowCtrls&&d.isCacheable()){this.cachedRowCtrls.addRow(d);return}if(d.destroyFirstPass(!o),o){const g=d.instanceId;this.zombieRowCtrls[g]=d,a.push(()=>{d.destroySecondPass(),delete this.zombieRowCtrls[g]})}else d.destroySecondPass()}}),o&&(a.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),_executeInAWhile(a))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),o=_getRowHeightAsNumber(this.gos);return e*o}workOutFirstAndLastRowsToRender(){this.rowContainerHeightService.updateOffset();let e,o;if(!this.rowModel.isRowsToRender())e=0,o=-1;else if(this.printLayout)this.environment.refreshRowHeightVariable(),e=this.pageBoundsService.getFirstRow(),o=this.pageBoundsService.getLastRow();else{const _=this.getRowBufferInPixels(),$=this.ctrlsService.getGridBodyCtrl(),j=this.gos.get("suppressRowVirtualisation");let rt=!1,nt,st;do{const ot=this.pageBoundsService.getPixelOffset(),{pageFirstPixel:Ln,pageLastPixel:Cl}=this.pageBoundsService.getCurrentPagePixelRange(),Tl=this.rowContainerHeightService.getDivStretchOffset(),zl=$.getScrollFeature().getVScrollPosition(),In=zl.top,Ml=zl.bottom;j?(nt=Ln+Tl,st=Cl+Tl):(nt=Math.max(In+ot-_,Ln)+Tl,st=Math.min(Ml+ot+_,Cl)+Tl),this.firstVisibleVPixel=Math.max(In+ot,Ln)+Tl,this.lastVisibleVPixel=Math.min(Ml+ot,Cl)+Tl,rt=this.ensureAllRowsInRangeHaveHeightsCalculated(nt,st)}while(rt);let jt=this.rowModel.getRowIndexAtPixel(nt),wl=this.rowModel.getRowIndexAtPixel(st);const Ft=this.pageBoundsService.getFirstRow(),it=this.pageBoundsService.getLastRow();jt<Ft&&(jt=Ft),wl>it&&(wl=it),e=jt,o=wl}const a=_isDomLayout(this.gos,"normal"),c=this.gos.get("suppressMaxRenderedRowRestriction"),d=Math.max(this.getRowBuffer(),500);a&&!c&&o-e>d&&(o=e+d);const g=e!==this.firstRenderedRow,b=o!==this.lastRenderedRow;(g||b)&&(this.firstRenderedRow=e,this.lastRenderedRow=o,this.eventService.dispatchEvent({type:"viewportChanged",firstRow:e,lastRow:o}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,window.requestAnimationFrame(()=>{this.beans.eventService.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,o){var g,b;const a=(g=this.pinnedRowModel)==null?void 0:g.ensureRowHeightsValid(),c=(b=this.stickyRowFeature)==null?void 0:b.ensureRowHeightsValid(),d=this.rowModel.ensureRowHeightsValid(e,o,this.pageBoundsService.getFirstRow(),this.pageBoundsService.getLastRow());return(d||c)&&this.eventService.dispatchEvent({type:"recalculateRowBounds"}),c||d||a?(this.updateContainerHeights(),!0):!1}getFirstVisibleVerticalPixel(){return this.firstVisibleVPixel}getLastVisibleVerticalPixel(){return this.lastVisibleVPixel}getFirstVirtualRenderedRow(){return this.firstRenderedRow}getLastVirtualRenderedRow(){return this.lastRenderedRow}doNotUnVirtualiseRow(e){const c=e.getRowNode(),d=this.focusService.isRowNodeFocused(c),g=e.isEditing(),b=c.detail;return d||g||b?!!this.isRowPresent(c):!1}isRowPresent(e){return this.rowModel.isRowPresent(e)?this.paginationService?this.paginationService.isRowPresent(e):!0:!1}createRowCon(e,o,a){const c=this.cachedRowCtrls?this.cachedRowCtrls.getRow(e):null;if(c)return c;const d=this.gos.get("suppressAnimationFrame"),g=a&&!d&&!this.printLayout;return new RowCtrl(e,this.beans,o,g,this.printLayout)}getRenderedNodes(){const e=this.rowCtrlsByRowIndex;return Object.values(e).map(o=>o.getRowNode())}getRowByPosition(e){let o;const{rowIndex:a}=e;switch(e.rowPinned){case"top":o=this.topRowCtrls[a];break;case"bottom":o=this.bottomRowCtrls[a];break;default:o=this.rowCtrlsByRowIndex[a],o||(o=this.getStickyTopRowCtrls().find(c=>c.getRowNode().rowIndex===a)||null,o||(o=this.getStickyBottomRowCtrls().find(c=>c.getRowNode().rowIndex===a)||null));break}return o}isRangeInRenderedViewport(e,o){if(e==null||o==null)return!1;const c=e>this.lastRenderedRow;return!(o<this.firstRenderedRow)&&!c}},RowCtrlCache=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.getRowNode().id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const o=this.entriesList[0];o.destroyFirstPass(),o.destroySecondPass(),this.removeFromCache(o)}}getRow(e){if(e==null||e.id==null)return null;const o=this.entriesMap[e.id];return o?(this.removeFromCache(o),o.setCached(!1),o.getRowNode()!=e?null:o):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const o=e.id,a=this.entriesMap[o];delete this.entriesMap[o],_removeFromArray(this.entriesList,a)}removeFromCache(e){const o=e.getRowNode().id;delete this.entriesMap[o],_removeFromArray(this.entriesList,e)}getEntries(){return this.entriesList}},PinnedRowModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows=new OrderedCache,this.pinnedBottomRows=new OrderedCache}wireBeans(e){this.beans=e}postConstruct(){this.setPinnedRowData(this.gos.get("pinnedTopRowData"),"top"),this.setPinnedRowData(this.gos.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",e=>this.setPinnedRowData(e.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",e=>this.setPinnedRowData(e.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return(e==="top"?this.pinnedTopRows:this.pinnedBottomRows).isEmpty()}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const o=a=>{a.setRowHeight(a.rowHeight,!0)};this.pinnedBottomRows.forEach(o),this.pinnedTopRows.forEach(o)}}ensureRowHeightsValid(){var c,d;let e=!1,o=0;const a=g=>{if(g.rowHeightEstimated){const b=_getRowHeightForNode(this.gos,g);g.setRowTop(o),g.setRowHeight(b.height),o+=b.height,e=!0}};return(c=this.pinnedBottomRows)==null||c.forEach(a),o=0,(d=this.pinnedTopRows)==null||d.forEach(a),this.eventService.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,o){this.updateNodesFromRowData(e,o),this.eventService.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,o){const a=o==="top"?this.pinnedTopRows:this.pinnedBottomRows;if(e===void 0){a.clear();return}const c=_getRowIdCallback(this.gos),d=o==="top"?RowNode.ID_PREFIX_TOP_PINNED:RowNode.ID_PREFIX_BOTTOM_PINNED,g=a.getIds(),b=[],_=new Set;let $=0,j=-1;for(const rt of e){const nt=(c==null?void 0:c({data:rt,level:0,rowPinned:o}))??d+this.nextId++;if(_.has(nt)){_warnOnce("Duplicate ID",nt,"found for pinned row with data",rt,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter.");continue}j++,_.add(nt),b.push(nt);const st=a.getById(nt);if(st!==void 0)st.data!==rt&&st.setData(rt),$+=this.setRowTopAndRowIndex(st,$,j),g.delete(nt);else{const jt=new RowNode(this.beans);jt.id=nt,jt.data=rt,jt.rowPinned=o,$+=this.setRowTopAndRowIndex(jt,$,j),a.push(jt)}}g.forEach(rt=>{var nt;(nt=a.getById(rt))==null||nt.clearRowTopAndRowIndex()}),a.removeAllById(g),a.setOrder(b)}setRowTopAndRowIndex(e,o,a){return e.setRowTop(o),e.setRowHeight(_getRowHeightForNode(this.gos,e).height),e.setRowIndex(a),e.rowHeight}getPinnedTopTotalHeight(){return this.getTotalHeight(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return this.getTotalHeight(this.pinnedBottomRows)}getPinnedTopRowCount(){return this.pinnedTopRows.getSize()}getPinnedBottomRowCount(){return this.pinnedBottomRows.getSize()}getPinnedTopRow(e){return this.pinnedTopRows.getByIndex(e)}getPinnedBottomRow(e){return this.pinnedBottomRows.getByIndex(e)}getPinnedRowById(e,o){return o==="top"?this.pinnedTopRows.getById(e):this.pinnedBottomRows.getById(e)}forEachPinnedRow(e,o){return e==="top"?this.pinnedTopRows.forEach(o):this.pinnedBottomRows.forEach(o)}getTotalHeight(e){const o=e.getSize();if(o===0)return 0;const a=e.getByIndex(o-1);return a===void 0?0:a.rowTop+a.rowHeight}},OrderedCache=class{constructor(){this.cache={},this.ordering=[]}getById(e){return this.cache[e]}getByIndex(e){const o=this.ordering[e];return this.cache[o]}push(e){this.cache[e.id]=e,this.ordering.push(e.id)}removeAllById(e){for(const o of e)delete this.cache[o];this.ordering=this.ordering.filter(o=>!e.has(o))}setOrder(e){this.ordering=e}forEach(e){this.ordering.forEach((o,a)=>{const c=this.cache[o];c&&e(c,a)})}clear(){this.ordering.length=0,this.cache={}}isEmpty(){return this.ordering.length===0}getSize(){return this.ordering.length}getIds(){return new Set(this.ordering)}},ServerSideTransactionResultStatus=(e=>(e.Applied="Applied",e.StoreNotFound="StoreNotFound",e.StoreLoading="StoreLoading",e.StoreWaitingToLoad="StoreWaitingToLoad",e.StoreLoadingFailed="StoreLoadingFailed",e.StoreWrongType="StoreWrongType",e.Cancelled="Cancelled",e.StoreNotStarted="StoreNotStarted",e))(ServerSideTransactionResultStatus||{}),RowNodeBlock=class extends BeanStub{constructor(e){super(),this.state="needsLoading",this.version=0,this.id=e}getId(){return this.id}load(){this.state="loading",this.loadFromDatasource()}getVersion(){return this.version}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}getState(){return this.state}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed",this.processServerFail()),this.dispatchLoadCompleted(!1)}success(e,o){this.successCommon(e,o)}pageLoaded(e,o,a){this.successCommon(e,{rowData:o,rowCount:a})}isRequestMostRecentAndLive(e){const o=e===this.version,a=this.isAlive();return o&&a}successCommon(e,o){this.dispatchLoadCompleted(),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(o))}dispatchLoadCompleted(e=!0){const o={type:"loadComplete",success:e,block:this};this.dispatchLocalEvent(o)}},RowNodeBlockLoader=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){this.maxConcurrentRequests=this.getMaxConcurrentDatasourceRequests();const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=_debounce(this.performCheckBlocksToLoad.bind(this),e))}getMaxConcurrentDatasourceRequests(){const e=this.gos.get("maxConcurrentDatasourceRequests");if(e==null)return 2;if(!(e<=0))return e}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){_removeFromArray(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad(),this.dispatchLocalEvent({type:"blockLoaded"}),this.activeBlockLoadsCount==0&&this.dispatchLocalEvent({type:"blockLoaderFinished"})}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){this.gos.get("debug")&&_log("RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.getAvailableLoadingCount(),o=this.blocks.filter(a=>a.getState()==="needsLoading").slice(0,e);this.registerLoads(o.length),o.forEach(a=>a.load()),this.printCacheStatus()}getBlockState(){if(_isServerSideRowModel(this.gos))return this.rowModel.getBlockStates();const e={};return this.blocks.forEach(o=>{const{id:a,state:c}=o.getBlockStateJson();e[a]=c}),e}printCacheStatus(){this.gos.get("debug")&&_log(`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}isLoading(){return this.activeBlockLoadsCount>0}registerLoads(e){this.activeBlockLoadsCount+=e}getAvailableLoadingCount(){return this.maxConcurrentRequests!==void 0?this.maxConcurrentRequests-this.activeBlockLoadsCount:void 0}},RowNodeBlockModule={version:VERSION,moduleName:"@ag-grid-community/row-node-block",beans:[RowNodeBlockLoader]},RowRangeSelectionContext=class{constructor(){this.root=null,this.end=null,this.cachedRange=[]}init(e){this.rowModel=e}reset(){this.root=null,this.end=null,this.cachedRange.length=0}setRoot(e){this.root=e,this.end=null,this.cachedRange.length=0}setEndRange(e){this.end=e,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),o=this.getEnd();if(e==null||o==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,o)}return this.cachedRange}isInRange(e){return this.root===null?!1:this.getRange().some(o=>o.id===e.id)}getRoot(){var e;return this.root&&((e=this.root)==null?void 0:e.key)===null&&(this.root=this.rowModel.getRowNode(this.root.id)??null),this.root}getEnd(){var e;return this.end&&((e=this.end)==null?void 0:e.key)===null&&(this.end=this.rowModel.getRowNode(this.end.id)??null),this.end}truncate(e){const o=this.getRange();if(o.length===0)return{keep:[],discard:[]};const a=o[0].id===this.root.id,c=o.findIndex(d=>d.id===e.id);if(c>-1){const d=o.slice(0,c),g=o.slice(c+1);return this.setEndRange(e),a?{keep:d,discard:g}:{keep:g,discard:d}}else return{keep:o,discard:[]}}extend(e,o=!1){const a=this.getRoot();if(a==null){const d=this.getRange().slice();return o&&e.depthFirstSearch(g=>!g.group&&d.push(g)),d.push(e),this.setRoot(e),{keep:d,discard:[]}}if(this.rowModel.getNodesInRangeForSelection(a,e).find(d=>{var g;return d.id===((g=this.end)==null?void 0:g.id)}))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const d=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:d}}}},StylingService=class extends BeanStub{constructor(){super(...arguments),this.beanName="stylingService"}wireBeans(e){this.expressionService=e.expressionService}processAllCellClasses(e,o,a,c){this.processClassRules(void 0,e.cellClassRules,o,a,c),this.processStaticCellClasses(e,o,a)}processClassRules(e,o,a,c,d){if(o==null&&e==null)return;const g={},b={},_=($,j)=>{$.split(" ").forEach(rt=>{rt.trim()!=""&&j(rt)})};if(o){const $=Object.keys(o);for(let j=0;j<$.length;j++){const rt=$[j],nt=o[rt];let st;typeof nt=="string"?st=this.expressionService.evaluate(nt,a):typeof nt=="function"&&(st=nt(a)),_(rt,jt=>{st?g[jt]=!0:b[jt]=!0})}}e&&d&&Object.keys(e).forEach($=>_($,j=>{g[j]||(b[j]=!0)})),d&&Object.keys(b).forEach(d),Object.keys(g).forEach(c)}getStaticCellClasses(e,o){const{cellClass:a}=e;if(!a)return[];let c;return typeof a=="function"?c=a(o):c=a,typeof c=="string"&&(c=[c]),c||[]}processStaticCellClasses(e,o,a){this.getStaticCellClasses(e,o).forEach(d=>{a(d)})}},AgToggleButton=class extends AgCheckbox{constructor(e){super(e,"ag-toggle-button")}setValue(e,o){return super.setValue(e,o),this.addOrRemoveCssClass("ag-selected",this.getValue()),this}},AgToggleButtonSelector={selector:"AG-TOGGLE-BUTTON",component:AgToggleButton},TabGuardClassNames=(e=>(e.TAB_GUARD="ag-tab-guard",e.TAB_GUARD_TOP="ag-tab-guard-top",e.TAB_GUARD_BOTTOM="ag-tab-guard-bottom",e))(TabGuardClassNames||{}),TabGuardCtrl=class extends BeanStub{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:o,eTopGuard:a,eBottomGuard:c,focusTrapActive:d,forceFocusOutWhenTabGuardsAreEmpty:g,isFocusableContainer:b,focusInnerElement:_,onFocusIn:$,onFocusOut:j,shouldStopEventPropagation:rt,onTabKeyDown:nt,handleKeyDown:st,eFocusableElement:jt}=e;this.comp=o,this.eTopGuard=a,this.eBottomGuard=c,this.providedFocusInnerElement=_,this.eFocusableElement=jt,this.focusTrapActive=!!d,this.forceFocusOutWhenTabGuardsAreEmpty=!!g,this.isFocusableContainer=!!b,this.providedFocusIn=$,this.providedFocusOut=j,this.providedShouldStopEventPropagation=rt,this.providedOnTabKeyDown=nt,this.providedHandleKeyDown=st}wireBeans(e){this.focusService=e.focusService}postConstruct(){this.createManagedBean(new ManagedFocusFeature(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&this.focusService.findFocusableElements(this.eFocusableElement,".ag-tab-guard").length===0){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const o=e.target===this.eBottomGuard;this.providedFocusInnerElement?this.providedFocusInnerElement(o):this.focusInnerElement(o)}findNextElementOutsideAndFocus(e){var $;const o=_getDocument(this.gos),a=this.focusService.findFocusableElements(o.body,null,!0),c=a.indexOf(e?this.eTopGuard:this.eBottomGuard);if(c===-1)return;let d,g;e?(d=0,g=c):(d=c+1,g=a.length);const b=a.slice(d,g),_=this.gos.get("tabIndex");b.sort((j,rt)=>{const nt=parseInt(j.getAttribute("tabindex")||"0"),st=parseInt(rt.getAttribute("tabindex")||"0");return st===_?1:nt===_?-1:nt===0?1:st===0?-1:nt-st}),($=b[e?b.length-1:0])==null||$.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const o=this.tabGuardsAreActive();o&&this.deactivateTabGuards();const a=this.getNextFocusableElement(e.shiftKey);o&&setTimeout(()=>this.activateTabGuards(),0),a&&(a.focus(),e.preventDefault())}focusInnerElement(e=!1){const o=this.focusService.findFocusableElements(this.eFocusableElement);this.tabGuardsAreActive()&&(o.splice(0,1),o.splice(o.length-1,1)),o.length&&o[e?o.length-1:0].focus({preventScroll:!0})}getNextFocusableElement(e){return this.focusService.findNextFocusableElement(this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const o=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,o.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,o){return e===this.eTopGuard&&!o||e===this.eBottomGuard&&(o??!0)}setAllowFocus(e){this.allowFocus=e}},TabGuardFeature=class extends BeanStub{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:o,eBottomGuard:a,eFocusableElement:c}=this,d=[o,a],g={setTabIndex:Ft=>{d.forEach(it=>Ft!=null?it.setAttribute("tabindex",Ft):it.removeAttribute("tabindex"))}};this.addTabGuards(o,a);const{focusTrapActive:b=!1,onFocusIn:_,onFocusOut:$,focusInnerElement:j,handleKeyDown:rt,onTabKeyDown:nt,shouldStopEventPropagation:st,forceFocusOutWhenTabGuardsAreEmpty:jt,isFocusableContainer:wl}=e;this.tabGuardCtrl=this.createManagedBean(new TabGuardCtrl({comp:g,focusTrapActive:b,eTopGuard:o,eBottomGuard:a,eFocusableElement:c,onFocusIn:_,onFocusOut:$,focusInnerElement:j,handleKeyDown:rt,onTabKeyDown:nt,shouldStopEventPropagation:st,forceFocusOutWhenTabGuardsAreEmpty:jt,isFocusableContainer:wl}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const o=_getDocument(this.gos).createElement("div"),a=e==="top"?"ag-tab-guard-top":"ag-tab-guard-bottom";return o.classList.add("ag-tab-guard",a),_setAriaRole(o,"presentation"),o}addTabGuards(e,o){this.eFocusableElement.insertAdjacentElement("afterbegin",e),this.eFocusableElement.insertAdjacentElement("beforeend",o)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];_clearElement(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,o,a){_isNodeOrElement(o)||(o=o.getGui());const{eBottomGuard:c}=this;c?c.insertAdjacentElement("beforebegin",o):e(o,a)}},TabGuardComp$1=class extends Component{initialiseTabGuard(o){this.tabGuardFeature=this.createManagedBean(new TabGuardFeature(this)),this.tabGuardFeature.initialiseTabGuard(o)}forceFocusOutOfContainer(o=!1){this.tabGuardFeature.forceFocusOutOfContainer(o)}appendChild(o,a){this.tabGuardFeature.appendChild(super.appendChild.bind(this),o,a)}},instanceIdSeq=0,WAIT_FOR_POPUP_CONTENT_RESIZE=200,PopupService=class extends BeanStub{constructor(){super(...arguments),this.beanName="popupService",this.popupList=[]}wireBeans(e){this.ctrlsService=e.ctrlsService,this.resizeObserverService=e.resizeObserverService,this.environment=e.environment}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:o,ePopup:a}=e,c=this.getPopupIndex(a);if(c!==-1){const jt=this.popupList[c];jt.alignedToElement=o}const d=o.getBoundingClientRect(),g=this.getParentRect(),b=this.keepXYWithinBounds(a,d.top-g.top,0),_=a.clientWidth>0?a.clientWidth:200;a.style.minWidth=`${_}px`;const j=g.right-g.left-_;let rt;this.gos.get("enableRtl")?(rt=st(),rt<0&&(rt=nt(),this.setAlignedStyles(a,"left")),rt>j&&(rt=0,this.setAlignedStyles(a,"right"))):(rt=nt(),rt>j&&(rt=st(),this.setAlignedStyles(a,"right")),rt<0&&(rt=0,this.setAlignedStyles(a,"left"))),a.style.left=`${rt}px`,a.style.top=`${b}px`;function nt(){return d.right-g.left-2}function st(){return d.left-g.left-_}}positionPopupUnderMouseEvent(e){const{ePopup:o,nudgeX:a,nudgeY:c,skipObserver:d}=e;this.positionPopup({ePopup:o,nudgeX:a,nudgeY:c,keepWithinBounds:!0,skipObserver:d,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const o=this.getParentRect();return{x:e.clientX-o.left,y:e.clientY-o.top}}positionPopupByComponent(e){const{ePopup:o,nudgeX:a,nudgeY:c,keepWithinBounds:d,eventSource:g,alignSide:b="left",position:_="over",column:$,rowNode:j,type:rt}=e,nt=g.getBoundingClientRect(),st=this.getParentRect(),jt=this.getPopupIndex(o);if(jt!==-1){const Ft=this.popupList[jt];Ft.alignedToElement=g}const wl=()=>{let Ft=nt.left-st.left;b==="right"&&(Ft-=o.offsetWidth-nt.width);let it;return _==="over"?(it=nt.top-st.top,this.setAlignedStyles(o,"over")):(this.setAlignedStyles(o,"under"),this.shouldRenderUnderOrAbove(o,nt,st,e.nudgeY||0)==="under"?it=nt.top-st.top+nt.height:it=nt.top-o.offsetHeight-(c||0)*2-st.top),{x:Ft,y:it}};this.positionPopup({ePopup:o,nudgeX:a,nudgeY:c,keepWithinBounds:d,updatePosition:wl,postProcessCallback:()=>this.callPostProcessPopup(rt,o,g,null,$,j)})}shouldRenderUnderOrAbove(e,o,a,c){const d=a.bottom-o.bottom,g=o.top-a.top,b=e.offsetHeight+c;return d>b?"under":g>b||g>d?"above":"under"}setAlignedStyles(e,o){const a=this.getPopupIndex(e);if(a===-1)return;const c=this.popupList[a],{alignedToElement:d}=c;!d||(["right","left","over","above","under"].forEach(b=>{d.classList.remove(`ag-has-popup-positioned-${b}`),e.classList.remove(`ag-popup-positioned-${b}`)}),!o)||(d.classList.add(`ag-has-popup-positioned-${o}`),e.classList.add(`ag-popup-positioned-${o}`))}callPostProcessPopup(e,o,a,c,d,g){const b=this.gos.getCallback("postProcessPopup");b&&b({column:d,rowNode:g,ePopup:o,type:e,eventSource:a,mouseEvent:c})}positionPopup(e){const{ePopup:o,keepWithinBounds:a,nudgeX:c,nudgeY:d,skipObserver:g,updatePosition:b}=e,_={width:0,height:0},$=(j=!1)=>{let{x:rt,y:nt}=b();j&&o.clientWidth===_.width&&o.clientHeight===_.height||(_.width=o.clientWidth,_.height=o.clientHeight,c&&(rt+=c),d&&(nt+=d),a&&(rt=this.keepXYWithinBounds(o,rt,1),nt=this.keepXYWithinBounds(o,nt,0)),o.style.left=`${rt}px`,o.style.top=`${nt}px`,e.postProcessCallback&&e.postProcessCallback())};if($(),!g){const j=this.resizeObserverService.observeResize(o,()=>$(!0));setTimeout(()=>j(),WAIT_FOR_POPUP_CONTENT_RESIZE)}}getActivePopups(){return this.popupList.map(e=>e.element)}getPopupList(){return this.popupList}getParentRect(){const e=_getDocument(this.gos);let o=this.getPopupParent();return o===e.body?o=e.documentElement:getComputedStyle(o).position==="static"&&(o=o.offsetParent),_getElementRectWithOffset(o)}keepXYWithinBounds(e,o,a){const c=a===0,d=c?"clientHeight":"clientWidth",g=c?"top":"left",b=c?"height":"width",_=c?"scrollTop":"scrollLeft",$=_getDocument(this.gos),j=$.documentElement,rt=this.getPopupParent(),nt=e.getBoundingClientRect(),st=rt.getBoundingClientRect(),jt=$.documentElement.getBoundingClientRect(),wl=rt===$.body,Ft=Math.ceil(nt[b]);let ot=wl?(c?_getAbsoluteHeight:_getAbsoluteWidth)(j)+j[_]:rt[d];wl&&(ot-=Math.abs(jt[g]-st[g]));const Ln=ot-Ft;return Math.min(Math.max(o,0),Math.abs(Ln))}addPopup(e){const o=_getDocument(this.gos),{eChild:a,ariaLabel:c,alwaysOnTop:d,positionCallback:g,anchorToElement:b}=e;if(!o)return _warnOnce("could not find the document, document is empty"),{hideFunc:()=>{}};const _=this.getPopupIndex(a);if(_!==-1)return{hideFunc:this.popupList[_].hideFunc};this.initialisePopupPosition(a);const $=this.createPopupWrapper(a,c,!!d),j=this.addEventListenersToPopup({...e,wrapperEl:$});return g&&g(),this.addPopupToPopupList(a,$,j,b),{hideFunc:j}}initialisePopupPosition(e){const a=this.getPopupParent().getBoundingClientRect();_exists(e.style.top)||(e.style.top=`${a.top*-1}px`),_exists(e.style.left)||(e.style.left=`${a.left*-1}px`)}createPopupWrapper(e,o,a){const c=this.getPopupParent(),d=document.createElement("div");return this.environment.applyThemeClasses(d),d.classList.add("ag-popup"),e.classList.add(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||_setAriaRole(e,"dialog"),_setAriaLabel(e,o),d.appendChild(e),c.appendChild(d),a?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),d}handleThemeChange(e){if(e.themeChanged)for(const o of this.popupList)this.environment.applyThemeClasses(o.wrapper)}addEventListenersToPopup(e){const o=_getDocument(this.gos),a=this.getPopupParent(),{wrapperEl:c,eChild:d,closedCallback:g,afterGuiAttached:b,closeOnEsc:_,modal:$}=e;let j=!1;const rt=wl=>{if(!c.contains(_getActiveDomElement(this.gos)))return;wl.key===KeyCode.ESCAPE&&!_isStopPropagationForAgGrid(wl)&&jt({keyboardEvent:wl})},nt=wl=>jt({mouseEvent:wl}),st=wl=>jt({touchEvent:wl}),jt=(wl={})=>{const{mouseEvent:Ft,touchEvent:it,keyboardEvent:ot,forceHide:Ln}=wl;!Ln&&(this.isEventFromCurrentPopup({mouseEvent:Ft,touchEvent:it},d)||j)||(j=!0,a.removeChild(c),o.removeEventListener("keydown",rt),o.removeEventListener("mousedown",nt),o.removeEventListener("touchstart",st),o.removeEventListener("contextmenu",nt),this.eventService.removeEventListener("dragStarted",nt),g&&g(Ft||it||ot),this.removePopupFromPopupList(d))};return b&&b({hidePopup:jt}),window.setTimeout(()=>{_&&o.addEventListener("keydown",rt),$&&(o.addEventListener("mousedown",nt),this.eventService.addEventListener("dragStarted",nt),o.addEventListener("touchstart",st),o.addEventListener("contextmenu",nt))},0),jt}addPopupToPopupList(e,o,a,c){this.popupList.push({element:e,wrapper:o,hideFunc:a,instanceId:instanceIdSeq++,isAnchored:!!c}),c&&this.setPopupPositionRelatedToElement(e,c)}getPopupIndex(e){return this.popupList.findIndex(o=>o.element===e)}setPopupPositionRelatedToElement(e,o){const a=this.getPopupIndex(e);if(a===-1)return;const c=this.popupList[a];if(c.stopAnchoringPromise&&c.stopAnchoringPromise.then(g=>g&&g()),c.stopAnchoringPromise=void 0,c.isAnchored=!1,!o)return;const d=this.keepPopupPositionedRelativeTo({element:o,ePopup:e,hidePopup:c.hideFunc});return c.stopAnchoringPromise=d,c.isAnchored=!0,d}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(o=>o.element!==e)}keepPopupPositionedRelativeTo(e){const o=this.getPopupParent(),a=o.getBoundingClientRect(),{element:c,ePopup:d}=e,g=c.getBoundingClientRect(),b=nt=>parseInt(nt.substring(0,nt.length-1),10),_=(nt,st)=>{const jt=a[nt]-g[nt],wl=b(d.style[nt]);return{initialDiff:jt,lastDiff:jt,initial:wl,last:wl,direction:st}},$=_("top",0),j=_("left",1),rt=this.getFrameworkOverrides();return new AgPromise(nt=>{rt.wrapIncoming(()=>{rt.setInterval(()=>{const st=o.getBoundingClientRect(),jt=c.getBoundingClientRect();if(jt.top==0&&jt.left==0&&jt.height==0&&jt.width==0){e.hidePopup();return}const Ft=(it,ot)=>{const Ln=b(d.style[ot]);it.last!==Ln&&(it.initial=Ln,it.last=Ln);const Cl=st[ot]-jt[ot];if(Cl!=it.lastDiff){const Tl=this.keepXYWithinBounds(d,it.initial+it.initialDiff-Cl,it.direction);d.style[ot]=`${Tl}px`,it.last=Tl}it.lastDiff=Cl};Ft($,"top"),Ft(j,"left")},200).then(st=>{nt(()=>{st!=null&&window.clearInterval(st)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,o){const{mouseEvent:a,touchEvent:c}=e,d=a||c;if(!d)return!1;const g=this.getPopupIndex(o);if(g===-1)return!1;for(let b=g;b<this.popupList.length;b++){const _=this.popupList[b];if(_isElementInEventPath(_.element,d))return!0}return this.isElementWithinCustomPopup(d.target)}isElementWithinCustomPopup(e){const o=_getDocument(this.gos);for(;e&&e!==o.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,o){const a=this.getWrapper(e);a&&(a.classList.toggle("ag-always-on-top",!!o),o&&this.bringPopupToFront(a))}bringPopupToFront(e){const o=this.getPopupParent(),a=Array.prototype.slice.call(o.querySelectorAll(".ag-popup")),c=a.length,d=this.getWrapper(e);if(!d||c<=1||!o.contains(e))return;const g=[],b=[];for(const st of a)st!==d&&(st.classList.contains("ag-always-on-top")?b.push(st):g.push(st));const _=[],$=b.length,nt=d.classList.contains("ag-always-on-top")||!$?[...g,...b,d]:[...g,d,...b];for(let st=0;st<=c;st++){const jt=nt[st];if(a[st]===nt[st]||jt===d)continue;jt.querySelectorAll("div").forEach(Ft=>{Ft.scrollTop!==0&&_.push([Ft,Ft.scrollTop])}),st===0?o.insertAdjacentElement("afterbegin",jt):nt[st-1].insertAdjacentElement("afterend",jt)}for(;_.length;){const st=_.pop();st[0].scrollTop=st[1]}}},PASSIVE_EVENTS2=["touchstart","touchend","touchmove","touchcancel"],VanillaFrameworkOverrides=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.wrapIncoming=o=>o(),this.wrapOutgoing=o=>o()}setInterval(e,o){return new AgPromise(a=>{a(window.setInterval(e,o))})}addEventListener(e,o,a,c){const d=_includes(PASSIVE_EVENTS2,o);e.addEventListener(o,a,{capture:!!c,passive:d})}get shouldWrapOutgoing(){return!1}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`https://www.ag-grid.com/${this.frameworkName==="solid"?"react":this.frameworkName}-data-grid${e?`/${e}`:""}`}},CellNavigationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="cellNavigationService"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer,this.pinnedRowModel=e.pinnedRowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}getNextCellToFocus(e,o,a=!1){return a?this.getNextCellToFocusWithCtrlPressed(e,o):this.getNextCellToFocusWithoutCtrlPressed(e,o)}getNextCellToFocusWithCtrlPressed(e,o){const a=e===KeyCode.UP,c=e===KeyCode.DOWN,d=e===KeyCode.LEFT;let g,b;if(a||c)b=a?this.pageBoundsService.getFirstRow():this.pageBoundsService.getLastRow(),g=o.column;else{const _=this.visibleColsService.getAllCols(),$=this.gos.get("enableRtl");b=o.rowIndex,g=d!==$?_[0]:_last(_)}return{rowIndex:b,rowPinned:null,column:g}}getNextCellToFocusWithoutCtrlPressed(e,o){let a=o,c=!1;for(;!c;){switch(e){case KeyCode.UP:a=this.getCellAbove(a);break;case KeyCode.DOWN:a=this.getCellBelow(a);break;case KeyCode.RIGHT:this.gos.get("enableRtl")?a=this.getCellToLeft(a):a=this.getCellToRight(a);break;case KeyCode.LEFT:this.gos.get("enableRtl")?a=this.getCellToRight(a):a=this.getCellToLeft(a);break;default:a=null,_warnOnce("unknown key for navigation ",e);break}a?c=this.isCellGoodToFocusOn(a):c=!0}return a}isCellGoodToFocusOn(e){const o=e.column;let a;switch(e.rowPinned){case"top":a=this.pinnedRowModel.getPinnedTopRow(e.rowIndex);break;case"bottom":a=this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);break;default:a=this.rowModel.getRow(e.rowIndex);break}return a?!o.isSuppressNavigable(a):!1}getCellToLeft(e){if(!e)return null;const o=this.visibleColsService.getColBefore(e.column);return o?{rowIndex:e.rowIndex,column:o,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const o=this.visibleColsService.getColAfter(e.column);return o?{rowIndex:e.rowIndex,column:o,rowPinned:e.rowPinned}:null}getRowBelow(e){const o=e.rowIndex,a=e.rowPinned;let c=!1;if(this.isLastRowInContainer(e))switch(a){case"bottom":return null;case"top":return this.rowModel.isRowsToRender()?{rowIndex:this.pageBoundsService.getFirstRow(),rowPinned:null}:this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;default:return this.pinnedRowModel.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null}else a&&(c=!0);const d=this.rowModel.getRow(e.rowIndex),g=c?void 0:this.getNextStickyPosition(d);return g||{rowIndex:o+1,rowPinned:a}}getNextStickyPosition(e,o){if(!_isGroupRowsSticky(this.gos)||!e||!e.sticky)return;const a=this.rowRenderer.getStickyTopRowCtrls().some(_=>_.getRowNode().rowIndex===e.rowIndex);let c=[];a?c=[...this.rowRenderer.getStickyTopRowCtrls()].sort((_,$)=>_.getRowNode().rowIndex-$.getRowNode().rowIndex):c=[...this.rowRenderer.getStickyBottomRowCtrls()].sort((_,$)=>$.getRowNode().rowIndex-_.getRowNode().rowIndex);const d=o?-1:1,g=c.findIndex(_=>_.getRowNode().rowIndex===e.rowIndex),b=c[g+d];if(b)return{rowIndex:b.getRowNode().rowIndex,rowPinned:null}}getCellBelow(e){if(!e)return null;const o=this.getRowBelow(e);return o?{rowIndex:o.rowIndex,column:e.column,rowPinned:o.rowPinned}:null}isLastRowInContainer(e){const o=e.rowPinned,a=e.rowIndex;return o==="top"?this.pinnedRowModel.getPinnedTopRowCount()-1<=a:o==="bottom"?this.pinnedRowModel.getPinnedBottomRowCount()-1<=a:this.pageBoundsService.getLastRow()<=a}getRowAbove(e){const o=e.rowIndex,a=e.rowPinned,c=a?o===0:o===this.pageBoundsService.getFirstRow();let d=!1;if(c)return a==="top"?null:a?this.rowModel.isRowsToRender()?this.getLastBodyCell():this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null:this.pinnedRowModel.isRowsToRender("top")?this.getLastFloatingTopRow():null;a&&(d=!0);const g=this.rowModel.getRow(e.rowIndex),b=d?void 0:this.getNextStickyPosition(g,!0);return b||{rowIndex:o-1,rowPinned:a}}getCellAbove(e){if(!e)return null;const o=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});return o?{rowIndex:o.rowIndex,column:e.column,rowPinned:o.rowPinned}:null}getLastBodyCell(){return{rowIndex:this.pageBoundsService.getLastRow(),rowPinned:null}}getLastFloatingTopRow(){return{rowIndex:this.pinnedRowModel.getPinnedTopRowCount()-1,rowPinned:"top"}}getNextTabbedCell(e,o){return o?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){var g;const o=this.visibleColsService.getAllCols();let a=e.rowIndex,c=e.rowPinned,d=this.visibleColsService.getColAfter(e.column);if(!d){d=o[0];const b=this.getRowBelow(e);if(_missing(b)||!b.rowPinned&&!(((g=this.paginationService)==null?void 0:g.isRowInPage(b))??!0))return null;a=b?b.rowIndex:null,c=b?b.rowPinned:null}return{rowIndex:a,column:d,rowPinned:c}}getNextTabbedCellBackwards(e){var g;const o=this.visibleColsService.getAllCols();let a=e.rowIndex,c=e.rowPinned,d=this.visibleColsService.getColBefore(e.column);if(!d){d=_last(o);const b=this.getRowAbove({rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(_missing(b)||!b.rowPinned&&!(((g=this.paginationService)==null?void 0:g.isRowInPage(b))??!0))return null;a=b?b.rowIndex:null,c=b?b.rowPinned:null}return{rowIndex:a,column:d,rowPinned:c}}},mod$1=(e,o)=>{for(const a in o)o[a]=e;return o},gridApiFunctionsMap={...mod$1("@ag-grid-community/core",{dispatchEvent:0,destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0,getState:0,setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0,redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRow:0,getFirstDisplayedRowIndex:0,getLastDisplayedRow:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0,getModel:0,getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0,getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0,addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0,expireValueCache:0,getValue:0,getCellValue:0,showColumnMenuAfterButtonClick:0,showColumnMenuAfterMouseClick:0,showColumnMenu:0,hidePopupMenu:0,onSortChanged:0,getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0,showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0,setGridAriaProperty:0,refreshCells:0,flashCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0,addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0,getColumnDef:0,getColumnDefs:0,sizeColumnsToFit:0,setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumn:0,getDisplayNameForColumnGroup:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnVisible:0,setColumnsVisible:0,setColumnPinned:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0,moveColumn:0,moveColumnByIndex:0,moveColumns:0,setColumnWidth:0,setColumnWidths:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0,autoSizeColumn:0,autoSizeColumns:0,autoSizeAllColumns:0,undoCellEditing:0,redoCellEditing:0,getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0,getCurrentUndoSize:0,getCurrentRedoSize:0,isAnyFilterPresent:0,onFilterChanged:0,isColumnFilterPresent:0,getFilterInstance:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0,isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0,paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0,expandAll:0,collapseAll:0,onRowHeightChanged:0,setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...mod$1("@ag-grid-community/client-side-row-model",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...mod$1("@ag-grid-community/csv-export",{getDataAsCsv:0,exportDataAsCsv:0}),...mod$1("@ag-grid-community/infinite-row-model",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...mod$1("@ag-grid-enterprise/advanced-filter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...mod$1("@ag-grid-enterprise/charts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...mod$1("@ag-grid-enterprise/clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...mod$1("@ag-grid-enterprise/excel-export",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...mod$1("@ag-grid-enterprise/master-detail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...mod$1("@ag-grid-enterprise/menu",{showContextMenu:0,showColumnChooser:0,hideColumnChooser:0}),...mod$1("@ag-grid-enterprise/range-selection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...mod$1("@ag-grid-enterprise/row-grouping",{addAggFunc:0,addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0,isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumn:0,removeValueColumns:0,addValueColumn:0,addValueColumns:0,setRowGroupColumns:0,removeRowGroupColumn:0,removeRowGroupColumns:0,addRowGroupColumn:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0,setPivotColumns:0,removePivotColumn:0,removePivotColumns:0,addPivotColumn:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...mod$1("@ag-grid-enterprise/server-side-row-model",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...mod$1("@ag-grid-enterprise/side-bar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...mod$1("@ag-grid-enterprise/status-bar",{getStatusPanel:0})},defaultFns={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},dispatchEvent=(e,o)=>e.eventService.dispatchEvent(o),GridApiClass=class{};Reflect.defineProperty(GridApiClass,"name",{value:"GridApi"});var ApiFunctionService=class extends BeanStub{constructor(){super(),this.beanName="apiFunctionService",this.api=new GridApiClass,this.fns={...defaultFns,dispatchEvent},this.beans=null,this.preDestroyLink="";const{api:e}=this;for(const o in gridApiFunctionsMap)e[o]=this.makeApi(o)[o]}wireBeans(e){this.beans=e}postConstruct(){this.preDestroyLink=this.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,o){var d;const{fns:a,beans:c}=this;a!==defaultFns&&(a[e]=((d=c==null?void 0:c.validationService)==null?void 0:d.validateApiFunction(e,o))??o)}makeApi(e){return{[e]:(...o)=>{const{beans:a,fns:{[e]:c}}=this;return c?c(a,...o):this.apiNotFound(e)}}}apiNotFound(e){const{beans:o,gos:a,preDestroyLink:c}=this;if(!o)_warnOnce(`Grid API function ${e}() cannot be called as the grid has been destroyed.
Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${c}`);else{const d=gridApiFunctionsMap[e];a.assertModuleRegistered(d,`api.${e}`)&&_warnOnce(`API function '${e}' not registered to module '${d}'`)}}destroy(){super.destroy(),this.fns=defaultFns,this.beans=null}};function createGridApi(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionService").api}}var ColumnDefFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnDefFactory"}buildColumnDefs(e,o,a){const c=[],d={};return e.forEach(g=>{const b=this.createDefFromColumn(g,o,a);let _=!0,$=b,j=g.getOriginalParent(),rt=null;for(;j;){let nt=null;if(j.isPadding()){j=j.getOriginalParent();continue}const st=d[j.getGroupId()];if(st){st.children.push($),_=!1;break}if(nt=this.createDefFromGroup(j),nt&&(nt.children=[$],d[nt.groupId]=nt,$=nt,j=j.getOriginalParent()),j!=null&&rt===j){_=!1;break}rt=j}_&&c.push($)}),c}createDefFromGroup(e){const o=_deepCloneDefinition(e.getColGroupDef(),["children"]);return o&&(o.groupId=e.getGroupId()),o}createDefFromColumn(e,o,a){const c=_deepCloneDefinition(e.getColDef());return c.colId=e.getColId(),c.width=e.getActualWidth(),c.rowGroup=e.isRowGroupActive(),c.rowGroupIndex=e.isRowGroupActive()?o.indexOf(e):null,c.pivot=e.isPivotActive(),c.pivotIndex=e.isPivotActive()?a.indexOf(e):null,c.aggFunc=e.isValueActive()?e.getAggFunc():null,c.hide=e.isVisible()?void 0:!0,c.pinned=e.isPinned()?e.getPinned():null,c.sort=e.getSort()?e.getSort():null,c.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,c}},ColumnEventDispatcher=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnEventDispatcher"}visibleCols(e){this.eventService.dispatchEvent({type:"displayedColumnsChanged",source:e})}gridColumns(){this.eventService.dispatchEvent({type:"gridColumnsChanged"})}headerHeight(e){this.eventService.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"})}groupHeaderHeight(e){this.eventService.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}groupOpened(e){this.eventService.dispatchEvent({type:"columnGroupOpened",columnGroup:e.length===1?e[0]:void 0,columnGroups:e})}rowGroupChanged(e,o){this.eventService.dispatchEvent({type:"columnRowGroupChanged",columns:e,column:e.length===1?e[0]:null,source:o})}genericColumnEvent(e,o,a){this.eventService.dispatchEvent({type:e,columns:o,column:o.length===1?o[0]:null,source:a})}pivotModeChanged(){this.eventService.dispatchEvent({type:"columnPivotModeChanged"})}virtualColumnsChanged(e){this.eventService.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}newColumnsLoaded(e){this.eventService.dispatchEvent({type:"newColumnsLoaded",source:e})}everythingChanged(e){this.eventService.dispatchEvent({type:"columnEverythingChanged",source:e})}columnMoved(e){const{movedColumns:o,source:a,toIndex:c,finished:d}=e;this.eventService.dispatchEvent({type:"columnMoved",columns:o,column:o&&o.length===1?o[0]:null,toIndex:c,finished:d,source:a})}columnPinned(e,o){if(!e.length)return;const a=e.length===1?e[0]:null,c=this.getCommonValue(e,d=>d.getPinned());this.eventService.dispatchEvent({type:"columnPinned",pinned:c??null,columns:e,column:a,source:o})}columnVisible(e,o){if(!e.length)return;const a=e.length===1?e[0]:null,c=this.getCommonValue(e,d=>d.isVisible());this.eventService.dispatchEvent({type:"columnVisible",visible:c,columns:e,column:a,source:o})}getCommonValue(e,o){if(!e||e.length==0)return;const a=o(e[0]);for(let c=1;c<e.length;c++)if(a!==o(e[c]))return;return a}columnChanged(e,o,a){this.eventService.dispatchEvent({type:e,columns:o,column:o&&o.length==1?o[0]:null,source:a})}columnResized(e,o,a,c=null){e&&e.length&&this.eventService.dispatchEvent({type:"columnResized",columns:e,column:e.length===1?e[0]:null,flexColumns:c,finished:o,source:a})}},ColumnGetStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnGetStateService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService}getColumnState(){const e=this.columnModel.getColDefCols();if(_missing(e)||!this.columnModel.isAlive())return[];const a=this.columnModel.getAllCols().map(c=>this.createStateItemFromColumn(c));return this.orderColumnStateList(a),a}createStateItemFromColumn(e){const o=this.funcColsService.getRowGroupColumns(),a=this.funcColsService.getPivotColumns(),c=e.isRowGroupActive()?o.indexOf(e):null,d=e.isPivotActive()?a.indexOf(e):null,g=e.isValueActive()?e.getAggFunc():null,b=e.getSort()!=null?e.getSort():null,_=e.getSortIndex()!=null?e.getSortIndex():null,$=e.getFlex()!=null&&e.getFlex()>0?e.getFlex():null;return{colId:e.getColId(),width:e.getActualWidth(),hide:!e.isVisible(),pinned:e.getPinned(),sort:b,sortIndex:_,aggFunc:g,rowGroup:e.isRowGroupActive(),rowGroupIndex:c,pivot:e.isPivotActive(),pivotIndex:d,flex:$}}orderColumnStateList(e){const o=this.columnModel.getCols(),a=new Map(o.map((c,d)=>[c.getColId(),d]));e.sort((c,d)=>{const g=a.has(c.colId)?a.get(c.colId):-1,b=a.has(d.colId)?a.get(d.colId):-1;return g-b})}},ColumnGroupStateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnGroupStateService"}wireBeans(e){this.columnModel=e.columnModel,this.columnAnimationService=e.columnAnimationService,this.eventDispatcher=e.columnEventDispatcher,this.visibleColsService=e.visibleColsService}getColumnGroupState(){const e=[],o=this.columnModel.getColTree();return depthFirstOriginalTreeSearch(null,o,a=>{isProvidedColumnGroup(a)&&e.push({groupId:a.getGroupId(),open:a.isExpanded()})}),e}resetColumnGroupState(e){const o=this.columnModel.getColDefColTree();if(!o)return;const a=[];depthFirstOriginalTreeSearch(null,o,c=>{if(isProvidedColumnGroup(c)){const d=c.getColGroupDef(),g={groupId:c.getGroupId(),open:d?d.openByDefault:void 0};a.push(g)}}),this.setColumnGroupState(a,e)}setColumnGroupState(e,o){if(!this.columnModel.getColTree())return;this.columnAnimationService.start();const c=[];e.forEach(d=>{const g=d.groupId,b=d.open,_=this.columnModel.getProvidedColGroup(g);_&&_.isExpanded()!==b&&(_.setExpanded(b),c.push(_))}),this.visibleColsService.refresh(o,!0),c.length&&this.eventDispatcher.groupOpened(c),this.columnAnimationService.finish()}},ColumnViewportService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnViewportService",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.eventDispatcher=e.columnEventDispatcher}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,o,a=!1){const c=this.visibleColsService.isBodyWidthDirty();if(!(e===this.scrollWidth&&o===this.scrollPosition&&!c)){if(this.scrollWidth=e,this.scrollPosition=o,this.visibleColsService.setBodyWidthDirty(),this.gos.get("enableRtl")){const g=this.visibleColsService.getBodyContainerWidth();this.viewportLeft=g-this.scrollPosition-this.scrollWidth,this.viewportRight=g-this.scrollPosition}else this.viewportLeft=this.scrollPosition,this.viewportRight=this.scrollWidth+this.scrollPosition;this.columnModel.isReady()&&this.checkViewportColumns(a)}}getHeadersToRender(e,o){let a;switch(e){case"left":a=this.rowsOfHeadersToRenderLeft[o];break;case"right":a=this.rowsOfHeadersToRenderRight[o];break;default:a=this.rowsOfHeadersToRenderCenter[o];break}return a||[]}extractViewportColumns(){const e=this.visibleColsService.getCenterCols();this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},this.colsWithinViewportHash=""}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||this.isAnyParentAutoHeaderHeight(e)?!0:this.isColumnInRowViewport(e)}isAnyParentAutoHeaderHeight(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const o=e.getLeft()||0,a=o+e.getActualWidth(),c=this.viewportLeft-200,d=this.viewportRight+200,g=o<c&&a<c,b=o>d&&a>d;return!g&&!b}getViewportColumns(){const e=this.visibleColsService.getLeftCols(),o=this.visibleColsService.getRightCols();return this.colsWithinViewport.concat(e).concat(o)}getColsWithinViewport(e){if(!this.columnModel.isColSpanActive())return this.colsWithinViewport;const o=d=>{const g=d.getLeft();return _exists(g)&&g>this.viewportLeft},a=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),c=this.visibleColsService.getColsCenter();return this.visibleColsService.getColsForRow(e,c,a,o)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventDispatcher.virtualColumnsChanged(e)}calculateHeaderRows(){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={};const e={},o=this.visibleColsService.getLeftCols(),a=this.visibleColsService.getRightCols();this.headerColsWithinViewport.concat(o).concat(a).forEach(g=>e[g.getId()]=!0);const d=(g,b,_)=>{let $=!1;for(let j=0;j<g.length;j++){const rt=g[j];let nt=!1;if(isColumn(rt))nt=e[rt.getId()]===!0;else{const jt=rt.getDisplayedChildren();jt&&(nt=d(jt,b,_+1))}nt&&($=!0,b[_]||(b[_]=[]),b[_].push(rt))}return $};d(this.visibleColsService.getTreeLeft(),this.rowsOfHeadersToRenderLeft,0),d(this.visibleColsService.getTreeRight(),this.rowsOfHeadersToRenderRight,0),d(this.visibleColsService.getTreeCenter(),this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=c=>`${c.getId()}-${c.getPinned()||"normal"}`;this.extractViewportColumns();const o=this.getViewportColumns().map(e).join("#"),a=this.colsWithinViewportHash!==o;return a&&(this.colsWithinViewportHash=o,this.calculateHeaderRows()),a}},AgComponentUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="agComponentUtils"}wireBeans(e){this.componentMetadataProvider=e.componentMetadataProvider}adaptFunction(e,o){const a=this.componentMetadataProvider.retrieve(e);return a&&a.functionAdapter?a.functionAdapter(o):null}adaptCellRendererFunction(e){class o{refresh(){return!1}getGui(){return this.eGui}init(c){const d=e(c),g=typeof d;if(g==="string"||g==="number"||g==="boolean"){this.eGui=_loadTemplate("<span>"+d+"</span>");return}if(d==null){this.eGui=_loadTemplate("<span></span>");return}this.eGui=d}}return o}doesImplementIComponent(e){return e?e.prototype&&"getGui"in e.prototype:!1}},ComponentMetadataProvider=class extends BeanStub{constructor(){super(...arguments),this.beanName="componentMetadataProvider"}wireBeans(e){this.agComponentUtils=e.agComponentUtils}postConstruct(){this.componentMetaData={dateComponent:{mandatoryMethodList:["getDate","setDate"],optionalMethodList:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","onParamsUpdated","refresh"]},detailCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},dragAndDropImageComponent:{mandatoryMethodList:["setIcon","setLabel"],optionalMethodList:[]},headerComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},headerGroupComponent:{mandatoryMethodList:[],optionalMethodList:[]},loadingCellRenderer:{mandatoryMethodList:[],optionalMethodList:[],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},loadingOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},noRowsOverlayComponent:{mandatoryMethodList:[],optionalMethodList:["refresh"]},floatingFilterComponent:{mandatoryMethodList:["onParentModelChanged"],optionalMethodList:["afterGuiAttached","onParamsUpdated","refresh"]},cellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},cellEditor:{mandatoryMethodList:["getValue"],optionalMethodList:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},innerRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},fullWidthCellRenderer:{mandatoryMethodList:[],optionalMethodList:["refresh","afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},groupRowRenderer:{mandatoryMethodList:[],optionalMethodList:["afterGuiAttached"],functionAdapter:this.agComponentUtils.adaptCellRendererFunction.bind(this.agComponentUtils)},filter:{mandatoryMethodList:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethodList:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},statusPanel:{mandatoryMethodList:[],optionalMethodList:["refresh"]},toolPanel:{mandatoryMethodList:[],optionalMethodList:["refresh","getState"]},tooltipComponent:{mandatoryMethodList:[],optionalMethodList:[]},menuItem:{mandatoryMethodList:[],optionalMethodList:["setActive","select","setExpanded","configureDefaults"]}}}retrieve(e){return this.componentMetaData[e]}},orderedCoreBeans=["rowPositionUtils","cellPositionUtils","headerPositionUtils","paginationAutoPageSizeService","apiFunctionService","gridApi","userComponentRegistry","agComponentUtils","componentMetadataProvider","resizeObserverService","userComponentFactory","rowContainerHeightService","horizontalResizeService","localeService","validationService","pinnedRowModel","dragService","visibleColsService","eventService","gos","popupService","selectionService","columnFilterService","quickFilterService","filterManager","columnModel","headerNavigationService","pageBoundsService","paginationService","pageBoundsListener","rowRenderer","expressionService","columnFactory","alignedGridsService","navigationService","valueCache","valueService","loggerFactory","autoWidthCalculator","filterMenuFactory","dragAndDropService","focusService","mouseEventService","environment","cellNavigationService","stylingService","scrollVisibleService","sortController","columnHoverService","columnAnimationService","selectableService","autoColService","controlsColService","changeDetectionService","animationFrameService","undoRedoService","columnDefFactory","rowCssClassCalculator","rowNodeBlockLoader","rowNodeSorter","ctrlsService","pinnedWidthService","rowNodeEventThrottle","ctrlsFactory","dataTypeService","syncService","overlayService","stateService","expansionService","apiEventService","ariaAnnouncementService","menuService","columnApplyStateService","columnEventDispatcher","columnMoveService","columnAutosizeService","columnGetStateService","columnGroupStateService","columnSizeService","funcColsService","columnNameService","columnViewportService","pivotResultColsService","showRowGroupColsService"],beanNamePosition=Object.fromEntries(orderedCoreBeans.map((e,o)=>[e,o]));function gridBeanInitComparator(e,o){const a=(e.beanName?beanNamePosition[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,c=(o.beanName?beanNamePosition[o.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return a-c}function gridBeanDestroyComparator(e,o){return(e==null?void 0:e.beanName)==="gridDestroyService"?-1:0}var CtrlsFactory=class extends BeanStub{constructor(){super(...arguments),this.beanName="ctrlsFactory",this.registry={}}register(e){this.registry[e.name]=e.classImp}getInstance(e,...o){const a=this.registry[e];if(a!=null)return new a(...o)}},CtrlsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="ctrlsService",this.params={gridCtrl:void 0,gridBodyCtrl:void 0,center:void 0,left:void 0,right:void 0,bottomCenter:void 0,bottomLeft:void 0,bottomRight:void 0,topCenter:void 0,topLeft:void 0,topRight:void 0,stickyTopCenter:void 0,stickyTopLeft:void 0,stickyTopRight:void 0,stickyBottomCenter:void 0,stickyBottomLeft:void 0,stickyBottomRight:void 0,fakeHScrollComp:void 0,fakeVScrollComp:void 0,gridHeaderCtrl:void 0,centerHeader:void 0,leftHeader:void 0,rightHeader:void 0},this.ready=!1,this.readyCallbacks=[],this.runReadyCallbacksAsync=!1}wireBeans(e){var o,a;this.runReadyCallbacksAsync=((a=(o=e.frameworkOverrides).runWhenReadyAsync)==null?void 0:a.call(o))??!1}postConstruct(){this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(e=>e(this.params)),this.readyCallbacks.length=0)},this.runReadyCallbacksAsync)}updateReady(){this.ready=Object.values(this.params).every(e=>(e==null?void 0:e.isAlive())??!1)}whenReady(e,o){this.ready?o(this.params):this.readyCallbacks.push(o),e.addDestroyFunc(()=>{const a=this.readyCallbacks.indexOf(o);a>=0&&this.readyCallbacks.splice(a,1)})}register(e,o){this.params[e]=o,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),o.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:o,rightHeader:a}=this.params;return[e,a,o]}getHeaderRowContainerCtrl(e){const o=this.params;switch(e){case"left":return o.leftHeader;case"right":return o.rightHeader;default:return o.centerHeader}}},CellPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="cellPositionUtils"}createId(e){const{rowIndex:o,rowPinned:a,column:c}=e;return this.createIdFromValues({rowIndex:o,column:c,rowPinned:a})}createIdFromValues(e){const{rowIndex:o,rowPinned:a,column:c}=e;return`${o}.${a??"null"}.${c.getId()}`}equals(e,o){const a=e.column===o.column,c=e.rowPinned===o.rowPinned,d=e.rowIndex===o.rowIndex;return a&&c&&d}},RowNodeEventThrottle=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeEventThrottle",this.events=[]}wireBeans(e){this.animationFrameService=e.animationFrameService,this.rowModel=e.rowModel}postConstruct(){_isClientSideRowModel(this.gos)&&(this.clientSideRowModel=this.rowModel)}dispatchExpanded(e,o){if(this.clientSideRowModel==null){this.eventService.dispatchEvent(e);return}this.events.push(e);const a=()=>{this.clientSideRowModel&&this.clientSideRowModel.onRowGroupOpened(),this.events.forEach(c=>this.eventService.dispatchEvent(c)),this.events=[]};o?a():(this.dispatchExpandedDebounced==null&&(this.dispatchExpandedDebounced=this.animationFrameService.debounce(a)),this.dispatchExpandedDebounced())}},RowPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowPositionUtils"}wireBeans(e){this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.pageBoundsService=e.pageBoundsService}getFirstRow(){let e=0,o;return this.pinnedRowModel.getPinnedTopRowCount()?o="top":this.rowModel.getRowCount()?(o=null,e=this.pageBoundsService.getFirstRow()):this.pinnedRowModel.getPinnedBottomRowCount()&&(o="bottom"),o===void 0?null:{rowIndex:e,rowPinned:o}}getLastRow(){let e,o=null;const a=this.pinnedRowModel.getPinnedBottomRowCount(),c=this.pinnedRowModel.getPinnedTopRowCount();return a?(o="bottom",e=a-1):this.rowModel.getRowCount()?(o=null,e=this.pageBoundsService.getLastRow()):c&&(o="top",e=c-1),e===void 0?null:{rowIndex:e,rowPinned:o}}getRowNode(e){switch(e.rowPinned){case"top":return this.pinnedRowModel.getPinnedTopRow(e.rowIndex);case"bottom":return this.pinnedRowModel.getPinnedBottomRow(e.rowIndex);default:return this.rowModel.getRow(e.rowIndex)}}sameRow(e,o){return!e&&!o?!0:e&&!o||!e&&o?!1:e.rowIndex===o.rowIndex&&e.rowPinned==o.rowPinned}before(e,o){switch(e.rowPinned){case"top":if(o.rowPinned!=="top")return!0;break;case"bottom":if(o.rowPinned!=="bottom")return!1;break;default:if(_exists(o.rowPinned))return o.rowPinned!=="top";break}return e.rowIndex<o.rowIndex}},ROW_HEIGHT={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},HEADER_HEIGHT={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},LIST_ITEM_HEIGHT={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},Environment=class extends BeanStub{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.ancestorThemeClasses=[],this.sizesMeasured=!1,this.gridTheme=null}wireBeans(e){this.resizeObserverService=e.resizeObserverService,this.eGridDiv=e.eGridDiv}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addDestroyFunc(()=>this.stopUsingTheme()),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.ancestorThemeClasses=this.readAncestorThemeClasses(),this.setUpThemeClassObservers(),this.getSizeEl(ROW_HEIGHT),this.getSizeEl(HEADER_HEIGHT),this.getSizeEl(LIST_ITEM_HEIGHT)}getDefaultRowHeight(){return this.getCSSVariablePixelValue(ROW_HEIGHT)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(HEADER_HEIGHT)}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(LIST_ITEM_HEIGHT)}hasMeasuredSizes(){return this.sizesMeasured}getGridThemeClass(){var e;return((e=this.gridTheme)==null?void 0:e.getCssClass())||null}getThemeClasses(){return this.gridTheme?[this.gridTheme.getCssClass()]:this.ancestorThemeClasses}applyThemeClasses(e){const o=this.getThemeClasses();for(const a of Array.from(e.classList))a.startsWith("ag-theme-")&&!o.includes(a)&&e.classList.remove(a);e.classList.add(...o)}refreshRowHeightVariable(){const e=this.eGridDiv.style.getPropertyValue("--ag-line-height").trim(),o=this.gos.get("rowHeight");if(o==null||isNaN(o)||!isFinite(o))return e!==null&&this.eGridDiv.style.setProperty("--ag-line-height",null),-1;const a=`${o}px`;return e!=a?(this.eGridDiv.style.setProperty("--ag-line-height",a),o):e!=""?parseFloat(e):-1}getCSSVariablePixelValue(e){const o=this.lastKnownValues.get(e);if(o!=null)return o;const a=this.measureSizeEl(e);return a==="detached"||a==="no-styles"?e.defaultValue:(this.lastKnownValues.set(e,a),a)}measureSizeEl(e){const o=this.getSizeEl(e);if(o.offsetParent==null)return"detached";const a=o.offsetWidth;return a===NO_VALUE_SENTINEL?"no-styles":(this.sizesMeasured=!0,a)}getSizeEl(e){let o=this.sizeEls.get(e);if(o)return o;let a=this.eMeasurementContainer;a||(a=this.eMeasurementContainer=document.createElement("div"),a.className="ag-measurement-container",this.gos.get("theme")&&this.applyThemeClasses(a),this.eGridDiv.appendChild(a)),o=document.createElement("div"),o.style.width=`var(${e.cssName}, ${NO_VALUE_SENTINEL}px)`,a.appendChild(o),this.sizeEls.set(e,o);let c=this.measureSizeEl(e);c==="no-styles"&&_warnOnce(`no value for ${e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e.defaultValue} will be used and updated when styles load.`);const d=this.resizeObserverService.observeResize(o,()=>{const g=this.measureSizeEl(e);g==="detached"||g==="no-styles"||(this.lastKnownValues.set(e,g),g!==c&&(c=g,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>d()),o}fireGridStylesChangedEvent(e){this.eventService.dispatchEvent({type:"gridStylesChanged",[e]:!0})}setUpThemeClassObservers(){const e=new MutationObserver(()=>{const a=this.readAncestorThemeClasses();arraysEqual(a,this.ancestorThemeClasses)||(this.ancestorThemeClasses=a,this.fireGridStylesChangedEvent("themeChanged"))});let o=this.eGridDiv;for(;o;)e.observe(o||this.eGridDiv,{attributes:!0,attributeFilter:["class"]}),o=o.parentElement;this.addDestroyFunc(()=>e.disconnect())}readAncestorThemeClasses(){let e=this.eGridDiv;const o=[];for(;e;){const a=Array.from(e.classList).filter(c=>c.startsWith("ag-theme-"));for(const c of a)o.includes(c)||o.unshift(c);e=e.parentElement}return Object.freeze(o)}handleThemeGridOptionChange(){const{gos:e,eMeasurementContainer:o,gridTheme:a}=this,c=e.get("theme")||null;c!==a&&(a==null||a.stopUse(),this.gridTheme=c,c==null||c.startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),container:this.eGridDiv}),o&&this.applyThemeClasses(o),this.fireGridStylesChangedEvent("themeChanged"))}stopUsingTheme(){var e;(e=this.gridTheme)==null||e.stopUse(),this.gridTheme=null}},arraysEqual=(e,o)=>e.length===o.length&&e.findIndex((a,c)=>e[c]!==o[c])===-1,NO_VALUE_SENTINEL=15538,EventService=class extends BeanStub{constructor(){super(...arguments),this.beanName="eventService",this.globalEventService=new LocalEventService}wireBeans(e){this.globalEventListener=e.globalEventListener,this.globalSyncEventListener=e.globalSyncEventListener}postConstruct(){if(this.globalEventListener){const e=_useAsyncEvents(this.gos);this.addGlobalListener(this.globalEventListener,e)}this.globalSyncEventListener&&this.addGlobalListener(this.globalSyncEventListener,!1)}addEventListener(e,o,a){this.globalEventService.addEventListener(e,o,a)}removeEventListener(e,o,a){this.globalEventService.removeEventListener(e,o,a)}addGlobalListener(e,o=!1){this.globalEventService.addGlobalListener(e,o)}removeGlobalListener(e,o=!1){this.globalEventService.removeGlobalListener(e,o)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(this.gos.addGridCommonParams(e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(this.gos.addGridCommonParams(e))}},_FocusService=class Py extends BeanStub{constructor(){super(...arguments),this.beanName="focusService"}wireBeans(o){this.eGridDiv=o.eGridDiv,this.columnModel=o.columnModel,this.visibleColsService=o.visibleColsService,this.headerNavigationService=o.headerNavigationService,this.headerPositionUtils=o.headerPositionUtils,this.rowRenderer=o.rowRenderer,this.rowPositionUtils=o.rowPositionUtils,this.cellPositionUtils=o.cellPositionUtils,this.navigationService=o.navigationService,this.ctrlsService=o.ctrlsService,this.filterManager=o.filterManager,this.rangeService=o.rangeService,this.advancedFilterService=o.advancedFilterService,this.overlayService=o.overlayService}static addKeyboardModeEvents(o){this.instanceCount>0||(o.addEventListener("keydown",Py.toggleKeyboardMode),o.addEventListener("mousedown",Py.toggleKeyboardMode))}static removeKeyboardModeEvents(o){this.instanceCount>0||(o.removeEventListener("keydown",Py.toggleKeyboardMode),o.removeEventListener("mousedown",Py.toggleKeyboardMode))}static toggleKeyboardMode(o){const a=Py.keyboardModeActive,c=o.type==="keydown";c&&(o.ctrlKey||o.metaKey||o.altKey)||a!==c&&(Py.keyboardModeActive=c)}postConstruct(){const o=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:o,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:o,columnRowGroupChanged:o}),this.registerKeyboardFocusEvents(),this.ctrlsService.whenReady(this,a=>{this.gridCtrl=a.gridCtrl})}registerKeyboardFocusEvents(){const o=_getDocument(this.gos);Py.addKeyboardModeEvents(o),Py.instanceCount++,this.addDestroyFunc(()=>{Py.instanceCount--,Py.removeKeyboardModeEvents(o)})}onColumnEverythingChanged(){if(!this.focusedCellPosition)return;const o=this.focusedCellPosition.column,a=this.columnModel.getCol(o.getId());o!==a&&this.clearFocusedCell()}isKeyboardMode(){return Py.keyboardModeActive}getFocusCellToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedCellPosition||this.isDomDataMissingInHierarchy(_getActiveDomElement(this.gos),RowCtrl.DOM_DATA_KEY_ROW_CTRL)?null:this.focusedCellPosition}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeaderPosition||this.isDomDataMissingInHierarchy(_getActiveDomElement(this.gos),AbstractHeaderCellCtrl.DOM_DATA_KEY_HEADER_CTRL)?null:this.focusedHeaderPosition}isDomDataMissingInHierarchy(o,a){let c=o;for(;c;){if(_getDomData(this.gos,c,a))return!1;c=c.parentNode}return!0}getFocusedCell(){return this.focusedCellPosition}shouldRestoreFocus(o){return this.isCellRestoreFocused(o)?(setTimeout(()=>{this.restoredFocusedCellPosition=null},0),!0):!1}clearRestoreFocus(){this.restoredFocusedCellPosition=null,this.awaitRestoreFocusedCell=!1}restoreFocusedCell(o,a){this.awaitRestoreFocusedCell=!0,setTimeout(()=>{this.awaitRestoreFocusedCell&&(this.setRestoreFocusedCell(o),a())})}isCellRestoreFocused(o){return this.restoredFocusedCellPosition==null?!1:this.cellPositionUtils.equals(o,this.restoredFocusedCellPosition)}setRestoreFocusedCell(o){this.getFrameworkOverrides().renderingEngine==="react"&&(this.restoredFocusedCellPosition=o)}getFocusEventParams(o){const{rowIndex:a,rowPinned:c,column:d}=o,g={rowIndex:a,rowPinned:c,column:d,isFullWidthCell:!1},b=this.rowRenderer.getRowByPosition({rowIndex:a,rowPinned:c});return b&&(g.isFullWidthCell=b.isFullWidth()),g}clearFocusedCell(){if(this.restoredFocusedCellPosition=null,this.focusedCellPosition==null)return;const o=this.getFocusEventParams(this.focusedCellPosition);this.focusedCellPosition=null,this.eventService.dispatchEvent({type:"cellFocusCleared",...o})}setFocusedCell(o){const{column:a,rowIndex:c,rowPinned:d,forceBrowserFocus:g=!1,preventScrollOnBrowserFocus:b=!1}=o,_=this.columnModel.getCol(a);if(!_){this.focusedCellPosition=null;return}this.focusedCellPosition={rowIndex:c,rowPinned:_makeNull(d),column:_},this.eventService.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCellPosition),forceBrowserFocus:g,preventScrollOnBrowserFocus:b})}isCellFocused(o){return this.focusedCellPosition==null?!1:this.cellPositionUtils.equals(o,this.focusedCellPosition)}isRowNodeFocused(o){return this.isRowFocused(o.rowIndex,o.rowPinned)}isHeaderWrapperFocused(o){if(this.focusedHeaderPosition==null)return!1;const a=o.getColumnGroupChild(),c=o.getRowIndex(),d=o.getPinned(),{column:g,headerRowIndex:b}=this.focusedHeaderPosition;return a===g&&c===b&&d==g.getPinned()}clearFocusedHeader(){this.focusedHeaderPosition=null}getFocusedHeader(){return this.focusedHeaderPosition}setFocusedHeader(o,a){this.focusedHeaderPosition={headerRowIndex:o,column:a}}isHeaderFocusSuppressed(){return this.gos.get("suppressHeaderFocus")||this.overlayService.isExclusive()}isCellFocusSuppressed(){return this.gos.get("suppressCellFocus")||this.overlayService.isExclusive()}focusHeaderPosition(o){var j;if(this.isHeaderFocusSuppressed())return!1;const{direction:a,fromTab:c,allowUserOverride:d,event:g,fromCell:b,rowWithoutSpanValue:_}=o;let{headerPosition:$}=o;if(b&&((j=this.filterManager)!=null&&j.isAdvancedFilterHeaderActive()))return this.focusAdvancedFilter($);if(d){const rt=this.getFocusedHeader(),nt=this.headerNavigationService.getHeaderRowCount();if(c){const st=this.gos.getCallback("tabToNextHeader");st&&($=this.getHeaderPositionFromUserFunc({userFunc:st,direction:a,currentPosition:rt,headerPosition:$,headerRowCount:nt}))}else{const st=this.gos.getCallback("navigateToNextHeader");if(st&&g){const jt={key:g.key,previousHeaderPosition:rt,nextHeaderPosition:$,headerRowCount:nt,event:g};$=st(jt)}}}return $?this.focusProvidedHeaderPosition({headerPosition:$,direction:a,event:g,fromCell:b,rowWithoutSpanValue:_}):!1}focusHeaderPositionFromUserFunc(o){if(this.isHeaderFocusSuppressed())return!1;const{userFunc:a,headerPosition:c,direction:d,event:g}=o,b=this.getFocusedHeader(),_=this.headerNavigationService.getHeaderRowCount(),$=this.getHeaderPositionFromUserFunc({userFunc:a,direction:d,currentPosition:b,headerPosition:c,headerRowCount:_});return!!$&&this.focusProvidedHeaderPosition({headerPosition:$,direction:d,event:g})}getHeaderPositionFromUserFunc(o){const{userFunc:a,direction:c,currentPosition:d,headerPosition:g,headerRowCount:b}=o,$=a({backwards:c==="Before",previousHeaderPosition:d,nextHeaderPosition:g,headerRowCount:b});return $===!0||$===null?($===null&&_warnOnce("Since v31.3 Returning `null` from tabToNextHeader is deprecated. Return `true` to stay on the current header, or `false` to let the browser handle the tab behaviour."),d):$===!1?null:$}focusProvidedHeaderPosition(o){var nt;const{headerPosition:a,direction:c,fromCell:d,rowWithoutSpanValue:g,event:b}=o,{column:_,headerRowIndex:$}=a;if($===-1)return(nt=this.filterManager)!=null&&nt.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(a):this.focusGridView(_);this.headerNavigationService.scrollToColumn(_,c);const j=this.ctrlsService.getHeaderRowContainerCtrl(_.getPinned()),rt=(j==null?void 0:j.focusHeader(a.headerRowIndex,_,b))||!1;return rt&&(g!=null||d)&&this.headerNavigationService.setCurrentHeaderRowWithoutSpan(g??-1),rt}focusFirstHeader(){if(this.overlayService.isExclusive()&&this.focusOverlay())return!0;let o=this.visibleColsService.getAllCols()[0];if(!o)return!1;o.getParent()&&(o=this.visibleColsService.getColGroupAtLevel(o,0));const a=this.headerPositionUtils.getHeaderIndexToFocus(o,0);return this.focusHeaderPosition({headerPosition:a,rowWithoutSpanValue:0})}focusLastHeader(o){if(this.overlayService.isExclusive()&&this.focusOverlay(!0))return!0;const a=this.headerNavigationService.getHeaderRowCount()-1,c=_last(this.visibleColsService.getAllCols());return this.focusHeaderPosition({headerPosition:{headerRowIndex:a,column:c},rowWithoutSpanValue:-1,event:o})}focusPreviousFromFirstCell(o){var a;return(a=this.filterManager)!=null&&a.isAdvancedFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(o)}isAnyCellFocused(){return!!this.focusedCellPosition}isRowFocused(o,a){return this.focusedCellPosition==null?!1:this.focusedCellPosition.rowIndex===o&&this.focusedCellPosition.rowPinned===_makeNull(a)}findFocusableElements(o,a,c=!1){const d=FOCUSABLE_SELECTOR;let g=FOCUSABLE_EXCLUDE;a&&(g+=", "+a),c&&(g+=', [tabindex="-1"]');const b=Array.prototype.slice.apply(o.querySelectorAll(d)).filter(j=>_isVisible(j)),_=Array.prototype.slice.apply(o.querySelectorAll(g));return _.length?((j,rt)=>j.filter(nt=>rt.indexOf(nt)===-1))(b,_):b}focusInto(o,a=!1,c=!1){const d=this.findFocusableElements(o,null,c),g=a?_last(d):d[0];return g?(g.focus({preventScroll:!0}),!0):!1}findFocusableElementBeforeTabGuard(o,a){if(!a)return null;const c=this.findFocusableElements(o),d=c.indexOf(a);if(d===-1)return null;let g=-1;for(let b=d-1;b>=0;b--)if(c[b].classList.contains("ag-tab-guard-top")){g=b;break}return g<=0?null:c[g-1]}findNextFocusableElement(o=this.eGridDiv,a,c){const d=this.findFocusableElements(o,a?':not([tabindex="-1"])':null),g=_getActiveDomElement(this.gos);let b;a?b=d.findIndex($=>$.contains(g)):b=d.indexOf(g);const _=b+(c?-1:1);return _<0||_>=d.length?null:d[_]}isTargetUnderManagedComponent(o,a){if(!a)return!1;const c=o.querySelectorAll(`.${ManagedFocusFeature.FOCUS_MANAGED_CLASS}`);if(!c.length)return!1;for(let d=0;d<c.length;d++)if(c[d].contains(a))return!0;return!1}findTabbableParent(o,a=5){let c=0;for(;o&&_getTabIndex(o)===null&&++c<=a;)o=o.parentElement;return _getTabIndex(o)===null?null:o}focusOverlay(o){var c;const a=this.overlayService.isVisible()&&((c=this.overlayService.getOverlayWrapper())==null?void 0:c.getGui());return!!a&&this.focusInto(a,o)}focusGridViewFailed(o,a){return a&&this.focusOverlay(o)||o&&this.focusLastHeader()}focusGridView(o,a=!1,c=!0){var g,b;if(this.overlayService.isExclusive())return c&&this.focusOverlay(a);if(this.isCellFocusSuppressed())return a&&!this.isHeaderFocusSuppressed()?this.focusLastHeader():c&&this.focusOverlay(a)?!0:this.focusNextGridCoreContainer(!1);const d=a?this.rowPositionUtils.getLastRow():this.rowPositionUtils.getFirstRow();if(d){const{rowIndex:_,rowPinned:$}=d;if(o??(o=(g=this.getFocusedHeader())==null?void 0:g.column),o&&_!==void 0&&_!==null){if(this.navigationService.ensureCellVisible({rowIndex:_,column:o,rowPinned:$}),a){const j=this.rowRenderer.getRowByPosition(d);if(j!=null&&j.isFullWidth()&&this.navigationService.tryToFocusFullWidthRow(d,a))return!0}return this.setFocusedCell({rowIndex:_,column:o,rowPinned:_makeNull($),forceBrowserFocus:!0}),(b=this.rangeService)==null||b.setRangeToCell({rowIndex:_,rowPinned:$,column:o}),!0}}return!!(c&&this.focusOverlay(a)||a&&this.focusLastHeader())}isGridFocused(){const o=_getActiveDomElement(this.gos);return!!o&&this.eGridDiv.contains(o)}focusNextGridCoreContainer(o,a=!1){return!a&&this.gridCtrl.focusNextInnerContainer(o)?!0:((a||!o&&!this.gridCtrl.isDetailGrid())&&this.gridCtrl.forceFocusOutOfContainer(o),!1)}focusAdvancedFilter(o){var a;return this.advancedFilterFocusColumn=o==null?void 0:o.column,((a=this.advancedFilterService)==null?void 0:a.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(o,a){var d;const c=(a?void 0:this.advancedFilterFocusColumn)??((d=this.visibleColsService.getAllCols())==null?void 0:d[0]);return o?this.focusHeaderPosition({headerPosition:{column:c,headerRowIndex:this.headerNavigationService.getHeaderRowCount()-1}}):this.focusGridView(c)}clearAdvancedFilterColumn(){this.advancedFilterFocusColumn=void 0}addFocusableContainer(o){this.gridCtrl.addFocusableContainer(o)}removeFocusableContainer(o){this.gridCtrl.removeFocusableContainer(o)}focusGridInnerElement(o){return this.gridCtrl.focusInnerElement(o)}allowFocusForNextGridCoreContainer(o){this.gridCtrl.allowFocusForNextCoreContainer(o)}};_FocusService.keyboardModeActive=!1;_FocusService.instanceCount=0;var FocusService=_FocusService,PinnedWidthService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pinnedWidthService"}wireBeans(e){this.visibleColsService=e.visibleColsService}postConstruct(){const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const e=_isDomLayout(this.gos,"print"),o=e?0:this.visibleColsService.getColsLeftWidth(),a=e?0:this.visibleColsService.getDisplayedColumnsRightWidth();o!=this.leftWidth&&(this.leftWidth=o,this.eventService.dispatchEvent({type:"leftPinnedWidthChanged"})),a!=this.rightWidth&&(this.rightWidth=a,this.eventService.dispatchEvent({type:"rightPinnedWidthChanged"}))}getPinnedRightWidth(){return this.rightWidth}getPinnedLeftWidth(){return this.leftWidth}},GridCtrl=class extends BeanStub{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}wireBeans(e){this.beans=e,this.focusService=e.focusService,this.visibleColsService=e.visibleColsService}setComp(e,o,a){this.view=e,this.eGridHostDiv=o,this.eGui=a,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDropService:c,mouseEventService:d,ctrlsService:g,resizeObserverService:b}=this.beans,_={getContainer:()=>this.eGui,isInterestedIn:j=>j===1||j===0,getIconName:()=>"notAllowed"};c.addDropTarget(_),this.addDestroyFunc(()=>c.removeDropTarget(_)),d.stampTopLevelGridCompWithGridInstance(o),this.createManagedBean(new LayoutFeature(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr"),this.updateGridThemeClass(),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)});const $=b.observeResize(this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>$()),g.register("gridCtrl",this)}isDetailGrid(){var o;const e=this.focusService.findTabbableParent(this.getGui());return((o=e==null?void 0:e.getAttribute("row-id"))==null?void 0:o.startsWith("detail"))||!1}getOptionalSelectors(){var o,a,c,d,g;const e=this.beans;return{paginationSelector:(o=e.paginationService)==null?void 0:o.getPaginationSelector(),gridHeaderDropZonesSelector:(a=e.columnDropZonesService)==null?void 0:a.getDropZoneSelector(),sideBarSelector:(c=e.sideBarService)==null?void 0:c.getSideBarSelector(),statusBarSelector:(d=e.statusBarService)==null?void 0:d.getStatusPanelSelector(),watermarkSelector:(g=e.licenseManager)==null?void 0:g.getWatermarkSelector()}}onGridSizeChanged(){this.eventService.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const o=this.getFocusableContainers(),{indexWithFocus:a,nextIndex:c}=this.getNextFocusableIndex(o,e);if(c<0||c>=o.length)return!1;if(c===0){if(a>0){const d=this.visibleColsService.getAllCols(),g=_last(d);if(this.focusService.focusGridView(g,!0))return!0}return!1}return this.focusContainer(o[c],e)}focusInnerElement(e){const o=this.gos.getCallback("focusGridInnerElement");if(o&&o({fromBottom:!!e}))return!0;const a=this.getFocusableContainers(),c=this.visibleColsService.getAllCols();if(e){if(a.length>1)return this.focusContainer(_last(a),!0);const d=_last(c);if(this.focusService.focusGridView(d,!0))return!0}if(this.gos.get("headerHeight")===0||this.focusService.isHeaderFocusSuppressed()){if(this.focusService.focusGridView(c[0]))return!0;for(let d=1;d<a.length;d++)if(this.focusService.focusInto(a[d].getGui()))return!0;return!1}return this.focusService.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var g;const o=this.view.getFocusableContainers(),{nextIndex:a,indexWithFocus:c}=this.getNextFocusableIndex(o,e);if(c===-1||a<0||a>=o.length)return;const d=o[a];(g=d.setAllowFocus)==null||g.call(d,!0),setTimeout(()=>{var b;(b=d.setAllowFocus)==null||b.call(d,!1)})}getNextFocusableIndex(e,o){const a=_getActiveDomElement(this.gos),c=e.findIndex(g=>g.getGui().contains(a)),d=c+(o?-1:1);return{indexWithFocus:c,nextIndex:d}}focusContainer(e,o){var c,d;(c=e.setAllowFocus)==null||c.call(e,!0);const a=this.focusService.focusInto(e.getGui(),o);return(d=e.setAllowFocus)==null||d.call(e,!1),a}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}updateGridThemeClass(){const e=this.beans.environment.getGridThemeClass();e&&this.view.setGridThemeClass(e)}handleThemeChange(e){e.themeChanged&&this.updateGridThemeClass()}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},GridComp$1=class extends TabGuardComp$1{constructor(o){super(),this.gridBody=RefPlaceholder,this.sideBar=RefPlaceholder,this.pagination=RefPlaceholder,this.rootWrapperBody=RefPlaceholder,this.eGridDiv=o}postConstruct(){const o={destroyGridUi:()=>this.destroyBean(this),setRtlClass:b=>this.addCssClass(b),setGridThemeClass:b=>this.addCssClass(b),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:b=>{this.getGui().style.userSelect=b??"",this.getGui().style.webkitUserSelect=b??""},setCursor:b=>{this.getGui().style.cursor=b??""}},a=this.createManagedBean(new GridCtrl),c=a.getOptionalSelectors(),d=this.createTemplate(c),g=[GridBodySelector,...Object.values(c).filter(b=>!!b)];this.setTemplate(d,g),a.setComp(o,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:b=>a.focusInnerElement(b),forceFocusOutWhenTabGuardsAreEmpty:!0})}insertGridIntoDom(){const o=this.getGui();this.eGridDiv.appendChild(o),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(o),this.gos.get("debug")&&_log("Grid removed from DOM")})}updateLayoutClasses(o,a){const c=this.rootWrapperBody.classList;c.toggle("ag-layout-auto-height",a.autoHeight),c.toggle("ag-layout-normal",a.normal),c.toggle("ag-layout-print",a.print),this.addOrRemoveCssClass("ag-layout-auto-height",a.autoHeight),this.addOrRemoveCssClass("ag-layout-normal",a.normal),this.addOrRemoveCssClass("ag-layout-print",a.print)}createTemplate(o){const a=o.gridHeaderDropZonesSelector?"<ag-grid-header-drop-zones></ag-grid-header-drop-zones>":"",c=o.sideBarSelector?'<ag-side-bar data-ref="sideBar"></ag-side-bar>':"",d=o.statusBarSelector?"<ag-status-bar></ag-status-bar>":"",g=o.watermarkSelector?"<ag-watermark></ag-watermark>":"",b=o.paginationSelector?'<ag-pagination data-ref="pagination"></ag-pagination>':"";return`<div class="ag-root-wrapper" role="presentation">
                ${a}
                <div class="ag-root-wrapper-body" data-ref="rootWrapperBody" role="presentation">
                    <ag-grid-body data-ref="gridBody"></ag-grid-body>
                    ${c}
                </div>
                ${d}
                ${b}
                ${g}
            </div>`}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(o=!1){var a;if(!o&&((a=this.pagination)!=null&&a.isDisplayed())){this.pagination.forceFocusOutOfContainer(o);return}super.forceFocusOutOfContainer(o)}getFocusableContainers(){const o=[this.gridBody];return[this.sideBar,this.pagination].forEach(a=>{a&&o.push(a)}),o.filter(a=>_isVisible(a.getGui()))}},AlignedGridsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="alignedGridsService",this.consuming=!1}wireBeans(e){this.columnModel=e.columnModel,this.columnSizeService=e.columnSizeService,this.ctrlsService=e.ctrlsService,this.columnApplyStateService=e.columnApplyStateService}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const o=typeof e=="function";typeof e=="function"&&(e=e());const a=()=>`See ${this.getFrameworkOverrides().getDocLink("aligned-grids")}`;return e.map(d=>{var b;if(!d){_errorOnce("alignedGrids contains an undefined option."),o||_errorOnce(`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`),_errorOnce(a());return}if(this.isGridApi(d))return d;const g=d;return"current"in g?(b=g.current)==null?void 0:b.api:(g.api||_errorOnce(`alignedGrids - No api found on the linked grid. If you are passing gridOptions to alignedGrids since v31 this is no longer valid. ${a()}`),g.api)}).filter(d=>!!d&&!d.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:o})=>this.onColumnEvent(o),alignedGridScroll:({event:o})=>this.onScrollEvent(o)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(o=>{o.isDestroyed()||o.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.ctrlsService.getGridBodyCtrl().getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,o){const a=[];return e.columns?e.columns.forEach(c=>{a.push(o(c))}):e.column&&a.push(o(e.column)),a}getMasterColumns(e){return this.extractDataFromEvent(e,o=>o)}getColumnIds(e){return this.extractDataFromEvent(e,o=>o.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":_warnOnce("pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.");break}})}processGroupOpenedEvent(e){const{columnModel:o}=this;e.columnGroups.forEach(a=>{let c=null;a&&(c=o.getProvidedColGroup(a.getGroupId())),!(a&&!c)&&o.setColumnGroupOpened(c,a.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var j;const o=e.column;let a=null;if(o&&(a=this.columnModel.getColDefCol(o.getColId())),o&&!a)return;const c=this.getMasterColumns(e),{columnApplyStateService:d,columnSizeService:g,ctrlsService:b}=this;switch(e.type){case"columnMoved":{const nt=e.api.getColumnState().map(st=>({colId:st.colId}));d.applyColumnState({state:nt,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const nt=e.api.getColumnState().map(st=>({colId:st.colId,hide:st.hide}));d.applyColumnState({state:nt},"alignedGridChanged")}break;case"columnPinned":{const nt=e.api.getColumnState().map(st=>({colId:st.colId,pinned:st.pinned}));d.applyColumnState({state:nt},"alignedGridChanged")}break;case"columnResized":{const rt=e,nt={};c.forEach(st=>{nt[st.getId()]={key:st.getColId(),newWidth:st.getActualWidth()}}),(j=rt.flexColumns)==null||j.forEach(st=>{nt[st.getId()]&&delete nt[st.getId()]}),g.setColumnWidths(Object.values(nt),!1,rt.finished,"alignedGridChanged");break}}const $=b.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(rt=>{rt.setGridOption("alwaysShowVerticalScroll",$)})}},AlignedGridsModule={version:VERSION,moduleName:"@ag-grid-community/aligned-grid",beans:[AlignedGridsService]};function getColumnDef(e,o){const a=e.columnModel.getColDefCol(o);return a?a.getColDef():null}function getColumnDefs$1(e){return e.columnModel.getColumnDefs()}function sizeColumnsToFit(e,o){typeof o=="number"?e.columnSizeService.sizeColumnsToFit(o,"api"):e.ctrlsService.getGridBodyCtrl().sizeColumnsToFit(o)}function setColumnGroupOpened(e,o,a){e.columnModel.setColumnGroupOpened(o,a,"api")}function getColumnGroup(e,o,a){return e.visibleColsService.getColumnGroup(o,a)}function getProvidedColumnGroup(e,o){return e.columnModel.getProvidedColGroup(o)}function getDisplayNameForColumn(e,o,a){return e.columnNameService.getDisplayNameForColumn(o,a)||""}function getDisplayNameForColumnGroup(e,o,a){return e.columnNameService.getDisplayNameForColumnGroup(o,a)||""}function getColumn(e,o){return e.columnModel.getColDefCol(o)}function getColumns(e){return e.columnModel.getColDefCols()}function applyColumnState(e,o){return e.columnApplyStateService.applyColumnState(o,"api")}function getColumnState(e){return e.columnGetStateService.getColumnState()}function resetColumnState(e){e.columnApplyStateService.resetColumnState("api")}function getColumnGroupState(e){return e.columnGroupStateService.getColumnGroupState()}function setColumnGroupState(e,o){e.columnGroupStateService.setColumnGroupState(o,"api")}function resetColumnGroupState(e){e.columnGroupStateService.resetColumnGroupState("api")}function isPinning(e){return e.visibleColsService.isPinningLeft()||e.visibleColsService.isPinningRight()}function isPinningLeft(e){return e.visibleColsService.isPinningLeft()}function isPinningRight(e){return e.visibleColsService.isPinningRight()}function getDisplayedColAfter(e,o){return e.visibleColsService.getColAfter(o)}function getDisplayedColBefore(e,o){return e.visibleColsService.getColBefore(o)}function setColumnVisible(e,o,a){e.columnModel.setColsVisible([o],a,"api")}function setColumnsVisible(e,o,a){e.columnModel.setColsVisible(o,a,"api")}function setColumnPinned(e,o,a){e.columnModel.setColsPinned([o],a,"api")}function setColumnsPinned(e,o,a){e.columnModel.setColsPinned(o,a,"api")}function getAllGridColumns(e){return e.columnModel.getCols()}function getDisplayedLeftColumns(e){return e.visibleColsService.getLeftCols()}function getDisplayedCenterColumns(e){return e.visibleColsService.getCenterCols()}function getDisplayedRightColumns(e){return e.visibleColsService.getRightCols()}function getAllDisplayedColumns(e){return e.visibleColsService.getAllCols()}function getAllDisplayedVirtualColumns(e){return e.columnViewportService.getViewportColumns()}function moveColumn(e,o,a){e.columnMoveService.moveColumns([o],a,"api")}function moveColumnByIndex(e,o,a){e.columnMoveService.moveColumnByIndex(o,a,"api")}function moveColumns(e,o,a){e.columnMoveService.moveColumns(o,a,"api")}function setColumnWidth(e,o,a,c=!0,d="api"){e.columnSizeService.setColumnWidths([{key:o,newWidth:a}],!1,c,d)}function setColumnWidths(e,o,a=!0,c="api"){e.columnSizeService.setColumnWidths(o,!1,a,c)}function getLeftDisplayedColumnGroups(e){return e.visibleColsService.getTreeLeft()}function getCenterDisplayedColumnGroups(e){return e.visibleColsService.getTreeCenter()}function getRightDisplayedColumnGroups(e){return e.visibleColsService.getTreeRight()}function getAllDisplayedColumnGroups(e){return e.visibleColsService.getAllTrees()}function autoSizeColumn(e,o,a){return e.columnAutosizeService.autoSizeCols({colKeys:[o],skipHeader:a,source:"api"})}function autoSizeColumns(e,o,a){e.columnAutosizeService.autoSizeCols({colKeys:o,skipHeader:a,source:"api"})}function autoSizeAllColumns(e,o){e.columnAutosizeService.autoSizeAllColumns("api",o)}var DataTypeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="dataTypeService",this.dataTypeDefinitions={},this.isWaitingForRowData=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.columnApplyStateService=e.columnApplyStateService,this.filterManager=e.filterManager}postConstruct(){this.groupHideOpenParents=this.gos.get("groupHideOpenParents"),this.addManagedPropertyListener("groupHideOpenParents",()=>{this.groupHideOpenParents=this.gos.get("groupHideOpenParents")}),this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.columnModel.recreateColumnDefs(convertSourceType(e.source))})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes();this.dataTypeDefinitions={},this.formatValueFuncs={};const o=c=>d=>{const{column:g,node:b,value:_}=d;let $=g.getColDef().valueFormatter;return $===c.groupSafeValueFormatter&&($=c.valueFormatter),this.valueService.formatValue(g,b,_,$)};Object.entries(e).forEach(([c,d])=>{const g={...d,groupSafeValueFormatter:this.createGroupSafeValueFormatter(d)};this.dataTypeDefinitions[c]=g,this.formatValueFuncs[c]=o(g)});const a=this.gos.get("dataTypeDefinitions")??{};this.dataTypeMatchers={},Object.entries(a).forEach(([c,d])=>{const g=this.processDataTypeDefinition(d,a,[c],e);g&&(this.dataTypeDefinitions[c]=g,d.dataTypeMatcher&&(this.dataTypeMatchers[c]=d.dataTypeMatcher),this.formatValueFuncs[c]=o(g))}),this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(c=>{const d=this.dataTypeMatchers[c];d&&delete this.dataTypeMatchers[c],this.dataTypeMatchers[c]=d??e[c].dataTypeMatcher})}mergeDataTypeDefinitions(e,o){const a={...e,...o};return e.columnTypes&&o.columnTypes&&o.appendColumnTypes&&(a.columnTypes=[...convertColumnTypes(e.columnTypes),...convertColumnTypes(o.columnTypes)]),a}processDataTypeDefinition(e,o,a,c){let d;const g=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let b=c[g];const _=o[g];if(b&&_&&(b=_),!this.validateDataTypeDefinition(e,b,g))return;d=this.mergeDataTypeDefinitions(b,e)}else{if(a.includes(g)){_warnOnce('Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.');return}const b=o[g];if(!this.validateDataTypeDefinition(e,b,g))return;const _=this.processDataTypeDefinition(b,o,[...a,g],c);if(!_)return;d=this.mergeDataTypeDefinitions(_,e)}return{...d,groupSafeValueFormatter:this.createGroupSafeValueFormatter(d)}}validateDataTypeDefinition(e,o,a){return o?o.baseDataType!==e.baseDataType?(_warnOnce('The "baseDataType" property of a data type definition must match that of its parent.'),!1):!0:(_warnOnce(`The data type definition ${a} does not exist.`),!1)}createGroupSafeValueFormatter(e){if(e.valueFormatter)return o=>{var a,c;if((a=o.node)!=null&&a.group){const d=(o.colDef.pivotValueColumn??o.column).getAggFunc();if(d){if(d==="first"||d==="last")return e.valueFormatter(o);if(e.baseDataType==="number"&&d!=="count"){if(typeof o.value=="number")return e.valueFormatter(o);if(typeof o.value=="object"){if(!o.value)return;if("toNumber"in o.value)return e.valueFormatter({...o,value:o.value.toNumber()});if("value"in o.value)return e.valueFormatter({...o,value:o.value.value})}}return}if((this.gos.get("suppressGroupMaintainValueType")||this.gos.get("groupDisplayType")==="groupRows")&&!this.gos.get("treeData"))return}else if(this.groupHideOpenParents&&o.column.isRowGroupActive()&&typeof o.value=="string"&&!((c=e.dataTypeMatcher)!=null&&c.call(e,o.value)))return;return e.valueFormatter(o)}}updateColDefAndGetColumnType(e,o,a){let{cellDataType:c}=o;const{field:d}=o;if(c===void 0&&(c=e.cellDataType),(c==null||c===!0)&&(c=this.canInferCellDataType(e,o)?this.inferCellDataType(d,a):!1),!c){e.cellDataType=!1;return}const g=this.dataTypeDefinitions[c];if(!g){_warnOnce(`Missing data type definition - "${c}"`);return}return e.cellDataType=c,g.groupSafeValueFormatter&&(e.valueFormatter=g.groupSafeValueFormatter),g.valueParser&&(e.valueParser=g.valueParser),g.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,c,g,a),g.columnTypes}addColumnListeners(e){if(!this.isWaitingForRowData)return;const o=this.columnStateUpdatesPendingInference[e.getColId()];if(!o)return;const a=c=>{o.add(c.key)};e.addEventListener("columnStateUpdated",a),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.removeEventListener("columnStateUpdated",a))}canInferCellDataType(e,o){if(!_isClientSideRowModel(this.gos))return!1;const a={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(this.doColDefPropsPreventInference(o,a))return!1;const c=o.type===null?e.type:o.type;if(c){const d=this.gos.get("columnTypes")??{};if(convertColumnTypes(c).some(b=>{const _=d[b.trim()];return _&&this.doColDefPropsPreventInference(_,a)}))return!1}return!this.doColDefPropsPreventInference(e,a)}doColDefPropsPreventInference(e,o){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([a,c])=>this.doesColDefPropPreventInference(e,o,a,c))}doesColDefPropPreventInference(e,o,a,c){if(!o[a])return!1;const d=e[a];return d===null?(o[a]=!1,!1):c===void 0?!!d:d===c}inferCellDataType(e,o){if(!e)return;let a;const c=this.getInitialData();if(c){const g=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");a=_getValueUsingField(c,e,g)}else this.initWaitForRowData(o);if(a==null)return;const[d]=Object.entries(this.dataTypeMatchers).find(([g,b])=>b(a))??["object"];return d}getInitialData(){const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const o=this.rowModel.getRootNode().allLeafChildren;if(o!=null&&o.length)return o[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isWaitingForRowData)return;this.isWaitingForRowData=!0;const o=this.isColumnTypeOverrideInDataTypeDefinitions;o&&this.columnModel.queueResizeOperations();const[a]=this.addManagedEventListeners({rowDataUpdateStarted:c=>{const{firstRowData:d}=c;d&&(a==null||a(),this.isWaitingForRowData=!1,this.processColumnsPendingInference(d,o),this.columnStateUpdatesPendingInference={},o&&this.columnModel.processResizeOperations(),this.eventService.dispatchEvent({type:"dataTypesInferred"}))}})}isPendingInference(){return this.isWaitingForRowData}processColumnsPendingInference(e,o){this.initialData=e;const a=[];this.destroyColumnStateUpdateListeners();const c={},d={};Object.entries(this.columnStateUpdatesPendingInference).forEach(([g,b])=>{const _=this.columnModel.getCol(g);if(!_)return;const $=_.getColDef();if(!this.columnModel.resetColDefIntoCol(_,"cellDataTypeInferred"))return;const j=_.getColDef();if(o&&j.type&&j.type!==$.type){const rt=this.getUpdatedColumnState(_,b);rt.rowGroup&&rt.rowGroupIndex==null&&(c[g]=rt),rt.pivot&&rt.pivotIndex==null&&(d[g]=rt),a.push(rt)}}),o&&a.push(...this.funcColsService.generateColumnStateForRowGroupAndPivotIndexes(c,d)),a.length&&this.columnApplyStateService.applyColumnState({state:a},"cellDataTypeInferred"),this.initialData=null}getUpdatedColumnState(e,o){const a=this.columnApplyStateService.getColumnStateFromColDef(e);return o.forEach(c=>{delete a[c],c==="rowGroup"?delete a.rowGroupIndex:c==="pivot"&&delete a.pivotIndex}),a}checkObjectValueHandlers(e){const o=this.dataTypeDefinitions.object,a=e.object;this.hasObjectValueParser=o.valueParser!==a.valueParser,this.hasObjectValueFormatter=o.valueFormatter!==a.valueFormatter}getDateStringTypeDefinition(e){return e?this.getDataTypeDefinition(e)??this.dataTypeDefinitions.dateString:this.dataTypeDefinitions.dateString}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const o=e.getColDef();if(o.cellDataType)return this.dataTypeDefinitions[o.cellDataType]}getBaseDataType(e){var o;return(o=this.getDataTypeDefinition(e))==null?void 0:o.baseDataType}checkType(e,o){var c;if(o==null)return!0;const a=(c=this.getDataTypeDefinition(e))==null?void 0:c.dataTypeMatcher;return a?a(o):!0}validateColDef(e){const o=a=>_warnOnce(`Cell data type is "object" but no Value ${a} has been provided. Please either provide an object data type definition with a Value ${a}, or set "colDef.value${a}"`);e.cellDataType==="object"&&(e.valueFormatter===this.dataTypeDefinitions.object.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&o("Formatter"),e.editable&&e.valueParser===this.dataTypeDefinitions.object.valueParser&&!this.hasObjectValueParser&&o("Parser"))}getFormatValue(e){return this.formatValueFuncs[e]}setColDefPropertiesForBaseDataType(e,o,a,c){var g;const d=this.formatValueFuncs[o];switch(a.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.suppressKeyboardEvent=b=>!!b.colDef.editable&&b.event.key===KeyCode.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=d;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=d;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(b,_)=>{const $=this.columnModel.getColDefCol(c),j=$==null?void 0:$.getColDef();if(!$||!j)return 0;const rt=b==null?"":d({column:$,node:null,value:b}),nt=_==null?"":d({column:$,node:null,value:_});return rt===nt?0:rt>nt?1:-1},e.keyCreator=d;break}}(g=this.filterManager)==null||g.setColDefPropertiesForDataType(e,a,d)}getDefaultDataTypes(){const e=a=>!!a.match("^\\d{4}-\\d{2}-\\d{2}$"),o=this.localeService.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:a=>{var c,d;return((d=(c=a.newValue)==null?void 0:c.trim)==null?void 0:d.call(c))===""?null:Number(a.newValue)},valueFormatter:a=>a.value==null?"":typeof a.value!="number"||isNaN(a.value)?o("invalidNumber","Invalid Number"):String(a.value),dataTypeMatcher:a=>typeof a=="number"},text:{baseDataType:"text",valueParser:a=>a.newValue===""?null:_toStringOrNull(a.newValue),dataTypeMatcher:a=>typeof a=="string"},boolean:{baseDataType:"boolean",valueParser:a=>{var c,d;return a.newValue==null?a.newValue:((d=(c=a.newValue)==null?void 0:c.trim)==null?void 0:d.call(c))===""?null:String(a.newValue).toLowerCase()==="true"},valueFormatter:a=>a.value==null?"":String(a.value),dataTypeMatcher:a=>typeof a=="boolean"},date:{baseDataType:"date",valueParser:a=>_parseDateTimeFromString(a.newValue==null?null:String(a.newValue)),valueFormatter:a=>a.value==null?"":!(a.value instanceof Date)||isNaN(a.value.getTime())?o("invalidDate","Invalid Date"):_serialiseDate(a.value,!1)??"",dataTypeMatcher:a=>a instanceof Date},dateString:{baseDataType:"dateString",dateParser:a=>_parseDateTimeFromString(a)??void 0,dateFormatter:a=>_serialiseDate(a??null,!1)??void 0,valueParser:a=>e(String(a.newValue))?a.newValue:null,valueFormatter:a=>e(String(a.value))?a.value:"",dataTypeMatcher:a=>typeof a=="string"&&e(a)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:a=>_toStringOrNull(a.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}},DataTypeModule={version:VERSION,moduleName:"@ag-grid-community/data-type",beans:[DataTypeService]},ColumnApiModule={version:VERSION,moduleName:"@ag-grid-community/column-api",apiFunctions:{getColumnDef,getColumnDefs:getColumnDefs$1,sizeColumnsToFit,setColumnGroupOpened,getColumnGroup,getProvidedColumnGroup,getDisplayNameForColumn,getDisplayNameForColumnGroup,getColumn,getColumns,applyColumnState,getColumnState,resetColumnState,getColumnGroupState,setColumnGroupState,resetColumnGroupState,isPinning,isPinningLeft,isPinningRight,getDisplayedColAfter,getDisplayedColBefore,setColumnVisible,setColumnsVisible,setColumnPinned,setColumnsPinned,getAllGridColumns,getDisplayedLeftColumns,getDisplayedCenterColumns,getDisplayedRightColumns,getAllDisplayedColumns,getAllDisplayedVirtualColumns,moveColumn,moveColumnByIndex,moveColumns,setColumnWidth,setColumnWidths,getLeftDisplayedColumnGroups,getCenterDisplayedColumnGroups,getRightDisplayedColumnGroups,getAllDisplayedColumnGroups,autoSizeColumn,autoSizeColumns,autoSizeAllColumns}};function addRowDropZone(e,o){e.ctrlsService.getGridBodyCtrl().getRowDragFeature().addRowDropZone(o)}function removeRowDropZone(e,o){const a=e.dragAndDropService.findExternalZone(o);a&&e.dragAndDropService.removeDropTarget(a)}function getRowDropZoneParams(e,o){return e.ctrlsService.getGridBodyCtrl().getRowDragFeature().getRowDropZone(o)}var DragApiModule={version:VERSION,moduleName:"@ag-grid-community/drag-api",apiFunctions:{addRowDropZone,removeRowDropZone,getRowDropZoneParams}};function getPinnedTopRowCount(e){return e.pinnedRowModel.getPinnedTopRowCount()}function getPinnedBottomRowCount(e){return e.pinnedRowModel.getPinnedBottomRowCount()}function getPinnedTopRow(e,o){return e.pinnedRowModel.getPinnedTopRow(o)}function getPinnedBottomRow(e,o){return e.pinnedRowModel.getPinnedBottomRow(o)}var PinnedRowApiModule={version:VERSION,moduleName:"@ag-grid-community/pinned-row-api",apiFunctions:{getPinnedTopRowCount,getPinnedBottomRowCount,getPinnedTopRow,getPinnedBottomRow}};function showLoadingOverlay(e){e.overlayService.showLoadingOverlay()}function showNoRowsOverlay(e){e.overlayService.showNoRowsOverlay()}function hideOverlay(e){e.overlayService.hideOverlay()}var OverlayApiModule={version:VERSION,moduleName:"@ag-grid-community/overlay-api",apiFunctions:{showLoadingOverlay,showNoRowsOverlay,hideOverlay}};function setGridAriaProperty(e,o,a){if(!o)return;const c=e.ctrlsService.getGridBodyCtrl().getGui(),d=`aria-${o}`;a===null?c.removeAttribute(d):c.setAttribute(d,a)}function refreshCells(e,o={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(o))}function flashCells(e,o={}){const a=c=>_warnOnce(`Since v31.1 api.flashCells parameter '${c}Delay' is deprecated. Please use '${c}Duration' instead.`);_exists(o.fadeDelay)&&a("fade"),_exists(o.flashDelay)&&a("flash"),e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.flashCells(o))}function refreshHeader(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsService.getHeaderRowContainerCtrls().forEach(o=>o.refresh()))}function isAnimationFrameQueueEmpty(e){return e.animationFrameService.isQueueEmpty()}function flushAllAnimationFrames(e){e.animationFrameService.flushAllFrames()}function getSizesForCurrentTheme(e){return{rowHeight:_getRowHeightAsNumber(e.gos),headerHeight:e.columnModel.getHeaderHeight()}}function getCellRendererInstances(e,o={}){return e.rowRenderer.getCellRendererInstances(o).map(_unwrapUserComp)}var RenderApiModule={version:VERSION,moduleName:"@ag-grid-community/render-api",apiFunctions:{setGridAriaProperty,refreshCells,flashCells,refreshHeader,isAnimationFrameQueueEmpty,flushAllAnimationFrames,getSizesForCurrentTheme,getCellRendererInstances}};function expireValueCache(e){e.valueCache.expire()}function getValue(e,o,a){return getCellValue(e,{colKey:o,rowNode:a})}function getCellValue(e,o){const{colKey:a,rowNode:c,useFormatter:d}=o,g=e.columnModel.getColDefCol(a)??e.columnModel.getCol(a);if(_missing(g))return null;const b=e.valueService.getValueForDisplay(g,c);return d?e.valueService.formatValue(g,c,b)??_escapeString(b,!0):b}function getGridId(e){return e.context.getGridId()}function destroy(e){e.gridDestroyService.destroy()}function isDestroyed(e){return e.gridDestroyService.isDestroyCalled()}function getGridOption(e,o){return e.gos.get(o)}function setGridOption(e,o,a){updateGridOptions(e,{[o]:a})}function updateGridOptions(e,o){e.gos.updateGridOptions({options:o})}function addEventListener$1(e,o,a){e.apiEventService.addEventListener(o,a)}function removeEventListener$1(e,o,a){e.apiEventService.removeEventListener(o,a)}function addGlobalListener(e,o){e.apiEventService.addGlobalListener(o)}function removeGlobalListener(e,o){e.apiEventService.removeGlobalListener(o)}function getFocusedCell(e){return e.focusService.getFocusedCell()}function clearFocusedCell(e){return e.focusService.clearFocusedCell()}function setFocusedCell(e,o,a,c){e.focusService.setFocusedCell({rowIndex:o,column:a,rowPinned:c,forceBrowserFocus:!0})}function tabToNextCell(e,o){return e.navigationService.tabToNextCell(!1,o)}function tabToPreviousCell(e,o){return e.navigationService.tabToNextCell(!0,o)}function setFocusedHeader(e,o,a=!1){const c=e.headerNavigationService.getHeaderPositionForColumn(o,a);c&&e.focusService.focusHeaderPosition({headerPosition:c})}function showColumnMenuAfterButtonClick(e,o,a){const c=e.columnModel.getCol(o);e.menuService.showColumnMenu({column:c,buttonElement:a,positionBy:"button"})}function showColumnMenuAfterMouseClick(e,o,a){let c=e.columnModel.getCol(o);if(c||(c=e.columnModel.getColDefCol(o)),!c){_errorOnce(`column '${o}' not found`);return}e.menuService.showColumnMenu({column:c,mouseEvent:a,positionBy:"mouse"})}function showColumnMenu(e,o){const a=e.columnModel.getCol(o);if(!a){_errorOnce(`column '${o}' not found`);return}e.menuService.showColumnMenu({column:a,positionBy:"auto"})}function hidePopupMenu(e){e.menuService.hidePopupMenu()}function redrawRows(e,o={}){const a=o?o.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(a))}function setRowNodeExpanded(e,o,a,c,d){e.expansionService.setRowNodeExpanded(o,a,c,d)}function getRowNode(e,o){return e.rowModel.getRowNode(o)}function addRenderedRowListener(e,o,a,c){e.rowRenderer.addRenderedRowListener(o,a,c)}function getRenderedNodes(e){return e.rowRenderer.getRenderedNodes()}function forEachNode(e,o,a){e.rowModel.forEachNode(o,a)}function getFirstDisplayedRow(e){return getFirstDisplayedRowIndex(e)}function getFirstDisplayedRowIndex(e){return e.rowRenderer.getFirstVirtualRenderedRow()}function getLastDisplayedRow(e){return getLastDisplayedRowIndex(e)}function getLastDisplayedRowIndex(e){return e.rowRenderer.getLastVirtualRenderedRow()}function getDisplayedRowAtIndex(e,o){return e.rowModel.getRow(o)}function getDisplayedRowCount(e){return e.rowModel.getRowCount()}function getModel(e){return e.rowModel}function setNodesSelected(e,o){if(!o.nodes.every(_=>_.rowPinned?(_warnOnce("cannot select pinned rows"),!1):_.id===void 0?(_warnOnce("cannot select node until id for node is known"),!1):!0))return;const{nodes:c,source:d,newValue:g}=o,b=c;e.selectionService.setNodesSelected({nodes:b,source:d??"api",newValue:g})}function selectAll(e,o="apiSelectAll"){e.selectionService.selectAllRowNodes({source:o})}function deselectAll(e,o="apiSelectAll"){e.selectionService.deselectAllRowNodes({source:o})}function selectAllFiltered(e,o="apiSelectAllFiltered"){e.selectionService.selectAllRowNodes({source:o,justFiltered:!0})}function deselectAllFiltered(e,o="apiSelectAllFiltered"){e.selectionService.deselectAllRowNodes({source:o,justFiltered:!0})}function selectAllOnCurrentPage(e,o="apiSelectAllCurrentPage"){e.selectionService.selectAllRowNodes({source:o,justCurrentPage:!0})}function deselectAllOnCurrentPage(e,o="apiSelectAllCurrentPage"){e.selectionService.deselectAllRowNodes({source:o,justCurrentPage:!0})}function getSelectedNodes(e){return e.selectionService.getSelectedNodes()}function getSelectedRows(e){return e.selectionService.getSelectedRows()}function onSortChanged(e){e.sortController.onSortChanged("api")}var CoreApiModule={version:VERSION,moduleName:"@ag-grid-community/core-api",apiFunctions:{getGridId,destroy,isDestroyed,getGridOption,setGridOption,updateGridOptions}},RowSelectionApiModule={version:VERSION,moduleName:"@ag-grid-community/row-selection-api",apiFunctions:{setNodesSelected,selectAll,deselectAll,selectAllFiltered,deselectAllFiltered,selectAllOnCurrentPage,deselectAllOnCurrentPage,getSelectedNodes,getSelectedRows}},RowApiModule={version:VERSION,moduleName:"@ag-grid-community/row-api",apiFunctions:{redrawRows,setRowNodeExpanded,getRowNode,addRenderedRowListener,getRenderedNodes,forEachNode,getFirstDisplayedRow,getFirstDisplayedRowIndex,getLastDisplayedRow,getLastDisplayedRowIndex,getDisplayedRowAtIndex,getDisplayedRowCount,getModel}},ScrollApiModule={version:VERSION,moduleName:"@ag-grid-community/scroll-api",apiFunctions:{getVerticalPixelRange,getHorizontalPixelRange,ensureColumnVisible,ensureIndexVisible,ensureNodeVisible}},KeyboardNavigationApiModule={version:VERSION,moduleName:"@ag-grid-community/keyboard-navigation-api",apiFunctions:{getFocusedCell,clearFocusedCell,setFocusedCell,setFocusedHeader,tabToNextCell,tabToPreviousCell}},EventApiModule={version:VERSION,moduleName:"@ag-grid-community/event-api",apiFunctions:{addEventListener:addEventListener$1,addGlobalListener,removeEventListener:removeEventListener$1,removeGlobalListener}},CellApiModule={version:VERSION,moduleName:"@ag-grid-community/cell-api",apiFunctions:{expireValueCache,getValue,getCellValue}},CommunityMenuApiModule={version:VERSION,moduleName:"@ag-grid-community/menu-api",apiFunctions:{showColumnMenuAfterButtonClick,showColumnMenuAfterMouseClick,showColumnMenu,hidePopupMenu}},SortApiModule={version:VERSION,moduleName:"@ag-grid-community/sort-api",apiFunctions:{onSortChanged}},CommunityApiModule={version:VERSION,moduleName:"@ag-grid-community/api",dependantModules:[CoreApiModule,PinnedRowApiModule,RowSelectionApiModule,ColumnApiModule,RowApiModule,DragApiModule,ScrollApiModule,OverlayApiModule,KeyboardNavigationApiModule,EventApiModule,RenderApiModule,CellApiModule,CommunityMenuApiModule,SortApiModule]};function getState(e){var o;return((o=e.stateService)==null?void 0:o.getState())??{}}function migrateGridStateModel(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=migrateV32_1(e)}return e}function migrateV32_1(e){return e.cellSelection=jsonGet(e,"rangeSelection"),e}function jsonGet(e,o){if(e&&typeof e=="object")return e[o]}var StateService=class extends BeanStub{constructor(){super(...arguments),this.beanName="stateService",this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=_debounce(()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=_debounce(()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),0),this.onRowSelectedDebounced=_debounce(()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}wireBeans(e){this.filterManager=e.filterManager,this.ctrlsService=e.ctrlsService,this.pivotResultColsService=e.pivotResultColsService,this.focusService=e.focusService,this.columnModel=e.columnModel,this.visibleColsService=e.visibleColsService,this.columnGroupStateService=e.columnGroupStateService,this.columnGetStateService=e.columnGetStateService,this.paginationService=e.paginationService,this.selectionService=e.selectionService,this.expansionService=e.expansionService,this.columnAnimationService=e.columnAnimationService,this.columnApplyStateService=e.columnApplyStateService,this.sideBarService=e.sideBarService,this.rangeService=e.rangeService}postConstruct(){this.isClientSideRowModel=_isClientSideRowModel(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",VERSION),this.ctrlsService.whenReady(this,()=>this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnGridReady()));const[e,o,a]=this.addManagedEventListeners({newColumnsLoaded:({source:c})=>{c==="gridInitializing"&&(e(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{o==null||o(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{a==null||a(),this.suppressEventsAndDispatchInitEvent(()=>this.setupStateOnFirstDataRendered())}})}getInitialState(){return migrateGridStateModel(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){this.updateCachedState("sideBar",this.getSideBarState());const e=()=>this.updateCachedState("sideBar",this.getSideBarState());this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const o=a=>()=>this.updateColumnState([a]);this.addManagedEventListeners({columnValueChanged:o("aggregation"),columnMoved:o("columnOrder"),columnPinned:o("columnPinning"),columnResized:o("columnSizing"),columnVisible:o("columnVisibility"),columnPivotChanged:o("pivot"),columnPivotModeChanged:o("pivot"),columnRowGroupChanged:o("rowGroup"),sortChanged:o("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:o,rowSelection:a,pagination:c}=this.getInitialState(),d=this.gos.get("advancedFilterModel");(e||d)&&this.setFilterState(e,d),o&&this.setRowGroupExpansionState(o),a&&this.setRowSelectionState(a),c&&this.setPaginationState(c),this.updateCachedState("filter",this.getFilterState()),this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState()),this.updateCachedState("rowSelection",this.getRowSelectionState()),this.updateCachedState("pagination",this.getPaginationState());const g=()=>this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState());this.addManagedEventListeners({filterChanged:()=>this.updateCachedState("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:g,columnRowGroupChanged:g,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&setTimeout(()=>{g()})},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:b=>{(b.newPage||b.newPageSize)&&this.updateCachedState("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:o,focusedCell:a,columnOrder:c}=this.getInitialState();a&&this.setFocusedCellState(a),o&&this.setCellSelectionState(o),e&&this.setScrollState(e),this.setColumnPivotState(!!(c!=null&&c.orderedColIds)),this.updateCachedState("sideBar",this.getSideBarState()),this.updateCachedState("focusedCell",this.getFocusedCellState());const d=this.getRangeSelectionState();this.updateCachedState("rangeSelection",d),this.updateCachedState("cellSelection",d),this.updateCachedState("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>this.updateCachedState("focusedCell",this.getFocusedCellState()),cellSelectionChanged:g=>{if(g.finished){const b=this.getRangeSelectionState();this.updateCachedState("rangeSelection",b),this.updateCachedState("cellSelection",b)}},bodyScrollEnd:()=>this.updateCachedState("scroll",this.getScrollState())})}getColumnState(){const e=this.columnModel.isPivotMode(),o=[],a=[],c=[],d=[],g=[],b=[],_=[],$=[],j=[];let rt=0;const nt=this.columnGetStateService.getColumnState();for(let st=0;st<nt.length;st++){const{colId:jt,sort:wl,sortIndex:Ft,rowGroup:it,rowGroupIndex:ot,aggFunc:Ln,pivot:Cl,pivotIndex:Tl,pinned:zl,hide:In,width:Ml,flex:Dl}=nt[st];j.push(jt),wl&&(o[Ft??rt++]={colId:jt,sort:wl}),it&&(a[ot??0]=jt),typeof Ln=="string"&&c.push({colId:jt,aggFunc:Ln}),Cl&&(d[Tl??0]=jt),zl&&(zl==="right"?b:g).push(jt),In&&_.push(jt),(Dl||Ml)&&$.push({colId:jt,flex:Dl??void 0,width:Ml})}return{sort:o.length?{sortModel:o}:void 0,rowGroup:a.length?{groupColIds:a}:void 0,aggregation:c.length?{aggregationModel:c}:void 0,pivot:d.length||e?{pivotMode:e,pivotColIds:d}:void 0,columnPinning:g.length||b.length?{leftColIds:g,rightColIds:b}:void 0,columnVisibility:_.length?{hiddenColIds:_}:void 0,columnSizing:$.length?{columnSizingModel:$}:void 0,columnOrder:j.length?{orderedColIds:j}:void 0}}setColumnState(e){const{sort:o,rowGroup:a,aggregation:c,pivot:d,columnPinning:g,columnVisibility:b,columnSizing:_,columnOrder:$,partialColumnState:j}=e,rt={},nt=it=>{let ot=rt[it];return ot||(ot={colId:it},rt[it]=ot,ot)},st=j?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};o&&(o.sortModel.forEach(({colId:it,sort:ot},Ln)=>{const Cl=nt(it);Cl.sort=ot,Cl.sortIndex=Ln}),st.sort=null,st.sortIndex=null),a&&(a.groupColIds.forEach((it,ot)=>{const Ln=nt(it);Ln.rowGroup=!0,Ln.rowGroupIndex=ot}),st.rowGroup=null,st.rowGroupIndex=null),c&&(c.aggregationModel.forEach(({colId:it,aggFunc:ot})=>{nt(it).aggFunc=ot}),st.aggFunc=null),d&&(d.pivotColIds.forEach((it,ot)=>{const Ln=nt(it);Ln.pivot=!0,Ln.pivotIndex=ot}),this.gos.updateGridOptions({options:{pivotMode:d.pivotMode},source:"gridInitializing"}),st.pivot=null,st.pivotIndex=null),g&&(g.leftColIds.forEach(it=>{nt(it).pinned="left"}),g.rightColIds.forEach(it=>{nt(it).pinned="right"}),st.pinned=null),b&&(b.hiddenColIds.forEach(it=>{nt(it).hide=!0}),st.hide=null),_&&(_.columnSizingModel.forEach(({colId:it,flex:ot,width:Ln})=>{const Cl=nt(it);Cl.flex=ot??null,Cl.width=Ln}),st.flex=null);const jt=$==null?void 0:$.orderedColIds,wl=!!(jt!=null&&jt.length),Ft=wl?jt.map(it=>nt(it)):Object.values(rt);Ft.length&&(this.columnStates=Ft,this.columnApplyStateService.applyColumnState({state:Ft,applyOrder:wl,defaultState:st},"gridInitializing"))}setColumnPivotState(e){const o=this.columnStates;this.columnStates=void 0;const a=this.columnGroupStates;if(this.columnGroupStates=void 0,!!this.pivotResultColsService.isPivotResultColsPresent()){if(o){const c=[];for(const d of o)this.pivotResultColsService.getPivotResultCol(d.colId)&&c.push(d);this.columnApplyStateService.applyColumnState({state:c,applyOrder:e},"gridInitializing")}a&&this.columnGroupStateService.setColumnGroupState(a,"gridInitializing")}}getColumnGroupState(){const e=this.columnGroupStateService.getColumnGroupState(),o=[];return e.forEach(({groupId:a,open:c})=>{c&&o.push(a)}),o.length?{openColumnGroupIds:o}:void 0}setColumnGroupState(e){var d;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup"))return;const o=new Set((d=e.columnGroup)==null?void 0:d.openColumnGroupIds),c=this.columnGroupStateService.getColumnGroupState().map(({groupId:g})=>{const b=o.has(g);return b&&o.delete(g),{groupId:g,open:b}});o.forEach(g=>{c.push({groupId:g,open:!0})}),c.length&&(this.columnGroupStates=c),this.columnGroupStateService.setColumnGroupState(c,"gridInitializing")}getFilterState(){var a,c;let e=(a=this.filterManager)==null?void 0:a.getFilterModel();e&&Object.keys(e).length===0&&(e=void 0);const o=((c=this.filterManager)==null?void 0:c.getAdvancedFilterModel())??void 0;return e||o?{filterModel:e,advancedFilterModel:o}:void 0}setFilterState(e,o){var d,g;const{filterModel:a,advancedFilterModel:c}=e??{advancedFilterModel:o};a&&((d=this.filterManager)==null||d.setFilterModel(a,"columnFilter")),c&&((g=this.filterManager)==null||g.setAdvancedFilterModel(c))}getRangeSelectionState(){var o;const e=(o=this.rangeService)==null?void 0:o.getCellRanges().map(a=>{const{id:c,type:d,startRow:g,endRow:b,columns:_,startColumn:$}=a;return{id:c,type:d,startRow:g,endRow:b,colIds:_.map(j=>j.getColId()),startColId:$.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:o,rangeService:a,columnModel:c,visibleColsService:d}=this;if(!_isCellSelectionEnabled(o)||!a)return;const g=[];if(e.cellRanges.forEach(b=>{const _=[];if(b.colIds.forEach(j=>{const rt=c.getCol(j);rt&&_.push(rt)}),!_.length)return;let $=c.getCol(b.startColId);if(!$){const j=d.getAllCols(),rt=new Set(_);$=j.find(nt=>rt.has(nt))}g.push({...b,columns:_,startColumn:$})}),_isUsingNewCellSelectionAPI(o)&&_getSuppressMultiRanges(o)&&g.length>1)return _warnOnce("cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`");a.setCellRanges(g)}getScrollState(){var c;if(!this.isClientSideRowModel)return;const e=(c=this.ctrlsService.getGridBodyCtrl())==null?void 0:c.getScrollFeature(),{left:o}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:a}=(e==null?void 0:e.getVScrollPosition())??{top:0};return a||o?{top:a,left:o}:void 0}setScrollState(e){var c;if(!this.isClientSideRowModel)return;const{top:o,left:a}=e;(c=this.ctrlsService.getGridBodyCtrl())==null||c.getScrollFeature().setScrollPosition(o,a)}getSideBarState(){var e,o;return(o=(e=this.sideBarService)==null?void 0:e.getSideBarComp())==null?void 0:o.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.focusService.getFocusedCell();if(e){const{column:o,rowIndex:a,rowPinned:c}=e;return{colId:o.getColId(),rowIndex:a,rowPinned:c}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:o,rowIndex:a,rowPinned:c}=e;this.focusService.setFocusedCell({column:this.columnModel.getCol(o),rowIndex:a,rowPinned:c,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){if(!this.paginationService)return;const e=this.paginationService.getCurrentPage(),o=this.gos.get("paginationAutoPageSize")?void 0:this.paginationService.getPageSize();if(!(!e&&!o))return{page:e,pageSize:o}}setPaginationState(e){this.paginationService&&(e.pageSize&&!this.gos.get("paginationAutoPageSize")&&this.paginationService.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&this.paginationService.setPage(e.page))}getRowSelectionState(){var a;const e=this.selectionService.getSelectionState();return!e||!Array.isArray(e)&&(e.selectAll===!1||e.selectAllChildren===!1)&&!((a=e==null?void 0:e.toggledNodes)!=null&&a.length)?void 0:e}setRowSelectionState(e){this.selectionService.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const e=this.expansionService.getExpandedRows();return e.length?{expandedRowGroupIds:e}:void 0}setRowGroupExpansionState(e){this.expansionService.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const o=this.getColumnState();let a=!1;Object.entries(o).forEach(([c,d])=>{_jsonEquals(d,this.cachedState[c])||(a=!0)}),this.cachedState={...this.cachedState,...o},a&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,o){const a=this.cachedState[e];this.setCachedStateValue(e,o),_jsonEquals(o,a)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,o){this.cachedState={...this.cachedState,[e]:o}}refreshStaleState(){this.staleStateKeys.forEach(e=>{switch(e){case"rowSelection":this.setCachedStateValue(e,this.getRowSelectionState());break}}),this.staleStateKeys.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(o=>this.queuedUpdateSources.add(o)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=Array.from(this.queuedUpdateSources);this.queuedUpdateSources.clear(),this.eventService.dispatchEvent({type:"stateUpdated",sources:e,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0,this.columnAnimationService.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(this.columnAnimationService.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},StateCoreModule={version:VERSION,moduleName:"@ag-grid-community/state-core",beans:[StateService]},StateApiModule={version:VERSION,moduleName:"@ag-grid-community/state-api",apiFunctions:{getState},dependantModules:[StateCoreModule]},StateModule={version:VERSION,moduleName:"@ag-grid-community/state",dependantModules:[StateCoreModule,StateApiModule]};function paginationIsLastPageFound(e){return e.rowModel.isLastRowIndexKnown()}function paginationGetPageSize(e){var o;return((o=e.paginationService)==null?void 0:o.getPageSize())??100}function paginationGetCurrentPage(e){var o;return((o=e.paginationService)==null?void 0:o.getCurrentPage())??0}function paginationGetTotalPages(e){var o;return((o=e.paginationService)==null?void 0:o.getTotalPages())??1}function paginationGetRowCount(e){return e.paginationService?e.paginationService.getMasterRowCount():e.rowModel.getRowCount()}function paginationGoToNextPage(e){var o;(o=e.paginationService)==null||o.goToNextPage()}function paginationGoToPreviousPage(e){var o;(o=e.paginationService)==null||o.goToPreviousPage()}function paginationGoToFirstPage(e){var o;(o=e.paginationService)==null||o.goToFirstPage()}function paginationGoToLastPage(e){var o;(o=e.paginationService)==null||o.goToLastPage()}function paginationGoToPage(e,o){var a;(a=e.paginationService)==null||a.goToPage(o)}var PaginationAutoPageSizeService=class extends BeanStub{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeService"}wireBeans(e){this.ctrlsService=e.ctrlsService,this.paginationService=e.paginationService}postConstruct(){this.ctrlsService.whenReady(this,e=>{this.centerRowsCtrl=e.center;const o=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:o,scrollVisibilityChanged:o}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.paginationService.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.getViewportSizeFeature().getBodyHeight();if(e>0){const o=()=>{const a=Math.max(_getRowHeightAsNumber(this.gos),1),c=Math.floor(e/a);this.paginationService.setPageSize(c,"autoCalculated")};this.isBodyRendered?_debounce(()=>o(),50)():(o(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}};function _addFocusableContainerListener(e,o,a){e.addManagedElementListeners(o,{keydown:c=>{if(!c.defaultPrevented&&c.key===KeyCode.TAB){const d=c.shiftKey;a.findNextFocusableElement(o,!1,d)||a.focusNextGridCoreContainer(d)&&c.preventDefault()}}})}var paginationPageSizeSelector="paginationPageSizeSelector",PageSizeSelectorComp=class extends Component{constructor(){super('<span class="ag-paging-page-size"></span>'),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const o=Number(e);isNaN(o)||o<1||o===this.paginationService.getPageSize()||(this.paginationService.setPageSize(o,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.paginationService=e.paginationService}postConstruct(){this.addManagedPropertyListener(paginationPageSizeSelector,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const o=this.paginationService.getPageSize();this.getPageSizeSelectorValues().includes(o)?this.selectPageSizeComp.setValue(o.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){_clearElement(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(paginationPageSizeSelector)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),o=this.paginationService.getPageSize(),a=!o||!e.includes(o);if(a){const d=this.gos.exists("paginationPageSize"),g=this.gos.get(paginationPageSizeSelector)!==!0;_warnOnce(`'paginationPageSize=${o}'${d?"":" (default value)"}, but ${o} is not included in${g?"":" the default"} paginationPageSizeSelector=[${e.join(", ")}].`),g||_warnOnce(`Either set '${paginationPageSizeSelector}' to an array that includes ${o} or to 'false' to disable the page size selector.`),e.unshift("")}const c=String(a?"":o);this.selectPageSizeComp?(_areEqual(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(c,!0)):this.createPageSizeSelectorComp(e,c),this.hasEmptyOption=a}createPageSizeSelectOptions(e){return e.map(o=>({value:String(o)}))}createPageSizeSelectorComp(e,o){const a=this.localeService.getLocaleTextFunc(),c=a("pageSizeSelectorLabel","Page Size:"),d=a("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new AgSelect).addOptions(this.createPageSizeSelectOptions(e)).setValue(o).setAriaLabel(d).setLabel(c).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],o=this.gos.get(paginationPageSizeSelector);return!Array.isArray(o)||_missingOrEmpty(o)?e:[...o].sort((a,c)=>a-c)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},PageSizeSelectorSelector={selector:"AG-PAGE-SIZE-SELECTOR",component:PageSizeSelectorComp},PaginationComp=class extends TabGuardComp$1{constructor(){super(),this.btFirst=RefPlaceholder,this.btPrevious=RefPlaceholder,this.btNext=RefPlaceholder,this.btLast=RefPlaceholder,this.lbRecordCount=RefPlaceholder,this.lbFirstRowOnPage=RefPlaceholder,this.lbLastRowOnPage=RefPlaceholder,this.lbCurrent=RefPlaceholder,this.lbTotal=RefPlaceholder,this.pageSizeComp=RefPlaceholder,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.focusService=e.focusService,this.ariaAnnouncementService=e.ariaAnnouncementService}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[PageSizeSelectorSelector]);const{btFirst:o,btPrevious:a,btNext:c,btLast:d}=this;this.activateTabIndex([o,a,c,d]),o.insertAdjacentElement("afterbegin",_createIconNoSpan(e?"last":"first",this.gos)),a.insertAdjacentElement("afterbegin",_createIconNoSpan(e?"next":"previous",this.gos)),c.insertAdjacentElement("afterbegin",_createIconNoSpan(e?"previous":"next",this.gos)),d.insertAdjacentElement("afterbegin",_createIconNoSpan(e?"first":"last",this.gos)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:g=>{this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(g):this.focusService.focusGridInnerElement(g)},forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const o=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(o),o&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:o,fn:a}=e;this.addManagedListeners(o,{click:a,keydown:c=>{(c.key===KeyCode.ENTER||c.key===KeyCode.SPACE)&&(c.preventDefault(),a())}})}),_addFocusableContainerListener(this,this.getGui(),this.focusService),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.paginationService.goToFirstPage()}formatNumber(e){const o=this.gos.getCallback("paginationNumberFormatter");if(o)return o({value:e});const a=this.localeService.getLocaleTextFunc(),c=a("thousandSeparator",","),d=a("decimalSeparator",".");return _formatNumberCommas(e,c,d)}getTemplate(){const e=this.localeService.getLocaleTextFunc(),o=e("page","Page"),a=e("to","to"),c=e("of","of"),d=e("firstPage","First Page"),g=e("previousPage","Previous Page"),b=e("nextPage","Next Page"),_=e("lastPage","Last Page"),$=this.getCompId();return`<div class="ag-paging-panel ag-unselectable" id="ag-${$}">
                <ag-page-size-selector data-ref="pageSizeComp"></ag-page-size-selector>
                <span class="ag-paging-row-summary-panel">
                    <span id="ag-${$}-first-row" data-ref="lbFirstRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${$}-to">${a}</span>
                    <span id="ag-${$}-last-row" data-ref="lbLastRowOnPage" class="ag-paging-row-summary-panel-number"></span>
                    <span id="ag-${$}-of">${c}</span>
                    <span id="ag-${$}-row-count" data-ref="lbRecordCount" class="ag-paging-row-summary-panel-number"></span>
                </span>
                <span class="ag-paging-page-summary-panel" role="presentation">
                    <div data-ref="btFirst" class="ag-button ag-paging-button" role="button" aria-label="${d}"></div>
                    <div data-ref="btPrevious" class="ag-button ag-paging-button" role="button" aria-label="${g}"></div>
                    <span class="ag-paging-description">
                        <span id="ag-${$}-start-page">${o}</span>
                        <span id="ag-${$}-start-page-number" data-ref="lbCurrent" class="ag-paging-number"></span>
                        <span id="ag-${$}-of-page">${c}</span>
                        <span id="ag-${$}-of-page-number" data-ref="lbTotal" class="ag-paging-number"></span>
                    </span>
                    <div data-ref="btNext" class="ag-button ag-paging-button" role="button" aria-label="${b}"></div>
                    <div data-ref="btLast" class="ag-button ag-paging-button" role="button" aria-label="${_}"></div>
                </span>
            </div>`}onBtNext(){this.nextButtonDisabled||this.paginationService.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.paginationService.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.paginationService.goToLastPage()}enableOrDisableButtons(){const e=this.paginationService.getCurrentPage(),o=this.rowModel.isLastRowIndexKnown(),a=this.paginationService.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const c=this.isZeroPagesToDisplay(),d=e===a-1;this.nextButtonDisabled=d||c,this.lastButtonDisabled=!o||c||e===a-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,o){_setAriaDisabled(e,o),e.classList.toggle("ag-disabled",o)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),o=this.paginationService.getTotalPages();return e&&o===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),o=this.paginationService.getTotalPages(),a=this.paginationService.getMasterRowCount(),c=e?a:null;if(c===1){const Ln=this.rowModel.getRow(0);if(Ln&&Ln.group&&!(Ln.groupData||Ln.aggData)){this.setTotalLabelsToZero();return}}const d=this.paginationService.getCurrentPage(),g=this.paginationService.getPageSize();let b,_;this.isZeroPagesToDisplay()?b=_=0:(b=g*d+1,_=b+g-1,e&&_>c&&(_=c));const $=b+g-1,j=!e&&a<$,rt=this.formatNumber(b);this.lbFirstRowOnPage.textContent=rt;let nt;const st=this.localeService.getLocaleTextFunc();j?nt=st("pageLastRowUnknown","?"):nt=this.formatNumber(_),this.lbLastRowOnPage.textContent=nt;const wl=o>0?d+1:0,Ft=this.formatNumber(wl);this.lbCurrent.textContent=Ft;let it,ot;if(e)it=this.formatNumber(o),ot=this.formatNumber(c);else{const Ln=st("more","more");it=Ln,ot=Ln}this.lbTotal.textContent=it,this.lbRecordCount.textContent=ot,this.announceAriaStatus(rt,nt,ot,Ft,it)}announceAriaStatus(e,o,a,c,d){const g=this.localeService.getLocaleTextFunc(),b=g("page","Page"),_=g("to","to"),$=g("of","of"),j=`${e} ${_} ${o} ${$} ${a}`,rt=`${b} ${c} ${$} ${d}`;j!==this.ariaRowStatus&&(this.ariaRowStatus=j,this.ariaAnnouncementService.announceValue(j,"paginationRow")),rt!==this.ariaPageStatus&&(this.ariaPageStatus=rt,this.ariaAnnouncementService.announceValue(rt,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},PaginationSelector={selector:"AG-PAGINATION",component:PaginationComp},PaginationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="paginationService",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.active=this.gos.get("pagination"),this.pageSizeFromGridOptions=this.gos.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return PaginationSelector}isPaginateChildRows(){return this.gos.get("groupRemoveSingleChildren")||this.gos.get("groupRemoveLowestSingleChildren")?!0:this.gos.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){!this.active||this.currentPage===e||typeof this.currentPage!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}isRowPresent(e){return e.rowIndex>=this.topDisplayedRowIndex&&e.rowIndex<=this.bottomDisplayedRowIndex}getPageForIndex(e){return Math.floor(e/this.pageSize)}goToPageWithIndex(e){if(!this.active)return;const o=this.getPageForIndex(e);this.goToPage(o)}isRowInPage(e){return this.active?this.getPageForIndex(e.rowIndex)===this.currentPage:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.rowModel.getRowCount(),o=Math.floor(e/this.pageSize);this.goToPage(o)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return _exists(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:_exists(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:_exists(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:_exists(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.pageBoundsService.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,o){const a=this.pageSize;switch(o){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}a!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){this.currentPage>=this.totalPages&&(this.currentPage=this.totalPages-1),(!isFinite(this.currentPage)||isNaN(this.currentPage)||this.currentPage<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){if(this.masterRowCount=this.rowModel.getTopLevelRowCount(),this.masterRowCount<=0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid();const o=this.pageSize*this.currentPage;let a=this.pageSize*(this.currentPage+1)-1;if(a>e&&(a=e),this.topDisplayedRowIndex=this.rowModel.getTopLevelRowDisplayedIndex(o),a===e)this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1;else{const c=this.rowModel.getTopLevelRowDisplayedIndex(a+1);this.bottomDisplayedRowIndex=c-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){if(this.masterRowCount=this.rowModel.getRowCount(),this.masterRowCount===0){this.setZeroRows();return}const e=this.masterRowCount-1;this.totalPages=Math.floor(e/this.pageSize)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=this.pageSize*this.currentPage,this.bottomDisplayedRowIndex=this.pageSize*(this.currentPage+1)-1,this.bottomDisplayedRowIndex>e&&(this.bottomDisplayedRowIndex=e)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:o=!1,newPage:a=!1,newPageSize:c=!1}=e;this.eventService.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:a,newPageSize:c,keepRenderedRows:o})}},PaginationCoreModule={version:VERSION,moduleName:"@ag-grid-community/pagination-core",beans:[PaginationService,PaginationAutoPageSizeService]},PaginationApiModule={version:VERSION,moduleName:"@ag-grid-community/pagination-api",dependantModules:[PaginationCoreModule],apiFunctions:{paginationIsLastPageFound,paginationGetPageSize,paginationGetCurrentPage,paginationGetTotalPages,paginationGetRowCount,paginationGoToNextPage,paginationGoToPreviousPage,paginationGoToFirstPage,paginationGoToLastPage,paginationGoToPage}},PaginationModule={version:VERSION,moduleName:"@ag-grid-community/pagination",dependantModules:[PaginationCoreModule,PaginationApiModule]},clientSide="clientSide",serverSide="serverSide",infinite="infinite",functionRowModels={onGroupExpandedOrCollapsed:[clientSide],refreshClientSideRowModel:[clientSide],isRowDataEmpty:[clientSide],forEachLeafNode:[clientSide],forEachNodeAfterFilter:[clientSide],forEachNodeAfterFilterAndSort:[clientSide],resetRowHeights:[clientSide],applyTransaction:[clientSide],applyTransactionAsync:[clientSide],flushAsyncTransactions:[clientSide],getBestCostNodeSelection:[clientSide],getServerSideSelectionState:[serverSide],setServerSideSelectionState:[serverSide],applyServerSideTransaction:[serverSide],applyServerSideTransactionAsync:[serverSide],applyServerSideRowData:[serverSide],retryServerSideLoads:[serverSide],flushServerSideAsyncTransactions:[serverSide],refreshServerSide:[serverSide],getServerSideGroupLevelState:[serverSide],refreshInfiniteCache:[infinite],purgeInfiniteCache:[infinite],getInfiniteRowCount:[infinite],isLastRowIndexKnown:[infinite,serverSide],expandAll:[clientSide,serverSide],collapseAll:[clientSide,serverSide],onRowHeightChanged:[clientSide,serverSide],setRowCount:[infinite,serverSide],getCacheBlockState:[infinite,serverSide]},deprecatedFunctions={getValue:{version:"v31.3",new:"getCellValue"},getFirstDisplayedRow:{version:"v31.1",new:"getFirstDisplayedRowIndex"},getLastDisplayedRow:{version:"v31.1",new:"getLastDisplayedRowIndex"},getModel:{version:"v31.1",message:"Please use the appropriate grid API methods instead."},setColumnVisible:{version:"v31.1",old:"setColumnVisible(key,visible)",new:"setColumnsVisible([key],visible)"},setColumnPinned:{version:"v31.1",old:"setColumnPinned(key,pinned)",new:"setColumnsPinned([key],pinned)"},moveColumn:{version:"v31.1",old:"moveColumn(key, toIndex)",new:"moveColumns([key], toIndex)"},setColumnWidth:{version:"v31.1",old:"setColumnWidth(col, width)",new:"setColumnWidths([{key: col, newWidth: width}])"},autoSizeColumn:{version:"v31.1",old:"autoSizeColumn(key, skipHeader)",new:"autoSizeColumns([key], skipHeader)"},addAggFunc:{version:"v31.1",old:"addAggFunc(key, func)",new:"addAggFuncs({ key: func })"},removeValueColumn:{version:"v31.1",old:"removeValueColumn(colKey)",new:"removeValueColumns([colKey])"},addValueColumn:{version:"v31.1",old:"addValueColumn(colKey)",new:"addValueColumns([colKey])"},removeRowGroupColumn:{version:"v31.1",old:"removeRowGroupColumn(colKey)",new:"removeRowGroupColumns([colKey])"},addRowGroupColumn:{version:"v31.1",old:"addRowGroupColumn(colKey)",new:"addRowGroupColumns([colKey])"},removePivotColumn:{version:"v31.1",old:"removePivotColumn(colKey)",new:"removePivotColumns([colKey])"},addPivotColumn:{version:"v31.1",old:"addPivotColumn(colKey)",new:"addPivotColumns([colKey])"},showColumnMenuAfterButtonClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenu' within a header component, or 'api.showColumnMenu' elsewhere."},showColumnMenuAfterMouseClick:{version:"v31.1",message:"Use 'IHeaderParams.showColumnMenuAfterMouseClick' within a header component, or 'api.showColumnMenu' elsewhere."},getFilterInstance:{version:"v31.1",message:"'getFilterInstance' is deprecated. To get/set individual filter models, use 'getColumnFilterModel' or 'setColumnFilterModel' instead. To get hold of the filter instance, use 'getColumnFilterInstance' which returns the instance asynchronously."},showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"}};function validateApiFunction(e,o,a){const c=deprecatedFunctions[e];if(c){const{version:g,new:b,old:_,message:$}=c,j=_??e;return(...rt)=>{const nt=b?`Please use ${b} instead. `:"";return _warnOnce(`Since ${g} api.${j} is deprecated. ${nt}${$??""}`),o.apply(o,rt)}}const d=functionRowModels[e];return d?(...g)=>{const b=a.rowModel.getType();if(!d.includes(b)){_errorOnce(`api.${e} can only be called when gridOptions.rowModelType is ${d.join(" or ")}`);return}return o.apply(o,g)}:o}var COLUMN_DEFINITION_DEPRECATIONS={columnsMenuParams:{version:"31.1",message:"Use `columnChooserParams` instead."},suppressMenu:{version:"31.1",message:"Use `suppressHeaderMenuButton` instead."},suppressCellFlash:{version:"31.2",message:"Use `enableCellChangeFlash={false}` in the ColDef"},checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}},CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE=(e,o)=>{const a=o.rowModelType??"clientSide";return a==="clientSide"||a==="serverSide"?{module:"@ag-grid-enterprise/row-grouping"}:null},COLUMN_DEFINITION_VALIDATIONS={enableRowGroup:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,rowGroup:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,rowGroupIndex:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,enablePivot:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,enableValue:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,pivot:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,pivotIndex:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,aggFunc:CSRM_SSRM_REQUIRES_ROW_GROUP_MODULE,cellEditor:e=>e.cellEditor==="agRichSelect"||e.cellEditor==="agRichSelectCellEditor"?{module:"@ag-grid-enterprise/rich-select"}:null,menuTabs:e=>{var a;const o=["columnsMenuTab","generalMenuTab"];return(a=e.menuTabs)!=null&&a.some(c=>o.includes(c))?{module:"@ag-grid-enterprise/menu"}:null},columnsMenuParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},columnChooserParams:{module:["@ag-grid-enterprise/menu","@ag-grid-enterprise/column-tool-panel"]},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:o})=>o==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},children:()=>COL_DEF_VALIDATORS},colDefPropertyMap={headerName:void 0,columnGroupShow:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnsMenuParams:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressCellFlash:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressMenu:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0},ALL_PROPERTIES=Object.keys(colDefPropertyMap),COL_DEF_VALIDATORS={objectName:"colDef",allProperties:ALL_PROPERTIES,docsUrl:"column-properties/",deprecations:COLUMN_DEFINITION_DEPRECATIONS,validations:COLUMN_DEFINITION_VALIDATIONS},GRID_OPTION_DEPRECATIONS=()=>({advancedFilterModel:{version:"31",message:"Use `initialState.filter.advancedFilterModel` instead."},suppressAsyncEvents:{version:"31",message:"Events should be handled asynchronously."},cellFadeDelay:{version:"31.1",renamed:"cellFadeDuration"},cellFlashDelay:{version:"31.1",renamed:"cellFlashDuration"},suppressServerSideInfiniteScroll:{version:"31.1"},serverSideSortOnServer:{version:"31.1"},serverSideFilterOnServer:{version:"31.1"},enableCellChangeFlash:{version:"31.2",message:"Use `enableCellChangeFlash` in the `ColDef` or `defaultColDef` for all columns."},groupIncludeFooter:{version:"31.3",message:"Use `groupTotalRow` instead."},groupIncludeTotalFooter:{version:"31.3",message:"Use `grandTotalRow` instead."},suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."}}),GRID_OPTION_DEFAULTS={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressAsyncEvents:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,enableCellChangeFlash:!1,cellFlashDelay:500,cellFlashDuration:500,cellFadeDelay:1e3,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupIncludeTotalFooter:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,suppressServerSideInfiniteScroll:!1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSideSortOnServer:!1,serverSideFilterOnServer:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,suppressGroupMaintainValueType:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1},GRID_OPTION_VALIDATIONS=()=>({sideBar:{module:"@ag-grid-enterprise/side-bar"},statusBar:{module:"@ag-grid-enterprise/status-bar"},enableCharts:{module:"@ag-grid-enterprise/charts"},getMainMenuItems:{module:"@ag-grid-enterprise/menu"},getContextMenuItems:{module:"@ag-grid-enterprise/menu"},allowContextMenuWithControlKey:{module:"@ag-grid-enterprise/menu"},enableAdvancedFilter:{module:"@ag-grid-enterprise/advanced-filter"},treeData:{supportedRowModels:["clientSide","serverSide"],module:"@ag-grid-enterprise/row-grouping",validate:e=>{const o=e.rowModelType??"clientSide";switch(o){case"clientSide":{const a=`treeData requires 'getDataPath' in the ${o} row model.`;return e.getDataPath?null:a}case"serverSide":{const a=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${o} row model.`;return e.isServerSideGroup&&e.getServerSideGroupKey?null:a}}return null}},masterDetail:{module:"@ag-grid-enterprise/master-detail"},enableRangeSelection:{module:"@ag-grid-enterprise/range-selection"},enableRangeHandle:{dependencies:{enableRangeSelection:[!0]}},enableFillHandle:{dependencies:{enableRangeSelection:[!0]}},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupIncludeFooter:{supportedRowModels:["clientSide","serverSide"],validate:e=>{switch(e.rowModelType??"clientSide"){case"clientSide":return null;case"serverSide":return e.suppressServerSideInfiniteScroll?"groupIncludeFooter is not supported alongside suppressServerSideInfiniteScroll":null}return null}},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:[void 0,"bottom"]}},groupIncludeTotalFooter:{supportedRowModels:["clientSide"]},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveLowestSingleChildren:[void 0,!1]}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:[void 0,!1],groupRemoveSingleChildren:[void 0,!1]}},groupSelectsChildren:{dependencies:{rowSelection:["multiple"]}},viewportDatasource:{supportedRowModels:["viewport"],module:"@ag-grid-enterprise/viewport-row-model"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"@ag-grid-enterprise/server-side-row-model"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"]},datasource:{supportedRowModels:["infinite"],module:"@ag-grid-community/infinite-row-model"},rowData:{supportedRowModels:["clientSide"],module:"@ag-grid-community/client-side-row-model"},paginationPageSizeSelector:{validate:e=>{const o=e.paginationPageSizeSelector;return typeof o=="boolean"||o==null||o.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},rowSelection:{validate({rowSelection:e}){return e&&typeof e=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':e&&typeof e!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":null}},cellSelection:{module:"@ag-grid-enterprise/range-selection"},columnDefs:()=>COL_DEF_VALIDATORS,defaultColDef:()=>COL_DEF_VALIDATORS,defaultColGroupDef:()=>COL_DEF_VALIDATORS,autoGroupColumnDef:()=>COL_DEF_VALIDATORS,selectionColumnDef:()=>COL_DEF_VALIDATORS}),GRID_OPTIONS_VALIDATORS=()=>({objectName:"gridOptions",allProperties:[...PropertyKeys.ALL_PROPERTIES,...ComponentUtil.EVENT_CALLBACKS],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:GRID_OPTION_DEPRECATIONS(),validations:GRID_OPTION_VALIDATIONS()}),ValidationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="validationService"}wireBeans(e){this.beans=e,this.gridOptions=e.gridOptions}postConstruct(){this.processGridOptions(this.gridOptions)}processGridOptions(e){this.processOptions(e,GRID_OPTIONS_VALIDATORS())}validateApiFunction(e,o){return validateApiFunction(e,o,this.beans)}processOptions(e,o){const{validations:a,deprecations:c,allProperties:d,propertyExceptions:g,objectName:b,docsUrl:_}=o;d&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...g??[],...Object.keys(c)],d,b,_);const $=new Set;Object.keys(e).forEach(rt=>{const nt=c[rt];if(nt)if("renamed"in nt){const{renamed:Cl,version:Tl}=nt;$.add(`As of v${Tl}, ${String(rt)} is deprecated. Please use ${String(Cl)} instead.`),e[Cl]=e[rt]}else{const{message:Cl,version:Tl}=nt;$.add(`As of v${Tl}, ${String(rt)} is deprecated. ${Cl??""}`)}const st=e[rt];if(st==null||st===!1)return;const jt=a[rt];let wl;if(jt)if(typeof jt=="function"){const Cl=jt(e,this.gridOptions);if(!Cl)return;if("objectName"in Cl){const Tl=e[rt];if(Array.isArray(Tl)){Tl.forEach(zl=>{this.processOptions(zl,Cl)});return}this.processOptions(e[rt],Cl);return}wl=Cl}else wl=jt;else return;const{module:Ft,dependencies:it,validate:ot,supportedRowModels:Ln}=wl;if(Ln){const Cl=this.gridOptions.rowModelType??"clientSide";if(!Ln.includes(Cl)){$.add(`${String(rt)} is not supported with the '${Cl}' row model.`);return}}if(Ft){const Cl=Array.isArray(Ft)?Ft:[Ft];let Tl=!0;if(Cl.forEach(zl=>{this.gos.assertModuleRegistered(zl,String(rt))||(Tl=!1,$.add(`${String(rt)} is only available when ${zl} is loaded.`))}),!Tl)return}if(it){const Cl=this.checkForRequiredDependencies(rt,it,e);if(Cl){$.add(Cl);return}}if(ot){const Cl=ot(e,this.gridOptions);if(Cl){$.add(Cl);return}}}),$.size>0&&$.forEach(rt=>{_warnOnce(rt)})}checkForRequiredDependencies(e,o,a){const d=Object.entries(o).find(([_,$])=>{const j=a[_];return!$.includes(j)});if(!d)return null;const[g,b]=d;return b.length>1?`'${String(e)}' requires '${g}' to be one of [${b.join(", ")}].`:`'${String(e)}' requires '${g}' to be ${b[0]}.`}checkProperties(e,o,a,c,d){const g=["__ob__","__v_skip","__metadata__"],b=_fuzzyCheckStrings(Object.getOwnPropertyNames(e),[...g,...o,...a],a);if(_iterateObject(b,(_,$)=>{let j=`invalid ${c} property '${_}' did you mean any of these: ${$.slice(0,8).join(", ")}.`;a.includes("context")&&(j+=`
If you are trying to annotate ${c} with application data, use the '${c}.context' property instead.`),_warnOnce(j)}),Object.keys(b).length>0&&d){const _=this.getFrameworkOverrides().getDocLink(d);_warnOnce(`to see all the valid ${c} properties please check: ${_}`)}}};function _fuzzyCheckStrings(e,o,a){const c={},d=e.filter(g=>!o.some(b=>b===g));return d.length>0&&d.forEach(g=>c[g]=_fuzzySuggestions({inputValue:g,allSuggestions:a}).values),c}var GridCoreModule={version:VERSION,moduleName:"@ag-grid-community/core"},ValidationsModule={version:VERSION,moduleName:"@ag-grid-community/core-validations",beans:[ValidationService]},CommunityFeaturesModule={version:VERSION,moduleName:"@ag-grid-community/core-community-features",dependantModules:[GridCoreModule,ValidationsModule,EditModule,FilterModule,StateModule,DataTypeModule,AlignedGridsModule,PaginationModule,CommunityApiModule]},GridDestroyService=class extends BeanStub{constructor(){super(...arguments),this.beanName="gridDestroyService",this.destroyCalled=!1}wireBeans(e){this.beans=e}destroy(){var e,o;this.destroyCalled||(this.eventService.dispatchEvent({type:"gridPreDestroyed",state:((e=this.beans.stateService)==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(o=this.beans.ctrlsService.get("gridCtrl"))==null||o.destroyGridUi(),this.beans.context.destroy(),super.destroy())}isDestroyCalled(){return this.destroyCalled}},ALWAYS_SYNC_GLOBAL_EVENTS=new Set(["gridPreDestroyed","fillStart","pasteStart"]),isSelectionUIEvent=e=>e==="checkboxSelected"||e==="rowClicked"||e==="spaceKey"||e==="uiSelectAll"||e==="uiSelectAllCurrentPage"||e==="uiSelectAllFiltered",PROPERTY_COERCIONS=new Map([...PropertyKeys.BOOLEAN_PROPERTIES.map(e=>[e,toBoolean]),...PropertyKeys.NUMBER_PROPERTIES.map(e=>[e,toNumber]),["groupAggFiltering",e=>typeof e=="function"?e:toBoolean(e)],["pageSize",toConstrainedNum(1)],["autoSizePadding",toConstrainedNum(0)],["keepDetailRowsCount",toConstrainedNum(1)],["rowBuffer",toConstrainedNum(0)],["infiniteInitialRowCount",toConstrainedNum(1)],["cacheOverflowSize",toConstrainedNum(1)],["cacheBlockSize",toConstrainedNum(1)],["serverSideInitialRowCount",toConstrainedNum(1)],["viewportRowModelPageSize",toConstrainedNum(1)],["viewportRowModelBufferSize",toConstrainedNum(0)]]);function getCoercedValue(e,o){const a=PROPERTY_COERCIONS.get(e);return a?a(o):o}function getCoercedGridOptions(e){const o={};return Object.entries(e).forEach(([a,c])=>{const d=getCoercedValue(a,c);o[a]=d}),o}var _GridOptionsService=class Y5 extends BeanStub{constructor(){super(...arguments),this.beanName="gos",this.gridReadyFired=!1,this.queueEvents=[],this.domDataKey="__AG_"+Math.random().toString(),this.propertyEventService=new LocalEventService,this.globalEventHandlerFactory=o=>(a,c)=>{if(!this.isAlive())return;const d=ALWAYS_SYNC_GLOBAL_EVENTS.has(a);if(d&&!o||!d&&o)return;const g=(b,_)=>{const $=this.gridOptions[ComponentUtil.getCallbackForEvent(b)];typeof $=="function"&&this.frameworkOverrides.wrapOutgoing(()=>$(_))};if(this.gridReadyFired)g(a,c);else if(a==="gridReady"){g(a,c),this.gridReadyFired=!0;for(const b of this.queueEvents)g(b.eventName,b.event);this.queueEvents=[]}else this.queueEvents.push({eventName:a,event:c})}}wireBeans(o){this.gridOptions=o.gridOptions,this.eGridDiv=o.eGridDiv,this.validationService=o.validationService,this.environment=o.environment,this.api=o.gridApi,this.gridId=o.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){const o=!this.get("suppressAsyncEvents");this.eventService.addGlobalListener(this.globalEventHandlerFactory().bind(this),o),this.eventService.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propertyEventService.setFrameworkOverrides(this.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:a})=>{this.updateGridOptions({options:a,force:!0,source:"gridOptionsUpdated"})}})}destroy(){super.destroy(),this.queueEvents=[]}get(o){return this.gridOptions[o]??GRID_OPTION_DEFAULTS[o]}getCallback(o){return this.mergeGridCommonParams(this.gridOptions[o])}exists(o){return _exists(this.gridOptions[o])}mergeGridCommonParams(o){return o&&(c=>{const d=c;return d.api=this.api,d.context=this.gridOptionsContext,o(d)})}updateGridOptions({options:o,force:a,source:c="api"}){var b;const d={id:Y5.changeSetId++,properties:[]},g=[];Object.entries(o).forEach(([_,$])=>{c==="api"&&INITIAL_GRID_OPTION_KEYS[_]&&_warnOnce(`${_} is an initial property and cannot be updated.`);const j=getCoercedValue(_,$),rt=a||typeof j=="object"&&c==="api",nt=this.gridOptions[_];if(rt||nt!==j){this.gridOptions[_]=j;const st={type:_,currentValue:j,previousValue:nt,changeSet:d,source:c};g.push(st)}}),(b=this.validationService)==null||b.processGridOptions(this.gridOptions),d.properties=g.map(_=>_.type),g.forEach(_=>{this.gridOptions.debug&&_log(`Updated property ${_.type} from`,_.previousValue," to ",_.currentValue),this.propertyEventService.dispatchEvent(_)})}addPropertyEventListener(o,a){this.propertyEventService.addEventListener(o,a)}removePropertyEventListener(o,a){this.propertyEventService.removeEventListener(o,a)}getDomDataKey(){return this.domDataKey}getGridCommonParams(){return{api:this.api,context:this.gridOptionsContext}}addGridCommonParams(o){const a=o;return a.api=this.api,a.context=this.gridOptionsContext,a}assertModuleRegistered(o,a){return ModuleRegistry.__assertRegistered(o,a,this.gridId)}isModuleRegistered(o){return ModuleRegistry.__isRegistered(o,this.gridId)}};_GridOptionsService.changeSetId=0;var GridOptionsService=_GridOptionsService,HeaderPositionUtils=class extends BeanStub{constructor(){super(...arguments),this.beanName="headerPositionUtils"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.ctrlsService=e.ctrlsService}findHeader(e,o){let a,c;if(isColumnGroup(e.column)?a=this.visibleColsService.getGroupAtDirection(e.column,o):(c=`getCol${o}`,a=this.visibleColsService[c](e.column)),!a)return;const{headerRowIndex:d}=e;if(this.getHeaderRowType(d)!=="filter"){const _=[a];for(;a.getParent();)a=a.getParent(),_.push(a);a=_[_.length-1-d]}const{column:g,headerRowIndex:b}=this.getHeaderIndexToFocus(a,d);return{column:g,headerRowIndex:b}}getHeaderIndexToFocus(e,o){let a;if(isColumnGroup(e)&&this.isAnyChildSpanningHeaderHeight(e)&&e.isPadding()){const c=e;a=c.getLeafColumns()[0];let d=a;for(;d!==c;)o++,d=d.getParent()}return{column:a||e,headerRowIndex:o}}isAnyChildSpanningHeaderHeight(e){return e?e.getLeafColumns().some(o=>o.isSpanHeaderHeight()):!1}getColumnVisibleParent(e,o){const a=this.getHeaderRowType(o),c=a==="filter",d=a==="column";let g=c?e:e.getParent(),b=o-1,_=b;if(d&&this.isAnyChildSpanningHeaderHeight(e.getParent())){for(;g&&g.isPadding();)g=g.getParent(),b--;_=b,b<0&&(g=e,b=o,_=void 0)}return{column:g,headerRowIndex:b,headerRowIndexWithoutSpan:_}}getColumnVisibleChild(e,o,a="After"){const c=this.getHeaderRowType(o);let d=e,g=o+1;const b=g;if(c==="group"){const _=e.getDisplayedLeafColumns(),$=a==="After"?_[0]:_last(_),j=[];let rt=$;for(;rt.getParent()!==e;)rt=rt.getParent(),j.push(rt);if(d=$,$.isSpanHeaderHeight())for(let nt=j.length-1;nt>=0;nt--){const st=j[nt];if(!st.isPadding()){d=st;break}g++}else d=_last(j),d||(d=$)}return{column:d,headerRowIndex:g,headerRowIndexWithoutSpan:b}}getHeaderRowType(e){const o=this.ctrlsService.getHeaderRowContainerCtrl();if(o)return o.getRowType(e)}findColAtEdgeForHeaderRow(e,o){const a=this.visibleColsService.getAllCols(),c=a[o==="start"?0:a.length-1];if(!c)return;const d=this.ctrlsService.getHeaderRowContainerCtrl(c.getPinned()),g=d==null?void 0:d.getRowType(e);if(g=="group"){const b=this.visibleColsService.getColGroupAtLevel(c,e);return{headerRowIndex:e,column:b}}return{headerRowIndex:g==null?-1:e,column:c}}},LocaleService=class extends BeanStub{constructor(){super(...arguments),this.beanName="localeService"}getLocaleTextFunc(){const e=this.gos.getCallback("getLocaleText");if(e)return(a,c,d)=>e({key:a,defaultValue:c,variableValues:d});const o=this.gos.get("localeText");return(a,c,d)=>{let g=o&&o[a];if(g&&d&&d.length){let b=0;for(;!(b>=d.length||g.indexOf("${variable}")===-1);)g=g.replace("${variable}",d[b++])}return g??c}}},ApiEventService=class extends BeanStub{constructor(){super(...arguments),this.beanName="apiEventService",this.syncEventListeners=new Map,this.asyncEventListeners=new Map,this.syncGlobalEventListeners=new Set,this.globalEventListenerPairs=new Map}postConstruct(){this.frameworkEventWrappingService=new FrameworkEventListenerService(this.getFrameworkOverrides())}addEventListener(e,o){const a=this.frameworkEventWrappingService.wrap(e,o),c=_useAsyncEvents(this.gos)&&!ALWAYS_SYNC_GLOBAL_EVENTS.has(e),d=c?this.asyncEventListeners:this.syncEventListeners;d.has(e)||d.set(e,new Set),d.get(e).add(a),this.eventService.addEventListener(e,a,c)}removeEventListener(e,o){var g;const a=this.frameworkEventWrappingService.unwrap(e,o),c=this.asyncEventListeners.get(e),d=!!(c!=null&&c.delete(a));d||(g=this.syncEventListeners.get(e))==null||g.delete(a),this.eventService.removeEventListener(e,a,d)}addGlobalListener(e){const o=this.frameworkEventWrappingService.wrapGlobal(e);if(_useAsyncEvents(this.gos)){const c=(g,b)=>{ALWAYS_SYNC_GLOBAL_EVENTS.has(g)&&o(g,b)},d=(g,b)=>{ALWAYS_SYNC_GLOBAL_EVENTS.has(g)||o(g,b)};this.globalEventListenerPairs.set(e,{syncListener:c,asyncListener:d}),this.eventService.addGlobalListener(c,!1),this.eventService.addGlobalListener(d,!0)}else this.syncGlobalEventListeners.add(o),this.eventService.addGlobalListener(o,!1)}removeGlobalListener(e){const o=this.frameworkEventWrappingService.unwrapGlobal(e);if(this.globalEventListenerPairs.has(o)){const{syncListener:c,asyncListener:d}=this.globalEventListenerPairs.get(o);this.eventService.removeGlobalListener(c,!1),this.eventService.removeGlobalListener(d,!0),this.globalEventListenerPairs.delete(e)}else this.syncGlobalEventListeners.delete(o),this.eventService.removeGlobalListener(o,!1)}destroyEventListeners(e,o){e.forEach((a,c)=>{a.forEach(d=>this.eventService.removeEventListener(c,d,o)),a.clear()}),e.clear()}destroyGlobalListeners(e,o){e.forEach(a=>this.eventService.removeGlobalListener(a,o)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncEventListeners,!1),this.destroyEventListeners(this.asyncEventListeners,!0),this.destroyGlobalListeners(this.syncGlobalEventListeners,!1),this.globalEventListenerPairs.forEach(({syncListener:e,asyncListener:o})=>{this.eventService.removeGlobalListener(e,!1),this.eventService.removeGlobalListener(o,!0)}),this.globalEventListenerPairs.clear()}},PageBoundsListener=class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBoundsListener"}wireBeans(e){this.rowModel=e.rowModel,this.paginationService=e.paginationService,this.pageBoundsService=e.pageBoundsService}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventService.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){this.paginationService?this.paginationService.calculatePages():this.pageBoundsService.calculateBounds(0,this.rowModel.getRowCount()-1)}},PageBoundsService=class extends BeanStub{constructor(){super(...arguments),this.beanName="pageBoundsService",this.pixelOffset=0}wireBeans(e){this.rowModel=e.rowModel}getFirstRow(){return this.topRowBounds?this.topRowBounds.rowIndex:-1}getLastRow(){return this.bottomRowBounds?this.bottomRowBounds.rowIndex:-1}getCurrentPageHeight(){return _missing(this.topRowBounds)||_missing(this.bottomRowBounds)?0:Math.max(this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight-this.topRowBounds.rowTop,0)}getCurrentPagePixelRange(){const e=this.topRowBounds?this.topRowBounds.rowTop:0,o=this.bottomRowBounds?this.bottomRowBounds.rowTop+this.bottomRowBounds.rowHeight:0;return{pageFirstPixel:e,pageLastPixel:o}}calculateBounds(e,o){this.topRowBounds=this.rowModel.getRowBounds(e),this.topRowBounds&&(this.topRowBounds.rowIndex=e),this.bottomRowBounds=this.rowModel.getRowBounds(o),this.bottomRowBounds&&(this.bottomRowBounds.rowIndex=o),this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){const e=_exists(this.topRowBounds)?this.topRowBounds.rowTop:0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventService.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},AriaAnnouncementService=class extends BeanStub{constructor(){super(),this.beanName="ariaAnnouncementService",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.updateAnnouncement=_debounce(this.updateAnnouncement.bind(this),200)}wireBeans(e){this.eGridDiv=e.eGridDiv}postConstruct(){const e=_getDocument(this.gos),o=this.descriptionContainer=e.createElement("div");o.classList.add("ag-aria-description-container"),_setAriaLive(o,"polite"),_setAriaRelevant(o,"additions text"),_setAriaAtomic(o,!0),this.eGridDiv.appendChild(o)}announceValue(e,o){this.pendingAnnouncements.set(o,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{this.isAlive()&&this.descriptionContainer&&(this.descriptionContainer.textContent=e)},50)}destroy(){super.destroy();const{descriptionContainer:e}=this;e&&(_clearElement(e),e.parentElement&&e.parentElement.removeChild(e)),this.descriptionContainer=null,this.eGridDiv=null,this.pendingAnnouncements.clear()}},ColumnAnimationService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnAnimationService",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.ctrlsService.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){this.active||this.gos.get("suppressColumnMoveAnimation")||this.gos.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount;this.gridBodyCtrl.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&this.gridBodyCtrl.setColumnMovingCss(!1)})}flush(e,o){if(this.executeNextFuncs.length===0&&this.executeLaterFuncs.length===0){e(),o();return}const a=c=>{for(;c.length;){const d=c.pop();d&&d()}};this.getFrameworkOverrides().wrapIncoming(()=>{window.setTimeout(()=>{e(),a(this.executeNextFuncs)},0),window.setTimeout(()=>{o(),a(this.executeLaterFuncs)},200)})}},ColumnHoverService=class extends BeanStub{constructor(){super(...arguments),this.beanName="columnHoverService"}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){return!!this.selectedColumns&&this.selectedColumns.indexOf(e)>=0}updateState(e){this.selectedColumns=e,this.eventService.dispatchEvent({type:"columnHoverChanged"})}},OverlayService=class extends BeanStub{constructor(){super(...arguments),this.beanName="overlayService",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}wireBeans(e){this.userComponentFactory=e.userComponentFactory,this.rowModel=e.rowModel,this.columnModel=e.columnModel,this.ctrlsService=e.ctrlsService}postConstruct(){this.isClientSide=_isClientSideRowModel(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.onGridSizeChanged.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.overlayWrapperComp=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.overlayWrapperComp}isExclusive(){return this.state===1&&!!this.overlayWrapperComp}getOverlayWrapper(){return this.overlayWrapperComp}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos.get("loading");!e&&(e!==void 0||this.gos.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1,!(this.gos.get("loading")||this.gos.get("suppressNoRowsOverlay"))&&this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){_warnOnce("Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.");return}this.doHideOverlay()}updateOverlayVisibility(){if(!this.overlayWrapperComp){this.state=0;return}let e=this.gos.get("loading");this.showInitialOverlay&&e===void 0&&!this.gos.get("suppressLoadingOverlay")&&(e=!this.gos.get("columnDefs")||!this.columnModel.isReady()||!this.gos.get("rowData")&&this.isClientSide),e?this.state!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,this.rowModel.isEmpty()&&!this.gos.get("suppressNoRowsOverlay")&&this.isClientSide?this.state!==2&&this.doShowNoRowsOverlay():this.state!==0&&this.doHideOverlay())}doShowLoadingOverlay(){this.overlayWrapperComp&&(this.state=1,this.showOverlay(this.userComponentFactory.getLoadingOverlayCompDetails({}),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.overlayWrapperComp&&(this.state=2,this.showOverlay(this.userComponentFactory.getNoRowsOverlayCompDetails({}),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.overlayWrapperComp&&(this.state=0,this.overlayWrapperComp.hideOverlay(),this.updateExclusive())}showOverlay(e,o,a){var d;const c=e.newAgStackInstance();(d=this.overlayWrapperComp)==null||d.showOverlay(c,o,this.isExclusive(),a),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventService.dispatchEvent({type:"overlayExclusiveChanged"})}onGridSizeChanged(){this.refreshWrapperPadding()}refreshWrapperPadding(){if(!this.overlayWrapperComp)return;let e=0;if(this.state===2){const o=this.ctrlsService.get("gridHeaderCtrl");e=(o==null?void 0:o.getHeaderHeight())||0}else this.wrapperPadding!==0&&(e=0);this.wrapperPadding!==e&&(this.wrapperPadding=e,this.overlayWrapperComp.updateOverlayWrapperPaddingTop(e))}},RowCssClassCalculator=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowCssClassCalculator"}wireBeans(e){this.stylingService=e.stylingService}getInitialRowClasses(e){const o=[];return _exists(e.extraCssClass)&&o.push(e.extraCssClass),o.push("ag-row"),o.push(e.rowFocused?"ag-row-focus":"ag-row-no-focus"),e.fadeRowIn&&o.push("ag-opacity-zero"),o.push(e.rowIsEven?"ag-row-even":"ag-row-odd"),e.rowNode.isRowPinned()&&o.push("ag-row-pinned"),e.rowNode.isSelected()&&o.push("ag-row-selected"),e.rowNode.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+e.rowLevel),e.rowNode.stub&&o.push("ag-row-loading"),e.fullWidthRow&&o.push("ag-full-width-row"),e.expandable&&(o.push("ag-row-group"),o.push(e.rowNode.expanded?"ag-row-group-expanded":"ag-row-group-contracted")),e.rowNode.dragging&&o.push("ag-row-dragging"),_pushAll(o,this.processClassesFromGridOptions(e.rowNode)),_pushAll(o,this.preProcessRowClassRules(e.rowNode)),o.push(e.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),e.firstRowOnPage&&o.push("ag-row-first"),e.lastRowOnPage&&o.push("ag-row-last"),e.fullWidthRow&&(e.pinned==="left"&&o.push("ag-cell-last-left-pinned"),e.pinned==="right"&&o.push("ag-cell-first-right-pinned")),o}processClassesFromGridOptions(e){const o=[],a=g=>{typeof g=="string"?o.push(g):Array.isArray(g)&&g.forEach(b=>o.push(b))},c=this.gos.get("rowClass");if(c){if(typeof c=="function")return _warnOnce("rowClass should not be a function, please use getRowClass instead"),[];a(c)}const d=this.gos.getCallback("getRowClass");if(d){const g={data:e.data,node:e,rowIndex:e.rowIndex},b=d(g);a(b)}return o}preProcessRowClassRules(e){const o=[];return this.processRowClassRules(e,a=>{o.push(a)},()=>{}),o}processRowClassRules(e,o,a){const c=this.gos.addGridCommonParams({data:e.data,node:e,rowIndex:e.rowIndex});this.stylingService.processClassRules(void 0,this.gos.get("rowClassRules"),c,o,a)}calculateRowLevel(e){return e.group?e.level:e.parent?e.parent.level+1:0}},RowContainerHeightService=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowContainerHeightService",this.scrollY=0,this.uiBodyHeight=0}wireBeans(e){this.ctrlsService=e.ctrlsService}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=_getMaxDivHeight(),this.gos.get("debug")&&_log("RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}isStretching(){return this.stretching}getDivStretchOffset(){return this.divStretchOffset}updateOffset(){if(!this.stretching)return;const o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition().top,a=this.getUiBodyHeight();(o!==this.scrollY||a!==this.uiBodyHeight)&&(this.scrollY=o,this.uiBodyHeight=a,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,o=e*this.pixelsToShave;this.gos.get("debug")&&_log(`RowContainerHeightService - Div Stretch Offset = ${o} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(o)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventService.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const o=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==o&&(this.divStretchOffset=o,this.eventService.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getUiContainerHeight(){return this.uiContainerHeight}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const o=this.ctrlsService.getGridBodyCtrl().getScrollFeature().getVScrollPosition();return o.bottom-o.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const o=this.modelHeight-this.getUiBodyHeight(),a=e/o;return this.maxScrollY*a}},RowNodeSorter=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowNodeSorter"}wireBeans(e){this.valueService=e.valueService,this.columnModel=e.columnModel,this.showRowGroupColsService=e.showRowGroupColsService}postConstruct(){this.isAccentedSort=this.gos.get("accentedSort"),this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(this.gos),this.addManagedPropertyListener("accentedSort",e=>this.isAccentedSort=e.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=_isColumnsSortingCoupledToGroup(this.gos))}doFullSort(e,o){const a=(d,g)=>({currentPos:g,rowNode:d}),c=e.map(a);return c.sort(this.compareRowNodes.bind(this,o)),c.map(d=>d.rowNode)}compareRowNodes(e,o,a){const c=o.rowNode,d=a.rowNode;for(let g=0,b=e.length;g<b;g++){const _=e[g],$=_.sort==="desc",j=this.getValue(c,_.column),rt=this.getValue(d,_.column);let nt;const st=this.getComparator(_,c);if(st?nt=st(j,rt,c,d,$):nt=_defaultComparator(j,rt,this.isAccentedSort),!isNaN(nt)&&nt!==0)return _.sort==="asc"?nt:nt*-1}return o.currentPos-a.currentPos}getComparator(e,o){const a=e.column,c=a.getColDef().comparator;if(c!=null)return c;if(!a.getColDef().showRowGroup)return;const d=!o.group&&a.getColDef().field;if(!d)return;const g=this.columnModel.getColDefCol(d);if(g)return g.getColDef().comparator}getValue(e,o){var c,d,g;if(!this.primaryColumnsSortGroups)return this.valueService.getValue(o,e,!1,!1);if(e.rowGroupColumn===o){if(_isGroupUseEntireRow(this.gos,this.columnModel.isPivotActive())){const $=(c=e.allLeafChildren)==null?void 0:c[0];return $?this.valueService.getValue(o,$,!1,!1):void 0}const _=(d=this.showRowGroupColsService)==null?void 0:d.getShowRowGroupCol(o.getId());return _?(g=e.groupData)==null?void 0:g[_.getId()]:void 0}if(!(e.group&&o.getColDef().showRowGroup))return this.valueService.getValue(o,e,!1,!1)}},ChangedPath=class{constructor(e,o){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:o,children:null},this.mapToItems[o.id]=this.pathRoot}setInactive(){this.active=!1}isActive(){return this.active}depthFirstSearchChangedPath(e,o){if(e.children)for(let a=0;a<e.children.length;a++)this.depthFirstSearchChangedPath(e.children[a],o);o(e.rowNode)}depthFirstSearchEverything(e,o,a){if(e.childrenAfterGroup)for(let c=0;c<e.childrenAfterGroup.length;c++){const d=e.childrenAfterGroup[c];d.childrenAfterGroup?this.depthFirstSearchEverything(e.childrenAfterGroup[c],o,a):a&&o(d)}o(e)}forEachChangedNodeDepthFirst(e,o=!1,a=!1){this.active&&!a?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,o)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let o=e,a=0;for(;!this.mapToItems[o.id];){const c={rowNode:o,children:null};this.mapToItems[o.id]=c,a++,o=o.parent}return a}populateColumnsMap(e,o){if(!this.keepingColumns||!o)return;let a=e;for(;a;)this.nodeIdsToColumns[a.id]||(this.nodeIdsToColumns[a.id]={}),o.forEach(c=>this.nodeIdsToColumns[a.id][c.getId()]=!0),a=a.parent}linkPathItems(e,o){let a=e;for(let c=0;c<o;c++){const d=this.mapToItems[a.id],g=this.mapToItems[a.parent.id];g.children||(g.children=[]),g.children.push(d),a=a.parent}}addParentNode(e,o){if(!e||e.isRowPinned())return;const a=this.createPathItems(e);this.linkPathItems(e,a),this.populateColumnsMap(e,o)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,o){if(!this.keepingColumns)return o;const a=this.nodeIdsToColumns[e.id];return o.filter(d=>a[d.getId()])}getNotValueColumnsForNode(e,o){if(!this.keepingColumns)return null;const a=this.nodeIdsToColumns[e.id];return o.filter(d=>!a[d.getId()])}},SelectionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="selectionService",this.selectedNodes=new Map,this.selectionCtx=new RowRangeSelectionContext,this.rowSelectionMode=void 0}wireBeans(e){this.rowModel=e.rowModel,this.pageBoundsService=e.pageBoundsService}postConstruct(){const{gos:e,rowModel:o,onRowSelected:a}=this;this.selectionCtx.init(o),this.rowSelectionMode=_getRowSelectionMode(e),this.groupSelectsChildren=_getGroupSelectsDescendants(e),this.addManagedPropertyListeners(["groupSelectsChildren","rowSelection"],()=>{const c=_getGroupSelectsDescendants(e),d=_getRowSelectionMode(e);(c!==this.groupSelectsChildren||d!==this.rowSelectionMode)&&(this.groupSelectsChildren=c,this.rowSelectionMode=d,this.deselectAllRowNodes({source:"api"}))}),this.addManagedEventListeners({rowSelected:a.bind(this)})}destroy(){super.destroy(),this.resetNodes(),this.selectionCtx.reset()}isMultiSelect(){return this.rowSelectionMode==="multiRow"}overrideSelectionValue(e,o){if(!isSelectionUIEvent(o))return e;const a=this.selectionCtx.getRoot();return a?a.isSelected()??!1:!0}setNodesSelected(e){var nt;const{newValue:o,clearSelection:a,suppressFinishActions:c,rangeSelect:d,nodes:g,event:b,source:_}=e;if(g.length===0)return 0;if(g.length>1&&!this.isMultiSelect())return _warnOnce("cannot multi select unless selection mode is 'multiRow'"),0;const $=this.groupSelectsChildren&&e.groupSelectsFiltered===!0,j=g.map(st=>st.footer?st.sibling:st);if(d){if(j.length>1)return _warnOnce("cannot range select while selecting multiple rows"),0;const st=j[0],jt=this.overrideSelectionValue(o,_);if(this.isMultiSelect()){if(this.selectionCtx.isInRange(st)){const wl=this.selectionCtx.truncate(st);return jt&&this.selectRange(wl.discard,!1,_),this.selectRange(wl.keep,jt,_)}else if(this.selectionCtx.getRoot()!==st){const it=this.selectionCtx.extend(st,this.groupSelectsChildren);return jt&&this.selectRange(it.discard,!1,_),this.selectRange(it.keep,jt,_)}}}c||this.selectionCtx.setRoot(j[0]);let rt=0;for(let st=0;st<j.length;st++){const jt=j[st];$&&jt.group||jt.selectThisNode(o,b,_)&&rt++,this.groupSelectsChildren&&((nt=jt.childrenAfterGroup)!=null&&nt.length)&&(rt+=this.selectChildren(jt,o,$,_))}return c||(o&&(a||!this.isMultiSelect())&&(rt+=this.clearOtherNodes(j[0],_)),rt>0&&(this.updateGroupsFromChildrenSelections(_),this.dispatchSelectionChanged(_))),rt}selectRange(e,o,a){let c=0;return e.forEach(d=>{if(d.group&&this.groupSelectsChildren)return;d.selectThisNode(o,void 0,a)&&c++}),c>0&&(this.updateGroupsFromChildrenSelections(a),this.dispatchSelectionChanged(a)),c}selectChildren(e,o,a,c){const d=a?e.childrenAfterAggFilter:e.childrenAfterGroup;return _missing(d)?0:this.setNodesSelected({newValue:o,clearSelection:!1,suppressFinishActions:!0,groupSelectsFiltered:a,source:c,nodes:d})}getSelectedNodes(){const e=[];return this.selectedNodes.forEach(o=>{o&&e.push(o)}),e}getSelectedRows(){const e=[];return this.selectedNodes.forEach(o=>{o&&o.data&&e.push(o.data)}),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const o=new Map;this.selectedNodes.forEach((a,c)=>{a&&e(a)&&o.set(c,a)}),this.selectedNodes=o}updateGroupsFromChildrenSelections(e,o){if(!this.groupSelectsChildren||!_isClientSideRowModel(this.gos))return!1;const c=this.rowModel.getRootNode();o||(o=new ChangedPath(!0,c),o.setInactive());let d=!1;return o.forEachChangedNodeDepthFirst(g=>{if(g!==c){const b=g.calculateSelectedFromChildren();d=g.selectThisNode(b===null?!1:b,void 0,e)||d}}),d}clearOtherNodes(e,o){const a=new Map;let c=0;return this.selectedNodes.forEach(d=>{if(d&&d.id!==e.id){const g=this.selectedNodes.get(d.id);c+=g.setSelectedParams({newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:o}),this.groupSelectsChildren&&d.parent&&a.set(d.parent.id,d.parent)}}),a.forEach(d=>{const g=d.calculateSelectedFromChildren();d.selectThisNode(g===null?!1:g,void 0,o)}),c}onRowSelected(e){const o=e.node;this.groupSelectsChildren&&o.group||(o.isSelected()?this.selectedNodes.set(o.id,o):this.selectedNodes.delete(o.id))}syncInRowNode(e,o){this.syncInOldRowNode(e,o),this.syncInNewRowNode(e)}syncInOldRowNode(e,o){if(_exists(o)&&e.id!==o.id&&o){const c=o.id;this.selectedNodes.get(c)==e&&this.selectedNodes.set(o.id,o)}}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.setSelectedInitialValue(!0),this.selectedNodes.set(e.id,e)):e.setSelectedInitialValue(!1)}reset(e){const o=this.getSelectionCount();this.resetNodes(),o&&this.dispatchSelectionChanged(e)}resetNodes(){var e;(e=this.selectedNodes)==null||e.clear()}getBestCostNodeSelection(){if(!_isClientSideRowModel(this.gos))return;const o=this.rowModel.getTopLevelNodes();if(o===null)return;const a=[];function c(d){for(let g=0,b=d.length;g<b;g++){const _=d[g];if(_.isSelected())a.push(_);else{const $=_;$.group&&$.children&&c($.children)}}}return c(o),a}isEmpty(){let e=0;return this.selectedNodes.forEach(o=>{o&&e++}),e===0}deselectAllRowNodes(e){const o=b=>b.selectThisNode(!1,void 0,c),a=_isClientSideRowModel(this.gos),{source:c,justFiltered:d,justCurrentPage:g}=e;if(g||d){if(!a){_errorOnce("selecting just filtered only works when gridOptions.rowModelType='clientSide'");return}this.getNodesToSelect(d,g).forEach(o)}else this.selectedNodes.forEach(b=>{b&&o(b)}),this.reset(c);this.selectionCtx.reset(),a&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(c),this.dispatchSelectionChanged(c)}getSelectedCounts(e,o){let a=0,c=0;const d=g=>{this.groupSelectsChildren&&g.group||(g.isSelected()?a++:g.selectable&&c++)};return this.getNodesToSelect(e,o).forEach(d),{selectedCount:a,notSelectedCount:c}}getSelectAllState(e,o){const{selectedCount:a,notSelectedCount:c}=this.getSelectedCounts(e,o);return a===0&&c===0?!1:a>0&&c>0?null:a>0}hasNodesToSelect(e=!1,o=!1){return this.getNodesToSelect(e,o).filter(a=>a.selectable).length>0}getNodesToSelect(e=!1,o=!1){this.validateSelectAllType();const a=[];if(o)return this.forEachNodeOnPage(d=>{if(!d.group){a.push(d);return}if(!d.expanded){const g=b=>{var _;a.push(b),(_=b.childrenAfterFilter)!=null&&_.length&&b.childrenAfterFilter.forEach(g)};g(d);return}this.groupSelectsChildren||a.push(d)}),a;const c=this.rowModel;return e?(c.forEachNodeAfterFilter(d=>{a.push(d)}),a):(c.forEachNode(d=>{a.push(d)}),a)}forEachNodeOnPage(e){const o=this.pageBoundsService.getFirstRow(),a=this.pageBoundsService.getLastRow();for(let c=o;c<=a;c++){const d=this.rowModel.getRow(c);d&&e(d)}}selectAllRowNodes(e){if(_isUsingNewRowSelectionAPI(this.gos)&&!_isMultiRowSelection(this.gos))return _warnOnce("cannot multi select unless selection mode is 'multiRow'");this.validateSelectAllType();const{source:o,justFiltered:a,justCurrentPage:c}=e,d=this.getNodesToSelect(a,c);d.forEach(g=>g.selectThisNode(!0,void 0,o)),this.selectionCtx.setRoot(d[0]??null),this.selectionCtx.setEndRange(_last(d)??null),_isClientSideRowModel(this.gos)&&this.groupSelectsChildren&&this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o)}getSelectionState(){const e=[];return this.selectedNodes.forEach(o=>{o!=null&&o.id&&e.push(o.id)}),e.length?e:null}setSelectionState(e,o){if(!Array.isArray(e))return _errorOnce("Invalid selection state. When using client-side row model, the state must conform to `string[]`.");const a=new Set(e),c=[];this.rowModel.forEachNode(d=>{a.has(d.id)&&c.push(d)}),this.setNodesSelected({newValue:!0,nodes:c,source:o})}dispatchSelectionChanged(e){this.eventService.dispatchEvent({type:"selectionChanged",source:e})}validateSelectAllType(){if(!_isClientSideRowModel(this.gos))throw new Error(`selectAll only available when rowModelType='clientSide', ie not ${this.rowModel.getType()}`)}},SelectableService=class extends BeanStub{constructor(){super(...arguments),this.beanName="selectableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>this.updateSelectable())}updateSelectableAfterGrouping(){this.updateSelectable(!0)}updateSelectable(e=!1){const{gos:o}=this,a=_isRowSelection(o),c=_getIsRowSelectable(o);if(!a||!c)return;const d=_getGroupSelectsDescendants(o),g=_isClientSideRowModel(o)&&d,b=[],_=$=>{if(e&&!$.group)return;if(g&&$.group){const rt=$.childrenAfterGroup.some(nt=>nt.selectable===!0);$.setRowSelectable(rt,!0);return}const j=(c==null?void 0:c($))??!0;$.setRowSelectable(j,!0),!j&&$.isSelected()&&b.push($)};if(g){const $=this.rowModel;new ChangedPath(!1,$.getRootNode()).forEachChangedNodeDepthFirst(_,!0,!0)}else this.rowModel.forEachNode(_);b.length&&this.selectionService.setNodesSelected({nodes:b,newValue:!1,source:"selectableChanged"}),g&&this.selectionService instanceof SelectionService&&this.selectionService.updateGroupsFromChildrenSelections("selectableChanged")}},DEFAULT_SORTING_ORDER=["asc","desc",null],SortController=class extends BeanStub{constructor(){super(...arguments),this.beanName="sortController"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.showRowGroupColsService=e.showRowGroupColsService}progressSort(e,o,a){const c=this.getNextSortDirection(e);this.setSortForColumn(e,c,o,a)}setSortForColumn(e,o,a,c){o!=="asc"&&o!=="desc"&&(o=null);const d=_isColumnsSortingCoupledToGroup(this.gos);let g=[e];if(d&&e.getColDef().showRowGroup){const $=this.funcColsService.getSourceColumnsForGroupColumn(e),j=$==null?void 0:$.filter(rt=>rt.isSortable());j&&(g=[e,...j])}g.forEach($=>$.setSort(o,c));const b=(a||this.gos.get("alwaysMultiSort"))&&!this.gos.get("suppressMultiSort"),_=[];if(!b){const $=this.clearSortBarTheseColumns(g,c);_.push(...$)}this.updateSortIndex(e),_.push(...g),this.dispatchSortChangedEvents(c,_)}updateSortIndex(e){var _;const o=_isColumnsSortingCoupledToGroup(this.gos),a=(_=this.showRowGroupColsService)==null?void 0:_.getShowRowGroupCol(e.getId()),c=o&&a||e,d=this.getColumnsWithSortingOrdered();this.columnModel.getAllCols().forEach($=>$.setSortIndex(null));const g=d.filter($=>o&&$.getColDef().showRowGroup?!1:$!==c);(c.getSort()?[...g,c]:g).forEach(($,j)=>{$.setSortIndex(j)})}onSortChanged(e,o){this.dispatchSortChangedEvents(e,o)}isSortActive(){const o=this.columnModel.getAllCols().filter(a=>!!a.getSort());return o&&o.length>0}dispatchSortChangedEvents(e,o){const a={type:"sortChanged",source:e};o&&(a.columns=o),this.eventService.dispatchEvent(a)}clearSortBarTheseColumns(e,o){const a=[];return this.columnModel.getAllCols().forEach(c=>{e.includes(c)||(c.getSort()&&a.push(c),c.setSort(void 0,o))}),a}getNextSortDirection(e){let o;if(e.getColDef().sortingOrder?o=e.getColDef().sortingOrder:this.gos.get("sortingOrder")?o=this.gos.get("sortingOrder"):o=DEFAULT_SORTING_ORDER,!Array.isArray(o)||o.length<=0)return _warnOnce(`sortingOrder must be an array with at least one element, currently it's ${o}`),null;const a=o.indexOf(e.getSort()),c=a<0,d=a==o.length-1;let g;return c||d?g=o[0]:g=o[a+1],DEFAULT_SORTING_ORDER.indexOf(g)<0?(_warnOnce("invalid sort type ",g),null):g}getIndexedSortMap(){let e=this.columnModel.getAllCols().filter(g=>!!g.getSort());if(this.columnModel.isPivotMode()){const g=_isColumnsSortingCoupledToGroup(this.gos);e=e.filter(b=>{var rt;const _=!!b.getAggFunc(),$=!b.isPrimary(),j=g?(rt=this.showRowGroupColsService)==null?void 0:rt.getShowRowGroupCol(b.getId()):b.getColDef().showRowGroup;return _||$||j})}const o=this.funcColsService.getRowGroupColumns().filter(g=>!!g.getSort()),a={};e.forEach((g,b)=>a[g.getId()]=b),e.sort((g,b)=>{const _=g.getSortIndex(),$=b.getSortIndex();if(_!=null&&$!=null)return _-$;if(_==null&&$==null){const j=a[g.getId()],rt=a[b.getId()];return j>rt?1:-1}else return $==null?-1:1});const c=_isColumnsSortingCoupledToGroup(this.gos)&&!!o.length;c&&(e=[...new Set(e.map(g=>{var b;return((b=this.showRowGroupColsService)==null?void 0:b.getShowRowGroupCol(g.getId()))??g}))]);const d=new Map;return e.forEach((g,b)=>d.set(g,b)),c&&o.forEach(g=>{const b=this.showRowGroupColsService.getShowRowGroupCol(g.getId());d.set(g,d.get(b))}),d}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([e,o],[a,c])=>o-c).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const o=_isColumnsSortingCoupledToGroup(this.gos),a=!!e.getColDef().showRowGroup;return o&&a}getDisplaySortForColumn(e){const o=this.funcColsService.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(o!=null&&o.length))return e.getSort();const c=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...o]:o,d=c[0].getSort();return c.every(b=>b.getSort()==d)?d:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}},SyncService=class extends BeanStub{constructor(){super(...arguments),this.beanName="syncService",this.waitingForColumns=!1}wireBeans(e){this.ctrlsService=e.ctrlsService,this.columnModel=e.columnModel,this.rowModel=e.rowModel}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.ctrlsService.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){this.columnModel.setColumnDefs(e??[],"gridInitializing"),this.rowModel.start()}gridReady(){this.eventService.dispatchEvent({type:"gridReady"});const e=this.gos.isModuleRegistered("@ag-grid-enterprise/core");this.gos.get("debug")&&_log(`initialised successfully, enterprise = ${e}`)}setColumnDefs(e){const o=this.gos.get("columnDefs");if(o){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(o);return}this.columnModel.setColumnDefs(o,convertSourceType(e.source))}}},SOURCE_PASTE="paste",ChangeDetectionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="changeDetectionService"}wireBeans(e){this.rowModel=e.rowModel,this.rowRenderer=e.rowRenderer}postConstruct(){_isClientSideRowModel(this.gos)&&(this.clientSideRowModel=this.rowModel),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){e.source!==SOURCE_PASTE&&this.doChangeDetection(e.node,e.column)}doChangeDetection(e,o){if(this.gos.get("suppressChangeDetection"))return;const a=[e];if(this.clientSideRowModel&&!e.isRowPinned()){const c=this.gos.get("aggregateOnlyChangedColumns"),d=new ChangedPath(c,this.clientSideRowModel.getRootNode());d.addParentNode(e.parent,[o]),this.clientSideRowModel.doAggregate(d),d.forEachChangedNodeDepthFirst(g=>{a.push(g)})}this.rowRenderer.refreshCells({rowNodes:a})}},ExpressionService=class extends BeanStub{constructor(){super(...arguments),this.beanName="expressionService",this.expressionToFunctionCache={}}evaluate(e,o){if(typeof e=="string")return this.evaluateExpression(e,o);_errorOnce("value should be either a string or a function",e)}evaluateExpression(e,o){try{return this.createExpressionFunction(e)(o.value,o.context,o.oldValue,o.newValue,o.value,o.node,o.data,o.colDef,o.rowIndex,o.api,o.getValue,o.column,o.columnGroup)}catch(a){return _log("Processing of the expression failed"),_log("Expression = ",e),_log("Params = ",o),_log("Exception = ",a),null}}createExpressionFunction(e){if(this.expressionToFunctionCache[e])return this.expressionToFunctionCache[e];const o=this.createFunctionBody(e),a=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",o);return this.expressionToFunctionCache[e]=a,a}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},ValueCache=class extends BeanStub{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){this.active=this.gos.get("valueCache"),this.neverExpires=this.gos.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,o,a){this.active&&(e.__cacheVersion!==this.cacheVersion&&(e.__cacheVersion=this.cacheVersion,e.__cacheData={}),e.__cacheData[o]=a)}getValue(e,o){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[o]}},ValueService=class extends BeanStub{constructor(){super(...arguments),this.beanName="valueService",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionService=e.expressionService,this.columnModel=e.columnModel,this.valueCache=e.valueCache,this.dataTypeService=e.dataTypeService}postConstruct(){this.initialised||this.init()}init(){this.isSsrm=_isServerSideRowModel(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=a=>this.callColumnCellValueChangedHandler(a),o=_useAsyncEvents(this.gos);this.eventService.addEventListener("cellValueChanged",e,o),this.addDestroyFunc(()=>this.eventService.removeEventListener("cellValueChanged",e,o)),this.addManagedPropertyListener("treeData",a=>this.isTreeData=a.currentValue)}getValueForDisplay(e,o){const a=o.leafGroup&&this.columnModel.isPivotMode(),c=o.group&&o.expanded&&!o.footer&&!a,d=this.gos.get("groupSuppressBlankHeader");if(!c||d)return this.getValue(e,o);let g=!1;const b=this.gos.get("groupTotalRow")??this.gos.get("groupIncludeFooter");typeof b!="function"?g=!!b:g=!!(this.gos.getCallback("groupTotalRow")??this.gos.getCallback("groupIncludeFooter"))({node:this});const _=c&&g;return this.getValue(e,o,!1,_)}getValue(e,o,a=!1,c=!1){if(this.initialised||this.init(),!o)return;const d=e.getColDef(),g=d.field,b=e.getColId(),_=o.data;let $;const j=o.groupData&&o.groupData[b]!==void 0,rt=!c&&o.aggData&&o.aggData[b]!==void 0,nt=this.isSsrm&&c&&!!e.getColDef().aggFunc,st=this.isSsrm&&o.footer&&o.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===o.field);if(a&&d.filterValueGetter?$=this.executeFilterValueGetter(d.filterValueGetter,_,e,o):this.isTreeData&&rt?$=o.aggData[b]:this.isTreeData&&d.valueGetter?$=this.executeValueGetter(d.valueGetter,_,e,o):this.isTreeData&&g&&_?$=_getValueUsingField(_,g,e.isFieldContainsDots()):j?$=o.groupData[b]:rt?$=o.aggData[b]:d.valueGetter?$=this.executeValueGetter(d.valueGetter,_,e,o):st?$=_getValueUsingField(_,o.field,e.isFieldContainsDots()):g&&_&&!nt&&($=_getValueUsingField(_,g,e.isFieldContainsDots())),this.cellExpressions&&typeof $=="string"&&$.indexOf("=")===0){const jt=$.substring(1);$=this.executeValueGetter(jt,_,e,o)}if($==null){const jt=this.getOpenedGroup(o,e);if(jt!=null)return jt}return $}parseValue(e,o,a,c){const d=e.getColDef(),g=d.valueParser;if(_exists(g)){const b=this.gos.addGridCommonParams({node:o,data:o==null?void 0:o.data,oldValue:c,newValue:a,colDef:d,column:e});return typeof g=="function"?g(b):this.expressionService.evaluate(g,b)}return a}getDeleteValue(e,o){return _exists(e.getColDef().valueParser)?this.parseValue(e,o,"",this.getValueForDisplay(e,o))??null:null}formatValue(e,o,a,c,d=!0){let g=null,b;const _=e.getColDef();if(c?b=c:d&&(b=_.valueFormatter),b){const $=this.gos.addGridCommonParams({value:a,node:o,data:o?o.data:null,colDef:_,column:e});typeof b=="function"?g=b($):g=this.expressionService.evaluate(b,$)}else if(_.refData)return _.refData[a]||"";return g==null&&Array.isArray(a)&&(g=a.join(", ")),g}getOpenedGroup(e,o){if(!this.gos.get("showOpenedGroup")||!o.getColDef().showRowGroup)return;const c=o.getColDef().showRowGroup;let d=e.parent;for(;d!=null;){if(d.rowGroupColumn&&(c===!0||c===d.rowGroupColumn.getColId()))return d.key;d=d.parent}}setValue(e,o,a,c){const d=this.columnModel.getColDefCol(o);if(!e||!d)return!1;_missing(e.data)&&(e.data={});const{field:g,valueSetter:b}=d.getColDef();if(_missing(g)&&_missing(b))return _warnOnce("you need either field or valueSetter set on colDef for editing to work"),!1;if(this.dataTypeService&&!this.dataTypeService.checkType(d,a))return _warnOnce("Data type of the new value does not match the cell data type of the column"),!1;const _=this.gos.addGridCommonParams({node:e,data:e.data,oldValue:this.getValue(d,e),newValue:a,colDef:d.getColDef(),column:d});_.newValue=a;let $;if(_exists(b)?typeof b=="function"?$=b(_):$=this.expressionService.evaluate(b,_):$=this.setValueUsingField(e.data,g,a,d.isFieldContainsDots()),$===void 0&&($=!0),!$)return!1;e.resetQuickFilterAggregateText(),this.valueCache.onDataChanged();const j=this.getValue(d,e);return this.eventService.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:_.column,colDef:_.colDef,data:e.data,node:e,oldValue:_.oldValue,newValue:j,value:j,source:c}),!0}callColumnCellValueChangedHandler(e){const o=e.colDef.onCellValueChanged;typeof o=="function"&&this.getFrameworkOverrides().wrapOutgoing(()=>{o({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,o,a,c){if(!o)return!1;let d=!1;if(!c)d=e[o]===a,d||(e[o]=a);else{const g=o.split(".");let b=e;for(;g.length>0&&b;){const _=g.shift();g.length===0?(d=b[_]===a,d||(b[_]=a)):b=b[_]}}return!d}executeFilterValueGetter(e,o,a,c){const d=this.gos.addGridCommonParams({data:o,node:c,column:a,colDef:a.getColDef(),getValue:this.getValueCallback.bind(this,c)});return typeof e=="function"?e(d):this.expressionService.evaluate(e,d)}executeValueGetter(e,o,a,c){const d=a.getColId(),g=this.valueCache.getValue(c,d);if(g!==void 0)return g;const b=this.gos.addGridCommonParams({data:o,node:c,column:a,colDef:a.getColDef(),getValue:this.getValueCallback.bind(this,c)});let _;return typeof e=="function"?_=e(b):_=this.expressionService.evaluate(e,b),this.valueCache.setValue(c,d,_),_}getValueCallback(e,o){const a=this.columnModel.getColDefCol(o);return a?this.getValue(a,e):null}getKeyForNode(e,o){const a=this.getValue(e,o),c=e.getColDef().keyCreator;let d=a;if(c){const g=this.gos.addGridCommonParams({value:a,colDef:e.getColDef(),column:e,node:o,data:o.data});d=c(g)}return typeof d=="string"||d==null||(d=String(d),d==="[object Object]"&&_warnOnce("a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (se AG Grid docs) or b) to toString() on the object to return a key")),d}},_GlobalGridOptions=class N2{static applyGlobalGridOptions(o){if(!N2.gridOptions)return o;let a={};return _mergeDeep(a,N2.gridOptions,!0,!0),N2.mergeStrategy==="deep"?_mergeDeep(a,o,!0,!0):a={...a,...o},N2.gridOptions.context&&(a.context=N2.gridOptions.context),o.context&&(N2.mergeStrategy==="deep"&&a.context&&_mergeDeep(o.context,a.context,!0,!0),a.context=o.context),a}};_GlobalGridOptions.gridOptions=void 0;_GlobalGridOptions.mergeStrategy="shallow";var GlobalGridOptions=_GlobalGridOptions;function provideGlobalGridOptions(e,o="shallow"){GlobalGridOptions.gridOptions=e,GlobalGridOptions.mergeStrategy=o}function _getGlobalGridOption(e){var o;return(o=GlobalGridOptions.gridOptions)==null?void 0:o[e]}function createGrid(e,o,a){if(!o)return _errorOnce("No gridOptions provided to createGrid"),{};const c=new GridCoreCreator().create(e,o,d=>{const g=new GridComp$1(e);d.createBean(g)},void 0,a);if(!Object.isFrozen(o)&&!(a!=null&&a.frameworkOverrides)){const d="https://ag-grid.com/javascript-data-grid/grid-interface/#grid-api";Object.defineProperty(o,"api",{get:()=>{_errorOnce(`gridOptions.api is no longer supported. See ${d}.`)},configurable:!0})}return c}var Grid=class{constructor(e,o,a){if(_warnOnce("Since v31 new Grid(...) is deprecated. Use createGrid instead: `const gridApi = createGrid(...)`. The grid api is returned from createGrid and will not be available on gridOptions."),!o){_errorOnce("No gridOptions provided to the grid");return}this.gridOptions=o;const c=new GridCoreCreator().create(e,o,d=>{const g=new GridComp$1(e);d.createBean(g).addDestroyFunc(()=>{this.destroy()})},void 0,a);this.gridOptions.api=c}destroy(){var e;this.gridOptions&&((e=this.gridOptions.api)==null||e.destroy(),delete this.gridOptions.api)}},nextGridId=1,GridCoreCreator=class{create(e,o,a,c,d){const g=GlobalGridOptions.applyGlobalGridOptions(o),b=getCoercedGridOptions(g),_=b.gridId??String(nextGridId++),$=this.getRegisteredModules(d,_),j=this.createBeansList(b.rowModelType,$,_),rt=this.createProvidedBeans(e,b,d);if(!j){_errorOnce("Failed to create grid.");return}const nt={providedBeanInstances:rt,beanClasses:j,gridId:_,beanInitComparator:gridBeanInitComparator,beanDestroyComparator:gridBeanDestroyComparator,derivedBeans:[createGridApi]},st=new Context(nt);return this.registerModuleUserComponents(st,$),this.registerControllers(st,$),this.registerModuleApiFunctions(st,$),a(st),st.getBean("syncService").start(),c&&c(st),st.getBean("gridApi")}registerControllers(e,o){const a=e.getBean("ctrlsFactory");o.forEach(c=>{c.controllers&&c.controllers.forEach(d=>a.register(d))})}getRegisteredModules(e,o){const a=e?e.modules:null,c=ModuleRegistry.__getRegisteredModules(o),d=[],g={},b=(_,$,j)=>{(nt=>{g[nt.moduleName]||(g[nt.moduleName]=!0,d.push(nt),ModuleRegistry.__register(nt,_,j))})($),$.dependantModules&&$.dependantModules.forEach(nt=>b(_,nt,j))};return b(!!(a!=null&&a.length)||!ModuleRegistry.__isPackageBased(),CommunityFeaturesModule,void 0),a&&a.forEach(_=>b(!0,_,o)),c&&c.forEach(_=>b(!ModuleRegistry.__isPackageBased(),_,void 0)),d}registerModuleUserComponents(e,o){const a=this.extractModuleEntity(o,d=>d.userComponents?d.userComponents:[]),c=e.getBean("userComponentRegistry");a.forEach(({name:d,classImp:g,params:b})=>{c.registerDefaultComponent(d,g,b)})}registerModuleApiFunctions(e,o){const a=e.getBean("apiFunctionService");o.forEach(c=>{const d=c.apiFunctions;d&&Object.keys(d).forEach(b=>{a==null||a.addFunction(b,d[b])})})}createProvidedBeans(e,o,a){let c=a?a.frameworkOverrides:null;_missing(c)&&(c=new VanillaFrameworkOverrides);const d={gridOptions:o,eGridDiv:e,globalEventListener:a?a.globalEventListener:null,globalSyncEventListener:a?a.globalSyncEventListener:null,frameworkOverrides:c};return a&&a.providedBeanInstances&&Object.assign(d,a.providedBeanInstances),d}createBeansList(e="clientSide",o,a){const c=o.filter($=>!$.rowModel||$.rowModel===e),d={clientSide:"@ag-grid-community/client-side-row-model",infinite:"@ag-grid-community/infinite-row-model",serverSide:"@ag-grid-enterprise/server-side-row-model",viewport:"@ag-grid-enterprise/viewport-row-model"};if(!d[e]){_errorOnce("Could not find row model for rowModelType = ",e);return}if(!ModuleRegistry.__assertRegistered(d[e],`rowModelType = '${e}'`,a))return;const g=[RowPositionUtils,CellPositionUtils,HeaderPositionUtils,GridDestroyService,ApiFunctionService,UserComponentRegistry,AgComponentUtils,ComponentMetadataProvider,ResizeObserverService,UserComponentFactory,RowContainerHeightService,HorizontalResizeService,LocaleService,PinnedRowModel,DragService,VisibleColsService,EventService,GridOptionsService,PopupService,SelectionService,ColumnModel,HeaderNavigationService,PageBoundsService,PageBoundsListener,RowRenderer,ExpressionService,ColumnFactory,NavigationService,ValueCache,ValueService,AutoWidthCalculator,StandardMenuFactory,DragAndDropService,FocusService,MouseEventService,Environment,CellNavigationService,StylingService,ScrollVisibleService,SortController,ColumnHoverService,ColumnAnimationService,SelectableService,ChangeDetectionService,AnimationFrameService,ColumnDefFactory,RowCssClassCalculator,RowNodeSorter,CtrlsService,PinnedWidthService,RowNodeEventThrottle,CtrlsFactory,SyncService,OverlayService,ExpansionService,ApiEventService,AriaAnnouncementService,MenuService,ColumnApplyStateService,ColumnEventDispatcher,ColumnMoveService,ColumnAutosizeService,ColumnGetStateService,ColumnGroupStateService,ColumnSizeService,FuncColsService,ColumnNameService,ColumnViewportService,PivotResultColsService,ControlsColService],b=this.extractModuleEntity(c,$=>$.beans?$.beans:[]);g.push(...b);const _=[];return g.forEach($=>{_.indexOf($)<0&&_.push($)}),_}extractModuleEntity(e,o){return[].concat(...e.map(o))}},RowModelHelperService=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModelHelperService"}wireBeans(e){this.rowModel=e.rowModel}postConstruct(){const e=this.rowModel;switch(e.getType()){case"clientSide":this.clientSideRowModel=e;break;case"infinite":this.infiniteRowModel=e;break;case"serverSide":this.serverSideRowModel=e;break}}getClientSideRowModel(){return this.clientSideRowModel}getInfiniteRowModel(){return this.infiniteRowModel}getServerSideRowModel(){return this.serverSideRowModel}};function expandAll(e){e.expansionService.expandAll(!0)}function collapseAll(e){e.expansionService.expandAll(!1)}function onRowHeightChanged(e){var c,d;const o=(c=e.rowModelHelperService)==null?void 0:c.getClientSideRowModel(),a=(d=e.rowModelHelperService)==null?void 0:d.getServerSideRowModel();o?o.onRowHeightChanged():a&&a.onRowHeightChanged()}function setRowCount(e,o,a){var g,b;const c=(g=e.rowModelHelperService)==null?void 0:g.getServerSideRowModel();if(c){if(e.funcColsService.isRowGroupEmpty()){c.setRowCount(o,a);return}_errorOnce("setRowCount cannot be used while using row grouping.");return}const d=(b=e.rowModelHelperService)==null?void 0:b.getInfiniteRowModel();if(d){d.setRowCount(o,a);return}}function getCacheBlockState(e){var o;return((o=e.rowNodeBlockLoader)==null?void 0:o.getBlockState())??{}}function isLastRowIndexKnown(e){return e.rowModel.isLastRowIndexKnown()}var CsrmSsrmSharedApiModule={version:VERSION,moduleName:"@ag-grid-community/csrm-ssrm-shared-api",apiFunctions:{expandAll,collapseAll,onRowHeightChanged}},SsrmInfiniteSharedApiModule={version:VERSION,moduleName:"@ag-grid-community/ssrm-infinite-shared-api",apiFunctions:{setRowCount,getCacheBlockState,isLastRowIndexKnown}},BaseComponentWrapper=class{wrap(e,o,a=[],c){const d=this.createWrapper(e,c);return o.forEach(g=>{this.createMethod(d,g,!0)}),a.forEach(g=>{this.createMethod(d,g,!1)}),d}createMethod(e,o,a){e.addMethod(o,this.createMethodProxy(e,o,a))}createMethodProxy(e,o,a){return function(){return e.hasMethod(o)?e.callMethod(o,arguments):(a&&_warnOnce("Framework component is missing the method "+o+"()"),null)}}},ChartMappings=class{};ChartMappings.CHART_TYPE_TO_SERIES_TYPE={column:"bar",groupedColumn:"bar",stackedColumn:"bar",normalizedColumn:"bar",bar:"bar",groupedBar:"bar",stackedBar:"bar",normalizedBar:"bar",line:"line",scatter:"scatter",bubble:"bubble",pie:"pie",donut:"donut",doughnut:"donut",area:"area",stackedArea:"area",normalizedArea:"area",histogram:"histogram",radarLine:"radar-line",radarArea:"radar-area",nightingale:"nightingale",radialColumn:"radial-column",radialBar:"radial-bar",sunburst:"sunburst",rangeBar:"range-bar",rangeArea:"range-area",boxPlot:"box-plot",treemap:"treemap",heatmap:"heatmap",waterfall:"waterfall"};ChartMappings.COMBO_CHART_TYPES=["columnLineCombo","areaColumnCombo","customCombo"];ChartMappings.SERIES_GROUP_TYPES=["grouped","stacked","normalized"];var BarColumnLabelPlacement=(e=>(e.InsideBase="insideBase",e.InsideEnd="insideEnd",e.Center="center",e.OutsideEnd="outsideEnd",e))(BarColumnLabelPlacement||{}),globalObj=typeof commonjsGlobal$1>"u"?{}:commonjsGlobal$1;globalObj.HTMLElement=typeof HTMLElement>"u"?{}:HTMLElement;globalObj.HTMLButtonElement=typeof HTMLButtonElement>"u"?{}:HTMLButtonElement;globalObj.HTMLSelectElement=typeof HTMLSelectElement>"u"?{}:HTMLSelectElement;globalObj.HTMLInputElement=typeof HTMLInputElement>"u"?{}:HTMLInputElement;globalObj.Node=typeof Node>"u"?{}:Node;globalObj.MouseEvent=typeof MouseEvent>"u"?{}:MouseEvent;var ROOT_NODE_ID="ROOT_NODE_ID",TOP_LEVEL=0,ClientSideNodeManager=class{constructor(e,o,a,c,d,g){this.nextId=0,this.rowCountReady=!1,this.allNodesMap={},this.rootNode=e,this.gos=o,this.eventService=a,this.funcColsService=c,this.beans=g,this.selectionService=d,this.rootNode.group=!0,this.rootNode.level=-1,this.rootNode.id=ROOT_NODE_ID,this.rootNode.allLeafChildren=[],this.rootNode.childrenAfterGroup=[],this.rootNode.childrenAfterSort=[],this.rootNode.childrenAfterAggFilter=[],this.rootNode.childrenAfterFilter=[]}getCopyOfNodesMap(){return _cloneObject(this.allNodesMap)}getRowNode(e){return this.allNodesMap[e]}setRowData(e){if(typeof e=="string"){_warnOnce("rowData must be an array.");return}this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e);const o=this.rootNode,a=this.rootNode.sibling;o.childrenAfterFilter=null,o.childrenAfterGroup=null,o.childrenAfterAggFilter=null,o.childrenAfterSort=null,o.childrenMapped=null,o.updateHasChildren(),this.nextId=0,this.allNodesMap={},e?o.allLeafChildren=e.map((c,d)=>this.createNode(c,this.rootNode,TOP_LEVEL,d)):(o.allLeafChildren=[],o.childrenAfterGroup=[]),a&&(a.childrenAfterFilter=o.childrenAfterFilter,a.childrenAfterGroup=o.childrenAfterGroup,a.childrenAfterAggFilter=o.childrenAfterAggFilter,a.childrenAfterSort=o.childrenAfterSort,a.childrenMapped=o.childrenMapped,a.allLeafChildren=o.allLeafChildren)}updateRowData(e){this.rowCountReady=!0,this.dispatchRowDataUpdateStartedEvent(e.add);const o={rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},a=[];return this.executeRemove(e,o,a),this.executeUpdate(e,o,a),this.executeAdd(e,o),this.updateSelection(a,"rowDataChanged"),o}updateRowOrderFromRowData(e){const o=this.rootNode.allLeafChildren,a=(o==null?void 0:o.length)??0,c=new Map;let d=-1,g=-1;for(let b=0;b<a;++b){const _=o[b],$=_.data;$!==e[b]&&(g<0&&(d=b),g=b,c.set($,_))}if(d<0)return!1;for(let b=d;b<=g;++b){const _=c.get(e[b]);_!==void 0&&(o[b]=_,_.sourceRowIndex=b)}return!0}isRowCountReady(){return this.rowCountReady}dispatchRowDataUpdateStartedEvent(e){this.eventService.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}updateSelection(e,o){const a=e.length>0;a&&this.selectionService.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:o}),this.selectionService.updateGroupsFromChildrenSelections(o),a&&this.eventService.dispatchEvent({type:"selectionChanged",source:o})}executeAdd(e,o){const a=e.add;if(_missingOrEmpty(a))return;const c=this.rootNode.allLeafChildren;let d=c.length;if(typeof e.addIndex=="number"&&(d=this.sanitizeAddIndex(e.addIndex),d>0&&this.gos.get("treeData")))for(let $=0;$<c.length;$++){const j=c[$];if((j==null?void 0:j.rowIndex)==d-1){d=$+1;break}}const g=a.map((_,$)=>this.createNode(_,this.rootNode,TOP_LEVEL,d+$));if(d<c.length){const _=c.slice(0,d),$=c.slice(d,c.length),j=_.length+g.length;for(let rt=0,nt=$.length;rt<nt;++rt)$[rt].sourceRowIndex=j+rt;this.rootNode.allLeafChildren=[..._,...g,...$],o.rowsInserted=!0}else this.rootNode.allLeafChildren=c.concat(g);const b=this.rootNode.sibling;b&&(b.allLeafChildren=c),o.rowNodeTransaction.add=g}sanitizeAddIndex(e){var a;const o=((a=this.rootNode.allLeafChildren)==null?void 0:a.length)??0;return e<0||e>=o||Number.isNaN(e)?o:Math.ceil(e)}executeRemove(e,{rowNodeTransaction:o},a){var b,_;const{remove:c}=e;if(_missingOrEmpty(c))return;const d={};c.forEach($=>{const j=this.lookupRowNode($);j&&(j.isSelected()&&a.push(j),j.clearRowTopAndRowIndex(),d[j.id]=!0,delete this.allNodesMap[j.id],o.remove.push(j))}),this.rootNode.allLeafChildren=((b=this.rootNode.allLeafChildren)==null?void 0:b.filter($=>!d[$.id]))??null,(_=this.rootNode.allLeafChildren)==null||_.forEach(($,j)=>{$.sourceRowIndex=j});const g=this.rootNode.sibling;g&&(g.allLeafChildren=this.rootNode.allLeafChildren)}executeUpdate(e,{rowNodeTransaction:o},a){const{update:c}=e;_missingOrEmpty(c)||c.forEach(d=>{const g=this.lookupRowNode(d);g&&(g.updateData(d),!g.selectable&&g.isSelected()&&a.push(g),this.setMasterForRow(g,d,TOP_LEVEL,!1),o.update.push(g))})}lookupRowNode(e){var c;const o=_getRowIdCallback(this.gos);let a;if(o){const d=o({data:e,level:0});if(a=this.allNodesMap[d],!a)return _errorOnce(`could not find row id=${d}, data item was not found for this id`),null}else if(a=(c=this.rootNode.allLeafChildren)==null?void 0:c.find(d=>d.data===e),!a)return _errorOnce("could not find data item as object was not found",e),_errorOnce("Consider using getRowId to help the Grid find matching row data"),null;return a||null}createNode(e,o,a,c){const d=new RowNode(this.beans);return d.sourceRowIndex=c,d.group=!1,this.setMasterForRow(d,e,a,!0),o&&(d.parent=o),d.level=a,d.setDataAndId(e,this.nextId.toString()),this.allNodesMap[d.id]&&_warnOnce(`duplicate node id '${d.id}' detected from getRowId callback, this could cause issues in your grid.`),this.allNodesMap[d.id]=d,this.nextId++,d}setMasterForRow(e,o,a,c){if(this.gos.get("treeData"))e.setMaster(!1),c&&(e.expanded=!1);else{if(this.gos.get("masterDetail")){const b=this.gos.get("isRowMaster");b?e.setMaster(b(o)):e.setMaster(!0)}else e.setMaster(!1);if(c){const b=this.funcColsService.getRowGroupColumns(),_=b?b.length:0,$=a+_;e.expanded=e.master?this.isExpanded($):!1}}}isExpanded(e){const o=this.gos.get("groupDefaultExpanded");return o===-1?!0:e<o}},ClientSideRowModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModel",this.onRowHeightChanged_debounced=_debounce(this.onRowHeightChanged.bind(this),100),this.rowsToDisplay=[],this.hasStarted=!1,this.shouldSkipSettingDataOnStart=!1,this.isRefreshingModel=!1,this.rowCountReady=!1}wireBeans(e){this.beans=e,this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.selectionService=e.selectionService,this.valueCache=e.valueCache,this.environment=e.environment,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggregationStage=e.aggregationStage,this.pivotStage=e.pivotStage,this.filterAggregatesStage=e.filterAggregatesStage}postConstruct(){const e=this.refreshModel.bind(this,{step:"group"}),o=!this.gos.get("suppressAnimationFrame"),a=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:o});this.addManagedEventListeners({newColumnsLoaded:a,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new RowNode(this.beans),this.nodeManager=new ClientSideNodeManager(this.rootNode,this.gos,this.eventService,this.funcColsService,this.selectionService,this.beans)}addPropertyListeners(){const e=new Set(["treeData","masterDetail"]),o=new Set(["groupDefaultExpanded","groupAllowUnbalanced","initialGroupOrderComparator","groupHideOpenParents","groupDisplayType"]),a=new Set(["excludeChildrenWhenTreeDataFiltering"]),c=new Set(["removePivotHeaderRowWhenSingleValueColumn","pivotRowTotals","pivotColumnGroupTotals","suppressExpandablePivotGroups"]),d=new Set(["getGroupRowAgg","alwaysAggregateAtRootLevel","groupIncludeTotalFooter","suppressAggFilteredOnly","grandTotalRow"]),g=new Set(["postSortRows","groupDisplayType","accentedSort"]),b=new Set([]),_=new Set(["groupRemoveSingleChildren","groupRemoveLowestSingleChildren","groupIncludeFooter","groupTotalRow"]),$=[...e,...o,...a,...c,...c,...d,...g,...b,..._];this.addManagedPropertyListeners($,j=>{var st;const rt=(st=j.changeSet)==null?void 0:st.properties;if(!rt)return;const nt=jt=>rt.some(wl=>jt.has(wl));if(nt(e)){this.setRowData(this.rootNode.allLeafChildren.map(jt=>jt.data));return}if(nt(o)){this.refreshModel({step:"group"});return}if(nt(a)){this.refreshModel({step:"filter"});return}if(nt(c)){this.refreshModel({step:"pivot"});return}if(nt(d)){this.refreshModel({step:"aggregate"});return}if(nt(g)){this.refreshModel({step:"sort"});return}if(nt(b)){this.refreshModel({step:"filter_aggregates"});return}nt(_)&&this.refreshModel({step:"map"})}),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.hasStarted=!0,this.shouldSkipSettingDataOnStart?this.dispatchUpdateEventsAndRefresh():this.setInitialData()}setInitialData(){const e=this.gos.get("rowData");e&&(this.shouldSkipSettingDataOnStart=!0,this.setRowData(e))}ensureRowHeightsValid(e,o,a,c){let d,g=!1;do{d=!1;const b=this.getRowIndexAtPixel(e),_=this.getRowIndexAtPixel(o),$=Math.max(b,a),j=Math.min(_,c);for(let rt=$;rt<=j;rt++){const nt=this.getRow(rt);if(nt.rowHeightEstimated){const st=_getRowHeightForNode(this.gos,nt);nt.setRowHeight(st.height),d=!0,g=!0}}d&&this.setRowTopAndRowIndex()}while(d);return g}setRowTopAndRowIndex(){const e=this.environment.getDefaultRowHeight();let o=0;const a=new Set,c=_isDomLayout(this.gos,"normal");for(let d=0;d<this.rowsToDisplay.length;d++){const g=this.rowsToDisplay[d];if(g.id!=null&&a.add(g.id),g.rowHeight==null){const b=_getRowHeightForNode(this.gos,g,c,e);g.setRowHeight(b.height,b.estimated)}g.setRowTop(o),g.setRowIndex(d),o+=g.rowHeight}return a}clearRowTopAndRowIndex(e,o){const a=e.isActive(),c=g=>{g&&g.id!=null&&!o.has(g.id)&&g.clearRowTopAndRowIndex()},d=g=>{if(c(g),c(g.detailNode),c(g.sibling),g.hasChildren()&&g.childrenAfterGroup){const b=g.level==-1;a&&!b&&!g.expanded||g.childrenAfterGroup.forEach(d)}};d(this.rootNode)}ensureRowsAtPixel(e,o,a=0){const c=this.getRowIndexAtPixel(o),d=this.getRow(c),g=!this.gos.get("suppressAnimationFrame");if(d===e[0])return!1;const b=this.rootNode.allLeafChildren;return e.forEach(_=>{_removeFromArray(b,_)}),e.forEach((_,$)=>{_insertIntoArray(b,_,Math.max(c+a,0)+$)}),e.forEach((_,$)=>{_.sourceRowIndex=$}),this.refreshModel({step:"group",keepRenderedRows:!0,keepEditingRows:!0,animate:g,rowNodesOrderChanged:!0}),!0}highlightRowAtPixel(e,o){const a=o!=null?this.getRowIndexAtPixel(o):null,c=a!=null?this.getRow(a):null;if(!c||!e||o==null){this.clearHighlightedRow();return}const d=this.getHighlightPosition(o,c),g=this.isHighlightingCurrentPosition(e,c,d),b=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==c;(g||b)&&(this.clearHighlightedRow(),g)||(c.setHighlighted(d),this.lastHighlightedRow=c)}getHighlightPosition(e,o){if(!o){const d=this.getRowIndexAtPixel(e);if(o=this.getRow(d||0),!o)return 1}const{rowTop:a,rowHeight:c}=o;return e-a<c/2?0:1}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,o,a){if(e===o)return!0;const c=a===0?-1:1;return this.getRow(o.rowIndex+c)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.lastHighlightedRow.setHighlighted(null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){if(this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return 1;const o=this.rootNode.childrenAfterAggFilter,a=this.rootNode.sibling?1:0;return(o?o.length:0)+a}getTopLevelRowDisplayedIndex(e){if(this.rowsToDisplay&&this.rowsToDisplay[0]===this.rootNode)return e;let a=e;if(this.rowsToDisplay[0].footer){if(e===0)return 0;a-=1}const c=this.rowsToDisplay[this.rowsToDisplay.length-1],d=a>=this.rootNode.childrenAfterSort.length;if(c.footer&&d)return c.rowIndex;let g=this.rootNode.childrenAfterSort[a];if(this.gos.get("groupHideOpenParents"))for(;g.expanded&&g.childrenAfterSort&&g.childrenAfterSort.length>0;)g=g.childrenAfterSort[0];return g.rowIndex}getRowBounds(e){if(_missing(this.rowsToDisplay))return null;const o=this.rowsToDisplay[e];return o?{rowTop:o.rowTop,rowHeight:o.rowHeight}:null}onRowGroupOpened(){const e=_isAnimateRows(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const o=_isAnimateRows(this.gos),c=e.columns.length===0||e.columns.some(d=>d.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:c,keepRenderedRows:!0,animate:o})}onSortChanged(){const e=_isAnimateRows(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e,keepEditingRows:!0})}getType(){return"clientSide"}onValueChanged(){this.columnModel.isPivotActive()?this.refreshModel({step:"pivot"}):this.refreshModel({step:"aggregate"})}createChangePath(e){const o=_missingOrEmpty(e),a=new ChangedPath(!1,this.rootNode);return o&&a.setInactive(),a}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction")||e.rowNodeTransactions==null)return!1;const o=e.rowNodeTransactions.filter(c=>c.add!=null&&c.add.length>0||c.remove!=null&&c.remove.length>0);return o==null||o.length==0}buildRefreshModelParams(e){let o="group";const a={everything:"group",group:"group",filter:"filter",map:"map",aggregate:"aggregate",filter_aggregates:"filter_aggregates",sort:"sort",pivot:"pivot",nothing:"nothing"};if(_exists(e)&&(o=a[e]),_missing(o)){_errorOnce(`invalid step ${e}, available steps are ${Object.keys(a).join(", ")}`);return}const c=!this.gos.get("suppressAnimationFrame");return{step:o,keepRenderedRows:!0,keepEditingRows:!0,animate:c}}refreshModel(e){if(!this.hasStarted||this.isRefreshingModel||this.columnModel.isChangeEventsDispatching())return;const o=typeof e=="object"&&"step"in e?e:this.buildRefreshModelParams(e);if(!o||this.isSuppressModelUpdateAfterUpdateTransaction(o))return;const a=this.createChangePath(o.rowNodeTransactions);switch(this.isRefreshingModel=!0,o.step){case"group":this.doRowGrouping(o.rowNodeTransactions,a,!!o.rowNodesOrderChanged,!!o.afterColumnsChanged);case"filter":this.doFilter(a);case"pivot":this.doPivot(a);case"aggregate":this.doAggregate(a);case"filter_aggregates":this.doFilterAggregates(a);case"sort":this.doSort(o.rowNodeTransactions,a);case"map":this.doRowsToDisplay()}const c=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(a,c),this.isRefreshingModel=!1,this.eventService.dispatchEvent({type:"modelUpdated",animate:o.animate,keepRenderedRows:o.keepRenderedRows,newData:o.newData,newPage:!1,keepUndoRedoStack:o.keepUndoRedoStack})}isEmpty(){const e=_missing(this.rootNode.allLeafChildren)||this.rootNode.allLeafChildren.length===0;return _missing(this.rootNode)||e||!this.columnModel.isReady()}isRowsToRender(){return _exists(this.rowsToDisplay)&&this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,o){let a=!1,c=!1;const d=[],g=_getGroupSelectsDescendants(this.gos);return this.forEachNodeAfterFilterAndSort(b=>{if(c)return;if(a&&(b===o||b===e)&&(c=!0,b.group&&g)){d.push(...b.allLeafChildren);return}if(!a){if(b!==o&&b!==e)return;a=!0}if(!b.group||!g){d.push(b);return}}),d}setDatasource(e){_errorOnce("should never call setDatasource on clientSideRowController")}getTopLevelNodes(){return this.rootNode?this.rootNode.childrenAfterGroup:null}getRootNode(){return this.rootNode}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){if(this.isEmpty()||this.rowsToDisplay.length===0)return-1;let o=0,a=this.rowsToDisplay.length-1;if(e<=0)return 0;if(_last(this.rowsToDisplay).rowTop<=e)return this.rowsToDisplay.length-1;let d=-1,g=-1;for(;;){const b=Math.floor((o+a)/2),_=this.rowsToDisplay[b];if(this.isRowInPixel(_,e)||(_.rowTop<e?o=b+1:_.rowTop>e&&(a=b-1),d===o&&g===a))return b;d=o,g=a}}isRowInPixel(e,o){const a=e.rowTop,c=e.rowTop+e.rowHeight;return a<=o&&c>o}forEachLeafNode(e){this.rootNode.allLeafChildren&&this.rootNode.allLeafChildren.forEach((o,a)=>e(o,a))}forEachNode(e,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterGroup||[]],callback:e,recursionType:0,index:0,includeFooterNodes:o})}forEachNodeAfterFilter(e,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterAggFilter||[]],callback:e,recursionType:1,index:0,includeFooterNodes:o})}forEachNodeAfterFilterAndSort(e,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[...this.rootNode.childrenAfterSort||[]],callback:e,recursionType:2,index:0,includeFooterNodes:o})}forEachPivotNode(e,o=!1){this.recursivelyWalkNodesAndCallback({nodes:[this.rootNode],callback:e,recursionType:3,index:0,includeFooterNodes:o})}recursivelyWalkNodesAndCallback(e){const{nodes:o,callback:a,recursionType:c,includeFooterNodes:d}=e;let{index:g}=e;const b=_=>{var jt;const $=(jt=o[0])==null?void 0:jt.parent;if(!$)return;const j=d&&_getGrandTotalRow(this.gos),rt=_getGroupTotalRowCallback(this.gos),nt=d&&rt({node:$});if($===this.rootNode){j===_&&($.createFooter(),a($.sibling,g++));return}nt===_&&($.createFooter(),a($.sibling,g++))};b("top");for(let _=0;_<o.length;_++){const $=o[_];if(a($,g++),$.hasChildren()&&!$.footer){let j=null;switch(c){case 0:j=$.childrenAfterGroup;break;case 1:j=$.childrenAfterAggFilter;break;case 2:j=$.childrenAfterSort;break;case 3:j=$.leafGroup?null:$.childrenAfterSort;break}j&&(g=this.recursivelyWalkNodesAndCallback({nodes:[...j],callback:a,recursionType:c,index:g,includeFooterNodes:d}))}}return b("bottom"),g}doAggregate(e){var o;(o=this.aggregationStage)==null||o.execute({rowNode:this.rootNode,changedPath:e})}doFilterAggregates(e){this.filterAggregatesStage?this.filterAggregatesStage.execute({rowNode:this.rootNode,changedPath:e}):this.rootNode.childrenAfterAggFilter=this.rootNode.childrenAfterFilter}expandOrCollapseAll(e){const o=this.gos.get("treeData"),a=this.columnModel.isPivotActive(),c=d=>{d&&d.forEach(g=>{const b=()=>{g.expanded=e,c(g.childrenAfterGroup)};if(o){_exists(g.childrenAfterGroup)&&b();return}if(a){!g.leafGroup&&b();return}g.group&&b()})};this.rootNode&&c(this.rootNode.childrenAfterGroup),this.refreshModel({step:"map"}),this.eventService.dispatchEvent({type:"expandOrCollapseAll",source:e?"expandAll":"collapseAll"})}doSort(e,o){this.sortStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,changedPath:o})}doRowGrouping(e,o,a,c){if(this.groupStage)e?this.groupStage.execute({rowNode:this.rootNode,rowNodeTransactions:e,rowNodesOrderChanged:a,changedPath:o}):this.groupStage.execute({rowNode:this.rootNode,changedPath:o,afterColumnsChanged:c}),_getGroupSelectsDescendants(this.gos)&&this.selectionService.updateGroupsFromChildrenSelections("rowGroupChanged",o)&&this.eventService.dispatchEvent({type:"selectionChanged",source:"rowGroupChanged"});else{const d=this.rootNode,g=d.sibling;d.childrenAfterGroup=d.allLeafChildren,g&&(g.childrenAfterGroup=d.childrenAfterGroup),this.rootNode.updateHasChildren()}this.nodeManager.isRowCountReady()&&(this.rowCountReady=!0,this.eventService.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage.execute({rowNode:this.rootNode,changedPath:e})}doPivot(e){var o;(o=this.pivotStage)==null||o.execute({rowNode:this.rootNode,changedPath:e})}getNodeManager(){return this.nodeManager}getRowNode(e){if(typeof e=="string"&&e.indexOf(RowNode.ID_PREFIX_ROW_GROUP)==0){let a;return this.forEachNode(c=>{c.id===e&&(a=c)}),a}return this.nodeManager.getRowNode(e)}setRowData(e){this.selectionService.reset("rowDataChanged"),this.nodeManager.setRowData(e),this.hasStarted&&this.dispatchUpdateEventsAndRefresh()}dispatchUpdateEventsAndRefresh(){this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",newData:!0})}batchUpdateRowData(e,o){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const a=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},a)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:o})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var c;this.valueCache.onDataChanged();const e=[],o=[];let a=!1;(c=this.rowDataTransactionBatch)==null||c.forEach(d=>{const{rowNodeTransaction:g,rowsInserted:b}=this.nodeManager.updateRowData(d.rowDataTransaction);b&&(a=!0),o.push(g),d.callback&&e.push(d.callback.bind(null,g))}),this.commonUpdateRowData(o,a),e.length>0&&window.setTimeout(()=>{e.forEach(d=>d())},0),o.length>0&&this.eventService.dispatchEvent({type:"asyncTransactionsFlushed",results:o}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){this.valueCache.onDataChanged();const{rowNodeTransaction:o,rowsInserted:a}=this.nodeManager.updateRowData(e);return this.commonUpdateRowData([o],a),o}afterImmutableDataChange(e,o){this.commonUpdateRowData([e],o)}commonUpdateRowData(e,o){if(!this.hasStarted)return;const a=!this.gos.get("suppressAnimationFrame");this.eventService.dispatchEvent({type:"rowDataUpdated"}),this.refreshModel({step:"group",rowNodeTransactions:e,rowNodesOrderChanged:o,keepRenderedRows:!0,keepEditingRows:!0,animate:a})}doRowsToDisplay(){this.rowsToDisplay=this.flattenStage.execute({rowNode:this.rootNode})}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepEditingRows:!0,keepUndoRedoStack:!0})}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}resetRowHeights(){const e=this.resetRowHeightsForAllRowNodes();this.rootNode.setRowHeight(this.rootNode.rowHeight,!0),this.rootNode.sibling&&this.rootNode.sibling.setRowHeight(this.rootNode.sibling.rowHeight,!0),e&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(o=>{o.setRowHeight(o.rowHeight,!0);const a=o.detailNode;a&&a.setRowHeight(a.rowHeight,!0),o.sibling&&o.sibling.setRowHeight(o.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){if(e.rowHeightChanged){if(this.columnModel.isAutoRowHeightActive())return;this.resetRowHeights()}}onGridReady(){this.hasStarted||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow()}};function onGroupExpandedOrCollapsed(e){e.expansionService.onGroupExpandedOrCollapsed()}function refreshClientSideRowModel(e,o){var a,c;(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null||c.refreshModel(o)}function isRowDataEmpty(e){var o,a;return((a=(o=e.rowModelHelperService)==null?void 0:o.getClientSideRowModel())==null?void 0:a.isEmpty())??!0}function forEachLeafNode(e,o){var a,c;(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null||c.forEachLeafNode(o)}function forEachNodeAfterFilter(e,o){var a,c;(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null||c.forEachNodeAfterFilter(o)}function forEachNodeAfterFilterAndSort(e,o){var a,c;(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null||c.forEachNodeAfterFilterAndSort(o)}function resetRowHeights(e){var o,a;if(e.columnModel.isAutoRowHeightActive()){_warnOnce("calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.");return}(a=(o=e.rowModelHelperService)==null?void 0:o.getClientSideRowModel())==null||a.resetRowHeights()}function applyTransaction(e,o){return e.frameworkOverrides.wrapIncoming(()=>{var a,c;return(c=(a=e.rowModelHelperService)==null?void 0:a.getClientSideRowModel())==null?void 0:c.updateRowData(o)})}function applyTransactionAsync(e,o,a){e.frameworkOverrides.wrapIncoming(()=>{var c,d;return(d=(c=e.rowModelHelperService)==null?void 0:c.getClientSideRowModel())==null?void 0:d.batchUpdateRowData(o,a)})}function flushAsyncTransactions(e){e.frameworkOverrides.wrapIncoming(()=>{var o,a;return(a=(o=e.rowModelHelperService)==null?void 0:o.getClientSideRowModel())==null?void 0:a.flushAsyncTransactions()})}function getBestCostNodeSelection(e){return e.selectionService.getBestCostNodeSelection()}var FilterStage=class extends BeanStub{constructor(){super(...arguments),this.beanName="filterStage"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:o}=e;this.filter(o)}filter(e){var a;const o=!!((a=this.filterManager)!=null&&a.isChildFilterPresent());this.filterNodes(o,e)}filterNodes(e,o){const a=(c,d)=>{c.hasChildren()&&e&&!d?c.childrenAfterFilter=c.childrenAfterGroup.filter(g=>{const b=g.childrenAfterFilter&&g.childrenAfterFilter.length>0,_=g.data&&this.filterManager.doesRowPassFilter({rowNode:g});return b||_}):c.childrenAfterFilter=c.childrenAfterGroup,c.sibling&&(c.sibling.childrenAfterFilter=c.childrenAfterFilter)};if(this.doingTreeDataFiltering()){const c=(g,b)=>{if(g.childrenAfterGroup)for(let _=0;_<g.childrenAfterGroup.length;_++){const $=g.childrenAfterGroup[_],j=b||this.filterManager.doesRowPassFilter({rowNode:$});$.childrenAfterGroup?c(g.childrenAfterGroup[_],j):a($,j)}a(g,b)},d=g=>c(g,!1);o.executeFromRootNode(d)}else{const c=d=>a(d,!1);o.forEachChangedNodeDepthFirst(c,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},FlattenStage=class extends BeanStub{constructor(){super(...arguments),this.beanName="flattenStage"}wireBeans(e){this.beans=e,this.columnModel=e.columnModel}execute(e){const o=e.rowNode,a=[],c=this.columnModel.isPivotMode(),d=c&&o.leafGroup,g=d?[o]:o.childrenAfterSort,b=this.getFlattenDetails();this.recursivelyAddToRowsToDisplay(b,g,a,c,0);const _=a.length>0;if(!d&&_&&b.grandTotalRow){o.createFooter();const j=b.grandTotalRow==="top";this.addRowNodeToRowsToDisplay(b,o.sibling,a,0,j)}return a}getFlattenDetails(){const e=this.gos.get("groupRemoveSingleChildren");return{groupRemoveLowestSingleChildren:!e&&this.gos.get("groupRemoveLowestSingleChildren"),groupRemoveSingleChildren:e,isGroupMultiAutoColumn:_isGroupMultiAutoColumn(this.gos),hideOpenParents:this.gos.get("groupHideOpenParents"),grandTotalRow:_getGrandTotalRow(this.gos),groupTotalRow:_getGroupTotalRowCallback(this.gos)}}recursivelyAddToRowsToDisplay(e,o,a,c,d){if(!_missingOrEmpty(o))for(let g=0;g<o.length;g++){const b=o[g],_=b.hasChildren(),$=c&&!_,j=e.groupRemoveSingleChildren&&_&&b.childrenAfterGroup.length===1,rt=e.groupRemoveLowestSingleChildren&&_&&b.leafGroup&&b.childrenAfterGroup.length===1,nt=c&&b.leafGroup,st=e.hideOpenParents&&b.expanded&&!b.master&&!nt;if(!$&&!st&&!j&&!rt&&this.addRowNodeToRowsToDisplay(e,b,a,d),!(c&&b.leafGroup)){if(_){const wl=j||rt;if(b.expanded||wl){const Ft=e.groupTotalRow({node:b});Ft||b.destroyFooter();const it=wl?d:d+1;Ft==="top"&&(b.createFooter(),this.addRowNodeToRowsToDisplay(e,b.sibling,a,it)),this.recursivelyAddToRowsToDisplay(e,b.childrenAfterSort,a,c,it),Ft==="bottom"&&(b.createFooter(),this.addRowNodeToRowsToDisplay(e,b.sibling,a,it))}}else if(b.master&&b.expanded){const wl=this.createDetailNode(b);this.addRowNodeToRowsToDisplay(e,wl,a,d)}}}}addRowNodeToRowsToDisplay(e,o,a,c,d){d?a.unshift(o):a.push(o),o.setUiLevel(e.isGroupMultiAutoColumn?0:c)}createDetailNode(e){if(_exists(e.detailNode))return e.detailNode;const o=new RowNode(this.beans);return o.detail=!0,o.selectable=!1,o.parent=e,_exists(e.id)&&(o.id="detail_"+e.id),o.data=e.data,o.level=e.level+1,e.detailNode=o,o}},ImmutableService=class extends BeanStub{constructor(){super(...arguments),this.beanName="immutableService"}wireBeans(e){this.rowModel=e.rowModel,this.selectionService=e.selectionService}postConstruct(){_isClientSideRowModel(this.gos)&&(this.clientSideRowModel=this.rowModel,this.addManagedPropertyListener("rowData",()=>this.onRowDataUpdated()))}isActive(){const e=this.gos.exists("getRowId");return this.gos.get("resetRowDataOnUpdate")?!1:e}setRowData(e){const o=this.createTransactionForRowData(e);if(!o)return;const a=this.clientSideRowModel.getNodeManager(),{rowNodeTransaction:c,rowsInserted:d}=a.updateRowData(o);let g=!1;this.gos.get("suppressMaintainUnsortedOrder")||(g=a.updateRowOrderFromRowData(e)),this.clientSideRowModel.afterImmutableDataChange(c,g||d)}createTransactionForRowData(e){if(!_isClientSideRowModel(this.gos))return _errorOnce("ImmutableService only works with ClientSideRowModel"),null;const o=_getRowIdCallback(this.gos);if(o==null)return _errorOnce("ImmutableService requires getRowId() callback to be implemented, your row data needs IDs!"),null;const a=this.clientSideRowModel.getNodeManager().getCopyOfNodesMap(),c=[],d=[],g=[];return _exists(e)&&e.forEach(b=>{const _=o({data:b,level:0}),$=a[_];$?($.data!==b&&d.push(b),a[_]=void 0):g.push(b)}),_iterateObject(a,(b,_)=>{_&&c.push(_.data)}),{remove:c,update:d,add:g}}onRowDataUpdated(){const e=this.gos.get("rowData");e&&(this.isActive()?this.setRowData(e):(this.selectionService.reset("rowDataChanged"),this.clientSideRowModel.setRowData(e)))}},SortService=class extends BeanStub{constructor(){super(...arguments),this.beanName="sortService"}wireBeans(e){this.columnModel=e.columnModel,this.funcColsService=e.funcColsService,this.rowNodeSorter=e.rowNodeSorter,this.showRowGroupColsService=e.showRowGroupColsService}sort(e,o,a,c,d,g){const b=this.gos.get("groupMaintainOrder"),_=this.columnModel.getCols().some(st=>st.isRowGroupActive());let $={};a&&c&&($=this.calculateDirtyNodes(c));const j=this.columnModel.isPivotMode(),rt=this.gos.getCallback("postSortRows"),nt=st=>{var Ft;this.pullDownGroupDataForHideOpenParents(st.childrenAfterAggFilter,!0);const jt=j&&st.leafGroup;if(b&&_&&!st.leafGroup&&!g){const it=(Ft=this.funcColsService.getRowGroupColumns())==null?void 0:Ft[st.level+1],ot=(it==null?void 0:it.getSort())===null,Ln=st.childrenAfterAggFilter.slice(0);if(st.childrenAfterSort&&!ot){const Cl={};st.childrenAfterSort.forEach((Tl,zl)=>{Cl[Tl.id]=zl}),Ln.sort((Tl,zl)=>(Cl[Tl.id]??0)-(Cl[zl.id]??0))}st.childrenAfterSort=Ln}else!o||jt?st.childrenAfterSort=st.childrenAfterAggFilter.slice(0):a?st.childrenAfterSort=this.doDeltaSort(st,$,d,e):st.childrenAfterSort=this.rowNodeSorter.doFullSort(st.childrenAfterAggFilter,e);if(st.sibling&&(st.sibling.childrenAfterSort=st.childrenAfterSort),this.updateChildIndexes(st),rt){const it={nodes:st.childrenAfterSort};rt(it)}};d&&d.forEachChangedNodeDepthFirst(nt),this.updateGroupDataForHideOpenParents(d)}calculateDirtyNodes(e){const o={},a=c=>{c&&c.forEach(d=>o[d.id]=!0)};return e&&e.forEach(c=>{a(c.add),a(c.update),a(c.remove)}),o}doDeltaSort(e,o,a,c){const d=e.childrenAfterAggFilter,g=e.childrenAfterSort;if(!g)return this.rowNodeSorter.doFullSort(d,c);const b={},_=[];d.forEach(nt=>{o[nt.id]||!a.canSkip(nt)?_.push(nt):b[nt.id]=!0});const $=g.filter(nt=>b[nt.id]),j=(nt,st)=>({currentPos:st,rowNode:nt}),rt=_.map(j).sort((nt,st)=>this.rowNodeSorter.compareRowNodes(c,nt,st));return this.mergeSortedArrays(c,rt,$.map(j)).map(({rowNode:nt})=>nt)}mergeSortedArrays(e,o,a){const c=[];let d=0,g=0;for(;d<o.length&&g<a.length;)this.rowNodeSorter.compareRowNodes(e,o[d],a[g])<0?c.push(o[d++]):c.push(a[g++]);for(;d<o.length;)c.push(o[d++]);for(;g<a.length;)c.push(a[g++]);return c}updateChildIndexes(e){if(_missing(e.childrenAfterSort))return;const o=e.childrenAfterSort;for(let a=0;a<o.length;a++){const c=o[a],d=a===0,g=a===e.childrenAfterSort.length-1;c.setFirstChild(d),c.setLastChild(g),c.setChildIndex(a)}}updateGroupDataForHideOpenParents(e){if(!this.gos.get("groupHideOpenParents"))return;if(this.gos.get("treeData"))return _warnOnce("The property hideOpenParents dose not work with Tree Data. This is because Tree Data has values at the group level, it doesn't make sense to hide them."),!1;const o=a=>{this.pullDownGroupDataForHideOpenParents(a.childrenAfterSort,!1),a.childrenAfterSort.forEach(c=>{c.hasChildren()&&o(c)})};e&&e.executeFromRootNode(a=>o(a))}pullDownGroupDataForHideOpenParents(e,o){!this.gos.get("groupHideOpenParents")||_missing(e)||e.forEach(a=>{var d;(((d=this.showRowGroupColsService)==null?void 0:d.getShowRowGroupCols())??[]).forEach(g=>{const b=g.getColDef().showRowGroup;if(typeof b!="string"){_errorOnce("groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup");return}const _=b,$=this.columnModel.getColDefCol(_);if($!==a.rowGroupColumn)if(o)a.setGroupValue(g.getId(),void 0);else{const rt=this.getFirstChildOfFirstChild(a,$);rt&&a.setGroupValue(g.getId(),rt.key)}})})}getFirstChildOfFirstChild(e,o){let a=e;for(;a;){const c=a.parent;if(c&&a.firstChild){if(c.rowGroupColumn===o)return c}else return null;a=c}return null}},SortStage=class extends BeanStub{constructor(){super(...arguments),this.beanName="sortStage"}wireBeans(e){this.sortService=e.sortService,this.sortController=e.sortController}execute(e){const o=this.sortController.getSortOptions(),a=_exists(o)&&o.length>0,c=a&&_exists(e.rowNodeTransactions)&&this.gos.get("deltaSort"),d=o.some(g=>_isColumnsSortingCoupledToGroup(this.gos)?g.column.isPrimary()&&g.column.isRowGroupActive():!!g.column.getColDef().showRowGroup);this.sortService.sort(o,a,c,e.rowNodeTransactions,e.changedPath,d)}},VERSION2="32.3.9",ClientSideRowModelCoreModule={version:VERSION2,moduleName:"@ag-grid-community/client-side-row-model-core",rowModel:"clientSide",beans:[ClientSideRowModel,FilterStage,SortStage,FlattenStage,SortService,ImmutableService]},ClientSideRowModelApiModule={version:VERSION2,moduleName:"@ag-grid-community/client-side-row-model-api",beans:[RowModelHelperService],apiFunctions:{onGroupExpandedOrCollapsed,refreshClientSideRowModel,isRowDataEmpty,forEachLeafNode,forEachNodeAfterFilter,forEachNodeAfterFilterAndSort,resetRowHeights,applyTransaction,applyTransactionAsync,flushAsyncTransactions,getBestCostNodeSelection},dependantModules:[ClientSideRowModelCoreModule,CsrmSsrmSharedApiModule]},ClientSideRowModelModule={version:VERSION2,moduleName:"@ag-grid-community/client-side-row-model",dependantModules:[ClientSideRowModelCoreModule,ClientSideRowModelApiModule]},BaseCreator=class extends BeanStub{setBeans(e){this.beans=e}getFileName(e){const o=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${o}`:e}getData(e){const o=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(o,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},BaseGridSerializingSession=class{constructor(e){this.groupColumns=[];const{columnModel:o,funcColsService:a,columnNameService:c,valueService:d,gos:g,processCellCallback:b,processHeaderCallback:_,processGroupHeaderCallback:$,processRowGroupCallback:j}=e;this.columnModel=o,this.funcColsService=a,this.columnNameService=c,this.valueService=d,this.gos=g,this.processCellCallback=b,this.processHeaderCallback=_,this.processGroupHeaderCallback=$,this.processRowGroupCallback=j}prepare(e){this.groupColumns=e.filter(o=>!!o.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,o,a,c,d){const b=(!this.gos.get("groupHideOpenParents")||d.footer)&&this.shouldRenderGroupSummaryCell(d,e,o)?this.createValueForGroupNode(e,d):this.valueService.getValue(e,d);return this.processCell({accumulatedRowIndex:a,rowNode:d,column:e,value:b,processCellCallback:this.processCellCallback,type:c})}shouldRenderGroupSummaryCell(e,o,a){var b;if(!(e&&e.group))return!1;if(this.groupColumns.indexOf(o)!==-1){const _=(b=e.groupData)==null?void 0:b[o.getId()],$=this.gos.get("suppressGroupMaintainValueType");if($&&_!=null||!$&&_!==void 0||_isServerSideRowModel(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const j=o.getColDef();return j==null||j.showRowGroup===!0||j.showRowGroup===this.funcColsService.getRowGroupColumns()[0].getId()}}const g=_isGroupUseEntireRow(this.gos,this.columnModel.isPivotMode());return a===0&&g}getHeaderName(e,o){return e?e(this.gos.addGridCommonParams({column:o})):this.columnNameService.getDisplayNameForColumn(o,"csv",!0)}createValueForGroupNode(e,o){if(this.processRowGroupCallback)return this.processRowGroupCallback(this.gos.addGridCommonParams({column:e,node:o}));const a=this.gos.get("treeData"),c=this.gos.get("suppressGroupMaintainValueType"),d=$=>{var rt;if(a||c)return $.key;const j=(rt=$.groupData)==null?void 0:rt[e.getId()];return!j||!$.rowGroupColumn||$.rowGroupColumn.getColDef().useValueFormatterForExport===!1?j:this.valueService.formatValue($.rowGroupColumn,$,j)??j},g=o.footer,b=[d(o)];if(!_isGroupMultiAutoColumn(this.gos))for(;o.parent;)o=o.parent,b.push(d(o));const _=b.reverse().join(" -> ");return g?`Total ${_}`:_}processCell(e){const{accumulatedRowIndex:o,rowNode:a,column:c,value:d,processCellCallback:g,type:b}=e;return g?{value:g(this.gos.addGridCommonParams({accumulatedRowIndex:o,column:c,node:a,value:d,type:b,parseValue:_=>this.valueService.parseValue(c,a,_,this.valueService.getValue(c,a)),formatValue:_=>this.valueService.formatValue(c,a,_)??_}))??""}:c.getColDef().useValueFormatterForExport!==!1?{value:d??"",valueFormatted:this.valueService.formatValue(c,a,d)}:{value:d??""}}},Downloader=class{static download(e,o){const a=document.defaultView||window;if(!a){_warnOnce("There is no `window` associated with the current `document`");return}const c=document.createElement("a"),d=a.URL.createObjectURL(o);c.setAttribute("href",d),c.setAttribute("download",e),c.style.display="none",document.body.appendChild(c),c.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:a})),document.body.removeChild(c),a.setTimeout(()=>{a.URL.revokeObjectURL(d)},0)}},LINE_SEPARATOR=`\r
`,CsvSerializingSession=class extends BaseGridSerializingSession{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:o,columnSeparator:a}=e;this.suppressQuotes=o,this.columnSeparator=a}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,LINE_SEPARATOR),this.result+=e):e.forEach(o=>{this.beginNewLine(),o.forEach((a,c)=>{c!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(a.data.value||""),a.mergeAcross&&this.appendEmptyCells(a.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,o,a,c){a!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(o),this.appendEmptyCells(c)}appendEmptyCells(e){for(let o=1;o<=e;o++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,o){o!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,o,a){o!=0&&(this.result+=this.columnSeparator);const c=this.extractRowCellValue(e,o,o,"csv",a);this.result+=this.putInQuotes(c.valueFormatted??c.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let o;return typeof e=="string"?o=e:typeof e.toString=="function"?o=e.toString():(_warnOnce("unknown value type during csv conversion"),o=""),'"'+o.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=LINE_SEPARATOR),this.isFirstLine=!1}},CsvCreator=class extends BaseCreator{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.funcColsService=e.funcColsService,this.valueService=e.valueService,this.gridSerializer=e.gridSerializer}postConstruct(){this.setBeans({gridSerializer:this.gridSerializer,gos:this.gos})}getMergedParams(e){const o=this.gos.get("defaultCsvExportParams");return Object.assign({},o,e)}export(e){if(this.isExportSuppressed()){_warnOnce("Export cancelled. Export is not allowed as per your configuration.");return}const o=this.getMergedParams(e),a=this.getData(o),c=new Blob(["\uFEFF",a],{type:"text/plain"}),d=typeof o.fileName=="function"?o.fileName(this.gos.getGridCommonParams()):o.fileName;Downloader.download(this.getFileName(d),c)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,o=!1){const a=o?Object.assign({},e):this.getMergedParams(e);return this.getData(a)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{columnModel:o,columnNameService:a,funcColsService:c,valueService:d,gos:g}=this,{processCellCallback:b,processHeaderCallback:_,processGroupHeaderCallback:$,processRowGroupCallback:j,suppressQuotes:rt,columnSeparator:nt}=e;return new CsvSerializingSession({columnModel:o,columnNameService:a,funcColsService:c,valueService:d,gos:g,processCellCallback:b||void 0,processHeaderCallback:_||void 0,processGroupHeaderCallback:$||void 0,processRowGroupCallback:j||void 0,suppressQuotes:rt||!1,columnSeparator:nt||","})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function getDataAsCsv(e,o){var a;return(a=e.csvCreator)==null?void 0:a.getDataAsCsv(o)}function exportDataAsCsv(e,o){var a;(a=e.csvCreator)==null||a.exportDataAsCsv(o)}var RowType=(e=>(e[e.HEADER_GROUPING=0]="HEADER_GROUPING",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY",e))(RowType||{}),GridSerializer=class extends BeanStub{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleColsService=e.visibleColsService,this.columnModel=e.columnModel,this.columnNameService=e.columnNameService,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel,this.selectionService=e.selectionService,this.rowNodeSorter=e.rowNodeSorter,this.sortController=e.sortController}serialize(e,o={}){const{allColumns:a,columnKeys:c,skipRowGroups:d}=o,g=this.getColumnsToExport(a,d,c);return _compose(this.prepareSession(g),this.prependContent(o),this.exportColumnGroups(o,g),this.exportHeaders(o,g),this.processPinnedTopRows(o,g),this.processRows(o,g),this.processPinnedBottomRows(o,g),this.appendContent(o))(e).parse()}processRow(e,o,a,c){var ot;const d=o.shouldRowBeSkipped||(()=>!1),g=this.gos.get("groupRemoveSingleChildren"),b=this.gos.get("groupRemoveLowestSingleChildren"),$=o.rowPositions!=null||!!o.onlySelected,j=this.gos.get("groupHideOpenParents")&&!$,rt=this.columnModel.isPivotMode()?c.leafGroup:!c.group,nt=!!c.footer,st=b&&c.leafGroup,jt=c.allChildrenCount===1&&((ot=c.childrenAfterGroup)==null?void 0:ot.length)===1&&(g||st);if(!rt&&!nt&&(o.skipRowGroups||jt||j)||o.onlySelected&&!c.isSelected()||o.skipPinnedTop&&c.rowPinned==="top"||o.skipPinnedBottom&&c.rowPinned==="bottom"||c.level===-1&&!rt&&!nt||d(this.gos.addGridCommonParams({node:c})))return;const it=e.onNewBodyRow(c);if(a.forEach((Ln,Cl)=>{it.onColumn(Ln,Cl,c)}),o.getCustomContentBelowRow){const Ln=o.getCustomContentBelowRow(this.gos.addGridCommonParams({node:c}));Ln&&e.addCustomContent(Ln)}}appendContent(e){return o=>{const a=e.appendContent;return a&&o.addCustomContent(a),o}}prependContent(e){return o=>{const a=e.prependContent;return a&&o.addCustomContent(a),o}}prepareSession(e){return o=>(o.prepare(e),o)}exportColumnGroups(e,o){return a=>{if(!e.skipColumnGroupHeaders){const c=new GroupInstanceIdCreator,d=this.visibleColsService.createGroups({columns:o,idCreator:c,pinned:null,isStandaloneStructure:!0});this.recursivelyAddHeaderGroups(d,a,e.processGroupHeaderCallback)}return a}}exportHeaders(e,o){return a=>{if(!e.skipColumnHeaders){const c=a.onNewHeaderRow();o.forEach((d,g)=>{c.onColumn(d,g,void 0)})}return a}}processPinnedTopRows(e,o){return a=>{const c=this.processRow.bind(this,a,e,o);return e.rowPositions?e.rowPositions.filter(d=>d.rowPinned==="top").sort((d,g)=>d.rowIndex-g.rowIndex).map(d=>this.pinnedRowModel.getPinnedTopRow(d.rowIndex)).forEach(c):this.pinnedRowModel.forEachPinnedRow("top",c),a}}processRows(e,o){return a=>{const c=this.rowModel,d=_isClientSideRowModel(this.gos),g=_isServerSideRowModel(this.gos),b=!d&&e.onlySelected,_=this.processRow.bind(this,a,e,o),{exportedRows:$="filteredAndSorted"}=e;if(e.rowPositions)e.rowPositions.filter(j=>j.rowPinned==null).sort((j,rt)=>j.rowIndex-rt.rowIndex).map(j=>c.getRow(j.rowIndex)).forEach(_);else if(this.columnModel.isPivotMode())d?c.forEachPivotNode(_,!0):g?c.forEachNodeAfterFilterAndSort(_,!0):c.forEachNode(_);else if(e.onlySelectedAllPages||b){const j=this.selectionService.getSelectedNodes();this.replicateSortedOrder(j),j.forEach(_)}else $==="all"?c.forEachNode(_):d||g?c.forEachNodeAfterFilterAndSort(_,!0):c.forEachNode(_);return a}}replicateSortedOrder(e){const o=this.sortController.getSortOptions(),a=(c,d)=>{var g,b;return c.rowIndex!=null&&d.rowIndex!=null?c.rowIndex-d.rowIndex:c.level===d.level?((g=c.parent)==null?void 0:g.id)===((b=d.parent)==null?void 0:b.id)?this.rowNodeSorter.compareRowNodes(o,{rowNode:c,currentPos:c.rowIndex??-1},{rowNode:d,currentPos:d.rowIndex??-1}):a(c.parent,d.parent):c.level>d.level?a(c.parent,d):a(c,d.parent)};e.sort(a)}processPinnedBottomRows(e,o){return a=>{const c=this.processRow.bind(this,a,e,o);return e.rowPositions?e.rowPositions.filter(d=>d.rowPinned==="bottom").sort((d,g)=>d.rowIndex-g.rowIndex).map(d=>this.pinnedRowModel.getPinnedBottomRow(d.rowIndex)).forEach(c):this.pinnedRowModel.forEachPinnedRow("bottom",c),a}}getColumnsToExport(e=!1,o=!1,a){const c=this.columnModel.isPivotMode();if(a&&a.length)return this.columnModel.getColsForKeys(a);const d=this.gos.get("treeData");let g=[];return e&&!c?g=this.columnModel.getCols():g=this.visibleColsService.getAllCols(),o&&!d&&(g=g.filter(b=>!isColumnGroupAutoCol(b)&&!isColumnControlsCol(b))),g}recursivelyAddHeaderGroups(e,o,a){const c=[];e.forEach(d=>{const g=d;g.getChildren&&g.getChildren().forEach(b=>c.push(b))}),e.length>0&&isColumnGroup(e[0])&&this.doAddHeaderHeader(o,e,a),c&&c.length>0&&this.recursivelyAddHeaderGroups(c,o,a)}doAddHeaderHeader(e,o,a){const c=e.onNewHeaderGroupingRow();let d=0;o.forEach(g=>{const b=g;let _;a?_=a(this.gos.addGridCommonParams({columnGroup:b})):_=this.columnNameService.getDisplayNameForColumnGroup(b,"header");const $=b.getLeafColumns().reduce((j,rt,nt,st)=>{let jt=_last(j);return rt.getColumnGroupShow()==="open"?(!jt||jt[1]!=null)&&(jt=[nt],j.push(jt)):jt&&jt[1]==null&&(jt[1]=nt-1),nt===st.length-1&&jt&&jt[1]==null&&(jt[1]=nt),j},[]);c.onColumn(b,_||"",d++,b.getLeafColumns().length-1,$)})}},VERSION3="32.3.9",CsvExportCoreModule={version:VERSION3,moduleName:"@ag-grid-community/csv-export-core",beans:[CsvCreator,GridSerializer]},CsvExportApiModule={version:VERSION3,moduleName:"@ag-grid-community/csv-export-api",apiFunctions:{getDataAsCsv,exportDataAsCsv},dependantModules:[CsvExportCoreModule]},CsvExportModule={version:VERSION3,moduleName:"@ag-grid-community/csv-export",dependantModules:[CsvExportCoreModule,CsvExportApiModule]},LINE_SEPARATOR2=`\r
`;function returnAttributeIfPopulated(e,o,a){if(!o&&o!==""&&o!==0)return"";let c=o;return typeof o=="boolean"&&a&&(c=a(o)),` ${e}="${c}"`}var XmlFactory=class{static createHeader(e={}){const o="<?",a="?>",c=["version"];e.version||(e.version="1.0"),e.encoding&&c.push("encoding"),e.standalone&&c.push("standalone");const d=c.map(g=>`${g}="${e[g]}"`).join(" ");return`${o}xml ${d} ${a}`}static createXml(e,o){let a="";e.properties&&(e.properties.prefixedAttributes&&e.properties.prefixedAttributes.forEach(d=>{Object.keys(d.map).forEach(g=>{a+=returnAttributeIfPopulated(d.prefix+g,d.map[g],o)})}),e.properties.rawMap&&Object.keys(e.properties.rawMap).forEach(d=>{a+=returnAttributeIfPopulated(d,e.properties.rawMap[d],o)}));let c="<"+e.name+a;return!e.children&&e.textNode==null?c+"/>"+LINE_SEPARATOR2:e.textNode!=null?c+">"+e.textNode+"</"+e.name+">"+LINE_SEPARATOR2:(c+=">"+LINE_SEPARATOR2,e.children&&e.children.forEach(d=>{c+=this.createXml(d,o)}),c+"</"+e.name+">"+LINE_SEPARATOR2)}},compressBlob=async e=>{let o=0;const a=[],c=new WritableStream({write:b=>{a.push(b),o+=b.length}}),d=new ReadableStream({start:b=>{const _=new FileReader;_.onload=$=>{var j;(j=$.target)!=null&&j.result&&b.enqueue($.target.result),b.close()},_.readAsArrayBuffer(e)}}),g=new window.CompressionStream("deflate-raw");return await d.pipeThrough(g).pipeTo(c),{size:o,content:new Blob(a)}},deflateLocalFile=async e=>{const o=new Blob([e]),{size:a,content:c}=await compressBlob(o),d=new Uint8Array(await c.arrayBuffer());return{size:a,content:d}},convertTime=e=>{let o=e.getHours();return o<<=6,o=o|e.getMinutes(),o<<=5,o=o|e.getSeconds()/2,o},convertDate=e=>{let o=e.getFullYear()-1980;return o<<=4,o=o|e.getMonth()+1,o<<=5,o=o|e.getDate(),o};function convertDecToHex(e,o){let a="";for(let c=0;c<o;c++)a+=String.fromCharCode(e&255),e>>>=8;return a}var getCrcFromCrc32TableAndByteArray=e=>{if(!e.length)return 0;let o=-1,a=0,c=0,d=0;for(let g=0;g<e.length;g++)a=e[g],c=(o^a)&255,d=crcTable[c],o=o>>>8^d;return o^-1},getCrcFromCrc32Table=e=>e.length?getCrcFromCrc32TableAndByteArray(typeof e=="string"?new TextEncoder().encode(e):e):0,crcTable=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]),getHeaders=(e,o,a,c,d,g)=>{const{content:b,path:_,created:$}=e,j=convertTime($),rt=convertDate($),nt=getCrcFromCrc32Table(d),st=g!==void 0?g:c,jt=_utf8_encode(_),wl=jt!==_;let Ft="";if(wl){const Cl=convertDecToHex(1,1)+convertDecToHex(getCrcFromCrc32Table(jt),4)+jt;Ft="up"+convertDecToHex(Cl.length,2)+Cl}const it="\0"+(wl?"\0\b":"\0\0")+convertDecToHex(o?8:0,2)+convertDecToHex(j,2)+convertDecToHex(rt,2)+convertDecToHex(st?nt:0,4)+convertDecToHex(g??c,4)+convertDecToHex(c,4)+convertDecToHex(jt.length,2)+convertDecToHex(Ft.length,2),ot="PK"+it+jt+Ft,Ln="PK\0"+it+"\0\0\0\0\0\0"+(b?"\0\0\0\0":"\0\0\0")+convertDecToHex(a,4)+jt+Ft;return{localFileHeader:Uint8Array.from(ot,Cl=>Cl.charCodeAt(0)),centralDirectoryHeader:Uint8Array.from(Ln,Cl=>Cl.charCodeAt(0))}},getDecodedContent=e=>{let o;if(typeof e=="string"){const a=atob(e.split(";base64,")[1]);o=Uint8Array.from(a,c=>c.charCodeAt(0))}else o=e;return{size:o.length,content:o}},getDeflatedHeaderAndContent=async(e,o)=>{const{content:a}=e,{size:c,content:d}=a?getDecodedContent(a):{size:0,content:Uint8Array.from([])};let g,b,_=!1;if(e.type==="file"&&d&&c>0){const rt=await deflateLocalFile(d);g=rt.content,b=rt.size,_=!0}return{...getHeaders(e,_,o,c,d,b),content:g||d,isCompressed:_}},getHeaderAndContent=(e,o)=>{const{content:a}=e,{content:c}=a?getDecodedContent(a):{content:Uint8Array.from([])};return{...getHeaders(e,!1,o,c.length,c,void 0),content:c,isCompressed:!1}},buildCentralDirectoryEnd=(e,o,a)=>{const c="PK\0\0\0\0"+convertDecToHex(e,2)+convertDecToHex(e,2)+convertDecToHex(o,4)+convertDecToHex(a,4)+"\0\0";return Uint8Array.from(c,d=>d.charCodeAt(0))},ZipContainer=class{static addFolders(e){e.forEach(this.addFolder.bind(this))}static addFolder(e){this.folders.push({path:e,created:new Date,isBase64:!1,type:"folder"})}static addFile(e,o,a=!1){this.files.push({path:e,created:new Date,content:a?o:new TextEncoder().encode(o),isBase64:a,type:"file"})}static async getZipFile(e="application/zip"){const o=await this.buildCompressedFileStream();return this.clearStream(),new Blob([o],{type:e})}static getUncompressedZipFile(e="application/zip"){const o=this.buildFileStream();return this.clearStream(),new Blob([o],{type:e})}static clearStream(){this.folders=[],this.files=[]}static packageFiles(e){let o=0,a=0;for(const j of e){const{localFileHeader:rt,centralDirectoryHeader:nt,content:st}=j;o+=rt.length+st.length,a+=nt.length}const c=new Uint8Array(o),d=new Uint8Array(a);let g=0,b=0;for(const j of e){const{localFileHeader:rt,centralDirectoryHeader:nt,content:st}=j;c.set(rt,g),g+=rt.length,c.set(st,g),g+=st.length,d.set(nt,b),b+=nt.length}const _=buildCentralDirectoryEnd(e.length,a,o),$=new Uint8Array(c.length+d.length+_.length);return $.set(c),$.set(d,c.length),$.set(_,c.length+d.length),$}static async buildCompressedFileStream(){const e=[...this.folders,...this.files],o=[];let a=0;for(const c of e){const d=await getDeflatedHeaderAndContent(c,a),{localFileHeader:g,content:b}=d;o.push(d),a+=g.length+b.length}return this.packageFiles(o)}static buildFileStream(){const e=[...this.folders,...this.files],o=[];let a=0;for(const c of e){const d=getHeaderAndContent(c,a),{localFileHeader:g,content:b}=d;o.push(d),a+=g.length+b.length}return this.packageFiles(o)}};ZipContainer.folders=[];ZipContainer.files=[];var InfiniteBlock=class extends RowNodeBlock{wireBeans(e){this.beans=e}constructor(e,o,a){super(e),this.parentCache=o,this.params=a,this.startRow=e*a.blockSize,this.endRow=this.startRow+a.blockSize}postConstruct(){this.createRowNodes()}getBlockStateJson(){return{id:""+this.getId(),state:{blockNumber:this.getId(),startRow:this.getStartRow(),endRow:this.getEndRow(),pageStatus:this.getState()}}}setDataAndId(e,o,a){_exists(o)?e.setDataAndId(o,a.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(_missing(this.params.datasource.getRows)){_warnOnce("datasource is missing getRows method");return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}processServerFail(){}createLoadParams(){return{startRow:this.getStartRow(),endRow:this.getEndRow(),successCallback:this.pageLoaded.bind(this,this.getVersion()),failCallback:this.pageLoadFailed.bind(this,this.getVersion()),sortModel:this.params.sortModel,filterModel:this.params.filterModel,context:this.gos.getGridCommonParams().context}}forEachNode(e,o,a){this.rowNodes.forEach((c,d)=>{this.startRow+d<a&&e(c,o.next())})}getLastAccessed(){return this.lastAccessed}getRow(e,o=!1){o||(this.lastAccessed=this.params.lastAccessedSequence.next());const a=e-this.startRow;return this.rowNodes[a]}getStartRow(){return this.startRow}getEndRow(){return this.endRow}createRowNodes(){this.rowNodes=[];for(let e=0;e<this.params.blockSize;e++){const o=this.startRow+e,a=new RowNode(this.beans);a.setRowHeight(this.params.rowHeight),a.uiLevel=0,a.setRowIndex(o),a.setRowTop(this.params.rowHeight*o),this.rowNodes.push(a)}}processServerResult(e){this.rowNodes.forEach((a,c)=>{const d=e.rowData?e.rowData[c]:void 0;!a.id&&a.alreadyRendered&&d&&(this.rowNodes[c]=new RowNode(this.beans),this.rowNodes[c].setRowIndex(a.rowIndex),this.rowNodes[c].setRowTop(a.rowTop),this.rowNodes[c].setRowHeight(a.rowHeight),a.clearRowTopAndRowIndex()),this.setDataAndId(this.rowNodes[c],d,this.startRow+c)});const o=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,o)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},MAX_EMPTY_BLOCKS_TO_KEEP=2,InfiniteCache=class extends BeanStub{constructor(e){super(),this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount,this.params=e}wireBeans(e){this.rowRenderer=e.rowRenderer,this.focusService=e.focusService}getRow(e,o=!1){const a=Math.floor(e/this.params.blockSize);let c=this.blocks[a];if(!c){if(o)return;c=this.createBlock(a)}return c.getRow(e)}createBlock(e){const o=this.createBean(new InfiniteBlock(e,this,this.params));return this.blocks[o.getId()]=o,this.blockCount++,this.purgeBlocksIfNeeded(o),this.params.rowNodeBlockLoader.addBlock(o),o}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(o=>o.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,o){this.isAlive()&&(this.gos.get("debug")&&_log(`InfiniteCache - onPageLoaded: page = ${e.getId()}, lastRow = ${o}`),this.checkRowCount(e,o),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const o=this.getBlocksInOrder().filter(b=>b!=e),a=(b,_)=>_.getLastAccessed()-b.getLastAccessed();o.sort(a);const c=this.params.maxBlocksInCache>0,d=c?this.params.maxBlocksInCache-1:null,g=MAX_EMPTY_BLOCKS_TO_KEEP-1;o.forEach((b,_)=>{const $=b.getState()==="needsLoading"&&_>=g,j=c?_>=d:!1;if($||j){if(this.isBlockCurrentlyDisplayed(b)||this.isBlockFocused(b))return;this.removeBlockFromCache(b)}})}isBlockFocused(e){const o=this.focusService.getFocusCellToUseAfterRefresh();if(!o||o.rowPinned!=null)return!1;const a=e.getStartRow(),c=e.getEndRow();return o.rowIndex>=a&&o.rowIndex<c}isBlockCurrentlyDisplayed(e){const o=e.getStartRow(),a=e.getEndRow()-1;return this.rowRenderer.isRangeInRenderedViewport(o,a)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,o){if(typeof o=="number"&&o>=0)this.rowCount=o,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const c=(e.getId()+1)*this.params.blockSize+this.params.overflowSize;this.rowCount<c&&(this.rowCount=c)}}setRowCount(e,o){this.rowCount=e,_exists(o)&&(this.lastRowIndexKnown=o),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const o=new NumberSequence;this.getBlocksInOrder().forEach(a=>a.forEachNode(e,o,this.rowCount))}getBlocksInOrder(){const e=(a,c)=>a.getId()-c.getId();return _getAllValuesInObject(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.getId()],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventService.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(o=>{o.getId()*this.params.blockSize>=this.rowCount&&e.push(o)}),e.length>0&&e.forEach(o=>this.destroyBlock(o))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,o){const a=[];let c=-1,d=!1;const g=new NumberSequence;let b=!1;return this.getBlocksInOrder().forEach($=>{if(!b){if(d&&c+1!==$.getId()){b=!0;return}c=$.getId(),$.forEachNode(j=>{const rt=j===e||j===o;(d||rt)&&a.push(j),rt&&(d=!d)},g,this.rowCount)}}),b||d?[]:a}},InfiniteRowModel=class extends BeanStub{constructor(){super(...arguments),this.beanName="rowModel"}wireBeans(e){this.filterManager=e.filterManager,this.sortController=e.sortController,this.selectionService=e.selectionService,this.rowRenderer=e.rowRenderer,this.rowNodeBlockLoader=e.rowNodeBlockLoader}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=_getRowHeightAsNumber(this.gos),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()),this.verifyProps())}verifyProps(){this.gos.exists("initialGroupOrderComparator")&&_warnOnce("initialGroupOrderComparator cannot be used with Infinite Row Model as sorting is done on the server side")}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.onCacheUpdated.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=_getRowHeightAsNumber(this.gos),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onFilterChanged(){this.reset()}onSortChanged(){this.reset()}onColumnEverything(){let e;this.cacheParams?e=this.isSortModelDifferent():e=!0,e&&this.reset()}isSortModelDifferent(){return!_jsonEquals(this.cacheParams.sortModel,this.sortController.getSortModel())}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,o){return this.infiniteCache?this.infiniteCache.getRowNodesInRange(e,o):[]}reset(){if(!this.datasource)return;_getRowIdCallback(this.gos)!=null||this.selectionService.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventService.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){var e;this.destroyCache(),this.cacheParams={datasource:this.datasource,filterModel:((e=this.filterManager)==null?void 0:e.getFilterModel())??{},sortModel:this.sortController.getSortModel(),rowNodeBlockLoader:this.rowNodeBlockLoader,initialRowCount:this.gos.get("infiniteInitialRowCount"),maxBlocksInCache:this.gos.get("maxBlocksInCache"),rowHeight:_getRowHeightAsNumber(this.gos),overflowSize:this.gos.get("cacheOverflowSize"),blockSize:this.gos.get("cacheBlockSize"),lastAccessedSequence:new NumberSequence},this.infiniteCache=this.createBean(new InfiniteCache(this.cacheParams)),this.eventService.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache&&(this.infiniteCache=this.destroyBean(this.infiniteCache))}onCacheUpdated(){this.dispatchModelUpdatedEvent()}getRow(e){if(this.infiniteCache&&!(e>=this.infiniteCache.getRowCount()))return this.infiniteCache.getRow(e)}getRowNode(e){let o;return this.forEachNode(a=>{a.id===e&&(o=a)}),o}forEachNode(e){this.infiniteCache&&this.infiniteCache.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const o=Math.floor(e/this.rowHeight),a=this.getRowCount()-1;return o>a?a:o}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){this.infiniteCache&&this.infiniteCache.refreshCache()}purgeCache(){this.infiniteCache&&this.infiniteCache.purgeCache()}isLastRowIndexKnown(){return this.infiniteCache?this.infiniteCache.isLastRowIndexKnown():!1}setRowCount(e,o){this.infiniteCache&&this.infiniteCache.setRowCount(e,o)}};function refreshInfiniteCache(e){var o,a;(a=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel())==null||a.refreshCache()}function purgeInfiniteCache(e){var o,a;(a=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel())==null||a.purgeCache()}function getInfiniteRowCount(e){var o,a;return(a=(o=e.rowModelHelperService)==null?void 0:o.getInfiniteRowModel())==null?void 0:a.getRowCount()}var VERSION4="32.3.9",InfiniteRowModelCoreModule={version:VERSION4,moduleName:"@ag-grid-community/infinite-row-model-core",rowModel:"infinite",beans:[InfiniteRowModel],dependantModules:[RowNodeBlockModule]},InfiniteRowModelApiModule={version:VERSION4,moduleName:"@ag-grid-community/infinite-row-model-api",beans:[RowModelHelperService],apiFunctions:{refreshInfiniteCache,purgeInfiniteCache,getInfiniteRowCount},dependantModules:[InfiniteRowModelCoreModule,SsrmInfiniteSharedApiModule]},InfiniteRowModelModule={version:VERSION4,moduleName:"@ag-grid-community/infinite-row-model",dependantModules:[InfiniteRowModelCoreModule,InfiniteRowModelApiModule]},createPartVariant=(e,o)=>new PartImpl(e.feature,o,e.defaults,e.css),customPartCounter=0,createPart=(e,o=`customPart${++customPartCounter}`)=>new PartImpl(e,o),PartImpl=class IC{constructor(o,a,c={},d=[]){this.feature=o,this.variant=a,this.defaults=c,this.css=d}get id(){return this.feature?`${this.feature}/${this.variant}`:this.variant}withParams(o){const a={...this.defaults};for(const[c,d]of Object.entries(o))d!=null&&(a[c]=d);return new IC(this.feature,this.variant,a,this.css)}withAdditionalParams(o){return this.withParams(o)}withCSS(o){return new IC(this.feature,this.variant,this.defaults,this.css.concat(o))}},coreCSS=`:where([class^=ag-]){box-sizing:border-box;outline:none;&:after,&:before,&:focus,&:focus-within{box-sizing:border-box;outline:none}&:where(button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;padding:0}&:where(button){font-weight:inherit}&::-ms-clear{display:none}}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}.ag-virtual-list-viewport .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-watermark{bottom:20px;color:#9b9b9b;opacity:.7;position:absolute;right:25px;transition:opacity 1s ease-out 3s;&:before{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDkiIGhlaWdodD0iMzYiIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyMDkgMzYiPjxwYXRoIGZpbGw9IiM5QjlCOUIiIGQ9Ik0xOTIuOTkzIDIzLjY1OHYtNy45NDZoLTEzLjU0MWwtNy45NDcgNy45NDZ6TTIwOC4yNSAzLjk1aC0xNi45NzRsLTguMDEgNy45NDdoMjQuOTg0ek0xNjMuNjIyIDMxLjYwNWw0LjA2OS00LjA2OWgxMy43MzJ2Ny45NDdoLTE3LjgwMXoiLz48cGF0aCBmaWxsPSIjOUI5QjlCIiBkPSJNMTY2LjYxIDE5Ljc4aDguNzczbDguMDEtNy45NDZIMTY2LjYxek0xNTcuMDExIDMxLjYwNWg2LjYxMWw3Ljg4My03Ljk0N2gtMTQuNDk0ek0xOTEuMjc2IDMuOTVsLTQuMDY4IDQuMDdIMTYxLjI3Vi4wNzJoMzAuMDA2ek0yMC44NCAzMC4yMDZIOC4zNzhsLTIuMTYyIDUuMzRILjc1TDEyLjI1NyA4LjU5Mmg0Ljc2OEwyOC41MyAzNS41NDZoLTUuNTN6bS0xLjcxNy00LjI2TDE0LjYwOSAxNC45NWwtNC41MTQgMTAuOTk4ek0xMDQuNDM3IDE4LjUwOWMxLjU4OS0yLjM1MiA1LjU5NC0yLjYwNyA3LjI0Ny0yLjYwN3Y0LjU3OGMtMi4wMzQgMC00LjA2OS4wNjMtNS4yNzcuOTUzLTEuMjA3Ljg5LTEuODQzIDIuMDk4LTEuODQzIDMuNTZ2MTAuNTUzaC00Ljk1OVYxNS45MDJoNC43Njh6TTExOS4zNzYgMTUuOTAyaC00Ljk1OHYxOS42NDRoNC45NTh6TTExOS4zNzYgNy4xM2gtNC45NTh2NS44NDhoNC45NTh6TTE0My45NzkgNy4xM3YyOC40MTZoLTQuNzY4bC0uMTI3LTIuOTg4YTguMyA4LjMgMCAwIDEtMi42NyAyLjQ4Yy0xLjA4MS41NzItMi40MTYuODktMy45NDIuODktMS4zMzUgMC0yLjYwNi0uMjU1LTMuNjg3LS43LTEuMTQ0LS41MDgtMi4xNjItMS4xNDQtMi45ODgtMi4wMzRhOS42IDkuNiAwIDAgMS0xLjk3MS0zLjE3OWMtLjUwOC0xLjIwNy0uNjk5LTIuNjA2LS42OTktNC4xMzJzLjI1NC0yLjkyNC42OTktNC4xOTZjLjUwOS0xLjI3MSAxLjE0NS0yLjM1MiAxLjk3MS0zLjI0MnMxLjg0NC0xLjU4OSAyLjk4OC0yLjA5OCAyLjM1Mi0uNzYzIDMuNjg3LS43NjNjMS41MjYgMCAyLjc5Ny4yNTUgMy44NzguODI3czEuOTcxIDEuMzM1IDIuNjcgMi40MTZWNy4xOTNoNC45NTl6bS0xMC40MjYgMjQuNTM4YzEuNjUzIDAgMi45MjQtLjU3MiAzLjk0MS0xLjY1M3MxLjUyNi0yLjU0MyAxLjUyNi00LjMyMy0uNTA5LTMuMTc4LTEuNTI2LTQuMzIyYy0xLjAxNy0xLjA4MS0yLjI4OC0xLjY1My0zLjk0MS0xLjY1My0xLjU5IDAtMi45MjUuNTcyLTMuODc4IDEuNjUzLTEuMDE3IDEuMDgtMS41MjYgMi41NDMtMS41MjYgNC4zMjIgMCAxLjc4LjUwOSAzLjE4IDEuNTI2IDQuMjYgMS4wMTcgMS4xNDQgMi4yODggMS43MTYgMy44NzggMS43MTZNNTcuMjAyIDIwLjM1M0g0NC45MzN2NC4yNTloNi45OTNjLS4xOSAyLjE2MS0xLjAxNyAzLjgxNC0yLjQxNiA1LjE1LTEuMzk4IDEuMjctMy4xNzggMS45MDYtNS40NjcgMS45MDYtMS4yNzEgMC0yLjQ4LS4yNTQtMy40OTYtLjY5OWE3IDcgMCAwIDEtMi43MzQtMS45N2MtLjc2My0uODI3LTEuMzM1LTEuODQ0LTEuNzgtMy4wNTJzLS42MzYtMi40OC0uNjM2LTMuOTQyLjE5LTIuNzMzLjYzNi0zLjk0MWMuMzgxLTEuMjA4IDEuMDE3LTIuMTYyIDEuNzgtMy4wNTIuNzYzLS44MjYgMS42NTMtMS40NjIgMi43MzMtMS45N2E5LjEgOS4xIDAgMCAxIDMuNTYtLjdxNC4wMDUgMCA2LjEwMyAxLjkwN2wzLjMwNi0zLjMwNWMtMi40OC0xLjkwNy01LjY1OC0yLjkyNS05LjQwOS0yLjkyNS0yLjA5NyAwLTQuMDA0LjMxOC01LjcyMSAxLjAxOC0xLjcxNi42OTktMy4xNzkgMS41ODktNC4zODYgMi43OTdBMTIuMSAxMi4xIDAgMCAwIDMxLjIgMTYuMjJjLS42MzUgMS43MTctLjk1MyAzLjYyNC0uOTUzIDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1NyAxLjAxNyAyLjAzNSAwIDMuODc4LS4zMTggNS41MzEtMS4wMTcgMS42NTMtLjcgMy4wNTItMS41OSA0LjE5Ni0yLjc5N3ExLjcxNi0xLjgxMiAyLjY3LTQuMzg3Yy42MzYtMS43MTYuOTU0LTMuNjIzLjk1NC01LjY1OHYtLjgyNmMtLjE5MS0uMTI3LS4yNTUtLjQ0NS0uMjU1LS43TTk1Ljk4MiAyMC4zNTNoLTEyLjI3djQuMjU5aDYuOTkzYy0uMTkgMi4xNjEtMS4wMTcgMy44MTQtMi40MTYgNS4xNS0xLjM5OCAxLjI3LTMuMTc4IDEuOTA2LTUuNDY3IDEuOTA2LTEuMjcxIDAtMi40OC0uMjU0LTMuNDk2LS42OTlhNyA3IDAgMCAxLTIuNzM0LTEuOTdjLS43NjMtLjgyNy0xLjMzNS0xLjg0NC0xLjc4LTMuMDUycy0uNjM2LTIuNDgtLjYzNi0zLjk0Mi4xOS0yLjczMy42MzYtMy45NDFjLjM4MS0xLjIwOCAxLjAxNy0yLjE2MiAxLjc4LTMuMDUyLjc2My0uODI2IDEuNjUzLTEuNDYyIDIuNzM0LTEuOTdhOS4xIDkuMSAwIDAgMSAzLjU2LS43cTQuMDA1IDAgNi4xMDMgMS45MDdsMy4zMDUtMy4zMDVjLTIuNDc5LTEuOTA3LTUuNjU4LTIuOTI1LTkuNDA4LTIuOTI1LTIuMDk4IDAtNC4wMDUuMzE4LTUuNzIyIDEuMDE4LTEuNzE2LjY5OS0zLjE3OCAxLjU4OS00LjM4NiAyLjc5N2ExMi4xIDEyLjEgMCAwIDAtMi43OTcgNC4zODZjLS42MzYgMS43MTctLjk1NCAzLjYyNC0uOTU0IDUuNjU4cy4zMTggMy45NDIgMS4wMTcgNS42NThjLjcgMS43MTcgMS41OSAzLjE3OSAyLjc5NyA0LjM4N2ExMi4xIDEyLjEgMCAwIDAgNC4zODcgMi43OTdjMS43MTYuNyAzLjYyMyAxLjAxNyA1LjY1OCAxLjAxNyAyLjAzNCAwIDMuODc4LS4zMTggNS41My0xLjAxNyAxLjY1My0uNyAzLjA1Mi0xLjU5IDQuMTk2LTIuNzk3cTEuNzE4LTEuODEyIDIuNjctNC4zODdjLjYzNi0xLjcxNi45NTQtMy42MjMuOTU0LTUuNjU4di0uODI2Yy0uMTktLjEyNy0uMjU1LS40NDUtLjI1NS0uNyIvPjwvc3ZnPg==);background-repeat:no-repeat;background-size:170px 40px;content:"";display:block;height:40px;width:170px}}.ag-watermark-text{font-family:Impact,sans-serif;font-size:19px;font-weight:700;opacity:.5}.ag-ltr .ag-watermark-text{padding-left:.7rem}.ag-rtl .ag-watermark-text{padding-right:.7rem}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&.ag-layout-normal{overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}.ag-ltr .ag-floating-bottom-full-width-container,.ag-ltr .ag-floating-top-full-width-container,.ag-ltr .ag-full-width-container,.ag-ltr .ag-sticky-bottom-full-width-container,.ag-ltr .ag-sticky-top-full-width-container{left:0}.ag-rtl .ag-floating-bottom-full-width-container,.ag-rtl .ag-floating-top-full-width-container,.ag-rtl .ag-full-width-container,.ag-rtl .ag-sticky-bottom-full-width-container,.ag-rtl .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&.ag-scrollbar-invisible{bottom:0;position:absolute;&.ag-apple-scrollbar{opacity:0;transition:opacity .4s;visibility:hidden;&.ag-scrollbar-active,&.ag-scrollbar-scrolling{opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&.ag-scrollbar-invisible{left:0;right:0}}.ag-body-vertical-scroll{height:100%;&.ag-scrollbar-invisible{top:0;z-index:10}}.ag-ltr .ag-body-vertical-scroll{&.ag-scrollbar-invisible{right:0}}.ag-rtl .ag-body-vertical-scroll{&.ag-scrollbar-invisible{left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&.ag-scroller-corner{overflow-x:hidden}}.ag-ltr .ag-column-moving{.ag-cell,.ag-header-cell{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}.ag-rtl .ag-column-moving{.ag-cell,.ag-header-cell{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}.ag-row-animation .ag-row{transition:transform .4s,top .4s,opacity .2s}.ag-row-animation .ag-row.ag-after-created{transition:transform .4s,top .4s,height .4s,opacity .2s}.ag-row-no-animation .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}.ag-sparkline-wrapper{height:100%;left:0;position:absolute;top:0;width:100%}.ag-full-width-row .ag-cell-wrapper.ag-row-group{align-items:center;height:100%}.ag-cell .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border);display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-pinned-left-floating-top,.ag-pinned-right-floating-top{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-floating-bottom{border-top:var(--ag-pinned-row-border);display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-pinned-left-floating-bottom,.ag-pinned-right-floating-bottom{display:inline-block;min-width:0;overflow:hidden;position:relative}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-value-slide-out{opacity:1}.ag-ltr .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}.ag-rtl .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:is(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}.ag-ltr .ag-value-slide-out-end{margin-right:10px}.ag-rtl .ag-value-slide-out-end{margin-left:10px}.ag-opacity-zero{opacity:0!important}.ag-details-row{width:100%}.ag-details-row-fixed-height{height:100%}.ag-details-grid{width:100%}.ag-details-grid-fixed-height{height:100%}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}.ag-right-aligned-header{.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}.ag-pill-select{display:flex;flex-direction:column;.ag-column-drop-list{padding:0}.ag-select{padding-top:var(--ag-spacing)}.ag-picker-field-wrapper{background-color:transparent;border:0}.ag-picker-field-display{cursor:pointer}}.ag-ltr{direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}.ag-rtl{direction:rtl;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}.ag-rtl{.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}.ag-rtl{.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{overflow:hidden;visibility:hidden;width:0;& div{position:absolute}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-group-title-bar .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-direction:row;flex-wrap:wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}.ag-ltr .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}.ag-rtl .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-group-item-alignment-stretch .ag-group-item{align-items:stretch}.ag-group-item-alignment-start .ag-group-item{align-items:flex-start}.ag-group-item-alignment-end .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}.ag-rtl{text-align:right}.ag-ltr .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}.ag-rtl .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}.ag-ltr .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-rtl .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);color:var(--ag-cell-text-color);font-size:var(--ag-data-font-size);height:var(--ag-row-height);white-space:nowrap;width:100%;--ag-internal-content-line-height:min(calc(var(--ag-row-height) - 1px),var(--ag-line-height,1000px))}:where(.ag-body-vertical-content-no-gap) .ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important;display:none}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height)}.ag-ltr .ag-cell{border-right:var(--ag-column-border)}.ag-rtl .ag-cell{border-left:var(--ag-column-border)}.ag-ltr :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}.ag-rtl :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;&.ag-row-group{align-items:flex-start}>:not(.ag-cell-value):not(.ag-group-value){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}}.ag-ltr .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}.ag-rtl .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}.ag-ltr .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-rtl .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-ltr .ag-group-contracted,.ag-ltr .ag-group-expanded,.ag-ltr .ag-row-drag,.ag-ltr .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-group-contracted,.ag-rtl .ag-group-expanded,.ag-rtl .ag-row-drag,.ag-rtl .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}.ag-ltr .ag-group-child-count{margin-left:3px}.ag-rtl .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}.ag-ltr .ag-row-highlight-above:after,.ag-ltr .ag-row-highlight-below:after{left:1px}.ag-rtl .ag-row-highlight-above:after,.ag-rtl .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:-1px}.ag-row-highlight-above.ag-row-first:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row-hover.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}.ag-ltr .ag-right-aligned-cell{text-align:right}.ag-rtl .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}.ag-cell:not(.ag-cell-inline-editing),.ag-full-width-row .ag-cell-wrapper.ag-row-group{-webkit-font-smoothing:subpixel-antialiased}.ag-ltr .ag-cell:not(.ag-cell-inline-editing),.ag-ltr .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-rtl .ag-cell:not(.ag-cell-inline-editing),.ag-rtl .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.5)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}.ag-ltr .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}.ag-rtl .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}.ag-ltr .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}.ag-ltr .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}.ag-rtl .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-details-row{padding:calc(var(--ag-spacing)*3.75)}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left):not(.ag-cell-range-single-cell){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right):not(.ag-cell-range-single-cell){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header,.ag-pinned-right-header{height:100%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}.ag-body-viewport:not(.ag-has-focus) .ag-cell-range-single-cell:not(.ag-cell-inline-editing),.ag-cell-range-selected:not(.ag-cell-focus){background-color:var(--ag-range-selection-background-color);&.ag-cell-range-chart{background-color:var(--ag-range-selection-chart-background-color)!important;&.ag-cell-range-chart-category{background-color:var(--ag-range-selection-chart-category-background-color)!important}}}.ag-cell-range-selected-1:not(.ag-cell-focus),.ag-root:not(.ag-context-menu-open) .ag-body-viewport:not(.ag-has-focus) .ag-cell-range-selected-1:not(.ag-cell-inline-editing){background-color:var(--ag-range-selection-background-color)}.ag-cell-range-selected-2:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-3:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell-range-selected-4:not(.ag-cell-focus){background-image:linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color)),linear-gradient(var(--ag-range-selection-background-color),var(--ag-range-selection-background-color))}.ag-cell.ag-cell-range-selected:not(.ag-cell-range-single-cell){&.ag-cell-range-top{border-top-color:var(--ag-range-selection-border-color);border-top-style:var(--ag-range-selection-border-style)}&.ag-cell-range-right{border-right-color:var(--ag-range-selection-border-color);border-right-style:var(--ag-range-selection-border-style)}&.ag-cell-range-bottom{border-bottom-color:var(--ag-range-selection-border-color);border-bottom-style:var(--ag-range-selection-border-style)}&.ag-cell-range-left{border-left-color:var(--ag-range-selection-border-color);border-left-style:var(--ag-range-selection-border-style)}}.ag-ltr,.ag-rtl{.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}}.ag-cell.ag-selection-fill-top,.ag-cell.ag-selection-fill-top.ag-cell-range-selected{border-top:1px dashed;border-top-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-right,.ag-ltr .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-rtl .ag-cell.ag-selection-fill-right,.ag-rtl .ag-cell.ag-selection-fill-right.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-cell.ag-selection-fill-bottom,.ag-cell.ag-selection-fill-bottom.ag-cell-range-selected{border-bottom:1px dashed;border-bottom-color:var(--ag-range-selection-border-color)}.ag-ltr .ag-cell.ag-selection-fill-left,.ag-ltr .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-left:1px dashed var(--ag-range-selection-border-color)!important}.ag-rtl .ag-cell.ag-selection-fill-left,.ag-rtl .ag-cell.ag-selection-fill-left.ag-cell-range-selected{border-right:1px dashed var(--ag-range-selection-border-color)!important}.ag-fill-handle,.ag-range-handle{background-color:var(--ag-range-selection-border-color);bottom:-1px;height:6px;position:absolute;width:6px}.ag-ltr .ag-fill-handle,.ag-ltr .ag-range-handle{right:-1px}.ag-rtl .ag-fill-handle,.ag-rtl .ag-range-handle{left:-1px}.ag-fill-handle{cursor:cell}.ag-ltr .ag-range-handle{cursor:nwse-resize}.ag-rtl .ag-range-handle{cursor:nesw-resize}.ag-cell-inline-editing{border:var(--ag-input-focus-border)!important}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input{flex:1 1 auto}.ag-floating-filter-input .ag-input-field-input[type=date]{width:1px}.ag-input-field-input{min-width:0;width:100%}.ag-column-select-header-filter-wrapper,.ag-filter-filter,.ag-filter-toolpanel-search,.ag-mini-filter{.ag-input-wrapper:before{background-color:currentColor;content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:50%;position:absolute;width:12px}}.ag-ltr .ag-column-select-header-filter-wrapper,.ag-ltr .ag-filter-filter,.ag-ltr .ag-filter-toolpanel-search,.ag-ltr .ag-mini-filter{.ag-input-wrapper:before{margin-left:var(--ag-spacing)}& input.ag-number-field-input,& input.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-rtl .ag-column-select-header-filter-wrapper,.ag-rtl .ag-filter-filter,.ag-rtl .ag-filter-toolpanel-search,.ag-rtl .ag-mini-filter{.ag-input-wrapper:before{margin-right:var(--ag-spacing)}& input.ag-number-field-input,& input.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}.ag-advanced-filter-header{align-items:center;background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);display:flex;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);position:relative}.ag-advanced-filter{align-items:center;display:flex;width:100%}.ag-advanced-filter-apply-button,.ag-advanced-filter-builder-button{line-height:normal;white-space:nowrap}.ag-ltr .ag-advanced-filter-apply-button,.ag-ltr .ag-advanced-filter-builder-button{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-advanced-filter-apply-button,.ag-rtl .ag-advanced-filter-builder-button{margin-right:calc(var(--ag-spacing)*2)}.ag-advanced-filter-builder-button{align-items:center;background-color:unset;border:0;display:flex;font-size:var(--ag-font-size);font-weight:600;padding:var(--ag-spacing);&:hover:not(:disabled){background-color:var(--ag-row-hover-color)}&:not(:disabled){cursor:pointer}}.ag-ltr .ag-advanced-filter-builder-button-label{margin-left:var(--ag-spacing)}.ag-rtl .ag-advanced-filter-builder-button-label{margin-right:var(--ag-spacing)}.ag-advanced-filter-builder{display:flex;flex-direction:column;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-advanced-filter-builder-list{flex:1;overflow:auto}.ag-advanced-filter-builder-button-panel{border-top:var(--ag-advanced-filter-builder-button-bar-border);display:flex;justify-content:flex-end;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-ltr .ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel{.ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder-cancel-button{margin-left:calc(var(--ag-spacing)*2)}}.ag-rtl .ag-advanced-filter-builder .ag-advanced-filter-builder-button-panel{.ag-advanced-filter-builder-apply-button,.ag-advanced-filter-builder-cancel-button{margin-right:calc(var(--ag-spacing)*2)}}.ag-advanced-filter-builder-item-wrapper{align-items:center;display:flex;flex:1 1 auto;justify-content:space-between;overflow:hidden}.ag-ltr .ag-advanced-filter-builder-item-wrapper{padding-left:calc(var(--ag-icon-size)/2);padding-right:var(--ag-icon-size)}.ag-rtl .ag-advanced-filter-builder-item-wrapper{padding-left:var(--ag-icon-size);padding-right:calc(var(--ag-icon-size)/2)}.ag-virtual-list-viewport .ag-advanced-filter-builder-item-wrapper .ag-tab-guard{position:absolute}.ag-advanced-filter-builder-item-tree-lines>*{width:var(--ag-advanced-filter-builder-indent-size)}.ag-advanced-filter-builder-item-tree-lines .ag-advanced-filter-builder-item-tree-line-root{width:var(--ag-icon-size);&:before{height:50%;top:50%}}.ag-advanced-filter-builder-item-tree-line-horizontal,.ag-advanced-filter-builder-item-tree-line-vertical,.ag-advanced-filter-builder-item-tree-line-vertical-bottom,.ag-advanced-filter-builder-item-tree-line-vertical-top{align-items:center;display:flex;height:100%;position:relative;&:after,&:before{content:"";height:100%;position:absolute}}.ag-advanced-filter-builder-item-tree-line-horizontal:after{border-bottom:1px solid var(--ag-border-color);height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size))}.ag-ltr .ag-advanced-filter-builder-item-tree-line-horizontal:after{left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-horizontal:after{right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical:before{top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-top:before{height:50%;top:0;width:calc(var(--ag-advanced-filter-builder-indent-size) - var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical-top:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{height:calc(50% - var(--ag-icon-size)*1.5/2);top:calc(50% + var(--ag-icon-size)*1.5/2);width:calc(var(--ag-icon-size)/2)}.ag-ltr .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-left:1px solid var(--ag-border-color);left:calc(var(--ag-icon-size)/2)}.ag-rtl .ag-advanced-filter-builder-item-tree-line-vertical-bottom:before{border-right:1px solid var(--ag-border-color);right:calc(var(--ag-icon-size)/2)}.ag-advanced-filter-builder-item-condition{padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-advanced-filter-builder-item,.ag-advanced-filter-builder-item-buttons,.ag-advanced-filter-builder-item-condition,.ag-advanced-filter-builder-item-tree-lines,.ag-advanced-filter-builder-pill,.ag-advanced-filter-builder-pill-wrapper{align-items:center;display:flex;height:100%}.ag-advanced-filter-builder-pill-wrapper{margin:0 var(--ag-spacing)}.ag-advanced-filter-builder-pill{border-radius:var(--ag-border-radius);min-height:calc(100% - var(--ag-spacing)*3);min-width:calc(var(--ag-spacing)*2);padding:var(--ag-spacing) calc(var(--ag-spacing)*2);position:relative;.ag-advanced-filter-builder-value-number{font-family:monospace;font-weight:700}.ag-advanced-filter-builder-value-empty{color:var(--ag-subtle-text-color)}}.ag-ltr .ag-advanced-filter-builder-pill{.ag-picker-field-display{margin-right:var(--ag-spacing)}}.ag-rtl .ag-advanced-filter-builder-pill{.ag-picker-field-display{margin-left:var(--ag-spacing)}}.ag-advanced-filter-builder-item-button,.ag-advanced-filter-builder-pill{&:focus-visible{shadow:var(--ag-focus-shadow)}}.ag-advanced-filter-builder-pill-display{font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-advanced-filter-builder-join-pill{background-color:var(--ag-advanced-filter-builder-join-pill-color);cursor:pointer}.ag-advanced-filter-builder-column-pill{background-color:var(--ag-advanced-filter-builder-column-pill-color);cursor:pointer}.ag-advanced-filter-builder-option-pill{background-color:var(--ag-advanced-filter-builder-option-pill-color);cursor:pointer}.ag-advanced-filter-builder-value-pill{background-color:var(--ag-advanced-filter-builder-value-pill-color);cursor:text;max-width:140px;.ag-advanced-filter-builder-pill-display{display:block}}.ag-advanced-filter-builder-item-buttons>*{margin:0 calc(var(--ag-spacing)*.5)}.ag-advanced-filter-builder-item-button{color:var(--ag-subtle-text-color);cursor:pointer;position:relative}.ag-advanced-filter-builder-item-button-disabled{cursor:default;opacity:.5}.ag-advanced-filter-builder-virtual-list-container{top:var(--ag-spacing)}.ag-advanced-filter-builder-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:hover{background-color:var(--ag-row-hover-color);.ag-advanced-filter-builder-item-button{opacity:100%}}}.ag-advanced-filter-builder-validation .ag-advanced-filter-builder-invalid,.ag-advanced-filter-builder-virtual-list-item-highlight .ag-advanced-filter-builder-item-button:focus-visible{opacity:100%}.ag-advanced-filter-builder-invalid{color:var(--ag-invalid-color);cursor:default;margin:0 var(--ag-spacing)}.ag-cell-inline-editing{border-radius:var(--ag-border-radius);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-editor .ag-wrapper,.ag-cell-editor input,.ag-cell-wrapper{height:100%;line-height:normal;width:100%}}.ag-autocomplete-list-popup,.ag-popup-editor .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-large-text-input textarea{resize:none}.ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding)}.ag-chart{display:flex;height:100%;position:relative;width:100%}.ag-chart-components-wrapper{display:flex}.ag-chart-canvas-wrapper,.ag-chart-components-wrapper{flex:1 1 auto;position:relative}.ag-chart-menu{display:flex;flex-direction:column;position:absolute;top:16px}.ag-ltr .ag-chart-menu{right:20px}.ag-rtl .ag-chart-menu{left:20px}.ag-chart-docked-container{min-width:var(--ag-chart-menu-panel-width);position:relative}.ag-chart-menu-hidden~.ag-chart-docked-container{display:none}.ag-chart-tabbed-menu{display:flex;flex-direction:column;height:100%;overflow:hidden;width:100%}.ag-chart-tabbed-menu-header{cursor:default;flex:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-tabbed-menu-body{align-items:stretch;display:flex;flex:1 1 auto;overflow:hidden}.ag-chart-tab{overflow:hidden;overflow-y:auto;width:100%}.ag-chart-settings{overflow-x:hidden}.ag-chart-settings-wrapper{display:flex;flex-direction:column;height:100%;overflow:hidden;position:relative;width:100%}.ag-chart-settings-nav-bar{align-items:center;display:flex;height:30px;padding:0 10px;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:100%}.ag-chart-settings-card-selector{align-items:center;display:flex;flex:1 1 auto;height:100%;justify-content:space-around;padding:0 10px}.ag-chart-settings-card-item{background-color:var(--ag-foreground-color);border-radius:4px;cursor:pointer;height:10px;height:8px;position:relative;width:10px;width:8px;&.ag-not-selected{opacity:.2}&:before{background-color:transparent;content:" ";display:block;height:20px;left:50%;margin-left:-10px;margin-top:-10px;position:absolute;top:50%;width:20px}&.ag-selected{background-color:var(--ag-accent-color)}}.ag-chart-settings-next,.ag-chart-settings-prev{flex:none;position:relative;&:focus-within{border-radius:1px;box-shadow:var(--ag-focus-shadow)}}.ag-chart-settings-next-button,.ag-chart-settings-prev-button{cursor:pointer;height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}.ag-chart-settings-mini-charts-container{flex:1 1 auto;overflow-x:hidden;overflow-y:auto;position:relative}.ag-chart-settings-mini-wrapper{display:flex;flex-direction:column;left:0;min-height:100%;overflow:hidden;position:absolute;top:0;width:100%;&.ag-animating{transition:left .3s;transition-timing-function:ease-in-out}}.ag-chart-mini-thumbnail{cursor:pointer}.ag-chart-mini-thumbnail-canvas{display:block}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper,.ag-chart-format-wrapper{display:flex;flex-direction:column;padding-bottom:16px;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-chart-advanced-settings-wrapper,.ag-chart-data-wrapper{height:100%;overflow-y:auto}.ag-chart-advanced-settings{background-color:var(--ag-chrome-background-color)}.ag-chart-advanced-settings,.ag-chart-advanced-settings-wrapper{width:100%}.ag-chart-advanced-settings-wrapper{padding-bottom:0}.ag-chart-advanced-settings-section,.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-advanced-settings-section{border-bottom:1px solid var(--ag-border-color)}.ag-chart-empty-text{align-items:center;background-color:var(--ag-background-color);display:flex;height:100%;justify-content:center;top:0;width:100%}.ag-chart .ag-chart-menu{display:none}.ag-chart-menu-hidden:hover .ag-chart-menu{display:block}.ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{display:flex;flex-direction:row;gap:20px;top:8px;width:auto}}}.ag-ltr .ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{justify-content:right;right:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}}}.ag-rtl .ag-chart{.ag-chart-menu-wrapper{.ag-chart-menu{justify-content:left;left:calc(var(--ag-cell-horizontal-padding) + var(--ag-spacing) - 4px)}}}.ag-charts-font-size-color{align-self:stretch;display:flex;justify-content:space-between}.ag-charts-data-group-item{position:relative}.ag-charts-data-group-item:not(:last-child){margin-bottom:var(--ag-spacing)}.ag-chart-menu{background:var(--ag-background-color);border-radius:var(--ag-border-radius)}.ag-chart-menu-icon{border-radius:var(--ag-border-radius);cursor:pointer;margin:2px 0;opacity:.5;opacity:.8;&:hover{opacity:1}}.ag-chart-menu-toolbar-button{background-color:unset;border:0;border-radius:1px;padding:0 2px}.ag-chart-mini-thumbnail{border:1px solid var(--ag-border-color);border-radius:5px;&.ag-selected{border-color:var(--ag-accent-color);border-width:2px}&:focus-visible{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}.ag-chart-data-column-drag-handle{margin-left:var(--ag-spacing)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{position:relative}.ag-charts-advanced-settings-top-level-group-title-bar{background-color:unset;position:relative}.ag-charts-advanced-settings-top-level-group-title-bar:focus-visible,.ag-charts-data-group-title-bar:focus-visible,.ag-charts-format-top-level-group-title-bar:focus-visible,.ag-charts-settings-group-title-bar:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-charts-data-group-container{padding:calc(var(--ag-widget-container-vertical-padding)*.5) var(--ag-widget-container-horizontal-padding);.ag-charts-data-group-item:not(.ag-charts-format-sub-level-group):not(.ag-pill-select):not(.ag-select){height:var(--ag-list-item-height)}.ag-charts-data-group-item.ag-picker-field{margin-top:var(--ag-spacing)}}.ag-charts-advanced-settings-top-level-group-container,.ag-charts-format-top-level-group-container{margin-left:calc(var(--ag-spacing)*2);padding:var(--ag-spacing)}.ag-charts-advanced-settings-top-level-group-item,.ag-charts-format-top-level-group-item{margin:var(--ag-spacing) 0}.ag-charts-format-sub-level-group-container{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-charts-settings-group-container{display:grid;grid-template-columns:60px 1fr 60px 1fr 60px;padding:var(--ag-spacing);row-gap:8px;.ag-chart-mini-thumbnail:nth-child(3n+1){grid-column:1}.ag-chart-mini-thumbnail:nth-child(3n+2){grid-column:3}.ag-chart-mini-thumbnail:nth-child(3n+3){grid-column:5}}.ag-chart-data-section,.ag-chart-format-section{display:flex;margin:0}.ag-chart-menu-panel{background-color:var(--ag-chrome-background-color)}.ag-ltr .ag-chart-menu-panel{border-left:1px solid var(--ag-border-color)}.ag-rtl .ag-chart-menu-panel{border-right:1px solid var(--ag-border-color)}.ag-chart-tabbed-menu-body{position:relative;&:after{background:linear-gradient(var(--ag-background-color),transparent);content:"";display:block;height:16px;left:0;position:absolute;right:0;top:0}}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{border-top:none;font-weight:500;padding:0 calc(var(--ag-spacing)*1.5)}.ag-chart-settings-nav-bar{border-top:1px solid var(--ag-border-color)}.ag-charts-format-sub-level-group-title-bar{background:none;font-weight:500}.ag-chart-data-section,.ag-chart-format-section{.ag-label:not(.ag-group-title-bar){color:var(--ag-chart-menu-label-color)}.ag-label-align-top .ag-label{margin-bottom:var(--ag-widget-vertical-spacing);margin-top:calc(var(--ag-widget-vertical-spacing)*.5)}.ag-slider.ag-label-align-top .ag-label{margin-bottom:0}& label{display:inline-block}}.ag-chart-data-wrapper,.ag-chart-format-wrapper,.ag-charts-data-group-container,.ag-charts-data-group-title-bar,.ag-charts-format-sub-level-group,.ag-charts-format-sub-level-group-container,.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-group-item:last-child,.ag-charts-format-sub-level-group-title-bar,.ag-charts-format-top-level-group,.ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,.ag-charts-format-top-level-group-item,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-container,.ag-charts-settings-group-title-bar{margin:0;padding:0}.ag-charts-data-group,.ag-charts-format-top-level-group{border-top:1px solid var(--ag-border-color)}.ag-charts-data-group-title-bar,.ag-charts-format-top-level-group-title-bar,.ag-charts-settings-group-title-bar{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-charts-data-group .ag-charts-data-group-container,.ag-charts-format-top-level-group .ag-charts-format-top-level-group-container,.ag-charts-settings-group .ag-charts-settings-group-container{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-charts-format-sub-level-group-title-bar{padding:var(--ag-widget-vertical-spacing) 0}.ag-charts-format-sub-level-group-container{padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-vertical-spacing)}.ag-charts-format-sub-level-group-container>*,.ag-charts-format-sub-level-no-header-group-container>*,.ag-charts-format-top-level-group-container>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-chart-advanced-settings-section,.ag-chart-settings-mini-wrapper,.ag-charts-data-group-item{padding-bottom:var(--ag-widget-container-vertical-padding)}.ag-chart-advanced-settings-section{padding-top:var(--ag-widget-container-vertical-padding)}.ag-charts-advanced-settings-top-level-group{.ag-charts-advanced-settings-top-level-group-container,.ag-charts-advanced-settings-top-level-group-title-bar{padding:0 var(--ag-widget-container-horizontal-padding)}}.ag-charts-advanced-settings-top-level-group-container{margin:0}.ag-charts-advanced-settings-top-level-group-item{margin-bottom:0;margin-top:calc(var(--ag-widget-vertical-spacing)*2)}.ag-chart-menu{--ag-icon-size:20px;background-color:color-mix(in srgb,transparent,var(--ag-background-color) 30%);padding:4px 2px}.ag-chart-settings-card-item.ag-not-selected:hover{opacity:.35}.ag-column-drop{align-items:center;display:inline-flex;overflow:auto;position:relative;width:100%}.ag-column-drop-cell,.ag-column-drop-list{align-items:center;display:flex}.ag-column-drop-cell{gap:var(--ag-spacing);position:relative}.ag-column-drop-cell-text{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-drop-vertical{align-items:stretch;display:flex;flex-direction:column;overflow:hidden}.ag-column-drop-vertical-title-bar{align-items:center;display:flex;flex:none}.ag-column-drop-vertical-list{align-items:stretch;flex-direction:column;flex-grow:1;overflow-x:auto;position:relative;>*{flex:none}}.ag-column-drop-empty .ag-column-drop-vertical-list{overflow:hidden}.ag-column-drop-vertical-empty-message{display:block}.ag-column-drop.ag-column-drop-horizontal{overflow:hidden;white-space:nowrap}.ag-column-drop-cell-button{cursor:pointer}.ag-column-drop-wrapper{display:flex}.ag-column-drop-horizontal-half-width{width:50%!important}.ag-column-drop-cell{background:var(--ag-column-drop-cell-background-color);border:var(--ag-column-drop-cell-border);border-radius:500px;padding:calc(var(--ag-spacing)*.5);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-ltr .ag-column-drop-cell{padding-left:calc(var(--ag-spacing)*.75)}.ag-rtl .ag-column-drop-cell{padding-right:calc(var(--ag-spacing)*.75)}.ag-column-drop-cell-button{min-width:calc(var(--ag-spacing)*4)}.ag-column-drop-cell-ghost{opacity:.5}.ag-column-drop-horizontal{gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height)}.ag-ltr .ag-column-drop-horizontal{padding-left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-column-drop-horizontal{padding-right:var(--ag-cell-horizontal-padding)}.ag-column-drop-horizontal-list{gap:var(--ag-cell-widget-spacing)}.ag-column-drop-vertical-list{padding-bottom:var(--ag-spacing);padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-column-drop-vertical-cell{margin-top:var(--ag-spacing)}.ag-ltr .ag-column-drop-vertical-icon{margin-right:var(--ag-widget-horizontal-spacing)}.ag-rtl .ag-column-drop-vertical-icon{margin-left:var(--ag-widget-horizontal-spacing)}.ag-column-drop-vertical-empty-message{bottom:0;left:0;margin-top:var(--ag-spacing);overflow:hidden;position:absolute;right:0;top:0}.ag-select-agg-func-popup{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);height:calc(var(--ag-spacing)*5*3.5);padding:0;position:absolute}.ag-select-agg-func-virtual-list-item{cursor:default;&:hover{background-color:var(--ag-selected-row-background-color)}&:focus-visible{shadow:var(--ag-focus-shadow)}}.ag-ltr .ag-select-agg-func-virtual-list-item{padding-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-select-agg-func-virtual-list-item{padding-right:calc(var(--ag-spacing)*2)}.ag-sort-indicator-container{display:contents}.ag-ltr .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}.ag-rtl .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-column-drop-horizontal{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border)}.ag-ltr .ag-column-drop-horizontal-half-width:not(:last-child){border-right:var(--ag-column-border)}.ag-rtl .ag-column-drop-horizontal-half-width:not(:last-child){border-left:var(--ag-column-border)}.ag-column-drop-cell-button{min-width:0;opacity:.75;&:hover{opacity:1}}.ag-column-drop-vertical{min-height:75px}.ag-column-drop-vertical-title-bar{padding:var(--ag-widget-container-vertical-padding) calc(var(--ag-spacing)*2) 0}.ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);padding:calc(var(--ag-spacing)*2)}.ag-column-select{display:flex;flex:3 1 0px;flex-direction:column;overflow:hidden;position:relative}.ag-column-select-header{flex:none;height:var(--ag-header-height);padding-left:var(--ag-widget-container-horizontal-padding);padding-right:var(--ag-widget-container-horizontal-padding)}.ag-column-select-column,.ag-column-select-column-group,.ag-column-select-header{align-items:center;display:flex;gap:var(--ag-widget-horizontal-spacing);position:relative}.ag-column-select-column,.ag-column-select-column-group{height:100%}.ag-column-select-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-column-select-header-icon{border-radius:var(--ag-border-radius);cursor:pointer;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-column-select-header-filter-wrapper{flex:1 1 auto}.ag-column-select-header-filter{width:100%}.ag-column-select-list{flex:1 1 0px;overflow:hidden}.ag-ltr .ag-column-select-column,.ag-ltr .ag-column-select-column-group{padding-left:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-rtl .ag-column-select-column,.ag-rtl .ag-column-select-column-group{padding-right:calc(var(--ag-indentation-level)*var(--ag-column-select-indent-size))}.ag-ltr .ag-column-select-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-rtl .ag-column-select-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-spacing)*1.5)}.ag-column-select-column,.ag-column-select-column-group{&:not(:last-child){margin-bottom:var(--ag-widget-vertical-spacing)}}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly{opacity:.5;pointer-events:none}.ag-column-select-virtual-list-viewport{padding:calc(var(--ag-widget-container-vertical-padding)*.5) 0}.ag-column-select-virtual-list-item{padding:0 var(--ag-widget-container-horizontal-padding)}.ag-column-select-column-label{flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-column-select-checkbox{display:flex}.ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}.ag-filter-body-wrapper{display:flex;flex-direction:column}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}.ag-floating-filter-full-body>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-floating-filter-button{display:flex;flex:none}.ag-set-floating-filter-input input[disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1}.ag-column-panel{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.ag-pivot-mode-panel{display:flex;height:var(--ag-header-height)}.ag-pivot-mode-select{align-items:center;display:flex}.ag-ltr .ag-pivot-mode-select{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-pivot-mode-select{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-column-panel-column-select{border-bottom:var(--ag-tool-panel-separator-border);border-top:var(--ag-tool-panel-separator-border)}:where(.ag-column-panel) .ag-column-drop-vertical{flex:1 1 0px;min-height:50px;&:where(:not(.ag-last-column-drop)){border-bottom:var(--ag-tool-panel-separator-border)}}.ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);max-width:200px;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2))}.ag-dnd-ghost,.ag-header{display:flex;overflow:hidden;white-space:nowrap}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-header-row:not(:first-child){.ag-header-cell:not(.ag-header-span-height.ag-header-span-total),.ag-header-group-cell.ag-header-group-cell-with-group{border-top:var(--ag-header-row-border)}}.ag-header-row:not(.ag-header-row-column-group){overflow:hidden}.ag-header.ag-header-allow-overflow .ag-header-row{overflow:visible}.ag-header-cell,.ag-header-group-cell{align-items:center;display:inline-flex;gap:var(--ag-cell-widget-spacing);height:100%;overflow:hidden;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:not(.ag-floating-filter),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:hover:before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&.ag-header-cell-moving:before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-filter-button,.ag-header-cell.ag-header-active .ag-header-cell-menu-button{opacity:1}.ag-header-cell-menu-button:not(.ag-header-menu-always-show){opacity:0;transition:opacity .2s}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;gap:var(--ag-spacing);padding:5px 0}.ag-header-cell-label{overflow:hidden;text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;position:sticky}.ag-ltr .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}.ag-rtl .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-group-cell .ag-header-cell-comp-wrapper{display:flex}.ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-comp-wrapper{width:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-right-aligned-header .ag-header-cell-label{flex-direction:row-reverse}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-cell-sortable .ag-header-cell-label,.ag-header-expand-icon,.ag-panel-title-bar-button{cursor:pointer}.ag-advanced-filter-header-cell,.ag-header-cell,.ag-header-group-cell{&:focus-visible{box-shadow:inset var(--ag-focus-shadow)}}.ag-ltr :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-rtl :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}.ag-ltr :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}.ag-rtl :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}.ag-ltr .ag-header-cell:after,.ag-ltr .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{border-right:var(--ag-header-column-border);right:0}.ag-rtl .ag-header-cell:after,.ag-rtl .ag-header-group-cell:not(.ag-header-span-height.ag-header-group-cell-no-group):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}.ag-ltr .ag-header-highlight-before:after{left:0}.ag-ltr .ag-header-highlight-after:after,.ag-rtl .ag-header-highlight-before:after{right:0}.ag-rtl .ag-header-highlight-after:after{left:0}.ag-ltr .ag-pinned-left-header .ag-header-highlight-after:after{right:1px}.ag-rtl .ag-pinned-left-header .ag-header-highlight-after:after{left:1px}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}.ag-ltr .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}.ag-rtl .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}.ag-header-cell.ag-header-span-height .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group.ag-header-span-height .ag-header-cell-resize{display:none}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;min-width:180px;overflow-y:auto;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-menu-list{cursor:default;display:table;padding:var(--ag-spacing) 0;width:100%}.ag-menu-option,.ag-menu-separator{display:table-row}.ag-menu-option-part,.ag-menu-separator-part{display:table-cell;vertical-align:middle}.ag-menu-option-text{white-space:nowrap}.ag-menu-option-custom{display:contents}.ag-compact-menu-option{display:flex;flex-wrap:nowrap;width:100%}.ag-compact-menu-option-text{flex:1 1 auto;white-space:nowrap}.ag-menu-separator{height:calc(var(--ag-spacing)*2 + 1px)}.ag-menu-separator-part:after{border-top:1px solid var(--ag-menu-separator-color);content:"";display:block}.ag-compact-menu-option-active,.ag-menu-option-active{background-color:var(--ag-row-hover-color)}.ag-compact-menu-option-part,.ag-menu-option-part{line-height:var(--ag-icon-size);padding:calc(var(--ag-spacing) + 2px) 0}.ag-compact-menu-option-disabled,.ag-menu-option-disabled{cursor:not-allowed;opacity:.5}.ag-compact-menu-option-icon,.ag-menu-option-icon{width:var(--ag-icon-size)}.ag-ltr .ag-compact-menu-option-icon,.ag-ltr .ag-menu-option-icon{padding-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-compact-menu-option-icon,.ag-rtl .ag-menu-option-icon{padding-right:calc(var(--ag-spacing)*2)}.ag-compact-menu-option-text,.ag-menu-option-text{padding-left:calc(var(--ag-spacing)*2);padding-right:calc(var(--ag-spacing)*2)}.ag-ltr .ag-compact-menu-option-shortcut,.ag-ltr .ag-menu-option-shortcut{padding-right:var(--ag-spacing)}.ag-rtl .ag-compact-menu-option-shortcut,.ag-rtl .ag-menu-option-shortcut{padding-left:var(--ag-spacing)}.ag-ltr .ag-compact-menu-option-popup-pointer,.ag-ltr .ag-menu-option-popup-pointer{padding-right:var(--ag-spacing)}.ag-rtl .ag-compact-menu-option-popup-pointer,.ag-rtl .ag-menu-option-popup-pointer{padding-left:var(--ag-spacing)}.ag-menu-column-select-wrapper{height:265px;overflow:auto;.ag-column-select{height:100%}}.ag-menu.ag-tabs{min-width:290px}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}.ag-filter-select .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}.ag-ltr .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-ltr .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-rtl .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-ltr .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-rtl .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}.ag-ltr .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}.ag-rtl .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-menu .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}.ag-ltr .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}.ag-rtl .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}.ag-resizer-wrapper{margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing);&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-menu-option{cursor:pointer;font-weight:500}.ag-ltr .ag-menu-option-popup-pointer .ag-icon{text-align:right}.ag-rtl .ag-menu-option-popup-pointer .ag-icon{text-align:left}.ag-panel{background-color:var(--ag-panel-background-color);display:flex;flex-direction:column;overflow:hidden;position:relative}.ag-dialog{border:var(--ag-dialog-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dialog-shadow);position:absolute}.ag-panel-title-bar{align-items:center;background-color:var(--ag-panel-title-bar-background-color);border-bottom:var(--ag-panel-title-bar-border);color:var(--ag-header-text-color);cursor:default;display:flex;flex:none;height:var(--ag-header-height);padding:var(--ag-spacing) var(--ag-cell-horizontal-padding)}.ag-ltr .ag-panel-title-bar-button{margin-left:calc(var(--ag-spacing)*2);margin-right:var(--ag-spacing)}.ag-rtl .ag-panel-title-bar-button{margin-left:var(--ag-spacing);margin-right:calc(var(--ag-spacing)*2)}.ag-panel-title-bar-title{color:var(--ag-header-text-color);flex:1 1 auto;font-weight:500}.ag-panel-title-bar-buttons{display:flex}.ag-panel-title-bar-button{cursor:pointer}.ag-panel-content-wrapper{display:flex;flex:1 1 auto;overflow:hidden;position:relative}.ag-resizer{pointer-events:none;position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;z-index:1;&.ag-resizer-topLeft{height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}.ag-ltr .ag-resizer{&.ag-resizer-topLeft{cursor:nwse-resize}&.ag-resizer-topRight{cursor:nesw-resize}&.ag-resizer-bottomRight{cursor:nwse-resize}&.ag-resizer-bottomLeft{cursor:nesw-resize}}.ag-rtl .ag-resizer{&.ag-resizer-topLeft{cursor:nesw-resize}&.ag-resizer-topRight{cursor:nwse-resize}&.ag-resizer-bottomRight{cursor:nesw-resize}&.ag-resizer-bottomLeft{cursor:nwse-resize}}.ag-dragging-fill-handle .ag-dialog,.ag-dragging-range-handle .ag-dialog{opacity:.7;pointer-events:none}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}.ag-select{align-items:center;display:flex;flex-direction:row;.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}&.ag-disabled{opacity:.5}}.ag-ltr .ag-select{.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}.ag-rtl .ag-select{.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}.ag-rich-select{cursor:default;height:100%}.ag-rich-select-value{align-items:center;background-color:var(--ag-input-background-color);display:flex;height:100%;padding:var(--ag-spacing);.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;&.ag-display-as-placeholder{opacity:.5}}}.ag-rich-select-list{background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);box-shadow:var(--ag-dropdown-shadow);height:auto;position:relative;width:100%;.ag-loading-text{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}}.ag-rich-select-row{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;padding:0 var(--ag-spacing);white-space:nowrap}.ag-rich-select-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-rich-select-row-highlighted,.ag-rich-select-row:hover{background-image:linear-gradient(var(--ag-row-hover-color),var(--ag-row-hover-color))}.ag-rich-select-row-text-highlight{font-weight:700}.ag-rich-select-field-input{flex:1 1 auto;.ag-input-field-input{border:none!important;box-shadow:none!important;padding:0!important;text-overflow:ellipsis;&::-moz-placeholder{opacity:.8}&::placeholder{opacity:.8}}}.ag-ltr .ag-rich-select-field-input{left:var(--ag-spacing)}.ag-rtl .ag-rich-select-field-input{right:var(--ag-spacing)}.ag-popup-editor .ag-rich-select-value{height:var(--ag-row-height);min-width:200px}.ag-rich-select-virtual-list-item{cursor:default;height:var(--ag-list-item-height)}.ag-pill-container{display:flex;flex-wrap:nowrap;gap:.25rem}.ag-pill{align-items:center;background:var(--ag-select-cell-background-color);border:var(--ag-select-cell-border);border-radius:var(--ag-border-radius);display:flex;padding:0 .25rem;white-space:nowrap;&:focus-visible{box-shadow:var(--ag-focus-shadow)}}.ag-pill .ag-pill-button{border:none;padding:0;&:hover{color:var(--ag-accent-color);cursor:pointer}}.ag-ltr .ag-pill .ag-pill-button{margin-left:var(--ag-spacing)}.ag-rtl .ag-pill .ag-pill-button{margin-right:var(--ag-spacing)}ag-grid,ag-grid-angular{display:block}.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-tool-panel-wrapper{cursor:default;display:flex;overflow-x:hidden;overflow-y:auto;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-side-bar-panel-width)}.ag-select-agg-func-item{align-items:center;display:flex;flex:1 1 auto;flex-direction:row;flex-wrap:nowrap;height:100%;overflow:hidden;position:relative;text-overflow:ellipsis;white-space:nowrap;>*{flex:none}}.ag-tool-panel-horizontal-resize{cursor:ew-resize;height:100%;position:absolute;top:0;width:5px;z-index:1}.ag-ltr .ag-side-bar-left .ag-tool-panel-horizontal-resize{right:-3px}.ag-ltr .ag-side-bar-right .ag-tool-panel-horizontal-resize,.ag-rtl .ag-side-bar-left .ag-tool-panel-horizontal-resize{left:-3px}.ag-rtl .ag-side-bar-right .ag-tool-panel-horizontal-resize{right:-3px}.ag-side-bar{background-color:var(--ag-side-bar-background-color);display:flex;flex-direction:row-reverse;position:relative}.ag-side-bar-left{flex-direction:row;order:-1}.ag-side-buttons{position:relative;width:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-side-button{&.ag-selected{background-color:var(--ag-background-color);border-bottom:1px solid var(--ag-border-color);&:not(:first-of-type){border-top:1px solid var(--ag-border-color)}}}.ag-side-button-button{align-items:center;cursor:pointer;display:flex;flex-direction:column;gap:var(--ag-spacing);padding:calc(var(--ag-spacing)*3) 0;position:relative;white-space:nowrap;width:100%;&:focus{box-shadow:none}}.ag-side-button-button:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-side-button-label{writing-mode:vertical-lr}@media (max-resolution:1.5x){.ag-side-button-label{font-family:"Segoe UI",var(--ag-font-family)}.ag-ltr .ag-side-button-label{transform:rotate(.05deg)}.ag-rtl .ag-side-button-label{transform:rotate(-.05deg)}}.ag-ltr .ag-side-bar-left,.ag-rtl .ag-side-bar-right{border-right:var(--ag-side-panel-border);.ag-tool-panel-wrapper{border-left:var(--ag-side-panel-border)}}.ag-ltr .ag-side-bar-right,.ag-rtl .ag-side-bar-left{border-left:var(--ag-side-panel-border);.ag-tool-panel-wrapper{border-right:var(--ag-side-panel-border)}}.ag-ltr .ag-chart-menu-panel{border-left:var(--ag-side-panel-border)}.ag-rtl .ag-chart-menu-panel{border-right:var(--ag-side-panel-border)}.ag-button{border-radius:0}.ag-standard-button{-moz-appearance:none;appearance:none;-webkit-appearance:none;background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);cursor:pointer;font-family:inherit;padding:var(--ag-spacing) calc(var(--ag-spacing)*2);&:hover{background-color:var(--ag-row-hover-color)}&:active{border-color:var(--ag-accent-color)}&:disabled{background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}}:where(input[class^=ag-][type=button],button[class^=ag-]):focus-visible{box-shadow:var(--ag-focus-shadow)}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow-x:hidden;overflow-y:auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;& span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}.ag-ltr .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}.ag-rtl .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}.ag-range-field{align-items:center;display:flex;.ag-input-wrapper{height:100%}}& input[class^=ag-][type=range]{-webkit-appearance:none;background:none;height:100%;overflow:visible;padding:0;width:100%;&::-webkit-slider-runnable-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-moz-range-track{background-color:var(--ag-border-color);border-radius:1.5px;height:3px;margin:0;padding:0;width:100%}&::-webkit-slider-thumb{-webkit-appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&::-moz-ag-range-thumb{-webkit-appearance:none;background-color:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:100%;height:var(--ag-icon-size);margin:0;padding:0;transform:translateY(calc(var(--ag-icon-size)*-.5 + 1.5px));width:var(--ag-icon-size)}&:focus{&::-webkit-slider-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}&::-moz-ag-range-thumb{border-color:var(--ag-accent-color);box-shadow:var(--ag-focus-shadow)}}&:active{&::-webkit-slider-runnable-track{background-color:var(--ag-accent-color)}&::-moz-ag-range-track{background-color:var(--ag-accent-color)}}&:disabled{opacity:.5}}.ag-toggle-button{flex:none;min-width:unset;width:unset}.ag-toggle-button-input-wrapper{background-color:var(--ag-toggle-button-off-background-color);border:solid var(--ag-toggle-button-border-width) var(--ag-toggle-button-off-border-color);border-radius:calc(var(--ag-toggle-button-height)*.5);flex:none;height:var(--ag-toggle-button-height);max-width:var(--ag-toggle-button-width);min-width:var(--ag-toggle-button-width);position:relative;& input{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;opacity:0;width:100%}&:before{background-color:var(--ag-toggle-button-switch-background-color);border:var(--ag-toggle-button-border-width) solid var(--ag-toggle-button-switch-border-color);border-radius:100%;content:"";display:block;height:var(--ag-toggle-button-height);pointer-events:none;position:absolute;top:calc(0px - var(--ag-toggle-button-border-width));width:var(--ag-toggle-button-height)}&.ag-checked{background-color:var(--ag-toggle-button-on-background-color);border-color:var(--ag-toggle-button-on-border-color);&:before{border-color:var(--ag-toggle-button-on-border-color)}}&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{opacity:.5}}.ag-ltr .ag-toggle-button-input-wrapper{&:before{left:calc(0px - var(--ag-toggle-button-border-width));transition:left .1s}&.ag-checked{&:before{left:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width))}}}.ag-rtl .ag-toggle-button-input-wrapper{&:before{right:calc(0px - var(--ag-toggle-button-border-width));transition:right .1s}&.ag-checked{&:before{right:calc(100% - var(--ag-toggle-button-height) + var(--ag-toggle-button-border-width))}}}.ag-autocomplete{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}}.ag-autocomplete-list-popup{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-autocomplete-list{height:calc(var(--ag-row-height)*6.5);min-width:200px;position:relative;width:100%}.ag-autocomplete-virtual-list-item{cursor:default;display:flex;height:var(--ag-list-item-height);&:focus-visible:after{content:none}&:hover{background-color:var(--ag-row-hover-color)}}.ag-autocomplete-row{align-items:center;display:flex;flex:1 1 auto;overflow:hidden}.ag-autocomplete-row-label{margin:0 var(--ag-widget-container-horizontal-padding);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-autocomplete-row-selected{background-color:var(--ag-selected-row-background-color)}.ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:not(.ag-tooltip-interactive),.ag-tooltip:not(.ag-tooltip-interactive){pointer-events:none}.ag-tooltip-custom.ag-tooltip-animate,.ag-tooltip.ag-tooltip-animate{transition:opacity 1s;&.ag-tooltip-hiding{opacity:0}}.ag-angle-select{align-items:center;display:flex}.ag-angle-select-wrapper{display:flex}.ag-angle-select-parent-circle{display:block;position:relative}.ag-angle-select-child-circle{position:absolute}.ag-slider-wrapper{display:flex;.ag-input-field{flex:1 1 auto}}.ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-color-panel{display:flex;flex-direction:column;text-align:center;width:100%}.ag-spectrum-color{cursor:default;flex:1 1 auto;overflow:visible;position:relative}.ag-spectrum-fill{inset:0;position:absolute}.ag-spectrum-val{cursor:pointer}.ag-spectrum-dragger{cursor:pointer;pointer-events:none;position:absolute}.ag-spectrum-alpha,.ag-spectrum-hue{cursor:default}.ag-spectrum-hue-background{background:linear-gradient(270deg,red 3%,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red);height:100%;width:100%}.ag-spectrum-alpha-background{background:linear-gradient(to right,var(--ag-internal-spectrum-alpha-color-from),var(--ag-internal-spectrum-alpha-color-to)),url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="4"><rect x="0" y="0" width="4" height="4" fill="%23fff"/><path d="M0 0H2V4H4V2H0Z" fill="%23b2b2b2"/></svg>') 0 0 /4px 4px;height:100%;width:100%}.ag-spectrum-tool{cursor:pointer;position:relative}.ag-spectrum-slider{pointer-events:none;position:absolute}.ag-spectrum-alpha .ag-spectrum-slider{background:linear-gradient(to bottom,var(--ag-internal-spectrum-alpha-color),var(--ag-internal-spectrum-alpha-color)) var(--ag-background-color)}.ag-recent-colors{display:flex;gap:6px;margin-top:10px}.ag-recent-color{cursor:pointer}.ag-angle-select[disabled]{opacity:.5;pointer-events:none}.ag-ltr .ag-angle-select-field,.ag-ltr .ag-slider-field{margin-right:calc(var(--ag-spacing)*2)}.ag-rtl .ag-angle-select-field,.ag-rtl .ag-slider-field{margin-left:calc(var(--ag-spacing)*2)}.ag-angle-select-parent-circle{background-color:var(--ag-background-color);border:1px solid;border-color:var(--ag-border-color);border-radius:12px;height:24px;width:24px}.ag-angle-select-child-circle{background-color:var(--ag-foreground-color);border-radius:3px;height:6px;left:12px;margin-left:-3px;margin-top:-4px;top:4px;width:6px}.ag-picker-field-wrapper{background-color:var(--ag-background-color);border:var(--ag-input-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{border:var(--ag-input-focus-border);box-shadow:var(--ag-focus-shadow)}}.ag-picker-field-button{background-color:var(--ag-background-color)}.ag-dialog.ag-color-dialog{border-radius:5px}.ag-color-picker{.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:var(--ag-spacing)}.ag-picker-field-display{align-items:center;display:flex;flex-direction:row;min-height:var(--ag-list-item-height)}}.ag-ltr .ag-color-picker-color,.ag-ltr .ag-color-picker-value{margin-right:var(--ag-spacing)}.ag-rtl .ag-color-picker-color,.ag-rtl .ag-color-picker-value{margin-left:var(--ag-spacing)}.ag-color-panel{padding:var(--ag-spacing)}.ag-spectrum-tools{padding-bottom:0;padding-left:0;padding-right:0}.ag-spectrum-tool{height:12px}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:12px}.ag-spectrum-slider{border:3px solid #f8f8f8;border-radius:18px;height:18px;margin-top:-15px;width:18px}.ag-recent-colors{margin-bottom:2px;margin-left:var(--ag-spacing);margin-right:var(--ag-spacing)}.ag-color-input-color,.ag-color-picker-color,.ag-recent-color{border-radius:4px}.ag-recent-color{border:1px solid var(--ag-border-color)}.ag-spectrum-sat{background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0))}.ag-spectrum-val{background-image:linear-gradient(0deg,#000,hsla(20,42%,65%,0))}.ag-spectrum-dragger{background:#000;border:3px solid #fff;border-radius:18px;box-shadow:0 0 2px 0 rgba(0,0,0,.24);height:18px;width:18px}.ag-spectrum-alpha-background,.ag-spectrum-hue-background{border-radius:2px}.ag-spectrum-tool{border-radius:2px;height:11px;margin-bottom:10px}.ag-spectrum-slider{border:2px solid #fff;border-radius:13px;box-shadow:0 1px 4px 0 rgba(0,0,0,.37);height:13px;margin-top:-12px;width:13px}.ag-recent-color,.ag-spectrum-color,.ag-spectrum-slider{&:focus-visible:not(:disabled):not([readonly]){box-shadow:var(--ag-focus-shadow)}}.ag-color-input{.ag-color-input-color{position:absolute}}.ag-ltr .ag-color-input{& input[class^=ag-][type=text].ag-input-field-input{padding-left:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-left:var(--ag-spacing)}}.ag-rtl .ag-color-input{& input[class^=ag-][type=text].ag-input-field-input{padding-right:calc(var(--ag-icon-size) + var(--ag-spacing)*2)}.ag-color-input-color{margin-right:var(--ag-spacing)}}.ag-color-input-color,.ag-color-picker-color{border:1px solid var(--ag-border-color);border-radius:2px;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-pill-select{.ag-picker-field-display{font-weight:500}.ag-picker-field-display,.ag-picker-field-icon .ag-icon{color:var(--ag-chart-menu-label-color)}}.ag-filter-toolpanel{flex:1 1 0px;min-width:0}.ag-filter-toolpanel-header{position:relative}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{align-items:center;display:flex;>*{align-items:center;display:flex}}.ag-filter-toolpanel-header{height:calc(var(--ag-spacing)*6);&:focus-visible{border-radius:var(--ag-border-radius);box-shadow:inset var(--ag-focus-shadow)}}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{padding:0 var(--ag-spacing)}.ag-filter-toolpanel-group:not(.ag-has-filter)>.ag-group-title-bar .ag-filter-toolpanel-group-instance-header-icon{display:none}.ag-filter-toolpanel-group-level-0-header{height:calc(var(--ag-spacing)*8)}.ag-filter-toolpanel-group-item{margin-bottom:calc(var(--ag-spacing)*.5);margin-top:calc(var(--ag-spacing)*.5)}.ag-filter-toolpanel-search{margin-bottom:var(--ag-spacing);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-toolpanel-search-input{flex-grow:1;height:calc(var(--ag-spacing)*4)}.ag-ltr .ag-filter-toolpanel-group-title-bar-icon{margin-right:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-group-title-bar-icon{margin-left:var(--ag-spacing)}.ag-filter-toolpanel-expand{cursor:pointer}.ag-ltr .ag-filter-toolpanel-expand{margin-right:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-expand{margin-left:var(--ag-spacing)}.ag-ltr .ag-filter-toolpanel-group-title-bar,.ag-ltr .ag-filter-toolpanel-instance-header{padding-left:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}.ag-rtl .ag-filter-toolpanel-group-title-bar,.ag-rtl .ag-filter-toolpanel-instance-header{padding-right:calc(var(--ag-spacing) + var(--ag-filter-tool-panel-group-indent)*var(--ag-indentation-level))}.ag-ltr .ag-filter-toolpanel-instance-body{margin-left:var(--ag-filter-tool-panel-group-indent)}.ag-rtl .ag-filter-toolpanel-instance-body{margin-right:var(--ag-filter-tool-panel-group-indent)}.ag-ltr .ag-filter-toolpanel-group-instance-header-icon,.ag-ltr .ag-filter-toolpanel-instance-header-icon{margin-left:var(--ag-spacing)}.ag-rtl .ag-filter-toolpanel-group-instance-header-icon,.ag-rtl .ag-filter-toolpanel-instance-header-icon{margin-right:var(--ag-spacing)}.ag-filter-toolpanel-instance-filter{background-color:var(--ag-chrome-background-color)}.ag-filter-toolpanel-group-level-0{border-top:none}.ag-filter-toolpanel-header{height:auto;padding-bottom:var(--ag-spacing);padding-top:var(--ag-spacing)}.ag-filter-toolpanel-group-item{margin:0}.ag-filter-toolpanel-header,.ag-filter-toolpanel-search{color:var(--ag-header-text-color);font-weight:500}.ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}.ag-paging-page-size .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&:focus-visible{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}.ag-status-bar{border-top:var(--ag-footer-row-border);display:flex;justify-content:space-between;line-height:1.5;overflow:hidden;padding-left:calc(var(--ag-spacing)*4);padding-right:calc(var(--ag-spacing)*4)}.ag-status-panel{display:inline-flex}.ag-status-name-value{white-space:nowrap}.ag-status-bar-center,.ag-status-bar-left,.ag-status-bar-right{display:inline-flex}.ag-status-bar-center{text-align:center}.ag-status-name-value{margin-left:var(--ag-spacing);margin-right:var(--ag-spacing);padding-bottom:var(--ag-widget-container-vertical-padding);padding-top:var(--ag-widget-container-vertical-padding)}.ag-status-name-value-value{font-weight:500}.ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}.ag-icon{display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}}.ag-column-select-column-readonly .ag-icon-grip,.ag-column-select-column-readonly.ag-icon-grip{opacity:.35}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-contracted .ag-icon,.ag-group-expanded .ag-icon,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons{&:hover{background-color:var(--ag-icon-button-hover-color);border-radius:1px;box-shadow:0 0 0 4px var(--ag-icon-button-hover-color)}}.ag-filter-active{--ag-icon-button-hover-color:color-mix(in srgb,transparent,var(--ag-accent-color) 28%);background-color:color-mix(in srgb,transparent,var(--ag-accent-color) 14%);border-radius:1px;box-shadow:0 0 0 4px color-mix(in srgb,transparent,var(--ag-accent-color) 14%);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}.ag-icon-filter{clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z")}}.ag-ltr .ag-filter-active{&:after{right:-1px}}.ag-rtl .ag-filter-active{&:after{left:-1px}}.ag-label-align-right{.ag-label{order:1}>*{flex:none}}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-label{white-space:nowrap}.ag-ltr .ag-label{margin-right:var(--ag-spacing)}.ag-rtl .ag-label{margin-left:var(--ag-spacing)}.ag-label-align-top .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}.ag-ltr .ag-label-align-right .ag-label{margin-left:var(--ag-spacing)}.ag-rtl .ag-label-align-right .ag-label{margin-right:var(--ag-spacing)}`,coreDefaults={backgroundColor:"#FFF",foregroundColor:"#181d1f",textColor:{ref:"foregroundColor"},accentColor:"#2196f3",invalidColor:"#e02525",borderColor:{ref:"foregroundColor",mix:.15},wrapperBorder:!0,rowBorder:!0,browserColorScheme:"light",headerRowBorder:{ref:"rowBorder"},footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],chromeBackgroundColor:{ref:"foregroundColor",mix:.02,onto:"backgroundColor"},headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"backgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:{ref:"accentColor"},rangeSelectionBackgroundColor:{ref:"accentColor",mix:.2},rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:{ref:"accentColor",mix:.5},rowHoverColor:{ref:"accentColor",mix:.08},columnHoverColor:{ref:"accentColor",mix:.05},selectedRowBackgroundColor:{ref:"accentColor",mix:.12},modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:{ref:"backgroundColor"},borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:{radius:16,color:"#00000026"},dropdownShadow:{radius:4,spread:1,offsetY:1,color:"#babfc766"},dragAndDropImageBackgroundColor:{ref:"backgroundColor"},dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:{ref:"foregroundColor",mix:.7},focusShadow:{spread:3,color:{ref:"accentColor",mix:.5}},sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"iconSize + widgetVerticalSpacing"},iconSize:16,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonBorderWidth:2,toggleButtonOnBorderColor:{ref:"accentColor"},toggleButtonOnBackgroundColor:{ref:"accentColor"},toggleButtonOffBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},toggleButtonOffBackgroundColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},toggleButtonSwitchBorderColor:{ref:"toggleButtonOffBorderColor"},toggleButtonSwitchBackgroundColor:{ref:"backgroundColor"},menuBorder:{color:{ref:"foregroundColor",mix:.2}},menuBackgroundColor:{ref:"foregroundColor",mix:.03,onto:"backgroundColor"},menuTextColor:{ref:"foregroundColor",mix:.95,onto:"backgroundColor"},menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:{ref:"foregroundColor",mix:.8},iconButtonHoverColor:{ref:"foregroundColor",mix:.1},dialogShadow:{ref:"popupShadow"},dialogBorder:{color:{ref:"foregroundColor",mix:.2}},panelBackgroundColor:{ref:"backgroundColor"},panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:{ref:"foregroundColor",mix:.07},columnDropCellBorder:{color:{ref:"foregroundColor",mix:.13}},selectCellBackgroundColor:{ref:"foregroundColor",mix:.07},selectCellBorder:{color:{ref:"foregroundColor",mix:.13}},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",filterToolPanelGroupIndent:{ref:"spacing"},iconButtonHoverBackgroundColor:{ref:"foregroundColor",mix:.1},rowLoadingSkeletonEffectColor:"rgba(66, 66, 66, 0.2)"},kebabCase=e=>e.replace(/[A-Z]/g,o=>`-${o}`).toLowerCase(),paramToVariableName=e=>`--ag-${kebabCase(e)}`,paramToVariableExpression=e=>`var(${paramToVariableName(e)})`,clamp=(e,o,a)=>Math.max(o,Math.min(a,e)),memoize=e=>{const o=new Map;return a=>{const c=a;return o.has(c)||o.set(c,e(a)),o.get(c)}},getParamType=memoize(e=>{if(/Color$/.test(e))return"color";if(/Scale?$/.test(e))return"scale";if(e==="spacing"||/(Padding|Spacing|Size|Width|Height|Radius|Indent|Start|End|Top|Bottom|Horizontal|Vertical)$/.test(e))return"length";if(/Border$/.test(e))return"border";if(/BorderStyle$/.test(e))return"borderStyle";if(/Shadow$/.test(e))return"shadow";if(/Image$/.test(e))return"image";if(/Family$/.test(e))return"fontFamily";if(/Weight$/.test(e))return"fontWeight";if(/Duration$/.test(e))return"duration";if(/ColorScheme$/.test(e))return"colorScheme";throw new Error(`"${e}" is not a valid theme parameter.`)}),literalToCSS=e=>typeof e=="string"?e:typeof e=="number"?String(e):!1,colorValueToCss=e=>{if(typeof e=="string")return e;if("ref"in e){const o=paramToVariableExpression(e.ref);return e.mix==null?o:`color-mix(in srgb, ${e.onto?"var(--ag-background-color)":"transparent"}, ${o} ${clamp(e.mix*100,0,100)}%)`}return!1},colorSchemeValueToCss=literalToCSS,lengthValueToCss=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?[a-z][a-z0-9]*\b(?![-(])/gi,a=>a[0]==="-"?a:` ${paramToVariableExpression(a)} `)})`:"ref"in e?paramToVariableExpression(e.ref):!1,scaleValueToCss=literalToCSS,borderValueToCss=(e,o)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?o==="columnBorder"?"solid 1px transparent":"none":"ref"in e?paramToVariableExpression(e.ref):borderStyleValueToCss(e.style??"solid")+" "+lengthValueToCss(e.width??1)+" "+colorValueToCss(e.color??{ref:"borderColor"}),shadowValueToCss=e=>typeof e=="string"?e:e===!1?"none":"ref"in e?paramToVariableExpression(e.ref):[lengthValueToCss(e.offsetX??0),lengthValueToCss(e.offsetY??0),lengthValueToCss(e.radius??0),lengthValueToCss(e.spread??0),colorValueToCss(e.color??{ref:"foregroundColor"})].join(" "),borderStyleValueToCss=literalToCSS,fontFamilyValueToCss=e=>typeof e=="string"?e:"googleFont"in e?fontFamilyValueToCss(e.googleFont):"ref"in e?paramToVariableExpression(e.ref):Array.isArray(e)?e.map(o=>(typeof o=="object"&&"googleFont"in o&&(o=o.googleFont),/^[\w-]+$/.test(o)?o:JSON.stringify(o))).join(", "):!1,fontWeightValueToCss=literalToCSS,imageValueToCss=e=>typeof e=="string"?e:"url"in e?`url(${JSON.stringify(e.url)})`:"svg"in e?imageValueToCss({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):"ref"in e?paramToVariableExpression(e.ref):!1,durationValueToCss=(e,o)=>typeof e=="string"?e:typeof e=="number"?(e>50&&_errorOnce(`Numeric value ${e} passed to ${o} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`),`${e}s`):"ref"in e?paramToVariableExpression(e.ref):!1,paramValidators={color:colorValueToCss,colorScheme:colorSchemeValueToCss,length:lengthValueToCss,scale:scaleValueToCss,border:borderValueToCss,borderStyle:borderStyleValueToCss,shadow:shadowValueToCss,image:imageValueToCss,fontFamily:fontFamilyValueToCss,fontWeight:fontWeightValueToCss,duration:durationValueToCss},paramValueToCss=(e,o)=>{const a=getParamType(e);return paramValidators[a](o,e)},customThemeCounter=0,createTheme=(e=`customTheme${++customThemeCounter}`)=>new ThemeImpl(e,[],{}),IS_SSR=typeof window!="object"||!window||typeof document!="object"||window.document!==document,themeClassCounter=0,uninstalledLegacyCSS=!1,ThemeImpl=class zC{constructor(o,a=[],c={}){this.id=o,this.dependencies=a,this.defaults=c,this.useCount=0}withPart(o){return typeof o=="function"&&(o=o()),new zC(this.id,this.dependencies.concat(o),this.defaults)}withParams(o){const a={...this.defaults};for(const[c,d]of Object.entries(o))d!=null&&(a[c]=d);return new zC(this.id,this.dependencies,a)}getCSS(){return[coreCSS,...this._getCSSChunks().map(o=>o.css)].join(`

`)}startUse(o){++this.useCount,this.useCount===1&&this._install(o)}stopUse(){--this.useCount,this.useCount===0&&setTimeout(()=>{this.useCount===0&&uninstallThemeCSS(this.getCssClass(),this._installRoot)},1e3)}getCssClass(){return this._cssClass==null&&(this._cssClass=`ag-theme-${++themeClassCounter}`),this._cssClass}getParams(){if(this._getParamsCache)return this._getParamsCache;const o={...coreDefaults};for(const a of this._getFlatUnits())for(const[c,d]of Object.entries(a.defaults)){const g=d??coreDefaults[c];g!=null&&(o[c]=g)}return this._getParamsCache=o}async _install({container:o,loadThemeGoogleFonts:a}){if(IS_SSR)return;uninstalledLegacyCSS||(uninstalledLegacyCSS=!0,uninstallThemeCSS("legacy",document.head),getComputedStyle(document.body).getPropertyValue("--ag-legacy-styles-loaded")&&_errorOnce("both Theming API and the ag-grid.css are used on the same page, styling will be incorrect"));let c=o.getRootNode();c instanceof ShadowRoot||(c=document.head),this._installRoot=c;const d=[];d.push(installCSS({css:coreCSS,part:"core",root:c}));for(const g of getGoogleFontsUsed(this))a?loadGoogleFont(g):a==null&&_warnOnce(`theme uses google font ${g} but no value for loadThemeGoogleFonts was provided. Pass true to load fonts from ${googleFontsDomain} or false to silence this warning.`);for(const g of this._getCSSChunks())installCSS({css:g.css,part:g.id,scope:this.getCssClass(),root:c});return Promise.all(d)}_getFlatUnits(){if(this._getFlatUnitsCache)return this._getFlatUnitsCache;const o={};for(const c of this.dependencies)delete o[c.feature],o[c.feature]=c;const a=[...Object.values(o),this];return this._getFlatUnitsCache=a}_getCSSChunks(){if(this._getCssChunksCache)return this._getCssChunksCache;const o=[];o.push(makeVariablesChunk(this));for(const a of this._getFlatUnits())if(a.css&&a.css.length>0){let c=`/* Part ${a.id} */`;c+=a.css.map(d=>typeof d=="function"?d():d).join(`
`)+`
`,c=`.${this.getCssClass()} {
	${c}
}`,o.push({css:c,id:a.id})}return this._getCssChunksCache=o}},makeVariablesChunk=e=>{let o="",a="";for(const[g,b]of Object.entries(e.getParams())){const _=paramValueToCss(g,b);if(_===!1)_errorOnce(`Invalid value for param ${g} - ${describeValue(b)}`);else{const $=paramToVariableName(g),j=$.replace("--ag-","--ag-inherited-");o+=`	${$}: var(${j}, ${_});
`,a+=`	${j}: var(${$});
`}}const c=`:where(.${e.getCssClass()})`;let d=`${c} {
${o}}
`;return d+=`:has(> ${c}):not(${c}) {
${a}}
`,{css:d,id:"variables"}},getGoogleFontsUsed=e=>Array.from(new Set(Object.values(e.getParams()).flat().map(o=>o==null?void 0:o.googleFont).filter(o=>typeof o=="string"))).sort(),installCSS=async({root:e,part:o,scope:a,css:c})=>{let d=`:scope > style[data-ag-part="${o}"]`;a&&(d+=`[data-ag-scope="${a}"]`);let g=e.querySelector(d);if(!g){g=document.createElement("style"),g.dataset.agPart=o,a&&(g.dataset.agScope=a);const b=e.querySelectorAll(":scope > style[data-ag-part]"),_=b[b.length-1];_?_.insertAdjacentElement("afterend",g):e.firstElementChild?e.firstElementChild.insertAdjacentElement("beforebegin",g):e.appendChild(g)}if(g._agTextContent!==c)return g.textContent=c,g._agTextContent=c,resolveOnLoad(g)},uninstallThemeCSS=(e,o)=>{for(const a of Array.from(o.querySelectorAll(`:scope > style[data-ag-scope="${e}"]`)))a.remove()},googleFontsLoaded=new Set,loadGoogleFont=async e=>{if(googleFontsLoaded.has(e))return;googleFontsLoaded.add(e);const o=`@import url('https://${googleFontsDomain}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;return installCSS({css:o,part:`googleFont:${e}`,root:document.head})},googleFontsDomain="fonts.googleapis.com",resolveOnLoad=e=>new Promise(o=>{const a=()=>{e.removeEventListener("load",a),o()};e.addEventListener("load",a)}),describeValue=e=>e==null?String(e):`${typeof e} ${e}`,checkboxStyleDefaultCSS='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);& input{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:100%;opacity:0;width:100%}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&.ag-checked{background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:active,&:focus-within{box-shadow:var(--ag-focus-shadow)}&.ag-disabled{filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&.ag-checked:after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&.ag-indeterminate{background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&.ag-checked:after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',checkboxStyleDefault=createPart("checkboxStyle","default").withAdditionalParams({checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:{ref:"backgroundColor"},checkboxUncheckedBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxCheckedBackgroundColor:{ref:"accentColor"},checkboxCheckedBorderColor:{ref:"accentColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:{ref:"backgroundColor"},checkboxIndeterminateBackgroundColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxIndeterminateBorderColor:{ref:"foregroundColor",mix:.3,onto:"backgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:{ref:"backgroundColor"},radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}}).withCSS(checkboxStyleDefaultCSS),colorSchemeLight=createPart("colorScheme","light"),colorSchemeLightWarm=createPart("colorScheme","lightWarm").withParams({foregroundColor:"#000000de",borderColor:"#60300026",chromeBackgroundColor:"#60300005"}),colorSchemeLightCold=createPart("colorScheme","lightCold").withParams({foregroundColor:"#000",backgroundColor:"#fff",chromeBackgroundColor:"#f3f8f8"}),colorSchemeDark=createPart("colorScheme","dark").withParams({backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.05,onto:"backgroundColor"},browserColorScheme:"dark"}),colorSchemeDarkWarm=createPart("colorScheme","darkWarm").withParams({backgroundColor:"hsl(29, 10%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.05,onto:"backgroundColor"},browserColorScheme:"dark"}),colorSchemeDarkBlue=createPart("colorScheme","darkBlue").withParams({backgroundColor:"#1f2836",foregroundColor:"#FFF",chromeBackgroundColor:{ref:"foregroundColor",mix:.07,onto:"backgroundColor"},browserColorScheme:"dark"}),iconSetAlpineCSS=`.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}.ag-icon-aggregation:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24 6H8v2l8 8-8 8v2h16v-2H11l8-8-8-8h13z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-arrows:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.515 11.171 2.687 16l4.828 4.829-1.414 1.414L-.142 16l6.243-6.243zm16.97 0 1.414-1.414L32.142 16l-6.243 6.243-1.414-1.414L29.313 16zM16.028 13.2l2.829 2.828-2.829 2.829-2.828-2.829zm-4.857 11.285L16 29.313l4.829-4.828 1.414 1.414L16 32.142l-6.243-6.243zm0-16.97L9.757 6.101 16-.142l6.243 6.243-1.414 1.414L16 2.687z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-asc:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cancel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667A13.32 13.32 0 0 0 2.667 16c0 7.373 5.96 13.333 13.333 13.333S29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-chart:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M14 7h4v18h-4zM8 17h4v8H8zM20 13h4v12h-4z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-color-picker:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-columns:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26 25H6V7h20zM12 11H8v12h4zm6 0h-4v12h4zm6 12V11h-4v12z' style='fill-rule:nonzero' transform='translate(0 -1)'/%3E%3C/svg%3E")}.ag-icon-contracted:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m12 6 10 10-10 10-2-2 8-8-8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-cross:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.984 13.894 27.05 2.828l2.122 2.122-11.066 11.066 11.066 11.066-2.122 2.12-11.066-11.066L4.918 29.202l-2.12-2.12 11.066-11.066L2.798 4.95l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-csv:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M13.775 15.198 3.835 2.945a1.501 1.501 0 0 1 2.33-1.89l14.997 18.488A6.003 6.003 0 0 1 29.657 25c0 3.311-2.688 6-6 6s-6-2.689-6-6c0-1.335.437-2.569 1.176-3.566l-3.127-3.855-3.001 3.7A5.97 5.97 0 0 1 14 25c0 3.311-2.689 6-6 6s-6-2.689-6-6a6.003 6.003 0 0 1 8.315-5.536zm9.882 6.702a3.1 3.1 0 0 0-3.1 3.1c0 1.711 1.389 3.1 3.1 3.1s3.1-1.389 3.1-3.1-1.389-3.1-3.1-3.1M8 21.95a3.05 3.05 0 1 0 .001 6.101A3.05 3.05 0 0 0 8 21.95m9.63-11.505 1.932 2.381 8.015-9.881a1.5 1.5 0 0 0-2.329-1.89z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-excel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 26 10 16 20 6l2 2-8 8 8 8z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath fill='%23000' fill-rule='nonzero' d='M8.95 10.364 7 8.414 8.414 7l2.32 2.32A13.2 13.2 0 0 1 16.5 8c5.608 0 10.542 3.515 12.381 8.667L29 17l-.119.333a13 13 0 0 1-4.255 5.879l1.466 1.466-1.414 1.414-1.754-1.753A13.2 13.2 0 0 1 16.5 26c-5.608 0-10.542-3.515-12.381-8.667L4 17l.119-.333a13 13 0 0 1 4.83-6.303m1.445 1.445A11.02 11.02 0 0 0 6.148 17c1.646 4.177 5.728 7 10.352 7 1.76 0 3.441-.409 4.94-1.146l-1.878-1.878A5.06 5.06 0 0 1 16.5 22c-2.789 0-5.05-2.239-5.05-5 0-1.158.398-2.223 1.065-3.07zm1.855-.974 1.794 1.795A5.07 5.07 0 0 1 16.5 12c2.789 0 5.05 2.239 5.05 5 0 .9-.24 1.745-.661 2.474l2.305 2.306A11 11 0 0 0 26.852 17c-1.646-4.177-5.728-7-10.352-7-1.495 0-2.933.295-4.25.835'/%3E%3C/svg%3E")}.ag-icon-eye:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16.5 23c4.624 0 8.706-2.823 10.352-7-1.646-4.177-5.728-7-10.352-7s-8.706 2.823-10.352 7c1.646 4.177 5.728 7 10.352 7M4.119 15.667C5.958 10.515 10.892 7 16.5 7s10.542 3.515 12.381 8.667L29 16l-.119.333C27.042 21.485 22.108 25 16.5 25S5.958 21.485 4.119 16.333L4 16zM16.5 21c2.789 0 5.049-2.239 5.049-5s-2.26-5-5.049-5-5.049 2.239-5.049 5 2.26 5 5.049 5' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-filter:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m28 8-8 8v5l-6 6V16L6 8V6h22zM9 8l7 7v7l2-2v-5l7-7z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-first:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-group:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 7v1H9V7zm0-3v1H5.001V4zm-7 7H5v-1h2zm0-3H5V7h2zM3 5H1V4h2zm11 5v1H9v-1zm-7 4H5v-1h2zm7-1v1H9v-1z' style='fill-rule:nonzero' transform='matrix(2 0 0 2 0 -2)'/%3E%3C/svg%3E")}.ag-icon-last:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-linked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333a6.67 6.67 0 0 0-6.667 6.667 6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133 4.136 4.136 0 0 1-4.133 4.133h-5.333v2.533h5.333a6.67 6.67 0 0 0 6.667-6.667 6.67 6.67 0 0 0-6.667-6.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-loading:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M17 29h-2v-8h2zm-3.586-9L7 26.414 5.586 25 12 18.586zm13 5L25 26.414 18.586 20 20 18.586zM29 17h-8v-2h8zm-18 0H3v-2h8zm2.414-5L12 13.414 5.586 7 7 5.586zm13-5L20 13.414 18.586 12 25 5.586zM17 11h-2V3h2z' style='fill-rule:nonzero' transform='translate(-3.692 -3.692)scale(1.23077)'/%3E%3C/svg%3E")}.ag-icon-maximize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M14 30H2V18h2.828v7.05l8.254-8.252 2.12 2.12-8.252 8.254H14zm4-28h12v12h-2.828V6.95l-8.254 8.252-2.12-2.12 8.252-8.254H18z'/%3E%3C/svg%3E")}.ag-icon-menu:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M20 13H0v-2h20zm0-6H0V5h20zm0-6H0v-2h20z' style='fill-rule:nonzero' transform='translate(6 9)'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 19a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6M16 27a3 3 0 1 0 0-6 3 3 0 0 0 0 6'/%3E%3C/svg%3E")}.ag-icon-minimize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M2 18h12v12h-2.828v-7.05l-8.254 8.252-2.12-2.12 8.252-8.254H2zm28-4H18V2h2.828v7.05L29.082.798l2.12 2.12-8.252 8.254H30z'/%3E%3C/svg%3E")}.ag-icon-minus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.94 6 9.06 7.88 17.167 16 9.06 24.12 10.94 26l10-10z' style='fill-rule:nonzero' transform='translate(1)'/%3E%3C/svg%3E")}.ag-icon-none:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cg fill='%23000' fill-rule='nonzero'%3E%3Cpath d='M23.708 14.645 16 6.939l-7.708 7.706 1.416 1.416L16 9.767l6.292 6.294zM23.708 20.355 16 28.061l-7.708-7.706 1.416-1.416L16 25.233l6.292-6.294z'/%3E%3C/g%3E%3C/svg%3E")}.ag-icon-not-allowed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-paste:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.334 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4M16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pin:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m10.78 19.777-4.668-4.666s.032-1 .67-1.87c1.366-1.86 4.052-1.96 6.056-1.572l3.158-3.108c-.7-2.342 3.352-5.046 3.352-5.046l9.166 9.168q-.334.447-.67.894c-1.074 1.426-2.538 2.63-4.272 2.338l-3.32 3.218c.046.344.042.03.118 1.152.144 2.13-.64 4.324-2.632 5.34l-.746.364-4.798-4.798-7.292 7.294-1.416-1.416zm8.24-13.672c-.688.568-1.416 1.45-1.024 2.072l.49.722-4.986 4.988c-1.988-.506-4.346-.636-5.156.614l9.02 9.032q.14-.099.272-.21c1.226-1.08.764-3.04.498-4.9l4.79-4.79s1.47.938 2.936-.776l-6.79-6.79q-.026.019-.05.038' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-pivot:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M25.128 2.002c2.56.096 4.772 2.292 4.87 4.87a712 712 0 0 1 0 18.256c-.096 2.56-2.292 4.772-4.87 4.87a712 712 0 0 1-18.256 0c-2.558-.096-4.772-2.29-4.87-4.87a712 712 0 0 1 0-18.256c.096-2.56 2.292-4.772 4.87-4.87a712 712 0 0 1 18.256 0m2.966 7.954H9.892v18.136c5.086.13 10.18.098 15.264-.096 1.48-.094 2.746-1.35 2.84-2.84.192-5.064.226-10.134.098-15.2M3.968 24.1q.015.528.036 1.056c.094 1.484 1.354 2.746 2.84 2.84l1.012.036V24.1zM22 15.414l-.292.294-1.416-1.416L23 11.586l2.708 2.706-1.416 1.416-.292-.294v3.592c-.032 2.604-2.246 4.892-4.872 4.992L15.414 24l.294.292-1.416 1.416L11.586 23l2.706-2.708 1.416 1.416-.322.32c3.372.03 6.578-.164 6.614-3.034zM3.88 18.038c.002 1.346.012 2.694.038 4.04h3.938v-4.04zm.05-6.062a681 681 0 0 0-.044 4.042h3.97v-4.042zm5.962-7.99Q8.449 3.999 7.006 4c-1.57.02-2.946 1.348-3.004 2.922q-.02 1.517-.042 3.034h3.896v-2.02h2.036zm14.244-.016v3.966h3.898q-.017-.546-.038-1.092c-.094-1.48-1.35-2.746-2.84-2.84q-.51-.019-1.02-.034m-8.14-.054q-2.035.022-4.07.048v3.972h4.07zm6.106.008a213 213 0 0 0-4.07-.022v4.034h4.07z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-plus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.94 7.88 20.06 6l-10 10 10 10 1.88-1.88L13.833 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-save:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M15.708 2.355 8 10.061.292 2.355 1.708.939 8 7.233 14.292.939z' style='fill-rule:nonzero' transform='translate(8 14)'/%3E%3Cpath d='M5 26h22v2H5zM15 4h2v18h-2z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 10.667 16 21.334l8.667-10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M21.333 7.334 10.666 16l10.667 8.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M10.667 24.666 21.334 16 10.667 7.333z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-small-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M7.334 21.333 16 10.666l8.667 10.667z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tick:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M11.586 22.96 27.718 6.828 29.84 8.95 11.586 27.202 2.4 18.016l2.12-2.122z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m11.94 6-1.88 1.88L18.167 16l-8.107 8.12L11.94 26l10-10z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6 13.5h20v3H6z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M24.12 9.06 16 17.167 7.88 9.06 6 10.94l10 10 10-10z' style='fill-rule:nonzero' transform='translate(0 1)'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333 5.332 16z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-grip:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M8 24H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 18H6v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zm6 0h-2v-4h2zM8 12H6V8h2zm6 0h-2V8h2zm6 0h-2V8h2zm6 0h-2V8h2z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-settings:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,iconSetAlpine=createPart("iconSet","alpine").withCSS(iconSetAlpineCSS),iconSetMaterialCSS=`.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}.ag-icon-aggregation:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eaggregation%3C/title%3E%3Cpath d='M24 5.333H8V8l8.667 8L8 24v2.667h16v-4h-9.333L21.334 16l-6.667-6.667H24z'/%3E%3C/svg%3E")}.ag-icon-arrows:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Earrows%3C/title%3E%3Cpath d='M13.333 11.556h5.333V8h3.556L16 1.778 9.778 8h3.556zm-1.777 1.777H8V9.777l-6.222 6.222L8 22.221v-3.556h3.556zM30.222 16 24 9.778v3.556h-3.556v5.333H24v3.556l6.222-6.222zm-11.555 4.444h-5.333V24H9.778L16 30.222 22.222 24h-3.556z'/%3E%3C/svg%3E")}.ag-icon-asc:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-cancel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecancel%3C/title%3E%3Cpath d='M16 2.667C8.627 2.667 2.667 8.627 2.667 16S8.627 29.333 16 29.333 29.333 23.373 29.333 16 23.373 2.667 16 2.667m6.667 18.12-1.88 1.88L16 17.88l-4.787 4.787-1.88-1.88L14.12 16l-4.787-4.787 1.88-1.88L16 14.12l4.787-4.787 1.88 1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-chart:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Echart%3C/title%3E%3Cpath d='M6.667 12.267h4v13.067h-4zm7.466-5.6h3.733v18.667h-3.733zM21.6 17.333h3.733v8H21.6z'/%3E%3C/svg%3E")}.ag-icon-color-picker:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolor-picker%3C/title%3E%3Cpath d='M23.907 17.587 10.574 4.254l-1.88 1.88 3.173 3.173-8.28 8.28 10.16 10.16zm-16.547 0 6.387-6.387 6.387 6.387H7.361zm18.387 2s-2.667 2.893-2.667 4.667c0 1.467 1.2 2.667 2.667 2.667s2.667-1.2 2.667-2.667c0-1.773-2.667-4.667-2.667-4.667'/%3E%3C/svg%3E")}.ag-icon-columns:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecolumns%3C/title%3E%3Cpath d='M5.333 10.667h5.333V5.334H5.333zm8 16h5.333v-5.333h-5.333zm-8 0h5.333v-5.333H5.333zm0-8h5.333v-5.333H5.333zm8 0h5.333v-5.333h-5.333zm8-13.334v5.333h5.333V5.333zm-8 5.334h5.333V5.334h-5.333zm8 8h5.333v-5.333h-5.333zm0 8h5.333v-5.333h-5.333z'/%3E%3C/svg%3E")}.ag-icon-contracted:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Econtracted%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-copy:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecopy%3C/title%3E%3Cpath d='M22 1.333H6A2.675 2.675 0 0 0 3.333 4v18.667H6V4h16zm4 5.334H11.333a2.675 2.675 0 0 0-2.667 2.667v18.667c0 1.467 1.2 2.667 2.667 2.667H26c1.467 0 2.667-1.2 2.667-2.667V9.334c0-1.467-1.2-2.667-2.667-2.667M26 28H11.333V9.333H26z'/%3E%3C/svg%3E")}.ag-icon-cross:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Ecross%3C/title%3E%3Cpath d='m25.333 8.547-1.88-1.88L16 14.12 8.547 6.667l-1.88 1.88L14.12 16l-7.453 7.453 1.88 1.88L16 17.88l7.453 7.453 1.88-1.88L17.88 16z'/%3E%3C/svg%3E")}.ag-icon-csv:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='M.688-.226a.2.2 0 0 1-.017.074.28.28 0 0 1-.145.14.412.412 0 0 1-.234.013.28.28 0 0 1-.202-.168.468.468 0 0 1-.04-.19q0-.086.025-.155a.319.319 0 0 1 .182-.191.4.4 0 0 1 .134-.025q.087 0 .155.035a.3.3 0 0 1 .104.085.17.17 0 0 1 .036.097.06.06 0 0 1-.018.044.06.06 0 0 1-.042.019.06.06 0 0 1-.042-.013.2.2 0 0 1-.031-.046.2.2 0 0 0-.066-.079.16.16 0 0 0-.095-.027.17.17 0 0 0-.142.068.3.3 0 0 0-.053.193.4.4 0 0 0 .023.139.2.2 0 0 0 .067.083.2.2 0 0 0 .1.027q.063 0 .106-.031a.2.2 0 0 0 .065-.091.2.2 0 0 1 .023-.046q.014-.018.044-.018a.06.06 0 0 1 .044.018.06.06 0 0 1 .019.045' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 7.122 25.977)'/%3E%3Cpath d='M.622-.215a.2.2 0 0 1-.033.117.23.23 0 0 1-.098.081.4.4 0 0 1-.153.029.34.34 0 0 1-.175-.04.23.23 0 0 1-.079-.077.17.17 0 0 1-.031-.093q0-.027.019-.045a.06.06 0 0 1 .046-.019.06.06 0 0 1 .039.014.1.1 0 0 1 .027.044.3.3 0 0 0 .03.057q.015.023.044.038.03.015.076.015.065 0 .105-.03a.09.09 0 0 0 .04-.075.08.08 0 0 0-.022-.058.14.14 0 0 0-.056-.034 1 1 0 0 0-.092-.025.7.7 0 0 1-.129-.042.2.2 0 0 1-.083-.066.17.17 0 0 1-.03-.104q0-.058.032-.105a.2.2 0 0 1 .093-.07.4.4 0 0 1 .144-.025q.066 0 .114.016a.3.3 0 0 1 .08.044.2.2 0 0 1 .046.057q.015.03.015.058a.07.07 0 0 1-.018.046.06.06 0 0 1-.046.021q-.025 0-.038-.012a.2.2 0 0 1-.028-.041.2.2 0 0 0-.047-.063Q.387-.625.326-.625a.15.15 0 0 0-.09.025q-.035.024-.035.059 0 .021.012.037a.1.1 0 0 0 .032.027.4.4 0 0 0 .111.036q.06.015.11.031.048.018.083.042a.2.2 0 0 1 .054.062.2.2 0 0 1 .019.091' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 13.339 25.977)'/%3E%3Cpath d='m.184-.633.162.48.163-.483q.013-.038.019-.053a.062.062 0 0 1 .061-.039q.018 0 .034.009a.1.1 0 0 1 .025.025q.009.015.009.031L.654-.64l-.007.025-.009.024-.173.468-.019.051a.2.2 0 0 1-.021.042.1.1 0 0 1-.033.03.1.1 0 0 1-.049.012.1.1 0 0 1-.05-.011A.1.1 0 0 1 .26-.03a.2.2 0 0 1-.021-.042L.22-.123.05-.587.041-.612.033-.638.03-.662q0-.025.02-.046a.07.07 0 0 1 .05-.02q.037 0 .053.023.015.023.031.072' style='fill-rule:nonzero' transform='matrix(8.39799 0 0 12.455 18.94 25.977)'/%3E%3C/svg%3E")}.ag-icon-cut:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='m19 3-6 6 2 2 7-7V3m-10 9.5a.503.503 0 0 1-.5-.5c0-.274.226-.5.5-.5s.5.226.5.5-.226.5-.5.5M6 20c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2M6 8c-1.097 0-2-.903-2-2a2 2 0 0 1 2-2c1.097 0 2 .903 2 2a2 2 0 0 1-2 2m3.64-.36c.23-.5.36-1.05.36-1.64 0-2.194-1.806-4-4-4S2 3.806 2 6s1.806 4 4 4c.59 0 1.14-.13 1.64-.36L10 12l-2.36 2.36C7.14 14.13 6.59 14 6 14c-2.194 0-4 1.806-4 4s1.806 4 4 4 4-1.806 4-4c0-.59-.13-1.14-.36-1.64L12 14l7 7h3v-1z' style='fill-rule:nonzero' transform='translate(4 4)'/%3E%3C/svg%3E")}.ag-icon-desc:before,.ag-icon-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Edesc%3C/title%3E%3Cpath d='m26.667 16-1.88-1.88-7.453 7.44V5.333h-2.667V21.56l-7.44-7.453L5.334 16l10.667 10.667L26.668 16z'/%3E%3C/svg%3E")}.ag-icon-excel:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M384 131.9c-7.753-8.433-110.425-128.473-114.9-133L48-.1C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48zm-35.9 2.1H257V27.9zM30 479V27h200l1 105c0 13.3-1.3 29 12 29h111l1 318z' style='fill-rule:nonzero' transform='matrix(.06285 0 0 .06285 3.934 -.054)'/%3E%3Cpath d='m.052-.139.16-.234-.135-.208a.4.4 0 0 1-.028-.052.1.1 0 0 1-.01-.042.05.05 0 0 1 .018-.037.07.07 0 0 1 .045-.016q.03 0 .047.018a1 1 0 0 1 .047.066l.107.174.115-.174.024-.038.019-.026.021-.015a.1.1 0 0 1 .027-.005.06.06 0 0 1 .044.016.05.05 0 0 1 .018.039q0 .033-.038.089l-.141.211.152.234a.3.3 0 0 1 .03.051.1.1 0 0 1 .009.038.1.1 0 0 1-.008.031.1.1 0 0 1-.024.023.1.1 0 0 1-.034.008.1.1 0 0 1-.035-.008.1.1 0 0 1-.023-.022L.427-.067.301-.265l-.134.204-.022.034-.016.019a.1.1 0 0 1-.022.015.1.1 0 0 1-.03.005.06.06 0 0 1-.044-.016.06.06 0 0 1-.017-.047q0-.036.036-.088' style='fill-rule:nonzero' transform='matrix(17.82892 0 0 16.50777 10.371 25.928)'/%3E%3C/svg%3E")}.ag-icon-expanded:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eexpanded%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-eye-slash:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye-slash%3C/title%3E%3Cpath d='M21.106 15.088A5.19 5.19 0 0 0 16 10.814a5.17 5.17 0 0 0-3.668 1.522L9.866 9.868a12.2 12.2 0 0 1 6.133-1.646c5.186 0 9.614 3.225 11.408 7.778a12.34 12.34 0 0 1-5.276 6.133l-2.468-2.466a5.17 5.17 0 0 0 1.449-2.802h-2.123c-.148.508-.42.964-.782 1.33l-1.33-1.33h-2.514l2.196 2.196q-.272.049-.56.05a3.11 3.11 0 0 1-2.99-2.245h-2.123a5.19 5.19 0 0 0 7.3 3.836l2.247 2.247a12.2 12.2 0 0 1-4.434.828c-5.186 0-9.614-3.225-11.408-7.778a12.3 12.3 0 0 1 3.781-5.111l2.924 2.924a5.1 5.1 0 0 0-.404 1.275h4.206l-1.296-1.296a3.1 3.1 0 0 1 2.196-.903c1.404 0 2.587.924 2.976 2.199h2.13z'/%3E%3C/svg%3E")}.ag-icon-eye:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eeye%3C/title%3E%3Cpath d='M16 8.222c-5.186 0-9.614 3.225-11.408 7.778 1.794 4.553 6.222 7.778 11.408 7.778S25.614 20.553 27.408 16C25.614 11.447 21.186 8.222 16 8.222m0 12.964c-2.862 0-5.186-2.324-5.186-5.186s2.324-5.186 5.186-5.186 5.186 2.324 5.186 5.186-2.324 5.186-5.186 5.186m0-8.297c-1.721 0-3.111 1.39-3.111 3.111s1.39 3.111 3.111 3.111 3.111-1.39 3.111-3.111-1.39-3.111-3.111-3.111'/%3E%3C/svg%3E")}.ag-icon-filter:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efilter%3C/title%3E%3Cpath d='M13.333 24h5.333v-2.667h-5.333zM4 8v2.667h24V8zm4 9.333h16v-2.667H8z'/%3E%3C/svg%3E")}.ag-icon-first:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Efirst%3C/title%3E%3Cpath d='M24.273 22.12 18.153 16l6.12-6.12L22.393 8l-8 8 8 8zM7.727 8h2.667v16H7.727z'/%3E%3C/svg%3E")}.ag-icon-group:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egroup%3C/title%3E%3Cpath d='M18.667 21.333h8.889A3.555 3.555 0 0 1 24 24.889h-5.333zm8.888-7.111v3.556h-8.889v-3.556zM24 7.111a3.555 3.555 0 0 1 3.556 3.556h-16V7.111zm-8.889 17.778h-3.556v-3.556h3.556zm0-7.111h-3.556v-3.556h3.556zM8 10.667H4.444A3.555 3.555 0 0 1 8 7.111z'/%3E%3C/svg%3E")}.ag-icon-last:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elast%3C/title%3E%3Cpath d='m7.727 9.88 6.12 6.12-6.12 6.12L9.607 24l8-8-8-8zM21.607 8h2.667v16h-2.667z'/%3E%3C/svg%3E")}.ag-icon-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eleft%3C/title%3E%3Cpath d='M26.667 14.667H10.44l7.453-7.453L16 5.334 5.333 16.001 16 26.668l1.88-1.88-7.44-7.453h16.227v-2.667z'/%3E%3C/svg%3E")}.ag-icon-linked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Elinked%3C/title%3E%3Cpath d='M5.2 16a4.136 4.136 0 0 1 4.133-4.133h5.333V9.334H9.333c-3.68 0-6.667 2.987-6.667 6.667s2.987 6.667 6.667 6.667h5.333v-2.533H9.333A4.136 4.136 0 0 1 5.2 16.002zm5.467 1.333h10.667v-2.667H10.667zm12-8h-5.333v2.533h5.333c2.28 0 4.133 1.853 4.133 4.133s-1.853 4.133-4.133 4.133h-5.333v2.533h5.333c3.68 0 6.667-2.987 6.667-6.667s-2.987-6.667-6.667-6.667z'/%3E%3C/svg%3E")}.ag-icon-loading:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eloading%3C/title%3E%3Cpath d='m17.778 11.708 3.25-3.251 2.516 2.516-3.251 3.25h4.597v3.556h-4.597l3.251 3.25-2.516 2.516-3.25-3.251v4.597h-3.556v-4.597l-3.25 3.251-2.516-2.516 3.251-3.25H7.11v-3.556h4.597l-3.251-3.25 2.516-2.516 3.25 3.251V7.111h3.556zm-3.251 7.847h2.944l2.084-2.084v-2.944l-2.084-2.084h-2.944l-2.084 2.084v2.944z'/%3E%3C/svg%3E")}.ag-icon-maximize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emaximize%3C/title%3E%3Cpath d='M4 4h24v2.667H4z'/%3E%3C/svg%3E")}.ag-icon-menu:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Emenu%3C/title%3E%3Cpath d='M4 24h24v-2.667H4zm0-6.667h24v-2.667H4zM4 8v2.667h24V8z'/%3E%3C/svg%3E")}.ag-icon-menu-alt:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M16 26.667a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 24q0-1.1.784-1.883A2.57 2.57 0 0 1 16 21.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 16q0-1.1.784-1.883A2.57 2.57 0 0 1 16 13.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784m0-8a2.57 2.57 0 0 1-1.883-.784A2.57 2.57 0 0 1 13.333 8q0-1.1.784-1.883A2.57 2.57 0 0 1 16 5.333q1.1 0 1.883.784.784.783.784 1.883t-.784 1.883a2.57 2.57 0 0 1-1.883.784'/%3E%3C/svg%3E")}.ag-icon-minimize:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eminimize%3C/title%3E%3Cpath d='M8 25.333h16V28H8z'/%3E%3C/svg%3E")}.ag-icon-minus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658H7.901v-2.658z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-next:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enext%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-none:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enone%3C/title%3E%3Cpath d='M4 24h16v-2.667H4zM4 8v2.667h24V8zm0 9.333h24v-2.667H4z'/%3E%3C/svg%3E")}.ag-icon-not-allowed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Enot-allowed%3C/title%3E%3Cpath d='M16 2.667C8.64 2.667 2.667 8.64 2.667 16S8.64 29.333 16 29.333 29.333 23.36 29.333 16 23.36 2.667 16 2.667M5.333 16c0-5.893 4.773-10.667 10.667-10.667 2.467 0 4.733.84 6.533 2.253L7.586 22.533A10.54 10.54 0 0 1 5.333 16M16 26.667c-2.467 0-4.733-.84-6.533-2.253L24.414 9.467A10.54 10.54 0 0 1 26.667 16c0 5.893-4.773 10.667-10.667 10.667'/%3E%3C/svg%3E")}.ag-icon-paste:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epaste%3C/title%3E%3Cpath d='M25.333 4H19.76C19.2 2.453 17.733 1.333 16 1.333S12.8 2.453 12.24 4H6.667A2.675 2.675 0 0 0 4 6.667V28c0 1.467 1.2 2.667 2.667 2.667h18.667c1.467 0 2.667-1.2 2.667-2.667V6.667C28.001 5.2 26.801 4 25.334 4zM16 4c.733 0 1.333.6 1.333 1.333s-.6 1.333-1.333 1.333-1.333-.6-1.333-1.333S15.267 4 16 4m9.333 24H6.666V6.667h2.667v4h13.333v-4h2.667z'/%3E%3C/svg%3E")}.ag-icon-pin:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epin%3C/title%3E%3Cpath d='m11.106 22.093-4.444 4.444-1.259-1.259 4.444-4.444zm5.872-16.63 9.618 9.62-.962.962-.962-.962-7.694 3.847 1.924 1.924-2.74 2.74-7.696-7.696 2.741-2.74 1.924 1.925 3.847-7.696-.962-.962z'/%3E%3C/svg%3E")}.ag-icon-pivot:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Epivot%3C/title%3E%3Cpath d='M26.667 30.223H5.334a3.556 3.556 0 0 1-3.556-3.556V5.334a3.556 3.556 0 0 1 3.556-3.556h21.333a3.556 3.556 0 0 1 3.556 3.556v21.333a3.556 3.556 0 0 1-3.556 3.556m-16-8.89H5.334v5.333h5.333zm16-7.11H12.444v12.444h14.223zm-9.15 6.85-2.039 2.037 2.039 2.039-1.257 1.257-3.295-3.296 3.295-3.295q.63.628 1.257 1.257zm-6.85-6.85H5.334v5.333h5.333zm15.74 3.816-1.257 1.256-2.039-2.037-2.037 2.037-1.257-1.256 3.295-3.296zM10.667 5.333H5.334v5.333h5.333zm8.889 0h-7.112v5.333h7.112zm7.111 0h-5.333v5.333h5.333z'/%3E%3C/svg%3E")}.ag-icon-plus:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' xml:space='preserve' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2' viewBox='0 0 32 32'%3E%3Cpath d='M6.572 6.572a13.32 13.32 0 0 0 0 18.856 13.32 13.32 0 0 0 18.856 0 13.32 13.32 0 0 0 0-18.856 13.32 13.32 0 0 0-18.856 0m17.527 8.099v2.658h-6.77v6.77h-2.658v-6.77h-6.77v-2.658h6.77v-6.77h2.658v6.77z' style='fill-rule:nonzero'/%3E%3C/svg%3E")}.ag-icon-previous:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eprevious%3C/title%3E%3Cpath d='M20.94 9.88 19.06 8l-8 8 8 8 1.88-1.88L14.833 16z'/%3E%3C/svg%3E")}.ag-icon-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eright%3C/title%3E%3Cpath d='m16 5.333-1.88 1.88 7.44 7.453H5.333v2.667H21.56l-7.44 7.453 1.88 1.88 10.667-10.667L16 5.332z'/%3E%3C/svg%3E")}.ag-icon-save:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esave%3C/title%3E%3Cpath d='M25.333 16v9.333H6.666V16H3.999v9.333C3.999 26.8 5.199 28 6.666 28h18.667C26.8 28 28 26.8 28 25.333V16zm-8 .893 3.453-3.44 1.88 1.88L15.999 22l-6.667-6.667 1.88-1.88 3.453 3.44V4h2.667v12.893z'/%3E%3C/svg%3E")}.ag-icon-small-down:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-down%3C/title%3E%3Cpath d='M9.333 12.667 16 19.334l6.667-6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-small-left:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-left%3C/title%3E%3Cpath d='M19.333 9.333 12.666 16l6.667 6.667V9.334z'/%3E%3C/svg%3E")}.ag-icon-small-right:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-right%3C/title%3E%3Cpath d='M12.667 22.667 19.334 16l-6.667-6.667v13.333z'/%3E%3C/svg%3E")}.ag-icon-small-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Esmall-up%3C/title%3E%3Cpath d='M9.333 19.333 16 12.666l6.667 6.667H9.334z'/%3E%3C/svg%3E")}.ag-icon-tick:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etick%3C/title%3E%3Cpath d='m11.727 21.167-5.56-5.56-1.893 1.88 7.453 7.453 16-16-1.88-1.88z'/%3E%3C/svg%3E")}.ag-icon-tree-closed:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-closed%3C/title%3E%3Cpath d='m12.94 8-1.88 1.88L17.167 16l-6.107 6.12L12.94 24l8-8z'/%3E%3C/svg%3E")}.ag-icon-tree-indeterminate:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-indeterminate%3C/title%3E%3Cpath d='M6.667 14.667h18.667v2.667H6.667z'/%3E%3C/svg%3E")}.ag-icon-tree-open:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Etree-open%3C/title%3E%3Cpath d='M22.12 11.06 16 17.167 9.88 11.06 8 12.94l8 8 8-8z'/%3E%3C/svg%3E")}.ag-icon-unlinked:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Eunlinked%3C/title%3E%3Cpath d='M22.667 9.333h-5.333v2.533h5.333a4.136 4.136 0 0 1 4.133 4.133c0 1.907-1.307 3.507-3.08 3.973l1.947 1.947c2.173-1.107 3.667-3.32 3.667-5.92a6.67 6.67 0 0 0-6.667-6.667zm-1.334 5.334h-2.92l2.667 2.667h.253zM2.667 5.693 6.814 9.84A6.65 6.65 0 0 0 2.667 16a6.67 6.67 0 0 0 6.667 6.667h5.333v-2.533H9.334a4.136 4.136 0 0 1-4.133-4.133c0-2.12 1.613-3.867 3.68-4.093l2.76 2.76h-.973v2.667h3.64l3.027 3.027v2.307h2.307l5.347 5.333 1.68-1.68L4.362 4.002 2.669 5.695z'/%3E%3C/svg%3E")}.ag-icon-up:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Easc%3C/title%3E%3Cpath d='m5.333 16 1.88 1.88 7.453-7.44v16.227h2.667V10.44l7.44 7.453L26.666 16 15.999 5.333z'/%3E%3C/svg%3E")}.ag-icon-grip:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ctitle%3Egrip%3C/title%3E%3Cpath d='M26.667 12H5.334v2.667h21.333zM5.333 20h21.333v-2.667H5.333z'/%3E%3C/svg%3E")}.ag-icon-settings:before{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' fill='none' viewBox='0 0 32 32'%3E%3Cpath fill='%23000' d='M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3 3 1.3 3 3-1.3 3-3 3M2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3-3-1.3-3-3 1.3-3 3-3'/%3E%3C/svg%3E")}`,iconSetMaterial=createPart("iconSet","material").withCSS(iconSetMaterialCSS),iconSetQuartzCSS='.ag-icon:before{background-color:currentColor;content:"";display:block;height:var(--ag-icon-size);-webkit-mask-image:linear-gradient(#0000,#0000);mask-image:linear-gradient(#0000,#0000);-webkit-mask-size:contain;mask-size:contain;width:var(--ag-icon-size)}',iconNameToSvgFragment={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<circle cx="12" cy="12" r="10"/><path d="m15 9-6 6"/><path d="m9 9 6 6"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-down":'<path d="m6 9 6 6 6-6"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',"small-up":'<path d="m18 15-6-6-6 6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},getQuartzIconsCss=(e={})=>{let o=iconSetQuartzCSS;for(const a of Object.keys(iconNameToSvgFragment)){const c=quartzIconSvg(a,e.strokeWidth||1.5);o+=`.ag-icon-${a}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(c)}'); }
`}return o},quartzIconSvg=(e,o)=>{const a=iconNameToSvgFragment[e];if(!a)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon ag-icon-${e}" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${o}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+a+"</svg>"},iconSetQuartz=(e={})=>createPart("iconSet","quartz").withCSS(()=>getQuartzIconsCss(e)),iconSetQuartzLight=createPart("iconSet","quartzLight").withCSS(()=>getQuartzIconsCss({strokeWidth:1})),iconSetQuartzRegular=createPart("iconSet","quartzRegular").withCSS(getQuartzIconsCss),iconSetQuartzBold=createPart("iconSet","quartzBold").withCSS(()=>getQuartzIconsCss({strokeWidth:2})),inputStyleBaseCSS=":where(input[class^=ag-][type=number]:not(.ag-number-field-input-stepper)){-moz-appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}}:where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);cursor:pointer;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color)}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}}&.ag-ltr :where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){padding-left:var(--ag-input-padding-start)}&.ag-rtl :where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){padding-right:var(--ag-input-padding-start)}",inputStyleUnderlinedCSS=":where(input[class^=ag-]:not([type]),input[class^=ag-][type=text],input[class^=ag-][type=number],input[class^=ag-][type=tel],input[class^=ag-][type=date],input[class^=ag-][type=datetime-local],textarea[class^=ag-]){border-left:none;border-right:none;border-top:none}",inputStyleBase=createPart("inputStyle","base").withAdditionalParams({inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"}}).withCSS(inputStyleBaseCSS),inputStyleBordered=createPartVariant(inputStyleBase,"bordered").withParams({inputBackgroundColor:{ref:"backgroundColor"},inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:{ref:"accentColor"}},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:{ref:"foregroundColor",mix:.06,onto:"backgroundColor"},inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}}}),inputStyleUnderlined=createPartVariant(inputStyleBase,"underlined").withParams({inputBorder:{width:2,color:{ref:"foregroundColor",mix:.3}},inputPaddingStart:{ref:"spacing"},inputFocusBorder:"solid 2px var(--ag-accent-color)",inputDisabledTextColor:{ref:"textColor",mix:.5},inputDisabledBorder:"solid 1px var(--ag-border-color)",inputInvalidBorder:{width:2,color:{ref:"invalidColor",mix:.3}}}).withCSS(inputStyleUnderlinedCSS),tabStyleBaseCSS='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex;.ag-tabs-header{flex:1}}.ag-tabs-close-button-wrapper{border:0;padding:var(--ag-spacing)}&.ag-ltr .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}&.ag-rtl .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}&:focus-visible{box-shadow:inset var(--ag-focus-shadow)}}&.ag-ltr .ag-tab{&.ag-tab-selected{&:not(:first-of-type){border-left-color:var(--ag-tab-selected-border-color)}&:not(:last-of-type){border-right-color:var(--ag-tab-selected-border-color)}}}&.ag-rtl .ag-tab{&.ag-tab-selected{&:not(:first-of-type){border-right-color:var(--ag-tab-selected-border-color)}&:not(:last-of-type){border-left-color:var(--ag-tab-selected-border-color)}}}',tabStyleRolodexCSS=".ag-tab{border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;border-top:var(--ag-tab-selected-border-width) solid transparent;flex:0;&.ag-tab-selected{border-left-color:var(--ag-tab-selected-border-color);border-right-color:var(--ag-tab-selected-border-color);border-top-color:var(--ag-tab-selected-border-color);margin-bottom:-1px;padding-bottom:calc(var(--ag-tab-bottom-padding) + 1px)}}",tabStyleBase=createPart("tabStyle","base").withAdditionalParams({tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:"0",tabSelectedUnderlineTransitionDuration:"0",tabBarBorder:!1}).withCSS(tabStyleBaseCSS),tabStyleQuartz=createPartVariant(tabStyleBase,"quartz").withParams({tabBarBorder:!0,tabBarBackgroundColor:{ref:"foregroundColor",mix:.05},tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}}),tabStyleMaterial=createPartVariant(tabStyleBase,"material").withParams({tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabSelectedUnderlineColor:{ref:"primaryColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0"}),tabStyleAlpine=createPartVariant(tabStyleBase,"alpine").withParams({tabBarBorder:!0,tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabHoverTextColor:{ref:"accentColor"},tabSelectedTextColor:{ref:"accentColor"},tabSelectedUnderlineColor:{ref:"accentColor"},tabSelectedUnderlineWidth:2,tabSelectedUnderlineTransitionDuration:"0.3s"}),tabStyleRolodex=createPartVariant(tabStyleBase,"rolodex").withParams({tabBarBackgroundColor:{ref:"chromeBackgroundColor"},tabBarHorizontalPadding:{ref:"spacing"},tabBarTopPadding:{ref:"spacing"},tabBarBorder:!0,tabHorizontalPadding:{calc:"spacing * 2"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:{ref:"spacing"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:{ref:"backgroundColor"}}).withCSS(tabStyleRolodexCSS),createThemeWithDefaultWidgets=e=>createTheme(e).withPart(checkboxStyleDefault),themeQuartz=createThemeWithDefaultWidgets("quartz").withPart(colorSchemeLight).withPart(iconSetQuartz).withPart(tabStyleQuartz).withPart(()=>inputStyleBordered).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),themeAlpine=createThemeWithDefaultWidgets("alpine").withPart(colorSchemeLight).withPart(iconSetAlpine).withPart(tabStyleAlpine).withPart(inputStyleBordered).withParams({accentColor:"#2196f3",selectedRowBackgroundColor:{ref:"accentColor",mix:.3},inputFocusBorder:{color:{ref:"accentColor",mix:.4}},fontSize:13,dataFontSize:14,headerFontWeight:700,borderRadius:3,wrapperBorderRadius:3,tabSelectedUnderlineColor:{ref:"accentColor"},tabSelectedBorderWidth:2,tabSelectedUnderlineTransitionDuration:.3}),themeBalham=createThemeWithDefaultWidgets("balham").withPart(colorSchemeLightCold).withPart(iconSetAlpine).withPart(tabStyleRolodex).withPart(inputStyleBordered).withParams({spacing:4,borderRadius:2,wrapperBorderRadius:2,headerColumnResizeHandleColor:"transparent",headerColumnBorder:!0,headerColumnBorderHeight:"50%",oddRowBackgroundColor:{ref:"chromeBackgroundColor",mix:.5},headerTextColor:{ref:"foregroundColor",mix:.5},fontSize:12,headerFontWeight:"bold"});ModuleRegistry.__registerModules([CommunityFeaturesModule,ClientSideRowModelModule,InfiniteRowModelModule,CsvExportModule],!1,void 0);var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__export=(e,o)=>{for(var a in o)__defProp(e,a,{get:o[a],enumerable:!0})},__copyProps=(e,o,a,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let d of __getOwnPropNames(o))!__hasOwnProp.call(e,d)&&d!==a&&__defProp(e,d,{get:()=>o[d],enumerable:!(c=__getOwnPropDesc(o,d))||c.enumerable});return e},__toESM=(e,o,a)=>(a=e!=null?__create(__getProtoOf(e)):{},__copyProps(!e||!e.__esModule?__defProp(a,"default",{value:e,enumerable:!0}):a,e)),__toCommonJS=e=>__copyProps(__defProp({},"__esModule",{value:!0}),e),src_exports={};__export(src_exports,{AgGridReact:()=>AgGridReact,CustomComponentContext:()=>CustomContext,getInstance:()=>getInstance,useGridCellEditor:()=>useGridCellEditor,useGridDate:()=>useGridDate,useGridFilter:()=>useGridFilter,useGridFloatingFilter:()=>useGridFloatingFilter,useGridMenuItem:()=>useGridMenuItem,warnReactiveCustomComponents:()=>warnReactiveCustomComponents});var index_cjs=__toCommonJS(src_exports),import_react24=__toESM(reactExports),import_ag_grid_community20=main_cjs,import_react23=__toESM(reactExports),import_ag_grid_community=main_cjs,import_react3=__toESM(reactExports),import_react=__toESM(reactExports),BeansContext=import_react.default.createContext({}),showJsComp=(e,o,a,c)=>{if(!e||e.componentFromFramework||o.isDestroyed())return;const g=e.newAgStackInstance();if(g==null)return;let b,_,$=!1;return g.then(j=>{if($){o.destroyBean(j);return}b=j,_=b.getGui(),a.appendChild(_),setRef(c,b)}),()=>{var j;$=!0,b&&((j=_==null?void 0:_.parentElement)==null||j.removeChild(_),o.destroyBean(b),c&&setRef(c,void 0))}},setRef=(e,o)=>{if(e)if(e instanceof Function)e(o);else{const a=e;a.current=o}},import_react2=__toESM(reactExports),import_react_dom=__toESM(reactDomExports),classesList=(...e)=>e.filter(a=>a!=null&&a!=="").join(" "),CssClasses=class K5{constructor(...o){this.classesMap={},o.forEach(a=>{this.classesMap[a]=!0})}setClass(o,a){if(!!this.classesMap[o]==a)return this;const d=new K5;return d.classesMap={...this.classesMap},d.classesMap[o]=a,d}toString(){return Object.keys(this.classesMap).filter(a=>this.classesMap[a]).join(" ")}},isComponentStateless=e=>{const o=()=>typeof Symbol=="function"&&Symbol.for,a=()=>o()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===a()},H5,reactVersion=(H5=import_react2.default.version)==null?void 0:H5.split(".")[0],isReactVersion17Minus=reactVersion==="16"||reactVersion==="17";function isReact19(){return reactVersion==="19"}var disableFlushSync=!1;function runWithoutFlushSync(e){return disableFlushSync||setTimeout(()=>disableFlushSync=!1,0),disableFlushSync=!0,e()}var agFlushSync=(e,o)=>{!isReactVersion17Minus&&e&&!disableFlushSync?import_react_dom.default.flushSync(o):o()};function getNextValueIfDifferent(e,o,a){if(o==null||e==null)return o;if(e===o||o.length===0&&e.length===0)return e;if(a||e.length===0&&o.length>0||e.length>0&&o.length===0)return o;const c=[],d=[],g=new Map,b=new Map;for(let _=0;_<o.length;_++){const $=o[_];b.set($.instanceId,$)}for(let _=0;_<e.length;_++){const $=e[_];g.set($.instanceId,$),b.has($.instanceId)&&c.push($)}for(let _=0;_<o.length;_++){const $=o[_],j=$.instanceId;g.has(j)||d.push($)}return c.length===e.length&&d.length===0?e:c.length===0&&d.length===o.length?o:c.length===0?d:d.length===0?c:[...c,...d]}var GroupCellRenderer=(0,import_react3.forwardRef)((e,o)=>{var xp;const{ctrlsFactory:a,context:c}=(0,import_react3.useContext)(BeansContext),d=(0,import_react3.useRef)(null),g=(0,import_react3.useRef)(null),b=(0,import_react3.useRef)(null),_=(0,import_react3.useRef)(null),$=(0,import_react3.useRef)(null),j=(0,import_react3.useRef)(),[rt,nt]=(0,import_react3.useState)(),[st,jt]=(0,import_react3.useState)(),[wl,Ft]=(0,import_react3.useState)(),[it,ot]=(0,import_react3.useState)(()=>new CssClasses),[Ln,Cl]=(0,import_react3.useState)(()=>new CssClasses("ag-hidden")),[Tl,zl]=(0,import_react3.useState)(()=>new CssClasses("ag-hidden")),[In,Ml]=(0,import_react3.useState)(()=>new CssClasses("ag-invisible"));(0,import_react3.useImperativeHandle)(o,()=>({refresh(){return!1}})),(0,import_react3.useLayoutEffect)(()=>showJsComp(rt,c,g.current),[rt]);const Dl=(0,import_react3.useCallback)(fp=>{if(d.current=fp,!fp){j.current=c.destroyBean(j.current);return}const _p={setInnerRenderer:(gp,Dp)=>{nt(gp),Ft(Dp)},setChildCount:gp=>jt(gp),addOrRemoveCssClass:(gp,Dp)=>ot(Fp=>Fp.setClass(gp,Dp)),setContractedDisplayed:gp=>zl(Dp=>Dp.setClass("ag-hidden",!gp)),setExpandedDisplayed:gp=>Cl(Dp=>Dp.setClass("ag-hidden",!gp)),setCheckboxVisible:gp=>Ml(Dp=>Dp.setClass("ag-invisible",!gp))},ip=a.getInstance("groupCellRendererCtrl");ip&&(j.current=c.createBean(ip),j.current.init(_p,fp,b.current,_.current,$.current,GroupCellRenderer,e))},[]),Ul=(0,import_react3.useMemo)(()=>`ag-cell-wrapper ${it.toString()}`,[it]),Vl=(0,import_react3.useMemo)(()=>`ag-group-expanded ${Ln.toString()}`,[Ln]),mu=(0,import_react3.useMemo)(()=>`ag-group-contracted ${Tl.toString()}`,[Tl]),rp=(0,import_react3.useMemo)(()=>`ag-group-checkbox ${In.toString()}`,[In]),Ju=rt&&rt.componentFromFramework,cp=Ju?rt.componentClass:void 0,hp=rt==null&&wl!=null,yp=(0,import_ag_grid_community._escapeString)(wl,!0);return import_react3.default.createElement("span",{className:Ul,ref:Dl,...e.colDef?{}:{role:(xp=j.current)==null?void 0:xp.getCellAriaRole()}},import_react3.default.createElement("span",{className:Vl,ref:_}),import_react3.default.createElement("span",{className:mu,ref:$}),import_react3.default.createElement("span",{className:rp,ref:b}),import_react3.default.createElement("span",{className:"ag-group-value",ref:g},hp&&import_react3.default.createElement(import_react3.default.Fragment,null,yp),Ju&&import_react3.default.createElement(cp,{...rt.params})),import_react3.default.createElement("span",{className:"ag-group-child-count"},st))}),groupCellRenderer_default=GroupCellRenderer,import_ag_grid_community3=main_cjs,import_react5=__toESM(reactExports),import_react4=reactExports,CustomContext=(0,import_react4.createContext)({setMethods:()=>{}}),CustomWrapperComp=e=>{const{initialProps:o,addUpdateCallback:a,CustomComponentClass:c,setMethods:d}=e,[{key:g,...b},_]=(0,import_react5.useState)(o);return(0,import_react5.useEffect)(()=>{a($=>_($))},[]),import_react5.default.createElement(CustomContext.Provider,{value:{setMethods:d}},import_react5.default.createElement(c,{key:g,...b}))},customWrapperComp_default=(0,import_react5.memo)(CustomWrapperComp),import_ag_grid_community2=main_cjs,import_react6=reactExports,import_react_dom2=reactDomExports,counter=0;function generateNewKey(){return`agPortalKey_${++counter}`}var ReactComponent=class{constructor(e,o,a,c){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=o,this.componentType=a,this.suppressFallbackMethods=!!c,this.statelessComponent=this.isStateless(this.reactComponent),this.key=generateNewKey(),this.portalKey=generateNewKey(),this.instanceCreated=this.isStatelessComponent()?import_ag_grid_community2.AgPromise.resolve(!1):new import_ag_grid_community2.AgPromise(d=>{this.resolveInstanceCreated=d})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const o=this.portalManager.getComponentWrappingElement(),a=document.createElement(o||"div");return a.classList.add("ag-react-container"),e.reactContainer=a,a}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&((0,import_ag_grid_community2._warnOnce)('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses()&&((0,import_ag_grid_community2._warnOnce)('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach(o=>this.eParentElement.classList.add(o))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const o=this.getFrameworkComponentInstance();return!!o&&o[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,o){const a=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,o&&o[0]?o[0]:{});if(!a){setTimeout(()=>this.callMethod(e,o));return}const c=a[e];if(c)return c.apply(a,o);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,o&&o[0]?o[0]:{})}addMethod(e,o){this[e]=o}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new import_ag_grid_community2.AgPromise(o=>this.createReactComponent(o))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=o=>{var a;this.componentInstance=o,this.addParentContainerStyleAndClasses(),(a=this.resolveInstanceCreated)==null||a.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=(0,import_react_dom2.createPortal)(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,o){return(0,import_react6.createElement)(e,o)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,o){const a=this[`${e}Component`];if(!this.suppressFallbackMethods&&a)return a.bind(this)(o)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function addOptionalMethods(e,o,a){e.forEach(c=>{const d=o[c];d&&(a[c]=d)})}var CustomComponentWrapper=class extends ReactComponent{constructor(){super(...arguments),this.awaitUpdateCallback=new import_ag_grid_community3.AgPromise(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=customWrapperComp_default}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,o){return super.createElement(this.wrapperComponent,{initialProps:o,CustomComponentClass:e,setMethods:a=>this.setMethods(a),addUpdateCallback:a=>{this.updateCallback=()=>(a(this.getProps()),new import_ag_grid_community3.AgPromise(c=>{setTimeout(()=>{c()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,addOptionalMethods(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new import_ag_grid_community3.AgPromise(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},CellRendererComponentWrapper=class extends CustomComponentWrapper{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},DateComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},DragAndDropImageComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,o){this.icon=e,this.shake=o,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:o,icon:a,shake:c}=this;return e.label=o,e.icon=a,e.shake=c,e}},FilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var o;this.expectingNewMethods===!1&&this.hasBeenActive&&((o=this.providedMethods)==null?void 0:o.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}},import_ag_grid_community4=main_cjs;function updateFloatingFilterParent(e,o){e.parentFilterInstance(a=>{(a.setModel(o)||import_ag_grid_community4.AgPromise.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var FloatingFilterComponentProxy=class{constructor(e,o){this.floatingFilterParams=e,this.refreshProps=o,this.model=null,this.onModelChange=a=>this.updateModel(a)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){addOptionalMethods(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),updateFloatingFilterParent(this.floatingFilterParams,e)}},FloatingFilterComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),updateFloatingFilterParent(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},LoadingOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(e){this.sourceParams=e,this.refreshProps()}},MenuItemComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const o=this.awaitSetActive(e);e&&o.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},NoRowsOverlayComponentWrapper=class extends CustomComponentWrapper{refresh(e){this.sourceParams=e,this.refreshProps()}},StatusPanelComponentWrapper=class extends CustomComponentWrapper{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ToolPanelComponentWrapper=class extends CustomComponentWrapper{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}},import_ag_grid_community5=main_cjs;function getInstance(e,o){var c;(((c=e==null?void 0:e.getInstance)==null?void 0:c.call(e))??import_ag_grid_community5.AgPromise.resolve(void 0)).then(d=>o(d))}function warnReactiveCustomComponents(){(0,import_ag_grid_community5._warnOnce)("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var MAX_COMPONENT_CREATION_TIME_IN_MS=1e3,PortalManager=class{constructor(e,o,a){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=o||"div",this.refresher=e,this.maxComponentCreationTimeMs=a||MAX_COMPONENT_CREATION_TIME_IN_MS}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(o=>o!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,o,a){this.portals=[...this.portals,e],this.waitForInstance(o,a),this.batchUpdate()}updateReactPortal(e,o){this.portals[this.portals.indexOf(e)]=o,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,o,a=Date.now()){if(this.destroyed){o(null);return}if(e.rendered())o(e);else{if(Date.now()-a>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,o,a)})}}},import_ag_grid_community18=main_cjs,import_react22=__toESM(reactExports),import_ag_grid_community16=main_cjs,import_react20=__toESM(reactExports),import_ag_grid_community11=main_cjs,import_react12=__toESM(reactExports),import_ag_grid_community10=main_cjs,import_react11=__toESM(reactExports),import_ag_grid_community9=main_cjs,import_react10=__toESM(reactExports),import_ag_grid_community6=main_cjs,import_react7=__toESM(reactExports),HeaderCellComp=({ctrl:e})=>{const o=e.isAlive(),{context:a}=(0,import_react7.useContext)(BeansContext),c=o?e.getColId():void 0,[d,g]=(0,import_react7.useState)(),b=(0,import_react7.useRef)(),_=(0,import_react7.useRef)(null),$=(0,import_react7.useRef)(null),j=(0,import_react7.useRef)(null),rt=(0,import_react7.useRef)(),nt=(0,import_react7.useRef)();o&&!nt.current&&(nt.current=new import_ag_grid_community6.CssClassManager(()=>_.current));const st=(0,import_react7.useCallback)(it=>{var Cl;if(_.current=it,b.current=it?a.createBean(new import_ag_grid_community6._EmptyBean):a.destroyBean(b.current),!it||!o)return;const ot={setWidth:Tl=>{_.current&&(_.current.style.width=Tl)},addOrRemoveCssClass:(Tl,zl)=>nt.current.addOrRemoveCssClass(Tl,zl),setAriaSort:Tl=>{_.current&&(Tl?(0,import_ag_grid_community6._setAriaSort)(_.current,Tl):(0,import_ag_grid_community6._removeAriaSort)(_.current))},setUserCompDetails:Tl=>g(Tl),getUserCompInstance:()=>rt.current||void 0};e.setComp(ot,it,$.current,j.current,b.current);const Ln=e.getSelectAllGui();(Cl=$.current)==null||Cl.insertAdjacentElement("afterend",Ln),b.current.addDestroyFunc(()=>Ln.remove())},[]);(0,import_react7.useLayoutEffect)(()=>showJsComp(d,a,j.current,rt),[d]),(0,import_react7.useEffect)(()=>{e.setDragSource(_.current)},[d]);const jt=(0,import_react7.useMemo)(()=>!!((d==null?void 0:d.componentFromFramework)&&isComponentStateless(d.componentClass)),[d]),wl=d&&d.componentFromFramework,Ft=d&&d.componentClass;return import_react7.default.createElement("div",{ref:st,className:"ag-header-cell","col-id":c,role:"columnheader"},import_react7.default.createElement("div",{ref:$,className:"ag-header-cell-resize",role:"presentation"}),import_react7.default.createElement("div",{ref:j,className:"ag-header-cell-comp-wrapper",role:"presentation"},wl&&jt&&import_react7.default.createElement(Ft,{...d.params}),wl&&!jt&&import_react7.default.createElement(Ft,{...d.params,ref:rt})))},headerCellComp_default=(0,import_react7.memo)(HeaderCellComp),import_ag_grid_community7=main_cjs,import_react8=__toESM(reactExports),HeaderFilterCellComp=({ctrl:e})=>{const{context:o,gos:a}=(0,import_react8.useContext)(BeansContext),[c,d]=(0,import_react8.useState)(()=>new CssClasses("ag-header-cell","ag-floating-filter")),[g,b]=(0,import_react8.useState)(()=>new CssClasses),[_,$]=(0,import_react8.useState)(()=>new CssClasses("ag-floating-filter-button","ag-hidden")),[j,rt]=(0,import_react8.useState)("false"),[nt,st]=(0,import_react8.useState)(),[,jt]=(0,import_react8.useState)(1),wl=(0,import_react8.useRef)(),Ft=(0,import_react8.useRef)(null),it=(0,import_react8.useRef)(null),ot=(0,import_react8.useRef)(null),Ln=(0,import_react8.useRef)(null),Cl=(0,import_react8.useRef)(),Tl=(0,import_react8.useRef)(),zl=yp=>{yp!=null&&Cl.current&&Cl.current(yp)},In=(0,import_react8.useCallback)(yp=>{if(Ft.current=yp,wl.current=yp?o.createBean(new import_ag_grid_community7._EmptyBean):o.destroyBean(wl.current),!yp)return;Tl.current=new import_ag_grid_community7.AgPromise(fp=>{Cl.current=fp});const xp={addOrRemoveCssClass:(fp,_p)=>d(ip=>ip.setClass(fp,_p)),addOrRemoveBodyCssClass:(fp,_p)=>b(ip=>ip.setClass(fp,_p)),setButtonWrapperDisplayed:fp=>{$(_p=>_p.setClass("ag-hidden",!fp)),rt(fp?"false":"true")},setWidth:fp=>{Ft.current&&(Ft.current.style.width=fp)},setCompDetails:fp=>st(fp),getFloatingFilterComp:()=>Tl.current?Tl.current:null,setMenuIcon:fp=>{var _p;return(_p=Ln.current)==null?void 0:_p.appendChild(fp)}};e.setComp(xp,yp,Ln.current,it.current,wl.current)},[]);(0,import_react8.useLayoutEffect)(()=>showJsComp(nt,o,it.current,zl),[nt]);const Ml=(0,import_react8.useMemo)(()=>c.toString(),[c]),Dl=(0,import_react8.useMemo)(()=>g.toString(),[g]),Ul=(0,import_react8.useMemo)(()=>_.toString(),[_]),Vl=(0,import_react8.useMemo)(()=>!!(nt&&nt.componentFromFramework&&isComponentStateless(nt.componentClass)),[nt]),mu=(0,import_react8.useMemo)(()=>a.get("reactiveCustomComponents"),[]),rp=(0,import_react8.useMemo)(()=>{if(nt)if(mu){const yp=new FloatingFilterComponentProxy(nt.params,()=>jt(xp=>xp+1));return zl(yp),yp}else nt.componentFromFramework&&warnReactiveCustomComponents()},[nt]),Ju=rp==null?void 0:rp.getProps(),cp=nt&&nt.componentFromFramework,hp=nt&&nt.componentClass;return import_react8.default.createElement("div",{ref:In,className:Ml,role:"gridcell"},import_react8.default.createElement("div",{ref:it,className:Dl,role:"presentation"},cp&&!mu&&import_react8.default.createElement(hp,{...nt.params,ref:Vl?()=>{}:zl}),cp&&mu&&import_react8.default.createElement(CustomContext.Provider,{value:{setMethods:yp=>rp.setMethods(yp)}},import_react8.default.createElement(hp,{...Ju}))),import_react8.default.createElement("div",{ref:ot,"aria-hidden":j,className:Ul,role:"presentation"},import_react8.default.createElement("button",{ref:Ln,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},headerFilterCellComp_default=(0,import_react8.memo)(HeaderFilterCellComp),import_ag_grid_community8=main_cjs,import_react9=__toESM(reactExports),HeaderGroupCellComp=({ctrl:e})=>{const{context:o}=(0,import_react9.useContext)(BeansContext),[a,c]=(0,import_react9.useState)(()=>new CssClasses),[d,g]=(0,import_react9.useState)(()=>new CssClasses),[b,_]=(0,import_react9.useState)("false"),[$,j]=(0,import_react9.useState)(),[rt,nt]=(0,import_react9.useState)(),st=(0,import_react9.useMemo)(()=>e.getColId(),[]),jt=(0,import_react9.useRef)(),wl=(0,import_react9.useRef)(null),Ft=(0,import_react9.useRef)(null),it=(0,import_react9.useRef)(null),ot=(0,import_react9.useRef)(),Ln=(0,import_react9.useCallback)(Dl=>{if(wl.current=Dl,jt.current=Dl?o.createBean(new import_ag_grid_community8._EmptyBean):o.destroyBean(jt.current),!Dl)return;const Ul={setWidth:Vl=>{wl.current&&(wl.current.style.width=Vl)},addOrRemoveCssClass:(Vl,mu)=>c(rp=>rp.setClass(Vl,mu)),setHeaderWrapperHidden:Vl=>{const mu=it.current;mu&&(Vl?mu.style.setProperty("display","none"):mu.style.removeProperty("display"))},setHeaderWrapperMaxHeight:Vl=>{const mu=it.current;mu&&(Vl!=null?mu.style.setProperty("max-height",`${Vl}px`):mu.style.removeProperty("max-height"),mu.classList.toggle("ag-header-cell-comp-wrapper-limited-height",Vl!=null))},setUserCompDetails:Vl=>nt(Vl),setResizableDisplayed:Vl=>{g(mu=>mu.setClass("ag-hidden",!Vl)),_(Vl?"false":"true")},setAriaExpanded:Vl=>j(Vl),getUserCompInstance:()=>ot.current||void 0};e.setComp(Ul,Dl,Ft.current,it.current,jt.current)},[]);(0,import_react9.useLayoutEffect)(()=>showJsComp(rt,o,it.current),[rt]),(0,import_react9.useEffect)(()=>{wl.current&&e.setDragSource(wl.current)},[rt]);const Cl=(0,import_react9.useMemo)(()=>!!((rt==null?void 0:rt.componentFromFramework)&&isComponentStateless(rt.componentClass)),[rt]),Tl=(0,import_react9.useMemo)(()=>"ag-header-group-cell "+a.toString(),[a]),zl=(0,import_react9.useMemo)(()=>"ag-header-cell-resize "+d.toString(),[d]),In=rt&&rt.componentFromFramework,Ml=rt&&rt.componentClass;return import_react9.default.createElement("div",{ref:Ln,className:Tl,"col-id":st,role:"columnheader","aria-expanded":$},import_react9.default.createElement("div",{ref:it,className:"ag-header-cell-comp-wrapper",role:"presentation"},In&&Cl&&import_react9.default.createElement(Ml,{...rt.params}),In&&!Cl&&import_react9.default.createElement(Ml,{...rt.params,ref:ot})),import_react9.default.createElement("div",{ref:Ft,"aria-hidden":b,className:zl}))},headerGroupCellComp_default=(0,import_react9.memo)(HeaderGroupCellComp),HeaderRowComp=({ctrl:e})=>{const{context:o}=(0,import_react10.useContext)(BeansContext),{topOffset:a,rowHeight:c}=(0,import_react10.useMemo)(()=>e.getTopAndHeight(),[]),d=e.getAriaRowIndex(),g=e.getHeaderRowClass(),[b,_]=(0,import_react10.useState)(()=>c+"px"),[$,j]=(0,import_react10.useState)(()=>a+"px"),rt=(0,import_react10.useRef)(null),nt=(0,import_react10.useRef)(null),[st,jt]=(0,import_react10.useState)(()=>e.getHeaderCtrls()),wl=(0,import_react10.useRef)(),Ft=(0,import_react10.useRef)(null),it=(0,import_react10.useCallback)(Cl=>{if(Ft.current=Cl,wl.current=Cl?o.createBean(new import_ag_grid_community9._EmptyBean):o.destroyBean(wl.current),!Cl)return;const Tl={setHeight:zl=>_(zl),setTop:zl=>j(zl),setHeaderCtrls:(zl,In,Ml)=>{nt.current=rt.current,rt.current=zl;const Dl=getNextValueIfDifferent(nt.current,zl,In);Dl!==nt.current&&agFlushSync(Ml,()=>jt(Dl))},setWidth:zl=>{Ft.current&&(Ft.current.style.width=zl)}};e.setComp(Tl,wl.current,!1)},[]),ot=(0,import_react10.useMemo)(()=>({height:b,top:$}),[b,$]),Ln=(0,import_react10.useCallback)(Cl=>{switch(e.getType()){case import_ag_grid_community9.HeaderRowType.COLUMN_GROUP:return import_react10.default.createElement(headerGroupCellComp_default,{ctrl:Cl,key:Cl.instanceId});case import_ag_grid_community9.HeaderRowType.FLOATING_FILTER:return import_react10.default.createElement(headerFilterCellComp_default,{ctrl:Cl,key:Cl.instanceId});default:return import_react10.default.createElement(headerCellComp_default,{ctrl:Cl,key:Cl.instanceId})}},[]);return import_react10.default.createElement("div",{ref:it,className:g,role:"row",style:ot,"aria-rowindex":d},st.map(Ln))},headerRowComp_default=(0,import_react10.memo)(HeaderRowComp),HeaderRowContainerComp=({pinned:e})=>{const[o,a]=(0,import_react11.useState)(!0),[c,d]=(0,import_react11.useState)([]),{context:g}=(0,import_react11.useContext)(BeansContext),b=(0,import_react11.useRef)(null),_=(0,import_react11.useRef)(null),$=(0,import_react11.useRef)(),j=e==="left",rt=e==="right",nt=!j&&!rt,st=(0,import_react11.useCallback)(Ft=>{if(b.current=Ft,$.current=Ft?g.createBean(new import_ag_grid_community10.HeaderRowContainerCtrl(e)):g.destroyBean($.current),!Ft)return;const it={setDisplayed:a,setCtrls:ot=>d(ot),setCenterWidth:ot=>{_.current&&(_.current.style.width=ot)},setViewportScrollLeft:ot=>{b.current&&(b.current.scrollLeft=ot)},setPinnedContainerWidth:ot=>{b.current&&(b.current.style.width=ot,b.current.style.minWidth=ot,b.current.style.maxWidth=ot)}};$.current.setComp(it,b.current)},[]),jt=o?"":"ag-hidden",wl=()=>c.map(Ft=>import_react11.default.createElement(headerRowComp_default,{ctrl:Ft,key:Ft.instanceId}));return import_react11.default.createElement(import_react11.default.Fragment,null,j&&import_react11.default.createElement("div",{ref:st,className:"ag-pinned-left-header "+jt,"aria-hidden":!o,role:"rowgroup"},wl()),rt&&import_react11.default.createElement("div",{ref:st,className:"ag-pinned-right-header "+jt,"aria-hidden":!o,role:"rowgroup"},wl()),nt&&import_react11.default.createElement("div",{ref:st,className:"ag-header-viewport "+jt,role:"presentation"},import_react11.default.createElement("div",{ref:_,className:"ag-header-container",role:"rowgroup"},wl())))},headerRowContainerComp_default=(0,import_react11.memo)(HeaderRowContainerComp),GridHeaderComp=()=>{const[e,o]=(0,import_react12.useState)(()=>new CssClasses),[a,c]=(0,import_react12.useState)(),{context:d}=(0,import_react12.useContext)(BeansContext),g=(0,import_react12.useRef)(null),b=(0,import_react12.useRef)(),_=(0,import_react12.useCallback)(rt=>{if(g.current=rt,b.current=rt?d.createBean(new import_ag_grid_community11.GridHeaderCtrl):d.destroyBean(b.current),!rt)return;const nt={addOrRemoveCssClass:(st,jt)=>o(wl=>wl.setClass(st,jt)),setHeightAndMinHeight:st=>c(st)};b.current.setComp(nt,rt,rt)},[]),$=(0,import_react12.useMemo)(()=>"ag-header "+e.toString(),[e]),j=(0,import_react12.useMemo)(()=>({height:a,minHeight:a}),[a]);return import_react12.default.createElement("div",{ref:_,className:$,style:j,role:"presentation"},import_react12.default.createElement(headerRowContainerComp_default,{pinned:"left"}),import_react12.default.createElement(headerRowContainerComp_default,{pinned:null}),import_react12.default.createElement(headerRowContainerComp_default,{pinned:"right"}))},gridHeaderComp_default=(0,import_react12.memo)(GridHeaderComp),import_react13=reactExports,useReactCommentEffect=(e,o)=>{(0,import_react13.useEffect)(()=>{const a=o.current;if(a){const c=a.parentElement;if(c){const d=document.createComment(e);return c.insertBefore(d,a),()=>{c.removeChild(d)}}}},[e])},reactComment_default=useReactCommentEffect,import_ag_grid_community15=main_cjs,import_react19=__toESM(reactExports),import_ag_grid_community14=main_cjs,import_react18=__toESM(reactExports),import_ag_grid_community13=main_cjs,import_react17=__toESM(reactExports),import_ag_grid_community12=main_cjs,CellEditorComponentProxy=class{constructor(e,o){this.cellEditorParams=e,this.refreshProps=o,this.instanceCreated=new import_ag_grid_community12.AgPromise(a=>{this.resolveInstanceCreated=a}),this.onValueChange=a=>this.updateValue(a),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){addOptionalMethods(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var o;this.componentInstance=e,(o=this.resolveInstanceCreated)==null||o.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},import_react15=__toESM(reactExports),import_react_dom3=reactDomExports,import_react14=reactExports,useEffectOnce=e=>{const o=(0,import_react14.useRef)(e),a=(0,import_react14.useRef)(),c=(0,import_react14.useRef)(!1),d=(0,import_react14.useRef)(!1),[,g]=(0,import_react14.useState)(0);c.current&&(d.current=!0),(0,import_react14.useEffect)(()=>(c.current||(a.current=o.current(),c.current=!0),g(b=>b+1),()=>{var b;d.current&&((b=a.current)==null||b.call(a))}),[])},PopupEditorComp=e=>{const[o,a]=(0,import_react15.useState)(),{context:c,popupService:d,localeService:g,gos:b,editService:_}=(0,import_react15.useContext)(BeansContext);return useEffectOnce(()=>{var Tl,zl;const{editDetails:$,cellCtrl:j,eParentCell:rt}=e,{compDetails:nt}=$,st=b.get("stopEditingWhenCellsLoseFocus"),jt=c.createBean(_.createPopupEditorWrapper(nt.params)),wl=jt.getGui();if(e.jsChildComp){const In=e.jsChildComp.getGui();In&&wl.appendChild(In)}const Ft={column:j.getColumn(),rowNode:j.getRowNode(),type:"popupCellEditor",eventSource:rt,ePopup:wl,position:$.popupPosition,keepWithinBounds:!0},it=d.positionPopupByComponent.bind(d,Ft),ot=g.getLocaleTextFunc(),Ln=d.addPopup({modal:st,eChild:wl,closeOnEsc:!0,closedCallback:()=>{j.onPopupEditorClosed()},anchorToElement:rt,positionCallback:it,ariaLabel:ot("ariaLabelCellEditor","Cell Editor")}),Cl=Ln?Ln.hideFunc:void 0;return a(jt),(zl=(Tl=e.jsChildComp)==null?void 0:Tl.afterGuiAttached)==null||zl.call(Tl),()=>{Cl==null||Cl(),c.destroyBean(jt)}}),import_react15.default.createElement(import_react15.default.Fragment,null,o&&e.wrappedContent&&(0,import_react_dom3.createPortal)(e.wrappedContent,o.getGui()))},popupEditorComp_default=(0,import_react15.memo)(PopupEditorComp),import_react16=reactExports,useJsCellRenderer=(e,o,a,c,d,g)=>{const{context:b}=(0,import_react16.useContext)(BeansContext),_=(0,import_react16.useCallback)(()=>{const $=d.current;if(!$)return;const j=$.getGui();j&&j.parentElement&&j.parentElement.removeChild(j),b.destroyBean($),d.current=void 0},[]);(0,import_react16.useEffect)(()=>{const $=e!=null,j=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,rt=o&&a==null;if(!($&&j&&!rt)){_();return}const st=e.compDetails;if(d.current){const wl=d.current,it=wl.refresh!=null&&e.force==!1?wl.refresh(st.params):!1;if(it===!0||it===void 0)return;_()}const jt=st.newAgStackInstance();jt!=null&&jt.then(wl=>{if(!wl)return;const Ft=wl.getGui();if(!Ft)return;(o?a:g.current).appendChild(Ft),d.current=wl})},[e,o,c]),(0,import_react16.useEffect)(()=>_,[])},showJsRenderer_default=useJsCellRenderer,jsxEditorProxy=(e,o,a)=>{const{compProxy:c}=e;a(c);const d=c.getProps(),g=isComponentStateless(o);return import_react17.default.createElement(CustomContext.Provider,{value:{setMethods:b=>c.setMethods(b)}},g?import_react17.default.createElement(o,{...d}):import_react17.default.createElement(o,{...d,ref:b=>c.setRef(b)}))},jsxEditor=(e,o,a)=>{const c=e.compProxy;return import_react17.default.createElement(import_react17.default.Fragment,null,c?jsxEditorProxy(e,o,a):import_react17.default.createElement(o,{...e.compDetails.params,ref:a}))},jsxEditValue=(e,o,a,c,d)=>{const g=e.compDetails,b=g.componentClass,_=g.componentFromFramework&&!e.popup,$=g.componentFromFramework&&e.popup,j=!g.componentFromFramework&&e.popup;return import_react17.default.createElement(import_react17.default.Fragment,null,_&&jsxEditor(e,b,o),$&&import_react17.default.createElement(popupEditorComp_default,{editDetails:e,cellCtrl:c,eParentCell:a,wrappedContent:jsxEditor(e,b,o)}),j&&d&&import_react17.default.createElement(popupEditorComp_default,{editDetails:e,cellCtrl:c,eParentCell:a,jsChildComp:d}))},jsxShowValue=(e,o,a,c,d,g,b)=>{const{compDetails:_,value:$}=e,j=!_,rt=_&&_.componentFromFramework,nt=_&&_.componentClass,st=$!=null&&$.toString?$.toString():$,jt=()=>import_react17.default.createElement(import_react17.default.Fragment,null,j&&import_react17.default.createElement(import_react17.default.Fragment,null,st),rt&&!g&&import_react17.default.createElement(nt,{..._.params,key:o,ref:c}),rt&&g&&import_react17.default.createElement(nt,{..._.params,key:o}));return import_react17.default.createElement(import_react17.default.Fragment,null,d?import_react17.default.createElement("span",{role:"presentation",id:`cell-${a}`,className:"ag-cell-value",ref:b},jt()):jt())},CellComp=({cellCtrl:e,printLayout:o,editingRow:a})=>{const{context:c}=(0,import_react17.useContext)(BeansContext),{colIdSanitised:d,instanceId:g}=e,b=(0,import_react17.useRef)(),[_,$]=(0,import_react17.useState)(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[j,rt]=(0,import_react17.useState)(),[nt,st]=(0,import_react17.useState)(1),[jt,wl]=(0,import_react17.useState)(),[Ft,it]=(0,import_react17.useState)(!1),[ot,Ln]=(0,import_react17.useState)(!1),[Cl,Tl]=(0,import_react17.useState)(!1),[zl,In]=(0,import_react17.useState)(),Ml=(0,import_react17.useMemo)(()=>e.isForceWrapper(),[e]),Dl=(0,import_react17.useMemo)(()=>e.getCellAriaRole(),[e]),Ul=(0,import_react17.useRef)(null),Vl=(0,import_react17.useRef)(null),mu=(0,import_react17.useRef)(),rp=(0,import_react17.useRef)(),Ju=(0,import_react17.useRef)(),cp=(0,import_react17.useRef)([]),hp=(0,import_react17.useRef)(),[yp,xp]=(0,import_react17.useState)(0),fp=(0,import_react17.useCallback)(T0=>{hp.current=T0,xp(im=>im+1)},[]),_p=_!=null&&(Ft||Cl||ot),ip=Ml||_p,gp=(0,import_react17.useCallback)(T0=>{if(rp.current=T0,T0){const im=T0.isCancelBeforeStart&&T0.isCancelBeforeStart();setTimeout(()=>{im?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),Dp=(0,import_react17.useRef)();Dp.current||(Dp.current=new import_ag_grid_community13.CssClassManager(()=>Ul.current)),showJsRenderer_default(_,ip,hp.current,yp,mu,Ul);const Fp=(0,import_react17.useRef)();(0,import_react17.useLayoutEffect)(()=>{var b0;const T0=Fp.current,im=_;if(Fp.current=_,T0==null||T0.compDetails==null||im==null||im.compDetails==null)return;const am=T0.compDetails,bm=im.compDetails;if(am.componentClass!=bm.componentClass||((b0=Vl.current)==null?void 0:b0.refresh)==null)return;Vl.current.refresh(bm.params)!=!0&&st(U0=>U0+1)},[_]),(0,import_react17.useLayoutEffect)(()=>{if(!(j&&!j.compDetails.componentFromFramework))return;const im=j.compDetails,am=j.popup===!0,bm=im.newAgStackInstance();return bm.then(_g=>{if(!_g)return;const b0=_g.getGui();if(gp(_g),!am){const U0=(Ml?Ju:Ul).current;U0==null||U0.appendChild(b0),_g.afterGuiAttached&&_g.afterGuiAttached()}In(_g)}),()=>{bm.then(_g=>{var U0;const b0=_g.getGui();c.destroyBean(_g),gp(void 0),In(void 0),(U0=b0==null?void 0:b0.parentElement)==null||U0.removeChild(b0)})}},[j]);const n0=(0,import_react17.useCallback)(T0=>{if(Ju.current=T0,!T0){cp.current.forEach(am=>am()),cp.current=[];return}const im=am=>{if(am){const bm=am.getGui();T0.insertAdjacentElement("afterbegin",bm),cp.current.push(()=>{c.destroyBean(am),(0,import_ag_grid_community13._removeFromParent)(bm)})}return am};if(Ft){const am=e.createSelectionCheckbox();im(am)}Cl&&im(e.createDndSource()),ot&&im(e.createRowDragComp())},[e,c,Cl,ot,Ft]),S0=(0,import_react17.useCallback)(T0=>{if(Ul.current=T0,b.current=T0?c.createBean(new import_ag_grid_community13._EmptyBean):c.destroyBean(b.current),!T0||!e)return;const im={addOrRemoveCssClass:(bm,_g)=>Dp.current.addOrRemoveCssClass(bm,_g),setUserStyles:bm=>wl(bm),getFocusableElement:()=>Ul.current,setIncludeSelection:bm=>it(bm),setIncludeRowDrag:bm=>Ln(bm),setIncludeDndSource:bm=>Tl(bm),getCellEditor:()=>rp.current||null,getCellRenderer:()=>Vl.current??mu.current,getParentOfValue:()=>hp.current??Ju.current??Ul.current,setRenderDetails:(bm,_g,b0)=>{$(U0=>(U0==null?void 0:U0.compDetails)!==bm||(U0==null?void 0:U0.value)!==_g||(U0==null?void 0:U0.force)!==b0?{value:_g,compDetails:bm,force:b0}:U0)},setEditDetails:(bm,_g,b0,U0)=>{if(bm){let mm;U0?mm=new CellEditorComponentProxy(bm.params,()=>st(Lm=>Lm+1)):bm.componentFromFramework&&warnReactiveCustomComponents(),rt({compDetails:bm,popup:_g,popupPosition:b0,compProxy:mm}),_g||$(void 0)}else rt(mm=>{mm!=null&&mm.compProxy&&(rp.current=void 0)})}},am=Ju.current||void 0;e.setComp(im,T0,am,o,a,b.current)},[]),C0=(0,import_react17.useMemo)(()=>{var im;return!!(((im=_==null?void 0:_.compDetails)==null?void 0:im.componentFromFramework)&&isComponentStateless(_.compDetails.componentClass))},[_]);(0,import_react17.useLayoutEffect)(()=>{var T0;Ul.current&&(Dp.current.addOrRemoveCssClass("ag-cell-value",!ip),Dp.current.addOrRemoveCssClass("ag-cell-inline-editing",!!j&&!j.popup),Dp.current.addOrRemoveCssClass("ag-cell-popup-editing",!!j&&!!j.popup),Dp.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!j||!!j.popup),(T0=e.getRowCtrl())==null||T0.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&Ul.current.focus({preventScroll:!0}))});const P0=()=>import_react17.default.createElement(import_react17.default.Fragment,null,_!=null&&jsxShowValue(_,nt,g,Vl,ip,C0,fp),j!=null&&jsxEditValue(j,gp,Ul.current,e,zl)),k0=(0,import_react17.useCallback)(()=>e.onFocusOut(),[]);return import_react17.default.createElement("div",{ref:S0,style:jt,role:Dl,"col-id":d,onBlur:k0},ip?import_react17.default.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:n0},P0()):P0())},cellComp_default=(0,import_react17.memo)(CellComp),RowComp=({rowCtrl:e,containerType:o})=>{const{context:a,gos:c}=(0,import_react18.useContext)(BeansContext),d=(0,import_react18.useRef)(),g=(0,import_react18.useRef)(e.getDomOrder()),b=e.isFullWidth(),_=e.getRowNode().displayed,[$,j]=(0,import_react18.useState)(()=>_?e.getRowIndex():null),[rt,nt]=(0,import_react18.useState)(()=>e.getRowId()),[st,jt]=(0,import_react18.useState)(()=>e.getBusinessKey()),[wl,Ft]=(0,import_react18.useState)(()=>e.getRowStyles()),it=(0,import_react18.useRef)(null),ot=(0,import_react18.useRef)(null),[Ln,Cl]=(0,import_react18.useState)(()=>null),[Tl,zl]=(0,import_react18.useState)(),[In,Ml]=(0,import_react18.useState)(()=>_?e.getInitialRowTop(o):void 0),[Dl,Ul]=(0,import_react18.useState)(()=>_?e.getInitialTransform(o):void 0),Vl=(0,import_react18.useRef)(null),mu=(0,import_react18.useRef)(),rp=(0,import_react18.useRef)(!1),[Ju,cp]=(0,import_react18.useState)(0);(0,import_react18.useEffect)(()=>{var S0;if(rp.current||!Tl||Ju>10)return;const n0=(S0=Vl.current)==null?void 0:S0.firstChild;n0?(e.setupDetailRowAutoHeight(n0),rp.current=!0):cp(C0=>C0+1)},[Tl,Ju]);const hp=(0,import_react18.useRef)();hp.current||(hp.current=new import_ag_grid_community14.CssClassManager(()=>Vl.current));const yp=(0,import_react18.useCallback)(n0=>{if(Vl.current=n0,d.current=n0?a.createBean(new import_ag_grid_community14._EmptyBean):a.destroyBean(d.current),!n0){e.unsetComp(o);return}if(!e.isAlive())return;const S0={setTop:Ml,setTransform:Ul,addOrRemoveCssClass:(C0,P0)=>hp.current.addOrRemoveCssClass(C0,P0),setDomOrder:C0=>g.current=C0,setRowIndex:j,setRowId:nt,setRowBusinessKey:jt,setUserStyles:Ft,setCellCtrls:(C0,P0)=>{ot.current=it.current;const k0=getNextValueIfDifferent(ot.current,C0,g.current);k0!==ot.current&&(it.current=k0,agFlushSync(P0,()=>Cl(k0)))},showFullWidth:C0=>zl(C0),getFullWidthCellRenderer:()=>mu.current,refreshFullWidth:C0=>gp.current?(zl(P0=>({...P0,params:C0()})),!0):!mu.current||!mu.current.refresh?!1:mu.current.refresh(C0())};e.setComp(S0,n0,o,d.current)},[]);(0,import_react18.useLayoutEffect)(()=>showJsComp(Tl,a,Vl.current,mu),[Tl]);const xp=(0,import_react18.useMemo)(()=>{const n0={top:In,transform:Dl};return Object.assign(n0,wl),n0},[In,Dl,wl]),fp=b&&(Tl==null?void 0:Tl.componentFromFramework),_p=!b&&Ln!=null,ip=(0,import_react18.useMemo)(()=>!!((Tl==null?void 0:Tl.componentFromFramework)&&isComponentStateless(Tl.componentClass)),[Tl]),gp=(0,import_react18.useRef)(!1);(0,import_react18.useEffect)(()=>{gp.current=ip&&!!Tl&&!!c.get("reactiveCustomComponents")},[ip,Tl]);const Dp=()=>Ln==null?void 0:Ln.map(n0=>import_react18.default.createElement(cellComp_default,{cellCtrl:n0,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:n0.instanceId})),Fp=()=>{const n0=Tl.componentClass;return import_react18.default.createElement(import_react18.default.Fragment,null,ip?import_react18.default.createElement(n0,{...Tl.params}):import_react18.default.createElement(n0,{...Tl.params,ref:mu}))};return import_react18.default.createElement("div",{ref:yp,role:"row",style:xp,"row-index":$,"row-id":rt,"row-business-key":st},_p&&Dp(),fp&&Fp())},rowComp_default=(0,import_react18.memo)(RowComp),RowContainerComp=({name:e})=>{const{context:o}=(0,import_react19.useContext)(BeansContext),a=(0,import_react19.useMemo)(()=>(0,import_ag_grid_community15._getRowContainerOptions)(e),[e]),c=(0,import_react19.useRef)(null),d=(0,import_react19.useRef)(null),g=(0,import_react19.useRef)([]),b=(0,import_react19.useRef)([]),[_,$]=(0,import_react19.useState)(()=>[]),j=(0,import_react19.useRef)(!1),rt=(0,import_react19.useRef)(),nt=(0,import_react19.useMemo)(()=>classesList(a.viewport),[a]),st=(0,import_react19.useMemo)(()=>classesList(a.container),[a]),jt=a.type==="center",wl=jt?c:d;reactComment_default(" AG Row Container "+e+" ",wl);const Ft=(0,import_react19.useCallback)(()=>jt?c.current!=null&&d.current!=null:d.current!=null,[]),it=(0,import_react19.useCallback)(()=>jt?c.current==null&&d.current==null:d.current==null,[]),ot=(0,import_react19.useCallback)(()=>{if(it()&&(rt.current=o.destroyBean(rt.current)),Ft()){const zl=Ml=>{const Dl=getNextValueIfDifferent(b.current,g.current,j.current);Dl!==b.current&&(b.current=Dl,agFlushSync(Ml,()=>$(Dl)))},In={setHorizontalScroll:Ml=>{c.current&&(c.current.scrollLeft=Ml)},setViewportHeight:Ml=>{c.current&&(c.current.style.height=Ml)},setRowCtrls:({rowCtrls:Ml,useFlushSync:Dl})=>{const Ul=!!Dl&&g.current.length>0&&Ml.length>0;g.current=Ml,zl(Ul)},setDomOrder:Ml=>{j.current!=Ml&&(j.current=Ml,zl(!1))},setContainerWidth:Ml=>{d.current&&(d.current.style.width=Ml)},setOffsetTop:Ml=>{d.current&&(d.current.style.transform=`translateY(${Ml})`)}};rt.current=o.createBean(new import_ag_grid_community15.RowContainerCtrl(e)),rt.current.setComp(In,d.current,c.current)}},[Ft,it]),Ln=(0,import_react19.useCallback)(zl=>{d.current=zl,ot()},[ot]),Cl=(0,import_react19.useCallback)(zl=>{c.current=zl,ot()},[ot]),Tl=()=>import_react19.default.createElement("div",{className:st,ref:Ln,role:"rowgroup"},_.map(zl=>import_react19.default.createElement(rowComp_default,{rowCtrl:zl,containerType:a.type,key:zl.instanceId})));return import_react19.default.createElement(import_react19.default.Fragment,null,jt?import_react19.default.createElement("div",{className:nt,ref:Cl,role:"presentation"},Tl()):Tl())},rowContainerComp_default=(0,import_react19.memo)(RowContainerComp),GridBodyComp=()=>{const{context:e,resizeObserverService:o}=(0,import_react20.useContext)(BeansContext),[a,c]=(0,import_react20.useState)(""),[d,g]=(0,import_react20.useState)(0),[b,_]=(0,import_react20.useState)(0),[$,j]=(0,import_react20.useState)("0px"),[rt,nt]=(0,import_react20.useState)("0px"),[st,jt]=(0,import_react20.useState)("100%"),[wl,Ft]=(0,import_react20.useState)("0px"),[it,ot]=(0,import_react20.useState)("0px"),[Ln,Cl]=(0,import_react20.useState)("100%"),[Tl,zl]=(0,import_react20.useState)(""),[In,Ml]=(0,import_react20.useState)(""),[Dl,Ul]=(0,import_react20.useState)(null),[Vl,mu]=(0,import_react20.useState)(""),[rp,Ju]=(0,import_react20.useState)(null),[cp,hp]=(0,import_react20.useState)("ag-layout-normal"),yp=(0,import_react20.useRef)();yp.current||(yp.current=new import_ag_grid_community16.CssClassManager(()=>xp.current));const xp=(0,import_react20.useRef)(null),fp=(0,import_react20.useRef)(null),_p=(0,import_react20.useRef)(null),ip=(0,import_react20.useRef)(null),gp=(0,import_react20.useRef)(null),Dp=(0,import_react20.useRef)(null),Fp=(0,import_react20.useRef)(null),n0=(0,import_react20.useRef)([]),S0=(0,import_react20.useRef)([]);reactComment_default(" AG Grid Body ",xp),reactComment_default(" AG Pinned Top ",fp),reactComment_default(" AG Sticky Top ",_p),reactComment_default(" AG Middle ",Dp),reactComment_default(" AG Pinned Bottom ",Fp);const C0=(0,import_react20.useCallback)(Dm=>{if(xp.current=Dm,!Dm){n0.current=e.destroyBeans(n0.current),S0.current.forEach(B0=>B0()),S0.current=[];return}if(!e)return;const Nm=(B0,Pp)=>{B0.appendChild(Pp),S0.current.push(()=>B0.removeChild(Pp))},Om=B0=>{const Pp=e.createBean(new B0);return n0.current.push(Pp),Pp},Mm=(B0,Pp,Yp)=>{Nm(B0,document.createComment(Yp)),Nm(B0,Om(Pp).getGui())};Mm(Dm,import_ag_grid_community16.FakeHScrollComp," AG Fake Horizontal Scroll "),Mm(Dm,import_ag_grid_community16.OverlayWrapperComponent," AG Overlay Wrapper "),gp.current&&Mm(gp.current,import_ag_grid_community16.FakeVScrollComp," AG Fake Vertical Scroll ");const cm={setRowAnimationCssOnBodyViewport:c,setColumnCount:B0=>{xp.current&&(0,import_ag_grid_community16._setAriaColCount)(xp.current,B0)},setRowCount:B0=>{xp.current&&(0,import_ag_grid_community16._setAriaRowCount)(xp.current,B0)},setTopHeight:g,setBottomHeight:_,setStickyTopHeight:j,setStickyTopTop:nt,setStickyTopWidth:jt,setTopDisplay:zl,setBottomDisplay:Ml,setColumnMovingCss:(B0,Pp)=>yp.current.addOrRemoveCssClass(B0,Pp),updateLayoutClasses:hp,setAlwaysVerticalScrollClass:Ul,setPinnedTopBottomOverflowY:mu,setCellSelectableCss:(B0,Pp)=>Ju(Pp?B0:null),setBodyViewportWidth:B0=>{Dp.current&&(Dp.current.style.width=B0)},registerBodyViewportResizeListener:B0=>{if(Dp.current){const Pp=o.observeResize(Dp.current,B0);S0.current.push(()=>Pp())}},setStickyBottomHeight:Ft,setStickyBottomBottom:ot,setStickyBottomWidth:Cl},Jm=e.createBean(new import_ag_grid_community16.GridBodyCtrl);n0.current.push(Jm),Jm.setComp(cm,Dm,Dp.current,fp.current,Fp.current,_p.current,ip.current)},[]),P0=(0,import_react20.useMemo)(()=>classesList("ag-root","ag-unselectable",cp),[cp]),k0=(0,import_react20.useMemo)(()=>classesList("ag-body-viewport",a,cp,Dl,rp),[a,cp,Dl,rp]),T0=(0,import_react20.useMemo)(()=>classesList("ag-body",cp),[cp]),im=(0,import_react20.useMemo)(()=>classesList("ag-floating-top",rp),[rp]),am=(0,import_react20.useMemo)(()=>classesList("ag-sticky-top",rp),[rp]),bm=(0,import_react20.useMemo)(()=>classesList("ag-sticky-bottom",wl==="0px"?"ag-hidden":null,rp),[rp,wl]),_g=(0,import_react20.useMemo)(()=>classesList("ag-floating-bottom",rp),[rp]),b0=(0,import_react20.useMemo)(()=>({height:d,minHeight:d,display:Tl,overflowY:Vl}),[d,Tl,Vl]),U0=(0,import_react20.useMemo)(()=>({height:$,top:rt,width:st}),[$,rt,st]),mm=(0,import_react20.useMemo)(()=>({height:wl,bottom:it,width:Ln}),[wl,it,Ln]),Lm=(0,import_react20.useMemo)(()=>({height:b,minHeight:b,display:In,overflowY:Vl}),[b,In,Vl]),Um=Dm=>import_react20.default.createElement(rowContainerComp_default,{name:Dm,key:`${Dm}-container`}),Hm=({section:Dm,children:Nm,className:Om,style:Mm})=>import_react20.default.createElement("div",{ref:Dm,className:Om,role:"presentation",style:Mm},Nm.map(Um));return import_react20.default.createElement("div",{ref:C0,className:P0,role:"treegrid"},import_react20.default.createElement(gridHeaderComp_default,null),Hm({section:fp,className:im,style:b0,children:["topLeft","topCenter","topRight","topFullWidth"]}),import_react20.default.createElement("div",{className:T0,ref:gp,role:"presentation"},Hm({section:Dp,className:k0,children:["left","center","right","fullWidth"]})),Hm({section:_p,className:am,style:U0,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),Hm({section:ip,className:bm,style:mm,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),Hm({section:Fp,className:_g,style:Lm,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},gridBodyComp_default=(0,import_react20.memo)(GridBodyComp),import_ag_grid_community17=main_cjs,import_react21=__toESM(reactExports),TabGuardCompRef=(e,o)=>{const{children:a,eFocusableElement:c,onTabKeyDown:d,gridCtrl:g,forceFocusOutWhenTabGuardsAreEmpty:b}=e,{context:_}=(0,import_react21.useContext)(BeansContext),$=(0,import_react21.useRef)(null),j=(0,import_react21.useRef)(null),rt=(0,import_react21.useRef)(),nt=it=>{const ot=it==null?void 0:parseInt(it,10).toString();[$,j].forEach(Ln=>{var Cl,Tl;ot===void 0?(Cl=Ln.current)==null||Cl.removeAttribute("tabindex"):(Tl=Ln.current)==null||Tl.setAttribute("tabindex",ot)})};(0,import_react21.useImperativeHandle)(o,()=>({forceFocusOutOfContainer(it){var ot;(ot=rt.current)==null||ot.forceFocusOutOfContainer(it)}}));const st=(0,import_react21.useCallback)(()=>{const it=$.current,ot=j.current;if(!it&&!ot){rt.current=_.destroyBean(rt.current);return}if(it&&ot){const Ln={setTabIndex:nt};rt.current=_.createBean(new import_ag_grid_community17.TabGuardCtrl({comp:Ln,eTopGuard:it,eBottomGuard:ot,eFocusableElement:c,onTabKeyDown:d,forceFocusOutWhenTabGuardsAreEmpty:b,focusInnerElement:Cl=>g.focusInnerElement(Cl)}))}},[]),jt=(0,import_react21.useCallback)(it=>{$.current=it,st()},[st]),wl=(0,import_react21.useCallback)(it=>{j.current=it,st()},[st]),Ft=it=>{const ot=it==="top"?import_ag_grid_community17.TabGuardClassNames.TAB_GUARD_TOP:import_ag_grid_community17.TabGuardClassNames.TAB_GUARD_BOTTOM;return import_react21.default.createElement("div",{className:`${import_ag_grid_community17.TabGuardClassNames.TAB_GUARD} ${ot}`,role:"presentation",ref:it==="top"?jt:wl})};return import_react21.default.createElement(import_react21.default.Fragment,null,Ft("top"),a,Ft("bottom"))},TabGuardComp=(0,import_react21.forwardRef)(TabGuardCompRef),tabGuardComp_default=(0,import_react21.memo)(TabGuardComp),GridComp=({context:e})=>{const[o,a]=(0,import_react22.useState)(""),[c,d]=(0,import_react22.useState)(""),[g,b]=(0,import_react22.useState)(""),[_,$]=(0,import_react22.useState)(null),[j,rt]=(0,import_react22.useState)(null),[nt,st]=(0,import_react22.useState)(!1),[jt,wl]=(0,import_react22.useState)(),Ft=(0,import_react22.useRef)(),it=(0,import_react22.useRef)(null),ot=(0,import_react22.useRef)(),[Ln,Cl]=(0,import_react22.useState)(null),Tl=(0,import_react22.useRef)(()=>{}),zl=(0,import_react22.useRef)(),In=(0,import_react22.useRef)([]),Ml=(0,import_react22.useCallback)(()=>{},[]),Dl=(0,import_react22.useMemo)(()=>e.isDestroyed()?null:e.getBeans(),[e]);reactComment_default(" AG Grid ",it);const Ul=(0,import_react22.useCallback)(cp=>{if(it.current=cp,Ft.current=cp?e.createBean(new import_ag_grid_community18.GridCtrl):e.destroyBean(Ft.current),!cp||e.isDestroyed())return;const hp=Ft.current;Tl.current=hp.focusInnerElement.bind(hp);const yp={destroyGridUi:()=>{},setRtlClass:a,setGridThemeClass:d,forceFocusOutOfContainer:xp=>{var fp,_p;if(!xp&&((fp=zl.current)!=null&&fp.isDisplayed())){zl.current.forceFocusOutOfContainer(xp);return}(_p=ot.current)==null||_p.forceFocusOutOfContainer(xp)},updateLayoutClasses:b,getFocusableContainers:()=>{var _p;const xp=[],fp=(_p=it.current)==null?void 0:_p.querySelector(".ag-root");return fp&&xp.push({getGui:()=>fp}),In.current.forEach(ip=>{ip.isDisplayed()&&xp.push(ip)}),xp},setCursor:$,setUserSelect:rt};hp.setComp(yp,cp,cp),st(!0)},[]);(0,import_react22.useEffect)(()=>{const cp=Ft.current,hp=it.current;if(!jt||!Dl||!cp||!Ln||!hp)return;const yp=[],{watermarkSelector:xp,paginationSelector:fp,sideBarSelector:_p,statusBarSelector:ip,gridHeaderDropZonesSelector:gp}=cp.getOptionalSelectors(),Dp=[];if(gp){const n0=e.createBean(new gp.component),S0=n0.getGui();hp.insertAdjacentElement("afterbegin",S0),Dp.push(S0),yp.push(n0)}if(_p){const n0=e.createBean(new _p.component),S0=n0.getGui(),C0=Ln.querySelector(".ag-tab-guard-bottom");C0&&(C0.insertAdjacentElement("beforebegin",S0),Dp.push(S0)),yp.push(n0),In.current.push(n0)}const Fp=n0=>{const S0=e.createBean(new n0),C0=S0.getGui();return hp.insertAdjacentElement("beforeend",C0),Dp.push(C0),yp.push(S0),S0};if(ip&&Fp(ip.component),fp){const n0=Fp(fp.component);zl.current=n0,In.current.push(n0)}return xp&&Fp(xp.component),()=>{e.destroyBeans(yp),Dp.forEach(n0=>{var S0;(S0=n0.parentElement)==null||S0.removeChild(n0)})}},[jt,Ln,Dl]);const Vl=(0,import_react22.useMemo)(()=>classesList("ag-root-wrapper",o,c,g),[o,c,g]),mu=(0,import_react22.useMemo)(()=>classesList("ag-root-wrapper-body","ag-focus-managed",g),[g]),rp=(0,import_react22.useMemo)(()=>({userSelect:j??"",WebkitUserSelect:j??"",cursor:_??""}),[j,_]),Ju=(0,import_react22.useCallback)(cp=>{ot.current=cp,wl(cp!==null)},[]);return import_react22.default.createElement("div",{ref:Ul,className:Vl,style:rp,role:"presentation"},import_react22.default.createElement("div",{className:mu,ref:Cl,role:"presentation"},nt&&Ln&&Dl&&import_react22.default.createElement(BeansContext.Provider,{value:Dl},import_react22.default.createElement(tabGuardComp_default,{ref:Ju,eFocusableElement:Ln,onTabKeyDown:Ml,gridCtrl:Ft.current,forceFocusOutWhenTabGuardsAreEmpty:!0},import_react22.default.createElement(gridBodyComp_default,null)))))},gridComp_default=(0,import_react22.memo)(GridComp),import_ag_grid_community19=main_cjs,RenderStatusService=class extends import_ag_grid_community19.BeanStub{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(o=>o.areCellsRendered()))}},AgGridReactUi=e=>{var it;const o=(0,import_react23.useRef)(),a=(0,import_react23.useRef)(null),c=(0,import_react23.useRef)(null),d=(0,import_react23.useRef)([]),g=(0,import_react23.useRef)([]),b=(0,import_react23.useRef)(e),_=(0,import_react23.useRef)(),$=(0,import_react23.useRef)(),j=(0,import_react23.useRef)(!1),[rt,nt]=(0,import_react23.useState)(void 0),[,st]=(0,import_react23.useState)(0),jt=(0,import_react23.useCallback)(ot=>{if(a.current=ot,!ot){d.current.forEach(mu=>mu()),d.current.length=0;return}const Ln=e.modules||[];c.current||(c.current=new PortalManager(()=>st(mu=>mu+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),d.current.push(()=>{var mu;(mu=c.current)==null||mu.destroy(),c.current=null}));const Cl=(0,import_ag_grid_community20._combineAttributesAndGridOptions)(e.gridOptions,e),Tl=()=>{if(j.current){const mu=()=>{var Ju;return(Ju=_.current)!=null&&Ju.shouldQueueUpdates()?void 0:g.current.shift()};let rp=mu();for(;rp;)rp(),rp=mu()}},zl=new ReactFrameworkOverrides(Tl);_.current=zl;const In=new RenderStatusService,Ml={providedBeanInstances:{frameworkComponentWrapper:new ReactFrameworkComponentWrapper(c.current,Cl.reactiveCustomComponents??(0,import_ag_grid_community20._getGlobalGridOption)("reactiveCustomComponents")??!0),renderStatusService:In},modules:Ln,frameworkOverrides:zl},Dl=mu=>{nt(mu),mu.createBean(In),d.current.push(()=>{mu.destroy()}),mu.getBean("ctrlsService").whenReady({addDestroyFunc:rp=>{d.current.push(rp)}},()=>{var Ju;if(mu.isDestroyed())return;const rp=o.current;rp&&((Ju=e.setGridApi)==null||Ju.call(e,rp))})},Ul=mu=>{mu.getBean("ctrlsService").whenReady({addDestroyFunc:rp=>{d.current.push(rp)}},()=>{g.current.forEach(rp=>rp()),g.current.length=0,j.current=!0})},Vl=new import_ag_grid_community20.GridCoreCreator;Cl.gridId??(Cl.gridId=$.current),o.current=Vl.create(ot,Cl,Dl,Ul,Ml),d.current.push(()=>{o.current=void 0}),o.current&&($.current=o.current.getGridId())},[]),wl=(0,import_react23.useMemo)(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),Ft=(0,import_react23.useCallback)(ot=>{var Ln;j.current&&!((Ln=_.current)!=null&&Ln.shouldQueueUpdates())?ot():g.current.push(ot)},[]);return(0,import_react23.useEffect)(()=>{const ot=extractGridPropertyChanges(b.current,e);b.current=e,Ft(()=>{o.current&&(0,import_ag_grid_community20._processOnChange)(ot,o.current)})},[e]),import_react23.default.createElement("div",{style:wl,className:e.className,ref:jt},rt&&!rt.isDestroyed()?import_react23.default.createElement(gridComp_default,{context:rt}):null,((it=c.current)==null?void 0:it.getPortals())??null)};function extractGridPropertyChanges(e,o){const a={};return Object.keys(o).forEach(c=>{const d=o[c];e[c]!==d&&(a[c]=d)}),a}var ReactFrameworkComponentWrapper=class extends import_ag_grid_community20.BaseComponentWrapper{constructor(e,o){super(),this.parent=e,this.reactiveCustomComponents=o}createWrapper(e,o){if(this.reactiveCustomComponents){const d=(g=>{switch(g){case"filter":return FilterComponentWrapper;case"floatingFilterComponent":return FloatingFilterComponentWrapper;case"dateComponent":return DateComponentWrapper;case"dragAndDropImageComponent":return DragAndDropImageComponentWrapper;case"loadingOverlayComponent":return LoadingOverlayComponentWrapper;case"noRowsOverlayComponent":return NoRowsOverlayComponentWrapper;case"statusPanel":return StatusPanelComponentWrapper;case"toolPanel":return ToolPanelComponentWrapper;case"menuItem":return MenuItemComponentWrapper;case"cellRenderer":return CellRendererComponentWrapper}})(o.propertyName);if(d)return new d(e,this.parent,o)}else switch(o.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":warnReactiveCustomComponents();break}const a=!o.cellRenderer&&o.propertyName!=="toolPanel";return new ReactComponent(e,this.parent,o,a)}},DetailCellRenderer=(0,import_react23.forwardRef)((e,o)=>{const{ctrlsFactory:a,context:c,gos:d,resizeObserverService:g,rowModel:b}=(0,import_react23.useContext)(BeansContext),[_,$]=(0,import_react23.useState)(()=>new CssClasses),[j,rt]=(0,import_react23.useState)(()=>new CssClasses),[nt,st]=(0,import_react23.useState)(),[jt,wl]=(0,import_react23.useState)(),Ft=(0,import_react23.useRef)(),it=(0,import_react23.useRef)(null),ot=(0,import_react23.useRef)(),Ln=(0,import_react23.useMemo)(()=>import_ag_grid_community20.ModuleRegistry.__getGridRegisteredModules(e.api.getGridId()),[e]),Cl=(0,import_react23.useMemo)(()=>_.toString()+" ag-details-row",[_]),Tl=(0,import_react23.useMemo)(()=>j.toString()+" ag-details-grid",[j]);o&&(0,import_react23.useImperativeHandle)(o,()=>({refresh(){var Ml;return((Ml=Ft.current)==null?void 0:Ml.refresh())??!1}})),e.template&&(0,import_ag_grid_community20._warnOnce)("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const zl=(0,import_react23.useCallback)(Ml=>{var Vl;if(it.current=Ml,!Ml){Ft.current=c.destroyBean(Ft.current),(Vl=ot.current)==null||Vl.call(ot);return}const Dl={addOrRemoveCssClass:(mu,rp)=>$(Ju=>Ju.setClass(mu,rp)),addOrRemoveDetailGridCssClass:(mu,rp)=>rt(Ju=>Ju.setClass(mu,rp)),setDetailGrid:mu=>st(mu),setRowData:mu=>wl(mu),getGui:()=>it.current},Ul=a.getInstance("detailCellRenderer");if(Ul&&(c.createBean(Ul),Ul.init(Dl,e),Ft.current=Ul,d.get("detailRowAutoHeight"))){const mu=()=>{if(it.current==null)return;const rp=it.current.clientHeight;rp!=null&&rp>0&&setTimeout(()=>{e.node.setRowHeight(rp),((0,import_ag_grid_community20._isClientSideRowModel)(d)||(0,import_ag_grid_community20._isServerSideRowModel)(d))&&b.onRowHeightChanged()},0)};ot.current=g.observeResize(Ml,mu),mu()}},[]),In=(0,import_react23.useCallback)(Ml=>{var Dl;(Dl=Ft.current)==null||Dl.registerDetailWithMaster(Ml)},[]);return import_react23.default.createElement("div",{className:Cl,ref:zl},nt&&import_react23.default.createElement(AgGridReactUi,{className:Tl,...nt,modules:Ln,rowData:jt,setGridApi:In}))}),ReactFrameworkOverrides=class extends import_ag_grid_community20.VanillaFrameworkOverrides{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:groupCellRenderer_default,agGroupRowRenderer:groupCellRenderer_default,agDetailCellRenderer:DetailCellRenderer},this.wrapIncoming=(o,a)=>a==="ensureVisible"?runWithoutFlushSync(o):o(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const o=e.prototype;return!(o&&"getGui"in o)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return isReact19()}},AgGridReact=class extends import_react24.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(o=>o(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return import_react24.default.createElement(AgGridReactUi,{...this.props,setGridApi:this.setGridApi})}},import_react25=reactExports;function useGridCustomComponent(e){const{setMethods:o}=(0,import_react25.useContext)(CustomContext);o(e)}function useGridCellEditor(e){useGridCustomComponent(e)}function useGridDate(e){return useGridCustomComponent(e)}function useGridFilter(e){return useGridCustomComponent(e)}function useGridFloatingFilter(e){useGridCustomComponent(e)}function useGridMenuItem(e){useGridCustomComponent(e)}var ColumnSelector$1={};Object.defineProperty(ColumnSelector$1,"__esModule",{value:!0});ColumnSelector$1.default=void 0;var _react$4=_interopRequireWildcard$2(reactExports);function _getRequireWildcardCache$2(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache$2=function(c){return c?a:o})(e)}function _interopRequireWildcard$2(e,o){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var a=_getRequireWildcardCache$2(o);if(a&&a.has(e))return a.get(e);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in e)if(g!=="default"&&Object.prototype.hasOwnProperty.call(e,g)){var b=d?Object.getOwnPropertyDescriptor(e,g):null;b&&(b.get||b.set)?Object.defineProperty(c,g,b):c[g]=e[g]}return c.default=e,a&&a.set(e,c),c}const ColumnSelector=e=>{const[o,a]=(0,_react$4.useState)(!1),c=(0,_react$4.useRef)(null);(0,_react$4.useEffect)(()=>{const b=_=>{c.current&&!c.current.contains(_.target)&&o&&a(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[o]);const d=b=>{const{name:_,checked:$}=b.target;let j=e.columnDefs.map(rt=>({...rt,hide:rt.field===_?!$:rt.hide}));e.setColumnDefs(j)};let g="column-dropdown-content";return o&&(g+=" show"),_react$4.default.createElement("div",null,_react$4.default.createElement("div",{ref:c,className:"column-dropdown"},_react$4.default.createElement("button",{className:"aggrid-style-button",onClick:()=>a(b=>!b)},"Show columns"),_react$4.default.createElement("div",{className:g},_react$4.default.createElement("ul",null,e.columnDefs.map(b=>b.field!=="id"&&_react$4.default.createElement("li",{key:b.field},_react$4.default.createElement("label",null,_react$4.default.createElement("input",{name:b.field,type:"checkbox",checked:!b.hide,onChange:d}),_react$4.default.createElement("span",null,b.headerName))))))))};ColumnSelector$1.default=ColumnSelector;var CustomHeader$1={};Object.defineProperty(CustomHeader$1,"__esModule",{value:!0});CustomHeader$1.default=void 0;var _react$3=_interopRequireDefault$3(reactExports);function _interopRequireDefault$3(e){return e&&e.__esModule?e:{default:e}}class CustomHeader extends _react$3.default.Component{constructor(o){super(o),this.state={sortMode:"none",multiSort:!1,sortIndex:null,filterActive:!1}}componentDidMount(){this.props.column.addEventListener("filterChanged",this.onFilterChanged.bind(this)),this.props.api.addEventListener("sortChanged",this.onSortChanged.bind(this)),this.onSortClicked.bind(this),this.onSortChanged(),this.onFilterChanged()}render(){let o=_react$3.default.createElement("div",{ref:g=>{this.menuButton=g},className:"customHeaderMenuButton",onClick:this.onMenuClicked.bind(this),onTouchEnd:this.onMenuClicked.bind(this)},this.state.filterActive?_react$3.default.createElement("div",{className:"filter-div active"},_react$3.default.createElement("i",{className:"ag-icon ag-icon-filter"})):_react$3.default.createElement("div",{className:"filter-div"},_react$3.default.createElement("i",{className:"ag-icon ag-icon-menu"}))),a="";this.state.sortMode==="asc"&&(a=_react$3.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,_react$3.default.createElement("i",{className:"ag-icon ag-icon-asc"}))),this.state.sortMode==="desc"&&(a=_react$3.default.createElement("div",{style:{display:"flex"}},this.state.multiSort&&this.state.sortIndex+1,_react$3.default.createElement("i",{className:"ag-icon ag-icon-desc"})));let c="unit"in this.props&&this.props.unit!=null,d=_react$3.default.createElement("div",{className:"custom-header-label-container",onClick:this.onSortClicked.bind(this),onTouchEnd:this.onSortClicked.bind(this)},a,_react$3.default.createElement("div",{className:"customHeaderLabel"},_react$3.default.createElement("span",null,this.props.displayName),c&&_react$3.default.createElement("div",{className:"unit-label"},"(",this.props.unit,")")));return _react$3.default.createElement("div",{className:"custom-header-container"},d,o)}onMenuClicked(){this.props.showColumnMenu(this.menuButton);const o=document.querySelector(".ag-menu.ag-ltr.ag-popup-child");if(o){o.style.maxWidth="200px";const a=document.createElement("div");if(a.style.margin="5px 10px 0px 10px",a.innerHTML="<b>Apply filter:</b>",o.prepend(a),this.props.infoText!=null){const c=document.createElement("div");c.style.margin="10px 10px 0px 10px",c.style.textAlign="justify",c.innerHTML=this.props.infoText,o.prepend(c)}}}onSortChanged(){if(!this.props.api){console.log("CustomHeader: api undefined!");return}let o="none";this.props.column.isSortAscending()&&(o="asc"),this.props.column.isSortDescending()&&(o="desc");let c=this.props.api.getColumnState().filter(g=>g.sort!==null).length>1,d=this.props.column.getSortIndex();this.setState({sortMode:o,multiSort:c,sortIndex:d})}onFilterChanged(){this.setState({filterActive:this.props.column.isFilterActive()})}onSortClicked(o){this.props.progressSort(o.shiftKey)}}CustomHeader$1.default=CustomHeader;var ResetButton$1={};Object.defineProperty(ResetButton$1,"__esModule",{value:!0});ResetButton$1.default=void 0;var _react$2=_interopRequireDefault$2(reactExports);function _interopRequireDefault$2(e){return e&&e.__esModule?e:{default:e}}function resetFilters(e){if(e){const o=e.getFilterModel();Object.keys(o).length>0&&e.setFilterModel({})}}function ResetButton(e){let{gridApi:o,anyColFilterActive:a}=e;const c=()=>{resetFilters(o)};return _react$2.default.createElement("button",{className:`aggrid-style-button ${a?"":"disabled"}`,onClick:c,disabled:!a},"Reset column filters")}ResetButton$1.default=ResetButton;Object.defineProperty(MaterialDataGrid$1,"__esModule",{value:!0});MaterialDataGrid$1.default=void 0;var _react$1=_interopRequireWildcard$1(reactExports),_Popover=_interopRequireDefault$1(require$$1),_agGridReact=index_cjs,_ColumnSelector=_interopRequireDefault$1(ColumnSelector$1),_CustomHeader=_interopRequireDefault$1(CustomHeader$1),_mcReactLibrary=require$$8,_ResetButton=_interopRequireDefault$1(ResetButton$1);function _interopRequireDefault$1(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache$1(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache$1=function(c){return c?a:o})(e)}function _interopRequireWildcard$1(e,o){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var a=_getRequireWildcardCache$1(o);if(a&&a.has(e))return a.get(e);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in e)if(g!=="default"&&Object.prototype.hasOwnProperty.call(e,g)){var b=d?Object.getOwnPropertyDescriptor(e,g):null;b&&(b.get||b.set)?Object.defineProperty(c,g,b):c[g]=e[g]}return c.default=e,a&&a.set(e,c),c}function idCellRenderer(e){return _react$1.default.createElement("a",{href:e.data.href,target:"_blank",rel:"noreferrer",style:{textDecoration:"none",color:"mediumblue"}},e.value)}function floatFormatter(e){return e.value==null?"-":Math.abs(e.value)>=1e5||Math.abs(e.value)<.01&&e.value!==0?e.value.toExponential(2):e.value.toFixed(2)}function textFormatter(e){return e.value==null?"-":e.value}function numberFormatter(e){return e.value==null?"-":e.value}function formulaCellRenderer(e){if(e.value==null)return"-";let o=e.value.split(/(\d+)/);return _react$1.default.createElement("span",null,o.map((a,c)=>a.match(/\d+/)?_react$1.default.createElement("sub",{key:c},a):a))}function spaceGroupSymbolRenderer(e){if(e.value==null)return"-";let o=!1;return _react$1.default.createElement("span",null,e.value.split("").map((a,c)=>a==="_"?(o=!0,null):o?(o=!1,_react$1.default.createElement("sub",{key:c},a)):a))}function estimateColumnWidth(e){const c=e.split(/\s+/),d=Math.max(...c.map(_=>_.length)),b=Math.max(e.length/2,d)*7+40;return Math.max(b,120)}function getColumnDefs(e){return e.map(o=>{let a=structuredClone(o);return delete a.colType,o.colType==="text"?Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter}):o.colType==="integer"?Object.assign(a,{filter:"agNumberColumnFilter",valueFormatter:numberFormatter}):o.colType==="float"?Object.assign(a,{filter:"agNumberColumnFilter",valueFormatter:floatFormatter}):o.colType==="boolean"?Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter}):o.colType==="id"?Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter,pinned:"left",cellRenderer:idCellRenderer}):o.colType==="formula"?Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter,cellRenderer:formulaCellRenderer}):o.colType==="spg_symbol"&&Object.assign(a,{filter:"agTextColumnFilter",valueFormatter:textFormatter,cellRenderer:spaceGroupSymbolRenderer}),Object.assign(a,{filterParams:{buttons:["reset","apply"],closeOnApply:!0}}),a.headerComponentParams={},"unit"in o&&(a.headerComponentParams.unit=o.unit,delete a.unit),"infoText"in o&&(a.headerComponentParams.infoText=o.infoText,delete a.infoText),"hide"in o||(a.hide=!1),"minWidth"in o||(a.minWidth=estimateColumnWidth(o.headerName)),a})}const defaultColDef={minWidth:120,flex:1,sortable:!0,resizable:!0},components={agColumnHeader:_CustomHeader.default},helpPopover=_react$1.default.createElement(_Popover.default,{id:"popover-basic"},_react$1.default.createElement(_Popover.default.Header,{as:"h3"},"Materials Grid help"),_react$1.default.createElement(_Popover.default.Body,{style:{textAlign:"justify"}},_react$1.default.createElement("p",null,"The Materials Grid, shown below, contains all the filtered materials."),_react$1.default.createElement("b",null,"Columns"),_react$1.default.createElement("p",null,"A selection of properties are shown in columns. Click"," ",_react$1.default.createElement("b",null,"Show columns")," to hide/show all available columns."),_react$1.default.createElement("b",null,"Sorting"),_react$1.default.createElement("p",null,"The grid can be sorted based on any column by clicking on the corresponding label in the header. ",_react$1.default.createElement("b",null,"Holding down shift")," allows to sort based on multiple columns."),_react$1.default.createElement("b",null,"Column menu and filtering"),_react$1.default.createElement("p",null,"Each column has a menu that contains any additional information about the column, and allows to filter the list of materials. Active filters are indicated by the menu icon turning into a blue filter icon."))),MaterialDataGrid=(0,_react$1.forwardRef)((e,o)=>{const[a,c]=(0,_react$1.useState)(null),[d,g]=(0,_react$1.useState)(null),[b,_]=(0,_react$1.useState)(null),[$,j]=(0,_react$1.useState)(getColumnDefs(e.columns));(0,_react$1.useImperativeHandle)(o,()=>({getFilteredRows:()=>{const ot=[];return a&&a.forEachNodeAfterFilter(Ln=>{let Cl={...Ln.data};"elem_array"in Cl&&delete Cl.elem_array,ot.push(Cl)}),ot}})),(0,_react$1.useEffect)(()=>{a&&a.onFilterChanged()},[e.ptable_filter,a]),(0,_react$1.useEffect)(()=>{j(getColumnDefs(e.columns))},[e.columns]);const rt=ot=>{c(ot.api),ot.api.onFilterChanged()},nt=()=>Object.keys(e.ptable_filter.elements).length>0,st=()=>{if(a){let ot=a.getDisplayedRowCount();d!==ot&&g(ot)}},jt=ot=>{if(ot.data){if(e.ptable_filter.mode==="exact"){let Ln=Object.keys(e.ptable_filter.elements),Cl=ot.data.elem_array.length===Ln.length,Tl=ot.data.elem_array.every(zl=>Ln.includes(zl));return Cl&&Tl}if(e.ptable_filter.mode==="include"){let Ln=[],Cl=[];for(const[In,Ml]of Object.entries(e.ptable_filter.elements))Ml===1&&Ln.push(In),Ml===2&&Cl.push(In);let Tl=Ln.every(In=>ot.data.elem_array.includes(In)),zl=ot.data.elem_array.every(In=>!Cl.includes(In));return Tl&&zl}}return!0},wl=()=>{if(st(),a){const ot=a.getFilterModel();_(Object.keys(ot).length>0)}},Ft=()=>{st()},it={pagination:!0,paginationPageSize:20,suppressMenuHide:!0,enableCellTextSelection:!0,ensureDomOrder:!0,domLayout:"autoHeight",headerHeight:54};return _react$1.default.createElement("div",null,_react$1.default.createElement("div",{className:"grid-header-row"},_react$1.default.createElement("div",{className:"grid-header-row-left-side"},_react$1.default.createElement("span",{className:"grid-header-row-showing-text"},"Showing ",d," entries out of ",e.rows.length),_react$1.default.createElement("div",{style:{marginLeft:"10px"}},_react$1.default.createElement(_mcReactLibrary.HelpButton,{popover:helpPopover,placement:"right"}))),_react$1.default.createElement("div",{className:"grid-header-row-right-side"},_react$1.default.createElement(_ResetButton.default,{gridApi:a,anyColFilterActive:b}),_react$1.default.createElement(_ColumnSelector.default,{columnDefs:$,setColumnDefs:j}))),_react$1.default.createElement("div",{className:"ag-theme-alpine custom-grid-container"},_react$1.default.createElement(_agGridReact.AgGridReact,{columnDefs:$,defaultColDef,rowData:e.rows,gridOptions:it,onGridReady:rt,isExternalFilterPresent:nt,doesExternalFilterPass:jt,onFilterChanged:wl,onRowDataUpdated:Ft,components})))});MaterialDataGrid$1.default=MaterialDataGrid;Object.defineProperty(dist,"__esModule",{value:!0});var default_1=dist.default=void 0,_react=_interopRequireWildcard(reactExports),_PTable=_interopRequireDefault(PTable$1),_MaterialDataGrid=_interopRequireDefault(MaterialDataGrid$1);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(e){if(typeof WeakMap!="function")return null;var o=new WeakMap,a=new WeakMap;return(_getRequireWildcardCache=function(c){return c?a:o})(e)}function _interopRequireWildcard(e,o){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var a=_getRequireWildcardCache(o);if(a&&a.has(e))return a.get(e);var c={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in e)if(g!=="default"&&Object.prototype.hasOwnProperty.call(e,g)){var b=d?Object.getOwnPropertyDescriptor(e,g):null;b&&(b.get||b.set)?Object.defineProperty(c,g,b):c[g]=e[g]}return c.default=e,a&&a.set(e,c),c}function calcElementArray(e){return[...new Set(e.match(/[A-Z][a-z]?/g))]}function modifyRows(e,o){let a=o.filter(d=>d.colType==="boolean").map(d=>d.field);return e.map(d=>{const g={...d,elem_array:calcElementArray(d.formula)};return a.forEach(b=>{b in g&&(g[b]=g[b]?"yes":"no")}),g})}const MaterialSelector=(0,_react.forwardRef)((e,o)=>{const[a,c]=(0,_react.useState)({mode:"include",elements:{}}),[d,g]=(0,_react.useState)([]);(0,_react.useEffect)(()=>{let $=modifyRows(e.rows,e.columns);g($)},[e.rows,e.columns]);const b=(0,_react.useCallback)($=>{let j=a.mode,rt=structuredClone(a);if("mode"in $&&(rt.mode=$.mode,j=$.mode,$.mode==="exact"))for(const[nt,st]of Object.entries(rt.elements))st>1&&delete rt.elements[nt];if("element"in $){let nt=$.element;$.element in rt.elements?rt.elements[nt]+=1:rt.elements[nt]=1,j==="exact"?rt.elements[nt]===2&&delete rt.elements[nt]:j==="include"&&rt.elements[nt]===3&&delete rt.elements[nt]}c(rt)},[a]),_=e.columns.length>0;return _react.default.createElement("div",{className:"material_selector_container"},_react.default.createElement(_PTable.default,{onSelectionChange:b,filter:a,rows:d}),_react.default.createElement("div",{style:{marginTop:"5px"}}),_?_react.default.createElement(_MaterialDataGrid.default,{ref:o,columns:e.columns,rows:d,ptable_filter:a}):_react.default.createElement("div",{style:{marginTop:"50px",border:"solid 2px rgb(220, 220, 220)",height:"600px",display:"flex",justifyContent:"center",alignItems:"center"}},"Loading..."))});default_1=dist.default=MaterialSelector;const Mc3dLogo="/develop/assets/mc3d-BE0OUaqM.png";function cn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ve={exports:{}},ae={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sn;function ri(){if(Sn)return ae;Sn=1;var e=React,o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b(_,$,j){var rt,nt={},st=null,jt=null;j!==void 0&&(st=""+j),$.key!==void 0&&(st=""+$.key),$.ref!==void 0&&(jt=$.ref);for(rt in $)c.call($,rt)&&!g.hasOwnProperty(rt)&&(nt[rt]=$[rt]);if(_&&_.defaultProps)for(rt in $=_.defaultProps,$)nt[rt]===void 0&&(nt[rt]=$[rt]);return{$$typeof:o,type:_,key:st,ref:jt,props:nt,_owner:d.current}}return ae.Fragment=a,ae.jsx=b,ae.jsxs=b,ae}Ve.exports=ri();var T$1=Ve.exports;const ai="_archive_doicitation_y1o5i_1",ci="_doi_badge_y1o5i_9",ui="_doi_left_y1o5i_13",li="_doi_right_y1o5i_27",Ee={archive_doicitation:ai,doi_badge:ci,doi_left:ui,doi_right:li},wu=({doi_id:e,doi:o,label:a="DOI",color:c="#a2cbff"})=>{let d="";return e!=null?d=`10.24435/materialscloud:${e}`:d=o,T$1.jsx("div",{className:Ee.archive_doicitation,children:T$1.jsxs("span",{className:Ee.doi_badge,children:[T$1.jsx("span",{className:Ee.doi_left,children:a}),T$1.jsx("a",{href:`https://doi.org/${d}`,className:Ee.doi_right,target:"_blank",style:{backgroundColor:c},children:d})]})})};function We(e,o){if(e.contains)return e.contains(o);if(e.compareDocumentPosition)return e===o||!!(e.compareDocumentPosition(o)&16)}var Je={exports:{}},ze,Mn;function un(){if(Mn)return ze;Mn=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ze=e,ze}var He,Nn;function _i$1(){if(Nn)return He;Nn=1;var e=un();function o(){}function a(){}return a.resetWarningCache=o,He=function(){function c(b,_,$,j,rt,nt){if(nt!==e){var st=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw st.name="Invariant Violation",st}}c.isRequired=c;function d(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:a,resetWarningCache:o};return g.PropTypes=g,g},He}Je.exports=_i$1()();var yi=Je.exports;const N=cn(yi);function ur(){const e=reactExports.useRef(!0),o=reactExports.useRef(()=>e.current);return reactExports.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),o.current}function bi(e){const o=reactExports.useRef(e);return o.current=e,o}function Pi(e){const o=bi(e);reactExports.useEffect(()=>()=>o.current(),[])}const Ge=2**31-1;function lr(e,o,a){const c=a-Date.now();e.current=c<=Ge?setTimeout(o,c):setTimeout(()=>lr(e,o,a),Ge)}function wi(){const e=ur(),o=reactExports.useRef();return Pi(()=>clearTimeout(o.current)),reactExports.useMemo(()=>{const a=()=>clearTimeout(o.current);function c(d,g=0){e()&&(a(),g<=Ge?o.current=setTimeout(d,g):lr(o,d,Date.now()+g))}return{set:c,clear:a,handleRef:o}},[])}var fr=function(){},Ai=fr;const dr=cn(Ai);function Oi(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function Ri(e,o,a){var c=reactExports.useRef(e!==void 0),d=reactExports.useState(o),g=d[0],b=d[1],_=e!==void 0,$=c.current;return c.current=_,!_&&$&&g!==o&&b(o),[_?e:g,reactExports.useCallback(function(j){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),st=1;st<rt;st++)nt[st-1]=arguments[st];a&&a.apply(void 0,[j].concat(nt)),b(j)},[a])]}function qe(e,o){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},qe(e,o)}function Ci(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,qe(e,o)}const Zn=e=>!e||typeof e=="function"?e:o=>{e.current=o};function Ti(e,o){const a=Zn(e),c=Zn(o);return d=>{a&&a(d),c&&c(d)}}function ne(e,o){return reactExports.useMemo(()=>Ti(e,o),[e,o])}var pr={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var o={}.hasOwnProperty;function a(){for(var g="",b=0;b<arguments.length;b++){var _=arguments[b];_&&(g=d(g,c(_)))}return g}function c(g){if(typeof g=="string"||typeof g=="number")return g;if(typeof g!="object")return"";if(Array.isArray(g))return a.apply(null,g);if(g.toString!==Object.prototype.toString&&!g.toString.toString().includes("[native code]"))return g.toString();var b="";for(var _ in g)o.call(g,_)&&g[_]&&(b=d(b,_));return b}function d(g,b){return b?g?g+" "+b:g+b:g}e.exports?(a.default=a,e.exports=a):window.classNames=a})()})(pr);var Si=pr.exports;const Ut=cn(Si);function Hn(){return reactExports.useState(null)}var Un=Object.prototype.hasOwnProperty;function Yn(e,o,a){for(a of e.keys())if(fe(a,o))return a}function fe(e,o){var a,c,d;if(e===o)return!0;if(e&&o&&(a=e.constructor)===o.constructor){if(a===Date)return e.getTime()===o.getTime();if(a===RegExp)return e.toString()===o.toString();if(a===Array){if((c=e.length)===o.length)for(;c--&&fe(e[c],o[c]););return c===-1}if(a===Set){if(e.size!==o.size)return!1;for(c of e)if(d=c,d&&typeof d=="object"&&(d=Yn(o,d),!d)||!o.has(d))return!1;return!0}if(a===Map){if(e.size!==o.size)return!1;for(c of e)if(d=c[0],d&&typeof d=="object"&&(d=Yn(o,d),!d)||!fe(c[1],o.get(d)))return!1;return!0}if(a===ArrayBuffer)e=new Uint8Array(e),o=new Uint8Array(o);else if(a===DataView){if((c=e.byteLength)===o.byteLength)for(;c--&&e.getInt8(c)===o.getInt8(c););return c===-1}if(ArrayBuffer.isView(e)){if((c=e.byteLength)===o.byteLength)for(;c--&&e[c]===o[c];);return c===-1}if(!a||typeof e=="object"){c=0;for(a in e)if(Un.call(e,a)&&++c&&!Un.call(o,a)||!(a in o)||!fe(e[a],o[a]))return!1;return Object.keys(o).length===c}}return e!==e&&o!==o}function ki(e){const o=ur();return[e[0],reactExports.useCallback(a=>{if(o())return e[1](a)},[o,e[1]])]}var dt="top",yt="bottom",bt="right",pt="left",ln="auto",he=[dt,yt,bt,pt],$t="start",ge="end",Ii="clippingParents",mr="viewport",ue="popper",ji="reference",Vn=he.reduce(function(e,o){return e.concat([o+"-"+$t,o+"-"+ge])},[]),gr=[].concat(he,[ln]).reduce(function(e,o){return e.concat([o,o+"-"+$t,o+"-"+ge])},[]),Di="beforeRead",Fi="read",Mi="afterRead",Bi="beforeMain",zi="main",Li="afterMain",Ni="beforeWrite",Zi="write",Hi="afterWrite",Ui=[Di,Fi,Mi,Bi,zi,Li,Ni,Zi,Hi];function Pt(e){return e.split("-")[0]}function gt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var o=e.ownerDocument;return o&&o.defaultView||window}return e}function Zt(e){var o=gt(e).Element;return e instanceof o||e instanceof Element}function wt(e){var o=gt(e).HTMLElement;return e instanceof o||e instanceof HTMLElement}function fn(e){if(typeof ShadowRoot>"u")return!1;var o=gt(e).ShadowRoot;return e instanceof o||e instanceof ShadowRoot}var Nt=Math.max,Te=Math.min,Qt=Math.round;function Ke(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(o){return o.brand+"/"+o.version}).join(" "):navigator.userAgent}function _r(){return!/^((?!chrome|android).)*safari/i.test(Ke())}function Xt(e,o,a){o===void 0&&(o=!1),a===void 0&&(a=!1);var c=e.getBoundingClientRect(),d=1,g=1;o&&wt(e)&&(d=e.offsetWidth>0&&Qt(c.width)/e.offsetWidth||1,g=e.offsetHeight>0&&Qt(c.height)/e.offsetHeight||1);var b=Zt(e)?gt(e):window,_=b.visualViewport,$=!_r()&&a,j=(c.left+($&&_?_.offsetLeft:0))/d,rt=(c.top+($&&_?_.offsetTop:0))/g,nt=c.width/d,st=c.height/g;return{width:nt,height:st,top:rt,right:j+nt,bottom:rt+st,left:j,x:j,y:rt}}function dn(e){var o=Xt(e),a=e.offsetWidth,c=e.offsetHeight;return Math.abs(o.width-a)<=1&&(a=o.width),Math.abs(o.height-c)<=1&&(c=o.height),{x:e.offsetLeft,y:e.offsetTop,width:a,height:c}}function vr(e,o){var a=o.getRootNode&&o.getRootNode();if(e.contains(o))return!0;if(a&&fn(a)){var c=o;do{if(c&&e.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function It(e){return e?(e.nodeName||"").toLowerCase():null}function Rt(e){return gt(e).getComputedStyle(e)}function Yi(e){return["table","td","th"].indexOf(It(e))>=0}function Dt(e){return((Zt(e)?e.ownerDocument:e.document)||window.document).documentElement}function ke(e){return It(e)==="html"?e:e.assignedSlot||e.parentNode||(fn(e)?e.host:null)||Dt(e)}function Wn(e){return!wt(e)||Rt(e).position==="fixed"?null:e.offsetParent}function Vi(e){var o=/firefox/i.test(Ke()),a=/Trident/i.test(Ke());if(a&&wt(e)){var c=Rt(e);if(c.position==="fixed")return null}var d=ke(e);for(fn(d)&&(d=d.host);wt(d)&&["html","body"].indexOf(It(d))<0;){var g=Rt(d);if(g.transform!=="none"||g.perspective!=="none"||g.contain==="paint"||["transform","perspective"].indexOf(g.willChange)!==-1||o&&g.willChange==="filter"||o&&g.filter&&g.filter!=="none")return d;d=d.parentNode}return null}function ye(e){for(var o=gt(e),a=Wn(e);a&&Yi(a)&&Rt(a).position==="static";)a=Wn(a);return a&&(It(a)==="html"||It(a)==="body"&&Rt(a).position==="static")?o:a||Vi(e)||o}function pn(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function de(e,o,a){return Nt(e,Te(o,a))}function Wi(e,o,a){var c=de(e,o,a);return c>a?a:c}function hr(){return{top:0,right:0,bottom:0,left:0}}function yr(e){return Object.assign({},hr(),e)}function br$1(e,o){return o.reduce(function(a,c){return a[c]=e,a},{})}var Ji=function(e,o){return e=typeof e=="function"?e(Object.assign({},o.rects,{placement:o.placement})):e,yr(typeof e!="number"?e:br$1(e,he))};function Gi(e){var o,a=e.state,c=e.name,d=e.options,g=a.elements.arrow,b=a.modifiersData.popperOffsets,_=Pt(a.placement),$=pn(_),j=[pt,bt].indexOf(_)>=0,rt=j?"height":"width";if(!(!g||!b)){var nt=Ji(d.padding,a),st=dn(g),jt=$==="y"?dt:pt,wl=$==="y"?yt:bt,Ft=a.rects.reference[rt]+a.rects.reference[$]-b[$]-a.rects.popper[rt],it=b[$]-a.rects.reference[$],ot=ye(g),Ln=ot?$==="y"?ot.clientHeight||0:ot.clientWidth||0:0,Cl=Ft/2-it/2,Tl=nt[jt],zl=Ln-st[rt]-nt[wl],In=Ln/2-st[rt]/2+Cl,Ml=de(Tl,In,zl),Dl=$;a.modifiersData[c]=(o={},o[Dl]=Ml,o.centerOffset=Ml-In,o)}}function qi(e){var o=e.state,a=e.options,c=a.element,d=c===void 0?"[data-popper-arrow]":c;d!=null&&(typeof d=="string"&&(d=o.elements.popper.querySelector(d),!d)||vr(o.elements.popper,d)&&(o.elements.arrow=d))}const Ki={name:"arrow",enabled:!0,phase:"main",fn:Gi,effect:qi,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(e){return e.split("-")[1]}var $i={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qi(e,o){var a=e.x,c=e.y,d=o.devicePixelRatio||1;return{x:Qt(a*d)/d||0,y:Qt(c*d)/d||0}}function Jn(e){var o,a=e.popper,c=e.popperRect,d=e.placement,g=e.variation,b=e.offsets,_=e.position,$=e.gpuAcceleration,j=e.adaptive,rt=e.roundOffsets,nt=e.isFixed,st=b.x,jt=st===void 0?0:st,wl=b.y,Ft=wl===void 0?0:wl,it=typeof rt=="function"?rt({x:jt,y:Ft}):{x:jt,y:Ft};jt=it.x,Ft=it.y;var ot=b.hasOwnProperty("x"),Ln=b.hasOwnProperty("y"),Cl=pt,Tl=dt,zl=window;if(j){var In=ye(a),Ml="clientHeight",Dl="clientWidth";if(In===gt(a)&&(In=Dt(a),Rt(In).position!=="static"&&_==="absolute"&&(Ml="scrollHeight",Dl="scrollWidth")),In=In,d===dt||(d===pt||d===bt)&&g===ge){Tl=yt;var Ul=nt&&In===zl&&zl.visualViewport?zl.visualViewport.height:In[Ml];Ft-=Ul-c.height,Ft*=$?1:-1}if(d===pt||(d===dt||d===yt)&&g===ge){Cl=bt;var Vl=nt&&In===zl&&zl.visualViewport?zl.visualViewport.width:In[Dl];jt-=Vl-c.width,jt*=$?1:-1}}var mu=Object.assign({position:_},j&&$i),rp=rt===!0?Qi({x:jt,y:Ft},gt(a)):{x:jt,y:Ft};if(jt=rp.x,Ft=rp.y,$){var Ju;return Object.assign({},mu,(Ju={},Ju[Tl]=Ln?"0":"",Ju[Cl]=ot?"0":"",Ju.transform=(zl.devicePixelRatio||1)<=1?"translate("+jt+"px, "+Ft+"px)":"translate3d("+jt+"px, "+Ft+"px, 0)",Ju))}return Object.assign({},mu,(o={},o[Tl]=Ln?Ft+"px":"",o[Cl]=ot?jt+"px":"",o.transform="",o))}function Xi(e){var o=e.state,a=e.options,c=a.gpuAcceleration,d=c===void 0?!0:c,g=a.adaptive,b=g===void 0?!0:g,_=a.roundOffsets,$=_===void 0?!0:_,j={placement:Pt(o.placement),variation:te(o.placement),popper:o.elements.popper,popperRect:o.rects.popper,gpuAcceleration:d,isFixed:o.options.strategy==="fixed"};o.modifiersData.popperOffsets!=null&&(o.styles.popper=Object.assign({},o.styles.popper,Jn(Object.assign({},j,{offsets:o.modifiersData.popperOffsets,position:o.options.strategy,adaptive:b,roundOffsets:$})))),o.modifiersData.arrow!=null&&(o.styles.arrow=Object.assign({},o.styles.arrow,Jn(Object.assign({},j,{offsets:o.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:$})))),o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-placement":o.placement})}const to={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Xi,data:{}};var Ae={passive:!0};function eo(e){var o=e.state,a=e.instance,c=e.options,d=c.scroll,g=d===void 0?!0:d,b=c.resize,_=b===void 0?!0:b,$=gt(o.elements.popper),j=[].concat(o.scrollParents.reference,o.scrollParents.popper);return g&&j.forEach(function(rt){rt.addEventListener("scroll",a.update,Ae)}),_&&$.addEventListener("resize",a.update,Ae),function(){g&&j.forEach(function(rt){rt.removeEventListener("scroll",a.update,Ae)}),_&&$.removeEventListener("resize",a.update,Ae)}}const no={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eo,data:{}};var ro={left:"right",right:"left",bottom:"top",top:"bottom"};function Re(e){return e.replace(/left|right|bottom|top/g,function(o){return ro[o]})}var io={start:"end",end:"start"};function Gn(e){return e.replace(/start|end/g,function(o){return io[o]})}function mn(e){var o=gt(e),a=o.pageXOffset,c=o.pageYOffset;return{scrollLeft:a,scrollTop:c}}function gn(e){return Xt(Dt(e)).left+mn(e).scrollLeft}function oo(e,o){var a=gt(e),c=Dt(e),d=a.visualViewport,g=c.clientWidth,b=c.clientHeight,_=0,$=0;if(d){g=d.width,b=d.height;var j=_r();(j||!j&&o==="fixed")&&(_=d.offsetLeft,$=d.offsetTop)}return{width:g,height:b,x:_+gn(e),y:$}}function so(e){var o,a=Dt(e),c=mn(e),d=(o=e.ownerDocument)==null?void 0:o.body,g=Nt(a.scrollWidth,a.clientWidth,d?d.scrollWidth:0,d?d.clientWidth:0),b=Nt(a.scrollHeight,a.clientHeight,d?d.scrollHeight:0,d?d.clientHeight:0),_=-c.scrollLeft+gn(e),$=-c.scrollTop;return Rt(d||a).direction==="rtl"&&(_+=Nt(a.clientWidth,d?d.clientWidth:0)-g),{width:g,height:b,x:_,y:$}}function _n(e){var o=Rt(e),a=o.overflow,c=o.overflowX,d=o.overflowY;return/auto|scroll|overlay|hidden/.test(a+d+c)}function Pr(e){return["html","body","#document"].indexOf(It(e))>=0?e.ownerDocument.body:wt(e)&&_n(e)?e:Pr(ke(e))}function pe(e,o){var a;o===void 0&&(o=[]);var c=Pr(e),d=c===((a=e.ownerDocument)==null?void 0:a.body),g=gt(c),b=d?[g].concat(g.visualViewport||[],_n(c)?c:[]):c,_=o.concat(b);return d?_:_.concat(pe(ke(b)))}function $e(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ao(e,o){var a=Xt(e,!1,o==="fixed");return a.top=a.top+e.clientTop,a.left=a.left+e.clientLeft,a.bottom=a.top+e.clientHeight,a.right=a.left+e.clientWidth,a.width=e.clientWidth,a.height=e.clientHeight,a.x=a.left,a.y=a.top,a}function qn(e,o,a){return o===mr?$e(oo(e,a)):Zt(o)?ao(o,a):$e(so(Dt(e)))}function co(e){var o=pe(ke(e)),a=["absolute","fixed"].indexOf(Rt(e).position)>=0,c=a&&wt(e)?ye(e):e;return Zt(c)?o.filter(function(d){return Zt(d)&&vr(d,c)&&It(d)!=="body"}):[]}function uo(e,o,a,c){var d=o==="clippingParents"?co(e):[].concat(o),g=[].concat(d,[a]),b=g[0],_=g.reduce(function($,j){var rt=qn(e,j,c);return $.top=Nt(rt.top,$.top),$.right=Te(rt.right,$.right),$.bottom=Te(rt.bottom,$.bottom),$.left=Nt(rt.left,$.left),$},qn(e,b,c));return _.width=_.right-_.left,_.height=_.bottom-_.top,_.x=_.left,_.y=_.top,_}function wr(e){var o=e.reference,a=e.element,c=e.placement,d=c?Pt(c):null,g=c?te(c):null,b=o.x+o.width/2-a.width/2,_=o.y+o.height/2-a.height/2,$;switch(d){case dt:$={x:b,y:o.y-a.height};break;case yt:$={x:b,y:o.y+o.height};break;case bt:$={x:o.x+o.width,y:_};break;case pt:$={x:o.x-a.width,y:_};break;default:$={x:o.x,y:o.y}}var j=d?pn(d):null;if(j!=null){var rt=j==="y"?"height":"width";switch(g){case $t:$[j]=$[j]-(o[rt]/2-a[rt]/2);break;case ge:$[j]=$[j]+(o[rt]/2-a[rt]/2);break}}return $}function _e(e,o){o===void 0&&(o={});var a=o,c=a.placement,d=c===void 0?e.placement:c,g=a.strategy,b=g===void 0?e.strategy:g,_=a.boundary,$=_===void 0?Ii:_,j=a.rootBoundary,rt=j===void 0?mr:j,nt=a.elementContext,st=nt===void 0?ue:nt,jt=a.altBoundary,wl=jt===void 0?!1:jt,Ft=a.padding,it=Ft===void 0?0:Ft,ot=yr(typeof it!="number"?it:br$1(it,he)),Ln=st===ue?ji:ue,Cl=e.rects.popper,Tl=e.elements[wl?Ln:st],zl=uo(Zt(Tl)?Tl:Tl.contextElement||Dt(e.elements.popper),$,rt,b),In=Xt(e.elements.reference),Ml=wr({reference:In,element:Cl,placement:d}),Dl=$e(Object.assign({},Cl,Ml)),Ul=st===ue?Dl:In,Vl={top:zl.top-Ul.top+ot.top,bottom:Ul.bottom-zl.bottom+ot.bottom,left:zl.left-Ul.left+ot.left,right:Ul.right-zl.right+ot.right},mu=e.modifiersData.offset;if(st===ue&&mu){var rp=mu[d];Object.keys(Vl).forEach(function(Ju){var cp=[bt,yt].indexOf(Ju)>=0?1:-1,hp=[dt,yt].indexOf(Ju)>=0?"y":"x";Vl[Ju]+=rp[hp]*cp})}return Vl}function lo(e,o){o===void 0&&(o={});var a=o,c=a.placement,d=a.boundary,g=a.rootBoundary,b=a.padding,_=a.flipVariations,$=a.allowedAutoPlacements,j=$===void 0?gr:$,rt=te(c),nt=rt?_?Vn:Vn.filter(function(wl){return te(wl)===rt}):he,st=nt.filter(function(wl){return j.indexOf(wl)>=0});st.length===0&&(st=nt);var jt=st.reduce(function(wl,Ft){return wl[Ft]=_e(e,{placement:Ft,boundary:d,rootBoundary:g,padding:b})[Pt(Ft)],wl},{});return Object.keys(jt).sort(function(wl,Ft){return jt[wl]-jt[Ft]})}function fo(e){if(Pt(e)===ln)return[];var o=Re(e);return[Gn(e),o,Gn(o)]}function po(e){var o=e.state,a=e.options,c=e.name;if(!o.modifiersData[c]._skip){for(var d=a.mainAxis,g=d===void 0?!0:d,b=a.altAxis,_=b===void 0?!0:b,$=a.fallbackPlacements,j=a.padding,rt=a.boundary,nt=a.rootBoundary,st=a.altBoundary,jt=a.flipVariations,wl=jt===void 0?!0:jt,Ft=a.allowedAutoPlacements,it=o.options.placement,ot=Pt(it),Ln=ot===it,Cl=$||(Ln||!wl?[Re(it)]:fo(it)),Tl=[it].concat(Cl).reduce(function(n0,S0){return n0.concat(Pt(S0)===ln?lo(o,{placement:S0,boundary:rt,rootBoundary:nt,padding:j,flipVariations:wl,allowedAutoPlacements:Ft}):S0)},[]),zl=o.rects.reference,In=o.rects.popper,Ml=new Map,Dl=!0,Ul=Tl[0],Vl=0;Vl<Tl.length;Vl++){var mu=Tl[Vl],rp=Pt(mu),Ju=te(mu)===$t,cp=[dt,yt].indexOf(rp)>=0,hp=cp?"width":"height",yp=_e(o,{placement:mu,boundary:rt,rootBoundary:nt,altBoundary:st,padding:j}),xp=cp?Ju?bt:pt:Ju?yt:dt;zl[hp]>In[hp]&&(xp=Re(xp));var fp=Re(xp),_p=[];if(g&&_p.push(yp[rp]<=0),_&&_p.push(yp[xp]<=0,yp[fp]<=0),_p.every(function(n0){return n0})){Ul=mu,Dl=!1;break}Ml.set(mu,_p)}if(Dl)for(var ip=wl?3:1,gp=function(n0){var S0=Tl.find(function(C0){var P0=Ml.get(C0);if(P0)return P0.slice(0,n0).every(function(k0){return k0})});if(S0)return Ul=S0,"break"},Dp=ip;Dp>0;Dp--){var Fp=gp(Dp);if(Fp==="break")break}o.placement!==Ul&&(o.modifiersData[c]._skip=!0,o.placement=Ul,o.reset=!0)}}const mo={name:"flip",enabled:!0,phase:"main",fn:po,requiresIfExists:["offset"],data:{_skip:!1}};function Kn(e,o,a){return a===void 0&&(a={x:0,y:0}),{top:e.top-o.height-a.y,right:e.right-o.width+a.x,bottom:e.bottom-o.height+a.y,left:e.left-o.width-a.x}}function $n(e){return[dt,bt,yt,pt].some(function(o){return e[o]>=0})}function go(e){var o=e.state,a=e.name,c=o.rects.reference,d=o.rects.popper,g=o.modifiersData.preventOverflow,b=_e(o,{elementContext:"reference"}),_=_e(o,{altBoundary:!0}),$=Kn(b,c),j=Kn(_,d,g),rt=$n($),nt=$n(j);o.modifiersData[a]={referenceClippingOffsets:$,popperEscapeOffsets:j,isReferenceHidden:rt,hasPopperEscaped:nt},o.attributes.popper=Object.assign({},o.attributes.popper,{"data-popper-reference-hidden":rt,"data-popper-escaped":nt})}const _o={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:go};function vo(e,o,a){var c=Pt(e),d=[pt,dt].indexOf(c)>=0?-1:1,g=typeof a=="function"?a(Object.assign({},o,{placement:e})):a,b=g[0],_=g[1];return b=b||0,_=(_||0)*d,[pt,bt].indexOf(c)>=0?{x:_,y:b}:{x:b,y:_}}function ho(e){var o=e.state,a=e.options,c=e.name,d=a.offset,g=d===void 0?[0,0]:d,b=gr.reduce(function(rt,nt){return rt[nt]=vo(nt,o.rects,g),rt},{}),_=b[o.placement],$=_.x,j=_.y;o.modifiersData.popperOffsets!=null&&(o.modifiersData.popperOffsets.x+=$,o.modifiersData.popperOffsets.y+=j),o.modifiersData[c]=b}const yo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ho};function bo(e){var o=e.state,a=e.name;o.modifiersData[a]=wr({reference:o.rects.reference,element:o.rects.popper,placement:o.placement})}const Po={name:"popperOffsets",enabled:!0,phase:"read",fn:bo,data:{}};function wo(e){return e==="x"?"y":"x"}function Eo(e){var o=e.state,a=e.options,c=e.name,d=a.mainAxis,g=d===void 0?!0:d,b=a.altAxis,_=b===void 0?!1:b,$=a.boundary,j=a.rootBoundary,rt=a.altBoundary,nt=a.padding,st=a.tether,jt=st===void 0?!0:st,wl=a.tetherOffset,Ft=wl===void 0?0:wl,it=_e(o,{boundary:$,rootBoundary:j,padding:nt,altBoundary:rt}),ot=Pt(o.placement),Ln=te(o.placement),Cl=!Ln,Tl=pn(ot),zl=wo(Tl),In=o.modifiersData.popperOffsets,Ml=o.rects.reference,Dl=o.rects.popper,Ul=typeof Ft=="function"?Ft(Object.assign({},o.rects,{placement:o.placement})):Ft,Vl=typeof Ul=="number"?{mainAxis:Ul,altAxis:Ul}:Object.assign({mainAxis:0,altAxis:0},Ul),mu=o.modifiersData.offset?o.modifiersData.offset[o.placement]:null,rp={x:0,y:0};if(In){if(g){var Ju,cp=Tl==="y"?dt:pt,hp=Tl==="y"?yt:bt,yp=Tl==="y"?"height":"width",xp=In[Tl],fp=xp+it[cp],_p=xp-it[hp],ip=jt?-Dl[yp]/2:0,gp=Ln===$t?Ml[yp]:Dl[yp],Dp=Ln===$t?-Dl[yp]:-Ml[yp],Fp=o.elements.arrow,n0=jt&&Fp?dn(Fp):{width:0,height:0},S0=o.modifiersData["arrow#persistent"]?o.modifiersData["arrow#persistent"].padding:hr(),C0=S0[cp],P0=S0[hp],k0=de(0,Ml[yp],n0[yp]),T0=Cl?Ml[yp]/2-ip-k0-C0-Vl.mainAxis:gp-k0-C0-Vl.mainAxis,im=Cl?-Ml[yp]/2+ip+k0+P0+Vl.mainAxis:Dp+k0+P0+Vl.mainAxis,am=o.elements.arrow&&ye(o.elements.arrow),bm=am?Tl==="y"?am.clientTop||0:am.clientLeft||0:0,_g=(Ju=mu==null?void 0:mu[Tl])!=null?Ju:0,b0=xp+T0-_g-bm,U0=xp+im-_g,mm=de(jt?Te(fp,b0):fp,xp,jt?Nt(_p,U0):_p);In[Tl]=mm,rp[Tl]=mm-xp}if(_){var Lm,Um=Tl==="x"?dt:pt,Hm=Tl==="x"?yt:bt,Dm=In[zl],Nm=zl==="y"?"height":"width",Om=Dm+it[Um],Mm=Dm-it[Hm],cm=[dt,pt].indexOf(ot)!==-1,Jm=(Lm=mu==null?void 0:mu[zl])!=null?Lm:0,B0=cm?Om:Dm-Ml[Nm]-Dl[Nm]-Jm+Vl.altAxis,Pp=cm?Dm+Ml[Nm]+Dl[Nm]-Jm-Vl.altAxis:Mm,Yp=jt&&cm?Wi(B0,Dm,Pp):de(jt?B0:Om,Dm,jt?Pp:Mm);In[zl]=Yp,rp[zl]=Yp-Dm}o.modifiersData[c]=rp}}const xo={name:"preventOverflow",enabled:!0,phase:"main",fn:Eo,requiresIfExists:["offset"]};function Ao(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Oo(e){return e===gt(e)||!wt(e)?mn(e):Ao(e)}function Ro(e){var o=e.getBoundingClientRect(),a=Qt(o.width)/e.offsetWidth||1,c=Qt(o.height)/e.offsetHeight||1;return a!==1||c!==1}function Co(e,o,a){a===void 0&&(a=!1);var c=wt(o),d=wt(o)&&Ro(o),g=Dt(o),b=Xt(e,d,a),_={scrollLeft:0,scrollTop:0},$={x:0,y:0};return(c||!c&&!a)&&((It(o)!=="body"||_n(g))&&(_=Oo(o)),wt(o)?($=Xt(o,!0),$.x+=o.clientLeft,$.y+=o.clientTop):g&&($.x=gn(g))),{x:b.left+_.scrollLeft-$.x,y:b.top+_.scrollTop-$.y,width:b.width,height:b.height}}function To(e){var o=new Map,a=new Set,c=[];e.forEach(function(g){o.set(g.name,g)});function d(g){a.add(g.name);var b=[].concat(g.requires||[],g.requiresIfExists||[]);b.forEach(function(_){if(!a.has(_)){var $=o.get(_);$&&d($)}}),c.push(g)}return e.forEach(function(g){a.has(g.name)||d(g)}),c}function So(e){var o=To(e);return Ui.reduce(function(a,c){return a.concat(o.filter(function(d){return d.phase===c}))},[])}function ko(e){var o;return function(){return o||(o=new Promise(function(a){Promise.resolve().then(function(){o=void 0,a(e())})})),o}}function Io(e){var o=e.reduce(function(a,c){var d=a[c.name];return a[c.name]=d?Object.assign({},d,c,{options:Object.assign({},d.options,c.options),data:Object.assign({},d.data,c.data)}):c,a},{});return Object.keys(o).map(function(a){return o[a]})}var Qn={placement:"bottom",modifiers:[],strategy:"absolute"};function Xn(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return!o.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function jo(e){e===void 0&&(e={});var o=e,a=o.defaultModifiers,c=a===void 0?[]:a,d=o.defaultOptions,g=d===void 0?Qn:d;return function(b,_,$){$===void 0&&($=g);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qn,g),modifiersData:{},elements:{reference:b,popper:_},attributes:{},styles:{}},rt=[],nt=!1,st={state:j,setOptions:function(Ft){var it=typeof Ft=="function"?Ft(j.options):Ft;wl(),j.options=Object.assign({},g,j.options,it),j.scrollParents={reference:Zt(b)?pe(b):b.contextElement?pe(b.contextElement):[],popper:pe(_)};var ot=So(Io([].concat(c,j.options.modifiers)));return j.orderedModifiers=ot.filter(function(Ln){return Ln.enabled}),jt(),st.update()},forceUpdate:function(){if(!nt){var Ft=j.elements,it=Ft.reference,ot=Ft.popper;if(Xn(it,ot)){j.rects={reference:Co(it,ye(ot),j.options.strategy==="fixed"),popper:dn(ot)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(Dl){return j.modifiersData[Dl.name]=Object.assign({},Dl.data)});for(var Ln=0;Ln<j.orderedModifiers.length;Ln++){if(j.reset===!0){j.reset=!1,Ln=-1;continue}var Cl=j.orderedModifiers[Ln],Tl=Cl.fn,zl=Cl.options,In=zl===void 0?{}:zl,Ml=Cl.name;typeof Tl=="function"&&(j=Tl({state:j,options:In,name:Ml,instance:st})||j)}}}},update:ko(function(){return new Promise(function(Ft){st.forceUpdate(),Ft(j)})}),destroy:function(){wl(),nt=!0}};if(!Xn(b,_))return st;st.setOptions($).then(function(Ft){!nt&&$.onFirstUpdate&&$.onFirstUpdate(Ft)});function jt(){j.orderedModifiers.forEach(function(Ft){var it=Ft.name,ot=Ft.options,Ln=ot===void 0?{}:ot,Cl=Ft.effect;if(typeof Cl=="function"){var Tl=Cl({state:j,name:it,instance:st,options:Ln}),zl=function(){};rt.push(Tl||zl)}})}function wl(){rt.forEach(function(Ft){return Ft()}),rt=[]}return st}}const Do=jo({defaultModifiers:[_o,Po,to,no,yo,mo,xo,Ki]}),Fo=["enabled","placement","strategy","modifiers"];function Mo(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}const Bo={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},zo={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:o,popper:a}=e.elements;if("removeAttribute"in o){const c=(o.getAttribute("aria-describedby")||"").split(",").filter(d=>d.trim()!==a.id);c.length?o.setAttribute("aria-describedby",c.join(",")):o.removeAttribute("aria-describedby")}},fn:({state:e})=>{var o;const{popper:a,reference:c}=e.elements,d=(o=a.getAttribute("role"))==null?void 0:o.toLowerCase();if(a.id&&d==="tooltip"&&"setAttribute"in c){const g=c.getAttribute("aria-describedby");if(g&&g.split(",").indexOf(a.id)!==-1)return;c.setAttribute("aria-describedby",g?`${g},${a.id}`:a.id)}}},Lo=[];function No(e,o,a={}){let{enabled:c=!0,placement:d="bottom",strategy:g="absolute",modifiers:b=Lo}=a,_=Mo(a,Fo);const $=reactExports.useRef(b),j=reactExports.useRef(),rt=reactExports.useCallback(()=>{var it;(it=j.current)==null||it.update()},[]),nt=reactExports.useCallback(()=>{var it;(it=j.current)==null||it.forceUpdate()},[]),[st,jt]=ki(reactExports.useState({placement:d,update:rt,forceUpdate:nt,attributes:{},styles:{popper:{},arrow:{}}})),wl=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:it})=>{const ot={},Ln={};Object.keys(it.elements).forEach(Cl=>{ot[Cl]=it.styles[Cl],Ln[Cl]=it.attributes[Cl]}),jt({state:it,styles:ot,attributes:Ln,update:rt,forceUpdate:nt,placement:it.placement})}}),[rt,nt,jt]),Ft=reactExports.useMemo(()=>(fe($.current,b)||($.current=b),$.current),[b]);return reactExports.useEffect(()=>{!j.current||!c||j.current.setOptions({placement:d,strategy:g,modifiers:[...Ft,wl,Bo]})},[g,d,wl,c,Ft]),reactExports.useEffect(()=>{if(!(!c||e==null||o==null))return j.current=Do(e,o,Object.assign({},_,{placement:d,strategy:g,modifiers:[...Ft,zo,wl]})),()=>{j.current!=null&&(j.current.destroy(),j.current=void 0,jt(it=>Object.assign({},it,{attributes:{},styles:{popper:{}}})))}},[c,e,o]),st}const vn=!!(typeof window<"u"&&window.document&&window.document.createElement);var Qe=!1,Xe=!1;try{var Ue={get passive(){return Qe=!0},get once(){return Xe=Qe=!0}};vn&&(window.addEventListener("test",Ue,Ue),window.removeEventListener("test",Ue,!0))}catch{}function Zo(e,o,a,c){if(c&&typeof c!="boolean"&&!Xe){var d=c.once,g=c.capture,b=a;!Xe&&d&&(b=a.__once||function _($){this.removeEventListener(o,_,g),a.call(this,$)},a.__once=b),e.addEventListener(o,b,Qe?c:g)}e.addEventListener(o,a,c)}function Ho(e,o,a,c){var d=c&&typeof c!="boolean"?c.capture:c;e.removeEventListener(o,a,d),a.__once&&e.removeEventListener(o,a.__once,d)}function Lt(e,o,a,c){return Zo(e,o,a,c),function(){Ho(e,o,a,c)}}function Ie(e){return e&&e.ownerDocument||document}function Uo(e){const o=reactExports.useRef(e);return reactExports.useEffect(()=>{o.current=e},[e]),o}function ee(e){const o=Uo(e);return reactExports.useCallback(function(...a){return o.current&&o.current(...a)},[o])}const tr=()=>{};function Yo(e){return e.button===0}function Vo(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const Ce=e=>e&&("current"in e?e.current:e),er={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function Wo(e,o=tr,{disabled:a,clickTrigger:c="click"}={}){const d=reactExports.useRef(!1),g=reactExports.useRef(!1),b=reactExports.useCallback(j=>{const rt=Ce(e);dr(!!rt,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),d.current=!rt||Vo(j)||!Yo(j)||!!We(rt,j.target)||g.current,g.current=!1},[e]),_=ee(j=>{const rt=Ce(e);rt&&We(rt,j.target)&&(g.current=!0)}),$=ee(j=>{d.current||o(j)});reactExports.useEffect(()=>{var j,rt;if(a||e==null)return;const nt=Ie(Ce(e)),st=nt.defaultView||window;let jt=(j=st.event)!=null?j:(rt=st.parent)==null?void 0:rt.event,wl=null;er[c]&&(wl=Lt(nt,er[c],_,!0));const Ft=Lt(nt,c,b,!0),it=Lt(nt,c,Ln=>{if(Ln===jt){jt=void 0;return}$(Ln)});let ot=[];return"ontouchstart"in nt.documentElement&&(ot=[].slice.call(nt.body.children).map(Ln=>Lt(Ln,"mousemove",tr))),()=>{wl==null||wl(),Ft(),it(),ot.forEach(Ln=>Ln())}},[e,a,c,b,_,$])}function Jo(e){return e.code==="Escape"||e.keyCode===27}const Go=()=>{};function qo(e,o,{disabled:a,clickTrigger:c}={}){const d=o||Go;Wo(e,d,{disabled:a,clickTrigger:c});const g=ee(b=>{Jo(b)&&d(b)});reactExports.useEffect(()=>{if(a||e==null)return;const b=Ie(Ce(e));let _=(b.defaultView||window).event;const $=Lt(b,"keyup",j=>{if(j===_){_=void 0;return}g(j)});return()=>{$()}},[e,a,g])}const Er=reactExports.createContext(vn?window:void 0);Er.Provider;function Ko(){return reactExports.useContext(Er)}const Ye=(e,o)=>vn?e==null?(o||Ie()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function nr(e,o){const a=Ko(),[c,d]=reactExports.useState(()=>Ye(e,a==null?void 0:a.document));if(!c){const g=Ye(e);g&&d(g)}return reactExports.useEffect(()=>{},[o,c]),reactExports.useEffect(()=>{const g=Ye(e);g!==c&&d(g)},[e,c]),c}function $o(e){const o={};return Array.isArray(e)?(e==null||e.forEach(a=>{o[a.name]=a}),o):e||o}function Qo(e={}){return Array.isArray(e)?e:Object.keys(e).map(o=>(e[o].name=o,e[o]))}function Xo({enabled:e,enableEvents:o,placement:a,flip:c,offset:d,fixed:g,containerPadding:b,arrowElement:_,popperConfig:$={}}){var j,rt,nt,st;const jt=$o($.modifiers);return Object.assign({},$,{placement:a,enabled:e,strategy:g?"fixed":$.strategy,modifiers:Qo(Object.assign({},jt,{eventListeners:{enabled:o,options:(j=jt.eventListeners)==null?void 0:j.options},preventOverflow:Object.assign({},jt.preventOverflow,{options:Object.assign({padding:b},(rt=jt.preventOverflow)==null?void 0:rt.options)}),offset:{options:Object.assign({offset:d},(nt=jt.offset)==null?void 0:nt.options)},arrow:Object.assign({},jt.arrow,{enabled:!!_,options:Object.assign({},(st=jt.arrow)==null?void 0:st.options,{element:_})}),flip:Object.assign({enabled:!!c},jt.flip)}))})}const ts=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",es=typeof document<"u",tn=es||ts?reactExports.useLayoutEffect:reactExports.useEffect;function ns({children:e,in:o,onExited:a,mountOnEnter:c,unmountOnExit:d}){const g=reactExports.useRef(null),b=reactExports.useRef(o),_=ee(a);reactExports.useEffect(()=>{o?b.current=!0:_(g.current)},[o,_]);const $=ne(g,e.ref),j=reactExports.cloneElement(e,{ref:$});return o?j:d||!b.current&&c?null:j}function rs({in:e,onTransition:o}){const a=reactExports.useRef(null),c=reactExports.useRef(!0),d=ee(o);return tn(()=>{if(!a.current)return;let g=!1;return d({in:e,element:a.current,initial:c.current,isStale:()=>g}),()=>{g=!0}},[e,d]),tn(()=>(c.current=!1,()=>{c.current=!0}),[]),a}function is({children:e,in:o,onExited:a,onEntered:c,transition:d}){const[g,b]=reactExports.useState(!o);o&&g&&b(!1);const _=rs({in:!!o,onTransition:j=>{const rt=()=>{j.isStale()||(j.in?c==null||c(j.element,j.initial):(b(!0),a==null||a(j.element)))};Promise.resolve(d(j)).then(rt,nt=>{throw j.in||b(!0),nt})}}),$=ne(_,e.ref);return g&&!o?null:reactExports.cloneElement(e,{ref:$})}function os(e,o,a){return e?T$1.jsx(e,Object.assign({},a)):o?T$1.jsx(is,Object.assign({},a,{transition:o})):T$1.jsx(ns,Object.assign({},a))}const xr=reactExports.forwardRef((e,o)=>{const{flip:a,offset:c,placement:d,containerPadding:g,popperConfig:b={},transition:_,runTransition:$}=e,[j,rt]=Hn(),[nt,st]=Hn(),jt=ne(rt,o),wl=nr(e.container),Ft=nr(e.target),[it,ot]=reactExports.useState(!e.show),Ln=No(Ft,j,Xo({placement:d,enableEvents:!!e.show,containerPadding:g||5,flip:a,offset:c,arrowElement:nt,popperConfig:b}));e.show&&it&&ot(!1);const Cl=(...mu)=>{ot(!0),e.onExited&&e.onExited(...mu)},Tl=e.show||!it;if(qo(j,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!Tl)return null;const{onExit:zl,onExiting:In,onEnter:Ml,onEntering:Dl,onEntered:Ul}=e;let Vl=e.children(Object.assign({},Ln.attributes.popper,{style:Ln.styles.popper,ref:jt}),{popper:Ln,placement:d,show:!!e.show,arrowProps:Object.assign({},Ln.attributes.arrow,{style:Ln.styles.arrow,ref:st})});return Vl=os(_,$,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Vl,onExit:zl,onExiting:In,onExited:Cl,onEnter:Ml,onEntering:Dl,onEntered:Ul}),wl?ReactDOM.createPortal(Vl,wl):null});xr.displayName="Overlay";function rr(e,o){return e.classList?!!o&&e.classList.contains(o):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+o+" ")!==-1}const ss=["xxl","xl","lg","md","sm","xs"],as="xs",Ar=reactExports.createContext({prefixes:{},breakpoints:ss,minBreakpoint:as});function Ht(e,o){const{prefixes:a}=reactExports.useContext(Ar);return e||a[o]||o}function Or(){const{dir:e}=reactExports.useContext(Ar);return e==="rtl"}const Rr=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=Ht(o,"popover-header"),T$1.jsx(a,{ref:d,className:Ut(e,o),...c})));Rr.displayName="PopoverHeader";const hn=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=Ht(o,"popover-body"),T$1.jsx(a,{ref:d,className:Ut(e,o),...c})));hn.displayName="PopoverBody";function Cr(e,o){let a=e;return e==="left"?a=o?"end":"start":e==="right"&&(a=o?"start":"end"),a}function Tr(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const cs=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,body:g,arrowProps:b,hasDoneInitialMeasure:_,popper:$,show:j,...rt},nt)=>{const st=Ht(e,"popover"),jt=Or(),[wl]=(o==null?void 0:o.split("-"))||[],Ft=Cr(wl,jt);let it=c;return j&&!_&&(it={...c,...Tr($==null?void 0:$.strategy)}),T$1.jsxs("div",{ref:nt,role:"tooltip",style:it,"x-placement":wl,className:Ut(a,st,wl&&`bs-popover-${Ft}`),...rt,children:[T$1.jsx("div",{className:"popover-arrow",...b}),g?T$1.jsx(hn,{children:d}):d]})}),en=Object.assign(cs,{Header:Rr,Body:hn,POPPER_OFFSET:[0,8]}),Sr=reactExports.forwardRef(({bsPrefix:e,placement:o="right",className:a,style:c,children:d,arrowProps:g,hasDoneInitialMeasure:b,popper:_,show:$,...j},rt)=>{e=Ht(e,"tooltip");const nt=Or(),[st]=(o==null?void 0:o.split("-"))||[],jt=Cr(st,nt);let wl=c;return $&&!b&&(wl={...c,...Tr(_==null?void 0:_.strategy)}),T$1.jsxs("div",{ref:rt,style:wl,role:"tooltip","x-placement":st,className:Ut(a,e,`bs-tooltip-${jt}`),...j,children:[T$1.jsx("div",{className:"tooltip-arrow",...g}),T$1.jsx("div",{className:`${e}-inner`,children:d})]})});Sr.displayName="Tooltip";const kr=Object.assign(Sr,{TOOLTIP_OFFSET:[0,6]});function us(e){const o=reactExports.useRef(null),a=Ht(void 0,"popover"),c=Ht(void 0,"tooltip"),d=reactExports.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(o.current){if(rr(o.current,a))return en.POPPER_OFFSET;if(rr(o.current,c))return kr.TOOLTIP_OFFSET}return[0,0]}}}),[e,a,c]);return[o,[d]]}const ir={disabled:!1},Ir=React.createContext(null);var fs=function(e){return e.scrollTop},le="unmounted",Bt="exited",kt="entering",zt$1="entered",nn="exiting",Ct=function(e){Ci(o,e);function o(c,d){var g;g=e.call(this,c,d)||this;var b=d,_=b&&!b.isMounting?c.enter:c.appear,$;return g.appearStatus=null,c.in?_?($=Bt,g.appearStatus=kt):$=zt$1:c.unmountOnExit||c.mountOnEnter?$=le:$=Bt,g.state={status:$},g.nextCallback=null,g}o.getDerivedStateFromProps=function(c,d){var g=c.in;return g&&d.status===le?{status:Bt}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(c){var d=null;if(c!==this.props){var g=this.state.status;this.props.in?g!==kt&&g!==zt$1&&(d=kt):(g===kt||g===zt$1)&&(d=nn)}this.updateStatus(!1,d)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var c=this.props.timeout,d,g,b;return d=g=b=c,c!=null&&typeof c!="number"&&(d=c.exit,g=c.enter,b=c.appear!==void 0?c.appear:g),{exit:d,enter:g,appear:b}},a.updateStatus=function(c,d){if(c===void 0&&(c=!1),d!==null)if(this.cancelNextCallback(),d===kt){if(this.props.unmountOnExit||this.props.mountOnEnter){var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);g&&fs(g)}this.performEnter(c)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bt&&this.setState({status:le})},a.performEnter=function(c){var d=this,g=this.props.enter,b=this.context?this.context.isMounting:c,_=this.props.nodeRef?[b]:[ReactDOM.findDOMNode(this),b],$=_[0],j=_[1],rt=this.getTimeouts(),nt=b?rt.appear:rt.enter;if(!c&&!g||ir.disabled){this.safeSetState({status:zt$1},function(){d.props.onEntered($)});return}this.props.onEnter($,j),this.safeSetState({status:kt},function(){d.props.onEntering($,j),d.onTransitionEnd(nt,function(){d.safeSetState({status:zt$1},function(){d.props.onEntered($,j)})})})},a.performExit=function(){var c=this,d=this.props.exit,g=this.getTimeouts(),b=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!d||ir.disabled){this.safeSetState({status:Bt},function(){c.props.onExited(b)});return}this.props.onExit(b),this.safeSetState({status:nn},function(){c.props.onExiting(b),c.onTransitionEnd(g.exit,function(){c.safeSetState({status:Bt},function(){c.props.onExited(b)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(c,d){d=this.setNextCallback(d),this.setState(c,d)},a.setNextCallback=function(c){var d=this,g=!0;return this.nextCallback=function(b){g&&(g=!1,d.nextCallback=null,c(b))},this.nextCallback.cancel=function(){g=!1},this.nextCallback},a.onTransitionEnd=function(c,d){this.setNextCallback(d);var g=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),b=c==null&&!this.props.addEndListener;if(!g||b){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var _=this.props.nodeRef?[this.nextCallback]:[g,this.nextCallback],$=_[0],j=_[1];this.props.addEndListener($,j)}c!=null&&setTimeout(this.nextCallback,c)},a.render=function(){var c=this.state.status;if(c===le)return null;var d=this.props,g=d.children;d.in,d.mountOnEnter,d.unmountOnExit,d.appear,d.enter,d.exit,d.timeout,d.addEndListener,d.onEnter,d.onEntering,d.onEntered,d.onExit,d.onExiting,d.onExited,d.nodeRef;var b=Oi(d,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(Ir.Provider,{value:null},typeof g=="function"?g(c,b):React.cloneElement(React.Children.only(g),b))},o}(React.Component);Ct.contextType=Ir;Ct.propTypes={};function qt(){}Ct.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:qt,onEntering:qt,onEntered:qt,onExit:qt,onExiting:qt,onExited:qt};Ct.UNMOUNTED=le;Ct.EXITED=Bt;Ct.ENTERING=kt;Ct.ENTERED=zt$1;Ct.EXITING=nn;function ds(e){var o=Ie(e);return o&&o.defaultView||window}function ps(e,o){return ds(e).getComputedStyle(e,o)}var ms=/([A-Z])/g;function gs(e){return e.replace(ms,"-$1").toLowerCase()}var _s=/^ms-/;function Oe(e){return gs(e).replace(_s,"-ms-")}var vs=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function hs(e){return!!(e&&vs.test(e))}function jr(e,o){var a="",c="";if(typeof o=="string")return e.style.getPropertyValue(Oe(o))||ps(e).getPropertyValue(Oe(o));Object.keys(o).forEach(function(d){var g=o[d];!g&&g!==0?e.style.removeProperty(Oe(d)):hs(d)?c+=d+"("+g+") ":a+=Oe(d)+": "+g+";"}),c&&(a+="transform: "+c+";"),e.style.cssText+=";"+a}function ys(e,o,a,c){if(c===void 0&&(c=!0),e){var d=document.createEvent("HTMLEvents");d.initEvent(o,a,c),e.dispatchEvent(d)}}function bs(e){var o=jr(e,"transitionDuration")||"",a=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*a}function Ps(e,o,a){a===void 0&&(a=5);var c=!1,d=setTimeout(function(){c||ys(e,"transitionend",!0)},o+a),g=Lt(e,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(d),g()}}function ws(e,o,a,c){a==null&&(a=bs(e)||0);var d=Ps(e,a,c),g=Lt(e,"transitionend",o);return function(){d(),g()}}function or(e,o){const a=jr(e,o)||"",c=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*c}function Es(e,o){const a=or(e,"transitionDuration"),c=or(e,"transitionDelay"),d=ws(e,g=>{g.target===e&&(d(),o(g))},a+c)}function xs(e){e.offsetHeight}function Se(e){return e&&"setState"in e?ReactDOM.findDOMNode(e):e??null}const As=React.forwardRef(({onEnter:e,onEntering:o,onEntered:a,onExit:c,onExiting:d,onExited:g,addEndListener:b,children:_,childRef:$,...j},rt)=>{const nt=reactExports.useRef(null),st=ne(nt,$),jt=In=>{st(Se(In))},wl=In=>Ml=>{In&&nt.current&&In(nt.current,Ml)},Ft=reactExports.useCallback(wl(e),[e]),it=reactExports.useCallback(wl(o),[o]),ot=reactExports.useCallback(wl(a),[a]),Ln=reactExports.useCallback(wl(c),[c]),Cl=reactExports.useCallback(wl(d),[d]),Tl=reactExports.useCallback(wl(g),[g]),zl=reactExports.useCallback(wl(b),[b]);return T$1.jsx(Ct,{ref:rt,...j,onEnter:Ft,onEntered:ot,onEntering:it,onExit:Ln,onExited:Tl,onExiting:Cl,addEndListener:zl,nodeRef:nt,children:typeof _=="function"?(In,Ml)=>_(In,{...Ml,ref:jt}):React.cloneElement(_,{ref:jt})})}),Os={[kt]:"show",[zt$1]:"show"},rn=reactExports.forwardRef(({className:e,children:o,transitionClasses:a={},onEnter:c,...d},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...d},_=reactExports.useCallback(($,j)=>{xs($),c==null||c($,j)},[c]);return T$1.jsx(As,{ref:g,addEndListener:Es,...b,onEnter:_,childRef:o.ref,children:($,j)=>reactExports.cloneElement(o,{...j,className:Ut("fade",e,o.props.className,Os[$],a[$])})})});rn.displayName="Fade";function Rs(e,o){const{ref:a}=e,{ref:c}=o;e.ref=a.__wrapped||(a.__wrapped=d=>a(Se(d))),o.ref=c.__wrapped||(c.__wrapped=d=>c(Se(d)))}const Dr=reactExports.forwardRef(({children:e,transition:o=rn,popperConfig:a={},rootClose:c=!1,placement:d="top",show:g=!1,...b},_)=>{const $=reactExports.useRef({}),[j,rt]=reactExports.useState(null),[nt,st]=us(b.offset),jt=ne(_,nt),wl=o===!0?rn:o||void 0,Ft=ee(it=>{rt(it),a==null||a.onFirstUpdate==null||a.onFirstUpdate(it)});return tn(()=>{j&&b.target&&($.current.scheduleUpdate==null||$.current.scheduleUpdate())},[j,b.target]),reactExports.useEffect(()=>{g||rt(null)},[g]),T$1.jsx(xr,{...b,ref:jt,popperConfig:{...a,modifiers:st.concat(a.modifiers||[]),onFirstUpdate:Ft},transition:wl,rootClose:c,placement:d,show:g,children:(it,{arrowProps:ot,popper:Ln,show:Cl})=>{var Tl,zl;Rs(it,ot);const In=Ln==null?void 0:Ln.placement,Ml=Object.assign($.current,{state:Ln==null?void 0:Ln.state,scheduleUpdate:Ln==null?void 0:Ln.update,placement:In,outOfBoundaries:(Ln==null||(Tl=Ln.state)==null||(zl=Tl.modifiersData.hide)==null?void 0:zl.isReferenceHidden)||!1,strategy:a.strategy}),Dl=!!j;return typeof e=="function"?e({...it,placement:In,show:Cl,...!o&&Cl&&{className:"show"},popper:Ml,arrowProps:ot,hasDoneInitialMeasure:Dl}):reactExports.cloneElement(e,{...it,placement:In,arrowProps:ot,popper:Ml,hasDoneInitialMeasure:Dl,className:Ut(e.props.className,!o&&Cl&&"show"),style:{...e.props.style,...it.style}})}})});Dr.displayName="Overlay";function Cs(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function sr(e,o,a){const[c]=o,d=c.currentTarget,g=c.relatedTarget||c.nativeEvent[a];(!g||g!==d)&&!We(d,g)&&e(...o)}N.oneOf(["click","hover","focus"]);const yn=({trigger:e=["hover","focus"],overlay:o,children:a,popperConfig:c={},show:d,defaultShow:g=!1,onToggle:b,delay:_,placement:$,flip:j=$&&$.indexOf("auto")!==-1,...rt})=>{const nt=reactExports.useRef(null),st=ne(nt,a.ref),jt=wi(),wl=reactExports.useRef(""),[Ft,it]=Ri(d,g,b),ot=Cs(_),{onFocus:Ln,onBlur:Cl,onClick:Tl}=typeof a!="function"?reactExports.Children.only(a).props:{},zl=hp=>{st(Se(hp))},In=reactExports.useCallback(()=>{if(jt.clear(),wl.current="show",!ot.show){it(!0);return}jt.set(()=>{wl.current==="show"&&it(!0)},ot.show)},[ot.show,it,jt]),Ml=reactExports.useCallback(()=>{if(jt.clear(),wl.current="hide",!ot.hide){it(!1);return}jt.set(()=>{wl.current==="hide"&&it(!1)},ot.hide)},[ot.hide,it,jt]),Dl=reactExports.useCallback((...hp)=>{In(),Ln==null||Ln(...hp)},[In,Ln]),Ul=reactExports.useCallback((...hp)=>{Ml(),Cl==null||Cl(...hp)},[Ml,Cl]),Vl=reactExports.useCallback((...hp)=>{it(!Ft),Tl==null||Tl(...hp)},[Tl,it,Ft]),mu=reactExports.useCallback((...hp)=>{sr(In,hp,"fromElement")},[In]),rp=reactExports.useCallback((...hp)=>{sr(Ml,hp,"toElement")},[Ml]),Ju=e==null?[]:[].concat(e),cp={ref:zl};return Ju.indexOf("click")!==-1&&(cp.onClick=Vl),Ju.indexOf("focus")!==-1&&(cp.onFocus=Dl,cp.onBlur=Ul),Ju.indexOf("hover")!==-1&&(cp.onMouseOver=mu,cp.onMouseOut=rp),T$1.jsxs(T$1.Fragment,{children:[typeof a=="function"?a(cp):reactExports.cloneElement(a,cp),T$1.jsx(Dr,{...rt,show:Ft,onHide:Ml,flip:j,placement:$,popperConfig:c,target:nt.current,children:o})]})},Ts="_help_button_1s4g5_1",Ss={help_button:Ts};function Eu(e){let o=T$1.jsx("div",{className:Ss.help_button,children:"?"});return e.popover!=null&&(o=T$1.jsx(yn,{trigger:"click",rootClose:!0,placement:e.placement,overlay:e.popover,children:o})),o}const ks="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20xmlns:dc='http://purl.org/dc/elements/1.1/'%20xmlns:cc='http://creativecommons.org/ns%23'%20xmlns:rdf='http://www.w3.org/1999/02/22-rdf-syntax-ns%23'%20xmlns:svg='http://www.w3.org/2000/svg'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20width='36.012337'%20height='31.802971'%20viewBox='0%200%2036.012336%2031.802972'%20id='svg9098'%20version='1.1'%20inkscape:version='0.91%20r13725'%20sodipodi:docname='mclogo-split-rotate-v9.svg'%3e%3cdefs%20id='defs9100'%20/%3e%3csodipodi:namedview%20id='base'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageopacity='0.0'%20inkscape:pageshadow='2'%20inkscape:zoom='11.2'%20inkscape:cx='14.890099'%20inkscape:cy='23.051314'%20inkscape:document-units='px'%20inkscape:current-layer='g9'%20showgrid='false'%20units='px'%20inkscape:window-width='1680'%20inkscape:window-height='940'%20inkscape:window-x='0'%20inkscape:window-y='1'%20inkscape:window-maximized='1'%20fit-margin-top='3'%20fit-margin-left='3'%20fit-margin-right='3'%20fit-margin-bottom='5'%20/%3e%3cmetadata%20id='metadata9103'%3e%3crdf:RDF%3e%3ccc:Work%20rdf:about=''%3e%3cdc:format%3eimage/svg+xml%3c/dc:format%3e%3cdc:type%20rdf:resource='http://purl.org/dc/dcmitype/StillImage'%20/%3e%3cdc:title%20/%3e%3c/cc:Work%3e%3c/rdf:RDF%3e%3c/metadata%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%20transform='translate(3.0066849,-1015.2422)'%3e%3cg%20id='mctriangle'%20transform='matrix(1.1533275,0,0,1.1556928,-379.094,391.20844)'%3e%3cg%20transform='translate(2975.41,266.50511)'%20style='display:inline;stroke:%23d21f15;stroke-width:0.86616874;stroke-opacity:1'%20id='layer6'%20/%3e%3cg%20id='g9'%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9220'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9224'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9228'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9232'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.22655%20C%20334.49344,546.23874%20337.72144,543.00587%20341.70205,543.00587%20345.68227,543.00587%20348.90912,546.23874%20348.90912,550.22655'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88989985;stroke-linecap:butt;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9236'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.49344,550.41953%20C%20331.53412,550.41953%20329.1333,552.88285%20329.1333,555.92274%20329.1333,558.96264%20331.53412,561.42596%20334.49344,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9240'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20348.90912,550.41953%20C%20351.86844,550.41953%20354.26926,552.88285%20354.26926,555.92274%20354.26926,558.96264%20351.86844,561.42596%20348.90912,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9244'%20/%3e%3cpath%20inkscape:connector-curvature='0'%20d='M%20334.45731,561.42596%20348.92565,561.42596'%20style='fill:none;stroke:%23d21f15;stroke-width:0.88643086;stroke-linecap:square;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1'%20id='path9248'%20/%3e%3cellipse%20ry='0.25958455'%20rx='0.26011693'%20cy='553.91522'%20cx='341.70126'%20id='ref'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:none;stroke-width:3.4000001;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20/%3e%3cpath%20id='mctriangleonly'%20d='M%20335.13723,550.18801%20338.41923,555.66439%20341.70129,561.14077%20344.98332,555.66439%20348.26535,550.18801%20341.70129,550.18801%20Z'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:none;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.91575587;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20inkscape:connector-curvature='0'%20/%3e%3ccircle%20cy='550.02032'%20cx='348.39252'%20id='circle7840-5'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20cy='550.02032'%20cx='335.01007'%20id='circle7842-0'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20r='1.4070433'%20/%3e%3ccircle%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate'%20id='circle7844-5'%20cx='341.70132'%20cy='561.30841'%20r='1.4070433'%20/%3e%3ccircle%20r='1.4070433'%20style='color:%23000000;clip-rule:nonzero;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000000;solid-opacity:1;fill:%23ffffff;fill-opacity:1;fill-rule:nonzero;stroke:%23d21f15;stroke-width:0.88349211;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;marker:none;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto;enable-background:accumulate;filter-blend-mode:normal;filter-gaussianBlur-deviation:0'%20id='movingcircle'%20cx='335.01007'%20cy='550.02032'%3e%3canimateTransform%20id='anim1'%20repeatCount='indefinite'%20begin='0s'%20dur='1s'%20values='0.0%200.0;13.38245%200.0;6.69125%2011.28809;0.0%200.0'%20type='translate'%20attributeName='transform'%20/%3e%3c/circle%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function xu(){return T$1.jsx("div",{style:{background:"transparent",border:"none",textAlign:"center"},children:T$1.jsx("img",{src:ks,alt:"Materials Cloud spinner",style:{width:"100%",minWidth:"20px",maxWidth:"200px",height:"auto"}})})}const Is=["as","disabled"];function js$1(e,o){if(e==null)return{};var a={},c=Object.keys(e),d,g;for(g=0;g<c.length;g++)d=c[g],!(o.indexOf(d)>=0)&&(a[d]=e[d]);return a}function Ds(e){return!e||e.trim()==="#"}function Fr({tagName:e,disabled:o,href:a,target:c,rel:d,role:g,onClick:b,tabIndex:_=0,type:$}){e||(a!=null||c!=null||d!=null?e="a":e="button");const j={tagName:e};if(e==="button")return[{type:$||"button",disabled:o},j];const rt=st=>{if((o||e==="a"&&Ds(a))&&st.preventDefault(),o){st.stopPropagation();return}b==null||b(st)},nt=st=>{st.key===" "&&(st.preventDefault(),rt(st))};return e==="a"&&(a||(a="#"),o&&(a=void 0)),[{role:g??"button",disabled:void 0,tabIndex:o?void 0:_,href:a,target:e==="a"?c:void 0,"aria-disabled":o||void 0,rel:e==="a"?d:void 0,onClick:rt,onKeyDown:nt},j]}const Fs=reactExports.forwardRef((e,o)=>{let{as:a,disabled:c}=e,d=js$1(e,Is);const[g,{tagName:b}]=Fr(Object.assign({tagName:a,disabled:c},d));return T$1.jsx(b,Object.assign({},d,g,{ref:o}))});Fs.displayName="Button";const Mr=reactExports.forwardRef(({as:e,bsPrefix:o,variant:a="primary",size:c,active:d=!1,disabled:g=!1,className:b,..._},$)=>{const j=Ht(o,"btn"),[rt,{tagName:nt}]=Fr({tagName:e,disabled:g,..._}),st=nt;return T$1.jsx(st,{...rt,..._,ref:$,disabled:g,className:Ut(b,j,d&&"active",a&&`${j}-${a}`,c&&`${j}-${c}`,_.href&&g&&"disabled")})});Mr.displayName="Button";const Ms="_download_dropdown_menu_23m9j_1",Bs={download_dropdown_menu:Ms},zs=[{format:"cif",label:"CIF"},{format:"xsf",label:"XSF"},{format:"xyz",label:"XYZ"}];function Au(e){const o=`${e.aiida_rest_url}/nodes/${e.uuid}/download`,a=e.download_formats||zs,c=T$1.jsx(en,{children:T$1.jsx(en.Body,{style:{padding:"5px 0px"},children:T$1.jsx("ul",{className:Bs.download_dropdown_menu,children:a.map(({format:d,label:g})=>T$1.jsx("li",{children:T$1.jsx("a",{href:`${o}?download_format=${d}`,children:g})},d))})})});return T$1.jsx(yn,{trigger:"click",rootClose:!0,placement:"bottom",overlay:c,children:T$1.jsx(Mr,{size:"sm",style:{margin:"4px",padding:"2px 7px"},title:"Download",children:T$1.jsx("span",{className:"bi bi-download"})})})}const Ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIoAAACACAYAAADUHPECAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAdTAAAHUwAGRbQIfAAAAB3RJTUUH4QoMEAcil62xzQAAGc9JREFUeNrtnXl8XVW1x7/r3JvcJC1tgdKWUqADs0CTAk6AAh+GgAzyBBUUKQ8R6GDx4Ud9j6YVWkCeAio2pSLqQxyK4gTSBBApVJDCo4lMMjQpHaAphVI6ZLrnrPfHOjeEtknOvfece8/N5/0+H/j00yb77L3P7+y99tpr/ZYwyKFzRgMCquAIeDoCmARMBmqAQ4B9gD2B3YCU/6udwBbgbWAd8BLwT+A54BUcbxOeYz8pINe1FXuokUKK3YGooHNHgwco4MgwVKcAJwPHAQdhxCjPstlu4B3gFeAx4GFgBcpmxJ4l8wcnYQYdUXT2aDIvDWFf4CzgM8DRwLCQH/ce8CzwO5D7cHQ1nv2DzBtchBk0RFGaoO60DEnGAhcAFwOHAYmIH+8BLwB3Ab/GtiqY14hQXeypCQWDgig6Z4zZIFABfBq4CjgGcArcFQ94Bvg+8EegHRSZt6HYU5Q3Sp4oWjfaSCJyAPCfwOeAIUXu1jZgMXAjyGuoh8wvbbKUNFG0bjSgAnIqcAMwpdh92gErgP/CcxtxElrKdkvJEkXrRoE6ZYheDFwH7F3sPvWB9cBckJ+BdpcqWUqSKLaSkAJmAdcQ/mkmbGwBrsdsl85SJEvJEUVnjwKRcuA/gDqgqth9CojtwHyEm1HtKjUDt9Cngrygc0aBagK4HFtJSoUk+H39L5TLURI6e3Sx+5MVSooodFeA43wamAsMLXZ3csBQYC4i51BeWot5yfTWt0uqsWPnQcXuT554GTvGN5eKvVISK4rW7Q0wAvg2pU8SgIOBa4EROntUsfsSCLEnin59GIgIMBU4o9j9CRFnAFNRFX+1jDViTxQqK0Hdw4CZQFmxuxMiyoCZOM5haPwtgPgTBZLAlcDEENpygUbgX8UelI+J/tiSxe7IQIg1UfwleQpwXojN3g2cA9wGbCz2GIHzEK3RujHF7ke/iDVRsPCALwJhb+KvYA6787Fb3o4ijnG0P8aoQyHyQmyJot/eB2xpPjPstv0jaRp4FPgScBmwHDJhRwXHWaAT9Zr4GrWxJQpeB8BpwP5RNC/z2jKE2YLI3cC52JVAaxFGuz9wKhVFeHJAxJcomqwETo+6jzKvDbrTAG/wescNGGHuAN4t4Ggd4HS6qCzgM7PuYFwxCYuSjxxy40YjzP4VAM14OgMLpVwCdBVovFMI52QXCWJJFN9bOQUoqNuyZzsSuoAG4EJgBtBcgMfvBRyldfH01MaSKHgIFjVflJOAzN8A6oFtP3dgcbjzyQRNR4MkcDTixNL7Fk+iJKgEPlTMLsj8t3qnXKzCTczBCHMXlqYRBQ5DvVjaKfEkCrIHsG+xewG9tiPHUyzC/nLsSP037IgdJvb1xx47xJQo7AnEasJk/npofQ/MOfcn4LOY0+6lwTzuDOJKlL0gfl4Fubs9Y+wCbMR1bsOuA24BwggsqfDHHjvElSjDiPFNsVznb0dlLsCrqHwDu4/6HRYbmyvKiGmgeFyJUkHM7z4A5NoN/gqjLrAMYSrw78AyLKE9WySI4UoK8SVKghIK05R5beB6oGwj6SwGfoipHmTdFDH9QOIaB5HG9AhiD50z2npaloBu90DS3uXAF8jNWegR/kkqFMSVKNuxCYvl1wWg3xoLSTdD55F0uxdiQUiH5NGsS342TmSIK1Hexfb4VJ7tRIdyFzwqsIvLr2ICPfnOZxewqdhD2xXiSpS3sC8rvrk7yuEI38SOx7uF1Op24hF1txPiasy+DcQ95/JQLEIuLJLgjzkXIzhyxJMowiZgVbG70T+0AQtDCBOtqMZy64knUbSrC1NgjDO2YOoEYW4Vz9GRKlT8S1aIJ1HssPM0JuEZT5SnQHgC+FVILXYCT1Oei58uesSSKDJvI0ATsLZQz9SrD0LrRhM0a0/q1oCdzBYCr4bQhTVAk9ywvlBDzgqxJAoAyjrgyYI8qm4UVG0GZDdgZFBJCrmuDZSXgdvJ31H2JGiUgVF5Ib5EQbuBvxBhzGqvFSQJfBL0buB7IFV+YnyQVhRLKnsqj650AveBE0uvLMSZKFIOlnfzQhTNa93ozOgPBbkFu/k9Gzgf0TOQYLaCzN8Aohsww3Zbjt15AXgsziZZbIki89ZCp9cG/JZwE7PUX0VG4XE1lik4Exjp/3sVcBWaGKV1AUNDLMn8AeD+HPrjAfewzWuTebE8GQMxJgoASVHgHsIxFsFuZoZgsa+/A25i13orHwG+iHqBbrBlXhso24EfYCqQ2eAVlN/GXYEp1kSRGzaApy3Az7ALszDGezUWIH08fV86JoErkOTBgZPHU4B6y4FfEPzm2wXuxPVa5TvxdkTHmigACIq92KdDGu9BBHO7HwhMA8qslMsA3axrA8QFFhE8jvYp4G4ciX1IReyJYsai+ya2TWwu8OMvAP24r7MfrK+etxJYwMARbpuBm/C89XJ9vFcTKAGiAKBlYMbiTyms4sBIrADDbjo3oGHrOGCChI/381Me8BOUBpy4XuDvMKxidyAIZN6bYP6U7wKPFPjxp4GcTWewOgy+Yfs2dlzuK1Hsr8D3gC5/bLFHSRAFMpom8ibwDeDFAj66EphFWfvYwKJ8ZS4gD2FH7x3xgo1B1pdStbCSIQoAqQ7wWIFtB68X8MlHAVN9dcoBIXM3AtqBBVn3dsu/DlxFwmuie2sBu58/SoooMvtdO7hu6XoICz9cU6BHO8BlqB4eVG3A0ji8FZhdhd/XmXSmH6Y7gXzn/4kSKeTaNhhaDpL4M3AF8FqBHj0e8+CW6zWBPbYecCdwLzANGXIfqSRyfTxviPtDyREF/Eqg6oLrPIDVDfxHgR59PsgJJIIlB8i8DaCyGriUJ469H91eskUpS5Io4C/tSReQJ7A8mruI/lZtBPA1VIcHFrwRVWAzxy5D5pXeStIzjGJ3IF/o7L1AHLA7nC8BX8O8qlGhE5jOe4fcKT9YWuzhFwwlT5QM7OjqAN7hmJzW+UQnIdEMnI3q6lIvKhkUJbv17Ajb+12A51H5KlYU+24sRyhsHIFp08Y2kzFsDJoVpTd09hiwe7ZyTDTw01g1iwMJTy3gNeAsmdcWF139SDEoiQJ+HGxmeJUpaO/cGxMQ/AQWbzIJ25qCEqcDS85aiUl0/Q1YKvPaotJzixUGLVF6wy9Y2fuvhgFjMV3XCcA4TH1gGLYKgd0tvYdl763FFK1bgDcok/fothvlUj3uZouCEWXykipEFFA8twySHppwkbRDsjuNV2bmUremeeH0aGKM9dtjwN2FSIIobHZgqDg4noM4gpdw8bZ4JCrZKQ6pWyGZQOZHdKFXvzLTMcCxx4tgl87d9KSMC3BlYTSMIyNKdWMFiiIfKFqkkOxGuyodTaiD44m44nmu5yUSfQfvNNVGV/xC68ZYIL0AbgISrh233TJwOvHfUrQrx8IWP+52hylQAUFQEnbPpIDrkhSP9I6vzv/daZMi6WKoRKlpMHKAjUkdrRCV0djyPhGTBN0b2B0LHnSwo8o2bP9fh+UctwCrsXRNFyCZTvPMmbHNZsgei1aC23v6JQE6EtgPs5/GA/tgSpFV2DLoYbbSJuBNf45W2pxpmzHbVm0gVNKEQpSaxkq0JwpMh4EcgemFHAschtWkGRLweS5mG6zB8o8fBx5OptMtg4IoC1vef5dCOXAA8HHMyJ6MfUzDCHb0VmArpkj5IvB3my99HmRLz4+EQJi8iDK5oQrBo6m2g+qGionAp7Cj6BTM3R0GuoBpyXT6zpImSv1KMistwh7AiZiS5LHYyhGWT+sdYAUWC/MAm8a0sPt6s8OuzJ0wORFlygMpPEdISDeulh2EVbD6LBa4HLbdsww4L5lOt5UsURa0ZGZlD+xDmgocQ7QKkB6W5rIYuBsSryIueALTJ2TdWNYv1YxUEGUv4CJM8juqWsTbgIsduPfZCA3ayLBwpRmkSjlCLRZwdRyF19B9GbgD4S6Ut3LZjrJa7iY3VuA5iCgnAr8G/ptoC1bfp7CkJNeR+lZQB2Aiwg+w2+0TKY7Q8sHATSi/Bk5CPIf6lqwaCLSiVDc4QDkqDBHlCiyJKmgWd65YD5yr8I/mgKtJdUMFCDSdVuTVp74FSDjg1gLXYaGUccF64GZMgWErLjBzYF/MgCtK9V/K8J2Ve4vyfeB6oieJJX2JPJ0VSWCoQLn/5+LAvtQUuNOxDMc4kQRgDPYObwXGkgDqVw34S/0S5cN/HoYfzTURy4C7lMJIer5kz9Ms0kilDKhTpQ4YUr2kCGQxkgwBZgPfocAVzLJAOfYuFwETwYNb+5dm6ZconSYnNhFbps6iMC7/bmBB2ulqCbqFGCn0WH/w3wTmAEMKurIs7CHJXCylpKpwD88JgpUKXgRMItV/cGCfRKlurECUfbCK46cUcACPA79JaDCbr8bskt2wE8WemLE4C+EbQGpyQwEKatW3AJICvgXM4v2LxVLAydg7HueTfZfYJVGqGytQZThwI6bMXCi8B9yKOO80nxYs/DVtt8LnAKf2+usUZnBfiuIc2RDhezNHmoPqZVihp1IiSQa1wA0ow/s6De1ElOqHKgGSYl/o5ylsKMIfVHkYL5hpUtOQIoGOxXJ8dlw6hgBzRPSURJQC3VoG6KlYce24bzd9QbB3PQshSf3qnX5gJ6JouwfKGdjkF/LMvxb4oTh0NJ0+8GpS/RQ4goMyFbsy2BVGA/MVb0Ik9kr9SpD0BKyCaVwN16CwLVuptXvHD+IDRKluSCHlsh/2dRSytp0H/BSkqWlFQB/IO5W4Kh9i4NjVo4CrQcoP+dOI8Hr8+y2gWm5tx+4InCv2AOoguS/1rR/4hx6iVC+tQIUEJh5T6IH/E7gT1ONbA/9wdWMliJZjmXvjB/hxAb4IesqQVHt4PV7XBuKcYm0PKhyNZWAmetsr768o2xVRORrLvAvDLllHsNzgTuC23Ts6VgcOUPI8gBOwlIwgGA58zUV2nxLGFrToVUg4u2N23PAQ5moL8C8Kq/3SFxxgKmhNbwGhHqKoxUZ8BfPchYFlwL9hubf9KSU9InDvOxXBjrFHNlSCyAgs0WtEFv05DjjLdUNQweqsAPNBHB/SXLVhtQhnY7G5xcZYjAs9NqoD5v4WpAZzqoUFj5T+LzAduBB4kJ3FhTdhruTNzbXBtoWOsgqwnJ0Ts+xPCrhEEjKi+pE8VpWbWyDZPRy4hHC91GtJjr8RC0O4AytuVUycg0g1Cyx+11YUwQE+R9g1d7slgW0tD5A5fsHzvX7iHmDpioBbTs2SFJXd7fthtkkuL+nDwCc0nwzlKgFbST4S6lyBQ7oVzF6b4c9XAxEqdw+AUViMkUPmf6KMwxKkQkdTbQfvmXt4kyC3Y+rQN2E69wuymwhxBL6MZerlgirgM0gex34lia1o4ftMpk2CaRPx56QRuAAjTXPozwqGTyEyFsCpbqhEbf+OLO6/5USlqbYDz2y1VkSvAc5D3BeCGrDVDRWoUIPt5fmEDX5CBj4p9QPdH/hkVHMFGFnaOwHeRbgD247mU8BqIz4OAI6jfiWOqiYxf3/kzrXm2k5LvVBxgTfACWTlVz9YjlrY4Fex+NJ8MA74aE1jDguC3YV8FAuAjhZXH2qE8RRgFcgc7HDwC+yUVAiUASejkkiKMAaL3ywYss3TkXQSHO8U7MvKF0ngeBV+SbbHUcXB7JPCaX5O90MW61sVeBqRr6B6L2bvFaIvxyCMcbB0iui/kBxR01COOt6e2HF4WFjN4nkjsv4tYQTRfFQDv+xpE2yFUTqAP4F8FvMKB1XJzhX7A4clgRrCrbQZLkQF5fOYHRXm4MeRfUXQoZifI+zE9HXs6oJlV5g2ARa0grARlR8iugQLcL+IaO6bdgOqk9gJIrY6KaqJcViF8jBtqOFY9mJ2BS4dZy2uXhTFMHGd4If2TLqFJZO9iiffxNE/Yjbcpwj3ROYARzpY+mKcsQUz4ML0WJYB+538TNa/5wHtof9n20n2LuMrJ9p2JLjAMpBLsFPhk4R7HTApSXgu+6jwbmJ7x01uVcUDmJc3DMktAfZ+6KgsL7UuH1/sudg1pk+AH60CR7chLEZZim1FX8GOuPlijEN4qZ+RoKm2A6+qAuA5RWZiHssl5K8AueeUhyoHjz7MjPFmv9g6sh4n+V3slFiPVabPB7s7lEBU1oraDsqTabDA64ewu6NpwLPkXh20Sl2NrW2WM6b725HXDaa7Pwu7nrkf2J5jq1UOhfQJ5IHlJ6dprm33ZTV4F5MOv5D+y530hzIcHTwryo6YNgl/Y01j1TwuAn5Mbh9WMoktViXxZR3RmDJhHk8cHD0GuweZkmNzrmoOBmSpYEGrKRioArIfZuSeS25Klm4Ss7zj60chI9Djjxsm4OhlmCJAPhmL7Q7xL9GWNW573VSjbMZGYG7/GUA1uQektSexoKJYEmXqPdA8PJVRztpd7dp7GnBkCM1vSqVSXlA/V0lgQatf1lDKQE9A9SrsHi/fFJJ3k5jq4bhij3FHTF5SwQoBB00BJ6mFHYapBtDmBawV2IOFraARRSt6HszIUZn99la7PKzcDtsrD0d0OvZRhRUgvyGJFRvKdZ8PHdUNVYBHd1opS0q1qszA4j9GhPiYNLBm+UlZeuKvGA8LV2f3O0EgAuU5mA53vgqdCXAVhLG0V34J4TLCDxlZlQSew87bRT0B1PylHE1ktP9kXFlSLsFyifeP4HFbMUHB7LCwdQwWoR6swGAwCMpG0ulFWGhoMNS3ZDxJQxHOxtz3xxD+wUSB55JAE3a+DnPwWaF6SYVftZ5hIOf4gz6K6MgbNENgRziYw+/gkPuzChMmGpgoC1b6mrOaBDnWn6taovOHbQOaklgM63qKcOfTk72nkgQ9HrNDTiVabTNszLox699S3kJoInyiDOzbuL3Fd2QIeHowyBVYnaJw45x3xpsozycRVqM0UUCiTDalBAQPD+cwEb0S+1JHFuDxHrBMO73sHU9lnd2kU3/H7psK53uqX5lxzY/E04xXOmyy9oUViK5Nalo7JSGPYM6YyAdf3VCRuScdrTgXicVShHFxFRQbgWVSlWDgYuc7oLMKEu4yv43oc40zTjO0EtteZmFyo4XypnvAI7jalXSGOGiHPoopIecbj9onqht7CDIEi5mYhaU8FLrmzXKUl5tOycF/MnN/qG/5F7AcSwCLBplUTg9B+DB2GXoOFjhVSKwDHmVkCmfFCe2o8ioRVSivWVLpJ5ipg30NP8W0zT5O4UmSBv6A4+SRhKztwO/JejkKiPfzfSfi6PX+s75A4UkCdkfUwgX79ixh3ZjVfW6oHRLUczxE5QBVyYTrBSxHHgleBBqtwkbug8Jybl4iHA9xplH1SbIHZgNNJ/f8pTCwBfgN/gdhCWACII8DYVZTVFz2FJXpwJ+Br1NcknjALzWhbzSdkUfy3bSJ0N39JuQQxd/fXFnm4+nYy7mN4pIE4FEsfxzwidJU24GaE2oR4eWMHIHJa98KHFrkQYO5AX6DF8JFYDKh2At9Pt+mfAwHbgF+henlFUO0uDe2AIsQtvmZi++fchKAKg9jX38YOAKTpij2oMFSNBeUO92rm8MQK55+ACSc1WSdEtsn9sKM4xFFnKPe+CPwCO77C2YPUZ6tbQehHVM1fr3YPQ0ZjcDibi/EU6VN4mK/7cGEVcAtqLYz432vxQf8Js21HTheogn4HtFXJS8UVgPXo2xeURvikGxJ3oypQOdyHRBHdAI3k3CaezIUfews9ieeCvwc24NLHe3ADcDyptMjiDuZNhE8We4/I0Tdr6JhMfBzdhF/sRNRVpzejgpbgW/Ty+otQbjAj1HuIpecmaAQFPgfTPwmDtJauWIZprq9lSt3rufT5+1s9YOV4OlR/iR8qNijyAGLUaYDb0eymvSG+T9GYqkRQXXl4oQXgYtRfWbHLSeDPu92tMtFXclIa71c7JFkifuAryMFIAlk7JWNmHL1/cUefJZ4BZiOyjNI347yPonSfGYXTtIDkaVYxllYPoMoocC9GLnXRlkGdydYaudakOnAH4hyuwsPLwCXk+BRRGHa+D5/sN/b4hWndYIqgj6GRb0/VuyR9YMu4CfAdIU1VQWpFrMDOpOArsbCAH5C8fTXgmAZcAkqj9JNZlXsE4EiyKxChSIWlngtFjtShDfRJ94CvouyEGHrqOF78ODH3ihOT360KiMkNRRb2a4m+uCibNCJnW7mAquCVmMPHGp4VGMK1+IVh2KixVdj0hHFhAJPANeB9zA4XkG3m/5Q3wIiCVRPwSTjP0aR45IxRYhbMPfHVkTY1QlnV8ipSuk2t4MhTkUNpoJ0DuEpIWWDNcCdIHeAvgFKU5gOtTCQqX+jjMU0+y+lOOpWW7CrmZvBXQGJAbeaHZETw6v9rQiLbT0ZM3ZPoDCJZG9idxF3OKJNnjqKaPELTvaFH7X4lqAKJvr8ZSzrIeq6jGAEWYqV3fsriDkFsyQJ5LEUHtFYScJTvwUZCnocpot6AvbVhLnMdmHHuPuB32JKSelYVCQNip6oNUni6BGYv+VMrBxwmPaeYjKjj2C2yGNYJL3l/8zMLTQ675dZYzq1gCKqSRU5ECPLScBk7MsZkuWzPEwnrRULO3wYeHKv7VXr3qoy5YZU0uOpk+N8qNgFfrwautM2E+1JqEyPxeRIT8VUtcdjIQfZxi5vA97AhIv/BiwFeQXUovAUk8PIA6F99VMaU6gHKpkmNSXIODXVySnA4f5EjPIno9KfkLQ/0E1Y2shrWFJaM8qLKrpe/GRyD/hnXIzVfHH7SvD8uXJU8GQMcAiWTH4kFnC+NxbxVoUfCYIlS2/GUoFXYf6tJuA5RNeg4htqYqevK8JJrvg/1r/N4lnuwIgAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTctMTAtMTJUMTY6MDc6MzQrMDI6MDB1PnpAAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE3LTEwLTEyVDE2OjA3OjM0KzAyOjAwBGPC/AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAAASUVORK5CYII=";function Ou(e){var o=`${e.explore_url}/details/${e.uuid}?nodeType=NODE`;return T$1.jsx(yn,{placement:"bottom",overlay:T$1.jsxs(kr,{className:"explore_btn_tooltip",children:["Browse provenance",T$1.jsx("br",{}),e.uuid]}),children:T$1.jsx("a",{href:o,target:"_blank",children:T$1.jsx("img",{src:Ls,className:"explore_btn_aiida_logo"})})})}const Ns="_toggleSwitchWrapper_i81zd_2",Zs="_toggleLabel_i81zd_11",Hs="_toggleSwitchContainer_i81zd_16",Us="_toggleSwitch_i81zd_2",Ys="_thumb_i81zd_34",Vs$1="_toggled_i81zd_46",Mt={toggleSwitchWrapper:Ns,toggleLabel:Zs,toggleSwitchContainer:Hs,toggleSwitch:Us,thumb:Ys,toggled:Vs$1};function Ru({switchLength:e="50px",labelLeft:o="Left",labelRight:a="Right",fontSize:c="12px",onToggle:d=()=>{},labelClassName:g="",containerClassName:b="",switchClassName:_="",thumbClassName:$=""}){const[j,rt]=reactExports.useState(!1),nt=()=>{const st=!j;rt(st),d(st)};return T$1.jsxs("div",{className:`${Mt.toggleSwitchWrapper} ${b}`,style:{fontSize:c},children:[T$1.jsx("span",{className:`${Mt.toggleLabel} ${g}`,children:o}),T$1.jsx("div",{className:Mt.toggleSwitchContainer,children:T$1.jsx("button",{className:`${Mt.toggleSwitch} ${j?Mt.toggled:""} ${_}`,onClick:nt,style:{"--switch-length":e},children:T$1.jsx("div",{className:`${Mt.thumb} ${$}`})})}),T$1.jsx("span",{className:`${Mt.toggleLabel} ${g}`,children:a})]})}function Cu(e){return e.split(/(\d+)/).map((o,a)=>o.match(/\d+/)?T$1.jsx("sub",{children:o},a):o)}const Ws={display:"inline-block",position:"relative"},Js={position:"absolute",top:"0.15em",left:0,right:0,borderTop:"0.1em solid black",height:0,zIndex:1};function Tu(e){let o=!1,a=!1;return T$1.jsx("span",{children:e.split("").map((c,d)=>c=="-"?(a=!0,null):c=="_"?(o=!0,null):a?(a=!1,T$1.jsxs("span",{style:Ws,children:[T$1.jsx("span",{style:Js}),c]},d)):o?(o=!1,T$1.jsx("sub",{children:c},d)):c)})}function Br(e){return Math.sqrt(e.reduce((o,a)=>o+a*a,0))}function zr(e,o){return e.reduce((a,c,d)=>a+c*o[d],0)}function Gs(e){return e[0].map((o,a)=>e.map(c=>c[a]))}function qs(e,o){return e.map(a=>a.map(c=>c*o))}function Ks(e){return Array.from({length:e},(o,a)=>Array.from({length:e},(c,d)=>a===d?1:0))}function $s(e,o){for(var a=[],c=0;c<e.length;c++){a[c]=[];for(var d=0;d<o[0].length;d++){for(var g=0,b=0;b<e[0].length;b++)g+=e[c][b]*o[b][d];a[c][d]=g}}return a}function Qs(e){const o=e.length,a=e.map(d=>Br(d)),c=Array.from({length:o},()=>Array(o).fill(0));for(let d=0;d<o;d++)for(let g=0;g<o;g++){if(d===g){c[d][g]=0;continue}const b=zr(e[d],e[g]),_=a[d],$=a[g];if(_>0&&$>0){let j=b/(_*$);j=Math.max(-1,Math.min(1,j));const rt=Math.acos(j);c[d][g]=rt*(180/Math.PI)}else c[d][g]=null}return{lengths:a,angles:c}}function Xs(e){const o=e.length,a=e.map(d=>d.slice()),c=Array.from({length:o},(d,g)=>Array.from({length:o},(b,_)=>g===_?1:0));for(let d=0;d<o;d++){let g=d;for(let _=d+1;_<o;_++)Math.abs(a[_][d])>Math.abs(a[g][d])&&(g=_);if([a[d],a[g]]=[a[g],a[d]],[c[d],c[g]]=[c[g],c[d]],a[d][d]===0)throw new Error("Matrix is singular and cannot be inverted.");const b=a[d][d];for(let _=0;_<o;_++)a[d][_]/=b,c[d][_]/=b;for(let _=0;_<o;_++){if(_===d)continue;const $=a[_][d];for(let j=0;j<o;j++)a[_][j]-=$*a[d][j],c[_][j]-=$*c[d][j]}}return c}function Lr(e){const o=e.length;if(o===1)return e[0][0];if(o===2)return e[0][0]*e[1][1]-e[0][1]*e[1][0];let a=0;for(let c=0;c<o;c++){const d=e.slice(1).map(b=>b.filter((_,$)=>$!==c)),g=c%2===0?1:-1;a+=g*e[0][c]*Lr(d)}return a}const Su=Object.freeze(Object.defineProperty({__proto__:null,determinant:Lr,dot:zr,getMatrixParams:Qs,identityMatrix:Ks,invertMatrix:Xs,multiplyMatrices:$s,norm:Br,scalarMultiply:qs,transpose:Gs},Symbol.toStringTag,{value:"Module"})),ta={Z:1,mz:1.00794},ea={Z:2,mz:4.002602},na={Z:3,mz:6.941},ra={Z:4,mz:9.012182},ia={Z:5,mz:10.811},oa={Z:6,mz:12.0107},sa={Z:7,mz:14.0067},aa={Z:8,mz:15.9994},ca={Z:9,mz:18.9984032},ua={Z:10,mz:20.1797},la={Z:11,mz:22.98976928},fa={Z:12,mz:24.305},da={Z:13,mz:26.9815386},pa={Z:14,mz:28.0855},ma={Z:15,mz:30.973762},ga={Z:16,mz:32.065},_a={Z:17,mz:35.453},va={Z:18,mz:39.948},ha={Z:19,mz:39.0983},ya={Z:20,mz:40.078},ba={Z:21,mz:44.955912},Pa={Z:22,mz:47.867},wa={Z:23,mz:50.9415},Ea={Z:24,mz:51.9961},xa={Z:25,mz:54.938045},Aa={Z:26,mz:55.845},Oa={Z:27,mz:58.933195},Ra={Z:28,mz:58.6934},Ca={Z:29,mz:63.546},Ta={Z:30,mz:65.409},Sa={Z:31,mz:69.723},ka={Z:32,mz:72.64},Ia={Z:33,mz:74.9216},ja={Z:34,mz:78.96},Da={Z:35,mz:79.904},Fa={Z:36,mz:83.798},Ma={Z:37,mz:85.4678},Ba={Z:38,mz:87.62},za={Z:39,mz:88.90585},La={Z:40,mz:91.224},Na={Z:41,mz:92.90638},Za={Z:42,mz:95.94},Ha={Z:43,mz:98},Ua={Z:44,mz:101.07},Ya={Z:45,mz:102.9055},Va={Z:46,mz:106.42},Wa={Z:47,mz:107.8682},Ja={Z:48,mz:112.411},Ga={Z:49,mz:114.818},qa={Z:50,mz:118.71},Ka={Z:51,mz:121.76},$a={Z:52,mz:127.6},Qa={Z:53,mz:126.90447},Xa={Z:54,mz:131.293},tc={Z:55,mz:132.9054519},ec={Z:56,mz:137.327},nc={Z:57,mz:138.90547},rc={Z:58,mz:140.116},ic={Z:59,mz:140.90765},oc={Z:60,mz:144.242},sc={Z:61,mz:145},ac={Z:62,mz:150.36},cc={Z:63,mz:151.964},uc={Z:64,mz:157.25},lc={Z:65,mz:158.92535},fc={Z:66,mz:162.5},dc={Z:67,mz:164.93032},pc={Z:68,mz:167.259},mc={Z:69,mz:168.93421},gc={Z:70,mz:173.04},_c={Z:71,mz:174.967},vc={Z:72,mz:178.49},hc={Z:73,mz:180.94788},yc={Z:74,mz:183.84},bc={Z:75,mz:186.207},Pc={Z:76,mz:190.23},wc={Z:77,mz:192.217},Ec={Z:78,mz:195.084},xc={Z:79,mz:196.966569},Ac={Z:80,mz:200.59},Oc={Z:81,mz:204.3833},Rc={Z:82,mz:207.2},Cc={Z:83,mz:208.9804},Tc$1={Z:84,mz:210},Sc$1={Z:85,mz:210},kc={Z:86,mz:220},Ic={Z:87,mz:223},jc={Z:88,mz:226},Dc$1={Z:89,mz:227},Fc={Z:90,mz:232.03806},Mc={Z:91,mz:231.03588},Bc={Z:92,mz:238.02891},zc={Z:93,mz:237},Lc={Z:94,mz:244},Nc={Z:95,mz:243},Zc={Z:96,mz:247},Hc={Z:97,mz:247},Uc={Z:98,mz:251},Yc={Z:99,mz:252},Vc={Z:100,mz:257},Wc={Z:101,mz:258},Jc={Z:102,mz:259},Gc={Z:103,mz:262},qc={Z:104,mz:267},Kc={Z:105,mz:268},$c={Z:106,mz:269},Qc={Z:107,mz:270},Xc={Z:108,mz:270},tu={Z:109,mz:278},eu={Z:110,mz:281},nu={Z:111,mz:282},ru={Z:112,mz:285},iu={Z:113,mz:286},ou={Z:114,mz:289},su={Z:115,mz:290},au={Z:116,mz:293},cu={Z:117,mz:294},uu={Z:118,mz:294},lu={H:ta,He:ea,Li:na,Be:ra,B:ia,C:oa,N:sa,O:aa,F:ca,Ne:ua,Na:la,Mg:fa,Al:da,Si:pa,P:ma,S:ga,Cl:_a,Ar:va,K:ha,Ca:ya,Sc:ba,Ti:Pa,V:wa,Cr:Ea,Mn:xa,Fe:Aa,Co:Oa,Ni:Ra,Cu:Ca,Zn:Ta,Ga:Sa,Ge:ka,As:Ia,Se:ja,Br:Da,Kr:Fa,Rb:Ma,Sr:Ba,Y:za,Zr:La,Nb:Na,Mo:Za,Tc:Ha,Ru:Ua,Rh:Ya,Pd:Va,Ag:Wa,Cd:Ja,In:Ga,Sn:qa,Sb:Ka,Te:$a,I:Qa,Xe:Xa,Cs:tc,Ba:ec,La:nc,Ce:rc,Pr:ic,Nd:oc,Pm:sc,Sm:ac,Eu:cc,Gd:uc,Tb:lc,Dy:fc,Ho:dc,Er:pc,Tm:mc,Yb:gc,Lu:_c,Hf:vc,Ta:hc,W:yc,Re:bc,Os:Pc,Ir:wc,Pt:Ec,Au:xc,Hg:Ac,Tl:Oc,Pb:Rc,Bi:Cc,Po:Tc$1,At:Sc$1,Rn:kc,Fr:Ic,Ra:jc,Ac:Dc$1,Th:Fc,Pa:Mc,U:Bc,Np:zc,Pu:Lc,Am:Nc,Cm:Zc,Bk:Hc,Cf:Uc,Es:Yc,Fm:Vc,Md:Wc,No:Jc,Lr:Gc,Rf:qc,Db:Kc,Sg:$c,Bh:Qc,Hs:Xc,Mt:tu,Ds:eu,Rg:nu,Cn:ru,Nh:iu,Fl:ou,Mc:su,Lv:au,Ts:cu,Og:uu};function fu(e){var o=e.split(/(?=[A-Z])/),a=0;return o.forEach(c=>{let d=c.match(/\d+/),g=d==null?1:parseInt(d[0]);a+=g}),a}function du(e){return e.split(/(?=[A-Z])/).length}function pu(e,o){var a=e.split(/(?=[A-Z])/);let c=0;return a.forEach(d=>{var g;const b=d.match(/([a-zA-Z]+)(\d*)/),_=b[1],$=parseInt(b[2]||"1"),j=((g=lu[_])==null?void 0:g.mz)||0;c+=j*$}),Math.round(c*1e4/(o.value*6.0223))}const ku=Object.freeze(Object.defineProperty({__proto__:null,calculateDensity:pu,countNumberOfAtoms:fu,countNumberOfElements:du},Symbol.toStringTag,{value:"Module"}));function ju(e){return e.includes("P")?[[1,0,0],[0,1,0],[0,0,1]]:e.includes("I")?[[0,1,1],[1,0,1],[1,1,0]]:e.includes("F")?[[-1,1,1],[1,-1,1],[1,1,-1]]:e.includes("A")?[[1,1,0],[-1,1,0],[0,0,1]]:e.includes("R")?[[-1,1,0],[1,1,-1],[1,1,1]]:e.includes("C")?e in["C2","CmCc","C2/m","C2/c"]?[[1,-1,0],[1,1,0],[0,0,1]]:[[1,-1,0],[1,1,0],[0,0,1]]:(console.log("Missing Space group data for:",e),[[1,0,0],[0,1,0],[0,0,1]])}function TitleAndLogo({titleString:e="Materials Cloud Three-Dimensional Structure Database (MC3D)",imgSrc:o=Mc3dLogo,doiId:a="rw-t0"}){return jsxRuntimeExports$1.jsxs("div",{className:"title-and-logo",children:[jsxRuntimeExports$1.jsxs("div",{className:"title-and-doi",children:[jsxRuntimeExports$1.jsx("span",{className:"title-span",children:e}),jsxRuntimeExports$1.jsx("div",{style:{marginLeft:"4px"},children:jsxRuntimeExports$1.jsx(wu,{doi_id:a,label:"Data DOI"})})]}),jsxRuntimeExports$1.jsx("img",{src:o,className:"mc3d-logo",alt:"MC3D Logo"})]})}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)({}).hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends$1.apply(null,arguments)}function _objectWithoutPropertiesLoose$6(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)!==-1)continue;a[c]=e[c]}return a}function defaultKey(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function _toPropertyKey$1(e){var o=_toPrimitive$1(e,"string");return typeof o=="symbol"?o:String(o)}function _toPrimitive$1(e,o){if(typeof e!="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var c=a.call(e,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function useUncontrolledProp$1(e,o,a){var c=reactExports.useRef(e!==void 0),d=reactExports.useState(o),g=d[0],b=d[1],_=e!==void 0,$=c.current;return c.current=_,!_&&$&&g!==o&&b(o),[_?e:g,reactExports.useCallback(function(j){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),st=1;st<rt;st++)nt[st-1]=arguments[st];a&&a.apply(void 0,[j].concat(nt)),b(j)},[a])]}function useUncontrolled(e,o){return Object.keys(o).reduce(function(a,c){var d,g=a,b=g[defaultKey(c)],_=g[c],$=_objectWithoutPropertiesLoose$6(g,[defaultKey(c),c].map(_toPropertyKey$1)),j=o[c],rt=useUncontrolledProp$1(_,b,e[j]),nt=rt[0],st=rt[1];return _extends$1({},$,(d={},d[c]=nt,d[j]=st,d))},e)}function _setPrototypeOf(e,o){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,c){return a.__proto__=c,a},_setPrototypeOf(e,o)}function _inheritsLoose(e,o){e.prototype=Object.create(o.prototype),e.prototype.constructor=e,_setPrototypeOf(e,o)}function ownerDocument(e){return e&&e.ownerDocument||document}function ownerWindow(e){var o=ownerDocument(e);return o&&o.defaultView||window}function getComputedStyle$1(e,o){return ownerWindow(e).getComputedStyle(e,o)}var rUpper=/([A-Z])/g;function hyphenate$1(e){return e.replace(rUpper,"-$1").toLowerCase()}var msPattern=/^ms-/;function hyphenateStyleName(e){return hyphenate$1(e).replace(msPattern,"-ms-")}var supportedTransforms=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function isTransform(e){return!!(e&&supportedTransforms.test(e))}function style$1(e,o){var a="",c="";if(typeof o=="string")return e.style.getPropertyValue(hyphenateStyleName(o))||getComputedStyle$1(e).getPropertyValue(hyphenateStyleName(o));Object.keys(o).forEach(function(d){var g=o[d];!g&&g!==0?e.style.removeProperty(hyphenateStyleName(d)):isTransform(d)?c+=d+"("+g+") ":a+=hyphenateStyleName(d)+": "+g+";"}),c&&(a+="transform: "+c+";"),e.style.cssText+=";"+a}var propTypes$3={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function e(c,d,g,b,_,$){if($!==ReactPropTypesSecret){var j=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw j.name="Invariant Violation",j}}e.isRequired=e;function o(){return e}var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:o,element:e,elementType:e,instanceOf:o,node:e,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return a.PropTypes=a,a};propTypes$3.exports=factoryWithThrowingShims();var propTypesExports=propTypes$3.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports),config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(o){return o.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(e){_inheritsLoose(o,e);function o(c,d){var g;g=e.call(this,c,d)||this;var b=d,_=b&&!b.isMounting?c.enter:c.appear,$;return g.appearStatus=null,c.in?_?($=EXITED,g.appearStatus=ENTERING):$=ENTERED:c.unmountOnExit||c.mountOnEnter?$=UNMOUNTED:$=EXITED,g.state={status:$},g.nextCallback=null,g}o.getDerivedStateFromProps=function(d,g){var b=d.in;return b&&g.status===UNMOUNTED?{status:EXITED}:null};var a=o.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(d){var g=null;if(d!==this.props){var b=this.state.status;this.props.in?b!==ENTERING&&b!==ENTERED&&(g=ENTERING):(b===ENTERING||b===ENTERED)&&(g=EXITING)}this.updateStatus(!1,g)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var d=this.props.timeout,g,b,_;return g=b=_=d,d!=null&&typeof d!="number"&&(g=d.exit,b=d.enter,_=d.appear!==void 0?d.appear:b),{exit:g,enter:b,appear:_}},a.updateStatus=function(d,g){if(d===void 0&&(d=!1),g!==null)if(this.cancelNextCallback(),g===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var b=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);b&&forceReflow(b)}this.performEnter(d)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},a.performEnter=function(d){var g=this,b=this.props.enter,_=this.context?this.context.isMounting:d,$=this.props.nodeRef?[_]:[ReactDOM.findDOMNode(this),_],j=$[0],rt=$[1],nt=this.getTimeouts(),st=_?nt.appear:nt.enter;if(!d&&!b||config.disabled){this.safeSetState({status:ENTERED},function(){g.props.onEntered(j)});return}this.props.onEnter(j,rt),this.safeSetState({status:ENTERING},function(){g.props.onEntering(j,rt),g.onTransitionEnd(st,function(){g.safeSetState({status:ENTERED},function(){g.props.onEntered(j,rt)})})})},a.performExit=function(){var d=this,g=this.props.exit,b=this.getTimeouts(),_=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!g||config.disabled){this.safeSetState({status:EXITED},function(){d.props.onExited(_)});return}this.props.onExit(_),this.safeSetState({status:EXITING},function(){d.props.onExiting(_),d.onTransitionEnd(b.exit,function(){d.safeSetState({status:EXITED},function(){d.props.onExited(_)})})})},a.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(d,g){g=this.setNextCallback(g),this.setState(d,g)},a.setNextCallback=function(d){var g=this,b=!0;return this.nextCallback=function(_){b&&(b=!1,g.nextCallback=null,d(_))},this.nextCallback.cancel=function(){b=!1},this.nextCallback},a.onTransitionEnd=function(d,g){this.setNextCallback(g);var b=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),_=d==null&&!this.props.addEndListener;if(!b||_){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var $=this.props.nodeRef?[this.nextCallback]:[b,this.nextCallback],j=$[0],rt=$[1];this.props.addEndListener(j,rt)}d!=null&&setTimeout(this.nextCallback,d)},a.render=function(){var d=this.state.status;if(d===UNMOUNTED)return null;var g=this.props,b=g.children;g.in,g.mountOnEnter,g.unmountOnExit,g.appear,g.enter,g.exit,g.timeout,g.addEndListener,g.onEnter,g.onEntering,g.onEntered,g.onExit,g.onExiting,g.onExited,g.nodeRef;var _=_objectWithoutPropertiesLoose$6(g,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof b=="function"?b(d,_):React.cloneElement(React.Children.only(b),_))},o}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function getReactVersion(){const e=reactExports.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}function getChildRef(e){if(!e||typeof e=="function")return null;const{major:o}=getReactVersion();return o>=19?e.props.ref:e.ref}const canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch{}function addEventListener(e,o,a,c){if(c&&typeof c!="boolean"&&!onceSupported){var d=c.once,g=c.capture,b=a;!onceSupported&&d&&(b=a.__once||function _($){this.removeEventListener(o,_,g),a.call(this,$)},a.__once=b),e.addEventListener(o,b,optionsSupported?c:g)}e.addEventListener(o,a,c)}function removeEventListener(e,o,a,c){var d=c&&typeof c!="boolean"?c.capture:c;e.removeEventListener(o,a,d),a.__once&&e.removeEventListener(o,a.__once,d)}function listen(e,o,a,c){return addEventListener(e,o,a,c),function(){removeEventListener(e,o,a,c)}}function triggerEvent(e,o,a,c){if(c===void 0&&(c=!0),e){var d=document.createEvent("HTMLEvents");d.initEvent(o,a,c),e.dispatchEvent(d)}}function parseDuration$1(e){var o=style$1(e,"transitionDuration")||"",a=o.indexOf("ms")===-1?1e3:1;return parseFloat(o)*a}function emulateTransitionEnd(e,o,a){a===void 0&&(a=5);var c=!1,d=setTimeout(function(){c||triggerEvent(e,"transitionend",!0)},o+a),g=listen(e,"transitionend",function(){c=!0},{once:!0});return function(){clearTimeout(d),g()}}function transitionEnd(e,o,a,c){a==null&&(a=parseDuration$1(e)||0);var d=emulateTransitionEnd(e,a,c),g=listen(e,"transitionend",o);return function(){d(),g()}}function parseDuration(e,o){const a=style$1(e,o)||"",c=a.indexOf("ms")===-1?1e3:1;return parseFloat(a)*c}function transitionEndListener(e,o){const a=parseDuration(e,"transitionDuration"),c=parseDuration(e,"transitionDelay"),d=transitionEnd(e,g=>{g.target===e&&(d(),o(g))},a+c)}function triggerBrowserReflow(e){e.offsetHeight}const toFnRef$1=e=>!e||typeof e=="function"?e:o=>{e.current=o};function mergeRefs$1(e,o){const a=toFnRef$1(e),c=toFnRef$1(o);return d=>{a&&a(d),c&&c(d)}}function useMergedRefs$1(e,o){return reactExports.useMemo(()=>mergeRefs$1(e,o),[e,o])}function safeFindDOMNode(e){return e&&"setState"in e?ReactDOM.findDOMNode(e):e??null}const TransitionWrapper=React.forwardRef(({onEnter:e,onEntering:o,onEntered:a,onExit:c,onExiting:d,onExited:g,addEndListener:b,children:_,childRef:$,...j},rt)=>{const nt=reactExports.useRef(null),st=useMergedRefs$1(nt,$),jt=In=>{st(safeFindDOMNode(In))},wl=In=>Ml=>{In&&nt.current&&In(nt.current,Ml)},Ft=reactExports.useCallback(wl(e),[e]),it=reactExports.useCallback(wl(o),[o]),ot=reactExports.useCallback(wl(a),[a]),Ln=reactExports.useCallback(wl(c),[c]),Cl=reactExports.useCallback(wl(d),[d]),Tl=reactExports.useCallback(wl(g),[g]),zl=reactExports.useCallback(wl(b),[b]);return jsxRuntimeExports$1.jsx(Transition,{ref:rt,...j,onEnter:Ft,onEntered:ot,onEntering:it,onExit:Ln,onExited:Tl,onExiting:Cl,addEndListener:zl,nodeRef:nt,children:typeof _=="function"?(In,Ml)=>_(In,{...Ml,ref:jt}):React.cloneElement(_,{ref:jt})})});TransitionWrapper.displayName="TransitionWrapper";function useCommittedRef(e){const o=reactExports.useRef(e);return reactExports.useEffect(()=>{o.current=e},[e]),o}function useEventCallback(e){const o=useCommittedRef(e);return reactExports.useCallback(function(...a){return o.current&&o.current(...a)},[o])}const _excluded$5=["as","disabled"];function _objectWithoutPropertiesLoose$5(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function isTrivialHref$1(e){return!e||e.trim()==="#"}function useButtonProps({tagName:e,disabled:o,href:a,target:c,rel:d,role:g,onClick:b,tabIndex:_=0,type:$}){e||(a!=null||c!=null||d!=null?e="a":e="button");const j={tagName:e};if(e==="button")return[{type:$||"button",disabled:o},j];const rt=st=>{if((o||e==="a"&&isTrivialHref$1(a))&&st.preventDefault(),o){st.stopPropagation();return}b==null||b(st)},nt=st=>{st.key===" "&&(st.preventDefault(),rt(st))};return e==="a"&&(a||(a="#"),o&&(a=void 0)),[{role:g??"button",disabled:void 0,tabIndex:o?void 0:_,href:a,target:e==="a"?c:void 0,"aria-disabled":o||void 0,rel:e==="a"?d:void 0,onClick:rt,onKeyDown:nt},j]}const Button$1=reactExports.forwardRef((e,o)=>{let{as:a,disabled:c}=e,d=_objectWithoutPropertiesLoose$5(e,_excluded$5);const[g,{tagName:b}]=useButtonProps(Object.assign({tagName:a,disabled:c},d));return jsxRuntimeExports$1.jsx(b,Object.assign({},d,g,{ref:o}))});Button$1.displayName="Button";const _excluded$4=["onKeyDown"];function _objectWithoutPropertiesLoose$4(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function isTrivialHref(e){return!e||e.trim()==="#"}const Anchor$1=reactExports.forwardRef((e,o)=>{let{onKeyDown:a}=e,c=_objectWithoutPropertiesLoose$4(e,_excluded$4);const[d]=useButtonProps(Object.assign({tagName:"a"},c)),g=useEventCallback(b=>{d.onKeyDown(b),a==null||a(b)});return isTrivialHref(c.href)||c.role==="button"?jsxRuntimeExports$1.jsx("a",Object.assign({ref:o},c,d,{onKeyDown:g})):jsxRuntimeExports$1.jsx("a",Object.assign({ref:o},c,{onKeyDown:a}))});Anchor$1.displayName="Anchor";const fadeStyles={[ENTERING]:"show",[ENTERED]:"show"},Fade=reactExports.forwardRef(({className:e,children:o,transitionClasses:a={},onEnter:c,...d},g)=>{const b={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...d},_=reactExports.useCallback(($,j)=>{triggerBrowserReflow($),c==null||c($,j)},[c]);return jsxRuntimeExports$1.jsx(TransitionWrapper,{ref:g,addEndListener:transitionEndListener,...b,onEnter:_,childRef:getChildRef(o),children:($,j)=>reactExports.cloneElement(o,{...j,className:classNames("fade",e,o.props.className,fadeStyles[$],a[$])})})});Fade.displayName="Fade";const Button=reactExports.forwardRef(({as:e,bsPrefix:o,variant:a="primary",size:c,active:d=!1,disabled:g=!1,className:b,..._},$)=>{const j=useBootstrapPrefix(o,"btn"),[rt,{tagName:nt}]=useButtonProps({tagName:e,disabled:g,..._}),st=nt;return jsxRuntimeExports$1.jsx(st,{...rt,..._,ref:$,disabled:g,className:classNames(b,j,d&&"active",a&&`${j}-${a}`,c&&`${j}-${c}`,_.href&&g&&"disabled")})});Button.displayName="Button";const context$1=reactExports.createContext(null);context$1.displayName="CardHeaderContext";function map$2(e,o){let a=0;return reactExports.Children.map(e,c=>reactExports.isValidElement(c)?o(c,a++):c)}function forEach(e,o){let a=0;reactExports.Children.forEach(e,c=>{reactExports.isValidElement(c)&&o(c,a++)})}function hasChildOfType(e,o){return reactExports.Children.toArray(e).some(a=>reactExports.isValidElement(a)&&a.type===o)}function useCol({as:e,bsPrefix:o,className:a,...c}){o=useBootstrapPrefix(o,"col");const d=useBootstrapBreakpoints(),g=useBootstrapMinBreakpoint(),b=[],_=[];return d.forEach($=>{const j=c[$];delete c[$];let rt,nt,st;typeof j=="object"&&j!=null?{span:rt,offset:nt,order:st}=j:rt=j;const jt=$!==g?`-${$}`:"";rt&&b.push(rt===!0?`${o}${jt}`:`${o}${jt}-${rt}`),st!=null&&_.push(`order${jt}-${st}`),nt!=null&&_.push(`offset${jt}-${nt}`)}),[{...c,className:classNames(a,...b,..._)},{as:e,bsPrefix:o,spans:b}]}const Col=reactExports.forwardRef((e,o)=>{const[{className:a,...c},{as:d="div",bsPrefix:g,spans:b}]=useCol(e);return jsxRuntimeExports$1.jsx(d,{...c,ref:o,className:classNames(a,!b.length&&g)})});Col.displayName="Col";const Container=reactExports.forwardRef(({bsPrefix:e,fluid:o=!1,as:a="div",className:c,...d},g)=>{const b=useBootstrapPrefix(e,"container"),_=typeof o=="string"?`-${o}`:"-fluid";return jsxRuntimeExports$1.jsx(a,{ref:g,...d,className:classNames(c,o?`${b}${_}`:b)})});Container.displayName="Container";var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(e,o){return toArray(e.querySelectorAll(o))}function useUncontrolledProp(e,o,a){const c=reactExports.useRef(e!==void 0),[d,g]=reactExports.useState(o),b=e!==void 0,_=c.current;return c.current=b,!b&&_&&d!==o&&g(o),[b?e:d,reactExports.useCallback((...$)=>{const[j,...rt]=$;let nt=a==null?void 0:a(j,...rt);return g(j),nt},[a])]}function useForceUpdate(){const[,e]=reactExports.useReducer(o=>o+1,0);return e}const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React.createContext(!1);let $b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(e=!1){let o=reactExports.useContext($b5e257d569688ac6$var$SSRContext),a=reactExports.useRef(null);if(a.current===null&&!e){var c,d;let g=(d=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||d===void 0||(c=d.ReactCurrentOwner)===null||c===void 0?void 0:c.current;if(g){let b=$b5e257d569688ac6$var$componentIds.get(g);b==null?$b5e257d569688ac6$var$componentIds.set(g,{id:o.current,state:g.memoizedState}):g.memoizedState!==b.state&&(o.current=b.id,$b5e257d569688ac6$var$componentIds.delete(g))}a.current=++o.current}return a.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(e){let o=reactExports.useContext($b5e257d569688ac6$var$SSRContext),a=$b5e257d569688ac6$var$useCounter(!!e),c=`react-aria${o.prefix}`;return e||`${c}-${a}`}function $b5e257d569688ac6$var$useModernSSRSafeId(e){let o=React.useId(),[a]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),c=a?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return e||`${c}-${o}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(e){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React.useSyncExternalStore=="function"?React.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const SelectableContext=reactExports.createContext(null),makeEventKey=(e,o=null)=>e!=null?String(e):o||null,NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const ATTRIBUTE_PREFIX="data-rr-ui-",PROPERTY_PREFIX="rrUi";function dataAttr(e){return`${ATTRIBUTE_PREFIX}${e}`}function dataProp(e){return`${PROPERTY_PREFIX}${e}`}const context=reactExports.createContext(null);context.displayName="NavbarContext";const propTypes$2={type:PropTypes.string,tooltip:PropTypes.bool,as:PropTypes.elementType},Feedback=reactExports.forwardRef(({as:e="div",className:o,type:a="valid",tooltip:c=!1,...d},g)=>jsxRuntimeExports$1.jsx(e,{...d,ref:g,className:classNames(o,`${a}-${c?"tooltip":"feedback"}`)}));Feedback.displayName="Feedback";Feedback.propTypes=propTypes$2;const FormContext=reactExports.createContext({}),FormCheckInput=reactExports.forwardRef(({id:e,bsPrefix:o,className:a,type:c="checkbox",isValid:d=!1,isInvalid:g=!1,as:b="input",..._},$)=>{const{controlId:j}=reactExports.useContext(FormContext);return o=useBootstrapPrefix(o,"form-check-input"),jsxRuntimeExports$1.jsx(b,{..._,ref:$,type:c,id:e||j,className:classNames(a,o,d&&"is-valid",g&&"is-invalid")})});FormCheckInput.displayName="FormCheckInput";const FormCheckLabel=reactExports.forwardRef(({bsPrefix:e,className:o,htmlFor:a,...c},d)=>{const{controlId:g}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-check-label"),jsxRuntimeExports$1.jsx("label",{...c,ref:d,htmlFor:a||g,className:classNames(o,e)})});FormCheckLabel.displayName="FormCheckLabel";const FormCheck=reactExports.forwardRef(({id:e,bsPrefix:o,bsSwitchPrefix:a,inline:c=!1,reverse:d=!1,disabled:g=!1,isValid:b=!1,isInvalid:_=!1,feedbackTooltip:$=!1,feedback:j,feedbackType:rt,className:nt,style:st,title:jt="",type:wl="checkbox",label:Ft,children:it,as:ot="input",...Ln},Cl)=>{o=useBootstrapPrefix(o,"form-check"),a=useBootstrapPrefix(a,"form-switch");const{controlId:Tl}=reactExports.useContext(FormContext),zl=reactExports.useMemo(()=>({controlId:e||Tl}),[Tl,e]),In=!it&&Ft!=null&&Ft!==!1||hasChildOfType(it,FormCheckLabel),Ml=jsxRuntimeExports$1.jsx(FormCheckInput,{...Ln,type:wl==="switch"?"checkbox":wl,ref:Cl,isValid:b,isInvalid:_,disabled:g,as:ot});return jsxRuntimeExports$1.jsx(FormContext.Provider,{value:zl,children:jsxRuntimeExports$1.jsx("div",{style:st,className:classNames(nt,In&&o,c&&`${o}-inline`,d&&`${o}-reverse`,wl==="switch"&&a),children:it||jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[Ml,In&&jsxRuntimeExports$1.jsx(FormCheckLabel,{title:jt,children:Ft}),j&&jsxRuntimeExports$1.jsx(Feedback,{type:rt,tooltip:$,children:j})]})})})});FormCheck.displayName="FormCheck";const FormCheck$1=Object.assign(FormCheck,{Input:FormCheckInput,Label:FormCheckLabel}),FormControl=reactExports.forwardRef(({bsPrefix:e,type:o,size:a,htmlSize:c,id:d,className:g,isValid:b=!1,isInvalid:_=!1,plaintext:$,readOnly:j,as:rt="input",...nt},st)=>{const{controlId:jt}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-control"),jsxRuntimeExports$1.jsx(rt,{...nt,type:o,size:c,ref:st,readOnly:j,id:d||jt,className:classNames(g,$?`${e}-plaintext`:e,a&&`${e}-${a}`,o==="color"&&`${e}-color`,b&&"is-valid",_&&"is-invalid")})});FormControl.displayName="FormControl";const FormControl$1=Object.assign(FormControl,{Feedback}),FormFloating=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"form-floating"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));FormFloating.displayName="FormFloating";const FormGroup=reactExports.forwardRef(({controlId:e,as:o="div",...a},c)=>{const d=reactExports.useMemo(()=>({controlId:e}),[e]);return jsxRuntimeExports$1.jsx(FormContext.Provider,{value:d,children:jsxRuntimeExports$1.jsx(o,{...a,ref:c})})});FormGroup.displayName="FormGroup";const FormLabel=reactExports.forwardRef(({as:e="label",bsPrefix:o,column:a=!1,visuallyHidden:c=!1,className:d,htmlFor:g,...b},_)=>{const{controlId:$}=reactExports.useContext(FormContext);o=useBootstrapPrefix(o,"form-label");let j="col-form-label";typeof a=="string"&&(j=`${j} ${j}-${a}`);const rt=classNames(d,o,c&&"visually-hidden",a&&j);return g=g||$,a?jsxRuntimeExports$1.jsx(Col,{ref:_,as:"label",className:rt,htmlFor:g,...b}):jsxRuntimeExports$1.jsx(e,{ref:_,className:rt,htmlFor:g,...b})});FormLabel.displayName="FormLabel";const FormRange=reactExports.forwardRef(({bsPrefix:e,className:o,id:a,...c},d)=>{const{controlId:g}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-range"),jsxRuntimeExports$1.jsx("input",{...c,type:"range",ref:d,className:classNames(o,e),id:a||g})});FormRange.displayName="FormRange";const FormSelect=reactExports.forwardRef(({bsPrefix:e,size:o,htmlSize:a,className:c,isValid:d=!1,isInvalid:g=!1,id:b,..._},$)=>{const{controlId:j}=reactExports.useContext(FormContext);return e=useBootstrapPrefix(e,"form-select"),jsxRuntimeExports$1.jsx("select",{..._,size:a,ref:$,className:classNames(c,e,o&&`${e}-${o}`,d&&"is-valid",g&&"is-invalid"),id:b||j})});FormSelect.displayName="FormSelect";const FormText=reactExports.forwardRef(({bsPrefix:e,className:o,as:a="small",muted:c,...d},g)=>(e=useBootstrapPrefix(e,"form-text"),jsxRuntimeExports$1.jsx(a,{...d,ref:g,className:classNames(o,e,c&&"text-muted")})));FormText.displayName="FormText";const Switch=reactExports.forwardRef((e,o)=>jsxRuntimeExports$1.jsx(FormCheck$1,{...e,ref:o,type:"switch"}));Switch.displayName="Switch";const Switch$1=Object.assign(Switch,{Input:FormCheck$1.Input,Label:FormCheck$1.Label}),FloatingLabel=reactExports.forwardRef(({bsPrefix:e,className:o,children:a,controlId:c,label:d,...g},b)=>(e=useBootstrapPrefix(e,"form-floating"),jsxRuntimeExports$1.jsxs(FormGroup,{ref:b,className:classNames(o,e),controlId:c,...g,children:[a,jsxRuntimeExports$1.jsx("label",{htmlFor:c,children:d})]})));FloatingLabel.displayName="FloatingLabel";const propTypes$1={_ref:PropTypes.any,validated:PropTypes.bool,as:PropTypes.elementType},Form=reactExports.forwardRef(({className:e,validated:o,as:a="form",...c},d)=>jsxRuntimeExports$1.jsx(a,{...c,ref:d,className:classNames(e,o&&"was-validated")}));Form.displayName="Form";Form.propTypes=propTypes$1;const Form$1=Object.assign(Form,{Group:FormGroup,Control:FormControl$1,Floating:FormFloating,Check:FormCheck$1,Switch:Switch$1,Label:FormLabel,Text:FormText,Range:FormRange,Select:FormSelect,FloatingLabel}),toFnRef=e=>!e||typeof e=="function"?e:o=>{e.current=o};function mergeRefs(e,o){const a=toFnRef(e),c=toFnRef(o);return d=>{a&&a(d),c&&c(d)}}function useMergedRefs(e,o){return reactExports.useMemo(()=>mergeRefs(e,o),[e,o])}const TabContext=reactExports.createContext(null),_excluded$3=["as","active","eventKey"];function _objectWithoutPropertiesLoose$3(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function useNavItem({key:e,onClick:o,active:a,id:c,role:d,disabled:g}){const b=reactExports.useContext(SelectableContext),_=reactExports.useContext(NavContext),$=reactExports.useContext(TabContext);let j=a;const rt={role:d};if(_){!d&&_.role==="tablist"&&(rt.role="tab");const nt=_.getControllerId(e??null),st=_.getControlledId(e??null);rt[dataAttr("event-key")]=e,rt.id=nt||c,j=a==null&&e!=null?_.activeKey===e:a,(j||!($!=null&&$.unmountOnExit)&&!($!=null&&$.mountOnEnter))&&(rt["aria-controls"]=st)}return rt.role==="tab"&&(rt["aria-selected"]=j,j||(rt.tabIndex=-1),g&&(rt.tabIndex=-1,rt["aria-disabled"]=!0)),rt.onClick=useEventCallback(nt=>{g||(o==null||o(nt),e!=null&&b&&!nt.isPropagationStopped()&&b(e,nt))}),[rt,{isActive:j}]}const NavItem$1=reactExports.forwardRef((e,o)=>{let{as:a=Button$1,active:c,eventKey:d}=e,g=_objectWithoutPropertiesLoose$3(e,_excluded$3);const[b,_]=useNavItem(Object.assign({key:makeEventKey(d,g.href),active:c},g));return b[dataAttr("active")]=_.isActive,jsxRuntimeExports$1.jsx(a,Object.assign({},g,b,{ref:o}))});NavItem$1.displayName="NavItem";const _excluded$2=["as","onSelect","activeKey","role","onKeyDown"];function _objectWithoutPropertiesLoose$2(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}const noop=()=>{},EVENT_KEY_ATTR=dataAttr("event-key"),Nav$2=reactExports.forwardRef((e,o)=>{let{as:a="div",onSelect:c,activeKey:d,role:g,onKeyDown:b}=e,_=_objectWithoutPropertiesLoose$2(e,_excluded$2);const $=useForceUpdate(),j=reactExports.useRef(!1),rt=reactExports.useContext(SelectableContext),nt=reactExports.useContext(TabContext);let st,jt;nt&&(g=g||"tablist",d=nt.activeKey,st=nt.getControlledId,jt=nt.getControllerId);const wl=reactExports.useRef(null),Ft=Cl=>{const Tl=wl.current;if(!Tl)return null;const zl=qsa(Tl,`[${EVENT_KEY_ATTR}]:not([aria-disabled=true])`),In=Tl.querySelector("[aria-selected=true]");if(!In||In!==document.activeElement)return null;const Ml=zl.indexOf(In);if(Ml===-1)return null;let Dl=Ml+Cl;return Dl>=zl.length&&(Dl=0),Dl<0&&(Dl=zl.length-1),zl[Dl]},it=(Cl,Tl)=>{Cl!=null&&(c==null||c(Cl,Tl),rt==null||rt(Cl,Tl))},ot=Cl=>{if(b==null||b(Cl),!nt)return;let Tl;switch(Cl.key){case"ArrowLeft":case"ArrowUp":Tl=Ft(-1);break;case"ArrowRight":case"ArrowDown":Tl=Ft(1);break;default:return}Tl&&(Cl.preventDefault(),it(Tl.dataset[dataProp("EventKey")]||null,Cl),j.current=!0,$())};reactExports.useEffect(()=>{if(wl.current&&j.current){const Cl=wl.current.querySelector(`[${EVENT_KEY_ATTR}][aria-selected=true]`);Cl==null||Cl.focus()}j.current=!1});const Ln=useMergedRefs(o,wl);return jsxRuntimeExports$1.jsx(SelectableContext.Provider,{value:it,children:jsxRuntimeExports$1.jsx(NavContext.Provider,{value:{role:g,activeKey:makeEventKey(d),getControlledId:st||noop,getControllerId:jt||noop},children:jsxRuntimeExports$1.jsx(a,Object.assign({},_,{onKeyDown:ot,ref:Ln,role:g}))})})});Nav$2.displayName="Nav";const BaseNav=Object.assign(Nav$2,{Item:NavItem$1});function NoopTransition({children:e,in:o,onExited:a,mountOnEnter:c,unmountOnExit:d}){const g=reactExports.useRef(null),b=reactExports.useRef(o),_=useEventCallback(a);reactExports.useEffect(()=>{o?b.current=!0:_(g.current)},[o,_]);const $=useMergedRefs(g,getChildRef(e)),j=reactExports.cloneElement(e,{ref:$});return o?j:d||!b.current&&c?null:j}const NavItem=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"nav-item"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));NavItem.displayName="NavItem";const NavLink=reactExports.forwardRef(({bsPrefix:e,className:o,as:a=Anchor$1,active:c,eventKey:d,disabled:g=!1,...b},_)=>{e=useBootstrapPrefix(e,"nav-link");const[$,j]=useNavItem({key:makeEventKey(d,b.href),active:c,disabled:g,...b});return jsxRuntimeExports$1.jsx(a,{...b,...$,ref:_,disabled:g,className:classNames(o,e,g&&"disabled",j.isActive&&"active")})});NavLink.displayName="NavLink";const Nav=reactExports.forwardRef((e,o)=>{const{as:a="div",bsPrefix:c,variant:d,fill:g=!1,justify:b=!1,navbar:_,navbarScroll:$,className:j,activeKey:rt,...nt}=useUncontrolled(e,{activeKey:"onSelect"}),st=useBootstrapPrefix(c,"nav");let jt,wl,Ft=!1;const it=reactExports.useContext(context),ot=reactExports.useContext(context$1);return it?(jt=it.bsPrefix,Ft=_??!0):ot&&({cardHeaderBsPrefix:wl}=ot),jsxRuntimeExports$1.jsx(BaseNav,{as:a,ref:o,activeKey:rt,className:classNames(j,{[st]:!Ft,[`${jt}-nav`]:Ft,[`${jt}-nav-scroll`]:Ft&&$,[`${wl}-${d}`]:!!wl,[`${st}-${d}`]:!!d,[`${st}-fill`]:g,[`${st}-justified`]:b}),...nt})});Nav.displayName="Nav";const Nav$1=Object.assign(Nav,{Item:NavItem,Link:NavLink}),Row=reactExports.forwardRef(({bsPrefix:e,className:o,as:a="div",...c},d)=>{const g=useBootstrapPrefix(e,"row"),b=useBootstrapBreakpoints(),_=useBootstrapMinBreakpoint(),$=`${g}-cols`,j=[];return b.forEach(rt=>{const nt=c[rt];delete c[rt];let st;nt!=null&&typeof nt=="object"?{cols:st}=nt:st=nt;const jt=rt!==_?`-${rt}`:"";st!=null&&j.push(`${$}${jt}-${st}`)}),jsxRuntimeExports$1.jsx(a,{ref:d,...c,className:classNames(o,g,...j)})});Row.displayName="Row";const Spinner=reactExports.forwardRef(({bsPrefix:e,variant:o,animation:a="border",size:c,as:d="div",className:g,...b},_)=>{e=useBootstrapPrefix(e,"spinner");const $=`${e}-${a}`;return jsxRuntimeExports$1.jsx(d,{ref:_,...b,className:classNames(g,$,c&&`${$}-${c}`,o&&`text-${o}`)})});Spinner.displayName="Spinner";const _excluded$1=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],_excluded2=["activeKey","getControlledId","getControllerId"],_excluded3=["as"];function _objectWithoutPropertiesLoose$1(e,o){if(e==null)return{};var a={};for(var c in e)if({}.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function useTabPanel(e){let{active:o,eventKey:a,mountOnEnter:c,transition:d,unmountOnExit:g,role:b="tabpanel",onEnter:_,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:st}=e,jt=_objectWithoutPropertiesLoose$1(e,_excluded$1);const wl=reactExports.useContext(TabContext);if(!wl)return[Object.assign({},jt,{role:b}),{eventKey:a,isActive:o,mountOnEnter:c,transition:d,unmountOnExit:g,onEnter:_,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:st}];const{activeKey:Ft,getControlledId:it,getControllerId:ot}=wl,Ln=_objectWithoutPropertiesLoose$1(wl,_excluded2),Cl=makeEventKey(a);return[Object.assign({},jt,{role:b,id:it(a),"aria-labelledby":ot(a)}),{eventKey:a,isActive:o==null&&Cl!=null?makeEventKey(Ft)===Cl:o,transition:d||Ln.transition,mountOnEnter:c??Ln.mountOnEnter,unmountOnExit:g??Ln.unmountOnExit,onEnter:_,onEntering:$,onEntered:j,onExit:rt,onExiting:nt,onExited:st}]}const TabPanel=reactExports.forwardRef((e,o)=>{let{as:a="div"}=e,c=_objectWithoutPropertiesLoose$1(e,_excluded3);const[d,{isActive:g,onEnter:b,onEntering:_,onEntered:$,onExit:j,onExiting:rt,onExited:nt,mountOnEnter:st,unmountOnExit:jt,transition:wl=NoopTransition}]=useTabPanel(c);return jsxRuntimeExports$1.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(SelectableContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(wl,{in:g,onEnter:b,onEntering:_,onEntered:$,onExit:j,onExiting:rt,onExited:nt,mountOnEnter:st,unmountOnExit:jt,children:jsxRuntimeExports$1.jsx(a,Object.assign({},d,{ref:o,hidden:!g,"aria-hidden":!g}))})})})});TabPanel.displayName="TabPanel";const Tabs$1=e=>{const{id:o,generateChildId:a,onSelect:c,activeKey:d,defaultActiveKey:g,transition:b,mountOnEnter:_,unmountOnExit:$,children:j}=e,[rt,nt]=useUncontrolledProp(d,g,c),st=$b5e257d569688ac6$export$619500959fc48b26(o),jt=reactExports.useMemo(()=>a||((Ft,it)=>st?`${st}-${it}-${Ft}`:null),[st,a]),wl=reactExports.useMemo(()=>({onSelect:nt,activeKey:rt,transition:b,mountOnEnter:_||!1,unmountOnExit:$||!1,getControlledId:Ft=>jt(Ft,"tabpane"),getControllerId:Ft=>jt(Ft,"tab")}),[nt,rt,b,_,$,jt]);return jsxRuntimeExports$1.jsx(TabContext.Provider,{value:wl,children:jsxRuntimeExports$1.jsx(SelectableContext.Provider,{value:nt||null,children:j})})};Tabs$1.Panel=TabPanel;function getTabTransitionComponent(e){return typeof e=="boolean"?e?Fade:NoopTransition:e}const TabContainer=({transition:e,...o})=>jsxRuntimeExports$1.jsx(Tabs$1,{...o,transition:getTabTransitionComponent(e)});TabContainer.displayName="TabContainer";const TabContent=reactExports.forwardRef(({className:e,bsPrefix:o,as:a="div",...c},d)=>(o=useBootstrapPrefix(o,"tab-content"),jsxRuntimeExports$1.jsx(a,{ref:d,className:classNames(e,o),...c})));TabContent.displayName="TabContent";const TabPane=reactExports.forwardRef(({bsPrefix:e,transition:o,...a},c)=>{const[{className:d,as:g="div",...b},{isActive:_,onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:st,onExited:jt,mountOnEnter:wl,unmountOnExit:Ft,transition:it=Fade}]=useTabPanel({...a,transition:getTabTransitionComponent(o)}),ot=useBootstrapPrefix(e,"tab-pane");return jsxRuntimeExports$1.jsx(TabContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(SelectableContext.Provider,{value:null,children:jsxRuntimeExports$1.jsx(it,{in:_,onEnter:$,onEntering:j,onEntered:rt,onExit:nt,onExiting:st,onExited:jt,mountOnEnter:wl,unmountOnExit:Ft,children:jsxRuntimeExports$1.jsx(g,{...b,ref:c,className:classNames(d,ot,_&&"active")})})})})});TabPane.displayName="TabPane";const propTypes={eventKey:PropTypes.oneOfType([PropTypes.string,PropTypes.number]),title:PropTypes.node.isRequired,disabled:PropTypes.bool,tabClassName:PropTypes.string,tabAttrs:PropTypes.object},Tab=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};Tab.propTypes=propTypes;const Tab$1=Object.assign(Tab,{Container:TabContainer,Content:TabContent,Pane:TabPane}),Table=reactExports.forwardRef(({bsPrefix:e,className:o,striped:a,bordered:c,borderless:d,hover:g,size:b,variant:_,responsive:$,...j},rt)=>{const nt=useBootstrapPrefix(e,"table"),st=classNames(o,nt,_&&`${nt}-${_}`,b&&`${nt}-${b}`,a&&`${nt}-${typeof a=="string"?`striped-${a}`:"striped"}`,c&&`${nt}-bordered`,d&&`${nt}-borderless`,g&&`${nt}-hover`),jt=jsxRuntimeExports$1.jsx("table",{...j,className:st,ref:rt});if($){let wl=`${nt}-responsive`;return typeof $=="string"&&(wl=`${wl}-${$}`),jsxRuntimeExports$1.jsx("div",{className:wl,children:jt})}return jt});Table.displayName="Table";function getDefaultActiveKey(e){let o;return forEach(e,a=>{o==null&&(o=a.props.eventKey)}),o}function renderTab(e){const{title:o,eventKey:a,disabled:c,tabClassName:d,tabAttrs:g,id:b}=e.props;return o==null?null:jsxRuntimeExports$1.jsx(NavItem,{as:"li",role:"presentation",children:jsxRuntimeExports$1.jsx(NavLink,{as:"button",type:"button",eventKey:a,disabled:c,id:b,className:d,...g,children:o})})}const Tabs=e=>{const{id:o,onSelect:a,transition:c,mountOnEnter:d=!1,unmountOnExit:g=!1,variant:b="tabs",children:_,activeKey:$=getDefaultActiveKey(_),...j}=useUncontrolled(e,{activeKey:"onSelect"});return jsxRuntimeExports$1.jsxs(Tabs$1,{id:o,activeKey:$,onSelect:a,transition:getTabTransitionComponent(c),mountOnEnter:d,unmountOnExit:g,children:[jsxRuntimeExports$1.jsx(Nav$1,{id:o,...j,role:"tablist",as:"ul",variant:b,children:map$2(_,renderTab)}),jsxRuntimeExports$1.jsx(TabContent,{children:map$2(_,rt=>{const nt={...rt.props};return delete nt.title,delete nt.disabled,delete nt.tabClassName,delete nt.tabAttrs,jsxRuntimeExports$1.jsx(TabPane,{...nt})})})]})};Tabs.displayName="Tabs";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(o){for(var a,c=1,d=arguments.length;c<d;c++){a=arguments[c];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(o[g]=a[g])}return o},__assign.apply(this,arguments)};function __rest(e,o){var a={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&o.indexOf(c)<0&&(a[c]=e[c]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(e);d<c.length;d++)o.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(e,c[d])&&(a[c[d]]=e[c[d]]);return a}var hashFragment="",observer=null,asyncTimerId=null,scrollFunction=null;function reset(){hashFragment="",observer!==null&&observer.disconnect(),asyncTimerId!==null&&(window.clearTimeout(asyncTimerId),asyncTimerId=null)}function isInteractiveElement(e){var o=["BUTTON","INPUT","SELECT","TEXTAREA"],a=["A","AREA"];return o.includes(e.tagName)&&!e.hasAttribute("disabled")||a.includes(e.tagName)&&e.hasAttribute("href")}function getElAndScroll(){var e=null;if(hashFragment==="#")e=document.body;else{var o=hashFragment.replace("#","");e=document.getElementById(o),e===null&&hashFragment==="#top"&&(e=document.body)}if(e!==null){scrollFunction(e);var a=e.getAttribute("tabindex");return a===null&&!isInteractiveElement(e)&&e.setAttribute("tabindex",-1),e.focus({preventScroll:!0}),a===null&&!isInteractiveElement(e)&&(e.blur(),e.removeAttribute("tabindex")),reset(),!0}return!1}function hashLinkScroll(e){window.setTimeout(function(){getElAndScroll()===!1&&(observer===null&&(observer=new MutationObserver(getElAndScroll)),observer.observe(document,{attributes:!0,childList:!0,subtree:!0}),asyncTimerId=window.setTimeout(function(){reset()},e||1e4))},0)}function genericHashLink(e){return React.forwardRef(function(o,a){var c="";typeof o.to=="string"&&o.to.includes("#")?c="#"+o.to.split("#").slice(1).join("#"):typeof o.to=="object"&&typeof o.to.hash=="string"&&(c=o.to.hash);var d={};e===NavLink$1&&(d.isActive=function(_,$){return _&&_.isExact&&$.hash===c});function g(_){reset(),hashFragment=o.elementId?"#"+o.elementId:c,o.onClick&&o.onClick(_),hashFragment!==""&&!_.defaultPrevented&&_.button===0&&(!o.target||o.target==="_self")&&!(_.metaKey||_.altKey||_.ctrlKey||_.shiftKey)&&(scrollFunction=o.scroll||function($){return o.smooth?$.scrollIntoView({behavior:"smooth"}):$.scrollIntoView()},hashLinkScroll(o.timeout))}var b=__rest(o,["scroll","smooth","timeout","elementId"]);return React.createElement(e,__assign({},d,b,{onClick:g,ref:a}),o.children)})}var HashLink=genericHashLink(Link);genericHashLink(NavLink$1);const references={mpds:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["The Pauling File"," ",jsxRuntimeExports$1.jsx("a",{href:"http://paulingfile.com/",target:"_blank",rel:"noopener noreferrer",children:"http://paulingfile.com/"})," ","exposed through the Materials Platform for Data Science"," ",jsxRuntimeExports$1.jsx("a",{href:"https://mpds.io/",target:"_blank",rel:"noopener noreferrer",children:"https://mpds.io/"}),"."]})},cod:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["S. Graulis et al. Crystallography open database (COD): an open-access collection of crystal structures and platform for world-wide collaboration. Nucleic Acids Research, 40:D420-D427, 2012,"," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.crystallography.net",target:"_blank",rel:"noopener noreferrer",children:"http://www.crystallography.net"}),"."]})},icsd:{type:"db",ref:jsxRuntimeExports$1.jsxs("span",{children:["Inorganic Crystal Structure Database,"," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.fiz-karlsruhe.com/icsd.html",target:"_blank",rel:"noopener noreferrer",children:"http://www.fiz-karlsruhe.com/icsd.html"}),"."]})},aiida1:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["S. P. Huber et al. AiiDA 1.0, a scalable computational infrastructure for automated reproducible workflows and data provenance. Sci Data 7, 300, 2020."," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.aiida.net",target:"_blank",rel:"noopener noreferrer",children:"http://www.aiida.net"}),"."]})},aiida2:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"G. Pizzi et al. AiiDA: Automated Interactive Infrastructure and Database for Computational Science. Computational Materials Science, 111:218-230, 2016."})},pymatgen:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"S. P. Ong et al. Python materials genomics (pymatgen): A robust, open-source python library for materials analysis. Computational Materials Science, 68:314-319, 2013."})},spglib:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["A. Togo. Spglib."," ",jsxRuntimeExports$1.jsx("a",{href:"https://spglib.readthedocs.io/",target:"_blank",rel:"noopener noreferrer",children:"https://spglib.readthedocs.io/"}),"."]})},qe:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"P. Giannozzi et al. Advanced capabilities for materials modelling with Quantum ESPRESSO. Journal of Physics: Condensed Matter, 29:465901, 2017."})},sirius:{type:"software",ref:jsxRuntimeExports$1.jsxs("span",{children:["SIRIUS,"," ",jsxRuntimeExports$1.jsx("a",{href:"https://github.com/electronic-structure/SIRIUS",target:"_blank",rel:"noopener noreferrer",children:"https://github.com/electronic-structure/SIRIUS"}),"."]})},cod_parser:{type:"software",ref:jsxRuntimeExports$1.jsx("span",{children:"A. Merkys et al. COD::CIF::Parser: an error-correcting CIF parser for the Perl language Journal of Applied Crystallography 49 (2016)"})},sssp:{type:"pseudo_protocols",ref:jsxRuntimeExports$1.jsxs("span",{children:["G. Prandini, A. Marrazzo, I. E. Castelli, N. Mounet and N. Marzari, npj Computational Materials 4, 72 (2018)."," ",jsxRuntimeExports$1.jsx("a",{href:"http://www.materialscloud.org/sssp/",target:"_blank",rel:"noopener noreferrer",children:"http://www.materialscloud.org/sssp/"})]})},sssp_protocols:{type:"pseudo_protocols",ref:jsxRuntimeExports$1.jsx("span",{children:"SSSP protocol for the calculation of structural and thermodynamical properties of inorganic materials, Nicolas Hoermann et al., to be published."})}};function refNr(e){return Object.keys(references).indexOf(e)+1}function getRef(e){return jsxRuntimeExports$1.jsx("sup",{children:jsxRuntimeExports$1.jsxs(HashLink,{className:"cite-anchor",to:"#ref"+refNr(e),children:["[",refNr(e),"]"]})})}function renderRefs(e){return Object.keys(references).map(o=>{if(references[o].type!=e)return;let a=refNr(o);return jsxRuntimeExports$1.jsxs("div",{id:"ref"+a,children:["[",a,"] ",references[o].ref]},a)})}const aboutText=jsxRuntimeExports$1.jsxs("div",{className:"about-text-container",children:[jsxRuntimeExports$1.jsxs("p",{children:["This is a curated set of relaxed three-dimensional crystal structures based on raw CIF data taken from the external experimental databases MPDS",getRef("mpds"),", COD",getRef("cod")," and ICSD",getRef("icsd"),". The raw CIF data have been imported, cleaned",getRef("cod_parser")," and parsed",getRef("pymatgen"),getRef("spglib")," into a crystal structure; their ground-state has been computed using the SIRIUS-enabled",getRef("sirius")," pw.x code of the Quantum ESPRESSO",getRef("qe")," distribution, and tight tolerance criteria for the calculations using the SSSP protocols",getRef("sssp"),getRef("sssp_protocols"),"."]}),jsxRuntimeExports$1.jsxs("p",{children:["This entire procedure is encoded into an AiiDA",getRef("aiida1"),getRef("aiida2")," workflow which automates the process while keeping full data provenance. Here, since the original source data of the ICSD and MPDS databases are copyrighted, only the provenance of the final SCF calculation on the relaxed structures can be made publicly available."]}),jsxRuntimeExports$1.jsx("p",{children:'The MC3D ID numbers come from a list of unique "parent" stoichiometric structures that has been created and curated from a collection of several experimental databases. Once a parent structure has been optimized using density-functional theory, it is made public and added to the online Discover section of the Materials Cloud (copyrights might prevent publishing the original parent). Note that since not all structures have been calculated, some ID numbers are missing from the public version of the database. The full ID of each structure also contains as an appended modifier the functional that was used in the calculations. Since the ID number points to the same unique parent, mc3d-1234/pbe and mc3d-1234/pbesol have the same starting point, but have been then relaxed according to their respective functionals.'}),jsxRuntimeExports$1.jsx("div",{className:"about-h",children:"Acknowledgements"}),jsxRuntimeExports$1.jsx("b",{children:"External databases of source CIF data"}),renderRefs("db"),jsxRuntimeExports$1.jsx("b",{children:"Software"}),renderRefs("software"),jsxRuntimeExports$1.jsx("b",{children:"Pseudopotentials and protocols"}),renderRefs("pseudo_protocols"),jsxRuntimeExports$1.jsx("b",{children:"Funding partners"}),jsxRuntimeExports$1.jsx("br",{}),"This project is made possible by support from the European Centre of Excellence MaX Materials design at the Exascale (grant no. 824143), the Platform for Advanced Scientific Computing (PASC), and with HPC allocations from PRACE (project id 2020225458) and CSCS (project id s854)."]});let mcRestApiUrl="https://api.dev.materialscloud.org/",aiidaRestBaseUrl="https://aiida.dev.materialscloud.org",exploreBaseUrl="https://www.dev.materialscloud.org/explore/";const MC_REST_API_URL_BASE=mcRestApiUrl,MC_REST_API_URL=`${mcRestApiUrl}mc3d`,AIIDA_REST_BASE_URL=aiidaRestBaseUrl,EXPLORE_BASE_URL=exploreBaseUrl,AIIDA_API_URLS={"pbe-v1":`${AIIDA_REST_BASE_URL}/mc3d-pbe-v1/api/v4`,"pbesol-v1":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v1/api/v4`,"pbesol-v2":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v2/api/v4`,"pbesol-v1-supercon":`${AIIDA_REST_BASE_URL}/mc3d-pbesol-v1-supercon/api/v4`},EXPLORE_URLS={"pbe-v1":`${EXPLORE_BASE_URL}/mc3d-pbe-v1`,"pbesol-v1":`${EXPLORE_BASE_URL}/mc3d-pbesol-v1`,"pbesol-v2":`${EXPLORE_BASE_URL}/mc3d-pbesol-v2`,"pbesol-v1-supercon":`${EXPLORE_BASE_URL}/mc3d-pbesol-v1-supercon/api/v4`};async function loadIndex(e){let o=`${MC_REST_API_URL}/${e}/overview`;try{return await(await fetch(o,{method:"get"})).json()}catch(a){console.error("Error fetching index:",a)}}async function loadMetadata(e){let o=`${MC_REST_API_URL}/${e}/meta`;try{return await(await fetch(o,{method:"get"})).json()}catch(a){console.error("Error fetching metadata:",a)}}async function loadDetails(e,o){let a=`${MC_REST_API_URL}/${e}/base/${o}`;try{return await(await fetch(a,{method:"get"})).json()}catch(c){console.error("Error fetching details:",c)}}async function loadAiidaAttributes(e,o){let c=`${AIIDA_API_URLS[e]}/nodes/${o}/contents/attributes`;try{return(await(await fetch(c,{method:"get"})).json()).data.attributes}catch(d){console.error("Error fetching AiiDA attributes:",d)}}async function loadAiidaCif(e,o){let c=`${AIIDA_API_URLS[e]}/nodes/${o}/download?download_format=cif&download=false`;try{return(await(await fetch(c,{method:"get"})).json()).data.download.data}catch(d){console.error("Error fetching AiiDA cif:",d)}}async function loadAiidaBands(e,o){const c=`${AIIDA_API_URLS[e]}/nodes/${o}/download?download_format=json`;try{return await(await fetch(c,{method:"get"})).json()}catch(d){console.error("Error fetching AiiDA bands:",d)}}async function loadXY(e,o){const c=`${AIIDA_API_URLS[e]}/nodes/${o}/download?download_format=json`;try{return await(await fetch(c,{method:"get"})).json()}catch(d){console.error("Error fetching AiiDA bands:",d)}}async function loadXrd(e,o){let a=`${MC_REST_API_URL}/${e}/xrd/${o}`;try{const c=await fetch(a,{method:"get"});return c.ok?(await c.json()).data:null}catch(c){return console.error("Error fetching XRD:",c),null}}async function loadStructureUuids(e){let o=`${MC_REST_API_URL}/${e}/structure-uuids`;try{const a=await fetch(o,{method:"get"});return a.ok?await a.json():null}catch(a){return console.error("Error fetching structure-uuids:",a),null}}async function loadGeneralInfo(){let e=`${MC_REST_API_URL}/info`;try{return await(await fetch(e,{method:"get"})).json()}catch(o){console.error("Error fetching info:",o)}}const DOCS_URL=`${MC_REST_API_URL_BASE}docs`,INDEX_URL=`${MC_REST_API_URL}/pbe-v1/overview`,SINGLE_ENTRY_URL=`${MC_REST_API_URL}/pbe-v1/base/mc3d-10`,restapiText=jsxRuntimeExports$1.jsxs("div",{className:"restapi-text-container",children:[jsxRuntimeExports$1.jsx("p",{children:"This section contains an overview of our REST APIs to access the MC3D data."}),jsxRuntimeExports$1.jsx("div",{className:"restapi-h",children:"1. Materials Cloud and AiiDA REST APIs"}),jsxRuntimeExports$1.jsxs("div",{children:["The MC3D frontend is running on:",jsxRuntimeExports$1.jsxs("ul",{children:[jsxRuntimeExports$1.jsxs("li",{children:["The Materials Cloud REST API for the curated metadata:"," ",jsxRuntimeExports$1.jsx("a",{href:DOCS_URL,target:"_blank",rel:"noopener noreferrer",children:DOCS_URL}),", see e.g.",jsxRuntimeExports$1.jsxs("ul",{children:[jsxRuntimeExports$1.jsxs("li",{children:["Index of materials:"," ",jsxRuntimeExports$1.jsx("a",{href:INDEX_URL,target:"_blank",rel:"noopener noreferrer",children:INDEX_URL})]}),jsxRuntimeExports$1.jsxs("li",{children:["Single entry data:"," ",jsxRuntimeExports$1.jsx("a",{href:SINGLE_ENTRY_URL,target:"_blank",rel:"noopener noreferrer",children:SINGLE_ENTRY_URL})]})]})]}),jsxRuntimeExports$1.jsxs("li",{children:["AiiDA REST API for properties and provenance:"," ",jsxRuntimeExports$1.jsx("a",{href:AIIDA_API_URLS["pbe-v1"],target:"_blank",rel:"noopener noreferrer",children:AIIDA_API_URLS["pbe-v1"]})]})]})]}),jsxRuntimeExports$1.jsx("div",{className:"restapi-h",children:"2. OPTIMADE REST API"}),jsxRuntimeExports$1.jsxs("div",{children:["The MC3D database can also be accessed via an API following the"," ",jsxRuntimeExports$1.jsx("a",{href:"https://www.optimade.org/optimade",target:"_blank",rel:"noopener noreferrer",children:"OPTIMADE specification"}),". This currently includes the crystal structures and some properties but no provenance information is provided. For the exact endpoints, see the"," ",jsxRuntimeExports$1.jsx("a",{href:"https://materialscloud.org/optimade",target:"_blank",rel:"noopener noreferrer",children:"Materials Cloud OPTIMADE API page"}),"."]})]}),spaceGroupSymbols=["x","P1","P-1","P2","P2_1","C2","Pm","Pc","Cm","Cc","P2/m","P2_1/m","C2/m","P2/c","P2_1/c","C2/c","P222","P222_1","P2_12_12","P2_12_12_1","C222_1","C222","F222","I222","I2_12_12_1","Pmm2","Pmc2_1","Pcc2","Pma2","Pca2_1","Pnc2","Pmn2_1","Pba2","Pna2_1","Pnn2","Cmm2","Cmc2_1","Ccc2","Amm2","Aem2","Ama2","Aea2","Fmm2","Fdd2","Imm2","Iba2","Ima2","Pmmm","Pnnn","Pccm","Pban","Pmma","Pnna","Pmna","Pcca","Pbam","Pccn","Pbcm","Pnnm","Pmmn","Pbcn","Pbca","Pnma","Cmcm","Cmce","Cmmm","Cccm","Cmme","Ccce","Fmmm","Fddd","Immm","Ibam","Ibca","Imma","P4","P4_1","P4_2","P4_3","I4","I4_1","P-4","I-4","P4/m","P4_2/m","P4/n","P4_2/n","I4/m","I4_1/a","P422","P42_12","P4_122","P4_12_12","P4_222","P4_22_12","P4_322","P4_32_12","I422","I4_122","P4mm","P4bm","P4_2cm","P4_2nm","P4cc","P4nc","P4_2mc","P4_2bc","I4mm","I4cm","I4_1md","I4_1cd","P-42m","P-42c","P-42_1m","P-42_1c","P-4m2","P-4c2","P-4b2","P-4n2","I-4m2","I-4c2","I-42m","I-42d","P4/mmm","P4/mcc","P4/nbm","P4/nnc","P4/mbm","P4/mnc","P4/nmm","P4/ncc","P4_2/mmc","P4_2/mcm","P4_2/nbc","P4_2/nnm","P4_2/mbc","P4_2/mnm","P4_2/nmc","P4_2/ncm","I4/mmm","I4/mcm","I4_1/amd","I4_1/acd","P3","P3_1","P3_2","R3","P-3","R-3","P312","P321","P3_112","P3_121","P3_212","P3_221","R32","P3m1","P31m","P3c1","P31c","R3m","R3c","P-31m","P-31c","P-3m1","P-3c1","R-3m","R-3c","P6","P6_1","P6_5","P6_2","P6_4","P6_3","P-6","P6/m","P6_3/m","P622","P6_122","P6_522","P6_222","P6_422","P6_322","P6mm","P6cc","P6_3cm","P6_3mc","P-6m2","P-6c2","P-62m","P-62c","P6/mmm","P6/mcc","P6_3/mcm","P6_3/mmc","P23","F23","I23","P2_13","I2_13","Pm-3","Pn-3","Fm-3","Fd-3","Im-3","Pa-3","Ia-3","P432","P4_232","F432","F4_132","I432","P4_332","P4_132","I4_132","P-43m","F-43m","I-43m","P-43n","F-43c","I-43d","Pm-3m","Pn-3n","Pm-3n","Pn-3m","Fm-3m","Fm-3c","Fd-3m","Fd-3c","Im-3m","Ia-3d"];function bravaisLatticeFromSpgn(e){let o="";e<3?o="a":e<16?o="m":e<75?o="o":e<143?o="t":e<195?o="h":o="c";let a=spaceGroupSymbols[e].charAt(0);return o+a}function countNumberOfAtoms(e){var o=e.split(/(?=[A-Z])/),a=0;return o.forEach(c=>{let d=c.match(/\d+/),g=d==null?1:parseInt(d[0]);a+=g}),a}function countNumberOfElements(e){return e.split(/(?=[A-Z])/).length}function formatTitle(e,o,a){return jsxRuntimeExports$1.jsxs("span",{children:[Cu(e)," (",o,"/",a,")"]})}function format_aiida_prop(e,o,a,c=3,d=1){if(e==null)return jsxRuntimeExports$1.jsx("span",{children:"N/A"});let g=e.value??0;g*=d;let b=g.toFixed(c);return o.unit&&(b+=` ${o.unit}`),jsxRuntimeExports$1.jsxs("span",{children:[b," ",jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[a],uuid:e.uuid??null})]})}const COLUMN_ORDER_AND_SETTINGS=[{field:"id",hide:!1,width:165,minWidth:160},{field:"formula",hide:!1,width:165,minWidth:160},{field:"formula_hill",hide:!0,width:165,minWidth:160},{field:"num_elements",hide:!1},{field:"num_atoms",hide:!1},{field:"bravais_lat",hide:!0},{field:"spacegroup_number",hide:!0},{field:"spacegroup_int",hide:!1},{field:"source_db",hide:!0},{field:"source_db_id",hide:!0},{field:"is_theoretical",hide:!1},{field:"is_high_pressure",hide:!1,minWidth:125},{field:"is_high_temperature",hide:!1,minWidth:125},{field:"total_magnetization",hide:!1},{field:"absolute_magnetization",hide:!0}],FRONTEND_COLUMNS=[{columnDef:{field:"num_atoms",headerName:"Num. of atoms/cell",colType:"integer"},calcFunc:e=>countNumberOfAtoms(e.formula_h)},{columnDef:{field:"num_elements",headerName:"Number of elements",colType:"integer"},calcFunc:e=>countNumberOfElements(e.formula_h)},{columnDef:{field:"bravais_lat",headerName:"Bravais lattice",colType:"text",infoText:"Bravais lattice in Pearson notation."},calcFunc:e=>bravaisLatticeFromSpgn(e.sg)},{columnDef:{field:"spacegroup_int",headerName:"Space group international",colType:"spg_symbol",infoText:"International short symbol for the space group."},calcFunc:e=>spaceGroupSymbols[e.sg]}];function formatColumns(e){let o=[{field:"id",headerName:"ID",colType:"id",infoText:"The unique MC3D identifier of each structure."}];e["index-columns"].forEach(c=>{o.push({field:c.label,headerName:c.name,unit:c.unit||null,colType:c.type||"text",infoText:c.description||null})}),FRONTEND_COLUMNS.forEach(c=>{o.some(d=>d.field===c.columnDef.field)||o.push(c.columnDef)});let a=[];return COLUMN_ORDER_AND_SETTINGS.forEach(c=>{let d=o.findIndex(g=>g.field===c.field);if(d!==-1){let g=o[d];g.hide=c.hide,["width","minWidth"].forEach(b=>{b in c&&(g[b]=c[b])}),a.push(g),o.splice(d,1)}}),o.forEach(c=>{c.hide=!0,a.push(c)}),a}function formatRows(e,o,a){let c=[],d={};return o["index-columns"].forEach(g=>{d[g.data_label]=g.label}),e.forEach(g=>{let b=`${g.id}/${a}`,_=`/develop/#/details/${b}`,$={};Object.entries(g).map(([rt,nt])=>{rt in d&&($[d[rt]]=nt)});let j={id:b,href:_};FRONTEND_COLUMNS.forEach(rt=>{rt.columnDef.field in j||(j[rt.columnDef.field]=rt.calcFunc(g))}),$={...$,...j},c.push($)}),c}async function loadDataMc3d(e){let o=performance.now(),a=await loadIndex(e),c=performance.now();console.log(`loadIndex: ${c-o} ms`),o=performance.now();let d=await loadMetadata(e);c=performance.now(),console.log(`loadMetadata: ${c-o} ms`),o=performance.now();let g=formatRows(a,d,e);return c=performance.now(),console.log(`formatRows: ${c-o} ms`),{columns:formatColumns(d),rows:g}}var FileSaver_min={exports:{}};(function(e,o){(function(a,c){c()})(commonjsGlobal$1,function(){function a(j,rt){return typeof rt>"u"?rt={autoBom:!1}:typeof rt!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),rt={autoBom:!rt}),rt.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(j.type)?new Blob(["\uFEFF",j],{type:j.type}):j}function c(j,rt,nt){var st=new XMLHttpRequest;st.open("GET",j),st.responseType="blob",st.onload=function(){$(st.response,rt,nt)},st.onerror=function(){console.error("could not download file")},st.send()}function d(j){var rt=new XMLHttpRequest;rt.open("HEAD",j,!1);try{rt.send()}catch{}return 200<=rt.status&&299>=rt.status}function g(j){try{j.dispatchEvent(new MouseEvent("click"))}catch{var rt=document.createEvent("MouseEvents");rt.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),j.dispatchEvent(rt)}}var b=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal$1=="object"&&commonjsGlobal$1.global===commonjsGlobal$1?commonjsGlobal$1:void 0,_=b.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),$=b.saveAs||(typeof window!="object"||window!==b?function(){}:"download"in HTMLAnchorElement.prototype&&!_?function(j,rt,nt){var st=b.URL||b.webkitURL,jt=document.createElement("a");rt=rt||j.name||"download",jt.download=rt,jt.rel="noopener",typeof j=="string"?(jt.href=j,jt.origin===location.origin?g(jt):d(jt.href)?c(j,rt,nt):g(jt,jt.target="_blank")):(jt.href=st.createObjectURL(j),setTimeout(function(){st.revokeObjectURL(jt.href)},4e4),setTimeout(function(){g(jt)},0))}:"msSaveOrOpenBlob"in navigator?function(j,rt,nt){if(rt=rt||j.name||"download",typeof j!="string")navigator.msSaveOrOpenBlob(a(j,nt),rt);else if(d(j))c(j,rt,nt);else{var st=document.createElement("a");st.href=j,st.target="_blank",setTimeout(function(){g(st)})}}:function(j,rt,nt,st){if(st=st||open("","_blank"),st&&(st.document.title=st.document.body.innerText="downloading..."),typeof j=="string")return c(j,rt,nt);var jt=j.type==="application/octet-stream",wl=/constructor/i.test(b.HTMLElement)||b.safari,Ft=/CriOS\/[\d]+/.test(navigator.userAgent);if((Ft||jt&&wl||_)&&typeof FileReader<"u"){var it=new FileReader;it.onloadend=function(){var Cl=it.result;Cl=Ft?Cl:Cl.replace(/^data:[^;]*;/,"data:attachment/file;"),st?st.location.href=Cl:location=Cl,st=null},it.readAsDataURL(j)}else{var ot=b.URL||b.webkitURL,Ln=ot.createObjectURL(j);st?st.location=Ln:location.href=Ln,st=null,setTimeout(function(){ot.revokeObjectURL(Ln)},4e4)}});b.saveAs=$.saveAs=$,e.exports=$})})(FileSaver_min);var FileSaver_minExports=FileSaver_min.exports;const getCurrentDateString=()=>{const e=new Date,o=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),c=String(e.getDate()).padStart(2,"0"),d=String(e.getHours()).padStart(2,"0"),g=String(e.getMinutes()).padStart(2,"0"),b=String(e.getSeconds()).padStart(2,"0");return`${o}-${a}-${c}-${d}-${g}-${b}`},popover$1=jsxRuntimeExports$1.jsxs(Popover$1,{id:"popover-basic",children:[jsxRuntimeExports$1.jsx(Popover$1.Header,{children:jsxRuntimeExports$1.jsx("b",{children:"Download filtered entries"})}),jsxRuntimeExports$1.jsx(Popover$1.Body,{style:{textAlign:"justify"},children:jsxRuntimeExports$1.jsxs("p",{children:["This button allows to download all currently filtered entries shown in the Materials Grid. The data is downloaded in JSON format, as an array. The array contains a JSON object for each material entry, with key-value pairs corresponding to the column properties. Additionally, each entry includes a link to the corresponding detail page and a link to download the file in CIF format. ",jsxRuntimeExports$1.jsx("br",{}),jsxRuntimeExports$1.jsx("br",{}),"Note, to download all of the CIF files directly, see the corresponding Materials Cloud Archive entry."]})})]}),DownloadButton=({materialSelectorRef:e,disabled:o,methodLabel:a})=>{const[c,d]=reactExports.useState(!1),g=async()=>{if(e.current){d(!0);try{const b=await loadStructureUuids(a);let $=e.current.getFilteredRows().map(st=>{let jt=st.id.split("/")[0],wl=b[jt],Ft=`${AIIDA_API_URLS[a]}/nodes/${wl}/download?download_format=cif`,it={...st,details_link:`${window.location.origin}${st.href}`,download_cif:Ft};return delete it.href,it});const j=JSON.stringify($,null,2),rt=new Blob([j],{type:"application/json"}),nt=`mc3d_filtered_entries_${a}_${getCurrentDateString()}.json`;FileSaver_minExports.saveAs(rt,nt)}catch(b){console.error("Error downloading data:",b)}finally{d(!1)}}};return jsxRuntimeExports$1.jsxs("div",{className:"download-button-outer-container",children:[jsxRuntimeExports$1.jsx("button",{onClick:g,disabled:o||c,className:`aggrid-style-button ${o||c?"aggrid-style-button-disabled":""}`,style:{marginTop:"5px"},children:c?jsxRuntimeExports$1.jsx(Spinner,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}):"Download filtered entries"}),jsxRuntimeExports$1.jsx(Eu,{popover:popover$1})]})},popover=jsxRuntimeExports$1.jsxs(Popover$1,{id:"popover-basic",children:[jsxRuntimeExports$1.jsx(Popover$1.Header,{children:jsxRuntimeExports$1.jsx("b",{children:"Datasets & views"})}),jsxRuntimeExports$1.jsxs(Popover$1.Body,{style:{textAlign:"justify"},children:[jsxRuntimeExports$1.jsxs("p",{children:["MC3D contains ",jsxRuntimeExports$1.jsx("b",{children:"structure datasets"})," - collections computed with one consistent computational approach. The label (e.g., ",jsxRuntimeExports$1.jsx("i",{children:"PBEsol-v1"}),") contains the physical methodology and a version suffix representing the computational protocol."]}),jsxRuntimeExports$1.jsxs("p",{children:["Structure datasets can have associated property contributions (e.g., Superconductivity), and the corresponding ",jsxRuntimeExports$1.jsx("b",{children:"property-based views"})," ","allow to sort and filter the relevant data."]}),jsxRuntimeExports$1.jsxs("p",{children:["Use the menu to select either a structure dataset or a property view. See the ",jsxRuntimeExports$1.jsx("b",{children:"About"})," tab and the publication for details."]})]})]}),MethodSelectionBox=e=>{let o={"pbesol-v2":"PBEsol-v2","pbesol-v1":"PBEsol-v1","pbe-v1":"PBE-v1"};Object.entries(o).forEach(([c,d])=>{var g,b;((b=(g=e.genInfo)==null?void 0:g["method-counts"])==null?void 0:b[c])!=null&&(o[c]+=` (${e.genInfo["method-counts"][c]})`)});const a=e.selectedDisplay||e.method;return jsxRuntimeExports$1.jsx("div",{className:"method-selection-box-outer",children:jsxRuntimeExports$1.jsxs("div",{className:"method-selection-box",children:[jsxRuntimeExports$1.jsx("p",{children:"Select a dataset or view:"}),jsxRuntimeExports$1.jsxs(Form$1.Select,{size:"sm",value:a,onChange:e.handleMethodChange,style:{display:"inline-block",margin:"4px 6px 2px 6px",width:"auto",minWidth:"max-content"},children:[jsxRuntimeExports$1.jsx("optgroup",{label:"Structure datasets",children:Object.entries(o).map(([c,d])=>jsxRuntimeExports$1.jsx("option",{value:c,children:d},c))}),jsxRuntimeExports$1.jsx("optgroup",{label:"Property-based views",children:jsxRuntimeExports$1.jsx("option",{value:"superconductivity",children:"Superconductivity (PBEsol-v1)"})})]}),jsxRuntimeExports$1.jsx(Eu,{popover,placement:"bottom"})]})})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(e,o){if(e==null)return{};var a=_objectWithoutPropertiesLoose(e,o),c,d;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(d=0;d<g.length;d++)c=g[d],!(o.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}function _objectWithoutPropertiesLoose(e,o){if(e==null)return{};var a={};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){if(o.indexOf(c)>=0)continue;a[c]=e[c]}return a}function _extends(){return _extends=Object.assign?Object.assign.bind():function(e){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c])}return e},_extends.apply(this,arguments)}function ownKeys(e,o){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);o&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),a.push.apply(a,c)}return a}function _objectSpread(e){for(var o=1;o<arguments.length;o++){var a=arguments[o]!=null?arguments[o]:{};o%2?ownKeys(Object(a),!0).forEach(function(c){_defineProperty(e,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(c){Object.defineProperty(e,c,Object.getOwnPropertyDescriptor(a,c))})}return e}function _defineProperty(e,o,a){return o=_toPropertyKey(o),o in e?Object.defineProperty(e,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[o]=a,e}function _toPropertyKey(e){var o=_toPrimitive(e,"string");return typeof o=="symbol"?o:o+""}function _toPrimitive(e,o){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var c=a.call(e,o);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(e)}function Tree2Element(e){return e&&e.map((o,a)=>React.createElement(o.tag,_objectSpread({key:a},o.attr),Tree2Element(o.child)))}function GenIcon(e){return o=>React.createElement(IconBase,_extends({attr:_objectSpread({},e.attr)},o),Tree2Element(e.child))}function IconBase(e){var o=a=>{var{attr:c,size:d,title:g}=e,b=_objectWithoutProperties(e,_excluded),_=d||a.size||"1em",$;return a.className&&($=a.className),e.className&&($=($?$+" ":"")+e.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,c,b,{className:$,style:_objectSpread(_objectSpread({color:e.color||a.color},a.style),e.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),g&&React.createElement("title",null,g),e.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,a=>o(a)):o(DefaultContext)}function FaBook(e){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}const CitationText=({info:e})=>jsxRuntimeExports$1.jsxs("div",{style:{padding:"2px",display:"flex",gap:"6px",alignItems:"center"},children:[jsxRuntimeExports$1.jsxs("a",{className:"citation-a",href:`https://doi.org/${e.doi}`,target:"_blank",rel:"noopener noreferrer",children:[jsxRuntimeExports$1.jsx(FaBook,{size:16,color:"black"})," ",e.authorsText,", ",e.journalText,", (",e.year,")"]}),jsxRuntimeExports$1.jsx(wu,{doi:e.doi,label:"Paper DOI",color:"#a2e5b7"})]}),CITATION_MAPPING={Mounet18:{authorsText:"Mounet et al.",journalText:"Nat. Nanotech. 13, 246-252",doi:"10.1038/s41565-017-0035-5",year:2018},Campi23:{authorsText:"Campi et al.",journalText:"ACS Nano 17, 12, 11268-11278",doi:"10.1021/acsnano.2c11510",year:2023},MBercxSupercon25:{authorsText:"Bercx et al.",journalText:"PRX Energy 4, 033012 ",doi:"10.1103/sb28-fjc9",year:2025},HuberMc3d25:{authorsText:"Huber et al.",journalText:"arXiv:2508.19223",doi:"10.48550/arXiv.2508.19223",year:2025}},CitationsList=({citationLabels:e})=>jsxRuntimeExports$1.jsx("div",{style:{marginLeft:"8px"},children:e.map(o=>jsxRuntimeExports$1.jsx(CitationText,{info:CITATION_MAPPING[o]},o))}),PRESETS={superconductivity:{sort:"isotropic_tc:desc",method:"pbesol-v1",showColumns:["id","formula","num_atoms","spacegroup_int","isotropic_tc","anisotropic_tc","allen_dynes_tc","highest_phonon_frequency"]}};function getColumnConfigFromUrlParams(e){const o=e.get("sort"),a=e.get("show"),c=e.get("hide"),d=e.get("preset");let g=[],b=[],_=[];if(d&&PRESETS[d]){const $=PRESETS[d];g=parseSortParam($.sort),b=$.showColumns||[],console.log("showFields",b),_=null}else a&&(b=a.split(",")),c&&(_=c.split(",")),g=parseSortParam(o);return{sortEntries:g,showFields:b,hiddenFields:_}}function parseSortParam(e){return e?e.split(",").map((o,a)=>{const[c,d]=o.split(":");return{field:c,sort:d||"asc",sortIndex:a}}):[]}function updateColumnState(e,o,a,c){const d=a===null;return e.map(g=>{const b={...g},_=o.find($=>$.field===g.field);return _&&(b.sort=_.sort,b.sortIndex=_.sortIndex),d?b.hide=!c.includes(g.field):a.includes(g.field)?b.hide=!0:c.includes(g.field)&&(b.hide=!1),b})}function getMethodFromPreset(e){if(!e)return null;const o=PRESETS[e];return o?o.method:null}function getMethodFromUrl(e,o){const a=e.get("method");if(a)return a;const c=e.get("preset");return c&&PRESETS[c]&&PRESETS[c].method?PRESETS[c].method:o}function updateColumnsFromUrl(e,o){const{sortEntries:a,hiddenFields:c,showFields:d}=getColumnConfigFromUrlParams(o);return updateColumnState(e,a,c,d)}const DEFAULT_METHOD="pbesol-v2";function MainPage(){const e=new URLSearchParams(window.location.search),[o,a]=reactExports.useState(null),[c,d]=reactExports.useState([]),[g,b]=reactExports.useState([]),_=e.get("preset")||null,$=_?getMethodFromPreset(_):getMethodFromUrl(e,DEFAULT_METHOD),j=reactExports.useRef(null);reactExports.useEffect(()=>{loadGeneralInfo().then(a)},[]),reactExports.useEffect(()=>{loadDataMc3d($).then(nt=>{const st=updateColumnsFromUrl(nt.columns,e);d(st),b(nt.rows)})},[$,_]);const rt=nt=>{const st=nt.target.value,jt=new URL(window.location);st==="superconductivity"?(jt.searchParams.set("preset",st),jt.searchParams.delete("method")):(jt.searchParams.set("method",st),jt.searchParams.delete("preset")),window.history.pushState({},"",jt.toString()),b([])};return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsxs("div",{className:"description",children:["The Materials Cloud Three-Dimensional Structure Database is a curated dataset of unique, stoichiometric, experimentally known inorganic compounds, and of their calculated properties. Structures have been obtained with fully-relaxed density-functional theory calculations, starting from experimental ones imported, cleaned and parsed from the MPDS, COD and ICSD databases. For more details, please see the related publication:",jsxRuntimeExports$1.jsx("div",{style:{margin:"10px"},children:jsxRuntimeExports$1.jsx(CitationsList,{citationLabels:["HuberMc3d25"]})})]}),jsxRuntimeExports$1.jsxs(Tabs,{defaultActiveKey:"use",children:[jsxRuntimeExports$1.jsxs(Tab$1,{eventKey:"use",title:"Use",children:[jsxRuntimeExports$1.jsx(MethodSelectionBox,{genInfo:o,method:$,selectedDisplay:_||null,handleMethodChange:rt}),jsxRuntimeExports$1.jsx(default_1,{ref:j,columns:c,rows:g}),jsxRuntimeExports$1.jsx(DownloadButton,{materialSelectorRef:j,disabled:g.length==0,methodLabel:$})]}),jsxRuntimeExports$1.jsx(Tab$1,{eventKey:"about",title:"About",children:aboutText}),jsxRuntimeExports$1.jsx(Tab$1,{eventKey:"rest",title:"REST API",children:restapiText})]})]})})}var Vs=Object.defineProperty,js=(e,o,a)=>o in e?Vs(e,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[o]=a,zt=(e,o,a)=>js(e,typeof o!="symbol"?o+"":o,a),commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production_min;function requireReactJsxRuntime_production_min(){if(hasRequiredReactJsxRuntime_production_min)return reactJsxRuntime_production_min;hasRequiredReactJsxRuntime_production_min=1;var e=React,o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function b(_,$,j){var rt,nt={},st=null,jt=null;j!==void 0&&(st=""+j),$.key!==void 0&&(st=""+$.key),$.ref!==void 0&&(jt=$.ref);for(rt in $)c.call($,rt)&&!g.hasOwnProperty(rt)&&(nt[rt]=$[rt]);if(_&&_.defaultProps)for(rt in $=_.defaultProps,$)nt[rt]===void 0&&(nt[rt]=$[rt]);return{$$typeof:o,type:_,key:st,ref:jt,props:nt,_owner:d.current}}return reactJsxRuntime_production_min.Fragment=a,reactJsxRuntime_production_min.jsx=b,reactJsxRuntime_production_min.jsxs=b,reactJsxRuntime_production_min}jsxRuntime.exports=requireReactJsxRuntime_production_min();var jsxRuntimeExports=jsxRuntime.exports;const ControlBox=({viewerParams:e,onViewerParamChange:o,onViewerEvent:a})=>{const c=(b,_)=>{let $=e.supercell;$[b]=parseInt(_),o("supercell",$)},d=b=>{o(b,!e[b])},g=b=>{a("camera",b)};return jsxRuntimeExports.jsxs("div",{className:"control-box",children:[jsxRuntimeExports.jsxs("div",{className:"control-box-row",children:[jsxRuntimeExports.jsxs("div",{className:"supercell-container",children:[jsxRuntimeExports.jsx("label",{children:"Supercell: "}),jsxRuntimeExports.jsx("div",{style:{display:"flex"},children:[0,1,2].map(b=>jsxRuntimeExports.jsx("input",{className:"supercell-input",type:"number",min:"1",max:"99",value:e.supercell[b],onChange:_=>c(b,_.target.value)},b))})]}),jsxRuntimeExports.jsxs("div",{className:"camera-controls",children:[jsxRuntimeExports.jsx("label",{children:"Camera: "}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>g("x"),children:"x"}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>g("y"),children:"y"}),jsxRuntimeExports.jsx("button",{className:"camera-button",onClick:()=>g("z"),children:"z"})]})]}),jsxRuntimeExports.jsxs("div",{className:"control-box-row",style:{display:"flex"},children:[jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:e.bonds,onChange:()=>d("bonds")}),jsxRuntimeExports.jsx("span",{children:"Bonds"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:e.packedCell,onChange:()=>d("packedCell")}),jsxRuntimeExports.jsx("span",{children:"Packed cell"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:e.atomLabels,onChange:()=>d("atomLabels")}),jsxRuntimeExports.jsx("span",{children:"Atom labels"})]}),jsxRuntimeExports.jsxs("label",{className:"option-checkbox",children:[jsxRuntimeExports.jsx("input",{className:"control-box-input",type:"checkbox",checked:e.spaceFilling,onChange:()=>d("vdwRadius")}),jsxRuntimeExports.jsx("span",{children:"vdW radius"})]})]})]})};var _3Dmol={exports:{}};/*!
 * 3dmol v2.5.3
 * JavaScript/TypeScript molecular visualization library
 * Author: David Koes and contributors
 */(function(module,exports){(function(e,o){module.exports=o()})(commonjsGlobal,()=>(()=>{var __webpack_modules__={"./node_modules/iobuffer/lib-esm/IOBuffer.js":(e,o,a)=>{a.r(o),a.d(o,{IOBuffer:()=>_});var c=a("./node_modules/iobuffer/lib-esm/text.js");const d=1024*8,g=(()=>{const $=new Uint8Array(4),j=new Uint32Array($.buffer);return!((j[0]=1)&$[0])})(),b={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class _{constructor(j=d,rt={}){zt(this,"buffer"),zt(this,"byteLength"),zt(this,"byteOffset"),zt(this,"length"),zt(this,"offset"),zt(this,"lastWrittenByte"),zt(this,"littleEndian"),zt(this,"_data"),zt(this,"_mark"),zt(this,"_marks");let nt=!1;typeof j=="number"?j=new ArrayBuffer(j):(nt=!0,this.lastWrittenByte=j.byteLength);const st=rt.offset?rt.offset>>>0:0,jt=j.byteLength-st;let wl=st;(ArrayBuffer.isView(j)||j instanceof _)&&(j.byteLength!==j.buffer.byteLength&&(wl=j.byteOffset+st),j=j.buffer),nt?this.lastWrittenByte=jt:this.lastWrittenByte=0,this.buffer=j,this.length=jt,this.byteLength=jt,this.byteOffset=wl,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,wl,jt),this._mark=0,this._marks=[]}available(j=1){return this.offset+j<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(j=1){return this.offset+=j,this}back(j=1){return this.offset-=j,this}seek(j){return this.offset=j,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const j=this._marks.pop();if(j===void 0)throw new Error("Mark stack empty");return this.seek(j),this}rewind(){return this.offset=0,this}ensureAvailable(j=1){if(!this.available(j)){const rt=(this.offset+j)*2,nt=new Uint8Array(rt);nt.set(new Uint8Array(this.buffer)),this.buffer=nt.buffer,this.length=rt,this.byteLength=rt,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(j=1){return this.readArray(j,"uint8")}readArray(j,rt){const nt=b[rt].BYTES_PER_ELEMENT*j,st=this.byteOffset+this.offset,jt=this.buffer.slice(st,st+nt);if(this.littleEndian===g&&rt!=="uint8"&&rt!=="int8"){const Ft=new Uint8Array(this.buffer.slice(st,st+nt));Ft.reverse();const it=new b[rt](Ft.buffer);return this.offset+=nt,it.reverse(),it}const wl=new b[rt](jt);return this.offset+=nt,wl}readInt16(){const j=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,j}readUint16(){const j=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,j}readInt32(){const j=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,j}readUint32(){const j=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,j}readFloat32(){const j=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,j}readFloat64(){const j=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,j}readBigInt64(){const j=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,j}readBigUint64(){const j=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,j}readChar(){return String.fromCharCode(this.readInt8())}readChars(j=1){let rt="";for(let nt=0;nt<j;nt++)rt+=this.readChar();return rt}readUtf8(j=1){return(0,c.decode)(this.readBytes(j))}decodeText(j=1,rt="utf8"){return(0,c.decode)(this.readBytes(j),rt)}writeBoolean(j){return this.writeUint8(j?255:0),this}writeInt8(j){return this.ensureAvailable(1),this._data.setInt8(this.offset++,j),this._updateLastWrittenByte(),this}writeUint8(j){return this.ensureAvailable(1),this._data.setUint8(this.offset++,j),this._updateLastWrittenByte(),this}writeByte(j){return this.writeUint8(j)}writeBytes(j){this.ensureAvailable(j.length);for(let rt=0;rt<j.length;rt++)this._data.setUint8(this.offset++,j[rt]);return this._updateLastWrittenByte(),this}writeInt16(j){return this.ensureAvailable(2),this._data.setInt16(this.offset,j,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(j){return this.ensureAvailable(2),this._data.setUint16(this.offset,j,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(j){return this.ensureAvailable(4),this._data.setInt32(this.offset,j,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(j){return this.ensureAvailable(4),this._data.setUint32(this.offset,j,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(j){return this.ensureAvailable(4),this._data.setFloat32(this.offset,j,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(j){return this.ensureAvailable(8),this._data.setFloat64(this.offset,j,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(j){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,j,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(j){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,j,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(j){return this.writeUint8(j.charCodeAt(0))}writeChars(j){for(let rt=0;rt<j.length;rt++)this.writeUint8(j.charCodeAt(rt));return this}writeUtf8(j){return this.writeBytes((0,c.encode)(j))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}},"./node_modules/iobuffer/lib-esm/text.js":(e,o,a)=>{a.r(o),a.d(o,{decode:()=>c,encode:()=>g});function c(b,_="utf8"){return new TextDecoder(_).decode(b)}const d=new TextEncoder;function g(b){return d.encode(b)}},"./node_modules/netcdfjs/lib-esm/data.js":(e,o,a)=>{a.r(o),a.d(o,{nonRecord:()=>d,record:()=>g});var c=a("./node_modules/netcdfjs/lib-esm/types.js");function d(b,_){const $=(0,c.str2num)(_.type),j=_.size/(0,c.num2bytes)($),rt=new Array(j);for(let nt=0;nt<j;nt++)rt[nt]=(0,c.readType)(b,$,1);return rt}function g(b,_,$){const j=(0,c.str2num)(_.type),rt=_.size?_.size/(0,c.num2bytes)(j):1,nt=$.length,st=new Array(nt),jt=$.recordStep;if(jt)for(let wl=0;wl<nt;wl++){const Ft=b.offset;st[wl]=(0,c.readType)(b,j,rt),b.seek(Ft+jt)}else throw new Error("recordDimension.recordStep is undefined");return st}},"./node_modules/netcdfjs/lib-esm/header.js":(e,o,a)=>{a.r(o),a.d(o,{header:()=>rt});var c=a("./node_modules/netcdfjs/lib-esm/types.js"),d=a("./node_modules/netcdfjs/lib-esm/utils.js");const g=0,b=10,_=11,$=12,j=0;function rt(wl,Ft){const it={version:Ft},ot={length:wl.readUint32()},Ln=nt(wl);Array.isArray(Ln)||(ot.id=Ln.recordId,ot.name=Ln.recordName,it.dimensions=Ln.dimensions),it.globalAttributes=st(wl);const Cl=jt(wl,ot==null?void 0:ot.id,Ft);return Array.isArray(Cl)||(it.variables=Cl.variables,ot.recordStep=Cl.recordStep),it.recordDimension=ot,it}function nt(wl){const Ft={};let it,ot;const Ln=wl.readUint32();let Cl;if(Ln===g)return(0,d.notNetcdf)(wl.readUint32()!==g,"wrong empty tag for list of dimensions"),[];{(0,d.notNetcdf)(Ln!==b,"wrong tag for list of dimensions");const Tl=wl.readUint32();Cl=new Array(Tl);for(let zl=0;zl<Tl;zl++){const In=(0,d.readName)(wl),Ml=wl.readUint32();Ml===j&&(it=zl,ot=In),Cl[zl]={name:In,size:Ml}}}return it!==void 0&&(Ft.recordId=it),ot!==void 0&&(Ft.recordName=ot),Ft.dimensions=Cl,Ft}function st(wl){const Ft=wl.readUint32();let it;if(Ft===g)return(0,d.notNetcdf)(wl.readUint32()!==g,"wrong empty tag for list of attributes"),[];{(0,d.notNetcdf)(Ft!==$,"wrong tag for list of attributes");const ot=wl.readUint32();it=new Array(ot);for(let Ln=0;Ln<ot;Ln++){const Cl=(0,d.readName)(wl),Tl=wl.readUint32();(0,d.notNetcdf)(Tl<1||Tl>6,`non valid type ${Tl}`);const zl=wl.readUint32(),In=(0,c.readType)(wl,Tl,zl);(0,d.padding)(wl),it[Ln]={name:Cl,type:(0,c.num2str)(Tl),value:In}}}return it}function jt(wl,Ft,it){const ot=wl.readUint32();let Ln=0,Cl;if(ot===g)return(0,d.notNetcdf)(wl.readUint32()!==g,"wrong empty tag for list of variables"),[];{(0,d.notNetcdf)(ot!==_,"wrong tag for list of variables");const Tl=wl.readUint32();Cl=new Array(Tl);for(let zl=0;zl<Tl;zl++){const In=(0,d.readName)(wl),Ml=wl.readUint32(),Dl=new Array(Ml);for(let cp=0;cp<Ml;cp++)Dl[cp]=wl.readUint32();const Ul=st(wl),Vl=wl.readUint32();(0,d.notNetcdf)(Vl<1&&Vl>6,`non valid type ${Vl}`);const mu=wl.readUint32();let rp=wl.readUint32();it===2&&((0,d.notNetcdf)(rp>0,"offsets larger than 4GB not supported"),rp=wl.readUint32());let Ju=!1;typeof Ft<"u"&&Dl[0]===Ft&&(Ln+=mu,Ju=!0),Cl[zl]={name:In,dimensions:Dl,attributes:Ul,type:(0,c.num2str)(Vl),size:mu,offset:rp,record:Ju}}}return{variables:Cl,recordStep:Ln}}},"./node_modules/netcdfjs/lib-esm/index.js":(e,o,a)=>{a.r(o),a.d(o,{NetCDFReader:()=>c.NetCDFReader});var c=a("./node_modules/netcdfjs/lib-esm/parser.js")},"./node_modules/netcdfjs/lib-esm/parser.js":(e,o,a)=>{a.r(o),a.d(o,{NetCDFReader:()=>$});var c=a("./node_modules/iobuffer/lib-esm/IOBuffer.js"),d=a("./node_modules/netcdfjs/lib-esm/data.js"),g=a("./node_modules/netcdfjs/lib-esm/header.js"),b=a("./node_modules/netcdfjs/lib-esm/toString.js"),_=a("./node_modules/netcdfjs/lib-esm/utils.js");class ${constructor(rt){this.toString=b.toString;const nt=new c.IOBuffer(rt);nt.setBigEndian(),(0,_.notNetcdf)(nt.readChars(3)!=="CDF","should start with CDF");const st=nt.readByte();(0,_.notNetcdf)(st>2,"unknown version"),this.header=(0,g.header)(nt,st),this.buffer=nt}get version(){return this.header.version===1?"classic format":"64-bit offset format"}get recordDimension(){return this.header.recordDimension}get dimensions(){return this.header.dimensions}get globalAttributes(){return this.header.globalAttributes}getAttribute(rt){const nt=this.globalAttributes.find(st=>st.name===rt);return nt?nt.value:null}getDataVariableAsString(rt){const nt=this.getDataVariable(rt);return nt?nt.join(""):null}get variables(){return this.header.variables}getDataVariable(rt){let nt;if(typeof rt=="string"?nt=this.header.variables.find(st=>st.name===rt):nt=rt,nt===void 0)throw new Error("Not a valid NetCDF v3.x file: variable not found");return this.buffer.seek(nt.offset),nt.record?(0,d.record)(this.buffer,nt,this.header.recordDimension):(0,d.nonRecord)(this.buffer,nt)}dataVariableExists(rt){return this.header.variables.find(nt=>nt.name===rt)!==void 0}attributeExists(rt){return this.globalAttributes.find(nt=>nt.name===rt)!==void 0}}},"./node_modules/netcdfjs/lib-esm/toString.js":(e,o,a)=>{a.r(o),a.d(o,{toString:()=>c});function c(){const d=[];d.push("DIMENSIONS");for(const b of this.dimensions)d.push(`  ${b.name.padEnd(30)} = size: ${b.size}`);d.push(""),d.push("GLOBAL ATTRIBUTES");for(const b of this.globalAttributes)d.push(`  ${b.name.padEnd(30)} = ${b.value}`);const g=JSON.parse(JSON.stringify(this.variables));d.push(""),d.push("VARIABLES:");for(const b of g){b.value=this.getDataVariable(b);let _=JSON.stringify(b.value);_.length>50&&(_=_.substring(0,50)),isNaN(b.value.length)||(_+=` (length: ${b.value.length})`),d.push(`  ${b.name.padEnd(30)} = ${_}`)}return d.join(`
`)}},"./node_modules/netcdfjs/lib-esm/types.js":(e,o,a)=>{a.r(o),a.d(o,{num2bytes:()=>g,num2str:()=>d,readType:()=>$,str2num:()=>b});const c={BYTE:1,CHAR:2,SHORT:3,INT:4,FLOAT:5,DOUBLE:6};function d(rt){switch(Number(rt)){case c.BYTE:return"byte";case c.CHAR:return"char";case c.SHORT:return"short";case c.INT:return"int";case c.FLOAT:return"float";case c.DOUBLE:return"double";default:return"undefined"}}function g(rt){switch(Number(rt)){case c.BYTE:return 1;case c.CHAR:return 1;case c.SHORT:return 2;case c.INT:return 4;case c.FLOAT:return 4;case c.DOUBLE:return 8;default:return-1}}function b(rt){switch(String(rt)){case"byte":return c.BYTE;case"char":return c.CHAR;case"short":return c.SHORT;case"int":return c.INT;case"float":return c.FLOAT;case"double":return c.DOUBLE;default:return-1}}function _(rt,nt){if(rt!==1){const st=new Array(rt);for(let jt=0;jt<rt;jt++)st[jt]=nt();return st}else return nt()}function $(rt,nt,st){switch(nt){case c.BYTE:return Array.from(rt.readBytes(st));case c.CHAR:return j(rt.readChars(st));case c.SHORT:return _(st,rt.readInt16.bind(rt));case c.INT:return _(st,rt.readInt32.bind(rt));case c.FLOAT:return _(st,rt.readFloat32.bind(rt));case c.DOUBLE:return _(st,rt.readFloat64.bind(rt));default:throw new Error(`non valid type ${nt}`)}}function j(rt){return rt.charCodeAt(rt.length-1)===0?rt.substring(0,rt.length-1):rt}},"./node_modules/netcdfjs/lib-esm/utils.js":(e,o,a)=>{a.r(o),a.d(o,{notNetcdf:()=>c,padding:()=>d,readName:()=>g});function c(b,_){if(b)throw new TypeError(`Not a valid NetCDF v3.x file: ${_}`)}function d(b){b.offset%4!==0&&b.skip(4-b.offset%4)}function g(b){const _=b.readUint32(),$=b.readChars(_);return d(b),$}},"./node_modules/pako/dist/pako.esm.mjs":(e,o,a)=>{a.r(o),a.d(o,{Deflate:()=>X2,Inflate:()=>Yx,constants:()=>J2,default:()=>Qx,deflate:()=>Y3,deflateRaw:()=>Q2,gzip:()=>qx,inflate:()=>Kx,inflateRaw:()=>Zx,ungzip:()=>Xx});/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const c=4,d=0,g=1,b=2;function _(Zl){let Np=Zl.length;for(;--Np>=0;)Zl[Np]=0}const $=0,j=1,rt=2,nt=3,st=258,jt=29,wl=256,Ft=wl+1+jt,it=30,ot=19,Ln=2*Ft+1,Cl=15,Tl=16,zl=7,In=256,Ml=16,Dl=17,Ul=18,Vl=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),mu=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),rp=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ju=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),cp=512,hp=new Array((Ft+2)*2);_(hp);const yp=new Array(it*2);_(yp);const xp=new Array(cp);_(xp);const fp=new Array(st-nt+1);_(fp);const _p=new Array(jt);_(_p);const ip=new Array(it);_(ip);function gp(Zl,Np,Ku,l0,x0){this.static_tree=Zl,this.extra_bits=Np,this.extra_base=Ku,this.elems=l0,this.max_length=x0,this.has_stree=Zl&&Zl.length}let Dp,Fp,n0;function S0(Zl,Np){this.dyn_tree=Zl,this.max_code=0,this.stat_desc=Np}const C0=Zl=>Zl<256?xp[Zl]:xp[256+(Zl>>>7)],P0=(Zl,Np)=>{Zl.pending_buf[Zl.pending++]=Np&255,Zl.pending_buf[Zl.pending++]=Np>>>8&255},k0=(Zl,Np,Ku)=>{Zl.bi_valid>Tl-Ku?(Zl.bi_buf|=Np<<Zl.bi_valid&65535,P0(Zl,Zl.bi_buf),Zl.bi_buf=Np>>Tl-Zl.bi_valid,Zl.bi_valid+=Ku-Tl):(Zl.bi_buf|=Np<<Zl.bi_valid&65535,Zl.bi_valid+=Ku)},T0=(Zl,Np,Ku)=>{k0(Zl,Ku[Np*2],Ku[Np*2+1])},im=(Zl,Np)=>{let Ku=0;do Ku|=Zl&1,Zl>>>=1,Ku<<=1;while(--Np>0);return Ku>>>1},am=Zl=>{Zl.bi_valid===16?(P0(Zl,Zl.bi_buf),Zl.bi_buf=0,Zl.bi_valid=0):Zl.bi_valid>=8&&(Zl.pending_buf[Zl.pending++]=Zl.bi_buf&255,Zl.bi_buf>>=8,Zl.bi_valid-=8)},bm=(Zl,Np)=>{const Ku=Np.dyn_tree,l0=Np.max_code,x0=Np.stat_desc.static_tree,F0=Np.stat_desc.has_stree,fm=Np.stat_desc.extra_bits,om=Np.stat_desc.extra_base,v1=Np.stat_desc.max_length;let X0,dm,lv,r1,qm,xv,Pv=0;for(r1=0;r1<=Cl;r1++)Zl.bl_count[r1]=0;for(Ku[Zl.heap[Zl.heap_max]*2+1]=0,X0=Zl.heap_max+1;X0<Ln;X0++)dm=Zl.heap[X0],r1=Ku[Ku[dm*2+1]*2+1]+1,r1>v1&&(r1=v1,Pv++),Ku[dm*2+1]=r1,!(dm>l0)&&(Zl.bl_count[r1]++,qm=0,dm>=om&&(qm=fm[dm-om]),xv=Ku[dm*2],Zl.opt_len+=xv*(r1+qm),F0&&(Zl.static_len+=xv*(x0[dm*2+1]+qm)));if(Pv!==0){do{for(r1=v1-1;Zl.bl_count[r1]===0;)r1--;Zl.bl_count[r1]--,Zl.bl_count[r1+1]+=2,Zl.bl_count[v1]--,Pv-=2}while(Pv>0);for(r1=v1;r1!==0;r1--)for(dm=Zl.bl_count[r1];dm!==0;)lv=Zl.heap[--X0],!(lv>l0)&&(Ku[lv*2+1]!==r1&&(Zl.opt_len+=(r1-Ku[lv*2+1])*Ku[lv*2],Ku[lv*2+1]=r1),dm--)}},_g=(Zl,Np,Ku)=>{const l0=new Array(Cl+1);let x0=0,F0,fm;for(F0=1;F0<=Cl;F0++)x0=x0+Ku[F0-1]<<1,l0[F0]=x0;for(fm=0;fm<=Np;fm++){let om=Zl[fm*2+1];om!==0&&(Zl[fm*2]=im(l0[om]++,om))}},b0=()=>{let Zl,Np,Ku,l0,x0;const F0=new Array(Cl+1);for(Ku=0,l0=0;l0<jt-1;l0++)for(_p[l0]=Ku,Zl=0;Zl<1<<Vl[l0];Zl++)fp[Ku++]=l0;for(fp[Ku-1]=l0,x0=0,l0=0;l0<16;l0++)for(ip[l0]=x0,Zl=0;Zl<1<<mu[l0];Zl++)xp[x0++]=l0;for(x0>>=7;l0<it;l0++)for(ip[l0]=x0<<7,Zl=0;Zl<1<<mu[l0]-7;Zl++)xp[256+x0++]=l0;for(Np=0;Np<=Cl;Np++)F0[Np]=0;for(Zl=0;Zl<=143;)hp[Zl*2+1]=8,Zl++,F0[8]++;for(;Zl<=255;)hp[Zl*2+1]=9,Zl++,F0[9]++;for(;Zl<=279;)hp[Zl*2+1]=7,Zl++,F0[7]++;for(;Zl<=287;)hp[Zl*2+1]=8,Zl++,F0[8]++;for(_g(hp,Ft+1,F0),Zl=0;Zl<it;Zl++)yp[Zl*2+1]=5,yp[Zl*2]=im(Zl,5);Dp=new gp(hp,Vl,wl+1,Ft,Cl),Fp=new gp(yp,mu,0,it,Cl),n0=new gp(new Array(0),rp,0,ot,zl)},U0=Zl=>{let Np;for(Np=0;Np<Ft;Np++)Zl.dyn_ltree[Np*2]=0;for(Np=0;Np<it;Np++)Zl.dyn_dtree[Np*2]=0;for(Np=0;Np<ot;Np++)Zl.bl_tree[Np*2]=0;Zl.dyn_ltree[In*2]=1,Zl.opt_len=Zl.static_len=0,Zl.sym_next=Zl.matches=0},mm=Zl=>{Zl.bi_valid>8?P0(Zl,Zl.bi_buf):Zl.bi_valid>0&&(Zl.pending_buf[Zl.pending++]=Zl.bi_buf),Zl.bi_buf=0,Zl.bi_valid=0},Lm=(Zl,Np,Ku,l0)=>{const x0=Np*2,F0=Ku*2;return Zl[x0]<Zl[F0]||Zl[x0]===Zl[F0]&&l0[Np]<=l0[Ku]},Um=(Zl,Np,Ku)=>{const l0=Zl.heap[Ku];let x0=Ku<<1;for(;x0<=Zl.heap_len&&(x0<Zl.heap_len&&Lm(Np,Zl.heap[x0+1],Zl.heap[x0],Zl.depth)&&x0++,!Lm(Np,l0,Zl.heap[x0],Zl.depth));)Zl.heap[Ku]=Zl.heap[x0],Ku=x0,x0<<=1;Zl.heap[Ku]=l0},Hm=(Zl,Np,Ku)=>{let l0,x0,F0=0,fm,om;if(Zl.sym_next!==0)do l0=Zl.pending_buf[Zl.sym_buf+F0++]&255,l0+=(Zl.pending_buf[Zl.sym_buf+F0++]&255)<<8,x0=Zl.pending_buf[Zl.sym_buf+F0++],l0===0?T0(Zl,x0,Np):(fm=fp[x0],T0(Zl,fm+wl+1,Np),om=Vl[fm],om!==0&&(x0-=_p[fm],k0(Zl,x0,om)),l0--,fm=C0(l0),T0(Zl,fm,Ku),om=mu[fm],om!==0&&(l0-=ip[fm],k0(Zl,l0,om)));while(F0<Zl.sym_next);T0(Zl,In,Np)},Dm=(Zl,Np)=>{const Ku=Np.dyn_tree,l0=Np.stat_desc.static_tree,x0=Np.stat_desc.has_stree,F0=Np.stat_desc.elems;let fm,om,v1=-1,X0;for(Zl.heap_len=0,Zl.heap_max=Ln,fm=0;fm<F0;fm++)Ku[fm*2]!==0?(Zl.heap[++Zl.heap_len]=v1=fm,Zl.depth[fm]=0):Ku[fm*2+1]=0;for(;Zl.heap_len<2;)X0=Zl.heap[++Zl.heap_len]=v1<2?++v1:0,Ku[X0*2]=1,Zl.depth[X0]=0,Zl.opt_len--,x0&&(Zl.static_len-=l0[X0*2+1]);for(Np.max_code=v1,fm=Zl.heap_len>>1;fm>=1;fm--)Um(Zl,Ku,fm);X0=F0;do fm=Zl.heap[1],Zl.heap[1]=Zl.heap[Zl.heap_len--],Um(Zl,Ku,1),om=Zl.heap[1],Zl.heap[--Zl.heap_max]=fm,Zl.heap[--Zl.heap_max]=om,Ku[X0*2]=Ku[fm*2]+Ku[om*2],Zl.depth[X0]=(Zl.depth[fm]>=Zl.depth[om]?Zl.depth[fm]:Zl.depth[om])+1,Ku[fm*2+1]=Ku[om*2+1]=X0,Zl.heap[1]=X0++,Um(Zl,Ku,1);while(Zl.heap_len>=2);Zl.heap[--Zl.heap_max]=Zl.heap[1],bm(Zl,Np),_g(Ku,v1,Zl.bl_count)},Nm=(Zl,Np,Ku)=>{let l0,x0=-1,F0,fm=Np[0*2+1],om=0,v1=7,X0=4;for(fm===0&&(v1=138,X0=3),Np[(Ku+1)*2+1]=65535,l0=0;l0<=Ku;l0++)F0=fm,fm=Np[(l0+1)*2+1],!(++om<v1&&F0===fm)&&(om<X0?Zl.bl_tree[F0*2]+=om:F0!==0?(F0!==x0&&Zl.bl_tree[F0*2]++,Zl.bl_tree[Ml*2]++):om<=10?Zl.bl_tree[Dl*2]++:Zl.bl_tree[Ul*2]++,om=0,x0=F0,fm===0?(v1=138,X0=3):F0===fm?(v1=6,X0=3):(v1=7,X0=4))},Om=(Zl,Np,Ku)=>{let l0,x0=-1,F0,fm=Np[0*2+1],om=0,v1=7,X0=4;for(fm===0&&(v1=138,X0=3),l0=0;l0<=Ku;l0++)if(F0=fm,fm=Np[(l0+1)*2+1],!(++om<v1&&F0===fm)){if(om<X0)do T0(Zl,F0,Zl.bl_tree);while(--om!==0);else F0!==0?(F0!==x0&&(T0(Zl,F0,Zl.bl_tree),om--),T0(Zl,Ml,Zl.bl_tree),k0(Zl,om-3,2)):om<=10?(T0(Zl,Dl,Zl.bl_tree),k0(Zl,om-3,3)):(T0(Zl,Ul,Zl.bl_tree),k0(Zl,om-11,7));om=0,x0=F0,fm===0?(v1=138,X0=3):F0===fm?(v1=6,X0=3):(v1=7,X0=4)}},Mm=Zl=>{let Np;for(Nm(Zl,Zl.dyn_ltree,Zl.l_desc.max_code),Nm(Zl,Zl.dyn_dtree,Zl.d_desc.max_code),Dm(Zl,Zl.bl_desc),Np=ot-1;Np>=3&&Zl.bl_tree[Ju[Np]*2+1]===0;Np--);return Zl.opt_len+=3*(Np+1)+5+5+4,Np},cm=(Zl,Np,Ku,l0)=>{let x0;for(k0(Zl,Np-257,5),k0(Zl,Ku-1,5),k0(Zl,l0-4,4),x0=0;x0<l0;x0++)k0(Zl,Zl.bl_tree[Ju[x0]*2+1],3);Om(Zl,Zl.dyn_ltree,Np-1),Om(Zl,Zl.dyn_dtree,Ku-1)},Jm=Zl=>{let Np=4093624447,Ku;for(Ku=0;Ku<=31;Ku++,Np>>>=1)if(Np&1&&Zl.dyn_ltree[Ku*2]!==0)return d;if(Zl.dyn_ltree[9*2]!==0||Zl.dyn_ltree[10*2]!==0||Zl.dyn_ltree[13*2]!==0)return g;for(Ku=32;Ku<wl;Ku++)if(Zl.dyn_ltree[Ku*2]!==0)return g;return d};let B0=!1;const Pp=Zl=>{B0||(b0(),B0=!0),Zl.l_desc=new S0(Zl.dyn_ltree,Dp),Zl.d_desc=new S0(Zl.dyn_dtree,Fp),Zl.bl_desc=new S0(Zl.bl_tree,n0),Zl.bi_buf=0,Zl.bi_valid=0,U0(Zl)},Yp=(Zl,Np,Ku,l0)=>{k0(Zl,($<<1)+(l0?1:0),3),mm(Zl),P0(Zl,Ku),P0(Zl,~Ku),Ku&&Zl.pending_buf.set(Zl.window.subarray(Np,Np+Ku),Zl.pending),Zl.pending+=Ku},o0=Zl=>{k0(Zl,j<<1,3),T0(Zl,In,hp),am(Zl)},W0=(Zl,Np,Ku,l0)=>{let x0,F0,fm=0;Zl.level>0?(Zl.strm.data_type===b&&(Zl.strm.data_type=Jm(Zl)),Dm(Zl,Zl.l_desc),Dm(Zl,Zl.d_desc),fm=Mm(Zl),x0=Zl.opt_len+3+7>>>3,F0=Zl.static_len+3+7>>>3,F0<=x0&&(x0=F0)):x0=F0=Ku+5,Ku+4<=x0&&Np!==-1?Yp(Zl,Np,Ku,l0):Zl.strategy===c||F0===x0?(k0(Zl,(j<<1)+(l0?1:0),3),Hm(Zl,hp,yp)):(k0(Zl,(rt<<1)+(l0?1:0),3),cm(Zl,Zl.l_desc.max_code+1,Zl.d_desc.max_code+1,fm+1),Hm(Zl,Zl.dyn_ltree,Zl.dyn_dtree)),U0(Zl),l0&&mm(Zl)},G0=(Zl,Np,Ku)=>(Zl.pending_buf[Zl.sym_buf+Zl.sym_next++]=Np,Zl.pending_buf[Zl.sym_buf+Zl.sym_next++]=Np>>8,Zl.pending_buf[Zl.sym_buf+Zl.sym_next++]=Ku,Np===0?Zl.dyn_ltree[Ku*2]++:(Zl.matches++,Np--,Zl.dyn_ltree[(fp[Ku]+wl+1)*2]++,Zl.dyn_dtree[C0(Np)*2]++),Zl.sym_next===Zl.sym_end);var Em=Pp,hm=Yp,Vp=W0,j0=G0,Q0=o0,Cm={_tr_init:Em,_tr_stored_block:hm,_tr_flush_block:Vp,_tr_tally:j0,_tr_align:Q0},z0=(Zl,Np,Ku,l0)=>{let x0=Zl&65535|0,F0=Zl>>>16&65535|0,fm=0;for(;Ku!==0;){fm=Ku>2e3?2e3:Ku,Ku-=fm;do x0=x0+Np[l0++]|0,F0=F0+x0|0;while(--fm);x0%=65521,F0%=65521}return x0|F0<<16|0};const gm=()=>{let Zl,Np=[];for(var Ku=0;Ku<256;Ku++){Zl=Ku;for(var l0=0;l0<8;l0++)Zl=Zl&1?3988292384^Zl>>>1:Zl>>>1;Np[Ku]=Zl}return Np},Kp=new Uint32Array(gm());var xm=(Zl,Np,Ku,l0)=>{const x0=Kp,F0=l0+Ku;Zl^=-1;for(let fm=l0;fm<F0;fm++)Zl=Zl>>>8^x0[(Zl^Np[fm])&255];return Zl^-1},$m={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pp={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:tm,_tr_stored_block:em,_tr_flush_block:Gp,_tr_tally:O0,_tr_align:lm}=Cm,{Z_NO_FLUSH:o1,Z_PARTIAL_FLUSH:i1,Z_FULL_FLUSH:a1,Z_FINISH:w1,Z_BLOCK:wv,Z_OK:P1,Z_STREAM_END:R1,Z_STREAM_ERROR:j1,Z_DATA_ERROR:yv,Z_BUF_ERROR:Rv,Z_DEFAULT_COMPRESSION:Dy,Z_FILTERED:Vy,Z_HUFFMAN_ONLY:dv,Z_RLE:bv,Z_FIXED:Cv,Z_DEFAULT_STRATEGY:ay,Z_UNKNOWN:vm,Z_DEFLATED:Sy}=pp,w2=9,C2=15,c2=8,Ly=286,B2=30,u2=19,Oy=2*Ly+1,hv=15,A1=3,mv=258,Jv=mv+A1+1,n3=32,e2=42,i3=57,Fv=69,Wy=73,qv=91,Wv=103,Yv=113,t2=666,Sv=1,Uy=2,_y=3,r2=4,ex=3,qy=(Zl,Np)=>(Zl.msg=$m[Np],Np),o3=Zl=>Zl*2-(Zl>4?9:0),Iy=Zl=>{let Np=Zl.length;for(;--Np>=0;)Zl[Np]=0},tx=Zl=>{let Np,Ku,l0,x0=Zl.w_size;Np=Zl.hash_size,l0=Np;do Ku=Zl.head[--l0],Zl.head[l0]=Ku>=x0?Ku-x0:0;while(--Np);Np=x0,l0=Np;do Ku=Zl.prev[--l0],Zl.prev[l0]=Ku>=x0?Ku-x0:0;while(--Np)};let Kv=(Zl,Np,Ku)=>(Np<<Zl.hash_shift^Ku)&Zl.hash_mask;const sy=Zl=>{const Np=Zl.state;let Ku=Np.pending;Ku>Zl.avail_out&&(Ku=Zl.avail_out),Ku!==0&&(Zl.output.set(Np.pending_buf.subarray(Np.pending_out,Np.pending_out+Ku),Zl.next_out),Zl.next_out+=Ku,Np.pending_out+=Ku,Zl.total_out+=Ku,Zl.avail_out-=Ku,Np.pending-=Ku,Np.pending===0&&(Np.pending_out=0))},ly=(Zl,Np)=>{Gp(Zl,Zl.block_start>=0?Zl.block_start:-1,Zl.strstart-Zl.block_start,Np),Zl.block_start=Zl.strstart,sy(Zl.strm)},nv=(Zl,Np)=>{Zl.pending_buf[Zl.pending++]=Np},zy=(Zl,Np)=>{Zl.pending_buf[Zl.pending++]=Np>>>8&255,Zl.pending_buf[Zl.pending++]=Np&255},a3=(Zl,Np,Ku,l0)=>{let x0=Zl.avail_in;return x0>l0&&(x0=l0),x0===0?0:(Zl.avail_in-=x0,Np.set(Zl.input.subarray(Zl.next_in,Zl.next_in+x0),Ku),Zl.state.wrap===1?Zl.adler=z0(Zl.adler,Np,x0,Ku):Zl.state.wrap===2&&(Zl.adler=xm(Zl.adler,Np,x0,Ku)),Zl.next_in+=x0,Zl.total_in+=x0,x0)},rx=(Zl,Np)=>{let Ku=Zl.max_chain_length,l0=Zl.strstart,x0,F0,fm=Zl.prev_length,om=Zl.nice_match;const v1=Zl.strstart>Zl.w_size-Jv?Zl.strstart-(Zl.w_size-Jv):0,X0=Zl.window,dm=Zl.w_mask,lv=Zl.prev,r1=Zl.strstart+mv;let qm=X0[l0+fm-1],xv=X0[l0+fm];Zl.prev_length>=Zl.good_match&&(Ku>>=2),om>Zl.lookahead&&(om=Zl.lookahead);do if(x0=Np,!(X0[x0+fm]!==xv||X0[x0+fm-1]!==qm||X0[x0]!==X0[l0]||X0[++x0]!==X0[l0+1])){l0+=2,x0++;do;while(X0[++l0]===X0[++x0]&&X0[++l0]===X0[++x0]&&X0[++l0]===X0[++x0]&&X0[++l0]===X0[++x0]&&X0[++l0]===X0[++x0]&&X0[++l0]===X0[++x0]&&X0[++l0]===X0[++x0]&&X0[++l0]===X0[++x0]&&l0<r1);if(F0=mv-(r1-l0),l0=r1-mv,F0>fm){if(Zl.match_start=Np,fm=F0,F0>=om)break;qm=X0[l0+fm-1],xv=X0[l0+fm]}}while((Np=lv[Np&dm])>v1&&--Ku!==0);return fm<=Zl.lookahead?fm:Zl.lookahead},Yy=Zl=>{const Np=Zl.w_size;let Ku,l0,x0;do{if(l0=Zl.window_size-Zl.lookahead-Zl.strstart,Zl.strstart>=Np+(Np-Jv)&&(Zl.window.set(Zl.window.subarray(Np,Np+Np-l0),0),Zl.match_start-=Np,Zl.strstart-=Np,Zl.block_start-=Np,Zl.insert>Zl.strstart&&(Zl.insert=Zl.strstart),tx(Zl),l0+=Np),Zl.strm.avail_in===0)break;if(Ku=a3(Zl.strm,Zl.window,Zl.strstart+Zl.lookahead,l0),Zl.lookahead+=Ku,Zl.lookahead+Zl.insert>=A1)for(x0=Zl.strstart-Zl.insert,Zl.ins_h=Zl.window[x0],Zl.ins_h=Kv(Zl,Zl.ins_h,Zl.window[x0+1]);Zl.insert&&(Zl.ins_h=Kv(Zl,Zl.ins_h,Zl.window[x0+A1-1]),Zl.prev[x0&Zl.w_mask]=Zl.head[Zl.ins_h],Zl.head[Zl.ins_h]=x0,x0++,Zl.insert--,!(Zl.lookahead+Zl.insert<A1)););}while(Zl.lookahead<Jv&&Zl.strm.avail_in!==0)},s3=(Zl,Np)=>{let Ku=Zl.pending_buf_size-5>Zl.w_size?Zl.w_size:Zl.pending_buf_size-5,l0,x0,F0,fm=0,om=Zl.strm.avail_in;do{if(l0=65535,F0=Zl.bi_valid+42>>3,Zl.strm.avail_out<F0||(F0=Zl.strm.avail_out-F0,x0=Zl.strstart-Zl.block_start,l0>x0+Zl.strm.avail_in&&(l0=x0+Zl.strm.avail_in),l0>F0&&(l0=F0),l0<Ku&&(l0===0&&Np!==w1||Np===o1||l0!==x0+Zl.strm.avail_in)))break;fm=Np===w1&&l0===x0+Zl.strm.avail_in?1:0,em(Zl,0,0,fm),Zl.pending_buf[Zl.pending-4]=l0,Zl.pending_buf[Zl.pending-3]=l0>>8,Zl.pending_buf[Zl.pending-2]=~l0,Zl.pending_buf[Zl.pending-1]=~l0>>8,sy(Zl.strm),x0&&(x0>l0&&(x0=l0),Zl.strm.output.set(Zl.window.subarray(Zl.block_start,Zl.block_start+x0),Zl.strm.next_out),Zl.strm.next_out+=x0,Zl.strm.avail_out-=x0,Zl.strm.total_out+=x0,Zl.block_start+=x0,l0-=x0),l0&&(a3(Zl.strm,Zl.strm.output,Zl.strm.next_out,l0),Zl.strm.next_out+=l0,Zl.strm.avail_out-=l0,Zl.strm.total_out+=l0)}while(fm===0);return om-=Zl.strm.avail_in,om&&(om>=Zl.w_size?(Zl.matches=2,Zl.window.set(Zl.strm.input.subarray(Zl.strm.next_in-Zl.w_size,Zl.strm.next_in),0),Zl.strstart=Zl.w_size,Zl.insert=Zl.strstart):(Zl.window_size-Zl.strstart<=om&&(Zl.strstart-=Zl.w_size,Zl.window.set(Zl.window.subarray(Zl.w_size,Zl.w_size+Zl.strstart),0),Zl.matches<2&&Zl.matches++,Zl.insert>Zl.strstart&&(Zl.insert=Zl.strstart)),Zl.window.set(Zl.strm.input.subarray(Zl.strm.next_in-om,Zl.strm.next_in),Zl.strstart),Zl.strstart+=om,Zl.insert+=om>Zl.w_size-Zl.insert?Zl.w_size-Zl.insert:om),Zl.block_start=Zl.strstart),Zl.high_water<Zl.strstart&&(Zl.high_water=Zl.strstart),fm?r2:Np!==o1&&Np!==w1&&Zl.strm.avail_in===0&&Zl.strstart===Zl.block_start?Uy:(F0=Zl.window_size-Zl.strstart,Zl.strm.avail_in>F0&&Zl.block_start>=Zl.w_size&&(Zl.block_start-=Zl.w_size,Zl.strstart-=Zl.w_size,Zl.window.set(Zl.window.subarray(Zl.w_size,Zl.w_size+Zl.strstart),0),Zl.matches<2&&Zl.matches++,F0+=Zl.w_size,Zl.insert>Zl.strstart&&(Zl.insert=Zl.strstart)),F0>Zl.strm.avail_in&&(F0=Zl.strm.avail_in),F0&&(a3(Zl.strm,Zl.window,Zl.strstart,F0),Zl.strstart+=F0,Zl.insert+=F0>Zl.w_size-Zl.insert?Zl.w_size-Zl.insert:F0),Zl.high_water<Zl.strstart&&(Zl.high_water=Zl.strstart),F0=Zl.bi_valid+42>>3,F0=Zl.pending_buf_size-F0>65535?65535:Zl.pending_buf_size-F0,Ku=F0>Zl.w_size?Zl.w_size:F0,x0=Zl.strstart-Zl.block_start,(x0>=Ku||(x0||Np===w1)&&Np!==o1&&Zl.strm.avail_in===0&&x0<=F0)&&(l0=x0>F0?F0:x0,fm=Np===w1&&Zl.strm.avail_in===0&&l0===x0?1:0,em(Zl,Zl.block_start,l0,fm),Zl.block_start+=l0,sy(Zl.strm)),fm?_y:Sv)},cy=(Zl,Np)=>{let Ku,l0;for(;;){if(Zl.lookahead<Jv){if(Yy(Zl),Zl.lookahead<Jv&&Np===o1)return Sv;if(Zl.lookahead===0)break}if(Ku=0,Zl.lookahead>=A1&&(Zl.ins_h=Kv(Zl,Zl.ins_h,Zl.window[Zl.strstart+A1-1]),Ku=Zl.prev[Zl.strstart&Zl.w_mask]=Zl.head[Zl.ins_h],Zl.head[Zl.ins_h]=Zl.strstart),Ku!==0&&Zl.strstart-Ku<=Zl.w_size-Jv&&(Zl.match_length=rx(Zl,Ku)),Zl.match_length>=A1)if(l0=O0(Zl,Zl.strstart-Zl.match_start,Zl.match_length-A1),Zl.lookahead-=Zl.match_length,Zl.match_length<=Zl.max_lazy_match&&Zl.lookahead>=A1){Zl.match_length--;do Zl.strstart++,Zl.ins_h=Kv(Zl,Zl.ins_h,Zl.window[Zl.strstart+A1-1]),Ku=Zl.prev[Zl.strstart&Zl.w_mask]=Zl.head[Zl.ins_h],Zl.head[Zl.ins_h]=Zl.strstart;while(--Zl.match_length!==0);Zl.strstart++}else Zl.strstart+=Zl.match_length,Zl.match_length=0,Zl.ins_h=Zl.window[Zl.strstart],Zl.ins_h=Kv(Zl,Zl.ins_h,Zl.window[Zl.strstart+1]);else l0=O0(Zl,0,Zl.window[Zl.strstart]),Zl.lookahead--,Zl.strstart++;if(l0&&(ly(Zl,!1),Zl.strm.avail_out===0))return Sv}return Zl.insert=Zl.strstart<A1-1?Zl.strstart:A1-1,Np===w1?(ly(Zl,!0),Zl.strm.avail_out===0?_y:r2):Zl.sym_next&&(ly(Zl,!1),Zl.strm.avail_out===0)?Sv:Uy},d2=(Zl,Np)=>{let Ku,l0,x0;for(;;){if(Zl.lookahead<Jv){if(Yy(Zl),Zl.lookahead<Jv&&Np===o1)return Sv;if(Zl.lookahead===0)break}if(Ku=0,Zl.lookahead>=A1&&(Zl.ins_h=Kv(Zl,Zl.ins_h,Zl.window[Zl.strstart+A1-1]),Ku=Zl.prev[Zl.strstart&Zl.w_mask]=Zl.head[Zl.ins_h],Zl.head[Zl.ins_h]=Zl.strstart),Zl.prev_length=Zl.match_length,Zl.prev_match=Zl.match_start,Zl.match_length=A1-1,Ku!==0&&Zl.prev_length<Zl.max_lazy_match&&Zl.strstart-Ku<=Zl.w_size-Jv&&(Zl.match_length=rx(Zl,Ku),Zl.match_length<=5&&(Zl.strategy===Vy||Zl.match_length===A1&&Zl.strstart-Zl.match_start>4096)&&(Zl.match_length=A1-1)),Zl.prev_length>=A1&&Zl.match_length<=Zl.prev_length){x0=Zl.strstart+Zl.lookahead-A1,l0=O0(Zl,Zl.strstart-1-Zl.prev_match,Zl.prev_length-A1),Zl.lookahead-=Zl.prev_length-1,Zl.prev_length-=2;do++Zl.strstart<=x0&&(Zl.ins_h=Kv(Zl,Zl.ins_h,Zl.window[Zl.strstart+A1-1]),Ku=Zl.prev[Zl.strstart&Zl.w_mask]=Zl.head[Zl.ins_h],Zl.head[Zl.ins_h]=Zl.strstart);while(--Zl.prev_length!==0);if(Zl.match_available=0,Zl.match_length=A1-1,Zl.strstart++,l0&&(ly(Zl,!1),Zl.strm.avail_out===0))return Sv}else if(Zl.match_available){if(l0=O0(Zl,0,Zl.window[Zl.strstart-1]),l0&&ly(Zl,!1),Zl.strstart++,Zl.lookahead--,Zl.strm.avail_out===0)return Sv}else Zl.match_available=1,Zl.strstart++,Zl.lookahead--}return Zl.match_available&&(l0=O0(Zl,0,Zl.window[Zl.strstart-1]),Zl.match_available=0),Zl.insert=Zl.strstart<A1-1?Zl.strstart:A1-1,Np===w1?(ly(Zl,!0),Zl.strm.avail_out===0?_y:r2):Zl.sym_next&&(ly(Zl,!1),Zl.strm.avail_out===0)?Sv:Uy},Ny=(Zl,Np)=>{let Ku,l0,x0,F0;const fm=Zl.window;for(;;){if(Zl.lookahead<=mv){if(Yy(Zl),Zl.lookahead<=mv&&Np===o1)return Sv;if(Zl.lookahead===0)break}if(Zl.match_length=0,Zl.lookahead>=A1&&Zl.strstart>0&&(x0=Zl.strstart-1,l0=fm[x0],l0===fm[++x0]&&l0===fm[++x0]&&l0===fm[++x0])){F0=Zl.strstart+mv;do;while(l0===fm[++x0]&&l0===fm[++x0]&&l0===fm[++x0]&&l0===fm[++x0]&&l0===fm[++x0]&&l0===fm[++x0]&&l0===fm[++x0]&&l0===fm[++x0]&&x0<F0);Zl.match_length=mv-(F0-x0),Zl.match_length>Zl.lookahead&&(Zl.match_length=Zl.lookahead)}if(Zl.match_length>=A1?(Ku=O0(Zl,1,Zl.match_length-A1),Zl.lookahead-=Zl.match_length,Zl.strstart+=Zl.match_length,Zl.match_length=0):(Ku=O0(Zl,0,Zl.window[Zl.strstart]),Zl.lookahead--,Zl.strstart++),Ku&&(ly(Zl,!1),Zl.strm.avail_out===0))return Sv}return Zl.insert=0,Np===w1?(ly(Zl,!0),Zl.strm.avail_out===0?_y:r2):Zl.sym_next&&(ly(Zl,!1),Zl.strm.avail_out===0)?Sv:Uy},nx=(Zl,Np)=>{let Ku;for(;;){if(Zl.lookahead===0&&(Yy(Zl),Zl.lookahead===0)){if(Np===o1)return Sv;break}if(Zl.match_length=0,Ku=O0(Zl,0,Zl.window[Zl.strstart]),Zl.lookahead--,Zl.strstart++,Ku&&(ly(Zl,!1),Zl.strm.avail_out===0))return Sv}return Zl.insert=0,Np===w1?(ly(Zl,!0),Zl.strm.avail_out===0?_y:r2):Zl.sym_next&&(ly(Zl,!1),Zl.strm.avail_out===0)?Sv:Uy};function Ey(Zl,Np,Ku,l0,x0){this.good_length=Zl,this.max_lazy=Np,this.nice_length=Ku,this.max_chain=l0,this.func=x0}const V1=[new Ey(0,0,0,0,s3),new Ey(4,4,8,4,cy),new Ey(4,5,16,8,cy),new Ey(4,6,32,32,cy),new Ey(4,4,16,16,d2),new Ey(8,16,32,32,d2),new Ey(8,16,128,128,d2),new Ey(8,32,128,256,d2),new Ey(32,128,258,1024,d2),new Ey(32,258,258,4096,d2)],G2=Zl=>{Zl.window_size=2*Zl.w_size,Iy(Zl.head),Zl.max_lazy_match=V1[Zl.level].max_lazy,Zl.good_match=V1[Zl.level].good_length,Zl.nice_match=V1[Zl.level].nice_length,Zl.max_chain_length=V1[Zl.level].max_chain,Zl.strstart=0,Zl.block_start=0,Zl.lookahead=0,Zl.insert=0,Zl.match_length=Zl.prev_length=A1-1,Zl.match_available=0,Zl.ins_h=0};function l3(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Sy,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Oy*2),this.dyn_dtree=new Uint16Array((2*B2+1)*2),this.bl_tree=new Uint16Array((2*u2+1)*2),Iy(this.dyn_ltree),Iy(this.dyn_dtree),Iy(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(hv+1),this.heap=new Uint16Array(2*Ly+1),Iy(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Ly+1),Iy(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const h2=Zl=>{if(!Zl)return 1;const Np=Zl.state;return!Np||Np.strm!==Zl||Np.status!==e2&&Np.status!==i3&&Np.status!==Fv&&Np.status!==Wy&&Np.status!==qv&&Np.status!==Wv&&Np.status!==Yv&&Np.status!==t2?1:0},S2=Zl=>{if(h2(Zl))return qy(Zl,j1);Zl.total_in=Zl.total_out=0,Zl.data_type=vm;const Np=Zl.state;return Np.pending=0,Np.pending_out=0,Np.wrap<0&&(Np.wrap=-Np.wrap),Np.status=Np.wrap===2?i3:Np.wrap?e2:Yv,Zl.adler=Np.wrap===2?0:1,Np.last_flush=-2,tm(Np),P1},pv=Zl=>{const Np=S2(Zl);return Np===P1&&G2(Zl.state),Np},vw=(Zl,Np)=>h2(Zl)||Zl.state.wrap!==2?j1:(Zl.state.gzhead=Np,P1),c3=(Zl,Np,Ku,l0,x0,F0)=>{if(!Zl)return j1;let fm=1;if(Np===Dy&&(Np=6),l0<0?(fm=0,l0=-l0):l0>15&&(fm=2,l0-=16),x0<1||x0>w2||Ku!==Sy||l0<8||l0>15||Np<0||Np>9||F0<0||F0>Cv||l0===8&&fm!==1)return qy(Zl,j1);l0===8&&(l0=9);const om=new l3;return Zl.state=om,om.strm=Zl,om.status=e2,om.wrap=fm,om.gzhead=null,om.w_bits=l0,om.w_size=1<<om.w_bits,om.w_mask=om.w_size-1,om.hash_bits=x0+7,om.hash_size=1<<om.hash_bits,om.hash_mask=om.hash_size-1,om.hash_shift=~~((om.hash_bits+A1-1)/A1),om.window=new Uint8Array(om.w_size*2),om.head=new Uint16Array(om.hash_size),om.prev=new Uint16Array(om.w_size),om.lit_bufsize=1<<x0+6,om.pending_buf_size=om.lit_bufsize*4,om.pending_buf=new Uint8Array(om.pending_buf_size),om.sym_buf=om.lit_bufsize,om.sym_end=(om.lit_bufsize-1)*3,om.level=Np,om.strategy=F0,om.method=Ku,pv(Zl)},yw=(Zl,Np)=>c3(Zl,Np,Sy,C2,c2,ay),ix=(Zl,Np)=>{if(h2(Zl)||Np>wv||Np<0)return Zl?qy(Zl,j1):j1;const Ku=Zl.state;if(!Zl.output||Zl.avail_in!==0&&!Zl.input||Ku.status===t2&&Np!==w1)return qy(Zl,Zl.avail_out===0?Rv:j1);const l0=Ku.last_flush;if(Ku.last_flush=Np,Ku.pending!==0){if(sy(Zl),Zl.avail_out===0)return Ku.last_flush=-1,P1}else if(Zl.avail_in===0&&o3(Np)<=o3(l0)&&Np!==w1)return qy(Zl,Rv);if(Ku.status===t2&&Zl.avail_in!==0)return qy(Zl,Rv);if(Ku.status===e2&&Ku.wrap===0&&(Ku.status=Yv),Ku.status===e2){let x0=Sy+(Ku.w_bits-8<<4)<<8,F0=-1;if(Ku.strategy>=dv||Ku.level<2?F0=0:Ku.level<6?F0=1:Ku.level===6?F0=2:F0=3,x0|=F0<<6,Ku.strstart!==0&&(x0|=n3),x0+=31-x0%31,zy(Ku,x0),Ku.strstart!==0&&(zy(Ku,Zl.adler>>>16),zy(Ku,Zl.adler&65535)),Zl.adler=1,Ku.status=Yv,sy(Zl),Ku.pending!==0)return Ku.last_flush=-1,P1}if(Ku.status===i3){if(Zl.adler=0,nv(Ku,31),nv(Ku,139),nv(Ku,8),Ku.gzhead)nv(Ku,(Ku.gzhead.text?1:0)+(Ku.gzhead.hcrc?2:0)+(Ku.gzhead.extra?4:0)+(Ku.gzhead.name?8:0)+(Ku.gzhead.comment?16:0)),nv(Ku,Ku.gzhead.time&255),nv(Ku,Ku.gzhead.time>>8&255),nv(Ku,Ku.gzhead.time>>16&255),nv(Ku,Ku.gzhead.time>>24&255),nv(Ku,Ku.level===9?2:Ku.strategy>=dv||Ku.level<2?4:0),nv(Ku,Ku.gzhead.os&255),Ku.gzhead.extra&&Ku.gzhead.extra.length&&(nv(Ku,Ku.gzhead.extra.length&255),nv(Ku,Ku.gzhead.extra.length>>8&255)),Ku.gzhead.hcrc&&(Zl.adler=xm(Zl.adler,Ku.pending_buf,Ku.pending,0)),Ku.gzindex=0,Ku.status=Fv;else if(nv(Ku,0),nv(Ku,0),nv(Ku,0),nv(Ku,0),nv(Ku,0),nv(Ku,Ku.level===9?2:Ku.strategy>=dv||Ku.level<2?4:0),nv(Ku,ex),Ku.status=Yv,sy(Zl),Ku.pending!==0)return Ku.last_flush=-1,P1}if(Ku.status===Fv){if(Ku.gzhead.extra){let x0=Ku.pending,F0=(Ku.gzhead.extra.length&65535)-Ku.gzindex;for(;Ku.pending+F0>Ku.pending_buf_size;){let om=Ku.pending_buf_size-Ku.pending;if(Ku.pending_buf.set(Ku.gzhead.extra.subarray(Ku.gzindex,Ku.gzindex+om),Ku.pending),Ku.pending=Ku.pending_buf_size,Ku.gzhead.hcrc&&Ku.pending>x0&&(Zl.adler=xm(Zl.adler,Ku.pending_buf,Ku.pending-x0,x0)),Ku.gzindex+=om,sy(Zl),Ku.pending!==0)return Ku.last_flush=-1,P1;x0=0,F0-=om}let fm=new Uint8Array(Ku.gzhead.extra);Ku.pending_buf.set(fm.subarray(Ku.gzindex,Ku.gzindex+F0),Ku.pending),Ku.pending+=F0,Ku.gzhead.hcrc&&Ku.pending>x0&&(Zl.adler=xm(Zl.adler,Ku.pending_buf,Ku.pending-x0,x0)),Ku.gzindex=0}Ku.status=Wy}if(Ku.status===Wy){if(Ku.gzhead.name){let x0=Ku.pending,F0;do{if(Ku.pending===Ku.pending_buf_size){if(Ku.gzhead.hcrc&&Ku.pending>x0&&(Zl.adler=xm(Zl.adler,Ku.pending_buf,Ku.pending-x0,x0)),sy(Zl),Ku.pending!==0)return Ku.last_flush=-1,P1;x0=0}Ku.gzindex<Ku.gzhead.name.length?F0=Ku.gzhead.name.charCodeAt(Ku.gzindex++)&255:F0=0,nv(Ku,F0)}while(F0!==0);Ku.gzhead.hcrc&&Ku.pending>x0&&(Zl.adler=xm(Zl.adler,Ku.pending_buf,Ku.pending-x0,x0)),Ku.gzindex=0}Ku.status=qv}if(Ku.status===qv){if(Ku.gzhead.comment){let x0=Ku.pending,F0;do{if(Ku.pending===Ku.pending_buf_size){if(Ku.gzhead.hcrc&&Ku.pending>x0&&(Zl.adler=xm(Zl.adler,Ku.pending_buf,Ku.pending-x0,x0)),sy(Zl),Ku.pending!==0)return Ku.last_flush=-1,P1;x0=0}Ku.gzindex<Ku.gzhead.comment.length?F0=Ku.gzhead.comment.charCodeAt(Ku.gzindex++)&255:F0=0,nv(Ku,F0)}while(F0!==0);Ku.gzhead.hcrc&&Ku.pending>x0&&(Zl.adler=xm(Zl.adler,Ku.pending_buf,Ku.pending-x0,x0))}Ku.status=Wv}if(Ku.status===Wv){if(Ku.gzhead.hcrc){if(Ku.pending+2>Ku.pending_buf_size&&(sy(Zl),Ku.pending!==0))return Ku.last_flush=-1,P1;nv(Ku,Zl.adler&255),nv(Ku,Zl.adler>>8&255),Zl.adler=0}if(Ku.status=Yv,sy(Zl),Ku.pending!==0)return Ku.last_flush=-1,P1}if(Zl.avail_in!==0||Ku.lookahead!==0||Np!==o1&&Ku.status!==t2){let x0=Ku.level===0?s3(Ku,Np):Ku.strategy===dv?nx(Ku,Np):Ku.strategy===bv?Ny(Ku,Np):V1[Ku.level].func(Ku,Np);if((x0===_y||x0===r2)&&(Ku.status=t2),x0===Sv||x0===_y)return Zl.avail_out===0&&(Ku.last_flush=-1),P1;if(x0===Uy&&(Np===i1?lm(Ku):Np!==wv&&(em(Ku,0,0,!1),Np===a1&&(Iy(Ku.head),Ku.lookahead===0&&(Ku.strstart=0,Ku.block_start=0,Ku.insert=0))),sy(Zl),Zl.avail_out===0))return Ku.last_flush=-1,P1}return Np!==w1?P1:Ku.wrap<=0?R1:(Ku.wrap===2?(nv(Ku,Zl.adler&255),nv(Ku,Zl.adler>>8&255),nv(Ku,Zl.adler>>16&255),nv(Ku,Zl.adler>>24&255),nv(Ku,Zl.total_in&255),nv(Ku,Zl.total_in>>8&255),nv(Ku,Zl.total_in>>16&255),nv(Ku,Zl.total_in>>24&255)):(zy(Ku,Zl.adler>>>16),zy(Ku,Zl.adler&65535)),sy(Zl),Ku.wrap>0&&(Ku.wrap=-Ku.wrap),Ku.pending!==0?P1:R1)},bw=Zl=>{if(h2(Zl))return j1;const Np=Zl.state.status;return Zl.state=null,Np===Yv?qy(Zl,yv):P1},xw=(Zl,Np)=>{let Ku=Np.length;if(h2(Zl))return j1;const l0=Zl.state,x0=l0.wrap;if(x0===2||x0===1&&l0.status!==e2||l0.lookahead)return j1;if(x0===1&&(Zl.adler=z0(Zl.adler,Np,Ku,0)),l0.wrap=0,Ku>=l0.w_size){x0===0&&(Iy(l0.head),l0.strstart=0,l0.block_start=0,l0.insert=0);let v1=new Uint8Array(l0.w_size);v1.set(Np.subarray(Ku-l0.w_size,Ku),0),Np=v1,Ku=l0.w_size}const F0=Zl.avail_in,fm=Zl.next_in,om=Zl.input;for(Zl.avail_in=Ku,Zl.next_in=0,Zl.input=Np,Yy(l0);l0.lookahead>=A1;){let v1=l0.strstart,X0=l0.lookahead-(A1-1);do l0.ins_h=Kv(l0,l0.ins_h,l0.window[v1+A1-1]),l0.prev[v1&l0.w_mask]=l0.head[l0.ins_h],l0.head[l0.ins_h]=v1,v1++;while(--X0);l0.strstart=v1,l0.lookahead=A1-1,Yy(l0)}return l0.strstart+=l0.lookahead,l0.block_start=l0.strstart,l0.insert=l0.lookahead,l0.lookahead=0,l0.match_length=l0.prev_length=A1-1,l0.match_available=0,Zl.next_in=fm,Zl.input=om,Zl.avail_in=F0,l0.wrap=x0,P1};var ww=yw,ky=c3,n2=pv,Cw=S2,ox=vw,u3=ix,ax=bw,Sw=xw,sx="pako deflate (from Nodeca project)",_2={deflateInit:ww,deflateInit2:ky,deflateReset:n2,deflateResetKeep:Cw,deflateSetHeader:ox,deflate:u3,deflateEnd:ax,deflateSetDictionary:Sw,deflateInfo:sx};const d3=(Zl,Np)=>Object.prototype.hasOwnProperty.call(Zl,Np);var _w=function(Zl){const Np=Array.prototype.slice.call(arguments,1);for(;Np.length;){const Ku=Np.shift();if(Ku){if(typeof Ku!="object")throw new TypeError(Ku+"must be non-object");for(const l0 in Ku)d3(Ku,l0)&&(Zl[l0]=Ku[l0])}}return Zl},h3=Zl=>{let Np=0;for(let l0=0,x0=Zl.length;l0<x0;l0++)Np+=Zl[l0].length;const Ku=new Uint8Array(Np);for(let l0=0,x0=0,F0=Zl.length;l0<F0;l0++){let fm=Zl[l0];Ku.set(fm,x0),x0+=fm.length}return Ku},E2={assign:_w,flattenChunks:h3};let p3=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p3=!1}const p2=new Uint8Array(256);for(let Zl=0;Zl<256;Zl++)p2[Zl]=Zl>=252?6:Zl>=248?5:Zl>=240?4:Zl>=224?3:Zl>=192?2:1;p2[254]=p2[254]=1;var f3=Zl=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Zl);let Np,Ku,l0,x0,F0,fm=Zl.length,om=0;for(x0=0;x0<fm;x0++)Ku=Zl.charCodeAt(x0),(Ku&64512)===55296&&x0+1<fm&&(l0=Zl.charCodeAt(x0+1),(l0&64512)===56320&&(Ku=65536+(Ku-55296<<10)+(l0-56320),x0++)),om+=Ku<128?1:Ku<2048?2:Ku<65536?3:4;for(Np=new Uint8Array(om),F0=0,x0=0;F0<om;x0++)Ku=Zl.charCodeAt(x0),(Ku&64512)===55296&&x0+1<fm&&(l0=Zl.charCodeAt(x0+1),(l0&64512)===56320&&(Ku=65536+(Ku-55296<<10)+(l0-56320),x0++)),Ku<128?Np[F0++]=Ku:Ku<2048?(Np[F0++]=192|Ku>>>6,Np[F0++]=128|Ku&63):Ku<65536?(Np[F0++]=224|Ku>>>12,Np[F0++]=128|Ku>>>6&63,Np[F0++]=128|Ku&63):(Np[F0++]=240|Ku>>>18,Np[F0++]=128|Ku>>>12&63,Np[F0++]=128|Ku>>>6&63,Np[F0++]=128|Ku&63);return Np};const Ew=(Zl,Np)=>{if(Np<65534&&Zl.subarray&&p3)return String.fromCharCode.apply(null,Zl.length===Np?Zl:Zl.subarray(0,Np));let Ku="";for(let l0=0;l0<Np;l0++)Ku+=String.fromCharCode(Zl[l0]);return Ku};var kw=(Zl,Np)=>{const Ku=Np||Zl.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Zl.subarray(0,Np));let l0,x0;const F0=new Array(Ku*2);for(x0=0,l0=0;l0<Ku;){let fm=Zl[l0++];if(fm<128){F0[x0++]=fm;continue}let om=p2[fm];if(om>4){F0[x0++]=65533,l0+=om-1;continue}for(fm&=om===2?31:om===3?15:7;om>1&&l0<Ku;)fm=fm<<6|Zl[l0++]&63,om--;if(om>1){F0[x0++]=65533;continue}fm<65536?F0[x0++]=fm:(fm-=65536,F0[x0++]=55296|fm>>10&1023,F0[x0++]=56320|fm&1023)}return Ew(F0,x0)},lx=(Zl,Np)=>{Np=Np||Zl.length,Np>Zl.length&&(Np=Zl.length);let Ku=Np-1;for(;Ku>=0&&(Zl[Ku]&192)===128;)Ku--;return Ku<0||Ku===0?Np:Ku+p2[Zl[Ku]]>Np?Ku:Np},k2={string2buf:f3,buf2string:kw,utf8border:lx};function Mw(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var cx=Mw;const My=Object.prototype.toString,{Z_NO_FLUSH:M2,Z_SYNC_FLUSH:g3,Z_FULL_FLUSH:m3,Z_FINISH:v3,Z_OK:f2,Z_STREAM_END:i2,Z_DEFAULT_COMPRESSION:y3,Z_DEFAULT_STRATEGY:ux,Z_DEFLATED:$2}=pp;function xy(Zl){this.options=E2.assign({level:y3,method:$2,chunkSize:16384,windowBits:15,memLevel:8,strategy:ux},Zl||{});let Np=this.options;Np.raw&&Np.windowBits>0?Np.windowBits=-Np.windowBits:Np.gzip&&Np.windowBits>0&&Np.windowBits<16&&(Np.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cx,this.strm.avail_out=0;let Ku=_2.deflateInit2(this.strm,Np.level,Np.method,Np.windowBits,Np.memLevel,Np.strategy);if(Ku!==f2)throw new Error($m[Ku]);if(Np.header&&_2.deflateSetHeader(this.strm,Np.header),Np.dictionary){let l0;if(typeof Np.dictionary=="string"?l0=k2.string2buf(Np.dictionary):My.call(Np.dictionary)==="[object ArrayBuffer]"?l0=new Uint8Array(Np.dictionary):l0=Np.dictionary,Ku=_2.deflateSetDictionary(this.strm,l0),Ku!==f2)throw new Error($m[Ku]);this._dict_set=!0}}xy.prototype.push=function(Zl,Np){const Ku=this.strm,l0=this.options.chunkSize;let x0,F0;if(this.ended)return!1;for(Np===~~Np?F0=Np:F0=Np===!0?v3:M2,typeof Zl=="string"?Ku.input=k2.string2buf(Zl):My.call(Zl)==="[object ArrayBuffer]"?Ku.input=new Uint8Array(Zl):Ku.input=Zl,Ku.next_in=0,Ku.avail_in=Ku.input.length;;){if(Ku.avail_out===0&&(Ku.output=new Uint8Array(l0),Ku.next_out=0,Ku.avail_out=l0),(F0===g3||F0===m3)&&Ku.avail_out<=6){this.onData(Ku.output.subarray(0,Ku.next_out)),Ku.avail_out=0;continue}if(x0=_2.deflate(Ku,F0),x0===i2)return Ku.next_out>0&&this.onData(Ku.output.subarray(0,Ku.next_out)),x0=_2.deflateEnd(this.strm),this.onEnd(x0),this.ended=!0,x0===f2;if(Ku.avail_out===0){this.onData(Ku.output);continue}if(F0>0&&Ku.next_out>0){this.onData(Ku.output.subarray(0,Ku.next_out)),Ku.avail_out=0;continue}if(Ku.avail_in===0)break}return!0},xy.prototype.onData=function(Zl){this.chunks.push(Zl)},xy.prototype.onEnd=function(Zl){Zl===f2&&(this.result=E2.flattenChunks(this.chunks)),this.chunks=[],this.err=Zl,this.msg=this.strm.msg};function H2(Zl,Np){const Ku=new xy(Np);if(Ku.push(Zl,!0),Ku.err)throw Ku.msg||$m[Ku.err];return Ku.result}function b3(Zl,Np){return Np=Np||{},Np.raw=!0,H2(Zl,Np)}function x3(Zl,Np){return Np=Np||{},Np.gzip=!0,H2(Zl,Np)}var dx=xy,hx=H2,px=b3,Aw=x3,Tw={Deflate:dx,deflate:hx,deflateRaw:px,gzip:Aw};const j2=16209,fx=16191;var gx=function(Zl,Np){let Ku,l0,x0,F0,fm,om,v1,X0,dm,lv,r1,qm,xv,Pv,J1,G1,z1,c1,I1,Gv,iv,Y1,fv,E1;const H1=Zl.state;Ku=Zl.next_in,fv=Zl.input,l0=Ku+(Zl.avail_in-5),x0=Zl.next_out,E1=Zl.output,F0=x0-(Np-Zl.avail_out),fm=x0+(Zl.avail_out-257),om=H1.dmax,v1=H1.wsize,X0=H1.whave,dm=H1.wnext,lv=H1.window,r1=H1.hold,qm=H1.bits,xv=H1.lencode,Pv=H1.distcode,J1=(1<<H1.lenbits)-1,G1=(1<<H1.distbits)-1;e:do{qm<15&&(r1+=fv[Ku++]<<qm,qm+=8,r1+=fv[Ku++]<<qm,qm+=8),z1=xv[r1&J1];t:for(;;){if(c1=z1>>>24,r1>>>=c1,qm-=c1,c1=z1>>>16&255,c1===0)E1[x0++]=z1&65535;else if(c1&16){I1=z1&65535,c1&=15,c1&&(qm<c1&&(r1+=fv[Ku++]<<qm,qm+=8),I1+=r1&(1<<c1)-1,r1>>>=c1,qm-=c1),qm<15&&(r1+=fv[Ku++]<<qm,qm+=8,r1+=fv[Ku++]<<qm,qm+=8),z1=Pv[r1&G1];r:for(;;){if(c1=z1>>>24,r1>>>=c1,qm-=c1,c1=z1>>>16&255,c1&16){if(Gv=z1&65535,c1&=15,qm<c1&&(r1+=fv[Ku++]<<qm,qm+=8,qm<c1&&(r1+=fv[Ku++]<<qm,qm+=8)),Gv+=r1&(1<<c1)-1,Gv>om){Zl.msg="invalid distance too far back",H1.mode=j2;break e}if(r1>>>=c1,qm-=c1,c1=x0-F0,Gv>c1){if(c1=Gv-c1,c1>X0&&H1.sane){Zl.msg="invalid distance too far back",H1.mode=j2;break e}if(iv=0,Y1=lv,dm===0){if(iv+=v1-c1,c1<I1){I1-=c1;do E1[x0++]=lv[iv++];while(--c1);iv=x0-Gv,Y1=E1}}else if(dm<c1){if(iv+=v1+dm-c1,c1-=dm,c1<I1){I1-=c1;do E1[x0++]=lv[iv++];while(--c1);if(iv=0,dm<I1){c1=dm,I1-=c1;do E1[x0++]=lv[iv++];while(--c1);iv=x0-Gv,Y1=E1}}}else if(iv+=dm-c1,c1<I1){I1-=c1;do E1[x0++]=lv[iv++];while(--c1);iv=x0-Gv,Y1=E1}for(;I1>2;)E1[x0++]=Y1[iv++],E1[x0++]=Y1[iv++],E1[x0++]=Y1[iv++],I1-=3;I1&&(E1[x0++]=Y1[iv++],I1>1&&(E1[x0++]=Y1[iv++]))}else{iv=x0-Gv;do E1[x0++]=E1[iv++],E1[x0++]=E1[iv++],E1[x0++]=E1[iv++],I1-=3;while(I1>2);I1&&(E1[x0++]=E1[iv++],I1>1&&(E1[x0++]=E1[iv++]))}}else if(c1&64){Zl.msg="invalid distance code",H1.mode=j2;break e}else{z1=Pv[(z1&65535)+(r1&(1<<c1)-1)];continue r}break}}else if(c1&64)if(c1&32){H1.mode=fx;break e}else{Zl.msg="invalid literal/length code",H1.mode=j2;break e}else{z1=xv[(z1&65535)+(r1&(1<<c1)-1)];continue t}break}}while(Ku<l0&&x0<fm);I1=qm>>3,Ku-=I1,qm-=I1<<3,r1&=(1<<qm)-1,Zl.next_in=Ku,Zl.next_out=x0,Zl.avail_in=Ku<l0?5+(l0-Ku):5-(Ku-l0),Zl.avail_out=x0<fm?257+(fm-x0):257-(x0-fm),H1.hold=r1,H1.bits=qm};const By=15,V2=852,w3=592,mx=0,C3=1,vx=2,Rw=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Fw=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Pw=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Dw=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var A2=(Zl,Np,Ku,l0,x0,F0,fm,om)=>{const v1=om.bits;let X0=0,dm=0,lv=0,r1=0,qm=0,xv=0,Pv=0,J1=0,G1=0,z1=0,c1,I1,Gv,iv,Y1,fv=null,E1;const H1=new Uint16Array(By+1),ny=new Uint16Array(By+1);let Ay=null,Jx,P2,e3;for(X0=0;X0<=By;X0++)H1[X0]=0;for(dm=0;dm<l0;dm++)H1[Np[Ku+dm]]++;for(qm=v1,r1=By;r1>=1&&H1[r1]===0;r1--);if(qm>r1&&(qm=r1),r1===0)return x0[F0++]=1<<24|64<<16|0,x0[F0++]=1<<24|64<<16|0,om.bits=1,0;for(lv=1;lv<r1&&H1[lv]===0;lv++);for(qm<lv&&(qm=lv),J1=1,X0=1;X0<=By;X0++)if(J1<<=1,J1-=H1[X0],J1<0)return-1;if(J1>0&&(Zl===mx||r1!==1))return-1;for(ny[1]=0,X0=1;X0<By;X0++)ny[X0+1]=ny[X0]+H1[X0];for(dm=0;dm<l0;dm++)Np[Ku+dm]!==0&&(fm[ny[Np[Ku+dm]]++]=dm);if(Zl===mx?(fv=Ay=fm,E1=20):Zl===C3?(fv=Rw,Ay=Fw,E1=257):(fv=Pw,Ay=Dw,E1=0),z1=0,dm=0,X0=lv,Y1=F0,xv=qm,Pv=0,Gv=-1,G1=1<<qm,iv=G1-1,Zl===C3&&G1>V2||Zl===vx&&G1>w3)return 1;for(;;){Jx=X0-Pv,fm[dm]+1<E1?(P2=0,e3=fm[dm]):fm[dm]>=E1?(P2=Ay[fm[dm]-E1],e3=fv[fm[dm]-E1]):(P2=96,e3=0),c1=1<<X0-Pv,I1=1<<xv,lv=I1;do I1-=c1,x0[Y1+(z1>>Pv)+I1]=Jx<<24|P2<<16|e3|0;while(I1!==0);for(c1=1<<X0-1;z1&c1;)c1>>=1;if(c1!==0?(z1&=c1-1,z1+=c1):z1=0,dm++,--H1[X0]===0){if(X0===r1)break;X0=Np[Ku+fm[dm]]}if(X0>qm&&(z1&iv)!==Gv){for(Pv===0&&(Pv=qm),Y1+=lv,xv=X0-Pv,J1=1<<xv;xv+Pv<r1&&(J1-=H1[xv+Pv],!(J1<=0));)xv++,J1<<=1;if(G1+=1<<xv,Zl===C3&&G1>V2||Zl===vx&&G1>w3)return 1;Gv=z1&iv,x0[Gv]=qm<<24|xv<<16|Y1-F0|0}}return z1!==0&&(x0[Y1+z1]=X0-Pv<<24|64<<16|0),om.bits=qm,0};const Lw=0,S3=1,yx=2,{Z_FINISH:bx,Z_BLOCK:xx,Z_TREES:o2,Z_OK:wy,Z_STREAM_END:_3,Z_NEED_DICT:Ow,Z_STREAM_ERROR:ey,Z_DATA_ERROR:E3,Z_MEM_ERROR:wx,Z_BUF_ERROR:Iw,Z_DEFLATED:T2}=pp,Ky=16180,Cx=16181,k3=16182,Sx=16183,_x=16184,Ex=16185,M3=16186,a2=16187,W2=16188,U2=16189,R2=16190,Gy=16191,A3=16192,T3=16193,R3=16194,kx=16195,F3=16196,P3=16197,Mx=16198,q2=16199,Y2=16200,Ax=16201,Tx=16202,Rx=16203,Fx=16204,D3=16205,L3=16206,Px=16207,O3=16208,_v=16209,I3=16210,z3=16211,Dx=852,zw=592,Lx=15,Ox=Zl=>(Zl>>>24&255)+(Zl>>>8&65280)+((Zl&65280)<<8)+((Zl&255)<<24);function Nw(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const s2=Zl=>{if(!Zl)return 1;const Np=Zl.state;return!Np||Np.strm!==Zl||Np.mode<Ky||Np.mode>z3?1:0},Ix=Zl=>{if(s2(Zl))return ey;const Np=Zl.state;return Zl.total_in=Zl.total_out=Np.total=0,Zl.msg="",Np.wrap&&(Zl.adler=Np.wrap&1),Np.mode=Ky,Np.last=0,Np.havedict=0,Np.flags=-1,Np.dmax=32768,Np.head=null,Np.hold=0,Np.bits=0,Np.lencode=Np.lendyn=new Int32Array(Dx),Np.distcode=Np.distdyn=new Int32Array(zw),Np.sane=1,Np.back=-1,wy},N3=Zl=>{if(s2(Zl))return ey;const Np=Zl.state;return Np.wsize=0,Np.whave=0,Np.wnext=0,Ix(Zl)},zx=(Zl,Np)=>{let Ku;if(s2(Zl))return ey;const l0=Zl.state;return Np<0?(Ku=0,Np=-Np):(Ku=(Np>>4)+5,Np<48&&(Np&=15)),Np&&(Np<8||Np>15)?ey:(l0.window!==null&&l0.wbits!==Np&&(l0.window=null),l0.wrap=Ku,l0.wbits=Np,N3(Zl))},B3=(Zl,Np)=>{if(!Zl)return ey;const Ku=new Nw;Zl.state=Ku,Ku.strm=Zl,Ku.window=null,Ku.mode=Ky;const l0=zx(Zl,Np);return l0!==wy&&(Zl.state=null),l0},Bw=Zl=>B3(Zl,Lx);let Nx=!0,G3,$3;const Gw=Zl=>{if(Nx){G3=new Int32Array(512),$3=new Int32Array(32);let Np=0;for(;Np<144;)Zl.lens[Np++]=8;for(;Np<256;)Zl.lens[Np++]=9;for(;Np<280;)Zl.lens[Np++]=7;for(;Np<288;)Zl.lens[Np++]=8;for(A2(S3,Zl.lens,0,288,G3,0,Zl.work,{bits:9}),Np=0;Np<32;)Zl.lens[Np++]=5;A2(yx,Zl.lens,0,32,$3,0,Zl.work,{bits:5}),Nx=!1}Zl.lencode=G3,Zl.lenbits=9,Zl.distcode=$3,Zl.distbits=5},Bx=(Zl,Np,Ku,l0)=>{let x0;const F0=Zl.state;return F0.window===null&&(F0.wsize=1<<F0.wbits,F0.wnext=0,F0.whave=0,F0.window=new Uint8Array(F0.wsize)),l0>=F0.wsize?(F0.window.set(Np.subarray(Ku-F0.wsize,Ku),0),F0.wnext=0,F0.whave=F0.wsize):(x0=F0.wsize-F0.wnext,x0>l0&&(x0=l0),F0.window.set(Np.subarray(Ku-l0,Ku-l0+x0),F0.wnext),l0-=x0,l0?(F0.window.set(Np.subarray(Ku-l0,Ku),0),F0.wnext=l0,F0.whave=F0.wsize):(F0.wnext+=x0,F0.wnext===F0.wsize&&(F0.wnext=0),F0.whave<F0.wsize&&(F0.whave+=x0))),0},$w=(Zl,Np)=>{let Ku,l0,x0,F0,fm,om,v1,X0,dm,lv,r1,qm,xv,Pv,J1=0,G1,z1,c1,I1,Gv,iv,Y1,fv;const E1=new Uint8Array(4);let H1,ny;const Ay=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(s2(Zl)||!Zl.output||!Zl.input&&Zl.avail_in!==0)return ey;Ku=Zl.state,Ku.mode===Gy&&(Ku.mode=A3),fm=Zl.next_out,x0=Zl.output,v1=Zl.avail_out,F0=Zl.next_in,l0=Zl.input,om=Zl.avail_in,X0=Ku.hold,dm=Ku.bits,lv=om,r1=v1,fv=wy;e:for(;;)switch(Ku.mode){case Ky:if(Ku.wrap===0){Ku.mode=A3;break}for(;dm<16;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(Ku.wrap&2&&X0===35615){Ku.wbits===0&&(Ku.wbits=15),Ku.check=0,E1[0]=X0&255,E1[1]=X0>>>8&255,Ku.check=xm(Ku.check,E1,2,0),X0=0,dm=0,Ku.mode=Cx;break}if(Ku.head&&(Ku.head.done=!1),!(Ku.wrap&1)||(((X0&255)<<8)+(X0>>8))%31){Zl.msg="incorrect header check",Ku.mode=_v;break}if((X0&15)!==T2){Zl.msg="unknown compression method",Ku.mode=_v;break}if(X0>>>=4,dm-=4,Y1=(X0&15)+8,Ku.wbits===0&&(Ku.wbits=Y1),Y1>15||Y1>Ku.wbits){Zl.msg="invalid window size",Ku.mode=_v;break}Ku.dmax=1<<Ku.wbits,Ku.flags=0,Zl.adler=Ku.check=1,Ku.mode=X0&512?U2:Gy,X0=0,dm=0;break;case Cx:for(;dm<16;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(Ku.flags=X0,(Ku.flags&255)!==T2){Zl.msg="unknown compression method",Ku.mode=_v;break}if(Ku.flags&57344){Zl.msg="unknown header flags set",Ku.mode=_v;break}Ku.head&&(Ku.head.text=X0>>8&1),Ku.flags&512&&Ku.wrap&4&&(E1[0]=X0&255,E1[1]=X0>>>8&255,Ku.check=xm(Ku.check,E1,2,0)),X0=0,dm=0,Ku.mode=k3;case k3:for(;dm<32;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}Ku.head&&(Ku.head.time=X0),Ku.flags&512&&Ku.wrap&4&&(E1[0]=X0&255,E1[1]=X0>>>8&255,E1[2]=X0>>>16&255,E1[3]=X0>>>24&255,Ku.check=xm(Ku.check,E1,4,0)),X0=0,dm=0,Ku.mode=Sx;case Sx:for(;dm<16;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}Ku.head&&(Ku.head.xflags=X0&255,Ku.head.os=X0>>8),Ku.flags&512&&Ku.wrap&4&&(E1[0]=X0&255,E1[1]=X0>>>8&255,Ku.check=xm(Ku.check,E1,2,0)),X0=0,dm=0,Ku.mode=_x;case _x:if(Ku.flags&1024){for(;dm<16;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}Ku.length=X0,Ku.head&&(Ku.head.extra_len=X0),Ku.flags&512&&Ku.wrap&4&&(E1[0]=X0&255,E1[1]=X0>>>8&255,Ku.check=xm(Ku.check,E1,2,0)),X0=0,dm=0}else Ku.head&&(Ku.head.extra=null);Ku.mode=Ex;case Ex:if(Ku.flags&1024&&(qm=Ku.length,qm>om&&(qm=om),qm&&(Ku.head&&(Y1=Ku.head.extra_len-Ku.length,Ku.head.extra||(Ku.head.extra=new Uint8Array(Ku.head.extra_len)),Ku.head.extra.set(l0.subarray(F0,F0+qm),Y1)),Ku.flags&512&&Ku.wrap&4&&(Ku.check=xm(Ku.check,l0,qm,F0)),om-=qm,F0+=qm,Ku.length-=qm),Ku.length))break e;Ku.length=0,Ku.mode=M3;case M3:if(Ku.flags&2048){if(om===0)break e;qm=0;do Y1=l0[F0+qm++],Ku.head&&Y1&&Ku.length<65536&&(Ku.head.name+=String.fromCharCode(Y1));while(Y1&&qm<om);if(Ku.flags&512&&Ku.wrap&4&&(Ku.check=xm(Ku.check,l0,qm,F0)),om-=qm,F0+=qm,Y1)break e}else Ku.head&&(Ku.head.name=null);Ku.length=0,Ku.mode=a2;case a2:if(Ku.flags&4096){if(om===0)break e;qm=0;do Y1=l0[F0+qm++],Ku.head&&Y1&&Ku.length<65536&&(Ku.head.comment+=String.fromCharCode(Y1));while(Y1&&qm<om);if(Ku.flags&512&&Ku.wrap&4&&(Ku.check=xm(Ku.check,l0,qm,F0)),om-=qm,F0+=qm,Y1)break e}else Ku.head&&(Ku.head.comment=null);Ku.mode=W2;case W2:if(Ku.flags&512){for(;dm<16;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(Ku.wrap&4&&X0!==(Ku.check&65535)){Zl.msg="header crc mismatch",Ku.mode=_v;break}X0=0,dm=0}Ku.head&&(Ku.head.hcrc=Ku.flags>>9&1,Ku.head.done=!0),Zl.adler=Ku.check=0,Ku.mode=Gy;break;case U2:for(;dm<32;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}Zl.adler=Ku.check=Ox(X0),X0=0,dm=0,Ku.mode=R2;case R2:if(Ku.havedict===0)return Zl.next_out=fm,Zl.avail_out=v1,Zl.next_in=F0,Zl.avail_in=om,Ku.hold=X0,Ku.bits=dm,Ow;Zl.adler=Ku.check=1,Ku.mode=Gy;case Gy:if(Np===xx||Np===o2)break e;case A3:if(Ku.last){X0>>>=dm&7,dm-=dm&7,Ku.mode=L3;break}for(;dm<3;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}switch(Ku.last=X0&1,X0>>>=1,dm-=1,X0&3){case 0:Ku.mode=T3;break;case 1:if(Gw(Ku),Ku.mode=q2,Np===o2){X0>>>=2,dm-=2;break e}break;case 2:Ku.mode=F3;break;case 3:Zl.msg="invalid block type",Ku.mode=_v}X0>>>=2,dm-=2;break;case T3:for(X0>>>=dm&7,dm-=dm&7;dm<32;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if((X0&65535)!==(X0>>>16^65535)){Zl.msg="invalid stored block lengths",Ku.mode=_v;break}if(Ku.length=X0&65535,X0=0,dm=0,Ku.mode=R3,Np===o2)break e;case R3:Ku.mode=kx;case kx:if(qm=Ku.length,qm){if(qm>om&&(qm=om),qm>v1&&(qm=v1),qm===0)break e;x0.set(l0.subarray(F0,F0+qm),fm),om-=qm,F0+=qm,v1-=qm,fm+=qm,Ku.length-=qm;break}Ku.mode=Gy;break;case F3:for(;dm<14;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(Ku.nlen=(X0&31)+257,X0>>>=5,dm-=5,Ku.ndist=(X0&31)+1,X0>>>=5,dm-=5,Ku.ncode=(X0&15)+4,X0>>>=4,dm-=4,Ku.nlen>286||Ku.ndist>30){Zl.msg="too many length or distance symbols",Ku.mode=_v;break}Ku.have=0,Ku.mode=P3;case P3:for(;Ku.have<Ku.ncode;){for(;dm<3;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}Ku.lens[Ay[Ku.have++]]=X0&7,X0>>>=3,dm-=3}for(;Ku.have<19;)Ku.lens[Ay[Ku.have++]]=0;if(Ku.lencode=Ku.lendyn,Ku.lenbits=7,H1={bits:Ku.lenbits},fv=A2(Lw,Ku.lens,0,19,Ku.lencode,0,Ku.work,H1),Ku.lenbits=H1.bits,fv){Zl.msg="invalid code lengths set",Ku.mode=_v;break}Ku.have=0,Ku.mode=Mx;case Mx:for(;Ku.have<Ku.nlen+Ku.ndist;){for(;J1=Ku.lencode[X0&(1<<Ku.lenbits)-1],G1=J1>>>24,z1=J1>>>16&255,c1=J1&65535,!(G1<=dm);){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(c1<16)X0>>>=G1,dm-=G1,Ku.lens[Ku.have++]=c1;else{if(c1===16){for(ny=G1+2;dm<ny;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(X0>>>=G1,dm-=G1,Ku.have===0){Zl.msg="invalid bit length repeat",Ku.mode=_v;break}Y1=Ku.lens[Ku.have-1],qm=3+(X0&3),X0>>>=2,dm-=2}else if(c1===17){for(ny=G1+3;dm<ny;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}X0>>>=G1,dm-=G1,Y1=0,qm=3+(X0&7),X0>>>=3,dm-=3}else{for(ny=G1+7;dm<ny;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}X0>>>=G1,dm-=G1,Y1=0,qm=11+(X0&127),X0>>>=7,dm-=7}if(Ku.have+qm>Ku.nlen+Ku.ndist){Zl.msg="invalid bit length repeat",Ku.mode=_v;break}for(;qm--;)Ku.lens[Ku.have++]=Y1}}if(Ku.mode===_v)break;if(Ku.lens[256]===0){Zl.msg="invalid code -- missing end-of-block",Ku.mode=_v;break}if(Ku.lenbits=9,H1={bits:Ku.lenbits},fv=A2(S3,Ku.lens,0,Ku.nlen,Ku.lencode,0,Ku.work,H1),Ku.lenbits=H1.bits,fv){Zl.msg="invalid literal/lengths set",Ku.mode=_v;break}if(Ku.distbits=6,Ku.distcode=Ku.distdyn,H1={bits:Ku.distbits},fv=A2(yx,Ku.lens,Ku.nlen,Ku.ndist,Ku.distcode,0,Ku.work,H1),Ku.distbits=H1.bits,fv){Zl.msg="invalid distances set",Ku.mode=_v;break}if(Ku.mode=q2,Np===o2)break e;case q2:Ku.mode=Y2;case Y2:if(om>=6&&v1>=258){Zl.next_out=fm,Zl.avail_out=v1,Zl.next_in=F0,Zl.avail_in=om,Ku.hold=X0,Ku.bits=dm,gx(Zl,r1),fm=Zl.next_out,x0=Zl.output,v1=Zl.avail_out,F0=Zl.next_in,l0=Zl.input,om=Zl.avail_in,X0=Ku.hold,dm=Ku.bits,Ku.mode===Gy&&(Ku.back=-1);break}for(Ku.back=0;J1=Ku.lencode[X0&(1<<Ku.lenbits)-1],G1=J1>>>24,z1=J1>>>16&255,c1=J1&65535,!(G1<=dm);){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(z1&&!(z1&240)){for(I1=G1,Gv=z1,iv=c1;J1=Ku.lencode[iv+((X0&(1<<I1+Gv)-1)>>I1)],G1=J1>>>24,z1=J1>>>16&255,c1=J1&65535,!(I1+G1<=dm);){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}X0>>>=I1,dm-=I1,Ku.back+=I1}if(X0>>>=G1,dm-=G1,Ku.back+=G1,Ku.length=c1,z1===0){Ku.mode=D3;break}if(z1&32){Ku.back=-1,Ku.mode=Gy;break}if(z1&64){Zl.msg="invalid literal/length code",Ku.mode=_v;break}Ku.extra=z1&15,Ku.mode=Ax;case Ax:if(Ku.extra){for(ny=Ku.extra;dm<ny;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}Ku.length+=X0&(1<<Ku.extra)-1,X0>>>=Ku.extra,dm-=Ku.extra,Ku.back+=Ku.extra}Ku.was=Ku.length,Ku.mode=Tx;case Tx:for(;J1=Ku.distcode[X0&(1<<Ku.distbits)-1],G1=J1>>>24,z1=J1>>>16&255,c1=J1&65535,!(G1<=dm);){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(!(z1&240)){for(I1=G1,Gv=z1,iv=c1;J1=Ku.distcode[iv+((X0&(1<<I1+Gv)-1)>>I1)],G1=J1>>>24,z1=J1>>>16&255,c1=J1&65535,!(I1+G1<=dm);){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}X0>>>=I1,dm-=I1,Ku.back+=I1}if(X0>>>=G1,dm-=G1,Ku.back+=G1,z1&64){Zl.msg="invalid distance code",Ku.mode=_v;break}Ku.offset=c1,Ku.extra=z1&15,Ku.mode=Rx;case Rx:if(Ku.extra){for(ny=Ku.extra;dm<ny;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}Ku.offset+=X0&(1<<Ku.extra)-1,X0>>>=Ku.extra,dm-=Ku.extra,Ku.back+=Ku.extra}if(Ku.offset>Ku.dmax){Zl.msg="invalid distance too far back",Ku.mode=_v;break}Ku.mode=Fx;case Fx:if(v1===0)break e;if(qm=r1-v1,Ku.offset>qm){if(qm=Ku.offset-qm,qm>Ku.whave&&Ku.sane){Zl.msg="invalid distance too far back",Ku.mode=_v;break}qm>Ku.wnext?(qm-=Ku.wnext,xv=Ku.wsize-qm):xv=Ku.wnext-qm,qm>Ku.length&&(qm=Ku.length),Pv=Ku.window}else Pv=x0,xv=fm-Ku.offset,qm=Ku.length;qm>v1&&(qm=v1),v1-=qm,Ku.length-=qm;do x0[fm++]=Pv[xv++];while(--qm);Ku.length===0&&(Ku.mode=Y2);break;case D3:if(v1===0)break e;x0[fm++]=Ku.length,v1--,Ku.mode=Y2;break;case L3:if(Ku.wrap){for(;dm<32;){if(om===0)break e;om--,X0|=l0[F0++]<<dm,dm+=8}if(r1-=v1,Zl.total_out+=r1,Ku.total+=r1,Ku.wrap&4&&r1&&(Zl.adler=Ku.check=Ku.flags?xm(Ku.check,x0,r1,fm-r1):z0(Ku.check,x0,r1,fm-r1)),r1=v1,Ku.wrap&4&&(Ku.flags?X0:Ox(X0))!==Ku.check){Zl.msg="incorrect data check",Ku.mode=_v;break}X0=0,dm=0}Ku.mode=Px;case Px:if(Ku.wrap&&Ku.flags){for(;dm<32;){if(om===0)break e;om--,X0+=l0[F0++]<<dm,dm+=8}if(Ku.wrap&4&&X0!==(Ku.total&4294967295)){Zl.msg="incorrect length check",Ku.mode=_v;break}X0=0,dm=0}Ku.mode=O3;case O3:fv=_3;break e;case _v:fv=E3;break e;case I3:return wx;case z3:default:return ey}return Zl.next_out=fm,Zl.avail_out=v1,Zl.next_in=F0,Zl.avail_in=om,Ku.hold=X0,Ku.bits=dm,(Ku.wsize||r1!==Zl.avail_out&&Ku.mode<_v&&(Ku.mode<L3||Np!==bx))&&Bx(Zl,Zl.output,Zl.next_out,r1-Zl.avail_out),lv-=Zl.avail_in,r1-=Zl.avail_out,Zl.total_in+=lv,Zl.total_out+=r1,Ku.total+=r1,Ku.wrap&4&&r1&&(Zl.adler=Ku.check=Ku.flags?xm(Ku.check,x0,r1,Zl.next_out-r1):z0(Ku.check,x0,r1,Zl.next_out-r1)),Zl.data_type=Ku.bits+(Ku.last?64:0)+(Ku.mode===Gy?128:0)+(Ku.mode===q2||Ku.mode===R3?256:0),(lv===0&&r1===0||Np===bx)&&fv===wy&&(fv=Iw),fv},Gx=Zl=>{if(s2(Zl))return ey;let Np=Zl.state;return Np.window&&(Np.window=null),Zl.state=null,wy},$x=(Zl,Np)=>{if(s2(Zl))return ey;const Ku=Zl.state;return Ku.wrap&2?(Ku.head=Np,Np.done=!1,wy):ey},Hw=(Zl,Np)=>{const Ku=Np.length;let l0,x0,F0;return s2(Zl)||(l0=Zl.state,l0.wrap!==0&&l0.mode!==R2)?ey:l0.mode===R2&&(x0=1,x0=z0(x0,Np,Ku,0),x0!==l0.check)?E3:(F0=Bx(Zl,Np,Ku,Ku),F0?(l0.mode=I3,wx):(l0.havedict=1,wy))};var jw=N3,H3=zx,Vw=Ix,Ww=Bw,j3=B3,Uw=$w,Hx=Gx,qw=$x,Yw=Hw,Kw="pako inflate (from Nodeca project)",$y={inflateReset:jw,inflateReset2:H3,inflateResetKeep:Vw,inflateInit:Ww,inflateInit2:j3,inflate:Uw,inflateEnd:Hx,inflateGetHeader:qw,inflateSetDictionary:Yw,inflateInfo:Kw};function V3(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Zw=V3;const jx=Object.prototype.toString,{Z_NO_FLUSH:Xw,Z_FINISH:Qw,Z_OK:F2,Z_STREAM_END:K2,Z_NEED_DICT:W3,Z_STREAM_ERROR:Jw,Z_DATA_ERROR:Vx,Z_MEM_ERROR:eC}=pp;function g2(Zl){this.options=E2.assign({chunkSize:65536,windowBits:15,to:""},Zl||{});const Np=this.options;Np.raw&&Np.windowBits>=0&&Np.windowBits<16&&(Np.windowBits=-Np.windowBits,Np.windowBits===0&&(Np.windowBits=-15)),Np.windowBits>=0&&Np.windowBits<16&&!(Zl&&Zl.windowBits)&&(Np.windowBits+=32),Np.windowBits>15&&Np.windowBits<48&&(Np.windowBits&15||(Np.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new cx,this.strm.avail_out=0;let Ku=$y.inflateInit2(this.strm,Np.windowBits);if(Ku!==F2)throw new Error($m[Ku]);if(this.header=new Zw,$y.inflateGetHeader(this.strm,this.header),Np.dictionary&&(typeof Np.dictionary=="string"?Np.dictionary=k2.string2buf(Np.dictionary):jx.call(Np.dictionary)==="[object ArrayBuffer]"&&(Np.dictionary=new Uint8Array(Np.dictionary)),Np.raw&&(Ku=$y.inflateSetDictionary(this.strm,Np.dictionary),Ku!==F2)))throw new Error($m[Ku])}g2.prototype.push=function(Zl,Np){const Ku=this.strm,l0=this.options.chunkSize,x0=this.options.dictionary;let F0,fm,om;if(this.ended)return!1;for(Np===~~Np?fm=Np:fm=Np===!0?Qw:Xw,jx.call(Zl)==="[object ArrayBuffer]"?Ku.input=new Uint8Array(Zl):Ku.input=Zl,Ku.next_in=0,Ku.avail_in=Ku.input.length;;){for(Ku.avail_out===0&&(Ku.output=new Uint8Array(l0),Ku.next_out=0,Ku.avail_out=l0),F0=$y.inflate(Ku,fm),F0===W3&&x0&&(F0=$y.inflateSetDictionary(Ku,x0),F0===F2?F0=$y.inflate(Ku,fm):F0===Vx&&(F0=W3));Ku.avail_in>0&&F0===K2&&Ku.state.wrap>0&&Zl[Ku.next_in]!==0;)$y.inflateReset(Ku),F0=$y.inflate(Ku,fm);switch(F0){case Jw:case Vx:case W3:case eC:return this.onEnd(F0),this.ended=!0,!1}if(om=Ku.avail_out,Ku.next_out&&(Ku.avail_out===0||F0===K2))if(this.options.to==="string"){let v1=k2.utf8border(Ku.output,Ku.next_out),X0=Ku.next_out-v1,dm=k2.buf2string(Ku.output,v1);Ku.next_out=X0,Ku.avail_out=l0-X0,X0&&Ku.output.set(Ku.output.subarray(v1,v1+X0),0),this.onData(dm)}else this.onData(Ku.output.length===Ku.next_out?Ku.output:Ku.output.subarray(0,Ku.next_out));if(!(F0===F2&&om===0)){if(F0===K2)return F0=$y.inflateEnd(this.strm),this.onEnd(F0),this.ended=!0,!0;if(Ku.avail_in===0)break}}return!0},g2.prototype.onData=function(Zl){this.chunks.push(Zl)},g2.prototype.onEnd=function(Zl){Zl===F2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E2.flattenChunks(this.chunks)),this.chunks=[],this.err=Zl,this.msg=this.strm.msg};function U3(Zl,Np){const Ku=new g2(Np);if(Ku.push(Zl),Ku.err)throw Ku.msg||$m[Ku.err];return Ku.result}function tC(Zl,Np){return Np=Np||{},Np.raw=!0,U3(Zl,Np)}var rC=g2,nC=U3,q3=tC,Wx=U3,iC={Inflate:rC,inflate:nC,inflateRaw:q3,ungzip:Wx};const{Deflate:oC,deflate:aC,deflateRaw:sC,gzip:Z2}=Tw,{Inflate:Ux,inflate:lC,inflateRaw:cC,ungzip:uC}=iC;var X2=oC,Y3=aC,Q2=sC,qx=Z2,Yx=Ux,Kx=lC,Zx=cC,Xx=uC,J2=pp,Qx={Deflate:X2,deflate:Y3,deflateRaw:Q2,gzip:qx,Inflate:Yx,inflate:Kx,inflateRaw:Zx,ungzip:Xx,constants:J2}},"./node_modules/upng-js/UPNG.js":(e,o,a)=>{(function(){var c={},d;e.exports=c,d=a("./node_modules/upng-js/node_modules/pako/index.js"),function(g,b){g.toRGBA8=function(_){var $=_.width,j=_.height;if(_.tabs.acTL==null)return[g.toRGBA8.decodeImage(_.data,$,j,_).buffer];var rt=[];_.frames[0].data==null&&(_.frames[0].data=_.data);for(var nt,st=new Uint8Array($*j*4),jt=0;jt<_.frames.length;jt++){var wl=_.frames[jt],Ft=wl.rect.x,it=wl.rect.y,ot=wl.rect.width,Ln=wl.rect.height,Cl=g.toRGBA8.decodeImage(wl.data,ot,Ln,_);if(jt==0?nt=Cl:wl.blend==0?g._copyTile(Cl,ot,Ln,nt,$,j,Ft,it,0):wl.blend==1&&g._copyTile(Cl,ot,Ln,nt,$,j,Ft,it,1),rt.push(nt.buffer),nt=nt.slice(0),wl.dispose!=0){if(wl.dispose==1)g._copyTile(st,ot,Ln,nt,$,j,Ft,it,0);else if(wl.dispose==2){for(var Tl=jt-1;_.frames[Tl].dispose==2;)Tl--;nt=new Uint8Array(rt[Tl]).slice(0)}}}return rt},g.toRGBA8.decodeImage=function(_,$,j,rt){var nt=$*j,st=g.decode._getBPP(rt),jt=Math.ceil($*st/8),wl=new Uint8Array(nt*4),Ft=new Uint32Array(wl.buffer),it=rt.ctype,ot=rt.depth,Ln=g._bin.readUshort;if(it==6){var Cl=nt<<2;if(ot==8)for(var Tl=0;Tl<Cl;Tl++)wl[Tl]=_[Tl];if(ot==16)for(var Tl=0;Tl<Cl;Tl++)wl[Tl]=_[Tl<<1]}else if(it==2){var zl=rt.tabs.tRNS,In=-1,Ml=-1,Dl=-1;if(zl&&(In=zl[0],Ml=zl[1],Dl=zl[2]),ot==8)for(var Tl=0;Tl<nt;Tl++){var Ul=Tl<<2,Vl=Tl*3;wl[Ul]=_[Vl],wl[Ul+1]=_[Vl+1],wl[Ul+2]=_[Vl+2],wl[Ul+3]=255,In!=-1&&_[Vl]==In&&_[Vl+1]==Ml&&_[Vl+2]==Dl&&(wl[Ul+3]=0)}if(ot==16)for(var Tl=0;Tl<nt;Tl++){var Ul=Tl<<2,Vl=Tl*6;wl[Ul]=_[Vl],wl[Ul+1]=_[Vl+2],wl[Ul+2]=_[Vl+4],wl[Ul+3]=255,In!=-1&&Ln(_,Vl)==In&&Ln(_,Vl+2)==Ml&&Ln(_,Vl+4)==Dl&&(wl[Ul+3]=0)}}else if(it==3){var mu=rt.tabs.PLTE,rp=rt.tabs.tRNS,Ju=rp?rp.length:0;if(ot==1)for(var cp=0;cp<j;cp++)for(var hp=cp*jt,yp=cp*$,Tl=0;Tl<$;Tl++){var Ul=yp+Tl<<2,xp=_[hp+(Tl>>3)]>>7-((Tl&7)<<0)&1,fp=3*xp;wl[Ul]=mu[fp],wl[Ul+1]=mu[fp+1],wl[Ul+2]=mu[fp+2],wl[Ul+3]=xp<Ju?rp[xp]:255}if(ot==2)for(var cp=0;cp<j;cp++)for(var hp=cp*jt,yp=cp*$,Tl=0;Tl<$;Tl++){var Ul=yp+Tl<<2,xp=_[hp+(Tl>>2)]>>6-((Tl&3)<<1)&3,fp=3*xp;wl[Ul]=mu[fp],wl[Ul+1]=mu[fp+1],wl[Ul+2]=mu[fp+2],wl[Ul+3]=xp<Ju?rp[xp]:255}if(ot==4)for(var cp=0;cp<j;cp++)for(var hp=cp*jt,yp=cp*$,Tl=0;Tl<$;Tl++){var Ul=yp+Tl<<2,xp=_[hp+(Tl>>1)]>>4-((Tl&1)<<2)&15,fp=3*xp;wl[Ul]=mu[fp],wl[Ul+1]=mu[fp+1],wl[Ul+2]=mu[fp+2],wl[Ul+3]=xp<Ju?rp[xp]:255}if(ot==8)for(var Tl=0;Tl<nt;Tl++){var Ul=Tl<<2,xp=_[Tl],fp=3*xp;wl[Ul]=mu[fp],wl[Ul+1]=mu[fp+1],wl[Ul+2]=mu[fp+2],wl[Ul+3]=xp<Ju?rp[xp]:255}}else if(it==4){if(ot==8)for(var Tl=0;Tl<nt;Tl++){var Ul=Tl<<2,_p=Tl<<1,ip=_[_p];wl[Ul]=ip,wl[Ul+1]=ip,wl[Ul+2]=ip,wl[Ul+3]=_[_p+1]}if(ot==16)for(var Tl=0;Tl<nt;Tl++){var Ul=Tl<<2,_p=Tl<<2,ip=_[_p];wl[Ul]=ip,wl[Ul+1]=ip,wl[Ul+2]=ip,wl[Ul+3]=_[_p+2]}}else if(it==0){var In=rt.tabs.tRNS?rt.tabs.tRNS:-1;if(ot==1)for(var Tl=0;Tl<nt;Tl++){var ip=255*(_[Tl>>3]>>7-(Tl&7)&1),gp=ip==In*255?0:255;Ft[Tl]=gp<<24|ip<<16|ip<<8|ip}if(ot==2)for(var Tl=0;Tl<nt;Tl++){var ip=85*(_[Tl>>2]>>6-((Tl&3)<<1)&3),gp=ip==In*85?0:255;Ft[Tl]=gp<<24|ip<<16|ip<<8|ip}if(ot==4)for(var Tl=0;Tl<nt;Tl++){var ip=17*(_[Tl>>1]>>4-((Tl&1)<<2)&15),gp=ip==In*17?0:255;Ft[Tl]=gp<<24|ip<<16|ip<<8|ip}if(ot==8)for(var Tl=0;Tl<nt;Tl++){var ip=_[Tl],gp=ip==In?0:255;Ft[Tl]=gp<<24|ip<<16|ip<<8|ip}if(ot==16)for(var Tl=0;Tl<nt;Tl++){var ip=_[Tl<<1],gp=Ln(_,Tl<<1)==In?0:255;Ft[Tl]=gp<<24|ip<<16|ip<<8|ip}}return wl},g.decode=function(_){for(var $=new Uint8Array(_),j=8,rt=g._bin,nt=rt.readUshort,st=rt.readUint,jt={tabs:{},frames:[]},wl=new Uint8Array($.length),Ft=0,it,ot=0,Ln=[137,80,78,71,13,10,26,10],Cl=0;Cl<8;Cl++)if($[Cl]!=Ln[Cl])throw"The input is not a PNG file!";for(;j<$.length;){var Tl=rt.readUint($,j);j+=4;var zl=rt.readASCII($,j,4);if(j+=4,zl=="IHDR")g.decode._IHDR($,j,jt);else if(zl=="IDAT"){for(var Cl=0;Cl<Tl;Cl++)wl[Ft+Cl]=$[j+Cl];Ft+=Tl}else if(zl=="acTL")jt.tabs[zl]={num_frames:st($,j),num_plays:st($,j+4)},it=new Uint8Array($.length);else if(zl=="fcTL"){if(ot!=0){var In=jt.frames[jt.frames.length-1];In.data=g.decode._decompress(jt,it.slice(0,ot),In.rect.width,In.rect.height),ot=0}var Ml={x:st($,j+12),y:st($,j+16),width:st($,j+4),height:st($,j+8)},Dl=nt($,j+22);Dl=nt($,j+20)/(Dl==0?100:Dl);var Ul={rect:Ml,delay:Math.round(Dl*1e3),dispose:$[j+24],blend:$[j+25]};jt.frames.push(Ul)}else if(zl=="fdAT"){for(var Cl=0;Cl<Tl-4;Cl++)it[ot+Cl]=$[j+Cl+4];ot+=Tl-4}else if(zl=="pHYs")jt.tabs[zl]=[rt.readUint($,j),rt.readUint($,j+4),$[j+8]];else if(zl=="cHRM"){jt.tabs[zl]=[];for(var Cl=0;Cl<8;Cl++)jt.tabs[zl].push(rt.readUint($,j+Cl*4))}else if(zl=="tEXt"){jt.tabs[zl]==null&&(jt.tabs[zl]={});var Vl=rt.nextZero($,j),mu=rt.readASCII($,j,Vl-j),rp=rt.readASCII($,Vl+1,j+Tl-Vl-1);jt.tabs[zl][mu]=rp}else if(zl=="iTXt"){jt.tabs[zl]==null&&(jt.tabs[zl]={});var Vl=0,Ju=j;Vl=rt.nextZero($,Ju);var mu=rt.readASCII($,Ju,Vl-Ju);Ju=Vl+1,$[Ju],$[Ju+1],Ju+=2,Vl=rt.nextZero($,Ju),rt.readASCII($,Ju,Vl-Ju),Ju=Vl+1,Vl=rt.nextZero($,Ju),rt.readUTF8($,Ju,Vl-Ju),Ju=Vl+1;var rp=rt.readUTF8($,Ju,Tl-(Ju-j));jt.tabs[zl][mu]=rp}else if(zl=="PLTE")jt.tabs[zl]=rt.readBytes($,j,Tl);else if(zl=="hIST"){var cp=jt.tabs.PLTE.length/3;jt.tabs[zl]=[];for(var Cl=0;Cl<cp;Cl++)jt.tabs[zl].push(nt($,j+Cl*2))}else if(zl=="tRNS")jt.ctype==3?jt.tabs[zl]=rt.readBytes($,j,Tl):jt.ctype==0?jt.tabs[zl]=nt($,j):jt.ctype==2&&(jt.tabs[zl]=[nt($,j),nt($,j+2),nt($,j+4)]);else if(zl=="gAMA")jt.tabs[zl]=rt.readUint($,j)/1e5;else if(zl=="sRGB")jt.tabs[zl]=$[j];else if(zl=="bKGD")jt.ctype==0||jt.ctype==4?jt.tabs[zl]=[nt($,j)]:jt.ctype==2||jt.ctype==6?jt.tabs[zl]=[nt($,j),nt($,j+2),nt($,j+4)]:jt.ctype==3&&(jt.tabs[zl]=$[j]);else if(zl=="IEND"){if(ot!=0){var In=jt.frames[jt.frames.length-1];In.data=g.decode._decompress(jt,it.slice(0,ot),In.rect.width,In.rect.height),ot=0}jt.data=g.decode._decompress(jt,wl,jt.width,jt.height);break}j+=Tl,rt.readUint($,j),j+=4}return delete jt.compress,delete jt.interlace,delete jt.filter,jt},g.decode._decompress=function(_,$,j,rt){return _.compress==0&&($=g.decode._inflate($)),_.interlace==0?$=g.decode._filterZero($,_,0,j,rt):_.interlace==1&&($=g.decode._readInterlace($,_)),$},g.decode._inflate=function(_){return b.inflate(_)},g.decode._readInterlace=function(_,$){for(var j=$.width,rt=$.height,nt=g.decode._getBPP($),st=nt>>3,jt=Math.ceil(j*nt/8),wl=new Uint8Array(rt*jt),Ft=0,it=[0,0,4,0,2,0,1],ot=[0,4,0,2,0,1,0],Ln=[8,8,8,4,4,2,2],Cl=[8,8,4,4,2,2,1],Tl=0;Tl<7;){for(var zl=Ln[Tl],In=Cl[Tl],Ml=0,Dl=0,Ul=it[Tl];Ul<rt;)Ul+=zl,Dl++;for(var Vl=ot[Tl];Vl<j;)Vl+=In,Ml++;var mu=Math.ceil(Ml*nt/8);g.decode._filterZero(_,$,Ft,Ml,Dl);for(var rp=0,Ju=it[Tl];Ju<rt;){for(var cp=ot[Tl],hp=Ft+rp*mu<<3;cp<j;){if(nt==1){var yp=_[hp>>3];yp=yp>>7-(hp&7)&1,wl[Ju*jt+(cp>>3)]|=yp<<7-((cp&3)<<0)}if(nt==2){var yp=_[hp>>3];yp=yp>>6-(hp&7)&3,wl[Ju*jt+(cp>>2)]|=yp<<6-((cp&3)<<1)}if(nt==4){var yp=_[hp>>3];yp=yp>>4-(hp&7)&15,wl[Ju*jt+(cp>>1)]|=yp<<4-((cp&1)<<2)}if(nt>=8)for(var xp=Ju*jt+cp*st,fp=0;fp<st;fp++)wl[xp+fp]=_[(hp>>3)+fp];hp+=nt,cp+=In}rp++,Ju+=zl}Ml*Dl!=0&&(Ft+=Dl*(1+mu)),Tl=Tl+1}return wl},g.decode._getBPP=function(_){var $=[1,null,3,1,2,null,4][_.ctype];return $*_.depth},g.decode._filterZero=function(_,$,j,rt,nt){var st=g.decode._getBPP($),jt=Math.ceil(rt*st/8),wl=g.decode._paeth;st=Math.ceil(st/8);for(var Ft=0;Ft<nt;Ft++){var it=j+Ft*jt,ot=it+Ft+1,Ln=_[ot-1];if(Ln==0)for(var Cl=0;Cl<jt;Cl++)_[it+Cl]=_[ot+Cl];else if(Ln==1){for(var Cl=0;Cl<st;Cl++)_[it+Cl]=_[ot+Cl];for(var Cl=st;Cl<jt;Cl++)_[it+Cl]=_[ot+Cl]+_[it+Cl-st]&255}else if(Ft==0){for(var Cl=0;Cl<st;Cl++)_[it+Cl]=_[ot+Cl];if(Ln==2)for(var Cl=st;Cl<jt;Cl++)_[it+Cl]=_[ot+Cl]&255;if(Ln==3)for(var Cl=st;Cl<jt;Cl++)_[it+Cl]=_[ot+Cl]+(_[it+Cl-st]>>1)&255;if(Ln==4)for(var Cl=st;Cl<jt;Cl++)_[it+Cl]=_[ot+Cl]+wl(_[it+Cl-st],0,0)&255}else{if(Ln==2)for(var Cl=0;Cl<jt;Cl++)_[it+Cl]=_[ot+Cl]+_[it+Cl-jt]&255;if(Ln==3){for(var Cl=0;Cl<st;Cl++)_[it+Cl]=_[ot+Cl]+(_[it+Cl-jt]>>1)&255;for(var Cl=st;Cl<jt;Cl++)_[it+Cl]=_[ot+Cl]+(_[it+Cl-jt]+_[it+Cl-st]>>1)&255}if(Ln==4){for(var Cl=0;Cl<st;Cl++)_[it+Cl]=_[ot+Cl]+wl(0,_[it+Cl-jt],0)&255;for(var Cl=st;Cl<jt;Cl++)_[it+Cl]=_[ot+Cl]+wl(_[it+Cl-st],_[it+Cl-jt],_[it+Cl-st-jt])&255}}}return _},g.decode._paeth=function(_,$,j){var rt=_+$-j,nt=Math.abs(rt-_),st=Math.abs(rt-$),jt=Math.abs(rt-j);return nt<=st&&nt<=jt?_:st<=jt?$:j},g.decode._IHDR=function(_,$,j){var rt=g._bin;j.width=rt.readUint(_,$),$+=4,j.height=rt.readUint(_,$),$+=4,j.depth=_[$],$++,j.ctype=_[$],$++,j.compress=_[$],$++,j.filter=_[$],$++,j.interlace=_[$],$++},g._bin={nextZero:function(_,$){for(;_[$]!=0;)$++;return $},readUshort:function(_,$){return _[$]<<8|_[$+1]},writeUshort:function(_,$,j){_[$]=j>>8&255,_[$+1]=j&255},readUint:function(_,$){return _[$]*16777216+(_[$+1]<<16|_[$+2]<<8|_[$+3])},writeUint:function(_,$,j){_[$]=j>>24&255,_[$+1]=j>>16&255,_[$+2]=j>>8&255,_[$+3]=j&255},readASCII:function(_,$,j){for(var rt="",nt=0;nt<j;nt++)rt+=String.fromCharCode(_[$+nt]);return rt},writeASCII:function(_,$,j){for(var rt=0;rt<j.length;rt++)_[$+rt]=j.charCodeAt(rt)},readBytes:function(_,$,j){for(var rt=[],nt=0;nt<j;nt++)rt.push(_[$+nt]);return rt},pad:function(_){return _.length<2?"0"+_:_},readUTF8:function(_,$,j){for(var rt="",nt,st=0;st<j;st++)rt+="%"+g._bin.pad(_[$+st].toString(16));try{nt=decodeURIComponent(rt)}catch{return g._bin.readASCII(_,$,j)}return nt}},g._copyTile=function(_,$,j,rt,nt,st,jt,wl,Ft){for(var it=Math.min($,nt),ot=Math.min(j,st),Ln=0,Cl=0,Tl=0;Tl<ot;Tl++)for(var zl=0;zl<it;zl++)if(jt>=0&&wl>=0?(Ln=Tl*$+zl<<2,Cl=(wl+Tl)*nt+jt+zl<<2):(Ln=(-wl+Tl)*$-jt+zl<<2,Cl=Tl*nt+zl<<2),Ft==0)rt[Cl]=_[Ln],rt[Cl+1]=_[Ln+1],rt[Cl+2]=_[Ln+2],rt[Cl+3]=_[Ln+3];else if(Ft==1){var In=_[Ln+3]*.00392156862745098,Ml=_[Ln]*In,Dl=_[Ln+1]*In,Ul=_[Ln+2]*In,Vl=rt[Cl+3]*(1/255),mu=rt[Cl]*Vl,rp=rt[Cl+1]*Vl,Ju=rt[Cl+2]*Vl,cp=1-In,hp=In+Vl*cp,yp=hp==0?0:1/hp;rt[Cl+3]=255*hp,rt[Cl+0]=(Ml+mu*cp)*yp,rt[Cl+1]=(Dl+rp*cp)*yp,rt[Cl+2]=(Ul+Ju*cp)*yp}else if(Ft==2){var In=_[Ln+3],Ml=_[Ln],Dl=_[Ln+1],Ul=_[Ln+2],Vl=rt[Cl+3],mu=rt[Cl],rp=rt[Cl+1],Ju=rt[Cl+2];In==Vl&&Ml==mu&&Dl==rp&&Ul==Ju?(rt[Cl]=0,rt[Cl+1]=0,rt[Cl+2]=0,rt[Cl+3]=0):(rt[Cl]=Ml,rt[Cl+1]=Dl,rt[Cl+2]=Ul,rt[Cl+3]=In)}else if(Ft==3){var In=_[Ln+3],Ml=_[Ln],Dl=_[Ln+1],Ul=_[Ln+2],Vl=rt[Cl+3],mu=rt[Cl],rp=rt[Cl+1],Ju=rt[Cl+2];if(In==Vl&&Ml==mu&&Dl==rp&&Ul==Ju)continue;if(In<220&&Vl>20)return!1}return!0},g.encode=function(_,$,j,rt,nt,st){rt==null&&(rt=0),st==null&&(st=!1);for(var jt=new Uint8Array(_[0].byteLength*_.length+100),wl=[137,80,78,71,13,10,26,10],Ft=0;Ft<8;Ft++)jt[Ft]=wl[Ft];var it=8,ot=g._bin,Ln=g.crc.crc,Cl=ot.writeUint,Tl=ot.writeUshort,zl=ot.writeASCII,In=g.encode.compressPNG(_,$,j,rt,st);Cl(jt,it,13),it+=4,zl(jt,it,"IHDR"),it+=4,Cl(jt,it,$),it+=4,Cl(jt,it,j),it+=4,jt[it]=In.depth,it++,jt[it]=In.ctype,it++,jt[it]=0,it++,jt[it]=0,it++,jt[it]=0,it++,Cl(jt,it,Ln(jt,it-17,17)),it+=4,Cl(jt,it,1),it+=4,zl(jt,it,"sRGB"),it+=4,jt[it]=1,it++,Cl(jt,it,Ln(jt,it-5,5)),it+=4;var Ml=_.length>1;if(Ml&&(Cl(jt,it,8),it+=4,zl(jt,it,"acTL"),it+=4,Cl(jt,it,_.length),it+=4,Cl(jt,it,0),it+=4,Cl(jt,it,Ln(jt,it-12,12)),it+=4),In.ctype==3){var Dl=In.plte.length;Cl(jt,it,Dl*3),it+=4,zl(jt,it,"PLTE"),it+=4;for(var Ft=0;Ft<Dl;Ft++){var Ul=Ft*3,Vl=In.plte[Ft],mu=Vl&255,rp=Vl>>8&255,Ju=Vl>>16&255;jt[it+Ul+0]=mu,jt[it+Ul+1]=rp,jt[it+Ul+2]=Ju}if(it+=Dl*3,Cl(jt,it,Ln(jt,it-Dl*3-4,Dl*3+4)),it+=4,In.gotAlpha){Cl(jt,it,Dl),it+=4,zl(jt,it,"tRNS"),it+=4;for(var Ft=0;Ft<Dl;Ft++)jt[it+Ft]=In.plte[Ft]>>24&255;it+=Dl,Cl(jt,it,Ln(jt,it-Dl-4,Dl+4)),it+=4}}for(var cp=0,hp=0;hp<In.frames.length;hp++){var yp=In.frames[hp];Ml&&(Cl(jt,it,26),it+=4,zl(jt,it,"fcTL"),it+=4,Cl(jt,it,cp++),it+=4,Cl(jt,it,yp.rect.width),it+=4,Cl(jt,it,yp.rect.height),it+=4,Cl(jt,it,yp.rect.x),it+=4,Cl(jt,it,yp.rect.y),it+=4,Tl(jt,it,nt[hp]),it+=2,Tl(jt,it,1e3),it+=2,jt[it]=yp.dispose,it++,jt[it]=yp.blend,it++,Cl(jt,it,Ln(jt,it-30,30)),it+=4);var xp=yp.cimg,Dl=xp.length;Cl(jt,it,Dl+(hp==0?0:4)),it+=4;var fp=it;zl(jt,it,hp==0?"IDAT":"fdAT"),it+=4,hp!=0&&(Cl(jt,it,cp++),it+=4);for(var Ft=0;Ft<Dl;Ft++)jt[it+Ft]=xp[Ft];it+=Dl,Cl(jt,it,Ln(jt,fp,it-fp)),it+=4}return Cl(jt,it,0),it+=4,zl(jt,it,"IEND"),it+=4,Cl(jt,it,Ln(jt,it-4,4)),it+=4,jt.buffer.slice(0,it)},g.encode.compressPNG=function(_,$,j,rt,nt){for(var st=g.encode.compress(_,$,j,rt,!1,nt),jt=0;jt<_.length;jt++){var wl=st.frames[jt];wl.rect.width;var Ft=wl.rect.height,it=wl.bpl,ot=wl.bpp,Ln=new Uint8Array(Ft*it+Ft);wl.cimg=g.encode._filterZero(wl.img,Ft,ot,it,Ln)}return st},g.encode.compress=function(_,$,j,rt,nt,st){st==null&&(st=!1);for(var jt=6,wl=8,Ft=4,it=255,ot=0;ot<_.length;ot++)for(var Ln=new Uint8Array(_[ot]),Cl=Ln.length,Tl=0;Tl<Cl;Tl+=4)it&=Ln[Tl+3];var zl=it!=255,In={},Ml=[];if(_.length!=0&&(In[0]=0,Ml.push(0),rt!=0&&rt--),rt!=0){var Dl=g.quantize(_,rt,nt);_=Dl.bufs;for(var Tl=0;Tl<Dl.plte.length;Tl++){var Ul=Dl.plte[Tl].est.rgba;In[Ul]==null&&(In[Ul]=Ml.length,Ml.push(Ul))}}else for(var ot=0;ot<_.length;ot++)for(var Vl=new Uint32Array(_[ot]),Cl=Vl.length,Tl=0;Tl<Cl;Tl++){var Ul=Vl[Tl];if((Tl<$||Ul!=Vl[Tl-1]&&Ul!=Vl[Tl-$])&&In[Ul]==null&&(In[Ul]=Ml.length,Ml.push(Ul),Ml.length>=300))break}var mu=zl?nt:!1,rp=Ml.length;rp<=256&&st==!1&&(rp<=2?wl=1:rp<=4?wl=2:rp<=16?wl=4:wl=8,nt&&(wl=8),zl=!0);for(var Ju=[],ot=0;ot<_.length;ot++){var cp=new Uint8Array(_[ot]),hp=new Uint32Array(cp.buffer),yp=0,xp=0,fp=$,_p=j,ip=0;if(ot!=0&&!mu){for(var gp=nt||ot==1||Ju[Ju.length-2].dispose==2?1:2,Dp=0,Fp=1e9,n0=0;n0<gp;n0++){for(var _g=new Uint8Array(_[ot-1-n0]),S0=new Uint32Array(_[ot-1-n0]),C0=$,P0=j,k0=-1,T0=-1,im=0;im<j;im++)for(var am=0;am<$;am++){var Tl=im*$+am;hp[Tl]!=S0[Tl]&&(am<C0&&(C0=am),am>k0&&(k0=am),im<P0&&(P0=im),im>T0&&(T0=im))}var bm=k0==-1?1:(k0-C0+1)*(T0-P0+1);bm<Fp&&(Fp=bm,Dp=n0,k0==-1?(yp=xp=0,fp=_p=1):(yp=C0,xp=P0,fp=k0-C0+1,_p=T0-P0+1))}var _g=new Uint8Array(_[ot-1-Dp]);Dp==1&&(Ju[Ju.length-1].dispose=2);var b0=new Uint8Array(fp*_p*4);new Uint32Array(b0.buffer),g._copyTile(_g,$,j,b0,fp,_p,-yp,-xp,0),g._copyTile(cp,$,j,b0,fp,_p,-yp,-xp,3)?(g._copyTile(cp,$,j,b0,fp,_p,-yp,-xp,2),ip=1):(g._copyTile(cp,$,j,b0,fp,_p,-yp,-xp,0),ip=0),cp=b0,hp=new Uint32Array(cp.buffer)}var U0=4*fp;if(rp<=256&&st==!1){U0=Math.ceil(wl*fp/8);for(var b0=new Uint8Array(U0*_p),im=0;im<_p;im++){var Tl=im*U0,mm=im*fp;if(wl==8)for(var am=0;am<fp;am++)b0[Tl+am]=In[hp[mm+am]];else if(wl==4)for(var am=0;am<fp;am++)b0[Tl+(am>>1)]|=In[hp[mm+am]]<<4-(am&1)*4;else if(wl==2)for(var am=0;am<fp;am++)b0[Tl+(am>>2)]|=In[hp[mm+am]]<<6-(am&3)*2;else if(wl==1)for(var am=0;am<fp;am++)b0[Tl+(am>>3)]|=In[hp[mm+am]]<<7-(am&7)*1}cp=b0,jt=3,Ft=1}else if(zl==!1&&_.length==1){for(var b0=new Uint8Array(fp*_p*3),Lm=fp*_p,Tl=0;Tl<Lm;Tl++){var Um=Tl*3,Hm=Tl*4;b0[Um]=cp[Hm],b0[Um+1]=cp[Hm+1],b0[Um+2]=cp[Hm+2]}cp=b0,jt=2,Ft=3,U0=3*fp}Ju.push({rect:{x:yp,y:xp,width:fp,height:_p},img:cp,bpl:U0,bpp:Ft,blend:ip,dispose:mu?1:0})}return{ctype:jt,depth:wl,plte:Ml,gotAlpha:zl,frames:Ju}},g.encode._filterZero=function(_,$,j,rt,nt){for(var st=[],jt=0;jt<5;jt++)if(!($*rt>5e5&&(jt==2||jt==3||jt==4))){for(var wl=0;wl<$;wl++)g.encode._filterLine(nt,_,wl,rt,j,jt);if(st.push(b.deflate(nt)),j==1)break}for(var Ft,it=1e9,ot=0;ot<st.length;ot++)st[ot].length<it&&(Ft=ot,it=st[ot].length);return st[Ft]},g.encode._filterLine=function(_,$,j,rt,nt,st){var jt=j*rt,wl=jt+j,Ft=g.decode._paeth;if(_[wl]=st,wl++,st==0)for(var it=0;it<rt;it++)_[wl+it]=$[jt+it];else if(st==1){for(var it=0;it<nt;it++)_[wl+it]=$[jt+it];for(var it=nt;it<rt;it++)_[wl+it]=$[jt+it]-$[jt+it-nt]+256&255}else if(j==0){for(var it=0;it<nt;it++)_[wl+it]=$[jt+it];if(st==2)for(var it=nt;it<rt;it++)_[wl+it]=$[jt+it];if(st==3)for(var it=nt;it<rt;it++)_[wl+it]=$[jt+it]-($[jt+it-nt]>>1)+256&255;if(st==4)for(var it=nt;it<rt;it++)_[wl+it]=$[jt+it]-Ft($[jt+it-nt],0,0)+256&255}else{if(st==2)for(var it=0;it<rt;it++)_[wl+it]=$[jt+it]+256-$[jt+it-rt]&255;if(st==3){for(var it=0;it<nt;it++)_[wl+it]=$[jt+it]+256-($[jt+it-rt]>>1)&255;for(var it=nt;it<rt;it++)_[wl+it]=$[jt+it]+256-($[jt+it-rt]+$[jt+it-nt]>>1)&255}if(st==4){for(var it=0;it<nt;it++)_[wl+it]=$[jt+it]+256-Ft(0,$[jt+it-rt],0)&255;for(var it=nt;it<rt;it++)_[wl+it]=$[jt+it]+256-Ft($[jt+it-nt],$[jt+it-rt],$[jt+it-nt-rt])&255}}},g.crc={table:function(){for(var _=new Uint32Array(256),$=0;$<256;$++){for(var j=$,rt=0;rt<8;rt++)j&1?j=3988292384^j>>>1:j=j>>>1;_[$]=j}return _}(),update:function(_,$,j,rt){for(var nt=0;nt<rt;nt++)_=g.crc.table[(_^$[j+nt])&255]^_>>>8;return _},crc:function(_,$,j){return g.crc.update(4294967295,_,$,j)^4294967295}},g.quantize=function(_,$,j){for(var rt=[],nt=0,st=0;st<_.length;st++)rt.push(g.encode.alphaMul(new Uint8Array(_[st]),j)),nt+=_[st].byteLength;for(var jt=new Uint8Array(nt),wl=new Uint32Array(jt.buffer),Ft=0,st=0;st<rt.length;st++){for(var it=rt[st],ot=it.length,Ln=0;Ln<ot;Ln++)jt[Ft+Ln]=it[Ln];Ft+=ot}var Cl={i0:0,i1:jt.length,bst:null,est:null,tdst:0,left:null,right:null};Cl.bst=g.quantize.stats(jt,Cl.i0,Cl.i1),Cl.est=g.quantize.estats(Cl.bst);for(var Tl=[Cl];Tl.length<$;){for(var zl=0,In=0,st=0;st<Tl.length;st++)Tl[st].est.L>zl&&(zl=Tl[st].est.L,In=st);if(zl<.001)break;var Ml=Tl[In],Dl=g.quantize.splitPixels(jt,wl,Ml.i0,Ml.i1,Ml.est.e,Ml.est.eMq255),Ul={i0:Ml.i0,i1:Dl,bst:null,est:null,tdst:0,left:null,right:null};Ul.bst=g.quantize.stats(jt,Ul.i0,Ul.i1),Ul.est=g.quantize.estats(Ul.bst);var Vl={i0:Dl,i1:Ml.i1,bst:null,est:null,tdst:0,left:null,right:null};Vl.bst={R:[],m:[],N:Ml.bst.N-Ul.bst.N};for(var st=0;st<16;st++)Vl.bst.R[st]=Ml.bst.R[st]-Ul.bst.R[st];for(var st=0;st<4;st++)Vl.bst.m[st]=Ml.bst.m[st]-Ul.bst.m[st];Vl.est=g.quantize.estats(Vl.bst),Ml.left=Ul,Ml.right=Vl,Tl[In]=Ul,Tl.push(Vl)}Tl.sort(function(gp,Dp){return Dp.bst.N-gp.bst.N});for(var mu=0;mu<rt.length;mu++){for(var rp=g.quantize.planeDst,Ju=new Uint8Array(rt[mu].buffer),cp=new Uint32Array(rt[mu].buffer),hp=Ju.length,st=0;st<hp;st+=4){for(var yp=Ju[st]*.00392156862745098,xp=Ju[st+1]*.00392156862745098,fp=Ju[st+2]*.00392156862745098,_p=Ju[st+3]*.00392156862745098,ip=Cl;ip.left;)ip=rp(ip.est,yp,xp,fp,_p)<=0?ip.left:ip.right;cp[st>>2]=ip.est.rgba}rt[mu]=cp.buffer}return{bufs:rt,plte:Tl}},g.quantize.getNearest=function(_,$,j,rt,nt){if(_.left==null)return _.tdst=g.quantize.dist(_.est.q,$,j,rt,nt),_;var st=g.quantize.planeDst(_.est,$,j,rt,nt),jt=_.left,wl=_.right;st>0&&(jt=_.right,wl=_.left);var Ft=g.quantize.getNearest(jt,$,j,rt,nt);if(Ft.tdst<=st*st)return Ft;var it=g.quantize.getNearest(wl,$,j,rt,nt);return it.tdst<Ft.tdst?it:Ft},g.quantize.planeDst=function(_,$,j,rt,nt){var st=_.e;return st[0]*$+st[1]*j+st[2]*rt+st[3]*nt-_.eMq},g.quantize.dist=function(_,$,j,rt,nt){var st=$-_[0],jt=j-_[1],wl=rt-_[2],Ft=nt-_[3];return st*st+jt*jt+wl*wl+Ft*Ft},g.quantize.splitPixels=function(_,$,j,rt,nt,st){var jt=g.quantize.vecDot;for(rt-=4;j<rt;){for(;jt(_,j,nt)<=st;)j+=4;for(;jt(_,rt,nt)>st;)rt-=4;if(j>=rt)break;var wl=$[j>>2];$[j>>2]=$[rt>>2],$[rt>>2]=wl,j+=4,rt-=4}for(;jt(_,j,nt)>st;)j-=4;return j+4},g.quantize.vecDot=function(_,$,j){return _[$]*j[0]+_[$+1]*j[1]+_[$+2]*j[2]+_[$+3]*j[3]},g.quantize.stats=function(_,$,j){for(var rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],nt=[0,0,0,0],st=j-$>>2,jt=$;jt<j;jt+=4){var wl=_[jt]*.00392156862745098,Ft=_[jt+1]*(1/255),it=_[jt+2]*(1/255),ot=_[jt+3]*(1/255);nt[0]+=wl,nt[1]+=Ft,nt[2]+=it,nt[3]+=ot,rt[0]+=wl*wl,rt[1]+=wl*Ft,rt[2]+=wl*it,rt[3]+=wl*ot,rt[5]+=Ft*Ft,rt[6]+=Ft*it,rt[7]+=Ft*ot,rt[10]+=it*it,rt[11]+=it*ot,rt[15]+=ot*ot}return rt[4]=rt[1],rt[8]=rt[2],rt[12]=rt[3],rt[9]=rt[6],rt[13]=rt[7],rt[14]=rt[11],{R:rt,m:nt,N:st}},g.quantize.estats=function(_){var $=_.R,j=_.m,rt=_.N,nt=j[0],st=j[1],jt=j[2],wl=j[3],Ft=rt==0?0:1/rt,it=[$[0]-nt*nt*Ft,$[1]-nt*st*Ft,$[2]-nt*jt*Ft,$[3]-nt*wl*Ft,$[4]-st*nt*Ft,$[5]-st*st*Ft,$[6]-st*jt*Ft,$[7]-st*wl*Ft,$[8]-jt*nt*Ft,$[9]-jt*st*Ft,$[10]-jt*jt*Ft,$[11]-jt*wl*Ft,$[12]-wl*nt*Ft,$[13]-wl*st*Ft,$[14]-wl*jt*Ft,$[15]-wl*wl*Ft],ot=it,Ln=g.M4,Cl=[.5,.5,.5,.5],Tl=0,zl=0;if(rt!=0)for(var In=0;In<10&&(Cl=Ln.multVec(ot,Cl),zl=Math.sqrt(Ln.dot(Cl,Cl)),Cl=Ln.sml(1/zl,Cl),!(Math.abs(zl-Tl)<1e-9));In++)Tl=zl;var Ml=[nt*Ft,st*Ft,jt*Ft,wl*Ft],Dl=Ln.dot(Ln.sml(255,Ml),Cl),Ul=Ml[3]<.001?0:1/Ml[3];return{Cov:it,q:Ml,e:Cl,L:Tl,eMq255:Dl,eMq:Ln.dot(Cl,Ml),rgba:(Math.round(255*Ml[3])<<24|Math.round(255*Ml[2]*Ul)<<16|Math.round(255*Ml[1]*Ul)<<8|Math.round(255*Ml[0]*Ul)<<0)>>>0}},g.M4={multVec:function(_,$){return[_[0]*$[0]+_[1]*$[1]+_[2]*$[2]+_[3]*$[3],_[4]*$[0]+_[5]*$[1]+_[6]*$[2]+_[7]*$[3],_[8]*$[0]+_[9]*$[1]+_[10]*$[2]+_[11]*$[3],_[12]*$[0]+_[13]*$[1]+_[14]*$[2]+_[15]*$[3]]},dot:function(_,$){return _[0]*$[0]+_[1]*$[1]+_[2]*$[2]+_[3]*$[3]},sml:function(_,$){return[_*$[0],_*$[1],_*$[2],_*$[3]]}},g.encode.alphaMul=function(_,$){for(var j=new Uint8Array(_.length),rt=_.length>>2,nt=0;nt<rt;nt++){var st=nt<<2,jt=_[st+3];$&&(jt=jt<128?0:255);var wl=jt*(1/255);j[st+0]=_[st+0]*wl,j[st+1]=_[st+1]*wl,j[st+2]=_[st+2]*wl,j[st+3]=jt}return j}}(c,d)})()},"./node_modules/upng-js/node_modules/pako/index.js":(e,o,a)=>{var c=a("./node_modules/upng-js/node_modules/pako/lib/utils/common.js").assign,d=a("./node_modules/upng-js/node_modules/pako/lib/deflate.js"),g=a("./node_modules/upng-js/node_modules/pako/lib/inflate.js"),b=a("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),_={};c(_,d,g,b),e.exports=_},"./node_modules/upng-js/node_modules/pako/lib/deflate.js":(e,o,a)=>{var c=a("./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js"),d=a("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),g=a("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),b=a("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),_=a("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),$=Object.prototype.toString,j=0,rt=4,nt=0,st=1,jt=2,wl=-1,Ft=0,it=8;function ot(zl){if(!(this instanceof ot))return new ot(zl);this.options=d.assign({level:wl,method:it,chunkSize:16384,windowBits:15,memLevel:8,strategy:Ft,to:""},zl||{});var In=this.options;In.raw&&In.windowBits>0?In.windowBits=-In.windowBits:In.gzip&&In.windowBits>0&&In.windowBits<16&&(In.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var Ml=c.deflateInit2(this.strm,In.level,In.method,In.windowBits,In.memLevel,In.strategy);if(Ml!==nt)throw new Error(b[Ml]);if(In.header&&c.deflateSetHeader(this.strm,In.header),In.dictionary){var Dl;if(typeof In.dictionary=="string"?Dl=g.string2buf(In.dictionary):$.call(In.dictionary)==="[object ArrayBuffer]"?Dl=new Uint8Array(In.dictionary):Dl=In.dictionary,Ml=c.deflateSetDictionary(this.strm,Dl),Ml!==nt)throw new Error(b[Ml]);this._dict_set=!0}}ot.prototype.push=function(zl,In){var Ml=this.strm,Dl=this.options.chunkSize,Ul,Vl;if(this.ended)return!1;Vl=In===~~In?In:In===!0?rt:j,typeof zl=="string"?Ml.input=g.string2buf(zl):$.call(zl)==="[object ArrayBuffer]"?Ml.input=new Uint8Array(zl):Ml.input=zl,Ml.next_in=0,Ml.avail_in=Ml.input.length;do{if(Ml.avail_out===0&&(Ml.output=new d.Buf8(Dl),Ml.next_out=0,Ml.avail_out=Dl),Ul=c.deflate(Ml,Vl),Ul!==st&&Ul!==nt)return this.onEnd(Ul),this.ended=!0,!1;(Ml.avail_out===0||Ml.avail_in===0&&(Vl===rt||Vl===jt))&&(this.options.to==="string"?this.onData(g.buf2binstring(d.shrinkBuf(Ml.output,Ml.next_out))):this.onData(d.shrinkBuf(Ml.output,Ml.next_out)))}while((Ml.avail_in>0||Ml.avail_out===0)&&Ul!==st);return Vl===rt?(Ul=c.deflateEnd(this.strm),this.onEnd(Ul),this.ended=!0,Ul===nt):(Vl===jt&&(this.onEnd(nt),Ml.avail_out=0),!0)},ot.prototype.onData=function(zl){this.chunks.push(zl)},ot.prototype.onEnd=function(zl){zl===nt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=zl,this.msg=this.strm.msg};function Ln(zl,In){var Ml=new ot(In);if(Ml.push(zl,!0),Ml.err)throw Ml.msg||b[Ml.err];return Ml.result}function Cl(zl,In){return In=In||{},In.raw=!0,Ln(zl,In)}function Tl(zl,In){return In=In||{},In.gzip=!0,Ln(zl,In)}o.Deflate=ot,o.deflate=Ln,o.deflateRaw=Cl,o.gzip=Tl},"./node_modules/upng-js/node_modules/pako/lib/inflate.js":(e,o,a)=>{var c=a("./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js"),d=a("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),g=a("./node_modules/upng-js/node_modules/pako/lib/utils/strings.js"),b=a("./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js"),_=a("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),$=a("./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js"),j=a("./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js"),rt=Object.prototype.toString;function nt(wl){if(!(this instanceof nt))return new nt(wl);this.options=d.assign({chunkSize:16384,windowBits:0,to:""},wl||{});var Ft=this.options;Ft.raw&&Ft.windowBits>=0&&Ft.windowBits<16&&(Ft.windowBits=-Ft.windowBits,Ft.windowBits===0&&(Ft.windowBits=-15)),Ft.windowBits>=0&&Ft.windowBits<16&&!(wl&&wl.windowBits)&&(Ft.windowBits+=32),Ft.windowBits>15&&Ft.windowBits<48&&(Ft.windowBits&15||(Ft.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $,this.strm.avail_out=0;var it=c.inflateInit2(this.strm,Ft.windowBits);if(it!==b.Z_OK)throw new Error(_[it]);if(this.header=new j,c.inflateGetHeader(this.strm,this.header),Ft.dictionary&&(typeof Ft.dictionary=="string"?Ft.dictionary=g.string2buf(Ft.dictionary):rt.call(Ft.dictionary)==="[object ArrayBuffer]"&&(Ft.dictionary=new Uint8Array(Ft.dictionary)),Ft.raw&&(it=c.inflateSetDictionary(this.strm,Ft.dictionary),it!==b.Z_OK)))throw new Error(_[it])}nt.prototype.push=function(wl,Ft){var it=this.strm,ot=this.options.chunkSize,Ln=this.options.dictionary,Cl,Tl,zl,In,Ml,Dl=!1;if(this.ended)return!1;Tl=Ft===~~Ft?Ft:Ft===!0?b.Z_FINISH:b.Z_NO_FLUSH,typeof wl=="string"?it.input=g.binstring2buf(wl):rt.call(wl)==="[object ArrayBuffer]"?it.input=new Uint8Array(wl):it.input=wl,it.next_in=0,it.avail_in=it.input.length;do{if(it.avail_out===0&&(it.output=new d.Buf8(ot),it.next_out=0,it.avail_out=ot),Cl=c.inflate(it,b.Z_NO_FLUSH),Cl===b.Z_NEED_DICT&&Ln&&(Cl=c.inflateSetDictionary(this.strm,Ln)),Cl===b.Z_BUF_ERROR&&Dl===!0&&(Cl=b.Z_OK,Dl=!1),Cl!==b.Z_STREAM_END&&Cl!==b.Z_OK)return this.onEnd(Cl),this.ended=!0,!1;it.next_out&&(it.avail_out===0||Cl===b.Z_STREAM_END||it.avail_in===0&&(Tl===b.Z_FINISH||Tl===b.Z_SYNC_FLUSH))&&(this.options.to==="string"?(zl=g.utf8border(it.output,it.next_out),In=it.next_out-zl,Ml=g.buf2string(it.output,zl),it.next_out=In,it.avail_out=ot-In,In&&d.arraySet(it.output,it.output,zl,In,0),this.onData(Ml)):this.onData(d.shrinkBuf(it.output,it.next_out))),it.avail_in===0&&it.avail_out===0&&(Dl=!0)}while((it.avail_in>0||it.avail_out===0)&&Cl!==b.Z_STREAM_END);return Cl===b.Z_STREAM_END&&(Tl=b.Z_FINISH),Tl===b.Z_FINISH?(Cl=c.inflateEnd(this.strm),this.onEnd(Cl),this.ended=!0,Cl===b.Z_OK):(Tl===b.Z_SYNC_FLUSH&&(this.onEnd(b.Z_OK),it.avail_out=0),!0)},nt.prototype.onData=function(wl){this.chunks.push(wl)},nt.prototype.onEnd=function(wl){wl===b.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=d.flattenChunks(this.chunks)),this.chunks=[],this.err=wl,this.msg=this.strm.msg};function st(wl,Ft){var it=new nt(Ft);if(it.push(wl,!0),it.err)throw it.msg||_[it.err];return it.result}function jt(wl,Ft){return Ft=Ft||{},Ft.raw=!0,st(wl,Ft)}o.Inflate=nt,o.inflate=st,o.inflateRaw=jt,o.ungzip=st},"./node_modules/upng-js/node_modules/pako/lib/utils/common.js":(e,o)=>{var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(b,_){return Object.prototype.hasOwnProperty.call(b,_)}o.assign=function(b){for(var _=Array.prototype.slice.call(arguments,1);_.length;){var $=_.shift();if($){if(typeof $!="object")throw new TypeError($+"must be non-object");for(var j in $)c($,j)&&(b[j]=$[j])}}return b},o.shrinkBuf=function(b,_){return b.length===_?b:b.subarray?b.subarray(0,_):(b.length=_,b)};var d={arraySet:function(b,_,$,j,rt){if(_.subarray&&b.subarray){b.set(_.subarray($,$+j),rt);return}for(var nt=0;nt<j;nt++)b[rt+nt]=_[$+nt]},flattenChunks:function(b){var _,$,j,rt,nt,st;for(j=0,_=0,$=b.length;_<$;_++)j+=b[_].length;for(st=new Uint8Array(j),rt=0,_=0,$=b.length;_<$;_++)nt=b[_],st.set(nt,rt),rt+=nt.length;return st}},g={arraySet:function(b,_,$,j,rt){for(var nt=0;nt<j;nt++)b[rt+nt]=_[$+nt]},flattenChunks:function(b){return[].concat.apply([],b)}};o.setTyped=function(b){b?(o.Buf8=Uint8Array,o.Buf16=Uint16Array,o.Buf32=Int32Array,o.assign(o,d)):(o.Buf8=Array,o.Buf16=Array,o.Buf32=Array,o.assign(o,g))},o.setTyped(a)},"./node_modules/upng-js/node_modules/pako/lib/utils/strings.js":(e,o,a)=>{var c=a("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),d=!0,g=!0;try{String.fromCharCode.apply(null,[0])}catch{d=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{g=!1}for(var b=new c.Buf8(256),_=0;_<256;_++)b[_]=_>=252?6:_>=248?5:_>=240?4:_>=224?3:_>=192?2:1;b[254]=b[254]=1,o.string2buf=function(j){var rt,nt,st,jt,wl,Ft=j.length,it=0;for(jt=0;jt<Ft;jt++)nt=j.charCodeAt(jt),(nt&64512)===55296&&jt+1<Ft&&(st=j.charCodeAt(jt+1),(st&64512)===56320&&(nt=65536+(nt-55296<<10)+(st-56320),jt++)),it+=nt<128?1:nt<2048?2:nt<65536?3:4;for(rt=new c.Buf8(it),wl=0,jt=0;wl<it;jt++)nt=j.charCodeAt(jt),(nt&64512)===55296&&jt+1<Ft&&(st=j.charCodeAt(jt+1),(st&64512)===56320&&(nt=65536+(nt-55296<<10)+(st-56320),jt++)),nt<128?rt[wl++]=nt:nt<2048?(rt[wl++]=192|nt>>>6,rt[wl++]=128|nt&63):nt<65536?(rt[wl++]=224|nt>>>12,rt[wl++]=128|nt>>>6&63,rt[wl++]=128|nt&63):(rt[wl++]=240|nt>>>18,rt[wl++]=128|nt>>>12&63,rt[wl++]=128|nt>>>6&63,rt[wl++]=128|nt&63);return rt};function $(j,rt){if(rt<65534&&(j.subarray&&g||!j.subarray&&d))return String.fromCharCode.apply(null,c.shrinkBuf(j,rt));for(var nt="",st=0;st<rt;st++)nt+=String.fromCharCode(j[st]);return nt}o.buf2binstring=function(j){return $(j,j.length)},o.binstring2buf=function(j){for(var rt=new c.Buf8(j.length),nt=0,st=rt.length;nt<st;nt++)rt[nt]=j.charCodeAt(nt);return rt},o.buf2string=function(j,rt){var nt,st,jt,wl,Ft=rt||j.length,it=new Array(Ft*2);for(st=0,nt=0;nt<Ft;){if(jt=j[nt++],jt<128){it[st++]=jt;continue}if(wl=b[jt],wl>4){it[st++]=65533,nt+=wl-1;continue}for(jt&=wl===2?31:wl===3?15:7;wl>1&&nt<Ft;)jt=jt<<6|j[nt++]&63,wl--;if(wl>1){it[st++]=65533;continue}jt<65536?it[st++]=jt:(jt-=65536,it[st++]=55296|jt>>10&1023,it[st++]=56320|jt&1023)}return $(it,st)},o.utf8border=function(j,rt){var nt;for(rt=rt||j.length,rt>j.length&&(rt=j.length),nt=rt-1;nt>=0&&(j[nt]&192)===128;)nt--;return nt<0||nt===0?rt:nt+b[j[nt]]>rt?nt:rt}},"./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js":e=>{function o(a,c,d,g){for(var b=a&65535|0,_=a>>>16&65535|0,$=0;d!==0;){$=d>2e3?2e3:d,d-=$;do b=b+c[g++]|0,_=_+b|0;while(--$);b%=65521,_%=65521}return b|_<<16|0}e.exports=o},"./node_modules/upng-js/node_modules/pako/lib/zlib/constants.js":e=>{e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},"./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js":e=>{function o(){for(var d,g=[],b=0;b<256;b++){d=b;for(var _=0;_<8;_++)d=d&1?3988292384^d>>>1:d>>>1;g[b]=d}return g}var a=o();function c(d,g,b,_){var $=a,j=_+b;d^=-1;for(var rt=_;rt<j;rt++)d=d>>>8^$[(d^g[rt])&255];return d^-1}e.exports=c},"./node_modules/upng-js/node_modules/pako/lib/zlib/deflate.js":(e,o,a)=>{var c=a("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),d=a("./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js"),g=a("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),b=a("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),_=a("./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js"),$=0,j=1,rt=3,nt=4,st=5,jt=0,wl=1,Ft=-2,it=-3,ot=-5,Ln=-1,Cl=1,Tl=2,zl=3,In=4,Ml=0,Dl=2,Ul=8,Vl=9,mu=15,rp=8,Ju=29,cp=256,hp=cp+1+Ju,yp=30,xp=19,fp=2*hp+1,_p=15,ip=3,gp=258,Dp=gp+ip+1,Fp=32,n0=42,S0=69,C0=73,P0=91,k0=103,T0=113,im=666,am=1,bm=2,_g=3,b0=4,U0=3;function mm(pp,tm){return pp.msg=_[tm],tm}function Lm(pp){return(pp<<1)-(pp>4?9:0)}function Um(pp){for(var tm=pp.length;--tm>=0;)pp[tm]=0}function Hm(pp){var tm=pp.state,em=tm.pending;em>pp.avail_out&&(em=pp.avail_out),em!==0&&(c.arraySet(pp.output,tm.pending_buf,tm.pending_out,em,pp.next_out),pp.next_out+=em,tm.pending_out+=em,pp.total_out+=em,pp.avail_out-=em,tm.pending-=em,tm.pending===0&&(tm.pending_out=0))}function Dm(pp,tm){d._tr_flush_block(pp,pp.block_start>=0?pp.block_start:-1,pp.strstart-pp.block_start,tm),pp.block_start=pp.strstart,Hm(pp.strm)}function Nm(pp,tm){pp.pending_buf[pp.pending++]=tm}function Om(pp,tm){pp.pending_buf[pp.pending++]=tm>>>8&255,pp.pending_buf[pp.pending++]=tm&255}function Mm(pp,tm,em,Gp){var O0=pp.avail_in;return O0>Gp&&(O0=Gp),O0===0?0:(pp.avail_in-=O0,c.arraySet(tm,pp.input,pp.next_in,O0,em),pp.state.wrap===1?pp.adler=g(pp.adler,tm,O0,em):pp.state.wrap===2&&(pp.adler=b(pp.adler,tm,O0,em)),pp.next_in+=O0,pp.total_in+=O0,O0)}function cm(pp,tm){var em=pp.max_chain_length,Gp=pp.strstart,O0,lm,o1=pp.prev_length,i1=pp.nice_match,a1=pp.strstart>pp.w_size-Dp?pp.strstart-(pp.w_size-Dp):0,w1=pp.window,wv=pp.w_mask,P1=pp.prev,R1=pp.strstart+gp,j1=w1[Gp+o1-1],yv=w1[Gp+o1];pp.prev_length>=pp.good_match&&(em>>=2),i1>pp.lookahead&&(i1=pp.lookahead);do if(O0=tm,!(w1[O0+o1]!==yv||w1[O0+o1-1]!==j1||w1[O0]!==w1[Gp]||w1[++O0]!==w1[Gp+1])){Gp+=2,O0++;do;while(w1[++Gp]===w1[++O0]&&w1[++Gp]===w1[++O0]&&w1[++Gp]===w1[++O0]&&w1[++Gp]===w1[++O0]&&w1[++Gp]===w1[++O0]&&w1[++Gp]===w1[++O0]&&w1[++Gp]===w1[++O0]&&w1[++Gp]===w1[++O0]&&Gp<R1);if(lm=gp-(R1-Gp),Gp=R1-gp,lm>o1){if(pp.match_start=tm,o1=lm,lm>=i1)break;j1=w1[Gp+o1-1],yv=w1[Gp+o1]}}while((tm=P1[tm&wv])>a1&&--em!==0);return o1<=pp.lookahead?o1:pp.lookahead}function Jm(pp){var tm=pp.w_size,em,Gp,O0,lm,o1;do{if(lm=pp.window_size-pp.lookahead-pp.strstart,pp.strstart>=tm+(tm-Dp)){c.arraySet(pp.window,pp.window,tm,tm,0),pp.match_start-=tm,pp.strstart-=tm,pp.block_start-=tm,Gp=pp.hash_size,em=Gp;do O0=pp.head[--em],pp.head[em]=O0>=tm?O0-tm:0;while(--Gp);Gp=tm,em=Gp;do O0=pp.prev[--em],pp.prev[em]=O0>=tm?O0-tm:0;while(--Gp);lm+=tm}if(pp.strm.avail_in===0)break;if(Gp=Mm(pp.strm,pp.window,pp.strstart+pp.lookahead,lm),pp.lookahead+=Gp,pp.lookahead+pp.insert>=ip)for(o1=pp.strstart-pp.insert,pp.ins_h=pp.window[o1],pp.ins_h=(pp.ins_h<<pp.hash_shift^pp.window[o1+1])&pp.hash_mask;pp.insert&&(pp.ins_h=(pp.ins_h<<pp.hash_shift^pp.window[o1+ip-1])&pp.hash_mask,pp.prev[o1&pp.w_mask]=pp.head[pp.ins_h],pp.head[pp.ins_h]=o1,o1++,pp.insert--,!(pp.lookahead+pp.insert<ip)););}while(pp.lookahead<Dp&&pp.strm.avail_in!==0)}function B0(pp,tm){var em=65535;for(em>pp.pending_buf_size-5&&(em=pp.pending_buf_size-5);;){if(pp.lookahead<=1){if(Jm(pp),pp.lookahead===0&&tm===$)return am;if(pp.lookahead===0)break}pp.strstart+=pp.lookahead,pp.lookahead=0;var Gp=pp.block_start+em;if((pp.strstart===0||pp.strstart>=Gp)&&(pp.lookahead=pp.strstart-Gp,pp.strstart=Gp,Dm(pp,!1),pp.strm.avail_out===0)||pp.strstart-pp.block_start>=pp.w_size-Dp&&(Dm(pp,!1),pp.strm.avail_out===0))return am}return pp.insert=0,tm===nt?(Dm(pp,!0),pp.strm.avail_out===0?_g:b0):(pp.strstart>pp.block_start&&(Dm(pp,!1),pp.strm.avail_out),am)}function Pp(pp,tm){for(var em,Gp;;){if(pp.lookahead<Dp){if(Jm(pp),pp.lookahead<Dp&&tm===$)return am;if(pp.lookahead===0)break}if(em=0,pp.lookahead>=ip&&(pp.ins_h=(pp.ins_h<<pp.hash_shift^pp.window[pp.strstart+ip-1])&pp.hash_mask,em=pp.prev[pp.strstart&pp.w_mask]=pp.head[pp.ins_h],pp.head[pp.ins_h]=pp.strstart),em!==0&&pp.strstart-em<=pp.w_size-Dp&&(pp.match_length=cm(pp,em)),pp.match_length>=ip)if(Gp=d._tr_tally(pp,pp.strstart-pp.match_start,pp.match_length-ip),pp.lookahead-=pp.match_length,pp.match_length<=pp.max_lazy_match&&pp.lookahead>=ip){pp.match_length--;do pp.strstart++,pp.ins_h=(pp.ins_h<<pp.hash_shift^pp.window[pp.strstart+ip-1])&pp.hash_mask,em=pp.prev[pp.strstart&pp.w_mask]=pp.head[pp.ins_h],pp.head[pp.ins_h]=pp.strstart;while(--pp.match_length!==0);pp.strstart++}else pp.strstart+=pp.match_length,pp.match_length=0,pp.ins_h=pp.window[pp.strstart],pp.ins_h=(pp.ins_h<<pp.hash_shift^pp.window[pp.strstart+1])&pp.hash_mask;else Gp=d._tr_tally(pp,0,pp.window[pp.strstart]),pp.lookahead--,pp.strstart++;if(Gp&&(Dm(pp,!1),pp.strm.avail_out===0))return am}return pp.insert=pp.strstart<ip-1?pp.strstart:ip-1,tm===nt?(Dm(pp,!0),pp.strm.avail_out===0?_g:b0):pp.last_lit&&(Dm(pp,!1),pp.strm.avail_out===0)?am:bm}function Yp(pp,tm){for(var em,Gp,O0;;){if(pp.lookahead<Dp){if(Jm(pp),pp.lookahead<Dp&&tm===$)return am;if(pp.lookahead===0)break}if(em=0,pp.lookahead>=ip&&(pp.ins_h=(pp.ins_h<<pp.hash_shift^pp.window[pp.strstart+ip-1])&pp.hash_mask,em=pp.prev[pp.strstart&pp.w_mask]=pp.head[pp.ins_h],pp.head[pp.ins_h]=pp.strstart),pp.prev_length=pp.match_length,pp.prev_match=pp.match_start,pp.match_length=ip-1,em!==0&&pp.prev_length<pp.max_lazy_match&&pp.strstart-em<=pp.w_size-Dp&&(pp.match_length=cm(pp,em),pp.match_length<=5&&(pp.strategy===Cl||pp.match_length===ip&&pp.strstart-pp.match_start>4096)&&(pp.match_length=ip-1)),pp.prev_length>=ip&&pp.match_length<=pp.prev_length){O0=pp.strstart+pp.lookahead-ip,Gp=d._tr_tally(pp,pp.strstart-1-pp.prev_match,pp.prev_length-ip),pp.lookahead-=pp.prev_length-1,pp.prev_length-=2;do++pp.strstart<=O0&&(pp.ins_h=(pp.ins_h<<pp.hash_shift^pp.window[pp.strstart+ip-1])&pp.hash_mask,em=pp.prev[pp.strstart&pp.w_mask]=pp.head[pp.ins_h],pp.head[pp.ins_h]=pp.strstart);while(--pp.prev_length!==0);if(pp.match_available=0,pp.match_length=ip-1,pp.strstart++,Gp&&(Dm(pp,!1),pp.strm.avail_out===0))return am}else if(pp.match_available){if(Gp=d._tr_tally(pp,0,pp.window[pp.strstart-1]),Gp&&Dm(pp,!1),pp.strstart++,pp.lookahead--,pp.strm.avail_out===0)return am}else pp.match_available=1,pp.strstart++,pp.lookahead--}return pp.match_available&&(Gp=d._tr_tally(pp,0,pp.window[pp.strstart-1]),pp.match_available=0),pp.insert=pp.strstart<ip-1?pp.strstart:ip-1,tm===nt?(Dm(pp,!0),pp.strm.avail_out===0?_g:b0):pp.last_lit&&(Dm(pp,!1),pp.strm.avail_out===0)?am:bm}function o0(pp,tm){for(var em,Gp,O0,lm,o1=pp.window;;){if(pp.lookahead<=gp){if(Jm(pp),pp.lookahead<=gp&&tm===$)return am;if(pp.lookahead===0)break}if(pp.match_length=0,pp.lookahead>=ip&&pp.strstart>0&&(O0=pp.strstart-1,Gp=o1[O0],Gp===o1[++O0]&&Gp===o1[++O0]&&Gp===o1[++O0])){lm=pp.strstart+gp;do;while(Gp===o1[++O0]&&Gp===o1[++O0]&&Gp===o1[++O0]&&Gp===o1[++O0]&&Gp===o1[++O0]&&Gp===o1[++O0]&&Gp===o1[++O0]&&Gp===o1[++O0]&&O0<lm);pp.match_length=gp-(lm-O0),pp.match_length>pp.lookahead&&(pp.match_length=pp.lookahead)}if(pp.match_length>=ip?(em=d._tr_tally(pp,1,pp.match_length-ip),pp.lookahead-=pp.match_length,pp.strstart+=pp.match_length,pp.match_length=0):(em=d._tr_tally(pp,0,pp.window[pp.strstart]),pp.lookahead--,pp.strstart++),em&&(Dm(pp,!1),pp.strm.avail_out===0))return am}return pp.insert=0,tm===nt?(Dm(pp,!0),pp.strm.avail_out===0?_g:b0):pp.last_lit&&(Dm(pp,!1),pp.strm.avail_out===0)?am:bm}function W0(pp,tm){for(var em;;){if(pp.lookahead===0&&(Jm(pp),pp.lookahead===0)){if(tm===$)return am;break}if(pp.match_length=0,em=d._tr_tally(pp,0,pp.window[pp.strstart]),pp.lookahead--,pp.strstart++,em&&(Dm(pp,!1),pp.strm.avail_out===0))return am}return pp.insert=0,tm===nt?(Dm(pp,!0),pp.strm.avail_out===0?_g:b0):pp.last_lit&&(Dm(pp,!1),pp.strm.avail_out===0)?am:bm}function G0(pp,tm,em,Gp,O0){this.good_length=pp,this.max_lazy=tm,this.nice_length=em,this.max_chain=Gp,this.func=O0}var Em;Em=[new G0(0,0,0,0,B0),new G0(4,4,8,4,Pp),new G0(4,5,16,8,Pp),new G0(4,6,32,32,Pp),new G0(4,4,16,16,Yp),new G0(8,16,32,32,Yp),new G0(8,16,128,128,Yp),new G0(8,32,128,256,Yp),new G0(32,128,258,1024,Yp),new G0(32,258,258,4096,Yp)];function hm(pp){pp.window_size=2*pp.w_size,Um(pp.head),pp.max_lazy_match=Em[pp.level].max_lazy,pp.good_match=Em[pp.level].good_length,pp.nice_match=Em[pp.level].nice_length,pp.max_chain_length=Em[pp.level].max_chain,pp.strstart=0,pp.block_start=0,pp.lookahead=0,pp.insert=0,pp.match_length=pp.prev_length=ip-1,pp.match_available=0,pp.ins_h=0}function Vp(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Ul,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(fp*2),this.dyn_dtree=new c.Buf16((2*yp+1)*2),this.bl_tree=new c.Buf16((2*xp+1)*2),Um(this.dyn_ltree),Um(this.dyn_dtree),Um(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16(_p+1),this.heap=new c.Buf16(2*hp+1),Um(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*hp+1),Um(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function j0(pp){var tm;return!pp||!pp.state?mm(pp,Ft):(pp.total_in=pp.total_out=0,pp.data_type=Dl,tm=pp.state,tm.pending=0,tm.pending_out=0,tm.wrap<0&&(tm.wrap=-tm.wrap),tm.status=tm.wrap?n0:T0,pp.adler=tm.wrap===2?0:1,tm.last_flush=$,d._tr_init(tm),jt)}function Q0(pp){var tm=j0(pp);return tm===jt&&hm(pp.state),tm}function Cm(pp,tm){return!pp||!pp.state||pp.state.wrap!==2?Ft:(pp.state.gzhead=tm,jt)}function z0(pp,tm,em,Gp,O0,lm){if(!pp)return Ft;var o1=1;if(tm===Ln&&(tm=6),Gp<0?(o1=0,Gp=-Gp):Gp>15&&(o1=2,Gp-=16),O0<1||O0>Vl||em!==Ul||Gp<8||Gp>15||tm<0||tm>9||lm<0||lm>In)return mm(pp,Ft);Gp===8&&(Gp=9);var i1=new Vp;return pp.state=i1,i1.strm=pp,i1.wrap=o1,i1.gzhead=null,i1.w_bits=Gp,i1.w_size=1<<i1.w_bits,i1.w_mask=i1.w_size-1,i1.hash_bits=O0+7,i1.hash_size=1<<i1.hash_bits,i1.hash_mask=i1.hash_size-1,i1.hash_shift=~~((i1.hash_bits+ip-1)/ip),i1.window=new c.Buf8(i1.w_size*2),i1.head=new c.Buf16(i1.hash_size),i1.prev=new c.Buf16(i1.w_size),i1.lit_bufsize=1<<O0+6,i1.pending_buf_size=i1.lit_bufsize*4,i1.pending_buf=new c.Buf8(i1.pending_buf_size),i1.d_buf=1*i1.lit_bufsize,i1.l_buf=3*i1.lit_bufsize,i1.level=tm,i1.strategy=lm,i1.method=em,Q0(pp)}function gm(pp,tm){return z0(pp,tm,Ul,mu,rp,Ml)}function Kp(pp,tm){var em,Gp,O0,lm;if(!pp||!pp.state||tm>st||tm<0)return pp?mm(pp,Ft):Ft;if(Gp=pp.state,!pp.output||!pp.input&&pp.avail_in!==0||Gp.status===im&&tm!==nt)return mm(pp,pp.avail_out===0?ot:Ft);if(Gp.strm=pp,em=Gp.last_flush,Gp.last_flush=tm,Gp.status===n0)if(Gp.wrap===2)pp.adler=0,Nm(Gp,31),Nm(Gp,139),Nm(Gp,8),Gp.gzhead?(Nm(Gp,(Gp.gzhead.text?1:0)+(Gp.gzhead.hcrc?2:0)+(Gp.gzhead.extra?4:0)+(Gp.gzhead.name?8:0)+(Gp.gzhead.comment?16:0)),Nm(Gp,Gp.gzhead.time&255),Nm(Gp,Gp.gzhead.time>>8&255),Nm(Gp,Gp.gzhead.time>>16&255),Nm(Gp,Gp.gzhead.time>>24&255),Nm(Gp,Gp.level===9?2:Gp.strategy>=Tl||Gp.level<2?4:0),Nm(Gp,Gp.gzhead.os&255),Gp.gzhead.extra&&Gp.gzhead.extra.length&&(Nm(Gp,Gp.gzhead.extra.length&255),Nm(Gp,Gp.gzhead.extra.length>>8&255)),Gp.gzhead.hcrc&&(pp.adler=b(pp.adler,Gp.pending_buf,Gp.pending,0)),Gp.gzindex=0,Gp.status=S0):(Nm(Gp,0),Nm(Gp,0),Nm(Gp,0),Nm(Gp,0),Nm(Gp,0),Nm(Gp,Gp.level===9?2:Gp.strategy>=Tl||Gp.level<2?4:0),Nm(Gp,U0),Gp.status=T0);else{var o1=Ul+(Gp.w_bits-8<<4)<<8,i1=-1;Gp.strategy>=Tl||Gp.level<2?i1=0:Gp.level<6?i1=1:Gp.level===6?i1=2:i1=3,o1|=i1<<6,Gp.strstart!==0&&(o1|=Fp),o1+=31-o1%31,Gp.status=T0,Om(Gp,o1),Gp.strstart!==0&&(Om(Gp,pp.adler>>>16),Om(Gp,pp.adler&65535)),pp.adler=1}if(Gp.status===S0)if(Gp.gzhead.extra){for(O0=Gp.pending;Gp.gzindex<(Gp.gzhead.extra.length&65535)&&!(Gp.pending===Gp.pending_buf_size&&(Gp.gzhead.hcrc&&Gp.pending>O0&&(pp.adler=b(pp.adler,Gp.pending_buf,Gp.pending-O0,O0)),Hm(pp),O0=Gp.pending,Gp.pending===Gp.pending_buf_size));)Nm(Gp,Gp.gzhead.extra[Gp.gzindex]&255),Gp.gzindex++;Gp.gzhead.hcrc&&Gp.pending>O0&&(pp.adler=b(pp.adler,Gp.pending_buf,Gp.pending-O0,O0)),Gp.gzindex===Gp.gzhead.extra.length&&(Gp.gzindex=0,Gp.status=C0)}else Gp.status=C0;if(Gp.status===C0)if(Gp.gzhead.name){O0=Gp.pending;do{if(Gp.pending===Gp.pending_buf_size&&(Gp.gzhead.hcrc&&Gp.pending>O0&&(pp.adler=b(pp.adler,Gp.pending_buf,Gp.pending-O0,O0)),Hm(pp),O0=Gp.pending,Gp.pending===Gp.pending_buf_size)){lm=1;break}Gp.gzindex<Gp.gzhead.name.length?lm=Gp.gzhead.name.charCodeAt(Gp.gzindex++)&255:lm=0,Nm(Gp,lm)}while(lm!==0);Gp.gzhead.hcrc&&Gp.pending>O0&&(pp.adler=b(pp.adler,Gp.pending_buf,Gp.pending-O0,O0)),lm===0&&(Gp.gzindex=0,Gp.status=P0)}else Gp.status=P0;if(Gp.status===P0)if(Gp.gzhead.comment){O0=Gp.pending;do{if(Gp.pending===Gp.pending_buf_size&&(Gp.gzhead.hcrc&&Gp.pending>O0&&(pp.adler=b(pp.adler,Gp.pending_buf,Gp.pending-O0,O0)),Hm(pp),O0=Gp.pending,Gp.pending===Gp.pending_buf_size)){lm=1;break}Gp.gzindex<Gp.gzhead.comment.length?lm=Gp.gzhead.comment.charCodeAt(Gp.gzindex++)&255:lm=0,Nm(Gp,lm)}while(lm!==0);Gp.gzhead.hcrc&&Gp.pending>O0&&(pp.adler=b(pp.adler,Gp.pending_buf,Gp.pending-O0,O0)),lm===0&&(Gp.status=k0)}else Gp.status=k0;if(Gp.status===k0&&(Gp.gzhead.hcrc?(Gp.pending+2>Gp.pending_buf_size&&Hm(pp),Gp.pending+2<=Gp.pending_buf_size&&(Nm(Gp,pp.adler&255),Nm(Gp,pp.adler>>8&255),pp.adler=0,Gp.status=T0)):Gp.status=T0),Gp.pending!==0){if(Hm(pp),pp.avail_out===0)return Gp.last_flush=-1,jt}else if(pp.avail_in===0&&Lm(tm)<=Lm(em)&&tm!==nt)return mm(pp,ot);if(Gp.status===im&&pp.avail_in!==0)return mm(pp,ot);if(pp.avail_in!==0||Gp.lookahead!==0||tm!==$&&Gp.status!==im){var a1=Gp.strategy===Tl?W0(Gp,tm):Gp.strategy===zl?o0(Gp,tm):Em[Gp.level].func(Gp,tm);if((a1===_g||a1===b0)&&(Gp.status=im),a1===am||a1===_g)return pp.avail_out===0&&(Gp.last_flush=-1),jt;if(a1===bm&&(tm===j?d._tr_align(Gp):tm!==st&&(d._tr_stored_block(Gp,0,0,!1),tm===rt&&(Um(Gp.head),Gp.lookahead===0&&(Gp.strstart=0,Gp.block_start=0,Gp.insert=0))),Hm(pp),pp.avail_out===0))return Gp.last_flush=-1,jt}return tm!==nt?jt:Gp.wrap<=0?wl:(Gp.wrap===2?(Nm(Gp,pp.adler&255),Nm(Gp,pp.adler>>8&255),Nm(Gp,pp.adler>>16&255),Nm(Gp,pp.adler>>24&255),Nm(Gp,pp.total_in&255),Nm(Gp,pp.total_in>>8&255),Nm(Gp,pp.total_in>>16&255),Nm(Gp,pp.total_in>>24&255)):(Om(Gp,pp.adler>>>16),Om(Gp,pp.adler&65535)),Hm(pp),Gp.wrap>0&&(Gp.wrap=-Gp.wrap),Gp.pending!==0?jt:wl)}function xm(pp){var tm;return!pp||!pp.state?Ft:(tm=pp.state.status,tm!==n0&&tm!==S0&&tm!==C0&&tm!==P0&&tm!==k0&&tm!==T0&&tm!==im?mm(pp,Ft):(pp.state=null,tm===T0?mm(pp,it):jt))}function $m(pp,tm){var em=tm.length,Gp,O0,lm,o1,i1,a1,w1,wv;if(!pp||!pp.state||(Gp=pp.state,o1=Gp.wrap,o1===2||o1===1&&Gp.status!==n0||Gp.lookahead))return Ft;for(o1===1&&(pp.adler=g(pp.adler,tm,em,0)),Gp.wrap=0,em>=Gp.w_size&&(o1===0&&(Um(Gp.head),Gp.strstart=0,Gp.block_start=0,Gp.insert=0),wv=new c.Buf8(Gp.w_size),c.arraySet(wv,tm,em-Gp.w_size,Gp.w_size,0),tm=wv,em=Gp.w_size),i1=pp.avail_in,a1=pp.next_in,w1=pp.input,pp.avail_in=em,pp.next_in=0,pp.input=tm,Jm(Gp);Gp.lookahead>=ip;){O0=Gp.strstart,lm=Gp.lookahead-(ip-1);do Gp.ins_h=(Gp.ins_h<<Gp.hash_shift^Gp.window[O0+ip-1])&Gp.hash_mask,Gp.prev[O0&Gp.w_mask]=Gp.head[Gp.ins_h],Gp.head[Gp.ins_h]=O0,O0++;while(--lm);Gp.strstart=O0,Gp.lookahead=ip-1,Jm(Gp)}return Gp.strstart+=Gp.lookahead,Gp.block_start=Gp.strstart,Gp.insert=Gp.lookahead,Gp.lookahead=0,Gp.match_length=Gp.prev_length=ip-1,Gp.match_available=0,pp.next_in=a1,pp.input=w1,pp.avail_in=i1,Gp.wrap=o1,jt}o.deflateInit=gm,o.deflateInit2=z0,o.deflateReset=Q0,o.deflateResetKeep=j0,o.deflateSetHeader=Cm,o.deflate=Kp,o.deflateEnd=xm,o.deflateSetDictionary=$m,o.deflateInfo="pako deflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/gzheader.js":e=>{function o(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=o},"./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js":e=>{var o=30,a=12;e.exports=function(c,d){var g,b,_,$,j,rt,nt,st,jt,wl,Ft,it,ot,Ln,Cl,Tl,zl,In,Ml,Dl,Ul,Vl,mu,rp,Ju;g=c.state,b=c.next_in,rp=c.input,_=b+(c.avail_in-5),$=c.next_out,Ju=c.output,j=$-(d-c.avail_out),rt=$+(c.avail_out-257),nt=g.dmax,st=g.wsize,jt=g.whave,wl=g.wnext,Ft=g.window,it=g.hold,ot=g.bits,Ln=g.lencode,Cl=g.distcode,Tl=(1<<g.lenbits)-1,zl=(1<<g.distbits)-1;e:do{ot<15&&(it+=rp[b++]<<ot,ot+=8,it+=rp[b++]<<ot,ot+=8),In=Ln[it&Tl];t:for(;;){if(Ml=In>>>24,it>>>=Ml,ot-=Ml,Ml=In>>>16&255,Ml===0)Ju[$++]=In&65535;else if(Ml&16){Dl=In&65535,Ml&=15,Ml&&(ot<Ml&&(it+=rp[b++]<<ot,ot+=8),Dl+=it&(1<<Ml)-1,it>>>=Ml,ot-=Ml),ot<15&&(it+=rp[b++]<<ot,ot+=8,it+=rp[b++]<<ot,ot+=8),In=Cl[it&zl];r:for(;;){if(Ml=In>>>24,it>>>=Ml,ot-=Ml,Ml=In>>>16&255,Ml&16){if(Ul=In&65535,Ml&=15,ot<Ml&&(it+=rp[b++]<<ot,ot+=8,ot<Ml&&(it+=rp[b++]<<ot,ot+=8)),Ul+=it&(1<<Ml)-1,Ul>nt){c.msg="invalid distance too far back",g.mode=o;break e}if(it>>>=Ml,ot-=Ml,Ml=$-j,Ul>Ml){if(Ml=Ul-Ml,Ml>jt&&g.sane){c.msg="invalid distance too far back",g.mode=o;break e}if(Vl=0,mu=Ft,wl===0){if(Vl+=st-Ml,Ml<Dl){Dl-=Ml;do Ju[$++]=Ft[Vl++];while(--Ml);Vl=$-Ul,mu=Ju}}else if(wl<Ml){if(Vl+=st+wl-Ml,Ml-=wl,Ml<Dl){Dl-=Ml;do Ju[$++]=Ft[Vl++];while(--Ml);if(Vl=0,wl<Dl){Ml=wl,Dl-=Ml;do Ju[$++]=Ft[Vl++];while(--Ml);Vl=$-Ul,mu=Ju}}}else if(Vl+=wl-Ml,Ml<Dl){Dl-=Ml;do Ju[$++]=Ft[Vl++];while(--Ml);Vl=$-Ul,mu=Ju}for(;Dl>2;)Ju[$++]=mu[Vl++],Ju[$++]=mu[Vl++],Ju[$++]=mu[Vl++],Dl-=3;Dl&&(Ju[$++]=mu[Vl++],Dl>1&&(Ju[$++]=mu[Vl++]))}else{Vl=$-Ul;do Ju[$++]=Ju[Vl++],Ju[$++]=Ju[Vl++],Ju[$++]=Ju[Vl++],Dl-=3;while(Dl>2);Dl&&(Ju[$++]=Ju[Vl++],Dl>1&&(Ju[$++]=Ju[Vl++]))}}else if(Ml&64){c.msg="invalid distance code",g.mode=o;break e}else{In=Cl[(In&65535)+(it&(1<<Ml)-1)];continue r}break}}else if(Ml&64)if(Ml&32){g.mode=a;break e}else{c.msg="invalid literal/length code",g.mode=o;break e}else{In=Ln[(In&65535)+(it&(1<<Ml)-1)];continue t}break}}while(b<_&&$<rt);Dl=ot>>3,b-=Dl,ot-=Dl<<3,it&=(1<<ot)-1,c.next_in=b,c.next_out=$,c.avail_in=b<_?5+(_-b):5-(b-_),c.avail_out=$<rt?257+(rt-$):257-($-rt),g.hold=it,g.bits=ot}},"./node_modules/upng-js/node_modules/pako/lib/zlib/inflate.js":(e,o,a)=>{var c=a("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),d=a("./node_modules/upng-js/node_modules/pako/lib/zlib/adler32.js"),g=a("./node_modules/upng-js/node_modules/pako/lib/zlib/crc32.js"),b=a("./node_modules/upng-js/node_modules/pako/lib/zlib/inffast.js"),_=a("./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js"),$=0,j=1,rt=2,nt=4,st=5,jt=6,wl=0,Ft=1,it=2,ot=-2,Ln=-3,Cl=-4,Tl=-5,zl=8,In=1,Ml=2,Dl=3,Ul=4,Vl=5,mu=6,rp=7,Ju=8,cp=9,hp=10,yp=11,xp=12,fp=13,_p=14,ip=15,gp=16,Dp=17,Fp=18,n0=19,S0=20,C0=21,P0=22,k0=23,T0=24,im=25,am=26,bm=27,_g=28,b0=29,U0=30,mm=31,Lm=32,Um=852,Hm=592,Dm=15,Nm=Dm;function Om(z0){return(z0>>>24&255)+(z0>>>8&65280)+((z0&65280)<<8)+((z0&255)<<24)}function Mm(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function cm(z0){var gm;return!z0||!z0.state?ot:(gm=z0.state,z0.total_in=z0.total_out=gm.total=0,z0.msg="",gm.wrap&&(z0.adler=gm.wrap&1),gm.mode=In,gm.last=0,gm.havedict=0,gm.dmax=32768,gm.head=null,gm.hold=0,gm.bits=0,gm.lencode=gm.lendyn=new c.Buf32(Um),gm.distcode=gm.distdyn=new c.Buf32(Hm),gm.sane=1,gm.back=-1,wl)}function Jm(z0){var gm;return!z0||!z0.state?ot:(gm=z0.state,gm.wsize=0,gm.whave=0,gm.wnext=0,cm(z0))}function B0(z0,gm){var Kp,xm;return!z0||!z0.state||(xm=z0.state,gm<0?(Kp=0,gm=-gm):(Kp=(gm>>4)+1,gm<48&&(gm&=15)),gm&&(gm<8||gm>15))?ot:(xm.window!==null&&xm.wbits!==gm&&(xm.window=null),xm.wrap=Kp,xm.wbits=gm,Jm(z0))}function Pp(z0,gm){var Kp,xm;return z0?(xm=new Mm,z0.state=xm,xm.window=null,Kp=B0(z0,gm),Kp!==wl&&(z0.state=null),Kp):ot}function Yp(z0){return Pp(z0,Nm)}var o0=!0,W0,G0;function Em(z0){if(o0){var gm;for(W0=new c.Buf32(512),G0=new c.Buf32(32),gm=0;gm<144;)z0.lens[gm++]=8;for(;gm<256;)z0.lens[gm++]=9;for(;gm<280;)z0.lens[gm++]=7;for(;gm<288;)z0.lens[gm++]=8;for(_(j,z0.lens,0,288,W0,0,z0.work,{bits:9}),gm=0;gm<32;)z0.lens[gm++]=5;_(rt,z0.lens,0,32,G0,0,z0.work,{bits:5}),o0=!1}z0.lencode=W0,z0.lenbits=9,z0.distcode=G0,z0.distbits=5}function hm(z0,gm,Kp,xm){var $m,pp=z0.state;return pp.window===null&&(pp.wsize=1<<pp.wbits,pp.wnext=0,pp.whave=0,pp.window=new c.Buf8(pp.wsize)),xm>=pp.wsize?(c.arraySet(pp.window,gm,Kp-pp.wsize,pp.wsize,0),pp.wnext=0,pp.whave=pp.wsize):($m=pp.wsize-pp.wnext,$m>xm&&($m=xm),c.arraySet(pp.window,gm,Kp-xm,$m,pp.wnext),xm-=$m,xm?(c.arraySet(pp.window,gm,Kp-xm,xm,0),pp.wnext=xm,pp.whave=pp.wsize):(pp.wnext+=$m,pp.wnext===pp.wsize&&(pp.wnext=0),pp.whave<pp.wsize&&(pp.whave+=$m))),0}function Vp(z0,gm){var Kp,xm,$m,pp,tm,em,Gp,O0,lm,o1,i1,a1,w1,wv,P1=0,R1,j1,yv,Rv,Dy,Vy,dv,bv,Cv=new c.Buf8(4),ay,vm,Sy=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z0||!z0.state||!z0.output||!z0.input&&z0.avail_in!==0)return ot;Kp=z0.state,Kp.mode===xp&&(Kp.mode=fp),tm=z0.next_out,$m=z0.output,Gp=z0.avail_out,pp=z0.next_in,xm=z0.input,em=z0.avail_in,O0=Kp.hold,lm=Kp.bits,o1=em,i1=Gp,bv=wl;e:for(;;)switch(Kp.mode){case In:if(Kp.wrap===0){Kp.mode=fp;break}for(;lm<16;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(Kp.wrap&2&&O0===35615){Kp.check=0,Cv[0]=O0&255,Cv[1]=O0>>>8&255,Kp.check=g(Kp.check,Cv,2,0),O0=0,lm=0,Kp.mode=Ml;break}if(Kp.flags=0,Kp.head&&(Kp.head.done=!1),!(Kp.wrap&1)||(((O0&255)<<8)+(O0>>8))%31){z0.msg="incorrect header check",Kp.mode=U0;break}if((O0&15)!==zl){z0.msg="unknown compression method",Kp.mode=U0;break}if(O0>>>=4,lm-=4,dv=(O0&15)+8,Kp.wbits===0)Kp.wbits=dv;else if(dv>Kp.wbits){z0.msg="invalid window size",Kp.mode=U0;break}Kp.dmax=1<<dv,z0.adler=Kp.check=1,Kp.mode=O0&512?hp:xp,O0=0,lm=0;break;case Ml:for(;lm<16;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(Kp.flags=O0,(Kp.flags&255)!==zl){z0.msg="unknown compression method",Kp.mode=U0;break}if(Kp.flags&57344){z0.msg="unknown header flags set",Kp.mode=U0;break}Kp.head&&(Kp.head.text=O0>>8&1),Kp.flags&512&&(Cv[0]=O0&255,Cv[1]=O0>>>8&255,Kp.check=g(Kp.check,Cv,2,0)),O0=0,lm=0,Kp.mode=Dl;case Dl:for(;lm<32;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}Kp.head&&(Kp.head.time=O0),Kp.flags&512&&(Cv[0]=O0&255,Cv[1]=O0>>>8&255,Cv[2]=O0>>>16&255,Cv[3]=O0>>>24&255,Kp.check=g(Kp.check,Cv,4,0)),O0=0,lm=0,Kp.mode=Ul;case Ul:for(;lm<16;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}Kp.head&&(Kp.head.xflags=O0&255,Kp.head.os=O0>>8),Kp.flags&512&&(Cv[0]=O0&255,Cv[1]=O0>>>8&255,Kp.check=g(Kp.check,Cv,2,0)),O0=0,lm=0,Kp.mode=Vl;case Vl:if(Kp.flags&1024){for(;lm<16;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}Kp.length=O0,Kp.head&&(Kp.head.extra_len=O0),Kp.flags&512&&(Cv[0]=O0&255,Cv[1]=O0>>>8&255,Kp.check=g(Kp.check,Cv,2,0)),O0=0,lm=0}else Kp.head&&(Kp.head.extra=null);Kp.mode=mu;case mu:if(Kp.flags&1024&&(a1=Kp.length,a1>em&&(a1=em),a1&&(Kp.head&&(dv=Kp.head.extra_len-Kp.length,Kp.head.extra||(Kp.head.extra=new Array(Kp.head.extra_len)),c.arraySet(Kp.head.extra,xm,pp,a1,dv)),Kp.flags&512&&(Kp.check=g(Kp.check,xm,a1,pp)),em-=a1,pp+=a1,Kp.length-=a1),Kp.length))break e;Kp.length=0,Kp.mode=rp;case rp:if(Kp.flags&2048){if(em===0)break e;a1=0;do dv=xm[pp+a1++],Kp.head&&dv&&Kp.length<65536&&(Kp.head.name+=String.fromCharCode(dv));while(dv&&a1<em);if(Kp.flags&512&&(Kp.check=g(Kp.check,xm,a1,pp)),em-=a1,pp+=a1,dv)break e}else Kp.head&&(Kp.head.name=null);Kp.length=0,Kp.mode=Ju;case Ju:if(Kp.flags&4096){if(em===0)break e;a1=0;do dv=xm[pp+a1++],Kp.head&&dv&&Kp.length<65536&&(Kp.head.comment+=String.fromCharCode(dv));while(dv&&a1<em);if(Kp.flags&512&&(Kp.check=g(Kp.check,xm,a1,pp)),em-=a1,pp+=a1,dv)break e}else Kp.head&&(Kp.head.comment=null);Kp.mode=cp;case cp:if(Kp.flags&512){for(;lm<16;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(O0!==(Kp.check&65535)){z0.msg="header crc mismatch",Kp.mode=U0;break}O0=0,lm=0}Kp.head&&(Kp.head.hcrc=Kp.flags>>9&1,Kp.head.done=!0),z0.adler=Kp.check=0,Kp.mode=xp;break;case hp:for(;lm<32;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}z0.adler=Kp.check=Om(O0),O0=0,lm=0,Kp.mode=yp;case yp:if(Kp.havedict===0)return z0.next_out=tm,z0.avail_out=Gp,z0.next_in=pp,z0.avail_in=em,Kp.hold=O0,Kp.bits=lm,it;z0.adler=Kp.check=1,Kp.mode=xp;case xp:if(gm===st||gm===jt)break e;case fp:if(Kp.last){O0>>>=lm&7,lm-=lm&7,Kp.mode=bm;break}for(;lm<3;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}switch(Kp.last=O0&1,O0>>>=1,lm-=1,O0&3){case 0:Kp.mode=_p;break;case 1:if(Em(Kp),Kp.mode=S0,gm===jt){O0>>>=2,lm-=2;break e}break;case 2:Kp.mode=Dp;break;case 3:z0.msg="invalid block type",Kp.mode=U0}O0>>>=2,lm-=2;break;case _p:for(O0>>>=lm&7,lm-=lm&7;lm<32;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if((O0&65535)!==(O0>>>16^65535)){z0.msg="invalid stored block lengths",Kp.mode=U0;break}if(Kp.length=O0&65535,O0=0,lm=0,Kp.mode=ip,gm===jt)break e;case ip:Kp.mode=gp;case gp:if(a1=Kp.length,a1){if(a1>em&&(a1=em),a1>Gp&&(a1=Gp),a1===0)break e;c.arraySet($m,xm,pp,a1,tm),em-=a1,pp+=a1,Gp-=a1,tm+=a1,Kp.length-=a1;break}Kp.mode=xp;break;case Dp:for(;lm<14;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(Kp.nlen=(O0&31)+257,O0>>>=5,lm-=5,Kp.ndist=(O0&31)+1,O0>>>=5,lm-=5,Kp.ncode=(O0&15)+4,O0>>>=4,lm-=4,Kp.nlen>286||Kp.ndist>30){z0.msg="too many length or distance symbols",Kp.mode=U0;break}Kp.have=0,Kp.mode=Fp;case Fp:for(;Kp.have<Kp.ncode;){for(;lm<3;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}Kp.lens[Sy[Kp.have++]]=O0&7,O0>>>=3,lm-=3}for(;Kp.have<19;)Kp.lens[Sy[Kp.have++]]=0;if(Kp.lencode=Kp.lendyn,Kp.lenbits=7,ay={bits:Kp.lenbits},bv=_($,Kp.lens,0,19,Kp.lencode,0,Kp.work,ay),Kp.lenbits=ay.bits,bv){z0.msg="invalid code lengths set",Kp.mode=U0;break}Kp.have=0,Kp.mode=n0;case n0:for(;Kp.have<Kp.nlen+Kp.ndist;){for(;P1=Kp.lencode[O0&(1<<Kp.lenbits)-1],R1=P1>>>24,j1=P1>>>16&255,yv=P1&65535,!(R1<=lm);){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(yv<16)O0>>>=R1,lm-=R1,Kp.lens[Kp.have++]=yv;else{if(yv===16){for(vm=R1+2;lm<vm;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(O0>>>=R1,lm-=R1,Kp.have===0){z0.msg="invalid bit length repeat",Kp.mode=U0;break}dv=Kp.lens[Kp.have-1],a1=3+(O0&3),O0>>>=2,lm-=2}else if(yv===17){for(vm=R1+3;lm<vm;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}O0>>>=R1,lm-=R1,dv=0,a1=3+(O0&7),O0>>>=3,lm-=3}else{for(vm=R1+7;lm<vm;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}O0>>>=R1,lm-=R1,dv=0,a1=11+(O0&127),O0>>>=7,lm-=7}if(Kp.have+a1>Kp.nlen+Kp.ndist){z0.msg="invalid bit length repeat",Kp.mode=U0;break}for(;a1--;)Kp.lens[Kp.have++]=dv}}if(Kp.mode===U0)break;if(Kp.lens[256]===0){z0.msg="invalid code -- missing end-of-block",Kp.mode=U0;break}if(Kp.lenbits=9,ay={bits:Kp.lenbits},bv=_(j,Kp.lens,0,Kp.nlen,Kp.lencode,0,Kp.work,ay),Kp.lenbits=ay.bits,bv){z0.msg="invalid literal/lengths set",Kp.mode=U0;break}if(Kp.distbits=6,Kp.distcode=Kp.distdyn,ay={bits:Kp.distbits},bv=_(rt,Kp.lens,Kp.nlen,Kp.ndist,Kp.distcode,0,Kp.work,ay),Kp.distbits=ay.bits,bv){z0.msg="invalid distances set",Kp.mode=U0;break}if(Kp.mode=S0,gm===jt)break e;case S0:Kp.mode=C0;case C0:if(em>=6&&Gp>=258){z0.next_out=tm,z0.avail_out=Gp,z0.next_in=pp,z0.avail_in=em,Kp.hold=O0,Kp.bits=lm,b(z0,i1),tm=z0.next_out,$m=z0.output,Gp=z0.avail_out,pp=z0.next_in,xm=z0.input,em=z0.avail_in,O0=Kp.hold,lm=Kp.bits,Kp.mode===xp&&(Kp.back=-1);break}for(Kp.back=0;P1=Kp.lencode[O0&(1<<Kp.lenbits)-1],R1=P1>>>24,j1=P1>>>16&255,yv=P1&65535,!(R1<=lm);){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(j1&&!(j1&240)){for(Rv=R1,Dy=j1,Vy=yv;P1=Kp.lencode[Vy+((O0&(1<<Rv+Dy)-1)>>Rv)],R1=P1>>>24,j1=P1>>>16&255,yv=P1&65535,!(Rv+R1<=lm);){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}O0>>>=Rv,lm-=Rv,Kp.back+=Rv}if(O0>>>=R1,lm-=R1,Kp.back+=R1,Kp.length=yv,j1===0){Kp.mode=am;break}if(j1&32){Kp.back=-1,Kp.mode=xp;break}if(j1&64){z0.msg="invalid literal/length code",Kp.mode=U0;break}Kp.extra=j1&15,Kp.mode=P0;case P0:if(Kp.extra){for(vm=Kp.extra;lm<vm;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}Kp.length+=O0&(1<<Kp.extra)-1,O0>>>=Kp.extra,lm-=Kp.extra,Kp.back+=Kp.extra}Kp.was=Kp.length,Kp.mode=k0;case k0:for(;P1=Kp.distcode[O0&(1<<Kp.distbits)-1],R1=P1>>>24,j1=P1>>>16&255,yv=P1&65535,!(R1<=lm);){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(!(j1&240)){for(Rv=R1,Dy=j1,Vy=yv;P1=Kp.distcode[Vy+((O0&(1<<Rv+Dy)-1)>>Rv)],R1=P1>>>24,j1=P1>>>16&255,yv=P1&65535,!(Rv+R1<=lm);){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}O0>>>=Rv,lm-=Rv,Kp.back+=Rv}if(O0>>>=R1,lm-=R1,Kp.back+=R1,j1&64){z0.msg="invalid distance code",Kp.mode=U0;break}Kp.offset=yv,Kp.extra=j1&15,Kp.mode=T0;case T0:if(Kp.extra){for(vm=Kp.extra;lm<vm;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}Kp.offset+=O0&(1<<Kp.extra)-1,O0>>>=Kp.extra,lm-=Kp.extra,Kp.back+=Kp.extra}if(Kp.offset>Kp.dmax){z0.msg="invalid distance too far back",Kp.mode=U0;break}Kp.mode=im;case im:if(Gp===0)break e;if(a1=i1-Gp,Kp.offset>a1){if(a1=Kp.offset-a1,a1>Kp.whave&&Kp.sane){z0.msg="invalid distance too far back",Kp.mode=U0;break}a1>Kp.wnext?(a1-=Kp.wnext,w1=Kp.wsize-a1):w1=Kp.wnext-a1,a1>Kp.length&&(a1=Kp.length),wv=Kp.window}else wv=$m,w1=tm-Kp.offset,a1=Kp.length;a1>Gp&&(a1=Gp),Gp-=a1,Kp.length-=a1;do $m[tm++]=wv[w1++];while(--a1);Kp.length===0&&(Kp.mode=C0);break;case am:if(Gp===0)break e;$m[tm++]=Kp.length,Gp--,Kp.mode=C0;break;case bm:if(Kp.wrap){for(;lm<32;){if(em===0)break e;em--,O0|=xm[pp++]<<lm,lm+=8}if(i1-=Gp,z0.total_out+=i1,Kp.total+=i1,i1&&(z0.adler=Kp.check=Kp.flags?g(Kp.check,$m,i1,tm-i1):d(Kp.check,$m,i1,tm-i1)),i1=Gp,(Kp.flags?O0:Om(O0))!==Kp.check){z0.msg="incorrect data check",Kp.mode=U0;break}O0=0,lm=0}Kp.mode=_g;case _g:if(Kp.wrap&&Kp.flags){for(;lm<32;){if(em===0)break e;em--,O0+=xm[pp++]<<lm,lm+=8}if(O0!==(Kp.total&4294967295)){z0.msg="incorrect length check",Kp.mode=U0;break}O0=0,lm=0}Kp.mode=b0;case b0:bv=Ft;break e;case U0:bv=Ln;break e;case mm:return Cl;case Lm:default:return ot}return z0.next_out=tm,z0.avail_out=Gp,z0.next_in=pp,z0.avail_in=em,Kp.hold=O0,Kp.bits=lm,(Kp.wsize||i1!==z0.avail_out&&Kp.mode<U0&&(Kp.mode<bm||gm!==nt))&&hm(z0,z0.output,z0.next_out,i1-z0.avail_out),o1-=z0.avail_in,i1-=z0.avail_out,z0.total_in+=o1,z0.total_out+=i1,Kp.total+=i1,Kp.wrap&&i1&&(z0.adler=Kp.check=Kp.flags?g(Kp.check,$m,i1,z0.next_out-i1):d(Kp.check,$m,i1,z0.next_out-i1)),z0.data_type=Kp.bits+(Kp.last?64:0)+(Kp.mode===xp?128:0)+(Kp.mode===S0||Kp.mode===ip?256:0),(o1===0&&i1===0||gm===nt)&&bv===wl&&(bv=Tl),bv}function j0(z0){if(!z0||!z0.state)return ot;var gm=z0.state;return gm.window&&(gm.window=null),z0.state=null,wl}function Q0(z0,gm){var Kp;return!z0||!z0.state||(Kp=z0.state,!(Kp.wrap&2))?ot:(Kp.head=gm,gm.done=!1,wl)}function Cm(z0,gm){var Kp=gm.length,xm,$m,pp;return!z0||!z0.state||(xm=z0.state,xm.wrap!==0&&xm.mode!==yp)?ot:xm.mode===yp&&($m=1,$m=d($m,gm,Kp,0),$m!==xm.check)?Ln:(pp=hm(z0,gm,Kp,Kp),pp?(xm.mode=mm,Cl):(xm.havedict=1,wl))}o.inflateReset=Jm,o.inflateReset2=B0,o.inflateResetKeep=cm,o.inflateInit=Yp,o.inflateInit2=Pp,o.inflate=Vp,o.inflateEnd=j0,o.inflateGetHeader=Q0,o.inflateSetDictionary=Cm,o.inflateInfo="pako inflate (from Nodeca project)"},"./node_modules/upng-js/node_modules/pako/lib/zlib/inftrees.js":(e,o,a)=>{var c=a("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),d=15,g=852,b=592,_=0,$=1,j=2,rt=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],nt=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],st=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],jt=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(wl,Ft,it,ot,Ln,Cl,Tl,zl){var In=zl.bits,Ml=0,Dl=0,Ul=0,Vl=0,mu=0,rp=0,Ju=0,cp=0,hp=0,yp=0,xp,fp,_p,ip,gp,Dp=null,Fp=0,n0,S0=new c.Buf16(d+1),C0=new c.Buf16(d+1),P0=null,k0=0,T0,im,am;for(Ml=0;Ml<=d;Ml++)S0[Ml]=0;for(Dl=0;Dl<ot;Dl++)S0[Ft[it+Dl]]++;for(mu=In,Vl=d;Vl>=1&&S0[Vl]===0;Vl--);if(mu>Vl&&(mu=Vl),Vl===0)return Ln[Cl++]=20971520,Ln[Cl++]=20971520,zl.bits=1,0;for(Ul=1;Ul<Vl&&S0[Ul]===0;Ul++);for(mu<Ul&&(mu=Ul),cp=1,Ml=1;Ml<=d;Ml++)if(cp<<=1,cp-=S0[Ml],cp<0)return-1;if(cp>0&&(wl===_||Vl!==1))return-1;for(C0[1]=0,Ml=1;Ml<d;Ml++)C0[Ml+1]=C0[Ml]+S0[Ml];for(Dl=0;Dl<ot;Dl++)Ft[it+Dl]!==0&&(Tl[C0[Ft[it+Dl]]++]=Dl);if(wl===_?(Dp=P0=Tl,n0=19):wl===$?(Dp=rt,Fp-=257,P0=nt,k0-=257,n0=256):(Dp=st,P0=jt,n0=-1),yp=0,Dl=0,Ml=Ul,gp=Cl,rp=mu,Ju=0,_p=-1,hp=1<<mu,ip=hp-1,wl===$&&hp>g||wl===j&&hp>b)return 1;for(;;){T0=Ml-Ju,Tl[Dl]<n0?(im=0,am=Tl[Dl]):Tl[Dl]>n0?(im=P0[k0+Tl[Dl]],am=Dp[Fp+Tl[Dl]]):(im=96,am=0),xp=1<<Ml-Ju,fp=1<<rp,Ul=fp;do fp-=xp,Ln[gp+(yp>>Ju)+fp]=T0<<24|im<<16|am|0;while(fp!==0);for(xp=1<<Ml-1;yp&xp;)xp>>=1;if(xp!==0?(yp&=xp-1,yp+=xp):yp=0,Dl++,--S0[Ml]===0){if(Ml===Vl)break;Ml=Ft[it+Tl[Dl]]}if(Ml>mu&&(yp&ip)!==_p){for(Ju===0&&(Ju=mu),gp+=Ul,rp=Ml-Ju,cp=1<<rp;rp+Ju<Vl&&(cp-=S0[rp+Ju],!(cp<=0));)rp++,cp<<=1;if(hp+=1<<rp,wl===$&&hp>g||wl===j&&hp>b)return 1;_p=yp&ip,Ln[_p]=mu<<24|rp<<16|gp-Cl|0}}return yp!==0&&(Ln[gp+yp]=Ml-Ju<<24|4194304|0),zl.bits=mu,0}},"./node_modules/upng-js/node_modules/pako/lib/zlib/messages.js":e=>{e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},"./node_modules/upng-js/node_modules/pako/lib/zlib/trees.js":(e,o,a)=>{var c=a("./node_modules/upng-js/node_modules/pako/lib/utils/common.js"),d=4,g=0,b=1,_=2;function $(Vp){for(var j0=Vp.length;--j0>=0;)Vp[j0]=0}var j=0,rt=1,nt=2,st=3,jt=258,wl=29,Ft=256,it=Ft+1+wl,ot=30,Ln=19,Cl=2*it+1,Tl=15,zl=16,In=7,Ml=256,Dl=16,Ul=17,Vl=18,mu=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],rp=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ju=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],cp=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],hp=512,yp=new Array((it+2)*2);$(yp);var xp=new Array(ot*2);$(xp);var fp=new Array(hp);$(fp);var _p=new Array(jt-st+1);$(_p);var ip=new Array(wl);$(ip);var gp=new Array(ot);$(gp);function Dp(Vp,j0,Q0,Cm,z0){this.static_tree=Vp,this.extra_bits=j0,this.extra_base=Q0,this.elems=Cm,this.max_length=z0,this.has_stree=Vp&&Vp.length}var Fp,n0,S0;function C0(Vp,j0){this.dyn_tree=Vp,this.max_code=0,this.stat_desc=j0}function P0(Vp){return Vp<256?fp[Vp]:fp[256+(Vp>>>7)]}function k0(Vp,j0){Vp.pending_buf[Vp.pending++]=j0&255,Vp.pending_buf[Vp.pending++]=j0>>>8&255}function T0(Vp,j0,Q0){Vp.bi_valid>zl-Q0?(Vp.bi_buf|=j0<<Vp.bi_valid&65535,k0(Vp,Vp.bi_buf),Vp.bi_buf=j0>>zl-Vp.bi_valid,Vp.bi_valid+=Q0-zl):(Vp.bi_buf|=j0<<Vp.bi_valid&65535,Vp.bi_valid+=Q0)}function im(Vp,j0,Q0){T0(Vp,Q0[j0*2],Q0[j0*2+1])}function am(Vp,j0){var Q0=0;do Q0|=Vp&1,Vp>>>=1,Q0<<=1;while(--j0>0);return Q0>>>1}function bm(Vp){Vp.bi_valid===16?(k0(Vp,Vp.bi_buf),Vp.bi_buf=0,Vp.bi_valid=0):Vp.bi_valid>=8&&(Vp.pending_buf[Vp.pending++]=Vp.bi_buf&255,Vp.bi_buf>>=8,Vp.bi_valid-=8)}function _g(Vp,j0){var Q0=j0.dyn_tree,Cm=j0.max_code,z0=j0.stat_desc.static_tree,gm=j0.stat_desc.has_stree,Kp=j0.stat_desc.extra_bits,xm=j0.stat_desc.extra_base,$m=j0.stat_desc.max_length,pp,tm,em,Gp,O0,lm,o1=0;for(Gp=0;Gp<=Tl;Gp++)Vp.bl_count[Gp]=0;for(Q0[Vp.heap[Vp.heap_max]*2+1]=0,pp=Vp.heap_max+1;pp<Cl;pp++)tm=Vp.heap[pp],Gp=Q0[Q0[tm*2+1]*2+1]+1,Gp>$m&&(Gp=$m,o1++),Q0[tm*2+1]=Gp,!(tm>Cm)&&(Vp.bl_count[Gp]++,O0=0,tm>=xm&&(O0=Kp[tm-xm]),lm=Q0[tm*2],Vp.opt_len+=lm*(Gp+O0),gm&&(Vp.static_len+=lm*(z0[tm*2+1]+O0)));if(o1!==0){do{for(Gp=$m-1;Vp.bl_count[Gp]===0;)Gp--;Vp.bl_count[Gp]--,Vp.bl_count[Gp+1]+=2,Vp.bl_count[$m]--,o1-=2}while(o1>0);for(Gp=$m;Gp!==0;Gp--)for(tm=Vp.bl_count[Gp];tm!==0;)em=Vp.heap[--pp],!(em>Cm)&&(Q0[em*2+1]!==Gp&&(Vp.opt_len+=(Gp-Q0[em*2+1])*Q0[em*2],Q0[em*2+1]=Gp),tm--)}}function b0(Vp,j0,Q0){var Cm=new Array(Tl+1),z0=0,gm,Kp;for(gm=1;gm<=Tl;gm++)Cm[gm]=z0=z0+Q0[gm-1]<<1;for(Kp=0;Kp<=j0;Kp++){var xm=Vp[Kp*2+1];xm!==0&&(Vp[Kp*2]=am(Cm[xm]++,xm))}}function U0(){var Vp,j0,Q0,Cm,z0,gm=new Array(Tl+1);for(Q0=0,Cm=0;Cm<wl-1;Cm++)for(ip[Cm]=Q0,Vp=0;Vp<1<<mu[Cm];Vp++)_p[Q0++]=Cm;for(_p[Q0-1]=Cm,z0=0,Cm=0;Cm<16;Cm++)for(gp[Cm]=z0,Vp=0;Vp<1<<rp[Cm];Vp++)fp[z0++]=Cm;for(z0>>=7;Cm<ot;Cm++)for(gp[Cm]=z0<<7,Vp=0;Vp<1<<rp[Cm]-7;Vp++)fp[256+z0++]=Cm;for(j0=0;j0<=Tl;j0++)gm[j0]=0;for(Vp=0;Vp<=143;)yp[Vp*2+1]=8,Vp++,gm[8]++;for(;Vp<=255;)yp[Vp*2+1]=9,Vp++,gm[9]++;for(;Vp<=279;)yp[Vp*2+1]=7,Vp++,gm[7]++;for(;Vp<=287;)yp[Vp*2+1]=8,Vp++,gm[8]++;for(b0(yp,it+1,gm),Vp=0;Vp<ot;Vp++)xp[Vp*2+1]=5,xp[Vp*2]=am(Vp,5);Fp=new Dp(yp,mu,Ft+1,it,Tl),n0=new Dp(xp,rp,0,ot,Tl),S0=new Dp(new Array(0),Ju,0,Ln,In)}function mm(Vp){var j0;for(j0=0;j0<it;j0++)Vp.dyn_ltree[j0*2]=0;for(j0=0;j0<ot;j0++)Vp.dyn_dtree[j0*2]=0;for(j0=0;j0<Ln;j0++)Vp.bl_tree[j0*2]=0;Vp.dyn_ltree[Ml*2]=1,Vp.opt_len=Vp.static_len=0,Vp.last_lit=Vp.matches=0}function Lm(Vp){Vp.bi_valid>8?k0(Vp,Vp.bi_buf):Vp.bi_valid>0&&(Vp.pending_buf[Vp.pending++]=Vp.bi_buf),Vp.bi_buf=0,Vp.bi_valid=0}function Um(Vp,j0,Q0,Cm){Lm(Vp),k0(Vp,Q0),k0(Vp,~Q0),c.arraySet(Vp.pending_buf,Vp.window,j0,Q0,Vp.pending),Vp.pending+=Q0}function Hm(Vp,j0,Q0,Cm){var z0=j0*2,gm=Q0*2;return Vp[z0]<Vp[gm]||Vp[z0]===Vp[gm]&&Cm[j0]<=Cm[Q0]}function Dm(Vp,j0,Q0){for(var Cm=Vp.heap[Q0],z0=Q0<<1;z0<=Vp.heap_len&&(z0<Vp.heap_len&&Hm(j0,Vp.heap[z0+1],Vp.heap[z0],Vp.depth)&&z0++,!Hm(j0,Cm,Vp.heap[z0],Vp.depth));)Vp.heap[Q0]=Vp.heap[z0],Q0=z0,z0<<=1;Vp.heap[Q0]=Cm}function Nm(Vp,j0,Q0){var Cm,z0,gm=0,Kp,xm;if(Vp.last_lit!==0)do Cm=Vp.pending_buf[Vp.d_buf+gm*2]<<8|Vp.pending_buf[Vp.d_buf+gm*2+1],z0=Vp.pending_buf[Vp.l_buf+gm],gm++,Cm===0?im(Vp,z0,j0):(Kp=_p[z0],im(Vp,Kp+Ft+1,j0),xm=mu[Kp],xm!==0&&(z0-=ip[Kp],T0(Vp,z0,xm)),Cm--,Kp=P0(Cm),im(Vp,Kp,Q0),xm=rp[Kp],xm!==0&&(Cm-=gp[Kp],T0(Vp,Cm,xm)));while(gm<Vp.last_lit);im(Vp,Ml,j0)}function Om(Vp,j0){var Q0=j0.dyn_tree,Cm=j0.stat_desc.static_tree,z0=j0.stat_desc.has_stree,gm=j0.stat_desc.elems,Kp,xm,$m=-1,pp;for(Vp.heap_len=0,Vp.heap_max=Cl,Kp=0;Kp<gm;Kp++)Q0[Kp*2]!==0?(Vp.heap[++Vp.heap_len]=$m=Kp,Vp.depth[Kp]=0):Q0[Kp*2+1]=0;for(;Vp.heap_len<2;)pp=Vp.heap[++Vp.heap_len]=$m<2?++$m:0,Q0[pp*2]=1,Vp.depth[pp]=0,Vp.opt_len--,z0&&(Vp.static_len-=Cm[pp*2+1]);for(j0.max_code=$m,Kp=Vp.heap_len>>1;Kp>=1;Kp--)Dm(Vp,Q0,Kp);pp=gm;do Kp=Vp.heap[1],Vp.heap[1]=Vp.heap[Vp.heap_len--],Dm(Vp,Q0,1),xm=Vp.heap[1],Vp.heap[--Vp.heap_max]=Kp,Vp.heap[--Vp.heap_max]=xm,Q0[pp*2]=Q0[Kp*2]+Q0[xm*2],Vp.depth[pp]=(Vp.depth[Kp]>=Vp.depth[xm]?Vp.depth[Kp]:Vp.depth[xm])+1,Q0[Kp*2+1]=Q0[xm*2+1]=pp,Vp.heap[1]=pp++,Dm(Vp,Q0,1);while(Vp.heap_len>=2);Vp.heap[--Vp.heap_max]=Vp.heap[1],_g(Vp,j0),b0(Q0,$m,Vp.bl_count)}function Mm(Vp,j0,Q0){var Cm,z0=-1,gm,Kp=j0[0*2+1],xm=0,$m=7,pp=4;for(Kp===0&&($m=138,pp=3),j0[(Q0+1)*2+1]=65535,Cm=0;Cm<=Q0;Cm++)gm=Kp,Kp=j0[(Cm+1)*2+1],!(++xm<$m&&gm===Kp)&&(xm<pp?Vp.bl_tree[gm*2]+=xm:gm!==0?(gm!==z0&&Vp.bl_tree[gm*2]++,Vp.bl_tree[Dl*2]++):xm<=10?Vp.bl_tree[Ul*2]++:Vp.bl_tree[Vl*2]++,xm=0,z0=gm,Kp===0?($m=138,pp=3):gm===Kp?($m=6,pp=3):($m=7,pp=4))}function cm(Vp,j0,Q0){var Cm,z0=-1,gm,Kp=j0[0*2+1],xm=0,$m=7,pp=4;for(Kp===0&&($m=138,pp=3),Cm=0;Cm<=Q0;Cm++)if(gm=Kp,Kp=j0[(Cm+1)*2+1],!(++xm<$m&&gm===Kp)){if(xm<pp)do im(Vp,gm,Vp.bl_tree);while(--xm!==0);else gm!==0?(gm!==z0&&(im(Vp,gm,Vp.bl_tree),xm--),im(Vp,Dl,Vp.bl_tree),T0(Vp,xm-3,2)):xm<=10?(im(Vp,Ul,Vp.bl_tree),T0(Vp,xm-3,3)):(im(Vp,Vl,Vp.bl_tree),T0(Vp,xm-11,7));xm=0,z0=gm,Kp===0?($m=138,pp=3):gm===Kp?($m=6,pp=3):($m=7,pp=4)}}function Jm(Vp){var j0;for(Mm(Vp,Vp.dyn_ltree,Vp.l_desc.max_code),Mm(Vp,Vp.dyn_dtree,Vp.d_desc.max_code),Om(Vp,Vp.bl_desc),j0=Ln-1;j0>=3&&Vp.bl_tree[cp[j0]*2+1]===0;j0--);return Vp.opt_len+=3*(j0+1)+5+5+4,j0}function B0(Vp,j0,Q0,Cm){var z0;for(T0(Vp,j0-257,5),T0(Vp,Q0-1,5),T0(Vp,Cm-4,4),z0=0;z0<Cm;z0++)T0(Vp,Vp.bl_tree[cp[z0]*2+1],3);cm(Vp,Vp.dyn_ltree,j0-1),cm(Vp,Vp.dyn_dtree,Q0-1)}function Pp(Vp){var j0=4093624447,Q0;for(Q0=0;Q0<=31;Q0++,j0>>>=1)if(j0&1&&Vp.dyn_ltree[Q0*2]!==0)return g;if(Vp.dyn_ltree[18]!==0||Vp.dyn_ltree[20]!==0||Vp.dyn_ltree[26]!==0)return b;for(Q0=32;Q0<Ft;Q0++)if(Vp.dyn_ltree[Q0*2]!==0)return b;return g}var Yp=!1;function o0(Vp){Yp||(U0(),Yp=!0),Vp.l_desc=new C0(Vp.dyn_ltree,Fp),Vp.d_desc=new C0(Vp.dyn_dtree,n0),Vp.bl_desc=new C0(Vp.bl_tree,S0),Vp.bi_buf=0,Vp.bi_valid=0,mm(Vp)}function W0(Vp,j0,Q0,Cm){T0(Vp,(j<<1)+(Cm?1:0),3),Um(Vp,j0,Q0)}function G0(Vp){T0(Vp,rt<<1,3),im(Vp,Ml,yp),bm(Vp)}function Em(Vp,j0,Q0,Cm){var z0,gm,Kp=0;Vp.level>0?(Vp.strm.data_type===_&&(Vp.strm.data_type=Pp(Vp)),Om(Vp,Vp.l_desc),Om(Vp,Vp.d_desc),Kp=Jm(Vp),z0=Vp.opt_len+3+7>>>3,gm=Vp.static_len+3+7>>>3,gm<=z0&&(z0=gm)):z0=gm=Q0+5,Q0+4<=z0&&j0!==-1?W0(Vp,j0,Q0,Cm):Vp.strategy===d||gm===z0?(T0(Vp,(rt<<1)+(Cm?1:0),3),Nm(Vp,yp,xp)):(T0(Vp,(nt<<1)+(Cm?1:0),3),B0(Vp,Vp.l_desc.max_code+1,Vp.d_desc.max_code+1,Kp+1),Nm(Vp,Vp.dyn_ltree,Vp.dyn_dtree)),mm(Vp),Cm&&Lm(Vp)}function hm(Vp,j0,Q0){return Vp.pending_buf[Vp.d_buf+Vp.last_lit*2]=j0>>>8&255,Vp.pending_buf[Vp.d_buf+Vp.last_lit*2+1]=j0&255,Vp.pending_buf[Vp.l_buf+Vp.last_lit]=Q0&255,Vp.last_lit++,j0===0?Vp.dyn_ltree[Q0*2]++:(Vp.matches++,j0--,Vp.dyn_ltree[(_p[Q0]+Ft+1)*2]++,Vp.dyn_dtree[P0(j0)*2]++),Vp.last_lit===Vp.lit_bufsize-1}o._tr_init=o0,o._tr_stored_block=W0,o._tr_flush_block=Em,o._tr_tally=hm,o._tr_align=G0},"./node_modules/upng-js/node_modules/pako/lib/zlib/zstream.js":e=>{function o(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=o},"./src/3Dmol.ts":(e,o,a)=>{a.r(o),a.d(o,{CAP:()=>b.CAP,CC:()=>d.CC,CONTEXTS_PER_VIEWPORT:()=>j.CONTEXTS_PER_VIEWPORT,Color:()=>d.Color,CustomLinear:()=>rt.CustomLinear,Cylinder:()=>Cl.Cylinder,GLDraw:()=>b.GLDraw,GLModel:()=>_.GLModel,GLShape:()=>$.GLShape,GLViewer:()=>j.GLViewer,GLVolumetricRender:()=>ot.GLVolumetricRender,Gradient:()=>rt.Gradient,GradientType:()=>rt.GradientType,Label:()=>nt.Label,LabelCount:()=>nt.LabelCount,MarchingCube:()=>wl.MarchingCube,MarchingCubeInitializer:()=>wl.MarchingCubeInitializer,Matrix3:()=>Ln.Matrix3,Matrix4:()=>Ln.Matrix4,Parsers:()=>st.Parsers,PausableTimer:()=>Ft.PausableTimer,PointGrid:()=>wl.PointGrid,ProteinSurface:()=>wl.ProteinSurface,Quaternion:()=>Ln.Quaternion,ROYGB:()=>rt.ROYGB,RWB:()=>rt.RWB,Ray:()=>Ln.Ray,Sinebow:()=>rt.Sinebow,Sphere:()=>Cl.Sphere,SurfaceType:()=>wl.SurfaceType,Triangle:()=>Cl.Triangle,Vector2:()=>Ln.Vector2,Vector3:()=>Ln.Vector3,VolumeData:()=>it.VolumeData,adjustVolumeStyle:()=>Ft.adjustVolumeStyle,applyPartialCharges:()=>jt.applyPartialCharges,autoinit:()=>c.autoinit,autoload:()=>c.autoload,base64ToArray:()=>Ft.base64ToArray,bondLength:()=>st.bondLength,builtinColorSchemes:()=>d.builtinColorSchemes,builtinGradients:()=>rt.builtinGradients,chains:()=>d.chains,clamp:()=>Ln.clamp,conversionMatrix3:()=>Ln.conversionMatrix3,createStereoViewer:()=>j.createStereoViewer,createViewer:()=>j.createViewer,createViewerGrid:()=>j.createViewerGrid,deepCopy:()=>Ft.deepCopy,degToRad:()=>Ln.degToRad,download:()=>Ft.download,drawCartoon:()=>g.drawCartoon,elementColors:()=>d.elementColors,extend:()=>Ft.extend,get:()=>Ft.get,getAtomProperty:()=>Ft.getAtomProperty,getColorFromStyle:()=>Ft.getColorFromStyle,getElement:()=>Ft.getElement,getExtent:()=>Ft.getExtent,getGradient:()=>rt.getGradient,getPropertyRange:()=>Ft.getPropertyRange,getbin:()=>Ft.getbin,htmlColors:()=>d.htmlColors,inflateString:()=>Ft.inflateString,isEmptyObject:()=>Ft.isEmptyObject,isNumeric:()=>Ft.isNumeric,makeFunction:()=>Ft.makeFunction,mergeGeos:()=>Ft.mergeGeos,normalizeValue:()=>rt.normalizeValue,partialCharges:()=>jt.partialCharges,processing_autoinit:()=>c.processing_autoinit,residues:()=>d.residues,setBondLength:()=>st.setBondLength,setSyncSurface:()=>wl.setSyncSurface,specStringToObject:()=>Ft.specStringToObject,splitMesh:()=>$.splitMesh,ssColors:()=>d.ssColors,subdivide_spline:()=>g.subdivide_spline,syncSurface:()=>wl.syncSurface,viewers:()=>c.viewers});var c=a("./src/autoload.ts"),d=a("./src/colors.ts"),g=a("./src/glcartoon.ts"),b=a("./src/GLDraw.ts"),_=a("./src/GLModel.ts"),$=a("./src/GLShape.ts"),j=a("./src/GLViewer.ts"),rt=a("./src/Gradient.ts"),nt=a("./src/Label.ts"),st=a("./src/parsers/index.ts"),jt=a("./src/partialCharges.ts"),wl=a("./src/ProteinSurface4.ts");a("./src/specs.ts");var Ft=a("./src/utilities.ts"),it=a("./src/VolumeData.ts"),ot=a("./src/VolumetricRender.ts"),Ln=a("./src/WebGL/math/index.ts"),Cl=a("./src/WebGL/shapes/index.ts")},"./src/GLDraw.ts":(e,o,a)=>{a.r(o),a.d(o,{CAP:()=>d,GLDraw:()=>g});var c=a("./src/WebGL/math/index.ts"),d;(function(b){b[b.NONE=0]="NONE",b[b.FLAT=1]="FLAT",b[b.ROUND=2]="ROUND"})(d||(d={}));var g;(function(b){function _(Ft,it,ot){var Ln=Math.hypot(Ft,it),Cl,Tl,zl,In,Ml;Ln<1e-4?(Tl=0,zl=1):(Tl=-Ft/Ln,zl=it/Ln),it=-Tl*Ft+zl*it,Cl=Math.hypot(it,ot),Cl<1e-4?(In=0,Ml=1):(In=ot/Cl,Ml=it/Cl);var Dl=new Float32Array(9);return Dl[0]=zl,Dl[1]=Tl,Dl[2]=0,Dl[3]=-Tl*Ml,Dl[4]=zl*Ml,Dl[5]=In,Dl[6]=Tl*In,Dl[7]=-zl*In,Dl[8]=Ml,Dl}class ${constructor(){this.cache={};let it=[],ot=4,Ln=Math.pow(2,ot),Cl=2,Tl=Math.pow(2,Cl),zl=Ln/Tl,In;for(it[0]=new c.Vector3(-1,0,0),it[zl]=new c.Vector3(0,0,1),it[zl*2]=new c.Vector3(1,0,0),it[zl*3]=new c.Vector3(0,0,-1),Cl=3;Cl<=ot;Cl++){for(Tl=Math.pow(2,Cl-1),zl=Ln/Tl,In=0;In<Tl-1;In++)it[zl/2+In*zl]=it[In*zl].clone().add(it[(In+1)*zl]).normalize();In=Tl-1,it[zl/2+In*zl]=it[In*zl].clone().add(it[0]).normalize()}this.basisVectors=it}getVerticesForRadius(it,ot,Ln){if(typeof this.cache<"u"&&this.cache[it]!==void 0&&this.cache[it][ot+Ln]!==void 0)return this.cache[it][ot+Ln];for(var Cl=this.basisVectors.length,Tl=[],zl=[],In,Ml=0;Ml<Cl;Ml++)Tl.push(this.basisVectors[Ml].clone().multiplyScalar(it)),Tl.push(this.basisVectors[Ml].clone().multiplyScalar(it)),In=this.basisVectors[Ml].clone().normalize(),zl.push(In),zl.push(In);var Dl=[],Ul=10,Vl=Cl,mu=0,rp=Math.PI*2,Ju=0,cp=Math.PI,hp,yp,xp=!1,fp=!1;for(yp=0;yp<=Ul;yp++){xp=yp===0||yp===Ul,fp=yp===Ul/2;var _p=[],ip=[];for(hp=0;hp<=Vl;hp++){if(fp){var gp=hp<Vl?2*hp:0;ip.push(gp+1),_p.push(gp);continue}var Dp=hp/Vl,Fp=yp/Ul;if(!xp||hp===0)if(hp<Vl){var n0=new c.Vector3;n0.x=-it*Math.cos(mu+Dp*rp)*Math.sin(Ju+Fp*cp),ot==1?n0.y=0:n0.y=it*Math.cos(Ju+Fp*cp),n0.z=it*Math.sin(mu+Dp*rp)*Math.sin(Ju+Fp*cp),Math.abs(n0.x)<1e-5&&(n0.x=0),Math.abs(n0.y)<1e-5&&(n0.y=0),Math.abs(n0.z)<1e-5&&(n0.z=0),ot==d.FLAT?(In=new c.Vector3(0,Math.cos(Ju+Fp*cp),0),In.normalize()):(In=new c.Vector3(n0.x,n0.y,n0.z),In.normalize()),Tl.push(n0),zl.push(In),_p.push(Tl.length-1)}else _p.push(Tl.length-Vl);else xp&&_p.push(Tl.length-1)}fp&&Dl.push(ip),Dl.push(_p)}var S0={vertices:Tl,normals:zl,verticesRows:Dl,w:Vl,h:Ul};return it in this.cache||(this.cache[it]={}),this.cache[it][ot+Ln]=S0,S0}}var j=new $;function rt(Ft,it,ot,Ln,Cl,Tl=0,zl=0){if(!it||!ot)return;let In=function(lm){if(typeof lm=="string"){let o1=lm;return o1.toLowerCase()=="flat"?d.FLAT:o1.toLowerCase()=="round"?d.ROUND:d.NONE}else return lm};Tl=In(Tl),zl=In(zl);var Ml=zl||Tl;Cl=Cl||{r:0,g:0,b:0};var Dl=_(ot.x-it.x,ot.y-it.y,ot.z-it.z),Ul=j.getVerticesForRadius(Ln,zl,"to"),Vl=Ul.w,mu=Ul.h,rp=Ml?mu*Vl+2:2*Vl,Ju=Ft.updateGeoGroup(rp),cp=Ul.vertices,hp=Ul.normals,yp=Ul.verticesRows,xp=yp[mu/2],fp=yp[mu/2+1],_p=Ju.vertices,ip,gp,Dp,Fp,n0,S0,C0=Ju.vertexArray,P0=Ju.normalArray,k0=Ju.colorArray,T0=Ju.faceArray;for(Dp=0;Dp<Vl;++Dp){var im=2*Dp;Fp=Dl[0]*cp[im].x+Dl[3]*cp[im].y+Dl[6]*cp[im].z,n0=Dl[1]*cp[im].x+Dl[4]*cp[im].y+Dl[7]*cp[im].z,S0=Dl[5]*cp[im].y+Dl[8]*cp[im].z,ip=3*(_p+im),gp=Ju.faceidx,C0[ip]=Fp+it.x,C0[ip+1]=n0+it.y,C0[ip+2]=S0+it.z,C0[ip+3]=Fp+ot.x,C0[ip+4]=n0+ot.y,C0[ip+5]=S0+ot.z,P0[ip]=Fp,P0[ip+3]=Fp,P0[ip+1]=n0,P0[ip+4]=n0,P0[ip+2]=S0,P0[ip+5]=S0,k0[ip]=Cl.r,k0[ip+3]=Cl.r,k0[ip+1]=Cl.g,k0[ip+4]=Cl.g,k0[ip+2]=Cl.b,k0[ip+5]=Cl.b,T0[gp]=fp[Dp]+_p,T0[gp+1]=fp[Dp+1]+_p,T0[gp+2]=xp[Dp]+_p,T0[gp+3]=xp[Dp]+_p,T0[gp+4]=fp[Dp+1]+_p,T0[gp+5]=xp[Dp+1]+_p,Ju.faceidx+=6}if(Ml){var am=zl?0:mu/2,bm=Tl?mu+1:mu/2+1,_g,b0,U0,mm,Lm,Um,Hm,Dm,Nm,Om,Mm,cm,Jm,B0,Pp,Yp,o0,W0,G0,Em,hm,Vp,j0,Q0,Cm,z0,gm,Kp,xm,$m,pp,tm;for(n0=am;n0<bm;n0++)if(n0!==mu/2){var em=n0<=mu/2?ot:it,Gp=j.getVerticesForRadius(Ln,zl,"to"),O0=j.getVerticesForRadius(Ln,Tl,"from");for(em===ot?(cp=Gp.vertices,hp=Gp.normals,yp=Gp.verticesRows):em==it&&(cp=O0.vertices,hp=O0.normals,yp=O0.verticesRows),Fp=0;Fp<Vl;Fp++)gp=Ju.faceidx,_g=yp[n0][Fp+1],xm=(_g+_p)*3,b0=yp[n0][Fp],$m=(b0+_p)*3,U0=yp[n0+1][Fp],pp=(U0+_p)*3,mm=yp[n0+1][Fp+1],tm=(mm+_p)*3,Lm=Dl[0]*cp[_g].x+Dl[3]*cp[_g].y+Dl[6]*cp[_g].z,Um=Dl[0]*cp[b0].x+Dl[3]*cp[b0].y+Dl[6]*cp[b0].z,Hm=Dl[0]*cp[U0].x+Dl[3]*cp[U0].y+Dl[6]*cp[U0].z,Dm=Dl[0]*cp[mm].x+Dl[3]*cp[mm].y+Dl[6]*cp[mm].z,Nm=Dl[1]*cp[_g].x+Dl[4]*cp[_g].y+Dl[7]*cp[_g].z,Om=Dl[1]*cp[b0].x+Dl[4]*cp[b0].y+Dl[7]*cp[b0].z,Mm=Dl[1]*cp[U0].x+Dl[4]*cp[U0].y+Dl[7]*cp[U0].z,cm=Dl[1]*cp[mm].x+Dl[4]*cp[mm].y+Dl[7]*cp[mm].z,Jm=Dl[5]*cp[_g].y+Dl[8]*cp[_g].z,B0=Dl[5]*cp[b0].y+Dl[8]*cp[b0].z,Pp=Dl[5]*cp[U0].y+Dl[8]*cp[U0].z,Yp=Dl[5]*cp[mm].y+Dl[8]*cp[mm].z,C0[xm]=Lm+em.x,C0[$m]=Um+em.x,C0[pp]=Hm+em.x,C0[tm]=Dm+em.x,C0[xm+1]=Nm+em.y,C0[$m+1]=Om+em.y,C0[pp+1]=Mm+em.y,C0[tm+1]=cm+em.y,C0[xm+2]=Jm+em.z,C0[$m+2]=B0+em.z,C0[pp+2]=Pp+em.z,C0[tm+2]=Yp+em.z,k0[xm]=Cl.r,k0[$m]=Cl.r,k0[pp]=Cl.r,k0[tm]=Cl.r,k0[xm+1]=Cl.g,k0[$m+1]=Cl.g,k0[pp+1]=Cl.g,k0[tm+1]=Cl.g,k0[xm+2]=Cl.b,k0[$m+2]=Cl.b,k0[pp+2]=Cl.b,k0[tm+2]=Cl.b,o0=Dl[0]*hp[_g].x+Dl[3]*hp[_g].y+Dl[6]*hp[_g].z,W0=Dl[0]*hp[b0].x+Dl[3]*hp[b0].y+Dl[6]*hp[b0].z,G0=Dl[0]*hp[U0].x+Dl[3]*hp[U0].y+Dl[6]*hp[U0].z,Em=Dl[0]*hp[mm].x+Dl[3]*hp[mm].y+Dl[6]*hp[mm].z,hm=Dl[1]*hp[_g].x+Dl[4]*hp[_g].y+Dl[7]*hp[_g].z,Vp=Dl[1]*hp[b0].x+Dl[4]*hp[b0].y+Dl[7]*hp[b0].z,j0=Dl[1]*hp[U0].x+Dl[4]*hp[U0].y+Dl[7]*hp[U0].z,Q0=Dl[1]*hp[mm].x+Dl[4]*hp[mm].y+Dl[7]*hp[mm].z,Cm=Dl[5]*hp[_g].y+Dl[8]*hp[_g].z,z0=Dl[5]*hp[b0].y+Dl[8]*hp[b0].z,gm=Dl[5]*hp[U0].y+Dl[8]*hp[U0].z,Kp=Dl[5]*hp[mm].y+Dl[8]*hp[mm].z,n0===0?(P0[xm]=o0,P0[pp]=G0,P0[tm]=Em,P0[xm+1]=hm,P0[pp+1]=j0,P0[tm+1]=Q0,P0[xm+2]=Cm,P0[pp+2]=gm,P0[tm+2]=Kp,T0[gp]=_g+_p,T0[gp+1]=U0+_p,T0[gp+2]=mm+_p,Ju.faceidx+=3):n0===bm-1?(P0[xm]=o0,P0[$m]=W0,P0[pp]=G0,P0[xm+1]=hm,P0[$m+1]=Vp,P0[pp+1]=j0,P0[xm+2]=Cm,P0[$m+2]=z0,P0[pp+2]=gm,T0[gp]=_g+_p,T0[gp+1]=b0+_p,T0[gp+2]=U0+_p,Ju.faceidx+=3):(P0[xm]=o0,P0[$m]=W0,P0[tm]=Em,P0[xm+1]=hm,P0[$m+1]=Vp,P0[tm+1]=Q0,P0[xm+2]=Cm,P0[$m+2]=z0,P0[tm+2]=Kp,P0[$m]=W0,P0[pp]=G0,P0[tm]=Em,P0[$m+1]=Vp,P0[pp+1]=j0,P0[tm+1]=Q0,P0[$m+2]=z0,P0[pp+2]=gm,P0[tm+2]=Kp,T0[gp]=_g+_p,T0[gp+1]=b0+_p,T0[gp+2]=mm+_p,T0[gp+3]=b0+_p,T0[gp+4]=U0+_p,T0[gp+5]=mm+_p,Ju.faceidx+=6)}}Ju.vertices+=rp}b.drawCylinder=rt;function nt(Ft,it,ot,Ln,Cl){if(!it||!ot)return;Cl=Cl||{r:0,g:0,b:0};let Tl=new c.Vector3(ot.x-it.x,ot.y-it.y,ot.z-it.z);var zl=_(Tl.x,Tl.y,Tl.z);Tl=Tl.normalize();var In=j.basisVectors.length,Ml=j.basisVectors,Dl=In+2,Ul=Ft.updateGeoGroup(Dl),Vl=Ul.vertices,mu,rp,Ju,cp,hp,yp,xp=Ul.vertexArray,fp=Ul.normalArray,_p=Ul.colorArray,ip=Ul.faceArray;for(mu=Vl*3,xp[mu]=it.x,xp[mu+1]=it.y,xp[mu+2]=it.z,fp[mu]=-Tl.x,fp[mu+1]=-Tl.y,fp[mu+2]=-Tl.z,_p[mu]=Cl.r,_p[mu+1]=Cl.g,_p[mu+2]=Cl.b,xp[mu+3]=ot.x,xp[mu+4]=ot.y,xp[mu+5]=ot.z,fp[mu+3]=Tl.x,fp[mu+4]=Tl.y,fp[mu+5]=Tl.z,_p[mu+3]=Cl.r,_p[mu+4]=Cl.g,_p[mu+5]=Cl.b,mu+=6,Ju=0;Ju<In;++Ju){var gp=Ml[Ju].clone();gp.multiplyScalar(Ln),cp=zl[0]*gp.x+zl[3]*gp.y+zl[6]*gp.z,hp=zl[1]*gp.x+zl[4]*gp.y+zl[7]*gp.z,yp=zl[5]*gp.y+zl[8]*gp.z,xp[mu]=cp+it.x,xp[mu+1]=hp+it.y,xp[mu+2]=yp+it.z,fp[mu]=cp,fp[mu+1]=hp,fp[mu+2]=yp,_p[mu]=Cl.r,_p[mu+1]=Cl.g,_p[mu+2]=Cl.b,mu+=3}for(Ul.vertices+=In+2,rp=Ul.faceidx,Ju=0;Ju<In;Ju++){var Dp=Vl+2+Ju,Fp=Vl+2+(Ju+1)%In;ip[rp]=Dp,ip[rp+1]=Fp,ip[rp+2]=Vl,rp+=3,ip[rp]=Dp,ip[rp+1]=Fp,ip[rp+2]=Vl+1,rp+=3}Ul.faceidx+=6*In}b.drawCone=nt;class st{constructor(){this.cache=new Map}getVerticesForRadius(it,ot){ot=ot||2,this.cache.has(ot)||this.cache.set(ot,new Map);let Ln=this.cache.get(ot);if(Ln.has(it))return Ln.get(it);var Cl={vertices:[],verticesRows:[],normals:[]},Tl=16*ot,zl=10*ot;it<1&&(Tl=10*ot,zl=8*ot);var In=0,Ml=Math.PI*2,Dl=0,Ul=Math.PI,Vl,mu;for(mu=0;mu<=zl;mu++){let Ju=[];for(Vl=0;Vl<=Tl;Vl++){let cp=Vl/Tl,hp=mu/zl,yp=-it*Math.cos(In+cp*Ml)*Math.sin(Dl+hp*Ul),xp=it*Math.cos(Dl+hp*Ul),fp=it*Math.sin(In+cp*Ml)*Math.sin(Dl+hp*Ul);var rp=new c.Vector3(yp,xp,fp);rp.normalize(),Cl.vertices.push({x:yp,y:xp,z:fp}),Cl.normals.push(rp),Ju.push(Cl.vertices.length-1)}Cl.verticesRows.push(Ju)}return Ln.set(it,Cl),Cl}}var jt=new st;function wl(Ft,it,ot,Ln,Cl){var Tl=jt.getVerticesForRadius(ot,Cl),zl=Tl.vertices,In=Tl.normals,Ml=Ft.updateGeoGroup(zl.length),Dl=Ml.vertices,Ul=Ml.vertexArray,Vl=Ml.colorArray,mu=Ml.faceArray,rp=Ml.lineArray,Ju=Ml.normalArray;for(let yp=0,xp=zl.length;yp<xp;++yp){let fp=3*(Dl+yp),_p=zl[yp];Ul[fp]=_p.x+it.x,Ul[fp+1]=_p.y+it.y,Ul[fp+2]=_p.z+it.z,Vl[fp]=Ln.r,Vl[fp+1]=Ln.g,Vl[fp+2]=Ln.b}Ml.vertices+=zl.length;let cp=Tl.verticesRows,hp=cp.length-1;for(let yp=0;yp<hp;yp++){let xp=cp[yp].length-1;for(let fp=0;fp<xp;fp++){let _p=Ml.faceidx,ip=Ml.lineidx,gp=cp[yp][fp+1]+Dl,Dp=gp*3,Fp=cp[yp][fp]+Dl,n0=Fp*3,S0=cp[yp+1][fp]+Dl,C0=S0*3,P0=cp[yp+1][fp+1]+Dl,k0=P0*3,T0=In[gp-Dl],im=In[Fp-Dl],am=In[S0-Dl],bm=In[P0-Dl];Math.abs(zl[gp-Dl].y)===ot?(Ju[Dp]=T0.x,Ju[C0]=am.x,Ju[k0]=bm.x,Ju[Dp+1]=T0.y,Ju[C0+1]=am.y,Ju[k0+1]=bm.y,Ju[Dp+2]=T0.z,Ju[C0+2]=am.z,Ju[k0+2]=bm.z,mu[_p]=gp,mu[_p+1]=S0,mu[_p+2]=P0,rp[ip]=gp,rp[ip+1]=S0,rp[ip+2]=gp,rp[ip+3]=P0,rp[ip+4]=S0,rp[ip+5]=P0,Ml.faceidx+=3,Ml.lineidx+=6):Math.abs(zl[S0-Dl].y)===ot?(Ju[Dp]=T0.x,Ju[n0]=im.x,Ju[C0]=am.x,Ju[Dp+1]=T0.y,Ju[n0+1]=im.y,Ju[C0+1]=am.y,Ju[Dp+2]=T0.z,Ju[n0+2]=im.z,Ju[C0+2]=am.z,mu[_p]=gp,mu[_p+1]=Fp,mu[_p+2]=S0,rp[ip]=gp,rp[ip+1]=Fp,rp[ip+2]=gp,rp[ip+3]=S0,rp[ip+4]=Fp,rp[ip+5]=S0,Ml.faceidx+=3,Ml.lineidx+=6):(Ju[Dp]=T0.x,Ju[n0]=im.x,Ju[k0]=bm.x,Ju[Dp+1]=T0.y,Ju[n0+1]=im.y,Ju[k0+1]=bm.y,Ju[Dp+2]=T0.z,Ju[n0+2]=im.z,Ju[k0+2]=bm.z,Ju[n0]=im.x,Ju[C0]=am.x,Ju[k0]=bm.x,Ju[n0+1]=im.y,Ju[C0+1]=am.y,Ju[k0+1]=bm.y,Ju[n0+2]=im.z,Ju[C0+2]=am.z,Ju[k0+2]=bm.z,mu[_p]=gp,mu[_p+1]=Fp,mu[_p+2]=P0,mu[_p+3]=Fp,mu[_p+4]=S0,mu[_p+5]=P0,rp[ip]=gp,rp[ip+1]=Fp,rp[ip+2]=gp,rp[ip+3]=P0,rp[ip+4]=Fp,rp[ip+5]=S0,rp[ip+6]=S0,rp[ip+7]=P0,Ml.faceidx+=6,Ml.lineidx+=8)}}}b.drawSphere=wl})(g||(g={}))},"./src/GLModel.ts":(e,o,a)=>{a.r(o),a.d(o,{GLModel:()=>wl});var c=a("./src/WebGL/index.ts"),d=a("./src/WebGL/shapes/index.ts"),g=a("./src/WebGL/math/index.ts"),b=a("./src/colors.ts"),_=a("./src/GLDraw.ts"),$=a("./src/glcartoon.ts"),j=a("./src/utilities.ts"),rt=a("./src/Gradient.ts"),nt=a("./src/parsers/index.ts"),st=a("./node_modules/netcdfjs/lib-esm/index.js"),jt=a("./src/parsers/utils/assignBonds.ts");class wl{static sameObj(it,ot){return it&&ot?JSON.stringify(it)==JSON.stringify(ot):it==ot}constructor(it,ot,Ln){this.atoms=[],this.frames=[],this.box=null,this.atomdfs=null,this.id=0,this.hidden=!1,this.molObj=null,this.renderedMolObj=null,this.lastColors=null,this.modelData={},this.modelDatas=null,this.idMatrix=new g.Matrix4,this.dontDuplicateAtoms=!0,this.defaultColor=b.elementColors.defaultColor,this.defaultStickRadius=.25,this.options=ot||{},this.viewer=Ln,this.ElementColors=this.options.defaultcolors?this.options.defaultcolors:b.elementColors.defaultColors,this.defaultSphereRadius=this.options.defaultSphereRadius?this.options.defaultSphereRadius:1.5,this.defaultCartoonQuality=this.options.cartoonQuality?this.options.cartoonQuality:10,this.id=it}getRadiusFromStyle(it,ot){var Ln=this.defaultSphereRadius;if(typeof ot.radius<"u")Ln=ot.radius;else if(wl.vdwRadii[it.elem])Ln=wl.vdwRadii[it.elem];else if(it.elem.length>1){let Cl=it.elem;Cl=Cl[0].toUpperCase()+Cl[1].toLowerCase(),wl.vdwRadii[Cl]&&(Ln=wl.vdwRadii[Cl])}return typeof ot.scale<"u"&&(Ln*=ot.scale),Ln}drawAtomCross(it,ot){if(it.style.cross){var Ln=it.style.cross;if(!Ln.hidden){var Cl=Ln.linewidth||wl.defaultlineWidth;ot[Cl]||(ot[Cl]=new c.Geometry);var Tl=ot[Cl].updateGeoGroup(6),zl=this.getRadiusFromStyle(it,Ln),In=[[zl,0,0],[-zl,0,0],[0,zl,0],[0,-zl,0],[0,0,zl],[0,0,-zl]],Ml=it.clickable||it.hoverable;Ml&&it.intersectionShape===void 0&&(it.intersectionShape={sphere:[],cylinder:[],line:[]});for(var Dl=(0,j.getColorFromStyle)(it,Ln),Ul=Tl.vertexArray,Vl=Tl.colorArray,mu=0;mu<6;mu++){var rp=Tl.vertices*3;if(Tl.vertices++,Ul[rp]=it.x+In[mu][0],Ul[rp+1]=it.y+In[mu][1],Ul[rp+2]=it.z+In[mu][2],Vl[rp]=Dl.r,Vl[rp+1]=Dl.g,Vl[rp+2]=Dl.b,Ml){var Ju=new g.Vector3(In[mu][0],In[mu][1],In[mu][2]);Ju.multiplyScalar(.1),Ju.set(Ju.x+it.x,Ju.y+it.y,Ju.z+it.z),it.intersectionShape.line.push(Ju)}}}}}getGoodCross(it,ot,Ln,Cl){for(var Tl=null,zl=-1,In=0,Ml=it.bonds.length;In<Ml;In++)if(it.bonds[In]!=ot.index){let Ul=it.bonds[In],Vl=this.atoms[Ul],mu=new g.Vector3(Vl.x,Vl.y,Vl.z).clone();mu.sub(Ln);let rp=mu.clone();rp.cross(Cl);var Dl=rp.lengthSq();if(Dl>zl&&(zl=Dl,Tl=rp,zl>.1))return Tl}return Tl}getSideBondV(it,ot,Ln){var Cl,Tl,zl,In,Ml,Dl=new g.Vector3(it.x,it.y,it.z),Ul=new g.Vector3(ot.x,ot.y,ot.z),Vl=Ul.clone(),mu=null;if(Vl.sub(Dl),it.bonds.length===1)ot.bonds.length===1?(mu=Vl.clone(),Math.abs(mu.x)>1e-4?mu.y+=1:mu.x+=1):(Cl=(Ln+1)%ot.bonds.length,Tl=ot.bonds[Cl],zl=this.atoms[Tl],zl.index==it.index&&(Cl=(Cl+1)%ot.bonds.length,Tl=ot.bonds[Cl],zl=this.atoms[Tl]),In=new g.Vector3(zl.x,zl.y,zl.z),Ml=In.clone(),Ml.sub(Dl),mu=Ml.clone(),mu.cross(Vl));else if(mu=this.getGoodCross(it,ot,Dl,Vl),mu.lengthSq()<.01){var rp=this.getGoodCross(ot,it,Dl,Vl);rp!=null&&(mu=rp)}return mu.lengthSq()<.01&&(mu=Vl.clone(),Math.abs(mu.x)>1e-4?mu.y+=1:mu.x+=1),mu.cross(Vl),mu.normalize(),mu}addLine(it,ot,Ln,Cl,Tl,zl){it[Ln]=Cl.x,it[Ln+1]=Cl.y,it[Ln+2]=Cl.z,ot[Ln]=zl.r,ot[Ln+1]=zl.g,ot[Ln+2]=zl.b,it[Ln+3]=Tl.x,it[Ln+4]=Tl.y,it[Ln+5]=Tl.z,ot[Ln+3]=zl.r,ot[Ln+4]=zl.g,ot[Ln+5]=zl.b}drawBondLines(it,ot,Ln){if(it.style.line){var Cl=it.style.line;if(!Cl.hidden){var Tl,zl,In,Ml,Dl=Cl.linewidth||wl.defaultlineWidth;Ln[Dl]||(Ln[Dl]=new c.Geometry);for(var Ul=Ln[Dl].updateGeoGroup(6*it.bonds.length),Vl=Ul.vertexArray,mu=Ul.colorArray,rp=0;rp<it.bonds.length;rp++){var Ju=it.bonds[rp],cp=ot[Ju];if(cp.style.line&&!(it.index>=cp.index)){var hp=new g.Vector3(it.x,it.y,it.z),yp=new g.Vector3(cp.x,cp.y,cp.z),xp=hp.clone().add(yp).multiplyScalar(.5),fp=!1,_p=it.clickable||it.hoverable,ip=cp.clickable||cp.hoverable;(_p||ip)&&(_p&&(it.intersectionShape===void 0&&(it.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),it.intersectionShape.line.push(hp),it.intersectionShape.line.push(xp)),ip&&(cp.intersectionShape===void 0&&(cp.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),cp.intersectionShape.line.push(xp),cp.intersectionShape.line.push(yp)));var gp=(0,j.getColorFromStyle)(it,it.style.line),Dp=(0,j.getColorFromStyle)(cp,cp.style.line);if(it.bondStyles&&it.bondStyles[rp]){var Fp=it.bondStyles[rp];if(!Fp.iswire)continue;Fp.singleBond&&(fp=!0),typeof Fp.color1<"u"&&(gp=b.CC.color(Fp.color1)),typeof Fp.color2<"u"&&(Dp=b.CC.color(Fp.color2))}var n0=Ul.vertices*3,S0,C0;if(it.bondOrder[rp]>1&&it.bondOrder[rp]<4&&!fp){var P0=this.getSideBondV(it,cp,rp),k0=yp.clone();k0.sub(hp),it.bondOrder[rp]==2?(P0.multiplyScalar(.1),Tl=hp.clone(),Tl.add(P0),zl=hp.clone(),zl.sub(P0),In=Tl.clone(),In.add(k0),Ml=zl.clone(),Ml.add(k0),gp==Dp?(Ul.vertices+=4,this.addLine(Vl,mu,n0,Tl,In,gp),this.addLine(Vl,mu,n0+6,zl,Ml,gp)):(Ul.vertices+=8,k0.multiplyScalar(.5),S0=Tl.clone(),S0.add(k0),C0=zl.clone(),C0.add(k0),this.addLine(Vl,mu,n0,Tl,S0,gp),this.addLine(Vl,mu,n0+6,S0,In,Dp),this.addLine(Vl,mu,n0+12,zl,C0,gp),this.addLine(Vl,mu,n0+18,C0,Ml,Dp))):it.bondOrder[rp]==3&&(P0.multiplyScalar(.1),Tl=hp.clone(),Tl.add(P0),zl=hp.clone(),zl.sub(P0),In=Tl.clone(),In.add(k0),Ml=zl.clone(),Ml.add(k0),gp==Dp?(Ul.vertices+=6,this.addLine(Vl,mu,n0,hp,yp,gp),this.addLine(Vl,mu,n0+6,Tl,In,gp),this.addLine(Vl,mu,n0+12,zl,Ml,gp)):(Ul.vertices+=12,k0.multiplyScalar(.5),S0=Tl.clone(),S0.add(k0),C0=zl.clone(),C0.add(k0),this.addLine(Vl,mu,n0,hp,xp,gp),this.addLine(Vl,mu,n0+6,xp,yp,Dp),this.addLine(Vl,mu,n0+12,Tl,S0,gp),this.addLine(Vl,mu,n0+18,S0,In,Dp),this.addLine(Vl,mu,n0+24,zl,C0,gp),this.addLine(Vl,mu,n0+30,C0,Ml,Dp)))}else gp==Dp?(Ul.vertices+=2,this.addLine(Vl,mu,n0,hp,yp,gp)):(Ul.vertices+=4,this.addLine(Vl,mu,n0,hp,xp,gp),this.addLine(Vl,mu,n0+6,xp,yp,Dp))}}}}}drawAtomSphere(it,ot){if(it.style.sphere){var Ln=it.style.sphere;if(!Ln.hidden){var Cl=(0,j.getColorFromStyle)(it,Ln),Tl=this.getRadiusFromStyle(it,Ln);if((it.clickable===!0||it.hoverable)&&it.intersectionShape!==void 0){var zl=new g.Vector3(it.x,it.y,it.z);it.intersectionShape.sphere.push(new d.Sphere(zl,Tl))}_.GLDraw.drawSphere(ot,it,Tl,Cl)}}}drawAtomClickSphere(it){if(it.style.clicksphere){var ot=it.style.clicksphere;if(!ot.hidden){var Ln=this.getRadiusFromStyle(it,ot);if((it.clickable===!0||it.hoverable)&&it.intersectionShape!==void 0){var Cl=new g.Vector3(it.x,it.y,it.z);it.intersectionShape.sphere.push(new d.Sphere(Cl,Ln))}}}}drawAtomInstanced(it,ot){if(it.style.sphere){var Ln=it.style.sphere;if(!Ln.hidden){var Cl=this.getRadiusFromStyle(it,Ln),Tl=(0,j.getColorFromStyle)(it,Ln),zl=ot.updateGeoGroup(1),In=zl.vertices,Ml=In*3,Dl=zl.vertexArray,Ul=zl.colorArray,Vl=zl.radiusArray;if(Dl[Ml]=it.x,Dl[Ml+1]=it.y,Dl[Ml+2]=it.z,Ul[Ml]=Tl.r,Ul[Ml+1]=Tl.g,Ul[Ml+2]=Tl.b,Vl[In]=Cl,(it.clickable===!0||it.hoverable)&&it.intersectionShape!==void 0){var mu=new g.Vector3(it.x,it.y,it.z);it.intersectionShape.sphere.push(new d.Sphere(mu,Cl))}zl.vertices+=1}}}drawSphereImposter(it,ot,Ln,Cl){var Tl=it.updateGeoGroup(4),zl,In=Tl.vertices,Ml=In*3,Dl=Tl.vertexArray,Ul=Tl.colorArray;for(zl=0;zl<4;zl++)Dl[Ml+3*zl]=ot.x,Dl[Ml+3*zl+1]=ot.y,Dl[Ml+3*zl+2]=ot.z;var Vl=Tl.normalArray;for(zl=0;zl<4;zl++)Ul[Ml+3*zl]=Cl.r,Ul[Ml+3*zl+1]=Cl.g,Ul[Ml+3*zl+2]=Cl.b;Vl[Ml+0]=-Ln,Vl[Ml+1]=Ln,Vl[Ml+2]=0,Vl[Ml+3]=-Ln,Vl[Ml+4]=-Ln,Vl[Ml+5]=0,Vl[Ml+6]=Ln,Vl[Ml+7]=-Ln,Vl[Ml+8]=0,Vl[Ml+9]=Ln,Vl[Ml+10]=Ln,Vl[Ml+11]=0,Tl.vertices+=4;var mu=Tl.faceArray,rp=Tl.faceidx;mu[rp+0]=In,mu[rp+1]=In+1,mu[rp+2]=In+2,mu[rp+3]=In+2,mu[rp+4]=In+3,mu[rp+5]=In,Tl.faceidx+=6}drawAtomImposter(it,ot){if(it.style.sphere){var Ln=it.style.sphere;if(!Ln.hidden){var Cl=this.getRadiusFromStyle(it,Ln),Tl=(0,j.getColorFromStyle)(it,Ln);if((it.clickable===!0||it.hoverable)&&it.intersectionShape!==void 0){var zl=new g.Vector3(it.x,it.y,it.z);it.intersectionShape.sphere.push(new d.Sphere(zl,Cl))}this.drawSphereImposter(ot,it,Cl,Tl)}}}calculateDashes(it,ot,Ln,Cl,Tl){var zl=Math.sqrt(Math.pow(it.x-ot.x,2)+Math.pow(it.y-ot.y,2)+Math.pow(it.z-ot.z,2));Ln=Math.max(Ln,0),Tl=Math.max(Tl,0)+2*Ln,Cl=Math.max(Cl,.001),Cl+Tl>zl&&(Cl=zl,Tl=0);var In=Math.floor((zl-Cl)/(Cl+Tl))+1,Ml=In*Cl;Tl=(zl-Ml)/In;for(var Dl,Ul=new g.Vector3(it.x,it.y,it.z),Vl=new g.Vector3((ot.x-it.x)/(zl/Tl),(ot.y-it.y)/(zl/Tl),(ot.z-it.z)/(zl/Tl)),mu=new g.Vector3((ot.x-it.x)/(zl/Cl),(ot.y-it.y)/(zl/Cl),(ot.z-it.z)/(zl/Cl)),rp=[],Ju=0;Ju<In;Ju++)Dl=new g.Vector3(Ul.x+mu.x,Ul.y+mu.y,Ul.z+mu.z),rp.push({from:Ul,to:Dl}),Ul=new g.Vector3(Dl.x+Vl.x,Dl.y+Vl.y,Dl.z+Vl.z);return rp}static drawStickImposter(it,ot,Ln,Cl,Tl,zl=0,In=0){for(var Ml=it.updateGeoGroup(4),Dl=Ml.vertices,Ul=Dl*3,Vl=Ml.vertexArray,mu=Ml.colorArray,rp=Ml.radiusArray,Ju=Ml.normalArray,cp=Tl.r,hp=Tl.g,yp=Tl.b,xp=function(Dp){var Fp=-Dp;return Fp==0&&(Fp=-1e-4),Fp},fp=Ul,_p=0;_p<4;_p++)Vl[fp]=ot.x,Ju[fp]=Ln.x,mu[fp]=cp,fp++,Vl[fp]=ot.y,Ju[fp]=Ln.y,mu[fp]=hp,fp++,Vl[fp]=ot.z,Ju[fp]=Ln.z,_p<2?mu[fp]=yp:mu[fp]=xp(yp),fp++;Ml.vertices+=4,rp[Dl]=-Cl,rp[Dl+1]=Cl,rp[Dl+2]=-Cl,rp[Dl+3]=Cl;var ip=Ml.faceArray,gp=Ml.faceidx;ip[gp+0]=Dl,ip[gp+1]=Dl+1,ip[gp+2]=Dl+2,ip[gp+3]=Dl+2,ip[gp+4]=Dl+3,ip[gp+5]=Dl,Ml.faceidx+=6}drawBondSticks(it,ot,Ln){var Cl,Tl;if(it.style.stick){var zl=it.style.stick;if(!zl.hidden){var In=zl.radius||this.defaultStickRadius,Ml=zl.doubleBondScaling||.4,Dl=zl.tripleBondScaling||.25,Ul=((Cl=zl.dashedBondConfig)===null||Cl===void 0?void 0:Cl.dashLength)||.1,Vl=((Tl=zl.dashedBondConfig)===null||Tl===void 0?void 0:Tl.gapLength)||.25,mu=In,rp=zl.singleBonds||!1,Ju=zl.dashedBonds||!1,cp=0,hp=0,yp,xp,fp,_p,ip,gp,Dp,Fp,n0,S0,C0,P0=(0,j.getColorFromStyle)(it,zl),k0,T0,im;!it.capDrawn&&it.bonds.length<4&&(cp=2);var am=j0=>{var Q0=Ln.imposter?wl.drawStickImposter:_.GLDraw.drawCylinder;return!Ju&&j0>=1?Q0:(Cm,z0,gm,Kp,xm,$m=0,pp=0,tm=.1,em=.25)=>{var Gp=this.calculateDashes(z0,gm,Kp,tm,em);Gp.forEach(O0=>{Q0(Cm,O0.from,O0.to,Kp,xm,$m,pp)})}};for(fp=0;fp<it.bonds.length;fp++){var bm=am(it.bondOrder[fp]),_g=it.bonds[fp],b0=ot[_g];if(k0=T0=im=null,it.index<b0.index){var U0=b0.style;if(!U0.stick||U0.stick.hidden)continue;var mm=(0,j.getColorFromStyle)(b0,U0.stick);if(mu=In,_p=rp,it.bondStyles&&it.bondStyles[fp]){if(ip=it.bondStyles[fp],ip.iswire)continue;ip.radius&&(mu=ip.radius),ip.singleBond&&(_p=!0),typeof ip.color1<"u"&&(P0=b.CC.color(ip.color1)),typeof ip.color2<"u"&&(mm=b.CC.color(ip.color2))}var Lm=new g.Vector3(it.x,it.y,it.z),Um=new g.Vector3(b0.x,b0.y,b0.z);if(it.bondOrder[fp]<=1||_p||it.bondOrder[fp]>3){if(it.bondOrder[fp]<1&&(mu*=it.bondOrder[fp]),!b0.capDrawn&&b0.bonds.length<4&&(hp=2),P0!=mm?(k0=new g.Vector3().addVectors(Lm,Um).multiplyScalar(.5),bm(Ln,Lm,k0,mu,P0,cp,0,Ul,Vl),bm(Ln,k0,Um,mu,mm,0,hp,Ul,Vl)):bm(Ln,Lm,Um,mu,P0,cp,hp,Ul,Vl),yp=it.clickable||it.hoverable,xp=b0.clickable||b0.hoverable,yp||xp){if(k0||(k0=new g.Vector3().addVectors(Lm,Um).multiplyScalar(.5)),yp){var Hm=new d.Cylinder(Lm,k0,mu),Dm=new d.Sphere(Lm,mu);it.intersectionShape.cylinder.push(Hm),it.intersectionShape.sphere.push(Dm)}if(xp){var Nm=new d.Cylinder(Um,k0,mu),Om=new d.Sphere(Um,mu);b0.intersectionShape.cylinder.push(Nm),b0.intersectionShape.sphere.push(Om)}}}else if(it.bondOrder[fp]>1){var Mm=0,cm=0;mu!=In&&(Mm=2,cm=2);var Jm=Um.clone(),B0=null;Jm.sub(Lm);var Pp,Yp,o0,W0,G0;B0=this.getSideBondV(it,b0,fp),it.bondOrder[fp]==2?(Pp=mu*Ml,B0.multiplyScalar(Pp*1.5),Yp=Lm.clone(),Yp.add(B0),o0=Lm.clone(),o0.sub(B0),W0=Yp.clone(),W0.add(Jm),G0=o0.clone(),G0.add(Jm),P0!=mm?(k0=new g.Vector3().addVectors(Yp,W0).multiplyScalar(.5),T0=new g.Vector3().addVectors(o0,G0).multiplyScalar(.5),bm(Ln,Yp,k0,Pp,P0,Mm,0),bm(Ln,k0,W0,Pp,mm,0,cm),bm(Ln,o0,T0,Pp,P0,Mm,0),bm(Ln,T0,G0,Pp,mm,0,cm)):(bm(Ln,Yp,W0,Pp,P0,Mm,cm),bm(Ln,o0,G0,Pp,P0,Mm,cm)),yp=it.clickable||it.hoverable,xp=b0.clickable||b0.hoverable,(yp||xp)&&(k0||(k0=new g.Vector3().addVectors(Yp,W0).multiplyScalar(.5)),T0||(T0=new g.Vector3().addVectors(o0,G0).multiplyScalar(.5)),yp&&(gp=new d.Cylinder(Yp,k0,Pp),Dp=new d.Cylinder(o0,T0,Pp),it.intersectionShape.cylinder.push(gp),it.intersectionShape.cylinder.push(Dp)),xp&&(n0=new d.Cylinder(W0,k0,Pp),S0=new d.Cylinder(G0,T0,Pp),b0.intersectionShape.cylinder.push(n0),b0.intersectionShape.cylinder.push(S0)))):it.bondOrder[fp]==3&&(Pp=mu*Dl,B0.cross(Jm),B0.normalize(),B0.multiplyScalar(Pp*3),Yp=Lm.clone(),Yp.add(B0),o0=Lm.clone(),o0.sub(B0),W0=Yp.clone(),W0.add(Jm),G0=o0.clone(),G0.add(Jm),P0!=mm?(k0=new g.Vector3().addVectors(Yp,W0).multiplyScalar(.5),T0=new g.Vector3().addVectors(o0,G0).multiplyScalar(.5),im=new g.Vector3().addVectors(Lm,Um).multiplyScalar(.5),bm(Ln,Yp,k0,Pp,P0,Mm,0),bm(Ln,k0,W0,Pp,mm,0,cm),bm(Ln,Lm,im,Pp,P0,cp,0),bm(Ln,im,Um,Pp,mm,0,hp),bm(Ln,o0,T0,Pp,P0,Mm,0),bm(Ln,T0,G0,Pp,mm,0,cm)):(bm(Ln,Yp,W0,Pp,P0,Mm,cm),bm(Ln,Lm,Um,Pp,P0,cp,hp),bm(Ln,o0,G0,Pp,P0,Mm,cm)),yp=it.clickable||it.hoverable,xp=b0.clickable||b0.hoverable,(yp||xp)&&(k0||(k0=new g.Vector3().addVectors(Yp,W0).multiplyScalar(.5)),T0||(T0=new g.Vector3().addVectors(o0,G0).multiplyScalar(.5)),im||(im=new g.Vector3().addVectors(Lm,Um).multiplyScalar(.5)),yp&&(gp=new d.Cylinder(Yp.clone(),k0.clone(),Pp),Dp=new d.Cylinder(o0.clone(),T0.clone(),Pp),Fp=new d.Cylinder(Lm.clone(),im.clone(),Pp),it.intersectionShape.cylinder.push(gp),it.intersectionShape.cylinder.push(Dp),it.intersectionShape.cylinder.push(Fp)),xp&&(n0=new d.Cylinder(W0.clone(),k0.clone(),Pp),S0=new d.Cylinder(G0.clone(),T0.clone(),Pp),C0=new d.Cylinder(Um.clone(),im.clone(),Pp),b0.intersectionShape.cylinder.push(n0),b0.intersectionShape.cylinder.push(S0),b0.intersectionShape.cylinder.push(C0))))}}}var Em=!1,hm=0,Vp=!1;for(fp=0;fp<it.bonds.length;fp++)_p=rp,it.bondStyles&&it.bondStyles[fp]&&(ip=it.bondStyles[fp],ip.singleBond&&(_p=!0),ip.radius&&ip.radius!=In&&(Vp=!0)),(_p||it.bondOrder[fp]==1)&&hm++;Vp?hm>0&&(Em=!0):hm==0&&(it.bonds.length>0||zl.showNonBonded)&&(Em=!0),Em&&(mu=In,Ln.imposter?this.drawSphereImposter(Ln.sphereGeometry,it,mu,P0):_.GLDraw.drawSphere(Ln,it,mu,P0))}}}createMolObj(it,ot){ot=ot||{};var Ln=new c.Object3D,Cl=[],Tl={},zl={},In=this.drawAtomSphere,Ml=null,Dl=null;ot.supportsImposters?(In=this.drawAtomImposter,Ml=new c.Geometry(!0),Ml.imposter=!0,Dl=new c.Geometry(!0,!0),Dl.imposter=!0,Dl.sphereGeometry=new c.Geometry(!0),Dl.sphereGeometry.imposter=!0,Dl.drawnCaps={}):ot.supportsAIA?(In=this.drawAtomInstanced,Ml=new c.Geometry(!1,!0,!0),Ml.instanced=!0,Dl=new c.Geometry(!0)):(Ml=new c.Geometry(!0),Dl=new c.Geometry(!0));var Ul,Vl,mu,rp,Ju={},cp=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(Ul=0,mu=it.length;Ul<mu;Ul++){var hp=it[Ul];if(hp&&hp.style){(hp.clickable||hp.hoverable)&&hp.intersectionShape===void 0&&(hp.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),rp={line:void 0,cross:void 0,stick:void 0,sphere:void 0};for(Vl in rp)hp.style[Vl]?hp.style[Vl].opacity?rp[Vl]=parseFloat(hp.style[Vl].opacity):rp[Vl]=1:rp[Vl]=void 0,Ju[Vl]?rp[Vl]!=null&&Ju[Vl]!=rp[Vl]&&(console.log("Warning: "+Vl+" opacity is ambiguous"),Ju[Vl]=1):Ju[Vl]=rp[Vl];In.call(this,hp,Ml),this.drawAtomClickSphere(hp),this.drawAtomCross(hp,zl),this.drawBondLines(hp,it,Tl),this.drawBondSticks(hp,it,Dl),typeof hp.style.cartoon<"u"&&!hp.style.cartoon.hidden&&(hp.style.cartoon.color==="spectrum"&&typeof hp.resi=="number"&&!hp.hetflag&&(hp.resi<cp[0]&&(cp[0]=hp.resi),hp.resi>cp[1]&&(cp[1]=hp.resi)),Cl.push(hp))}}if(Cl.length>0&&(0,$.drawCartoon)(Ln,Cl,cp,this.defaultCartoonQuality),Ml&&Ml.vertices>0){Ml.initTypedArrays();var yp=null,xp=null;Ml.imposter?yp=new c.SphereImposterMaterial({ambient:0,vertexColors:!0,reflectivity:0}):Ml.instanced?(xp=new c.Geometry(!0),_.GLDraw.drawSphere(xp,{x:0,y:0,z:0},1,new b.Color(.5,.5,.5)),xp.initTypedArrays(),yp=new c.InstancedMaterial({sphereMaterial:new c.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),sphere:xp})):yp=new c.MeshLambertMaterial({ambient:0,vertexColors:!0,reflectivity:0}),Ju.sphere<1&&Ju.sphere>=0&&(yp.transparent=!0,yp.opacity=Ju.sphere),xp=new c.Mesh(Ml,yp),Ln.add(xp)}if(Dl.vertices>0){var fp=null,_p=null,ip=Dl.sphereGeometry;(!ip||typeof ip.vertices>"u"||ip.vertices==0)&&(ip=null),Dl.initTypedArrays(),ip&&ip.initTypedArrays();var gp={ambient:0,vertexColors:!0,reflectivity:0};Dl.imposter?(fp=new c.StickImposterMaterial(gp),_p=new c.SphereImposterMaterial(gp)):(fp=new c.MeshLambertMaterial(gp),_p=new c.MeshLambertMaterial(gp),fp.wireframe&&(Dl.setUpWireframe(),ip&&ip.setUpWireframe())),Ju.stick<1&&Ju.stick>=0&&(fp.transparent=!0,fp.opacity=Ju.stick,_p.transparent=!0,_p.opacity=Ju.stick);var Dp=new c.Mesh(Dl,fp);if(Ln.add(Dp),ip){var Fp=new c.Mesh(ip,_p);Ln.add(Fp)}}var n0;for(Ul in Tl)if(Tl.hasOwnProperty(Ul)){n0=Ul;var S0=new c.LineBasicMaterial({linewidth:n0,vertexColors:!0});Ju.line<1&&Ju.line>=0&&(S0.transparent=!0,S0.opacity=Ju.line),Tl[Ul].initTypedArrays();var C0=new c.Line(Tl[Ul],S0,c.LineStyle.LinePieces);Ln.add(C0)}for(Ul in zl)if(zl.hasOwnProperty(Ul)){n0=Ul;var P0=new c.LineBasicMaterial({linewidth:n0,vertexColors:!0});Ju.cross<1&&Ju.cross>=0&&(P0.transparent=!0,P0.opacity=Ju.cross),zl[Ul].initTypedArrays();var k0=new c.Line(zl[Ul],P0,c.LineStyle.LinePieces);Ln.add(k0)}if(this.dontDuplicateAtoms&&this.modelData.symmetries&&this.modelData.symmetries.length>0){var T0=new c.Object3D,im;for(im=0;im<this.modelData.symmetries.length;im++){var am=new c.Object3D;am=Ln.clone(),am.matrix.copy(this.modelData.symmetries[im]),am.matrixAutoUpdate=!1,T0.add(am)}return T0}return Ln}getViewer(){return this.viewer}getInternalState(){return{atoms:this.atoms,frames:this.frames}}setInternalState(it){this.atoms=it.atoms,this.frames=it.frames,this.molObj=null}getCrystData(){if(this.modelData.cryst){if(!this.modelData.cryst.matrix){const it=this.modelData.cryst;this.modelData.cryst.matrix=(0,g.conversionMatrix3)(it.a,it.b,it.c,it.alpha,it.beta,it.gamma)}return this.modelData.cryst}else return null}setCrystData(it,ot,Ln,Cl,Tl,zl){it=it||1,ot=ot||1,Ln=Ln||1,Cl=Cl||90,Tl=Tl||90,zl=zl||90;const In=(0,g.conversionMatrix3)(it,ot,Ln,Cl,Tl,zl);this.modelData.cryst={a:it,b:ot,c:Ln,alpha:Cl,beta:Tl,gamma:zl,matrix:In}}setCrystMatrix(it){it=it||new g.Matrix3(1,0,0,0,1,0,0,0,1),this.modelData.cryst={matrix:it}}getSymmetries(){return typeof this.modelData.symmetries>"u"&&(this.modelData.symmetries=[this.idMatrix]),this.modelData.symmetries}setSymmetries(it){typeof it>"u"?this.modelData.symmetries=[this.idMatrix]:(this.modelData.symmetries=it,this.molObj=null)}getID(){return this.id}getNumFrames(){return this.frames.numFrames!=null?this.frames.numFrames:this.frames.length}adjustCoord(it,ot,Ln,Cl){var Tl=ot-it;return Tl<-Ln?ot+Cl:Tl>Ln?ot-Cl:ot}adjustCoordinatesToBox(){if(this.box&&this.atomdfs)for(var it=this.box[0],ot=this.box[1],Ln=this.box[2],Cl=it*.9,Tl=ot*.9,zl=Ln*.9,In=0;In<this.atomdfs.length;In++)for(var Ml=this.atomdfs[In],Dl=1;Dl<Ml.length;Dl++){var Ul=this.atoms[Ml[Dl][0]],Vl=this.atoms[Ml[Dl][1]];Ul.x=this.adjustCoord(Vl.x,Ul.x,Cl,it),Ul.y=this.adjustCoord(Vl.y,Ul.y,Tl,ot),Ul.z=this.adjustCoord(Vl.z,Ul.z,zl,Ln)}}setFrame(it){var ot=this.getNumFrames();let Ln=this,Cl=this.viewer;return new Promise(function(Tl,zl){if(ot==0&&Tl(),(it<0||it>=ot)&&(it=ot-1),Ln.frames.url!=null){var In=Ln.frames.url;(0,j.getbin)(In+"/traj/frame/"+it+"/"+Ln.frames.path,void 0,"POST",void 0).then(function(Ml){for(var Dl=new Float32Array(Ml,44),Ul=0,Vl=0;Vl<Ln.atoms.length;Vl++)Ln.atoms[Vl].x=Dl[Ul++],Ln.atoms[Vl].y=Dl[Ul++],Ln.atoms[Vl].z=Dl[Ul++];Ln.box&&Ln.atomdfs&&Ln.adjustCoordinatesToBox(),Tl()}).catch(zl)}else Ln.atoms=Ln.frames[it],Tl();Ln.molObj=null,Ln.modelDatas&&it<Ln.modelDatas.length&&(Ln.modelData=Ln.modelDatas[it],Ln.unitCellObjects&&Cl&&(Cl.removeUnitCell(Ln),Cl.addUnitCell(Ln)))})}addFrame(it){this.frames.push(it)}vibrate(it=10,ot=1,Ln=!1,Cl){var Tl=0,zl=it;let In=this.viewer;Ln&&(Tl=-it,zl=it),this.frames!==void 0&&this.frames.origIndex!==void 0?this.setFrame(this.frames.origIndex):this.setFrame(0),Tl<zl&&(this.frames=[]),Ln&&(this.frames.origIndex=it);for(var Ml=Tl;Ml<zl;Ml++){var Dl=[],Ul=this.frames.length;if(Ml==0&&!Cl){this.frames.push(this.atoms);continue}for(var Vl=0;Vl<this.atoms.length;Vl++){var mu=(0,j.getAtomProperty)(this.atoms[Vl],"dx"),rp=(0,j.getAtomProperty)(this.atoms[Vl],"dy"),Ju=(0,j.getAtomProperty)(this.atoms[Vl],"dz"),cp=new g.Vector3(mu,rp,Ju),hp=new g.Vector3(this.atoms[Vl].x,this.atoms[Vl].y,this.atoms[Vl].z),yp=Ml*ot/it;cp.multiplyScalar(yp),hp.add(cp);var xp={};for(var fp in this.atoms[Vl])xp[fp]=this.atoms[Vl][fp];if(xp.x=hp.x,xp.y=hp.y,xp.z=hp.z,Dl.push(xp),In&&Cl){var _p=(0,j.extend)({},Cl),ip=new g.Vector3(mu,rp,Ju);if(ip.multiplyScalar(ot),ip.add(hp),_p.start=hp,_p.end=ip,_p.frame=Ul,!_p.color){var gp=xp.style.sphere;gp||(gp=xp.style.stick),gp||(gp=xp.style.line),_p.color=(0,j.getColorFromStyle)(xp,gp)}In.addArrow(_p)}}this.frames.push(Dl)}}setAtomDefaults(it){for(let ot=0;ot<it.length;ot++){let Ln=it[ot];Ln&&(Ln.style=Ln.style||(0,j.deepCopy)(wl.defaultAtomStyle),Ln.color=Ln.color||this.ElementColors[Ln.elem]||this.defaultColor,Ln.model=this.id,(Ln.clickable||Ln.hoverable)&&(Ln.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}))}}addMolData(it,ot,Ln={}){var Cl=wl.parseMolData(it,ot,Ln);this.dontDuplicateAtoms=!Ln.duplicateAssemblyAtoms;var Tl=Cl.modelData;if(Tl&&(Array.isArray(Tl)?(this.modelData=Tl[0],Ln.frames&&(this.modelDatas=Tl)):this.modelData=Tl),Cl.box?this.box=Cl.box:this.box=null,this.frames.length==0){for(let In=0;In<Cl.length;In++)Cl[In].length!=0&&this.frames.push(Cl[In]);this.frames[0]&&(this.atoms=this.frames[0])}else if(Ln.frames)for(let In=0;In<Cl.length;In++)this.frames.push(Cl[In]);else for(var zl=0;zl<Cl.length;zl++)this.addAtoms(Cl[zl]);for(let In=0;In<this.frames.length;In++)this.setAtomDefaults(this.frames[In]);Ln.vibrate&&Ln.vibrate.frames&&Ln.vibrate.amplitude&&this.vibrate(Ln.vibrate.frames,Ln.vibrate.amplitude),Ln.style&&this.setStyle({},Ln.style)}setDontDuplicateAtoms(it){this.dontDuplicateAtoms=it}setModelData(it){this.modelData=it}propertyMatches(it,ot){if(it==ot)return!0;if(typeof ot=="string"&&typeof it=="number"){var Ln=ot.match(/(-?\d+)\s*-\s*(-?\d+)/);if(Ln){var Cl=parseInt(Ln[1]),Tl=parseInt(Ln[2]);if(Ln&&it>=Cl&&it<=Tl)return!0}}return!1}static deepCopyAndCache(it,ot){if(typeof it!="object"||it==null||it instanceof wl||it.__cache_created)return it;const Ln={};for(const Cl in it){const Tl=it[Cl];if(Array.isArray(Tl)){Ln[Cl]=[];for(let zl=0;zl<Tl.length;zl++)Ln[Cl].push(wl.deepCopyAndCache(Tl[zl],ot))}else typeof Tl=="object"&&Cl!="properties"&&Cl!="model"?Ln[Cl]=wl.deepCopyAndCache(Tl,ot):Ln[Cl]=Tl;if(Cl=="and"||Cl=="or"){const zl=[];for(const In of Ln[Cl]){const Ml=new Set;for(const Dl of ot.selectedAtoms(In))Ml.add(Dl.index);zl.push(Ml)}if(Cl=="and"){const In=function(Dl,Ul){const Vl=new Set;for(const mu of Ul)Dl.has(mu)&&Vl.add(mu);return Vl};let Ml=new Set(zl[0]);for(const Dl of zl.splice(1))Ml=In(Ml,Dl);Ln[Cl].__cached_results=Ml}else if(Cl=="or"){const In=new Set;for(const Ml of zl)for(const Dl of Ml)In.add(Dl);Ln[Cl].__cached_results=In}}}return Ln.__cache_created=!0,Ln}atomIsSelected(it,ot){if(typeof ot>"u")return!0;var Ln=!!ot.invert,Cl=!0;for(var Tl in ot)if(Tl=="and"||Tl=="or"||Tl=="not"){if(Tl=="not"){if(this.atomIsSelected(it,ot[Tl])){Cl=!1;break}}else if(ot[Tl].__cached_results===void 0&&(ot=wl.deepCopyAndCache(ot,this)),Cl=ot[Tl].__cached_results.has(it.index),!Cl)break}else if(Tl==="predicate"){if(!ot.predicate(it)){Cl=!1;break}}else if(Tl=="properties"&&it[Tl]){for(var zl in ot.properties)if(!zl.startsWith("__cache")){if(typeof it.properties[zl]>"u"){Cl=!1;break}if(it.properties[zl]!=ot.properties[zl]){Cl=!1;break}}}else if(Tl=="model"){let Ul=ot.model;if(typeof Ul=="number"&&Ul<0&&(Ul=this.viewer.getNextModelId()+Ul),Array.isArray(Ul)){let Vl=!1;for(let mu=0;mu<Ul.length;mu++)if(Ul[mu]==this||Ul[mu]==this.id){Vl=!0;break}if(!Vl){Cl=!1;break}}else if(Ul!=this&&Ul!=this.id){Cl=!1;break}}else if(ot.hasOwnProperty(Tl)&&!wl.ignoredKeys.has(Tl)&&!Tl.startsWith("__cache")){if(typeof it[Tl]>"u"){Cl=!1;break}let Ul=!1;if(Tl==="bonds"){var In=ot[Tl];if(In!=it.bonds.length){Cl=!1;break}}else if(Array.isArray(ot[Tl])){var Ml=ot[Tl],Dl=it[Tl];for(let Vl=0;Vl<Ml.length;Vl++)if(this.propertyMatches(Dl,Ml[Vl])){Ul=!0;break}if(!Ul){Cl=!1;break}}else{let Vl=ot[Tl];if(!this.propertyMatches(it[Tl],Vl)){Cl=!1;break}}}return Ln?!Cl:Cl}static squaredDistance(it,ot){var Ln=ot.x-it.x,Cl=ot.y-it.y,Tl=ot.z-it.z;return Ln*Ln+Cl*Cl+Tl*Tl}expandAtomList(it,ot){if(ot<=0)return it;for(var Ln=(0,j.getExtent)(it,void 0),Cl=[[],[],[]],Tl=0;Tl<3;Tl++)Cl[0][Tl]=Ln[0][Tl]-ot,Cl[1][Tl]=Ln[1][Tl]+ot,Cl[2][Tl]=Ln[2][Tl];var zl=[];for(let Ul=0;Ul<this.atoms.length;Ul++){var In=this.atoms[Ul].x,Ml=this.atoms[Ul].y,Dl=this.atoms[Ul].z;In>=Cl[0][0]&&In<=Cl[1][0]&&Ml>=Cl[0][1]&&Ml<=Cl[1][1]&&Dl>=Cl[0][2]&&Dl<=Cl[1][2]&&(In>=Ln[0][0]&&In<=Ln[1][0]&&Ml>=Ln[0][1]&&Ml<=Ln[1][1]&&Dl>=Ln[0][2]&&Dl<=Ln[1][2]||zl.push(this.atoms[Ul]))}return zl}static getFloat(it){return typeof it=="number"?it:parseFloat(it)}selectedAtoms(it,ot){var Ln=[];it=wl.deepCopyAndCache(it||{},this),ot||(ot=this.atoms);for(var Cl=ot.length,Tl=0;Tl<Cl;Tl++){var zl=ot[Tl];zl&&this.atomIsSelected(zl,it)&&Ln.push(zl)}if(it.hasOwnProperty("expand")){const xp=wl.getFloat(it.expand);let fp=this.expandAtomList(Ln,xp),_p=Ln.length;const ip=xp*xp;for(let gp=0;gp<fp.length;gp++)for(let Dp=0;Dp<_p;Dp++){var In=wl.squaredDistance(fp[gp],Ln[Dp]);In<ip&&In>0&&Ln.push(fp[gp])}}if(it.hasOwnProperty("within")&&it.within.hasOwnProperty("sel")&&it.within.hasOwnProperty("distance")){var Ml=this.selectedAtoms(it.within.sel,this.atoms),Dl={};const xp=wl.getFloat(it.within.distance),fp=xp*xp;for(let _p=0;_p<Ml.length;_p++)for(let ip=0;ip<Ln.length;ip++){let gp=wl.squaredDistance(Ml[_p],Ln[ip]);gp<fp&&gp>0&&(Dl[ip]=1)}var Ul=[];if(it.within.invert)for(let _p=0;_p<Ln.length;_p++)Dl[_p]||Ul.push(Ln[_p]);else for(let _p in Dl)Ul.push(Ln[_p]);Ln=Ul}if(it.hasOwnProperty("byres")){var Vl={},mu=[],rp=[];for(let xp=0;xp<Ln.length;xp++){let fp=Ln[xp];var Ju=fp.chain,cp=fp.resi;if(Vl[Ju]===void 0&&(Vl[Ju]={}),fp.hasOwnProperty("resi")&&Vl[Ju][cp]===void 0){for(Vl[Ju][cp]=!0,rp.push(fp);rp.length>0;)if(fp=rp.pop(),Ju=fp.chain,cp=fp.resi,mu[fp.index]===void 0){mu[fp.index]=!0;for(var hp=0;hp<fp.bonds.length;hp++){var yp=this.atoms[fp.bonds[hp]];mu[yp.index]===void 0&&yp.hasOwnProperty("resi")&&yp.chain==Ju&&yp.resi==cp&&(rp.push(yp),Ln.push(yp))}}}}}return Ln}addAtoms(it){this.molObj=null;var ot=this.atoms.length,Ln=[],Cl;for(Cl=0;Cl<it.length;Cl++)typeof it[Cl].index>"u"&&(it[Cl].index=Cl),typeof it[Cl].serial>"u"&&(it[Cl].serial=Cl),Ln[it[Cl].index]=ot+Cl;for(Cl=0;Cl<it.length;Cl++){var Tl=it[Cl],zl=Ln[Tl.index],In=(0,j.extend)({},Tl);In.index=zl,In.bonds=[],In.bondOrder=[],In.model=this.id,In.style=In.style||(0,j.deepCopy)(wl.defaultAtomStyle),typeof In.color>"u"&&(In.color=this.ElementColors[In.elem]||this.defaultColor);for(var Ml=Tl.bonds?Tl.bonds.length:0,Dl=0;Dl<Ml;Dl++){var Ul=Ln[Tl.bonds[Dl]];typeof Ul<"u"&&(In.bonds.push(Ul),In.bondOrder.push(Tl.bondOrder?Tl.bondOrder[Dl]:1))}this.atoms.push(In)}}assignBonds(){(0,jt.assignBonds)(this.atoms,{assignBonds:!0})}removeAtoms(it){this.molObj=null;var ot=[],Ln;for(Ln=0;Ln<it.length;Ln++)ot[it[Ln].index]=!0;var Cl=[];for(Ln=0;Ln<this.atoms.length;Ln++){var Tl=this.atoms[Ln];ot[Tl.index]||Cl.push(Tl)}this.atoms=[],this.addAtoms(Cl)}setStyle(it,ot,Ln){typeof ot>"u"&&typeof Ln>"u"&&(ot=it,it={}),it=it,typeof ot=="string"&&(ot=(0,j.specStringToObject)(ot));var Cl=!1,Tl=this,zl=function(Ml){var Dl=Tl.selectedAtoms(it,Ml);for(let Ul=0;Ul<Ml.length;Ul++)Ml[Ul]&&(Ml[Ul].capDrawn=!1);for(let Ul=0;Ul<Dl.length;Ul++){Cl=!0,(Dl[Ul].clickable||Dl[Ul].hoverable)&&(Dl[Ul].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]}),Ln||(Dl[Ul].style={});for(let Vl in ot)ot.hasOwnProperty(Vl)&&(Dl[Ul].style[Vl]=Dl[Ul].style[Vl]||{},Object.assign(Dl[Ul].style[Vl],ot[Vl]))}};if(it.frame!==void 0&&it.frame<this.frames.length){let Ml=it.frame;Ml<0&&(Ml=this.frames.length+Ml),zl(this.frames[Ml])}else{zl(this.atoms);for(var In=0;In<this.frames.length;In++)this.frames[In]!==this.atoms&&zl(this.frames[In])}Cl&&(this.molObj=null)}setClickable(it,ot,Ln){if(ot=!!ot,Ln=(0,j.makeFunction)(Ln),Ln===null){console.log("Callback is not a function");return}var Cl=this.selectedAtoms(it,this.atoms),Tl=Cl.length;for(let zl=0;zl<Tl;zl++)Cl[zl].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Cl[zl].clickable=ot,Ln&&(Cl[zl].callback=Ln);Tl>0&&(this.molObj=null)}setHoverable(it,ot,Ln,Cl){if(ot=!!ot,Ln=(0,j.makeFunction)(Ln),Cl=(0,j.makeFunction)(Cl),Ln===null){console.log("Hover_callback is not a function");return}if(Cl===null){console.log("Unhover_callback is not a function");return}var Tl=this.selectedAtoms(it,this.atoms),zl=Tl.length;for(let In=0;In<zl;In++)Tl[In].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Tl[In].hoverable=ot,Ln&&(Tl[In].hover_callback=Ln),Cl&&(Tl[In].unhover_callback=Cl);zl>0&&(this.molObj=null)}enableContextMenu(it,ot){ot=!!ot;var Ln,Cl=this.selectedAtoms(it,this.atoms),Tl=Cl.length;for(Ln=0;Ln<Tl;Ln++)Cl[Ln].intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},Cl[Ln].contextMenuEnabled=ot;Tl>0&&(this.molObj=null)}setColorByElement(it,ot){if(!(this.molObj!==null&&wl.sameObj(ot,this.lastColors))){this.lastColors=ot;var Ln=this.selectedAtoms(it,Ln);Ln.length>0&&(this.molObj=null);for(var Cl=0;Cl<Ln.length;Cl++){var Tl=Ln[Cl];typeof ot[Tl.elem]<"u"&&(Tl.color=ot[Tl.elem])}}}setColorByProperty(it,ot,Ln,Cl){var Tl,zl,In=this.selectedAtoms(it,In);for(this.lastColors=null,In.length>0&&(this.molObj=null),typeof Ln=="string"&&typeof rt.Gradient.builtinGradients[Ln]<"u"&&(Ln=new rt.Gradient.builtinGradients[Ln]),Ln=Ln,Cl||(Cl=Ln.range()),Cl||(Cl=(0,j.getPropertyRange)(In,ot)),Tl=0;Tl<In.length;Tl++){zl=In[Tl];var Ml=(0,j.getAtomProperty)(zl,ot);Ml!=null&&(zl.color=Ln.valueToHex(parseFloat(zl.properties[ot]),Cl))}}setColorByFunction(it,ot){var Ln=this.selectedAtoms(it,Ln);if(typeof ot=="function"){this.lastColors=null,Ln.length>0&&(this.molObj=null);for(let Cl=0;Cl<Ln.length;Cl++){let Tl=Ln[Cl];Tl.color=ot(Tl)}}}toCDObject(it=!1){var ot={a:[],b:[]};it&&(ot.s=[]);for(let Cl=0;Cl<this.atoms.length;Cl++){let Tl={},zl=this.atoms[Cl];if(Tl.x=zl.x,Tl.y=zl.y,Tl.z=zl.z,zl.elem!="C"&&(Tl.l=zl.elem),it){for(var Ln=0;Ln<ot.s.length&&JSON.stringify(zl.style)!==JSON.stringify(ot.s[Ln]);)Ln++;Ln===ot.s.length&&ot.s.push(zl.style),Ln!==0&&(Tl.s=Ln)}ot.a.push(Tl);for(let In=0;In<zl.bonds.length;In++){let Ml=Cl,Dl=zl.bonds[In];if(Ml>=Dl)continue;let Ul={b:Ml,e:Dl},Vl=zl.bondOrder[In];Vl!=1&&(Ul.o=Vl),ot.b.push(Ul)}}return ot}globj(it,ot){(this.molObj===null||ot.regen)&&(this.molObj=this.createMolObj(this.atoms,ot),this.renderedMolObj&&(it.remove(this.renderedMolObj),this.renderedMolObj=null),this.renderedMolObj=this.molObj.clone(),this.hidden&&(this.renderedMolObj.setVisible(!1),this.molObj.setVisible(!1)),it.add(this.renderedMolObj))}exportVRML(){var it=this.createMolObj(this.atoms,{supportsImposters:!1,supportsAIA:!1});return it.vrml()}removegl(it){this.renderedMolObj&&(this.renderedMolObj.geometry!==void 0&&this.renderedMolObj.geometry.dispose(),this.renderedMolObj.material!==void 0&&this.renderedMolObj.material.dispose(),it.remove(this.renderedMolObj),this.renderedMolObj=null),this.molObj=null}hide(){this.hidden=!0,this.renderedMolObj&&this.renderedMolObj.setVisible(!1),this.molObj&&this.molObj.setVisible(!1)}show(){this.hidden=!1,this.renderedMolObj&&this.renderedMolObj.setVisible(!0),this.molObj&&this.molObj.setVisible(!0)}addPropertyLabels(it,ot,Ln){let Cl=this.selectedAtoms(ot),Tl=this.viewer,zl=(0,j.deepCopy)(Ln);for(let Ml=0;Ml<Cl.length;Ml++){let Dl=Cl[Ml];var In=null;typeof Dl[it]<"u"?In=String(Dl[it]):typeof Dl.properties[it]<"u"&&(In=String(Dl.properties[it])),In!=null&&(zl.position=Dl,Tl.addLabel(In,zl))}}addResLabels(it,ot,Ln=!1){let Cl=this.viewer;var Tl=[],zl=function(Ml,Dl){for(var Ul=Ml.selectedAtoms(it,Ul),Vl={},mu=0;mu<Ul.length;mu++){var rp=Ul[mu],Ju=rp.chain,cp=rp.resn,hp=rp.resi,yp=cp+""+hp;Vl[Ju]||(Vl[Ju]={}),Vl[Ju][yp]||(Vl[Ju][yp]=[]),Vl[Ju][yp].push(rp)}var xp=(0,j.deepCopy)(ot);for(let _p in Vl)if(Vl.hasOwnProperty(_p)){var fp=Vl[_p];for(let ip in fp)if(fp.hasOwnProperty(ip)){let gp=fp[ip],Dp=new g.Vector3(0,0,0);for(let n0=0;n0<gp.length;n0++){let S0=gp[n0];Dp.x+=S0.x,Dp.y+=S0.y,Dp.z+=S0.z}Dp.divideScalar(gp.length),xp.position=Dp,xp.frame=Dl;let Fp=Cl.addLabel(ip,xp,void 0,!0);Tl.push(Fp)}}};if(Ln){var In=this.getNumFrames();let Ml=this.atoms;for(let Dl=0;Dl<In;Dl++)this.frames[Dl]&&(this.atoms=this.frames[Dl],zl(this,Dl));this.atoms=Ml}else zl(this);return Tl}setupDFS(){this.atomdfs=[];var it=this,ot=new Int8Array(this.atoms.length);ot.fill(0);for(var Ln=function(In,Ml,Dl){Dl.push([In,Ml]);var Ul=it.atoms[In];ot[In]=1;for(var Vl=0;Vl<Ul.bonds.length;Vl++){var mu=Ul.bonds[Vl];it.atoms[mu]&&!ot[mu]&&Ln(mu,In,Dl)}},Cl=0;Cl<this.atoms.length;Cl++){var Tl=this.atoms[Cl];if(Tl&&!ot[Cl]){var zl=[];Ln(Cl,-1,zl),this.atomdfs.push(zl)}}}setCoordinatesFromURL(it,ot){this.frames=[];var Ln=this;return this.box&&this.setupDFS(),it.startsWith("http")||(it="http://"+it),(0,j.get)(it+"/traj/numframes/"+ot,function(Cl){if(!isNaN(parseInt(Cl)))return Ln.frames.push(Ln.atoms),Ln.frames.numFrames=Cl,Ln.frames.url=it,Ln.frames.path=ot,Ln.setFrame(0)})}setCoordinates(it,ot){if(ot=ot||"",!it)return[];if(/\.gz$/.test(ot)){ot=ot.replace(/\.gz$/,"");try{it=(0,j.inflateString)(it)}catch(Vl){console.log(Vl)}}var Ln={mdcrd:"",inpcrd:"",pdb:"",netcdf:"",array:""};if(Ln.hasOwnProperty(ot)){this.frames=[];for(var Cl=this.atoms.length,Tl=wl.parseCrd(it,ot),zl=0;zl<Tl.length;){for(var In=[],Ml=0;Ml<Cl;Ml++){var Dl={};for(var Ul in this.atoms[Ml])Dl[Ul]=this.atoms[Ml][Ul];In[Ml]=Dl,In[Ml].x=Tl[zl++],In[Ml].y=Tl[zl++],In[Ml].z=Tl[zl++]}this.frames.push(In)}return this.atoms=this.frames[0],this.frames}return[]}addAtomSpecs(it){}static parseCrd(it,ot){var Ln=[],Cl=0;if(ot=="pdb")for(var Tl=it.indexOf(`
ATOM`);Tl!=-1;){for(;it.slice(Tl,Tl+5)==`
ATOM`||it.slice(Tl,Tl+7)==`
HETATM`;)Ln[Cl++]=parseFloat(it.slice(Tl+31,Tl+39)),Ln[Cl++]=parseFloat(it.slice(Tl+39,Tl+47)),Ln[Cl++]=parseFloat(it.slice(Tl+47,Tl+55)),Tl=it.indexOf(`
`,Tl+54),it.slice(Tl,Tl+4)==`
TER`&&(Tl=it.indexOf(`
`,Tl+5));Tl=it.indexOf(`
ATOM`,Tl)}else if(ot=="netcdf"){var zl=new st.NetCDFReader(it);Ln=[].concat.apply([],zl.getDataVariable("coordinates"))}else{if(ot=="array"||Array.isArray(it))return it.flat(2);{let In=it.indexOf(`
`);ot=="inpcrd"&&(In=it.indexOf(`
`,In+1)),it=it.slice(In+1),Ln=it.match(/\S+/g).map(parseFloat)}}return Ln}static parseMolData(it,ot="",Ln){if(!it)return[];if(/\.gz$/.test(ot)){ot=ot.replace(/\.gz$/,"");try{ot.match(/bcif/i)?it=(0,j.inflateString)(it,!1):it=(0,j.inflateString)(it)}catch(zl){console.log(zl)}}typeof nt.Parsers[ot]>"u"&&(ot=ot.split(".").pop(),typeof nt.Parsers[ot]>"u"&&(console.log("Unknown format: "+ot),it instanceof Uint8Array?ot="bcif":it.match(/^@<TRIPOS>MOLECULE/gm)?ot="mol2":it.match(/^data_/gm)&&it.match(/^loop_/gm)?ot="cif":it.match(/^HETATM/gm)||it.match(/^ATOM/gm)?ot="pdb":it.match(/ITEM: TIMESTEP/gm)?ot="lammpstrj":it.match(/^.*\n.*\n.\s*(\d+)\s+(\d+)/gm)?ot="sdf":it.match(/^%VERSION\s+VERSION_STAMP/gm)?ot="prmtop":ot="xyz",console.log("Best guess: "+ot)));var Cl=nt.Parsers[ot],Tl=Cl(it,Ln);return Tl}}wl.defaultAtomStyle={line:{}},wl.defaultlineWidth=1,wl.vdwRadii={H:1.2,He:1.4,Li:1.82,Be:1.53,B:1.92,C:1.7,N:1.55,O:1.52,F:1.47,Ne:1.54,Na:2.27,Mg:1.73,Al:1.84,Si:2.1,P:1.8,S:1.8,Cl:1.75,Ar:1.88,K:2.75,Ca:2.31,Ni:1.63,Cu:1.4,Zn:1.39,Ga:1.87,Ge:2.11,As:1.85,Se:1.9,Br:1.85,Kr:2.02,Rb:3.03,Sr:2.49,Pd:1.63,Ag:1.72,Cd:1.58,In:1.93,Sn:2.17,Sb:2.06,Te:2.06,I:1.98,Xe:2.16,Cs:3.43,Ba:2.68,Pt:1.75,Au:1.66,Hg:1.55,Tl:1.96,Pb:2.02,Bi:2.07,Po:1.97,At:2.02,Rn:2.2,Fr:3.48,Ra:2.83,U:1.86},wl.ignoredKeys=new Set(["props","invert","model","frame","byres","expand","within","and","or","not"])},"./src/GLShape.ts":(e,o,a)=>{a.r(o),a.d(o,{GLShape:()=>st,splitMesh:()=>jt});var c=a("./src/WebGL/index.ts"),d=a("./src/WebGL/shapes/index.ts"),g=a("./src/WebGL/math/index.ts"),b=a("./src/colors.ts"),_=a("./src/ProteinSurface4.ts"),$=a("./src/VolumeData.ts"),j=a("./src/GLDraw.ts"),rt=a("./src/glcartoon.ts"),nt=a("./src/utilities.ts");class st{static finalizeGeo(Ft){var it=Ft.updateGeoGroup(0);it.vertices>0&&it.truncateArrayBuffers(!0,!0)}static updateColor(Ft,it){it=it||b.CC.color(it),Ft.colorsNeedUpdate=!0;var ot,Ln,Cl;it.constructor!==Array&&(ot=it.r,Ln=it.g,Cl=it.b);for(let Tl in Ft.geometryGroups){let zl=Ft.geometryGroups[Tl],In=zl.colorArray;for(let Ml=0,Dl=zl.vertices;Ml<Dl;++Ml){if(it.constructor===Array){let Ul=it[Ml];ot=Ul.r,Ln=Ul.g,Cl=Ul.b}In[Ml*3]=ot,In[Ml*3+1]=Ln,In[Ml*3+2]=Cl}}}static drawArrow(Ft,it,ot){var Ln=ot.start,Cl=ot.end,Tl=ot.radius,zl=ot.radiusRatio,In=ot.mid,Ml=ot.midpos;if(!(Ln&&Cl))return;var Dl=it.updateGeoGroup(51),Ul=new g.Vector3(Cl.x,Cl.y,Cl.z).sub(Ln);if(Ml){let z0=Ul.length();Ml>0?In=Ml/z0:In=(z0+Ml)/z0}Ul.multiplyScalar(In);var Vl=new g.Vector3(Ln.x,Ln.y,Ln.z).add(Ul),mu=Ul.clone().negate();let rp=new g.Vector3(Ln.x,Ln.y,Ln.z);Ft.intersectionShape.cylinder.push(new d.Cylinder(rp,Vl.clone(),Tl)),Ft.intersectionShape.sphere.push(new d.Sphere(rp,Tl));var Ju=[];Ju[0]=Ul.clone(),Math.abs(Ju[0].x)>1e-4?Ju[0].y+=1:Ju[0].x+=1,Ju[0].cross(Ul),Ju[0].normalize(),Ju[4]=Ju[0].clone(),Ju[4].crossVectors(Ju[0],Ul),Ju[4].normalize(),Ju[8]=Ju[0].clone().negate(),Ju[12]=Ju[4].clone().negate(),Ju[2]=Ju[0].clone().add(Ju[4]).normalize(),Ju[6]=Ju[4].clone().add(Ju[8]).normalize(),Ju[10]=Ju[8].clone().add(Ju[12]).normalize(),Ju[14]=Ju[12].clone().add(Ju[0]).normalize(),Ju[1]=Ju[0].clone().add(Ju[2]).normalize(),Ju[3]=Ju[2].clone().add(Ju[4]).normalize(),Ju[5]=Ju[4].clone().add(Ju[6]).normalize(),Ju[7]=Ju[6].clone().add(Ju[8]).normalize(),Ju[9]=Ju[8].clone().add(Ju[10]).normalize(),Ju[11]=Ju[10].clone().add(Ju[12]).normalize(),Ju[13]=Ju[12].clone().add(Ju[14]).normalize(),Ju[15]=Ju[14].clone().add(Ju[0]).normalize();var cp=Dl.vertices,hp=Dl.vertexArray,yp=Dl.faceArray,xp=Dl.normalArray,fp=Dl.lineArray,_p,ip,gp;for(ip=0,gp=Ju.length;ip<gp;++ip){_p=3*(cp+3*ip);var Dp=Ju[ip].clone().multiplyScalar(Tl).add(Ln),Fp=Ju[ip].clone().multiplyScalar(Tl).add(Vl),n0=Ju[ip].clone().multiplyScalar(Tl*zl).add(Vl);if(hp[_p]=Dp.x,hp[_p+1]=Dp.y,hp[_p+2]=Dp.z,hp[_p+3]=Fp.x,hp[_p+4]=Fp.y,hp[_p+5]=Fp.z,hp[_p+6]=n0.x,hp[_p+7]=n0.y,hp[_p+8]=n0.z,ip>0){var S0=hp[_p-3],C0=hp[_p-2],P0=hp[_p-1],k0=new g.Vector3(S0,C0,P0),T0=new g.Vector3(Cl.x,Cl.y,Cl.z),im=Vl.clone(),am=new g.Vector3(n0.x,n0.y,n0.z);Ft.intersectionShape.triangle.push(new d.Triangle(am,T0,k0)),Ft.intersectionShape.triangle.push(new d.Triangle(k0.clone(),im,am.clone()))}}Dl.vertices+=48,_p=Dl.vertices*3,hp[_p]=Ln.x,hp[_p+1]=Ln.y,hp[_p+2]=Ln.z,hp[_p+3]=Vl.x,hp[_p+4]=Vl.y,hp[_p+5]=Vl.z,hp[_p+6]=Cl.x,hp[_p+7]=Cl.y,hp[_p+8]=Cl.z,Dl.vertices+=3;var bm,_g,b0,U0,mm,Lm,Um,Hm,Dm,Nm,Om,Mm,cm,Jm,B0,Pp,Yp,o0,W0,G0=Dl.vertices-3,Em=Dl.vertices-2,hm=Dl.vertices-1,Vp=G0*3,j0=Em*3,Q0=hm*3;for(ip=0,gp=Ju.length-1;ip<gp;++ip){var Cm=cp+3*ip;_p=Cm*3,_g=Dl.faceidx,b0=Dl.lineidx,U0=Cm,Nm=U0*3,mm=Cm+1,Om=mm*3,Lm=Cm+2,Mm=Lm*3,Um=Cm+4,cm=Um*3,Hm=Cm+5,Jm=Hm*3,Dm=Cm+3,B0=Dm*3,Pp=Yp=Ju[ip],o0=W0=Ju[ip+1],xp[Nm]=Pp.x,xp[Om]=Yp.x,xp[B0]=W0.x,xp[Nm+1]=Pp.y,xp[Om+1]=Yp.y,xp[B0+1]=W0.y,xp[Nm+2]=Pp.z,xp[Om+2]=Yp.z,xp[B0+2]=W0.z,xp[Om]=Yp.x,xp[cm]=o0.x,xp[B0]=W0.x,xp[Om+1]=Yp.y,xp[cm+1]=o0.y,xp[B0+1]=W0.y,xp[Om+2]=Yp.z,xp[cm+2]=o0.z,xp[B0+2]=W0.z,xp[Mm]=Yp.x,xp[Jm]=o0.x,xp[Mm+1]=Yp.y,xp[Jm+1]=o0.y,xp[Mm+2]=Yp.z,xp[Jm+2]=o0.z,yp[_g]=U0,yp[_g+1]=mm,yp[_g+2]=Dm,yp[_g+3]=mm,yp[_g+4]=Um,yp[_g+5]=Dm,yp[_g+6]=U0,yp[_g+7]=Dm,yp[_g+8]=G0,yp[_g+9]=Lm,yp[_g+10]=Em,yp[_g+11]=Hm,yp[_g+12]=Lm,yp[_g+13]=hm,yp[_g+14]=Hm,fp[b0]=U0,fp[b0+1]=mm,fp[b0+2]=U0,fp[b0+3]=Dm,fp[b0+4]=Um,fp[b0+5]=Dm,fp[b0+6]=U0,fp[b0+7]=Dm,fp[b0+8]=Lm,fp[b0+9]=mm,fp[b0+10]=Lm,fp[b0+11]=Hm,fp[b0+12]=Um,fp[b0+13]=Hm,fp[b0+14]=Lm,fp[b0+15]=hm,fp[b0+16]=Lm,fp[b0+17]=Hm,fp[b0+18]=hm,fp[b0+19]=Hm,Dl.faceidx+=15,Dl.lineidx+=20}bm=[cp+45,cp+46,cp+1,cp,cp+47,cp+2],_g=Dl.faceidx,b0=Dl.lineidx,U0=bm[0],Nm=U0*3,mm=bm[1],Om=mm*3,Lm=bm[4],Mm=Lm*3,Um=bm[2],cm=Um*3,Hm=bm[5],Jm=Hm*3,Dm=bm[3],B0=Dm*3,Pp=Yp=Ju[15],o0=W0=Ju[0],xp[Nm]=Pp.x,xp[Om]=Yp.x,xp[B0]=W0.x,xp[Nm+1]=Pp.y,xp[Om+1]=Yp.y,xp[B0+1]=W0.y,xp[Nm+2]=Pp.z,xp[Om+2]=Yp.z,xp[B0+2]=W0.z,xp[Om]=Yp.x,xp[cm]=o0.x,xp[B0]=W0.x,xp[Om+1]=Yp.y,xp[cm+1]=o0.y,xp[B0+1]=W0.y,xp[Om+2]=Yp.z,xp[cm+2]=o0.z,xp[B0+2]=W0.z,xp[Mm]=Yp.x,xp[Jm]=o0.x,xp[Mm+1]=Yp.y,xp[Jm+1]=o0.y,xp[Mm+2]=Yp.z,xp[Jm+2]=o0.z,Ul.normalize(),mu.normalize(),xp[Vp]=mu.x,xp[j0]=xp[Q0]=Ul.x,xp[Vp+1]=mu.y,xp[j0+1]=xp[Q0+1]=Ul.y,xp[Vp+2]=mu.z,xp[j0+2]=xp[Q0+2]=Ul.z,yp[_g]=U0,yp[_g+1]=mm,yp[_g+2]=Dm,yp[_g+3]=mm,yp[_g+4]=Um,yp[_g+5]=Dm,yp[_g+6]=U0,yp[_g+7]=Dm,yp[_g+8]=G0,yp[_g+9]=Lm,yp[_g+10]=Em,yp[_g+11]=Hm,yp[_g+12]=Lm,yp[_g+13]=hm,yp[_g+14]=Hm,fp[b0]=U0,fp[b0+1]=mm,fp[b0+2]=U0,fp[b0+3]=Dm,fp[b0+4]=Um,fp[b0+5]=Dm,fp[b0+6]=U0,fp[b0+7]=Dm,fp[b0+8]=Lm,fp[b0+9]=mm,fp[b0+10]=Lm,fp[b0+11]=Hm,fp[b0+12]=Um,fp[b0+13]=Hm,fp[b0+14]=Lm,fp[b0+15]=hm,fp[b0+16]=Lm,fp[b0+17]=Hm,fp[b0+18]=hm,fp[b0+19]=Hm,Dl.faceidx+=15,Dl.lineidx+=20}static updateBoundingFromPoints(Ft,it,ot,Ln){Ft.center.set(0,0,0);let Cl=1/0,Tl=1/0,zl=1/0,In=-1/0,Ml=-1/0,Dl=-1/0;Ft.box&&(Cl=Ft.box.min.x,In=Ft.box.max.x,Tl=Ft.box.min.y,Ml=Ft.box.max.y,zl=Ft.box.min.z,Dl=Ft.box.max.z);for(let rp=0,Ju=Ln;rp<Ju;rp++){var Ul=ot[rp*3],Vl=ot[rp*3+1],mu=ot[rp*3+2];Ul<Cl&&(Cl=Ul),Vl<Tl&&(Tl=Vl),mu<zl&&(zl=mu),Ul>In&&(In=Ul),Vl>Ml&&(Ml=Vl),mu>Dl&&(Dl=mu)}Ft.center.set((In+Cl)/2,(Ml+Tl)/2,(Dl+zl)/2),Ft.radius=Ft.center.distanceTo({x:In,y:Ml,z:Dl}),Ft.box={min:{x:Cl,y:Tl,z:zl},max:{x:In,y:Ml,z:Dl}}}static addCustomGeo(Ft,it,ot,Ln,Cl){var Tl=it.addGeoGroup(),zl=ot.vertexArr,In=ot.normalArr,Ml=ot.faceArr;Tl.vertices=zl.length,Tl.faceidx=Ml.length;var Dl,Ul,Vl,mu,rp,Ju,cp,hp,yp,xp=Tl.vertexArray,fp=Tl.colorArray;for(Ln.constructor!==Array&&(hp=Ln.r,yp=Ln.g,mu=Ln.b),Ju=0,cp=Tl.vertices;Ju<cp;++Ju)Dl=Ju*3,Ul=zl[Ju],xp[Dl]=Ul.x,xp[Dl+1]=Ul.y,xp[Dl+2]=Ul.z,Ln.constructor===Array&&(rp=Ln[Ju],hp=rp.r,yp=rp.g,mu=rp.b),fp[Dl]=hp,fp[Dl+1]=yp,fp[Dl+2]=mu;if(Cl)for(Ju=0,cp=Tl.faceidx/3;Ju<cp;++Ju){Dl=Ju*3,Vl=Ml[Dl],mu=Ml[Dl+1],rp=Ml[Dl+2];var _p=new g.Vector3,ip=new g.Vector3,gp=new g.Vector3;Ft.intersectionShape.triangle.push(new d.Triangle(_p.copy(zl[Vl]),ip.copy(zl[mu]),gp.copy(zl[rp])))}if(Cl){var Dp=new g.Vector3(0,0,0),Fp=0;for(let C0=0;C0<it.geometryGroups.length;C0++)Dp.add(it.geometryGroups[C0].getCentroid()),Fp++;Dp.divideScalar(Fp),st.updateBoundingFromPoints(Ft.boundingSphere,{centroid:Dp},xp,Tl.vertices)}if(Tl.faceArray=new Uint16Array(Ml),Tl.truncateArrayBuffers(!0,!0),In.length<Tl.vertices)Tl.setNormals();else{var n0=Tl.normalArray=new Float32Array(Tl.vertices*3),S0;for(Ju=0,cp=Tl.vertices;Ju<cp;++Ju)Dl=Ju*3,S0=In[Ju],n0[Dl]=S0.x,n0[Dl+1]=S0.y,n0[Dl+2]=S0.z}Tl.setLineIndices(),Tl.lineidx=Tl.lineArray.length}static updateFromStyle(Ft,it){typeof it.color<"u"?(Ft.color=it.color||new b.Color,it.color instanceof b.Color||(Ft.color=b.CC.color(it.color))):Ft.color=b.CC.color(0),Ft.wireframe=!!it.wireframe,Ft.opacity=it.alpha?(0,g.clamp)(it.alpha,0,1):1,typeof it.opacity<"u"&&(Ft.opacity=(0,g.clamp)(it.opacity,0,1)),Ft.side=it.side!==void 0?it.side:c.DoubleSide,Ft.linewidth=typeof it.linewidth>"u"?1:it.linewidth,Ft.clickable=!!it.clickable,Ft.callback=(0,nt.makeFunction)(it.callback),Ft.hoverable=!!it.hoverable,Ft.hover_callback=(0,nt.makeFunction)(it.hover_callback),Ft.unhover_callback=(0,nt.makeFunction)(it.unhover_callback),Ft.contextMenuEnabled=!!it.contextMenuEnabled,Ft.hidden=it.hidden,Ft.frame=it.frame}constructor(Ft){this.color=16777215,this.hidden=!1,this.wireframe=!1,this.opacity=1,this.linewidth=1,this.clickable=!1,this.hoverable=!1,this.contextMenuEnabled=!1,this.side=c.DoubleSide,this.stylespec=Ft||{},this.boundingSphere=new d.Sphere,this.intersectionShape={sphere:[],cylinder:[],line:[],triangle:[]},st.updateFromStyle(this,this.stylespec),this.components=[],this.shapeObj=null,this.renderedShapeObj=null,this.geo=new c.Geometry(!0),this.linegeo=new c.Geometry(!0)}updateStyle(Ft){for(var it in Ft)this.stylespec[it]=Ft[it];if(st.updateFromStyle(this,this.stylespec),Ft.voldata&&Ft.volscheme){(0,nt.adjustVolumeStyle)(Ft);const ot=Ft.volscheme,Ln=Ft.voldata,Cl=b.CC,Tl=ot.range()||[-1,1];this.geo.setColors(function(zl,In,Ml){let Dl=Ln.getVal(zl,In,Ml);return Cl.color(ot.valueToHex(Dl,Tl))}),delete this.color}}addCustom(Ft){Ft.vertexArr=Ft.vertexArr||[],Ft.faceArr=Ft.faceArr||[],Ft.normalArr=Ft.normalArr||[],st.drawCustom(this,this.geo,Ft)}addSphere(Ft){Ft.center||(Ft.center=new g.Vector3(0,0,0)),Ft.radius=Ft.radius?(0,g.clamp)(Ft.radius,0,1/0):1.5,Ft.color=b.CC.color(Ft.color),this.intersectionShape.sphere.push(new d.Sphere(Ft.center,Ft.radius)),j.GLDraw.drawSphere(this.geo,Ft.center,Ft.radius,Ft.color,Ft.quality),this.components.push({centroid:new g.Vector3(Ft.center.x,Ft.center.y,Ft.center.z)});var it=this.geo.updateGeoGroup(0);st.updateBoundingFromPoints(this.boundingSphere,this.components,it.vertexArray,it.vertices)}addBox(Ft){var it=Ft.dimensions||{w:1,h:1,d:1},ot;typeof it.w=="number"?ot={x:it.w,y:0,z:0}:ot=it.w;var Ln;typeof it.h=="number"?Ln={x:0,y:it.h,z:0}:Ln=it.h;var Cl;typeof it.d=="number"?Cl={x:0,y:0,z:it.d}:Cl=it.d;var Tl=Ft.corner;Tl==null&&(Ft.center!==void 0?Tl={x:Ft.center.x-.5*(ot.x+Ln.x+Cl.x),y:Ft.center.y-.5*(ot.y+Ln.y+Cl.y),z:Ft.center.z-.5*(ot.z+Ln.z+Cl.z)}:Tl={x:0,y:0,z:0});var zl=[{x:Tl.x,y:Tl.y,z:Tl.z},{x:Tl.x+ot.x,y:Tl.y+ot.y,z:Tl.z+ot.z},{x:Tl.x+Ln.x,y:Tl.y+Ln.y,z:Tl.z+Ln.z},{x:Tl.x+ot.x+Ln.x,y:Tl.y+ot.y+Ln.y,z:Tl.z+ot.z+Ln.z},{x:Tl.x+Cl.x,y:Tl.y+Cl.y,z:Tl.z+Cl.z},{x:Tl.x+ot.x+Cl.x,y:Tl.y+ot.y+Cl.y,z:Tl.z+ot.z+Cl.z},{x:Tl.x+Ln.x+Cl.x,y:Tl.y+Ln.y+Cl.y,z:Tl.z+Ln.z+Cl.z},{x:Tl.x+ot.x+Ln.x+Cl.x,y:Tl.y+ot.y+Ln.y+Cl.y,z:Tl.z+ot.z+Ln.z+Cl.z}],In=[],Ml=[];In.splice(In.length,0,zl[0],zl[1],zl[2],zl[3]),Ml.splice(Ml.length,0,0,2,1,1,2,3);var Dl=4;In.splice(In.length,0,zl[2],zl[3],zl[6],zl[7]),Ml.splice(Ml.length,0,Dl+0,Dl+2,Dl+1,Dl+1,Dl+2,Dl+3),Dl+=4,In.splice(In.length,0,zl[4],zl[5],zl[0],zl[1]),Ml.splice(Ml.length,0,Dl+0,Dl+2,Dl+1,Dl+1,Dl+2,Dl+3),Dl+=4,In.splice(In.length,0,zl[6],zl[7],zl[4],zl[5]),Ml.splice(Ml.length,0,Dl+0,Dl+2,Dl+1,Dl+1,Dl+2,Dl+3),Dl+=4,In.splice(In.length,0,zl[3],zl[1],zl[7],zl[5]),Ml.splice(Ml.length,0,Dl+0,Dl+2,Dl+1,Dl+1,Dl+2,Dl+3),Dl+=4,In.splice(In.length,0,zl[2],zl[6],zl[0],zl[4]),Ml.splice(Ml.length,0,Dl+0,Dl+2,Dl+1,Dl+1,Dl+2,Dl+3),Dl+=4;var Ul=(0,nt.extend)({},Ft);Ul.vertexArr=In,Ul.faceArr=Ml,Ul.normalArr=[],st.drawCustom(this,this.geo,Ul);var Vl=new g.Vector3;this.components.push({centroid:Vl.addVectors(zl[0],zl[7]).multiplyScalar(.5)});var mu=this.geo.updateGeoGroup(0);st.updateBoundingFromPoints(this.boundingSphere,this.components,mu.vertexArray,mu.vertices)}addCylinder(Ft){var it,ot;Ft.start?it=new g.Vector3(Ft.start.x||0,Ft.start.y||0,Ft.start.z||0):it=new g.Vector3(0,0,0),Ft.end?(ot=new g.Vector3(Ft.end.x,Ft.end.y||0,Ft.end.z||0),typeof ot.x>"u"&&(ot.x=3)):ot=new g.Vector3(0,0,0);var Ln=Ft.radius||.1,Cl=b.CC.color(Ft.color);this.intersectionShape.cylinder.push(new d.Cylinder(it,ot,Ln)),j.GLDraw.drawCylinder(this.geo,it,ot,Ln,Cl,Ft.fromCap,Ft.toCap);var Tl=new g.Vector3;this.components.push({centroid:Tl.addVectors(it,ot).multiplyScalar(.5)});var zl=this.geo.updateGeoGroup(0);st.updateBoundingFromPoints(this.boundingSphere,this.components,zl.vertexArray,zl.vertices)}addDashedCylinder(Ft){Ft.dashLength=Ft.dashLength||.25,Ft.gapLength=Ft.gapLength||.25;var it;Ft.start?it=new g.Vector3(Ft.start.x||0,Ft.start.y||0,Ft.start.z||0):it=new g.Vector3(0,0,0);var ot;Ft.end?(ot=new g.Vector3(Ft.end.x,Ft.end.y||0,Ft.end.z||0),typeof ot.x>"u"&&(ot.x=3)):ot=new g.Vector3(3,0,0);for(var Ln=Ft.radius||.1,Cl=b.CC.color(Ft.color),Tl=Math.sqrt(Math.pow(it.x-ot.x,2)+Math.pow(it.y-ot.y,2)+Math.pow(it.z-ot.z,2)),zl=Tl/(Ft.gapLength+Ft.dashLength),In=new g.Vector3(Ft.start.x||0,Ft.start.y||0,Ft.start.z||0),Ml=new g.Vector3(Ft.end.x,Ft.end.y||0,Ft.end.z||0),Dl=new g.Vector3((ot.x-it.x)/(Tl/Ft.gapLength),(ot.y-it.y)/(Tl/Ft.gapLength),(ot.z-it.z)/(Tl/Ft.gapLength)),Ul=new g.Vector3((ot.x-it.x)/(Tl/Ft.dashLength),(ot.y-it.y)/(Tl/Ft.dashLength),(ot.z-it.z)/(Tl/Ft.dashLength)),Vl=0;Vl<zl;Vl++)Ml=new g.Vector3(In.x+Ul.x,In.y+Ul.y,In.z+Ul.z),this.intersectionShape.cylinder.push(new d.Cylinder(In,Ml,Ln)),j.GLDraw.drawCylinder(this.geo,In,Ml,Ln,Cl,Ft.fromCap,Ft.toCap),In=new g.Vector3(Ml.x+Dl.x,Ml.y+Dl.y,Ml.z+Dl.z);var mu=new g.Vector3;this.components.push({centroid:mu.addVectors(it,ot).multiplyScalar(.5)});var rp=this.geo.updateGeoGroup(0);st.updateBoundingFromPoints(this.boundingSphere,this.components,rp.vertexArray,rp.vertices)}addCurve(Ft){Ft.points=Ft.points||[],Ft.smooth=Ft.smooth||10,typeof Ft.fromCap>"u"&&(Ft.fromCap=2),typeof Ft.toCap>"u"&&(Ft.toCap=2);var it=(0,rt.subdivide_spline)(Ft.points,Ft.smooth);if(it.length<3){console.log("Too few points in addCurve");return}var ot=Ft.radius||.1,Ln=b.CC.color(Ft.color),Cl=0,Tl=it.length-1,zl=it[0].distanceTo(it[1]),In=Math.ceil(2*ot/zl);if(Ft.toArrow){Tl-=In;let Vl={start:it[Tl],end:it[it.length-1],radius:ot,color:Ln,mid:1e-4};this.addArrow(Vl)}if(Ft.fromArrow){Cl+=In;let Vl={start:it[Cl],end:it[0],radius:ot,color:Ln,mid:1e-4};this.addArrow(Vl)}for(var Ml=Math.ceil(it.length/2),Dl={radius:ot,color:Ln,fromCap:2,toCap:2},Ul=Cl;Ul<Tl;Ul++)Dl.start=it[Ul],Dl.end=it[Ul+1],Dl.fromCap=2,Dl.toCap=2,Ul<Ml?(Dl.fromCap=2,Dl.toCap=0):Ul>Ml?(Dl.fromCap=0,Dl.toCap=2):(Dl.fromCap=2,Dl.toCap=2),this.addCylinder(Dl)}addLine(Ft){var it,ot;Ft.start?it=new g.Vector3(Ft.start.x||0,Ft.start.y||0,Ft.start.z||0):it=new g.Vector3(0,0,0),Ft.end?(ot=new g.Vector3(Ft.end.x,Ft.end.y||0,Ft.end.z||0),typeof ot.x>"u"&&(ot.x=3)):ot=new g.Vector3(3,0,0);var Ln=this.geo.updateGeoGroup(2),Cl=Ln.vertices,Tl=Cl*3,zl=Ln.vertexArray;zl[Tl]=it.x,zl[Tl+1]=it.y,zl[Tl+2]=it.z,zl[Tl+3]=ot.x,zl[Tl+4]=ot.y,zl[Tl+5]=ot.z,Ln.vertices+=2;var In=Ln.lineArray,Ml=Ln.lineidx;In[Ml]=Cl,In[Ml+1]=Cl+1,Ln.lineidx+=2;var Dl=new g.Vector3;this.components.push({centroid:Dl.addVectors(it,ot).multiplyScalar(.5)}),Ln=this.geo.updateGeoGroup(0),st.updateBoundingFromPoints(this.boundingSphere,this.components,Ln.vertexArray,Ln.vertices)}addArrow(Ft){if(Ft.start?Ft.start=new g.Vector3(Ft.start.x||0,Ft.start.y||0,Ft.start.z||0):Ft.start=new g.Vector3(0,0,0),Ft.dir instanceof g.Vector3&&typeof Ft.length=="number"){var it=Ft.dir.clone().multiplyScalar(Ft.length).add(Ft.start);Ft.end=it}else Ft.end?(Ft.end=new g.Vector3(Ft.end.x,Ft.end.y||0,Ft.end.z||0),typeof Ft.end.x>"u"&&(Ft.end.x=3)):Ft.end=new g.Vector3(3,0,0);Ft.radius=Ft.radius||.1,Ft.radiusRatio=Ft.radiusRatio||1.618034,Ft.mid=0<Ft.mid&&Ft.mid<1?Ft.mid:.618034,st.drawArrow(this,this.geo,Ft);var ot=new g.Vector3;this.components.push({centroid:ot.addVectors(Ft.start,Ft.end).multiplyScalar(.5)});var Ln=this.geo.updateGeoGroup(0);st.updateBoundingFromPoints(this.boundingSphere,this.components,Ln.vertexArray,Ln.vertices)}static distance_from(Ft,it){return Math.sqrt(Math.pow(Ft.x-it.x,2)+Math.pow(Ft.y-it.y,2)+Math.pow(Ft.z-it.z,2))}static inSelectedRegion(Ft,it,ot){for(var Ln=0;Ln<it.length;Ln++)if(st.distance_from(it[Ln],Ft)<=ot)return!0;return!1}addIsosurface(Ft,it,ot,Ln){var Cl=it.isoval!==void 0&&typeof it.isoval=="number"?it.isoval:0,Tl=!!it.voxel,zl=it.smoothness===void 0?1:it.smoothness,In=Ft.size.x,Ml=Ft.size.y,Dl=Ft.size.z,Ul=new Int16Array(In*Ml*Dl),Vl=Ft.data,mu,rp;for(mu=0,rp=Ul.length;mu<rp;++mu)Ul[mu]=-1;var Ju=new Uint8Array(In*Ml*Dl);for(mu=0,rp=Vl.length;mu<rp;++mu){var cp=Cl>=0?Vl[mu]-Cl:Cl-Vl[mu];cp>0&&(Ju[mu]|=st.ISDONE)}var hp=[],yp=[];_.MarchingCube.march(Ju,hp,yp,{fulltable:!0,voxel:Tl,unitCube:Ft.unit,origin:Ft.origin,matrix:Ft.matrix,nX:In,nY:Ml,nZ:Dl}),!Tl&&zl>0&&_.MarchingCube.laplacianSmooth(zl,hp,yp);var xp=[],fp=[],_p=[];if(it.selectedRegion&&it.coords===void 0&&(it.coords=it.selectedRegion),it.coords===void 0&&it.selection!==void 0&&(Ln?it.coords=Ln.selectedAtoms(it.selection):console.log("addIsosurface needs viewer is selection provided.")),it.coords!==void 0){var ip=it.coords[0].x,gp=it.coords[0].y,Dp=it.coords[0].z,Fp=it.coords[0].x,n0=it.coords[0].y,S0=it.coords[0].z;for(let b0=0;b0<it.coords.length;b0++)it.coords[b0].x>ip?ip=it.coords[b0].x:it.coords[b0].x<Fp&&(Fp=it.coords[b0].x),it.coords[b0].y>gp?gp=it.coords[b0].y:it.coords[b0].y<n0&&(n0=it.coords[b0].y),it.coords[b0].z>Dp?Dp=it.coords[b0].z:it.coords[b0].z<S0&&(S0=it.coords[b0].z);var C0=2;it.radius!==void 0&&(C0=it.radius),it.selectedOffset!==void 0&&(C0=it.selectedOffset),it.seldist!==void 0&&(C0=it.seldist),Fp-=C0,ip+=C0,n0-=C0,gp+=C0,S0-=C0,Dp+=C0;for(let b0=0;b0<hp.length;b0++)hp[b0].x>Fp&&hp[b0].x<ip&&hp[b0].y>n0&&hp[b0].y<gp&&hp[b0].z>S0&&hp[b0].z<Dp&&st.inSelectedRegion(hp[b0],it.coords,C0)?(xp.push(fp.length),fp.push(hp[b0])):xp.push(-1);for(let b0=0;b0+2<yp.length;b0+=3)xp[yp[b0]]!==-1&&xp[yp[b0+1]]!==-1&&xp[yp[b0+2]]!==-1&&(_p.push(yp[b0]-(yp[b0]-xp[yp[b0]])),_p.push(yp[b0+1]-(yp[b0+1]-xp[yp[b0+1]])),_p.push(yp[b0+2]-(yp[b0+2]-xp[yp[b0+2]])));hp=fp,yp=_p}st.drawCustom(this,this.geo,{vertexArr:hp,faceArr:yp,normalArr:[],clickable:it.clickable,hoverable:it.hoverable}),this.updateStyle(it);var P0=new g.Vector3(Ft.origin.x,Ft.origin.y,Ft.origin.z),k0=new g.Vector3(Ft.size.x*Ft.unit.x,Ft.size.y*Ft.unit.y,Ft.size.z*Ft.unit.z),T0=new g.Vector3(0,0,0),im=P0.clone(),am=P0.clone().add(k0);for(let b0=0;b0<hp.length;b0++)T0.add(hp[b0]),im.max(hp[b0]),am.min(hp[b0]);T0.divideScalar(hp.length);var bm=T0.distanceTo(am),_g=T0.distanceTo(im);this.boundingSphere.center=T0,this.boundingSphere.radius=Math.max(bm,_g),typeof ot=="function"&&ot()}addVolumetricData(Ft,it,ot){Ft=new $.VolumeData(Ft,it),this.addIsosurface(Ft,ot)}finalize(){return st.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.geo}globj(Ft){if(this.renderedShapeObj&&(Ft.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){st.finalizeGeo(this.geo),this.geo.initTypedArrays(),this.wireframe&&this.geo.setUpWireframe(),typeof this.color<"u"&&st.updateColor(this.geo,this.color),this.shapeObj=new c.Object3D;var it=null;this.side==c.DoubleSide?it=new c.MeshDoubleLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:c.Coloring.VertexColors}):it=new c.MeshLambertMaterial({wireframe:this.wireframe,side:this.side,transparent:this.opacity<1,opacity:this.opacity,wireframeLinewidth:this.linewidth,vertexColors:c.Coloring.VertexColors});var ot=new c.Mesh(this.geo,it);if(this.shapeObj.add(ot),this.linegeo&&this.linegeo.vertices>0){var Ln=new c.LineBasicMaterial({linewidth:this.linewidth,color:this.color}),Cl=new c.Line(this.linegeo,Ln,c.LineStyle.LinePieces);this.shapeObj.add(Cl)}this.renderedShapeObj=this.shapeObj.clone(),Ft.add(this.renderedShapeObj)}}removegl(Ft){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),Ft.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}st.ISDONE=2,st.drawCustom=function(wl,Ft,it){var ot=it,Ln=ot.vertexArr,Cl=ot.faceArr;(Ln.length===0||Cl.length===0)&&console.warn("Error adding custom shape component: No vertices and/or face indices supplied!");var Tl=it.color;typeof Tl>"u"&&(Tl=wl.color),Tl=b.CC.color(Tl);for(var zl=jt(ot),In=0,Ml=zl.length;In<Ml;In++)st.addCustomGeo(wl,Ft,zl[In],zl[In].colorArr?zl[In].colorArr:Tl,it.clickable)};function jt(wl){var Ft=64e3;if(wl.vertexArr.length<Ft)return[wl];var it=[{vertexArr:[],normalArr:[],faceArr:[]}];wl.colorArr&&(it.colorArr=[]);var ot=[],Ln=[],Cl=0,Tl=wl.faceArr;for(let In=0,Ml=Tl.length;In<Ml;In+=3){let Dl=it[Cl];for(let Ul=0;Ul<3;Ul++){var zl=Tl[In+Ul];ot[zl]!==Cl&&(ot[zl]=Cl,Ln[zl]=Dl.vertexArr.length,Dl.vertexArr.push(wl.vertexArr[zl]),wl.normalArr&&wl.normalArr[zl]&&Dl.normalArr.push(wl.normalArr[zl]),wl.colorArr&&wl.colorArr[zl]&&Dl.colorArr.push(wl.colorArr[zl])),Dl.faceArr.push(Ln[zl])}Dl.vertexArr.length>=Ft&&(it.push({vertexArr:[],normalArr:[],faceArr:[]}),wl.colorArr&&(it.colorArr=[]),Cl++)}return it}},"./src/GLViewer.ts":(e,o,a)=>{a.r(o),a.d(o,{CONTEXTS_PER_VIEWPORT:()=>Ft,GLViewer:()=>ot,createStereoViewer:()=>Tl,createViewer:()=>Ln,createViewerGrid:()=>Cl});var c=a("./node_modules/upng-js/UPNG.js"),d=a("./src/GLModel.ts"),g=a("./src/GLShape.ts"),b=a("./src/Gradient.ts"),_=a("./src/Label.ts"),$=a("./src/ProteinSurface4.ts"),j=a("./src/VolumeData.ts"),rt=a("./src/VolumetricRender.ts"),nt=a("./src/WebGL/index.ts"),st=a("./src/WebGL/math/index.ts"),jt=a("./src/colors.ts"),wl=a("./src/utilities.ts");const Ft=16;class it extends Array{constructor(In){super(...In)}getSymmetries(){if(this.length==0)return[];let In=this[0];return typeof In.symmetries>"u"&&this.setSymmetries([new st.Matrix4]),In.symmetries}setSymmetries(In){typeof In>"u"&&(In=[new st.Matrix4]);for(let Ml of this)Ml.symmetries=In,Ml.finished=!1}}class ot{getWidth(){let In=this.container,Ml=In.offsetWidth;if(Ml==0&&In.style.display==="none"){let Dl=In.style.position,Ul=In.style.visibility;In.style.display="block",In.style.visibility="hidden",In.style.position="absolute",Ml=In.offsetWidth,In.style.display="none",In.style.visibility=Ul,In.style.position=Dl}return Ml}getHeight(){let In=this.container,Ml=In.offsetHeight;if(Ml==0&&In.style.display==="none"){let Dl=In.style.position,Ul=In.style.visibility;In.style.display="block",In.style.visibility="hidden",In.style.position="absolute",Ml=In.offsetHeight,In.style.display="none",In.style.visibility=Ul,In.style.position=Dl}return Ml}setupRenderer(){let In=Object.assign(Object.assign({},this.config),{preserveDrawingBuffer:!0,premultipliedAlpha:!1,containerWidth:this.WIDTH,containerHeight:this.HEIGHT});this.renderer=new nt.Renderer(In),this.renderer.domElement.style.width="100%",this.renderer.domElement.style.height="100%",this.renderer.domElement.style.padding="0",this.renderer.domElement.style.position="absolute",this.renderer.domElement.style.top="0px",this.renderer.domElement.style.left="0px",this.renderer.domElement.style.zIndex="0"}initializeScene(){this.scene=new nt.Scene,this.scene.fog=new nt.Fog(this.bgColor,100,200),this.modelGroup=new nt.Object3D,this.rotationGroup=new nt.Object3D,this.rotationGroup.useQuaternion=!0,this.rotationGroup.quaternion=new st.Quaternion(0,0,0,1),this.rotationGroup.add(this.modelGroup),this.scene.add(this.rotationGroup);var In=new nt.Light(16777215);In.position=new st.Vector3(.2,.2,1).normalize(),In.intensity=1,this.scene.add(In)}_handleLostContext(In){const Ml=function(Dl){const Ul=Dl.getBoundingClientRect();return!(Ul.right<0||Ul.bottom<0||Ul.top>(window.innerHeight||document.documentElement.clientHeight)||Ul.left>(window.innerWidth||document.documentElement.clientWidth))};if(Ml(this.container)){let Dl=0;for(let Ul of document.getElementsByTagName("canvas"))if(Ml(Ul)&&Ul._3dmol_viewer!=null&&(Ul._3dmol_viewer.resize(),Dl+=1,Dl>=Ft))break}}initContainer(In){this.container=In,this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.container.append(this.renderer.domElement),this.glDOM=this.renderer.domElement,this.glDOM._3dmol_viewer=this,this.glDOM.addEventListener("webglcontextlost",this._handleLostContext.bind(this)),this.nomouse||(this.glDOM.addEventListener("mousedown",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("touchstart",this._handleMouseDown.bind(this),{passive:!1}),this.glDOM.addEventListener("wheel",this._handleMouseScroll.bind(this),{passive:!1}),this.glDOM.addEventListener("mousemove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("touchmove",this._handleMouseMove.bind(this),{passive:!1}),this.glDOM.addEventListener("contextmenu",this._handleContextMenu.bind(this),{passive:!1}))}decAnim(){this.animated--,this.animated<0&&(this.animated=0)}incAnim(){this.animated++}nextSurfID(){var In=0;for(let Dl in this.surfaces)if(this.surfaces.hasOwnProperty(Dl)){var Ml=parseInt(Dl);isNaN(Ml)||Ml>In&&(In=Ml)}return In+1}setSlabAndFog(){let In=this.camera.position.z-this.rotationGroup.position.z;In<1&&(In=1),this.camera.near=In+this.slabNear,!this.camera.ortho&&this.camera.near<1&&(this.camera.near=1),this.camera.far=In+this.slabFar,this.camera.near+1>this.camera.far&&(this.camera.far=this.camera.near+1),this.camera.fov=this.fov,this.camera.right=In*Math.tan(Math.PI/180*this.fov),this.camera.left=-this.camera.right,this.camera.top=this.camera.right/this.ASPECT,this.camera.bottom=-this.camera.top,this.camera.updateProjectionMatrix(),this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near),this.scene.fog.far=this.camera.near+this.fogEnd*(this.camera.far-this.camera.near),this.config.disableFog&&(this.scene.fog.near=this.scene.fog.far)}show(In){if(this.renderer.setViewport(),!!this.scene&&(this.setSlabAndFog(),this.renderer.render(this.scene,this.camera),this.viewChangeCallback&&this.viewChangeCallback(this._viewer.getView()),!In&&this.linkedViewers.length>0))for(var Ml=this._viewer.getView(),Dl=0;Dl<this.linkedViewers.length;Dl++){var Ul=this.linkedViewers[Dl];Ul.setView(Ml,!0)}}updateClickables(){this.clickables.splice(0,this.clickables.length),this.hoverables.splice(0,this.hoverables.length),this.contextMenuEnabledObjects.splice(0,this.contextMenuEnabledObjects.length);for(let In=0,Ml=this.models.length;In<Ml;In++){let Dl=this.models[In];if(Dl){let Ul=Dl.selectedAtoms({clickable:!0}),Vl=Dl.selectedAtoms({hoverable:!0}),mu=Dl.selectedAtoms({contextMenuEnabled:!0});for(let rp=0;rp<Vl.length;rp++)this.hoverables.push(Vl[rp]);for(let rp=0;rp<Ul.length;rp++)this.clickables.push(Ul[rp]);for(let rp=0;rp<mu.length;rp++)this.contextMenuEnabledObjects.push(mu[rp])}}for(let In=0,Ml=this.shapes.length;In<Ml;In++){let Dl=this.shapes[In];Dl&&Dl.clickable&&this.clickables.push(Dl),Dl&&Dl.hoverable&&this.hoverables.push(Dl),Dl&&Dl.contextMenuEnabled&&this.contextMenuEnabledObjects.push(Dl)}}handleClickSelection(In,Ml,Dl){let Ul=this.targetedObjects(In,Ml,this.clickables);if(Ul.length){var Vl=Ul[0].clickable;Vl.callback!==void 0&&(typeof Vl.callback!="function"&&(Vl.callback=(0,wl.makeFunction)(Vl.callback)),typeof Vl.callback=="function"&&(this.mouseButton===3&&this.contextMenuEnabledObjects.includes(Vl)&&this.userContextMenuHandler||Vl.callback(Vl,this._viewer,Dl,this.container,Ul)))}}canvasOffset(){let In=this.glDOM,Ml=In.getBoundingClientRect(),Dl=In.ownerDocument,Ul=Dl.documentElement,Vl=Dl.defaultView;return{top:Ml.top+Vl.pageYOffset-Ul.clientTop,left:Ml.left+Vl.pageXOffset-Ul.clientLeft}}setHover(In,Ml,Dl){this.current_hover!=In&&(this.current_hover&&(typeof this.current_hover.unhover_callback!="function"&&(this.current_hover.unhover_callback=(0,wl.makeFunction)(this.current_hover.unhover_callback)),this.current_hover.unhover_callback(this.current_hover,this._viewer,Ml,this.container,Dl)),this.current_hover=In,In&&In.hover_callback!==void 0&&(typeof In.hover_callback!="function"&&(In.hover_callback=(0,wl.makeFunction)(In.hover_callback)),typeof In.hover_callback=="function"&&In.hover_callback(In,this._viewer,Ml,this.container,Dl)))}handleHoverSelection(In,Ml,Dl){if(this.hoverables.length==0)return;let Ul=this.targetedObjects(In,Ml,this.hoverables);if(Ul.length){var Vl=Ul[0].clickable;this.setHover(Vl,Dl,Ul),this.current_hover=Vl}else this.setHover(null)}handleHoverContinue(In,Ml){let Dl=this.targetedObjects(In,Ml,this.hoverables);(Dl.length==0||Dl[0]===void 0)&&this.setHover(null),Dl[0]!==void 0&&Dl[0].clickable!==this.current_hover&&this.setHover(null)}closeEnoughForClick(In,{allowTolerance:Ml=In.targetTouches,tolerance:Dl=5}={}){const Ul=this.getX(In),Vl=this.getY(In);if(Ml){const mu=Math.abs(Ul-this.mouseStartX),rp=Math.abs(Vl-this.mouseStartY);return mu<=Dl&&rp<=Dl}else return Ul===this.mouseStartX&&Vl===this.mouseStartY}calcTouchDistance(In){var Ml=In.targetTouches[0].pageX-In.targetTouches[1].pageX,Dl=In.targetTouches[0].pageY-In.targetTouches[1].pageY;return Math.hypot(Ml,Dl)}getX(In){var Ml=In.pageX;return Ml==null&&(Ml=In.pageX),In.targetTouches&&In.targetTouches[0]?Ml=In.targetTouches[0].pageX:In.changedTouches&&In.changedTouches[0]&&(Ml=In.changedTouches[0].pageX),Ml}getY(In){var Ml=In.pageY;return Ml==null&&(Ml=In.pageY),In.targetTouches&&In.targetTouches[0]?Ml=In.targetTouches[0].pageY:In.changedTouches&&In.changedTouches[0]&&(Ml=In.changedTouches[0].pageY),Ml}isInViewer(In,Ml){if(this.viewers!=null){var Dl=this.WIDTH/this.cols,Ul=this.HEIGHT/this.rows,Vl=this.canvasOffset(),mu=In-Vl.left,rp=Ml-Vl.top,Ju=this.rows-Math.floor(rp/Ul)-1,cp=Math.floor(mu/Dl);if(Ju!=this.row||cp!=this.col)return!1}return!0}adjustZoomToLimits(In){if(this.config.lowerZoomLimit&&this.config.lowerZoomLimit>0){let Ml=this.CAMERA_Z-this.config.lowerZoomLimit;In>Ml&&(In=Ml)}if(this.config.upperZoomLimit&&this.config.upperZoomLimit>0){let Ml=this.CAMERA_Z-this.config.upperZoomLimit;In<Ml&&(In=Ml)}return In>this.CAMERA_Z-1&&(In=this.CAMERA_Z-1),In}static slerp(In,Ml,Dl){if(Dl==1)return Ml.clone();if(Dl==0)return In.clone();let Ul=In.x*Ml.x+In.y*Ml.y+In.z*Ml.z+In.w*Ml.w;if(Ul>.9995){let yp=new st.Quaternion(In.x+Dl*(Ml.x-In.x),In.y+Dl*(Ml.y-In.y),In.z+Dl*(Ml.z-In.z),In.w+Dl*(Ml.w-In.w));return yp.normalize(),yp}Ul<0&&(Ml=Ml.clone().multiplyScalar(-1),Ul=-Ul),Ul>1?Ul=1:Ul<-1&&(Ul=-1);var Vl=Math.acos(Ul),mu=Vl*Dl,rp=Ml.clone();rp.sub(In.clone().multiplyScalar(Ul)),rp.normalize();var Ju=Math.cos(mu),cp=Math.sin(mu),hp=new st.Quaternion(In.x*Ju+rp.x*cp,In.y*Ju+rp.y*cp,In.z*Ju+rp.z*cp,In.w*Ju+rp.w*cp);return hp.normalize(),hp}constructor(In,Ml={}){if(this.nomouse=!1,this.glDOM=null,this.models=[],this.surfaces={},this.shapes=[],this.labels=[],this.clickables=[],this.hoverables=[],this.contextMenuEnabledObjects=[],this.current_hover=null,this.hoverDuration=500,this.longTouchDuration=1e3,this.viewer_frame=0,this.viewChangeCallback=null,this.stateChangeCallback=null,this.NEAR=1,this.FAR=800,this.CAMERA_Z=150,this.fov=20,this.linkedViewers=[],this.renderer=null,this.control_all=!1,this.scene=null,this.rotationGroup=null,this.modelGroup=null,this.fogStart=.4,this.fogEnd=1,this.slabNear=-50,this.slabFar=50,this.cq=new st.Quaternion(0,0,0,1),this.dq=new st.Quaternion(0,0,0,1),this.animated=0,this.animationTimers=new Set,this.isDragging=!1,this.mouseStartX=0,this.mouseStartY=0,this.touchDistanceStart=0,this.touchHold=!1,this.currentModelPos=0,this.cz=0,this.cslabNear=0,this.cslabFar=0,this.userContextMenuHandler=null,this.config=Ml,this.callback=this.config.callback,this.defaultcolors=this.config.defaultcolors,this.defaultcolors||(this.defaultcolors=jt.elementColors.defaultColors),this.nomouse=!!this.config.nomouse,this.bgColor=0,this.config.backgroundColor=this.config.backgroundColor||"#ffffff",typeof this.config.backgroundColor<"u"&&(this.bgColor=jt.CC.color(this.config.backgroundColor).getHex()),this.config.backgroundAlpha=this.config.backgroundAlpha==null?1:this.config.backgroundAlpha,this.camerax=0,typeof this.config.camerax<"u"&&(this.camerax=typeof this.config.camerax=="string"?parseFloat(this.config.camerax):this.config.camerax),this._viewer=this,this.container=In,this.config.hoverDuration!=null&&(this.hoverDuration=this.config.hoverDuration),this.config.antialias===void 0&&(this.config.antialias=!0),this.config.cartoonQuality===void 0&&(this.config.cartoonQuality=10),this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight(),this.setupRenderer(),this.row=this.config.row==null?0:this.config.row,this.col=this.config.col==null?0:this.config.col,this.cols=this.config.cols,this.rows=this.config.rows,this.viewers=this.config.viewers,this.control_all=this.config.control_all,this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.camera=new nt.Camera(this.fov,this.ASPECT,this.NEAR,this.FAR,this.config.orthographic),this.camera.position=new st.Vector3(this.camerax,0,this.CAMERA_Z),this.lookingAt=new st.Vector3,this.camera.lookAt(this.lookingAt),this.raycaster=new nt.Raycaster(new st.Vector3(0,0,0),new st.Vector3(0,0,0)),this.projector=new nt.Projector,this.initializeScene(),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),this.scene.fog.color=jt.CC.color(this.bgColor),document.body.addEventListener("mouseup",this._handleMouseUp.bind(this)),document.body.addEventListener("touchend",this._handleMouseUp.bind(this)),this.initContainer(this.container),this.config.style&&this.setViewStyle(this.config),window.addEventListener("resize",this.resize.bind(this)),typeof window.ResizeObserver<"u"&&(this.divwatcher=new window.ResizeObserver(this.resize.bind(this)),this.divwatcher.observe(this.container)),typeof window.IntersectionObserver<"u"){let Dl=(Ul,Vl)=>{Ul.forEach(mu=>{mu.isIntersecting&&this.resize()})};this.intwatcher=new window.IntersectionObserver(Dl),this.intwatcher.observe(this.container)}try{typeof this.callback=="function"&&this.callback(this)}catch(Dl){console.log("error with glviewer callback: "+Dl)}}targetedObjects(In,Ml,Dl){var Ul={x:In,y:Ml,z:-1};return Array.isArray(Dl)||(Dl=this.selectedAtoms(Dl)),Dl.length==0?[]:(this.raycaster.setFromCamera(Ul,this.camera),this.raycaster.intersectObjects(this.modelGroup,Dl))}modelToScreen(In){let Ml=!1;Array.isArray(In)||(In=[In],Ml=!0);let Dl=this.renderer.getXRatio(),Ul=this.renderer.getYRatio(),Vl=this.col,mu=this.row,rp=Vl*(this.WIDTH/Dl),Ju=(Ul-mu-1)*(this.HEIGHT/Ul),cp=[],hp=this.canvasOffset();return In.forEach(yp=>{let xp=new st.Vector3(yp.x,yp.y,yp.z);xp.applyMatrix4(this.modelGroup.matrixWorld),this.projector.projectVector(xp,this.camera);let fp=this.WIDTH/Dl*(xp.x+1)/2+hp.left+rp,_p=-(this.HEIGHT/Ul)*(xp.y-1)/2+hp.top+Ju;cp.push({x:fp,y:_p})}),Ml&&(cp=cp[0]),cp}screenOffsetToModel(In,Ml,Dl){var Ul=In/this.WIDTH,Vl=Ml/this.HEIGHT,mu=Dl===void 0?this.rotationGroup.position.z:Dl,rp=this.rotationGroup.quaternion,Ju=new st.Vector3(0,0,mu);return this.projector.projectVector(Ju,this.camera),Ju.x+=Ul*2,Ju.y-=Vl*2,this.projector.unprojectVector(Ju,this.camera),Ju.z=0,Ju.applyQuaternion(rp),Ju}screenToModelDistance(In,Ml){let Dl=this.canvasOffset(),Ul=new st.Vector3(Ml.x,Ml.y,Ml.z);Ul.applyMatrix4(this.modelGroup.matrixWorld);let Vl=Ul.clone();this.projector.projectVector(Ul,this.camera);let mu=new st.Vector3((In.x-Dl.left)*2/this.WIDTH-1,(In.y-Dl.top)*2/-this.HEIGHT+1,Ul.z);return this.projector.unprojectVector(mu,this.camera),mu.distanceTo(Vl)}setViewChangeCallback(In){(typeof In=="function"||In==null)&&(this.viewChangeCallback=In)}setStateChangeCallback(In){(typeof In=="function"||In==null)&&(this.stateChangeCallback=In)}getConfig(){return this.config}setConfig(In){this.config=In,In.ambientOcclusion&&this.renderer.enableAmbientOcclusion(In.ambientOcclusion)}getInternalState(){var In={models:[],surfaces:[],shapes:[],labels:[]};for(let Ml=0;Ml<this.models.length;Ml++)this.models[Ml]&&(In.models[Ml]=this.models[Ml].getInternalState());return In}setInternalState(In){this.clear();var Ml=In.models;for(let Dl=0;Dl<Ml.length;Dl++)Ml[Dl]&&(this.models[Dl]=new d.GLModel(Dl,void 0,this),this.models[Dl].setInternalState(Ml[Dl]));this.render()}setZoomLimits(In,Ml){typeof In<"u"&&(this.config.lowerZoomLimit=In),Ml&&(this.config.upperZoomLimit=Ml),this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}setCameraParameters(In){In.fov!==void 0&&(this.fov=In.fov,this.camera.fov=this.fov),In.z!==void 0&&(this.CAMERA_Z=In.z,this.camera.z=this.CAMERA_Z),In.orthographic!==void 0&&(this.camera.ortho=In.orthographic),this.setSlabAndFog()}_handleMouseDown(In){if(In.preventDefault(),!this.scene)return;var Ml=this.getX(In),Dl=this.getY(In);if(Ml===void 0)return;this.isDragging=!0,this.mouseButton=In.which,this.mouseStartX=Ml,this.mouseStartY=Dl,this.touchHold=!0,this.touchDistanceStart=0,In.targetTouches&&In.targetTouches.length==2&&(this.touchDistanceStart=this.calcTouchDistance(In)),this.cq=this.rotationGroup.quaternion.clone(),this.cz=this.rotationGroup.position.z,this.currentModelPos=this.modelGroup.position.clone(),this.cslabNear=this.slabNear,this.cslabFar=this.slabFar;let Ul=this;In.targetTouches&&In.targetTouches.length===1&&(this.longTouchTimeout=setTimeout(function(){if(Ul.touchHold==!0){Ul.glDOM=Ul.renderer.domElement;const Vl=In.targetTouches[0],mu=new PointerEvent("contextmenu",Object.assign(Object.assign({},In),{pageX:Vl.pageX,pageY:Vl.pageY,screenX:Vl.screenX,screenY:Vl.screenY,clientX:Vl.clientX,clientY:Vl.clientY}));Ul.glDOM.dispatchEvent(mu)}},this.longTouchDuration))}_handleMouseUp(In){if(this.touchHold=!1,this.isDragging&&this.scene){var Ml=this.getX(In),Dl=this.getY(In);if(this.closeEnoughForClick(In)&&this.isInViewer(Ml,Dl)){let Ul=this.mouseXY(Ml,Dl);this.handleClickSelection(Ul.x,Ul.y,In)}}this.isDragging=!1}_handleMouseScroll(In){if(In.preventDefault(),!!this.scene){var Ml=this.getX(In),Dl=this.getY(In);if(Ml!==void 0&&!(!this.control_all&&!this.isInViewer(Ml,Dl))){var Ul=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,Vl=1;if(In.ctrlKey&&(Vl=-1),In.detail)this.rotationGroup.position.z+=Vl*Ul*In.detail/10;else if(In.wheelDelta){let mu=In.wheelDelta*600/(In.wheelDelta+600);this.rotationGroup.position.z-=Vl*Ul*mu/400}this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z),this.show()}}}pngURI(){return this.getCanvas().toDataURL("image/png")}apngURI(In){let Ml=this;return In=In||1,new Promise(function(Dl){let Ul=0,Vl=Ml.viewChangeCallback,mu=[],rp=[],Ju=Date.now();Ml.viewChangeCallback=function(){rp.push(Date.now()-Ju),Ju=Date.now(),mu.push(new Promise(cp=>{Ml.getCanvas().toBlob(function(hp){hp.arrayBuffer().then(cp)},"image/png")})),Ul+=1,Ul==In&&(Ml.viewChangeCallback=Vl,Promise.all(mu).then(cp=>{let hp=[];for(let gp=0;gp<cp.length;gp++){let Dp=(0,c.decode)(cp[gp]);hp.push((0,c.toRGBA8)(Dp)[0])}let yp=Ml.getCanvas().width,xp=Ml.getCanvas().height,fp=(0,c.encode)(hp,yp,xp,0,rp),_p=new Blob([fp],{type:"image/png"}),ip=new FileReader;ip.onload=function(gp){Dl(gp.target.result)},ip.readAsDataURL(_p)}))}})}getCanvas(){return this.glDOM}getRenderer(){return this.renderer}setHoverDuration(In){this.hoverDuration=In}mouseXY(In,Ml){let Dl=this.canvasOffset(),Ul=this.renderer.getXRatio(),Vl=this.renderer.getYRatio(),mu=this.col,rp=this.row,Ju=mu*(this.WIDTH/Ul),cp=(Vl-rp-1)*(this.HEIGHT/Vl),hp=(In-Dl.left-Ju)/(this.WIDTH/Ul)*2-1,yp=-((Ml-Dl.top-cp)/(this.HEIGHT/Vl))*2+1;return{x:hp,y:yp}}_handleMouseMove(In){clearTimeout(this.hoverTimeout),In.preventDefault();let Ml=this.getX(In),Dl=this.getY(In);if(Ml===void 0)return;let Ul=this.renderer.getXRatio(),Vl=this.renderer.getYRatio(),mu=this.mouseXY(Ml,Dl),rp=this;this.current_hover!==null&&this.handleHoverContinue(mu.x,mu.y);var Ju=0;if(!(!this.control_all&&!this.isInViewer(Ml,Dl))&&this.scene&&(this.hoverables.length>0&&(this.hoverTimeout=setTimeout(function(){rp.handleHoverSelection(mu.x,mu.y,In)},this.hoverDuration)),!!this.isDragging)){In.targetTouches&&(In.targetTouches.length>1||In.targetTouches.length===1&&!this.closeEnoughForClick(In))&&clearTimeout(this.longTouchTimeout);var cp=(Ml-this.mouseStartX)/this.WIDTH,hp=(Dl-this.mouseStartY)/this.HEIGHT;if(this.touchDistanceStart!=0&&In.targetTouches&&In.targetTouches.length==2){var yp=this.calcTouchDistance(In);Ju=2,hp=(yp-this.touchDistanceStart)*2/(this.WIDTH+this.HEIGHT)}else In.targetTouches&&In.targetTouches.length==3&&(Ju=1);cp*=Ul,hp*=Vl;var xp=Math.hypot(cp,hp),fp;if(Ju==3||this.mouseButton==3&&In.ctrlKey)this.slabNear=this.cslabNear+cp*100,this.slabFar=this.cslabFar-hp*100;else if(Ju==2||this.mouseButton==3||In.shiftKey)fp=(this.CAMERA_Z-this.rotationGroup.position.z)*.85,fp<80&&(fp=80),this.rotationGroup.position.z=this.cz+hp*fp,this.rotationGroup.position.z=this.adjustZoomToLimits(this.rotationGroup.position.z);else if(Ju==1||this.mouseButton==2||In.ctrlKey){var _p=this.screenOffsetToModel(Ul*(Ml-this.mouseStartX),Vl*(Dl-this.mouseStartY));this.modelGroup.position.addVectors(this.currentModelPos,_p)}else if((Ju===0||this.mouseButton==1)&&xp!==0){var ip=Math.sin(xp*Math.PI)/xp;this.dq.x=Math.cos(xp*Math.PI),this.dq.y=0,this.dq.z=ip*cp,this.dq.w=-ip*hp,this.rotationGroup.quaternion.set(1,0,0,0),this.rotationGroup.quaternion.multiply(this.dq),this.rotationGroup.quaternion.multiply(this.cq)}this.show()}}_handleContextMenu(In){if(In.preventDefault(),this.closeEnoughForClick(In)){var Ul=this.mouseStartX,Vl=this.mouseStartY,Dl=this.canvasOffset();let mu=this.mouseXY(Ul,Vl),rp=mu.x,Ju=mu.y,cp=this.targetedObjects(rp,Ju,this.contextMenuEnabledObjects);var Ml=null;cp.length&&(Ml=cp[0].clickable);var Dl=this.canvasOffset(),Ul=this.mouseStartX-Dl.left,Vl=this.mouseStartY-Dl.top;this.userContextMenuHandler&&(this.userContextMenuHandler(Ml,Ul,Vl,cp,In),this.isDragging=!1)}}setContainer(In){let Ml=(0,wl.getElement)(In)||this.container;return this.initContainer(Ml),this}setBackgroundColor(In,Ml){(typeof Ml>"u"||Ml<0||Ml>1)&&(Ml=1);var Dl=jt.CC.color(In);return this.scene.fog.color=Dl,this.bgColor=Dl.getHex(),this.renderer.setClearColorHex(Dl.getHex(),Ml),this.show(),this}setProjection(In){this.camera.ortho=In==="orthographic",this.setSlabAndFog()}setViewStyle(In){if(In=In||{},In.style=In.style||"",In.style.includes("outline")?this.renderer.enableOutline(In):this.renderer.disableOutline(),In.style.includes("ambientOcclusion")){var Ml={};In.strength&&(Ml.strength=In.strength),In.radius&&(Ml.radius=In.radius),this.renderer.enableAmbientOcclusion(Ml)}else this.renderer.disableAmbientOcclusion();return this}updateSize(){this.renderer.setSize(this.WIDTH,this.HEIGHT),this.ASPECT=this.renderer.getAspect(this.WIDTH,this.HEIGHT),this.renderer.setSize(this.WIDTH,this.HEIGHT),this.camera.aspect=this.ASPECT,this.camera.updateProjectionMatrix()}setWidth(In){return this.WIDTH=In||this.WIDTH,this.updateSize(),this}setHeight(In){return this.HEIGHT=In||this.HEIGHT,this.updateSize(),this}resize(){this.WIDTH=this.getWidth(),this.HEIGHT=this.getHeight();let In=!1;if(this.renderer.isLost()&&this.WIDTH>0&&this.HEIGHT>0){let Ml=!1,Dl=this.container.querySelector("canvas");Dl&&Dl!=this.renderer.getCanvas()?this.config.canvas=Dl:(Dl.remove(),this.config&&this.config.canvas!=null&&(delete this.config.canvas,Ml=!0)),this.setupRenderer(),this.initContainer(this.container),this.renderer.setClearColorHex(this.bgColor,this.config.backgroundAlpha),In=!0,Ml&&(this.config.canvas=this.renderer.getCanvas())}if(this.WIDTH==0||this.HEIGHT==0?this.animated&&this._viewer.pauseAnimate():this.animated&&this._viewer.resumeAnimate(),this.updateSize(),In){let Ml=this.renderer.supportedExtensions();if(Ml.regen=!0,this.viewers)for(let Dl=0,Ul=this.viewers.length;Dl<Ul;Dl++)for(let Vl=0,mu=this.viewers[Dl].length;Vl<mu;Vl++)this.viewers[Dl][Vl].render(null,Ml);this._viewer.render(null,Ml)}else this.WIDTH>0&&this.HEIGHT>0&&this.show();return this}getModel(In){return In===void 0?this.models.length==0?null:this.models[this.models.length-1]:In instanceof d.GLModel?In:In in this.models?this.models[In]:this.models.length==0?null:this.models[this.models.length-1]}spin(In,Ml=1,Dl=!1){if(clearInterval(this.spinInterval),typeof In>"u"&&(In="y"),typeof In=="boolean")if(In)In="y";else return;Array.isArray(In)&&(In={x:In[0],y:In[1],z:In[2]});var Ul=this;this.spinInterval=setInterval(function(){!Ul.getCanvas().isConnected&&Ul.renderer.isLost()&&clearInterval(Ul.spinInterval),(!Dl||Ul.container.checkVisibility&&Ul.container.checkVisibility())&&Ul.rotate(1*Ml,In)},25)}animateMotion(In,Ml,Dl,Ul,Vl,mu){var rp=20,Ju=Math.ceil(In/rp);Ju<1&&(Ju=1),this.incAnim();var cp={mpos:this.modelGroup.position.clone(),rz:this.rotationGroup.position.z,rot:this.rotationGroup.quaternion.clone(),cam:this.lookingAt.clone()};if(Ml){let xp=new Array(Ju);for(let gp=0;gp<Ju;gp++){let Dp=(gp+1)/Ju,Fp={mpos:cp.mpos,rz:cp.rz,rot:cp.rot};Fp.mpos=Dl.clone().sub(cp.mpos).multiplyScalar(Dp).add(cp.mpos),Fp.rz=cp.rz+Dp*(Ul-cp.rz),Fp.rot=ot.slerp(cp.rot,Vl,Dp),Fp.cam=mu.clone().sub(cp.cam).multiplyScalar(Dp).add(cp.cam),xp[gp]=Fp}let fp=0,_p=this,ip=function(){var gp=xp[fp];fp+=1,_p.modelGroup.position=gp.mpos,_p.rotationGroup.position.z=gp.rz,_p.rotationGroup.quaternion=gp.rot,_p.camera.lookAt(gp.cam),fp<xp.length?setTimeout(ip,rp):_p.decAnim(),_p.show()};setTimeout(ip,rp)}else{var hp={};let xp=1/Ju;if(Dl&&(hp.mpos=Dl.clone().sub(cp.mpos).multiplyScalar(xp)),typeof Ul<"u"&&Ul!=null&&(hp.rz=xp*(Ul-cp.rz)),Vl){var yp=ot.slerp(cp.rot,Vl,xp);hp.rot=cp.rot.clone().inverse().multiply(yp)}mu&&(hp.cam=mu.clone().sub(cp.cam).multiplyScalar(xp));let fp=0,_p=this,ip=function(){fp+=1,hp.mpos&&_p.modelGroup.position.add(hp.mpos),hp.rz&&(_p.rotationGroup.position.z+=hp.rz),hp.rot&&_p.rotationGroup.quaternion.multiply(hp.rot),hp.cam&&(_p.lookingAt.add(hp.cam),_p.camera.lookAt(_p.lookingAt)),fp<Ju?setTimeout(ip,rp):_p.decAnim(),_p.show()};setTimeout(ip,rp)}}rotate(In,Ml="y",Dl=0,Ul=!1){if(Ml=="x"?Ml={x:1,y:0,z:0}:Ml=="y"?Ml={x:0,y:1,z:0}:Ml=="z"&&(Ml={x:0,y:0,z:1}),Ml=="vx"?Ml={vx:1,vy:0,vz:0}:Ml=="vy"?Ml={vx:0,vy:1,vz:0}:Ml=="vz"&&(Ml={vx:0,vy:0,vz:1}),typeof Ml.vx<"u"){var Vl=new st.Vector3(Ml.vx,Ml.vy,Ml.vz);Vl.applyQuaternion(this.rotationGroup.quaternion),Ml={x:Vl.x,y:Vl.y,z:Vl.z}}var mu=function(hp){var yp=Math.sin(hp/2),xp=Math.cos(hp/2),fp=0,_p=0,ip=0;return fp=Ml.x*yp,_p=Ml.y*yp,ip=Ml.z*yp,new st.Quaternion(fp,_p,ip,xp).normalize()},rp=Math.PI*In/180,Ju=mu(rp);if(Dl){var cp=new st.Quaternion().copy(this.rotationGroup.quaternion).multiply(Ju);this.animateMotion(Dl,Ul,this.modelGroup.position,this.rotationGroup.position.z,cp,this.lookingAt)}else this.rotationGroup.quaternion.multiply(Ju),this.show();return this}surfacesFinished(){for(var In in this.surfaces)if(!this.surfaces[In][0].done)return!1;return!0}getView(){if(!this.modelGroup)return[0,0,0,0,0,0,0,1];var In=this.modelGroup.position,Ml=this.rotationGroup.quaternion;return[In.x,In.y,In.z,this.rotationGroup.position.z,Ml.x,Ml.y,Ml.z,Ml.w]}setView(In,Ml){return In===void 0||!(In instanceof Array||In.length!==8)?this:!this.modelGroup||!this.rotationGroup?this:(this.modelGroup.position.x=In[0],this.modelGroup.position.y=In[1],this.modelGroup.position.z=In[2],this.rotationGroup.position.z=In[3],this.rotationGroup.quaternion.x=In[4],this.rotationGroup.quaternion.y=In[5],this.rotationGroup.quaternion.z=In[6],this.rotationGroup.quaternion.w=In[7],typeof In[8]<"u"&&(this.rotationGroup.position.x=In[8],this.rotationGroup.position.y=In[9]),this.show(Ml),this)}render(In,Ml){this.renderer.setViewport(),this.updateClickables();var Dl=this.getView();this.stateChangeCallback&&this.stateChangeCallback(this.getInternalState());var Ul,Vl;for(Ml||(Ml=this.renderer.supportedExtensions()),Ul=0;Ul<this.models.length;Ul++)this.models[Ul]&&this.models[Ul].globj(this.modelGroup,Ml);for(Ul=0;Ul<this.shapes.length;Ul++)this.shapes[Ul]&&(typeof this.shapes[Ul].frame>"u"||this.viewer_frame<0||this.shapes[Ul].frame<0||this.shapes[Ul].frame==this.viewer_frame?this.shapes[Ul].globj(this.modelGroup,Ml):this.shapes[Ul].removegl(this.modelGroup));for(Ul=0;Ul<this.labels.length;Ul++)Ml.regen&&(this.labels[Ul].dispose(),this.modelGroup.remove(this.labels[Ul].sprite),this.labels[Ul].setContext(),this.modelGroup.add(this.labels[Ul].sprite)),this.labels[Ul]&&typeof this.labels[Ul].frame<"u"&&this.labels[Ul].frame>=0&&(this.modelGroup.remove(this.labels[Ul].sprite),(this.viewer_frame<0||this.labels[Ul].frame==this.viewer_frame)&&this.modelGroup.add(this.labels[Ul].sprite));for(Ul in this.surfaces)if(this.surfaces.hasOwnProperty(Ul)){var mu=this.surfaces[Ul];for(Vl=0;Vl<mu.length;Vl++)if(mu.hasOwnProperty(Vl)){var rp=mu[Vl].geo;if(!mu[Vl].finished||Ml.regen){rp.verticesNeedUpdate=!0,rp.elementsNeedUpdate=!0,rp.normalsNeedUpdate=!0,rp.colorsNeedUpdate=!0,rp.buffersNeedUpdate=!0,mu[Vl].mat.needsUpdate=!0,mu[Vl].done&&(mu[Vl].finished=!0),mu[Vl].lastGL&&this.modelGroup.remove(mu[Vl].lastGL);var Ju=null;if(mu[Vl].mat instanceof nt.LineBasicMaterial?Ju=new nt.Line(rp,mu[Vl].mat):("wireframe"in mu.style&&mu.style.wireframe&&rp.setUpWireframe(),Ju=new nt.Mesh(rp,mu[Vl].mat)),mu[Vl].mat.transparent&&mu[Vl].mat.opacity==0?Ju.visible=!1:Ju.visible=!0,mu[Vl].symmetries.length>1||mu[Vl].symmetries.length==1&&!mu[Vl].symmetries[0].isIdentity()){var cp,hp=new nt.Object3D;for(cp=0;cp<mu[Vl].symmetries.length;cp++){var yp=Ju.clone();yp.matrix=mu[Vl].symmetries[cp],yp.matrixAutoUpdate=!1,hp.add(yp)}mu[Vl].lastGL=hp,this.modelGroup.add(hp)}else mu[Vl].lastGL=Ju,this.modelGroup.add(Ju)}}}return this.setView(Dl),typeof In=="function"&&In(this),this}getModelList(In){let Ml=[];if(typeof In>"u"||typeof In.model>"u")for(let Ul=0;Ul<this.models.length;Ul++)this.models[Ul]&&Ml.push(this.models[Ul]);else{let Ul=In.model;Array.isArray(Ul)||(Ul=[Ul]);for(let Vl=0;Vl<Ul.length;Vl++)if(typeof Ul[Vl]=="number"){var Dl=Ul[Vl];Dl<0&&(Dl+=this.models.length),Ml.push(this.models[Dl])}else Ml.push(Ul[Vl])}return Ml}getAtomsFromSel(In){var Ml=[];typeof In>"u"&&(In={});var Dl=this.getModelList(In);for(let Ul=0;Ul<Dl.length;Ul++)Ml=Ml.concat(Dl[Ul].selectedAtoms(In));return Ml}atomIsSelected(In,Ml){typeof Ml>"u"&&(Ml={});for(var Dl=this.getModelList(Ml),Ul=0;Ul<Dl.length;Ul++)if(Dl[Ul].atomIsSelected(In,Ml))return!0;return!1}selectedAtoms(In){return this.getAtomsFromSel(In)}getUniqueValues(In,Ml){typeof Ml>"u"&&(Ml={});var Dl=this.getAtomsFromSel(Ml),Ul={};for(var Vl in Dl)if(Dl[Vl].hasOwnProperty(In)){var mu=Dl[Vl][In];Ul[mu]=!0}return Object.keys(Ul)}pdbData(In){for(var Ml=this.getAtomsFromSel(In),Dl="",Ul=0,Vl=Ml.length;Ul<Vl;++Ul)Dl+=Ml[Ul].pdbline+`
`;return Dl}zoom(In=2,Ml=0,Dl=!1){var Ul=(this.CAMERA_Z-this.rotationGroup.position.z)/In,Vl=this.CAMERA_Z-Ul;return Ml>0?this.animateMotion(Ml,Dl,this.modelGroup.position,this.adjustZoomToLimits(Vl),this.rotationGroup.quaternion,this.lookingAt):(this.rotationGroup.position.z=this.adjustZoomToLimits(Vl),this.show()),this}translate(In,Ml,Dl=0,Ul=!1){var Vl=In/this.WIDTH,mu=Ml/this.HEIGHT,rp=new st.Vector3(0,0,-this.CAMERA_Z);this.projector.projectVector(rp,this.camera),rp.x-=Vl,rp.y-=mu,this.projector.unprojectVector(rp,this.camera),rp.z=0;var Ju=this.lookingAt.clone().add(rp);return Dl>0?this.animateMotion(Dl,Ul,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,Ju):(this.lookingAt=Ju,this.camera.lookAt(this.lookingAt),this.show()),this}translateScene(In,Ml,Dl=0,Ul=!1){var Vl=this.screenOffsetToModel(In,Ml),mu=this.modelGroup.position.clone().add(Vl);return Dl>0?this.animateMotion(Dl,Ul,this.modelGroup.position,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=mu,this.show()),this}fitSlab(In){In=In||{};var Ml=this.getAtomsFromSel(In),Dl=(0,wl.getExtent)(Ml),Ul=Dl[1][0]-Dl[0][0],Vl=Dl[1][1]-Dl[0][1],mu=Dl[1][2]-Dl[0][2],rp=Math.hypot(Ul,Vl,mu);return rp<5&&(rp=5),this.slabNear=-rp/1.9,this.slabFar=rp/2,this}center(In={},Ml=0,Dl=!1){var Ul,Vl,mu=this.getAtomsFromSel(In),rp=(0,wl.getExtent)(mu);(0,wl.isEmptyObject)(In)?(this.shapes.forEach(Dp=>{if(Dp&&Dp.boundingSphere&&Dp.boundingSphere.center){var Fp=Dp.boundingSphere.center,n0=Dp.boundingSphere.radius;n0>0?(mu.push(new st.Vector3(Fp.x+n0,Fp.y,Fp.z)),mu.push(new st.Vector3(Fp.x-n0,Fp.y,Fp.z)),mu.push(new st.Vector3(Fp.x,Fp.y+n0,Fp.z)),mu.push(new st.Vector3(Fp.x,Fp.y-n0,Fp.z)),mu.push(new st.Vector3(Fp.x,Fp.y,Fp.z+n0)),mu.push(new st.Vector3(Fp.x,Fp.y,Fp.z-n0))):mu.push(Fp)}}),rp=(0,wl.getExtent)(mu),Ul=mu,Vl=rp):(Ul=this.getAtomsFromSel({}),Vl=(0,wl.getExtent)(Ul));var Ju=new st.Vector3(rp[2][0],rp[2][1],rp[2][2]),cp=Vl[1][0]-Vl[0][0],hp=Vl[1][1]-Vl[0][1],yp=Vl[1][2]-Vl[0][2],xp=Math.hypot(cp,hp,yp);xp<5&&(xp=5),this.slabNear=-xp/1.9,this.slabFar=xp/2,cp=rp[1][0]-rp[0][0],hp=rp[1][1]-rp[0][1],yp=rp[1][2]-rp[0][2],xp=Math.hypot(cp,hp,yp),xp<5&&(xp=5);for(var fp=25,_p=0;_p<mu.length;_p++)if(mu[_p]){var ip=Ju.distanceToSquared(mu[_p]);ip>fp&&(fp=ip)}xp=Math.sqrt(fp)*2;var gp=Ju.clone().multiplyScalar(-1);return Ml>0?this.animateMotion(Ml,Dl,gp,this.rotationGroup.position.z,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=gp,this.show()),this}zoomTo(In={},Ml=0,Dl=!1){let Ul=this.getAtomsFromSel(In),Vl=(0,wl.getExtent)(Ul),mu=Vl;if((0,wl.isEmptyObject)(In)){let Fp=Ul&&Ul.length;if(this.shapes.forEach(n0=>{if(n0&&n0.boundingSphere){if(n0.boundingSphere.box){let P0=n0.boundingSphere.box;Ul.push(new st.Vector3(P0.min.x,P0.min.y,P0.min.z)),Ul.push(new st.Vector3(P0.max.x,P0.max.y,P0.max.z))}else if(n0.boundingSphere.center){var S0=n0.boundingSphere.center,C0=n0.boundingSphere.radius;C0>0?(Ul.push(new st.Vector3(S0.x+C0,S0.y,S0.z)),Ul.push(new st.Vector3(S0.x-C0,S0.y,S0.z)),Ul.push(new st.Vector3(S0.x,S0.y+C0,S0.z)),Ul.push(new st.Vector3(S0.x,S0.y-C0,S0.z)),Ul.push(new st.Vector3(S0.x,S0.y,S0.z+C0)),Ul.push(new st.Vector3(S0.x,S0.y,S0.z-C0))):Ul.push(S0)}}}),mu=(0,wl.getExtent)(Ul),!Fp)for(let n0=0;n0<3;n0++)Vl[2][n0]=(mu[0][n0]+mu[1][n0])/2}else{let Fp=this.getAtomsFromSel({});mu=(0,wl.getExtent)(Fp)}var rp=new st.Vector3(Vl[2][0],Vl[2][1],Vl[2][2]),Ju=mu[1][0]-mu[0][0],cp=mu[1][1]-mu[0][1],hp=mu[1][2]-mu[0][2],yp=Math.hypot(Ju,cp,hp);yp<5&&(yp=5),this.slabNear=-yp/1.9,this.slabFar=yp/2,Object.keys(In).length===0&&(this.slabNear=Math.min(-yp*2,-50),this.slabFar=Math.max(yp*2,50));var xp=this.config.minimumZoomToDistance||5;Ju=Vl[1][0]-Vl[0][0],cp=Vl[1][1]-Vl[0][1],hp=Vl[1][2]-Vl[0][2],yp=Math.hypot(Ju,cp,hp),yp<xp&&(yp=xp);for(var fp=xp*xp,_p=0;_p<Ul.length;_p++)if(Ul[_p]){var ip=rp.distanceToSquared(Ul[_p]);ip>fp&&(fp=ip)}yp=Math.sqrt(fp)*2;var gp=rp.clone().multiplyScalar(-1),Dp=-(yp*.5/Math.tan(Math.PI/180*this.camera.fov/2)-this.CAMERA_Z);return Dp=this.adjustZoomToLimits(Dp),Ml>0?this.animateMotion(Ml,Dl,gp,Dp,this.rotationGroup.quaternion,this.lookingAt):(this.modelGroup.position=gp,this.rotationGroup.position.z=Dp,this.show()),this}setSlab(In,Ml){this.slabNear=In,this.slabFar=Ml}getSlab(){return{near:this.slabNear,far:this.slabFar}}addLabel(In,Ml={},Dl,Ul=!1){if(Dl){var Vl=(0,wl.getExtent)(this.getAtomsFromSel(Dl));Ml.position={x:Vl[2][0],y:Vl[2][1],z:Vl[2][2]}}var mu=new _.Label(In,Ml);return mu.setContext(),this.modelGroup.add(mu.sprite),this.labels.push(mu),Ul||this.show(),mu}addResLabels(In,Ml,Dl=!1){let Ul=this.labels.length;return this.applyToModels("addResLabels",In,Ml,Dl),this.show(),this.labels.slice(Ul)}addPropertyLabels(In,Ml,Dl){return this.applyToModels("addPropertyLabels",In,Ml,Dl),this.show(),this}removeLabel(In){for(var Ml=0;Ml<this.labels.length;Ml++)if(this.labels[Ml]==In){this.labels.splice(Ml,1),In.dispose(),this.modelGroup.remove(In.sprite);break}return this.show(),this}removeAllLabels(){for(var In=0;In<this.labels.length;In++)this.labels[In]&&this.labels[In].sprite&&this.modelGroup.remove(this.labels[In].sprite);return this.labels.splice(0,this.labels.length),this.show(),this}hideAllLabels(){for(var In=0;In<this.labels.length;In++)this.labels[In]&&this.labels[In].hide();return this.show(),this}showAllLabels(){for(var In=0;In<this.labels.length;In++)this.labels[In]&&this.labels[In].show();return this.show(),this}setLabelStyle(In,Ml){return this.modelGroup.remove(In.sprite),In.dispose(),In.stylespec=Ml,In.setContext(),this.modelGroup.add(In.sprite),this.show(),In}setLabelText(In,Ml){return this.modelGroup.remove(In.sprite),In.dispose(),In.text=Ml,In.setContext(),this.modelGroup.add(In.sprite),this.show(),In}addShape(In){In=In||{};var Ml=new g.GLShape(In);return Ml.shapePosition=this.shapes.length,this.shapes.push(Ml),Ml}removeShape(In){if(!In)return this;for(In.removegl(this.modelGroup),delete this.shapes[In.shapePosition];this.shapes.length>0&&typeof this.shapes[this.shapes.length-1]>"u";)this.shapes.pop();return this}removeAllShapes(){for(var In=0;In<this.shapes.length;In++){var Ml=this.shapes[In];Ml&&Ml.removegl(this.modelGroup)}return this.shapes.splice(0,this.shapes.length),this}getSelectionCenter(In){if(In.hasOwnProperty("x")&&In.hasOwnProperty("y")&&In.hasOwnProperty("z"))return In;var Ml=this.getAtomsFromSel(In);if(Ml.length==0)return{x:0,y:0,z:0};var Dl=(0,wl.getExtent)(Ml);return{x:Dl[0][0]+(Dl[1][0]-Dl[0][0])/2,y:Dl[0][1]+(Dl[1][1]-Dl[0][1])/2,z:Dl[0][2]+(Dl[1][2]-Dl[0][2])/2}}addSphere(In){In=In||{},In.center=this.getSelectionCenter(In.center);var Ml=new g.GLShape(In);return Ml.shapePosition=this.shapes.length,Ml.addSphere(In),this.shapes.push(Ml),Ml.finalize(),Ml}addBox(In={}){In.corner!=null&&(In.corner=this.getSelectionCenter(In.corner)),In.center!=null&&(In.center=this.getSelectionCenter(In.center));var Ml=new g.GLShape(In);return Ml.shapePosition=this.shapes.length,Ml.addBox(In),this.shapes.push(Ml),Ml.finalize(),Ml}addArrow(In={}){In.start=this.getSelectionCenter(In.start),In.end=this.getSelectionCenter(In.end);var Ml=new g.GLShape(In);return Ml.shapePosition=this.shapes.length,Ml.addArrow(In),this.shapes.push(Ml),Ml.finalize(),Ml}addCylinder(In={}){In.start=this.getSelectionCenter(In.start),In.end=this.getSelectionCenter(In.end);var Ml=new g.GLShape(In);return Ml.shapePosition=this.shapes.length,In.dashed?Ml.addDashedCylinder(In):Ml.addCylinder(In),this.shapes.push(Ml),Ml.finalize(),Ml}addCurve(In={}){var Ml=new g.GLShape(In);return Ml.shapePosition=this.shapes.length,Ml.addCurve(In),this.shapes.push(Ml),Ml.finalize(),Ml}addLine(In={}){In.start=this.getSelectionCenter(In.start),In.end=this.getSelectionCenter(In.end),In.wireframe=!0;var Ml=new g.GLShape(In);return Ml.shapePosition=this.shapes.length,In.dashed?Ml=this.addLineDashed(In,Ml):Ml.addLine(In),this.shapes.push(Ml),Ml.finalize(),Ml}addUnitCell(In,Ml){In=this.getModel(In),Ml=Ml||{alabel:"a",blabel:"b",clabel:"c"},Ml.box=Ml.box||{},Ml.astyle=Ml.astyle||{color:"red",radius:.1,midpos:-1},Ml.bstyle=Ml.bstyle||{color:"green",radius:.1,midpos:-1},Ml.cstyle=Ml.cstyle||{color:"blue",radius:.1,midpos:-1},Ml.alabelstyle=Ml.alabelstyle||{fontColor:"red",showBackground:!1,alignment:"center",inFront:!1},Ml.blabelstyle=Ml.blabelstyle||{fontColor:"green",showBackground:!1,alignment:"center",inFront:!1},Ml.clabelstyle=Ml.clabelstyle||{fontColor:"blue",showBackground:!1,alignment:"center",inFront:!1},In.unitCellObjects&&this.removeUnitCell(In),In.unitCellObjects={shapes:[],labels:[]};var Dl=In.getCrystData(),Ul=null;if(Dl){if(Dl.matrix)Ul=Dl.matrix;else{var Vl=Dl.a,mu=Dl.b,rp=Dl.c,Ju=Dl.alpha,cp=Dl.beta,hp=Dl.gamma;Ju=Ju*Math.PI/180,cp=cp*Math.PI/180,hp=hp*Math.PI/180;var yp,xp,fp;yp=Math.cos(cp),xp=(Math.cos(Ju)-Math.cos(cp)*Math.cos(hp))/Math.sin(hp),fp=Math.sqrt(Math.max(0,1-yp*yp-xp*xp)),Ul=new st.Matrix3(Vl,mu*Math.cos(hp),rp*yp,0,mu*Math.sin(hp),rp*xp,0,0,rp*fp)}var _p=[new st.Vector3(0,0,0),new st.Vector3(1,0,0),new st.Vector3(0,1,0),new st.Vector3(0,0,1),new st.Vector3(1,1,0),new st.Vector3(0,1,1),new st.Vector3(1,0,1),new st.Vector3(1,1,1)];if(Dl.matrix4)for(let gp=0;gp<_p.length;gp++)Dl.size&&_p[gp].multiplyVectors(_p[gp],Dl.size),_p[gp]=_p[gp].applyMatrix4(Dl.matrix4);else for(let gp=0;gp<_p.length;gp++)_p[gp]=_p[gp].applyMatrix3(Ul);if(Ml.box&&!Ml.box.hidden){Ml.box.wireframe=!0;var ip=new g.GLShape(Ml.box);ip.shapePosition=this.shapes.length,ip.addLine({start:_p[0],end:_p[1]}),ip.addLine({start:_p[0],end:_p[2]}),ip.addLine({start:_p[1],end:_p[4]}),ip.addLine({start:_p[2],end:_p[4]}),ip.addLine({start:_p[0],end:_p[3]}),ip.addLine({start:_p[3],end:_p[5]}),ip.addLine({start:_p[2],end:_p[5]}),ip.addLine({start:_p[1],end:_p[6]}),ip.addLine({start:_p[4],end:_p[7]}),ip.addLine({start:_p[6],end:_p[7]}),ip.addLine({start:_p[3],end:_p[6]}),ip.addLine({start:_p[5],end:_p[7]}),this.shapes.push(ip),In.unitCellObjects.shapes.push(ip),ip.finalize()}if(!Ml.astyle.hidden){Ml.astyle.start=_p[0],Ml.astyle.end=_p[1];let gp=this.addArrow(Ml.astyle);In.unitCellObjects.shapes.push(gp)}if(!Ml.bstyle.hidden){Ml.bstyle.start=_p[0],Ml.bstyle.end=_p[2];let gp=this.addArrow(Ml.bstyle);In.unitCellObjects.shapes.push(gp)}if(!Ml.cstyle.hidden){Ml.cstyle.start=_p[0],Ml.cstyle.end=_p[3];let gp=this.addArrow(Ml.cstyle);In.unitCellObjects.shapes.push(gp)}if(Ml.alabel){Ml.alabelstyle.position=_p[1];let gp=this.addLabel(Ml.alabel,Ml.alabelstyle);In.unitCellObjects.labels.push(gp)}if(Ml.blabel){Ml.blabelstyle.position=_p[2];let gp=this.addLabel(Ml.blabel,Ml.blabelstyle);In.unitCellObjects.labels.push(gp)}if(Ml.clabel){Ml.clabelstyle.position=_p[3];let gp=this.addLabel(Ml.clabel,Ml.clabelstyle);In.unitCellObjects.labels.push(gp)}}}removeUnitCell(In){if(In=this.getModel(In),In.unitCellObjects){let Ml=this;In.unitCellObjects.shapes.forEach(function(Dl){Ml.removeShape(Dl)}),In.unitCellObjects.labels.forEach(function(Dl){Ml.removeLabel(Dl)})}delete In.unitCellObjects}replicateUnitCell(In=3,Ml=In,Dl=Ml,Ul,Vl,mu){Ul=this.getModel(Ul);let rp=Ul.getCrystData();if(rp){const Ju=Ul.selectedAtoms({}),cp=rp.matrix;let hp=function(xp){return xp%2==0?-xp/2:Math.ceil(xp/2)};In<=1&&Ml<=1&&Dl<=1&&(mu=!0,In=Ml=Dl=3);let yp=function(xp,fp,_p){return!1};if(mu){const xp=new st.Matrix3().getInverse3(cp);yp=function(fp,_p,ip){let gp=new st.Vector3(fp,_p,ip).applyMatrix3(xp);return!(gp.x>-1e-4&&gp.x<1.0001&&gp.y>-1e-4&&gp.y<1.0001&&gp.z>-1e-4&&gp.z<1.0001)}}for(let xp=0;xp<In;xp++)for(let fp=0;fp<Ml;fp++)for(let _p=0;_p<Dl;_p++){if(xp==0&&fp==0&&_p==0)continue;let ip=new st.Vector3(hp(xp),hp(fp),hp(_p));ip.applyMatrix3(cp);let gp=[];for(let Dp=0;Dp<Ju.length;Dp++){let Fp=Ju[Dp].x+ip.x,n0=Ju[Dp].y+ip.y,S0=Ju[Dp].z+ip.z;if(yp(Fp,n0,S0))continue;let C0={};for(let P0 in Ju[Dp])C0[P0]=Ju[Dp][P0];C0.x=Fp,C0.y=n0,C0.z=S0,gp.push(C0)}Ul.addAtoms(gp)}Vl&&Ul.assignBonds()}}addLineDashed(In,Ml){In.dashLength=In.dashLength||.5,In.gapLength=In.gapLength||.5;var Dl;In.start?Dl=new st.Vector3(In.start.x||0,In.start.y||0,In.start.z||0):Dl=new st.Vector3(0,0,0);var Ul;In.end?Ul=new st.Vector3(In.end.x,In.end.y||0,In.end.z||0):Ul=new st.Vector3(0,0,0);var Vl=new st.Vector3,mu=new st.Vector3,rp=new st.Vector3,Ju,cp,hp,yp=Dl.clone(),xp=0;for(Vl.subVectors(Ul,Dl),Ju=Vl.length(),Vl.normalize(),mu=Vl.clone(),rp=Vl.clone(),mu.multiplyScalar(In.dashLength),rp.multiplyScalar(In.gapLength),cp=mu.length(),hp=rp.length();xp<Ju;){if(xp+cp>Ju){In.start=Dl,In.end=Ul,Ml.addLine(In);break}yp.addVectors(Dl,mu),In.start=Dl,In.end=yp,Ml.addLine(In),Dl=yp.clone(),xp+=cp,yp.addVectors(Dl,rp),Dl=yp.clone(),xp+=hp}return Ml.finalize(),Ml}addCustom(In){In=In||{};var Ml=new g.GLShape(In);return Ml.shapePosition=this.shapes.length,Ml.addCustom(In),this.shapes.push(Ml),Ml.finalize(),Ml}addVolumetricData(In,Ml,Dl={}){var Ul=new j.VolumeData(In,Ml);return Dl.hasOwnProperty("transferfn")?this.addVolumetricRender(Ul,Dl):this.addIsosurface(Ul,Dl)}addIsosurface(In,Ml={},Dl){var Ul=new g.GLShape(Ml);return Ul.shapePosition=this.shapes.length,Ul.addIsosurface(In,Ml,Dl,this),this.shapes.push(Ul),Ul}addVolumetricRender(In,Ml){Ml=Ml||{};var Dl=new rt.GLVolumetricRender(In,Ml,this);return Dl.shapePosition=this.shapes.length,this.shapes.push(Dl),Dl}hasVolumetricRender(){return this.renderer.supportsVolumetric()}enableFog(In){if(In){this.scene.fog=new nt.Fog(this.bgColor,100,200),this.config.disableFog=!1;const Ml=In;Ml.fogStart==null?this.fogStart=.4:this.fogStart=Ml.fogStart,Ml.fogEnd==null?this.fogEnd=1:this.fogEnd=Ml.fogEnd}else this.config.disableFog=!0,this.show()}setFrame(In){this.viewer_frame=In;let Ml=this;return new Promise(function(Dl){var Ul=Ml.models.map(function(Vl){return Vl.setFrame(In)});Promise.all(Ul).then(function(){Dl()})})}getFrame(){return this.viewer_frame}getNumFrames(){var In=0;for(let Ml=0;Ml<this.models.length;Ml++)this.models[Ml].getNumFrames()>In&&(In=this.models[Ml].getNumFrames());for(let Ml=0;Ml<this.shapes.length;Ml++)this.shapes[Ml].frame&&this.shapes[Ml].frame>=In&&(In=this.shapes[Ml].frame+1);for(let Ml=0;Ml<this.labels.length;Ml++)this.labels[Ml].frame&&this.labels[Ml].frame>=In&&(In=this.labels[Ml].frame+1);return In}getNextModelId(){return this.models.length}animate(In){this.incAnim();var Ml=100,Dl="forward",Ul=1/0;In=In||{},In.interval&&(Ml=In.interval),In.loop&&(Dl=In.loop),In.reps&&(Ul=In.reps);var Vl=this.getNumFrames(),mu=this,rp=0;In.startFrame&&(rp=In.startFrame%Vl);var Ju=1;In.step&&(Ju=In.step,Ul/=Ju);var cp=0,hp=Vl*Ul,yp=new Date,xp,fp,_p=function(ip){yp=new Date,ip=="forward"?mu.setFrame(rp).then(function(){rp=(rp+Ju)%Vl,xp()}):ip=="backward"?mu.setFrame(Vl-1-rp).then(function(){rp=(rp+Ju)%Vl,xp()}):mu.setFrame(rp).then(function(){rp+=Ju,Ju*=rp%(Vl-1)==0?-1:1,xp()})};return xp=function(){if(mu.render(),!mu.getCanvas().isConnected)mu.stopAnimate();else if(++cp>=hp||!mu.isAnimated())fp.cancel(),mu.animationTimers.delete(fp),mu.decAnim();else{var ip=Ml-(new Date().getTime()-yp.getTime());ip=ip>0?ip:0,fp.cancel(),mu.animationTimers.delete(fp),fp=new wl.PausableTimer(_p,ip,Dl),mu.animationTimers.add(fp)}},fp=new wl.PausableTimer(_p,0,Dl),this.animationTimers.add(fp),this}stopAnimate(){return this.animated=0,this.animationTimers.forEach(function(In){In.cancel()}),this.animationTimers=new Set,this}pauseAnimate(){return this.animationTimers.forEach(function(In){In.pause()}),this}resumeAnimate(){return this.animationTimers.forEach(function(In){In.resume()}),this}isAnimated(){return this.animated>0}getModelOpt(In){return In&&!In.defaultcolors?(In.defaultcolors=this.defaultcolors,In.cartoonQuality=In.cartoonQuality||this.config.cartoonQuality):typeof In>"u"&&(In={defaultcolors:this.defaultcolors,cartoonQuality:this.config.cartoonQuality}),In}addModel(In,Ml="",Dl){Dl=this.getModelOpt(Dl);var Ul=new d.GLModel(this.models.length,Dl,this);return Ul.addMolData(In,Ml,Dl),this.models.push(Ul),Ul}addModels(In,Ml,Dl){Dl=this.getModelOpt(Dl),Dl.multimodel=!0,Dl.frames=!0;for(var Ul=d.GLModel.parseMolData(In,Ml,Dl),Vl=0;Vl<Ul.length;Vl++){var mu=new d.GLModel(this.models.length,Dl,this);mu.setAtomDefaults(Ul[Vl]),mu.addFrame(Ul[Vl]),mu.setFrame(0),Ul.modelData&&mu.setModelData(Ul.modelData[Vl]),mu.setDontDuplicateAtoms(!Dl.duplicateAssemblyAtoms),this.models.push(mu)}return this.models}addModelsAsFrames(In,Ml,Dl){Dl=this.getModelOpt(Dl),Dl.multimodel=!0,Dl.frames=!0;var Ul=new d.GLModel(this.models.length,Dl,this);return Ul.addMolData(In,Ml,Dl),this.models.push(Ul),Ul}addAsOneMolecule(In,Ml,Dl){Dl=this.getModelOpt(Dl),Dl.multimodel=!0,Dl.onemol=!0;var Ul=new d.GLModel(this.models.length,Dl,this);return Ul.addMolData(In,Ml,Dl),this.models.push(Ul),Ul}removeModel(In){if(In=this.getModel(In),!!In){for(In.removegl(this.modelGroup),delete this.models[In.getID()];this.models.length>0&&typeof this.models[this.models.length-1]>"u";)this.models.pop();return this}}removeAllModels(){for(var In=0;In<this.models.length;In++){var Ml=this.models[In];Ml&&Ml.removegl(this.modelGroup)}return this.models.splice(0,this.models.length),this}exportJSON(In,Ml){var Dl={};return Ml===void 0?Dl.m=this.models.map(function(Ul){return Ul.toCDObject(In)}):Dl.m=[this.models[Ml].toCDObject()],JSON.stringify(Dl)}exportVRML(){var In=this.modelGroup;this.applyToModels("removegl",this.modelGroup),this.modelGroup=new nt.Object3D,this.render(null,{supportsImposters:!1,supportsAIA:!1,regen:!0});var Ml=`#VRML V2.0 utf8
`+this.modelGroup.vrml()+`
`;return this.applyToModels("removegl",this.modelGroup),this.modelGroup=In,Ml}createModelFrom(In,Ml=!1){for(var Dl=new d.GLModel(this.models.length,this.defaultcolors,this),Ul=0;Ul<this.models.length;Ul++)if(this.models[Ul]){var Vl=this.models[Ul].selectedAtoms(In);Dl.addAtoms(Vl),Ml&&this.models[Ul].removeAtoms(Vl)}return this.models.push(Dl),Dl}applyToModels(In,Ml,Dl,Ul,Vl,mu,rp){for(var Ju=this.getModelList(Ml),cp=0;cp<Ju.length;cp++)Ju[cp][In](Ml,Dl,Ul,Vl,mu,rp)}setStyle(In,Ml){return typeof Ml>"u"&&(Ml=In,In={}),this.applyToModels("setStyle",In,Ml,!1),this}addStyle(In,Ml){return typeof Ml>"u"&&(Ml=In,In={}),this.applyToModels("setStyle",In,Ml,!0),this}setClickable(In,Ml,Dl){return this.applyToModels("setClickable",In,Ml,Dl),this}setHoverable(In,Ml,Dl,Ul){return this.applyToModels("setHoverable",In,Ml,Dl,Ul),this}enableContextMenu(In,Ml){return this.applyToModels("enableContextMenu",In,Ml),this}vibrate(In,Ml,Dl,Ul){return this.applyToModels("vibrate",In,Ml,Dl,Ul),this}setColorByProperty(In,Ml,Dl,Ul){return this.applyToModels("setColorByProperty",In,Ml,Dl,Ul),this}setColorByElement(In,Ml){return this.applyToModels("setColorByElement",In,Ml),this}static getAtomsWithin(In,Ml){var Dl=[];for(let Vl=0;Vl<In.length;Vl++){var Ul=In[Vl];typeof Ul>"u"||Ul.x<Ml[0][0]||Ul.x>Ml[1][0]||Ul.y<Ml[0][1]||Ul.y>Ml[1][1]||Ul.z<Ml[0][2]||Ul.z>Ml[1][2]||Dl.push(Ul)}return Dl}static volume(In){var Ml=In[1][0]-In[0][0],Dl=In[1][1]-In[0][1],Ul=In[1][2]-In[0][2];return Ml*Dl*Ul}carveUpExtent(In,Ml,Dl){let Ul=[],Vl={};for(let yp=0,xp=Ml.length;yp<xp;yp++)Vl[Ml[yp].index]=yp;let mu=function(yp){let xp=[];for(let fp=0,_p=yp.length;fp<_p;fp++)yp[fp].index in Vl&&xp.push(Vl[yp[fp].index]);return xp},rp=function(yp){let xp=[];return xp[0]=[yp[0][0],yp[0][1],yp[0][2]],xp[1]=[yp[1][0],yp[1][1],yp[1][2]],xp},Ju=function(yp){if(ot.volume(yp)<ot.maxVolume)return[yp];var xp=yp[1][0]-yp[0][0],fp=yp[1][1]-yp[0][1],_p=yp[1][2]-yp[0][2],ip;xp>fp&&xp>_p?ip=0:fp>xp&&fp>_p?ip=1:ip=2;var gp=rp(yp),Dp=rp(yp),Fp=(yp[1][ip]-yp[0][ip])/2+yp[0][ip];gp[1][ip]=Fp,Dp[0][ip]=Fp;var n0=Ju(gp),S0=Ju(Dp);return n0.concat(S0)},cp=Ju(In),hp=6;for(let yp=0,xp=cp.length;yp<xp;yp++){let fp=rp(cp[yp]);fp[0][0]-=hp,fp[0][1]-=hp,fp[0][2]-=hp,fp[1][0]+=hp,fp[1][1]+=hp,fp[1][2]+=hp;let _p=ot.getAtomsWithin(Ml,fp),ip=ot.getAtomsWithin(Dl,cp[yp]);Ul.push({extent:cp[yp],atoms:mu(_p),toshow:mu(ip)})}return Ul}static generateSurfaceMesh(In,Ml,Dl){var Ul=new nt.Geometry(!0),Vl=Ul.updateGeoGroup(0),mu=[];for(let b0=0,U0=In.length;b0<U0;b0++){var rp=In[b0];rp&&(typeof rp.surfaceColor<"u"?mu[b0]=rp.surfaceColor:rp.color&&(mu[b0]=jt.CC.color(rp.color)))}var Ju=Vl.vertexArray,cp=Ml.vertices;for(let b0=0,U0=cp.length;b0<U0;b0++){let mm=Vl.vertices*3;Ju[mm]=cp[b0].x,Ju[mm+1]=cp[b0].y,Ju[mm+2]=cp[b0].z,Vl.vertices++}var hp=Vl.colorArray;let yp=Vl.atomArray;if(Dl.voldata&&Dl.volscheme){var xp=Dl.volscheme,fp=Dl.voldata,_p=xp.range()||[-1,1];for(let b0=0,U0=cp.length;b0<U0;b0++){let mm=cp[b0].atomid,Lm=fp.getVal(cp[b0].x,cp[b0].y,cp[b0].z),Um=jt.CC.color(xp.valueToHex(Lm,_p)),Hm=b0*3;hp[Hm]=Um.r,hp[Hm+1]=Um.g,hp[Hm+2]=Um.b,yp[b0]=In[mm]}}else if(mu.length>0)for(let b0=0,U0=cp.length;b0<U0;b0++){let mm=cp[b0].atomid,Lm=b0*3;hp[Lm]=mu[mm].r,hp[Lm+1]=mu[mm].g,hp[Lm+2]=mu[mm].b,yp[b0]=In[mm]}var ip=Ml.faces;Vl.faceidx=ip.length,Ul.initTypedArrays();var gp=Vl.vertexArray,Dp=Vl.normalArray,Fp,n0,S0,C0;for(let b0=0,U0=ip.length;b0<U0;b0+=3){var P0=ip[b0],k0=ip[b0+1],T0=ip[b0+2],im=P0*3,am=k0*3,bm=T0*3;Fp=new st.Vector3(gp[im],gp[im+1],gp[im+2]),n0=new st.Vector3(gp[am],gp[am+1],gp[am+2]),S0=new st.Vector3(gp[bm],gp[bm+1],gp[bm+2]),S0.subVectors(S0,n0),Fp.subVectors(Fp,n0),S0.cross(Fp),C0=S0,C0.normalize(),Dp[im]+=C0.x,Dp[am]+=C0.x,Dp[bm]+=C0.x,Dp[im+1]+=C0.y,Dp[am+1]+=C0.y,Dp[bm+1]+=C0.y,Dp[im+2]+=C0.z,Dp[am+2]+=C0.z,Dp[bm+2]+=C0.z}Vl.faceArray=new Uint16Array(ip);var _g=new nt.Mesh(Ul,Dl);return _g}static generateMeshSyncHelper(In,Ml,Dl,Ul,Vl,mu){var rp=new $.ProteinSurface;return rp.initparm(Ml,In!==1,mu),rp.fillvoxels(Vl,Dl),rp.buildboundary(),(In==$.SurfaceType.SES||In==$.SurfaceType.MS)&&(rp.fastdistancemap(),rp.boundingatom(!1),rp.fillvoxelswaals(Vl,Dl)),rp.marchingcube(In),rp.getFacesAndVertices(Ul)}static getMatWithStyle(In){let Ml=null;In.onesided?Ml=new nt.MeshLambertMaterial:Ml=new nt.MeshDoubleLambertMaterial,Ml.vertexColors=nt.Coloring.VertexColors;for(var Dl in In)Dl==="color"||Dl==="map"||In.hasOwnProperty(Dl)&&(Ml[Dl]=In[Dl]);return In.opacity!==void 0&&(In.opacity===1?Ml.transparent=!1:Ml.transparent=!0),In.wireframe!==void 0&&(Ml.wireframe=In.wireframe),Ml}addMesh(In){let Ml={geo:In.geometry,mat:In.material,done:!0,finished:!1};var Dl=this.nextSurfID();return this.surfaces[Dl]=new it([Ml]),Dl}static shallowCopy(In){var Ml=[];let Dl=In.length;for(let Ul=0;Ul<Dl;Ul++)Ml[Ul]=(0,wl.extend)({},In[Ul]);return Ml}addSurface(In,Ml={},Dl={},Ul,Vl,mu){let rp=this.nextSurfID(),Ju=null,cp=this,hp=$.SurfaceType.VDW;typeof In=="string"?ot.surfaceTypeMap[In.toUpperCase()]!==void 0?hp=ot.surfaceTypeMap[In]:console.log("Surface type : "+In+" is not recognized"):typeof In=="number"&&(hp=In);var yp=null,xp=null,fp=ot.shallowCopy(this.getAtomsFromSel(Dl));Ul?yp=ot.shallowCopy(this.getAtomsFromSel(Ul)):yp=fp,(0,wl.adjustVolumeStyle)(Ml);var _p=!1,ip;for(ip=0;ip<this.models.length;ip++)if(this.models[ip]){var gp=this.models[ip].getSymmetries();if(gp.length>1||gp.length==1&&!gp[0].isIdentity()){_p=!0;break}}var Dp=function(k0,T0,im){Vl?xp=ot.shallowCopy(cp.getAtomsFromSel(Vl)):xp=im;var am,bm=(0,wl.getExtent)(im,!0);if(Ml.map&&Ml.map.prop){var _g=Ml.map.prop;let cm=(0,b.getGradient)(Ml.map.scheme||Ml.map.gradient||new b.Gradient.RWB),Jm=cm.range();Jm||(Jm=(0,wl.getPropertyRange)(im,_g)),Ml.colorscheme={prop:_g,gradient:cm}}for(let cm=0,Jm=T0.length;cm<Jm;cm++)am=T0[cm],am.surfaceColor=(0,wl.getColorFromStyle)(am,Ml);var b0=ot.volume(bm),U0=cp.carveUpExtent(bm,T0,im);if(xp&&xp.length&&xp.length>0){var mm=(0,wl.getExtent)(xp,!0),Lm=function(cm,Jm){var B0=function(o0,W0){var G0=o0.extent,Em=G0[1][0]-G0[0][0],hm=G0[1][1]-G0[0][1],Vp=G0[1][2]-G0[0][2],j0=Em-W0[2][0];j0*=j0;var Q0=hm-W0[2][1];Q0*=Q0;var Cm=Vp-W0[2][2];return Cm*=Cm,j0+Q0+Cm},Pp=B0(cm,mm),Yp=B0(Jm,mm);return Pp-Yp};U0.sort(Lm)}var Um=[];for(let cm=0,Jm=T0.length;cm<Jm;cm++)am=T0[cm],Um[cm]={x:am.x,y:am.y,z:am.z,serial:cm,elem:am.elem};var Hm=!!$.syncSurface;if((typeof $3Dmol>"u"||typeof $3Dmol.SurfaceWorker>"u")&&(console.log("$3Dmol.SurfaceWorker is not defined, using synchronous surface generation."),Hm=!0),Hm){var Dm=function(cm){return new Promise(function(Jm){for(var B0=ot.generateMeshSyncHelper(hp,U0[cm].extent,U0[cm].atoms,U0[cm].toshow,Um,b0),Pp=(0,g.splitMesh)({vertexArr:B0.vertices,faceArr:B0.faces}),Yp=0,o0=Pp.length;Yp<o0;Yp++){B0={vertices:Pp[Yp].vertexArr,faces:Pp[Yp].faceArr};var W0=ot.generateSurfaceMesh(T0,B0,Ju);(0,wl.mergeGeos)(k0.geo,W0)}cp.render(),Jm()})},Nm=[];for(let cm=0;cm<U0.length;cm++)Nm.push(Dm(cm));return Promise.all(Nm).then(function(){return k0.done=!0,cp.render(),Promise.resolve(rp)})}else{var Om=[];hp<0&&(hp=0);for(let cm=0,Jm=ot.numWorkers;cm<Jm;cm++){var Mm=new Worker($3Dmol.SurfaceWorker);Om.push(Mm),Mm.postMessage({type:-1,atoms:Um,volume:b0})}return new Promise(function(cm,Jm){var B0=0,Pp=function(){!Om||!Om.length||Om.forEach(function(G0){G0&&G0.terminate&&G0.terminate()})},Yp=function(G0){for(var Em=(0,g.splitMesh)({vertexArr:G0.data.vertices,faceArr:G0.data.faces}),hm=0,Vp=Em.length;hm<Vp;hm++){var j0={vertices:Em[hm].vertexArr,faces:Em[hm].faceArr},Q0=ot.generateSurfaceMesh(T0,j0,Ju);(0,wl.mergeGeos)(k0.geo,Q0)}cp.render(),B0++,B0==U0.length&&(k0.done=!0,Pp(),cm(rp))},o0=function(G0){Pp(),console.log(G0.message+" ("+G0.filename+":"+G0.lineno+")"),Jm(G0)};for(let G0=0;G0<U0.length;G0++){var W0=Om[G0%Om.length];W0.onmessage=Yp,W0.onerror=o0,W0.postMessage({type:hp,expandedExtent:U0[G0].extent,extendedAtoms:U0[G0].atoms,atomsToShow:U0[G0].toshow})}})}};Ml=Ml||{},Ju=ot.getMatWithStyle(Ml);let Fp=new it([]);Fp.style=Ml,Fp.atomsel=Dl,Fp.allsel=Ul,Fp.focus=Vl;var n0=null;if(_p){var S0={},C0={};for(ip=0;ip<this.models.length;ip++)S0[ip]=[],C0[ip]=[];for(ip=0;ip<yp.length;ip++)S0[yp[ip].model].push(yp[ip]);for(ip=0;ip<fp.length;ip++)C0[fp[ip].model].push(fp[ip]);var P0=[];for(ip=0;ip<this.models.length;ip++)C0[ip].length>0&&(Fp.push({geo:new nt.Geometry(!0),mat:Ju,done:!1,finished:!1,symmetries:this.models[ip].getSymmetries()}),P0.push(Dp(Fp[Fp.length-1],S0[ip],C0[ip])));n0=Promise.all(P0)}else Fp.push({geo:new nt.Geometry(!0),mat:Ju,done:!1,finished:!1,symmetries:[new st.Matrix4]}),n0=Dp(Fp[Fp.length-1],yp,fp);return this.surfaces[rp]=Fp,n0.surfid=rp,mu&&typeof mu=="function"?(n0.then(function(k0){mu(k0)}),rp):n0}setSurfaceMaterialStyle(In,Ml){if((0,wl.adjustVolumeStyle)(Ml),this.surfaces[In]){var Dl=this.surfaces[In];for(let Vl=0;Vl<Dl.length;Vl++){var Ul=Dl[Vl].mat=ot.getMatWithStyle(Ml);if(Dl[Vl].mat.side=nt.FrontSide,Ml.wireframe&&Dl[Vl].geo.setUpWireframe(),Ml.color){Dl[Vl].mat.color=jt.CC.color(Ml.color),Dl[Vl].geo.colorsNeedUpdate=!0;const mu=jt.CC.color(Ml.color);Dl[Vl].geo.setColor(mu)}else if(Ul.voldata&&Ul.volscheme){const mu=Ul.volscheme,rp=Ul.voldata,Ju=jt.CC,cp=mu.range()||[-1,1];Dl[Vl].geo.setColors(function(hp,yp,xp){let fp=rp.getVal(hp,yp,xp);return Ju.color(mu.valueToHex(fp,cp))})}else{Dl[Vl].geo.colorsNeedUpdate=!0;for(let mu of Dl[Vl].geo.geometryGroups)for(let rp=0;rp<mu.vertices;rp++){let Ju=(0,wl.getColorFromStyle)(mu.atomArray[rp],Ml),cp=3*rp;mu.colorArray[cp]=Ju.r,mu.colorArray[cp+1]=Ju.g,mu.colorArray[cp+2]=Ju.b}}Dl[Vl].finished=!1}}return this}getSurface(In){return this.surfaces[In]}removeSurface(In){for(var Ml=this.surfaces[In],Dl=0;Dl<Ml.length;Dl++)Ml[Dl]&&Ml[Dl].lastGL&&(Ml[Dl].geo!==void 0&&Ml[Dl].geo.dispose(),Ml[Dl].mat!==void 0&&Ml[Dl].mat.dispose(),this.modelGroup.remove(Ml[Dl].lastGL));return delete this.surfaces[In],this.show(),this}removeAllSurfaces(){for(var In in this.surfaces)if(this.surfaces.hasOwnProperty(In)){for(var Ml=this.surfaces[In],Dl=0;Dl<Ml.length;Dl++)Ml[Dl]&&Ml[Dl].lastGL&&(Ml[Dl].geo!==void 0&&Ml[Dl].geo.dispose(),Ml[Dl].mat!==void 0&&Ml[Dl].mat.dispose(),this.modelGroup.remove(Ml[Dl].lastGL));delete this.surfaces[In]}return this.show(),this}jmolMoveTo(){var In=this.modelGroup.position,Ml="center { "+-In.x+" "+-In.y+" "+-In.z+" }; ",Dl=this.rotationGroup.quaternion;return Ml+="moveto .5 quaternion { "+Dl.x+" "+Dl.y+" "+Dl.z+" "+Dl.w+" };",Ml}clear(){return this.removeAllSurfaces(),this.removeAllModels(),this.removeAllLabels(),this.removeAllShapes(),this.show(),this}mapAtomProperties(In,Ml){Ml=Ml||{};var Dl=this.getAtomsFromSel(Ml);if(typeof In=="function")for(let mu=0,rp=Dl.length;mu<rp;mu++){let Ju=Dl[mu];In(Ju)}else for(let mu=0,rp=Dl.length;mu<rp;mu++){var Ul=Dl[mu];for(let Ju=0,cp=In.length;Ju<cp;Ju++){let hp=In[Ju];if(hp.props)for(var Vl in hp.props)hp.props.hasOwnProperty(Vl)&&this.atomIsSelected(Ul,hp)&&(Ul.properties||(Ul.properties={}),Ul.properties[Vl]=hp.props[Vl])}}return this}linkViewer(In){return this.linkedViewers.push(In),this}getPerceivedDistance(){return this.CAMERA_Z-this.rotationGroup.position.z}setPerceivedDistance(In){this.rotationGroup.position.z=this.CAMERA_Z-In}setAutoEyeSeparation(In,Ml){var Dl=this.getPerceivedDistance();return Ml||(Ml=5),In||this.camera.position.x>0?this.camera.position.x=Dl*Math.tan(Math.PI/180*Ml):this.camera.position.x=-Dl*Math.tan(Math.PI/180*Ml),this.camera.lookAt(new st.Vector3(0,0,this.rotationGroup.position.z)),this.camera.position.x}setDefaultCartoonQuality(In){this.config.cartoonQuality=In}}ot.numWorkers=4,ot.maxVolume=64e3,ot.surfaceTypeMap={VDW:$.SurfaceType.VDW,MS:$.SurfaceType.MS,SAS:$.SurfaceType.SAS,SES:$.SurfaceType.SES};function Ln(zl,In){if(zl=(0,wl.getElement)(zl),!!zl){In=In||{};try{var Ml=new ot(zl,In);return Ml}catch(Dl){throw"error creating viewer: "+Dl}}}function Cl(zl,In={},Ml={}){if(zl=(0,wl.getElement)(zl),!!zl){var Dl=[],Ul=document.createElement("canvas");Ml.rows=In.rows,Ml.cols=In.cols,Ml.control_all=In.control_all!=null?In.control_all:!1,zl.appendChild(Ul);try{for(var Vl=0;Vl<In.rows;Vl++){for(var mu=[],rp=0;rp<In.cols;rp++){Ml.row=Vl,Ml.col=rp,Ml.canvas=Ul,Ml.viewers=Dl,Ml.control_all=In.control_all;var Ju=Ln(zl,(0,wl.extend)({},Ml));mu.push(Ju)}Dl.unshift(mu)}}catch(cp){throw"error creating viewer grid: "+cp}return Dl}}function Tl(zl){var In=this;if(zl=(0,wl.getElement)(zl),!!zl){var Ml=Cl(zl,{rows:1,cols:2,control_all:!0});this.glviewer1=Ml[0][0],this.glviewer2=Ml[0][1],this.glviewer1.setAutoEyeSeparation(!1),this.glviewer2.setAutoEyeSeparation(!0),this.glviewer1.linkViewer(this.glviewer2),this.glviewer2.linkViewer(this.glviewer1);for(var Dl=Object.getOwnPropertyNames(this.glviewer1.__proto__).filter(function(Vl){return typeof In.glviewer1[Vl]=="function"}),Ul=0;Ul<Dl.length;Ul++)this[Dl[Ul]]=function(Vl){return function(){var mu=this.glviewer1[Vl].apply(this.glviewer1,arguments),rp=this.glviewer2[Vl].apply(this.glviewer2,arguments);return[mu,rp]}}(Dl[Ul]);this.setCoordinates=function(Vl,mu,rp){for(var Ju=0;Ju<Vl.length;Ju++)Vl[Ju].setCoordinates(mu,rp)},this.surfacesFinished=function(){return this.glviewer1.surfacesFinished()&&this.glviewer2.surfacesFinished()},this.isAnimated=function(){return this.glviewer1.isAnimated()||this.glviewer2.isAnimated()},this.render=function(Vl){this.glviewer1.render(),this.glviewer2.render(),Vl&&Vl(this)},this.getCanvas=function(){return this.glviewer1.getCanvas()}}}},"./src/Gradient.ts":(e,o,a)=>{a.r(o),a.d(o,{CustomLinear:()=>rt,Gradient:()=>st,GradientType:()=>d,ROYGB:()=>$,RWB:()=>_,Sinebow:()=>j,builtinGradients:()=>nt,getGradient:()=>b,normalizeValue:()=>g});var c=a("./src/colors.ts");class d{}function g(jt,wl,Ft){return wl>=jt?(Ft<jt&&(Ft=jt),Ft>wl&&(Ft=wl),{lo:jt,hi:wl,val:Ft}):(Ft>jt&&(Ft=jt),Ft<wl&&(Ft=wl),Ft=jt-Ft+wl,{lo:wl,hi:jt,val:Ft})}function b(jt){if(jt instanceof d)return jt;if(jt.gradient!==void 0&&nt[jt.gradient]){let wl=jt.min===void 0?-1:jt.min,Ft=jt.max===void 0?1:jt.max;return jt.mid===void 0?jt.colors===void 0?new nt[jt.gradient](wl,Ft):new nt[jt.gradient](wl,Ft,jt.colors):new nt[jt.gradient](wl,Ft,jt.mid)}else if(typeof jt.gradient=="string"&&jt.gradient.startsWith("linear_")){let wl=jt.gradient.split("_");wl.shift();let Ft=jt.min===void 0?-1:jt.min,it=jt.max===void 0?1:jt.max;return new rt(Ft,it,wl)}return jt}class _ extends d{constructor(wl,Ft,it){super(),this.gradient="RWB",this.mult=1,this.mid=it,this.min=wl,this.max=Ft,typeof Ft>"u"&&Array.isArray(wl)&&wl.length>=2?(this.max=wl[1],this.min=wl[0]):wl&&Ft&&!Array.isArray(wl)&&(this.min=wl,this.max=Ft)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(wl,Ft){var it,ot;if(wl=this.mult*wl,Ft?(it=Ft[0],ot=Ft[1]):(it=this.min,ot=this.max),wl===void 0)return 16777215;var Ln=g(it,ot,wl);it=Ln.lo,ot=Ln.hi,wl=Ln.val;var Cl=(ot+it)/2;Ft&&typeof Ft[2]<"u"?Cl=Ft[2]:typeof this.mid<"u"?Cl=this.mid:Cl=(it+ot)/2;var Tl,zl;return wl<Cl?(Tl=Math.floor(255*Math.sqrt((wl-it)/(Cl-it))),zl=16711680+256*Tl+Tl,zl):wl>Cl?(Tl=Math.floor(255*Math.sqrt(1-(wl-Cl)/(ot-Cl))),zl=65536*Tl+256*Tl+255,zl):16777215}}class $ extends d{constructor(wl,Ft){super(),this.gradient="ROYGB",this.mult=1,this.min=wl,this.max=Ft,typeof Ft>"u"&&Array.isArray(wl)&&wl.length>=2?(this.max=wl[1],this.min=wl[0]):wl&&Ft&&!Array.isArray(wl)&&(this.min=wl,this.max=Ft)}valueToHex(wl,Ft){var it,ot;if(wl=this.mult*wl,Ft?(it=Ft[0],ot=Ft[1]):(it=this.min,ot=this.max),typeof wl>"u")return 16777215;var Ln=g(it,ot,wl);it=Ln.lo,ot=Ln.hi,wl=Ln.val;var Cl=(it+ot)/2,Tl=(it+Cl)/2,zl=(Cl+ot)/2,In,Ml;return wl<Tl?(In=Math.floor(255*Math.sqrt((wl-it)/(Tl-it))),Ml=16711680+256*In+0,Ml):wl<Cl?(In=Math.floor(255*Math.sqrt(1-(wl-Tl)/(Cl-Tl))),Ml=65536*In+65280+0,Ml):wl<zl?(In=Math.floor(255*Math.sqrt((wl-Cl)/(zl-Cl))),Ml=65280+1*In,Ml):(In=Math.floor(255*Math.sqrt(1-(wl-zl)/(ot-zl))),Ml=0+256*In+255,Ml)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class j extends d{constructor(wl,Ft){super(),this.gradient="Sinebow",this.mult=1,this.min=wl,this.max=Ft,typeof Ft>"u"&&Array.isArray(wl)&&wl.length>=2&&(this.max=wl[1],this.min=wl[0]),Ft<wl&&(this.mult=-1,this.min*=-1,this.max*=-1)}valueToHex(wl,Ft){var it,ot;if(wl=this.mult*wl,Ft?(it=Ft[0],ot=Ft[1]):(it=this.min,ot=this.max),typeof wl>"u")return 16777215;var Ln=st.normalizeValue(it,ot,wl);it=Ln.lo,ot=Ln.hi,wl=Ln.val;var Cl=(wl-it)/(ot-it),Tl=5*Cl/6+.5,zl=Math.sin(Math.PI*Tl);zl*=zl*255;var In=Math.sin(Math.PI*(Tl+1/3));In*=In*255;var Ml=Math.sin(Math.PI*(Tl+2/3));return Ml*=Ml*255,65536*Math.floor(zl)+256*Math.floor(Ml)+1*Math.floor(In)}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}}class rt extends d{constructor(wl,Ft,it){super(),this.gradient="linear",this.colors=new Array;var ot;if(Array.isArray(wl)&&wl.length>=2?(this.max=wl[1],this.min=wl[0],ot=Ft):(this.min=wl,this.max=Ft,ot=it),ot)for(let Ln of ot)this.colors.push(c.CC.color(Ln));else this.colors.push(c.CC.color(0))}range(){return typeof this.min<"u"&&typeof this.max<"u"?[this.min,this.max]:null}valueToHex(wl,Ft){var it,ot;if(Ft?(it=Ft[0],ot=Ft[1]):(it=this.min,ot=this.max),wl===void 0)return 16777215;var Ln=g(it,ot,wl);it=Ln.lo,ot=Ln.hi,wl=Ln.val;let Cl=this.colors.length,Tl=(ot-it)/Cl,zl=Math.min(Math.floor((wl-it)/Tl),Cl-1),In=Math.min(zl+1,Cl-1),Ml=(wl-it-zl*Tl)/Tl,Dl=this.colors[zl],Ul=this.colors[In];return new c.Color(Dl.r+Ml*(Ul.r-Dl.r),Dl.g+Ml*(Ul.g-Dl.g),Dl.b+Ml*(Ul.b-Dl.b)).getHex()}}const nt={rwb:_,RWB:_,roygb:$,ROYGB:$,sinebow:j,linear:rt};class st extends d{valueToHex(wl,Ft){return 0}range(){return null}}st.RWB=_,st.ROYGB=$,st.Sinebow=j,st.CustomLinear=rt,st.builtinGradients=nt,st.normalizeValue=g,st.getGradient=b},"./src/Label.ts":(e,o,a)=>{a.r(o),a.d(o,{Label:()=>j,LabelCount:()=>b});var c=a("./src/WebGL/index.ts"),d=a("./src/Gradient.ts"),g=a("./src/colors.ts");let b=0;function _(rt,nt,st,jt,wl,Ft,it){rt.beginPath(),rt.moveTo(nt+Ft,st),rt.lineTo(nt+jt-Ft,st),rt.quadraticCurveTo(nt+jt,st,nt+jt,st+Ft),rt.lineTo(nt+jt,st+wl-Ft),rt.quadraticCurveTo(nt+jt,st+wl,nt+jt-Ft,st+wl),rt.lineTo(nt+Ft,st+wl),rt.quadraticCurveTo(nt,st+wl,nt,st+wl-Ft),rt.lineTo(nt,st+Ft),rt.quadraticCurveTo(nt,st,nt+Ft,st),rt.closePath(),rt.fill(),it&&rt.stroke()}function $(rt,nt,st){var jt=st;return typeof rt<"u"&&(rt instanceof g.Color?jt=rt.scaled():(jt=g.CC.color(rt),typeof jt.scaled<"u"&&(jt=jt.scaled()))),typeof nt<"u"&&(jt.a=parseFloat(nt)),jt}class j{constructor(nt,st){this.id=b++,this.stylespec=st||{},this.canvas=document.createElement("canvas"),this.canvas.width=134,this.canvas.height=35,this.context=this.canvas.getContext("2d"),this.sprite=new c.Sprite,this.text=nt,this.frame=this.stylespec.frame}getStyle(){return this.stylespec}hide(){this.sprite&&(this.sprite.visible=!1)}show(){this.sprite&&(this.sprite.visible=!0)}setContext(){var nt=this.stylespec,st=typeof nt.useScreen>"u"?!1:nt.useScreen,jt=nt.showBackground;(jt==="0"||jt==="false")&&(jt=!1),typeof jt>"u"&&(jt=!0);var wl=nt.font?nt.font:"sans-serif",Ft=parseInt(nt.fontSize)?parseInt(nt.fontSize):18,it=$(nt.fontColor,nt.fontOpacity,{r:255,g:255,b:255,a:1}),ot=nt.padding?nt.padding:4,Ln=nt.borderThickness?nt.borderThickness:0,Cl=$(nt.backgroundColor,nt.backgroundOpacity,{r:0,g:0,b:0,a:1}),Tl=$(nt.borderColor,nt.borderOpacity,Cl),zl=nt.position?nt.position:{x:-10,y:1,z:1},In=nt.inFront!==void 0?nt.inFront:!0;(In==="false"||In==="0")&&(In=!1);var Ml=nt.alignment||c.SpriteAlignment.topLeft;typeof Ml=="string"&&Ml in c.SpriteAlignment&&(Ml=c.SpriteAlignment[Ml]);var Dl="";nt.bold&&(Dl="bold "),this.context.font=Dl+Ft+"px  "+wl;var Ul=this.context.measureText(this.text),Vl=Ul.width;jt||(Ln=0);var mu=Vl+2.5*Ln+2*ot,rp=Ft*1.25+2*Ln+2*ot;if(nt.backgroundImage){var Ju=nt.backgroundImage,cp=nt.backgroundWidth?nt.backgroundWidth:Ju.width,hp=nt.backgroundHeight?nt.backgroundHeight:Ju.height;cp>mu&&(mu=cp),hp>rp&&(rp=hp)}if(this.canvas.width=mu,this.canvas.height=rp,this.context.clearRect(0,0,this.canvas.width,this.canvas.height),Dl="",nt.bold&&(Dl="bold "),this.context.font=Dl+Ft+"px  "+wl,this.context.fillStyle="rgba("+Cl.r+","+Cl.g+","+Cl.b+","+Cl.a+")",this.context.strokeStyle="rgba("+Tl.r+","+Tl.g+","+Tl.b+","+Tl.a+")",nt.backgroundGradient){let xp=this.context.createLinearGradient(0,rp/2,mu,rp/2),fp=d.Gradient.getGradient(nt.backgroundGradient),_p=fp.range(),ip=-1,gp=1;_p&&(ip=_p[0],gp=_p[1]);let Dp=gp-ip;for(let Fp=0;Fp<1.01;Fp+=.1){let n0=$(fp.valueToHex(ip+Dp*Fp)),S0="rgba("+n0.r+","+n0.g+","+n0.b+","+n0.a+")";xp.addColorStop(Fp,S0)}this.context.fillStyle=xp}this.context.lineWidth=Ln,jt&&_(this.context,Ln,Ln,mu-2*Ln,rp-2*Ln,6,Ln>0),nt.backgroundImage&&this.context.drawImage(Ju,0,0,mu,rp),this.context.fillStyle="rgba("+it.r+","+it.g+","+it.b+","+it.a+")",this.context.fillText(this.text,Ln+ot,Ft+Ln+ot,Vl);var yp=new c.Texture(this.canvas);yp.needsUpdate=!0,this.sprite.material=new c.SpriteMaterial({map:yp,useScreenCoordinates:st,alignment:Ml,depthTest:!In,screenOffset:nt.screenOffset||null}),this.sprite.scale.set(1,1,1),this.sprite.position.set(zl.x,zl.y,zl.z)}dispose(){this.sprite.material.map!==void 0&&this.sprite.material.map.dispose(),this.sprite.material!==void 0&&this.sprite.material.dispose()}}},"./src/ProteinSurface4.ts":(e,o,a)=>{a.r(o),a.d(o,{MarchingCube:()=>$,MarchingCubeInitializer:()=>_,PointGrid:()=>j,ProteinSurface:()=>rt,SurfaceType:()=>d,setSyncSurface:()=>b,syncSurface:()=>g});var c=a("./src/WebGL/math/index.ts"),d;(function(nt){nt[nt.VDW=1]="VDW",nt[nt.MS=2]="MS",nt[nt.SAS=3]="SAS",nt[nt.SES=4]="SES"})(d||(d={}));var g=!1;function b(nt){g=nt}(window.navigator.userAgent.indexOf("MSIE ")>=0||window.navigator.userAgent.indexOf("Trident/")>=0)&&(g=!0);class _{constructor(){this.ISDONE=2,this.edgeTable=new Uint32Array([0,0,0,0,0,0,0,2816,0,0,0,1792,0,3328,3584,3840,0,0,0,138,0,21,0,134,0,0,0,652,0,2067,3865,3600,0,0,0,42,0,0,0,294,0,0,21,28,0,3875,1049,3360,0,168,162,170,0,645,2475,2210,0,687,293,172,4010,3747,3497,3232,0,0,0,0,0,69,0,900,0,0,0,1792,138,131,1608,1920,0,81,0,2074,84,85,84,86,0,81,0,3676,330,1105,1881,1616,0,0,0,42,0,69,0,502,0,0,21,3580,138,2035,1273,1520,2816,104,2337,106,840,581,367,102,2816,3695,3429,3180,1898,1635,1385,1120,0,0,0,0,0,0,0,3910,0,0,69,588,42,2083,41,2880,0,0,0,1722,0,2293,4095,3830,0,255,757,764,2538,2291,3065,2800,0,0,81,338,0,3925,1119,3414,84,855,85,340,2130,2899,89,2384,1792,712,194,1162,4036,3781,3535,3270,708,719,197,204,3018,2755,2505,2240,0,0,0,0,168,420,168,1958,162,162,676,2988,170,163,680,928,3328,3096,3328,3642,52,53,1855,1590,2340,2111,2869,2620,298,51,825,560,3584,3584,3090,3482,1668,1941,1183,1430,146,2975,2069,2460,154,915,153,400,3840,3592,3329,3082,1796,1541,1295,1030,2818,2575,2309,2060,778,515,265,0]),this.triTable=[[],[],[],[],[],[],[],[11,9,8],[],[],[],[8,10,9],[],[10,8,11],[9,11,10],[8,10,9,8,11,10],[],[],[],[1,7,3],[],[4,2,0],[],[2,1,7],[],[],[],[2,7,3,2,9,7],[],[1,4,11,1,0,4],[3,8,0,11,9,4,11,10,9],[4,11,9,11,10,9],[],[],[],[5,3,1],[],[],[],[2,5,8,2,1,5],[],[],[2,4,0],[3,2,4],[],[0,9,1,8,10,5,8,11,10],[3,4,0,3,10,4],[5,8,10,8,11,10],[],[3,5,7],[7,1,5],[1,7,3,1,5,7],[],[9,2,0,9,7,2],[0,3,8,1,7,11,1,5,7],[11,1,7,1,5,7],[],[9,1,0,5,3,2,5,7,3],[8,2,5,8,0,2],[2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[],[],[],[],[],[0,6,2],[],[7,2,9,7,9,8],[],[],[],[8,10,9],[7,1,3],[7,1,0],[6,9,3,6,10,9],[7,10,8,10,9,8],[],[6,0,4],[],[11,1,4,11,3,1],[2,4,6],[2,0,4,2,4,6],[2,4,6],[1,4,2,4,6,2],[],[6,0,4],[],[2,11,3,6,9,4,6,10,9],[8,6,1,8,1,3],[10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[],[],[],[5,3,1],[],[0,6,2],[],[7,4,8,5,2,1,5,6,2],[],[],[2,4,0],[7,4,8,2,11,3,10,5,6],[7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[9,11,8],[3,5,6],[0,5,11,0,11,8],[6,3,5,3,1,5],[3,9,6,3,8,9],[9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[],[],[],[],[],[],[],[1,10,2,9,11,6,9,8,11],[],[],[6,0,2],[3,6,9,3,2,6],[3,5,1],[0,5,1,0,11,5],[0,3,5],[6,9,11,9,8,11],[],[],[],[4,5,9,7,1,10,7,3,1],[],[11,6,7,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[],[],[0,6,4],[8,6,4,8,1,6],[],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[4,2,6],[1,0,9,2,4,8,2,6,4],[2,4,0,2,6,4],[8,2,4,2,6,4],[11,4,1,11,6,4],[0,9,1,4,11,6,4,8,11],[3,6,0,6,4,0],[8,6,4,8,11,6],[10,8,9],[6,3,9,6,7,3],[6,7,1],[10,7,1,7,3,1],[7,11,6,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2],[1,0,9,3,6,7,3,2,6],[7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[],[],[],[],[5,3,7],[8,5,2,8,7,5],[5,3,7],[1,10,2,5,8,7,5,9,8],[1,7,5],[1,7,5],[9,2,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[0,7,1,7,5,1],[9,3,5,3,7,5],[9,7,5,9,8,7],[8,10,11],[3,4,10,3,10,11],[8,10,11],[5,9,4,1,11,3,1,10,11],[2,4,5],[5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[2,8,5,2,11,8],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[11,9,10],[11,9,10],[1,11,4,1,10,11],[8,7,4,11,1,10,11,3,1],[2,7,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[1,7,4],[3,2,11,4,8,7,9,1,0],[11,4,2,4,0,2],[2,11,3,7,4,8],[4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[3,9,11,9,10,11],[0,10,8,10,11,8],[10,3,1,10,11,3],[2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]],this.edgeTable2=[0,265,515,778,2060,2309,2575,2822,1030,1295,1541,1804,3082,3331,3593,3840,400,153,915,666,2460,2197,2975,2710,1430,1183,1941,1692,3482,3219,3993,3728,560,825,51,314,2620,2869,2111,2358,1590,1855,1077,1340,3642,3891,3129,3376,928,681,419,170,2988,2725,2479,2214,1958,1711,1445,1196,4010,3747,3497,3232,2240,2505,2755,3018,204,453,719,966,3270,3535,3781,4044,1226,1475,1737,1984,2384,2137,2899,2650,348,85,863,598,3414,3167,3925,3676,1370,1107,1881,1616,2800,3065,2291,2554,764,1013,255,502,3830,4095,3317,3580,1786,2035,1273,1520,2912,2665,2403,2154,876,613,367,102,3942,3695,3429,3180,1898,1635,1385,1120,1120,1385,1635,1898,3180,3429,3695,3942,102,367,613,876,2154,2403,2665,2912,1520,1273,2035,1786,3580,3317,4095,3830,502,255,1013,764,2554,2291,3065,2800,1616,1881,1107,1370,3676,3925,3167,3414,598,863,85,348,2650,2899,2137,2384,1984,1737,1475,1226,4044,3781,3535,3270,966,719,453,204,3018,2755,2505,2240,3232,3497,3747,4010,1196,1445,1711,1958,2214,2479,2725,2988,170,419,681,928,3376,3129,3891,3642,1340,1077,1855,1590,2358,2111,2869,2620,314,51,825,560,3728,3993,3219,3482,1692,1941,1183,1430,2710,2975,2197,2460,666,915,153,400,3840,3593,3331,3082,1804,1541,1295,1030,2822,2575,2309,2060,778,515,265,0],this.triTable2=[[],[8,3,0],[9,0,1],[8,3,1,8,1,9],[11,2,3],[11,2,0,11,0,8],[11,2,3,0,1,9],[2,1,11,1,9,11,11,9,8],[10,1,2],[8,3,0,1,2,10],[9,0,2,9,2,10],[3,2,8,2,10,8,8,10,9],[10,1,3,10,3,11],[1,0,10,0,8,10,10,8,11],[0,3,9,3,11,9,9,11,10],[8,10,9,8,11,10],[8,4,7],[3,0,4,3,4,7],[1,9,0,8,4,7],[9,4,1,4,7,1,1,7,3],[2,3,11,7,8,4],[7,11,4,11,2,4,4,2,0],[3,11,2,4,7,8,9,0,1],[2,7,11,2,1,7,1,4,7,1,9,4],[10,1,2,8,4,7],[2,10,1,0,4,7,0,7,3],[4,7,8,0,2,10,0,10,9],[2,7,3,2,9,7,7,9,4,2,10,9],[8,4,7,11,10,1,11,1,3],[11,4,7,1,4,11,1,11,10,1,0,4],[3,8,0,7,11,4,11,9,4,11,10,9],[7,11,4,4,11,9,11,10,9],[9,5,4],[3,0,8,4,9,5],[5,4,0,5,0,1],[4,8,5,8,3,5,5,3,1],[11,2,3,9,5,4],[9,5,4,8,11,2,8,2,0],[3,11,2,1,5,4,1,4,0],[8,5,4,2,5,8,2,8,11,2,1,5],[2,10,1,9,5,4],[0,8,3,5,4,9,10,1,2],[10,5,2,5,4,2,2,4,0],[3,4,8,3,2,4,2,5,4,2,10,5],[5,4,9,1,3,11,1,11,10],[0,9,1,4,8,5,8,10,5,8,11,10],[3,4,0,3,10,4,4,10,5,3,11,10],[4,8,5,5,8,10,8,11,10],[9,5,7,9,7,8],[0,9,3,9,5,3,3,5,7],[8,0,7,0,1,7,7,1,5],[1,7,3,1,5,7],[11,2,3,8,9,5,8,5,7],[9,2,0,9,7,2,2,7,11,9,5,7],[0,3,8,2,1,11,1,7,11,1,5,7],[2,1,11,11,1,7,1,5,7],[1,2,10,5,7,8,5,8,9],[9,1,0,10,5,2,5,3,2,5,7,3],[5,2,10,8,2,5,8,5,7,8,0,2],[10,5,2,2,5,3,5,7,3],[3,9,1,3,8,9,7,11,10,7,10,5],[9,1,0,10,7,11,10,5,7],[3,8,0,7,10,5,7,11,10],[11,5,7,11,10,5],[11,7,6],[0,8,3,11,7,6],[9,0,1,11,7,6],[7,6,11,3,1,9,3,9,8],[2,3,7,2,7,6],[8,7,0,7,6,0,0,6,2],[1,9,0,3,7,6,3,6,2],[7,6,2,7,2,9,2,1,9,7,9,8],[1,2,10,6,11,7],[2,10,1,7,6,11,8,3,0],[11,7,6,10,9,0,10,0,2],[7,6,11,3,2,8,8,2,10,8,10,9],[6,10,7,10,1,7,7,1,3],[6,10,1,6,1,7,7,1,0,7,0,8],[9,0,3,6,9,3,6,10,9,6,3,7],[6,10,7,7,10,8,10,9,8],[8,4,6,8,6,11],[11,3,6,3,0,6,6,0,4],[0,1,9,4,6,11,4,11,8],[1,9,4,11,1,4,11,3,1,11,4,6],[3,8,2,8,4,2,2,4,6],[2,0,4,2,4,6],[1,9,0,3,8,2,2,8,4,2,4,6],[9,4,1,1,4,2,4,6,2],[10,1,2,11,8,4,11,4,6],[10,1,2,11,3,6,6,3,0,6,0,4],[0,2,10,0,10,9,4,11,8,4,6,11],[2,11,3,6,9,4,6,10,9],[8,4,6,8,6,1,6,10,1,8,1,3],[1,0,10,10,0,6,0,4,6],[8,0,3,9,6,10,9,4,6],[10,4,6,10,9,4],[9,5,4,7,6,11],[4,9,5,3,0,8,11,7,6],[6,11,7,4,0,1,4,1,5],[6,11,7,4,8,5,5,8,3,5,3,1],[4,9,5,6,2,3,6,3,7],[9,5,4,8,7,0,0,7,6,0,6,2],[4,0,1,4,1,5,6,3,7,6,2,3],[7,4,8,5,2,1,5,6,2],[6,11,7,1,2,10,9,5,4],[11,7,6,8,3,0,1,2,10,9,5,4],[11,7,6,10,5,2,2,5,4,2,4,0],[7,4,8,2,11,3,10,5,6],[4,9,5,6,10,7,7,10,1,7,1,3],[5,6,10,0,9,1,8,7,4],[5,6,10,7,0,3,7,4,0],[10,5,6,4,8,7],[5,6,9,6,11,9,9,11,8],[0,9,5,0,5,3,3,5,6,3,6,11],[0,1,5,0,5,11,5,6,11,0,11,8],[11,3,6,6,3,5,3,1,5],[9,5,6,3,9,6,3,8,9,3,6,2],[5,6,9,9,6,0,6,2,0],[0,3,8,2,5,6,2,1,5],[1,6,2,1,5,6],[1,2,10,5,6,9,9,6,11,9,11,8],[1,0,9,6,10,5,11,3,2],[6,10,5,2,8,0,2,11,8],[3,2,11,10,5,6],[10,5,6,9,3,8,9,1,3],[0,9,1,5,6,10],[8,0,3,10,5,6],[10,5,6],[10,6,5],[8,3,0,10,6,5],[0,1,9,5,10,6],[10,6,5,9,8,3,9,3,1],[3,11,2,10,6,5],[6,5,10,2,0,8,2,8,11],[1,9,0,6,5,10,11,2,3],[1,10,2,5,9,6,9,11,6,9,8,11],[1,2,6,1,6,5],[0,8,3,2,6,5,2,5,1],[5,9,6,9,0,6,6,0,2],[9,6,5,3,6,9,3,9,8,3,2,6],[11,6,3,6,5,3,3,5,1],[0,5,1,0,11,5,5,11,6,0,8,11],[0,5,9,0,3,5,3,6,5,3,11,6],[5,9,6,6,9,11,9,8,11],[10,6,5,4,7,8],[5,10,6,7,3,0,7,0,4],[5,10,6,0,1,9,8,4,7],[4,5,9,6,7,10,7,1,10,7,3,1],[7,8,4,2,3,11,10,6,5],[11,6,7,10,2,5,2,4,5,2,0,4],[11,6,7,8,0,3,1,10,2,9,4,5],[6,7,11,1,10,2,9,4,5],[7,8,4,5,1,2,5,2,6],[4,1,0,4,5,1,6,7,3,6,3,2],[9,4,5,8,0,7,0,6,7,0,2,6],[4,5,9,6,3,2,6,7,3],[6,7,11,4,5,8,5,3,8,5,1,3],[6,7,11,4,1,0,4,5,1],[4,5,9,3,8,0,11,6,7],[9,4,5,7,11,6],[10,6,4,10,4,9],[8,3,0,9,10,6,9,6,4],[1,10,0,10,6,0,0,6,4],[8,6,4,8,1,6,6,1,10,8,3,1],[2,3,11,6,4,9,6,9,10],[0,10,2,0,9,10,4,8,11,4,11,6],[10,2,1,11,6,3,6,0,3,6,4,0],[10,2,1,11,4,8,11,6,4],[9,1,4,1,2,4,4,2,6],[1,0,9,3,2,8,2,4,8,2,6,4],[2,4,0,2,6,4],[3,2,8,8,2,4,2,6,4],[1,4,9,11,4,1,11,1,3,11,6,4],[0,9,1,4,11,6,4,8,11],[11,6,3,3,6,0,6,4,0],[8,6,4,8,11,6],[6,7,10,7,8,10,10,8,9],[9,3,0,6,3,9,6,9,10,6,7,3],[6,1,10,6,7,1,7,0,1,7,8,0],[6,7,10,10,7,1,7,3,1],[7,11,6,3,8,2,8,10,2,8,9,10],[11,6,7,10,0,9,10,2,0],[2,1,10,7,11,6,8,0,3],[1,10,2,6,7,11],[7,2,6,7,9,2,2,9,1,7,8,9],[1,0,9,3,6,7,3,2,6],[8,0,7,7,0,6,0,2,6],[2,7,3,2,6,7],[7,11,6,3,9,1,3,8,9],[9,1,0,11,6,7],[0,3,8,11,6,7],[11,6,7],[11,7,5,11,5,10],[3,0,8,7,5,10,7,10,11],[9,0,1,10,11,7,10,7,5],[3,1,9,3,9,8,7,10,11,7,5,10],[10,2,5,2,3,5,5,3,7],[5,10,2,8,5,2,8,7,5,8,2,0],[9,0,1,10,2,5,5,2,3,5,3,7],[1,10,2,5,8,7,5,9,8],[2,11,1,11,7,1,1,7,5],[0,8,3,2,11,1,1,11,7,1,7,5],[9,0,2,9,2,7,2,11,7,9,7,5],[11,3,2,8,5,9,8,7,5],[1,3,7,1,7,5],[8,7,0,0,7,1,7,5,1],[0,3,9,9,3,5,3,7,5],[9,7,5,9,8,7],[4,5,8,5,10,8,8,10,11],[3,0,4,3,4,10,4,5,10,3,10,11],[0,1,9,4,5,8,8,5,10,8,10,11],[5,9,4,1,11,3,1,10,11],[3,8,4,3,4,2,2,4,5,2,5,10],[10,2,5,5,2,4,2,0,4],[0,3,8,5,9,4,10,2,1],[2,1,10,9,4,5],[8,4,5,2,8,5,2,11,8,2,5,1],[3,2,11,1,4,5,1,0,4],[9,4,5,8,2,11,8,0,2],[11,3,2,9,4,5],[4,5,8,8,5,3,5,1,3],[5,0,4,5,1,0],[3,8,0,4,5,9],[9,4,5],[7,4,11,4,9,11,11,9,10],[3,0,8,7,4,11,11,4,9,11,9,10],[11,7,4,1,11,4,1,10,11,1,4,0],[8,7,4,11,1,10,11,3,1],[2,3,7,2,7,9,7,4,9,2,9,10],[4,8,7,0,10,2,0,9,10],[2,1,10,0,7,4,0,3,7],[10,2,1,8,7,4],[2,11,7,2,7,1,1,7,4,1,4,9],[3,2,11,4,8,7,9,1,0],[7,4,11,11,4,2,4,0,2],[2,11,3,7,4,8],[9,1,4,4,1,7,1,3,7],[1,0,9,8,7,4],[3,4,0,3,7,4],[8,7,4],[8,9,10,8,10,11],[0,9,3,3,9,11,9,10,11],[1,10,0,0,10,8,10,11,8],[10,3,1,10,11,3],[3,8,2,2,8,10,8,9,10],[9,2,0,9,10,2],[8,0,3,1,10,2],[10,2,1],[2,11,1,1,11,9,11,8,9],[11,3,2,0,9,1],[11,0,2,11,8,0],[11,3,2],[8,1,3,8,9,1],[9,1,0],[8,0,3],[]]}march(st,jt,wl,Ft){let it=!!Ft.fulltable,ot=Ft.hasOwnProperty("origin")&&Ft.origin.hasOwnProperty("x")?Ft.origin:{x:0,y:0,z:0},Ln=!!Ft.voxel,Cl=Ft.matrix,Tl=Ft.nX||0,zl=Ft.nY||0,In=Ft.nZ||0,Ml=Ft.scale||1,Dl=null;Ft.unitCube?Dl=Ft.unitCube:Dl={x:Ml,y:Ml,z:Ml};let Ul=new Int32Array(Tl*zl*In),Vl,mu;for(Vl=0,mu=Ul.length;Vl<mu;++Vl)Ul[Vl]=-1;let rp=function(yp,xp,fp,_p,ip,gp){let Dp={x:0,y:0,z:0},Fp=!!(_p&1<<ip),n0=!!(_p&1<<gp),S0=ip;if(!Fp&&n0&&(S0=gp),S0&1&&fp++,S0&2&&xp++,S0&4&&yp++,Cl){let P0=new c.Vector3(yp,xp,fp);P0=P0.applyMatrix4(Cl),Dp={x:P0.x,y:P0.y,z:P0.z}}else Dp.x=ot.x+Dl.x*yp,Dp.y=ot.y+Dl.y*xp,Dp.z=ot.z+Dl.z*fp;let C0=(zl*yp+xp)*In+fp;return Ln?(jt.push(Dp),jt.length-1):(Ul[C0]<0&&(Ul[C0]=jt.length,jt.push(Dp)),Ul[C0])},Ju=new Int32Array(12),cp=it?this.edgeTable2:this.edgeTable,hp=it?this.triTable2:this.triTable;for(Vl=0;Vl<Tl-1;++Vl)for(let yp=0;yp<zl-1;++yp)for(let xp=0;xp<In-1;++xp){let fp=0;for(let gp=0;gp<8;++gp){let Dp=(zl*(Vl+((gp&4)>>2))+yp+((gp&2)>>1))*In+xp+(gp&1),Fp=!!(st[Dp]&this.ISDONE);fp|=Fp<<gp}if(fp===0||fp===255)continue;let _p=cp[fp];if(_p===0)continue;let ip=hp[fp];_p&1&&(Ju[0]=rp(Vl,yp,xp,fp,0,1)),_p&2&&(Ju[1]=rp(Vl,yp,xp,fp,1,3)),_p&4&&(Ju[2]=rp(Vl,yp,xp,fp,3,2)),_p&8&&(Ju[3]=rp(Vl,yp,xp,fp,2,0)),_p&16&&(Ju[4]=rp(Vl,yp,xp,fp,4,5)),_p&32&&(Ju[5]=rp(Vl,yp,xp,fp,5,7)),_p&64&&(Ju[6]=rp(Vl,yp,xp,fp,7,6)),_p&128&&(Ju[7]=rp(Vl,yp,xp,fp,6,4)),_p&256&&(Ju[8]=rp(Vl,yp,xp,fp,0,4)),_p&512&&(Ju[9]=rp(Vl,yp,xp,fp,1,5)),_p&1024&&(Ju[10]=rp(Vl,yp,xp,fp,3,7)),_p&2048&&(Ju[11]=rp(Vl,yp,xp,fp,2,6));for(let gp=0;gp<ip.length;gp+=3){let Dp=Ju[ip[gp]],Fp=Ju[ip[gp+1]],n0=Ju[ip[gp+2]];Ln&&gp>=3&&(jt.push(jt[Dp]),Dp=jt.length-1,jt.push(jt[Fp]),Fp=jt.length-1,jt.push(jt[n0]),n0=jt.length-1),wl.push(Dp),wl.push(Fp),wl.push(n0)}}}laplacianSmooth(st,jt,wl){let Ft=new Array(jt.length),it,ot,Ln,Cl,Tl;for(it=0,ot=jt.length;it<ot;it++)Ft[it]={x:0,y:0,z:0};let zl=new Array(20),In;for(it=0;it<20;it++)zl[it]=new Array(jt.length);for(it=0,ot=jt.length;it<ot;it++)zl[0][it]=0;for(it=0,ot=wl.length/3;it<ot;it++){let Ul=it*3,Vl=it*3+1,mu=it*3+2;for(In=!0,Ln=0,Cl=zl[0][wl[Ul]];Ln<Cl;Ln++)if(wl[Vl]==zl[Ln+1][wl[Ul]]){In=!1;break}for(In&&(zl[0][wl[Ul]]++,zl[zl[0][wl[Ul]]][wl[Ul]]=wl[Vl]),In=!0,Ln=0,Cl=zl[0][wl[Ul]];Ln<Cl;Ln++)if(wl[mu]==zl[Ln+1][wl[Ul]]){In=!1;break}for(In&&(zl[0][wl[Ul]]++,zl[zl[0][wl[Ul]]][wl[Ul]]=wl[mu]),In=!0,Ln=0,Cl=zl[0][wl[Vl]];Ln<Cl;Ln++)if(wl[Ul]==zl[Ln+1][wl[Vl]]){In=!1;break}for(In&&(zl[0][wl[Vl]]++,zl[zl[0][wl[Vl]]][wl[Vl]]=wl[Ul]),In=!0,Ln=0,Cl=zl[0][wl[Vl]];Ln<Cl;Ln++)if(wl[mu]==zl[Ln+1][wl[Vl]]){In=!1;break}for(In&&(zl[0][wl[Vl]]++,zl[zl[0][wl[Vl]]][wl[Vl]]=wl[mu]),In=!0,Ln=0;Ln<zl[0][wl[mu]];Ln++)if(wl[Ul]==zl[Ln+1][wl[mu]]){In=!1;break}for(In&&(zl[0][wl[mu]]++,zl[zl[0][wl[mu]]][wl[mu]]=wl[Ul]),In=!0,Ln=0,Cl=zl[0][wl[mu]];Ln<Cl;Ln++)if(wl[Vl]==zl[Ln+1][wl[mu]]){In=!1;break}In&&(zl[0][wl[mu]]++,zl[zl[0][wl[mu]]][wl[mu]]=wl[Vl])}let Ml=1,Dl=.5;for(Tl=0;Tl<st;Tl++){for(it=0,ot=jt.length;it<ot;it++)if(zl[0][it]<3)Ft[it].x=jt[it].x,Ft[it].y=jt[it].y,Ft[it].z=jt[it].z;else if(zl[0][it]==3||zl[0][it]==4){for(Ft[it].x=0,Ft[it].y=0,Ft[it].z=0,Ln=0,Cl=zl[0][it];Ln<Cl;Ln++)Ft[it].x+=jt[zl[Ln+1][it]].x,Ft[it].y+=jt[zl[Ln+1][it]].y,Ft[it].z+=jt[zl[Ln+1][it]].z;Ft[it].x+=Dl*jt[it].x,Ft[it].y+=Dl*jt[it].y,Ft[it].z+=Dl*jt[it].z,Ft[it].x/=Dl+zl[0][it],Ft[it].y/=Dl+zl[0][it],Ft[it].z/=Dl+zl[0][it]}else{for(Ft[it].x=0,Ft[it].y=0,Ft[it].z=0,Ln=0,Cl=zl[0][it];Ln<Cl;Ln++)Ft[it].x+=jt[zl[Ln+1][it]].x,Ft[it].y+=jt[zl[Ln+1][it]].y,Ft[it].z+=jt[zl[Ln+1][it]].z;Ft[it].x+=Ml*jt[it].x,Ft[it].y+=Ml*jt[it].y,Ft[it].z+=Ml*jt[it].z,Ft[it].x/=Ml+zl[0][it],Ft[it].y/=Ml+zl[0][it],Ft[it].z/=Ml+zl[0][it]}for(it=0,ot=jt.length;it<ot;it++)jt[it].x=Ft[it].x,jt[it].y=Ft[it].y,jt[it].z=Ft[it].z}}}let $=new _;class j{constructor(st,jt,wl){this.data=new Int32Array(st*jt*wl*3),this.width=jt,this.height=wl}set(st,jt,wl,Ft){let it=((st*this.width+jt)*this.height+wl)*3;this.data[it]=Ft.ix,this.data[it+1]=Ft.iy,this.data[it+2]=Ft.iz}get(st,jt,wl){let Ft=((st*this.width+jt)*this.height+wl)*3;return{ix:this.data[Ft],iy:this.data[Ft+1],iz:this.data[Ft+2]}}}class rt{constructor(){this.INOUT=1,this.ISDONE=2,this.ISBOUND=4,this.ptranx=0,this.ptrany=0,this.ptranz=0,this.probeRadius=1.4,this.defaultScaleFactor=2,this.scaleFactor=this.defaultScaleFactor,this.pHeight=0,this.pWidth=0,this.pLength=0,this.cutRadius=0,this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,this.pminx=0,this.pminy=0,this.pminz=0,this.pmaxx=0,this.pmaxy=0,this.pmaxz=0,this.depty={},this.widxz={},this.faces=[],this.verts=[],this.vdwRadii={H:1.2,Li:1.82,Na:2.27,K:2.75,C:1.7,N:1.55,O:1.52,F:1.47,P:1.8,S:1.8,CL:1.75,BR:1.85,SE:1.9,ZN:1.39,CU:1.4,NI:1.63,X:2},this.nb=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])],rt.MarchingCube||(rt.MarchingCube=new _)}getVDWIndex(st){return!st.elem||typeof this.vdwRadii[st.elem]>"u"?"X":st.elem}getFacesAndVertices(st){let jt={};for(let it=0,ot=st.length;it<ot;it++)jt[st[it]]=!0;let wl=this.verts;for(let it=0,ot=wl.length;it<ot;it++)wl[it].x=wl[it].x/this.scaleFactor-this.ptranx,wl[it].y=wl[it].y/this.scaleFactor-this.ptrany,wl[it].z=wl[it].z/this.scaleFactor-this.ptranz;let Ft=[];for(let it=0,ot=this.faces.length;it<ot;it+=3){let Ln=this.faces[it],Cl=this.faces[it+1],Tl=this.faces[it+2],zl=wl[Ln].atomid,In=wl[Cl].atomid,Ml=wl[Tl].atomid,Dl=zl;In<Dl&&(Dl=In),Ml<Dl&&(Dl=Ml),jt[Dl]&&Ln!==Cl&&Cl!==Tl&&Ln!==Tl&&(Ft.push(Ln),Ft.push(Cl),Ft.push(Tl))}return this.vpBits=null,this.vpDistance=null,this.vpAtomID=null,{vertices:wl,faces:Ft}}initparm(st,jt,wl){wl>1e6&&(this.scaleFactor=this.defaultScaleFactor/2);let Ft=1/this.scaleFactor*5.5;this.pminx=st[0][0],this.pmaxx=st[1][0],this.pminy=st[0][1],this.pmaxy=st[1][1],this.pminz=st[0][2],this.pmaxz=st[1][2],jt?(this.pminx-=this.probeRadius+Ft,this.pminy-=this.probeRadius+Ft,this.pminz-=this.probeRadius+Ft,this.pmaxx+=this.probeRadius+Ft,this.pmaxy+=this.probeRadius+Ft,this.pmaxz+=this.probeRadius+Ft):(this.pminx-=Ft,this.pminy-=Ft,this.pminz-=Ft,this.pmaxx+=Ft,this.pmaxy+=Ft,this.pmaxz+=Ft),this.pminx=Math.floor(this.pminx*this.scaleFactor)/this.scaleFactor,this.pminy=Math.floor(this.pminy*this.scaleFactor)/this.scaleFactor,this.pminz=Math.floor(this.pminz*this.scaleFactor)/this.scaleFactor,this.pmaxx=Math.ceil(this.pmaxx*this.scaleFactor)/this.scaleFactor,this.pmaxy=Math.ceil(this.pmaxy*this.scaleFactor)/this.scaleFactor,this.pmaxz=Math.ceil(this.pmaxz*this.scaleFactor)/this.scaleFactor,this.ptranx=-this.pminx,this.ptrany=-this.pminy,this.ptranz=-this.pminz,this.pLength=Math.ceil(this.scaleFactor*(this.pmaxx-this.pminx))+1,this.pWidth=Math.ceil(this.scaleFactor*(this.pmaxy-this.pminy))+1,this.pHeight=Math.ceil(this.scaleFactor*(this.pmaxz-this.pminz))+1,this.boundingatom(jt),this.cutRadius=this.probeRadius*this.scaleFactor,this.vpBits=new Uint8Array(this.pLength*this.pWidth*this.pHeight),this.vpDistance=new Float64Array(this.pLength*this.pWidth*this.pHeight),this.vpAtomID=new Int32Array(this.pLength*this.pWidth*this.pHeight)}boundingatom(st){let jt={};for(const wl in this.vdwRadii){let Ft=this.vdwRadii[wl];st?jt[wl]=(Ft+this.probeRadius)*this.scaleFactor+.5:jt[wl]=Ft*this.scaleFactor+.5;let it=jt[wl]*jt[wl];this.widxz[wl]=Math.floor(jt[wl])+1,this.depty[wl]=new Int32Array(this.widxz[wl]*this.widxz[wl]);let ot=0;for(let Ln=0;Ln<this.widxz[wl];Ln++)for(let Cl=0;Cl<this.widxz[wl];Cl++){let Tl=Ln*Ln+Cl*Cl;if(Tl>it)this.depty[wl][ot]=-1;else{let zl=Math.sqrt(it-Tl);this.depty[wl][ot]=Math.floor(zl)}ot++}}}fillvoxels(st,jt){for(let wl=0,Ft=this.vpBits.length;wl<Ft;wl++)this.vpBits[wl]=0,this.vpDistance[wl]=-1,this.vpAtomID[wl]=-1;for(let wl in jt){let Ft=st[jt[wl]];Ft!==void 0&&this.fillAtom(Ft,st)}for(let wl=0,Ft=this.vpBits.length;wl<Ft;wl++)this.vpBits[wl]&this.INOUT&&(this.vpBits[wl]|=this.ISDONE)}fillAtom(st,jt){let wl=Math.floor(.5+this.scaleFactor*(st.x+this.ptranx)),Ft=Math.floor(.5+this.scaleFactor*(st.y+this.ptrany)),it=Math.floor(.5+this.scaleFactor*(st.z+this.ptranz)),ot=this.getVDWIndex(st),Ln=0,Cl=this.pWidth*this.pHeight;for(let Tl=0,zl=this.widxz[ot];Tl<zl;Tl++)for(let In=0;In<zl;In++){if(this.depty[ot][Ln]!=-1){for(let Ml=-1;Ml<2;Ml++)for(let Dl=-1;Dl<2;Dl++)for(let Ul=-1;Ul<2;Ul++)if(Ml!==0&&Dl!==0&&Ul!==0){let Vl=Ml*Tl,mu=Ul*In;for(let rp=0;rp<=this.depty[ot][Ln];rp++){let Ju=rp*Dl,cp=wl+Vl,hp=Ft+Ju,yp=it+mu;if(cp<0||hp<0||yp<0||cp>=this.pLength||hp>=this.pWidth||yp>=this.pHeight)continue;let xp=cp*Cl+hp*this.pHeight+yp;if(!(this.vpBits[xp]&this.INOUT))this.vpBits[xp]|=this.INOUT,this.vpAtomID[xp]=st.serial;else{let fp=jt[this.vpAtomID[xp]];if(fp.serial!=st.serial){let _p=wl+Vl-Math.floor(.5+this.scaleFactor*(fp.x+this.ptranx)),ip=Ft+Ju-Math.floor(.5+this.scaleFactor*(fp.y+this.ptrany)),gp=it+mu-Math.floor(.5+this.scaleFactor*(fp.z+this.ptranz));Vl*Vl+Ju*Ju+mu*mu<_p*_p+ip*ip+gp*gp&&(this.vpAtomID[xp]=st.serial)}}}}}Ln++}}fillvoxelswaals(st,jt){for(let wl=0,Ft=this.vpBits.length;wl<Ft;wl++)this.vpBits[wl]&=~this.ISDONE;for(let wl in jt){let Ft=st[jt[wl]];Ft!==void 0&&this.fillAtomWaals(Ft,st)}}fillAtomWaals(st,jt){let wl=0,Ft=Math.floor(.5+this.scaleFactor*(st.x+this.ptranx)),it=Math.floor(.5+this.scaleFactor*(st.y+this.ptrany)),ot=Math.floor(.5+this.scaleFactor*(st.z+this.ptranz)),Ln=this.getVDWIndex(st),Cl=this.pWidth*this.pHeight;for(let Tl=0,zl=this.widxz[Ln];Tl<zl;Tl++)for(let In=0;In<zl;In++){if(this.depty[Ln][wl]!=-1){for(let Ml=-1;Ml<2;Ml++)for(let Dl=-1;Dl<2;Dl++)for(let Ul=-1;Ul<2;Ul++)if(Ml!==0&&Dl!==0&&Ul!==0){let Vl=Ml*Tl,mu=Ul*In;for(let rp=0;rp<=this.depty[Ln][wl];rp++){let Ju=rp*Dl,cp=Ft+Vl,hp=it+Ju,yp=ot+mu;if(cp<0||hp<0||yp<0||cp>=this.pLength||hp>=this.pWidth||yp>=this.pHeight)continue;let xp=cp*Cl+hp*this.pHeight+yp;if(!(this.vpBits[xp]&this.ISDONE))this.vpBits[xp]|=this.ISDONE,this.vpAtomID[xp]=st.serial;else{let fp=jt[this.vpAtomID[xp]];if(fp.serial!=st.serial){let _p=Ft+Vl-Math.floor(.5+this.scaleFactor*(fp.x+this.ptranx)),ip=it+Ju-Math.floor(.5+this.scaleFactor*(fp.y+this.ptrany)),gp=ot+mu-Math.floor(.5+this.scaleFactor*(fp.z+this.ptranz));Vl*Vl+Ju*Ju+mu*mu<_p*_p+ip*ip+gp*gp&&(this.vpAtomID[xp]=st.serial)}}}}}wl++}}buildboundary(){let st=this.pWidth*this.pHeight;for(let jt=0;jt<this.pLength;jt++)for(let wl=0;wl<this.pHeight;wl++)for(let Ft=0;Ft<this.pWidth;Ft++){let it=jt*st+Ft*this.pHeight+wl;if(this.vpBits[it]&this.INOUT){let ot=0;for(;ot<26;){let Ln=jt+this.nb[ot][0],Cl=wl+this.nb[ot][2],Tl=Ft+this.nb[ot][1];if(Ln>-1&&Ln<this.pLength&&Tl>-1&&Tl<this.pWidth&&Cl>-1&&Cl<this.pHeight&&!(this.vpBits[Ln*st+Tl*this.pHeight+Cl]&this.INOUT)){this.vpBits[it]|=this.ISBOUND;break}else ot++}}}}fastdistancemap(){let st=new j(this.pLength,this.pWidth,this.pHeight),jt=this.pWidth*this.pHeight,wl=this.cutRadius*this.cutRadius,Ft=[],it=[],ot;for(let Tl=0;Tl<this.pLength;Tl++)for(let zl=0;zl<this.pWidth;zl++)for(let In=0;In<this.pHeight;In++)if(ot=Tl*jt+zl*this.pHeight+In,this.vpBits[ot]&=~this.ISDONE,this.vpBits[ot]&this.INOUT&&this.vpBits[ot]&this.ISBOUND){let Ml={ix:Tl,iy:zl,iz:In};st.set(Tl,zl,In,Ml),Ft.push(Ml),this.vpDistance[ot]=0,this.vpBits[ot]|=this.ISDONE,this.vpBits[ot]&=~this.ISBOUND}do{it=this.fastoneshell(Ft,st),Ft=[];for(let Tl=0,zl=it.length;Tl<zl;Tl++)ot=jt*it[Tl].ix+this.pHeight*it[Tl].iy+it[Tl].iz,this.vpBits[ot]&=~this.ISBOUND,this.vpDistance[ot]<=1.0404*wl&&Ft.push({ix:it[Tl].ix,iy:it[Tl].iy,iz:it[Tl].iz})}while(Ft.length!==0);Ft=[],it=[],st=null;let Ln=this.scaleFactor-.5;Ln<0&&(Ln=0);let Cl=wl-.5/(.1+Ln);for(let Tl=0;Tl<this.pLength;Tl++)for(let zl=0;zl<this.pWidth;zl++)for(let In=0;In<this.pHeight;In++)ot=Tl*jt+zl*this.pHeight+In,this.vpBits[ot]&=~this.ISBOUND,this.vpBits[ot]&this.INOUT&&(!(this.vpBits[ot]&this.ISDONE)||this.vpBits[ot]&this.ISDONE&&this.vpDistance[ot]>=Cl)&&(this.vpBits[ot]|=this.ISBOUND)}fastoneshell(st,jt){let wl,Ft,it,ot,Ln,Cl,Tl,zl,In,Ml=[];if(st.length===0)return Ml;let Dl={ix:-1,iy:-1,iz:-1},Ul=this.pWidth*this.pHeight;for(let Vl=0,mu=st.length;Vl<mu;Vl++){wl=st[Vl].ix,Ft=st[Vl].iy,it=st[Vl].iz,zl=jt.get(wl,Ft,it);for(let rp=0;rp<6;rp++)Dl.ix=wl+this.nb[rp][0],Dl.iy=Ft+this.nb[rp][1],Dl.iz=it+this.nb[rp][2],Dl.ix<this.pLength&&Dl.ix>-1&&Dl.iy<this.pWidth&&Dl.iy>-1&&Dl.iz<this.pHeight&&Dl.iz>-1&&(In=Dl.ix*Ul+this.pHeight*Dl.iy+Dl.iz,this.vpBits[In]&this.INOUT&&!(this.vpBits[In]&this.ISDONE)?(jt.set(Dl.ix,Dl.iy,it+this.nb[rp][2],zl),ot=Dl.ix-zl.ix,Ln=Dl.iy-zl.iy,Cl=Dl.iz-zl.iz,Tl=ot*ot+Ln*Ln+Cl*Cl,this.vpDistance[In]=Tl,this.vpBits[In]|=this.ISDONE,this.vpBits[In]|=this.ISBOUND,Ml.push({ix:Dl.ix,iy:Dl.iy,iz:Dl.iz})):this.vpBits[In]&this.INOUT&&this.vpBits[In]&this.ISDONE&&(ot=Dl.ix-zl.ix,Ln=Dl.iy-zl.iy,Cl=Dl.iz-zl.iz,Tl=ot*ot+Ln*Ln+Cl*Cl,Tl<this.vpDistance[In]&&(jt.set(Dl.ix,Dl.iy,Dl.iz,zl),this.vpDistance[In]=Tl,this.vpBits[In]&this.ISBOUND||(this.vpBits[In]|=this.ISBOUND,Ml.push({ix:Dl.ix,iy:Dl.iy,iz:Dl.iz})))))}for(let Vl=0,mu=st.length;Vl<mu;Vl++){wl=st[Vl].ix,Ft=st[Vl].iy,it=st[Vl].iz,zl=jt.get(wl,Ft,it);for(let rp=6;rp<18;rp++)Dl.ix=wl+this.nb[rp][0],Dl.iy=Ft+this.nb[rp][1],Dl.iz=it+this.nb[rp][2],Dl.ix<this.pLength&&Dl.ix>-1&&Dl.iy<this.pWidth&&Dl.iy>-1&&Dl.iz<this.pHeight&&Dl.iz>-1&&(In=Dl.ix*Ul+this.pHeight*Dl.iy+Dl.iz,this.vpBits[In]&this.INOUT&&!(this.vpBits[In]&this.ISDONE)?(jt.set(Dl.ix,Dl.iy,it+this.nb[rp][2],zl),ot=Dl.ix-zl.ix,Ln=Dl.iy-zl.iy,Cl=Dl.iz-zl.iz,Tl=ot*ot+Ln*Ln+Cl*Cl,this.vpDistance[In]=Tl,this.vpBits[In]|=this.ISDONE,this.vpBits[In]|=this.ISBOUND,Ml.push({ix:Dl.ix,iy:Dl.iy,iz:Dl.iz})):this.vpBits[In]&this.INOUT&&this.vpBits[In]&this.ISDONE&&(ot=Dl.ix-zl.ix,Ln=Dl.iy-zl.iy,Cl=Dl.iz-zl.iz,Tl=ot*ot+Ln*Ln+Cl*Cl,Tl<this.vpDistance[In]&&(jt.set(Dl.ix,Dl.iy,Dl.iz,zl),this.vpDistance[In]=Tl,this.vpBits[In]&this.ISBOUND||(this.vpBits[In]|=this.ISBOUND,Ml.push({ix:Dl.ix,iy:Dl.iy,iz:Dl.iz})))))}for(let Vl=0,mu=st.length;Vl<mu;Vl++){wl=st[Vl].ix,Ft=st[Vl].iy,it=st[Vl].iz,zl=jt.get(wl,Ft,it);for(let rp=18;rp<26;rp++)Dl.ix=wl+this.nb[rp][0],Dl.iy=Ft+this.nb[rp][1],Dl.iz=it+this.nb[rp][2],Dl.ix<this.pLength&&Dl.ix>-1&&Dl.iy<this.pWidth&&Dl.iy>-1&&Dl.iz<this.pHeight&&Dl.iz>-1&&(In=Dl.ix*Ul+this.pHeight*Dl.iy+Dl.iz,this.vpBits[In]&this.INOUT&&!(this.vpBits[In]&this.ISDONE)?(jt.set(Dl.ix,Dl.iy,it+this.nb[rp][2],zl),ot=Dl.ix-zl.ix,Ln=Dl.iy-zl.iy,Cl=Dl.iz-zl.iz,Tl=ot*ot+Ln*Ln+Cl*Cl,this.vpDistance[In]=Tl,this.vpBits[In]|=this.ISDONE,this.vpBits[In]|=this.ISBOUND,Ml.push({ix:Dl.ix,iy:Dl.iy,iz:Dl.iz})):this.vpBits[In]&this.INOUT&&this.vpBits[In]&this.ISDONE&&(ot=Dl.ix-zl.ix,Ln=Dl.iy-zl.iy,Cl=Dl.iz-zl.iz,Tl=ot*ot+Ln*Ln+Cl*Cl,Tl<this.vpDistance[In]&&(jt.set(Dl.ix,Dl.iy,Dl.iz,zl),this.vpDistance[In]=Tl,this.vpBits[In]&this.ISBOUND||(this.vpBits[In]|=this.ISBOUND,Ml.push({ix:Dl.ix,iy:Dl.iy,iz:Dl.iz})))))}return Ml}marchingcubeinit(st){for(let jt=0,wl=this.vpBits.length;jt<wl;jt++)st==1?this.vpBits[jt]&=~this.ISBOUND:st==4?(this.vpBits[jt]&=~this.ISDONE,this.vpBits[jt]&this.ISBOUND&&(this.vpBits[jt]|=this.ISDONE),this.vpBits[jt]&=~this.ISBOUND):st==2?this.vpBits[jt]&this.ISBOUND&&this.vpBits[jt]&this.ISDONE?this.vpBits[jt]&=~this.ISBOUND:this.vpBits[jt]&this.ISBOUND&&!(this.vpBits[jt]&this.ISDONE)&&(this.vpBits[jt]|=this.ISDONE):st==3&&(this.vpBits[jt]&=~this.ISBOUND)}marchingcube(st){this.marchingcubeinit(st),this.verts=[],this.faces=[],rt.MarchingCube.march(this.vpBits,this.verts,this.faces,{smooth:1,nX:this.pLength,nY:this.pWidth,nZ:this.pHeight});let jt=this.pWidth*this.pHeight;for(let wl=0,Ft=this.verts.length;wl<Ft;wl++)this.verts[wl].atomid=this.vpAtomID[this.verts[wl].x*jt+this.pHeight*this.verts[wl].y+this.verts[wl].z];rt.MarchingCube.laplacianSmooth(1,this.verts,this.faces)}}rt.MarchingCube=new _},"./src/SurfaceWorker.js":()=>{$3Dmol.workerString=(function(){self.onmessage=function(e){var o=e.data,a=o.type;if(a<0)self.atomData=o.atoms,self.volume=o.volume,self.ps=new ProteinSurface;else{var c=self.ps;c.initparm(o.expandedExtent,a!=1,self.volume),c.fillvoxels(self.atomData,o.extendedAtoms),c.buildboundary(),(a===4||a===2)&&(c.fastdistancemap(),c.boundingatom(!1),c.fillvoxelswaals(self.atomData,o.extendedAtoms)),c.marchingcube(a);var d=c.getFacesAndVertices(o.atomsToShow);self.postMessage(d)}}}).toString().replace(/(^.*?\{|\}$)/g,""),$3Dmol.workerString+=`;
function _classCallCheck() {};`,$3Dmol.workerString+=`;
`+$3Dmol.Vector3.toString(),$3Dmol.workerString+=`;
`+$3Dmol.MarchingCubeInitializer.toString()+`;

`,$3Dmol.workerString+=`;
`+$3Dmol.PointGrid.toString()+`;
`,$3Dmol.workerString+=`;
var ProteinSurface = `+$3Dmol.ProteinSurface.toString()+`;
`,$3Dmol.SurfaceWorker=window.URL?window.URL.createObjectURL(new Blob([$3Dmol.workerString],{type:"text/javascript"})):void 0},"./src/VolumeData.ts":(e,o,a)=>{a.r(o),a.d(o,{VolumeData:()=>$});var c=a("./src/utilities.ts"),d=a("./src/WebGL/math/index.ts"),g=a("./src/parsers/VASP.ts"),b=a("./src/parsers/CUBE.ts"),_=a("./node_modules/pako/dist/pako.esm.mjs");class ${constructor(rt,nt,st){if(this.unit={x:1,y:1,z:1},this.origin={x:0,y:0,z:0},this.size={x:0,y:0,z:0},this.data=new Float32Array([]),this.matrix=null,this.inversematrix=null,this.isbinary=new Set(["ccp4","CCP4"]),this.getCoordinates=function(ot){var Ln=ot/(this.size.y*this.size.z),Cl=ot%(this.size.y*this.size.z),Tl=ot%this.size.z;return Ln*=this.unit.x,Cl*=this.unit.y,Tl*=this.unit.z,Ln+=this.origin.x,Cl+=this.origin.y,Tl+=this.origin.z,{x:Ln,y:Cl,z:Tl}},this.vasp=function(ot){var Ln=ot.replace(/^\s+/,"").split(/[\n\r]/),Cl=(0,g.VASP)(ot)[0],Tl=Cl.length;if(Tl==0){console.warn("No good formating of CHG or CHGCAR file, not atomic information provided in the file."),this.data=[];return}var zl=1.889725992,In=.036749309,Ml=parseFloat(Ln[1]),Dl;Dl=Ln[2].replace(/^\s+/,"").split(/\s+/);var Ul=new d.Vector3(parseFloat(Dl[0]),parseFloat(Dl[1]),parseFloat(Dl[2])).multiplyScalar(Ml*zl);Dl=Ln[3].replace(/^\s+/,"").split(/\s+/);var Vl=new d.Vector3(parseFloat(Dl[0]),parseFloat(Dl[1]),parseFloat(Dl[2])).multiplyScalar(Ml*zl);Dl=Ln[4].replace(/^\s+/,"").split(/\s+/);var mu=new d.Vector3(parseFloat(Dl[0]),parseFloat(Dl[1]),parseFloat(Dl[2])).multiplyScalar(Ml*zl),rp=Ul.x*(Vl.y*mu.z-mu.y*Vl.z)-Vl.x*(Ul.y*mu.z-mu.y*Ul.z)+mu.x*(Ul.y*Vl.z-Vl.y*Ul.z);rp=Math.abs(rp)/Math.pow(zl,3);var Ju=1/rp;Ln.splice(0,8+Tl+1);var cp=Ln[0].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),hp=Math.abs(parseFloat(cp[0])),yp=Math.abs(parseFloat(cp[1])),xp=Math.abs(parseFloat(cp[2])),fp=this.origin=new d.Vector3(0,0,0);this.size={x:hp,y:yp,z:xp},this.unit=new d.Vector3(Ul.x,Vl.y,mu.z),Ul=Ul.multiplyScalar(1/(zl*hp)),Vl=Vl.multiplyScalar(1/(zl*yp)),mu=mu.multiplyScalar(1/(zl*xp)),(Ul.y!=0||Ul.z!=0||Vl.x!=0||Vl.z!=0||mu.x!=0||mu.y!=0)&&(this.matrix=new d.Matrix4(Ul.x,Vl.x,mu.x,0,Ul.y,Vl.y,mu.y,0,Ul.z,Vl.z,mu.z,0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new d.Matrix4().makeTranslation(fp.x,fp.y,fp.z)),this.origin=new d.Vector3(0,0,0),this.unit=new d.Vector3(1,1,1)),Ln.splice(0,1);var _p=Ln.join(" ");_p=_p.replace(/^\s+/,"");var ip=_p.split(/[\s\r]+/);ip.splice(hp*yp*xp+1);for(var gp=Float32Array.from(ip,parseFloat),Dp=0;Dp<gp.length;Dp++)gp[Dp]=gp[Dp]*Ju*In;this.data=gp},this.dx=function(ot){var Ln=ot.split(/[\n\r]+/),Cl,Tl=/gridpositions\s+counts\s+(\d+)\s+(\d+)\s+(\d+)/,zl=/^origin\s+(\S+)\s+(\S+)\s+(\S+)/,In=/^delta\s+(\S+)\s+(\S+)\s+(\S+)/,Ml=/data follows/,Dl=0;for(Dl=0;Dl<Ln.length;Dl++){var Ul=Ln[Dl];if(Cl=Tl.exec(Ul)){var Vl=parseInt(Cl[1]),mu=parseInt(Cl[2]),rp=parseInt(Cl[3]);this.size={x:Vl,y:mu,z:rp}}else if(Cl=In.exec(Ul)){var Ju=parseFloat(Cl[1]);if((parseFloat(Cl[2])!=0||parseFloat(Cl[3])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),Dl+=1,Ul=Ln[Dl],Cl=In.exec(Ul),Cl==null){console.error("Parse error in dx delta matrix");return}var cp=parseFloat(Cl[2]);if((parseFloat(Cl[1])!=0||parseFloat(Cl[3])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),Dl+=1,Ul=Ln[Dl],Cl=In.exec(Ul),Cl==null){console.error("Parse error in dx delta matrix");return}var hp=parseFloat(Cl[3]);(parseFloat(Cl[1])!=0||parseFloat(Cl[2])!=0)&&console.warn("Non-orthogonal delta matrix not currently supported in dx format"),this.unit=new d.Vector3(Ju,cp,hp)}else if(Cl=zl.exec(Ul)){var yp=parseFloat(Cl[1]),xp=parseFloat(Cl[2]),fp=parseFloat(Cl[3]);this.origin=new d.Vector3(yp,xp,fp)}else if(Cl=Ml.exec(Ul))break}if(Dl+=1,!this.size||!this.origin||!this.unit||!this.size){console.error("Error parsing dx format");return}var _p=Ln.splice(Dl).join(" "),ip=_p.split(/[\s\r]+/);this.data=Float32Array.from(ip,parseFloat)},nt=nt.toLowerCase(),/\.gz$/.test(nt)){nt=nt.replace(/\.gz$/,"");try{this[nt]&&this.isbinary.has(nt)?(typeof rt=="string"&&(rt=(0,c.base64ToArray)(rt)),rt=(0,_.inflate)(rt)):rt=new TextDecoder("utf-8").decode((0,_.inflate)(rt))}catch(ot){console.error(ot)}}if(this[nt]&&(this.isbinary.has(nt)&&typeof rt=="string"&&(rt=(0,c.base64ToArray)(rt)),this[nt](rt)),st){if(st.negate)for(let ot=0,Ln=this.data.length;ot<Ln;ot++)this.data[ot]=-this.data[ot];if(st.normalize){var jt=0;for(let ot=0,Ln=this.data.length;ot<Ln;ot++)jt+=this.data[ot];var wl=jt/this.data.length;jt=0;for(let ot=0,Ln=this.data.length;ot<Ln;ot++){var Ft=this.data[ot]-wl;jt+=Ft*Ft}var it=jt/this.data.length;for(let ot=0,Ln=this.data.length;ot<Ln;ot++)this.data[ot]=(this.data[ot]-wl)/it}}}getIndex(rt,nt,st){if(this.matrix){this.inversematrix==null&&(this.inversematrix=new d.Matrix4().getInverse(this.matrix));var jt=new d.Vector3(rt,nt,st);jt=jt.applyMatrix4(this.inversematrix),rt=jt.x,nt=jt.y,st=jt.z}else rt-=this.origin.x,nt-=this.origin.y,st-=this.origin.z,rt/=this.unit.x,nt/=this.unit.y,st/=this.unit.z;return rt=Math.round(rt),nt=Math.round(nt),st=Math.round(st),rt<0||rt>=this.size.x||nt<0||nt>=this.size.y||st<0||st>=this.size.z?-1:rt*this.size.y*this.size.z+nt*this.size.z+st}getVal(rt,nt,st){let jt=this.getIndex(rt,nt,st);return jt<0?0:this.data[jt]}cube(rt){var nt=rt.split(/\r?\n/);if(!(nt.length<6)){var st=(0,b.CUBE)(rt,{}).modelData[0].cryst,jt=nt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),wl=parseFloat(jt[0]),Ft=Math.abs(wl);this.origin=st.origin,this.size=st.size,this.unit=st.unit,this.matrix=st.matrix4;var it=6;wl<0&&it++;var ot=nt.splice(Ft+it).join(" ");ot=ot.replace(/^\s+/,"");var Ln=ot.split(/[\s\r]+/);this.data=Float32Array.from(Ln,parseFloat)}}ccp4(rt){var nt={};rt=new Int8Array(rt);var st=new Int32Array(rt.buffer,0,56),jt=new Float32Array(rt.buffer,0,56),wl=new DataView(rt.buffer);if(nt.MAP=String.fromCharCode(wl.getUint8(208),wl.getUint8(209),wl.getUint8(210),wl.getUint8(211)),nt.MACHST=[wl.getUint8(212),wl.getUint8(213)],nt.MACHST[0]===17&&nt.MACHST[1]===17)for(var Ft=rt.byteLength,it=0;it<Ft;it+=4)wl.setFloat32(it,wl.getFloat32(it),!0);nt.NX=st[0],nt.NY=st[1],nt.NZ=st[2],nt.MODE=st[3],nt.NXSTART=st[4],nt.NYSTART=st[5],nt.NZSTART=st[6],nt.MX=st[7],nt.MY=st[8],nt.MZ=st[9],nt.xlen=jt[10],nt.ylen=jt[11],nt.zlen=jt[12],nt.alpha=jt[13],nt.beta=jt[14],nt.gamma=jt[15],nt.MAPC=st[16],nt.MAPR=st[17],nt.MAPS=st[18],nt.DMIN=jt[19],nt.DMAX=jt[20],nt.DMEAN=jt[21],nt.ISPG=st[22],nt.NSYMBT=st[23],nt.LSKFLG=st[24],nt.originX=jt[49],nt.originY=jt[50],nt.originZ=jt[51],nt.ARMS=jt[54];var ot=nt,Ln=[ot.xlen,0,0],Cl=[ot.ylen*Math.cos(Math.PI/180*ot.gamma),ot.ylen*Math.sin(Math.PI/180*ot.gamma),0],Tl=[ot.zlen*Math.cos(Math.PI/180*ot.beta),ot.zlen*(Math.cos(Math.PI/180*ot.alpha)-Math.cos(Math.PI/180*ot.gamma)*Math.cos(Math.PI/180*ot.beta))/Math.sin(Math.PI/180*ot.gamma),0];Tl[2]=Math.sqrt(ot.zlen*ot.zlen*Math.sin(Math.PI/180*ot.beta)*Math.sin(Math.PI/180*ot.beta)-Tl[1]*Tl[1]);var zl=[0,Ln,Cl,Tl],In=[0,ot.MX,ot.MY,ot.MZ],Ml=[0,ot.MAPC,ot.MAPR,ot.MAPS];this.matrix=new d.Matrix4,this.matrix.set(zl[Ml[1]][0]/In[Ml[1]],zl[Ml[2]][0]/In[Ml[2]],zl[Ml[3]][0]/In[Ml[3]],0,zl[Ml[1]][1]/In[Ml[1]],zl[Ml[2]][1]/In[Ml[2]],zl[Ml[3]][1]/In[Ml[3]],0,zl[Ml[1]][2]/In[Ml[1]],zl[Ml[2]][2]/In[Ml[2]],zl[Ml[3]][2]/In[Ml[3]],0,0,0,0,1),this.matrix=this.matrix.multiplyMatrices(this.matrix,new d.Matrix4().makeTranslation(ot.NXSTART+ot.originX,ot.NYSTART+ot.originY,ot.NZSTART+ot.originZ)),this.origin=new d.Vector3(0,0,0),this.unit=new d.Vector3(1,1,1),this.size={x:nt.NX,y:nt.NY,z:nt.NZ},this.dimensionorder=[nt.MAPC,nt.MAPR,nt.MAPS];var Dl=new Float32Array(rt.buffer,1024+nt.NSYMBT),Ul=nt.NX,Vl=nt.NY,mu=nt.NZ;this.data=new Float32Array(Ul*Vl*mu);for(let rp=0;rp<Ul;rp++)for(let Ju=0;Ju<Vl;Ju++)for(let cp=0;cp<mu;cp++)this.data[(rp*Vl+Ju)*mu+cp]=Dl[(cp*Vl+Ju)*Ul+rp]}}},"./src/VolumetricRender.ts":(e,o,a)=>{a.r(o),a.d(o,{GLVolumetricRender:()=>$});var c=a("./src/WebGL/shapes/index.ts"),d=a("./src/WebGL/math/index.ts"),g=a("./src/WebGL/index.ts"),b=a("./src/colors.ts"),_=a("./src/GLShape.ts");class ${static interpolateArray(rt,nt){function st(Tl,zl,In){return Tl+(zl-Tl)*In}var jt=[],wl=(rt.length-1)/(nt-1);jt[0]=rt[0];for(var Ft=1;Ft<nt-1;Ft++){var it=Ft*wl,ot=Math.floor(it),Ln=Math.ceil(it),Cl=it-ot;jt[Ft]=st(rt[ot],rt[Ln],Cl)}return jt[nt-1]=rt[rt.length-1],jt}constructor(rt,nt,st){this.hidden=!1,this.boundingSphere=new c.Sphere,this.renderedShapeObj=null,this.shapeObj=null,this.subsamples=5,this.data=null,this.transferfunctionbuffer=[],this.min=0,this.max=0,nt=nt||{};var jt=Object.assign([],nt.transferfn);this.subsamples=nt.subsamples||5;let wl=256;jt.forEach(function(Vl){Vl.value=parseFloat(Vl.value)}),jt.sort(function(Vl,mu){return Vl.value-mu.value}),this.min=jt[0].value,jt.length==0&&jt.push(jt[0]),this.max=jt[jt.length-1].value;var Ft,it,ot,Ln,Cl,Tl,zl,In,Ml,Dl;for(let Vl=0;Vl<jt.length-1;Vl++)if(ot=b.CC.color(jt[Vl].color),Ln=b.CC.color(jt[Vl+1].color),Ml=jt[Vl].opacity,Dl=jt[Vl+1].opacity,Ft=Math.floor((jt[Vl].value-this.min)*wl/(this.max-this.min)),it=Math.floor((jt[Vl+1].value-this.min)*wl/(this.max-this.min)),Ft!=it){Cl=$.interpolateArray([ot.r*255,Ln.r*255],it-Ft),Tl=$.interpolateArray([ot.g*255,Ln.g*255],it-Ft),zl=$.interpolateArray([ot.b*255,Ln.b*255],it-Ft),In=$.interpolateArray([Ml*255,Dl*255],it-Ft);for(let mu=0;mu<Cl.length;mu++)this.transferfunctionbuffer.push(Cl[mu]),this.transferfunctionbuffer.push(Tl[mu]),this.transferfunctionbuffer.push(zl[mu]),this.transferfunctionbuffer.push(In[mu])}if(this.transferfunctionbuffer=new Uint8ClampedArray(this.transferfunctionbuffer),rt.matrix){let Vl=new d.Vector3(0,0,0),mu=new d.Vector3(rt.size.x,rt.size.y,rt.size.z),rp=new d.Vector3(1,1,1);Vl.applyMatrix4(rt.matrix),mu.applyMatrix4(rt.matrix),rp.applyMatrix4(rt.matrix).sub(Vl),this.extent=[[Vl.x,Vl.y,Vl.z],[mu.x,mu.y,mu.z]];for(let yp=1;yp<7;yp++)mu.x=yp&1?rt.size.x:0,mu.y=yp&2?rt.size.y:0,mu.z=yp&4?rt.size.z:0,mu.applyMatrix4(rt.matrix),this.extent[0][0]=Math.min(this.extent[0][0],mu.x),this.extent[0][1]=Math.min(this.extent[0][1],mu.y),this.extent[0][2]=Math.min(this.extent[0][2],mu.z),this.extent[1][0]=Math.max(this.extent[1][0],mu.x),this.extent[1][1]=Math.max(this.extent[1][1],mu.y),this.extent[1][2]=Math.max(this.extent[1][2],mu.z);let Ju=mu.x-Vl.x,cp=mu.y-Vl.y,hp=mu.z-Vl.z;this.maxdepth=Math.sqrt(Ju*Ju+cp*cp+hp*hp),this.minunit=Math.min(Math.min(rp.x,rp.y),rp.z),this.texmatrix=new d.Matrix4().identity().scale({x:rt.size.x,y:rt.size.y,z:rt.size.z}),this.texmatrix=this.texmatrix.multiplyMatrices(rt.matrix,this.texmatrix),this.texmatrix=this.texmatrix.getInverse(this.texmatrix)}else{this.texmatrix=new d.Matrix4().identity();let Vl=rt.unit.x*rt.size.x,mu=rt.unit.y*rt.size.y,rp=rt.unit.z*rt.size.z;this.texmatrix.makeTranslation(-rt.origin.x/Vl,-rt.origin.y/mu,-rt.origin.z/rp),this.texmatrix.scale({x:1/Vl,y:1/mu,z:1/rp}),this.minunit=Math.min(Math.min(rt.unit.x,rt.unit.y),rt.unit.z),this.extent=[[rt.origin.x,rt.origin.y,rt.origin.z],[rt.origin.x+Vl,rt.origin.y+mu,rt.origin.z+rp]],this.maxdepth=Math.sqrt(Vl*Vl+mu*mu+rp*rp)}var Ul=new _.GLShape({});if(Ul.addBox({corner:{x:this.extent[0][0],y:this.extent[0][1],z:this.extent[0][2]},dimensions:{w:this.extent[1][0]-this.extent[0][0],h:this.extent[1][1]-this.extent[0][1],d:this.extent[1][2]-this.extent[0][2]}}),this.geo=Ul.finalize(),this.boundingSphere.center=new d.Vector3((this.extent[0][0]+this.extent[1][0])/2,(this.extent[0][1]+this.extent[1][1])/2,(this.extent[0][2]+this.extent[1][2])/2),this.boundingSphere.radius=this.maxdepth/2,nt.coords===void 0&&nt.selection!==void 0&&(st?nt.coords=st.selectedAtoms(nt.selection):console.log("Need to provide viewer to volumetric renderer if selection specified.")),nt.coords!==void 0&&nt.seldist!==void 0){let Vl=new Uint8Array(rt.data.length),mu=nt.seldist,rp=mu*mu;for(let Ju=0,cp=nt.coords.length;Ju<cp;Ju++){let hp=nt.coords[Ju],yp=hp.x-mu,xp=hp.y-mu,fp=hp.z-mu,_p=hp.x+mu,ip=hp.y+mu,gp=hp.z+mu;if(rt.getIndex(yp,xp,fp)>=0||rt.getIndex(_p,ip,gp)>=0)for(let Dp=yp;Dp<_p;Dp+=this.minunit)for(let Fp=xp;Fp<ip;Fp+=this.minunit)for(let n0=fp;n0<gp;n0+=this.minunit){let S0=rt.getIndex(Dp,Fp,n0);S0>=0&&!Vl[S0]&&(Dp-hp.x)*(Dp-hp.x)+(Fp-hp.y)*(Fp-hp.y)+(n0-hp.z)*(n0-hp.z)<rp&&(Vl[S0]=1)}}for(let Ju=0,cp=rt.data.length;Ju<cp;Ju++)Vl[Ju]==0&&(rt.data[Ju]=1/0)}this.data=rt}globj(rt){if(this.renderedShapeObj&&(rt.remove(this.renderedShapeObj),this.renderedShapeObj=null),!this.hidden){this.shapeObj=new g.Object3D;var nt=null,st=new g.Texture(this.data,!0),jt=new g.Texture(this.transferfunctionbuffer,!1);st.needsUpdate=!0,jt.needsUpdate=!0,jt.flipY=!1,nt=new g.VolumetricMaterial({transferfn:jt,transfermin:this.min,transfermax:this.max,map:st,extent:this.extent,maxdepth:this.maxdepth,texmatrix:this.texmatrix,unit:this.minunit,subsamples:this.subsamples});var wl=new g.Mesh(this.geo,nt);this.shapeObj.add(wl),this.renderedShapeObj=this.shapeObj.clone(),rt.add(this.renderedShapeObj)}}removegl(rt){this.renderedShapeObj&&(this.renderedShapeObj.geometry!==void 0&&this.renderedShapeObj.geometry.dispose(),this.renderedShapeObj.material!==void 0&&this.renderedShapeObj.material.dispose(),rt.remove(this.renderedShapeObj),this.renderedShapeObj=null),this.shapeObj=null}get position(){return this.boundingSphere.center}get x(){return this.boundingSphere.center.x}get y(){return this.boundingSphere.center.y}get z(){return this.boundingSphere.center.z}}},"./src/WebGL/Camera.ts":(e,o,a)=>{a.r(o),a.d(o,{Camera:()=>g});var c=a("./src/WebGL/core/index.ts"),d=a("./src/WebGL/math/index.ts");class g extends c.Object3D{constructor(_=50,$=1,j=.1,rt=2e3,nt=!1){super(),this.projectionMatrix=new d.Matrix4,this.projectionMatrixInverse=new d.Matrix4,this.matrixWorldInverse=new d.Matrix4,this.fov=_,this.aspect=$,this.near=j,this.far=rt;var st=this.position.z;this.right=st*Math.tan(Math.PI/180*_),this.left=-this.right,this.top=this.right/this.aspect,this.bottom=-this.top,this.ortho=!!nt,this.updateProjectionMatrix()}lookAt(_){this.matrix.lookAt(this.position,_,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!1&&this.rotation instanceof d.Vector3?this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder):console.error("Unimplemented math operation."))}updateProjectionMatrix(){this.ortho?this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far):this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)}}},"./src/WebGL/Fog.ts":(e,o,a)=>{a.r(o),a.d(o,{Fog:()=>d});var c=a("./src/colors.ts");class d{constructor(b,_=1,$=1e3){this.name="",this.color=new c.Color(b),this.near=_,this.far=$}clone(){return new d(this.color.getHex(),this.near,this.far)}}},"./src/WebGL/Renderer.ts":(e,o,a)=>{a.r(o),a.d(o,{Renderer:()=>Ft});var c=a("./src/WebGL/Camera.ts"),d=a("./src/WebGL/constants/Sides.ts"),g=a("./src/WebGL/constants/TextureConstants.ts"),b=a("./src/WebGL/core/index.ts"),_=a("./src/colors.ts"),$=a("./src/WebGL/materials/index.ts"),j=a("./src/WebGL/math/index.ts"),rt=a("./src/WebGL/objects/index.ts"),nt=a("./src/WebGL/shaders/index.ts"),st=a("./src/WebGL/SpritePlugin.ts"),jt=null,wl=null;class Ft{constructor(ot){this.context=null,this.devicePixelRatio=1,this.sortObjects=!0,this.autoUpdateObjects=!0,this.autoUpdateScene=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this._offscreen=null,this._bitmap=null,this._programs=[],this._programs_counter=0,this._webglversion=1,this._currentProgram=null,this._currentMaterialId=-1,this._currentGeometryGroupHash=null,this._currentCamera=null,this._geometryGroupCounter=0,this._oldDoubleSided=-1,this._oldFlipSided=-1,this._oldDepthTest=-1,this._oldDepthWrite=-1,this._oldPolygonOffset=null,this._oldLineWidth=null,this._viewportWidth=0,this._viewportHeight=0,this._currentWidth=0,this._currentHeight=0,this._enabledAttributes={},this._vector3=new j.Vector3,this._worldInverse=new j.Matrix4,this._projInverse=new j.Matrix4,this._textureMatrix=new j.Matrix4,this._fullProjModelMatrix=new j.Matrix4,this._fullProjModelMatrixInv=new j.Matrix4,this._direction=new j.Vector3,this._lightsNeedUpdate=!0,this._lights={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},this.sprites=new st.SpritePlugin,this._screenshader=null,this._AOshader=null,this._blurshader=null,this._vertexattribpos=null,this._aovertexattribpos=null,this._blurvertexattribpos=null,this._screenQuadVBO=null,this._fb=null,this._targetTexture=null,this._depthTexture=null,this._shadingTexture=null,this._scratchTexture=null,this._upscale=null,this._AOstrength=1,this._AOradius=5,this.SHADE_TEXTURE=3,ot=ot||{},this.row=ot.row,this.col=ot.col,this.rows=ot.rows,this.cols=ot.cols,this._canvas=ot.canvas!==void 0?ot.canvas:document.createElement("canvas"),this._precision=ot.precision!==void 0?ot.precision:"highp",this._alpha=ot.alpha!==void 0?ot.alpha:!0,this._premultipliedAlpha=ot.premultipliedAlpha!==void 0?ot.premultipliedAlpha:!0,this._antialias=ot.antialias!==void 0?ot.antialias:!1,this._upscale=ot.upscale!==void 0?ot.upscale:this._antialias,this._preserveDrawingBuffer=ot.preserveDrawingBuffer!==void 0?ot.preserveDrawingBuffer:!1,this._clearColor=ot.clearColor!==void 0?new _.Color(ot.clearColor):new _.Color(0),this._clearAlpha=ot.clearAlpha!==void 0?ot.clearAlpha:0,this._outlineMaterial=new $.MeshOutlineMaterial(ot.outline),this._outlineSphereImposterMaterial=new $.SphereImposterOutlineMaterial(ot.outline),this._outlineStickImposterMaterial=new $.StickImposterOutlineMaterial(ot.outline),this._outlineEnabled=!!ot.outline,this._AOEnabled=!!ot.ambientOcclusion,ot.ambientOcclusion&&typeof ot.ambientOcclusion.strength<"u"&&(this._AOstrength=parseFloat(ot.ambientOcclusion.strength)),this._AOstrength==0&&(this._AOEnabled=!1),ot.ambientOcclusion&&typeof ot.ambientOcclusion.radius<"u"&&(this._AOradius=parseFloat(ot.ambientOcclusion.radius)),this.domElement=this._canvas,this._canvas.id=ot.id,!(ot.containerWidth==0||ot.containerHeight==0)&&(this.initGL(),this.setDefaultGLState(),this.context=this._gl,this.isWebGL1()?this._extInstanced=this._gl.getExtension("ANGLE_instanced_arrays"):this._extInstanced={vertexAttribDivisorANGLE:this._gl.vertexAttribDivisor.bind(this._gl),drawElementsInstancedANGLE:this._gl.drawElementsInstanced.bind(this._gl)},this._extFragDepth=this._gl.getExtension("EXT_frag_depth"),this._extFloatLinear=this._gl.getExtension("OES_texture_float_linear"),this._extColorBufferFloat=this._gl.getExtension("EXT_color_buffer_float"),this.sprites.init(this))}supportedExtensions(){return{supportsAIA:!!this._extInstanced,supportsImposters:!!this._extFragDepth||!this.isWebGL1(),regen:!1}}getContext(){return this._gl}getCanvas(){return this._canvas}isLost(){return this._gl==null||this._gl.isContextLost()}getPrecision(){return this._precision}setClearColorHex(ot,Ln){this._clearColor.setHex(ot),this._clearAlpha=Ln,this.isLost()||this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}enableOutline(ot){this._outlineMaterial=new $.MeshOutlineMaterial(ot),this._outlineSphereImposterMaterial=new $.SphereImposterOutlineMaterial(ot),this._outlineStickImposterMaterial=new $.StickImposterOutlineMaterial(ot),this._outlineEnabled=!0}disableOutline(){this._outlineEnabled=!1}enableAmbientOcclusion(ot){ot&&(ot.strength&&(this._AOstrength=ot.strength),ot.scale&&(this._AOradius=ot.scale)),this._AOEnabled=this._AOstrength>0}disableAmbientOcclusion(){this._AOEnabled=!1}setViewport(){if(this._offscreen&&(this._offscreen.width=this._canvas.width,this._offscreen.height=this._canvas.height),this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null&&!this.isLost()){var ot=this._gl.drawingBufferWidth/this.cols,Ln=this._gl.drawingBufferHeight/this.rows;this._viewportWidth=ot,this._viewportHeight=Ln,this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(ot*this.col,Ln*this.row,ot,Ln),this._gl.viewport(ot*this.col,Ln*this.row,ot,Ln)}}setSize(ot,Ln){this.devicePixelRatio=window.devicePixelRatio!==void 0?window.devicePixelRatio:1,this._upscale&&this.devicePixelRatio<2&&(this.devicePixelRatio=2),this._canvas.width=ot*this.devicePixelRatio,this._canvas.height=Ln*this.devicePixelRatio,this._canvas.style.width=ot+"px",this._canvas.style.height=Ln+"px",this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null?(this.isLost()||(this._viewportWidth=this._gl.drawingBufferWidth/this.cols,this._viewportHeight=this._gl.drawingBufferHeight/this.rows),this.setViewport()):(this._viewportWidth=this._canvas.width,this._viewportHeight=this._canvas.height,this.isLost()||this._gl.viewport(0,0,this._gl.drawingBufferWidth,this._gl.drawingBufferHeight)),this.initFrameBuffer()}clear(ot,Ln,Cl){var Tl=0;(ot===void 0||ot)&&(Tl|=this._gl.COLOR_BUFFER_BIT),(Ln===void 0||Ln)&&(Tl|=this._gl.DEPTH_BUFFER_BIT),(Cl===void 0||Cl)&&(Tl|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(Tl)}setMaterialFaces(ot,Ln){var Cl=ot.side===d.DoubleSide,Tl=ot.side===d.BackSide;ot.imposter||(Tl=Ln?!Tl:Tl),this._oldDoubleSided!==Cl&&(Cl?this._gl.disable(this._gl.CULL_FACE):this._gl.enable(this._gl.CULL_FACE),this._oldDoubleSided=Cl),this._oldFlipSided!==Tl&&(Tl?this._gl.frontFace(this._gl.CW):this._gl.frontFace(this._gl.CCW),this._oldFlipSided=Tl),this._gl.cullFace(this._gl.BACK)}setDepthTest(ot){this._oldDepthTest!==ot&&(ot?this._gl.enable(this._gl.DEPTH_TEST):this._gl.disable(this._gl.DEPTH_TEST),this._oldDepthTest=ot)}setDepthWrite(ot){this._oldDepthWrite!==ot&&(this._gl.depthMask(ot),this._oldDepthWrite=ot)}setBlending(ot){ot?(this._gl.enable(this._gl.BLEND),this._gl.blendEquationSeparate(this._gl.FUNC_ADD,this._gl.FUNC_ADD),this._gl.blendFuncSeparate(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA)):this._gl.disable(this._gl.BLEND)}initMaterial(ot,Ln,Cl,Tl){ot.addEventListener("dispose",this.onMaterialDispose.bind(this));var zl,In;if(In=ot.shaderID,In){var Ml=nt.ShaderLib[In];ot.vertexShader=Ml.vertexShader,ot.fragmentShader=Ml.fragmentShader,ot.uniforms=nt.ShaderUtils.clone(Ml.uniforms),ot.shaded&&ot.makeShaded(this.SHADE_TEXTURE)}zl={wireframe:ot.wireframe,fragdepth:ot.imposter,volumetric:ot.volumetric,shaded:ot.shaded},ot.program=this.buildProgram(ot.fragmentShader,ot.vertexShader,ot.uniforms,zl)}renderBuffer(ot,Ln,Cl,Tl,zl,In){if(Tl.visible){var Ml,Dl;if(Ml=this.setProgram(ot,Ln,Cl,Tl,In,this),!!Ml){Dl=Ml.attributes;var Ul=!1,Vl=Tl.wireframe?1:0,mu=zl.id*16777215+Ml.id*2+Vl;mu!==this._currentGeometryGroupHash&&(this._currentGeometryGroupHash=mu,Ul=!0),Ul&&(this.disableAttributes(),Dl.position>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,zl.__webglVertexBuffer),this.enableAttribute(Dl.position),this._gl.vertexAttribPointer(Dl.position,3,this._gl.FLOAT,!1,0,0)),Dl.color>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,zl.__webglColorBuffer),this.enableAttribute(Dl.color),this._gl.vertexAttribPointer(Dl.color,3,this._gl.FLOAT,!1,0,0)),Dl.normal>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,zl.__webglNormalBuffer),this.enableAttribute(Dl.normal),this._gl.vertexAttribPointer(Dl.normal,3,this._gl.FLOAT,!1,0,0)),Dl.offset>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,zl.__webglOffsetBuffer),this.enableAttribute(Dl.offset),this._gl.vertexAttribPointer(Dl.offset,3,this._gl.FLOAT,!1,0,0)),Dl.radius>=0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,zl.__webglRadiusBuffer),this.enableAttribute(Dl.radius),this._gl.vertexAttribPointer(Dl.radius,1,this._gl.FLOAT,!1,0,0)));var rp,Ju;if(In instanceof rt.Mesh){if(Tl.shaderID==="instanced"){var cp=Tl.sphere.geometryGroups[0];Ul&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,zl.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,cp.vertexArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,zl.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,cp.normalArray,this._gl.STATIC_DRAW),this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,zl.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,cp.faceArray,this._gl.STATIC_DRAW)),rp=cp.faceidx,this._extInstanced.vertexAttribDivisorANGLE(Dl.offset,1),this._extInstanced.vertexAttribDivisorANGLE(Dl.radius,1),this._extInstanced.vertexAttribDivisorANGLE(Dl.color,1),this._extInstanced.drawElementsInstancedANGLE(this._gl.TRIANGLES,rp,this._gl.UNSIGNED_SHORT,0,zl.radiusArray.length),this._extInstanced.vertexAttribDivisorANGLE(Dl.offset,0),this._extInstanced.vertexAttribDivisorANGLE(Dl.radius,0),this._extInstanced.vertexAttribDivisorANGLE(Dl.color,0)}else Tl.wireframe?(Ju=zl.lineidx,this.setLineWidth(Tl.wireframeLinewidth),Ul&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,zl.__webglLineBuffer),this._gl.drawElements(this._gl.LINES,Ju,this._gl.UNSIGNED_SHORT,0)):(rp=zl.faceidx,Ul&&this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,zl.__webglFaceBuffer),this._gl.drawElements(this._gl.TRIANGLES,rp,this._gl.UNSIGNED_SHORT,0));this.info.render.calls++,this.info.render.vertices+=rp,this.info.render.faces+=rp/3}else In instanceof rt.Line&&(Ju=zl.vertices,this.setLineWidth(Tl.linewidth),this._gl.drawArrays(this._gl.LINES,0,Ju),this.info.render.calls++)}}}clearShading(){this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}setShading(ot,Ln,Cl){let Tl=ot.__lights,zl=ot.fog,In=[];for(let Ul=0,Vl=ot.__webglObjects.length;Ul<Vl;Ul++){let mu=ot.__webglObjects[Ul];mu.render&&mu[Cl]&&In.push(mu)}if(In.length==0)return;this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,null,0),this.renderObjects(ot.__webglObjects,!0,Cl+"Depth",Ln,Tl,zl,!1),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._scratchTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._AOshader),this._currentProgram=this._AOshader,this.setDepthTest(-1),this.setDepthWrite(-1);let Ml=this._AOshader.uniforms;this._gl.uniform1f(Ml.total_strength,this._AOstrength),this._gl.uniform1f(Ml.radius,this._AOradius),this._fullProjModelMatrix=new j.Matrix4,this._fullProjModelMatrixInv=new j.Matrix4;let Dl=In[0].object;this._fullProjModelMatrix.multiplyMatrices(Ln.projectionMatrix,Dl._modelViewMatrix),this._fullProjModelMatrixInv.getInverse(this._fullProjModelMatrix),this._gl.uniformMatrix4fv(Ml.projectionMatrix,!1,this._fullProjModelMatrix.elements),this._gl.uniformMatrix4fv(Ml.projinv,!1,this._fullProjModelMatrixInv.elements),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._aovertexattribpos),this._gl.vertexAttribPointer(this._aovertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this.clear(!1,!0,!1),this._gl.useProgram(this._blurshader),this._currentProgram=this._blurshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._blurvertexattribpos),this._gl.vertexAttribPointer(this._blurvertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}render(ot,Ln){if(!(Ln instanceof c.Camera)){console.error("Renderer.render: camera is not an instance of Camera.");return}var Cl,Tl,zl,In,Ml,Dl=ot.__lights,Ul=ot.fog;if(this._currentMaterialId=-1,this._lightsNeedUpdate=!0,this.autoUpdateScene&&ot.updateMatrixWorld(),Ln.parent===void 0&&Ln.updateMatrixWorld(),Ln.matrixWorldInverse.getInverse(Ln.matrixWorld),this.isLost())return;this.autoUpdateObjects&&this.initWebGLObjects(ot),this.info.render.calls=0,this.info.render.vertices=0,this.info.render.faces=0,this.info.render.points=0,this._currentWidth=this._viewportWidth,this._currentHeight=this._viewportHeight,this.setViewport(),this.setFrameBuffer(),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha),this.clear(!0,!0,!0),Ml=ot.__webglObjects;let Vl=!1,mu=this._AOEnabled;for(Cl=0,Tl=Ml.length;Cl<Tl;Cl++)zl=Ml[Cl],In=zl.object,zl.render=!1,In.visible&&(this.setupMatrices(In,Ln),this.unrollBufferMaterial(zl),zl.render=!0,zl.volumetric&&(Vl=!0),zl.hasAO&&(mu=!0));if(this.setBlending(!1),mu&&this.setShading(ot,Ln,"opaque"),this.renderObjects(ot.__webglObjects,!0,"opaque",Ln,Dl,Ul,!1),mu&&this.clearShading(),this.renderSprites(ot,Ln,!1),this.renderObjects(ot.__webglObjects,!0,"transparentDepth",Ln,Dl,Ul,!0),this.renderObjects(ot.__webglObjects,!1,"transparent",Ln,Dl,Ul,!0),Vl&&this._fb&&(this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,null,0),this.renderObjects(ot.__webglObjects,!1,"volumetric",Ln,Dl,Ul,!0)),this.renderFrameBuffertoScreen(),this.setDepthTest(!0),this.setDepthWrite(!0),this.renderSprites(ot,Ln,!0),this._bitmap){const rp=this._offscreen.transferToImageBitmap();this._bitmap.transferFromImageBitmap(rp),rp.close()}}setFrameBuffer(){if(this.isWebGL1()||!this._fb)return;let ot=this._viewportWidth,Ln=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,ot,Ln),this._gl.viewport(0,0,ot,Ln),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.RGBA,ot,Ln,0,this._gl.RGBA,this._gl.UNSIGNED_BYTE,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,ot,Ln,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._shadingTexture&&(this._gl.deleteTexture(this._shadingTexture),this._shadingTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,ot,Ln,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.deleteTexture(this._scratchTexture),this._scratchTexture=this._gl.createTexture(),this._gl.bindTexture(this._gl.TEXTURE_2D,this._scratchTexture),this._gl.texImage2D(this._gl.TEXTURE_2D,0,this._gl.DEPTH_COMPONENT32F,ot,Ln,0,this._gl.DEPTH_COMPONENT,this._gl.FLOAT,null),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE)),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,this._fb),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.COLOR_ATTACHMENT0,this._gl.TEXTURE_2D,this._targetTexture,0),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._shadingTexture,0),this._gl.clearDepth(1),this._gl.clear(this._gl.DEPTH_BUFFER_BIT),this._gl.framebufferTexture2D(this._gl.FRAMEBUFFER,this._gl.DEPTH_ATTACHMENT,this._gl.TEXTURE_2D,this._depthTexture,0)}initFrameBuffer(){if(this.isWebGL1())return;let ot=this._viewportWidth,Ln=this._viewportHeight;this._gl.enable(this._gl.SCISSOR_TEST),this._gl.scissor(0,0,ot,Ln),this._gl.viewport(0,0,ot,Ln),this._targetTexture=this._gl.createTexture(),this._depthTexture=this._gl.createTexture(),this._shadingTexture=this._gl.createTexture(),this._scratchTexture=this._gl.createTexture(),this._fb=this._gl.createFramebuffer();var Cl=this._antialias?nt.ShaderLib.screenaa:nt.ShaderLib.screen;this._screenshader=this.buildProgram(Cl.fragmentShader,Cl.vertexShader,Cl.uniforms,{}),this._vertexattribpos=this._gl.getAttribLocation(this._screenshader,"vertexPosition");var Tl=[1,1,-1,1,-1,-1,-1,-1,1,-1,1,1];this._screenQuadVBO=this._gl.createBuffer(),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(Tl),this._gl.STATIC_DRAW);let zl=nt.ShaderLib.ssao;this._AOshader=this.buildProgram(zl.fragmentShader,zl.vertexShader,zl.uniforms,{}),this._aovertexattribpos=this._gl.getAttribLocation(this._AOshader,"vertexPosition");let In=nt.ShaderLib.blur;this._blurshader=this.buildProgram(In.fragmentShader,In.vertexShader,In.uniforms,{}),this._blurvertexattribpos=this._gl.getAttribLocation(this._blurshader,"vertexPosition")}renderFrameBuffertoScreen(){this.isWebGL1()||this._fb===null||(this.setViewport(),this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,null),this._gl.clear(this._gl.COLOR_BUFFER_BIT|this._gl.DEPTH_BUFFER_BIT),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.useProgram(this._screenshader),this._currentProgram=this._screenshader,this.setDepthTest(-1),this.setDepthWrite(-1),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,this._screenQuadVBO),this._gl.enableVertexAttribArray(this._vertexattribpos),this._gl.vertexAttribPointer(this._vertexattribpos,2,this._gl.FLOAT,!1,0,0),this._gl.activeTexture(this._gl.TEXTURE0),this._gl.bindTexture(this._gl.TEXTURE_2D,this._targetTexture),this._gl.drawArrays(this._gl.TRIANGLES,0,6))}initWebGLObjects(ot){if(ot.__webglObjects||(ot.__webglObjects=[],ot.__webglObjectsImmediate=[],ot.__webglSprites=[],ot.__webglFlares=[]),ot.__objectsAdded.length){for(;ot.__objectsAdded.length;)this.addObject(ot.__objectsAdded[0],ot),ot.__objectsAdded.splice(0,1);this._currentGeometryGroupHash=-1}for(;ot.__objectsRemoved.length;)this.removeObject(ot.__objectsRemoved[0],ot),ot.__objectsRemoved.splice(0,1);for(var Ln=0,Cl=ot.__webglObjects.length;Ln<Cl;Ln++)this.updateObject(ot.__webglObjects[Ln].object)}getYRatio(){return this.rows!==void 0&&this.row!==void 0?this.rows:1}getXRatio(){return this.cols!==void 0&&this.col!==void 0?this.cols:1}getAspect(ot,Ln){(ot==null||Ln==null)&&(ot=this._canvas.width,Ln=this._canvas.height);var Cl=ot/Ln;if(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null){var Tl=ot/this.cols,zl=Ln/this.rows;Cl=Tl/zl}return Cl}setTexture(ot,Ln,Cl){if(ot.needsUpdate){ot.__webglInit||(ot.__webglInit=!0,ot.addEventListener("dispose",this.onTextureDispose.bind(this)),ot.__webglTexture=this._gl.createTexture(),this.info.memory.textures++),this._gl.activeTexture(this._gl.TEXTURE0+Ln);var Tl=Cl?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D;this._gl.bindTexture(Tl,ot.__webglTexture),this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,ot.flipY),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ot.premultiplyAlpha),this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,ot.unpackAlignment),this._gl.pixelStorei(this._gl.PACK_ALIGNMENT,ot.unpackAlignment);var zl=this.paramToGL(ot.format),In=this.paramToGL(ot.type);if(Cl)this.setTextureParameters(this._gl.TEXTURE_3D,ot),this._gl.texImage3D(this._gl.TEXTURE_3D,0,this._gl.R32F,ot.image.size.z,ot.image.size.y,ot.image.size.x,0,this._gl.RED,this._gl.FLOAT,ot.image.data);else{var Ml=ot.image,Dl=Ml.width,Ul=Ml.height;typeof Dl>"u"&&(Dl=Ml.length,zl==this._gl.RGBA&&(Dl/=4),Ul=1),this.setTextureParameters(this._gl.TEXTURE_2D,ot),this.isWebGL1()?this._gl.texImage2D(this._gl.TEXTURE_2D,0,zl,zl,In,ot.image):this._gl.texImage2D(this._gl.TEXTURE_2D,0,zl,Dl,Ul,0,zl,In,ot.image)}ot.needsUpdate=!1,ot.onUpdate&&ot.onUpdate()}else this._gl.activeTexture(this._gl.TEXTURE0+Ln),Cl?this._gl.bindTexture(this._gl.TEXTURE_3D,ot.__webglTexture):this._gl.bindTexture(this._gl.TEXTURE_2D,ot.__webglTexture)}supportsVolumetric(){return!this.isWebGL1()}enableAttribute(ot){this._enabledAttributes[ot]||(this._gl.enableVertexAttribArray(ot),this._enabledAttributes[ot]=!0)}disableAttributes(){for(let ot in this._enabledAttributes)this._enabledAttributes[ot]&&(this._gl.disableVertexAttribArray(ot),this._enabledAttributes[ot]=!1)}setPolygonOffset(ot,Ln,Cl){this._oldPolygonOffset!==ot&&(ot?this._gl.enable(this._gl.POLYGON_OFFSET_FILL):this._gl.disable(this._gl.POLYGON_OFFSET_FILL))}setLineWidth(ot){ot!==this._oldLineWidth&&(this._gl.lineWidth(ot),this._oldLineWidth=ot)}deallocateGeometry(ot){if(ot.__webglInit=void 0,ot.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(ot.__webglVertexBuffer),ot.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(ot.__webglColorBuffer),ot.geometryGroups!==void 0)for(var Ln=0,Cl=ot.groups;Ln<Cl;Ln++){var Tl=ot.geometryGroups[Ln];Tl.__webglVertexBuffer!==void 0&&this._gl.deleteBuffer(Tl.__webglVertexBuffer),Tl.__webglColorBuffer!==void 0&&this._gl.deleteBuffer(Tl.__webglColorBuffer),Tl.__webglNormalBuffer!==void 0&&this._gl.deleteBuffer(Tl.__webglNormalBuffer),Tl.__webglFaceBuffer!==void 0&&this._gl.deleteBuffer(Tl.__webglFaceBuffer),Tl.__webglLineBuffer!==void 0&&this._gl.deleteBuffer(Tl.__webglLineBuffer)}}deallocateMaterial(ot){var Ln=ot.program;if(Ln!==void 0){ot.program=void 0;var Cl,Tl,zl,In=!1;for(Cl=0,Tl=this._programs.length;Cl<Tl;Cl++)if(zl=this._programs[Cl],zl.program===Ln){zl.usedTimes--,zl.usedTimes===0&&(In=!0);break}if(In===!0){var Ml=[];for(Cl=0,Tl=this._programs.length;Cl<Tl;Cl++)zl=this._programs[Cl],zl.program!==Ln&&Ml.push(zl);this._programs=Ml,this._gl.deleteProgram(Ln),this.info.memory.programs--}}}deallocateTexture(ot){if(ot.image&&ot.image.__webglTextureCube)this._gl.deleteTexture(ot.image.__webglTextureCube);else{if(!ot.__webglInit)return;ot.__webglInit=!1,this._gl.deleteTexture(ot.__webglTexture)}}onGeometryDispose(ot){var Ln=ot.target;Ln.removeEventListener("dispose",this.onGeometryDispose),this.deallocateGeometry(Ln),this.info.memory.geometries--}onTextureDispose(ot){var Ln=ot.target;Ln.removeEventListener("dispose",this.onTextureDispose),this.deallocateTexture(Ln),this.info.memory.textures--}onMaterialDispose(ot){var Ln=ot.target;Ln.removeEventListener("dispose",this.onMaterialDispose),this.deallocateMaterial(Ln)}getShader(ot,Ln){var Cl;return!this.isWebGL1()&&!Ln.startsWith("#version")&&(Ln=Ln.replace(/gl_FragDepthEXT/g,"gl_FragDepth"),ot=="fragment"?Ln=Ln.replace(/varying/g,"in"):Ln=Ln.replace(/varying/g,"out"),Ln=Ln.replace(/attribute/g,"in"),Ln=Ln.replace(/texture2D/g,"texture"),Ln=Ln.replace(/\/\/DEFINEFRAGCOLOR/g,"out vec4 glFragColor;"),Ln=Ln.replace(/gl_FragColor/g,"glFragColor"),Ln=`#version 300 es
`+Ln),ot==="fragment"?Cl=this._gl.createShader(this._gl.FRAGMENT_SHADER):ot==="vertex"&&(Cl=this._gl.createShader(this._gl.VERTEX_SHADER)),Cl==null?null:(this._gl.shaderSource(Cl,Ln),this._gl.compileShader(Cl),this._gl.getShaderParameter(Cl,this._gl.COMPILE_STATUS)?Cl:(console.error(this._gl.getShaderInfoLog(Cl)),console.error("could not initialize shader"),null))}buildProgram(ot,Ln,Cl,Tl){var zl,In,Ml,Dl,Ul=[];Ul.push(ot),Ul.push(Ln);for(zl in Tl)Ul.push(zl),Ul.push(Tl[zl]);for(Dl=Ul.join(),zl=0,In=this._programs.length;zl<In;zl++){var Vl=this._programs[zl];if(Vl.code===Dl)return Vl.usedTimes++,Vl.program}if(this.isWebGL1()&&Tl.volumetric)throw new Error("Volumetric rendering requires webgl2 which is not supported by your hardware.");if(Ml=this._gl.createProgram(),Ml==null)return null;var mu=this._precision,rp="precision "+mu+" float;",Ju=[Tl.volumetric?"#version 300 es":"",rp].join(`
`),cp=[Tl.volumetric?"#version 300 es":"",Tl.fragdepth&&this.isWebGL1()?"#extension GL_EXT_frag_depth: enable":"",Tl.shaded?"#define SHADED 1":"",Tl.wireframe?"#define WIREFRAME 1":"",rp].join(`
`),hp=this.getShader("fragment",cp+ot),yp=this.getShader("vertex",Ju+Ln);yp!=null&&this._gl.attachShader(Ml,yp),hp!=null&&this._gl.attachShader(Ml,hp),this._gl.linkProgram(Ml),this._gl.getProgramParameter(Ml,this._gl.LINK_STATUS)||console.error("Could not initialize shader"),Ml.uniforms={},Ml.attributes={};var xp,fp,_p;xp=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","vWidth","vHeight"];for(fp in Cl)xp.push(fp);for(_p=0;_p<xp.length;_p++){var ip=xp[_p];Ml.uniforms[ip]=this._gl.getUniformLocation(Ml,ip)}for(xp=["position","normal","color","lineDistance","offset","radius"],_p=0;_p<xp.length;_p++){var gp=xp[_p];Ml.attributes[gp]=this._gl.getAttribLocation(Ml,gp)}return Ml.id=this._programs_counter++,this._programs.push({program:Ml,code:Dl,usedTimes:1}),this.info.memory.programs=this._programs.length,Ml}setProgram(ot,Ln,Cl,Tl,zl,In){if(Tl.needsUpdate&&(Tl.program&&this.deallocateMaterial(Tl),this.initMaterial(Tl,Ln,Cl,zl),Tl.needsUpdate=!1),Tl.program==null)return null;var Ml=!1,Dl=Tl.program,Ul=Dl.uniforms,Vl=Tl.uniforms;if(Dl!=this._currentProgram&&(this._gl.useProgram(Dl),this._currentProgram=Dl,Ml=!0),Tl.id!=this._currentMaterialId&&(this._currentMaterialId=Tl.id,Ml=!0),ot!=this._currentCamera&&(this._currentCamera=ot,Ml=!0),Ul.projectionMatrix&&this._gl.uniformMatrix4fv(Ul.projectionMatrix,!1,ot.projectionMatrix.elements),Ul.modelViewMatrix&&this._gl.uniformMatrix4fv(Ul.modelViewMatrix,!1,zl._modelViewMatrix.elements),Ul.normalMatrix&&this._gl.uniformMatrix3fv(Ul.normalMatrix,!1,zl._normalMatrix.elements),Ul.projinv&&(this._projInverse.getInverse(ot.projectionMatrix),this._gl.uniformMatrix4fv(Ul.projinv,!1,this._projInverse.elements)),Ul.viewMatrix&&this._gl.uniformMatrix4fv(Ul.viewMatrix,!1,ot.matrixWorldInverse.elements),Ul.vWidth&&this._gl.uniform1f(Ul.vWidth,this._viewportWidth),Ul.vHeight&&this._gl.uniform1f(Ul.vHeight,this._viewportHeight),Ml){if(Vl.fogColor.value=Cl.color,Vl.fogNear.value=Cl.near,Vl.fogFar.value=Cl.far,Tl.shaderID.startsWith("lambert")||Tl.shaderID==="instanced"||Tl.shaderID.endsWith("imposter"))this._lightsNeedUpdate&&(this.setupLights(Dl,Ln),this._lightsNeedUpdate=!1),Vl.directionalLightColor.value=this._lights.directional.colors,Vl.directionalLightDirection.value=this._lights.directional.positions;else if(Tl.shaderID.endsWith("outline"))Vl.outlineColor.value=Tl.outlineColor,Vl.outlineWidth.value=Tl.outlineWidth,Vl.outlinePushback.value=Tl.outlinePushback,Vl.outlineMaxPixels.value=Tl.outlineMaxPixels*this.devicePixelRatio;else if(Tl.shaderID==="volumetric"){zl._modelViewMatrix.getScale(this._direction),this._worldInverse.getInverse(zl._modelViewMatrix),this._projInverse.getInverse(ot.projectionMatrix),this._textureMatrix.multiplyMatrices(zl.material.texmatrix,this._worldInverse),this._gl.uniformMatrix4fv(Ul.textmat,!1,this._textureMatrix.elements),this._gl.uniformMatrix4fv(Ul.projinv,!1,this._projInverse.elements);let mu=Math.min(Math.min(this._direction.x,this._direction.y),this._direction.z);Vl.step.value=zl.material.unit*mu,Vl.maxdepth.value=zl.material.maxdepth*mu,Vl.transfermax.value=zl.material.transfermax,Vl.transfermin.value=zl.material.transfermin,Vl.subsamples.value=zl.material.subsamples,In.setTexture(zl.material.transferfn,4,!1),In.setTexture(zl.material.map,3,!0),this._gl.activeTexture(this._gl.TEXTURE5),this._gl.bindTexture(this._gl.TEXTURE_2D,this._depthTexture)}Vl.opacity.value=Tl.opacity,this.loadMaterialUniforms(Ul,Vl)}return Vl.shading&&(Vl.shading.value==3?(this._gl.activeTexture(this._gl.TEXTURE0+this.SHADE_TEXTURE),this._gl.bindTexture(this._gl.TEXTURE_2D,this._shadingTexture)):console.error("Invalid shading textures.")),Dl}loadMaterialUniforms(ot,Ln){var Cl,Tl,zl,In;for(Cl in Ln)ot[Cl]&&(Tl=Ln[Cl].type,zl=Ln[Cl].value,In=ot[Cl],Tl==="f"?this._gl.uniform1f(In,zl):Tl==="i"?this._gl.uniform1i(In,zl):Tl==="fv"?this._gl.uniform3fv(In,zl):Tl==="c"?this._gl.uniform3f(In,zl.r,zl.g,zl.b):Tl==="f4"&&this._gl.uniform4f(In,zl[0],zl[1],zl[2],zl[3]))}addObject(ot,Ln){var Cl,Tl,zl,In;if(!ot.__webglInit&&(ot.__webglInit=!0,ot._modelViewMatrix=new j.Matrix4,ot._normalMatrix=new j.Matrix3,ot.geometry!==void 0&&ot.geometry.__webglInit===void 0&&(ot.geometry.__webglInit=!0,ot.geometry.addEventListener("dispose",this.onGeometryDispose.bind(this))),ot instanceof rt.Mesh||ot instanceof rt.Line))for(zl=ot.geometry,Cl=0,Tl=zl.geometryGroups.length;Cl<Tl;Cl++)In=zl.geometryGroups[Cl],In.id=this._geometryGroupCounter++,In.__webglVertexBuffer||(ot instanceof rt.Mesh?(this.createMeshBuffers(In),zl.elementsNeedUpdate=!0,zl.normalsNeedUpdate=!0):ot instanceof rt.Line&&this.createLineBuffers(In),zl.verticesNeedUpdate=!0,zl.colorsNeedUpdate=!0);if(!ot.__webglActive){if(ot instanceof rt.Mesh||ot instanceof rt.Line)for(zl=ot.geometry,Cl=0,Tl=zl.geometryGroups.length;Cl<Tl;Cl++)In=zl.geometryGroups[Cl],this.addBuffer(Ln.__webglObjects,In,ot);else ot instanceof rt.Sprite&&Ln.__webglSprites.push(ot);ot.__webglActive=!0}}updateObject(ot){var Ln=ot.geometry,Cl;if(ot instanceof rt.Mesh||ot instanceof rt.Line){for(var Tl=0,zl=Ln.geometryGroups.length;Tl<zl;Tl++)Cl=Ln.geometryGroups[Tl],(Ln.verticesNeedUpdate||Ln.elementsNeedUpdate||Ln.colorsNeedUpdate||Ln.normalsNeedUpdate)&&this.setBuffers(Cl,this._gl.STATIC_DRAW);Ln.verticesNeedUpdate=!1,Ln.elementsNeedUpdate=!1,Ln.normalsNeedUpdate=!1,Ln.colorsNeedUpdate=!1,Ln.buffersNeedUpdate=!1}}removeObject(ot,Ln){ot instanceof rt.Mesh||ot instanceof rt.Line?this.removeInstances(Ln.__webglObjects,ot):ot instanceof rt.Sprite&&this.removeInstancesDirect(Ln.__webglSprites,ot),ot.__webglActive=!1}removeInstances(ot,Ln){for(var Cl=ot.length-1;Cl>=0;--Cl)ot[Cl].object===Ln&&ot.splice(Cl,1)}removeInstancesDirect(ot,Ln){for(var Cl=ot.length-1;Cl>=0;--Cl)ot[Cl]===Ln&&ot.splice(Cl,1)}unrollBufferMaterial(ot){var Ln=ot.object,Cl=Ln.material;if(Cl.volumetric)ot.opaque=null,ot.transparent=null,ot.volumetric=Cl;else if(Cl.transparent){if(ot.opaque=null,ot.volumetric=null,ot.transparent=Cl,!Cl.wireframe){let Tl=Cl.clone();Tl.opacity=0,ot.transparentDepth=Tl}}else{if(ot.opaque=Cl,ot.transparent=null,ot.volumetric=null,!Cl.wireframe){let Tl=Cl.clone();Tl.opacity=0,ot.opaqueDepth=Tl}Cl.hasAO&&(ot.hasAO=!0),(this._AOEnabled||ot.hasAO)&&(ot.opaqueShaded=Cl.clone(),ot.opaqueShaded.shaded=!0)}}setBuffers(ot,Ln){var Cl=ot.vertexArray,Tl=ot.colorArray;if(ot.__webglOffsetBuffer!==void 0?(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ot.__webglOffsetBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Cl,Ln)):(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ot.__webglVertexBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Cl,Ln)),this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ot.__webglColorBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,Tl,Ln),ot.normalArray&&ot.__webglNormalBuffer!==void 0){var zl=ot.normalArray;this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ot.__webglNormalBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,zl,Ln)}if(ot.radiusArray&&ot.__webglRadiusBuffer!==void 0&&(this._gl.bindBuffer(this._gl.ARRAY_BUFFER,ot.__webglRadiusBuffer),this._gl.bufferData(this._gl.ARRAY_BUFFER,ot.radiusArray,Ln)),ot.faceArray&&ot.__webglFaceBuffer!==void 0){var In=ot.faceArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,ot.__webglFaceBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,In,Ln)}if(ot.lineArray&&ot.__webglLineBuffer!==void 0){var Ml=ot.lineArray;this._gl.bindBuffer(this._gl.ELEMENT_ARRAY_BUFFER,ot.__webglLineBuffer),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,Ml,Ln)}}createMeshBuffers(ot){ot.radiusArray&&(ot.__webglRadiusBuffer=this._gl.createBuffer()),ot.useOffset&&(ot.__webglOffsetBuffer=this._gl.createBuffer()),ot.__webglVertexBuffer=this._gl.createBuffer(),ot.__webglNormalBuffer=this._gl.createBuffer(),ot.__webglColorBuffer=this._gl.createBuffer(),ot.__webglFaceBuffer=this._gl.createBuffer(),ot.__webglLineBuffer=this._gl.createBuffer(),this.info.memory.geometries++}createLineBuffers(ot){ot.__webglVertexBuffer=this._gl.createBuffer(),ot.__webglColorBuffer=this._gl.createBuffer(),this.info.memory.geometries++}addBuffer(ot,Ln,Cl){ot.push({buffer:Ln,object:Cl,opaque:null,transparent:null})}setupMatrices(ot,Ln){ot._modelViewMatrix.multiplyMatrices(Ln.matrixWorldInverse,ot.matrixWorld),ot._normalMatrix.getInverse(ot._modelViewMatrix),ot._normalMatrix.transpose()}filterFallback(ot){return this._gl.LINEAR}setTextureParameters(ot,Ln){ot==this._gl.TEXTURE_2D?(this._gl.texParameteri(ot,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ot,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ot,this._gl.TEXTURE_MAG_FILTER,this.filterFallback(Ln.magFilter)),this._gl.texParameteri(ot,this._gl.TEXTURE_MIN_FILTER,this.filterFallback(Ln.minFilter))):(this._gl.texParameteri(ot,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ot,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(ot,this._gl.TEXTURE_WRAP_R,this._gl.CLAMP_TO_EDGE),this._extColorBufferFloat&&this._extFloatLinear?(this._gl.texParameteri(ot,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(ot,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR)):(this._gl.texParameteri(ot,this._gl.TEXTURE_MAG_FILTER,this._gl.NEAREST),this._gl.texParameteri(ot,this._gl.TEXTURE_MIN_FILTER,this._gl.NEAREST)))}paramToGL(ot){return ot===g.UnsignedByteType?this._gl.UNSIGNED_BYTE:ot===g.RGBAFormat?this._gl.RGBA:ot===g.NearestFilter?this._gl.NEAREST:0}setupLights(ot,Ln){var Cl,Tl,zl,In=0,Ml=0,Dl=0,Ul,Vl,mu=this._lights,rp=mu.directional.colors,Ju=mu.directional.positions,cp=0,hp=0;for(Cl=0,Tl=Ln.length;Cl<Tl;Cl++)if(zl=Ln[Cl],Ul=zl.color,Vl=zl.intensity,zl instanceof b.Light){if(this._direction.getPositionFromMatrix(zl.matrixWorld),this._vector3.getPositionFromMatrix(zl.target.matrixWorld),this._direction.sub(this._vector3),this._direction.normalize(),this._direction.x===0&&this._direction.y===0&&this._direction.z===0)continue;Ju[hp]=this._direction.x,Ju[hp+1]=this._direction.y,Ju[hp+2]=this._direction.z,rp[hp]=Ul.r*Vl,rp[hp+1]=Ul.g*Vl,rp[hp+2]=Ul.b*Vl,hp+=3,cp++}mu.ambient[0]=In,mu.ambient[1]=Ml,mu.ambient[2]=Dl,mu.directional.length=cp}initGL(){try{if(OffscreenCanvas&&!(this.rows!=null&&this.cols!=null&&this.row!=null&&this.col!=null))(wl==null||wl.isContextLost())&&(jt=new OffscreenCanvas(this._canvas.width,this._canvas.height),wl=jt.getContext("webgl2",{alpha:!0,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})),this._offscreen=jt,this._gl=wl,this._bitmap=this._canvas.getContext("bitmaprenderer",{alpha:!0});else if(!(this._gl=this._canvas.getContext("webgl2",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("experimental-webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer}))&&!(this._gl=this._canvas.getContext("webgl",{alpha:this._alpha,premultipliedAlpha:this._premultipliedAlpha,antialias:this._antialias,preserveDrawingBuffer:this._preserveDrawingBuffer})))throw"Error creating WebGL context.";var ot=this._gl.getParameter(this._gl.VERSION);this._webglversion=parseInt(ot[6])}catch(Ln){console.error(Ln)}}isWebGL1(){return this._webglversion==1}setDefaultGLState(){this._gl.clearDepth(1),this._gl.clearStencil(0),this._gl.enable(this._gl.DEPTH_TEST),this._gl.depthFunc(this._gl.LEQUAL),this._gl.frontFace(this._gl.CCW),this._gl.cullFace(this._gl.BACK),this._gl.enable(this._gl.CULL_FACE),this._gl.enable(this._gl.BLEND),this._gl.blendEquation(this._gl.FUNC_ADD),this._gl.blendFunc(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._gl.clearColor(this._clearColor.r,this._clearColor.g,this._clearColor.b,this._clearAlpha)}renderObjects(ot,Ln,Cl,Tl,zl,In,Ml){var Dl,Ul,Vl,mu,rp,Ju,cp;Ln?(rp=ot.length-1,Ju=-1,cp=-1):(rp=0,Ju=ot.length,cp=1);for(var hp=rp;hp!==Ju;hp+=cp)if(Dl=ot[hp],Dl.render){if(Ul=Dl.object,Vl=Dl.buffer,mu=Dl[Cl],(Dl.hasAO||this._AOEnabled)&&Dl[Cl+"Shaded"]&&(mu=Dl[Cl+"Shaded"]),!mu)continue;this.setBlending(Ml),this.setDepthTest(mu.depthTest),this.setDepthWrite(mu.depthWrite),this.setPolygonOffset(mu.polygonOffset,mu.polygonOffsetFactor,mu.polygonOffsetUnits);var yp=Ul._modelViewMatrix.isReflected();if(this.setMaterialFaces(mu,yp),this.renderBuffer(Tl,zl,In,mu,Vl,Ul),(this._outlineEnabled||mu.outline)&&!mu.wireframe&&mu.shaderID!=="basic"&&mu.opacity!==0){let xp=this._outlineMaterial;mu.shaderID=="sphereimposter"?xp=this._outlineSphereImposterMaterial:mu.shaderID=="stickimposter"&&(xp=this._outlineStickImposterMaterial),this.renderBuffer(Tl,zl,In,xp,Vl,Ul)}}}renderSprites(ot,Ln,Cl){this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1,this._lightsNeedUpdate=!0,this.sprites.render(ot,Ln,this._currentWidth,this._currentHeight,Cl),this._currentGeometryGroupHash=-1,this._currentProgram=null,this._currentCamera=null,this._oldDepthWrite=-1,this._oldDepthTest=-1,this._oldDoubleSided=-1,this._currentMaterialId=-1,this._oldFlipSided=-1}}},"./src/WebGL/SpritePlugin.ts":(e,o,a)=>{a.r(o),a.d(o,{SpritePlugin:()=>d});var c=a("./src/WebGL/shaders/index.ts");class d{constructor(){this.sprite={vertices:null,faces:null,vertexBuffer:null,elementBuffer:null,program:null,attributes:{},uniforms:null}}init(_){this.gl=_.context,this.renderer=_,this.precision=_.getPrecision(),this.sprite.vertices=new Float32Array(16),this.sprite.faces=new Uint16Array(6);var $=0;this.sprite.vertices[$++]=-1,this.sprite.vertices[$++]=-1,this.sprite.vertices[$++]=0,this.sprite.vertices[$++]=0,this.sprite.vertices[$++]=1,this.sprite.vertices[$++]=-1,this.sprite.vertices[$++]=1,this.sprite.vertices[$++]=0,this.sprite.vertices[$++]=1,this.sprite.vertices[$++]=1,this.sprite.vertices[$++]=1,this.sprite.vertices[$++]=1,this.sprite.vertices[$++]=-1,this.sprite.vertices[$++]=1,this.sprite.vertices[$++]=0,this.sprite.vertices[$++]=1,$=0,this.sprite.faces[$++]=0,this.sprite.faces[$++]=1,this.sprite.faces[$++]=2,this.sprite.faces[$++]=0,this.sprite.faces[$++]=2,this.sprite.faces[$++]=3,this.sprite.vertexBuffer=this.gl.createBuffer(),this.sprite.elementBuffer=this.gl.createBuffer(),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.sprite.vertices,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.faces,this.gl.STATIC_DRAW),this.sprite.program=this.createProgram(c.ShaderLib.sprite,this.precision||1),this.sprite.attributes={};const j={};this.sprite.attributes.position=this.gl.getAttribLocation(this.sprite.program,"position"),this.sprite.attributes.uv=this.gl.getAttribLocation(this.sprite.program,"uv"),j.uvOffset=this.gl.getUniformLocation(this.sprite.program,"uvOffset"),j.uvScale=this.gl.getUniformLocation(this.sprite.program,"uvScale"),j.rotation=this.gl.getUniformLocation(this.sprite.program,"rotation"),j.scale=this.gl.getUniformLocation(this.sprite.program,"scale"),j.alignment=this.gl.getUniformLocation(this.sprite.program,"alignment"),j.color=this.gl.getUniformLocation(this.sprite.program,"color"),j.map=this.gl.getUniformLocation(this.sprite.program,"map"),j.opacity=this.gl.getUniformLocation(this.sprite.program,"opacity"),j.useScreenCoordinates=this.gl.getUniformLocation(this.sprite.program,"useScreenCoordinates"),j.screenPosition=this.gl.getUniformLocation(this.sprite.program,"screenPosition"),j.modelViewMatrix=this.gl.getUniformLocation(this.sprite.program,"modelViewMatrix"),j.projectionMatrix=this.gl.getUniformLocation(this.sprite.program,"projectionMatrix"),j.fogNear=this.gl.getUniformLocation(this.sprite.program,"fogNear"),j.fogFar=this.gl.getUniformLocation(this.sprite.program,"fogFar"),j.fogColor=this.gl.getUniformLocation(this.sprite.program,"fogColor"),j.alphaTest=this.gl.getUniformLocation(this.sprite.program,"alphaTest"),this.sprite.uniforms=j}render(_,$,j,rt,nt){var st,jt,wl,Ft,it,ot,Ln,Cl,Tl,zl;if(!this.gl)throw new Error("WebGLRenderer not initialized");let In=[];(st=_==null?void 0:_.__webglSprites)===null||st===void 0||st.forEach(ip=>{(nt&&ip.material.depthTest==!1||!nt&&ip.material.depthTest)&&In.push(ip)});let Ml=In.length;if(!Ml)return;const Dl=this.sprite.attributes,Ul=this.sprite.uniforms;if(!Ul)throw new Error("Uniforms not defined");var Vl=j*.5,mu=rt*.5;this.gl.useProgram(this.sprite.program),this.gl.enableVertexAttribArray(Dl.position),this.gl.enableVertexAttribArray(Dl.uv),this.gl.disable(this.gl.CULL_FACE),this.gl.enable(this.gl.BLEND),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.sprite.vertexBuffer),this.gl.vertexAttribPointer(Dl.position,2,this.gl.FLOAT,!1,16,0),this.gl.vertexAttribPointer(Dl.uv,2,this.gl.FLOAT,!1,16,8),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.sprite.elementBuffer),this.gl.uniformMatrix4fv(Ul.projectionMatrix,!1,$.projectionMatrix.elements),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.uniform1i(Ul.map,0);var rp=_.fog;rp?(this.gl.uniform3f(Ul.fogColor,rp.color.r,rp.color.g,rp.color.b),this.gl.uniform1f(Ul.fogNear,rp.near),this.gl.uniform1f(Ul.fogFar,rp.far)):(this.gl.uniform1f(Ul.fogNear,0),this.gl.uniform1f(Ul.fogFar,0));var Ju;let cp,hp,yp,xp=[];for(Ju=0;Ju<Ml;Ju++)cp=In[Ju],hp=cp.material,hp&&(hp.depthTest==!1&&!nt||!cp.visible||hp.opacity===0||(hp.useScreenCoordinates?cp.z=-cp.position.z:(cp._modelViewMatrix.multiplyMatrices($.matrixWorldInverse,cp.matrixWorld),cp.z=-cp._modelViewMatrix.elements[14])));for(In.sort(g),Ju=0;Ju<Ml;Ju++)if(cp=In[Ju],hp=cp.material,!!hp&&!(!cp.visible||hp.opacity===0)&&hp.map&&hp.map.image&&hp.map.image.width){this.gl.uniform1f((Ul==null?void 0:Ul.alphaTest)||null,hp.alphaTest);var fp=hp.map.image.width,_p=hp.map.image.height;xp[0]=fp*this.renderer.devicePixelRatio/j,xp[1]=_p*this.renderer.devicePixelRatio/rt,hp.useScreenCoordinates===!0?(this.gl.uniform1i(Ul.useScreenCoordinates,1),this.gl.uniform3f(Ul.screenPosition,(cp.position.x*this.renderer.devicePixelRatio-Vl)/Vl,(mu-cp.position.y*this.renderer.devicePixelRatio)/mu,Math.max(0,Math.min(1,cp.position.z)))):(this.gl.uniform1i(Ul.useScreenCoordinates,0),this.gl.uniformMatrix4fv(Ul.modelViewMatrix,!1,cp._modelViewMatrix.elements)),yp=1/(hp.scaleByViewport?rt:1),xp[0]*=yp*cp.scale.x,xp[1]*=yp*cp.scale.y;let ip=(jt=hp==null?void 0:hp.alignment)===null||jt===void 0?void 0:jt.x,gp=(wl=hp==null?void 0:hp.alignment)===null||wl===void 0?void 0:wl.y;hp.screenOffset&&(ip=(ip||0)+2*hp.screenOffset.x/fp,gp=(gp||0)+2*hp.screenOffset.y/_p),this.gl.uniform2f(Ul.uvScale,((Ft=hp==null?void 0:hp.uvScale)===null||Ft===void 0?void 0:Ft.x)||1,((it=hp==null?void 0:hp.uvScale)===null||it===void 0?void 0:it.y)||1),this.gl.uniform2f(Ul.uvOffset,((ot=hp==null?void 0:hp.uvOffset)===null||ot===void 0?void 0:ot.x)||0,((Ln=hp==null?void 0:hp.uvOffset)===null||Ln===void 0?void 0:Ln.y)||0),this.gl.uniform2f(Ul.alignment,ip||0,gp||0),this.gl.uniform1f(Ul.opacity,hp.opacity),this.gl.uniform3f(Ul.color,((Cl=hp==null?void 0:hp.color)===null||Cl===void 0?void 0:Cl.r)||0,((Tl=hp==null?void 0:hp.color)===null||Tl===void 0?void 0:Tl.g)||0,((zl=hp==null?void 0:hp.color)===null||zl===void 0?void 0:zl.b)||0),this.gl.uniform1f(Ul.rotation,cp.rotation),this.gl.uniform2fv(Ul.scale,xp),this.renderer.setDepthTest(hp.depthTest),this.renderer.setDepthWrite(hp.depthWrite),this.renderer.setTexture(hp.map,0),this.gl.drawElements(this.gl.TRIANGLES,6,this.gl.UNSIGNED_SHORT,0)}this.gl.enable(this.gl.CULL_FACE)}createProgram(_,$){if(!this.gl)throw new Error("WebGL Rendering context not found");var j=this.gl.createProgram();if(!j)throw new Error("Error creating webgl program");var rt=this.gl.createShader(this.gl.FRAGMENT_SHADER),nt=this.gl.createShader(this.gl.VERTEX_SHADER);if(!rt)throw new Error("Unable to create fragment shader SpritePlugin.createProgram");if(!nt)throw new Error("Unable to create vertex shader SpritePlugin.createProgram");var st="precision "+$+` float;
`;if(this.gl.shaderSource(rt,st+_.fragmentShader),this.gl.shaderSource(nt,st+_.vertexShader),this.gl.compileShader(rt),this.gl.compileShader(nt),!this.gl.getShaderParameter(rt,this.gl.COMPILE_STATUS)||!this.gl.getShaderParameter(nt,this.gl.COMPILE_STATUS))throw new Error(`Error compiling shader: 
      ${this.gl.getShaderInfoLog(rt)} 
      ${this.gl.getShaderInfoLog(nt)}`);return this.gl.attachShader(j,rt),this.gl.attachShader(j,nt),this.gl.linkProgram(j),this.gl.getProgramParameter(j,this.gl.LINK_STATUS)||console.error("Could not initialize shader"),j}}function g(b,_){return b.z!==_.z?_.z-b.z:_.id-b.id}},"./src/WebGL/constants/Coloring.ts":(e,o,a)=>{a.r(o),a.d(o,{Coloring:()=>c});var c;(function(d){d[d.NoColors=0]="NoColors",d[d.FaceColors=1]="FaceColors",d[d.VertexColors=2]="VertexColors"})(c||(c={}))},"./src/WebGL/constants/Shading.ts":(e,o,a)=>{a.r(o),a.d(o,{Shading:()=>c});var c;(function(d){d[d.NoShading=0]="NoShading",d[d.FlatShading=1]="FlatShading",d[d.SmoothShading=2]="SmoothShading"})(c||(c={}))},"./src/WebGL/constants/Sides.ts":(e,o,a)=>{a.r(o),a.d(o,{BackSide:()=>d,DoubleSide:()=>g,FrontSide:()=>c});const c=0,d=1,g=2},"./src/WebGL/constants/SpriteAlignment.ts":(e,o,a)=>{a.r(o),a.d(o,{SpriteAlignment:()=>d});var c=a("./src/WebGL/math/index.ts");const d={topLeft:new c.Vector2(1,-1),topCenter:new c.Vector2(0,-1),topRight:new c.Vector2(-1,-1),centerLeft:new c.Vector2(1,0),center:new c.Vector2(0,0),centerRight:new c.Vector2(-1,0),bottomLeft:new c.Vector2(1,1),bottomCenter:new c.Vector2(0,1),bottomRight:new c.Vector2(-1,1)}},"./src/WebGL/constants/TextureConstants.ts":(e,o,a)=>{a.r(o),a.d(o,{ClampToEdgeWrapping:()=>c,FloatType:()=>$,LinearFilter:()=>d,LinearMipMapLinearFilter:()=>b,NearestFilter:()=>g,R32Format:()=>nt,RFormat:()=>rt,RGBAFormat:()=>j,UnsignedByteType:()=>_});const c=1001,d=1006,g=1007,b=1008,_=1009,$=1010,j=1021,rt=1022,nt=1023},"./src/WebGL/constants/TextureOperations.ts":(e,o,a)=>{a.r(o),a.d(o,{TextureOperations:()=>c});var c;(function(d){d[d.MultiplyOperation=0]="MultiplyOperation",d[d.MixOperation=1]="MixOperation",d[d.AddOperation=2]="AddOperation"})(c||(c={}))},"./src/WebGL/constants/index.ts":(e,o,a)=>{a.r(o),a.d(o,{BackSide:()=>d.BackSide,ClampToEdgeWrapping:()=>_.ClampToEdgeWrapping,Coloring:()=>c.Coloring,DoubleSide:()=>d.DoubleSide,FloatType:()=>_.FloatType,FrontSide:()=>d.FrontSide,LinearFilter:()=>_.LinearFilter,LinearMipMapLinearFilter:()=>_.LinearMipMapLinearFilter,NearestFilter:()=>_.NearestFilter,R32Format:()=>_.R32Format,RFormat:()=>_.RFormat,RGBAFormat:()=>_.RGBAFormat,Shading:()=>g.Shading,SpriteAlignment:()=>b.SpriteAlignment,TextureOperations:()=>$.TextureOperations,UnsignedByteType:()=>_.UnsignedByteType});var c=a("./src/WebGL/constants/Coloring.ts"),d=a("./src/WebGL/constants/Sides.ts"),g=a("./src/WebGL/constants/Shading.ts"),b=a("./src/WebGL/constants/SpriteAlignment.ts"),_=a("./src/WebGL/constants/TextureConstants.ts"),$=a("./src/WebGL/constants/TextureOperations.ts")},"./src/WebGL/core/EventDispatcher.ts":(e,o,a)=>{a.r(o),a.d(o,{EventDispatcher:()=>c});class c{constructor(){this.listeners={}}dispatchEvent(g){var b=this.listeners[g.type];if(b!==void 0){g.target=this;for(var _=0,$=b.length;_<$;_++)b[_].call(this,g)}}removeEventListener(g,b){if(!b)this.listeners[g]=[];else{var _=this.listeners[g].indexOf(b);_!==-1&&this.listeners[g].splice(_,1)}}addEventListener(g,b){this.listeners[g]===void 0&&(this.listeners[g]=[]),this.listeners[g].indexOf(b)===-1&&this.listeners[g].push(b)}}},"./src/WebGL/core/Geometry.ts":(e,o,a)=>{a.r(o),a.d(o,{Geometry:()=>j,GeometryGroup:()=>$,GeometryIDCount:()=>rt});var c=a("./src/WebGL/materials/LineBasicMaterial.ts"),d=a("./src/WebGL/core/EventDispatcher.ts"),g=a("./src/WebGL/math/index.ts"),b=a("./src/colors.ts");const _=65535;class ${constructor(st=0){this.vertexArray=null,this.colorArray=null,this.normalArray=null,this.radiusArray=null,this.faceArray=null,this.lineArray=null,this.atomArray=Array(),this.vertices=0,this.faceidx=0,this.lineidx=0,this.__inittedArrays=!1,this.id=st}setColor(st){var jt=this.vertexArray,wl=this.colorArray;if(!jt)throw new Error("vertex array not initialized");if(!wl)throw new Error("color array not initialized");let Ft=b.CC.color(st);for(var it=0;it<jt.length;it+=3)wl[it]=Ft.r,wl[it+1]=Ft.g,wl[it+2]=Ft.b}setColors(st){var jt=this.vertexArray,wl=this.colorArray;if(!jt)throw new Error("vertex array not initialized");if(!wl)throw new Error("color array not initialized");if(jt.length!=wl.length){console.log("Cannot re-color geometry group due to mismatched lengths.");return}for(var Ft=0;Ft<jt.length;Ft+=3){var it=st(jt[Ft],jt[Ft+1],jt[Ft+2]);it instanceof b.Color||(it=b.CC.color(it)),wl[Ft]=it.r,wl[Ft+1]=it.g,wl[Ft+2]=it.b}}getNumVertices(){return this.vertices}getVertices(){return this.vertexArray}getCentroid(){if(!this.vertexArray)throw new Error("vertex array not initialized");for(var st=new g.Vector3,jt,wl,Ft,it,ot=0;ot<this.vertices;++ot)jt=ot*3,wl=this.vertexArray[jt],Ft=this.vertexArray[jt+1],it=this.vertexArray[jt+2],st.x+=wl,st.y+=Ft,st.z+=it;return st.divideScalar(this.vertices),st}setNormals(){var st=this.faceArray,jt=this.vertexArray,wl=this.normalArray;if(!(!this.vertices||!this.faceidx)){if(!st)throw new Error("face array not initialized");if(!jt)throw new Error("vertex array not initialized");if(!wl)throw new Error("normal array not initialized");for(var Ft,it,ot,Ln,Cl,Tl,zl,In=0;In<st.length/3;++In)Ft=st[In*3]*3,it=st[In*3+1]*3,ot=st[In*3+2]*3,Ln=new g.Vector3(jt[Ft],jt[Ft+1],jt[Ft+2]),Cl=new g.Vector3(jt[it],jt[it+1],jt[it+2]),Tl=new g.Vector3(jt[ot],jt[ot+1],jt[ot+2]),Ln.subVectors(Ln,Cl),Tl.subVectors(Tl,Cl),Tl.cross(Ln),zl=Tl,zl.normalize(),wl[Ft]+=zl.x,wl[it]+=zl.x,wl[ot]+=zl.x,wl[Ft+1]+=zl.y,wl[it+1]+=zl.y,wl[ot+1]+=zl.y,wl[Ft+2]+=zl.z,wl[it+2]+=zl.z,wl[ot+2]+=zl.z}}setLineIndices(){if(this.faceidx&&!(this.lineArray&&this.lineArray.length==this.faceidx*2&&this.lineidx==this.faceidx*2)){var st=this.faceArray,jt=this.lineArray=new Uint16Array(this.faceidx*2);if(this.lineidx=this.faceidx*2,!st)throw new Error("face array not initialized");for(var wl=0;wl<this.faceidx/3;++wl){var Ft=wl*3,it=Ft*2,ot=st[Ft],Ln=st[Ft+1],Cl=st[Ft+2];jt[it]=ot,jt[it+1]=Ln,jt[it+2]=ot,jt[it+3]=Cl,jt[it+4]=Ln,jt[it+5]=Cl}}}vrml(st,jt){var wl,Ft,it,ot,Ln,Cl,Tl,zl,In,Ml,Dl,Ul,Vl,mu,rp,Ju,cp,hp,yp="";if(yp+=st+`Shape {
`+st+` appearance Appearance {
`+st+`  material Material {
`+st+"   diffuseColor "+((wl=jt==null?void 0:jt.color)===null||wl===void 0?void 0:wl.r)+" "+((Ft=jt==null?void 0:jt.color)===null||Ft===void 0?void 0:Ft.g)+" "+((it=jt==null?void 0:jt.color)===null||it===void 0?void 0:it.b)+`
`,jt.wireframe&&this.colorArray){let fp=this.colorArray;yp+=st+"    emissiveColor "+fp[0]+" "+fp[1]+" "+fp[2]+`
`}jt!=null&&jt.transparent&&(yp+=st+"   transparency "+(1-jt.opacity)+`
`),yp+=st+`  }
`,yp+=st+` }
`;var xp=st;if(st+=" ",jt instanceof c.LineBasicMaterial||jt.wireframe){yp+=st+`geometry IndexedLineSet {
`+st+` colorPerVertex TRUE
`+st+` coord Coordinate {
`+st+`  point [
`;let fp,_p,ip;for(let gp=0;gp<this.vertices;++gp){let Dp=gp*3;fp=(ot=this.vertexArray)===null||ot===void 0?void 0:ot[Dp],_p=(Ln=this.vertexArray)===null||Ln===void 0?void 0:Ln[Dp+1],ip=(Cl=this.vertexArray)===null||Cl===void 0?void 0:Cl[Dp+2],yp+=st+"   "+fp+" "+_p+" "+ip+`,
`}if(yp+=st+`  ]
`,yp+=st+` }
`,this.colorArray&&!jt.wireframe){yp+=st+` color Color {
`+st+`  color [
`;for(let gp=0;gp<this.vertices;++gp){let Dp=gp*3;fp=this.colorArray[Dp],_p=this.colorArray[Dp+1],ip=this.colorArray[Dp+2],yp+=st+"   "+fp+" "+_p+" "+ip+`,
`}yp+=st+`  ]
`,yp+=st+` }
`}if(yp+=st+` coordIndex [
`,jt.wireframe&&this.faceArray)for(let gp=0;gp<this.faceidx;gp+=3)fp=(Tl=this.faceArray)===null||Tl===void 0?void 0:Tl[gp],_p=(zl=this.faceArray)===null||zl===void 0?void 0:zl[gp+1],ip=(In=this.faceArray)===null||In===void 0?void 0:In[gp+2],yp+=st+"  "+fp+", "+_p+", "+ip+`, -1,
`;else for(let gp=0;gp<this.vertices-1;gp+=2)yp+=st+"  "+gp+", "+(gp+1)+`, -1,
`;yp+=st+` ]
`,yp+=st+`}
`}else{yp+=st+`geometry IndexedFaceSet {
`+st+` colorPerVertex TRUE
`+st+` normalPerVertex TRUE
`+st+` solid FALSE
`,yp+=st+` coord Coordinate {
`+st+`  point [
`;let fp,_p,ip;for(let gp=0;gp<this.vertices;++gp){let Dp=gp*3;fp=(Ml=this.vertexArray)===null||Ml===void 0?void 0:Ml[Dp],_p=(Dl=this.vertexArray)===null||Dl===void 0?void 0:Dl[Dp+1],ip=(Ul=this.vertexArray)===null||Ul===void 0?void 0:Ul[Dp+2],yp+=st+"   "+fp+" "+_p+" "+ip+`,
`}yp+=st+`  ]
`,yp+=st+` }
`,yp+=st+` normal Normal {
`+st+`  vector [
`;for(let gp=0;gp<this.vertices;++gp){let Dp=gp*3;fp=(Vl=this.normalArray)===null||Vl===void 0?void 0:Vl[Dp],_p=(mu=this.normalArray)===null||mu===void 0?void 0:mu[Dp+1],ip=(rp=this.normalArray)===null||rp===void 0?void 0:rp[Dp+2],yp+=st+"   "+fp+" "+_p+" "+ip+`,
`}if(yp+=st+`  ]
`,yp+=st+` }
`,this.colorArray){yp+=st+` color Color {
`+st+`  color [
`;for(let gp=0;gp<this.vertices;++gp){let Dp=gp*3;fp=this.colorArray[Dp],_p=this.colorArray[Dp+1],ip=this.colorArray[Dp+2],yp+=st+"   "+fp+" "+_p+" "+ip+`,
`}yp+=st+`  ]
`,yp+=st+` }
`}yp+=st+` coordIndex [
`;for(let gp=0;gp<this.faceidx;gp+=3)fp=(Ju=this.faceArray)===null||Ju===void 0?void 0:Ju[gp],_p=(cp=this.faceArray)===null||cp===void 0?void 0:cp[gp+1],ip=(hp=this.faceArray)===null||hp===void 0?void 0:hp[gp+2],yp+=st+"  "+fp+", "+_p+", "+ip+`, -1,
`;yp+=st+` ]
`,yp+=st+`}
`}return yp+=xp+"}",yp}truncateArrayBuffers(st=!0,jt=!1){var wl=this.vertexArray,Ft=this.colorArray,it=this.normalArray,ot=this.faceArray,Ln=this.lineArray,Cl=this.radiusArray;this.vertexArray=(wl==null?void 0:wl.subarray(0,this.vertices*3))||null,this.colorArray=(Ft==null?void 0:Ft.subarray(0,this.vertices*3))||null,st?(this.normalArray=(it==null?void 0:it.subarray(0,this.vertices*3))||null,this.faceArray=(ot==null?void 0:ot.subarray(0,this.faceidx))||null,this.lineidx>0?this.lineArray=(Ln==null?void 0:Ln.subarray(0,this.lineidx))||null:this.lineArray=new Uint16Array(0)):(this.normalArray=new Float32Array(0),this.faceArray=new Uint16Array(0),this.lineArray=new Uint16Array(0)),Cl&&(this.radiusArray=Cl.subarray(0,this.vertices)),jt&&(this.normalArray&&(this.normalArray=new Float32Array(this.normalArray)),this.faceArray&&(this.faceArray=new Uint16Array(this.faceArray)),this.lineArray&&(this.lineArray=new Uint16Array(this.lineArray)),this.vertexArray&&(this.vertexArray=new Float32Array(this.vertexArray)),this.colorArray&&(this.colorArray=new Float32Array(this.colorArray)),this.radiusArray&&(this.radiusArray=new Float32Array(this.radiusArray))),this.__inittedArrays=!0}}class j extends d.EventDispatcher{constructor(st=!1,jt=!1,wl=!1){super(),this.name="",this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.buffersNeedUpdate=!1,this.imposter=!1,this.instanced=!1,this.geometryGroups=[],this.groups=0,this.id=rt++,this.mesh=st,this.radii=jt,this.offset=wl}updateGeoGroup(st=0){var jt,wl=this.groups>0?this.geometryGroups[this.groups-1]:null;return(!wl||wl.vertices+st>(((jt=wl==null?void 0:wl.vertexArray)===null||jt===void 0?void 0:jt.length)||0)/3)&&(wl=this.addGeoGroup()),wl}vrml(st,jt){for(var wl="",Ft=this.geometryGroups.length,it=0;it<Ft;it++){var ot=this.geometryGroups[it];wl+=ot.vrml(st,jt)+`,
`}return wl}addGeoGroup(){var st=new $(this.geometryGroups.length);return this.geometryGroups.push(st),this.groups=this.geometryGroups.length,st.vertexArray=new Float32Array(_*3),st.colorArray=new Float32Array(_*3),this.mesh&&(st.normalArray=new Float32Array(_*3),st.faceArray=new Uint16Array(_*6),st.lineArray=new Uint16Array(_*6)),this.radii&&(st.radiusArray=new Float32Array(_)),st.useOffset=this.offset,st}setUpNormals(...st){for(var jt=0;jt<this.groups;jt++){var wl=this.geometryGroups[jt];wl.setNormals(...st)}}setColors(...st){for(var jt=this.geometryGroups.length,wl=0;wl<jt;wl++){var Ft=this.geometryGroups[wl];Ft.setColors(...st)}}setColor(...st){let jt=this.geometryGroups.length;for(var wl=0;wl<jt;wl++){var Ft=this.geometryGroups[wl];Ft.setColor(...st)}}setUpWireframe(...st){let jt=this.geometryGroups.length;for(var wl=0;wl<jt;wl++){var Ft=this.geometryGroups[wl];Ft.setLineIndices(...st)}}initTypedArrays(){for(var st=0;st<this.groups;st++){var jt=this.geometryGroups[st];jt.__inittedArrays!==!0&&jt.truncateArrayBuffers(this.mesh,!1)}}dispose(){this.dispatchEvent({type:"dispose"})}get vertices(){for(var st=0,jt=0;jt<this.groups;jt++)st+=this.geometryGroups[jt].vertices;return st}}let rt=0},"./src/WebGL/core/Object3D.ts":(e,o,a)=>{a.r(o),a.d(o,{Light:()=>$,Object3D:()=>b,Object3DIDCount:()=>g,Scene:()=>_});var c=a("./src/WebGL/math/index.ts"),d=a("./src/colors.ts");let g=0;class b{constructor(){this.id=g++,this.name="",this.children=[],this.position=new c.Vector3,this.rotation=new c.Vector3,this.matrix=new c.Matrix4,this.matrixWorld=new c.Matrix4,this.quaternion=new c.Quaternion,this.eulerOrder="XYZ",this.up=new c.Vector3(0,1,0),this.scale=new c.Vector3(1,1,1),this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!0,this.rotationAutoUpdate=!0,this.useQuaternion=!1,this.visible=!0}lookAt(rt){this.matrix.lookAt(rt,this.position,this.up),this.rotationAutoUpdate&&(this.useQuaternion===!0?console.error("Unimplemented math operation."):this.rotation instanceof c.Vector3&&this.rotation.setEulerFromRotationMatrix(this.matrix,this.eulerOrder))}add(rt){if(rt===this){console.error("Can't add $3Dmol.Object3D to itself");return}rt.parent=this,this.children.push(rt);for(var nt=this;nt.parent!==void 0;)nt=nt.parent;nt!==void 0&&nt instanceof _&&nt.__addObject(rt)}remove(rt){var nt=this.children.indexOf(rt);if(nt!==-1){rt.parent=void 0,this.children.splice(nt,1);for(var st=this;st.parent!==void 0;)st=st.parent;st!==void 0&&st instanceof _&&st.__removeObject(rt)}}vrml(rt){rt||(rt=" ");var nt=2*Math.atan2(this.quaternion.lengthxyz(),this.quaternion.w),st=0,jt=0,wl=0;if(nt!=0){let ot=Math.sin(nt/2);st=this.quaternion.x/ot,jt=this.quaternion.y/ot,wl=this.quaternion.z/ot}var Ft=rt+`Transform {
`+rt+" center "+this.position.x+" "+this.position.y+" "+this.position.z+`
`+rt+" rotation "+st+" "+jt+" "+wl+" "+nt+`
`+rt+` children [
`;this.geometry&&(Ft+=this.geometry.vrml(rt,this.material));for(var it=0;it<this.children.length;it++)Ft+=this.children[it].vrml(rt+" ")+`,
`;return Ft+=` ]
`,Ft+="}",Ft}updateMatrix(){this.matrix.setPosition(this.position),this.useQuaternion===!1&&this.rotation instanceof c.Vector3?this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder):this.matrix.setRotationFromQuaternion(this.quaternion),(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(rt){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||rt===!0)&&(this.parent===void 0?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1;for(var nt=0;nt<this.children.length;nt++)this.children[nt].updateMatrixWorld(!0)}clone(rt){rt===void 0&&(rt=new b),rt.name=this.name,rt.up.copy(this.up),rt.position.copy(this.position),rt.rotation instanceof c.Vector3&&this.rotation instanceof c.Vector3?rt.rotation.copy(this.rotation):rt.rotation=this.rotation,rt.eulerOrder=this.eulerOrder,rt.scale.copy(this.scale),rt.rotationAutoUpdate=this.rotationAutoUpdate,rt.matrix.copy(this.matrix),rt.matrixWorld.copy(this.matrixWorld),rt.quaternion.copy(this.quaternion),rt.matrixAutoUpdate=this.matrixAutoUpdate,rt.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,rt.useQuaternion=this.useQuaternion,rt.visible=this.visible;for(var nt=0;nt<this.children.length;nt++){var st=this.children[nt];rt.add(st.clone())}return rt}setVisible(rt){this.visible=rt;for(var nt=0;nt<this.children.length;nt++){var st=this.children[nt];st.setVisible(rt)}}}class _ extends b{constructor(){super(...arguments),this.fog=null,this.overrideMaterial=null,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]}__addObject(rt){if(rt instanceof $)this.__lights.indexOf(rt)===-1&&this.__lights.push(rt),rt.target&&rt.target.parent===void 0&&this.add(rt.target);else if(this.__objects.indexOf(rt)===-1){this.__objects.push(rt),this.__objectsAdded.push(rt);var nt=this.__objectsRemoved.indexOf(rt);nt!==-1&&this.__objectsRemoved.splice(nt,1)}for(var st=0;st<rt.children.length;st++)this.__addObject(rt.children[st])}__removeObject(rt){var nt;if(rt instanceof $)nt=this.__lights.indexOf(rt),nt!==-1&&this.__lights.splice(nt,1);else if(nt=this.__objects.indexOf(rt),nt!==-1){this.__objects.splice(nt,1),this.__objectsRemoved.push(rt);var st=this.__objectsAdded.indexOf(rt);st!==-1&&this.__objectsAdded.splice(nt,1)}for(var jt=0;jt<rt.children.length;jt++)this.__removeObject(rt.children[jt])}}class $ extends b{constructor(rt,nt=1){super(),this.position=new c.Vector3(0,1,0),this.target=new b,this.castShadow=!1,this.onlyShadow=!1,this.color=new d.Color(rt),this.intensity=nt}}},"./src/WebGL/core/Projector.ts":(e,o,a)=>{a.r(o),a.d(o,{Projector:()=>g});var c=a("./src/WebGL/math/index.ts");const d=new c.Matrix4;class g{static unprojectVector(_,$){return $.projectionMatrixInverse.getInverse($.projectionMatrix),d.multiplyMatrices($.matrixWorld,$.projectionMatrixInverse),_.applyProjection(d)}static projectVector(_,$){return $.matrixWorldInverse.getInverse($.matrixWorld),d.multiplyMatrices($.projectionMatrix,$.matrixWorldInverse),_.applyProjection(d)}projectVector(_,$){return g.projectVector(_,$)}unprojectVector(_,$){return g.unprojectVector(_,$)}}},"./src/WebGL/core/Raycaster.ts":(e,o,a)=>{a.r(o),a.d(o,{Raycaster:()=>_,intersectObject:()=>ot});var c=a("./src/WebGL/math/index.ts"),d=a("./src/WebGL/shapes/index.ts");const g=(Ln,Cl)=>Ln.distance-Cl.distance,b=new c.Matrix4;class _{constructor(Cl,Tl,zl,In){this.precision=1e-4,this.linePrecision=.2,this.ray=new c.Ray(Cl,Tl),this.ray.direction.lengthSq()>0&&this.ray.direction.normalize(),this.near=In||0,this.far=zl||1/0}set(Cl,Tl){this.ray.set(Cl,Tl)}setFromCamera(Cl,Tl){Tl.ortho?(this.ray.origin.set(Cl.x,Cl.y,(Tl.near+Tl.far)/(Tl.near-Tl.far)).unproject(Tl),this.ray.direction.set(0,0,-1).transformDirection(Tl.matrixWorld)):(this.ray.origin.setFromMatrixPosition(Tl.matrixWorld),this.ray.direction.set(Cl.x,Cl.y,Cl.z),Tl.projectionMatrixInverse.getInverse(Tl.projectionMatrix),b.multiplyMatrices(Tl.matrixWorld,Tl.projectionMatrixInverse),this.ray.direction.applyProjection(b),this.ray.direction.sub(this.ray.origin).normalize())}intersectObjects(Cl,Tl){for(var zl=[],In=0,Ml=Tl.length;In<Ml;In++)ot(Cl,Tl[In],this,zl);return zl.sort(g),zl}}const $=Ln=>Math.min(Math.max(Ln,-1),1);var j=new d.Sphere,rt=new d.Cylinder,nt=new d.Triangle,st=new c.Vector3,jt=new c.Vector3,wl=new c.Vector3,Ft=new c.Vector3,it=new c.Vector3;function ot(Ln,Cl,Tl,zl){if(it.getPositionFromMatrix(Ln.matrixWorld),Cl.intersectionShape===void 0||Cl.hidden)return zl;var In=Cl.intersectionShape,Ml=Tl.linePrecision;Ml*=Ln.matrixWorld.getMaxScaleOnAxis();var Dl=Ml*Ml;if(Cl.boundingSphere!==void 0&&Cl.boundingSphere instanceof d.Sphere&&(j.copy(Cl.boundingSphere),j.applyMatrix4(Ln.matrixWorld),!Tl.ray.isIntersectionSphere(j)))return zl;var Ul,Vl,mu,rp,Ju,cp,hp,yp,xp,fp,_p,ip,gp,Dp;for(Ul=0,Vl=In.triangle.length;Ul<Vl;Ul++)if(In.triangle[Ul]instanceof d.Triangle){if(nt.copy(In.triangle[Ul]),nt.applyMatrix4(Ln.matrixWorld),mu=nt.getNormal(),rp=Tl.ray.direction.dot(mu),rp>=0||(st.subVectors(nt.a,Tl.ray.origin),hp=mu.dot(st)/rp,hp<0))continue;jt.copy(Tl.ray.direction).multiplyScalar(hp).add(Tl.ray.origin),jt.sub(nt.a),wl.copy(nt.b).sub(nt.a),Ft.copy(nt.c).sub(nt.a);var Fp=wl.dot(Ft),n0=wl.lengthSq(),S0=Ft.lengthSq();if(ip=(n0*jt.dot(Ft)-Fp*jt.dot(wl))/(n0*S0-Fp*Fp),ip<0||ip>1||(_p=(jt.dot(wl)-ip*Fp)/n0,_p<0||_p>1||_p+ip>1))continue;zl.push({clickable:Cl,distance:hp})}for(Ul=0,Vl=In.cylinder.length;Ul<Vl;Ul++)if(In.cylinder[Ul]instanceof d.Cylinder){if(rt.copy(In.cylinder[Ul]),rt.applyMatrix4(Ln.matrixWorld),st.subVectors(rt.c1,Tl.ray.origin),Ju=st.dot(rt.direction),cp=st.dot(Tl.ray.direction),rp=$(Tl.ray.direction.dot(rt.direction)),xp=1-rp*rp,xp===0)continue;gp=(rp*cp-Ju)/xp,Dp=(cp-rp*Ju)/xp,jt.copy(rt.direction).multiplyScalar(gp).add(rt.c1),wl.copy(Tl.ray.direction).multiplyScalar(Dp).add(Tl.ray.origin),yp=Ft.subVectors(jt,wl).lengthSq();var C0=rt.radius*rt.radius;if(yp<=C0){if(fp=(rp*Ju-cp)*(rp*Ju-cp)-xp*(st.lengthSq()-Ju*Ju-C0),fp<=0?ip=hp=Math.sqrt(yp):ip=hp=(cp-rp*Ju-Math.sqrt(fp))/xp,_p=rp*ip-Ju,_p<0||_p*_p>rt.lengthSq()||ip<0)continue;zl.push({clickable:Cl,distance:hp})}}for(Ul=0,Vl=In.line.length;Ul<Vl;Ul+=2){jt.copy(In.line[Ul]),jt.applyMatrix4(Ln.matrixWorld),wl.copy(In.line[Ul+1]),wl.applyMatrix4(Ln.matrixWorld),Ft.subVectors(wl,jt);var P0=Ft.lengthSq();Ft.normalize(),st.subVectors(jt,Tl.ray.origin);var k0=st.dot(Ft);cp=st.dot(Tl.ray.direction),rp=$(Tl.ray.direction.dot(Ft)),xp=1-rp*rp,xp!==0&&(gp=(rp*cp-k0)/xp,Dp=(cp-rp*k0)/xp,jt.add(Ft.multiplyScalar(gp)),wl.copy(Tl.ray.direction).multiplyScalar(Dp).add(Tl.ray.origin),yp=Ft.subVectors(wl,jt).lengthSq(),yp<Dl&&gp*gp<P0&&zl.push({clickable:Cl,distance:Dp}))}for(Ul=0,Vl=In.sphere.length;Ul<Vl;Ul++)if(In.sphere[Ul]instanceof d.Sphere&&(j.copy(In.sphere[Ul]),j.applyMatrix4(Ln.matrixWorld),Tl.ray.isIntersectionSphere(j))){jt.subVectors(j.center,Tl.ray.origin);var T0=jt.dot(Tl.ray.direction);if(fp=T0*T0-(jt.lengthSq()-j.radius*j.radius),T0<0)return zl;fp<=0?hp=T0:hp=T0-Math.sqrt(fp),zl.push({clickable:Cl,distance:hp})}return zl}},"./src/WebGL/core/Texture.ts":(e,o,a)=>{a.r(o),a.d(o,{Texture:()=>_,TextureIdCount:()=>$});var c=a("./src/WebGL/constants/TextureConstants.ts"),d=a("./src/WebGL/math/index.ts"),g=a("./src/WebGL/core/EventDispatcher.ts"),b=a("./src/WebGL/core/UVMapping.ts");class _ extends g.EventDispatcher{constructor(rt,nt){super(),this.id=$++,this.name="",this.image=rt,this.mapping=new b.UVMapping,this.wrapS=c.ClampToEdgeWrapping,this.wrapT=c.ClampToEdgeWrapping,this.anisotropy=1,nt?(this.format=c.RFormat,this.type=c.FloatType,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.magFilter=c.NearestFilter,this.minFilter=c.NearestFilter):(this.format=c.RGBAFormat,this.type=c.UnsignedByteType,this.offset=new d.Vector2(0,0),this.repeat=new d.Vector2(1,1),this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.magFilter=c.LinearFilter,this.minFilter=c.LinearMipMapLinearFilter),this.needsUpdate=!1,this.onUpdate=null}clone(rt=new _){return rt.image=this.image,rt.mapping=this.mapping,rt.wrapS=this.wrapS,rt.wrapT=this.wrapT,rt.magFilter=this.magFilter,rt.minFilter=this.minFilter,rt.anisotropy=this.anisotropy,rt.format=this.format,rt.type=this.type,rt.offset.copy(this.offset),rt.repeat.copy(this.repeat),rt.premultiplyAlpha=this.premultiplyAlpha,rt.flipY=this.flipY,rt.unpackAlignment=this.unpackAlignment,rt}dispose(){this.dispatchEvent({type:"dispose"})}}let $=0},"./src/WebGL/core/UVMapping.ts":(e,o,a)=>{a.r(o),a.d(o,{UVMapping:()=>c});class c{}},"./src/WebGL/core/index.ts":(e,o,a)=>{a.r(o),a.d(o,{EventDispatcher:()=>c.EventDispatcher,Geometry:()=>d.Geometry,GeometryGroup:()=>d.GeometryGroup,GeometryIDCount:()=>d.GeometryIDCount,Light:()=>g.Light,Object3D:()=>g.Object3D,Object3DIDCount:()=>g.Object3DIDCount,Projector:()=>b.Projector,Raycaster:()=>_.Raycaster,Scene:()=>g.Scene,Texture:()=>$.Texture,TextureIdCount:()=>$.TextureIdCount,UVMapping:()=>j.UVMapping,intersectObject:()=>_.intersectObject});var c=a("./src/WebGL/core/EventDispatcher.ts"),d=a("./src/WebGL/core/Geometry.ts"),g=a("./src/WebGL/core/Object3D.ts"),b=a("./src/WebGL/core/Projector.ts"),_=a("./src/WebGL/core/Raycaster.ts"),$=a("./src/WebGL/core/Texture.ts"),j=a("./src/WebGL/core/UVMapping.ts")},"./src/WebGL/index.ts":(e,o,a)=>{a.r(o),a.d(o,{BackSide:()=>c.BackSide,Camera:()=>rt.Camera,ClampToEdgeWrapping:()=>c.ClampToEdgeWrapping,Coloring:()=>c.Coloring,Cylinder:()=>j.Cylinder,DoubleSide:()=>c.DoubleSide,EventDispatcher:()=>d.EventDispatcher,FloatType:()=>c.FloatType,Fog:()=>nt.Fog,FrontSide:()=>c.FrontSide,Geometry:()=>d.Geometry,GeometryGroup:()=>d.GeometryGroup,GeometryIDCount:()=>d.GeometryIDCount,ImposterMaterial:()=>g.ImposterMaterial,InstancedMaterial:()=>g.InstancedMaterial,Light:()=>d.Light,Line:()=>_.Line,LineBasicMaterial:()=>g.LineBasicMaterial,LineStyle:()=>_.LineStyle,LinearFilter:()=>c.LinearFilter,LinearMipMapLinearFilter:()=>c.LinearMipMapLinearFilter,Material:()=>g.Material,MaterialIdCount:()=>g.MaterialIdCount,Matrix3:()=>b.Matrix3,Matrix4:()=>b.Matrix4,Mesh:()=>_.Mesh,MeshDoubleLambertMaterial:()=>g.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>g.MeshLambertMaterial,MeshOutlineMaterial:()=>g.MeshOutlineMaterial,NearestFilter:()=>c.NearestFilter,Object3D:()=>d.Object3D,Object3DIDCount:()=>d.Object3DIDCount,Projector:()=>d.Projector,Quaternion:()=>b.Quaternion,R32Format:()=>c.R32Format,RFormat:()=>c.RFormat,RGBAFormat:()=>c.RGBAFormat,Ray:()=>b.Ray,Raycaster:()=>d.Raycaster,Renderer:()=>st.Renderer,Scene:()=>d.Scene,ShaderLib:()=>$.ShaderLib,ShaderUtils:()=>$.ShaderUtils,Shading:()=>c.Shading,Sphere:()=>j.Sphere,SphereImposterMaterial:()=>g.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>g.SphereImposterOutlineMaterial,Sprite:()=>_.Sprite,SpriteAlignment:()=>c.SpriteAlignment,SpriteMaterial:()=>g.SpriteMaterial,SpritePlugin:()=>jt.SpritePlugin,StickImposterMaterial:()=>g.StickImposterMaterial,StickImposterOutlineMaterial:()=>g.StickImposterOutlineMaterial,Texture:()=>d.Texture,TextureIdCount:()=>d.TextureIdCount,TextureOperations:()=>c.TextureOperations,Triangle:()=>j.Triangle,UVMapping:()=>d.UVMapping,UnsignedByteType:()=>c.UnsignedByteType,Vector2:()=>b.Vector2,Vector3:()=>b.Vector3,VolumetricMaterial:()=>g.VolumetricMaterial,basic:()=>$.basic,clamp:()=>b.clamp,clone:()=>$.clone,conversionMatrix3:()=>b.conversionMatrix3,degToRad:()=>b.degToRad,instanced:()=>$.instanced,intersectObject:()=>d.intersectObject,lambert:()=>$.lambert,lambertdouble:()=>$.lambertdouble,outline:()=>$.outline,screen:()=>$.screen,screenaa:()=>$.screenaa,sphereimposter:()=>$.sphereimposter,sphereimposteroutline:()=>$.sphereimposteroutline,sprite:()=>$.sprite,stickimposter:()=>$.stickimposter,stickimposteroutline:()=>$.stickimposteroutline,volumetric:()=>$.volumetric});var c=a("./src/WebGL/constants/index.ts"),d=a("./src/WebGL/core/index.ts"),g=a("./src/WebGL/materials/index.ts"),b=a("./src/WebGL/math/index.ts"),_=a("./src/WebGL/objects/index.ts"),$=a("./src/WebGL/shaders/index.ts"),j=a("./src/WebGL/shapes/index.ts"),rt=a("./src/WebGL/Camera.ts"),nt=a("./src/WebGL/Fog.ts"),st=a("./src/WebGL/Renderer.ts"),jt=a("./src/WebGL/SpritePlugin.ts")},"./src/WebGL/materials/ImposterMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{ImposterMaterial:()=>$});var c=a("./src/WebGL/constants/Coloring.ts"),d=a("./src/WebGL/constants/Shading.ts"),g=a("./src/colors.ts"),b=a("./src/WebGL/math/index.ts"),_=a("./src/WebGL/materials/Material.ts");class $ extends _.Material{constructor(rt){super(),this.color=new g.Color(16777215),this.ambient=new g.Color(1048575),this.emissive=new g.Color(0),this.imposter=!0,this.wrapAround=!1,this.wrapRGB=new b.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=d.Shading.SmoothShading,this.shaderID=null,this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.setValues(rt)}clone(rt=new $){return super.clone.call(this,rt),rt.color.copy(this.color),rt.ambient.copy(this.ambient),rt.emissive.copy(this.emissive),rt.wrapAround=this.wrapAround,rt.wrapRGB.copy(this.wrapRGB),rt.map=this.map,rt.lightMap=this.lightMap,rt.specularMap=this.specularMap,rt.envMap=this.envMap,rt.combine=this.combine,rt.reflectivity=this.reflectivity,rt.refractionRatio=this.refractionRatio,rt.fog=this.fog,rt.shading=this.shading,rt.shaderID=this.shaderID,rt.vertexColors=this.vertexColors,rt.skinning=this.skinning,rt.morphTargets=this.morphTargets,rt.morphNormals=this.morphNormals,rt}}},"./src/WebGL/materials/InstancedMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{InstancedMaterial:()=>$});var c=a("./src/WebGL/constants/Coloring.ts"),d=a("./src/WebGL/constants/Shading.ts"),g=a("./src/colors.ts"),b=a("./src/WebGL/math/index.ts"),_=a("./src/WebGL/materials/Material.ts");class $ extends _.Material{constructor(rt){super(),this.color=new g.Color(16777215),this.ambient=new g.Color(1048575),this.emissive=new g.Color(0),this.wrapAround=!1,this.wrapRGB=new b.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=d.Shading.SmoothShading,this.shaderID="instanced",this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.sphere=null,this.setValues(rt)}clone(rt=new $){return super.clone.call(this,rt),rt.color.copy(this.color),rt.ambient.copy(this.ambient),rt.emissive.copy(this.emissive),rt.wrapAround=this.wrapAround,rt.wrapRGB.copy(this.wrapRGB),rt.map=this.map,rt.lightMap=this.lightMap,rt.specularMap=this.specularMap,rt.envMap=this.envMap,rt.combine=this.combine,rt.reflectivity=this.reflectivity,rt.refractionRatio=this.refractionRatio,rt.fog=this.fog,rt.shading=this.shading,rt.shaderID=this.shaderID,rt.vertexColors=this.vertexColors,rt.skinning=this.skinning,rt.morphTargets=this.morphTargets,rt.morphNormals=this.morphNormals,rt.sphere=this.sphere,rt}}},"./src/WebGL/materials/LineBasicMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{LineBasicMaterial:()=>g});var c=a("./src/colors.ts"),d=a("./src/WebGL/materials/Material.ts");class g extends d.Material{constructor(_){super(),this.color=new c.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=!1,this.fog=!0,this.shaderID="basic",this.setValues(_)}clone(_=new g){return super.clone.call(this,_),_.color.copy(this.color),_}}},"./src/WebGL/materials/Material.ts":(e,o,a)=>{a.r(o),a.d(o,{Material:()=>_,MaterialIdCount:()=>$});var c=a("./src/WebGL/constants/Sides.ts"),d=a("./src/WebGL/core/index.ts"),g=a("./src/WebGL/math/index.ts"),b=a("./src/colors.ts");class _ extends d.EventDispatcher{constructor(){super(...arguments),this.id=$++,this.name="",this.side=c.FrontSide,this.opacity=1,this.transparent=!1,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.visible=!0,this.needsUpdate=!0,this.outline=!1,this.wireframe=!1,this.shaded=!1}setValues(rt={}){if(rt!==void 0)for(var nt in rt){var st=rt[nt];if(st===void 0){console.warn("$3Dmol.Material: '"+nt+"' parameter is undefined.");continue}if(nt in this){var jt=this[nt];jt instanceof b.Color&&st instanceof b.Color?jt.copy(st):jt instanceof b.Color?jt.set(st):jt instanceof g.Vector3&&st instanceof g.Vector3?jt.copy(st):this[nt]=st}}}clone(rt=new _){return rt.name=this.name,rt.side=this.side,rt.opacity=this.opacity,rt.transparent=this.transparent,rt.depthTest=this.depthTest,rt.depthWrite=this.depthWrite,rt.polygonOffset=this.polygonOffset,rt.polygonOffsetFactor=this.polygonOffsetFactor,rt.polygonOffsetUnits=this.polygonOffsetUnits,rt.alphaTest=this.alphaTest,rt.overdraw=this.overdraw,rt.visible=this.visible,rt}makeShaded(rt){this.shaded=!0,this.uniforms&&(this.uniforms.shading={type:"i",value:rt},this.uniforms.vWidth={type:"f",value:1},this.uniforms.vHeight={type:"f",value:1})}dispose(){this.dispatchEvent({type:"dispose"})}}let $=0},"./src/WebGL/materials/MeshDoubleLambertMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{MeshDoubleLambertMaterial:()=>g});var c=a("./src/WebGL/constants/Sides.ts"),d=a("./src/WebGL/materials/MeshLambertMaterial.ts");class g extends d.MeshLambertMaterial{constructor(_){super(_),this.shaderID="lambertdouble",this.side=c.DoubleSide,this.outline=!1}clone(_=new g){return super.clone.call(this,_),_}}},"./src/WebGL/materials/MeshLambertMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{MeshLambertMaterial:()=>$});var c=a("./src/WebGL/constants/Coloring.ts"),d=a("./src/WebGL/constants/Shading.ts"),g=a("./src/WebGL/materials/Material.ts"),b=a("./src/colors.ts"),_=a("./src/WebGL/math/index.ts");class $ extends g.Material{constructor(rt){super(),this.color=new b.Color(16777215),this.ambient=new b.Color(1048575),this.emissive=new b.Color(0),this.wrapAround=!1,this.wrapRGB=new _.Vector3(1,1,1),this.map=void 0,this.lightMap=null,this.specularMap=null,this.envMap=null,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.shading=d.Shading.SmoothShading,this.shaderID="lambert",this.vertexColors=c.Coloring.NoColors,this.skinning=!1,this.setValues(rt)}clone(rt=new $){return super.clone.call(this,rt),rt.color.copy(this.color),rt.ambient.copy(this.ambient),rt.emissive.copy(this.emissive),rt.wrapAround=this.wrapAround,rt.wrapRGB.copy(this.wrapRGB),rt.map=this.map,rt.lightMap=this.lightMap,rt.specularMap=this.specularMap,rt.envMap=this.envMap,rt.combine=this.combine,rt.reflectivity=this.reflectivity,rt.refractionRatio=this.refractionRatio,rt.fog=this.fog,rt.shading=this.shading,rt.shaderID=this.shaderID,rt.vertexColors=this.vertexColors,rt.skinning=this.skinning,rt.morphTargets=this.morphTargets,rt.morphNormals=this.morphNormals,rt}}},"./src/WebGL/materials/MeshOutlineMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{MeshOutlineMaterial:()=>g});var c=a("./src/colors.ts"),d=a("./src/WebGL/materials/Material.ts");class g extends d.Material{constructor(_){super(),_=_||{},this.fog=!0,this.shaderID="outline",this.wireframe=!1,this.outlineColor=c.CC.color(_.color||new c.Color(0,0,0)),this.outlineWidth=_.width||.1,this.outlinePushback=_.pushback||1,this.outlineMaxPixels=_.maxpixels||0}clone(_=new g){return super.clone.call(this,_),_.fog=this.fog,_.shaderID=this.shaderID,_.wireframe=this.wireframe,_.outlineColor=this.outlineColor,_.outlineWidth=this.outlineWidth,_.outlinePushback=this.outlinePushback,_.outlineMaxPixels=this.outlineMaxPixels,_}}},"./src/WebGL/materials/SphereImposterMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{SphereImposterMaterial:()=>d});var c=a("./src/WebGL/materials/ImposterMaterial.ts");class d extends c.ImposterMaterial{constructor(b){super(b),this.shaderID="sphereimposter",this.setValues(b)}clone(b=new d){return super.clone.call(this,b),b}}},"./src/WebGL/materials/SphereImposterOutlineMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{SphereImposterOutlineMaterial:()=>g});var c=a("./src/colors.ts"),d=a("./src/WebGL/materials/ImposterMaterial.ts");class g extends d.ImposterMaterial{constructor(_){super(_),_=_||{},this.shaderID="sphereimposteroutline",this.outlineColor=c.CC.color(_.color||new c.Color(0,0,0)),this.outlineWidth=_.width||.1,this.outlinePushback=_.pushback||1,this.outlineMaxPixels=_.maxpixels||0,this.setValues(_)}clone(_=new g){return super.clone.call(this,_),_.outlineColor=this.outlineColor,_.outlineWidth=this.outlineWidth,_.outlinePushback=this.outlinePushback,_.outlineMaxPixels=this.outlineMaxPixels,_}}},"./src/WebGL/materials/SpriteMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{SpriteMaterial:()=>$});var c=a("./src/WebGL/constants/SpriteAlignment.ts"),d=a("./src/WebGL/core/Texture.ts"),g=a("./src/colors.ts"),b=a("./src/WebGL/math/index.ts"),_=a("./src/WebGL/materials/Material.ts");class $ extends _.Material{constructor(rt){super(),this.color=new g.Color(16777215),this.map=new d.Texture,this.useScreenCoordinates=!0,this.fog=!1,this.uvOffset=new b.Vector2(0,0),this.uvScale=new b.Vector2(1,1),this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.screenOffset=this.screenOffset,this.scaleByViewPort=!this.sizeAttenuation,this.alignment=c.SpriteAlignment.center.clone(),this.setValues(rt),rt=rt||{},rt.depthTest===void 0&&(this.depthTest=!this.useScreenCoordinates),rt.sizeAttenuation===void 0&&(this.sizeAttenuation=!this.useScreenCoordinates),rt.scaleByViewPort===void 0&&(this.scaleByViewPort=!this.sizeAttenuation)}clone(rt=new $){return super.clone.call(this,rt),rt.color.copy(this.color),rt.map=this.map,rt.useScreenCoordinates=this.useScreenCoordinates,rt.screenOffset=this.screenOffset,rt.sizeAttenuation=this.sizeAttenuation,rt.scaleByViewport=this.scaleByViewPort,rt.alignment.copy(this.alignment),rt.uvOffset.copy(this.uvOffset),rt}}},"./src/WebGL/materials/StickImposterMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{StickImposterMaterial:()=>d});var c=a("./src/WebGL/materials/ImposterMaterial.ts");class d extends c.ImposterMaterial{constructor(b){super(b),this.shaderID="stickimposter",this.setValues(b)}clone(b=new d){return super.clone.call(this,b),b}}},"./src/WebGL/materials/StickImposterOutlineMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{StickImposterOutlineMaterial:()=>g});var c=a("./src/colors.ts"),d=a("./src/WebGL/materials/ImposterMaterial.ts");class g extends d.ImposterMaterial{constructor(_={}){super(_),this.shaderID="stickimposteroutline",this.outlineColor=new c.Color(0,0,0),this.outlineWidth=.1,this.outlinePushback=1,this.outlineMaxPixels=0,_.color&&(this.outlineColor=c.CC.color(_.color)),_.width&&(this.outlineWidth=_.width),_.pushback&&(this.outlinePushback=_.pushback),_.maxpixels&&(this.outlineMaxPixels=_.maxpixels),this.setValues(_)}clone(_=new g){return super.clone.call(this,_),_.outlineColor=this.outlineColor,_.outlineWidth=this.outlineWidth,_.outlinePushback=this.outlinePushback,_.outlineMaxPixels=this.outlineMaxPixels,_}}},"./src/WebGL/materials/VolumetricMaterial.ts":(e,o,a)=>{a.r(o),a.d(o,{VolumetricMaterial:()=>b});var c=a("./src/WebGL/constants/Sides.ts"),d=a("./src/colors.ts"),g=a("./src/WebGL/materials/Material.ts");class b extends g.Material{constructor($){super(),this.transparent=!1,this.volumetric=!0,this.color=new d.Color(16777215),this.transferfn=null,this.map=void 0,this.extent=[],this.maxdepth=100,this.unit=0,this.texmatrix=null,this.transfermin=-1,this.transfermax=1,this.subsamples=5,this.shaderID="volumetric",this.side=c.FrontSide,this.setValues($)}clone($=new b){return super.clone.call(this,$),$.transparent=this.transparent,$.volumetric=this.volumetric,$.color=this.color,$.transferfn=this.transferfn,$.map=this.map,$.extent=this.extent,$.maxdepth=this.maxdepth,$.unit=this.unit,$.texmatrix=this.texmatrix,$.transfermin=this.transfermin,$.transfermax=this.transfermax,$.subsamples=this.subsamples,$.shaderID=this.shaderID,$.side=this.side,$}}},"./src/WebGL/materials/index.ts":(e,o,a)=>{a.r(o),a.d(o,{ImposterMaterial:()=>c.ImposterMaterial,InstancedMaterial:()=>d.InstancedMaterial,LineBasicMaterial:()=>g.LineBasicMaterial,Material:()=>b.Material,MaterialIdCount:()=>b.MaterialIdCount,MeshDoubleLambertMaterial:()=>_.MeshDoubleLambertMaterial,MeshLambertMaterial:()=>$.MeshLambertMaterial,MeshOutlineMaterial:()=>j.MeshOutlineMaterial,SphereImposterMaterial:()=>rt.SphereImposterMaterial,SphereImposterOutlineMaterial:()=>nt.SphereImposterOutlineMaterial,SpriteMaterial:()=>st.SpriteMaterial,StickImposterMaterial:()=>jt.StickImposterMaterial,StickImposterOutlineMaterial:()=>wl.StickImposterOutlineMaterial,VolumetricMaterial:()=>Ft.VolumetricMaterial});var c=a("./src/WebGL/materials/ImposterMaterial.ts"),d=a("./src/WebGL/materials/InstancedMaterial.ts"),g=a("./src/WebGL/materials/LineBasicMaterial.ts"),b=a("./src/WebGL/materials/Material.ts"),_=a("./src/WebGL/materials/MeshDoubleLambertMaterial.ts"),$=a("./src/WebGL/materials/MeshLambertMaterial.ts"),j=a("./src/WebGL/materials/MeshOutlineMaterial.ts"),rt=a("./src/WebGL/materials/SphereImposterMaterial.ts"),nt=a("./src/WebGL/materials/SphereImposterOutlineMaterial.ts"),st=a("./src/WebGL/materials/SpriteMaterial.ts"),jt=a("./src/WebGL/materials/StickImposterMaterial.ts"),wl=a("./src/WebGL/materials/StickImposterOutlineMaterial.ts"),Ft=a("./src/WebGL/materials/VolumetricMaterial.ts")},"./src/WebGL/math/Quaternion.ts":(e,o,a)=>{a.r(o),a.d(o,{Quaternion:()=>c});class c{constructor(g,b,_,$){this.x=g||0,this.y=b||0,this.z=_||0,this.w=$!==void 0?$:1}set(g,b,_,$){return this.x=g,this.y=b,this.z=_,this.w=$,this}copy(g){return this.x=g.x,this.y=g.y,this.z=g.z,this.w=g.w,this}conjugate(){return this.x*=-1,this.y*=-1,this.z*=-1,this}inverse(){return this.conjugate().normalize()}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}lengthxyz(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}normalize(){let g=this.length();return g===0?(this.x=0,this.y=0,this.z=0,this.w=1):(g=1/g,this.x*=g,this.y*=g,this.z*=g,this.w*=g),this}multiply(g){return this.multiplyQuaternions(this,g)}multiplyScalar(g){return this.x*=g,this.y*=g,this.z*=g,this.w*=g,this}multiplyQuaternions(g,b){const _=g.x,$=g.y,j=g.z,rt=g.w,nt=b.x,st=b.y,jt=b.z,wl=b.w;return this.x=_*wl+rt*nt+$*jt-j*st,this.y=$*wl+rt*st+j*nt-_*jt,this.z=j*wl+rt*jt+_*st-$*nt,this.w=rt*wl-_*nt-$*st-j*jt,this}sub(g){return this.x-=g.x,this.y-=g.y,this.z-=g.z,this.w-=g.w,this}clone(){return new c(this.x,this.y,this.z,this.w)}setFromEuler(g){const b=Math.cos(g.x/2),_=Math.cos(g.y/2),$=Math.cos(g.z/2),j=Math.sin(g.x/2),rt=Math.sin(g.y/2),nt=Math.sin(g.z/2);return this.x=j*_*$+b*rt*nt,this.y=b*rt*$-j*_*nt,this.z=b*_*nt+j*rt*$,this.w=b*_*$-j*rt*nt,this}}},"./src/WebGL/math/Vector2.ts":(e,o,a)=>{a.r(o),a.d(o,{Vector2:()=>c});class c{constructor(g,b){this.x=g||0,this.y=b||0}set(g,b){return this.x=g,this.y=b,this}subVectors(g,b){return this.x=g.x-b.x,this.y=g.y-b.y,this}copy(g){return this.x=g.x,this.y=g.y,this}clone(){return new c(this.x,this.y)}}},"./src/WebGL/math/index.ts":(e,o,a)=>{a.r(o),a.d(o,{Matrix3:()=>$.Matrix3,Matrix4:()=>$.Matrix4,Quaternion:()=>c.Quaternion,Ray:()=>$.Ray,Vector2:()=>d.Vector2,Vector3:()=>$.Vector3,clamp:()=>g.clamp,conversionMatrix3:()=>b.conversionMatrix3,degToRad:()=>_.degToRad});var c=a("./src/WebGL/math/Quaternion.ts"),d=a("./src/WebGL/math/Vector2.ts"),g=a("./src/WebGL/math/utils/clamp.ts"),b=a("./src/WebGL/math/utils/conversionMatrix3.ts"),_=a("./src/WebGL/math/utils/degToRad.ts"),$=a("./src/WebGL/math/math.ts")},"./src/WebGL/math/math.ts":(e,o,a)=>{a.r(o),a.d(o,{Matrix3:()=>st,Matrix4:()=>rt,Ray:()=>jt,Vector3:()=>nt});var c=a("./src/WebGL/math/utils/degToRad.ts"),d=a("./src/WebGL/math/utils/clamp.ts"),g,b,_,$,j;class rt{constructor(Ft=1,it=0,ot=0,Ln=0,Cl=0,Tl=1,zl=0,In=0,Ml=0,Dl=0,Ul=1,Vl=0,mu=0,rp=0,Ju=0,cp=1){typeof Ft<"u"&&typeof Ft!="number"?this.elements=new Float32Array(Ft):(this.elements=new Float32Array(16),this.elements[0]=Ft,this.elements[4]=it,this.elements[8]=ot,this.elements[12]=Ln,this.elements[1]=Cl,this.elements[5]=Tl,this.elements[9]=zl,this.elements[13]=In,this.elements[2]=Ml,this.elements[6]=Dl,this.elements[10]=Ul,this.elements[14]=Vl,this.elements[3]=mu,this.elements[7]=rp,this.elements[11]=Ju,this.elements[15]=cp)}makeScale(Ft,it,ot){throw new Error("Method not implemented.")}set(Ft,it,ot,Ln,Cl,Tl,zl,In,Ml,Dl,Ul,Vl,mu,rp,Ju,cp){const hp=this.elements;return hp[0]=Ft,hp[4]=it,hp[8]=ot,hp[12]=Ln,hp[1]=Cl,hp[5]=Tl,hp[9]=zl,hp[13]=In,hp[2]=Ml,hp[6]=Dl,hp[10]=Ul,hp[14]=Vl,hp[3]=mu,hp[7]=rp,hp[11]=Ju,hp[15]=cp,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}copy(Ft){const it=Ft.elements;return this.set(it[0],it[4],it[8],it[12],it[1],it[5],it[9],it[13],it[2],it[6],it[10],it[14],it[3],it[7],it[11],it[15]),this}matrix3FromTopLeft(){const Ft=this.elements;return new st(Ft[0],Ft[4],Ft[8],Ft[1],Ft[5],Ft[9],Ft[2],Ft[6],Ft[10])}setRotationFromEuler(Ft,it){const ot=this.elements,{x:Ln,y:Cl,z:Tl}=Ft,zl=Math.cos(Ln),In=Math.sin(Ln),Ml=Math.cos(Cl),Dl=Math.sin(Cl),Ul=Math.cos(Tl),Vl=Math.sin(Tl);if(it===void 0||it==="XYZ"){const mu=zl*Ul,rp=zl*Vl,Ju=In*Ul,cp=In*Vl;ot[0]=Ml*Ul,ot[4]=-Ml*Vl,ot[8]=Dl,ot[1]=rp+Ju*Dl,ot[5]=mu-cp*Dl,ot[9]=-In*Ml,ot[2]=cp-mu*Dl,ot[6]=Ju+rp*Dl,ot[10]=zl*Ml}else console.error(`Error with matrix4 setRotationFromEuler. Order: ${it}`);return this}setRotationFromQuaternion(Ft){const it=this.elements,{x:ot,y:Ln,z:Cl,w:Tl}=Ft,zl=ot+ot,In=Ln+Ln,Ml=Cl+Cl,Dl=ot*zl,Ul=ot*In,Vl=ot*Ml,mu=Ln*In,rp=Ln*Ml,Ju=Cl*Ml,cp=Tl*zl,hp=Tl*In,yp=Tl*Ml;return it[0]=1-(mu+Ju),it[4]=Ul-yp,it[8]=Vl+hp,it[1]=Ul+yp,it[5]=1-(Dl+Ju),it[9]=rp-cp,it[2]=Vl-hp,it[6]=rp+cp,it[10]=1-(Dl+mu),this}multiplyMatrices(Ft,it){const ot=Ft.elements,Ln=it.elements,Cl=this.elements,Tl=ot[0],zl=ot[4],In=ot[8],Ml=ot[12],Dl=ot[1],Ul=ot[5],Vl=ot[9],mu=ot[13],rp=ot[2],Ju=ot[6],cp=ot[10],hp=ot[14],yp=ot[3],xp=ot[7],fp=ot[11],_p=ot[15],ip=Ln[0],gp=Ln[4],Dp=Ln[8],Fp=Ln[12],n0=Ln[1],S0=Ln[5],C0=Ln[9],P0=Ln[13],k0=Ln[2],T0=Ln[6],im=Ln[10],am=Ln[14],bm=Ln[3],_g=Ln[7],b0=Ln[11],U0=Ln[15];return Cl[0]=Tl*ip+zl*n0+In*k0+Ml*bm,Cl[4]=Tl*gp+zl*S0+In*T0+Ml*_g,Cl[8]=Tl*Dp+zl*C0+In*im+Ml*b0,Cl[12]=Tl*Fp+zl*P0+In*am+Ml*U0,Cl[1]=Dl*ip+Ul*n0+Vl*k0+mu*bm,Cl[5]=Dl*gp+Ul*S0+Vl*T0+mu*_g,Cl[9]=Dl*Dp+Ul*C0+Vl*im+mu*b0,Cl[13]=Dl*Fp+Ul*P0+Vl*am+mu*U0,Cl[2]=rp*ip+Ju*n0+cp*k0+hp*bm,Cl[6]=rp*gp+Ju*S0+cp*T0+hp*_g,Cl[10]=rp*Dp+Ju*C0+cp*im+hp*b0,Cl[14]=rp*Fp+Ju*P0+cp*am+hp*U0,Cl[3]=yp*ip+xp*n0+fp*k0+_p*bm,Cl[7]=yp*gp+xp*S0+fp*T0+_p*_g,Cl[11]=yp*Dp+xp*C0+fp*im+_p*b0,Cl[15]=yp*Fp+xp*P0+fp*am+_p*U0,this}multiplyScalar(Ft){const it=this.elements;return it[0]*=Ft,it[4]*=Ft,it[8]*=Ft,it[12]*=Ft,it[1]*=Ft,it[5]*=Ft,it[9]*=Ft,it[13]*=Ft,it[2]*=Ft,it[6]*=Ft,it[10]*=Ft,it[14]*=Ft,it[3]*=Ft,it[7]*=Ft,it[11]*=Ft,it[15]*=Ft,this}makeTranslation(Ft,it,ot){return this.set(1,0,0,Ft,0,1,0,it,0,0,1,ot,0,0,0,1),this}snap(Ft){const it=Math.pow(10,4),ot=this.elements;for(let Ln=0;Ln<16;Ln++){const Cl=Math.round(ot[Ln]);Cl===Math.round(ot[Ln]*it)/it&&(ot[Ln]=Cl)}return this}transpose(){const Ft=this.elements;let it;return it=Ft[1],Ft[1]=Ft[4],Ft[4]=it,it=Ft[2],Ft[2]=Ft[8],Ft[8]=it,it=Ft[6],Ft[6]=Ft[9],Ft[9]=it,it=Ft[3],Ft[3]=Ft[12],Ft[12]=it,it=Ft[7],Ft[7]=Ft[13],Ft[13]=it,it=Ft[11],Ft[11]=Ft[14],Ft[14]=it,this}setPosition(Ft){const it=this.elements;return it[12]=Ft.x,it[13]=Ft.y,it[14]=Ft.z,this}translate(Ft){const it=this.elements;return it[12]+=Ft.x,it[13]+=Ft.y,it[14]+=Ft.z,this}getInverse(Ft,it){const ot=this.elements,Ln=Ft.elements,Cl=Ln[0],Tl=Ln[4],zl=Ln[8],In=Ln[12],Ml=Ln[1],Dl=Ln[5],Ul=Ln[9],Vl=Ln[13],mu=Ln[2],rp=Ln[6],Ju=Ln[10],cp=Ln[14],hp=Ln[3],yp=Ln[7],xp=Ln[11],fp=Ln[15];ot[0]=Ul*cp*yp-Vl*Ju*yp+Vl*rp*xp-Dl*cp*xp-Ul*rp*fp+Dl*Ju*fp,ot[4]=In*Ju*yp-zl*cp*yp-In*rp*xp+Tl*cp*xp+zl*rp*fp-Tl*Ju*fp,ot[8]=zl*Vl*yp-In*Ul*yp+In*Dl*xp-Tl*Vl*xp-zl*Dl*fp+Tl*Ul*fp,ot[12]=In*Ul*rp-zl*Vl*rp-In*Dl*Ju+Tl*Vl*Ju+zl*Dl*cp-Tl*Ul*cp,ot[1]=Vl*Ju*hp-Ul*cp*hp-Vl*mu*xp+Ml*cp*xp+Ul*mu*fp-Ml*Ju*fp,ot[5]=zl*cp*hp-In*Ju*hp+In*mu*xp-Cl*cp*xp-zl*mu*fp+Cl*Ju*fp,ot[9]=In*Ul*hp-zl*Vl*hp-In*Ml*xp+Cl*Vl*xp+zl*Ml*fp-Cl*Ul*fp,ot[13]=zl*Vl*mu-In*Ul*mu+In*Ml*Ju-Cl*Vl*Ju-zl*Ml*cp+Cl*Ul*cp,ot[2]=Dl*cp*hp-Vl*rp*hp+Vl*mu*yp-Ml*cp*yp-Dl*mu*fp+Ml*rp*fp,ot[6]=In*rp*hp-Tl*cp*hp-In*mu*yp+Cl*cp*yp+Tl*mu*fp-Cl*rp*fp,ot[10]=Tl*Vl*hp-In*Dl*hp+In*Ml*yp-Cl*Vl*yp-Tl*Ml*fp+Cl*Dl*fp,ot[14]=In*Dl*mu-Tl*Vl*mu-In*Ml*rp+Cl*Vl*rp+Tl*Ml*cp-Cl*Dl*cp,ot[3]=Ul*rp*hp-Dl*Ju*hp-Ul*mu*yp+Ml*Ju*yp+Dl*mu*xp-Ml*rp*xp,ot[7]=Tl*Ju*hp-zl*rp*hp+zl*mu*yp-Cl*Ju*yp-Tl*mu*xp+Cl*rp*xp,ot[11]=zl*Dl*hp-Tl*Ul*hp-zl*Ml*yp+Cl*Ul*yp+Tl*Ml*xp-Cl*Dl*xp,ot[15]=Tl*Ul*mu-zl*Dl*mu+zl*Ml*rp-Cl*Ul*rp-Tl*Ml*Ju+Cl*Dl*Ju;const _p=Cl*ot[0]+Ml*ot[4]+mu*ot[8]+hp*ot[12];if(_p===0){const ip="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(it)throw new Error(ip);return console.warn(ip),this.identity(),this}return this.multiplyScalar(1/_p),this}isReflected(){const Ft=this.elements,it=Ft[0],ot=Ft[4],Ln=Ft[8],Cl=Ft[1],Tl=Ft[5],zl=Ft[9],In=Ft[2],Ml=Ft[6],Dl=Ft[10];return it*Tl*Dl+Cl*Ml*Ln+In*ot*zl-In*Tl*Ln-Cl*ot*Dl-it*Ml*zl<0}scale(Ft){const it=this.elements,{x:ot}=Ft,{y:Ln}=Ft,{z:Cl}=Ft;return it[0]*=ot,it[4]*=Ln,it[8]*=Cl,it[1]*=ot,it[5]*=Ln,it[9]*=Cl,it[2]*=ot,it[6]*=Ln,it[10]*=Cl,it[3]*=ot,it[7]*=Ln,it[11]*=Cl,this}getMaxScaleOnAxis(){const Ft=this.elements,it=Ft[0]*Ft[0]+Ft[1]*Ft[1]+Ft[2]*Ft[2],ot=Ft[4]*Ft[4]+Ft[5]*Ft[5]+Ft[6]*Ft[6],Ln=Ft[8]*Ft[8]+Ft[9]*Ft[9]+Ft[10]*Ft[10];return Math.sqrt(Math.max(it,Math.max(ot,Ln)))}makeFrustum(Ft,it,ot,Ln,Cl,Tl){const zl=this.elements,In=2*Cl/(it-Ft),Ml=2*Cl/(Ln-ot),Dl=(it+Ft)/(it-Ft),Ul=(Ln+ot)/(Ln-ot),Vl=-(Tl+Cl)/(Tl-Cl),mu=-2*Tl*Cl/(Tl-Cl);return zl[0]=In,zl[4]=0,zl[8]=Dl,zl[12]=0,zl[1]=0,zl[5]=Ml,zl[9]=Ul,zl[13]=0,zl[2]=0,zl[6]=0,zl[10]=Vl,zl[14]=mu,zl[3]=0,zl[7]=0,zl[11]=-1,zl[15]=0,this}makePerspective(Ft,it,ot,Ln){const Cl=ot*Math.tan((0,c.degToRad)(Ft*.5)),Tl=-Cl,zl=Tl*it,In=Cl*it;return this.makeFrustum(zl,In,Tl,Cl,ot,Ln)}makeOrthographic(Ft,it,ot,Ln,Cl,Tl){const zl=this.elements,In=1/(it-Ft),Ml=1/(ot-Ln),Dl=1/(Tl-Cl),Ul=(it+Ft)*In,Vl=(ot+Ln)*Ml,mu=(Tl+Cl)*Dl;return zl[0]=2*In,zl[4]=0,zl[8]=0,zl[12]=-Ul,zl[1]=0,zl[5]=2*Ml,zl[9]=0,zl[13]=-Vl,zl[2]=0,zl[6]=0,zl[10]=-2*Dl,zl[14]=-mu,zl[3]=0,zl[7]=0,zl[11]=0,zl[15]=1,this}isEqual(Ft){const it=Ft.elements,ot=this.elements;return ot[0]===it[0]&&ot[4]===it[4]&&ot[8]===it[8]&&ot[12]===it[12]&&ot[1]===it[1]&&ot[5]===it[5]&&ot[9]===it[9]&&ot[13]===it[13]&&ot[2]===it[2]&&ot[6]===it[6]&&ot[10]===it[10]&&ot[14]===it[14]&&ot[3]===it[3]&&ot[7]===it[7]&&ot[11]===it[11]&&ot[15]===it[15]}clone(){const Ft=this.elements;return new rt(Ft[0],Ft[4],Ft[8],Ft[12],Ft[1],Ft[5],Ft[9],Ft[13],Ft[2],Ft[6],Ft[10],Ft[14],Ft[3],Ft[7],Ft[11],Ft[15])}isIdentity(){const Ft=this.elements;return Ft[0]===1&&Ft[4]===0&&Ft[8]===0&&Ft[12]===0&&Ft[1]===0&&Ft[5]===1&&Ft[9]===0&&Ft[13]===0&&Ft[2]===0&&Ft[6]===0&&Ft[10]===1&&Ft[14]===0&&Ft[3]===0&&Ft[7]===0&&Ft[11]===0&&Ft[15]===1}isNearlyIdentity(Ft){return this.clone().snap(Ft).isIdentity()}getScale(Ft){const it=this.elements;return Ft=Ft||new nt,_.set(it[0],it[1],it[2]),$.set(it[4],it[5],it[6]),j.set(it[8],it[9],it[10]),Ft.x=_.length(),Ft.y=$.length(),Ft.z=j.length(),Ft}lookAt(Ft,it,ot){const Ln=this.elements;return j.subVectors(Ft,it).normalize(),j.length()===0&&(j.z=1),_.crossVectors(ot,j).normalize(),_.length()===0&&(j.x+=1e-4,_.crossVectors(ot,j).normalize()),$.crossVectors(j,_),Ln[0]=_.x,Ln[4]=$.x,Ln[8]=j.x,Ln[1]=_.y,Ln[5]=$.y,Ln[9]=j.y,Ln[2]=_.z,Ln[6]=$.z,Ln[10]=j.z,this}compose(Ft,it,ot){const Ln=this.elements;return g.identity(),g.setRotationFromQuaternion(it),b.makeScale(ot.x,ot.y,ot.z),this.multiplyMatrices(g,b),Ln[12]=Ft.x,Ln[13]=Ft.y,Ln[14]=Ft.z,this}}g=new rt,b=new rt;class nt{constructor(Ft,it,ot){this.x=Ft||0,this.y=it||0,this.z=ot||0,this.atomid=void 0}set(Ft,it,ot){return this.x=Ft,this.y=it,this.z=ot,this}copy(Ft){return this.x=Ft.x,this.y=Ft.y,this.z=Ft.z,this}add(Ft){return this.x+=Ft.x,this.y+=Ft.y,this.z+=Ft.z,this}addVectors(Ft,it){return this.x=Ft.x+it.x,this.y=Ft.y+it.y,this.z=Ft.z+it.z,this}multiplyVectors(Ft,it){return this.x=Ft.x*it.x,this.y=Ft.y*it.y,this.z=Ft.z*it.z,this}sub(Ft){return this.x-=Ft.x,this.y-=Ft.y,this.z-=Ft.z,this}subVectors(Ft,it){return this.x=Ft.x-it.x,this.y=Ft.y-it.y,this.z=Ft.z-it.z,this}multiplyScalar(Ft){return this.x*=Ft,this.y*=Ft,this.z*=Ft,this}divideScalar(Ft){return Ft!==0?(this.x/=Ft,this.y/=Ft,this.z/=Ft):(this.x=0,this.y=0,this.z=0),this}max(Ft){return this.x=Math.max(this.x,Ft.x),this.y=Math.max(this.y,Ft.y),this.z=Math.max(this.z,Ft.z),this}min(Ft){return this.x=Math.min(this.x,Ft.x),this.y=Math.min(this.y,Ft.y),this.z=Math.min(this.z,Ft.z),this}distanceTo(Ft){return Math.sqrt(this.distanceToSquared(Ft))}distanceToSquared(Ft){const it=this.x-Ft.x,ot=this.y-Ft.y,Ln=this.z-Ft.z;return it*it+ot*ot+Ln*Ln}applyMatrix3(Ft){const{x:it}=this,{y:ot}=this,{z:Ln}=this,Cl=Ft.elements;return this.x=Cl[0]*it+Cl[3]*ot+Cl[6]*Ln,this.y=Cl[1]*it+Cl[4]*ot+Cl[7]*Ln,this.z=Cl[2]*it+Cl[5]*ot+Cl[8]*Ln,this}applyMatrix4(Ft){const{x:it}=this,{y:ot}=this,{z:Ln}=this,Cl=Ft.elements;return this.x=Cl[0]*it+Cl[4]*ot+Cl[8]*Ln+Cl[12],this.y=Cl[1]*it+Cl[5]*ot+Cl[9]*Ln+Cl[13],this.z=Cl[2]*it+Cl[6]*ot+Cl[10]*Ln+Cl[14],this}applyProjection(Ft){const{x:it}=this,{y:ot}=this,{z:Ln}=this,Cl=Ft.elements,Tl=Cl[3]*it+Cl[7]*ot+Cl[11]*Ln+Cl[15];return this.x=(Cl[0]*it+Cl[4]*ot+Cl[8]*Ln+Cl[12])/Tl,this.y=(Cl[1]*it+Cl[5]*ot+Cl[9]*Ln+Cl[13])/Tl,this.z=(Cl[2]*it+Cl[6]*ot+Cl[10]*Ln+Cl[14])/Tl,this}applyQuaternion(Ft){const{x:it}=this,{y:ot}=this,{z:Ln}=this,Cl=Ft.x,Tl=Ft.y,zl=Ft.z,In=Ft.w,Ml={};Ml.x=2*(ot*zl-Ln*Tl),Ml.y=2*(Ln*Cl-it*zl),Ml.z=2*(it*Tl-ot*Cl);const Dl={};return Dl.x=Ml.y*zl-Ml.z*Tl,Dl.y=Ml.z*Cl-Ml.x*zl,Dl.z=Ml.x*Tl-Ml.y*Cl,this.x=it+In*Ml.x+Dl.x,this.y=ot+In*Ml.y+Dl.y,this.z=Ln+In*Ml.z+Dl.z,this}negate(){return this.multiplyScalar(-1)}dot(Ft){return this.x*Ft.x+this.y*Ft.y+this.z*Ft.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}normalize(){return this.divideScalar(this.length())}cross(Ft){const{x:it}=this,{y:ot}=this,{z:Ln}=this;return this.x=ot*Ft.z-Ln*Ft.y,this.y=Ln*Ft.x-it*Ft.z,this.z=it*Ft.y-ot*Ft.x,this}crossVectors(Ft,it){return this.x=Ft.y*it.z-Ft.z*it.y,this.y=Ft.z*it.x-Ft.x*it.z,this.z=Ft.x*it.y-Ft.y*it.x,this}equals(Ft){return this.x==Ft.x&&this.y==Ft.y&&this.z==Ft.z}getPositionFromMatrix(Ft){return this.x=Ft.elements[12],this.y=Ft.elements[13],this.z=Ft.elements[14],this}setEulerFromRotationMatrix(Ft,it){const ot=Ft.elements,Ln=ot[0],Cl=ot[4],Tl=ot[8],zl=ot[5],In=ot[9],Ml=ot[6],Dl=ot[10];return it===void 0||it==="XYZ"?(this.y=Math.asin((0,d.clamp)(Tl,-1,1)),Math.abs(Tl)<.99999?(this.x=Math.atan2(-In,Dl),this.z=Math.atan2(-Cl,Ln)):(this.x=Math.atan2(Ml,zl),this.z=0)):console.error(`Error with vector's setEulerFromRotationMatrix: Unknown order: ${it}`),this}rotateAboutVector(Ft,it){Ft.normalize();const ot=Math.cos(it),Ln=Math.sin(it),Cl=this.clone().multiplyScalar(ot),Tl=Ft.clone().cross(this).multiplyScalar(Ln),zl=Ft.clone().multiplyScalar(Ft.clone().dot(this)).multiplyScalar(1-ot),In=Cl.add(Tl).add(zl);return this.x=In.x,this.y=In.y,this.z=In.z,this}setFromMatrixPosition(Ft){const it=Ft.elements;return this.x=it[12],this.y=it[13],this.z=it[14],this}transformDirection(Ft){const{x:it}=this,{y:ot}=this,{z:Ln}=this,Cl=Ft.elements;return this.x=Cl[0]*it+Cl[4]*ot+Cl[8]*Ln,this.y=Cl[1]*it+Cl[5]*ot+Cl[9]*Ln,this.z=Cl[2]*it+Cl[6]*ot+Cl[10]*Ln,this.normalize()}clone(){return new nt(this.x,this.y,this.z)}unproject(Ft){const it=g;return it.multiplyMatrices(Ft.matrixWorld,it.getInverse(Ft.projectionMatrix)),this.applyMatrix4(it)}}_=new nt,$=new nt,j=new nt;class st{constructor(Ft=1,it=0,ot=0,Ln=0,Cl=1,Tl=0,zl=0,In=0,Ml=1){this.elements=new Float32Array(9),this.set(Ft,it,ot,Ln,Cl,Tl,zl,In,Ml)}set(Ft,it,ot,Ln,Cl,Tl,zl,In,Ml){const Dl=this.elements;return Dl[0]=Ft,Dl[3]=it,Dl[6]=ot,Dl[1]=Ln,Dl[4]=Cl,Dl[7]=Tl,Dl[2]=zl,Dl[5]=In,Dl[8]=Ml,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(Ft){const it=Ft.elements;this.set(it[0],it[3],it[6],it[1],it[4],it[7],it[2],it[5],it[8])}multiplyScalar(Ft){const it=this.elements;return it[0]*=Ft,it[3]*=Ft,it[6]*=Ft,it[1]*=Ft,it[4]*=Ft,it[7]*=Ft,it[2]*=Ft,it[5]*=Ft,it[8]*=Ft,this}getInverse3(Ft){const it=Ft.elements,ot=this.elements;ot[0]=it[4]*it[8]-it[5]*it[7],ot[3]=it[6]*it[5]-it[3]*it[8],ot[6]=it[3]*it[7]-it[6]*it[4],ot[1]=it[7]*it[2]-it[1]*it[8],ot[4]=it[0]*it[8]-it[6]*it[2],ot[7]=it[1]*it[6]-it[0]*it[7],ot[2]=it[1]*it[5]-it[2]*it[4],ot[5]=it[2]*it[3]-it[0]*it[5],ot[8]=it[0]*it[4]-it[1]*it[3];const Ln=it[0]*ot[0]+it[3]*ot[1]+it[6]*ot[2];return this.multiplyScalar(1/Ln),this}getInverse(Ft,it){const ot=Ft.elements,Ln=this.elements;Ln[0]=ot[10]*ot[5]-ot[6]*ot[9],Ln[1]=-ot[10]*ot[1]+ot[2]*ot[9],Ln[2]=ot[6]*ot[1]-ot[2]*ot[5],Ln[3]=-ot[10]*ot[4]+ot[6]*ot[8],Ln[4]=ot[10]*ot[0]-ot[2]*ot[8],Ln[5]=-ot[6]*ot[0]+ot[2]*ot[4],Ln[6]=ot[9]*ot[4]-ot[5]*ot[8],Ln[7]=-ot[9]*ot[0]+ot[1]*ot[8],Ln[8]=ot[5]*ot[0]-ot[1]*ot[4];const Cl=ot[0]*Ln[0]+ot[1]*Ln[3]+ot[2]*Ln[6];if(Cl===0){const Tl="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(it)throw new Error(Tl);return console.warn(Tl),this.identity(),this}return this.multiplyScalar(1/Cl),this}getDeterminant(){const Ft=this.elements;return Ft[0]*Ft[4]*Ft[8]+Ft[1]*Ft[5]*Ft[6]+Ft[2]*Ft[3]*Ft[7]-Ft[2]*Ft[4]*Ft[6]-Ft[1]*Ft[3]*Ft[8]-Ft[0]*Ft[5]*Ft[7]}transpose(){let Ft;const it=this.elements;return Ft=it[1],it[1]=it[3],it[3]=Ft,Ft=it[2],it[2]=it[6],it[6]=Ft,Ft=it[5],it[5]=it[7],it[7]=Ft,this}clone(){const Ft=this.elements;return new st(Ft[0],Ft[3],Ft[6],Ft[1],Ft[4],Ft[7],Ft[2],Ft[5],Ft[8])}getMatrix4(){const Ft=this.elements;return new rt(Ft[0],Ft[3],Ft[6],0,Ft[1],Ft[4],Ft[7],0,Ft[2],Ft[5],Ft[8],0)}}class jt{constructor(Ft,it){this.origin=Ft!==void 0?Ft:new nt,this.direction=it!==void 0?it:new nt}set(Ft,it){return this.origin.copy(Ft),this.direction.copy(it),this}copy(Ft){return this.origin.copy(Ft.origin),this.direction.copy(Ft.direction),this}at(Ft,it){return(it||new nt).copy(this.direction).multiplyScalar(Ft).add(this.origin)}recast(Ft){const it=_;return this.origin.copy(this.at(Ft,it)),this}closestPointToPoint(Ft,it){const ot=it||new nt;ot.subVectors(Ft,this.origin);const Ln=ot.dot(this.direction);return ot.copy(this.direction).multiplyScalar(Ln).add(this.origin)}distanceToPoint(Ft){const it=_,ot=it.subVectors(Ft,this.origin).dot(this.direction);return it.copy(this.direction).multiplyScalar(ot).add(this.origin),it.distanceTo(Ft)}isIntersectionCylinder(){}isIntersectionSphere(Ft){return this.distanceToPoint(Ft.center)<=Ft.radius}isIntersectionPlane(Ft){return Ft.normal.dot(this.direction)!==0||Ft.distanceToPoint(this.origin)===0}distanceToPlane(Ft){const it=Ft.normal.dot(this.direction);return it===0?Ft.distanceToPoint(this.origin)===0?0:void 0:-(this.origin.dot(Ft.normal)+Ft.constant)/it}intersectPlane(Ft,it){const ot=this.distanceToPlane(Ft);if(ot!==void 0)return this.at(ot,it)}applyMatrix4(Ft){return this.direction.add(this.origin).applyMatrix4(Ft),this.origin.applyMatrix4(Ft),this.direction.sub(this.origin),this}clone(){return new jt().copy(this)}}},"./src/WebGL/math/utils/clamp.ts":(e,o,a)=>{a.r(o),a.d(o,{clamp:()=>c});function c(d,g,b){return Math.min(Math.max(d,g),b)}},"./src/WebGL/math/utils/conversionMatrix3.ts":(e,o,a)=>{a.r(o),a.d(o,{conversionMatrix3:()=>d});var c=a("./src/WebGL/math/math.ts");function d(g,b,_,$,j,rt){$=$*Math.PI/180,j=j*Math.PI/180,rt=rt*Math.PI/180;const nt=it=>it*it,st=Math.cos($),jt=Math.cos(j),wl=Math.cos(rt),Ft=Math.sin(rt);return new c.Matrix3(g,b*wl,_*jt,0,b*Ft,_*(st-jt*wl)/Ft,0,0,_*Math.sqrt(1-nt(st)-nt(jt)-nt(wl)+2*st*jt*wl)/Ft)}},"./src/WebGL/math/utils/degToRad.ts":(e,o,a)=>{a.r(o),a.d(o,{degToRad:()=>d});const c=Math.PI/180;function d(g){return g*c}},"./src/WebGL/objects/Line.ts":(e,o,a)=>{a.r(o),a.d(o,{Line:()=>b,LineStyle:()=>g});var c=a("./src/WebGL/materials/index.ts"),d=a("./src/WebGL/core/index.ts"),g;(function(_){_[_.LineStrip=0]="LineStrip",_[_.LinePieces=1]="LinePieces"})(g||(g={}));class b extends d.Object3D{constructor($,j=new c.LineBasicMaterial({color:Math.random()*16777215}),rt=g.LineStrip){super(),this.geometry=$,this.material=j,this.type=rt}clone($=new b(this.geometry,this.material,this.type)){return super.clone.call(this,$),$}}},"./src/WebGL/objects/Mesh.ts":(e,o,a)=>{a.r(o),a.d(o,{Mesh:()=>d});var c=a("./src/WebGL/core/index.ts");class d extends c.Object3D{constructor(b,_){super(),this.geometry=b,this.material=_}clone(b){return b===void 0&&(b=new d(this.geometry,this.material)),super.clone.call(this,b),b}}},"./src/WebGL/objects/Sprite.ts":(e,o,a)=>{a.r(o),a.d(o,{Sprite:()=>g});var c=a("./src/WebGL/materials/index.ts"),d=a("./src/WebGL/core/index.ts");class g extends d.Object3D{constructor(_=new c.SpriteMaterial){super(),this.material=_,this.rotation3d=this.rotation,this.rotation=0}updateMatrix(){this.matrix.setPosition(this.position),this.rotation3d.set(0,0,this.rotation),this.matrix.setRotationFromEuler(this.rotation3d),(this.scale.x!==1||this.scale.y!==1)&&this.matrix.scale(this.scale),this.matrixWorldNeedsUpdate=!0}clone(_=new g(this.material)){return d.Object3D.prototype.clone.call(this,_),_}}},"./src/WebGL/objects/index.ts":(e,o,a)=>{a.r(o),a.d(o,{Line:()=>c.Line,LineStyle:()=>c.LineStyle,Mesh:()=>d.Mesh,Sprite:()=>g.Sprite});var c=a("./src/WebGL/objects/Line.ts"),d=a("./src/WebGL/objects/Mesh.ts"),g=a("./src/WebGL/objects/Sprite.ts")},"./src/WebGL/shaders/ShaderType.ts":(e,o,a)=>{a.r(o)},"./src/WebGL/shaders/index.ts":(e,o,a)=>{a.r(o),a.d(o,{ShaderLib:()=>c.ShaderLib,ShaderUtils:()=>d.ShaderUtils,basic:()=>c.basic,clone:()=>d.clone,instanced:()=>c.instanced,lambert:()=>c.lambert,lambertdouble:()=>c.lambertdouble,outline:()=>c.outline,screen:()=>c.screen,screenaa:()=>c.screenaa,sphereimposter:()=>c.sphereimposter,sphereimposteroutline:()=>c.sphereimposteroutline,sprite:()=>c.sprite,stickimposter:()=>c.stickimposter,stickimposteroutline:()=>c.stickimposteroutline,volumetric:()=>c.volumetric});var c=a("./src/WebGL/shaders/lib/index.ts"),d=a("./src/WebGL/shaders/utils/index.ts");a("./src/WebGL/shaders/ShaderType.ts")},"./src/WebGL/shaders/lib/basic/basic.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
varying vec3 vColor;
varying vec4 mvPosition;

//DEFINEFRAGCOLOR
void main() {
    gl_FragColor = vec4( vColor, opacity );
    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`},"./src/WebGL/shaders/lib/basic/basic.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;

attribute vec3 position;
attribute vec3 color;

varying vec3 vColor;
varying vec4 mvPosition;

void main() {

    vColor = color;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix * mvPosition;

}`},"./src/WebGL/shaders/lib/basic/index.ts":(e,o,a)=>{a.r(o),a.d(o,{basic:()=>b});var c=a("./src/WebGL/shaders/lib/basic/uniforms.ts"),d=a("./src/WebGL/shaders/lib/basic/basic.frag"),g=a("./src/WebGL/shaders/lib/basic/basic.vert");const b={vertexShader:g.default.replace("#define GLSLIFY 1",""),fragmentShader:d.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/basic/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3}}},"./src/WebGL/shaders/lib/blur/blur.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`const float INV_TOTAL_SAMPLES_FACTOR = 1.0 / 9.0;
uniform highp sampler2D inTex;
varying highp vec2 vTexCoords;
    
void main() {
 
 vec2 texelSize = 1.0 / vec2(textureSize(inTex,0));
 float blurred_visibility_factor = 0.0f;
 for (int t = -1; t <= 1; ++t) {
  for (int s = -1; s <= 1; ++s) {
   vec2 offset = vec2(float(s), float(t)) * texelSize;
   blurred_visibility_factor += texture2D(inTex, vTexCoords + offset).r;
  }
 }
    
 gl_FragDepthEXT = blurred_visibility_factor * INV_TOTAL_SAMPLES_FACTOR;
 
}`},"./src/WebGL/shaders/lib/blur/blur.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/blur/index.ts":(e,o,a)=>{a.r(o),a.d(o,{blur:()=>b});var c=a("./src/WebGL/shaders/lib/blur/uniforms.ts"),d=a("./src/WebGL/shaders/lib/blur/blur.frag"),g=a("./src/WebGL/shaders/lib/blur/blur.vert");const b={fragmentShader:d.default,vertexShader:g.default,uniforms:c.uniforms}},"./src/WebGL/shaders/lib/blur/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/index.ts":(e,o,a)=>{a.r(o),a.d(o,{ShaderLib:()=>Ln,basic:()=>c.basic,instanced:()=>d.instanced,lambert:()=>g.lambert,lambertdouble:()=>b.lambertdouble,outline:()=>_.outline,screen:()=>$.screen,screenaa:()=>j.screenaa,sphereimposter:()=>rt.sphereimposter,sphereimposteroutline:()=>nt.sphereimposteroutline,sprite:()=>st.sprite,stickimposter:()=>jt.stickimposter,stickimposteroutline:()=>wl.stickimposteroutline,volumetric:()=>Ft.volumetric});var c=a("./src/WebGL/shaders/lib/basic/index.ts"),d=a("./src/WebGL/shaders/lib/instanced/index.ts"),g=a("./src/WebGL/shaders/lib/lambert/index.ts"),b=a("./src/WebGL/shaders/lib/lambertdouble/index.ts"),_=a("./src/WebGL/shaders/lib/outline/index.ts"),$=a("./src/WebGL/shaders/lib/screen/index.ts"),j=a("./src/WebGL/shaders/lib/screenaa/index.ts"),rt=a("./src/WebGL/shaders/lib/sphereimposter/index.ts"),nt=a("./src/WebGL/shaders/lib/sphereimposteroutline/index.ts"),st=a("./src/WebGL/shaders/lib/sprite/index.ts"),jt=a("./src/WebGL/shaders/lib/stickimposter/index.ts"),wl=a("./src/WebGL/shaders/lib/stickimposteroutline/index.ts"),Ft=a("./src/WebGL/shaders/lib/volumetric/index.ts"),it=a("./src/WebGL/shaders/lib/ssao/index.ts"),ot=a("./src/WebGL/shaders/lib/blur/index.ts");const Ln={basic:c.basic,blur:ot.blur,instanced:d.instanced,lambert:g.lambert,lambertdouble:b.lambertdouble,outline:_.outline,screen:$.screen,screenaa:j.screenaa,ssao:it.ssao,sphereimposter:rt.sphereimposter,sphereimposteroutline:nt.sphereimposteroutline,sprite:st.sprite,stickimposter:jt.stickimposter,stickimposteroutline:wl.stickimposteroutline,volumetric:Ft.volumetric}},"./src/WebGL/shaders/lib/instanced/index.ts":(e,o,a)=>{a.r(o),a.d(o,{instanced:()=>b});var c=a("./src/WebGL/shaders/lib/instanced/uniforms.ts"),d=a("./src/WebGL/shaders/lib/instanced/instanced.frag"),g=a("./src/WebGL/shaders/lib/instanced/instanced.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/instanced/instanced.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif

#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );
    float depth = gl_FragCoord.z / gl_FragCoord.w;

    float fogFactor = smoothstep( fogNear, fogFar, depth );

    gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );

}


`},"./src/WebGL/shaders/lib/instanced/instanced.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 offset;
attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLightFront;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    vec4 mvPosition = modelViewMatrix * vec4( position * radius + offset, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/instanced/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambert/index.ts":(e,o,a)=>{a.r(o),a.d(o,{lambert:()=>b});var c=a("./src/WebGL/shaders/lib/lambert/uniforms.ts"),d=a("./src/WebGL/shaders/lib/lambert/lambert.frag"),g=a("./src/WebGL/shaders/lib/lambert/lambert.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/lambert/lambert.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
#ifdef SHADED
uniform highp sampler2D shading;
#endif
varying vec3 vLightFront;
varying vec3 vColor;
varying vec4 mvPosition;


//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    gl_FragColor.xyz *= vLightFront;
    #endif
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    vColor *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( vColor, opacity );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }

}`},"./src/WebGL/shaders/lib/lambert/lambert.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec4 mvPosition;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;

    gl_Position = projectionMatrix * mvPosition;
}`},"./src/WebGL/shaders/lib/lambert/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/lambertdouble/index.ts":(e,o,a)=>{a.r(o),a.d(o,{lambertdouble:()=>b});var c=a("./src/WebGL/shaders/lib/lambertdouble/uniforms.ts"),d=a("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag"),g=a("./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`
#ifdef SHADED
uniform highp sampler2D shading;
#endif

uniform mat4 viewMatrix;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLightFront;
varying vec3 vLightBack;

varying vec3 vColor;
varying vec4 mvPosition;

//DEFINEFRAGCOLOR

void main() {

    gl_FragColor = vec4( vec3 ( 1.0 ), opacity );

    #ifndef WIREFRAME
    if ( gl_FrontFacing )
       gl_FragColor.xyz *= vLightFront;
    else
       gl_FragColor.xyz *= vLightBack;
    #endif

    vec3 color = vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif
    gl_FragColor = gl_FragColor * vec4( color, opacity );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }

}


`},"./src/WebGL/shaders/lib/lambertdouble/lambertdouble.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec3 vColor;
varying vec3 vLightFront;
varying vec3 vLightBack;
varying vec4 mvPosition;

void main() {

    vColor = color;

    vec3 objectNormal = normal;
    vec3 transformedNormal = normalMatrix * objectNormal;
    mvPosition = modelViewMatrix * vec4( position, 1.0 );

    vLightFront = vec3( 0.0 );
    vLightBack = vec3( 0.0 );

    transformedNormal = normalize( transformedNormal );

    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vec3 dirVector = normalize( lDirection.xyz );
    float dotProduct = dot( transformedNormal, dirVector );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );

    vLightFront += directionalLightColor[ 0 ] * directionalLightWeighting;
    vLightBack += directionalLightColor[ 0 ] * directionalLightWeightingBack;

    gl_Position = projectionMatrix * mvPosition;
}

`},"./src/WebGL/shaders/lib/lambertdouble/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/outline/index.ts":(e,o,a)=>{a.r(o),a.d(o,{outline:()=>b});var c=a("./src/WebGL/shaders/lib/outline/uniforms.ts"),d=a("./src/WebGL/shaders/lib/outline/outline.frag"),g=a("./src/WebGL/shaders/lib/outline/outline.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/outline/outline.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec4 mvPosition;
//DEFINEFRAGCOLOR

void main() {
    gl_FragColor = vec4( outlineColor, 1 );

    if(fogNear != fogFar) {
        float depth = -mvPosition.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}


`},"./src/WebGL/shaders/lib/outline/outline.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float vWidth;
uniform float vHeight;
uniform float outlineMaxPixels;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec4 mvPosition;

void main() {

    vec4 norm = modelViewMatrix*vec4(normalize(normal),0.0);
    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    mvPosition.xy += norm.xy*outlineWidth;
    vec4 outpos = projectionMatrix * mvPosition;

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*modelViewMatrix * vec4( position, 1.0 );
        float w = outpos.w;
        //normalize homogeneous coords
        unadjusted /= unadjusted.w;
        outpos /= outpos.w;
        vec2 diff = outpos.xy-unadjusted.xy;
        //put into pixels
        diff.x *= vWidth;
        diff.y *= vHeight;
        if ( length(diff) > outlineMaxPixels) {
            vec2 ndiff = normalize(diff)*outlineMaxPixels;
            ndiff.x /= vWidth;
            ndiff.y /= vHeight;
            outpos.xy = unadjusted.xy;
            outpos.xy += ndiff;
        }
        outpos *= w; //if I don't do this things blow up
    }
    gl_Position = outpos;
    mvPosition.z -= outlinePushback; //go backwards in model space
    vec4 pushpos = projectionMatrix*mvPosition; //project to get z in projection space, I'm probably missing some simple math to do the same thing..
    gl_Position.z = gl_Position.w*pushpos.z/pushpos.w;
}

`},"./src/WebGL/shaders/lib/outline/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new c.Color(0,0,0)},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/screen/index.ts":(e,o,a)=>{a.r(o),a.d(o,{screen:()=>b});var c=a("./src/WebGL/shaders/lib/screen/uniforms.ts"),d=a("./src/WebGL/shaders/lib/screen/screen.frag"),g=a("./src/WebGL/shaders/lib/screen/screen.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/screen/screen.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform sampler2D colormap;
varying highp vec2 vTexCoords;
uniform vec2 dimensions;
//DEFINEFRAGCOLOR
void main (void) {
   gl_FragColor = texture2D(colormap, vTexCoords);

   //gl_FragColor.g = gl_FragColor.b =  gl_FragColor.r; //debug shading 
}
        `},"./src/WebGL/shaders/lib/screen/screen.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screen/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/screenaa/index.ts":(e,o,a)=>{a.r(o),a.d(o,{screenaa:()=>b});var c=a("./src/WebGL/shaders/lib/screenaa/uniforms.ts"),d=a("./src/WebGL/shaders/lib/screenaa/screenaa.frag"),g=a("./src/WebGL/shaders/lib/screenaa/screenaa.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/screenaa/screenaa.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`
        
precision highp float;
precision highp int;
precision highp sampler2D;

uniform sampler2D tColor;
varying highp vec2 vTexCoords;

// adapted from https://github.com/kosua20/Rendu
// MIT License Copyright (c) 2017 Simon Rodriguez
// by way of molstar (https://github.com/molstar/molstar/blob/master/src/mol-gl/shader/fxaa.frag.ts)

#define QUALITY(q) ((q) < 5 ? 1.0 : ((q) > 5 ? ((q) < 10 ? 2.0 : ((q) < 11 ? 4.0 : 8.0)) : 1.5))

float rgb2luma(vec3 rgb){
    return sqrt(dot(rgb, vec3(0.299, 0.587, 0.114)));
}

float sampleLuma(vec2 uv) {
    return rgb2luma(texture2D(tColor, uv).rgb);
}

float sampleLuma(vec2 uv, float uOffset, float vOffset) {
    uv += vec2(uOffset, vOffset);
    return sampleLuma(uv);
}

//DEFINEFRAGCOLOR
void main(void) {
    ivec2 dim = textureSize(tColor,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseScreenSize = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec2 coords = vTexCoords;

    vec4 colorCenter = texture2D(tColor, coords);
    float dEdgeThresholdMin = 0.0312;
    float dEdgeThresholdMax = 0.125;
    int dIterations = 12;
    float dSubpixelQuality = 0.3;

    // Luma at the current fragment
    float lumaCenter = rgb2luma(colorCenter.rgb);

    // Luma at the four direct neighbours of the current fragment.
    float lumaDown = sampleLuma(coords, 0.0, -inverseScreenSize.y);
    float lumaUp = sampleLuma(coords, 0.0, inverseScreenSize.y);
    float lumaLeft = sampleLuma(coords, -inverseScreenSize.x, 0.0);
    float lumaRight = sampleLuma(coords, inverseScreenSize.x, 0.0);

    // Find the maximum and minimum luma around the current fragment.
    float lumaMin = min(lumaCenter, min(min(lumaDown, lumaUp), min(lumaLeft, lumaRight)));
    float lumaMax = max(lumaCenter, max(max(lumaDown, lumaUp), max(lumaLeft, lumaRight)));

    // Compute the delta.
    float lumaRange = lumaMax - lumaMin;

    // If the luma variation is lower that a threshold (or if we are in a really dark area),
    // we are not on an edge, don't perform any AA.
    if (lumaRange < max(dEdgeThresholdMin, lumaMax * dEdgeThresholdMax)) {
        gl_FragColor = colorCenter;
        return;
    }

    // Query the 4 remaining corners lumas.
    float lumaDownLeft = sampleLuma(coords, -inverseScreenSize.x, -inverseScreenSize.y);
    float lumaUpRight = sampleLuma(coords, inverseScreenSize.x, inverseScreenSize.y);
    float lumaUpLeft = sampleLuma(coords, -inverseScreenSize.x, inverseScreenSize.y);
    float lumaDownRight = sampleLuma(coords, inverseScreenSize.x, -inverseScreenSize.y);

    // Combine the four edges lumas (using intermediary variables for future computations
    // with the same values).
    float lumaDownUp = lumaDown + lumaUp;
    float lumaLeftRight = lumaLeft + lumaRight;

    // Same for corners
    float lumaLeftCorners = lumaDownLeft + lumaUpLeft;
    float lumaDownCorners = lumaDownLeft + lumaDownRight;
    float lumaRightCorners = lumaDownRight + lumaUpRight;
    float lumaUpCorners = lumaUpRight + lumaUpLeft;

    // Compute an estimation of the gradient along the horizontal and vertical axis.
    float edgeHorizontal = abs(-2.0 * lumaLeft + lumaLeftCorners) + abs(-2.0 * lumaCenter + lumaDownUp) * 2.0 + abs(-2.0 * lumaRight + lumaRightCorners);
    float edgeVertical = abs(-2.0 * lumaUp + lumaUpCorners) + abs(-2.0 * lumaCenter + lumaLeftRight) * 2.0 + abs(-2.0 * lumaDown + lumaDownCorners);

    // Is the local edge horizontal or vertical ?
    bool isHorizontal = (edgeHorizontal >= edgeVertical);

    // Choose the step size (one pixel) accordingly.
    float stepLength = isHorizontal ? inverseScreenSize.y : inverseScreenSize.x;

    // Select the two neighboring texels lumas in the opposite direction to the local edge.
    float luma1 = isHorizontal ? lumaDown : lumaLeft;
    float luma2 = isHorizontal ? lumaUp : lumaRight;
    // Compute gradients in this direction.
    float gradient1 = luma1 - lumaCenter;
    float gradient2 = luma2 - lumaCenter;

    // Which direction is the steepest ?
    bool is1Steepest = abs(gradient1) >= abs(gradient2);

    // Gradient in the corresponding direction, normalized.
    float gradientScaled = 0.25 * max(abs(gradient1), abs(gradient2));

    // Average luma in the correct direction.
    float lumaLocalAverage = 0.0;
    if(is1Steepest){
        // Switch the direction
        stepLength = -stepLength;
        lumaLocalAverage = 0.5 * (luma1 + lumaCenter);
    } else {
        lumaLocalAverage = 0.5 * (luma2 + lumaCenter);
    }

    // Shift UV in the correct direction by half a pixel.
    vec2 currentUv = coords;
    if(isHorizontal){
        currentUv.y += stepLength * 0.5;
    } else {
        currentUv.x += stepLength * 0.5;
    }

    // Compute offset (for each iteration step) in the right direction.
    vec2 offset = isHorizontal ? vec2(inverseScreenSize.x, 0.0) : vec2(0.0, inverseScreenSize.y);
    // Compute UVs to explore on each side of the edge, orthogonally.
    // The QUALITY allows us to step faster.
    vec2 uv1 = currentUv - offset * QUALITY(0);
    vec2 uv2 = currentUv + offset * QUALITY(0);

    // Read the lumas at both current extremities of the exploration segment,
    // and compute the delta wrt to the local average luma.
    float lumaEnd1 = sampleLuma(uv1);
    float lumaEnd2 = sampleLuma(uv2);
    lumaEnd1 -= lumaLocalAverage;
    lumaEnd2 -= lumaLocalAverage;

    // If the luma deltas at the current extremities is larger than the local gradient,
    // we have reached the side of the edge.
    bool reached1 = abs(lumaEnd1) >= gradientScaled;
    bool reached2 = abs(lumaEnd2) >= gradientScaled;
    bool reachedBoth = reached1 && reached2;

    // If the side is not reached, we continue to explore in this direction.
    if(!reached1){
        uv1 -= offset * QUALITY(1);
    }
    if(!reached2){
        uv2 += offset * QUALITY(1);
    }

    // If both sides have not been reached, continue to explore.
    if(!reachedBoth){
        for(int i = 2; i < dIterations; i++){
            // If needed, read luma in 1st direction, compute delta.
            if(!reached1){
                lumaEnd1 = sampleLuma(uv1);
                lumaEnd1 = lumaEnd1 - lumaLocalAverage;
            }
            // If needed, read luma in opposite direction, compute delta.
            if(!reached2){
                lumaEnd2 = sampleLuma(uv2);
                lumaEnd2 = lumaEnd2 - lumaLocalAverage;
            }
            // If the luma deltas at the current extremities is larger than the local gradient,
            // we have reached the side of the edge.
            reached1 = abs(lumaEnd1) >= gradientScaled;
            reached2 = abs(lumaEnd2) >= gradientScaled;
            reachedBoth = reached1 && reached2;

            // If the side is not reached, we continue to explore in this direction,
            // with a variable quality.
            if(!reached1){
                uv1 -= offset * QUALITY(i);
            }
            if(!reached2){
                uv2 += offset * QUALITY(i);
            }

            // If both sides have been reached, stop the exploration.
            if(reachedBoth){
                break;
            }
        }
    }

    // Compute the distances to each side edge of the edge (!).
    float distance1 = isHorizontal ? (coords.x - uv1.x) : (coords.y - uv1.y);
    float distance2 = isHorizontal ? (uv2.x - coords.x) : (uv2.y - coords.y);

    // In which direction is the side of the edge closer ?
    bool isDirection1 = distance1 < distance2;
    float distanceFinal = min(distance1, distance2);

    // Thickness of the edge.
    float edgeThickness = (distance1 + distance2);

    // Is the luma at center smaller than the local average ?
    bool isLumaCenterSmaller = lumaCenter < lumaLocalAverage;

    // If the luma at center is smaller than at its neighbour,
    // the delta luma at each end should be positive (same variation).
    bool correctVariation1 = (lumaEnd1 < 0.0) != isLumaCenterSmaller;
    bool correctVariation2 = (lumaEnd2 < 0.0) != isLumaCenterSmaller;

    // Only keep the result in the direction of the closer side of the edge.
    bool correctVariation = isDirection1 ? correctVariation1 : correctVariation2;

    // UV offset: read in the direction of the closest side of the edge.
    float pixelOffset = - distanceFinal / edgeThickness + 0.5;

    // If the luma variation is incorrect, do not offset.
    float finalOffset = correctVariation ? pixelOffset : 0.0;

    // Sub-pixel shifting
    // Full weighted average of the luma over the 3x3 neighborhood.
    float lumaAverage = (1.0 / 12.0) * (2.0 * (lumaDownUp + lumaLeftRight) + lumaLeftCorners + lumaRightCorners);
    // Ratio of the delta between the global average and the center luma,
    // over the luma range in the 3x3 neighborhood.
    float subPixelOffset1 = clamp(abs(lumaAverage - lumaCenter) / lumaRange, 0.0, 1.0);
    float subPixelOffset2 = (-2.0 * subPixelOffset1 + 3.0) * subPixelOffset1 * subPixelOffset1;
    // Compute a sub-pixel offset based on this delta.
    float subPixelOffsetFinal = subPixelOffset2 * subPixelOffset2 * float(dSubpixelQuality);

    // Pick the biggest of the two offsets.
    finalOffset = max(finalOffset, subPixelOffsetFinal);

    // Compute the final UV coordinates.
    vec2 finalUv = coords;
    if(isHorizontal){
        finalUv.y += finalOffset * stepLength;
    } else {
        finalUv.x += finalOffset * stepLength;
    }

    // Read the color at the new UV coordinates, and use it.
    gl_FragColor = texture2D(tColor, finalUv);
}        

/* old fxaa implementation
uniform highp sampler2D colormap;
varying highp vec2 vTexCoords;


// Basic FXAA implementation based on the code on geeks3d.com 
#define FXAA_REDUCE_MIN (1.0/ 128.0)
#define FXAA_REDUCE_MUL (1.0 / 8.0)
#define FXAA_SPAN_MAX 8.0


vec4 applyFXAA(vec2 fragCoord, highp sampler2D tex)
{
    vec4 color;
    ivec2 dim = textureSize(tex,0);
    vec2 dimensions = vec2(float(dim.x),float(dim.y));
    vec2 inverseVP = vec2(1.0 / dimensions.x, 1.0 / dimensions.y);
    vec4 rgbNW = texture2D(tex, fragCoord + vec2(-1.0, -1.0) * inverseVP);
    vec4 rgbNE = texture2D(tex, fragCoord + vec2(1.0, -1.0) * inverseVP);
    vec4 rgbSW = texture2D(tex, fragCoord + vec2(-1.0, 1.0) * inverseVP);
    vec4 rgbSE = texture2D(tex, fragCoord + vec2(1.0, 1.0) * inverseVP);
    vec4 rgbM  = texture2D(tex, fragCoord );
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW.xyz, luma);
    float lumaNE = dot(rgbNE.xyz, luma);
    float lumaSW = dot(rgbSW.xyz, luma);
    float lumaSE = dot(rgbSE.xyz, luma);
    float lumaM  = dot(rgbM.xyz,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                        (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
            max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
            dir * rcpDirMin)) * inverseVP;

    vec4 rgbA = 0.5 * (
        texture2D(tex, fragCoord + dir * (1.0 / 3.0 - 0.5)) +
        texture2D(tex, fragCoord  + dir * (2.0 / 3.0 - 0.5)));
    vec4 rgbB = rgbA * 0.5 + 0.25 * (
        texture2D(tex, fragCoord  + dir * -0.5) +
        texture2D(tex, fragCoord  + dir * 0.5));

    float lumaB = dot(rgbB.xyz, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = rgbA;
    else
        color = rgbB;

    return color;
}


//DEFINEFRAGCOLOR
void main (void) {
    ivec2 dim = textureSize(colormap,0);

  gl_FragColor = applyFXAA(vTexCoords, colormap);
}
        
*/`},"./src/WebGL/shaders/lib/screenaa/screenaa.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/screenaa/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/sphereimposter/index.ts":(e,o,a)=>{a.r(o),a.d(o,{sphereimposter:()=>b});var c=a("./src/WebGL/shaders/lib/sphereimposter/uniforms.ts"),d=a("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag"),g=a("./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert");const b={vertexShader:g.default.replace("#define GLSLIFY 1",""),fragmentShader:d.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`
uniform mat4 viewMatrix;
uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float uDepth;
uniform vec3 directionalLightColor[ 1 ];

varying vec3 vColor;
varying vec2 mapping;
varying float rval;
varying vec3 vLight;
varying vec3 center;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    vec3 norm = normalize(vec3(mapping.x,mapping.y,z));
    float dotProduct = dot( norm, vLight );
    vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );
    vec3 vLight = directionalLightColor[ 0 ] * directionalLightWeighting;
    vec3 color = vLight*vColor;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );

    if(fogNear != fogFar) {
        float depth = -cameraPos.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
     
}

`},"./src/WebGL/shaders/lib/sphereimposter/sphereimposter.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying vec3 vColor;
varying float rval;
varying vec3 vLight;
varying vec3 center;

void main() {

    vColor = color;
    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec4 adjust = projectionMatrix* vec4(normal,0.0); adjust.z = 0.0; adjust.w = 0.0;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz );
    mapping = normal.xy;
    rval = abs(normal.x);
    gl_Position = projPosition+adjust;

}
`},"./src/WebGL/shaders/lib/sphereimposter/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/sphereimposteroutline/index.ts":(e,o,a)=>{a.r(o),a.d(o,{sphereimposteroutline:()=>b});var c=a("./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts"),d=a("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag"),g=a("./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform float opacity;
uniform vec3 outlineColor;
uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform mat4 projectionMatrix;
varying vec2 mapping;
varying float rval;
varying vec3 center;

uniform float outlinePushback;

//DEFINEFRAGCOLOR

void main() {
    float lensqr = dot(mapping,mapping);
    float rsqr = rval*rval;
    if(lensqr > rsqr)
       discard;
    float z = sqrt(rsqr-lensqr);
    vec3 cameraPos = center+ vec3(mapping.x,mapping.y,z-outlinePushback);
    vec4 clipPos = projectionMatrix * vec4(cameraPos, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    gl_FragDepthEXT = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragColor = vec4(outlineColor, 1 );

    if(fogNear != fogFar) {
        float depth = -cameraPos.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}


`},"./src/WebGL/shaders/lib/sphereimposteroutline/sphereimposteroutline.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform float vHeight;

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;

varying vec2 mapping;
varying float rval;
varying vec3 center;

void main() {

    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );
    center = mvPosition.xyz;
    vec4 projPosition = projectionMatrix * mvPosition;
    vec2 norm = normal.xy + vec2(sign(normal.x)*outlineWidth,sign(normal.y)*outlineWidth);

    vec4 adjust = projectionMatrix* vec4(norm,normal.z,1.0); 
    mapping = norm.xy;
    rval = abs(norm.x);
    gl_Position = projPosition+vec4(adjust.xy,0.0,0.0);

    if(outlineMaxPixels > 0.0) {
        vec4 unadjusted = projectionMatrix*vec4(center.x+normal.x, center.y,center.z,1.0); 
        vec4 ccoord = projectionMatrix*vec4(center.xyz,1.0);
        adjust = projectionMatrix* vec4(center.x+norm.x,center.y,center.z,1.0); 
        //subtract center 
        unadjusted.xyz -= ccoord.xyz;
        adjust.xyz -= ccoord.xyz;
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth;
        if(diff > outlineMaxPixels) {
            
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth;
            //adjsut reval by ratio of lengths
            rval *= fixlen/abs(adjust.x);
        }

    }
}

`},"./src/WebGL/shaders/lib/sphereimposteroutline/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},outlineColor:{type:"c",value:new c.Color(0,0,0)},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0}}},"./src/WebGL/shaders/lib/sprite/index.ts":(e,o,a)=>{a.r(o),a.d(o,{sprite:()=>b});var c=a("./src/WebGL/shaders/lib/sprite/uniforms.ts"),d=a("./src/WebGL/shaders/lib/sprite/sprite.frag"),g=a("./src/WebGL/shaders/lib/sprite/sprite.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/sprite/sprite.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform vec3 color;
uniform sampler2D map;
uniform float opacity;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;
uniform float alphaTest;

varying vec2 vUV;
//DEFINEFRAGCOLOR

void main() {

    vec4 texture = texture2D(map, vUV);

    if (texture.a <= alphaTest) discard;

    gl_FragColor = vec4(color * texture.xyz, texture.a * opacity);

    if (fogNear != fogFar) {

        float depth = gl_FragCoord.z / gl_FragCoord.w; //probably wrong
        float fogFactor = smoothstep(fogNear, fogFar, depth);        
        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);
    }
}

`},"./src/WebGL/shaders/lib/sprite/sprite.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform int useScreenCoordinates;
uniform vec3 screenPosition;
uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform float rotation;
uniform vec2 scale;
uniform vec2 alignment;
uniform vec2 uvOffset;
uniform vec2 uvScale;

attribute vec2 position;
attribute vec2 uv;

varying vec2 vUV;

void main() {

    vUV = uvOffset + uv * uvScale;

    vec2 alignedPosition = position + alignment;

    vec2 rotatedPosition;
    rotatedPosition.x = ( cos(rotation) * alignedPosition.x - sin(rotation) * alignedPosition.y ) * scale.x;
    rotatedPosition.y = ( sin(rotation) * alignedPosition.x + cos(rotation) * alignedPosition.y ) * scale.y;

    vec4 finalPosition;

    if(useScreenCoordinates != 0) {
        finalPosition = vec4(screenPosition.xy + rotatedPosition, screenPosition.z, 1.0);
    }

    else {
        finalPosition = projectionMatrix * modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0); finalPosition /= finalPosition.w;
        finalPosition.xy += rotatedPosition; 
    }

    gl_Position = finalPosition;

}

`},"./src/WebGL/shaders/lib/sprite/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>c});const c={}},"./src/WebGL/shaders/lib/ssao/index.ts":(e,o,a)=>{a.r(o),a.d(o,{ssao:()=>b});var c=a("./src/WebGL/shaders/lib/ssao/uniforms.ts"),d=a("./src/WebGL/shaders/lib/ssao/ssao.frag"),g=a("./src/WebGL/shaders/lib/ssao/ssao.vert");const b={fragmentShader:d.default,vertexShader:g.default,uniforms:c.uniforms}},"./src/WebGL/shaders/lib/ssao/ssao.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform sampler2D depthmap;
varying highp vec2 vTexCoords;
uniform float vWidth;
uniform float vHeight;
uniform float total_strength;
uniform float radius;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

//code for pseudorandom vector from chatgpt
float hash(vec3 p) {
    p = fract(p * vec3(0.1031, 0.1030, 0.0973));
    p += dot(p, p.yzx + 33.33);
    return fract((p.x + p.y) * p.z);
}

// Generate a pseudorandom vec3 from a seed vec3
vec3 pseudorandomVec3(vec3 seed) {
    vec3 randomVec;
    randomVec.x = hash(seed);
    randomVec.y = hash(seed + vec3(1.0, 0.0, 17.1));
    randomVec.z = hash(seed + vec3(0.0, 13.23, 0.0));
    return randomVec;
}

void main(void)
{   
   const float base = 0.2;
   const float area = 0.75;
   const int cycles = 1;

   const int samples = 64;
   vec3 sample_sphere[64] = vec3[](
      vec3(0.091258,-0.510164,0.000000),
      vec3(-0.204347,-0.872967,0.187199),
      vec3(0.009690,-0.263696,-0.110414),
      vec3(0.175208,-0.563987,0.228527),
      vec3(-0.001824,-0.003113,-0.000323),
      vec3(0.411134,-0.719869,-0.261530),
      vec3(-0.074272,-0.377368,0.276290),
      vec3(-0.147773,-0.381587,-0.284529),
      vec3(0.173317,-0.199635,0.063295),
      vec3(-0.186452,-0.199460,0.076965),
      vec3(0.143985,-0.308160,-0.307687),
      vec3(0.053194,-0.148286,0.169589),
      vec3(-0.547656,-0.486476,-0.317378),
      vec3(0.020804,-0.015092,-0.004574),
      vec3(-0.038006,-0.043165,0.054059),
      vec3(-0.094795,-0.443908,-0.731525),
      vec3(0.547552,-0.396466,0.461477),
      vec3(-0.176886,-0.089989,0.007315),
      vec3(0.074401,-0.048840,-0.074039),
      vec3(-0.008240,-0.075697,0.178197),
      vec3(-0.307880,-0.185053,-0.368943),
      vec3(0.309520,-0.108483,0.041646),
      vec3(-0.773478,-0.292946,0.538166),
      vec3(0.184487,-0.231594,-0.820065),
      vec3(0.207318,-0.100531,0.361797),
      vec3(-0.173306,-0.037737,-0.055289),
      vec3(0.548102,-0.105342,-0.253237),
      vec3(-0.119342,-0.043907,0.285162),
      vec3(-0.270247,-0.087861,-0.751357),
      vec3(0.449312,-0.039777,0.236146),
      vec3(-0.743773,-0.036095,0.196056),
      vec3(0.148819,-0.004300,-0.231448),
      vec3(0.008773,0.000809,0.051047),
      vec3(-0.461467,0.027390,-0.357386),
      vec3(0.169626,0.013338,-0.014053),
      vec3(-0.043786,0.007095,0.047331),
      vec3(0.004821,0.140371,-0.988260),
      vec3(0.092402,0.023994,0.101860),
      vec3(-0.295335,0.061530,-0.027372),
      vec3(0.024903,0.007537,-0.018901),
      vec3(-0.081463,0.125402,0.447794),
      vec3(-0.397119,0.231805,-0.631062),
      vec3(0.163853,0.059014,0.044905),
      vec3(-0.495220,0.214357,0.254139),
      vec3(0.306123,0.373687,-0.825715),
      vec3(0.021665,0.026737,0.053220),
      vec3(-0.208231,0.117129,-0.098685),
      vec3(0.139749,0.080968,-0.043086),
      vec3(-0.153599,0.182814,0.262090),
      vec3(-0.159673,0.496777,-0.743568),
      vec3(0.134797,0.117152,0.095753),
      vec3(-0.155626,0.120533,0.019395),
      vec3(0.042311,0.054462,-0.049709),
      vec3(0.001257,0.031288,0.034468),
      vec3(-0.002271,0.003199,-0.002304),
      vec3(0.662104,0.717307,0.033854),
      vec3(-0.373100,0.576021,0.308274),
      vec3(0.024233,0.231316,-0.173688),
      vec3(0.161311,0.420217,0.234273),
      vec3(-0.045248,0.078031,-0.010411),
      vec3(0.167453,0.376942,-0.094872),
      vec3(-0.056194,0.433247,0.173218),
      vec3(-0.016224,0.123149,-0.035569),
      vec3(0.067127,0.407641,0.028479)
   );

   float depth = texture2D(depthmap, vTexCoords).r;
   if(depth == 1.0) {
      discard;
   }

   vec4 screen_position = vec4(vTexCoords, depth,1.0);
   vec4 pos = projinv*screen_position;
   pos /= pos.w;
   vec3 position = pos.xyz;

   //approximate the normal from the depth map; I find this simpler
   //than trying to recompute the exact normal within every possible object shader

   //pixel offset positions in screen space
   ivec2 dim = textureSize(depthmap,0);
   vec2 offset1 = vec2(0.0,1.0/float(dim.y));
   vec2 offset2 = vec2(1.0/float(dim.x),0.0);
   float depth1 = texture2D(depthmap, vTexCoords + offset1).r;
   float depth2 = texture2D(depthmap, vTexCoords + offset2).r;
   
   vec3 p1 = vec3(screen_position.xy+offset1, depth1 - depth);
   vec3 p2 = vec3(screen_position.xy+offset2, depth2 - depth);

   //convert to model space
   vec4 pos1 = projinv*vec4(p1,1);
   pos1 /= pos1.w;
   vec4 pos2 = projinv*vec4(p2,1);
   pos2 /= pos2.w;

   vec3 normal = normalize(cross(pos1.xyz-position, pos2.xyz-position)); //model normal, important we normalize in model space

   //pseudo random number

   float occlusion = 0.0;
   for(int c = 0; c < cycles; c++) {
   vec3 random = normalize(pseudorandomVec3(position+float(c)));
   for(int i=0; i < samples; i++) {

      vec3 ray = radius * reflect(sample_sphere[i],random);
      vec3 hemi_ray = position + sign(dot(ray,normal)) * ray; //model space
      vec4 hemi_screen = projectionMatrix*vec4(hemi_ray,1.0);
      hemi_screen /= hemi_screen.w;
      
      float occ_depth = texture2D(depthmap, clamp(hemi_screen.xy,0.0,1.0)).r;
      float difference = hemi_screen.z - occ_depth;
      
      occlusion += step(0.0, difference) * (1.0-smoothstep(0.0, area, difference));
   }
   }
   float ao = 1.0 - total_strength * occlusion * (1.0 / float(cycles*samples));
   gl_FragDepthEXT = clamp(ao+base,0.0,1.0);

}`},"./src/WebGL/shaders/lib/ssao/ssao.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`attribute vec2 vertexPosition;
varying highp vec2 vTexCoords;
const vec2 scale = vec2(0.5, 0.5);

void main() {
   vTexCoords  = vertexPosition * scale + scale; // scale vertex attribute to [0,1] range
   gl_Position = vec4(vertexPosition, 0.0, 1.0);
}
        `},"./src/WebGL/shaders/lib/ssao/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>c});const c={total_strength:{type:"f",value:1},radius:{type:"f",value:5},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/stickimposter/index.ts":(e,o,a)=>{a.r(o),a.d(o,{stickimposter:()=>_});var c=a("./src/WebGL/shaders/lib/stickimposter/uniforms.ts"),d=a("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),g=a("./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag"),b=a("./src/WebGL/shaders/lib/stickimposter/stickimposter.vert");const _={fragmentShader:[d.default,g.default].join(`
`),vertexShader:b.default,uniforms:c.uniforms}},"./src/WebGL/shaders/lib/stickimposter/stickimposter.partial.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`    float dotProduct = dot( norm, vLight );
    vec3 light = vec3( max( dotProduct, 0.0 ) );
    color *= light;
#ifdef SHADED
    ivec2 dim = textureSize(shading,0);
    float shadowFactor = texture2D(shading,vec2(gl_FragCoord.x/float(dim.x),gl_FragCoord.y/float(dim.y))).r;
    color *= shadowFactor;
#endif    
    gl_FragColor = vec4(color, opacity*opacity );
    if(fogNear != fogFar) {
        float depth = -qi.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`},"./src/WebGL/shaders/lib/stickimposter/stickimposter.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];

attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = color; vColor.z = abs(vColor.z); //z indicates which vertex and so would vary
    r = abs(radius);
    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }
    vec3 n = normalize(mvPosition.xyz);
    bool isperspective = (projectionMatrix[3][3] == 0.0);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       if(isperspective) { //perspective
         vec3 pnorm = normalize(p1);
         float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
         mvPosition.xyz = p1+t*pnorm; 
       } else { //orthographic
         mvPosition.xyz = p1;
       }
    } else {
      if(isperspective) { //perspective
         vec3 pnorm = normalize(p2);
         float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
         mvPosition.xyz = p2+t*pnorm;
       } else { //orthographic
         mvPosition.xyz = p2;
       } 
       mult *= -1.0;
    }

    if(isperspective) { //perspective
      vec3 cr = normalize(cross(mvPosition.xyz,norm))*radius;
      vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*radius;
      mvPosition.xyz +=  mult*(cr + doublecr).xyz;
    } else {
      vec3 cr = normalize(cross(vec3(0.0,0.0,-1.0),norm))*radius;
      vec3 doublecr = normalize(cross(vec3(0.0,0.0,-1.0),cr))*radius;
      mvPosition.xyz +=  mult*(cr + doublecr).xyz;     
    }

    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ 0 ], 0.0 );
    vLight = normalize( lDirection.xyz )*directionalLightColor[0]; //not really sure this is right, but color is always white so..
}

`},"./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform float opacity;
uniform mat4 projectionMatrix;

uniform vec3 fogColor;
uniform float fogNear;
uniform float fogFar;

varying vec3 vLight;
varying vec3 vColor;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

#ifdef SHADED
uniform highp sampler2D shading;
#endif

//DEFINEFRAGCOLOR

//cylinder-ray intersection testing taken from http://mrl.nyu.edu/~dzorin/cg05/lecture12.pdf
//also useful: http://stackoverflow.com/questions/9595300/cylinder-impostor-in-glsl
//with a bit more care (caps) this could be a general cylinder imposter (see also outline)
void main() {
    vec3 color = abs(vColor);
    vec3 pos = cposition;
    vec3 p = pos; //ray point
    vec3 v = vec3(0.0,0.0,-1.0); //ray normal - orthographic
    if(projectionMatrix[3][3] == 0.0) v = normalize(pos); //ray normal - perspective
    vec3 pa = p1; //cyl start
    vec3 va = normalize(p2-p1); //cyl norm
    vec3 tmp1 = v-(dot(v,va)*va);
    vec3 deltap = p-pa;
    float A = dot(tmp1,tmp1);
    if(A == 0.0) discard;
    vec3 tmp2 = deltap-(dot(deltap,va)*va);
    float B = 2.0*dot(tmp1, tmp2);
    float C = dot(tmp2,tmp2)-r*r;
//quadratic equation!
    float det = (B*B) - (4.0*A*C);
    if(det < 0.0) discard;
    float sqrtDet = sqrt(det);
    float posT = (-B+sqrtDet)/(2.0*A);
    float negT = (-B-sqrtDet)/(2.0*A);
    float intersectionT = min(posT,negT);
    vec3 qi = p+v*intersectionT;
    float dotp1 = dot(va,qi-p1);
    float dotp2 = dot(va,qi-p2);
    vec3 norm;
    if( dotp1 < 0.0 || dotp2 > 0.0) { //(p-c)^2 + 2(p-c)vt +v^2+t^2 - r^2 = 0
       vec3 cp;
       if( dotp1 < 0.0) {  
//        if(vColor.x < 0.0 ) discard; //color sign bit indicates if we should cap or not
        cp = p1;
       } else {
//          if(vColor.y < 0.0 ) discard;
          cp = p2;
       }
       vec3 diff = p-cp;
       A = dot(v,v);
       B = dot(diff,v)*2.0;
       C = dot(diff,diff)-r*r;
       det = (B*B) - (4.0*C);
       if(det < 0.0) discard;
       sqrtDet = sqrt(det);
       posT = (-B+sqrtDet)/(2.0);
       negT = (-B-sqrtDet)/(2.0);
       float t = min(posT,negT);
       qi = p+v*t; 
       norm = normalize(qi-cp); 
    } else {
       norm = normalize(qi-(dotp1*va + p1));
    }
    vec4 clipPos = projectionMatrix * vec4(qi, 1.0);
    float ndcDepth = clipPos.z / clipPos.w;
    float depth = ((gl_DepthRange.diff * ndcDepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
    gl_FragDepthEXT = depth;`},"./src/WebGL/shaders/lib/stickimposter/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},directionalLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]}}},"./src/WebGL/shaders/lib/stickimposteroutline/index.ts":(e,o,a)=>{a.r(o),a.d(o,{stickimposteroutline:()=>_});var c=a("./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts"),d=a("./src/WebGL/shaders/lib/stickimposter/stickimposterFragmentShader.partial.frag"),g=a("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.partial.frag"),b=a("./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert");const _={fragmentShader:d.default+g.default,vertexShader:b.default,uniforms:c.uniforms}},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.partial.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`
    gl_FragColor = vec4(color, opacity*opacity );
    if(fogNear != fogFar) {
        float depth = -qi.z;
        float fogFactor = smoothstep( fogNear, fogFar, depth );
        gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );
    }
}`},"./src/WebGL/shaders/lib/stickimposteroutline/stickimposteroutline.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`

uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;
uniform mat3 normalMatrix;
uniform vec3 directionalLightColor[ 1 ];
uniform vec3 directionalLightDirection[ 1 ];
uniform vec3 outlineColor;
uniform float outlineWidth;
uniform float outlinePushback;
uniform float outlineMaxPixels;
uniform float vWidth;
uniform mat4 projinv;


attribute vec3 position;
attribute vec3 normal;
attribute vec3 color;
attribute float radius;

varying vec3 vColor;
varying vec3 vLight;
varying vec3 cposition;
varying vec3 p1;
varying vec3 p2;
varying float r;

void main() {

    vColor = outlineColor;
    float rad = radius+sign(radius)*outlineWidth;
    r = abs(rad);

    vec4 to = modelViewMatrix*vec4(normal, 1.0); //normal is other point of cylinder
    vec4 pt = modelViewMatrix*vec4(position, 1.0);
//pushback
    float scale = 1.0;
    if(projectionMatrix[3][3] != 0.0) { //orthographic
        to.z -= outlinePushback;
        pt.z -= outlinePushback;
    } else { //perspective
        vec4 midbefore = pt;
        if(length(to.xyz) < length(pt)) {
            midbefore = to;
        }
        vec4 midafter = midbefore;
        midafter.xyz += normalize(midbefore.xyz)*outlinePushback;

        to.xyz += normalize(to.xyz)*outlinePushback;
        pt.xyz += normalize(pt.xyz)*outlinePushback;

        //figure out a scaling factor for radius to account for perspective setback
        vec4 midbeforer = vec4(midbefore.x+rad,midbefore.y, midbefore.z, midbefore.w);
        vec4 midafterr = vec4(midafter.x+rad,midafter.y, midafter.z, midafter.w);

        vec4 mb = projectionMatrix*midbefore;
        vec4 mbr = projectionMatrix*midbeforer;
        vec4 ma = projectionMatrix*midafter;
        vec4 mar = projectionMatrix*midafterr;
        mb /= mb.w;
        mbr /= mbr.w;
        ma /= ma.w;
        mar /= mar.w;
        scale = abs((mbr.x-mb.x)/(mar.x-ma.x));
        rad *= scale;
        r = abs(rad);
    }
    vec4 mvPosition = pt;
    p1 = pt.xyz; p2 = to.xyz;
    vec3 norm = to.xyz-pt.xyz;
    float mult = 1.1; //slop to account for perspective of sphere
    if(length(p1) > length(p2)) { //billboard at level of closest point
       mvPosition = to;
    }

    vec3 n = normalize(mvPosition.xyz);
//intersect with the plane defined by the camera looking at the billboard point
    if(color.z >= 0.0) { //p1
       vec3 pnorm = normalize(p1);
       float t = dot(mvPosition.xyz-p1,n)/dot(pnorm,n);
       mvPosition.xyz = p1+t*pnorm;
    } else {
       vec3 pnorm = normalize(p2);
       float t = dot(mvPosition.xyz-p2,n)/dot(pnorm,n);
       mvPosition.xyz = p2+t*pnorm;
       mult *= -1.0;
    }

    if(outlineMaxPixels > 0.0) {
        vec4 cpos = mvPosition;
        vec4 unadjusted = projectionMatrix*vec4(cpos.x+abs(scale*radius), cpos.y,cpos.z,cpos.w); 
        vec4 ccoord = projectionMatrix*cpos;
        vec4 adjust = projectionMatrix*vec4(cpos.x+r,cpos.y,cpos.z,cpos.w); 
        unadjusted /= unadjusted.w;
        adjust /= adjust.w;
        unadjusted.xyz -= ccoord.xyz/ccoord.w;
        adjust.xyz -= ccoord.xyz/ccoord.w;
        float diff = abs(adjust.x-unadjusted.x);
        diff *= vWidth; //this should now be in pixels
        if(diff > outlineMaxPixels) {
            float fixlen = abs(unadjusted.x) + outlineMaxPixels/vWidth; 
            vec4 pcoord = ccoord;
            pcoord.x += fixlen*pcoord.w;
            vec4 altc = projinv*pcoord;
            r= abs(altc.x-cpos.x);
        }
    }

    vec3 cr = normalize(cross(mvPosition.xyz,norm))*rad;
    vec3 doublecr = normalize(cross(mvPosition.xyz,cr))*rad;
    mvPosition.xy +=  mult*(cr + doublecr).xy;
    cposition = mvPosition.xyz;
    gl_Position = projectionMatrix * mvPosition;
    vLight = vec3(1.0,1.0,1.0);
}

`},"./src/WebGL/shaders/lib/stickimposteroutline/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},outlineColor:{type:"c",value:new c.Color(0,0,0)},outlineWidth:{type:"f",value:.1},outlinePushback:{type:"f",value:1},outlineMaxPixels:{type:"f",value:0},projinv:{type:"mat4",value:[]}}},"./src/WebGL/shaders/lib/volumetric/index.ts":(e,o,a)=>{a.r(o),a.d(o,{volumetric:()=>b});var c=a("./src/WebGL/shaders/lib/volumetric/uniforms.ts"),d=a("./src/WebGL/shaders/lib/volumetric/volumetric.frag"),g=a("./src/WebGL/shaders/lib/volumetric/volumetric.vert");const b={fragmentShader:d.default.replace("#define GLSLIFY 1",""),vertexShader:g.default.replace("#define GLSLIFY 1",""),uniforms:c.uniforms}},"./src/WebGL/shaders/lib/volumetric/uniforms.ts":(e,o,a)=>{a.r(o),a.d(o,{uniforms:()=>d});var c=a("./src/colors.ts");const d={opacity:{type:"f",value:1},fogColor:{type:"c",value:new c.Color(1,1,1)},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},data:{type:"i",value:3},colormap:{type:"i",value:4},depthmap:{type:"i",value:5},step:{type:"f",value:1},maxdepth:{type:"f",value:100},subsamples:{type:"f",value:5},textmat:{type:"mat4",value:[]},projinv:{type:"mat4",value:[]},transfermin:{type:"f",value:-.2},transfermax:{type:"f",value:.2}}},"./src/WebGL/shaders/lib/volumetric/volumetric.frag":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`
uniform highp sampler3D data;
uniform highp sampler2D colormap;
uniform highp sampler2D depthmap;


uniform mat4 textmat;
uniform mat4 projinv;
uniform mat4 projectionMatrix;

uniform float step;
uniform float subsamples;
uniform float maxdepth;
uniform float transfermin;
uniform float transfermax;
in  vec4 mvPosition;
out vec4 color;
void main(void) {

   vec4 pos = mvPosition;
   bool seengood = false;
   float i = 0.0;
   color = vec4(1,1,1,0);
   float increment = 1.0/subsamples;
   float maxsteps = (maxdepth*subsamples/step);
//there's probably a better way to do this..
//calculate farthest possible point in model coordinates
   vec4 maxpos = vec4(pos.x,pos.y,pos.z-maxdepth,1.0);
// convert to projection
   maxpos = projectionMatrix*maxpos;
   vec4 startp = projectionMatrix*pos;
// homogonize
   maxpos /= maxpos.w;
   startp /= startp.w;
//take x,y from start and z from max
   maxpos = vec4(startp.x,startp.y,maxpos.z,1.0);
//convert back to model space
   maxpos = projinv*maxpos;
   maxpos /= maxpos.w;
   float incr = step/subsamples;
//get depth from depthmap
//startp is apparently [-1,1]
   vec2 tpos = startp.xy/2.0+0.5;
   float depth = texture(depthmap, tpos).r;
//compute vector between start and end
   vec4 direction = maxpos-pos;
   for( i = 0.0; i <= maxsteps; i++) {
      vec4 pt = (pos+(i/maxsteps)*direction);
      vec4 ppt = projectionMatrix*pt;
      float ptdepth = ppt.z/ppt.w;
      ptdepth = ((gl_DepthRange.diff * ptdepth) + gl_DepthRange.near + gl_DepthRange.far) / 2.0;
      if(ptdepth > depth) break;
      pt = textmat*pt;
//       pt /= pt.w;
      if(pt.x >= -0.01 && pt.y >= -0.01 && pt.z >= -0.01 && pt.x <= 1.01 && pt.y <= 1.01 && pt.z <= 1.01) {
         seengood = true;
      } else if(seengood) {
         break;
      }
      if( pt.x < -0.01 || pt.x > 1.01 || pt.y < -0.01 || pt.y > 1.01 || pt.z < -0.01 || pt.z > 1.01  ){
          color.a = 0.0;
          continue;
      }
      else {
         float val = texture(data, pt.zyx).r;
         if(isinf(val)) continue; //masked out
         float cval = (val-transfermin)/(transfermax-transfermin); //scale to texture 0-1 range
         vec4 val_color = texture(colormap, vec2(cval,0.5));
         color.rgb = color.rgb*color.a + (1.0-color.a)*val_color.a*val_color.rgb;
         color.a += (1.0 - color.a) * val_color.a; 
         if(color.a > 0.0) color.rgb /= color.a;
//          color = vec4(pt.x, pt.y, pt.z, 1.0);
      }
//       color = vec4(pt.x, pt.y, pt.z, 0.0)
    }
}

        `},"./src/WebGL/shaders/lib/volumetric/volumetric.vert":(e,o,a)=>{a.r(o),a.d(o,{default:()=>c});const c=`uniform mat4 modelViewMatrix;
uniform mat4 projectionMatrix;
uniform mat4 viewMatrix;

in vec3 position;
out vec4 mvPosition;
void main() {

    mvPosition = modelViewMatrix * vec4( position, 1.0 );
    gl_Position = projectionMatrix*mvPosition;
}
`},"./src/WebGL/shaders/utils/clone.ts":(e,o,a)=>{a.r(o),a.d(o,{clone:()=>d});var c=a("./src/colors.ts");function d(g){let b={};for(const $ in g){b[$]={},b[$].type=g[$].type;var _=g[$].value;_ instanceof c.Color?b[$].value=_.clone():typeof _=="number"?b[$].value=_:_ instanceof Array?b[$].value=[]:console.error("Error copying shader uniforms from ShaderLib: unknown type for uniform")}return b}},"./src/WebGL/shaders/utils/index.ts":(e,o,a)=>{a.r(o),a.d(o,{ShaderUtils:()=>d,clone:()=>c.clone});var c=a("./src/WebGL/shaders/utils/clone.ts");const d={clone:c.clone}},"./src/WebGL/shapes/Cylinder.ts":(e,o,a)=>{a.r(o),a.d(o,{Cylinder:()=>g});var c=a("./src/WebGL/math/index.ts");let d=new c.Vector3;class g{constructor(_=new c.Vector3,$=new c.Vector3,j=0){this.c1=_,this.c2=$,this.radius=j,this.direction=new c.Vector3().subVectors(this.c2,this.c1).normalize()}copy(_){return this.c1.copy(_.c1),this.c2.copy(_.c2),this.direction.copy(_.direction),this.radius=_.radius,this}lengthSq(){return d.subVectors(this.c2,this.c1).lengthSq()}applyMatrix4(_){return this.direction.add(this.c1).applyMatrix4(_),this.c1.applyMatrix4(_),this.c2.applyMatrix4(_),this.direction.sub(this.c1).normalize(),this.radius=this.radius*_.getMaxScaleOnAxis(),this}}},"./src/WebGL/shapes/Sphere.ts":(e,o,a)=>{a.r(o),a.d(o,{Sphere:()=>d});var c=a("./src/WebGL/math/index.ts");class d{constructor(b={x:0,y:0,z:0},_=0){this.center=new c.Vector3(b.x,b.y,b.z),this.radius=_}set(b,_){return this.center.copy(b),this.radius=_,this}copy(b){return this.center.copy(b.center),this.radius=b.radius,this}applyMatrix4(b){return this.center.applyMatrix4(b),this.radius=this.radius*b.getMaxScaleOnAxis(),this}translate(b){return this.center.add(b),this}equals(b){return b.center.equals(this.center)&&b.radius===this.radius}clone(){return new d().copy(this)}}},"./src/WebGL/shapes/Triangle.ts":(e,o,a)=>{a.r(o),a.d(o,{Triangle:()=>g});var c=a("./src/WebGL/math/index.ts");const d=new c.Vector3;class g{constructor(_=new c.Vector3,$=new c.Vector3,j=new c.Vector3){this.a=_,this.b=$,this.c=j}copy(_){return this.a.copy(_.a),this.b.copy(_.b),this.c.copy(_.c),this}applyMatrix4(_){return this.a.applyMatrix4(_),this.b.applyMatrix4(_),this.c.applyMatrix4(_),this}getNormal(){var _=this.a.clone();return _.sub(this.b),d.subVectors(this.c,this.b),_.cross(d),_.normalize(),_}}},"./src/WebGL/shapes/index.ts":(e,o,a)=>{a.r(o),a.d(o,{Cylinder:()=>d.Cylinder,Sphere:()=>c.Sphere,Triangle:()=>g.Triangle});var c=a("./src/WebGL/shapes/Sphere.ts"),d=a("./src/WebGL/shapes/Cylinder.ts"),g=a("./src/WebGL/shapes/Triangle.ts")},"./src/autoload.ts":(e,o,a)=>{a.r(o),a.d(o,{autoinit:()=>_,autoload:()=>rt,processing_autoinit:()=>$,viewers:()=>j});var c=a("./src/GLViewer.ts"),d=a("./src/ProteinSurface4.ts"),g=a("./src/utilities.ts"),b=a("./src/colors.ts"),_=!1,$=!1,j={};function rt(nt,st){var jt,wl,Ft;if(document.querySelector(".viewer_3Dmoljs")!=null&&(_=!0),_){$=!0,nt=nt??null;var it=0;document.querySelectorAll(".viewer_3Dmoljs").forEach(ot=>{var Ln=[],Cl=[],Tl="";ot.style.position=="static"&&(ot.style.position="relative");var zl=null;if(Ft=null,ot.dataset.pdb)Ln.push("https://files.rcsb.org/view/"+ot.dataset.pdb+".pdb"),Cl.push("pdb");else if(ot.dataset.cid)Cl.push("sdf"),Ln.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+ot.dataset.cid+"/SDF?record_type=3d");else if(ot.dataset.href||ot.dataset.url){if(ot.dataset.href?Tl=ot.dataset.href:Tl=ot.dataset.url,Ln.push(Tl),Ft=Tl.substring(Tl.lastIndexOf(".")+1),Ft=="gz"){let _g=Tl.substring(0,Tl.lastIndexOf(".")).lastIndexOf(".");Ft=Tl.substring(_g+1)}Cl.push(Ft);var In=Tl.substring(Tl.lastIndexOf("/")+1,Tl.lastIndexOf("."));In=="/"&&(In=Tl.substring(Tl.lastIndexOf("/")+1)),ot.dataset[Cl[Cl.length-1]]=In}let Ml=ot.dataset;for(jt in Ml)jt.substring(0,3)==="pdb"&&jt!=="pdb"?(Ln.push("https://files.rcsb.org/view/"+Ml[jt]+".pdb"),Cl.push("pdb")):jt.substring(0,4)==="href"&&jt!=="href"?(Tl=Ml[jt],Ln.push(Tl),Cl.push(Tl.substring(Tl.lastIndexOf(".")+1))):jt.substring(0,3)==="cid"&&jt!=="cid"&&(Ln.push("https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+Ml[jt]+"/SDF?record_type=3d"),Cl.push("sdf"));var Dl={};ot.dataset.options&&(Dl=(0,g.specStringToObject)(ot.dataset.options));var Ul=b.CC.color(ot.dataset.backgroundcolor),Vl=ot.dataset.backgroundalpha;Vl=Vl==null?1:parseFloat(Vl);var mu={line:{}};ot.dataset.style&&(mu=(0,g.specStringToObject)(ot.dataset.style));var rp={};ot.dataset.select&&(rp=(0,g.specStringToObject)(ot.dataset.select));var Ju=[],cp=[],hp=[],yp={},xp=null,fp=ot.dataset,_p=/style(.+)/,ip=/surface(.*)/,gp=/labelres(.*)/,Dp=[];for(wl in fp)Object.prototype.hasOwnProperty.call(fp,wl)&&Dp.push(wl);for(Dp.sort(),jt=0;jt<Dp.length;jt++){wl=Dp[jt];var Fp=_p.exec(wl),n0,S0,C0;Fp&&(n0="select"+Fp[1],S0=(0,g.specStringToObject)(fp[n0]),C0=(0,g.specStringToObject)(fp[wl]),Ju.push([S0,C0])),Fp=ip.exec(wl),Fp&&(n0="select"+Fp[1],S0=(0,g.specStringToObject)(fp[n0]),C0=(0,g.specStringToObject)(fp[wl]),cp.push([S0,C0])),Fp=gp.exec(wl),Fp&&(n0="select"+Fp[1],S0=(0,g.specStringToObject)(fp[n0]),C0=(0,g.specStringToObject)(fp[wl]),hp.push([S0,C0])),wl=="zoomto"&&(yp=(0,g.specStringToObject)(fp[wl])),wl=="spin"&&(xp=(0,g.specStringToObject)(fp[wl]))}var P0=function(_g){for(_g.setStyle(rp,mu),zl&&zl.createSelectionAndStyle(rp,mu),jt=0;jt<Ju.length;jt++){let b0=Ju[jt][0]||{},U0=Ju[jt][1]||{line:{}};_g.setStyle(b0,U0),zl&&zl.createSelectionAndStyle(rp,mu)}for(jt=0;jt<cp.length;jt++){let b0=cp[jt][0]||{},U0=cp[jt][1]||{};zl?_g.addSurface(d.SurfaceType.VDW,U0,b0,b0).then(mm=>{zl.loadSurface("VDW",b0,U0,mm)}):_g.addSurface(d.SurfaceType.VDW,U0,b0,b0)}for(jt=0;jt<hp.length;jt++){let b0=hp[jt][0]||{},U0=hp[jt][1]||{};_g.addResLabels(b0,U0)}_g.render(),_g.zoomTo(yp),xp&&_g.spin(xp.axis,xp.speed)};let k0=nt;try{var T0=(0,g.specStringToObject)(ot.dataset.config)||{};T0.backgroundColor===void 0&&(T0.backgroundColor=Ul),T0.backgroundAlpha===void 0&&(T0.backgroundAlpha=Vl),k0==null?k0=j[ot.id||it++]=(0,c.createViewer)(ot,T0):(k0.setBackgroundColor(Ul,Vl),k0.setConfig(T0),zl&&zl.initiateUI()),ot.dataset.ui&&$3Dmol.StateManager&&(zl=new $3Dmol.StateManager(k0))}catch(_g){console.log(_g),ot.textContent="WebGL appears to be disabled."}if(Ln.length!=0){let _g=0,b0=((U0,mm)=>function(Lm){Tl=Ln[_g];var Um=U0.dataset.type||U0.dataset.datatype||Cl[_g];if(mm.addModel(Lm,Um,Dl),zl){var Hm=U0.dataset[Cl[_g]];zl.setModelTitle(Hm)}_g+=1,_g<Ln.length?(0,g.get)(Ln[_g]).then(b0):(P0(mm),U0.dataset.callback&&(0,g.makeFunction)(U0.dataset.callback)(mm),$=!1,st&&st(mm))})(ot,k0);Ft&&Ft.endsWith("gz")?(0,g.getbin)(Ln[0]).then(b0):(0,g.get)(Ln[0]).then(b0)}else{if(ot.dataset.element){var im="#"+ot.dataset.element,am=document.querySelector(im),bm=am?am.textContent:"";Ft=ot.dataset.type||ot.dataset.datatype,k0.addModel(bm,Ft,Dl)}P0(k0),ot.dataset.callback&&(0,g.makeFunction)(ot.dataset.callback)(k0),$=!1,st&&st(k0)}})}}document.onreadystatechange=()=>{document.readyState==="complete"&&rt()}},"./src/colors.ts":(e,o,a)=>{a.r(o),a.d(o,{CC:()=>d,Color:()=>c,builtinColorSchemes:()=>nt,chains:()=>rt,elementColors:()=>$,htmlColors:()=>g,residues:()=>j,ssColors:()=>b});class c{constructor(jt,wl,Ft){return this.r=0,this.g=0,this.b=0,arguments.length>1&&typeof jt=="number"?(this.r=jt||0,this.g=wl||0,this.b=Ft||0,this):this.set(jt||0)}set(jt){return jt instanceof c?jt.clone():(typeof jt=="number"?this.setHex(jt):typeof jt=="object"&&(this.r=(jt==null?void 0:jt.r)||0,this.g=(jt==null?void 0:jt.g)||0,this.b=(jt==null?void 0:jt.b)||0),this)}setHex(jt){return jt=Math.floor(jt),this.r=(jt>>16&255)/255,this.g=(jt>>8&255)/255,this.b=(jt&255)/255,this}getHex(){var jt=Math.round(this.r*255),wl=Math.round(this.g*255),Ft=Math.round(this.b*255);return jt<<16|wl<<8|Ft}clone(){return new c(this.r,this.g,this.b)}copy(jt){return this.r=jt.r,this.g=jt.g,this.b=jt.b,this}scaled(){var jt={};return jt.r=Math.round(this.r*255),jt.g=Math.round(this.g*255),jt.b=Math.round(this.b*255),jt.a=1,jt}}class d{static color(jt){if(!jt)return d.cache[0];if(jt instanceof c)return jt;if(typeof jt=="number"&&typeof d.cache[jt]<"u")return d.cache[jt];if(jt&&Array.isArray(jt))return jt.map(d.color);let wl=d.getHex(jt),Ft=new c(wl);return d.cache[wl]=Ft,Ft}static getHex(jt){if(Array.isArray(jt))return jt.map(d.getHex);if(typeof jt=="string"){let wl=jt;if(!isNaN(parseInt(wl)))return parseInt(wl);if(wl=wl.trim(),wl.length==4&&wl[0]=="#"&&(wl="#"+wl[1]+wl[1]+wl[2]+wl[2]+wl[3]+wl[3]),wl.length==7&&wl[0]=="#")return parseInt(wl.substring(1),16);let Ft=d.rgbRegEx.exec(wl);if(Ft){Ft[1]!=""&&console.log("WARNING: Opacity value in rgba ignored.  Specify separately as opacity attribute.");let ot=0;for(let Ln=2;Ln<5;Ln++){ot*=256;let Cl=Ft[Ln].endsWith("%")?255*parseFloat(Ft[Ln])/100:parseFloat(Ft[Ln]);ot+=Math.round(Cl)}return ot}let it=g[wl.toLowerCase()];return it!==void 0?it:(console.error("color not found",jt.toLowerCase(),g),0)}return jt}}d.rgbRegEx=/rgb(a?)\(\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)\s*,\s*([^ ,\)\t]+)/i,d.cache={0:new c(0)};const g={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgrey:11119017,darkgreen:25600,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,grey:8421504,green:32768,greenyellow:11403055,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgrey:13882323,lightgreen:9498256,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074,b:255,g:32768,r:16711680,c:49087,m:12517567,y:12566272,k:0,w:16777215},b={pyMol:{h:16711680,s:16776960,c:65280},Jmol:{h:16711808,s:16762880,c:16777215}},_={H:16777215,He:16761035,HE:16761035,Li:11674146,LI:11674146,B:65280,C:13158600,N:9408511,O:15728640,F:14329120,Na:255,NA:255,Mg:2263842,MG:2263842,Al:8421520,AL:8421520,Si:14329120,SI:14329120,P:16753920,S:16762930,Cl:65280,CL:65280,Ca:8421520,CA:8421520,Ti:8421520,TI:8421520,Cr:8421520,CR:8421520,Mn:8421520,MN:8421520,Fe:16753920,FE:16753920,Ni:10824234,NI:10824234,Cu:10824234,CU:10824234,Zn:10824234,ZN:10824234,Br:10824234,BR:10824234,Ag:8421520,AG:8421520,I:10494192,Ba:16753920,BA:16753920,Au:14329120,AU:14329120},$={defaultColor:16716947,Jmol:{H:16777215,He:14286847,HE:14286847,Li:13402367,LI:13402367,Be:12779264,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,Ne:11789301,NE:11789301,Na:11230450,NA:11230450,Mg:9109248,MG:9109248,Al:12560038,AL:12560038,Si:1578e4,SI:1578e4,P:16744448,S:16777008,Cl:2093087,CL:2093087,Ar:8442339,AR:8442339,K:9388244,Ca:4062976,CA:4062976,Sc:15132390,SC:15132390,Ti:12567239,TI:12567239,V:10921643,Cr:9083335,CR:9083335,Mn:10255047,MN:10255047,Fe:14706227,FE:14706227,Co:15765664,CO:15765664,Ni:5296208,NI:5296208,Cu:13140019,CU:13140019,Zn:8224944,ZN:8224944,Ga:12750735,GA:12750735,Ge:6721423,GE:6721423,As:12419299,AS:12419299,Se:16752896,SE:16752896,Br:10889513,BR:10889513,Kr:6076625,KR:6076625,Rb:7351984,RB:7351984,Sr:65280,SR:65280,Y:9764863,Zr:9756896,ZR:9756896,Nb:7586505,NB:7586505,Mo:5551541,MO:5551541,Tc:3907230,TC:3907230,Ru:2396047,RU:2396047,Rh:687500,RH:687500,Pd:27013,PD:27013,Ag:12632256,AG:12632256,Cd:16767375,CD:16767375,In:10909043,IN:10909043,Sn:6717568,SN:6717568,Sb:10380213,SB:10380213,Te:13924864,TE:13924864,I:9699476,Xe:4366e3,XE:4366e3,Cs:5707663,CS:5707663,Ba:51456,BA:51456,La:7394559,LA:7394559,Ce:16777159,CE:16777159,Pr:14286791,PR:14286791,Nd:13107143,ND:13107143,Pm:10747847,PM:10747847,Sm:9437127,SM:9437127,Eu:6422471,EU:6422471,Gd:4587463,GD:4587463,Tb:3211207,TB:3211207,Dy:2097095,DY:2097095,Ho:65436,HO:65436,Er:58997,ER:58997,Tm:54354,TM:54354,Yb:48952,YB:48952,Lu:43812,LU:43812,Hf:5096191,HF:5096191,Ta:5089023,TA:5089023,W:2200790,Re:2522539,RE:2522539,Os:2516630,OS:2516630,Ir:1528967,IR:1528967,Pt:13684960,PT:13684960,Au:16765219,AU:16765219,Hg:12105936,HG:12105936,Tl:10900557,TL:10900557,Pb:5724513,PB:5724513,Bi:10375093,BI:10375093,Po:11230208,PO:11230208,At:7688005,AT:7688005,Rn:4358806,RN:4358806,Fr:4325478,FR:4325478,Ra:32e3,RA:32e3,Ac:7384058,AC:7384058,Th:47871,TH:47871,Pa:41471,PA:41471,U:36863,Np:33023,NP:33023,Pu:27647,PU:27647,Am:5528818,AM:5528818,Cm:7888099,CM:7888099,Bk:9064419,BK:9064419,Cf:10565332,CF:10565332,Es:11739092,ES:11739092,Fm:11739066,FM:11739066,Md:11734438,MD:11734438,No:12389767,NO:12389767,Lr:13041766,LR:13041766,Rf:13369433,RF:13369433,Db:13697103,DB:13697103,Sg:14221381,SG:14221381,Bh:14680120,BH:14680120,Hs:15073326,HS:15073326,Mt:15400998,MT:15400998},rasmol:_,defaultColors:Object.assign({},_),greenCarbon:Object.assign(Object.assign({},_),{C:65280}),cyanCarbon:Object.assign(Object.assign({},_),{C:65535}),magentaCarbon:Object.assign(Object.assign({},_),{C:16711935}),yellowCarbon:Object.assign(Object.assign({},_),{C:16776960}),whiteCarbon:Object.assign(Object.assign({},_),{C:16777215}),orangeCarbon:Object.assign(Object.assign({},_),{C:16753920}),purpleCarbon:Object.assign(Object.assign({},_),{C:8388736}),blueCarbon:Object.assign(Object.assign({},_),{C:255})},j={amino:{ALA:13158600,ARG:1334015,ASN:56540,ASP:15075850,CYS:15132160,GLN:56540,GLU:15075850,GLY:15461355,HIS:8553170,ILE:1016335,LEU:1016335,LYS:1334015,MET:15132160,PHE:3289770,PRO:14456450,SER:16422400,THR:16422400,TRP:11819700,TYR:3289770,VAL:1016335,ASX:16738740,GLX:16738740},shapely:{ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935},nucleic:{A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576}},rt={atom:{A:12636415,B:11599792,C:16761032,D:16777088,E:16761087,F:11596016,G:16765040,H:15761536,I:16113331,J:49151,K:13458524,L:6737322,M:10145074,N:15631086,O:52945,P:65407,Q:3978097,R:139,S:12433259,T:25600,U:8388608,V:8421376,W:8388736,X:32896,Y:12092939,Z:11674146},hetatm:{A:9478351,B:8441752,C:13602992,D:13619056,E:13603023,F:8437952,G:13607008,H:12603504,I:12955267,J:42959,K:11881548,L:5682578,M:9090346,N:12481214,O:46753,P:53103,Q:3447649,R:187,S:10854235,T:37888,U:11534336,V:11579392,W:11534512,X:45232,Y:15250963,Z:12726834}},nt={ssPyMol:{prop:"ss",map:b.pyMol},ssJmol:{prop:"ss",map:b.Jmol},Jmol:{prop:"elem",map:$.Jmol},amino:{prop:"resn",map:j.amino},shapely:{prop:"resn",map:j.shapely},nucleic:{prop:"resn",map:j.nucleic},chain:{prop:"chain",map:rt.atom},rasmol:{prop:"elem",map:$.rasmol},default:{prop:"elem",map:$.defaultColors},greenCarbon:{prop:"elem",map:$.greenCarbon},chainHetatm:{prop:"chain",map:rt.hetatm},cyanCarbon:{prop:"elem",map:$.cyanCarbon},magentaCarbon:{prop:"elem",map:$.magentaCarbon},purpleCarbon:{prop:"elem",map:$.purpleCarbon},whiteCarbon:{prop:"elem",map:$.whiteCarbon},orangeCarbon:{prop:"elem",map:$.orangeCarbon},yellowCarbon:{prop:"elem",map:$.yellowCarbon},blueCarbon:{prop:"elem",map:$.blueCarbon}}},"./src/exporter.js":e=>{typeof e.exports=="object"&&(e.exports=window.$3Dmol)},"./src/glcartoon.ts":(e,o,a)=>{a.r(o),a.d(o,{drawCartoon:()=>rp,subdivide_spline:()=>rt});var c=a("./src/WebGL/math/index.ts"),d=a("./src/WebGL/shapes/index.ts"),g=a("./src/WebGL/index.ts"),b=a("./src/Gradient.ts"),_=a("./src/colors.ts"),$=a("./src/GLDraw.ts"),j=a("./src/utilities.ts");function rt(Ju,cp){var hp=[],yp=Ju;yp=[],yp.push(Ju[0]);var xp,fp,_p,ip,gp,Dp,Fp,n0,S0;for(xp=1,fp=Ju.length-1;xp<fp;xp++)if(gp=Ju[xp],Dp=Ju[xp+1],gp.smoothen){var C0=new c.Vector3((gp.x+Dp.x)/2,(gp.y+Dp.y)/2,(gp.z+Dp.z)/2);C0.atom=gp.atom,yp.push(C0)}else yp.push(gp);for(yp.push(Ju[Ju.length-1]),xp=-1,_p=yp.length;xp<=_p-3;xp++)if(ip=yp[xp===-1?0:xp],gp=yp[xp+1],Dp=yp[xp+2],Fp=yp[xp===_p-3?_p-1:xp+3],n0=new c.Vector3().subVectors(Dp,ip).multiplyScalar(.5),S0=new c.Vector3().subVectors(Fp,gp).multiplyScalar(.5),!Dp.skip)for(var P0=0;P0<cp;P0++){var k0=1/cp*P0,T0=gp.x+k0*n0.x+k0*k0*(-3*gp.x+3*Dp.x-2*n0.x-S0.x)+k0*k0*k0*(2*gp.x-2*Dp.x+n0.x+S0.x),im=gp.y+k0*n0.y+k0*k0*(-3*gp.y+3*Dp.y-2*n0.y-S0.y)+k0*k0*k0*(2*gp.y-2*Dp.y+n0.y+S0.y),am=gp.z+k0*n0.z+k0*k0*(-3*gp.z+3*Dp.z-2*n0.z-S0.z)+k0*k0*k0*(2*gp.z-2*Dp.z+n0.z+S0.z),bm=new c.Vector3(T0,im,am);P0<cp/2?bm.atom=gp.atom:bm.atom=Dp.atom,hp.push(bm)}return hp.push(yp[yp.length-1]),hp}const nt=.5,st=1.3,jt=.8,wl=.4,Ft=.4;function it(Ju,cp,hp,yp){for(var xp,fp,_p,ip,gp=0,Dp=cp.length;gp<Dp;gp++){ip=Math.round(gp*(yp.length-1)/Dp),_p=_.CC.color(yp[ip]);var Fp=Ju.updateGeoGroup(2),n0=Fp.vertexArray,S0=Fp.colorArray,C0=Fp.faceArray;xp=Fp.vertices,fp=xp*3,n0[fp]=cp[gp].x,n0[fp+1]=cp[gp].y,n0[fp+2]=cp[gp].z,n0[fp+3]=hp[gp].x,n0[fp+4]=hp[gp].y,n0[fp+5]=hp[gp].z;for(var P0=0;P0<6;++P0)S0[fp+3*P0]=_p.r,S0[fp+1+3*P0]=_p.g,S0[fp+2+3*P0]=_p.b;if(gp>0){var k0=[xp,xp+1,xp-1,xp-2],T0=Fp.faceidx;C0[T0]=k0[0],C0[T0+1]=k0[1],C0[T0+2]=k0[3],C0[T0+3]=k0[1],C0[T0+4]=k0[2],C0[T0+5]=k0[3],Fp.faceidx+=6}Fp.vertices+=2}}function ot(Ju,cp,hp,yp,xp,fp,_p){var ip,gp,Dp,Fp;if(Dp=cp.length,Dp<2||cp[0].length<2)return;for(ip=0;ip<Dp;ip++)cp[ip]=rt(cp[ip],yp);if(Fp=cp[0].length,!xp)return it(Ju,cp[0],cp[Dp-1],hp);var n0,S0,C0,P0,k0,T0,im=[],am=[],bm=[];for(gp=0;gp<Dp;gp++)im.push(.25+1.5*Math.sqrt((Dp-1)*gp-Math.pow(gp,2))/(Dp-1)),am.push(.5),bm.push(2*(Math.pow(gp/Dp,2)-gp/Dp)+.6);var _g=[];for(gp=0;gp<Dp*2-1;gp++)_g[gp]=[gp,gp+1,gp+1-2*Dp,gp-2*Dp];_g[Dp*2-1]=[gp,gp+1-2*Dp,gp+1-4*Dp,gp-2*Dp];var b0,U0,mm,Lm,Um,Hm,Dm,Nm,Om,Mm;let cm=Ju.updateGeoGroup();for(ip=0;ip<Fp;ip++){let Yp=Ju.groups,o0=!1;cm=Ju.updateGeoGroup(2*Dp),Yp!=Ju.groups&&ip>0&&(ip=ip-1,o0=!0),Hm=Math.round(ip*(hp.length-1)/Fp),Um=_.CC.color(hp[Hm]),k0=C0,T0=P0,C0=[],P0=[],n0=[],cp[0][ip].atom!==void 0&&(Lm=cp[0][ip].atom,_p==="oval"?S0=im:_p==="rectangle"?S0=am:_p==="parabola"&&(S0=bm)),S0||(S0=am);var Jm,B0;for(gp=0;gp<Dp;gp++)ip<Fp-1?Jm=cp[gp][ip+1].clone().sub(cp[gp][ip]):Jm=cp[gp][ip-1].clone().sub(cp[gp][ip]).negate(),gp<Dp-1?B0=cp[gp+1][ip].clone().sub(cp[gp][ip]):B0=cp[gp-1][ip].clone().sub(cp[gp][ip]).negate(),n0[gp]=B0.cross(Jm).normalize().multiplyScalar(xp*S0[gp]);for(gp=0;gp<Dp;gp++)C0[gp]=cp[gp][ip].clone().add(n0[gp].clone().negate());for(gp=0;gp<Dp;gp++)P0[gp]=cp[gp][ip].clone().add(n0[gp]);for(Dm=cm.vertexArray,Nm=cm.colorArray,Om=cm.faceArray,b0=cm.vertices,U0=b0*3,gp=0;gp<Dp;gp++)Dm[U0+3*gp+0]=C0[gp].x,Dm[U0+3*gp+1]=C0[gp].y,Dm[U0+3*gp+2]=C0[gp].z;for(gp=0;gp<Dp;gp++)Dm[U0+3*gp+0+3*Dp]=P0[Dp-1-gp].x,Dm[U0+3*gp+1+3*Dp]=P0[Dp-1-gp].y,Dm[U0+3*gp+2+3*Dp]=P0[Dp-1-gp].z;for(gp=0;gp<2*Dp;++gp)Nm[U0+3*gp+0]=Um.r,Nm[U0+3*gp+1]=Um.g,Nm[U0+3*gp+2]=Um.b;if(ip>0&&!o0){for(gp=0;gp<Dp*2;gp++)Mm=[b0+_g[gp][0],b0+_g[gp][1],b0+_g[gp][2],b0+_g[gp][3]],mm=cm.faceidx,Om[mm]=Mm[0],Om[mm+1]=Mm[1],Om[mm+2]=Mm[3],Om[mm+3]=Mm[1],Om[mm+4]=Mm[2],Om[mm+5]=Mm[3],cm.faceidx+=6;if(Lm.clickable||Lm.hoverable){var Pp=[];Pp.push(new d.Triangle(k0[0],C0[0],C0[Dp-1])),Pp.push(new d.Triangle(k0[0],C0[Dp-1],k0[Dp-1])),Pp.push(new d.Triangle(k0[Dp-1],C0[Dp-1],P0[Dp-1])),Pp.push(new d.Triangle(k0[Dp-1],P0[Dp-1],T0[Dp-1])),Pp.push(new d.Triangle(P0[0],T0[0],T0[Dp-1])),Pp.push(new d.Triangle(P0[Dp-1],P0[0],T0[Dp-1])),Pp.push(new d.Triangle(C0[0],k0[0],T0[0])),Pp.push(new d.Triangle(P0[0],C0[0],T0[0]));for(gp in Pp)Lm.intersectionShape.triangle.push(Pp[gp])}}cm.vertices+=2*Dp}for(Dm=cm.vertexArray,Nm=cm.colorArray,Om=cm.faceArray,b0=cm.vertices,U0=b0*3,mm=cm.faceidx,ip=0;ip<Dp-1;ip++)Mm=[ip,ip+1,2*Dp-2-ip,2*Dp-1-ip],mm=cm.faceidx,Om[mm]=Mm[0],Om[mm+1]=Mm[1],Om[mm+2]=Mm[3],Om[mm+3]=Mm[1],Om[mm+4]=Mm[2],Om[mm+5]=Mm[3],cm.faceidx+=6;for(ip=0;ip<Dp-1;ip++)Mm=[b0-1-ip,b0-2-ip,b0-2*Dp+ip+1,b0-2*Dp+ip],mm=cm.faceidx,Om[mm]=Mm[0],Om[mm+1]=Mm[1],Om[mm+2]=Mm[3],Om[mm+3]=Mm[1],Om[mm+4]=Mm[2],Om[mm+5]=Mm[3],cm.faceidx+=6}function Ln(Ju,cp,hp,yp,xp,fp){if(!(cp.length<2)){var _p,ip;if(_p=cp[0],ip=cp[cp.length-1],_p=rt(_p,yp),ip=rt(ip,yp),!xp)return it(Ju,_p,ip,hp);var gp=[],Dp,Fp,n0,S0,C0,P0=[[0,2,-6,-8],[-4,-2,6,4],[7,-1,-5,3],[-3,5,1,-7]],k0,T0,im,am,bm,_g,b0,U0,mm,Lm,Um,Hm,Dm,Nm,Om,Mm,cm;for(U0=0,mm=_p.length;U0<mm;U0++){if(bm=Math.round(U0*(hp.length-1)/mm),am=_.CC.color(hp[bm]),gp.push(Fp=_p[U0]),gp.push(Fp),gp.push(n0=ip[U0]),gp.push(n0),U0<mm-1){var Jm=_p[U0+1].clone().sub(_p[U0]),B0=ip[U0].clone().sub(_p[U0]);Dp=B0.cross(Jm).normalize().multiplyScalar(xp)}for(gp.push(S0=_p[U0].clone().add(Dp)),gp.push(S0),gp.push(C0=ip[U0].clone().add(Dp)),gp.push(C0),Fp.atom!==void 0&&(_g=Fp.atom),Nm=Ju.updateGeoGroup(8),Om=Nm.vertexArray,Mm=Nm.colorArray,cm=Nm.faceArray,k0=Nm.vertices,T0=k0*3,Om[T0]=Fp.x,Om[T0+1]=Fp.y,Om[T0+2]=Fp.z,Om[T0+3]=Fp.x,Om[T0+4]=Fp.y,Om[T0+5]=Fp.z,Om[T0+6]=n0.x,Om[T0+7]=n0.y,Om[T0+8]=n0.z,Om[T0+9]=n0.x,Om[T0+10]=n0.y,Om[T0+11]=n0.z,Om[T0+12]=S0.x,Om[T0+13]=S0.y,Om[T0+14]=S0.z,Om[T0+15]=S0.x,Om[T0+16]=S0.y,Om[T0+17]=S0.z,Om[T0+18]=C0.x,Om[T0+19]=C0.y,Om[T0+20]=C0.z,Om[T0+21]=C0.x,Om[T0+22]=C0.y,Om[T0+23]=C0.z,Lm=0;Lm<8;++Lm)Mm[T0+3*Lm]=am.r,Mm[T0+1+3*Lm]=am.g,Mm[T0+2+3*Lm]=am.b;if(U0>0){var Pp=b0!==void 0&&_g!==void 0&&b0.serial!==_g.serial;for(Lm=0;Lm<4;Lm++){var Yp=[k0+P0[Lm][0],k0+P0[Lm][1],k0+P0[Lm][2],k0+P0[Lm][3]];if(im=Nm.faceidx,cm[im]=Yp[0],cm[im+1]=Yp[1],cm[im+2]=Yp[3],cm[im+3]=Yp[1],cm[im+4]=Yp[2],cm[im+5]=Yp[3],Nm.faceidx+=6,_g.clickable||b0.clickable||_g.hoverable||b0.hoverable){var o0=gp[Yp[3]].clone(),W0=gp[Yp[0]].clone(),G0=gp[Yp[2]].clone(),Em=gp[Yp[1]].clone();if(o0.atom=gp[Yp[3]].atom||null,G0.atom=gp[Yp[2]].atom||null,W0.atom=gp[Yp[0]].atom||null,Em.atom=gp[Yp[1]].atom||null,Pp){var hm=o0.clone().add(W0).multiplyScalar(.5),Vp=G0.clone().add(Em).multiplyScalar(.5),j0=o0.clone().add(Em).multiplyScalar(.5);Lm%2===0?((b0.clickable||b0.hoverable)&&(Um=new d.Triangle(hm,j0,o0),Hm=new d.Triangle(Vp,G0,j0),Dm=new d.Triangle(j0,G0,o0),b0.intersectionShape.triangle.push(Um),b0.intersectionShape.triangle.push(Hm),b0.intersectionShape.triangle.push(Dm)),(_g.clickable||_g.hoverable)&&(Um=new d.Triangle(W0,Em,j0),Hm=new d.Triangle(Em,Vp,j0),Dm=new d.Triangle(W0,j0,hm),_g.intersectionShape.triangle.push(Um),_g.intersectionShape.triangle.push(Hm),_g.intersectionShape.triangle.push(Dm))):((_g.clickable||_g.hoverable)&&(Um=new d.Triangle(hm,j0,o0),Hm=new d.Triangle(Vp,G0,j0),Dm=new d.Triangle(j0,G0,o0),_g.intersectionShape.triangle.push(Um),_g.intersectionShape.triangle.push(Hm),_g.intersectionShape.triangle.push(Dm)),(b0.clickable||b0.hoverable)&&(Um=new d.Triangle(W0,Em,j0),Hm=new d.Triangle(Em,Vp,j0),Dm=new d.Triangle(W0,j0,hm),b0.intersectionShape.triangle.push(Um),b0.intersectionShape.triangle.push(Hm),b0.intersectionShape.triangle.push(Dm)))}else(_g.clickable||_g.hoverable)&&(Um=new d.Triangle(W0,Em,o0),Hm=new d.Triangle(Em,G0,o0),_g.intersectionShape.triangle.push(Um),_g.intersectionShape.triangle.push(Hm))}}}Nm.vertices+=8,b0=_g}var Q0=gp.length-8;for(Nm=Ju.updateGeoGroup(8),Om=Nm.vertexArray,Mm=Nm.colorArray,cm=Nm.faceArray,k0=Nm.vertices,T0=k0*3,im=Nm.faceidx,U0=0;U0<4;U0++){gp.push(gp[U0*2]),gp.push(gp[Q0+U0*2]);var Cm=gp[U0*2],z0=gp[Q0+U0*2];Om[T0+6*U0]=Cm.x,Om[T0+1+6*U0]=Cm.y,Om[T0+2+6*U0]=Cm.z,Om[T0+3+6*U0]=z0.x,Om[T0+4+6*U0]=z0.y,Om[T0+5+6*U0]=z0.z,Mm[T0+6*U0]=am.r,Mm[T0+1+6*U0]=am.g,Mm[T0+2+6*U0]=am.b,Mm[T0+3+6*U0]=am.r,Mm[T0+4+6*U0]=am.g,Mm[T0+5+6*U0]=am.b}Q0+=8,Um=[k0,k0+2,k0+6,k0+4],Hm=[k0+1,k0+5,k0+7,k0+3],cm[im]=Um[0],cm[im+1]=Um[1],cm[im+2]=Um[3],cm[im+3]=Um[1],cm[im+4]=Um[2],cm[im+5]=Um[3],cm[im+6]=Hm[0],cm[im+7]=Hm[1],cm[im+8]=Hm[3],cm[im+9]=Hm[1],cm[im+10]=Hm[2],cm[im+11]=Hm[3],Nm.faceidx+=12,Nm.vertices+=8}}function Cl(Ju,cp,hp,yp,xp,fp,_p){(!_p||_p==="default")&&(_p="rectangle"),_p==="edged"?Ln(Ju,cp,hp,yp,xp):(_p==="rectangle"||_p==="oval"||_p==="parabola")&&ot(Ju,cp,hp,yp,xp,fp,_p)}function Tl(Ju){return Ju&&Ju.elem==="C"&&Ju.atom==="CA"}function zl(Ju,cp){if(Ju&&cp&&Ju.chain===cp.chain){if(!Ju.hetflag&&!cp.hetflag&&Ju.reschain===cp.reschain&&(Ju.resi===cp.resi||Ju.resi===cp.resi-1))return!0;if(Ju.resi<cp.resi){var hp=Ju.x-cp.x,yp=Ju.y-cp.y,xp=Ju.z-cp.z,fp=hp*hp+yp*yp+xp*xp;if(Ju.atom=="CA"&&cp.atom=="CA"&&fp<16||(Ju.atom=="P"||cp.atom=="P")&&fp<64)return!0}}return!1}function In(Ju,cp,hp,yp,xp){if(!(cp==null||cp.vertices==0)){xp&&(cp.initTypedArrays(),cp.setUpNormals());var fp=new g.MeshDoubleLambertMaterial;fp.vertexColors=g.Coloring.FaceColors,typeof hp=="number"&&hp>=0&&hp<1&&(fp.transparent=!0,fp.opacity=hp),fp.outline=yp;var _p=new g.Mesh(cp,fp);Ju.add(_p)}}function Ml(Ju,cp,hp,yp,xp,fp,_p,ip,gp){var Dp,Fp,n0,S0,C0,P0;if(!(!yp||!xp||!_p)){var k0=xp.sub(yp);k0.normalize();var T0=ip[gp];for(Fp=gp+1;Fp<ip.length&&(T0=ip[Fp],T0.atom!=_p.atom);Fp++);if(T0=T0?new c.Vector3(T0.x,T0.y,T0.z):new c.Vector3(0,0,0),T0.sub(yp),_p.ss==="arrow start"){var im=T0.clone().multiplyScalar(.3).cross(xp);yp.add(im);var am=T0.clone().cross(k0).normalize();k0.rotateAboutVector(am,.43)}for(_p.style.cartoon.ribbon?Dp=_p.style.cartoon.thickness||wl:_p.style.cartoon.width?Dp=_p.style.cartoon.width:_p.ss==="c"?_p.atom==="P"?Dp=jt:Dp=nt:_p.ss==="arrow start"?(Dp=st,C0=!0):_p.ss==="arrow end"||_p.ss==="h"&&_p.style.cartoon.tubes||_p.ss==="tube start"?Dp=nt:Dp=st,fp!=null&&k0.dot(fp)<0&&k0.negate(),k0.multiplyScalar(Dp),Fp=0;Fp<cp;Fp++)n0=-1+Fp*2/(cp-1),S0=new c.Vector3(yp.x+n0*k0.x,yp.y+n0*k0.y,yp.z+n0*k0.z),S0.atom=_p,_p.ss==="s"&&(S0.smoothen=!0),Ju[Fp].push(S0);if(C0)for(k0.multiplyScalar(2),Fp=0;Fp<cp;Fp++)n0=-1+Fp*2/(cp-1),S0=new c.Vector3(yp.x+n0*k0.x,yp.y+n0*k0.y,yp.z+n0*k0.z),S0.atom=_p,S0.smoothen=!1,S0.skip=!0,Ju[Fp].push(S0);return P0=_p.style.cartoon.style||"default",Ju.style?Ju.style!=P0&&(console.log("Warning: a cartoon chain's strand-style is ambiguous"),Ju.style="default"):Ju.style=P0,(_p.ss==="arrow start"||_p.ss==="arrow end")&&(_p.ss="s"),C0}}const Dl={C:!0,CA:!0,O:!0,P:!0,OP2:!0,O2P:!0,"O5'":!0,"O3'":!0,"C5'":!0,"C2'":!0,"O5*":!0,"O3*":!0,"C5*":!0,"C2*":!0,N1:!0,N3:!0},Ul={DA:!0,DG:!0,A:!0,G:!0},Vl={DT:!0,DC:!0,U:!0,C:!0,T:!0},mu={DA:!0,DG:!0,A:!0,G:!0,DT:!0,DC:!0,U:!0,C:!0,T:!0};function rp(Ju,cp,hp,yp=10){let xp=yp,fp=yp;var _p,ip,gp,Dp,Fp,n0,S0,C0,P0,k0,T0,im,am,bm,_g,b0,U0,mm,Lm=new g.Geometry(!0),Um=new g.Geometry(!0),Hm=[],Dm=[],Nm=1,Om=!1,Mm={};for(var cm in b.Gradient.builtinGradients)b.Gradient.builtinGradients.hasOwnProperty(cm)&&(Mm[cm]=new b.Gradient.builtinGradients[cm](hp[1],hp[0]));var Jm=function($m,pp){return hp&&pp.color==="spectrum"?pp.colorscheme in Mm?Mm[pp.colorscheme].valueToHex($m.resi):Mm.sinebow.valueToHex($m.resi):(0,j.getColorFromStyle)($m,pp).getHex()};for(C0=0;C0<xp;C0++)Dm[C0]=[];var B0=!1,Pp=!1,Yp=[];for(C0 in cp){if(Dp=cp[C0],Dp.elem==="C"&&Dp.atom==="CA"){var o0=zl(gp,Dp);o0&&Dp.ss==="s"?B0=!0:B0&&(gp&&ip&&gp.style.cartoon.arrows&&ip.style.cartoon.arrows&&(gp.ss="arrow end",ip.ss="arrow start"),B0=!1),o0&&(gp.ss==="h"||gp.ss=="tube start")&&gp.style.cartoon.tubes?!Pp&&gp.ss!="tube start"&&Dp.style.cartoon.tubes&&(Dp.ss="tube start",Pp=!0):Pp&&(gp.ss==="tube start"?gp.ss="tube end":ip&&ip.style.cartoon.tubes&&(ip.ss="tube end"),Pp=!1),ip=gp,gp=Dp}Dp&&Dp.atom in Dl&&Yp.push(Dp)}Pp&&gp.style.cartoon.tubes&&(gp.ss="tube end",Pp=!1);var W0=function($m){Dm[0].length>0&&Cl(Um,Dm,Hm,fp,S0,Nm,Dm.style);var pp=[],tm=null;if($m){for(C0=0;C0<xp;C0++)pp[C0]=Dm[C0][Dm[C0].length-1];tm=Hm[Hm.length-1]}for(Dm=[],C0=0;C0<xp;C0++)Dm[C0]=[];if(Hm=[],$m){for(C0=0;C0<xp;C0++)Dm[C0].push(pp[C0]);Hm.push(tm)}In(Ju,Um,Nm,Om,!0),In(Ju,Lm,Nm,Om,!1),Um=new g.Geometry(!0),Lm=new g.Geometry(!0)};gp=void 0;let G0=[];for(var Em=0;Em<Yp.length;Em++){Dp=Yp[Em];var hm=Dp.resn.trim(),Vp=hm in mu;if(Nm=1,_p=Dp.style.cartoon,gp&&gp.style.cartoon&&(Nm=gp.style.cartoon.opacity),gp&&gp.style.cartoon&&gp.style.cartoon.outline&&(Om=gp.style.cartoon.outline),gp&&gp.style.cartoon&&(!Dp.style.cartoon||gp.style.cartoon.opacity!=Dp.style.cartoon.opacity)&&W0(gp.chain==Dp.chain),gp&&Dp&&!zl(gp,Dp)&&gp.chain&&gp.chain==Dp.chain&&!gp.hetflag&&!Dp.hetflag&&gp.reschain+1==Dp.reschain&&G0.push([gp,Dp]),_p.style==="trace"){if(!Dp.hetflag&&(Dp.elem==="C"&&Dp.atom==="CA"||Vp&&Dp.atom==="P"||Dp.atom==="BB")){if(n0=Jm(Dp,_p),(0,j.isNumeric)(_p.thickness)?S0=_p.thickness:S0=wl,zl(gp,Dp))if(n0==Fp){var j0=_.CC.color(n0);$.GLDraw.drawCylinder(Lm,gp,Dp,S0,j0,2,2)}else{var Q0=new c.Vector3().addVectors(gp,Dp).multiplyScalar(.5),Cm=_.CC.color(Fp),z0=_.CC.color(n0);$.GLDraw.drawCylinder(Lm,gp,Q0,S0,Cm,2,0),$.GLDraw.drawCylinder(Lm,Q0,Dp,S0,z0,0,2)}if((Dp.clickable===!0||Dp.hoverable)&&Dp.intersectionShape!==void 0){var gm=new c.Vector3(Dp.x,Dp.y,Dp.z);Dp.intersectionShape.sphere.push(new d.Sphere(gm,S0))}gp=Dp,Fp=n0}}else{if(Tl(Dp)||Vp&&(Dp.atom==="P"||Dp.atom.indexOf("O5")==0)){if(mm)if(Dp.ss==="tube end")mm=!1,U0=new c.Vector3(Dp.x,Dp.y,Dp.z),$.GLDraw.drawCylinder(Lm,b0,U0,2,_.CC.color(Fp),1,1),Dp.ss="h";else if(gp.chain!=Dp.chain||gp.ss==="tube end")mm=!1,gp.ss="h",U0=new c.Vector3(gp.x,gp.y,gp.z),$.GLDraw.drawCylinder(Lm,b0,U0,2,_.CC.color(Fp),1,1);else continue;if(gp&&(!zl(gp,Dp)||gp.ss==="tube start")){for(gp.ss==="tube start"&&(mm=!0,b0=new c.Vector3(gp.x,gp.y,gp.z),gp.ss="h"),_g&&(im?bm=new c.Vector3().addVectors(gp,im).multiplyScalar(.5):bm=new c.Vector3(gp.x,gp.y,gp.z),$.GLDraw.drawCylinder(Lm,bm,_g,Ft,_.CC.color(_g.color),0,2),Ml(Dm,xp,!0,im,am,T0,gp,Yp,Em),Hm.push(n0),bm=null,_g=null),Dm[0].length>0&&Cl(Um,Dm,Hm,fp,S0,Nm,Dm.style),Dm=[],C0=0;C0<xp;C0++)Dm[C0]=[];Hm=[]}if(gp===void 0||gp.rescode!=Dp.rescode||gp.resi!=Dp.resi){if(_g&&gp!=null){bm=new c.Vector3().addVectors(gp,Dp).multiplyScalar(.5);var Kp=bm.clone().sub(_g).multiplyScalar(.02);bm.add(Kp),$.GLDraw.drawCylinder(Lm,bm,_g,Ft,_.CC.color(_g.color),0,2),bm=null,_g=null}n0=Jm(Dp,_p),Hm.push(n0),(0,j.isNumeric)(_p.thickness)?S0=_p.thickness:S0=wl,gp=Dp,P0=new c.Vector3(gp.x,gp.y,gp.z),P0.resi=gp.resi,Fp=n0}(Dp.clickable===!0||Dp.hoverable===!0)&&(Dp.intersectionShape===void 0||Dp.intersectionShape.triangle===void 0)&&(Dp.intersectionShape={sphere:null,cylinder:[],line:[],triangle:[]})}else gp!=null&&(Tl(gp)&&Dp.atom==="O"||Vp&&gp.atom==="P"&&(Dp.atom==="OP2"||Dp.atom==="O2P")||Vp&&gp.atom.indexOf("O5")==0&&Dp.atom.indexOf("C5")==0)?(k0=new c.Vector3(Dp.x,Dp.y,Dp.z),k0.resi=Dp.resi,(Dp.atom==="OP2"||Dp.atom==="O2P")&&(am=new c.Vector3(Dp.x,Dp.y,Dp.z))):Vp&&Dp.atom.indexOf("O3")==0?im=new c.Vector3(Dp.x,Dp.y,Dp.z):(Dp.atom==="N1"&&hm in Ul||Dp.atom==="N3"&&hm in Vl)&&(_g=new c.Vector3(Dp.x,Dp.y,Dp.z),_g.color=(0,j.getColorFromStyle)(Dp,_p).getHex());k0&&P0&&k0.resi===P0.resi&&(Ml(Dm,xp,!0,P0,k0,T0,gp,Yp,Em),T0=k0,P0=null,k0=null,Hm.push(n0))}}_g&&(im?bm=new c.Vector3().addVectors(gp,im).multiplyScalar(.5):bm=new c.Vector3(gp.x,gp.y,gp.z),$.GLDraw.drawCylinder(Lm,bm,_g,Ft,_.CC.color(_g.color),0,2),Ml(Dm,xp,!0,im,am,T0,gp,Yp,Em),Hm.push(n0)),W0(!1);var xm=function($m,pp){if($m.style.cartoon.gapcutoff&&$m.style.cartoon.gapcutoff==pp.style.cartoon.gapcutoff){let em=$m.style.cartoon.gapcutoff,Gp=pp.resi-$m.resi;if(Gp>0&&Gp<em){let O0=.25,lm=pp.x-$m.x,o1=pp.y-$m.y,i1=pp.z-$m.z,a1=Math.sqrt(lm*lm+o1*o1+i1*i1),w1=a1/(2*Gp),wv=new c.Vector3($m.x,$m.y,$m.z),P1=a1/w1,R1=new c.Vector3((pp.x-$m.x)/P1,(pp.y-$m.y)/P1,(pp.z-$m.z)/P1);wv.add({x:R1.x/2,y:R1.y/2,z:R1.z/2});let j1=wv.clone().add(R1);R1.multiplyScalar(2);let yv=(0,j.extend)({},$m);for(var tm=0;tm<Gp;tm++){yv.resi+=1;let Rv=Jm(yv,yv.style.cartoon);$.GLDraw.drawCylinder(Lm,wv,j1,O0,_.CC.color(Rv),$.CAP.FLAT,$.CAP.FLAT),wv.add(R1),j1.add(R1)}W0(!1)}}};for(let $m of G0)xm($m[0],$m[1])}},"./src/index.ts":(e,o,a)=>{a.r(o),a.d(o,{CAP:()=>c.CAP,CC:()=>c.CC,CONTEXTS_PER_VIEWPORT:()=>c.CONTEXTS_PER_VIEWPORT,Color:()=>c.Color,CustomLinear:()=>c.CustomLinear,Cylinder:()=>c.Cylinder,GLDraw:()=>c.GLDraw,GLModel:()=>c.GLModel,GLShape:()=>c.GLShape,GLViewer:()=>c.GLViewer,GLVolumetricRender:()=>c.GLVolumetricRender,Gradient:()=>c.Gradient,GradientType:()=>c.GradientType,Label:()=>c.Label,LabelCount:()=>c.LabelCount,MarchingCube:()=>c.MarchingCube,MarchingCubeInitializer:()=>c.MarchingCubeInitializer,Matrix3:()=>c.Matrix3,Matrix4:()=>c.Matrix4,Parsers:()=>c.Parsers,PausableTimer:()=>c.PausableTimer,PointGrid:()=>c.PointGrid,ProteinSurface:()=>c.ProteinSurface,Quaternion:()=>c.Quaternion,ROYGB:()=>c.ROYGB,RWB:()=>c.RWB,Ray:()=>c.Ray,Sinebow:()=>c.Sinebow,Sphere:()=>c.Sphere,SurfaceType:()=>c.SurfaceType,Triangle:()=>c.Triangle,Vector2:()=>c.Vector2,Vector3:()=>c.Vector3,VolumeData:()=>c.VolumeData,adjustVolumeStyle:()=>c.adjustVolumeStyle,applyPartialCharges:()=>c.applyPartialCharges,autoinit:()=>c.autoinit,autoload:()=>c.autoload,base64ToArray:()=>c.base64ToArray,bondLength:()=>c.bondLength,builtinColorSchemes:()=>c.builtinColorSchemes,builtinGradients:()=>c.builtinGradients,chains:()=>c.chains,clamp:()=>c.clamp,conversionMatrix3:()=>c.conversionMatrix3,createStereoViewer:()=>c.createStereoViewer,createViewer:()=>c.createViewer,createViewerGrid:()=>c.createViewerGrid,deepCopy:()=>c.deepCopy,degToRad:()=>c.degToRad,download:()=>c.download,drawCartoon:()=>c.drawCartoon,elementColors:()=>c.elementColors,extend:()=>c.extend,get:()=>c.get,getAtomProperty:()=>c.getAtomProperty,getColorFromStyle:()=>c.getColorFromStyle,getElement:()=>c.getElement,getExtent:()=>c.getExtent,getGradient:()=>c.getGradient,getPropertyRange:()=>c.getPropertyRange,getbin:()=>c.getbin,htmlColors:()=>c.htmlColors,inflateString:()=>c.inflateString,isEmptyObject:()=>c.isEmptyObject,isNumeric:()=>c.isNumeric,makeFunction:()=>c.makeFunction,mergeGeos:()=>c.mergeGeos,normalizeValue:()=>c.normalizeValue,partialCharges:()=>c.partialCharges,processing_autoinit:()=>c.processing_autoinit,residues:()=>c.residues,setBondLength:()=>c.setBondLength,setSyncSurface:()=>c.setSyncSurface,specStringToObject:()=>c.specStringToObject,splitMesh:()=>c.splitMesh,ssColors:()=>c.ssColors,subdivide_spline:()=>c.subdivide_spline,syncSurface:()=>c.syncSurface,viewers:()=>c.viewers});var c=a("./src/3Dmol.ts");window&&(window.$3Dmol=o)},"./src/parsers/BCIF.ts":(e,o,a)=>{a.r(o),a.d(o,{BCIF:()=>wl});var c=a("./src/utilities.ts"),d=a("./src/parsers/utils/computeSecondaryStructure.ts"),g=a("./src/parsers/utils/processSymmetries.ts"),b=a("./src/parsers/cifutils/category.ts"),_=a("./src/parsers/utils/assignPDBBonds.ts"),$=a("./src/WebGL/index.ts"),j=a("./src/parsers/utils/isEmpty.ts"),rt=a("./src/vendor/mmtf.js");class nt{constructor(it){if(this.C={},it){let ot=it.getField("comp_id"),Ln=it.getField("atom_id_1"),Cl=it.getField("atom_id_2"),Tl=it.getField("value_order");for(let zl=0;zl<ot.length;zl++){let In=ot[zl],Ml=Ln[zl],Dl=Cl[zl],Ul=Tl[zl],Vl=1;Ul=="doub"?Vl=2:Ul=="trip"&&(Vl=3),this.C[In]==null&&(this.C[In]={}),this.C[In][Ml]==null&&(this.C[In][Ml]={}),this.C[In][Dl]==null&&(this.C[In][Dl]={}),this.C[In][Ml][Dl]=Vl,this.C[In][Dl][Ml]=Vl}}}order(it,ot,Ln){return this.C[it]!==void 0&&this.C[it][ot]!==void 0&&this.C[it][ot][Ln]!==void 0?this.C[it][ot][Ln]:0}}class st{constructor(it){if(this.C=[],it){let ot=it.getField("conn_type_id"),Ln=it.getField("ptnr1_label_asym_id"),Cl=it.getField("ptnr1_label_seq_id"),Tl=it.getField("ptnr1_label_comp_id"),zl=it.getField("ptnr1_label_atom_id"),In=it.getField("ptnr2_label_asym_id"),Ml=it.getField("ptnr2_label_seq_id"),Dl=it.getField("ptnr2_label_comp_id"),Ul=it.getField("ptnr2_label_atom_id"),Vl=it.getField("pdbx_value_order");for(let mu=0;mu<ot.length;mu++)if(ot[mu]=="disulf"||ot[mu]=="covale"){let rp=Vl?Vl[mu]==""?1:parseInt(Vl[mu]):1;this.C.push([[Ln[mu],Cl[mu],Tl[mu],zl[mu]],[In[mu],Ml[mu],Dl[mu],Ul[mu]],rp])}}}}class jt{constructor(){this.R={}}add(it){this.R[it.lchain]==null&&(this.R[it.lchain]={}),this.R[it.lchain][it.lresi]==null&&(this.R[it.lchain][it.lresi]={}),this.R[it.lchain][it.lresi][it.lresn]==null&&(this.R[it.lchain][it.lresi][it.lresn]=[]),this.R[it.lchain][it.lresi][it.lresn].push(it),this.R[it.lchain][it.lresi][it.lresn][it.atom]=it}geta([it,ot,Ln,Cl]){if(this.R[it]!==void 0&&this.R[it][ot]!==void 0&&this.R[it][ot][Ln]!==void 0)return this.R[it][ot][Ln][Cl]}setBonds(it,ot){for(let Ln in this.R)for(let Cl in this.R[Ln])for(let Tl in this.R[Ln][Cl]){let zl=this.R[Ln][Cl][Tl];for(let In=0;In<zl.length;In++)for(let Ml=In+1;Ml<zl.length;Ml++){let Dl=zl[In],Ul=zl[Ml],Vl=it.order(Tl,Dl.atom,Ul.atom);Dl.altLoc!=Ul.altLoc&&Dl.altLoc!=""&&Ul.altLoc!=""&&(Vl=0),Vl>0&&(Dl.bonds.push(Ul.index),Ul.bonds.push(Dl.index),Dl.bondOrder.push(Vl),Ul.bondOrder.push(Vl))}}for(let Ln of ot.C){let Cl=Ln[0],Tl=Ln[1],zl=Ln[2],In=this.geta(Cl),Ml=this.geta(Tl);In!=null&&Ml!=null&&(In.bonds.push(Ml.index),Ml.bonds.push(In.index),In.bondOrder.push(zl),Ml.bondOrder.push(zl))}}}function wl(Ft,it){var ot=!it.keepH,Ln=it.altLoc?it.altLoc:"A",Cl=!it.noComputeSecondaryStructure;const Tl=!it.doAssembly,zl=it.assignBonds===void 0?!0:it.assignBonds;if(typeof Ft=="string")try{Ft=(0,c.base64ToArray)(Ft)}catch{Ft=new TextEncoder().encode(Ft)}else Ft=new Uint8Array(Ft);var In=rt.decodeMsgpack(Ft);In==31&&(Ft=(0,c.inflateString)(Ft,!1),In=rt.decodeMsgpack(Ft));var Ml=[],Dl=Ml.modelData=[],Ul=In.dataBlocks.length;if(Ul==0)return Ml;it.multimodel||(Ul=1);for(let Vl=0;Vl<Ul;Vl++){let mu=Ml.length;const rp=[];Dl.push({symmetries:[]}),Ml.push([]);const Ju=In.dataBlocks[Vl],cp=Object.create(null);for(const Mm of Ju.categories)cp[Mm.name.substr(1)]=(0,b.Category)(Mm);let hp={},yp=cp.struct_conf;if(yp){let Mm=yp.getField("conf_type_id"),cm=yp.getField("beg_label_asym_id"),Jm=yp.getField("beg_label_seq_id"),B0=yp.getField("end_label_seq_id");for(let Pp=0;Pp<Mm.length;Pp++)if(Mm[Pp].startsWith("H")){let Yp=cm[Pp],o0=Jm[Pp],W0=B0[Pp];Yp in hp||(hp[Yp]={}),hp[Yp][o0]="h1";for(let G0=o0+1;G0<W0;G0++)hp[Yp][G0]="h";hp[Yp][W0]="h2"}}let xp=cp.struct_sheet_range;if(xp){let Mm=xp.getField("id"),cm=xp.getField("beg_label_asym_id"),Jm=xp.getField("beg_label_seq_id"),B0=xp.getField("end_label_seq_id");for(let Pp=0;Pp<Mm.length;Pp++){let Yp=cm[Pp],o0=Jm[Pp],W0=B0[Pp];Yp in hp||(hp[Yp]={}),hp[Yp][o0]="s1";for(let G0=o0+1;G0<W0;G0++)hp[Yp][G0]="s";hp[Yp][W0]="s2"}}let fp=cp.pdbx_struct_oper_list,_p=fp.getField("id");if(_p&&!Tl){let Mm=fp.getField("matrix[1][1]"),cm=fp.getField("matrix[1][2]"),Jm=fp.getField("matrix[1][3]"),B0=fp.getField("matrix[2][1]"),Pp=fp.getField("matrix[2][2]"),Yp=fp.getField("matrix[2][3]"),o0=fp.getField("matrix[3][1]"),W0=fp.getField("matrix[3][2]"),G0=fp.getField("matrix[3][3]"),Em=fp.getField("vector[1]"),hm=fp.getField("vector[2]"),Vp=fp.getField("vector[3]");for(let j0=0;j0<_p.length;j0++){const Q0=new $.Matrix4(Mm[j0],cm[j0],Jm[j0],Em[j0],B0[j0],Pp[j0],Yp[j0],hm[j0],o0[j0],W0[j0],G0[j0],Vp[j0]);Dl[Dl.length-1].symmetries.push(Q0)}}let ip=new nt(cp.chem_comp_bond),gp=new jt,Dp=new st(cp.struct_conn),Fp=cp.atom_site,n0=Fp.rowCount,S0=Fp.getField("group_PDB"),C0=Fp.getField("Cartn_x"),P0=Fp.getField("Cartn_y"),k0=Fp.getField("Cartn_z"),T0=Fp.getField("auth_asym_id"),im=Fp.getField("label_asym_id"),am=Fp.getField("auth_seq_id"),bm=Fp.getField("label_seq_id"),_g=Fp.getField("auth_comp_id"),b0=Fp.getField("label_comp_id"),U0=Fp.getField("auth_atom_id"),mm=Fp.getField("label_atom_id"),Lm=Fp.getField("type_symbol"),Um=Fp.getField("B_iso_or_equiv"),Hm=Fp.getField("id"),Dm=Fp.getField("label_alt_id"),Nm=Fp.getField("pdbx_PDB_model_num"),Om=Nm?Nm[0]:0;for(let Mm=0;Mm<n0;Mm++){if(S0!==void 0&&S0[Mm]==="TER")continue;if(Nm&&Nm[Mm]!=Om)if(Om=Nm[Mm],it.multimodel)it.onemol||(Ml.push([]),Dl.push(Dl[Dl.length-1]),Om=Nm[Mm],gp.setBonds(ip,Dp),gp=new jt);else break;const cm={};cm.x=C0[Mm],cm.y=P0[Mm],cm.z=k0[Mm],cm.chain=T0?T0[Mm]:im?im[Mm]:void 0,cm.lchain=im?im[Mm]:void 0,cm.resi=am?am[Mm]:bm?bm[Mm]:void 0,cm.lresi=bm?bm[Mm]:void 0,cm.resn=_g?_g[Mm].trim():b0?b0[Mm].trim():void 0,cm.lresn=b0?b0[Mm].trim():void 0,cm.atom=U0?U0[Mm].replace(/"/gm,""):mm?mm[Mm].replace(/"/gm,""):void 0,cm.icode=Dm?Dm[Mm]:void 0,cm.altLoc=cm.icode,cm.hetflag=!S0||S0[Mm]==="HETA"||S0[Mm]==="HETATM";let Jm="X";Lm&&(Jm=Lm[Mm].replace(/\(?\+?\d+.*/,"")),cm.elem=Jm[0].toUpperCase()+Jm.substring(1,2).toLowerCase(),Um&&(cm.b=Um[Mm]),!(ot&&cm.elem=="H")&&(cm.altLoc!=""&&cm.altLoc!=Ln&&Ln!="*"||(cm.bonds=[],cm.ss="c",cm.serial=Hm[Mm],cm.model=Om,cm.bondOrder=[],cm.properties={},cm.index=Ml[Ml.length-1].length,rp[cm.serial]=[Ml.length,cm.index],Ml[Ml.length-1].push(cm),gp.add(cm)))}if(gp.setBonds(ip,Dp),!(0,j.isEmpty)(hp))for(let Mm=mu;Mm<Ml.length;Mm++){let cm=Ml[Mm];for(let Jm=0;Jm<cm.length;Jm++){const B0=cm[Jm];if(B0!==void 0&&B0.lchain in hp&&B0.lresi in hp[B0.lchain]){const Pp=hp[B0.lchain][B0.lresi];B0.ss=Pp[0],Pp.length>1&&(Pp[1]=="1"?B0.ssbegin=!0:Pp[1]=="2"&&(B0.ssend=!0))}}}it.multimodel&&Vl<Ul-1&&(it.onemol||(Ml.push([]),Dl.push({symmetries:[]})))}for(let Vl=0;Vl<Ml.length;Vl++)zl&&!(it.duplicateAssemblyAtoms&&!it.dontConnectDuplicatedAtoms)&&(0,_.assignPDBBonds)(Ml[Vl],it),Cl&&(0,d.computeSecondaryStructure)(Ml[Vl],it.hbondCutoff),(0,g.processSymmetries)(Dl[Vl].symmetries,Ml[Vl],it,Dl[Vl].cryst),it.duplicateAssemblyAtoms&&!it.dontConnectDuplicatedAtoms&&zl&&(0,_.assignPDBBonds)(Ml[Vl],it);return Ml}},"./src/parsers/CDJSON.ts":(e,o,a)=>{a.r(o),a.d(o,{CDJSON:()=>c});function c(d,g){var b=[[]];typeof d=="string"&&(d=JSON.parse(d));for(var _=d.m,$=_[0].a,j=_[0].b,rt=_[0].s,nt=g!==void 0&&g.parseStyle!==void 0?g.parseStyle:rt!==void 0,st=b[b.length-1].length,jt=0;jt<$.length;jt++){var wl=$[jt],Ft={};Ft.id=wl.i,Ft.x=wl.x,Ft.y=wl.y,Ft.z=wl.z||0,Ft.bonds=[],Ft.bondOrder=[];var it=wl.l||"C";Ft.elem=it[0].toUpperCase()+it.substring(1).toLowerCase(),Ft.serial=b[b.length-1].length,nt&&(Ft.style=rt[wl.s||0]),b[b.length-1].push(Ft)}for(let ot=0;ot<j.length;ot++){let Ln=j[ot],Cl=Ln.b+st,Tl=Ln.e+st,zl=Ln.o||1,In=b[b.length-1][Cl],Ml=b[b.length-1][Tl];In.bonds.push(Tl),In.bondOrder.push(zl),Ml.bonds.push(Cl),Ml.bondOrder.push(zl)}return b}},"./src/parsers/CIF.ts":(e,o,a)=>{a.r(o),a.d(o,{CIF:()=>$});var c=a("./src/parsers/utils/computeSecondaryStructure.ts"),d=a("./src/parsers/utils/processSymmetries.ts"),g=a("./src/WebGL/index.ts"),b=a("./src/parsers/utils/assignPDBBonds.ts");const _=function(j,rt,nt,st){return new g.Vector3(rt,nt,st).applyMatrix3(j)};function $(j,rt={}){const nt=[],st=!rt.doAssembly,jt=nt.modelData=[],wl=rt.assignBonds===void 0?!0:rt.assignBonds;function Ft(zl,In){const Ml=[];let Dl=0,Ul=0;for(;Ul<zl.length;){for(;zl.substring(Ul,Ul+In.length)!==In&&Ul<zl.length;)if(zl[Ul]==="'"){for(Ul++;Ul<zl.length&&zl[Ul]!=="'";)Ul++;for(;zl.substring(Ul,Ul+In.length)!==In&&Ul<zl.length;)Ul++}else if(zl[Ul]==='"'){for(Ul++;Ul<zl.length&&zl[Ul]!=='"';)Ul++;Ul++}else Ul++;Ml.push(zl.substring(Dl,Ul)),Dl=Ul=Ul+In.length}return Ml}const it=j.split(/\r?\n|\r/),ot=[];let Ln=!1;for(let zl=0;zl<it.length;zl++){var Cl=it[zl].split("#")[0];if(Ln?Cl[0]===";"&&(Ln=!1):Cl[0]===";"&&(Ln=!0),Ln||Cl!==""){if(!Ln&&(Cl=Cl.trim(),Cl[0]==="_")){const In=Cl.split(/\s/)[0].indexOf(".");if(In>-1){let Ml=Cl.split("");Ml[In]="_",Cl=Ml.join(""),Cl=Cl.substring(0,In)+"_"+Cl.substring(In+1)}}ot.push(Cl)}}let Tl=0;for(;Tl<ot.length;){for(;!ot[Tl].startsWith("data_")||ot[Tl]==="data_global";)Tl++;Tl++;const zl={};for(;Tl<ot.length&&!ot[Tl].startsWith("data_");)if(ot[Tl][0]===void 0)Tl++;else if(ot[Tl][0]==="_"){const Ul=ot[Tl].split(/\s/)[0].toLowerCase(),Vl=zl[Ul]=zl[Ul]||[],mu=ot[Tl].substring(ot[Tl].indexOf(Ul)+Ul.length);if(mu==="")if(Tl++,ot[Tl][0]===";"){let rp=ot[Tl].substring(1);for(Tl++;ot[Tl]!==";";)rp=rp+`
`+ot[Tl],Tl++;Vl.push(rp)}else Vl.push(ot[Tl]);else Vl.push(mu.trim());Tl++}else if(ot[Tl].substring(0,5)==="loop_"){Tl++;const Ul=[];for(;ot[Tl]===""||ot[Tl][0]==="_";){if(ot[Tl]!==""){let mu=ot[Tl].split(/\s/)[0].toLowerCase(),rp=zl[mu]=zl[mu]||[];Ul.push(rp)}Tl++}let Vl=0;for(;Tl<ot.length&&ot[Tl][0]!=="_"&&!ot[Tl].startsWith("loop_")&&!ot[Tl].startsWith("data_");){let mu=Ft(ot[Tl]," ");for(let rp=0;rp<mu.length;rp++)mu[rp]!==""&&(Ul[Vl].push(mu[rp]),Vl=(Vl+1)%Ul.length);Tl++}}else Tl++;jt.push({symmetries:[]}),nt.push([]);const In=zl._atom_site_id!==void 0?zl._atom_site_id.length:zl._atom_site_label.length;let Ml;if(zl._cell_length_a!==void 0){const Ul=parseFloat(zl._cell_length_a),Vl=parseFloat(zl._cell_length_b),mu=parseFloat(zl._cell_length_c),rp=parseFloat(zl._cell_angle_alpha)||90,Ju=parseFloat(zl._cell_angle_beta)||90,cp=parseFloat(zl._cell_angle_gamma)||90;Ml=(0,g.conversionMatrix3)(Ul,Vl,mu,rp,Ju,cp),jt[jt.length-1].cryst={a:Ul,b:Vl,c:mu,alpha:rp,beta:Ju,gamma:cp}}for(let Ul=0;Ul<In;Ul++){if(zl._atom_site_group_pdb!==void 0&&zl._atom_site_group_pdb[Ul]==="TER")continue;const Vl={};if(zl._atom_site_cartn_x!==void 0)Vl.x=parseFloat(zl._atom_site_cartn_x[Ul]),Vl.y=parseFloat(zl._atom_site_cartn_y[Ul]),Vl.z=parseFloat(zl._atom_site_cartn_z[Ul]);else{const rp=_(Ml,parseFloat(zl._atom_site_fract_x[Ul]),parseFloat(zl._atom_site_fract_y[Ul]),parseFloat(zl._atom_site_fract_z[Ul]));Vl.x=rp.x,Vl.y=rp.y,Vl.z=rp.z}Vl.chain=zl._atom_site_auth_asym_id?zl._atom_site_auth_asym_id[Ul]:zl._atom_site_label_asym_id?zl._atom_site_label_asym_id[Ul]:void 0,Vl.lchain=zl._atom_site_label_asym_id?zl._atom_site_label_asym_id[Ul]:void 0,Vl.resi=zl._atom_site_auth_seq_id?parseInt(zl._atom_site_auth_seq_id[Ul]):zl._atom_site_label_seq_id?zl._atom_site_label_seq_id[Ul]:void 0,Vl.resn=zl._atom_site_auth_comp_id?zl._atom_site_auth_comp_id[Ul].trim():zl._atom_site_label_comp_id?zl._atom_site_label_comp_id[Ul].trim():void 0,Vl.atom=zl._atom_site_auth_atom_id?zl._atom_site_auth_atom_id[Ul].replace(/"/gm,""):zl._atom_site_label_atom_id?zl._atom_site_label_atom_id[Ul].replace(/"/gm,""):void 0,Vl.hetflag=!zl._atom_site_group_pdb||zl._atom_site_group_pdb[Ul]==="HETA"||zl._atom_site_group_pdb[Ul]==="HETATM",zl._atom_site_b_iso_or_equiv&&(Vl.b=parseFloat(zl._atom_site_b_iso_or_equiv[Ul]));let mu="X";zl._atom_site_type_symbol?mu=zl._atom_site_type_symbol[Ul].replace(/\(?\+?\d+.*/,""):zl._atom_site_label&&(mu=zl._atom_site_label[Ul].split("_")[0].replace(/\(?\d+.*/,"")),Vl.elem=mu[0].toUpperCase()+mu.substring(1,2).toLowerCase(),Vl.bonds=[],Vl.ss="c",Vl.serial=Ul,Vl.bondOrder=[],Vl.properties={},nt[nt.length-1].push(Vl)}if(zl._pdbx_struct_oper_list_id!==void 0&&!st)for(let Ul=0;Ul<zl._pdbx_struct_oper_list_id.length;Ul++){const Vl=parseFloat(zl["_pdbx_struct_oper_list_matrix[1][1]"][Ul]),mu=parseFloat(zl["_pdbx_struct_oper_list_matrix[1][2]"][Ul]),rp=parseFloat(zl["_pdbx_struct_oper_list_matrix[1][3]"][Ul]),Ju=parseFloat(zl["_pdbx_struct_oper_list_vector[1]"][Ul]),cp=parseFloat(zl["_pdbx_struct_oper_list_matrix[2][1]"][Ul]),hp=parseFloat(zl["_pdbx_struct_oper_list_matrix[2][2]"][Ul]),yp=parseFloat(zl["_pdbx_struct_oper_list_matrix[2][3]"][Ul]),xp=parseFloat(zl["_pdbx_struct_oper_list_vector[2]"][Ul]),fp=parseFloat(zl["_pdbx_struct_oper_list_matrix[3][1]"][Ul]),_p=parseFloat(zl["_pdbx_struct_oper_list_matrix[3][2]"][Ul]),ip=parseFloat(zl["_pdbx_struct_oper_list_matrix[3][3]"][Ul]),gp=parseFloat(zl["_pdbx_struct_oper_list_vector[3]"][Ul]),Dp=new g.Matrix4(Vl,mu,rp,Ju,cp,hp,yp,xp,fp,_p,ip,gp);jt[jt.length-1].symmetries.push(Dp)}const Dl=function(Ul){const Vl=Ul.match("-");Ul=Ul.replace(/[-xyz]/g,"");const mu=Ul.split("/");let rp,Ju;return mu[1]===void 0?Ju=1:Ju=parseInt(mu[1]),mu[0]===""?rp=1:rp=parseInt(mu[0]),rp/Ju*(Vl?-1:1)};if(zl._symmetry_equiv_pos_as_xyz!==void 0&&!st)for(let Ul=0;Ul<zl._symmetry_equiv_pos_as_xyz.length;Ul++){const Vl=zl._symmetry_equiv_pos_as_xyz[Ul].replace(/["' ]/g,"").split(",").map(function(cp){return cp.replace(/-/g,"+-")});let mu=new g.Matrix4(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1);for(let cp=0;cp<3;cp++){const hp=Vl[cp].split("+");for(let yp=0;yp<hp.length;yp++){const xp=hp[yp];if(xp==="")continue;const fp=Dl(xp);xp.match("x")?mu.elements[cp+0]=fp:xp.match("y")?mu.elements[cp+4]=fp:xp.match("z")?mu.elements[cp+8]=fp:mu.elements[cp+12]=fp}}const rp=Ml.getMatrix4(),Ju=new g.Matrix4().getInverse(rp,!0);mu=new g.Matrix4().multiplyMatrices(mu,Ju),mu=new g.Matrix4().multiplyMatrices(rp,mu),jt[jt.length-1].symmetries.push(mu)}}for(let zl=0;zl<nt.length;zl++)wl&&!(rt.duplicateAssemblyAtoms&&!rt.dontConnectDuplicatedAtoms)&&(0,b.assignPDBBonds)(nt[zl],rt),(0,c.computeSecondaryStructure)(nt[zl],rt.hbondCutoff),(0,d.processSymmetries)(jt[zl].symmetries,nt[zl],rt,jt[zl].cryst),rt.duplicateAssemblyAtoms&&!rt.dontConnectDuplicatedAtoms&&wl&&(0,b.assignPDBBonds)(nt[zl],rt);return nt}},"./src/parsers/CUBE.ts":(e,o,a)=>{a.r(o),a.d(o,{CUBE:()=>b});var c=a("./src/WebGL/index.ts"),d=a("./src/parsers/utils/assignBonds.ts"),g=a("./src/parsers/utils/anumToSymbol.ts");function b(_,$){$=$||{};const j=[[]];let rt=_.split(/\r?\n/);const nt=$.assignBonds===void 0?!0:$.assignBonds;if(rt.length<6)return j;let st=rt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const jt=Math.abs(parseFloat(st[0]));let wl={origin:void 0,size:void 0,unit:void 0,matrix4:void 0,matrix:void 0};const Ft=wl.origin=new c.Vector3(parseFloat(st[1]),parseFloat(st[2]),parseFloat(st[3]));st=rt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),st=rt[3].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const it=st[0]>0?.529177:1;Ft.multiplyScalar(it);const ot=Math.abs(st[0]),Ln=new c.Vector3(parseFloat(st[1]),parseFloat(st[2]),parseFloat(st[3])).multiplyScalar(it);st=rt[4].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const Cl=Math.abs(st[0]),Tl=new c.Vector3(parseFloat(st[1]),parseFloat(st[2]),parseFloat(st[3])).multiplyScalar(it);st=rt[5].replace(/^\s+/,"").replace(/\s+/g," ").split(" ");const zl=Math.abs(st[0]),In=new c.Vector3(parseFloat(st[1]),parseFloat(st[2]),parseFloat(st[3])).multiplyScalar(it);if(wl.size={x:ot,y:Cl,z:zl},wl.unit=new c.Vector3(Ln.x,Tl.y,In.z),Ln.y!=0||Ln.z!=0||Tl.x!=0||Tl.z!=0||In.x!=0||In.y!=0){wl.matrix4=new c.Matrix4(Ln.x,Tl.x,In.x,0,Ln.y,Tl.y,In.y,0,Ln.z,Tl.z,In.z,0,0,0,0,1);let Ju=new c.Matrix4().makeTranslation(Ft.x,Ft.y,Ft.z);wl.matrix4=wl.matrix4.multiplyMatrices(Ju,wl.matrix4),wl.matrix=wl.matrix4.matrix3FromTopLeft(),wl.origin=new c.Vector3(0,0,0),wl.unit=new c.Vector3(1,1,1)}j.modelData=[{cryst:wl}],rt=rt.splice(6,jt);for(var Ml=j[j.length-1].length,Dl=Ml+rt.length,Ul=Ml;Ul<Dl;++Ul){var Vl={};Vl.serial=Ul;var mu=rt[Ul-Ml],rp=mu.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");Vl.elem=g.anumToSymbol[rp[0]],Vl.x=parseFloat(rp[2])*it,Vl.y=parseFloat(rp[3])*it,Vl.z=parseFloat(rp[4])*it,Vl.hetflag=!0,Vl.bonds=[],Vl.bondOrder=[],Vl.properties={},j[j.length-1].push(Vl)}if(nt)for(let Ju=0;Ju<j.length;Ju++)(0,d.assignBonds)(j[Ju],$);return j}},"./src/parsers/GRO.ts":(e,o,a)=>{a.r(o),a.d(o,{GRO:()=>g});var c=a("./src/parsers/utils/assignPDBBonds.ts"),d=a("./src/parsers/utils/atomNameToElem.ts");function g(b,_){const $=[],j=b.split(/\r?\n|\r/);for(;j.length>0;){const rt=parseInt(j[1]);if(j.length<3||isNaN(rt)||rt<=0||j.length<rt+3)break;const nt=[];$.push(nt);let st=2;const jt=nt.length,wl=jt+rt;for(let Ft=jt;Ft<wl;Ft++){const it=j[st++],ot={};ot.serial=Ft,ot.atom=it.slice(10,15).trim(),ot.elem=(0,d.atomNameToElem)(ot.atom,!0),ot.x=10*parseFloat(it.slice(20,28)),ot.y=10*parseFloat(it.slice(28,36)),ot.z=10*parseFloat(it.slice(36,44)),ot.resi=parseInt(it.slice(0,5)),ot.resn=it.slice(5,10).trim(),ot.bonds=[],ot.bondOrder=[],ot.properties={},it.length>44&&(ot.dx=10*parseFloat(it.slice(44,52)),ot.dy=10*parseFloat(it.slice(52,60)),ot.dz=10*parseFloat(it.slice(60,68))),nt[Ft]=ot}if(j.length<=st+3){const Ft=j[st++].trim().split(/\s+/);if(Ft.length===3){for(let it=0;it<3;it++)Ft[it]=(parseFloat(Ft[it])*10).toString();$.box=Ft}}j.splice(0,++st)}for(let rt=0;rt<$.length;rt++)(0,c.assignPDBBonds)($[rt],_);return $}},"./src/parsers/LAMMPSTRJ.ts":(e,o,a)=>{a.r(o),a.d(o,{LAMMPSTRJ:()=>g});var c=a("./src/parsers/utils/assignBonds.ts");const d={id:"serial",type:"atom",element:"elem",q:"charge",radius:"radius",x:"x",xu:"x",xs:"x",xsu:"x",y:"y",yu:"y",ys:"y",ysu:"y",z:"z",zu:"z",zs:"z",zsu:"z"};function g(b,_){const $=[],j=b.split(/\r?\n|\r/);let rt=0,nt=0,st=0;for(;st<j.length-9;){for(var jt=st;jt<j.length;jt++)if(j[jt].match(/ITEM: NUMBER OF ATOMS/)&&(nt=parseInt(j[jt+1])),j[jt].match(/ITEM: ATOMS/)){rt=jt+1;break}const wl=j[rt-1].replace("ITEM: ATOMS ","").split(" ");$.push([]);for(let Ft=rt;Ft<rt+nt;Ft++){const it={},ot={},Ln=j[Ft].split(" ");for(let Cl=0;Cl<Ln.length;Cl++){const Tl=d[wl[Cl]];Tl!==void 0&&(Tl==="serial"?it[Tl]=parseInt(Ln[Cl]):Tl==="x"||Tl==="y"||Tl==="z"?it[Tl]=parseFloat(Ln[Cl]):Tl==="charge"||Tl==="radius"?ot[Tl]=parseFloat(Ln[Cl]):it[Tl]=Ln[Cl]),it.properties=ot,it.bonds=[],it.bondOrder=[]}$[$.length-1][Ft-rt]=it}st=rt+nt-1}if(_.assignBonds)for(let wl=0;wl<$.length;wl++)(0,c.assignBonds)($[wl],_);return $}},"./src/parsers/MMTF.ts":(e,o,a)=>{a.r(o),a.d(o,{MMTFparser:()=>nt});var c=a("./src/utilities.ts"),d=a("./src/WebGL/index.ts"),g=a("./src/parsers/utils/computeSecondaryStructure.ts"),b=a("./src/parsers/utils/processSymmetries.ts"),_=a("./src/vendor/mmtf.js"),$=function(st){return String.fromCharCode.apply(null,st).replace(/\0/g,"")},j=function(st){return st==0||st==2||st==4?"h":st==3?"s":"c"};let rt=new Set(["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","NON-POLYMER","OTHER","PEPTIDE-LIKE","SACCHARIDE"]);function nt(st,jt){var wl=!jt.keepH,Ft=jt.altLoc?jt.altLoc:"A",it=!!jt.noSecondaryStructure,ot=!jt.noComputeSecondaryStructure,Ln=!jt.doAssembly,Cl=jt.assemblyIndex?jt.assemblyIndex:0;typeof st=="string"?st=(0,c.base64ToArray)(st):st=new Uint8Array(st);var Tl=_.decode(st),zl=[[]],In=zl.modelData=[],Ml=0,Dl=0,Ul=0,Vl=Tl.secStructList,mu=Tl.bFactorList,rp=Tl.altLocList,Ju=Tl.occupancyList,cp=Tl.bondAtomList,hp=Tl.bondOrderList,yp=Tl.numModels;if(yp==0)return zl;jt.multimodel||(yp=1);var xp,fp,_p,ip,gp,Dp,Fp=[];if(!Ln&&Tl.bioAssemblyList&&Tl.bioAssemblyList.length>0){var n0=Tl.bioAssemblyList[Cl].transformList;for(xp=0,Dp=n0.length;xp<Dp;xp++){var S0=new d.Matrix4(n0[xp].matrix);S0.transpose(),Fp.push(S0)}}var C0=null;if(Tl.unitCell){var P0=Tl.unitCell;C0={a:P0[0],b:P0[1],c:P0[2],alpha:P0[3],beta:P0[4],gamma:P0[5]}}let k0=[];Tl.entityList.forEach(em=>{em.chainIndexList.forEach(Gp=>{k0[Gp]=em.type=="polymer"})});var T0=0;for(gp=0;gp<yp;gp++){var im=Tl.chainsPerModel[gp],am=zl[zl.length-1],bm=[];for(In.push({symmetries:Fp,cryst:C0}),xp=0;xp<im;++xp){var _g=Tl.groupsPerChain[Ml],b0=$(Tl.chainIdList.subarray(Ml*4,Ml*4+4));Tl.chainNameList&&(b0=$(Tl.chainNameList.subarray(Ml*4,Ml*4+4)));var U0=Dl,mm="";for(fp=0;fp<_g;++fp){var Lm=Tl.groupList[Tl.groupTypeList[Dl]],Um=Lm.atomNameList.length,Hm=0,Dm=!1,Nm=!1;if(Vl){Hm=Vl[Dl];var Om=j(Hm);(Dl==0||Om!=mm)&&(Dm=!0),mm=Om;var Mm=Dl+1;(Mm>=Vl.length||j(Vl[Mm]!=Om))&&(Nm=!0)}var cm=Tl.groupIdList[Dl],Jm=Lm.groupName;let em=Lm.chemCompType;var B0=Ul;let Gp=rt.has(em)||!k0[Ml];for(_p=0;_p<Um;++_p){var Pp=Lm.elementList[_p];if(wl&&Pp=="H"){Ul+=1;continue}var Yp="";mu&&(Yp=mu[Ul]);var o0="";rp&&rp[Ul]&&(o0=String.fromCharCode(rp[Ul]));var W0="";if(Ju&&(W0=Ju[Ul]),o0!=""&&o0!=Ft&&Ft!="*"){Ul+=1;continue}var G0=Tl.atomIdList[Ul],Em=Lm.atomNameList[_p],hm=0;Lm.atomChargeList&&(hm=Lm.atomChargeList[_p]);var Vp=Tl.xCoordList[Ul],j0=Tl.yCoordList[Ul],Q0=Tl.zCoordList[Ul];bm[Ul]=am.length,am.push({resn:Jm,x:Vp,y:j0,z:Q0,elem:Pp,hetflag:Gp,chain:b0,resi:cm,icode:o0,rescode:cm+(o0!=" "?"^"+o0:""),serial:G0,altLoc:o0,index:Ul,atom:Em,bonds:[],ss:j(Hm),ssbegin:Dm,ssend:Nm,bondOrder:[],properties:{charge:hm,occupancy:W0},b:Yp}),Ul+=1}var Cm=Lm.bondAtomList;for(_p=0,ip=Lm.bondOrderList.length;_p<ip;++_p){var z0=B0+Cm[_p*2],gm=B0+Cm[_p*2+1],Kp=Lm.bondOrderList[_p],xm=bm[z0],$m=bm[gm],pp=am[xm],tm=am[$m];pp&&tm&&(pp.bonds.push($m),pp.bondOrder.push(Kp),tm.bonds.push(xm),tm.bondOrder.push(Kp))}Dl+=1}for(Dl=U0,fp=0;fp<_g;++fp)Dl+=1;Ml+=1}if(cp)for(let em=T0,Gp=cp.length;em<Gp;em+=2){let O0=cp[em],lm=cp[em+1],o1=hp?hp[em/2]:1;if(O0>=Ul){T0=em;break}let i1=bm[O0],a1=bm[lm],w1=am[i1],wv=am[a1];w1&&wv&&(w1.bonds.push(a1),w1.bondOrder.push(o1),wv.bonds.push(i1),wv.bondOrder.push(o1))}jt.multimodel&&(jt.onemol||zl.push([]))}if(!Ln)for(let em=0;em<zl.length;em++)(0,b.processSymmetries)(In[em].symmetries,zl[em],jt,In[em].cryst);return ot&&!it&&(0,g.computeSecondaryStructure)(zl,jt.hbondCutoff),zl}},"./src/parsers/MOL2.ts":(e,o,a)=>{a.r(o),a.d(o,{MOL2:()=>d});let c={"C.1":"C",C1:"C","C.2":"C",C2:"C","C.3":"C",C3:"C","C.ar":"C",Car:"C","C.cat":"C",Ccat:"C","H.spc":"H",Hspc:"H","H.t3p":"H",Ht3p:"H","N.1":"N",N1:"N","N.2":"N",N2:"N","N.3":"N",N3:"N","N.4":"N",N4:"N","N.am":"N",Nam:"N","N.ar":"N",Nar:"N","N.p13":"N",Np13:"N","O.2":"O",O2:"O","O.3":"O",O3:"O","O.co2":"O",Oco2:"O","O.spc":"O",Ospc:"O","O.t3p":"O",Ot3p:"O","P.3":"P",P3:"P","S.2":"S",S2:"S","S.3":"S",S3:"S","S.o":"S",So:"S","S.o2":"S",So2:"S"};function d(g,b){var _=[[]],$=!1;typeof b.keepH<"u"&&($=!b.keepH);var j=g.search(/@<TRIPOS>MOLECULE/),rt=g.search(/@<TRIPOS>ATOM/);if(j==-1||rt==-1)return _;for(var nt=g.substring(j).split(/\r?\n|\r/);nt.length>0;){var st=[],jt=nt[2].replace(/^\s+/,"").replace(/\s+/g," ").split(" "),wl=parseInt(jt[0]),Ft=0;jt.length>1&&(Ft=parseInt(jt[1]));var it=4,ot;for(ot=3;ot<nt.length;ot++)if(nt[ot]=="@<TRIPOS>ATOM"){it=ot+1;break}var Ln=_[_.length-1].length,Cl=Ln+wl,Tl;for(ot=Ln;ot<Cl;ot++){Tl=nt[it++],jt=Tl.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var zl={},In=jt[5];if(c[In]!==void 0?In=c[In]:(In=In.split(".")[0],In=In[0].toUpperCase()+In.substring(1).toLowerCase()),zl.atom=jt[1],zl.elem=In,!(zl.elem=="H"&&$)){var Ml=_[_.length-1].length,Dl=parseInt(jt[0]);zl.serial=Dl,zl.x=parseFloat(jt[2]),zl.y=parseFloat(jt[3]),zl.z=parseFloat(jt[4]),zl.atom=jt[5];var Ul=parseFloat(jt[8]);zl.index=Ml,zl.bonds=[],zl.bondOrder=[],zl.properties={charge:Ul,partialCharge:Ul},st[Dl]=Ml,_[_.length-1].push(zl)}}for(var Vl=!1;it<nt.length;)if(nt[it++]=="@<TRIPOS>BOND"){Vl=!0;break}if(Vl&&Ft)for(ot=0;ot<Ft;ot++){Tl=nt[it++],jt=Tl.replace(/^\s+/,"").replace(/\s+/g," ").split(" ");var mu=parseInt(jt[1]),rp=_[_.length-1][st[mu]],Ju=parseInt(jt[2]),cp=_[_.length-1][st[Ju]],hp=parseInt(jt[3]);isNaN(hp)&&(hp=1),rp!==void 0&&cp!==void 0&&(rp.bonds.push(st[Ju]),rp.bondOrder.push(hp),cp.bonds.push(st[mu]),cp.bondOrder.push(hp))}if(b.multimodel){b.onemol||_.push([]),nt.splice(0,it),g=nt.join(`
`);continue}else break}return _}},"./src/parsers/PDB.ts":(e,o,a)=>{a.r(o),a.d(o,{PDB:()=>d});var c=a("./src/parsers/utils/getSinglePDB.ts");function d(g,b){b=b||{};var _=[],$={};_.modelData=[];for(var j=g.split(/\r?\n|\r/);j.length>0;){var rt=(0,c.getSinglePDB)(j,b,$),nt=rt[0],st=rt[1];if(j=rt[2],nt.length!=0){if(b.multimodel&&b.onemol&&_.length>0)for(var jt=_[0].length,wl=0;wl<nt.length;wl++){var Ft=nt[wl];Ft.index=wl;for(var it=0;it<Ft.bonds.length;it++)Ft.bonds[it]+=jt;_[0].push(Ft)}else _.modelData.push(st),_.push(nt);if(!b.multimodel)break}}return _}},"./src/parsers/PQR.ts":(e,o,a)=>{a.r(o),a.d(o,{PQR:()=>g});var c=a("./src/parsers/utils/assignPDBBonds.ts"),d=a("./src/parsers/utils/computeSecondaryStructure.ts");function g(b,_){var $=[[]],j=!_.noSecondaryStructure;$.modelData=[{symmetries:[]}];var rt=[],nt=b.split(/\r?\n|\r/),st;for(let Vl=0;Vl<nt.length;Vl++){st=nt[Vl].replace(/^\s*/,"");var jt=st.substring(0,6);if(jt.indexOf("END")==0)if(_.multimodel){_.onemol||$.push([]);continue}else break;else if(jt=="ATOM  "||jt=="HETATM"){var wl;let mu=parseInt(st.substring(6,11)),rp=st.substring(12,16).replace(/ /g,""),Ju=st.substring(17,20).trim(),cp=st.substring(21,22),hp=parseInt(st.substring(22,26));var Ft=st.substring(30).trim().split(/\s+/),it=parseFloat(Ft[0]),ot=parseFloat(Ft[1]),Ln=parseFloat(Ft[2]),Cl=parseFloat(Ft[3]),Tl=parseFloat(Ft[4]),zl=rp[0];rp.length>1&&rp[1].toUpperCase()!=rp[1]&&(zl=rp.substring(0,2)),st[0]=="H"?wl=!0:wl=!1,rt[mu]=$[$.length-1].length,$[$.length-1].push({resn:Ju,x:it,y:ot,z:Ln,elem:zl,hetflag:wl,chain:cp,resi:hp,serial:mu,atom:rp,bonds:[],ss:"c",bondOrder:[],properties:{charge:Cl,partialCharge:Cl,radius:Tl},pdbline:st})}else if(jt=="CONECT"){var In=parseInt(st.substring(6,11)),Ml=$[$.length-1][rt[In]];for(let mu=0;mu<4;mu++){var Dl=parseInt(st.substring([11,16,21,26][mu],[11,16,21,26][mu]+5)),Ul=$[$.length-1][rt[Dl]];Ml!==void 0&&Ul!==void 0&&(Ml.bonds.push(rt[Dl]),Ml.bondOrder.push(1))}}}for(let Vl=0;Vl<$.length;Vl++)(0,c.assignPDBBonds)($[Vl],_),j&&(0,d.computeSecondaryStructure)($[Vl],_.hbondCutoff);return $}},"./src/parsers/PRMTOP.ts":(e,o,a)=>{a.r(o),a.d(o,{PRMTOP:()=>c});function c(d){var g=[],b,_=0,$=d.split(/\r?\n|\r/);if($.length>0&&$[0].includes("VERSION")){var j=$.filter(function(Ln){return Ln.includes("POINTERS")||Ln.includes("ATOM_NAME")||Ln.includes("CHARGE")||Ln.includes("RADII")||Ln.includes("BONDS_INC_HYDROGEN")||Ln.includes("BONDS_WITHOUT_HYDROGEN")||Ln.includes("RESIDUE_LABEL")||Ln.includes("RESIDUE_POINTER")}),rt=Ft("POINTERS");if(rt==-1)return[];var nt=it(rt),st=parseInt($[rt+1].slice(0,nt[1]));let ot=parseInt($[rt+2].slice(nt[1],nt[0]+nt[1]));if(isNaN(st)||st<=0)return[];if(rt=Ft("ATOM_NAME"),rt==-1)return[];nt=it(rt);var jt=nt[0];for(let Ln=0;Ln<st/nt[0];Ln++){Ln==parseInt(st/nt[0])&&(jt=st%nt[0]);for(let Cl=0;Cl<jt;Cl++){let Tl={},zl={charge:"",radii:""};Tl.serial=_,Tl.x=0,Tl.y=0,Tl.z=0,Tl.atom=$[rt+1].slice(nt[1]*Cl,nt[1]*(Cl+1)).trim(),Tl.elem=$[rt+1].slice(nt[1]*Cl,nt[1]*Cl+1).trim(),Tl.properties=zl,Tl.bonds=[],Tl.bondOrder=[],Tl.index=g.length,g.push(Tl),_++}rt++}if(rt=Ft("CHARGE"),rt!=-1){nt=it(rt),_=0,jt=nt[0];for(let Ln=0;Ln<st/nt[0];Ln++){Ln==parseInt(st/nt[0])&&(jt=st%nt[0]);for(let Cl=0;Cl<jt;Cl++)g[_].properties.charge=parseFloat($[rt+1].slice(nt[1]*Cl,nt[1]*(Cl+1))),_++;rt++}}rt=Ft("RESIDUE_POINTER");var wl=[];if(rt!=-1){nt=it(rt),jt=nt[0],rt+=1;for(let Ln=0;Ln<ot/nt[0];Ln++){Ln==parseInt(ot/nt[0])&&(jt=ot%nt[0]);for(let Cl=0;Cl<jt;Cl++)wl.push(parseInt($[rt].slice(nt[1]*Cl,nt[1]*(Cl+1))));rt++}if(rt=Ft("RESIDUE_LABEL"),rt!=-1){let Ln=[];nt=it(rt),jt=nt[0],rt+=1;for(let In=0;In<ot/nt[0];In++){In==parseInt(ot/nt[0])&&(jt=ot%nt[0]);for(let Ml=0;Ml<jt;Ml++)Ln.push($[rt].slice(nt[1]*Ml,nt[1]*(Ml+1)).trim());rt++}let Cl=0,Tl=0,zl="";wl.push(g.length+1);for(let In=0;In<g.length;In++)In+1>=wl[Cl]&&(zl=Ln[Cl],Cl+=1,Tl+=1),g[In].resi=Tl,g[In].resn=zl}}if(rt=Ft("RADII"),rt!=-1){nt=it(rt),_=0,jt=nt[0];for(let Ln=0;Ln<st/nt[0];Ln++){Ln==parseInt(st/nt[0])&&(jt=st%nt[0]);for(let Cl=0;Cl<jt;Cl++)g[_].properties.radii=parseFloat($[rt+1].slice(nt[1]*Cl,nt[1]*(Cl+1))),_++;rt++}}if(rt=Ft("BONDS_WITHOUT_HYDROGEN"),rt!=-1)for(nt=it(rt),_=0,jt=nt[0],rt=rt+1;!$[rt].match(/^%FLAG/);){$[rt+1].match(/^%FLAG/)&&(jt=st%nt[0]);for(let Ln=0;Ln<jt;Ln++)_%3==0?b=parseInt($[rt].slice(nt[1]*Ln,nt[1]*(Ln+1))/3):_%3==1&&(g[b].bonds.push(parseInt($[rt].slice(nt[1]*Ln,nt[1]*(Ln+1))/3)),g[b].bondOrder.push(1)),_++;rt++}if(rt=Ft("BONDS_INC_HYDROGEN"),rt!=-1)for(nt=it(rt),_=0,jt=nt[0],rt=rt+1;!$[rt].match(/^%FLAG/);){$[rt+1].match(/^%FLAG/)&&(jt=st%nt[0]);for(let Ln=0;Ln<jt;Ln++)_%3==0?b=parseInt($[rt].slice(nt[1]*Ln,nt[1]*(Ln+1))/3):_%3==1&&(g[b].bonds.push(parseInt($[rt].slice(nt[1]*Ln,nt[1]*(Ln+1))/3)),g[b].bonds.push(1)),_++;rt++}}else return[];function Ft(ot){var Ln=$.indexOf(j.filter(function(Cl){return Cl.includes(ot)})[0]);if(Number.isInteger(Ln)&&Ln>0){for(;!$[Ln].includes("FORMAT");)Ln++;return Ln}else return-1}function it(ot){var Ln=$[ot].match(/\((\d*)\S*/),Cl=$[ot].match(/[a-zA-Z](\d*)\)\s*/);return Cl==null&&(Cl=$[ot].match(/[a-zA-Z](\d*)\.\d*\)\s*/)),[parseInt(Ln[1]),parseInt(Cl[1])]}return[g]}},"./src/parsers/SDF.ts":(e,o,a)=>{a.r(o),a.d(o,{SDF:()=>g});var c=function(b,_){var $=[[]],j=!1;for(typeof _.keepH<"u"&&(j=!_.keepH);b.length>0&&!(b.length<4);){var rt=parseInt(b[3].substring(0,3));if(isNaN(rt)||rt<=0)break;var nt=parseInt(b[3].substring(3,6)),st=4;if(b.length<4+rt+nt)break;var jt=[],wl=$[$.length-1].length,Ft=wl+rt,it,ot;for(it=wl;it<Ft;it++,st++){ot=b[st];var Ln={},Cl=ot.substring(31,34).replace(/ /g,"");Ln.atom=Ln.elem=Cl[0].toUpperCase()+Cl.substring(1).toLowerCase(),(Ln.elem!=="H"||!j)&&(Ln.serial=it,jt[it]=$[$.length-1].length,Ln.x=parseFloat(ot.substring(0,10)),Ln.y=parseFloat(ot.substring(10,20)),Ln.z=parseFloat(ot.substring(20,30)),Ln.hetflag=!0,Ln.bonds=[],Ln.bondOrder=[],Ln.properties={},Ln.index=$[$.length-1].length,$[$.length-1].push(Ln))}for(it=0;it<nt;it++,st++){ot=b[st];var Tl=jt[parseInt(ot.substring(0,3))-1+wl],zl=jt[parseInt(ot.substring(3,6))-1+wl],In=parseFloat(ot.substring(6));typeof Tl<"u"&&typeof zl<"u"&&($[$.length-1][Tl].bonds.push(zl),$[$.length-1][Tl].bondOrder.push(In),$[$.length-1][zl].bonds.push(Tl),$[$.length-1][zl].bondOrder.push(In))}if(_.multimodel){for(_.onemol||$.push([]);b[st]!=="$$$$"&&st<b.length;)st++;b.splice(0,++st)}else break}return $},d=function(b,_){var $=[[]],j=!1;for(typeof _.keepH<"u"&&(j=!_.keepH);b.length>0&&!(b.length<8||!b[4].startsWith("M  V30 BEGIN CTAB")||!b[5].startsWith("M  V30 COUNTS")||b[5].length<14);){var rt=b[5].substring(13).match(/\S+/g);if(rt.length<2)break;var nt=parseInt(rt[0]);if(isNaN(nt)||nt<=0)break;var st=parseInt(rt[1]),jt=7;if(b.length<8+nt+st)break;var wl=[],Ft=$[$.length-1].length,it=Ft+nt,ot,Ln;for(ot=Ft;ot<it;ot++,jt++){Ln=b[jt];var Cl=Ln.substring(6).match(/\S+/g);if(Cl.length>4){var Tl={},zl=Cl[1].replace(/ /g,"");Tl.atom=Tl.elem=zl[0].toUpperCase()+zl.substring(1).toLowerCase(),(Tl.elem!=="H"||!j)&&(Tl.serial=ot,wl[ot]=$[$.length-1].length,Tl.x=parseFloat(Cl[2]),Tl.y=parseFloat(Cl[3]),Tl.z=parseFloat(Cl[4]),Tl.hetflag=!0,Tl.bonds=[],Tl.bondOrder=[],Tl.properties={},Tl.index=$[$.length-1].length,$[$.length-1].push(Tl))}}if(b[jt]==="M  V30 END ATOM")jt++;else break;if(st!==0&&b[jt]==="M  V30 BEGIN BOND")jt++;else break;for(ot=0;ot<st;ot++,jt++){Ln=b[jt];var In=Ln.substring(6).match(/\S+/g);if(In.length>3){var Ml=wl[parseInt(In[2])-1+Ft],Dl=wl[parseInt(In[3])-1+Ft],Ul=parseFloat(In[1]);typeof Ml<"u"&&typeof Dl<"u"&&($[$.length-1][Ml].bonds.push(Dl),$[$.length-1][Ml].bondOrder.push(Ul),$[$.length-1][Dl].bonds.push(Ml),$[$.length-1][Dl].bondOrder.push(Ul))}}if(_.multimodel){for(_.onemol||$.push([]);b[jt]!=="$$$$"&&jt<b.length;)jt++;b.splice(0,++jt)}else break}return $};function g(b,_){var $="V2000",j=b.split(/\r?\n|\r/);return j.length>3&&j[3].length>38&&($=j[3].substring(34,39)),$==="V2000"?c(j,_):$==="V3000"?d(j,_):[[""]]}},"./src/parsers/VASP.ts":(e,o,a)=>{a.r(o),a.d(o,{VASP:()=>g});var c=a("./src/WebGL/index.ts"),d=a("./src/parsers/utils/assignBonds.ts");function g(b,_={}){var $=[[]],j={};const rt=_.assignBonds===void 0?!0:_.assignBonds;var nt=b.replace(/^\s+/,"").split(/\r?\n/);if(nt.length<3)return $;if(nt[1].match(/\d+/))j.length=parseFloat(nt[1]);else return console.log("Warning: second line of the vasp structure file must be a number"),$;if(j.length<0)return console.log("Warning: Vasp implementation for negative lattice lengths is not yet available"),$;j.xVec=new Float32Array(nt[2].replace(/^\s+/,"").split(/\s+/)),j.yVec=new Float32Array(nt[3].replace(/^\s+/,"").split(/\s+/)),j.zVec=new Float32Array(nt[4].replace(/^\s+/,"").split(/\s+/));var st=new c.Matrix3(j.xVec[0],j.xVec[1],j.xVec[2],j.yVec[0],j.yVec[1],j.yVec[2],j.zVec[0],j.zVec[1],j.zVec[2]);st.multiplyScalar(j.length),$.modelData=[{symmetries:[],cryst:{matrix:st}}];var jt=nt[5].trim().split(/\s+/),wl=new Int16Array(nt[6].trim().split(/\s+/)),Ft=nt[7].trim(),it=!1;if(Ft.match(/S/)&&(it=!0,Ft=nt[8].trim()),Ft.toLowerCase()[0]=="c")Ft="cartesian";else if(Ft.toLowerCase()[0]=="d")Ft="direct";else return console.log("Warning: Unknown vasp mode in POSCAR file: mode must be either C(artesian) or D(irect)"),$;if(jt.length!=wl.length)return console.log("Warning: declaration of atomary species wrong:"),console.log(jt),console.log(wl),$;it?nt.splice(0,9):nt.splice(0,8);for(var ot=0,Ln=0,Cl=jt.length;Ln<Cl;Ln++){for(var Tl=jt[Ln],zl=0,In=wl[Ln];zl<In;zl++){var Ml=new Float32Array(nt[ot+zl].trim().split(/\s+/)),Dl={};Dl.elem=Tl,Ft=="cartesian"?(Dl.x=j.length*Ml[0],Dl.y=j.length*Ml[1],Dl.z=j.length*Ml[2]):(Dl.x=j.length*(Ml[0]*j.xVec[0]+Ml[1]*j.yVec[0]+Ml[2]*j.zVec[0]),Dl.y=j.length*(Ml[0]*j.xVec[1]+Ml[1]*j.yVec[1]+Ml[2]*j.zVec[1]),Dl.z=j.length*(Ml[0]*j.xVec[2]+Ml[1]*j.yVec[2]+Ml[2]*j.zVec[2])),Dl.bonds=[],Dl.bondOrder=[],$[0].push(Dl)}ot+=wl[Ln]}if(rt)for(let Ul=0;Ul<$.length;Ul++)(0,d.assignBonds)($[Ul],_);return $}},"./src/parsers/XYZ.ts":(e,o,a)=>{a.r(o),a.d(o,{XYZ:()=>g});var c=a("./src/WebGL/index.ts"),d=a("./src/parsers/utils/assignBonds.ts");function g(b,_){_=_||{};for(var $=[[]],j=_.assignBonds===void 0?!0:_.assignBonds,rt=b.trimStart().split(/\r?\n|\r/);rt.length>0&&!(rt.length<3);){var nt=parseInt(rt[0]);if(isNaN(nt)||nt<=0||rt.length<nt+2)break;var st=/Lattice\s*=\s*["\{\}]([^"\{\}]+)["\{\}]\s*/gi,jt=st.exec(rt[1]);if(jt!=null&&jt.length>1){var wl=new Float32Array(jt[1].split(/\s+/)),Ft=new c.Matrix3(wl[0],wl[3],wl[6],wl[1],wl[4],wl[7],wl[2],wl[5],wl[8]);$.modelData=[{cryst:{matrix:Ft}}]}for(var it=2,ot=$[$.length-1].length,Ln=ot+nt,Cl=ot;Cl<Ln;Cl++){var Tl=rt[it++],zl=Tl.trim().split(/\s+/),In={};In.serial=Cl;var Ml=zl[0];In.atom=In.elem=Ml[0].toUpperCase()+Ml.substring(1,2).toLowerCase(),In.x=parseFloat(zl[1]),In.y=parseFloat(zl[2]),In.z=parseFloat(zl[3]),In.hetflag=!0,In.bonds=[],In.bondOrder=[],In.properties={},$[$.length-1][Cl]=In,zl.length>=7&&(In.dx=parseFloat(zl[4]),In.dy=parseFloat(zl[5]),In.dz=parseFloat(zl[6]))}if(_.multimodel)$.push([]),rt.splice(0,it);else break}if(j)for(let Ul=0;Ul<$.length;Ul++)(0,d.assignBonds)($[Ul],_);if(_.onemol){var Dl=$;$=[],$.push(Dl[0]);for(let Ul=1;Ul<Dl.length;Ul++){let Vl=$[0].length;for(let mu=0;mu<Dl[Ul].length;mu++){let rp=Dl[Ul][mu];for(let Ju=0;Ju<rp.bonds.length;Ju++)rp.bonds[Ju]=rp.bonds[Ju]+Vl;rp.index=$[0].length,rp.serial=$[0].length,$[0].push(rp)}}}return $}},"./src/parsers/cifutils/category.ts":(e,o,a)=>{a.r(o),a.d(o,{Category:()=>d});var c=a("./src/parsers/cifutils/decoder.ts");function d(g){const b=Object.create(null),_=Object.create(null);for(const $ of g.columns)b[$.name]=$;return{rowCount:g.rowCount,name:g.name.substring(1),fieldNames:g.columns.map($=>$.name),getField($){const j=b[$];if(j)return _[$]||(_[$]=(0,c.decode)(j.data)),_[$]}}}},"./src/parsers/cifutils/decoder.ts":(e,o,a)=>{a.r(o),a.d(o,{decode:()=>b});var c=a("./src/parsers/cifutils/encoding.ts");const d=new Uint16Array(new Uint8Array([18,52]).buffer)[0]===13330;function g(Vl,mu){const rp=new ArrayBuffer(Vl.length),Ju=new Uint8Array(rp);for(let cp=0,hp=Vl.length;cp<hp;cp+=mu)for(let yp=0;yp<mu;yp++)Ju[cp+mu-yp-1]=Vl[cp+yp];return rp}function b(Vl){let mu=Vl.data;for(let rp=Vl.encoding.length-1;rp>=0;rp--)mu=_(mu,Vl.encoding[rp]);return mu}function _(Vl,mu){switch(mu.kind){case"ByteArray":switch(mu.type){case c.Encoding.IntDataType.Uint8:return Vl;case c.Encoding.IntDataType.Int8:return rt(Vl);case c.Encoding.IntDataType.Int16:return st(Vl);case c.Encoding.IntDataType.Uint16:return jt(Vl);case c.Encoding.IntDataType.Int32:return wl(Vl);case c.Encoding.IntDataType.Uint32:return Ft(Vl);case c.Encoding.FloatDataType.Float32:return it(Vl);case c.Encoding.FloatDataType.Float64:return ot(Vl);default:throw new Error("unreachable")}case"FixedPoint":return Ln(Vl,mu);case"IntervalQuantization":return Cl(Vl,mu);case"RunLength":return Tl(Vl,mu);case"Delta":return zl(Vl,mu);case"IntegerPacking":return Dl(Vl,mu);case"StringArray":return Ul(Vl,mu)}}function $(Vl,mu){switch(Vl){case c.Encoding.IntDataType.Int8:return new Int8Array(mu);case c.Encoding.IntDataType.Int16:return new Int16Array(mu);case c.Encoding.IntDataType.Int32:return new Int32Array(mu);case c.Encoding.IntDataType.Uint8:return new Uint8Array(mu);case c.Encoding.IntDataType.Uint16:return new Uint16Array(mu);case c.Encoding.IntDataType.Uint32:return new Uint32Array(mu);default:return new Int32Array(mu)}}function j(Vl,mu){switch(Vl){case c.Encoding.FloatDataType.Float32:return new Float32Array(mu);case c.Encoding.FloatDataType.Float64:return new Float64Array(mu);default:return new Float64Array(mu)}}function rt(Vl){return new Int8Array(Vl.buffer,Vl.byteOffset)}function nt(Vl,mu,rp){return(Vl.byteOffset!=0||Vl.byteLength!=Vl.buffer.byteLength)&&(Vl=new Uint8Array(Vl)),d?new rp(Vl.buffer):new rp(g(Vl,mu))}function st(Vl){return nt(Vl,2,Int16Array)}function jt(Vl){return nt(Vl,2,Uint16Array)}function wl(Vl){return nt(Vl,4,Int32Array)}function Ft(Vl){return nt(Vl,4,Uint32Array)}function it(Vl){return nt(Vl,4,Float32Array)}function ot(Vl){return nt(Vl,8,Float64Array)}function Ln(Vl,mu){const rp=Vl.length,Ju=j(mu.srcType,rp),cp=1/mu.factor;for(let hp=0;hp<rp;hp++)Ju[hp]=cp*Vl[hp];return Ju}function Cl(Vl,mu){const rp=Vl.length,Ju=j(mu.srcType,rp),cp=(mu.max-mu.min)/(mu.numSteps-1),hp=mu.min;for(let yp=0;yp<rp;yp++)Ju[yp]=hp+cp*Vl[yp];return Ju}function Tl(Vl,mu){const rp=$(mu.srcType,mu.srcSize);let Ju=0;for(let cp=0,hp=Vl.length;cp<hp;cp+=2){const yp=Vl[cp],xp=Vl[cp+1];for(let fp=0;fp<xp;++fp)rp[Ju++]=yp}return rp}function zl(Vl,mu){const rp=Vl.length,Ju=$(mu.srcType,rp);if(!rp)return Vl;Ju[0]=Vl[0]+(mu.origin|0);for(let cp=1;cp<rp;++cp)Ju[cp]=Vl[cp]+Ju[cp-1];return Ju}function In(Vl,mu){const rp=mu.byteCount===1?127:32767,Ju=-rp-1,cp=Vl.length,hp=new Int32Array(mu.srcSize);let yp=0,xp=0;for(;yp<cp;){let fp=0,_p=Vl[yp];for(;_p===rp||_p===Ju;)fp+=_p,yp++,_p=Vl[yp];fp+=_p,hp[xp]=fp,yp++,xp++}return hp}function Ml(Vl,mu){const rp=mu.byteCount===1?255:65535,Ju=Vl.length,cp=new Int32Array(mu.srcSize);let hp=0,yp=0;for(;hp<Ju;){let xp=0,fp=Vl[hp];for(;fp===rp;)xp+=fp,hp++,fp=Vl[hp];xp+=fp,cp[yp]=xp,hp++,yp++}return cp}function Dl(Vl,mu){return Vl.length===mu.srcSize?Vl:mu.isUnsigned?Ml(Vl,mu):In(Vl,mu)}function Ul(Vl,mu){const rp=b({encoding:mu.offsetEncoding,data:mu.offsets}),Ju=b({encoding:mu.dataEncoding,data:Vl}),cp=mu.stringData,hp=new Array(rp.length);hp[0]="";for(let fp=1,_p=rp.length;fp<_p;fp++)hp[fp]=cp.substring(rp[fp-1],rp[fp]);let yp=0;const xp=new Array(Ju.length);for(let fp=0,_p=Ju.length;fp<_p;fp++)xp[yp++]=hp[Ju[fp]+1];return xp}},"./src/parsers/cifutils/encoding.ts":(e,o,a)=>{a.r(o),a.d(o,{Encoding:()=>d,VERSION:()=>c});const c="0.3.0";var d;(function(g){(function($){$[$.Int8=1]="Int8",$[$.Int16=2]="Int16",$[$.Int32=3]="Int32",$[$.Uint8=4]="Uint8",$[$.Uint16=5]="Uint16",$[$.Uint32=6]="Uint32"})(g.IntDataType||(g.IntDataType={})),function($){$[$.Float32=32]="Float32",$[$.Float64=33]="Float64"}(g.FloatDataType||(g.FloatDataType={}));function b($){let j;return $ instanceof Int8Array?j=g.IntDataType.Int8:$ instanceof Int16Array?j=g.IntDataType.Int16:$ instanceof Int32Array?j=g.IntDataType.Int32:$ instanceof Uint8Array?j=g.IntDataType.Uint8:$ instanceof Uint16Array?j=g.IntDataType.Uint16:$ instanceof Uint32Array?j=g.IntDataType.Uint32:$ instanceof Float32Array?j=g.FloatDataType.Float32:$ instanceof Float64Array?j=g.FloatDataType.Float64:j=g.IntDataType.Int32,j}g.getDataType=b;function _($){if($ instanceof Int8Array||$ instanceof Int16Array||$ instanceof Int32Array)return!0;for(let j=0,rt=$.length;j<rt;j++)if(j<0)return!1;return!0}g.isSignedIntegerDataType=_})(d||(d={}))},"./src/parsers/index.ts":(e,o,a)=>{a.r(o),a.d(o,{Parsers:()=>Ln,bondLength:()=>ot.bondLength,setBondLength:()=>ot.setBondLength});var c=a("./src/parsers/VASP.ts"),d=a("./src/parsers/CUBE.ts"),g=a("./src/parsers/XYZ.ts"),b=a("./src/parsers/SDF.ts"),_=a("./src/parsers/CDJSON.ts"),$=a("./src/parsers/CIF.ts"),j=a("./src/parsers/MOL2.ts"),rt=a("./src/parsers/PDB.ts"),nt=a("./src/parsers/PQR.ts"),st=a("./src/parsers/MMTF.ts"),jt=a("./src/parsers/PRMTOP.ts"),wl=a("./src/parsers/GRO.ts"),Ft=a("./src/parsers/LAMMPSTRJ.ts"),it=a("./src/parsers/BCIF.ts"),ot=a("./src/parsers/utils/bondLength.ts");const Ln={vasp:c.VASP,VASP:c.VASP,cube:d.CUBE,CUBE:d.CUBE,xyz:g.XYZ,XYZ:g.XYZ,sdf:b.SDF,SDF:b.SDF,json:_.CDJSON,cdjson:_.CDJSON,CDJSON:_.CDJSON,mcif:$.CIF,cif:$.CIF,CIF:$.CIF,mol2:j.MOL2,MOL2:j.MOL2,pdb:rt.PDB,PDB:rt.PDB,pdbqt:rt.PDB,PDBQT:rt.PDB,pqr:nt.PQR,PQR:nt.PQR,mmtf:st.MMTFparser,MMTF:st.MMTFparser,prmtop:jt.PRMTOP,PRMTOP:jt.PRMTOP,gro:wl.GRO,GRO:wl.GRO,lammpstrj:Ft.LAMMPSTRJ,LAMMPSTRJ:Ft.LAMMPSTRJ,bcif:it.BCIF,BCIF:it.BCIF}},"./src/parsers/utils/anumToSymbol.ts":(e,o,a)=>{a.r(o),a.d(o,{anumToSymbol:()=>c});const c={1:"H",2:"He",3:"Li",4:"Be",5:"B",6:"C",7:"N",8:"O",9:"F",10:"Ne",11:"Na",12:"Mg",13:"Al",14:"Si",15:"P",16:"S",17:"Cl",18:"Ar",19:"K",20:"Ca",21:"Sc",22:"Ti",23:"V",24:"Cr",25:"Mn",26:"Fe",27:"Co",28:"Ni",29:"Cu",30:"Zn",31:"Ga",32:"Ge",33:"As",34:"Se",35:"Br",36:"Kr",37:"Rb",38:"Sr",39:"Y",40:"Zr",41:"Nb",42:"Mo",43:"Tc",44:"Ru",45:"Rh",46:"Pd",47:"Ag",48:"Cd",49:"In",50:"Sn",51:"Sb",52:"Te",53:"I",54:"Xe",55:"Cs",56:"Ba",71:"Lu",72:"Hf",73:"Ta",74:"W",75:"Re",76:"Os",77:"Ir",78:"Pt",79:"Au",80:"Hg",81:"Tl",82:"Pb",83:"Bi",84:"Po",85:"At",86:"Rn",87:"Fr",88:"Ra",104:"Rf",105:"Db",106:"Sg",107:"Bh",108:"Hs",109:"Mt",110:"Ds",111:"Rg",112:"Cn",113:"Nh",114:"Fl",115:"Mc",116:"Lv",117:"Ts",118:"Og",57:"La",58:"Ce",59:"Pr",60:"Nd",61:"Pm",62:"Sm",63:"Eu",64:"Gd",65:"Tb",66:"Dy",67:"Ho",68:"Er",69:"Tm",70:"Yb",89:"Ac",90:"Th",91:"Pa",92:"U",93:"Np",94:"Pu",95:"Am",96:"Cm",97:"Bk",98:"Cf",99:"Es",100:"Fm",101:"Md",102:"No"}},"./src/parsers/utils/areConnected.ts":(e,o,a)=>{a.r(o),a.d(o,{areConnected:()=>g});var c=a("./src/parsers/utils/bondLength.ts");const d=new Set(["Na","K","Ca","Mg","Mn","Sr"]);function g(b,_,$){if($&&$.unboundCations&&(d.has(b.elem)||d.has(_.elem)))return!1;let j=(0,c.bondLength)(b.elem)+(0,c.bondLength)(_.elem);j+=.25,j*=j;let rt=b.x-_.x;if(rt*=rt,rt>j)return!1;let nt=b.y-_.y;if(nt*=nt,nt>j)return!1;let st=b.z-_.z;if(st*=st,st>j)return!1;const jt=rt+nt+st;return!(isNaN(jt)||jt<.5||jt>j||b.altLoc!==_.altLoc&&b.altLoc.trim()!==""&&_.altLoc.trim()!=="")}},"./src/parsers/utils/assignBackboneHBonds.ts":(e,o,a)=>{a.r(o),a.d(o,{assignBackboneHBonds:()=>c});function c(d,g){const b=g||3.2,_=b*b,$=[];for(let j=0,rt=d.length;j<rt;j++){d[j].index=j;const nt=d[j];!nt.hetflag&&(nt.atom==="N"||nt.atom==="O")&&($.push(nt),nt.hbondOther=null,nt.hbondDistanceSq=Number.POSITIVE_INFINITY)}$.sort(function(j,rt){return j.z-rt.z});for(let j=0,rt=$.length;j<rt;j++){const nt=$[j];for(let st=j+1;st<rt;st++){const jt=$[st],wl=jt.z-nt.z;if(wl>b)break;if(jt.atom==nt.atom)continue;const Ft=Math.abs(jt.y-nt.y);if(Ft>b)continue;const it=Math.abs(jt.x-nt.x);if(it>b)continue;const ot=it*it+Ft*Ft+wl*wl;ot>_||jt.chain==nt.chain&&Math.abs(jt.resi-nt.resi)<4||(ot<nt.hbondDistanceSq&&(nt.hbondOther=jt,nt.hbondDistanceSq=ot),ot<jt.hbondDistanceSq&&(jt.hbondOther=nt,jt.hbondDistanceSq=ot))}}}},"./src/parsers/utils/assignBonds.ts":(e,o,a)=>{a.r(o),a.d(o,{assignBonds:()=>b});var c=a("./src/parsers/utils/areConnected.ts");const d=[{x:0,y:0,z:1},{x:0,y:1,z:-1},{x:0,y:1,z:0},{x:0,y:1,z:1},{x:1,y:-1,z:-1},{x:1,y:-1,z:0},{x:1,y:-1,z:1},{x:1,y:0,z:-1},{x:1,y:0,z:0},{x:1,y:0,z:1},{x:1,y:1,z:-1},{x:1,y:1,z:0},{x:1,y:1,z:1}],g=4.95;function b(_,$){for(let nt=0,st=_.length;nt<st;nt++)_[nt].index||(_[nt].index=nt);const j={x:{y:{z:[]}}};for(let nt=0;nt<_.length;nt++){const st=_[nt],jt=Math.floor(st.x/g),wl=Math.floor(st.y/g),Ft=Math.floor(st.z/g);j[jt]||(j[jt]={}),j[jt][wl]||(j[jt][wl]={}),j[jt][wl][Ft]||(j[jt][wl][Ft]=[]),j[jt][wl][Ft].push(st)}function rt(nt,st){for(let jt=0;jt<nt.length;jt++){const wl=nt[jt];for(let Ft=0;Ft<st.length;Ft++){const it=st[Ft];if((0,c.areConnected)(wl,it,$)){const ot=wl.bonds.indexOf(it.index),Ln=it.bonds.indexOf(wl.index);ot===-1&&Ln===-1?(wl.bonds.push(it.index),wl.bondOrder.push(1),it.bonds.push(wl.index),it.bondOrder.push(1)):ot===-1?(wl.bonds.push(it.index),wl.bondOrder.push(it.bondOrder[Ln])):Ln===-1&&(it.bonds.push(wl.index),it.bondOrder.push(wl.bondOrder[ot]))}}}}for(let nt in j){const st=parseInt(nt);for(let jt in j[st]){const wl=parseInt(jt);for(let Ft in j[st][wl]){const it=parseInt(Ft),ot=j[st][wl][it];for(let Ln=0;Ln<ot.length;Ln++){const Cl=ot[Ln];for(let Tl=Ln+1;Tl<ot.length;Tl++){const zl=ot[Tl];(0,c.areConnected)(Cl,zl,$)&&Cl.bonds.indexOf(zl.index)==-1&&(Cl.bonds.push(zl.index),Cl.bondOrder.push(1),zl.bonds.push(Cl.index),zl.bondOrder.push(1))}}for(let Ln=0;Ln<d.length;Ln++){const Cl=d[Ln];if(!j[st+Cl.x]||!j[st+Cl.x][wl+Cl.y]||!j[st+Cl.x][wl+Cl.y][it+Cl.z])continue;const Tl=j[st+Cl.x][wl+Cl.y][it+Cl.z];rt(ot,Tl)}}}}}},"./src/parsers/utils/assignPDBBonds.ts":(e,o,a)=>{a.r(o),a.d(o,{assignPDBBonds:()=>b});var c=a("./src/parsers/utils/areConnected.ts"),d=a("./src/parsers/utils/assignBonds.ts"),g=a("./src/parsers/utils/standardResidues.ts");function b(_,$){const j=[],rt=[];for(let wl=0,Ft=_.length;wl<Ft;wl++){const it=_[wl];it.index=wl,it.hetflag||!g.standardResidues.has(it.resn)?rt.push(it):j.push(it)}(0,d.assignBonds)(rt,$),j.sort(function(wl,Ft){return wl.chain!==Ft.chain?wl.chain<Ft.chain?-1:1:wl.resi-Ft.resi});let nt=-1,st=-1,jt;for(let wl=0,Ft=j.length;wl<Ft;wl++){const it=j[wl];it.resi!==nt&&(nt=it.resi,jt||st++,jt=!1),it.reschain=st;for(let ot=wl+1;ot<j.length;ot++){const Ln=j[ot];if(Ln.chain!==it.chain||Ln.resi-it.resi>1)break;(0,c.areConnected)(it,Ln,$)&&(it.bonds.indexOf(Ln.index)===-1&&(it.bonds.push(Ln.index),it.bondOrder.push(1),Ln.bonds.push(it.index),Ln.bondOrder.push(1)),it.resi!==Ln.resi&&(jt=!0))}}}},"./src/parsers/utils/atomNameToElem.ts":(e,o,a)=>{a.r(o),a.d(o,{atomNameToElem:()=>d});var c=a("./src/parsers/utils/bondLength.ts");function d(g,b){let _=g.replace(/ /g,"");return _.length>0&&_[0]==="H"&&_!=="Hg"&&_!=="He"&&_!=="Hf"&&_!=="Hs"&&_!=="Ho"&&(_="H"),_.length>1&&(_=_[0].toUpperCase()+_.substring(1).toLowerCase(),c.bondTable[_]===void 0?_=_[0]:b&&(_==="Ca"||_==="Cd")&&(_="C")),_}},"./src/parsers/utils/bondLength.ts":(e,o,a)=>{a.r(o),a.d(o,{bondLength:()=>d,bondTable:()=>c,setBondLength:()=>g});let c={H:.37,He:.32,Li:1.34,Be:.9,B:.82,C:.77,N:.75,O:.73,F:.71,Ne:.69,Na:1.54,Mg:1.3,Al:1.18,Si:1.11,P:1.06,S:1.02,Cl:.99,Ar:.97,K:1.96,Ca:1.74,Sc:1.44,Ti:1.56,V:1.25,Mn:1.39,Fe:1.25,Co:1.26,Ni:1.21,Cu:1.38,Zn:1.31,Ga:1.26,Ge:1.22,Se:1.16,Br:1.14,Kr:1.1,Rb:2.11,Sr:1.92,Y:1.62,Zr:1.48,Nb:1.37,Mo:1.45,Tc:1.56,Ru:1.26,Rh:1.35,Pd:1.31,Ag:1.53,Cd:1.48,In:1.44,Sn:1.41,Sb:1.38,Te:1.35,I:1.33,Xe:1.3,Cs:2.25,Ba:1.98,Lu:1.6,Hf:1.5,Ta:1.38,W:1.46,Re:1.59,Os:1.44,Ir:1.37,Pt:1.28,Au:1.44,Hg:1.49,Tl:1.48,Pb:1.47,Bi:1.46,Rn:1.45};function d(b){return c[b]||1.6}function g(b,_){_<0&&(_=0),c[b]=_}},"./src/parsers/utils/computeSecondaryStructure.ts":(e,o,a)=>{a.r(o),a.d(o,{computeSecondaryStructure:()=>d});var c=a("./src/parsers/utils/assignBackboneHBonds.ts");function d(g,b){(0,c.assignBackboneHBonds)(g,b);const _={};let $,j,rt,nt,st,jt;for($=0,j=g.length;$<j;$++)if(st=g[$],_[st.chain]===void 0&&(_[st.chain]=[]),isFinite(st.hbondDistanceSq)){const wl=st.hbondOther;_[wl.chain]===void 0&&(_[wl.chain]=[]),Math.abs(wl.resi-st.resi)===4&&(_[st.chain][st.resi]="h")}for(rt in _)for(nt=1;nt<_[rt].length-1;nt++){const wl=_[rt][nt-1],Ft=_[rt][nt+1];jt=_[rt][nt],wl=="h"&&wl==Ft&&jt!=wl&&(_[rt][nt]=wl)}for($=0,j=g.length;$<j;$++)st=g[$],isFinite(st.hbondDistanceSq)&&_[st.chain][st.resi]!="h"&&st.ss!=="h"&&(_[st.chain][st.resi]="maybesheet");for(let wl=0,Ft=g.length;wl<Ft;wl++)if(st=g[wl],isFinite(st.hbondDistanceSq)&&_[st.chain][st.resi]=="maybesheet"){let it=st.hbondOther,ot=_[it.chain][it.resi];(ot=="maybesheet"||ot=="s")&&(_[st.chain][st.resi]="s",_[it.chain][it.resi]="s")}for(let wl in _){for(let Ft=1;Ft<_[wl].length-1;Ft++){const it=_[wl][Ft-1],ot=_[wl][Ft+1];jt=_[wl][Ft],it=="s"&&it==ot&&jt!=it&&(_[wl][Ft]=it)}for(let Ft=0;Ft<_[wl].length;Ft++){const it=_[wl][Ft];(it=="h"||it=="s")&&_[wl][Ft-1]!=it&&_[wl][Ft+1]!=it&&delete _[wl][Ft]}}for($=0,j=g.length;$<j;$++)st=g[$],jt=_[st.chain][st.resi],delete st.hbondOther,delete st.hbondDistanceSq,!(jt===void 0||jt==="maybesheet")&&(st.ss=jt,_[st.chain][st.resi-1]!=jt&&(st.ssbegin=!0),_[st.chain][st.resi+1]!=jt&&(st.ssend=!0))}},"./src/parsers/utils/getSinglePDB.ts":(e,o,a)=>{a.r(o),a.d(o,{getSinglePDB:()=>nt});var c=a("./src/WebGL/index.ts"),d=a("./src/parsers/utils/atomNameToElem.ts"),g=a("./src/parsers/utils/bondLength.ts"),b=a("./src/parsers/utils/computeSecondaryStructure.ts"),_=a("./src/parsers/utils/isEmpty.ts"),$=a("./src/parsers/utils/processSymmetries.ts"),j=a("./src/parsers/utils/assignPDBBonds.ts"),rt=a("./src/parsers/utils/validateBonds.ts");function nt(st,jt,wl){const Ft=[],it=jt.assignBonds===void 0?!0:jt.assignBonds,ot=!jt.keepH,Ln=!!jt.noSecondaryStructure,Cl=!jt.noComputeSecondaryStructure,Tl=!jt.doAssembly,zl=jt.altLoc?jt.altLoc:"A",In={symmetries:[],cryst:void 0};let Ml,Dl=[];const Ul=[];let Vl;const mu={};for(let rp=0;rp<st.length;rp++){Vl=st[rp].replace(/^\s*/,"");const Ju=Vl.substring(0,6);let cp,hp,yp;if(Ju.indexOf("END")===0){if(Dl=st.slice(rp+1),Ju==="END")for(const xp in wl)wl.hasOwnProperty(xp)&&delete wl[xp];break}else if(Ju==="ATOM  "||Ju==="HETATM"){let xp,fp,_p,ip,gp,Dp,Fp,n0,S0,C0,P0,k0;if(P0=Vl.substring(16,17),P0!==" "&&P0!==zl&&zl!=="*"||(C0=parseInt(Vl.substring(6,11)),Ml=Vl.substring(12,16).replace(/ /g,""),xp=Vl.substring(17,20).replace(/ /g,""),fp=Vl.substring(21,22),_p=parseInt(Vl.substring(22,26)),ip=Vl.substring(26,27),gp=parseFloat(Vl.substring(30,38)),Dp=parseFloat(Vl.substring(38,46)),Fp=parseFloat(Vl.substring(46,54)),k0=parseFloat(Vl.substring(60,68)),S0=Vl.substring(76,78).replace(/ /g,""),S0===""||g.bondTable[S0]===void 0?S0=(0,d.atomNameToElem)(Vl.substring(12,14),Vl[0]=="A"):S0=S0[0].toUpperCase()+S0.substring(1).toLowerCase(),S0==="H"&&ot))continue;Ju[0]=="H"?n0=!0:n0=!1,Ul[C0]=Ft.length,Ft.push({resn:xp,x:gp,y:Dp,z:Fp,elem:S0,hetflag:n0,altLoc:P0,chain:fp,resi:_p,icode:ip,rescode:_p+(ip!==" "?"^"+ip:""),serial:C0,atom:Ml,bonds:[],ss:"c",bondOrder:[],properties:{},b:k0,pdbline:Vl})}else if(Ju==="SHEET "){cp=Vl.substring(21,22),hp=parseInt(Vl.substring(22,26)),yp=parseInt(Vl.substring(33,37)),cp in wl||(wl[cp]={}),wl[cp][hp]="s1";for(let xp=hp+1;xp<yp;xp++)wl[cp][xp]="s";wl[cp][yp]="s2"}else if(Ju==="CONECT"){const xp=parseInt(Vl.substring(6,11)),fp=Ul[xp],_p=Ft[fp],ip=[11,16,21,26];for(let gp=0;gp<4;gp++){const Dp=parseInt(Vl.substring(ip[gp],ip[gp]+5)),Fp=Ul[Dp];let n0=fp+":"+Fp;const S0=Ft[Fp];if(_p!==void 0&&S0!==void 0)if(!mu[n0])mu[n0]=1,(_p.bonds.length==0||_p.bonds[_p.bonds.length-1]!==Fp)&&(_p.bonds.push(Fp),_p.bondOrder.push(1));else{mu[n0]+=1;for(let C0=0;C0<_p.bonds.length;C0++)if(_p.bonds[C0]==Fp){const P0=mu[n0];P0>=4?_p.bondOrder[C0]=1:_p.bondOrder[C0]=P0}}}}else if(Ju==="HELIX "){cp=Vl.substring(19,20),hp=parseInt(Vl.substring(21,25)),yp=parseInt(Vl.substring(33,37)),cp in wl||(wl[cp]={}),wl[cp][hp]="h1";for(let xp=hp+1;xp<yp;xp++)wl[cp][xp]="h";wl[cp][yp]="h2"}else if(!Tl&&Ju==="REMARK"&&Vl.substring(13,18)==="BIOMT"){let xp,fp=new c.Matrix4;for(xp=1;xp<=3;xp++)if(Vl=st[rp].replace(/^\s*/,""),parseInt(Vl.substring(18,19))==xp)fp.elements[xp-1]=parseFloat(Vl.substring(23,33)),fp.elements[xp-1+4]=parseFloat(Vl.substring(33,43)),fp.elements[xp-1+8]=parseFloat(Vl.substring(43,53)),fp.elements[xp-1+12]=parseFloat(Vl.substring(53)),rp++;else for(;Vl.substring(13,18)==="BIOMT";)rp++,Vl=st[rp].replace(/^\s*/,"");fp.elements[3]=0,fp.elements[7]=0,fp.elements[11]=0,fp.elements[15]=1,In.symmetries.push(fp),rp--}else if(Ju==="CRYST1"){let xp,fp,_p,ip,gp,Dp;xp=parseFloat(Vl.substring(7,15)),fp=parseFloat(Vl.substring(16,24)),_p=parseFloat(Vl.substring(25,33)),ip=parseFloat(Vl.substring(34,40)),gp=parseFloat(Vl.substring(41,47)),Dp=parseFloat(Vl.substring(48,54)),In.cryst={a:xp,b:fp,c:_p,alpha:ip,beta:gp,gamma:Dp}}else if(Ju==="ANISOU"){const xp=parseInt(Vl.substring(6,11)),fp=Ul[xp],_p=Ft[fp];if(_p){const ip=Vl.substring(30).trim().split(/\s+/),gp={u11:parseInt(ip[0]),u22:parseInt(ip[1]),u33:parseInt(ip[2]),u12:parseInt(ip[3]),u13:parseInt(ip[4]),u23:parseInt(ip[5])};_p.uMat=gp}}}if((0,rt.validateBonds)(Ft,Ul),it&&(0,j.assignPDBBonds)(Ft,jt),Tl||(0,$.processSymmetries)(In.symmetries,Ft,jt,In.cryst),Cl&&!Ln&&(0,b.computeSecondaryStructure)(Ft,jt.hbondCutoff),!(0,_.isEmpty)(wl))for(let rp=0;rp<Ft.length;rp++){const Ju=Ft[rp];if(Ju!==void 0&&Ju.chain in wl&&Ju.resi in wl[Ju.chain]){const cp=wl[Ju.chain][Ju.resi];Ju.ss=cp[0],cp.length>1&&(cp[1]=="1"?Ju.ssbegin=!0:cp[1]=="2"&&(Ju.ssend=!0))}}return[Ft,In,Dl]}},"./src/parsers/utils/isEmpty.ts":(e,o,a)=>{a.r(o),a.d(o,{isEmpty:()=>c});function c(d){for(const g in d)return!1;return!0}},"./src/parsers/utils/processSymmetries.ts":(e,o,a)=>{a.r(o),a.d(o,{processSymmetries:()=>d});var c=a("./src/WebGL/index.ts");function d(g,b,_,$){const j=!_.duplicateAssemblyAtoms,rt=b.length;let nt=rt,st=-1,jt=null,wl=null;(_.normalizeAssembly||_.wrapAtoms)&&$&&(jt=(0,c.conversionMatrix3)($.a,$.b,$.c,$.alpha,$.beta,$.gamma),wl=new c.Matrix3,wl.getInverse3(jt));let Ft=function(Ln){let Cl=Ln.clone().applyMatrix3(wl);const Tl=[Cl.x,Cl.y,Cl.z],zl=[0,0,0];for(let Ml=0;Ml<3;Ml++){for(;Tl[Ml]<-.001;)Tl[Ml]+=1,zl[Ml]+=1;for(;Tl[Ml]>1.001;)Tl[Ml]-=1,zl[Ml]-=1}const In=new c.Vector3(zl[0],zl[1],zl[2]);return In.applyMatrix3(jt),In};if(_.normalizeAssembly&&$)for(let Ln=0;Ln<g.length;Ln++){const Cl=new c.Vector3(0,0,0);for(let zl=0;zl<rt;zl++){const In=new c.Vector3(b[zl].x,b[zl].y,b[zl].z);In.applyMatrix4(g[Ln]),Cl.add(In)}Cl.divideScalar(rt);const Tl=Ft(Cl);g[Ln].isNearlyIdentity()&&Tl.lengthSq()>.001&&(st=Ln),g[Ln].translate(Tl)}if(j){if(g.length>1)for(let Ln=0;Ln<b.length;Ln++){var it=[];for(let Cl=0;Cl<g.length;Cl++)if(!g[Cl].isNearlyIdentity()){var ot=new c.Vector3;ot.set(b[Ln].x,b[Ln].y,b[Ln].z),ot.applyMatrix4(g[Cl]),it.push(ot)}b[Ln].symmetries=it}}else{for(let Ln=0;Ln<rt;Ln++)b[Ln].sym=-1;for(let Ln=0;Ln<g.length;Ln++)if(!g[Ln].isNearlyIdentity()&&st!=Ln){let Cl=new c.Vector3;for(let Tl=0;Tl<rt;Tl++){const zl=[];for(let Ml=0;Ml<b[Tl].bonds.length;Ml++)zl.push(b[Tl].bonds[Ml]+nt);if(Cl.set(b[Tl].x,b[Tl].y,b[Tl].z),Cl.applyMatrix4(g[Ln]),_.wrapAtoms&&$){let Ml=Ft(Cl);Cl.add(Ml)}const In={};for(const Ml in b[Tl])In[Ml]=b[Tl][Ml];In.x=Cl.x,In.y=Cl.y,In.z=Cl.z,In.bonds=zl,In.sym=Ln,In.index=b.length,b.push(In)}nt=b.length}else for(let Cl=0;Cl<rt;Cl++)b[Cl].sym=Ln;if(_.wrapAtoms&&$){let Ln=new c.Vector3;for(let Cl=0;Cl<rt;Cl++){Ln.set(b[Cl].x,b[Cl].y,b[Cl].z);let Tl=Ft(Ln);Ln.add(Tl),b[Cl].x=Ln.x,b[Cl].y=Ln.y,b[Cl].z=Ln.z}}if(st>=0){const Ln=new c.Vector3;for(let Cl=0;Cl<rt;Cl++)Ln.set(b[Cl].x,b[Cl].y,b[Cl].z),Ln.applyMatrix4(g[st]),b[Cl].x=Ln.x,b[Cl].y=Ln.y,b[Cl].z=Ln.z}g.length=0}}},"./src/parsers/utils/standardResidues.ts":(e,o,a)=>{a.r(o),a.d(o,{standardResidues:()=>c});const c=new Set(["ABU","ACD","ALA","ALB","ALI","ARG","AR0","ASN","ASP","ASX","BAS","CYS","CYH","CYX","CSS","CSH","GLN","GLU","GLX","GLY","HIS","HIE","HID","HIP","HYP","ILE","ILU","LEU","LYS","MET","PCA","PGA","PHE","PR0","PRO","PRZ","SER","THR","TRP","TYR","VAL","A","1MA","C","5MC","OMC","G","1MG","2MG","M2G","7MG","OMG","YG","I","T","U","+U","H2U","5MU","PSU","ACE","F0R","H2O","HOH","WAT"])},"./src/parsers/utils/validateBonds.ts":(e,o,a)=>{a.r(o),a.d(o,{validateBonds:()=>c});function c(d,g){for(let b=0,_=d.length;b<_;b++){const $=d[b];for(let j=0;j<$.bonds.length;j++){const rt=$.bonds[j],nt=d[rt],st=g[$.serial];nt&&st&&nt.bonds.indexOf(st)<0&&(nt.bonds.push(st),nt.bondOrder.push($.bondOrder[j]))}}}},"./src/partialCharges.ts":(e,o,a)=>{a.r(o),a.d(o,{applyPartialCharges:()=>d,partialCharges:()=>c});const c={"ALA:N":-.15,"ALA:CA":.1,"ALA:CB":0,"ALA:C":.6,"ALA:O":-.55,"ARG:N":-.15,"ARG:CA":.1,"ARG:CB":0,"ARG:CG":0,"ARG:CD":.1,"ARG:NE":-.1,"ARG:CZ":.5,"ARG:NH1":.25,"ARG:NH2":.25,"ARG:C":.6,"ARG:O":-.55,"ASN:N":-.15,"ASN:CA":.1,"ASN:CB":0,"ASN:CG":.55,"ASN:OD1":-.55,"ASN:ND2":0,"ASN:C":.6,"ASN:O":-.55,"ASP:N":-.15,"ASP:CA":.1,"ASP:CB":0,"ASP:CG":.14,"ASP:OD1":-.57,"ASP:OD2":-.57,"ASP:C":.6,"ASP:O":-.55,"CYS:N":-.15,"CYS:CA":.1,"CYS:CB":.19,"CYS:SG":-.19,"CYS:C":.6,"CYS:O":-.55,"GLN:N":-.15,"GLN:CA":.1,"GLN:CB":0,"GLN:CG":0,"GLN:CD":.55,"GLN:OE1":-.55,"GLN:NE2":0,"GLN:C":.6,"GLN:O":-.55,"GLU:N":-.15,"GLU:CA":.1,"GLU:CB":0,"GLU:CG":0,"GLU:CD":.14,"GLU:OE1":-.57,"GLU:OE2":-.57,"GLU:C":.6,"GLU:O":-.55,"GLY:N":-.15,"GLY:CA":.1,"GLY:C":.6,"GLY:O":-.55,"HIS:N":-.15,"HIS:CA":.1,"HIS:CB":0,"HIS:CG":.1,"HIS:ND1":-.1,"HIS:CD2":.1,"HIS:NE2":-.4,"HIS:CE1":.3,"HIS:C":.6,"HIS:O":-.55,"ILE:N":-.15,"ILE:CA":.1,"ILE:CB":0,"ILE:CG2":0,"ILE:CG1":0,"ILE:CD":0,"ILE:C":.6,"ILE:O":-.55,"LEU:N":-.15,"LEU:CA":.1,"LEU:CB":0,"LEU:CG":0,"LEU:CD1":0,"LEU:CD2":0,"LEU:C":.6,"LEU:O":-.55,"LYS:N":-.15,"LYS:CA":.1,"LYS:CB":0,"LYS:CG":0,"LYS:CD":0,"LYS:CE":.25,"LYS:NZ":.75,"LYS:C":.6,"LYS:O":-.55,"MET:N":-.15,"MET:CA":.1,"MET:CB":0,"MET:CG":.06,"MET:SD":-.12,"MET:CE":.06,"MET:C":.6,"MET:O":-.55,"PHE:N":-.15,"PHE:CA":.1,"PHE:CB":0,"PHE:CG":0,"PHE:CD1":0,"PHE:CD2":0,"PHE:CE1":0,"PHE:CE2":0,"PHE:CZ":0,"PHE:C":.6,"PHE:O":-.55,"PRO:N":-.25,"PRO:CD":.1,"PRO:CA":.1,"PRO:CB":0,"PRO:CG":0,"PRO:C":.6,"PRO:O":-.55,"SER:N":-.15,"SER:CA":.1,"SER:CB":.25,"SER:OG":-.25,"SER:C":.6,"SER:O":-.55,"THR:N":-.15,"THR:CA":.1,"THR:CB":.25,"THR:OG1":-.25,"THR:CG2":0,"THR:C":.6,"THR:O":-.55,"TRP:N":-.15,"TRP:CA":.1,"TRP:CB":0,"TRP:CG":-.03,"TRP:CD2":.1,"TRP:CE2":-.04,"TRP:CE3":-.03,"TRP:CD1":.06,"TRP:NE1":-.06,"TRP:CZ2":0,"TRP:CZ3":0,"TRP:CH2":0,"TRP:C":.6,"TRP:O":-.55,"TYR:N":-.15,"TYR:CA":.1,"TYR:CB":0,"TYR:CG":0,"TYR:CD1":0,"TYR:CE1":0,"TYR:CD2":0,"TYR:CE2":0,"TYR:CZ":.25,"TYR:OH":-.25,"TYR:C":.6,"TYR:O":-.55,"VAL:N":-.15,"VAL:CA":.1,"VAL:CB":0,"VAL:CG1":0,"VAL:CG2":0,"VAL:C":.6,"VAL:O":-.55};function d(g,b){if((!b||typeof g.partialCharge>"u")&&g.resn&&g.atom){var _=g.resn+":"+g.atom;g.properties.partialCharge=c[_]}}},"./src/specs.ts":(e,o,a)=>{a.r(o)},"./src/utilities.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{PausableTimer:()=>PausableTimer,adjustVolumeStyle:()=>adjustVolumeStyle,base64ToArray:()=>base64ToArray,deepCopy:()=>deepCopy,download:()=>download,extend:()=>extend,get:()=>get,getAtomProperty:()=>getAtomProperty,getColorFromStyle:()=>getColorFromStyle,getElement:()=>getElement,getExtent:()=>getExtent,getPropertyRange:()=>getPropertyRange,getbin:()=>getbin,inflateString:()=>inflateString,isEmptyObject:()=>isEmptyObject,isNumeric:()=>isNumeric,makeFunction:()=>makeFunction,mergeGeos:()=>mergeGeos,specStringToObject:()=>specStringToObject});var _Gradient__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/Gradient.ts"),_VolumeData__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/VolumeData.ts"),_colors__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/colors.ts"),pako__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/pako/dist/pako.esm.mjs");function extend(e,o){for(var a in o)o.hasOwnProperty(a)&&o[a]!==void 0&&(e[a]=o[a]);return e}function deepCopy(e){let o,a,c;if(e==null)return{};if(typeof e!="object"||e===null)return e;o=Array.isArray(e)?[]:{};for(c in e)a=e[c],o[c]=deepCopy(a);return o}function isNumeric(e){var o=typeof e;return(o==="number"||o==="string")&&!isNaN(e-parseFloat(e))}function isEmptyObject(e){return Object.keys(e).length===0}function makeFunction(callback){return callback&&typeof callback=="string"&&(callback=eval("("+callback+")")),callback&&typeof callback!="function"?(console.warn("Invalid callback provided."),()=>{}):callback}function adjustVolumeStyle(e){e&&(e.volformat&&!(e.voldata instanceof _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData)&&(e.voldata=new _VolumeData__WEBPACK_IMPORTED_MODULE_1__.VolumeData(e.voldata,e.volformat)),e.volscheme&&(e.volscheme=_Gradient__WEBPACK_IMPORTED_MODULE_0__.Gradient.getGradient(e.volscheme)))}function getExtent(e,o){var a,c,d,g,b,_,$,j,rt,nt,st=!o;if(a=c=d=9999,g=b=_=-9999,$=j=rt=nt=0,e.length===0)return[[0,0,0],[0,0,0],[0,0,0]];for(var jt=0;jt<e.length;jt++){var wl=e[jt];if(!(typeof wl>"u"||!isFinite(wl.x)||!isFinite(wl.y)||!isFinite(wl.z))&&(nt++,$+=wl.x,j+=wl.y,rt+=wl.z,a=a<wl.x?a:wl.x,c=c<wl.y?c:wl.y,d=d<wl.z?d:wl.z,g=g>wl.x?g:wl.x,b=b>wl.y?b:wl.y,_=_>wl.z?_:wl.z,wl.symmetries&&st))for(var Ft=0;Ft<wl.symmetries.length;Ft++)nt++,$+=wl.symmetries[Ft].x,j+=wl.symmetries[Ft].y,rt+=wl.symmetries[Ft].z,a=a<wl.symmetries[Ft].x?a:wl.symmetries[Ft].x,c=c<wl.symmetries[Ft].y?c:wl.symmetries[Ft].y,d=d<wl.symmetries[Ft].z?d:wl.symmetries[Ft].z,g=g>wl.symmetries[Ft].x?g:wl.symmetries[Ft].x,b=b>wl.symmetries[Ft].y?b:wl.symmetries[Ft].y,_=_>wl.symmetries[Ft].z?_:wl.symmetries[Ft].z}return[[a,c,d],[g,b,_],[$/nt,j/nt,rt/nt]]}function getPropertyRange(e,o){for(var a=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=0,g=e.length;d<g;d++){var b=e[d],_=getAtomProperty(b,o);_!=null&&(_<a&&(a=_),_>c&&(c=_))}return!isFinite(a)&&!isFinite(c)?a=c=0:isFinite(a)?isFinite(c)||(c=a):a=c,[a,c]}class PausableTimer{constructor(o,a,c){this.total_time_run=0,this.fn=o,this.arg=c,this.countdown=a,this.start_time=new Date().getTime(),this.ident=setTimeout(o,a,c)}cancel(){clearTimeout(this.ident)}pause(){clearTimeout(this.ident),this.total_time_run=new Date().getTime()-this.start_time}resume(){this.ident=setTimeout(this.fn,Math.max(0,this.countdown-this.total_time_run),this.arg)}}function base64ToArray(e){for(var o=window.atob(e),a=o.length,c=new Uint8Array(a),d=0;d<a;d++)c[d]=o.charCodeAt(d);return c}function getAtomProperty(e,o){var a=null;return e.properties&&typeof e.properties[o]<"u"?a=e.properties[o]:typeof e[o]<"u"&&(a=e[o]),a}function mergeGeos(e,o){var a=o.geometry;a!==void 0&&e.geometryGroups.push(a.geometryGroups[0])}function specStringToObject(e){if(typeof e=="object"||typeof e>"u"||e==null)return e;try{return JSON.parse(e)}catch{}e=e.replace(/%7E/g,"~");var o=function(st){return isNumeric(st)?Math.floor(parseFloat(st))==parseInt(st)||st.indexOf(".")>=0?parseFloat(st):parseInt(st):st==="true"?!0:st==="false"?!1:st},a={};if(e==="all")return a;for(var c=e.split(";"),d=0;d<c.length;d++){var g=c[d].split(":"),b=g[0],_={},$=g[1];if($)if($=$.replace(/~/g,"="),$.indexOf("=")!==-1)for(var j=$.split(","),rt=0;rt<j.length;rt++){var nt=j[rt].split("=",2);_[nt[0]]=o(nt[1])}else $.indexOf(",")!==-1?_=$.split(","):_=o($);a[b]=_}return a}function checkStatus(e){if(!e.ok)throw new Error(`HTTP ${e.status} - ${e.statusText}`);return e}function get(e,o){var a=fetch(e).then(checkStatus).then(c=>c.text());return o?a.then(o):a}function getbin(e,o,a,c){var d;return a=="POST"?d=fetch(e,{method:"POST",body:c}).then(g=>checkStatus(g)).then(g=>g.arrayBuffer()):d=fetch(e).then(g=>checkStatus(g)).then(g=>g.arrayBuffer()),o?d.then(o):d}function download(e,o,a,c){var d="",g="",b="",_=null,$=o.addModel();if(e.indexOf(":")<0&&(e.length==4?e="pdb:"+e:isNaN(e)?e="url:"+e:e="cid:"+e),e.substring(0,5)=="mmtf:"&&(console.warn("WARNING: MMTF now deprecated.  Reverting to bcif."),e="bcif:"+e.slice(5)),e.substring(0,5)==="bcif:")e=e.substring(5).toUpperCase(),b="https://models.rcsb.org/"+e+".bcif.gz",a&&typeof a.noComputeSecondaryStructure>"u"&&(a.noComputeSecondaryStructure=!0),_=new Promise(function(rt){getbin(b).then(function(nt){$.addMolData(nt,"bcif.gz",a),o.zoomTo(),o.render(),rt($)},function(){console.error("fetch of "+b+" failed.")})});else{if(e.substring(0,4)==="pdb:"){if(d="bcif",a&&a.format&&(d=a.format),a&&typeof a.noComputeSecondaryStructure>"u"&&(a.noComputeSecondaryStructure=!0),e=e.substring(4).toUpperCase(),!e.match(/^[1-9][A-Za-z0-9]{3}$/)){alert("Wrong PDB ID");return}d=="bcif"?b="https://models.rcsb.org/"+e.toUpperCase()+".bcif.gz":(g=a&&a.pdbUri?a.pdbUri:"https://files.rcsb.org/view/",b=g+e+"."+d)}else if(e.substring(0,4)=="cid:"){if(d="sdf",e=e.substring(4),!e.match(/^[0-9]+$/)){alert("Wrong Compound ID");return}b="https://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+e+"/SDF?record_type=3d"}else e.substring(0,4)=="url:"&&(b=e.substring(4),d=b);var j=function(rt){$.addMolData(rt,d,a),o.zoomTo(),o.render()};_=new Promise(function(rt){d=="bcif"?getbin(b).then(function(nt){j(nt),rt($)}).catch(function(){g=a&&a.pdbUri?a.pdbUri:"https://files.rcsb.org/view/",b=g+e+".pdb",d="pdb",console.warn("falling back to pdb format"),get(b).then(function(nt){j(nt),rt($)}).catch(function(nt){j(""),rt($),console.error("fetch of "+b+" failed: "+nt.statusText)})}):get(b).then(function(nt){j(nt),rt($)}).catch(function(nt){j(""),rt($),console.error("fetch of "+b+" failed: "+nt.statusText)})})}return c?(_.then(function(rt){c(rt)}),$):_}function getColorFromStyle(e,o){let a=o.colorscheme;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[a]<"u")a=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[a];else if(typeof a=="string"&&a.endsWith("Carbon")){let g=a.substring(0,a.lastIndexOf("Carbon")).toLowerCase();if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[g]<"u"){let b=Object.assign({},_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors.defaultColors);b.C=_colors__WEBPACK_IMPORTED_MODULE_2__.htmlColors[g],_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[a]={prop:"elem",map:b},a=_colors__WEBPACK_IMPORTED_MODULE_2__.builtinColorSchemes[a]}}let c=e.color;if(typeof o.color<"u"&&o.color!="spectrum"&&(c=o.color),typeof a<"u"){let g,b;if(typeof _colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[a]<"u")a=_colors__WEBPACK_IMPORTED_MODULE_2__.elementColors[a],typeof a[e[a.prop]]<"u"&&(c=a.map[e[a.prop]]);else if(typeof a[e[a.prop]]<"u")c=a.map[e[a.prop]];else if(typeof a.prop<"u"&&typeof a.gradient<"u"){g=a.prop;var d=a.gradient;d instanceof _Gradient__WEBPACK_IMPORTED_MODULE_0__.GradientType||(d=(0,_Gradient__WEBPACK_IMPORTED_MODULE_0__.getGradient)(a));let _=d.range()||[-1,1];b=getAtomProperty(e,g),b!=null&&(c=d.valueToHex(b,_))}else typeof a.prop<"u"&&typeof a.map<"u"?(g=a.prop,b=getAtomProperty(e,g),typeof a.map[b]<"u"&&(c=a.map[b])):typeof o.colorscheme[e.elem]<"u"?c=o.colorscheme[e.elem]:console.warn("Could not interpret colorscheme "+a)}else typeof o.colorfunc<"u"&&(c=o.colorfunc(e));return _colors__WEBPACK_IMPORTED_MODULE_2__.CC.color(c)}function getElement(e){let o=e;return typeof e=="string"?o=document.querySelector("#"+e):typeof e=="object"&&e.get&&(o=e.get(0)),o}function inflateString(e,o=!0){let a;return typeof e=="string"?a=new TextEncoder().encode(e):a=new Uint8Array(e),(0,pako__WEBPACK_IMPORTED_MODULE_3__.inflate)(a,{to:o?"string":null})}},"./src/vendor/mmtf.js":function(e,o){(function(a,c){c(o)})(this,function(a){function c(Pp,Yp,o0){for(var W0=(Pp.byteLength,0),G0=o0.length;G0>W0;W0++){var Em=o0.charCodeAt(W0);if(128>Em)Pp.setUint8(Yp++,Em>>>0&127|0);else if(2048>Em)Pp.setUint8(Yp++,Em>>>6&31|192),Pp.setUint8(Yp++,Em>>>0&63|128);else if(65536>Em)Pp.setUint8(Yp++,Em>>>12&15|224),Pp.setUint8(Yp++,Em>>>6&63|128),Pp.setUint8(Yp++,Em>>>0&63|128);else{if(!(1114112>Em))throw new Error("bad codepoint "+Em);Pp.setUint8(Yp++,Em>>>18&7|240),Pp.setUint8(Yp++,Em>>>12&63|128),Pp.setUint8(Yp++,Em>>>6&63|128),Pp.setUint8(Yp++,Em>>>0&63|128)}}}function d(Pp){for(var Yp=0,o0=0,W0=Pp.length;W0>o0;o0++){var G0=Pp.charCodeAt(o0);if(128>G0)Yp+=1;else if(2048>G0)Yp+=2;else if(65536>G0)Yp+=3;else{if(!(1114112>G0))throw new Error("bad codepoint "+G0);Yp+=4}}return Yp}function g(Pp,Yp,o0){var W0=typeof Pp;if(W0==="string"){var G0=d(Pp);if(32>G0)return Yp.setUint8(o0,160|G0),c(Yp,o0+1,Pp),1+G0;if(256>G0)return Yp.setUint8(o0,217),Yp.setUint8(o0+1,G0),c(Yp,o0+2,Pp),2+G0;if(65536>G0)return Yp.setUint8(o0,218),Yp.setUint16(o0+1,G0),c(Yp,o0+3,Pp),3+G0;if(4294967296>G0)return Yp.setUint8(o0,219),Yp.setUint32(o0+1,G0),c(Yp,o0+5,Pp),5+G0}if(Pp instanceof Uint8Array){var G0=Pp.byteLength,Em=new Uint8Array(Yp.buffer);if(256>G0)return Yp.setUint8(o0,196),Yp.setUint8(o0+1,G0),Em.set(Pp,o0+2),2+G0;if(65536>G0)return Yp.setUint8(o0,197),Yp.setUint16(o0+1,G0),Em.set(Pp,o0+3),3+G0;if(4294967296>G0)return Yp.setUint8(o0,198),Yp.setUint32(o0+1,G0),Em.set(Pp,o0+5),5+G0}if(W0==="number"){if(!isFinite(Pp))throw new Error("Number not finite: "+Pp);if(Math.floor(Pp)!==Pp)return Yp.setUint8(o0,203),Yp.setFloat64(o0+1,Pp),9;if(Pp>=0){if(128>Pp)return Yp.setUint8(o0,Pp),1;if(256>Pp)return Yp.setUint8(o0,204),Yp.setUint8(o0+1,Pp),2;if(65536>Pp)return Yp.setUint8(o0,205),Yp.setUint16(o0+1,Pp),3;if(4294967296>Pp)return Yp.setUint8(o0,206),Yp.setUint32(o0+1,Pp),5;throw new Error("Number too big 0x"+Pp.toString(16))}if(Pp>=-32)return Yp.setInt8(o0,Pp),1;if(Pp>=-128)return Yp.setUint8(o0,208),Yp.setInt8(o0+1,Pp),2;if(Pp>=-32768)return Yp.setUint8(o0,209),Yp.setInt16(o0+1,Pp),3;if(Pp>=-2147483648)return Yp.setUint8(o0,210),Yp.setInt32(o0+1,Pp),5;throw new Error("Number too small -0x"+(-Pp).toString(16).substr(1))}if(Pp===null)return Yp.setUint8(o0,192),1;if(W0==="boolean")return Yp.setUint8(o0,Pp?195:194),1;if(W0==="object"){var G0,j0=0,hm=Array.isArray(Pp);if(hm)G0=Pp.length;else{var Vp=Object.keys(Pp);G0=Vp.length}var j0;if(16>G0?(Yp.setUint8(o0,G0|(hm?144:128)),j0=1):65536>G0?(Yp.setUint8(o0,hm?220:222),Yp.setUint16(o0+1,G0),j0=3):4294967296>G0&&(Yp.setUint8(o0,hm?221:223),Yp.setUint32(o0+1,G0),j0=5),hm)for(var Q0=0;G0>Q0;Q0++)j0+=g(Pp[Q0],Yp,o0+j0);else for(var Q0=0;G0>Q0;Q0++){var Cm=Vp[Q0];j0+=g(Cm,Yp,o0+j0),j0+=g(Pp[Cm],Yp,o0+j0)}return j0}throw new Error("Unknown type "+W0)}function b(Pp){var Yp=typeof Pp;if(Yp==="string"){var o0=d(Pp);if(32>o0)return 1+o0;if(256>o0)return 2+o0;if(65536>o0)return 3+o0;if(4294967296>o0)return 5+o0}if(Pp instanceof Uint8Array){var o0=Pp.byteLength;if(256>o0)return 2+o0;if(65536>o0)return 3+o0;if(4294967296>o0)return 5+o0}if(Yp==="number"){if(Math.floor(Pp)!==Pp)return 9;if(Pp>=0){if(128>Pp)return 1;if(256>Pp)return 2;if(65536>Pp)return 3;if(4294967296>Pp)return 5;throw new Error("Number too big 0x"+Pp.toString(16))}if(Pp>=-32)return 1;if(Pp>=-128)return 2;if(Pp>=-32768)return 3;if(Pp>=-2147483648)return 5;throw new Error("Number too small -0x"+Pp.toString(16).substr(1))}if(Yp==="boolean"||Pp===null)return 1;if(Yp==="object"){var o0,W0=0;if(Array.isArray(Pp)){o0=Pp.length;for(var G0=0;o0>G0;G0++)W0+=b(Pp[G0])}else{var Em=Object.keys(Pp);o0=Em.length;for(var G0=0;o0>G0;G0++){var hm=Em[G0];W0+=b(hm)+b(Pp[hm])}}if(16>o0)return 1+W0;if(65536>o0)return 3+W0;if(4294967296>o0)return 5+W0;throw new Error("Array or object too long 0x"+o0.toString(16))}throw new Error("Unknown type "+Yp)}function _(Pp){var Yp=new ArrayBuffer(b(Pp)),o0=new DataView(Yp);return g(Pp,o0,0),new Uint8Array(Yp)}function $(Pp,Yp,o0){return Yp?new Pp(Yp.buffer,Yp.byteOffset,Yp.byteLength/(o0||1)):void 0}function j(Pp){return $(DataView,Pp)}function rt(Pp){return $(Uint8Array,Pp)}function nt(Pp){return $(Int8Array,Pp)}function st(Pp){return $(Int32Array,Pp,4)}function jt(Pp){return $(Float32Array,Pp,4)}function wl(Pp,Yp){var o0=Pp.length/2;Yp||(Yp=new Int16Array(o0));for(var W0=0,G0=0;o0>W0;++W0,G0+=2)Yp[W0]=Pp[G0]<<8^Pp[G0+1]<<0;return Yp}function Ft(Pp,Yp){var o0=Pp.length;Yp||(Yp=new Uint8Array(2*o0));for(var W0=j(Yp),G0=0;o0>G0;++G0)W0.setInt16(2*G0,Pp[G0]);return rt(Yp)}function it(Pp,Yp){var o0=Pp.length/4;Yp||(Yp=new Int32Array(o0));for(var W0=0,G0=0;o0>W0;++W0,G0+=4)Yp[W0]=Pp[G0]<<24^Pp[G0+1]<<16^Pp[G0+2]<<8^Pp[G0+3]<<0;return Yp}function ot(Pp,Yp){var o0=Pp.length;Yp||(Yp=new Uint8Array(4*o0));for(var W0=j(Yp),G0=0;o0>G0;++G0)W0.setInt32(4*G0,Pp[G0]);return rt(Yp)}function Ln(Pp,Yp){var o0=Pp.length;Yp||(Yp=new Float32Array(o0/4));for(var W0=j(Yp),G0=j(Pp),Em=0,hm=0,Vp=o0/4;Vp>Em;++Em,hm+=4)W0.setFloat32(hm,G0.getFloat32(hm),!0);return Yp}function Cl(Pp,Yp,o0){var W0=Pp.length,G0=1/Yp;o0||(o0=new Float32Array(W0));for(var Em=0;W0>Em;++Em)o0[Em]=Pp[Em]*G0;return o0}function Tl(Pp,Yp,o0){var W0=Pp.length;o0||(o0=new Int32Array(W0));for(var G0=0;W0>G0;++G0)o0[G0]=Math.round(Pp[G0]*Yp);return o0}function zl(Pp,Yp){var o0,W0;if(!Yp){var G0=0;for(o0=0,W0=Pp.length;W0>o0;o0+=2)G0+=Pp[o0+1];Yp=new Pp.constructor(G0)}var Em=0;for(o0=0,W0=Pp.length;W0>o0;o0+=2)for(var hm=Pp[o0],Vp=Pp[o0+1],j0=0;Vp>j0;++j0)Yp[Em]=hm,++Em;return Yp}function In(Pp){if(Pp.length===0)return new Int32Array;var Yp,o0,W0=2;for(Yp=1,o0=Pp.length;o0>Yp;++Yp)Pp[Yp-1]!==Pp[Yp]&&(W0+=2);var G0=new Int32Array(W0),Em=0,hm=1;for(Yp=1,o0=Pp.length;o0>Yp;++Yp)Pp[Yp-1]!==Pp[Yp]?(G0[Em]=Pp[Yp-1],G0[Em+1]=hm,hm=1,Em+=2):++hm;return G0[Em]=Pp[Pp.length-1],G0[Em+1]=hm,G0}function Ml(Pp,Yp){var o0=Pp.length;Yp||(Yp=new Pp.constructor(o0)),o0&&(Yp[0]=Pp[0]);for(var W0=1;o0>W0;++W0)Yp[W0]=Pp[W0]+Yp[W0-1];return Yp}function Dl(Pp,Yp){var o0=Pp.length;Yp||(Yp=new Pp.constructor(o0)),Yp[0]=Pp[0];for(var W0=1;o0>W0;++W0)Yp[W0]=Pp[W0]-Pp[W0-1];return Yp}function Ul(Pp,Yp){var o0,W0,G0=Pp instanceof Int8Array?127:32767,Em=-G0-1,hm=Pp.length;if(!Yp){var Vp=0;for(o0=0;hm>o0;++o0)Pp[o0]<G0&&Pp[o0]>Em&&++Vp;Yp=new Int32Array(Vp)}for(o0=0,W0=0;hm>o0;){for(var j0=0;Pp[o0]===G0||Pp[o0]===Em;)j0+=Pp[o0],++o0;j0+=Pp[o0],++o0,Yp[W0]=j0,++W0}return Yp}function Vl(Pp,Yp){var o0,W0=32767,G0=-W0-1,Em=Pp.length,hm=0;for(o0=0;Em>o0;++o0){var Vp=Pp[o0];Vp===0?++hm:Vp>0?(hm+=Math.ceil(Vp/W0),Vp%W0===0&&(hm+=1)):(hm+=Math.ceil(Vp/G0),Vp%G0===0&&(hm+=1))}var j0=new Int16Array(hm),Q0=0;for(o0=0;Em>o0;++o0){var Vp=Pp[o0];if(Vp>=0)for(;Vp>=W0;)j0[Q0]=W0,++Q0,Vp-=W0;else for(;G0>=Vp;)j0[Q0]=G0,++Q0,Vp-=G0;j0[Q0]=Vp,++Q0}return j0}function mu(Pp,Yp){return Ml(zl(Pp),Yp)}function rp(Pp){return In(Dl(Pp))}function Ju(Pp,Yp,o0){return Cl(zl(Pp,st(o0)),Yp,o0)}function cp(Pp,Yp){return In(Tl(Pp,Yp))}function hp(Pp,Yp,o0){return Cl(Ml(Pp,st(o0)),Yp,o0)}function yp(Pp,Yp,o0){return Dl(Tl(Pp,Yp),o0)}function xp(Pp,Yp,o0){return Cl(Ul(Pp,st(o0)),Yp,o0)}function fp(Pp,Yp,o0){var W0=Ul(Pp,st(o0));return hp(W0,Yp,jt(W0))}function _p(Pp,Yp,o0){return Vl(yp(Pp,Yp))}function ip(Em){var Yp=j(Em),o0=Yp.getInt32(0),W0=Yp.getInt32(4),G0=Em.subarray(8,12),Em=Em.subarray(12);return[o0,Em,W0,G0]}function gp(Pp,Yp,o0,W0){var G0=new ArrayBuffer(12+W0.byteLength),Em=new Uint8Array(G0),hm=new DataView(G0);return hm.setInt32(0,Pp),hm.setInt32(4,Yp),o0&&Em.set(o0,8),Em.set(W0,12),Em}function Dp(Pp){var Yp=Pp.length,o0=rt(Pp);return gp(2,Yp,void 0,o0)}function Fp(Pp){var Yp=Pp.length,o0=ot(Pp);return gp(4,Yp,void 0,o0)}function n0(Pp,Yp){var o0=Pp.length/Yp,W0=ot([Yp]),G0=rt(Pp);return gp(5,o0,W0,G0)}function S0(Pp){var Yp=Pp.length,o0=ot(In(Pp));return gp(6,Yp,void 0,o0)}function C0(Pp){var Yp=Pp.length,o0=ot(rp(Pp));return gp(8,Yp,void 0,o0)}function P0(Pp,Yp){var o0=Pp.length,W0=ot([Yp]),G0=ot(cp(Pp,Yp));return gp(9,o0,W0,G0)}function k0(Pp,Yp){var o0=Pp.length,W0=ot([Yp]),G0=Ft(_p(Pp,Yp));return gp(10,o0,W0,G0)}function T0(Pp){var Yp={};return Dm.forEach(function(o0){Pp[o0]!==void 0&&(Yp[o0]=Pp[o0])}),Pp.bondAtomList&&(Yp.bondAtomList=Fp(Pp.bondAtomList)),Pp.bondOrderList&&(Yp.bondOrderList=Dp(Pp.bondOrderList)),Yp.xCoordList=k0(Pp.xCoordList,1e3),Yp.yCoordList=k0(Pp.yCoordList,1e3),Yp.zCoordList=k0(Pp.zCoordList,1e3),Pp.bFactorList&&(Yp.bFactorList=k0(Pp.bFactorList,100)),Pp.atomIdList&&(Yp.atomIdList=C0(Pp.atomIdList)),Pp.altLocList&&(Yp.altLocList=S0(Pp.altLocList)),Pp.occupancyList&&(Yp.occupancyList=P0(Pp.occupancyList,100)),Yp.groupIdList=C0(Pp.groupIdList),Yp.groupTypeList=Fp(Pp.groupTypeList),Pp.secStructList&&(Yp.secStructList=Dp(Pp.secStructList)),Pp.insCodeList&&(Yp.insCodeList=S0(Pp.insCodeList)),Pp.sequenceIndexList&&(Yp.sequenceIndexList=C0(Pp.sequenceIndexList)),Yp.chainIdList=n0(Pp.chainIdList,4),Pp.chainNameList&&(Yp.chainNameList=n0(Pp.chainNameList,4)),Yp}function im(Pp){function Yp(j0){for(var Q0={},Cm=0;j0>Cm;Cm++){var z0=Em();Q0[z0]=Em()}return Q0}function o0(j0){var Q0=Pp.subarray(hm,hm+j0);return hm+=j0,Q0}function W0(j0){var Q0=Pp.subarray(hm,hm+j0);hm+=j0;var Cm=65535;if(j0>Cm){for(var z0=[],gm=0;gm<Q0.length;gm+=Cm)z0.push(String.fromCharCode.apply(null,Q0.subarray(gm,gm+Cm)));return z0.join("")}return String.fromCharCode.apply(null,Q0)}function G0(j0){for(var Q0=new Array(j0),Cm=0;j0>Cm;Cm++)Q0[Cm]=Em();return Q0}function Em(){var j0,Q0,Cm=Pp[hm];if(!(128&Cm))return hm++,Cm;if((240&Cm)===128)return Q0=15&Cm,hm++,Yp(Q0);if((240&Cm)===144)return Q0=15&Cm,hm++,G0(Q0);if((224&Cm)===160)return Q0=31&Cm,hm++,W0(Q0);if((224&Cm)===224)return j0=Vp.getInt8(hm),hm++,j0;switch(Cm){case 192:return hm++,null;case 194:return hm++,!1;case 195:return hm++,!0;case 196:return Q0=Vp.getUint8(hm+1),hm+=2,o0(Q0);case 197:return Q0=Vp.getUint16(hm+1),hm+=3,o0(Q0);case 198:return Q0=Vp.getUint32(hm+1),hm+=5,o0(Q0);case 202:return j0=Vp.getFloat32(hm+1),hm+=5,j0;case 203:return j0=Vp.getFloat64(hm+1),hm+=9,j0;case 204:return j0=Pp[hm+1],hm+=2,j0;case 205:return j0=Vp.getUint16(hm+1),hm+=3,j0;case 206:return j0=Vp.getUint32(hm+1),hm+=5,j0;case 208:return j0=Vp.getInt8(hm+1),hm+=2,j0;case 209:return j0=Vp.getInt16(hm+1),hm+=3,j0;case 210:return j0=Vp.getInt32(hm+1),hm+=5,j0;case 217:return Q0=Vp.getUint8(hm+1),hm+=2,W0(Q0);case 218:return Q0=Vp.getUint16(hm+1),hm+=3,W0(Q0);case 219:return Q0=Vp.getUint32(hm+1),hm+=5,W0(Q0);case 220:return Q0=Vp.getUint16(hm+1),hm+=3,G0(Q0);case 221:return Q0=Vp.getUint32(hm+1),hm+=5,G0(Q0);case 222:return Q0=Vp.getUint16(hm+1),hm+=3,Yp(Q0);case 223:return Q0=Vp.getUint32(hm+1),hm+=5,Yp(Q0)}throw new Error("Unknown type 0x"+Cm.toString(16))}var hm=0,Vp=new DataView(Pp.buffer);return Em()}function am(Pp,Yp,o0,W0){switch(Pp){case 1:return Ln(Yp);case 2:return nt(Yp);case 3:return wl(Yp);case 4:return it(Yp);case 5:return rt(Yp);case 6:return zl(it(Yp),new Uint8Array(o0));case 7:return zl(it(Yp));case 8:return mu(it(Yp));case 9:return Ju(it(Yp),it(W0)[0]);case 10:return fp(wl(Yp),it(W0)[0]);case 11:return Cl(wl(Yp),it(W0)[0]);case 12:return xp(wl(Yp),it(W0)[0]);case 13:return xp(nt(Yp),it(W0)[0]);case 14:return Ul(wl(Yp));case 15:return Ul(nt(Yp))}}function bm(Pp,Yp){Yp=Yp||{};var o0=Yp.ignoreFields,W0={};return Om.forEach(function(G0){var Em=o0?o0.indexOf(G0)!==-1:!1,hm=Pp[G0];Em||hm===void 0||(hm instanceof Uint8Array?W0[G0]=am.apply(null,ip(hm)):W0[G0]=hm)}),W0}function _g(Pp){return String.fromCharCode.apply(null,Pp).replace(/\0/g,"")}function b0(Pp,Yp,o0){o0=o0||{};var W0,G0,Em,hm,Vp,j0,Q0=o0.firstModelOnly,Cm=Yp.onModel,z0=Yp.onChain,gm=Yp.onGroup,Kp=Yp.onAtom,xm=Yp.onBond,$m=0,pp=0,tm=0,em=0,Gp=0,O0=-1,lm=Pp.chainNameList,o1=Pp.secStructList,i1=Pp.insCodeList,a1=Pp.sequenceIndexList,w1=Pp.atomIdList,wv=Pp.bFactorList,P1=Pp.altLocList,R1=Pp.occupancyList,j1=Pp.bondAtomList,yv=Pp.bondOrderList;for(W0=0,G0=Pp.chainsPerModel.length;G0>W0&&!(Q0&&$m>0);++W0){var Rv=Pp.chainsPerModel[$m];for(Cm&&Cm({chainCount:Rv,modelIndex:$m}),Em=0;Rv>Em;++Em){var Dy=Pp.groupsPerChain[pp];if(z0){var Vy=_g(Pp.chainIdList.subarray(4*pp,4*pp+4)),dv=null;lm&&(dv=_g(lm.subarray(4*pp,4*pp+4))),z0({groupCount:Dy,chainIndex:pp,modelIndex:$m,chainId:Vy,chainName:dv})}for(hm=0;Dy>hm;++hm){var bv=Pp.groupList[Pp.groupTypeList[tm]],Cv=bv.atomNameList.length;if(gm){var ay=null;o1&&(ay=o1[tm]);var vm=null;Pp.insCodeList&&(vm=String.fromCharCode(i1[tm]));var Sy=null;a1&&(Sy=a1[tm]),gm({atomCount:Cv,groupIndex:tm,chainIndex:pp,modelIndex:$m,groupId:Pp.groupIdList[tm],groupType:Pp.groupTypeList[tm],groupName:bv.groupName,singleLetterCode:bv.singleLetterCode,chemCompType:bv.chemCompType,secStruct:ay,insCode:vm,sequenceIndex:Sy})}for(Vp=0;Cv>Vp;++Vp){if(Kp){var w2=null;w1&&(w2=w1[em]);var C2=null;wv&&(C2=wv[em]);var c2=null;P1&&(c2=String.fromCharCode(P1[em]));var Ly=null;R1&&(Ly=R1[em]),Kp({atomIndex:em,groupIndex:tm,chainIndex:pp,modelIndex:$m,atomId:w2,element:bv.elementList[Vp],atomName:bv.atomNameList[Vp],formalCharge:bv.formalChargeList[Vp],xCoord:Pp.xCoordList[em],yCoord:Pp.yCoordList[em],zCoord:Pp.zCoordList[em],bFactor:C2,altLoc:c2,occupancy:Ly})}em+=1}if(xm){var B2=bv.bondAtomList;for(Vp=0,j0=bv.bondOrderList.length;j0>Vp;++Vp)xm({atomIndex1:em-Cv+B2[2*Vp],atomIndex2:em-Cv+B2[2*Vp+1],bondOrder:bv.bondOrderList[Vp]})}tm+=1}pp+=1}if(Gp=O0+1,O0=em-1,xm&&j1)for(Vp=0,j0=j1.length;j0>Vp;Vp+=2){var u2=j1[Vp],Oy=j1[Vp+1];(u2>=Gp&&O0>=u2||Oy>=Gp&&O0>=Oy)&&xm({atomIndex1:u2,atomIndex2:Oy,bondOrder:yv?yv[Vp/2]:null})}$m+=1}}function U0(Pp){return _(T0(Pp))}function mm(Pp,Yp){Pp instanceof ArrayBuffer&&(Pp=new Uint8Array(Pp));var o0;return o0=Pp instanceof Uint8Array?im(Pp):Pp,bm(o0,Yp)}function Lm(Pp,Yp,o0,W0){function G0(){try{var hm=mm(Em.response);o0(hm)}catch(Vp){W0(Vp)}}var Em=new XMLHttpRequest;Em.addEventListener("load",G0,!0),Em.addEventListener("error",W0,!0),Em.responseType="arraybuffer",Em.open("GET",Yp+Pp.toUpperCase()),Em.send()}function Um(Pp,Yp,o0){Lm(Pp,Jm,Yp,o0)}function Hm(Pp,Yp,o0){Lm(Pp,B0,Yp,o0)}var Dm=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"],Nm=["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"],Om=Dm.concat(Nm),Mm="v1.0.1",cm="//mmtf.rcsb.org/v1.0/",Jm=cm+"full/",B0=cm+"reduced/";a.encode=U0,a.decode=mm,a.traverse=b0,a.fetch=Um,a.fetchReduced=Hm,a.version=Mm,a.fetchUrl=Jm,a.fetchReducedUrl=B0,a.encodeMsgpack=_,a.encodeMmtf=T0,a.decodeMsgpack=im,a.decodeMmtf=bm})}},__webpack_module_cache__={};function __webpack_require__(e){var o=__webpack_module_cache__[e];if(o!==void 0)return o.exports;var a=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(a.exports,a,a.exports,__webpack_require__),a.exports}__webpack_require__.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(o,{a:o}),o},__webpack_require__.d=(e,o)=>{for(var a in o)__webpack_require__.o(o,a)&&!__webpack_require__.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:o[a]})},__webpack_require__.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),__webpack_require__.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__("./src/index.ts"),__webpack_require__("./src/SurfaceWorker.js");var __webpack_exports__=__webpack_require__("./src/exporter.js");return __webpack_exports__})())})(_3Dmol);var _3DmolExports=_3Dmol.exports;const covalentRadii={H:.31,He:.28,Li:1.28,Be:.96,B:.84,C:.76,N:.71,O:.66,F:.57,Ne:.58,Na:1.66,Mg:1.41,Al:1.21,Si:1.11,P:1.07,S:1.05,Cl:1.02,Ar:1.06,K:2.03,Ca:1.76,Sc:1.7,Ti:1.6,V:1.53,Cr:1.39,Mn:1.61,Fe:1.52,Co:1.5,Ni:1.24,Cu:1.32,Zn:1.22,Ga:1.22,Ge:1.2,As:1.19,Se:1.2,Br:1.2,Kr:1.16,Rb:2.2,Sr:1.95,Y:1.9,Zr:1.75,Nb:1.64,Mo:1.54,Tc:1.47,Ru:1.46,Rh:1.42,Pd:1.39,Ag:1.45,Cd:1.44,In:1.42,Sn:1.39,Sb:1.39,Te:1.38,I:1.39,Xe:1.4,Cs:2.44,Ba:2.15,La:2.07,Ce:2.04,Pr:2.03,Nd:2.01,Pm:1.99,Sm:1.98,Eu:1.98,Gd:1.96,Tb:1.94,Dy:1.92,Ho:1.92,Er:1.89,Tm:1.9,Yb:1.87,Lu:1.75,Hf:1.87,Ta:1.7,W:1.62,Re:1.51,Os:1.44,Ir:1.41,Pt:1.36,Au:1.36,Hg:1.32,Tl:1.45,Pb:1.46,Bi:1.48,Po:1.4,At:1.5,Rn:1.5,Fr:2.6,Ra:2.21,Ac:2.15,Th:2.06,Pa:2,U:1.96,Np:1.9,Pu:1.87,Am:1.8,Cm:1.69};function mod(e,o){return(e%o+o)%o}function setCustomBondLengths(){function e(o,a){_3DmolExports.setBondLength(o,a)}Object.keys(covalentRadii).forEach(o=>{e(o,1.05*covalentRadii[o])})}const Visualizer3dmol=reactExports.forwardRef(({viewerParams:e,cifText:o},a)=>{const c=reactExports.useRef(null),d=reactExports.useRef(null),g=reactExports.useRef("gldiv-"+(Math.random()+1).toString(36).substring(7));reactExports.useEffect(()=>{setCustomBondLengths()},[]);const b=()=>{if(d.current=c.current.addModel(),o){let j=_3DmolExports.Parsers.CIF(o),rt=j[0],nt=j.modelData[0].cryst;d.current.setCrystData(nt.a,nt.b,nt.c,nt.alpha,nt.beta,nt.gamma);let st=d.current.modelData.cryst.matrix,jt=new _3DmolExports.Matrix3().getInverse3(st),wl=[],Ft=[];rt.forEach(Ln=>{let Cl=new _3DmolExports.Vector3(Ln.x,Ln.y,Ln.z);if(e.packedCell){let Tl=Cl.clone().applyMatrix3(jt);Cl=new _3DmolExports.Vector3(mod(Tl.x,1),mod(Tl.y,1),mod(Tl.z,1)).applyMatrix3(st)}Ft.push({elem:Ln.elem,x:Cl.x,y:Cl.y,z:Cl.z})});let it=.03,ot=e.supercell;for(let Ln=-1;Ln<ot[0]+1;Ln++)for(let Cl=-1;Cl<ot[1]+1;Cl++)for(let Tl=-1;Tl<ot[2]+1;Tl++){let zl=new _3DmolExports.Vector3(Ln,Cl,Tl);if(zl.applyMatrix3(st),Ln==-1||Ln==ot[0]||Cl==-1||Cl==ot[1]||Tl==-1||Tl==ot[2])if(e.packedCell)Ft.forEach(In=>{let Ml=new _3DmolExports.Vector3(In.x,In.y,In.z);Ml.add(zl);let Dl=Ml.clone().applyMatrix3(jt);Dl.x>-it&&Dl.x<ot[0]+it&&Dl.y>-it&&Dl.y<ot[1]+it&&Dl.z>-it&&Dl.z<ot[2]+it&&wl.push({elem:In.elem,x:Ml.x,y:Ml.y,z:Ml.z})});else continue;else Ft.forEach(In=>{wl.push({elem:In.elem,x:In.x+zl.x,y:In.y+zl.y,z:In.z+zl.z})})}d.current.addAtoms(wl)}},_=()=>{c.current.removeAllModels(),b();let j={sphere:{scale:.3,colorscheme:"Jmol"}};e.vdwRadius&&(j.sphere.scale=1),e.bonds&&(j.stick={radius:.15,colorscheme:"Jmol"}),c.current.setStyle(j),c.current.addUnitCell(d.current),d.current.assignBonds(),c.current.removeAllLabels(),e.atomLabels&&d.current.atoms.forEach(rt=>{c.current.addLabel(rt.elem,{position:{x:rt.x,y:rt.y,z:rt.z},fontColor:"black",bold:!0,fontSize:18,showBackground:!1,backgroundOpacity:1,inFront:!0},null,!0)}),c.current.zoomTo(),c.current.zoom(1.4),c.current.render()},$=(j,rt)=>{j=="camera"&&(rt=="x"&&c.current.setView([0,0,0,0,-.5,-.5,-.5,.5]),rt=="y"&&c.current.setView([0,0,0,0,.5,.5,.5,.5]),rt=="z"&&c.current.setView([0,0,0,0,0,0,0,1]),c.current.zoomTo(),c.current.zoom(1.4))};return reactExports.useImperativeHandle(a,()=>({handleEvent:$})),reactExports.useEffect(()=>{let j={backgroundColor:"white",orthographic:!0};c.current=_3DmolExports.createViewer(g.current,j),_()},[]),reactExports.useEffect(()=>{c.current&&_()},[e,o]),jsxRuntimeExports.jsx("div",{id:g.current,className:"gldiv",children:"No data!"})});Visualizer3dmol.displayName="Visualizer3dmol";const StructureWindow=({mouseEnabled:e,setMouseEnabledState:o,visualizerRef:a,viewerParams:c,cifText:d})=>{let g="structure-window";e||(g+=" disable-mouse");let b="Click to interact",_="mouse-disabled-note";return e&&(_="mouse-disabled-note on"),jsxRuntimeExports.jsxs("div",{className:"structure-window-outer",children:[jsxRuntimeExports.jsx("div",{className:"structure-window-click-handler",onClick:()=>o(!0),children:jsxRuntimeExports.jsx("div",{className:g,children:jsxRuntimeExports.jsx(Visualizer3dmol,{ref:a,viewerParams:c,cifText:d})})}),jsxRuntimeExports.jsx("div",{className:_,onClick:()=>o(!e),children:b})]})},StructureVisualizer=e=>{const[o,a]=reactExports.useState({supercell:e.initSupercell||[2,2,2],bonds:!0,packedCell:!0,atomLabels:!1,vdwRadius:!1}),[c,d]=reactExports.useState(!1),g=reactExports.useRef(null),b=reactExports.useRef(null);reactExports.useEffect(()=>{const rt=nt=>{b&&!b.current.contains(nt.target)&&d(!1)};return document.addEventListener("mousedown",rt),()=>{document.removeEventListener("mousedown",rt)}},[]);const _=rt=>{d(rt)},$=(rt,nt)=>{a(st=>({...st,[rt]:nt}))},j=(rt,nt)=>{g.current.handleEvent(rt,nt)};return jsxRuntimeExports.jsxs("div",{ref:b,className:"structure-visualizer",children:[jsxRuntimeExports.jsx(StructureWindow,{visualizerRef:g,viewerParams:o,cifText:e.cifText,mouseEnabled:c,setMouseEnabledState:_}),jsxRuntimeExports.jsx(ControlBox,{viewerParams:o,onViewerParamChange:$,onViewerEvent:j})]})},MCInfoBox=({children:e,style:o=null})=>jsxRuntimeExports$1.jsx("div",{style:o,children:jsxRuntimeExports$1.jsx("div",{className:"mc-info-container subsection-shadow overflow-auto rounded",children:e})}),IcsdLogo="/develop/assets/icsd-CyAoXolo.png",CodLogo="/develop/assets/cod-C-fmIdgX.png",MpdsLogo="/develop/assets/mpds-CkkCkplF.png";function sourceUrl(e){return e.database=="MPDS"?`https://mpds.io/#entry/${e.id}`:e.database=="COD"?`http://www.crystallography.net/cod/${e.id}.html`:e.database=="ICSD"?`https://icsd.fiz-karlsruhe.de/linkicsd.xhtml?coll_code=${e.id}`:null}const SourceInfoText=({source:e,metadata:o})=>{var $,j,rt,nt,st,jt,wl;if(!("info"in e))return console.warn("source['info'] not present."),null;if(!("info"in o))return console.warn("metadata['info'] not present."),null;let a=[],c=[],d=(j=($=o==null?void 0:o.info)==null?void 0:$.source)==null?void 0:j.high_pressure_threshold,g=(nt=(rt=o==null?void 0:o.info)==null?void 0:rt.source)==null?void 0:nt.high_temperature_threshold;(st=e==null?void 0:e.info)!=null&&st.is_theoretical&&(a.push("theoretical origin"),c.push("is of theoretical origin")),(jt=e==null?void 0:e.info)!=null&&jt.is_high_pressure&&d&&(a.push("high pressure"),c.push(`was characterized at a pressure higher than ${d.value} ${d.unit}`)),(wl=e==null?void 0:e.info)!=null&&wl.is_high_temperature&&g&&(a.push("high temperature"),c.push(`was characterized at a temperature higher than ${g.value} ${g.unit}`));let b="";if(a.length>0&&(b=a.join("; "),b=`(${b})`),b=="")return null;for(let Ft=0;Ft<c.length;Ft++)Ft<c.length-1?c[Ft]=c[Ft]+";":c[Ft]=c[Ft]+".";const _=jsxRuntimeExports$1.jsx(Popover$1,{id:"popover-basic",children:jsxRuntimeExports$1.jsxs(Popover$1.Body,{children:["The source database reported that the source crystal",jsxRuntimeExports$1.jsx("ul",{style:{margin:"0"},children:c.map(Ft=>jsxRuntimeExports$1.jsx("li",{children:Ft},Ft))})]})});return jsxRuntimeExports$1.jsxs("div",{style:{display:"flex",gap:"5px",marginLeft:"10px",alignItems:"center"},children:[b,jsxRuntimeExports$1.jsx("div",{style:{width:"20px",height:"20px",fontSize:"14px"},children:jsxRuntimeExports$1.jsx(Eu,{popover:_,placement:"top"})})]})};function SourceInfo({sources:e,metadata:o}){const a=e[0];return jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:e.map(c=>{let d=null;return c.database=="ICSD"&&(d=IcsdLogo),c.database=="COD"&&(d=CodLogo),c.database=="MPDS"&&(d=MpdsLogo),jsxRuntimeExports$1.jsxs("li",{children:[jsxRuntimeExports$1.jsx("a",{className:"source-a",href:sourceUrl(c),title:"Go to source data",children:jsxRuntimeExports$1.jsxs("div",{style:{display:"inline-flex",gap:"5px",alignItems:"center"},children:[jsxRuntimeExports$1.jsx("img",{src:d,style:{height:"20px"}}),c.database," ID: ",c.id]})}),jsxRuntimeExports$1.jsx(SourceInfoText,{source:a,metadata:o})]},c.id)})})}function GeneralInfoBox({details:e,metadata:o,methodLabel:a}){return jsxRuntimeExports$1.jsxs(MCInfoBox,{style:{height:"450px"},children:[jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Info"}),jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{children:["Formula (IUPAC): ",Cu(e.general.formula)]}),jsxRuntimeExports$1.jsxs("li",{children:["Hill formula (full):"," ",Cu(e.general.formula_hill)]}),jsxRuntimeExports$1.jsxs("li",{children:["Bravais lattice: ",e.general.bravais_lattice]}),jsxRuntimeExports$1.jsxs("li",{children:["Space group symbol:"," ",Tu(e.general.spacegroup_international)]}),jsxRuntimeExports$1.jsxs("li",{children:["Space group number: ",e.general.spacegroup_number]})]})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Source"}),jsxRuntimeExports$1.jsx(SourceInfo,{sources:e.source,metadata:o})]}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"Properties"}),jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{children:["Total energy:"," ",format_aiida_prop(e.properties.total_energy,o.info.properties.total_energy,a,2)]}),jsxRuntimeExports$1.jsxs("li",{children:["Density:"," ",ku.calculateDensity(e.general.formula_hill,e.properties.cell_volume)," ","kg/m",jsxRuntimeExports$1.jsx("sup",{children:"3"})]}),jsxRuntimeExports$1.jsxs("li",{children:["Cell volume:"," ",format_aiida_prop(e.properties.cell_volume,o.info.properties.cell_volume,a,2)]}),jsxRuntimeExports$1.jsxs("li",{children:["Total magnetization:"," ",format_aiida_prop(e.properties.total_magnetization,o.info.properties.total_magnetization,a,2)]}),jsxRuntimeExports$1.jsxs("li",{children:["Absolute magnetization:"," ",format_aiida_prop(e.properties.absolute_magnetization,o.info.properties.absolute_magnetization,a,2)]})]})]})]})}const StructureViewerBox=({uuid:e,structureInfo:o,methodLabel:a})=>jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsxs("div",{className:"subsection-title",children:["Structure"," ",jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[a],uuid:e})]}),jsxRuntimeExports$1.jsxs("div",{className:"structure-view-box subsection-shadow",children:[jsxRuntimeExports$1.jsx(StructureVisualizer,{cifText:o.cif,initSupercell:[2,2,2]}),jsxRuntimeExports$1.jsx("div",{className:"download-button-container",children:jsxRuntimeExports$1.jsx(Au,{aiida_rest_url:AIIDA_API_URLS[a],uuid:e})})]})]});function OverviewSection({params:e,loadedData:o}){return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"section-heading",children:"General overview"}),jsxRuntimeExports$1.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports$1.jsxs(Row,{children:[jsxRuntimeExports$1.jsx(Col,{className:"flex-column",children:jsxRuntimeExports$1.jsx(StructureViewerBox,{uuid:o.details.general.structure_uuid,structureInfo:o.structureInfo,methodLabel:e.method})}),jsxRuntimeExports$1.jsx(Col,{className:"flex-column",children:jsxRuntimeExports$1.jsx("div",{style:{marginTop:"35px"},children:jsxRuntimeExports$1.jsx(GeneralInfoBox,{details:o.details,metadata:o.metadata,methodLabel:e.method})})})]})})]})}function formatIfFloat(e,o){return typeof e=="number"&&!isNaN(e)?e.toFixed(o):e}const MCTable=({headerRow:e,contents:o,floatPrecision:a=4,style:c=null})=>jsxRuntimeExports$1.jsx("div",{className:"mc-data-table-container subsection-shadow overflow-auto rounded",style:c,children:jsxRuntimeExports$1.jsxs(Table,{bordered:!0,style:{margin:0},children:[jsxRuntimeExports$1.jsx("thead",{children:jsxRuntimeExports$1.jsx("tr",{children:e.map((d,g)=>jsxRuntimeExports$1.jsx("th",{className:"px-2 py-2",children:d},g))})}),jsxRuntimeExports$1.jsx("tbody",{children:o.map((d,g)=>jsxRuntimeExports$1.jsx("tr",{children:d.map((b,_)=>jsxRuntimeExports$1.jsx("td",{children:formatIfFloat(b,a)},_))},g))})]})});function bundleLatticeData({baseMatrix:e,transform_matrix:o=null}){const a=o?Su.multiplyMatrices(o,e):e,c=Su.getMatrixParams(a);return{matrix:a,angles:[c.angles[1][2],c.angles[0][2],c.angles[0][1]],lengths:c.lengths}}const CellInfoBox=({structureInfo:e,spacegroup_symbol:o="P1"})=>{const[a,c]=reactExports.useState(!1),[d,g]=reactExports.useState(!1),b=e.aiidaAttributes.cell,_=ju(o);console.log("Cell transformation matrix:",_);const $=bundleLatticeData({baseMatrix:b}),j=bundleLatticeData({baseMatrix:b,transform_matrix:_}),rt=d?j:$,nt=()=>{c(!a)};return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsxs("div",{className:"subsection-title",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxRuntimeExports$1.jsx("div",{style:{flex:1},children:jsxRuntimeExports$1.jsx("span",{children:"Cell Info"})}),jsxRuntimeExports$1.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"40px",marginRight:"5px",alignItems:"stretch"},children:jsxRuntimeExports$1.jsx(Ru,{labelLeft:"Parameters",labelRight:"Matrix",switchLength:"30px",fontSize:"17px",onToggle:nt})})]}),jsxRuntimeExports$1.jsx("div",{style:{minHeight:"181px",display:"flex",flexDirection:"column",justifyContent:"center"},children:a?jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsx(MCTable,{headerRow:["","x []","y []","z []"],contents:rt.matrix.map((st,jt)=>[jsxRuntimeExports$1.jsxs("span",{children:["v",jsxRuntimeExports$1.jsx("sub",{children:jt+1})]},`v${jt}`),st[0],st[1],st[2]])})}):jsxRuntimeExports$1.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.25rem"},children:[jsxRuntimeExports$1.jsx(MCTable,{headerRow:["","a","b","c"],contents:[["Lengths []",...rt.lengths]]}),jsxRuntimeExports$1.jsx(MCTable,{headerRow:["","","",""],contents:[["Angles []",...rt.angles]]})]})})]})};function cartToFrac(e,o){const a=Su.invertMatrix(o);return console.log("Cell",o),console.log("Inverse Cell",a),e.map(c=>[a[0][0]*c[0]+a[0][1]*c[1]+a[0][2]*c[2],a[1][0]*c[0]+a[1][1]*c[1]+a[1][2]*c[2],a[2][0]*c[0]+a[2][1]*c[1]+a[2][2]*c[2]])}const AtomicSitesInfoBox=({structureInfo:e})=>{const[o,a]=reactExports.useState(!1);console.log("sI",e.aiidaAttributes);const c=e.aiidaAttributes.cell,d=e.aiidaAttributes.sites,g=d.map(nt=>[nt.kind_name,nt.position[0].toFixed(4),nt.position[1].toFixed(4),nt.position[2].toFixed(4)]),b=d.map(nt=>nt.position),_=cartToFrac(b,c),$=d.map((nt,st)=>{const jt=_[st];return[nt.kind_name,jt[0].toFixed(4),jt[1].toFixed(4),jt[2].toFixed(4)]}),j=["Kind label","x []","y []","z []"],rt=["Kind label","x","y","z"];return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsxs("div",{className:"subsection-title flex justify-between items-center",children:[jsxRuntimeExports$1.jsx("span",{style:{flex:1},children:"Atomic positions"}),jsxRuntimeExports$1.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"40px",marginRight:"5px",alignItems:"stretch"}})]}),jsxRuntimeExports$1.jsx(MCTable,{headerRow:o?rt:j,contents:o?$:g,style:{maxHeight:"332px"}})]})},StructureSection=({params:e,loadedData:o})=>{let a=o.details,c=o.structureInfo;const d=o.metadata,g=e.method;return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"section-heading",children:"Structural details"}),jsxRuntimeExports$1.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports$1.jsxs(Row,{children:[jsxRuntimeExports$1.jsxs(Col,{className:"flex-column",children:[jsxRuntimeExports$1.jsxs("div",{style:{marginBottom:"10px"},children:[jsxRuntimeExports$1.jsx("div",{className:"subsection-title",children:"General"}),jsxRuntimeExports$1.jsx(MCInfoBox,{title:"General",children:jsxRuntimeExports$1.jsxs("ul",{className:"no-bullets",children:[jsxRuntimeExports$1.jsxs("li",{style:{marginTop:"-5px",marginBottom:"-4px"},children:["Download structure",jsxRuntimeExports$1.jsx(Au,{aiida_rest_url:AIIDA_API_URLS[e.method],uuid:a.general.structure_uuid})]}),jsxRuntimeExports$1.jsxs("li",{style:{marginBottom:"9px"},children:["Explore provenance"," ",jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[e.method],uuid:a.general.structure_uuid})]}),jsxRuntimeExports$1.jsxs("li",{children:["Cell volume:"," ",format_aiida_prop(a.properties.cell_volume,d.info.properties.cell_volume,g,2)]})]})})]}),jsxRuntimeExports$1.jsx(CellInfoBox,{structureInfo:c,spacegroup_symbol:a.general.spacegroup_international})]}),jsxRuntimeExports$1.jsx(Col,{className:"flex-column",children:jsxRuntimeExports$1.jsx(AtomicSitesInfoBox,{structureInfo:c})})]})})]})};function ProvenanceSection(e){let o=e.loadedData.details;return jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"section-heading",children:"Provenance links"}),jsxRuntimeExports$1.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports$1.jsx(Row,{children:jsxRuntimeExports$1.jsx("div",{className:"provenance-section",children:jsxRuntimeExports$1.jsxs("div",{className:"provenance-section-inner",children:[jsxRuntimeExports$1.jsx("div",{children:"Relevant nodes in the provenance browser:"}),jsxRuntimeExports$1.jsx("ul",{children:o.provenance_links.map(a=>jsxRuntimeExports$1.jsxs("li",{children:[a.label," ",jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[e.params.method],uuid:a.uuid})]},a.uuid))})]})})})})]})}var plotlyBasic_min={exports:{}};(function(e){(function(o,a){e.exports?e.exports=a():o.moduleName=a()})(typeof self<"u"?self:commonjsGlobal$1,()=>{var o=(()=>{var a=(Mu,yu)=>()=>(yu||Mu((yu={exports:{}}).exports,yu),yu.exports),c=a(Mu=>{Mu.version="3.1.2"}),d=a((Mu,yu)=>{(function(ls,_t,Fn){_t[ls]=_t[ls]||Fn(),typeof yu<"u"&&yu.exports&&(yu.exports=_t[ls])})("Promise",typeof window<"u"?window:Mu,function(){var ls,_t,Fn,xl=Object.prototype.toString,Bn=typeof setImmediate<"u"?function(Bl){return setImmediate(Bl)}:setTimeout;try{Object.defineProperty({},"x",{}),ls=function(Bl,_l,Rl,Il){return Object.defineProperty(Bl,_l,{value:Rl,writable:!0,configurable:Il!==!1})}}catch{ls=function(_l,Rl,Il){return _l[Rl]=Il,_l}}Fn=function(){var Bl,_l,Rl;function Il(Hl,Kl){this.fn=Hl,this.self=Kl,this.next=void 0}return{add:function(Hl,Kl){Rl=new Il(Hl,Kl),_l?_l.next=Rl:Bl=Rl,_l=Rl,Rl=void 0},drain:function(){var Hl=Bl;for(Bl=_l=_t=void 0;Hl;)Hl.fn.call(Hl.self),Hl=Hl.next}}}();function yl(Bl,_l){Fn.add(Bl,_l),_t||(_t=Bn(Fn.drain))}function Sl(Bl){var _l,Rl=typeof Bl;return Bl!=null&&(Rl=="object"||Rl=="function")&&(_l=Bl.then),typeof _l=="function"?_l:!1}function Al(){for(var Bl=0;Bl<this.chain.length;Bl++)Et(this,this.state===1?this.chain[Bl].success:this.chain[Bl].failure,this.chain[Bl]);this.chain.length=0}function Et(Bl,_l,Rl){var Il,Hl;try{_l===!1?Rl.reject(Bl.msg):(_l===!0?Il=Bl.msg:Il=_l.call(void 0,Bl.msg),Il===Rl.promise?Rl.reject(TypeError("Promise-chain cycle")):(Hl=Sl(Il))?Hl.call(Il,Rl.resolve,Rl.reject):Rl.resolve(Il))}catch(Kl){Rl.reject(Kl)}}function Pl(Bl){var _l,Rl=this;if(!Rl.triggered){Rl.triggered=!0,Rl.def&&(Rl=Rl.def);try{(_l=Sl(Bl))?yl(function(){var Il=new $l(Rl);try{_l.call(Bl,function(){Pl.apply(Il,arguments)},function(){El.apply(Il,arguments)})}catch(Hl){El.call(Il,Hl)}}):(Rl.msg=Bl,Rl.state=1,Rl.chain.length>0&&yl(Al,Rl))}catch(Il){El.call(new $l(Rl),Il)}}}function El(Bl){var _l=this;_l.triggered||(_l.triggered=!0,_l.def&&(_l=_l.def),_l.msg=Bl,_l.state=2,_l.chain.length>0&&yl(Al,_l))}function Fl(Bl,_l,Rl,Il){for(var Hl=0;Hl<_l.length;Hl++)(function(Kl){Bl.resolve(_l[Kl]).then(function(Gu){Rl(Kl,Gu)},Il)})(Hl)}function $l(Bl){this.def=Bl,this.triggered=!1}function Nl(Bl){this.promise=Bl,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function Ll(Bl){if(typeof Bl!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var _l=new Nl(this);this.then=function(Rl,Il){var Hl={success:typeof Rl=="function"?Rl:!0,failure:typeof Il=="function"?Il:!1};return Hl.promise=new this.constructor(function(Kl,Gu){if(typeof Kl!="function"||typeof Gu!="function")throw TypeError("Not a function");Hl.resolve=Kl,Hl.reject=Gu}),_l.chain.push(Hl),_l.state!==0&&yl(Al,_l),Hl.promise},this.catch=function(Rl){return this.then(void 0,Rl)};try{Bl.call(void 0,function(Rl){Pl.call(_l,Rl)},function(Rl){El.call(_l,Rl)})}catch(Rl){El.call(_l,Rl)}}var Ol=ls({},"constructor",Ll,!1);return Ll.prototype=Ol,ls(Ol,"__NPO__",0,!1),ls(Ll,"resolve",function(Bl){var _l=this;return Bl&&typeof Bl=="object"&&Bl.__NPO__===1?Bl:new _l(function(Rl,Il){if(typeof Rl!="function"||typeof Il!="function")throw TypeError("Not a function");Rl(Bl)})}),ls(Ll,"reject",function(Bl){return new this(function(_l,Rl){if(typeof _l!="function"||typeof Rl!="function")throw TypeError("Not a function");Rl(Bl)})}),ls(Ll,"all",function(Bl){var _l=this;return xl.call(Bl)!="[object Array]"?_l.reject(TypeError("Not an array")):Bl.length===0?_l.resolve([]):new _l(function(Rl,Il){if(typeof Rl!="function"||typeof Il!="function")throw TypeError("Not a function");var Hl=Bl.length,Kl=Array(Hl),Gu=0;Fl(_l,Bl,function(vu,hu){Kl[vu]=hu,++Gu===Hl&&Rl(Kl)},Il)})}),ls(Ll,"race",function(Bl){var _l=this;return xl.call(Bl)!="[object Array]"?_l.reject(TypeError("Not an array")):new _l(function(Rl,Il){if(typeof Rl!="function"||typeof Il!="function")throw TypeError("Not a function");Fl(_l,Bl,function(Hl,Kl){Rl(Kl)},Il)})}),Ll})}),g=a((Mu,yu)=>{(function(){var ls={version:"3.8.2"},_t=[].slice,Fn=function(zn){return _t.call(zn)},xl=self.document;function Bn(zn){return zn&&(zn.ownerDocument||zn.document||zn).documentElement}function yl(zn){return zn&&(zn.ownerDocument&&zn.ownerDocument.defaultView||zn.document&&zn||zn.defaultView)}if(xl)try{Fn(xl.documentElement.childNodes)[0].nodeType}catch{Fn=function(Gl){for(var Ql=Gl.length,zu=new Array(Ql);Ql--;)zu[Ql]=Gl[Ql];return zu}}if(Date.now||(Date.now=function(){return+new Date}),xl)try{xl.createElement("DIV").style.setProperty("opacity",0,"")}catch{var Sl=this.Element.prototype,Al=Sl.setAttribute,Et=Sl.setAttributeNS,Pl=this.CSSStyleDeclaration.prototype,El=Pl.setProperty;Sl.setAttribute=function(Gl,Ql){Al.call(this,Gl,Ql+"")},Sl.setAttributeNS=function(Gl,Ql,zu){Et.call(this,Gl,Ql,zu+"")},Pl.setProperty=function(Gl,Ql,zu){El.call(this,Gl,Ql+"",zu)}}ls.ascending=Fl;function Fl(zn,Gl){return zn<Gl?-1:zn>Gl?1:zn>=Gl?0:NaN}ls.descending=function(zn,Gl){return Gl<zn?-1:Gl>zn?1:Gl>=zn?0:NaN},ls.min=function(zn,Gl){var Ql=-1,zu=zn.length,Yu,Qu;if(arguments.length===1){for(;++Ql<zu;)if((Qu=zn[Ql])!=null&&Qu>=Qu){Yu=Qu;break}for(;++Ql<zu;)(Qu=zn[Ql])!=null&&Yu>Qu&&(Yu=Qu)}else{for(;++Ql<zu;)if((Qu=Gl.call(zn,zn[Ql],Ql))!=null&&Qu>=Qu){Yu=Qu;break}for(;++Ql<zu;)(Qu=Gl.call(zn,zn[Ql],Ql))!=null&&Yu>Qu&&(Yu=Qu)}return Yu},ls.max=function(zn,Gl){var Ql=-1,zu=zn.length,Yu,Qu;if(arguments.length===1){for(;++Ql<zu;)if((Qu=zn[Ql])!=null&&Qu>=Qu){Yu=Qu;break}for(;++Ql<zu;)(Qu=zn[Ql])!=null&&Qu>Yu&&(Yu=Qu)}else{for(;++Ql<zu;)if((Qu=Gl.call(zn,zn[Ql],Ql))!=null&&Qu>=Qu){Yu=Qu;break}for(;++Ql<zu;)(Qu=Gl.call(zn,zn[Ql],Ql))!=null&&Qu>Yu&&(Yu=Qu)}return Yu},ls.extent=function(zn,Gl){var Ql=-1,zu=zn.length,Yu,Qu,Sp;if(arguments.length===1){for(;++Ql<zu;)if((Qu=zn[Ql])!=null&&Qu>=Qu){Yu=Sp=Qu;break}for(;++Ql<zu;)(Qu=zn[Ql])!=null&&(Yu>Qu&&(Yu=Qu),Sp<Qu&&(Sp=Qu))}else{for(;++Ql<zu;)if((Qu=Gl.call(zn,zn[Ql],Ql))!=null&&Qu>=Qu){Yu=Sp=Qu;break}for(;++Ql<zu;)(Qu=Gl.call(zn,zn[Ql],Ql))!=null&&(Yu>Qu&&(Yu=Qu),Sp<Qu&&(Sp=Qu))}return[Yu,Sp]};function $l(zn){return zn===null?NaN:+zn}function Nl(zn){return!isNaN(zn)}ls.sum=function(zn,Gl){var Ql=0,zu=zn.length,Yu,Qu=-1;if(arguments.length===1)for(;++Qu<zu;)Nl(Yu=+zn[Qu])&&(Ql+=Yu);else for(;++Qu<zu;)Nl(Yu=+Gl.call(zn,zn[Qu],Qu))&&(Ql+=Yu);return Ql},ls.mean=function(zn,Gl){var Ql=0,zu=zn.length,Yu,Qu=-1,Sp=zu;if(arguments.length===1)for(;++Qu<zu;)Nl(Yu=$l(zn[Qu]))?Ql+=Yu:--Sp;else for(;++Qu<zu;)Nl(Yu=$l(Gl.call(zn,zn[Qu],Qu)))?Ql+=Yu:--Sp;if(Sp)return Ql/Sp},ls.quantile=function(zn,Gl){var Ql=(zn.length-1)*Gl+1,zu=Math.floor(Ql),Yu=+zn[zu-1],Qu=Ql-zu;return Qu?Yu+Qu*(zn[zu]-Yu):Yu},ls.median=function(zn,Gl){var Ql=[],zu=zn.length,Yu,Qu=-1;if(arguments.length===1)for(;++Qu<zu;)Nl(Yu=$l(zn[Qu]))&&Ql.push(Yu);else for(;++Qu<zu;)Nl(Yu=$l(Gl.call(zn,zn[Qu],Qu)))&&Ql.push(Yu);if(Ql.length)return ls.quantile(Ql.sort(Fl),.5)},ls.variance=function(zn,Gl){var Ql=zn.length,zu=0,Yu,Qu,Sp=0,vp=-1,Rp=0;if(arguments.length===1)for(;++vp<Ql;)Nl(Yu=$l(zn[vp]))&&(Qu=Yu-zu,zu+=Qu/++Rp,Sp+=Qu*(Yu-zu));else for(;++vp<Ql;)Nl(Yu=$l(Gl.call(zn,zn[vp],vp)))&&(Qu=Yu-zu,zu+=Qu/++Rp,Sp+=Qu*(Yu-zu));if(Rp>1)return Sp/(Rp-1)},ls.deviation=function(){var zn=ls.variance.apply(this,arguments);return zn&&Math.sqrt(zn)};function Ll(zn){return{left:function(Gl,Ql,zu,Yu){for(arguments.length<3&&(zu=0),arguments.length<4&&(Yu=Gl.length);zu<Yu;){var Qu=zu+Yu>>>1;zn(Gl[Qu],Ql)<0?zu=Qu+1:Yu=Qu}return zu},right:function(Gl,Ql,zu,Yu){for(arguments.length<3&&(zu=0),arguments.length<4&&(Yu=Gl.length);zu<Yu;){var Qu=zu+Yu>>>1;zn(Gl[Qu],Ql)>0?Yu=Qu:zu=Qu+1}return zu}}}var Ol=Ll(Fl);ls.bisectLeft=Ol.left,ls.bisect=ls.bisectRight=Ol.right,ls.bisector=function(zn){return Ll(zn.length===1?function(Gl,Ql){return Fl(zn(Gl),Ql)}:zn)},ls.shuffle=function(zn,Gl,Ql){(zu=arguments.length)<3&&(Ql=zn.length,zu<2&&(Gl=0));for(var zu=Ql-Gl,Yu,Qu;zu;)Qu=Math.random()*zu--|0,Yu=zn[zu+Gl],zn[zu+Gl]=zn[Qu+Gl],zn[Qu+Gl]=Yu;return zn},ls.permute=function(zn,Gl){for(var Ql=Gl.length,zu=new Array(Ql);Ql--;)zu[Ql]=zn[Gl[Ql]];return zu},ls.pairs=function(zn){for(var Gl=0,Ql=zn.length-1,zu,Yu=zn[0],Qu=new Array(Ql<0?0:Ql);Gl<Ql;)Qu[Gl]=[zu=Yu,Yu=zn[++Gl]];return Qu},ls.transpose=function(zn){if(!(Qu=zn.length))return[];for(var Gl=-1,Ql=ls.min(zn,Bl),zu=new Array(Ql);++Gl<Ql;)for(var Yu=-1,Qu,Sp=zu[Gl]=new Array(Qu);++Yu<Qu;)Sp[Yu]=zn[Yu][Gl];return zu};function Bl(zn){return zn.length}ls.zip=function(){return ls.transpose(arguments)},ls.keys=function(zn){var Gl=[];for(var Ql in zn)Gl.push(Ql);return Gl},ls.values=function(zn){var Gl=[];for(var Ql in zn)Gl.push(zn[Ql]);return Gl},ls.entries=function(zn){var Gl=[];for(var Ql in zn)Gl.push({key:Ql,value:zn[Ql]});return Gl},ls.merge=function(zn){for(var Gl=zn.length,Ql,zu=-1,Yu=0,Qu,Sp;++zu<Gl;)Yu+=zn[zu].length;for(Qu=new Array(Yu);--Gl>=0;)for(Sp=zn[Gl],Ql=Sp.length;--Ql>=0;)Qu[--Yu]=Sp[Ql];return Qu};var _l=Math.abs;ls.range=function(zn,Gl,Ql){if(arguments.length<3&&(Ql=1,arguments.length<2&&(Gl=zn,zn=0)),(Gl-zn)/Ql===1/0)throw new Error("infinite range");var zu=[],Yu=Rl(_l(Ql)),Qu=-1,Sp;if(zn*=Yu,Gl*=Yu,Ql*=Yu,Ql<0)for(;(Sp=zn+Ql*++Qu)>Gl;)zu.push(Sp/Yu);else for(;(Sp=zn+Ql*++Qu)<Gl;)zu.push(Sp/Yu);return zu};function Rl(zn){for(var Gl=1;zn*Gl%1;)Gl*=10;return Gl}function Il(zn,Gl){for(var Ql in Gl)Object.defineProperty(zn.prototype,Ql,{value:Gl[Ql],enumerable:!1})}ls.map=function(zn,Gl){var Ql=new Hl;if(zn instanceof Hl)zn.forEach(function(vp,Rp){Ql.set(vp,Rp)});else if(Array.isArray(zn)){var zu=-1,Yu=zn.length,Qu;if(arguments.length===1)for(;++zu<Yu;)Ql.set(zu,zn[zu]);else for(;++zu<Yu;)Ql.set(Gl.call(zn,Qu=zn[zu],zu),Qu)}else for(var Sp in zn)Ql.set(Sp,zn[Sp]);return Ql};function Hl(){this._=Object.create(null)}var Kl="__proto__",Gu="\0";Il(Hl,{has:Yl,get:function(zn){return this._[vu(zn)]},set:function(zn,Gl){return this._[vu(zn)]=Gl},remove:$u,keys:bu,values:function(){var zn=[];for(var Gl in this._)zn.push(this._[Gl]);return zn},entries:function(){var zn=[];for(var Gl in this._)zn.push({key:hu(Gl),value:this._[Gl]});return zn},size:Lu,empty:Fu,forEach:function(zn){for(var Gl in this._)zn.call(this,hu(Gl),this._[Gl])}});function vu(zn){return(zn+="")===Kl||zn[0]===Gu?Gu+zn:zn}function hu(zn){return(zn+="")[0]===Gu?zn.slice(1):zn}function Yl(zn){return vu(zn)in this._}function $u(zn){return(zn=vu(zn))in this._&&delete this._[zn]}function bu(){var zn=[];for(var Gl in this._)zn.push(hu(Gl));return zn}function Lu(){var zn=0;for(var Gl in this._)++zn;return zn}function Fu(){for(var zn in this._)return!1;return!0}ls.nest=function(){var zn={},Gl=[],Ql=[],zu,Yu;function Qu(vp,Rp,jp){if(jp>=Gl.length)return Yu?Yu.call(zn,Rp):zu?Rp.sort(zu):Rp;for(var Wp=-1,d0=Rp.length,g0=Gl[jp++],N0,Z0,m0,D0=new Hl,L0;++Wp<d0;)(L0=D0.get(N0=g0(Z0=Rp[Wp])))?L0.push(Z0):D0.set(N0,[Z0]);return vp?(Z0=vp(),m0=function(Y0,K0){Z0.set(Y0,Qu(vp,K0,jp))}):(Z0={},m0=function(Y0,K0){Z0[Y0]=Qu(vp,K0,jp)}),D0.forEach(m0),Z0}function Sp(vp,Rp){if(Rp>=Gl.length)return vp;var jp=[],Wp=Ql[Rp++];return vp.forEach(function(d0,g0){jp.push({key:d0,values:Sp(g0,Rp)})}),Wp?jp.sort(function(d0,g0){return Wp(d0.key,g0.key)}):jp}return zn.map=function(vp,Rp){return Qu(Rp,vp,0)},zn.entries=function(vp){return Sp(Qu(ls.map,vp,0),0)},zn.key=function(vp){return Gl.push(vp),zn},zn.sortKeys=function(vp){return Ql[Gl.length-1]=vp,zn},zn.sortValues=function(vp){return zu=vp,zn},zn.rollup=function(vp){return Yu=vp,zn},zn},ls.set=function(zn){var Gl=new Du;if(zn)for(var Ql=0,zu=zn.length;Ql<zu;++Ql)Gl.add(zn[Ql]);return Gl};function Du(){this._=Object.create(null)}Il(Du,{has:Yl,add:function(zn){return this._[vu(zn+="")]=!0,zn},remove:$u,values:bu,size:Lu,empty:Fu,forEach:function(zn){for(var Gl in this._)zn.call(this,hu(Gl))}}),ls.behavior={};function Hu(zn){return zn}ls.rebind=function(zn,Gl){for(var Ql=1,zu=arguments.length,Yu;++Ql<zu;)zn[Yu=arguments[Ql]]=Vu(zn,Gl,Gl[Yu]);return zn};function Vu(zn,Gl,Ql){return function(){var zu=Ql.apply(Gl,arguments);return zu===Gl?zn:zu}}function gu(zn,Gl){if(Gl in zn)return Gl;Gl=Gl.charAt(0).toUpperCase()+Gl.slice(1);for(var Ql=0,zu=Wu.length;Ql<zu;++Ql){var Yu=Wu[Ql]+Gl;if(Yu in zn)return Yu}}var Wu=["webkit","ms","moz","Moz","o","O"];function qu(){}ls.dispatch=function(){for(var zn=new np,Gl=-1,Ql=arguments.length;++Gl<Ql;)zn[arguments[Gl]]=_h(zn);return zn};function np(){}np.prototype.on=function(zn,Gl){var Ql=zn.indexOf("."),zu="";if(Ql>=0&&(zu=zn.slice(Ql+1),zn=zn.slice(0,Ql)),zn)return arguments.length<2?this[zn].on(zu):this[zn].on(zu,Gl);if(arguments.length===2){if(Gl==null)for(zn in this)this.hasOwnProperty(zn)&&this[zn].on(zu,null);return this}};function _h(zn){var Gl=[],Ql=new Hl;function zu(){for(var Yu=Gl,Qu=-1,Sp=Yu.length,vp;++Qu<Sp;)(vp=Yu[Qu].on)&&vp.apply(this,arguments);return zn}return zu.on=function(Yu,Qu){var Sp=Ql.get(Yu),vp;return arguments.length<2?Sp&&Sp.on:(Sp&&(Sp.on=null,Gl=Gl.slice(0,vp=Gl.indexOf(Sp)).concat(Gl.slice(vp+1)),Ql.remove(Yu)),Qu&&Gl.push(Ql.set(Yu,{on:Qu})),zn)},zu}ls.event=null;function ap(){ls.event.preventDefault()}function bp(){for(var zn=ls.event,Gl;Gl=zn.sourceEvent;)zn=Gl;return zn}function wp(zn){for(var Gl=new np,Ql=0,zu=arguments.length;++Ql<zu;)Gl[arguments[Ql]]=_h(Gl);return Gl.of=function(Yu,Qu){return function(Sp){try{var vp=Sp.sourceEvent=ls.event;Sp.target=zn,ls.event=Sp,Gl[Sp.type].apply(Yu,Qu)}finally{ls.event=vp}}},Gl}ls.requote=function(zn){return zn.replace(kp,"\\$&")};var kp=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Iu={}.__proto__?function(zn,Gl){zn.__proto__=Gl}:function(zn,Gl){for(var Ql in Gl)zn[Ql]=Gl[Ql]};function Bu(zn){return Iu(zn,_u),zn}var Xl=function(zn,Gl){return Gl.querySelector(zn)},Uu=function(zn,Gl){return Gl.querySelectorAll(zn)},ep=function(zn,Gl){var Ql=zn.matches||zn[gu(zn,"matchesSelector")];return ep=function(zu,Yu){return Ql.call(zu,Yu)},ep(zn,Gl)};typeof Sizzle=="function"&&(Xl=function(zn,Gl){return Sizzle(zn,Gl)[0]||null},Uu=Sizzle,ep=Sizzle.matchesSelector),ls.selection=function(){return ls.select(xl.documentElement)};var _u=ls.selection.prototype=[];_u.select=function(zn){var Gl=[],Ql,zu,Yu,Qu;zn=Wl(zn);for(var Sp=-1,vp=this.length;++Sp<vp;){Gl.push(Ql=[]),Ql.parentNode=(Yu=this[Sp]).parentNode;for(var Rp=-1,jp=Yu.length;++Rp<jp;)(Qu=Yu[Rp])?(Ql.push(zu=zn.call(Qu,Qu.__data__,Rp,Sp)),zu&&"__data__"in Qu&&(zu.__data__=Qu.__data__)):Ql.push(null)}return Bu(Gl)};function Wl(zn){return typeof zn=="function"?zn:function(){return Xl(zn,this)}}_u.selectAll=function(zn){var Gl=[],Ql,zu;zn=Jl(zn);for(var Yu=-1,Qu=this.length;++Yu<Qu;)for(var Sp=this[Yu],vp=-1,Rp=Sp.length;++vp<Rp;)(zu=Sp[vp])&&(Gl.push(Ql=Fn(zn.call(zu,zu.__data__,vp,Yu))),Ql.parentNode=zu);return Bu(Gl)};function Jl(zn){return typeof zn=="function"?zn:function(){return Uu(zn,this)}}var Pu="http://www.w3.org/1999/xhtml",Nu={svg:"http://www.w3.org/2000/svg",xhtml:Pu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};ls.ns={prefix:Nu,qualify:function(zn){var Gl=zn.indexOf(":"),Ql=zn;return Gl>=0&&(Ql=zn.slice(0,Gl))!=="xmlns"&&(zn=zn.slice(Gl+1)),Nu.hasOwnProperty(Ql)?{space:Nu[Ql],local:zn}:zn}},_u.attr=function(zn,Gl){if(arguments.length<2){if(typeof zn=="string"){var Ql=this.node();return zn=ls.ns.qualify(zn),zn.local?Ql.getAttributeNS(zn.space,zn.local):Ql.getAttribute(zn)}for(Gl in zn)this.each(tp(Gl,zn[Gl]));return this}return this.each(tp(zn,Gl))};function tp(zn,Gl){zn=ls.ns.qualify(zn);function Ql(){this.removeAttribute(zn)}function zu(){this.removeAttributeNS(zn.space,zn.local)}function Yu(){this.setAttribute(zn,Gl)}function Qu(){this.setAttributeNS(zn.space,zn.local,Gl)}function Sp(){var Rp=Gl.apply(this,arguments);Rp==null?this.removeAttribute(zn):this.setAttribute(zn,Rp)}function vp(){var Rp=Gl.apply(this,arguments);Rp==null?this.removeAttributeNS(zn.space,zn.local):this.setAttributeNS(zn.space,zn.local,Rp)}return Gl==null?zn.local?zu:Ql:typeof Gl=="function"?zn.local?vp:Sp:zn.local?Qu:Yu}function up(zn){return zn.trim().replace(/\s+/g," ")}_u.classed=function(zn,Gl){if(arguments.length<2){if(typeof zn=="string"){var Ql=this.node(),zu=(zn=Ap(zn)).length,Yu=-1;if(Gl=Ql.classList){for(;++Yu<zu;)if(!Gl.contains(zn[Yu]))return!1}else for(Gl=Ql.getAttribute("class");++Yu<zu;)if(!dp(zn[Yu]).test(Gl))return!1;return!0}for(Gl in zn)this.each(Op(Gl,zn[Gl]));return this}return this.each(Op(zn,Gl))};function dp(zn){return new RegExp("(?:^|\\s+)"+ls.requote(zn)+"(?:\\s+|$)","g")}function Ap(zn){return(zn+"").trim().split(/^|\s+/)}function Op(zn,Gl){zn=Ap(zn).map(Zp);var Ql=zn.length;function zu(){for(var Qu=-1;++Qu<Ql;)zn[Qu](this,Gl)}function Yu(){for(var Qu=-1,Sp=Gl.apply(this,arguments);++Qu<Ql;)zn[Qu](this,Sp)}return typeof Gl=="function"?Yu:zu}function Zp(zn){var Gl=dp(zn);return function(Ql,zu){if(Yu=Ql.classList)return zu?Yu.add(zn):Yu.remove(zn);var Yu=Ql.getAttribute("class")||"";zu?(Gl.lastIndex=0,Gl.test(Yu)||Ql.setAttribute("class",up(Yu+" "+zn))):Ql.setAttribute("class",up(Yu.replace(Gl," ")))}}_u.style=function(zn,Gl,Ql){var zu=arguments.length;if(zu<3){if(typeof zn!="string"){zu<2&&(Gl="");for(Ql in zn)this.each(u0(Ql,zn[Ql],Gl));return this}if(zu<2){var Yu=this.node();return yl(Yu).getComputedStyle(Yu,null).getPropertyValue(zn)}Ql=""}return this.each(u0(zn,Gl,Ql))};function u0(zn,Gl,Ql){function zu(){this.style.removeProperty(zn)}function Yu(){this.style.setProperty(zn,Gl,Ql)}function Qu(){var Sp=Gl.apply(this,arguments);Sp==null?this.style.removeProperty(zn):this.style.setProperty(zn,Sp,Ql)}return Gl==null?zu:typeof Gl=="function"?Qu:Yu}_u.property=function(zn,Gl){if(arguments.length<2){if(typeof zn=="string")return this.node()[zn];for(Gl in zn)this.each(r0(Gl,zn[Gl]));return this}return this.each(r0(zn,Gl))};function r0(zn,Gl){function Ql(){delete this[zn]}function zu(){this[zn]=Gl}function Yu(){var Qu=Gl.apply(this,arguments);Qu==null?delete this[zn]:this[zn]=Qu}return Gl==null?Ql:typeof Gl=="function"?Yu:zu}_u.text=function(zn){return arguments.length?this.each(typeof zn=="function"?function(){var Gl=zn.apply(this,arguments);this.textContent=Gl??""}:zn==null?function(){this.textContent=""}:function(){this.textContent=zn}):this.node().textContent},_u.html=function(zn){return arguments.length?this.each(typeof zn=="function"?function(){var Gl=zn.apply(this,arguments);this.innerHTML=Gl??""}:zn==null?function(){this.innerHTML=""}:function(){this.innerHTML=zn}):this.node().innerHTML},_u.append=function(zn){return zn=e0(zn),this.select(function(){return this.appendChild(zn.apply(this,arguments))})};function e0(zn){function Gl(){var zu=this.ownerDocument,Yu=this.namespaceURI;return Yu===Pu&&zu.documentElement.namespaceURI===Pu?zu.createElement(zn):zu.createElementNS(Yu,zn)}function Ql(){return this.ownerDocument.createElementNS(zn.space,zn.local)}return typeof zn=="function"?zn:(zn=ls.ns.qualify(zn)).local?Ql:Gl}_u.insert=function(zn,Gl){return zn=e0(zn),Gl=Wl(Gl),this.select(function(){return this.insertBefore(zn.apply(this,arguments),Gl.apply(this,arguments)||null)})},_u.remove=function(){return this.each(Cp)};function Cp(){var zn=this.parentNode;zn&&zn.removeChild(this)}_u.data=function(zn,Gl){var Ql=-1,zu=this.length,Yu,Qu;if(!arguments.length){for(zn=new Array(zu=(Yu=this[0]).length);++Ql<zu;)(Qu=Yu[Ql])&&(zn[Ql]=Qu.__data__);return zn}function Sp(Wp,d0){var g0,N0=Wp.length,Z0=d0.length,m0=Math.min(N0,Z0),D0=new Array(Z0),L0=new Array(Z0),Y0=new Array(N0),K0,I0;if(Gl){var Pm=new Hl,Zm=new Array(N0),Qm;for(g0=-1;++g0<N0;)(K0=Wp[g0])&&(Pm.has(Qm=Gl.call(K0,K0.__data__,g0))?Y0[g0]=K0:Pm.set(Qm,K0),Zm[g0]=Qm);for(g0=-1;++g0<Z0;)(K0=Pm.get(Qm=Gl.call(d0,I0=d0[g0],g0)))?K0!==!0&&(D0[g0]=K0,K0.__data__=I0):L0[g0]=Mp(I0),Pm.set(Qm,!0);for(g0=-1;++g0<N0;)g0 in Zm&&Pm.get(Zm[g0])!==!0&&(Y0[g0]=Wp[g0])}else{for(g0=-1;++g0<m0;)K0=Wp[g0],I0=d0[g0],K0?(K0.__data__=I0,D0[g0]=K0):L0[g0]=Mp(I0);for(;g0<Z0;++g0)L0[g0]=Mp(d0[g0]);for(;g0<N0;++g0)Y0[g0]=Wp[g0]}L0.update=D0,L0.parentNode=D0.parentNode=Y0.parentNode=Wp.parentNode,vp.push(L0),Rp.push(D0),jp.push(Y0)}var vp=a0([]),Rp=Bu([]),jp=Bu([]);if(typeof zn=="function")for(;++Ql<zu;)Sp(Yu=this[Ql],zn.call(Yu,Yu.parentNode.__data__,Ql));else for(;++Ql<zu;)Sp(Yu=this[Ql],zn);return Rp.enter=function(){return vp},Rp.exit=function(){return jp},Rp};function Mp(zn){return{__data__:zn}}_u.datum=function(zn){return arguments.length?this.property("__data__",zn):this.property("__data__")},_u.filter=function(zn){var Gl=[],Ql,zu,Yu;typeof zn!="function"&&(zn=sp(zn));for(var Qu=0,Sp=this.length;Qu<Sp;Qu++){Gl.push(Ql=[]),Ql.parentNode=(zu=this[Qu]).parentNode;for(var vp=0,Rp=zu.length;vp<Rp;vp++)(Yu=zu[vp])&&zn.call(Yu,Yu.__data__,vp,Qu)&&Ql.push(Yu)}return Bu(Gl)};function sp(zn){return function(){return ep(this,zn)}}_u.order=function(){for(var zn=-1,Gl=this.length;++zn<Gl;)for(var Ql=this[zn],zu=Ql.length-1,Yu=Ql[zu],Qu;--zu>=0;)(Qu=Ql[zu])&&(Yu&&Yu!==Qu.nextSibling&&Yu.parentNode.insertBefore(Qu,Yu),Yu=Qu);return this},_u.sort=function(zn){zn=Ip.apply(this,arguments);for(var Gl=-1,Ql=this.length;++Gl<Ql;)this[Gl].sort(zn);return this.order()};function Ip(zn){return arguments.length||(zn=Fl),function(Gl,Ql){return Gl&&Ql?zn(Gl.__data__,Ql.__data__):!Gl-!Ql}}_u.each=function(zn){return Jp(this,function(Gl,Ql,zu){zn.call(Gl,Gl.__data__,Ql,zu)})};function Jp(zn,Gl){for(var Ql=0,zu=zn.length;Ql<zu;Ql++)for(var Yu=zn[Ql],Qu=0,Sp=Yu.length,vp;Qu<Sp;Qu++)(vp=Yu[Qu])&&Gl(vp,Qu,Ql);return zn}_u.call=function(zn){var Gl=Fn(arguments);return zn.apply(Gl[0]=this,Gl),this},_u.empty=function(){return!this.node()},_u.node=function(){for(var zn=0,Gl=this.length;zn<Gl;zn++)for(var Ql=this[zn],zu=0,Yu=Ql.length;zu<Yu;zu++){var Qu=Ql[zu];if(Qu)return Qu}return null},_u.size=function(){var zn=0;return Jp(this,function(){++zn}),zn};function a0(zn){return Iu(zn,v0),zn}var v0=[];ls.selection.enter=a0,ls.selection.enter.prototype=v0,v0.append=_u.append,v0.empty=_u.empty,v0.node=_u.node,v0.call=_u.call,v0.size=_u.size,v0.select=function(zn){for(var Gl=[],Ql,zu,Yu,Qu,Sp,vp=-1,Rp=this.length;++vp<Rp;){Yu=(Qu=this[vp]).update,Gl.push(Ql=[]),Ql.parentNode=Qu.parentNode;for(var jp=-1,Wp=Qu.length;++jp<Wp;)(Sp=Qu[jp])?(Ql.push(Yu[jp]=zu=zn.call(Qu.parentNode,Sp.__data__,jp,vp)),zu.__data__=Sp.__data__):Ql.push(null)}return Bu(Gl)},v0.insert=function(zn,Gl){return arguments.length<2&&(Gl=h0(this)),_u.insert.call(this,zn,Gl)};function h0(zn){var Gl,Ql;return function(zu,Yu,Qu){var Sp=zn[Qu].update,vp=Sp.length,Rp;for(Qu!=Ql&&(Ql=Qu,Gl=0),Yu>=Gl&&(Gl=Yu+1);!(Rp=Sp[Gl])&&++Gl<vp;);return Rp}}ls.select=function(zn){var Gl;return typeof zn=="string"?(Gl=[Xl(zn,xl)],Gl.parentNode=xl.documentElement):(Gl=[zn],Gl.parentNode=Bn(zn)),Bu([Gl])},ls.selectAll=function(zn){var Gl;return typeof zn=="string"?(Gl=Fn(Uu(zn,xl)),Gl.parentNode=xl.documentElement):(Gl=Fn(zn),Gl.parentNode=null),Bu([Gl])},_u.on=function(zn,Gl,Ql){var zu=arguments.length;if(zu<3){if(typeof zn!="string"){zu<2&&(Gl=!1);for(Ql in zn)this.each(w0(Ql,zn[Ql],Gl));return this}if(zu<2)return(zu=this.node()["__on"+zn])&&zu._;Ql=!1}return this.each(w0(zn,Gl,Ql))};function w0(zn,Gl,Ql){var zu="__on"+zn,Yu=zn.indexOf("."),Qu=_0;Yu>0&&(zn=zn.slice(0,Yu));var Sp=E0.get(zn);Sp&&(zn=Sp,Qu=$0);function vp(){var Wp=this[zu];Wp&&(this.removeEventListener(zn,Wp,Wp.$),delete this[zu])}function Rp(){var Wp=Qu(Gl,Fn(arguments));vp.call(this),this.addEventListener(zn,this[zu]=Wp,Wp.$=Ql),Wp._=Gl}function jp(){var Wp=new RegExp("^__on([^.]+)"+ls.requote(zn)+"$"),d0;for(var g0 in this)if(d0=g0.match(Wp)){var N0=this[g0];this.removeEventListener(d0[1],N0,N0.$),delete this[g0]}}return Yu?Gl?Rp:vp:Gl?qu:jp}var E0=ls.map({mouseenter:"mouseover",mouseleave:"mouseout"});xl&&E0.forEach(function(zn){"on"+zn in xl&&E0.remove(zn)});function _0(zn,Gl){return function(Ql){var zu=ls.event;ls.event=Ql,Gl[0]=this.__data__;try{zn.apply(this,Gl)}finally{ls.event=zu}}}function $0(zn,Gl){var Ql=_0(zn,Gl);return function(zu){var Yu=this,Qu=zu.relatedTarget;(!Qu||Qu!==Yu&&!(Qu.compareDocumentPosition(Yu)&8))&&Ql.call(Yu,zu)}}var f0,q0=0;function J0(zn){var Gl=".dragsuppress-"+ ++q0,Ql="click"+Gl,zu=ls.select(yl(zn)).on("touchmove"+Gl,ap).on("dragstart"+Gl,ap).on("selectstart"+Gl,ap);if(f0==null&&(f0="onselectstart"in zn?!1:gu(zn.style,"userSelect")),f0){var Yu=Bn(zn).style,Qu=Yu[f0];Yu[f0]="none"}return function(Sp){if(zu.on(Gl,null),f0&&(Yu[f0]=Qu),Sp){var vp=function(){zu.on(Ql,null)};zu.on(Ql,function(){ap(),vp()},!0),setTimeout(vp,0)}}}ls.mouse=function(zn){return nm(zn,bp())};var V0=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function nm(zn,Gl){Gl.changedTouches&&(Gl=Gl.changedTouches[0]);var Ql=zn.ownerSVGElement||zn;if(Ql.createSVGPoint){var zu=Ql.createSVGPoint();if(V0<0){var Yu=yl(zn);if(Yu.scrollX||Yu.scrollY){Ql=ls.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var Qu=Ql[0][0].getScreenCTM();V0=!(Qu.f||Qu.e),Ql.remove()}}return V0?(zu.x=Gl.pageX,zu.y=Gl.pageY):(zu.x=Gl.clientX,zu.y=Gl.clientY),zu=zu.matrixTransform(zn.getScreenCTM().inverse()),[zu.x,zu.y]}var Sp=zn.getBoundingClientRect();return[Gl.clientX-Sp.left-zn.clientLeft,Gl.clientY-Sp.top-zn.clientTop]}ls.touch=function(zn,Gl,Ql){if(arguments.length<3&&(Ql=Gl,Gl=bp().changedTouches),Gl){for(var zu=0,Yu=Gl.length,Qu;zu<Yu;++zu)if((Qu=Gl[zu]).identifier===Ql)return nm(zn,Qu)}},ls.behavior.drag=function(){var zn=wp(Yu,"drag","dragstart","dragend"),Gl=null,Ql=Qu(qu,ls.mouse,yl,"mousemove","mouseup"),zu=Qu(Ep,ls.touch,Hu,"touchmove","touchend");function Yu(){this.on("mousedown.drag",Ql).on("touchstart.drag",zu)}function Qu(Sp,vp,Rp,jp,Wp){return function(){var d0=this,g0=ls.event.target.correspondingElement||ls.event.target,N0=d0.parentNode,Z0=zn.of(d0,arguments),m0=0,D0=Sp(),L0=".drag"+(D0==null?"":"-"+D0),Y0,K0=ls.select(Rp(g0)).on(jp+L0,Zm).on(Wp+L0,Qm),I0=J0(g0),Pm=vp(N0,D0);Gl?(Y0=Gl.apply(d0,arguments),Y0=[Y0.x-Pm[0],Y0.y-Pm[1]]):Y0=[0,0],Z0({type:"dragstart"});function Zm(){var Xm=vp(N0,D0),s1,l1;Xm&&(s1=Xm[0]-Pm[0],l1=Xm[1]-Pm[1],m0|=s1|l1,Pm=Xm,Z0({type:"drag",x:Xm[0]+Y0[0],y:Xm[1]+Y0[1],dx:s1,dy:l1}))}function Qm(){vp(N0,D0)&&(K0.on(jp+L0,null).on(Wp+L0,null),I0(m0),Z0({type:"dragend"}))}}}return Yu.origin=function(Sp){return arguments.length?(Gl=Sp,Yu):Gl},ls.rebind(Yu,zn,"on")};function Ep(){return ls.event.changedTouches[0].identifier}ls.touches=function(zn,Gl){return arguments.length<2&&(Gl=bp().touches),Gl?Fn(Gl).map(function(Ql){var zu=nm(zn,Ql);return zu.identifier=Ql.identifier,zu}):[]};var $p=1e-6,Zu=$p*$p,lp=Math.PI,mp=2*lp,Tp=mp-$p,Lp=lp/2,Up=lp/180,Xp=180/lp;function c0(zn,Gl,Ql){return(Gl[0]-zn[0])*(Ql[1]-zn[1])-(Gl[1]-zn[1])*(Ql[0]-zn[0])}function i0(zn){return zn>1?Lp:zn<-1?-Lp:Math.asin(zn)}function s0(zn){return((zn=Math.exp(zn))-1/zn)/2}function M0(zn){return((zn=Math.exp(zn))+1/zn)/2}function A0(zn){return((zn=Math.exp(2*zn))-1)/(zn+1)}var R0=Math.SQRT2,rm=2,wm=4;ls.interpolateZoom=function(zn,Gl){var Ql=zn[0],zu=zn[1],Yu=zn[2],Qu=Gl[0],Sp=Gl[1],vp=Gl[2],Rp=Qu-Ql,jp=Sp-zu,Wp=Rp*Rp+jp*jp,d0,g0;if(Wp<Zu)g0=Math.log(vp/Yu)/R0,d0=function(Y0){return[Ql+Y0*Rp,zu+Y0*jp,Yu*Math.exp(R0*Y0*g0)]};else{var N0=Math.sqrt(Wp),Z0=(vp*vp-Yu*Yu+wm*Wp)/(2*Yu*rm*N0),m0=(vp*vp-Yu*Yu-wm*Wp)/(2*vp*rm*N0),D0=Math.log(Math.sqrt(Z0*Z0+1)-Z0),L0=Math.log(Math.sqrt(m0*m0+1)-m0);g0=(L0-D0)/R0,d0=function(Y0){var K0=Y0*g0,I0=M0(D0),Pm=Yu/(rm*N0)*(I0*A0(R0*K0+D0)-s0(D0));return[Ql+Pm*Rp,zu+Pm*jp,Yu*I0/M0(R0*K0+D0)]}}return d0.duration=g0*1e3,d0},ls.behavior.zoom=function(){var zn={x:0,y:0,k:1},Gl,Ql,zu,Yu=[960,500],Qu=Bm,Sp=250,vp=0,Rp="mousedown.zoom",jp="mousemove.zoom",Wp="mouseup.zoom",d0,g0="touchstart.zoom",N0,Z0=wp(K0,"zoomstart","zoom","zoomend"),m0,D0,L0,Y0;Ym||(Ym="onwheel"in xl?(Vm=function(){return-ls.event.deltaY*(ls.event.deltaMode?120:1)},"wheel"):"onmousewheel"in xl?(Vm=function(){return ls.event.wheelDelta},"mousewheel"):(Vm=function(){return-ls.event.detail},"MozMousePixelScroll"));function K0(Km){Km.on(Rp,C1).on(Ym+".zoom",Bv).on("dblclick.zoom",sv).on(g0,K1)}K0.event=function(Km){Km.each(function(){var M1=Z0.of(this,arguments),F1=zn;L2?ls.select(this).transition().each("start.zoom",function(){zn=this.__chart__||{x:0,y:0,k:1},l1(M1)}).tween("zoom:zoom",function(){var Z1=Yu[0],Lv=Yu[1],Vv=Ql?Ql[0]:Z1/2,ty=Ql?Ql[1]:Lv/2,py=ls.interpolateZoom([(Vv-zn.x)/zn.k,(ty-zn.y)/zn.k,Z1/zn.k],[(Vv-F1.x)/F1.k,(ty-F1.y)/F1.k,Z1/F1.k]);return function(my){var fy=py(my),yy=Z1/fy[2];this.__chart__=zn={x:Vv-fy[0]*yy,y:ty-fy[1]*yy,k:yy},k1(M1)}}).each("interrupt.zoom",function(){h1(M1)}).each("end.zoom",function(){h1(M1)}):(this.__chart__=zn,l1(M1),k1(M1),h1(M1))})},K0.translate=function(Km){return arguments.length?(zn={x:+Km[0],y:+Km[1],k:zn.k},s1(),K0):[zn.x,zn.y]},K0.scale=function(Km){return arguments.length?(zn={x:zn.x,y:zn.y,k:null},Zm(+Km),s1(),K0):zn.k},K0.scaleExtent=function(Km){return arguments.length?(Qu=Km==null?Bm:[+Km[0],+Km[1]],K0):Qu},K0.center=function(Km){return arguments.length?(zu=Km&&[+Km[0],+Km[1]],K0):zu},K0.size=function(Km){return arguments.length?(Yu=Km&&[+Km[0],+Km[1]],K0):Yu},K0.duration=function(Km){return arguments.length?(Sp=+Km,K0):Sp},K0.x=function(Km){return arguments.length?(D0=Km,m0=Km.copy(),zn={x:0,y:0,k:1},K0):D0},K0.y=function(Km){return arguments.length?(Y0=Km,L0=Km.copy(),zn={x:0,y:0,k:1},K0):Y0};function I0(Km){return[(Km[0]-zn.x)/zn.k,(Km[1]-zn.y)/zn.k]}function Pm(Km){return[Km[0]*zn.k+zn.x,Km[1]*zn.k+zn.y]}function Zm(Km){zn.k=Math.max(Qu[0],Math.min(Qu[1],Km))}function Qm(Km,M1){M1=Pm(M1),zn.x+=Km[0]-M1[0],zn.y+=Km[1]-M1[1]}function Xm(Km,M1,F1,Z1){Km.__chart__={x:zn.x,y:zn.y,k:zn.k},Zm(Math.pow(2,Z1)),Qm(Ql=M1,F1),Km=ls.select(Km),Sp>0&&(Km=Km.transition().duration(Sp)),Km.call(K0.event)}function s1(){D0&&D0.domain(m0.range().map(function(Km){return(Km-zn.x)/zn.k}).map(m0.invert)),Y0&&Y0.domain(L0.range().map(function(Km){return(Km-zn.y)/zn.k}).map(L0.invert))}function l1(Km){vp++||Km({type:"zoomstart"})}function k1(Km){s1(),Km({type:"zoom",scale:zn.k,translate:[zn.x,zn.y]})}function h1(Km){--vp||(Km({type:"zoomend"}),Ql=null)}function C1(){var Km=this,M1=Z0.of(Km,arguments),F1=0,Z1=ls.select(yl(Km)).on(jp,ty).on(Wp,py),Lv=I0(ls.mouse(Km)),Vv=J0(Km);pw.call(Km),l1(M1);function ty(){F1=1,Qm(ls.mouse(Km),Lv),k1(M1)}function py(){Z1.on(jp,null).on(Wp,null),Vv(F1),h1(M1)}}function K1(){var Km=this,M1=Z0.of(Km,arguments),F1={},Z1=0,Lv,Vv=".zoom-"+ls.event.changedTouches[0].identifier,ty="touchmove"+Vv,py="touchend"+Vv,my=[],fy=ls.select(Km),yy=J0(Km);by(),l1(M1),fy.on(Rp,null).on(g0,by);function oy(){var jy=ls.touches(Km);return Lv=zn.k,jy.forEach(function(ry){ry.identifier in F1&&(F1[ry.identifier]=I0(ry))}),jy}function by(){var jy=ls.event.target;ls.select(jy).on(ty,O2).on(py,d6),my.push(jy);for(var ry=ls.event.changedTouches,Ry=0,Jy=ry.length;Ry<Jy;++Ry)F1[ry[Ry].identifier]=null;var Fy=oy(),r3=Date.now();if(Fy.length===1){if(r3-N0<500){var I2=Fy[0];Xm(Km,I2,F1[I2.identifier],Math.floor(Math.log(zn.k)/Math.LN2)+1),ap()}N0=r3}else if(Fy.length>1){var I2=Fy[0],b2=Fy[1],mw=I2[0]-b2[0],G5=I2[1]-b2[1];Z1=mw*mw+G5*G5}}function O2(){var jy=ls.touches(Km),ry,Ry,Jy,Fy;pw.call(Km);for(var r3=0,I2=jy.length;r3<I2;++r3,Fy=null)if(Jy=jy[r3],Fy=F1[Jy.identifier]){if(Ry)break;ry=Jy,Ry=Fy}if(Fy){var b2=(b2=Jy[0]-ry[0])*b2+(b2=Jy[1]-ry[1])*b2,mw=Z1&&Math.sqrt(b2/Z1);ry=[(ry[0]+Jy[0])/2,(ry[1]+Jy[1])/2],Ry=[(Ry[0]+Fy[0])/2,(Ry[1]+Fy[1])/2],Zm(mw*Lv)}N0=null,Qm(ry,Ry),k1(M1)}function d6(){if(ls.event.touches.length){for(var jy=ls.event.changedTouches,ry=0,Ry=jy.length;ry<Ry;++ry)delete F1[jy[ry].identifier];for(var Jy in F1)return void oy()}ls.selectAll(my).on(Vv,null),fy.on(Rp,C1).on(g0,K1),yy(),h1(M1)}}function Bv(){var Km=Z0.of(this,arguments);d0?clearTimeout(d0):(pw.call(this),Gl=I0(Ql=zu||ls.mouse(this)),l1(Km)),d0=setTimeout(function(){d0=null,h1(Km)},50),ap(),Zm(Math.pow(2,Vm()*.002)*zn.k),Qm(Ql,Gl),k1(Km)}function sv(){var Km=ls.mouse(this),M1=Math.log(zn.k)/Math.LN2;Xm(this,Km,I0(Km),ls.event.shiftKey?Math.ceil(M1)-1:Math.floor(M1)+1)}return ls.rebind(K0,Z0,"on")};var Bm=[0,1/0],Vm,Ym;ls.color=_m;function _m(){}_m.prototype.toString=function(){return this.rgb()+""},ls.hsl=sm;function sm(zn,Gl,Ql){return this instanceof sm?(this.h=+zn,this.s=+Gl,void(this.l=+Ql)):arguments.length<2?zn instanceof sm?new sm(zn.h,zn.s,zn.l):qp(""+zn,_f,sm):new sm(zn,Gl,Ql)}var zm=sm.prototype=new _m;zm.brighter=function(zn){return zn=Math.pow(.7,arguments.length?zn:1),new sm(this.h,this.s,this.l/zn)},zm.darker=function(zn){return zn=Math.pow(.7,arguments.length?zn:1),new sm(this.h,this.s,zn*this.l)},zm.rgb=function(){return Wm(this.h,this.s,this.l)};function Wm(zn,Gl,Ql){var zu,Yu;zn=isNaN(zn)?0:(zn%=360)<0?zn+360:zn,Gl=isNaN(Gl)||Gl<0?0:Gl>1?1:Gl,Ql=Ql<0?0:Ql>1?1:Ql,Yu=Ql<=.5?Ql*(1+Gl):Ql+Gl-Ql*Gl,zu=2*Ql-Yu;function Qu(vp){return vp>360?vp-=360:vp<0&&(vp+=360),vp<60?zu+(Yu-zu)*vp/60:vp<180?Yu:vp<240?zu+(Yu-zu)*(240-vp)/60:zu}function Sp(vp){return Math.round(Qu(vp)*255)}return new km(Sp(zn+120),Sp(zn),Sp(zn-120))}ls.hcl=Im;function Im(zn,Gl,Ql){return this instanceof Im?(this.h=+zn,this.c=+Gl,void(this.l=+Ql)):arguments.length<2?zn instanceof Im?new Im(zn.h,zn.c,zn.l):zn instanceof Sm?_1(zn.l,zn.a,zn.b):_1((zn=zp((zn=ls.rgb(zn)).r,zn.g,zn.b)).l,zn.a,zn.b):new Im(zn,Gl,Ql)}var Am=Im.prototype=new _m;Am.brighter=function(zn){return new Im(this.h,this.c,Math.min(100,this.l+e1*(arguments.length?zn:1)))},Am.darker=function(zn){return new Im(this.h,this.c,Math.max(0,this.l-e1*(arguments.length?zn:1)))},Am.rgb=function(){return Fm(this.h,this.c,this.l).rgb()};function Fm(zn,Gl,Ql){return isNaN(zn)&&(zn=0),isNaN(Gl)&&(Gl=0),new Sm(Ql,Math.cos(zn*=Up)*Gl,Math.sin(zn)*Gl)}ls.lab=Sm;function Sm(zn,Gl,Ql){return this instanceof Sm?(this.l=+zn,this.a=+Gl,void(this.b=+Ql)):arguments.length<2?zn instanceof Sm?new Sm(zn.l,zn.a,zn.b):zn instanceof Im?Fm(zn.h,zn.c,zn.l):zp((zn=km(zn)).r,zn.g,zn.b):new Sm(zn,Gl,Ql)}var e1=18,u1=.95047,jm=1,d1=1.08883,m1=Sm.prototype=new _m;m1.brighter=function(zn){return new Sm(Math.min(100,this.l+e1*(arguments.length?zn:1)),this.a,this.b)},m1.darker=function(zn){return new Sm(Math.max(0,this.l-e1*(arguments.length?zn:1)),this.a,this.b)},m1.rgb=function(){return S1(this.l,this.a,this.b)};function S1(zn,Gl,Ql){var zu=(zn+16)/116,Yu=zu+Gl/500,Qu=zu-Ql/200;return Yu=n1(Yu)*u1,zu=n1(zu)*jm,Qu=n1(Qu)*d1,new km(f1(3.2404542*Yu-1.5371385*zu-.4985314*Qu),f1(-.969266*Yu+1.8760108*zu+.041556*Qu),f1(.0556434*Yu-.2040259*zu+1.0572252*Qu))}function _1(zn,Gl,Ql){return zn>0?new Im(Math.atan2(Ql,Gl)*Xp,Math.sqrt(Gl*Gl+Ql*Ql),zn):new Im(NaN,NaN,zn)}function n1(zn){return zn>.206893034?zn*zn*zn:(zn-4/29)/7.787037}function b1(zn){return zn>.008856?Math.pow(zn,1/3):7.787037*zn+4/29}function f1(zn){return Math.round(255*(zn<=.00304?12.92*zn:1.055*Math.pow(zn,1/2.4)-.055))}ls.rgb=km;function km(zn,Gl,Ql){return this instanceof km?(this.r=~~zn,this.g=~~Gl,void(this.b=~~Ql)):arguments.length<2?zn instanceof km?new km(zn.r,zn.g,zn.b):qp(""+zn,km,Wm):new km(zn,Gl,Ql)}function D1(zn){return new km(zn>>16,zn>>8&255,zn&255)}function _d(zn){return D1(zn)+""}var Xu=km.prototype=new _m;Xu.brighter=function(zn){zn=Math.pow(.7,arguments.length?zn:1);var Gl=this.r,Ql=this.g,zu=this.b,Yu=30;return!Gl&&!Ql&&!zu?new km(Yu,Yu,Yu):(Gl&&Gl<Yu&&(Gl=Yu),Ql&&Ql<Yu&&(Ql=Yu),zu&&zu<Yu&&(zu=Yu),new km(Math.min(255,Gl/zn),Math.min(255,Ql/zn),Math.min(255,zu/zn)))},Xu.darker=function(zn){return zn=Math.pow(.7,arguments.length?zn:1),new km(zn*this.r,zn*this.g,zn*this.b)},Xu.hsl=function(){return _f(this.r,this.g,this.b)},Xu.toString=function(){return"#"+Bp(this.r)+Bp(this.g)+Bp(this.b)};function Bp(zn){return zn<16?"0"+Math.max(0,zn).toString(16):Math.min(255,zn).toString(16)}function qp(zn,Gl,Ql){var zu=0,Yu=0,Qu=0,Sp,vp,Rp;if(Sp=/([a-z]+)\((.*)\)/.exec(zn=zn.toLowerCase()),Sp)switch(vp=Sp[2].split(","),Sp[1]){case"hsl":return Ql(parseFloat(vp[0]),parseFloat(vp[1])/100,parseFloat(vp[2])/100);case"rgb":return Gl(t0(vp[0]),t0(vp[1]),t0(vp[2]))}return(Rp=Qp.get(zn))?Gl(Rp.r,Rp.g,Rp.b):(zn!=null&&zn.charAt(0)==="#"&&!isNaN(Rp=parseInt(zn.slice(1),16))&&(zn.length===4?(zu=(Rp&3840)>>4,zu=zu>>4|zu,Yu=Rp&240,Yu=Yu>>4|Yu,Qu=Rp&15,Qu=Qu<<4|Qu):zn.length===7&&(zu=(Rp&16711680)>>16,Yu=(Rp&65280)>>8,Qu=Rp&255)),Gl(zu,Yu,Qu))}function _f(zn,Gl,Ql){var zu=Math.min(zn/=255,Gl/=255,Ql/=255),Yu=Math.max(zn,Gl,Ql),Qu=Yu-zu,Sp,vp,Rp=(Yu+zu)/2;return Qu?(vp=Rp<.5?Qu/(Yu+zu):Qu/(2-Yu-zu),zn==Yu?Sp=(Gl-Ql)/Qu+(Gl<Ql?6:0):Gl==Yu?Sp=(Ql-zn)/Qu+2:Sp=(zn-Gl)/Qu+4,Sp*=60):(Sp=NaN,vp=Rp>0&&Rp<1?0:Sp),new sm(Sp,vp,Rp)}function zp(zn,Gl,Ql){zn=Hp(zn),Gl=Hp(Gl),Ql=Hp(Ql);var zu=b1((.4124564*zn+.3575761*Gl+.1804375*Ql)/u1),Yu=b1((.2126729*zn+.7151522*Gl+.072175*Ql)/jm),Qu=b1((.0193339*zn+.119192*Gl+.9503041*Ql)/d1);return Sm(116*Yu-16,500*(zu-Yu),200*(Yu-Qu))}function Hp(zn){return(zn/=255)<=.04045?zn/12.92:Math.pow((zn+.055)/1.055,2.4)}function t0(zn){var Gl=parseFloat(zn);return zn.charAt(zn.length-1)==="%"?Math.round(Gl*2.55):Gl}var Qp=ls.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Qp.forEach(function(zn,Gl){Qp.set(zn,D1(Gl))});function p0(zn){return typeof zn=="function"?zn:function(){return zn}}ls.functor=p0,ls.xhr=y0(Hu);function y0(zn){return function(Gl,Ql,zu){return arguments.length===2&&typeof Ql=="function"&&(zu=Ql,Ql=null),H0(Gl,Ql,zn,zu)}}function H0(zn,Gl,Ql,zu){var Yu={},Qu=ls.dispatch("beforesend","progress","load","error"),Sp={},vp=new XMLHttpRequest,Rp=null;self.XDomainRequest&&!("withCredentials"in vp)&&/^(http(s)?:)?\/\//.test(zn)&&(vp=new XDomainRequest),"onload"in vp?vp.onload=vp.onerror=jp:vp.onreadystatechange=function(){vp.readyState>3&&jp()};function jp(){var Wp=vp.status,d0;if(!Wp&&pm(vp)||Wp>=200&&Wp<300||Wp===304){try{d0=Ql.call(Yu,vp)}catch(g0){Qu.error.call(Yu,g0);return}Qu.load.call(Yu,d0)}else Qu.error.call(Yu,vp)}return vp.onprogress=function(Wp){var d0=ls.event;ls.event=Wp;try{Qu.progress.call(Yu,vp)}finally{ls.event=d0}},Yu.header=function(Wp,d0){return Wp=(Wp+"").toLowerCase(),arguments.length<2?Sp[Wp]:(d0==null?delete Sp[Wp]:Sp[Wp]=d0+"",Yu)},Yu.mimeType=function(Wp){return arguments.length?(Gl=Wp==null?null:Wp+"",Yu):Gl},Yu.responseType=function(Wp){return arguments.length?(Rp=Wp,Yu):Rp},Yu.response=function(Wp){return Ql=Wp,Yu},["get","post"].forEach(function(Wp){Yu[Wp]=function(){return Yu.send.apply(Yu,[Wp].concat(Fn(arguments)))}}),Yu.send=function(Wp,d0,g0){if(arguments.length===2&&typeof d0=="function"&&(g0=d0,d0=null),vp.open(Wp,zn,!0),Gl!=null&&!("accept"in Sp)&&(Sp.accept=Gl+",*/*"),vp.setRequestHeader)for(var N0 in Sp)vp.setRequestHeader(N0,Sp[N0]);return Gl!=null&&vp.overrideMimeType&&vp.overrideMimeType(Gl),Rp!=null&&(vp.responseType=Rp),g0!=null&&Yu.on("error",g0).on("load",function(Z0){g0(null,Z0)}),Qu.beforesend.call(Yu,vp),vp.send(d0??null),Yu},Yu.abort=function(){return vp.abort(),Yu},ls.rebind(Yu,Qu,"on"),zu==null?Yu:Yu.get(ym(zu))}function ym(zn){return zn.length===1?function(Gl,Ql){zn(Gl==null?Ql:null)}:zn}function pm(zn){var Gl=zn.responseType;return Gl&&Gl!=="text"?zn.response:zn.responseText}ls.dsv=function(zn,Gl){var Ql=new RegExp('["'+zn+`
]`),zu=zn.charCodeAt(0);function Yu(jp,Wp,d0){arguments.length<3&&(d0=Wp,Wp=null);var g0=H0(jp,Gl,Wp==null?Qu:Sp(Wp),d0);return g0.row=function(N0){return arguments.length?g0.response((Wp=N0)==null?Qu:Sp(N0)):Wp},g0}function Qu(jp){return Yu.parse(jp.responseText)}function Sp(jp){return function(Wp){return Yu.parse(Wp.responseText,jp)}}Yu.parse=function(jp,Wp){var d0;return Yu.parseRows(jp,function(g0,N0){if(d0)return d0(g0,N0-1);var Z0=function(m0){for(var D0={},L0=g0.length,Y0=0;Y0<L0;++Y0)D0[g0[Y0]]=m0[Y0];return D0};d0=Wp?function(m0,D0){return Wp(Z0(m0),D0)}:Z0})},Yu.parseRows=function(jp,Wp){var d0={},g0={},N0=[],Z0=jp.length,m0=0,D0=0,L0,Y0;function K0(){if(m0>=Z0)return g0;if(Y0)return Y0=!1,d0;var Pm=m0;if(jp.charCodeAt(Pm)===34){for(var Zm=Pm;Zm++<Z0;)if(jp.charCodeAt(Zm)===34){if(jp.charCodeAt(Zm+1)!==34)break;++Zm}m0=Zm+2;var Qm=jp.charCodeAt(Zm+1);return Qm===13?(Y0=!0,jp.charCodeAt(Zm+2)===10&&++m0):Qm===10&&(Y0=!0),jp.slice(Pm+1,Zm).replace(/""/g,'"')}for(;m0<Z0;){var Qm=jp.charCodeAt(m0++),Xm=1;if(Qm===10)Y0=!0;else if(Qm===13)Y0=!0,jp.charCodeAt(m0)===10&&(++m0,++Xm);else if(Qm!==zu)continue;return jp.slice(Pm,m0-Xm)}return jp.slice(Pm)}for(;(L0=K0())!==g0;){for(var I0=[];L0!==d0&&L0!==g0;)I0.push(L0),L0=K0();Wp&&(I0=Wp(I0,D0++))==null||N0.push(I0)}return N0},Yu.format=function(jp){if(Array.isArray(jp[0]))return Yu.formatRows(jp);var Wp=new Du,d0=[];return jp.forEach(function(g0){for(var N0 in g0)Wp.has(N0)||d0.push(Wp.add(N0))}),[d0.map(Rp).join(zn)].concat(jp.map(function(g0){return d0.map(function(N0){return Rp(g0[N0])}).join(zn)})).join(`
`)},Yu.formatRows=function(jp){return jp.map(vp).join(`
`)};function vp(jp){return jp.map(Rp).join(zn)}function Rp(jp){return Ql.test(jp)?'"'+jp.replace(/\"/g,'""')+'"':jp}return Yu},ls.csv=ls.dsv(",","text/csv"),ls.tsv=ls.dsv("	","text/tab-separated-values");var Tm,um,Rm,Gm,x1=this[gu(this,"requestAnimationFrame")]||function(zn){setTimeout(zn,17)};ls.timer=function(){t1.apply(this,arguments)};function t1(zn,Gl,Ql){var zu=arguments.length;zu<2&&(Gl=0),zu<3&&(Ql=Date.now());var Yu=Ql+Gl,Qu={c:zn,t:Yu,n:null};return um?um.n=Qu:Tm=Qu,um=Qu,Rm||(Gm=clearTimeout(Gm),Rm=1,x1(O1)),Qu}function O1(){var zn=p1(),Gl=$1()-zn;Gl>24?(isFinite(Gl)&&(clearTimeout(Gm),Gm=setTimeout(O1,Gl)),Rm=0):(Rm=1,x1(O1))}ls.timer.flush=function(){p1(),$1()};function p1(){for(var zn=Date.now(),Gl=Tm;Gl;)zn>=Gl.t&&Gl.c(zn-Gl.t)&&(Gl.c=null),Gl=Gl.n;return zn}function $1(){for(var zn,Gl=Tm,Ql=1/0;Gl;)Gl.c?(Gl.t<Ql&&(Ql=Gl.t),Gl=(zn=Gl).n):Gl=zn?zn.n=Gl.n:Tm=Gl.n;return um=zn,Ql}ls.round=function(zn,Gl){return Gl?Math.round(zn*(Gl=Math.pow(10,Gl)))/Gl:Math.round(zn)},ls.geom={};function L1(zn){return zn[0]}function ov(zn){return zn[1]}ls.geom.hull=function(zn){var Gl=L1,Ql=ov;if(arguments.length)return zu(zn);function zu(Yu){if(Yu.length<3)return[];var Qu=p0(Gl),Sp=p0(Ql),vp,Rp=Yu.length,jp=[],Wp=[];for(vp=0;vp<Rp;vp++)jp.push([+Qu.call(this,Yu[vp],vp),+Sp.call(this,Yu[vp],vp),vp]);for(jp.sort(g1),vp=0;vp<Rp;vp++)Wp.push([jp[vp][0],-jp[vp][1]]);var d0=X1(jp),g0=X1(Wp),N0=g0[0]===d0[0],Z0=g0[g0.length-1]===d0[d0.length-1],m0=[];for(vp=d0.length-1;vp>=0;--vp)m0.push(Yu[jp[d0[vp]][2]]);for(vp=+N0;vp<g0.length-Z0;++vp)m0.push(Yu[jp[g0[vp]][2]]);return m0}return zu.x=function(Yu){return arguments.length?(Gl=Yu,zu):Gl},zu.y=function(Yu){return arguments.length?(Ql=Yu,zu):Ql},zu};function X1(zn){for(var Gl=zn.length,Ql=[0,1],zu=2,Yu=2;Yu<Gl;Yu++){for(;zu>1&&c0(zn[Ql[zu-2]],zn[Ql[zu-1]],zn[Yu])<=0;)--zu;Ql[zu++]=Yu}return Ql.slice(0,zu)}function g1(zn,Gl){return zn[0]-Gl[0]||zn[1]-Gl[1]}ls.geom.polygon=function(zn){return Iu(zn,cv),zn};var cv=ls.geom.polygon.prototype=[];cv.area=function(){for(var zn=-1,Gl=this.length,Ql,zu=this[Gl-1],Yu=0;++zn<Gl;)Ql=zu,zu=this[zn],Yu+=Ql[1]*zu[0]-Ql[0]*zu[1];return Yu*.5},cv.centroid=function(zn){var Gl=-1,Ql=this.length,zu=0,Yu=0,Qu,Sp=this[Ql-1],vp;for(arguments.length||(zn=-1/(6*this.area()));++Gl<Ql;)Qu=Sp,Sp=this[Gl],vp=Qu[0]*Sp[1]-Sp[0]*Qu[1],zu+=(Qu[0]+Sp[0])*vp,Yu+=(Qu[1]+Sp[1])*vp;return[zu*zn,Yu*zn]},cv.clip=function(zn){for(var Gl,Ql=ev(zn),zu=-1,Yu=this.length-ev(this),Qu,Sp,vp=this[Yu-1],Rp,jp,Wp;++zu<Yu;){for(Gl=zn.slice(),zn.length=0,Rp=this[zu],jp=Gl[(Sp=Gl.length-Ql)-1],Qu=-1;++Qu<Sp;)Wp=Gl[Qu],Q1(Wp,vp,Rp)?(Q1(jp,vp,Rp)||zn.push(y1(jp,Wp,vp,Rp)),zn.push(Wp)):Q1(jp,vp,Rp)&&zn.push(y1(jp,Wp,vp,Rp)),jp=Wp;Ql&&zn.push(zn[0]),vp=Rp}return zn};function Q1(zn,Gl,Ql){return(Ql[0]-Gl[0])*(zn[1]-Gl[1])<(Ql[1]-Gl[1])*(zn[0]-Gl[0])}function y1(zn,Gl,Ql,zu){var Yu=zn[0],Qu=Ql[0],Sp=Gl[0]-Yu,vp=zu[0]-Qu,Rp=zn[1],jp=Ql[1],Wp=Gl[1]-Rp,d0=zu[1]-jp,g0=(vp*(Rp-jp)-d0*(Yu-Qu))/(d0*Sp-vp*Wp);return[Yu+g0*Sp,Rp+g0*Wp]}function ev(zn){var Gl=zn[0],Ql=zn[zn.length-1];return!(Gl[0]-Ql[0]||Gl[1]-Ql[1])}var av,tv,Ev,Uv=[],T1,W1,N1=[];function U1(){Tv(this),this.edge=this.site=this.circle=null}function gv(zn){var Gl=Uv.pop()||new U1;return Gl.site=zn,Gl}function kv(zn){zv(zn),Ev.remove(zn),Uv.push(zn),Tv(zn)}function Ov(zn){var Gl=zn.circle,Ql=Gl.x,zu=Gl.cy,Yu={x:Ql,y:zu},Qu=zn.P,Sp=zn.N,vp=[zn];kv(zn);for(var Rp=Qu;Rp.circle&&_l(Ql-Rp.circle.x)<$p&&_l(zu-Rp.circle.cy)<$p;)Qu=Rp.P,vp.unshift(Rp),kv(Rp),Rp=Qu;vp.unshift(Rp),zv(Rp);for(var jp=Sp;jp.circle&&_l(Ql-jp.circle.x)<$p&&_l(zu-jp.circle.cy)<$p;)Sp=jp.N,vp.push(jp),kv(jp),jp=Sp;vp.push(jp),zv(jp);var Wp=vp.length,d0;for(d0=1;d0<Wp;++d0)jp=vp[d0],Rp=vp[d0-1],vv(jp.edge,Rp.site,jp.site,Yu);Rp=vp[0],jp=vp[Wp-1],jp.edge=Cy(Rp.site,jp.site,null,Yu),Hv(Rp),Hv(jp)}function Mv(zn){for(var Gl=zn.x,Ql=zn.y,zu,Yu,Qu,Sp,vp=Ev._;vp;)if(Qu=$v(vp,Ql)-Gl,Qu>$p)vp=vp.L;else if(Sp=Gl-Av(vp,Ql),Sp>$p){if(!vp.R){zu=vp;break}vp=vp.R}else{Qu>-$p?(zu=vp.P,Yu=vp):Sp>-$p?(zu=vp,Yu=vp.N):zu=Yu=vp;break}var Rp=gv(zn);if(Ev.insert(zu,Rp),!(!zu&&!Yu)){if(zu===Yu){zv(zu),Yu=gv(zu.site),Ev.insert(Rp,Yu),Rp.edge=Yu.edge=Cy(zu.site,Rp.site),Hv(zu),Hv(Yu);return}if(!Yu){Rp.edge=Cy(zu.site,Rp.site);return}zv(zu),zv(Yu);var jp=zu.site,Wp=jp.x,d0=jp.y,g0=zn.x-Wp,N0=zn.y-d0,Z0=Yu.site,m0=Z0.x-Wp,D0=Z0.y-d0,L0=2*(g0*D0-N0*m0),Y0=g0*g0+N0*N0,K0=m0*m0+D0*D0,I0={x:(D0*Y0-N0*K0)/L0+Wp,y:(g0*K0-m0*Y0)/L0+d0};vv(Yu.edge,jp,Z0,I0),Rp.edge=Cy(jp,zn,null,I0),Yu.edge=Cy(zn,Z0,null,I0),Hv(zu),Hv(Yu)}}function $v(zn,Gl){var Ql=zn.site,zu=Ql.x,Yu=Ql.y,Qu=Yu-Gl;if(!Qu)return zu;var Sp=zn.P;if(!Sp)return-1/0;Ql=Sp.site;var vp=Ql.x,Rp=Ql.y,jp=Rp-Gl;if(!jp)return vp;var Wp=vp-zu,d0=1/Qu-1/jp,g0=Wp/jp;return d0?(-g0+Math.sqrt(g0*g0-2*d0*(Wp*Wp/(-2*jp)-Rp+jp/2+Yu-Qu/2)))/d0+zu:(zu+vp)/2}function Av(zn,Gl){var Ql=zn.N;if(Ql)return $v(Ql,Gl);var zu=zn.site;return zu.y===Gl?zu.x:1/0}function B1(zn){this.site=zn,this.edges=[]}B1.prototype.prepare=function(){for(var zn=this.edges,Gl=zn.length,Ql;Gl--;)Ql=zn[Gl].edge,(!Ql.b||!Ql.a)&&zn.splice(Gl,1);return zn.sort(Iv),zn.length};function hy(zn){for(var Gl=zn[0][0],Ql=zn[1][0],zu=zn[0][1],Yu=zn[1][1],Qu,Sp,vp,Rp,jp=tv,Wp=jp.length,d0,g0,N0,Z0,m0,D0;Wp--;)if(d0=jp[Wp],!(!d0||!d0.prepare()))for(N0=d0.edges,Z0=N0.length,g0=0;g0<Z0;)D0=N0[g0].end(),vp=D0.x,Rp=D0.y,m0=N0[++g0%Z0].start(),Qu=m0.x,Sp=m0.y,(_l(vp-Qu)>$p||_l(Rp-Sp)>$p)&&(N0.splice(g0,0,new Dv(q1(d0.site,D0,_l(vp-Gl)<$p&&Yu-Rp>$p?{x:Gl,y:_l(Qu-Gl)<$p?Sp:Yu}:_l(Rp-Yu)<$p&&Ql-vp>$p?{x:_l(Sp-Yu)<$p?Qu:Ql,y:Yu}:_l(vp-Ql)<$p&&Rp-zu>$p?{x:Ql,y:_l(Qu-Ql)<$p?Sp:zu}:_l(Rp-zu)<$p&&vp-Gl>$p?{x:_l(Sp-zu)<$p?Qu:Gl,y:zu}:null),d0.site,null)),++Z0)}function Iv(zn,Gl){return Gl.angle-zn.angle}function Zv(){Tv(this),this.x=this.y=this.arc=this.site=this.cy=null}function Hv(zn){var Gl=zn.P,Ql=zn.N;if(!(!Gl||!Ql)){var zu=Gl.site,Yu=zn.site,Qu=Ql.site;if(zu!==Qu){var Sp=Yu.x,vp=Yu.y,Rp=zu.x-Sp,jp=zu.y-vp,Wp=Qu.x-Sp,d0=Qu.y-vp,g0=2*(Rp*d0-jp*Wp);if(!(g0>=-Zu)){var N0=Rp*Rp+jp*jp,Z0=Wp*Wp+d0*d0,m0=(d0*N0-jp*Z0)/g0,D0=(Rp*Z0-Wp*N0)/g0,d0=D0+vp,L0=N1.pop()||new Zv;L0.arc=zn,L0.site=Yu,L0.x=m0+Sp,L0.y=d0+Math.sqrt(m0*m0+D0*D0),L0.cy=d0,zn.circle=L0;for(var Y0=null,K0=W1._;K0;)if(L0.y<K0.y||L0.y===K0.y&&L0.x<=K0.x)if(K0.L)K0=K0.L;else{Y0=K0.P;break}else if(K0.R)K0=K0.R;else{Y0=K0;break}W1.insert(Y0,L0),Y0||(T1=L0)}}}}function zv(zn){var Gl=zn.circle;Gl&&(Gl.P||(T1=Gl.N),W1.remove(Gl),N1.push(Gl),Tv(Gl),zn.circle=null)}function vy(zn,Gl,Ql,zu){return function(Yu){var Qu=Yu.a,Sp=Yu.b,vp=Qu.x,Rp=Qu.y,jp=Sp.x,Wp=Sp.y,d0=0,g0=1,N0=jp-vp,Z0=Wp-Rp,m0;if(m0=zn-vp,!(!N0&&m0>0)){if(m0/=N0,N0<0){if(m0<d0)return;m0<g0&&(g0=m0)}else if(N0>0){if(m0>g0)return;m0>d0&&(d0=m0)}if(m0=Ql-vp,!(!N0&&m0<0)){if(m0/=N0,N0<0){if(m0>g0)return;m0>d0&&(d0=m0)}else if(N0>0){if(m0<d0)return;m0<g0&&(g0=m0)}if(m0=Gl-Rp,!(!Z0&&m0>0)){if(m0/=Z0,Z0<0){if(m0<d0)return;m0<g0&&(g0=m0)}else if(Z0>0){if(m0>g0)return;m0>d0&&(d0=m0)}if(m0=zu-Rp,!(!Z0&&m0<0)){if(m0/=Z0,Z0<0){if(m0>g0)return;m0>d0&&(d0=m0)}else if(Z0>0){if(m0<d0)return;m0<g0&&(g0=m0)}return d0>0&&(Yu.a={x:vp+d0*N0,y:Rp+d0*Z0}),g0<1&&(Yu.b={x:vp+g0*N0,y:Rp+g0*Z0}),Yu}}}}}}function iy(zn){for(var Gl=av,Ql=vy(zn[0][0],zn[0][1],zn[1][0],zn[1][1]),zu=Gl.length,Yu;zu--;)Yu=Gl[zu],(!Nv(Yu,zn)||!Ql(Yu)||_l(Yu.a.x-Yu.b.x)<$p&&_l(Yu.a.y-Yu.b.y)<$p)&&(Yu.a=Yu.b=null,Gl.splice(zu,1))}function Nv(zn,Gl){var Ql=zn.b;if(Ql)return!0;var zu=zn.a,Yu=Gl[0][0],Qu=Gl[1][0],Sp=Gl[0][1],vp=Gl[1][1],Rp=zn.l,jp=zn.r,Wp=Rp.x,d0=Rp.y,g0=jp.x,N0=jp.y,Z0=(Wp+g0)/2,m0=(d0+N0)/2,D0,L0;if(N0===d0){if(Z0<Yu||Z0>=Qu)return;if(Wp>g0){if(!zu)zu={x:Z0,y:Sp};else if(zu.y>=vp)return;Ql={x:Z0,y:vp}}else{if(!zu)zu={x:Z0,y:vp};else if(zu.y<Sp)return;Ql={x:Z0,y:Sp}}}else if(D0=(Wp-g0)/(N0-d0),L0=m0-D0*Z0,D0<-1||D0>1)if(Wp>g0){if(!zu)zu={x:(Sp-L0)/D0,y:Sp};else if(zu.y>=vp)return;Ql={x:(vp-L0)/D0,y:vp}}else{if(!zu)zu={x:(vp-L0)/D0,y:vp};else if(zu.y<Sp)return;Ql={x:(Sp-L0)/D0,y:Sp}}else if(d0<N0){if(!zu)zu={x:Yu,y:D0*Yu+L0};else if(zu.x>=Qu)return;Ql={x:Qu,y:D0*Qu+L0}}else{if(!zu)zu={x:Qu,y:D0*Qu+L0};else if(zu.x<Yu)return;Ql={x:Yu,y:D0*Yu+L0}}return zn.a=zu,zn.b=Ql,!0}function gy(zn,Gl){this.l=zn,this.r=Gl,this.a=this.b=null}function Cy(zn,Gl,Ql,zu){var Yu=new gy(zn,Gl);return av.push(Yu),Ql&&vv(Yu,zn,Gl,Ql),zu&&vv(Yu,Gl,zn,zu),tv[zn.i].edges.push(new Dv(Yu,zn,Gl)),tv[Gl.i].edges.push(new Dv(Yu,Gl,zn)),Yu}function q1(zn,Gl,Ql){var zu=new gy(zn,null);return zu.a=Gl,zu.b=Ql,av.push(zu),zu}function vv(zn,Gl,Ql,zu){!zn.a&&!zn.b?(zn.a=zu,zn.l=Gl,zn.r=Ql):zn.l===Ql?zn.b=zu:zn.a=zu}function Dv(zn,Gl,Ql){var zu=zn.a,Yu=zn.b;this.edge=zn,this.site=Gl,this.angle=Ql?Math.atan2(Ql.y-Gl.y,Ql.x-Gl.x):zn.l===Gl?Math.atan2(Yu.x-zu.x,zu.y-Yu.y):Math.atan2(zu.x-Yu.x,Yu.y-zu.y)}Dv.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function Xv(){this._=null}function Tv(zn){zn.U=zn.C=zn.L=zn.R=zn.P=zn.N=null}Xv.prototype={insert:function(zn,Gl){var Ql,zu,Yu;if(zn){if(Gl.P=zn,Gl.N=zn.N,zn.N&&(zn.N.P=Gl),zn.N=Gl,zn.R){for(zn=zn.R;zn.L;)zn=zn.L;zn.L=Gl}else zn.R=Gl;Ql=zn}else this._?(zn=m2(this._),Gl.P=null,Gl.N=zn,zn.P=zn.L=Gl,Ql=zn):(Gl.P=Gl.N=null,this._=Gl,Ql=null);for(Gl.L=Gl.R=null,Gl.U=Ql,Gl.C=!0,zn=Gl;Ql&&Ql.C;)zu=Ql.U,Ql===zu.L?(Yu=zu.R,Yu&&Yu.C?(Ql.C=Yu.C=!1,zu.C=!0,zn=zu):(zn===Ql.R&&(rv(this,Ql),zn=Ql,Ql=zn.U),Ql.C=!1,zu.C=!0,Qv(this,zu))):(Yu=zu.L,Yu&&Yu.C?(Ql.C=Yu.C=!1,zu.C=!0,zn=zu):(zn===Ql.L&&(Qv(this,Ql),zn=Ql,Ql=zn.U),Ql.C=!1,zu.C=!0,rv(this,zu))),Ql=zn.U;this._.C=!1},remove:function(zn){zn.N&&(zn.N.P=zn.P),zn.P&&(zn.P.N=zn.N),zn.N=zn.P=null;var Gl=zn.U,Ql,zu=zn.L,Yu=zn.R,Qu,Sp;if(zu?Yu?Qu=m2(Yu):Qu=zu:Qu=Yu,Gl?Gl.L===zn?Gl.L=Qu:Gl.R=Qu:this._=Qu,zu&&Yu?(Sp=Qu.C,Qu.C=zn.C,Qu.L=zu,zu.U=Qu,Qu!==Yu?(Gl=Qu.U,Qu.U=zn.U,zn=Qu.R,Gl.L=zn,Qu.R=Yu,Yu.U=Qu):(Qu.U=Gl,Gl=Qu,zn=Qu.R)):(Sp=zn.C,zn=Qu),zn&&(zn.U=Gl),!Sp){if(zn&&zn.C){zn.C=!1;return}do{if(zn===this._)break;if(zn===Gl.L){if(Ql=Gl.R,Ql.C&&(Ql.C=!1,Gl.C=!0,rv(this,Gl),Ql=Gl.R),Ql.L&&Ql.L.C||Ql.R&&Ql.R.C){(!Ql.R||!Ql.R.C)&&(Ql.L.C=!1,Ql.C=!0,Qv(this,Ql),Ql=Gl.R),Ql.C=Gl.C,Gl.C=Ql.R.C=!1,rv(this,Gl),zn=this._;break}}else if(Ql=Gl.L,Ql.C&&(Ql.C=!1,Gl.C=!0,Qv(this,Gl),Ql=Gl.L),Ql.L&&Ql.L.C||Ql.R&&Ql.R.C){(!Ql.L||!Ql.L.C)&&(Ql.R.C=!1,Ql.C=!0,rv(this,Ql),Ql=Gl.L),Ql.C=Gl.C,Gl.C=Ql.L.C=!1,Qv(this,Gl),zn=this._;break}Ql.C=!0,zn=Gl,Gl=Gl.U}while(!zn.C);zn&&(zn.C=!1)}}};function rv(zn,Gl){var Ql=Gl,zu=Gl.R,Yu=Ql.U;Yu?Yu.L===Ql?Yu.L=zu:Yu.R=zu:zn._=zu,zu.U=Yu,Ql.U=zu,Ql.R=zu.L,Ql.R&&(Ql.R.U=Ql),zu.L=Ql}function Qv(zn,Gl){var Ql=Gl,zu=Gl.L,Yu=Ql.U;Yu?Yu.L===Ql?Yu.L=zu:Yu.R=zu:zn._=zu,zu.U=Yu,Ql.U=zu,Ql.L=zu.R,Ql.L&&(Ql.L.U=Ql),zu.R=Ql}function m2(zn){for(;zn.L;)zn=zn.L;return zn}function Zy(zn,Gl){var Ql=zn.sort(K3).pop(),zu,Yu,Qu;for(av=[],tv=new Array(zn.length),Ev=new Xv,W1=new Xv;;)if(Qu=T1,Ql&&(!Qu||Ql.y<Qu.y||Ql.y===Qu.y&&Ql.x<Qu.x))(Ql.x!==zu||Ql.y!==Yu)&&(tv[Ql.i]=new B1(Ql),Mv(Ql),zu=Ql.x,Yu=Ql.y),Ql=zn.pop();else if(Qu)Ov(Qu.arc);else break;Gl&&(iy(Gl),hy(Gl));var Sp={cells:tv,edges:av};return Ev=W1=av=tv=null,Sp}function K3(zn,Gl){return Gl.y-zn.y||Gl.x-zn.x}ls.geom.voronoi=function(zn){var Gl=L1,Ql=ov,zu=Gl,Yu=Ql,Qu=Xy;if(zn)return Sp(zn);function Sp(Rp){var jp=new Array(Rp.length),Wp=Qu[0][0],d0=Qu[0][1],g0=Qu[1][0],N0=Qu[1][1];return Zy(vp(Rp),Qu).cells.forEach(function(Z0,m0){var D0=Z0.edges,L0=Z0.site,Y0=jp[m0]=D0.length?D0.map(function(K0){var I0=K0.start();return[I0.x,I0.y]}):L0.x>=Wp&&L0.x<=g0&&L0.y>=d0&&L0.y<=N0?[[Wp,N0],[g0,N0],[g0,d0],[Wp,d0]]:[];Y0.point=Rp[m0]}),jp}function vp(Rp){return Rp.map(function(jp,Wp){return{x:Math.round(zu(jp,Wp)/$p)*$p,y:Math.round(Yu(jp,Wp)/$p)*$p,i:Wp}})}return Sp.links=function(Rp){return Zy(vp(Rp)).edges.filter(function(jp){return jp.l&&jp.r}).map(function(jp){return{source:Rp[jp.l.i],target:Rp[jp.r.i]}})},Sp.triangles=function(Rp){var jp=[];return Zy(vp(Rp)).cells.forEach(function(Wp,d0){for(var g0=Wp.site,N0=Wp.edges.sort(Iv),Z0=-1,m0=N0.length,D0,L0,Y0=N0[m0-1].edge,K0=Y0.l===g0?Y0.r:Y0.l;++Z0<m0;)D0=Y0,L0=K0,Y0=N0[Z0].edge,K0=Y0.l===g0?Y0.r:Y0.l,d0<L0.i&&d0<K0.i&&tw(g0,L0,K0)<0&&jp.push([Rp[d0],Rp[L0.i],Rp[K0.i]])}),jp},Sp.x=function(Rp){return arguments.length?(zu=p0(Gl=Rp),Sp):Gl},Sp.y=function(Rp){return arguments.length?(Yu=p0(Ql=Rp),Sp):Ql},Sp.clipExtent=function(Rp){return arguments.length?(Qu=Rp??Xy,Sp):Qu===Xy?null:Qu},Sp.size=function(Rp){return arguments.length?Sp.clipExtent(Rp&&[[0,0],Rp]):Qu===Xy?null:Qu&&Qu[1]},Sp};var Xy=[[-1e6,-1e6],[1e6,1e6]];function tw(zn,Gl,Ql){return(zn.x-Ql.x)*(Gl.y-zn.y)-(zn.x-Gl.x)*(Ql.y-zn.y)}ls.geom.delaunay=function(zn){return ls.geom.voronoi().triangles(zn)},ls.geom.quadtree=function(zn,Gl,Ql,zu,Yu){var Qu=L1,Sp=ov,vp;if(vp=arguments.length)return Qu=rw,Sp=nw,vp===3&&(Yu=Ql,zu=Gl,Ql=Gl=0),Rp(zn);function Rp(jp){var Wp,d0=p0(Qu),g0=p0(Sp),N0,Z0,m0,D0,L0,Y0,K0,I0;if(Gl!=null)L0=Gl,Y0=Ql,K0=zu,I0=Yu;else if(K0=I0=-(L0=Y0=1/0),N0=[],Z0=[],D0=jp.length,vp)for(m0=0;m0<D0;++m0)Wp=jp[m0],Wp.x<L0&&(L0=Wp.x),Wp.y<Y0&&(Y0=Wp.y),Wp.x>K0&&(K0=Wp.x),Wp.y>I0&&(I0=Wp.y),N0.push(Wp.x),Z0.push(Wp.y);else for(m0=0;m0<D0;++m0){var Pm=+d0(Wp=jp[m0],m0),Zm=+g0(Wp,m0);Pm<L0&&(L0=Pm),Zm<Y0&&(Y0=Zm),Pm>K0&&(K0=Pm),Zm>I0&&(I0=Zm),N0.push(Pm),Z0.push(Zm)}var Qm=K0-L0,Xm=I0-Y0;Qm>Xm?I0=Y0+Qm:K0=L0+Xm;function s1(h1,C1,K1,Bv,sv,Km,M1,F1){if(!(isNaN(K1)||isNaN(Bv)))if(h1.leaf){var Z1=h1.x,Lv=h1.y;if(Z1!=null)if(_l(Z1-K1)+_l(Lv-Bv)<.01)l1(h1,C1,K1,Bv,sv,Km,M1,F1);else{var Vv=h1.point;h1.x=h1.y=h1.point=null,l1(h1,Vv,Z1,Lv,sv,Km,M1,F1),l1(h1,C1,K1,Bv,sv,Km,M1,F1)}else h1.x=K1,h1.y=Bv,h1.point=C1}else l1(h1,C1,K1,Bv,sv,Km,M1,F1)}function l1(h1,C1,K1,Bv,sv,Km,M1,F1){var Z1=(sv+M1)*.5,Lv=(Km+F1)*.5,Vv=K1>=Z1,ty=Bv>=Lv,py=ty<<1|Vv;h1.leaf=!1,h1=h1.nodes[py]||(h1.nodes[py]=Z3()),Vv?sv=Z1:M1=Z1,ty?Km=Lv:F1=Lv,s1(h1,C1,K1,Bv,sv,Km,M1,F1)}var k1=Z3();if(k1.add=function(h1){s1(k1,h1,+d0(h1,++m0),+g0(h1,m0),L0,Y0,K0,I0)},k1.visit=function(h1){v2(h1,k1,L0,Y0,K0,I0)},k1.find=function(h1){return T4(k1,h1[0],h1[1],L0,Y0,K0,I0)},m0=-1,Gl==null){for(;++m0<D0;)s1(k1,jp[m0],N0[m0],Z0[m0],L0,Y0,K0,I0);--m0}else jp.forEach(k1.add);return N0=Z0=jp=Wp=null,k1}return Rp.x=function(jp){return arguments.length?(Qu=jp,Rp):Qu},Rp.y=function(jp){return arguments.length?(Sp=jp,Rp):Sp},Rp.extent=function(jp){return arguments.length?(jp==null?Gl=Ql=zu=Yu=null:(Gl=+jp[0][0],Ql=+jp[0][1],zu=+jp[1][0],Yu=+jp[1][1]),Rp):Gl==null?null:[[Gl,Ql],[zu,Yu]]},Rp.size=function(jp){return arguments.length?(jp==null?Gl=Ql=zu=Yu=null:(Gl=Ql=0,zu=+jp[0],Yu=+jp[1]),Rp):Gl==null?null:[zu-Gl,Yu-Ql]},Rp};function rw(zn){return zn.x}function nw(zn){return zn.y}function Z3(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function v2(zn,Gl,Ql,zu,Yu,Qu){if(!zn(Gl,Ql,zu,Yu,Qu)){var Sp=(Ql+Yu)*.5,vp=(zu+Qu)*.5,Rp=Gl.nodes;Rp[0]&&v2(zn,Rp[0],Ql,zu,Sp,vp),Rp[1]&&v2(zn,Rp[1],Sp,zu,Yu,vp),Rp[2]&&v2(zn,Rp[2],Ql,vp,Sp,Qu),Rp[3]&&v2(zn,Rp[3],Sp,vp,Yu,Qu)}}function T4(zn,Gl,Ql,zu,Yu,Qu,Sp){var vp=1/0,Rp;return function jp(Wp,d0,g0,N0,Z0){if(!(d0>Qu||g0>Sp||N0<zu||Z0<Yu)){if(m0=Wp.point){var m0,D0=Gl-Wp.x,L0=Ql-Wp.y,Y0=D0*D0+L0*L0;if(Y0<vp){var K0=Math.sqrt(vp=Y0);zu=Gl-K0,Yu=Ql-K0,Qu=Gl+K0,Sp=Ql+K0,Rp=m0}}for(var I0=Wp.nodes,Pm=(d0+N0)*.5,Zm=(g0+Z0)*.5,Qm=Gl>=Pm,Xm=Ql>=Zm,s1=Xm<<1|Qm,l1=s1+4;s1<l1;++s1)if(Wp=I0[s1&3])switch(s1&3){case 0:jp(Wp,d0,g0,Pm,Zm);break;case 1:jp(Wp,Pm,g0,N0,Zm);break;case 2:jp(Wp,d0,Zm,Pm,Z0);break;case 3:jp(Wp,Pm,Zm,N0,Z0);break}}}(zn,zu,Yu,Qu,Sp),Rp}ls.interpolateRgb=pC;function pC(zn,Gl){zn=ls.rgb(zn),Gl=ls.rgb(Gl);var Ql=zn.r,zu=zn.g,Yu=zn.b,Qu=Gl.r-Ql,Sp=Gl.g-zu,vp=Gl.b-Yu;return function(Rp){return"#"+Bp(Math.round(Ql+Qu*Rp))+Bp(Math.round(zu+Sp*Rp))+Bp(Math.round(Yu+vp*Rp))}}ls.interpolateObject=$C;function $C(zn,Gl){var Ql={},zu={},Yu;for(Yu in zn)Yu in Gl?Ql[Yu]=D2(zn[Yu],Gl[Yu]):zu[Yu]=zn[Yu];for(Yu in Gl)Yu in zn||(zu[Yu]=Gl[Yu]);return function(Qu){for(Yu in Ql)zu[Yu]=Ql[Yu](Qu);return zu}}ls.interpolateNumber=l2;function l2(zn,Gl){return zn=+zn,Gl=+Gl,function(Ql){return zn*(1-Ql)+Gl*Ql}}ls.interpolateString=HC;function HC(zn,Gl){var Ql=fC.lastIndex=gC.lastIndex=0,zu,Yu,Qu,Sp=-1,vp=[],Rp=[];for(zn=zn+"",Gl=Gl+"";(zu=fC.exec(zn))&&(Yu=gC.exec(Gl));)(Qu=Yu.index)>Ql&&(Qu=Gl.slice(Ql,Qu),vp[Sp]?vp[Sp]+=Qu:vp[++Sp]=Qu),(zu=zu[0])===(Yu=Yu[0])?vp[Sp]?vp[Sp]+=Yu:vp[++Sp]=Yu:(vp[++Sp]=null,Rp.push({i:Sp,x:l2(zu,Yu)})),Ql=gC.lastIndex;return Ql<Gl.length&&(Qu=Gl.slice(Ql),vp[Sp]?vp[Sp]+=Qu:vp[++Sp]=Qu),vp.length<2?Rp[0]?(Gl=Rp[0].x,function(jp){return Gl(jp)+""}):function(){return Gl}:(Gl=Rp.length,function(jp){for(var Wp=0,d0;Wp<Gl;++Wp)vp[(d0=Rp[Wp]).i]=d0.x(jp);return vp.join("")})}var fC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gC=new RegExp(fC.source,"g");ls.interpolate=D2;function D2(zn,Gl){for(var Ql=ls.interpolators.length,zu;--Ql>=0&&!(zu=ls.interpolators[Ql](zn,Gl)););return zu}ls.interpolators=[function(zn,Gl){var Ql=typeof Gl;return(Ql==="string"?Qp.has(Gl.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Gl)?pC:HC:Gl instanceof _m?pC:Array.isArray(Gl)?iw:Ql==="object"&&isNaN(Gl)?$C:l2)(zn,Gl)}],ls.interpolateArray=iw;function iw(zn,Gl){var Ql=[],zu=[],Yu=zn.length,Qu=Gl.length,Sp=Math.min(zn.length,Gl.length),vp;for(vp=0;vp<Sp;++vp)Ql.push(D2(zn[vp],Gl[vp]));for(;vp<Yu;++vp)zu[vp]=zn[vp];for(;vp<Qu;++vp)zu[vp]=Gl[vp];return function(Rp){for(vp=0;vp<Sp;++vp)zu[vp]=Ql[vp](Rp);return zu}}var jC=function(){return Hu},R4=ls.map({linear:jC,poly:I4,quad:function(){return D4},cubic:function(){return L4},sin:function(){return z4},exp:function(){return N4},circle:function(){return B4},elastic:G4,back:$4,bounce:function(){return H4}}),F4=ls.map({in:Hu,out:VC,"in-out":WC,"out-in":function(zn){return WC(VC(zn))}});ls.ease=function(zn){var Gl=zn.indexOf("-"),Ql=Gl>=0?zn.slice(0,Gl):zn,zu=Gl>=0?zn.slice(Gl+1):"in";return Ql=R4.get(Ql)||jC,zu=F4.get(zu)||Hu,P4(zu(Ql.apply(null,_t.call(arguments,1))))};function P4(zn){return function(Gl){return Gl<=0?0:Gl>=1?1:zn(Gl)}}function VC(zn){return function(Gl){return 1-zn(1-Gl)}}function WC(zn){return function(Gl){return .5*(Gl<.5?zn(2*Gl):2-zn(2-2*Gl))}}function D4(zn){return zn*zn}function L4(zn){return zn*zn*zn}function O4(zn){if(zn<=0)return 0;if(zn>=1)return 1;var Gl=zn*zn,Ql=Gl*zn;return 4*(zn<.5?Ql:3*(zn-Gl)+Ql-.75)}function I4(zn){return function(Gl){return Math.pow(Gl,zn)}}function z4(zn){return 1-Math.cos(zn*Lp)}function N4(zn){return Math.pow(2,10*(zn-1))}function B4(zn){return 1-Math.sqrt(1-zn*zn)}function G4(zn,Gl){var Ql;return arguments.length<2&&(Gl=.45),arguments.length?Ql=Gl/mp*Math.asin(1/zn):(zn=1,Ql=Gl/4),function(zu){return 1+zn*Math.pow(2,-10*zu)*Math.sin((zu-Ql)*mp/Gl)}}function $4(zn){return zn||(zn=1.70158),function(Gl){return Gl*Gl*((zn+1)*Gl-zn)}}function H4(zn){return zn<1/2.75?7.5625*zn*zn:zn<2/2.75?7.5625*(zn-=1.5/2.75)*zn+.75:zn<2.5/2.75?7.5625*(zn-=2.25/2.75)*zn+.9375:7.5625*(zn-=2.625/2.75)*zn+.984375}ls.interpolateHcl=j4;function j4(zn,Gl){zn=ls.hcl(zn),Gl=ls.hcl(Gl);var Ql=zn.h,zu=zn.c,Yu=zn.l,Qu=Gl.h-Ql,Sp=Gl.c-zu,vp=Gl.l-Yu;return isNaN(Sp)&&(Sp=0,zu=isNaN(zu)?Gl.c:zu),isNaN(Qu)?(Qu=0,Ql=isNaN(Ql)?Gl.h:Ql):Qu>180?Qu-=360:Qu<-180&&(Qu+=360),function(Rp){return Fm(Ql+Qu*Rp,zu+Sp*Rp,Yu+vp*Rp)+""}}ls.interpolateHsl=V4;function V4(zn,Gl){zn=ls.hsl(zn),Gl=ls.hsl(Gl);var Ql=zn.h,zu=zn.s,Yu=zn.l,Qu=Gl.h-Ql,Sp=Gl.s-zu,vp=Gl.l-Yu;return isNaN(Sp)&&(Sp=0,zu=isNaN(zu)?Gl.s:zu),isNaN(Qu)?(Qu=0,Ql=isNaN(Ql)?Gl.h:Ql):Qu>180?Qu-=360:Qu<-180&&(Qu+=360),function(Rp){return Wm(Ql+Qu*Rp,zu+Sp*Rp,Yu+vp*Rp)+""}}ls.interpolateLab=W4;function W4(zn,Gl){zn=ls.lab(zn),Gl=ls.lab(Gl);var Ql=zn.l,zu=zn.a,Yu=zn.b,Qu=Gl.l-Ql,Sp=Gl.a-zu,vp=Gl.b-Yu;return function(Rp){return S1(Ql+Qu*Rp,zu+Sp*Rp,Yu+vp*Rp)+""}}ls.interpolateRound=UC;function UC(zn,Gl){return Gl-=zn,function(Ql){return Math.round(zn+Gl*Ql)}}ls.transform=function(zn){var Gl=xl.createElementNS(ls.ns.prefix.svg,"g");return(ls.transform=function(Ql){if(Ql!=null){Gl.setAttribute("transform",Ql);var zu=Gl.transform.baseVal.consolidate()}return new qC(zu?zu.matrix:q4)})(zn)};function qC(zn){var Gl=[zn.a,zn.b],Ql=[zn.c,zn.d],zu=KC(Gl),Yu=YC(Gl,Ql),Qu=KC(U4(Ql,Gl,-Yu))||0;Gl[0]*Ql[1]<Ql[0]*Gl[1]&&(Gl[0]*=-1,Gl[1]*=-1,zu*=-1,Yu*=-1),this.rotate=(zu?Math.atan2(Gl[1],Gl[0]):Math.atan2(-Ql[0],Ql[1]))*Xp,this.translate=[zn.e,zn.f],this.scale=[zu,Qu],this.skew=Qu?Math.atan2(Yu,Qu)*Xp:0}qC.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function YC(zn,Gl){return zn[0]*Gl[0]+zn[1]*Gl[1]}function KC(zn){var Gl=Math.sqrt(YC(zn,zn));return Gl&&(zn[0]/=Gl,zn[1]/=Gl),Gl}function U4(zn,Gl,Ql){return zn[0]+=Ql*Gl[0],zn[1]+=Ql*Gl[1],zn}var q4={a:1,b:0,c:0,d:1,e:0,f:0};ls.interpolateTransform=ZC;function t3(zn){return zn.length?zn.pop()+",":""}function Y4(zn,Gl,Ql,zu){if(zn[0]!==Gl[0]||zn[1]!==Gl[1]){var Yu=Ql.push("translate(",null,",",null,")");zu.push({i:Yu-4,x:l2(zn[0],Gl[0])},{i:Yu-2,x:l2(zn[1],Gl[1])})}else(Gl[0]||Gl[1])&&Ql.push("translate("+Gl+")")}function K4(zn,Gl,Ql,zu){zn!==Gl?(zn-Gl>180?Gl+=360:Gl-zn>180&&(zn+=360),zu.push({i:Ql.push(t3(Ql)+"rotate(",null,")")-2,x:l2(zn,Gl)})):Gl&&Ql.push(t3(Ql)+"rotate("+Gl+")")}function Z4(zn,Gl,Ql,zu){zn!==Gl?zu.push({i:Ql.push(t3(Ql)+"skewX(",null,")")-2,x:l2(zn,Gl)}):Gl&&Ql.push(t3(Ql)+"skewX("+Gl+")")}function X4(zn,Gl,Ql,zu){if(zn[0]!==Gl[0]||zn[1]!==Gl[1]){var Yu=Ql.push(t3(Ql)+"scale(",null,",",null,")");zu.push({i:Yu-4,x:l2(zn[0],Gl[0])},{i:Yu-2,x:l2(zn[1],Gl[1])})}else(Gl[0]!==1||Gl[1]!==1)&&Ql.push(t3(Ql)+"scale("+Gl+")")}function ZC(zn,Gl){var Ql=[],zu=[];return zn=ls.transform(zn),Gl=ls.transform(Gl),Y4(zn.translate,Gl.translate,Ql,zu),K4(zn.rotate,Gl.rotate,Ql,zu),Z4(zn.skew,Gl.skew,Ql,zu),X4(zn.scale,Gl.scale,Ql,zu),zn=Gl=null,function(Yu){for(var Qu=-1,Sp=zu.length,vp;++Qu<Sp;)Ql[(vp=zu[Qu]).i]=vp.x(Yu);return Ql.join("")}}function Q4(zn,Gl){return Gl=(Gl-=zn=+zn)||1/Gl,function(Ql){return(Ql-zn)/Gl}}function J4(zn,Gl){return Gl=(Gl-=zn=+zn)||1/Gl,function(Ql){return Math.max(0,Math.min(1,(Ql-zn)/Gl))}}ls.layout={},ls.layout.bundle=function(){return function(zn){for(var Gl=[],Ql=-1,zu=zn.length;++Ql<zu;)Gl.push(eS(zn[Ql]));return Gl}};function eS(zn){for(var Gl=zn.source,Ql=zn.target,zu=tS(Gl,Ql),Yu=[Gl];Gl!==zu;)Gl=Gl.parent,Yu.push(Gl);for(var Qu=Yu.length;Ql!==zu;)Yu.splice(Qu,0,Ql),Ql=Ql.parent;return Yu}function XC(zn){for(var Gl=[],Ql=zn.parent;Ql!=null;)Gl.push(zn),zn=Ql,Ql=Ql.parent;return Gl.push(zn),Gl}function tS(zn,Gl){if(zn===Gl)return zn;for(var Ql=XC(zn),zu=XC(Gl),Yu=Ql.pop(),Qu=zu.pop(),Sp=null;Yu===Qu;)Sp=Yu,Yu=Ql.pop(),Qu=zu.pop();return Sp}ls.layout.chord=function(){var zn={},Gl,Ql,zu,Yu,Qu=0,Sp,vp,Rp;function jp(){var d0={},g0=[],N0=ls.range(Yu),Z0=[],m0,D0,L0,Y0,K0;for(Gl=[],Ql=[],m0=0,Y0=-1;++Y0<Yu;){for(D0=0,K0=-1;++K0<Yu;)D0+=zu[Y0][K0];g0.push(D0),Z0.push(ls.range(Yu)),m0+=D0}for(Sp&&N0.sort(function(k1,h1){return Sp(g0[k1],g0[h1])}),vp&&Z0.forEach(function(k1,h1){k1.sort(function(C1,K1){return vp(zu[h1][C1],zu[h1][K1])})}),m0=(mp-Qu*Yu)/m0,D0=0,Y0=-1;++Y0<Yu;){for(L0=D0,K0=-1;++K0<Yu;){var I0=N0[Y0],Pm=Z0[I0][K0],Zm=zu[I0][Pm],Qm=D0,Xm=D0+=Zm*m0;d0[I0+"-"+Pm]={index:I0,subindex:Pm,startAngle:Qm,endAngle:Xm,value:Zm}}Ql[I0]={index:I0,startAngle:L0,endAngle:D0,value:g0[I0]},D0+=Qu}for(Y0=-1;++Y0<Yu;)for(K0=Y0-1;++K0<Yu;){var s1=d0[Y0+"-"+K0],l1=d0[K0+"-"+Y0];(s1.value||l1.value)&&Gl.push(s1.value<l1.value?{source:l1,target:s1}:{source:s1,target:l1})}Rp&&Wp()}function Wp(){Gl.sort(function(d0,g0){return Rp((d0.source.value+d0.target.value)/2,(g0.source.value+g0.target.value)/2)})}return zn.matrix=function(d0){return arguments.length?(Yu=(zu=d0)&&zu.length,Gl=Ql=null,zn):zu},zn.padding=function(d0){return arguments.length?(Qu=d0,Gl=Ql=null,zn):Qu},zn.sortGroups=function(d0){return arguments.length?(Sp=d0,Gl=Ql=null,zn):Sp},zn.sortSubgroups=function(d0){return arguments.length?(vp=d0,Gl=null,zn):vp},zn.sortChords=function(d0){return arguments.length?(Rp=d0,Gl&&Wp(),zn):Rp},zn.chords=function(){return Gl||jp(),Gl},zn.groups=function(){return Ql||jp(),Ql},zn},ls.layout.force=function(){var zn={},Gl=ls.dispatch("start","tick","end"),Ql,zu=[1,1],Yu,Qu,Sp=.9,vp=aS,Rp=sS,jp=-30,Wp=lS,d0=.1,g0=.64,N0=[],Z0=[],m0,D0,L0;function Y0(I0){return function(Pm,Zm,Qm,Xm){if(Pm.point!==I0){var s1=Pm.cx-I0.x,l1=Pm.cy-I0.y,k1=Xm-Zm,h1=s1*s1+l1*l1;if(k1*k1/g0<h1){if(h1<Wp){var C1=Pm.charge/h1;I0.px-=s1*C1,I0.py-=l1*C1}return!0}if(Pm.point&&h1&&h1<Wp){var C1=Pm.pointCharge/h1;I0.px-=s1*C1,I0.py-=l1*C1}}return!Pm.charge}}zn.tick=function(){if((Qu*=.99)<.005)return Ql=null,Gl.end({type:"end",alpha:Qu=0}),!0;var I0=N0.length,Pm=Z0.length,Zm,Qm,Xm,s1,l1,k1,h1,C1,K1;for(Qm=0;Qm<Pm;++Qm)Xm=Z0[Qm],s1=Xm.source,l1=Xm.target,C1=l1.x-s1.x,K1=l1.y-s1.y,(k1=C1*C1+K1*K1)&&(k1=Qu*D0[Qm]*((k1=Math.sqrt(k1))-m0[Qm])/k1,C1*=k1,K1*=k1,l1.x-=C1*(h1=s1.weight+l1.weight?s1.weight/(s1.weight+l1.weight):.5),l1.y-=K1*h1,s1.x+=C1*(h1=1-h1),s1.y+=K1*h1);if((h1=Qu*d0)&&(C1=zu[0]/2,K1=zu[1]/2,Qm=-1,h1))for(;++Qm<I0;)Xm=N0[Qm],Xm.x+=(C1-Xm.x)*h1,Xm.y+=(K1-Xm.y)*h1;if(jp)for(QC(Zm=ls.geom.quadtree(N0),Qu,L0),Qm=-1;++Qm<I0;)(Xm=N0[Qm]).fixed||Zm.visit(Y0(Xm));for(Qm=-1;++Qm<I0;)Xm=N0[Qm],Xm.fixed?(Xm.x=Xm.px,Xm.y=Xm.py):(Xm.x-=(Xm.px-(Xm.px=Xm.x))*Sp,Xm.y-=(Xm.py-(Xm.py=Xm.y))*Sp);Gl.tick({type:"tick",alpha:Qu})},zn.nodes=function(I0){return arguments.length?(N0=I0,zn):N0},zn.links=function(I0){return arguments.length?(Z0=I0,zn):Z0},zn.size=function(I0){return arguments.length?(zu=I0,zn):zu},zn.linkDistance=function(I0){return arguments.length?(vp=typeof I0=="function"?I0:+I0,zn):vp},zn.distance=zn.linkDistance,zn.linkStrength=function(I0){return arguments.length?(Rp=typeof I0=="function"?I0:+I0,zn):Rp},zn.friction=function(I0){return arguments.length?(Sp=+I0,zn):Sp},zn.charge=function(I0){return arguments.length?(jp=typeof I0=="function"?I0:+I0,zn):jp},zn.chargeDistance=function(I0){return arguments.length?(Wp=I0*I0,zn):Math.sqrt(Wp)},zn.gravity=function(I0){return arguments.length?(d0=+I0,zn):d0},zn.theta=function(I0){return arguments.length?(g0=I0*I0,zn):Math.sqrt(g0)},zn.alpha=function(I0){return arguments.length?(I0=+I0,Qu?I0>0?Qu=I0:(Ql.c=null,Ql.t=NaN,Ql=null,Gl.end({type:"end",alpha:Qu=0})):I0>0&&(Gl.start({type:"start",alpha:Qu=I0}),Ql=t1(zn.tick)),zn):Qu},zn.start=function(){var I0,Pm=N0.length,Zm=Z0.length,Qm=zu[0],Xm=zu[1],s1,l1;for(I0=0;I0<Pm;++I0)(l1=N0[I0]).index=I0,l1.weight=0;for(I0=0;I0<Zm;++I0)l1=Z0[I0],typeof l1.source=="number"&&(l1.source=N0[l1.source]),typeof l1.target=="number"&&(l1.target=N0[l1.target]),++l1.source.weight,++l1.target.weight;for(I0=0;I0<Pm;++I0)l1=N0[I0],isNaN(l1.x)&&(l1.x=k1("x",Qm)),isNaN(l1.y)&&(l1.y=k1("y",Xm)),isNaN(l1.px)&&(l1.px=l1.x),isNaN(l1.py)&&(l1.py=l1.y);if(m0=[],typeof vp=="function")for(I0=0;I0<Zm;++I0)m0[I0]=+vp.call(this,Z0[I0],I0);else for(I0=0;I0<Zm;++I0)m0[I0]=vp;if(D0=[],typeof Rp=="function")for(I0=0;I0<Zm;++I0)D0[I0]=+Rp.call(this,Z0[I0],I0);else for(I0=0;I0<Zm;++I0)D0[I0]=Rp;if(L0=[],typeof jp=="function")for(I0=0;I0<Pm;++I0)L0[I0]=+jp.call(this,N0[I0],I0);else for(I0=0;I0<Pm;++I0)L0[I0]=jp;function k1(h1,C1){if(!s1){for(s1=new Array(Pm),sv=0;sv<Pm;++sv)s1[sv]=[];for(sv=0;sv<Zm;++sv){var K1=Z0[sv];s1[K1.source.index].push(K1.target),s1[K1.target.index].push(K1.source)}}for(var Bv=s1[I0],sv=-1,Km=Bv.length,M1;++sv<Km;)if(!isNaN(M1=Bv[sv][h1]))return M1;return Math.random()*C1}return zn.resume()},zn.resume=function(){return zn.alpha(.1)},zn.stop=function(){return zn.alpha(0)},zn.drag=function(){if(Yu||(Yu=ls.behavior.drag().origin(Hu).on("dragstart.force",rS).on("drag.force",K0).on("dragend.force",nS)),!arguments.length)return Yu;this.on("mouseover.force",iS).on("mouseout.force",oS).call(Yu)};function K0(I0){I0.px=ls.event.x,I0.py=ls.event.y,zn.resume()}return ls.rebind(zn,Gl,"on")};function rS(zn){zn.fixed|=2}function nS(zn){zn.fixed&=-7}function iS(zn){zn.fixed|=4,zn.px=zn.x,zn.py=zn.y}function oS(zn){zn.fixed&=-5}function QC(zn,Gl,Ql){var zu=0,Yu=0;if(zn.charge=0,!zn.leaf)for(var Qu=zn.nodes,Sp=Qu.length,vp=-1,Rp;++vp<Sp;)Rp=Qu[vp],Rp!=null&&(QC(Rp,Gl,Ql),zn.charge+=Rp.charge,zu+=Rp.charge*Rp.cx,Yu+=Rp.charge*Rp.cy);if(zn.point){zn.leaf||(zn.point.x+=Math.random()-.5,zn.point.y+=Math.random()-.5);var jp=Gl*Ql[zn.point.index];zn.charge+=zn.pointCharge=jp,zu+=jp*zn.point.x,Yu+=jp*zn.point.y}zn.cx=zu/zn.charge,zn.cy=Yu/zn.charge}var aS=20,sS=1,lS=1/0;ls.layout.hierarchy=function(){var zn=dS,Gl=cS,Ql=uS;function zu(Yu){var Qu=[Yu],Sp=[],vp;for(Yu.depth=0;(vp=Qu.pop())!=null;)if(Sp.push(vp),(jp=Gl.call(zu,vp,vp.depth))&&(Rp=jp.length)){for(var Rp,jp,Wp;--Rp>=0;)Qu.push(Wp=jp[Rp]),Wp.parent=vp,Wp.depth=vp.depth+1;Ql&&(vp.value=0),vp.children=jp}else Ql&&(vp.value=+Ql.call(zu,vp,vp.depth)||0),delete vp.children;return Qy(Yu,function(d0){var g0,N0;zn&&(g0=d0.children)&&g0.sort(zn),Ql&&(N0=d0.parent)&&(N0.value+=d0.value)}),Sp}return zu.sort=function(Yu){return arguments.length?(zn=Yu,zu):zn},zu.children=function(Yu){return arguments.length?(Gl=Yu,zu):Gl},zu.value=function(Yu){return arguments.length?(Ql=Yu,zu):Ql},zu.revalue=function(Yu){return Ql&&(Q3(Yu,function(Qu){Qu.children&&(Qu.value=0)}),Qy(Yu,function(Qu){var Sp;Qu.children||(Qu.value=+Ql.call(zu,Qu,Qu.depth)||0),(Sp=Qu.parent)&&(Sp.value+=Qu.value)})),Yu},zu};function X3(zn,Gl){return ls.rebind(zn,Gl,"sort","children","value"),zn.nodes=zn,zn.links=hS,zn}function Q3(zn,Gl){for(var Ql=[zn];(zn=Ql.pop())!=null;)if(Gl(zn),(Yu=zn.children)&&(zu=Yu.length))for(var zu,Yu;--zu>=0;)Ql.push(Yu[zu])}function Qy(zn,Gl){for(var Ql=[zn],zu=[];(zn=Ql.pop())!=null;)if(zu.push(zn),(Sp=zn.children)&&(Qu=Sp.length))for(var Yu=-1,Qu,Sp;++Yu<Qu;)Ql.push(Sp[Yu]);for(;(zn=zu.pop())!=null;)Gl(zn)}function cS(zn){return zn.children}function uS(zn){return zn.value}function dS(zn,Gl){return Gl.value-zn.value}function hS(zn){return ls.merge(zn.map(function(Gl){return(Gl.children||[]).map(function(Ql){return{source:Gl,target:Ql}})}))}ls.layout.partition=function(){var zn=ls.layout.hierarchy(),Gl=[1,1];function Ql(Qu,Sp,vp,Rp){var jp=Qu.children;if(Qu.x=Sp,Qu.y=Qu.depth*Rp,Qu.dx=vp,Qu.dy=Rp,jp&&(d0=jp.length)){var Wp=-1,d0,g0,N0;for(vp=Qu.value?vp/Qu.value:0;++Wp<d0;)Ql(g0=jp[Wp],Sp,N0=g0.value*vp,Rp),Sp+=N0}}function zu(Qu){var Sp=Qu.children,vp=0;if(Sp&&(jp=Sp.length))for(var Rp=-1,jp;++Rp<jp;)vp=Math.max(vp,zu(Sp[Rp]));return 1+vp}function Yu(Qu,Sp){var vp=zn.call(this,Qu,Sp);return Ql(vp[0],0,Gl[0],Gl[1]/zu(vp[0])),vp}return Yu.size=function(Qu){return arguments.length?(Gl=Qu,Yu):Gl},X3(Yu,zn)},ls.layout.pie=function(){var zn=Number,Gl=JC,Ql=0,zu=mp,Yu=0;function Qu(Sp){var vp=Sp.length,Rp=Sp.map(function(Y0,K0){return+zn.call(Qu,Y0,K0)}),jp=+(typeof Ql=="function"?Ql.apply(this,arguments):Ql),Wp=(typeof zu=="function"?zu.apply(this,arguments):zu)-jp,d0=Math.min(Math.abs(Wp)/vp,+(typeof Yu=="function"?Yu.apply(this,arguments):Yu)),g0=d0*(Wp<0?-1:1),N0=ls.sum(Rp),Z0=N0?(Wp-vp*g0)/N0:0,m0=ls.range(vp),D0=[],L0;return Gl!=null&&m0.sort(Gl===JC?function(Y0,K0){return Rp[K0]-Rp[Y0]}:function(Y0,K0){return Gl(Sp[Y0],Sp[K0])}),m0.forEach(function(Y0){D0[Y0]={data:Sp[Y0],value:L0=Rp[Y0],startAngle:jp,endAngle:jp+=L0*Z0+g0,padAngle:d0}}),D0}return Qu.value=function(Sp){return arguments.length?(zn=Sp,Qu):zn},Qu.sort=function(Sp){return arguments.length?(Gl=Sp,Qu):Gl},Qu.startAngle=function(Sp){return arguments.length?(Ql=Sp,Qu):Ql},Qu.endAngle=function(Sp){return arguments.length?(zu=Sp,Qu):zu},Qu.padAngle=function(Sp){return arguments.length?(Yu=Sp,Qu):Yu},Qu};var JC={};ls.layout.stack=function(){var zn=Hu,Gl=mC,Ql=vC,zu=gS,Yu=pS,Qu=fS;function Sp(vp,Rp){if(!(Z0=vp.length))return vp;var jp=vp.map(function(Y0,K0){return zn.call(Sp,Y0,K0)}),Wp=jp.map(function(Y0){return Y0.map(function(K0,I0){return[Yu.call(Sp,K0,I0),Qu.call(Sp,K0,I0)]})}),d0=Gl.call(Sp,Wp,Rp);jp=ls.permute(jp,d0),Wp=ls.permute(Wp,d0);var g0=Ql.call(Sp,Wp,Rp),N0=jp[0].length,Z0,m0,D0,L0;for(D0=0;D0<N0;++D0)for(zu.call(Sp,jp[0][D0],L0=g0[D0],Wp[0][D0][1]),m0=1;m0<Z0;++m0)zu.call(Sp,jp[m0][D0],L0+=Wp[m0-1][D0][1],Wp[m0][D0][1]);return vp}return Sp.values=function(vp){return arguments.length?(zn=vp,Sp):zn},Sp.order=function(vp){return arguments.length?(Gl=typeof vp=="function"?vp:mS.get(vp)||mC,Sp):Gl},Sp.offset=function(vp){return arguments.length?(Ql=typeof vp=="function"?vp:vS.get(vp)||vC,Sp):Ql},Sp.x=function(vp){return arguments.length?(Yu=vp,Sp):Yu},Sp.y=function(vp){return arguments.length?(Qu=vp,Sp):Qu},Sp.out=function(vp){return arguments.length?(zu=vp,Sp):zu},Sp};function pS(zn){return zn.x}function fS(zn){return zn.y}function gS(zn,Gl,Ql){zn.y0=Gl,zn.y=Ql}var mS=ls.map({"inside-out":function(zn){var Gl=zn.length,Ql,zu,Yu=zn.map(yS),Qu=zn.map(bS),Sp=ls.range(Gl).sort(function(d0,g0){return Yu[d0]-Yu[g0]}),vp=0,Rp=0,jp=[],Wp=[];for(Ql=0;Ql<Gl;++Ql)zu=Sp[Ql],vp<Rp?(vp+=Qu[zu],jp.push(zu)):(Rp+=Qu[zu],Wp.push(zu));return Wp.reverse().concat(jp)},reverse:function(zn){return ls.range(zn.length).reverse()},default:mC}),vS=ls.map({silhouette:function(zn){var Gl=zn.length,Ql=zn[0].length,zu=[],Yu=0,Qu,Sp,vp,Rp=[];for(Sp=0;Sp<Ql;++Sp){for(Qu=0,vp=0;Qu<Gl;Qu++)vp+=zn[Qu][Sp][1];vp>Yu&&(Yu=vp),zu.push(vp)}for(Sp=0;Sp<Ql;++Sp)Rp[Sp]=(Yu-zu[Sp])/2;return Rp},wiggle:function(zn){var Gl=zn.length,Ql=zn[0],zu=Ql.length,Yu,Qu,Sp,vp,Rp,jp,Wp,d0,g0,N0=[];for(N0[0]=d0=g0=0,Qu=1;Qu<zu;++Qu){for(Yu=0,vp=0;Yu<Gl;++Yu)vp+=zn[Yu][Qu][1];for(Yu=0,Rp=0,Wp=Ql[Qu][0]-Ql[Qu-1][0];Yu<Gl;++Yu){for(Sp=0,jp=(zn[Yu][Qu][1]-zn[Yu][Qu-1][1])/(2*Wp);Sp<Yu;++Sp)jp+=(zn[Sp][Qu][1]-zn[Sp][Qu-1][1])/Wp;Rp+=jp*zn[Yu][Qu][1]}N0[Qu]=d0-=vp?Rp/vp*Wp:0,d0<g0&&(g0=d0)}for(Qu=0;Qu<zu;++Qu)N0[Qu]-=g0;return N0},expand:function(zn){var Gl=zn.length,Ql=zn[0].length,zu=1/Gl,Yu,Qu,Sp,vp=[];for(Qu=0;Qu<Ql;++Qu){for(Yu=0,Sp=0;Yu<Gl;Yu++)Sp+=zn[Yu][Qu][1];if(Sp)for(Yu=0;Yu<Gl;Yu++)zn[Yu][Qu][1]/=Sp;else for(Yu=0;Yu<Gl;Yu++)zn[Yu][Qu][1]=zu}for(Qu=0;Qu<Ql;++Qu)vp[Qu]=0;return vp},zero:vC});function mC(zn){return ls.range(zn.length)}function vC(zn){for(var Gl=-1,Ql=zn[0].length,zu=[];++Gl<Ql;)zu[Gl]=0;return zu}function yS(zn){for(var Gl=1,Ql=0,zu=zn[0][1],Yu,Qu=zn.length;Gl<Qu;++Gl)(Yu=zn[Gl][1])>zu&&(Ql=Gl,zu=Yu);return Ql}function bS(zn){return zn.reduce(xS,0)}function xS(zn,Gl){return zn+Gl[1]}ls.layout.histogram=function(){var zn=!0,Gl=Number,Ql=CS,zu=wS;function Yu(Qu,Sp){for(var vp=[],Rp=Qu.map(Gl,this),jp=Ql.call(this,Rp,Sp),Wp=zu.call(this,jp,Rp,Sp),d0,Sp=-1,g0=Rp.length,N0=Wp.length-1,Z0=zn?1:1/g0,m0;++Sp<N0;)d0=vp[Sp]=[],d0.dx=Wp[Sp+1]-(d0.x=Wp[Sp]),d0.y=0;if(N0>0)for(Sp=-1;++Sp<g0;)m0=Rp[Sp],m0>=jp[0]&&m0<=jp[1]&&(d0=vp[ls.bisect(Wp,m0,1,N0)-1],d0.y+=Z0,d0.push(Qu[Sp]));return vp}return Yu.value=function(Qu){return arguments.length?(Gl=Qu,Yu):Gl},Yu.range=function(Qu){return arguments.length?(Ql=p0(Qu),Yu):Ql},Yu.bins=function(Qu){return arguments.length?(zu=typeof Qu=="number"?function(Sp){return e5(Sp,Qu)}:p0(Qu),Yu):zu},Yu.frequency=function(Qu){return arguments.length?(zn=!!Qu,Yu):zn},Yu};function wS(zn,Gl){return e5(zn,Math.ceil(Math.log(Gl.length)/Math.LN2+1))}function e5(zn,Gl){for(var Ql=-1,zu=+zn[0],Yu=(zn[1]-zu)/Gl,Qu=[];++Ql<=Gl;)Qu[Ql]=Yu*Ql+zu;return Qu}function CS(zn){return[ls.min(zn),ls.max(zn)]}ls.layout.pack=function(){var zn=ls.layout.hierarchy().sort(_S),Gl=0,Ql=[1,1],zu;function Yu(Qu,Sp){var vp=zn.call(this,Qu,Sp),Rp=vp[0],jp=Ql[0],Wp=Ql[1],d0=zu==null?Math.sqrt:typeof zu=="function"?zu:function(){return zu};if(Rp.x=Rp.y=0,Qy(Rp,function(N0){N0.r=+d0(N0.value)}),Qy(Rp,n5),Gl){var g0=Gl*(zu?1:Math.max(2*Rp.r/jp,2*Rp.r/Wp))/2;Qy(Rp,function(N0){N0.r+=g0}),Qy(Rp,n5),Qy(Rp,function(N0){N0.r-=g0})}return i5(Rp,jp/2,Wp/2,zu?1:1/Math.max(2*Rp.r/jp,2*Rp.r/Wp)),vp}return Yu.size=function(Qu){return arguments.length?(Ql=Qu,Yu):Ql},Yu.radius=function(Qu){return arguments.length?(zu=Qu==null||typeof Qu=="function"?Qu:+Qu,Yu):zu},Yu.padding=function(Qu){return arguments.length?(Gl=+Qu,Yu):Gl},X3(Yu,zn)};function _S(zn,Gl){return zn.value-Gl.value}function yC(zn,Gl){var Ql=zn._pack_next;zn._pack_next=Gl,Gl._pack_prev=zn,Gl._pack_next=Ql,Ql._pack_prev=Gl}function t5(zn,Gl){zn._pack_next=Gl,Gl._pack_prev=zn}function r5(zn,Gl){var Ql=Gl.x-zn.x,zu=Gl.y-zn.y,Yu=zn.r+Gl.r;return .999*Yu*Yu>Ql*Ql+zu*zu}function n5(zn){if(!(Gl=zn.children)||!(g0=Gl.length))return;var Gl,Ql=1/0,zu=-1/0,Yu=1/0,Qu=-1/0,Sp,vp,Rp,jp,Wp,d0,g0;function N0(I0){Ql=Math.min(I0.x-I0.r,Ql),zu=Math.max(I0.x+I0.r,zu),Yu=Math.min(I0.y-I0.r,Yu),Qu=Math.max(I0.y+I0.r,Qu)}if(Gl.forEach(ES),Sp=Gl[0],Sp.x=-Sp.r,Sp.y=0,N0(Sp),g0>1&&(vp=Gl[1],vp.x=vp.r,vp.y=0,N0(vp),g0>2))for(Rp=Gl[2],o5(Sp,vp,Rp),N0(Rp),yC(Sp,Rp),Sp._pack_prev=Rp,yC(Rp,vp),vp=Sp._pack_next,jp=3;jp<g0;jp++){o5(Sp,vp,Rp=Gl[jp]);var Z0=0,m0=1,D0=1;for(Wp=vp._pack_next;Wp!==vp;Wp=Wp._pack_next,m0++)if(r5(Wp,Rp)){Z0=1;break}if(Z0==1)for(d0=Sp._pack_prev;d0!==Wp._pack_prev&&!r5(d0,Rp);d0=d0._pack_prev,D0++);Z0?(m0<D0||m0==D0&&vp.r<Sp.r?t5(Sp,vp=Wp):t5(Sp=d0,vp),jp--):(yC(Sp,Rp),vp=Rp,N0(Rp))}var L0=(Ql+zu)/2,Y0=(Yu+Qu)/2,K0=0;for(jp=0;jp<g0;jp++)Rp=Gl[jp],Rp.x-=L0,Rp.y-=Y0,K0=Math.max(K0,Rp.r+Math.sqrt(Rp.x*Rp.x+Rp.y*Rp.y));zn.r=K0,Gl.forEach(kS)}function ES(zn){zn._pack_next=zn._pack_prev=zn}function kS(zn){delete zn._pack_next,delete zn._pack_prev}function i5(zn,Gl,Ql,zu){var Yu=zn.children;if(zn.x=Gl+=zu*zn.x,zn.y=Ql+=zu*zn.y,zn.r*=zu,Yu)for(var Qu=-1,Sp=Yu.length;++Qu<Sp;)i5(Yu[Qu],Gl,Ql,zu)}function o5(zn,Gl,Ql){var zu=zn.r+Ql.r,Yu=Gl.x-zn.x,Qu=Gl.y-zn.y;if(zu&&(Yu||Qu)){var Sp=Gl.r+Ql.r,vp=Yu*Yu+Qu*Qu;Sp*=Sp,zu*=zu;var Rp=.5+(zu-Sp)/(2*vp),jp=Math.sqrt(Math.max(0,2*Sp*(zu+vp)-(zu-=vp)*zu-Sp*Sp))/(2*vp);Ql.x=zn.x+Rp*Yu+jp*Qu,Ql.y=zn.y+Rp*Qu-jp*Yu}else Ql.x=zn.x+zu,Ql.y=zn.y}ls.layout.tree=function(){var zn=ls.layout.hierarchy().sort(null).value(null),Gl=a5,Ql=[1,1],zu=null;function Yu(Wp,d0){var g0=zn.call(this,Wp,d0),N0=g0[0],Z0=Qu(N0);if(Qy(Z0,Sp),Z0.parent.m=-Z0.z,Q3(Z0,vp),zu)Q3(N0,jp);else{var m0=N0,D0=N0,L0=N0;Q3(N0,function(Pm){Pm.x<m0.x&&(m0=Pm),Pm.x>D0.x&&(D0=Pm),Pm.depth>L0.depth&&(L0=Pm)});var Y0=Gl(m0,D0)/2-m0.x,K0=Ql[0]/(D0.x+Gl(D0,m0)/2+Y0),I0=Ql[1]/(L0.depth||1);Q3(N0,function(Pm){Pm.x=(Pm.x+Y0)*K0,Pm.y=Pm.depth*I0})}return g0}function Qu(Wp){for(var d0={A:null,children:[Wp]},g0=[d0],N0;(N0=g0.pop())!=null;)for(var Z0=N0.children,m0,D0=0,L0=Z0.length;D0<L0;++D0)g0.push((Z0[D0]=m0={_:Z0[D0],parent:N0,children:(m0=Z0[D0].children)&&m0.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:D0}).a=m0);return d0.children[0]}function Sp(Wp){var d0=Wp.children,g0=Wp.parent.children,N0=Wp.i?g0[Wp.i-1]:null;if(d0.length){AS(Wp);var Z0=(d0[0].z+d0[d0.length-1].z)/2;N0?(Wp.z=N0.z+Gl(Wp._,N0._),Wp.m=Wp.z-Z0):Wp.z=Z0}else N0&&(Wp.z=N0.z+Gl(Wp._,N0._));Wp.parent.A=Rp(Wp,N0,Wp.parent.A||g0[0])}function vp(Wp){Wp._.x=Wp.z+Wp.parent.m,Wp.m+=Wp.parent.m}function Rp(Wp,d0,g0){if(d0){for(var N0=Wp,Z0=Wp,m0=d0,D0=N0.parent.children[0],L0=N0.m,Y0=Z0.m,K0=m0.m,I0=D0.m,Pm;m0=xC(m0),N0=bC(N0),m0&&N0;)D0=bC(D0),Z0=xC(Z0),Z0.a=Wp,Pm=m0.z+K0-N0.z-L0+Gl(m0._,N0._),Pm>0&&(MS(TS(m0,Wp,g0),Wp,Pm),L0+=Pm,Y0+=Pm),K0+=m0.m,L0+=N0.m,I0+=D0.m,Y0+=Z0.m;m0&&!xC(Z0)&&(Z0.t=m0,Z0.m+=K0-Y0),N0&&!bC(D0)&&(D0.t=N0,D0.m+=L0-I0,g0=Wp)}return g0}function jp(Wp){Wp.x*=Ql[0],Wp.y=Wp.depth*Ql[1]}return Yu.separation=function(Wp){return arguments.length?(Gl=Wp,Yu):Gl},Yu.size=function(Wp){return arguments.length?(zu=(Ql=Wp)==null?jp:null,Yu):zu?null:Ql},Yu.nodeSize=function(Wp){return arguments.length?(zu=(Ql=Wp)==null?null:jp,Yu):zu?Ql:null},X3(Yu,zn)};function a5(zn,Gl){return zn.parent==Gl.parent?1:2}function bC(zn){var Gl=zn.children;return Gl.length?Gl[0]:zn.t}function xC(zn){var Gl=zn.children,Ql;return(Ql=Gl.length)?Gl[Ql-1]:zn.t}function MS(zn,Gl,Ql){var zu=Ql/(Gl.i-zn.i);Gl.c-=zu,Gl.s+=Ql,zn.c+=zu,Gl.z+=Ql,Gl.m+=Ql}function AS(zn){for(var Gl=0,Ql=0,zu=zn.children,Yu=zu.length,Qu;--Yu>=0;)Qu=zu[Yu],Qu.z+=Gl,Qu.m+=Gl,Gl+=Qu.s+(Ql+=Qu.c)}function TS(zn,Gl,Ql){return zn.a.parent===Gl.parent?zn.a:Ql}ls.layout.cluster=function(){var zn=ls.layout.hierarchy().sort(null).value(null),Gl=a5,Ql=[1,1],zu=!1;function Yu(Qu,Sp){var vp=zn.call(this,Qu,Sp),Rp=vp[0],jp,Wp=0;Qy(Rp,function(m0){var D0=m0.children;D0&&D0.length?(m0.x=FS(D0),m0.y=RS(D0)):(m0.x=jp?Wp+=Gl(m0,jp):0,m0.y=0,jp=m0)});var d0=s5(Rp),g0=l5(Rp),N0=d0.x-Gl(d0,g0)/2,Z0=g0.x+Gl(g0,d0)/2;return Qy(Rp,zu?function(m0){m0.x=(m0.x-Rp.x)*Ql[0],m0.y=(Rp.y-m0.y)*Ql[1]}:function(m0){m0.x=(m0.x-N0)/(Z0-N0)*Ql[0],m0.y=(1-(Rp.y?m0.y/Rp.y:1))*Ql[1]}),vp}return Yu.separation=function(Qu){return arguments.length?(Gl=Qu,Yu):Gl},Yu.size=function(Qu){return arguments.length?(zu=(Ql=Qu)==null,Yu):zu?null:Ql},Yu.nodeSize=function(Qu){return arguments.length?(zu=(Ql=Qu)!=null,Yu):zu?Ql:null},X3(Yu,zn)};function RS(zn){return 1+ls.max(zn,function(Gl){return Gl.y})}function FS(zn){return zn.reduce(function(Gl,Ql){return Gl+Ql.x},0)/zn.length}function s5(zn){var Gl=zn.children;return Gl&&Gl.length?s5(Gl[0]):zn}function l5(zn){var Gl=zn.children,Ql;return Gl&&(Ql=Gl.length)?l5(Gl[Ql-1]):zn}ls.layout.treemap=function(){var zn=ls.layout.hierarchy(),Gl=Math.round,Ql=[1,1],zu=null,Yu=wC,Qu=!1,Sp,vp="squarify",Rp=.5*(1+Math.sqrt(5));function jp(m0,D0){for(var L0=-1,Y0=m0.length,K0,I0;++L0<Y0;)I0=(K0=m0[L0]).value*(D0<0?0:D0),K0.area=isNaN(I0)||I0<=0?0:I0}function Wp(m0){var D0=m0.children;if(D0&&D0.length){var L0=Yu(m0),Y0=[],K0=D0.slice(),I0,Pm=1/0,Zm,Qm=vp==="slice"?L0.dx:vp==="dice"?L0.dy:vp==="slice-dice"?m0.depth&1?L0.dy:L0.dx:Math.min(L0.dx,L0.dy),Xm;for(jp(K0,L0.dx*L0.dy/m0.value),Y0.area=0;(Xm=K0.length)>0;)Y0.push(I0=K0[Xm-1]),Y0.area+=I0.area,vp!=="squarify"||(Zm=g0(Y0,Qm))<=Pm?(K0.pop(),Pm=Zm):(Y0.area-=Y0.pop().area,N0(Y0,Qm,L0,!1),Qm=Math.min(L0.dx,L0.dy),Y0.length=Y0.area=0,Pm=1/0);Y0.length&&(N0(Y0,Qm,L0,!0),Y0.length=Y0.area=0),D0.forEach(Wp)}}function d0(m0){var D0=m0.children;if(D0&&D0.length){var L0=Yu(m0),Y0=D0.slice(),K0,I0=[];for(jp(Y0,L0.dx*L0.dy/m0.value),I0.area=0;K0=Y0.pop();)I0.push(K0),I0.area+=K0.area,K0.z!=null&&(N0(I0,K0.z?L0.dx:L0.dy,L0,!Y0.length),I0.length=I0.area=0);D0.forEach(d0)}}function g0(m0,D0){for(var L0=m0.area,Y0,K0=0,I0=1/0,Pm=-1,Zm=m0.length;++Pm<Zm;)(Y0=m0[Pm].area)&&(Y0<I0&&(I0=Y0),Y0>K0&&(K0=Y0));return L0*=L0,D0*=D0,L0?Math.max(D0*K0*Rp/L0,L0/(D0*I0*Rp)):1/0}function N0(m0,D0,L0,Y0){var K0=-1,I0=m0.length,Pm=L0.x,Zm=L0.y,Qm=D0?Gl(m0.area/D0):0,Xm;if(D0==L0.dx){for((Y0||Qm>L0.dy)&&(Qm=L0.dy);++K0<I0;)Xm=m0[K0],Xm.x=Pm,Xm.y=Zm,Xm.dy=Qm,Pm+=Xm.dx=Math.min(L0.x+L0.dx-Pm,Qm?Gl(Xm.area/Qm):0);Xm.z=!0,Xm.dx+=L0.x+L0.dx-Pm,L0.y+=Qm,L0.dy-=Qm}else{for((Y0||Qm>L0.dx)&&(Qm=L0.dx);++K0<I0;)Xm=m0[K0],Xm.x=Pm,Xm.y=Zm,Xm.dx=Qm,Zm+=Xm.dy=Math.min(L0.y+L0.dy-Zm,Qm?Gl(Xm.area/Qm):0);Xm.z=!1,Xm.dy+=L0.y+L0.dy-Zm,L0.x+=Qm,L0.dx-=Qm}}function Z0(m0){var D0=Sp||zn(m0),L0=D0[0];return L0.x=L0.y=0,L0.value?(L0.dx=Ql[0],L0.dy=Ql[1]):L0.dx=L0.dy=0,Sp&&zn.revalue(L0),jp([L0],L0.dx*L0.dy/L0.value),(Sp?d0:Wp)(L0),Qu&&(Sp=D0),D0}return Z0.size=function(m0){return arguments.length?(Ql=m0,Z0):Ql},Z0.padding=function(m0){if(!arguments.length)return zu;function D0(K0){var I0=m0.call(Z0,K0,K0.depth);return I0==null?wC(K0):c5(K0,typeof I0=="number"?[I0,I0,I0,I0]:I0)}function L0(K0){return c5(K0,m0)}var Y0;return Yu=(zu=m0)==null?wC:(Y0=typeof m0)=="function"?D0:(Y0==="number"&&(m0=[m0,m0,m0,m0]),L0),Z0},Z0.round=function(m0){return arguments.length?(Gl=m0?Math.round:Number,Z0):Gl!=Number},Z0.sticky=function(m0){return arguments.length?(Qu=m0,Sp=null,Z0):Qu},Z0.ratio=function(m0){return arguments.length?(Rp=m0,Z0):Rp},Z0.mode=function(m0){return arguments.length?(vp=m0+"",Z0):vp},X3(Z0,zn)};function wC(zn){return{x:zn.x,y:zn.y,dx:zn.dx,dy:zn.dy}}function c5(zn,Gl){var Ql=zn.x+Gl[3],zu=zn.y+Gl[0],Yu=zn.dx-Gl[1]-Gl[3],Qu=zn.dy-Gl[0]-Gl[2];return Yu<0&&(Ql+=Yu/2,Yu=0),Qu<0&&(zu+=Qu/2,Qu=0),{x:Ql,y:zu,dx:Yu,dy:Qu}}ls.random={normal:function(zn,Gl){var Ql=arguments.length;return Ql<2&&(Gl=1),Ql<1&&(zn=0),function(){var zu,Yu,Qu;do zu=Math.random()*2-1,Yu=Math.random()*2-1,Qu=zu*zu+Yu*Yu;while(!Qu||Qu>1);return zn+Gl*zu*Math.sqrt(-2*Math.log(Qu)/Qu)}},logNormal:function(){var zn=ls.random.normal.apply(ls,arguments);return function(){return Math.exp(zn())}},bates:function(zn){var Gl=ls.random.irwinHall(zn);return function(){return Gl()/zn}},irwinHall:function(zn){return function(){for(var Gl=0,Ql=0;Ql<zn;Ql++)Gl+=Math.random();return Gl}}},ls.scale={};function ow(zn){var Gl=zn[0],Ql=zn[zn.length-1];return Gl<Ql?[Gl,Ql]:[Ql,Gl]}function aw(zn){return zn.rangeExtent?zn.rangeExtent():ow(zn.range())}function PS(zn,Gl,Ql,zu){var Yu=Ql(zn[0],zn[1]),Qu=zu(Gl[0],Gl[1]);return function(Sp){return Qu(Yu(Sp))}}function CC(zn,Gl){var Ql=0,zu=zn.length-1,Yu=zn[Ql],Qu=zn[zu],Sp;return Qu<Yu&&(Sp=Ql,Ql=zu,zu=Sp,Sp=Yu,Yu=Qu,Qu=Sp),zn[Ql]=Gl.floor(Yu),zn[zu]=Gl.ceil(Qu),zn}function u5(zn){return zn?{floor:function(Gl){return Math.floor(Gl/zn)*zn},ceil:function(Gl){return Math.ceil(Gl/zn)*zn}}:DS}var DS={floor:Hu,ceil:Hu};function LS(zn,Gl,Ql,zu){var Yu=[],Qu=[],Sp=0,vp=Math.min(zn.length,Gl.length)-1;for(zn[vp]<zn[0]&&(zn=zn.slice().reverse(),Gl=Gl.slice().reverse());++Sp<=vp;)Yu.push(Ql(zn[Sp-1],zn[Sp])),Qu.push(zu(Gl[Sp-1],Gl[Sp]));return function(Rp){var jp=ls.bisect(zn,Rp,1,vp)-1;return Qu[jp](Yu[jp](Rp))}}ls.scale.linear=function(){return d5([0,1],[0,1],D2,!1)};function d5(zn,Gl,Ql,zu){var Yu,Qu;function Sp(){var Rp=Math.min(zn.length,Gl.length)>2?LS:PS,jp=zu?J4:Q4;return Yu=Rp(zn,Gl,jp,Ql),Qu=Rp(Gl,zn,jp,D2),vp}function vp(Rp){return Yu(Rp)}return vp.invert=function(Rp){return Qu(Rp)},vp.domain=function(Rp){return arguments.length?(zn=Rp.map(Number),Sp()):zn},vp.range=function(Rp){return arguments.length?(Gl=Rp,Sp()):Gl},vp.rangeRound=function(Rp){return vp.range(Rp).interpolate(UC)},vp.clamp=function(Rp){return arguments.length?(zu=Rp,Sp()):zu},vp.interpolate=function(Rp){return arguments.length?(Ql=Rp,Sp()):Ql},vp.ticks=function(Rp){return _C(zn,Rp)},vp.tickFormat=function(Rp,jp){return d3_scale_linearTickFormat(zn,Rp,jp)},vp.nice=function(Rp){return p5(zn,Rp),Sp()},vp.copy=function(){return d5(zn,Gl,Ql,zu)},Sp()}function h5(zn,Gl){return ls.rebind(zn,Gl,"range","rangeRound","interpolate","clamp")}function p5(zn,Gl){return CC(zn,u5(SC(zn,Gl)[2])),CC(zn,u5(SC(zn,Gl)[2])),zn}function SC(zn,Gl){Gl==null&&(Gl=10);var Ql=ow(zn),zu=Ql[1]-Ql[0],Yu=Math.pow(10,Math.floor(Math.log(zu/Gl)/Math.LN10)),Qu=Gl/zu*Yu;return Qu<=.15?Yu*=10:Qu<=.35?Yu*=5:Qu<=.75&&(Yu*=2),Ql[0]=Math.ceil(Ql[0]/Yu)*Yu,Ql[1]=Math.floor(Ql[1]/Yu)*Yu+Yu*.5,Ql[2]=Yu,Ql}function _C(zn,Gl){return ls.range.apply(ls,SC(zn,Gl))}ls.scale.log=function(){return f5(ls.scale.linear().domain([0,1]),10,!0,[1,10])};function f5(zn,Gl,Ql,zu){function Yu(vp){return(Ql?Math.log(vp<0?0:vp):-Math.log(vp>0?0:-vp))/Math.log(Gl)}function Qu(vp){return Ql?Math.pow(Gl,vp):-Math.pow(Gl,-vp)}function Sp(vp){return zn(Yu(vp))}return Sp.invert=function(vp){return Qu(zn.invert(vp))},Sp.domain=function(vp){return arguments.length?(Ql=vp[0]>=0,zn.domain((zu=vp.map(Number)).map(Yu)),Sp):zu},Sp.base=function(vp){return arguments.length?(Gl=+vp,zn.domain(zu.map(Yu)),Sp):Gl},Sp.nice=function(){var vp=CC(zu.map(Yu),Ql?Math:OS);return zn.domain(vp),zu=vp.map(Qu),Sp},Sp.ticks=function(){var vp=ow(zu),Rp=[],jp=vp[0],Wp=vp[1],d0=Math.floor(Yu(jp)),g0=Math.ceil(Yu(Wp)),N0=Gl%1?2:Gl;if(isFinite(g0-d0)){if(Ql){for(;d0<g0;d0++)for(var Z0=1;Z0<N0;Z0++)Rp.push(Qu(d0)*Z0);Rp.push(Qu(d0))}else for(Rp.push(Qu(d0));d0++<g0;)for(var Z0=N0-1;Z0>0;Z0--)Rp.push(Qu(d0)*Z0);for(d0=0;Rp[d0]<jp;d0++);for(g0=Rp.length;Rp[g0-1]>Wp;g0--);Rp=Rp.slice(d0,g0)}return Rp},Sp.copy=function(){return f5(zn.copy(),Gl,Ql,zu)},h5(Sp,zn)}var OS={floor:function(zn){return-Math.ceil(-zn)},ceil:function(zn){return-Math.floor(-zn)}};ls.scale.pow=function(){return g5(ls.scale.linear(),1,[0,1])};function g5(zn,Gl,Ql){var zu=sw(Gl),Yu=sw(1/Gl);function Qu(Sp){return zn(zu(Sp))}return Qu.invert=function(Sp){return Yu(zn.invert(Sp))},Qu.domain=function(Sp){return arguments.length?(zn.domain((Ql=Sp.map(Number)).map(zu)),Qu):Ql},Qu.ticks=function(Sp){return _C(Ql,Sp)},Qu.tickFormat=function(Sp,vp){return d3_scale_linearTickFormat(Ql,Sp,vp)},Qu.nice=function(Sp){return Qu.domain(p5(Ql,Sp))},Qu.exponent=function(Sp){return arguments.length?(zu=sw(Gl=Sp),Yu=sw(1/Gl),zn.domain(Ql.map(zu)),Qu):Gl},Qu.copy=function(){return g5(zn.copy(),Gl,Ql)},h5(Qu,zn)}function sw(zn){return function(Gl){return Gl<0?-Math.pow(-Gl,zn):Math.pow(Gl,zn)}}ls.scale.sqrt=function(){return ls.scale.pow().exponent(.5)},ls.scale.ordinal=function(){return m5([],{t:"range",a:[[]]})};function m5(zn,Gl){var Ql,zu,Yu;function Qu(vp){return zu[((Ql.get(vp)||(Gl.t==="range"?Ql.set(vp,zn.push(vp)):NaN))-1)%zu.length]}function Sp(vp,Rp){return ls.range(zn.length).map(function(jp){return vp+Rp*jp})}return Qu.domain=function(vp){if(!arguments.length)return zn;zn=[],Ql=new Hl;for(var Rp=-1,jp=vp.length,Wp;++Rp<jp;)Ql.has(Wp=vp[Rp])||Ql.set(Wp,zn.push(Wp));return Qu[Gl.t].apply(Qu,Gl.a)},Qu.range=function(vp){return arguments.length?(zu=vp,Yu=0,Gl={t:"range",a:arguments},Qu):zu},Qu.rangePoints=function(vp,Rp){arguments.length<2&&(Rp=0);var jp=vp[0],Wp=vp[1],d0=zn.length<2?(jp=(jp+Wp)/2,0):(Wp-jp)/(zn.length-1+Rp);return zu=Sp(jp+d0*Rp/2,d0),Yu=0,Gl={t:"rangePoints",a:arguments},Qu},Qu.rangeRoundPoints=function(vp,Rp){arguments.length<2&&(Rp=0);var jp=vp[0],Wp=vp[1],d0=zn.length<2?(jp=Wp=Math.round((jp+Wp)/2),0):(Wp-jp)/(zn.length-1+Rp)|0;return zu=Sp(jp+Math.round(d0*Rp/2+(Wp-jp-(zn.length-1+Rp)*d0)/2),d0),Yu=0,Gl={t:"rangeRoundPoints",a:arguments},Qu},Qu.rangeBands=function(vp,Rp,jp){arguments.length<2&&(Rp=0),arguments.length<3&&(jp=Rp);var Wp=vp[1]<vp[0],d0=vp[Wp-0],g0=vp[1-Wp],N0=(g0-d0)/(zn.length-Rp+2*jp);return zu=Sp(d0+N0*jp,N0),Wp&&zu.reverse(),Yu=N0*(1-Rp),Gl={t:"rangeBands",a:arguments},Qu},Qu.rangeRoundBands=function(vp,Rp,jp){arguments.length<2&&(Rp=0),arguments.length<3&&(jp=Rp);var Wp=vp[1]<vp[0],d0=vp[Wp-0],g0=vp[1-Wp],N0=Math.floor((g0-d0)/(zn.length-Rp+2*jp));return zu=Sp(d0+Math.round((g0-d0-(zn.length-Rp)*N0)/2),N0),Wp&&zu.reverse(),Yu=Math.round(N0*(1-Rp)),Gl={t:"rangeRoundBands",a:arguments},Qu},Qu.rangeBand=function(){return Yu},Qu.rangeExtent=function(){return ow(Gl.a[0])},Qu.copy=function(){return m5(zn,Gl)},Qu.domain(zn)}ls.scale.category10=function(){return ls.scale.ordinal().range(IS)},ls.scale.category20=function(){return ls.scale.ordinal().range(zS)},ls.scale.category20b=function(){return ls.scale.ordinal().range(NS)},ls.scale.category20c=function(){return ls.scale.ordinal().range(BS)};var IS=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_d),zS=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_d),NS=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_d),BS=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_d);ls.scale.quantile=function(){return v5([],[])};function v5(zn,Gl){var Ql;function zu(){var Qu=0,Sp=Gl.length;for(Ql=[];++Qu<Sp;)Ql[Qu-1]=ls.quantile(zn,Qu/Sp);return Yu}function Yu(Qu){if(!isNaN(Qu=+Qu))return Gl[ls.bisect(Ql,Qu)]}return Yu.domain=function(Qu){return arguments.length?(zn=Qu.map($l).filter(Nl).sort(Fl),zu()):zn},Yu.range=function(Qu){return arguments.length?(Gl=Qu,zu()):Gl},Yu.quantiles=function(){return Ql},Yu.invertExtent=function(Qu){return Qu=Gl.indexOf(Qu),Qu<0?[NaN,NaN]:[Qu>0?Ql[Qu-1]:zn[0],Qu<Ql.length?Ql[Qu]:zn[zn.length-1]]},Yu.copy=function(){return v5(zn,Gl)},zu()}ls.scale.quantize=function(){return y5(0,1,[0,1])};function y5(zn,Gl,Ql){var zu,Yu;function Qu(vp){return Ql[Math.max(0,Math.min(Yu,Math.floor(zu*(vp-zn))))]}function Sp(){return zu=Ql.length/(Gl-zn),Yu=Ql.length-1,Qu}return Qu.domain=function(vp){return arguments.length?(zn=+vp[0],Gl=+vp[vp.length-1],Sp()):[zn,Gl]},Qu.range=function(vp){return arguments.length?(Ql=vp,Sp()):Ql},Qu.invertExtent=function(vp){return vp=Ql.indexOf(vp),vp=vp<0?NaN:vp/zu+zn,[vp,vp+1/zu]},Qu.copy=function(){return y5(zn,Gl,Ql)},Sp()}ls.scale.threshold=function(){return b5([.5],[0,1])};function b5(zn,Gl){function Ql(zu){if(zu<=zu)return Gl[ls.bisect(zn,zu)]}return Ql.domain=function(zu){return arguments.length?(zn=zu,Ql):zn},Ql.range=function(zu){return arguments.length?(Gl=zu,Ql):Gl},Ql.invertExtent=function(zu){return zu=Gl.indexOf(zu),[zn[zu-1],zn[zu]]},Ql.copy=function(){return b5(zn,Gl)},Ql}ls.scale.identity=function(){return x5([0,1])};function x5(zn){function Gl(Ql){return+Ql}return Gl.invert=Gl,Gl.domain=Gl.range=function(Ql){return arguments.length?(zn=Ql.map(Gl),Gl):zn},Gl.ticks=function(Ql){return _C(zn,Ql)},Gl.tickFormat=function(Ql,zu){return d3_scale_linearTickFormat(zn,Ql,zu)},Gl.copy=function(){return x5(zn)},Gl}ls.svg={};function GS(){return 0}ls.svg.arc=function(){var zn=$S,Gl=HS,Ql=GS,zu=lw,Yu=w5,Qu=C5,Sp=jS;function vp(){var jp=Math.max(0,+zn.apply(this,arguments)),Wp=Math.max(0,+Gl.apply(this,arguments)),d0=Yu.apply(this,arguments)-Lp,g0=Qu.apply(this,arguments)-Lp,N0=Math.abs(g0-d0),Z0=d0>g0?0:1;if(Wp<jp&&(m0=Wp,Wp=jp,jp=m0),N0>=Tp)return Rp(Wp,Z0)+(jp?Rp(jp,1-Z0):"")+"Z";var m0,D0,L0,Y0,K0=0,I0=0,Pm,Zm,Qm,Xm,s1,l1,k1,h1,C1=[];if((Y0=(+Sp.apply(this,arguments)||0)/2)&&(L0=zu===lw?Math.sqrt(jp*jp+Wp*Wp):+zu.apply(this,arguments),Z0||(I0*=-1),Wp&&(I0=i0(L0/Wp*Math.sin(Y0))),jp&&(K0=i0(L0/jp*Math.sin(Y0)))),Wp){Pm=Wp*Math.cos(d0+I0),Zm=Wp*Math.sin(d0+I0),Qm=Wp*Math.cos(g0-I0),Xm=Wp*Math.sin(g0-I0);var K1=Math.abs(g0-d0-2*I0)<=lp?0:1;if(I0&&cw(Pm,Zm,Qm,Xm)===Z0^K1){var Bv=(d0+g0)/2;Pm=Wp*Math.cos(Bv),Zm=Wp*Math.sin(Bv),Qm=Xm=null}}else Pm=Zm=0;if(jp){s1=jp*Math.cos(g0-K0),l1=jp*Math.sin(g0-K0),k1=jp*Math.cos(d0+K0),h1=jp*Math.sin(d0+K0);var sv=Math.abs(d0-g0+2*K0)<=lp?0:1;if(K0&&cw(s1,l1,k1,h1)===1-Z0^sv){var Km=(d0+g0)/2;s1=jp*Math.cos(Km),l1=jp*Math.sin(Km),k1=h1=null}}else s1=l1=0;if(N0>$p&&(m0=Math.min(Math.abs(Wp-jp)/2,+Ql.apply(this,arguments)))>.001){D0=jp<Wp^Z0?0:1;var M1=m0,F1=m0;if(N0<lp){var Z1=k1==null?[s1,l1]:Qm==null?[Pm,Zm]:y1([Pm,Zm],[k1,h1],[Qm,Xm],[s1,l1]),Lv=Pm-Z1[0],Vv=Zm-Z1[1],ty=Qm-Z1[0],py=Xm-Z1[1],my=1/Math.sin(Math.acos((Lv*ty+Vv*py)/(Math.sqrt(Lv*Lv+Vv*Vv)*Math.sqrt(ty*ty+py*py)))/2),fy=Math.sqrt(Z1[0]*Z1[0]+Z1[1]*Z1[1]);F1=Math.min(m0,(jp-fy)/(my-1)),M1=Math.min(m0,(Wp-fy)/(my+1))}if(Qm!=null){var yy=uw(k1==null?[s1,l1]:[k1,h1],[Pm,Zm],Wp,M1,Z0),oy=uw([Qm,Xm],[s1,l1],Wp,M1,Z0);m0===M1?C1.push("M",yy[0],"A",M1,",",M1," 0 0,",D0," ",yy[1],"A",Wp,",",Wp," 0 ",1-Z0^cw(yy[1][0],yy[1][1],oy[1][0],oy[1][1]),",",Z0," ",oy[1],"A",M1,",",M1," 0 0,",D0," ",oy[0]):C1.push("M",yy[0],"A",M1,",",M1," 0 1,",D0," ",oy[0])}else C1.push("M",Pm,",",Zm);if(k1!=null){var by=uw([Pm,Zm],[k1,h1],jp,-F1,Z0),O2=uw([s1,l1],Qm==null?[Pm,Zm]:[Qm,Xm],jp,-F1,Z0);m0===F1?C1.push("L",O2[0],"A",F1,",",F1," 0 0,",D0," ",O2[1],"A",jp,",",jp," 0 ",Z0^cw(O2[1][0],O2[1][1],by[1][0],by[1][1]),",",1-Z0," ",by[1],"A",F1,",",F1," 0 0,",D0," ",by[0]):C1.push("L",O2[0],"A",F1,",",F1," 0 0,",D0," ",by[0])}else C1.push("L",s1,",",l1)}else C1.push("M",Pm,",",Zm),Qm!=null&&C1.push("A",Wp,",",Wp," 0 ",K1,",",Z0," ",Qm,",",Xm),C1.push("L",s1,",",l1),k1!=null&&C1.push("A",jp,",",jp," 0 ",sv,",",1-Z0," ",k1,",",h1);return C1.push("Z"),C1.join("")}function Rp(jp,Wp){return"M0,"+jp+"A"+jp+","+jp+" 0 1,"+Wp+" 0,"+-jp+"A"+jp+","+jp+" 0 1,"+Wp+" 0,"+jp}return vp.innerRadius=function(jp){return arguments.length?(zn=p0(jp),vp):zn},vp.outerRadius=function(jp){return arguments.length?(Gl=p0(jp),vp):Gl},vp.cornerRadius=function(jp){return arguments.length?(Ql=p0(jp),vp):Ql},vp.padRadius=function(jp){return arguments.length?(zu=jp==lw?lw:p0(jp),vp):zu},vp.startAngle=function(jp){return arguments.length?(Yu=p0(jp),vp):Yu},vp.endAngle=function(jp){return arguments.length?(Qu=p0(jp),vp):Qu},vp.padAngle=function(jp){return arguments.length?(Sp=p0(jp),vp):Sp},vp.centroid=function(){var jp=(+zn.apply(this,arguments)+ +Gl.apply(this,arguments))/2,Wp=(+Yu.apply(this,arguments)+ +Qu.apply(this,arguments))/2-Lp;return[Math.cos(Wp)*jp,Math.sin(Wp)*jp]},vp};var lw="auto";function $S(zn){return zn.innerRadius}function HS(zn){return zn.outerRadius}function w5(zn){return zn.startAngle}function C5(zn){return zn.endAngle}function jS(zn){return zn&&zn.padAngle}function cw(zn,Gl,Ql,zu){return(zn-Ql)*Gl-(Gl-zu)*zn>0?0:1}function uw(zn,Gl,Ql,zu,Yu){var Qu=zn[0]-Gl[0],Sp=zn[1]-Gl[1],vp=(Yu?zu:-zu)/Math.sqrt(Qu*Qu+Sp*Sp),Rp=vp*Sp,jp=-vp*Qu,Wp=zn[0]+Rp,d0=zn[1]+jp,g0=Gl[0]+Rp,N0=Gl[1]+jp,Z0=(Wp+g0)/2,m0=(d0+N0)/2,D0=g0-Wp,L0=N0-d0,Y0=D0*D0+L0*L0,K0=Ql-zu,I0=Wp*N0-g0*d0,Pm=(L0<0?-1:1)*Math.sqrt(Math.max(0,K0*K0*Y0-I0*I0)),Zm=(I0*L0-D0*Pm)/Y0,Qm=(-I0*D0-L0*Pm)/Y0,Xm=(I0*L0+D0*Pm)/Y0,s1=(-I0*D0+L0*Pm)/Y0,l1=Zm-Z0,k1=Qm-m0,h1=Xm-Z0,C1=s1-m0;return l1*l1+k1*k1>h1*h1+C1*C1&&(Zm=Xm,Qm=s1),[[Zm-Rp,Qm-jp],[Zm*Ql/K0,Qm*Ql/K0]]}function S5(){return!0}function _5(zn){var Gl=L1,Ql=ov,zu=S5,Yu=Hy,Qu=Yu.key,Sp=.7;function vp(Rp){var jp=[],Wp=[],d0=-1,g0=Rp.length,N0,Z0=p0(Gl),m0=p0(Ql);function D0(){jp.push("M",Yu(zn(Wp),Sp))}for(;++d0<g0;)zu.call(this,N0=Rp[d0],d0)?Wp.push([+Z0.call(this,N0,d0),+m0.call(this,N0,d0)]):Wp.length&&(D0(),Wp=[]);return Wp.length&&D0(),jp.length?jp.join(""):null}return vp.x=function(Rp){return arguments.length?(Gl=Rp,vp):Gl},vp.y=function(Rp){return arguments.length?(Ql=Rp,vp):Ql},vp.defined=function(Rp){return arguments.length?(zu=Rp,vp):zu},vp.interpolate=function(Rp){return arguments.length?(typeof Rp=="function"?Qu=Yu=Rp:Qu=(Yu=EC.get(Rp)||Hy).key,vp):Qu},vp.tension=function(Rp){return arguments.length?(Sp=Rp,vp):Sp},vp}ls.svg.line=function(){return _5(Hu)};var EC=ls.map({linear:Hy,"linear-closed":E5,step:VS,"step-before":kC,"step-after":MC,basis:k5,"basis-open":YS,"basis-closed":KS,bundle:ZS,cardinal:qS,"cardinal-open":WS,"cardinal-closed":US,monotone:JS});EC.forEach(function(zn,Gl){Gl.key=zn,Gl.closed=/-closed$/.test(zn)});function Hy(zn){return zn.length>1?zn.join("L"):zn+"Z"}function E5(zn){return zn.join("L")+"Z"}function VS(zn){for(var Gl=0,Ql=zn.length,zu=zn[0],Yu=[zu[0],",",zu[1]];++Gl<Ql;)Yu.push("H",(zu[0]+(zu=zn[Gl])[0])/2,"V",zu[1]);return Ql>1&&Yu.push("H",zu[0]),Yu.join("")}function kC(zn){for(var Gl=0,Ql=zn.length,zu=zn[0],Yu=[zu[0],",",zu[1]];++Gl<Ql;)Yu.push("V",(zu=zn[Gl])[1],"H",zu[0]);return Yu.join("")}function MC(zn){for(var Gl=0,Ql=zn.length,zu=zn[0],Yu=[zu[0],",",zu[1]];++Gl<Ql;)Yu.push("H",(zu=zn[Gl])[0],"V",zu[1]);return Yu.join("")}function WS(zn,Gl){return zn.length<4?Hy(zn):zn[1]+dw(zn.slice(1,-1),AC(zn,Gl))}function US(zn,Gl){return zn.length<3?E5(zn):zn[0]+dw((zn.push(zn[0]),zn),AC([zn[zn.length-2]].concat(zn,[zn[1]]),Gl))}function qS(zn,Gl){return zn.length<3?Hy(zn):zn[0]+dw(zn,AC(zn,Gl))}function dw(zn,Gl){if(Gl.length<1||zn.length!=Gl.length&&zn.length!=Gl.length+2)return Hy(zn);var Ql=zn.length!=Gl.length,zu="",Yu=zn[0],Qu=zn[1],Sp=Gl[0],vp=Sp,Rp=1;if(Ql&&(zu+="Q"+(Qu[0]-Sp[0]*2/3)+","+(Qu[1]-Sp[1]*2/3)+","+Qu[0]+","+Qu[1],Yu=zn[1],Rp=2),Gl.length>1){vp=Gl[1],Qu=zn[Rp],Rp++,zu+="C"+(Yu[0]+Sp[0])+","+(Yu[1]+Sp[1])+","+(Qu[0]-vp[0])+","+(Qu[1]-vp[1])+","+Qu[0]+","+Qu[1];for(var jp=2;jp<Gl.length;jp++,Rp++)Qu=zn[Rp],vp=Gl[jp],zu+="S"+(Qu[0]-vp[0])+","+(Qu[1]-vp[1])+","+Qu[0]+","+Qu[1]}if(Ql){var Wp=zn[Rp];zu+="Q"+(Qu[0]+vp[0]*2/3)+","+(Qu[1]+vp[1]*2/3)+","+Wp[0]+","+Wp[1]}return zu}function AC(zn,Gl){for(var Ql=[],zu=(1-Gl)/2,Yu,Qu=zn[0],Sp=zn[1],vp=1,Rp=zn.length;++vp<Rp;)Yu=Qu,Qu=Sp,Sp=zn[vp],Ql.push([zu*(Sp[0]-Yu[0]),zu*(Sp[1]-Yu[1])]);return Ql}function k5(zn){if(zn.length<3)return Hy(zn);var Gl=1,Ql=zn.length,zu=zn[0],Yu=zu[0],Qu=zu[1],Sp=[Yu,Yu,Yu,(zu=zn[1])[0]],vp=[Qu,Qu,Qu,zu[1]],Rp=[Yu,",",Qu,"L",Ty(y2,Sp),",",Ty(y2,vp)];for(zn.push(zn[Ql-1]);++Gl<=Ql;)zu=zn[Gl],Sp.shift(),Sp.push(zu[0]),vp.shift(),vp.push(zu[1]),TC(Rp,Sp,vp);return zn.pop(),Rp.push("L",zu),Rp.join("")}function YS(zn){if(zn.length<4)return Hy(zn);for(var Gl=[],Ql=-1,zu=zn.length,Yu,Qu=[0],Sp=[0];++Ql<3;)Yu=zn[Ql],Qu.push(Yu[0]),Sp.push(Yu[1]);for(Gl.push(Ty(y2,Qu)+","+Ty(y2,Sp)),--Ql;++Ql<zu;)Yu=zn[Ql],Qu.shift(),Qu.push(Yu[0]),Sp.shift(),Sp.push(Yu[1]),TC(Gl,Qu,Sp);return Gl.join("")}function KS(zn){for(var Gl,Ql=-1,zu=zn.length,Yu=zu+4,Qu,Sp=[],vp=[];++Ql<4;)Qu=zn[Ql%zu],Sp.push(Qu[0]),vp.push(Qu[1]);for(Gl=[Ty(y2,Sp),",",Ty(y2,vp)],--Ql;++Ql<Yu;)Qu=zn[Ql%zu],Sp.shift(),Sp.push(Qu[0]),vp.shift(),vp.push(Qu[1]),TC(Gl,Sp,vp);return Gl.join("")}function ZS(zn,Gl){var Ql=zn.length-1;if(Ql)for(var zu=zn[0][0],Yu=zn[0][1],Qu=zn[Ql][0]-zu,Sp=zn[Ql][1]-Yu,vp=-1,Rp,jp;++vp<=Ql;)Rp=zn[vp],jp=vp/Ql,Rp[0]=Gl*Rp[0]+(1-Gl)*(zu+jp*Qu),Rp[1]=Gl*Rp[1]+(1-Gl)*(Yu+jp*Sp);return k5(zn)}function Ty(zn,Gl){return zn[0]*Gl[0]+zn[1]*Gl[1]+zn[2]*Gl[2]+zn[3]*Gl[3]}var M5=[0,2/3,1/3,0],A5=[0,1/3,2/3,0],y2=[0,1/6,2/3,1/6];function TC(zn,Gl,Ql){zn.push("C",Ty(M5,Gl),",",Ty(M5,Ql),",",Ty(A5,Gl),",",Ty(A5,Ql),",",Ty(y2,Gl),",",Ty(y2,Ql))}function RC(zn,Gl){return(Gl[1]-zn[1])/(Gl[0]-zn[0])}function XS(zn){for(var Gl=0,Ql=zn.length-1,zu=[],Yu=zn[0],Qu=zn[1],Sp=zu[0]=RC(Yu,Qu);++Gl<Ql;)zu[Gl]=(Sp+(Sp=RC(Yu=Qu,Qu=zn[Gl+1])))/2;return zu[Gl]=Sp,zu}function QS(zn){for(var Gl=[],Ql,zu,Yu,Qu,Sp=XS(zn),vp=-1,Rp=zn.length-1;++vp<Rp;)Ql=RC(zn[vp],zn[vp+1]),_l(Ql)<$p?Sp[vp]=Sp[vp+1]=0:(zu=Sp[vp]/Ql,Yu=Sp[vp+1]/Ql,Qu=zu*zu+Yu*Yu,Qu>9&&(Qu=Ql*3/Math.sqrt(Qu),Sp[vp]=Qu*zu,Sp[vp+1]=Qu*Yu));for(vp=-1;++vp<=Rp;)Qu=(zn[Math.min(Rp,vp+1)][0]-zn[Math.max(0,vp-1)][0])/(6*(1+Sp[vp]*Sp[vp])),Gl.push([Qu||0,Sp[vp]*Qu||0]);return Gl}function JS(zn){return zn.length<3?Hy(zn):zn[0]+dw(zn,QS(zn))}ls.svg.line.radial=function(){var zn=_5(T5);return zn.radius=zn.x,delete zn.x,zn.angle=zn.y,delete zn.y,zn};function T5(zn){for(var Gl,Ql=-1,zu=zn.length,Yu,Qu;++Ql<zu;)Gl=zn[Ql],Yu=Gl[0],Qu=Gl[1]-Lp,Gl[0]=Yu*Math.cos(Qu),Gl[1]=Yu*Math.sin(Qu);return zn}function R5(zn){var Gl=L1,Ql=L1,zu=0,Yu=ov,Qu=S5,Sp=Hy,vp=Sp.key,Rp=Sp,jp="L",Wp=.7;function d0(g0){var N0=[],Z0=[],m0=[],D0=-1,L0=g0.length,Y0,K0=p0(Gl),I0=p0(zu),Pm=Gl===Ql?function(){return Qm}:p0(Ql),Zm=zu===Yu?function(){return Xm}:p0(Yu),Qm,Xm;function s1(){N0.push("M",Sp(zn(m0),Wp),jp,Rp(zn(Z0.reverse()),Wp),"Z")}for(;++D0<L0;)Qu.call(this,Y0=g0[D0],D0)?(Z0.push([Qm=+K0.call(this,Y0,D0),Xm=+I0.call(this,Y0,D0)]),m0.push([+Pm.call(this,Y0,D0),+Zm.call(this,Y0,D0)])):Z0.length&&(s1(),Z0=[],m0=[]);return Z0.length&&s1(),N0.length?N0.join(""):null}return d0.x=function(g0){return arguments.length?(Gl=Ql=g0,d0):Ql},d0.x0=function(g0){return arguments.length?(Gl=g0,d0):Gl},d0.x1=function(g0){return arguments.length?(Ql=g0,d0):Ql},d0.y=function(g0){return arguments.length?(zu=Yu=g0,d0):Yu},d0.y0=function(g0){return arguments.length?(zu=g0,d0):zu},d0.y1=function(g0){return arguments.length?(Yu=g0,d0):Yu},d0.defined=function(g0){return arguments.length?(Qu=g0,d0):Qu},d0.interpolate=function(g0){return arguments.length?(typeof g0=="function"?vp=Sp=g0:vp=(Sp=EC.get(g0)||Hy).key,Rp=Sp.reverse||Sp,jp=Sp.closed?"M":"L",d0):vp},d0.tension=function(g0){return arguments.length?(Wp=g0,d0):Wp},d0}kC.reverse=MC,MC.reverse=kC,ls.svg.area=function(){return R5(Hu)},ls.svg.area.radial=function(){var zn=R5(T5);return zn.radius=zn.x,delete zn.x,zn.innerRadius=zn.x0,delete zn.x0,zn.outerRadius=zn.x1,delete zn.x1,zn.angle=zn.y,delete zn.y,zn.startAngle=zn.y0,delete zn.y0,zn.endAngle=zn.y1,delete zn.y1,zn};function F5(zn){return zn.source}function P5(zn){return zn.target}ls.svg.chord=function(){var zn=F5,Gl=P5,Ql=e6,zu=w5,Yu=C5;function Qu(Wp,d0){var g0=Sp(this,zn,Wp,d0),N0=Sp(this,Gl,Wp,d0);return"M"+g0.p0+Rp(g0.r,g0.p1,g0.a1-g0.a0)+(vp(g0,N0)?jp(g0.r,g0.p1,g0.r,g0.p0):jp(g0.r,g0.p1,N0.r,N0.p0)+Rp(N0.r,N0.p1,N0.a1-N0.a0)+jp(N0.r,N0.p1,g0.r,g0.p0))+"Z"}function Sp(Wp,d0,g0,N0){var Z0=d0.call(Wp,g0,N0),m0=Ql.call(Wp,Z0,N0),D0=zu.call(Wp,Z0,N0)-Lp,L0=Yu.call(Wp,Z0,N0)-Lp;return{r:m0,a0:D0,a1:L0,p0:[m0*Math.cos(D0),m0*Math.sin(D0)],p1:[m0*Math.cos(L0),m0*Math.sin(L0)]}}function vp(Wp,d0){return Wp.a0==d0.a0&&Wp.a1==d0.a1}function Rp(Wp,d0,g0){return"A"+Wp+","+Wp+" 0 "+ +(g0>lp)+",1 "+d0}function jp(Wp,d0,g0,N0){return"Q 0,0 "+N0}return Qu.radius=function(Wp){return arguments.length?(Ql=p0(Wp),Qu):Ql},Qu.source=function(Wp){return arguments.length?(zn=p0(Wp),Qu):zn},Qu.target=function(Wp){return arguments.length?(Gl=p0(Wp),Qu):Gl},Qu.startAngle=function(Wp){return arguments.length?(zu=p0(Wp),Qu):zu},Qu.endAngle=function(Wp){return arguments.length?(Yu=p0(Wp),Qu):Yu},Qu};function e6(zn){return zn.radius}ls.svg.diagonal=function(){var zn=F5,Gl=P5,Ql=D5;function zu(Yu,Qu){var Sp=zn.call(this,Yu,Qu),vp=Gl.call(this,Yu,Qu),Rp=(Sp.y+vp.y)/2,jp=[Sp,{x:Sp.x,y:Rp},{x:vp.x,y:Rp},vp];return jp=jp.map(Ql),"M"+jp[0]+"C"+jp[1]+" "+jp[2]+" "+jp[3]}return zu.source=function(Yu){return arguments.length?(zn=p0(Yu),zu):zn},zu.target=function(Yu){return arguments.length?(Gl=p0(Yu),zu):Gl},zu.projection=function(Yu){return arguments.length?(Ql=Yu,zu):Ql},zu};function D5(zn){return[zn.x,zn.y]}ls.svg.diagonal.radial=function(){var zn=ls.svg.diagonal(),Gl=D5,Ql=zn.projection;return zn.projection=function(zu){return arguments.length?Ql(t6(Gl=zu)):Gl},zn};function t6(zn){return function(){var Gl=zn.apply(this,arguments),Ql=Gl[0],zu=Gl[1]-Lp;return[Ql*Math.cos(zu),Ql*Math.sin(zu)]}}ls.svg.symbol=function(){var zn=n6,Gl=r6;function Ql(zu,Yu){return(O5.get(zn.call(this,zu,Yu))||L5)(Gl.call(this,zu,Yu))}return Ql.type=function(zu){return arguments.length?(zn=p0(zu),Ql):zn},Ql.size=function(zu){return arguments.length?(Gl=p0(zu),Ql):Gl},Ql};function r6(){return 64}function n6(){return"circle"}function L5(zn){var Gl=Math.sqrt(zn/lp);return"M0,"+Gl+"A"+Gl+","+Gl+" 0 1,1 0,"+-Gl+"A"+Gl+","+Gl+" 0 1,1 0,"+Gl+"Z"}var O5=ls.map({circle:L5,cross:function(zn){var Gl=Math.sqrt(zn/5)/2;return"M"+-3*Gl+","+-Gl+"H"+-Gl+"V"+-3*Gl+"H"+Gl+"V"+-Gl+"H"+3*Gl+"V"+Gl+"H"+Gl+"V"+3*Gl+"H"+-Gl+"V"+Gl+"H"+-3*Gl+"Z"},diamond:function(zn){var Gl=Math.sqrt(zn/(2*I5)),Ql=Gl*I5;return"M0,"+-Gl+"L"+Ql+",0 0,"+Gl+" "+-Ql+",0Z"},square:function(zn){var Gl=Math.sqrt(zn)/2;return"M"+-Gl+","+-Gl+"L"+Gl+","+-Gl+" "+Gl+","+Gl+" "+-Gl+","+Gl+"Z"},"triangle-down":function(zn){var Gl=Math.sqrt(zn/hw),Ql=Gl*hw/2;return"M0,"+Ql+"L"+Gl+","+-Ql+" "+-Gl+","+-Ql+"Z"},"triangle-up":function(zn){var Gl=Math.sqrt(zn/hw),Ql=Gl*hw/2;return"M0,"+-Ql+"L"+Gl+","+Ql+" "+-Gl+","+Ql+"Z"}});ls.svg.symbolTypes=O5.keys();var hw=Math.sqrt(3),I5=Math.tan(30*Up);_u.transition=function(zn){for(var Gl=L2||++N5,Ql=PC(zn),zu=[],Yu,Qu,Sp=fw||{time:Date.now(),ease:O4,delay:0,duration:250},vp=-1,Rp=this.length;++vp<Rp;){zu.push(Yu=[]);for(var jp=this[vp],Wp=-1,d0=jp.length;++Wp<d0;)(Qu=jp[Wp])&&gw(Qu,Wp,Ql,Gl,Sp),Yu.push(Qu)}return J3(zu,Ql,Gl)},_u.interrupt=function(zn){return this.each(zn==null?pw:z5(PC(zn)))};var pw=z5(PC());function z5(zn){return function(){var Gl,Ql,zu;(Gl=this[zn])&&(zu=Gl[Ql=Gl.active])&&(zu.timer.c=null,zu.timer.t=NaN,--Gl.count?delete Gl[Ql]:delete this[zn],Gl.active+=.5,zu.event&&zu.event.interrupt.call(this,this.__data__,zu.index))}}function J3(zn,Gl,Ql){return Iu(zn,jv),zn.namespace=Gl,zn.id=Ql,zn}var jv=[],N5=0,L2,fw;jv.call=_u.call,jv.empty=_u.empty,jv.node=_u.node,jv.size=_u.size,ls.transition=function(zn,Gl){return zn&&zn.transition?L2?zn.transition(Gl):zn:ls.selection().transition(zn)},ls.transition.prototype=jv,jv.select=function(zn){var Gl=this.id,Ql=this.namespace,zu=[],Yu,Qu,Sp;zn=Wl(zn);for(var vp=-1,Rp=this.length;++vp<Rp;){zu.push(Yu=[]);for(var jp=this[vp],Wp=-1,d0=jp.length;++Wp<d0;)(Sp=jp[Wp])&&(Qu=zn.call(Sp,Sp.__data__,Wp,vp))?("__data__"in Sp&&(Qu.__data__=Sp.__data__),gw(Qu,Wp,Ql,Gl,Sp[Ql][Gl]),Yu.push(Qu)):Yu.push(null)}return J3(zu,Ql,Gl)},jv.selectAll=function(zn){var Gl=this.id,Ql=this.namespace,zu=[],Yu,Qu,Sp,vp,Rp;zn=Jl(zn);for(var jp=-1,Wp=this.length;++jp<Wp;)for(var d0=this[jp],g0=-1,N0=d0.length;++g0<N0;)if(Sp=d0[g0]){Rp=Sp[Ql][Gl],Qu=zn.call(Sp,Sp.__data__,g0,jp),zu.push(Yu=[]);for(var Z0=-1,m0=Qu.length;++Z0<m0;)(vp=Qu[Z0])&&gw(vp,Z0,Ql,Gl,Rp),Yu.push(vp)}return J3(zu,Ql,Gl)},jv.filter=function(zn){var Gl=[],Ql,zu,Yu;typeof zn!="function"&&(zn=sp(zn));for(var Qu=0,Sp=this.length;Qu<Sp;Qu++){Gl.push(Ql=[]);for(var zu=this[Qu],vp=0,Rp=zu.length;vp<Rp;vp++)(Yu=zu[vp])&&zn.call(Yu,Yu.__data__,vp,Qu)&&Ql.push(Yu)}return J3(Gl,this.namespace,this.id)},jv.tween=function(zn,Gl){var Ql=this.id,zu=this.namespace;return arguments.length<2?this.node()[zu][Ql].tween.get(zn):Jp(this,Gl==null?function(Yu){Yu[zu][Ql].tween.remove(zn)}:function(Yu){Yu[zu][Ql].tween.set(zn,Gl)})};function FC(zn,Gl,Ql,zu){var Yu=zn.id,Qu=zn.namespace;return Jp(zn,typeof Ql=="function"?function(Sp,vp,Rp){Sp[Qu][Yu].tween.set(Gl,zu(Ql.call(Sp,Sp.__data__,vp,Rp)))}:(Ql=zu(Ql),function(Sp){Sp[Qu][Yu].tween.set(Gl,Ql)}))}jv.attr=function(zn,Gl){if(arguments.length<2){for(Gl in zn)this.attr(Gl,zn[Gl]);return this}var Ql=zn=="transform"?ZC:D2,zu=ls.ns.qualify(zn);function Yu(){this.removeAttribute(zu)}function Qu(){this.removeAttributeNS(zu.space,zu.local)}function Sp(Rp){return Rp==null?Yu:(Rp+="",function(){var jp=this.getAttribute(zu),Wp;return jp!==Rp&&(Wp=Ql(jp,Rp),function(d0){this.setAttribute(zu,Wp(d0))})})}function vp(Rp){return Rp==null?Qu:(Rp+="",function(){var jp=this.getAttributeNS(zu.space,zu.local),Wp;return jp!==Rp&&(Wp=Ql(jp,Rp),function(d0){this.setAttributeNS(zu.space,zu.local,Wp(d0))})})}return FC(this,"attr."+zn,Gl,zu.local?vp:Sp)},jv.attrTween=function(zn,Gl){var Ql=ls.ns.qualify(zn);function zu(Qu,Sp){var vp=Gl.call(this,Qu,Sp,this.getAttribute(Ql));return vp&&function(Rp){this.setAttribute(Ql,vp(Rp))}}function Yu(Qu,Sp){var vp=Gl.call(this,Qu,Sp,this.getAttributeNS(Ql.space,Ql.local));return vp&&function(Rp){this.setAttributeNS(Ql.space,Ql.local,vp(Rp))}}return this.tween("attr."+zn,Ql.local?Yu:zu)},jv.style=function(zn,Gl,Ql){var zu=arguments.length;if(zu<3){if(typeof zn!="string"){zu<2&&(Gl="");for(Ql in zn)this.style(Ql,zn[Ql],Gl);return this}Ql=""}function Yu(){this.style.removeProperty(zn)}function Qu(Sp){return Sp==null?Yu:(Sp+="",function(){var vp=yl(this).getComputedStyle(this,null).getPropertyValue(zn),Rp;return vp!==Sp&&(Rp=D2(vp,Sp),function(jp){this.style.setProperty(zn,Rp(jp),Ql)})})}return FC(this,"style."+zn,Gl,Qu)},jv.styleTween=function(zn,Gl,Ql){arguments.length<3&&(Ql="");function zu(Yu,Qu){var Sp=Gl.call(this,Yu,Qu,yl(this).getComputedStyle(this,null).getPropertyValue(zn));return Sp&&function(vp){this.style.setProperty(zn,Sp(vp),Ql)}}return this.tween("style."+zn,zu)},jv.text=function(zn){return FC(this,"text",zn,i6)};function i6(zn){return zn==null&&(zn=""),function(){this.textContent=zn}}jv.remove=function(){var zn=this.namespace;return this.each("end.transition",function(){var Gl;this[zn].count<2&&(Gl=this.parentNode)&&Gl.removeChild(this)})},jv.ease=function(zn){var Gl=this.id,Ql=this.namespace;return arguments.length<1?this.node()[Ql][Gl].ease:(typeof zn!="function"&&(zn=ls.ease.apply(ls,arguments)),Jp(this,function(zu){zu[Ql][Gl].ease=zn}))},jv.delay=function(zn){var Gl=this.id,Ql=this.namespace;return arguments.length<1?this.node()[Ql][Gl].delay:Jp(this,typeof zn=="function"?function(zu,Yu,Qu){zu[Ql][Gl].delay=+zn.call(zu,zu.__data__,Yu,Qu)}:(zn=+zn,function(zu){zu[Ql][Gl].delay=zn}))},jv.duration=function(zn){var Gl=this.id,Ql=this.namespace;return arguments.length<1?this.node()[Ql][Gl].duration:Jp(this,typeof zn=="function"?function(zu,Yu,Qu){zu[Ql][Gl].duration=Math.max(1,zn.call(zu,zu.__data__,Yu,Qu))}:(zn=Math.max(1,zn),function(zu){zu[Ql][Gl].duration=zn}))},jv.each=function(zn,Gl){var Ql=this.id,zu=this.namespace;if(arguments.length<2){var Yu=fw,Qu=L2;try{L2=Ql,Jp(this,function(Sp,vp,Rp){fw=Sp[zu][Ql],zn.call(Sp,Sp.__data__,vp,Rp)})}finally{fw=Yu,L2=Qu}}else Jp(this,function(Sp){var vp=Sp[zu][Ql];(vp.event||(vp.event=ls.dispatch("start","end","interrupt"))).on(zn,Gl)});return this},jv.transition=function(){for(var zn=this.id,Gl=++N5,Ql=this.namespace,zu=[],Yu,Qu,Sp,vp,Rp=0,jp=this.length;Rp<jp;Rp++){zu.push(Yu=[]);for(var Qu=this[Rp],Wp=0,d0=Qu.length;Wp<d0;Wp++)(Sp=Qu[Wp])&&(vp=Sp[Ql][zn],gw(Sp,Wp,Ql,Gl,{time:vp.time,ease:vp.ease,delay:vp.delay+vp.duration,duration:vp.duration})),Yu.push(Sp)}return J3(zu,Ql,Gl)};function PC(zn){return zn==null?"__transition__":"__transition_"+zn+"__"}function gw(zn,Gl,Ql,zu,Yu){var Qu=zn[Ql]||(zn[Ql]={active:0,count:0}),Sp=Qu[zu],vp,Rp,jp,Wp,d0;function g0(m0){var D0=Sp.delay;if(Rp.t=D0+vp,D0<=m0)return N0(m0-D0);Rp.c=N0}function N0(m0){var D0=Qu.active,L0=Qu[D0];L0&&(L0.timer.c=null,L0.timer.t=NaN,--Qu.count,delete Qu[D0],L0.event&&L0.event.interrupt.call(zn,zn.__data__,L0.index));for(var Y0 in Qu)if(+Y0<zu){var K0=Qu[Y0];K0.timer.c=null,K0.timer.t=NaN,--Qu.count,delete Qu[Y0]}Rp.c=Z0,t1(function(){return Rp.c&&Z0(m0||1)&&(Rp.c=null,Rp.t=NaN),1},0,vp),Qu.active=zu,Sp.event&&Sp.event.start.call(zn,zn.__data__,Gl),d0=[],Sp.tween.forEach(function(I0,Pm){(Pm=Pm.call(zn,zn.__data__,Gl))&&d0.push(Pm)}),Wp=Sp.ease,jp=Sp.duration}function Z0(m0){for(var D0=m0/jp,L0=Wp(D0),Y0=d0.length;Y0>0;)d0[--Y0].call(zn,L0);if(D0>=1)return Sp.event&&Sp.event.end.call(zn,zn.__data__,Gl),--Qu.count?delete Qu[zu]:delete zn[Ql],1}Sp||(vp=Yu.time,Rp=t1(g0,0,vp),Sp=Qu[zu]={tween:new Hl,time:vp,timer:Rp,delay:Yu.delay,duration:Yu.duration,ease:Yu.ease,index:Gl},Yu=null,++Qu.count)}ls.svg.axis=function(){var zn=ls.scale.linear(),Gl=B5,Ql=6,zu=6,Yu=3,Qu=[10],Sp=null,vp;function Rp(jp){jp.each(function(){var Wp=ls.select(this),d0=this.__chart__||zn,g0=this.__chart__=zn.copy(),N0=Sp??(g0.ticks?g0.ticks.apply(g0,Qu):g0.domain()),Z0=vp??(g0.tickFormat?g0.tickFormat.apply(g0,Qu):Hu),m0=Wp.selectAll(".tick").data(N0,g0),D0=m0.enter().insert("g",".domain").attr("class","tick").style("opacity",$p),L0=ls.transition(m0.exit()).style("opacity",$p).remove(),Y0=ls.transition(m0.order()).style("opacity",1),K0=Math.max(Ql,0)+Yu,I0,Pm=aw(g0),Zm=Wp.selectAll(".domain").data([0]),Qm=(Zm.enter().append("path").attr("class","domain"),ls.transition(Zm));D0.append("line"),D0.append("text");var Xm=D0.select("line"),s1=Y0.select("line"),l1=m0.select("text").text(Z0),k1=D0.select("text"),h1=Y0.select("text"),C1=Gl==="top"||Gl==="left"?-1:1,K1,Bv,sv,Km;if(Gl==="bottom"||Gl==="top"?(I0=a6,K1="x",sv="y",Bv="x2",Km="y2",l1.attr("dy",C1<0?"0em":".71em").style("text-anchor","middle"),Qm.attr("d","M"+Pm[0]+","+C1*zu+"V0H"+Pm[1]+"V"+C1*zu)):(I0=s6,K1="y",sv="x",Bv="y2",Km="x2",l1.attr("dy",".32em").style("text-anchor",C1<0?"end":"start"),Qm.attr("d","M"+C1*zu+","+Pm[0]+"H0V"+Pm[1]+"H"+C1*zu)),Xm.attr(Km,C1*Ql),k1.attr(sv,C1*K0),s1.attr(Bv,0).attr(Km,C1*Ql),h1.attr(K1,0).attr(sv,C1*K0),g0.rangeBand){var M1=g0,F1=M1.rangeBand()/2;d0=g0=function(Z1){return M1(Z1)+F1}}else d0.rangeBand?d0=g0:L0.call(I0,g0,d0);D0.call(I0,d0,g0),Y0.call(I0,g0,g0)})}return Rp.scale=function(jp){return arguments.length?(zn=jp,Rp):zn},Rp.orient=function(jp){return arguments.length?(Gl=jp in o6?jp+"":B5,Rp):Gl},Rp.ticks=function(){return arguments.length?(Qu=Fn(arguments),Rp):Qu},Rp.tickValues=function(jp){return arguments.length?(Sp=jp,Rp):Sp},Rp.tickFormat=function(jp){return arguments.length?(vp=jp,Rp):vp},Rp.tickSize=function(jp){var Wp=arguments.length;return Wp?(Ql=+jp,zu=+arguments[Wp-1],Rp):Ql},Rp.innerTickSize=function(jp){return arguments.length?(Ql=+jp,Rp):Ql},Rp.outerTickSize=function(jp){return arguments.length?(zu=+jp,Rp):zu},Rp.tickPadding=function(jp){return arguments.length?(Yu=+jp,Rp):Yu},Rp.tickSubdivide=function(){return arguments.length&&Rp},Rp};var B5="bottom",o6={top:1,right:1,bottom:1,left:1};function a6(zn,Gl,Ql){zn.attr("transform",function(zu){var Yu=Gl(zu);return"translate("+(isFinite(Yu)?Yu:Ql(zu))+",0)"})}function s6(zn,Gl,Ql){zn.attr("transform",function(zu){var Yu=Gl(zu);return"translate(0,"+(isFinite(Yu)?Yu:Ql(zu))+")"})}ls.svg.brush=function(){var zn=wp(Wp,"brushstart","brush","brushend"),Gl=null,Ql=null,zu=[0,0],Yu=[0,0],Qu,Sp,vp=!0,Rp=!0,jp=DC[0];function Wp(m0){m0.each(function(){var D0=ls.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Z0).on("touchstart.brush",Z0),L0=D0.selectAll(".background").data([0]);L0.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),D0.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var Y0=D0.selectAll(".resize").data(jp,Hu);Y0.exit().remove(),Y0.enter().append("g").attr("class",function(Zm){return"resize "+Zm}).style("cursor",function(Zm){return l6[Zm]}).append("rect").attr("x",function(Zm){return/[ew]$/.test(Zm)?-3:null}).attr("y",function(Zm){return/^[ns]/.test(Zm)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),Y0.style("display",Wp.empty()?"none":null);var K0=ls.transition(D0),I0=ls.transition(L0),Pm;Gl&&(Pm=aw(Gl),I0.attr("x",Pm[0]).attr("width",Pm[1]-Pm[0]),g0(K0)),Ql&&(Pm=aw(Ql),I0.attr("y",Pm[0]).attr("height",Pm[1]-Pm[0]),N0(K0)),d0(K0)})}Wp.event=function(m0){m0.each(function(){var D0=zn.of(this,arguments),L0={x:zu,y:Yu,i:Qu,j:Sp},Y0=this.__chart__||L0;this.__chart__=L0,L2?ls.select(this).transition().each("start.brush",function(){Qu=Y0.i,Sp=Y0.j,zu=Y0.x,Yu=Y0.y,D0({type:"brushstart"})}).tween("brush:brush",function(){var K0=iw(zu,L0.x),I0=iw(Yu,L0.y);return Qu=Sp=null,function(Pm){zu=L0.x=K0(Pm),Yu=L0.y=I0(Pm),D0({type:"brush",mode:"resize"})}}).each("end.brush",function(){Qu=L0.i,Sp=L0.j,D0({type:"brush",mode:"resize"}),D0({type:"brushend"})}):(D0({type:"brushstart"}),D0({type:"brush",mode:"resize"}),D0({type:"brushend"}))})};function d0(m0){m0.selectAll(".resize").attr("transform",function(D0){return"translate("+zu[+/e$/.test(D0)]+","+Yu[+/^s/.test(D0)]+")"})}function g0(m0){m0.select(".extent").attr("x",zu[0]),m0.selectAll(".extent,.n>rect,.s>rect").attr("width",zu[1]-zu[0])}function N0(m0){m0.select(".extent").attr("y",Yu[0]),m0.selectAll(".extent,.e>rect,.w>rect").attr("height",Yu[1]-Yu[0])}function Z0(){var m0=this,D0=ls.select(ls.event.target),L0=zn.of(m0,arguments),Y0=ls.select(m0),K0=D0.datum(),I0=!/^(n|s)$/.test(K0)&&Gl,Pm=!/^(e|w)$/.test(K0)&&Ql,Zm=D0.classed("extent"),Qm=J0(m0),Xm,s1=ls.mouse(m0),l1,k1=ls.select(yl(m0)).on("keydown.brush",K1).on("keyup.brush",Bv);if(ls.event.changedTouches?k1.on("touchmove.brush",sv).on("touchend.brush",M1):k1.on("mousemove.brush",sv).on("mouseup.brush",M1),Y0.interrupt().selectAll("*").interrupt(),Zm)s1[0]=zu[0]-s1[0],s1[1]=Yu[0]-s1[1];else if(K0){var h1=+/w$/.test(K0),C1=+/^n/.test(K0);l1=[zu[1-h1]-s1[0],Yu[1-C1]-s1[1]],s1[0]=zu[h1],s1[1]=Yu[C1]}else ls.event.altKey&&(Xm=s1.slice());Y0.style("pointer-events","none").selectAll(".resize").style("display",null),ls.select("body").style("cursor",D0.style("cursor")),L0({type:"brushstart"}),sv();function K1(){ls.event.keyCode==32&&(Zm||(Xm=null,s1[0]-=zu[1],s1[1]-=Yu[1],Zm=2),ap())}function Bv(){ls.event.keyCode==32&&Zm==2&&(s1[0]+=zu[1],s1[1]+=Yu[1],Zm=0,ap())}function sv(){var F1=ls.mouse(m0),Z1=!1;l1&&(F1[0]+=l1[0],F1[1]+=l1[1]),Zm||(ls.event.altKey?(Xm||(Xm=[(zu[0]+zu[1])/2,(Yu[0]+Yu[1])/2]),s1[0]=zu[+(F1[0]<Xm[0])],s1[1]=Yu[+(F1[1]<Xm[1])]):Xm=null),I0&&Km(F1,Gl,0)&&(g0(Y0),Z1=!0),Pm&&Km(F1,Ql,1)&&(N0(Y0),Z1=!0),Z1&&(d0(Y0),L0({type:"brush",mode:Zm?"move":"resize"}))}function Km(F1,Z1,Lv){var Vv=aw(Z1),ty=Vv[0],py=Vv[1],my=s1[Lv],fy=Lv?Yu:zu,yy=fy[1]-fy[0],oy,by;if(Zm&&(ty-=my,py-=yy+my),oy=(Lv?Rp:vp)?Math.max(ty,Math.min(py,F1[Lv])):F1[Lv],Zm?by=(oy+=my)+yy:(Xm&&(my=Math.max(ty,Math.min(py,2*Xm[Lv]-oy))),my<oy?(by=oy,oy=my):by=my),fy[0]!=oy||fy[1]!=by)return Lv?Sp=null:Qu=null,fy[0]=oy,fy[1]=by,!0}function M1(){sv(),Y0.style("pointer-events","all").selectAll(".resize").style("display",Wp.empty()?"none":null),ls.select("body").style("cursor",null),k1.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Qm(),L0({type:"brushend"})}}return Wp.x=function(m0){return arguments.length?(Gl=m0,jp=DC[!Gl<<1|!Ql],Wp):Gl},Wp.y=function(m0){return arguments.length?(Ql=m0,jp=DC[!Gl<<1|!Ql],Wp):Ql},Wp.clamp=function(m0){return arguments.length?(Gl&&Ql?(vp=!!m0[0],Rp=!!m0[1]):Gl?vp=!!m0:Ql&&(Rp=!!m0),Wp):Gl&&Ql?[vp,Rp]:Gl?vp:Ql?Rp:null},Wp.extent=function(m0){var D0,L0,Y0,K0,I0;return arguments.length?(Gl&&(D0=m0[0],L0=m0[1],Ql&&(D0=D0[0],L0=L0[0]),Qu=[D0,L0],Gl.invert&&(D0=Gl(D0),L0=Gl(L0)),L0<D0&&(I0=D0,D0=L0,L0=I0),(D0!=zu[0]||L0!=zu[1])&&(zu=[D0,L0])),Ql&&(Y0=m0[0],K0=m0[1],Gl&&(Y0=Y0[1],K0=K0[1]),Sp=[Y0,K0],Ql.invert&&(Y0=Ql(Y0),K0=Ql(K0)),K0<Y0&&(I0=Y0,Y0=K0,K0=I0),(Y0!=Yu[0]||K0!=Yu[1])&&(Yu=[Y0,K0])),Wp):(Gl&&(Qu?(D0=Qu[0],L0=Qu[1]):(D0=zu[0],L0=zu[1],Gl.invert&&(D0=Gl.invert(D0),L0=Gl.invert(L0)),L0<D0&&(I0=D0,D0=L0,L0=I0))),Ql&&(Sp?(Y0=Sp[0],K0=Sp[1]):(Y0=Yu[0],K0=Yu[1],Ql.invert&&(Y0=Ql.invert(Y0),K0=Ql.invert(K0)),K0<Y0&&(I0=Y0,Y0=K0,K0=I0))),Gl&&Ql?[[D0,Y0],[L0,K0]]:Gl?[D0,L0]:Ql&&[Y0,K0])},Wp.clear=function(){return Wp.empty()||(zu=[0,0],Yu=[0,0],Qu=Sp=null),Wp},Wp.empty=function(){return!!Gl&&zu[0]==zu[1]||!!Ql&&Yu[0]==Yu[1]},ls.rebind(Wp,zn,"on")};var l6={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},DC=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];ls.text=y0(function(zn){return zn.responseText}),ls.json=function(zn,Gl){return H0(zn,"application/json",c6,Gl)};function c6(zn){return JSON.parse(zn.responseText)}ls.html=function(zn,Gl){return H0(zn,"text/html",u6,Gl)};function u6(zn){var Gl=xl.createRange();return Gl.selectNode(xl.body),Gl.createContextualFragment(zn.responseText)}ls.xml=y0(function(zn){return zn.responseXML}),typeof yu=="object"&&yu.exports?yu.exports=ls:this.d3=ls}).apply(self)}),b=a((Mu,yu)=>{(function(ls,_t){typeof Mu=="object"&&typeof yu<"u"?_t(Mu):(ls=ls||self,_t(ls.d3=ls.d3||{}))})(Mu,function(ls){var _t=new Date,Fn=new Date;function xl(sp,Ip,Jp,a0){function v0(h0){return sp(h0=arguments.length===0?new Date:new Date(+h0)),h0}return v0.floor=function(h0){return sp(h0=new Date(+h0)),h0},v0.ceil=function(h0){return sp(h0=new Date(h0-1)),Ip(h0,1),sp(h0),h0},v0.round=function(h0){var w0=v0(h0),E0=v0.ceil(h0);return h0-w0<E0-h0?w0:E0},v0.offset=function(h0,w0){return Ip(h0=new Date(+h0),w0==null?1:Math.floor(w0)),h0},v0.range=function(h0,w0,E0){var _0=[],$0;if(h0=v0.ceil(h0),E0=E0==null?1:Math.floor(E0),!(h0<w0)||!(E0>0))return _0;do _0.push($0=new Date(+h0)),Ip(h0,E0),sp(h0);while($0<h0&&h0<w0);return _0},v0.filter=function(h0){return xl(function(w0){if(w0>=w0)for(;sp(w0),!h0(w0);)w0.setTime(w0-1)},function(w0,E0){if(w0>=w0)if(E0<0)for(;++E0<=0;)for(;Ip(w0,-1),!h0(w0););else for(;--E0>=0;)for(;Ip(w0,1),!h0(w0););})},Jp&&(v0.count=function(h0,w0){return _t.setTime(+h0),Fn.setTime(+w0),sp(_t),sp(Fn),Math.floor(Jp(_t,Fn))},v0.every=function(h0){return h0=Math.floor(h0),!isFinite(h0)||!(h0>0)?null:h0>1?v0.filter(a0?function(w0){return a0(w0)%h0===0}:function(w0){return v0.count(0,w0)%h0===0}):v0}),v0}var Bn=xl(function(){},function(sp,Ip){sp.setTime(+sp+Ip)},function(sp,Ip){return Ip-sp});Bn.every=function(sp){return sp=Math.floor(sp),!isFinite(sp)||!(sp>0)?null:sp>1?xl(function(Ip){Ip.setTime(Math.floor(Ip/sp)*sp)},function(Ip,Jp){Ip.setTime(+Ip+Jp*sp)},function(Ip,Jp){return(Jp-Ip)/sp}):Bn};var yl=Bn.range,Sl=1e3,Al=6e4,Et=36e5,Pl=864e5,El=6048e5,Fl=xl(function(sp){sp.setTime(sp-sp.getMilliseconds())},function(sp,Ip){sp.setTime(+sp+Ip*Sl)},function(sp,Ip){return(Ip-sp)/Sl},function(sp){return sp.getUTCSeconds()}),$l=Fl.range,Nl=xl(function(sp){sp.setTime(sp-sp.getMilliseconds()-sp.getSeconds()*Sl)},function(sp,Ip){sp.setTime(+sp+Ip*Al)},function(sp,Ip){return(Ip-sp)/Al},function(sp){return sp.getMinutes()}),Ll=Nl.range,Ol=xl(function(sp){sp.setTime(sp-sp.getMilliseconds()-sp.getSeconds()*Sl-sp.getMinutes()*Al)},function(sp,Ip){sp.setTime(+sp+Ip*Et)},function(sp,Ip){return(Ip-sp)/Et},function(sp){return sp.getHours()}),Bl=Ol.range,_l=xl(function(sp){sp.setHours(0,0,0,0)},function(sp,Ip){sp.setDate(sp.getDate()+Ip)},function(sp,Ip){return(Ip-sp-(Ip.getTimezoneOffset()-sp.getTimezoneOffset())*Al)/Pl},function(sp){return sp.getDate()-1}),Rl=_l.range;function Il(sp){return xl(function(Ip){Ip.setDate(Ip.getDate()-(Ip.getDay()+7-sp)%7),Ip.setHours(0,0,0,0)},function(Ip,Jp){Ip.setDate(Ip.getDate()+Jp*7)},function(Ip,Jp){return(Jp-Ip-(Jp.getTimezoneOffset()-Ip.getTimezoneOffset())*Al)/El})}var Hl=Il(0),Kl=Il(1),Gu=Il(2),vu=Il(3),hu=Il(4),Yl=Il(5),$u=Il(6),bu=Hl.range,Lu=Kl.range,Fu=Gu.range,Du=vu.range,Hu=hu.range,Vu=Yl.range,gu=$u.range,Wu=xl(function(sp){sp.setDate(1),sp.setHours(0,0,0,0)},function(sp,Ip){sp.setMonth(sp.getMonth()+Ip)},function(sp,Ip){return Ip.getMonth()-sp.getMonth()+(Ip.getFullYear()-sp.getFullYear())*12},function(sp){return sp.getMonth()}),qu=Wu.range,np=xl(function(sp){sp.setMonth(0,1),sp.setHours(0,0,0,0)},function(sp,Ip){sp.setFullYear(sp.getFullYear()+Ip)},function(sp,Ip){return Ip.getFullYear()-sp.getFullYear()},function(sp){return sp.getFullYear()});np.every=function(sp){return!isFinite(sp=Math.floor(sp))||!(sp>0)?null:xl(function(Ip){Ip.setFullYear(Math.floor(Ip.getFullYear()/sp)*sp),Ip.setMonth(0,1),Ip.setHours(0,0,0,0)},function(Ip,Jp){Ip.setFullYear(Ip.getFullYear()+Jp*sp)})};var _h=np.range,ap=xl(function(sp){sp.setUTCSeconds(0,0)},function(sp,Ip){sp.setTime(+sp+Ip*Al)},function(sp,Ip){return(Ip-sp)/Al},function(sp){return sp.getUTCMinutes()}),bp=ap.range,wp=xl(function(sp){sp.setUTCMinutes(0,0,0)},function(sp,Ip){sp.setTime(+sp+Ip*Et)},function(sp,Ip){return(Ip-sp)/Et},function(sp){return sp.getUTCHours()}),kp=wp.range,Iu=xl(function(sp){sp.setUTCHours(0,0,0,0)},function(sp,Ip){sp.setUTCDate(sp.getUTCDate()+Ip)},function(sp,Ip){return(Ip-sp)/Pl},function(sp){return sp.getUTCDate()-1}),Bu=Iu.range;function Xl(sp){return xl(function(Ip){Ip.setUTCDate(Ip.getUTCDate()-(Ip.getUTCDay()+7-sp)%7),Ip.setUTCHours(0,0,0,0)},function(Ip,Jp){Ip.setUTCDate(Ip.getUTCDate()+Jp*7)},function(Ip,Jp){return(Jp-Ip)/El})}var Uu=Xl(0),ep=Xl(1),_u=Xl(2),Wl=Xl(3),Jl=Xl(4),Pu=Xl(5),Nu=Xl(6),tp=Uu.range,up=ep.range,dp=_u.range,Ap=Wl.range,Op=Jl.range,Zp=Pu.range,u0=Nu.range,r0=xl(function(sp){sp.setUTCDate(1),sp.setUTCHours(0,0,0,0)},function(sp,Ip){sp.setUTCMonth(sp.getUTCMonth()+Ip)},function(sp,Ip){return Ip.getUTCMonth()-sp.getUTCMonth()+(Ip.getUTCFullYear()-sp.getUTCFullYear())*12},function(sp){return sp.getUTCMonth()}),e0=r0.range,Cp=xl(function(sp){sp.setUTCMonth(0,1),sp.setUTCHours(0,0,0,0)},function(sp,Ip){sp.setUTCFullYear(sp.getUTCFullYear()+Ip)},function(sp,Ip){return Ip.getUTCFullYear()-sp.getUTCFullYear()},function(sp){return sp.getUTCFullYear()});Cp.every=function(sp){return!isFinite(sp=Math.floor(sp))||!(sp>0)?null:xl(function(Ip){Ip.setUTCFullYear(Math.floor(Ip.getUTCFullYear()/sp)*sp),Ip.setUTCMonth(0,1),Ip.setUTCHours(0,0,0,0)},function(Ip,Jp){Ip.setUTCFullYear(Ip.getUTCFullYear()+Jp*sp)})};var Mp=Cp.range;ls.timeDay=_l,ls.timeDays=Rl,ls.timeFriday=Yl,ls.timeFridays=Vu,ls.timeHour=Ol,ls.timeHours=Bl,ls.timeInterval=xl,ls.timeMillisecond=Bn,ls.timeMilliseconds=yl,ls.timeMinute=Nl,ls.timeMinutes=Ll,ls.timeMonday=Kl,ls.timeMondays=Lu,ls.timeMonth=Wu,ls.timeMonths=qu,ls.timeSaturday=$u,ls.timeSaturdays=gu,ls.timeSecond=Fl,ls.timeSeconds=$l,ls.timeSunday=Hl,ls.timeSundays=bu,ls.timeThursday=hu,ls.timeThursdays=Hu,ls.timeTuesday=Gu,ls.timeTuesdays=Fu,ls.timeWednesday=vu,ls.timeWednesdays=Du,ls.timeWeek=Hl,ls.timeWeeks=bu,ls.timeYear=np,ls.timeYears=_h,ls.utcDay=Iu,ls.utcDays=Bu,ls.utcFriday=Pu,ls.utcFridays=Zp,ls.utcHour=wp,ls.utcHours=kp,ls.utcMillisecond=Bn,ls.utcMilliseconds=yl,ls.utcMinute=ap,ls.utcMinutes=bp,ls.utcMonday=ep,ls.utcMondays=up,ls.utcMonth=r0,ls.utcMonths=e0,ls.utcSaturday=Nu,ls.utcSaturdays=u0,ls.utcSecond=Fl,ls.utcSeconds=$l,ls.utcSunday=Uu,ls.utcSundays=tp,ls.utcThursday=Jl,ls.utcThursdays=Op,ls.utcTuesday=_u,ls.utcTuesdays=dp,ls.utcWednesday=Wl,ls.utcWednesdays=Ap,ls.utcWeek=Uu,ls.utcWeeks=tp,ls.utcYear=Cp,ls.utcYears=Mp,Object.defineProperty(ls,"__esModule",{value:!0})})}),_=a((Mu,yu)=>{(function(ls,_t){typeof Mu=="object"&&typeof yu<"u"?_t(Mu,b()):(ls=ls||self,_t(ls.d3=ls.d3||{},ls.d3))})(Mu,function(ls,_t){function Fn(Ep){if(0<=Ep.y&&Ep.y<100){var $p=new Date(-1,Ep.m,Ep.d,Ep.H,Ep.M,Ep.S,Ep.L);return $p.setFullYear(Ep.y),$p}return new Date(Ep.y,Ep.m,Ep.d,Ep.H,Ep.M,Ep.S,Ep.L)}function xl(Ep){if(0<=Ep.y&&Ep.y<100){var $p=new Date(Date.UTC(-1,Ep.m,Ep.d,Ep.H,Ep.M,Ep.S,Ep.L));return $p.setUTCFullYear(Ep.y),$p}return new Date(Date.UTC(Ep.y,Ep.m,Ep.d,Ep.H,Ep.M,Ep.S,Ep.L))}function Bn(Ep,$p,Zu){return{y:Ep,m:$p,d:Zu,H:0,M:0,S:0,L:0}}function yl(Ep){var $p=Ep.dateTime,Zu=Ep.date,lp=Ep.time,mp=Ep.periods,Tp=Ep.days,Lp=Ep.shortDays,Up=Ep.months,Xp=Ep.shortMonths,c0=$l(mp),i0=Nl(mp),s0=$l(Tp),M0=Nl(Tp),A0=$l(Lp),R0=Nl(Lp),rm=$l(Up),wm=Nl(Up),Bm=$l(Xp),Vm=Nl(Xp),Ym={a:S1,A:_1,b:n1,B:b1,c:null,d:Wu,e:Wu,f:bp,H:qu,I:np,j:_h,L:ap,m:wp,M:kp,p:f1,q:km,Q:w0,s:E0,S:Iu,u:Bu,U:Xl,V:Uu,w:ep,W:_u,x:null,X:null,y:Wl,Y:Jl,Z:Pu,"%":h0},_m={a:D1,A:_d,b:Xu,B:Bp,c:null,d:Nu,e:Nu,f:Op,H:tp,I:up,j:dp,L:Ap,m:Zp,M:u0,p:qp,q:_f,Q:w0,s:E0,S:r0,u:e0,U:Cp,V:Mp,w:sp,W:Ip,x:null,X:null,y:Jp,Y:a0,Z:v0,"%":h0},sm={a:Fm,A:Sm,b:e1,B:u1,c:jm,d:hu,e:hu,f:Du,H:$u,I:$u,j:Yl,L:Fu,m:vu,M:bu,p:Am,q:Gu,Q:Vu,s:gu,S:Lu,u:Ol,U:Bl,V:_l,w:Ll,W:Rl,x:d1,X:m1,y:Hl,Y:Il,Z:Kl,"%":Hu};Ym.x=zm(Zu,Ym),Ym.X=zm(lp,Ym),Ym.c=zm($p,Ym),_m.x=zm(Zu,_m),_m.X=zm(lp,_m),_m.c=zm($p,_m);function zm(zp,Hp){return function(t0){var Qp=[],p0=-1,y0=0,H0=zp.length,ym,pm,Tm;for(t0 instanceof Date||(t0=new Date(+t0));++p0<H0;)zp.charCodeAt(p0)===37&&(Qp.push(zp.slice(y0,p0)),(pm=Sl[ym=zp.charAt(++p0)])!=null?ym=zp.charAt(++p0):pm=ym==="e"?" ":"0",(Tm=Hp[ym])&&(ym=Tm(t0,pm)),Qp.push(ym),y0=p0+1);return Qp.push(zp.slice(y0,p0)),Qp.join("")}}function Wm(zp,Hp){return function(t0){var Qp=Bn(1900,void 0,1),p0=Im(Qp,zp,t0+="",0),y0,H0;if(p0!=t0.length)return null;if("Q"in Qp)return new Date(Qp.Q);if("s"in Qp)return new Date(Qp.s*1e3+("L"in Qp?Qp.L:0));if(Hp&&!("Z"in Qp)&&(Qp.Z=0),"p"in Qp&&(Qp.H=Qp.H%12+Qp.p*12),Qp.m===void 0&&(Qp.m="q"in Qp?Qp.q:0),"V"in Qp){if(Qp.V<1||Qp.V>53)return null;"w"in Qp||(Qp.w=1),"Z"in Qp?(y0=xl(Bn(Qp.y,0,1)),H0=y0.getUTCDay(),y0=H0>4||H0===0?_t.utcMonday.ceil(y0):_t.utcMonday(y0),y0=_t.utcDay.offset(y0,(Qp.V-1)*7),Qp.y=y0.getUTCFullYear(),Qp.m=y0.getUTCMonth(),Qp.d=y0.getUTCDate()+(Qp.w+6)%7):(y0=Fn(Bn(Qp.y,0,1)),H0=y0.getDay(),y0=H0>4||H0===0?_t.timeMonday.ceil(y0):_t.timeMonday(y0),y0=_t.timeDay.offset(y0,(Qp.V-1)*7),Qp.y=y0.getFullYear(),Qp.m=y0.getMonth(),Qp.d=y0.getDate()+(Qp.w+6)%7)}else("W"in Qp||"U"in Qp)&&("w"in Qp||(Qp.w="u"in Qp?Qp.u%7:"W"in Qp?1:0),H0="Z"in Qp?xl(Bn(Qp.y,0,1)).getUTCDay():Fn(Bn(Qp.y,0,1)).getDay(),Qp.m=0,Qp.d="W"in Qp?(Qp.w+6)%7+Qp.W*7-(H0+5)%7:Qp.w+Qp.U*7-(H0+6)%7);return"Z"in Qp?(Qp.H+=Qp.Z/100|0,Qp.M+=Qp.Z%100,xl(Qp)):Fn(Qp)}}function Im(zp,Hp,t0,Qp){for(var p0=0,y0=Hp.length,H0=t0.length,ym,pm;p0<y0;){if(Qp>=H0)return-1;if(ym=Hp.charCodeAt(p0++),ym===37){if(ym=Hp.charAt(p0++),pm=sm[ym in Sl?Hp.charAt(p0++):ym],!pm||(Qp=pm(zp,t0,Qp))<0)return-1}else if(ym!=t0.charCodeAt(Qp++))return-1}return Qp}function Am(zp,Hp,t0){var Qp=c0.exec(Hp.slice(t0));return Qp?(zp.p=i0[Qp[0].toLowerCase()],t0+Qp[0].length):-1}function Fm(zp,Hp,t0){var Qp=A0.exec(Hp.slice(t0));return Qp?(zp.w=R0[Qp[0].toLowerCase()],t0+Qp[0].length):-1}function Sm(zp,Hp,t0){var Qp=s0.exec(Hp.slice(t0));return Qp?(zp.w=M0[Qp[0].toLowerCase()],t0+Qp[0].length):-1}function e1(zp,Hp,t0){var Qp=Bm.exec(Hp.slice(t0));return Qp?(zp.m=Vm[Qp[0].toLowerCase()],t0+Qp[0].length):-1}function u1(zp,Hp,t0){var Qp=rm.exec(Hp.slice(t0));return Qp?(zp.m=wm[Qp[0].toLowerCase()],t0+Qp[0].length):-1}function jm(zp,Hp,t0){return Im(zp,$p,Hp,t0)}function d1(zp,Hp,t0){return Im(zp,Zu,Hp,t0)}function m1(zp,Hp,t0){return Im(zp,lp,Hp,t0)}function S1(zp){return Lp[zp.getDay()]}function _1(zp){return Tp[zp.getDay()]}function n1(zp){return Xp[zp.getMonth()]}function b1(zp){return Up[zp.getMonth()]}function f1(zp){return mp[+(zp.getHours()>=12)]}function km(zp){return 1+~~(zp.getMonth()/3)}function D1(zp){return Lp[zp.getUTCDay()]}function _d(zp){return Tp[zp.getUTCDay()]}function Xu(zp){return Xp[zp.getUTCMonth()]}function Bp(zp){return Up[zp.getUTCMonth()]}function qp(zp){return mp[+(zp.getUTCHours()>=12)]}function _f(zp){return 1+~~(zp.getUTCMonth()/3)}return{format:function(zp){var Hp=zm(zp+="",Ym);return Hp.toString=function(){return zp},Hp},parse:function(zp){var Hp=Wm(zp+="",!1);return Hp.toString=function(){return zp},Hp},utcFormat:function(zp){var Hp=zm(zp+="",_m);return Hp.toString=function(){return zp},Hp},utcParse:function(zp){var Hp=Wm(zp+="",!0);return Hp.toString=function(){return zp},Hp}}}var Sl={"-":"",_:" ",0:"0"},Al=/^\s*\d+/,Et=/^%/,Pl=/[\\^$*+?|[\]().{}]/g;function El(Ep,$p,Zu){var lp=Ep<0?"-":"",mp=(lp?-Ep:Ep)+"",Tp=mp.length;return lp+(Tp<Zu?new Array(Zu-Tp+1).join($p)+mp:mp)}function Fl(Ep){return Ep.replace(Pl,"\\$&")}function $l(Ep){return new RegExp("^(?:"+Ep.map(Fl).join("|")+")","i")}function Nl(Ep){for(var $p={},Zu=-1,lp=Ep.length;++Zu<lp;)$p[Ep[Zu].toLowerCase()]=Zu;return $p}function Ll(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+1));return lp?(Ep.w=+lp[0],Zu+lp[0].length):-1}function Ol(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+1));return lp?(Ep.u=+lp[0],Zu+lp[0].length):-1}function Bl(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.U=+lp[0],Zu+lp[0].length):-1}function _l(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.V=+lp[0],Zu+lp[0].length):-1}function Rl(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.W=+lp[0],Zu+lp[0].length):-1}function Il(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+4));return lp?(Ep.y=+lp[0],Zu+lp[0].length):-1}function Hl(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.y=+lp[0]+(+lp[0]>68?1900:2e3),Zu+lp[0].length):-1}function Kl(Ep,$p,Zu){var lp=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec($p.slice(Zu,Zu+6));return lp?(Ep.Z=lp[1]?0:-(lp[2]+(lp[3]||"00")),Zu+lp[0].length):-1}function Gu(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+1));return lp?(Ep.q=lp[0]*3-3,Zu+lp[0].length):-1}function vu(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.m=lp[0]-1,Zu+lp[0].length):-1}function hu(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.d=+lp[0],Zu+lp[0].length):-1}function Yl(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+3));return lp?(Ep.m=0,Ep.d=+lp[0],Zu+lp[0].length):-1}function $u(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.H=+lp[0],Zu+lp[0].length):-1}function bu(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.M=+lp[0],Zu+lp[0].length):-1}function Lu(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+2));return lp?(Ep.S=+lp[0],Zu+lp[0].length):-1}function Fu(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+3));return lp?(Ep.L=+lp[0],Zu+lp[0].length):-1}function Du(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu,Zu+6));return lp?(Ep.L=Math.floor(lp[0]/1e3),Zu+lp[0].length):-1}function Hu(Ep,$p,Zu){var lp=Et.exec($p.slice(Zu,Zu+1));return lp?Zu+lp[0].length:-1}function Vu(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu));return lp?(Ep.Q=+lp[0],Zu+lp[0].length):-1}function gu(Ep,$p,Zu){var lp=Al.exec($p.slice(Zu));return lp?(Ep.s=+lp[0],Zu+lp[0].length):-1}function Wu(Ep,$p){return El(Ep.getDate(),$p,2)}function qu(Ep,$p){return El(Ep.getHours(),$p,2)}function np(Ep,$p){return El(Ep.getHours()%12||12,$p,2)}function _h(Ep,$p){return El(1+_t.timeDay.count(_t.timeYear(Ep),Ep),$p,3)}function ap(Ep,$p){return El(Ep.getMilliseconds(),$p,3)}function bp(Ep,$p){return ap(Ep,$p)+"000"}function wp(Ep,$p){return El(Ep.getMonth()+1,$p,2)}function kp(Ep,$p){return El(Ep.getMinutes(),$p,2)}function Iu(Ep,$p){return El(Ep.getSeconds(),$p,2)}function Bu(Ep){var $p=Ep.getDay();return $p===0?7:$p}function Xl(Ep,$p){return El(_t.timeSunday.count(_t.timeYear(Ep)-1,Ep),$p,2)}function Uu(Ep,$p){var Zu=Ep.getDay();return Ep=Zu>=4||Zu===0?_t.timeThursday(Ep):_t.timeThursday.ceil(Ep),El(_t.timeThursday.count(_t.timeYear(Ep),Ep)+(_t.timeYear(Ep).getDay()===4),$p,2)}function ep(Ep){return Ep.getDay()}function _u(Ep,$p){return El(_t.timeMonday.count(_t.timeYear(Ep)-1,Ep),$p,2)}function Wl(Ep,$p){return El(Ep.getFullYear()%100,$p,2)}function Jl(Ep,$p){return El(Ep.getFullYear()%1e4,$p,4)}function Pu(Ep){var $p=Ep.getTimezoneOffset();return($p>0?"-":($p*=-1,"+"))+El($p/60|0,"0",2)+El($p%60,"0",2)}function Nu(Ep,$p){return El(Ep.getUTCDate(),$p,2)}function tp(Ep,$p){return El(Ep.getUTCHours(),$p,2)}function up(Ep,$p){return El(Ep.getUTCHours()%12||12,$p,2)}function dp(Ep,$p){return El(1+_t.utcDay.count(_t.utcYear(Ep),Ep),$p,3)}function Ap(Ep,$p){return El(Ep.getUTCMilliseconds(),$p,3)}function Op(Ep,$p){return Ap(Ep,$p)+"000"}function Zp(Ep,$p){return El(Ep.getUTCMonth()+1,$p,2)}function u0(Ep,$p){return El(Ep.getUTCMinutes(),$p,2)}function r0(Ep,$p){return El(Ep.getUTCSeconds(),$p,2)}function e0(Ep){var $p=Ep.getUTCDay();return $p===0?7:$p}function Cp(Ep,$p){return El(_t.utcSunday.count(_t.utcYear(Ep)-1,Ep),$p,2)}function Mp(Ep,$p){var Zu=Ep.getUTCDay();return Ep=Zu>=4||Zu===0?_t.utcThursday(Ep):_t.utcThursday.ceil(Ep),El(_t.utcThursday.count(_t.utcYear(Ep),Ep)+(_t.utcYear(Ep).getUTCDay()===4),$p,2)}function sp(Ep){return Ep.getUTCDay()}function Ip(Ep,$p){return El(_t.utcMonday.count(_t.utcYear(Ep)-1,Ep),$p,2)}function Jp(Ep,$p){return El(Ep.getUTCFullYear()%100,$p,2)}function a0(Ep,$p){return El(Ep.getUTCFullYear()%1e4,$p,4)}function v0(){return"+0000"}function h0(){return"%"}function w0(Ep){return+Ep}function E0(Ep){return Math.floor(+Ep/1e3)}var _0;$0({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $0(Ep){return _0=yl(Ep),ls.timeFormat=_0.format,ls.timeParse=_0.parse,ls.utcFormat=_0.utcFormat,ls.utcParse=_0.utcParse,_0}var f0="%Y-%m-%dT%H:%M:%S.%LZ";function q0(Ep){return Ep.toISOString()}var J0=Date.prototype.toISOString?q0:ls.utcFormat(f0);function V0(Ep){var $p=new Date(Ep);return isNaN($p)?null:$p}var nm=+new Date("2000-01-01T00:00:00.000Z")?V0:ls.utcParse(f0);ls.isoFormat=J0,ls.isoParse=nm,ls.timeFormatDefaultLocale=$0,ls.timeFormatLocale=yl,Object.defineProperty(ls,"__esModule",{value:!0})})}),$=a((Mu,yu)=>{(function(ls,_t){typeof Mu=="object"&&typeof yu<"u"?_t(Mu):(ls=typeof globalThis<"u"?globalThis:ls||self,_t(ls.d3=ls.d3||{}))})(Mu,function(ls){function _t(vu){return Math.abs(vu=Math.round(vu))>=1e21?vu.toLocaleString("en").replace(/,/g,""):vu.toString(10)}function Fn(vu,hu){if((Yl=(vu=hu?vu.toExponential(hu-1):vu.toExponential()).indexOf("e"))<0)return null;var Yl,$u=vu.slice(0,Yl);return[$u.length>1?$u[0]+$u.slice(2):$u,+vu.slice(Yl+1)]}function xl(vu){return vu=Fn(Math.abs(vu)),vu?vu[1]:NaN}function Bn(vu,hu){return function(Yl,$u){for(var bu=Yl.length,Lu=[],Fu=0,Du=vu[0],Hu=0;bu>0&&Du>0&&(Hu+Du+1>$u&&(Du=Math.max(1,$u-Hu)),Lu.push(Yl.substring(bu-=Du,bu+Du)),!((Hu+=Du+1)>$u));)Du=vu[Fu=(Fu+1)%vu.length];return Lu.reverse().join(hu)}}function yl(vu){return function(hu){return hu.replace(/[0-9]/g,function(Yl){return vu[+Yl]})}}var Sl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Al(vu){if(!(hu=Sl.exec(vu)))throw new Error("invalid format: "+vu);var hu;return new Et({fill:hu[1],align:hu[2],sign:hu[3],symbol:hu[4],zero:hu[5],width:hu[6],comma:hu[7],precision:hu[8]&&hu[8].slice(1),trim:hu[9],type:hu[10]})}Al.prototype=Et.prototype;function Et(vu){this.fill=vu.fill===void 0?" ":vu.fill+"",this.align=vu.align===void 0?">":vu.align+"",this.sign=vu.sign===void 0?"-":vu.sign+"",this.symbol=vu.symbol===void 0?"":vu.symbol+"",this.zero=!!vu.zero,this.width=vu.width===void 0?void 0:+vu.width,this.comma=!!vu.comma,this.precision=vu.precision===void 0?void 0:+vu.precision,this.trim=!!vu.trim,this.type=vu.type===void 0?"":vu.type+""}Et.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Pl(vu){e:for(var hu=vu.length,Yl=1,$u=-1,bu;Yl<hu;++Yl)switch(vu[Yl]){case".":$u=bu=Yl;break;case"0":$u===0&&($u=Yl),bu=Yl;break;default:if(!+vu[Yl])break e;$u>0&&($u=0);break}return $u>0?vu.slice(0,$u)+vu.slice(bu+1):vu}var El;function Fl(vu,hu){var Yl=Fn(vu,hu);if(!Yl)return vu+"";var $u=Yl[0],bu=Yl[1],Lu=bu-(El=Math.max(-8,Math.min(8,Math.floor(bu/3)))*3)+1,Fu=$u.length;return Lu===Fu?$u:Lu>Fu?$u+new Array(Lu-Fu+1).join("0"):Lu>0?$u.slice(0,Lu)+"."+$u.slice(Lu):"0."+new Array(1-Lu).join("0")+Fn(vu,Math.max(0,hu+Lu-1))[0]}function $l(vu,hu){var Yl=Fn(vu,hu);if(!Yl)return vu+"";var $u=Yl[0],bu=Yl[1];return bu<0?"0."+new Array(-bu).join("0")+$u:$u.length>bu+1?$u.slice(0,bu+1)+"."+$u.slice(bu+1):$u+new Array(bu-$u.length+2).join("0")}var Nl={"%":function(vu,hu){return(vu*100).toFixed(hu)},b:function(vu){return Math.round(vu).toString(2)},c:function(vu){return vu+""},d:_t,e:function(vu,hu){return vu.toExponential(hu)},f:function(vu,hu){return vu.toFixed(hu)},g:function(vu,hu){return vu.toPrecision(hu)},o:function(vu){return Math.round(vu).toString(8)},p:function(vu,hu){return $l(vu*100,hu)},r:$l,s:Fl,X:function(vu){return Math.round(vu).toString(16).toUpperCase()},x:function(vu){return Math.round(vu).toString(16)}};function Ll(vu){return vu}var Ol=Array.prototype.map,Bl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _l(vu){var hu=vu.grouping===void 0||vu.thousands===void 0?Ll:Bn(Ol.call(vu.grouping,Number),vu.thousands+""),Yl=vu.currency===void 0?"":vu.currency[0]+"",$u=vu.currency===void 0?"":vu.currency[1]+"",bu=vu.decimal===void 0?".":vu.decimal+"",Lu=vu.numerals===void 0?Ll:yl(Ol.call(vu.numerals,String)),Fu=vu.percent===void 0?"%":vu.percent+"",Du=vu.minus===void 0?"-":vu.minus+"",Hu=vu.nan===void 0?"NaN":vu.nan+"";function Vu(Wu){Wu=Al(Wu);var qu=Wu.fill,np=Wu.align,_h=Wu.sign,ap=Wu.symbol,bp=Wu.zero,wp=Wu.width,kp=Wu.comma,Iu=Wu.precision,Bu=Wu.trim,Xl=Wu.type;Xl==="n"?(kp=!0,Xl="g"):Nl[Xl]||(Iu===void 0&&(Iu=12),Bu=!0,Xl="g"),(bp||qu==="0"&&np==="=")&&(bp=!0,qu="0",np="=");var Uu=ap==="$"?Yl:ap==="#"&&/[boxX]/.test(Xl)?"0"+Xl.toLowerCase():"",ep=ap==="$"?$u:/[%p]/.test(Xl)?Fu:"",_u=Nl[Xl],Wl=/[defgprs%]/.test(Xl);Iu=Iu===void 0?6:/[gprs]/.test(Xl)?Math.max(1,Math.min(21,Iu)):Math.max(0,Math.min(20,Iu));function Jl(Pu){var Nu=Uu,tp=ep,up,dp,Ap;if(Xl==="c")tp=_u(Pu)+tp,Pu="";else{Pu=+Pu;var Op=Pu<0||1/Pu<0;if(Pu=isNaN(Pu)?Hu:_u(Math.abs(Pu),Iu),Bu&&(Pu=Pl(Pu)),Op&&+Pu==0&&_h!=="+"&&(Op=!1),Nu=(Op?_h==="("?_h:Du:_h==="-"||_h==="("?"":_h)+Nu,tp=(Xl==="s"?Bl[8+El/3]:"")+tp+(Op&&_h==="("?")":""),Wl){for(up=-1,dp=Pu.length;++up<dp;)if(Ap=Pu.charCodeAt(up),48>Ap||Ap>57){tp=(Ap===46?bu+Pu.slice(up+1):Pu.slice(up))+tp,Pu=Pu.slice(0,up);break}}}kp&&!bp&&(Pu=hu(Pu,1/0));var Zp=Nu.length+Pu.length+tp.length,u0=Zp<wp?new Array(wp-Zp+1).join(qu):"";switch(kp&&bp&&(Pu=hu(u0+Pu,u0.length?wp-tp.length:1/0),u0=""),np){case"<":Pu=Nu+Pu+tp+u0;break;case"=":Pu=Nu+u0+Pu+tp;break;case"^":Pu=u0.slice(0,Zp=u0.length>>1)+Nu+Pu+tp+u0.slice(Zp);break;default:Pu=u0+Nu+Pu+tp;break}return Lu(Pu)}return Jl.toString=function(){return Wu+""},Jl}function gu(Wu,qu){var np=Vu((Wu=Al(Wu),Wu.type="f",Wu)),_h=Math.max(-8,Math.min(8,Math.floor(xl(qu)/3)))*3,ap=Math.pow(10,-_h),bp=Bl[8+_h/3];return function(wp){return np(ap*wp)+bp}}return{format:Vu,formatPrefix:gu}}var Rl;Il({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function Il(vu){return Rl=_l(vu),ls.format=Rl.format,ls.formatPrefix=Rl.formatPrefix,Rl}function Hl(vu){return Math.max(0,-xl(Math.abs(vu)))}function Kl(vu,hu){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xl(hu)/3)))*3-xl(Math.abs(vu)))}function Gu(vu,hu){return vu=Math.abs(vu),hu=Math.abs(hu)-vu,Math.max(0,xl(hu)-xl(vu))+1}ls.FormatSpecifier=Et,ls.formatDefaultLocale=Il,ls.formatLocale=_l,ls.formatSpecifier=Al,ls.precisionFixed=Hl,ls.precisionPrefix=Kl,ls.precisionRound=Gu,Object.defineProperty(ls,"__esModule",{value:!0})})}),j=a((Mu,yu)=>{yu.exports=function(ls){for(var _t=ls.length,Fn,xl=0;xl<_t;xl++)if(Fn=ls.charCodeAt(xl),(Fn<9||Fn>13)&&Fn!==32&&Fn!==133&&Fn!==160&&Fn!==5760&&Fn!==6158&&(Fn<8192||Fn>8205)&&Fn!==8232&&Fn!==8233&&Fn!==8239&&Fn!==8287&&Fn!==8288&&Fn!==12288&&Fn!==65279)return!1;return!0}}),rt=a((Mu,yu)=>{var ls=j();yu.exports=function(_t){var Fn=typeof _t;if(Fn==="string"){var xl=_t;if(_t=+_t,_t===0&&ls(xl))return!1}else if(Fn!=="number")return!1;return _t-_t<1}}),nt=a((Mu,yu)=>{yu.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE*1e-4,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,ONEMILLI:1,ONEMICROSEC:.001,EPOCHJD:24405875e-1,ALMOST_EQUAL:1-1e-6,LOG_CLIP:10,MINUS_SIGN:""}}),st=a((Mu,yu)=>{(function(ls,_t){typeof Mu=="object"&&typeof yu<"u"?_t(Mu):(ls=typeof globalThis<"u"?globalThis:ls||self,_t(ls["base64-arraybuffer"]={}))})(Mu,function(ls){for(var _t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fn=typeof Uint8Array>"u"?[]:new Uint8Array(256),xl=0;xl<_t.length;xl++)Fn[_t.charCodeAt(xl)]=xl;var Bn=function(Sl){var Al=new Uint8Array(Sl),Et,Pl=Al.length,El="";for(Et=0;Et<Pl;Et+=3)El+=_t[Al[Et]>>2],El+=_t[(Al[Et]&3)<<4|Al[Et+1]>>4],El+=_t[(Al[Et+1]&15)<<2|Al[Et+2]>>6],El+=_t[Al[Et+2]&63];return Pl%3===2?El=El.substring(0,El.length-1)+"=":Pl%3===1&&(El=El.substring(0,El.length-2)+"=="),El},yl=function(Sl){var Al=Sl.length*.75,Et=Sl.length,Pl,El=0,Fl,$l,Nl,Ll;Sl[Sl.length-1]==="="&&(Al--,Sl[Sl.length-2]==="="&&Al--);var Ol=new ArrayBuffer(Al),Bl=new Uint8Array(Ol);for(Pl=0;Pl<Et;Pl+=4)Fl=Fn[Sl.charCodeAt(Pl)],$l=Fn[Sl.charCodeAt(Pl+1)],Nl=Fn[Sl.charCodeAt(Pl+2)],Ll=Fn[Sl.charCodeAt(Pl+3)],Bl[El++]=Fl<<2|$l>>4,Bl[El++]=($l&15)<<4|Nl>>2,Bl[El++]=(Nl&3)<<6|Ll&63;return Ol};ls.decode=yl,ls.encode=Bn,Object.defineProperty(ls,"__esModule",{value:!0})})}),jt=a((Mu,yu)=>{yu.exports=function(ls){return window&&window.process&&window.process.versions?Object.prototype.toString.call(ls)==="[object Object]":Object.prototype.toString.call(ls)==="[object Object]"&&Object.getPrototypeOf(ls).hasOwnProperty("hasOwnProperty")}}),wl=a(Mu=>{var yu=st().decode,ls=jt(),_t=Array.isArray,Fn=ArrayBuffer,xl=DataView;function Bn(Fl){return Fn.isView(Fl)&&!(Fl instanceof xl)}Mu.isTypedArray=Bn;function yl(Fl){return _t(Fl)||Bn(Fl)}Mu.isArrayOrTypedArray=yl;function Sl(Fl){return!yl(Fl[0])}Mu.isArray1D=Sl,Mu.ensureArray=function(Fl,$l){return _t(Fl)||(Fl=[]),Fl.length=$l,Fl};var Al={u1c:typeof Uint8ClampedArray>"u"?void 0:Uint8ClampedArray,i1:typeof Int8Array>"u"?void 0:Int8Array,u1:typeof Uint8Array>"u"?void 0:Uint8Array,i2:typeof Int16Array>"u"?void 0:Int16Array,u2:typeof Uint16Array>"u"?void 0:Uint16Array,i4:typeof Int32Array>"u"?void 0:Int32Array,u4:typeof Uint32Array>"u"?void 0:Uint32Array,f4:typeof Float32Array>"u"?void 0:Float32Array,f8:typeof Float64Array>"u"?void 0:Float64Array};Al.uint8c=Al.u1c,Al.uint8=Al.u1,Al.int8=Al.i1,Al.uint16=Al.u2,Al.int16=Al.i2,Al.uint32=Al.u4,Al.int32=Al.i4,Al.float32=Al.f4,Al.float64=Al.f8;function Et(Fl){return Fl.constructor===ArrayBuffer}Mu.isArrayBuffer=Et,Mu.decodeTypedArraySpec=function(Fl){var $l=[],Nl=Pl(Fl),Ll=Nl.dtype,Ol=Al[Ll];if(!Ol)throw new Error('Error in dtype: "'+Ll+'"');var Bl=Ol.BYTES_PER_ELEMENT,_l=Nl.bdata;Et(_l)||(_l=yu(_l));var Rl=Nl.shape===void 0?[_l.byteLength/Bl]:(""+Nl.shape).split(",");Rl.reverse();var Il=Rl.length,Hl,Kl,Gu=+Rl[0],vu=Bl*Gu,hu=0;if(Il===1)$l=new Ol(_l);else if(Il===2)for(Hl=+Rl[1],Kl=0;Kl<Hl;Kl++)$l[Kl]=new Ol(_l,hu,Gu),hu+=vu;else if(Il===3){Hl=+Rl[1];for(var Yl=+Rl[2],$u=0;$u<Yl;$u++)for($l[$u]=[],Kl=0;Kl<Hl;Kl++)$l[$u][Kl]=new Ol(_l,hu,Gu),hu+=vu}else throw new Error("ndim: "+Il+'is not supported with the shape:"'+Nl.shape+'"');return $l.bdata=Nl.bdata,$l.dtype=Nl.dtype,$l.shape=Rl.reverse().join(","),Fl._inputArray=$l,$l},Mu.isTypedArraySpec=function(Fl){return ls(Fl)&&Fl.hasOwnProperty("dtype")&&typeof Fl.dtype=="string"&&Fl.hasOwnProperty("bdata")&&(typeof Fl.bdata=="string"||Et(Fl.bdata))&&(Fl.shape===void 0||Fl.hasOwnProperty("shape")&&(typeof Fl.shape=="string"||typeof Fl.shape=="number"))};function Pl(Fl){return{bdata:Fl.bdata,dtype:Fl.dtype,shape:Fl.shape}}Mu.concat=function(){var Fl=[],$l=!0,Nl=0,Ll,Ol,Bl,_l,Rl,Il,Hl,Kl;for(Bl=0;Bl<arguments.length;Bl++)_l=arguments[Bl],Il=_l.length,Il&&(Ol?Fl.push(_l):(Ol=_l,Rl=Il),_t(_l)?Ll=!1:($l=!1,Nl?Ll!==_l.constructor&&(Ll=!1):Ll=_l.constructor),Nl+=Il);if(!Nl)return[];if(!Fl.length)return Ol;if($l)return Ol.concat.apply(Ol,Fl);if(Ll){for(Hl=new Ll(Nl),Hl.set(Ol),Bl=0;Bl<Fl.length;Bl++)_l=Fl[Bl],Hl.set(_l,Rl),Rl+=_l.length;return Hl}for(Hl=new Array(Nl),Kl=0;Kl<Ol.length;Kl++)Hl[Kl]=Ol[Kl];for(Bl=0;Bl<Fl.length;Bl++){for(_l=Fl[Bl],Kl=0;Kl<_l.length;Kl++)Hl[Rl+Kl]=_l[Kl];Rl+=Kl}return Hl},Mu.maxRowLength=function(Fl){return El(Fl,Math.max,0)},Mu.minRowLength=function(Fl){return El(Fl,Math.min,1/0)};function El(Fl,$l,Nl){if(yl(Fl))if(yl(Fl[0])){for(var Ll=Nl,Ol=0;Ol<Fl.length;Ol++)Ll=$l(Ll,Fl[Ol].length);return Ll}else return Fl.length;return 0}}),Ft=a((Mu,yu)=>{var ls=rt(),_t=wl().isArrayOrTypedArray;yu.exports=function(El,Fl){if(ls(Fl))Fl=String(Fl);else if(typeof Fl!="string"||Fl.substr(Fl.length-4)==="[-1]")throw"bad property string";var $l=Fl.split("."),Nl,Ll,Ol,Bl;for(Bl=0;Bl<$l.length;Bl++)if(String($l[Bl]).slice(0,2)==="__")throw"bad property string";for(Bl=0;Bl<$l.length;){if(Nl=String($l[Bl]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/),Nl){if(Nl[1])$l[Bl]=Nl[1];else if(Bl===0)$l.splice(0,1);else throw"bad property string";for(Ll=Nl[2].substr(1,Nl[2].length-2).split("]["),Ol=0;Ol<Ll.length;Ol++)Bl++,$l.splice(Bl,0,Number(Ll[Ol]))}Bl++}return typeof El!="object"?Pl(El,Fl,$l):{set:yl(El,$l,Fl),get:Fn(El,$l),astr:Fl,parts:$l,obj:El}};function Fn(El,Fl){return function($l){var Nl=El,Ll,Ol,Bl,_l,Rl;for(_l=0;_l<Fl.length-1;_l++){if(Ll=Fl[_l],Ll===-1){for(Ol=!0,Bl=[],Rl=0;Rl<Nl.length;Rl++)Bl[Rl]=Fn(Nl[Rl],Fl.slice(_l+1))($l),Bl[Rl]!==Bl[0]&&(Ol=!1);return Ol?Bl[0]:Bl}if(typeof Ll=="number"&&!_t(Nl)||(Nl=Nl[Ll],typeof Nl!="object"||Nl===null))return}if(!(typeof Nl!="object"||Nl===null)&&(Bl=Nl[Fl[_l]],!(!$l&&Bl===null)))return Bl}}var xl=/(^|\.)args\[/;function Bn(El,Fl){return El===void 0||El===null&&!Fl.match(xl)}function yl(El,Fl,$l){return function(Nl){var Ll=El,Ol="",Bl=Bn(Nl,$l),_l,Rl;for(Rl=0;Rl<Fl.length-1;Rl++){if(_l=Fl[Rl],typeof _l=="number"&&!_t(Ll))throw"array index but container is not an array";if(_l===-1){if(Bl=!Al(Ll,Fl.slice(Rl+1),Nl,$l),Bl)break;return}if(!Et(Ll,_l,Fl[Rl+1],Bl))break;if(Ll=Ll[_l],typeof Ll!="object"||Ll===null)throw"container is not an object";Ol=Sl(Ol,_l)}if(Bl){if(Rl===Fl.length-1&&(delete Ll[Fl[Rl]],Array.isArray(Ll)&&+Fl[Rl]===Ll.length-1))for(;Ll.length&&Ll[Ll.length-1]===void 0;)Ll.pop()}else Ll[Fl[Rl]]=Nl}}function Sl(El,Fl){var $l=Fl;return ls(Fl)?$l="["+Fl+"]":El&&($l="."+Fl),El+$l}function Al(El,Fl,$l,Nl){var Ll=_t($l),Ol=!0,Bl=$l,_l=Nl.replace("-1",0),Rl=Ll?!1:Bn($l,_l),Il=Fl[0],Hl;for(Hl=0;Hl<El.length;Hl++)_l=Nl.replace("-1",Hl),Ll&&(Bl=$l[Hl%$l.length],Rl=Bn(Bl,_l)),Rl&&(Ol=!1),Et(El,Hl,Il,Rl)&&yl(El[Hl],Fl,Nl.replace("-1",Hl))(Bl);return Ol}function Et(El,Fl,$l,Nl){if(El[Fl]===void 0){if(Nl)return!1;typeof $l=="number"?El[Fl]=[]:El[Fl]={}}return!0}function Pl(El,Fl,$l){return{set:function(){throw"bad container"},get:function(){},astr:Fl,parts:$l,obj:El}}}),it=a((Mu,yu)=>{var ls=Ft(),_t=/^\w*$/,Fn=0,xl=1,Bn=2,yl=3,Sl=4;yu.exports=function(Al,Et,Pl,El){Pl=Pl||"name",El=El||"value";var Fl,$l,Nl,Ll={};Et&&Et.length?(Nl=ls(Al,Et),$l=Nl.get()):$l=Al,Et=Et||"";var Ol={};if($l)for(Fl=0;Fl<$l.length;Fl++)Ol[$l[Fl][Pl]]=Fl;var Bl=_t.test(El),_l={set:function(Rl,Il){var Hl=Il===null?Sl:Fn;if(!$l){if(!Nl||Hl===Sl)return;$l=[],Nl.set($l)}var Kl=Ol[Rl];if(Kl===void 0){if(Hl===Sl)return;Hl=Hl|yl,Kl=$l.length,Ol[Rl]=Kl}else Il!==(Bl?$l[Kl][El]:ls($l[Kl],El).get())&&(Hl=Hl|Bn);var Gu=$l[Kl]=$l[Kl]||{};return Gu[Pl]=Rl,Bl?Gu[El]=Il:ls(Gu,El).set(Il),Il!==null&&(Hl=Hl&~Sl),Ll[Kl]=Ll[Kl]|Hl,_l},get:function(Rl){if($l){var Il=Ol[Rl];if(Il!==void 0)return Bl?$l[Il][El]:ls($l[Il],El).get()}},rename:function(Rl,Il){var Hl=Ol[Rl];return Hl===void 0||(Ll[Hl]=Ll[Hl]|xl,Ol[Il]=Hl,delete Ol[Rl],$l[Hl][Pl]=Il),_l},remove:function(Rl){var Il=Ol[Rl];if(Il===void 0)return _l;var Hl=$l[Il];if(Object.keys(Hl).length>2)return Ll[Il]=Ll[Il]|Bn,_l.set(Rl,null);if(Bl){for(Fl=Il;Fl<$l.length;Fl++)Ll[Fl]=Ll[Fl]|yl;for(Fl=Il;Fl<$l.length;Fl++)Ol[$l[Fl][Pl]]--;$l.splice(Il,1),delete Ol[Rl]}else ls(Hl,El).set(null),Ll[Il]=Ll[Il]|Bn|Sl;return _l},constructUpdate:function(){for(var Rl,Il,Hl={},Kl=Object.keys(Ll),Gu=0;Gu<Kl.length;Gu++)Il=Kl[Gu],Rl=Et+"["+Il+"]",$l[Il]?(Ll[Il]&xl&&(Hl[Rl+"."+Pl]=$l[Il][Pl]),Ll[Il]&Bn&&(Bl?Hl[Rl+"."+El]=Ll[Il]&Sl?null:$l[Il][El]:Hl[Rl+"."+El]=Ll[Il]&Sl?null:ls($l[Il],El).get())):Hl[Rl]=null;return Hl}};return _l}}),ot=a((Mu,yu)=>{var ls=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,_t=/^[^\.\[\]]+$/;yu.exports=function(Fn,xl){for(;xl;){var Bn=Fn.match(ls);if(Bn)Fn=Bn[1];else if(Fn.match(_t))Fn="";else throw new Error("bad relativeAttr call:"+[Fn,xl]);if(xl.charAt(0)==="^")xl=xl.slice(1);else break}return Fn&&xl.charAt(0)!=="["?Fn+"."+xl:Fn+xl}}),Ln=a((Mu,yu)=>{var ls=rt();yu.exports=function(_t,Fn){if(_t>0)return Math.log(_t)/Math.LN10;var xl=Math.log(Math.min(Fn[0],Fn[1]))/Math.LN10;return ls(xl)||(xl=Math.log(Math.max(Fn[0],Fn[1]))/Math.LN10-6),xl}}),Cl=a((Mu,yu)=>{var ls=wl().isArrayOrTypedArray,_t=jt();yu.exports=function Fn(xl,Bn){for(var yl in Bn){var Sl=Bn[yl],Al=xl[yl];if(Al!==Sl)if(yl.charAt(0)==="_"||typeof Sl=="function"){if(yl in xl)continue;xl[yl]=Sl}else if(ls(Sl)&&ls(Al)&&_t(Sl[0])){if(yl==="customdata"||yl==="ids")continue;for(var Et=Math.min(Sl.length,Al.length),Pl=0;Pl<Et;Pl++)Al[Pl]!==Sl[Pl]&&_t(Sl[Pl])&&_t(Al[Pl])&&Fn(Al[Pl],Sl[Pl])}else _t(Sl)&&_t(Al)&&(Fn(Al,Sl),Object.keys(Al).length||delete xl[yl])}}}),Tl=a((Mu,yu)=>{function ls(Fn,xl){var Bn=Fn%xl;return Bn<0?Bn+xl:Bn}function _t(Fn,xl){return Math.abs(Fn)>xl/2?Fn-Math.round(Fn/xl)*xl:Fn}yu.exports={mod:ls,modHalf:_t}}),zl=a((Mu,yu)=>{(function(ls){var _t=/^\s+/,Fn=/\s+$/,xl=0,Bn=ls.round,yl=ls.min,Sl=ls.max,Al=ls.random;function Et(Wl,Jl){if(Wl=Wl||"",Jl=Jl||{},Wl instanceof Et)return Wl;if(!(this instanceof Et))return new Et(Wl,Jl);var Pu=Pl(Wl);this._originalInput=Wl,this._r=Pu.r,this._g=Pu.g,this._b=Pu.b,this._a=Pu.a,this._roundA=Bn(100*this._a)/100,this._format=Jl.format||Pu.format,this._gradientType=Jl.gradientType,this._r<1&&(this._r=Bn(this._r)),this._g<1&&(this._g=Bn(this._g)),this._b<1&&(this._b=Bn(this._b)),this._ok=Pu.ok,this._tc_id=xl++}Et.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Wl=this.toRgb();return(Wl.r*299+Wl.g*587+Wl.b*114)/1e3},getLuminance:function(){var Wl=this.toRgb(),Jl,Pu,Nu,tp,up,dp;return Jl=Wl.r/255,Pu=Wl.g/255,Nu=Wl.b/255,Jl<=.03928?tp=Jl/12.92:tp=ls.pow((Jl+.055)/1.055,2.4),Pu<=.03928?up=Pu/12.92:up=ls.pow((Pu+.055)/1.055,2.4),Nu<=.03928?dp=Nu/12.92:dp=ls.pow((Nu+.055)/1.055,2.4),.2126*tp+.7152*up+.0722*dp},setAlpha:function(Wl){return this._a=Wu(Wl),this._roundA=Bn(100*this._a)/100,this},toHsv:function(){var Wl=Nl(this._r,this._g,this._b);return{h:Wl.h*360,s:Wl.s,v:Wl.v,a:this._a}},toHsvString:function(){var Wl=Nl(this._r,this._g,this._b),Jl=Bn(Wl.h*360),Pu=Bn(Wl.s*100),Nu=Bn(Wl.v*100);return this._a==1?"hsv("+Jl+", "+Pu+"%, "+Nu+"%)":"hsva("+Jl+", "+Pu+"%, "+Nu+"%, "+this._roundA+")"},toHsl:function(){var Wl=Fl(this._r,this._g,this._b);return{h:Wl.h*360,s:Wl.s,l:Wl.l,a:this._a}},toHslString:function(){var Wl=Fl(this._r,this._g,this._b),Jl=Bn(Wl.h*360),Pu=Bn(Wl.s*100),Nu=Bn(Wl.l*100);return this._a==1?"hsl("+Jl+", "+Pu+"%, "+Nu+"%)":"hsla("+Jl+", "+Pu+"%, "+Nu+"%, "+this._roundA+")"},toHex:function(Wl){return Ol(this._r,this._g,this._b,Wl)},toHexString:function(Wl){return"#"+this.toHex(Wl)},toHex8:function(Wl){return Bl(this._r,this._g,this._b,this._a,Wl)},toHex8String:function(Wl){return"#"+this.toHex8(Wl)},toRgb:function(){return{r:Bn(this._r),g:Bn(this._g),b:Bn(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Bn(this._r)+", "+Bn(this._g)+", "+Bn(this._b)+")":"rgba("+Bn(this._r)+", "+Bn(this._g)+", "+Bn(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Bn(qu(this._r,255)*100)+"%",g:Bn(qu(this._g,255)*100)+"%",b:Bn(qu(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Bn(qu(this._r,255)*100)+"%, "+Bn(qu(this._g,255)*100)+"%, "+Bn(qu(this._b,255)*100)+"%)":"rgba("+Bn(qu(this._r,255)*100)+"%, "+Bn(qu(this._g,255)*100)+"%, "+Bn(qu(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Vu[Ol(this._r,this._g,this._b,!0)]||!1},toFilter:function(Wl){var Jl="#"+_l(this._r,this._g,this._b,this._a),Pu=Jl,Nu=this._gradientType?"GradientType = 1, ":"";if(Wl){var tp=Et(Wl);Pu="#"+_l(tp._r,tp._g,tp._b,tp._a)}return"progid:DXImageTransform.Microsoft.gradient("+Nu+"startColorstr="+Jl+",endColorstr="+Pu+")"},toString:function(Wl){var Jl=!!Wl;Wl=Wl||this._format;var Pu=!1,Nu=this._a<1&&this._a>=0,tp=!Jl&&Nu&&(Wl==="hex"||Wl==="hex6"||Wl==="hex3"||Wl==="hex4"||Wl==="hex8"||Wl==="name");return tp?Wl==="name"&&this._a===0?this.toName():this.toRgbString():(Wl==="rgb"&&(Pu=this.toRgbString()),Wl==="prgb"&&(Pu=this.toPercentageRgbString()),(Wl==="hex"||Wl==="hex6")&&(Pu=this.toHexString()),Wl==="hex3"&&(Pu=this.toHexString(!0)),Wl==="hex4"&&(Pu=this.toHex8String(!0)),Wl==="hex8"&&(Pu=this.toHex8String()),Wl==="name"&&(Pu=this.toName()),Wl==="hsl"&&(Pu=this.toHslString()),Wl==="hsv"&&(Pu=this.toHsvString()),Pu||this.toHexString())},clone:function(){return Et(this.toString())},_applyModification:function(Wl,Jl){var Pu=Wl.apply(null,[this].concat([].slice.call(Jl)));return this._r=Pu._r,this._g=Pu._g,this._b=Pu._b,this.setAlpha(Pu._a),this},lighten:function(){return this._applyModification(Kl,arguments)},brighten:function(){return this._applyModification(Gu,arguments)},darken:function(){return this._applyModification(vu,arguments)},desaturate:function(){return this._applyModification(Rl,arguments)},saturate:function(){return this._applyModification(Il,arguments)},greyscale:function(){return this._applyModification(Hl,arguments)},spin:function(){return this._applyModification(hu,arguments)},_applyCombination:function(Wl,Jl){return Wl.apply(null,[this].concat([].slice.call(Jl)))},analogous:function(){return this._applyCombination(Fu,arguments)},complement:function(){return this._applyCombination(Yl,arguments)},monochromatic:function(){return this._applyCombination(Du,arguments)},splitcomplement:function(){return this._applyCombination(Lu,arguments)},triad:function(){return this._applyCombination($u,arguments)},tetrad:function(){return this._applyCombination(bu,arguments)}},Et.fromRatio=function(Wl,Jl){if(typeof Wl=="object"){var Pu={};for(var Nu in Wl)Wl.hasOwnProperty(Nu)&&(Nu==="a"?Pu[Nu]=Wl[Nu]:Pu[Nu]=kp(Wl[Nu]));Wl=Pu}return Et(Wl,Jl)};function Pl(Wl){var Jl={r:0,g:0,b:0},Pu=1,Nu=null,tp=null,up=null,dp=!1,Ap=!1;return typeof Wl=="string"&&(Wl=ep(Wl)),typeof Wl=="object"&&(Uu(Wl.r)&&Uu(Wl.g)&&Uu(Wl.b)?(Jl=El(Wl.r,Wl.g,Wl.b),dp=!0,Ap=String(Wl.r).substr(-1)==="%"?"prgb":"rgb"):Uu(Wl.h)&&Uu(Wl.s)&&Uu(Wl.v)?(Nu=kp(Wl.s),tp=kp(Wl.v),Jl=Ll(Wl.h,Nu,tp),dp=!0,Ap="hsv"):Uu(Wl.h)&&Uu(Wl.s)&&Uu(Wl.l)&&(Nu=kp(Wl.s),up=kp(Wl.l),Jl=$l(Wl.h,Nu,up),dp=!0,Ap="hsl"),Wl.hasOwnProperty("a")&&(Pu=Wl.a)),Pu=Wu(Pu),{ok:dp,format:Wl.format||Ap,r:yl(255,Sl(Jl.r,0)),g:yl(255,Sl(Jl.g,0)),b:yl(255,Sl(Jl.b,0)),a:Pu}}function El(Wl,Jl,Pu){return{r:qu(Wl,255)*255,g:qu(Jl,255)*255,b:qu(Pu,255)*255}}function Fl(Wl,Jl,Pu){Wl=qu(Wl,255),Jl=qu(Jl,255),Pu=qu(Pu,255);var Nu=Sl(Wl,Jl,Pu),tp=yl(Wl,Jl,Pu),up,dp,Ap=(Nu+tp)/2;if(Nu==tp)up=dp=0;else{var Op=Nu-tp;switch(dp=Ap>.5?Op/(2-Nu-tp):Op/(Nu+tp),Nu){case Wl:up=(Jl-Pu)/Op+(Jl<Pu?6:0);break;case Jl:up=(Pu-Wl)/Op+2;break;case Pu:up=(Wl-Jl)/Op+4;break}up/=6}return{h:up,s:dp,l:Ap}}function $l(Wl,Jl,Pu){var Nu,tp,up;Wl=qu(Wl,360),Jl=qu(Jl,100),Pu=qu(Pu,100);function dp(Zp,u0,r0){return r0<0&&(r0+=1),r0>1&&(r0-=1),r0<1/6?Zp+(u0-Zp)*6*r0:r0<1/2?u0:r0<2/3?Zp+(u0-Zp)*(2/3-r0)*6:Zp}if(Jl===0)Nu=tp=up=Pu;else{var Ap=Pu<.5?Pu*(1+Jl):Pu+Jl-Pu*Jl,Op=2*Pu-Ap;Nu=dp(Op,Ap,Wl+1/3),tp=dp(Op,Ap,Wl),up=dp(Op,Ap,Wl-1/3)}return{r:Nu*255,g:tp*255,b:up*255}}function Nl(Wl,Jl,Pu){Wl=qu(Wl,255),Jl=qu(Jl,255),Pu=qu(Pu,255);var Nu=Sl(Wl,Jl,Pu),tp=yl(Wl,Jl,Pu),up,dp,Ap=Nu,Op=Nu-tp;if(dp=Nu===0?0:Op/Nu,Nu==tp)up=0;else{switch(Nu){case Wl:up=(Jl-Pu)/Op+(Jl<Pu?6:0);break;case Jl:up=(Pu-Wl)/Op+2;break;case Pu:up=(Wl-Jl)/Op+4;break}up/=6}return{h:up,s:dp,v:Ap}}function Ll(Wl,Jl,Pu){Wl=qu(Wl,360)*6,Jl=qu(Jl,100),Pu=qu(Pu,100);var Nu=ls.floor(Wl),tp=Wl-Nu,up=Pu*(1-Jl),dp=Pu*(1-tp*Jl),Ap=Pu*(1-(1-tp)*Jl),Op=Nu%6,Zp=[Pu,dp,up,up,Ap,Pu][Op],u0=[Ap,Pu,Pu,dp,up,up][Op],r0=[up,up,Ap,Pu,Pu,dp][Op];return{r:Zp*255,g:u0*255,b:r0*255}}function Ol(Wl,Jl,Pu,Nu){var tp=[wp(Bn(Wl).toString(16)),wp(Bn(Jl).toString(16)),wp(Bn(Pu).toString(16))];return Nu&&tp[0].charAt(0)==tp[0].charAt(1)&&tp[1].charAt(0)==tp[1].charAt(1)&&tp[2].charAt(0)==tp[2].charAt(1)?tp[0].charAt(0)+tp[1].charAt(0)+tp[2].charAt(0):tp.join("")}function Bl(Wl,Jl,Pu,Nu,tp){var up=[wp(Bn(Wl).toString(16)),wp(Bn(Jl).toString(16)),wp(Bn(Pu).toString(16)),wp(Iu(Nu))];return tp&&up[0].charAt(0)==up[0].charAt(1)&&up[1].charAt(0)==up[1].charAt(1)&&up[2].charAt(0)==up[2].charAt(1)&&up[3].charAt(0)==up[3].charAt(1)?up[0].charAt(0)+up[1].charAt(0)+up[2].charAt(0)+up[3].charAt(0):up.join("")}function _l(Wl,Jl,Pu,Nu){var tp=[wp(Iu(Nu)),wp(Bn(Wl).toString(16)),wp(Bn(Jl).toString(16)),wp(Bn(Pu).toString(16))];return tp.join("")}Et.equals=function(Wl,Jl){return!Wl||!Jl?!1:Et(Wl).toRgbString()==Et(Jl).toRgbString()},Et.random=function(){return Et.fromRatio({r:Al(),g:Al(),b:Al()})};function Rl(Wl,Jl){Jl=Jl===0?0:Jl||10;var Pu=Et(Wl).toHsl();return Pu.s-=Jl/100,Pu.s=np(Pu.s),Et(Pu)}function Il(Wl,Jl){Jl=Jl===0?0:Jl||10;var Pu=Et(Wl).toHsl();return Pu.s+=Jl/100,Pu.s=np(Pu.s),Et(Pu)}function Hl(Wl){return Et(Wl).desaturate(100)}function Kl(Wl,Jl){Jl=Jl===0?0:Jl||10;var Pu=Et(Wl).toHsl();return Pu.l+=Jl/100,Pu.l=np(Pu.l),Et(Pu)}function Gu(Wl,Jl){Jl=Jl===0?0:Jl||10;var Pu=Et(Wl).toRgb();return Pu.r=Sl(0,yl(255,Pu.r-Bn(255*-(Jl/100)))),Pu.g=Sl(0,yl(255,Pu.g-Bn(255*-(Jl/100)))),Pu.b=Sl(0,yl(255,Pu.b-Bn(255*-(Jl/100)))),Et(Pu)}function vu(Wl,Jl){Jl=Jl===0?0:Jl||10;var Pu=Et(Wl).toHsl();return Pu.l-=Jl/100,Pu.l=np(Pu.l),Et(Pu)}function hu(Wl,Jl){var Pu=Et(Wl).toHsl(),Nu=(Pu.h+Jl)%360;return Pu.h=Nu<0?360+Nu:Nu,Et(Pu)}function Yl(Wl){var Jl=Et(Wl).toHsl();return Jl.h=(Jl.h+180)%360,Et(Jl)}function $u(Wl){var Jl=Et(Wl).toHsl(),Pu=Jl.h;return[Et(Wl),Et({h:(Pu+120)%360,s:Jl.s,l:Jl.l}),Et({h:(Pu+240)%360,s:Jl.s,l:Jl.l})]}function bu(Wl){var Jl=Et(Wl).toHsl(),Pu=Jl.h;return[Et(Wl),Et({h:(Pu+90)%360,s:Jl.s,l:Jl.l}),Et({h:(Pu+180)%360,s:Jl.s,l:Jl.l}),Et({h:(Pu+270)%360,s:Jl.s,l:Jl.l})]}function Lu(Wl){var Jl=Et(Wl).toHsl(),Pu=Jl.h;return[Et(Wl),Et({h:(Pu+72)%360,s:Jl.s,l:Jl.l}),Et({h:(Pu+216)%360,s:Jl.s,l:Jl.l})]}function Fu(Wl,Jl,Pu){Jl=Jl||6,Pu=Pu||30;var Nu=Et(Wl).toHsl(),tp=360/Pu,up=[Et(Wl)];for(Nu.h=(Nu.h-(tp*Jl>>1)+720)%360;--Jl;)Nu.h=(Nu.h+tp)%360,up.push(Et(Nu));return up}function Du(Wl,Jl){Jl=Jl||6;for(var Pu=Et(Wl).toHsv(),Nu=Pu.h,tp=Pu.s,up=Pu.v,dp=[],Ap=1/Jl;Jl--;)dp.push(Et({h:Nu,s:tp,v:up})),up=(up+Ap)%1;return dp}Et.mix=function(Wl,Jl,Pu){Pu=Pu===0?0:Pu||50;var Nu=Et(Wl).toRgb(),tp=Et(Jl).toRgb(),up=Pu/100,dp={r:(tp.r-Nu.r)*up+Nu.r,g:(tp.g-Nu.g)*up+Nu.g,b:(tp.b-Nu.b)*up+Nu.b,a:(tp.a-Nu.a)*up+Nu.a};return Et(dp)},Et.readability=function(Wl,Jl){var Pu=Et(Wl),Nu=Et(Jl);return(ls.max(Pu.getLuminance(),Nu.getLuminance())+.05)/(ls.min(Pu.getLuminance(),Nu.getLuminance())+.05)},Et.isReadable=function(Wl,Jl,Pu){var Nu=Et.readability(Wl,Jl),tp,up;switch(up=!1,tp=_u(Pu),tp.level+tp.size){case"AAsmall":case"AAAlarge":up=Nu>=4.5;break;case"AAlarge":up=Nu>=3;break;case"AAAsmall":up=Nu>=7;break}return up},Et.mostReadable=function(Wl,Jl,Pu){var Nu=null,tp=0,up,dp,Ap,Op;Pu=Pu||{},dp=Pu.includeFallbackColors,Ap=Pu.level,Op=Pu.size;for(var Zp=0;Zp<Jl.length;Zp++)up=Et.readability(Wl,Jl[Zp]),up>tp&&(tp=up,Nu=Et(Jl[Zp]));return Et.isReadable(Wl,Nu,{level:Ap,size:Op})||!dp?Nu:(Pu.includeFallbackColors=!1,Et.mostReadable(Wl,["#fff","#000"],Pu))};var Hu=Et.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Vu=Et.hexNames=gu(Hu);function gu(Wl){var Jl={};for(var Pu in Wl)Wl.hasOwnProperty(Pu)&&(Jl[Wl[Pu]]=Pu);return Jl}function Wu(Wl){return Wl=parseFloat(Wl),(isNaN(Wl)||Wl<0||Wl>1)&&(Wl=1),Wl}function qu(Wl,Jl){ap(Wl)&&(Wl="100%");var Pu=bp(Wl);return Wl=yl(Jl,Sl(0,parseFloat(Wl))),Pu&&(Wl=parseInt(Wl*Jl,10)/100),ls.abs(Wl-Jl)<1e-6?1:Wl%Jl/parseFloat(Jl)}function np(Wl){return yl(1,Sl(0,Wl))}function _h(Wl){return parseInt(Wl,16)}function ap(Wl){return typeof Wl=="string"&&Wl.indexOf(".")!=-1&&parseFloat(Wl)===1}function bp(Wl){return typeof Wl=="string"&&Wl.indexOf("%")!=-1}function wp(Wl){return Wl.length==1?"0"+Wl:""+Wl}function kp(Wl){return Wl<=1&&(Wl=Wl*100+"%"),Wl}function Iu(Wl){return ls.round(parseFloat(Wl)*255).toString(16)}function Bu(Wl){return _h(Wl)/255}var Xl=function(){var Wl="[-\\+]?\\d+%?",Jl="[-\\+]?\\d*\\.\\d+%?",Pu="(?:"+Jl+")|(?:"+Wl+")",Nu="[\\s|\\(]+("+Pu+")[,|\\s]+("+Pu+")[,|\\s]+("+Pu+")\\s*\\)?",tp="[\\s|\\(]+("+Pu+")[,|\\s]+("+Pu+")[,|\\s]+("+Pu+")[,|\\s]+("+Pu+")\\s*\\)?";return{CSS_UNIT:new RegExp(Pu),rgb:new RegExp("rgb"+Nu),rgba:new RegExp("rgba"+tp),hsl:new RegExp("hsl"+Nu),hsla:new RegExp("hsla"+tp),hsv:new RegExp("hsv"+Nu),hsva:new RegExp("hsva"+tp),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Uu(Wl){return!!Xl.CSS_UNIT.exec(Wl)}function ep(Wl){Wl=Wl.replace(_t,"").replace(Fn,"").toLowerCase();var Jl=!1;if(Hu[Wl])Wl=Hu[Wl],Jl=!0;else if(Wl=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Pu;return(Pu=Xl.rgb.exec(Wl))?{r:Pu[1],g:Pu[2],b:Pu[3]}:(Pu=Xl.rgba.exec(Wl))?{r:Pu[1],g:Pu[2],b:Pu[3],a:Pu[4]}:(Pu=Xl.hsl.exec(Wl))?{h:Pu[1],s:Pu[2],l:Pu[3]}:(Pu=Xl.hsla.exec(Wl))?{h:Pu[1],s:Pu[2],l:Pu[3],a:Pu[4]}:(Pu=Xl.hsv.exec(Wl))?{h:Pu[1],s:Pu[2],v:Pu[3]}:(Pu=Xl.hsva.exec(Wl))?{h:Pu[1],s:Pu[2],v:Pu[3],a:Pu[4]}:(Pu=Xl.hex8.exec(Wl))?{r:_h(Pu[1]),g:_h(Pu[2]),b:_h(Pu[3]),a:Bu(Pu[4]),format:Jl?"name":"hex8"}:(Pu=Xl.hex6.exec(Wl))?{r:_h(Pu[1]),g:_h(Pu[2]),b:_h(Pu[3]),format:Jl?"name":"hex"}:(Pu=Xl.hex4.exec(Wl))?{r:_h(Pu[1]+""+Pu[1]),g:_h(Pu[2]+""+Pu[2]),b:_h(Pu[3]+""+Pu[3]),a:Bu(Pu[4]+""+Pu[4]),format:Jl?"name":"hex8"}:(Pu=Xl.hex3.exec(Wl))?{r:_h(Pu[1]+""+Pu[1]),g:_h(Pu[2]+""+Pu[2]),b:_h(Pu[3]+""+Pu[3]),format:Jl?"name":"hex"}:!1}function _u(Wl){var Jl,Pu;return Wl=Wl||{level:"AA",size:"small"},Jl=(Wl.level||"AA").toUpperCase(),Pu=(Wl.size||"small").toLowerCase(),Jl!=="AA"&&Jl!=="AAA"&&(Jl="AA"),Pu!=="small"&&Pu!=="large"&&(Pu="small"),{level:Jl,size:Pu}}typeof yu<"u"&&yu.exports?yu.exports=Et:window.tinycolor=Et})(Math)}),In=a(Mu=>{var yu=jt(),ls=Array.isArray;function _t(xl,Bn){var yl,Sl;for(yl=0;yl<xl.length;yl++){if(Sl=xl[yl],Sl!==null&&typeof Sl=="object")return!1;Sl!==void 0&&(Bn[yl]=Sl)}return!0}Mu.extendFlat=function(){return Fn(arguments,!1,!1,!1)},Mu.extendDeep=function(){return Fn(arguments,!0,!1,!1)},Mu.extendDeepAll=function(){return Fn(arguments,!0,!0,!1)},Mu.extendDeepNoArrays=function(){return Fn(arguments,!0,!1,!0)};function Fn(xl,Bn,yl,Sl){var Al=xl[0],Et=xl.length,Pl,El,Fl,$l,Nl,Ll,Ol;if(Et===2&&ls(Al)&&ls(xl[1])&&Al.length===0){if(Ol=_t(xl[1],Al),Ol)return Al;Al.splice(0,Al.length)}for(var Bl=1;Bl<Et;Bl++){Pl=xl[Bl];for(El in Pl)Fl=Al[El],$l=Pl[El],Sl&&ls($l)?Al[El]=$l:Bn&&$l&&(yu($l)||(Nl=ls($l)))?(Nl?(Nl=!1,Ll=Fl&&ls(Fl)?Fl:[]):Ll=Fl&&yu(Fl)?Fl:{},Al[El]=Fn([Ll,$l],Bn,yl,Sl)):(typeof $l<"u"||yl)&&(Al[El]=$l)}return Al}}),Ml=a((Mu,yu)=>{yu.exports=function(ls){var _t=ls.variantValues,Fn=ls.editType,xl=ls.colorEditType;xl===void 0&&(xl=Fn);var Bn={editType:Fn,valType:"integer",min:1,max:1e3,extras:["normal","bold"],dflt:"normal"};ls.noNumericWeightValues&&(Bn.valType="enumerated",Bn.values=Bn.extras,Bn.extras=void 0,Bn.min=void 0,Bn.max=void 0);var yl={family:{valType:"string",noBlank:!0,strict:!0,editType:Fn},size:{valType:"number",min:1,editType:Fn},color:{valType:"color",editType:xl},weight:Bn,style:{editType:Fn,valType:"enumerated",values:["normal","italic"],dflt:"normal"},variant:ls.noFontVariant?void 0:{editType:Fn,valType:"enumerated",values:_t||["normal","small-caps","all-small-caps","all-petite-caps","petite-caps","unicase"],dflt:"normal"},textcase:ls.noFontTextcase?void 0:{editType:Fn,valType:"enumerated",values:["normal","word caps","upper","lower"],dflt:"normal"},lineposition:ls.noFontLineposition?void 0:{editType:Fn,valType:"flaglist",flags:["under","over","through"],extras:["none"],dflt:"none"},shadow:ls.noFontShadow?void 0:{editType:Fn,valType:"string",dflt:ls.autoShadowDflt?"auto":"none"},editType:Fn};return ls.autoSize&&(yl.size.dflt="auto"),ls.autoColor&&(yl.color.dflt="auto"),ls.arrayOk&&(yl.family.arrayOk=!0,yl.weight.arrayOk=!0,yl.style.arrayOk=!0,ls.noFontVariant||(yl.variant.arrayOk=!0),ls.noFontTextcase||(yl.textcase.arrayOk=!0),ls.noFontLineposition||(yl.lineposition.arrayOk=!0),ls.noFontShadow||(yl.shadow.arrayOk=!0),yl.size.arrayOk=!0,yl.color.arrayOk=!0),yl}}),Dl=a((Mu,yu)=>{yu.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}}),Ul=a((Mu,yu)=>{var ls=Dl(),_t=Ml(),Fn=_t({editType:"none"});Fn.family.dflt=ls.HOVERFONT,Fn.size.dflt=ls.HOVERFONTSIZE,yu.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoversubplots:{valType:"enumerated",values:["single","overlaying","axis"],dflt:"overlaying",editType:"none"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:Fn,grouptitlefont:_t({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},showarrow:{valType:"boolean",dflt:!0,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}}),Vl=a((Mu,yu)=>{var ls=Ml(),_t=Ul().hoverlabel,Fn=In().extendFlat;yu.exports={hoverlabel:{bgcolor:Fn({},_t.bgcolor,{arrayOk:!0}),bordercolor:Fn({},_t.bordercolor,{arrayOk:!0}),font:ls({arrayOk:!0,editType:"none"}),align:Fn({},_t.align,{arrayOk:!0}),namelength:Fn({},_t.namelength,{arrayOk:!0}),showarrow:Fn({},_t.showarrow),editType:"none"}}}),mu=a((Mu,yu)=>{var ls=Ml(),_t=Vl();yu.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:ls({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:_t.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},uirevision:{valType:"any",editType:"none"}}}),rp=a((Mu,yu)=>{var ls=zl(),_t={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},Fn=_t.RdBu;function xl(Sl,Al){if(Al||(Al=Fn),!Sl)return Al;function Et(){try{Sl=_t[Sl]||JSON.parse(Sl)}catch{Sl=Al}}return typeof Sl=="string"&&(Et(),typeof Sl=="string"&&Et()),Bn(Sl)?Sl:Al}function Bn(Sl){var Al=0;if(!Array.isArray(Sl)||Sl.length<2||!Sl[0]||!Sl[Sl.length-1]||+Sl[0][0]!=0||+Sl[Sl.length-1][0]!=1)return!1;for(var Et=0;Et<Sl.length;Et++){var Pl=Sl[Et];if(Pl.length!==2||+Pl[0]<Al||!ls(Pl[1]).isValid())return!1;Al=+Pl[0]}return!0}function yl(Sl){return _t[Sl]!==void 0?!0:Bn(Sl)}yu.exports={scales:_t,defaultScale:Fn,get:xl,isValid:yl}}),Ju=a(Mu=>{Mu.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],Mu.defaultLine="#444",Mu.lightLine="#eee",Mu.background="#fff",Mu.borderLine="#BEC8D9",Mu.lightFraction=100*10/11}),cp=a((Mu,yu)=>{var ls=zl(),_t=rt(),Fn=wl().isTypedArray,xl=yu.exports={},Bn=Ju();xl.defaults=Bn.defaults;var yl=xl.defaultLine=Bn.defaultLine;xl.lightLine=Bn.lightLine;var Sl=xl.background=Bn.background;xl.tinyRGB=function(Et){var Pl=Et.toRgb();return"rgb("+Math.round(Pl.r)+", "+Math.round(Pl.g)+", "+Math.round(Pl.b)+")"},xl.rgb=function(Et){return xl.tinyRGB(ls(Et))},xl.opacity=function(Et){return Et?ls(Et).getAlpha():0},xl.addOpacity=function(Et,Pl){var El=ls(Et).toRgb();return"rgba("+Math.round(El.r)+", "+Math.round(El.g)+", "+Math.round(El.b)+", "+Pl+")"},xl.combine=function(Et,Pl){var El=ls(Et).toRgb();if(El.a===1)return ls(Et).toRgbString();var Fl=ls(Pl||Sl).toRgb(),$l=Fl.a===1?Fl:{r:255*(1-Fl.a)+Fl.r*Fl.a,g:255*(1-Fl.a)+Fl.g*Fl.a,b:255*(1-Fl.a)+Fl.b*Fl.a},Nl={r:$l.r*(1-El.a)+El.r*El.a,g:$l.g*(1-El.a)+El.g*El.a,b:$l.b*(1-El.a)+El.b*El.a};return ls(Nl).toRgbString()},xl.interpolate=function(Et,Pl,El){var Fl=ls(Et).toRgb(),$l=ls(Pl).toRgb(),Nl={r:El*Fl.r+(1-El)*$l.r,g:El*Fl.g+(1-El)*$l.g,b:El*Fl.b+(1-El)*$l.b};return ls(Nl).toRgbString()},xl.contrast=function(Et,Pl,El){var Fl=ls(Et);Fl.getAlpha()!==1&&(Fl=ls(xl.combine(Et,Sl)));var $l=Fl.isDark()?Pl?Fl.lighten(Pl):Sl:El?Fl.darken(El):yl;return $l.toString()},xl.stroke=function(Et,Pl){var El=ls(Pl);Et.style({stroke:xl.tinyRGB(El),"stroke-opacity":El.getAlpha()})},xl.fill=function(Et,Pl){var El=ls(Pl);Et.style({fill:xl.tinyRGB(El),"fill-opacity":El.getAlpha()})},xl.clean=function(Et){if(!(!Et||typeof Et!="object")){var Pl=Object.keys(Et),El,Fl,$l,Nl;for(El=0;El<Pl.length;El++)if($l=Pl[El],Nl=Et[$l],$l.substr($l.length-5)==="color")if(Array.isArray(Nl))for(Fl=0;Fl<Nl.length;Fl++)Nl[Fl]=Al(Nl[Fl]);else Et[$l]=Al(Nl);else if($l.substr($l.length-10)==="colorscale"&&Array.isArray(Nl))for(Fl=0;Fl<Nl.length;Fl++)Array.isArray(Nl[Fl])&&(Nl[Fl][1]=Al(Nl[Fl][1]));else if(Array.isArray(Nl)){var Ll=Nl[0];if(!Array.isArray(Ll)&&Ll&&typeof Ll=="object")for(Fl=0;Fl<Nl.length;Fl++)xl.clean(Nl[Fl])}else Nl&&typeof Nl=="object"&&!Fn(Nl)&&xl.clean(Nl)}};function Al(Et){if(_t(Et)||typeof Et!="string")return Et;var Pl=Et.trim();if(Pl.substr(0,3)!=="rgb")return Et;var El=Pl.match(/^rgba?\s*\(([^()]*)\)$/);if(!El)return Et;var Fl=El[1].trim().split(/\s*[\s,]\s*/),$l=Pl.charAt(3)==="a"&&Fl.length===4;if(!$l&&Fl.length!==3)return Et;for(var Nl=0;Nl<Fl.length;Nl++){if(!Fl[Nl].length||(Fl[Nl]=Number(Fl[Nl]),!(Fl[Nl]>=0)))return Et;if(Nl===3)Fl[Nl]>1&&(Fl[Nl]=1);else if(Fl[Nl]>=1)return Et}var Ll=Math.round(Fl[0]*255)+", "+Math.round(Fl[1]*255)+", "+Math.round(Fl[2]*255);return $l?"rgba("+Ll+", "+Fl[3]+")":"rgb("+Ll+")"}}),hp=a((Mu,yu)=>{yu.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}}),yp=a(Mu=>{Mu.counter=function(yu,ls,_t,Fn){var xl=(ls||"")+(_t?"":"$"),Bn=Fn===!1?"":"^";return yu==="xy"?new RegExp(Bn+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+xl):new RegExp(Bn+yu+"([2-9]|[1-9][0-9]+)?"+xl)}}),xp=a(Mu=>{var yu=rt(),ls=zl(),_t=In().extendFlat,Fn=mu(),xl=rp(),Bn=cp(),yl=hp().DESELECTDIM,Sl=Ft(),Al=yp().counter,Et=Tl().modHalf,Pl=wl().isArrayOrTypedArray,El=wl().isTypedArraySpec,Fl=wl().decodeTypedArraySpec;Mu.valObjectMeta={data_array:{coerceFunction:function(Nl,Ll,Ol){Ll.set(Pl(Nl)?Nl:El(Nl)?Fl(Nl):Ol)}},enumerated:{coerceFunction:function(Nl,Ll,Ol,Bl){Bl.coerceNumber&&(Nl=+Nl),Bl.values.indexOf(Nl)===-1?Ll.set(Ol):Ll.set(Nl)},validateFunction:function(Nl,Ll){Ll.coerceNumber&&(Nl=+Nl);for(var Ol=Ll.values,Bl=0;Bl<Ol.length;Bl++){var _l=String(Ol[Bl]);if(_l.charAt(0)==="/"&&_l.charAt(_l.length-1)==="/"){var Rl=new RegExp(_l.substr(1,_l.length-2));if(Rl.test(Nl))return!0}else if(Nl===Ol[Bl])return!0}return!1}},boolean:{coerceFunction:function(Nl,Ll,Ol){Nl===!0||Nl===!1?Ll.set(Nl):Ll.set(Ol)}},number:{coerceFunction:function(Nl,Ll,Ol,Bl){El(Nl)&&(Nl=Fl(Nl)),!yu(Nl)||Bl.min!==void 0&&Nl<Bl.min||Bl.max!==void 0&&Nl>Bl.max?Ll.set(Ol):Ll.set(+Nl)}},integer:{coerceFunction:function(Nl,Ll,Ol,Bl){if((Bl.extras||[]).indexOf(Nl)!==-1){Ll.set(Nl);return}El(Nl)&&(Nl=Fl(Nl)),Nl%1||!yu(Nl)||Bl.min!==void 0&&Nl<Bl.min||Bl.max!==void 0&&Nl>Bl.max?Ll.set(Ol):Ll.set(+Nl)}},string:{coerceFunction:function(Nl,Ll,Ol,Bl){if(typeof Nl!="string"){var _l=typeof Nl=="number";Bl.strict===!0||!_l?Ll.set(Ol):Ll.set(String(Nl))}else Bl.noBlank&&!Nl?Ll.set(Ol):Ll.set(Nl)}},color:{coerceFunction:function(Nl,Ll,Ol){El(Nl)&&(Nl=Fl(Nl)),ls(Nl).isValid()?Ll.set(Nl):Ll.set(Ol)}},colorlist:{coerceFunction:function(Nl,Ll,Ol){function Bl(_l){return ls(_l).isValid()}!Array.isArray(Nl)||!Nl.length?Ll.set(Ol):Nl.every(Bl)?Ll.set(Nl):Ll.set(Ol)}},colorscale:{coerceFunction:function(Nl,Ll,Ol){Ll.set(xl.get(Nl,Ol))}},angle:{coerceFunction:function(Nl,Ll,Ol){El(Nl)&&(Nl=Fl(Nl)),Nl==="auto"?Ll.set("auto"):yu(Nl)?Ll.set(Et(+Nl,360)):Ll.set(Ol)}},subplotid:{coerceFunction:function(Nl,Ll,Ol,Bl){var _l=Bl.regex||Al(Ol);if(typeof Nl=="string"&&_l.test(Nl)){Ll.set(Nl);return}Ll.set(Ol)},validateFunction:function(Nl,Ll){var Ol=Ll.dflt;return Nl===Ol?!0:typeof Nl!="string"?!1:!!Al(Ol).test(Nl)}},flaglist:{coerceFunction:function(Nl,Ll,Ol,Bl){if((Bl.extras||[]).indexOf(Nl)!==-1){Ll.set(Nl);return}if(typeof Nl!="string"){Ll.set(Ol);return}for(var _l=Nl.split("+"),Rl=0;Rl<_l.length;){var Il=_l[Rl];Bl.flags.indexOf(Il)===-1||_l.indexOf(Il)<Rl?_l.splice(Rl,1):Rl++}_l.length?Ll.set(_l.join("+")):Ll.set(Ol)}},any:{coerceFunction:function(Nl,Ll,Ol){Nl===void 0?Ll.set(Ol):Ll.set(El(Nl)?Fl(Nl):Nl)}},info_array:{coerceFunction:function(Nl,Ll,Ol,Bl){function _l(Hu,Vu,gu){var Wu,qu={set:function(np){Wu=np}};return gu===void 0&&(gu=Vu.dflt),Mu.valObjectMeta[Vu.valType].coerceFunction(Hu,qu,gu,Vu),Wu}if(El(Nl)&&(Nl=Fl(Nl)),!Pl(Nl)){Ll.set(Ol);return}var Rl=Bl.dimensions===2||Bl.dimensions==="1-2"&&Array.isArray(Nl)&&Pl(Nl[0]),Il=Bl.items,Hl=[],Kl=Array.isArray(Il),Gu=Kl&&Rl&&Pl(Il[0]),vu=Rl&&Kl&&!Gu,hu=Kl&&!vu?Il.length:Nl.length,Yl,$u,bu,Lu,Fu,Du;if(Ol=Array.isArray(Ol)?Ol:[],Rl)for(Yl=0;Yl<hu;Yl++)for(Hl[Yl]=[],bu=Pl(Nl[Yl])?Nl[Yl]:[],vu?Fu=Il.length:Kl?Fu=Il[Yl].length:Fu=bu.length,$u=0;$u<Fu;$u++)vu?Lu=Il[$u]:Kl?Lu=Il[Yl][$u]:Lu=Il,Du=_l(bu[$u],Lu,(Ol[Yl]||[])[$u]),Du!==void 0&&(Hl[Yl][$u]=Du);else for(Yl=0;Yl<hu;Yl++)Du=_l(Nl[Yl],Kl?Il[Yl]:Il,Ol[Yl]),Du!==void 0&&(Hl[Yl]=Du);Ll.set(Hl)},validateFunction:function(Nl,Ll){if(!Pl(Nl))return!1;var Ol=Ll.items,Bl=Array.isArray(Ol),_l=Ll.dimensions===2;if(!Ll.freeLength&&Nl.length!==Ol.length)return!1;for(var Rl=0;Rl<Nl.length;Rl++)if(_l){if(!Pl(Nl[Rl])||!Ll.freeLength&&Nl[Rl].length!==Ol[Rl].length)return!1;for(var Il=0;Il<Nl[Rl].length;Il++)if(!$l(Nl[Rl][Il],Bl?Ol[Rl][Il]:Ol))return!1}else if(!$l(Nl[Rl],Bl?Ol[Rl]:Ol))return!1;return!0}}},Mu.coerce=function(Nl,Ll,Ol,Bl,_l){var Rl=Sl(Ol,Bl).get(),Il=Sl(Nl,Bl),Hl=Sl(Ll,Bl),Kl=Il.get(),Gu=Ll._template;if(Kl===void 0&&Gu&&(Kl=Sl(Gu,Bl).get(),Gu=0),_l===void 0&&(_l=Rl.dflt),Rl.arrayOk){if(Pl(Kl))return Hl.set(Kl),Kl;if(El(Kl))return Kl=Fl(Kl),Hl.set(Kl),Kl}var vu=Mu.valObjectMeta[Rl.valType].coerceFunction;vu(Kl,Hl,_l,Rl);var hu=Hl.get();return Gu&&hu===_l&&!$l(Kl,Rl)&&(Kl=Sl(Gu,Bl).get(),vu(Kl,Hl,_l,Rl),hu=Hl.get()),hu},Mu.coerce2=function(Nl,Ll,Ol,Bl,_l){var Rl=Sl(Nl,Bl),Il=Mu.coerce(Nl,Ll,Ol,Bl,_l),Hl=Rl.get();return Hl!=null?Il:!1},Mu.coerceFont=function(Nl,Ll,Ol,Bl){Bl||(Bl={}),Ol=_t({},Ol),Ol=_t(Ol,Bl.overrideDflt||{});var _l={family:Nl(Ll+".family",Ol.family),size:Nl(Ll+".size",Ol.size),color:Nl(Ll+".color",Ol.color),weight:Nl(Ll+".weight",Ol.weight),style:Nl(Ll+".style",Ol.style)};if(Bl.noFontVariant||(_l.variant=Nl(Ll+".variant",Ol.variant)),Bl.noFontLineposition||(_l.lineposition=Nl(Ll+".lineposition",Ol.lineposition)),Bl.noFontTextcase||(_l.textcase=Nl(Ll+".textcase",Ol.textcase)),!Bl.noFontShadow){var Rl=Ol.shadow;Rl==="none"&&Bl.autoShadowDflt&&(Rl="auto"),_l.shadow=Nl(Ll+".shadow",Rl)}return _l},Mu.coercePattern=function(Nl,Ll,Ol,Bl){var _l=Nl(Ll+".shape"),Rl;if(_l||(Rl=Nl(Ll+".path")),_l||Rl){_l&&Nl(Ll+".solidity"),Nl(Ll+".size");var Il=Nl(Ll+".fillmode"),Hl=Il==="overlay";if(!Bl){var Kl=Nl(Ll+".bgcolor",Hl?Ol:void 0);Nl(Ll+".fgcolor",Hl?Bn.contrast(Kl):Ol)}Nl(Ll+".fgopacity",Hl?.5:1)}},Mu.coerceHoverinfo=function(Nl,Ll,Ol){var Bl=Ll._module.attributes,_l=Bl.hoverinfo?Bl:Fn,Rl=_l.hoverinfo,Il;if(Ol._dataLength===1){var Hl=Rl.dflt==="all"?Rl.flags.slice():Rl.dflt.split("+");Hl.splice(Hl.indexOf("name"),1),Il=Hl.join("+")}return Mu.coerce(Nl,Ll,_l,"hoverinfo",Il)},Mu.coerceSelectionMarkerOpacity=function(Nl,Ll){if(Nl.marker){var Ol=Nl.marker.opacity;if(Ol!==void 0){var Bl,_l;!Pl(Ol)&&!Nl.selected&&!Nl.unselected&&(Bl=Ol,_l=yl*Ol),Ll("selected.marker.opacity",Bl),Ll("unselected.marker.opacity",_l)}}};function $l(Nl,Ll){var Ol=Mu.valObjectMeta[Ll.valType];if(Ll.arrayOk&&Pl(Nl))return!0;if(Ol.validateFunction)return Ol.validateFunction(Nl,Ll);var Bl={},_l=Bl,Rl={set:function(Il){_l=Il}};return Ol.coerceFunction(Nl,Rl,Bl,Ll),_l!==Bl}Mu.validate=$l}),fp=a((Mu,yu)=>{var ls={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox","map"],extras:[!0,!1],dflt:"gl3d+geo+map"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/un/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},_t={};function Fn(xl,Bn){for(var yl in xl){var Sl=xl[yl];Sl.valType?Bn[yl]=Sl.dflt:(Bn[yl]||(Bn[yl]={}),Fn(Sl,Bn[yl]))}}Fn(ls,_t),yu.exports={configAttributes:ls,dfltConfig:_t}}),_p=a((Mu,yu)=>{var ls=g(),_t=rt(),Fn=[];yu.exports=function(xl,Bn){if(Fn.indexOf(xl)!==-1)return;Fn.push(xl);var yl=1e3;_t(Bn)?yl=Bn:Bn==="long"&&(yl=3e3);var Sl=ls.select("body").selectAll(".plotly-notifier").data([0]);Sl.enter().append("div").classed("plotly-notifier",!0);var Al=Sl.selectAll(".notifier-note").data(Fn);function Et(Pl){Pl.duration(700).style("opacity",0).each("end",function(El){var Fl=Fn.indexOf(El);Fl!==-1&&Fn.splice(Fl,1),ls.select(this).remove()})}Al.enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(Pl){var El=ls.select(this);El.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){El.transition().call(Et)});for(var Fl=El.append("p"),$l=Pl.split(/<br\s*\/?>/g),Nl=0;Nl<$l.length;Nl++)Nl&&Fl.append("br"),Fl.append("span").text($l[Nl]);Bn==="stick"?El.transition().duration(350).style("opacity",1):El.transition().duration(700).style("opacity",1).transition().delay(yl).call(Et)})}}),ip=a((Mu,yu)=>{var ls=fp().dfltConfig,_t=_p(),Fn=yu.exports={};Fn.log=function(){var xl;if(ls.logging>1){var Bn=["LOG:"];for(xl=0;xl<arguments.length;xl++)Bn.push(arguments[xl]);console.trace.apply(console,Bn)}if(ls.notifyOnLogging>1){var yl=[];for(xl=0;xl<arguments.length;xl++)yl.push(arguments[xl]);_t(yl.join("<br>"),"long")}},Fn.warn=function(){var xl;if(ls.logging>0){var Bn=["WARN:"];for(xl=0;xl<arguments.length;xl++)Bn.push(arguments[xl]);console.trace.apply(console,Bn)}if(ls.notifyOnLogging>0){var yl=[];for(xl=0;xl<arguments.length;xl++)yl.push(arguments[xl]);_t(yl.join("<br>"),"stick")}},Fn.error=function(){var xl;if(ls.logging>0){var Bn=["ERROR:"];for(xl=0;xl<arguments.length;xl++)Bn.push(arguments[xl]);console.error.apply(console,Bn)}if(ls.notifyOnLogging>0){var yl=[];for(xl=0;xl<arguments.length;xl++)yl.push(arguments[xl]);_t(yl.join("<br>"),"stick")}}}),gp=a((Mu,yu)=>{yu.exports=function(){}}),Dp=a((Mu,yu)=>{yu.exports=function(ls,_t){if(_t instanceof RegExp){for(var Fn=_t.toString(),xl=0;xl<ls.length;xl++)if(ls[xl]instanceof RegExp&&ls[xl].toString()===Fn)return ls;ls.push(_t)}else(_t||_t===0)&&ls.indexOf(_t)===-1&&ls.push(_t);return ls}}),Fp=a((Mu,yu)=>{yu.exports=ls;function ls(){var _t=new Float32Array(16);return _t[0]=1,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=1,_t[6]=0,_t[7]=0,_t[8]=0,_t[9]=0,_t[10]=1,_t[11]=0,_t[12]=0,_t[13]=0,_t[14]=0,_t[15]=1,_t}}),n0=a((Mu,yu)=>{yu.exports=ls;function ls(_t){var Fn=new Float32Array(16);return Fn[0]=_t[0],Fn[1]=_t[1],Fn[2]=_t[2],Fn[3]=_t[3],Fn[4]=_t[4],Fn[5]=_t[5],Fn[6]=_t[6],Fn[7]=_t[7],Fn[8]=_t[8],Fn[9]=_t[9],Fn[10]=_t[10],Fn[11]=_t[11],Fn[12]=_t[12],Fn[13]=_t[13],Fn[14]=_t[14],Fn[15]=_t[15],Fn}}),S0=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){return _t[0]=Fn[0],_t[1]=Fn[1],_t[2]=Fn[2],_t[3]=Fn[3],_t[4]=Fn[4],_t[5]=Fn[5],_t[6]=Fn[6],_t[7]=Fn[7],_t[8]=Fn[8],_t[9]=Fn[9],_t[10]=Fn[10],_t[11]=Fn[11],_t[12]=Fn[12],_t[13]=Fn[13],_t[14]=Fn[14],_t[15]=Fn[15],_t}}),C0=a((Mu,yu)=>{yu.exports=ls;function ls(_t){return _t[0]=1,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=1,_t[6]=0,_t[7]=0,_t[8]=0,_t[9]=0,_t[10]=1,_t[11]=0,_t[12]=0,_t[13]=0,_t[14]=0,_t[15]=1,_t}}),P0=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){if(_t===Fn){var xl=Fn[1],Bn=Fn[2],yl=Fn[3],Sl=Fn[6],Al=Fn[7],Et=Fn[11];_t[1]=Fn[4],_t[2]=Fn[8],_t[3]=Fn[12],_t[4]=xl,_t[6]=Fn[9],_t[7]=Fn[13],_t[8]=Bn,_t[9]=Sl,_t[11]=Fn[14],_t[12]=yl,_t[13]=Al,_t[14]=Et}else _t[0]=Fn[0],_t[1]=Fn[4],_t[2]=Fn[8],_t[3]=Fn[12],_t[4]=Fn[1],_t[5]=Fn[5],_t[6]=Fn[9],_t[7]=Fn[13],_t[8]=Fn[2],_t[9]=Fn[6],_t[10]=Fn[10],_t[11]=Fn[14],_t[12]=Fn[3],_t[13]=Fn[7],_t[14]=Fn[11],_t[15]=Fn[15];return _t}}),k0=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){var xl=Fn[0],Bn=Fn[1],yl=Fn[2],Sl=Fn[3],Al=Fn[4],Et=Fn[5],Pl=Fn[6],El=Fn[7],Fl=Fn[8],$l=Fn[9],Nl=Fn[10],Ll=Fn[11],Ol=Fn[12],Bl=Fn[13],_l=Fn[14],Rl=Fn[15],Il=xl*Et-Bn*Al,Hl=xl*Pl-yl*Al,Kl=xl*El-Sl*Al,Gu=Bn*Pl-yl*Et,vu=Bn*El-Sl*Et,hu=yl*El-Sl*Pl,Yl=Fl*Bl-$l*Ol,$u=Fl*_l-Nl*Ol,bu=Fl*Rl-Ll*Ol,Lu=$l*_l-Nl*Bl,Fu=$l*Rl-Ll*Bl,Du=Nl*Rl-Ll*_l,Hu=Il*Du-Hl*Fu+Kl*Lu+Gu*bu-vu*$u+hu*Yl;return Hu?(Hu=1/Hu,_t[0]=(Et*Du-Pl*Fu+El*Lu)*Hu,_t[1]=(yl*Fu-Bn*Du-Sl*Lu)*Hu,_t[2]=(Bl*hu-_l*vu+Rl*Gu)*Hu,_t[3]=(Nl*vu-$l*hu-Ll*Gu)*Hu,_t[4]=(Pl*bu-Al*Du-El*$u)*Hu,_t[5]=(xl*Du-yl*bu+Sl*$u)*Hu,_t[6]=(_l*Kl-Ol*hu-Rl*Hl)*Hu,_t[7]=(Fl*hu-Nl*Kl+Ll*Hl)*Hu,_t[8]=(Al*Fu-Et*bu+El*Yl)*Hu,_t[9]=(Bn*bu-xl*Fu-Sl*Yl)*Hu,_t[10]=(Ol*vu-Bl*Kl+Rl*Il)*Hu,_t[11]=($l*Kl-Fl*vu-Ll*Il)*Hu,_t[12]=(Et*$u-Al*Lu-Pl*Yl)*Hu,_t[13]=(xl*Lu-Bn*$u+yl*Yl)*Hu,_t[14]=(Bl*Hl-Ol*Gu-_l*Il)*Hu,_t[15]=(Fl*Gu-$l*Hl+Nl*Il)*Hu,_t):null}}),T0=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){var xl=Fn[0],Bn=Fn[1],yl=Fn[2],Sl=Fn[3],Al=Fn[4],Et=Fn[5],Pl=Fn[6],El=Fn[7],Fl=Fn[8],$l=Fn[9],Nl=Fn[10],Ll=Fn[11],Ol=Fn[12],Bl=Fn[13],_l=Fn[14],Rl=Fn[15];return _t[0]=Et*(Nl*Rl-Ll*_l)-$l*(Pl*Rl-El*_l)+Bl*(Pl*Ll-El*Nl),_t[1]=-(Bn*(Nl*Rl-Ll*_l)-$l*(yl*Rl-Sl*_l)+Bl*(yl*Ll-Sl*Nl)),_t[2]=Bn*(Pl*Rl-El*_l)-Et*(yl*Rl-Sl*_l)+Bl*(yl*El-Sl*Pl),_t[3]=-(Bn*(Pl*Ll-El*Nl)-Et*(yl*Ll-Sl*Nl)+$l*(yl*El-Sl*Pl)),_t[4]=-(Al*(Nl*Rl-Ll*_l)-Fl*(Pl*Rl-El*_l)+Ol*(Pl*Ll-El*Nl)),_t[5]=xl*(Nl*Rl-Ll*_l)-Fl*(yl*Rl-Sl*_l)+Ol*(yl*Ll-Sl*Nl),_t[6]=-(xl*(Pl*Rl-El*_l)-Al*(yl*Rl-Sl*_l)+Ol*(yl*El-Sl*Pl)),_t[7]=xl*(Pl*Ll-El*Nl)-Al*(yl*Ll-Sl*Nl)+Fl*(yl*El-Sl*Pl),_t[8]=Al*($l*Rl-Ll*Bl)-Fl*(Et*Rl-El*Bl)+Ol*(Et*Ll-El*$l),_t[9]=-(xl*($l*Rl-Ll*Bl)-Fl*(Bn*Rl-Sl*Bl)+Ol*(Bn*Ll-Sl*$l)),_t[10]=xl*(Et*Rl-El*Bl)-Al*(Bn*Rl-Sl*Bl)+Ol*(Bn*El-Sl*Et),_t[11]=-(xl*(Et*Ll-El*$l)-Al*(Bn*Ll-Sl*$l)+Fl*(Bn*El-Sl*Et)),_t[12]=-(Al*($l*_l-Nl*Bl)-Fl*(Et*_l-Pl*Bl)+Ol*(Et*Nl-Pl*$l)),_t[13]=xl*($l*_l-Nl*Bl)-Fl*(Bn*_l-yl*Bl)+Ol*(Bn*Nl-yl*$l),_t[14]=-(xl*(Et*_l-Pl*Bl)-Al*(Bn*_l-yl*Bl)+Ol*(Bn*Pl-yl*Et)),_t[15]=xl*(Et*Nl-Pl*$l)-Al*(Bn*Nl-yl*$l)+Fl*(Bn*Pl-yl*Et),_t}}),im=a((Mu,yu)=>{yu.exports=ls;function ls(_t){var Fn=_t[0],xl=_t[1],Bn=_t[2],yl=_t[3],Sl=_t[4],Al=_t[5],Et=_t[6],Pl=_t[7],El=_t[8],Fl=_t[9],$l=_t[10],Nl=_t[11],Ll=_t[12],Ol=_t[13],Bl=_t[14],_l=_t[15],Rl=Fn*Al-xl*Sl,Il=Fn*Et-Bn*Sl,Hl=Fn*Pl-yl*Sl,Kl=xl*Et-Bn*Al,Gu=xl*Pl-yl*Al,vu=Bn*Pl-yl*Et,hu=El*Ol-Fl*Ll,Yl=El*Bl-$l*Ll,$u=El*_l-Nl*Ll,bu=Fl*Bl-$l*Ol,Lu=Fl*_l-Nl*Ol,Fu=$l*_l-Nl*Bl;return Rl*Fu-Il*Lu+Hl*bu+Kl*$u-Gu*Yl+vu*hu}}),am=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl){var Bn=Fn[0],yl=Fn[1],Sl=Fn[2],Al=Fn[3],Et=Fn[4],Pl=Fn[5],El=Fn[6],Fl=Fn[7],$l=Fn[8],Nl=Fn[9],Ll=Fn[10],Ol=Fn[11],Bl=Fn[12],_l=Fn[13],Rl=Fn[14],Il=Fn[15],Hl=xl[0],Kl=xl[1],Gu=xl[2],vu=xl[3];return _t[0]=Hl*Bn+Kl*Et+Gu*$l+vu*Bl,_t[1]=Hl*yl+Kl*Pl+Gu*Nl+vu*_l,_t[2]=Hl*Sl+Kl*El+Gu*Ll+vu*Rl,_t[3]=Hl*Al+Kl*Fl+Gu*Ol+vu*Il,Hl=xl[4],Kl=xl[5],Gu=xl[6],vu=xl[7],_t[4]=Hl*Bn+Kl*Et+Gu*$l+vu*Bl,_t[5]=Hl*yl+Kl*Pl+Gu*Nl+vu*_l,_t[6]=Hl*Sl+Kl*El+Gu*Ll+vu*Rl,_t[7]=Hl*Al+Kl*Fl+Gu*Ol+vu*Il,Hl=xl[8],Kl=xl[9],Gu=xl[10],vu=xl[11],_t[8]=Hl*Bn+Kl*Et+Gu*$l+vu*Bl,_t[9]=Hl*yl+Kl*Pl+Gu*Nl+vu*_l,_t[10]=Hl*Sl+Kl*El+Gu*Ll+vu*Rl,_t[11]=Hl*Al+Kl*Fl+Gu*Ol+vu*Il,Hl=xl[12],Kl=xl[13],Gu=xl[14],vu=xl[15],_t[12]=Hl*Bn+Kl*Et+Gu*$l+vu*Bl,_t[13]=Hl*yl+Kl*Pl+Gu*Nl+vu*_l,_t[14]=Hl*Sl+Kl*El+Gu*Ll+vu*Rl,_t[15]=Hl*Al+Kl*Fl+Gu*Ol+vu*Il,_t}}),bm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl){var Bn=xl[0],yl=xl[1],Sl=xl[2],Al,Et,Pl,El,Fl,$l,Nl,Ll,Ol,Bl,_l,Rl;return Fn===_t?(_t[12]=Fn[0]*Bn+Fn[4]*yl+Fn[8]*Sl+Fn[12],_t[13]=Fn[1]*Bn+Fn[5]*yl+Fn[9]*Sl+Fn[13],_t[14]=Fn[2]*Bn+Fn[6]*yl+Fn[10]*Sl+Fn[14],_t[15]=Fn[3]*Bn+Fn[7]*yl+Fn[11]*Sl+Fn[15]):(Al=Fn[0],Et=Fn[1],Pl=Fn[2],El=Fn[3],Fl=Fn[4],$l=Fn[5],Nl=Fn[6],Ll=Fn[7],Ol=Fn[8],Bl=Fn[9],_l=Fn[10],Rl=Fn[11],_t[0]=Al,_t[1]=Et,_t[2]=Pl,_t[3]=El,_t[4]=Fl,_t[5]=$l,_t[6]=Nl,_t[7]=Ll,_t[8]=Ol,_t[9]=Bl,_t[10]=_l,_t[11]=Rl,_t[12]=Al*Bn+Fl*yl+Ol*Sl+Fn[12],_t[13]=Et*Bn+$l*yl+Bl*Sl+Fn[13],_t[14]=Pl*Bn+Nl*yl+_l*Sl+Fn[14],_t[15]=El*Bn+Ll*yl+Rl*Sl+Fn[15]),_t}}),_g=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl){var Bn=xl[0],yl=xl[1],Sl=xl[2];return _t[0]=Fn[0]*Bn,_t[1]=Fn[1]*Bn,_t[2]=Fn[2]*Bn,_t[3]=Fn[3]*Bn,_t[4]=Fn[4]*yl,_t[5]=Fn[5]*yl,_t[6]=Fn[6]*yl,_t[7]=Fn[7]*yl,_t[8]=Fn[8]*Sl,_t[9]=Fn[9]*Sl,_t[10]=Fn[10]*Sl,_t[11]=Fn[11]*Sl,_t[12]=Fn[12],_t[13]=Fn[13],_t[14]=Fn[14],_t[15]=Fn[15],_t}}),b0=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl,Bn){var yl=Bn[0],Sl=Bn[1],Al=Bn[2],Et=Math.sqrt(yl*yl+Sl*Sl+Al*Al),Pl,El,Fl,$l,Nl,Ll,Ol,Bl,_l,Rl,Il,Hl,Kl,Gu,vu,hu,Yl,$u,bu,Lu,Fu,Du,Hu,Vu;return Math.abs(Et)<1e-6?null:(Et=1/Et,yl*=Et,Sl*=Et,Al*=Et,Pl=Math.sin(xl),El=Math.cos(xl),Fl=1-El,$l=Fn[0],Nl=Fn[1],Ll=Fn[2],Ol=Fn[3],Bl=Fn[4],_l=Fn[5],Rl=Fn[6],Il=Fn[7],Hl=Fn[8],Kl=Fn[9],Gu=Fn[10],vu=Fn[11],hu=yl*yl*Fl+El,Yl=Sl*yl*Fl+Al*Pl,$u=Al*yl*Fl-Sl*Pl,bu=yl*Sl*Fl-Al*Pl,Lu=Sl*Sl*Fl+El,Fu=Al*Sl*Fl+yl*Pl,Du=yl*Al*Fl+Sl*Pl,Hu=Sl*Al*Fl-yl*Pl,Vu=Al*Al*Fl+El,_t[0]=$l*hu+Bl*Yl+Hl*$u,_t[1]=Nl*hu+_l*Yl+Kl*$u,_t[2]=Ll*hu+Rl*Yl+Gu*$u,_t[3]=Ol*hu+Il*Yl+vu*$u,_t[4]=$l*bu+Bl*Lu+Hl*Fu,_t[5]=Nl*bu+_l*Lu+Kl*Fu,_t[6]=Ll*bu+Rl*Lu+Gu*Fu,_t[7]=Ol*bu+Il*Lu+vu*Fu,_t[8]=$l*Du+Bl*Hu+Hl*Vu,_t[9]=Nl*Du+_l*Hu+Kl*Vu,_t[10]=Ll*Du+Rl*Hu+Gu*Vu,_t[11]=Ol*Du+Il*Hu+vu*Vu,Fn!==_t&&(_t[12]=Fn[12],_t[13]=Fn[13],_t[14]=Fn[14],_t[15]=Fn[15]),_t)}}),U0=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl){var Bn=Math.sin(xl),yl=Math.cos(xl),Sl=Fn[4],Al=Fn[5],Et=Fn[6],Pl=Fn[7],El=Fn[8],Fl=Fn[9],$l=Fn[10],Nl=Fn[11];return Fn!==_t&&(_t[0]=Fn[0],_t[1]=Fn[1],_t[2]=Fn[2],_t[3]=Fn[3],_t[12]=Fn[12],_t[13]=Fn[13],_t[14]=Fn[14],_t[15]=Fn[15]),_t[4]=Sl*yl+El*Bn,_t[5]=Al*yl+Fl*Bn,_t[6]=Et*yl+$l*Bn,_t[7]=Pl*yl+Nl*Bn,_t[8]=El*yl-Sl*Bn,_t[9]=Fl*yl-Al*Bn,_t[10]=$l*yl-Et*Bn,_t[11]=Nl*yl-Pl*Bn,_t}}),mm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl){var Bn=Math.sin(xl),yl=Math.cos(xl),Sl=Fn[0],Al=Fn[1],Et=Fn[2],Pl=Fn[3],El=Fn[8],Fl=Fn[9],$l=Fn[10],Nl=Fn[11];return Fn!==_t&&(_t[4]=Fn[4],_t[5]=Fn[5],_t[6]=Fn[6],_t[7]=Fn[7],_t[12]=Fn[12],_t[13]=Fn[13],_t[14]=Fn[14],_t[15]=Fn[15]),_t[0]=Sl*yl-El*Bn,_t[1]=Al*yl-Fl*Bn,_t[2]=Et*yl-$l*Bn,_t[3]=Pl*yl-Nl*Bn,_t[8]=Sl*Bn+El*yl,_t[9]=Al*Bn+Fl*yl,_t[10]=Et*Bn+$l*yl,_t[11]=Pl*Bn+Nl*yl,_t}}),Lm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl){var Bn=Math.sin(xl),yl=Math.cos(xl),Sl=Fn[0],Al=Fn[1],Et=Fn[2],Pl=Fn[3],El=Fn[4],Fl=Fn[5],$l=Fn[6],Nl=Fn[7];return Fn!==_t&&(_t[8]=Fn[8],_t[9]=Fn[9],_t[10]=Fn[10],_t[11]=Fn[11],_t[12]=Fn[12],_t[13]=Fn[13],_t[14]=Fn[14],_t[15]=Fn[15]),_t[0]=Sl*yl+El*Bn,_t[1]=Al*yl+Fl*Bn,_t[2]=Et*yl+$l*Bn,_t[3]=Pl*yl+Nl*Bn,_t[4]=El*yl-Sl*Bn,_t[5]=Fl*yl-Al*Bn,_t[6]=$l*yl-Et*Bn,_t[7]=Nl*yl-Pl*Bn,_t}}),Um=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl){var Bn,yl,Sl,Al=xl[0],Et=xl[1],Pl=xl[2],El=Math.sqrt(Al*Al+Et*Et+Pl*Pl);return Math.abs(El)<1e-6?null:(El=1/El,Al*=El,Et*=El,Pl*=El,Bn=Math.sin(Fn),yl=Math.cos(Fn),Sl=1-yl,_t[0]=Al*Al*Sl+yl,_t[1]=Et*Al*Sl+Pl*Bn,_t[2]=Pl*Al*Sl-Et*Bn,_t[3]=0,_t[4]=Al*Et*Sl-Pl*Bn,_t[5]=Et*Et*Sl+yl,_t[6]=Pl*Et*Sl+Al*Bn,_t[7]=0,_t[8]=Al*Pl*Sl+Et*Bn,_t[9]=Et*Pl*Sl-Al*Bn,_t[10]=Pl*Pl*Sl+yl,_t[11]=0,_t[12]=0,_t[13]=0,_t[14]=0,_t[15]=1,_t)}}),Hm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl){var Bn=Fn[0],yl=Fn[1],Sl=Fn[2],Al=Fn[3],Et=Bn+Bn,Pl=yl+yl,El=Sl+Sl,Fl=Bn*Et,$l=Bn*Pl,Nl=Bn*El,Ll=yl*Pl,Ol=yl*El,Bl=Sl*El,_l=Al*Et,Rl=Al*Pl,Il=Al*El;return _t[0]=1-(Ll+Bl),_t[1]=$l+Il,_t[2]=Nl-Rl,_t[3]=0,_t[4]=$l-Il,_t[5]=1-(Fl+Bl),_t[6]=Ol+_l,_t[7]=0,_t[8]=Nl+Rl,_t[9]=Ol-_l,_t[10]=1-(Fl+Ll),_t[11]=0,_t[12]=xl[0],_t[13]=xl[1],_t[14]=xl[2],_t[15]=1,_t}}),Dm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){return _t[0]=Fn[0],_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=Fn[1],_t[6]=0,_t[7]=0,_t[8]=0,_t[9]=0,_t[10]=Fn[2],_t[11]=0,_t[12]=0,_t[13]=0,_t[14]=0,_t[15]=1,_t}}),Nm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){return _t[0]=1,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=1,_t[6]=0,_t[7]=0,_t[8]=0,_t[9]=0,_t[10]=1,_t[11]=0,_t[12]=Fn[0],_t[13]=Fn[1],_t[14]=Fn[2],_t[15]=1,_t}}),Om=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){var xl=Math.sin(Fn),Bn=Math.cos(Fn);return _t[0]=1,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=Bn,_t[6]=xl,_t[7]=0,_t[8]=0,_t[9]=-xl,_t[10]=Bn,_t[11]=0,_t[12]=0,_t[13]=0,_t[14]=0,_t[15]=1,_t}}),Mm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){var xl=Math.sin(Fn),Bn=Math.cos(Fn);return _t[0]=Bn,_t[1]=0,_t[2]=-xl,_t[3]=0,_t[4]=0,_t[5]=1,_t[6]=0,_t[7]=0,_t[8]=xl,_t[9]=0,_t[10]=Bn,_t[11]=0,_t[12]=0,_t[13]=0,_t[14]=0,_t[15]=1,_t}}),cm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){var xl=Math.sin(Fn),Bn=Math.cos(Fn);return _t[0]=Bn,_t[1]=xl,_t[2]=0,_t[3]=0,_t[4]=-xl,_t[5]=Bn,_t[6]=0,_t[7]=0,_t[8]=0,_t[9]=0,_t[10]=1,_t[11]=0,_t[12]=0,_t[13]=0,_t[14]=0,_t[15]=1,_t}}),Jm=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn){var xl=Fn[0],Bn=Fn[1],yl=Fn[2],Sl=Fn[3],Al=xl+xl,Et=Bn+Bn,Pl=yl+yl,El=xl*Al,Fl=Bn*Al,$l=Bn*Et,Nl=yl*Al,Ll=yl*Et,Ol=yl*Pl,Bl=Sl*Al,_l=Sl*Et,Rl=Sl*Pl;return _t[0]=1-$l-Ol,_t[1]=Fl+Rl,_t[2]=Nl-_l,_t[3]=0,_t[4]=Fl-Rl,_t[5]=1-El-Ol,_t[6]=Ll+Bl,_t[7]=0,_t[8]=Nl+_l,_t[9]=Ll-Bl,_t[10]=1-El-$l,_t[11]=0,_t[12]=0,_t[13]=0,_t[14]=0,_t[15]=1,_t}}),B0=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl,Bn,yl,Sl,Al){var Et=1/(xl-Fn),Pl=1/(yl-Bn),El=1/(Sl-Al);return _t[0]=Sl*2*Et,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=Sl*2*Pl,_t[6]=0,_t[7]=0,_t[8]=(xl+Fn)*Et,_t[9]=(yl+Bn)*Pl,_t[10]=(Al+Sl)*El,_t[11]=-1,_t[12]=0,_t[13]=0,_t[14]=Al*Sl*2*El,_t[15]=0,_t}}),Pp=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl,Bn,yl){var Sl=1/Math.tan(Fn/2),Al=1/(Bn-yl);return _t[0]=Sl/xl,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=Sl,_t[6]=0,_t[7]=0,_t[8]=0,_t[9]=0,_t[10]=(yl+Bn)*Al,_t[11]=-1,_t[12]=0,_t[13]=0,_t[14]=2*yl*Bn*Al,_t[15]=0,_t}}),Yp=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl,Bn){var yl=Math.tan(Fn.upDegrees*Math.PI/180),Sl=Math.tan(Fn.downDegrees*Math.PI/180),Al=Math.tan(Fn.leftDegrees*Math.PI/180),Et=Math.tan(Fn.rightDegrees*Math.PI/180),Pl=2/(Al+Et),El=2/(yl+Sl);return _t[0]=Pl,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=El,_t[6]=0,_t[7]=0,_t[8]=-((Al-Et)*Pl*.5),_t[9]=(yl-Sl)*El*.5,_t[10]=Bn/(xl-Bn),_t[11]=-1,_t[12]=0,_t[13]=0,_t[14]=Bn*xl/(xl-Bn),_t[15]=0,_t}}),o0=a((Mu,yu)=>{yu.exports=ls;function ls(_t,Fn,xl,Bn,yl,Sl,Al){var Et=1/(Fn-xl),Pl=1/(Bn-yl),El=1/(Sl-Al);return _t[0]=-2*Et,_t[1]=0,_t[2]=0,_t[3]=0,_t[4]=0,_t[5]=-2*Pl,_t[6]=0,_t[7]=0,_t[8]=0,_t[9]=0,_t[10]=2*El,_t[11]=0,_t[12]=(Fn+xl)*Et,_t[13]=(yl+Bn)*Pl,_t[14]=(Al+Sl)*El,_t[15]=1,_t}}),W0=a((Mu,yu)=>{var ls=C0();yu.exports=_t;function _t(Fn,xl,Bn,yl){var Sl,Al,Et,Pl,El,Fl,$l,Nl,Ll,Ol,Bl=xl[0],_l=xl[1],Rl=xl[2],Il=yl[0],Hl=yl[1],Kl=yl[2],Gu=Bn[0],vu=Bn[1],hu=Bn[2];return Math.abs(Bl-Gu)<1e-6&&Math.abs(_l-vu)<1e-6&&Math.abs(Rl-hu)<1e-6?ls(Fn):($l=Bl-Gu,Nl=_l-vu,Ll=Rl-hu,Ol=1/Math.sqrt($l*$l+Nl*Nl+Ll*Ll),$l*=Ol,Nl*=Ol,Ll*=Ol,Sl=Hl*Ll-Kl*Nl,Al=Kl*$l-Il*Ll,Et=Il*Nl-Hl*$l,Ol=Math.sqrt(Sl*Sl+Al*Al+Et*Et),Ol?(Ol=1/Ol,Sl*=Ol,Al*=Ol,Et*=Ol):(Sl=0,Al=0,Et=0),Pl=Nl*Et-Ll*Al,El=Ll*Sl-$l*Et,Fl=$l*Al-Nl*Sl,Ol=Math.sqrt(Pl*Pl+El*El+Fl*Fl),Ol?(Ol=1/Ol,Pl*=Ol,El*=Ol,Fl*=Ol):(Pl=0,El=0,Fl=0),Fn[0]=Sl,Fn[1]=Pl,Fn[2]=$l,Fn[3]=0,Fn[4]=Al,Fn[5]=El,Fn[6]=Nl,Fn[7]=0,Fn[8]=Et,Fn[9]=Fl,Fn[10]=Ll,Fn[11]=0,Fn[12]=-(Sl*Bl+Al*_l+Et*Rl),Fn[13]=-(Pl*Bl+El*_l+Fl*Rl),Fn[14]=-($l*Bl+Nl*_l+Ll*Rl),Fn[15]=1,Fn)}}),G0=a((Mu,yu)=>{yu.exports=ls;function ls(_t){return"mat4("+_t[0]+", "+_t[1]+", "+_t[2]+", "+_t[3]+", "+_t[4]+", "+_t[5]+", "+_t[6]+", "+_t[7]+", "+_t[8]+", "+_t[9]+", "+_t[10]+", "+_t[11]+", "+_t[12]+", "+_t[13]+", "+_t[14]+", "+_t[15]+")"}}),Em=a((Mu,yu)=>{yu.exports={create:Fp(),clone:n0(),copy:S0(),identity:C0(),transpose:P0(),invert:k0(),adjoint:T0(),determinant:im(),multiply:am(),translate:bm(),scale:_g(),rotate:b0(),rotateX:U0(),rotateY:mm(),rotateZ:Lm(),fromRotation:Um(),fromRotationTranslation:Hm(),fromScaling:Dm(),fromTranslation:Nm(),fromXRotation:Om(),fromYRotation:Mm(),fromZRotation:cm(),fromQuat:Jm(),frustum:B0(),perspective:Pp(),perspectiveFromFieldOfView:Yp(),ortho:o0(),lookAt:W0(),str:G0()}}),hm=a(Mu=>{var yu=Em();Mu.init2dArray=function(ls,_t){for(var Fn=new Array(ls),xl=0;xl<ls;xl++)Fn[xl]=new Array(_t);return Fn},Mu.transposeRagged=function(ls){var _t=0,Fn=ls.length,xl,Bn;for(xl=0;xl<Fn;xl++)_t=Math.max(_t,ls[xl].length);var yl=new Array(_t);for(xl=0;xl<_t;xl++)for(yl[xl]=new Array(Fn),Bn=0;Bn<Fn;Bn++)yl[xl][Bn]=ls[Bn][xl];return yl},Mu.dot=function(ls,_t){if(!(ls.length&&_t.length)||ls.length!==_t.length)return null;var Fn=ls.length,xl,Bn;if(ls[0].length)for(xl=new Array(Fn),Bn=0;Bn<Fn;Bn++)xl[Bn]=Mu.dot(ls[Bn],_t);else if(_t[0].length){var yl=Mu.transposeRagged(_t);for(xl=new Array(yl.length),Bn=0;Bn<yl.length;Bn++)xl[Bn]=Mu.dot(ls,yl[Bn])}else for(xl=0,Bn=0;Bn<Fn;Bn++)xl+=ls[Bn]*_t[Bn];return xl},Mu.translationMatrix=function(ls,_t){return[[1,0,ls],[0,1,_t],[0,0,1]]},Mu.rotationMatrix=function(ls){var _t=ls*Math.PI/180;return[[Math.cos(_t),-Math.sin(_t),0],[Math.sin(_t),Math.cos(_t),0],[0,0,1]]},Mu.rotationXYMatrix=function(ls,_t,Fn){return Mu.dot(Mu.dot(Mu.translationMatrix(_t,Fn),Mu.rotationMatrix(ls)),Mu.translationMatrix(-_t,-Fn))},Mu.apply3DTransform=function(ls){return function(){var _t=arguments,Fn=arguments.length===1?_t[0]:[_t[0],_t[1],_t[2]||0];return Mu.dot(ls,[Fn[0],Fn[1],Fn[2],1]).slice(0,3)}},Mu.apply2DTransform=function(ls){return function(){var _t=arguments;_t.length===3&&(_t=_t[0]);var Fn=arguments.length===1?_t[0]:[_t[0],_t[1]];return Mu.dot(ls,[Fn[0],Fn[1],1]).slice(0,2)}},Mu.apply2DTransform2=function(ls){var _t=Mu.apply2DTransform(ls);return function(Fn){return _t(Fn.slice(0,2)).concat(_t(Fn.slice(2,4)))}},Mu.convertCssMatrix=function(ls){if(ls){var _t=ls.length;if(_t===16)return ls;if(_t===6)return[ls[0],ls[1],0,0,ls[2],ls[3],0,0,0,0,1,0,ls[4],ls[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},Mu.inverseTransformMatrix=function(ls){var _t=[];return yu.invert(_t,ls),[[_t[0],_t[1],_t[2],_t[3]],[_t[4],_t[5],_t[6],_t[7]],[_t[8],_t[9],_t[10],_t[11]],[_t[12],_t[13],_t[14],_t[15]]]}}),Vp=a((Mu,yu)=>{var ls=g(),_t=ip(),Fn=hm(),xl=Em();function Bn(Bl){var _l;if(typeof Bl=="string"){if(_l=document.getElementById(Bl),_l===null)throw new Error("No DOM element with id '"+Bl+"' exists on the page.");return _l}else if(Bl==null)throw new Error("DOM element provided is null or undefined");return Bl}function yl(Bl){var _l=ls.select(Bl);return _l.node()instanceof HTMLElement&&_l.size()&&_l.classed("js-plotly-plot")}function Sl(Bl){var _l=Bl&&Bl.parentNode;_l&&_l.removeChild(Bl)}function Al(Bl,_l){Et("global",Bl,_l)}function Et(Bl,_l,Rl){var Il="plotly.js-style-"+Bl,Hl=document.getElementById(Il);if(!(Hl&&Hl.matches(".no-inline-styles"))){Hl||(Hl=document.createElement("style"),Hl.setAttribute("id",Il),Hl.appendChild(document.createTextNode("")),document.head.appendChild(Hl));var Kl=Hl.sheet;Kl?Kl.insertRule?Kl.insertRule(_l+"{"+Rl+"}",0):Kl.addRule?Kl.addRule(_l,Rl,0):_t.warn("addStyleRule failed"):_t.warn("Cannot addRelatedStyleRule, probably due to strict CSP...")}}function Pl(Bl){var _l="plotly.js-style-"+Bl,Rl=document.getElementById(_l);Rl&&Sl(Rl)}function El(Bl,_l,Rl,Il,Hl,Kl){var Gu=Il.split(":"),vu=Hl.split(":"),hu="data-btn-style-event-added";Kl||(Kl=document),Kl.querySelectorAll(Bl).forEach(function(Yl){Yl.getAttribute(hu)||(Yl.addEventListener("mouseenter",function(){var $u=this.querySelector(Rl);$u&&($u.style[Gu[0]]=Gu[1])}),Yl.addEventListener("mouseleave",function(){var $u=this.querySelector(Rl);$u&&(_l&&this.matches(_l)?$u.style[Gu[0]]=Gu[1]:$u.style[vu[0]]=vu[1])}),Yl.setAttribute(hu,!0))})}function Fl(Bl){var _l=Nl(Bl),Rl=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return _l.forEach(function(Il){var Hl=$l(Il);if(Hl){var Kl=Fn.convertCssMatrix(Hl);Rl=xl.multiply(Rl,Rl,Kl)}}),Rl}function $l(Bl){var _l=window.getComputedStyle(Bl,null),Rl=_l.getPropertyValue("-webkit-transform")||_l.getPropertyValue("-moz-transform")||_l.getPropertyValue("-ms-transform")||_l.getPropertyValue("-o-transform")||_l.getPropertyValue("transform");return Rl==="none"?null:Rl.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(Il){return+Il})}function Nl(Bl){for(var _l=[];Ll(Bl);)_l.push(Bl),Bl=Bl.parentNode,typeof ShadowRoot=="function"&&Bl instanceof ShadowRoot&&(Bl=Bl.host);return _l}function Ll(Bl){return Bl&&(Bl instanceof Element||Bl instanceof HTMLElement)}function Ol(Bl,_l){return Bl&&_l&&Bl.top===_l.top&&Bl.left===_l.left&&Bl.right===_l.right&&Bl.bottom===_l.bottom}yu.exports={getGraphDiv:Bn,isPlotDiv:yl,removeElement:Sl,addStyleRule:Al,addRelatedStyleRule:Et,deleteRelatedStyleRule:Pl,setStyleOnHover:El,getFullTransformMatrix:Fl,getElementTransformMatrix:$l,getElementAndAncestors:Nl,equalDomRects:Ol}}),j0=a((Mu,yu)=>{yu.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}}),Q0=a((Mu,yu)=>{var ls=In().extendFlat,_t=jt(),Fn={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},xl={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},Bn=Fn.flags.slice().concat(["fullReplot"]),yl=xl.flags.slice().concat("layoutReplot");yu.exports={traces:Fn,layout:xl,traceFlags:function(){return Sl(Bn)},layoutFlags:function(){return Sl(yl)},update:function(Pl,El){var Fl=El.editType;if(Fl&&Fl!=="none")for(var $l=Fl.split("+"),Nl=0;Nl<$l.length;Nl++)Pl[$l[Nl]]=!0},overrideAll:Al};function Sl(Pl){for(var El={},Fl=0;Fl<Pl.length;Fl++)El[Pl[Fl]]=!1;return El}function Al(Pl,El,Fl){var $l=ls({},Pl);for(var Nl in $l){var Ll=$l[Nl];_t(Ll)&&($l[Nl]=Et(Ll,El,Fl,Nl))}return Fl==="from-root"&&($l.editType=El),$l}function Et(Pl,El,Fl,$l){if(Pl.valType){var Nl=ls({},Pl);if(Nl.editType=El,Array.isArray(Pl.items)){Nl.items=new Array(Pl.items.length);for(var Ll=0;Ll<Pl.items.length;Ll++)Nl.items[Ll]=Et(Pl.items[Ll],El)}return Nl}else return Al(Pl,El,$l.charAt(0)==="_"?"nested":"from-root")}}),Cm=a(Mu=>{Mu.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},Mu.pattern={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},path:{valType:"string",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}}),z0=a((Mu,yu)=>{yu.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}}),gm=a(Mu=>{var yu=z0(),ls=yu.FORMAT_LINK,_t=yu.DATE_FORMAT_LINK;function Fn(Bn){var yl=Bn&&Bn.supportOther;return["Variables are inserted using %{variable},",'for example "y: %{y}"'+(yl?" as well as %{xother}, {%_xother}, {%_xother_}, {%xother_}. When showing info for several points, *xother* will be added to those with different x positions from the first point. An underscore before or after *(x|y)other* will add a space on that side, only when this field is shown.":"."),`Numbers are formatted using d3-format's syntax %{variable:d3-format}, for example "Price: %{y:$.2f}".`,ls,"for details on the formatting syntax.",`Dates are formatted using d3-time-format's syntax %{variable|d3-time-format}, for example "Day: %{2019-01-01|%A}".`,_t,"for details on the date formatting syntax."].join(" ")}Mu.templateFormatStringDescription=Fn;function xl(Bn){var yl=Bn.description?" "+Bn.description:"",Sl=Bn.keys||[];if(Sl.length>0){for(var Al=[],Et=0;Et<Sl.length;Et++)Al[Et]="`"+Sl[Et]+"`";yl=yl+"Finally, the template string has access to ",Sl.length===1?yl=yl+"variable "+Al[0]:yl=yl+"variables "+Al.slice(0,-1).join(", ")+" and "+Al.slice(-1)+"."}return yl}Mu.hovertemplateAttrs=function(Bn,yl){Bn=Bn||{},yl=yl||{},xl(yl);var Sl={valType:"string",dflt:"",editType:Bn.editType||"none"};return Bn.arrayOk!==!1&&(Sl.arrayOk=!0),Sl},Mu.texttemplateAttrs=function(Bn,yl){Bn=Bn||{},yl=yl||{},xl(yl);var Sl={valType:"string",dflt:"",editType:Bn.editType||"calc"};return Bn.arrayOk!==!1&&(Sl.arrayOk=!0),Sl},Mu.shapeTexttemplateAttrs=function(Bn,yl){Bn=Bn||{},yl=yl||{},Bn.newshape,xl(yl);var Sl={valType:"string",dflt:"",editType:Bn.editType||"arraydraw"};return Sl}}),Kp=a((Mu,yu)=>{function ls(Rl,Il){return Il?Il.d2l(Rl):Rl}function _t(Rl,Il){return Il?Il.l2d(Rl):Rl}function Fn(Rl){return Rl.x0}function xl(Rl){return Rl.x1}function Bn(Rl){return Rl.y0}function yl(Rl){return Rl.y1}function Sl(Rl){return Rl.x0shift||0}function Al(Rl){return Rl.x1shift||0}function Et(Rl){return Rl.y0shift||0}function Pl(Rl){return Rl.y1shift||0}function El(Rl,Il){return ls(Rl.x1,Il)+Al(Rl)-ls(Rl.x0,Il)-Sl(Rl)}function Fl(Rl,Il,Hl){return ls(Rl.y1,Hl)+Pl(Rl)-ls(Rl.y0,Hl)-Et(Rl)}function $l(Rl,Il){return Math.abs(El(Rl,Il))}function Nl(Rl,Il,Hl){return Math.abs(Fl(Rl,Il,Hl))}function Ll(Rl,Il,Hl){return Rl.type!=="line"?void 0:Math.sqrt(Math.pow(El(Rl,Il),2)+Math.pow(Fl(Rl,Il,Hl),2))}function Ol(Rl,Il){return _t((ls(Rl.x1,Il)+Al(Rl)+ls(Rl.x0,Il)+Sl(Rl))/2,Il)}function Bl(Rl,Il,Hl){return _t((ls(Rl.y1,Hl)+Pl(Rl)+ls(Rl.y0,Hl)+Et(Rl))/2,Hl)}function _l(Rl,Il,Hl){return Rl.type!=="line"?void 0:Fl(Rl,Il,Hl)/El(Rl,Il)}yu.exports={x0:Fn,x1:xl,y0:Bn,y1:yl,slope:_l,dx:El,dy:Fl,width:$l,height:Nl,length:Ll,xcenter:Ol,ycenter:Bl}}),xm=a((Mu,yu)=>{var ls=Q0().overrideAll,_t=mu(),Fn=Ml(),xl=Cm().dash,Bn=In().extendFlat,yl=gm().shapeTexttemplateAttrs,Sl=Kp();yu.exports=ls({newshape:{visible:Bn({},_t.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:Bn({},_t.legend,{}),legendgroup:Bn({},_t.legendgroup,{}),legendgrouptitle:{text:Bn({},_t.legendgrouptitle.text,{}),font:Fn({})},legendrank:Bn({},_t.legendrank,{}),legendwidth:Bn({},_t.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:Bn({},xl,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:Bn({},_t.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:yl({newshape:!0},{keys:Object.keys(Sl)}),font:Fn({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")}),$m=a((Mu,yu)=>{var ls=Cm().dash,_t=In().extendFlat;yu.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:_t({},ls,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}}),pp=a((Mu,yu)=>{yu.exports=function(ls){var _t=ls.editType;return{t:{valType:"number",dflt:0,editType:_t},r:{valType:"number",dflt:0,editType:_t},b:{valType:"number",dflt:0,editType:_t},l:{valType:"number",dflt:0,editType:_t},editType:_t}}}),tm=a((Mu,yu)=>{var ls=Ml(),_t=j0(),Fn=Ju(),xl=xm(),Bn=$m(),yl=pp(),Sl=In().extendFlat,Al=ls({editType:"calc"});Al.family.dflt='"Open Sans", verdana, arial, sans-serif',Al.size.dflt=12,Al.color.dflt=Fn.defaultLine,yu.exports={font:Al,title:{text:{valType:"string",editType:"layoutstyle"},font:ls({editType:"layoutstyle"}),subtitle:{text:{valType:"string",editType:"layoutstyle"},font:ls({editType:"layoutstyle"}),editType:"layoutstyle"},xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:Sl(yl({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:Fn.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:Fn.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:Fn.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:xl.newshape,activeshape:xl.activeshape,newselection:Bn.newselection,activeselection:Bn.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:Sl({},_t.transition,{editType:"none"})}}),em=a(()=>{(function(){if(!document.getElementById("ce8d464691048653ffe3a57c6c18ab566e8366f186677868cf724621a857b4fe")){var Mu=document.createElement("style");Mu.id="ce8d464691048653ffe3a57c6c18ab566e8366f186677868cf724621a857b4fe",Mu.textContent=`.maplibregl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgb(0 0 0/0)}.maplibregl-canvas{left:0;position:absolute;top:0}.maplibregl-map:fullscreen{height:100%;width:100%}.maplibregl-ctrl-group button.maplibregl-ctrl-compass{touch-action:none}.maplibregl-canvas-container.maplibregl-interactive,.maplibregl-ctrl-group button.maplibregl-ctrl-compass{cursor:grab;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-canvas-container.maplibregl-interactive.maplibregl-track-pointer{cursor:pointer}.maplibregl-canvas-container.maplibregl-interactive:active,.maplibregl-ctrl-group button.maplibregl-ctrl-compass:active{cursor:grabbing}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-canvas-container.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:pinch-zoom}.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan,.maplibregl-canvas-container.maplibregl-touch-zoom-rotate.maplibregl-touch-drag-pan .maplibregl-canvas{touch-action:none}.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures,.maplibregl-canvas-container.maplibregl-touch-drag-pan.maplibregl-cooperative-gestures .maplibregl-canvas{touch-action:pan-x pan-y}.maplibregl-ctrl-bottom-left,.maplibregl-ctrl-bottom-right,.maplibregl-ctrl-top-left,.maplibregl-ctrl-top-right{pointer-events:none;position:absolute;z-index:2}.maplibregl-ctrl-top-left{left:0;top:0}.maplibregl-ctrl-top-right{right:0;top:0}.maplibregl-ctrl-bottom-left{bottom:0;left:0}.maplibregl-ctrl-bottom-right{bottom:0;right:0}.maplibregl-ctrl{clear:both;pointer-events:auto;transform:translate(0)}.maplibregl-ctrl-top-left .maplibregl-ctrl{float:left;margin:10px 0 0 10px}.maplibregl-ctrl-top-right .maplibregl-ctrl{float:right;margin:10px 10px 0 0}.maplibregl-ctrl-bottom-left .maplibregl-ctrl{float:left;margin:0 0 10px 10px}.maplibregl-ctrl-bottom-right .maplibregl-ctrl{float:right;margin:0 10px 10px 0}.maplibregl-ctrl-group{background:#fff;border-radius:4px}.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (forced-colors:active){.maplibregl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.maplibregl-ctrl-group button{background-color:transparent;border:0;box-sizing:border-box;cursor:pointer;display:block;height:29px;outline:none;padding:0;width:29px}.maplibregl-ctrl-group button+button{border-top:1px solid #ddd}.maplibregl-ctrl button .maplibregl-ctrl-icon{background-position:50%;background-repeat:no-repeat;display:block;height:100%;width:100%}@media (forced-colors:active){.maplibregl-ctrl-icon{background-color:transparent}.maplibregl-ctrl-group button+button{border-top:1px solid ButtonText}}.maplibregl-ctrl button::-moz-focus-inner{border:0;padding:0}.maplibregl-ctrl-attrib-button:focus,.maplibregl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl button:disabled{cursor:not-allowed}.maplibregl-ctrl button:disabled .maplibregl-ctrl-icon{opacity:.25}.maplibregl-ctrl button:not(:disabled):hover{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.maplibregl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.maplibregl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.maplibregl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.maplibregl-ctrl-group button:focus:only-child{border-radius:inherit}.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-zoom-out .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-zoom-in .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-fullscreen .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-shrink .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-compass .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 29 29'%3E%3Cpath d='m10.5 14 4-8 4 8z'/%3E%3Cpath fill='%23ccc' d='m10.5 16 4 8 4-8z'/%3E%3C/svg%3E")}}.maplibregl-ctrl button.maplibregl-ctrl-terrain .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%23333' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-terrain-enabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='22' height='22' fill='%2333b5e5' viewBox='0 0 22 22'%3E%3Cpath d='m1.754 13.406 4.453-4.851 3.09 3.09 3.281 3.277.969-.969-3.309-3.312 3.844-4.121 6.148 6.886h1.082v-.855l-7.207-8.07-4.84 5.187L6.169 6.57l-5.48 5.965v.871ZM.688 16.844h20.625v1.375H.688Zm0 0'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23333' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23aaa' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-waiting .maplibregl-ctrl-icon{animation:maplibregl-spin 2s linear infinite}@media (forced-colors:active){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23fff' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23999' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-active-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e58978' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%2333b5e5' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate.maplibregl-ctrl-geolocate-background-error .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23e54e33' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl button.maplibregl-ctrl-geolocate .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.maplibregl-ctrl button.maplibregl-ctrl-geolocate:disabled .maplibregl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='29' height='29' fill='%23666' viewBox='0 0 20 20'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 0 0 5.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 0 0 9 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 0 0 3.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0 0 11 5.1V5s0-1-1-1m0 2.5a3.5 3.5 0 1 1 0 7 3.5 3.5 0 1 1 0-7'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath fill='red' d='m14 5 1 1-9 9-1-1z'/%3E%3C/svg%3E")}}@keyframes maplibregl-spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E");background-repeat:no-repeat;cursor:pointer;display:block;height:23px;margin:0 0 -4px -4px;overflow:hidden;width:88px}a.maplibregl-ctrl-logo.maplibregl-compact{width:14px}@media (forced-colors:active){a.maplibregl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}@media (forced-colors:active) and (prefers-color-scheme:light){a.maplibregl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='88' height='23' fill='none'%3E%3Cpath fill='%23000' fill-opacity='.4' fill-rule='evenodd' d='M17.408 16.796h-1.827l2.501-12.095h.198l3.324 6.533.988 2.19.988-2.19 3.258-6.533h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.929 5.644h-.098l-2.914-5.644-.757-1.71-.345 1.71zm1.958-3.42-.726 3.663a1.255 1.255 0 0 1-1.232 1.011h-1.827a1.255 1.255 0 0 1-1.229-1.509l2.501-12.095a1.255 1.255 0 0 1 1.23-1.001h.197a1.25 1.25 0 0 1 1.12.685l3.19 6.273 3.125-6.263a1.25 1.25 0 0 1 1.123-.695h.181a1.255 1.255 0 0 1 1.227.991l1.443 6.71a5 5 0 0 1 .314-.787l.009-.016a4.6 4.6 0 0 1 1.777-1.887c.782-.46 1.668-.667 2.611-.667a4.6 4.6 0 0 1 1.7.32l.306.134c.21-.16.474-.256.759-.256h1.694a1.255 1.255 0 0 1 1.212.925 1.255 1.255 0 0 1 1.212-.925h1.711c.284 0 .545.094.755.252.613-.3 1.312-.45 2.075-.45 1.356 0 2.557.445 3.482 1.4q.47.48.763 1.064V4.701a1.255 1.255 0 0 1 1.255-1.255h1.86A1.255 1.255 0 0 1 54.44 4.7v9.194h2.217c.19 0 .37.043.532.118v-4.77c0-.356.147-.678.385-.906a2.42 2.42 0 0 1-.682-1.71c0-.665.267-1.253.735-1.7a2.45 2.45 0 0 1 1.722-.674 2.43 2.43 0 0 1 1.705.675q.318.302.504.683V4.7a1.255 1.255 0 0 1 1.255-1.255h1.744A1.255 1.255 0 0 1 65.812 4.7v3.335a4.8 4.8 0 0 1 1.526-.246c.938 0 1.817.214 2.59.69a4.47 4.47 0 0 1 1.67 1.743v-.98a1.255 1.255 0 0 1 1.256-1.256h1.777c.233 0 .451.064.639.174a3.4 3.4 0 0 1 1.567-.372c.346 0 .861.02 1.285.232a1.25 1.25 0 0 1 .689 1.004 4.7 4.7 0 0 1 .853-.588c.795-.44 1.675-.647 2.61-.647 1.385 0 2.65.39 3.525 1.396.836.938 1.168 2.173 1.168 3.528q-.001.515-.056 1.051a1.255 1.255 0 0 1-.947 1.09l.408.952a1.255 1.255 0 0 1-.477 1.552c-.418.268-.92.463-1.458.612-.613.171-1.304.244-2.049.244-1.06 0-2.043-.207-2.886-.698l-.015-.008c-.798-.48-1.419-1.135-1.818-1.963l-.004-.008a5.8 5.8 0 0 1-.548-2.512q0-.429.053-.843a1.3 1.3 0 0 1-.333-.086l-.166-.004c-.223 0-.426.062-.643.228-.03.024-.142.139-.142.59v3.883a1.255 1.255 0 0 1-1.256 1.256h-1.777a1.255 1.255 0 0 1-1.256-1.256V15.69l-.032.057a4.8 4.8 0 0 1-1.86 1.833 5.04 5.04 0 0 1-2.484.634 4.5 4.5 0 0 1-1.935-.424 1.25 1.25 0 0 1-.764.258h-1.71a1.255 1.255 0 0 1-1.256-1.255V7.687a2.4 2.4 0 0 1-.428.625c.253.23.412.561.412.93v7.553a1.255 1.255 0 0 1-1.256 1.255h-1.843a1.25 1.25 0 0 1-.894-.373c-.228.23-.544.373-.894.373H51.32a1.255 1.255 0 0 1-1.256-1.255v-1.251l-.061.117a4.7 4.7 0 0 1-1.782 1.884 4.77 4.77 0 0 1-2.485.67 5.6 5.6 0 0 1-1.485-.188l.009 2.764a1.255 1.255 0 0 1-1.255 1.259h-1.729a1.255 1.255 0 0 1-1.255-1.255v-3.537a1.255 1.255 0 0 1-1.167.793h-1.679a1.25 1.25 0 0 1-.77-.263 4.5 4.5 0 0 1-1.945.429c-.885 0-1.724-.21-2.495-.632l-.017-.01a5 5 0 0 1-1.081-.836 1.255 1.255 0 0 1-1.254 1.312h-1.81a1.255 1.255 0 0 1-1.228-.99l-.782-3.625-2.044 3.939a1.25 1.25 0 0 1-1.115.676h-.098a1.25 1.25 0 0 1-1.116-.68l-2.061-3.994zM35.92 16.63l.207-.114.223-.15q.493-.356.735-.785l.061-.118.033 1.332h1.678V9.242h-1.694l-.033 1.267q-.133-.329-.526-.658l-.032-.028a3.2 3.2 0 0 0-.668-.428l-.27-.12a3.3 3.3 0 0 0-1.235-.23q-1.136-.001-1.974.493a3.36 3.36 0 0 0-1.3 1.382q-.445.89-.444 2.074 0 1.2.51 2.107a3.8 3.8 0 0 0 1.382 1.381 3.9 3.9 0 0 0 1.893.477q.795 0 1.455-.33zm-2.789-5.38q-.576.675-.575 1.762 0 1.102.559 1.794.576.675 1.645.675a2.25 2.25 0 0 0 .934-.19 2.2 2.2 0 0 0 .468-.29l.178-.161a2.2 2.2 0 0 0 .397-.561q.244-.5.244-1.15v-.115q0-.708-.296-1.267l-.043-.077a2.2 2.2 0 0 0-.633-.709l-.13-.086-.047-.028a2.1 2.1 0 0 0-1.073-.285q-1.052 0-1.629.692zm2.316 2.706c.163-.17.28-.407.28-.83v-.114c0-.292-.06-.508-.15-.68a.96.96 0 0 0-.353-.389.85.85 0 0 0-.464-.127c-.4 0-.56.114-.664.239l-.01.012c-.148.174-.275.45-.275.945 0 .506.122.801.27.99.097.11.266.224.68.224.303 0 .504-.09.687-.269zm7.545 1.705a2.6 2.6 0 0 0 .331.423q.319.33.755.548l.173.074q.65.255 1.49.255 1.02 0 1.844-.493a3.45 3.45 0 0 0 1.316-1.4q.493-.904.493-2.089 0-1.909-.988-2.913-.988-1.02-2.584-1.02-.898 0-1.575.347a3 3 0 0 0-.415.262l-.199.166a3.4 3.4 0 0 0-.64.82V9.242h-1.712v11.553h1.729l-.017-5.134zm.53-1.138q.206.29.48.5l.155.11.053.034q.51.296 1.119.297 1.07 0 1.645-.675.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.435 0-.835.16a2 2 0 0 0-.284.136 2 2 0 0 0-.363.254 2.2 2.2 0 0 0-.46.569l-.082.162a2.6 2.6 0 0 0-.213 1.072v.115q0 .707.296 1.267l.135.211zm.964-.818a1.1 1.1 0 0 0 .367.385.94.94 0 0 0 .476.118c.423 0 .59-.117.687-.23.159-.194.28-.478.28-.95 0-.53-.133-.8-.266-.952l-.021-.025c-.078-.094-.231-.221-.68-.221a1 1 0 0 0-.503.135l-.012.007a.86.86 0 0 0-.335.343c-.073.133-.132.324-.132.614v.115a1.4 1.4 0 0 0 .14.66zm15.7-6.222q.347-.346.346-.856a1.05 1.05 0 0 0-.345-.79 1.18 1.18 0 0 0-.84-.329q-.51 0-.855.33a1.05 1.05 0 0 0-.346.79q0 .51.346.855.345.346.856.346.51 0 .839-.346zm4.337 9.314.033-1.332q.191.403.59.747l.098.081a4 4 0 0 0 .316.224l.223.122a3.2 3.2 0 0 0 1.44.322 3.8 3.8 0 0 0 1.875-.477 3.5 3.5 0 0 0 1.382-1.366q.527-.89.526-2.09 0-1.184-.444-2.073a3.24 3.24 0 0 0-1.283-1.399q-.823-.51-1.942-.51a3.5 3.5 0 0 0-1.527.344l-.086.043-.165.09a3 3 0 0 0-.33.214q-.432.315-.656.707a2 2 0 0 0-.099.198l.082-1.283V4.701h-1.744v12.095zm.473-2.509a2.5 2.5 0 0 0 .566.7q.117.098.245.18l.144.08a2.1 2.1 0 0 0 .975.232q1.07 0 1.645-.675.576-.69.576-1.778 0-1.102-.576-1.777-.56-.691-1.645-.692a2.2 2.2 0 0 0-1.015.235q-.22.113-.415.282l-.15.142a2.1 2.1 0 0 0-.42.594q-.223.479-.223 1.1v.115q0 .705.293 1.26zm2.616-.293c.157-.191.28-.479.28-.967 0-.51-.13-.79-.276-.961l-.021-.026c-.082-.1-.232-.225-.67-.225a.87.87 0 0 0-.681.279l-.012.011c-.154.155-.274.38-.274.807v.115c0 .285.057.499.144.669a1.1 1.1 0 0 0 .367.405c.137.082.28.123.455.123.423 0 .59-.118.686-.23zm8.266-3.013q.345-.13.724-.14l.069-.002q.493 0 .642.099l.247-1.794q-.196-.099-.717-.099a2.3 2.3 0 0 0-.545.063 2 2 0 0 0-.411.148 2.2 2.2 0 0 0-.4.249 2.5 2.5 0 0 0-.485.499 2.7 2.7 0 0 0-.32.581l-.05.137v-1.48h-1.778v7.553h1.777v-3.884q0-.546.159-.943a1.5 1.5 0 0 1 .466-.636 2.5 2.5 0 0 1 .399-.253 2 2 0 0 1 .224-.099zm9.784 2.656.05-.922q0-1.743-.856-2.698-.838-.97-2.584-.97-1.119-.001-2.007.493a3.46 3.46 0 0 0-1.4 1.382q-.493.906-.493 2.106 0 1.07.428 1.975.428.89 1.332 1.432.906.526 2.255.526.973 0 1.668-.185l.044-.012.135-.04q.613-.184.984-.421l-.542-1.267q-.3.162-.642.274l-.297.087q-.51.131-1.3.131-.954 0-1.497-.444a1.6 1.6 0 0 1-.192-.193q-.366-.44-.512-1.234l-.004-.021zm-5.427-1.256-.003.022h3.752v-.138q-.011-.727-.288-1.118a1 1 0 0 0-.156-.176q-.46-.428-1.316-.428-.986 0-1.494.604-.379.45-.494 1.234zm-27.053 2.77V4.7h-1.86v12.095h5.333V15.15zm7.103-5.908v7.553h-1.843V9.242h1.843z'/%3E%3Cpath fill='%23fff' d='m19.63 11.151-.757-1.71-.345 1.71-1.12 5.644h-1.827L18.083 4.7h.197l3.325 6.533.988 2.19.988-2.19L26.839 4.7h.181l2.6 12.095h-1.81l-1.218-5.644-.362-1.71-.658 1.71-2.93 5.644h-.098l-2.913-5.644zm14.836 5.81q-1.02 0-1.893-.478a3.8 3.8 0 0 1-1.381-1.382q-.51-.906-.51-2.106 0-1.185.444-2.074a3.36 3.36 0 0 1 1.3-1.382q.839-.494 1.974-.494a3.3 3.3 0 0 1 1.234.231 3.3 3.3 0 0 1 .97.575q.396.33.527.659l.033-1.267h1.694v7.553H37.18l-.033-1.332q-.279.593-1.02 1.053a3.17 3.17 0 0 1-1.662.444zm.296-1.482q.938 0 1.58-.642.642-.66.642-1.711v-.115q0-.708-.296-1.267a2.2 2.2 0 0 0-.807-.872 2.1 2.1 0 0 0-1.119-.313q-1.053 0-1.629.692-.575.675-.575 1.76 0 1.103.559 1.795.577.675 1.645.675zm6.521-6.237h1.711v1.4q.906-1.597 2.83-1.597 1.596 0 2.584 1.02.988 1.005.988 2.914 0 1.185-.493 2.09a3.46 3.46 0 0 1-1.316 1.399 3.5 3.5 0 0 1-1.844.493q-.954 0-1.662-.329a2.67 2.67 0 0 1-1.086-.97l.017 5.134h-1.728zm4.048 6.22q1.07 0 1.645-.674.577-.69.576-1.762 0-1.119-.576-1.777-.558-.675-1.645-.675-.592 0-1.12.296-.51.28-.822.823-.296.527-.296 1.234v.115q0 .708.296 1.267.313.543.823.855.51.296 1.119.297z'/%3E%3Cpath fill='%23e1e3e9' d='M51.325 4.7h1.86v10.45h3.473v1.646h-5.333zm7.12 4.542h1.843v7.553h-1.843zm.905-1.415a1.16 1.16 0 0 1-.856-.346 1.17 1.17 0 0 1-.346-.856 1.05 1.05 0 0 1 .346-.79q.346-.329.856-.329.494 0 .839.33a1.05 1.05 0 0 1 .345.79 1.16 1.16 0 0 1-.345.855q-.33.346-.84.346zm7.875 9.133a3.17 3.17 0 0 1-1.662-.444q-.723-.46-1.004-1.053l-.033 1.332h-1.71V4.701h1.743v4.657l-.082 1.283q.279-.658 1.086-1.119a3.5 3.5 0 0 1 1.778-.477q1.119 0 1.942.51a3.24 3.24 0 0 1 1.283 1.4q.445.888.444 2.072 0 1.201-.526 2.09a3.5 3.5 0 0 1-1.382 1.366 3.8 3.8 0 0 1-1.876.477zm-.296-1.481q1.069 0 1.645-.675.577-.69.577-1.778 0-1.102-.577-1.776-.56-.691-1.645-.692a2.12 2.12 0 0 0-1.58.659q-.642.641-.642 1.694v.115q0 .71.296 1.267a2.4 2.4 0 0 0 .807.872 2.1 2.1 0 0 0 1.119.313zm5.927-6.237h1.777v1.481q.263-.757.856-1.217a2.14 2.14 0 0 1 1.349-.46q.527 0 .724.098l-.247 1.794q-.149-.099-.642-.099-.774 0-1.416.494-.626.493-.626 1.58v3.883h-1.777V9.242zm9.534 7.718q-1.35 0-2.255-.526-.904-.543-1.332-1.432a4.6 4.6 0 0 1-.428-1.975q0-1.2.493-2.106a3.46 3.46 0 0 1 1.4-1.382q.889-.495 2.007-.494 1.744 0 2.584.97.855.956.856 2.7 0 .444-.05.92h-5.43q.18 1.005.708 1.45.542.443 1.497.443.79 0 1.3-.131a4 4 0 0 0 .938-.362l.542 1.267q-.411.263-1.119.46-.708.198-1.711.197zm1.596-4.558q.016-1.02-.444-1.432-.46-.428-1.316-.428-1.728 0-1.991 1.86z'/%3E%3Cpath d='M5.074 15.948a.484.657 0 0 0-.486.659v1.84a.484.657 0 0 0 .486.659h4.101a.484.657 0 0 0 .486-.659v-1.84a.484.657 0 0 0-.486-.659zm3.56 1.16H5.617v.838h3.017z' style='fill:%23fff;fill-rule:evenodd;stroke-width:1.03600001'/%3E%3Cg style='stroke-width:1.12603545'%3E%3Cpath d='M-9.408-1.416c-3.833-.025-7.056 2.912-7.08 6.615-.02 3.08 1.653 4.832 3.107 6.268.903.892 1.721 1.74 2.32 2.902l-.525-.004c-.543-.003-.992.304-1.24.639a1.87 1.87 0 0 0-.362 1.121l-.011 1.877c-.003.402.104.787.347 1.125.244.338.688.653 1.23.656l4.142.028c.542.003.99-.306 1.238-.641a1.87 1.87 0 0 0 .363-1.121l.012-1.875a1.87 1.87 0 0 0-.348-1.127c-.243-.338-.688-.653-1.23-.656l-.518-.004c.597-1.145 1.425-1.983 2.348-2.87 1.473-1.414 3.18-3.149 3.2-6.226-.016-3.59-2.923-6.684-6.993-6.707m-.006 1.1v.002c3.274.02 5.92 2.532 5.9 5.6-.017 2.706-1.39 4.026-2.863 5.44-1.034.994-2.118 2.033-2.814 3.633-.018.041-.052.055-.075.065q-.013.004-.02.01a.34.34 0 0 1-.226.084.34.34 0 0 1-.224-.086l-.092-.077c-.699-1.615-1.768-2.669-2.781-3.67-1.454-1.435-2.797-2.762-2.78-5.478.02-3.067 2.7-5.545 5.975-5.523m-.02 2.826c-1.62-.01-2.944 1.315-2.955 2.96-.01 1.646 1.295 2.988 2.916 2.999h.002c1.621.01 2.943-1.316 2.953-2.961.011-1.646-1.294-2.988-2.916-2.998m-.005 1.1c1.017.006 1.829.83 1.822 1.89s-.83 1.874-1.848 1.867c-1.018-.006-1.829-.83-1.822-1.89s.83-1.874 1.848-1.868m-2.155 11.857 4.14.025c.271.002.49.305.487.676l-.013 1.875c-.003.37-.224.67-.495.668l-4.14-.025c-.27-.002-.487-.306-.485-.676l.012-1.875c.003-.37.224-.67.494-.668' style='color:%23000;font-style:normal;font-variant:normal;font-weight:400;font-stretch:normal;font-size:medium;line-height:normal;font-family:sans-serif;font-variant-ligatures:normal;font-variant-position:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-alternates:normal;font-feature-settings:normal;text-indent:0;text-align:start;text-decoration:none;text-decoration-line:none;text-decoration-style:solid;text-decoration-color:%23000;letter-spacing:normal;word-spacing:normal;text-transform:none;writing-mode:lr-tb;direction:ltr;text-orientation:mixed;dominant-baseline:auto;baseline-shift:baseline;text-anchor:start;white-space:normal;shape-padding:0;clip-rule:evenodd;display:inline;overflow:visible;visibility:visible;opacity:1;isolation:auto;mix-blend-mode:normal;color-interpolation:sRGB;color-interpolation-filters:linearRGB;solid-color:%23000;solid-opacity:1;vector-effect:none;fill:%23000;fill-opacity:.4;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-linecap:butt;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:1;color-rendering:auto;image-rendering:auto;shape-rendering:auto;text-rendering:auto' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-9.415-.316C-12.69-.338-15.37 2.14-15.39 5.207c-.017 2.716 1.326 4.041 2.78 5.477 1.013 1 2.081 2.055 2.78 3.67l.092.076a.34.34 0 0 0 .225.086.34.34 0 0 0 .227-.083l.019-.01c.022-.009.057-.024.074-.064.697-1.6 1.78-2.64 2.814-3.634 1.473-1.414 2.847-2.733 2.864-5.44.02-3.067-2.627-5.58-5.901-5.601m-.057 8.784c1.621.011 2.944-1.315 2.955-2.96.01-1.646-1.295-2.988-2.916-2.999-1.622-.01-2.945 1.315-2.955 2.96s1.295 2.989 2.916 3' style='clip-rule:evenodd;fill:%23e1e3e9;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3Cpath d='M-11.594 15.465c-.27-.002-.492.297-.494.668l-.012 1.876c-.003.371.214.673.485.675l4.14.027c.271.002.492-.298.495-.668l.012-1.877c.003-.37-.215-.672-.485-.674z' style='clip-rule:evenodd;fill:%23fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:2.47727823;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:.4' transform='translate(15.553 2.85)scale(.88807)'/%3E%3C/g%3E%3C/svg%3E")}}.maplibregl-ctrl.maplibregl-ctrl-attrib{background-color:hsla(0,0%,100%,.5);margin:0;padding:0 5px}@media screen{.maplibregl-ctrl-attrib.maplibregl-compact{background-color:#fff;border-radius:12px;box-sizing:content-box;color:#000;margin:10px;min-height:20px;padding:2px 24px 2px 0;position:relative}.maplibregl-ctrl-attrib.maplibregl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact-show,.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact-show{border-radius:12px;padding:2px 8px 2px 28px}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-inner{display:none}.maplibregl-ctrl-attrib-button{background-color:hsla(0,0%,100%,.5);background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E");border:0;border-radius:12px;box-sizing:border-box;cursor:pointer;display:none;height:24px;outline:none;position:absolute;right:0;top:0;width:24px}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;list-style:none}.maplibregl-ctrl-attrib summary.maplibregl-ctrl-attrib-button::-webkit-details-marker{display:none}.maplibregl-ctrl-bottom-left .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-top-left .maplibregl-ctrl-attrib-button{left:0}.maplibregl-ctrl-attrib.maplibregl-compact .maplibregl-ctrl-attrib-button,.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-inner{display:block}.maplibregl-ctrl-attrib.maplibregl-compact-show .maplibregl-ctrl-attrib-button{background-color:rgb(0 0 0/5%)}.maplibregl-ctrl-bottom-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;right:0}.maplibregl-ctrl-top-right>.maplibregl-ctrl-attrib.maplibregl-compact:after{right:0;top:0}.maplibregl-ctrl-top-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{left:0;top:0}.maplibregl-ctrl-bottom-left>.maplibregl-ctrl-attrib.maplibregl-compact:after{bottom:0;left:0}}@media screen and (forced-colors:active){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill='%23fff' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}@media screen and (forced-colors:active) and (prefers-color-scheme:light){.maplibregl-ctrl-attrib.maplibregl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' fill-rule='evenodd' viewBox='0 0 20 20'%3E%3Cpath d='M4 10a6 6 0 1 0 12 0 6 6 0 1 0-12 0m5-3a1 1 0 1 0 2 0 1 1 0 1 0-2 0m0 3a1 1 0 1 1 2 0v3a1 1 0 1 1-2 0'/%3E%3C/svg%3E")}}.maplibregl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.maplibregl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.maplibregl-attrib-empty{display:none}.maplibregl-ctrl-scale{background-color:hsla(0,0%,100%,.75);border:2px solid #333;border-top:#333;box-sizing:border-box;color:#333;font-size:10px;padding:0 5px}.maplibregl-popup{display:flex;left:0;pointer-events:none;position:absolute;top:0;will-change:transform}.maplibregl-popup-anchor-top,.maplibregl-popup-anchor-top-left,.maplibregl-popup-anchor-top-right{flex-direction:column}.maplibregl-popup-anchor-bottom,.maplibregl-popup-anchor-bottom-left,.maplibregl-popup-anchor-bottom-right{flex-direction:column-reverse}.maplibregl-popup-anchor-left{flex-direction:row}.maplibregl-popup-anchor-right{flex-direction:row-reverse}.maplibregl-popup-tip{border:10px solid transparent;height:0;width:0;z-index:1}.maplibregl-popup-anchor-top .maplibregl-popup-tip{align-self:center;border-bottom-color:#fff;border-top:none}.maplibregl-popup-anchor-top-left .maplibregl-popup-tip{align-self:flex-start;border-bottom-color:#fff;border-left:none;border-top:none}.maplibregl-popup-anchor-top-right .maplibregl-popup-tip{align-self:flex-end;border-bottom-color:#fff;border-right:none;border-top:none}.maplibregl-popup-anchor-bottom .maplibregl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.maplibregl-popup-anchor-left .maplibregl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.maplibregl-popup-anchor-right .maplibregl-popup-tip{align-self:center;border-left-color:#fff;border-right:none}.maplibregl-popup-close-button{background-color:transparent;border:0;border-radius:0 3px 0 0;cursor:pointer;position:absolute;right:0;top:0}.maplibregl-popup-close-button:hover{background-color:rgb(0 0 0/5%)}.maplibregl-popup-content{background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:15px 10px;pointer-events:auto;position:relative}.maplibregl-popup-anchor-top-left .maplibregl-popup-content{border-top-left-radius:0}.maplibregl-popup-anchor-top-right .maplibregl-popup-content{border-top-right-radius:0}.maplibregl-popup-anchor-bottom-left .maplibregl-popup-content{border-bottom-left-radius:0}.maplibregl-popup-anchor-bottom-right .maplibregl-popup-content{border-bottom-right-radius:0}.maplibregl-popup-track-pointer{display:none}.maplibregl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.maplibregl-map:hover .maplibregl-popup-track-pointer{display:flex}.maplibregl-map:active .maplibregl-popup-track-pointer{display:none}.maplibregl-marker{left:0;position:absolute;top:0;transition:opacity .2s;will-change:transform}.maplibregl-user-location-dot,.maplibregl-user-location-dot:before{background-color:#1da1f2;border-radius:50%;height:15px;width:15px}.maplibregl-user-location-dot:before{animation:maplibregl-user-location-dot-pulse 2s infinite;content:"";position:absolute}.maplibregl-user-location-dot:after{border:2px solid #fff;border-radius:50%;box-shadow:0 0 3px rgba(0,0,0,.35);box-sizing:border-box;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px}@keyframes maplibregl-user-location-dot-pulse{0%{opacity:1;transform:scale(1)}70%{opacity:0;transform:scale(3)}to{opacity:0;transform:scale(1)}}.maplibregl-user-location-dot-stale{background-color:#aaa}.maplibregl-user-location-dot-stale:after{display:none}.maplibregl-user-location-accuracy-circle{background-color:#1da1f233;border-radius:100%;height:1px;width:1px}.maplibregl-crosshair,.maplibregl-crosshair .maplibregl-interactive,.maplibregl-crosshair .maplibregl-interactive:active{cursor:crosshair}.maplibregl-boxzoom{background:#fff;border:2px dotted #202020;height:0;left:0;opacity:.5;position:absolute;top:0;width:0}.maplibregl-cooperative-gesture-screen{align-items:center;background:rgba(0,0,0,.4);color:#fff;display:flex;font-size:1.4em;inset:0;justify-content:center;line-height:1.2;opacity:0;padding:1rem;pointer-events:none;position:absolute;transition:opacity 1s ease 1s;z-index:99999}.maplibregl-cooperative-gesture-screen.maplibregl-show{opacity:1;transition:opacity .05s}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:none}@media (hover:none),(width <= 480px){.maplibregl-cooperative-gesture-screen .maplibregl-desktop-message{display:none}.maplibregl-cooperative-gesture-screen .maplibregl-mobile-message{display:block}}.maplibregl-pseudo-fullscreen{height:100%!important;left:0!important;position:fixed!important;top:0!important;width:100%!important;z-index:99999}`,document.head.appendChild(Mu)}})()}),Gp=a(Mu=>{var yu=ip(),ls=gp(),_t=Dp(),Fn=jt(),xl=Vp().addStyleRule,Bn=In(),yl=mu(),Sl=tm(),Al=Bn.extendFlat,Et=Bn.extendDeepAll;Mu.modules={},Mu.allCategories={},Mu.allTypes=[],Mu.subplotsRegistry={},Mu.componentsRegistry={},Mu.layoutArrayContainers=[],Mu.layoutArrayRegexes=[],Mu.traceLayoutAttributes={},Mu.localeRegistry={},Mu.apiMethodRegistry={},Mu.collectableSubplotTypes=null,Mu.register=function(Rl){if(Mu.collectableSubplotTypes=null,Rl)Rl&&!Array.isArray(Rl)&&(Rl=[Rl]);else throw new Error("No argument passed to Plotly.register.");for(var Il=0;Il<Rl.length;Il++){var Hl=Rl[Il];if(!Hl)throw new Error("Invalid module was attempted to be registered!");switch(Hl.moduleType){case"trace":Pl(Hl);break;case"transform":$l(Hl);break;case"component":Fl(Hl);break;case"locale":Nl(Hl);break;case"apiMethod":var Kl=Hl.name;Mu.apiMethodRegistry[Kl]=Hl.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},Mu.getModule=function(Rl){var Il=Mu.modules[_l(Rl)];return Il?Il._module:!1},Mu.traceIs=function(Rl,Il){if(Rl=_l(Rl),Rl==="various")return!1;var Hl=Mu.modules[Rl];return Hl||(Rl&&yu.log("Unrecognized trace type "+Rl+"."),Hl=Mu.modules[yl.type.dflt]),!!Hl.categories[Il]},Mu.getComponentMethod=function(Rl,Il){var Hl=Mu.componentsRegistry[Rl];return Hl&&Hl[Il]||ls},Mu.call=function(){var Rl=arguments[0],Il=[].slice.call(arguments,1);return Mu.apiMethodRegistry[Rl].apply(null,Il)};function Pl(Rl){var Il=Rl.name,Hl=Rl.categories,Kl=Rl.meta;if(Mu.modules[Il]){yu.log("Type "+Il+" already registered");return}Mu.subplotsRegistry[Rl.basePlotModule.name]||El(Rl.basePlotModule);for(var Gu={},vu=0;vu<Hl.length;vu++)Gu[Hl[vu]]=!0,Mu.allCategories[Hl[vu]]=!0;Mu.modules[Il]={_module:Rl,categories:Gu},Kl&&Object.keys(Kl).length&&(Mu.modules[Il].meta=Kl),Mu.allTypes.push(Il);for(var hu in Mu.componentsRegistry)Ol(hu,Il);Rl.layoutAttributes&&Al(Mu.traceLayoutAttributes,Rl.layoutAttributes);var Yl=Rl.basePlotModule,$u=Yl.name;if($u==="mapbox"){var bu=Yl.constants.styleRules;for(var Lu in bu)xl(".js-plotly-plot .plotly .mapboxgl-"+Lu,bu[Lu])}$u==="map"&&em(),($u==="geo"||$u==="mapbox"||$u==="map")&&window.PlotlyGeoAssets===void 0&&(window.PlotlyGeoAssets={topojson:{}})}function El(Rl){var Il=Rl.name;if(Mu.subplotsRegistry[Il]){yu.log("Plot type "+Il+" already registered.");return}Ll(Rl),Mu.subplotsRegistry[Il]=Rl;for(var Hl in Mu.componentsRegistry)Bl(Hl,Rl.name)}function Fl(Rl){if(typeof Rl.name!="string")throw new Error("Component module *name* must be a string.");var Il=Rl.name;Mu.componentsRegistry[Il]=Rl,Rl.layoutAttributes&&(Rl.layoutAttributes._isLinkedToArray&&_t(Mu.layoutArrayContainers,Il),Ll(Rl));for(var Hl in Mu.modules)Ol(Il,Hl);for(var Kl in Mu.subplotsRegistry)Bl(Il,Kl);Rl.schema&&Rl.schema.layout&&Et(Sl,Rl.schema.layout)}function $l(Rl){if(typeof Rl.name!="string")throw new Error("Transform module *name* must be a string.");var Il="Transform module "+Rl.name,Hl=typeof Rl.transform=="function",Kl=typeof Rl.calcTransform=="function";if(!Hl&&!Kl)throw new Error(Il+" is missing a *transform* or *calcTransform* method.");Hl&&Kl&&yu.log([Il+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),Fn(Rl.attributes)||yu.log(Il+" registered without an *attributes* object."),typeof Rl.supplyDefaults!="function"&&yu.log(Il+" registered without a *supplyDefaults* method.")}function Nl(Rl){var Il=Rl.name,Hl=Il.split("-")[0],Kl=Rl.dictionary,Gu=Rl.format,vu=Kl&&Object.keys(Kl).length,hu=Gu&&Object.keys(Gu).length,Yl=Mu.localeRegistry,$u=Yl[Il];if($u||(Yl[Il]=$u={}),Hl!==Il){var bu=Yl[Hl];bu||(Yl[Hl]=bu={}),vu&&bu.dictionary===$u.dictionary&&(bu.dictionary=Kl),hu&&bu.format===$u.format&&(bu.format=Gu)}vu&&($u.dictionary=Kl),hu&&($u.format=Gu)}function Ll(Rl){if(Rl.layoutAttributes){var Il=Rl.layoutAttributes._arrayAttrRegexps;if(Il)for(var Hl=0;Hl<Il.length;Hl++)_t(Mu.layoutArrayRegexes,Il[Hl])}}function Ol(Rl,Il){var Hl=Mu.componentsRegistry[Rl].schema;if(!(!Hl||!Hl.traces)){var Kl=Hl.traces[Il];Kl&&Et(Mu.modules[Il]._module.attributes,Kl)}}function Bl(Rl,Il){var Hl=Mu.componentsRegistry[Rl].schema;if(!(!Hl||!Hl.subplots)){var Kl=Mu.subplotsRegistry[Il],Gu=Kl.layoutAttributes,vu=Kl.attr==="subplot"?Kl.name:Kl.attr;Array.isArray(vu)&&(vu=vu[0]);var hu=Hl.subplots[vu];Gu&&hu&&Et(Gu,hu)}}function _l(Rl){return typeof Rl=="object"&&(Rl=Rl.type),Rl}}),O0=a(Mu=>{var yu=_().timeFormat,ls=rt(),_t=ip(),Fn=Tl().mod,xl=nt(),Bn=xl.BADNUM,yl=xl.ONEDAY,Sl=xl.ONEHOUR,Al=xl.ONEMIN,Et=xl.ONESEC,Pl=xl.EPOCHJD,El=Gp(),Fl=_().utcFormat,$l=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Nl=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,Ll=new Date().getFullYear()-70;function Ol(Hu){return Hu&&El.componentsRegistry.calendars&&typeof Hu=="string"&&Hu!=="gregorian"}Mu.dateTick0=function(Hu,Vu){var gu=Bl(Hu,!!Vu);if(Vu<2)return gu;var Wu=Mu.dateTime2ms(gu,Hu);return Wu+=yl*(Vu-1),Mu.ms2DateTime(Wu,0,Hu)};function Bl(Hu,Vu){return Ol(Hu)?Vu?El.getComponentMethod("calendars","CANONICAL_SUNDAY")[Hu]:El.getComponentMethod("calendars","CANONICAL_TICK")[Hu]:Vu?"2000-01-02":"2000-01-01"}Mu.dfltRange=function(Hu){return Ol(Hu)?El.getComponentMethod("calendars","DFLTRANGE")[Hu]:["2000-01-01","2001-01-01"]},Mu.isJSDate=function(Hu){return typeof Hu=="object"&&Hu!==null&&typeof Hu.getTime=="function"};var _l,Rl;Mu.dateTime2ms=function(Hu,Vu){if(Mu.isJSDate(Hu)){var gu=Hu.getTimezoneOffset()*Al,Wu=(Hu.getUTCMinutes()-Hu.getMinutes())*Al+(Hu.getUTCSeconds()-Hu.getSeconds())*Et+(Hu.getUTCMilliseconds()-Hu.getMilliseconds());if(Wu){var qu=3*Al;gu=gu-qu/2+Fn(Wu-gu+qu/2,qu)}return Hu=Number(Hu)-gu,Hu>=_l&&Hu<=Rl?Hu:Bn}if(typeof Hu!="string"&&typeof Hu!="number")return Bn;Hu=String(Hu);var np=Ol(Vu),_h=Hu.charAt(0);np&&(_h==="G"||_h==="g")&&(Hu=Hu.substr(1),Vu="");var ap=np&&Vu.substr(0,7)==="chinese",bp=Hu.match(ap?Nl:$l);if(!bp)return Bn;var wp=bp[1],kp=bp[3]||"1",Iu=Number(bp[5]||1),Bu=Number(bp[7]||0),Xl=Number(bp[9]||0),Uu=Number(bp[11]||0);if(np){if(wp.length===2)return Bn;wp=Number(wp);var ep;try{var _u=El.getComponentMethod("calendars","getCal")(Vu);if(ap){var Wl=kp.charAt(kp.length-1)==="i";kp=parseInt(kp,10),ep=_u.newDate(wp,_u.toMonthIndex(wp,kp,Wl),Iu)}else ep=_u.newDate(wp,Number(kp),Iu)}catch{return Bn}return ep?(ep.toJD()-Pl)*yl+Bu*Sl+Xl*Al+Uu*Et:Bn}wp.length===2?wp=(Number(wp)+2e3-Ll)%100+Ll:wp=Number(wp),kp-=1;var Jl=new Date(Date.UTC(2e3,kp,Iu,Bu,Xl));return Jl.setUTCFullYear(wp),Jl.getUTCMonth()!==kp||Jl.getUTCDate()!==Iu?Bn:Jl.getTime()+Uu*Et},_l=Mu.MIN_MS=Mu.dateTime2ms("-9999"),Rl=Mu.MAX_MS=Mu.dateTime2ms("9999-12-31 23:59:59.9999"),Mu.isDateTime=function(Hu,Vu){return Mu.dateTime2ms(Hu,Vu)!==Bn};function Il(Hu,Vu){return String(Hu+Math.pow(10,Vu)).substr(1)}var Hl=90*yl,Kl=3*Sl,Gu=5*Al;Mu.ms2DateTime=function(Hu,Vu,gu){if(typeof Hu!="number"||!(Hu>=_l&&Hu<=Rl))return Bn;Vu||(Vu=0);var Wu=Math.floor(Fn(Hu+.05,1)*10),qu=Math.round(Hu-Wu/10),np,_h,ap,bp,wp,kp;if(Ol(gu)){var Iu=Math.floor(qu/yl)+Pl,Bu=Math.floor(Fn(Hu,yl));try{np=El.getComponentMethod("calendars","getCal")(gu).fromJD(Iu).formatDate("yyyy-mm-dd")}catch{np=Fl("G%Y-%m-%d")(new Date(qu))}if(np.charAt(0)==="-")for(;np.length<11;)np="-0"+np.substr(1);else for(;np.length<10;)np="0"+np;_h=Vu<Hl?Math.floor(Bu/Sl):0,ap=Vu<Hl?Math.floor(Bu%Sl/Al):0,bp=Vu<Kl?Math.floor(Bu%Al/Et):0,wp=Vu<Gu?Bu%Et*10+Wu:0}else kp=new Date(qu),np=Fl("%Y-%m-%d")(kp),_h=Vu<Hl?kp.getUTCHours():0,ap=Vu<Hl?kp.getUTCMinutes():0,bp=Vu<Kl?kp.getUTCSeconds():0,wp=Vu<Gu?kp.getUTCMilliseconds()*10+Wu:0;return vu(np,_h,ap,bp,wp)},Mu.ms2DateTimeLocal=function(Hu){if(!(Hu>=_l+yl&&Hu<=Rl-yl))return Bn;var Vu=Math.floor(Fn(Hu+.05,1)*10),gu=new Date(Math.round(Hu-Vu/10)),Wu=yu("%Y-%m-%d")(gu),qu=gu.getHours(),np=gu.getMinutes(),_h=gu.getSeconds(),ap=gu.getUTCMilliseconds()*10+Vu;return vu(Wu,qu,np,_h,ap)};function vu(Hu,Vu,gu,Wu,qu){if((Vu||gu||Wu||qu)&&(Hu+=" "+Il(Vu,2)+":"+Il(gu,2),(Wu||qu)&&(Hu+=":"+Il(Wu,2),qu))){for(var np=4;qu%10===0;)np-=1,qu/=10;Hu+="."+Il(qu,np)}return Hu}Mu.cleanDate=function(Hu,Vu,gu){if(Hu===Bn)return Vu;if(Mu.isJSDate(Hu)||typeof Hu=="number"&&isFinite(Hu)){if(Ol(gu))return _t.error("JS Dates and milliseconds are incompatible with world calendars",Hu),Vu;if(Hu=Mu.ms2DateTimeLocal(+Hu),!Hu&&Vu!==void 0)return Vu}else if(!Mu.isDateTime(Hu,gu))return _t.error("unrecognized date",Hu),Vu;return Hu};var hu=/%\d?f/g,Yl=/%h/g,$u={1:"1",2:"1",3:"2",4:"2"};function bu(Hu,Vu,gu,Wu){Hu=Hu.replace(hu,function(np){var _h=Math.min(+np.charAt(1)||6,6),ap=(Vu/1e3%1+2).toFixed(_h).substr(2).replace(/0+$/,"")||"0";return ap});var qu=new Date(Math.floor(Vu+.05));if(Hu=Hu.replace(Yl,function(){return $u[gu("%q")(qu)]}),Ol(Wu))try{Hu=El.getComponentMethod("calendars","worldCalFmt")(Hu,Vu,Wu)}catch{return"Invalid"}return gu(Hu)(qu)}var Lu=[59,59.9,59.99,59.999,59.9999];function Fu(Hu,Vu){var gu=Fn(Hu+.05,yl),Wu=Il(Math.floor(gu/Sl),2)+":"+Il(Fn(Math.floor(gu/Al),60),2);if(Vu!=="M"){ls(Vu)||(Vu=0);var qu=Math.min(Fn(Hu/Et,60),Lu[Vu]),np=(100+qu).toFixed(Vu).substr(1);Vu>0&&(np=np.replace(/0+$/,"").replace(/[\.]$/,"")),Wu+=":"+np}return Wu}Mu.formatDate=function(Hu,Vu,gu,Wu,qu,np){if(qu=Ol(qu)&&qu,!Vu)if(gu==="y")Vu=np.year;else if(gu==="m")Vu=np.month;else if(gu==="d")Vu=np.dayMonth+`
`+np.year;else return Fu(Hu,gu)+`
`+bu(np.dayMonthYear,Hu,Wu,qu);return bu(Vu,Hu,Wu,qu)};var Du=3*yl;Mu.incrementMonth=function(Hu,Vu,gu){gu=Ol(gu)&&gu;var Wu=Fn(Hu,yl);if(Hu=Math.round(Hu-Wu),gu)try{var qu=Math.round(Hu/yl)+Pl,np=El.getComponentMethod("calendars","getCal")(gu),_h=np.fromJD(qu);return Vu%12?np.add(_h,Vu,"m"):np.add(_h,Vu/12,"y"),(_h.toJD()-Pl)*yl+Wu}catch{_t.error("invalid ms "+Hu+" in calendar "+gu)}var ap=new Date(Hu+Du);return ap.setUTCMonth(ap.getUTCMonth()+Vu)+Wu-Du},Mu.findExactDates=function(Hu,Vu){for(var gu=0,Wu=0,qu=0,np=0,_h,ap,bp=Ol(Vu)&&El.getComponentMethod("calendars","getCal")(Vu),wp=0;wp<Hu.length;wp++){if(ap=Hu[wp],!ls(ap)){np++;continue}if(!(ap%yl))if(bp)try{_h=bp.fromJD(ap/yl+Pl),_h.day()===1?_h.month()===1?gu++:Wu++:qu++}catch{}else _h=new Date(ap),_h.getUTCDate()===1?_h.getUTCMonth()===0?gu++:Wu++:qu++}Wu+=gu,qu+=Wu;var kp=Hu.length-np;return{exactYears:gu/kp,exactMonths:Wu/kp,exactDays:qu/kp}}}),lm=a((Mu,yu)=>{yu.exports=function(ls){return ls}}),o1=a(Mu=>{var yu=rt(),ls=ip(),_t=lm(),Fn=nt().BADNUM,xl=1e-9;Mu.findBin=function(Et,Pl,El){if(yu(Pl.start))return El?Math.ceil((Et-Pl.start)/Pl.size-xl)-1:Math.floor((Et-Pl.start)/Pl.size+xl);var Fl=0,$l=Pl.length,Nl=0,Ll=$l>1?(Pl[$l-1]-Pl[0])/($l-1):1,Ol,Bl;for(Ll>=0?Bl=El?Bn:yl:Bl=El?Al:Sl,Et+=Ll*xl*(El?-1:1)*(Ll>=0?1:-1);Fl<$l&&Nl++<100;)Ol=Math.floor((Fl+$l)/2),Bl(Pl[Ol],Et)?Fl=Ol+1:$l=Ol;return Nl>90&&ls.log("Long binary search..."),Fl-1};function Bn(Et,Pl){return Et<Pl}function yl(Et,Pl){return Et<=Pl}function Sl(Et,Pl){return Et>Pl}function Al(Et,Pl){return Et>=Pl}Mu.sorterAsc=function(Et,Pl){return Et-Pl},Mu.sorterDes=function(Et,Pl){return Pl-Et},Mu.distinctVals=function(Et){var Pl=Et.slice();Pl.sort(Mu.sorterAsc);var El;for(El=Pl.length-1;El>-1&&Pl[El]===Fn;El--);for(var Fl=Pl[El]-Pl[0]||1,$l=Fl/(El||1)/1e4,Nl=[],Ll,Ol=0;Ol<=El;Ol++){var Bl=Pl[Ol],_l=Bl-Ll;Ll===void 0?(Nl.push(Bl),Ll=Bl):_l>$l&&(Fl=Math.min(Fl,_l),Nl.push(Bl),Ll=Bl)}return{vals:Nl,minDiff:Fl}},Mu.roundUp=function(Et,Pl,El){for(var Fl=0,$l=Pl.length-1,Nl,Ll=0,Ol=El?0:1,Bl=El?1:0,_l=El?Math.ceil:Math.floor;Fl<$l&&Ll++<100;)Nl=_l((Fl+$l)/2),Pl[Nl]<=Et?Fl=Nl+Ol:$l=Nl-Bl;return Pl[Fl]},Mu.sort=function(Et,Pl){for(var El=0,Fl=0,$l=1;$l<Et.length;$l++){var Nl=Pl(Et[$l],Et[$l-1]);if(Nl<0?El=1:Nl>0&&(Fl=1),El&&Fl)return Et.sort(Pl)}return Fl?Et:Et.reverse()},Mu.findIndexOfMin=function(Et,Pl){Pl=Pl||_t;for(var El=1/0,Fl,$l=0;$l<Et.length;$l++){var Nl=Pl(Et[$l]);Nl<El&&(El=Nl,Fl=$l)}return Fl}}),i1=a((Mu,yu)=>{yu.exports=function(ls){return Object.keys(ls).sort()}}),a1=a(Mu=>{var yu=rt(),ls=wl().isArrayOrTypedArray;Mu.aggNums=function(_t,Fn,xl,Bn){var yl,Sl;if((!Bn||Bn>xl.length)&&(Bn=xl.length),yu(Fn)||(Fn=!1),ls(xl[0])){for(Sl=new Array(Bn),yl=0;yl<Bn;yl++)Sl[yl]=Mu.aggNums(_t,Fn,xl[yl]);xl=Sl}for(yl=0;yl<Bn;yl++)yu(Fn)?yu(xl[yl])&&(Fn=_t(+Fn,+xl[yl])):Fn=xl[yl];return Fn},Mu.len=function(_t){return Mu.aggNums(function(Fn){return Fn+1},0,_t)},Mu.mean=function(_t,Fn){return Fn||(Fn=Mu.len(_t)),Mu.aggNums(function(xl,Bn){return xl+Bn},0,_t)/Fn},Mu.geometricMean=function(_t,Fn){return Fn||(Fn=Mu.len(_t)),Math.pow(Mu.aggNums(function(xl,Bn){return xl*Bn},1,_t),1/Fn)},Mu.midRange=function(_t){if(!(_t===void 0||_t.length===0))return(Mu.aggNums(Math.max,null,_t)+Mu.aggNums(Math.min,null,_t))/2},Mu.variance=function(_t,Fn,xl){return Fn||(Fn=Mu.len(_t)),yu(xl)||(xl=Mu.mean(_t,Fn)),Mu.aggNums(function(Bn,yl){return Bn+Math.pow(yl-xl,2)},0,_t)/Fn},Mu.stdev=function(_t,Fn,xl){return Math.sqrt(Mu.variance(_t,Fn,xl))},Mu.median=function(_t){var Fn=_t.slice().sort();return Mu.interp(Fn,.5)},Mu.interp=function(_t,Fn){if(!yu(Fn))throw"n should be a finite number";if(Fn=Fn*_t.length-.5,Fn<0)return _t[0];if(Fn>_t.length-1)return _t[_t.length-1];var xl=Fn%1;return xl*_t[Math.ceil(Fn)]+(1-xl)*_t[Math.floor(Fn)]}}),w1=a((Mu,yu)=>{var ls=Tl(),_t=ls.mod,Fn=ls.modHalf,xl=Math.PI,Bn=2*xl;function yl(Bl){return Bl/180*xl}function Sl(Bl){return Bl/xl*180}function Al(Bl){return Math.abs(Bl[1]-Bl[0])>Bn-1e-14}function Et(Bl,_l){return Fn(_l-Bl,Bn)}function Pl(Bl,_l){return Math.abs(Et(Bl,_l))}function El(Bl,_l){if(Al(_l))return!0;var Rl,Il;_l[0]<_l[1]?(Rl=_l[0],Il=_l[1]):(Rl=_l[1],Il=_l[0]),Rl=_t(Rl,Bn),Il=_t(Il,Bn),Rl>Il&&(Il+=Bn);var Hl=_t(Bl,Bn),Kl=Hl+Bn;return Hl>=Rl&&Hl<=Il||Kl>=Rl&&Kl<=Il}function Fl(Bl,_l,Rl,Il){if(!El(_l,Il))return!1;var Hl,Kl;return Rl[0]<Rl[1]?(Hl=Rl[0],Kl=Rl[1]):(Hl=Rl[1],Kl=Rl[0]),Bl>=Hl&&Bl<=Kl}function $l(Bl,_l,Rl,Il,Hl,Kl,Gu){Hl=Hl||0,Kl=Kl||0;var vu=Al([Rl,Il]),hu,Yl,$u,bu,Lu;vu?(hu=0,Yl=xl,$u=Bn):Rl<Il?(hu=Rl,$u=Il):(hu=Il,$u=Rl),Bl<_l?(bu=Bl,Lu=_l):(bu=_l,Lu=Bl);function Fu(gu,Wu){return[gu*Math.cos(Wu)+Hl,Kl-gu*Math.sin(Wu)]}var Du=Math.abs($u-hu)<=xl?0:1;function Hu(gu,Wu,qu){return"A"+[gu,gu]+" "+[0,Du,qu]+" "+Fu(gu,Wu)}var Vu;return vu?bu===null?Vu="M"+Fu(Lu,hu)+Hu(Lu,Yl,0)+Hu(Lu,$u,0)+"Z":Vu="M"+Fu(bu,hu)+Hu(bu,Yl,0)+Hu(bu,$u,0)+"ZM"+Fu(Lu,hu)+Hu(Lu,Yl,1)+Hu(Lu,$u,1)+"Z":bu===null?(Vu="M"+Fu(Lu,hu)+Hu(Lu,$u,0),Gu&&(Vu+="L0,0Z")):Vu="M"+Fu(bu,hu)+"L"+Fu(Lu,hu)+Hu(Lu,$u,0)+"L"+Fu(bu,$u)+Hu(bu,hu,1)+"Z",Vu}function Nl(Bl,_l,Rl,Il,Hl){return $l(null,Bl,_l,Rl,Il,Hl,0)}function Ll(Bl,_l,Rl,Il,Hl){return $l(null,Bl,_l,Rl,Il,Hl,1)}function Ol(Bl,_l,Rl,Il,Hl,Kl){return $l(Bl,_l,Rl,Il,Hl,Kl,1)}yu.exports={deg2rad:yl,rad2deg:Sl,angleDelta:Et,angleDist:Pl,isFullCircle:Al,isAngleInsideSector:El,isPtInsideSector:Fl,pathArc:Nl,pathSector:Ll,pathAnnulus:Ol}}),wv=a(Mu=>{Mu.isLeftAnchor=function(yu){return yu.xanchor==="left"||yu.xanchor==="auto"&&yu.x<=1/3},Mu.isCenterAnchor=function(yu){return yu.xanchor==="center"||yu.xanchor==="auto"&&yu.x>1/3&&yu.x<2/3},Mu.isRightAnchor=function(yu){return yu.xanchor==="right"||yu.xanchor==="auto"&&yu.x>=2/3},Mu.isTopAnchor=function(yu){return yu.yanchor==="top"||yu.yanchor==="auto"&&yu.y>=2/3},Mu.isMiddleAnchor=function(yu){return yu.yanchor==="middle"||yu.yanchor==="auto"&&yu.y>1/3&&yu.y<2/3},Mu.isBottomAnchor=function(yu){return yu.yanchor==="bottom"||yu.yanchor==="auto"&&yu.y<=1/3}}),P1=a(Mu=>{var yu=Tl().mod;Mu.segmentsIntersect=ls;function ls(yl,Sl,Al,Et,Pl,El,Fl,$l){var Nl=Al-yl,Ll=Pl-yl,Ol=Fl-Pl,Bl=Et-Sl,_l=El-Sl,Rl=$l-El,Il=Nl*Rl-Ol*Bl;if(Il===0)return null;var Hl=(Ll*Rl-Ol*_l)/Il,Kl=(Ll*Bl-Nl*_l)/Il;return Kl<0||Kl>1||Hl<0||Hl>1?null:{x:yl+Nl*Hl,y:Sl+Bl*Hl}}Mu.segmentDistance=function(yl,Sl,Al,Et,Pl,El,Fl,$l){if(ls(yl,Sl,Al,Et,Pl,El,Fl,$l))return 0;var Nl=Al-yl,Ll=Et-Sl,Ol=Fl-Pl,Bl=$l-El,_l=Nl*Nl+Ll*Ll,Rl=Ol*Ol+Bl*Bl,Il=Math.min(_t(Nl,Ll,_l,Pl-yl,El-Sl),_t(Nl,Ll,_l,Fl-yl,$l-Sl),_t(Ol,Bl,Rl,yl-Pl,Sl-El),_t(Ol,Bl,Rl,Al-Pl,Et-El));return Math.sqrt(Il)};function _t(yl,Sl,Al,Et,Pl){var El=Et*yl+Pl*Sl;if(El<0)return Et*Et+Pl*Pl;if(El>Al){var Fl=Et-yl,$l=Pl-Sl;return Fl*Fl+$l*$l}else{var Nl=Et*Sl-Pl*yl;return Nl*Nl/Al}}var Fn,xl,Bn;Mu.getTextLocation=function(yl,Sl,Al,Et){if((yl!==xl||Et!==Bn)&&(Fn={},xl=yl,Bn=Et),Fn[Al])return Fn[Al];var Pl=yl.getPointAtLength(yu(Al-Et/2,Sl)),El=yl.getPointAtLength(yu(Al+Et/2,Sl)),Fl=Math.atan((El.y-Pl.y)/(El.x-Pl.x)),$l=yl.getPointAtLength(yu(Al,Sl)),Nl=($l.x*4+Pl.x+El.x)/6,Ll=($l.y*4+Pl.y+El.y)/6,Ol={x:Nl,y:Ll,theta:Fl};return Fn[Al]=Ol,Ol},Mu.clearLocationCache=function(){xl=null},Mu.getVisibleSegment=function(yl,Sl,Al){var Et=Sl.left,Pl=Sl.right,El=Sl.top,Fl=Sl.bottom,$l=0,Nl=yl.getTotalLength(),Ll=Nl,Ol,Bl;function _l(Il){var Hl=yl.getPointAtLength(Il);Il===0?Ol=Hl:Il===Nl&&(Bl=Hl);var Kl=Hl.x<Et?Et-Hl.x:Hl.x>Pl?Hl.x-Pl:0,Gu=Hl.y<El?El-Hl.y:Hl.y>Fl?Hl.y-Fl:0;return Math.sqrt(Kl*Kl+Gu*Gu)}for(var Rl=_l($l);Rl;){if($l+=Rl+Al,$l>Ll)return;Rl=_l($l)}for(Rl=_l(Ll);Rl;){if(Ll-=Rl+Al,$l>Ll)return;Rl=_l(Ll)}return{min:$l,max:Ll,len:Ll-$l,total:Nl,isClosed:$l===0&&Ll===Nl&&Math.abs(Ol.x-Bl.x)<.1&&Math.abs(Ol.y-Bl.y)<.1}},Mu.findPointOnPath=function(yl,Sl,Al,Et){Et=Et||{};for(var Pl=Et.pathLength||yl.getTotalLength(),El=Et.tolerance||.001,Fl=Et.iterationLimit||30,$l=yl.getPointAtLength(0)[Al]>yl.getPointAtLength(Pl)[Al]?-1:1,Nl=0,Ll=0,Ol=Pl,Bl,_l,Rl;Nl<Fl;){if(Bl=(Ll+Ol)/2,_l=yl.getPointAtLength(Bl),Rl=_l[Al]-Sl,Math.abs(Rl)<El)return _l;$l*Rl>0?Ol=Bl:Ll=Bl,Nl++}return _l}}),R1=a(Mu=>{var yu={};Mu.throttle=function(_t,Fn,xl){var Bn=yu[_t],yl=Date.now();if(!Bn){for(var Sl in yu)yu[Sl].ts<yl-6e4&&delete yu[Sl];Bn=yu[_t]={ts:0,timer:null}}ls(Bn);function Al(){xl(),Bn.ts=Date.now(),Bn.onDone&&(Bn.onDone(),Bn.onDone=null)}if(yl>Bn.ts+Fn){Al();return}Bn.timer=setTimeout(function(){Al(),Bn.timer=null},Fn)},Mu.done=function(_t){var Fn=yu[_t];return!Fn||!Fn.timer?Promise.resolve():new Promise(function(xl){var Bn=Fn.onDone;Fn.onDone=function(){Bn&&Bn(),xl(),Fn.onDone=null}})},Mu.clear=function(_t){if(_t)ls(yu[_t]),delete yu[_t];else for(var Fn in yu)Mu.clear(Fn)};function ls(_t){_t&&_t.timer!==null&&(clearTimeout(_t.timer),_t.timer=null)}}),j1=a((Mu,yu)=>{yu.exports=function(ls){ls._responsiveChartHandler&&(window.removeEventListener("resize",ls._responsiveChartHandler),delete ls._responsiveChartHandler)}}),yv=a((Mu,yu)=>{yu.exports=xl,yu.exports.isMobile=xl,yu.exports.default=xl;var ls=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,_t=/CrOS/,Fn=/android|ipad|playbook|silk/i;function xl(Bn){Bn||(Bn={});let yl=Bn.ua;if(!yl&&typeof navigator<"u"&&(yl=navigator.userAgent),yl&&yl.headers&&typeof yl.headers["user-agent"]=="string"&&(yl=yl.headers["user-agent"]),typeof yl!="string")return!1;let Sl=ls.test(yl)&&!_t.test(yl)||!!Bn.tablet&&Fn.test(yl);return!Sl&&Bn.tablet&&Bn.featureDetect&&navigator&&navigator.maxTouchPoints>1&&yl.indexOf("Macintosh")!==-1&&yl.indexOf("Safari")!==-1&&(Sl=!0),Sl}}),Rv=a((Mu,yu)=>{var ls=rt(),_t=yv();yu.exports=function(xl){var Bn;if(xl&&xl.hasOwnProperty("userAgent")?Bn=xl.userAgent:Bn=Fn(),typeof Bn!="string")return!0;var yl=_t({ua:{headers:{"user-agent":Bn}},tablet:!0,featureDetect:!1});if(!yl)for(var Sl=Bn.split(" "),Al=1;Al<Sl.length;Al++){var Et=Sl[Al];if(Et.indexOf("Safari")!==-1)for(var Pl=Al-1;Pl>-1;Pl--){var El=Sl[Pl];if(El.substr(0,8)==="Version/"){var Fl=El.substr(8).split(".")[0];if(ls(Fl)&&(Fl=+Fl),Fl>=13)return!0}}}return yl};function Fn(){var xl;return typeof navigator<"u"&&(xl=navigator.userAgent),xl&&xl.headers&&typeof xl.headers["user-agent"]=="string"&&(xl=xl.headers["user-agent"]),xl}}),Dy=a((Mu,yu)=>{var ls=g();yu.exports=function(_t,Fn,xl){var Bn=_t.selectAll("g."+xl.replace(/\s/g,".")).data(Fn,function(Sl){return Sl[0].trace.uid});Bn.exit().remove(),Bn.enter().append("g").attr("class",xl),Bn.order();var yl=_t.classed("rangeplot")?"nodeRangePlot3":"node3";return Bn.each(function(Sl){Sl[0][yl]=ls.select(this)}),Bn}}),Vy=a((Mu,yu)=>{var ls=Gp();yu.exports=function(_t,Fn){for(var xl=_t._context.locale,Bn=0;Bn<2;Bn++){for(var yl=_t._context.locales,Sl=0;Sl<2;Sl++){var Al=(yl[xl]||{}).dictionary;if(Al){var Et=Al[Fn];if(Et)return Et}yl=ls.localeRegistry}var Pl=xl.split("-")[0];if(Pl===xl)break;xl=Pl}return Fn}}),dv=a((Mu,yu)=>{yu.exports=function(ls){for(var _t={},Fn=[],xl=0,Bn=0;Bn<ls.length;Bn++){var yl=ls[Bn];_t[yl]!==1&&(_t[yl]=1,Fn[xl++]=yl)}return Fn}}),bv=a((Mu,yu)=>{yu.exports=function(xl){for(var Bn=Fn(xl)?_t:ls,yl=[],Sl=0;Sl<xl.length;Sl++){var Al=xl[Sl];Bn(Al)&&yl.push(Al)}return yl};function ls(xl){return xl.visible===!0}function _t(xl){var Bn=xl[0].trace;return Bn.visible===!0&&Bn._length!==0}function Fn(xl){return Array.isArray(xl)&&Array.isArray(xl[0])&&xl[0][0]&&xl[0][0].trace}}),Cv=a((Mu,yu)=>{yu.exports=function(ls,_t){if(!_t)return ls;var Fn=1/Math.abs(_t),xl=Fn>1?(Fn*ls+Fn*_t)/Fn:ls+_t,Bn=String(xl).length;if(Bn>16){var yl=String(_t).length,Sl=String(ls).length;if(Bn>=Sl+yl){var Al=parseFloat(xl).toPrecision(12);Al.indexOf("e+")===-1&&(xl=+Al)}}return xl}}),ay=a((Mu,yu)=>{var ls=rt(),_t=nt().BADNUM,Fn=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;yu.exports=function(xl){return typeof xl=="string"&&(xl=xl.replace(Fn,"")),ls(xl)?Number(xl):_t}}),vm=a((Mu,yu)=>{var ls=g(),_t=_().utcFormat,Fn=$().format,xl=rt(),Bn=nt(),yl=Bn.FP_SAFE,Sl=-yl,Al=Bn.BADNUM,Et=yu.exports={};Et.adjustFormat=function(_u){return!_u||/^\d[.]\df/.test(_u)||/[.]\d%/.test(_u)?_u:_u==="0.f"?"~f":/^\d%/.test(_u)?"~%":/^\ds/.test(_u)?"~s":!/^[~,.0$]/.test(_u)&&/[&fps]/.test(_u)?"~"+_u:_u};var Pl={};Et.warnBadFormat=function(_u){var Wl=String(_u);Pl[Wl]||(Pl[Wl]=1,Et.warn('encountered bad format: "'+Wl+'"'))},Et.noFormat=function(_u){return String(_u)},Et.numberFormat=function(_u){var Wl;try{Wl=Fn(Et.adjustFormat(_u))}catch{return Et.warnBadFormat(_u),Et.noFormat}return Wl},Et.nestedProperty=Ft(),Et.keyedContainer=it(),Et.relativeAttr=ot(),Et.isPlainObject=jt(),Et.toLogRange=Ln(),Et.relinkPrivateKeys=Cl();var El=wl();Et.isArrayBuffer=El.isArrayBuffer,Et.isTypedArray=El.isTypedArray,Et.isArrayOrTypedArray=El.isArrayOrTypedArray,Et.isArray1D=El.isArray1D,Et.ensureArray=El.ensureArray,Et.concat=El.concat,Et.maxRowLength=El.maxRowLength,Et.minRowLength=El.minRowLength;var Fl=Tl();Et.mod=Fl.mod,Et.modHalf=Fl.modHalf;var $l=xp();Et.valObjectMeta=$l.valObjectMeta,Et.coerce=$l.coerce,Et.coerce2=$l.coerce2,Et.coerceFont=$l.coerceFont,Et.coercePattern=$l.coercePattern,Et.coerceHoverinfo=$l.coerceHoverinfo,Et.coerceSelectionMarkerOpacity=$l.coerceSelectionMarkerOpacity,Et.validate=$l.validate;var Nl=O0();Et.dateTime2ms=Nl.dateTime2ms,Et.isDateTime=Nl.isDateTime,Et.ms2DateTime=Nl.ms2DateTime,Et.ms2DateTimeLocal=Nl.ms2DateTimeLocal,Et.cleanDate=Nl.cleanDate,Et.isJSDate=Nl.isJSDate,Et.formatDate=Nl.formatDate,Et.incrementMonth=Nl.incrementMonth,Et.dateTick0=Nl.dateTick0,Et.dfltRange=Nl.dfltRange,Et.findExactDates=Nl.findExactDates,Et.MIN_MS=Nl.MIN_MS,Et.MAX_MS=Nl.MAX_MS;var Ll=o1();Et.findBin=Ll.findBin,Et.sorterAsc=Ll.sorterAsc,Et.sorterDes=Ll.sorterDes,Et.distinctVals=Ll.distinctVals,Et.roundUp=Ll.roundUp,Et.sort=Ll.sort,Et.findIndexOfMin=Ll.findIndexOfMin,Et.sortObjectKeys=i1();var Ol=a1();Et.aggNums=Ol.aggNums,Et.len=Ol.len,Et.mean=Ol.mean,Et.geometricMean=Ol.geometricMean,Et.median=Ol.median,Et.midRange=Ol.midRange,Et.variance=Ol.variance,Et.stdev=Ol.stdev,Et.interp=Ol.interp;var Bl=hm();Et.init2dArray=Bl.init2dArray,Et.transposeRagged=Bl.transposeRagged,Et.dot=Bl.dot,Et.translationMatrix=Bl.translationMatrix,Et.rotationMatrix=Bl.rotationMatrix,Et.rotationXYMatrix=Bl.rotationXYMatrix,Et.apply3DTransform=Bl.apply3DTransform,Et.apply2DTransform=Bl.apply2DTransform,Et.apply2DTransform2=Bl.apply2DTransform2,Et.convertCssMatrix=Bl.convertCssMatrix,Et.inverseTransformMatrix=Bl.inverseTransformMatrix;var _l=w1();Et.deg2rad=_l.deg2rad,Et.rad2deg=_l.rad2deg,Et.angleDelta=_l.angleDelta,Et.angleDist=_l.angleDist,Et.isFullCircle=_l.isFullCircle,Et.isAngleInsideSector=_l.isAngleInsideSector,Et.isPtInsideSector=_l.isPtInsideSector,Et.pathArc=_l.pathArc,Et.pathSector=_l.pathSector,Et.pathAnnulus=_l.pathAnnulus;var Rl=wv();Et.isLeftAnchor=Rl.isLeftAnchor,Et.isCenterAnchor=Rl.isCenterAnchor,Et.isRightAnchor=Rl.isRightAnchor,Et.isTopAnchor=Rl.isTopAnchor,Et.isMiddleAnchor=Rl.isMiddleAnchor,Et.isBottomAnchor=Rl.isBottomAnchor;var Il=P1();Et.segmentsIntersect=Il.segmentsIntersect,Et.segmentDistance=Il.segmentDistance,Et.getTextLocation=Il.getTextLocation,Et.clearLocationCache=Il.clearLocationCache,Et.getVisibleSegment=Il.getVisibleSegment,Et.findPointOnPath=Il.findPointOnPath;var Hl=In();Et.extendFlat=Hl.extendFlat,Et.extendDeep=Hl.extendDeep,Et.extendDeepAll=Hl.extendDeepAll,Et.extendDeepNoArrays=Hl.extendDeepNoArrays;var Kl=ip();Et.log=Kl.log,Et.warn=Kl.warn,Et.error=Kl.error;var Gu=yp();Et.counterRegex=Gu.counter;var vu=R1();Et.throttle=vu.throttle,Et.throttleDone=vu.done,Et.clearThrottle=vu.clear;var hu=Vp();Et.getGraphDiv=hu.getGraphDiv,Et.isPlotDiv=hu.isPlotDiv,Et.removeElement=hu.removeElement,Et.addStyleRule=hu.addStyleRule,Et.addRelatedStyleRule=hu.addRelatedStyleRule,Et.deleteRelatedStyleRule=hu.deleteRelatedStyleRule,Et.setStyleOnHover=hu.setStyleOnHover,Et.getFullTransformMatrix=hu.getFullTransformMatrix,Et.getElementTransformMatrix=hu.getElementTransformMatrix,Et.getElementAndAncestors=hu.getElementAndAncestors,Et.equalDomRects=hu.equalDomRects,Et.clearResponsive=j1(),Et.preserveDrawingBuffer=Rv(),Et.makeTraceGroups=Dy(),Et._=Vy(),Et.notifier=_p(),Et.filterUnique=dv(),Et.filterVisible=bv(),Et.pushUnique=Dp(),Et.increment=Cv(),Et.cleanNumber=ay(),Et.ensureNumber=function(_u){return xl(_u)?(_u=Number(_u),_u>yl||_u<Sl?Al:_u):Al},Et.isIndex=function(_u,Wl){return Wl!==void 0&&_u>=Wl?!1:xl(_u)&&_u>=0&&_u%1===0},Et.noop=gp(),Et.identity=lm(),Et.repeat=function(_u,Wl){for(var Jl=new Array(Wl),Pu=0;Pu<Wl;Pu++)Jl[Pu]=_u;return Jl},Et.swapAttrs=function(_u,Wl,Jl,Pu){Jl||(Jl="x"),Pu||(Pu="y");for(var Nu=0;Nu<Wl.length;Nu++){var tp=Wl[Nu],up=Et.nestedProperty(_u,tp.replace("?",Jl)),dp=Et.nestedProperty(_u,tp.replace("?",Pu)),Ap=up.get();up.set(dp.get()),dp.set(Ap)}},Et.raiseToTop=function(_u){_u.parentNode.appendChild(_u)},Et.cancelTransition=function(_u){return _u.transition().duration(0)},Et.constrain=function(_u,Wl,Jl){return Wl>Jl?Math.max(Jl,Math.min(Wl,_u)):Math.max(Wl,Math.min(Jl,_u))},Et.bBoxIntersect=function(_u,Wl,Jl){return Jl=Jl||0,_u.left<=Wl.right+Jl&&Wl.left<=_u.right+Jl&&_u.top<=Wl.bottom+Jl&&Wl.top<=_u.bottom+Jl},Et.simpleMap=function(_u,Wl,Jl,Pu,Nu){for(var tp=_u.length,up=new Array(tp),dp=0;dp<tp;dp++)up[dp]=Wl(_u[dp],Jl,Pu,Nu);return up},Et.randstr=function _u(Wl,Jl,Pu,Nu){if(Pu||(Pu=16),Jl===void 0&&(Jl=24),Jl<=0)return"0";var tp=Math.log(Math.pow(2,Jl))/Math.log(Pu),up="",dp,Ap,Op;for(dp=2;tp===1/0;dp*=2)tp=Math.log(Math.pow(2,Jl/dp))/Math.log(Pu)*dp;var Zp=tp-Math.floor(tp);for(dp=0;dp<Math.floor(tp);dp++)Op=Math.floor(Math.random()*Pu).toString(Pu),up=Op+up;Zp&&(Ap=Math.pow(Pu,Zp),Op=Math.floor(Math.random()*Ap).toString(Pu),up=Op+up);var u0=parseInt(up,Pu);return Wl&&Wl[up]||u0!==1/0&&u0>=Math.pow(2,Jl)?Nu>10?(Et.warn("randstr failed uniqueness"),up):_u(Wl,Jl,Pu,(Nu||0)+1):up},Et.OptionControl=function(_u,Wl){_u||(_u={}),Wl||(Wl="opt");var Jl={};return Jl.optionList=[],Jl._newoption=function(Pu){Pu[Wl]=_u,Jl[Pu.name]=Pu,Jl.optionList.push(Pu)},Jl["_"+Wl]=_u,Jl},Et.smooth=function(_u,Wl){if(Wl=Math.round(Wl)||0,Wl<2)return _u;var Jl=_u.length,Pu=2*Jl,Nu=2*Wl-1,tp=new Array(Nu),up=new Array(Jl),dp,Ap,Op,Zp;for(dp=0;dp<Nu;dp++)tp[dp]=(1-Math.cos(Math.PI*(dp+1)/Wl))/(2*Wl);for(dp=0;dp<Jl;dp++){for(Zp=0,Ap=0;Ap<Nu;Ap++)Op=dp+Ap+1-Wl,Op<-Jl?Op-=Pu*Math.round(Op/Pu):Op>=Pu&&(Op-=Pu*Math.floor(Op/Pu)),Op<0?Op=-1-Op:Op>=Jl&&(Op=Pu-1-Op),Zp+=_u[Op]*tp[Ap];up[dp]=Zp}return up},Et.syncOrAsync=function(_u,Wl,Jl){var Pu,Nu;function tp(){return Et.syncOrAsync(_u,Wl,Jl)}for(;_u.length;)if(Nu=_u.splice(0,1)[0],Pu=Nu(Wl),Pu&&Pu.then)return Pu.then(tp);return Jl&&Jl(Wl)},Et.stripTrailingSlash=function(_u){return _u.substr(-1)==="/"?_u.substr(0,_u.length-1):_u},Et.noneOrAll=function(_u,Wl,Jl){if(_u){var Pu=!1,Nu=!0,tp,up;for(tp=0;tp<Jl.length;tp++)up=_u[Jl[tp]],up!=null?Pu=!0:Nu=!1;if(Pu&&!Nu)for(tp=0;tp<Jl.length;tp++)_u[Jl[tp]]=Wl[Jl[tp]]}},Et.mergeArray=function(_u,Wl,Jl,Pu){var Nu=typeof Pu=="function";if(Et.isArrayOrTypedArray(_u))for(var tp=Math.min(_u.length,Wl.length),up=0;up<tp;up++){var dp=_u[up];Wl[up][Jl]=Nu?Pu(dp):dp}},Et.mergeArrayCastPositive=function(_u,Wl,Jl){return Et.mergeArray(_u,Wl,Jl,function(Pu){var Nu=+Pu;return isFinite(Nu)&&Nu>0?Nu:0})},Et.fillArray=function(_u,Wl,Jl,Pu){if(Pu=Pu||Et.identity,Et.isArrayOrTypedArray(_u))for(var Nu=0;Nu<Wl.length;Nu++)Wl[Nu][Jl]=Pu(_u[Nu])},Et.castOption=function(_u,Wl,Jl,Pu){Pu=Pu||Et.identity;var Nu=Et.nestedProperty(_u,Jl).get();return Et.isArrayOrTypedArray(Nu)?Array.isArray(Wl)&&Et.isArrayOrTypedArray(Nu[Wl[0]])?Pu(Nu[Wl[0]][Wl[1]]):Pu(Nu[Wl]):Nu},Et.extractOption=function(_u,Wl,Jl,Pu){if(Jl in _u)return _u[Jl];var Nu=Et.nestedProperty(Wl,Pu).get();if(!Array.isArray(Nu))return Nu};function Yl(_u){var Wl={};for(var Jl in _u)for(var Pu=_u[Jl],Nu=0;Nu<Pu.length;Nu++)Wl[Pu[Nu]]=+Jl;return Wl}Et.tagSelected=function(_u,Wl,Jl){var Pu=Wl.selectedpoints,Nu=Wl._indexToPoints,tp;Nu&&(tp=Yl(Nu));function up(u0){return u0!==void 0&&u0<_u.length}for(var dp=0;dp<Pu.length;dp++){var Ap=Pu[dp];if(Et.isIndex(Ap)||Et.isArrayOrTypedArray(Ap)&&Et.isIndex(Ap[0])&&Et.isIndex(Ap[1])){var Op=tp?tp[Ap]:Ap,Zp=Jl?Jl[Op]:Op;up(Zp)&&(_u[Zp].selected=1)}}},Et.selIndices2selPoints=function(_u){var Wl=_u.selectedpoints,Jl=_u._indexToPoints;if(Jl){for(var Pu=Yl(Jl),Nu=[],tp=0;tp<Wl.length;tp++){var up=Wl[tp];if(Et.isIndex(up)){var dp=Pu[up];Et.isIndex(dp)&&Nu.push(dp)}}return Nu}else return Wl},Et.getTargetArray=function(_u,Wl){var Jl=Wl.target;if(typeof Jl=="string"&&Jl){var Pu=Et.nestedProperty(_u,Jl).get();return Et.isArrayOrTypedArray(Pu)?Pu:!1}else if(Et.isArrayOrTypedArray(Jl))return Jl;return!1};function $u(_u,Wl,Jl){var Pu={};typeof Wl!="object"&&(Wl={});var Nu=Jl==="pieLike"?-1:3,tp=Object.keys(_u),up,dp,Ap;for(up=0;up<tp.length;up++)dp=tp[up],Ap=_u[dp],!(dp.charAt(0)==="_"||typeof Ap=="function")&&(dp==="module"?Pu[dp]=Ap:Array.isArray(Ap)?dp==="colorscale"||Nu===-1?Pu[dp]=Ap.slice():Pu[dp]=Ap.slice(0,Nu):Et.isTypedArray(Ap)?Nu===-1?Pu[dp]=Ap.subarray():Pu[dp]=Ap.subarray(0,Nu):Ap&&typeof Ap=="object"?Pu[dp]=$u(_u[dp],Wl[dp],Jl):Pu[dp]=Ap);for(tp=Object.keys(Wl),up=0;up<tp.length;up++)dp=tp[up],Ap=Wl[dp],(typeof Ap!="object"||!(dp in Pu)||typeof Pu[dp]!="object")&&(Pu[dp]=Ap);return Pu}Et.minExtend=$u,Et.titleCase=function(_u){return _u.charAt(0).toUpperCase()+_u.substr(1)},Et.containsAny=function(_u,Wl){for(var Jl=0;Jl<Wl.length;Jl++)if(_u.indexOf(Wl[Jl])!==-1)return!0;return!1};var bu=/Version\/[\d\.]+.*Safari/;Et.isSafari=function(){return bu.test(window.navigator.userAgent)};var Lu=/iPad|iPhone|iPod/;Et.isIOS=function(){return Lu.test(window.navigator.userAgent)};var Fu=/Macintosh.+AppleWebKit.+Gecko\)$/;Et.isMacWKWebView=()=>Fu.test(window.navigator.userAgent);var Du=/Firefox\/(\d+)\.\d+/;Et.getFirefoxVersion=function(){var _u=Du.exec(window.navigator.userAgent);if(_u&&_u.length===2){var Wl=parseInt(_u[1]);if(!isNaN(Wl))return Wl}return null},Et.isD3Selection=function(_u){return _u instanceof ls.selection},Et.ensureSingle=function(_u,Wl,Jl,Pu){var Nu=_u.select(Wl+(Jl?"."+Jl:""));if(Nu.size())return Nu;var tp=_u.append(Wl);return Jl&&tp.classed(Jl,!0),Pu&&tp.call(Pu),tp},Et.ensureSingleById=function(_u,Wl,Jl,Pu){var Nu=_u.select(Wl+"#"+Jl);if(Nu.size())return Nu;var tp=_u.append(Wl).attr("id",Jl);return Pu&&tp.call(Pu),tp},Et.objectFromPath=function(_u,Wl){for(var Jl=_u.split("."),Pu,Nu=Pu={},tp=0;tp<Jl.length;tp++){var up=Jl[tp],dp=null,Ap=Jl[tp].match(/(.*)\[([0-9]+)\]/);Ap?(up=Ap[1],dp=Ap[2],Pu=Pu[up]=[],tp===Jl.length-1?Pu[dp]=Wl:Pu[dp]={},Pu=Pu[dp]):(tp===Jl.length-1?Pu[up]=Wl:Pu[up]={},Pu=Pu[up])}return Nu};var Hu=/^([^\[\.]+)\.(.+)?/,Vu=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function gu(_u){return _u.slice(0,2)==="__"}Et.expandObjectPaths=function(_u){var Wl,Jl,Pu,Nu,tp,up,dp;if(typeof _u=="object"&&!Array.isArray(_u)){for(Jl in _u)if(_u.hasOwnProperty(Jl))if(Wl=Jl.match(Hu)){if(Nu=_u[Jl],Pu=Wl[1],gu(Pu))continue;delete _u[Jl],_u[Pu]=Et.extendDeepNoArrays(_u[Pu]||{},Et.objectFromPath(Jl,Et.expandObjectPaths(Nu))[Pu])}else if(Wl=Jl.match(Vu)){if(Nu=_u[Jl],Pu=Wl[1],gu(Pu))continue;if(tp=parseInt(Wl[2]),delete _u[Jl],_u[Pu]=_u[Pu]||[],Wl[3]===".")dp=Wl[4],up=_u[Pu][tp]=_u[Pu][tp]||{},Et.extendDeepNoArrays(up,Et.objectFromPath(dp,Et.expandObjectPaths(Nu)));else{if(gu(Pu))continue;_u[Pu][tp]=Et.expandObjectPaths(Nu)}}else{if(gu(Jl))continue;_u[Jl]=Et.expandObjectPaths(_u[Jl])}}return _u},Et.numSeparate=function(_u,Wl,Jl){if(Jl||(Jl=!1),typeof Wl!="string"||Wl.length===0)throw new Error("Separator string required for formatting!");typeof _u=="number"&&(_u=String(_u));var Pu=/(\d+)(\d{3})/,Nu=Wl.charAt(0),tp=Wl.charAt(1),up=_u.split("."),dp=up[0],Ap=up.length>1?Nu+up[1]:"";if(tp&&(up.length>1||dp.length>4||Jl))for(;Pu.test(dp);)dp=dp.replace(Pu,"$1"+tp+"$2");return dp+Ap},Et.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var Wu=/^\w*$/;Et.templateString=function(_u,Wl){var Jl={};return _u.replace(Et.TEMPLATE_STRING_REGEX,function(Pu,Nu){var tp;return Wu.test(Nu)?tp=Wl[Nu]:(Jl[Nu]=Jl[Nu]||Et.nestedProperty(Wl,Nu).get,tp=Jl[Nu](!0)),tp!==void 0?tp:""})};var qu={max:10,count:0,name:"hovertemplate"};Et.hovertemplateString=function(){return kp.apply(qu,arguments)};var np={max:10,count:0,name:"texttemplate"};Et.texttemplateString=function(){return kp.apply(np,arguments)};var _h=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function ap(_u){var Wl=_u.match(_h);return Wl?{key:Wl[1],op:Wl[2],number:Number(Wl[3])}:{key:_u,op:null,number:null}}var bp={max:10,count:0,name:"texttemplate",parseMultDiv:!0};Et.texttemplateStringForShapes=function(){return kp.apply(bp,arguments)};var wp=/^[:|\|]/;function kp(_u,Wl,Jl){var Pu=this,Nu=arguments;return Wl||(Wl={}),_u.replace(Et.TEMPLATE_STRING_REGEX,function(tp,up,dp){var Ap=up==="xother"||up==="yother",Op=up==="_xother"||up==="_yother",Zp=up==="_xother_"||up==="_yother_",u0=up==="xother_"||up==="yother_",r0=Ap||Op||u0||Zp,e0=up;(Op||Zp)&&(e0=e0.substring(1)),(u0||Zp)&&(e0=e0.substring(0,e0.length-1));var Cp=null,Mp=null;if(Pu.parseMultDiv){var sp=ap(e0);e0=sp.key,Cp=sp.op,Mp=sp.number}var Ip;if(r0){if(Ip=Wl[e0],Ip===void 0)return""}else{var Jp,a0;for(a0=3;a0<Nu.length;a0++)if(Jp=Nu[a0],!!Jp){if(Jp.hasOwnProperty(e0)){Ip=Jp[e0];break}if(Wu.test(e0)||(Ip=Et.nestedProperty(Jp,e0).get(!0)),Ip!==void 0)break}}if(Ip!==void 0&&(Cp==="*"&&(Ip*=Mp),Cp==="/"&&(Ip/=Mp)),Ip===void 0&&Pu)return Pu.count<Pu.max&&(Et.warn("Variable '"+e0+"' in "+Pu.name+" could not be found!"),Ip=tp),Pu.count===Pu.max&&Et.warn("Too many "+Pu.name+" warnings - additional warnings will be suppressed"),Pu.count++,tp;if(dp){var v0;if(dp[0]===":"&&(v0=Jl?Jl.numberFormat:Et.numberFormat,Ip!==""&&(Ip=v0(dp.replace(wp,""))(Ip))),dp[0]==="|"){v0=Jl?Jl.timeFormat:_t;var h0=Et.dateTime2ms(Ip);Ip=Et.formatDate(h0,dp.replace(wp,""),!1,v0)}}else{var w0=e0+"Label";Wl.hasOwnProperty(w0)&&(Ip=Wl[w0])}return r0&&(Ip="("+Ip+")",(Op||Zp)&&(Ip=" "+Ip),(u0||Zp)&&(Ip=Ip+" ")),Ip})}var Iu=48,Bu=57;Et.subplotSort=function(_u,Wl){for(var Jl=Math.min(_u.length,Wl.length)+1,Pu=0,Nu=0,tp=0;tp<Jl;tp++){var up=_u.charCodeAt(tp)||0,dp=Wl.charCodeAt(tp)||0,Ap=up>=Iu&&up<=Bu,Op=dp>=Iu&&dp<=Bu;if(Ap&&(Pu=10*Pu+up-Iu),Op&&(Nu=10*Nu+dp-Iu),!Ap||!Op){if(Pu!==Nu)return Pu-Nu;if(up!==dp)return up-dp}}return Nu-Pu};var Xl=2e9;Et.seedPseudoRandom=function(){Xl=2e9},Et.pseudoRandom=function(){var _u=Xl;return Xl=(69069*Xl+1)%4294967296,Math.abs(Xl-_u)<429496729?Et.pseudoRandom():Xl/4294967296},Et.fillText=function(_u,Wl,Jl){var Pu=Array.isArray(Jl)?function(up){Jl.push(up)}:function(up){Jl.text=up},Nu=Et.extractOption(_u,Wl,"htx","hovertext");if(Et.isValidTextValue(Nu))return Pu(Nu);var tp=Et.extractOption(_u,Wl,"tx","text");if(Et.isValidTextValue(tp))return Pu(tp)},Et.isValidTextValue=function(_u){return _u||_u===0},Et.formatPercent=function(_u,Wl){Wl=Wl||0;for(var Jl=(Math.round(100*_u*Math.pow(10,Wl))*Math.pow(.1,Wl)).toFixed(Wl)+"%",Pu=0;Pu<Wl;Pu++)Jl.indexOf(".")!==-1&&(Jl=Jl.replace("0%","%"),Jl=Jl.replace(".%","%"));return Jl},Et.isHidden=function(_u){var Wl=window.getComputedStyle(_u).display;return!Wl||Wl==="none"},Et.strTranslate=function(_u,Wl){return _u||Wl?"translate("+_u+","+Wl+")":""},Et.strRotate=function(_u){return _u?"rotate("+_u+")":""},Et.strScale=function(_u){return _u!==1?"scale("+_u+")":""},Et.getTextTransform=function(_u){var Wl=_u.noCenter,Jl=_u.textX,Pu=_u.textY,Nu=_u.targetX,tp=_u.targetY,up=_u.anchorX||0,dp=_u.anchorY||0,Ap=_u.rotate,Op=_u.scale;return Op?Op>1&&(Op=1):Op=0,Et.strTranslate(Nu-Op*(Jl+up),tp-Op*(Pu+dp))+Et.strScale(Op)+(Ap?"rotate("+Ap+(Wl?"":" "+Jl+" "+Pu)+")":"")},Et.setTransormAndDisplay=function(_u,Wl){_u.attr("transform",Et.getTextTransform(Wl)),_u.style("display",Wl.scale?null:"none")},Et.ensureUniformFontSize=function(_u,Wl){var Jl=Et.extendFlat({},Wl);return Jl.size=Math.max(Wl.size,_u._fullLayout.uniformtext.minsize||0),Jl},Et.join2=function(_u,Wl,Jl){var Pu=_u.length;return Pu>1?_u.slice(0,-1).join(Wl)+Jl+_u[Pu-1]:_u.join(Wl)},Et.bigFont=function(_u){return Math.round(1.2*_u)};var Uu=Et.getFirefoxVersion(),ep=Uu!==null&&Uu<86;Et.getPositionFromD3Event=function(){return ep?[ls.event.layerX,ls.event.layerY]:[ls.event.offsetX,ls.event.offsetY]}}),Sy=a(()=>{var Mu=vm(),yu={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X:focus-within .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group a":"display:grid;place-content:center;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;border:none;background:rgba(0,0,0,0);","X .modebar-btn svg":"position:relative;","X .modebar-btn:focus-visible":"outline:1px solid #000;outline-offset:1px;border-radius:3px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(_t in yu)ls=_t.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier"),Mu.addStyleRule(ls,yu[_t]);var ls,_t}),w2=a((Mu,yu)=>{yu.exports=!0}),C2=a((Mu,yu)=>{var ls=w2(),_t;typeof window.matchMedia=="function"?_t=!window.matchMedia("(hover: none)").matches:_t=ls,yu.exports=_t}),c2=a((Mu,yu)=>{var ls=typeof Reflect=="object"?Reflect:null,_t=ls&&typeof ls.apply=="function"?ls.apply:function(Hl,Kl,Gu){return Function.prototype.apply.call(Hl,Kl,Gu)},Fn;ls&&typeof ls.ownKeys=="function"?Fn=ls.ownKeys:Object.getOwnPropertySymbols?Fn=function(Hl){return Object.getOwnPropertyNames(Hl).concat(Object.getOwnPropertySymbols(Hl))}:Fn=function(Hl){return Object.getOwnPropertyNames(Hl)};function xl(Hl){console&&console.warn&&console.warn(Hl)}var Bn=Number.isNaN||function(Hl){return Hl!==Hl};function yl(){yl.init.call(this)}yu.exports=yl,yu.exports.once=_l,yl.EventEmitter=yl,yl.prototype._events=void 0,yl.prototype._eventsCount=0,yl.prototype._maxListeners=void 0;var Sl=10;function Al(Hl){if(typeof Hl!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Hl)}Object.defineProperty(yl,"defaultMaxListeners",{enumerable:!0,get:function(){return Sl},set:function(Hl){if(typeof Hl!="number"||Hl<0||Bn(Hl))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+Hl+".");Sl=Hl}}),yl.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},yl.prototype.setMaxListeners=function(Hl){if(typeof Hl!="number"||Hl<0||Bn(Hl))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+Hl+".");return this._maxListeners=Hl,this};function Et(Hl){return Hl._maxListeners===void 0?yl.defaultMaxListeners:Hl._maxListeners}yl.prototype.getMaxListeners=function(){return Et(this)},yl.prototype.emit=function(Hl){for(var Kl=[],Gu=1;Gu<arguments.length;Gu++)Kl.push(arguments[Gu]);var vu=Hl==="error",hu=this._events;if(hu!==void 0)vu=vu&&hu.error===void 0;else if(!vu)return!1;if(vu){var Yl;if(Kl.length>0&&(Yl=Kl[0]),Yl instanceof Error)throw Yl;var $u=new Error("Unhandled error."+(Yl?" ("+Yl.message+")":""));throw $u.context=Yl,$u}var bu=hu[Hl];if(bu===void 0)return!1;if(typeof bu=="function")_t(bu,this,Kl);else for(var Lu=bu.length,Fu=Ll(bu,Lu),Gu=0;Gu<Lu;++Gu)_t(Fu[Gu],this,Kl);return!0};function Pl(Hl,Kl,Gu,vu){var hu,Yl,$u;if(Al(Gu),Yl=Hl._events,Yl===void 0?(Yl=Hl._events=Object.create(null),Hl._eventsCount=0):(Yl.newListener!==void 0&&(Hl.emit("newListener",Kl,Gu.listener?Gu.listener:Gu),Yl=Hl._events),$u=Yl[Kl]),$u===void 0)$u=Yl[Kl]=Gu,++Hl._eventsCount;else if(typeof $u=="function"?$u=Yl[Kl]=vu?[Gu,$u]:[$u,Gu]:vu?$u.unshift(Gu):$u.push(Gu),hu=Et(Hl),hu>0&&$u.length>hu&&!$u.warned){$u.warned=!0;var bu=new Error("Possible EventEmitter memory leak detected. "+$u.length+" "+String(Kl)+" listeners added. Use emitter.setMaxListeners() to increase limit");bu.name="MaxListenersExceededWarning",bu.emitter=Hl,bu.type=Kl,bu.count=$u.length,xl(bu)}return Hl}yl.prototype.addListener=function(Hl,Kl){return Pl(this,Hl,Kl,!1)},yl.prototype.on=yl.prototype.addListener,yl.prototype.prependListener=function(Hl,Kl){return Pl(this,Hl,Kl,!0)};function El(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Fl(Hl,Kl,Gu){var vu={fired:!1,wrapFn:void 0,target:Hl,type:Kl,listener:Gu},hu=El.bind(vu);return hu.listener=Gu,vu.wrapFn=hu,hu}yl.prototype.once=function(Hl,Kl){return Al(Kl),this.on(Hl,Fl(this,Hl,Kl)),this},yl.prototype.prependOnceListener=function(Hl,Kl){return Al(Kl),this.prependListener(Hl,Fl(this,Hl,Kl)),this},yl.prototype.removeListener=function(Hl,Kl){var Gu,vu,hu,Yl,$u;if(Al(Kl),vu=this._events,vu===void 0)return this;if(Gu=vu[Hl],Gu===void 0)return this;if(Gu===Kl||Gu.listener===Kl)--this._eventsCount===0?this._events=Object.create(null):(delete vu[Hl],vu.removeListener&&this.emit("removeListener",Hl,Gu.listener||Kl));else if(typeof Gu!="function"){for(hu=-1,Yl=Gu.length-1;Yl>=0;Yl--)if(Gu[Yl]===Kl||Gu[Yl].listener===Kl){$u=Gu[Yl].listener,hu=Yl;break}if(hu<0)return this;hu===0?Gu.shift():Ol(Gu,hu),Gu.length===1&&(vu[Hl]=Gu[0]),vu.removeListener!==void 0&&this.emit("removeListener",Hl,$u||Kl)}return this},yl.prototype.off=yl.prototype.removeListener,yl.prototype.removeAllListeners=function(Hl){var Kl,Gu,vu;if(Gu=this._events,Gu===void 0)return this;if(Gu.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Gu[Hl]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Gu[Hl]),this;if(arguments.length===0){var hu=Object.keys(Gu),Yl;for(vu=0;vu<hu.length;++vu)Yl=hu[vu],Yl!=="removeListener"&&this.removeAllListeners(Yl);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(Kl=Gu[Hl],typeof Kl=="function")this.removeListener(Hl,Kl);else if(Kl!==void 0)for(vu=Kl.length-1;vu>=0;vu--)this.removeListener(Hl,Kl[vu]);return this};function $l(Hl,Kl,Gu){var vu=Hl._events;if(vu===void 0)return[];var hu=vu[Kl];return hu===void 0?[]:typeof hu=="function"?Gu?[hu.listener||hu]:[hu]:Gu?Bl(hu):Ll(hu,hu.length)}yl.prototype.listeners=function(Hl){return $l(this,Hl,!0)},yl.prototype.rawListeners=function(Hl){return $l(this,Hl,!1)},yl.listenerCount=function(Hl,Kl){return typeof Hl.listenerCount=="function"?Hl.listenerCount(Kl):Nl.call(Hl,Kl)},yl.prototype.listenerCount=Nl;function Nl(Hl){var Kl=this._events;if(Kl!==void 0){var Gu=Kl[Hl];if(typeof Gu=="function")return 1;if(Gu!==void 0)return Gu.length}return 0}yl.prototype.eventNames=function(){return this._eventsCount>0?Fn(this._events):[]};function Ll(Hl,Kl){for(var Gu=new Array(Kl),vu=0;vu<Kl;++vu)Gu[vu]=Hl[vu];return Gu}function Ol(Hl,Kl){for(;Kl+1<Hl.length;Kl++)Hl[Kl]=Hl[Kl+1];Hl.pop()}function Bl(Hl){for(var Kl=new Array(Hl.length),Gu=0;Gu<Kl.length;++Gu)Kl[Gu]=Hl[Gu].listener||Hl[Gu];return Kl}function _l(Hl,Kl){return new Promise(function(Gu,vu){function hu($u){Hl.removeListener(Kl,Yl),vu($u)}function Yl(){typeof Hl.removeListener=="function"&&Hl.removeListener("error",hu),Gu([].slice.call(arguments))}Il(Hl,Kl,Yl,{once:!0}),Kl!=="error"&&Rl(Hl,hu,{once:!0})})}function Rl(Hl,Kl,Gu){typeof Hl.on=="function"&&Il(Hl,"error",Kl,Gu)}function Il(Hl,Kl,Gu,vu){if(typeof Hl.on=="function")vu.once?Hl.once(Kl,Gu):Hl.on(Kl,Gu);else if(typeof Hl.addEventListener=="function")Hl.addEventListener(Kl,function hu(Yl){vu.once&&Hl.removeEventListener(Kl,hu),Gu(Yl)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof Hl)}}),Ly=a((Mu,yu)=>{var ls=c2().EventEmitter,_t={init:function(Fn){if(Fn._ev instanceof ls)return Fn;var xl=new ls,Bn=new ls;return Fn._ev=xl,Fn._internalEv=Bn,Fn.on=xl.on.bind(xl),Fn.once=xl.once.bind(xl),Fn.removeListener=xl.removeListener.bind(xl),Fn.removeAllListeners=xl.removeAllListeners.bind(xl),Fn._internalOn=Bn.on.bind(Bn),Fn._internalOnce=Bn.once.bind(Bn),Fn._removeInternalListener=Bn.removeListener.bind(Bn),Fn._removeAllInternalListeners=Bn.removeAllListeners.bind(Bn),Fn.emit=function(yl,Sl){xl.emit(yl,Sl),Bn.emit(yl,Sl)},typeof Fn.addEventListener=="function"&&Fn.addEventListener("wheel",()=>{},{passive:!0}),Fn},triggerHandler:function(Fn,xl,Bn){var yl,Sl=Fn._ev;if(!Sl)return;var Al=Sl._events[xl];if(!Al)return;function Et(El){if(El.listener){if(Sl.removeListener(xl,El.listener),!El.fired)return El.fired=!0,El.listener.apply(Sl,[Bn])}else return El.apply(Sl,[Bn])}Al=Array.isArray(Al)?Al:[Al];var Pl;for(Pl=0;Pl<Al.length-1;Pl++)Et(Al[Pl]);return yl=Et(Al[Pl]),yl},purge:function(Fn){return delete Fn._ev,delete Fn.on,delete Fn.once,delete Fn.removeListener,delete Fn.removeAllListeners,delete Fn.emit,delete Fn._ev,delete Fn._internalEv,delete Fn._internalOn,delete Fn._internalOnce,delete Fn._removeInternalListener,delete Fn._removeAllInternalListeners,Fn}};yu.exports=_t}),B2=a((Mu,yu)=>{var ls=vm(),_t=fp().dfltConfig;function Fn(Bn,yl){for(var Sl=[],Al,Et=0;Et<yl.length;Et++)Al=yl[Et],Al===Bn?Sl[Et]=Al:typeof Al=="object"?Sl[Et]=Array.isArray(Al)?ls.extendDeep([],Al):ls.extendDeepAll({},Al):Sl[Et]=Al;return Sl}var xl={};xl.add=function(Bn,yl,Sl,Al,Et){var Pl,El;if(Bn.undoQueue=Bn.undoQueue||{index:0,queue:[],sequence:!1},El=Bn.undoQueue.index,Bn.autoplay){Bn.undoQueue.inSequence||(Bn.autoplay=!1);return}!Bn.undoQueue.sequence||Bn.undoQueue.beginSequence?(Pl={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},Bn.undoQueue.queue.splice(El,Bn.undoQueue.queue.length-El,Pl),Bn.undoQueue.index+=1):Pl=Bn.undoQueue.queue[El-1],Bn.undoQueue.beginSequence=!1,Pl&&(Pl.undo.calls.unshift(yl),Pl.undo.args.unshift(Sl),Pl.redo.calls.push(Al),Pl.redo.args.push(Et)),Bn.undoQueue.queue.length>_t.queueLength&&(Bn.undoQueue.queue.shift(),Bn.undoQueue.index--)},xl.startSequence=function(Bn){Bn.undoQueue=Bn.undoQueue||{index:0,queue:[],sequence:!1},Bn.undoQueue.sequence=!0,Bn.undoQueue.beginSequence=!0},xl.stopSequence=function(Bn){Bn.undoQueue=Bn.undoQueue||{index:0,queue:[],sequence:!1},Bn.undoQueue.sequence=!1,Bn.undoQueue.beginSequence=!1},xl.undo=function(Bn){var yl,Sl;if(!(Bn.undoQueue===void 0||isNaN(Bn.undoQueue.index)||Bn.undoQueue.index<=0)){for(Bn.undoQueue.index--,yl=Bn.undoQueue.queue[Bn.undoQueue.index],Bn.undoQueue.inSequence=!0,Sl=0;Sl<yl.undo.calls.length;Sl++)xl.plotDo(Bn,yl.undo.calls[Sl],yl.undo.args[Sl]);Bn.undoQueue.inSequence=!1,Bn.autoplay=!1}},xl.redo=function(Bn){var yl,Sl;if(!(Bn.undoQueue===void 0||isNaN(Bn.undoQueue.index)||Bn.undoQueue.index>=Bn.undoQueue.queue.length)){for(yl=Bn.undoQueue.queue[Bn.undoQueue.index],Bn.undoQueue.inSequence=!0,Sl=0;Sl<yl.redo.calls.length;Sl++)xl.plotDo(Bn,yl.redo.calls[Sl],yl.redo.args[Sl]);Bn.undoQueue.inSequence=!1,Bn.autoplay=!1,Bn.undoQueue.index++}},xl.plotDo=function(Bn,yl,Sl){Bn.autoplay=!0,Sl=Fn(Bn,Sl),yl.apply(null,Sl)},yu.exports=xl}),u2=a((Mu,yu)=>{yu.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}}),Oy=a(Mu=>{var yu=Gp(),ls=vm(),_t=mu(),Fn=tm(),xl=u2(),Bn=j0(),yl=fp().configAttributes,Sl=Q0(),Al=ls.extendDeepAll,Et=ls.isPlainObject,Pl=ls.isArrayOrTypedArray,El=ls.nestedProperty,Fl=ls.valObjectMeta,$l="_isSubplotObj",Nl="_isLinkedToArray",Ll="_arrayAttrRegexps",Ol="_deprecated",Bl=[$l,Nl,Ll,Ol];Mu.IS_SUBPLOT_OBJ=$l,Mu.IS_LINKED_TO_ARRAY=Nl,Mu.DEPRECATED=Ol,Mu.UNDERSCORE_ATTRS=Bl,Mu.get=function(){var Fu={};return yu.allTypes.forEach(function(Du){Fu[Du]=Hl(Du)}),{defs:{valObjects:Fl,metaKeys:Bl.concat(["description","role","editType","impliedEdits"]),editType:{traces:Sl.traces,layout:Sl.layout},impliedEdits:{}},traces:Fu,layout:Kl(),frames:Gu(),animation:vu(Bn),config:vu(yl)}},Mu.crawl=function(Fu,Du,Hu,Vu){var gu=Hu||0;Vu=Vu||"",Object.keys(Fu).forEach(function(Wu){var qu=Fu[Wu];if(Bl.indexOf(Wu)===-1){var np=(Vu?Vu+".":"")+Wu;Du(qu,Wu,Fu,gu,np),!Mu.isValObject(qu)&&Et(qu)&&Wu!=="impliedEdits"&&Mu.crawl(qu,Du,gu+1,np)}})},Mu.isValObject=function(Fu){return Fu&&Fu.valType!==void 0},Mu.findArrayAttributes=function(Fu){var Du=[],Hu=[],Vu=[],gu,Wu;function qu(_h,ap,bp,wp){Hu=Hu.slice(0,wp).concat([ap]),Vu=Vu.slice(0,wp).concat([_h&&_h._isLinkedToArray]);var kp=_h&&(_h.valType==="data_array"||_h.arrayOk===!0)&&!(Hu[wp-1]==="colorbar"&&(ap==="ticktext"||ap==="tickvals"));kp&&np(gu,0,"")}function np(_h,ap,bp){var wp=_h[Hu[ap]],kp=bp+Hu[ap];if(ap===Hu.length-1)Pl(wp)&&Du.push(Wu+kp);else if(Vu[ap]){if(Array.isArray(wp))for(var Iu=0;Iu<wp.length;Iu++)Et(wp[Iu])&&np(wp[Iu],ap+1,kp+"["+Iu+"].")}else Et(wp)&&np(wp,ap+1,kp+".")}return gu=Fu,Wu="",Mu.crawl(_t,qu),Fu._module&&Fu._module.attributes&&Mu.crawl(Fu._module.attributes,qu),Du},Mu.getTraceValObject=function(Fu,Du){var Hu=Du[0],Vu=1,gu,Wu,qu=Fu._module;if(qu||(qu=(yu.modules[Fu.type||_t.type.dflt]||{})._module),!qu)return!1;if(gu=qu.attributes,Wu=gu&&gu[Hu],!Wu){var np=qu.basePlotModule;np&&np.attributes&&(Wu=np.attributes[Hu])}return Wu||(Wu=_t[Hu]),Rl(Wu,Du,Vu)},Mu.getLayoutValObject=function(Fu,Du){var Hu=_l(Fu,Du[0]);return Rl(Hu,Du,1)};function _l(Fu,Du){var Hu,Vu,gu,Wu,qu=Fu._basePlotModules;if(qu){var np;for(Hu=0;Hu<qu.length;Hu++){if(gu=qu[Hu],gu.attrRegex&&gu.attrRegex.test(Du)){if(gu.layoutAttrOverrides)return gu.layoutAttrOverrides;!np&&gu.layoutAttributes&&(np=gu.layoutAttributes)}var _h=gu.baseLayoutAttrOverrides;if(_h&&Du in _h)return _h[Du]}if(np)return np}var ap=Fu._modules;if(ap){for(Hu=0;Hu<ap.length;Hu++)if(Wu=ap[Hu].layoutAttributes,Wu&&Du in Wu)return Wu[Du]}for(Vu in yu.componentsRegistry){if(gu=yu.componentsRegistry[Vu],gu.name==="colorscale"&&Du.indexOf("coloraxis")===0)return gu.layoutAttributes[Du];if(!gu.schema&&Du===gu.name)return gu.layoutAttributes}return Du in Fn?Fn[Du]:!1}function Rl(Fu,Du,Hu){if(!Fu)return!1;if(Fu._isLinkedToArray){if(Il(Du[Hu]))Hu++;else if(Hu<Du.length)return!1}for(;Hu<Du.length;Hu++){var Vu=Fu[Du[Hu]];if(Et(Vu))Fu=Vu;else break;if(Hu===Du.length-1)break;if(Fu._isLinkedToArray){if(Hu++,!Il(Du[Hu]))return!1}else if(Fu.valType==="info_array"){Hu++;var gu=Du[Hu];if(!Il(gu))return!1;var Wu=Fu.items;if(Array.isArray(Wu)){if(gu>=Wu.length)return!1;if(Fu.dimensions===2){if(Hu++,Du.length===Hu)return Fu;var qu=Du[Hu];if(!Il(qu))return!1;Fu=Wu[gu][qu]}else Fu=Wu[gu]}else Fu=Wu}}return Fu}function Il(Fu){return Fu===Math.round(Fu)&&Fu>=0}function Hl(Fu){var Du,Hu;Du=yu.modules[Fu]._module,Hu=Du.basePlotModule;var Vu={};Vu.type=null;var gu=Al({},_t),Wu=Al({},Du.attributes);Mu.crawl(Wu,function(_h,ap,bp,wp,kp){El(gu,kp).set(void 0),_h===void 0&&El(Wu,kp).set(void 0)}),Al(Vu,gu),yu.traceIs(Fu,"noOpacity")&&delete Vu.opacity,yu.traceIs(Fu,"showLegend")||(delete Vu.showlegend,delete Vu.legendgroup),yu.traceIs(Fu,"noHover")&&(delete Vu.hoverinfo,delete Vu.hoverlabel),Du.selectPoints||delete Vu.selectedpoints,Al(Vu,Wu),Hu.attributes&&Al(Vu,Hu.attributes),Vu.type=Fu;var qu={meta:Du.meta||{},categories:Du.categories||{},animatable:!!Du.animatable,type:Fu,attributes:vu(Vu)};if(Du.layoutAttributes){var np={};Al(np,Du.layoutAttributes),qu.layoutAttributes=vu(np)}return Du.animatable||Mu.crawl(qu,function(_h){Mu.isValObject(_h)&&"anim"in _h&&delete _h.anim}),qu}function Kl(){var Fu={},Du,Hu;Al(Fu,Fn);for(Du in yu.subplotsRegistry)if(Hu=yu.subplotsRegistry[Du],!!Hu.layoutAttributes)if(Array.isArray(Hu.attr))for(var Vu=0;Vu<Hu.attr.length;Vu++)bu(Fu,Hu,Hu.attr[Vu]);else{var gu=Hu.attr==="subplot"?Hu.name:Hu.attr;bu(Fu,Hu,gu)}for(Du in yu.componentsRegistry){Hu=yu.componentsRegistry[Du];var Wu=Hu.schema;if(Wu&&(Wu.subplots||Wu.layout)){var qu=Wu.subplots;if(qu&&qu.xaxis&&!qu.yaxis)for(var np in qu.xaxis)delete Fu.yaxis[np];delete Fu.xaxis.shift,delete Fu.xaxis.autoshift}else Hu.name==="colorscale"?Al(Fu,Hu.layoutAttributes):Hu.layoutAttributes&&Lu(Fu,Hu.layoutAttributes,Hu.name)}return{layoutAttributes:vu(Fu)}}function Gu(){var Fu={frames:Al({},xl)};return vu(Fu),Fu.frames}function vu(Fu){return hu(Fu),Yl(Fu),$u(Fu),Fu}function hu(Fu){function Du(Vu){return{valType:"string",editType:"none"}}function Hu(Vu,gu,Wu){Mu.isValObject(Vu)?(Vu.arrayOk===!0||Vu.valType==="data_array")&&(Wu[gu+"src"]=Du()):Et(Vu)&&(Vu.role="object")}Mu.crawl(Fu,Hu)}function Yl(Fu){function Du(Hu,Vu,gu){if(Hu){var Wu=Hu[Nl];Wu&&(delete Hu[Nl],gu[Vu]={items:{}},gu[Vu].items[Wu]=Hu,gu[Vu].role="object")}}Mu.crawl(Fu,Du)}function $u(Fu){function Du(Hu){for(var Vu in Hu)if(Et(Hu[Vu]))Du(Hu[Vu]);else if(Array.isArray(Hu[Vu]))for(var gu=0;gu<Hu[Vu].length;gu++)Du(Hu[Vu][gu]);else Hu[Vu]instanceof RegExp&&(Hu[Vu]=Hu[Vu].toString())}Du(Fu)}function bu(Fu,Du,Hu){var Vu=El(Fu,Hu),gu=Al({},Du.layoutAttributes);gu[$l]=!0,Vu.set(gu)}function Lu(Fu,Du,Hu){var Vu=El(Fu,Hu);Vu.set(Al(Vu.get()||{},Du))}}),hv=a(Mu=>{var yu=vm(),ls=mu(),_t="templateitemname",Fn={name:{valType:"string",editType:"none"}};Fn[_t]={valType:"string",editType:"calc"},Mu.templatedArray=function(yl,Sl){return Sl._isLinkedToArray=yl,Sl.name=Fn.name,Sl[_t]=Fn[_t],Sl},Mu.traceTemplater=function(yl){var Sl={},Al,Et;for(Al in yl)Et=yl[Al],Array.isArray(Et)&&Et.length&&(Sl[Al]=0);function Pl(El){Al=yu.coerce(El,{},ls,"type");var Fl={type:Al,_template:null};if(Al in Sl){Et=yl[Al];var $l=Sl[Al]%Et.length;Sl[Al]++,Fl._template=Et[$l]}return Fl}return{newTrace:Pl}},Mu.newContainer=function(yl,Sl,Al){var Et=yl._template,Pl=Et&&(Et[Sl]||Al&&Et[Al]);yu.isPlainObject(Pl)||(Pl=null);var El=yl[Sl]={_template:Pl};return El},Mu.arrayTemplater=function(yl,Sl,Al){var Et=yl._template,Pl=Et&&Et[Bn(Sl)],El=Et&&Et[Sl];(!Array.isArray(El)||!El.length)&&(El=[]);var Fl={};function $l(Ll){var Ol={name:Ll.name,_input:Ll},Bl=Ol[_t]=Ll[_t];if(!xl(Bl))return Ol._template=Pl,Ol;for(var _l=0;_l<El.length;_l++){var Rl=El[_l];if(Rl.name===Bl)return Fl[Bl]=1,Ol._template=Rl,Ol}return Ol[Al]=Ll[Al]||!1,Ol._template=!1,Ol}function Nl(){for(var Ll=[],Ol=0;Ol<El.length;Ol++){var Bl=El[Ol],_l=Bl.name;if(xl(_l)&&!Fl[_l]){var Rl={_template:Bl,name:_l,_input:{_templateitemname:_l}};Rl[_t]=Bl[_t],Ll.push(Rl),Fl[_l]=1}}return Ll}return{newItem:$l,defaultItems:Nl}};function xl(yl){return yl&&typeof yl=="string"}function Bn(yl){var Sl=yl.length-1;return yl.charAt(Sl)!=="s"&&yu.warn("bad argument to arrayDefaultKey: "+yl),yl.substr(0,yl.length-1)+"defaults"}Mu.arrayDefaultKey=Bn,Mu.arrayEditor=function(yl,Sl,Al){var Et=(yu.nestedProperty(yl,Sl).get()||[]).length,Pl=Al._index,El=Pl>=Et&&(Al._input||{})._templateitemname;El&&(Pl=Et);var Fl=Sl+"["+Pl+"]",$l;function Nl(){$l={},El&&($l[Fl]={},$l[Fl][_t]=El)}Nl();function Ll(Rl,Il){$l[Rl]=Il}function Ol(Rl,Il){El?yu.nestedProperty($l[Fl],Rl).set(Il):$l[Fl+"."+Rl]=Il}function Bl(){var Rl=$l;return Nl(),Rl}function _l(Rl,Il){Rl&&Ol(Rl,Il);var Hl=Bl();for(var Kl in Hl)yu.nestedProperty(yl,Kl).set(Hl[Kl])}return{modifyBase:Ll,modifyItem:Ol,getUpdateObj:Bl,applyUpdate:_l}}}),A1=a((Mu,yu)=>{var ls=yp().counter;yu.exports={idRegex:{x:ls("x","( domain)?"),y:ls("y","( domain)?")},attrRegex:ls("[xy]axis"),xAxisMatch:ls("xaxis"),yAxisMatch:ls("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"},zindexSeparator:"z"}}),mv=a(Mu=>{var yu=Gp(),ls=A1();Mu.id2name=function(Fn){if(!(typeof Fn!="string"||!Fn.match(ls.AX_ID_PATTERN))){var xl=Fn.split(" ")[0].substr(1);return xl==="1"&&(xl=""),Fn.charAt(0)+"axis"+xl}},Mu.name2id=function(Fn){if(Fn.match(ls.AX_NAME_PATTERN)){var xl=Fn.substr(5);return xl==="1"&&(xl=""),Fn.charAt(0)+xl}},Mu.cleanId=function(Fn,xl,Bn){var yl=/( domain)$/.test(Fn);if(!(typeof Fn!="string"||!Fn.match(ls.AX_ID_PATTERN))&&!(xl&&Fn.charAt(0)!==xl)&&!(yl&&!Bn)){var Sl=Fn.split(" ")[0].substr(1).replace(/^0+/,"");return Sl==="1"&&(Sl=""),Fn.charAt(0)+Sl+(yl&&Bn?" domain":"")}},Mu.list=function(Fn,xl,Bn){var yl=Fn._fullLayout;if(!yl)return[];var Sl=Mu.listIds(Fn,xl),Al=new Array(Sl.length),Et;for(Et=0;Et<Sl.length;Et++){var Pl=Sl[Et];Al[Et]=yl[Pl.charAt(0)+"axis"+Pl.substr(1)]}if(!Bn){var El=yl._subplots.gl3d||[];for(Et=0;Et<El.length;Et++){var Fl=yl[El[Et]];xl?Al.push(Fl[xl+"axis"]):Al.push(Fl.xaxis,Fl.yaxis,Fl.zaxis)}}return Al},Mu.listIds=function(Fn,xl){var Bn=Fn._fullLayout;if(!Bn)return[];var yl=Bn._subplots;return xl?yl[xl+"axis"]:yl.xaxis.concat(yl.yaxis)},Mu.getFromId=function(Fn,xl,Bn){var yl=Fn._fullLayout;return xl=xl===void 0||typeof xl!="string"?xl:xl.replace(" domain",""),Bn==="x"?xl=xl.replace(/y[0-9]*/,""):Bn==="y"&&(xl=xl.replace(/x[0-9]*/,"")),yl[Mu.id2name(xl)]},Mu.getFromTrace=function(Fn,xl,Bn){var yl=Fn._fullLayout,Sl=null;if(yu.traceIs(xl,"gl3d")){var Al=xl.scene;Al.substr(0,5)==="scene"&&(Sl=yl[Al][Bn+"axis"])}else Sl=Mu.getFromId(Fn,xl[Bn+"axis"]||Bn);return Sl},Mu.idSort=function(Fn,xl){var Bn=Fn.charAt(0),yl=xl.charAt(0);return Bn!==yl?Bn>yl?1:-1:+(Fn.substr(1)||1)-+(xl.substr(1)||1)},Mu.ref2id=function(Fn){return/^[xyz]/.test(Fn)?Fn.split(" ")[0]:!1};function _t(Fn,xl){if(xl&&xl.length){for(var Bn=0;Bn<xl.length;Bn++)if(xl[Bn][Fn])return!0}return!1}Mu.isLinked=function(Fn,xl){return _t(xl,Fn._axisMatchGroups)||_t(xl,Fn._axisConstraintGroups)}}),Jv=a((Mu,yu)=>{function ls(Fn){var xl=Fn._fullLayout._zoomlayer;xl&&xl.selectAll(".outline-controllers").remove()}function _t(Fn){var xl=Fn._fullLayout._zoomlayer;xl&&xl.selectAll(".select-outline").remove(),Fn._fullLayout._outlining=!1}yu.exports={clearOutlineControllers:ls,clearOutline:_t}}),n3=a((Mu,yu)=>{yu.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}}),e2=a(Mu=>{var yu=Gp();A1().SUBPLOT_PATTERN,Mu.getSubplotCalcData=function(ls,_t,Fn){var xl=yu.subplotsRegistry[_t];if(!xl)return[];for(var Bn=xl.attr,yl=[],Sl=0;Sl<ls.length;Sl++){var Al=ls[Sl],Et=Al[0].trace;Et[Bn]===Fn&&yl.push(Al)}return yl},Mu.getModuleCalcData=function(ls,_t,Fn){var xl=[],Bn=[],yl;if(typeof _t=="string"?yl=yu.getModule(_t).plot:typeof _t=="function"?yl=_t:yl=_t.plot,!yl)return[xl,ls];for(var Sl=Fn,Al=0;Al<ls.length;Al++){var Et=ls[Al],Pl=Et[0].trace,El=Pl.zorder!==void 0;Pl.visible!==!0||Pl._length===0||(Pl._module&&Pl._module.plot===yl&&(!El||Pl.zorder===Sl)?xl.push(Et):Bn.push(Et))}return[xl,Bn]},Mu.getSubplotData=function(ls,_t,Fn){if(!yu.subplotsRegistry[_t])return[];for(var xl=yu.subplotsRegistry[_t].attr,Bn=[],yl,Sl,Al,Et=0;Et<ls.length;Et++)yl=ls[Et],yl[xl]===Fn&&Bn.push(yl);return Bn}}),i3=a(Mu=>{var yu=Gp(),ls=vm();Mu.manageCommandObserver=function(Sl,Al,Et,Pl){var El={},Fl=!0;Al&&Al._commandObserver&&(El=Al._commandObserver),El.cache||(El.cache={}),El.lookupTable={};var $l=Mu.hasSimpleAPICommandBindings(Sl,Et,El.lookupTable);if(Al&&Al._commandObserver){if($l)return El;if(Al._commandObserver.remove)return Al._commandObserver.remove(),Al._commandObserver=null,El}if($l){_t(Sl,$l,El.cache),El.check=function(){if(Fl){var Ol=_t(Sl,$l,El.cache);return Ol.changed&&Pl&&El.lookupTable[Ol.value]!==void 0&&(El.disable(),Promise.resolve(Pl({value:Ol.value,type:$l.type,prop:$l.prop,traces:$l.traces,index:El.lookupTable[Ol.value]})).then(El.enable,El.enable)),Ol.changed}};for(var Nl=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],Ll=0;Ll<Nl.length;Ll++)Sl._internalOn(Nl[Ll],El.check);El.remove=function(){for(var Ol=0;Ol<Nl.length;Ol++)Sl._removeInternalListener(Nl[Ol],El.check)}}else ls.log("Unable to automatically bind plot updates to API command"),El.lookupTable={},El.remove=function(){};return El.disable=function(){Fl=!1},El.enable=function(){Fl=!0},Al&&(Al._commandObserver=El),El},Mu.hasSimpleAPICommandBindings=function(Sl,Al,Et){var Pl,El=Al.length,Fl;for(Pl=0;Pl<El;Pl++){var $l,Nl=Al[Pl],Ll=Nl.method,Ol=Nl.args;if(Array.isArray(Ol)||(Ol=[]),!Ll)return!1;var Bl=Mu.computeAPICommandBindings(Sl,Ll,Ol);if(Bl.length!==1)return!1;if(!Fl)Fl=Bl[0],Array.isArray(Fl.traces)&&Fl.traces.sort();else{if($l=Bl[0],$l.type!==Fl.type||$l.prop!==Fl.prop)return!1;if(Array.isArray(Fl.traces))if(Array.isArray($l.traces)){$l.traces.sort();for(var _l=0;_l<Fl.traces.length;_l++)if(Fl.traces[_l]!==$l.traces[_l])return!1}else return!1;else if($l.prop!==Fl.prop)return!1}$l=Bl[0];var Rl=$l.value;if(Array.isArray(Rl))if(Rl.length===1)Rl=Rl[0];else return!1;Et&&(Et[Rl]=Pl)}return Fl};function _t(Sl,Al,Et){var Pl,El,Fl,$l=!1;if(Al.type==="data")Pl=Sl._fullData[Al.traces!==null?Al.traces[0]:0];else if(Al.type==="layout")Pl=Sl._fullLayout;else return!1;return El=ls.nestedProperty(Pl,Al.prop).get(),Fl=Et[Al.type]=Et[Al.type]||{},Fl.hasOwnProperty(Al.prop)&&Fl[Al.prop]!==El&&($l=!0),Fl[Al.prop]=El,{changed:$l,value:El}}Mu.executeAPICommand=function(Sl,Al,Et){if(Al==="skip")return Promise.resolve();var Pl=yu.apiMethodRegistry[Al],El=[Sl];Array.isArray(Et)||(Et=[]);for(var Fl=0;Fl<Et.length;Fl++)El.push(Et[Fl]);return Pl.apply(null,El).catch(function($l){return ls.warn("API call to Plotly."+Al+" rejected.",$l),Promise.reject($l)})},Mu.computeAPICommandBindings=function(Sl,Al,Et){var Pl;switch(Array.isArray(Et)||(Et=[]),Al){case"restyle":Pl=Bn(Sl,Et);break;case"relayout":Pl=xl(Sl,Et);break;case"update":Pl=Bn(Sl,[Et[0],Et[2]]).concat(xl(Sl,[Et[1]]));break;case"animate":Pl=Fn(Sl,Et);break;default:Pl=[]}return Pl};function Fn(Sl,Al){return Array.isArray(Al[0])&&Al[0].length===1&&["string","number"].indexOf(typeof Al[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:Al[0][0].toString()}]:[]}function xl(Sl,Al){var Et=[],Pl=Al[0],El={};if(typeof Pl=="string")El[Pl]=Al[1];else if(ls.isPlainObject(Pl))El=Pl;else return Et;return yl(El,function(Fl,$l,Nl){Et.push({type:"layout",prop:Fl,value:Nl})},"",0),Et}function Bn(Sl,Al){var Et,Pl,El,Fl,$l=[];if(Pl=Al[0],El=Al[1],Et=Al[2],Fl={},typeof Pl=="string")Fl[Pl]=El;else if(ls.isPlainObject(Pl))Fl=Pl,Et===void 0&&(Et=El);else return $l;return Et===void 0&&(Et=null),yl(Fl,function(Nl,Ll,Ol){var Bl,_l;if(Array.isArray(Ol)){_l=Ol.slice();var Rl=Math.min(_l.length,Sl.data.length);Et&&(Rl=Math.min(Rl,Et.length)),Bl=[];for(var Il=0;Il<Rl;Il++)Bl[Il]=Et?Et[Il]:Il}else _l=Ol,Bl=Et?Et.slice():null;if(Bl===null)Array.isArray(_l)&&(_l=_l[0]);else if(Array.isArray(Bl)){if(!Array.isArray(_l)){var Hl=_l;_l=[];for(var Kl=0;Kl<Bl.length;Kl++)_l[Kl]=Hl}_l.length=Math.min(Bl.length,_l.length)}$l.push({type:"data",prop:Nl,traces:Bl,value:_l})},"",0),$l}function yl(Sl,Al,Et,Pl){Object.keys(Sl).forEach(function(El){var Fl=Sl[El];if(El[0]!=="_"){var $l=Et+(Pl>0?".":"")+El;ls.isPlainObject(Fl)?yl(Fl,Al,$l,Pl+1):Al($l,El,Fl)}})}}),Fv=a((Mu,yu)=>{var ls=g(),_t=_().timeFormatLocale,Fn=$().formatLocale,xl=rt(),Bn=st(),yl=Gp(),Sl=Oy(),Al=hv(),Et=vm(),Pl=cp(),El=nt().BADNUM,Fl=mv(),$l=Jv().clearOutline,Nl=n3(),Ll=j0(),Ol=u2(),Bl=e2().getModuleCalcData,_l=Et.relinkPrivateKeys,Rl=Et._,Il=yu.exports={};Et.extendFlat(Il,yl),Il.attributes=mu(),Il.attributes.type.values=Il.allTypes,Il.fontAttrs=Ml(),Il.layoutAttributes=tm();var Hl=i3();Il.executeAPICommand=Hl.executeAPICommand,Il.computeAPICommandBindings=Hl.computeAPICommandBindings,Il.manageCommandObserver=Hl.manageCommandObserver,Il.hasSimpleAPICommandBindings=Hl.hasSimpleAPICommandBindings,Il.redrawText=function(Iu){return Iu=Et.getGraphDiv(Iu),new Promise(function(Bu){setTimeout(function(){Iu._fullLayout&&(yl.getComponentMethod("annotations","draw")(Iu),yl.getComponentMethod("legend","draw")(Iu),yl.getComponentMethod("colorbar","draw")(Iu),Bu(Il.previousPromises(Iu)))},300)})},Il.resize=function(Iu){Iu=Et.getGraphDiv(Iu);var Bu,Xl=new Promise(function(Uu,ep){(!Iu||Et.isHidden(Iu))&&ep(new Error("Resize must be passed a displayed plot div element.")),Iu._redrawTimer&&clearTimeout(Iu._redrawTimer),Iu._resolveResize&&(Bu=Iu._resolveResize),Iu._resolveResize=Uu,Iu._redrawTimer=setTimeout(function(){if(!Iu.layout||Iu.layout.width&&Iu.layout.height||Et.isHidden(Iu)){Uu(Iu);return}delete Iu.layout.width,delete Iu.layout.height;var _u=Iu.changed;Iu.autoplay=!0,yl.call("relayout",Iu,{autosize:!0}).then(function(){Iu.changed=_u,Iu._resolveResize===Uu&&(delete Iu._resolveResize,Uu(Iu))})},100)});return Bu&&Bu(Xl),Xl},Il.previousPromises=function(Iu){if((Iu._promises||[]).length)return Promise.all(Iu._promises).then(function(){Iu._promises=[]})},Il.addLinks=function(Iu){if(!(!Iu._context.showLink&&!Iu._context.showSources)){var Bu=Iu._fullLayout,Xl=Et.ensureSingle(Bu._paper,"text","js-plot-link-container",function(Pu){Pu.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:Pl.defaultLine,"pointer-events":"all"}).each(function(){var Nu=ls.select(this);Nu.append("tspan").classed("js-link-to-tool",!0),Nu.append("tspan").classed("js-link-spacer",!0),Nu.append("tspan").classed("js-sourcelinks",!0)})}),Uu=Xl.node(),ep={y:Bu._paper.attr("height")-9};document.body.contains(Uu)&&Uu.getComputedTextLength()>=Bu.width-20?(ep["text-anchor"]="start",ep.x=5):(ep["text-anchor"]="end",ep.x=Bu._paper.attr("width")-7),Xl.attr(ep);var _u=Xl.select(".js-link-to-tool"),Wl=Xl.select(".js-link-spacer"),Jl=Xl.select(".js-sourcelinks");Iu._context.showSources&&Iu._context.showSources(Iu),Iu._context.showLink&&Kl(Iu,_u),Wl.text(_u.text()&&Jl.text()?" - ":"")}};function Kl(Iu,Bu){Bu.text("");var Xl=Bu.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(Iu._context.linkText+" ");if(Iu._context.sendData)Xl.on("click",function(){Il.sendDataToCloud(Iu)});else{var Uu=window.location.pathname.split("/"),ep=window.location.search;Xl.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+Uu[2].split(".")[0]+"/"+Uu[1]+ep})}}Il.sendDataToCloud=function(Iu){var Bu=(window.PLOTLYENV||{}).BASE_URL||Iu._context.plotlyServerURL;if(Bu){Iu.emit("plotly_beforeexport");var Xl=ls.select(Iu).append("div").attr("id","hiddenform").style("display","none"),Uu=Xl.append("form").attr({action:Bu+"/external",method:"post",target:"_blank"}),ep=Uu.append("input").attr({type:"text",name:"data"});return ep.node().value=Il.graphJson(Iu,!1,"keepdata"),Uu.node().submit(),Xl.remove(),Iu.emit("plotly_afterexport"),!1}};var Gu=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],vu=["year","month","dayMonth","dayMonthYear"];Il.supplyDefaults=function(Iu,Bu){var Xl=Bu&&Bu.skipUpdateCalc,Uu=Iu._fullLayout||{};if(Uu._skipDefaults){delete Uu._skipDefaults;return}var ep=Iu._fullLayout={},_u=Iu.layout||{},Wl=Iu._fullData||[],Jl=Iu._fullData=[],Pu=Iu.data||[],Nu=Iu.calcdata||[],tp=Iu._context||{},up;Iu._transitionData||Il.createTransitionData(Iu),ep._dfltTitle={plot:Rl(Iu,"Click to enter Plot title"),subtitle:Rl(Iu,"Click to enter Plot subtitle"),x:Rl(Iu,"Click to enter X axis title"),y:Rl(Iu,"Click to enter Y axis title"),colorbar:Rl(Iu,"Click to enter Colorscale title"),annotation:Rl(Iu,"new text")},ep._traceWord=Rl(Iu,"trace");var dp=$u(Iu,Gu);if(ep._mapboxAccessToken=tp.mapboxAccessToken,Uu._initialAutoSizeIsDone){var Ap=Uu.width,Op=Uu.height;Il.supplyLayoutGlobalDefaults(_u,ep,dp),_u.width||(ep.width=Ap),_u.height||(ep.height=Op),Il.sanitizeMargins(ep)}else{Il.supplyLayoutGlobalDefaults(_u,ep,dp);var Zp=!_u.width||!_u.height,u0=ep.autosize,r0=tp.autosizable,e0=Zp&&(u0||r0);e0?Il.plotAutoSize(Iu,_u,ep):Zp&&Il.sanitizeMargins(ep),!u0&&Zp&&(_u.width=ep.width,_u.height=ep.height)}ep._d3locale=bu(dp,ep.separators),ep._extraFormat=$u(Iu,vu),ep._initialAutoSizeIsDone=!0,ep._dataLength=Pu.length,ep._modules=[],ep._visibleModules=[],ep._basePlotModules=[];var Cp=ep._subplots=Yl(),Mp=ep._splomAxes={x:{},y:{}},sp=ep._splomSubplots={};ep._splomGridDflt={},ep._scatterStackOpts={},ep._firstScatter={},ep._alignmentOpts={},ep._colorAxes={},ep._requestRangeslider={},ep._traceUids=hu(Wl,Pu),Il.supplyDataDefaults(Pu,Jl,_u,ep);var Ip=Object.keys(Mp.x),Jp=Object.keys(Mp.y);if(Ip.length>1&&Jp.length>1){for(yl.getComponentMethod("grid","sizeDefaults")(_u,ep),up=0;up<Ip.length;up++)Et.pushUnique(Cp.xaxis,Ip[up]);for(up=0;up<Jp.length;up++)Et.pushUnique(Cp.yaxis,Jp[up]);for(var a0 in sp)Et.pushUnique(Cp.cartesian,a0)}if(ep._has=Il._hasPlotType.bind(ep),Wl.length===Jl.length)for(up=0;up<Jl.length;up++)_l(Jl[up],Wl[up]);Il.supplyLayoutModuleDefaults(_u,ep,Jl,Iu._transitionData);var v0=ep._visibleModules,h0=[];for(up=0;up<v0.length;up++){var w0=v0[up].crossTraceDefaults;w0&&Et.pushUnique(h0,w0)}for(up=0;up<h0.length;up++)h0[up](Jl,ep);ep._hasOnlyLargeSploms=ep._basePlotModules.length===1&&ep._basePlotModules[0].name==="splom"&&Ip.length>15&&Jp.length>15&&ep.shapes.length===0&&ep.images.length===0,Il.linkSubplots(Jl,ep,Wl,Uu),Il.cleanPlot(Jl,ep,Wl,Uu);var E0=!!(Uu._has&&Uu._has("cartesian")),_0=!!(ep._has&&ep._has("cartesian")),$0=E0,f0=_0;$0&&!f0?Uu._bgLayer.remove():f0&&!$0&&(ep._shouldCreateBgLayer=!0),Uu._zoomlayer&&!Iu._dragging&&$l({_fullLayout:Uu}),Lu(Jl,ep),_l(ep,Uu),yl.getComponentMethod("colorscale","crossTraceDefaults")(Jl,ep),ep._preGUI||(ep._preGUI={}),ep._tracePreGUI||(ep._tracePreGUI={});var q0=ep._tracePreGUI,J0={},V0;for(V0 in q0)J0[V0]="old";for(up=0;up<Jl.length;up++)V0=Jl[up]._fullInput.uid,J0[V0]||(q0[V0]={}),J0[V0]="new";for(V0 in J0)J0[V0]==="old"&&delete q0[V0];Hu(ep),yl.getComponentMethod("rangeslider","makeData")(ep),!Xl&&Nu.length===Jl.length&&Il.supplyDefaultsUpdateCalc(Nu,Jl)},Il.supplyDefaultsUpdateCalc=function(Iu,Bu){for(var Xl=0;Xl<Bu.length;Xl++){var Uu=Bu[Xl],ep=(Iu[Xl]||[])[0];if(ep&&ep.trace){var _u=ep.trace;if(_u._hasCalcTransform){var Wl=_u._arrayAttrs,Jl,Pu,Nu;for(Jl=0;Jl<Wl.length;Jl++)Pu=Wl[Jl],Nu=Et.nestedProperty(_u,Pu).get().slice(),Et.nestedProperty(Uu,Pu).set(Nu)}ep.trace=Uu}}};function hu(Iu,Bu){var Xl=Bu.length,Uu=[],ep,_u;for(ep=0;ep<Iu.length;ep++){var Wl=Iu[ep]._fullInput;Wl!==_u&&Uu.push(Wl),_u=Wl}var Jl=Uu.length,Pu=new Array(Xl),Nu={};function tp(Ap,Op){Pu[Op]=Ap,Nu[Ap]=1}function up(Ap,Op){if(Ap&&typeof Ap=="string"&&!Nu[Ap])return tp(Ap,Op),!0}for(ep=0;ep<Xl;ep++){var dp=Bu[ep].uid;typeof dp=="number"&&(dp=String(dp)),!up(dp,ep)&&(ep<Jl&&up(Uu[ep].uid,ep)||tp(Et.randstr(Nu),ep))}return Pu}function Yl(){var Iu=yl.collectableSubplotTypes,Bu={},Xl,Uu;if(!Iu){Iu=[];var ep=yl.subplotsRegistry;for(var _u in ep){var Wl=ep[_u],Jl=Wl.attr;if(Jl&&(Iu.push(_u),Array.isArray(Jl)))for(Uu=0;Uu<Jl.length;Uu++)Et.pushUnique(Iu,Jl[Uu])}}for(Xl=0;Xl<Iu.length;Xl++)Bu[Iu[Xl]]=[];return Bu}function $u(Iu,Bu){var Xl=Iu._context.locale;Xl||(Xl="en-US");var Uu=!1,ep={};function _u(up){for(var dp=!0,Ap=0;Ap<Bu.length;Ap++){var Op=Bu[Ap];ep[Op]||(up[Op]?ep[Op]=up[Op]:dp=!1)}dp&&(Uu=!0)}for(var Wl=0;Wl<2;Wl++){for(var Jl=Iu._context.locales,Pu=0;Pu<2;Pu++){var Nu=(Jl[Xl]||{}).format;if(Nu&&(_u(Nu),Uu))break;Jl=yl.localeRegistry}var tp=Xl.split("-")[0];if(Uu||tp===Xl)break;Xl=tp}return Uu||_u(yl.localeRegistry.en.format),ep}function bu(Iu,Bu){return Iu.decimal=Bu.charAt(0),Iu.thousands=Bu.charAt(1),{numberFormat:function(Xl){try{Xl=Fn(Iu).format(Et.adjustFormat(Xl))}catch{return Et.warnBadFormat(Xl),Et.noFormat}return Xl},timeFormat:_t(Iu).utcFormat}}function Lu(Iu,Bu){var Xl,Uu=[];Bu.meta&&(Xl=Bu._meta={meta:Bu.meta,layout:{meta:Bu.meta}});for(var ep=0;ep<Iu.length;ep++){var _u=Iu[ep];_u.meta?Uu[_u.index]=_u._meta={meta:_u.meta}:Bu.meta&&(_u._meta={meta:Bu.meta}),Bu.meta&&(_u._meta.layout={meta:Bu.meta})}Uu.length&&(Xl||(Xl=Bu._meta={}),Xl.data=Uu)}Il.createTransitionData=function(Iu){Iu._transitionData||(Iu._transitionData={}),Iu._transitionData._frames||(Iu._transitionData._frames=[]),Iu._transitionData._frameHash||(Iu._transitionData._frameHash={}),Iu._transitionData._counter||(Iu._transitionData._counter=0),Iu._transitionData._interruptCallbacks||(Iu._transitionData._interruptCallbacks=[])},Il._hasPlotType=function(Iu){var Bu,Xl=this._basePlotModules||[];for(Bu=0;Bu<Xl.length;Bu++)if(Xl[Bu].name===Iu)return!0;var Uu=this._modules||[];for(Bu=0;Bu<Uu.length;Bu++){var ep=Uu[Bu].name;if(ep===Iu)return!0;var _u=yl.modules[ep];if(_u&&_u.categories[Iu])return!0}return!1},Il.cleanPlot=function(Iu,Bu,Xl,Uu){var ep,_u,Wl=Uu._basePlotModules||[];for(ep=0;ep<Wl.length;ep++){var Jl=Wl[ep];Jl.clean&&Jl.clean(Iu,Bu,Xl,Uu)}var Pu=Uu._has&&Uu._has("gl"),Nu=Bu._has&&Bu._has("gl");Pu&&!Nu&&Uu._glcontainer!==void 0&&(Uu._glcontainer.selectAll(".gl-canvas").remove(),Uu._glcontainer.selectAll(".no-webgl").remove(),Uu._glcanvas=null);var tp=!!Uu._infolayer;e:for(ep=0;ep<Xl.length;ep++){var up=Xl[ep],dp=up.uid;for(_u=0;_u<Iu.length;_u++){var Ap=Iu[_u];if(dp===Ap.uid)continue e}tp&&Uu._infolayer.select(".cb"+dp).remove()}},Il.linkSubplots=function(Iu,Bu,Xl,Uu){var ep,_u,Wl=Uu._plots||{},Jl=Bu._plots={},Pu=Bu._subplots,Nu={_fullData:Iu,_fullLayout:Bu},tp=Pu.cartesian||[];for(ep=0;ep<tp.length;ep++){var up=tp[ep],dp=Wl[up],Ap=Fl.getFromId(Nu,up,"x"),Op=Fl.getFromId(Nu,up,"y"),Zp;for(dp?Zp=Jl[up]=dp:(Zp=Jl[up]={},Zp.id=up),Ap._counterAxes.push(Op._id),Op._counterAxes.push(Ap._id),Ap._subplotsWith.push(up),Op._subplotsWith.push(up),Zp.xaxis=Ap,Zp.yaxis=Op,Zp._hasClipOnAxisFalse=!1,_u=0;_u<Iu.length;_u++){var u0=Iu[_u];if(u0.xaxis===Zp.xaxis._id&&u0.yaxis===Zp.yaxis._id&&u0.cliponaxis===!1){Zp._hasClipOnAxisFalse=!0;break}}}var r0=Fl.list(Nu,null,!0),e0;for(ep=0;ep<r0.length;ep++){e0=r0[ep];var Cp=null;e0.overlaying&&(Cp=Fl.getFromId(Nu,e0.overlaying),Cp&&Cp.overlaying&&(e0.overlaying=!1,Cp=null)),e0._mainAxis=Cp||e0,Cp&&(e0.domain=Cp.domain.slice()),e0._anchorAxis=e0.anchor==="free"?null:Fl.getFromId(Nu,e0.anchor)}for(ep=0;ep<r0.length;ep++)if(e0=r0[ep],e0._counterAxes.sort(Fl.idSort),e0._subplotsWith.sort(Et.subplotSort),e0._mainSubplot=Fu(e0,Bu),e0._counterAxes.length&&(e0.spikemode&&e0.spikemode.indexOf("across")!==-1||e0.automargin&&e0.mirror&&e0.anchor!=="free"||yl.getComponentMethod("rangeslider","isVisible")(e0))){var Mp=1,sp=0;for(_u=0;_u<e0._counterAxes.length;_u++){var Ip=Fl.getFromId(Nu,e0._counterAxes[_u]);Mp=Math.min(Mp,Ip.domain[0]),sp=Math.max(sp,Ip.domain[1])}Mp<sp&&(e0._counterDomainMin=Mp,e0._counterDomainMax=sp)}};function Fu(Iu,Bu){var Xl={_fullLayout:Bu},Uu=Iu._id.charAt(0)==="x",ep=Iu._mainAxis._anchorAxis,_u="",Wl="",Jl="";if(ep&&(Jl=ep._mainAxis._id,_u=Uu?Iu._id+Jl:Jl+Iu._id),!_u||!Bu._plots[_u]){_u="";for(var Pu=Iu._counterAxes,Nu=0;Nu<Pu.length;Nu++){var tp=Pu[Nu],up=Uu?Iu._id+tp:tp+Iu._id;Wl||(Wl=up);var dp=Fl.getFromId(Xl,tp);if(Jl&&dp.overlaying===Jl){_u=up;break}}}return _u||Wl}Il.clearExpandedTraceDefaultColors=function(Iu){var Bu,Xl,Uu;function ep(Wl,Jl,Pu,Nu){Xl[Nu]=Jl,Xl.length=Nu+1,Wl.valType==="color"&&Wl.dflt===void 0&&Bu.push(Xl.join("."))}for(Xl=[],Bu=Iu._module._colorAttrs,Bu||(Iu._module._colorAttrs=Bu=[],Sl.crawl(Iu._module.attributes,ep)),Uu=0;Uu<Bu.length;Uu++){var _u=Et.nestedProperty(Iu,"_input."+Bu[Uu]);_u.get()||Et.nestedProperty(Iu,Bu[Uu]).set(null)}},Il.supplyDataDefaults=function(Iu,Bu,Xl,Uu){var ep=Uu._modules,_u=Uu._visibleModules,Wl=Uu._basePlotModules,Jl=0,Pu,Nu,tp;Uu._transformModules=[];function up(r0){Bu.push(r0);var e0=r0._module;e0&&(Et.pushUnique(ep,e0),r0.visible===!0&&Et.pushUnique(_u,e0),Et.pushUnique(Wl,r0._module.basePlotModule),r0._input.visible!==!1&&Jl++)}var dp={},Ap=[],Op=(Xl.template||{}).data||{},Zp=Al.traceTemplater(Op);for(Pu=0;Pu<Iu.length;Pu++)tp=Iu[Pu],Nu=Zp.newTrace(tp),Nu.uid=Uu._traceUids[Pu],Il.supplyTraceDefaults(tp,Nu,Jl,Uu,Pu),Nu.index=Pu,Nu._input=tp,Nu._fullInput=Nu,up(Nu),yl.traceIs(Nu,"carpetAxis")&&(dp[Nu.carpet]=Nu),yl.traceIs(Nu,"carpetDependent")&&Ap.push(Pu);for(Pu=0;Pu<Ap.length;Pu++)if(Nu=Bu[Ap[Pu]],!!Nu.visible){var u0=dp[Nu.carpet];if(Nu._carpet=u0,!u0||!u0.visible){Nu.visible=!1;continue}Nu.xaxis=u0.xaxis,Nu.yaxis=u0.yaxis}},Il.supplyAnimationDefaults=function(Iu){Iu=Iu||{};var Bu,Xl={};function Uu(ep,_u){return Et.coerce(Iu||{},Xl,Ll,ep,_u)}if(Uu("mode"),Uu("direction"),Uu("fromcurrent"),Array.isArray(Iu.frame))for(Xl.frame=[],Bu=0;Bu<Iu.frame.length;Bu++)Xl.frame[Bu]=Il.supplyAnimationFrameDefaults(Iu.frame[Bu]||{});else Xl.frame=Il.supplyAnimationFrameDefaults(Iu.frame||{});if(Array.isArray(Iu.transition))for(Xl.transition=[],Bu=0;Bu<Iu.transition.length;Bu++)Xl.transition[Bu]=Il.supplyAnimationTransitionDefaults(Iu.transition[Bu]||{});else Xl.transition=Il.supplyAnimationTransitionDefaults(Iu.transition||{});return Xl},Il.supplyAnimationFrameDefaults=function(Iu){var Bu={};function Xl(Uu,ep){return Et.coerce(Iu||{},Bu,Ll.frame,Uu,ep)}return Xl("duration"),Xl("redraw"),Bu},Il.supplyAnimationTransitionDefaults=function(Iu){var Bu={};function Xl(Uu,ep){return Et.coerce(Iu||{},Bu,Ll.transition,Uu,ep)}return Xl("duration"),Xl("easing"),Bu},Il.supplyFrameDefaults=function(Iu){var Bu={};function Xl(Uu,ep){return Et.coerce(Iu,Bu,Ol,Uu,ep)}return Xl("group"),Xl("name"),Xl("traces"),Xl("baseframe"),Xl("data"),Xl("layout"),Bu},Il.supplyTraceDefaults=function(Iu,Bu,Xl,Uu,ep){var _u=Uu.colorway||Pl.defaults,Wl=_u[Xl%_u.length],Jl;function Pu(Cp,Mp){return Et.coerce(Iu,Bu,Il.attributes,Cp,Mp)}var Nu=Pu("visible");Pu("type"),Pu("name",Uu._traceWord+" "+ep),Pu("uirevision",Uu.uirevision);var tp=Il.getModule(Bu);if(Bu._module=tp,tp){var up=tp.basePlotModule,dp=up.attr,Ap=up.attributes;if(dp&&Ap){var Op=Uu._subplots,Zp="";if(Array.isArray(dp))for(Jl=0;Jl<dp.length;Jl++){var u0=dp[Jl],r0=Et.coerce(Iu,Bu,Ap,u0);Op[u0]&&Et.pushUnique(Op[u0],r0),Zp+=r0}else Zp=Et.coerce(Iu,Bu,Ap,dp);Op[up.name]&&Et.pushUnique(Op[up.name],Zp)}}if(Nu&&(Pu("customdata"),Pu("ids"),Pu("meta"),yl.traceIs(Bu,"showLegend")?(Et.coerce(Iu,Bu,tp.attributes.showlegend?tp.attributes:Il.attributes,"showlegend"),Pu("legend"),Pu("legendwidth"),Pu("legendgroup"),Pu("legendgrouptitle.text"),Pu("legendrank"),Bu._dfltShowLegend=!0):Bu._dfltShowLegend=!1,tp&&tp.supplyDefaults(Iu,Bu,Wl,Uu),yl.traceIs(Bu,"noOpacity")||Pu("opacity"),yl.traceIs(Bu,"notLegendIsolatable")&&(Bu.visible=!!Bu.visible),yl.traceIs(Bu,"noHover")||(Bu.hovertemplate||Et.coerceHoverinfo(Iu,Bu,Uu),Bu.type!=="parcats"&&yl.getComponentMethod("fx","supplyDefaults")(Iu,Bu,Wl,Uu)),tp&&tp.selectPoints)){var e0=Pu("selectedpoints");Et.isTypedArray(e0)&&(Bu.selectedpoints=Array.from(e0))}return Bu},Il.supplyLayoutGlobalDefaults=function(Iu,Bu,Xl){function Uu(up,dp){return Et.coerce(Iu,Bu,Il.layoutAttributes,up,dp)}var ep=Iu.template;Et.isPlainObject(ep)&&(Bu.template=ep,Bu._template=ep.layout,Bu._dataTemplate=ep.data),Uu("autotypenumbers");var _u=Et.coerceFont(Uu,"font"),Wl=_u.size;Et.coerceFont(Uu,"title.font",_u,{overrideDflt:{size:Math.round(Wl*1.4)}}),Uu("title.text",Bu._dfltTitle.plot),Uu("title.xref");var Jl=Uu("title.yref");Uu("title.pad.t"),Uu("title.pad.r"),Uu("title.pad.b"),Uu("title.pad.l");var Pu=Uu("title.automargin");Uu("title.x"),Uu("title.xanchor"),Uu("title.y"),Uu("title.yanchor"),Uu("title.subtitle.text",Bu._dfltTitle.subtitle),Et.coerceFont(Uu,"title.subtitle.font",_u,{overrideDflt:{size:Math.round(Bu.title.font.size*.7)}}),Pu&&(Jl==="paper"&&(Bu.title.y!==0&&(Bu.title.y=1),Bu.title.yanchor==="auto"&&(Bu.title.yanchor=Bu.title.y===0?"top":"bottom")),Jl==="container"&&(Bu.title.y==="auto"&&(Bu.title.y=1),Bu.title.yanchor==="auto"&&(Bu.title.yanchor=Bu.title.y<.5?"bottom":"top")));var Nu=Uu("uniformtext.mode");Nu&&Uu("uniformtext.minsize"),Uu("autosize",!(Iu.width&&Iu.height)),Uu("width"),Uu("height"),Uu("minreducedwidth"),Uu("minreducedheight"),Uu("margin.l"),Uu("margin.r"),Uu("margin.t"),Uu("margin.b"),Uu("margin.pad"),Uu("margin.autoexpand"),Iu.width&&Iu.height&&Il.sanitizeMargins(Bu),yl.getComponentMethod("grid","sizeDefaults")(Iu,Bu),Uu("paper_bgcolor"),Uu("separators",Xl.decimal+Xl.thousands),Uu("hidesources"),Uu("colorway"),Uu("datarevision");var tp=Uu("uirevision");Uu("editrevision",tp),Uu("selectionrevision",tp),yl.getComponentMethod("modebar","supplyLayoutDefaults")(Iu,Bu),yl.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(Iu,Bu,Uu),yl.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(Iu,Bu,Uu),Uu("meta"),Et.isPlainObject(Iu.transition)&&(Uu("transition.duration"),Uu("transition.easing"),Uu("transition.ordering")),yl.getComponentMethod("calendars","handleDefaults")(Iu,Bu,"calendar"),yl.getComponentMethod("fx","supplyLayoutGlobalDefaults")(Iu,Bu,Uu),Et.coerce(Iu,Bu,Nl,"scattermode")};function Du(Iu){return typeof Iu=="string"&&Iu.substr(Iu.length-2)==="px"&&parseFloat(Iu)}Il.plotAutoSize=function(Iu,Bu,Xl){var Uu=Iu._context||{},ep=Uu.frameMargins,_u,Wl,Jl=Et.isPlotDiv(Iu);if(Jl&&Iu.emit("plotly_autosize"),Uu.fillFrame)_u=window.innerWidth,Wl=window.innerHeight,document.body.style.overflow="hidden";else{var Pu=Jl?window.getComputedStyle(Iu):{};if(_u=Du(Pu.width)||Du(Pu.maxWidth)||Xl.width,Wl=Du(Pu.height)||Du(Pu.maxHeight)||Xl.height,xl(ep)&&ep>0){var Nu=1-2*ep;_u=Math.round(Nu*_u),Wl=Math.round(Nu*Wl)}}var tp=Il.layoutAttributes.width.min,up=Il.layoutAttributes.height.min;_u<tp&&(_u=tp),Wl<up&&(Wl=up);var dp=!Bu.width&&Math.abs(Xl.width-_u)>1,Ap=!Bu.height&&Math.abs(Xl.height-Wl)>1;(Ap||dp)&&(dp&&(Xl.width=_u),Ap&&(Xl.height=Wl)),Iu._initialAutoSize||(Iu._initialAutoSize={width:_u,height:Wl}),Il.sanitizeMargins(Xl)},Il.supplyLayoutModuleDefaults=function(Iu,Bu,Xl,Uu){var ep=yl.componentsRegistry,_u=Bu._basePlotModules,Wl,Jl,Pu,Nu=yl.subplotsRegistry.cartesian;for(Wl in ep)Pu=ep[Wl],Pu.includeBasePlot&&Pu.includeBasePlot(Iu,Bu);_u.length||_u.push(Nu),Bu._has("cartesian")&&(yl.getComponentMethod("grid","contentDefaults")(Iu,Bu),Nu.finalizeSubplots(Iu,Bu));for(var tp in Bu._subplots)Bu._subplots[tp].sort(Et.subplotSort);for(Jl=0;Jl<_u.length;Jl++)Pu=_u[Jl],Pu.supplyLayoutDefaults&&Pu.supplyLayoutDefaults(Iu,Bu,Xl);var up=Bu._modules;for(Jl=0;Jl<up.length;Jl++)Pu=up[Jl],Pu.supplyLayoutDefaults&&Pu.supplyLayoutDefaults(Iu,Bu,Xl);var dp=Bu._transformModules;for(Jl=0;Jl<dp.length;Jl++)Pu=dp[Jl],Pu.supplyLayoutDefaults&&Pu.supplyLayoutDefaults(Iu,Bu,Xl,Uu);for(Wl in ep)Pu=ep[Wl],Pu.supplyLayoutDefaults&&Pu.supplyLayoutDefaults(Iu,Bu,Xl)},Il.purge=function(Iu){var Bu=Iu._fullLayout||{};Bu._glcontainer!==void 0&&(Bu._glcontainer.selectAll(".gl-canvas").remove(),Bu._glcontainer.remove(),Bu._glcanvas=null),Bu._modeBar&&Bu._modeBar.destroy(),Iu._transitionData&&(Iu._transitionData._interruptCallbacks&&(Iu._transitionData._interruptCallbacks.length=0),Iu._transitionData._animationRaf&&window.cancelAnimationFrame(Iu._transitionData._animationRaf)),Et.clearThrottle(),Et.clearResponsive(Iu),delete Iu.data,delete Iu.layout,delete Iu._fullData,delete Iu._fullLayout,delete Iu.calcdata,delete Iu.empty,delete Iu.fid,delete Iu.undoqueue,delete Iu.undonum,delete Iu.autoplay,delete Iu.changed,delete Iu._promises,delete Iu._redrawTimer,delete Iu._hmlumcount,delete Iu._hmpixcount,delete Iu._transitionData,delete Iu._transitioning,delete Iu._initialAutoSize,delete Iu._transitioningWithDuration,delete Iu._dragging,delete Iu._dragged,delete Iu._dragdata,delete Iu._hoverdata,delete Iu._snapshotInProgress,delete Iu._editing,delete Iu._mouseDownTime,delete Iu._legendMouseDownTime,Iu.removeAllListeners&&Iu.removeAllListeners()},Il.style=function(Iu){var Bu=Iu._fullLayout._visibleModules,Xl=[],Uu;for(Uu=0;Uu<Bu.length;Uu++){var ep=Bu[Uu];ep.style&&Et.pushUnique(Xl,ep.style)}for(Uu=0;Uu<Xl.length;Uu++)Xl[Uu](Iu)},Il.sanitizeMargins=function(Iu){if(!(!Iu||!Iu.margin)){var Bu=Iu.width,Xl=Iu.height,Uu=Iu.margin,ep=Bu-(Uu.l+Uu.r),_u=Xl-(Uu.t+Uu.b),Wl;ep<0&&(Wl=(Bu-1)/(Uu.l+Uu.r),Uu.l=Math.floor(Wl*Uu.l),Uu.r=Math.floor(Wl*Uu.r)),_u<0&&(Wl=(Xl-1)/(Uu.t+Uu.b),Uu.t=Math.floor(Wl*Uu.t),Uu.b=Math.floor(Wl*Uu.b))}},Il.clearAutoMarginIds=function(Iu){Iu._fullLayout._pushmarginIds={}},Il.allowAutoMargin=function(Iu,Bu){Iu._fullLayout._pushmarginIds[Bu]=1};function Hu(Iu){var Bu=Iu.margin;if(!Iu._size){var Xl=Iu._size={l:Math.round(Bu.l),r:Math.round(Bu.r),t:Math.round(Bu.t),b:Math.round(Bu.b),p:Math.round(Bu.pad)};Xl.w=Math.round(Iu.width)-Xl.l-Xl.r,Xl.h=Math.round(Iu.height)-Xl.t-Xl.b}Iu._pushmargin||(Iu._pushmargin={}),Iu._pushmarginIds||(Iu._pushmarginIds={}),Iu._reservedMargin||(Iu._reservedMargin={})}var Vu=2,gu=2;Il.autoMargin=function(Iu,Bu,Xl){var Uu=Iu._fullLayout,ep=Uu.width,_u=Uu.height,Wl=Uu.margin,Jl=Uu.minreducedwidth,Pu=Uu.minreducedheight,Nu=Et.constrain(ep-Wl.l-Wl.r,Vu,Jl),tp=Et.constrain(_u-Wl.t-Wl.b,gu,Pu),up=Math.max(0,ep-Nu),dp=Math.max(0,_u-tp),Ap=Uu._pushmargin,Op=Uu._pushmarginIds;if(Wl.autoexpand!==!1){if(!Xl)delete Ap[Bu],delete Op[Bu];else{var Zp=Xl.pad;if(Zp===void 0&&(Zp=Math.min(12,Wl.l,Wl.r,Wl.t,Wl.b)),up){var u0=(Xl.l+Xl.r)/up;u0>1&&(Xl.l/=u0,Xl.r/=u0)}if(dp){var r0=(Xl.t+Xl.b)/dp;r0>1&&(Xl.t/=r0,Xl.b/=r0)}var e0=Xl.xl!==void 0?Xl.xl:Xl.x,Cp=Xl.xr!==void 0?Xl.xr:Xl.x,Mp=Xl.yt!==void 0?Xl.yt:Xl.y,sp=Xl.yb!==void 0?Xl.yb:Xl.y;Ap[Bu]={l:{val:e0,size:Xl.l+Zp},r:{val:Cp,size:Xl.r+Zp},b:{val:sp,size:Xl.b+Zp},t:{val:Mp,size:Xl.t+Zp}},Op[Bu]=1}if(!Uu._replotting)return Il.doAutoMargin(Iu)}};function Wu(Iu){if("_redrawFromAutoMarginCount"in Iu._fullLayout)return!1;var Bu=Fl.list(Iu,"",!0);for(var Xl in Bu)if(Bu[Xl].autoshift||Bu[Xl].shift)return!0;return!1}Il.doAutoMargin=function(Iu){var Bu=Iu._fullLayout,Xl=Bu.width,Uu=Bu.height;Bu._size||(Bu._size={}),Hu(Bu);var ep=Bu._size,_u=Bu.margin,Wl={t:0,b:0,l:0,r:0},Jl=Et.extendFlat({},ep),Pu=_u.l,Nu=_u.r,tp=_u.t,up=_u.b,dp=Bu._pushmargin,Ap=Bu._pushmarginIds,Op=Bu.minreducedwidth,Zp=Bu.minreducedheight;if(_u.autoexpand!==!1){for(var u0 in dp)Ap[u0]||delete dp[u0];var r0=Iu._fullLayout._reservedMargin;for(var e0 in r0)for(var Cp in r0[e0]){var Mp=r0[e0][Cp];Wl[Cp]=Math.max(Wl[Cp],Mp)}dp.base={l:{val:0,size:Pu},r:{val:1,size:Nu},t:{val:1,size:tp},b:{val:0,size:up}};for(var sp in Wl){var Ip=0;for(var Jp in dp)Jp!=="base"&&xl(dp[Jp][sp].size)&&(Ip=dp[Jp][sp].size>Ip?dp[Jp][sp].size:Ip);var a0=Math.max(0,_u[sp]-Ip);Wl[sp]=Math.max(0,Wl[sp]-a0)}for(var v0 in dp){var h0=dp[v0].l||{},w0=dp[v0].b||{},E0=h0.val,_0=h0.size,$0=w0.val,f0=w0.size,q0=Xl-Wl.r-Wl.l,J0=Uu-Wl.t-Wl.b;for(var V0 in dp){if(xl(_0)&&dp[V0].r){var nm=dp[V0].r.val,Ep=dp[V0].r.size;if(nm>E0){var $p=(_0*nm+(Ep-q0)*E0)/(nm-E0),Zu=(Ep*(1-E0)+(_0-q0)*(1-nm))/(nm-E0);$p+Zu>Pu+Nu&&(Pu=$p,Nu=Zu)}}if(xl(f0)&&dp[V0].t){var lp=dp[V0].t.val,mp=dp[V0].t.size;if(lp>$0){var Tp=(f0*lp+(mp-J0)*$0)/(lp-$0),Lp=(mp*(1-$0)+(f0-J0)*(1-lp))/(lp-$0);Tp+Lp>up+tp&&(up=Tp,tp=Lp)}}}}}var Up=Et.constrain(Xl-_u.l-_u.r,Vu,Op),Xp=Et.constrain(Uu-_u.t-_u.b,gu,Zp),c0=Math.max(0,Xl-Up),i0=Math.max(0,Uu-Xp);if(c0){var s0=(Pu+Nu)/c0;s0>1&&(Pu/=s0,Nu/=s0)}if(i0){var M0=(up+tp)/i0;M0>1&&(up/=M0,tp/=M0)}if(ep.l=Math.round(Pu)+Wl.l,ep.r=Math.round(Nu)+Wl.r,ep.t=Math.round(tp)+Wl.t,ep.b=Math.round(up)+Wl.b,ep.p=Math.round(_u.pad),ep.w=Math.round(Xl)-ep.l-ep.r,ep.h=Math.round(Uu)-ep.t-ep.b,!Bu._replotting&&(Il.didMarginChange(Jl,ep)||Wu(Iu))){"_redrawFromAutoMarginCount"in Bu?Bu._redrawFromAutoMarginCount++:Bu._redrawFromAutoMarginCount=1;var A0=3*(1+Object.keys(Ap).length);if(Bu._redrawFromAutoMarginCount<A0)return yl.call("_doPlot",Iu);Bu._size=Jl,Et.warn("Too many auto-margin redraws.")}qu(Iu)};function qu(Iu){var Bu=Fl.list(Iu,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(Xl){for(var Uu=0;Uu<Bu.length;Uu++){var ep=Bu[Uu][Xl];ep&&ep()}})}var np=["l","r","t","b","p","w","h"];Il.didMarginChange=function(Iu,Bu){for(var Xl=0;Xl<np.length;Xl++){var Uu=np[Xl],ep=Iu[Uu],_u=Bu[Uu];if(!xl(ep)||Math.abs(_u-ep)>1)return!0}return!1},Il.graphJson=function(Iu,Bu,Xl,Uu,ep,_u){(ep&&Bu&&!Iu._fullData||ep&&!Bu&&!Iu._fullLayout)&&Il.supplyDefaults(Iu);var Wl=ep?Iu._fullData:Iu.data,Jl=ep?Iu._fullLayout:Iu.layout,Pu=(Iu._transitionData||{})._frames;function Nu(dp,Ap){if(typeof dp=="function")return Ap?"_function_":null;if(Et.isPlainObject(dp)){var Op={},Zp;return Object.keys(dp).sort().forEach(function(Cp){if(["_","["].indexOf(Cp.charAt(0))===-1){if(typeof dp[Cp]=="function"){Ap&&(Op[Cp]="_function");return}if(Xl==="keepdata"){if(Cp.substr(Cp.length-3)==="src")return}else if(Xl==="keepstream"){if(Zp=dp[Cp+"src"],typeof Zp=="string"&&Zp.indexOf(":")>0&&!Et.isPlainObject(dp.stream))return}else if(Xl!=="keepall"&&(Zp=dp[Cp+"src"],typeof Zp=="string"&&Zp.indexOf(":")>0))return;Op[Cp]=Nu(dp[Cp],Ap)}}),Op}var u0=Array.isArray(dp),r0=Et.isTypedArray(dp);if((u0||r0)&&dp.dtype&&dp.shape){var e0=dp.bdata;return Nu({dtype:dp.dtype,shape:dp.shape,bdata:Et.isArrayBuffer(e0)?Bn.encode(e0):e0},Ap)}return u0?dp.map(function(Cp){return Nu(Cp,Ap)}):r0?Et.simpleMap(dp,Et.identity):Et.isJSDate(dp)?Et.ms2DateTimeLocal(+dp):dp}var tp={data:(Wl||[]).map(function(dp){var Ap=Nu(dp);return Bu&&delete Ap.fit,Ap})};if(!Bu&&(tp.layout=Nu(Jl),ep)){var up=Jl._size;tp.layout.computed={margin:{b:up.b,l:up.l,r:up.r,t:up.t}}}return Pu&&(tp.frames=Nu(Pu)),_u&&(tp.config=Nu(Iu._context,!0)),Uu==="object"?tp:JSON.stringify(tp)},Il.modifyFrames=function(Iu,Bu){var Xl,Uu,ep,_u=Iu._transitionData._frames,Wl=Iu._transitionData._frameHash;for(Xl=0;Xl<Bu.length;Xl++)switch(Uu=Bu[Xl],Uu.type){case"replace":ep=Uu.value;var Jl=(_u[Uu.index]||{}).name,Pu=ep.name;_u[Uu.index]=Wl[Pu]=ep,Pu!==Jl&&(delete Wl[Jl],Wl[Pu]=ep);break;case"insert":ep=Uu.value,Wl[ep.name]=ep,_u.splice(Uu.index,0,ep);break;case"delete":ep=_u[Uu.index],delete Wl[ep.name],_u.splice(Uu.index,1);break}return Promise.resolve()},Il.computeFrame=function(Iu,Bu){var Xl=Iu._transitionData._frameHash,Uu,ep,_u,Wl;if(!Bu)throw new Error("computeFrame must be given a string frame name");var Jl=Xl[Bu.toString()];if(!Jl)return!1;for(var Pu=[Jl],Nu=[Jl.name];Jl.baseframe&&(Jl=Xl[Jl.baseframe.toString()])&&Nu.indexOf(Jl.name)===-1;)Pu.push(Jl),Nu.push(Jl.name);for(var tp={};Jl=Pu.pop();)if(Jl.layout&&(tp.layout=Il.extendLayout(tp.layout,Jl.layout)),Jl.data){if(tp.data||(tp.data=[]),ep=Jl.traces,!ep)for(ep=[],Uu=0;Uu<Jl.data.length;Uu++)ep[Uu]=Uu;for(tp.traces||(tp.traces=[]),Uu=0;Uu<Jl.data.length;Uu++)_u=ep[Uu],_u!=null&&(Wl=tp.traces.indexOf(_u),Wl===-1&&(Wl=tp.data.length,tp.traces[Wl]=_u),tp.data[Wl]=Il.extendTrace(tp.data[Wl],Jl.data[Uu]))}return tp},Il.recomputeFrameHash=function(Iu){for(var Bu=Iu._transitionData._frameHash={},Xl=Iu._transitionData._frames,Uu=0;Uu<Xl.length;Uu++){var ep=Xl[Uu];ep&&ep.name&&(Bu[ep.name]=ep)}},Il.extendObjectWithContainers=function(Iu,Bu,Xl){var Uu,ep,_u,Wl,Jl,Pu,Nu,tp,up=Et.extendDeepNoArrays({},Bu||{}),dp=Et.expandObjectPaths(up),Ap={};if(Xl&&Xl.length)for(_u=0;_u<Xl.length;_u++)Uu=Et.nestedProperty(dp,Xl[_u]),ep=Uu.get(),ep===void 0?Et.nestedProperty(Ap,Xl[_u]).set(null):(Uu.set(null),Et.nestedProperty(Ap,Xl[_u]).set(ep));if(Iu=Et.extendDeepNoArrays(Iu||{},dp),Xl&&Xl.length){for(_u=0;_u<Xl.length;_u++)if(Jl=Et.nestedProperty(Ap,Xl[_u]),Nu=Jl.get(),!!Nu){for(Pu=Et.nestedProperty(Iu,Xl[_u]),tp=Pu.get(),Array.isArray(tp)||(tp=[],Pu.set(tp)),Wl=0;Wl<Nu.length;Wl++){var Op=Nu[Wl];Op===null?tp[Wl]=null:tp[Wl]=Il.extendObjectWithContainers(tp[Wl],Op)}Pu.set(tp)}}return Iu},Il.dataArrayContainers=["transforms","dimensions"],Il.layoutArrayContainers=yl.layoutArrayContainers,Il.extendTrace=function(Iu,Bu){return Il.extendObjectWithContainers(Iu,Bu,Il.dataArrayContainers)},Il.extendLayout=function(Iu,Bu){return Il.extendObjectWithContainers(Iu,Bu,Il.layoutArrayContainers)},Il.transition=function(Iu,Bu,Xl,Uu,ep,_u){var Wl={redraw:ep.redraw},Jl={},Pu=[];return Wl.prepareFn=function(){for(var Nu=Array.isArray(Bu)?Bu.length:0,tp=Uu.slice(0,Nu),up=0;up<tp.length;up++){var dp=tp[up],Ap=Iu._fullData[dp],Op=Ap._module;if(Op){if(Op.animatable){var Zp=Op.basePlotModule.name;Jl[Zp]||(Jl[Zp]=[]),Jl[Zp].push(dp)}Iu.data[tp[up]]=Il.extendTrace(Iu.data[tp[up]],Bu[up])}}var u0=Et.expandObjectPaths(Et.extendDeepNoArrays({},Xl)),r0=/^[xy]axis[0-9]*$/;for(var e0 in u0)r0.test(e0)&&delete u0[e0].range;Il.extendLayout(Iu.layout,u0),delete Iu.calcdata,Il.supplyDefaults(Iu),Il.doCalcdata(Iu);var Cp=Et.expandObjectPaths(Xl);if(Cp){var Mp=Iu._fullLayout._plots;for(var sp in Mp){var Ip=Mp[sp],Jp=Ip.xaxis,a0=Ip.yaxis,v0=Jp.range.slice(),h0=a0.range.slice(),w0=null,E0=null,_0=null,$0=null;Array.isArray(Cp[Jp._name+".range"])?w0=Cp[Jp._name+".range"].slice():Array.isArray((Cp[Jp._name]||{}).range)&&(w0=Cp[Jp._name].range.slice()),Array.isArray(Cp[a0._name+".range"])?E0=Cp[a0._name+".range"].slice():Array.isArray((Cp[a0._name]||{}).range)&&(E0=Cp[a0._name].range.slice()),v0&&w0&&(Jp.r2l(v0[0])!==Jp.r2l(w0[0])||Jp.r2l(v0[1])!==Jp.r2l(w0[1]))&&(_0={xr0:v0,xr1:w0}),h0&&E0&&(a0.r2l(h0[0])!==a0.r2l(E0[0])||a0.r2l(h0[1])!==a0.r2l(E0[1]))&&($0={yr0:h0,yr1:E0}),(_0||$0)&&Pu.push(Et.extendFlat({plotinfo:Ip},_0,$0))}}return Promise.resolve()},Wl.runFn=function(Nu){var tp,up=Iu._fullLayout._basePlotModules,dp=Pu.length,Ap;if(Xl)for(Ap=0;Ap<up.length;Ap++)up[Ap].transitionAxes&&up[Ap].transitionAxes(Iu,Pu,_u,Nu);dp?(tp=Et.extendFlat({},_u),tp.duration=0,delete Jl.cartesian):tp=_u;for(var Op in Jl){var Zp=Jl[Op],u0=Iu._fullData[Zp[0]]._module;u0.basePlotModule.plot(Iu,Zp,tp,Nu)}},_h(Iu,_u,Wl)},Il.transitionFromReact=function(Iu,Bu,Xl,Uu){var ep=Iu._fullLayout,_u=ep.transition,Wl={},Jl=[];return Wl.prepareFn=function(){var Pu=ep._plots;Wl.redraw=!1,Bu.anim==="some"&&(Wl.redraw=!0),Xl.anim==="some"&&(Wl.redraw=!0);for(var Nu in Pu){var tp=Pu[Nu],up=tp.xaxis,dp=tp.yaxis,Ap=Uu[up._name].range.slice(),Op=Uu[dp._name].range.slice(),Zp=up.range.slice(),u0=dp.range.slice();up.setScale(),dp.setScale();var r0=null,e0=null;(up.r2l(Ap[0])!==up.r2l(Zp[0])||up.r2l(Ap[1])!==up.r2l(Zp[1]))&&(r0={xr0:Ap,xr1:Zp}),(dp.r2l(Op[0])!==dp.r2l(u0[0])||dp.r2l(Op[1])!==dp.r2l(u0[1]))&&(e0={yr0:Op,yr1:u0}),(r0||e0)&&Jl.push(Et.extendFlat({plotinfo:tp},r0,e0))}return Promise.resolve()},Wl.runFn=function(Pu){for(var Nu=Iu._fullData,tp=Iu._fullLayout,up=tp._basePlotModules,dp,Ap,Op,Zp=[],u0=0;u0<Nu.length;u0++)Zp.push(u0);function r0(){if(Iu._fullLayout)for(var Cp=0;Cp<up.length;Cp++)up[Cp].transitionAxes&&up[Cp].transitionAxes(Iu,Jl,dp,Pu)}function e0(){if(Iu._fullLayout)for(var Cp=0;Cp<up.length;Cp++)up[Cp].plot(Iu,Op,Ap,Pu)}Jl.length&&Bu.anim?_u.ordering==="traces first"?(dp=Et.extendFlat({},_u,{duration:0}),Op=Zp,Ap=_u,setTimeout(r0,_u.duration),e0()):(dp=_u,Op=null,Ap=Et.extendFlat({},_u,{duration:0}),setTimeout(e0,dp.duration),r0()):Jl.length?(dp=_u,r0()):Bu.anim&&(Op=Zp,Ap=_u,e0())},_h(Iu,_u,Wl)};function _h(Iu,Bu,Xl){var Uu=!1;function ep(up){var dp=Promise.resolve();if(!up)return dp;for(;up.length;)dp=dp.then(up.shift());return dp}function _u(up){if(up)for(;up.length;)up.shift()}function Wl(){return Iu.emit("plotly_transitioning",[]),new Promise(function(up){Iu._transitioning=!0,Bu.duration>0&&(Iu._transitioningWithDuration=!0),Iu._transitionData._interruptCallbacks.push(function(){Uu=!0}),Xl.redraw&&Iu._transitionData._interruptCallbacks.push(function(){return yl.call("redraw",Iu)}),Iu._transitionData._interruptCallbacks.push(function(){Iu.emit("plotly_transitioninterrupted",[])});var dp=0,Ap=0;function Op(){return dp++,function(){Ap++,!Uu&&Ap===dp&&Jl(up)}}Xl.runFn(Op),setTimeout(Op())})}function Jl(up){if(Iu._transitionData)return _u(Iu._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(Xl.redraw)return yl.call("redraw",Iu)}).then(function(){Iu._transitioning=!1,Iu._transitioningWithDuration=!1,Iu.emit("plotly_transitioned",[])}).then(up)}function Pu(){if(Iu._transitionData)return Iu._transitioning=!1,ep(Iu._transitionData._interruptCallbacks)}var Nu=[Il.previousPromises,Pu,Xl.prepareFn,Il.rehover,Il.reselect,Wl],tp=Et.syncOrAsync(Nu,Iu);return(!tp||!tp.then)&&(tp=Promise.resolve()),tp.then(function(){return Iu})}Il.doCalcdata=function(Iu,Bu){var Xl=Fl.list(Iu),Uu=Iu._fullData,ep=Iu._fullLayout,_u,Wl,Jl,Pu,Nu=new Array(Uu.length),tp=(Iu.calcdata||[]).slice();for(Iu.calcdata=Nu,ep._numBoxes=0,ep._numViolins=0,ep._violinScaleGroupStats={},Iu._hmpixcount=0,Iu._hmlumcount=0,ep._piecolormap={},ep._sunburstcolormap={},ep._treemapcolormap={},ep._iciclecolormap={},ep._funnelareacolormap={},Jl=0;Jl<Uu.length;Jl++)if(Array.isArray(Bu)&&Bu.indexOf(Jl)===-1){Nu[Jl]=tp[Jl];continue}for(Jl=0;Jl<Uu.length;Jl++)_u=Uu[Jl],_u._arrayAttrs=Sl.findArrayAttributes(_u),_u._extremes={};var up=ep._subplots.polar||[];for(Jl=0;Jl<up.length;Jl++)Xl.push(ep[up[Jl]].radialaxis,ep[up[Jl]].angularaxis);for(var dp in ep._colorAxes){var Ap=ep[dp];Ap.cauto!==!1&&(delete Ap.cmin,delete Ap.cmax)}var Op=!1;function Zp(e0){if(_u=Uu[e0],Wl=_u._module,_u.visible===!0&&_u.transforms){if(Wl&&Wl.calc){var Cp=Wl.calc(Iu,_u);Cp[0]&&Cp[0].t&&Cp[0].t._scene&&delete Cp[0].t._scene.dirty}for(Pu=0;Pu<_u.transforms.length;Pu++){var Mp=_u.transforms[Pu];Wl=transformsRegistry[Mp.type],Wl&&Wl.calcTransform&&(_u._hasCalcTransform=!0,Op=!0,Wl.calcTransform(Iu,_u,Mp))}}}function u0(e0,Cp){if(_u=Uu[e0],Wl=_u._module,!!Wl.isContainer===Cp){var Mp=[];if(_u.visible===!0&&_u._length!==0){delete _u._indexToPoints;var sp=_u.transforms||[];for(Pu=sp.length-1;Pu>=0;Pu--)if(sp[Pu].enabled){_u._indexToPoints=sp[Pu]._indexToPoints;break}Wl&&Wl.calc&&(Mp=Wl.calc(Iu,_u))}(!Array.isArray(Mp)||!Mp[0])&&(Mp=[{x:El,y:El}]),Mp[0].t||(Mp[0].t={}),Mp[0].trace=_u,Nu[e0]=Mp}}for(wp(Xl,Uu,ep),Jl=0;Jl<Uu.length;Jl++)u0(Jl,!0);for(Jl=0;Jl<Uu.length;Jl++)Zp(Jl);for(Op&&wp(Xl,Uu,ep),Jl=0;Jl<Uu.length;Jl++)u0(Jl,!0);for(Jl=0;Jl<Uu.length;Jl++)u0(Jl,!1);kp(Iu);var r0=bp(Xl,Iu);if(r0.length){for(ep._numBoxes=0,ep._numViolins=0,Jl=0;Jl<r0.length;Jl++)u0(r0[Jl],!0);for(Jl=0;Jl<r0.length;Jl++)u0(r0[Jl],!1);kp(Iu)}yl.getComponentMethod("fx","calc")(Iu),yl.getComponentMethod("errorbars","calc")(Iu)};var ap=/(total|sum|min|max|mean|geometric mean|median) (ascending|descending)/;function bp(Iu,Bu){var Xl=[],Uu,ep,_u,Wl,Jl;function Pu(V0,nm,Ep){var $p=nm._id.charAt(0);if(V0==="histogram2dcontour"){var Zu=nm._counterAxes[0],lp=Fl.getFromId(Bu,Zu),mp=$p==="x"||Zu==="x"&&lp.type==="category",Tp=$p==="y"||Zu==="y"&&lp.type==="category";return function(Lp,Up){return Lp===0||Up===0||mp&&Lp===Ep[Up].length-1||Tp&&Up===Ep.length-1?-1:($p==="y"?Up:Lp)-1}}else return function(Lp,Up){return $p==="y"?Up:Lp}}var Nu={min:function(V0){return Et.aggNums(Math.min,null,V0)},max:function(V0){return Et.aggNums(Math.max,null,V0)},sum:function(V0){return Et.aggNums(function(nm,Ep){return nm+Ep},null,V0)},total:function(V0){return Et.aggNums(function(nm,Ep){return nm+Ep},null,V0)},mean:function(V0){return Et.mean(V0)},"geometric mean":function(V0){return Et.geometricMean(V0)},median:function(V0){return Et.median(V0)}};function tp(V0,nm){return V0[1]-nm[1]}function up(V0,nm){return nm[1]-V0[1]}for(Uu=0;Uu<Iu.length;Uu++){var dp=Iu[Uu];if(dp.type==="category"){var Ap=dp.categoryorder.match(ap);if(Ap){var Op=Ap[1],Zp=Ap[2],u0=dp._id.charAt(0),r0=u0==="x",e0=[];for(ep=0;ep<dp._categories.length;ep++)e0.push([dp._categories[ep],[]]);for(ep=0;ep<dp._traceIndices.length;ep++){var Cp=dp._traceIndices[ep],Mp=Bu._fullData[Cp];if(Mp.visible===!0){var sp=Mp.type;yl.traceIs(Mp,"histogram")&&(delete Mp._xautoBinFinished,delete Mp._yautoBinFinished);var Ip=sp==="splom",Jp=sp==="scattergl",a0=Bu.calcdata[Cp];for(_u=0;_u<a0.length;_u++){var v0=a0[_u],h0,w0;if(Ip){var E0=Mp._axesDim[dp._id];if(!r0){var _0=Mp._diag[E0][0];_0&&(dp=Bu._fullLayout[Fl.id2name(_0)])}var $0=v0.trace.dimensions[E0].values;for(Wl=0;Wl<$0.length;Wl++)for(h0=dp._categoriesMap[$0[Wl]],Jl=0;Jl<v0.trace.dimensions.length;Jl++)if(Jl!==E0){var f0=v0.trace.dimensions[Jl];e0[h0][1].push(f0.values[Wl])}}else if(Jp){for(Wl=0;Wl<v0.t.x.length;Wl++)r0?(h0=v0.t.x[Wl],w0=v0.t.y[Wl]):(h0=v0.t.y[Wl],w0=v0.t.x[Wl]),e0[h0][1].push(w0);v0.t&&v0.t._scene&&delete v0.t._scene.dirty}else if(v0.hasOwnProperty("z")){w0=v0.z;var q0=Pu(Mp.type,dp,w0);for(Wl=0;Wl<w0.length;Wl++)for(Jl=0;Jl<w0[Wl].length;Jl++)h0=q0(Jl,Wl),h0+1&&e0[h0][1].push(w0[Wl][Jl])}else for(h0=v0.p,h0===void 0&&(h0=v0[u0]),w0=v0.s,w0===void 0&&(w0=v0.v),w0===void 0&&(w0=r0?v0.y:v0.x),Array.isArray(w0)||(w0===void 0?w0=[]:w0=[w0]),Wl=0;Wl<w0.length;Wl++)e0[h0][1].push(w0[Wl])}}}dp._categoriesValue=e0;var J0=[];for(ep=0;ep<e0.length;ep++)J0.push([e0[ep][0],Nu[Op](e0[ep][1])]);J0.sort(Zp==="descending"?up:tp),dp._categoriesAggregatedValue=J0,dp._initialCategories=J0.map(function(V0){return V0[0]}),Xl=Xl.concat(dp.sortByInitialCategories())}}}return Xl}function wp(Iu,Bu,Xl){var Uu={};function ep(Pu){Pu.clearCalc(),Pu.type==="multicategory"&&Pu.setupMultiCategory(Bu),Uu[Pu._id]=1}Et.simpleMap(Iu,ep);for(var _u=Xl._axisMatchGroups||[],Wl=0;Wl<_u.length;Wl++)for(var Jl in _u[Wl])Uu[Jl]||ep(Xl[Fl.id2name(Jl)])}function kp(Iu){var Bu=Iu._fullLayout,Xl=Bu._visibleModules,Uu={},ep,_u,Wl;for(_u=0;_u<Xl.length;_u++){var Jl=Xl[_u],Pu=Jl.crossTraceCalc;if(Pu){var Nu=Jl.basePlotModule.name;Uu[Nu]?Et.pushUnique(Uu[Nu],Pu):Uu[Nu]=[Pu]}}for(Wl in Uu){var tp=Uu[Wl],up=Bu._subplots[Wl];if(Array.isArray(up))for(ep=0;ep<up.length;ep++){var dp=up[ep],Ap=Wl==="cartesian"?Bu._plots[dp]:Bu[dp];for(_u=0;_u<tp.length;_u++)tp[_u](Iu,Ap,dp)}else for(_u=0;_u<tp.length;_u++)tp[_u](Iu)}}Il.rehover=function(Iu){Iu._fullLayout._rehover&&Iu._fullLayout._rehover()},Il.redrag=function(Iu){Iu._fullLayout._redrag&&Iu._fullLayout._redrag()},Il.reselect=function(Iu){var Bu=Iu._fullLayout,Xl=(Iu.layout||{}).selections,Uu=Bu._previousSelections;Bu._previousSelections=Xl;var ep=Bu._reselect||JSON.stringify(Xl)!==JSON.stringify(Uu);yl.getComponentMethod("selections","reselect")(Iu,ep)},Il.generalUpdatePerTraceModule=function(Iu,Bu,Xl,Uu){var ep=Bu.traceHash,_u={},Wl;for(Wl=0;Wl<Xl.length;Wl++){var Jl=Xl[Wl],Pu=Jl[0].trace;Pu.visible&&(_u[Pu.type]=_u[Pu.type]||[],_u[Pu.type].push(Jl))}for(var Nu in ep)if(!_u[Nu]){var tp=ep[Nu][0],up=tp[0].trace;up.visible=!1,_u[Nu]=[tp]}for(var dp in _u){var Ap=_u[dp],Op=Ap[0][0].trace._module;Op.plot(Iu,Bu,Et.filterVisible(Ap),Uu)}Bu.traceHash=_u},Il.plotBasePlot=function(Iu,Bu,Xl,Uu,ep){var _u=yl.getModule(Iu),Wl=Bl(Bu.calcdata,_u)[0];_u.plot(Bu,Wl,Uu,ep)},Il.cleanBasePlot=function(Iu,Bu,Xl,Uu,ep){var _u=ep._has&&ep._has(Iu),Wl=Xl._has&&Xl._has(Iu);_u&&!Wl&&ep["_"+Iu+"layer"].selectAll("g.trace").remove()}}),Wy=a(Mu=>{Mu.xmlns="http://www.w3.org/2000/xmlns/",Mu.svg="http://www.w3.org/2000/svg",Mu.xlink="http://www.w3.org/1999/xlink",Mu.svgAttrs={xmlns:Mu.svg,"xmlns:xlink":Mu.xlink}}),qv=a((Mu,yu)=>{yu.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}}),Wv=a(Mu=>{var yu=g(),ls=vm(),_t=ls.strTranslate,Fn=Wy(),xl=qv().LINE_SPACING,Bn=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;Mu.convertToTspans=function(gu,Wu,qu){var np=gu.text(),_h=!gu.attr("data-notex")&&Wu&&Wu._context.typesetMath&&typeof MathJax<"u"&&np.match(Bn),ap=yu.select(gu.node().parentNode);if(ap.empty())return;var bp=gu.attr("class")?gu.attr("class").split(" ")[0]:"text";bp+="-math",ap.selectAll("svg."+bp).remove(),ap.selectAll("g."+bp+"-group").remove(),gu.style("display",null).attr({"data-unformatted":np,"data-math":"N"});function wp(){ap.empty()||(bp=gu.attr("class")+"-math",ap.select("svg."+bp).remove()),gu.text("").style("white-space","pre");var kp=Fu(gu.node(),np);kp&&gu.style("pointer-events","all"),Mu.positionText(gu),qu&&qu.call(gu)}return _h?(Wu&&Wu._promises||[]).push(new Promise(function(kp){gu.style("display","none");var Iu=parseInt(gu.node().style.fontSize,10),Bu={fontSize:Iu};Pl(_h[2],Bu,function(Xl,Uu,ep){ap.selectAll("svg."+bp).remove(),ap.selectAll("g."+bp+"-group").remove();var _u=Xl&&Xl.select("svg");if(!_u||!_u.node()){wp(),kp();return}var Wl=ap.append("g").classed(bp+"-group",!0).attr({"pointer-events":"none","data-unformatted":np,"data-math":"Y"});Wl.node().appendChild(_u.node()),Uu&&Uu.node()&&_u.node().insertBefore(Uu.node().cloneNode(!0),_u.node().firstChild);var Jl=ep.width,Pu=ep.height;_u.attr({class:bp,height:Pu,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var Nu=gu.node().style.fill||"black",tp=_u.select("g");tp.attr({fill:Nu,stroke:Nu});var up=tp.node().getBoundingClientRect(),dp=up.width,Ap=up.height;(dp>Jl||Ap>Pu)&&(_u.style("overflow","hidden"),up=_u.node().getBoundingClientRect(),dp=up.width,Ap=up.height);var Op=+gu.attr("x"),Zp=+gu.attr("y"),u0=Iu||gu.node().getBoundingClientRect().height,r0=-u0/4;if(bp[0]==="y")Wl.attr({transform:"rotate("+[-90,Op,Zp]+")"+_t(-dp/2,r0-Ap/2)});else if(bp[0]==="l")Zp=r0-Ap/2;else if(bp[0]==="a"&&bp.indexOf("atitle")!==0)Op=0,Zp=r0;else{var e0=gu.attr("text-anchor");Op=Op-dp*(e0==="middle"?.5:e0==="end"?1:0),Zp=Zp+r0-Ap/2}_u.attr({x:Op,y:Zp}),qu&&qu.call(gu,Wl),kp(Wl)})})):wp(),gu};var yl=/(<|&lt;|&#60;)/g,Sl=/(>|&gt;|&#62;)/g;function Al(gu){return gu.replace(yl,"\\lt ").replace(Sl,"\\gt ")}var Et=[["$","$"],["\\(","\\)"]];function Pl(gu,Wu,qu){var np=parseInt((MathJax.version||"").split(".")[0]);if(np!==2&&np!==3){ls.warn("No MathJax version:",MathJax.version);return}var _h,ap,bp,wp,kp=function(){return ap=ls.extendDeepAll({},MathJax.Hub.config),bp=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:Et},displayAlign:"left"})},Iu=function(){ap=ls.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=Et},Bu=function(){if(_h=MathJax.Hub.config.menuSettings.renderer,_h!=="SVG")return MathJax.Hub.setRenderer("SVG")},Xl=function(){_h=MathJax.config.startup.output,_h!=="svg"&&(MathJax.config.startup.output="svg")},Uu=function(){var Nu="math-output-"+ls.randstr({},64);wp=yu.select("body").append("div").attr({id:Nu}).style({visibility:"hidden",position:"absolute","font-size":Wu.fontSize+"px"}).text(Al(gu));var tp=wp.node();return np===2?MathJax.Hub.Typeset(tp):MathJax.typeset([tp])},ep=function(){var Nu=wp.select(np===2?".MathJax_SVG":".MathJax"),tp=!Nu.empty()&&wp.select("svg").node();if(!tp)ls.log("There was an error in the tex syntax.",gu),qu();else{var up=tp.getBoundingClientRect(),dp;np===2?dp=yu.select("body").select("#MathJax_SVG_glyphs"):dp=Nu.select("defs"),qu(Nu,dp,up)}wp.remove()},_u=function(){if(_h!=="SVG")return MathJax.Hub.setRenderer(_h)},Wl=function(){_h!=="svg"&&(MathJax.config.startup.output=_h)},Jl=function(){return bp!==void 0&&(MathJax.Hub.processSectionDelay=bp),MathJax.Hub.Config(ap)},Pu=function(){MathJax.config=ap};np===2?MathJax.Hub.Queue(kp,Bu,Uu,ep,_u,Jl):np===3&&(Iu(),Xl(),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){Uu(),ep(),Wl(),Pu()}))}var El={sup:"font-size:70%",sub:"font-size:70%",s:"text-decoration:line-through",u:"text-decoration:underline",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},Fl={sub:"0.3em",sup:"-0.6em"},$l={sub:"-0.21em",sup:"0.42em"},Nl="",Ll=["http:","https:","mailto:","",void 0,":"],Ol=Mu.NEWLINES=/(\r\n?|\n)/g,Bl=/(<[^<>]*>)/,_l=/<(\/?)([^ >]*)(\s+(.*))?>/i,Rl=/<br(\s+.*)?>/i;Mu.BR_TAG_ALL=/<br(\s+.*)?>/gi;var Il=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,Hl=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,Kl=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,Gu=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function vu(gu,Wu){if(!gu)return null;var qu=gu.match(Wu),np=qu&&(qu[3]||qu[4]);return np&&bu(np)}var hu=/(^|;)\s*color:/;Mu.plainText=function(gu,Wu){Wu=Wu||{};for(var qu=Wu.len!==void 0&&Wu.len!==-1?Wu.len:1/0,np=Wu.allowedTags!==void 0?Wu.allowedTags:["br"],_h="...",ap=_h.length,bp=gu.split(Bl),wp=[],kp="",Iu=0,Bu=0;Bu<bp.length;Bu++){var Xl=bp[Bu],Uu=Xl.match(_l),ep=Uu&&Uu[2].toLowerCase();if(ep)np.indexOf(ep)!==-1&&(wp.push(Xl),kp=ep);else{var _u=Xl.length;if(Iu+_u<qu)wp.push(Xl),Iu+=_u;else if(Iu<qu){var Wl=qu-Iu;kp&&(kp!=="br"||Wl<=ap||_u<=ap)&&wp.pop(),qu>ap?wp.push(Xl.substr(0,Wl-ap)+_h):wp.push(Xl.substr(0,Wl));break}kp=""}}return wp.join("")};var Yl={mu:"",amp:"&",lt:"<",gt:">",nbsp:"",times:"",plusmn:"",deg:""},$u=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function bu(gu){return gu.replace($u,function(Wu,qu){var np;return qu.charAt(0)==="#"?np=Lu(qu.charAt(1)==="x"?parseInt(qu.substr(2),16):parseInt(qu.substr(1),10)):np=Yl[qu],np||Wu})}Mu.convertEntities=bu;function Lu(gu){if(!(gu>1114111)){var Wu=String.fromCodePoint;if(Wu)return Wu(gu);var qu=String.fromCharCode;return gu<=65535?qu(gu):qu((gu>>10)+55232,gu%1024+56320)}}function Fu(gu,Wu){Wu=Wu.replace(Ol," ");var qu=!1,np=[],_h,ap=-1;function bp(){ap++;var Ap=document.createElementNS(Fn.svg,"tspan");yu.select(Ap).attr({class:"line",dy:ap*xl+"em"}),gu.appendChild(Ap),_h=Ap;var Op=np;if(np=[{node:Ap}],Op.length>1)for(var Zp=1;Zp<Op.length;Zp++)wp(Op[Zp])}function wp(Ap){var Op=Ap.type,Zp={},u0;if(Op==="a"){u0="a";var r0=Ap.target,e0=Ap.href,Cp=Ap.popup;e0&&(Zp={"xlink:xlink:show":r0==="_blank"||r0.charAt(0)!=="_"?"new":"replace",target:r0,"xlink:xlink:href":e0},Cp&&(Zp.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Cp+'");return false;'))}else u0="tspan";Ap.style&&(Zp.style=Ap.style);var Mp=document.createElementNS(Fn.svg,u0);if(Op==="sup"||Op==="sub"){kp(_h,Nl),_h.appendChild(Mp);var sp=document.createElementNS(Fn.svg,"tspan");kp(sp,Nl),yu.select(sp).attr("dy",$l[Op]),Zp.dy=Fl[Op],_h.appendChild(Mp),_h.appendChild(sp)}else _h.appendChild(Mp);yu.select(Mp).attr(Zp),_h=Ap.node=Mp,np.push(Ap)}function kp(Ap,Op){Ap.appendChild(document.createTextNode(Op))}function Iu(Ap){if(np.length===1){ls.log("Ignoring unexpected end tag </"+Ap+">.",Wu);return}var Op=np.pop();Ap!==Op.type&&ls.log("Start tag <"+Op.type+"> doesnt match end tag <"+Ap+">. Pretending it did match.",Wu),_h=np[np.length-1].node}var Bu=Rl.test(Wu);Bu?bp():(_h=gu,np=[{node:gu}]);for(var Xl=Wu.split(Bl),Uu=0;Uu<Xl.length;Uu++){var ep=Xl[Uu],_u=ep.match(_l),Wl=_u&&_u[2].toLowerCase(),Jl=El[Wl];if(Wl==="br")bp();else if(Jl===void 0)kp(_h,bu(ep));else if(_u[1])Iu(Wl);else{var Pu=_u[4],Nu={type:Wl},tp=vu(Pu,Il);if(tp?(tp=tp.replace(hu,"$1 fill:"),Jl&&(tp+=";"+Jl)):Jl&&(tp=Jl),tp&&(Nu.style=tp),Wl==="a"){qu=!0;var up=vu(Pu,Hl);if(up){var dp=Du(up);dp&&(Nu.href=dp,Nu.target=vu(Pu,Kl)||"_blank",Nu.popup=vu(Pu,Gu))}}wp(Nu)}}return qu}function Du(gu){var Wu=encodeURI(decodeURI(gu)),qu=document.createElement("a"),np=document.createElement("a");qu.href=gu,np.href=Wu;var _h=qu.protocol,ap=np.protocol;return Ll.indexOf(_h)!==-1&&Ll.indexOf(ap)!==-1?Wu:""}Mu.sanitizeHTML=function(gu){gu=gu.replace(Ol," ");for(var Wu=document.createElement("p"),qu=Wu,np=[],_h=gu.split(Bl),ap=0;ap<_h.length;ap++){var bp=_h[ap],wp=bp.match(_l),kp=wp&&wp[2].toLowerCase();if(kp in El)if(wp[1])np.length&&(qu=np.pop());else{var Iu=wp[4],Bu=vu(Iu,Il),Xl=Bu?{style:Bu}:{};if(kp==="a"){var Uu=vu(Iu,Hl);if(Uu){var ep=Du(Uu);if(ep){Xl.href=ep;var _u=vu(Iu,Kl);_u&&(Xl.target=_u)}}}var Wl=document.createElement(kp);qu.appendChild(Wl),yu.select(Wl).attr(Xl),qu=Wl,np.push(Wl)}else qu.appendChild(document.createTextNode(bu(bp)))}var Jl="innerHTML";return Wu[Jl]},Mu.lineCount=function(gu){return gu.selectAll("tspan.line").size()||1},Mu.positionText=function(gu,Wu,qu){return gu.each(function(){var np=yu.select(this);function _h(wp,kp){return kp===void 0?(kp=np.attr(wp),kp===null&&(np.attr(wp,0),kp=0)):np.attr(wp,kp),kp}var ap=_h("x",Wu),bp=_h("y",qu);this.nodeName==="text"&&np.selectAll("tspan.line").attr({x:ap,y:bp})})};function Hu(gu,Wu,qu){var np=qu.horizontalAlign,_h=qu.verticalAlign||"top",ap=gu.node().getBoundingClientRect(),bp=Wu.node().getBoundingClientRect(),wp,kp,Iu;return _h==="bottom"?kp=function(){return ap.bottom-wp.height}:_h==="middle"?kp=function(){return ap.top+(ap.height-wp.height)/2}:kp=function(){return ap.top},np==="right"?Iu=function(){return ap.right-wp.width}:np==="center"?Iu=function(){return ap.left+(ap.width-wp.width)/2}:Iu=function(){return ap.left},function(){wp=this.node().getBoundingClientRect();var Bu=Iu()-bp.left,Xl=kp()-bp.top,Uu=qu.gd||{};if(qu.gd){Uu._fullLayout._calcInverseTransform(Uu);var ep=ls.apply3DTransform(Uu._fullLayout._invTransform)(Bu,Xl);Bu=ep[0],Xl=ep[1]}return this.style({top:Xl+"px",left:Bu+"px","z-index":1e3}),this}}var Vu="1px ";Mu.makeTextShadow=function(gu){var Wu=Vu,qu=Vu,np=Vu;return Wu+qu+np+gu+", -"+Wu+"-"+qu+np+gu+", "+Wu+"-"+qu+np+gu+", -"+Wu+qu+np+gu},Mu.makeEditable=function(gu,Wu){var qu=Wu.gd,np=Wu.delegate,_h=yu.dispatch("edit","input","cancel"),ap=np||gu;if(gu.style({"pointer-events":np?"none":"all"}),gu.size()!==1)throw new Error("boo");function bp(){kp(),gu.style({opacity:0});var Iu=ap.attr("class"),Bu;Iu?Bu="."+Iu.split(" ")[0]+"-math-group":Bu="[class*=-math-group]",Bu&&yu.select(gu.node().parentNode).select(Bu).style({opacity:0})}function wp(Iu){var Bu=Iu.node(),Xl=document.createRange();Xl.selectNodeContents(Bu);var Uu=window.getSelection();Uu.removeAllRanges(),Uu.addRange(Xl),Bu.focus()}function kp(){var Iu=yu.select(qu),Bu=Iu.select(".svg-container"),Xl=Bu.append("div"),Uu=gu.node().style,ep=parseFloat(Uu.fontSize||12),_u=Wu.text;_u===void 0&&(_u=gu.attr("data-unformatted")),Xl.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Uu.fontFamily||"Arial","font-size":ep,color:Wu.fill||Uu.fill||"black",opacity:1,"background-color":Wu.background||"transparent",outline:"#ffffff33 1px solid",margin:[-ep/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(_u).call(Hu(gu,Bu,Wu)).on("blur",function(){qu._editing=!1,gu.text(this.textContent).style({opacity:1});var Wl=yu.select(this).attr("class"),Jl;Wl?Jl="."+Wl.split(" ")[0]+"-math-group":Jl="[class*=-math-group]",Jl&&yu.select(gu.node().parentNode).select(Jl).style({opacity:0});var Pu=this.textContent;yu.select(this).transition().duration(0).remove(),yu.select(document).on("mouseup",null),_h.edit.call(gu,Pu)}).on("focus",function(){var Wl=this;qu._editing=!0,yu.select(document).on("mouseup",function(){if(yu.event.target===Wl)return!1;document.activeElement===Xl.node()&&Xl.node().blur()})}).on("keyup",function(){yu.event.which===27?(qu._editing=!1,gu.style({opacity:1}),yu.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),_h.cancel.call(gu,this.textContent)):(_h.input.call(gu,this.textContent),yu.select(this).call(Hu(gu,Bu,Wu)))}).on("keydown",function(){yu.event.which===13&&this.blur()}).call(wp)}return Wu.immediate?bp():ap.on("click",bp),yu.rebind(gu,_h,"on")}}),Yv=a((Mu,yu)=>{var ls=g(),_t=zl(),Fn=rt(),xl=vm(),Bn=cp(),yl=rp().isValid;function Sl(Ol,Bl,_l){var Rl=Bl?xl.nestedProperty(Ol,Bl).get()||{}:Ol,Il=Rl[_l||"color"];Il&&Il._inputArray&&(Il=Il._inputArray);var Hl=!1;if(xl.isArrayOrTypedArray(Il)){for(var Kl=0;Kl<Il.length;Kl++)if(Fn(Il[Kl])){Hl=!0;break}}return xl.isPlainObject(Rl)&&(Hl||Rl.showscale===!0||Fn(Rl.cmin)&&Fn(Rl.cmax)||yl(Rl.colorscale)||xl.isPlainObject(Rl.colorbar))}var Al=["showscale","autocolorscale","colorscale","reversescale","colorbar"],Et=["min","max","mid","auto"];function Pl(Ol){var Bl=Ol._colorAx,_l=Bl||Ol,Rl={},Il,Hl,Kl;for(Hl=0;Hl<Al.length;Hl++)Kl=Al[Hl],Rl[Kl]=_l[Kl];if(Bl)for(Il="c",Hl=0;Hl<Et.length;Hl++)Kl=Et[Hl],Rl[Kl]=_l["c"+Kl];else{var Gu;for(Hl=0;Hl<Et.length;Hl++){if(Kl=Et[Hl],Gu="c"+Kl,Gu in _l){Rl[Kl]=_l[Gu];continue}Gu="z"+Kl,Gu in _l&&(Rl[Kl]=_l[Gu])}Il=Gu.charAt(0)}return Rl._sync=function(vu,hu){var Yl=Et.indexOf(vu)!==-1?Il+vu:vu;_l[Yl]=_l["_"+Yl]=hu},Rl}function El(Ol){for(var Bl=Pl(Ol),_l=Bl.min,Rl=Bl.max,Il=Bl.reversescale?Fl(Bl.colorscale):Bl.colorscale,Hl=Il.length,Kl=new Array(Hl),Gu=new Array(Hl),vu=0;vu<Hl;vu++){var hu=Il[vu];Kl[vu]=_l+hu[0]*(Rl-_l),Gu[vu]=hu[1]}return{domain:Kl,range:Gu}}function Fl(Ol){for(var Bl=Ol.length,_l=new Array(Bl),Rl=Bl-1,Il=0;Rl>=0;Rl--,Il++){var Hl=Ol[Rl];_l[Il]=[1-Hl[0],Hl[1]]}return _l}function $l(Ol,Bl){Bl=Bl||{};for(var _l=Ol.domain,Rl=Ol.range,Il=Rl.length,Hl=new Array(Il),Kl=0;Kl<Il;Kl++){var Gu=_t(Rl[Kl]).toRgb();Hl[Kl]=[Gu.r,Gu.g,Gu.b,Gu.a]}var vu=ls.scale.linear().domain(_l).range(Hl).clamp(!0),hu=Bl.noNumericCheck,Yl=Bl.returnArray,$u;return hu&&Yl?$u=vu:hu?$u=function(bu){return Ll(vu(bu))}:Yl?$u=function(bu){return Fn(bu)?vu(bu):_t(bu).isValid()?bu:Bn.defaultLine}:$u=function(bu){return Fn(bu)?Ll(vu(bu)):_t(bu).isValid()?bu:Bn.defaultLine},$u.domain=vu.domain,$u.range=function(){return Rl},$u}function Nl(Ol,Bl){return $l(El(Ol),Bl)}function Ll(Ol){var Bl={r:Ol[0],g:Ol[1],b:Ol[2],a:Ol[3]};return _t(Bl).toRgbString()}yu.exports={hasColorscale:Sl,extractOpts:Pl,extractScale:El,flipScale:Fl,makeColorScaleFunc:$l,makeColorScaleFuncFromTrace:Nl}}),t2=a((Mu,yu)=>{var ls=z0(),_t=ls.FORMAT_LINK,Fn=ls.DATE_FORMAT_LINK;function xl(Sl,Al){return{valType:"string",dflt:"",editType:"none",description:(Al?Bn:yl)("hover text",Sl)+["By default the values are formatted using "+(Al?"generic number format":"`"+Sl+"axis.hoverformat`")+"."].join(" ")}}function Bn(Sl,Al){return["Sets the "+Sl+" formatting rule"+(Al?"for `"+Al+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+_t+"."].join(" ")}function yl(Sl,Al){return Bn(Sl,Al)+[" And for dates see: "+Fn+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}yu.exports={axisHoverFormat:xl,descriptionOnlyNumbers:Bn,descriptionWithDates:yl}}),Sv=a((Mu,yu)=>{var ls=Ml(),_t=Ju(),Fn=Cm().dash,xl=In().extendFlat,Bn=hv().templatedArray;gm().templateFormatStringDescription;var yl=t2().descriptionWithDates,Sl=nt().ONEDAY,Al=A1(),Et=Al.HOUR_PATTERN,Pl=Al.WEEKDAY_PATTERN,El={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},Fl=xl({},El,{values:El.values.slice().concat(["sync"])});function $l(hu){return{valType:"integer",min:0,dflt:hu?5:0,editType:"ticks"}}var Nl={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},Ll={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},Ol={valType:"data_array",editType:"ticks"},Bl={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function _l(hu){var Yl={valType:"number",min:0,editType:"ticks"};return hu||(Yl.dflt=5),Yl}function Rl(hu){var Yl={valType:"number",min:0,editType:"ticks"};return hu||(Yl.dflt=1),Yl}var Il={valType:"color",dflt:_t.defaultLine,editType:"ticks"},Hl={valType:"color",dflt:_t.lightLine,editType:"ticks"};function Kl(hu){var Yl={valType:"number",min:0,editType:"ticks"};return hu||(Yl.dflt=1),Yl}var Gu=xl({},Fn,{editType:"ticks"}),vu={valType:"boolean",editType:"ticks"};yu.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:_t.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:ls({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},modebardisable:{valType:"flaglist",flags:["autoscale","zoominout"],extras:["none"],dflt:"none",editType:"modebar"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[Al.idRegex.x.toString(),Al.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[Al.idRegex.x.toString(),Al.idRegex.y.toString()],editType:"calc"},rangebreaks:Bn("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[Pl,Et,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:Sl},editType:"calc"}),tickmode:Fl,nticks:$l(),tick0:Nl,dtick:Ll,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:Ol,ticktext:{valType:"data_array",editType:"ticks"},ticks:Bl,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},ticklabelshift:{valType:"integer",dflt:0,editType:"ticks"},ticklabelstandoff:{valType:"integer",dflt:0,editType:"ticks"},ticklabelindex:{valType:"integer",arrayOk:!0,editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:_l(),tickwidth:Rl(),tickcolor:Il,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:xl({},Fn,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:ls({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},autotickangles:{valType:"info_array",freeLength:!0,items:{valType:"angle"},dflt:[0,30,90],editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B","SI extended"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:yl("tick label")},tickformatstops:Bn("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:yl("hover text")},unifiedhovertitle:{text:{valType:"string",dflt:"",editType:"none"},editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:_t.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:vu,gridcolor:Hl,gridwidth:Kl(),griddash:Gu,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:_t.defaultLine,editType:"ticks"},zerolinelayer:{valType:"enumerated",values:["above traces","below traces"],dflt:"below traces",editType:"plot"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:_t.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",Al.idRegex.x.toString(),Al.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",Al.idRegex.x.toString(),Al.idRegex.y.toString()],editType:"plot"},minor:{tickmode:El,nticks:$l("minor"),tick0:Nl,dtick:Ll,tickvals:Ol,ticks:Bl,ticklen:_l("minor"),tickwidth:Rl("minor"),tickcolor:Il,gridcolor:Hl,gridwidth:Kl("minor"),griddash:Gu,showgrid:vu,editType:"ticks"},minorloglabels:{valType:"enumerated",values:["small digits","complete","none"],dflt:"small digits",editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","geometric mean ascending","geometric mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc"}}),Uy=a((Mu,yu)=>{var ls=Sv(),_t=Ml(),Fn=In().extendFlat,xl=Q0().overrideAll;yu.exports=xl({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:ls.linecolor,outlinewidth:ls.linewidth,bordercolor:ls.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:ls.minor.tickmode,nticks:ls.nticks,tick0:ls.tick0,dtick:ls.dtick,tickvals:ls.tickvals,ticktext:ls.ticktext,ticks:Fn({},ls.ticks,{dflt:""}),ticklabeloverflow:Fn({},ls.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:ls.ticklen,tickwidth:ls.tickwidth,tickcolor:ls.tickcolor,ticklabelstep:ls.ticklabelstep,showticklabels:ls.showticklabels,labelalias:ls.labelalias,tickfont:_t({}),tickangle:ls.tickangle,tickformat:ls.tickformat,tickformatstops:ls.tickformatstops,tickprefix:ls.tickprefix,showtickprefix:ls.showtickprefix,ticksuffix:ls.ticksuffix,showticksuffix:ls.showticksuffix,separatethousands:ls.separatethousands,exponentformat:ls.exponentformat,minexponent:ls.minexponent,showexponent:ls.showexponent,title:{text:{valType:"string"},font:_t({}),side:{valType:"enumerated",values:["right","top","bottom"]}}},"colorbars","from-root")}),_y=a((Mu,yu)=>{var ls=Uy(),_t=yp().counter,Fn=i1(),xl=rp().scales;Fn(xl);function Bn(yl){return"`"+yl+"`"}yu.exports=function(yl,Sl){yl=yl||"",Sl=Sl||{};var Al=Sl.cLetter||"c";"onlyIfNumerical"in Sl&&Sl.onlyIfNumerical;var Et="noScale"in Sl?Sl.noScale:yl==="marker.line",Pl="showScaleDflt"in Sl?Sl.showScaleDflt:Al==="z",El=typeof Sl.colorscaleDflt=="string"?xl[Sl.colorscaleDflt]:null,Fl=Sl.editTypeOverride||"",$l=yl?yl+".":"",Nl;"colorAttr"in Sl?(Nl=Sl.colorAttr,Sl.colorAttr):(Nl={z:"z",c:"color"}[Al],""+Bn($l+Nl));var Ll=Al+"auto",Ol=Al+"min",Bl=Al+"max",_l=Al+"mid",Rl={};Rl[Ol]=Rl[Bl]=void 0;var Il={};Il[Ll]=!1;var Hl={};return Nl==="color"&&(Hl.color={valType:"color",arrayOk:!0,editType:Fl||"style"},Sl.anim&&(Hl.color.anim=!0)),Hl[Ll]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:Rl},Hl[Ol]={valType:"number",dflt:null,editType:Fl||"plot",impliedEdits:Il},Hl[Bl]={valType:"number",dflt:null,editType:Fl||"plot",impliedEdits:Il},Hl[_l]={valType:"number",dflt:null,editType:"calc",impliedEdits:Rl},Hl.colorscale={valType:"colorscale",editType:"calc",dflt:El,impliedEdits:{autocolorscale:!1}},Hl.autocolorscale={valType:"boolean",dflt:Sl.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},Hl.reversescale={valType:"boolean",dflt:!1,editType:"plot"},Et||(Hl.showscale={valType:"boolean",dflt:Pl,editType:"calc"},Hl.colorbar=ls),Sl.noColorAxis||(Hl.coloraxis={valType:"subplotid",regex:_t("coloraxis"),dflt:null,editType:"calc"}),Hl}}),r2=a((Mu,yu)=>{var ls=In().extendFlat,_t=_y(),Fn=rp().scales;yu.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:Fn.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:Fn.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:Fn.RdBu,editType:"calc"}},coloraxis:ls({_isSubplotObj:!0,editType:"calc"},_t("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}}),ex=a((Mu,yu)=>{var ls=vm();yu.exports=function(_t){return ls.isPlainObject(_t.colorbar)}}),qy=a(Mu=>{var yu=rt(),ls=vm(),_t=nt(),Fn=_t.ONEDAY,xl=_t.ONEWEEK;Mu.dtick=function(Bn,yl){var Sl=yl==="log",Al=yl==="date",Et=yl==="category",Pl=Al?Fn:1;if(!Bn)return Pl;if(yu(Bn))return Bn=Number(Bn),Bn<=0?Pl:Et?Math.max(1,Math.round(Bn)):Al?Math.max(.1,Bn):Bn;if(typeof Bn!="string"||!(Al||Sl))return Pl;var El=Bn.charAt(0),Fl=Bn.substr(1);return Fl=yu(Fl)?Number(Fl):0,Fl<=0||!(Al&&El==="M"&&Fl===Math.round(Fl)||Sl&&El==="L"||Sl&&El==="D"&&(Fl===1||Fl===2))?Pl:Bn},Mu.tick0=function(Bn,yl,Sl,Al){if(yl==="date")return ls.cleanDate(Bn,ls.dateTick0(Sl,Al%xl===0?1:0));if(!(Al==="D1"||Al==="D2"))return yu(Bn)?Number(Bn):0}}),o3=a((Mu,yu)=>{var ls=qy(),_t=vm().isArrayOrTypedArray,Fn=wl().isTypedArraySpec,xl=wl().decodeTypedArraySpec;yu.exports=function(Bn,yl,Sl,Al,Et){Et||(Et={});var Pl=Et.isMinor,El=Pl?Bn.minor||{}:Bn,Fl=Pl?yl.minor:yl,$l=Pl?"minor.":"";function Nl(Kl){var Gu=El[Kl];return Fn(Gu)&&(Gu=xl(Gu)),Gu!==void 0?Gu:(Fl._template||{})[Kl]}var Ll=Nl("tick0"),Ol=Nl("dtick"),Bl=Nl("tickvals"),_l=_t(Bl)?"array":Ol?"linear":"auto",Rl=Sl($l+"tickmode",_l);if(Rl==="auto"||Rl==="sync")Sl($l+"nticks");else if(Rl==="linear"){var Il=Fl.dtick=ls.dtick(Ol,Al);Fl.tick0=ls.tick0(Ll,Al,yl.calendar,Il)}else if(Al!=="multicategory"){var Hl=Sl($l+"tickvals");Hl===void 0?Fl.tickmode="auto":Pl||Sl("ticktext")}}}),Iy=a((Mu,yu)=>{var ls=vm(),_t=Sv();yu.exports=function(Fn,xl,Bn,yl){var Sl=yl.isMinor,Al=Sl?Fn.minor||{}:Fn,Et=Sl?xl.minor:xl,Pl=Sl?_t.minor:_t,El=Sl?"minor.":"",Fl=ls.coerce2(Al,Et,Pl,"ticklen",Sl?(xl.ticklen||5)*.6:void 0),$l=ls.coerce2(Al,Et,Pl,"tickwidth",Sl?xl.tickwidth||1:void 0),Nl=ls.coerce2(Al,Et,Pl,"tickcolor",(Sl?xl.tickcolor:void 0)||Et.color),Ll=Bn(El+"ticks",!Sl&&yl.outerTicks||Fl||$l||Nl?"outside":"");Ll||(delete Et.ticklen,delete Et.tickwidth,delete Et.tickcolor)}}),tx=a((Mu,yu)=>{yu.exports=function(ls){var _t=["showexponent","showtickprefix","showticksuffix"],Fn=_t.filter(function(Bn){return ls[Bn]!==void 0}),xl=function(Bn){return ls[Bn]===ls[Fn[0]]};if(Fn.every(xl)||Fn.length===1)return ls[Fn[0]]}}),Kv=a((Mu,yu)=>{var ls=vm(),_t=hv();yu.exports=function(Fn,xl,Bn){var yl=Bn.name,Sl=Bn.inclusionAttr||"visible",Al=xl[yl],Et=ls.isArrayOrTypedArray(Fn[yl])?Fn[yl]:[],Pl=xl[yl]=[],El=_t.arrayTemplater(xl,yl,Sl),Fl,$l;for(Fl=0;Fl<Et.length;Fl++){var Nl=Et[Fl];ls.isPlainObject(Nl)?$l=El.newItem(Nl):($l=El.newItem({}),$l[Sl]=!1),$l._index=Fl,$l[Sl]!==!1&&Bn.handleItemDefaults(Nl,$l,xl,Bn),Pl.push($l)}var Ll=El.defaultItems();for(Fl=0;Fl<Ll.length;Fl++)$l=Ll[Fl],$l._index=Pl.length,Bn.handleItemDefaults({},$l,xl,Bn,{}),Pl.push($l);if(ls.isArrayOrTypedArray(Al)){var Ol=Math.min(Al.length,Pl.length);for(Fl=0;Fl<Ol;Fl++)ls.relinkPrivateKeys(Pl[Fl],Al[Fl])}return Pl}}),sy=a((Mu,yu)=>{var ls=vm(),_t=cp().contrast,Fn=Sv(),xl=tx(),Bn=Kv();yu.exports=function(Sl,Al,Et,Pl,El){El||(El={});var Fl=Et("labelalias");ls.isPlainObject(Fl)||delete Al.labelalias;var $l=xl(Sl),Nl=Et("showticklabels");if(Nl){El.noTicklabelshift||Et("ticklabelshift"),El.noTicklabelstandoff||Et("ticklabelstandoff");var Ll=El.font||{},Ol=Al.color,Bl=Al.ticklabelposition||"",_l=Bl.indexOf("inside")!==-1?_t(El.bgColor):Ol&&Ol!==Fn.color.dflt?Ol:Ll.color;if(ls.coerceFont(Et,"tickfont",Ll,{overrideDflt:{color:_l}}),!El.noTicklabelstep&&Pl!=="multicategory"&&Pl!=="log"&&Et("ticklabelstep"),!El.noAng){var Rl=Et("tickangle");!El.noAutotickangles&&Rl==="auto"&&Et("autotickangles")}if(Pl!=="category"){var Il=Et("tickformat");Bn(Sl,Al,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:yl}),Al.tickformatstops.length||delete Al.tickformatstops,!El.noExp&&!Il&&Pl!=="date"&&(Et("showexponent",$l),Et("exponentformat"),Et("minexponent"),Et("separatethousands"))}!El.noMinorloglabels&&Pl==="log"&&Et("minorloglabels")}};function yl(Sl,Al){function Et(El,Fl){return ls.coerce(Sl,Al,Fn.tickformatstops,El,Fl)}var Pl=Et("enabled");Pl&&(Et("dtickrange"),Et("value"))}}),ly=a((Mu,yu)=>{var ls=tx();yu.exports=function(_t,Fn,xl,Bn,yl){yl||(yl={});var Sl=yl.tickSuffixDflt,Al=ls(_t),Et=xl("tickprefix");Et&&xl("showtickprefix",Al);var Pl=xl("ticksuffix",Sl);Pl&&xl("showticksuffix",Al)}}),nv=a((Mu,yu)=>{var ls=vm(),_t=hv(),Fn=o3(),xl=Iy(),Bn=sy(),yl=ly(),Sl=Uy();yu.exports=function(Al,Et,Pl){var El=_t.newContainer(Et,"colorbar"),Fl=Al.colorbar||{};function $l(gu,Wu){return ls.coerce(Fl,El,Sl,gu,Wu)}var Nl=Pl.margin||{t:0,b:0,l:0,r:0},Ll=Pl.width-Nl.l-Nl.r,Ol=Pl.height-Nl.t-Nl.b,Bl=$l("orientation"),_l=Bl==="v",Rl=$l("thicknessmode");$l("thickness",Rl==="fraction"?30/(_l?Ll:Ol):30);var Il=$l("lenmode");$l("len",Il==="fraction"?1:_l?Ol:Ll);var Hl=$l("yref"),Kl=$l("xref"),Gu=Hl==="paper",vu=Kl==="paper",hu,Yl,$u,bu="left";_l?($u="middle",bu=vu?"left":"right",hu=vu?1.02:1,Yl=.5):($u=Gu?"bottom":"top",bu="center",hu=.5,Yl=Gu?1.02:1),ls.coerce(Fl,El,{x:{valType:"number",min:vu?-2:0,max:vu?3:1,dflt:hu}},"x"),ls.coerce(Fl,El,{y:{valType:"number",min:Gu?-2:0,max:Gu?3:1,dflt:Yl}},"y"),$l("xanchor",bu),$l("xpad"),$l("yanchor",$u),$l("ypad"),ls.noneOrAll(Fl,El,["x","y"]),$l("outlinecolor"),$l("outlinewidth"),$l("bordercolor"),$l("borderwidth"),$l("bgcolor");var Lu=ls.coerce(Fl,El,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:_l?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");$l("ticklabeloverflow",Lu.indexOf("inside")!==-1?"hide past domain":"hide past div"),Fn(Fl,El,$l,"linear");var Fu=Pl.font,Du={noAutotickangles:!0,noTicklabelshift:!0,noTicklabelstandoff:!0,outerTicks:!1,font:Fu};Lu.indexOf("inside")!==-1&&(Du.bgColor="black"),yl(Fl,El,$l,"linear",Du),Bn(Fl,El,$l,"linear",Du),xl(Fl,El,$l,"linear",Du),$l("title.text",Pl._dfltTitle.colorbar);var Hu=El.showticklabels?El.tickfont:Fu,Vu=ls.extendFlat({},Fu,{family:Hu.family,size:ls.bigFont(Hu.size)});ls.coerceFont($l,"title.font",Vu),$l("title.side",_l?"top":"right")}}),zy=a((Mu,yu)=>{var ls=rt(),_t=vm(),Fn=ex(),xl=nv(),Bn=rp().isValid,yl=Gp().traceIs;function Sl(Al,Et){var Pl=Et.slice(0,Et.length-1);return Et?_t.nestedProperty(Al,Pl).get()||{}:Al}yu.exports=function Al(Et,Pl,El,Fl,$l){var Nl=$l.prefix,Ll=$l.cLetter,Ol="_module"in Pl,Bl=Sl(Et,Nl),_l=Sl(Pl,Nl),Rl=Sl(Pl._template||{},Nl)||{},Il=function(){return delete Et.coloraxis,delete Pl.coloraxis,Al(Et,Pl,El,Fl,$l)};if(Ol){var Hl=El._colorAxes||{},Kl=Fl(Nl+"coloraxis");if(Kl){var Gu=yl(Pl,"contour")&&_t.nestedProperty(Pl,"contours.coloring").get()||"heatmap",vu=Hl[Kl];vu?(vu[2].push(Il),vu[0]!==Gu&&(vu[0]=!1,_t.warn(["Ignoring coloraxis:",Kl,"setting","as it is linked to incompatible colorscales."].join(" ")))):Hl[Kl]=[Gu,Pl,[Il]];return}}var hu=Bl[Ll+"min"],Yl=Bl[Ll+"max"],$u=ls(hu)&&ls(Yl)&&hu<Yl,bu=Fl(Nl+Ll+"auto",!$u);bu?Fl(Nl+Ll+"mid"):(Fl(Nl+Ll+"min"),Fl(Nl+Ll+"max"));var Lu=Bl.colorscale,Fu=Rl.colorscale,Du;if(Lu!==void 0&&(Du=!Bn(Lu)),Fu!==void 0&&(Du=!Bn(Fu)),Fl(Nl+"autocolorscale",Du),Fl(Nl+"colorscale"),Fl(Nl+"reversescale"),Nl!=="marker.line."){var Hu;Nl&&Ol&&(Hu=Fn(Bl));var Vu=Fl(Nl+"showscale",Hu);Vu&&(Nl&&Rl&&(_l._template=Rl),xl(Bl,_l,El))}}}),a3=a((Mu,yu)=>{var ls=vm(),_t=hv(),Fn=r2(),xl=zy();yu.exports=function(Bn,yl){function Sl(Ll,Ol){return ls.coerce(Bn,yl,Fn,Ll,Ol)}Sl("colorscale.sequential"),Sl("colorscale.sequentialminus"),Sl("colorscale.diverging");var Al=yl._colorAxes,Et,Pl;function El(Ll,Ol){return ls.coerce(Et,Pl,Fn.coloraxis,Ll,Ol)}for(var Fl in Al){var $l=Al[Fl];if($l[0])Et=Bn[Fl]||{},Pl=_t.newContainer(yl,Fl,"coloraxis"),Pl._name=Fl,xl(Et,Pl,yl,El,{prefix:"",cLetter:"c"});else{for(var Nl=0;Nl<$l[2].length;Nl++)$l[2][Nl]();delete yl._colorAxes[Fl]}}}}),rx=a((Mu,yu)=>{var ls=vm(),_t=Yv().hasColorscale,Fn=Yv().extractOpts;yu.exports=function(xl,Bn){function yl($l,Nl){var Ll=$l["_"+Nl];Ll!==void 0&&($l[Nl]=Ll)}function Sl($l,Nl){var Ll=Nl.container?ls.nestedProperty($l,Nl.container).get():$l;if(Ll)if(Ll.coloraxis)Ll._colorAx=Bn[Ll.coloraxis];else{var Ol=Fn(Ll),Bl=Ol.auto;(Bl||Ol.min===void 0)&&yl(Ll,Nl.min),(Bl||Ol.max===void 0)&&yl(Ll,Nl.max),Ol.autocolorscale&&yl(Ll,"colorscale")}}for(var Al=0;Al<xl.length;Al++){var Et=xl[Al],Pl=Et._module.colorbar;if(Pl)if(Array.isArray(Pl))for(var El=0;El<Pl.length;El++)Sl(Et,Pl[El]);else Sl(Et,Pl);_t(Et,"marker.line")&&Sl(Et,{container:"marker.line",min:"cmin",max:"cmax"})}for(var Fl in Bn._colorAxes)Sl(Bn[Fl],{min:"cmin",max:"cmax"})}}),Yy=a((Mu,yu)=>{var ls=rt(),_t=vm(),Fn=Yv().extractOpts;yu.exports=function(xl,Bn,yl){var Sl=xl._fullLayout,Al=yl.vals,Et=yl.containerStr,Pl=Et?_t.nestedProperty(Bn,Et).get():Bn,El=Fn(Pl),Fl=El.auto!==!1,$l=El.min,Nl=El.max,Ll=El.mid,Ol=function(){return _t.aggNums(Math.min,null,Al)},Bl=function(){return _t.aggNums(Math.max,null,Al)};if($l===void 0?$l=Ol():Fl&&(Pl._colorAx&&ls($l)?$l=Math.min($l,Ol()):$l=Ol()),Nl===void 0?Nl=Bl():Fl&&(Pl._colorAx&&ls(Nl)?Nl=Math.max(Nl,Bl()):Nl=Bl()),Fl&&Ll!==void 0&&(Nl-Ll>Ll-$l?$l=Ll-(Nl-Ll):Nl-Ll<Ll-$l&&(Nl=Ll+(Ll-$l))),$l===Nl&&($l-=.5,Nl+=.5),El._sync("min",$l),El._sync("max",Nl),El.autocolorscale){var _l;$l*Nl<0?_l=Sl.colorscale.diverging:$l>=0?_l=Sl.colorscale.sequential:_l=Sl.colorscale.sequentialminus,El._sync("colorscale",_l)}}}),s3=a((Mu,yu)=>{var ls=rp(),_t=Yv();yu.exports={moduleType:"component",name:"colorscale",attributes:_y(),layoutAttributes:r2(),supplyLayoutDefaults:a3(),handleDefaults:zy(),crossTraceDefaults:rx(),calc:Yy(),scales:ls.scales,defaultScale:ls.defaultScale,getScale:ls.get,isValidScale:ls.isValid,hasColorscale:_t.hasColorscale,extractOpts:_t.extractOpts,extractScale:_t.extractScale,flipScale:_t.flipScale,makeColorScaleFunc:_t.makeColorScaleFunc,makeColorScaleFuncFromTrace:_t.makeColorScaleFuncFromTrace}}),cy=a((Mu,yu)=>{var ls=vm(),_t=wl().isTypedArraySpec;yu.exports={hasLines:function(Fn){return Fn.visible&&Fn.mode&&Fn.mode.indexOf("lines")!==-1},hasMarkers:function(Fn){return Fn.visible&&(Fn.mode&&Fn.mode.indexOf("markers")!==-1||Fn.type==="splom")},hasText:function(Fn){return Fn.visible&&Fn.mode&&Fn.mode.indexOf("text")!==-1},isBubble:function(Fn){var xl=Fn.marker;return ls.isPlainObject(xl)&&(ls.isArrayOrTypedArray(xl.size)||_t(xl.size))}}}),d2=a((Mu,yu)=>{var ls=rt();yu.exports=function(_t,Fn){Fn||(Fn=2);var xl=_t.marker,Bn=xl.sizeref||1,yl=xl.sizemin||0,Sl=xl.sizemode==="area"?function(Al){return Math.sqrt(Al/Bn)}:function(Al){return Al/Bn};return function(Al){var Et=Sl(Al/Fn);return ls(Et)&&Et>0?Math.max(Et,yl):0}}}),Ny=a(Mu=>{var yu=vm();Mu.getSubplot=function(yl){return yl.subplot||yl.xaxis+yl.yaxis||yl.geo},Mu.isTraceInSubplots=function(yl,Sl){if(yl.type==="splom"){for(var Al=yl.xaxes||[],Et=yl.yaxes||[],Pl=0;Pl<Al.length;Pl++)for(var El=0;El<Et.length;El++)if(Sl.indexOf(Al[Pl]+Et[El])!==-1)return!0;return!1}return Sl.indexOf(Mu.getSubplot(yl))!==-1},Mu.flat=function(yl,Sl){for(var Al=new Array(yl.length),Et=0;Et<yl.length;Et++)Al[Et]=Sl;return Al},Mu.p2c=function(yl,Sl){for(var Al=new Array(yl.length),Et=0;Et<yl.length;Et++)Al[Et]=yl[Et].p2c(Sl);return Al},Mu.getDistanceFunction=function(yl,Sl,Al,Et){return yl==="closest"?Et||Mu.quadrature(Sl,Al):yl.charAt(0)==="x"?Sl:Al},Mu.getClosest=function(yl,Sl,Al){if(Al.index!==!1)Al.index>=0&&Al.index<yl.length?Al.distance=0:Al.index=!1;else for(var Et=1/0,Pl=yl.length,El=0;El<Pl;El++)Et=Sl(yl[El]),Et<=Al.distance&&(Al.index=El,Al.distance=Et);return Al},Mu.inbox=function(yl,Sl,Al){return yl*Sl<0||yl===0?Al:1/0},Mu.quadrature=function(yl,Sl){return function(Al){var Et=yl(Al),Pl=Sl(Al);return Math.sqrt(Et*Et+Pl*Pl)}},Mu.makeEventData=function(yl,Sl,Al){var Et="index"in yl?yl.index:yl.pointNumber,Pl={data:Sl._input,fullData:Sl,curveNumber:Sl.index,pointNumber:Et};if(Sl._indexToPoints){var El=Sl._indexToPoints[Et];El.length===1?Pl.pointIndex=El[0]:Pl.pointIndices=El}else Pl.pointIndex=Et;return Sl._module.eventData?Pl=Sl._module.eventData(Pl,yl,Sl,Al,Et):("xVal"in yl?Pl.x=yl.xVal:"x"in yl&&(Pl.x=yl.x),"yVal"in yl?Pl.y=yl.yVal:"y"in yl&&(Pl.y=yl.y),yl.xa&&(Pl.xaxis=yl.xa),yl.ya&&(Pl.yaxis=yl.ya),yl.zLabelVal!==void 0&&(Pl.z=yl.zLabelVal)),Mu.appendArrayPointValue(Pl,Sl,Et),Pl},Mu.appendArrayPointValue=function(yl,Sl,Al){var Et=Sl._arrayAttrs;if(Et)for(var Pl=0;Pl<Et.length;Pl++){var El=Et[Pl],Fl=_t(El);if(yl[Fl]===void 0){var $l=yu.nestedProperty(Sl,El).get(),Nl=Fn($l,Al);Nl!==void 0&&(yl[Fl]=Nl)}}},Mu.appendArrayMultiPointValues=function(yl,Sl,Al){var Et=Sl._arrayAttrs;if(Et)for(var Pl=0;Pl<Et.length;Pl++){var El=Et[Pl],Fl=_t(El);if(yl[Fl]===void 0){for(var $l=yu.nestedProperty(Sl,El).get(),Nl=new Array(Al.length),Ll=0;Ll<Al.length;Ll++)Nl[Ll]=Fn($l,Al[Ll]);yl[Fl]=Nl}}};var ls={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function _t(yl){return ls[yl]||yl}function Fn(yl,Sl){if(Array.isArray(Sl)){if(Array.isArray(yl)&&Array.isArray(yl[Sl[0]]))return yl[Sl[0]][Sl[1]]}else return yl[Sl]}var xl={x:!0,y:!0},Bn={"x unified":!0,"y unified":!0};Mu.isUnifiedHover=function(yl){return typeof yl!="string"?!1:!!Bn[yl]},Mu.isXYhover=function(yl){return typeof yl!="string"?!1:!!xl[yl]}}),nx=a((Mu,yu)=>{yu.exports=Fn;var ls={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},_t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function Fn(yl){var Sl=[];return yl.replace(_t,function(Al,Et,Pl){var El=Et.toLowerCase();for(Pl=Bn(Pl),El=="m"&&Pl.length>2&&(Sl.push([Et].concat(Pl.splice(0,2))),El="l",Et=Et=="m"?"l":"L");;){if(Pl.length==ls[El])return Pl.unshift(Et),Sl.push(Pl);if(Pl.length<ls[El])throw new Error("malformed path data");Sl.push([Et].concat(Pl.splice(0,ls[El])))}}),Sl}var xl=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function Bn(yl){var Sl=yl.match(xl);return Sl?Sl.map(Number):[]}}),Ey=a((Mu,yu)=>{var ls=nx(),_t=function(Ll,Ol){return Ol?Math.round(Ll*(Ol=Math.pow(10,Ol)))/Ol:Math.round(Ll)},Fn="M0,0Z",xl=Math.sqrt(2),Bn=Math.sqrt(3),yl=Math.PI,Sl=Math.cos,Al=Math.sin;yu.exports={circle:{n:0,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2),Rl="M"+_l+",0A"+_l+","+_l+" 0 1,1 0,-"+_l+"A"+_l+","+_l+" 0 0,1 "+_l+",0Z";return Bl?Nl(Ol,Bl,Rl):Rl}},square:{n:1,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M"+_l+","+_l+"H-"+_l+"V-"+_l+"H"+_l+"Z")}},diamond:{n:2,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.3,2);return Nl(Ol,Bl,"M"+_l+",0L0,"+_l+"L-"+_l+",0L0,-"+_l+"Z")}},cross:{n:3,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.4,2),Rl=_t(Ll*1.2,2);return Nl(Ol,Bl,"M"+Rl+","+_l+"H"+_l+"V"+Rl+"H-"+_l+"V"+_l+"H-"+Rl+"V-"+_l+"H-"+_l+"V-"+Rl+"H"+_l+"V-"+_l+"H"+Rl+"Z")}},x:{n:4,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.8/xl,2),Rl="l"+_l+","+_l,Il="l"+_l+",-"+_l,Hl="l-"+_l+",-"+_l,Kl="l-"+_l+","+_l;return Nl(Ol,Bl,"M0,"+_l+Rl+Il+Hl+Il+Hl+Kl+Hl+Kl+Rl+Kl+Rl+"Z")}},"triangle-up":{n:5,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*2/Bn,2),Rl=_t(Ll/2,2),Il=_t(Ll,2);return Nl(Ol,Bl,"M-"+_l+","+Rl+"H"+_l+"L0,-"+Il+"Z")}},"triangle-down":{n:6,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*2/Bn,2),Rl=_t(Ll/2,2),Il=_t(Ll,2);return Nl(Ol,Bl,"M-"+_l+",-"+Rl+"H"+_l+"L0,"+Il+"Z")}},"triangle-left":{n:7,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*2/Bn,2),Rl=_t(Ll/2,2),Il=_t(Ll,2);return Nl(Ol,Bl,"M"+Rl+",-"+_l+"V"+_l+"L-"+Il+",0Z")}},"triangle-right":{n:8,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*2/Bn,2),Rl=_t(Ll/2,2),Il=_t(Ll,2);return Nl(Ol,Bl,"M-"+Rl+",-"+_l+"V"+_l+"L"+Il+",0Z")}},"triangle-ne":{n:9,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.6,2),Rl=_t(Ll*1.2,2);return Nl(Ol,Bl,"M-"+Rl+",-"+_l+"H"+_l+"V"+Rl+"Z")}},"triangle-se":{n:10,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.6,2),Rl=_t(Ll*1.2,2);return Nl(Ol,Bl,"M"+_l+",-"+Rl+"V"+_l+"H-"+Rl+"Z")}},"triangle-sw":{n:11,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.6,2),Rl=_t(Ll*1.2,2);return Nl(Ol,Bl,"M"+Rl+","+_l+"H-"+_l+"V-"+Rl+"Z")}},"triangle-nw":{n:12,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.6,2),Rl=_t(Ll*1.2,2);return Nl(Ol,Bl,"M-"+_l+","+Rl+"V-"+_l+"H"+Rl+"Z")}},pentagon:{n:13,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.951,2),Rl=_t(Ll*.588,2),Il=_t(-Ll,2),Hl=_t(Ll*-.309,2),Kl=_t(Ll*.809,2);return Nl(Ol,Bl,"M"+_l+","+Hl+"L"+Rl+","+Kl+"H-"+Rl+"L-"+_l+","+Hl+"L0,"+Il+"Z")}},hexagon:{n:14,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2),Rl=_t(Ll/2,2),Il=_t(Ll*Bn/2,2);return Nl(Ol,Bl,"M"+Il+",-"+Rl+"V"+Rl+"L0,"+_l+"L-"+Il+","+Rl+"V-"+Rl+"L0,-"+_l+"Z")}},hexagon2:{n:15,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2),Rl=_t(Ll/2,2),Il=_t(Ll*Bn/2,2);return Nl(Ol,Bl,"M-"+Rl+","+Il+"H"+Rl+"L"+_l+",0L"+Rl+",-"+Il+"H-"+Rl+"L-"+_l+",0Z")}},octagon:{n:16,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.924,2),Rl=_t(Ll*.383,2);return Nl(Ol,Bl,"M-"+Rl+",-"+_l+"H"+Rl+"L"+_l+",-"+Rl+"V"+Rl+"L"+Rl+","+_l+"H-"+Rl+"L-"+_l+","+Rl+"V-"+Rl+"Z")}},star:{n:17,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=Ll*1.4,Rl=_t(_l*.225,2),Il=_t(_l*.951,2),Hl=_t(_l*.363,2),Kl=_t(_l*.588,2),Gu=_t(-_l,2),vu=_t(_l*-.309,2),hu=_t(_l*.118,2),Yl=_t(_l*.809,2),$u=_t(_l*.382,2);return Nl(Ol,Bl,"M"+Rl+","+vu+"H"+Il+"L"+Hl+","+hu+"L"+Kl+","+Yl+"L0,"+$u+"L-"+Kl+","+Yl+"L-"+Hl+","+hu+"L-"+Il+","+vu+"H-"+Rl+"L0,"+Gu+"Z")}},hexagram:{n:18,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.66,2),Rl=_t(Ll*.38,2),Il=_t(Ll*.76,2);return Nl(Ol,Bl,"M-"+Il+",0l-"+Rl+",-"+_l+"h"+Il+"l"+Rl+",-"+_l+"l"+Rl+","+_l+"h"+Il+"l-"+Rl+","+_l+"l"+Rl+","+_l+"h-"+Il+"l-"+Rl+","+_l+"l-"+Rl+",-"+_l+"h-"+Il+"Z")}},"star-triangle-up":{n:19,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*Bn*.8,2),Rl=_t(Ll*.8,2),Il=_t(Ll*1.6,2),Hl=_t(Ll*4,2),Kl="A "+Hl+","+Hl+" 0 0 1 ";return Nl(Ol,Bl,"M-"+_l+","+Rl+Kl+_l+","+Rl+Kl+"0,-"+Il+Kl+"-"+_l+","+Rl+"Z")}},"star-triangle-down":{n:20,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*Bn*.8,2),Rl=_t(Ll*.8,2),Il=_t(Ll*1.6,2),Hl=_t(Ll*4,2),Kl="A "+Hl+","+Hl+" 0 0 1 ";return Nl(Ol,Bl,"M"+_l+",-"+Rl+Kl+"-"+_l+",-"+Rl+Kl+"0,"+Il+Kl+_l+",-"+Rl+"Z")}},"star-square":{n:21,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.1,2),Rl=_t(Ll*2,2),Il="A "+Rl+","+Rl+" 0 0 1 ";return Nl(Ol,Bl,"M-"+_l+",-"+_l+Il+"-"+_l+","+_l+Il+_l+","+_l+Il+_l+",-"+_l+Il+"-"+_l+",-"+_l+"Z")}},"star-diamond":{n:22,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.4,2),Rl=_t(Ll*1.9,2),Il="A "+Rl+","+Rl+" 0 0 1 ";return Nl(Ol,Bl,"M-"+_l+",0"+Il+"0,"+_l+Il+_l+",0"+Il+"0,-"+_l+Il+"-"+_l+",0Z")}},"diamond-tall":{n:23,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*.7,2),Rl=_t(Ll*1.4,2);return Nl(Ol,Bl,"M0,"+Rl+"L"+_l+",0L0,-"+Rl+"L-"+_l+",0Z")}},"diamond-wide":{n:24,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.4,2),Rl=_t(Ll*.7,2);return Nl(Ol,Bl,"M0,"+Rl+"L"+_l+",0L0,-"+Rl+"L-"+_l+",0Z")}},hourglass:{n:25,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M"+_l+","+_l+"H-"+_l+"L"+_l+",-"+_l+"H-"+_l+"Z")},noDot:!0},bowtie:{n:26,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M"+_l+","+_l+"V-"+_l+"L-"+_l+","+_l+"V-"+_l+"Z")},noDot:!0},"circle-cross":{n:27,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M0,"+_l+"V-"+_l+"M"+_l+",0H-"+_l+"M"+_l+",0A"+_l+","+_l+" 0 1,1 0,-"+_l+"A"+_l+","+_l+" 0 0,1 "+_l+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2),Rl=_t(Ll/xl,2);return Nl(Ol,Bl,"M"+Rl+","+Rl+"L-"+Rl+",-"+Rl+"M"+Rl+",-"+Rl+"L-"+Rl+","+Rl+"M"+_l+",0A"+_l+","+_l+" 0 1,1 0,-"+_l+"A"+_l+","+_l+" 0 0,1 "+_l+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M0,"+_l+"V-"+_l+"M"+_l+",0H-"+_l+"M"+_l+","+_l+"H-"+_l+"V-"+_l+"H"+_l+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M"+_l+","+_l+"L-"+_l+",-"+_l+"M"+_l+",-"+_l+"L-"+_l+","+_l+"M"+_l+","+_l+"H-"+_l+"V-"+_l+"H"+_l+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.3,2);return Nl(Ol,Bl,"M"+_l+",0L0,"+_l+"L-"+_l+",0L0,-"+_l+"ZM0,-"+_l+"V"+_l+"M-"+_l+",0H"+_l)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.3,2),Rl=_t(Ll*.65,2);return Nl(Ol,Bl,"M"+_l+",0L0,"+_l+"L-"+_l+",0L0,-"+_l+"ZM-"+Rl+",-"+Rl+"L"+Rl+","+Rl+"M-"+Rl+","+Rl+"L"+Rl+",-"+Rl)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.4,2);return Nl(Ol,Bl,"M0,"+_l+"V-"+_l+"M"+_l+",0H-"+_l)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M"+_l+","+_l+"L-"+_l+",-"+_l+"M"+_l+",-"+_l+"L-"+_l+","+_l)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.2,2),Rl=_t(Ll*.85,2);return Nl(Ol,Bl,"M0,"+_l+"V-"+_l+"M"+_l+",0H-"+_l+"M"+Rl+","+Rl+"L-"+Rl+",-"+Rl+"M"+Rl+",-"+Rl+"L-"+Rl+","+Rl)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll/2,2),Rl=_t(Ll,2);return Nl(Ol,Bl,"M"+_l+","+Rl+"V-"+Rl+"M"+(_l-Rl)+",-"+Rl+"V"+Rl+"M"+Rl+","+_l+"H-"+Rl+"M-"+Rl+","+(_l-Rl)+"H"+Rl)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.2,2),Rl=_t(Ll*1.6,2),Il=_t(Ll*.8,2);return Nl(Ol,Bl,"M-"+_l+","+Il+"L0,0M"+_l+","+Il+"L0,0M0,-"+Rl+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.2,2),Rl=_t(Ll*1.6,2),Il=_t(Ll*.8,2);return Nl(Ol,Bl,"M-"+_l+",-"+Il+"L0,0M"+_l+",-"+Il+"L0,0M0,"+Rl+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.2,2),Rl=_t(Ll*1.6,2),Il=_t(Ll*.8,2);return Nl(Ol,Bl,"M"+Il+","+_l+"L0,0M"+Il+",-"+_l+"L0,0M-"+Rl+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.2,2),Rl=_t(Ll*1.6,2),Il=_t(Ll*.8,2);return Nl(Ol,Bl,"M-"+Il+","+_l+"L0,0M-"+Il+",-"+_l+"L0,0M"+Rl+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.4,2);return Nl(Ol,Bl,"M"+_l+",0H-"+_l)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*1.4,2);return Nl(Ol,Bl,"M0,"+_l+"V-"+_l)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M"+_l+",-"+_l+"L-"+_l+","+_l)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2);return Nl(Ol,Bl,"M"+_l+","+_l+"L-"+_l+",-"+_l)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2),Rl=_t(Ll*2,2);return Nl(Ol,Bl,"M0,0L-"+_l+","+Rl+"H"+_l+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2),Rl=_t(Ll*2,2);return Nl(Ol,Bl,"M0,0L-"+_l+",-"+Rl+"H"+_l+"Z")},noDot:!0},"arrow-left":{n:47,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*2,2),Rl=_t(Ll,2);return Nl(Ol,Bl,"M0,0L"+_l+",-"+Rl+"V"+Rl+"Z")},noDot:!0},"arrow-right":{n:48,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*2,2),Rl=_t(Ll,2);return Nl(Ol,Bl,"M0,0L-"+_l+",-"+Rl+"V"+Rl+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2),Rl=_t(Ll*2,2);return Nl(Ol,Bl,"M-"+_l+",0H"+_l+"M0,0L-"+_l+","+Rl+"H"+_l+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll,2),Rl=_t(Ll*2,2);return Nl(Ol,Bl,"M-"+_l+",0H"+_l+"M0,0L-"+_l+",-"+Rl+"H"+_l+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*2,2),Rl=_t(Ll,2);return Nl(Ol,Bl,"M0,-"+Rl+"V"+Rl+"M0,0L"+_l+",-"+Rl+"V"+Rl+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=_t(Ll*2,2),Rl=_t(Ll,2);return Nl(Ol,Bl,"M0,-"+Rl+"V"+Rl+"M0,0L-"+_l+",-"+Rl+"V"+Rl+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=yl/2.5,Rl=2*Ll*Sl(_l),Il=2*Ll*Al(_l);return Nl(Ol,Bl,"M0,0L"+-Rl+","+Il+"L"+Rl+","+Il+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(Ll,Ol,Bl){if(Et(Ol))return Fn;var _l=yl/4,Rl=2*Ll*Sl(_l),Il=2*Ll*Al(_l);return Nl(Ol,Bl,"M0,0L"+-Rl+","+Il+"A "+2*Ll+","+2*Ll+" 0 0 1 "+Rl+","+Il+"Z")},backoff:.4,noDot:!0}};function Et(Ll){return Ll===null}var Pl,El,Fl,$l;function Nl(Ll,Ol,Bl){if((!Ll||Ll%360===0)&&!Ol)return Bl;if(Fl===Ll&&$l===Ol&&Pl===Bl)return El;Fl=Ll,$l=Ol,Pl=Bl;function _l(Du,Hu){var Vu=Sl(Du),gu=Al(Du),Wu=Hu[0],qu=Hu[1]+(Ol||0);return[Wu*Vu-qu*gu,Wu*gu+qu*Vu]}for(var Rl=Ll/180*yl,Il=0,Hl=0,Kl=ls(Bl),Gu="",vu=0;vu<Kl.length;vu++){var hu=Kl[vu],Yl=hu[0],$u=Il,bu=Hl;if(Yl==="M"||Yl==="L")Il=+hu[1],Hl=+hu[2];else if(Yl==="m"||Yl==="l")Il+=+hu[1],Hl+=+hu[2];else if(Yl==="H")Il=+hu[1];else if(Yl==="h")Il+=+hu[1];else if(Yl==="V")Hl=+hu[1];else if(Yl==="v")Hl+=+hu[1];else if(Yl==="A"){Il=+hu[1],Hl=+hu[2];var Lu=_l(Rl,[+hu[6],+hu[7]]);hu[6]=Lu[0],hu[7]=Lu[1],hu[3]=+hu[3]+Ll}(Yl==="H"||Yl==="V")&&(Yl="L"),(Yl==="h"||Yl==="v")&&(Yl="l"),(Yl==="m"||Yl==="l")&&(Il-=$u,Hl-=bu);var Fu=_l(Rl,[Il,Hl]);(Yl==="H"||Yl==="V")&&(Yl="L"),(Yl==="M"||Yl==="L"||Yl==="m"||Yl==="l")&&(hu[1]=Fu[0],hu[2]=Fu[1]),hu[0]=Yl,Gu+=hu[0]+hu.slice(1).join(",")}return El=Gu,Gu}}),V1=a((Mu,yu)=>{var ls=g(),_t=vm(),Fn=_t.numberFormat,xl=rt(),Bn=zl(),yl=Gp(),Sl=cp(),Al=s3(),Et=_t.strTranslate,Pl=Wv(),El=Wy(),Fl=qv(),$l=Fl.LINE_SPACING,Nl=hp().DESELECTDIM,Ll=cy(),Ol=d2(),Bl=Ny().appendArrayPointValue,_l=yu.exports={};_l.font=function(Cp,Mp){var sp=Mp.variant,Ip=Mp.style,Jp=Mp.weight,a0=Mp.color,v0=Mp.size,h0=Mp.family,w0=Mp.shadow,E0=Mp.lineposition,_0=Mp.textcase;h0&&Cp.style("font-family",h0),v0+1&&Cp.style("font-size",v0+"px"),a0&&Cp.call(Sl.fill,a0),Jp&&Cp.style("font-weight",Jp),Ip&&Cp.style("font-style",Ip),sp&&Cp.style("font-variant",sp),_0&&Cp.style("text-transform",Rl(Hl(_0))),w0&&Cp.style("text-shadow",w0==="auto"?Pl.makeTextShadow(Sl.contrast(a0)):Rl(w0)),E0&&Cp.style("text-decoration-line",Rl(Kl(E0)))};function Rl(Cp){return Cp==="none"?void 0:Cp}var Il={normal:"none",lower:"lowercase",upper:"uppercase","word caps":"capitalize"};function Hl(Cp){return Il[Cp]}function Kl(Cp){return Cp.replace("under","underline").replace("over","overline").replace("through","line-through").split("+").join(" ")}_l.setPosition=function(Cp,Mp,sp){Cp.attr("x",Mp).attr("y",sp)},_l.setSize=function(Cp,Mp,sp){Cp.attr("width",Mp).attr("height",sp)},_l.setRect=function(Cp,Mp,sp,Ip,Jp){Cp.call(_l.setPosition,Mp,sp).call(_l.setSize,Ip,Jp)},_l.translatePoint=function(Cp,Mp,sp,Ip){var Jp=sp.c2p(Cp.x),a0=Ip.c2p(Cp.y);if(xl(Jp)&&xl(a0)&&Mp.node())Mp.node().nodeName==="text"?Mp.attr("x",Jp).attr("y",a0):Mp.attr("transform",Et(Jp,a0));else return!1;return!0},_l.translatePoints=function(Cp,Mp,sp){Cp.each(function(Ip){var Jp=ls.select(this);_l.translatePoint(Ip,Jp,Mp,sp)})},_l.hideOutsideRangePoint=function(Cp,Mp,sp,Ip,Jp,a0){Mp.attr("display",sp.isPtWithinRange(Cp,Jp)&&Ip.isPtWithinRange(Cp,a0)?null:"none")},_l.hideOutsideRangePoints=function(Cp,Mp){if(Mp._hasClipOnAxisFalse){var sp=Mp.xaxis,Ip=Mp.yaxis;Cp.each(function(Jp){var a0=Jp[0].trace,v0=a0.xcalendar,h0=a0.ycalendar,w0=yl.traceIs(a0,"bar-like")?".bartext":".point,.textpoint";Cp.selectAll(w0).each(function(E0){_l.hideOutsideRangePoint(E0,ls.select(this),sp,Ip,v0,h0)})})}},_l.crispRound=function(Cp,Mp,sp){return!Mp||!xl(Mp)?sp||0:Cp._context.staticPlot?Mp:Mp<1?1:Math.round(Mp)},_l.singleLineStyle=function(Cp,Mp,sp,Ip,Jp){Mp.style("fill","none");var a0=(((Cp||[])[0]||{}).trace||{}).line||{},v0=sp||a0.width||0,h0=Jp||a0.dash||"";Sl.stroke(Mp,Ip||a0.color),_l.dashLine(Mp,h0,v0)},_l.lineGroupStyle=function(Cp,Mp,sp,Ip){Cp.style("fill","none").each(function(Jp){var a0=(((Jp||[])[0]||{}).trace||{}).line||{},v0=Mp||a0.width||0,h0=Ip||a0.dash||"";ls.select(this).call(Sl.stroke,sp||a0.color).call(_l.dashLine,h0,v0)})},_l.dashLine=function(Cp,Mp,sp){sp=+sp||0,Mp=_l.dashStyle(Mp,sp),Cp.style({"stroke-dasharray":Mp,"stroke-width":sp+"px"})},_l.dashStyle=function(Cp,Mp){Mp=+Mp||1;var sp=Math.max(Mp,3);return Cp==="solid"?Cp="":Cp==="dot"?Cp=sp+"px,"+sp+"px":Cp==="dash"?Cp=3*sp+"px,"+3*sp+"px":Cp==="longdash"?Cp=5*sp+"px,"+5*sp+"px":Cp==="dashdot"?Cp=3*sp+"px,"+sp+"px,"+sp+"px,"+sp+"px":Cp==="longdashdot"&&(Cp=5*sp+"px,"+2*sp+"px,"+sp+"px,"+2*sp+"px"),Cp};function Gu(Cp,Mp,sp,Ip){var Jp=Mp.fillpattern,a0=Mp.fillgradient,v0=_l.getPatternAttr,h0=Jp&&(v0(Jp.shape,0,"")||v0(Jp.path,0,""));if(h0){var w0=v0(Jp.bgcolor,0,null),E0=v0(Jp.fgcolor,0,null),_0=Jp.fgopacity,$0=v0(Jp.size,0,8),f0=v0(Jp.solidity,0,.3),q0=Mp.uid;_l.pattern(Cp,"point",sp,q0,h0,$0,f0,void 0,Jp.fillmode,w0,E0,_0)}else if(a0&&a0.type!=="none"){var J0=a0.type,V0="scatterfill-"+Mp.uid;if(Ip&&(V0="legendfill-"+Mp.uid),!Ip&&(a0.start!==void 0||a0.stop!==void 0)){var nm,Ep;J0==="horizontal"?(nm={x:a0.start,y:0},Ep={x:a0.stop,y:0}):J0==="vertical"&&(nm={x:0,y:a0.start},Ep={x:0,y:a0.stop}),nm.x=Mp._xA.c2p(nm.x===void 0?Mp._extremes.x.min[0].val:nm.x,!0),nm.y=Mp._yA.c2p(nm.y===void 0?Mp._extremes.y.min[0].val:nm.y,!0),Ep.x=Mp._xA.c2p(Ep.x===void 0?Mp._extremes.x.max[0].val:Ep.x,!0),Ep.y=Mp._yA.c2p(Ep.y===void 0?Mp._extremes.y.max[0].val:Ep.y,!0),Cp.call(Fu,sp,V0,"linear",a0.colorscale,"fill",nm,Ep,!0,!1)}else J0==="horizontal"&&(J0=J0+"reversed"),Cp.call(_l.gradient,sp,V0,J0,a0.colorscale,"fill")}else Mp.fillcolor&&Cp.call(Sl.fill,Mp.fillcolor)}_l.singleFillStyle=function(Cp,Mp){var sp=ls.select(Cp.node()),Ip=sp.data(),Jp=((Ip[0]||[])[0]||{}).trace||{};Gu(Cp,Jp,Mp,!1)},_l.fillGroupStyle=function(Cp,Mp,sp){Cp.style("stroke-width",0).each(function(Ip){var Jp=ls.select(this);Ip[0].trace&&Gu(Jp,Ip[0].trace,Mp,sp)})};var vu=Ey();_l.symbolNames=[],_l.symbolFuncs=[],_l.symbolBackOffs=[],_l.symbolNeedLines={},_l.symbolNoDot={},_l.symbolNoFill={},_l.symbolList=[],Object.keys(vu).forEach(function(Cp){var Mp=vu[Cp],sp=Mp.n;_l.symbolList.push(sp,String(sp),Cp,sp+100,String(sp+100),Cp+"-open"),_l.symbolNames[sp]=Cp,_l.symbolFuncs[sp]=Mp.f,_l.symbolBackOffs[sp]=Mp.backoff||0,Mp.needLine&&(_l.symbolNeedLines[sp]=!0),Mp.noDot?_l.symbolNoDot[sp]=!0:_l.symbolList.push(sp+200,String(sp+200),Cp+"-dot",sp+300,String(sp+300),Cp+"-open-dot"),Mp.noFill&&(_l.symbolNoFill[sp]=!0)});var hu=_l.symbolNames.length,Yl="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";_l.symbolNumber=function(Cp){if(xl(Cp))Cp=+Cp;else if(typeof Cp=="string"){var Mp=0;Cp.indexOf("-open")>0&&(Mp=100,Cp=Cp.replace("-open","")),Cp.indexOf("-dot")>0&&(Mp+=200,Cp=Cp.replace("-dot","")),Cp=_l.symbolNames.indexOf(Cp),Cp>=0&&(Cp+=Mp)}return Cp%100>=hu||Cp>=400?0:Math.floor(Math.max(Cp,0))};function $u(Cp,Mp,sp,Ip){var Jp=Cp%100;return _l.symbolFuncs[Jp](Mp,sp,Ip)+(Cp>=200?Yl:"")}var bu=Fn("~f"),Lu={radial:{type:"radial"},radialreversed:{type:"radial",reversed:!0},horizontal:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0}},horizontalreversed:{type:"linear",start:{x:1,y:0},stop:{x:0,y:0},reversed:!0},vertical:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0}},verticalreversed:{type:"linear",start:{x:0,y:1},stop:{x:0,y:0},reversed:!0}};_l.gradient=function(Cp,Mp,sp,Ip,Jp,a0){var v0=Lu[Ip];return Fu(Cp,Mp,sp,v0.type,Jp,a0,v0.start,v0.stop,!1,v0.reversed)};function Fu(Cp,Mp,sp,Ip,Jp,a0,v0,h0,w0,E0){var _0=Jp.length,$0;Ip==="linear"?$0={node:"linearGradient",attrs:{x1:v0.x,y1:v0.y,x2:h0.x,y2:h0.y,gradientUnits:w0?"userSpaceOnUse":"objectBoundingBox"},reversed:E0}:Ip==="radial"&&($0={node:"radialGradient",reversed:E0});for(var f0=new Array(_0),q0=0;q0<_0;q0++)$0.reversed?f0[_0-1-q0]=[bu((1-Jp[q0][0])*100),Jp[q0][1]]:f0[q0]=[bu(Jp[q0][0]*100),Jp[q0][1]];var J0=Mp._fullLayout,V0="g"+J0._uid+"-"+sp,nm=J0._defs.select(".gradients").selectAll("#"+V0).data([Ip+f0.join(";")],_t.identity);nm.exit().remove(),nm.enter().append($0.node).each(function(){var Ep=ls.select(this);$0.attrs&&Ep.attr($0.attrs),Ep.attr("id",V0);var $p=Ep.selectAll("stop").data(f0);$p.exit().remove(),$p.enter().append("stop"),$p.each(function(Zu){var lp=Bn(Zu[1]);ls.select(this).attr({offset:Zu[0]+"%","stop-color":Sl.tinyRGB(lp),"stop-opacity":lp.getAlpha()})})}),Cp.style(a0,ep(V0,Mp)).style(a0+"-opacity",null),Cp.classed("gradient_filled",!0)}_l.pattern=function(Cp,Mp,sp,Ip,Jp,a0,v0,h0,w0,E0,_0,$0){var f0=Mp==="legend";h0&&(w0==="overlay"?(E0=h0,_0=Sl.contrast(E0)):(E0=void 0,_0=h0));var q0=sp._fullLayout,J0="p"+q0._uid+"-"+Ip,V0,nm,Ep=function(M0,A0,R0,rm,wm){return rm+(wm-rm)*(M0-A0)/(R0-A0)},$p,Zu,lp,mp,Tp={},Lp=Bn(_0),Up=Sl.tinyRGB(Lp),Xp=Lp.getAlpha(),c0=$0*Xp;switch(Jp){case"/":V0=a0*Math.sqrt(2),nm=a0*Math.sqrt(2),$p="M-"+V0/4+","+nm/4+"l"+V0/2+",-"+nm/2+"M0,"+nm+"L"+V0+",0M"+V0/4*3+","+nm/4*5+"l"+V0/2+",-"+nm/2,Zu=v0*a0,mp="path",Tp={d:$p,opacity:c0,stroke:Up,"stroke-width":Zu+"px"};break;case"\\":V0=a0*Math.sqrt(2),nm=a0*Math.sqrt(2),$p="M"+V0/4*3+",-"+nm/4+"l"+V0/2+","+nm/2+"M0,0L"+V0+","+nm+"M-"+V0/4+","+nm/4*3+"l"+V0/2+","+nm/2,Zu=v0*a0,mp="path",Tp={d:$p,opacity:c0,stroke:Up,"stroke-width":Zu+"px"};break;case"x":V0=a0*Math.sqrt(2),nm=a0*Math.sqrt(2),$p="M-"+V0/4+","+nm/4+"l"+V0/2+",-"+nm/2+"M0,"+nm+"L"+V0+",0M"+V0/4*3+","+nm/4*5+"l"+V0/2+",-"+nm/2+"M"+V0/4*3+",-"+nm/4+"l"+V0/2+","+nm/2+"M0,0L"+V0+","+nm+"M-"+V0/4+","+nm/4*3+"l"+V0/2+","+nm/2,Zu=a0-a0*Math.sqrt(1-v0),mp="path",Tp={d:$p,opacity:c0,stroke:Up,"stroke-width":Zu+"px"};break;case"|":V0=a0,nm=a0,mp="path",$p="M"+V0/2+",0L"+V0/2+","+nm,Zu=v0*a0,mp="path",Tp={d:$p,opacity:c0,stroke:Up,"stroke-width":Zu+"px"};break;case"-":V0=a0,nm=a0,mp="path",$p="M0,"+nm/2+"L"+V0+","+nm/2,Zu=v0*a0,mp="path",Tp={d:$p,opacity:c0,stroke:Up,"stroke-width":Zu+"px"};break;case"+":V0=a0,nm=a0,mp="path",$p="M"+V0/2+",0L"+V0/2+","+nm+"M0,"+nm/2+"L"+V0+","+nm/2,Zu=a0-a0*Math.sqrt(1-v0),mp="path",Tp={d:$p,opacity:c0,stroke:Up,"stroke-width":Zu+"px"};break;case".":V0=a0,nm=a0,v0<Math.PI/4?lp=Math.sqrt(v0*a0*a0/Math.PI):lp=Ep(v0,Math.PI/4,1,a0/2,a0/Math.sqrt(2)),mp="circle",Tp={cx:V0/2,cy:nm/2,r:lp,opacity:c0,fill:Up};break;default:V0=a0,nm=a0,mp="path",Tp={d:Jp,opacity:c0,fill:Up};break}var i0=[Jp||"noSh",E0||"noBg",_0||"noFg",a0,v0].join(";"),s0=q0._defs.select(".patterns").selectAll("#"+J0).data([i0],_t.identity);s0.exit().remove(),s0.enter().append("pattern").each(function(){var M0=ls.select(this);if(M0.attr({id:J0,width:V0+"px",height:nm+"px",patternUnits:"userSpaceOnUse",patternTransform:f0?"scale(0.8)":""}),E0){var A0=Bn(E0),R0=Sl.tinyRGB(A0),rm=A0.getAlpha(),wm=M0.selectAll("rect").data([0]);wm.exit().remove(),wm.enter().append("rect").attr({width:V0+"px",height:nm+"px",fill:R0,"fill-opacity":rm})}var Bm=M0.selectAll(mp).data([0]);Bm.exit().remove(),Bm.enter().append(mp).attr(Tp)}),Cp.style("fill",ep(J0,sp)).style("fill-opacity",null),Cp.classed("pattern_filled",!0)},_l.initGradients=function(Cp){var Mp=Cp._fullLayout,sp=_t.ensureSingle(Mp._defs,"g","gradients");sp.selectAll("linearGradient,radialGradient").remove(),ls.select(Cp).selectAll(".gradient_filled").classed("gradient_filled",!1)},_l.initPatterns=function(Cp){var Mp=Cp._fullLayout,sp=_t.ensureSingle(Mp._defs,"g","patterns");sp.selectAll("pattern").remove(),ls.select(Cp).selectAll(".pattern_filled").classed("pattern_filled",!1)},_l.getPatternAttr=function(Cp,Mp,sp){return Cp&&_t.isArrayOrTypedArray(Cp)?Mp<Cp.length?Cp[Mp]:sp:Cp},_l.pointStyle=function(Cp,Mp,sp,Ip){if(Cp.size()){var Jp=_l.makePointStyleFns(Mp);Cp.each(function(a0){_l.singlePointStyle(a0,ls.select(this),Mp,Jp,sp,Ip)})}},_l.singlePointStyle=function(Cp,Mp,sp,Ip,Jp,a0){var v0=sp.marker,h0=v0.line;if(a0&&a0.i>=0&&Cp.i===void 0&&(Cp.i=a0.i),Mp.style("opacity",Ip.selectedOpacityFn?Ip.selectedOpacityFn(Cp):Cp.mo===void 0?v0.opacity:Cp.mo),Ip.ms2mrc){var w0;Cp.ms==="various"||v0.size==="various"?w0=3:w0=Ip.ms2mrc(Cp.ms),Cp.mrc=w0,Ip.selectedSizeFn&&(w0=Cp.mrc=Ip.selectedSizeFn(Cp));var E0=_l.symbolNumber(Cp.mx||v0.symbol)||0;Cp.om=E0%200>=100;var _0=e0(Cp,sp),$0=Jl(Cp,sp);Mp.attr("d",$u(E0,w0,_0,$0))}var f0=!1,q0,J0,V0;if(Cp.so)V0=h0.outlierwidth,J0=h0.outliercolor,q0=v0.outliercolor;else{var nm=(h0||{}).width;V0=(Cp.mlw+1||nm+1||(Cp.trace?(Cp.trace.marker.line||{}).width:0)+1)-1||0,"mlc"in Cp?J0=Cp.mlcc=Ip.lineScale(Cp.mlc):_t.isArrayOrTypedArray(h0.color)?J0=Sl.defaultLine:J0=h0.color,_t.isArrayOrTypedArray(v0.color)&&(q0=Sl.defaultLine,f0=!0),"mc"in Cp?q0=Cp.mcc=Ip.markerScale(Cp.mc):q0=v0.color||v0.colors||"rgba(0,0,0,0)",Ip.selectedColorFn&&(q0=Ip.selectedColorFn(Cp))}if(Cp.om)Mp.call(Sl.stroke,q0).style({"stroke-width":(V0||1)+"px",fill:"none"});else{Mp.style("stroke-width",(Cp.isBlank?0:V0)+"px");var Ep=v0.gradient,$p=Cp.mgt;$p?f0=!0:$p=Ep&&Ep.type,_t.isArrayOrTypedArray($p)&&($p=$p[0],Lu[$p]||($p=0));var Zu=v0.pattern,lp=_l.getPatternAttr,mp=Zu&&(lp(Zu.shape,Cp.i,"")||lp(Zu.path,Cp.i,""));if($p&&$p!=="none"){var Tp=Cp.mgc;Tp?f0=!0:Tp=Ep.color;var Lp=sp.uid;f0&&(Lp+="-"+Cp.i),_l.gradient(Mp,Jp,Lp,$p,[[0,Tp],[1,q0]],"fill")}else if(mp){var Up=!1,Xp=Zu.fgcolor;!Xp&&a0&&a0.color&&(Xp=a0.color,Up=!0);var c0=lp(Xp,Cp.i,a0&&a0.color||null),i0=lp(Zu.bgcolor,Cp.i,null),s0=Zu.fgopacity,M0=lp(Zu.size,Cp.i,8),A0=lp(Zu.solidity,Cp.i,.3);Up=Up||Cp.mcc||_t.isArrayOrTypedArray(Zu.shape)||_t.isArrayOrTypedArray(Zu.path)||_t.isArrayOrTypedArray(Zu.bgcolor)||_t.isArrayOrTypedArray(Zu.fgcolor)||_t.isArrayOrTypedArray(Zu.size)||_t.isArrayOrTypedArray(Zu.solidity);var R0=sp.uid;Up&&(R0+="-"+Cp.i),_l.pattern(Mp,"point",Jp,R0,mp,M0,A0,Cp.mcc,Zu.fillmode,i0,c0,s0)}else _t.isArrayOrTypedArray(q0)?Sl.fill(Mp,q0[Cp.i]):Sl.fill(Mp,q0);V0&&Sl.stroke(Mp,J0)}},_l.makePointStyleFns=function(Cp){var Mp={},sp=Cp.marker;return Mp.markerScale=_l.tryColorscale(sp,""),Mp.lineScale=_l.tryColorscale(sp,"line"),yl.traceIs(Cp,"symbols")&&(Mp.ms2mrc=Ll.isBubble(Cp)?Ol(Cp):function(){return(sp.size||6)/2}),Cp.selectedpoints&&_t.extendFlat(Mp,_l.makeSelectedPointStyleFns(Cp)),Mp},_l.makeSelectedPointStyleFns=function(Cp){var Mp={},sp=Cp.selected||{},Ip=Cp.unselected||{},Jp=Cp.marker||{},a0=sp.marker||{},v0=Ip.marker||{},h0=Jp.opacity,w0=a0.opacity,E0=v0.opacity,_0=w0!==void 0,$0=E0!==void 0;(_t.isArrayOrTypedArray(h0)||_0||$0)&&(Mp.selectedOpacityFn=function(lp){var mp=lp.mo===void 0?Jp.opacity:lp.mo;return lp.selected?_0?w0:mp:$0?E0:Nl*mp});var f0=Jp.color,q0=a0.color,J0=v0.color;(q0||J0)&&(Mp.selectedColorFn=function(lp){var mp=lp.mcc||f0;return lp.selected?q0||mp:J0||mp});var V0=Jp.size,nm=a0.size,Ep=v0.size,$p=nm!==void 0,Zu=Ep!==void 0;return yl.traceIs(Cp,"symbols")&&($p||Zu)&&(Mp.selectedSizeFn=function(lp){var mp=lp.mrc||V0/2;return lp.selected?$p?nm/2:mp:Zu?Ep/2:mp}),Mp},_l.makeSelectedTextStyleFns=function(Cp){var Mp={},sp=Cp.selected||{},Ip=Cp.unselected||{},Jp=Cp.textfont||{},a0=sp.textfont||{},v0=Ip.textfont||{},h0=Jp.color,w0=a0.color,E0=v0.color;return Mp.selectedTextColorFn=function(_0){var $0=_0.tc||h0;return _0.selected?w0||$0:E0||(w0?$0:Sl.addOpacity($0,Nl))},Mp},_l.selectedPointStyle=function(Cp,Mp){if(!(!Cp.size()||!Mp.selectedpoints)){var sp=_l.makeSelectedPointStyleFns(Mp),Ip=Mp.marker||{},Jp=[];sp.selectedOpacityFn&&Jp.push(function(a0,v0){a0.style("opacity",sp.selectedOpacityFn(v0))}),sp.selectedColorFn&&Jp.push(function(a0,v0){Sl.fill(a0,sp.selectedColorFn(v0))}),sp.selectedSizeFn&&Jp.push(function(a0,v0){var h0=v0.mx||Ip.symbol||0,w0=sp.selectedSizeFn(v0);a0.attr("d",$u(_l.symbolNumber(h0),w0,e0(v0,Mp),Jl(v0,Mp))),v0.mrc2=w0}),Jp.length&&Cp.each(function(a0){for(var v0=ls.select(this),h0=0;h0<Jp.length;h0++)Jp[h0](v0,a0)})}},_l.tryColorscale=function(Cp,Mp){var sp=Mp?_t.nestedProperty(Cp,Mp).get():Cp;if(sp){var Ip=sp.color;if((sp.colorscale||sp._colorAx)&&_t.isArrayOrTypedArray(Ip))return Al.makeColorScaleFuncFromTrace(sp)}return _t.identity};var Du={start:1,end:-1,middle:0,bottom:1,top:-1};function Hu(Cp,Mp,sp,Ip,Jp){var a0=ls.select(Cp.node().parentNode),v0=Mp.indexOf("top")!==-1?"top":Mp.indexOf("bottom")!==-1?"bottom":"middle",h0=Mp.indexOf("left")!==-1?"end":Mp.indexOf("right")!==-1?"start":"middle",w0=Ip?Ip/.8+1:0,E0=(Pl.lineCount(Cp)-1)*$l+1,_0=Du[h0]*w0,$0=sp*.75+Du[v0]*w0+(Du[v0]-1)*E0*sp/2;Cp.attr("text-anchor",h0),Jp||a0.attr("transform",Et(_0,$0))}function Vu(Cp,Mp){var sp=Cp.ts||Mp.textfont.size;return xl(sp)&&sp>0?sp:0}_l.textPointStyle=function(Cp,Mp,sp){if(Cp.size()){var Ip;if(Mp.selectedpoints){var Jp=_l.makeSelectedTextStyleFns(Mp);Ip=Jp.selectedTextColorFn}var a0=Mp.texttemplate,v0=sp._fullLayout;Cp.each(function(h0){var w0=ls.select(this),E0=a0?_t.extractOption(h0,Mp,"txt","texttemplate"):_t.extractOption(h0,Mp,"tx","text");if(!E0&&E0!==0){w0.remove();return}if(a0){var _0=Mp._module.formatLabels,$0=_0?_0(h0,Mp,v0):{},f0={};Bl(f0,Mp,h0.i);var q0=Mp._meta||{};E0=_t.texttemplateString(E0,$0,v0._d3locale,f0,h0,q0)}var J0=h0.tp||Mp.textposition,V0=Vu(h0,Mp),nm=Ip?Ip(h0):h0.tc||Mp.textfont.color;w0.call(_l.font,{family:h0.tf||Mp.textfont.family,weight:h0.tw||Mp.textfont.weight,style:h0.ty||Mp.textfont.style,variant:h0.tv||Mp.textfont.variant,textcase:h0.tC||Mp.textfont.textcase,lineposition:h0.tE||Mp.textfont.lineposition,shadow:h0.tS||Mp.textfont.shadow,size:V0,color:nm}).text(E0).call(Pl.convertToTspans,sp).call(Hu,J0,V0,h0.mrc)})}},_l.selectedTextStyle=function(Cp,Mp){if(!(!Cp.size()||!Mp.selectedpoints)){var sp=_l.makeSelectedTextStyleFns(Mp);Cp.each(function(Ip){var Jp=ls.select(this),a0=sp.selectedTextColorFn(Ip),v0=Ip.tp||Mp.textposition,h0=Vu(Ip,Mp);Sl.fill(Jp,a0);var w0=yl.traceIs(Mp,"bar-like");Hu(Jp,v0,h0,Ip.mrc2||Ip.mrc,w0)})}};var gu=.5;_l.smoothopen=function(Cp,Mp){if(Cp.length<3)return"M"+Cp.join("L");var sp="M"+Cp[0],Ip=[],Jp;for(Jp=1;Jp<Cp.length-1;Jp++)Ip.push(bp(Cp[Jp-1],Cp[Jp],Cp[Jp+1],Mp));for(sp+="Q"+Ip[0][0]+" "+Cp[1],Jp=2;Jp<Cp.length-1;Jp++)sp+="C"+Ip[Jp-2][1]+" "+Ip[Jp-1][0]+" "+Cp[Jp];return sp+="Q"+Ip[Cp.length-3][1]+" "+Cp[Cp.length-1],sp},_l.smoothclosed=function(Cp,Mp){if(Cp.length<3)return"M"+Cp.join("L")+"Z";var sp="M"+Cp[0],Ip=Cp.length-1,Jp=[bp(Cp[Ip],Cp[0],Cp[1],Mp)],a0;for(a0=1;a0<Ip;a0++)Jp.push(bp(Cp[a0-1],Cp[a0],Cp[a0+1],Mp));for(Jp.push(bp(Cp[Ip-1],Cp[Ip],Cp[0],Mp)),a0=1;a0<=Ip;a0++)sp+="C"+Jp[a0-1][1]+" "+Jp[a0][0]+" "+Cp[a0];return sp+="C"+Jp[Ip][1]+" "+Jp[0][0]+" "+Cp[0]+"Z",sp};var Wu,qu;function np(Cp,Mp,sp){return sp&&(Cp=Iu(Cp)),Mp?ap(Cp[1]):_h(Cp[0])}function _h(Cp){var Mp=ls.round(Cp,2);return Wu=Mp,Mp}function ap(Cp){var Mp=ls.round(Cp,2);return qu=Mp,Mp}function bp(Cp,Mp,sp,Ip){var Jp=Cp[0]-Mp[0],a0=Cp[1]-Mp[1],v0=sp[0]-Mp[0],h0=sp[1]-Mp[1],w0=Math.pow(Jp*Jp+a0*a0,gu/2),E0=Math.pow(v0*v0+h0*h0,gu/2),_0=(E0*E0*Jp-w0*w0*v0)*Ip,$0=(E0*E0*a0-w0*w0*h0)*Ip,f0=3*E0*(w0+E0),q0=3*w0*(w0+E0);return[[_h(Mp[0]+(f0&&_0/f0)),ap(Mp[1]+(f0&&$0/f0))],[_h(Mp[0]-(q0&&_0/q0)),ap(Mp[1]-(q0&&$0/q0))]]}var wp={hv:function(Cp,Mp,sp){return"H"+_h(Mp[0])+"V"+np(Mp,1,sp)},vh:function(Cp,Mp,sp){return"V"+ap(Mp[1])+"H"+np(Mp,0,sp)},hvh:function(Cp,Mp,sp){return"H"+_h((Cp[0]+Mp[0])/2)+"V"+ap(Mp[1])+"H"+np(Mp,0,sp)},vhv:function(Cp,Mp,sp){return"V"+ap((Cp[1]+Mp[1])/2)+"H"+_h(Mp[0])+"V"+np(Mp,1,sp)}},kp=function(Cp,Mp,sp){return"L"+np(Mp,0,sp)+","+np(Mp,1,sp)};_l.steps=function(Cp){var Mp=wp[Cp]||kp;return function(sp){for(var Ip="M"+_h(sp[0][0])+","+ap(sp[0][1]),Jp=sp.length,a0=1;a0<Jp;a0++)Ip+=Mp(sp[a0-1],sp[a0],a0===Jp-1);return Ip}};function Iu(Cp,Mp){var sp=Cp.backoff,Ip=Cp.trace,Jp=Cp.d,a0=Cp.i;if(sp&&Ip&&Ip.marker&&Ip.marker.angle%360===0&&Ip.line&&Ip.line.shape!=="spline"){var v0=_t.isArrayOrTypedArray(sp),h0=Cp,w0=Mp?Mp[0]:Wu||0,E0=Mp?Mp[1]:qu||0,_0=h0[0],$0=h0[1],f0=_0-w0,q0=$0-E0,J0=Math.atan2(q0,f0),V0=v0?sp[a0]:sp;if(V0==="auto"){var nm=h0.i;Ip.type==="scatter"&&nm--;var Ep=h0.marker,$p=Ep.symbol;_t.isArrayOrTypedArray($p)&&($p=$p[nm]);var Zu=Ep.size;_t.isArrayOrTypedArray(Zu)&&(Zu=Zu[nm]),V0=Ep?_l.symbolBackOffs[_l.symbolNumber($p)]*Zu:0,V0+=_l.getMarkerStandoff(Jp[nm],Ip)||0}var lp=_0-V0*Math.cos(J0),mp=$0-V0*Math.sin(J0);(lp<=_0&&lp>=w0||lp>=_0&&lp<=w0)&&(mp<=$0&&mp>=E0||mp>=$0&&mp<=E0)&&(Cp=[lp,mp])}return Cp}_l.applyBackoff=Iu,_l.makeTester=function(){var Cp=_t.ensureSingleById(ls.select("body"),"svg","js-plotly-tester",function(sp){sp.attr(El.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),Mp=_t.ensureSingle(Cp,"path","js-reference-point",function(sp){sp.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});_l.tester=Cp,_l.testref=Mp},_l.savedBBoxes={};var Bu=0,Xl=1e4;_l.bBox=function(Cp,Mp,sp){sp||(sp=Uu(Cp));var Ip;if(sp){if(Ip=_l.savedBBoxes[sp],Ip)return _t.extendFlat({},Ip)}else if(Cp.childNodes.length===1){var Jp=Cp.childNodes[0];if(sp=Uu(Jp),sp){var a0=+Jp.getAttribute("x")||0,v0=+Jp.getAttribute("y")||0,h0=Jp.getAttribute("transform");if(!h0){var w0=_l.bBox(Jp,!1,sp);return a0&&(w0.left+=a0,w0.right+=a0),v0&&(w0.top+=v0,w0.bottom+=v0),w0}if(sp+="~"+a0+"~"+v0+"~"+h0,Ip=_l.savedBBoxes[sp],Ip)return _t.extendFlat({},Ip)}}var E0,_0;Mp?E0=Cp:(_0=_l.tester.node(),E0=Cp.cloneNode(!0),_0.appendChild(E0)),ls.select(E0).attr("transform",null).call(Pl.positionText,0,0);var $0=E0.getBoundingClientRect(),f0=_l.testref.node().getBoundingClientRect();Mp||_0.removeChild(E0);var q0={height:$0.height,width:$0.width,left:$0.left-f0.left,top:$0.top-f0.top,right:$0.right-f0.left,bottom:$0.bottom-f0.top};return Bu>=Xl&&(_l.savedBBoxes={},Bu=0),sp&&(_l.savedBBoxes[sp]=q0),Bu++,_t.extendFlat({},q0)};function Uu(Cp){var Mp=Cp.getAttribute("data-unformatted");if(Mp!==null)return Mp+Cp.getAttribute("data-math")+Cp.getAttribute("text-anchor")+Cp.getAttribute("style")}_l.setClipUrl=function(Cp,Mp,sp){Cp.attr("clip-path",ep(Mp,sp))};function ep(Cp,Mp){if(!Cp)return null;var sp=Mp._context,Ip=sp._exportedPlot?"":sp._baseUrl||"";return Ip?"url('"+Ip+"#"+Cp+"')":"url(#"+Cp+")"}_l.getTranslate=function(Cp){var Mp=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,sp=Cp.attr?"attr":"getAttribute",Ip=Cp[sp]("transform")||"",Jp=Ip.replace(Mp,function(a0,v0,h0){return[v0,h0].join(" ")}).split(" ");return{x:+Jp[0]||0,y:+Jp[1]||0}},_l.setTranslate=function(Cp,Mp,sp){var Ip=/(\btranslate\(.*?\);?)/,Jp=Cp.attr?"attr":"getAttribute",a0=Cp.attr?"attr":"setAttribute",v0=Cp[Jp]("transform")||"";return Mp=Mp||0,sp=sp||0,v0=v0.replace(Ip,"").trim(),v0+=Et(Mp,sp),v0=v0.trim(),Cp[a0]("transform",v0),v0},_l.getScale=function(Cp){var Mp=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,sp=Cp.attr?"attr":"getAttribute",Ip=Cp[sp]("transform")||"",Jp=Ip.replace(Mp,function(a0,v0,h0){return[v0,h0].join(" ")}).split(" ");return{x:+Jp[0]||1,y:+Jp[1]||1}},_l.setScale=function(Cp,Mp,sp){var Ip=/(\bscale\(.*?\);?)/,Jp=Cp.attr?"attr":"getAttribute",a0=Cp.attr?"attr":"setAttribute",v0=Cp[Jp]("transform")||"";return Mp=Mp||1,sp=sp||1,v0=v0.replace(Ip,"").trim(),v0+="scale("+Mp+","+sp+")",v0=v0.trim(),Cp[a0]("transform",v0),v0};var _u=/\s*sc.*/;_l.setPointGroupScale=function(Cp,Mp,sp){if(Mp=Mp||1,sp=sp||1,!!Cp){var Ip=Mp===1&&sp===1?"":"scale("+Mp+","+sp+")";Cp.each(function(){var Jp=(this.getAttribute("transform")||"").replace(_u,"");Jp+=Ip,Jp=Jp.trim(),this.setAttribute("transform",Jp)})}};var Wl=/translate\([^)]*\)\s*$/;_l.setTextPointsScale=function(Cp,Mp,sp){Cp&&Cp.each(function(){var Ip,Jp=ls.select(this),a0=Jp.select("text");if(a0.node()){var v0=parseFloat(a0.attr("x")||0),h0=parseFloat(a0.attr("y")||0),w0=(Jp.attr("transform")||"").match(Wl);Mp===1&&sp===1?Ip=[]:Ip=[Et(v0,h0),"scale("+Mp+","+sp+")",Et(-v0,-h0)],w0&&Ip.push(w0),Jp.attr("transform",Ip.join(""))}})};function Jl(Cp,Mp){var sp;return Cp&&(sp=Cp.mf),sp===void 0&&(sp=Mp.marker&&Mp.marker.standoff||0),!Mp._geo&&!Mp._xA?-sp:sp}_l.getMarkerStandoff=Jl;var Pu=Math.atan2,Nu=Math.cos,tp=Math.sin;function up(Cp,Mp){var sp=Mp[0],Ip=Mp[1];return[sp*Nu(Cp)-Ip*tp(Cp),sp*tp(Cp)+Ip*Nu(Cp)]}var dp,Ap,Op,Zp,u0,r0;function e0(Cp,Mp){var sp=Cp.ma;sp===void 0&&(sp=Mp.marker.angle,(!sp||_t.isArrayOrTypedArray(sp))&&(sp=0));var Ip,Jp,a0=Mp.marker.angleref;if(a0==="previous"||a0==="north"){if(Mp._geo){var v0=Mp._geo.project(Cp.lonlat);Ip=v0[0],Jp=v0[1]}else{var h0=Mp._xA,w0=Mp._yA;if(h0&&w0)Ip=h0.c2p(Cp.x),Jp=w0.c2p(Cp.y);else return 90}if(Mp._geo){var E0=Cp.lonlat[0],_0=Cp.lonlat[1],$0=Mp._geo.project([E0,_0+1e-5]),f0=Mp._geo.project([E0+1e-5,_0]),q0=Pu(f0[1]-Jp,f0[0]-Ip),J0=Pu($0[1]-Jp,$0[0]-Ip),V0;if(a0==="north")V0=sp/180*Math.PI;else if(a0==="previous"){var nm=E0/180*Math.PI,Ep=_0/180*Math.PI,$p=dp/180*Math.PI,Zu=Ap/180*Math.PI,lp=$p-nm,mp=Nu(Zu)*tp(lp),Tp=tp(Zu)*Nu(Ep)-Nu(Zu)*tp(Ep)*Nu(lp);V0=-Pu(mp,Tp)-Math.PI,dp=E0,Ap=_0}var Lp=up(q0,[Nu(V0),0]),Up=up(J0,[tp(V0),0]);sp=Pu(Lp[1]+Up[1],Lp[0]+Up[0])/Math.PI*180,a0==="previous"&&!(r0===Mp.uid&&Cp.i===u0+1)&&(sp=null)}if(a0==="previous"&&!Mp._geo)if(r0===Mp.uid&&Cp.i===u0+1&&xl(Ip)&&xl(Jp)){var Xp=Ip-Op,c0=Jp-Zp,i0=Mp.line&&Mp.line.shape||"",s0=i0.slice(i0.length-1);s0==="h"&&(c0=0),s0==="v"&&(Xp=0),sp+=Pu(c0,Xp)/Math.PI*180+90}else sp=null}return Op=Ip,Zp=Jp,u0=Cp.i,r0=Mp.uid,sp}_l.getMarkerAngle=e0}),G2=a((Mu,yu)=>{var ls=g(),_t=rt(),Fn=Fv(),xl=Gp(),Bn=vm(),yl=Bn.strTranslate,Sl=V1(),Al=cp(),Et=Wv(),Pl=hp(),El=qv().OPPOSITE_SIDE,Fl=/ [XY][0-9]* /,$l=1.6,Nl=1.6;function Ll(Ol,Bl,_l){var Rl=Ol._fullLayout,Il=_l.propContainer,Hl=_l.propName,Kl=_l.placeholder,Gu=_l.traceIndex,vu=_l.avoid||{},hu=_l.attributes,Yl=_l.transform,$u=_l.containerGroup,bu=1,Lu=Il.title,Fu=(Lu&&Lu.text?Lu.text:"").trim(),Du=!1,Hu=Lu&&Lu.font?Lu.font:{},Vu=Hu.family,gu=Hu.size,Wu=Hu.color,qu=Hu.weight,np=Hu.style,_h=Hu.variant,ap=Hu.textcase,bp=Hu.lineposition,wp=Hu.shadow,kp=_l.subtitlePropName,Iu=!!kp,Bu=_l.subtitlePlaceholder,Xl=(Il.title||{}).subtitle||{text:"",font:{}},Uu=(Xl.text||"").trim(),ep=!1,_u=1,Wl=Xl.font,Jl=Wl.family,Pu=Wl.size,Nu=Wl.color,tp=Wl.weight,up=Wl.style,dp=Wl.variant,Ap=Wl.textcase,Op=Wl.lineposition,Zp=Wl.shadow,u0;Hl==="title.text"?u0="titleText":Hl.indexOf("axis")!==-1?u0="axisTitleText":Hl.indexOf("colorbar")!==-1&&(u0="colorbarTitleText");var r0=Ol._context.edits[u0];function e0(f0,q0){return f0===void 0||q0===void 0?!1:f0.replace(Fl," % ")===q0.replace(Fl," % ")}Fu===""?bu=0:e0(Fu,Kl)&&(r0||(Fu=""),bu=.2,Du=!0),Iu&&(Uu===""?_u=0:e0(Uu,Bu)&&(r0||(Uu=""),_u=.2,ep=!0)),_l._meta?Fu=Bn.templateString(Fu,_l._meta):Rl._meta&&(Fu=Bn.templateString(Fu,Rl._meta));var Cp=Fu||Uu||r0,Mp;$u||($u=Bn.ensureSingle(Rl._infolayer,"g","g-"+Bl),Mp=Rl._hColorbarMoveTitle);var sp=$u.selectAll("text."+Bl).data(Cp?[0]:[]);sp.enter().append("text"),sp.text(Fu).attr("class",Bl),sp.exit().remove();var Ip=null,Jp=Bl+"-subtitle",a0=Uu||r0;if(Iu&&(Ip=$u.selectAll("text."+Jp).data(a0?[0]:[]),Ip.enter().append("text"),Ip.text(Uu).attr("class",Jp),Ip.exit().remove()),!Cp)return $u;function v0(f0,q0){Bn.syncOrAsync([h0,w0],{title:f0,subtitle:q0})}function h0(f0){var q0=f0.title,J0=f0.subtitle,V0;!Yl&&Mp&&(Yl={}),Yl?(V0="",Yl.rotate&&(V0+="rotate("+[Yl.rotate,hu.x,hu.y]+")"),(Yl.offset||Mp)&&(V0+=yl(0,(Yl.offset||0)-(Mp||0)))):V0=null,q0.attr("transform",V0);function nm(Tp){if(Tp){var Lp=ls.select(Tp.node().parentNode).select("."+Jp);if(!Lp.empty()){var Up=Tp.node().getBBox();if(Up.height){var Xp=Up.y+Up.height+$l*Pu;Lp.attr("y",Xp)}}}}if(q0.style("opacity",bu*Al.opacity(Wu)).call(Sl.font,{color:Al.rgb(Wu),size:ls.round(gu,2),family:Vu,weight:qu,style:np,variant:_h,textcase:ap,shadow:wp,lineposition:bp}).attr(hu).call(Et.convertToTspans,Ol,nm),J0&&!J0.empty()){var Ep=$u.select("."+Bl+"-math-group"),$p=q0.node().getBBox(),Zu=Ep.node()?Ep.node().getBBox():void 0,lp=Zu?Zu.y+Zu.height+$l*Pu:$p.y+$p.height+Nl*Pu,mp=Bn.extendFlat({},hu,{y:lp});J0.attr("transform",V0),J0.style("opacity",_u*Al.opacity(Nu)).call(Sl.font,{color:Al.rgb(Nu),size:ls.round(Pu,2),family:Jl,weight:tp,style:up,variant:dp,textcase:Ap,shadow:Zp,lineposition:Op}).attr(mp).call(Et.convertToTspans,Ol)}return Fn.previousPromises(Ol)}function w0(f0){var q0=f0.title,J0=ls.select(q0.node().parentNode);if(vu&&vu.selection&&vu.side&&Fu){J0.attr("transform",null);var V0=El[vu.side],nm=vu.side==="left"||vu.side==="top"?-1:1,Ep=_t(vu.pad)?vu.pad:2,$p=Sl.bBox(J0.node()),Zu={t:0,b:0,l:0,r:0},lp=Ol._fullLayout._reservedMargin;for(var mp in lp)for(var Tp in lp[mp]){var Lp=lp[mp][Tp];Zu[Tp]=Math.max(Zu[Tp],Lp)}var Up={left:Zu.l,top:Zu.t,right:Rl.width-Zu.r,bottom:Rl.height-Zu.b},Xp=vu.maxShift||nm*(Up[vu.side]-$p[vu.side]),c0=0;if(Xp<0)c0=Xp;else{var i0=vu.offsetLeft||0,s0=vu.offsetTop||0;$p.left-=i0,$p.right-=i0,$p.top-=s0,$p.bottom-=s0,vu.selection.each(function(){var A0=Sl.bBox(this);Bn.bBoxIntersect($p,A0,Ep)&&(c0=Math.max(c0,nm*(A0[vu.side]-$p[V0])+Ep))}),c0=Math.min(Xp,c0),Il._titleScoot=Math.abs(c0)}if(c0>0||Xp<0){var M0={left:[-c0,0],right:[c0,0],top:[0,-c0],bottom:[0,c0]}[vu.side];J0.attr("transform",yl(M0[0],M0[1]))}}}sp.call(v0,Ip);function E0(f0,q0){f0.text(q0).on("mouseover.opacity",function(){ls.select(this).transition().duration(Pl.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){ls.select(this).transition().duration(Pl.HIDE_PLACEHOLDER).style("opacity",0)})}if(r0&&(Fu?sp.on(".opacity",null):(E0(sp,Kl),Du=!0),sp.call(Et.makeEditable,{gd:Ol}).on("edit",function(f0){Gu!==void 0?xl.call("_guiRestyle",Ol,Hl,f0,Gu):xl.call("_guiRelayout",Ol,Hl,f0)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(v0)}).on("input",function(f0){this.text(f0||" ").call(Et.positionText,hu.x,hu.y)}),Iu)){if(Iu&&!Fu){var _0=sp.node().getBBox(),$0=_0.y+_0.height+Nl*Pu;Ip.attr("y",$0)}Uu?Ip.on(".opacity",null):(E0(Ip,Bu),ep=!0),Ip.call(Et.makeEditable,{gd:Ol}).on("edit",function(f0){xl.call("_guiRelayout",Ol,"title.subtitle.text",f0)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(v0)}).on("input",function(f0){this.text(f0||" ").call(Et.positionText,Ip.attr("x"),Ip.attr("y"))})}return sp.classed("js-placeholder",Du),Ip&&!Ip.empty()&&Ip.classed("js-placeholder",ep),$u}yu.exports={draw:Ll,SUBTITLE_PADDING_EM:Nl,SUBTITLE_PADDING_MATHJAX_EM:$l}}),l3=a((Mu,yu)=>{var ls=g(),_t=_().utcFormat,Fn=vm(),xl=Fn.numberFormat,Bn=rt(),yl=Fn.cleanNumber,Sl=Fn.ms2DateTime,Al=Fn.dateTime2ms,Et=Fn.ensureNumber,Pl=Fn.isArrayOrTypedArray,El=nt(),Fl=El.FP_SAFE,$l=El.BADNUM,Nl=El.LOG_CLIP,Ll=El.ONEWEEK,Ol=El.ONEDAY,Bl=El.ONEHOUR,_l=El.ONEMIN,Rl=El.ONESEC,Il=mv(),Hl=A1(),Kl=Hl.HOUR_PATTERN,Gu=Hl.WEEKDAY_PATTERN;function vu(Yl){return Math.pow(10,Yl)}function hu(Yl){return Yl!=null}yu.exports=function(Yl,$u){$u=$u||{};var bu=Yl._id||"x",Lu=bu.charAt(0);function Fu(Xl,Uu){if(Xl>0)return Math.log(Xl)/Math.LN10;if(Xl<=0&&Uu&&Yl.range&&Yl.range.length===2){var ep=Yl.range[0],_u=Yl.range[1];return .5*(ep+_u-2*Nl*Math.abs(ep-_u))}else return $l}function Du(Xl,Uu,ep,_u){if((_u||{}).msUTC&&Bn(Xl))return+Xl;var Wl=Al(Xl,ep||Yl.calendar);if(Wl===$l)if(Bn(Xl)){Xl=+Xl;var Jl=Math.floor(Fn.mod(Xl+.05,1)*10),Pu=Math.round(Xl-Jl/10);Wl=Al(new Date(Pu))+Jl/10}else return $l;return Wl}function Hu(Xl,Uu,ep){return Sl(Xl,Uu,ep||Yl.calendar)}function Vu(Xl){return Yl._categories[Math.round(Xl)]}function gu(Xl){if(hu(Xl)){if(Yl._categoriesMap===void 0&&(Yl._categoriesMap={}),Yl._categoriesMap[Xl]!==void 0)return Yl._categoriesMap[Xl];Yl._categories.push(typeof Xl=="number"?String(Xl):Xl);var Uu=Yl._categories.length-1;return Yl._categoriesMap[Xl]=Uu,Uu}return $l}function Wu(Xl,Uu){for(var ep=new Array(Uu),_u=0;_u<Uu;_u++){var Wl=(Xl[0]||[])[_u],Jl=(Xl[1]||[])[_u];ep[_u]=qu([Wl,Jl])}return ep}function qu(Xl){if(Yl._categoriesMap)return Yl._categoriesMap[Xl]}function np(Xl){var Uu=qu(Xl);if(Uu!==void 0)return Uu;if(Bn(Xl))return+Xl}function _h(Xl){return Bn(Xl)?+Xl:qu(Xl)}function ap(Xl,Uu,ep){return ls.round(ep+Uu*Xl,2)}function bp(Xl,Uu,ep){return(Xl-ep)/Uu}var wp=function(Xl){return Bn(Xl)?ap(Xl,Yl._m,Yl._b):$l},kp=function(Xl){return bp(Xl,Yl._m,Yl._b)};if(Yl.rangebreaks){var Iu=Lu==="y";wp=function(Xl){if(!Bn(Xl))return $l;var Uu=Yl._rangebreaks.length;if(!Uu)return ap(Xl,Yl._m,Yl._b);var ep=Iu;Yl.range[0]>Yl.range[1]&&(ep=!ep);for(var _u=ep?-1:1,Wl=_u*Xl,Jl=0,Pu=0;Pu<Uu;Pu++){var Nu=_u*Yl._rangebreaks[Pu].min,tp=_u*Yl._rangebreaks[Pu].max;if(Wl<Nu)break;if(Wl>tp)Jl=Pu+1;else{Jl=Wl<(Nu+tp)/2?Pu:Pu+1;break}}var up=Yl._B[Jl]||0;return isFinite(up)?ap(Xl,Yl._m2,up):0},kp=function(Xl){var Uu=Yl._rangebreaks.length;if(!Uu)return bp(Xl,Yl._m,Yl._b);for(var ep=0,_u=0;_u<Uu&&!(Xl<Yl._rangebreaks[_u].pmin);_u++)Xl>Yl._rangebreaks[_u].pmax&&(ep=_u+1);return bp(Xl,Yl._m2,Yl._B[ep])}}Yl.c2l=Yl.type==="log"?Fu:Et,Yl.l2c=Yl.type==="log"?vu:Et,Yl.l2p=wp,Yl.p2l=kp,Yl.c2p=Yl.type==="log"?function(Xl,Uu){return wp(Fu(Xl,Uu))}:wp,Yl.p2c=Yl.type==="log"?function(Xl){return vu(kp(Xl))}:kp,["linear","-"].indexOf(Yl.type)!==-1?(Yl.d2r=Yl.r2d=Yl.d2c=Yl.r2c=Yl.d2l=Yl.r2l=yl,Yl.c2d=Yl.c2r=Yl.l2d=Yl.l2r=Et,Yl.d2p=Yl.r2p=function(Xl){return Yl.l2p(yl(Xl))},Yl.p2d=Yl.p2r=kp,Yl.cleanPos=Et):Yl.type==="log"?(Yl.d2r=Yl.d2l=function(Xl,Uu){return Fu(yl(Xl),Uu)},Yl.r2d=Yl.r2c=function(Xl){return vu(yl(Xl))},Yl.d2c=Yl.r2l=yl,Yl.c2d=Yl.l2r=Et,Yl.c2r=Fu,Yl.l2d=vu,Yl.d2p=function(Xl,Uu){return Yl.l2p(Yl.d2r(Xl,Uu))},Yl.p2d=function(Xl){return vu(kp(Xl))},Yl.r2p=function(Xl){return Yl.l2p(yl(Xl))},Yl.p2r=kp,Yl.cleanPos=Et):Yl.type==="date"?(Yl.d2r=Yl.r2d=Fn.identity,Yl.d2c=Yl.r2c=Yl.d2l=Yl.r2l=Du,Yl.c2d=Yl.c2r=Yl.l2d=Yl.l2r=Hu,Yl.d2p=Yl.r2p=function(Xl,Uu,ep){return Yl.l2p(Du(Xl,0,ep))},Yl.p2d=Yl.p2r=function(Xl,Uu,ep){return Hu(kp(Xl),Uu,ep)},Yl.cleanPos=function(Xl){return Fn.cleanDate(Xl,$l,Yl.calendar)}):Yl.type==="category"?(Yl.d2c=Yl.d2l=gu,Yl.r2d=Yl.c2d=Yl.l2d=Vu,Yl.d2r=Yl.d2l_noadd=np,Yl.r2c=function(Xl){var Uu=_h(Xl);return Uu!==void 0?Uu:Yl.fraction2r(.5)},Yl.l2r=Yl.c2r=Et,Yl.r2l=_h,Yl.d2p=function(Xl){return Yl.l2p(Yl.r2c(Xl))},Yl.p2d=function(Xl){return Vu(kp(Xl))},Yl.r2p=Yl.d2p,Yl.p2r=kp,Yl.cleanPos=function(Xl){return typeof Xl=="string"&&Xl!==""?Xl:Et(Xl)}):Yl.type==="multicategory"&&(Yl.r2d=Yl.c2d=Yl.l2d=Vu,Yl.d2r=Yl.d2l_noadd=np,Yl.r2c=function(Xl){var Uu=np(Xl);return Uu!==void 0?Uu:Yl.fraction2r(.5)},Yl.r2c_just_indices=qu,Yl.l2r=Yl.c2r=Et,Yl.r2l=np,Yl.d2p=function(Xl){return Yl.l2p(Yl.r2c(Xl))},Yl.p2d=function(Xl){return Vu(kp(Xl))},Yl.r2p=Yl.d2p,Yl.p2r=kp,Yl.cleanPos=function(Xl){return Array.isArray(Xl)||typeof Xl=="string"&&Xl!==""?Xl:Et(Xl)},Yl.setupMultiCategory=function(Xl){var Uu=Yl._traceIndices,ep,_u,Wl=Yl._matchGroup;if(Wl&&Yl._categories.length===0){for(var Jl in Wl)if(Jl!==bu){var Pu=$u[Il.id2name(Jl)];Uu=Uu.concat(Pu._traceIndices)}}var Nu=[[0,{}],[0,{}]],tp=[];for(ep=0;ep<Uu.length;ep++){var up=Xl[Uu[ep]];if(Lu in up){var dp=up[Lu],Ap=up._length||Fn.minRowLength(dp);if(Pl(dp[0])&&Pl(dp[1]))for(_u=0;_u<Ap;_u++){var Op=dp[0][_u],Zp=dp[1][_u];hu(Op)&&hu(Zp)&&(tp.push([Op,Zp]),Op in Nu[0][1]||(Nu[0][1][Op]=Nu[0][0]++),Zp in Nu[1][1]||(Nu[1][1][Zp]=Nu[1][0]++))}}}for(tp.sort(function(u0,r0){var e0=Nu[0][1],Cp=e0[u0[0]]-e0[r0[0]];if(Cp)return Cp;var Mp=Nu[1][1];return Mp[u0[1]]-Mp[r0[1]]}),ep=0;ep<tp.length;ep++)gu(tp[ep])}),Yl.fraction2r=function(Xl){var Uu=Yl.r2l(Yl.range[0]),ep=Yl.r2l(Yl.range[1]);return Yl.l2r(Uu+Xl*(ep-Uu))},Yl.r2fraction=function(Xl){var Uu=Yl.r2l(Yl.range[0]),ep=Yl.r2l(Yl.range[1]);return(Yl.r2l(Xl)-Uu)/(ep-Uu)},Yl.limitRange=function(Xl){var Uu=Yl.minallowed,ep=Yl.maxallowed;if(!(Uu===void 0&&ep===void 0)){Xl||(Xl="range");var _u=Fn.nestedProperty(Yl,Xl).get(),Wl=Fn.simpleMap(_u,Yl.r2l),Jl=Wl[1]<Wl[0];Jl&&Wl.reverse();var Pu=Fn.simpleMap([Uu,ep],Yl.r2l);if(Uu!==void 0&&Wl[0]<Pu[0]&&(_u[Jl?1:0]=Uu),ep!==void 0&&Wl[1]>Pu[1]&&(_u[Jl?0:1]=ep),_u[0]===_u[1]){var Nu=Yl.l2r(Uu),tp=Yl.l2r(ep);if(Uu!==void 0){var up=Nu+1;ep!==void 0&&(up=Math.min(up,tp)),_u[Jl?1:0]=up}if(ep!==void 0){var dp=tp+1;Uu!==void 0&&(dp=Math.max(dp,Nu)),_u[Jl?0:1]=dp}}}},Yl.cleanRange=function(Xl,Uu){Yl._cleanRange(Xl,Uu),Yl.limitRange(Xl)},Yl._cleanRange=function(Xl,Uu){Uu||(Uu={}),Xl||(Xl="range");var ep=Fn.nestedProperty(Yl,Xl).get(),_u,Wl;if(Yl.type==="date"?Wl=Fn.dfltRange(Yl.calendar):Lu==="y"?Wl=Hl.DFLTRANGEY:Yl._name==="realaxis"?Wl=[0,1]:Wl=Uu.dfltRange||Hl.DFLTRANGEX,Wl=Wl.slice(),(Yl.rangemode==="tozero"||Yl.rangemode==="nonnegative")&&(Wl[0]=0),!ep||ep.length!==2){Fn.nestedProperty(Yl,Xl).set(Wl);return}var Jl=ep[0]===null,Pu=ep[1]===null;for(Yl.type==="date"&&!Yl.autorange&&(ep[0]=Fn.cleanDate(ep[0],$l,Yl.calendar),ep[1]=Fn.cleanDate(ep[1],$l,Yl.calendar)),_u=0;_u<2;_u++)if(Yl.type==="date"){if(!Fn.isDateTime(ep[_u],Yl.calendar)){Yl[Xl]=Wl;break}if(Yl.r2l(ep[0])===Yl.r2l(ep[1])){var Nu=Fn.constrain(Yl.r2l(ep[0]),Fn.MIN_MS+1e3,Fn.MAX_MS-1e3);ep[0]=Yl.l2r(Nu-1e3),ep[1]=Yl.l2r(Nu+1e3);break}}else{if(!Bn(ep[_u]))if(!(Jl||Pu)&&Bn(ep[1-_u]))ep[_u]=ep[1-_u]*(_u?10:.1);else{Yl[Xl]=Wl;break}if(ep[_u]<-Fl?ep[_u]=-Fl:ep[_u]>Fl&&(ep[_u]=Fl),ep[0]===ep[1]){var tp=Math.max(1,Math.abs(ep[0]*1e-6));ep[0]-=tp,ep[1]+=tp}}},Yl.setScale=function(Xl){var Uu=$u._size;if(Yl.overlaying){var ep=Il.getFromId({_fullLayout:$u},Yl.overlaying);Yl.domain=ep.domain}var _u=Xl&&Yl._r?"_r":"range",Wl=Yl.calendar;Yl.cleanRange(_u);var Jl=Yl.r2l(Yl[_u][0],Wl),Pu=Yl.r2l(Yl[_u][1],Wl),Nu=Lu==="y";if(Nu?(Yl._offset=Uu.t+(1-Yl.domain[1])*Uu.h,Yl._length=Uu.h*(Yl.domain[1]-Yl.domain[0]),Yl._m=Yl._length/(Jl-Pu),Yl._b=-Yl._m*Pu):(Yl._offset=Uu.l+Yl.domain[0]*Uu.w,Yl._length=Uu.w*(Yl.domain[1]-Yl.domain[0]),Yl._m=Yl._length/(Pu-Jl),Yl._b=-Yl._m*Jl),Yl._rangebreaks=[],Yl._lBreaks=0,Yl._m2=0,Yl._B=[],Yl.rangebreaks){var tp,up;if(Yl._rangebreaks=Yl.locateBreaks(Math.min(Jl,Pu),Math.max(Jl,Pu)),Yl._rangebreaks.length){for(tp=0;tp<Yl._rangebreaks.length;tp++)up=Yl._rangebreaks[tp],Yl._lBreaks+=Math.abs(up.max-up.min);var dp=Nu;Jl>Pu&&(dp=!dp),dp&&Yl._rangebreaks.reverse();var Ap=dp?-1:1;for(Yl._m2=Ap*Yl._length/(Math.abs(Pu-Jl)-Yl._lBreaks),Yl._B.push(-Yl._m2*(Nu?Pu:Jl)),tp=0;tp<Yl._rangebreaks.length;tp++)up=Yl._rangebreaks[tp],Yl._B.push(Yl._B[Yl._B.length-1]-Ap*Yl._m2*(up.max-up.min));for(tp=0;tp<Yl._rangebreaks.length;tp++)up=Yl._rangebreaks[tp],up.pmin=wp(up.min),up.pmax=wp(up.max)}}if(!isFinite(Yl._m)||!isFinite(Yl._b)||Yl._length<0)throw $u._replotting=!1,new Error("Something went wrong with axis scaling")},Yl.maskBreaks=function(Xl){var Uu=Yl.rangebreaks||[],ep,_u,Wl,Jl,Pu;Uu._cachedPatterns||(Uu._cachedPatterns=Uu.map(function(e0){return e0.enabled&&e0.bounds?Fn.simpleMap(e0.bounds,e0.pattern?yl:Yl.d2c):null})),Uu._cachedValues||(Uu._cachedValues=Uu.map(function(e0){return e0.enabled&&e0.values?Fn.simpleMap(e0.values,Yl.d2c).sort(Fn.sorterAsc):null}));for(var Nu=0;Nu<Uu.length;Nu++){var tp=Uu[Nu];if(tp.enabled){if(tp.bounds){var up=tp.pattern;switch(ep=Uu._cachedPatterns[Nu],_u=ep[0],Wl=ep[1],up){case Gu:Pu=new Date(Xl),Jl=Pu.getUTCDay(),_u>Wl&&(Wl+=7,Jl<_u&&(Jl+=7));break;case Kl:Pu=new Date(Xl);var dp=Pu.getUTCHours(),Ap=Pu.getUTCMinutes(),Op=Pu.getUTCSeconds(),Zp=Pu.getUTCMilliseconds();Jl=dp+(Ap/60+Op/3600+Zp/36e5),_u>Wl&&(Wl+=24,Jl<_u&&(Jl+=24));break;case"":Jl=Xl;break}if(Jl>=_u&&Jl<Wl)return $l}else for(var u0=Uu._cachedValues[Nu],r0=0;r0<u0.length;r0++)if(_u=u0[r0],Wl=_u+tp.dvalue,Xl>=_u&&Xl<Wl)return $l}}return Xl},Yl.locateBreaks=function(Xl,Uu){var ep,_u,Wl,Jl,Pu=[];if(!Yl.rangebreaks)return Pu;var Nu=Yl.rangebreaks.slice().sort(function(Mp,sp){return Mp.pattern===Gu&&sp.pattern===Kl?-1:sp.pattern===Gu&&Mp.pattern===Kl?1:0}),tp=function(Mp,sp){if(Mp=Fn.constrain(Mp,Xl,Uu),sp=Fn.constrain(sp,Xl,Uu),Mp!==sp){for(var Ip=!0,Jp=0;Jp<Pu.length;Jp++){var a0=Pu[Jp];Mp<a0.max&&sp>=a0.min&&(Mp<a0.min&&(a0.min=Mp),sp>a0.max&&(a0.max=sp),Ip=!1)}Ip&&Pu.push({min:Mp,max:sp})}};for(ep=0;ep<Nu.length;ep++){var up=Nu[ep];if(up.enabled)if(up.bounds){var dp=Xl,Ap=Uu;up.pattern&&(dp=Math.floor(dp)),_u=Fn.simpleMap(up.bounds,up.pattern?yl:Yl.r2l),Wl=_u[0],Jl=_u[1];var Op=new Date(dp),Zp,u0;switch(up.pattern){case Gu:u0=Ll,Zp=((Jl<Wl?7:0)+(Jl-Wl))*Ol,dp+=Wl*Ol-(Op.getUTCDay()*Ol+Op.getUTCHours()*Bl+Op.getUTCMinutes()*_l+Op.getUTCSeconds()*Rl+Op.getUTCMilliseconds());break;case Kl:u0=Ol,Zp=((Jl<Wl?24:0)+(Jl-Wl))*Bl,dp+=Wl*Bl-(Op.getUTCHours()*Bl+Op.getUTCMinutes()*_l+Op.getUTCSeconds()*Rl+Op.getUTCMilliseconds());break;default:dp=Math.min(_u[0],_u[1]),Ap=Math.max(_u[0],_u[1]),u0=Ap-dp,Zp=u0}for(var r0=dp;r0<Ap;r0+=u0)tp(r0,r0+Zp)}else for(var e0=Fn.simpleMap(up.values,Yl.d2c),Cp=0;Cp<e0.length;Cp++)Wl=e0[Cp],Jl=Wl+up.dvalue,tp(Wl,Jl)}return Pu.sort(function(Mp,sp){return Mp.min-sp.min}),Pu},Yl.makeCalcdata=function(Xl,Uu,ep){var _u,Wl,Jl,Pu,Nu=Yl.type,tp=Nu==="date"&&Xl[Uu+"calendar"];if(Uu in Xl){if(_u=Xl[Uu],Pu=Xl._length||Fn.minRowLength(_u),Fn.isTypedArray(_u)&&(Nu==="linear"||Nu==="log")){if(Pu===_u.length)return _u;if(_u.subarray)return _u.subarray(0,Pu)}if(Nu==="multicategory")return Wu(_u,Pu);for(Wl=new Array(Pu),Jl=0;Jl<Pu;Jl++)Wl[Jl]=Yl.d2c(_u[Jl],0,tp,ep)}else{var up=Uu+"0"in Xl?Yl.d2c(Xl[Uu+"0"],0,tp):0,dp=Xl["d"+Uu]?Number(Xl["d"+Uu]):1;for(_u=Xl[{x:"y",y:"x"}[Uu]],Pu=Xl._length||_u.length,Wl=new Array(Pu),Jl=0;Jl<Pu;Jl++)Wl[Jl]=up+Jl*dp}if(Yl.rangebreaks)for(Jl=0;Jl<Pu;Jl++)Wl[Jl]=Yl.maskBreaks(Wl[Jl]);return Wl},Yl.isValidRange=function(Xl,Uu){return Array.isArray(Xl)&&Xl.length===2&&(Uu&&Xl[0]===null||Bn(Yl.r2l(Xl[0])))&&(Uu&&Xl[1]===null||Bn(Yl.r2l(Xl[1])))},Yl.getAutorangeDflt=function(Xl,Uu){var ep=!Yl.isValidRange(Xl,"nullOk");return ep&&Uu&&Uu.reverseDflt?ep="reversed":Xl&&(Xl[0]===null&&Xl[1]===null?ep=!0:Xl[0]===null&&Xl[1]!==null?ep="min":Xl[0]!==null&&Xl[1]===null&&(ep="max")),ep},Yl.isReversed=function(){var Xl=Yl.autorange;return Xl==="reversed"||Xl==="min reversed"||Xl==="max reversed"},Yl.isPtWithinRange=function(Xl,Uu){var ep=Yl.c2l(Xl[Lu],null,Uu),_u=Yl.r2l(Yl.range[0]),Wl=Yl.r2l(Yl.range[1]);return _u<Wl?_u<=ep&&ep<=Wl:Wl<=ep&&ep<=_u},Yl._emptyCategories=function(){Yl._categories=[],Yl._categoriesMap={}},Yl.clearCalc=function(){var Xl=Yl._matchGroup;if(Xl){var Uu=null,ep=null;for(var _u in Xl){var Wl=$u[Il.id2name(_u)];if(Wl._categories){Uu=Wl._categories,ep=Wl._categoriesMap;break}}Uu&&ep?(Yl._categories=Uu,Yl._categoriesMap=ep):Yl._emptyCategories()}else Yl._emptyCategories();if(Yl._initialCategories)for(var Jl=0;Jl<Yl._initialCategories.length;Jl++)gu(Yl._initialCategories[Jl])},Yl.sortByInitialCategories=function(){var Xl=[];if(Yl._emptyCategories(),Yl._initialCategories)for(var Uu=0;Uu<Yl._initialCategories.length;Uu++)gu(Yl._initialCategories[Uu]);Xl=Xl.concat(Yl._traceIndices);var ep=Yl._matchGroup;for(var _u in ep)if(bu!==_u){var Wl=$u[Il.id2name(_u)];Wl._categories=Yl._categories,Wl._categoriesMap=Yl._categoriesMap,Xl=Xl.concat(Wl._traceIndices)}return Xl};var Bu=$u._d3locale;Yl.type==="date"&&(Yl._dateFormat=Bu?Bu.timeFormat:_t,Yl._extraFormat=$u._extraFormat),Yl._separators=$u.separators,Yl._numFormat=Bu?Bu.numberFormat:xl,delete Yl._minDtick,delete Yl._forceTick0}}),h2=a((Mu,yu)=>{var ls=rt(),_t=vm(),Fn=nt().BADNUM,xl=_t.isArrayOrTypedArray,Bn=_t.isDateTime,yl=_t.cleanNumber,Sl=Math.round;yu.exports=function(Nl,Ll,Ol){var Bl=Nl,_l=Ol.noMultiCategory;if(xl(Bl)&&!Bl.length)return"-";if(!_l&&$l(Bl))return"multicategory";if(_l&&Array.isArray(Bl[0])){for(var Rl=[],Il=0;Il<Bl.length;Il++)if(xl(Bl[Il]))for(var Hl=0;Hl<Bl[Il].length;Hl++)Rl.push(Bl[Il][Hl]);Bl=Rl}if(Pl(Bl,Ll))return"date";var Kl=Ol.autotypenumbers!=="strict";return Fl(Bl,Kl)?"category":Et(Bl,Kl)?"linear":"-"};function Al(Nl,Ll){return Ll?ls(Nl):typeof Nl=="number"}function Et(Nl,Ll){for(var Ol=Nl.length,Bl=0;Bl<Ol;Bl++)if(Al(Nl[Bl],Ll))return!0;return!1}function Pl(Nl,Ll){for(var Ol=Nl.length,Bl=El(Ol),_l=0,Rl=0,Il={},Hl=0;Hl<Ol;Hl+=Bl){var Kl=Sl(Hl),Gu=Nl[Kl],vu=String(Gu);Il[vu]||(Il[vu]=1,Bn(Gu,Ll)&&_l++,ls(Gu)&&Rl++)}return _l>Rl*2}function El(Nl){return Math.max(1,(Nl-1)/1e3)}function Fl(Nl,Ll){for(var Ol=Nl.length,Bl=El(Ol),_l=0,Rl=0,Il={},Hl=0;Hl<Ol;Hl+=Bl){var Kl=Sl(Hl),Gu=Nl[Kl],vu=String(Gu);if(!Il[vu]){Il[vu]=1;var hu=typeof Gu;hu==="boolean"?Rl++:(Ll?yl(Gu)!==Fn:hu==="number")?_l++:hu==="string"&&Rl++}}return Rl>_l*2}function $l(Nl){return xl(Nl[0])&&xl(Nl[1])}}),S2=a((Mu,yu)=>{var ls=g(),_t=rt(),Fn=vm(),xl=nt().FP_SAFE,Bn=Gp(),yl=V1(),Sl=mv(),Al=Sl.getFromId,Et=Sl.isLinked;yu.exports={applyAutorangeOptions:$u,getAutoRange:Pl,makePadFn:Fl,doAutoRange:Ol,findExtremes:Bl,concatExtremes:Ll};function Pl(bu,Lu){var Fu,Du,Hu=[],Vu=bu._fullLayout,gu=Fl(Vu,Lu,0),Wu=Fl(Vu,Lu,1),qu=Ll(bu,Lu),np=qu.min,_h=qu.max;if(np.length===0||_h.length===0)return Fn.simpleMap(Lu.range,Lu.r2l);var ap=np[0].val,bp=_h[0].val;for(Fu=1;Fu<np.length&&ap===bp;Fu++)ap=Math.min(ap,np[Fu].val);for(Fu=1;Fu<_h.length&&ap===bp;Fu++)bp=Math.max(bp,_h[Fu].val);var wp=Lu.autorange,kp=wp==="reversed"||wp==="min reversed"||wp==="max reversed";if(!kp&&Lu.range){var Iu=Fn.simpleMap(Lu.range,Lu.r2l);kp=Iu[1]<Iu[0]}Lu.autorange==="reversed"&&(Lu.autorange=!0);var Bu=Lu.rangemode,Xl=Bu==="tozero",Uu=Bu==="nonnegative",ep=Lu._length,_u=ep/10,Wl=0,Jl,Pu,Nu,tp,up,dp;for(Fu=0;Fu<np.length;Fu++)for(Jl=np[Fu],Du=0;Du<_h.length;Du++)Pu=_h[Du],dp=Pu.val-Jl.val-El(Lu,Jl.val,Pu.val),dp>0&&(up=ep-gu(Jl)-Wu(Pu),up>_u?dp/up>Wl&&(Nu=Jl,tp=Pu,Wl=dp/up):dp/ep>Wl&&(Nu={val:Jl.val,nopad:1},tp={val:Pu.val,nopad:1},Wl=dp/ep));function Ap(e0,Cp){return Math.max(e0,Wu(Cp))}if(ap===bp){var Op=ap-1,Zp=ap+1;if(Xl)if(ap===0)Hu=[0,1];else{var u0=(ap>0?_h:np).reduce(Ap,0),r0=ap/(1-Math.min(.5,u0/ep));Hu=ap>0?[0,r0]:[r0,0]}else Uu?Hu=[Math.max(0,Op),Math.max(1,Zp)]:Hu=[Op,Zp]}else Xl?(Nu.val>=0&&(Nu={val:0,nopad:1}),tp.val<=0&&(tp={val:0,nopad:1})):Uu&&(Nu.val-Wl*gu(Nu)<0&&(Nu={val:0,nopad:1}),tp.val<=0&&(tp={val:1,nopad:1})),Wl=(tp.val-Nu.val-El(Lu,Jl.val,Pu.val))/(ep-gu(Nu)-Wu(tp)),Hu=[Nu.val-Wl*gu(Nu),tp.val+Wl*Wu(tp)];return Hu=$u(Hu,Lu),Lu.limitRange&&Lu.limitRange(),kp&&Hu.reverse(),Fn.simpleMap(Hu,Lu.l2r||Number)}function El(bu,Lu,Fu){var Du=0;if(bu.rangebreaks)for(var Hu=bu.locateBreaks(Lu,Fu),Vu=0;Vu<Hu.length;Vu++){var gu=Hu[Vu];Du+=gu.max-gu.min}return Du}function Fl(bu,Lu,Fu){var Du=.05*Lu._length,Hu=Lu._anchorAxis||{};if((Lu.ticklabelposition||"").indexOf("inside")!==-1||(Hu.ticklabelposition||"").indexOf("inside")!==-1){var Vu=Lu.isReversed();if(!Vu){var gu=Fn.simpleMap(Lu.range,Lu.r2l);Vu=gu[1]<gu[0]}Vu&&(Fu=!Fu)}var Wu=0;return Et(bu,Lu._id)||(Wu=Nl(bu,Lu,Fu)),Du=Math.max(Wu,Du),Lu.constrain==="domain"&&Lu._inputDomain&&(Du*=(Lu._inputDomain[1]-Lu._inputDomain[0])/(Lu.domain[1]-Lu.domain[0])),function(qu){return qu.nopad?0:qu.pad+(qu.extrapad?Du:Wu)}}var $l=3;function Nl(bu,Lu,Fu){var Du=0,Hu=Lu._id.charAt(0)==="x";for(var Vu in bu._plots){var gu=bu._plots[Vu];if(!(Lu._id!==gu.xaxis._id&&Lu._id!==gu.yaxis._id)){var Wu=(Hu?gu.yaxis:gu.xaxis)||{};if((Wu.ticklabelposition||"").indexOf("inside")!==-1&&(!Fu&&(Wu.side==="left"||Wu.side==="bottom")||Fu&&(Wu.side==="top"||Wu.side==="right"))){if(Wu._vals){var qu=Fn.deg2rad(Wu._tickAngles[Wu._id+"tick"]||0),np=Math.abs(Math.cos(qu)),_h=Math.abs(Math.sin(qu));if(!Wu._vals[0].bb){var ap=Wu._id+"tick",bp=Wu._selections[ap];bp.each(function(Uu){var ep=ls.select(this),_u=ep.select(".text-math-group");_u.empty()&&(Uu.bb=yl.bBox(ep.node()))})}for(var wp=0;wp<Wu._vals.length;wp++){var kp=Wu._vals[wp],Iu=kp.bb;if(Iu){var Bu=2*$l+Iu.width,Xl=2*$l+Iu.height;Du=Math.max(Du,Hu?Math.max(Bu*np,Xl*_h):Math.max(Xl*np,Bu*_h))}}}Wu.ticks==="inside"&&Wu.ticklabelposition==="inside"&&(Du+=Wu.ticklen||0)}}}return Du}function Ll(bu,Lu,Fu){var Du=Lu._id,Hu=bu._fullData,Vu=bu._fullLayout,gu=[],Wu=[],qu,np,_h;function ap(Bu,Xl){for(qu=0;qu<Xl.length;qu++){var Uu=Bu[Xl[qu]],ep=(Uu._extremes||{})[Du];if(Uu.visible===!0&&ep){for(np=0;np<ep.min.length;np++)_h=ep.min[np],_l(gu,_h.val,_h.pad,{extrapad:_h.extrapad});for(np=0;np<ep.max.length;np++)_h=ep.max[np],Rl(Wu,_h.val,_h.pad,{extrapad:_h.extrapad})}}}if(ap(Hu,Lu._traceIndices),ap(Vu.annotations||[],Lu._annIndices||[]),ap(Vu.shapes||[],Lu._shapeIndices||[]),Lu._matchGroup&&!Fu){for(var bp in Lu._matchGroup)if(bp!==Lu._id){var wp=Al(bu,bp),kp=Ll(bu,wp,!0),Iu=Lu._length/wp._length;for(np=0;np<kp.min.length;np++)_h=kp.min[np],_l(gu,_h.val,_h.pad*Iu,{extrapad:_h.extrapad});for(np=0;np<kp.max.length;np++)_h=kp.max[np],Rl(Wu,_h.val,_h.pad*Iu,{extrapad:_h.extrapad})}}return{min:gu,max:Wu}}function Ol(bu,Lu,Fu){if(Lu.setScale(),Lu.autorange){Lu.range=Fu?Fu.slice():Pl(bu,Lu),Lu._r=Lu.range.slice(),Lu._rl=Fn.simpleMap(Lu._r,Lu.r2l);var Du=Lu._input,Hu={};Hu[Lu._attr+".range"]=Lu.range,Hu[Lu._attr+".autorange"]=Lu.autorange,Bn.call("_storeDirectGUIEdit",bu.layout,bu._fullLayout._preGUI,Hu),Du.range=Lu.range.slice(),Du.autorange=Lu.autorange}var Vu=Lu._anchorAxis;if(Vu&&Vu.rangeslider){var gu=Vu.rangeslider[Lu._name];gu&&gu.rangemode==="auto"&&(gu.range=Pl(bu,Lu)),Vu._input.rangeslider[Lu._name]=Fn.extendFlat({},gu)}}function Bl(bu,Lu,Fu){Fu||(Fu={}),bu._m||bu.setScale();var Du=[],Hu=[],Vu=Lu.length,gu=Fu.padded||!1,Wu=Fu.tozero&&(bu.type==="linear"||bu.type==="-"),qu=bu.type==="log",np=!1,_h=Fu.vpadLinearized||!1,ap,bp,wp,kp,Iu,Bu,Xl,Uu,ep;function _u(Ap){if(Array.isArray(Ap))return np=!0,function(Zp){return Math.max(Number(Ap[Zp]||0),0)};var Op=Math.max(Number(Ap||0),0);return function(){return Op}}var Wl=_u((bu._m>0?Fu.ppadplus:Fu.ppadminus)||Fu.ppad||0),Jl=_u((bu._m>0?Fu.ppadminus:Fu.ppadplus)||Fu.ppad||0),Pu=_u(Fu.vpadplus||Fu.vpad),Nu=_u(Fu.vpadminus||Fu.vpad);if(!np){if(Uu=1/0,ep=-1/0,qu)for(ap=0;ap<Vu;ap++)bp=Lu[ap],bp<Uu&&bp>0&&(Uu=bp),bp>ep&&bp<xl&&(ep=bp);else for(ap=0;ap<Vu;ap++)bp=Lu[ap],bp<Uu&&bp>-xl&&(Uu=bp),bp>ep&&bp<xl&&(ep=bp);Lu=[Uu,ep],Vu=2}var tp={tozero:Wu,extrapad:gu};function up(Ap){wp=Lu[Ap],_t(wp)&&(Bu=Wl(Ap),Xl=Jl(Ap),_h?(kp=bu.c2l(wp)-Nu(Ap),Iu=bu.c2l(wp)+Pu(Ap)):(Uu=wp-Nu(Ap),ep=wp+Pu(Ap),qu&&Uu<ep/10&&(Uu=ep/10),kp=bu.c2l(Uu),Iu=bu.c2l(ep)),Wu&&(kp=Math.min(0,kp),Iu=Math.max(0,Iu)),Hl(kp)&&_l(Du,kp,Xl,tp),Hl(Iu)&&Rl(Hu,Iu,Bu,tp))}var dp=Math.min(6,Vu);for(ap=0;ap<dp;ap++)up(ap);for(ap=Vu-1;ap>=dp;ap--)up(ap);return{min:Du,max:Hu,opts:Fu}}function _l(bu,Lu,Fu,Du){Il(bu,Lu,Fu,Du,Kl)}function Rl(bu,Lu,Fu,Du){Il(bu,Lu,Fu,Du,Gu)}function Il(bu,Lu,Fu,Du,Hu){for(var Vu=Du.tozero,gu=Du.extrapad,Wu=!0,qu=0;qu<bu.length&&Wu;qu++){var np=bu[qu];if(Hu(np.val,Lu)&&np.pad>=Fu&&(np.extrapad||!gu)){Wu=!1;break}else Hu(Lu,np.val)&&np.pad<=Fu&&(gu||!np.extrapad)&&(bu.splice(qu,1),qu--)}if(Wu){var _h=Vu&&Lu===0;bu.push({val:Lu,pad:_h?0:Fu,extrapad:_h?!1:gu})}}function Hl(bu){return _t(bu)&&Math.abs(bu)<xl}function Kl(bu,Lu){return bu<=Lu}function Gu(bu,Lu){return bu>=Lu}function vu(bu,Lu){var Fu=Lu.autorangeoptions;return Fu&&Fu.minallowed!==void 0&&Yl(Lu,Fu.minallowed,Fu.maxallowed)?Fu.minallowed:Fu&&Fu.clipmin!==void 0&&Yl(Lu,Fu.clipmin,Fu.clipmax)?Math.max(bu,Lu.d2l(Fu.clipmin)):bu}function hu(bu,Lu){var Fu=Lu.autorangeoptions;return Fu&&Fu.maxallowed!==void 0&&Yl(Lu,Fu.minallowed,Fu.maxallowed)?Fu.maxallowed:Fu&&Fu.clipmax!==void 0&&Yl(Lu,Fu.clipmin,Fu.clipmax)?Math.min(bu,Lu.d2l(Fu.clipmax)):bu}function Yl(bu,Lu,Fu){return Lu!==void 0&&Fu!==void 0?(Lu=bu.d2l(Lu),Fu=bu.d2l(Fu),Lu<Fu):!0}function $u(bu,Lu){if(!Lu||!Lu.autorangeoptions)return bu;var Fu=bu[0],Du=bu[1],Hu=Lu.autorangeoptions.include;if(Hu!==void 0){var Vu=Lu.d2l(Fu),gu=Lu.d2l(Du);Fn.isArrayOrTypedArray(Hu)||(Hu=[Hu]);for(var Wu=0;Wu<Hu.length;Wu++){var qu=Lu.d2l(Hu[Wu]);Vu>=qu&&(Vu=qu,Fu=qu),gu<=qu&&(gu=qu,Du=qu)}}return Fu=vu(Fu,Lu),Du=hu(Du,Lu),[Fu,Du]}}),pv=a((Mu,yu)=>{var ls=g(),_t=rt(),Fn=Fv(),xl=Gp(),Bn=vm(),yl=Bn.strTranslate,Sl=Wv(),Al=G2(),Et=cp(),Pl=V1(),El=Sv(),Fl=qy(),$l=nt(),Nl=$l.ONEMAXYEAR,Ll=$l.ONEAVGYEAR,Ol=$l.ONEMINYEAR,Bl=$l.ONEMAXQUARTER,_l=$l.ONEAVGQUARTER,Rl=$l.ONEMINQUARTER,Il=$l.ONEMAXMONTH,Hl=$l.ONEAVGMONTH,Kl=$l.ONEMINMONTH,Gu=$l.ONEWEEK,vu=$l.ONEDAY,hu=vu/2,Yl=$l.ONEHOUR,$u=$l.ONEMIN,bu=$l.ONESEC,Lu=$l.ONEMILLI,Fu=$l.ONEMICROSEC,Du=$l.MINUS_SIGN,Hu=$l.BADNUM,Vu={K:"zeroline"},gu={K:"gridline",L:"path"},Wu={K:"minor-gridline",L:"path"},qu={K:"tick",L:"path"},np={K:"tick",L:"text"},_h={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},ap=qv(),bp=ap.MID_SHIFT,wp=ap.CAP_SHIFT,kp=ap.LINE_SPACING,Iu=ap.OPPOSITE_SIDE,Bu=3,Xl=yu.exports={};Xl.setConvert=l3();var Uu=h2(),ep=mv(),_u=ep.idSort,Wl=ep.isLinked;Xl.id2name=ep.id2name,Xl.name2id=ep.name2id,Xl.cleanId=ep.cleanId,Xl.list=ep.list,Xl.listIds=ep.listIds,Xl.getFromId=ep.getFromId,Xl.getFromTrace=ep.getFromTrace;var Jl=S2();Xl.getAutoRange=Jl.getAutoRange,Xl.findExtremes=Jl.findExtremes;var Pu=1e-4;function Nu(_d){var Xu=(_d[1]-_d[0])*Pu;return[_d[0]-Xu,_d[1]+Xu]}Xl.coerceRef=function(_d,Xu,Bp,qp,_f,zp){var Hp=qp.charAt(qp.length-1),t0=Bp._fullLayout._subplots[Hp+"axis"],Qp=qp+"ref",p0={};return _f||(_f=t0[0]||(typeof zp=="string"?zp:zp[0])),zp||(zp=_f),t0=t0.concat(t0.map(function(y0){return y0+" domain"})),p0[Qp]={valType:"enumerated",values:t0.concat(zp?typeof zp=="string"?[zp]:zp:[]),dflt:_f},Bn.coerce(_d,Xu,p0,Qp)},Xl.getRefType=function(_d){return _d===void 0?_d:_d==="paper"?"paper":_d==="pixel"?"pixel":/( domain)$/.test(_d)?"domain":"range"},Xl.coercePosition=function(_d,Xu,Bp,qp,_f,zp){var Hp,t0,Qp=Xl.getRefType(qp);if(Qp!=="range")Hp=Bn.ensureNumber,t0=Bp(_f,zp);else{var p0=Xl.getFromId(Xu,qp);zp=p0.fraction2r(zp),t0=Bp(_f,zp),Hp=p0.cleanPos}_d[_f]=Hp(t0)},Xl.cleanPosition=function(_d,Xu,Bp){var qp=Bp==="paper"||Bp==="pixel"?Bn.ensureNumber:Xl.getFromId(Xu,Bp).cleanPos;return qp(_d)},Xl.redrawComponents=function(_d,Xu){Xu=Xu||Xl.listIds(_d);var Bp=_d._fullLayout;function qp(_f,zp,Hp,t0){for(var Qp=xl.getComponentMethod(_f,zp),p0={},y0=0;y0<Xu.length;y0++)for(var H0=Bp[Xl.id2name(Xu[y0])],ym=H0[Hp],pm=0;pm<ym.length;pm++){var Tm=ym[pm];if(!p0[Tm]&&(Qp(_d,Tm),p0[Tm]=1,t0))return}}qp("annotations","drawOne","_annIndices"),qp("shapes","drawOne","_shapeIndices"),qp("images","draw","_imgIndices",!0),qp("selections","drawOne","_selectionIndices")};var tp=Xl.getDataConversions=function(_d,Xu,Bp,qp){var _f,zp=Bp==="x"||Bp==="y"||Bp==="z"?Bp:qp;if(Bn.isArrayOrTypedArray(zp)){if(_f={type:Uu(qp,void 0,{autotypenumbers:_d._fullLayout.autotypenumbers}),_categories:[]},Xl.setConvert(_f),_f.type==="category")for(var Hp=0;Hp<qp.length;Hp++)_f.d2c(qp[Hp])}else _f=Xl.getFromTrace(_d,Xu,zp);return _f?{d2c:_f.d2c,c2d:_f.c2d}:zp==="ids"?{d2c:dp,c2d:dp}:{d2c:up,c2d:up}};function up(_d){return+_d}function dp(_d){return String(_d)}Xl.getDataToCoordFunc=function(_d,Xu,Bp,qp){return tp(_d,Xu,Bp,qp).d2c},Xl.counterLetter=function(_d){var Xu=_d.charAt(0);if(Xu==="x")return"y";if(Xu==="y")return"x"},Xl.minDtick=function(_d,Xu,Bp,qp){["log","category","multicategory"].indexOf(_d.type)!==-1||!qp?_d._minDtick=0:_d._minDtick===void 0?(_d._minDtick=Xu,_d._forceTick0=Bp):_d._minDtick&&((_d._minDtick/Xu+1e-6)%1<2e-6&&((Bp-_d._forceTick0)/Xu%1+1.000001)%1<2e-6?(_d._minDtick=Xu,_d._forceTick0=Bp):((Xu/_d._minDtick+1e-6)%1>2e-6||((Bp-_d._forceTick0)/_d._minDtick%1+1.000001)%1>2e-6)&&(_d._minDtick=0))},Xl.saveRangeInitial=function(_d,Xu){for(var Bp=Xl.list(_d,"",!0),qp=!1,_f=0;_f<Bp.length;_f++){var zp=Bp[_f],Hp=zp._rangeInitial0===void 0&&zp._rangeInitial1===void 0,t0=Hp||zp.range[0]!==zp._rangeInitial0||zp.range[1]!==zp._rangeInitial1,Qp=zp.autorange;(Hp&&Qp!==!0||Xu&&t0)&&(zp._rangeInitial0=Qp==="min"||Qp==="max reversed"?void 0:zp.range[0],zp._rangeInitial1=Qp==="max"||Qp==="min reversed"?void 0:zp.range[1],zp._autorangeInitial=Qp,qp=!0)}return qp},Xl.saveShowSpikeInitial=function(_d,Xu){for(var Bp=Xl.list(_d,"",!0),qp=!1,_f="on",zp=0;zp<Bp.length;zp++){var Hp=Bp[zp],t0=Hp._showSpikeInitial===void 0,Qp=t0||Hp.showspikes!==Hp._showspikes;(t0||Xu&&Qp)&&(Hp._showSpikeInitial=Hp.showspikes,qp=!0),_f==="on"&&!Hp.showspikes&&(_f="off")}return _d._fullLayout._cartesianSpikesEnabled=_f,qp},Xl.autoBin=function(_d,Xu,Bp,qp,_f,zp){var Hp=Bn.aggNums(Math.min,null,_d),t0=Bn.aggNums(Math.max,null,_d);if(Xu.type==="category"||Xu.type==="multicategory")return{start:Hp-.5,end:t0+.5,size:Math.max(1,Math.round(zp)||1),_dataSpan:t0-Hp};_f||(_f=Xu.calendar);var Qp;if(Xu.type==="log"?Qp={type:"linear",range:[Hp,t0]}:Qp={type:Xu.type,range:Bn.simpleMap([Hp,t0],Xu.c2r,0,_f),calendar:_f},Xl.setConvert(Qp),zp=zp&&Fl.dtick(zp,Qp.type),zp)Qp.dtick=zp,Qp.tick0=Fl.tick0(void 0,Qp.type,_f);else{var p0;if(Bp)p0=(t0-Hp)/Bp;else{var y0=Bn.distinctVals(_d),H0=Math.pow(10,Math.floor(Math.log(y0.minDiff)/Math.LN10)),ym=H0*Bn.roundUp(y0.minDiff/H0,[.9,1.9,4.9,9.9],!0);p0=Math.max(ym,2*Bn.stdev(_d)/Math.pow(_d.length,qp?.25:.4)),_t(p0)||(p0=1)}Xl.autoTicks(Qp,p0)}var pm=Qp.dtick,Tm=Xl.tickIncrement(Xl.tickFirst(Qp),pm,"reverse",_f),um,Rm;if(typeof pm=="number")Tm=Ap(Tm,_d,Qp,Hp,t0),Rm=1+Math.floor((t0-Tm)/pm),um=Tm+Rm*pm;else for(Qp.dtick.charAt(0)==="M"&&(Tm=Op(Tm,_d,pm,Hp,_f)),um=Tm,Rm=0;um<=t0;)um=Xl.tickIncrement(um,pm,!1,_f),Rm++;return{start:Xu.c2r(Tm,0,_f),end:Xu.c2r(um,0,_f),size:pm,_dataSpan:t0-Hp}};function Ap(_d,Xu,Bp,qp,_f){var zp=0,Hp=0,t0=0,Qp=0;function p0(pm){return(1+(pm-_d)*100/Bp.dtick)%100<2}for(var y0=0;y0<Xu.length;y0++)Xu[y0]%1===0?t0++:_t(Xu[y0])||Qp++,p0(Xu[y0])&&zp++,p0(Xu[y0]+Bp.dtick/2)&&Hp++;var H0=Xu.length-Qp;if(t0===H0&&Bp.type!=="date")Bp.dtick<1?_d=qp-.5*Bp.dtick:(_d-=.5,_d+Bp.dtick<qp&&(_d+=Bp.dtick));else if(Hp<H0*.1&&(zp>H0*.3||p0(qp)||p0(_f))){var ym=Bp.dtick/2;_d+=_d+ym<qp?ym:-ym}return _d}function Op(_d,Xu,Bp,qp,_f){var zp=Bn.findExactDates(Xu,_f),Hp=.8;if(zp.exactDays>Hp){var t0=Number(Bp.substr(1));zp.exactYears>Hp&&t0%12===0?_d=Xl.tickIncrement(_d,"M6","reverse")+vu*1.5:zp.exactMonths>Hp?_d=Xl.tickIncrement(_d,"M1","reverse")+vu*15.5:_d-=hu;var Qp=Xl.tickIncrement(_d,Bp);if(Qp<=qp)return Qp}return _d}Xl.prepMinorTicks=function(_d,Xu,Bp){if(!Xu.minor.dtick){delete _d.dtick;var qp=Xu.dtick&&_t(Xu._tmin),_f;if(qp){var zp=Xl.tickIncrement(Xu._tmin,Xu.dtick,!0);_f=[Xu._tmin,zp*.99+Xu._tmin*.01]}else{var Hp=Bn.simpleMap(Xu.range,Xu.r2l);_f=[Hp[0],.8*Hp[0]+.2*Hp[1]]}if(_d.range=Bn.simpleMap(_f,Xu.l2r),_d._isMinor=!0,Xl.prepTicks(_d,Bp),qp){var t0=_t(Xu.dtick),Qp=_t(_d.dtick),p0=t0?Xu.dtick:+Xu.dtick.substring(1),y0=Qp?_d.dtick:+_d.dtick.substring(1);t0&&Qp?Zp(p0,y0)?p0===2*Gu&&y0===2*vu&&(_d.dtick=Gu):p0===2*Gu&&y0===3*vu?_d.dtick=Gu:p0===Gu&&!(Xu._input.minor||{}).nticks?_d.dtick=vu:u0(p0/y0,2.5)?_d.dtick=p0/2:_d.dtick=p0:String(Xu.dtick).charAt(0)==="M"?Qp?_d.dtick="M1":Zp(p0,y0)?p0>=12&&y0===2&&(_d.dtick="M3"):_d.dtick=Xu.dtick:String(_d.dtick).charAt(0)==="L"?String(Xu.dtick).charAt(0)==="L"?Zp(p0,y0)||(_d.dtick=u0(p0/y0,2.5)?Xu.dtick/2:Xu.dtick):_d.dtick="D1":_d.dtick==="D2"&&+Xu.dtick>1&&(_d.dtick=1)}_d.range=Xu.range}Xu.minor._tick0Init===void 0&&(_d.tick0=Xu.tick0)};function Zp(_d,Xu){return Math.abs((_d/Xu+.5)%1-.5)<.001}function u0(_d,Xu){return Math.abs(_d/Xu-1)<.001}Xl.prepTicks=function(_d,Xu){var Bp=Bn.simpleMap(_d.range,_d.r2l,void 0,void 0,Xu);if(_d.tickmode==="auto"||!_d.dtick){var qp=_d.nticks,_f;qp||(_d.type==="category"||_d.type==="multicategory"?(_f=_d.tickfont?Bn.bigFont(_d.tickfont.size||12):15,qp=_d._length/_f):(_f=_d._id.charAt(0)==="y"?40:80,qp=Bn.constrain(_d._length/_f,4,9)+1),_d._name==="radialaxis"&&(qp*=2)),_d.minor&&_d.minor.tickmode!=="array"||_d.tickmode==="array"&&(qp*=100),_d._roughDTick=Math.abs(Bp[1]-Bp[0])/qp,Xl.autoTicks(_d,_d._roughDTick),_d._minDtick>0&&_d.dtick<_d._minDtick*2&&(_d.dtick=_d._minDtick,_d.tick0=_d.l2r(_d._forceTick0))}_d.ticklabelmode==="period"&&e0(_d),_d.tick0||(_d.tick0=_d.type==="date"?"2000-01-01":0),_d.type==="date"&&_d.dtick<.1&&(_d.dtick=.1),f0(_d)};function r0(_d){return+_d.substring(1)}function e0(_d){var Xu;function Bp(){return!(_t(_d.dtick)||_d.dtick.charAt(0)!=="M")}var qp=Bp(),_f=Xl.getTickFormat(_d);if(_f){var zp=_d._dtickInit!==_d.dtick;/%[fLQsSMX]/.test(_f)||(/%[HI]/.test(_f)?(Xu=Yl,zp&&!qp&&_d.dtick<Yl&&(_d.dtick=Yl)):/%p/.test(_f)?(Xu=hu,zp&&!qp&&_d.dtick<hu&&(_d.dtick=hu)):/%[Aadejuwx]/.test(_f)?(Xu=vu,zp&&!qp&&_d.dtick<vu&&(_d.dtick=vu)):/%[UVW]/.test(_f)?(Xu=Gu,zp&&!qp&&_d.dtick<Gu&&(_d.dtick=Gu)):/%[Bbm]/.test(_f)?(Xu=Hl,zp&&(qp?r0(_d.dtick)<1:_d.dtick<Kl)&&(_d.dtick="M1")):/%[q]/.test(_f)?(Xu=_l,zp&&(qp?r0(_d.dtick)<3:_d.dtick<Rl)&&(_d.dtick="M3")):/%[Yy]/.test(_f)&&(Xu=Ll,zp&&(qp?r0(_d.dtick)<12:_d.dtick<Ol)&&(_d.dtick="M12")))}qp=Bp(),qp&&_d.tick0===_d._dowTick0&&(_d.tick0=_d._rawTick0),_d._definedDelta=Xu}function Cp(_d,Xu,Bp){for(var qp=0;qp<_d.length;qp++){var _f=_d[qp].value,zp=qp,Hp=qp+1;qp<_d.length-1?(zp=qp,Hp=qp+1):qp>0?(zp=qp-1,Hp=qp):(zp=qp,Hp=qp);var t0=_d[zp].value,Qp=_d[Hp].value,p0=Math.abs(Qp-t0),y0=Bp||p0,H0=0;y0>=Ol?p0>=Ol&&p0<=Nl?H0=p0:H0=Ll:Bp===_l&&y0>=Rl?p0>=Rl&&p0<=Bl?H0=p0:H0=_l:y0>=Kl?p0>=Kl&&p0<=Il?H0=p0:H0=Hl:Bp===Gu&&y0>=Gu?H0=Gu:y0>=vu?H0=vu:Bp===hu&&y0>=hu?H0=hu:Bp===Yl&&y0>=Yl&&(H0=Yl);var ym;H0>=p0&&(H0=p0,ym=!0);var pm=_f+H0;if(Xu.rangebreaks&&H0>0){for(var Tm=84,um=0,Rm=0;Rm<Tm;Rm++){var Gm=(Rm+.5)/Tm;Xu.maskBreaks(_f*(1-Gm)+Gm*pm)!==Hu&&um++}H0*=um/Tm,H0||(_d[qp].drop=!0),ym&&p0>Gu&&(H0=p0)}(H0>0||qp===0)&&(_d[qp].periodX=_f+H0/2)}}Xl.calcTicks=function(_d,Xu){for(var Bp=_d.type,qp=_d.calendar,_f=_d.ticklabelstep,zp=_d.ticklabelmode==="period",Hp=_d.range[0]>_d.range[1],t0=!_d.ticklabelindex||Bn.isArrayOrTypedArray(_d.ticklabelindex)?_d.ticklabelindex:[_d.ticklabelindex],Qp=Bn.simpleMap(_d.range,_d.r2l,void 0,void 0,Xu),p0=Qp[1]<Qp[0],y0=Math.min(Qp[0],Qp[1]),H0=Math.max(Qp[0],Qp[1]),ym=Math.max(1e3,_d._length||0),pm=[],Tm=[],um=[],Rm=[],Gm=[],x1=_d.minor&&(_d.minor.ticks||_d.minor.showgrid),t1=1;t1>=(x1?0:1);t1--){var O1=!t1;t1?(_d._dtickInit=_d.dtick,_d._tick0Init=_d.tick0):(_d.minor._dtickInit=_d.minor.dtick,_d.minor._tick0Init=_d.minor.tick0);var p1=t1?_d:Bn.extendFlat({},_d,_d.minor);if(O1?Xl.prepMinorTicks(p1,_d,Xu):Xl.prepTicks(p1,Xu),p1.tickmode==="array"){t1?(um=[],pm=Ip(_d,!O1)):(Rm=[],Tm=Ip(_d,!O1));continue}if(p1.tickmode==="sync"){um=[],pm=sp(_d);continue}var $1=Nu(Qp),L1=$1[0],ov=$1[1],X1=_t(p1.dtick),g1=Bp==="log"&&!(X1||p1.dtick.charAt(0)==="L"),cv=Xl.tickFirst(p1,Xu);if(t1){if(_d._tmin=cv,cv<L1!==p0)break;(Bp==="category"||Bp==="multicategory")&&(ov=p0?Math.max(-.5,ov):Math.min(_d._categories.length-.5,ov))}var Q1=null,y1=cv,ev;if(t1){var av;X1?av=_d.dtick:Bp==="date"?typeof _d.dtick=="string"&&_d.dtick.charAt(0)==="M"&&(av=Hl*_d.dtick.substring(1)):av=_d._roughDTick,ev=Math.round((_d.r2l(y1)-_d.r2l(_d.tick0))/av)-1}var tv=p1.dtick;for(p1.rangebreaks&&p1._tick0Init!==p1.tick0&&(y1=_1(y1,_d),p0||(y1=Xl.tickIncrement(y1,tv,!p0,qp))),t1&&zp&&(y1=Xl.tickIncrement(y1,tv,!p0,qp),ev--);p0?y1>=ov:y1<=ov;y1=Xl.tickIncrement(y1,tv,p0,qp)){if(t1&&ev++,p1.rangebreaks&&!p0){if(y1<L1)continue;if(p1.maskBreaks(y1)===Hu&&_1(y1,p1)>=H0)break}if(um.length>ym||y1===Q1)break;Q1=y1;var Ev={value:y1};t1?(g1&&y1!==(y1|0)&&(Ev.simpleLabel=!0),_f>1&&ev%_f&&(Ev.skipLabel=!0),um.push(Ev)):(Ev.minor=!0,Rm.push(Ev))}}if(!Rm||Rm.length<2)t0=!1;else{var Uv=(Rm[1].value-Rm[0].value)*(Hp?-1:1);D1(Uv,_d.tickformat)||(t0=!1)}if(!t0)Gm=um;else{var T1=um.concat(Rm);zp&&um.length&&(T1=T1.slice(1)),T1=T1.sort(function(q1,vv){return q1.value-vv.value}).filter(function(q1,vv,Dv){return vv===0||q1.value!==Dv[vv-1].value});var W1=T1.map(function(q1,vv){return q1.minor===void 0&&!q1.skipLabel?vv:null}).filter(function(q1){return q1!==null});W1.forEach(function(q1){t0.map(function(vv){var Dv=q1+vv;Dv>=0&&Dv<T1.length&&Bn.pushUnique(Gm,T1[Dv])})})}if(x1){var N1=_d.minor.ticks==="inside"&&_d.ticks==="outside"||_d.minor.ticks==="outside"&&_d.ticks==="inside";if(!N1){for(var U1=um.map(function(q1){return q1.value}),gv=[],kv=0;kv<Rm.length;kv++){var Ov=Rm[kv],Mv=Ov.value;if(U1.indexOf(Mv)===-1){for(var $v=!1,Av=0;!$v&&Av<um.length;Av++)1e7+um[Av].value===1e7+Mv&&($v=!0);$v||gv.push(Ov)}}Rm=gv}}zp&&Cp(Gm,_d,_d._definedDelta);var B1;if(_d.rangebreaks){var hy=_d._id.charAt(0)==="y",Iv=1;_d.tickmode==="auto"&&(Iv=_d.tickfont?_d.tickfont.size:12);var Zv=NaN;for(B1=um.length-1;B1>-1;B1--){if(um[B1].drop){um.splice(B1,1);continue}um[B1].value=_1(um[B1].value,_d);var Hv=_d.c2p(um[B1].value);(hy?Zv>Hv-Iv:Zv<Hv+Iv)?um.splice(p0?B1+1:B1,1):Zv=Hv}}S1(_d)&&Math.abs(Qp[1]-Qp[0])===360&&um.pop(),_d._tmax=(um[um.length-1]||{}).value,_d._prevDateHead="",_d._inCalcTicks=!0;var zv,vy=function(q1){q1.text="",_d._prevDateHead=zv};um=um.concat(Rm);function iy(q1,vv){var Dv=Xl.tickText(q1,vv.value,!1,vv.simpleLabel),Xv=vv.periodX;return Xv!==void 0&&(Dv.periodX=Xv,(Xv>H0||Xv<y0)&&(Xv>H0&&(Dv.periodX=H0),Xv<y0&&(Dv.periodX=y0),vy(Dv))),Dv}var Nv;for(B1=0;B1<um.length;B1++){var gy=um[B1].minor,Cy=um[B1].value;gy?(t0&&Gm.indexOf(um[B1])!==-1?Nv=iy(_d,um[B1]):Nv={x:Cy},Nv.minor=!0,Tm.push(Nv)):(zv=_d._prevDateHead,Nv=iy(_d,um[B1]),(um[B1].skipLabel||t0&&Gm.indexOf(um[B1])===-1)&&vy(Nv),pm.push(Nv))}return pm=pm.concat(Tm),_d._inCalcTicks=!1,zp&&pm.length&&(pm[0].noTick=!0),pm};function Mp(_d,Xu){return _d.rangebreaks&&(Xu=Xu.filter(function(Bp){return _d.maskBreaks(Bp.x)!==Hu})),Xu}function sp(_d){var Xu=_d._mainAxis,Bp=[];if(Xu._vals){for(var qp=0;qp<Xu._vals.length;qp++)if(!Xu._vals[qp].noTick){var _f=Xu.l2p(Xu._vals[qp].x),zp=_d.p2l(_f),Hp=Xl.tickText(_d,zp);Xu._vals[qp].minor&&(Hp.minor=!0,Hp.text=""),Bp.push(Hp)}}return Bp=Mp(_d,Bp),Bp}function Ip(_d,Xu){var Bp=Bn.simpleMap(_d.range,_d.r2l),qp=Nu(Bp),_f=Math.min(qp[0],qp[1]),zp=Math.max(qp[0],qp[1]),Hp=_d.type==="category"?_d.d2l_noadd:_d.d2l;_d.type==="log"&&String(_d.dtick).charAt(0)!=="L"&&(_d.dtick="L"+Math.pow(10,Math.floor(Math.min(_d.range[0],_d.range[1]))-1));for(var t0=[],Qp=0;Qp<=1;Qp++)if(!(Xu!==void 0&&(Xu&&Qp||Xu===!1&&!Qp))&&!(Qp&&!_d.minor)){var p0=Qp?_d.minor.tickvals:_d.tickvals,y0=Qp?[]:_d.ticktext;if(p0){Bn.isArrayOrTypedArray(y0)||(y0=[]);for(var H0=0;H0<p0.length;H0++){var ym=Hp(p0[H0]);if(ym>_f&&ym<zp){var pm=Xl.tickText(_d,ym,!1,String(y0[H0]));Qp&&(pm.minor=!0,pm.text=""),t0.push(pm)}}}}return t0=Mp(_d,t0),t0}var Jp=[2,5,10],a0=[1,2,3,6,12],v0=[1,2,5,10,15,30],h0=[1,2,3,7,14],w0=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],E0=[-.301,0,.301,.699,1],_0=[15,30,45,90,180];function $0(_d,Xu,Bp){return Xu*Bn.roundUp(_d/Xu,Bp)}Xl.autoTicks=function(_d,Xu,Bp){var qp;function _f(H0){return Math.pow(H0,Math.floor(Math.log(Xu)/Math.LN10))}if(_d.type==="date"){_d.tick0=Bn.dateTick0(_d.calendar,0);var zp=2*Xu;if(zp>Ll)Xu/=Ll,qp=_f(10),_d.dtick="M"+12*$0(Xu,qp,Jp);else if(zp>Hl)Xu/=Hl,_d.dtick="M"+$0(Xu,1,a0);else if(zp>vu){if(_d.dtick=$0(Xu,vu,_d._hasDayOfWeekBreaks?[1,2,7,14]:h0),!Bp){var Hp=Xl.getTickFormat(_d),t0=_d.ticklabelmode==="period";t0&&(_d._rawTick0=_d.tick0),/%[uVW]/.test(Hp)?_d.tick0=Bn.dateTick0(_d.calendar,2):_d.tick0=Bn.dateTick0(_d.calendar,1),t0&&(_d._dowTick0=_d.tick0)}}else zp>Yl?_d.dtick=$0(Xu,Yl,a0):zp>$u?_d.dtick=$0(Xu,$u,v0):zp>bu?_d.dtick=$0(Xu,bu,v0):(qp=_f(10),_d.dtick=$0(Xu,qp,Jp))}else if(_d.type==="log"){_d.tick0=0;var Qp=Bn.simpleMap(_d.range,_d.r2l);if(_d._isMinor&&(Xu*=1.5),Xu>.7)_d.dtick=Math.ceil(Xu);else if(Math.abs(Qp[1]-Qp[0])<1){var p0=1.5*Math.abs((Qp[1]-Qp[0])/Xu);Xu=Math.abs(Math.pow(10,Qp[1])-Math.pow(10,Qp[0]))/p0,qp=_f(10),_d.dtick="L"+$0(Xu,qp,Jp)}else _d.dtick=Xu>.3?"D2":"D1"}else _d.type==="category"||_d.type==="multicategory"?(_d.tick0=0,_d.dtick=Math.ceil(Math.max(Xu,1))):S1(_d)?(_d.tick0=0,qp=1,_d.dtick=$0(Xu,qp,_0)):(_d.tick0=0,qp=_f(10),_d.dtick=$0(Xu,qp,Jp));if(_d.dtick===0&&(_d.dtick=1),!_t(_d.dtick)&&typeof _d.dtick!="string"){var y0=_d.dtick;throw _d.dtick=1,"ax.dtick error: "+String(y0)}};function f0(_d){var Xu=_d.dtick;if(_d._tickexponent=0,!_t(Xu)&&typeof Xu!="string"&&(Xu=1),(_d.type==="category"||_d.type==="multicategory")&&(_d._tickround=null),_d.type==="date"){var Bp=_d.r2l(_d.tick0),qp=_d.l2r(Bp).replace(/(^-|i)/g,""),_f=qp.length;if(String(Xu).charAt(0)==="M")_f>10||qp.substr(5)!=="01-01"?_d._tickround="d":_d._tickround=+Xu.substr(1)%12===0?"y":"m";else if(Xu>=vu&&_f<=10||Xu>=vu*15)_d._tickround="d";else if(Xu>=$u&&_f<=16||Xu>=Yl)_d._tickround="M";else if(Xu>=bu&&_f<=19||Xu>=$u)_d._tickround="S";else{var zp=_d.l2r(Bp+Xu).replace(/^-/,"").length;_d._tickround=Math.max(_f,zp)-20,_d._tickround<0&&(_d._tickround=4)}}else if(_t(Xu)||Xu.charAt(0)==="L"){var Hp=_d.range.map(_d.r2d||Number);_t(Xu)||(Xu=Number(Xu.substr(1))),_d._tickround=2-Math.floor(Math.log(Xu)/Math.LN10+.01);var t0=Math.max(Math.abs(Hp[0]),Math.abs(Hp[1])),Qp=Math.floor(Math.log(t0)/Math.LN10+.01),p0=_d.minexponent===void 0?3:_d.minexponent;Math.abs(Qp)>p0&&(Lp(_d.exponentformat)&&_d.exponentformat!=="SI extended"&&!Up(Qp)||Lp(_d.exponentformat)&&_d.exponentformat==="SI extended"&&!Xp(Qp)?_d._tickexponent=3*Math.round((Qp-1)/3):_d._tickexponent=Qp)}else _d._tickround=null}Xl.tickIncrement=function(_d,Xu,Bp,qp){var _f=Bp?-1:1;if(_t(Xu))return Bn.increment(_d,_f*Xu);var zp=Xu.charAt(0),Hp=_f*Number(Xu.substr(1));if(zp==="M")return Bn.incrementMonth(_d,Hp,qp);if(zp==="L")return Math.log(Math.pow(10,_d)+Hp)/Math.LN10;if(zp==="D"){var t0=Xu==="D2"?E0:w0,Qp=_d+_f*.01,p0=Bn.roundUp(Bn.mod(Qp,1),t0,Bp);return Math.floor(Qp)+Math.log(ls.round(Math.pow(10,p0),1))/Math.LN10}throw"unrecognized dtick "+String(Xu)},Xl.tickFirst=function(_d,Xu){var Bp=_d.r2l||Number,qp=Bn.simpleMap(_d.range,Bp,void 0,void 0,Xu),_f=qp[1]<qp[0],zp=_f?Math.floor:Math.ceil,Hp=Nu(qp)[0],t0=_d.dtick,Qp=Bp(_d.tick0);if(_t(t0)){var p0=zp((Hp-Qp)/t0)*t0+Qp;return(_d.type==="category"||_d.type==="multicategory")&&(p0=Bn.constrain(p0,0,_d._categories.length-1)),p0}var y0=t0.charAt(0),H0=Number(t0.substr(1));if(y0==="M"){for(var ym=0,pm=Qp,Tm,um,Rm;ym<10;){if(Tm=Xl.tickIncrement(pm,t0,_f,_d.calendar),(Tm-Hp)*(pm-Hp)<=0)return _f?Math.min(pm,Tm):Math.max(pm,Tm);um=(Hp-(pm+Tm)/2)/(Tm-pm),Rm=y0+(Math.abs(Math.round(um))||1)*H0,pm=Xl.tickIncrement(pm,Rm,um<0?!_f:_f,_d.calendar),ym++}return Bn.error("tickFirst did not converge",_d),pm}else{if(y0==="L")return Math.log(zp((Math.pow(10,Hp)-Qp)/H0)*H0+Qp)/Math.LN10;if(y0==="D"){var Gm=t0==="D2"?E0:w0,x1=Bn.roundUp(Bn.mod(Hp,1),Gm,_f);return Math.floor(Hp)+Math.log(ls.round(Math.pow(10,x1),1))/Math.LN10}else throw"unrecognized dtick "+String(t0)}},Xl.tickText=function(_d,Xu,Bp,qp){var _f=q0(_d,Xu),zp=_d.tickmode==="array",Hp=Bp||zp,t0=_d.type,Qp=t0==="category"?_d.d2l_noadd:_d.d2l,p0,y0=function(Rm){var Gm=_d.l2p(Rm);return Gm>=0&&Gm<=_d._length?Rm:null};if(zp&&Bn.isArrayOrTypedArray(_d.ticktext)){var H0=Bn.simpleMap(_d.range,_d.r2l),ym=(Math.abs(H0[1]-H0[0])-(_d._lBreaks||0))/1e4;for(p0=0;p0<_d.ticktext.length&&!(Math.abs(Xu-Qp(_d.tickvals[p0]))<ym);p0++);if(p0<_d.ticktext.length)return _f.text=String(_d.ticktext[p0]),_f.xbnd=[y0(_f.x-.5),y0(_f.x+_d.dtick-.5)],_f}function pm(Rm){if(Rm===void 0)return!0;if(Bp)return Rm==="none";var Gm={first:_d._tmin,last:_d._tmax}[Rm];return Rm!=="all"&&Xu!==Gm}var Tm=Bp?"never":_d.exponentformat!=="none"&&pm(_d.showexponent)?"hide":"";if(t0==="date"?J0(_d,_f,Bp,Hp):t0==="log"?V0(_d,_f,Bp,Hp,Tm):t0==="category"?nm(_d,_f):t0==="multicategory"?Ep(_d,_f,Bp):S1(_d)?Zu(_d,_f,Bp,Hp,Tm):$p(_d,_f,Bp,Hp,Tm),qp||(_d.tickprefix&&!pm(_d.showtickprefix)&&(_f.text=_d.tickprefix+_f.text),_d.ticksuffix&&!pm(_d.showticksuffix)&&(_f.text+=_d.ticksuffix)),_d.labelalias&&_d.labelalias.hasOwnProperty(_f.text)){var um=_d.labelalias[_f.text];typeof um=="string"&&(_f.text=um)}return(_d.tickson==="boundaries"||_d.showdividers)&&(_f.xbnd=[y0(_f.x-.5),y0(_f.x+_d.dtick-.5)]),_f},Xl.hoverLabelText=function(_d,Xu,Bp){Bp&&(_d=Bn.extendFlat({},_d,{hoverformat:Bp}));var qp=Bn.isArrayOrTypedArray(Xu)?Xu[0]:Xu,_f=Bn.isArrayOrTypedArray(Xu)?Xu[1]:void 0;if(_f!==void 0&&_f!==qp)return Xl.hoverLabelText(_d,qp,Bp)+" - "+Xl.hoverLabelText(_d,_f,Bp);var zp=_d.type==="log"&&qp<=0,Hp=Xl.tickText(_d,_d.c2l(zp?-qp:qp),"hover").text;return zp?qp===0?"0":Du+Hp:Hp};function q0(_d,Xu,Bp){var qp=_d.tickfont||{};return{x:Xu,dx:0,dy:0,text:Bp||"",fontSize:qp.size,font:qp.family,fontWeight:qp.weight,fontStyle:qp.style,fontVariant:qp.variant,fontTextcase:qp.textcase,fontLineposition:qp.lineposition,fontShadow:qp.shadow,fontColor:qp.color}}function J0(_d,Xu,Bp,qp){var _f=_d._tickround,zp=Bp&&_d.hoverformat||Xl.getTickFormat(_d);qp=!zp&&qp,qp&&(_t(_f)?_f=4:_f={y:"m",m:"d",d:"M",M:"S",S:4}[_f]);var Hp=Bn.formatDate(Xu.x,zp,_f,_d._dateFormat,_d.calendar,_d._extraFormat),t0,Qp=Hp.indexOf(`
`);if(Qp!==-1&&(t0=Hp.substr(Qp+1),Hp=Hp.substr(0,Qp)),qp&&(t0!==void 0&&(Hp==="00:00:00"||Hp==="00:00")?(Hp=t0,t0=""):Hp.length===8&&(Hp=Hp.replace(/:00$/,""))),t0)if(Bp)_f==="d"?Hp+=", "+t0:Hp=t0+(Hp?", "+Hp:"");else if(!_d._inCalcTicks||_d._prevDateHead!==t0)_d._prevDateHead=t0,Hp+="<br>"+t0;else{var p0=n1(_d),y0=_d._trueSide||_d.side;(!p0&&y0==="top"||p0&&y0==="bottom")&&(Hp+="<br> ")}Xu.text=Hp}function V0(_d,Xu,Bp,qp,_f){var zp=_d.dtick,Hp=Xu.x,t0=_d.tickformat,Qp=typeof zp=="string"&&zp.charAt(0);if(_f==="never"&&(_f=""),qp&&Qp!=="L"&&(zp="L3",Qp="L"),t0||Qp==="L")Xu.text=i0(Math.pow(10,Hp),_d,_f,qp);else if(_t(zp)||Qp==="D"&&(_d.minorloglabels==="complete"||Bn.mod(Hp+.01,1)<.1)){_d.minorloglabels==="complete"&&!(Bn.mod(Hp+.01,1)<.1)&&(Xu.fontSize*=.75);var p0=Math.pow(10,Hp).toExponential(0),y0=p0.split("e"),H0=+y0[1],ym=Math.abs(H0),pm=_d.exponentformat;pm==="power"||Lp(pm)&&pm!=="SI extended"&&Up(H0)||Lp(pm)&&pm==="SI extended"&&Xp(H0)?(Xu.text=y0[0],ym>0&&(Xu.text+="x10"),Xu.text==="1x10"&&(Xu.text="10"),H0!==0&&H0!==1&&(Xu.text+="<sup>"+(H0>0?"":Du)+ym+"</sup>"),Xu.fontSize*=1.25):(pm==="e"||pm==="E")&&ym>2?Xu.text=y0[0]+pm+(H0>0?"+":Du)+ym:(Xu.text=i0(Math.pow(10,Hp),_d,"","fakehover"),zp==="D1"&&_d._id.charAt(0)==="y"&&(Xu.dy-=Xu.fontSize/6))}else if(Qp==="D")Xu.text=_d.minorloglabels==="none"?"":String(Math.round(Math.pow(10,Bn.mod(Hp,1)))),Xu.fontSize*=.75;else throw"unrecognized dtick "+String(zp);if(_d.dtick==="D1"){var Tm=String(Xu.text).charAt(0);(Tm==="0"||Tm==="1")&&(_d._id.charAt(0)==="y"?Xu.dx-=Xu.fontSize/4:(Xu.dy+=Xu.fontSize/2,Xu.dx+=(_d.range[1]>_d.range[0]?1:-1)*Xu.fontSize*(Hp<0?.5:.25)))}}function nm(_d,Xu){var Bp=_d._categories[Math.round(Xu.x)];Bp===void 0&&(Bp=""),Xu.text=String(Bp)}function Ep(_d,Xu,Bp){var qp=Math.round(Xu.x),_f=_d._categories[qp]||[],zp=_f[1]===void 0?"":String(_f[1]),Hp=_f[0]===void 0?"":String(_f[0]);Bp?Xu.text=Hp+" - "+zp:(Xu.text=zp,Xu.text2=Hp)}function $p(_d,Xu,Bp,qp,_f){_f==="never"?_f="":_d.showexponent==="all"&&Math.abs(Xu.x/_d.dtick)<1e-6&&(_f="hide"),Xu.text=i0(Xu.x,_d,_f,qp)}function Zu(_d,Xu,Bp,qp,_f){if(_d.thetaunit==="radians"&&!Bp){var zp=Xu.x/180;if(zp===0)Xu.text="0";else{var Hp=lp(zp);if(Hp[1]>=100)Xu.text=i0(Bn.deg2rad(Xu.x),_d,_f,qp);else{var t0=Xu.x<0;Hp[1]===1?Hp[0]===1?Xu.text="":Xu.text=Hp[0]+"":Xu.text=["<sup>",Hp[0],"</sup>","","<sub>",Hp[1],"</sub>",""].join(""),t0&&(Xu.text=Du+Xu.text)}}}else Xu.text=i0(Xu.x,_d,_f,qp)}function lp(_d){function Xu(t0,Qp){return Math.abs(t0-Qp)<=1e-6}function Bp(t0,Qp){return Xu(Qp,0)?t0:Bp(Qp,t0%Qp)}function qp(t0){for(var Qp=1;!Xu(Math.round(t0*Qp)/Qp,t0);)Qp*=10;return Qp}var _f=qp(_d),zp=_d*_f,Hp=Math.abs(Bp(zp,_f));return[Math.round(zp/Hp),Math.round(_f/Hp)]}var mp=["f","p","n","","m","","k","M","G","T"],Tp=["q","r","y","z","a",...mp,"P","E","Z","Y","R","Q"],Lp=_d=>["SI","SI extended","B"].includes(_d);function Up(_d){return _d>14||_d<-15}function Xp(_d){return _d>32||_d<-30}function c0(_d,Xu){return Lp(Xu)?!!(Xu==="SI extended"&&Xp(_d)||Xu!=="SI extended"&&Up(_d)):!1}function i0(_d,Xu,Bp,qp){var _f=_d<0,zp=Xu._tickround,Hp=Bp||Xu.exponentformat||"B",t0=Xu._tickexponent,Qp=Xl.getTickFormat(Xu),p0=Xu.separatethousands;if(qp){var y0={exponentformat:Hp,minexponent:Xu.minexponent,dtick:Xu.showexponent==="none"?Xu.dtick:_t(_d)&&Math.abs(_d)||1,range:Xu.showexponent==="none"?Xu.range.map(Xu.r2d):[0,_d||1]};f0(y0),zp=(Number(y0._tickround)||0)+4,t0=y0._tickexponent,Xu.hoverformat&&(Qp=Xu.hoverformat)}if(Qp)return Xu._numFormat(Qp)(_d).replace(/-/g,Du);var H0=Math.pow(10,-zp)/2;if(Hp==="none"&&(t0=0),_d=Math.abs(_d),_d<H0)_d="0",_f=!1;else{if(_d+=H0,t0&&(_d*=Math.pow(10,-t0),zp+=t0),zp===0)_d=String(Math.floor(_d));else if(zp<0){_d=String(Math.round(_d)),_d=_d.substr(0,_d.length+zp);for(var ym=zp;ym<0;ym++)_d+="0"}else{_d=String(_d);var pm=_d.indexOf(".")+1;pm&&(_d=_d.substr(0,pm+zp).replace(/\.?0+$/,""))}_d=Bn.numSeparate(_d,Xu._separators,p0)}if(t0&&Hp!=="hide"){c0(t0,Hp)&&(Hp="power");var Tm;t0<0?Tm=Du+-t0:Hp!=="power"?Tm="+"+t0:Tm=String(t0),Hp==="e"||Hp==="E"?_d+=Hp+Tm:Hp==="power"?_d+="10<sup>"+Tm+"</sup>":Hp==="B"&&t0===9?_d+="B":Lp(Hp)&&(_d+=Hp==="SI extended"?Tp[t0/3+10]:mp[t0/3+5])}return _f?Du+_d:_d}Xl.getTickFormat=function(_d){var Xu;function Bp(Qp){return typeof Qp!="string"?Qp:Number(Qp.replace("M",""))*Hl}function qp(Qp,p0){var y0=["L","D"];if(typeof Qp==typeof p0){if(typeof Qp=="number")return Qp-p0;var H0=y0.indexOf(Qp.charAt(0)),ym=y0.indexOf(p0.charAt(0));return H0===ym?Number(Qp.replace(/(L|D)/g,""))-Number(p0.replace(/(L|D)/g,"")):H0-ym}else return typeof Qp=="number"?1:-1}function _f(Qp,p0,y0){var H0=y0||function(Tm){return Tm},ym=p0[0],pm=p0[1];return(!ym&&typeof ym!="number"||H0(ym)<=H0(Qp))&&(!pm&&typeof pm!="number"||H0(pm)>=H0(Qp))}function zp(Qp,p0){var y0=p0[0]===null,H0=p0[1]===null,ym=qp(Qp,p0[0])>=0,pm=qp(Qp,p0[1])<=0;return(y0||ym)&&(H0||pm)}var Hp,t0;if(_d.tickformatstops&&_d.tickformatstops.length>0)switch(_d.type){case"date":case"linear":{for(Xu=0;Xu<_d.tickformatstops.length;Xu++)if(t0=_d.tickformatstops[Xu],t0.enabled&&_f(_d.dtick,t0.dtickrange,Bp)){Hp=t0;break}break}case"log":{for(Xu=0;Xu<_d.tickformatstops.length;Xu++)if(t0=_d.tickformatstops[Xu],t0.enabled&&zp(_d.dtick,t0.dtickrange)){Hp=t0;break}break}}return Hp?Hp.value:_d.tickformat},Xl.getSubplots=function(_d,Xu){var Bp=_d._fullLayout._subplots,qp=Bp.cartesian.concat(Bp.gl2d||[]),_f=Xu?Xl.findSubplotsWithAxis(qp,Xu):qp;return _f.sort(function(zp,Hp){var t0=zp.substr(1).split("y"),Qp=Hp.substr(1).split("y");return t0[0]===Qp[0]?+t0[1]-+Qp[1]:+t0[0]-+Qp[0]}),_f},Xl.findSubplotsWithAxis=function(_d,Xu){for(var Bp=new RegExp(Xu._id.charAt(0)==="x"?"^"+Xu._id+"y":Xu._id+"$"),qp=[],_f=0;_f<_d.length;_f++){var zp=_d[_f];Bp.test(zp)&&qp.push(zp)}return qp},Xl.makeClipPaths=function(_d){var Xu=_d._fullLayout;if(!Xu._hasOnlyLargeSploms){var Bp={_offset:0,_length:Xu.width,_id:""},qp={_offset:0,_length:Xu.height,_id:""},_f=Xl.list(_d,"x",!0),zp=Xl.list(_d,"y",!0),Hp=[],t0,Qp;for(t0=0;t0<_f.length;t0++)for(Hp.push({x:_f[t0],y:qp}),Qp=0;Qp<zp.length;Qp++)t0===0&&Hp.push({x:Bp,y:zp[Qp]}),Hp.push({x:_f[t0],y:zp[Qp]});var p0=Xu._clips.selectAll(".axesclip").data(Hp,function(y0){return y0.x._id+y0.y._id});p0.enter().append("clipPath").classed("axesclip",!0).attr("id",function(y0){return"clip"+Xu._uid+y0.x._id+y0.y._id}).append("rect"),p0.exit().remove(),p0.each(function(y0){ls.select(this).select("rect").attr({x:y0.x._offset||0,y:y0.y._offset||0,width:y0.x._length||1,height:y0.y._length||1})})}},Xl.draw=function(_d,Xu,Bp){var qp=_d._fullLayout;Xu==="redraw"&&qp._paper.selectAll("g.subplot").each(function(Qp){var p0=Qp[0],y0=qp._plots[p0];if(y0){var H0=y0.xaxis,ym=y0.yaxis;y0.xaxislayer.selectAll("."+H0._id+"tick").remove(),y0.yaxislayer.selectAll("."+ym._id+"tick").remove(),y0.xaxislayer.selectAll("."+H0._id+"tick2").remove(),y0.yaxislayer.selectAll("."+ym._id+"tick2").remove(),y0.xaxislayer.selectAll("."+H0._id+"divider").remove(),y0.yaxislayer.selectAll("."+ym._id+"divider").remove(),y0.minorGridlayer&&y0.minorGridlayer.selectAll("path").remove(),y0.gridlayer&&y0.gridlayer.selectAll("path").remove(),y0.zerolinelayer&&y0.zerolinelayer.selectAll("path").remove(),y0.zerolinelayerAbove&&y0.zerolinelayerAbove.selectAll("path").remove(),qp._infolayer.select(".g-"+H0._id+"title").remove(),qp._infolayer.select(".g-"+ym._id+"title").remove()}});var _f=!Xu||Xu==="redraw"?Xl.listIds(_d):Xu,zp=Xl.list(_d),Hp=zp.filter(function(Qp){return Qp.autoshift}).map(function(Qp){return Qp.overlaying});_f.map(function(Qp){var p0=Xl.getFromId(_d,Qp);if(p0.tickmode==="sync"&&p0.overlaying){var y0=_f.findIndex(function(H0){return H0===p0.overlaying});y0>=0&&_f.unshift(_f.splice(y0,1).shift())}});var t0={false:{left:0,right:0}};return Bn.syncOrAsync(_f.map(function(Qp){return function(){if(Qp){var p0=Xl.getFromId(_d,Qp);Bp||(Bp={}),Bp.axShifts=t0,Bp.overlayingShiftedAx=Hp;var y0=Xl.drawOne(_d,p0,Bp);return p0._shiftPusher&&f1(p0,p0._fullDepth||0,t0,!0),p0._r=p0.range.slice(),p0._rl=Bn.simpleMap(p0._r,p0.r2l),y0}}}))},Xl.drawOne=function(_d,Xu,Bp){Bp=Bp||{};var qp=Bp.axShifts||{},_f=Bp.overlayingShiftedAx||[],zp,Hp,t0;Xu.setScale();var Qp=_d._fullLayout,p0=Xu._id,y0=p0.charAt(0),H0=Xl.counterLetter(p0),ym=Qp._plots[Xu._mainSubplot],pm=Xu.zerolinelayer==="above traces";if(!ym)return;if(Xu._shiftPusher=Xu.autoshift||_f.indexOf(Xu._id)!==-1||_f.indexOf(Xu.overlaying)!==-1,Xu._shiftPusher&Xu.anchor==="free"){var Tm=Xu.linewidth/2||0;Xu.ticks==="inside"&&(Tm+=Xu.ticklen),f1(Xu,Tm,qp,!0),f1(Xu,Xu.shift||0,qp,!1)}(Bp.skipTitle!==!0||Xu._shift===void 0)&&(Xu._shift=km(Xu,qp));var um=ym[y0+"axislayer"],Rm=Xu._mainLinePosition,Gm=Rm+=Xu._shift,x1=Xu._mainMirrorPosition,t1=Xu._vals=Xl.calcTicks(Xu),O1=[Xu.mirror,Gm,x1].join("_");for(zp=0;zp<t1.length;zp++)t1[zp].axInfo=O1;Xu._selections={},Xu._tickAngles&&(Xu._prevTickAngles=Xu._tickAngles),Xu._tickAngles={},Xu._depth=null;var p1={};function $1(q1){var vv=p0+(q1||"tick");return p1[vv]||(p1[vv]=rm(Xu,vv,Gm)),p1[vv]}if(Xu.visible){var L1=Xl.makeTransTickFn(Xu),ov=Xl.makeTransTickLabelFn(Xu),X1,g1,cv=Xu.ticks==="inside",Q1=Xu.ticks==="outside";if(Xu.tickson==="boundaries"){var y1=M0(Xu,t1);g1=Xl.clipEnds(Xu,y1),X1=cv?g1:y1}else g1=Xl.clipEnds(Xu,t1),X1=cv&&Xu.ticklabelmode!=="period"?g1:t1;var ev=Xu._gridVals=g1,av=R0(Xu,t1);if(!Qp._hasOnlyLargeSploms){var tv=Xu._subplotsWith,Ev={};for(zp=0;zp<tv.length;zp++){Hp=tv[zp],t0=Qp._plots[Hp];var Uv=t0[H0+"axis"],T1=Uv._mainAxis._id;if(!Ev[T1]){Ev[T1]=1;var W1=y0==="x"?"M0,"+Uv._offset+"v"+Uv._length:"M"+Uv._offset+",0h"+Uv._length;Xl.drawGrid(_d,Xu,{vals:ev,counterAxis:Uv,layer:t0.gridlayer.select("."+p0),minorLayer:t0.minorGridlayer.select("."+p0),path:W1,transFn:L1}),Xl.drawZeroLine(_d,Xu,{counterAxis:Uv,layer:pm?t0.zerolinelayerAbove:t0.zerolinelayer,path:W1,transFn:L1})}}}var N1,U1=Xl.getTickSigns(Xu),gv=Xl.getTickSigns(Xu,"minor");if(Xu.ticks||Xu.minor&&Xu.minor.ticks){var kv=Xl.makeTickPath(Xu,Gm,U1[2]),Ov=Xl.makeTickPath(Xu,Gm,gv[2],{minor:!0}),Mv,$v,Av,B1;if(Xu._anchorAxis&&Xu.mirror&&Xu.mirror!==!0?(Mv=Xl.makeTickPath(Xu,x1,U1[3]),$v=Xl.makeTickPath(Xu,x1,gv[3],{minor:!0}),Av=kv+Mv,B1=Ov+$v):(Mv="",$v="",Av=kv,B1=Ov),Xu.showdividers&&Q1&&Xu.tickson==="boundaries"){var hy={};for(zp=0;zp<av.length;zp++)hy[av[zp].x]=1;N1=function(q1){return hy[q1.x]?Mv:Av}}else N1=function(q1){return q1.minor?B1:Av}}if(Xl.drawTicks(_d,Xu,{vals:X1,layer:um,path:N1,transFn:L1}),Xu.mirror==="allticks"){var Iv=Object.keys(Xu._linepositions||{});for(zp=0;zp<Iv.length;zp++){Hp=Iv[zp],t0=Qp._plots[Hp];var Zv=Xu._linepositions[Hp]||[],Hv=Zv[0],zv=Zv[1],vy=Zv[2],iy=Xl.makeTickPath(Xu,Hv,vy?U1[0]:gv[0],{minor:vy})+Xl.makeTickPath(Xu,zv,vy?U1[1]:gv[1],{minor:vy});Xl.drawTicks(_d,Xu,{vals:X1,layer:t0[y0+"axislayer"],path:iy,transFn:L1})}}var Nv=[];if(Nv.push(function(){return Xl.drawLabels(_d,Xu,{vals:t1,layer:um,plotinfo:t0,transFn:ov,labelFns:Xl.makeLabelFns(Xu,Gm)})}),Xu.type==="multicategory"){var gy={x:2,y:10}[y0];Nv.push(function(){var q1={x:"height",y:"width"}[y0],vv=$1()[q1]+gy+(Xu._tickAngles[p0+"tick"]?Xu.tickfont.size*kp:0);return Xl.drawLabels(_d,Xu,{vals:A0(Xu,t1),layer:um,cls:p0+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:L1,labelFns:Xl.makeLabelFns(Xu,Gm+vv*U1[4])})}),Nv.push(function(){return Xu._depth=U1[4]*($1("tick2")[Xu.side]-Gm),Ym(_d,Xu,{vals:av,layer:um,path:Xl.makeTickPath(Xu,Gm,U1[4],{len:Xu._depth}),transFn:L1})})}else Xu.title.hasOwnProperty("standoff")&&Nv.push(function(){Xu._depth=U1[4]*($1()[Xu.side]-Gm)});var Cy=xl.getComponentMethod("rangeslider","isVisible")(Xu);return!Bp.skipTitle&&!(Cy&&Xu.side==="bottom")&&Nv.push(function(){return sm(_d,Xu)}),Nv.push(function(){var q1=Xu.side.charAt(0),vv=Iu[Xu.side].charAt(0),Dv=Xl.getPxPosition(_d,Xu),Xv=Q1?Xu.ticklen:0,Tv,rv,Qv,m2;(Xu.automargin||Cy||Xu._shiftPusher)&&(Xu.type==="multicategory"?Tv=$1("tick2"):(Tv=$1(),y0==="x"&&q1==="b"&&(Xu._depth=Math.max(Tv.width>0?Tv.bottom-Dv:0,Xv))));var Zy=0,K3=0;if(Xu._shiftPusher&&(Zy=Math.max(Xv,Tv.height>0?q1==="l"?Dv-Tv.left:Tv.right-Dv:0),Xu.title.text!==Qp._dfltTitle[y0]&&(K3=(Xu._titleStandoff||0)+(Xu._titleScoot||0),q1==="l"&&(K3+=_m(Xu))),Xu._fullDepth=Math.max(Zy,K3)),Xu.automargin){rv={x:0,y:0,r:0,l:0,t:0,b:0};var Xy=[0,1],tw=typeof Xu._shift=="number"?Xu._shift:0;if(y0==="x"){if(q1==="b"?rv[q1]=Xu._depth:(rv[q1]=Xu._depth=Math.max(Tv.width>0?Dv-Tv.top:0,Xv),Xy.reverse()),Tv.width>0){var rw=Tv.right-(Xu._offset+Xu._length);rw>0&&(rv.xr=1,rv.r=rw);var nw=Xu._offset-Tv.left;nw>0&&(rv.xl=0,rv.l=nw)}}else if(q1==="l"?(Xu._depth=Math.max(Tv.height>0?Dv-Tv.left:0,Xv),rv[q1]=Xu._depth-tw):(Xu._depth=Math.max(Tv.height>0?Tv.right-Dv:0,Xv),rv[q1]=Xu._depth+tw,Xy.reverse()),Tv.height>0){var Z3=Tv.bottom-(Xu._offset+Xu._length);Z3>0&&(rv.yb=0,rv.b=Z3);var v2=Xu._offset-Tv.top;v2>0&&(rv.yt=1,rv.t=v2)}rv[H0]=Xu.anchor==="free"?Xu.position:Xu._anchorAxis.domain[Xy[0]],Xu.title.text!==Qp._dfltTitle[y0]&&(rv[q1]+=_m(Xu)+(Xu.title.standoff||0)),Xu.mirror&&Xu.anchor!=="free"&&(Qv={x:0,y:0,r:0,l:0,t:0,b:0},Qv[vv]=Xu.linewidth,Xu.mirror&&Xu.mirror!==!0&&(Qv[vv]+=Xv),Xu.mirror===!0||Xu.mirror==="ticks"?Qv[H0]=Xu._anchorAxis.domain[Xy[1]]:(Xu.mirror==="all"||Xu.mirror==="allticks")&&(Qv[H0]=[Xu._counterDomainMin,Xu._counterDomainMax][Xy[1]]))}Cy&&(m2=xl.getComponentMethod("rangeslider","autoMarginOpts")(_d,Xu)),typeof Xu.automargin=="string"&&(s0(rv,Xu.automargin),s0(Qv,Xu.automargin)),Fn.autoMargin(_d,Fm(Xu),rv),Fn.autoMargin(_d,Sm(Xu),Qv),Fn.autoMargin(_d,e1(Xu),m2)}),Bn.syncOrAsync(Nv)}};function s0(_d,Xu){if(_d){var Bp=Object.keys(_h).reduce(function(qp,_f){return Xu.indexOf(_f)!==-1&&_h[_f].forEach(function(zp){qp[zp]=1}),qp},{});Object.keys(_d).forEach(function(qp){Bp[qp]||(qp.length===1?_d[qp]=0:delete _d[qp])})}}function M0(_d,Xu){var Bp=[],qp,_f=function(zp,Hp){var t0=zp.xbnd[Hp];t0!==null&&Bp.push(Bn.extendFlat({},zp,{x:t0}))};if(Xu.length){for(qp=0;qp<Xu.length;qp++)_f(Xu[qp],0);_f(Xu[qp-1],1)}return Bp}function A0(_d,Xu){for(var Bp=[],qp={},_f=0;_f<Xu.length;_f++){var zp=Xu[_f];qp[zp.text2]?qp[zp.text2].push(zp.x):qp[zp.text2]=[zp.x]}for(var Hp in qp)Bp.push(q0(_d,Bn.interp(qp[Hp],.5),Hp));return Bp}function R0(_d,Xu){var Bp=[],qp,_f,zp=Xu.length&&Xu[Xu.length-1].x<Xu[0].x,Hp=function(Qp,p0){var y0=Qp.xbnd[p0];y0!==null&&Bp.push(Bn.extendFlat({},Qp,{x:y0}))};if(_d.showdividers&&Xu.length){for(qp=0;qp<Xu.length;qp++){var t0=Xu[qp];t0.text2!==_f&&Hp(t0,zp?1:0),_f=t0.text2}Hp(Xu[qp-1],zp?0:1)}return Bp}function rm(_d,Xu,Bp){var qp,_f,zp,Hp;if(_d._selections[Xu].size())qp=1/0,_f=-1/0,zp=1/0,Hp=-1/0,_d._selections[Xu].each(function(){var Qp=Am(this);if(Qp.node().style.display!=="none"){var p0=Pl.bBox(Qp.node().parentNode);qp=Math.min(qp,p0.top),_f=Math.max(_f,p0.bottom),zp=Math.min(zp,p0.left),Hp=Math.max(Hp,p0.right)}});else{var t0=Xl.makeLabelFns(_d,Bp);qp=_f=t0.yFn({dx:0,dy:0,fontSize:0}),zp=Hp=t0.xFn({dx:0,dy:0,fontSize:0})}return{top:qp,bottom:_f,left:zp,right:Hp,height:_f-qp,width:Hp-zp}}Xl.getTickSigns=function(_d,Xu){var Bp=_d._id.charAt(0),qp={x:"top",y:"right"}[Bp],_f=_d.side===qp?1:-1,zp=[-1,1,_f,-_f],Hp=Xu?(_d.minor||{}).ticks:_d.ticks;return Hp!=="inside"==(Bp==="x")&&(zp=zp.map(function(t0){return-t0})),_d.side&&zp.push({l:-1,t:-1,r:1,b:1}[_d.side.charAt(0)]),zp},Xl.makeTransTickFn=function(_d){return _d._id.charAt(0)==="x"?function(Xu){return yl(_d._offset+_d.l2p(Xu.x),0)}:function(Xu){return yl(0,_d._offset+_d.l2p(Xu.x))}},Xl.makeTransTickLabelFn=function(_d){var Xu=Bm(_d),Bp=_d.ticklabelshift||0,qp=_d.ticklabelstandoff||0,_f=Xu[0],zp=Xu[1],Hp=_d.range[0]>_d.range[1],t0=_d.ticklabelposition&&_d.ticklabelposition.indexOf("inside")!==-1,Qp=!t0;if(Bp){var p0=Hp?-1:1;Bp=Bp*p0}if(qp){var y0=_d.side,H0=t0&&(y0==="top"||y0==="left")||Qp&&(y0==="bottom"||y0==="right")?1:-1;qp=qp*H0}return _d._id.charAt(0)==="x"?function(ym){return yl(_f+_d._offset+_d.l2p(wm(ym))+Bp,zp+qp)}:function(ym){return yl(zp+qp,_f+_d._offset+_d.l2p(wm(ym))+Bp)}};function wm(_d){return _d.periodX!==void 0?_d.periodX:_d.x}function Bm(_d){var Xu=_d.ticklabelposition||"",Bp=_d.tickson||"",qp=function(Tm){return Xu.indexOf(Tm)!==-1},_f=qp("top"),zp=qp("left"),Hp=qp("right"),t0=qp("bottom"),Qp=qp("inside"),p0=Bp!=="boundaries"&&(t0||zp||_f||Hp);if(!p0&&!Qp)return[0,0];var y0=_d.side,H0=p0?(_d.tickwidth||0)/2:0,ym=Bu,pm=_d.tickfont?_d.tickfont.size:12;return(t0||_f)&&(H0+=pm*wp,ym+=(_d.linewidth||0)/2),(zp||Hp)&&(H0+=(_d.linewidth||0)/2,ym+=Bu),Qp&&y0==="top"&&(ym-=pm*(1-wp)),(zp||_f)&&(H0=-H0),(y0==="bottom"||y0==="right")&&(ym=-ym),[p0?H0:0,Qp?ym:0]}Xl.makeTickPath=function(_d,Xu,Bp,qp){qp||(qp={});var _f=qp.minor;if(_f&&!_d.minor)return"";var zp=qp.len!==void 0?qp.len:_f?_d.minor.ticklen:_d.ticklen,Hp=_d._id.charAt(0),t0=(_d.linewidth||1)/2;return Hp==="x"?"M0,"+(Xu+t0*Bp)+"v"+zp*Bp:"M"+(Xu+t0*Bp)+",0h"+zp*Bp},Xl.makeLabelFns=function(_d,Xu,Bp){var qp=_d.ticklabelposition||"",_f=_d.tickson||"",zp=function(y1){return qp.indexOf(y1)!==-1},Hp=zp("top"),t0=zp("left"),Qp=zp("right"),p0=zp("bottom"),y0=_f!=="boundaries"&&(p0||t0||Hp||Qp),H0=zp("inside"),ym=qp==="inside"&&_d.ticks==="inside"||!H0&&_d.ticks==="outside"&&_f!=="boundaries",pm=0,Tm=0,um=ym?_d.ticklen:0;if(H0?um*=-1:y0&&(um=0),ym&&(pm+=um,Bp)){var Rm=Bn.deg2rad(Bp);pm=um*Math.cos(Rm)+1,Tm=um*Math.sin(Rm)}_d.showticklabels&&(ym||_d.showline)&&(pm+=.2*_d.tickfont.size),pm+=(_d.linewidth||1)/2*(H0?-1:1);var Gm={labelStandoff:pm,labelShift:Tm},x1,t1,O1,p1,$1=0,L1=_d.side,ov=_d._id.charAt(0),X1=_d.tickangle,g1;if(ov==="x")g1=!H0&&L1==="bottom"||H0&&L1==="top",p1=g1?1:-1,H0&&(p1*=-1),x1=Tm*p1,t1=Xu+pm*p1,O1=g1?1:-.2,Math.abs(X1)===90&&(H0?O1+=bp:X1===-90&&L1==="bottom"?O1=wp:X1===90&&L1==="top"?O1=bp:O1=.5,$1=bp/2*(X1/90)),Gm.xFn=function(y1){return y1.dx+x1+$1*y1.fontSize},Gm.yFn=function(y1){return y1.dy+t1+y1.fontSize*O1},Gm.anchorFn=function(y1,ev){if(y0){if(t0)return"end";if(Qp)return"start"}return!_t(ev)||ev===0||ev===180?"middle":ev*p1<0!==H0?"end":"start"},Gm.heightFn=function(y1,ev,av){return ev<-60||ev>60?-.5*av:_d.side==="top"!==H0?-av:0};else if(ov==="y"){if(g1=!H0&&L1==="left"||H0&&L1==="right",p1=g1?1:-1,H0&&(p1*=-1),x1=pm,t1=Tm*p1,O1=0,!H0&&Math.abs(X1)===90&&(X1===-90&&L1==="left"||X1===90&&L1==="right"?O1=wp:O1=.5),H0){var cv=_t(X1)?+X1:0;if(cv!==0){var Q1=Bn.deg2rad(cv);$1=Math.abs(Math.sin(Q1))*wp*p1,O1=0}}Gm.xFn=function(y1){return y1.dx+Xu-(x1+y1.fontSize*O1)*p1+$1*y1.fontSize},Gm.yFn=function(y1){return y1.dy+t1+y1.fontSize*bp},Gm.anchorFn=function(y1,ev){return _t(ev)&&Math.abs(ev)===90?"middle":g1?"end":"start"},Gm.heightFn=function(y1,ev,av){return _d.side==="right"&&(ev*=-1),ev<-30?-av:ev<30?-.5*av:0}}return Gm};function Vm(_d){return[_d.text,_d.x,_d.axInfo,_d.font,_d.fontSize,_d.fontColor].join("_")}Xl.drawTicks=function(_d,Xu,Bp){Bp=Bp||{};var qp=Xu._id+"tick",_f=[].concat(Xu.minor&&Xu.minor.ticks?Bp.vals.filter(function(Hp){return Hp.minor&&!Hp.noTick}):[]).concat(Xu.ticks?Bp.vals.filter(function(Hp){return!Hp.minor&&!Hp.noTick}):[]),zp=Bp.layer.selectAll("path."+qp).data(_f,Vm);zp.exit().remove(),zp.enter().append("path").classed(qp,1).classed("ticks",1).classed("crisp",Bp.crisp!==!1).each(function(Hp){return Et.stroke(ls.select(this),Hp.minor?Xu.minor.tickcolor:Xu.tickcolor)}).style("stroke-width",function(Hp){return Pl.crispRound(_d,Hp.minor?Xu.minor.tickwidth:Xu.tickwidth,1)+"px"}).attr("d",Bp.path).style("display",null),b1(Xu,[qu]),zp.attr("transform",Bp.transFn)},Xl.drawGrid=function(_d,Xu,Bp){if(Bp=Bp||{},Xu.tickmode!=="sync"){var qp=Xu._id+"grid",_f=Xu.minor&&Xu.minor.showgrid,zp=_f?Bp.vals.filter(function(Gm){return Gm.minor}):[],Hp=Xu.showgrid?Bp.vals.filter(function(Gm){return!Gm.minor}):[],t0=Bp.counterAxis;if(t0&&Xl.shouldShowZeroLine(_d,Xu,t0))for(var Qp=Xu.tickmode==="array",p0=0;p0<Hp.length;p0++){var y0=Hp[p0].x;if(Qp?!y0:Math.abs(y0)<Xu.dtick/100)if(Hp=Hp.slice(0,p0).concat(Hp.slice(p0+1)),Qp)p0--;else break}Xu._gw=Pl.crispRound(_d,Xu.gridwidth,1);for(var H0=_f?Pl.crispRound(_d,Xu.minor.gridwidth,1):0,ym=Bp.layer,pm=Bp.minorLayer,Tm=1;Tm>=0;Tm--){var um=Tm?ym:pm;if(um){var Rm=um.selectAll("path."+qp).data(Tm?Hp:zp,Vm);Rm.exit().remove(),Rm.enter().append("path").classed(qp,1).classed("crisp",Bp.crisp!==!1),Rm.attr("transform",Bp.transFn).attr("d",Bp.path).each(function(Gm){return Et.stroke(ls.select(this),Gm.minor?Xu.minor.gridcolor:Xu.gridcolor||"#ddd")}).style("stroke-dasharray",function(Gm){return Pl.dashStyle(Gm.minor?Xu.minor.griddash:Xu.griddash,Gm.minor?Xu.minor.gridwidth:Xu.gridwidth)}).style("stroke-width",function(Gm){return(Gm.minor?H0:Xu._gw)+"px"}).style("display",null),typeof Bp.path=="function"&&Rm.attr("d",Bp.path)}}b1(Xu,[gu,Wu])}},Xl.drawZeroLine=function(_d,Xu,Bp){Bp=Bp||Bp;var qp=Xu._id+"zl",_f=Xl.shouldShowZeroLine(_d,Xu,Bp.counterAxis),zp=Bp.layer.selectAll("path."+qp).data(_f?[{x:0,id:Xu._id}]:[]);zp.exit().remove(),zp.enter().append("path").classed(qp,1).classed("zl",1).classed("crisp",Bp.crisp!==!1).each(function(){Bp.layer.selectAll("path").sort(function(Hp,t0){return _u(Hp.id,t0.id)})}),zp.attr("transform",Bp.transFn).attr("d",Bp.path).call(Et.stroke,Xu.zerolinecolor||Et.defaultLine).style("stroke-width",Pl.crispRound(_d,Xu.zerolinewidth,Xu._gw||1)+"px").style("display",null),b1(Xu,[Vu])},Xl.drawLabels=function(_d,Xu,Bp){Bp=Bp||{};var qp=_d._fullLayout,_f=Xu._id,zp=Xu.zerolinelayer==="above traces",Hp=Bp.cls||_f+"tick",t0=Bp.vals.filter(function(T1){return T1.text}),Qp=Bp.labelFns,p0=Bp.secondary?0:Xu.tickangle,y0=(Xu._prevTickAngles||{})[Hp],H0=Bp.layer.selectAll("g."+Hp).data(Xu.showticklabels?t0:[],Vm),ym=[];H0.enter().append("g").classed(Hp,1).append("text").attr("text-anchor","middle").each(function(T1){var W1=ls.select(this),N1=_d._promises.length;W1.call(Sl.positionText,Qp.xFn(T1),Qp.yFn(T1)).call(Pl.font,{family:T1.font,size:T1.fontSize,color:T1.fontColor,weight:T1.fontWeight,style:T1.fontStyle,variant:T1.fontVariant,textcase:T1.fontTextcase,lineposition:T1.fontLineposition,shadow:T1.fontShadow}).text(T1.text).call(Sl.convertToTspans,_d),_d._promises[N1]?ym.push(_d._promises.pop().then(function(){pm(W1,p0)})):pm(W1,p0)}),b1(Xu,[np]),H0.exit().remove(),Bp.repositionOnUpdate&&H0.each(function(T1){ls.select(this).select("text").call(Sl.positionText,Qp.xFn(T1),Qp.yFn(T1))});function pm(T1,W1){T1.each(function(N1){var U1=ls.select(this),gv=U1.select(".text-math-group"),kv=Qp.anchorFn(N1,W1),Ov=Bp.transFn.call(U1.node(),N1)+(_t(W1)&&+W1!=0?" rotate("+W1+","+Qp.xFn(N1)+","+(Qp.yFn(N1)-N1.fontSize/2)+")":""),Mv=Sl.lineCount(U1),$v=kp*N1.fontSize,Av=Qp.heightFn(N1,_t(W1)?+W1:0,(Mv-1)*$v);if(Av&&(Ov+=yl(0,Av)),gv.empty()){var B1=U1.select("text");B1.attr({transform:Ov,"text-anchor":kv}),B1.style("display",null),Xu._adjustTickLabelsOverflow&&Xu._adjustTickLabelsOverflow()}else{var hy=Pl.bBox(gv.node()).width,Iv=hy*{end:-.5,start:.5}[kv];gv.attr("transform",Ov+yl(Iv,0))}})}Xu._adjustTickLabelsOverflow=function(){var T1=Xu.ticklabeloverflow;if(!(!T1||T1==="allow")){var W1=T1.indexOf("hide")!==-1,N1=Xu._id.charAt(0)==="x",U1=0,gv=N1?_d._fullLayout.width:_d._fullLayout.height;if(T1.indexOf("domain")!==-1){var kv=Bn.simpleMap(Xu.range,Xu.r2l);U1=Xu.l2p(kv[0])+Xu._offset,gv=Xu.l2p(kv[1])+Xu._offset}var Ov=Math.min(U1,gv),Mv=Math.max(U1,gv),$v=Xu.side,Av=1/0,B1=-1/0;H0.each(function(Hv){var zv=ls.select(this),vy=zv.select(".text-math-group");if(vy.empty()){var iy=Pl.bBox(zv.node()),Nv=0;N1?(iy.right>Mv||iy.left<Ov)&&(Nv=1):(iy.bottom>Mv||iy.top+(Xu.tickangle?0:Hv.fontSize/4)<Ov)&&(Nv=1);var gy=zv.select("text");Nv?W1&&gy.style("display","none"):gy.node().style.display!=="none"&&(gy.style("display",null),$v==="bottom"||$v==="right"?Av=Math.min(Av,N1?iy.top:iy.left):Av=-1/0,$v==="top"||$v==="left"?B1=Math.max(B1,N1?iy.bottom:iy.right):B1=1/0)}});for(var hy in qp._plots){var Iv=qp._plots[hy];if(!(Xu._id!==Iv.xaxis._id&&Xu._id!==Iv.yaxis._id)){var Zv=N1?Iv.yaxis:Iv.xaxis;Zv&&(Zv["_visibleLabelMin_"+Xu._id]=Av,Zv["_visibleLabelMax_"+Xu._id]=B1)}}}},Xu._hideCounterAxisInsideTickLabels=function(T1){var W1=Xu._id.charAt(0)==="x",N1=[];for(var U1 in qp._plots){var gv=qp._plots[U1];Xu._id!==gv.xaxis._id&&Xu._id!==gv.yaxis._id||N1.push(W1?gv.yaxis:gv.xaxis)}N1.forEach(function(kv,Ov){kv&&n1(kv)&&(T1||[Vu,Wu,gu,qu,np]).forEach(function(Mv){var $v=Mv.K==="tick"&&Mv.L==="text"&&Xu.ticklabelmode==="period",Av=qp._plots[Xu._mainSubplot],B1;if(Mv.K===Vu.K){var hy=zp?Av.zerolinelayerAbove:Av.zerolinelayer;B1=hy.selectAll("."+Xu._id+"zl")}else Mv.K===Wu.K?B1=Av.minorGridlayer.selectAll("."+Xu._id):Mv.K===gu.K?B1=Av.gridlayer.selectAll("."+Xu._id):B1=Av[Xu._id.charAt(0)+"axislayer"];B1.each(function(){var Iv=ls.select(this);Mv.L&&(Iv=Iv.selectAll(Mv.L)),Iv.each(function(Zv){var Hv=Xu.l2p($v?wm(Zv):Zv.x)+Xu._offset,zv=ls.select(this);Hv<Xu["_visibleLabelMax_"+kv._id]&&Hv>Xu["_visibleLabelMin_"+kv._id]?zv.style("display","none"):Mv.K==="tick"&&!Ov&&zv.node().style.display!=="none"&&zv.style("display",null)})})})})},pm(H0,y0+1?y0:p0);function Tm(){return ym.length&&Promise.all(ym)}var um=null;function Rm(){if(pm(H0,p0),t0.length&&Xu.autotickangles&&(Xu.type!=="log"||String(Xu.dtick).charAt(0)!=="D")){um=Xu.autotickangles[0];var T1=0,W1=[],N1,U1=1;H0.each(function(rv){T1=Math.max(T1,rv.fontSize);var Qv=Xu.l2p(rv.x),m2=Am(this),Zy=Pl.bBox(m2.node());U1=Math.max(U1,Sl.lineCount(m2)),W1.push({top:0,bottom:10,height:10,left:Qv-Zy.width/2,right:Qv+Zy.width/2+2,width:Zy.width+2})});var gv=(Xu.tickson==="boundaries"||Xu.showdividers)&&!Bp.secondary,kv=t0.length,Ov=Math.abs((t0[kv-1].x-t0[0].x)*Xu._m)/(kv-1),Mv=gv?Ov/2:Ov,$v=gv?Xu.ticklen:T1*1.25*U1,Av=Math.sqrt(Math.pow(Mv,2)+Math.pow($v,2)),B1=Mv/Av,hy=Xu.autotickangles.map(function(rv){return rv*Math.PI/180}),Iv=hy.find(function(rv){return Math.abs(Math.cos(rv))<=B1});Iv===void 0&&(Iv=hy.reduce(function(rv,Qv){return Math.abs(Math.cos(rv))<Math.abs(Math.cos(Qv))?rv:Qv},hy[0]));var Zv=Iv*(180/Math.PI);if(gv){var Hv=2;for(Xu.ticks&&(Hv+=Xu.tickwidth/2),N1=0;N1<W1.length;N1++){var zv=t0[N1].xbnd,vy=W1[N1];if(zv[0]!==null&&vy.left-Xu.l2p(zv[0])<Hv||zv[1]!==null&&Xu.l2p(zv[1])-vy.right<Hv){um=Zv;break}}}else{var iy=Xu.ticklabelposition||"",Nv=Xu.tickson||"",gy=function(rv){return iy.indexOf(rv)!==-1},Cy=gy("top"),q1=gy("left"),vv=gy("right"),Dv=gy("bottom"),Xv=Nv!=="boundaries"&&(Dv||q1||Cy||vv),Tv=Xv?(Xu.tickwidth||0)+2*Bu:0;for(N1=0;N1<W1.length-1;N1++)if(Bn.bBoxIntersect(W1[N1],W1[N1+1],Tv)){um=Zv;break}}um&&pm(H0,um)}}Xu._selections&&(Xu._selections[Hp]=H0);var Gm=[Tm];Xu.automargin&&qp._redrawFromAutoMarginCount&&y0===90?(um=y0,Gm.push(function(){pm(H0,y0)})):Gm.push(Rm),Xu._tickAngles&&Gm.push(function(){Xu._tickAngles[Hp]=um===null?_t(p0)?p0:0:um});var x1=function(){var T1=0,W1=0;return H0.each(function(N1,U1){var gv=Am(this),kv=gv.select(".text-math-group");if(kv.empty()){var Ov;Xu._vals[U1]&&(Ov=Xu._vals[U1].bb||Pl.bBox(gv.node()),Xu._vals[U1].bb=Ov),T1=Math.max(T1,Ov.width),W1=Math.max(W1,Ov.height)}}),{labelsMaxW:T1,labelsMaxH:W1}},t1=Xu._anchorAxis;if(t1&&(t1.autorange||t1.insiderange)&&n1(Xu)&&!Wl(qp,Xu._id)&&(qp._insideTickLabelsUpdaterange||(qp._insideTickLabelsUpdaterange={}),t1.autorange&&(qp._insideTickLabelsUpdaterange[t1._name+".autorange"]=t1.autorange,Gm.push(x1)),t1.insiderange)){var O1=x1(),p1=Xu._id.charAt(0)==="y"?O1.labelsMaxW:O1.labelsMaxH;p1+=2*Bu,Xu.ticklabelposition==="inside"&&(p1+=Xu.ticklen||0);var $1=Xu.side==="right"||Xu.side==="top"?1:-1,L1=$1===1?1:0,ov=$1===1?0:1,X1=[];X1[ov]=t1.range[ov];var g1=t1.range,cv=t1.r2p(g1[L1]),Q1=t1.r2p(g1[ov]),y1=qp._insideTickLabelsUpdaterange[t1._name+".range"];if(y1){var ev=t1.r2p(y1[L1]),av=t1.r2p(y1[ov]),tv=$1*(Xu._id.charAt(0)==="y"?1:-1);tv*cv<tv*ev&&(cv=ev,X1[L1]=g1[L1]=y1[L1]),tv*Q1>tv*av&&(Q1=av,X1[ov]=g1[ov]=y1[ov])}var Ev=Math.abs(Q1-cv);Ev-p1>0?(Ev-=p1,p1*=1+p1/Ev):p1=0,Xu._id.charAt(0)!=="y"&&(p1=-p1),X1[L1]=t1.p2r(t1.r2p(g1[L1])+$1*p1),t1.autorange==="min"||t1.autorange==="max reversed"?(X1[0]=null,t1._rangeInitial0=void 0,t1._rangeInitial1=void 0):(t1.autorange==="max"||t1.autorange==="min reversed")&&(X1[1]=null,t1._rangeInitial0=void 0,t1._rangeInitial1=void 0),qp._insideTickLabelsUpdaterange[t1._name+".range"]=X1}var Uv=Bn.syncOrAsync(Gm);return Uv&&Uv.then&&_d._promises.push(Uv),Uv};function Ym(_d,Xu,Bp){var qp=Xu._id+"divider",_f=Bp.vals,zp=Bp.layer.selectAll("path."+qp).data(_f,Vm);zp.exit().remove(),zp.enter().insert("path",":first-child").classed(qp,1).classed("crisp",1).call(Et.stroke,Xu.dividercolor).style("stroke-width",Pl.crispRound(_d,Xu.dividerwidth,1)+"px"),zp.attr("transform",Bp.transFn).attr("d",Bp.path)}Xl.getPxPosition=function(_d,Xu){var Bp=_d._fullLayout._size,qp=Xu._id.charAt(0),_f=Xu.side,zp;if(Xu.anchor!=="free"?zp=Xu._anchorAxis:qp==="x"?zp={_offset:Bp.t+(1-(Xu.position||0))*Bp.h,_length:0}:qp==="y"&&(zp={_offset:Bp.l+(Xu.position||0)*Bp.w+Xu._shift,_length:0}),_f==="top"||_f==="left")return zp._offset;if(_f==="bottom"||_f==="right")return zp._offset+zp._length};function _m(_d){var Xu=_d.title.font.size,Bp=(_d.title.text.match(Sl.BR_TAG_ALL)||[]).length;return _d.title.hasOwnProperty("standoff")?Xu*(wp+Bp*kp):Bp?Xu*(Bp+1)*kp:Xu}function sm(_d,Xu){var Bp=_d._fullLayout,qp=Xu._id,_f=qp.charAt(0),zp=Xu.title.font.size,Hp,t0=(Xu.title.text.match(Sl.BR_TAG_ALL)||[]).length;if(Xu.title.hasOwnProperty("standoff"))Xu.side==="bottom"||Xu.side==="right"?Hp=Xu._depth+Xu.title.standoff+zp*wp:(Xu.side==="top"||Xu.side==="left")&&(Hp=Xu._depth+Xu.title.standoff+zp*(bp+t0*kp));else{var Qp=n1(Xu);if(Xu.type==="multicategory")Hp=Xu._depth;else{var p0=1.5*zp;Qp&&(p0=.5*zp,Xu.ticks==="outside"&&(p0+=Xu.ticklen)),Hp=10+p0+(Xu.linewidth?Xu.linewidth-1:0)}Qp||(_f==="x"?Hp+=Xu.side==="top"?zp*(Xu.showticklabels?1:0):zp*(Xu.showticklabels?1.5:.5):Hp+=Xu.side==="right"?zp*(Xu.showticklabels?1:.5):zp*(Xu.showticklabels?.5:0))}var y0=Xl.getPxPosition(_d,Xu),H0,ym,pm;_f==="x"?(ym=Xu._offset+Xu._length/2,pm=Xu.side==="top"?y0-Hp:y0+Hp):(pm=Xu._offset+Xu._length/2,ym=Xu.side==="right"?y0+Hp:y0-Hp,H0={rotate:"-90",offset:0});var Tm;if(Xu.type!=="multicategory"){var um=Xu._selections[Xu._id+"tick"];if(Tm={selection:um,side:Xu.side},um&&um.node()&&um.node().parentNode){var Rm=Pl.getTranslate(um.node().parentNode);Tm.offsetLeft=Rm.x,Tm.offsetTop=Rm.y}Xu.title.hasOwnProperty("standoff")&&(Tm.pad=0)}return Xu._titleStandoff=Hp,Al.draw(_d,qp+"title",{propContainer:Xu,propName:Xu._name+".title.text",placeholder:Bp._dfltTitle[_f],avoid:Tm,transform:H0,attributes:{x:ym,y:pm,"text-anchor":"middle"}})}Xl.shouldShowZeroLine=function(_d,Xu,Bp){var qp=Bn.simpleMap(Xu.range,Xu.r2l);return qp[0]*qp[1]<=0&&Xu.zeroline&&(Xu.type==="linear"||Xu.type==="-")&&!(Xu.rangebreaks&&Xu.maskBreaks(0)===Hu)&&(zm(Xu,0)||!Wm(_d,Xu,Bp,qp)||Im(_d,Xu))},Xl.clipEnds=function(_d,Xu){return Xu.filter(function(Bp){return zm(_d,Bp.x)})};function zm(_d,Xu){var Bp=_d.l2p(Xu);return Bp>1&&Bp<_d._length-1}function Wm(_d,Xu,Bp,qp){var _f=Bp._mainAxis;if(!_f)return;var zp=_d._fullLayout,Hp=Xu._id.charAt(0),t0=Xl.counterLetter(Xu._id),Qp=Xu._offset+(Math.abs(qp[0])<Math.abs(qp[1])==(Hp==="x")?0:Xu._length);function p0(Tm){if(!Tm.showline||!Tm.linewidth)return!1;var um=Math.max((Tm.linewidth+Xu.zerolinewidth)/2,1);function Rm(t1){return typeof t1=="number"&&Math.abs(t1-Qp)<um}if(Rm(Tm._mainLinePosition)||Rm(Tm._mainMirrorPosition))return!0;var Gm=Tm._linepositions||{};for(var x1 in Gm)if(Rm(Gm[x1][0])||Rm(Gm[x1][1]))return!0}var y0=zp._plots[Bp._mainSubplot];if(!(y0.mainplotinfo||y0).overlays.length)return p0(Bp);for(var H0=Xl.list(_d,t0),ym=0;ym<H0.length;ym++){var pm=H0[ym];if(pm._mainAxis===_f&&p0(pm))return!0}}function Im(_d,Xu){for(var Bp=_d._fullData,qp=Xu._mainSubplot,_f=Xu._id.charAt(0),zp=0;zp<Bp.length;zp++){var Hp=Bp[zp];if(Hp.visible===!0&&Hp.xaxis+Hp.yaxis===qp&&(xl.traceIs(Hp,"bar-like")&&Hp.orientation==={x:"h",y:"v"}[_f]||Hp.fill&&Hp.fill.charAt(Hp.fill.length-1)===_f))return!0}return!1}function Am(_d){var Xu=ls.select(_d),Bp=Xu.select(".text-math-group");return Bp.empty()?Xu.select("text"):Bp}Xl.allowAutoMargin=function(_d){for(var Xu=Xl.list(_d,"",!0),Bp=0;Bp<Xu.length;Bp++){var qp=Xu[Bp];qp.automargin&&(Fn.allowAutoMargin(_d,Fm(qp)),qp.mirror&&Fn.allowAutoMargin(_d,Sm(qp))),xl.getComponentMethod("rangeslider","isVisible")(qp)&&Fn.allowAutoMargin(_d,e1(qp))}};function Fm(_d){return _d._id+".automargin"}function Sm(_d){return Fm(_d)+".mirror"}function e1(_d){return _d._id+".rangeslider"}Xl.swap=function(_d,Xu){for(var Bp=u1(_d,Xu),qp=0;qp<Bp.length;qp++)d1(_d,Bp[qp].x,Bp[qp].y)};function u1(_d,Xu){var Bp=[],qp,_f;for(qp=0;qp<Xu.length;qp++){var zp=[],Hp=_d._fullData[Xu[qp]].xaxis,t0=_d._fullData[Xu[qp]].yaxis;if(!(!Hp||!t0)){for(_f=0;_f<Bp.length;_f++)(Bp[_f].x.indexOf(Hp)!==-1||Bp[_f].y.indexOf(t0)!==-1)&&zp.push(_f);if(!zp.length){Bp.push({x:[Hp],y:[t0]});continue}var Qp=Bp[zp[0]],p0;if(zp.length>1)for(_f=1;_f<zp.length;_f++)p0=Bp[zp[_f]],jm(Qp.x,p0.x),jm(Qp.y,p0.y);jm(Qp.x,[Hp]),jm(Qp.y,[t0])}}return Bp}function jm(_d,Xu){for(var Bp=0;Bp<Xu.length;Bp++)_d.indexOf(Xu[Bp])===-1&&_d.push(Xu[Bp])}function d1(_d,Xu,Bp){var qp=[],_f=[],zp=_d.layout,Hp,t0;for(Hp=0;Hp<Xu.length;Hp++)qp.push(Xl.getFromId(_d,Xu[Hp]));for(Hp=0;Hp<Bp.length;Hp++)_f.push(Xl.getFromId(_d,Bp[Hp]));var Qp=Object.keys(El),p0=["anchor","domain","overlaying","position","side","tickangle","editType"],y0=["linear","log"];for(Hp=0;Hp<Qp.length;Hp++){var H0=Qp[Hp],ym=qp[0][H0],pm=_f[0][H0],Tm=!0,um=!1,Rm=!1;if(!(H0.charAt(0)==="_"||typeof ym=="function"||p0.indexOf(H0)!==-1)){for(t0=1;t0<qp.length&&Tm;t0++){var Gm=qp[t0][H0];H0==="type"&&y0.indexOf(ym)!==-1&&y0.indexOf(Gm)!==-1&&ym!==Gm?um=!0:Gm!==ym&&(Tm=!1)}for(t0=1;t0<_f.length&&Tm;t0++){var x1=_f[t0][H0];H0==="type"&&y0.indexOf(pm)!==-1&&y0.indexOf(x1)!==-1&&pm!==x1?Rm=!0:_f[t0][H0]!==pm&&(Tm=!1)}Tm&&(um&&(zp[qp[0]._name].type="linear"),Rm&&(zp[_f[0]._name].type="linear"),m1(zp,H0,qp,_f,_d._fullLayout._dfltTitle))}}for(Hp=0;Hp<_d._fullLayout.annotations.length;Hp++){var t1=_d._fullLayout.annotations[Hp];Xu.indexOf(t1.xref)!==-1&&Bp.indexOf(t1.yref)!==-1&&Bn.swapAttrs(zp.annotations[Hp],["?"])}}function m1(_d,Xu,Bp,qp,_f){var zp=Bn.nestedProperty,Hp=zp(_d[Bp[0]._name],Xu).get(),t0=zp(_d[qp[0]._name],Xu).get(),Qp;for(Xu==="title"&&(Hp&&Hp.text===_f.x&&(Hp.text=_f.y),t0&&t0.text===_f.y&&(t0.text=_f.x)),Qp=0;Qp<Bp.length;Qp++)zp(_d,Bp[Qp]._name+"."+Xu).set(t0);for(Qp=0;Qp<qp.length;Qp++)zp(_d,qp[Qp]._name+"."+Xu).set(Hp)}function S1(_d){return _d._id==="angularaxis"}function _1(_d,Xu){for(var Bp=Xu._rangebreaks.length,qp=0;qp<Bp;qp++){var _f=Xu._rangebreaks[qp];if(_d>=_f.min&&_d<_f.max)return _f.max}return _d}function n1(_d){return(_d.ticklabelposition||"").indexOf("inside")!==-1}function b1(_d,Xu){n1(_d._anchorAxis||{})&&_d._hideCounterAxisInsideTickLabels&&_d._hideCounterAxisInsideTickLabels(Xu)}function f1(_d,Xu,Bp,qp){var _f=_d.anchor!=="free"&&(_d.overlaying===void 0||_d.overlaying===!1)?_d._id:_d.overlaying,zp;qp?zp=_d.side==="right"?Xu:-Xu:zp=Xu,_f in Bp||(Bp[_f]={}),_d.side in Bp[_f]||(Bp[_f][_d.side]=0),Bp[_f][_d.side]+=zp}function km(_d,Xu){return _d.autoshift?Xu[_d.overlaying][_d.side]:_d.shift||0}function D1(_d,Xu){return/%f/.test(Xu)?_d>=Fu:/%L/.test(Xu)?_d>=Lu:/%[SX]/.test(Xu)?_d>=bu:/%M/.test(Xu)?_d>=$u:/%[HI]/.test(Xu)?_d>=Yl:/%p/.test(Xu)?_d>=hu:/%[Aadejuwx]/.test(Xu)?_d>=vu:/%[UVW]/.test(Xu)?_d>=Gu:/%[Bbm]/.test(Xu)?_d>=Kl:/%[q]/.test(Xu)?_d>=Rl:/%[Yy]/.test(Xu)?_d>=Ol:!0}}),vw=a((Mu,yu)=>{yu.exports=function(ls,_t,Fn){var xl,Bn;if(Fn){var yl=_t==="reversed"||_t==="min reversed"||_t==="max reversed";xl=Fn[yl?1:0],Bn=Fn[yl?0:1]}var Sl=ls("autorangeoptions.minallowed",Bn===null?xl:void 0),Al=ls("autorangeoptions.maxallowed",xl===null?Bn:void 0);Sl===void 0&&ls("autorangeoptions.clipmin"),Al===void 0&&ls("autorangeoptions.clipmax"),ls("autorangeoptions.include")}}),c3=a((Mu,yu)=>{var ls=vw();yu.exports=function(_t,Fn,xl,Bn){var yl=Fn._template||{},Sl=Fn.type||yl.type||"-";xl("minallowed"),xl("maxallowed");var Al=xl("range");if(!Al){var Et;!Bn.noInsiderange&&Sl!=="log"&&(Et=xl("insiderange"),Et&&(Et[0]===null||Et[1]===null)&&(Fn.insiderange=!1,Et=void 0),Et&&(Al=xl("range",Et)))}var Pl=Fn.getAutorangeDflt(Al,Bn),El=xl("autorange",Pl),Fl;Al&&(Al[0]===null&&Al[1]===null||(Al[0]===null||Al[1]===null)&&(El==="reversed"||El===!0)||Al[0]!==null&&(El==="min"||El==="max reversed")||Al[1]!==null&&(El==="max"||El==="min reversed"))&&(Al=void 0,delete Fn.range,Fn.autorange=!0,Fl=!0),Fl||(Pl=Fn.getAutorangeDflt(Al,Bn),El=xl("autorange",Pl)),El&&(ls(xl,El,Al),(Sl==="linear"||Sl==="-")&&xl("rangemode")),Fn.cleanRange()}}),yw=a((Mu,yu)=>{var ls={left:0,top:0};yu.exports=_t;function _t(xl,Bn,yl){Bn=Bn||xl.currentTarget||xl.srcElement,Array.isArray(yl)||(yl=[0,0]);var Sl=xl.clientX||0,Al=xl.clientY||0,Et=Fn(Bn);return yl[0]=Sl-Et.left,yl[1]=Al-Et.top,yl}function Fn(xl){return xl===window||xl===document||xl===document.body?ls:xl.getBoundingClientRect()}}),ix=a((Mu,yu)=>{var ls=w2();function _t(){var Fn=!1;try{var xl=Object.defineProperty({},"passive",{get:function(){Fn=!0}});window.addEventListener("test",null,xl),window.removeEventListener("test",null,xl)}catch{Fn=!1}return Fn}yu.exports=ls&&_t()}),bw=a((Mu,yu)=>{yu.exports=function(ls,_t,Fn,xl,Bn){var yl=(ls-Fn)/(xl-Fn),Sl=yl+_t/(xl-Fn),Al=(yl+Sl)/2;return Bn==="left"||Bn==="bottom"?yl:Bn==="center"||Bn==="middle"?Al:Bn==="right"||Bn==="top"?Sl:yl<2/3-Al?yl:Sl>4/3-Al?Sl:Al}}),xw=a((Mu,yu)=>{var ls=vm(),_t=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];yu.exports=function(Fn,xl,Bn,yl){return Bn==="left"?Fn=0:Bn==="center"?Fn=1:Bn==="right"?Fn=2:Fn=ls.constrain(Math.floor(Fn*3),0,2),yl==="bottom"?xl=0:yl==="middle"?xl=1:yl==="top"?xl=2:xl=ls.constrain(Math.floor(xl*3),0,2),_t[xl][Fn]}}),ww=a((Mu,yu)=>{var ls=Ly(),_t=R1(),Fn=Vp().getGraphDiv,xl=Dl(),Bn=yu.exports={};Bn.wrapped=function(yl,Sl,Al){yl=Fn(yl),yl._fullLayout&&_t.clear(yl._fullLayout._uid+xl.HOVERID),Bn.raw(yl,Sl,Al)},Bn.raw=function(yl,Sl){var Al=yl._fullLayout,Et=yl._hoverdata;Sl||(Sl={}),!(Sl.target&&!yl._dragged&&ls.triggerHandler(yl,"plotly_beforehover",Sl)===!1)&&(Al._hoverlayer.selectAll("g").remove(),Al._hoverlayer.selectAll("line").remove(),Al._hoverlayer.selectAll("circle").remove(),yl._hoverdata=void 0,Sl.target&&Et&&yl.emit("plotly_unhover",{event:Sl,points:Et}))}}),ky=a((Mu,yu)=>{var ls=yw(),_t=C2(),Fn=ix(),xl=vm().removeElement,Bn=A1(),yl=yu.exports={};yl.align=bw(),yl.getCursor=xw();var Sl=ww();yl.unhover=Sl.wrapped,yl.unhoverRaw=Sl.raw,yl.init=function(Pl){var El=Pl.gd,Fl=1,$l=El._context.doubleClickDelay,Nl=Pl.element,Ll,Ol,Bl,_l,Rl,Il,Hl,Kl;El._mouseDownTime||(El._mouseDownTime=0),Nl.style.pointerEvents="all",Nl.onmousedown=hu,Fn?(Nl._ontouchstart&&Nl.removeEventListener("touchstart",Nl._ontouchstart),Nl._ontouchstart=hu,Nl.addEventListener("touchstart",hu,{passive:!1})):Nl.ontouchstart=hu;function Gu(bu,Lu,Fu){return Math.abs(bu)<Fu&&(bu=0),Math.abs(Lu)<Fu&&(Lu=0),[bu,Lu]}var vu=Pl.clampFn||Gu;function hu(bu){El._dragged=!1,El._dragging=!0;var Lu=Et(bu);Ll=Lu[0],Ol=Lu[1],Hl=bu.target,Il=bu,Kl=bu.buttons===2||bu.ctrlKey,typeof bu.clientX>"u"&&typeof bu.clientY>"u"&&(bu.clientX=Ll,bu.clientY=Ol),Bl=new Date().getTime(),Bl-El._mouseDownTime<$l?Fl+=1:(Fl=1,El._mouseDownTime=Bl),Pl.prepFn&&Pl.prepFn(bu,Ll,Ol),_t&&!Kl?(Rl=Al(),Rl.style.cursor=window.getComputedStyle(Nl).cursor):_t||(Rl=document,_l=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(Nl).cursor),document.addEventListener("mouseup",$u),document.addEventListener("touchend",$u),Pl.dragmode!==!1&&(bu.preventDefault(),document.addEventListener("mousemove",Yl),document.addEventListener("touchmove",Yl,{passive:!1}))}function Yl(bu){bu.preventDefault();var Lu=Et(bu),Fu=Pl.minDrag||Bn.MINDRAG,Du=vu(Lu[0]-Ll,Lu[1]-Ol,Fu),Hu=Du[0],Vu=Du[1];(Hu||Vu)&&(El._dragged=!0,yl.unhover(El,bu)),El._dragged&&Pl.moveFn&&!Kl&&(El._dragdata={element:Nl,dx:Hu,dy:Vu},Pl.moveFn(Hu,Vu))}function $u(bu){if(delete El._dragdata,Pl.dragmode!==!1&&(bu.preventDefault(),document.removeEventListener("mousemove",Yl),document.removeEventListener("touchmove",Yl)),document.removeEventListener("mouseup",$u),document.removeEventListener("touchend",$u),_t?xl(Rl):_l&&(Rl.documentElement.style.cursor=_l,_l=null),!El._dragging){El._dragged=!1;return}if(El._dragging=!1,new Date().getTime()-El._mouseDownTime>$l&&(Fl=Math.max(Fl-1,1)),El._dragged)Pl.doneFn&&Pl.doneFn();else{var Lu;Il.target===Hl?Lu=Il:(Lu={target:Hl,srcElement:Hl,toElement:Hl},Object.keys(Il).concat(Object.keys(Il.__proto__)).forEach(Fu=>{var Du=Il[Fu];!Lu[Fu]&&typeof Du!="function"&&(Lu[Fu]=Du)})),Pl.clickFn&&Pl.clickFn(Fl,Lu),Kl||Hl.dispatchEvent(new MouseEvent("click",bu))}El._dragging=!1,El._dragged=!1}};function Al(){var Pl=document.createElement("div");Pl.className="dragcover";var El=Pl.style;return El.position="fixed",El.left=0,El.right=0,El.top=0,El.bottom=0,El.zIndex=999999999,El.background="none",document.body.appendChild(Pl),Pl}yl.coverSlip=Al;function Et(Pl){return ls(Pl.changedTouches?Pl.changedTouches[0]:Pl,document.body)}}),n2=a((Mu,yu)=>{yu.exports=function(ls,_t){(ls.attr("class")||"").split(" ").forEach(function(Fn){Fn.indexOf("cursor-")===0&&ls.classed(Fn,!1)}),_t&&ls.classed("cursor-"+_t,!0)}}),Cw=a((Mu,yu)=>{var ls=n2(),_t="data-savedcursor",Fn="!!";yu.exports=function(xl,Bn){var yl=xl.attr(_t);if(Bn){if(!yl){for(var Sl=(xl.attr("class")||"").split(" "),Al=0;Al<Sl.length;Al++){var Et=Sl[Al];Et.indexOf("cursor-")===0&&xl.attr(_t,Et.substr(7)).classed(Et,!1)}xl.attr(_t)||xl.attr(_t,Fn)}ls(xl,Bn)}else yl&&(xl.attr(_t,null),yl===Fn?ls(xl):ls(xl,yl))}}),ox=a((Mu,yu)=>{var ls=Ml(),_t=Ju();yu.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:_t.defaultLine,editType:"legend"},maxheight:{valType:"number",min:0,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:ls({editType:"legend"}),grouptitlefont:ls({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},indentation:{valType:"number",min:-15,dflt:0,editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:ls({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}}),u3=a(Mu=>{Mu.isGrouped=function(yu){return(yu.traceorder||"").indexOf("grouped")!==-1},Mu.isVertical=function(yu){return yu.orientation!=="h"},Mu.isReversed=function(yu){return(yu.traceorder||"").indexOf("reversed")!==-1}}),ax=a((Mu,yu)=>{var ls=Gp(),_t=vm(),Fn=hv(),xl=mu(),Bn=ox(),yl=tm(),Sl=u3();function Al(Et,Pl,El,Fl){var $l=Pl[Et]||{},Nl=Fn.newContainer(El,Et);function Ll(kp,Iu){return _t.coerce($l,Nl,Bn,kp,Iu)}var Ol=_t.coerceFont(Ll,"font",El.font);Ll("bgcolor",El.paper_bgcolor),Ll("bordercolor");var Bl=Ll("visible");if(Bl){for(var _l,Rl=function(kp,Iu){var Bu=_l._input,Xl=_l;return _t.coerce(Bu,Xl,xl,kp,Iu)},Il=El.font||{},Hl=_t.coerceFont(Ll,"grouptitlefont",Il,{overrideDflt:{size:Math.round(Il.size*1.1)}}),Kl=0,Gu=!1,vu="normal",hu=(El.shapes||[]).filter(function(kp){return kp.showlegend}),Yl=Fl.concat(hu).filter(function(kp){return Et===(kp.legend||"legend")}),$u=0;$u<Yl.length;$u++)if(_l=Yl[$u],!!_l.visible){var bu=_l._isShape;(_l.showlegend||_l._dfltShowLegend&&!(_l._module&&_l._module.attributes&&_l._module.attributes.showlegend&&_l._module.attributes.showlegend.dflt===!1))&&(Kl++,_l.showlegend&&(Gu=!0,(!bu&&ls.traceIs(_l,"pie-like")||_l._input.showlegend===!0)&&Kl++),_t.coerceFont(Rl,"legendgrouptitle.font",Hl)),(!bu&&ls.traceIs(_l,"bar")&&El.barmode==="stack"||["tonextx","tonexty"].indexOf(_l.fill)!==-1)&&(vu=Sl.isGrouped({traceorder:vu})?"grouped+reversed":"reversed"),_l.legendgroup!==void 0&&_l.legendgroup!==""&&(vu=Sl.isReversed({traceorder:vu})?"reversed+grouped":"grouped")}var Lu=_t.coerce(Pl,El,yl,"showlegend",Gu&&Kl>(Et==="legend"?1:0));if(Lu===!1&&(El[Et]=void 0),!(Lu===!1&&!$l.uirevision)&&(Ll("uirevision",El.uirevision),Lu!==!1)){Ll("borderwidth");var Fu=Ll("orientation"),Du=Ll("yref"),Hu=Ll("xref"),Vu=Fu==="h",gu=Du==="paper",Wu=Hu==="paper",qu,np,_h,ap="left";Vu?(qu=0,ls.getComponentMethod("rangeslider","isVisible")(Pl.xaxis)?gu?(np=1.1,_h="bottom"):(np=1,_h="top"):gu?(np=-.1,_h="top"):(np=0,_h="bottom")):(np=1,_h="auto",Wu?qu=1.02:(qu=1,ap="right")),_t.coerce($l,Nl,{x:{valType:"number",editType:"legend",min:Wu?-2:0,max:Wu?3:1,dflt:qu}},"x"),_t.coerce($l,Nl,{y:{valType:"number",editType:"legend",min:gu?-2:0,max:gu?3:1,dflt:np}},"y"),Ll("traceorder",vu),Sl.isGrouped(El[Et])&&Ll("tracegroupgap"),Ll("entrywidth"),Ll("entrywidthmode"),Ll("indentation"),Ll("itemsizing"),Ll("itemwidth"),Ll("itemclick"),Ll("itemdoubleclick"),Ll("groupclick"),Ll("xanchor",ap),Ll("yanchor",_h),Ll("maxheight"),Ll("valign"),_t.noneOrAll($l,Nl,["x","y"]);var bp=Ll("title.text");if(bp){Ll("title.side",Vu?"left":"top");var wp=_t.extendFlat({},Ol,{size:_t.bigFont(Ol.size)});_t.coerceFont(Ll,"title.font",wp)}}}}yu.exports=function(Et,Pl,El){var Fl,$l=El.slice(),Nl=Pl.shapes;if(Nl)for(Fl=0;Fl<Nl.length;Fl++){var Ll=Nl[Fl];if(Ll.showlegend){var Ol={_input:Ll._input,visible:Ll.visible,showlegend:Ll.showlegend,legend:Ll.legend};$l.push(Ol)}}var Bl=["legend"];for(Fl=0;Fl<$l.length;Fl++)_t.pushUnique(Bl,$l[Fl].legend);for(Pl._legends=[],Fl=0;Fl<Bl.length;Fl++){var _l=Bl[Fl];Al(_l,Et,Pl,$l),Pl[_l]&&(Pl[_l]._id=_l),Pl._legends.push(_l)}}}),Sw=a((Mu,yu)=>{var ls=Gp(),_t=vm(),Fn=_t.pushUnique,xl=!0;yu.exports=function(Bn,yl,Sl){var Al=yl._fullLayout;if(yl._dragged||yl._editing)return;var Et=Al.legend.itemclick,Pl=Al.legend.itemdoubleclick,El=Al.legend.groupclick;Sl===1&&Et==="toggle"&&Pl==="toggleothers"&&xl&&yl.data&&yl._context.showTips&&_t.notifier(_t._(yl,"Double-click on legend to isolate one trace"),"long"),xl=!1;var Fl;if(Sl===1?Fl=Et:Sl===2&&(Fl=Pl),!Fl)return;var $l=El==="togglegroup",Nl=Al.hiddenlabels?Al.hiddenlabels.slice():[],Ll=Bn.data()[0][0];if(Ll.groupTitle&&Ll.noClick)return;var Ol=yl._fullData,Bl=(Al.shapes||[]).filter(function(e0){return e0.showlegend}),_l=Ol.concat(Bl),Rl=Ll.trace;Rl._isShape&&(Rl=Rl._fullInput);var Il=Rl.legendgroup,Hl,Kl,Gu,vu,hu,Yl,$u={},bu=[],Lu=[],Fu=[];function Du(e0,Cp){var Mp=bu.indexOf(e0),sp=$u.visible;return sp||(sp=$u.visible=[]),bu.indexOf(e0)===-1&&(bu.push(e0),Mp=bu.length-1),sp[Mp]=Cp,Mp}var Hu=(Al.shapes||[]).map(function(e0){return e0._input}),Vu=!1;function gu(e0,Cp){Hu[e0].visible=Cp,Vu=!0}function Wu(e0,Cp){if(!(Ll.groupTitle&&!$l)){var Mp=e0._fullInput||e0,sp=Mp._isShape,Ip=Mp.index;Ip===void 0&&(Ip=Mp._index);var Jp=Mp.visible===!1?!1:Cp;sp?gu(Ip,Jp):Du(Ip,Jp)}}var qu=Rl.legend,np=Rl._fullInput,_h=np&&np._isShape;if(!_h&&ls.traceIs(Rl,"pie-like")){var ap=Ll.label,bp=Nl.indexOf(ap);if(Fl==="toggle")bp===-1?Nl.push(ap):Nl.splice(bp,1);else if(Fl==="toggleothers"){var wp=bp!==-1,kp=[];for(Hl=0;Hl<yl.calcdata.length;Hl++){var Iu=yl.calcdata[Hl];for(Kl=0;Kl<Iu.length;Kl++){var Bu=Iu[Kl],Xl=Bu.label;qu===Iu[0].trace.legend&&ap!==Xl&&(Nl.indexOf(Xl)===-1&&(wp=!0),Fn(Nl,Xl),kp.push(Xl))}}if(!wp)for(var Uu=0;Uu<kp.length;Uu++){var ep=Nl.indexOf(kp[Uu]);ep!==-1&&Nl.splice(ep,1)}}ls.call("_guiRelayout",yl,"hiddenlabels",Nl)}else{var _u=Il&&Il.length,Wl=[],Jl;if(_u)for(Hl=0;Hl<_l.length;Hl++)Jl=_l[Hl],Jl.visible&&Jl.legendgroup===Il&&Wl.push(Hl);if(Fl==="toggle"){var Pu;switch(Rl.visible){case!0:Pu="legendonly";break;case!1:Pu=!1;break;case"legendonly":Pu=!0;break}if(_u)if($l)for(Hl=0;Hl<_l.length;Hl++){var Nu=_l[Hl];Nu.visible!==!1&&Nu.legendgroup===Il&&Wu(Nu,Pu)}else Wu(Rl,Pu);else Wu(Rl,Pu)}else if(Fl==="toggleothers"){var tp,up,dp,Ap,Op,Zp=!0;for(Hl=0;Hl<_l.length;Hl++)if(Op=_l[Hl],tp=Op===Rl,dp=Op.showlegend!==!0,!(tp||dp)&&(up=_u&&Op.legendgroup===Il,!up&&Op.legend===qu&&Op.visible===!0&&!ls.traceIs(Op,"notLegendIsolatable"))){Zp=!1;break}for(Hl=0;Hl<_l.length;Hl++)if(Op=_l[Hl],!(Op.visible===!1||Op.legend!==qu)&&!ls.traceIs(Op,"notLegendIsolatable"))switch(Rl.visible){case"legendonly":Wu(Op,!0);break;case!0:Ap=Zp?!0:"legendonly",tp=Op===Rl,dp=Op.showlegend!==!0&&!Op.legendgroup,up=tp||_u&&Op.legendgroup===Il,Wu(Op,up||dp?!0:Ap);break}}for(Hl=0;Hl<Lu.length;Hl++)if(Gu=Lu[Hl],!!Gu){var u0=Gu.constructUpdate(),r0=Object.keys(u0);for(Kl=0;Kl<r0.length;Kl++)vu=r0[Kl],Yl=$u[vu]=$u[vu]||[],Yl[Fu[Hl]]=u0[vu]}for(hu=Object.keys($u),Hl=0;Hl<hu.length;Hl++)for(vu=hu[Hl],Kl=0;Kl<bu.length;Kl++)$u[vu].hasOwnProperty(Kl)||($u[vu][Kl]=void 0);Vu?ls.call("_guiUpdate",yl,$u,{shapes:Hu},bu):ls.call("_guiRestyle",yl,$u,bu)}}}),sx=a((Mu,yu)=>{yu.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}}),_2=a((Mu,yu)=>{var ls=Gp(),_t=u3();yu.exports=function(Fn,xl,Bn){var yl=xl._inHover,Sl=_t.isGrouped(xl),Al=_t.isReversed(xl),Et={},Pl=[],El=!1,Fl={},$l=0,Nl=0,Ll,Ol;function Bl(Wu,qu,np){if(xl.visible!==!1&&!(Bn&&Wu!==xl._id))if(qu===""||!_t.isGrouped(xl)){var _h="~~i"+$l;Pl.push(_h),Et[_h]=[np],$l++}else Pl.indexOf(qu)===-1?(Pl.push(qu),El=!0,Et[qu]=[np]):Et[qu].push(np)}for(Ll=0;Ll<Fn.length;Ll++){var _l=Fn[Ll],Rl=_l[0],Il=Rl.trace,Hl=Il.legend,Kl=Il.legendgroup;if(!(!yl&&(!Il.visible||!Il.showlegend)))if(ls.traceIs(Il,"pie-like"))for(Fl[Kl]||(Fl[Kl]={}),Ol=0;Ol<_l.length;Ol++){var Gu=_l[Ol].label;Fl[Kl][Gu]||(Bl(Hl,Kl,{label:Gu,color:_l[Ol].color,i:_l[Ol].i,trace:Il,pts:_l[Ol].pts}),Fl[Kl][Gu]=!0,Nl=Math.max(Nl,(Gu||"").length))}else Bl(Hl,Kl,Rl),Nl=Math.max(Nl,(Il.name||"").length)}if(!Pl.length)return[];var vu=!El||!Sl,hu=[];for(Ll=0;Ll<Pl.length;Ll++){var Yl=Et[Pl[Ll]];vu?hu.push(Yl[0]):hu.push(Yl)}for(vu&&(hu=[hu]),Ll=0;Ll<hu.length;Ll++){var $u=1/0;for(Ol=0;Ol<hu[Ll].length;Ol++){var bu=hu[Ll][Ol].trace.legendrank;$u>bu&&($u=bu)}hu[Ll][0]._groupMinRank=$u,hu[Ll][0]._preGroupSort=Ll}var Lu=function(Wu,qu){return Wu[0]._groupMinRank-qu[0]._groupMinRank||Wu[0]._preGroupSort-qu[0]._preGroupSort},Fu=function(Wu,qu){return Wu.trace.legendrank-qu.trace.legendrank||Wu._preSort-qu._preSort};for(hu.forEach(function(Wu,qu){Wu[0]._preGroupSort=qu}),hu.sort(Lu),Ll=0;Ll<hu.length;Ll++){hu[Ll].forEach(function(Wu,qu){Wu._preSort=qu}),hu[Ll].sort(Fu);var Du=hu[Ll][0].trace,Hu=null;for(Ol=0;Ol<hu[Ll].length;Ol++){var Vu=hu[Ll][Ol].trace.legendgrouptitle;if(Vu&&Vu.text){Hu=Vu,yl&&(Vu.font=xl._groupTitleFont);break}}if(Al&&hu[Ll].reverse(),Hu){var gu=!1;for(Ol=0;Ol<hu[Ll].length;Ol++)if(ls.traceIs(hu[Ll][Ol].trace,"pie-like")){gu=!0;break}hu[Ll].unshift({i:-1,groupTitle:Hu,noClick:gu,trace:{showlegend:Du.showlegend,legendgroup:Du.legendgroup,visible:xl.groupclick==="toggleitem"?!0:Du.visible}})}for(Ol=0;Ol<hu[Ll].length;Ol++)hu[Ll][Ol]=[hu[Ll][Ol]]}return xl._lgroupsLength=hu.length,xl._maxNameLength=Nl,hu}}),d3=a(Mu=>{var yu=vm();function ls(_t){return _t.indexOf("e")!==-1?_t.replace(/[.]?0+e/,"e"):_t.indexOf(".")!==-1?_t.replace(/[.]?0+$/,""):_t}Mu.formatPiePercent=function(_t,Fn){var xl=ls((_t*100).toPrecision(3));return yu.numSeparate(xl,Fn)+"%"},Mu.formatPieValue=function(_t,Fn){var xl=ls(_t.toPrecision(10));return yu.numSeparate(xl,Fn)},Mu.getFirstFilled=function(_t,Fn){if(yu.isArrayOrTypedArray(_t))for(var xl=0;xl<Fn.length;xl++){var Bn=_t[Fn[xl]];if(Bn||Bn===0||Bn==="")return Bn}},Mu.castOption=function(_t,Fn){if(yu.isArrayOrTypedArray(_t))return Mu.getFirstFilled(_t,Fn);if(_t)return _t},Mu.getRotationAngle=function(_t){return(_t==="auto"?0:_t)*Math.PI/180}}),_w=a((Mu,yu)=>{var ls=V1(),_t=cp();yu.exports=function(Fn,xl,Bn,yl){var Sl=Bn.marker.pattern;Sl&&Sl.shape?ls.pointStyle(Fn,Bn,yl,xl):_t.fill(Fn,xl.color)}}),h3=a((Mu,yu)=>{var ls=cp(),_t=d3().castOption,Fn=_w();yu.exports=function(xl,Bn,yl,Sl){var Al=yl.marker.line,Et=_t(Al.color,Bn.pts)||ls.defaultLine,Pl=_t(Al.width,Bn.pts)||0;xl.call(Fn,Bn,yl,Sl).style("stroke-width",Pl).call(ls.stroke,Et)}}),E2=a((Mu,yu)=>{var ls=g(),_t=Gp(),Fn=vm(),xl=Fn.strTranslate,Bn=V1(),yl=cp(),Sl=Yv().extractOpts,Al=cy(),Et=h3(),Pl=d3().castOption,El=sx(),Fl=12,$l=5,Nl=2,Ll=10,Ol=5;yu.exports=function(Il,Hl,Kl){var Gu=Hl._fullLayout;Kl||(Kl=Gu.legend);var vu=Kl.itemsizing==="constant",hu=Kl.itemwidth,Yl=(hu+El.itemGap*2)/2,$u=xl(Yl,0),bu=function(kp,Iu,Bu,Xl){var Uu;if(kp+1)Uu=kp;else if(Iu&&Iu.width>0)Uu=Iu.width;else return 0;return vu?Xl:Math.min(Uu,Bu)};Il.each(function(kp){var Iu=ls.select(this),Bu=Fn.ensureSingle(Iu,"g","layers");Bu.style("opacity",kp[0].trace.opacity);var Xl=Kl.indentation,Uu=Kl.valign,ep=kp[0].lineHeight,_u=kp[0].height;if(Uu==="middle"&&Xl===0||!ep||!_u)Bu.attr("transform",null);else{var Wl={top:1,bottom:-1}[Uu],Jl=Wl*(.5*(ep-_u+3))||0,Pu=Kl.indentation;Bu.attr("transform",xl(Pu,Jl))}var Nu=Bu.selectAll("g.legendfill").data([kp]);Nu.enter().append("g").classed("legendfill",!0);var tp=Bu.selectAll("g.legendlines").data([kp]);tp.enter().append("g").classed("legendlines",!0);var up=Bu.selectAll("g.legendsymbols").data([kp]);up.enter().append("g").classed("legendsymbols",!0),up.selectAll("g.legendpoints").data([kp]).enter().append("g").classed("legendpoints",!0)}).each(wp).each(Du).each(Vu).each(Hu).each(Wu).each(ap).each(_h).each(Lu).each(Fu).each(qu).each(np);function Lu(kp){var Iu=_l(kp),Bu=Iu.showFill,Xl=Iu.showLine,Uu=Iu.showGradientLine,ep=Iu.showGradientFill,_u=Iu.anyFill,Wl=Iu.anyLine,Jl=kp[0],Pu=Jl.trace,Nu,tp,up=Sl(Pu),dp=up.colorscale,Ap=up.reversescale,Op=function(sp){if(sp.size())if(Bu)Bn.fillGroupStyle(sp,Hl,!0);else{var Ip="legendfill-"+Pu.uid;Bn.gradient(sp,Hl,Ip,Bl(Ap),dp,"fill")}},Zp=function(sp){if(sp.size()){var Ip="legendline-"+Pu.uid;Bn.lineGroupStyle(sp),Bn.gradient(sp,Hl,Ip,Bl(Ap),dp,"stroke")}},u0=Al.hasMarkers(Pu)||!_u?"M5,0":Wl?"M5,-2":"M5,-3",r0=ls.select(this),e0=r0.select(".legendfill").selectAll("path").data(Bu||ep?[kp]:[]);if(e0.enter().append("path").classed("js-fill",!0),e0.exit().remove(),e0.attr("d",u0+"h"+hu+"v6h-"+hu+"z").call(Op),Xl||Uu){var Cp=bu(void 0,Pu.line,Ll,$l);tp=Fn.minExtend(Pu,{line:{width:Cp}}),Nu=[Fn.minExtend(Jl,{trace:tp})]}var Mp=r0.select(".legendlines").selectAll("path").data(Xl||Uu?[Nu]:[]);Mp.enter().append("path").classed("js-line",!0),Mp.exit().remove(),Mp.attr("d",u0+(Uu?"l"+hu+",0.0001":"h"+hu)).call(Xl?Bn.lineGroupStyle:Zp)}function Fu(kp){var Iu=_l(kp),Bu=Iu.anyFill,Xl=Iu.anyLine,Uu=Iu.showLine,ep=Iu.showMarker,_u=kp[0],Wl=_u.trace,Jl=!ep&&!Xl&&!Bu&&Al.hasText(Wl),Pu,Nu;function tp(e0,Cp,Mp,sp){var Ip=Fn.nestedProperty(Wl,e0).get(),Jp=Fn.isArrayOrTypedArray(Ip)&&Cp?Cp(Ip):Ip;if(vu&&Jp&&sp!==void 0&&(Jp=sp),Mp){if(Jp<Mp[0])return Mp[0];if(Jp>Mp[1])return Mp[1]}return Jp}function up(e0){return _u._distinct&&_u.index&&e0[_u.index]?e0[_u.index]:e0[0]}if(ep||Jl||Uu){var dp={},Ap={};if(ep){dp.mc=tp("marker.color",up),dp.mx=tp("marker.symbol",up),dp.mo=tp("marker.opacity",Fn.mean,[.2,1]),dp.mlc=tp("marker.line.color",up),dp.mlw=tp("marker.line.width",Fn.mean,[0,5],Nl),Ap.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Op=tp("marker.size",Fn.mean,[2,16],Fl);dp.ms=Op,Ap.marker.size=Op}Uu&&(Ap.line={width:tp("line.width",up,[0,10],$l)}),Jl&&(dp.tx="Aa",dp.tp=tp("textposition",up),dp.ts=10,dp.tc=tp("textfont.color",up),dp.tf=tp("textfont.family",up),dp.tw=tp("textfont.weight",up),dp.ty=tp("textfont.style",up),dp.tv=tp("textfont.variant",up),dp.tC=tp("textfont.textcase",up),dp.tE=tp("textfont.lineposition",up),dp.tS=tp("textfont.shadow",up)),Pu=[Fn.minExtend(_u,dp)],Nu=Fn.minExtend(Wl,Ap),Nu.selectedpoints=null,Nu.texttemplate=null}var Zp=ls.select(this).select("g.legendpoints"),u0=Zp.selectAll("path.scatterpts").data(ep?Pu:[]);u0.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",$u),u0.exit().remove(),u0.call(Bn.pointStyle,Nu,Hl),ep&&(Pu[0].mrc=3);var r0=Zp.selectAll("g.pointtext").data(Jl?Pu:[]);r0.enter().append("g").classed("pointtext",!0).append("text").attr("transform",$u),r0.exit().remove(),r0.selectAll("text").call(Bn.textPointStyle,Nu,Hl)}function Du(kp){var Iu=kp[0].trace,Bu=Iu.type==="waterfall";if(kp[0]._distinct&&Bu){var Xl=kp[0].trace[kp[0].dir].marker;return kp[0].mc=Xl.color,kp[0].mlw=Xl.line.width,kp[0].mlc=Xl.line.color,gu(kp,this,"waterfall")}var Uu=[];Iu.visible&&Bu&&(Uu=kp[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var ep=ls.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(Uu);ep.enter().append("path").classed("legendwaterfall",!0).attr("transform",$u).style("stroke-miterlimit",1),ep.exit().remove(),ep.each(function(_u){var Wl=ls.select(this),Jl=Iu[_u[0]].marker,Pu=bu(void 0,Jl.line,Ol,Nl);Wl.attr("d",_u[1]).style("stroke-width",Pu+"px").call(yl.fill,Jl.color),Pu&&Wl.call(yl.stroke,Jl.line.color)})}function Hu(kp){gu(kp,this)}function Vu(kp){gu(kp,this,"funnel")}function gu(kp,Iu,Bu){var Xl=kp[0].trace,Uu=Xl.marker||{},ep=Uu.line||{},_u=Uu.cornerradius?"M6,3a3,3,0,0,1-3,3H-3a3,3,0,0,1-3-3V-3a3,3,0,0,1,3-3H3a3,3,0,0,1,3,3Z":"M6,6H-6V-6H6Z",Wl=Bu?Xl.visible&&Xl.type===Bu:_t.traceIs(Xl,"bar"),Jl=ls.select(Iu).select("g.legendpoints").selectAll("path.legend"+Bu).data(Wl?[kp]:[]);Jl.enter().append("path").classed("legend"+Bu,!0).attr("d",_u).attr("transform",$u),Jl.exit().remove(),Jl.each(function(Pu){var Nu=ls.select(this),tp=Pu[0],up=bu(tp.mlw,Uu.line,Ol,Nl);Nu.style("stroke-width",up+"px");var dp=tp.mcc;if(!Kl._inHover&&"mc"in tp){var Ap=Sl(Uu),Op=Ap.mid;Op===void 0&&(Op=(Ap.max+Ap.min)/2),dp=Bn.tryColorscale(Uu,"")(Op)}var Zp=dp||tp.mc||Uu.color,u0=Uu.pattern,r0=Bn.getPatternAttr,e0=u0&&(r0(u0.shape,0,"")||r0(u0.path,0,""));if(e0){var Cp=r0(u0.bgcolor,0,null),Mp=r0(u0.fgcolor,0,null),sp=u0.fgopacity,Ip=Rl(u0.size,8,10),Jp=Rl(u0.solidity,.5,1),a0="legend-"+Xl.uid;Nu.call(Bn.pattern,"legend",Hl,a0,e0,Ip,Jp,dp,u0.fillmode,Cp,Mp,sp)}else Nu.call(yl.fill,Zp);up&&yl.stroke(Nu,tp.mlc||ep.color)})}function Wu(kp){var Iu=kp[0].trace,Bu=ls.select(this).select("g.legendpoints").selectAll("path.legendbox").data(Iu.visible&&_t.traceIs(Iu,"box-violin")?[kp]:[]);Bu.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",$u),Bu.exit().remove(),Bu.each(function(){var Xl=ls.select(this);if((Iu.boxpoints==="all"||Iu.points==="all")&&yl.opacity(Iu.fillcolor)===0&&yl.opacity((Iu.line||{}).color)===0){var Uu=Fn.minExtend(Iu,{marker:{size:vu?Fl:Fn.constrain(Iu.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});Bu.call(Bn.pointStyle,Uu,Hl)}else{var ep=bu(void 0,Iu.line,Ol,Nl);Xl.style("stroke-width",ep+"px").call(yl.fill,Iu.fillcolor),ep&&yl.stroke(Xl,Iu.line.color)}})}function qu(kp){var Iu=kp[0].trace,Bu=ls.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(Iu.visible&&Iu.type==="candlestick"?[kp,kp]:[]);Bu.enter().append("path").classed("legendcandle",!0).attr("d",function(Xl,Uu){return Uu?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",$u).style("stroke-miterlimit",1),Bu.exit().remove(),Bu.each(function(Xl,Uu){var ep=ls.select(this),_u=Iu[Uu?"increasing":"decreasing"],Wl=bu(void 0,_u.line,Ol,Nl);ep.style("stroke-width",Wl+"px").call(yl.fill,_u.fillcolor),Wl&&yl.stroke(ep,_u.line.color)})}function np(kp){var Iu=kp[0].trace,Bu=ls.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(Iu.visible&&Iu.type==="ohlc"?[kp,kp]:[]);Bu.enter().append("path").classed("legendohlc",!0).attr("d",function(Xl,Uu){return Uu?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",$u).style("stroke-miterlimit",1),Bu.exit().remove(),Bu.each(function(Xl,Uu){var ep=ls.select(this),_u=Iu[Uu?"increasing":"decreasing"],Wl=bu(void 0,_u.line,Ol,Nl);ep.style("fill","none").call(Bn.dashLine,_u.line.dash,Wl),Wl&&yl.stroke(ep,_u.line.color)})}function _h(kp){bp(kp,this,"pie")}function ap(kp){bp(kp,this,"funnelarea")}function bp(kp,Iu,Bu){var Xl=kp[0],Uu=Xl.trace,ep=Bu?Uu.visible&&Uu.type===Bu:_t.traceIs(Uu,Bu),_u=ls.select(Iu).select("g.legendpoints").selectAll("path.legend"+Bu).data(ep?[kp]:[]);if(_u.enter().append("path").classed("legend"+Bu,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",$u),_u.exit().remove(),_u.size()){var Wl=Uu.marker||{},Jl=bu(Pl(Wl.line.width,Xl.pts),Wl.line,Ol,Nl),Pu="pieLike",Nu=Fn.minExtend(Uu,{marker:{line:{width:Jl}}},Pu),tp=Fn.minExtend(Xl,{trace:Nu},Pu);Et(_u,tp,Nu,Hl)}}function wp(kp){var Iu=kp[0].trace,Bu,Xl=[];if(Iu.visible)switch(Iu.type){case"histogram2d":case"heatmap":Xl=[["M-15,-2V4H15V-2Z"]],Bu=!0;break;case"choropleth":case"choroplethmapbox":case"choroplethmap":Xl=[["M-6,-6V6H6V-6Z"]],Bu=!0;break;case"densitymapbox":case"densitymap":Xl=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],Bu="radial";break;case"cone":Xl=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],Bu=!1;break;case"streamtube":Xl=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],Bu=!1;break;case"surface":Xl=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],Bu=!0;break;case"mesh3d":Xl=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Bu=!1;break;case"volume":Xl=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],Bu=!0;break;case"isosurface":Xl=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],Bu=!1;break}var Uu=ls.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(Xl);Uu.enter().append("path").classed("legend3dandfriends",!0).attr("transform",$u).style("stroke-miterlimit",1),Uu.exit().remove(),Uu.each(function(ep,_u){var Wl=ls.select(this),Jl=Sl(Iu),Pu=Jl.colorscale,Nu=Jl.reversescale,tp=function(Op){if(Op.size()){var Zp="legendfill-"+Iu.uid;Bn.gradient(Op,Hl,Zp,Bl(Nu,Bu==="radial"),Pu,"fill")}},up;if(Pu){if(!Bu){var dp=Pu.length;up=_u===0?Pu[Nu?dp-1:0][1]:_u===1?Pu[Nu?0:dp-1][1]:Pu[Math.floor((dp-1)/2)][1]}}else{var Ap=Iu.vertexcolor||Iu.facecolor||Iu.color;up=Fn.isArrayOrTypedArray(Ap)?Ap[_u]||Ap[0]:Ap}Wl.attr("d",ep[0]),up?Wl.call(yl.fill,up):Wl.call(tp)})}};function Bl(Il,Hl){var Kl=Hl?"radial":"horizontal";return Kl+(Il?"":"reversed")}function _l(Il){var Hl=Il[0].trace,Kl=Hl.contours,Gu=Al.hasLines(Hl),vu=Al.hasMarkers(Hl),hu=Hl.visible&&Hl.fill&&Hl.fill!=="none",Yl=!1,$u=!1;if(Kl){var bu=Kl.coloring;bu==="lines"?Yl=!0:Gu=bu==="none"||bu==="heatmap"||Kl.showlines,Kl.type==="constraint"?hu=Kl._operation!=="=":(bu==="fill"||bu==="heatmap")&&($u=!0)}return{showMarker:vu,showLine:Gu,showFill:hu,showGradientLine:Yl,showGradientFill:$u,anyLine:Gu||Yl,anyFill:hu||$u}}function Rl(Il,Hl,Kl){return Il&&Fn.isArrayOrTypedArray(Il)?Hl:Il>Kl?Kl:Il}}),p3=a((Mu,yu)=>{var ls=g(),_t=vm(),Fn=Fv(),xl=Gp(),Bn=Ly(),yl=ky(),Sl=V1(),Al=cp(),Et=Wv(),Pl=Sw(),El=sx(),Fl=qv(),$l=Fl.LINE_SPACING,Nl=Fl.FROM_TL,Ll=Fl.FROM_BR,Ol=_2(),Bl=E2(),_l=u3(),Rl=1,Il=/^legend[0-9]*$/;yu.exports=function(qu,np){if(np)Kl(qu,np);else{var _h=qu._fullLayout,ap=_h._legends,bp=_h._infolayer.selectAll('[class^="legend"]');bp.each(function(){var Bu=ls.select(this),Xl=Bu.attr("class"),Uu=Xl.split(" ")[0];Uu.match(Il)&&ap.indexOf(Uu)===-1&&Bu.remove()});for(var wp=0;wp<ap.length;wp++){var kp=ap[wp],Iu=qu._fullLayout[kp];Kl(qu,Iu)}}};function Hl(qu,np,_h){if(!(np.title.side!=="top center"&&np.title.side!=="top right")){var ap=np.title.font,bp=ap.size*$l,wp=0,kp=qu.node(),Iu=Sl.bBox(kp).width;np.title.side==="top center"?wp=.5*(np._width-2*_h-2*El.titlePad-Iu):np.title.side==="top right"&&(wp=np._width-2*_h-2*El.titlePad-Iu),Et.positionText(qu,_h+El.titlePad+wp,_h+bp)}}function Kl(qu,np){var _h=np||{},ap=qu._fullLayout,bp=Wu(_h),wp,kp,Iu=_h._inHover;if(Iu?(kp=_h.layer,wp="hover"):(kp=ap._infolayer,wp=bp),!!kp){wp+=ap._uid,qu._legendMouseDownTime||(qu._legendMouseDownTime=0);var Bu;if(Iu){if(!_h.entries)return;Bu=Ol(_h.entries,_h)}else{for(var Xl=(qu.calcdata||[]).slice(),Uu=ap.shapes,ep=0;ep<Uu.length;ep++){var _u=Uu[ep];if(_u.showlegend){var Wl={_isShape:!0,_fullInput:_u,index:_u._index,name:_u.name||_u.label.text||"shape "+_u._index,legend:_u.legend,legendgroup:_u.legendgroup,legendgrouptitle:_u.legendgrouptitle,legendrank:_u.legendrank,legendwidth:_u.legendwidth,showlegend:_u.showlegend,visible:_u.visible,opacity:_u.opacity,mode:_u.type==="line"?"lines":"markers",line:_u.line,marker:{line:_u.line,color:_u.fillcolor,size:12,symbol:_u.type==="rect"?"square":_u.type==="circle"?"circle":"hexagon2"}};Xl.push([{trace:Wl}])}}Bu=ap.showlegend&&Ol(Xl,_h,ap._legends.length>1)}var Jl=ap.hiddenlabels||[];if(!Iu&&(!ap.showlegend||!Bu.length))return kp.selectAll("."+bp).remove(),ap._topdefs.select("#"+wp).remove(),Fn.autoMargin(qu,bp);var Pu=_t.ensureSingle(kp,"g",bp,function(r0){Iu||r0.attr("pointer-events","all")}),Nu=_t.ensureSingleById(ap._topdefs,"clipPath",wp,function(r0){r0.append("rect")}),tp=_t.ensureSingle(Pu,"rect","bg",function(r0){r0.attr("shape-rendering","crispEdges")});tp.call(Al.stroke,_h.bordercolor).call(Al.fill,_h.bgcolor).style("stroke-width",_h.borderwidth+"px");var up=_t.ensureSingle(Pu,"g","scrollbox"),dp=_h.title;_h._titleWidth=0,_h._titleHeight=0;var Ap;dp.text?(Ap=_t.ensureSingle(up,"text",bp+"titletext"),Ap.attr("text-anchor","start").call(Sl.font,dp.font).text(dp.text),bu(Ap,up,qu,_h,Rl)):up.selectAll("."+bp+"titletext").remove();var Op=_t.ensureSingle(Pu,"rect","scrollbar",function(r0){r0.attr(El.scrollBarEnterAttrs).call(Al.fill,El.scrollBarColor)}),Zp=up.selectAll("g.groups").data(Bu);Zp.enter().append("g").attr("class","groups"),Zp.exit().remove();var u0=Zp.selectAll("g.traces").data(_t.identity);u0.enter().append("g").attr("class","traces"),u0.exit().remove(),u0.style("opacity",function(r0){var e0=r0[0].trace;return xl.traceIs(e0,"pie-like")?Jl.indexOf(r0[0].label)!==-1?.5:1:e0.visible==="legendonly"?.5:1}).each(function(){ls.select(this).call(hu,qu,_h)}).call(Bl,qu,_h).each(function(){Iu||ls.select(this).call($u,qu,bp)}),_t.syncOrAsync([Fn.previousPromises,function(){return Du(qu,Zp,u0,_h)},function(){var r0=ap._size,e0=_h.borderwidth,Cp=_h.xref==="paper",Mp=_h.yref==="paper";if(dp.text&&Hl(Ap,_h,e0),!Iu){var sp,Ip;Cp?sp=r0.l+r0.w*_h.x-Nl[Vu(_h)]*_h._width:sp=ap.width*_h.x-Nl[Vu(_h)]*_h._width,Mp?Ip=r0.t+r0.h*(1-_h.y)-Nl[gu(_h)]*_h._effHeight:Ip=ap.height*(1-_h.y)-Nl[gu(_h)]*_h._effHeight;var Jp=Hu(qu,bp,sp,Ip);if(Jp)return;if(ap.margin.autoexpand){var a0=sp,v0=Ip;sp=Cp?_t.constrain(sp,0,ap.width-_h._width):a0,Ip=Mp?_t.constrain(Ip,0,ap.height-_h._effHeight):v0,sp!==a0&&_t.log("Constrain "+bp+".x to make legend fit inside graph"),Ip!==v0&&_t.log("Constrain "+bp+".y to make legend fit inside graph")}Sl.setTranslate(Pu,sp,Ip)}if(Op.on(".drag",null),Pu.on("wheel",null),Iu||_h._height<=_h._maxHeight||qu._context.staticPlot){var h0=_h._effHeight;Iu&&(h0=_h._height),tp.attr({width:_h._width-e0,height:h0-e0,x:e0/2,y:e0/2}),Sl.setTranslate(up,0,0),Nu.select("rect").attr({width:_h._width-2*e0,height:h0-2*e0,x:e0,y:e0}),Sl.setClipUrl(up,wp,qu),Sl.setRect(Op,0,0,0,0),delete _h._scrollY}else{var w0=Math.max(El.scrollBarMinHeight,_h._effHeight*_h._effHeight/_h._height),E0=_h._effHeight-w0-2*El.scrollBarMargin,_0=_h._height-_h._effHeight,$0=E0/_0,f0=Math.min(_h._scrollY||0,_0);tp.attr({width:_h._width-2*e0+El.scrollBarWidth+El.scrollBarMargin,height:_h._effHeight-e0,x:e0/2,y:e0/2}),Nu.select("rect").attr({width:_h._width-2*e0+El.scrollBarWidth+El.scrollBarMargin,height:_h._effHeight-2*e0,x:e0,y:e0+f0}),Sl.setClipUrl(up,wp,qu),lp(f0,w0,$0),Pu.on("wheel",function(){f0=_t.constrain(_h._scrollY+ls.event.deltaY/E0*_0,0,_0),lp(f0,w0,$0),f0!==0&&f0!==_0&&ls.event.preventDefault()});var q0,J0,V0,nm=function(Xp,c0,i0){var s0=(i0-c0)/$0+Xp;return _t.constrain(s0,0,_0)},Ep=function(Xp,c0,i0){var s0=(c0-i0)/$0+Xp;return _t.constrain(s0,0,_0)},$p=ls.behavior.drag().on("dragstart",function(){var Xp=ls.event.sourceEvent;Xp.type==="touchstart"?q0=Xp.changedTouches[0].clientY:q0=Xp.clientY,V0=f0}).on("drag",function(){var Xp=ls.event.sourceEvent;Xp.buttons===2||Xp.ctrlKey||(Xp.type==="touchmove"?J0=Xp.changedTouches[0].clientY:J0=Xp.clientY,f0=nm(V0,q0,J0),lp(f0,w0,$0))});Op.call($p);var Zu=ls.behavior.drag().on("dragstart",function(){var Xp=ls.event.sourceEvent;Xp.type==="touchstart"&&(q0=Xp.changedTouches[0].clientY,V0=f0)}).on("drag",function(){var Xp=ls.event.sourceEvent;Xp.type==="touchmove"&&(J0=Xp.changedTouches[0].clientY,f0=Ep(V0,q0,J0),lp(f0,w0,$0))});up.call(Zu)}function lp(Xp,c0,i0){_h._scrollY=qu._fullLayout[bp]._scrollY=Xp,Sl.setTranslate(up,0,-Xp),Sl.setRect(Op,_h._width,El.scrollBarMargin+Xp*i0,El.scrollBarWidth,c0),Nu.select("rect").attr("y",e0+Xp)}if(qu._context.edits.legendPosition){var mp,Tp,Lp,Up;Pu.classed("cursor-move",!0),yl.init({element:Pu.node(),gd:qu,prepFn:function(Xp){if(Xp.target!==Op.node()){var c0=Sl.getTranslate(Pu);Lp=c0.x,Up=c0.y}},moveFn:function(Xp,c0){if(Lp!==void 0&&Up!==void 0){var i0=Lp+Xp,s0=Up+c0;Sl.setTranslate(Pu,i0,s0),mp=yl.align(i0,_h._width,r0.l,r0.l+r0.w,_h.xanchor),Tp=yl.align(s0+_h._height,-_h._height,r0.t+r0.h,r0.t,_h.yanchor)}},doneFn:function(){if(mp!==void 0&&Tp!==void 0){var Xp={};Xp[bp+".x"]=mp,Xp[bp+".y"]=Tp,xl.call("_guiRelayout",qu,Xp)}},clickFn:function(Xp,c0){var i0=kp.selectAll("g.traces").filter(function(){var s0=this.getBoundingClientRect();return c0.clientX>=s0.left&&c0.clientX<=s0.right&&c0.clientY>=s0.top&&c0.clientY<=s0.bottom});i0.size()>0&&vu(qu,Pu,i0,Xp,c0)}})}}],qu)}}function Gu(qu,np,_h){var ap=qu[0],bp=ap.width,wp=np.entrywidthmode,kp=ap.trace.legendwidth||np.entrywidth;return wp==="fraction"?np._maxWidth*kp:_h+(kp||bp)}function vu(qu,np,_h,ap,bp){var wp=_h.data()[0][0].trace,kp={event:bp,node:_h.node(),curveNumber:wp.index,expandedIndex:wp.index,data:qu.data,layout:qu.layout,frames:qu._transitionData._frames,config:qu._context,fullData:qu._fullData,fullLayout:qu._fullLayout};wp._group&&(kp.group=wp._group),xl.traceIs(wp,"pie-like")&&(kp.label=_h.datum()[0].label);var Iu=Bn.triggerHandler(qu,"plotly_legendclick",kp);if(ap===1){if(Iu===!1)return;np._clickTimeout=setTimeout(function(){qu._fullLayout&&Pl(_h,qu,ap)},qu._context.doubleClickDelay)}else if(ap===2){np._clickTimeout&&clearTimeout(np._clickTimeout),qu._legendMouseDownTime=0;var Bu=Bn.triggerHandler(qu,"plotly_legenddoubleclick",kp);Bu!==!1&&Iu!==!1&&Pl(_h,qu,ap)}}function hu(qu,np,_h){var ap=Wu(_h),bp=qu.data()[0][0],wp=bp.trace,kp=xl.traceIs(wp,"pie-like"),Iu=!_h._inHover&&np._context.edits.legendText&&!kp,Bu=_h._maxNameLength,Xl,Uu;bp.groupTitle?(Xl=bp.groupTitle.text,Uu=bp.groupTitle.font):(Uu=_h.font,_h.entries?Xl=bp.text:(Xl=kp?bp.label:wp.name,wp._meta&&(Xl=_t.templateString(Xl,wp._meta))));var ep=_t.ensureSingle(qu,"text",ap+"text");ep.attr("text-anchor","start").call(Sl.font,Uu).text(Iu?Yl(Xl,Bu):Xl);var _u=_h.indentation+_h.itemwidth+El.itemGap*2;Et.positionText(ep,_u,0),Iu?ep.call(Et.makeEditable,{gd:np,text:Xl}).call(bu,qu,np,_h).on("edit",function(Wl){this.text(Yl(Wl,Bu)).call(bu,qu,np,_h);var Jl=bp.trace._fullInput||{},Pu={};return Pu.name=Wl,Jl._isShape?xl.call("_guiRelayout",np,"shapes["+wp.index+"].name",Pu.name):xl.call("_guiRestyle",np,Pu,wp.index)}):bu(ep,qu,np,_h)}function Yl(qu,np){var _h=Math.max(4,np);if(qu&&qu.trim().length>=_h/2)return qu;qu=qu||"";for(var ap=_h-qu.length;ap>0;ap--)qu+=" ";return qu}function $u(qu,np,_h){var ap=np._context.doubleClickDelay,bp,wp=1,kp=_t.ensureSingle(qu,"rect",_h+"toggle",function(Iu){np._context.staticPlot||Iu.style("cursor","pointer").attr("pointer-events","all"),Iu.call(Al.fill,"rgba(0,0,0,0)")});np._context.staticPlot||(kp.on("mousedown",function(){bp=new Date().getTime(),bp-np._legendMouseDownTime<ap?wp+=1:(wp=1,np._legendMouseDownTime=bp)}),kp.on("mouseup",function(){if(!(np._dragged||np._editing)){var Iu=np._fullLayout[_h];new Date().getTime()-np._legendMouseDownTime>ap&&(wp=Math.max(wp-1,1)),vu(np,Iu,qu,wp,ls.event)}}))}function bu(qu,np,_h,ap,bp){ap._inHover&&qu.attr("data-notex",!0),Et.convertToTspans(qu,_h,function(){Lu(np,_h,ap,bp)})}function Lu(qu,np,_h,ap){var bp=qu.data()[0][0];if(!_h._inHover&&bp&&!bp.trace.showlegend){qu.remove();return}var wp=qu.select("g[class*=math-group]"),kp=wp.node(),Iu=Wu(_h);_h||(_h=np._fullLayout[Iu]);var Bu=_h.borderwidth,Xl;ap===Rl?Xl=_h.title.font:bp.groupTitle?Xl=bp.groupTitle.font:Xl=_h.font;var Uu=Xl.size*$l,ep,_u;if(kp){var Wl=Sl.bBox(kp);ep=Wl.height,_u=Wl.width,ap===Rl?Sl.setTranslate(wp,Bu,Bu+ep*.75):Sl.setTranslate(wp,0,ep*.25)}else{var Jl="."+Iu+(ap===Rl?"title":"")+"text",Pu=qu.select(Jl),Nu=Et.lineCount(Pu),tp=Pu.node();if(ep=Uu*Nu,_u=tp?Sl.bBox(tp).width:0,ap===Rl)_h.title.side==="left"&&(_u+=El.itemGap*2),Et.positionText(Pu,Bu+El.titlePad,Bu+Uu);else{var up=El.itemGap*2+_h.indentation+_h.itemwidth;bp.groupTitle&&(up=El.itemGap,_u-=_h.indentation+_h.itemwidth),Et.positionText(Pu,up,-Uu*((Nu-1)/2-.3))}}ap===Rl?(_h._titleWidth=_u,_h._titleHeight=ep):(bp.lineHeight=Uu,bp.height=Math.max(ep,16)+3,bp.width=_u)}function Fu(qu){var np=0,_h=0,ap=qu.title.side;return ap&&(ap.indexOf("left")!==-1&&(np=qu._titleWidth),ap.indexOf("top")!==-1&&(_h=qu._titleHeight)),[np,_h]}function Du(qu,np,_h,ap){var bp=qu._fullLayout,wp=Wu(ap);ap||(ap=bp[wp]);var kp=bp._size,Iu=_l.isVertical(ap),Bu=_l.isGrouped(ap),Xl=ap.entrywidthmode==="fraction",Uu=ap.borderwidth,ep=2*Uu,_u=El.itemGap,Wl=ap.indentation+ap.itemwidth+_u*2,Jl=2*(Uu+_u),Pu=gu(ap),Nu=ap.y<0||ap.y===0&&Pu==="top",tp=ap.y>1||ap.y===1&&Pu==="bottom",up=ap.tracegroupgap,dp={};let{orientation:Ap,yref:Op}=ap,{maxheight:Zp}=ap,u0=Nu||tp||Ap!=="v"||Op!=="paper";Zp||(Zp=u0?.5:1);let r0=u0?bp.height:kp.h;ap._maxHeight=Math.max(Zp>1?Zp:Zp*r0,30);var e0=0;ap._width=0,ap._height=0;var Cp=Fu(ap);if(Iu)_h.each(function(lp){var mp=lp[0].height;Sl.setTranslate(this,Uu+Cp[0],Uu+Cp[1]+ap._height+mp/2+_u),ap._height+=mp,ap._width=Math.max(ap._width,lp[0].width)}),e0=Wl+ap._width,ap._width+=_u+Wl+ep,ap._height+=Jl,Bu&&(np.each(function(lp,mp){Sl.setTranslate(this,0,mp*ap.tracegroupgap)}),ap._height+=(ap._lgroupsLength-1)*ap.tracegroupgap);else{var Mp=Vu(ap),sp=ap.x<0||ap.x===0&&Mp==="right",Ip=ap.x>1||ap.x===1&&Mp==="left",Jp=tp||Nu,a0=bp.width/2;ap._maxWidth=Math.max(sp?Jp&&Mp==="left"?kp.l+kp.w:a0:Ip?Jp&&Mp==="right"?kp.r+kp.w:a0:kp.w,2*Wl);var v0=0,h0=0;_h.each(function(lp){var mp=Gu(lp,ap,Wl);v0=Math.max(v0,mp),h0+=mp}),e0=null;var w0=0;if(Bu){var E0=0,_0=0,$0=0;np.each(function(){var lp=0,mp=0;ls.select(this).selectAll("g.traces").each(function(Lp){var Up=Gu(Lp,ap,Wl),Xp=Lp[0].height;Sl.setTranslate(this,Cp[0],Cp[1]+Uu+_u+Xp/2+mp),mp+=Xp,lp=Math.max(lp,Up),dp[Lp[0].trace.legendgroup]=lp});var Tp=lp+_u;_0>0&&Tp+Uu+_0>ap._maxWidth?(w0=Math.max(w0,_0),_0=0,$0+=E0+up,E0=mp):E0=Math.max(E0,mp),Sl.setTranslate(this,_0,$0),_0+=Tp}),ap._width=Math.max(w0,_0)+Uu,ap._height=$0+E0+Jl}else{var f0=_h.size(),q0=h0+ep+(f0-1)*_u<ap._maxWidth,J0=0,V0=0,nm=0,Ep=0;_h.each(function(lp){var mp=lp[0].height,Tp=Gu(lp,ap,Wl),Lp=q0?Tp:v0;Xl||(Lp+=_u),Lp+Uu+V0-_u>=ap._maxWidth&&(w0=Math.max(w0,Ep),V0=0,nm+=J0,ap._height+=J0,J0=0),Sl.setTranslate(this,Cp[0]+Uu+V0,Cp[1]+Uu+nm+mp/2+_u),Ep=V0+Tp+_u,V0+=Lp,J0=Math.max(J0,mp)}),q0?(ap._width=V0+ep,ap._height=J0+Jl):(ap._width=Math.max(w0,Ep)+ep,ap._height+=J0+Jl)}}ap._width=Math.ceil(Math.max(ap._width+Cp[0],ap._titleWidth+2*(Uu+El.titlePad))),ap._height=Math.ceil(Math.max(ap._height+Cp[1],ap._titleHeight+2*(Uu+El.itemGap))),ap._effHeight=Math.min(ap._height,ap._maxHeight);var $p=qu._context.edits,Zu=$p.legendText||$p.legendPosition;_h.each(function(lp){var mp=ls.select(this).select("."+wp+"toggle"),Tp=lp[0].height,Lp=lp[0].trace.legendgroup,Up=Gu(lp,ap,Wl);Bu&&Lp!==""&&(Up=dp[Lp]);var Xp=Zu?Wl:e0||Up;!Iu&&!Xl&&(Xp+=_u/2),Sl.setRect(mp,0,-Tp/2,Xp,Tp)})}function Hu(qu,np,_h,ap){var bp=qu._fullLayout,wp=bp[np],kp=Vu(wp),Iu=gu(wp),Bu=wp.xref==="paper",Xl=wp.yref==="paper";qu._fullLayout._reservedMargin[np]={};var Uu=wp.y<.5?"b":"t",ep=wp.x<.5?"l":"r",_u={r:bp.width-_h,l:_h+wp._width,b:bp.height-ap,t:ap+wp._effHeight};if(Bu&&Xl)return Fn.autoMargin(qu,np,{x:wp.x,y:wp.y,l:wp._width*Nl[kp],r:wp._width*Ll[kp],b:wp._effHeight*Ll[Iu],t:wp._effHeight*Nl[Iu]});Bu?qu._fullLayout._reservedMargin[np][Uu]=_u[Uu]:Xl||wp.orientation==="v"?qu._fullLayout._reservedMargin[np][ep]=_u[ep]:qu._fullLayout._reservedMargin[np][Uu]=_u[Uu]}function Vu(qu){return _t.isRightAnchor(qu)?"right":_t.isCenterAnchor(qu)?"center":"left"}function gu(qu){return _t.isBottomAnchor(qu)?"bottom":_t.isMiddleAnchor(qu)?"middle":"top"}function Wu(qu){return qu._id||"legend"}}),p2=a(Mu=>{var yu=g(),ls=rt(),_t=zl(),Fn=vm(),xl=Fn.pushUnique,Bn=Fn.strTranslate,yl=Fn.strRotate,Sl=Ly(),Al=Wv(),Et=Cw(),Pl=V1(),El=cp(),Fl=ky(),$l=pv(),Nl=A1().zindexSeparator,Ll=Gp(),Ol=Ny(),Bl=Dl(),_l=ax(),Rl=p3(),Il=Bl.YANGLE,Hl=Math.PI*Il/180,Kl=1/Math.sin(Hl),Gu=Math.cos(Hl),vu=Math.sin(Hl),hu=Bl.HOVERARROWSIZE,Yl=Bl.HOVERTEXTPAD,$u={box:!0,ohlc:!0,violin:!0,candlestick:!0},bu={scatter:!0,scattergl:!0,splom:!0};function Lu(Wl,Jl){return Wl.distance-Jl.distance}Mu.hover=function(Wl,Jl,Pu,Nu){Wl=Fn.getGraphDiv(Wl);var tp=Jl.target;Fn.throttle(Wl._fullLayout._uid+Bl.HOVERID,Bl.HOVERMINTIME,function(){Fu(Wl,Jl,Pu,Nu,tp)})},Mu.loneHover=function(Wl,Jl){var Pu=!0;Array.isArray(Wl)||(Pu=!1,Wl=[Wl]);var Nu=Jl.gd,tp=Uu(Nu),up=ep(Nu),dp=Wl.map(function(sp){var Ip=sp._x0||sp.x0||sp.x||0,Jp=sp._x1||sp.x1||sp.x||0,a0=sp._y0||sp.y0||sp.y||0,v0=sp._y1||sp.y1||sp.y||0,h0=sp.eventData;if(h0){var w0=Math.min(Ip,Jp),E0=Math.max(Ip,Jp),_0=Math.min(a0,v0),$0=Math.max(a0,v0),f0=sp.trace;if(Ll.traceIs(f0,"gl3d")){var q0=Nu._fullLayout[f0.scene]._scene.container,J0=q0.offsetLeft,V0=q0.offsetTop;w0+=J0,E0+=J0,_0+=V0,$0+=V0}h0.bbox={x0:w0+up,x1:E0+up,y0:_0+tp,y1:$0+tp},Jl.inOut_bbox&&Jl.inOut_bbox.push(h0.bbox)}else h0=!1;return{color:sp.color||El.defaultLine,x0:sp.x0||sp.x||0,x1:sp.x1||sp.x||0,y0:sp.y0||sp.y||0,y1:sp.y1||sp.y||0,xLabel:sp.xLabel,yLabel:sp.yLabel,zLabel:sp.zLabel,text:sp.text,name:sp.name,idealAlign:sp.idealAlign,borderColor:sp.borderColor,fontFamily:sp.fontFamily,fontSize:sp.fontSize,fontColor:sp.fontColor,fontWeight:sp.fontWeight,fontStyle:sp.fontStyle,fontVariant:sp.fontVariant,nameLength:sp.nameLength,textAlign:sp.textAlign,trace:sp.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:sp.hovertemplate||!1,hovertemplateLabels:sp.hovertemplateLabels||!1,eventData:h0}}),Ap=!1,Op=Vu(dp,{gd:Nu,hovermode:"closest",rotateLabels:Ap,bgColor:Jl.bgColor||El.background,container:yu.select(Jl.container),outerContainer:Jl.outerContainer||Jl.container}),Zp=Op.hoverLabels,u0=5,r0=0,e0=0;Zp.sort(function(sp,Ip){return sp.y0-Ip.y0}).each(function(sp,Ip){var Jp=sp.y0-sp.by/2;Jp-u0<r0?sp.offset=r0-Jp+u0:sp.offset=0,r0=Jp+sp.by+sp.offset,Ip===Jl.anchorIndex&&(e0=sp.offset)}).each(function(sp){sp.offset-=e0});var Cp=Nu._fullLayout._invScaleX,Mp=Nu._fullLayout._invScaleY;return _h(Zp,Ap,Cp,Mp),Pu?Zp:Zp.node()};function Fu(Wl,Jl,Pu,Nu,tp){Pu||(Pu="xy"),typeof Pu=="string"&&(Pu=Pu.split(Nl)[0]);var up=Array.isArray(Pu)?Pu:[Pu],dp,Ap=Wl._fullLayout,Op=Ap.hoversubplots,Zp=Ap._plots||[],u0=Zp[Pu],r0=Ap._has("cartesian"),e0=Jl.hovermode||Ap.hovermode,Cp=(e0||"").charAt(0)==="x",Mp=(e0||"").charAt(0)==="y",sp,Ip;if(r0&&(Cp||Mp)&&Op==="axis"){for(var Jp=up.length,a0=0;a0<Jp;a0++)if(dp=up[a0],Zp[dp]){sp=$l.getFromId(Wl,dp,"x"),Ip=$l.getFromId(Wl,dp,"y");var v0=(Cp?sp:Ip)._subplotsWith;if(v0&&v0.length)for(var h0=0;h0<v0.length;h0++)xl(up,v0[h0])}}if(u0&&Op!=="single"){var w0=u0.overlays.map(function(g1){return g1.id});up=up.concat(w0)}for(var E0=up.length,_0=new Array(E0),$0=new Array(E0),f0=!1,q0=0;q0<E0;q0++)if(dp=up[q0],Zp[dp])f0=!0,_0[q0]=Zp[dp].xaxis,$0[q0]=Zp[dp].yaxis;else if(Ap[dp]&&Ap[dp]._subplot){var J0=Ap[dp]._subplot;_0[q0]=J0.xaxis,$0[q0]=J0.yaxis}else{Fn.warn("Unrecognized subplot: "+dp);return}if(e0&&!f0&&(e0="closest"),["x","y","closest","x unified","y unified"].indexOf(e0)===-1||!Wl.calcdata||Wl.querySelector(".zoombox")||Wl._dragging)return Fl.unhoverRaw(Wl,Jl);var V0=Ap.hoverdistance;V0===-1&&(V0=1/0);var nm=Ap.spikedistance;nm===-1&&(nm=1/0);var Ep=[],$p=[],Zu,lp,mp,Tp,Lp,Up,Xp,c0,i0,s0,M0,A0,R0,rm={hLinePoint:null,vLinePoint:null},wm=!1;if(Array.isArray(Jl))for(e0="array",mp=0;mp<Jl.length;mp++)Lp=Wl.calcdata[Jl[mp].curveNumber||0],Lp&&(Up=Lp[0].trace,Lp[0].trace.hoverinfo!=="skip"&&($p.push(Lp),Up.orientation==="h"&&(wm=!0)));else{var Bm=Wl.calcdata.slice();for(Bm.sort(function(g1,cv){var Q1=g1[0].trace.zorder||0,y1=cv[0].trace.zorder||0;return Q1-y1}),Tp=0;Tp<Bm.length;Tp++)Lp=Bm[Tp],Up=Lp[0].trace,Up.hoverinfo!=="skip"&&Ol.isTraceInSubplots(Up,up)&&($p.push(Lp),Up.orientation==="h"&&(wm=!0));var Vm=!tp,Ym,_m;if(Vm)"xpx"in Jl?Ym=Jl.xpx:Ym=_0[0]._length/2,"ypx"in Jl?_m=Jl.ypx:_m=$0[0]._length/2;else{if(Sl.triggerHandler(Wl,"plotly_beforehover",Jl)===!1)return;var sm=tp.getBoundingClientRect();Ym=Jl.clientX-sm.left,_m=Jl.clientY-sm.top,Ap._calcInverseTransform(Wl);var zm=Fn.apply3DTransform(Ap._invTransform)(Ym,_m);if(Ym=zm[0],_m=zm[1],Ym<0||Ym>_0[0]._length||_m<0||_m>$0[0]._length)return Fl.unhoverRaw(Wl,Jl)}if(Jl.pointerX=Ym+_0[0]._offset,Jl.pointerY=_m+$0[0]._offset,"xval"in Jl?Zu=Ol.flat(up,Jl.xval):Zu=Ol.p2c(_0,Ym),"yval"in Jl?lp=Ol.flat(up,Jl.yval):lp=Ol.p2c($0,_m),!ls(Zu[0])||!ls(lp[0]))return Fn.warn("Fx.hover failed",Jl,Wl),Fl.unhoverRaw(Wl,Jl)}var Wm=1/0;function Im(g1,cv){for(Tp=0;Tp<$p.length;Tp++)if(Lp=$p[Tp],!(!Lp||!Lp[0]||!Lp[0].trace)&&(Up=Lp[0].trace,!(Up.visible!==!0||Up._length===0)&&["carpet","contourcarpet"].indexOf(Up._module.name)===-1)){if(i0=e0,Ol.isUnifiedHover(i0)&&(i0=i0.charAt(0)),Up.type==="splom"?(c0=0,Xp=up[c0]):(Xp=Ol.getSubplot(Up),c0=up.indexOf(Xp)),A0={cd:Lp,trace:Up,xa:_0[c0],ya:$0[c0],maxHoverDistance:V0,maxSpikeDistance:nm,index:!1,distance:Math.min(Wm,V0),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:El.defaultLine,name:Up.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ap[Xp]&&(A0.subplot=Ap[Xp]._subplot),Ap._splomScenes&&Ap._splomScenes[Up.uid]&&(A0.scene=Ap._splomScenes[Up.uid]),i0==="array"){var Q1=Jl[Tp];"pointNumber"in Q1?(A0.index=Q1.pointNumber,i0="closest"):(i0="","xval"in Q1&&(s0=Q1.xval,i0="x"),"yval"in Q1&&(M0=Q1.yval,i0=i0?"closest":"y"))}else g1!==void 0&&cv!==void 0?(s0=g1,M0=cv):(s0=Zu[c0],M0=lp[c0]);if(R0=Ep.length,V0!==0)if(Up._module&&Up._module.hoverPoints){var y1=Up._module.hoverPoints(A0,s0,M0,i0,{finiteRange:!0,hoverLayer:Ap._hoverlayer,hoversubplots:Op,gd:Wl});if(y1)for(var ev,av=0;av<y1.length;av++)ev=y1[av],ls(ev.x0)&&ls(ev.y0)&&Ep.push(ap(ev,e0))}else Fn.log("Unrecognized trace type in hover:",Up);if(e0==="closest"&&Ep.length>R0&&(Ep.splice(0,R0),Wm=Ep[0].distance),r0&&nm!==0&&Ep.length===0){A0.distance=nm,A0.index=!1;var tv=Up._module.hoverPoints(A0,s0,M0,"closest",{hoverLayer:Ap._hoverlayer});if(tv&&(tv=tv.filter(function(U1){return U1.spikeDistance<=nm})),tv&&tv.length){var Ev,Uv=tv.filter(function(U1){return U1.xa.showspikes&&U1.xa.spikesnap!=="hovered data"});if(Uv.length){var T1=Uv[0];ls(T1.x0)&&ls(T1.y0)&&(Ev=Fm(T1),(!rm.vLinePoint||rm.vLinePoint.spikeDistance>Ev.spikeDistance)&&(rm.vLinePoint=Ev))}var W1=tv.filter(function(U1){return U1.ya.showspikes&&U1.ya.spikesnap!=="hovered data"});if(W1.length){var N1=W1[0];ls(N1.x0)&&ls(N1.y0)&&(Ev=Fm(N1),(!rm.hLinePoint||rm.hLinePoint.spikeDistance>Ev.spikeDistance)&&(rm.hLinePoint=Ev))}}}}}Im();function Am(g1,cv,Q1){for(var y1=null,ev=1/0,av,tv=0;tv<g1.length;tv++)sp&&sp._id!==g1[tv].xa._id||Ip&&Ip._id!==g1[tv].ya._id||(av=g1[tv].spikeDistance,Q1&&tv===0&&(av=-1/0),av<=ev&&av<=cv&&(y1=g1[tv],ev=av));return y1}function Fm(g1){return g1?{xa:g1.xa,ya:g1.ya,x:g1.xSpike!==void 0?g1.xSpike:(g1.x0+g1.x1)/2,y:g1.ySpike!==void 0?g1.ySpike:(g1.y0+g1.y1)/2,distance:g1.distance,spikeDistance:g1.spikeDistance,curveNumber:g1.trace.index,color:g1.color,pointNumber:g1.index}:null}var Sm={fullLayout:Ap,container:Ap._hoverlayer,event:Jl};Wl._spikepoints;var e1={vLinePoint:rm.vLinePoint,hLinePoint:rm.hLinePoint};Wl._spikepoints=e1;var u1=function(){var g1=Ep.filter(function(Q1){return sp&&sp._id===Q1.xa._id&&Ip&&Ip._id===Q1.ya._id}),cv=Ep.filter(function(Q1){return!(sp&&sp._id===Q1.xa._id&&Ip&&Ip._id===Q1.ya._id)});g1.sort(Lu),cv.sort(Lu),Ep=g1.concat(cv),Ep=Bu(Ep,e0)};u1();var jm=e0.charAt(0),d1=(jm==="x"||jm==="y")&&Ep[0]&&bu[Ep[0].trace.type];if(r0&&nm!==0&&Ep.length!==0){var m1=Ep.filter(function(g1){return g1.ya.showspikes}),S1=Am(m1,nm,d1);rm.hLinePoint=Fm(S1);var _1=Ep.filter(function(g1){return g1.xa.showspikes}),n1=Am(_1,nm,d1);rm.vLinePoint=Fm(n1)}if(Ep.length===0){var b1=Fl.unhoverRaw(Wl,Jl);return r0&&(rm.hLinePoint!==null||rm.vLinePoint!==null)&&kp()&&bp(Wl,rm,Sm),b1}if(r0&&kp()&&bp(Wl,rm,Sm),Ol.isXYhover(i0)&&Ep[0].length!==0&&Ep[0].trace.type!=="splom"){var f1=Ep[0];$u[f1.trace.type]?Ep=Ep.filter(function(g1){return g1.trace.index===f1.trace.index}):Ep=[f1];var km=Ep.length,D1=Xl("x",f1,Ap),_d=Xl("y",f1,Ap);Im(D1,_d);var Xu=[],Bp={},qp=0,_f=function(g1){var cv=$u[g1.trace.type]?Du(g1):g1.trace.index;if(!Bp[cv])qp++,Bp[cv]=qp,Xu.push(g1);else{var Q1=Bp[cv]-1,y1=Xu[Q1];Q1>0&&Math.abs(g1.distance)<Math.abs(y1.distance)&&(Xu[Q1]=g1)}},zp;for(zp=0;zp<km;zp++)_f(Ep[zp]);for(zp=Ep.length-1;zp>km-1;zp--)_f(Ep[zp]);Ep=Xu,u1()}var Hp=Wl._hoverdata,t0=[],Qp=Uu(Wl),p0=ep(Wl);for(mp=0;mp<Ep.length;mp++){var y0=Ep[mp],H0=Ol.makeEventData(y0,y0.trace,y0.cd);if(y0.hovertemplate!==!1){var ym=!1;y0.cd[y0.index]&&y0.cd[y0.index].ht&&(ym=y0.cd[y0.index].ht),y0.hovertemplate=ym||y0.trace.hovertemplate||!1}if(y0.xa&&y0.ya){var pm=y0.x0+y0.xa._offset,Tm=y0.x1+y0.xa._offset,um=y0.y0+y0.ya._offset,Rm=y0.y1+y0.ya._offset,Gm=Math.min(pm,Tm),x1=Math.max(pm,Tm),t1=Math.min(um,Rm),O1=Math.max(um,Rm);H0.bbox={x0:Gm+p0,x1:x1+p0,y0:t1+Qp,y1:O1+Qp}}y0.eventData=[H0],t0.push(H0)}Wl._hoverdata=t0;var p1=e0==="y"&&($p.length>1||Ep.length>1)||e0==="closest"&&wm&&Ep.length>1,$1=El.combine(Ap.plot_bgcolor||El.background,Ap.paper_bgcolor),L1=Vu(Ep,{gd:Wl,hovermode:e0,rotateLabels:p1,bgColor:$1,container:Ap._hoverlayer,outerContainer:Ap._paper.node(),commonLabelOpts:Ap.hoverlabel,hoverdistance:Ap.hoverdistance}),ov=L1.hoverLabels;if(Ol.isUnifiedHover(e0)||(Wu(ov,p1,Ap,L1.commonLabelBoundingBox),_h(ov,p1,Ap._invScaleX,Ap._invScaleY)),tp&&tp.tagName){var X1=Ll.getComponentMethod("annotations","hasClickToShow")(Wl,t0);Et(yu.select(tp),X1?"pointer":"")}!tp||Nu||!wp(Wl,Jl,Hp)||(Hp&&Wl.emit("plotly_unhover",{event:Jl,points:Hp}),Wl.emit("plotly_hover",{event:Jl,points:Wl._hoverdata,xaxes:_0,yaxes:$0,xvals:Zu,yvals:lp}))}function Du(Wl){return[Wl.trace.index,Wl.index,Wl.x0,Wl.y0,Wl.name,Wl.attr,Wl.xa?Wl.xa._id:"",Wl.ya?Wl.ya._id:""].join(",")}var Hu=/<extra>([\s\S]*)<\/extra>/;function Vu(Wl,Jl){var Pu=Jl.gd,Nu=Pu._fullLayout,tp=Jl.hovermode,up=Jl.rotateLabels,dp=Jl.bgColor,Ap=Jl.container,Op=Jl.outerContainer,Zp=Jl.commonLabelOpts||{};if(Wl.length===0)return[[]];var u0=Jl.fontFamily||Bl.HOVERFONT,r0=Jl.fontSize||Bl.HOVERFONTSIZE,e0=Jl.fontWeight||Nu.font.weight,Cp=Jl.fontStyle||Nu.font.style,Mp=Jl.fontVariant||Nu.font.variant,sp=Jl.fontTextcase||Nu.font.textcase,Ip=Jl.fontLineposition||Nu.font.lineposition,Jp=Jl.fontShadow||Nu.font.shadow,a0=Wl[0],v0=a0.xa,h0=a0.ya,w0=tp.charAt(0),E0=w0+"Label",_0=a0[E0];if(_0===void 0&&v0.type==="multicategory")for(var $0=0;$0<Wl.length&&(_0=Wl[$0][E0],_0===void 0);$0++);var f0=_u(Pu,Op),q0=f0.top,J0=f0.width,V0=f0.height,nm=_0!==void 0&&a0.distance<=Jl.hoverdistance&&(tp==="x"||tp==="y");if(nm){var Ep=!0,$p,Zu;for($p=0;$p<Wl.length;$p++)if(Ep&&Wl[$p].zLabel===void 0&&(Ep=!1),Zu=Wl[$p].hoverinfo||Wl[$p].trace.hoverinfo,Zu){var lp=Array.isArray(Zu)?Zu:Zu.split("+");if(lp.indexOf("all")===-1&&lp.indexOf(tp)===-1){nm=!1;break}}Ep&&(nm=!1)}var mp=Ap.selectAll("g.axistext").data(nm?[0]:[]);mp.enter().append("g").classed("axistext",!0),mp.exit().remove();var Tp={minX:0,maxX:0,minY:0,maxY:0};if(mp.each(function(){var km=yu.select(this),D1=Fn.ensureSingle(km,"path","",function(p1){p1.style({"stroke-width":"1px"})}),_d=Fn.ensureSingle(km,"text","",function(p1){p1.attr("data-notex",1)}),Xu=Zp.bgcolor||El.defaultLine,Bp=Zp.bordercolor||El.contrast(Xu),qp=El.contrast(Xu),_f=Zp.font,zp={weight:_f.weight||e0,style:_f.style||Cp,variant:_f.variant||Mp,textcase:_f.textcase||sp,lineposition:_f.lineposition||Ip,shadow:_f.shadow||Jp,family:_f.family||u0,size:_f.size||r0,color:_f.color||qp};D1.style({fill:Xu,stroke:Bp}),_d.text(_0).call(Pl.font,zp).call(Al.positionText,0,0).call(Al.convertToTspans,Pu),km.attr("transform","");var Hp=_u(Pu,_d.node()),t0,Qp;if(tp==="x"){var p0=v0.side==="top"?"-":"";_d.attr("text-anchor","middle").call(Al.positionText,0,v0.side==="top"?q0-Hp.bottom-hu-Yl:q0-Hp.top+hu+Yl),t0=v0._offset+(a0.x0+a0.x1)/2,Qp=h0._offset+(v0.side==="top"?0:h0._length);var y0=Hp.width/2+Yl,H0=t0;t0<y0?H0=y0:t0>Nu.width-y0&&(H0=Nu.width-y0),D1.attr("d","M"+(t0-H0)+",0L"+(t0-H0+hu)+","+p0+hu+"H"+y0+"v"+p0+(Yl*2+Hp.height)+"H"+-y0+"V"+p0+hu+"H"+(t0-H0-hu)+"Z"),t0=H0,Tp.minX=t0-y0,Tp.maxX=t0+y0,v0.side==="top"?(Tp.minY=Qp-(Yl*2+Hp.height),Tp.maxY=Qp-Yl):(Tp.minY=Qp+Yl,Tp.maxY=Qp+(Yl*2+Hp.height))}else{var ym,pm,Tm;h0.side==="right"?(ym="start",pm=1,Tm="",t0=v0._offset+v0._length):(ym="end",pm=-1,Tm="-",t0=v0._offset),Qp=h0._offset+(a0.y0+a0.y1)/2,_d.attr("text-anchor",ym),D1.attr("d","M0,0L"+Tm+hu+","+hu+"V"+(Yl+Hp.height/2)+"h"+Tm+(Yl*2+Hp.width)+"V-"+(Yl+Hp.height/2)+"H"+Tm+hu+"V-"+hu+"Z"),Tp.minY=Qp-(Yl+Hp.height/2),Tp.maxY=Qp+(Yl+Hp.height/2),h0.side==="right"?(Tp.minX=t0+hu,Tp.maxX=t0+hu+(Yl*2+Hp.width)):(Tp.minX=t0-hu-(Yl*2+Hp.width),Tp.maxX=t0-hu);var um=Hp.height/2,Rm=q0-Hp.top-um,Gm="clip"+Nu._uid+"commonlabel"+h0._id,x1;if(t0<Hp.width+2*Yl+hu){x1="M-"+(hu+Yl)+"-"+um+"h-"+(Hp.width-Yl)+"V"+um+"h"+(Hp.width-Yl)+"Z";var t1=Hp.width-t0+Yl;Al.positionText(_d,t1,Rm),ym==="end"&&_d.selectAll("tspan").each(function(){var p1=yu.select(this),$1=Pl.tester.append("text").text(p1.text()).call(Pl.font,zp),L1=_u(Pu,$1.node());Math.round(L1.width)<Math.round(Hp.width)&&p1.attr("x",t1-L1.width),$1.remove()})}else Al.positionText(_d,pm*(Yl+hu),Rm),x1=null;var O1=Nu._topclips.selectAll("#"+Gm).data(x1?[0]:[]);O1.enter().append("clipPath").attr("id",Gm).append("path"),O1.exit().remove(),O1.select("path").attr("d",x1),Pl.setClipUrl(_d,x1?Gm:null,Pu)}km.attr("transform",Bn(t0,Qp))}),Ol.isUnifiedHover(tp)){Ap.selectAll("g.hovertext").remove();var Lp=Wl.filter(function(km){return km.hoverinfo!=="none"});if(Lp.length===0)return[];var Up=Nu.hoverlabel,Xp=Up.font,c0=Lp[0],i0=((tp==="x unified"?c0.xa:c0.ya).unifiedhovertitle||{}).text,s0=i0?Fn.hovertemplateString(i0,{},Nu._d3locale,tp==="x unified"?{xa:c0.xa,x:c0.xVal}:{ya:c0.ya,y:c0.yVal}):_0,M0={showlegend:!0,legend:{title:{text:s0,font:Xp},font:Xp,bgcolor:Up.bgcolor,bordercolor:Up.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:Nu.legend?Nu.legend.traceorder:void 0,orientation:"v"}},A0={font:Xp};_l(M0,A0,Pu._fullData);var R0=A0.legend;R0.entries=[];for(var rm=0;rm<Lp.length;rm++){var wm=Lp[rm];if(wm.hoverinfo!=="none"){var Bm=gu(wm,!0,tp,Nu,_0),Vm=Bm[0],Ym=Bm[1];wm.name=Ym,Ym!==""?wm.text=Ym+" : "+Vm:wm.text=Vm;var _m=wm.cd[wm.index];_m&&(_m.mc&&(wm.mc=_m.mc),_m.mcc&&(wm.mc=_m.mcc),_m.mlc&&(wm.mlc=_m.mlc),_m.mlcc&&(wm.mlc=_m.mlcc),_m.mlw&&(wm.mlw=_m.mlw),_m.mrc&&(wm.mrc=_m.mrc),_m.dir&&(wm.dir=_m.dir)),wm._distinct=!0,R0.entries.push([wm])}}R0.entries.sort(function(km,D1){return km[0].trace.index-D1[0].trace.index}),R0.layer=Ap,R0._inHover=!0,R0._groupTitleFont=Up.grouptitlefont,Rl(Pu,R0);var sm=Ap.select("g.legend"),zm=_u(Pu,sm.node()),Wm=zm.width+2*Yl,Im=zm.height+2*Yl,Am=Lp[0],Fm=(Am.x0+Am.x1)/2,Sm=(Am.y0+Am.y1)/2,e1=!(Ll.traceIs(Am.trace,"bar-like")||Ll.traceIs(Am.trace,"box-violin")),u1,jm;w0==="y"?e1?(jm=Sm-Yl,u1=Sm+Yl):(jm=Math.min.apply(null,Lp.map(function(km){return Math.min(km.y0,km.y1)})),u1=Math.max.apply(null,Lp.map(function(km){return Math.max(km.y0,km.y1)}))):jm=u1=Fn.mean(Lp.map(function(km){return(km.y0+km.y1)/2}))-Im/2;var d1,m1;w0==="x"?e1?(d1=Fm+Yl,m1=Fm-Yl):(d1=Math.max.apply(null,Lp.map(function(km){return Math.max(km.x0,km.x1)})),m1=Math.min.apply(null,Lp.map(function(km){return Math.min(km.x0,km.x1)}))):d1=m1=Fn.mean(Lp.map(function(km){return(km.x0+km.x1)/2}))-Wm/2;var S1=v0._offset,_1=h0._offset;u1+=_1,d1+=S1,m1+=S1-Wm,jm+=_1-Im;var n1,b1;return d1+Wm<J0&&d1>=0?n1=d1:m1+Wm<J0&&m1>=0?n1=m1:S1+Wm<J0?n1=S1:d1-Fm<Fm-m1+Wm?n1=J0-Wm:n1=0,n1+=Yl,u1+Im<V0&&u1>=0?b1=u1:jm+Im<V0&&jm>=0?b1=jm:_1+Im<V0?b1=_1:u1-Sm<Sm-jm+Im?b1=V0-Im:b1=0,b1+=Yl,sm.attr("transform",Bn(n1-1,b1-1)),sm}var f1=Ap.selectAll("g.hovertext").data(Wl,function(km){return Du(km)});return f1.enter().append("g").classed("hovertext",!0).each(function(){var km=yu.select(this);km.append("rect").call(El.fill,El.addOpacity(dp,.8)),km.append("text").classed("name",!0),km.append("path").style("stroke-width","1px"),km.append("text").classed("nums",!0).call(Pl.font,{weight:e0,style:Cp,variant:Mp,textcase:sp,lineposition:Ip,shadow:Jp,family:u0,size:r0})}),f1.exit().remove(),f1.each(function(km){var D1=yu.select(this).attr("transform",""),_d=km.color;Array.isArray(_d)&&(_d=_d[km.eventData[0].pointNumber]);var Xu=km.bgcolor||_d,Bp=El.combine(El.opacity(Xu)?Xu:El.defaultLine,dp),qp=El.combine(El.opacity(_d)?_d:El.defaultLine,dp),_f=km.borderColor||El.contrast(Bp),zp=gu(km,nm,tp,Nu,_0,D1),Hp=zp[0],t0=zp[1],Qp=D1.select("text.nums").call(Pl.font,{family:km.fontFamily||u0,size:km.fontSize||r0,color:km.fontColor||_f,weight:km.fontWeight||e0,style:km.fontStyle||Cp,variant:km.fontVariant||Mp,textcase:km.fontTextcase||sp,lineposition:km.fontLineposition||Ip,shadow:km.fontShadow||Jp}).text(Hp).attr("data-notex",1).call(Al.positionText,0,0).call(Al.convertToTspans,Pu),p0=D1.select("text.name"),y0=0,H0=0;if(t0&&t0!==Hp){p0.call(Pl.font,{family:km.fontFamily||u0,size:km.fontSize||r0,color:qp,weight:km.fontWeight||e0,style:km.fontStyle||Cp,variant:km.fontVariant||Mp,textcase:km.fontTextcase||sp,lineposition:km.fontLineposition||Ip,shadow:km.fontShadow||Jp}).text(t0).attr("data-notex",1).call(Al.positionText,0,0).call(Al.convertToTspans,Pu);var ym=_u(Pu,p0.node());y0=ym.width+2*Yl,H0=ym.height+2*Yl}else p0.remove(),D1.select("rect").remove();D1.select("path").style({fill:Bp,stroke:_f});var pm=km.xa._offset+(km.x0+km.x1)/2,Tm=km.ya._offset+(km.y0+km.y1)/2,um=Math.abs(km.x1-km.x0),Rm=Math.abs(km.y1-km.y0),Gm=_u(Pu,Qp.node()),x1=Gm.width/Nu._invScaleX,t1=Gm.height/Nu._invScaleY;km.ty0=(q0-Gm.top)/Nu._invScaleY,km.bx=x1+2*Yl,km.by=Math.max(t1+2*Yl,H0),km.anchor="start",km.txwidth=x1,km.tx2width=y0,km.offset=0;var O1=(x1+hu+Yl+y0)*Nu._invScaleX,p1,$1;if(up)km.pos=pm,p1=Tm+Rm/2+O1<=V0,$1=Tm-Rm/2-O1>=0,(km.idealAlign==="top"||!p1)&&$1?(Tm-=Rm/2,km.anchor="end"):p1?(Tm+=Rm/2,km.anchor="start"):km.anchor="middle",km.crossPos=Tm;else{if(km.pos=Tm,p1=pm+um/2+O1<=J0,$1=pm-um/2-O1>=0,(km.idealAlign==="left"||!p1)&&$1)pm-=um/2,km.anchor="end";else if(p1)pm+=um/2,km.anchor="start";else{km.anchor="middle";var L1=O1/2,ov=pm+L1-J0,X1=pm-L1;ov>0&&(pm-=ov),X1<0&&(pm+=-X1)}km.crossPos=pm}Qp.attr("text-anchor",km.anchor),y0&&p0.attr("text-anchor",km.anchor),D1.attr("transform",Bn(pm,Tm)+(up?yl(Il):""))}),{hoverLabels:f1,commonLabelBoundingBox:Tp}}function gu(Wl,Jl,Pu,Nu,tp,up){var dp="",Ap="";Wl.nameOverride!==void 0&&(Wl.name=Wl.nameOverride),Wl.name&&(Wl.trace._meta&&(Wl.name=Fn.templateString(Wl.name,Wl.trace._meta)),dp=Iu(Wl.name,Wl.nameLength));var Op=Pu.charAt(0),Zp=Op==="x"?"y":"x";Wl.zLabel!==void 0?(Wl.xLabel!==void 0&&(Ap+="x: "+Wl.xLabel+"<br>"),Wl.yLabel!==void 0&&(Ap+="y: "+Wl.yLabel+"<br>"),Wl.trace.type!=="choropleth"&&Wl.trace.type!=="choroplethmapbox"&&Wl.trace.type!=="choroplethmap"&&(Ap+=(Ap?"z: ":"")+Wl.zLabel)):Jl&&Wl[Op+"Label"]===tp?Ap=Wl[Zp+"Label"]||"":Wl.xLabel===void 0?Wl.yLabel!==void 0&&Wl.trace.type!=="scattercarpet"&&(Ap=Wl.yLabel):Wl.yLabel===void 0?Ap=Wl.xLabel:Ap="("+Wl.xLabel+", "+Wl.yLabel+")",(Wl.text||Wl.text===0)&&!Array.isArray(Wl.text)&&(Ap+=(Ap?"<br>":"")+Wl.text),Wl.extraText!==void 0&&(Ap+=(Ap?"<br>":"")+Wl.extraText),up&&Ap===""&&!Wl.hovertemplate&&(dp===""&&up.remove(),Ap=dp);var u0=Wl.hovertemplate||!1;if(u0){var r0=Wl.hovertemplateLabels||Wl;Wl[Op+"Label"]!==tp&&(r0[Op+"other"]=r0[Op+"Val"],r0[Op+"otherLabel"]=r0[Op+"Label"]),Ap=Fn.hovertemplateString(u0,r0,Nu._d3locale,Wl.eventData[0]||{},Wl.trace._meta),Ap=Ap.replace(Hu,function(e0,Cp){return dp=Iu(Cp,Wl.nameLength),""})}return[Ap,dp]}function Wu(Wl,Jl,Pu,Nu){var tp=Jl?"xa":"ya",up=Jl?"ya":"xa",dp=0,Ap=1,Op=Wl.size(),Zp=new Array(Op),u0=0,r0=Nu.minX,e0=Nu.maxX,Cp=Nu.minY,Mp=Nu.maxY,sp=function(Zu){return Zu*Pu._invScaleX},Ip=function(Zu){return Zu*Pu._invScaleY};Wl.each(function(Zu){var lp=Zu[tp],mp=Zu[up],Tp=lp._id.charAt(0)==="x",Lp=lp.range;u0===0&&Lp&&Lp[0]>Lp[1]!==Tp&&(Ap=-1);var Up=0,Xp=Tp?Pu.width:Pu.height;if(Pu.hovermode==="x"||Pu.hovermode==="y"){var c0=qu(Zu,Jl),i0=Zu.anchor,s0=i0==="end"?-1:1,M0,A0;if(i0==="middle")M0=Zu.crossPos+(Tp?Ip(c0.y-Zu.by/2):sp(Zu.bx/2+Zu.tx2width/2)),A0=M0+(Tp?Ip(Zu.by):sp(Zu.bx));else if(Tp)M0=Zu.crossPos+Ip(hu+c0.y)-Ip(Zu.by/2-hu),A0=M0+Ip(Zu.by);else{var R0=sp(s0*hu+c0.x),rm=R0+sp(s0*Zu.bx);M0=Zu.crossPos+Math.min(R0,rm),A0=Zu.crossPos+Math.max(R0,rm)}Tp?Cp!==void 0&&Mp!==void 0&&Math.min(A0,Mp)-Math.max(M0,Cp)>1&&(mp.side==="left"?(Up=mp._mainLinePosition,Xp=Pu.width):Xp=mp._mainLinePosition):r0!==void 0&&e0!==void 0&&Math.min(A0,e0)-Math.max(M0,r0)>1&&(mp.side==="top"?(Up=mp._mainLinePosition,Xp=Pu.height):Xp=mp._mainLinePosition)}Zp[u0++]=[{datum:Zu,traceIndex:Zu.trace.index,dp:0,pos:Zu.pos,posref:Zu.posref,size:Zu.by*(Tp?Kl:1)/2,pmin:Up,pmax:Xp}]}),Zp.sort(function(Zu,lp){return Zu[0].posref-lp[0].posref||Ap*(lp[0].traceIndex-Zu[0].traceIndex)});var Jp,a0,v0,h0,w0,E0,_0;function $0(Zu){var lp=Zu[0],mp=Zu[Zu.length-1];if(a0=lp.pmin-lp.pos-lp.dp+lp.size,v0=mp.pos+mp.dp+mp.size-lp.pmax,a0>.01){for(w0=Zu.length-1;w0>=0;w0--)Zu[w0].dp+=a0;Jp=!1}if(!(v0<.01)){if(a0<-.01){for(w0=Zu.length-1;w0>=0;w0--)Zu[w0].dp-=v0;Jp=!1}if(Jp){var Tp=0;for(h0=0;h0<Zu.length;h0++)E0=Zu[h0],E0.pos+E0.dp+E0.size>lp.pmax&&Tp++;for(h0=Zu.length-1;h0>=0&&!(Tp<=0);h0--)E0=Zu[h0],E0.pos>lp.pmax-1&&(E0.del=!0,Tp--);for(h0=0;h0<Zu.length&&!(Tp<=0);h0++)if(E0=Zu[h0],E0.pos<lp.pmin+1)for(E0.del=!0,Tp--,v0=E0.size*2,w0=Zu.length-1;w0>=0;w0--)Zu[w0].dp-=v0;for(h0=Zu.length-1;h0>=0&&!(Tp<=0);h0--)E0=Zu[h0],E0.pos+E0.dp+E0.size>lp.pmax&&(E0.del=!0,Tp--)}}}for(;!Jp&&dp<=Op;){for(dp++,Jp=!0,h0=0;h0<Zp.length-1;){var f0=Zp[h0],q0=Zp[h0+1],J0=f0[f0.length-1],V0=q0[0];if(a0=J0.pos+J0.dp+J0.size-V0.pos-V0.dp+V0.size,a0>.01){for(w0=q0.length-1;w0>=0;w0--)q0[w0].dp+=a0;for(f0.push.apply(f0,q0),Zp.splice(h0+1,1),_0=0,w0=f0.length-1;w0>=0;w0--)_0+=f0[w0].dp;for(v0=_0/f0.length,w0=f0.length-1;w0>=0;w0--)f0[w0].dp-=v0;Jp=!1}else h0++}Zp.forEach($0)}for(h0=Zp.length-1;h0>=0;h0--){var nm=Zp[h0];for(w0=nm.length-1;w0>=0;w0--){var Ep=nm[w0],$p=Ep.datum;$p.offset=Ep.dp,$p.del=Ep.del}}}function qu(Wl,Jl){var Pu=0,Nu=Wl.offset;return Jl&&(Nu*=-vu,Pu=Wl.offset*Gu),{x:Pu,y:Nu}}function np(Wl){var Jl={start:1,end:-1,middle:0}[Wl.anchor],Pu=Jl*(hu+Yl),Nu=Pu+Jl*(Wl.txwidth+Yl),tp=Wl.anchor==="middle";return tp&&(Pu-=Wl.tx2width/2,Nu+=Wl.txwidth/2+Yl),{alignShift:Jl,textShiftX:Pu,text2ShiftX:Nu}}function _h(Wl,Jl,Pu,Nu){var tp=function(dp){return dp*Pu},up=function(dp){return dp*Nu};Wl.each(function(dp){var Ap=yu.select(this);if(dp.del)return Ap.remove();var Op=Ap.select("text.nums"),Zp=dp.anchor,u0=Zp==="end"?-1:1,r0=np(dp),e0=qu(dp,Jl),Cp=e0.x,Mp=e0.y,sp=Zp==="middle",Ip="hoverlabel"in dp.trace?dp.trace.hoverlabel.showarrow:!0,Jp;sp?Jp="M-"+tp(dp.bx/2+dp.tx2width/2)+","+up(Mp-dp.by/2)+"h"+tp(dp.bx)+"v"+up(dp.by)+"h-"+tp(dp.bx)+"Z":Ip?Jp="M0,0L"+tp(u0*hu+Cp)+","+up(hu+Mp)+"v"+up(dp.by/2-hu)+"h"+tp(u0*dp.bx)+"v-"+up(dp.by)+"H"+tp(u0*hu+Cp)+"V"+up(Mp-hu)+"Z":Jp="M"+tp(u0*hu+Cp)+","+up(Mp-dp.by/2)+"h"+tp(u0*dp.bx)+"v"+up(dp.by)+"h"+tp(-u0*dp.bx)+"Z",Ap.select("path").attr("d",Jp);var a0=Cp+r0.textShiftX,v0=Mp+dp.ty0-dp.by/2+Yl,h0=dp.textAlign||"auto";h0!=="auto"&&(h0==="left"&&Zp!=="start"?(Op.attr("text-anchor","start"),a0=sp?-dp.bx/2-dp.tx2width/2+Yl:-dp.bx-Yl):h0==="right"&&Zp!=="end"&&(Op.attr("text-anchor","end"),a0=sp?dp.bx/2-dp.tx2width/2-Yl:dp.bx+Yl)),Op.call(Al.positionText,tp(a0),up(v0)),dp.tx2width&&(Ap.select("text.name").call(Al.positionText,tp(r0.text2ShiftX+r0.alignShift*Yl+Cp),up(Mp+dp.ty0-dp.by/2+Yl)),Ap.select("rect").call(Pl.setRect,tp(r0.text2ShiftX+(r0.alignShift-1)*dp.tx2width/2+Cp),up(Mp-dp.by/2-1),tp(dp.tx2width),up(dp.by+2)))})}function ap(Wl,Jl){var Pu=Wl.index,Nu=Wl.trace||{},tp=Wl.cd[0],up=Wl.cd[Pu]||{};function dp(e0){return e0||ls(e0)&&e0===0}var Ap=Array.isArray(Pu)?function(e0,Cp){var Mp=Fn.castOption(tp,Pu,e0);return dp(Mp)?Mp:Fn.extractOption({},Nu,"",Cp)}:function(e0,Cp){return Fn.extractOption(up,Nu,e0,Cp)};function Op(e0,Cp,Mp){var sp=Ap(Cp,Mp);dp(sp)&&(Wl[e0]=sp)}if(Op("hoverinfo","hi","hoverinfo"),Op("bgcolor","hbg","hoverlabel.bgcolor"),Op("borderColor","hbc","hoverlabel.bordercolor"),Op("fontFamily","htf","hoverlabel.font.family"),Op("fontSize","hts","hoverlabel.font.size"),Op("fontColor","htc","hoverlabel.font.color"),Op("fontWeight","htw","hoverlabel.font.weight"),Op("fontStyle","hty","hoverlabel.font.style"),Op("fontVariant","htv","hoverlabel.font.variant"),Op("nameLength","hnl","hoverlabel.namelength"),Op("textAlign","hta","hoverlabel.align"),Wl.posref=Jl==="y"||Jl==="closest"&&Nu.orientation==="h"?Wl.xa._offset+(Wl.x0+Wl.x1)/2:Wl.ya._offset+(Wl.y0+Wl.y1)/2,Wl.x0=Fn.constrain(Wl.x0,0,Wl.xa._length),Wl.x1=Fn.constrain(Wl.x1,0,Wl.xa._length),Wl.y0=Fn.constrain(Wl.y0,0,Wl.ya._length),Wl.y1=Fn.constrain(Wl.y1,0,Wl.ya._length),Wl.xLabelVal!==void 0&&(Wl.xLabel="xLabel"in Wl?Wl.xLabel:$l.hoverLabelText(Wl.xa,Wl.xLabelVal,Nu.xhoverformat),Wl.xVal=Wl.xa.c2d(Wl.xLabelVal)),Wl.yLabelVal!==void 0&&(Wl.yLabel="yLabel"in Wl?Wl.yLabel:$l.hoverLabelText(Wl.ya,Wl.yLabelVal,Nu.yhoverformat),Wl.yVal=Wl.ya.c2d(Wl.yLabelVal)),Wl.zLabelVal!==void 0&&Wl.zLabel===void 0&&(Wl.zLabel=String(Wl.zLabelVal)),!isNaN(Wl.xerr)&&!(Wl.xa.type==="log"&&Wl.xerr<=0)){var Zp=$l.tickText(Wl.xa,Wl.xa.c2l(Wl.xerr),"hover").text;Wl.xerrneg!==void 0?Wl.xLabel+=" +"+Zp+" / -"+$l.tickText(Wl.xa,Wl.xa.c2l(Wl.xerrneg),"hover").text:Wl.xLabel+="  "+Zp,Jl==="x"&&(Wl.distance+=1)}if(!isNaN(Wl.yerr)&&!(Wl.ya.type==="log"&&Wl.yerr<=0)){var u0=$l.tickText(Wl.ya,Wl.ya.c2l(Wl.yerr),"hover").text;Wl.yerrneg!==void 0?Wl.yLabel+=" +"+u0+" / -"+$l.tickText(Wl.ya,Wl.ya.c2l(Wl.yerrneg),"hover").text:Wl.yLabel+="  "+u0,Jl==="y"&&(Wl.distance+=1)}var r0=Wl.hoverinfo||Wl.trace.hoverinfo;return r0&&r0!=="all"&&(r0=Array.isArray(r0)?r0:r0.split("+"),r0.indexOf("x")===-1&&(Wl.xLabel=void 0),r0.indexOf("y")===-1&&(Wl.yLabel=void 0),r0.indexOf("z")===-1&&(Wl.zLabel=void 0),r0.indexOf("text")===-1&&(Wl.text=void 0),r0.indexOf("name")===-1&&(Wl.name=void 0)),Wl}function bp(Wl,Jl,Pu){var Nu=Pu.container,tp=Pu.fullLayout,up=tp._size,dp=Pu.event,Ap=!!Jl.hLinePoint,Op=!!Jl.vLinePoint,Zp,u0;if(Nu.selectAll(".spikeline").remove(),!!(Op||Ap)){var r0=El.combine(tp.plot_bgcolor,tp.paper_bgcolor);if(Ap){var e0=Jl.hLinePoint,Cp,Mp;Zp=e0&&e0.xa,u0=e0&&e0.ya;var sp=u0.spikesnap;sp==="cursor"?(Cp=dp.pointerX,Mp=dp.pointerY):(Cp=Zp._offset+e0.x,Mp=u0._offset+e0.y);var Ip=_t.readability(e0.color,r0)<1.5?El.contrast(r0):e0.color,Jp=u0.spikemode,a0=u0.spikethickness,v0=u0.spikecolor||Ip,h0=$l.getPxPosition(Wl,u0),w0,E0;if(Jp.indexOf("toaxis")!==-1||Jp.indexOf("across")!==-1){if(Jp.indexOf("toaxis")!==-1&&(w0=h0,E0=Cp),Jp.indexOf("across")!==-1){var _0=u0._counterDomainMin,$0=u0._counterDomainMax;u0.anchor==="free"&&(_0=Math.min(_0,u0.position),$0=Math.max($0,u0.position)),w0=up.l+_0*up.w,E0=up.l+$0*up.w}Nu.insert("line",":first-child").attr({x1:w0,x2:E0,y1:Mp,y2:Mp,"stroke-width":a0,stroke:v0,"stroke-dasharray":Pl.dashStyle(u0.spikedash,a0)}).classed("spikeline",!0).classed("crisp",!0),Nu.insert("line",":first-child").attr({x1:w0,x2:E0,y1:Mp,y2:Mp,"stroke-width":a0+2,stroke:r0}).classed("spikeline",!0).classed("crisp",!0)}Jp.indexOf("marker")!==-1&&Nu.insert("circle",":first-child").attr({cx:h0+(u0.side!=="right"?a0:-a0),cy:Mp,r:a0,fill:v0}).classed("spikeline",!0)}if(Op){var f0=Jl.vLinePoint,q0,J0;Zp=f0&&f0.xa,u0=f0&&f0.ya;var V0=Zp.spikesnap;V0==="cursor"?(q0=dp.pointerX,J0=dp.pointerY):(q0=Zp._offset+f0.x,J0=u0._offset+f0.y);var nm=_t.readability(f0.color,r0)<1.5?El.contrast(r0):f0.color,Ep=Zp.spikemode,$p=Zp.spikethickness,Zu=Zp.spikecolor||nm,lp=$l.getPxPosition(Wl,Zp),mp,Tp;if(Ep.indexOf("toaxis")!==-1||Ep.indexOf("across")!==-1){if(Ep.indexOf("toaxis")!==-1&&(mp=lp,Tp=J0),Ep.indexOf("across")!==-1){var Lp=Zp._counterDomainMin,Up=Zp._counterDomainMax;Zp.anchor==="free"&&(Lp=Math.min(Lp,Zp.position),Up=Math.max(Up,Zp.position)),mp=up.t+(1-Up)*up.h,Tp=up.t+(1-Lp)*up.h}Nu.insert("line",":first-child").attr({x1:q0,x2:q0,y1:mp,y2:Tp,"stroke-width":$p,stroke:Zu,"stroke-dasharray":Pl.dashStyle(Zp.spikedash,$p)}).classed("spikeline",!0).classed("crisp",!0),Nu.insert("line",":first-child").attr({x1:q0,x2:q0,y1:mp,y2:Tp,"stroke-width":$p+2,stroke:r0}).classed("spikeline",!0).classed("crisp",!0)}Ep.indexOf("marker")!==-1&&Nu.insert("circle",":first-child").attr({cx:q0,cy:lp-(Zp.side!=="top"?$p:-$p),r:$p,fill:Zu}).classed("spikeline",!0)}}}function wp(Wl,Jl,Pu){if(!Pu||Pu.length!==Wl._hoverdata.length)return!0;for(var Nu=Pu.length-1;Nu>=0;Nu--){var tp=Pu[Nu],up=Wl._hoverdata[Nu];if(tp.curveNumber!==up.curveNumber||String(tp.pointNumber)!==String(up.pointNumber)||String(tp.pointNumbers)!==String(up.pointNumbers)||tp.binNumber!==up.binNumber)return!0}return!1}function kp(Wl,Jl){return!0}function Iu(Wl,Jl){return Al.plainText(Wl||"",{len:Jl,allowedTags:["br","sub","sup","b","i","em","s","u"]})}function Bu(Wl,Jl){for(var Pu=Jl.charAt(0),Nu=[],tp=[],up=[],dp=0;dp<Wl.length;dp++){var Ap=Wl[dp];Ll.traceIs(Ap.trace,"bar-like")||Ll.traceIs(Ap.trace,"box-violin")?up.push(Ap):Ap.trace[Pu+"period"]?tp.push(Ap):Nu.push(Ap)}return Nu.concat(tp).concat(up)}function Xl(Wl,Jl,Pu){var Nu=Jl[Wl+"a"],tp=Jl[Wl+"Val"],up=Jl.cd[0];if(Nu.type==="category"||Nu.type==="multicategory")tp=Nu._categoriesMap[tp];else if(Nu.type==="date"){var dp=Jl.trace[Wl+"periodalignment"];if(dp){var Ap=Jl.cd[Jl.index],Op=Ap[Wl+"Start"];Op===void 0&&(Op=Ap[Wl]);var Zp=Ap[Wl+"End"];Zp===void 0&&(Zp=Ap[Wl]);var u0=Zp-Op;dp==="end"?tp+=u0:dp==="middle"&&(tp+=u0/2)}tp=Nu.d2c(tp)}return up&&up.t&&up.t.posLetter===Nu._id&&(Pu.boxmode==="group"||Pu.violinmode==="group")&&(tp+=up.t.dPos),tp}function Uu(Wl){return Wl.offsetTop+Wl.clientTop}function ep(Wl){return Wl.offsetLeft+Wl.clientLeft}function _u(Wl,Jl){var Pu=Wl._fullLayout,Nu=Jl.getBoundingClientRect(),tp=Nu.left,up=Nu.top,dp=tp+Nu.width,Ap=up+Nu.height,Op=Fn.apply3DTransform(Pu._invTransform)(tp,up),Zp=Fn.apply3DTransform(Pu._invTransform)(dp,Ap),u0=Op[0],r0=Op[1],e0=Zp[0],Cp=Zp[1];return{x:u0,y:r0,width:e0-u0,height:Cp-r0,top:Math.min(r0,Cp),left:Math.min(u0,e0),right:Math.max(u0,e0),bottom:Math.max(r0,Cp)}}}),f3=a((Mu,yu)=>{var ls=vm(),_t=cp(),Fn=Ny().isUnifiedHover;yu.exports=function(xl,Bn,yl,Sl){Sl=Sl||{};var Al=Bn.legend;function Et(Pl){Sl.font[Pl]||(Sl.font[Pl]=Al?Bn.legend.font[Pl]:Bn.font[Pl])}Bn&&Fn(Bn.hovermode)&&(Sl.font||(Sl.font={}),Et("size"),Et("family"),Et("color"),Et("weight"),Et("style"),Et("variant"),Al?(Sl.bgcolor||(Sl.bgcolor=_t.combine(Bn.legend.bgcolor,Bn.paper_bgcolor)),Sl.bordercolor||(Sl.bordercolor=Bn.legend.bordercolor)):Sl.bgcolor||(Sl.bgcolor=Bn.paper_bgcolor)),yl("hoverlabel.bgcolor",Sl.bgcolor),yl("hoverlabel.bordercolor",Sl.bordercolor),yl("hoverlabel.namelength",Sl.namelength),yl("hoverlabel.showarrow",Sl.showarrow),ls.coerceFont(yl,"hoverlabel.font",Sl.font),yl("hoverlabel.align",Sl.align)}}),Ew=a((Mu,yu)=>{var ls=vm(),_t=f3(),Fn=Ul();yu.exports=function(xl,Bn){function yl(Sl,Al){return ls.coerce(xl,Bn,Fn,Sl,Al)}_t(xl,Bn,yl)}}),kw=a((Mu,yu)=>{var ls=vm(),_t=Vl(),Fn=f3();yu.exports=function(xl,Bn,yl,Sl){function Al(Pl,El){return ls.coerce(xl,Bn,_t,Pl,El)}var Et=ls.extendFlat({},Sl.hoverlabel);Bn.hovertemplate&&(Et.namelength=-1),Fn(xl,Bn,Al,Et)}}),lx=a((Mu,yu)=>{var ls=vm(),_t=Ul();yu.exports=function(Fn,xl){function Bn(yl,Sl){return xl[yl]!==void 0?xl[yl]:ls.coerce(Fn,xl,_t,yl,Sl)}return Bn("clickmode"),Bn("hoversubplots"),Bn("hovermode")}}),k2=a((Mu,yu)=>{var ls=vm(),_t=Ul(),Fn=lx(),xl=f3();yu.exports=function(Bn,yl){function Sl(Nl,Ll){return ls.coerce(Bn,yl,_t,Nl,Ll)}var Al=Fn(Bn,yl);Al&&(Sl("hoverdistance"),Sl("spikedistance"));var Et=Sl("dragmode");Et==="select"&&Sl("selectdirection");var Pl=yl._has("mapbox"),El=yl._has("map"),Fl=yl._has("geo"),$l=yl._basePlotModules.length;yl.dragmode==="zoom"&&((Pl||El||Fl)&&$l===1||(Pl||El)&&Fl&&$l===2)&&(yl.dragmode="pan"),xl(Bn,yl,Sl),ls.coerceFont(Sl,"hoverlabel.grouptitlefont",yl.hoverlabel.font)}}),Mw=a((Mu,yu)=>{var ls=vm(),_t=Gp();yu.exports=function(xl){var Bn=xl.calcdata,yl=xl._fullLayout;function Sl(Fl){return function($l){return ls.coerceHoverinfo({hoverinfo:$l},{_module:Fl._module},yl)}}for(var Al=0;Al<Bn.length;Al++){var Et=Bn[Al],Pl=Et[0].trace;if(!_t.traceIs(Pl,"pie-like")){var El=_t.traceIs(Pl,"2dMap")?Fn:ls.fillArray;El(Pl.hoverinfo,Et,"hi",Sl(Pl)),Pl.hovertemplate&&El(Pl.hovertemplate,Et,"ht"),Pl.hoverlabel&&(El(Pl.hoverlabel.bgcolor,Et,"hbg"),El(Pl.hoverlabel.bordercolor,Et,"hbc"),El(Pl.hoverlabel.font.size,Et,"hts"),El(Pl.hoverlabel.font.color,Et,"htc"),El(Pl.hoverlabel.font.family,Et,"htf"),El(Pl.hoverlabel.font.weight,Et,"htw"),El(Pl.hoverlabel.font.style,Et,"hty"),El(Pl.hoverlabel.font.variant,Et,"htv"),El(Pl.hoverlabel.namelength,Et,"hnl"),El(Pl.hoverlabel.align,Et,"hta"),El(Pl.hoverlabel.showarrow,Et,"htsa"))}}};function Fn(xl,Bn,yl,Sl){Sl=Sl||ls.identity,Array.isArray(xl)&&(Bn[0][yl]=Sl(xl))}}),cx=a((Mu,yu)=>{var ls=Gp(),_t=p2().hover;yu.exports=function(Fn,xl,Bn){var yl=ls.getComponentMethod("annotations","onClick")(Fn,Fn._hoverdata);Bn!==void 0&&_t(Fn,xl,Bn,!0);function Sl(){Fn.emit("plotly_click",{points:Fn._hoverdata,event:xl})}Fn._hoverdata&&xl&&xl.target&&(yl&&yl.then?yl.then(Sl):Sl(),xl.stopImmediatePropagation&&xl.stopImmediatePropagation())}}),My=a((Mu,yu)=>{var ls=g(),_t=vm(),Fn=ky(),xl=Ny(),Bn=Ul(),yl=p2();yu.exports={moduleType:"component",name:"fx",constants:Dl(),schema:{layout:Bn},attributes:Vl(),layoutAttributes:Bn,supplyLayoutGlobalDefaults:Ew(),supplyDefaults:kw(),supplyLayoutDefaults:k2(),calc:Mw(),getDistanceFunction:xl.getDistanceFunction,getClosest:xl.getClosest,inbox:xl.inbox,quadrature:xl.quadrature,appendArrayPointValue:xl.appendArrayPointValue,castHoverOption:Al,castHoverinfo:Et,hover:yl.hover,unhover:Fn.unhover,loneHover:yl.loneHover,loneUnhover:Sl,click:cx()};function Sl(Pl){var El=_t.isD3Selection(Pl)?Pl:ls.select(Pl);El.selectAll("g.hovertext").remove(),El.selectAll(".spikeline").remove()}function Al(Pl,El,Fl){return _t.castOption(Pl,El,"hoverlabel."+Fl)}function Et(Pl,El,Fl){function $l(Nl){return _t.coerceHoverinfo({hoverinfo:Nl},{_module:Pl._module},El)}return _t.castOption(Pl,Fl,"hoverinfo",$l)}}),M2=a(Mu=>{Mu.selectMode=function(yu){return yu==="lasso"||yu==="select"},Mu.drawMode=function(yu){return yu==="drawclosedpath"||yu==="drawopenpath"||yu==="drawline"||yu==="drawrect"||yu==="drawcircle"},Mu.openMode=function(yu){return yu==="drawline"||yu==="drawopenpath"},Mu.rectMode=function(yu){return yu==="select"||yu==="drawline"||yu==="drawrect"||yu==="drawcircle"},Mu.freeMode=function(yu){return yu==="lasso"||yu==="drawclosedpath"||yu==="drawopenpath"},Mu.selectingOrDrawing=function(yu){return Mu.freeMode(yu)||Mu.rectMode(yu)}}),g3=a((Mu,yu)=>{yu.exports=function(ls){var _t=ls._fullLayout;_t._glcanvas&&_t._glcanvas.size()&&_t._glcanvas.each(function(Fn){Fn.regl&&Fn.regl.clear({color:!0,depth:!0})})}}),m3=a((Mu,yu)=>{yu.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect fill='#000' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle fill='#9EF' cx='102' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='30' r='6'/>","  <circle fill='#BAC' cx='78' cy='54' r='6'/>","  <circle fill='#D69' cx='54' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='30' r='6'/>","  <circle fill='#F26' cx='30' cy='54' r='6'/>","  <path fill='#FFF' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path fill='#FFF' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path fill='#FFF' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path fill='#FFF' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}}),v3=a((Mu,yu)=>{var ls=32;yu.exports={CIRCLE_SIDES:ls,i000:0,i090:ls/4,i180:ls/2,i270:ls/4*3,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}}),f2=a((Mu,yu)=>{var ls=vm().strTranslate;function _t(yl,Sl){switch(yl.type){case"log":return yl.p2d(Sl);case"date":return yl.p2r(Sl,0,yl.calendar);default:return yl.p2r(Sl)}}function Fn(yl,Sl){switch(yl.type){case"log":return yl.d2p(Sl);case"date":return yl.r2p(Sl,0,yl.calendar);default:return yl.r2p(Sl)}}function xl(yl){var Sl=yl._id.charAt(0)==="y"?1:0;return function(Al){return _t(yl,Al[Sl])}}function Bn(yl){return ls(yl.xaxis._offset,yl.yaxis._offset)}yu.exports={p2r:_t,r2p:Fn,axValue:xl,getTransform:Bn}}),i2=a(Mu=>{var yu=nx(),ls=v3(),_t=ls.CIRCLE_SIDES,Fn=ls.SQRT2,xl=f2(),Bn=xl.p2r,yl=xl.r2p,Sl=[0,3,4,5,6,1,2],Al=[0,3,4,1,2];Mu.writePaths=function(El){var Fl=El.length;if(!Fl)return"M0,0Z";for(var $l="",Nl=0;Nl<Fl;Nl++)for(var Ll=El[Nl].length,Ol=0;Ol<Ll;Ol++){var Bl=El[Nl][Ol][0];if(Bl==="Z")$l+="Z";else for(var _l=El[Nl][Ol].length,Rl=0;Rl<_l;Rl++){var Il=Rl;Bl==="Q"||Bl==="S"?Il=Al[Rl]:Bl==="C"&&(Il=Sl[Rl]),$l+=El[Nl][Ol][Il],Rl>0&&Rl<_l-1&&($l+=",")}}return $l},Mu.readPaths=function(El,Fl,$l,Nl){var Ll=yu(El),Ol=[],Bl=-1,_l=function(){Bl++,Ol[Bl]=[]},Rl,Il=0,Hl=0,Kl,Gu,vu=function(){Kl=Il,Gu=Hl};vu();for(var hu=0;hu<Ll.length;hu++){var Yl=[],$u,bu,Lu,Fu,Du=Ll[hu][0],Hu=Du;switch(Du){case"M":_l(),Il=+Ll[hu][1],Hl=+Ll[hu][2],Yl.push([Hu,Il,Hl]),vu();break;case"Q":case"S":$u=+Ll[hu][1],Lu=+Ll[hu][2],Il=+Ll[hu][3],Hl=+Ll[hu][4],Yl.push([Hu,Il,Hl,$u,Lu]);break;case"C":$u=+Ll[hu][1],Lu=+Ll[hu][2],bu=+Ll[hu][3],Fu=+Ll[hu][4],Il=+Ll[hu][5],Hl=+Ll[hu][6],Yl.push([Hu,Il,Hl,$u,Lu,bu,Fu]);break;case"T":case"L":Il=+Ll[hu][1],Hl=+Ll[hu][2],Yl.push([Hu,Il,Hl]);break;case"H":Hu="L",Il=+Ll[hu][1],Yl.push([Hu,Il,Hl]);break;case"V":Hu="L",Hl=+Ll[hu][1],Yl.push([Hu,Il,Hl]);break;case"A":Hu="L";var Vu=+Ll[hu][1],gu=+Ll[hu][2];+Ll[hu][4]||(Vu=-Vu,gu=-gu);var Wu=Il-Vu,qu=Hl;for(Rl=1;Rl<=_t/2;Rl++){var np=2*Math.PI*Rl/_t;Yl.push([Hu,Wu+Vu*Math.cos(np),qu+gu*Math.sin(np)])}break;case"Z":(Il!==Kl||Hl!==Gu)&&(Il=Kl,Hl=Gu,Yl.push([Hu,Il,Hl]));break}for(var _h=($l||{}).domain,ap=Fl._fullLayout._size,bp=$l&&$l.xsizemode==="pixel",wp=$l&&$l.ysizemode==="pixel",kp=Nl===!1,Iu=0;Iu<Yl.length;Iu++){for(Rl=0;Rl+2<7;Rl+=2){var Bu=Yl[Iu][Rl+1],Xl=Yl[Iu][Rl+2];Bu===void 0||Xl===void 0||(Il=Bu,Hl=Xl,$l&&($l.xaxis&&$l.xaxis.p2r?(kp&&(Bu-=$l.xaxis._offset),bp?Bu=yl($l.xaxis,$l.xanchor)+Bu:Bu=Bn($l.xaxis,Bu)):(kp&&(Bu-=ap.l),_h?Bu=_h.x[0]+Bu/ap.w:Bu=Bu/ap.w),$l.yaxis&&$l.yaxis.p2r?(kp&&(Xl-=$l.yaxis._offset),wp?Xl=yl($l.yaxis,$l.yanchor)-Xl:Xl=Bn($l.yaxis,Xl)):(kp&&(Xl-=ap.t),_h?Xl=_h.y[1]-Xl/ap.h:Xl=1-Xl/ap.h)),Yl[Iu][Rl+1]=Bu,Yl[Iu][Rl+2]=Xl)}Ol[Bl].push(Yl[Iu].slice())}}return Ol};function Et(El,Fl){return Math.abs(El-Fl)<=1e-6}function Pl(El,Fl){var $l=Fl[1]-El[1],Nl=Fl[2]-El[2];return Math.sqrt($l*$l+Nl*Nl)}Mu.pointsOnRectangle=function(El){var Fl=El.length;if(Fl!==5)return!1;for(var $l=1;$l<3;$l++){var Nl=El[0][$l]-El[1][$l],Ll=El[3][$l]-El[2][$l];if(!Et(Nl,Ll))return!1;var Ol=El[0][$l]-El[3][$l],Bl=El[1][$l]-El[2][$l];if(!Et(Ol,Bl))return!1}return!Et(El[0][1],El[1][1])&&!Et(El[0][1],El[3][1])?!1:!!(Pl(El[0],El[1])*Pl(El[0],El[3]))},Mu.pointsOnEllipse=function(El){var Fl=El.length;if(Fl!==_t+1)return!1;Fl=_t;for(var $l=0;$l<Fl;$l++){var Nl=(Fl*2-$l)%Fl,Ll=(Fl/2+Nl)%Fl,Ol=(Fl/2+$l)%Fl;if(!Et(Pl(El[$l],El[Ol]),Pl(El[Nl],El[Ll])))return!1}return!0},Mu.handleEllipse=function(El,Fl,$l){if(!El)return[Fl,$l];var Nl=Mu.ellipseOver({x0:Fl[0],y0:Fl[1],x1:$l[0],y1:$l[1]}),Ll=(Nl.x1+Nl.x0)/2,Ol=(Nl.y1+Nl.y0)/2,Bl=(Nl.x1-Nl.x0)/2,_l=(Nl.y1-Nl.y0)/2;Bl||(Bl=_l=_l/Fn),_l||(_l=Bl=Bl/Fn);for(var Rl=[],Il=0;Il<_t;Il++){var Hl=Il*2*Math.PI/_t;Rl.push([Ll+Bl*Math.cos(Hl),Ol+_l*Math.sin(Hl)])}return Rl},Mu.ellipseOver=function(El){var Fl=El.x0,$l=El.y0,Nl=El.x1,Ll=El.y1,Ol=Nl-Fl,Bl=Ll-$l;Fl-=Ol,$l-=Bl;var _l=(Fl+Nl)/2,Rl=($l+Ll)/2,Il=Fn;return Ol*=Il,Bl*=Il,{x0:_l-Ol,y0:Rl-Bl,x1:_l+Ol,y1:Rl+Bl}},Mu.fixDatesForPaths=function(El,Fl,$l){var Nl=Fl.type==="date",Ll=$l.type==="date";if(!Nl&&!Ll)return El;for(var Ol=0;Ol<El.length;Ol++)for(var Bl=0;Bl<El[Ol].length;Bl++)for(var _l=0;_l+2<El[Ol][Bl].length;_l+=2)Nl&&(El[Ol][Bl][_l+1]=El[Ol][Bl][_l+1].replace(" ","_")),Ll&&(El[Ol][Bl][_l+2]=El[Ol][Bl][_l+2].replace(" ","_"));return El}}),y3=a((Mu,yu)=>{var ls=mv(),_t=M2(),Fn=_t.drawMode,xl=_t.openMode,Bn=v3(),yl=Bn.i000,Sl=Bn.i090,Al=Bn.i180,Et=Bn.i270,Pl=Bn.cos45,El=Bn.sin45,Fl=f2(),$l=Fl.p2r,Nl=Fl.r2p,Ll=Jv(),Ol=Ll.clearOutline,Bl=i2(),_l=Bl.readPaths,Rl=Bl.writePaths,Il=Bl.ellipseOver,Hl=Bl.fixDatesForPaths;function Kl(vu,hu){if(vu.length){var Yl=vu[0][0];if(Yl){var $u=hu.gd,bu=hu.isActiveShape,Lu=hu.dragmode,Fu=($u.layout||{}).shapes||[];if(!Fn(Lu)&&bu!==void 0){var Du=$u._fullLayout._activeShapeIndex;if(Du<Fu.length)switch($u._fullLayout.shapes[Du].type){case"rect":Lu="drawrect";break;case"circle":Lu="drawcircle";break;case"line":Lu="drawline";break;case"path":var Hu=Fu[Du].path||"";Hu[Hu.length-1]==="Z"?Lu="drawclosedpath":Lu="drawopenpath";break}}var Vu=Gu(vu,hu,Lu);Ol($u);for(var gu=hu.editHelpers,Wu=(gu||{}).modifyItem,qu=[],np=0;np<Fu.length;np++){var _h=$u._fullLayout.shapes[np];if(qu[np]=_h._input,bu!==void 0&&np===$u._fullLayout._activeShapeIndex){var ap=Vu;switch(_h.type){case"line":case"rect":case"circle":var bp=ls.getFromId($u,_h.xref);_h.xref.charAt(0)==="x"&&bp.type.includes("category")?(Wu("x0",ap.x0-(_h.x0shift||0)),Wu("x1",ap.x1-(_h.x1shift||0))):(Wu("x0",ap.x0),Wu("x1",ap.x1));var wp=ls.getFromId($u,_h.yref);_h.yref.charAt(0)==="y"&&wp.type.includes("category")?(Wu("y0",ap.y0-(_h.y0shift||0)),Wu("y1",ap.y1-(_h.y1shift||0))):(Wu("y0",ap.y0),Wu("y1",ap.y1));break;case"path":Wu("path",ap.path);break}}}return bu===void 0?(qu.push(Vu),qu):gu?gu.getUpdateObj():{}}}}function Gu(vu,hu,Yl){var $u=vu[0][0],bu=hu.gd,Lu=$u.getAttribute("d"),Fu=bu._fullLayout.newshape,Du=hu.plotinfo,Hu=hu.isActiveShape,Vu=Du.xaxis,gu=Du.yaxis,Wu=!!Du.domain||!Du.xaxis,qu=!!Du.domain||!Du.yaxis,np=xl(Yl),_h=_l(Lu,bu,Du,Hu),ap={editable:!0,visible:Fu.visible,name:Fu.name,showlegend:Fu.showlegend,legend:Fu.legend,legendwidth:Fu.legendwidth,legendgroup:Fu.legendgroup,legendgrouptitle:{text:Fu.legendgrouptitle.text,font:Fu.legendgrouptitle.font},legendrank:Fu.legendrank,label:Fu.label,xref:Wu?"paper":Vu._id,yref:qu?"paper":gu._id,layer:Fu.layer,opacity:Fu.opacity,line:{color:Fu.line.color,width:Fu.line.width,dash:Fu.line.dash}};np||(ap.fillcolor=Fu.fillcolor,ap.fillrule=Fu.fillrule);var bp;if(_h.length===1&&(bp=_h[0]),bp&&bp.length===5&&Yl==="drawrect")ap.type="rect",ap.x0=bp[0][1],ap.y0=bp[0][2],ap.x1=bp[2][1],ap.y1=bp[2][2];else if(bp&&Yl==="drawline")ap.type="line",ap.x0=bp[0][1],ap.y0=bp[0][2],ap.x1=bp[1][1],ap.y1=bp[1][2];else if(bp&&Yl==="drawcircle"){ap.type="circle";var wp=bp[yl][1],kp=bp[Sl][1],Iu=bp[Al][1],Bu=bp[Et][1],Xl=bp[yl][2],Uu=bp[Sl][2],ep=bp[Al][2],_u=bp[Et][2],Wl=Du.xaxis&&(Du.xaxis.type==="date"||Du.xaxis.type==="log"),Jl=Du.yaxis&&(Du.yaxis.type==="date"||Du.yaxis.type==="log");Wl&&(wp=Nl(Du.xaxis,wp),kp=Nl(Du.xaxis,kp),Iu=Nl(Du.xaxis,Iu),Bu=Nl(Du.xaxis,Bu)),Jl&&(Xl=Nl(Du.yaxis,Xl),Uu=Nl(Du.yaxis,Uu),ep=Nl(Du.yaxis,ep),_u=Nl(Du.yaxis,_u));var Pu=(kp+Bu)/2,Nu=(Xl+ep)/2,tp=(Bu-kp+Iu-wp)/2,up=(_u-Uu+ep-Xl)/2,dp=Il({x0:Pu,y0:Nu,x1:Pu+tp*Pl,y1:Nu+up*El});Wl&&(dp.x0=$l(Du.xaxis,dp.x0),dp.x1=$l(Du.xaxis,dp.x1)),Jl&&(dp.y0=$l(Du.yaxis,dp.y0),dp.y1=$l(Du.yaxis,dp.y1)),ap.x0=dp.x0,ap.y0=dp.y0,ap.x1=dp.x1,ap.y1=dp.y1}else ap.type="path",Vu&&gu&&Hl(_h,Vu,gu),ap.path=Rl(_h),bp=null;return ap}yu.exports={newShapes:Kl,createShapeObj:Gu}}),ux=a((Mu,yu)=>{var ls=M2(),_t=ls.selectMode,Fn=Jv(),xl=Fn.clearOutline,Bn=i2(),yl=Bn.readPaths,Sl=Bn.writePaths,Al=Bn.fixDatesForPaths;yu.exports=function(Et,Pl){if(Et.length){var El=Et[0][0];if(El){var Fl=El.getAttribute("d"),$l=Pl.gd,Nl=$l._fullLayout.newselection,Ll=Pl.plotinfo,Ol=Ll.xaxis,Bl=Ll.yaxis,_l=Pl.isActiveSelection,Rl=Pl.dragmode,Il=($l.layout||{}).selections||[];if(!_t(Rl)&&_l!==void 0){var Hl=$l._fullLayout._activeSelectionIndex;if(Hl<Il.length)switch($l._fullLayout.selections[Hl].type){case"rect":Rl="select";break;case"path":Rl="lasso";break}}var Kl=yl(Fl,$l,Ll,_l),Gu={xref:Ol._id,yref:Bl._id,opacity:Nl.opacity,line:{color:Nl.line.color,width:Nl.line.width,dash:Nl.line.dash}},vu;Kl.length===1&&(vu=Kl[0]),vu&&vu.length===5&&Rl==="select"?(Gu.type="rect",Gu.x0=vu[0][1],Gu.y0=vu[0][2],Gu.x1=vu[2][1],Gu.y1=vu[2][2]):(Gu.type="path",Ol&&Bl&&Al(Kl,Ol,Bl),Gu.path=Sl(Kl),vu=null),xl($l);for(var hu=Pl.editHelpers,Yl=(hu||{}).modifyItem,$u=[],bu=0;bu<Il.length;bu++){var Lu=$l._fullLayout.selections[bu];if(!Lu){$u[bu]=Lu;continue}if($u[bu]=Lu._input,_l!==void 0&&bu===$l._fullLayout._activeSelectionIndex){var Fu=Gu;switch(Lu.type){case"rect":Yl("x0",Fu.x0),Yl("x1",Fu.x1),Yl("y0",Fu.y0),Yl("y1",Fu.y1);break;case"path":Yl("path",Fu.path);break}}}return _l===void 0?($u.push(Gu),$u):hu?hu.getUpdateObj():{}}}}}),$2=a((Mu,yu)=>{yu.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}}),xy=a(Mu=>{var yu=$2(),ls=vm(),_t=pv();Mu.rangeToShapePosition=function(Bn){return Bn.type==="log"?Bn.r2d:function(yl){return yl}},Mu.shapePositionToRange=function(Bn){return Bn.type==="log"?Bn.d2r:function(yl){return yl}},Mu.decodeDate=function(Bn){return function(yl){return yl.replace&&(yl=yl.replace("_"," ")),Bn(yl)}},Mu.encodeDate=function(Bn){return function(yl){return Bn(yl).replace(" ","_")}},Mu.extractPathCoords=function(Bn,yl,Sl){var Al=[],Et=Bn.match(yu.segmentRE);return Et.forEach(function(Pl){var El=yl[Pl.charAt(0)].drawn;if(El!==void 0){var Fl=Pl.substr(1).match(yu.paramRE);if(!(!Fl||Fl.length<El)){var $l=Fl[El],Nl=Sl?$l:ls.cleanNumber($l);Al.push(Nl)}}}),Al},Mu.getDataToPixel=function(Bn,yl,Sl,Al,Et){var Pl=Bn._fullLayout._size,El;if(yl)if(Et==="domain")El=function($l){return yl._length*(Al?1-$l:$l)+yl._offset};else{var Fl=Mu.shapePositionToRange(yl);El=function($l){var Nl=xl(yl,Sl);return yl._offset+yl.r2p(Fl($l,!0))+Nl},yl.type==="date"&&(El=Mu.decodeDate(El))}else Al?El=function($l){return Pl.t+Pl.h*(1-$l)}:El=function($l){return Pl.l+Pl.w*$l};return El},Mu.getPixelToData=function(Bn,yl,Sl,Al){var Et=Bn._fullLayout._size,Pl;if(yl)if(Al==="domain")Pl=function(Fl){var $l=(Fl-yl._offset)/yl._length;return Sl?1-$l:$l};else{var El=Mu.rangeToShapePosition(yl);Pl=function(Fl){return El(yl.p2r(Fl-yl._offset))}}else Sl?Pl=function(Fl){return 1-(Fl-Et.t)/Et.h}:Pl=function(Fl){return(Fl-Et.l)/Et.w};return Pl},Mu.roundPositionForSharpStrokeRendering=function(Bn,yl){var Sl=Math.round(yl%2)===1,Al=Math.round(Bn);return Sl?Al+.5:Al},Mu.makeShapesOptionsAndPlotinfo=function(Bn,yl){var Sl=Bn._fullLayout.shapes[yl]||{},Al=Bn._fullLayout._plots[Sl.xref+Sl.yref],Et=!!Al;return Et?Al._hadPlotinfo=!0:(Al={},Sl.xref&&Sl.xref!=="paper"&&(Al.xaxis=Bn._fullLayout[Sl.xref+"axis"]),Sl.yref&&Sl.yref!=="paper"&&(Al.yaxis=Bn._fullLayout[Sl.yref+"axis"])),Al.xsizemode=Sl.xsizemode,Al.ysizemode=Sl.ysizemode,Al.xanchor=Sl.xanchor,Al.yanchor=Sl.yanchor,{options:Sl,plotinfo:Al}},Mu.makeSelectionsOptionsAndPlotinfo=function(Bn,yl){var Sl=Bn._fullLayout.selections[yl]||{},Al=Bn._fullLayout._plots[Sl.xref+Sl.yref],Et=!!Al;return Et?Al._hadPlotinfo=!0:(Al={},Sl.xref&&(Al.xaxis=Bn._fullLayout[Sl.xref+"axis"]),Sl.yref&&(Al.yaxis=Bn._fullLayout[Sl.yref+"axis"])),{options:Sl,plotinfo:Al}},Mu.getPathString=function(Bn,yl){var Sl=yl.type,Al=_t.getRefType(yl.xref),Et=_t.getRefType(yl.yref),Pl=_t.getFromId(Bn,yl.xref),El=_t.getFromId(Bn,yl.yref),Fl=Bn._fullLayout._size,$l,Nl,Ll,Ol,Bl=xl(Pl,yl.x0shift),_l=xl(Pl,yl.x1shift),Rl=xl(El,yl.y0shift),Il=xl(El,yl.y1shift),Hl,Kl,Gu,vu;if(Pl?Al==="domain"?Nl=function(gu){return Pl._offset+Pl._length*gu}:($l=Mu.shapePositionToRange(Pl),Nl=function(gu){return Pl._offset+Pl.r2p($l(gu,!0))}):Nl=function(gu){return Fl.l+Fl.w*gu},El?Et==="domain"?Ol=function(gu){return El._offset+El._length*(1-gu)}:(Ll=Mu.shapePositionToRange(El),Ol=function(gu){return El._offset+El.r2p(Ll(gu,!0))}):Ol=function(gu){return Fl.t+Fl.h*(1-gu)},Sl==="path")return Pl&&Pl.type==="date"&&(Nl=Mu.decodeDate(Nl)),El&&El.type==="date"&&(Ol=Mu.decodeDate(Ol)),Fn(yl,Nl,Ol);if(yl.xsizemode==="pixel"){var hu=Nl(yl.xanchor);Hl=hu+yl.x0+Bl,Kl=hu+yl.x1+_l}else Hl=Nl(yl.x0)+Bl,Kl=Nl(yl.x1)+_l;if(yl.ysizemode==="pixel"){var Yl=Ol(yl.yanchor);Gu=Yl-yl.y0+Rl,vu=Yl-yl.y1+Il}else Gu=Ol(yl.y0)+Rl,vu=Ol(yl.y1)+Il;if(Sl==="line")return"M"+Hl+","+Gu+"L"+Kl+","+vu;if(Sl==="rect")return"M"+Hl+","+Gu+"H"+Kl+"V"+vu+"H"+Hl+"Z";var $u=(Hl+Kl)/2,bu=(Gu+vu)/2,Lu=Math.abs($u-Hl),Fu=Math.abs(bu-Gu),Du="A"+Lu+","+Fu,Hu=$u+Lu+","+bu,Vu=$u+","+(bu-Fu);return"M"+Hu+Du+" 0 1,1 "+Vu+Du+" 0 0,1 "+Hu+"Z"};function Fn(Bn,yl,Sl){var Al=Bn.path,Et=Bn.xsizemode,Pl=Bn.ysizemode,El=Bn.xanchor,Fl=Bn.yanchor;return Al.replace(yu.segmentRE,function($l){var Nl=0,Ll=$l.charAt(0),Ol=yu.paramIsX[Ll],Bl=yu.paramIsY[Ll],_l=yu.numParams[Ll],Rl=$l.substr(1).replace(yu.paramRE,function(Il){return Ol[Nl]?Et==="pixel"?Il=yl(El)+Number(Il):Il=yl(Il):Bl[Nl]&&(Pl==="pixel"?Il=Sl(Fl)-Number(Il):Il=Sl(Il)),Nl++,Nl>_l&&(Il="X"),Il});return Nl>_l&&(Rl=Rl.replace(/[\s,]*X.*/,""),ls.log("Ignoring extra params in segment "+$l)),Ll+Rl})}function xl(Bn,yl){yl=yl||0;var Sl=0;return yl&&Bn&&(Bn.type==="category"||Bn.type==="multicategory")&&(Sl=(Bn.r2p(1)-Bn.r2p(0))*yl),Sl}}),H2=a((Mu,yu)=>{var ls=vm(),_t=pv(),Fn=Wv(),xl=V1(),Bn=i2().readPaths,yl=xy(),Sl=yl.getPathString,Al=Kp(),Et=qv().FROM_TL;yu.exports=function(Fl,$l,Nl,Ll){if(Ll.selectAll(".shape-label").remove(),!!(Nl.label.text||Nl.label.texttemplate)){var Ol;if(Nl.label.texttemplate){var Bl={};if(Nl.type!=="path"){var _l=_t.getFromId(Fl,Nl.xref),Rl=_t.getFromId(Fl,Nl.yref);for(var Il in Al){var Hl=Al[Il](Nl,_l,Rl);Hl!==void 0&&(Bl[Il]=Hl)}}Ol=ls.texttemplateStringForShapes(Nl.label.texttemplate,{},Fl._fullLayout._d3locale,Bl)}else Ol=Nl.label.text;var Kl={"data-index":$l},Gu=Nl.label.font,vu={"data-notex":1},hu=Ll.append("g").attr(Kl).classed("shape-label",!0),Yl=hu.append("text").attr(vu).classed("shape-label-text",!0).text(Ol),$u,bu,Lu,Fu;if(Nl.path){var Du=Sl(Fl,Nl),Hu=Bn(Du,Fl);$u=1/0,Lu=1/0,bu=-1/0,Fu=-1/0;for(var Vu=0;Vu<Hu.length;Vu++)for(var gu=0;gu<Hu[Vu].length;gu++)for(var Wu=Hu[Vu][gu],qu=1;qu<Wu.length;qu+=2){var np=Wu[qu],_h=Wu[qu+1];$u=Math.min($u,np),bu=Math.max(bu,np),Lu=Math.min(Lu,_h),Fu=Math.max(Fu,_h)}}else{var ap=_t.getFromId(Fl,Nl.xref),bp=Nl.x0shift,wp=Nl.x1shift,kp=_t.getRefType(Nl.xref),Iu=_t.getFromId(Fl,Nl.yref),Bu=Nl.y0shift,Xl=Nl.y1shift,Uu=_t.getRefType(Nl.yref),ep=function(dp,Ap){var Op=yl.getDataToPixel(Fl,ap,Ap,!1,kp);return Op(dp)},_u=function(dp,Ap){var Op=yl.getDataToPixel(Fl,Iu,Ap,!0,Uu);return Op(dp)};$u=ep(Nl.x0,bp),bu=ep(Nl.x1,wp),Lu=_u(Nl.y0,Bu),Fu=_u(Nl.y1,Xl)}var Wl=Nl.label.textangle;Wl==="auto"&&(Nl.type==="line"?Wl=Pl($u,Lu,bu,Fu):Wl=0),Yl.call(function(dp){return dp.call(xl.font,Gu).attr({}),Fn.convertToTspans(dp,Fl),dp});var Jl=xl.bBox(Yl.node()),Pu=El($u,Lu,bu,Fu,Nl,Wl,Jl),Nu=Pu.textx,tp=Pu.texty,up=Pu.xanchor;Yl.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[up],y:tp,x:Nu,transform:"rotate("+Wl+","+Nu+","+tp+")"}).call(Fn.positionText,Nu,tp)}};function Pl(Fl,$l,Nl,Ll){var Ol,Bl;return Bl=Math.abs(Nl-Fl),Nl>=Fl?Ol=$l-Ll:Ol=Ll-$l,-180/Math.PI*Math.atan2(Ol,Bl)}function El(Fl,$l,Nl,Ll,Ol,Bl,_l){var Rl=Ol.label.textposition,Il=Ol.label.textangle,Hl=Ol.label.padding,Kl=Ol.type,Gu=Math.PI/180*Bl,vu=Math.sin(Gu),hu=Math.cos(Gu),Yl=Ol.label.xanchor,$u=Ol.label.yanchor,bu,Lu,Fu,Du;if(Kl==="line"){Rl==="start"?(bu=Fl,Lu=$l):Rl==="end"?(bu=Nl,Lu=Ll):(bu=(Fl+Nl)/2,Lu=($l+Ll)/2),Yl==="auto"&&(Rl==="start"?Il==="auto"?Nl>Fl?Yl="left":Nl<Fl?Yl="right":Yl="center":Nl>Fl?Yl="right":Nl<Fl?Yl="left":Yl="center":Rl==="end"?Il==="auto"?Nl>Fl?Yl="right":Nl<Fl?Yl="left":Yl="center":Nl>Fl?Yl="left":Nl<Fl?Yl="right":Yl="center":Yl="center");var Hu={left:1,center:0,right:-1},Vu={bottom:-1,middle:0,top:1};if(Il==="auto"){var gu=Vu[$u];Fu=-Hl*vu*gu,Du=Hl*hu*gu}else{var Wu=Hu[Yl],qu=Vu[$u];Fu=Hl*Wu,Du=Hl*qu}bu=bu+Fu,Lu=Lu+Du}else Fu=Hl+3,Rl.indexOf("right")!==-1?(bu=Math.max(Fl,Nl)-Fu,Yl==="auto"&&(Yl="right")):Rl.indexOf("left")!==-1?(bu=Math.min(Fl,Nl)+Fu,Yl==="auto"&&(Yl="left")):(bu=(Fl+Nl)/2,Yl==="auto"&&(Yl="center")),Rl.indexOf("top")!==-1?Lu=Math.min($l,Ll):Rl.indexOf("bottom")!==-1?Lu=Math.max($l,Ll):Lu=($l+Ll)/2,Du=Hl,$u==="bottom"?Lu=Lu-Du:$u==="top"&&(Lu=Lu+Du);var np=Et[$u],_h=Ol.label.font.size,ap=_l.height,bp=(ap*np-_h)*vu,wp=-(ap*np-_h)*hu;return{textx:bu+bp,texty:Lu+wp,xanchor:Yl}}}),b3=a((Mu,yu)=>{var ls=vm(),_t=ls.strTranslate,Fn=ky(),xl=M2(),Bn=xl.drawMode,yl=xl.selectMode,Sl=Gp(),Al=cp(),Et=v3(),Pl=Et.i000,El=Et.i090,Fl=Et.i180,$l=Et.i270,Nl=Jv(),Ll=Nl.clearOutlineControllers,Ol=i2(),Bl=Ol.pointsOnRectangle,_l=Ol.pointsOnEllipse,Rl=Ol.writePaths,Il=y3().newShapes,Hl=y3().createShapeObj,Kl=ux(),Gu=H2();yu.exports=function $u(bu,Lu,Fu,Du){Du||(Du=0);var Hu=Fu.gd;function Vu(){$u(bu,Lu,Fu,Du++),(_l(bu[0])||Fu.hasText)&&gu({redrawing:!0})}function gu(r0){var e0={};Fu.isActiveShape!==void 0&&(Fu.isActiveShape=!1,e0=Il(Lu,Fu)),Fu.isActiveSelection!==void 0&&(Fu.isActiveSelection=!1,e0=Kl(Lu,Fu),Hu._fullLayout._reselect=!0),Object.keys(e0).length&&Sl.call((r0||{}).redrawing?"relayout":"_guiRelayout",Hu,e0)}var Wu=Hu._fullLayout,qu=Wu._zoomlayer,np=Fu.dragmode,_h=Bn(np),ap=yl(np);(_h||ap)&&(Hu._fullLayout._outlining=!0),Ll(Hu),Lu.attr("d",Rl(bu));var bp,wp,kp,Iu,Bu;if(!Du&&(Fu.isActiveShape||Fu.isActiveSelection)){Bu=vu([],bu);var Xl=qu.append("g").attr("class","outline-controllers");tp(Xl),u0()}if(_h&&Fu.hasText){var Uu=qu.select(".label-temp"),ep=Hl(Lu,Fu,Fu.dragmode);Gu(Hu,"label-temp",ep,Uu)}function _u(r0){kp=+r0.srcElement.getAttribute("data-i"),Iu=+r0.srcElement.getAttribute("data-j"),bp[kp][Iu].moveFn=Wl}function Wl(r0,e0){if(bu.length){var Cp=Bu[kp][Iu][1],Mp=Bu[kp][Iu][2],sp=bu[kp],Ip=sp.length;if(Bl(sp)){var Jp=r0,a0=e0;if(Fu.isActiveSelection){var v0=hu(sp,Iu);v0[1]===sp[Iu][1]?a0=0:Jp=0}for(var h0=0;h0<Ip;h0++)if(h0!==Iu){var w0=sp[h0];w0[1]===sp[Iu][1]&&(w0[1]=Cp+Jp),w0[2]===sp[Iu][2]&&(w0[2]=Mp+a0)}if(sp[Iu][1]=Cp+Jp,sp[Iu][2]=Mp+a0,!Bl(sp))for(var E0=0;E0<Ip;E0++)for(var _0=0;_0<sp[E0].length;_0++)sp[E0][_0]=Bu[kp][E0][_0]}else sp[Iu][1]=Cp+r0,sp[Iu][2]=Mp+e0;Vu()}}function Jl(){gu()}function Pu(){if(bu.length&&bu[kp]&&bu[kp].length){for(var r0=[],e0=0;e0<bu[kp].length;e0++)e0!==Iu&&r0.push(bu[kp][e0]);r0.length>1&&!(r0.length===2&&r0[1][0]==="Z")&&(Iu===0&&(r0[0][0]="M"),bu[kp]=r0,Vu(),gu())}}function Nu(r0,e0){if(r0===2){kp=+e0.srcElement.getAttribute("data-i"),Iu=+e0.srcElement.getAttribute("data-j");var Cp=bu[kp];!Bl(Cp)&&!_l(Cp)&&Pu()}}function tp(r0){bp=[];for(var e0=0;e0<bu.length;e0++){var Cp=bu[e0],Mp=Bl(Cp),sp=!Mp&&_l(Cp);bp[e0]=[];for(var Ip=Cp.length,Jp=0;Jp<Ip;Jp++)if(Cp[Jp][0]!=="Z"&&!(sp&&Jp!==Pl&&Jp!==El&&Jp!==Fl&&Jp!==$l)){var a0=Mp&&Fu.isActiveSelection,v0;a0&&(v0=hu(Cp,Jp));var h0=Cp[Jp][1],w0=Cp[Jp][2],E0=r0.append(a0?"rect":"circle").attr("data-i",e0).attr("data-j",Jp).style({fill:Al.background,stroke:Al.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(a0){var _0=v0[1]-h0,$0=v0[2]-w0,f0=$0?5:Math.max(Math.min(25,Math.abs(_0)-5),5),q0=_0?5:Math.max(Math.min(25,Math.abs($0)-5),5);E0.classed($0?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",f0).attr("height",q0).attr("x",h0-f0/2).attr("y",w0-q0/2).attr("transform",_t(_0/2,$0/2))}else E0.classed("cursor-grab",!0).attr("r",5).attr("cx",h0).attr("cy",w0);bp[e0][Jp]={element:E0.node(),gd:Hu,prepFn:_u,doneFn:Jl,clickFn:Nu},Fn.init(bp[e0][Jp])}}}function up(r0,e0){if(bu.length)for(var Cp=0;Cp<bu.length;Cp++)for(var Mp=0;Mp<bu[Cp].length;Mp++)for(var sp=0;sp+2<bu[Cp][Mp].length;sp+=2)bu[Cp][Mp][sp+1]=Bu[Cp][Mp][sp+1]+r0,bu[Cp][Mp][sp+2]=Bu[Cp][Mp][sp+2]+e0}function dp(r0,e0){up(r0,e0),Vu()}function Ap(r0){kp=+r0.srcElement.getAttribute("data-i"),kp||(kp=0),wp[kp].moveFn=dp}function Op(){gu()}function Zp(r0){r0===2&&Yl(Hu)}function u0(){if(wp=[],!!bu.length){var r0=0;wp[r0]={element:Lu[0][0],gd:Hu,prepFn:Ap,doneFn:Op,clickFn:Zp},Fn.init(wp[r0])}}};function vu($u,bu){for(var Lu=0;Lu<bu.length;Lu++){var Fu=bu[Lu];$u[Lu]=[];for(var Du=0;Du<Fu.length;Du++){$u[Lu][Du]=[];for(var Hu=0;Hu<Fu[Du].length;Hu++)$u[Lu][Du][Hu]=Fu[Du][Hu]}}return $u}function hu($u,bu){var Lu=$u[bu][1],Fu=$u[bu][2],Du=$u.length,Hu,Vu,gu;return Hu=(bu+1)%Du,Vu=$u[Hu][1],gu=$u[Hu][2],Vu===Lu&&gu===Fu&&(Hu=(bu+2)%Du,Vu=$u[Hu][1],gu=$u[Hu][2]),[Hu,Vu,gu]}function Yl($u){if(yl($u._fullLayout.dragmode)){Ll($u);var bu=$u._fullLayout._activeSelectionIndex,Lu=($u.layout||{}).selections||[];if(bu<Lu.length){for(var Fu=[],Du=0;Du<Lu.length;Du++)Du!==bu&&Fu.push(Lu[Du]);delete $u._fullLayout._activeSelectionIndex;var Hu=$u._fullLayout.selections[bu];$u._fullLayout._deselect={xref:Hu.xref,yref:Hu.yref},Sl.call("_guiRelayout",$u,{selections:Fu})}}}}),x3=a((Mu,yu)=>{var ls=g(),_t=Gp(),Fn=vm(),xl=pv(),Bn=i2().readPaths,yl=b3(),Sl=H2(),Al=Jv().clearOutlineControllers,Et=cp(),Pl=V1(),El=hv().arrayEditor,Fl=ky(),$l=n2(),Nl=$2(),Ll=xy(),Ol=Ll.getPathString;yu.exports={draw:Bl,drawOne:Il,eraseActiveShape:Yl,drawLabel:Sl};function Bl($u){var bu=$u._fullLayout;bu._shapeUpperLayer.selectAll("path").remove(),bu._shapeLowerLayer.selectAll("path").remove(),bu._shapeUpperLayer.selectAll("text").remove(),bu._shapeLowerLayer.selectAll("text").remove();for(var Lu in bu._plots){var Fu=bu._plots[Lu].shapelayer;Fu&&(Fu.selectAll("path").remove(),Fu.selectAll("text").remove())}for(var Du=0;Du<bu.shapes.length;Du++)bu.shapes[Du].visible===!0&&Il($u,Du)}function _l($u){return!!$u._fullLayout._outlining}function Rl($u){return!$u._context.edits.shapePosition}function Il($u,bu){$u._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+bu+'"]').remove();var Lu=Ll.makeShapesOptionsAndPlotinfo($u,bu),Fu=Lu.options,Du=Lu.plotinfo;if(!Fu._input||Fu.visible!==!0)return;if(Fu.layer==="above")Vu($u._fullLayout._shapeUpperLayer);else if(Fu.xref==="paper"||Fu.yref==="paper")Vu($u._fullLayout._shapeLowerLayer);else if(Fu.layer==="between")Vu(Du.shapelayerBetween);else if(Du._hadPlotinfo){var Hu=Du.mainplotinfo||Du;Vu(Hu.shapelayer)}else Vu($u._fullLayout._shapeLowerLayer);function Vu(gu){var Wu=Ol($u,Fu),qu={"data-index":bu,"fill-rule":Fu.fillrule,d:Wu},np=Fu.opacity,_h=Fu.fillcolor,ap=Fu.line.width?Fu.line.color:"rgba(0,0,0,0)",bp=Fu.line.width,wp=Fu.line.dash;!bp&&Fu.editable===!0&&(bp=5,wp="solid");var kp=Wu[Wu.length-1]!=="Z",Iu=Rl($u)&&Fu.editable&&$u._fullLayout._activeShapeIndex===bu;Iu&&(_h=kp?"rgba(0,0,0,0)":$u._fullLayout.activeshape.fillcolor,np=$u._fullLayout.activeshape.opacity);var Bu=gu.append("g").classed("shape-group",!0).attr({"data-index":bu}),Xl=Bu.append("path").attr(qu).style("opacity",np).call(Et.stroke,ap).call(Et.fill,_h).call(Pl.dashLine,wp,bp);Hl(Bu,$u,Fu),Sl($u,bu,Fu,Bu);var Uu;if((Iu||$u._context.edits.shapePosition)&&(Uu=El($u.layout,"shapes",Fu)),Iu){Xl.style({cursor:"move"});var ep={element:Xl.node(),plotinfo:Du,gd:$u,editHelpers:Uu,hasText:Fu.label.text||Fu.label.texttemplate,isActiveShape:!0},_u=Bn(Wu,$u);yl(_u,Xl,ep)}else $u._context.edits.shapePosition?Kl($u,Xl,Fu,bu,gu,Uu):Fu.editable===!0&&Xl.style("pointer-events",kp||Et.opacity(_h)*np<=.5?"stroke":"all");Xl.node().addEventListener("click",function(){return vu($u,Xl)})}}function Hl($u,bu,Lu){var Fu=(Lu.xref+Lu.yref).replace(/paper/g,"").replace(/[xyz][0-9]* *domain/g,"");Pl.setClipUrl($u,Fu?"clip"+bu._fullLayout._uid+Fu:null,bu)}function Kl($u,bu,Lu,Fu,Du,Hu){var Vu=10,gu=10,Wu=Lu.xsizemode==="pixel",qu=Lu.ysizemode==="pixel",np=Lu.type==="line",_h=Lu.type==="path",ap=Hu.modifyItem,bp,wp,kp,Iu,Bu,Xl,Uu,ep,_u,Wl,Jl,Pu,Nu,tp,up,dp=ls.select(bu.node().parentNode),Ap=xl.getFromId($u,Lu.xref),Op=xl.getRefType(Lu.xref),Zp=xl.getFromId($u,Lu.yref),u0=xl.getRefType(Lu.yref),r0=Lu.x0shift,e0=Lu.x1shift,Cp=Lu.y0shift,Mp=Lu.y1shift,sp=function(lp,mp){var Tp=Ll.getDataToPixel($u,Ap,mp,!1,Op);return Tp(lp)},Ip=function(lp,mp){var Tp=Ll.getDataToPixel($u,Zp,mp,!0,u0);return Tp(lp)},Jp=Ll.getPixelToData($u,Ap,!1,Op),a0=Ll.getPixelToData($u,Zp,!0,u0),v0=E0(),h0={element:v0.node(),gd:$u,prepFn:f0,doneFn:q0,clickFn:J0},w0;Fl.init(h0),v0.node().onmousemove=$0;function E0(){return np?_0():bu}function _0(){var lp=10,mp=Math.max(Lu.line.width,lp),Tp=Du.append("g").attr("data-index",Fu).attr("drag-helper",!0);Tp.append("path").attr("d",bu.attr("d")).style({cursor:"move","stroke-width":mp,"stroke-opacity":"0"});var Lp={"fill-opacity":"0"},Up=Math.max(mp/2,lp);return Tp.append("circle").attr({"data-line-point":"start-point",cx:Wu?sp(Lu.xanchor)+Lu.x0:sp(Lu.x0,r0),cy:qu?Ip(Lu.yanchor)-Lu.y0:Ip(Lu.y0,Cp),r:Up}).style(Lp).classed("cursor-grab",!0),Tp.append("circle").attr({"data-line-point":"end-point",cx:Wu?sp(Lu.xanchor)+Lu.x1:sp(Lu.x1,e0),cy:qu?Ip(Lu.yanchor)-Lu.y1:Ip(Lu.y1,Mp),r:Up}).style(Lp).classed("cursor-grab",!0),Tp}function $0(lp){if(_l($u)){w0=null;return}if(np)lp.target.tagName==="path"?w0="move":w0=lp.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var mp=h0.element.getBoundingClientRect(),Tp=mp.right-mp.left,Lp=mp.bottom-mp.top,Up=lp.clientX-mp.left,Xp=lp.clientY-mp.top,c0=!_h&&Tp>Vu&&Lp>gu&&!lp.shiftKey?Fl.getCursor(Up/Tp,1-Xp/Lp):"move";$l(bu,c0),w0=c0.split("-")[0]}}function f0(lp){_l($u)||(Wu&&(Bu=sp(Lu.xanchor)),qu&&(Xl=Ip(Lu.yanchor)),Lu.type==="path"?up=Lu.path:(bp=Wu?Lu.x0:sp(Lu.x0),wp=qu?Lu.y0:Ip(Lu.y0),kp=Wu?Lu.x1:sp(Lu.x1),Iu=qu?Lu.y1:Ip(Lu.y1)),bp<kp?(_u=bp,Nu="x0",Wl=kp,tp="x1"):(_u=kp,Nu="x1",Wl=bp,tp="x0"),!qu&&wp<Iu||qu&&wp>Iu?(Uu=wp,Jl="y0",ep=Iu,Pu="y1"):(Uu=Iu,Jl="y1",ep=wp,Pu="y0"),$0(lp),Ep(Du,Lu),Zu(bu,Lu,$u),h0.moveFn=w0==="move"?V0:nm,h0.altKey=lp.altKey)}function q0(){_l($u)||($l(bu),$p(Du),Hl(bu,$u,Lu),_t.call("_guiRelayout",$u,Hu.getUpdateObj()))}function J0(){_l($u)||$p(Du)}function V0(lp,mp){if(Lu.type==="path"){var Tp=function(Xp){return Xp},Lp=Tp,Up=Tp;Wu?ap("xanchor",Lu.xanchor=Jp(Bu+lp)):(Lp=function(Xp){return Jp(sp(Xp)+lp)},Ap&&Ap.type==="date"&&(Lp=Ll.encodeDate(Lp))),qu?ap("yanchor",Lu.yanchor=a0(Xl+mp)):(Up=function(Xp){return a0(Ip(Xp)+mp)},Zp&&Zp.type==="date"&&(Up=Ll.encodeDate(Up))),ap("path",Lu.path=Gu(up,Lp,Up))}else Wu?ap("xanchor",Lu.xanchor=Jp(Bu+lp)):(ap("x0",Lu.x0=Jp(bp+lp)),ap("x1",Lu.x1=Jp(kp+lp))),qu?ap("yanchor",Lu.yanchor=a0(Xl+mp)):(ap("y0",Lu.y0=a0(wp+mp)),ap("y1",Lu.y1=a0(Iu+mp)));bu.attr("d",Ol($u,Lu)),Ep(Du,Lu),Sl($u,Fu,Lu,dp)}function nm(lp,mp){if(_h){var Tp=function(sm){return sm},Lp=Tp,Up=Tp;Wu?ap("xanchor",Lu.xanchor=Jp(Bu+lp)):(Lp=function(sm){return Jp(sp(sm)+lp)},Ap&&Ap.type==="date"&&(Lp=Ll.encodeDate(Lp))),qu?ap("yanchor",Lu.yanchor=a0(Xl+mp)):(Up=function(sm){return a0(Ip(sm)+mp)},Zp&&Zp.type==="date"&&(Up=Ll.encodeDate(Up))),ap("path",Lu.path=Gu(up,Lp,Up))}else if(np){if(w0==="resize-over-start-point"){var Xp=bp+lp,c0=qu?wp-mp:wp+mp;ap("x0",Lu.x0=Wu?Xp:Jp(Xp)),ap("y0",Lu.y0=qu?c0:a0(c0))}else if(w0==="resize-over-end-point"){var i0=kp+lp,s0=qu?Iu-mp:Iu+mp;ap("x1",Lu.x1=Wu?i0:Jp(i0)),ap("y1",Lu.y1=qu?s0:a0(s0))}}else{var M0=function(sm){return w0.indexOf(sm)!==-1},A0=M0("n"),R0=M0("s"),rm=M0("w"),wm=M0("e"),Bm=A0?Uu+mp:Uu,Vm=R0?ep+mp:ep,Ym=rm?_u+lp:_u,_m=wm?Wl+lp:Wl;qu&&(A0&&(Bm=Uu-mp),R0&&(Vm=ep-mp)),(!qu&&Vm-Bm>gu||qu&&Bm-Vm>gu)&&(ap(Jl,Lu[Jl]=qu?Bm:a0(Bm)),ap(Pu,Lu[Pu]=qu?Vm:a0(Vm))),_m-Ym>Vu&&(ap(Nu,Lu[Nu]=Wu?Ym:Jp(Ym)),ap(tp,Lu[tp]=Wu?_m:Jp(_m)))}bu.attr("d",Ol($u,Lu)),Ep(Du,Lu),Sl($u,Fu,Lu,dp)}function Ep(lp,mp){(Wu||qu)&&Tp();function Tp(){var Lp=mp.type!=="path",Up=lp.selectAll(".visual-cue").data([0]),Xp=1;Up.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":Xp}).classed("visual-cue",!0);var c0=sp(Wu?mp.xanchor:Fn.midRange(Lp?[mp.x0,mp.x1]:Ll.extractPathCoords(mp.path,Nl.paramIsX))),i0=Ip(qu?mp.yanchor:Fn.midRange(Lp?[mp.y0,mp.y1]:Ll.extractPathCoords(mp.path,Nl.paramIsY)));if(c0=Ll.roundPositionForSharpStrokeRendering(c0,Xp),i0=Ll.roundPositionForSharpStrokeRendering(i0,Xp),Wu&&qu){var s0="M"+(c0-1-Xp)+","+(i0-1-Xp)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Up.attr("d",s0)}else if(Wu){var M0="M"+(c0-1-Xp)+","+(i0-9-Xp)+"v18 h2 v-18 Z";Up.attr("d",M0)}else{var A0="M"+(c0-9-Xp)+","+(i0-1-Xp)+"h18 v2 h-18 Z";Up.attr("d",A0)}}}function $p(lp){lp.selectAll(".visual-cue").remove()}function Zu(lp,mp,Tp){var Lp=mp.xref,Up=mp.yref,Xp=xl.getFromId(Tp,Lp),c0=xl.getFromId(Tp,Up),i0="";Lp!=="paper"&&!Xp.autorange&&(i0+=Lp),Up!=="paper"&&!c0.autorange&&(i0+=Up),Pl.setClipUrl(lp,i0?"clip"+Tp._fullLayout._uid+i0:null,Tp)}}function Gu($u,bu,Lu){return $u.replace(Nl.segmentRE,function(Fu){var Du=0,Hu=Fu.charAt(0),Vu=Nl.paramIsX[Hu],gu=Nl.paramIsY[Hu],Wu=Nl.numParams[Hu],qu=Fu.substr(1).replace(Nl.paramRE,function(np){return Du>=Wu||(Vu[Du]?np=bu(np):gu[Du]&&(np=Lu(np)),Du++),np});return Hu+qu})}function vu($u,bu){if(Rl($u)){var Lu=bu.node(),Fu=+Lu.getAttribute("data-index");if(Fu>=0){if(Fu===$u._fullLayout._activeShapeIndex){hu($u);return}$u._fullLayout._activeShapeIndex=Fu,$u._fullLayout._deactivateShape=hu,Bl($u)}}}function hu($u){if(Rl($u)){var bu=$u._fullLayout._activeShapeIndex;bu>=0&&(Al($u),delete $u._fullLayout._activeShapeIndex,Bl($u))}}function Yl($u){if(Rl($u)){Al($u);var bu=$u._fullLayout._activeShapeIndex,Lu=($u.layout||{}).shapes||[];if(bu<Lu.length){for(var Fu=[],Du=0;Du<Lu.length;Du++)Du!==bu&&Fu.push(Lu[Du]);return delete $u._fullLayout._activeShapeIndex,_t.call("_guiRelayout",$u,{shapes:Fu})}}}}),dx=a((Mu,yu)=>{var ls=Gp(),_t=Fv(),Fn=mv(),xl=m3(),Bn=x3().eraseActiveShape,yl=vm(),Sl=yl._,Al=yu.exports={};Al.toImage={name:"toImage",title:function(Kl){var Gu=Kl._context.toImageButtonOptions||{},vu=Gu.format||"png";return vu==="png"?Sl(Kl,"Download plot as a PNG"):Sl(Kl,"Download plot")},icon:xl.camera,click:function(Kl){var Gu=Kl._context.toImageButtonOptions,vu={format:Gu.format||"png"};yl.notifier(Sl(Kl,"Taking snapshot - this may take a few seconds"),"long"),["filename","width","height","scale"].forEach(function(hu){hu in Gu&&(vu[hu]=Gu[hu])}),ls.call("downloadImage",Kl,vu).then(function(hu){yl.notifier(Sl(Kl,"Snapshot succeeded")+" - "+hu,"long")}).catch(function(){yl.notifier(Sl(Kl,"Sorry, there was a problem downloading your snapshot!"),"long")})}},Al.sendDataToCloud={name:"sendDataToCloud",title:function(Kl){return Sl(Kl,"Edit in Chart Studio")},icon:xl.disk,click:function(Kl){_t.sendDataToCloud(Kl)}},Al.editInChartStudio={name:"editInChartStudio",title:function(Kl){return Sl(Kl,"Edit in Chart Studio")},icon:xl.pencil,click:function(Kl){_t.sendDataToCloud(Kl)}},Al.zoom2d={name:"zoom2d",_cat:"zoom",title:function(Kl){return Sl(Kl,"Zoom")},attr:"dragmode",val:"zoom",icon:xl.zoombox,click:Et},Al.pan2d={name:"pan2d",_cat:"pan",title:function(Kl){return Sl(Kl,"Pan")},attr:"dragmode",val:"pan",icon:xl.pan,click:Et},Al.select2d={name:"select2d",_cat:"select",title:function(Kl){return Sl(Kl,"Box Select")},attr:"dragmode",val:"select",icon:xl.selectbox,click:Et},Al.lasso2d={name:"lasso2d",_cat:"lasso",title:function(Kl){return Sl(Kl,"Lasso Select")},attr:"dragmode",val:"lasso",icon:xl.lasso,click:Et},Al.drawclosedpath={name:"drawclosedpath",title:function(Kl){return Sl(Kl,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:xl.drawclosedpath,click:Et},Al.drawopenpath={name:"drawopenpath",title:function(Kl){return Sl(Kl,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:xl.drawopenpath,click:Et},Al.drawline={name:"drawline",title:function(Kl){return Sl(Kl,"Draw line")},attr:"dragmode",val:"drawline",icon:xl.drawline,click:Et},Al.drawrect={name:"drawrect",title:function(Kl){return Sl(Kl,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:xl.drawrect,click:Et},Al.drawcircle={name:"drawcircle",title:function(Kl){return Sl(Kl,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:xl.drawcircle,click:Et},Al.eraseshape={name:"eraseshape",title:function(Kl){return Sl(Kl,"Erase active shape")},icon:xl.eraseshape,click:Bn},Al.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(Kl){return Sl(Kl,"Zoom in")},attr:"zoom",val:"in",icon:xl.zoom_plus,click:Et},Al.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(Kl){return Sl(Kl,"Zoom out")},attr:"zoom",val:"out",icon:xl.zoom_minus,click:Et},Al.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(Kl){return Sl(Kl,"Autoscale")},attr:"zoom",val:"auto",icon:xl.autoscale,click:Et},Al.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(Kl){return Sl(Kl,"Reset axes")},attr:"zoom",val:"reset",icon:xl.home,click:Et},Al.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(Kl){return Sl(Kl,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:xl.tooltip_basic,gravity:"ne",click:Et},Al.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(Kl){return Sl(Kl,"Compare data on hover")},attr:"hovermode",val:function(Kl){return Kl._fullLayout._isHoriz?"y":"x"},icon:xl.tooltip_compare,gravity:"ne",click:Et};function Et(Kl,Gu){var vu=Gu.currentTarget,hu=vu.getAttribute("data-attr"),Yl=vu.getAttribute("data-val")||!0,$u=Kl._fullLayout,bu={},Lu=Fn.list(Kl,null,!0),Fu=$u._cartesianSpikesEnabled,Du,Hu;if(hu==="zoom"){var Vu=Yl==="in"?.5:2,gu=(1+Vu)/2,Wu=(1-Vu)/2,qu,np;for(Hu=0;Hu<Lu.length;Hu++)if(Du=Lu[Hu],np=Du.modebardisable==="none"||Du.modebardisable.indexOf(Yl==="auto"||Yl==="reset"?"autoscale":"zoominout")===-1,np&&!Du.fixedrange)if(qu=Du._name,Yl==="auto")bu[qu+".autorange"]=!0;else if(Yl==="reset")Du._rangeInitial0===void 0&&Du._rangeInitial1===void 0?bu[qu+".autorange"]=!0:Du._rangeInitial0===void 0?(bu[qu+".autorange"]=Du._autorangeInitial,bu[qu+".range"]=[null,Du._rangeInitial1]):Du._rangeInitial1===void 0?(bu[qu+".range"]=[Du._rangeInitial0,null],bu[qu+".autorange"]=Du._autorangeInitial):bu[qu+".range"]=[Du._rangeInitial0,Du._rangeInitial1],Du._showSpikeInitial!==void 0&&(bu[qu+".showspikes"]=Du._showSpikeInitial,Fu==="on"&&!Du._showSpikeInitial&&(Fu="off"));else{var _h=[Du.r2l(Du.range[0]),Du.r2l(Du.range[1])],ap=[gu*_h[0]+Wu*_h[1],gu*_h[1]+Wu*_h[0]];bu[qu+".range[0]"]=Du.l2r(ap[0]),bu[qu+".range[1]"]=Du.l2r(ap[1])}}else hu==="hovermode"&&(Yl==="x"||Yl==="y")&&(Yl=$u._isHoriz?"y":"x",vu.setAttribute("data-val",Yl)),bu[hu]=Yl;$u._cartesianSpikesEnabled=Fu,ls.call("_guiRelayout",Kl,bu)}Al.zoom3d={name:"zoom3d",_cat:"zoom",title:function(Kl){return Sl(Kl,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:xl.zoombox,click:Pl},Al.pan3d={name:"pan3d",_cat:"pan",title:function(Kl){return Sl(Kl,"Pan")},attr:"scene.dragmode",val:"pan",icon:xl.pan,click:Pl},Al.orbitRotation={name:"orbitRotation",title:function(Kl){return Sl(Kl,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:xl["3d_rotate"],click:Pl},Al.tableRotation={name:"tableRotation",title:function(Kl){return Sl(Kl,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:xl["z-axis"],click:Pl};function Pl(Kl,Gu){for(var vu=Gu.currentTarget,hu=vu.getAttribute("data-attr"),Yl=vu.getAttribute("data-val")||!0,$u=Kl._fullLayout._subplots.gl3d||[],bu={},Lu=hu.split("."),Fu=0;Fu<$u.length;Fu++)bu[$u[Fu]+"."+Lu[1]]=Yl;var Du=Yl==="pan"?Yl:"zoom";bu.dragmode=Du,ls.call("_guiRelayout",Kl,bu)}Al.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(Kl){return Sl(Kl,"Reset camera to default")},attr:"resetDefault",icon:xl.home,click:El},Al.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(Kl){return Sl(Kl,"Reset camera to last save")},attr:"resetLastSave",icon:xl.movie,click:El};function El(Kl,Gu){for(var vu=Gu.currentTarget,hu=vu.getAttribute("data-attr"),Yl=hu==="resetLastSave",$u=hu==="resetDefault",bu=Kl._fullLayout,Lu=bu._subplots.gl3d||[],Fu={},Du=0;Du<Lu.length;Du++){var Hu=Lu[Du],Vu=Hu+".camera",gu=Hu+".aspectratio",Wu=Hu+".aspectmode",qu=bu[Hu]._scene,np;Yl?(Fu[Vu+".up"]=qu.viewInitial.up,Fu[Vu+".eye"]=qu.viewInitial.eye,Fu[Vu+".center"]=qu.viewInitial.center,np=!0):$u&&(Fu[Vu+".up"]=null,Fu[Vu+".eye"]=null,Fu[Vu+".center"]=null,np=!0),np&&(Fu[gu+".x"]=qu.viewInitial.aspectratio.x,Fu[gu+".y"]=qu.viewInitial.aspectratio.y,Fu[gu+".z"]=qu.viewInitial.aspectratio.z,Fu[Wu]=qu.viewInitial.aspectmode)}ls.call("_guiRelayout",Kl,Fu)}Al.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(Kl){return Sl(Kl,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:xl.tooltip_basic,gravity:"ne",click:$l};function Fl(Kl,Gu){var vu=Gu.currentTarget,hu=vu._previousVal,Yl=Kl._fullLayout,$u=Yl._subplots.gl3d||[],bu=["xaxis","yaxis","zaxis"],Lu={},Fu={};if(hu)Fu=hu,vu._previousVal=null;else{for(var Du=0;Du<$u.length;Du++){var Hu=$u[Du],Vu=Yl[Hu],gu=Hu+".hovermode";Lu[gu]=Vu.hovermode,Fu[gu]=!1;for(var Wu=0;Wu<3;Wu++){var qu=bu[Wu],np=Hu+"."+qu+".showspikes";Fu[np]=!1,Lu[np]=Vu[qu].showspikes}}vu._previousVal=Lu}return Fu}function $l(Kl,Gu){var vu=Fl(Kl,Gu);ls.call("_guiRelayout",Kl,vu)}Al.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(Kl){return Sl(Kl,"Zoom in")},attr:"zoom",val:"in",icon:xl.zoom_plus,click:Nl},Al.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(Kl){return Sl(Kl,"Zoom out")},attr:"zoom",val:"out",icon:xl.zoom_minus,click:Nl},Al.resetGeo={name:"resetGeo",_cat:"reset",title:function(Kl){return Sl(Kl,"Reset")},attr:"reset",val:null,icon:xl.autoscale,click:Nl},Al.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(Kl){return Sl(Kl,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:xl.tooltip_basic,gravity:"ne",click:Ol};function Nl(Kl,Gu){for(var vu=Gu.currentTarget,hu=vu.getAttribute("data-attr"),Yl=vu.getAttribute("data-val")||!0,$u=Kl._fullLayout,bu=$u._subplots.geo||[],Lu=0;Lu<bu.length;Lu++){var Fu=bu[Lu],Du=$u[Fu];if(hu==="zoom"){var Hu=Du.projection.scale,Vu=Yl==="in"?2*Hu:.5*Hu;ls.call("_guiRelayout",Kl,Fu+".projection.scale",Vu)}}hu==="reset"&&Hl(Kl,"geo")}Al.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(Kl){return Sl(Kl,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:xl.tooltip_basic,gravity:"ne",click:Ol};function Ll(Kl){var Gu=Kl._fullLayout;return Gu.hovermode?!1:Gu._has("cartesian")?Gu._isHoriz?"y":"x":"closest"}function Ol(Kl){var Gu=Ll(Kl);ls.call("_guiRelayout",Kl,"hovermode",Gu)}Al.resetViewSankey={name:"resetSankeyGroup",title:function(Kl){return Sl(Kl,"Reset view")},icon:xl.home,click:function(Kl){for(var Gu={"node.groups":[],"node.x":[],"node.y":[]},vu=0;vu<Kl._fullData.length;vu++){var hu=Kl._fullData[vu]._viewInitial;Gu["node.groups"].push(hu.node.groups.slice()),Gu["node.x"].push(hu.node.x.slice()),Gu["node.y"].push(hu.node.y.slice())}ls.call("restyle",Kl,Gu)}},Al.toggleHover={name:"toggleHover",title:function(Kl){return Sl(Kl,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:xl.tooltip_basic,gravity:"ne",click:function(Kl,Gu){var vu=Fl(Kl,Gu);vu.hovermode=Ll(Kl),ls.call("_guiRelayout",Kl,vu)}},Al.resetViews={name:"resetViews",title:function(Kl){return Sl(Kl,"Reset views")},icon:xl.home,click:function(Kl,Gu){var vu=Gu.currentTarget;vu.setAttribute("data-attr","zoom"),vu.setAttribute("data-val","reset"),Et(Kl,Gu),vu.setAttribute("data-attr","resetLastSave"),El(Kl,Gu),Hl(Kl,"geo"),Hl(Kl,"mapbox"),Hl(Kl,"map")}},Al.toggleSpikelines={name:"toggleSpikelines",title:function(Kl){return Sl(Kl,"Toggle Spike Lines")},icon:xl.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(Kl){var Gu=Kl._fullLayout,vu=Gu._cartesianSpikesEnabled;Gu._cartesianSpikesEnabled=vu==="on"?"off":"on",ls.call("_guiRelayout",Kl,Bl(Kl))}};function Bl(Kl){for(var Gu=Kl._fullLayout,vu=Gu._cartesianSpikesEnabled==="on",hu=Fn.list(Kl,null,!0),Yl={},$u=0;$u<hu.length;$u++){var bu=hu[$u];Yl[bu._name+".showspikes"]=vu?!0:bu._showSpikeInitial}return Yl}Al.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(Kl){return Sl(Kl,"Reset view")},attr:"reset",icon:xl.home,click:function(Kl){Hl(Kl,"mapbox")}},Al.resetViewMap={name:"resetViewMap",_cat:"resetView",title:function(Kl){return Sl(Kl,"Reset view")},attr:"reset",icon:xl.home,click:function(Kl){Hl(Kl,"map")}},Al.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(Kl){return Sl(Kl,"Zoom in")},attr:"zoom",val:"in",icon:xl.zoom_plus,click:_l},Al.zoomInMap={name:"zoomInMap",_cat:"zoomin",title:function(Kl){return Sl(Kl,"Zoom in")},attr:"zoom",val:"in",icon:xl.zoom_plus,click:Rl},Al.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(Kl){return Sl(Kl,"Zoom out")},attr:"zoom",val:"out",icon:xl.zoom_minus,click:_l},Al.zoomOutMap={name:"zoomOutMap",_cat:"zoomout",title:function(Kl){return Sl(Kl,"Zoom out")},attr:"zoom",val:"out",icon:xl.zoom_minus,click:Rl};function _l(Kl,Gu){Il(Kl,Gu,"mapbox")}function Rl(Kl,Gu){Il(Kl,Gu,"map")}function Il(Kl,Gu,vu){for(var hu=Gu.currentTarget,Yl=hu.getAttribute("data-val"),$u=Kl._fullLayout,bu=$u._subplots[vu]||[],Lu=1.05,Fu={},Du=0;Du<bu.length;Du++){var Hu=bu[Du],Vu=$u[Hu].zoom,gu=Yl==="in"?Lu*Vu:Vu/Lu;Fu[Hu+".zoom"]=gu}ls.call("_guiRelayout",Kl,Fu)}function Hl(Kl,Gu){for(var vu=Kl._fullLayout,hu=vu._subplots[Gu]||[],Yl={},$u=0;$u<hu.length;$u++)for(var bu=hu[$u],Lu=vu[bu]._subplot,Fu=Lu.viewInitial,Du=Object.keys(Fu),Hu=0;Hu<Du.length;Hu++){var Vu=Du[Hu];Yl[bu+"."+Vu]=Fu[Vu]}ls.call("_guiRelayout",Kl,Yl)}}),hx=a((Mu,yu)=>{var ls=dx(),_t=Object.keys(ls),Fn=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],xl=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(Fn),Bn=[],yl=function(Sl){if(xl.indexOf(Sl._cat||Sl.name)===-1){var Al=Sl.name,Et=(Sl._cat||Sl.name).toLowerCase();Bn.indexOf(Al)===-1&&Bn.push(Al),Bn.indexOf(Et)===-1&&Bn.push(Et)}};_t.forEach(function(Sl){yl(ls[Sl])}),Bn.sort(),yu.exports={DRAW_MODES:Fn,backButtons:xl,foreButtons:Bn}}),px=a((Mu,yu)=>{hx(),yu.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}}),Aw=a((Mu,yu)=>{var ls=vm(),_t=cp(),Fn=hv(),xl=px();yu.exports=function(Bn,yl){var Sl=Bn.modebar||{},Al=Fn.newContainer(yl,"modebar");function Et(El,Fl){return ls.coerce(Sl,Al,xl,El,Fl)}Et("orientation"),Et("bgcolor",_t.addOpacity(yl.paper_bgcolor,.5));var Pl=_t.contrast(_t.rgb(yl.modebar.bgcolor));Et("color",_t.addOpacity(Pl,.3)),Et("activecolor",_t.addOpacity(Pl,.7)),Et("uirevision",yl.uirevision),Et("add"),Et("remove")}}),Tw=a((Mu,yu)=>{var ls=g(),_t=rt(),Fn=vm(),xl=m3(),Bn=c().version,yl=new DOMParser;function Sl(El){this.container=El.container,this.element=document.createElement("div"),this.update(El.graphInfo,El.buttons),this.container.appendChild(this.element)}var Al=Sl.prototype;Al.update=function(El,Fl){this.graphInfo=El;var $l=this.graphInfo._context,Nl=this.graphInfo._fullLayout,Ll="modebar-"+Nl._uid;this.element.setAttribute("id",Ll),this.element.setAttribute("role","toolbar"),this._uid=Ll,this.element.className="modebar modebar--custom",$l.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),Nl.modebar.orientation==="v"&&(this.element.className+=" vertical",Fl=Fl.reverse());var Ol=Nl.modebar,Bl="#"+Ll+" .modebar-group";document.querySelectorAll(Bl).forEach(function(Kl){Kl.style.backgroundColor=Ol.bgcolor});var _l=!this.hasButtons(Fl),Rl=this.hasLogo!==$l.displaylogo,Il=this.locale!==$l.locale;if(this.locale=$l.locale,(_l||Rl||Il)&&(this.removeAllButtons(),this.updateButtons(Fl),$l.watermark||$l.displaylogo)){var Hl=this.getLogo();$l.watermark&&(Hl.className=Hl.className+" watermark"),Nl.modebar.orientation==="v"?this.element.insertBefore(Hl,this.element.childNodes[0]):this.element.appendChild(Hl),this.hasLogo=!0}this.updateActiveButton(),Fn.setStyleOnHover("#"+Ll+" .modebar-btn",".active",".icon path","fill: "+Ol.activecolor,"fill: "+Ol.color,this.element)},Al.updateButtons=function(El){var Fl=this;this.buttons=El,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function($l){var Nl=Fl.createGroup();$l.forEach(function(Ll){var Ol=Ll.name;if(!Ol)throw new Error("must provide button 'name' in button config");if(Fl.buttonsNames.indexOf(Ol)!==-1)throw new Error("button name '"+Ol+"' is taken");Fl.buttonsNames.push(Ol);var Bl=Fl.createButton(Ll);Fl.buttonElements.push(Bl),Nl.appendChild(Bl)}),Fl.element.appendChild(Nl)})},Al.createGroup=function(){var El=document.createElement("div");El.className="modebar-group";var Fl=this.graphInfo._fullLayout.modebar;return El.style.backgroundColor=Fl.bgcolor,El},Al.createButton=function(El){var Fl=this,$l=document.createElement("button");$l.setAttribute("type","button"),$l.setAttribute("rel","tooltip"),$l.className="modebar-btn";var Nl=El.title;Nl===void 0?Nl=El.name:typeof Nl=="function"&&(Nl=Nl(this.graphInfo)),(Nl||Nl===0)&&($l.setAttribute("data-title",Nl),$l.setAttribute("aria-label",Nl)),El.attr!==void 0&&$l.setAttribute("data-attr",El.attr);var Ll=El.val;Ll!==void 0&&(typeof Ll=="function"&&(Ll=Ll(this.graphInfo)),$l.setAttribute("data-val",Ll));var Ol=El.click;if(typeof Ol!="function")throw new Error("must provide button 'click' function in button config");$l.addEventListener("click",function(_l){El.click(Fl.graphInfo,_l),Fl.updateActiveButton(_l.currentTarget)}),$l.setAttribute("data-toggle",El.toggle||!1),El.toggle&&ls.select($l).classed("active",!0);var Bl=El.icon;return typeof Bl=="function"?$l.appendChild(Bl()):$l.appendChild(this.createIcon(Bl||xl.question)),$l.setAttribute("data-gravity",El.gravity||"n"),$l},Al.createIcon=function(El){var Fl=_t(El.height)?Number(El.height):El.ascent-El.descent,$l="http://www.w3.org/2000/svg",Nl;if(El.path){Nl=document.createElementNS($l,"svg"),Nl.setAttribute("viewBox",[0,0,El.width,Fl].join(" ")),Nl.setAttribute("class","icon");var Ll=document.createElementNS($l,"path");Ll.setAttribute("d",El.path),El.transform?Ll.setAttribute("transform",El.transform):El.ascent!==void 0&&Ll.setAttribute("transform","matrix(1 0 0 -1 0 "+El.ascent+")"),Nl.appendChild(Ll)}if(El.svg){var Ol=yl.parseFromString(El.svg,"application/xml");Nl=Ol.childNodes[0]}return Nl.setAttribute("height","1em"),Nl.setAttribute("width","1em"),Nl},Al.updateActiveButton=function(El){var Fl=this.graphInfo._fullLayout,$l=El!==void 0?El.getAttribute("data-attr"):null;this.buttonElements.forEach(function(Nl){var Ll=Nl.getAttribute("data-val")||!0,Ol=Nl.getAttribute("data-attr"),Bl=Nl.getAttribute("data-toggle")==="true",_l=ls.select(Nl),Rl=function(Kl,Gu){var vu=Fl.modebar,hu=Kl.querySelector(".icon path");hu&&(Gu||Kl.matches(":hover")?hu.style.fill=vu.activecolor:hu.style.fill=vu.color)};if(Bl){if(Ol===$l){var Il=!_l.classed("active");_l.classed("active",Il),Rl(Nl,Il)}}else{var Hl=Ol===null?Ol:Fn.nestedProperty(Fl,Ol).get();_l.classed("active",Hl===Ll),Rl(Nl,Hl===Ll)}})},Al.hasButtons=function(El){var Fl=this.buttons;if(!Fl||El.length!==Fl.length)return!1;for(var $l=0;$l<El.length;++$l){if(El[$l].length!==Fl[$l].length)return!1;for(var Nl=0;Nl<El[$l].length;Nl++)if(El[$l][Nl].name!==Fl[$l][Nl].name)return!1}return!0};function Et(El){return El+" (v"+Bn+")"}Al.getLogo=function(){var El=this.createGroup(),Fl=document.createElement("a");return Fl.href="https://plotly.com/",Fl.target="_blank",Fl.setAttribute("data-title",Et(Fn._(this.graphInfo,"Produced with Plotly.js"))),Fl.className="modebar-btn plotlyjsicon modebar-btn--logo",Fl.appendChild(this.createIcon(xl.newplotlylogo)),El.appendChild(Fl),El},Al.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},Al.destroy=function(){Fn.removeElement(this.container.querySelector(".modebar"))};function Pl(El,Fl){var $l=El._fullLayout,Nl=new Sl({graphInfo:El,container:$l._modebardiv.node(),buttons:Fl});return $l._privateplot&&ls.select(Nl.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),Nl}yu.exports=Pl}),j2=a((Mu,yu)=>{var ls=mv(),_t=cy(),Fn=Gp(),xl=Ny().isUnifiedHover,Bn=Tw(),yl=dx(),Sl=hx().DRAW_MODES,Al=vm().extendDeep;yu.exports=function(Ll){var Ol=Ll._fullLayout,Bl=Ll._context,_l=Ol._modeBar;if(!Bl.displayModeBar&&!Bl.watermark){_l&&(_l.destroy(),delete Ol._modeBar);return}if(!Array.isArray(Bl.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(Bl.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var Rl=Bl.modeBarButtons,Il;Array.isArray(Rl)&&Rl.length?Il=Nl(Rl):!Bl.displayModeBar&&Bl.watermark?Il=[]:Il=Et(Ll),_l?_l.update(Ll,Il):Ol._modeBar=Bn(Ll,Il)};function Et(Ll){var Ol=Ll._fullLayout,Bl=Ll._fullData,_l=Ll._context;function Rl(Wl,Jl){if(typeof Jl=="string"){if(Jl.toLowerCase()===Wl.toLowerCase())return!0}else{var Pu=Jl.name,Nu=Jl._cat||Jl.name;if(Pu===Wl||Nu===Wl.toLowerCase())return!0}return!1}var Il=Ol.modebar.add;typeof Il=="string"&&(Il=[Il]);var Hl=Ol.modebar.remove;typeof Hl=="string"&&(Hl=[Hl]);var Kl=_l.modeBarButtonsToAdd.concat(Il.filter(function(Wl){for(var Jl=0;Jl<_l.modeBarButtonsToRemove.length;Jl++)if(Rl(Wl,_l.modeBarButtonsToRemove[Jl]))return!1;return!0})),Gu=_l.modeBarButtonsToRemove.concat(Hl.filter(function(Wl){for(var Jl=0;Jl<_l.modeBarButtonsToAdd.length;Jl++)if(Rl(Wl,_l.modeBarButtonsToAdd[Jl]))return!1;return!0})),vu=Ol._has("cartesian"),hu=Ol._has("gl3d"),Yl=Ol._has("geo"),$u=Ol._has("pie"),bu=Ol._has("funnelarea"),Lu=Ol._has("ternary"),Fu=Ol._has("mapbox"),Du=Ol._has("map"),Hu=Ol._has("polar"),Vu=Ol._has("smith"),gu=Ol._has("sankey"),Wu=Pl(Ol),qu=xl(Ol.hovermode),np=[];function _h(Wl){if(Wl.length){for(var Jl=[],Pu=0;Pu<Wl.length;Pu++){for(var Nu=Wl[Pu],tp=yl[Nu],up=tp.name.toLowerCase(),dp=(tp._cat||tp.name).toLowerCase(),Ap=!1,Op=0;Op<Gu.length;Op++){var Zp=Gu[Op].toLowerCase();if(Zp===up||Zp===dp){Ap=!0;break}}Ap||Jl.push(yl[Nu])}np.push(Jl)}}var ap=["toImage"];_l.showEditInChartStudio?ap.push("editInChartStudio"):_l.showSendToCloud&&ap.push("sendDataToCloud"),_h(ap);var bp=[],wp=[],kp=[],Iu=[];(vu||$u||bu||Lu)+Yl+hu+Fu+Du+Hu+Vu>1?(wp=["toggleHover"],kp=["resetViews"]):Yl?(bp=["zoomInGeo","zoomOutGeo"],wp=["hoverClosestGeo"],kp=["resetGeo"]):hu?(wp=["hoverClosest3d"],kp=["resetCameraDefault3d","resetCameraLastSave3d"]):Fu?(bp=["zoomInMapbox","zoomOutMapbox"],wp=["toggleHover"],kp=["resetViewMapbox"]):Du?(bp=["zoomInMap","zoomOutMap"],wp=["toggleHover"],kp=["resetViewMap"]):$u?wp=["hoverClosestPie"]:gu?(wp=["hoverClosestCartesian","hoverCompareCartesian"],kp=["resetViewSankey"]):wp=["toggleHover"],vu&&wp.push("toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"),(Fl(Bl)||qu)&&(wp=[]),vu&&!Wu&&(bp=["zoomIn2d","zoomOut2d","autoScale2d"],kp[0]!=="resetViews"&&(kp=["resetScale2d"])),hu?Iu=["zoom3d","pan3d","orbitRotation","tableRotation"]:vu&&!Wu||Lu?Iu=["zoom2d","pan2d"]:Fu||Du||Yl?Iu=["pan2d"]:Hu&&(Iu=["zoom2d"]),El(Bl)&&Iu.push("select2d","lasso2d");var Bu=[],Xl=function(Wl){Bu.indexOf(Wl)===-1&&wp.indexOf(Wl)!==-1&&Bu.push(Wl)};if(Array.isArray(Kl)){for(var Uu=[],ep=0;ep<Kl.length;ep++){var _u=Kl[ep];typeof _u=="string"?(_u=_u.toLowerCase(),Sl.indexOf(_u)!==-1?(Ol._has("mapbox")||Ol._has("map")||Ol._has("cartesian"))&&Iu.push(_u):_u==="togglespikelines"?Xl("toggleSpikelines"):_u==="togglehover"?Xl("toggleHover"):_u==="hovercompare"?Xl("hoverCompareCartesian"):_u==="hoverclosest"?(Xl("hoverClosestCartesian"),Xl("hoverClosestGeo"),Xl("hoverClosest3d"),Xl("hoverClosestPie")):_u==="v1hovermode"&&(Xl("hoverClosestCartesian"),Xl("hoverCompareCartesian"),Xl("hoverClosestGeo"),Xl("hoverClosest3d"),Xl("hoverClosestPie"))):Uu.push(_u)}Kl=Uu}return _h(Iu),_h(bp.concat(kp)),_h(Bu),$l(np,Kl)}function Pl(Ll){for(var Ol=ls.list({_fullLayout:Ll},null,!0),Bl=0;Bl<Ol.length;Bl++){var _l=Ol[Bl].modebardisable;if(!Ol[Bl].fixedrange&&_l!=="autoscale+zoominout"&&_l!=="zoominout+autoscale")return!1}return!0}function El(Ll){for(var Ol=!1,Bl=0;Bl<Ll.length&&!Ol;Bl++){var _l=Ll[Bl];!_l._module||!_l._module.selectPoints||(Fn.traceIs(_l,"scatter-like")?(_t.hasMarkers(_l)||_t.hasText(_l))&&(Ol=!0):Fn.traceIs(_l,"box-violin")?(_l.boxpoints==="all"||_l.points==="all")&&(Ol=!0):Ol=!0)}return Ol}function Fl(Ll){for(var Ol=0;Ol<Ll.length;Ol++)if(!Fn.traceIs(Ll[Ol],"noHover"))return!1;return!0}function $l(Ll,Ol){if(Ol.length)if(Array.isArray(Ol[0]))for(var Bl=0;Bl<Ol.length;Bl++)Ll.push(Ol[Bl]);else Ll.push(Ol);return Ll}function Nl(Ll){for(var Ol=Al([],Ll),Bl=0;Bl<Ol.length;Bl++)for(var _l=Ol[Bl],Rl=0;Rl<_l.length;Rl++){var Il=_l[Rl];if(typeof Il=="string")if(yl[Il]!==void 0)Ol[Bl][Rl]=yl[Il];else throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "))}return Ol}}),fx=a((Mu,yu)=>{yu.exports={moduleType:"component",name:"modebar",layoutAttributes:px(),supplyLayoutDefaults:Aw(),manage:j2()}}),gx=a((Mu,yu)=>{var ls=qv().FROM_BL;yu.exports=function(_t,Fn,xl){xl===void 0&&(xl=ls[_t.constraintoward||"center"]);var Bn=[_t.r2l(_t.range[0]),_t.r2l(_t.range[1])],yl=Bn[0]+(Bn[1]-Bn[0])*xl;_t.range=_t._input.range=[_t.l2r(yl+(Bn[0]-yl)*Fn),_t.l2r(yl+(Bn[1]-yl)*Fn)],_t.setScale()}}),By=a(Mu=>{var yu=vm(),ls=S2(),_t=mv().id2name,Fn=Sv(),xl=gx(),Bn=l3(),yl=nt().ALMOST_EQUAL,Sl=qv().FROM_BL;Mu.handleDefaults=function(Ll,Ol,Bl){var _l=Bl.axIds,Rl=Bl.axHasImage,Il=Ol._axisConstraintGroups=[],Hl=Ol._axisMatchGroups=[],Kl,Gu,vu,hu,Yl,$u,bu,Lu;for(Kl=0;Kl<_l.length;Kl++)hu=_t(_l[Kl]),Yl=Ll[hu],$u=Ol[hu],Al(Yl,$u,{axIds:_l,layoutOut:Ol,hasImage:Rl[hu]});function Fu(ap,bp){for(Kl=0;Kl<ap.length;Kl++){Gu=ap[Kl];for(vu in Gu)Ol[_t(vu)][bp]=Gu}}for(Fu(Hl,"_matchGroup"),Kl=0;Kl<Il.length;Kl++){Gu=Il[Kl];for(vu in Gu)if($u=Ol[_t(vu)],$u.fixedrange){for(var Du in Gu){var Hu=_t(Du);(Ll[Hu]||{}).fixedrange===!1&&yu.warn("fixedrange was specified as false for axis "+Hu+" but was overridden because another axis in its constraint group has fixedrange true"),Ol[Hu].fixedrange=!0}break}}for(Kl=0;Kl<Il.length;){Gu=Il[Kl];for(vu in Gu){$u=Ol[_t(vu)],$u._matchGroup&&Object.keys($u._matchGroup).length===Object.keys(Gu).length&&(Il.splice(Kl,1),Kl--);break}Kl++}Fu(Il,"_constraintGroup");var Vu=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],gu=!1,Wu=!1;function qu(){Lu=$u[bu],bu==="rangebreaks"&&(Wu=$u._hasDayOfWeekBreaks)}for(Kl=0;Kl<Hl.length;Kl++){Gu=Hl[Kl];for(var np=0;np<Vu.length;np++){bu=Vu[np],Lu=null;var _h;for(vu in Gu)if(hu=_t(vu),Yl=Ll[hu],$u=Ol[hu],bu in $u){if(!$u.matches&&(_h=$u,bu in Yl)){qu();break}Lu===null&&bu in Yl&&qu()}if(bu==="range"&&Lu&&Yl.range&&Yl.range.length===2&&Yl.range[0]!==null&&Yl.range[1]!==null&&(gu=!0),bu==="autorange"&&Lu===null&&gu&&(Lu=!1),Lu===null&&bu in _h&&(Lu=_h[bu]),Lu!==null)for(vu in Gu)$u=Ol[_t(vu)],$u[bu]=bu==="range"?Lu.slice():Lu,bu==="rangebreaks"&&($u._hasDayOfWeekBreaks=Wu,Bn($u,Ol))}}};function Al(Ll,Ol,Bl){var _l=Bl.axIds,Rl=Bl.layoutOut,Il=Bl.hasImage,Hl=Rl._axisConstraintGroups,Kl=Rl._axisMatchGroups,Gu=Ol._id,vu=Gu.charAt(0),hu=((Rl._splomAxes||{})[vu]||{})[Gu]||{},Yl=Ol._id,$u=Yl.charAt(0)==="x";Ol._matchGroup=null,Ol._constraintGroup=null;function bu(Iu,Bu){return yu.coerce(Ll,Ol,Fn,Iu,Bu)}bu("constrain",Il?"domain":"range"),yu.coerce(Ll,Ol,{constraintoward:{valType:"enumerated",values:$u?["left","center","right"]:["bottom","middle","top"],dflt:$u?"center":"middle"}},"constraintoward");var Lu=Ol.type,Fu,Du,Hu=[];for(Fu=0;Fu<_l.length;Fu++)if(Du=_l[Fu],Du!==Yl){var Vu=Rl[_t(Du)];Vu.type===Lu&&Hu.push(Du)}var gu=Pl(Hl,Yl);if(gu){var Wu=[];for(Fu=0;Fu<Hu.length;Fu++)Du=Hu[Fu],gu[Du]||Wu.push(Du);Hu=Wu}var qu=Hu.length,np,_h;qu&&(Ll.matches||hu.matches)&&(np=yu.coerce(Ll,Ol,{matches:{valType:"enumerated",values:Hu,dflt:Hu.indexOf(hu.matches)!==-1?hu.matches:void 0}},"matches"));var ap=Il&&!$u?Ol.anchor:void 0;if(qu&&!np&&(Ll.scaleanchor||ap)&&(_h=yu.coerce(Ll,Ol,{scaleanchor:{valType:"enumerated",values:Hu.concat([!1])}},"scaleanchor",ap)),np){Ol._matchGroup=El(Kl,Yl,np,1);var bp=Rl[_t(np)],wp=Et(Rl,Ol)/Et(Rl,bp);$u!==(np.charAt(0)==="x")&&(wp=($u?"x":"y")+wp),El(Hl,Yl,np,wp)}else Ll.matches&&_l.indexOf(Ll.matches)!==-1&&yu.warn("ignored "+Ol._name+'.matches: "'+Ll.matches+'" to avoid an infinite loop');if(_h){var kp=bu("scaleratio");kp||(kp=Ol.scaleratio=1),El(Hl,Yl,_h,kp)}else Ll.scaleanchor&&_l.indexOf(Ll.scaleanchor)!==-1&&yu.warn("ignored "+Ol._name+'.scaleanchor: "'+Ll.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function Et(Ll,Ol){var Bl=Ol.domain;return Bl||(Bl=Ll[_t(Ol.overlaying)].domain),Bl[1]-Bl[0]}function Pl(Ll,Ol){for(var Bl=0;Bl<Ll.length;Bl++)if(Ll[Bl][Ol])return Ll[Bl];return null}function El(Ll,Ol,Bl,_l){var Rl,Il,Hl,Kl,Gu,vu=Pl(Ll,Ol);vu===null?(vu={},vu[Ol]=1,Gu=Ll.length,Ll.push(vu)):Gu=Ll.indexOf(vu);var hu=Object.keys(vu);for(Rl=0;Rl<Ll.length;Rl++)if(Hl=Ll[Rl],Rl!==Gu&&Hl[Bl]){var Yl=Hl[Bl];for(Il=0;Il<hu.length;Il++)Kl=hu[Il],Hl[Kl]=Fl(Yl,Fl(_l,vu[Kl]));Ll.splice(Gu,1);return}if(_l!==1)for(Il=0;Il<hu.length;Il++){var $u=hu[Il];vu[$u]=Fl(_l,vu[$u])}vu[Bl]=1}function Fl(Ll,Ol){var Bl="",_l="",Rl,Il;typeof Ll=="string"&&(Bl=Ll.match(/^[xy]*/)[0],Rl=Bl.length,Ll=+Ll.substr(Rl)),typeof Ol=="string"&&(_l=Ol.match(/^[xy]*/)[0],Il=_l.length,Ol=+Ol.substr(Il));var Hl=Ll*Ol;return!Rl&&!Il?Hl:!Rl||!Il||Bl.charAt(0)===_l.charAt(0)?Bl+_l+Ll*Ol:Rl===Il?Hl:(Rl>Il?Bl.substr(Il):_l.substr(Rl))+Hl}function $l(Ll,Ol){for(var Bl=Ol._size,_l=Bl.h/Bl.w,Rl={},Il=Object.keys(Ll),Hl=0;Hl<Il.length;Hl++){var Kl=Il[Hl],Gu=Ll[Kl];if(typeof Gu=="string"){var vu=Gu.match(/^[xy]*/)[0],hu=vu.length;Gu=+Gu.substr(hu);for(var Yl=vu.charAt(0)==="y"?_l:1/_l,$u=0;$u<hu;$u++)Gu*=Yl}Rl[Kl]=Gu}return Rl}Mu.enforce=function(Ll){var Ol=Ll._fullLayout,Bl=Ol._axisConstraintGroups||[],_l,Rl,Il,Hl,Kl,Gu,vu,hu;for(_l=0;_l<Bl.length;_l++){Il=$l(Bl[_l],Ol);var Yl=Object.keys(Il),$u=1/0,bu=0,Lu=1/0,Fu={},Du={},Hu=!1;for(Rl=0;Rl<Yl.length;Rl++)Hl=Yl[Rl],Du[Hl]=Kl=Ol[_t(Hl)],Kl._inputDomain?Kl.domain=Kl._inputDomain.slice():Kl._inputDomain=Kl.domain.slice(),Kl._inputRange||(Kl._inputRange=Kl.range.slice()),Kl.setScale(),Fu[Hl]=Gu=Math.abs(Kl._m)/Il[Hl],$u=Math.min($u,Gu),(Kl.constrain==="domain"||!Kl._constraintShrinkable)&&(Lu=Math.min(Lu,Gu)),delete Kl._constraintShrinkable,bu=Math.max(bu,Gu),Kl.constrain==="domain"&&(Hu=!0);if(!($u>yl*bu&&!Hu)){for(Rl=0;Rl<Yl.length;Rl++)if(Hl=Yl[Rl],Gu=Fu[Hl],Kl=Du[Hl],vu=Kl.constrain,Gu!==Lu||vu==="domain")if(hu=Gu/Lu,vu==="range")xl(Kl,hu);else{var Vu=Kl._inputDomain,gu=(Kl.domain[1]-Kl.domain[0])/(Vu[1]-Vu[0]),Wu=(Kl.r2l(Kl.range[1])-Kl.r2l(Kl.range[0]))/(Kl.r2l(Kl._inputRange[1])-Kl.r2l(Kl._inputRange[0]));if(hu/=gu,hu*Wu<1){Kl.domain=Kl._input.domain=Vu.slice(),xl(Kl,hu);continue}if(Wu<1&&(Kl.range=Kl._input.range=Kl._inputRange.slice(),hu*=Wu),Kl.autorange){var qu=Kl.r2l(Kl.range[0]),np=Kl.r2l(Kl.range[1]),_h=(qu+np)/2,ap=_h,bp=_h,wp=Math.abs(np-_h),kp=_h-wp*hu*1.0001,Iu=_h+wp*hu*1.0001,Bu=ls.makePadFn(Ol,Kl,0),Xl=ls.makePadFn(Ol,Kl,1);Nl(Kl,hu);var Uu=Math.abs(Kl._m),ep=ls.concatExtremes(Ll,Kl),_u=ep.min,Wl=ep.max,Jl,Pu;for(Pu=0;Pu<_u.length;Pu++)Jl=_u[Pu].val-Bu(_u[Pu])/Uu,Jl>kp&&Jl<ap&&(ap=Jl);for(Pu=0;Pu<Wl.length;Pu++)Jl=Wl[Pu].val+Xl(Wl[Pu])/Uu,Jl<Iu&&Jl>bp&&(bp=Jl);var Nu=(bp-ap)/(2*wp);hu/=Nu,ap=Kl.l2r(ap),bp=Kl.l2r(bp),Kl.range=Kl._input.range=qu<np?[ap,bp]:[bp,ap]}Nl(Kl,hu)}}}},Mu.getAxisGroup=function(Ll,Ol){for(var Bl=Ll._axisMatchGroups,_l=0;_l<Bl.length;_l++){var Rl=Bl[_l];if(Rl[Ol])return"g"+_l}return Ol},Mu.clean=function(Ll,Ol){if(Ol._inputDomain){for(var Bl=!1,_l=Ol._id,Rl=Ll._fullLayout._axisConstraintGroups,Il=0;Il<Rl.length;Il++)if(Rl[Il][_l]){Bl=!0;break}(!Bl||Ol.constrain!=="domain")&&(Ol._input.domain=Ol.domain=Ol._inputDomain,delete Ol._inputDomain)}};function Nl(Ll,Ol){var Bl=Ll._inputDomain,_l=Sl[Ll.constraintoward],Rl=Bl[0]+(Bl[1]-Bl[0])*_l;Ll.domain=Ll._input.domain=[Rl+(Bl[0]-Rl)/Ol,Rl+(Bl[1]-Rl)/Ol],Ll.setScale()}}),V2=a(Mu=>{var yu=g(),ls=Gp(),_t=Fv(),Fn=vm(),xl=Wv(),Bn=g3(),yl=cp(),Sl=V1(),Al=G2(),Et=fx(),Pl=pv(),El=qv(),Fl=By(),$l=Fl.enforce,Nl=Fl.clean,Ll=S2().doAutoRange,Ol="start",Bl="middle",_l="end",Rl=A1().zindexSeparator;Mu.layoutStyles=function(gu){return Fn.syncOrAsync([_t.doAutoMargin,Hl],gu)};function Il(gu,Wu,qu){for(var np=0;np<qu.length;np++){var _h=qu[np][0],ap=qu[np][1];if(!(_h[0]>=gu[1]||_h[1]<=gu[0])&&ap[0]<Wu[1]&&ap[1]>Wu[0])return!0}return!1}function Hl(gu){var Wu=gu._fullLayout,qu=Wu._size,np=qu.p,_h=Pl.list(gu,"",!0),ap,bp,wp,kp,Iu,Bu;if(Wu._paperdiv.style({width:gu._context.responsive&&Wu.autosize&&!gu._context._hasZeroWidth&&!gu.layout.width?"100%":Wu.width+"px",height:gu._context.responsive&&Wu.autosize&&!gu._context._hasZeroHeight&&!gu.layout.height?"100%":Wu.height+"px"}).selectAll(".main-svg").call(Sl.setSize,Wu.width,Wu.height),gu._context.setBackground(gu,Wu.paper_bgcolor),Mu.drawMainTitle(gu),Et.manage(gu),!Wu._has("cartesian"))return _t.previousPromises(gu);function Xl(Zu,lp,mp){var Tp=Zu._lw/2;if(Zu._id.charAt(0)==="x"){if(lp){if(mp==="top")return lp._offset-np-Tp}else return qu.t+qu.h*(1-(Zu.position||0))+Tp%1;return lp._offset+lp._length+np+Tp}if(lp){if(mp==="right")return lp._offset+lp._length+np+Tp}else return qu.l+qu.w*(Zu.position||0)+Tp%1;return lp._offset-np-Tp}for(ap=0;ap<_h.length;ap++){kp=_h[ap];var Uu=kp._anchorAxis;kp._linepositions={},kp._lw=Sl.crispRound(gu,kp.linewidth,1),kp._mainLinePosition=Xl(kp,Uu,kp.side),kp._mainMirrorPosition=kp.mirror&&Uu?Xl(kp,Uu,El.OPPOSITE_SIDE[kp.side]):null}var ep=[],_u=[],Wl=[],Jl=yl.opacity(Wu.paper_bgcolor)===1&&yl.opacity(Wu.plot_bgcolor)===1&&Wu.paper_bgcolor===Wu.plot_bgcolor;for(bp in Wu._plots)if(wp=Wu._plots[bp],wp.mainplot)wp.bg&&wp.bg.remove(),wp.bg=void 0;else{var Pu=wp.xaxis.domain,Nu=wp.yaxis.domain,tp=wp.plotgroup;if(Il(Pu,Nu,Wl)&&bp.indexOf(Rl)===-1){var up=tp.node(),dp=wp.bg=Fn.ensureSingle(tp,"rect","bg");up.insertBefore(dp.node(),up.childNodes[0]),_u.push(bp)}else tp.select("rect.bg").remove(),Wl.push([Pu,Nu]),Jl||(ep.push(bp),_u.push(bp))}var Ap=Wu._bgLayer.selectAll(".bg").data(ep);for(Ap.enter().append("rect").classed("bg",!0),Ap.exit().remove(),Ap.each(function(Zu){Wu._plots[Zu].bg=yu.select(this)}),ap=0;ap<_u.length;ap++)wp=Wu._plots[_u[ap]],Iu=wp.xaxis,Bu=wp.yaxis,wp.bg&&Iu._offset!==void 0&&Bu._offset!==void 0&&wp.bg.call(Sl.setRect,Iu._offset-np,Bu._offset-np,Iu._length+2*np,Bu._length+2*np).call(yl.fill,Wu.plot_bgcolor).style("stroke-width",0);if(!Wu._hasOnlyLargeSploms)for(bp in Wu._plots){wp=Wu._plots[bp],Iu=wp.xaxis,Bu=wp.yaxis;var Op=wp.clipId="clip"+Wu._uid+bp+"plot",Zp=Fn.ensureSingleById(Wu._clips,"clipPath",Op,function(Zu){Zu.classed("plotclip",!0).append("rect")});wp.clipRect=Zp.select("rect").attr({width:Iu._length,height:Bu._length}),Sl.setTranslate(wp.plot,Iu._offset,Bu._offset);var u0,r0;wp._hasClipOnAxisFalse?(u0=null,r0=Op):(u0=Op,r0=null),Sl.setClipUrl(wp.plot,u0,gu),wp.layerClipId=r0}var e0,Cp,Mp,sp,Ip,Jp,a0,v0,h0,w0,E0,_0,$0;function f0(Zu){return"M"+e0+","+Zu+"H"+Cp}function q0(Zu){return"M"+Iu._offset+","+Zu+"h"+Iu._length}function J0(Zu){return"M"+Zu+","+v0+"V"+a0}function V0(Zu){return Bu._shift!==void 0&&(Zu+=Bu._shift),"M"+Zu+","+Bu._offset+"v"+Bu._length}function nm(Zu,lp,mp){if(!Zu.showline||bp!==Zu._mainSubplot)return"";if(!Zu._anchorAxis)return mp(Zu._mainLinePosition);var Tp=lp(Zu._mainLinePosition);return Zu.mirror&&(Tp+=lp(Zu._mainMirrorPosition)),Tp}for(bp in Wu._plots){wp=Wu._plots[bp],Iu=wp.xaxis,Bu=wp.yaxis;var Ep="M0,0";Kl(Iu,bp)&&(Ip=vu(Iu,"left",Bu,_h),e0=Iu._offset-(Ip?np+Ip:0),Jp=vu(Iu,"right",Bu,_h),Cp=Iu._offset+Iu._length+(Jp?np+Jp:0),Mp=Xl(Iu,Bu,"bottom"),sp=Xl(Iu,Bu,"top"),$0=!Iu._anchorAxis||bp!==Iu._mainSubplot,$0&&(Iu.mirror==="allticks"||Iu.mirror==="all")&&(Iu._linepositions[bp]=[Mp,sp]),Ep=nm(Iu,f0,q0),$0&&Iu.showline&&(Iu.mirror==="all"||Iu.mirror==="allticks")&&(Ep+=f0(Mp)+f0(sp)),wp.xlines.style("stroke-width",Iu._lw+"px").call(yl.stroke,Iu.showline?Iu.linecolor:"rgba(0,0,0,0)")),wp.xlines.attr("d",Ep);var $p="M0,0";Kl(Bu,bp)&&(E0=vu(Bu,"bottom",Iu,_h),a0=Bu._offset+Bu._length+(E0?np:0),_0=vu(Bu,"top",Iu,_h),v0=Bu._offset-(_0?np:0),h0=Xl(Bu,Iu,"left"),w0=Xl(Bu,Iu,"right"),$0=!Bu._anchorAxis||bp!==Bu._mainSubplot,$0&&(Bu.mirror==="allticks"||Bu.mirror==="all")&&(Bu._linepositions[bp]=[h0,w0]),$p=nm(Bu,J0,V0),$0&&Bu.showline&&(Bu.mirror==="all"||Bu.mirror==="allticks")&&($p+=J0(h0)+J0(w0)),wp.ylines.style("stroke-width",Bu._lw+"px").call(yl.stroke,Bu.showline?Bu.linecolor:"rgba(0,0,0,0)")),wp.ylines.attr("d",$p)}return Pl.makeClipPaths(gu),_t.previousPromises(gu)}function Kl(gu,Wu){return(gu.ticks||gu.showline)&&(Wu===gu._mainSubplot||gu.mirror==="all"||gu.mirror==="allticks")}function Gu(gu,Wu,qu){if(!qu.showline||!qu._lw)return!1;if(qu.mirror==="all"||qu.mirror==="allticks")return!0;var np=qu._anchorAxis;if(!np)return!1;var _h=El.FROM_BL[Wu];return qu.side===Wu?np.domain[_h]===gu.domain[_h]:qu.mirror&&np.domain[1-_h]===gu.domain[1-_h]}function vu(gu,Wu,qu,np){if(Gu(gu,Wu,qu))return qu._lw;for(var _h=0;_h<np.length;_h++){var ap=np[_h];if(ap._mainAxis===qu._mainAxis&&Gu(gu,Wu,ap))return ap._lw}return 0}Mu.drawMainTitle=function(gu){var Wu=gu._fullLayout.title,qu=gu._fullLayout,np=Hu(qu),_h=Vu(qu),ap=Fu(qu,_h),bp=Lu(qu,np);if(Al.draw(gu,"gtitle",{propContainer:qu,propName:"title.text",subtitlePropName:"title.subtitle.text",placeholder:qu._dfltTitle.plot,subtitlePlaceholder:qu._dfltTitle.subtitle,attributes:{x:bp,y:ap,"text-anchor":np,dy:_h}}),Wu.text&&Wu.automargin){var wp=yu.select(gu).selectAll(".gtitle"),kp=Sl.bBox(yu.select(gu).selectAll(".g-gtitle").node()).height,Iu=$u(gu,Wu,kp);if(Iu>0){bu(gu,ap,Iu,kp),wp.attr({x:bp,y:ap,"text-anchor":np,dy:Du(Wu.yanchor)}).call(xl.positionText,bp,ap);var Bu=(Wu.text.match(xl.BR_TAG_ALL)||[]).length;if(Bu){var Xl=El.LINE_SPACING*Bu+El.MID_SHIFT;Wu.y===0&&(Xl=-Xl),wp.selectAll(".line").each(function(){var Jl=+this.getAttribute("dy").slice(0,-2)-Xl+"em";this.setAttribute("dy",Jl)})}var Uu=yu.select(gu).selectAll(".gtitle-subtitle");if(Uu.node()){var ep=wp.node().getBBox(),_u=ep.y+ep.height,Wl=_u+Al.SUBTITLE_PADDING_EM*Wu.subtitle.font.size;Uu.attr({x:bp,y:Wl,"text-anchor":np,dy:Du(Wu.yanchor)}).call(xl.positionText,bp,Wl)}}}};function hu(gu,Wu,qu,np,_h){var ap=Wu.yref==="paper"?gu._fullLayout._size.h:gu._fullLayout.height,bp=Fn.isTopAnchor(Wu)?np:np-_h,wp=qu==="b"?ap-bp:bp;return Fn.isTopAnchor(Wu)&&qu==="t"||Fn.isBottomAnchor(Wu)&&qu==="b"?!1:wp<_h}function Yl(gu,Wu,qu,np,_h){var ap=0;return qu==="middle"&&(ap+=_h/2),gu==="t"?(qu==="top"&&(ap+=_h),ap+=np-Wu*np):(qu==="bottom"&&(ap+=_h),ap+=Wu*np),ap}function $u(gu,Wu,qu){var np=Wu.y,_h=Wu.yanchor,ap=np>.5?"t":"b",bp=gu._fullLayout.margin[ap],wp=0;return Wu.yref==="paper"?wp=qu+Wu.pad.t+Wu.pad.b:Wu.yref==="container"&&(wp=Yl(ap,np,_h,gu._fullLayout.height,qu)+Wu.pad.t+Wu.pad.b),wp>bp?wp:0}function bu(gu,Wu,qu,np){var _h="title.automargin",ap=gu._fullLayout.title,bp=ap.y>.5?"t":"b",wp={x:ap.x,y:ap.y,t:0,b:0},kp={};ap.yref==="paper"&&hu(gu,ap,bp,Wu,np)?wp[bp]=qu:ap.yref==="container"&&(kp[bp]=qu,gu._fullLayout._reservedMargin[_h]=kp),_t.allowAutoMargin(gu,_h),_t.autoMargin(gu,_h,wp)}function Lu(gu,Wu){var qu=gu.title,np=gu._size,_h=0;switch(Wu===Ol?_h=qu.pad.l:Wu===_l&&(_h=-qu.pad.r),qu.xref){case"paper":return np.l+np.w*qu.x+_h;case"container":default:return gu.width*qu.x+_h}}function Fu(gu,Wu){var qu=gu.title,np=gu._size,_h=0;if(Wu==="0em"||!Wu?_h=-qu.pad.b:Wu===El.CAP_SHIFT+"em"&&(_h=qu.pad.t),qu.y==="auto")return np.t/2;switch(qu.yref){case"paper":return np.t+np.h-np.h*qu.y+_h;case"container":default:return gu.height-gu.height*qu.y+_h}}function Du(gu){return gu==="top"?El.CAP_SHIFT+.3+"em":gu==="bottom"?"-0.3em":El.MID_SHIFT+"em"}function Hu(gu){var Wu=gu.title,qu=Bl;return Fn.isRightAnchor(Wu)?qu=_l:Fn.isLeftAnchor(Wu)&&(qu=Ol),qu}function Vu(gu){var Wu=gu.title,qu="0em";return Fn.isTopAnchor(Wu)?qu=El.CAP_SHIFT+"em":Fn.isMiddleAnchor(Wu)&&(qu=El.MID_SHIFT+"em"),qu}Mu.doTraceStyle=function(gu){var Wu=gu.calcdata,qu=[],np;for(np=0;np<Wu.length;np++){var _h=Wu[np],ap=_h[0]||{},bp=ap.trace||{},wp=bp._module||{},kp=wp.arraysToCalcdata;kp&&kp(_h,bp);var Iu=wp.editStyle;Iu&&qu.push({fn:Iu,cd0:ap})}if(qu.length){for(np=0;np<qu.length;np++){var Bu=qu[np];Bu.fn(gu,Bu.cd0)}Bn(gu),Mu.redrawReglTraces(gu)}return _t.style(gu),ls.getComponentMethod("legend","draw")(gu),_t.previousPromises(gu)},Mu.doColorBars=function(gu){return ls.getComponentMethod("colorbar","draw")(gu),_t.previousPromises(gu)},Mu.layoutReplot=function(gu){var Wu=gu.layout;return gu.layout=void 0,ls.call("_doPlot",gu,"",Wu)},Mu.doLegend=function(gu){return ls.getComponentMethod("legend","draw")(gu),_t.previousPromises(gu)},Mu.doTicksRelayout=function(gu){return Pl.draw(gu,"redraw"),gu._fullLayout._hasOnlyLargeSploms&&(ls.subplotsRegistry.splom.updateGrid(gu),Bn(gu),Mu.redrawReglTraces(gu)),Mu.drawMainTitle(gu),_t.previousPromises(gu)},Mu.doModeBar=function(gu){var Wu=gu._fullLayout;Et.manage(gu);for(var qu=0;qu<Wu._basePlotModules.length;qu++){var np=Wu._basePlotModules[qu].updateFx;np&&np(gu)}return _t.previousPromises(gu)},Mu.doCamera=function(gu){for(var Wu=gu._fullLayout,qu=Wu._subplots.gl3d,np=0;np<qu.length;np++){var _h=Wu[qu[np]],ap=_h._scene;ap.setViewport(_h)}},Mu.drawData=function(gu){var Wu=gu._fullLayout;Bn(gu);for(var qu=Wu._basePlotModules,np=0;np<qu.length;np++)qu[np].plot(gu);return Mu.redrawReglTraces(gu),_t.style(gu),ls.getComponentMethod("selections","draw")(gu),ls.getComponentMethod("shapes","draw")(gu),ls.getComponentMethod("annotations","draw")(gu),ls.getComponentMethod("images","draw")(gu),Wu._replotting=!1,_t.previousPromises(gu)},Mu.redrawReglTraces=function(gu){var Wu=gu._fullLayout;if(Wu._has("regl")){var qu=gu._fullData,np=[],_h=[],ap,bp;for(Wu._hasOnlyLargeSploms&&Wu._splomGrid.draw(),ap=0;ap<qu.length;ap++){var wp=qu[ap];wp.visible===!0&&wp._length!==0&&(wp.type==="splom"?Wu._splomScenes[wp.uid].draw():wp.type==="scattergl"?Fn.pushUnique(np,wp.xaxis+wp.yaxis):wp.type==="scatterpolargl"&&Fn.pushUnique(_h,wp.subplot))}for(ap=0;ap<np.length;ap++)bp=Wu._plots[np[ap]],bp._scene&&bp._scene.draw();for(ap=0;ap<_h.length;ap++)bp=Wu[_h[ap]]._subplot,bp._scene&&bp._scene.draw()}},Mu.doAutoRangeAndConstraints=function(gu){for(var Wu=Pl.list(gu,"",!0),qu,np={},_h=0;_h<Wu.length;_h++)if(qu=Wu[_h],!np[qu._id]){np[qu._id]=1,Nl(gu,qu),Ll(gu,qu);var ap=qu._matchGroup;if(ap)for(var bp in ap){var wp=Pl.getFromId(gu,bp);Ll(gu,wp,qu.range),np[bp]=1}}$l(gu)},Mu.finalDraw=function(gu){ls.getComponentMethod("rangeslider","draw")(gu),ls.getComponentMethod("rangeselector","draw")(gu)},Mu.drawMarginPushers=function(gu){ls.getComponentMethod("legend","draw")(gu),ls.getComponentMethod("rangeselector","draw")(gu),ls.getComponentMethod("sliders","draw")(gu),ls.getComponentMethod("updatemenus","draw")(gu),ls.getComponentMethod("colorbar","draw")(gu)}}),w3=a((Mu,yu)=>{var ls=i2().readPaths,_t=b3(),Fn=Jv().clearOutlineControllers,xl=cp(),Bn=V1(),yl=hv().arrayEditor,Sl=xy(),Al=Sl.getPathString;yu.exports={draw:Et,drawOne:El,activateLastSelection:Nl};function Et(Ol){var Bl=Ol._fullLayout;Fn(Ol),Bl._selectionLayer.selectAll("path").remove();for(var _l in Bl._plots){var Rl=Bl._plots[_l].selectionLayer;Rl&&Rl.selectAll("path").remove()}for(var Il=0;Il<Bl.selections.length;Il++)El(Ol,Il)}function Pl(Ol){return Ol._context.editSelection}function El(Ol,Bl){Ol._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+Bl+'"]').remove();var _l=Sl.makeSelectionsOptionsAndPlotinfo(Ol,Bl),Rl=_l.options,Il=_l.plotinfo;if(!Rl._input)return;Hl(Ol._fullLayout._selectionLayer);function Hl(Kl){var Gu=Al(Ol,Rl),vu={"data-index":Bl,"fill-rule":"evenodd",d:Gu},hu=Rl.opacity,Yl="rgba(0,0,0,0)",$u=Rl.line.color||xl.contrast(Ol._fullLayout.plot_bgcolor),bu=Rl.line.width,Lu=Rl.line.dash;bu||(bu=5,Lu="solid");var Fu=Pl(Ol)&&Ol._fullLayout._activeSelectionIndex===Bl;Fu&&(Yl=Ol._fullLayout.activeselection.fillcolor,hu=Ol._fullLayout.activeselection.opacity);for(var Du=[],Hu=1;Hu>=0;Hu--){var Vu=Kl.append("path").attr(vu).style("opacity",Hu?.1:hu).call(xl.stroke,$u).call(xl.fill,Yl).call(Bn.dashLine,Hu?"solid":Lu,Hu?4+bu:bu);if(Fl(Vu,Ol,Rl),Fu){var gu=yl(Ol.layout,"selections",Rl);Vu.style({cursor:"move"});var Wu={element:Vu.node(),plotinfo:Il,gd:Ol,editHelpers:gu,isActiveSelection:!0},qu=ls(Gu,Ol);_t(qu,Vu,Wu)}else Vu.style("pointer-events",Hu?"all":"none");Du[Hu]=Vu}var np=Du[0],_h=Du[1];_h.node().addEventListener("click",function(){return $l(Ol,np)})}}function Fl(Ol,Bl,_l){var Rl=_l.xref+_l.yref;Bn.setClipUrl(Ol,"clip"+Bl._fullLayout._uid+Rl,Bl)}function $l(Ol,Bl){if(Pl(Ol)){var _l=Bl.node(),Rl=+_l.getAttribute("data-index");if(Rl>=0){if(Rl===Ol._fullLayout._activeSelectionIndex){Ll(Ol);return}Ol._fullLayout._activeSelectionIndex=Rl,Ol._fullLayout._deactivateSelection=Ll,Et(Ol)}}}function Nl(Ol){if(Pl(Ol)){var Bl=Ol._fullLayout.selections.length-1;Ol._fullLayout._activeSelectionIndex=Bl,Ol._fullLayout._deactivateSelection=Ll,Et(Ol)}}function Ll(Ol){if(Pl(Ol)){var Bl=Ol._fullLayout._activeSelectionIndex;Bl>=0&&(Fn(Ol),delete Ol._fullLayout._activeSelectionIndex,Et(Ol))}}}),mx=a((Mu,yu)=>{function ls(){var _t,Fn=0,xl=!1;function Bn(yl,Sl){return _t.list.push({type:yl,data:Sl?JSON.parse(JSON.stringify(Sl)):void 0}),_t}return _t={list:[],segmentId:function(){return Fn++},checkIntersection:function(yl,Sl){return Bn("check",{seg1:yl,seg2:Sl})},segmentChop:function(yl,Sl){return Bn("div_seg",{seg:yl,pt:Sl}),Bn("chop",{seg:yl,pt:Sl})},statusRemove:function(yl){return Bn("pop_seg",{seg:yl})},segmentUpdate:function(yl){return Bn("seg_update",{seg:yl})},segmentNew:function(yl,Sl){return Bn("new_seg",{seg:yl,primary:Sl})},segmentRemove:function(yl){return Bn("rem_seg",{seg:yl})},tempStatus:function(yl,Sl,Al){return Bn("temp_status",{seg:yl,above:Sl,below:Al})},rewind:function(yl){return Bn("rewind",{seg:yl})},status:function(yl,Sl,Al){return Bn("status",{seg:yl,above:Sl,below:Al})},vert:function(yl){return yl===xl?_t:(xl=yl,Bn("vert",{x:yl}))},log:function(yl){return typeof yl!="string"&&(yl=JSON.stringify(yl,!1,"  ")),Bn("log",{txt:yl})},reset:function(){return Bn("reset")},selected:function(yl){return Bn("selected",{segs:yl})},chainStart:function(yl){return Bn("chain_start",{seg:yl})},chainRemoveHead:function(yl,Sl){return Bn("chain_rem_head",{index:yl,pt:Sl})},chainRemoveTail:function(yl,Sl){return Bn("chain_rem_tail",{index:yl,pt:Sl})},chainNew:function(yl,Sl){return Bn("chain_new",{pt1:yl,pt2:Sl})},chainMatch:function(yl){return Bn("chain_match",{index:yl})},chainClose:function(yl){return Bn("chain_close",{index:yl})},chainAddHead:function(yl,Sl){return Bn("chain_add_head",{index:yl,pt:Sl})},chainAddTail:function(yl,Sl){return Bn("chain_add_tail",{index:yl,pt:Sl})},chainConnect:function(yl,Sl){return Bn("chain_con",{index1:yl,index2:Sl})},chainReverse:function(yl){return Bn("chain_rev",{index:yl})},chainJoin:function(yl,Sl){return Bn("chain_join",{index1:yl,index2:Sl})},done:function(){return Bn("done")}},_t}yu.exports=ls}),C3=a((Mu,yu)=>{function ls(_t){typeof _t!="number"&&(_t=1e-10);var Fn={epsilon:function(xl){return typeof xl=="number"&&(_t=xl),_t},pointAboveOrOnLine:function(xl,Bn,yl){var Sl=Bn[0],Al=Bn[1],Et=yl[0],Pl=yl[1],El=xl[0],Fl=xl[1];return(Et-Sl)*(Fl-Al)-(Pl-Al)*(El-Sl)>=-_t},pointBetween:function(xl,Bn,yl){var Sl=xl[1]-Bn[1],Al=yl[0]-Bn[0],Et=xl[0]-Bn[0],Pl=yl[1]-Bn[1],El=Et*Al+Sl*Pl;if(El<_t)return!1;var Fl=Al*Al+Pl*Pl;return!(El-Fl>-_t)},pointsSameX:function(xl,Bn){return Math.abs(xl[0]-Bn[0])<_t},pointsSameY:function(xl,Bn){return Math.abs(xl[1]-Bn[1])<_t},pointsSame:function(xl,Bn){return Fn.pointsSameX(xl,Bn)&&Fn.pointsSameY(xl,Bn)},pointsCompare:function(xl,Bn){return Fn.pointsSameX(xl,Bn)?Fn.pointsSameY(xl,Bn)?0:xl[1]<Bn[1]?-1:1:xl[0]<Bn[0]?-1:1},pointsCollinear:function(xl,Bn,yl){var Sl=xl[0]-Bn[0],Al=xl[1]-Bn[1],Et=Bn[0]-yl[0],Pl=Bn[1]-yl[1];return Math.abs(Sl*Pl-Et*Al)<_t},linesIntersect:function(xl,Bn,yl,Sl){var Al=Bn[0]-xl[0],Et=Bn[1]-xl[1],Pl=Sl[0]-yl[0],El=Sl[1]-yl[1],Fl=Al*El-Et*Pl;if(Math.abs(Fl)<_t)return!1;var $l=xl[0]-yl[0],Nl=xl[1]-yl[1],Ll=(Pl*Nl-El*$l)/Fl,Ol=(Al*Nl-Et*$l)/Fl,Bl={alongA:0,alongB:0,pt:[xl[0]+Ll*Al,xl[1]+Ll*Et]};return Ll<=-_t?Bl.alongA=-2:Ll<_t?Bl.alongA=-1:Ll-1<=-_t?Bl.alongA=0:Ll-1<_t?Bl.alongA=1:Bl.alongA=2,Ol<=-_t?Bl.alongB=-2:Ol<_t?Bl.alongB=-1:Ol-1<=-_t?Bl.alongB=0:Ol-1<_t?Bl.alongB=1:Bl.alongB=2,Bl},pointInsideRegion:function(xl,Bn){for(var yl=xl[0],Sl=xl[1],Al=Bn[Bn.length-1][0],Et=Bn[Bn.length-1][1],Pl=!1,El=0;El<Bn.length;El++){var Fl=Bn[El][0],$l=Bn[El][1];$l-Sl>_t!=Et-Sl>_t&&(Al-Fl)*(Sl-$l)/(Et-$l)+Fl-yl>_t&&(Pl=!Pl),Al=Fl,Et=$l}return Pl}};return Fn}yu.exports=ls}),vx=a((Mu,yu)=>{var ls={create:function(){var _t={root:{root:!0,next:null},exists:function(Fn){return!(Fn===null||Fn===_t.root)},isEmpty:function(){return _t.root.next===null},getHead:function(){return _t.root.next},insertBefore:function(Fn,xl){for(var Bn=_t.root,yl=_t.root.next;yl!==null;){if(xl(yl)){Fn.prev=yl.prev,Fn.next=yl,yl.prev.next=Fn,yl.prev=Fn;return}Bn=yl,yl=yl.next}Bn.next=Fn,Fn.prev=Bn,Fn.next=null},findTransition:function(Fn){for(var xl=_t.root,Bn=_t.root.next;Bn!==null&&!Fn(Bn);)xl=Bn,Bn=Bn.next;return{before:xl===_t.root?null:xl,after:Bn,insert:function(yl){return yl.prev=xl,yl.next=Bn,xl.next=yl,Bn!==null&&(Bn.prev=yl),yl}}}};return _t},node:function(_t){return _t.prev=null,_t.next=null,_t.remove=function(){_t.prev.next=_t.next,_t.next&&(_t.next.prev=_t.prev),_t.prev=null,_t.next=null},_t}};yu.exports=ls}),Rw=a((Mu,yu)=>{var ls=vx();function _t(Fn,xl,Bn){function yl(Bl,_l){return{id:Bn?Bn.segmentId():-1,start:Bl,end:_l,myFill:{above:null,below:null},otherFill:null}}function Sl(Bl,_l,Rl){return{id:Bn?Bn.segmentId():-1,start:Bl,end:_l,myFill:{above:Rl.myFill.above,below:Rl.myFill.below},otherFill:null}}var Al=ls.create();function Et(Bl,_l,Rl,Il,Hl,Kl){var Gu=xl.pointsCompare(_l,Hl);return Gu!==0?Gu:xl.pointsSame(Rl,Kl)?0:Bl!==Il?Bl?1:-1:xl.pointAboveOrOnLine(Rl,Il?Hl:Kl,Il?Kl:Hl)?1:-1}function Pl(Bl,_l){Al.insertBefore(Bl,function(Rl){var Il=Et(Bl.isStart,Bl.pt,_l,Rl.isStart,Rl.pt,Rl.other.pt);return Il<0})}function El(Bl,_l){var Rl=ls.node({isStart:!0,pt:Bl.start,seg:Bl,primary:_l,other:null,status:null});return Pl(Rl,Bl.end),Rl}function Fl(Bl,_l,Rl){var Il=ls.node({isStart:!1,pt:_l.end,seg:_l,primary:Rl,other:Bl,status:null});Bl.other=Il,Pl(Il,Bl.pt)}function $l(Bl,_l){var Rl=El(Bl,_l);return Fl(Rl,Bl,_l),Rl}function Nl(Bl,_l){Bn&&Bn.segmentChop(Bl.seg,_l),Bl.other.remove(),Bl.seg.end=_l,Bl.other.pt=_l,Pl(Bl.other,Bl.pt)}function Ll(Bl,_l){var Rl=Sl(_l,Bl.seg.end,Bl.seg);return Nl(Bl,_l),$l(Rl,Bl.primary)}function Ol(Bl,_l){var Rl=ls.create();function Il(Vu,gu){var Wu=Vu.seg.start,qu=Vu.seg.end,np=gu.seg.start,_h=gu.seg.end;return xl.pointsCollinear(Wu,np,_h)?xl.pointsCollinear(qu,np,_h)||xl.pointAboveOrOnLine(qu,np,_h)?1:-1:xl.pointAboveOrOnLine(Wu,np,_h)?1:-1}function Hl(Vu){return Rl.findTransition(function(gu){var Wu=Il(Vu,gu.ev);return Wu>0})}function Kl(Vu,gu){var Wu=Vu.seg,qu=gu.seg,np=Wu.start,_h=Wu.end,ap=qu.start,bp=qu.end;Bn&&Bn.checkIntersection(Wu,qu);var wp=xl.linesIntersect(np,_h,ap,bp);if(wp===!1){if(!xl.pointsCollinear(np,_h,ap)||xl.pointsSame(np,bp)||xl.pointsSame(_h,ap))return!1;var kp=xl.pointsSame(np,ap),Iu=xl.pointsSame(_h,bp);if(kp&&Iu)return gu;var Bu=!kp&&xl.pointBetween(np,ap,bp),Xl=!Iu&&xl.pointBetween(_h,ap,bp);if(kp)return Xl?Ll(gu,_h):Ll(Vu,bp),gu;Bu&&(Iu||(Xl?Ll(gu,_h):Ll(Vu,bp)),Ll(gu,np))}else wp.alongA===0&&(wp.alongB===-1?Ll(Vu,ap):wp.alongB===0?Ll(Vu,wp.pt):wp.alongB===1&&Ll(Vu,bp)),wp.alongB===0&&(wp.alongA===-1?Ll(gu,np):wp.alongA===0?Ll(gu,wp.pt):wp.alongA===1&&Ll(gu,_h));return!1}for(var Gu=[];!Al.isEmpty();){var vu=Al.getHead();if(Bn&&Bn.vert(vu.pt[0]),vu.isStart){let Vu=function(){if(Yl){var gu=Kl(vu,Yl);if(gu)return gu}return $u?Kl(vu,$u):!1};Bn&&Bn.segmentNew(vu.seg,vu.primary);var hu=Hl(vu),Yl=hu.before?hu.before.ev:null,$u=hu.after?hu.after.ev:null;Bn&&Bn.tempStatus(vu.seg,Yl?Yl.seg:!1,$u?$u.seg:!1);var bu=Vu();if(bu){if(Fn){var Lu;vu.seg.myFill.below===null?Lu=!0:Lu=vu.seg.myFill.above!==vu.seg.myFill.below,Lu&&(bu.seg.myFill.above=!bu.seg.myFill.above)}else bu.seg.otherFill=vu.seg.myFill;Bn&&Bn.segmentUpdate(bu.seg),vu.other.remove(),vu.remove()}if(Al.getHead()!==vu){Bn&&Bn.rewind(vu.seg);continue}if(Fn){var Lu;vu.seg.myFill.below===null?Lu=!0:Lu=vu.seg.myFill.above!==vu.seg.myFill.below,$u?vu.seg.myFill.below=$u.seg.myFill.above:vu.seg.myFill.below=Bl,Lu?vu.seg.myFill.above=!vu.seg.myFill.below:vu.seg.myFill.above=vu.seg.myFill.below}else if(vu.seg.otherFill===null){var Fu;$u?vu.primary===$u.primary?Fu=$u.seg.otherFill.above:Fu=$u.seg.myFill.above:Fu=vu.primary?_l:Bl,vu.seg.otherFill={above:Fu,below:Fu}}Bn&&Bn.status(vu.seg,Yl?Yl.seg:!1,$u?$u.seg:!1),vu.other.status=hu.insert(ls.node({ev:vu}))}else{var Du=vu.status;if(Du===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(Rl.exists(Du.prev)&&Rl.exists(Du.next)&&Kl(Du.prev.ev,Du.next.ev),Bn&&Bn.statusRemove(Du.ev.seg),Du.remove(),!vu.primary){var Hu=vu.seg.myFill;vu.seg.myFill=vu.seg.otherFill,vu.seg.otherFill=Hu}Gu.push(vu.seg)}Al.getHead().remove()}return Bn&&Bn.done(),Gu}return Fn?{addRegion:function(Bl){for(var _l,Rl=Bl[Bl.length-1],Il=0;Il<Bl.length;Il++){_l=Rl,Rl=Bl[Il];var Hl=xl.pointsCompare(_l,Rl);Hl!==0&&$l(yl(Hl<0?_l:Rl,Hl<0?Rl:_l),!0)}},calculate:function(Bl){return Ol(Bl,!1)}}:{calculate:function(Bl,_l,Rl,Il){return Bl.forEach(function(Hl){$l(Sl(Hl.start,Hl.end,Hl),!0)}),Rl.forEach(function(Hl){$l(Sl(Hl.start,Hl.end,Hl),!1)}),Ol(_l,Il)}}}yu.exports=_t}),Fw=a((Mu,yu)=>{function ls(_t,Fn,xl){var Bn=[],yl=[];return _t.forEach(function(Sl){var Al=Sl.start,Et=Sl.end;if(Fn.pointsSame(Al,Et)){console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");return}xl&&xl.chainStart(Sl);var Pl={index:0,matches_head:!1,matches_pt1:!1},El={index:0,matches_head:!1,matches_pt1:!1},Fl=Pl;function $l(Fu,Du,Hu){return Fl.index=Fu,Fl.matches_head=Du,Fl.matches_pt1=Hu,Fl===Pl?(Fl=El,!1):(Fl=null,!0)}for(var Nl=0;Nl<Bn.length;Nl++){var Ll=Bn[Nl],Ol=Ll[0];Ll[1];var Bl=Ll[Ll.length-1];if(Ll[Ll.length-2],Fn.pointsSame(Ol,Al)){if($l(Nl,!0,!0))break}else if(Fn.pointsSame(Ol,Et)){if($l(Nl,!0,!1))break}else if(Fn.pointsSame(Bl,Al)){if($l(Nl,!1,!0))break}else if(Fn.pointsSame(Bl,Et)&&$l(Nl,!1,!1))break}if(Fl===Pl){Bn.push([Al,Et]),xl&&xl.chainNew(Al,Et);return}if(Fl===El){xl&&xl.chainMatch(Pl.index);var _l=Pl.index,Rl=Pl.matches_pt1?Et:Al,Il=Pl.matches_head,Ll=Bn[_l],Hl=Il?Ll[0]:Ll[Ll.length-1],Kl=Il?Ll[1]:Ll[Ll.length-2],Gu=Il?Ll[Ll.length-1]:Ll[0],vu=Il?Ll[Ll.length-2]:Ll[1];if(Fn.pointsCollinear(Kl,Hl,Rl)&&(Il?(xl&&xl.chainRemoveHead(Pl.index,Rl),Ll.shift()):(xl&&xl.chainRemoveTail(Pl.index,Rl),Ll.pop()),Hl=Kl),Fn.pointsSame(Gu,Rl)){Bn.splice(_l,1),Fn.pointsCollinear(vu,Gu,Hl)&&(Il?(xl&&xl.chainRemoveTail(Pl.index,Hl),Ll.pop()):(xl&&xl.chainRemoveHead(Pl.index,Hl),Ll.shift())),xl&&xl.chainClose(Pl.index),yl.push(Ll);return}Il?(xl&&xl.chainAddHead(Pl.index,Rl),Ll.unshift(Rl)):(xl&&xl.chainAddTail(Pl.index,Rl),Ll.push(Rl));return}function hu(Fu){xl&&xl.chainReverse(Fu),Bn[Fu].reverse()}function Yl(Fu,Du){var Hu=Bn[Fu],Vu=Bn[Du],gu=Hu[Hu.length-1],Wu=Hu[Hu.length-2],qu=Vu[0],np=Vu[1];Fn.pointsCollinear(Wu,gu,qu)&&(xl&&xl.chainRemoveTail(Fu,gu),Hu.pop(),gu=Wu),Fn.pointsCollinear(gu,qu,np)&&(xl&&xl.chainRemoveHead(Du,qu),Vu.shift()),xl&&xl.chainJoin(Fu,Du),Bn[Fu]=Hu.concat(Vu),Bn.splice(Du,1)}var $u=Pl.index,bu=El.index;xl&&xl.chainConnect($u,bu);var Lu=Bn[$u].length<Bn[bu].length;Pl.matches_head?El.matches_head?Lu?(hu($u),Yl($u,bu)):(hu(bu),Yl(bu,$u)):Yl(bu,$u):El.matches_head?Yl($u,bu):Lu?(hu($u),Yl(bu,$u)):(hu(bu),Yl($u,bu))}),yl}yu.exports=ls}),Pw=a((Mu,yu)=>{function ls(Fn,xl,Bn){var yl=[];return Fn.forEach(function(Sl){var Al=(Sl.myFill.above?8:0)+(Sl.myFill.below?4:0)+(Sl.otherFill&&Sl.otherFill.above?2:0)+(Sl.otherFill&&Sl.otherFill.below?1:0);xl[Al]!==0&&yl.push({id:Bn?Bn.segmentId():-1,start:Sl.start,end:Sl.end,myFill:{above:xl[Al]===1,below:xl[Al]===2},otherFill:null})}),Bn&&Bn.selected(yl),yl}var _t={union:function(Fn,xl){return ls(Fn,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],xl)},intersect:function(Fn,xl){return ls(Fn,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],xl)},difference:function(Fn,xl){return ls(Fn,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],xl)},differenceRev:function(Fn,xl){return ls(Fn,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],xl)},xor:function(Fn,xl){return ls(Fn,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],xl)}};yu.exports=_t}),Dw=a((Mu,yu)=>{var ls={toPolygon:function(_t,Fn){function xl(Sl){if(Sl.length<=0)return _t.segments({inverted:!1,regions:[]});function Al(El){var Fl=El.slice(0,El.length-1);return _t.segments({inverted:!1,regions:[Fl]})}for(var Et=Al(Sl[0]),Pl=1;Pl<Sl.length;Pl++)Et=_t.selectDifference(_t.combine(Et,Al(Sl[Pl])));return Et}if(Fn.type==="Polygon")return _t.polygon(xl(Fn.coordinates));if(Fn.type==="MultiPolygon"){for(var Bn=_t.segments({inverted:!1,regions:[]}),yl=0;yl<Fn.coordinates.length;yl++)Bn=_t.selectUnion(_t.combine(Bn,xl(Fn.coordinates[yl])));return _t.polygon(Bn)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(_t,Fn,xl){xl=_t.polygon(_t.segments(xl));function Bn(Ll,Ol){return Fn.pointInsideRegion([(Ll[0][0]+Ll[1][0])*.5,(Ll[0][1]+Ll[1][1])*.5],Ol)}function yl(Ll){return{region:Ll,children:[]}}var Sl=yl(null);function Al(Ll,Ol){for(var Bl=0;Bl<Ll.children.length;Bl++){var _l=Ll.children[Bl];if(Bn(Ol,_l.region)){Al(_l,Ol);return}}for(var Rl=yl(Ol),Bl=0;Bl<Ll.children.length;Bl++){var _l=Ll.children[Bl];Bn(_l.region,Ol)&&(Rl.children.push(_l),Ll.children.splice(Bl,1),Bl--)}Ll.children.push(Rl)}for(var Et=0;Et<xl.regions.length;Et++){var Pl=xl.regions[Et];Pl.length<3||Al(Sl,Pl)}function El(Ll,Ol){for(var Bl=0,_l=Ll[Ll.length-1][0],Rl=Ll[Ll.length-1][1],Il=[],Hl=0;Hl<Ll.length;Hl++){var Kl=Ll[Hl][0],Gu=Ll[Hl][1];Il.push([Kl,Gu]),Bl+=Gu*_l-Kl*Rl,_l=Kl,Rl=Gu}var vu=Bl<0;return vu!==Ol&&Il.reverse(),Il.push([Il[0][0],Il[0][1]]),Il}var Fl=[];function $l(Ll){var Ol=[El(Ll.region,!1)];Fl.push(Ol);for(var Bl=0;Bl<Ll.children.length;Bl++)Ol.push(Nl(Ll.children[Bl]))}function Nl(Ll){for(var Ol=0;Ol<Ll.children.length;Ol++)$l(Ll.children[Ol]);return El(Ll.region,!0)}for(var Et=0;Et<Sl.children.length;Et++)$l(Sl.children[Et]);return Fl.length<=0?{type:"Polygon",coordinates:[]}:Fl.length==1?{type:"Polygon",coordinates:Fl[0]}:{type:"MultiPolygon",coordinates:Fl}}};yu.exports=ls}),A2=a((Mu,yu)=>{var ls=mx(),_t=C3(),Fn=Rw(),xl=Fw(),Bn=Pw(),yl=Dw(),Sl=!1,Al=_t(),Et;Et={buildLog:function(El){return El===!0?Sl=ls():El===!1&&(Sl=!1),Sl===!1?!1:Sl.list},epsilon:function(El){return Al.epsilon(El)},segments:function(El){var Fl=Fn(!0,Al,Sl);return El.regions.forEach(Fl.addRegion),{segments:Fl.calculate(El.inverted),inverted:El.inverted}},combine:function(El,Fl){var $l=Fn(!1,Al,Sl);return{combined:$l.calculate(El.segments,El.inverted,Fl.segments,Fl.inverted),inverted1:El.inverted,inverted2:Fl.inverted}},selectUnion:function(El){return{segments:Bn.union(El.combined,Sl),inverted:El.inverted1||El.inverted2}},selectIntersect:function(El){return{segments:Bn.intersect(El.combined,Sl),inverted:El.inverted1&&El.inverted2}},selectDifference:function(El){return{segments:Bn.difference(El.combined,Sl),inverted:El.inverted1&&!El.inverted2}},selectDifferenceRev:function(El){return{segments:Bn.differenceRev(El.combined,Sl),inverted:!El.inverted1&&El.inverted2}},selectXor:function(El){return{segments:Bn.xor(El.combined,Sl),inverted:El.inverted1!==El.inverted2}},polygon:function(El){return{regions:xl(El.segments,Al,Sl),inverted:El.inverted}},polygonFromGeoJSON:function(El){return yl.toPolygon(Et,El)},polygonToGeoJSON:function(El){return yl.fromPolygon(Et,Al,El)},union:function(El,Fl){return Pl(El,Fl,Et.selectUnion)},intersect:function(El,Fl){return Pl(El,Fl,Et.selectIntersect)},difference:function(El,Fl){return Pl(El,Fl,Et.selectDifference)},differenceRev:function(El,Fl){return Pl(El,Fl,Et.selectDifferenceRev)},xor:function(El,Fl){return Pl(El,Fl,Et.selectXor)}};function Pl(El,Fl,$l){var Nl=Et.segments(El),Ll=Et.segments(Fl),Ol=Et.combine(Nl,Ll),Bl=$l(Ol);return Et.polygon(Bl)}typeof window=="object"&&(window.PolyBool=Et),yu.exports=Et}),Lw=a((Mu,yu)=>{yu.exports=function(ls,_t,Fn,xl){var Bn=ls[0],yl=ls[1],Sl=!1;Fn===void 0&&(Fn=0),xl===void 0&&(xl=_t.length);for(var Al=xl-Fn,Et=0,Pl=Al-1;Et<Al;Pl=Et++){var El=_t[Et+Fn][0],Fl=_t[Et+Fn][1],$l=_t[Pl+Fn][0],Nl=_t[Pl+Fn][1],Ll=Fl>yl!=Nl>yl&&Bn<($l-El)*(yl-Fl)/(Nl-Fl)+El;Ll&&(Sl=!Sl)}return Sl}}),S3=a((Mu,yu)=>{var ls=hm().dot,_t=nt().BADNUM,Fn=yu.exports={};Fn.tester=function(xl){var Bn=xl.slice(),yl=Bn[0][0],Sl=yl,Al=Bn[0][1],Et=Al,Pl;for((Bn[Bn.length-1][0]!==Bn[0][0]||Bn[Bn.length-1][1]!==Bn[0][1])&&Bn.push(Bn[0]),Pl=1;Pl<Bn.length;Pl++)yl=Math.min(yl,Bn[Pl][0]),Sl=Math.max(Sl,Bn[Pl][0]),Al=Math.min(Al,Bn[Pl][1]),Et=Math.max(Et,Bn[Pl][1]);var El=!1,Fl;Bn.length===5&&(Bn[0][0]===Bn[1][0]?Bn[2][0]===Bn[3][0]&&Bn[0][1]===Bn[3][1]&&Bn[1][1]===Bn[2][1]&&(El=!0,Fl=function(Bl){return Bl[0]===Bn[0][0]}):Bn[0][1]===Bn[1][1]&&Bn[2][1]===Bn[3][1]&&Bn[0][0]===Bn[3][0]&&Bn[1][0]===Bn[2][0]&&(El=!0,Fl=function(Bl){return Bl[1]===Bn[0][1]}));function $l(Bl,_l){var Rl=Bl[0],Il=Bl[1];return!(Rl===_t||Rl<yl||Rl>Sl||Il===_t||Il<Al||Il>Et||_l&&Fl(Bl))}function Nl(Bl,_l){var Rl=Bl[0],Il=Bl[1];if(Rl===_t||Rl<yl||Rl>Sl||Il===_t||Il<Al||Il>Et)return!1;var Hl=Bn.length,Kl=Bn[0][0],Gu=Bn[0][1],vu=0,hu,Yl,$u,bu,Lu;for(hu=1;hu<Hl;hu++)if(Yl=Kl,$u=Gu,Kl=Bn[hu][0],Gu=Bn[hu][1],bu=Math.min(Yl,Kl),!(Rl<bu||Rl>Math.max(Yl,Kl)||Il>Math.max($u,Gu)))if(Il<Math.min($u,Gu))Rl!==bu&&vu++;else{if(Kl===Yl?Lu=Il:Lu=$u+(Rl-Yl)*(Gu-$u)/(Kl-Yl),Il===Lu)return!(hu===1&&_l);Il<=Lu&&Rl!==bu&&vu++}return vu%2===1}var Ll=!0,Ol=Bn[0];for(Pl=1;Pl<Bn.length;Pl++)if(Ol[0]!==Bn[Pl][0]||Ol[1]!==Bn[Pl][1]){Ll=!1;break}return{xmin:yl,xmax:Sl,ymin:Al,ymax:Et,pts:Bn,contains:El?$l:Nl,isRect:El,degenerate:Ll}},Fn.isSegmentBent=function(xl,Bn,yl,Sl){var Al=xl[Bn],Et=[xl[yl][0]-Al[0],xl[yl][1]-Al[1]],Pl=ls(Et,Et),El=Math.sqrt(Pl),Fl=[-Et[1]/El,Et[0]/El],$l,Nl,Ll;for($l=Bn+1;$l<yl;$l++)if(Nl=[xl[$l][0]-Al[0],xl[$l][1]-Al[1]],Ll=ls(Nl,Et),Ll<0||Ll>Pl||Math.abs(ls(Nl,Fl))>Sl)return!0;return!1},Fn.filter=function(xl,Bn){var yl=[xl[0]],Sl=0,Al=0;function Et(El){xl.push(El);var Fl=yl.length,$l=Sl;yl.splice(Al+1);for(var Nl=$l+1;Nl<xl.length;Nl++)(Nl===xl.length-1||Fn.isSegmentBent(xl,$l,Nl+1,Bn))&&(yl.push(xl[Nl]),yl.length<Fl-2&&(Sl=Nl,Al=yl.length-1),$l=Nl)}if(xl.length>1){var Pl=xl.pop();Et(Pl)}return{addPt:Et,raw:xl,filtered:yl}}}),yx=a((Mu,yu)=>{yu.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}}),bx=a((Mu,yu)=>{var ls=A2(),_t=Lw(),Fn=Gp(),xl=V1().dashStyle,Bn=cp(),yl=My(),Sl=Ny().makeEventData,Al=M2(),Et=Al.freeMode,Pl=Al.rectMode,El=Al.drawMode,Fl=Al.openMode,$l=Al.selectMode,Nl=xy(),Ll=$2(),Ol=b3(),Bl=Jv().clearOutline,_l=i2(),Rl=_l.handleEllipse,Il=_l.readPaths,Hl=y3().newShapes,Kl=ux(),Gu=w3().activateLastSelection,vu=vm(),hu=vu.sorterAsc,Yl=S3(),$u=R1(),bu=mv().getFromId,Lu=g3(),Fu=V2().redrawReglTraces,Du=yx(),Hu=Du.MINSELECT,Vu=Yl.filter,gu=Yl.tester,Wu=f2(),qu=Wu.p2r,np=Wu.axValue,_h=Wu.getTransform;function ap(Ep){return Ep.subplot!==void 0}function bp(Ep,$p,Zu,lp,mp){var Tp=!ap(lp),Lp=Et(mp),Up=Pl(mp),Xp=Fl(mp),c0=El(mp),i0=$l(mp),s0=mp==="drawline",M0=mp==="drawcircle",A0=s0||M0,R0=lp.gd,rm=R0._fullLayout,wm=i0&&rm.newselection.mode==="immediate"&&Tp,Bm=rm._zoomlayer,Vm=lp.element.getBoundingClientRect(),Ym=lp.plotinfo,_m=_h(Ym),sm=$p-Vm.left,zm=Zu-Vm.top;rm._calcInverseTransform(R0);var Wm=vu.apply3DTransform(rm._invTransform)(sm,zm);sm=Wm[0],zm=Wm[1];var Im=rm._invScaleX,Am=rm._invScaleY,Fm=sm,Sm=zm,e1="M"+sm+","+zm,u1=lp.xaxes[0],jm=lp.yaxes[0],d1=u1._length,m1=jm._length,S1=Ep.altKey&&!(El(mp)&&Xp),_1,n1,b1,f1,km,D1,_d;Uu(Ep,R0,lp),Lp&&(_1=Vu([[sm,zm]],Du.BENDPX));var Xu=Bm.selectAll("path.select-outline-"+Ym.id).data([1]),Bp=c0?rm.newshape:rm.newselection;c0&&(lp.hasText=Bp.label.text||Bp.label.texttemplate);var qp=c0&&!Xp?Bp.fillcolor:"rgba(0,0,0,0)",_f=Bp.line.color||(Tp?Bn.contrast(R0._fullLayout.plot_bgcolor):"#7f7f7f");Xu.enter().append("path").attr("class","select-outline select-outline-"+Ym.id).style({opacity:c0?Bp.opacity/2:1,"stroke-dasharray":xl(Bp.line.dash,Bp.line.width),"stroke-width":Bp.line.width+"px","shape-rendering":"crispEdges"}).call(Bn.stroke,_f).call(Bn.fill,qp).attr("fill-rule","evenodd").classed("cursor-move",!!c0).attr("transform",_m).attr("d",e1+"Z");var zp=Bm.append("path").attr("class","zoombox-corners").style({fill:Bn.background,stroke:Bn.defaultLine,"stroke-width":1}).attr("transform",_m).attr("d","M0,0Z");if(c0&&lp.hasText){var Hp=Bm.select(".label-temp");Hp.empty()&&(Hp=Bm.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var t0=rm._uid+Du.SELECTID,Qp=[],p0=Pu(R0,lp.xaxes,lp.yaxes,lp.subplot);wm&&!Ep.shiftKey&&(lp._clearSubplotSelections=function(){if(Tp){var H0=u1._id,ym=jm._id;a0(R0,H0,ym,p0);for(var pm=(R0.layout||{}).selections||[],Tm=[],um=!1,Rm=0;Rm<pm.length;Rm++){var Gm=rm.selections[Rm];!Gm||Gm.xref!==H0||Gm.yref!==ym?Tm.push(pm[Rm]):um=!0}um&&(R0._fullLayout._noEmitSelectedAtStart=!0,Fn.call("_guiRelayout",R0,{selections:Tm}))}});var y0=q0(lp);lp.moveFn=function(H0,ym){lp._clearSubplotSelections&&(lp._clearSubplotSelections(),lp._clearSubplotSelections=void 0),Fm=Math.max(0,Math.min(d1,Im*H0+sm)),Sm=Math.max(0,Math.min(m1,Am*ym+zm));var pm=Math.abs(Fm-sm),Tm=Math.abs(Sm-zm);if(Up){var um,Rm,Gm;if(i0){var x1=rm.selectdirection;switch(x1==="any"?Tm<Math.min(pm*.6,Hu)?um="h":pm<Math.min(Tm*.6,Hu)?um="v":um="d":um=x1,um){case"h":Rm=M0?m1/2:0,Gm=m1;break;case"v":Rm=M0?d1/2:0,Gm=d1;break}}if(c0)switch(rm.newshape.drawdirection){case"vertical":um="h",Rm=M0?m1/2:0,Gm=m1;break;case"horizontal":um="v",Rm=M0?d1/2:0,Gm=d1;break;case"ortho":pm<Tm?(um="h",Rm=zm,Gm=Sm):(um="v",Rm=sm,Gm=Fm);break;default:um="d"}um==="h"?(f1=A0?Rl(M0,[Fm,Rm],[Fm,Gm]):[[sm,Rm],[sm,Gm],[Fm,Gm],[Fm,Rm]],f1.xmin=A0?Fm:Math.min(sm,Fm),f1.xmax=A0?Fm:Math.max(sm,Fm),f1.ymin=Math.min(Rm,Gm),f1.ymax=Math.max(Rm,Gm),zp.attr("d","M"+f1.xmin+","+(zm-Hu)+"h-4v"+2*Hu+"h4ZM"+(f1.xmax-1)+","+(zm-Hu)+"h4v"+2*Hu+"h-4Z")):um==="v"?(f1=A0?Rl(M0,[Rm,Sm],[Gm,Sm]):[[Rm,zm],[Rm,Sm],[Gm,Sm],[Gm,zm]],f1.xmin=Math.min(Rm,Gm),f1.xmax=Math.max(Rm,Gm),f1.ymin=A0?Sm:Math.min(zm,Sm),f1.ymax=A0?Sm:Math.max(zm,Sm),zp.attr("d","M"+(sm-Hu)+","+f1.ymin+"v-4h"+2*Hu+"v4ZM"+(sm-Hu)+","+(f1.ymax-1)+"v4h"+2*Hu+"v-4Z")):um==="d"&&(f1=A0?Rl(M0,[sm,zm],[Fm,Sm]):[[sm,zm],[sm,Sm],[Fm,Sm],[Fm,zm]],f1.xmin=Math.min(sm,Fm),f1.xmax=Math.max(sm,Fm),f1.ymin=Math.min(zm,Sm),f1.ymax=Math.max(zm,Sm),zp.attr("d","M0,0Z"))}else Lp&&(_1.addPt([Fm,Sm]),f1=_1.filtered);if(lp.selectionDefs&&lp.selectionDefs.length?(b1=r0(lp.mergedPolygons,f1,S1),f1.subtract=S1,n1=Xl(lp.selectionDefs.concat([f1]))):(b1=[f1],n1=gu(f1)),Ol(Cp(b1,Xp),Xu,lp),i0){var t1=sp(R0,!1),O1=t1.eventData?t1.eventData.points.slice():[];t1=sp(R0,!1,n1,p0,lp),n1=t1.selectionTesters,_d=t1.eventData;var p1;_1?p1=_1.filtered:p1=_0(b1),$u.throttle(t0,Du.SELECTDELAY,function(){Qp=Mp(n1,p0);for(var $1=Qp.slice(),L1=0;L1<O1.length;L1++){for(var ov=O1[L1],X1=!1,g1=0;g1<$1.length;g1++)if($1[g1].curveNumber===ov.curveNumber&&$1[g1].pointNumber===ov.pointNumber){X1=!0;break}X1||$1.push(ov)}$1.length&&(_d||(_d={}),_d.points=$1),y0(_d,p1),J0(R0,_d)})}},lp.clickFn=function(H0,ym){if(zp.remove(),R0._fullLayout._activeShapeIndex>=0){R0._fullLayout._deactivateShape(R0);return}if(!c0){var pm=rm.clickmode;$u.done(t0).then(function(){if($u.clear(t0),H0===2){for(Xu.remove(),km=0;km<p0.length;km++)D1=p0[km],D1._module.selectPoints(D1,!1);if(Zp(R0,p0),Wl(lp),nm(R0),p0.length){var Tm=p0[0].xaxis,um=p0[0].yaxis;if(Tm&&um){for(var Rm=[],Gm=R0._fullLayout.selections,x1=0;x1<Gm.length;x1++){var t1=Gm[x1];t1&&(t1.xref!==Tm._id||t1.yref!==um._id)&&Rm.push(t1)}Rm.length<Gm.length&&(R0._fullLayout._noEmitSelectedAtStart=!0,Fn.call("_guiRelayout",R0,{selections:Rm}))}}}else pm.indexOf("select")>-1&&wp(ym,R0,lp.xaxes,lp.yaxes,lp.subplot,lp,Xu),pm==="event"&&V0(R0,void 0);yl.click(R0,ym,Ym.id)}).catch(vu.error)}},lp.doneFn=function(){zp.remove(),$u.done(t0).then(function(){$u.clear(t0),!wm&&f1&&lp.selectionDefs&&(f1.subtract=S1,lp.selectionDefs.push(f1),lp.mergedPolygons.length=0,[].push.apply(lp.mergedPolygons,b1)),(wm||c0)&&Wl(lp,wm),lp.doneFnCompleted&&lp.doneFnCompleted(Qp),i0&&V0(R0,_d)}).catch(vu.error)}}function wp(Ep,$p,Zu,lp,mp,Tp,Lp){var Up=$p._hoverdata,Xp=$p._fullLayout,c0=Xp.clickmode,i0=c0.indexOf("event")>-1,s0=[],M0,A0,R0,rm,wm,Bm,Vm,Ym,_m,sm;if(tp(Up)){Uu(Ep,$p,Tp),M0=Pu($p,Zu,lp,mp);var zm=up(Up,M0),Wm=zm.pointNumbers.length>0;if(Wm?Ap(M0,zm):Op(M0)&&(Vm=dp(zm))){for(Lp&&Lp.remove(),sm=0;sm<M0.length;sm++)A0=M0[sm],A0._module.selectPoints(A0,!1);Zp($p,M0),Wl(Tp),i0&&nm($p)}else{Ym=Ep.shiftKey&&(Vm!==void 0?Vm:dp(zm)),R0=kp(zm.pointNumber,zm.searchInfo,Ym);var Im=Tp.selectionDefs.concat([R0]);for(rm=Xl(Im),sm=0;sm<M0.length;sm++)if(wm=M0[sm]._module.selectPoints(M0[sm],rm),Bm=e0(wm,M0[sm]),s0.length)for(var Am=0;Am<Bm.length;Am++)s0.push(Bm[Am]);else s0=Bm;if(_m={points:s0},Zp($p,M0,_m),R0&&Tp&&Tp.selectionDefs.push(R0),Lp){var Fm=Tp.mergedPolygons,Sm=Fl(Tp.dragmode);Ol(Cp(Fm,Sm),Lp,Tp)}i0&&V0($p,_m)}}}function kp(Ep,$p,Zu){return{pointNumber:Ep,searchInfo:$p,subtract:!!Zu}}function Iu(Ep){return"pointNumber"in Ep&&"searchInfo"in Ep}function Bu(Ep){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function($p,Zu,lp,mp){var Tp=Ep.searchInfo.cd[0].trace.index,Lp=mp.cd[0].trace.index;return Lp===Tp&&lp===Ep.pointNumber},isRect:!1,degenerate:!1,subtract:!!Ep.subtract}}function Xl(Ep){if(!Ep.length)return;for(var $p=[],Zu=Iu(Ep[0])?0:Ep[0][0][0],lp=Zu,mp=Iu(Ep[0])?0:Ep[0][0][1],Tp=mp,Lp=0;Lp<Ep.length;Lp++)if(Iu(Ep[Lp]))$p.push(Bu(Ep[Lp]));else{var Up=gu(Ep[Lp]);Up.subtract=!!Ep[Lp].subtract,$p.push(Up),Zu=Math.min(Zu,Up.xmin),lp=Math.max(lp,Up.xmax),mp=Math.min(mp,Up.ymin),Tp=Math.max(Tp,Up.ymax)}function Xp(c0,i0,s0,M0){for(var A0=!1,R0=0;R0<$p.length;R0++)$p[R0].contains(c0,i0,s0,M0)&&(A0=!$p[R0].subtract);return A0}return{xmin:Zu,xmax:lp,ymin:mp,ymax:Tp,pts:[],contains:Xp,isRect:!1,degenerate:!1}}function Uu(Ep,$p,Zu){var lp=$p._fullLayout,mp=Zu.plotinfo,Tp=Zu.dragmode,Lp=lp._lastSelectedSubplot&&lp._lastSelectedSubplot===mp.id,Up=(Ep.shiftKey||Ep.altKey)&&!(El(Tp)&&Fl(Tp));Lp&&Up&&mp.selection&&mp.selection.selectionDefs&&!Zu.selectionDefs?(Zu.selectionDefs=mp.selection.selectionDefs,Zu.mergedPolygons=mp.selection.mergedPolygons):(!Up||!mp.selection)&&Wl(Zu),Lp||(Bl($p),lp._lastSelectedSubplot=mp.id)}function ep(Ep){return Ep._fullLayout._activeShapeIndex>=0}function _u(Ep){return Ep._fullLayout._activeSelectionIndex>=0}function Wl(Ep,$p){var Zu=Ep.dragmode,lp=Ep.plotinfo,mp=Ep.gd;ep(mp)&&mp._fullLayout._deactivateShape(mp),_u(mp)&&mp._fullLayout._deactivateSelection(mp);var Tp=mp._fullLayout,Lp=Tp._zoomlayer,Up=El(Zu),Xp=$l(Zu);if(Up||Xp){var c0=Lp.selectAll(".select-outline-"+lp.id);if(c0&&mp._fullLayout._outlining){var i0;Up&&(i0=Hl(c0,Ep)),i0&&Fn.call("_guiRelayout",mp,{shapes:i0});var s0;Xp&&!ap(Ep)&&(s0=Kl(c0,Ep)),s0&&(mp._fullLayout._noEmitSelectedAtStart=!0,Fn.call("_guiRelayout",mp,{selections:s0}).then(function(){$p&&Gu(mp)})),mp._fullLayout._outlining=!1}}lp.selection={},lp.selection.selectionDefs=Ep.selectionDefs=[],lp.selection.mergedPolygons=Ep.mergedPolygons=[]}function Jl(Ep){return Ep._id}function Pu(Ep,$p,Zu,lp){if(!Ep.calcdata)return[];var mp=[],Tp=$p.map(Jl),Lp=Zu.map(Jl),Up,Xp,c0;for(c0=0;c0<Ep.calcdata.length;c0++)if(Up=Ep.calcdata[c0],Xp=Up[0].trace,!(Xp.visible!==!0||!Xp._module||!Xp._module.selectPoints))if(ap({subplot:lp})&&(Xp.subplot===lp||Xp.geo===lp))mp.push(Nu(Xp._module,Up,$p[0],Zu[0]));else if(Xp.type==="splom"){if(Xp._xaxes[Tp[0]]&&Xp._yaxes[Lp[0]]){var i0=Nu(Xp._module,Up,$p[0],Zu[0]);i0.scene=Ep._fullLayout._splomScenes[Xp.uid],mp.push(i0)}}else if(Xp.type==="sankey"){var s0=Nu(Xp._module,Up,$p[0],Zu[0]);mp.push(s0)}else{if(Tp.indexOf(Xp.xaxis)===-1&&(!Xp._xA||!Xp._xA.overlaying)||Lp.indexOf(Xp.yaxis)===-1&&(!Xp._yA||!Xp._yA.overlaying))continue;mp.push(Nu(Xp._module,Up,bu(Ep,Xp.xaxis),bu(Ep,Xp.yaxis)))}return mp}function Nu(Ep,$p,Zu,lp){return{_module:Ep,cd:$p,xaxis:Zu,yaxis:lp}}function tp(Ep){return Ep&&Array.isArray(Ep)&&Ep[0].hoverOnBox!==!0}function up(Ep,$p){var Zu=Ep[0],lp=-1,mp=[],Tp,Lp;for(Lp=0;Lp<$p.length;Lp++)if(Tp=$p[Lp],Zu.fullData.index===Tp.cd[0].trace.index){if(Zu.hoverOnBox===!0)break;Zu.pointNumber!==void 0?lp=Zu.pointNumber:Zu.binNumber!==void 0&&(lp=Zu.binNumber,mp=Zu.pointNumbers);break}return{pointNumber:lp,pointNumbers:mp,searchInfo:Tp}}function dp(Ep){var $p=Ep.searchInfo.cd[0].trace,Zu=Ep.pointNumber,lp=Ep.pointNumbers,mp=lp.length>0,Tp=mp?lp[0]:Zu;return $p.selectedpoints?$p.selectedpoints.indexOf(Tp)>-1:!1}function Ap(Ep,$p){var Zu=[],lp,mp,Tp,Lp;for(Lp=0;Lp<Ep.length;Lp++)lp=Ep[Lp],lp.cd[0].trace.selectedpoints&&lp.cd[0].trace.selectedpoints.length>0&&Zu.push(lp);if(Zu.length===1&&(Tp=Zu[0]===$p.searchInfo,Tp&&(mp=$p.searchInfo.cd[0].trace,mp.selectedpoints.length===$p.pointNumbers.length))){for(Lp=0;Lp<$p.pointNumbers.length;Lp++)if(mp.selectedpoints.indexOf($p.pointNumbers[Lp])<0)return!1;return!0}return!1}function Op(Ep){var $p=0,Zu,lp,mp;for(mp=0;mp<Ep.length;mp++)if(Zu=Ep[mp],lp=Zu.cd[0].trace,lp.selectedpoints&&(lp.selectedpoints.length>1||($p+=lp.selectedpoints.length,$p>1)))return!1;return $p===1}function Zp(Ep,$p,Zu){var lp;for(lp=0;lp<$p.length;lp++){var mp=$p[lp].cd[0].trace._fullInput,Tp=Ep._fullLayout._tracePreGUI[mp.uid]||{};Tp.selectedpoints===void 0&&(Tp.selectedpoints=mp._input.selectedpoints||null)}var Lp;if(Zu){var Up=Zu.points||[];for(lp=0;lp<$p.length;lp++)Lp=$p[lp].cd[0].trace,Lp._input.selectedpoints=Lp._fullInput.selectedpoints=[],Lp._fullInput!==Lp&&(Lp.selectedpoints=[]);for(var Xp=0;Xp<Up.length;Xp++){var c0=Up[Xp],i0=c0.data,s0=c0.fullData,M0=c0.pointIndex,A0=c0.pointIndices;A0?([].push.apply(i0.selectedpoints,A0),Lp._fullInput!==Lp&&[].push.apply(s0.selectedpoints,A0)):(i0.selectedpoints.push(M0),Lp._fullInput!==Lp&&s0.selectedpoints.push(M0))}}else for(lp=0;lp<$p.length;lp++)Lp=$p[lp].cd[0].trace,delete Lp.selectedpoints,delete Lp._input.selectedpoints,Lp._fullInput!==Lp&&delete Lp._fullInput.selectedpoints;u0(Ep,$p)}function u0(Ep,$p){for(var Zu=!1,lp=0;lp<$p.length;lp++){var mp=$p[lp],Tp=mp.cd;Fn.traceIs(Tp[0].trace,"regl")&&(Zu=!0);var Lp=mp._module,Up=Lp.styleOnSelect||Lp.style;Up&&(Up(Ep,Tp,Tp[0].node3),Tp[0].nodeRangePlot3&&Up(Ep,Tp,Tp[0].nodeRangePlot3))}Zu&&(Lu(Ep),Fu(Ep))}function r0(Ep,$p,Zu){for(var lp=Zu?ls.difference:ls.union,mp=lp({regions:Ep},{regions:[$p]}),Tp=mp.regions.reverse(),Lp=0;Lp<Tp.length;Lp++){var Up=Tp[Lp];Up.subtract=w0(Up,Tp.slice(0,Lp))}return Tp}function e0(Ep,$p){if(Array.isArray(Ep))for(var Zu=$p.cd,lp=$p.cd[0].trace,mp=0;mp<Ep.length;mp++)Ep[mp]=Sl(Ep[mp],lp,Zu);return Ep}function Cp(Ep,$p){for(var Zu=[],lp=0;lp<Ep.length;lp++){Zu[lp]=[];for(var mp=0;mp<Ep[lp].length;mp++){Zu[lp][mp]=[],Zu[lp][mp][0]=mp?"L":"M";for(var Tp=0;Tp<Ep[lp][mp].length;Tp++)Zu[lp][mp].push(Ep[lp][mp][Tp])}$p||Zu[lp].push(["Z",Zu[lp][0][1],Zu[lp][0][2]])}return Zu}function Mp(Ep,$p){for(var Zu=[],lp,mp=[],Tp,Lp=0;Lp<$p.length;Lp++){var Up=$p[Lp];Tp=Up._module.selectPoints(Up,Ep),mp.push(Tp),lp=e0(Tp,Up),Zu=Zu.concat(lp)}return Zu}function sp(Ep,$p,Zu,lp,mp){var Tp=!!lp,Lp,Up,Xp;mp&&(Lp=mp.plotinfo,Up=mp.xaxes[0]._id,Xp=mp.yaxes[0]._id);var c0=[],i0=[],s0=h0(Ep),M0=Ep._fullLayout;if(Lp){var A0=M0._zoomlayer,R0=M0.dragmode,rm=El(R0),wm=$l(R0);if(rm||wm){var Bm=bu(Ep,Up,"x"),Vm=bu(Ep,Xp,"y");if(Bm&&Vm){var Ym=A0.selectAll(".select-outline-"+Lp.id);if(Ym&&Ep._fullLayout._outlining&&Ym.length){for(var _m=Ym[0][0],sm=_m.getAttribute("d"),zm=Il(sm,Ep,Lp),Wm=[],Im=0;Im<zm.length;Im++){for(var Am=zm[Im],Fm=[],Sm=0;Sm<Am.length;Sm++)Fm.push([E0(Bm,Am[Sm][1]),E0(Vm,Am[Sm][2])]);Fm.xref=Up,Fm.yref=Xp,Fm.subtract=w0(Fm,Wm),Wm.push(Fm)}s0=s0.concat(Wm)}}}}var e1=Up&&Xp?[Up+Xp]:M0._subplots.cartesian;Ip(Ep);for(var u1={},jm=0;jm<e1.length;jm++){var d1=e1[jm],m1=d1.indexOf("y"),S1=d1.slice(0,m1),_1=d1.slice(m1),n1=Up&&Xp?Zu:void 0;if(n1=v0(s0,S1,_1,n1),n1){var b1=lp;if(!Tp){var f1=bu(Ep,S1,"x"),km=bu(Ep,_1,"y");b1=Pu(Ep,[f1],[km],d1);for(var D1=0;D1<b1.length;D1++){var _d=b1[D1],Xu=_d.cd[0],Bp=Xu.trace;if(_d._module.name==="scattergl"&&!Xu.t.xpx){var qp=Bp.x,_f=Bp.y,zp=Bp._length;Xu.t.xpx=[],Xu.t.ypx=[];for(var Hp=0;Hp<zp;Hp++)Xu.t.xpx[Hp]=f1.c2p(qp[Hp]),Xu.t.ypx[Hp]=km.c2p(_f[Hp])}_d._module.name==="splom"&&(u1[Bp.uid]||(u1[Bp.uid]=!0))}}var t0=Mp(n1,b1);c0=c0.concat(t0),i0=i0.concat(b1)}}var Qp={points:c0};Zp(Ep,i0,Qp);var p0=M0.clickmode,y0=p0.indexOf("event")>-1&&$p;if(!Lp&&$p){var H0=h0(Ep,!0);if(H0.length){var ym=H0[0].xref,pm=H0[0].yref;if(ym&&pm){var Tm=_0(H0),um=f0([bu(Ep,ym,"x"),bu(Ep,pm,"y")]);um(Qp,Tm)}}Ep._fullLayout._noEmitSelectedAtStart?Ep._fullLayout._noEmitSelectedAtStart=!1:y0&&V0(Ep,Qp),M0._reselect=!1}if(!Lp&&M0._deselect){var Rm=M0._deselect;Up=Rm.xref,Xp=Rm.yref,Jp(Up,Xp,i0)||a0(Ep,Up,Xp,lp),y0&&(Qp.points.length?V0(Ep,Qp):nm(Ep)),M0._deselect=!1}return{eventData:Qp,selectionTesters:Zu}}function Ip(Ep){var $p=Ep.calcdata;if($p)for(var Zu=0;Zu<$p.length;Zu++){var lp=$p[Zu][0],mp=lp.trace,Tp=Ep._fullLayout._splomScenes;if(Tp){var Lp=Tp[mp.uid];Lp&&(Lp.selectBatch=[])}}}function Jp(Ep,$p,Zu){for(var lp=0;lp<Zu.length;lp++){var mp=Zu[lp];if(mp.xaxis&&mp.xaxis._id===Ep&&mp.yaxis&&mp.yaxis._id===$p)return!0}return!1}function a0(Ep,$p,Zu,lp){lp=Pu(Ep,[bu(Ep,$p,"x")],[bu(Ep,Zu,"y")],$p+Zu);for(var mp=0;mp<lp.length;mp++){var Tp=lp[mp];Tp._module.selectPoints(Tp,!1)}Zp(Ep,lp)}function v0(Ep,$p,Zu,lp){for(var mp,Tp=0;Tp<Ep.length;Tp++){var Lp=Ep[Tp];if(!($p!==Lp.xref||Zu!==Lp.yref))if(mp){var Up=!!Lp.subtract;mp=r0(mp,Lp,Up),lp=Xl(mp)}else mp=[Lp],lp=gu(Lp)}return lp}function h0(Ep,$p){for(var Zu=[],lp=Ep._fullLayout,mp=lp.selections,Tp=mp.length,Lp=0;Lp<Tp;Lp++)if(!($p&&Lp!==lp._activeSelectionIndex)){var Up=mp[Lp];if(Up){var Xp=Up.xref,c0=Up.yref,i0=bu(Ep,Xp,"x"),s0=bu(Ep,c0,"y"),M0,A0,R0,rm,wm;if(Up.type==="rect"){wm=[];var Bm=E0(i0,Up.x0),Vm=E0(i0,Up.x1),Ym=E0(s0,Up.y0),_m=E0(s0,Up.y1);wm=[[Bm,Ym],[Bm,_m],[Vm,_m],[Vm,Ym]],M0=Math.min(Bm,Vm),A0=Math.max(Bm,Vm),R0=Math.min(Ym,_m),rm=Math.max(Ym,_m),wm.xmin=M0,wm.xmax=A0,wm.ymin=R0,wm.ymax=rm,wm.xref=Xp,wm.yref=c0,wm.subtract=!1,wm.isRect=!0,Zu.push(wm)}else if(Up.type==="path")for(var sm=Up.path.split("Z"),zm=[],Wm=0;Wm<sm.length;Wm++){var Im=sm[Wm];if(Im){Im+="Z";var Am=Nl.extractPathCoords(Im,Ll.paramIsX,"raw"),Fm=Nl.extractPathCoords(Im,Ll.paramIsY,"raw");M0=1/0,A0=-1/0,R0=1/0,rm=-1/0,wm=[];for(var Sm=0;Sm<Am.length;Sm++){var e1=E0(i0,Am[Sm]),u1=E0(s0,Fm[Sm]);wm.push([e1,u1]),M0=Math.min(e1,M0),A0=Math.max(e1,A0),R0=Math.min(u1,R0),rm=Math.max(u1,rm)}wm.xmin=M0,wm.xmax=A0,wm.ymin=R0,wm.ymax=rm,wm.xref=Xp,wm.yref=c0,wm.subtract=w0(wm,zm),zm.push(wm),Zu.push(wm)}}}}return Zu}function w0(Ep,$p){for(var Zu=!1,lp=0;lp<$p.length;lp++)for(var mp=$p[lp],Tp=0;Tp<Ep.length;Tp++)if(_t(Ep[Tp],mp)){Zu=!Zu;break}return Zu}function E0(Ep,$p){return Ep.type==="date"&&($p=$p.replace("_"," ")),Ep.type==="log"?Ep.c2p($p):Ep.r2p($p,null,Ep.calendar)}function _0(Ep){for(var $p=Ep.length,Zu=[],lp=0;lp<$p;lp++){var mp=Ep[lp];Zu=Zu.concat(mp),Zu=Zu.concat([mp[0]])}return $0(Zu)}function $0(Ep){return Ep.isRect=Ep.length===5&&Ep[0][0]===Ep[4][0]&&Ep[0][1]===Ep[4][1]&&Ep[0][0]===Ep[1][0]&&Ep[2][0]===Ep[3][0]&&Ep[0][1]===Ep[3][1]&&Ep[1][1]===Ep[2][1]||Ep[0][1]===Ep[1][1]&&Ep[2][1]===Ep[3][1]&&Ep[0][0]===Ep[3][0]&&Ep[1][0]===Ep[2][0],Ep.isRect&&(Ep.xmin=Math.min(Ep[0][0],Ep[2][0]),Ep.xmax=Math.max(Ep[0][0],Ep[2][0]),Ep.ymin=Math.min(Ep[0][1],Ep[2][1]),Ep.ymax=Math.max(Ep[0][1],Ep[2][1])),Ep}function f0(Ep){return function($p,Zu){for(var lp,mp,Tp=0;Tp<Ep.length;Tp++){var Lp=Ep[Tp],Up=Lp._id,Xp=Up.charAt(0);if(Zu.isRect){lp||(lp={});var c0=Zu[Xp+"min"],i0=Zu[Xp+"max"];c0!==void 0&&i0!==void 0&&(lp[Up]=[qu(Lp,c0),qu(Lp,i0)].sort(hu))}else mp||(mp={}),mp[Up]=Zu.map(np(Lp))}lp&&($p.range=lp),mp&&($p.lassoPoints=mp)}}function q0(Ep){var $p=Ep.plotinfo;return $p.fillRangeItems||f0(Ep.xaxes.concat(Ep.yaxes))}function J0(Ep,$p){Ep.emit("plotly_selecting",$p)}function V0(Ep,$p){$p&&($p.selections=(Ep.layout||{}).selections||[]),Ep.emit("plotly_selected",$p)}function nm(Ep){Ep.emit("plotly_deselect",null)}yu.exports={reselect:sp,prepSelect:bp,clearOutline:Bl,clearSelectionsCache:Wl,selectOnClick:wp}}),xx=a((Mu,yu)=>{yu.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]}),o2=a((Mu,yu)=>{yu.exports={axisRefDescription:function(ls,_t,Fn){return["If set to a",ls,"axis id (e.g. *"+ls+"* or","*"+ls+"2*), the `"+ls+"` position refers to a",ls,"coordinate. If set to *paper*, the `"+ls+"`","position refers to the distance from the",_t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",_t,"("+Fn+"). If set to a",ls,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",_t,"of the domain of that axis: e.g.,","*"+ls+"2 domain* refers to the domain of the second",ls," axis and a",ls,"position of 0.5 refers to the","point between the",_t,"and the",Fn,"of the domain of the","second",ls,"axis."].join(" ")}}}),wy=a((Mu,yu)=>{var ls=xx(),_t=Ml(),Fn=A1(),xl=hv().templatedArray;o2(),yu.exports=xl("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:_t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:ls.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:ls.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",Fn.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",Fn.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",Fn.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",Fn.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:_t({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc"})}),_3=a((Mu,yu)=>{yu.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}}),Ow=a((Mu,yu)=>{yu.exports=function(ls){return{valType:"color",editType:"style",anim:!0}}}),ey=a((Mu,yu)=>{var ls=t2().axisHoverFormat,_t=gm().texttemplateAttrs,Fn=gm().hovertemplateAttrs,xl=_y(),Bn=Ml(),yl=Cm().dash,Sl=Cm().pattern,Al=V1(),Et=_3(),Pl=In().extendFlat,El=Ow();function Fl(Ll){return{valType:"any",dflt:0,editType:"calc"}}function $l(Ll){return{valType:"any",editType:"calc"}}function Nl(Ll){return{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"}}yu.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:Fl(),yperiod:Fl(),xperiod0:$l(),yperiod0:$l(),xperiodalignment:Nl(),yperiodalignment:Nl(),xhoverformat:ls("x"),yhoverformat:ls("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:_t({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:Fn({},{keys:Et.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:Pl({},yl,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:El(!0),fillgradient:Pl({type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],dflt:"none",editType:"calc"},start:{valType:"number",editType:"calc"},stop:{valType:"number",editType:"calc"},colorscale:{valType:"colorscale",editType:"style"},editType:"calc"}),fillpattern:Sl,marker:Pl({symbol:{valType:"enumerated",values:Al.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:Pl({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},xl("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},xl("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:Bn({editType:"calc",colorEditType:"style",arrayOk:!0}),zorder:{valType:"integer",dflt:0,editType:"plot"}}}),E3=a((Mu,yu)=>{var ls=wy(),_t=ey().line,Fn=Cm().dash,xl=In().extendFlat,Bn=Q0().overrideAll,yl=hv().templatedArray;o2(),yu.exports=Bn(yl("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:xl({},ls.xref,{}),yref:xl({},ls.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:_t.color,width:xl({},_t.width,{min:1,dflt:1}),dash:xl({},Fn,{dflt:"dot"})}}),"arraydraw","from-root")}),wx=a((Mu,yu)=>{var ls=vm(),_t=pv(),Fn=Kv(),xl=E3(),Bn=xy();yu.exports=function(Sl,Al){Fn(Sl,Al,{name:"selections",handleItemDefaults:yl});for(var Et=Al.selections,Pl=0;Pl<Et.length;Pl++){var El=Et[Pl];El&&El.path===void 0&&(El.x0===void 0||El.x1===void 0||El.y0===void 0||El.y1===void 0)&&(Al.selections[Pl]=null)}};function yl(Sl,Al,Et){function Pl(Lu,Fu){return ls.coerce(Sl,Al,xl,Lu,Fu)}var El=Pl("path"),Fl=El?"path":"rect",$l=Pl("type",Fl),Nl=$l!=="path";Nl&&delete Al.path,Pl("opacity"),Pl("line.color"),Pl("line.width"),Pl("line.dash");for(var Ll=["x","y"],Ol=0;Ol<2;Ol++){var Bl=Ll[Ol],_l={_fullLayout:Et},Rl,Il,Hl,Kl=_t.coerceRef(Sl,Al,_l,Bl);if(Rl=_t.getFromId(_l,Kl),Rl._selectionIndices.push(Al._index),Hl=Bn.rangeToShapePosition(Rl),Il=Bn.shapePositionToRange(Rl),Nl){var Gu=Bl+"0",vu=Bl+"1",hu=Sl[Gu],Yl=Sl[vu];Sl[Gu]=Il(Sl[Gu],!0),Sl[vu]=Il(Sl[vu],!0),_t.coercePosition(Al,_l,Pl,Kl,Gu),_t.coercePosition(Al,_l,Pl,Kl,vu);var $u=Al[Gu],bu=Al[vu];$u!==void 0&&bu!==void 0&&(Al[Gu]=Hl($u),Al[vu]=Hl(bu),Sl[Gu]=hu,Sl[vu]=Yl)}}Nl&&ls.noneOrAll(Sl,Al,["x0","x1","y0","y1"])}}),Iw=a((Mu,yu)=>{yu.exports=function(ls,_t,Fn){Fn("newselection.mode");var xl=Fn("newselection.line.width");xl&&(Fn("newselection.line.color"),Fn("newselection.line.dash")),Fn("activeselection.fillcolor"),Fn("activeselection.opacity")}}),T2=a((Mu,yu)=>{var ls=Gp(),_t=vm(),Fn=mv();yu.exports=function(xl){return function(Bn,yl){var Sl=Bn[xl];if(Array.isArray(Sl))for(var Al=ls.subplotsRegistry.cartesian,Et=Al.idRegex,Pl=yl._subplots,El=Pl.xaxis,Fl=Pl.yaxis,$l=Pl.cartesian,Nl=yl._has("cartesian"),Ll=0;Ll<Sl.length;Ll++){var Ol=Sl[Ll];if(_t.isPlainObject(Ol)){var Bl=Fn.cleanId(Ol.xref,"x",!1),_l=Fn.cleanId(Ol.yref,"y",!1),Rl=Et.x.test(Bl),Il=Et.y.test(_l);if(Rl||Il){Nl||_t.pushUnique(yl._basePlotModules,Al);var Hl=!1;Rl&&El.indexOf(Bl)===-1&&(El.push(Bl),Hl=!0),Il&&Fl.indexOf(_l)===-1&&(Fl.push(_l),Hl=!0),Hl&&Rl&&Il&&$l.push(Bl+_l)}}}}}}),Ky=a((Mu,yu)=>{var ls=w3(),_t=bx();yu.exports={moduleType:"component",name:"selections",layoutAttributes:E3(),supplyLayoutDefaults:wx(),supplyDrawNewSelectionDefaults:Iw(),includeBasePlot:T2()("selections"),draw:ls.draw,drawOne:ls.drawOne,reselect:_t.reselect,prepSelect:_t.prepSelect,clearOutline:_t.clearOutline,clearSelectionsCache:_t.clearSelectionsCache,selectOnClick:_t.selectOnClick}}),Cx=a((Mu,yu)=>{var ls=g(),_t=vm(),Fn=_t.numberFormat,xl=zl(),Bn=ix(),yl=Gp(),Sl=_t.strTranslate,Al=Wv(),Et=cp(),Pl=V1(),El=My(),Fl=pv(),$l=n2(),Nl=ky(),Ll=M2(),Ol=Ll.selectingOrDrawing,Bl=Ll.freeMode,_l=qv().FROM_TL,Rl=g3(),Il=V2().redrawReglTraces,Hl=Fv(),Kl=mv().getFromId,Gu=Ky().prepSelect,vu=Ky().clearOutline,hu=Ky().selectOnClick,Yl=gx(),$u=A1(),bu=$u.MINDRAG,Lu=$u.MINZOOM,Fu=!0;function Du(Nu,tp,up,dp,Ap,Op,Zp,u0){var r0=Nu._fullLayout._zoomlayer,e0=Zp+u0==="nsew",Cp=(Zp+u0).length===1,Mp,sp,Ip,Jp,a0,v0,h0,w0,E0,_0,$0,f0,q0,J0,V0,nm,Ep,$p,Zu,lp,mp,Tp,Lp;up+=tp.yaxis._shift;function Up(){if(Mp=tp.xaxis,sp=tp.yaxis,E0=Mp._length,_0=sp._length,h0=Mp._offset,w0=sp._offset,Ip={},Ip[Mp._id]=Mp,Jp={},Jp[sp._id]=sp,Zp&&u0)for(var Xu=tp.overlays,Bp=0;Bp<Xu.length;Bp++){var qp=Xu[Bp].xaxis;Ip[qp._id]=qp;var _f=Xu[Bp].yaxis;Jp[_f._id]=_f}a0=Pu(Ip),v0=Pu(Jp),q0=gu(a0,u0),J0=gu(v0,Zp),V0=!J0&&!q0,f0=Wl(Nu,Nu._fullLayout._axisMatchGroups,Ip,Jp),$0=Wl(Nu,Nu._fullLayout._axisConstraintGroups,Ip,Jp,f0);var zp=$0.isSubplotConstrained||f0.isSubplotConstrained;nm=u0||zp,Ep=Zp||zp;var Hp=Nu._fullLayout;$p=Hp._has("scattergl"),Zu=Hp._has("splom"),lp=Hp._has("svg")}Up();var Xp=ap(J0+q0,Nu._fullLayout.dragmode,e0),c0=Vu(tp,Zp+u0+"drag",Xp,up,dp,Ap,Op);if(V0&&!e0)return c0.onmousedown=null,c0.style.pointerEvents="none",c0;var i0={element:c0,gd:Nu,plotinfo:tp};i0.prepFn=function(Xu,Bp,qp){var _f=i0.dragmode,zp=Nu._fullLayout.dragmode;zp!==_f&&(i0.dragmode=zp),Up(),Tp=Nu._fullLayout._invScaleX,Lp=Nu._fullLayout._invScaleY,V0||(e0?Xu.shiftKey?zp==="pan"?zp="zoom":Ol(zp)||(zp="pan"):Xu.ctrlKey&&(zp="pan"):zp="pan"),Bl(zp)?i0.minDrag=1:i0.minDrag=void 0,Ol(zp)?(i0.xaxes=a0,i0.yaxes=v0,Gu(Xu,Bp,qp,i0,zp)):(i0.clickFn=M0,Ol(_f)&&s0(),V0||(zp==="zoom"?(i0.moveFn=Im,i0.doneFn=Fm,i0.minDrag=1,Wm(Xu,Bp,qp)):zp==="pan"&&(i0.moveFn=m1,i0.doneFn=b1))),Nu._fullLayout._redrag=function(){var Hp=Nu._dragdata;if(Hp&&Hp.element===c0){var t0=Nu._fullLayout.dragmode;Ol(t0)||(Up(),f1([0,0,E0,_0]),i0.moveFn(Hp.dx,Hp.dy))}}};function s0(){i0.plotinfo.selection=!1,vu(Nu)}function M0(Xu,Bp){var qp=i0.gd;if(qp._fullLayout._activeShapeIndex>=0){qp._fullLayout._deactivateShape(qp);return}var _f=qp._fullLayout.clickmode;if(Bu(qp),Xu===2&&!Cp&&n1(),e0)_f.indexOf("select")>-1&&hu(Bp,qp,a0,v0,tp.id,i0),_f.indexOf("event")>-1&&El.click(qp,Bp,tp.id);else if(Xu===1&&Cp){var zp=Zp?sp:Mp,Hp=Zp==="s"||u0==="w"?0:1,t0=zp._name+".range["+Hp+"]",Qp=Wu(zp,Hp),p0="left",y0="middle";if(zp.fixedrange)return;Zp?(y0=Zp==="n"?"top":"bottom",zp.side==="right"&&(p0="right")):u0==="e"&&(p0="right"),qp._context.showAxisRangeEntryBoxes&&ls.select(c0).call(Al.makeEditable,{gd:qp,immediate:!0,background:qp._fullLayout.paper_bgcolor,text:String(Qp),fill:zp.tickfont?zp.tickfont.color:"#444",horizontalAlign:p0,verticalAlign:y0}).on("edit",function(H0){var ym=zp.d2r(H0);ym!==void 0&&yl.call("_guiRelayout",qp,t0,ym)})}}Nl.init(i0);var A0,R0,rm,wm,Bm,Vm,Ym,_m,sm,zm;function Wm(Xu,Bp,qp){var _f=c0.getBoundingClientRect();A0=Bp-_f.left,R0=qp-_f.top,Nu._fullLayout._calcInverseTransform(Nu);var zp=_t.apply3DTransform(Nu._fullLayout._invTransform)(A0,R0);A0=zp[0],R0=zp[1],rm={l:A0,r:A0,w:0,t:R0,b:R0,h:0},wm=Nu._hmpixcount?Nu._hmlumcount/Nu._hmpixcount:xl(Nu._fullLayout.plot_bgcolor).getLuminance(),Bm="M0,0H"+E0+"V"+_0+"H0V0",Vm=!1,Ym="xy",zm=!1,_m=bp(r0,wm,h0,w0,Bm),sm=wp(r0,h0,w0)}function Im(Xu,Bp){if(Nu._transitioningWithDuration)return!1;var qp=Math.max(0,Math.min(E0,Tp*Xu+A0)),_f=Math.max(0,Math.min(_0,Lp*Bp+R0)),zp=Math.abs(qp-A0),Hp=Math.abs(_f-R0);rm.l=Math.min(A0,qp),rm.r=Math.max(A0,qp),rm.t=Math.min(R0,_f),rm.b=Math.max(R0,_f);function t0(){Ym="",rm.r=rm.l,rm.t=rm.b,sm.attr("d","M0,0Z")}if($0.isSubplotConstrained)zp>Lu||Hp>Lu?(Ym="xy",zp/E0>Hp/_0?(Hp=zp*_0/E0,R0>_f?rm.t=R0-Hp:rm.b=R0+Hp):(zp=Hp*E0/_0,A0>qp?rm.l=A0-zp:rm.r=A0+zp),sm.attr("d",_u(rm))):t0();else if(f0.isSubplotConstrained)if(zp>Lu||Hp>Lu){Ym="xy";var Qp=Math.min(rm.l/E0,(_0-rm.b)/_0),p0=Math.max(rm.r/E0,(_0-rm.t)/_0);rm.l=Qp*E0,rm.r=p0*E0,rm.b=(1-Qp)*_0,rm.t=(1-p0)*_0,sm.attr("d",_u(rm))}else t0();else!J0||Hp<Math.min(Math.max(zp*.6,bu),Lu)?zp<bu||!q0?t0():(rm.t=0,rm.b=_0,Ym="x",sm.attr("d",Uu(rm,R0))):!q0||zp<Math.min(Hp*.6,Lu)?(rm.l=0,rm.r=E0,Ym="y",sm.attr("d",ep(rm,A0))):(Ym="xy",sm.attr("d",_u(rm)));rm.w=rm.r-rm.l,rm.h=rm.b-rm.t,Ym&&(zm=!0),Nu._dragged=zm,kp(_m,sm,rm,Bm,Vm,wm),Am(),Nu.emit("plotly_relayouting",mp),Vm=!0}function Am(){mp={},(Ym==="xy"||Ym==="x")&&(qu(a0,rm.l/E0,rm.r/E0,mp,$0.xaxes),S1("x",mp)),(Ym==="xy"||Ym==="y")&&(qu(v0,(_0-rm.b)/_0,(_0-rm.t)/_0,mp,$0.yaxes),S1("y",mp))}function Fm(){Am(),Bu(Nu),b1(),Xl(Nu)}var Sm=[0,0,E0,_0],e1=null,u1=$u.REDRAWDELAY,jm=tp.mainplot?Nu._fullLayout._plots[tp.mainplot]:tp;function d1(Xu){if(!Nu._context._scrollZoom.cartesian&&!Nu._fullLayout._enablescrollzoom)return;if(s0(),Nu._transitioningWithDuration){Xu.preventDefault(),Xu.stopPropagation();return}Up(),clearTimeout(e1);var Bp=-Xu.deltaY;if(isFinite(Bp)||(Bp=Xu.wheelDelta/10),!isFinite(Bp)){_t.log("Did not find wheel motion attributes: ",Xu);return}var qp=Math.exp(-Math.min(Math.max(Bp,-20),20)/200),_f=jm.draglayer.select(".nsewdrag").node().getBoundingClientRect(),zp=(Xu.clientX-_f.left)/_f.width,Hp=(_f.bottom-Xu.clientY)/_f.height,t0;function Qp(p0,y0,H0){if(p0.fixedrange)return;var ym=_t.simpleMap(p0.range,p0.r2l),pm=ym[0]+(ym[1]-ym[0])*y0;function Tm(um){return p0.l2r(pm+(um-pm)*H0)}p0.range=ym.map(Tm)}if(nm){for(u0||(zp=.5),t0=0;t0<a0.length;t0++)Qp(a0[t0],zp,qp);S1("x"),Sm[2]*=qp,Sm[0]+=Sm[2]*zp*(1/qp-1)}if(Ep){for(Zp||(Hp=.5),t0=0;t0<v0.length;t0++)Qp(v0[t0],Hp,qp);S1("y"),Sm[3]*=qp,Sm[1]+=Sm[3]*(1-Hp)*(1/qp-1)}f1(Sm),_1(),Nu.emit("plotly_relayouting",mp),e1=setTimeout(function(){Nu._fullLayout&&(Sm=[0,0,E0,_0],b1())},u1),Xu.preventDefault()}Zp.length*u0.length!==1&&Jl(c0,d1);function m1(Xu,Bp){if(Xu=Xu*Tp,Bp=Bp*Lp,Nu._transitioningWithDuration)return;if(Nu._fullLayout._replotting=!0,q0==="ew"||J0==="ns"){var qp=q0?-Xu:0,_f=J0?-Bp:0;if(f0.isSubplotConstrained){if(q0&&J0){var zp=(Xu/E0-Bp/_0)/2;Xu=zp*E0,Bp=-zp*_0,qp=-Xu,_f=-Bp}J0?qp=-_f*E0/_0:_f=-qp*_0/E0}q0&&(np(a0,Xu),S1("x")),J0&&(np(v0,Bp),S1("y")),f1([qp,_f,E0,_0]),_1(),Nu.emit("plotly_relayouting",mp);return}function Hp(Tm,um,Rm){for(var Gm=1-um,x1,t1,O1=0;O1<Tm.length;O1++){var p1=Tm[O1];if(!p1.fixedrange){x1=p1,t1=p1._rl[Gm]+(p1._rl[um]-p1._rl[Gm])/_h(Rm/p1._length);var $1=p1.l2r(t1);$1!==!1&&$1!==void 0&&(p1.range[um]=$1)}}return x1._length*(x1._rl[um]-t1)/(x1._rl[um]-x1._rl[Gm])}var t0=q0==="w"==(J0==="n")?1:-1;if(q0&&J0&&($0.isSubplotConstrained||f0.isSubplotConstrained)){var Qp=(Xu/E0+t0*Bp/_0)/2;Xu=Qp*E0,Bp=t0*Qp*_0}var p0,y0;if(q0==="w"?Xu=Hp(a0,0,Xu):q0==="e"?Xu=Hp(a0,1,-Xu):q0||(Xu=0),J0==="n"?Bp=Hp(v0,1,Bp):J0==="s"?Bp=Hp(v0,0,-Bp):J0||(Bp=0),p0=q0==="w"?Xu:0,y0=J0==="n"?Bp:0,$0.isSubplotConstrained&&!f0.isSubplotConstrained||f0.isSubplotConstrained&&q0&&J0&&t0>0){var H0;if(f0.isSubplotConstrained||!q0&&J0.length===1){for(H0=0;H0<a0.length;H0++)a0[H0].range=a0[H0]._r.slice(),Yl(a0[H0],1-Bp/_0);Xu=Bp*E0/_0,p0=Xu/2}if(f0.isSubplotConstrained||!J0&&q0.length===1){for(H0=0;H0<v0.length;H0++)v0[H0].range=v0[H0]._r.slice(),Yl(v0[H0],1-Xu/E0);Bp=Xu*_0/E0,y0=Bp/2}}(!f0.isSubplotConstrained||!J0)&&S1("x"),(!f0.isSubplotConstrained||!q0)&&S1("y");var ym=E0-Xu,pm=_0-Bp;f0.isSubplotConstrained&&!(q0&&J0)&&(q0?(y0=p0?0:Xu*_0/E0,pm=ym*_0/E0):(p0=y0?0:Bp*E0/_0,ym=pm*E0/_0)),f1([p0,y0,ym,pm]),_1(),Nu.emit("plotly_relayouting",mp)}function S1(Xu,Bp){for(var qp=f0.isSubplotConstrained?{x:v0,y:a0}[Xu]:f0[Xu+"axes"],_f=f0.isSubplotConstrained?{x:a0,y:v0}[Xu]:[],zp=0;zp<qp.length;zp++){var Hp=qp[zp],t0=Hp._id,Qp=f0.xLinks[t0]||f0.yLinks[t0],p0=_f[0]||Ip[Qp]||Jp[Qp];p0&&(Bp?(Bp[Hp._name+".range[0]"]=Bp[p0._name+".range[0]"],Bp[Hp._name+".range[1]"]=Bp[p0._name+".range[1]"]):Hp.range=p0.range.slice())}}function _1(){var Xu=[],Bp;function qp(t0){for(Bp=0;Bp<t0.length;Bp++)t0[Bp].fixedrange||Xu.push(t0[Bp]._id)}function _f(t0,Qp){for(Bp=0;Bp<t0.length;Bp++){var p0=t0[Bp],y0=p0[Qp];!p0.fixedrange&&y0.tickmode==="sync"&&Xu.push(y0._id)}}for(nm&&(qp(a0),qp($0.xaxes),qp(f0.xaxes),_f(tp.overlays,"xaxis")),Ep&&(qp(v0),qp($0.yaxes),qp(f0.yaxes),_f(tp.overlays,"yaxis")),mp={},Bp=0;Bp<Xu.length;Bp++){var zp=Xu[Bp],Hp=Kl(Nu,zp);Fl.drawOne(Nu,Hp,{skipTitle:!0}),mp[Hp._name+".range[0]"]=Hp.range[0],mp[Hp._name+".range[1]"]=Hp.range[1]}Fl.redrawComponents(Nu,Xu)}function n1(){if(!Nu._transitioningWithDuration){var Xu=Nu._context.doubleClick,Bp=[];q0&&(Bp=Bp.concat(a0)),J0&&(Bp=Bp.concat(v0)),f0.xaxes&&(Bp=Bp.concat(f0.xaxes)),f0.yaxes&&(Bp=Bp.concat(f0.yaxes));var qp={},_f,zp;if(Xu==="reset+autosize")for(Xu="autosize",zp=0;zp<Bp.length;zp++){_f=Bp[zp];var Hp=_f._rangeInitial0,t0=_f._rangeInitial1,Qp=Hp!==void 0||t0!==void 0;if(Qp&&(Hp!==void 0&&Hp!==_f.range[0]||t0!==void 0&&t0!==_f.range[1])||!Qp&&_f.autorange!==!0){Xu="reset";break}}if(Xu==="autosize")for(zp=0;zp<Bp.length;zp++)_f=Bp[zp],_f.fixedrange||(qp[_f._name+".autorange"]=!0);else if(Xu==="reset"){for((q0||$0.isSubplotConstrained)&&(Bp=Bp.concat($0.xaxes)),J0&&!$0.isSubplotConstrained&&(Bp=Bp.concat($0.yaxes)),$0.isSubplotConstrained&&(q0?J0||(Bp=Bp.concat(v0)):Bp=Bp.concat(a0)),zp=0;zp<Bp.length;zp++)if(_f=Bp[zp],!_f.fixedrange){var p0=_f._name,y0=_f._autorangeInitial;_f._rangeInitial0===void 0&&_f._rangeInitial1===void 0?qp[p0+".autorange"]=!0:_f._rangeInitial0===void 0?(qp[p0+".autorange"]=y0,qp[p0+".range"]=[null,_f._rangeInitial1]):_f._rangeInitial1===void 0?(qp[p0+".range"]=[_f._rangeInitial0,null],qp[p0+".autorange"]=y0):qp[p0+".range"]=[_f._rangeInitial0,_f._rangeInitial1]}}Nu.emit("plotly_doubleclick",null),yl.call("_guiRelayout",Nu,qp)}}function b1(){f1([0,0,E0,_0]),_t.syncOrAsync([Hl.previousPromises,function(){Nu._fullLayout._replotting=!1,yl.call("_guiRelayout",Nu,mp)}],Nu)}function f1(Xu){var Bp=Nu._fullLayout,qp=Bp._plots,_f=Bp._subplots.cartesian,zp,Hp,t0,Qp;if(Zu&&yl.subplotsRegistry.splom.drag(Nu),$p){for(zp=0;zp<_f.length;zp++)if(Hp=qp[_f[zp]],t0=Hp.xaxis,Qp=Hp.yaxis,Hp._scene){t0.limitRange&&t0.limitRange(),Qp.limitRange&&Qp.limitRange();var p0=_t.simpleMap(t0.range,t0.r2l),y0=_t.simpleMap(Qp.range,Qp.r2l);Hp._scene.update({range:[p0[0],y0[0],p0[1],y0[1]]})}}if((Zu||$p)&&(Rl(Nu),Il(Nu)),lp){var H0=Xu[2]/Mp._length,ym=Xu[3]/sp._length;for(zp=0;zp<_f.length;zp++){Hp=qp[_f[zp]],t0=Hp.xaxis,Qp=Hp.yaxis;var pm=(nm||f0.isSubplotConstrained)&&!t0.fixedrange&&Ip[t0._id],Tm=(Ep||f0.isSubplotConstrained)&&!Qp.fixedrange&&Jp[Qp._id],um,Rm,Gm,x1;if(pm?(um=H0,Gm=u0||f0.isSubplotConstrained?Xu[0]:_d(t0,um)):f0.xaHash[t0._id]?(um=H0,Gm=Xu[0]*t0._length/Mp._length):f0.yaHash[t0._id]?(um=ym,Gm=J0==="ns"?-Xu[1]*t0._length/sp._length:_d(t0,um,{n:"top",s:"bottom"}[J0])):(um=km(t0,H0,ym),Gm=D1(t0,um)),um>1&&(t0.maxallowed!==void 0&&nm===(t0.range[0]<t0.range[1]?"e":"w")||t0.minallowed!==void 0&&nm===(t0.range[0]<t0.range[1]?"w":"e"))&&(um=1,Gm=0),Tm?(Rm=ym,x1=Zp||f0.isSubplotConstrained?Xu[1]:_d(Qp,Rm)):f0.yaHash[Qp._id]?(Rm=ym,x1=Xu[1]*Qp._length/sp._length):f0.xaHash[Qp._id]?(Rm=H0,x1=q0==="ew"?-Xu[0]*Qp._length/Mp._length:_d(Qp,Rm,{e:"right",w:"left"}[q0])):(Rm=km(Qp,H0,ym),x1=D1(Qp,Rm)),Rm>1&&(Qp.maxallowed!==void 0&&Ep===(Qp.range[0]<Qp.range[1]?"n":"s")||Qp.minallowed!==void 0&&Ep===(Qp.range[0]<Qp.range[1]?"s":"n"))&&(Rm=1,x1=0),!(!um&&!Rm)){um||(um=1),Rm||(Rm=1);var t1=t0._offset-Gm/um,O1=Qp._offset-x1/Rm;Hp.clipRect.call(Pl.setTranslate,Gm,x1).call(Pl.setScale,um,Rm),Hp.plot.call(Pl.setTranslate,t1,O1).call(Pl.setScale,1/um,1/Rm),(um!==Hp.xScaleFactor||Rm!==Hp.yScaleFactor)&&(Pl.setPointGroupScale(Hp.zoomScalePts,um,Rm),Pl.setTextPointsScale(Hp.zoomScaleTxt,um,Rm)),Pl.hideOutsideRangePoints(Hp.clipOnAxisFalseTraces,Hp),Hp.xScaleFactor=um,Hp.yScaleFactor=Rm}}}}function km(Xu,Bp,qp){return Xu.fixedrange?0:nm&&$0.xaHash[Xu._id]?Bp:Ep&&($0.isSubplotConstrained?$0.xaHash:$0.yaHash)[Xu._id]?qp:0}function D1(Xu,Bp){return Bp?(Xu.range=Xu._r.slice(),Yl(Xu,Bp),_d(Xu,Bp)):0}function _d(Xu,Bp,qp){return Xu._length*(1-Bp)*_l[qp||Xu.constraintoward||"middle"]}return c0}function Hu(Nu,tp,up,dp){var Ap=_t.ensureSingle(Nu.draglayer,tp,up,function(Op){Op.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",Nu.id)});return Ap.call($l,dp),Ap.node()}function Vu(Nu,tp,up,dp,Ap,Op,Zp){var u0=Hu(Nu,"rect",tp,up);return ls.select(u0).call(Pl.setRect,dp,Ap,Op,Zp),u0}function gu(Nu,tp){for(var up=0;up<Nu.length;up++)if(!Nu[up].fixedrange)return tp;return""}function Wu(Nu,tp){var up=Nu.range[tp],dp=Math.abs(up-Nu.range[1-tp]),Ap;return Nu.type==="date"?up:Nu.type==="log"?(Ap=Math.ceil(Math.max(0,-Math.log(dp)/Math.LN10))+3,Fn("."+Ap+"g")(Math.pow(10,up))):(Ap=Math.floor(Math.log(Math.abs(up))/Math.LN10)-Math.floor(Math.log(dp)/Math.LN10)+4,Fn("."+String(Ap)+"g")(up))}function qu(Nu,tp,up,dp,Ap){for(var Op=0;Op<Nu.length;Op++){var Zp=Nu[Op];if(!Zp.fixedrange)if(Zp.rangebreaks){var u0=Zp._id.charAt(0)==="y",r0=u0?1-tp:tp,e0=u0?1-up:up;dp[Zp._name+".range[0]"]=Zp.l2r(Zp.p2l(r0*Zp._length)),dp[Zp._name+".range[1]"]=Zp.l2r(Zp.p2l(e0*Zp._length))}else{var Cp=Zp._rl[0],Mp=Zp._rl[1]-Cp;dp[Zp._name+".range[0]"]=Zp.l2r(Cp+Mp*tp),dp[Zp._name+".range[1]"]=Zp.l2r(Cp+Mp*up)}}if(Ap&&Ap.length){var sp=(tp+(1-up))/2;qu(Ap,sp,1-sp,dp,[])}}function np(Nu,tp){for(var up=0;up<Nu.length;up++){var dp=Nu[up];if(!dp.fixedrange){if(dp.rangebreaks){var Ap=0,Op=dp._length,Zp=dp.p2l(Ap+tp)-dp.p2l(Ap),u0=dp.p2l(Op+tp)-dp.p2l(Op),r0=(Zp+u0)/2;dp.range=[dp.l2r(dp._rl[0]-r0),dp.l2r(dp._rl[1]-r0)]}else dp.range=[dp.l2r(dp._rl[0]-tp/dp._m),dp.l2r(dp._rl[1]-tp/dp._m)];dp.limitRange&&dp.limitRange()}}}function _h(Nu){return 1-(Nu>=0?Math.min(Nu,.9):1/(1/Math.max(Nu,-.3)+3.222))}function ap(Nu,tp,up){return Nu?Nu==="nsew"?up?"":tp==="pan"?"move":"crosshair":Nu.toLowerCase()+"-resize":"pointer"}function bp(Nu,tp,up,dp,Ap){return Nu.append("path").attr("class","zoombox").style({fill:tp>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",Sl(up,dp)).attr("d",Ap+"Z")}function wp(Nu,tp,up){return Nu.append("path").attr("class","zoombox-corners").style({fill:Et.background,stroke:Et.defaultLine,"stroke-width":1,opacity:0}).attr("transform",Sl(tp,up)).attr("d","M0,0Z")}function kp(Nu,tp,up,dp,Ap,Op){Nu.attr("d",dp+"M"+up.l+","+up.t+"v"+up.h+"h"+up.w+"v-"+up.h+"h-"+up.w+"Z"),Iu(Nu,tp,Ap,Op)}function Iu(Nu,tp,up,dp){up||(Nu.transition().style("fill",dp>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),tp.transition().style("opacity",1).duration(200))}function Bu(Nu){ls.select(Nu).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Xl(Nu){Fu&&Nu.data&&Nu._context.showTips&&(_t.notifier(_t._(Nu,"Double-click to zoom back out"),"long"),Fu=!1)}function Uu(Nu,tp){return"M"+(Nu.l-.5)+","+(tp-Lu-.5)+"h-3v"+(2*Lu+1)+"h3ZM"+(Nu.r+.5)+","+(tp-Lu-.5)+"h3v"+(2*Lu+1)+"h-3Z"}function ep(Nu,tp){return"M"+(tp-Lu-.5)+","+(Nu.t-.5)+"v-3h"+(2*Lu+1)+"v3ZM"+(tp-Lu-.5)+","+(Nu.b+.5)+"v3h"+(2*Lu+1)+"v-3Z"}function _u(Nu){var tp=Math.floor(Math.min(Nu.b-Nu.t,Nu.r-Nu.l,Lu)/2);return"M"+(Nu.l-3.5)+","+(Nu.t-.5+tp)+"h3v"+-tp+"h"+tp+"v-3h-"+(tp+3)+"ZM"+(Nu.r+3.5)+","+(Nu.t-.5+tp)+"h-3v"+-tp+"h"+-tp+"v-3h"+(tp+3)+"ZM"+(Nu.r+3.5)+","+(Nu.b+.5-tp)+"h-3v"+tp+"h"+-tp+"v3h"+(tp+3)+"ZM"+(Nu.l-3.5)+","+(Nu.b+.5-tp)+"h3v"+tp+"h"+tp+"v3h-"+(tp+3)+"Z"}function Wl(Nu,tp,up,dp,Ap){for(var Op=!1,Zp={},u0={},r0,e0,Cp,Mp,sp=(Ap||{}).xaHash,Ip=(Ap||{}).yaHash,Jp=0;Jp<tp.length;Jp++){var a0=tp[Jp];for(r0 in up)if(a0[r0]){for(Cp in a0)!(Ap&&(sp[Cp]||Ip[Cp]))&&!(Cp.charAt(0)==="x"?up:dp)[Cp]&&(Zp[Cp]=r0);for(e0 in dp)!(Ap&&(sp[e0]||Ip[e0]))&&a0[e0]&&(Op=!0)}for(e0 in dp)if(a0[e0])for(Mp in a0)!(Ap&&(sp[Mp]||Ip[Mp]))&&!(Mp.charAt(0)==="x"?up:dp)[Mp]&&(u0[Mp]=e0)}Op&&(_t.extendFlat(Zp,u0),u0={});var v0={},h0=[];for(Cp in Zp){var w0=Kl(Nu,Cp);h0.push(w0),v0[w0._id]=w0}var E0={},_0=[];for(Mp in u0){var $0=Kl(Nu,Mp);_0.push($0),E0[$0._id]=$0}return{xaHash:v0,yaHash:E0,xaxes:h0,yaxes:_0,xLinks:Zp,yLinks:u0,isSubplotConstrained:Op}}function Jl(Nu,tp){if(!Bn)Nu.onwheel!==void 0?Nu.onwheel=tp:Nu.onmousewheel!==void 0?Nu.onmousewheel=tp:Nu.isAddedWheelEvent||(Nu.isAddedWheelEvent=!0,Nu.addEventListener("wheel",tp,{passive:!1}));else{var up=Nu.onwheel!==void 0?"wheel":"mousewheel";Nu._onwheel&&Nu.removeEventListener(up,Nu._onwheel),Nu._onwheel=tp,Nu.addEventListener(up,tp,{passive:!1})}}function Pu(Nu){var tp=[];for(var up in Nu)tp.push(Nu[up]);return tp}yu.exports={makeDragBox:Du,makeDragger:Hu,makeRectDragger:Vu,makeZoombox:bp,makeCorners:wp,updateZoombox:kp,xyCorners:_u,transitionZoombox:Iu,removeZoombox:Bu,showDoubleClickNotifier:Xl,attachWheelEventHandler:Jl}}),k3=a(Mu=>{var yu=g(),ls=My(),_t=ky(),Fn=n2(),xl=Cx().makeDragBox,Bn=A1().DRAGGERSIZE;Mu.initInteractions=function(yl){var Sl=yl._fullLayout;if(yl._context.staticPlot){yu.select(yl).selectAll(".drag").remove();return}if(!(!Sl._has("cartesian")&&!Sl._has("splom"))){var Al=Object.keys(Sl._plots||{}).sort(function(Pl,El){if((Sl._plots[Pl].mainplot&&!0)===(Sl._plots[El].mainplot&&!0)){var Fl=Pl.split("y"),$l=El.split("y");return Fl[0]===$l[0]?Number(Fl[1]||1)-Number($l[1]||1):Number(Fl[0]||1)-Number($l[0]||1)}return Sl._plots[Pl].mainplot?1:-1});Al.forEach(function(Pl){var El=Sl._plots[Pl],Fl=El.xaxis,$l=El.yaxis;if(!El.mainplot){var Nl=xl(yl,El,Fl._offset,$l._offset,Fl._length,$l._length,"ns","ew");Nl.onmousemove=function(Bl){yl._fullLayout._rehover=function(){yl._fullLayout._hoversubplot===Pl&&yl._fullLayout._plots[Pl]&&ls.hover(yl,Bl,Pl)},ls.hover(yl,Bl,Pl),yl._fullLayout._lasthover=Nl,yl._fullLayout._hoversubplot=Pl},Nl.onmouseout=function(Bl){yl._dragging||(yl._fullLayout._hoversubplot=null,_t.unhover(yl,Bl))},yl._context.showAxisDragHandles&&(xl(yl,El,Fl._offset-Bn,$l._offset-Bn,Bn,Bn,"n","w"),xl(yl,El,Fl._offset+Fl._length,$l._offset-Bn,Bn,Bn,"n","e"),xl(yl,El,Fl._offset-Bn,$l._offset+$l._length,Bn,Bn,"s","w"),xl(yl,El,Fl._offset+Fl._length,$l._offset+$l._length,Bn,Bn,"s","e"))}if(yl._context.showAxisDragHandles){if(Pl===Fl._mainSubplot){var Ll=Fl._mainLinePosition;Fl.side==="top"&&(Ll-=Bn),xl(yl,El,Fl._offset+Fl._length*.1,Ll,Fl._length*.8,Bn,"","ew"),xl(yl,El,Fl._offset,Ll,Fl._length*.1,Bn,"","w"),xl(yl,El,Fl._offset+Fl._length*.9,Ll,Fl._length*.1,Bn,"","e")}if(Pl===$l._mainSubplot){var Ol=$l._mainLinePosition;$l.side!=="right"&&(Ol-=Bn),xl(yl,El,Ol,$l._offset+$l._length*.1,Bn,$l._length*.8,"ns",""),xl(yl,El,Ol,$l._offset+$l._length*.9,Bn,$l._length*.1,"s",""),xl(yl,El,Ol,$l._offset,Bn,$l._length*.1,"n","")}}});var Et=Sl._hoverlayer.node();Et.onmousemove=function(Pl){Pl.target=yl._fullLayout._lasthover,ls.hover(yl,Pl,Sl._hoversubplot)},Et.onclick=function(Pl){Pl.target=yl._fullLayout._lasthover,ls.click(yl,Pl)},Et.onmousedown=function(Pl){yl._fullLayout._lasthover.onmousedown(Pl)},Mu.updateFx(yl)}},Mu.updateFx=function(yl){var Sl=yl._fullLayout,Al=Sl.dragmode==="pan"?"move":"crosshair";Fn(Sl._draggers,Al)}}),Sx=a((Mu,yu)=>{var ls=Gp();yu.exports=function(_t){for(var Fn=ls.layoutArrayContainers,xl=ls.layoutArrayRegexes,Bn=_t.split("[")[0],yl,Sl,Al=0;Al<xl.length;Al++)if(Sl=_t.match(xl[Al]),Sl&&Sl.index===0){yl=Sl[0];break}if(yl||(yl=Fn[Fn.indexOf(Bn)]),!yl)return!1;var Et=_t.substr(yl.length);return Et?(Sl=Et.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/),Sl?{array:yl,index:Number(Sl[1]),property:Sl[3]||""}:!1):{array:yl,index:"",property:""}}}),_x=a(Mu=>{var yu=jt(),ls=gp(),_t=ip(),Fn=o1().sorterAsc,xl=Gp();Mu.containerArrayMatch=Sx();var Bn=Mu.isAddVal=function(Sl){return Sl==="add"||yu(Sl)},yl=Mu.isRemoveVal=function(Sl){return Sl===null||Sl==="remove"};Mu.applyContainerArrayChanges=function(Sl,Al,Et,Pl,El){var Fl=Al.astr,$l=xl.getComponentMethod(Fl,"supplyLayoutDefaults"),Nl=xl.getComponentMethod(Fl,"draw"),Ll=xl.getComponentMethod(Fl,"drawOne"),Ol=Pl.replot||Pl.recalc||$l===ls||Nl===ls,Bl=Sl.layout,_l=Sl._fullLayout;if(Et[""]){Object.keys(Et).length>1&&_t.warn("Full array edits are incompatible with other edits",Fl);var Rl=Et[""][""];if(yl(Rl))Al.set(null);else if(Array.isArray(Rl))Al.set(Rl);else return _t.warn("Unrecognized full array edit value",Fl,Rl),!0;return Ol?!1:($l(Bl,_l),Nl(Sl),!0)}var Il=Object.keys(Et).map(Number).sort(Fn),Hl=Al.get(),Kl=Hl||[],Gu=El(_l,Fl).get(),vu=[],hu=-1,Yl=Kl.length,$u,bu,Lu,Fu,Du,Hu,Vu,gu;for($u=0;$u<Il.length;$u++){if(Lu=Il[$u],Fu=Et[Lu],Du=Object.keys(Fu),Hu=Fu[""],Vu=Bn(Hu),Lu<0||Lu>Kl.length-(Vu?0:1)){_t.warn("index out of range",Fl,Lu);continue}if(Hu!==void 0)Du.length>1&&_t.warn("Insertion & removal are incompatible with edits to the same index.",Fl,Lu),yl(Hu)?vu.push(Lu):Vu?(Hu==="add"&&(Hu={}),Kl.splice(Lu,0,Hu),Gu&&Gu.splice(Lu,0,{})):_t.warn("Unrecognized full object edit value",Fl,Lu,Hu),hu===-1&&(hu=Lu);else for(bu=0;bu<Du.length;bu++)gu=Fl+"["+Lu+"].",El(Kl[Lu],Du[bu],gu).set(Fu[Du[bu]])}for($u=vu.length-1;$u>=0;$u--)Kl.splice(vu[$u],1),Gu&&Gu.splice(vu[$u],1);if(Kl.length?Hl||Al.set(Kl):Al.set(null),Ol)return!1;if($l(Bl,_l),Ll!==ls){var Wu;if(hu===-1)Wu=Il;else{for(Yl=Math.max(Kl.length,Yl),Wu=[],$u=0;$u<Il.length&&(Lu=Il[$u],!(Lu>=hu));$u++)Wu.push(Lu);for($u=hu;$u<Yl;$u++)Wu.push($u)}for($u=0;$u<Wu.length;$u++)Ll(Sl,Wu[$u])}else Nl(Sl);return!0}}),Ex=a(Mu=>{var yu=rt(),ls=Gp(),_t=vm(),Fn=Fv(),xl=mv(),Bn=cp(),yl=xl.cleanId,Sl=xl.getFromTrace,Al=ls.traceIs,Et=["x","y","z"];Mu.clearPromiseQueue=function(_l){Array.isArray(_l._promises)&&_l._promises.length>0&&_t.log("Clearing previous rejected promises from queue."),_l._promises=[]},Mu.cleanLayout=function(_l){var Rl;_l||(_l={}),_l.xaxis1&&(_l.xaxis||(_l.xaxis=_l.xaxis1),delete _l.xaxis1),_l.yaxis1&&(_l.yaxis||(_l.yaxis=_l.yaxis1),delete _l.yaxis1),_l.scene1&&(_l.scene||(_l.scene=_l.scene1),delete _l.scene1);var Il=(Fn.subplotsRegistry.cartesian||{}).attrRegex;(Fn.subplotsRegistry.polar||{}).attrRegex,(Fn.subplotsRegistry.ternary||{}).attrRegex,(Fn.subplotsRegistry.gl3d||{}).attrRegex;var Hl=Object.keys(_l);for(Rl=0;Rl<Hl.length;Rl++){var Kl=Hl[Rl];if(Il&&Il.test(Kl)){var Gu=_l[Kl];Gu.anchor&&Gu.anchor!=="free"&&(Gu.anchor=yl(Gu.anchor)),Gu.overlaying&&(Gu.overlaying=yl(Gu.overlaying)),Gu.type||(Gu.isdate?Gu.type="date":Gu.islog?Gu.type="log":Gu.isdate===!1&&Gu.islog===!1&&(Gu.type="linear")),(Gu.autorange==="withzero"||Gu.autorange==="tozero")&&(Gu.autorange=!0,Gu.rangemode="tozero"),Gu.insiderange&&delete Gu.range,delete Gu.islog,delete Gu.isdate,delete Gu.categories,Nl(Gu,"domain")&&delete Gu.domain}}var vu=Array.isArray(_l.annotations)?_l.annotations.length:0;for(Rl=0;Rl<vu;Rl++){var hu=_l.annotations[Rl];_t.isPlainObject(hu)&&(Pl(hu,"xref"),Pl(hu,"yref"))}var Yl=Array.isArray(_l.shapes)?_l.shapes.length:0;for(Rl=0;Rl<Yl;Rl++){var $u=_l.shapes[Rl];_t.isPlainObject($u)&&(Pl($u,"xref"),Pl($u,"yref"))}var bu=Array.isArray(_l.images)?_l.images.length:0;for(Rl=0;Rl<bu;Rl++){var Lu=_l.images[Rl];_t.isPlainObject(Lu)&&(Pl(Lu,"xref"),Pl(Lu,"yref"))}var Fu=_l.legend;return Fu&&(Fu.x>3?(Fu.x=1.02,Fu.xanchor="left"):Fu.x<-2&&(Fu.x=-.02,Fu.xanchor="right"),Fu.y>3?(Fu.y=1.02,Fu.yanchor="bottom"):Fu.y<-2&&(Fu.y=-.02,Fu.yanchor="top")),_l.dragmode==="rotate"&&(_l.dragmode="orbit"),Bn.clean(_l),_l.template&&_l.template.layout&&Mu.cleanLayout(_l.template.layout),_l};function Pl(_l,Rl){var Il=_l[Rl],Hl=Rl.charAt(0);Il&&Il!=="paper"&&(_l[Rl]=yl(Il,Hl,!0))}Mu.cleanData=function(_l){for(var Rl=0;Rl<_l.length;Rl++){var Il=_l[Rl],Hl;if(Il.type==="histogramy"&&"xbins"in Il&&!("ybins"in Il)&&(Il.ybins=Il.xbins,delete Il.xbins),Il.type==="histogramy"&&Mu.swapXYData(Il),(Il.type==="histogramx"||Il.type==="histogramy")&&(Il.type="histogram"),"scl"in Il&&!("colorscale"in Il)&&(Il.colorscale=Il.scl,delete Il.scl),"reversescl"in Il&&!("reversescale"in Il)&&(Il.reversescale=Il.reversescl,delete Il.reversescl),Il.xaxis&&(Il.xaxis=yl(Il.xaxis,"x")),Il.yaxis&&(Il.yaxis=yl(Il.yaxis,"y")),Al(Il,"gl3d")&&Il.scene&&(Il.scene=Fn.subplotsRegistry.gl3d.cleanId(Il.scene)),!Al(Il,"pie-like")&&!Al(Il,"bar-like"))if(Array.isArray(Il.textposition))for(Hl=0;Hl<Il.textposition.length;Hl++)Il.textposition[Hl]=$l(Il.textposition[Hl]);else Il.textposition&&(Il.textposition=$l(Il.textposition));var Kl=ls.getModule(Il);if(Kl&&Kl.colorbar){var Gu=Kl.colorbar.container,vu=Gu?Il[Gu]:Il;vu&&vu.colorscale&&(vu.colorscale==="YIGnBu"&&(vu.colorscale="YlGnBu"),vu.colorscale==="YIOrRd"&&(vu.colorscale="YlOrRd"))}if(Il.type==="surface"&&_t.isPlainObject(Il.contours)){var hu=["x","y","z"];for(Hl=0;Hl<hu.length;Hl++){var Yl=Il.contours[hu[Hl]];_t.isPlainObject(Yl)&&(Yl.highlightColor&&(Yl.highlightcolor=Yl.highlightColor,delete Yl.highlightColor),Yl.highlightWidth&&(Yl.highlightwidth=Yl.highlightWidth,delete Yl.highlightWidth))}}if(Il.type==="candlestick"||Il.type==="ohlc"){var $u=(Il.increasing||{}).showlegend!==!1,bu=(Il.decreasing||{}).showlegend!==!1,Lu=El(Il.increasing),Fu=El(Il.decreasing);if(Lu!==!1&&Fu!==!1){var Du=Fl(Lu,Fu,$u,bu);Du&&(Il.name=Du)}else(Lu||Fu)&&!Il.name&&(Il.name=Lu||Fu)}Nl(Il,"line")&&delete Il.line,"marker"in Il&&(Nl(Il.marker,"line")&&delete Il.marker.line,Nl(Il,"marker")&&delete Il.marker),Bn.clean(Il),Il.autobinx&&(delete Il.autobinx,delete Il.xbins),Il.autobiny&&(delete Il.autobiny,delete Il.ybins)}};function El(_l){if(!_t.isPlainObject(_l))return!1;var Rl=_l.name;return delete _l.name,delete _l.showlegend,(typeof Rl=="string"||typeof Rl=="number")&&String(Rl)}function Fl(_l,Rl,Il,Hl){if(Il&&!Hl)return _l;if(Hl&&!Il||!_l.trim())return Rl;if(!Rl.trim())return _l;var Kl=Math.min(_l.length,Rl.length),Gu;for(Gu=0;Gu<Kl&&_l.charAt(Gu)===Rl.charAt(Gu);Gu++);var vu=_l.substr(0,Gu);return vu.trim()}function $l(_l){var Rl="middle",Il="center";return typeof _l=="string"&&(_l.indexOf("top")!==-1?Rl="top":_l.indexOf("bottom")!==-1&&(Rl="bottom"),_l.indexOf("left")!==-1?Il="left":_l.indexOf("right")!==-1&&(Il="right")),Rl+" "+Il}function Nl(_l,Rl){return Rl in _l&&typeof _l[Rl]=="object"&&Object.keys(_l[Rl]).length===0}Mu.swapXYData=function(_l){var Rl;if(_t.swapAttrs(_l,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(_l.z)&&Array.isArray(_l.z[0])&&(_l.transpose?delete _l.transpose:_l.transpose=!0),_l.error_x&&_l.error_y){var Il=_l.error_y,Hl="copy_ystyle"in Il?Il.copy_ystyle:!(Il.color||Il.thickness||Il.width);_t.swapAttrs(_l,["error_?.copy_ystyle"]),Hl&&_t.swapAttrs(_l,["error_?.color","error_?.thickness","error_?.width"])}if(typeof _l.hoverinfo=="string"){var Kl=_l.hoverinfo.split("+");for(Rl=0;Rl<Kl.length;Rl++)Kl[Rl]==="x"?Kl[Rl]="y":Kl[Rl]==="y"&&(Kl[Rl]="x");_l.hoverinfo=Kl.join("+")}},Mu.coerceTraceIndices=function(_l,Rl){if(yu(Rl))return[Rl];if(!Array.isArray(Rl)||!Rl.length)return _l.data.map(function(Kl,Gu){return Gu});if(Array.isArray(Rl)){for(var Il=[],Hl=0;Hl<Rl.length;Hl++)_t.isIndex(Rl[Hl],_l.data.length)?Il.push(Rl[Hl]):_t.warn("trace index (",Rl[Hl],") is not a number or is out of bounds");return Il}return Rl},Mu.manageArrayContainers=function(_l,Rl,Il){var Hl=_l.obj,Kl=_l.parts,Gu=Kl.length,vu=Kl[Gu-1],hu=yu(vu);if(hu&&Rl===null){var Yl=Kl.slice(0,Gu-1).join("."),$u=_t.nestedProperty(Hl,Yl).get();$u.splice(vu,1)}else hu&&_l.get()===void 0&&_l.get()===void 0&&(Il[_l.astr]=null),_l.set(Rl)};var Ll=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function Ol(_l){var Rl=_l.search(Ll);if(Rl>0)return _l.substr(0,Rl)}Mu.hasParent=function(_l,Rl){for(var Il=Ol(Rl);Il;){if(Il in _l)return!0;Il=Ol(Il)}return!1},Mu.clearAxisTypes=function(_l,Rl,Il){for(var Hl=0;Hl<Rl.length;Hl++)for(var Kl=_l._fullData[Hl],Gu=0;Gu<3;Gu++){var vu=Sl(_l,Kl,Et[Gu]);if(vu&&vu.type!=="log"){var hu=vu._name,Yl=vu._id.substr(1);if(Yl.substr(0,5)==="scene"){if(Il[Yl]!==void 0)continue;hu=Yl+"."+hu}var $u=hu+".type";Il[hu]===void 0&&Il[$u]===void 0&&_t.nestedProperty(_l.layout,$u).set(null)}}};var Bl=(_l,Rl)=>{let Il=(...Hl)=>Hl.every(Kl=>_t.isPlainObject(Kl))||Hl.every(Kl=>Array.isArray(Kl));if([_l,Rl].every(Hl=>Array.isArray(Hl))){if(_l.length!==Rl.length)return!1;for(let Hl=0;Hl<_l.length;Hl++){let Kl=_l[Hl],Gu=Rl[Hl];if(Kl!==Gu&&!(Il(Kl,Gu)&&Bl(Kl,Gu)))return!1}return!0}else if([_l,Rl].every(Hl=>_t.isPlainObject(Hl))){if(Object.keys(_l).length!==Object.keys(Rl).length)return!1;for(let Hl in _l){if(Hl.startsWith("_"))continue;let Kl=_l[Hl],Gu=Rl[Hl];if(Kl!==Gu&&!(Il(Kl,Gu)&&Bl(Kl,Gu)))return!1}return!0}return!1};Mu.collectionsAreEqual=Bl}),M3=a(Mu=>{var yu=g(),ls=rt(),_t=C2(),Fn=vm(),xl=Fn.nestedProperty,Bn=Ly(),yl=B2(),Sl=Gp(),Al=Oy(),Et=Fv(),Pl=pv(),El=c3(),Fl=Sv(),$l=V1(),Nl=cp(),Ll=k3().initInteractions,Ol=Wy(),Bl=Ky().clearOutline,_l=fp().dfltConfig,Rl=_x(),Il=Ex(),Hl=V2(),Kl=Q0(),Gu=A1().AX_NAME_PATTERN,vu=0,hu=5;function Yl(Zu,lp,mp,Tp){var Lp;if(Zu=Fn.getGraphDiv(Zu),Bn.init(Zu),Fn.isPlainObject(lp)){var Up=lp;lp=Up.data,mp=Up.layout,Tp=Up.config,Lp=Up.frames}var Xp=Bn.triggerHandler(Zu,"plotly_beforeplot",[lp,mp,Tp]);if(Xp===!1)return Promise.reject();!lp&&!mp&&!Fn.isPlotDiv(Zu)&&Fn.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Zu);function c0(){if(Lp)return Mu.addFrames(Zu,Lp)}Du(Zu,Tp),mp||(mp={}),yu.select(Zu).classed("js-plotly-plot",!0),$l.makeTester(),Array.isArray(Zu._promises)||(Zu._promises=[]);var i0=(Zu.data||[]).length===0&&Array.isArray(lp);Array.isArray(lp)&&(Il.cleanData(lp),i0?Zu.data=lp:Zu.data.push.apply(Zu.data,lp),Zu.empty=!1),(!Zu.layout||i0)&&(Zu.layout=Il.cleanLayout(mp)),Et.supplyDefaults(Zu);var s0=Zu._fullLayout,M0=s0._has("cartesian");s0._replotting=!0,(i0||s0._shouldCreateBgLayer)&&($p(Zu),s0._shouldCreateBgLayer&&delete s0._shouldCreateBgLayer),$l.initGradients(Zu),$l.initPatterns(Zu),i0&&Pl.saveShowSpikeInitial(Zu);var A0=!Zu.calcdata||Zu.calcdata.length!==(Zu._fullData||[]).length;A0&&Et.doCalcdata(Zu);for(var R0=0;R0<Zu.calcdata.length;R0++)Zu.calcdata[R0][0].trace=Zu._fullData[R0];Zu._context.responsive?Zu._responsiveChartHandler||(Zu._responsiveChartHandler=function(){Fn.isHidden(Zu)||Et.resize(Zu)},window.addEventListener("resize",Zu._responsiveChartHandler)):Fn.clearResponsive(Zu);var rm=Fn.extendFlat({},s0._size),wm=0;function Bm(){for(var Am=s0._basePlotModules,Fm=0;Fm<Am.length;Fm++)Am[Fm].drawFramework&&Am[Fm].drawFramework(Zu);!s0._glcanvas&&s0._has("gl")&&(s0._glcanvas=s0._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(jm){return jm.key}),s0._glcanvas.enter().append("canvas").attr("class",function(jm){return"gl-canvas gl-canvas-"+jm.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Sm=Zu._context.plotGlPixelRatio;if(s0._glcanvas){s0._glcanvas.attr("width",s0.width*Sm).attr("height",s0.height*Sm).style("width",s0.width+"px").style("height",s0.height+"px");var e1=s0._glcanvas.data()[0].regl;if(e1&&(Math.floor(s0.width*Sm)!==e1._gl.drawingBufferWidth||Math.floor(s0.height*Sm)!==e1._gl.drawingBufferHeight)){var u1="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(wm)Fn.error(u1);else return Fn.log(u1+" Clearing graph and plotting again."),Et.cleanPlot([],{},Zu._fullData,s0),Et.supplyDefaults(Zu),s0=Zu._fullLayout,Et.doCalcdata(Zu),wm++,Bm()}}return s0.modebar.orientation==="h"?s0._modebardiv.style("height",null).style("width","100%"):s0._modebardiv.style("width",null).style("height",s0.height+"px"),Et.previousPromises(Zu)}function Vm(){if(Et.clearAutoMarginIds(Zu),Hl.drawMarginPushers(Zu),Pl.allowAutoMargin(Zu),Zu._fullLayout.title.text&&Zu._fullLayout.title.automargin&&Et.allowAutoMargin(Zu,"title.automargin"),s0._has("pie"))for(var Am=Zu._fullData,Fm=0;Fm<Am.length;Fm++){var Sm=Am[Fm];Sm.type==="pie"&&Sm.automargin&&Et.allowAutoMargin(Zu,"pie."+Sm.uid+".automargin")}return Et.doAutoMargin(Zu),Et.previousPromises(Zu)}function Ym(){if(Et.didMarginChange(rm,s0._size))return Fn.syncOrAsync([Vm,Hl.layoutStyles],Zu)}function _m(){if(!A0){sm();return}return Fn.syncOrAsync([Sl.getComponentMethod("shapes","calcAutorange"),Sl.getComponentMethod("annotations","calcAutorange"),sm],Zu)}function sm(){Zu._transitioning||(Hl.doAutoRangeAndConstraints(Zu),i0&&Pl.saveRangeInitial(Zu),Sl.getComponentMethod("rangeslider","calcAutorange")(Zu))}function zm(){return Pl.draw(Zu,i0?"":"redraw")}var Wm=[Et.previousPromises,c0,Bm,Vm,Ym];M0&&Wm.push(_m),Wm.push(Hl.layoutStyles),M0&&Wm.push(zm,function(Am){var Fm=Am._fullLayout._insideTickLabelsUpdaterange;if(Fm)return Am._fullLayout._insideTickLabelsUpdaterange=void 0,tp(Am,Fm).then(function(){Pl.saveRangeInitial(Am,!0)})}),Wm.push(Hl.drawData,Hl.finalDraw,Ll,Et.addLinks,Et.rehover,Et.redrag,Et.reselect,Et.doAutoMargin,Et.previousPromises);var Im=Fn.syncOrAsync(Wm,Zu);return(!Im||!Im.then)&&(Im=Promise.resolve()),Im.then(function(){return $u(Zu),Zu})}function $u(Zu){var lp=Zu._fullLayout;lp._redrawFromAutoMarginCount?lp._redrawFromAutoMarginCount--:Zu.emit("plotly_afterplot")}function bu(Zu){return Fn.extendFlat(_l,Zu)}function Lu(Zu,lp){try{Zu._fullLayout._paper.style("background",lp)}catch(mp){Fn.error(mp)}}function Fu(Zu,lp){var mp=Nl.combine(lp,"white");Lu(Zu,mp)}function Du(Zu,lp){if(!Zu._context){Zu._context=Fn.extendDeep({},_l);var mp=yu.select("base");Zu._context._baseUrl=mp.size()&&mp.attr("href")?window.location.href.split("#")[0]:""}var Tp=Zu._context,Lp,Up,Xp;if(lp){for(Up=Object.keys(lp),Lp=0;Lp<Up.length;Lp++)Xp=Up[Lp],!(Xp==="editable"||Xp==="edits")&&Xp in Tp&&(Xp==="setBackground"&&lp[Xp]==="opaque"?Tp[Xp]=Fu:Tp[Xp]=lp[Xp]);var c0=lp.editable;if(c0!==void 0)for(Tp.editable=c0,Up=Object.keys(Tp.edits),Lp=0;Lp<Up.length;Lp++)Tp.edits[Up[Lp]]=c0;if(lp.edits)for(Up=Object.keys(lp.edits),Lp=0;Lp<Up.length;Lp++)Xp=Up[Lp],Xp in Tp.edits&&(Tp.edits[Xp]=lp.edits[Xp]);Tp._exportedPlot=lp._exportedPlot}Tp.staticPlot&&(Tp.editable=!1,Tp.edits={},Tp.autosizable=!1,Tp.scrollZoom=!1,Tp.doubleClick=!1,Tp.showTips=!1,Tp.showLink=!1,Tp.displayModeBar=!1),Tp.displayModeBar==="hover"&&!_t&&(Tp.displayModeBar=!0),(Tp.setBackground==="transparent"||typeof Tp.setBackground!="function")&&(Tp.setBackground=Lu),Tp._hasZeroHeight=Tp._hasZeroHeight||Zu.clientHeight===0,Tp._hasZeroWidth=Tp._hasZeroWidth||Zu.clientWidth===0;var i0=Tp.scrollZoom,s0=Tp._scrollZoom={};if(i0===!0)s0.cartesian=1,s0.gl3d=1,s0.geo=1,s0.mapbox=1,s0.map=1;else if(typeof i0=="string"){var M0=i0.split("+");for(Lp=0;Lp<M0.length;Lp++)s0[M0[Lp]]=1}else i0!==!1&&(s0.gl3d=1,s0.geo=1,s0.mapbox=1,s0.map=1)}function Hu(Zu){if(Zu=Fn.getGraphDiv(Zu),!Fn.isPlotDiv(Zu))throw new Error("This element is not a Plotly plot: "+Zu);return Il.cleanData(Zu.data),Il.cleanLayout(Zu.layout),Zu.calcdata=void 0,Mu._doPlot(Zu).then(function(){return Zu.emit("plotly_redraw"),Zu})}function Vu(Zu,lp,mp,Tp){return Zu=Fn.getGraphDiv(Zu),Et.cleanPlot([],{},Zu._fullData||[],Zu._fullLayout||{}),Et.purge(Zu),Mu._doPlot(Zu,lp,mp,Tp)}function gu(Zu,lp){var mp=lp+1,Tp=[],Lp,Up;for(Lp=0;Lp<Zu.length;Lp++)Up=Zu[Lp],Up<0?Tp.push(mp+Up):Tp.push(Up);return Tp}function Wu(Zu,lp,mp){var Tp,Lp;for(Tp=0;Tp<lp.length;Tp++){if(Lp=lp[Tp],Lp!==parseInt(Lp,10))throw new Error("all values in "+mp+" must be integers");if(Lp>=Zu.data.length||Lp<-Zu.data.length)throw new Error(mp+" must be valid indices for gd.data.");if(lp.indexOf(Lp,Tp+1)>-1||Lp>=0&&lp.indexOf(-Zu.data.length+Lp)>-1||Lp<0&&lp.indexOf(Zu.data.length+Lp)>-1)throw new Error("each index in "+mp+" must be unique.")}}function qu(Zu,lp,mp){if(!Array.isArray(Zu.data))throw new Error("gd.data must be an array.");if(typeof lp>"u")throw new Error("currentIndices is a required argument.");if(Array.isArray(lp)||(lp=[lp]),Wu(Zu,lp,"currentIndices"),typeof mp<"u"&&!Array.isArray(mp)&&(mp=[mp]),typeof mp<"u"&&Wu(Zu,mp,"newIndices"),typeof mp<"u"&&lp.length!==mp.length)throw new Error("current and new indices must be of equal length.")}function np(Zu,lp,mp){var Tp,Lp;if(!Array.isArray(Zu.data))throw new Error("gd.data must be an array.");if(typeof lp>"u")throw new Error("traces must be defined.");for(Array.isArray(lp)||(lp=[lp]),Tp=0;Tp<lp.length;Tp++)if(Lp=lp[Tp],typeof Lp!="object"||Array.isArray(Lp)||Lp===null)throw new Error("all values in traces array must be non-array objects");if(typeof mp<"u"&&!Array.isArray(mp)&&(mp=[mp]),typeof mp<"u"&&mp.length!==lp.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function _h(Zu,lp,mp,Tp){var Lp=Fn.isPlainObject(Tp);if(!Array.isArray(Zu.data))throw new Error("gd.data must be an array");if(!Fn.isPlainObject(lp))throw new Error("update must be a key:value object");if(typeof mp>"u")throw new Error("indices must be an integer or array of integers");Wu(Zu,mp,"indices");for(var Up in lp){if(!Array.isArray(lp[Up])||lp[Up].length!==mp.length)throw new Error("attribute "+Up+" must be an array of length equal to indices array length");if(Lp&&(!(Up in Tp)||!Array.isArray(Tp[Up])||Tp[Up].length!==lp[Up].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 correspondence with the keys and number of traces in the update object")}}function ap(Zu,lp,mp,Tp){var Lp=Fn.isPlainObject(Tp),Up=[],Xp,c0,i0,s0,M0;Array.isArray(mp)||(mp=[mp]),mp=gu(mp,Zu.data.length-1);for(var A0 in lp)for(var R0=0;R0<mp.length;R0++){if(Xp=Zu.data[mp[R0]],i0=xl(Xp,A0),c0=i0.get(),s0=lp[A0][R0],!Fn.isArrayOrTypedArray(s0))throw new Error("attribute: "+A0+" index: "+R0+" must be an array");if(!Fn.isArrayOrTypedArray(c0))throw new Error("cannot extend missing or non-array attribute: "+A0);if(c0.constructor!==s0.constructor)throw new Error("cannot extend array with an array of a different type: "+A0);M0=Lp?Tp[A0][R0]:Tp,ls(M0)||(M0=-1),Up.push({prop:i0,target:c0,insert:s0,maxp:Math.floor(M0)})}return Up}function bp(Zu,lp,mp,Tp,Lp){_h(Zu,lp,mp,Tp);for(var Up=ap(Zu,lp,mp,Tp),Xp={},c0={},i0=0;i0<Up.length;i0++){var s0=Up[i0].prop,M0=Up[i0].maxp,A0=Lp(Up[i0].target,Up[i0].insert,M0);s0.set(A0[0]),Array.isArray(Xp[s0.astr])||(Xp[s0.astr]=[]),Xp[s0.astr].push(A0[1]),Array.isArray(c0[s0.astr])||(c0[s0.astr]=[]),c0[s0.astr].push(Up[i0].target.length)}return{update:Xp,maxPoints:c0}}function wp(Zu,lp){var mp=new Zu.constructor(Zu.length+lp.length);return mp.set(Zu),mp.set(lp,Zu.length),mp}function kp(Zu,lp,mp,Tp){Zu=Fn.getGraphDiv(Zu);function Lp(i0,s0,M0){var A0,R0;if(Fn.isTypedArray(i0))if(M0<0){var rm=new i0.constructor(0),wm=wp(i0,s0);M0<0?(A0=wm,R0=rm):(A0=rm,R0=wm)}else if(A0=new i0.constructor(M0),R0=new i0.constructor(i0.length+s0.length-M0),M0===s0.length)A0.set(s0),R0.set(i0);else if(M0<s0.length){var Bm=s0.length-M0;A0.set(s0.subarray(Bm)),R0.set(i0),R0.set(s0.subarray(0,Bm),i0.length)}else{var Vm=M0-s0.length,Ym=i0.length-Vm;A0.set(i0.subarray(Ym)),A0.set(s0,Vm),R0.set(i0.subarray(0,Ym))}else A0=i0.concat(s0),R0=M0>=0&&M0<A0.length?A0.splice(0,A0.length-M0):[];return[A0,R0]}var Up=bp(Zu,lp,mp,Tp,Lp),Xp=Mu.redraw(Zu),c0=[Zu,Up.update,mp,Up.maxPoints];return yl.add(Zu,Mu.prependTraces,c0,kp,arguments),Xp}function Iu(Zu,lp,mp,Tp){Zu=Fn.getGraphDiv(Zu);function Lp(i0,s0,M0){var A0,R0;if(Fn.isTypedArray(i0))if(M0<=0){var rm=new i0.constructor(0),wm=wp(s0,i0);M0<0?(A0=wm,R0=rm):(A0=rm,R0=wm)}else if(A0=new i0.constructor(M0),R0=new i0.constructor(i0.length+s0.length-M0),M0===s0.length)A0.set(s0),R0.set(i0);else if(M0<s0.length){var Bm=s0.length-M0;A0.set(s0.subarray(0,Bm)),R0.set(s0.subarray(Bm)),R0.set(i0,Bm)}else{var Vm=M0-s0.length;A0.set(s0),A0.set(i0.subarray(0,Vm),s0.length),R0.set(i0.subarray(Vm))}else A0=s0.concat(i0),R0=M0>=0&&M0<A0.length?A0.splice(M0,A0.length):[];return[A0,R0]}var Up=bp(Zu,lp,mp,Tp,Lp),Xp=Mu.redraw(Zu),c0=[Zu,Up.update,mp,Up.maxPoints];return yl.add(Zu,Mu.extendTraces,c0,Iu,arguments),Xp}function Bu(Zu,lp,mp){Zu=Fn.getGraphDiv(Zu);var Tp=[],Lp=Mu.deleteTraces,Up=Bu,Xp=[Zu,Tp],c0=[Zu,lp],i0,s0;for(np(Zu,lp,mp),Array.isArray(lp)||(lp=[lp]),lp=lp.map(function(M0){return Fn.extendFlat({},M0)}),Il.cleanData(lp),i0=0;i0<lp.length;i0++)Zu.data.push(lp[i0]);for(i0=0;i0<lp.length;i0++)Tp.push(-lp.length+i0);if(typeof mp>"u")return s0=Mu.redraw(Zu),yl.add(Zu,Lp,Xp,Up,c0),s0;Array.isArray(mp)||(mp=[mp]);try{qu(Zu,Tp,mp)}catch(M0){throw Zu.data.splice(Zu.data.length-lp.length,lp.length),M0}return yl.startSequence(Zu),yl.add(Zu,Lp,Xp,Up,c0),s0=Mu.moveTraces(Zu,Tp,mp),yl.stopSequence(Zu),s0}function Xl(Zu,lp){Zu=Fn.getGraphDiv(Zu);var mp=[],Tp=Mu.addTraces,Lp=Xl,Up=[Zu,mp,lp],Xp=[Zu,lp],c0,i0;if(typeof lp>"u")throw new Error("indices must be an integer or array of integers.");for(Array.isArray(lp)||(lp=[lp]),Wu(Zu,lp,"indices"),lp=gu(lp,Zu.data.length-1),lp.sort(Fn.sorterDes),c0=0;c0<lp.length;c0+=1)i0=Zu.data.splice(lp[c0],1)[0],mp.push(i0);var s0=Mu.redraw(Zu);return yl.add(Zu,Tp,Up,Lp,Xp),s0}function Uu(Zu,lp,mp){Zu=Fn.getGraphDiv(Zu);var Tp=[],Lp=[],Up=Uu,Xp=Uu,c0=[Zu,mp,lp],i0=[Zu,lp,mp],s0;if(qu(Zu,lp,mp),lp=Array.isArray(lp)?lp:[lp],typeof mp>"u")for(mp=[],s0=0;s0<lp.length;s0++)mp.push(-lp.length+s0);for(mp=Array.isArray(mp)?mp:[mp],lp=gu(lp,Zu.data.length-1),mp=gu(mp,Zu.data.length-1),s0=0;s0<Zu.data.length;s0++)lp.indexOf(s0)===-1&&Tp.push(Zu.data[s0]);for(s0=0;s0<lp.length;s0++)Lp.push({newIndex:mp[s0],trace:Zu.data[lp[s0]]});for(Lp.sort(function(A0,R0){return A0.newIndex-R0.newIndex}),s0=0;s0<Lp.length;s0+=1)Tp.splice(Lp[s0].newIndex,0,Lp[s0].trace);Zu.data=Tp;var M0=Mu.redraw(Zu);return yl.add(Zu,Up,c0,Xp,i0),M0}function ep(Zu,lp,mp,Tp){Zu=Fn.getGraphDiv(Zu),Il.clearPromiseQueue(Zu);var Lp={};if(typeof lp=="string")Lp[lp]=mp;else if(Fn.isPlainObject(lp))Lp=Fn.extendFlat({},lp),Tp===void 0&&(Tp=mp);else return Fn.warn("Restyle fail.",lp,mp,Tp),Promise.reject();Object.keys(Lp).length&&(Zu.changed=!0);var Up=Il.coerceTraceIndices(Zu,Tp),Xp=Nu(Zu,Lp,Up),c0=Xp.flags;c0.calc&&(Zu.calcdata=void 0),c0.clearAxisTypes&&Il.clearAxisTypes(Zu,Up,{});var i0=[];c0.fullReplot?i0.push(Mu._doPlot):(i0.push(Et.previousPromises),Et.supplyDefaults(Zu),c0.markerSize&&(Et.doCalcdata(Zu),dp(i0)),c0.style&&i0.push(Hl.doTraceStyle),c0.colorbars&&i0.push(Hl.doColorBars),i0.push($u)),i0.push(Et.rehover,Et.redrag,Et.reselect),yl.add(Zu,ep,[Zu,Xp.undoit,Xp.traces],ep,[Zu,Xp.redoit,Xp.traces]);var s0=Fn.syncOrAsync(i0,Zu);return(!s0||!s0.then)&&(s0=Promise.resolve()),s0.then(function(){return Zu.emit("plotly_restyle",Xp.eventData),Zu})}function _u(Zu){return Zu===void 0?null:Zu}function Wl(Zu,lp){return lp?function(mp,Tp,Lp){var Up=xl(mp,Tp),Xp=Up.set;return Up.set=function(c0){var i0=(Lp||"")+Tp;Jl(i0,Up.get(),c0,Zu),Xp(c0)},Up}:xl}function Jl(Zu,lp,mp,Tp){if(Array.isArray(lp)||Array.isArray(mp))for(var Lp=Array.isArray(lp)?lp:[],Up=Array.isArray(mp)?mp:[],Xp=Math.max(Lp.length,Up.length),c0=0;c0<Xp;c0++)Jl(Zu+"["+c0+"]",Lp[c0],Up[c0],Tp);else if(Fn.isPlainObject(lp)||Fn.isPlainObject(mp)){var i0=Fn.isPlainObject(lp)?lp:{},s0=Fn.isPlainObject(mp)?mp:{},M0=Fn.extendFlat({},i0,s0);for(var A0 in M0)Jl(Zu+"."+A0,i0[A0],s0[A0],Tp)}else Tp[Zu]===void 0&&(Tp[Zu]=_u(lp))}function Pu(Zu,lp,mp){for(var Tp in mp){var Lp=xl(Zu,Tp);Jl(Tp,Lp.get(),mp[Tp],lp)}}function Nu(Zu,lp,mp){var Tp=Zu._fullLayout,Lp=Zu._fullData,Up=Zu.data,Xp=Tp._guiEditing,c0=Wl(Tp._preGUI,Xp),i0=Fn.extendDeepAll({},lp),s0,M0=Kl.traceFlags(),A0={},R0={},rm;function wm(){return mp.map(function(){})}function Bm(y0){var H0=Pl.id2name(y0);rm.indexOf(H0)===-1&&rm.push(H0)}function Vm(y0){return"LAYOUT"+y0+".autorange"}function Ym(y0){return"LAYOUT"+y0+".range"}function _m(y0){for(var H0=y0;H0<Lp.length;H0++)if(Lp[H0]._input===Up[y0])return Lp[H0]}function sm(y0,H0,ym){if(Array.isArray(y0)){y0.forEach(function(Rm){sm(Rm,H0,ym)});return}if(!(y0 in lp||Il.hasParent(lp,y0))){var pm;if(y0.substr(0,6)==="LAYOUT")pm=c0(Zu.layout,y0.replace("LAYOUT",""));else{var Tm=mp[ym],um=Tp._tracePreGUI[_m(Tm)._fullInput.uid];pm=Wl(um,Xp)(Up[Tm],y0)}y0 in R0||(R0[y0]=wm()),R0[y0][ym]===void 0&&(R0[y0][ym]=_u(pm.get())),H0!==void 0&&pm.set(H0)}}function zm(y0){return function(H0){return Lp[H0][y0]}}function Wm(y0){return function(H0,ym){return H0===!1?Lp[mp[ym]][y0]:null}}for(var Im in lp){if(Il.hasParent(lp,Im))throw new Error("cannot set "+Im+" and a parent attribute simultaneously");var Am=lp[Im],Fm,Sm,e1,u1,jm,d1;if((Im==="autobinx"||Im==="autobiny")&&(Im=Im.charAt(Im.length-1)+"bins",Array.isArray(Am)?Am=Am.map(Wm(Im)):Am===!1?Am=mp.map(zm(Im)):Am=null),A0[Im]=Am,Im.substr(0,6)==="LAYOUT"){e1=c0(Zu.layout,Im.replace("LAYOUT","")),R0[Im]=[_u(e1.get())],e1.set(Array.isArray(Am)?Am[0]:Am),M0.calc=!0;continue}for(R0[Im]=wm(),s0=0;s0<mp.length;s0++){Fm=Up[mp[s0]],Sm=_m(mp[s0]);var m1=Tp._tracePreGUI[Sm._fullInput.uid];if(e1=Wl(m1,Xp)(Fm,Im),u1=e1.get(),jm=Array.isArray(Am)?Am[s0%Am.length]:Am,jm!==void 0){var S1=e1.parts[e1.parts.length-1],_1=Im.substr(0,Im.length-S1.length-1),n1=_1?_1+".":"",b1=_1?xl(Sm,_1).get():Sm;if(d1=Al.getTraceValObject(Sm,e1.parts),d1&&d1.impliedEdits&&jm!==null)for(var f1 in d1.impliedEdits)sm(Fn.relativeAttr(Im,f1),d1.impliedEdits[f1],s0);else if((S1==="thicknessmode"||S1==="lenmode")&&u1!==jm&&(jm==="fraction"||jm==="pixels")&&b1){var km=Tp._size,D1=b1.orient,_d=D1==="top"||D1==="bottom";if(S1==="thicknessmode"){var Xu=_d?km.h:km.w;sm(n1+"thickness",b1.thickness*(jm==="fraction"?1/Xu:Xu),s0)}else{var Bp=_d?km.w:km.h;sm(n1+"len",b1.len*(jm==="fraction"?1/Bp:Bp),s0)}}else if(Im==="type"&&(jm==="pie"!=(u1==="pie")||jm==="funnelarea"!=(u1==="funnelarea"))){var qp="x",_f="y";(jm==="bar"||u1==="bar")&&Fm.orientation==="h"&&(qp="y",_f="x"),Fn.swapAttrs(Fm,["?","?src"],"labels",qp),Fn.swapAttrs(Fm,["d?","?0"],"label",qp),Fn.swapAttrs(Fm,["?","?src"],"values",_f),u1==="pie"||u1==="funnelarea"?(xl(Fm,"marker.color").set(xl(Fm,"marker.colors").get()),Tp._pielayer.selectAll("g.trace").remove()):Sl.traceIs(Fm,"cartesian")&&xl(Fm,"marker.colors").set(xl(Fm,"marker.color").get())}R0[Im][s0]=_u(u1);var zp=["swapxy","swapxyaxes","orientation","orientationaxes"];if(zp.indexOf(Im)!==-1){if(Im==="orientation"){e1.set(jm);var Hp=Fm.x&&!Fm.y?"h":"v";if((e1.get()||Hp)===Sm.orientation)continue}else Im==="orientationaxes"&&(Fm.orientation={v:"h",h:"v"}[Sm.orientation]);Il.swapXYData(Fm),M0.calc=M0.clearAxisTypes=!0}else Et.dataArrayContainers.indexOf(e1.parts[0])!==-1?(Il.manageArrayContainers(e1,jm,R0),M0.calc=!0):(d1?d1.arrayOk&&!Sl.traceIs(Sm,"regl")&&(Fn.isArrayOrTypedArray(jm)||Fn.isArrayOrTypedArray(u1))?M0.calc=!0:Kl.update(M0,d1):M0.calc=!0,e1.set(jm))}}if(["swapxyaxes","orientationaxes"].indexOf(Im)!==-1&&Pl.swap(Zu,mp),Im==="orientationaxes"){var t0=xl(Zu.layout,"hovermode"),Qp=t0.get();Qp==="x"?t0.set("y"):Qp==="y"?t0.set("x"):Qp==="x unified"?t0.set("y unified"):Qp==="y unified"&&t0.set("x unified")}if(["orientation","type"].indexOf(Im)!==-1){for(rm=[],s0=0;s0<mp.length;s0++){var p0=Up[mp[s0]];Sl.traceIs(p0,"cartesian")&&(Bm(p0.xaxis||"x"),Bm(p0.yaxis||"y"))}sm(rm.map(Vm),!0,0),sm(rm.map(Ym),[0,1],0)}}return(M0.calc||M0.plot)&&(M0.fullReplot=!0),{flags:M0,undoit:R0,redoit:A0,traces:mp,eventData:Fn.extendDeepNoArrays([],[i0,mp])}}function tp(Zu,lp,mp){Zu=Fn.getGraphDiv(Zu),Il.clearPromiseQueue(Zu);var Tp={};if(typeof lp=="string")Tp[lp]=mp;else if(Fn.isPlainObject(lp))Tp=Fn.extendFlat({},lp);else return Fn.warn("Relayout fail.",lp,mp),Promise.reject();Object.keys(Tp).length&&(Zu.changed=!0);var Lp=u0(Zu,Tp),Up=Lp.flags;Up.calc&&(Zu.calcdata=void 0);var Xp=[Et.previousPromises];Up.layoutReplot?Xp.push(Hl.layoutReplot):Object.keys(Tp).length&&(up(Zu,Up,Lp)||Et.supplyDefaults(Zu),Up.legend&&Xp.push(Hl.doLegend),Up.layoutstyle&&Xp.push(Hl.layoutStyles),Up.axrange&&dp(Xp,Lp.rangesAltered),Up.ticks&&Xp.push(Hl.doTicksRelayout),Up.modebar&&Xp.push(Hl.doModeBar),Up.camera&&Xp.push(Hl.doCamera),Up.colorbars&&Xp.push(Hl.doColorBars),Xp.push($u)),Xp.push(Et.rehover,Et.redrag,Et.reselect),yl.add(Zu,tp,[Zu,Lp.undoit],tp,[Zu,Lp.redoit]);var c0=Fn.syncOrAsync(Xp,Zu);return(!c0||!c0.then)&&(c0=Promise.resolve(Zu)),c0.then(function(){return Zu.emit("plotly_relayout",Lp.eventData),Zu})}function up(Zu,lp,mp){var Tp=Zu._fullLayout;if(!lp.axrange)return!1;for(var Lp in lp)if(Lp!=="axrange"&&lp[Lp])return!1;var Up,Xp,c0=function(rm,wm){return Fn.coerce(Up,Xp,Fl,rm,wm)},i0={};for(var s0 in mp.rangesAltered){var M0=Pl.id2name(s0);if(Up=Zu.layout[M0],Xp=Tp[M0],El(Up,Xp,c0,i0),Xp._matchGroup){for(var A0 in Xp._matchGroup)if(A0!==s0){var R0=Tp[Pl.id2name(A0)];R0.autorange=Xp.autorange,R0.range=Xp.range.slice(),R0._input.range=Xp.range.slice()}}}return!0}function dp(Zu,lp){var mp=lp?function(Tp){var Lp=[],Up=!0;for(var Xp in lp){var c0=Pl.getFromId(Tp,Xp);if(Lp.push(Xp),(c0.ticklabelposition||"").indexOf("inside")!==-1&&c0._anchorAxis&&Lp.push(c0._anchorAxis._id),c0._matchGroup)for(var i0 in c0._matchGroup)lp[i0]||Lp.push(i0)}return Pl.draw(Tp,Lp,{skipTitle:Up})}:function(Tp){return Pl.draw(Tp,"redraw")};Zu.push(Bl,Hl.doAutoRangeAndConstraints,mp,Hl.drawData,Hl.finalDraw)}var Ap=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,Op=/^[xyz]axis[0-9]*\.autorange$/,Zp=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function u0(Zu,lp){var mp=Zu.layout,Tp=Zu._fullLayout,Lp=Tp._guiEditing,Up=Wl(Tp._preGUI,Lp),Xp=Object.keys(lp),c0=Pl.list(Zu),i0=Fn.extendDeepAll({},lp),s0={},M0,A0,R0;for(Xp=Object.keys(lp),A0=0;A0<Xp.length;A0++)if(Xp[A0].indexOf("allaxes")===0){for(R0=0;R0<c0.length;R0++){var rm=c0[R0]._id.substr(1),wm=rm.indexOf("scene")!==-1?rm+".":"",Bm=Xp[A0].replace("allaxes",wm+c0[R0]._name);lp[Bm]||(lp[Bm]=lp[Xp[A0]])}delete lp[Xp[A0]]}var Vm=Kl.layoutFlags(),Ym={},_m={};function sm(um,Rm){if(Array.isArray(um)){um.forEach(function(x1){sm(x1,Rm)});return}if(!(um in lp||Il.hasParent(lp,um))){var Gm=Up(mp,um);um in _m||(_m[um]=_u(Gm.get())),Rm!==void 0&&Gm.set(Rm)}}var zm={},Wm;function Im(um){var Rm=Pl.name2id(um.split(".")[0]);return zm[Rm]=1,Rm}for(var Am in lp){if(Il.hasParent(lp,Am))throw new Error("cannot set "+Am+" and a parent attribute simultaneously");for(var Fm=Up(mp,Am),Sm=lp[Am],e1=Fm.parts.length,u1=e1-1;u1>0&&typeof Fm.parts[u1]!="string";)u1--;var jm=Fm.parts[u1],d1=Fm.parts[u1-1]+"."+jm,m1=Fm.parts.slice(0,u1).join("."),S1=xl(Zu.layout,m1).get(),_1=xl(Tp,m1).get(),n1=Fm.get();if(Sm!==void 0){Ym[Am]=Sm,_m[Am]=jm==="reverse"?Sm:_u(n1);var b1=Al.getLayoutValObject(Tp,Fm.parts);if(b1&&b1.impliedEdits&&Sm!==null)for(var f1 in b1.impliedEdits)sm(Fn.relativeAttr(Am,f1),b1.impliedEdits[f1]);if(["width","height"].indexOf(Am)!==-1)if(Sm){sm("autosize",null);var km=Am==="height"?"width":"height";sm(km,Tp[km])}else Tp[Am]=Zu._initialAutoSize[Am];else if(Am==="autosize")sm("width",Sm?null:Tp.width),sm("height",Sm?null:Tp.height);else if(d1.match(Ap))Im(d1),xl(Tp,m1+"._inputRange").set(null);else if(d1.match(Op)){Im(d1),xl(Tp,m1+"._inputRange").set(null);var D1=xl(Tp,m1).get();D1._inputDomain&&(D1._input.domain=D1._inputDomain.slice())}else d1.match(Zp)&&xl(Tp,m1+"._inputDomain").set(null);if(jm==="type"){Wm=S1;var _d=_1.type==="linear"&&Sm==="log",Xu=_1.type==="log"&&Sm==="linear";if(_d||Xu){if(!Wm||!Wm.range)sm(m1+".autorange",!0);else if(_1.autorange)_d&&(Wm.range=Wm.range[1]>Wm.range[0]?[1,2]:[2,1]);else{var Bp=Wm.range[0],qp=Wm.range[1];_d?(Bp<=0&&qp<=0&&sm(m1+".autorange",!0),Bp<=0?Bp=qp/1e6:qp<=0&&(qp=Bp/1e6),sm(m1+".range[0]",Math.log(Bp)/Math.LN10),sm(m1+".range[1]",Math.log(qp)/Math.LN10)):(sm(m1+".range[0]",Math.pow(10,Bp)),sm(m1+".range[1]",Math.pow(10,qp)))}Array.isArray(Tp._subplots.polar)&&Tp._subplots.polar.length&&Tp[Fm.parts[0]]&&Fm.parts[1]==="radialaxis"&&delete Tp[Fm.parts[0]]._subplot.viewInitial["radialaxis.range"],Sl.getComponentMethod("annotations","convertCoords")(Zu,_1,Sm,sm),Sl.getComponentMethod("images","convertCoords")(Zu,_1,Sm,sm)}else sm(m1+".autorange",!0),sm(m1+".range",null);xl(Tp,m1+"._inputRange").set(null)}else if(jm.match(Gu)){var _f=xl(Tp,Am).get(),zp=(Sm||{}).type;(!zp||zp==="-")&&(zp="linear"),Sl.getComponentMethod("annotations","convertCoords")(Zu,_f,zp,sm),Sl.getComponentMethod("images","convertCoords")(Zu,_f,zp,sm)}var Hp=Rl.containerArrayMatch(Am);if(Hp){M0=Hp.array,A0=Hp.index;var t0=Hp.property,Qp=b1||{editType:"calc"};A0!==""&&t0===""&&(Rl.isAddVal(Sm)?_m[Am]=null:Rl.isRemoveVal(Sm)?_m[Am]=(xl(mp,M0).get()||[])[A0]:Fn.warn("unrecognized full object value",lp)),Kl.update(Vm,Qp),s0[M0]||(s0[M0]={});var p0=s0[M0][A0];p0||(p0=s0[M0][A0]={}),p0[t0]=Sm,delete lp[Am]}else jm==="reverse"?(S1.range?S1.range.reverse():(sm(m1+".autorange",!0),S1.range=[1,0]),_1.autorange?Vm.calc=!0:Vm.plot=!0):(Am==="dragmode"&&(Sm===!1&&n1!==!1||Sm!==!1&&n1===!1)||Tp._has("scatter-like")&&Tp._has("regl")&&Am==="dragmode"&&(Sm==="lasso"||Sm==="select")&&!(n1==="lasso"||n1==="select")?Vm.plot=!0:b1?Kl.update(Vm,b1):Vm.calc=!0,Fm.set(Sm))}}for(M0 in s0){var y0=Rl.applyContainerArrayChanges(Zu,Up(mp,M0),s0[M0],Vm,Up);y0||(Vm.plot=!0)}for(var H0 in zm){Wm=Pl.getFromId(Zu,H0);var ym=Wm&&Wm._constraintGroup;if(ym){Vm.calc=!0;for(var pm in ym)zm[pm]||(Pl.getFromId(Zu,pm)._constraintShrinkable=!0)}}(r0(Zu)||lp.height||lp.width)&&(Vm.plot=!0);var Tm=Tp.shapes;for(A0=0;A0<Tm.length;A0++)if(Tm[A0].showlegend){Vm.calc=!0;break}return(Vm.plot||Vm.calc)&&(Vm.layoutReplot=!0),{flags:Vm,rangesAltered:zm,undoit:_m,redoit:Ym,eventData:i0}}function r0(Zu){var lp=Zu._fullLayout,mp=lp.width,Tp=lp.height;return Zu.layout.autosize&&Et.plotAutoSize(Zu,Zu.layout,lp),lp.width!==mp||lp.height!==Tp}function e0(Zu,lp,mp,Tp){Zu=Fn.getGraphDiv(Zu),Il.clearPromiseQueue(Zu),Fn.isPlainObject(lp)||(lp={}),Fn.isPlainObject(mp)||(mp={}),Object.keys(lp).length&&(Zu.changed=!0),Object.keys(mp).length&&(Zu.changed=!0);var Lp=Il.coerceTraceIndices(Zu,Tp),Up=Nu(Zu,Fn.extendFlat({},lp),Lp),Xp=Up.flags,c0=u0(Zu,Fn.extendFlat({},mp)),i0=c0.flags;(Xp.calc||i0.calc)&&(Zu.calcdata=void 0),Xp.clearAxisTypes&&Il.clearAxisTypes(Zu,Lp,mp);var s0=[];i0.layoutReplot?s0.push(Hl.layoutReplot):Xp.fullReplot?s0.push(Mu._doPlot):(s0.push(Et.previousPromises),up(Zu,i0,c0)||Et.supplyDefaults(Zu),Xp.style&&s0.push(Hl.doTraceStyle),(Xp.colorbars||i0.colorbars)&&s0.push(Hl.doColorBars),i0.legend&&s0.push(Hl.doLegend),i0.layoutstyle&&s0.push(Hl.layoutStyles),i0.axrange&&dp(s0,c0.rangesAltered),i0.ticks&&s0.push(Hl.doTicksRelayout),i0.modebar&&s0.push(Hl.doModeBar),i0.camera&&s0.push(Hl.doCamera),s0.push($u)),s0.push(Et.rehover,Et.redrag,Et.reselect),yl.add(Zu,e0,[Zu,Up.undoit,c0.undoit,Up.traces],e0,[Zu,Up.redoit,c0.redoit,Up.traces]);var M0=Fn.syncOrAsync(s0,Zu);return(!M0||!M0.then)&&(M0=Promise.resolve(Zu)),M0.then(function(){return Zu.emit("plotly_update",{data:Up.eventData,layout:c0.eventData}),Zu})}function Cp(Zu){return function(lp){lp._fullLayout._guiEditing=!0;var mp=Zu.apply(null,arguments);return lp._fullLayout._guiEditing=!1,mp}}var Mp=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^(map\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],sp=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function Ip(Zu,lp){for(var mp=0;mp<lp.length;mp++){var Tp=lp[mp],Lp=Zu.match(Tp.pattern);if(Lp){var Up=Lp[1]||"";return{head:Up,tail:Zu.substr(Up.length+1),attr:Tp.attr}}}}function Jp(Zu,lp){var mp=xl(lp,Zu).get();if(mp!==void 0)return mp;var Tp=Zu.split(".");for(Tp.pop();Tp.length>1;)if(Tp.pop(),mp=xl(lp,Tp.join(".")+".uirevision").get(),mp!==void 0)return mp;return lp.uirevision}function a0(Zu,lp){for(var mp=0;mp<lp.length;mp++)if(lp[mp]._fullInput.uid===Zu)return mp;return-1}function v0(Zu,lp,mp){for(var Tp=0;Tp<lp.length;Tp++)if(lp[Tp].uid===Zu)return Tp;return!lp[mp]||lp[mp].uid?-1:mp}function h0(Zu,lp){var mp=Fn.isPlainObject(Zu),Tp=Array.isArray(Zu);return mp||Tp?(mp&&Fn.isPlainObject(lp)||Tp&&Array.isArray(lp))&&JSON.stringify(Zu)===JSON.stringify(lp):Zu===lp}function w0(Zu,lp,mp,Tp){var Lp=Tp._preGUI,Up,Xp,c0,i0,s0,M0,A0,R0,rm,wm,Bm=[],Vm={},Ym={};for(Up in Lp){if(s0=Ip(Up,Mp),s0){if(rm=s0.head,wm=s0.tail,Xp=s0.attr||rm+".uirevision",c0=xl(Tp,Xp).get(),i0=c0&&Jp(Xp,lp),i0&&i0===c0){if(M0=Lp[Up],M0===null&&(M0=void 0),A0=xl(lp,Up),R0=A0.get(),h0(R0,M0)){R0===void 0&&wm==="autorange"&&Bm.push(rm),A0.set(_u(xl(Tp,Up).get()));continue}else if(wm==="autorange"||wm.substr(0,6)==="range["){var _m=Lp[rm+".range[0]"],sm=Lp[rm+".range[1]"],zm=Lp[rm+".autorange"];if(zm||zm===null&&_m===null&&sm===null){if(!(rm in Vm)){var Wm=xl(lp,rm).get();Vm[rm]=Wm&&(Wm.autorange||Wm.autorange!==!1&&(!Wm.range||Wm.range.length!==2))}if(Vm[rm]){A0.set(_u(xl(Tp,Up).get()));continue}}}}}else Fn.warn("unrecognized GUI edit: "+Up);delete Lp[Up],s0&&s0.tail.substr(0,6)==="range["&&(Ym[s0.head]=1)}for(var Im=0;Im<Bm.length;Im++){var Am=Bm[Im];if(Ym[Am]){var Fm=xl(lp,Am).get();Fm&&delete Fm.autorange}}var Sm=Tp._tracePreGUI;for(var e1 in Sm){var u1=Sm[e1],jm=null,d1;for(Up in u1){if(!jm){var m1=a0(e1,mp);if(m1<0){delete Sm[e1];break}var S1=mp[m1];d1=S1._fullInput;var _1=v0(e1,Zu,d1.index);if(_1<0){delete Sm[e1];break}jm=Zu[_1]}if(s0=Ip(Up,sp),s0){if(s0.attr?(c0=xl(Tp,s0.attr).get(),i0=c0&&Jp(s0.attr,lp)):(c0=d1.uirevision,i0=jm.uirevision,i0===void 0&&(i0=lp.uirevision)),i0&&i0===c0&&(M0=u1[Up],M0===null&&(M0=void 0),A0=xl(jm,Up),R0=A0.get(),h0(R0,M0))){A0.set(_u(xl(d1,Up).get()));continue}}else Fn.warn("unrecognized GUI edit: "+Up+" in trace uid "+e1);delete u1[Up]}}}function E0(Zu,lp,mp,Tp){var Lp,Up;function Xp(){return Mu.addFrames(Zu,Lp)}Zu=Fn.getGraphDiv(Zu),Il.clearPromiseQueue(Zu);var c0=Zu._fullData,i0=Zu._fullLayout;if(!Fn.isPlotDiv(Zu)||!c0||!i0)Up=Mu.newPlot(Zu,lp,mp,Tp);else{if(Fn.isPlainObject(lp)){var s0=lp;lp=s0.data,mp=s0.layout,Tp=s0.config,Lp=s0.frames}var M0=!1;if(Tp){let d1=Fn.extendDeepAll({},Zu._context);Zu._context=void 0,Du(Zu,Tp),M0=!Il.collectionsAreEqual(d1,Zu._context)}if(M0){let d1=Zu._ev.eventNames().map(m1=>[m1,Zu._ev.listeners(m1)]);Up=Mu.newPlot(Zu,lp,mp,Tp).then(()=>{for(let[m1,S1]of d1)S1.forEach(_1=>Zu.on(m1,_1));return Mu.react(Zu,lp,mp,Tp)})}else{Zu.data=lp||[],Il.cleanData(Zu.data),Zu.layout=mp||{},Il.cleanLayout(Zu.layout),w0(Zu.data,Zu.layout,c0,i0),Et.supplyDefaults(Zu,{skipUpdateCalc:!0});var A0=Zu._fullData,R0=Zu._fullLayout,rm=R0.datarevision===void 0,wm=R0.transition,Bm=$0(Zu,i0,R0,rm,wm),Vm=Bm.newDataRevision,Ym=_0(Zu,c0,A0,rm,wm,Vm);if(r0(Zu)&&(Bm.layoutReplot=!0),Ym.calc||Bm.calc){Zu.calcdata=void 0;for(var _m=Object.getOwnPropertyNames(R0),sm=0;sm<_m.length;sm++){var zm=_m[sm],Wm=zm.substring(0,5);if(Wm==="xaxis"||Wm==="yaxis"){var Im=R0[zm]._emptyCategories;Im&&Im()}}}else Et.supplyDefaultsUpdateCalc(Zu.calcdata,A0);var Am=[];if(Lp&&(Zu._transitionData={},Et.createTransitionData(Zu),Am.push(Xp)),R0.transition&&(Ym.anim||Bm.anim))Bm.ticks&&Am.push(Hl.doTicksRelayout),Et.doCalcdata(Zu),Hl.doAutoRangeAndConstraints(Zu),Am.push(function(){return Et.transitionFromReact(Zu,Ym,Bm,i0)});else if(Ym.fullReplot||Bm.layoutReplot)Zu._fullLayout._skipDefaults=!0,Am.push(Mu._doPlot);else{for(var Fm in Bm.arrays){var Sm=Bm.arrays[Fm];if(Sm.length){var e1=Sl.getComponentMethod(Fm,"drawOne");if(e1!==Fn.noop)for(var u1=0;u1<Sm.length;u1++)e1(Zu,Sm[u1]);else{var jm=Sl.getComponentMethod(Fm,"draw");if(jm===Fn.noop)throw new Error("cannot draw components: "+Fm);jm(Zu)}}}Am.push(Et.previousPromises),Ym.style&&Am.push(Hl.doTraceStyle),(Ym.colorbars||Bm.colorbars)&&Am.push(Hl.doColorBars),Bm.legend&&Am.push(Hl.doLegend),Bm.layoutstyle&&Am.push(Hl.layoutStyles),Bm.axrange&&dp(Am),Bm.ticks&&Am.push(Hl.doTicksRelayout),Bm.modebar&&Am.push(Hl.doModeBar),Bm.camera&&Am.push(Hl.doCamera),Am.push($u)}Am.push(Et.rehover,Et.redrag,Et.reselect),Up=Fn.syncOrAsync(Am,Zu),(!Up||!Up.then)&&(Up=Promise.resolve(Zu))}}return Up.then(()=>(M0||Zu.emit("plotly_react",{config:Tp,data:lp,layout:mp}),Zu))}function _0(Zu,lp,mp,Tp,Lp,Up){var Xp=lp.length===mp.length;if(!Lp&&!Xp)return{fullReplot:!0,calc:!0};var c0=Kl.traceFlags();c0.arrays={},c0.nChanges=0,c0.nChangesAnim=0;var i0,s0;function M0(rm){var wm=Al.getTraceValObject(s0,rm);return!s0._module.animatable&&wm.anim&&(wm.anim=!1),wm}var A0={getValObject:M0,flags:c0,immutable:Tp,transition:Lp,newDataRevision:Up,gd:Zu},R0={};for(i0=0;i0<lp.length;i0++)if(mp[i0]){if(s0=mp[i0]._fullInput,R0[s0.uid])continue;R0[s0.uid]=1,f0(lp[i0]._fullInput,s0,[],A0)}return(c0.calc||c0.plot)&&(c0.fullReplot=!0),Lp&&c0.nChanges&&c0.nChangesAnim&&(c0.anim=c0.nChanges===c0.nChangesAnim&&Xp?"all":"some"),c0}function $0(Zu,lp,mp,Tp,Lp){var Up=Kl.layoutFlags();Up.arrays={},Up.rangesAltered={},Up.nChanges=0,Up.nChangesAnim=0;function Xp(R0){return Al.getLayoutValObject(mp,R0)}for(var c0 in mp)if(!(!c0.startsWith("xaxis")&&!c0.startsWith("yaxis"))&&lp[c0]){var i0=mp[c0].domain,s0=lp[c0].domain,M0=lp[c0]._inputDomain;lp[c0]._inputDomain&&(i0[0]===M0[0]&&i0[1]===M0[1]?mp[c0].domain=lp[c0].domain:(i0[0]!==s0[0]||i0[1]!==s0[1])&&(mp[c0]._inputDomain=null))}var A0={getValObject:Xp,flags:Up,immutable:Tp,transition:Lp,gd:Zu};return f0(lp,mp,[],A0),(Up.plot||Up.calc)&&(Up.layoutReplot=!0),Lp&&Up.nChanges&&Up.nChangesAnim&&(Up.anim=Up.nChanges===Up.nChangesAnim?"all":"some"),Up}function f0(Zu,lp,mp,Tp){var Lp,Up,Xp,c0=Tp.getValObject,i0=Tp.flags,s0=Tp.immutable,M0=Tp.inArray,A0=Tp.arrayIndex;function R0(){var m1=Lp.editType;if(M0&&m1.indexOf("arraydraw")!==-1){Fn.pushUnique(i0.arrays[M0],A0);return}Kl.update(i0,Lp),m1!=="none"&&i0.nChanges++,Tp.transition&&Lp.anim&&i0.nChangesAnim++,(Ap.test(Xp)||Op.test(Xp))&&(i0.rangesAltered[mp[0]]=1),Up==="datarevision"&&(i0.newDataRevision=1)}function rm(m1){return m1.valType==="data_array"||m1.arrayOk}for(Up in Zu){if(i0.calc&&!Tp.transition)return;var wm=Zu[Up],Bm=lp[Up],Vm=mp.concat(Up);if(Xp=Vm.join("."),!(Up.charAt(0)==="_"||typeof wm=="function"||wm===Bm)){if((Up==="tick0"||Up==="dtick")&&mp[0]!=="geo"){var Ym=lp.tickmode;if(Ym==="auto"||Ym==="array"||!Ym)continue}if(!(Up==="range"&&lp.autorange)&&!((Up==="zmin"||Up==="zmax")&&lp.type==="contourcarpet")&&(Lp=c0(Vm),!!Lp&&!(Lp._compareAsJSON&&JSON.stringify(wm)===JSON.stringify(Bm)))){var _m=Lp.valType,sm,zm=rm(Lp),Wm=Array.isArray(wm),Im=Array.isArray(Bm);if(Wm&&Im){var Am="_input_"+Up,Fm=Zu[Am],Sm=lp[Am];if(Array.isArray(Fm)&&Fm===Sm)continue}if(Bm===void 0)zm&&Wm?i0.calc=!0:R0();else if(Lp._isLinkedToArray){var e1=[],u1=!1;M0||(i0.arrays[Up]=e1);var jm=Math.min(wm.length,Bm.length),d1=Math.max(wm.length,Bm.length);if(jm!==d1)if(Lp.editType==="arraydraw")u1=!0;else{R0();continue}for(sm=0;sm<jm;sm++)f0(wm[sm],Bm[sm],Vm.concat(sm),Fn.extendFlat({inArray:Up,arrayIndex:sm},Tp));if(u1)for(sm=jm;sm<d1;sm++)e1.push(sm)}else!_m&&Fn.isPlainObject(wm)?f0(wm,Bm,Vm,Tp):zm?Wm&&Im?(s0&&(i0.calc=!0),(s0||Tp.newDataRevision)&&R0()):Wm!==Im?i0.calc=!0:R0():Wm&&Im?(wm.length!==Bm.length||String(wm)!==String(Bm))&&R0():R0()}}}for(Up in lp)if(!(Up in Zu||Up.charAt(0)==="_"||typeof lp[Up]=="function"))if(Lp=c0(mp.concat(Up)),rm(Lp)&&Array.isArray(lp[Up])){i0.calc=!0;return}else R0()}function q0(Zu,lp,mp){if(Zu=Fn.getGraphDiv(Zu),!Fn.isPlotDiv(Zu))throw new Error("This element is not a Plotly plot: "+Zu+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Tp=Zu._transitionData;Tp._frameQueue||(Tp._frameQueue=[]),mp=Et.supplyAnimationDefaults(mp);var Lp=mp.transition,Up=mp.frame;Tp._frameWaitingCnt===void 0&&(Tp._frameWaitingCnt=0);function Xp(s0){return Array.isArray(Lp)?s0>=Lp.length?Lp[0]:Lp[s0]:Lp}function c0(s0){return Array.isArray(Up)?s0>=Up.length?Up[0]:Up[s0]:Up}function i0(s0,M0){var A0=0;return function(){if(s0&&++A0===M0)return s0()}}return new Promise(function(s0,M0){function A0(){if(Tp._frameQueue.length!==0){for(;Tp._frameQueue.length;){var jm=Tp._frameQueue.pop();jm.onInterrupt&&jm.onInterrupt()}Zu.emit("plotly_animationinterrupted",[])}}function R0(jm){if(jm.length!==0){for(var d1=0;d1<jm.length;d1++){var m1;jm[d1].type==="byname"?m1=Et.computeFrame(Zu,jm[d1].name):m1=jm[d1].data;var S1=c0(d1),_1=Xp(d1);_1.duration=Math.min(_1.duration,S1.duration);var n1={frame:m1,name:jm[d1].name,frameOpts:S1,transitionOpts:_1};d1===jm.length-1&&(n1.onComplete=i0(s0,2),n1.onInterrupt=M0),Tp._frameQueue.push(n1)}mp.mode==="immediate"&&(Tp._lastFrameAt=-1/0),Tp._animationRaf||Bm()}}function rm(){Zu.emit("plotly_animated"),window.cancelAnimationFrame(Tp._animationRaf),Tp._animationRaf=null}function wm(){Tp._currentFrame&&Tp._currentFrame.onComplete&&Tp._currentFrame.onComplete();var jm=Tp._currentFrame=Tp._frameQueue.shift();if(jm){var d1=jm.name?jm.name.toString():null;Zu._fullLayout._currentFrame=d1,Tp._lastFrameAt=Date.now(),Tp._timeToNext=jm.frameOpts.duration,Et.transition(Zu,jm.frame.data,jm.frame.layout,Il.coerceTraceIndices(Zu,jm.frame.traces),jm.frameOpts,jm.transitionOpts).then(function(){jm.onComplete&&jm.onComplete()}),Zu.emit("plotly_animatingframe",{name:d1,frame:jm.frame,animation:{frame:jm.frameOpts,transition:jm.transitionOpts}})}else rm()}function Bm(){Zu.emit("plotly_animating"),Tp._lastFrameAt=-1/0,Tp._timeToNext=0,Tp._runningTransitions=0,Tp._currentFrame=null;var jm=function(){Tp._animationRaf=window.requestAnimationFrame(jm),Date.now()-Tp._lastFrameAt>Tp._timeToNext&&wm()};jm()}var Vm=0;function Ym(jm){return Array.isArray(Lp)?Vm>=Lp.length?jm.transitionOpts=Lp[Vm]:jm.transitionOpts=Lp[0]:jm.transitionOpts=Lp,Vm++,jm}var _m,sm,zm=[],Wm=lp==null,Im=Array.isArray(lp),Am=!Wm&&!Im&&Fn.isPlainObject(lp);if(Am)zm.push({type:"object",data:Ym(Fn.extendFlat({},lp))});else if(Wm||["string","number"].indexOf(typeof lp)!==-1)for(_m=0;_m<Tp._frames.length;_m++)sm=Tp._frames[_m],sm&&(Wm||String(sm.group)===String(lp))&&zm.push({type:"byname",name:String(sm.name),data:Ym({name:sm.name})});else if(Im)for(_m=0;_m<lp.length;_m++){var Fm=lp[_m];["number","string"].indexOf(typeof Fm)!==-1?(Fm=String(Fm),zm.push({type:"byname",name:Fm,data:Ym({name:Fm})})):Fn.isPlainObject(Fm)&&zm.push({type:"object",data:Ym(Fn.extendFlat({},Fm))})}for(_m=0;_m<zm.length;_m++)if(sm=zm[_m],sm.type==="byname"&&!Tp._frameHash[sm.data.name]){Fn.warn('animate failure: frame not found: "'+sm.data.name+'"'),M0();return}["next","immediate"].indexOf(mp.mode)!==-1&&A0(),mp.direction==="reverse"&&zm.reverse();var Sm=Zu._fullLayout._currentFrame;if(Sm&&mp.fromcurrent){var e1=-1;for(_m=0;_m<zm.length;_m++)if(sm=zm[_m],sm.type==="byname"&&sm.name===Sm){e1=_m;break}if(e1>0&&e1<zm.length-1){var u1=[];for(_m=0;_m<zm.length;_m++)sm=zm[_m],(zm[_m].type!=="byname"||_m>e1)&&u1.push(sm);zm=u1}}zm.length>0?R0(zm):(Zu.emit("plotly_animated"),s0())})}function J0(Zu,lp,mp){if(Zu=Fn.getGraphDiv(Zu),lp==null)return Promise.resolve();if(!Fn.isPlotDiv(Zu))throw new Error("This element is not a Plotly plot: "+Zu+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Tp,Lp,Up,Xp,c0=Zu._transitionData._frames,i0=Zu._transitionData._frameHash;if(!Array.isArray(lp))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+lp);var s0=c0.length+lp.length*2,M0=[],A0={};for(Tp=lp.length-1;Tp>=0;Tp--)if(Fn.isPlainObject(lp[Tp])){var R0=lp[Tp].name,rm=(i0[R0]||A0[R0]||{}).name,wm=lp[Tp].name,Bm=i0[rm]||A0[rm];rm&&wm&&typeof wm=="number"&&Bm&&vu<hu&&(vu++,Fn.warn('addFrames: overwriting frame "'+(i0[rm]||A0[rm]).name+'" with a frame whose name of type "number" also equates to "'+rm+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),vu===hu&&Fn.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),A0[R0]={name:R0},M0.push({frame:Et.supplyFrameDefaults(lp[Tp]),index:mp&&mp[Tp]!==void 0&&mp[Tp]!==null?mp[Tp]:s0+Tp})}M0.sort(function(Am,Fm){return Am.index>Fm.index?-1:Am.index<Fm.index?1:0});var Vm=[],Ym=[],_m=c0.length;for(Tp=M0.length-1;Tp>=0;Tp--){if(Lp=M0[Tp].frame,typeof Lp.name=="number"&&Fn.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!Lp.name)for(;i0[Lp.name="frame "+Zu._transitionData._counter++];);if(i0[Lp.name]){for(Up=0;Up<c0.length&&(c0[Up]||{}).name!==Lp.name;Up++);Vm.push({type:"replace",index:Up,value:Lp}),Ym.unshift({type:"replace",index:Up,value:c0[Up]})}else Xp=Math.max(0,Math.min(M0[Tp].index,_m)),Vm.push({type:"insert",index:Xp,value:Lp}),Ym.unshift({type:"delete",index:Xp}),_m++}var sm=Et.modifyFrames,zm=Et.modifyFrames,Wm=[Zu,Ym],Im=[Zu,Vm];return yl&&yl.add(Zu,sm,Wm,zm,Im),Et.modifyFrames(Zu,Vm)}function V0(Zu,lp){if(Zu=Fn.getGraphDiv(Zu),!Fn.isPlotDiv(Zu))throw new Error("This element is not a Plotly plot: "+Zu);var mp,Tp,Lp=Zu._transitionData._frames,Up=[],Xp=[];if(!lp)for(lp=[],mp=0;mp<Lp.length;mp++)lp.push(mp);for(lp=lp.slice(),lp.sort(),mp=lp.length-1;mp>=0;mp--)Tp=lp[mp],Up.push({type:"delete",index:Tp}),Xp.unshift({type:"insert",index:Tp,value:Lp[Tp]});var c0=Et.modifyFrames,i0=Et.modifyFrames,s0=[Zu,Xp],M0=[Zu,Up];return yl&&yl.add(Zu,c0,s0,i0,M0),Et.modifyFrames(Zu,Up)}function nm(Zu){Zu=Fn.getGraphDiv(Zu);var lp=Zu._fullLayout||{},mp=Zu._fullData||[];return Et.cleanPlot([],{},mp,lp),Et.purge(Zu),Bn.purge(Zu),lp._container&&lp._container.remove(),delete Zu._context,Zu}function Ep(Zu){var lp=Zu._fullLayout,mp=Zu.getBoundingClientRect();if(!Fn.equalDomRects(mp,lp._lastBBox)){var Tp=lp._invTransform=Fn.inverseTransformMatrix(Fn.getFullTransformMatrix(Zu));lp._invScaleX=Math.sqrt(Tp[0][0]*Tp[0][0]+Tp[0][1]*Tp[0][1]+Tp[0][2]*Tp[0][2]),lp._invScaleY=Math.sqrt(Tp[1][0]*Tp[1][0]+Tp[1][1]*Tp[1][1]+Tp[1][2]*Tp[1][2]),lp._lastBBox=mp}}function $p(Zu){var lp=yu.select(Zu),mp=Zu._fullLayout;if(mp._calcInverseTransform=Ep,mp._calcInverseTransform(Zu),mp._container=lp.selectAll(".plot-container").data([0]),mp._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0).style({width:"100%",height:"100%"}),mp._paperdiv=mp._container.selectAll(".svg-container").data([0]),mp._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),mp._glcontainer=mp._paperdiv.selectAll(".gl-container").data([{}]),mp._glcontainer.enter().append("div").classed("gl-container",!0),mp._paperdiv.selectAll(".main-svg").remove(),mp._paperdiv.select(".modebar-container").remove(),mp._paper=mp._paperdiv.insert("svg",":first-child").classed("main-svg",!0),mp._toppaper=mp._paperdiv.append("svg").classed("main-svg",!0),mp._modebardiv=mp._paperdiv.append("div"),delete mp._modeBar,mp._hoverpaper=mp._paperdiv.append("svg").classed("main-svg",!0),!mp._uid){var Tp={};yu.selectAll("defs").each(function(){this.id&&(Tp[this.id.split("-")[1]]=1)}),mp._uid=Fn.randstr(Tp)}mp._paperdiv.selectAll(".main-svg").attr(Ol.svgAttrs),mp._defs=mp._paper.append("defs").attr("id","defs-"+mp._uid),mp._clips=mp._defs.append("g").classed("clips",!0),mp._topdefs=mp._toppaper.append("defs").attr("id","topdefs-"+mp._uid),mp._topclips=mp._topdefs.append("g").classed("clips",!0),mp._bgLayer=mp._paper.append("g").classed("bglayer",!0),mp._draggers=mp._paper.append("g").classed("draglayer",!0);var Lp=mp._paper.append("g").classed("layer-below",!0);mp._imageLowerLayer=Lp.append("g").classed("imagelayer",!0),mp._shapeLowerLayer=Lp.append("g").classed("shapelayer",!0),mp._cartesianlayer=mp._paper.append("g").classed("cartesianlayer",!0),mp._polarlayer=mp._paper.append("g").classed("polarlayer",!0),mp._smithlayer=mp._paper.append("g").classed("smithlayer",!0),mp._ternarylayer=mp._paper.append("g").classed("ternarylayer",!0),mp._geolayer=mp._paper.append("g").classed("geolayer",!0),mp._funnelarealayer=mp._paper.append("g").classed("funnelarealayer",!0),mp._pielayer=mp._paper.append("g").classed("pielayer",!0),mp._iciclelayer=mp._paper.append("g").classed("iciclelayer",!0),mp._treemaplayer=mp._paper.append("g").classed("treemaplayer",!0),mp._sunburstlayer=mp._paper.append("g").classed("sunburstlayer",!0),mp._indicatorlayer=mp._toppaper.append("g").classed("indicatorlayer",!0),mp._glimages=mp._paper.append("g").classed("glimages",!0);var Up=mp._toppaper.append("g").classed("layer-above",!0);mp._imageUpperLayer=Up.append("g").classed("imagelayer",!0),mp._shapeUpperLayer=Up.append("g").classed("shapelayer",!0),mp._selectionLayer=mp._toppaper.append("g").classed("selectionlayer",!0),mp._infolayer=mp._toppaper.append("g").classed("infolayer",!0),mp._menulayer=mp._toppaper.append("g").classed("menulayer",!0),mp._zoomlayer=mp._toppaper.append("g").classed("zoomlayer",!0),mp._hoverlayer=mp._hoverpaper.append("g").classed("hoverlayer",!0),mp._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),Zu.emit("plotly_framework")}Mu.animate=q0,Mu.addFrames=J0,Mu.deleteFrames=V0,Mu.addTraces=Bu,Mu.deleteTraces=Xl,Mu.extendTraces=kp,Mu.moveTraces=Uu,Mu.prependTraces=Iu,Mu.newPlot=Vu,Mu._doPlot=Yl,Mu.purge=nm,Mu.react=E0,Mu.redraw=Hu,Mu.relayout=tp,Mu.restyle=ep,Mu.setPlotConfig=bu,Mu.update=e0,Mu._guiRelayout=Cp(tp),Mu._guiRestyle=Cp(ep),Mu._guiUpdate=Cp(e0),Mu._storeDirectGUIEdit=Pu}),a2=a(Mu=>{var yu=Gp();Mu.getDelay=function(Fn){return Fn._has&&(Fn._has("gl3d")||Fn._has("mapbox")||Fn._has("map"))?500:0},Mu.getRedrawFunc=function(Fn){return function(){yu.getComponentMethod("colorbar","draw")(Fn)}},Mu.encodeSVG=function(Fn){return"data:image/svg+xml,"+encodeURIComponent(Fn)},Mu.encodeJSON=function(Fn){return"data:application/json,"+encodeURIComponent(Fn)};var ls=window.URL||window.webkitURL;Mu.createObjectURL=function(Fn){return ls.createObjectURL(Fn)},Mu.revokeObjectURL=function(Fn){return ls.revokeObjectURL(Fn)},Mu.createBlob=function(Fn,xl){if(xl==="svg")return new window.Blob([Fn],{type:"image/svg+xml;charset=utf-8"});if(xl==="full-json")return new window.Blob([Fn],{type:"application/json;charset=utf-8"});var Bn=_t(window.atob(Fn));return new window.Blob([Bn],{type:"image/"+xl})},Mu.octetStream=function(Fn){document.location.href="data:application/octet-stream"+Fn};function _t(Fn){for(var xl=Fn.length,Bn=new ArrayBuffer(xl),yl=new Uint8Array(Bn),Sl=0;Sl<xl;Sl++)yl[Sl]=Fn.charCodeAt(Sl);return Bn}Mu.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/}),W2=a((Mu,yu)=>{var ls=g();vm();var _t=V1(),Fn=cp();Wy();var xl=/"/g,Bn="TOBESTRIPPED",yl=new RegExp('("'+Bn+")|("+Bn+'")',"g");function Sl(Et){var Pl=ls.select("body").append("div").style({display:"none"}).html(""),El=Et.replace(/(&[^;]*;)/gi,function(Fl){return Fl==="&lt;"?"&#60;":Fl==="&rt;"?"&#62;":Fl.indexOf("<")!==-1||Fl.indexOf(">")!==-1?"":Pl.html(Fl).text()});return Pl.remove(),El}function Al(Et){return Et.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}yu.exports=function(Et,Pl,El){var Fl=Et._fullLayout,$l=Fl._paper,Nl=Fl._toppaper,Ll=Fl.width,Ol=Fl.height,Bl;$l.insert("rect",":first-child").call(_t.setRect,0,0,Ll,Ol).call(Fn.fill,Fl.paper_bgcolor);var _l=Fl._basePlotModules||[];for(Bl=0;Bl<_l.length;Bl++){var Rl=_l[Bl];Rl.toSVG&&Rl.toSVG(Et)}if(Nl){var Il=Nl.node().childNodes,Hl=Array.prototype.slice.call(Il);for(Bl=0;Bl<Hl.length;Bl++){var Kl=Hl[Bl];Kl.childNodes.length&&$l.node().appendChild(Kl)}}Fl._draggers&&Fl._draggers.remove(),$l.node().style.background="",$l.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var vu=ls.select(this);if(this.style.visibility==="hidden"||this.style.display==="none"){vu.remove();return}else vu.style({visibility:null,display:null});var hu=this.style.fontFamily;hu&&hu.indexOf('"')!==-1&&vu.style("font-family",hu.replace(xl,Bn));var Yl=this.style.fontWeight;Yl&&(Yl==="normal"||Yl==="400")&&vu.style("font-weight",void 0);var $u=this.style.fontStyle;$u&&$u==="normal"&&vu.style("font-style",void 0);var bu=this.style.fontVariant;bu&&bu==="normal"&&vu.style("font-variant",void 0)}),$l.selectAll(".gradient_filled,.pattern_filled").each(function(){var vu=ls.select(this),hu=this.style.fill;hu&&hu.indexOf("url(")!==-1&&vu.style("fill",hu.replace(xl,Bn));var Yl=this.style.stroke;Yl&&Yl.indexOf("url(")!==-1&&vu.style("stroke",Yl.replace(xl,Bn))}),(Pl==="pdf"||Pl==="eps")&&$l.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),Pl==="svg"&&El&&($l.attr("width",El*Ll),$l.attr("height",El*Ol),$l.attr("viewBox","0 0 "+Ll+" "+Ol));var Gu=new window.XMLSerializer().serializeToString($l.node());return Gu=Sl(Gu),Gu=Al(Gu),Gu=Gu.replace(yl,"'"),Gu}}),U2=a((Mu,yu)=>{var ls=vm(),_t=c2().EventEmitter,Fn=a2();function xl(Bn){var yl=Bn.emitter||new _t,Sl=new Promise(function(Al,Et){var Pl=window.Image,El=Bn.svg,Fl=Bn.format||"png",$l=Bn.canvas,Nl=Bn.scale||1,Ll=Bn.width||300,Ol=Bn.height||150,Bl=Nl*Ll,_l=Nl*Ol,Rl=$l.getContext("2d",{willReadFrequently:!0}),Il=new Pl,Hl,Kl;Fl==="svg"||ls.isSafari()?Kl=Fn.encodeSVG(El):(Hl=Fn.createBlob(El,"svg"),Kl=Fn.createObjectURL(Hl)),$l.width=Bl,$l.height=_l,Il.onload=function(){var Gu;switch(Hl=null,Fn.revokeObjectURL(Kl),Fl!=="svg"&&Rl.drawImage(Il,0,0,Bl,_l),Fl){case"jpeg":Gu=$l.toDataURL("image/jpeg");break;case"png":Gu=$l.toDataURL("image/png");break;case"webp":Gu=$l.toDataURL("image/webp");break;case"svg":Gu=Kl;break;default:var vu="Image format is not jpeg, png, svg or webp.";if(Et(new Error(vu)),!Bn.promise)return yl.emit("error",vu)}Al(Gu),Bn.promise||yl.emit("success",Gu)},Il.onerror=function(Gu){if(Hl=null,Fn.revokeObjectURL(Kl),Et(Gu),!Bn.promise)return yl.emit("error",Gu)},Il.src=Kl});return Bn.promise?Sl:yl}yu.exports=xl}),R2=a((Mu,yu)=>{var ls=rt(),_t=M3(),Fn=Fv(),xl=vm(),Bn=a2(),yl=W2(),Sl=U2(),Al=c().version,Et={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};function Pl(El,Fl){Fl=Fl||{};var $l,Nl,Ll,Ol;xl.isPlainObject(El)?($l=El.data||[],Nl=El.layout||{},Ll=El.config||{},Ol={}):(El=xl.getGraphDiv(El),$l=xl.extendDeep([],El.data),Nl=xl.extendDeep({},El.layout),Ll=El._context,Ol=El._fullLayout||{});function Bl(Vu){return!(Vu in Fl)||xl.validate(Fl[Vu],Et[Vu])}if(!Bl("width")&&Fl.width!==null||!Bl("height")&&Fl.height!==null)throw new Error("Height and width should be pixel values.");if(!Bl("format"))throw new Error("Export format is not "+xl.join2(Et.format.values,", "," or ")+".");var _l={};function Rl(Vu,gu){return xl.coerce(Fl,_l,Et,Vu,gu)}var Il=Rl("format"),Hl=Rl("width"),Kl=Rl("height"),Gu=Rl("scale"),vu=Rl("setBackground"),hu=Rl("imageDataOnly"),Yl=document.createElement("div");Yl.style.position="absolute",Yl.style.left="-5000px",document.body.appendChild(Yl);var $u=xl.extendFlat({},Nl);Hl?$u.width=Hl:Fl.width===null&&ls(Ol.width)&&($u.width=Ol.width),Kl?$u.height=Kl:Fl.height===null&&ls(Ol.height)&&($u.height=Ol.height);var bu=xl.extendFlat({},Ll,{_exportedPlot:!0,staticPlot:!0,setBackground:vu}),Lu=Bn.getRedrawFunc(Yl);function Fu(){return new Promise(function(Vu){setTimeout(Vu,Bn.getDelay(Yl._fullLayout))})}function Du(){return new Promise(function(Vu,gu){var Wu=yl(Yl,Il,Gu),qu=Yl._fullLayout.width,np=Yl._fullLayout.height;function _h(){_t.purge(Yl),document.body.removeChild(Yl)}if(Il==="full-json"){var ap=Fn.graphJson(Yl,!1,"keepdata","object",!0,!0);return ap.version=Al,ap=JSON.stringify(ap),_h(),Vu(hu?ap:Bn.encodeJSON(ap))}if(_h(),Il==="svg")return Vu(hu?Wu:Bn.encodeSVG(Wu));var bp=document.createElement("canvas");bp.id=xl.randstr(),Sl({format:Il,width:qu,height:np,scale:Gu,canvas:bp,svg:Wu,promise:!0}).then(Vu).catch(gu)})}function Hu(Vu){return hu?Vu.replace(Bn.IMAGE_URL_PREFIX,""):Vu}return new Promise(function(Vu,gu){_t.newPlot(Yl,$l,$u,bu).then(Lu).then(Fu).then(Du).then(function(Wu){Vu(Hu(Wu))}).catch(function(Wu){gu(Wu)})})}yu.exports=Pl}),Gy=a((Mu,yu)=>{var ls=vm(),_t=Fv(),Fn=Oy(),xl=fp().dfltConfig,Bn=ls.isPlainObject,yl=Array.isArray,Sl=ls.isArrayOrTypedArray;yu.exports=function(_l,Rl){_l===void 0&&(_l=[]),Rl===void 0&&(Rl={});var Il=Fn.get(),Hl=[],Kl={_context:ls.extendFlat({},xl)},Gu,vu;yl(_l)?(Kl.data=ls.extendDeep([],_l),Gu=_l):(Kl.data=[],Gu=[],Hl.push(Fl("array","data"))),Bn(Rl)?(Kl.layout=ls.extendDeep({},Rl),vu=Rl):(Kl.layout={},vu={},arguments.length>1&&Hl.push(Fl("object","layout"))),_t.supplyDefaults(Kl);for(var hu=Kl._fullData,Yl=Gu.length,$u=0;$u<Yl;$u++){var bu=Gu[$u],Lu=["data",$u];if(!Bn(bu)){Hl.push(Fl("object",Lu));continue}var Fu=hu[$u],Du=Fu.type,Hu=Il.traces[Du].attributes;Hu.type={valType:"enumerated",values:[Du]},Fu.visible===!1&&bu.visible!==!1&&Hl.push(Fl("invisible",Lu)),Al(bu,Fu,Hu,Hl,Lu)}var Vu=Kl._fullLayout,gu=Et(Il,hu);return Al(vu,Vu,gu,Hl,"layout"),Hl.length===0?void 0:Hl};function Al(_l,Rl,Il,Hl,Kl,Gu){Gu=Gu||[];for(var vu=Object.keys(_l),hu=0;hu<vu.length;hu++){var Yl=vu[hu],$u=Gu.slice();$u.push(Yl);var bu=_l[Yl],Lu=Rl[Yl],Fu=Nl(Il,Yl),Du=(Fu||{}).valType,Hu=Du==="info_array",Vu=Du==="colorscale",gu=(Fu||{}).items;if(!$l(Il,Yl))Hl.push(Fl("schema",Kl,$u));else if(Bn(bu)&&Bn(Lu)&&Du!=="any")Al(bu,Lu,Fu,Hl,Kl,$u);else if(Hu&&yl(bu)){bu.length>Lu.length&&Hl.push(Fl("unused",Kl,$u.concat(Lu.length)));var Wu=Lu.length,qu=Array.isArray(gu);qu&&(Wu=Math.min(Wu,gu.length));var np,_h,ap,bp,wp;if(Fu.dimensions===2)for(_h=0;_h<Wu;_h++)if(yl(bu[_h])){bu[_h].length>Lu[_h].length&&Hl.push(Fl("unused",Kl,$u.concat(_h,Lu[_h].length)));var kp=Lu[_h].length;for(np=0;np<(qu?Math.min(kp,gu[_h].length):kp);np++)ap=qu?gu[_h][np]:gu,bp=bu[_h][np],wp=Lu[_h][np],ls.validate(bp,ap)?wp!==bp&&wp!==+bp&&Hl.push(Fl("dynamic",Kl,$u.concat(_h,np),bp,wp)):Hl.push(Fl("value",Kl,$u.concat(_h,np),bp))}else Hl.push(Fl("array",Kl,$u.concat(_h),bu[_h]));else for(_h=0;_h<Wu;_h++)ap=qu?gu[_h]:gu,bp=bu[_h],wp=Lu[_h],ls.validate(bp,ap)?wp!==bp&&wp!==+bp&&Hl.push(Fl("dynamic",Kl,$u.concat(_h),bp,wp)):Hl.push(Fl("value",Kl,$u.concat(_h),bp))}else if(Fu.items&&!Hu&&yl(bu)){var Iu=gu[Object.keys(gu)[0]],Bu=[],Xl,Uu;for(Xl=0;Xl<Lu.length;Xl++){var ep=Lu[Xl]._index||Xl;if(Uu=$u.slice(),Uu.push(ep),Bn(bu[ep])&&Bn(Lu[Xl])){Bu.push(ep);var _u=bu[ep],Wl=Lu[Xl];Bn(_u)&&_u.visible!==!1&&Wl.visible===!1?Hl.push(Fl("invisible",Kl,Uu)):Al(_u,Wl,Iu,Hl,Kl,Uu)}}for(Xl=0;Xl<bu.length;Xl++)Uu=$u.slice(),Uu.push(Xl),Bn(bu[Xl])?Bu.indexOf(Xl)===-1&&Hl.push(Fl("unused",Kl,Uu)):Hl.push(Fl("object",Kl,Uu,bu[Xl]))}else!Bn(bu)&&Bn(Lu)?Hl.push(Fl("object",Kl,$u,bu)):!Sl(bu)&&Sl(Lu)&&!Hu&&!Vu?Hl.push(Fl("array",Kl,$u,bu)):Yl in Rl?ls.validate(bu,Fu)?Fu.valType==="enumerated"&&(Fu.coerceNumber&&bu!==+Lu||!Sl(bu)&&bu!==Lu||String(bu)!==String(Lu))&&Hl.push(Fl("dynamic",Kl,$u,bu,Lu)):Hl.push(Fl("value",Kl,$u,bu)):Hl.push(Fl("unused",Kl,$u,bu))}return Hl}function Et(_l,Rl){for(var Il=_l.layout.layoutAttributes,Hl=0;Hl<Rl.length;Hl++){var Kl=Rl[Hl],Gu=_l.traces[Kl.type],vu=Gu.layoutAttributes;vu&&(Kl.subplot?ls.extendFlat(Il[Gu.attributes.subplot.dflt],vu):ls.extendFlat(Il,vu))}return Il}var Pl={object:function(_l,Rl){var Il;return _l==="layout"&&Rl===""?Il="The layout argument":_l[0]==="data"&&Rl===""?Il="Trace "+_l[1]+" in the data argument":Il=El(_l)+"key "+Rl,Il+" must be linked to an object container"},array:function(_l,Rl){var Il;return _l==="data"?Il="The data argument":Il=El(_l)+"key "+Rl,Il+" must be linked to an array container"},schema:function(_l,Rl){return El(_l)+"key "+Rl+" is not part of the schema"},unused:function(_l,Rl,Il){var Hl=Bn(Il)?"container":"key";return El(_l)+Hl+" "+Rl+" did not get coerced"},dynamic:function(_l,Rl,Il,Hl){return[El(_l)+"key",Rl,"(set to '"+Il+"')","got reset to","'"+Hl+"'","during defaults."].join(" ")},invisible:function(_l,Rl){return(Rl?El(_l)+"item "+Rl:"Trace "+_l[1])+" got defaulted to be not visible"},value:function(_l,Rl,Il){return[El(_l)+"key "+Rl,"is set to an invalid value ("+Il+")"].join(" ")}};function El(_l){return yl(_l)?"In data trace "+_l[1]+", ":"In "+_l+", "}function Fl(_l,Rl,Il,Hl,Kl){Il=Il||"";var Gu,vu;yl(Rl)?(Gu=Rl[0],vu=Rl[1]):(Gu=Rl,vu=null);var hu=Bl(Il),Yl=Pl[_l](Rl,hu,Hl,Kl);return ls.log(Yl),{code:_l,container:Gu,trace:vu,path:Il,astr:hu,msg:Yl}}function $l(_l,Rl){var Il=Ol(Rl),Hl=Il.keyMinusId,Kl=Il.id;return Hl in _l&&_l[Hl]._isSubplotObj&&Kl?!0:Rl in _l}function Nl(_l,Rl){if(Rl in _l)return _l[Rl];var Il=Ol(Rl);return _l[Il.keyMinusId]}var Ll=ls.counterRegex("([a-z]+)");function Ol(_l){var Rl=_l.match(Ll);return{keyMinusId:Rl&&Rl[1],id:Rl&&Rl[2]}}function Bl(_l){if(!yl(_l))return String(_l);for(var Rl="",Il=0;Il<_l.length;Il++){var Hl=_l[Il];typeof Hl=="number"?Rl=Rl.substr(0,Rl.length-1)+"["+Hl+"]":Rl+=Hl,Il<_l.length-1&&(Rl+=".")}return Rl}}),A3=a((Mu,yu)=>{var ls=vm(),_t=a2();function Fn(xl,Bn,yl){var Sl=document.createElement("a"),Al="download"in Sl,Et=new Promise(function(Pl,El){var Fl,$l;if(Al)return Fl=_t.createBlob(xl,yl),$l=_t.createObjectURL(Fl),Sl.href=$l,Sl.download=Bn,document.body.appendChild(Sl),Sl.click(),document.body.removeChild(Sl),_t.revokeObjectURL($l),Fl=null,Pl(Bn);if(ls.isSafari()){var Nl=yl==="svg"?",":";base64,";return _t.octetStream(Nl+encodeURIComponent(xl)),Pl(Bn)}El(new Error("download error"))});return Et}yu.exports=Fn}),T3=a((Mu,yu)=>{var ls=vm(),_t=R2(),Fn=A3();a2();function xl(Bn,yl){var Sl;return ls.isPlainObject(Bn)||(Sl=ls.getGraphDiv(Bn)),yl=yl||{},yl.format=yl.format||"png",yl.width=yl.width||null,yl.height=yl.height||null,yl.imageDataOnly=!0,new Promise(function(Al,Et){Sl&&Sl._snapshotInProgress&&Et(new Error("Snapshotting already in progress.")),Sl&&(Sl._snapshotInProgress=!0);var Pl=_t(Bn,yl),El=yl.filename||Bn.fn||"newplot";El+="."+yl.format.replace("-","."),Pl.then(function(Fl){return Sl&&(Sl._snapshotInProgress=!1),Fn(Fl,El,yl.format)}).then(function(Fl){Al(Fl)}).catch(function(Fl){Sl&&(Sl._snapshotInProgress=!1),Et(Fl)})})}yu.exports=xl}),R3=a(Mu=>{var yu=vm(),ls=yu.isPlainObject,_t=Oy(),Fn=Fv(),xl=mu(),Bn=hv(),yl=fp().dfltConfig;Mu.makeTemplate=function(Ll){Ll=yu.isPlainObject(Ll)?Ll:yu.getGraphDiv(Ll),Ll=yu.extendDeep({_context:yl},{data:Ll.data,layout:Ll.layout}),Fn.supplyDefaults(Ll);var Ol=Ll.data||[],Bl=Ll.layout||{};Bl._basePlotModules=Ll._fullLayout._basePlotModules,Bl._modules=Ll._fullLayout._modules;var _l={data:{},layout:{}};Ol.forEach(function(bu){var Lu={};Et(bu,Lu,El.bind(null,bu));var Fu=yu.coerce(bu,{},xl,"type"),Du=_l.data[Fu];Du||(Du=_l.data[Fu]=[]),Du.push(Lu)}),Et(Bl,_l.layout,Pl.bind(null,Bl)),delete _l.layout.template;var Rl=Bl.template;if(ls(Rl)){var Il=Rl.layout,Hl,Kl,Gu,vu,hu,Yl;ls(Il)&&Sl(Il,_l.layout);var $u=Rl.data;if(ls($u)){for(Kl in _l.data)if(Gu=$u[Kl],Array.isArray(Gu)){for(hu=_l.data[Kl],Yl=hu.length,vu=Gu.length,Hl=0;Hl<Yl;Hl++)Sl(Gu[Hl%vu],hu[Hl]);for(Hl=Yl;Hl<vu;Hl++)hu.push(yu.extendDeep({},Gu[Hl]))}for(Kl in $u)Kl in _l.data||(_l.data[Kl]=yu.extendDeep([],$u[Kl]))}}return _l};function Sl(Ll,Ol){Ll=yu.extendDeep({},Ll);var Bl=Object.keys(Ll).sort(),_l,Rl;function Il(hu,Yl,$u){if(ls(Yl)&&ls(hu))Sl(hu,Yl);else if(Array.isArray(Yl)&&Array.isArray(hu)){var bu=Bn.arrayTemplater({_template:Ll},$u);for(Rl=0;Rl<Yl.length;Rl++){var Lu=Yl[Rl],Fu=bu.newItem(Lu)._template;Fu&&Sl(Fu,Lu)}var Du=bu.defaultItems();for(Rl=0;Rl<Du.length;Rl++)Yl.push(Du[Rl]._template);for(Rl=0;Rl<Yl.length;Rl++)delete Yl[Rl].templateitemname}}for(_l=0;_l<Bl.length;_l++){var Hl=Bl[_l],Kl=Ll[Hl];if(Hl in Ol?Il(Kl,Ol[Hl],Hl):Ol[Hl]=Kl,Al(Hl)===Hl)for(var Gu in Ol){var vu=Al(Gu);Gu!==vu&&vu===Hl&&!(Gu in Ll)&&Il(Kl,Ol[Gu],Hl)}}}function Al(Ll){return Ll.replace(/[0-9]+$/,"")}function Et(Ll,Ol,Bl,_l,Rl){var Il=Rl&&Bl(Rl);for(var Hl in Ll){var Kl=Ll[Hl],Gu=Fl(Ll,Hl,_l),vu=Fl(Ll,Hl,Rl),hu=Bl(vu);if(!hu){var Yl=Al(Hl);Yl!==Hl&&(vu=Fl(Ll,Yl,Rl),hu=Bl(vu))}if(!(Il&&Il===hu)&&!(!hu||hu._noTemplating||hu.valType==="data_array"||hu.arrayOk&&Array.isArray(Kl)))if(!hu.valType&&ls(Kl))Et(Kl,Ol,Bl,Gu,vu);else if(hu._isLinkedToArray&&Array.isArray(Kl))for(var $u=!1,bu=0,Lu={},Fu=0;Fu<Kl.length;Fu++){var Du=Kl[Fu];if(ls(Du)){var Hu=Du.name;if(Hu)Lu[Hu]||(Et(Du,Ol,Bl,Fl(Kl,bu,Gu),Fl(Kl,bu,vu)),bu++,Lu[Hu]=1);else if(!$u){var Vu=Bn.arrayDefaultKey(Hl),gu=Fl(Ll,Vu,_l),Wu=Fl(Kl,bu,Gu);Et(Du,Ol,Bl,Wu,Fl(Kl,bu,vu));var qu=yu.nestedProperty(Ol,Wu),np=yu.nestedProperty(Ol,gu);np.set(qu.get()),qu.set(null),$u=!0}}}else{var _h=yu.nestedProperty(Ol,Gu);_h.set(Kl)}}}function Pl(Ll,Ol){return _t.getLayoutValObject(Ll,yu.nestedProperty({},Ol).parts)}function El(Ll,Ol){return _t.getTraceValObject(Ll,yu.nestedProperty({},Ol).parts)}function Fl(Ll,Ol,Bl){var _l;return Bl?Array.isArray(Ll)?_l=Bl+"["+Ol+"]":_l=Bl+"."+Ol:_l=Ol,_l}Mu.validateTemplate=function(Ll,Ol){var Bl=yu.extendDeep({},{_context:yl,data:Ll.data,layout:Ll.layout}),_l=Bl.layout||{};ls(Ol)||(Ol=_l.template||{});var Rl=Ol.layout,Il=Ol.data,Hl=[];Bl.layout=_l,Bl.layout.template=Ol,Fn.supplyDefaults(Bl);var Kl=Bl._fullLayout,Gu=Bl._fullData,vu={};function hu(gu,Wu){for(var qu in gu)if(qu.charAt(0)!=="_"&&ls(gu[qu])){var np=Al(qu),_h=[],ap;for(ap=0;ap<Wu.length;ap++)_h.push(Fl(gu,qu,Wu[ap])),np!==qu&&_h.push(Fl(gu,np,Wu[ap]));for(ap=0;ap<_h.length;ap++)vu[_h[ap]]=1;hu(gu[qu],_h)}}function Yl(gu,Wu){for(var qu in gu)if(qu.indexOf("defaults")===-1&&ls(gu[qu])){var np=Fl(gu,qu,Wu);vu[np]?Yl(gu[qu],np):Hl.push({code:"unused",path:np})}}if(ls(Rl)?(hu(Kl,["layout"]),Yl(Rl,"layout")):Hl.push({code:"layout"}),!ls(Il))Hl.push({code:"data"});else{for(var $u={},bu,Lu=0;Lu<Gu.length;Lu++){var Fu=Gu[Lu];bu=Fu.type,$u[bu]=($u[bu]||0)+1,Fu._fullInput._template||Hl.push({code:"missing",index:Fu.index,traceType:bu})}for(bu in Il){var Du=Il[bu].length,Hu=$u[bu]||0;Du>Hu?Hl.push({code:"unused",traceType:bu,templateCount:Du,dataCount:Hu}):Hu>Du&&Hl.push({code:"reused",traceType:bu,templateCount:Du,dataCount:Hu})}}function Vu(gu,Wu){for(var qu in gu)if(qu.charAt(0)!=="_"){var np=gu[qu],_h=Fl(gu,qu,Wu);ls(np)?(Array.isArray(gu)&&np._template===!1&&np.templateitemname&&Hl.push({code:"missing",path:_h,templateitemname:np.templateitemname}),Vu(np,_h)):Array.isArray(np)&&$l(np)&&Vu(np,_h)}}if(Vu({data:Gu,layout:Kl},""),Hl.length)return Hl.map(Nl)};function $l(Ll){for(var Ol=0;Ol<Ll.length;Ol++)if(ls(Ll[Ol]))return!0}function Nl(Ll){var Ol;switch(Ll.code){case"data":Ol="The template has no key data.";break;case"layout":Ol="The template has no key layout.";break;case"missing":Ll.path?Ol="There are no templates for item "+Ll.path+" with name "+Ll.templateitemname:Ol="There are no templates for trace "+Ll.index+", of type "+Ll.traceType+".";break;case"unused":Ll.path?Ol="The template item at "+Ll.path+" was not used in constructing the plot.":Ll.dataCount?Ol="Some of the templates of type "+Ll.traceType+" were not used. The template has "+Ll.templateCount+" traces, the data only has "+Ll.dataCount+" of this type.":Ol="The template has "+Ll.templateCount+" traces of type "+Ll.traceType+" but there are none in the data.";break;case"reused":Ol="Some of the templates of type "+Ll.traceType+" were used more than once. The template has "+Ll.templateCount+" traces, the data has "+Ll.dataCount+" of this type.";break}return Ll.msg=Ol,Ll}}),kx=a(Mu=>{var yu=M3();Mu._doPlot=yu._doPlot,Mu.newPlot=yu.newPlot,Mu.restyle=yu.restyle,Mu.relayout=yu.relayout,Mu.redraw=yu.redraw,Mu.update=yu.update,Mu._guiRestyle=yu._guiRestyle,Mu._guiRelayout=yu._guiRelayout,Mu._guiUpdate=yu._guiUpdate,Mu._storeDirectGUIEdit=yu._storeDirectGUIEdit,Mu.react=yu.react,Mu.extendTraces=yu.extendTraces,Mu.prependTraces=yu.prependTraces,Mu.addTraces=yu.addTraces,Mu.deleteTraces=yu.deleteTraces,Mu.moveTraces=yu.moveTraces,Mu.purge=yu.purge,Mu.addFrames=yu.addFrames,Mu.deleteFrames=yu.deleteFrames,Mu.animate=yu.animate,Mu.setPlotConfig=yu.setPlotConfig;var ls=Vp().getGraphDiv,_t=x3().eraseActiveShape;Mu.deleteActiveShape=function(xl){return _t(ls(xl))},Mu.toImage=R2(),Mu.validate=Gy(),Mu.downloadImage=T3();var Fn=R3();Mu.makeTemplate=Fn.makeTemplate,Mu.validateTemplate=Fn.validateTemplate}),F3=a((Mu,yu)=>{var ls=vm(),_t=Gp();yu.exports=function(Fn,xl,Bn,yl){var Sl=yl("x"),Al=yl("y"),Et,Pl=_t.getComponentMethod("calendars","handleTraceDefaults");if(Pl(Fn,xl,["x","y"],Bn),Sl){var El=ls.minRowLength(Sl);Al?Et=Math.min(El,ls.minRowLength(Al)):(Et=El,yl("y0"),yl("dy"))}else{if(!Al)return 0;Et=ls.minRowLength(Al),yl("x0"),yl("dx")}return xl._length=Et,Et}}),P3=a((Mu,yu)=>{var ls=vm().dateTick0,_t=nt(),Fn=_t.ONEWEEK;function xl(Bn,yl){return Bn%Fn===0?ls(yl,1):ls(yl,0)}yu.exports=function(Bn,yl,Sl,Al,Et){if(Et||(Et={x:!0,y:!0}),Et.x){var Pl=Al("xperiod");Pl&&(Al("xperiod0",xl(Pl,yl.xcalendar)),Al("xperiodalignment"))}if(Et.y){var El=Al("yperiod");El&&(Al("yperiod0",xl(El,yl.ycalendar)),Al("yperiodalignment"))}}}),Mx=a((Mu,yu)=>{var ls=["orientation","groupnorm","stackgaps"];yu.exports=function(_t,Fn,xl,Bn){var yl=xl._scatterStackOpts,Sl=Bn("stackgroup");if(Sl){var Al=Fn.xaxis+Fn.yaxis,Et=yl[Al];Et||(Et=yl[Al]={});var Pl=Et[Sl],El=!1;Pl?Pl.traces.push(Fn):(Pl=Et[Sl]={traceIndices:[],traces:[Fn]},El=!0);for(var Fl={orientation:Fn.x&&!Fn.y?"h":"v"},$l=0;$l<ls.length;$l++){var Nl=ls[$l],Ll=Nl+"Found";if(!Pl[Ll]){var Ol=_t[Nl]!==void 0,Bl=Nl==="orientation";if((Ol||El)&&(Pl[Nl]=Bn(Nl,Fl[Nl]),Bl&&(Pl.fillDflt=Pl[Nl]==="h"?"tonextx":"tonexty"),Ol&&(Pl[Ll]=!0,!El&&(delete Pl.traces[0][Nl],Bl))))for(var _l=0;_l<Pl.traces.length-1;_l++){var Rl=Pl.traces[_l];Rl._input.fill!==Rl.fill&&(Rl.fill=Pl.fillDflt)}}}return Pl}}}),q2=a((Mu,yu)=>{var ls=cp(),_t=Yv().hasColorscale,Fn=zy(),xl=cy();yu.exports=function(Bn,yl,Sl,Al,Et,Pl){var El=xl.isBubble(Bn),Fl=(Bn.line||{}).color,$l;if(Pl=Pl||{},Fl&&(Sl=Fl),Et("marker.symbol"),Et("marker.opacity",El?.7:1),Et("marker.size"),Pl.noAngle||(Et("marker.angle"),Pl.noAngleRef||Et("marker.angleref"),Pl.noStandOff||Et("marker.standoff")),Et("marker.color",Sl),_t(Bn,"marker")&&Fn(Bn,yl,Al,Et,{prefix:"marker.",cLetter:"c"}),Pl.noSelect||(Et("selected.marker.color"),Et("unselected.marker.color"),Et("selected.marker.size"),Et("unselected.marker.size")),Pl.noLine||(Fl&&!Array.isArray(Fl)&&yl.marker.color!==Fl?$l=Fl:El?$l=ls.background:$l=ls.defaultLine,Et("marker.line.color",$l),_t(Bn,"marker.line")&&Fn(Bn,yl,Al,Et,{prefix:"marker.line.",cLetter:"c"}),Et("marker.line.width",El?1:0)),El&&(Et("marker.sizeref"),Et("marker.sizemin"),Et("marker.sizemode")),Pl.gradient){var Nl=Et("marker.gradient.type");Nl!=="none"&&Et("marker.gradient.color")}}}),Y2=a((Mu,yu)=>{var ls=vm().isArrayOrTypedArray,_t=Yv().hasColorscale,Fn=zy();yu.exports=function(xl,Bn,yl,Sl,Al,Et){Et||(Et={});var Pl=(xl.marker||{}).color;if(Pl&&Pl._inputArray&&(Pl=Pl._inputArray),Al("line.color",yl),_t(xl,"line"))Fn(xl,Bn,Sl,Al,{prefix:"line.",cLetter:"c"});else{var El=(ls(Pl)?!1:Pl)||yl;Al("line.color",El)}Al("line.width"),Et.noDash||Al("line.dash"),Et.backoff&&Al("line.backoff")}}),Ax=a((Mu,yu)=>{yu.exports=function(ls,_t,Fn){var xl=Fn("line.shape");xl==="spline"&&Fn("line.smoothing")}}),Tx=a((Mu,yu)=>{var ls=vm();yu.exports=function(_t,Fn,xl,Bn,yl){yl=yl||{},Bn("textposition"),ls.coerceFont(Bn,"textfont",yl.font||xl.font,yl),yl.noSelect||(Bn("selected.textfont.color"),Bn("unselected.textfont.color"))}}),Rx=a((Mu,yu)=>{var ls=cp(),_t=vm().isArrayOrTypedArray;function Fn(xl){for(var Bn=ls.interpolate(xl[0][1],xl[1][1],.5),yl=2;yl<xl.length;yl++){var Sl=ls.interpolate(xl[yl-1][1],xl[yl][1],.5);Bn=ls.interpolate(Bn,Sl,xl[yl-1][0]/xl[yl][0])}return Bn}yu.exports=function(xl,Bn,yl,Sl,Al){Al||(Al={});var Et=!1;if(Bn.marker){var Pl=Bn.marker.color,El=(Bn.marker.line||{}).color;Pl&&!_t(Pl)?Et=Pl:El&&!_t(El)&&(Et=El)}var Fl;if(Al.moduleHasFillgradient){var $l=Sl("fillgradient.type");if($l!=="none"){Sl("fillgradient.start"),Sl("fillgradient.stop");var Nl=Sl("fillgradient.colorscale");Nl&&(Fl=Fn(Nl))}}Sl("fillcolor",ls.addOpacity((Bn.line||{}).color||Et||Fl||yl,.5))}}),Fx=a((Mu,yu)=>{var ls=vm(),_t=Gp(),Fn=ey(),xl=_3(),Bn=cy(),yl=F3(),Sl=P3(),Al=Mx(),Et=q2(),Pl=Y2(),El=Ax(),Fl=Tx(),$l=Rx(),Nl=vm().coercePattern;yu.exports=function(Ll,Ol,Bl,_l){function Rl($u,bu){return ls.coerce(Ll,Ol,Fn,$u,bu)}var Il=yl(Ll,Ol,_l,Rl);if(Il||(Ol.visible=!1),!!Ol.visible){Sl(Ll,Ol,_l,Rl),Rl("xhoverformat"),Rl("yhoverformat"),Rl("zorder");var Hl=Al(Ll,Ol,_l,Rl);_l.scattermode==="group"&&Ol.orientation===void 0&&Rl("orientation","v");var Kl=!Hl&&Il<xl.PTS_LINESONLY?"lines+markers":"lines";Rl("text"),Rl("hovertext"),Rl("mode",Kl),Bn.hasMarkers(Ol)&&Et(Ll,Ol,Bl,_l,Rl,{gradient:!0}),Bn.hasLines(Ol)&&(Pl(Ll,Ol,Bl,_l,Rl,{backoff:!0}),El(Ll,Ol,Rl),Rl("connectgaps"),Rl("line.simplify")),Bn.hasText(Ol)&&(Rl("texttemplate"),Fl(Ll,Ol,_l,Rl));var Gu=[];(Bn.hasMarkers(Ol)||Bn.hasText(Ol))&&(Rl("cliponaxis"),Rl("marker.maxdisplayed"),Gu.push("points")),Rl("fill",Hl?Hl.fillDflt:"none"),Ol.fill!=="none"&&($l(Ll,Ol,Bl,Rl,{moduleHasFillgradient:!0}),Bn.hasLines(Ol)||El(Ll,Ol,Rl),Nl(Rl,"fillpattern",Ol.fillcolor,!1));var vu=(Ol.line||{}).color,hu=(Ol.marker||{}).color;(Ol.fill==="tonext"||Ol.fill==="toself")&&Gu.push("fills"),Rl("hoveron",Gu.join("+")||"points"),Ol.hoveron!=="fills"&&Rl("hovertemplate");var Yl=_t.getComponentMethod("errorbars","supplyDefaults");Yl(Ll,Ol,vu||hu||Bl,{axis:"y"}),Yl(Ll,Ol,vu||hu||Bl,{axis:"x",inherit:"y"}),ls.coerceSelectionMarkerOpacity(Ol,Rl)}}}),D3=a((Mu,yu)=>{var ls=By().getAxisGroup;yu.exports=function(_t,Fn,xl,Bn,yl){var Sl=Fn.orientation,Al=Fn[{v:"x",h:"y"}[Sl]+"axis"],Et=ls(xl,Al)+Sl,Pl=xl._alignmentOpts||{},El=Bn("alignmentgroup"),Fl=Pl[Et];Fl||(Fl=Pl[Et]={});var $l=Fl[El];$l?$l.traces.push(Fn):$l=Fl[El]={traces:[Fn],alignmentIndex:Object.keys(Fl).length,offsetGroups:{}};var Nl=Bn("offsetgroup")||"",Ll=$l.offsetGroups,Ol=Ll[Nl];Fn._offsetIndex=0,(yl!=="group"||Nl)&&(Ol||(Ol=Ll[Nl]={offsetIndex:Object.keys(Ll).length}),Fn._offsetIndex=Ol.offsetIndex)}}),L3=a((Mu,yu)=>{var ls=vm(),_t=D3(),Fn=ey();yu.exports=function(xl,Bn){var yl,Sl,Al,Et=Bn.scattermode;function Pl(Ll){return ls.coerce(Sl._input,Sl,Fn,Ll)}if(Bn.scattermode==="group")for(Al=0;Al<xl.length;Al++)Sl=xl[Al],Sl.type==="scatter"&&(yl=Sl._input,_t(yl,Sl,Bn,Pl,Et));for(Al=0;Al<xl.length;Al++){var El=xl[Al];if(El.type==="scatter"){var Fl=El.fill;if(!(Fl==="none"||Fl==="toself")&&(El.opacity=void 0,Fl==="tonexty"||Fl==="tonextx"))for(var $l=Al-1;$l>=0;$l--){var Nl=xl[$l];if(Nl.type==="scatter"&&Nl.xaxis===El.xaxis&&Nl.yaxis===El.yaxis){Nl.opacity=void 0;break}}}}}}),Px=a((Mu,yu)=>{var ls=vm(),_t=n3();yu.exports=function(Fn,xl){function Bn(Sl,Al){return ls.coerce(Fn,xl,_t,Sl,Al)}var yl=xl.barmode==="group";xl.scattermode==="group"&&Bn("scattergap",yl?xl.bargap:.2)}}),O3=a((Mu,yu)=>{var ls=rt(),_t=vm(),Fn=_t.dateTime2ms,xl=_t.incrementMonth,Bn=nt(),yl=Bn.ONEAVGMONTH;yu.exports=function(Sl,Al,Et,Pl){if(Al.type!=="date")return{vals:Pl};var El=Sl[Et+"periodalignment"];if(!El)return{vals:Pl};var Fl=Sl[Et+"period"],$l;if(ls(Fl)){if(Fl=+Fl,Fl<=0)return{vals:Pl}}else if(typeof Fl=="string"&&Fl.charAt(0)==="M"){var Nl=+Fl.substring(1);if(Nl>0&&Math.round(Nl)===Nl)$l=Nl;else return{vals:Pl}}for(var Ll=Al.calendar,Ol=El==="start",Bl=El==="end",_l=Sl[Et+"period0"],Rl=Fn(_l,Ll)||0,Il=[],Hl=[],Kl=[],Gu=Pl.length,vu=0;vu<Gu;vu++){var hu=Pl[vu],Yl,$u,bu;if($l){for(Yl=Math.round((hu-Rl)/($l*yl)),bu=xl(Rl,$l*Yl,Ll);bu>hu;)bu=xl(bu,-$l,Ll);for(;bu<=hu;)bu=xl(bu,$l,Ll);$u=xl(bu,-$l,Ll)}else{for(Yl=Math.round((hu-Rl)/Fl),bu=Rl+Yl*Fl;bu>hu;)bu-=Fl;for(;bu<=hu;)bu+=Fl;$u=bu-Fl}Il[vu]=Ol?$u:Bl?bu:($u+bu)/2,Hl[vu]=$u,Kl[vu]=bu}return{vals:Il,starts:Hl,ends:Kl}}}),_v=a((Mu,yu)=>{var ls=Yv().hasColorscale,_t=Yy(),Fn=cy();yu.exports=function(xl,Bn){Fn.hasLines(Bn)&&ls(Bn,"line")&&_t(xl,Bn,{vals:Bn.line.color,containerStr:"line",cLetter:"c"}),Fn.hasMarkers(Bn)&&(ls(Bn,"marker")&&_t(xl,Bn,{vals:Bn.marker.color,containerStr:"marker",cLetter:"c"}),ls(Bn,"marker.line")&&_t(xl,Bn,{vals:Bn.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}}),I3=a((Mu,yu)=>{var ls=vm();yu.exports=function(_t,Fn){for(var xl=0;xl<_t.length;xl++)_t[xl].i=xl;ls.mergeArray(Fn.text,_t,"tx"),ls.mergeArray(Fn.texttemplate,_t,"txt"),ls.mergeArray(Fn.hovertext,_t,"htx"),ls.mergeArray(Fn.customdata,_t,"data"),ls.mergeArray(Fn.textposition,_t,"tp"),Fn.textfont&&(ls.mergeArrayCastPositive(Fn.textfont.size,_t,"ts"),ls.mergeArray(Fn.textfont.color,_t,"tc"),ls.mergeArray(Fn.textfont.family,_t,"tf"),ls.mergeArray(Fn.textfont.weight,_t,"tw"),ls.mergeArray(Fn.textfont.style,_t,"ty"),ls.mergeArray(Fn.textfont.variant,_t,"tv"),ls.mergeArray(Fn.textfont.textcase,_t,"tC"),ls.mergeArray(Fn.textfont.lineposition,_t,"tE"),ls.mergeArray(Fn.textfont.shadow,_t,"tS"));var Bn=Fn.marker;if(Bn){ls.mergeArrayCastPositive(Bn.size,_t,"ms"),ls.mergeArrayCastPositive(Bn.opacity,_t,"mo"),ls.mergeArray(Bn.symbol,_t,"mx"),ls.mergeArray(Bn.angle,_t,"ma"),ls.mergeArray(Bn.standoff,_t,"mf"),ls.mergeArray(Bn.color,_t,"mc");var yl=Bn.line;Bn.line&&(ls.mergeArray(yl.color,_t,"mlc"),ls.mergeArrayCastPositive(yl.width,_t,"mlw"));var Sl=Bn.gradient;Sl&&Sl.type!=="none"&&(ls.mergeArray(Sl.type,_t,"mgt"),ls.mergeArray(Sl.color,_t,"mgc"))}}}),z3=a((Mu,yu)=>{var ls=vm();yu.exports=function(_t,Fn){ls.isArrayOrTypedArray(Fn.selectedpoints)&&ls.tagSelected(_t,Fn)}}),Dx=a((Mu,yu)=>{var ls=rt(),_t=vm(),Fn=pv(),xl=O3(),Bn=nt().BADNUM,yl=cy(),Sl=_v(),Al=I3(),Et=z3();function Pl(Ol,Bl){var _l=Ol._fullLayout,Rl=Bl._xA=Fn.getFromId(Ol,Bl.xaxis||"x","x"),Il=Bl._yA=Fn.getFromId(Ol,Bl.yaxis||"y","y"),Hl=Rl.makeCalcdata(Bl,"x"),Kl=Il.makeCalcdata(Bl,"y"),Gu=xl(Bl,Rl,"x",Hl),vu=xl(Bl,Il,"y",Kl),hu=Gu.vals,Yl=vu.vals,$u=Bl._length,bu=new Array($u),Lu=Bl.ids,Fu=Ll(Bl,_l,Rl,Il),Du=!1,Hu,Vu,gu,Wu,qu,np;$l(_l,Bl);var _h="x",ap="y",bp;if(Fu)_t.pushUnique(Fu.traceIndices,Bl.index),Hu=Fu.orientation==="v",Hu?(ap="s",bp="x"):(_h="s",bp="y"),qu=Fu.stackgaps==="interpolate";else{var wp=Fl(Bl,$u);El(Ol,Bl,Rl,Il,hu,Yl,wp)}var kp=!!Bl.xperiodalignment,Iu=!!Bl.yperiodalignment;for(Vu=0;Vu<$u;Vu++){var Bu=bu[Vu]={},Xl=ls(hu[Vu]),Uu=ls(Yl[Vu]);Xl&&Uu?(Bu[_h]=hu[Vu],Bu[ap]=Yl[Vu],kp&&(Bu.orig_x=Hl[Vu],Bu.xEnd=Gu.ends[Vu],Bu.xStart=Gu.starts[Vu]),Iu&&(Bu.orig_y=Kl[Vu],Bu.yEnd=vu.ends[Vu],Bu.yStart=vu.starts[Vu])):Fu&&(Hu?Xl:Uu)?(Bu[bp]=Hu?hu[Vu]:Yl[Vu],Bu.gap=!0,qu?(Bu.s=Bn,Du=!0):Bu.s=0):Bu[_h]=Bu[ap]=Bn,Lu&&(Bu.id=String(Lu[Vu]))}if(Al(bu,Bl),Sl(Ol,Bl),Et(bu,Bl),Fu){for(Vu=0;Vu<bu.length;)bu[Vu][bp]===Bn?bu.splice(Vu,1):Vu++;if(_t.sort(bu,function(Jl,Pu){return Jl[bp]-Pu[bp]||Jl.i-Pu.i}),Du){for(Vu=0;Vu<bu.length-1&&bu[Vu].gap;)Vu++;for(np=bu[Vu].s,np||(np=bu[Vu].s=0),gu=0;gu<Vu;gu++)bu[gu].s=np;for(Wu=bu.length-1;Wu>Vu&&bu[Wu].gap;)Wu--;for(np=bu[Wu].s,gu=bu.length-1;gu>Wu;gu--)bu[gu].s=np;for(;Vu<Wu;)if(Vu++,bu[Vu].gap){for(gu=Vu+1;bu[gu].gap;)gu++;for(var ep=bu[Vu-1][bp],_u=bu[Vu-1].s,Wl=(bu[gu].s-_u)/(bu[gu][bp]-ep);Vu<gu;)bu[Vu].s=_u+(bu[Vu][bp]-ep)*Wl,Vu++}}}return bu}function El(Ol,Bl,_l,Rl,Il,Hl,Kl){var Gu=Bl._length,vu=Ol._fullLayout,hu=_l._id,Yl=Rl._id,$u=vu._firstScatter[Nl(Bl)]===Bl.uid,bu=(Ll(Bl,vu,_l,Rl)||{}).orientation,Lu=Bl.fill;_l._minDtick=0,Rl._minDtick=0;var Fu={padded:!0},Du={padded:!0};Kl&&(Fu.ppad=Du.ppad=Kl);var Hu=Gu<2||Il[0]!==Il[Gu-1]||Hl[0]!==Hl[Gu-1];Hu&&(Lu==="tozerox"||Lu==="tonextx"&&($u||bu==="h"))?Fu.tozero=!0:!(Bl.error_y||{}).visible&&(Lu==="tonexty"||Lu==="tozeroy"||!yl.hasMarkers(Bl)&&!yl.hasText(Bl))&&(Fu.padded=!1,Fu.ppad=0),Hu&&(Lu==="tozeroy"||Lu==="tonexty"&&($u||bu==="v"))?Du.tozero=!0:(Lu==="tonextx"||Lu==="tozerox")&&(Du.padded=!1),hu&&(Bl._extremes[hu]=Fn.findExtremes(_l,Il,Fu)),Yl&&(Bl._extremes[Yl]=Fn.findExtremes(Rl,Hl,Du))}function Fl(Ol,Bl){if(yl.hasMarkers(Ol)){var _l=Ol.marker,Rl=1.6*(Ol.marker.sizeref||1),Il;if(Ol.marker.sizemode==="area"?Il=function(hu){return Math.max(Math.sqrt((hu||0)/Rl),3)}:Il=function(hu){return Math.max((hu||0)/Rl,3)},_t.isArrayOrTypedArray(_l.size)){var Hl={type:"linear"};Fn.setConvert(Hl);for(var Kl=Hl.makeCalcdata(Ol.marker,"size"),Gu=new Array(Bl),vu=0;vu<Bl;vu++)Gu[vu]=Il(Kl[vu]);return Gu}else return Il(_l.size)}}function $l(Ol,Bl){var _l=Nl(Bl),Rl=Ol._firstScatter;Rl[_l]||(Rl[_l]=Bl.uid)}function Nl(Ol){var Bl=Ol.stackgroup;return Ol.xaxis+Ol.yaxis+Ol.type+(Bl?"-"+Bl:"")}function Ll(Ol,Bl,_l,Rl){var Il=Ol.stackgroup;if(Il){var Hl=Bl._scatterStackOpts[_l._id+Rl._id][Il],Kl=Hl.orientation==="v"?Rl:_l;if(Kl.type==="linear"||Kl.type==="log")return Hl}}yu.exports={calc:Pl,calcMarkerSize:Fl,calcAxisExpansion:El,setFirstScatter:$l,getStackOpts:Ll}}),zw=a((Mu,yu)=>{yu.exports=_t;var ls=vm().distinctVals;function _t(Fn,xl){this.traces=Fn,this.sepNegVal=xl.sepNegVal,this.overlapNoMerge=xl.overlapNoMerge;for(var Bn=1/0,yl=xl.posAxis._id.charAt(0),Sl=[],Al=0;Al<Fn.length;Al++){for(var Et=Fn[Al],Pl=0;Pl<Et.length;Pl++){var El=Et[Pl],Fl=El.p;Fl===void 0&&(Fl=El[yl]),Fl!==void 0&&Sl.push(Fl)}Et[0]&&Et[0].width1&&(Bn=Math.min(Et[0].width1,Bn))}this.positions=Sl;var $l=ls(Sl);this.distinctPositions=$l.vals,$l.vals.length===1&&Bn!==1/0?this.minDiff=Bn:this.minDiff=Math.min($l.minDiff,Bn);var Nl=(xl.posAxis||{}).type;(Nl==="category"||Nl==="multicategory")&&(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}_t.prototype.put=function(Fn,xl,Bn){var yl=this.getLabel(Fn,xl,Bn),Sl=this.bins[yl]||0;return this.bins[yl]=Sl+Bn,Sl},_t.prototype.get=function(Fn,xl,Bn){var yl=this.getLabel(Fn,xl,Bn);return this.bins[yl]||0},_t.prototype.getLabel=function(Fn,xl,Bn){var yl=Bn<0&&this.sepNegVal?"v":"^",Sl=this.overlapNoMerge?Fn:Math.round(Fn/this.binWidth);return yl+Sl+"g"+xl}}),Lx=a((Mu,yu)=>{var ls=rt(),_t=vm().isArrayOrTypedArray,Fn=nt().BADNUM,xl=Gp(),Bn=pv(),yl=By().getAxisGroup,Sl=zw();function Al(bu,Lu){for(var Fu=Lu.xaxis,Du=Lu.yaxis,Hu=bu._fullLayout,Vu=bu._fullData,gu=bu.calcdata,Wu=[],qu=[],np=0;np<Vu.length;np++){var _h=Vu[np];if(_h.visible===!0&&xl.traceIs(_h,"bar")&&_h.xaxis===Fu._id&&_h.yaxis===Du._id&&(_h.orientation==="h"?Wu.push(gu[np]):qu.push(gu[np]),_h._computePh))for(var ap=bu.calcdata[np],bp=0;bp<ap.length;bp++)typeof ap[bp].ph0=="function"&&(ap[bp].ph0=ap[bp].ph0()),typeof ap[bp].ph1=="function"&&(ap[bp].ph1=ap[bp].ph1())}var wp={xCat:Fu.type==="category"||Fu.type==="multicategory",yCat:Du.type==="category"||Du.type==="multicategory",mode:Hu.barmode,norm:Hu.barnorm,gap:Hu.bargap,groupgap:Hu.bargroupgap};Et(bu,Fu,Du,qu,wp),Et(bu,Du,Fu,Wu,wp)}function Et(bu,Lu,Fu,Du,Hu){if(Du.length){var Vu,gu,Wu,qu,np;switch(Fl(Fu,Du),Hu.mode){case"overlay":$l(bu,Lu,Fu,Du,Hu);break;case"group":for(Vu=[],gu=[],Wu=0;Wu<Du.length;Wu++)qu=Du[Wu],np=qu[0].trace,np.offset===void 0?gu.push(qu):Vu.push(qu);gu.length&&Nl(bu,Lu,Fu,gu,Hu),Vu.length&&$l(bu,Lu,Fu,Vu,Hu);break;case"stack":case"relative":for(Vu=[],gu=[],Wu=0;Wu<Du.length;Wu++)qu=Du[Wu],np=qu[0].trace,np.base===void 0?gu.push(qu):Vu.push(qu);El(gu),gu.length&&Ll(bu,Lu,Fu,gu,Hu),Vu.length&&$l(bu,Lu,Fu,Vu,Hu);break}Pl(Du),Yl(Du,Lu)}}function Pl(bu){var Lu,Fu,Du,Hu,Vu,gu,Wu;for(Lu=0;Lu<bu.length;Lu++)Fu=bu[Lu],Du=Fu[0].trace,Hu=Fu[0].t,Hu.cornerradiusvalue===void 0&&(Vu=Du.marker?Du.marker.cornerradius:void 0,Vu!==void 0&&(gu=ls(Vu)?+Vu:+Vu.slice(0,-1),Wu=ls(Vu)?"px":"%",Hu.cornerradiusvalue=gu,Hu.cornerradiusform=Wu))}function El(bu){if(!(bu.length<2)){var Lu,Fu,Du,Hu,Vu,gu,Wu;for(Lu=0;Lu<bu.length&&(Fu=bu[Lu],Du=Fu[0].trace,Vu=Du.marker?Du.marker.cornerradius:void 0,Vu===void 0);Lu++);if(Vu!==void 0)for(gu=ls(Vu)?+Vu:+Vu.slice(0,-1),Wu=ls(Vu)?"px":"%",Lu=0;Lu<bu.length;Lu++)Fu=bu[Lu],Hu=Fu[0].t,Hu.cornerradiusvalue=gu,Hu.cornerradiusform=Wu}}function Fl(bu,Lu){var Fu,Du;for(Fu=0;Fu<Lu.length;Fu++){var Hu=Lu[Fu],Vu=Hu[0].trace,gu=Vu.type==="funnel"?Vu._base:Vu.base,Wu,qu=Vu.orientation==="h"?Vu.xcalendar:Vu.ycalendar,np=bu.type==="category"||bu.type==="multicategory"?function(){return null}:bu.d2c;if(_t(gu)){for(Du=0;Du<Math.min(gu.length,Hu.length);Du++)Wu=np(gu[Du],0,qu),ls(Wu)?(Hu[Du].b=+Wu,Hu[Du].hasB=1):Hu[Du].b=0;for(;Du<Hu.length;Du++)Hu[Du].b=0}else{Wu=np(gu,0,qu);var _h=ls(Wu);for(Wu=_h?Wu:0,Du=0;Du<Hu.length;Du++)Hu[Du].b=Wu,_h&&(Hu[Du].hasB=1)}}}function $l(bu,Lu,Fu,Du,Hu){for(var Vu=0;Vu<Du.length;Vu++){var gu=Du[Vu],Wu=new Sl([gu],{posAxis:Lu,sepNegVal:!1,overlapNoMerge:!Hu.norm});Ol(bu,Lu,Wu,Hu),Hu.norm?(Kl(Wu),vu(Fu,Wu,Hu)):Il(Fu,Wu)}}function Nl(bu,Lu,Fu,Du,Hu){var Vu=new Sl(Du,{posAxis:Lu,sepNegVal:!1,overlapNoMerge:!Hu.norm});Ol(bu,Lu,Vu,Hu),Gu(Vu,Lu),Hu.norm?(Kl(Vu),vu(Fu,Vu,Hu)):Il(Fu,Vu)}function Ll(bu,Lu,Fu,Du,Hu){var Vu=new Sl(Du,{posAxis:Lu,sepNegVal:Hu.mode==="relative",overlapNoMerge:!(Hu.norm||Hu.mode==="stack"||Hu.mode==="relative")});Ol(bu,Lu,Vu,Hu),Hl(Fu,Vu,Hu);for(var gu=0;gu<Du.length;gu++)for(var Wu=Du[gu],qu=Wu[0].t.offsetindex,np=0;np<Wu.length;np++){var _h=Wu[np];if(_h.s!==Fn){var ap=_h.b+_h.s===Vu.get(_h.p,qu,_h.s);ap&&(_h._outmost=!0)}}Hu.norm&&vu(Fu,Vu,Hu)}function Ol(bu,Lu,Fu,Du){var Hu=bu._fullLayout,Vu=Fu.positions,gu=Fu.distinctPositions,Wu=Fu.minDiff,qu=Fu.traces,np=qu.length,_h=Vu.length!==gu.length,ap=Wu*(1-Du.gap),bp,wp,kp,Iu;if(Lu._id==="angularaxis")bp=ap,wp=bp*(1-(Du.groupgap||0)),kp=-wp/2;else{var Bu=yl(Hu,Lu._id)+qu[0][0].trace.orientation;Iu=Hu._alignmentOpts[Bu]||{}}for(var Xl=0;Xl<np;Xl++){var Uu=qu[Xl],ep=Uu[0].trace;if(Lu._id!=="angularaxis"){var _u=Iu[ep.alignmentgroup]||{},Wl=Object.keys(_u.offsetGroups||{}).length;Wl?bp=ap/Wl:bp=_h?ap/np:ap,wp=bp*(1-(Du.groupgap||0)),Wl?kp=((2*ep._offsetIndex+1-Wl)*bp-wp)/2:kp=_h?((2*Xl+1-np)*bp-wp)/2:-wp/2}var Jl=Uu[0].t;Jl.barwidth=wp,Jl.offsetindex=ep._offsetIndex||0,Jl.poffset=kp,Jl.bargroupwidth=ap,Jl.bardelta=Wu}Fu.binWidth=qu[0][0].t.barwidth/100,Bl(Fu),_l(Lu,Fu),Lu._id==="angularaxis"?Rl(Lu,Fu):Rl(Lu,Fu,_h)}function Bl(bu){var Lu=bu.traces,Fu,Du;for(Fu=0;Fu<Lu.length;Fu++){var Hu=Lu[Fu],Vu=Hu[0],gu=Vu.trace,Wu=Vu.t,qu=gu._offset||gu.offset,np=Wu.poffset,_h;if(_t(qu)){for(_h=Array.prototype.slice.call(qu,0,Hu.length),Du=0;Du<_h.length;Du++)ls(_h[Du])||(_h[Du]=np);for(Du=_h.length;Du<Hu.length;Du++)_h.push(np);Wu.poffset=_h}else qu!==void 0&&(Wu.poffset=qu);var ap=gu._width||gu.width,bp=Wu.barwidth;if(_t(ap)){var wp=Array.prototype.slice.call(ap,0,Hu.length);for(Du=0;Du<wp.length;Du++)ls(wp[Du])||(wp[Du]=bp);for(Du=wp.length;Du<Hu.length;Du++)wp.push(bp);if(Wu.barwidth=wp,qu===void 0){for(_h=[],Du=0;Du<Hu.length;Du++)_h.push(np+(bp-wp[Du])/2);Wu.poffset=_h}}else ap!==void 0&&(Wu.barwidth=ap,qu===void 0&&(Wu.poffset=np+(bp-ap)/2))}}function _l(bu,Lu){for(var Fu=Lu.traces,Du=$u(bu),Hu=0;Hu<Fu.length;Hu++)for(var Vu=Fu[Hu],gu=Vu[0].t,Wu=gu.poffset,qu=_t(Wu),np=gu.barwidth,_h=_t(np),ap=0;ap<Vu.length;ap++){var bp=Vu[ap],wp=bp.w=_h?np[ap]:np;bp.p===void 0&&(bp.p=bp[Du],bp["orig_"+Du]=bp[Du]);var kp=(qu?Wu[ap]:Wu)+wp/2;bp[Du]=bp.p+kp}}function Rl(bu,Lu,Fu){var Du=Lu.traces,Hu=Lu.minDiff,Vu=Hu/2;Bn.minDtick(bu,Lu.minDiff,Lu.distinctPositions[0],Fu);for(var gu=0;gu<Du.length;gu++){var Wu=Du[gu],qu=Wu[0],np=qu.trace,_h=[],ap,bp,wp,kp;for(kp=0;kp<Wu.length;kp++)ap=Wu[kp],bp=ap.p-Vu,wp=ap.p+Vu,_h.push(bp,wp);if(np.width||np.offset){var Iu=qu.t,Bu=Iu.poffset,Xl=Iu.barwidth,Uu=_t(Bu),ep=_t(Xl);for(kp=0;kp<Wu.length;kp++){ap=Wu[kp];var _u=Uu?Bu[kp]:Bu,Wl=ep?Xl[kp]:Xl;bp=ap.p+_u,wp=bp+Wl,_h.push(bp,wp)}}np._extremes[bu._id]=Bn.findExtremes(bu,_h,{padded:!1})}}function Il(bu,Lu){for(var Fu=Lu.traces,Du=$u(bu),Hu=0;Hu<Fu.length;Hu++){for(var Vu=Fu[Hu],gu=Vu[0].trace,Wu=gu.type==="scatter",qu=gu.orientation==="v",np=[],_h=!1,ap=0;ap<Vu.length;ap++){var bp=Vu[ap],wp=Wu?0:bp.b,kp=Wu?qu?bp.y:bp.x:wp+bp.s;bp[Du]=kp,np.push(kp),bp.hasB&&np.push(wp),(!bp.hasB||!bp.b)&&(_h=!0)}gu._extremes[bu._id]=Bn.findExtremes(bu,np,{tozero:_h,padded:!0})}}function Hl(bu,Lu,Fu){var Du=$u(bu),Hu=Lu.traces,Vu,gu,Wu,qu,np,_h,ap;for(qu=0;qu<Hu.length;qu++)if(Vu=Hu[qu],gu=Vu[0].trace,gu.type==="funnel")for(ap=Vu[0].t.offsetindex,np=0;np<Vu.length;np++)_h=Vu[np],_h.s!==Fn&&Lu.put(_h.p,ap,-.5*_h.s);for(qu=0;qu<Hu.length;qu++){Vu=Hu[qu],gu=Vu[0].trace,Wu=gu.type==="funnel",ap=gu.type==="barpolar"?0:Vu[0].t.offsetindex;var bp=[];for(np=0;np<Vu.length;np++)if(_h=Vu[np],_h.s!==Fn){var wp;Wu?wp=_h.s:wp=_h.s+_h.b;var kp=Lu.put(_h.p,ap,wp),Iu=kp+wp;_h.b=kp,_h[Du]=Iu,Fu.norm||(bp.push(Iu),_h.hasB&&bp.push(kp))}Fu.norm||(gu._extremes[bu._id]=Bn.findExtremes(bu,bp,{tozero:!0,padded:!0}))}}function Kl(bu){for(var Lu=bu.traces,Fu=0;Fu<Lu.length;Fu++)for(var Du=Lu[Fu],Hu=Du[0].t.offsetindex,Vu=0;Vu<Du.length;Vu++){var gu=Du[Vu];gu.s!==Fn&&bu.put(gu.p,Hu,gu.b+gu.s)}}function Gu(bu,Lu){for(var Fu=bu.traces,Du=0;Du<Fu.length;Du++){var Hu=Fu[Du],Vu=Hu[0].trace,gu=Hu[0].t.offsetindex;if(Vu.base===void 0)for(var Wu=new Sl([Hu],{posAxis:Lu,sepNegVal:!0,overlapNoMerge:!0}),qu=0;qu<Hu.length;qu++){var np=Hu[qu];if(np.p!==Fn){var _h=Wu.put(np.p,gu,np.b+np.s);_h&&(np.b=_h)}}}}function vu(bu,Lu,Fu){var Du=Lu.traces,Hu=$u(bu),Vu=Fu.norm==="fraction"?1:100,gu=Vu/1e9,Wu=bu.l2c(bu.c2l(0)),qu=Fu.mode==="stack"?Vu:Wu;function np(Jl){return ls(bu.c2l(Jl))&&(Jl<Wu-gu||Jl>qu+gu||!ls(Wu))}for(var _h=0;_h<Du.length;_h++){for(var ap=Du[_h],bp=ap[0].t.offsetindex,wp=ap[0].trace,kp=[],Iu=!1,Bu=!1,Xl=0;Xl<ap.length;Xl++){var Uu=ap[Xl];if(Uu.s!==Fn){var ep=Math.abs(Vu/Lu.get(Uu.p,bp,Uu.s));Uu.b*=ep,Uu.s*=ep;var _u=Uu.b,Wl=_u+Uu.s;Uu[Hu]=Wl,kp.push(Wl),Bu=Bu||np(Wl),Uu.hasB&&(kp.push(_u),Bu=Bu||np(_u)),(!Uu.hasB||!Uu.b)&&(Iu=!0)}}wp._extremes[bu._id]=Bn.findExtremes(bu,kp,{tozero:Iu,padded:Bu})}}function hu(bu,Lu,Fu,Du){for(var Hu=$u(Du),Vu=0;Vu<bu.length;Vu++)for(var gu=bu[Vu],Wu=0;Wu<gu.length;Wu++){var qu=gu[Wu],np=qu[Hu];qu._sMin=Lu[np],qu._sMax=Fu[np]}}function Yl(bu,Lu){var Fu=$u(Lu),Du={},Hu,Vu,gu,Wu=1/0,qu=-1/0;for(Hu=0;Hu<bu.length;Hu++)for(gu=bu[Hu],Vu=0;Vu<gu.length;Vu++){var np=gu[Vu].p;ls(np)&&(Wu=Math.min(Wu,np),qu=Math.max(qu,np))}var _h=1e4/(qu-Wu),ap=Du.round=function(Nu){return String(Math.round(_h*(Nu-Wu)))},bp={},wp={},kp=bu.some(function(Nu){var tp=Nu[0].trace;return"marker"in tp&&tp.marker.cornerradius});for(Hu=0;Hu<bu.length;Hu++){gu=bu[Hu],gu[0].t.extents=Du;var Iu=gu[0].t.poffset,Bu=_t(Iu);for(Vu=0;Vu<gu.length;Vu++){var Xl=gu[Vu],Uu=Xl[Fu]-Xl.w/2;if(ls(Uu)){var ep=Xl[Fu]+Xl.w/2,_u=ap(Xl.p);Du[_u]?Du[_u]=[Math.min(Uu,Du[_u][0]),Math.max(ep,Du[_u][1])]:Du[_u]=[Uu,ep]}if(Xl.p0=Xl.p+(Bu?Iu[Vu]:Iu),Xl.p1=Xl.p0+Xl.w,Xl.s0=Xl.b,Xl.s1=Xl.s0+Xl.s,kp){var Wl=Math.min(Xl.s0,Xl.s1)||0,Jl=Math.max(Xl.s0,Xl.s1)||0,Pu=Xl[Fu];bp[Pu]=Pu in bp?Math.min(bp[Pu],Wl):Wl,wp[Pu]=Pu in wp?Math.max(wp[Pu],Jl):Jl}}}kp&&hu(bu,bp,wp,Lu)}function $u(bu){return bu._id.charAt(0)}yu.exports={crossTraceCalc:Al,setGroupPositions:Et}}),Ox=a((Mu,yu)=>{var ls=Dx(),_t=Lx().setGroupPositions;function Fn(yl,Sl){for(var Al=Sl.xaxis,Et=Sl.yaxis,Pl=yl._fullLayout,El=yl._fullData,Fl=yl.calcdata,$l=[],Nl=[],Ll=0;Ll<El.length;Ll++){var Ol=El[Ll];Ol.visible===!0&&Ol.type==="scatter"&&Ol.xaxis===Al._id&&Ol.yaxis===Et._id&&(Ol.orientation==="h"?$l.push(Fl[Ll]):Ol.orientation==="v"&&Nl.push(Fl[Ll]))}var Bl={mode:Pl.scattermode,gap:Pl.scattergap};_t(yl,Al,Et,Nl,Bl),_t(yl,Et,Al,$l,Bl)}yu.exports=function(yl,Sl){yl._fullLayout.scattermode==="group"&&Fn(yl,Sl);var Al=Sl.xaxis,Et=Sl.yaxis,Pl=Al._id+Et._id,El=yl._fullLayout._scatterStackOpts[Pl];if(El){var Fl=yl.calcdata,$l,Nl,Ll,Ol,Bl,_l,Rl,Il,Hl,Kl,Gu,vu,hu,Yl,$u;for(var bu in El){Kl=El[bu];var Lu=Kl.traceIndices;if(Lu.length){for(Gu=Kl.stackgaps==="interpolate",vu=Kl.groupnorm,Kl.orientation==="v"?(hu="x",Yl="y"):(hu="y",Yl="x"),$u=new Array(Lu.length),$l=0;$l<$u.length;$l++)$u[$l]=!1;_l=Fl[Lu[0]];var Fu=new Array(_l.length);for($l=0;$l<_l.length;$l++)Fu[$l]=_l[$l][hu];for($l=1;$l<Lu.length;$l++){for(Bl=Fl[Lu[$l]],Nl=Ll=0;Nl<Bl.length;Nl++){for(Rl=Bl[Nl][hu];Rl>Fu[Ll]&&Ll<Fu.length;Ll++)xl(Bl,Nl,Fu[Ll],$l,$u,Gu,hu),Nl++;if(Rl!==Fu[Ll]){for(Ol=0;Ol<$l;Ol++)xl(Fl[Lu[Ol]],Ll,Rl,Ol,$u,Gu,hu);Fu.splice(Ll,0,Rl)}Ll++}for(;Ll<Fu.length;Ll++)xl(Bl,Nl,Fu[Ll],$l,$u,Gu,hu),Nl++}var Du=Fu.length;for(Nl=0;Nl<_l.length;Nl++){for(Il=_l[Nl][Yl]=_l[Nl].s,$l=1;$l<Lu.length;$l++)Bl=Fl[Lu[$l]],Bl[0].trace._rawLength=Bl[0].trace._length,Bl[0].trace._length=Du,Il+=Bl[Nl].s,Bl[Nl][Yl]=Il;if(vu)for(Hl=(vu==="fraction"?Il:Il/100)||1,$l=0;$l<Lu.length;$l++){var Hu=Fl[Lu[$l]][Nl];Hu[Yl]/=Hl,Hu.sNorm=Hu.s/Hl}}for($l=0;$l<Lu.length;$l++){Bl=Fl[Lu[$l]];var Vu=Bl[0].trace,gu=ls.calcMarkerSize(Vu,Vu._rawLength),Wu=Array.isArray(gu);if(gu&&$u[$l]||Wu){var qu=gu;for(gu=new Array(Du),Nl=0;Nl<Du;Nl++)gu[Nl]=Bl[Nl].gap?0:Wu?qu[Bl[Nl].i]:qu}var np=new Array(Du),_h=new Array(Du);for(Nl=0;Nl<Du;Nl++)np[Nl]=Bl[Nl].x,_h[Nl]=Bl[Nl].y;ls.calcAxisExpansion(yl,Vu,Al,Et,np,_h,gu),Bl[0].t.orientation=Kl.orientation}}}}};function xl(yl,Sl,Al,Et,Pl,El,Fl){Pl[Et]=!0;var $l={i:null,gap:!0,s:0};if($l[Fl]=Al,yl.splice(Sl,0,$l),Sl&&Al===yl[Sl-1][Fl]){var Nl=yl[Sl-1];$l.s=Nl.s,$l.i=Nl.i,$l.gap=Nl.gap}else El&&($l.s=Bn(yl,Sl,Al,Fl));Sl||(yl[0].t=yl[1].t,yl[0].trace=yl[1].trace,delete yl[1].t,delete yl[1].trace)}function Bn(yl,Sl,Al,Et){var Pl=yl[Sl-1],El=yl[Sl+1];return El?Pl?Pl.s+(El.s-Pl.s)*(Al-Pl[Et])/(El[Et]-Pl[Et]):El.s:Pl.s}}),Nw=a((Mu,yu)=>{var ls=V1(),_t=nt(),Fn=_t.BADNUM,xl=_t.LOG_CLIP,Bn=xl+.5,yl=xl-.5,Sl=vm(),Al=Sl.segmentsIntersect,Et=Sl.constrain,Pl=_3();yu.exports=function(El,Fl){var $l=Fl.trace||{},Nl=Fl.xaxis,Ll=Fl.yaxis,Ol=Nl.type==="log",Bl=Ll.type==="log",_l=Nl._length,Rl=Ll._length,Il=Fl.backoff,Hl=$l.marker,Kl=Fl.connectGaps,Gu=Fl.baseTolerance,vu=Fl.shape,hu=vu==="linear",Yl=$l.fill&&$l.fill!=="none",$u=[],bu=Pl.minTolerance,Lu=El.length,Fu=new Array(Lu),Du=0,Hu,Vu,gu,Wu,qu,np,_h,ap,bp,wp,kp,Iu,Bu,Xl,Uu,ep;function _u(Xp){var c0=El[Xp];if(!c0)return!1;var i0=Fl.linearized?Nl.l2p(c0.x):Nl.c2p(c0.x),s0=Fl.linearized?Ll.l2p(c0.y):Ll.c2p(c0.y);if(i0===Fn){if(Ol&&(i0=Nl.c2p(c0.x,!0)),i0===Fn)return!1;Bl&&s0===Fn&&(i0*=Math.abs(Nl._m*Rl*(Nl._m>0?Bn:yl)/(Ll._m*_l*(Ll._m>0?Bn:yl)))),i0*=1e3}if(s0===Fn){if(Bl&&(s0=Ll.c2p(c0.y,!0)),s0===Fn)return!1;s0*=1e3}return[i0,s0]}function Wl(Xp,c0,i0,s0){var M0=i0-Xp,A0=s0-c0,R0=.5-Xp,rm=.5-c0,wm=M0*M0+A0*A0,Bm=M0*R0+A0*rm;if(Bm>0&&Bm<wm){var Vm=R0*A0-rm*M0;if(Vm*Vm<wm)return!0}}var Jl,Pu;function Nu(Xp,c0){var i0=Xp[0]/_l,s0=Xp[1]/Rl,M0=Math.max(0,-i0,i0-1,-s0,s0-1);return M0&&Jl!==void 0&&Wl(i0,s0,Jl,Pu)&&(M0=0),M0&&c0&&Wl(i0,s0,c0[0]/_l,c0[1]/Rl)&&(M0=0),(1+Pl.toleranceGrowth*M0)*Gu}function tp(Xp,c0){var i0=Xp[0]-c0[0],s0=Xp[1]-c0[1];return Math.sqrt(i0*i0+s0*s0)}var up=Pl.maxScreensAway,dp=-_l*up,Ap=_l*(1+up),Op=-Rl*up,Zp=Rl*(1+up),u0=[[dp,Op,Ap,Op],[Ap,Op,Ap,Zp],[Ap,Zp,dp,Zp],[dp,Zp,dp,Op]],r0,e0,Cp,Mp,sp,Ip;function Jp(Xp,c0){for(var i0=[],s0=0,M0=0;M0<4;M0++){var A0=u0[M0],R0=Al(Xp[0],Xp[1],c0[0],c0[1],A0[0],A0[1],A0[2],A0[3]);R0&&(!s0||Math.abs(R0.x-i0[0][0])>1||Math.abs(R0.y-i0[0][1])>1)&&(R0=[R0.x,R0.y],s0&&tp(R0,Xp)<tp(i0[0],Xp)?i0.unshift(R0):i0.push(R0),s0++)}return i0}function a0(Xp){if(Xp[0]<dp||Xp[0]>Ap||Xp[1]<Op||Xp[1]>Zp)return[Et(Xp[0],dp,Ap),Et(Xp[1],Op,Zp)]}function v0(Xp,c0){if(Xp[0]===c0[0]&&(Xp[0]===dp||Xp[0]===Ap)||Xp[1]===c0[1]&&(Xp[1]===Op||Xp[1]===Zp))return!0}function h0(Xp,c0){var i0=[],s0=a0(Xp),M0=a0(c0);return s0&&M0&&v0(s0,M0)||(s0&&i0.push(s0),M0&&i0.push(M0)),i0}function w0(Xp,c0,i0){return function(s0,M0){var A0=a0(s0),R0=a0(M0),rm=[];if(A0&&R0&&v0(A0,R0))return rm;A0&&rm.push(A0),R0&&rm.push(R0);var wm=2*Sl.constrain((s0[Xp]+M0[Xp])/2,c0,i0)-((A0||s0)[Xp]+(R0||M0)[Xp]);if(wm){var Bm;A0&&R0?Bm=wm>0==A0[Xp]>R0[Xp]?A0:R0:Bm=A0||R0,Bm[Xp]+=wm}return rm}}var E0;vu==="linear"||vu==="spline"?E0=Jp:vu==="hv"||vu==="vh"?E0=h0:vu==="hvh"?E0=w0(0,dp,Ap):vu==="vhv"&&(E0=w0(1,Op,Zp));function _0(Xp,c0){var i0=c0[0]-Xp[0],s0=(c0[1]-Xp[1])/i0,M0=(Xp[1]*c0[0]-c0[1]*Xp[0])/i0;return M0>0?[s0>0?dp:Ap,Zp]:[s0>0?Ap:dp,Op]}function $0(Xp){var c0=Xp[0],i0=Xp[1],s0=c0===Fu[Du-1][0],M0=i0===Fu[Du-1][1];if(!(s0&&M0))if(Du>1){var A0=c0===Fu[Du-2][0],R0=i0===Fu[Du-2][1];s0&&(c0===dp||c0===Ap)&&A0?R0?Du--:Fu[Du-1]=Xp:M0&&(i0===Op||i0===Zp)&&R0?A0?Du--:Fu[Du-1]=Xp:Fu[Du++]=Xp}else Fu[Du++]=Xp}function f0(Xp){Fu[Du-1][0]!==Xp[0]&&Fu[Du-1][1]!==Xp[1]&&$0([Cp,Mp]),$0(Xp),sp=null,Cp=Mp=0}var q0=Sl.isArrayOrTypedArray(Hl);function J0(Xp){if(Xp&&Il&&(Xp.i=Hu,Xp.d=El,Xp.trace=$l,Xp.marker=q0?Hl[Xp.i]:Hl,Xp.backoff=Il),Jl=Xp[0]/_l,Pu=Xp[1]/Rl,r0=Xp[0]<dp?dp:Xp[0]>Ap?Ap:0,e0=Xp[1]<Op?Op:Xp[1]>Zp?Zp:0,r0||e0){if(!Du)Fu[Du++]=[r0||Xp[0],e0||Xp[1]];else if(sp){var c0=E0(sp,Xp);c0.length>1&&(f0(c0[0]),Fu[Du++]=c0[1])}else Ip=E0(Fu[Du-1],Xp)[0],Fu[Du++]=Ip;var i0=Fu[Du-1];r0&&e0&&(i0[0]!==r0||i0[1]!==e0)?(sp&&(Cp!==r0&&Mp!==e0?$0(Cp&&Mp?_0(sp,Xp):[Cp||r0,Mp||e0]):Cp&&Mp&&$0([Cp,Mp])),$0([r0,e0])):Cp-r0&&Mp-e0&&$0([r0||Cp,e0||Mp]),sp=Xp,Cp=r0,Mp=e0}else sp&&f0(E0(sp,Xp)[0]),Fu[Du++]=Xp}for(Hu=0;Hu<Lu;Hu++)if(Vu=_u(Hu),!!Vu){for(Du=0,sp=null,J0(Vu),Hu++;Hu<Lu;Hu++){if(Wu=_u(Hu),!Wu){if(Kl)continue;break}if(!hu||!Fl.simplify){J0(Wu);continue}var V0=_u(Hu+1);if(wp=tp(Wu,Vu),!(!(Yl&&(Du===0||Du===Lu-1))&&wp<Nu(Wu,V0)*bu)){for(ap=[(Wu[0]-Vu[0])/wp,(Wu[1]-Vu[1])/wp],qu=Vu,kp=wp,Iu=Xl=Uu=0,_h=!1,gu=Wu,Hu++;Hu<El.length;Hu++){if(np=V0,V0=_u(Hu+1),!np){if(Kl)continue;break}if(bp=[np[0]-Vu[0],np[1]-Vu[1]],ep=bp[0]*ap[1]-bp[1]*ap[0],Xl=Math.min(Xl,ep),Uu=Math.max(Uu,ep),Uu-Xl>Nu(np,V0))break;gu=np,Bu=bp[0]*ap[0]+bp[1]*ap[1],Bu>kp?(kp=Bu,Wu=np,_h=!1):Bu<Iu&&(Iu=Bu,qu=np,_h=!0)}if(_h?(J0(Wu),gu!==qu&&J0(qu)):(qu!==Vu&&J0(qu),gu!==Wu&&J0(Wu)),J0(gu),Hu>=El.length||!np)break;J0(np),Vu=np}}sp&&$0([Cp||sp[0],Mp||sp[1]]),$u.push(Fu.slice(0,Du))}var nm=vu.slice(vu.length-1);if(Il&&nm!=="h"&&nm!=="v"){for(var Ep=!1,$p=-1,Zu=[],lp=0;lp<$u.length;lp++)for(var mp=0;mp<$u[lp].length-1;mp++){var Tp=$u[lp][mp],Lp=$u[lp][mp+1],Up=ls.applyBackoff(Lp,Tp);(Up[0]!==Lp[0]||Up[1]!==Lp[1])&&(Ep=!0),Zu[$p+1]||($p++,Zu[$p]=[Tp,[Up[0],Up[1]]])}return Ep?Zu:$u}return $u}}),s2=a((Mu,yu)=>{var ls={tonextx:1,tonexty:1,tonext:1};yu.exports=function(_t,Fn,xl){var Bn,yl,Sl,Al,Et,Pl={},El=!1,Fl=-1,$l=0,Nl=-1;for(yl=0;yl<xl.length;yl++)Bn=xl[yl][0].trace,Sl=Bn.stackgroup||"",Sl?Sl in Pl?Et=Pl[Sl]:(Et=Pl[Sl]=$l,$l++):Bn.fill in ls&&Nl>=0?Et=Nl:(Et=Nl=$l,$l++),Et<Fl&&(El=!0),Bn._groupIndex=Fl=Et;var Ll=xl.slice();El&&Ll.sort(function(Bl,_l){var Rl=Bl[0].trace,Il=_l[0].trace;return Rl._groupIndex-Il._groupIndex||Rl.index-Il.index});var Ol={};for(yl=0;yl<Ll.length;yl++)Bn=Ll[yl][0].trace,Sl=Bn.stackgroup||"",Bn.visible===!0?(Bn._nexttrace=null,Bn.fill in ls&&(Al=Ol[Sl],Bn._prevtrace=Al||null,Al&&(Al._nexttrace=Bn)),Bn._ownfill=Bn.fill&&(Bn.fill.substr(0,6)==="tozero"||Bn.fill==="toself"||Bn.fill.substr(0,2)==="to"&&!Bn._prevtrace),Ol[Sl]=Bn):Bn._prevtrace=Bn._nexttrace=Bn._ownfill=null;return Ll}}),Ix=a((Mu,yu)=>{var ls=g(),_t=Gp(),Fn=vm(),xl=Fn.ensureSingle,Bn=Fn.identity,yl=V1(),Sl=cy(),Al=Nw(),Et=s2(),Pl=S3().tester;yu.exports=function(Nl,Ll,Ol,Bl,_l,Rl){var Il,Hl,Kl=!_l,Gu=!!_l&&_l.duration>0,vu=Et(Nl,Ll,Ol);if(Il=Bl.selectAll("g.trace").data(vu,function(Yl){return Yl[0].trace.uid}),Il.enter().append("g").attr("class",function(Yl){return"trace scatter trace"+Yl[0].trace.uid}).style("stroke-miterlimit",2),Il.order(),El(Nl,Il,Ll),Gu){Rl&&(Hl=Rl());var hu=ls.transition().duration(_l.duration).ease(_l.easing).each("end",function(){Hl&&Hl()}).each("interrupt",function(){Hl&&Hl()});hu.each(function(){Bl.selectAll("g.trace").each(function(Yl,$u){Fl(Nl,$u,Ll,Yl,vu,this,_l)})})}else Il.each(function(Yl,$u){Fl(Nl,$u,Ll,Yl,vu,this,_l)});Kl&&Il.exit().remove(),Bl.selectAll("path:not([d])").remove()};function El(Nl,Ll,Ol){Ll.each(function(Bl){var _l=xl(ls.select(this),"g","fills");yl.setClipUrl(_l,Ol.layerClipId,Nl);var Rl=Bl[0].trace,Il=[];Rl._ownfill&&Il.push("_ownFill"),Rl._nexttrace&&Il.push("_nextFill");var Hl=_l.selectAll("g").data(Il,Bn);Hl.enter().append("g"),Hl.exit().each(function(Kl){Rl[Kl]=null}).remove(),Hl.order().each(function(Kl){Rl[Kl]=xl(ls.select(this),"path","js-fill")})})}function Fl(Nl,Ll,Ol,Bl,_l,Rl,Il){var Hl=Nl._context.staticPlot,Kl;$l(Nl,Ll,Ol,Bl,_l);var Gu=!!Il&&Il.duration>0;function vu(f0){return Gu?f0.transition():f0}var hu=Ol.xaxis,Yl=Ol.yaxis,$u=Bl[0].trace,bu=$u.line,Lu=ls.select(Rl),Fu=xl(Lu,"g","errorbars"),Du=xl(Lu,"g","lines"),Hu=xl(Lu,"g","points"),Vu=xl(Lu,"g","text");if(_t.getComponentMethod("errorbars","plot")(Nl,Fu,Ol,Il),$u.visible!==!0)return;vu(Lu).style("opacity",$u.opacity);var gu,Wu,qu=$u.fill.charAt($u.fill.length-1);qu!=="x"&&qu!=="y"&&(qu="");var np,_h;qu==="y"?(np=1,_h=Yl.c2p(0,!0)):qu==="x"&&(np=0,_h=hu.c2p(0,!0)),Bl[0][Ol.isRangePlot?"nodeRangePlot3":"node3"]=Lu;var ap="",bp=[],wp=$u._prevtrace,kp=null,Iu=null;wp&&(ap=wp._prevRevpath||"",Wu=wp._nextFill,bp=wp._ownPolygons,kp=wp._fillsegments,Iu=wp._fillElement);var Bu,Xl,Uu="",ep="",_u,Wl,Jl,Pu,Nu,tp,up=[];$u._polygons=[];var dp=[],Ap=[],Op=Fn.noop;if(gu=$u._ownFill,Sl.hasLines($u)||$u.fill!=="none"){Wu&&Wu.datum(Bl),["hv","vh","hvh","vhv"].indexOf(bu.shape)!==-1?(_u=yl.steps(bu.shape),Wl=yl.steps(bu.shape.split("").reverse().join(""))):bu.shape==="spline"?_u=Wl=function(f0){var q0=f0[f0.length-1];return f0.length>1&&f0[0][0]===q0[0]&&f0[0][1]===q0[1]?yl.smoothclosed(f0.slice(1),bu.smoothing):yl.smoothopen(f0,bu.smoothing)}:_u=Wl=function(f0){return"M"+f0.join("L")},Jl=function(f0){return Wl(f0.reverse())},Ap=Al(Bl,{xaxis:hu,yaxis:Yl,trace:$u,connectGaps:$u.connectgaps,baseTolerance:Math.max(bu.width||1,3)/4,shape:bu.shape,backoff:bu.backoff,simplify:bu.simplify,fill:$u.fill}),dp=new Array(Ap.length);var Zp=0;for(Kl=0;Kl<Ap.length;Kl++){var u0,r0=Ap[Kl];!u0||!qu?(u0=r0.slice(),dp[Zp]=u0,Zp++):u0.push.apply(u0,r0)}$u._fillElement=null,$u._fillExclusionElement=Iu,$u._fillsegments=dp.slice(0,Zp),dp=$u._fillsegments,Ap.length&&(Pu=Ap[0][0].slice(),Nu=Ap[Ap.length-1],tp=Nu[Nu.length-1].slice()),Op=function(f0){return function(q0){if(Bu=_u(q0),Xl=Jl(q0),Uu?qu?(Uu+="L"+Bu.substr(1),ep=Xl+("L"+ep.substr(1))):(Uu+="Z"+Bu,ep=Xl+"Z"+ep):(Uu=Bu,ep=Xl),Sl.hasLines($u)){var J0=ls.select(this);if(J0.datum(Bl),f0)vu(J0.style("opacity",0).attr("d",Bu).call(yl.lineGroupStyle)).style("opacity",1);else{var V0=vu(J0);V0.attr("d",Bu),yl.singleLineStyle(Bl,V0)}}}}}var e0=Du.selectAll(".js-line").data(Ap);vu(e0.exit()).style("opacity",0).remove(),e0.each(Op(!1)),e0.enter().append("path").classed("js-line",!0).style("vector-effect",Hl?"none":"non-scaling-stroke").call(yl.lineGroupStyle).each(Op(!0)),yl.setClipUrl(e0,Ol.layerClipId,Nl);function Cp(f0){vu(f0).attr("d","M0,0Z")}var Mp=function(){var f0=new Array(dp.length);for(Kl=0;Kl<dp.length;Kl++)f0[Kl]=Pl(dp[Kl]);return f0},sp=function(f0){var q0,J0;if(!f0||f0.length===0)for(q0=new Array(dp.length),J0=0;J0<dp.length;J0++){var V0=dp[J0][0].slice(),nm=dp[J0][dp[J0].length-1].slice();V0[np]=nm[np]=_h;var Ep=[nm,V0],$p=Ep.concat(dp[J0]);q0[J0]=Pl($p)}else{for(q0=new Array(f0.length-1+dp.length),J0=0;J0<f0.length-1;J0++)q0[J0]=Pl(f0[J0]);var Zu=f0[f0.length-1].slice();for(Zu.reverse(),J0=0;J0<dp.length;J0++)q0[f0.length-1+J0]=Pl(dp[J0].concat(Zu))}return q0};Ap.length?(gu?(gu.datum(Bl),Pu&&tp&&(qu?(Pu[np]=tp[np]=_h,vu(gu).attr("d","M"+tp+"L"+Pu+"L"+Uu.substr(1)).call(yl.singleFillStyle,Nl),up=sp(null)):(vu(gu).attr("d",Uu+"Z").call(yl.singleFillStyle,Nl),up=Mp())),$u._polygons=up,$u._fillElement=gu):Wu&&($u.fill.substr(0,6)==="tonext"&&Uu&&ap?($u.fill==="tonext"?(vu(Wu).attr("d",Uu+"Z"+ap+"Z").call(yl.singleFillStyle,Nl),up=Mp(),$u._polygons=up.concat(bp)):(vu(Wu).attr("d",Uu+"L"+ap.substr(1)+"Z").call(yl.singleFillStyle,Nl),up=sp(kp),$u._polygons=up),$u._fillElement=Wu):Cp(Wu)),$u._prevRevpath=ep):(gu?Cp(gu):Wu&&Cp(Wu),$u._prevRevpath=null),$u._ownPolygons=up;function Ip(f0){return f0.filter(function(q0){return!q0.gap&&q0.vis})}function Jp(f0){return f0.filter(function(q0){return q0.vis})}function a0(f0){return f0.filter(function(q0){return!q0.gap})}function v0(f0){return f0.id}function h0(f0){if(f0.ids)return v0}function w0(){return!1}function E0(f0,q0,J0){var V0,nm,Ep,$p=J0[0].trace,Zu=Sl.hasMarkers($p),lp=Sl.hasText($p),mp=h0($p),Tp=w0,Lp=w0;if(Zu||lp){var Up=Bn,Xp=$p.stackgroup,c0=Xp&&Nl._fullLayout._scatterStackOpts[hu._id+Yl._id][Xp].stackgaps==="infer zero";$p.marker.maxdisplayed||$p._needsCull?Up=c0?Jp:Ip:Xp&&!c0&&(Up=a0),Zu&&(Tp=Up),lp&&(Lp=Up)}nm=f0.selectAll("path.point"),V0=nm.data(Tp,mp);var i0=V0.enter().append("path").classed("point",!0);Gu&&i0.call(yl.pointStyle,$p,Nl).call(yl.translatePoints,hu,Yl).style("opacity",0).transition().style("opacity",1),V0.order();var s0;Zu&&(s0=yl.makePointStyleFns($p)),V0.each(function(M0){var A0=ls.select(this),R0=vu(A0);Ep=yl.translatePoint(M0,R0,hu,Yl),Ep?(yl.singlePointStyle(M0,R0,$p,s0,Nl),Ol.layerClipId&&yl.hideOutsideRangePoint(M0,R0,hu,Yl,$p.xcalendar,$p.ycalendar),$p.customdata&&A0.classed("plotly-customdata",M0.data!==null&&M0.data!==void 0)):R0.remove()}),Gu?V0.exit().transition().style("opacity",0).remove():V0.exit().remove(),nm=q0.selectAll("g"),V0=nm.data(Lp,mp),V0.enter().append("g").classed("textpoint",!0).append("text"),V0.order(),V0.each(function(M0){var A0=ls.select(this),R0=vu(A0.select("text"));Ep=yl.translatePoint(M0,R0,hu,Yl),Ep?Ol.layerClipId&&yl.hideOutsideRangePoint(M0,A0,hu,Yl,$p.xcalendar,$p.ycalendar):A0.remove()}),V0.selectAll("text").call(yl.textPointStyle,$p,Nl).each(function(M0){var A0=hu.c2p(M0.x),R0=Yl.c2p(M0.y);ls.select(this).selectAll("tspan.line").each(function(){vu(ls.select(this)).attr({x:A0,y:R0})})}),V0.exit().remove()}Hu.datum(Bl),Vu.datum(Bl),E0(Hu,Vu,Bl);var _0=$u.cliponaxis===!1,$0=_0?null:Ol.layerClipId;yl.setClipUrl(Hu,$0,Nl),yl.setClipUrl(Vu,$0,Nl)}function $l(Nl,Ll,Ol,Bl,_l){var Rl=Ol.xaxis,Il=Ol.yaxis,Hl=ls.extent(Fn.simpleMap(Rl.range,Rl.r2c)),Kl=ls.extent(Fn.simpleMap(Il.range,Il.r2c)),Gu=Bl[0].trace;if(Sl.hasMarkers(Gu)){var vu=Gu.marker.maxdisplayed;if(vu!==0){var hu=Bl.filter(function(Lu){return Lu.x>=Hl[0]&&Lu.x<=Hl[1]&&Lu.y>=Kl[0]&&Lu.y<=Kl[1]}),Yl=Math.ceil(hu.length/vu),$u=0;_l.forEach(function(Lu,Fu){var Du=Lu[0].trace;Sl.hasMarkers(Du)&&Du.marker.maxdisplayed>0&&Fu<Ll&&$u++});var bu=Math.round($u*Yl/3+Math.floor($u/3)*Yl/7.1);Bl.forEach(function(Lu){delete Lu.vis}),hu.forEach(function(Lu,Fu){Math.round((Fu+bu)%Yl)===0&&(Lu.vis=!0)})}}}}),N3=a((Mu,yu)=>{yu.exports={container:"marker",min:"cmin",max:"cmax"}}),zx=a((Mu,yu)=>{var ls=pv();yu.exports=function(_t,Fn,xl){var Bn={},yl={_fullLayout:xl},Sl=ls.getFromTrace(yl,Fn,"x"),Al=ls.getFromTrace(yl,Fn,"y"),Et=_t.orig_x;Et===void 0&&(Et=_t.x);var Pl=_t.orig_y;return Pl===void 0&&(Pl=_t.y),Bn.xLabel=ls.tickText(Sl,Sl.c2l(Et),!0).text,Bn.yLabel=ls.tickText(Al,Al.c2l(Pl),!0).text,Bn}}),B3=a((Mu,yu)=>{var ls=g(),_t=V1(),Fn=Gp();function xl(Al){var Et=ls.select(Al).selectAll("g.trace.scatter");Et.style("opacity",function(Pl){return Pl[0].trace.opacity}),Et.selectAll("g.points").each(function(Pl){var El=ls.select(this),Fl=Pl.trace||Pl[0].trace;Bn(El,Fl,Al)}),Et.selectAll("g.text").each(function(Pl){var El=ls.select(this),Fl=Pl.trace||Pl[0].trace;yl(El,Fl,Al)}),Et.selectAll("g.trace path.js-line").call(_t.lineGroupStyle),Et.selectAll("g.trace path.js-fill").call(_t.fillGroupStyle,Al,!1),Fn.getComponentMethod("errorbars","style")(Et)}function Bn(Al,Et,Pl){_t.pointStyle(Al.selectAll("path.point"),Et,Pl)}function yl(Al,Et,Pl){_t.textPointStyle(Al.selectAll("text"),Et,Pl)}function Sl(Al,Et,Pl){var El=Et[0].trace;El.selectedpoints?(_t.selectedPointStyle(Pl.selectAll("path.point"),El),_t.selectedTextStyle(Pl.selectAll("text"),El)):(Bn(Pl,El,Al),yl(Pl,El,Al))}yu.exports={style:xl,stylePoints:Bn,styleText:yl,styleOnSelect:Sl}}),Bw=a((Mu,yu)=>{var ls=cp(),_t=cy();yu.exports=function(Fn,xl){var Bn,yl;if(Fn.mode==="lines")return Bn=Fn.line.color,Bn&&ls.opacity(Bn)?Bn:Fn.fillcolor;if(Fn.mode==="none")return Fn.fill?Fn.fillcolor:"";var Sl=xl.mcc||(Fn.marker||{}).color,Al=xl.mlcc||((Fn.marker||{}).line||{}).color;return yl=Sl&&ls.opacity(Sl)?Sl:Al&&ls.opacity(Al)&&(xl.mlw||((Fn.marker||{}).line||{}).width)?Al:"",yl?ls.opacity(yl)<.3?ls.addOpacity(yl,.3):yl:(Bn=(Fn.line||{}).color,Bn&&ls.opacity(Bn)&&_t.hasLines(Fn)&&Fn.line.width?Bn:Fn.fillcolor)}}),Nx=a((Mu,yu)=>{var ls=vm(),_t=My(),Fn=Gp(),xl=Bw(),Bn=cp(),yl=ls.fillText;yu.exports=function(Sl,Al,Et,Pl){var El=Sl.cd,Fl=El[0].trace,$l=Sl.xa,Nl=Sl.ya,Ll=$l.c2p(Al),Ol=Nl.c2p(Et),Bl=[Ll,Ol],_l=Fl.hoveron||"",Rl=Fl.mode.indexOf("markers")!==-1?3:.5,Il=!!Fl.xperiodalignment,Hl=!!Fl.yperiodalignment;if(_l.indexOf("points")!==-1){var Kl=function(ap){if(Il){var bp=$l.c2p(ap.xStart),wp=$l.c2p(ap.xEnd);return Ll>=Math.min(bp,wp)&&Ll<=Math.max(bp,wp)?0:1/0}var kp=Math.max(3,ap.mrc||0),Iu=1-1/kp,Bu=Math.abs($l.c2p(ap.x)-Ll);return Bu<kp?Iu*Bu/kp:Bu-kp+Iu},Gu=function(ap){if(Hl){var bp=Nl.c2p(ap.yStart),wp=Nl.c2p(ap.yEnd);return Ol>=Math.min(bp,wp)&&Ol<=Math.max(bp,wp)?0:1/0}var kp=Math.max(3,ap.mrc||0),Iu=1-1/kp,Bu=Math.abs(Nl.c2p(ap.y)-Ol);return Bu<kp?Iu*Bu/kp:Bu-kp+Iu},vu=function(ap){var bp=Math.max(Rl,ap.mrc||0),wp=$l.c2p(ap.x)-Ll,kp=Nl.c2p(ap.y)-Ol;return Math.max(Math.sqrt(wp*wp+kp*kp)-bp,1-Rl/bp)},hu=_t.getDistanceFunction(Pl,Kl,Gu,vu);if(_t.getClosest(El,hu,Sl),Sl.index!==!1){var Yl=El[Sl.index],$u=$l.c2p(Yl.x,!0),bu=Nl.c2p(Yl.y,!0),Lu=Yl.mrc||1;Sl.index=Yl.i;var Fu=El[0].t.orientation,Du=Fu&&(Yl.sNorm||Yl.s),Hu=Fu==="h"?Du:Yl.orig_x!==void 0?Yl.orig_x:Yl.x,Vu=Fu==="v"?Du:Yl.orig_y!==void 0?Yl.orig_y:Yl.y;return ls.extendFlat(Sl,{color:xl(Fl,Yl),x0:$u-Lu,x1:$u+Lu,xLabelVal:Hu,y0:bu-Lu,y1:bu+Lu,yLabelVal:Vu,spikeDistance:vu(Yl),hovertemplate:Fl.hovertemplate}),yl(Yl,Fl,Sl),Fn.getComponentMethod("errorbars","hoverInfo")(Yl,Fl,Sl),[Sl]}}function gu(ap){if(!ap)return!1;var bp=ap.node();try{var wp=new DOMPoint(Bl[0],Bl[1]);return bp.isPointInFill(wp)}catch{var kp=bp.ownerSVGElement.createSVGPoint();return kp.x=Bl[0],kp.y=Bl[1],bp.isPointInFill(kp)}}function Wu(ap){var bp,wp=[],kp=1/0,Iu=-1/0,Bu=1/0,Xl=-1/0,Uu;for(bp=0;bp<ap.length;bp++){var ep=ap[bp];ep.contains(Bl)&&(wp.push(ep),Bu=Math.min(Bu,ep.ymin),Xl=Math.max(Xl,ep.ymax))}if(wp.length===0)return null;Bu=Math.max(Bu,0),Xl=Math.min(Xl,Nl._length),Uu=(Bu+Xl)/2;var _u,Wl,Jl,Pu,Nu,tp,up;for(bp=0;bp<wp.length;bp++)for(Wl=wp[bp].pts,_u=1;_u<Wl.length;_u++)tp=Wl[_u-1][1],up=Wl[_u][1],tp>Uu!=up>=Uu&&(Pu=Wl[_u-1][0],Nu=Wl[_u][0],up-tp&&(Jl=Pu+(Nu-Pu)*(Uu-tp)/(up-tp),kp=Math.min(kp,Jl),Iu=Math.max(Iu,Jl)));return kp=Math.max(kp,0),Iu=Math.min(Iu,$l._length),{x0:kp,x1:Iu,y0:Uu,y1:Uu}}if(_l.indexOf("fills")!==-1&&Fl._fillElement){var qu=gu(Fl._fillElement)&&!gu(Fl._fillExclusionElement);if(qu){var np=Wu(Fl._polygons);np===null&&(np={x0:Bl[0],x1:Bl[0],y0:Bl[1],y1:Bl[1]});var _h=Bn.defaultLine;return Bn.opacity(Fl.fillcolor)?_h=Fl.fillcolor:Bn.opacity((Fl.line||{}).color)&&(_h=Fl.line.color),ls.extendFlat(Sl,{distance:Sl.maxHoverDistance,x0:np.x0,x1:np.x1,y0:np.y0,y1:np.y1,color:_h,hovertemplate:!1}),delete Sl.index,Fl.text&&!ls.isArrayOrTypedArray(Fl.text)?Sl.text=String(Fl.text):Sl.text=Fl.name,[Sl]}}}}),G3=a((Mu,yu)=>{var ls=cy();yu.exports=function(_t,Fn){var xl=_t.cd,Bn=_t.xaxis,yl=_t.yaxis,Sl=[],Al=xl[0].trace,Et,Pl,El,Fl,$l=!ls.hasMarkers(Al)&&!ls.hasText(Al);if($l)return[];if(Fn===!1)for(Et=0;Et<xl.length;Et++)xl[Et].selected=0;else for(Et=0;Et<xl.length;Et++)Pl=xl[Et],El=Bn.c2p(Pl.x),Fl=yl.c2p(Pl.y),Pl.i!==null&&Fn.contains([El,Fl],!1,Et,_t)?(Sl.push({pointNumber:Pl.i,x:Bn.c2d(Pl.x),y:yl.c2d(Pl.y)}),Pl.selected=1):Pl.selected=0;return Sl}}),$3=a((Mu,yu)=>{yu.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}}),Gw=a((Mu,yu)=>{var ls=Gp().traceIs,_t=h2();yu.exports=function(Sl,Al,Et,Pl){Et("autotypenumbers",Pl.autotypenumbersDflt);var El=Et("type",(Pl.splomStash||{}).type);El==="-"&&(Fn(Al,Pl.data),Al.type==="-"?Al.type="linear":Sl.type=Al.type)};function Fn(Sl,Al){if(Sl.type==="-"){var Et=Sl._id,Pl=Et.charAt(0),El;Et.indexOf("scene")!==-1&&(Et=Pl);var Fl=xl(Al,Et,Pl);if(Fl){if(Fl.type==="histogram"&&Pl==={v:"y",h:"x"}[Fl.orientation||"v"]){Sl.type="linear";return}var $l=Pl+"calendar",Nl=Fl[$l],Ll={noMultiCategory:!ls(Fl,"cartesian")||ls(Fl,"noMultiCategory")};if(Fl.type==="box"&&Fl._hasPreCompStats&&Pl==={h:"x",v:"y"}[Fl.orientation||"v"]&&(Ll.noMultiCategory=!0),Ll.autotypenumbers=Sl.autotypenumbers,yl(Fl,Pl)){var Ol=Bn(Fl),Bl=[];for(El=0;El<Al.length;El++){var _l=Al[El];!ls(_l,"box-violin")||(_l[Pl+"axis"]||Pl)!==Et||(_l[Ol]!==void 0?Bl.push(_l[Ol][0]):_l.name!==void 0?Bl.push(_l.name):Bl.push("text"),_l[$l]!==Nl&&(Nl=void 0))}Sl.type=_t(Bl,Nl,Ll)}else if(Fl.type==="splom"){var Rl=Fl.dimensions,Il=Rl[Fl._axesDim[Et]];Il.visible&&(Sl.type=_t(Il.values,Nl,Ll))}else Sl.type=_t(Fl[Pl]||[Fl[Pl+"0"]],Nl,Ll)}}}function xl(Sl,Al,Et){for(var Pl=0;Pl<Sl.length;Pl++){var El=Sl[Pl];if(El.type==="splom"&&El._length>0&&(El["_"+Et+"axes"]||{})[Al]||(El[Et+"axis"]||Et)===Al&&(yl(El,Et)||(El[Et]||[]).length||El[Et+"0"]))return El}}function Bn(Sl){return{v:"x",h:"y"}[Sl.orientation||"v"]}function yl(Sl,Al){var Et=Bn(Sl),Pl=ls(Sl,"box-violin"),El=ls(Sl._fullInput||{},"candlestick");return Pl&&!El&&Al===Et&&Sl[Et]===void 0&&Sl[Et+"0"]===void 0}}),Bx=a((Mu,yu)=>{var ls=wl().isTypedArraySpec;function _t(Fn,xl){var Bn=xl.dataAttr||Fn._id.charAt(0),yl={},Sl,Al,Et;if(xl.axData)Sl=xl.axData;else for(Sl=[],Al=0;Al<xl.data.length;Al++){var Pl=xl.data[Al];Pl[Bn+"axis"]===Fn._id&&Sl.push(Pl)}for(Al=0;Al<Sl.length;Al++){var El=Sl[Al][Bn];for(Et=0;Et<El.length;Et++){var Fl=El[Et];Fl!=null&&(yl[Fl]=1)}}return Object.keys(yl)}yu.exports=function(Fn,xl,Bn,yl){if(xl.type==="category"){var Sl=Fn.categoryarray,Al=Array.isArray(Sl)&&Sl.length>0||ls(Sl),Et;Al&&(Et="array");var Pl=Bn("categoryorder",Et),El;Pl==="array"&&(El=Bn("categoryarray")),!Al&&Pl==="array"&&(Pl=xl.categoryorder="trace"),Pl==="trace"?xl._initialCategories=[]:Pl==="array"?xl._initialCategories=El.slice():(El=_t(xl,yl).sort(),Pl==="category ascending"?xl._initialCategories=El:Pl==="category descending"&&(xl._initialCategories=El.reverse()))}}}),$w=a((Mu,yu)=>{var ls=zl().mix,_t=Ju(),Fn=vm();yu.exports=function(xl,Bn,yl,Sl){Sl=Sl||{};var Al=Sl.dfltColor;function Et(Yl,$u){return Fn.coerce2(xl,Bn,Sl.attributes,Yl,$u)}var Pl=Et("linecolor",Al),El=Et("linewidth"),Fl=yl("showline",Sl.showLine||!!Pl||!!El);Fl||(delete Bn.linecolor,delete Bn.linewidth);var $l=ls(Al,Sl.bgColor,Sl.blend||_t.lightFraction).toRgbString(),Nl=Et("gridcolor",$l),Ll=Et("gridwidth"),Ol=Et("griddash"),Bl=yl("showgrid",Sl.showGrid||!!Nl||!!Ll||!!Ol);if(Bl||(delete Bn.gridcolor,delete Bn.gridwidth,delete Bn.griddash),Sl.hasMinor){var _l=ls(Bn.gridcolor,Sl.bgColor,67).toRgbString(),Rl=Et("minor.gridcolor",_l),Il=Et("minor.gridwidth",Bn.gridwidth||1),Hl=Et("minor.griddash",Bn.griddash||"solid"),Kl=yl("minor.showgrid",!!Rl||!!Il||!!Hl);Kl||(delete Bn.minor.gridcolor,delete Bn.minor.gridwidth,delete Bn.minor.griddash)}if(!Sl.noZeroLine){Et("zerolinelayer");var Gu=Et("zerolinecolor",Al),vu=Et("zerolinewidth"),hu=yl("zeroline",Sl.showGrid||!!Gu||!!vu);hu||(delete Bn.zerolinelayer,delete Bn.zerolinecolor,delete Bn.zerolinewidth)}}}),Gx=a((Mu,yu)=>{var ls=rt(),_t=Gp(),Fn=vm(),xl=hv(),Bn=Kv(),yl=Sv(),Sl=o3(),Al=Iy(),Et=sy(),Pl=ly(),El=Bx(),Fl=$w(),$l=c3(),Nl=l3(),Ll=A1().WEEKDAY_PATTERN,Ol=A1().HOUR_PATTERN;yu.exports=function(Il,Hl,Kl,Gu,vu){var hu=Gu.letter,Yl=Gu.font||{},$u=Gu.splomStash||{},bu=Kl("visible",!Gu.visibleDflt),Lu=Hl._template||{},Fu=Hl.type||Lu.type||"-",Du;if(Fu==="date"){var Hu=_t.getComponentMethod("calendars","handleDefaults");Hu(Il,Hl,"calendar",Gu.calendar),Gu.noTicklabelmode||(Du=Kl("ticklabelmode"))}!Gu.noTicklabelindex&&(Fu==="date"||Fu==="linear")&&Kl("ticklabelindex");var Vu="";(!Gu.noTicklabelposition||Fu==="multicategory")&&(Vu=Fn.coerce(Il,Hl,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:Du==="period"?["outside","inside"]:hu==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),Gu.noTicklabeloverflow||Kl("ticklabeloverflow",Vu.indexOf("inside")!==-1?"hide past domain":Fu==="category"||Fu==="multicategory"?"allow":"hide past div"),Nl(Hl,vu),$l(Il,Hl,Kl,Gu),El(Il,Hl,Kl,Gu),Gu.noHover||(Fu!=="category"&&Kl("hoverformat"),Gu.noUnifiedhovertitle||Kl("unifiedhovertitle.text"));var gu=Kl("color"),Wu=gu!==yl.color.dflt?gu:Yl.color,qu=$u.label||vu._dfltTitle[hu];if(Pl(Il,Hl,Kl,Fu,Gu),!bu)return Hl;Kl("title.text",qu),Fn.coerceFont(Kl,"title.font",Yl,{overrideDflt:{size:Fn.bigFont(Yl.size),color:Wu}}),Sl(Il,Hl,Kl,Fu);var np=Gu.hasMinor;if(np&&(xl.newContainer(Hl,"minor"),Sl(Il,Hl,Kl,Fu,{isMinor:!0})),Et(Il,Hl,Kl,Fu,Gu),Al(Il,Hl,Kl,Gu),np){var _h=Gu.isMinor;Gu.isMinor=!0,Al(Il,Hl,Kl,Gu),Gu.isMinor=_h}Fl(Il,Hl,Kl,{dfltColor:gu,bgColor:Gu.bgColor,showGrid:Gu.showGrid,hasMinor:np,attributes:yl}),np&&!Hl.minor.ticks&&!Hl.minor.showgrid&&delete Hl.minor,(Hl.showline||Hl.ticks)&&Kl("mirror");var ap=Fu==="multicategory";if(!Gu.noTickson&&(Fu==="category"||ap)&&(Hl.ticks||Hl.showgrid)&&(ap?(Kl("tickson","boundaries"),delete Hl.ticklabelposition):Kl("tickson")),ap){var bp=Kl("showdividers");bp&&(Kl("dividercolor"),Kl("dividerwidth"))}if(Fu==="date")if(Bn(Il,Hl,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:Bl}),!Hl.rangebreaks.length)delete Hl.rangebreaks;else{for(var wp=0;wp<Hl.rangebreaks.length;wp++)if(Hl.rangebreaks[wp].pattern===Ll){Hl._hasDayOfWeekBreaks=!0;break}if(Nl(Hl,vu),vu._has("scattergl")||vu._has("splom"))for(var kp=0;kp<Gu.data.length;kp++){var Iu=Gu.data[kp];(Iu.type==="scattergl"||Iu.type==="splom")&&(Iu.visible=!1,Fn.warn(Iu.type+" traces do not work on axes with rangebreaks. Setting trace "+Iu.index+" to `visible: false`."))}}return Hl};function Bl(Il,Hl,Kl){function Gu(Hu,Vu){return Fn.coerce(Il,Hl,yl.rangebreaks,Hu,Vu)}var vu=Gu("enabled");if(vu){var hu=Gu("bounds");if(hu&&hu.length>=2){var Yl="",$u,bu;if(hu.length===2){for($u=0;$u<2;$u++)if(bu=Rl(hu[$u]),bu){Yl=Ll;break}}var Lu=Gu("pattern",Yl);if(Lu===Ll)for($u=0;$u<2;$u++)bu=Rl(hu[$u]),bu&&(Hl.bounds[$u]=hu[$u]=bu-1);if(Lu)for($u=0;$u<2;$u++)switch(bu=hu[$u],Lu){case Ll:if(!ls(bu)){Hl.enabled=!1;return}if(bu=+bu,bu!==Math.floor(bu)||bu<0||bu>=7){Hl.enabled=!1;return}Hl.bounds[$u]=hu[$u]=bu;break;case Ol:if(!ls(bu)){Hl.enabled=!1;return}if(bu=+bu,bu<0||bu>24){Hl.enabled=!1;return}Hl.bounds[$u]=hu[$u]=bu;break}if(Kl.autorange===!1){var Fu=Kl.range;if(Fu[0]<Fu[1]){if(hu[0]<Fu[0]&&hu[1]>Fu[1]){Hl.enabled=!1;return}}else if(hu[0]>Fu[0]&&hu[1]<Fu[1]){Hl.enabled=!1;return}}}else{var Du=Gu("values");if(Du&&Du.length)Gu("dvalue");else{Hl.enabled=!1;return}}}}var _l={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function Rl(Il){if(typeof Il=="string")return _l[Il.substr(0,3).toLowerCase()]}}),$x=a((Mu,yu)=>{var ls=rt(),_t=vm();yu.exports=function(Fn,xl,Bn,yl){var Sl=yl.counterAxes||[],Al=yl.overlayableAxes||[],Et=yl.letter,Pl=yl.grid,El=yl.overlayingDomain,Fl,$l,Nl,Ll,Ol,Bl;Pl&&($l=Pl._domains[Et][Pl._axisMap[xl._id]],Fl=Pl._anchors[xl._id],$l&&(Nl=Pl[Et+"side"].split(" ")[0],Ll=Pl.domain[Et][Nl==="right"||Nl==="top"?1:0])),$l=$l||[0,1],Fl=Fl||(ls(Fn.position)?"free":Sl[0]||"free"),Nl=Nl||(Et==="x"?"bottom":"left"),Ll=Ll||0,Ol=0,Bl=!1;var _l=_t.coerce(Fn,xl,{anchor:{valType:"enumerated",values:["free"].concat(Sl),dflt:Fl}},"anchor"),Rl=_t.coerce(Fn,xl,{side:{valType:"enumerated",values:Et==="x"?["bottom","top"]:["left","right"],dflt:Nl}},"side");if(_l==="free"){if(Et==="y"){var Il=Bn("autoshift");Il&&(Ll=Rl==="left"?El[0]:El[1],Bl=xl.automargin?xl.automargin:!0,Ol=Rl==="left"?-3:3),Bn("shift",Ol)}Bn("position",Ll)}Bn("automargin",Bl);var Hl=!1;if(Al.length&&(Hl=_t.coerce(Fn,xl,{overlaying:{valType:"enumerated",values:[!1].concat(Al),dflt:!1}},"overlaying")),!Hl){var Kl=Bn("domain",$l);Kl[0]>Kl[1]-1/4096&&(xl.domain=$l),_t.noneOrAll(Fn.domain,xl.domain,$l),xl.tickmode==="sync"&&(xl.tickmode="auto")}return Bn("layer"),xl}}),Hw=a((Mu,yu)=>{var ls=vm(),_t=cp(),Fn=Ny().isUnifiedHover,xl=lx(),Bn=hv(),yl=tm(),Sl=Sv(),Al=Gw(),Et=Gx(),Pl=By(),El=$x(),Fl=mv(),$l=Fl.id2name,Nl=Fl.name2id,Ll=A1().AX_ID_PATTERN,Ol=Gp(),Bl=Ol.traceIs,_l=Ol.getComponentMethod;function Rl(Il,Hl,Kl){Array.isArray(Il[Hl])?Il[Hl].push(Kl):Il[Hl]=[Kl]}yu.exports=function(Il,Hl,Kl){var Gu=Hl.autotypenumbers,vu={},hu={},Yl={},$u={},bu={},Lu={},Fu={},Du={},Hu={},Vu={},gu,Wu;for(gu=0;gu<Kl.length;gu++){var qu=Kl[gu];if(Bl(qu,"cartesian")){var np;if(qu.xaxis)np=$l(qu.xaxis),Rl(vu,np,qu);else if(qu.xaxes)for(Wu=0;Wu<qu.xaxes.length;Wu++)Rl(vu,$l(qu.xaxes[Wu]),qu);var _h;if(qu.yaxis)_h=$l(qu.yaxis),Rl(vu,_h,qu);else if(qu.yaxes)for(Wu=0;Wu<qu.yaxes.length;Wu++)Rl(vu,$l(qu.yaxes[Wu]),qu);if(qu.type==="funnel"?qu.orientation==="h"?(np&&(hu[np]=!0),_h&&(Fu[_h]=!0)):_h&&(Yl[_h]=!0):qu.type==="image"?(_h&&(Du[_h]=!0),np&&(Du[np]=!0)):(_h&&(bu[_h]=!0,Lu[_h]=!0),(!Bl(qu,"carpet")||qu.type==="carpet"&&!qu._cheater)&&np&&($u[np]=!0)),qu.type==="carpet"&&qu._cheater&&np&&(hu[np]=!0),Bl(qu,"2dMap")&&(Hu[np]=!0,Hu[_h]=!0),Bl(qu,"oriented")){var ap=qu.orientation==="h"?_h:np;Vu[ap]=!0}}}var bp=Hl._subplots,wp=bp.xaxis,kp=bp.yaxis,Iu=ls.simpleMap(wp,$l),Bu=ls.simpleMap(kp,$l),Xl=Iu.concat(Bu),Uu=_t.background;wp.length&&kp.length&&(Uu=ls.coerce(Il,Hl,yl,"plot_bgcolor"));var ep=_t.combine(Uu,Hl.paper_bgcolor),_u,Wl,Jl,Pu,Nu;function tp(){var mp=vu[_u]||[];Nu._traceIndices=mp.map(function(Tp){return Tp.index}),Nu._annIndices=[],Nu._shapeIndices=[],Nu._selectionIndices=[],Nu._imgIndices=[],Nu._subplotsWith=[],Nu._counterAxes=[],Nu._name=Nu._attr=_u,Nu._id=Wl}function up(mp,Tp){return ls.coerce(Pu,Nu,Sl,mp,Tp)}function dp(mp,Tp){return ls.coerce2(Pu,Nu,Sl,mp,Tp)}function Ap(mp){return mp==="x"?kp:wp}function Op(mp,Tp){for(var Lp=mp==="x"?Iu:Bu,Up=[],Xp=0;Xp<Lp.length;Xp++){var c0=Lp[Xp];c0!==Tp&&!(Il[c0]||{}).overlaying&&Up.push(Nl(c0))}return Up}var Zp={x:Ap("x"),y:Ap("y")},u0=Zp.x.concat(Zp.y),r0={},e0=[];function Cp(){var mp=Pu.matches;Ll.test(mp)&&u0.indexOf(mp)===-1&&(r0[mp]=Pu.type,e0=Object.keys(r0))}var Mp=xl(Il,Hl),sp=Fn(Mp);for(gu=0;gu<Xl.length;gu++){_u=Xl[gu],Wl=Nl(_u),Jl=_u.charAt(0),ls.isPlainObject(Il[_u])||(Il[_u]={}),Pu=Il[_u],Nu=Bn.newContainer(Hl,_u,Jl+"axis"),tp();var Ip=Jl==="x"&&!$u[_u]&&hu[_u]||Jl==="y"&&!bu[_u]&&Yl[_u],Jp=Jl==="y"&&(!Lu[_u]&&Fu[_u]||Du[_u]),a0={hasMinor:!0,letter:Jl,font:Hl.font,outerTicks:Hu[_u],showGrid:!Vu[_u],data:vu[_u]||[],bgColor:ep,calendar:Hl.calendar,automargin:!0,visibleDflt:Ip,reverseDflt:Jp,autotypenumbersDflt:Gu,splomStash:((Hl._splomAxes||{})[Jl]||{})[Wl],noAutotickangles:Jl==="y"};up("uirevision",Hl.uirevision),Al(Pu,Nu,up,a0),Et(Pu,Nu,up,a0,Hl);var v0=sp&&Jl===Mp.charAt(0),h0=dp("spikecolor",sp?Nu.color:void 0),w0=dp("spikethickness",sp?1.5:void 0),E0=dp("spikedash",sp?"dot":void 0),_0=dp("spikemode",sp?"across":void 0),$0=dp("spikesnap"),f0=up("showspikes",!!v0||!!h0||!!w0||!!E0||!!_0||!!$0);f0||(delete Nu.spikecolor,delete Nu.spikethickness,delete Nu.spikedash,delete Nu.spikemode,delete Nu.spikesnap);var q0=$l(Pu.overlaying),J0=[0,1];if(Hl[q0]!==void 0){var V0=$l(Hl[q0].anchor);Hl[V0]!==void 0&&(J0=Hl[V0].domain)}El(Pu,Nu,up,{letter:Jl,counterAxes:Zp[Jl],overlayableAxes:Op(Jl,_u),grid:Hl.grid,overlayingDomain:J0}),up("title.standoff"),Cp(),Nu._input=Pu}for(gu=0;gu<e0.length;){Wl=e0[gu++],_u=$l(Wl),Jl=_u.charAt(0),ls.isPlainObject(Il[_u])||(Il[_u]={}),Pu=Il[_u],Nu=Bn.newContainer(Hl,_u,Jl+"axis"),tp();var nm={letter:Jl,font:Hl.font,outerTicks:Hu[_u],showGrid:!Vu[_u],data:[],bgColor:ep,calendar:Hl.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:Gu,splomStash:((Hl._splomAxes||{})[Jl]||{})[Wl]};up("uirevision",Hl.uirevision),Nu.type=r0[Wl]||"linear",Et(Pu,Nu,up,nm,Hl),El(Pu,Nu,up,{letter:Jl,counterAxes:Zp[Jl],overlayableAxes:Op(Jl,_u),grid:Hl.grid}),up("fixedrange"),up("modebardisable"),Cp(),Nu._input=Pu}var Ep=_l("rangeslider","handleDefaults"),$p=_l("rangeselector","handleDefaults");for(gu=0;gu<Iu.length;gu++)_u=Iu[gu],Pu=Il[_u],Nu=Hl[_u],Ep(Il,Hl,_u),Nu.type==="date"&&$p(Pu,Nu,Hl,Bu,Nu.calendar),up("fixedrange"),up("modebardisable");for(gu=0;gu<Bu.length;gu++){_u=Bu[gu],Pu=Il[_u],Nu=Hl[_u];var Zu=Hl[$l(Nu.anchor)],lp=_l("rangeslider","isVisible")(Zu);up("fixedrange",lp),up("modebardisable")}Pl.handleDefaults(Il,Hl,{axIds:u0.concat(e0).sort(Fl.idSort),axHasImage:Du})}}),jw=a((Mu,yu)=>{var ls=g(),_t=Gp(),Fn=vm(),xl=V1(),Bn=pv();yu.exports=function(yl,Sl,Al,Et){var Pl=yl._fullLayout;if(Sl.length===0){Bn.redrawComponents(yl);return}function El(Hl){var Kl=Hl.xaxis,Gu=Hl.yaxis;Pl._defs.select("#"+Hl.clipId+"> rect").call(xl.setTranslate,0,0).call(xl.setScale,1,1),Hl.plot.call(xl.setTranslate,Kl._offset,Gu._offset).call(xl.setScale,1,1);var vu=Hl.plot.selectAll(".scatterlayer .trace");vu.selectAll(".point").call(xl.setPointGroupScale,1,1),vu.selectAll(".textpoint").call(xl.setTextPointsScale,1,1),vu.call(xl.hideOutsideRangePoints,Hl)}function Fl(Hl,Kl){var Gu=Hl.plotinfo,vu=Gu.xaxis,hu=Gu.yaxis,Yl=vu._length,$u=hu._length,bu=!!Hl.xr1,Lu=!!Hl.yr1,Fu=[];if(bu){var Du=Fn.simpleMap(Hl.xr0,vu.r2l),Hu=Fn.simpleMap(Hl.xr1,vu.r2l),Vu=Du[1]-Du[0],gu=Hu[1]-Hu[0];Fu[0]=(Du[0]*(1-Kl)+Kl*Hu[0]-Du[0])/(Du[1]-Du[0])*Yl,Fu[2]=Yl*(1-Kl+Kl*gu/Vu),vu.range[0]=vu.l2r(Du[0]*(1-Kl)+Kl*Hu[0]),vu.range[1]=vu.l2r(Du[1]*(1-Kl)+Kl*Hu[1])}else Fu[0]=0,Fu[2]=Yl;if(Lu){var Wu=Fn.simpleMap(Hl.yr0,hu.r2l),qu=Fn.simpleMap(Hl.yr1,hu.r2l),np=Wu[1]-Wu[0],_h=qu[1]-qu[0];Fu[1]=(Wu[1]*(1-Kl)+Kl*qu[1]-Wu[1])/(Wu[0]-Wu[1])*$u,Fu[3]=$u*(1-Kl+Kl*_h/np),hu.range[0]=vu.l2r(Wu[0]*(1-Kl)+Kl*qu[0]),hu.range[1]=hu.l2r(Wu[1]*(1-Kl)+Kl*qu[1])}else Fu[1]=0,Fu[3]=$u;Bn.drawOne(yl,vu,{skipTitle:!0}),Bn.drawOne(yl,hu,{skipTitle:!0}),Bn.redrawComponents(yl,[vu._id,hu._id]);var ap=bu?Yl/Fu[2]:1,bp=Lu?$u/Fu[3]:1,wp=bu?Fu[0]:0,kp=Lu?Fu[1]:0,Iu=bu?Fu[0]/Fu[2]*Yl:0,Bu=Lu?Fu[1]/Fu[3]*$u:0,Xl=vu._offset-Iu,Uu=hu._offset-Bu;Gu.clipRect.call(xl.setTranslate,wp,kp).call(xl.setScale,1/ap,1/bp),Gu.plot.call(xl.setTranslate,Xl,Uu).call(xl.setScale,ap,bp),xl.setPointGroupScale(Gu.zoomScalePts,1/ap,1/bp),xl.setTextPointsScale(Gu.zoomScaleTxt,1/ap,1/bp)}var $l;Et&&($l=Et());function Nl(){for(var Hl={},Kl=0;Kl<Sl.length;Kl++){var Gu=Sl[Kl],vu=Gu.plotinfo.xaxis,hu=Gu.plotinfo.yaxis;Gu.xr1&&(Hl[vu._name+".range"]=Gu.xr1.slice()),Gu.yr1&&(Hl[hu._name+".range"]=Gu.yr1.slice())}return $l&&$l(),_t.call("relayout",yl,Hl).then(function(){for(var Yl=0;Yl<Sl.length;Yl++)El(Sl[Yl].plotinfo)})}function Ll(){for(var Hl={},Kl=0;Kl<Sl.length;Kl++){var Gu=Sl[Kl],vu=Gu.plotinfo.xaxis,hu=Gu.plotinfo.yaxis;Gu.xr0&&(Hl[vu._name+".range"]=Gu.xr0.slice()),Gu.yr0&&(Hl[hu._name+".range"]=Gu.yr0.slice())}return _t.call("relayout",yl,Hl).then(function(){for(var Yl=0;Yl<Sl.length;Yl++)El(Sl[Yl].plotinfo)})}var Ol,Bl,_l,Rl=ls.ease(Al.easing);yl._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(_l),_l=null,Ll()});function Il(){Bl=Date.now();for(var Hl=Math.min(1,(Bl-Ol)/Al.duration),Kl=Rl(Hl),Gu=0;Gu<Sl.length;Gu++)Fl(Sl[Gu],Kl);Bl-Ol>Al.duration?(Nl(),_l=window.cancelAnimationFrame(Il)):_l=window.requestAnimationFrame(Il)}return Ol=Date.now(),_l=window.requestAnimationFrame(Il),Promise.resolve()}}),H3=a(Mu=>{var yu=g(),ls=Gp(),_t=vm(),Fn=Fv(),xl=V1(),Bn=e2().getModuleCalcData,yl=mv(),Sl=A1(),Al=Wy(),Et=_t.ensureSingle;function Pl(Bl,_l,Rl){return _t.ensureSingle(Bl,_l,Rl,function(Il){Il.datum(Rl)})}var El=Sl.zindexSeparator;Mu.name="cartesian",Mu.attr=["xaxis","yaxis"],Mu.idRoot=["x","y"],Mu.idRegex=Sl.idRegex,Mu.attrRegex=Sl.attrRegex,Mu.attributes=$3(),Mu.layoutAttributes=Sv(),Mu.supplyLayoutDefaults=Hw(),Mu.transitionAxes=jw(),Mu.finalizeSubplots=function(Bl,_l){var Rl=_l._subplots,Il=Rl.xaxis,Hl=Rl.yaxis,Kl=Rl.cartesian,Gu=Kl,vu={},hu={},Yl,$u,bu;for(Yl=0;Yl<Gu.length;Yl++){var Lu=Gu[Yl].split("y");vu[Lu[0]]=1,hu["y"+Lu[1]]=1}for(Yl=0;Yl<Il.length;Yl++)$u=Il[Yl],vu[$u]||(bu=(Bl[yl.id2name($u)]||{}).anchor,Sl.idRegex.y.test(bu)||(bu="y"),Kl.push($u+bu),Gu.push($u+bu),hu[bu]||(hu[bu]=1,_t.pushUnique(Hl,bu)));for(Yl=0;Yl<Hl.length;Yl++)bu=Hl[Yl],hu[bu]||($u=(Bl[yl.id2name(bu)]||{}).anchor,Sl.idRegex.x.test($u)||($u="x"),Kl.push($u+bu),Gu.push($u+bu),vu[$u]||(vu[$u]=1,_t.pushUnique(Il,$u)));if(!Gu.length){$u="",bu="";for(var Fu in Bl)if(Sl.attrRegex.test(Fu)){var Du=Fu.charAt(0);Du==="x"?(!$u||+Fu.substr(5)<+$u.substr(5))&&($u=Fu):(!bu||+Fu.substr(5)<+bu.substr(5))&&(bu=Fu)}$u=$u?yl.name2id($u):"x",bu=bu?yl.name2id(bu):"y",Il.push($u),Hl.push(bu),Kl.push($u+bu)}},Mu.plot=function(Bl,_l,Rl,Il){var Hl=Bl._fullLayout,Kl=Hl._subplots.cartesian,Gu=Bl.calcdata,vu;if(!Array.isArray(_l))for(_l=[],vu=0;vu<Gu.length;vu++)_l.push(vu);for(var hu=Hl._zindices,Yl=0;Yl<hu.length;Yl++){var $u=hu[Yl];for(vu=0;vu<Kl.length;vu++){var bu=Kl[vu],Lu=Hl._plots[bu];if(Yl>0){var Fu=Lu.id;if(Fu.indexOf(El)!==-1)continue;Fu+=El+(Yl+1),Lu=_t.extendFlat({},Lu,{id:Fu,plot:Hl._cartesianlayer.selectAll(".subplot").select("."+Fu)})}for(var Du=[],Hu,Vu=0;Vu<Gu.length;Vu++){var gu=Gu[Vu],Wu=gu[0].trace;$u===(Wu.zorder||0)&&Wu.xaxis+Wu.yaxis===bu&&((_l.indexOf(Wu.index)!==-1||Wu.carpet)&&(Hu&&Hu[0].trace.xaxis+Hu[0].trace.yaxis===bu&&["tonextx","tonexty","tonext"].indexOf(Wu.fill)!==-1&&Du.indexOf(Hu)===-1&&Du.push(Hu),Du.push(gu)),Hu=gu)}Fl(Bl,Lu,Du,Rl,Il)}}};function Fl(Bl,_l,Rl,Il,Hl){for(var Kl=Sl.traceLayerClasses,Gu=Bl._fullLayout,vu=Gu._zindices,hu=Gu._modules,Yl,$u,bu,Lu=[],Fu=[],Du=0;Du<vu.length;Du++)for(var Hu=vu[Du],Vu=0;Vu<hu.length;Vu++){Yl=hu[Vu];var gu=Yl.name,Wu=ls.modules[gu].categories;if(Wu.svg){var qu=Yl.layerName||gu+"layer",np=qu+(Du?Number(Du)+1:""),_h=Yl.plot;$u=Bn(Rl,_h,Hu),bu=$u[0],Rl=$u[1],bu.length&&Lu.push({i:Kl.indexOf(qu),zindex:Du,className:np,plotMethod:_h,cdModule:bu}),Wu.zoomScale&&Fu.push("."+np)}}Lu.sort(function(wp,kp){return(wp.zindex||0)-(kp.zindex||0)||wp.i-kp.i});var ap=_l.plot.selectAll("g.mlayer").data(Lu,function(wp){return wp.className});if(ap.enter().append("g").attr("class",function(wp){return wp.className}).classed("mlayer",!0).classed("rangeplot",_l.isRangePlot),ap.exit().remove(),ap.order(),ap.each(function(wp){var kp=yu.select(this),Iu=wp.className;wp.plotMethod(Bl,_l,wp.cdModule,kp,Il,Hl),Sl.clipOnAxisFalseQuery.indexOf("."+Iu)===-1&&xl.setClipUrl(kp,_l.layerClipId,Bl)}),Gu._has("scattergl")&&(Yl=ls.getModule("scattergl"),bu=Bn(Rl,Yl)[0],Yl.plot(Bl,_l,bu)),!Bl._context.staticPlot&&(_l._hasClipOnAxisFalse&&(_l.clipOnAxisFalseTraces=_l.plot.selectAll(Sl.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),Fu.length)){var bp=_l.plot.selectAll(Fu.join(",")).selectAll(".trace");_l.zoomScalePts=bp.selectAll("path.point"),_l.zoomScaleTxt=bp.selectAll(".textpoint")}}Mu.clean=function(Bl,_l,Rl,Il){var Hl=Il._plots||{},Kl=_l._plots||{},Gu=Il._subplots||{},vu,hu,Yl;if(Il._hasOnlyLargeSploms&&!_l._hasOnlyLargeSploms)for(Yl in Hl)vu=Hl[Yl],vu.plotgroup&&vu.plotgroup.remove();var $u=Il._has&&Il._has("gl"),bu=_l._has&&_l._has("gl");if($u&&!bu)for(Yl in Hl)vu=Hl[Yl],vu._scene&&vu._scene.destroy();if(Gu.xaxis&&Gu.yaxis){var Lu=yl.listIds({_fullLayout:Il});for(hu=0;hu<Lu.length;hu++){var Fu=Lu[hu];_l[yl.id2name(Fu)]||Il._infolayer.selectAll(".g-"+Fu+"title").remove()}}var Du=Il._has&&Il._has("cartesian"),Hu=_l._has&&_l._has("cartesian");if(Du&&!Hu)Ll(Il._cartesianlayer.selectAll(".subplot"),Il),Il._defs.selectAll(".axesclip").remove(),delete Il._axisConstraintGroups,delete Il._axisMatchGroups;else if(Gu.cartesian)for(hu=0;hu<Gu.cartesian.length;hu++){var Vu=Gu.cartesian[hu];if(Vu.indexOf(El)===-1&&!Kl[Vu]){var gu="."+Vu+",."+Vu+"-x,."+Vu+"-y";Il._cartesianlayer.selectAll(gu).remove(),Ol(Vu,Il)}}},Mu.drawFramework=function(Bl){var _l=Bl._fullLayout,Rl=Bl.calcdata,Il,Hl={};for(Il=0;Il<Rl.length;Il++){var Kl=Rl[Il][0],Gu=Kl.trace,vu=Gu.zorder||0;Hl[vu]||(Hl[vu]=[]),Hl[vu].push(Kl)}var hu=Object.keys(Hl).map(Number).sort(_t.sorterAsc);hu.length||(hu=[0]),_l._zindices=hu;var Yl=$l(Bl),$u=Yl.length,bu=[];for(Il=0;Il<$u;Il++)bu[Il]=Yl[Il].slice();for(var Lu=1;Lu<hu.length;Lu++){var Fu=[];for(Il=0;Il<$u;Il++)Fu[Il]=Yl[Il].slice(),Fu[Il][0]+=El+(Lu+1);bu=bu.concat(Fu)}var Du=_l._cartesianlayer.selectAll(".subplot").data(bu,String);Du.enter().append("g").attr("class",function(Hu){return"subplot "+Hu[0]}),Du.order(),Du.exit().call(Ll,_l),Du.each(function(Hu){var Vu=Hu[0],gu=Vu.indexOf(El),Wu=gu!==-1,qu=Wu?Vu.slice(0,gu):Vu,np=_l._plots[Vu];np||(np=_t.extendFlat({},_l._plots[qu]),np&&(np.id=Vu,_l._plots[Vu]=np,_l._subplots.cartesian.push(Vu))),np&&(np.plotgroup=yu.select(this),Nl(Bl,np),Wu||(np.draglayer=Et(_l._draggers,"g",Vu)))})},Mu.rangePlot=function(Bl,_l,Rl){Nl(Bl,_l),Fl(Bl,_l,Rl),Fn.style(Bl)};function $l(Bl){var _l=Bl._fullLayout,Rl=_l._zindices.length,Il=_l._subplots.cartesian,Hl=Il.length,Kl,Gu,vu,hu,Yl,$u,bu=[],Lu=[];for(Kl=0;Kl<Hl;Kl++){vu=Il[Kl],hu=_l._plots[vu],Yl=hu.xaxis,$u=hu.yaxis;var Fu=Yl._mainAxis,Du=$u._mainAxis,Hu=Fu._id+Du._id,Vu=_l._plots[Hu];hu.overlays=[],Hu!==vu&&Vu?(hu.mainplot=Hu,hu.mainplotinfo=Vu,Lu.push(vu)):(hu.mainplot=void 0,hu.mainplotinfo=void 0,bu.push(vu))}for(Kl=0;Kl<Lu.length;Kl++)vu=Lu[Kl],hu=_l._plots[vu],hu.mainplotinfo.overlays.push(hu);var gu=bu.concat(Lu),Wu=[];for(Kl=0;Kl<Hl;Kl++){vu=gu[Kl],hu=_l._plots[vu],Yl=hu.xaxis,$u=hu.yaxis;for(var qu=[],np=1;np<=Rl;np++){var _h="";for(np>1&&(_h+=El+np),qu.push(vu+_h),Gu=0;Gu<hu.overlays.length;Gu++)qu.push(hu.overlays[Gu].id+_h)}qu=qu.concat([Yl.layer,$u.layer,Yl.overlaying||"",$u.overlaying||""]),Wu.push(qu)}return Wu}function Nl(Bl,_l){var Rl=Bl._fullLayout,Il=_l.plotgroup,Hl=_l.id,Kl=Hl.indexOf(El),Gu=Kl!==-1,vu=Sl.layerValue2layerClass[_l.xaxis.layer],hu=Sl.layerValue2layerClass[_l.yaxis.layer],Yl=Rl._hasOnlyLargeSploms,$u=Rl._zindices.length>1,bu=_l.mainplotinfo;if(!_l.mainplot||$u)if(Yl)_l.xlines=Et(Il,"path","xlines-above"),_l.ylines=Et(Il,"path","ylines-above"),_l.xaxislayer=Et(Il,"g","xaxislayer-above"),_l.yaxislayer=Et(Il,"g","yaxislayer-above");else{if(!Gu){var Lu=Et(Il,"g","layer-subplot");_l.shapelayer=Et(Lu,"g","shapelayer"),_l.imagelayer=Et(Lu,"g","imagelayer"),bu&&$u?(_l.minorGridlayer=bu.minorGridlayer,_l.gridlayer=bu.gridlayer,_l.zerolinelayer=bu.zerolinelayer):(_l.minorGridlayer=Et(Il,"g","minor-gridlayer"),_l.gridlayer=Et(Il,"g","gridlayer"),_l.zerolinelayer=Et(Il,"g","zerolinelayer"));var Fu=Et(Il,"g","layer-between");_l.shapelayerBetween=Et(Fu,"g","shapelayer"),_l.imagelayerBetween=Et(Fu,"g","imagelayer"),Et(Il,"path","xlines-below"),Et(Il,"path","ylines-below"),_l.overlinesBelow=Et(Il,"g","overlines-below"),Et(Il,"g","xaxislayer-below"),Et(Il,"g","yaxislayer-below"),_l.overaxesBelow=Et(Il,"g","overaxes-below")}_l.overplot=Et(Il,"g","overplot"),_l.plot=Et(_l.overplot,"g",Hl),bu&&$u?_l.zerolinelayerAbove=bu.zerolinelayerAbove:_l.zerolinelayerAbove=Et(Il,"g","zerolinelayer-above"),Gu||(_l.xlines=Et(Il,"path","xlines-above"),_l.ylines=Et(Il,"path","ylines-above"),_l.overlinesAbove=Et(Il,"g","overlines-above"),Et(Il,"g","xaxislayer-above"),Et(Il,"g","yaxislayer-above"),_l.overaxesAbove=Et(Il,"g","overaxes-above"),_l.xlines=Il.select(".xlines-"+vu),_l.ylines=Il.select(".ylines-"+hu),_l.xaxislayer=Il.select(".xaxislayer-"+vu),_l.yaxislayer=Il.select(".yaxislayer-"+hu))}else{var Du=bu.plotgroup,Hu=Hl+"-x",Vu=Hl+"-y";_l.minorGridlayer=bu.minorGridlayer,_l.gridlayer=bu.gridlayer,_l.zerolinelayer=bu.zerolinelayer,_l.zerolinelayerAbove=bu.zerolinelayerAbove,Et(bu.overlinesBelow,"path",Hu),Et(bu.overlinesBelow,"path",Vu),Et(bu.overaxesBelow,"g",Hu),Et(bu.overaxesBelow,"g",Vu),_l.plot=Et(bu.overplot,"g",Hl),Et(bu.overlinesAbove,"path",Hu),Et(bu.overlinesAbove,"path",Vu),Et(bu.overaxesAbove,"g",Hu),Et(bu.overaxesAbove,"g",Vu),_l.xlines=Du.select(".overlines-"+vu).select("."+Hu),_l.ylines=Du.select(".overlines-"+hu).select("."+Vu),_l.xaxislayer=Du.select(".overaxes-"+vu).select("."+Hu),_l.yaxislayer=Du.select(".overaxes-"+hu).select("."+Vu)}Gu||(Yl||(Pl(_l.minorGridlayer,"g",_l.xaxis._id),Pl(_l.minorGridlayer,"g",_l.yaxis._id),_l.minorGridlayer.selectAll("g").map(function(gu){return gu[0]}).sort(yl.idSort),Pl(_l.gridlayer,"g",_l.xaxis._id),Pl(_l.gridlayer,"g",_l.yaxis._id),_l.gridlayer.selectAll("g").map(function(gu){return gu[0]}).sort(yl.idSort)),_l.xlines.style("fill","none").classed("crisp",!0),_l.ylines.style("fill","none").classed("crisp",!0))}function Ll(Bl,_l){if(Bl){var Rl={};Bl.each(function(hu){var Yl=hu[0],$u=yu.select(this);$u.remove(),Ol(Yl,_l),Rl[Yl]=!0});for(var Il in _l._plots)for(var Hl=_l._plots[Il],Kl=Hl.overlays||[],Gu=0;Gu<Kl.length;Gu++){var vu=Kl[Gu];Rl[vu.id]&&vu.plot.selectAll(".trace").remove()}}}function Ol(Bl,_l){_l._draggers.selectAll("g."+Bl).remove(),_l._defs.select("#clip"+_l._uid+Bl+"plot").remove()}Mu.toSVG=function(Bl){var _l=Bl._fullLayout._glimages,Rl=yu.select(Bl).selectAll(".svg-container"),Il=Rl.filter(function(Kl,Gu){return Gu===Rl.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus");function Hl(){var Kl=this,Gu=Kl.toDataURL("image/png"),vu=_l.append("svg:image");vu.attr({xmlns:Al.svg,"xlink:href":Gu,preserveAspectRatio:"none",x:0,y:0,width:Kl.style.width,height:Kl.style.height})}Il.each(Hl)},Mu.updateFx=k3().updateFx}),Vw=a((Mu,yu)=>{var ls=cy();yu.exports={hasLines:ls.hasLines,hasMarkers:ls.hasMarkers,hasText:ls.hasText,isBubble:ls.isBubble,attributes:ey(),layoutAttributes:n3(),supplyDefaults:Fx(),crossTraceDefaults:L3(),supplyLayoutDefaults:Px(),calc:Dx().calc,crossTraceCalc:Ox(),arraysToCalcdata:I3(),plot:Ix(),colorbar:N3(),formatLabels:zx(),style:B3().style,styleOnSelect:B3().styleOnSelect,hoverPoints:Nx(),selectPoints:G3(),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:H3(),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}}),Ww=a((Mu,yu)=>{var ls=g(),_t=cp(),Fn=xx(),xl=vm(),Bn=xl.strScale,yl=xl.strRotate,Sl=xl.strTranslate;yu.exports=function(Al,Et,Pl){var El=Al.node(),Fl=Fn[Pl.arrowhead||0],$l=Fn[Pl.startarrowhead||0],Nl=(Pl.arrowwidth||1)*(Pl.arrowsize||1),Ll=(Pl.arrowwidth||1)*(Pl.startarrowsize||1),Ol=Et.indexOf("start")>=0,Bl=Et.indexOf("end")>=0,_l=Fl.backoff*Nl+Pl.standoff,Rl=$l.backoff*Ll+Pl.startstandoff,Il,Hl,Kl,Gu;if(El.nodeName==="line"){Il={x:+Al.attr("x1"),y:+Al.attr("y1")},Hl={x:+Al.attr("x2"),y:+Al.attr("y2")};var vu=Il.x-Hl.x,hu=Il.y-Hl.y;if(Kl=Math.atan2(hu,vu),Gu=Kl+Math.PI,_l&&Rl&&_l+Rl>Math.sqrt(vu*vu+hu*hu)){np();return}if(_l){if(_l*_l>vu*vu+hu*hu){np();return}var Yl=_l*Math.cos(Kl),$u=_l*Math.sin(Kl);Hl.x+=Yl,Hl.y+=$u,Al.attr({x2:Hl.x,y2:Hl.y})}if(Rl){if(Rl*Rl>vu*vu+hu*hu){np();return}var bu=Rl*Math.cos(Kl),Lu=Rl*Math.sin(Kl);Il.x-=bu,Il.y-=Lu,Al.attr({x1:Il.x,y1:Il.y})}}else if(El.nodeName==="path"){var Fu=El.getTotalLength(),Du="";if(Fu<_l+Rl){np();return}var Hu=El.getPointAtLength(0),Vu=El.getPointAtLength(.1);Kl=Math.atan2(Hu.y-Vu.y,Hu.x-Vu.x),Il=El.getPointAtLength(Math.min(Rl,Fu)),Du="0px,"+Rl+"px,";var gu=El.getPointAtLength(Fu),Wu=El.getPointAtLength(Fu-.1);Gu=Math.atan2(gu.y-Wu.y,gu.x-Wu.x),Hl=El.getPointAtLength(Math.max(0,Fu-_l));var qu=Du?Rl+_l:_l;Du+=Fu-qu+"px,"+Fu+"px",Al.style("stroke-dasharray",Du)}function np(){Al.style("stroke-dasharray","0px,100px")}function _h(ap,bp,wp,kp){ap.path&&(ap.noRotate&&(wp=0),ls.select(El.parentNode).append("path").attr({class:Al.attr("class"),d:ap.path,transform:Sl(bp.x,bp.y)+yl(wp*180/Math.PI)+Bn(kp)}).style({fill:_t.rgb(Pl.arrowcolor),"stroke-width":0}))}Ol&&_h($l,Il,Kl,Ll),Bl&&_h(Fl,Hl,Gu,Nl)}}),j3=a((Mu,yu)=>{var ls=g(),_t=Gp(),Fn=Fv(),xl=vm(),Bn=xl.strTranslate,yl=pv(),Sl=cp(),Al=V1(),Et=My(),Pl=Wv(),El=n2(),Fl=ky(),$l=hv().arrayEditor,Nl=Ww();yu.exports={draw:Ll,drawOne:Ol,drawRaw:_l};function Ll(Rl){var Il=Rl._fullLayout;Il._infolayer.selectAll(".annotation").remove();for(var Hl=0;Hl<Il.annotations.length;Hl++)Il.annotations[Hl].visible&&Ol(Rl,Hl);return Fn.previousPromises(Rl)}function Ol(Rl,Il){var Hl=Rl._fullLayout,Kl=Hl.annotations[Il]||{},Gu=yl.getFromId(Rl,Kl.xref),vu=yl.getFromId(Rl,Kl.yref);Gu&&Gu.setScale(),vu&&vu.setScale(),_l(Rl,Kl,Il,!1,Gu,vu)}function Bl(Rl,Il,Hl,Kl,Gu){var vu=Gu[Hl],hu=Gu[Hl+"ref"],Yl=Hl.indexOf("y")!==-1,$u=yl.getRefType(hu)==="domain",bu=Yl?Kl.h:Kl.w;return Rl?$u?vu+(Yl?-Il:Il)/Rl._length:Rl.p2r(Rl.r2p(vu)+Il):vu+(Yl?-Il:Il)/bu}function _l(Rl,Il,Hl,Kl,Gu,vu){var hu=Rl._fullLayout,Yl=Rl._fullLayout._size,$u=Rl._context.edits,bu,Lu;Kl?(bu="annotation-"+Kl,Lu=Kl+".annotations"):(bu="annotation",Lu="annotations");var Fu=$l(Rl.layout,Lu,Il),Du=Fu.modifyBase,Hu=Fu.modifyItem,Vu=Fu.getUpdateObj;hu._infolayer.selectAll("."+bu+'[data-index="'+Hl+'"]').remove();var gu="clip"+hu._uid+"_ann"+Hl;if(!Il._input||Il.visible===!1){ls.selectAll("#"+gu).remove();return}var Wu={x:{},y:{}},qu=+Il.textangle||0,np=hu._infolayer.append("g").classed(bu,!0).attr("data-index",String(Hl)).style("opacity",Il.opacity),_h=np.append("g").classed("annotation-text-g",!0),ap=$u[Il.showarrow?"annotationTail":"annotationPosition"],bp=Il.captureevents||$u.annotationText||ap;function wp(up){var dp={index:Hl,annotation:Il._input,fullAnnotation:Il,event:up};return Kl&&(dp.subplotId=Kl),dp}var kp=_h.append("g").style("pointer-events",bp?"all":null).call(El,"pointer").on("click",function(){Rl._dragging=!1,Rl.emit("plotly_clickannotation",wp(ls.event))});Il.hovertext&&kp.on("mouseover",function(){var up=Il.hoverlabel,dp=up.font,Ap=this.getBoundingClientRect(),Op=Rl.getBoundingClientRect();Et.loneHover({x0:Ap.left-Op.left,x1:Ap.right-Op.left,y:(Ap.top+Ap.bottom)/2-Op.top,text:Il.hovertext,color:up.bgcolor,borderColor:up.bordercolor,fontFamily:dp.family,fontSize:dp.size,fontColor:dp.color,fontWeight:dp.weight,fontStyle:dp.style,fontVariant:dp.variant,fontShadow:dp.fontShadow,fontLineposition:dp.fontLineposition,fontTextcase:dp.fontTextcase},{container:hu._hoverlayer.node(),outerContainer:hu._paper.node(),gd:Rl})}).on("mouseout",function(){Et.loneUnhover(hu._hoverlayer.node())});var Iu=Il.borderwidth,Bu=Il.borderpad,Xl=Iu+Bu,Uu=kp.append("rect").attr("class","bg").style("stroke-width",Iu+"px").call(Sl.stroke,Il.bordercolor).call(Sl.fill,Il.bgcolor),ep=Il.width||Il.height,_u=hu._topclips.selectAll("#"+gu).data(ep?[0]:[]);_u.enter().append("clipPath").classed("annclip",!0).attr("id",gu).append("rect"),_u.exit().remove();var Wl=Il.font,Jl=hu._meta?xl.templateString(Il.text,hu._meta):Il.text,Pu=kp.append("text").classed("annotation-text",!0).text(Jl);function Nu(up){return up.call(Al.font,Wl).attr({"text-anchor":{left:"start",right:"end"}[Il.align]||"middle"}),Pl.convertToTspans(up,Rl,tp),up}function tp(){var up=Pu.selectAll("a");if(up.size()===1&&up.text()===Pu.text()){var dp=kp.insert("a",":first-child").attr({"xlink:xlink:href":up.attr("xlink:href"),"xlink:xlink:show":up.attr("xlink:show")}).style({cursor:"pointer"});dp.node().appendChild(Uu.node())}var Ap=kp.select(".annotation-text-math-group"),Op=!Ap.empty(),Zp=Al.bBox((Op?Ap:Pu).node()),u0=Zp.width,r0=Zp.height,e0=Il.width||u0,Cp=Il.height||r0,Mp=Math.round(e0+2*Xl),sp=Math.round(Cp+2*Xl);function Ip(_m,sm){return sm==="auto"&&(_m<1/3?sm="left":_m>2/3?sm="right":sm="center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[sm]}for(var Jp=!1,a0=["x","y"],v0=0;v0<a0.length;v0++){var h0=a0[v0],w0=Il[h0+"ref"]||h0,E0=Il["a"+h0+"ref"],_0={x:Gu,y:vu}[h0],$0=(qu+(h0==="x"?0:-90))*Math.PI/180,f0=Mp*Math.cos($0),q0=sp*Math.sin($0),J0=Math.abs(f0)+Math.abs(q0),V0=Il[h0+"anchor"],nm=Il[h0+"shift"]*(h0==="x"?1:-1),Ep=Wu[h0],$p,Zu,lp,mp,Tp,Lp=yl.getRefType(w0);if(_0&&Lp!=="domain"){var Up=_0.r2fraction(Il[h0]);(Up<0||Up>1)&&(E0===w0?(Up=_0.r2fraction(Il["a"+h0]),(Up<0||Up>1)&&(Jp=!0)):Jp=!0),$p=_0._offset+_0.r2p(Il[h0]),mp=.5}else{var Xp=Lp==="domain";h0==="x"?(lp=Il[h0],$p=Xp?_0._offset+_0._length*lp:$p=Yl.l+Yl.w*lp):(lp=1-Il[h0],$p=Xp?_0._offset+_0._length*lp:$p=Yl.t+Yl.h*lp),mp=Il.showarrow?.5:lp}if(Il.showarrow){Ep.head=$p;var c0=Il["a"+h0];if(Tp=f0*Ip(.5,Il.xanchor)-q0*Ip(.5,Il.yanchor),E0===w0){var i0=yl.getRefType(E0);i0==="domain"?(h0==="y"&&(c0=1-c0),Ep.tail=_0._offset+_0._length*c0):i0==="paper"?h0==="y"?(c0=1-c0,Ep.tail=Yl.t+Yl.h*c0):Ep.tail=Yl.l+Yl.w*c0:Ep.tail=_0._offset+_0.r2p(c0),Zu=Tp}else Ep.tail=$p+c0,Zu=Tp+c0;Ep.text=Ep.tail+Tp;var s0=hu[h0==="x"?"width":"height"];if(w0==="paper"&&(Ep.head=xl.constrain(Ep.head,1,s0-1)),E0==="pixel"){var M0=-Math.max(Ep.tail-3,Ep.text),A0=Math.min(Ep.tail+3,Ep.text)-s0;M0>0?(Ep.tail+=M0,Ep.text+=M0):A0>0&&(Ep.tail-=A0,Ep.text-=A0)}Ep.tail+=nm,Ep.head+=nm}else Tp=J0*Ip(mp,V0),Zu=Tp,Ep.text=$p+Tp;Ep.text+=nm,Tp+=nm,Zu+=nm,Il["_"+h0+"padplus"]=J0/2+Zu,Il["_"+h0+"padminus"]=J0/2-Zu,Il["_"+h0+"size"]=J0,Il["_"+h0+"shift"]=Tp}if(Jp){kp.remove();return}var R0=0,rm=0;if(Il.align!=="left"&&(R0=(e0-u0)*(Il.align==="center"?.5:1)),Il.valign!=="top"&&(rm=(Cp-r0)*(Il.valign==="middle"?.5:1)),Op)Ap.select("svg").attr({x:Xl+R0-1,y:Xl+rm}).call(Al.setClipUrl,ep?gu:null,Rl);else{var wm=Xl+rm-Zp.top,Bm=Xl+R0-Zp.left;Pu.call(Pl.positionText,Bm,wm).call(Al.setClipUrl,ep?gu:null,Rl)}_u.select("rect").call(Al.setRect,Xl,Xl,e0,Cp),Uu.call(Al.setRect,Iu/2,Iu/2,Mp-Iu,sp-Iu),kp.call(Al.setTranslate,Math.round(Wu.x.text-Mp/2),Math.round(Wu.y.text-sp/2)),_h.attr({transform:"rotate("+qu+","+Wu.x.text+","+Wu.y.text+")"});var Vm=function(_m,sm){np.selectAll(".annotation-arrow-g").remove();var zm=Wu.x.head,Wm=Wu.y.head,Im=Wu.x.tail+_m,Am=Wu.y.tail+sm,Fm=Wu.x.text+_m,Sm=Wu.y.text+sm,e1=xl.rotationXYMatrix(qu,Fm,Sm),u1=xl.apply2DTransform(e1),jm=xl.apply2DTransform2(e1),d1=+Uu.attr("width"),m1=+Uu.attr("height"),S1=Fm-.5*d1,_1=S1+d1,n1=Sm-.5*m1,b1=n1+m1,f1=[[S1,n1,S1,b1],[S1,b1,_1,b1],[_1,b1,_1,n1],[_1,n1,S1,n1]].map(jm);if(!f1.reduce(function(p0,y0){return p0^!!xl.segmentsIntersect(zm,Wm,zm+1e6,Wm+1e6,y0[0],y0[1],y0[2],y0[3])},!1)){f1.forEach(function(p0){var y0=xl.segmentsIntersect(Im,Am,zm,Wm,p0[0],p0[1],p0[2],p0[3]);y0&&(Im=y0.x,Am=y0.y)});var km=Il.arrowwidth,D1=Il.arrowcolor,_d=Il.arrowside,Xu=np.append("g").style({opacity:Sl.opacity(D1)}).classed("annotation-arrow-g",!0),Bp=Xu.append("path").attr("d","M"+Im+","+Am+"L"+zm+","+Wm).style("stroke-width",km+"px").call(Sl.stroke,Sl.rgb(D1));if(Nl(Bp,_d,Il),$u.annotationPosition&&Bp.node().parentNode&&!Kl){var qp=zm,_f=Wm;if(Il.standoff){var zp=Math.sqrt(Math.pow(zm-Im,2)+Math.pow(Wm-Am,2));qp+=Il.standoff*(Im-zm)/zp,_f+=Il.standoff*(Am-Wm)/zp}var Hp=Xu.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(Im-qp)+","+(Am-_f),transform:Bn(qp,_f)}).style("stroke-width",km+6+"px").call(Sl.stroke,"rgba(0,0,0,0)").call(Sl.fill,"rgba(0,0,0,0)"),t0,Qp;Fl.init({element:Hp.node(),gd:Rl,prepFn:function(){var p0=Al.getTranslate(kp);t0=p0.x,Qp=p0.y,Gu&&Gu.autorange&&Du(Gu._name+".autorange",!0),vu&&vu.autorange&&Du(vu._name+".autorange",!0)},moveFn:function(p0,y0){var H0=u1(t0,Qp),ym=H0[0]+p0,pm=H0[1]+y0;kp.call(Al.setTranslate,ym,pm),Hu("x",Bl(Gu,p0,"x",Yl,Il)),Hu("y",Bl(vu,y0,"y",Yl,Il)),Il.axref===Il.xref&&Hu("ax",Bl(Gu,p0,"ax",Yl,Il)),Il.ayref===Il.yref&&Hu("ay",Bl(vu,y0,"ay",Yl,Il)),Xu.attr("transform",Bn(p0,y0)),_h.attr({transform:"rotate("+qu+","+ym+","+pm+")"})},doneFn:function(){_t.call("_guiRelayout",Rl,Vu());var p0=document.querySelector(".js-notes-box-panel");p0&&p0.redraw(p0.selectedObj)}})}}};if(Il.showarrow&&Vm(0,0),ap){var Ym;Fl.init({element:kp.node(),gd:Rl,prepFn:function(){Ym=_h.attr("transform")},moveFn:function(_m,sm){var zm="pointer";if(Il.showarrow)Il.axref===Il.xref?Hu("ax",Bl(Gu,_m,"ax",Yl,Il)):Hu("ax",Il.ax+_m),Il.ayref===Il.yref?Hu("ay",Bl(vu,sm,"ay",Yl.w,Il)):Hu("ay",Il.ay+sm),Vm(_m,sm);else{if(Kl)return;var Wm,Im;if(Gu)Wm=Bl(Gu,_m,"x",Yl,Il);else{var Am=Il._xsize/Yl.w,Fm=Il.x+(Il._xshift-Il.xshift)/Yl.w-Am/2;Wm=Fl.align(Fm+_m/Yl.w,Am,0,1,Il.xanchor)}if(vu)Im=Bl(vu,sm,"y",Yl,Il);else{var Sm=Il._ysize/Yl.h,e1=Il.y-(Il._yshift+Il.yshift)/Yl.h-Sm/2;Im=Fl.align(e1-sm/Yl.h,Sm,0,1,Il.yanchor)}Hu("x",Wm),Hu("y",Im),(!Gu||!vu)&&(zm=Fl.getCursor(Gu?.5:Wm,vu?.5:Im,Il.xanchor,Il.yanchor))}_h.attr({transform:Bn(_m,sm)+Ym}),El(kp,zm)},clickFn:function(_m,sm){Il.captureevents&&Rl.emit("plotly_clickannotation",wp(sm))},doneFn:function(){El(kp),_t.call("_guiRelayout",Rl,Vu());var _m=document.querySelector(".js-notes-box-panel");_m&&_m.redraw(_m.selectedObj)}})}}$u.annotationText?Pu.call(Pl.makeEditable,{delegate:kp,gd:Rl}).call(Nu).on("edit",function(up){Il.text=up,this.call(Nu),Hu("text",up),Gu&&Gu.autorange&&Du(Gu._name+".autorange",!0),vu&&vu.autorange&&Du(vu._name+".autorange",!0),_t.call("_guiRelayout",Rl,Vu())}):Pu.call(Nu)}}),Uw=a((Mu,yu)=>{var ls=vm(),_t=Gp(),Fn=hv().arrayEditor;yu.exports={hasClickToShow:xl,onClick:Bn};function xl(Al,Et){var Pl=yl(Al,Et);return Pl.on.length>0||Pl.explicitOff.length>0}function Bn(Al,Et){var Pl=yl(Al,Et),El=Pl.on,Fl=Pl.off.concat(Pl.explicitOff),$l={},Nl=Al._fullLayout.annotations,Ll,Ol;if(El.length||Fl.length){for(Ll=0;Ll<El.length;Ll++)Ol=Fn(Al.layout,"annotations",Nl[El[Ll]]),Ol.modifyItem("visible",!0),ls.extendFlat($l,Ol.getUpdateObj());for(Ll=0;Ll<Fl.length;Ll++)Ol=Fn(Al.layout,"annotations",Nl[Fl[Ll]]),Ol.modifyItem("visible",!1),ls.extendFlat($l,Ol.getUpdateObj());return _t.call("update",Al,{},$l)}}function yl(Al,Et){var Pl=Al._fullLayout.annotations,El=[],Fl=[],$l=[],Nl=(Et||[]).length,Ll,Ol,Bl,_l,Rl,Il,Hl,Kl;for(Ll=0;Ll<Pl.length;Ll++)if(Bl=Pl[Ll],_l=Bl.clicktoshow,_l){for(Ol=0;Ol<Nl;Ol++)if(Rl=Et[Ol],Il=Rl.xaxis,Hl=Rl.yaxis,Il._id===Bl.xref&&Hl._id===Bl.yref&&Il.d2r(Rl.x)===Sl(Bl._xclick,Il)&&Hl.d2r(Rl.y)===Sl(Bl._yclick,Hl)){Bl.visible?_l==="onout"?Kl=Fl:Kl=$l:Kl=El,Kl.push(Ll);break}Ol===Nl&&Bl.visible&&_l==="onout"&&Fl.push(Ll)}return{on:El,off:Fl,explicitOff:$l}}function Sl(Al,Et){return Et.type==="log"?Et.l2r(Al):Et.d2r(Al)}}),Hx=a((Mu,yu)=>{var ls=vm(),_t=cp();yu.exports=function(Fn,xl,Bn,yl){yl("opacity");var Sl=yl("bgcolor"),Al=yl("bordercolor"),Et=_t.opacity(Al);yl("borderpad");var Pl=yl("borderwidth"),El=yl("showarrow");yl("text",El?" ":Bn._dfltTitle.annotation),yl("textangle"),ls.coerceFont(yl,"font",Bn.font),yl("width"),yl("align");var Fl=yl("height");if(Fl&&yl("valign"),El){var $l=yl("arrowside"),Nl,Ll;$l.indexOf("end")!==-1&&(Nl=yl("arrowhead"),Ll=yl("arrowsize")),$l.indexOf("start")!==-1&&(yl("startarrowhead",Nl),yl("startarrowsize",Ll)),yl("arrowcolor",Et?xl.bordercolor:_t.defaultLine),yl("arrowwidth",(Et&&Pl||1)*2),yl("standoff"),yl("startstandoff")}var Ol=yl("hovertext"),Bl=Bn.hoverlabel||{};if(Ol){var _l=yl("hoverlabel.bgcolor",Bl.bgcolor||(_t.opacity(Sl)?_t.rgb(Sl):_t.defaultLine)),Rl=yl("hoverlabel.bordercolor",Bl.bordercolor||_t.contrast(_l)),Il=ls.extendFlat({},Bl.font);Il.color||(Il.color=Rl),ls.coerceFont(yl,"hoverlabel.font",Il)}yl("captureevents",!!Ol)}}),qw=a((Mu,yu)=>{var ls=vm(),_t=pv(),Fn=Kv(),xl=Hx(),Bn=wy();yu.exports=function(Sl,Al){Fn(Sl,Al,{name:"annotations",handleItemDefaults:yl})};function yl(Sl,Al,Et){function Pl(Yl,$u){return ls.coerce(Sl,Al,Bn,Yl,$u)}var El=Pl("visible"),Fl=Pl("clicktoshow");if(El||Fl){xl(Sl,Al,Et,Pl);for(var $l=Al.showarrow,Nl=["x","y"],Ll=[-10,-30],Ol={_fullLayout:Et},Bl=0;Bl<2;Bl++){var _l=Nl[Bl],Rl=_t.coerceRef(Sl,Al,Ol,_l,"","paper");if(Rl!=="paper"){var Il=_t.getFromId(Ol,Rl);Il._annIndices.push(Al._index)}if(_t.coercePosition(Al,Ol,Pl,Rl,_l,.5),$l){var Hl="a"+_l,Kl=_t.coerceRef(Sl,Al,Ol,Hl,"pixel",["pixel","paper"]);Kl!=="pixel"&&Kl!==Rl&&(Kl=Al[Hl]="pixel");var Gu=Kl==="pixel"?Ll[Bl]:.4;_t.coercePosition(Al,Ol,Pl,Kl,Hl,Gu)}Pl(_l+"anchor"),Pl(_l+"shift")}if(ls.noneOrAll(Sl,Al,["x","y"]),$l&&ls.noneOrAll(Sl,Al,["ax","ay"]),Fl){var vu=Pl("xclick"),hu=Pl("yclick");Al._xclick=vu===void 0?Al.x:_t.cleanPosition(vu,Ol,Al.xref),Al._yclick=hu===void 0?Al.y:_t.cleanPosition(hu,Ol,Al.yref)}}}}),Yw=a((Mu,yu)=>{var ls=vm(),_t=pv(),Fn=j3().draw;yu.exports=function(yl){var Sl=yl._fullLayout,Al=ls.filterVisible(Sl.annotations);if(Al.length&&yl._fullData.length)return ls.syncOrAsync([Fn,xl],yl)};function xl(yl){var Sl=yl._fullLayout;ls.filterVisible(Sl.annotations).forEach(function(Al){var Et=_t.getFromId(yl,Al.xref),Pl=_t.getFromId(yl,Al.yref),El=_t.getRefType(Al.xref),Fl=_t.getRefType(Al.yref);Al._extremes={},El==="range"&&Bn(Al,Et),Fl==="range"&&Bn(Al,Pl)})}function Bn(yl,Sl){var Al=Sl._id,Et=Al.charAt(0),Pl=yl[Et],El=yl["a"+Et],Fl=yl[Et+"ref"],$l=yl["a"+Et+"ref"],Nl=yl["_"+Et+"padplus"],Ll=yl["_"+Et+"padminus"],Ol={x:1,y:-1}[Et]*yl[Et+"shift"],Bl=3*yl.arrowsize*yl.arrowwidth||0,_l=Bl+Ol,Rl=Bl-Ol,Il=3*yl.startarrowsize*yl.arrowwidth||0,Hl=Il+Ol,Kl=Il-Ol,Gu;if($l===Fl){var vu=_t.findExtremes(Sl,[Sl.r2c(Pl)],{ppadplus:_l,ppadminus:Rl}),hu=_t.findExtremes(Sl,[Sl.r2c(El)],{ppadplus:Math.max(Nl,Hl),ppadminus:Math.max(Ll,Kl)});Gu={min:[vu.min[0],hu.min[0]],max:[vu.max[0],hu.max[0]]}}else Hl=El?Hl+El:Hl,Kl=El?Kl-El:Kl,Gu=_t.findExtremes(Sl,[Sl.r2c(Pl)],{ppadplus:Math.max(Nl,_l,Hl),ppadminus:Math.max(Ll,Rl,Kl)});yl._extremes[Al]=Gu}}),Kw=a((Mu,yu)=>{var ls=rt(),_t=Ln();yu.exports=function(Fn,xl,Bn,yl){xl=xl||{};var Sl=Bn==="log"&&xl.type==="linear",Al=Bn==="linear"&&xl.type==="log";if(!(Sl||Al))return;var Et=Fn._fullLayout.annotations,Pl=xl._id.charAt(0),El,Fl;function $l(Ll){var Ol=El[Ll],Bl=null;Sl?Bl=_t(Ol,xl.range):Bl=Math.pow(10,Ol),ls(Bl)||(Bl=null),yl(Fl+Ll,Bl)}for(var Nl=0;Nl<Et.length;Nl++)El=Et[Nl],Fl="annotations["+Nl+"].",El[Pl+"ref"]===xl._id&&$l(Pl),El["a"+Pl+"ref"]===xl._id&&$l("a"+Pl)}}),$y=a((Mu,yu)=>{var ls=j3(),_t=Uw();yu.exports={moduleType:"component",name:"annotations",layoutAttributes:wy(),supplyLayoutDefaults:qw(),includeBasePlot:T2()("annotations"),calcAutorange:Yw(),draw:ls.draw,drawOne:ls.drawOne,drawRaw:ls.drawRaw,hasClickToShow:_t.hasClickToShow,onClick:_t.onClick,convertCoords:Kw()}}),V3=a((Mu,yu)=>{var ls=wy(),_t=Q0().overrideAll,Fn=hv().templatedArray;yu.exports=_t(Fn("annotation",{visible:ls.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:ls.xanchor,xshift:ls.xshift,yanchor:ls.yanchor,yshift:ls.yshift,text:ls.text,textangle:ls.textangle,font:ls.font,width:ls.width,height:ls.height,opacity:ls.opacity,align:ls.align,valign:ls.valign,bgcolor:ls.bgcolor,bordercolor:ls.bordercolor,borderpad:ls.borderpad,borderwidth:ls.borderwidth,showarrow:ls.showarrow,arrowcolor:ls.arrowcolor,arrowhead:ls.arrowhead,startarrowhead:ls.startarrowhead,arrowside:ls.arrowside,arrowsize:ls.arrowsize,startarrowsize:ls.startarrowsize,arrowwidth:ls.arrowwidth,standoff:ls.standoff,startstandoff:ls.startstandoff,hovertext:ls.hovertext,hoverlabel:ls.hoverlabel,captureevents:ls.captureevents}),"calc","from-root")}),Zw=a((Mu,yu)=>{var ls=vm(),_t=pv(),Fn=Kv(),xl=Hx(),Bn=V3();yu.exports=function(Sl,Al,Et){Fn(Sl,Al,{name:"annotations",handleItemDefaults:yl,fullLayout:Et.fullLayout})};function yl(Sl,Al,Et,Pl){function El(Nl,Ll){return ls.coerce(Sl,Al,Bn,Nl,Ll)}function Fl(Nl){var Ll=Nl+"axis",Ol={_fullLayout:{}};return Ol._fullLayout[Ll]=Et[Ll],_t.coercePosition(Al,Ol,El,Nl,Nl,.5)}var $l=El("visible");$l&&(xl(Sl,Al,Pl.fullLayout,El),Fl("x"),Fl("y"),Fl("z"),ls.noneOrAll(Sl,Al,["x","y","z"]),Al.xref="x",Al.yref="y",Al.zref="z",El("xanchor"),El("yanchor"),El("xshift"),El("yshift"),Al.showarrow&&(Al.axref="pixel",Al.ayref="pixel",El("ax",-10),El("ay",-30),ls.noneOrAll(Sl,Al,["ax","ay"])))}}),jx=a((Mu,yu)=>{var ls=vm(),_t=pv();yu.exports=function(xl){for(var Bn=xl.fullSceneLayout,yl=Bn.annotations,Sl=0;Sl<yl.length;Sl++)Fn(yl[Sl],xl);xl.fullLayout._infolayer.selectAll(".annotation-"+xl.id).remove()};function Fn(xl,Bn){var yl=Bn.fullSceneLayout,Sl=yl.domain,Al=Bn.fullLayout._size,Et={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};xl._xa={},ls.extendFlat(xl._xa,Et),_t.setConvert(xl._xa),xl._xa._offset=Al.l+Sl.x[0]*Al.w,xl._xa.l2p=function(){return .5*(1+xl._pdata[0]/xl._pdata[3])*Al.w*(Sl.x[1]-Sl.x[0])},xl._ya={},ls.extendFlat(xl._ya,Et),_t.setConvert(xl._ya),xl._ya._offset=Al.t+(1-Sl.y[1])*Al.h,xl._ya.l2p=function(){return .5*(1-xl._pdata[1]/xl._pdata[3])*Al.h*(Sl.y[1]-Sl.y[0])}}}),Xw=a((Mu,yu)=>{function ls(Fn,xl){var Bn=[0,0,0,0],yl,Sl;for(yl=0;yl<4;++yl)for(Sl=0;Sl<4;++Sl)Bn[Sl]+=Fn[4*yl+Sl]*xl[yl];return Bn}function _t(Fn,xl){var Bn=ls(Fn.projection,ls(Fn.view,ls(Fn.model,[xl[0],xl[1],xl[2],1])));return Bn}yu.exports=_t}),Qw=a((Mu,yu)=>{var ls=j3().drawRaw,_t=Xw(),Fn=["x","y","z"];yu.exports=function(xl){for(var Bn=xl.fullSceneLayout,yl=xl.dataScale,Sl=Bn.annotations,Al=0;Al<Sl.length;Al++){for(var Et=Sl[Al],Pl=!1,El=0;El<3;El++){var Fl=Fn[El],$l=Et[Fl],Nl=Bn[Fl+"axis"],Ll=Nl.r2fraction($l);if(Ll<0||Ll>1){Pl=!0;break}}Pl?xl.fullLayout._infolayer.select(".annotation-"+xl.id+'[data-index="'+Al+'"]').remove():(Et._pdata=_t(xl.glplot.cameraParams,[Bn.xaxis.r2l(Et.x)*yl[0],Bn.yaxis.r2l(Et.y)*yl[1],Bn.zaxis.r2l(Et.z)*yl[2]]),ls(xl.graphDiv,Et,Al,xl.id,Et._xa,Et._ya))}}}),F2=a((Mu,yu)=>{var ls=Gp(),_t=vm();yu.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:V3()}}},layoutAttributes:V3(),handleDefaults:Zw(),includeBasePlot:Fn,convert:jx(),draw:Qw()};function Fn(xl,Bn){var yl=ls.subplotsRegistry.gl3d;if(yl)for(var Sl=yl.attrRegex,Al=Object.keys(xl),Et=0;Et<Al.length;Et++){var Pl=Al[Et];Sl.test(Pl)&&(xl[Pl].annotations||[]).length&&(_t.pushUnique(Bn._basePlotModules,yl),_t.pushUnique(Bn._subplots.gl3d,Pl))}}}),K2=a((Mu,yu)=>{var ls=wy(),_t=Ml(),Fn=ey().line,xl=Cm().dash,Bn=In().extendFlat,yl=hv().templatedArray;o2();var Sl=mu(),Al=gm().shapeTexttemplateAttrs,Et=Kp();yu.exports=yl("shape",{visible:Bn({},Sl.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:Bn({},Sl.legend,{editType:"calc+arraydraw"}),legendgroup:Bn({},Sl.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:Bn({},Sl.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:_t({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:Bn({},Sl.legendrank,{editType:"calc+arraydraw"}),legendwidth:Bn({},Sl.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above","between"],dflt:"above",editType:"arraydraw"},xref:Bn({},ls.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},x0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},x1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},yref:Bn({},ls.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},y0shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},y1shift:{valType:"number",dflt:0,min:-1,max:1,editType:"calc"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:Bn({},Fn.color,{editType:"arraydraw"}),width:Bn({},Fn.width,{editType:"calc+arraydraw"}),dash:Bn({},xl,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:Al({},{keys:Object.keys(Et)}),font:_t({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})}),W3=a((Mu,yu)=>{var ls=vm(),_t=pv(),Fn=Kv(),xl=K2(),Bn=xy();yu.exports=function(Al,Et){Fn(Al,Et,{name:"shapes",handleItemDefaults:Sl})};function yl(Al,Et){return Al?"bottom":Et.indexOf("top")!==-1?"top":Et.indexOf("bottom")!==-1?"bottom":"middle"}function Sl(Al,Et,Pl){function El(Iu,Bu){return ls.coerce(Al,Et,xl,Iu,Bu)}Et._isShape=!0;var Fl=El("visible");if(Fl){var $l=El("showlegend");$l&&(El("legend"),El("legendwidth"),El("legendgroup"),El("legendgrouptitle.text"),ls.coerceFont(El,"legendgrouptitle.font"),El("legendrank"));var Nl=El("path"),Ll=Nl?"path":"rect",Ol=El("type",Ll),Bl=Ol!=="path";Bl&&delete Et.path,El("editable"),El("layer"),El("opacity"),El("fillcolor"),El("fillrule");var _l=El("line.width");_l&&(El("line.color"),El("line.dash"));for(var Rl=El("xsizemode"),Il=El("ysizemode"),Hl=["x","y"],Kl=0;Kl<2;Kl++){var Gu=Hl[Kl],vu=Gu+"anchor",hu=Gu==="x"?Rl:Il,Yl={_fullLayout:Pl},$u,bu,Lu,Fu=_t.coerceRef(Al,Et,Yl,Gu,void 0,"paper"),Du=_t.getRefType(Fu);if(Du==="range"?($u=_t.getFromId(Yl,Fu),$u._shapeIndices.push(Et._index),Lu=Bn.rangeToShapePosition($u),bu=Bn.shapePositionToRange($u),($u.type==="category"||$u.type==="multicategory")&&(El(Gu+"0shift"),El(Gu+"1shift"))):bu=Lu=ls.identity,Bl){var Hu=.25,Vu=.75,gu=Gu+"0",Wu=Gu+"1",qu=Al[gu],np=Al[Wu];Al[gu]=bu(Al[gu],!0),Al[Wu]=bu(Al[Wu],!0),hu==="pixel"?(El(gu,0),El(Wu,10)):(_t.coercePosition(Et,Yl,El,Fu,gu,Hu),_t.coercePosition(Et,Yl,El,Fu,Wu,Vu)),Et[gu]=Lu(Et[gu]),Et[Wu]=Lu(Et[Wu]),Al[gu]=qu,Al[Wu]=np}if(hu==="pixel"){var _h=Al[vu];Al[vu]=bu(Al[vu],!0),_t.coercePosition(Et,Yl,El,Fu,vu,.25),Et[vu]=Lu(Et[vu]),Al[vu]=_h}}Bl&&ls.noneOrAll(Al,Et,["x0","x1","y0","y1"]);var ap=Ol==="line",bp,wp;if(Bl&&(bp=El("label.texttemplate")),bp||(wp=El("label.text")),wp||bp){El("label.textangle");var kp=El("label.textposition",ap?"middle":"middle center");El("label.xanchor"),El("label.yanchor",yl(ap,kp)),El("label.padding"),ls.coerceFont(El,"label.font",Pl.font)}}}}),Jw=a((Mu,yu)=>{var ls=cp(),_t=vm();function Fn(xl,Bn){return xl?"bottom":Bn.indexOf("top")!==-1?"top":Bn.indexOf("bottom")!==-1?"bottom":"middle"}yu.exports=function(xl,Bn,yl){yl("newshape.visible"),yl("newshape.name"),yl("newshape.showlegend"),yl("newshape.legend"),yl("newshape.legendwidth"),yl("newshape.legendgroup"),yl("newshape.legendgrouptitle.text"),_t.coerceFont(yl,"newshape.legendgrouptitle.font"),yl("newshape.legendrank"),yl("newshape.drawdirection"),yl("newshape.layer"),yl("newshape.fillcolor"),yl("newshape.fillrule"),yl("newshape.opacity");var Sl=yl("newshape.line.width");if(Sl){var Al=(xl||{}).plot_bgcolor||"#FFF";yl("newshape.line.color",ls.contrast(Al)),yl("newshape.line.dash")}var Et=xl.dragmode==="drawline",Pl=yl("newshape.label.text"),El=yl("newshape.label.texttemplate");if(Pl||El){yl("newshape.label.textangle");var Fl=yl("newshape.label.textposition",Et?"middle":"middle center");yl("newshape.label.xanchor"),yl("newshape.label.yanchor",Fn(Et,Fl)),yl("newshape.label.padding"),_t.coerceFont(yl,"newshape.label.font",Bn.font)}yl("activeshape.fillcolor"),yl("activeshape.opacity")}}),Vx=a((Mu,yu)=>{var ls=vm(),_t=pv(),Fn=$2(),xl=xy();yu.exports=function(Et){var Pl=Et._fullLayout,El=ls.filterVisible(Pl.shapes);if(!(!El.length||!Et._fullData.length))for(var Fl=0;Fl<El.length;Fl++){var $l=El[Fl];$l._extremes={};var Nl,Ll,Ol=_t.getRefType($l.xref),Bl=_t.getRefType($l.yref);$l.xref!=="paper"&&Ol!=="domain"&&(Nl=_t.getFromId(Et,$l.xref),Ll=Al(Nl,$l,Fn.paramIsX),Ll&&($l._extremes[Nl._id]=_t.findExtremes(Nl,Ll,Bn($l)))),$l.yref!=="paper"&&Bl!=="domain"&&(Nl=_t.getFromId(Et,$l.yref),Ll=Al(Nl,$l,Fn.paramIsY),Ll&&($l._extremes[Nl._id]=_t.findExtremes(Nl,Ll,yl($l))))}};function Bn(Et){return Sl(Et.line.width,Et.xsizemode,Et.x0,Et.x1,Et.path,!1)}function yl(Et){return Sl(Et.line.width,Et.ysizemode,Et.y0,Et.y1,Et.path,!0)}function Sl(Et,Pl,El,Fl,$l,Nl){var Ll=Et/2,Ol=Nl;if(Pl==="pixel"){var Bl=$l?xl.extractPathCoords($l,Nl?Fn.paramIsY:Fn.paramIsX):[El,Fl],_l=ls.aggNums(Math.max,null,Bl),Rl=ls.aggNums(Math.min,null,Bl),Il=Rl<0?Math.abs(Rl)+Ll:Ll,Hl=_l>0?_l+Ll:Ll;return{ppad:Ll,ppadplus:Ol?Il:Hl,ppadminus:Ol?Hl:Il}}else return{ppad:Ll}}function Al(Et,Pl,El){var Fl=Et._id.charAt(0)==="x"?"x":"y",$l=Et.type==="category"||Et.type==="multicategory",Nl,Ll,Ol=0,Bl=0,_l=$l?Et.r2c:Et.d2c,Rl=Pl[Fl+"sizemode"]==="scaled";if(Rl?(Nl=Pl[Fl+"0"],Ll=Pl[Fl+"1"],$l&&(Ol=Pl[Fl+"0shift"],Bl=Pl[Fl+"1shift"])):(Nl=Pl[Fl+"anchor"],Ll=Pl[Fl+"anchor"]),Nl!==void 0)return[_l(Nl)+Ol,_l(Ll)+Bl];if(Pl.path){var Il=1/0,Hl=-1/0,Kl=Pl.path.match(Fn.segmentRE),Gu,vu,hu,Yl,$u;for(Et.type==="date"&&(_l=xl.decodeDate(_l)),Gu=0;Gu<Kl.length;Gu++)vu=Kl[Gu],hu=El[vu.charAt(0)].drawn,hu!==void 0&&(Yl=Kl[Gu].substr(1).match(Fn.paramRE),!(!Yl||Yl.length<hu)&&($u=_l(Yl[hu]),$u<Il&&(Il=$u),$u>Hl&&(Hl=$u)));if(Hl>=Il)return[Il,Hl]}}}),eC=a((Mu,yu)=>{var ls=x3();yu.exports={moduleType:"component",name:"shapes",layoutAttributes:K2(),supplyLayoutDefaults:W3(),supplyDrawNewShapeDefaults:Jw(),includeBasePlot:T2()("shapes"),calcAutorange:Vx(),draw:ls.draw,drawOne:ls.drawOne}}),g2=a((Mu,yu)=>{var ls=A1(),_t=hv().templatedArray;o2(),yu.exports=_t("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",ls.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",ls.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})}),U3=a((Mu,yu)=>{var ls=vm(),_t=pv(),Fn=Kv(),xl=g2(),Bn="images";yu.exports=function(Sl,Al){var Et={name:Bn,handleItemDefaults:yl};Fn(Sl,Al,Et)};function yl(Sl,Al,Et){function Pl(Rl,Il){return ls.coerce(Sl,Al,xl,Rl,Il)}var El=Pl("source"),Fl=Pl("visible",!!El);if(!Fl)return Al;Pl("layer"),Pl("xanchor"),Pl("yanchor"),Pl("sizex"),Pl("sizey"),Pl("sizing"),Pl("opacity");for(var $l={_fullLayout:Et},Nl=["x","y"],Ll=0;Ll<2;Ll++){var Ol=Nl[Ll],Bl=_t.coerceRef(Sl,Al,$l,Ol,"paper",void 0);if(Bl!=="paper"){var _l=_t.getFromId($l,Bl);_l._imgIndices.push(Al._index)}_t.coercePosition(Al,$l,Pl,Bl,Ol,0)}return Al}}),tC=a((Mu,yu)=>{var ls=g(),_t=V1(),Fn=pv(),xl=mv(),Bn=Wy();yu.exports=function(yl){var Sl=yl._fullLayout,Al=[],Et={},Pl=[],El,Fl;for(Fl=0;Fl<Sl.images.length;Fl++){var $l=Sl.images[Fl];if($l.visible)if($l.layer==="below"&&$l.xref!=="paper"&&$l.yref!=="paper"){El=xl.ref2id($l.xref)+xl.ref2id($l.yref);var Nl=Sl._plots[El];if(!Nl){Pl.push($l);continue}Nl.mainplot&&(El=Nl.mainplot.id),Et[El]||(Et[El]=[]),Et[El].push($l)}else $l.layer==="above"?Al.push($l):Pl.push($l)}var Ll={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-1/2},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-1/2},bottom:{sizing:"YMax",offset:-1}}};function Ol(hu){var Yl=ls.select(this);if(this._imgSrc!==hu.source)if(Yl.attr("xmlns",Bn.svg),!yl._context.staticPlot||hu.source&&hu.source.slice(0,5)==="data:")Yl.attr("xlink:href",hu.source),this._imgSrc=hu.source;else{var $u=new Promise((function(bu){var Lu=new Image;this.img=Lu,Lu.setAttribute("crossOrigin","anonymous"),Lu.onerror=Fu,Lu.onload=function(){var Du=document.createElement("canvas");Du.width=this.width,Du.height=this.height;var Hu=Du.getContext("2d",{willReadFrequently:!0});Hu.drawImage(this,0,0);var Vu=Du.toDataURL("image/png");Yl.attr("xlink:href",Vu),bu()},Yl.on("error",Fu),Lu.src=hu.source,this._imgSrc=hu.source;function Fu(){Yl.remove(),bu()}}).bind(this));yl._promises.push($u)}}function Bl(hu){var Yl=ls.select(this),$u=Fn.getFromId(yl,hu.xref),bu=Fn.getFromId(yl,hu.yref),Lu=Fn.getRefType(hu.xref)==="domain",Fu=Fn.getRefType(hu.yref)==="domain",Du=Sl._size,Hu,Vu;$u!==void 0?Hu=typeof hu.xref=="string"&&Lu?$u._length*hu.sizex:Math.abs($u.l2p(hu.sizex)-$u.l2p(0)):Hu=hu.sizex*Du.w,bu!==void 0?Vu=typeof hu.yref=="string"&&Fu?bu._length*hu.sizey:Math.abs(bu.l2p(hu.sizey)-bu.l2p(0)):Vu=hu.sizey*Du.h;var gu=Hu*Ll.x[hu.xanchor].offset,Wu=Vu*Ll.y[hu.yanchor].offset,qu=Ll.x[hu.xanchor].sizing+Ll.y[hu.yanchor].sizing,np,_h;switch($u!==void 0?np=typeof hu.xref=="string"&&Lu?$u._length*hu.x+$u._offset:$u.r2p(hu.x)+$u._offset:np=hu.x*Du.w+Du.l,np+=gu,bu!==void 0?_h=typeof hu.yref=="string"&&Fu?bu._length*(1-hu.y)+bu._offset:bu.r2p(hu.y)+bu._offset:_h=Du.h-hu.y*Du.h+Du.t,_h+=Wu,hu.sizing){case"fill":qu+=" slice";break;case"stretch":qu="none";break}Yl.attr({x:np,y:_h,width:Hu,height:Vu,preserveAspectRatio:qu,opacity:hu.opacity});var ap=$u&&Fn.getRefType(hu.xref)!=="domain"?$u._id:"",bp=bu&&Fn.getRefType(hu.yref)!=="domain"?bu._id:"",wp=ap+bp;_t.setClipUrl(Yl,wp?"clip"+Sl._uid+wp:null,yl)}function _l(hu){return[hu.xref,hu.x,hu.sizex,hu.yref,hu.y,hu.sizey].join("_")}function Rl(hu,Yl){return hu._index-Yl._index}var Il=Sl._imageLowerLayer.selectAll("image").data(Pl,_l),Hl=Sl._imageUpperLayer.selectAll("image").data(Al,_l);Il.enter().append("image"),Hl.enter().append("image"),Il.exit().remove(),Hl.exit().remove(),Il.each(function(hu){Ol.bind(this)(hu),Bl.bind(this)(hu)}),Hl.each(function(hu){Ol.bind(this)(hu),Bl.bind(this)(hu)}),Il.sort(Rl),Hl.sort(Rl);var Kl=Object.keys(Sl._plots);for(Fl=0;Fl<Kl.length;Fl++){El=Kl[Fl];var Gu=Sl._plots[El];if(Gu.imagelayer){var vu=Gu.imagelayer.selectAll("image").data(Et[El]||[],_l);vu.enter().append("image"),vu.exit().remove(),vu.each(function(hu){Ol.bind(this)(hu),Bl.bind(this)(hu)}),vu.sort(Rl)}}}}),rC=a((Mu,yu)=>{var ls=rt(),_t=Ln();yu.exports=function(Fn,xl,Bn,yl){xl=xl||{};var Sl=Bn==="log"&&xl.type==="linear",Al=Bn==="linear"&&xl.type==="log";if(Sl||Al){for(var Et=Fn._fullLayout.images,Pl=xl._id.charAt(0),El,Fl,$l=0;$l<Et.length;$l++)if(El=Et[$l],Fl="images["+$l+"].",El[Pl+"ref"]===xl._id){var Nl=El[Pl],Ll=El["size"+Pl],Ol=null,Bl=null;if(Sl){Ol=_t(Nl,xl.range);var _l=Ll/Math.pow(10,Ol)/2;Bl=2*Math.log(_l+Math.sqrt(1+_l*_l))/Math.LN10}else Ol=Math.pow(10,Nl),Bl=Ol*(Math.pow(10,Ll/2)-Math.pow(10,-Ll/2));ls(Ol)?ls(Bl)||(Bl=null):(Ol=null,Bl=null),yl(Fl+Pl,Ol),yl(Fl+"size"+Pl,Bl)}}}}),nC=a((Mu,yu)=>{yu.exports={moduleType:"component",name:"images",layoutAttributes:g2(),supplyLayoutDefaults:U3(),includeBasePlot:T2()("images"),draw:tC(),convertCoords:rC()}}),q3=a((Mu,yu)=>{yu.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}}),Wx=a((Mu,yu)=>{var ls=Ml(),_t=Ju(),Fn=In().extendFlat,xl=Q0().overrideAll,Bn=pp(),yl=hv().templatedArray,Sl=yl("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});yu.exports=xl(yl("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:Sl,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:Fn(Bn({editType:"arraydraw"}),{}),font:ls({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:_t.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")}),iC=a((Mu,yu)=>{var ls=vm(),_t=Kv(),Fn=Wx(),xl=q3(),Bn=xl.name,yl=Fn.buttons;yu.exports=function(Et,Pl){var El={name:Bn,handleItemDefaults:Sl};_t(Et,Pl,El)};function Sl(Et,Pl,El){function Fl(Ll,Ol){return ls.coerce(Et,Pl,Fn,Ll,Ol)}var $l=_t(Et,Pl,{name:"buttons",handleItemDefaults:Al}),Nl=Fl("visible",$l.length>0);Nl&&(Fl("active"),Fl("direction"),Fl("type"),Fl("showactive"),Fl("x"),Fl("y"),ls.noneOrAll(Et,Pl,["x","y"]),Fl("xanchor"),Fl("yanchor"),Fl("pad.t"),Fl("pad.r"),Fl("pad.b"),Fl("pad.l"),ls.coerceFont(Fl,"font",El.font),Fl("bgcolor",El.paper_bgcolor),Fl("bordercolor"),Fl("borderwidth"))}function Al(Et,Pl){function El($l,Nl){return ls.coerce(Et,Pl,yl,$l,Nl)}var Fl=El("visible",Et.method==="skip"||Array.isArray(Et.args));Fl&&(El("method"),El("args"),El("args2"),El("label"),El("execute"))}}),oC=a((Mu,yu)=>{yu.exports=Bn;var ls=g(),_t=cp(),Fn=V1(),xl=vm();function Bn(yl,Sl,Al){this.gd=yl,this.container=Sl,this.id=Al,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}Bn.barWidth=2,Bn.barLength=20,Bn.barRadius=2,Bn.barPad=1,Bn.barColor="#808BA4",Bn.prototype.enable=function(yl,Sl,Al){var Et=this.gd._fullLayout,Pl=Et.width,El=Et.height;this.position=yl;var Fl=this.position.l,$l=this.position.w,Nl=this.position.t,Ll=this.position.h,Ol=this.position.direction,Bl=Ol==="down",_l=Ol==="left",Rl=Ol==="right",Il=Ol==="up",Hl=$l,Kl=Ll,Gu,vu,hu,Yl;!Bl&&!_l&&!Rl&&!Il&&(this.position.direction="down",Bl=!0);var $u=Bl||Il;$u?(Gu=Fl,vu=Gu+Hl,Bl?(hu=Nl,Yl=Math.min(hu+Kl,El),Kl=Yl-hu):(Yl=Nl+Kl,hu=Math.max(Yl-Kl,0),Kl=Yl-hu)):(hu=Nl,Yl=hu+Kl,_l?(vu=Fl+Hl,Gu=Math.max(vu-Hl,0),Hl=vu-Gu):(Gu=Fl,vu=Math.min(Gu+Hl,Pl),Hl=vu-Gu)),this._box={l:Gu,t:hu,w:Hl,h:Kl};var bu=$l>Hl,Lu=Bn.barLength+2*Bn.barPad,Fu=Bn.barWidth+2*Bn.barPad,Du=Fl,Hu=Nl+Ll;Hu+Fu>El&&(Hu=El-Fu);var Vu=this.container.selectAll("rect.scrollbar-horizontal").data(bu?[0]:[]);Vu.exit().on(".drag",null).remove(),Vu.enter().append("rect").classed("scrollbar-horizontal",!0).call(_t.fill,Bn.barColor),bu?(this.hbar=Vu.attr({rx:Bn.barRadius,ry:Bn.barRadius,x:Du,y:Hu,width:Lu,height:Fu}),this._hbarXMin=Du+Lu/2,this._hbarTranslateMax=Hl-Lu):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var gu=Ll>Kl,Wu=Bn.barWidth+2*Bn.barPad,qu=Bn.barLength+2*Bn.barPad,np=Fl+$l,_h=Nl;np+Wu>Pl&&(np=Pl-Wu);var ap=this.container.selectAll("rect.scrollbar-vertical").data(gu?[0]:[]);ap.exit().on(".drag",null).remove(),ap.enter().append("rect").classed("scrollbar-vertical",!0).call(_t.fill,Bn.barColor),gu?(this.vbar=ap.attr({rx:Bn.barRadius,ry:Bn.barRadius,x:np,y:_h,width:Wu,height:qu}),this._vbarYMin=_h+qu/2,this._vbarTranslateMax=Kl-qu):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var bp=this.id,wp=Gu-.5,kp=gu?vu+Wu+.5:vu+.5,Iu=hu-.5,Bu=bu?Yl+Fu+.5:Yl+.5,Xl=Et._topdefs.selectAll("#"+bp).data(bu||gu?[0]:[]);if(Xl.exit().remove(),Xl.enter().append("clipPath").attr("id",bp).append("rect"),bu||gu?(this._clipRect=Xl.select("rect").attr({x:Math.floor(wp),y:Math.floor(Iu),width:Math.ceil(kp)-Math.floor(wp),height:Math.ceil(Bu)-Math.floor(Iu)}),this.container.call(Fn.setClipUrl,bp,this.gd),this.bg.attr({x:Fl,y:Nl,width:$l,height:Ll})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Fn.setClipUrl,null),delete this._clipRect),bu||gu){var Uu=ls.behavior.drag().on("dragstart",function(){ls.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(Uu);var ep=ls.behavior.drag().on("dragstart",function(){ls.event.sourceEvent.preventDefault(),ls.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));bu&&this.hbar.on(".drag",null).call(ep),gu&&this.vbar.on(".drag",null).call(ep)}this.setTranslate(Sl,Al)},Bn.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(Fn.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},Bn.prototype._onBoxDrag=function(){var yl=this.translateX,Sl=this.translateY;this.hbar&&(yl-=ls.event.dx),this.vbar&&(Sl-=ls.event.dy),this.setTranslate(yl,Sl)},Bn.prototype._onBoxWheel=function(){var yl=this.translateX,Sl=this.translateY;this.hbar&&(yl+=ls.event.deltaY),this.vbar&&(Sl+=ls.event.deltaY),this.setTranslate(yl,Sl)},Bn.prototype._onBarDrag=function(){var yl=this.translateX,Sl=this.translateY;if(this.hbar){var Al=yl+this._hbarXMin,Et=Al+this._hbarTranslateMax,Pl=xl.constrain(ls.event.x,Al,Et),El=(Pl-Al)/(Et-Al),Fl=this.position.w-this._box.w;yl=El*Fl}if(this.vbar){var $l=Sl+this._vbarYMin,Nl=$l+this._vbarTranslateMax,Ll=xl.constrain(ls.event.y,$l,Nl),Ol=(Ll-$l)/(Nl-$l),Bl=this.position.h-this._box.h;Sl=Ol*Bl}this.setTranslate(yl,Sl)},Bn.prototype.setTranslate=function(yl,Sl){var Al=this.position.w-this._box.w,Et=this.position.h-this._box.h;if(yl=xl.constrain(yl||0,0,Al),Sl=xl.constrain(Sl||0,0,Et),this.translateX=yl,this.translateY=Sl,this.container.call(Fn.setTranslate,this._box.l-this.position.l-yl,this._box.t-this.position.t-Sl),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+yl-.5),y:Math.floor(this.position.t+Sl-.5)}),this.hbar){var Pl=yl/Al;this.hbar.call(Fn.setTranslate,yl+Pl*this._hbarTranslateMax,Sl)}if(this.vbar){var El=Sl/Et;this.vbar.call(Fn.setTranslate,yl,Sl+El*this._vbarTranslateMax)}}}),aC=a((Mu,yu)=>{var ls=g(),_t=Fv(),Fn=cp(),xl=V1(),Bn=vm(),yl=Wv(),Sl=hv().arrayEditor,Al=qv().LINE_SPACING,Et=q3(),Pl=oC();yu.exports=function(Lu){var Fu=Lu._fullLayout,Du=Bn.filterVisible(Fu[Et.name]);function Hu(bp){_t.autoMargin(Lu,Yl(bp))}var Vu=Fu._menulayer.selectAll("g."+Et.containerClassName).data(Du.length>0?[0]:[]);if(Vu.enter().append("g").classed(Et.containerClassName,!0).style("cursor","pointer"),Vu.exit().each(function(){ls.select(this).selectAll("g."+Et.headerGroupClassName).each(Hu)}).remove(),Du.length!==0){var gu=Vu.selectAll("g."+Et.headerGroupClassName).data(Du,El);gu.enter().append("g").classed(Et.headerGroupClassName,!0);for(var Wu=Bn.ensureSingle(Vu,"g",Et.dropdownButtonGroupClassName,function(bp){bp.style("pointer-events","all")}),qu=0;qu<Du.length;qu++){var np=Du[qu];hu(Lu,np)}var _h="updatemenus"+Fu._uid,ap=new Pl(Lu,Wu,_h);gu.enter().size()&&(Wu.node().parentNode.appendChild(Wu.node()),Wu.call(bu)),gu.exit().each(function(bp){Wu.call(bu),Hu(bp)}).remove(),gu.each(function(bp){var wp=ls.select(this),kp=bp.type==="dropdown"?Wu:null;_t.manageCommandObserver(Lu,bp,bp.buttons,function(Iu){Nl(Lu,bp,bp.buttons[Iu.index],wp,kp,ap,Iu.index,!0)}),bp.type==="dropdown"?(Ll(Lu,wp,Wu,ap,bp),$l(Wu,bp)&&Ol(Lu,wp,Wu,ap,bp)):Ol(Lu,wp,null,null,bp)})}};function El(Lu){return Lu._index}function Fl(Lu){return+Lu.attr(Et.menuIndexAttrName)==-1}function $l(Lu,Fu){return+Lu.attr(Et.menuIndexAttrName)===Fu._index}function Nl(Lu,Fu,Du,Hu,Vu,gu,Wu,qu){Fu.active=Wu,Sl(Lu.layout,Et.name,Fu).applyUpdate("active",Wu),Fu.type==="buttons"?Ol(Lu,Hu,null,null,Fu):Fu.type==="dropdown"&&(Vu.attr(Et.menuIndexAttrName,"-1"),Ll(Lu,Hu,Vu,gu,Fu),qu||Ol(Lu,Hu,Vu,gu,Fu))}function Ll(Lu,Fu,Du,Hu,Vu){var gu=Bn.ensureSingle(Fu,"g",Et.headerClassName,function(wp){wp.style("pointer-events","all")}),Wu=Vu._dims,qu=Vu.active,np=Vu.buttons[qu]||Et.blankHeaderOpts,_h={y:Vu.pad.t,yPad:0,x:Vu.pad.l,xPad:0,index:0},ap={width:Wu.headerWidth,height:Wu.headerHeight};gu.call(Rl,Vu,np,Lu).call($u,Vu,_h,ap);var bp=Bn.ensureSingle(Fu,"text",Et.headerArrowClassName,function(wp){wp.attr("text-anchor","end").call(xl.font,Vu.font).text(Et.arrowSymbol[Vu.direction])});bp.attr({x:Wu.headerWidth-Et.arrowOffsetX+Vu.pad.l,y:Wu.headerHeight/2+Et.textOffsetY+Vu.pad.t}),gu.on("click",function(){Du.call(bu,String($l(Du,Vu)?-1:Vu._index)),Ol(Lu,Fu,Du,Hu,Vu)}),gu.on("mouseover",function(){gu.call(Gu)}),gu.on("mouseout",function(){gu.call(vu,Vu)}),xl.setTranslate(Fu,Wu.lx,Wu.ly)}function Ol(Lu,Fu,Du,Hu,Vu){Du||(Du=Fu,Du.attr("pointer-events","all"));var gu=!Fl(Du)||Vu.type==="buttons"?Vu.buttons:[],Wu=Vu.type==="dropdown"?Et.dropdownButtonClassName:Et.buttonClassName,qu=Du.selectAll("g."+Wu).data(Bn.filterVisible(gu)),np=qu.enter().append("g").classed(Wu,!0),_h=qu.exit();Vu.type==="dropdown"?(np.attr("opacity","0").transition().attr("opacity","1"),_h.transition().attr("opacity","0").remove()):_h.remove();var ap=0,bp=0,wp=Vu._dims,kp=["up","down"].indexOf(Vu.direction)!==-1;Vu.type==="dropdown"&&(kp?bp=wp.headerHeight+Et.gapButtonHeader:ap=wp.headerWidth+Et.gapButtonHeader),Vu.type==="dropdown"&&Vu.direction==="up"&&(bp=-Et.gapButtonHeader+Et.gapButton-wp.openHeight),Vu.type==="dropdown"&&Vu.direction==="left"&&(ap=-Et.gapButtonHeader+Et.gapButton-wp.openWidth);var Iu={x:wp.lx+ap+Vu.pad.l,y:wp.ly+bp+Vu.pad.t,yPad:Et.gapButton,xPad:Et.gapButton,index:0},Bu={l:Iu.x+Vu.borderwidth,t:Iu.y+Vu.borderwidth};qu.each(function(Xl,Uu){var ep=ls.select(this);ep.call(Rl,Vu,Xl,Lu).call($u,Vu,Iu),ep.on("click",function(){ls.event.defaultPrevented||(Xl.execute&&(Xl.args2&&Vu.active===Uu?(Nl(Lu,Vu,Xl,Fu,Du,Hu,-1),_t.executeAPICommand(Lu,Xl.method,Xl.args2)):(Nl(Lu,Vu,Xl,Fu,Du,Hu,Uu),_t.executeAPICommand(Lu,Xl.method,Xl.args))),Lu.emit("plotly_buttonclicked",{menu:Vu,button:Xl,active:Vu.active}))}),ep.on("mouseover",function(){ep.call(Gu)}),ep.on("mouseout",function(){ep.call(vu,Vu),qu.call(Kl,Vu)})}),qu.call(Kl,Vu),kp?(Bu.w=Math.max(wp.openWidth,wp.headerWidth),Bu.h=Iu.y-Bu.t):(Bu.w=Iu.x-Bu.l,Bu.h=Math.max(wp.openHeight,wp.headerHeight)),Bu.direction=Vu.direction,Hu&&(qu.size()?Bl(Lu,Fu,Du,Hu,Vu,Bu):_l(Hu))}function Bl(Lu,Fu,Du,Hu,Vu,gu){var Wu=Vu.direction,qu=Wu==="up"||Wu==="down",np=Vu._dims,_h=Vu.active,ap,bp,wp;if(qu)for(bp=0,wp=0;wp<_h;wp++)bp+=np.heights[wp]+Et.gapButton;else for(ap=0,wp=0;wp<_h;wp++)ap+=np.widths[wp]+Et.gapButton;Hu.enable(gu,ap,bp),Hu.hbar&&Hu.hbar.attr("opacity","0").transition().attr("opacity","1"),Hu.vbar&&Hu.vbar.attr("opacity","0").transition().attr("opacity","1")}function _l(Lu){var Fu=!!Lu.hbar,Du=!!Lu.vbar;Fu&&Lu.hbar.transition().attr("opacity","0").each("end",function(){Fu=!1,Du||Lu.disable()}),Du&&Lu.vbar.transition().attr("opacity","0").each("end",function(){Du=!1,Fu||Lu.disable()})}function Rl(Lu,Fu,Du,Hu){Lu.call(Il,Fu).call(Hl,Fu,Du,Hu)}function Il(Lu,Fu){var Du=Bn.ensureSingle(Lu,"rect",Et.itemRectClassName,function(Hu){Hu.attr({rx:Et.rx,ry:Et.ry,"shape-rendering":"crispEdges"})});Du.call(Fn.stroke,Fu.bordercolor).call(Fn.fill,Fu.bgcolor).style("stroke-width",Fu.borderwidth+"px")}function Hl(Lu,Fu,Du,Hu){var Vu=Bn.ensureSingle(Lu,"text",Et.itemTextClassName,function(qu){qu.attr({"text-anchor":"start","data-notex":1})}),gu=Du.label,Wu=Hu._fullLayout._meta;Wu&&(gu=Bn.templateString(gu,Wu)),Vu.call(xl.font,Fu.font).text(gu).call(yl.convertToTspans,Hu)}function Kl(Lu,Fu){var Du=Fu.active;Lu.each(function(Hu,Vu){var gu=ls.select(this);Vu===Du&&Fu.showactive&&gu.select("rect."+Et.itemRectClassName).call(Fn.fill,Et.activeColor)})}function Gu(Lu){Lu.select("rect."+Et.itemRectClassName).call(Fn.fill,Et.hoverColor)}function vu(Lu,Fu){Lu.select("rect."+Et.itemRectClassName).call(Fn.fill,Fu.bgcolor)}function hu(Lu,Fu){var Du=Fu._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},Hu=xl.tester.selectAll("g."+Et.dropdownButtonClassName).data(Bn.filterVisible(Fu.buttons));Hu.enter().append("g").classed(Et.dropdownButtonClassName,!0);var Vu=["up","down"].indexOf(Fu.direction)!==-1;Hu.each(function(ap,bp){var wp=ls.select(this);wp.call(Rl,Fu,ap,Lu);var kp=wp.select("."+Et.itemTextClassName),Iu=kp.node()&&xl.bBox(kp.node()).width,Bu=Math.max(Iu+Et.textPadX,Et.minWidth),Xl=Fu.font.size*Al,Uu=yl.lineCount(kp),ep=Math.max(Xl*Uu,Et.minHeight)+Et.textOffsetY;ep=Math.ceil(ep),Bu=Math.ceil(Bu),Du.widths[bp]=Bu,Du.heights[bp]=ep,Du.height1=Math.max(Du.height1,ep),Du.width1=Math.max(Du.width1,Bu),Vu?(Du.totalWidth=Math.max(Du.totalWidth,Bu),Du.openWidth=Du.totalWidth,Du.totalHeight+=ep+Et.gapButton,Du.openHeight+=ep+Et.gapButton):(Du.totalWidth+=Bu+Et.gapButton,Du.openWidth+=Bu+Et.gapButton,Du.totalHeight=Math.max(Du.totalHeight,ep),Du.openHeight=Du.totalHeight)}),Vu?Du.totalHeight-=Et.gapButton:Du.totalWidth-=Et.gapButton,Du.headerWidth=Du.width1+Et.arrowPadX,Du.headerHeight=Du.height1,Fu.type==="dropdown"&&(Vu?(Du.width1+=Et.arrowPadX,Du.totalHeight=Du.height1):Du.totalWidth=Du.width1,Du.totalWidth+=Et.arrowPadX),Hu.remove();var gu=Du.totalWidth+Fu.pad.l+Fu.pad.r,Wu=Du.totalHeight+Fu.pad.t+Fu.pad.b,qu=Lu._fullLayout._size;Du.lx=qu.l+qu.w*Fu.x,Du.ly=qu.t+qu.h*(1-Fu.y);var np="left";Bn.isRightAnchor(Fu)&&(Du.lx-=gu,np="right"),Bn.isCenterAnchor(Fu)&&(Du.lx-=gu/2,np="center");var _h="top";Bn.isBottomAnchor(Fu)&&(Du.ly-=Wu,_h="bottom"),Bn.isMiddleAnchor(Fu)&&(Du.ly-=Wu/2,_h="middle"),Du.totalWidth=Math.ceil(Du.totalWidth),Du.totalHeight=Math.ceil(Du.totalHeight),Du.lx=Math.round(Du.lx),Du.ly=Math.round(Du.ly),_t.autoMargin(Lu,Yl(Fu),{x:Fu.x,y:Fu.y,l:gu*({right:1,center:.5}[np]||0),r:gu*({left:1,center:.5}[np]||0),b:Wu*({top:1,middle:.5}[_h]||0),t:Wu*({bottom:1,middle:.5}[_h]||0)})}function Yl(Lu){return Et.autoMarginIdRoot+Lu._index}function $u(Lu,Fu,Du,Hu){Hu=Hu||{};var Vu=Lu.select("."+Et.itemRectClassName),gu=Lu.select("."+Et.itemTextClassName),Wu=Fu.borderwidth,qu=Du.index,np=Fu._dims;xl.setTranslate(Lu,Wu+Du.x,Wu+Du.y);var _h=["up","down"].indexOf(Fu.direction)!==-1,ap=Hu.height||(_h?np.heights[qu]:np.height1);Vu.attr({x:0,y:0,width:Hu.width||(_h?np.width1:np.widths[qu]),height:ap});var bp=Fu.font.size*Al,wp=yl.lineCount(gu),kp=(wp-1)*bp/2;yl.positionText(gu,Et.textOffsetX,ap/2-kp+Et.textOffsetY),_h?Du.y+=np.heights[qu]+Du.yPad:Du.x+=np.widths[qu]+Du.xPad,Du.index++}function bu(Lu,Fu){Lu.attr(Et.menuIndexAttrName,Fu||"-1").selectAll("g."+Et.dropdownButtonClassName).remove()}}),sC=a((Mu,yu)=>{var ls=q3();yu.exports={moduleType:"component",name:ls.name,layoutAttributes:Wx(),supplyLayoutDefaults:iC(),draw:aC()}}),Z2=a((Mu,yu)=>{yu.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}}),Ux=a((Mu,yu)=>{var ls=Ml(),_t=pp(),Fn=In().extendDeepAll,xl=Q0().overrideAll,Bn=j0(),yl=hv().templatedArray,Sl=Z2(),Al=yl("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});yu.exports=xl(yl("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:Al,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:Fn(_t({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:Bn.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:ls({})},font:ls({}),activebgcolor:{valType:"color",dflt:Sl.gripBgActiveColor},bgcolor:{valType:"color",dflt:Sl.railBgColor},bordercolor:{valType:"color",dflt:Sl.railBorderColor},borderwidth:{valType:"number",min:0,dflt:Sl.railBorderWidth},ticklen:{valType:"number",min:0,dflt:Sl.tickLength},tickcolor:{valType:"color",dflt:Sl.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:Sl.minorTickLength}}),"arraydraw","from-root")}),lC=a((Mu,yu)=>{var ls=vm(),_t=Kv(),Fn=Ux(),xl=Z2(),Bn=xl.name,yl=Fn.steps;yu.exports=function(Et,Pl){_t(Et,Pl,{name:Bn,handleItemDefaults:Sl})};function Sl(Et,Pl,El){function Fl(Il,Hl){return ls.coerce(Et,Pl,Fn,Il,Hl)}for(var $l=_t(Et,Pl,{name:"steps",handleItemDefaults:Al}),Nl=0,Ll=0;Ll<$l.length;Ll++)$l[Ll].visible&&Nl++;var Ol;if(Nl<2?Ol=Pl.visible=!1:Ol=Fl("visible"),!!Ol){Pl._stepCount=Nl;var Bl=Pl._visibleSteps=ls.filterVisible($l),_l=Fl("active");($l[_l]||{}).visible||(Pl.active=Bl[0]._index),Fl("x"),Fl("y"),ls.noneOrAll(Et,Pl,["x","y"]),Fl("xanchor"),Fl("yanchor"),Fl("len"),Fl("lenmode"),Fl("pad.t"),Fl("pad.r"),Fl("pad.b"),Fl("pad.l"),ls.coerceFont(Fl,"font",El.font);var Rl=Fl("currentvalue.visible");Rl&&(Fl("currentvalue.xanchor"),Fl("currentvalue.prefix"),Fl("currentvalue.suffix"),Fl("currentvalue.offset"),ls.coerceFont(Fl,"currentvalue.font",Pl.font)),Fl("transition.duration"),Fl("transition.easing"),Fl("bgcolor"),Fl("activebgcolor"),Fl("bordercolor"),Fl("borderwidth"),Fl("ticklen"),Fl("tickwidth"),Fl("tickcolor"),Fl("minorticklen")}}function Al(Et,Pl){function El(Nl,Ll){return ls.coerce(Et,Pl,yl,Nl,Ll)}var Fl;if(Et.method!=="skip"&&!Array.isArray(Et.args)?Fl=Pl.visible=!1:Fl=El("visible"),Fl){El("method"),El("args");var $l=El("label","step-"+Pl._index);El("value",$l),El("execute")}}}),cC=a((Mu,yu)=>{var ls=g(),_t=Fv(),Fn=cp(),xl=V1(),Bn=vm(),yl=Bn.strTranslate,Sl=Wv(),Al=hv().arrayEditor,Et=Z2(),Pl=qv(),El=Pl.LINE_SPACING,Fl=Pl.FROM_TL,$l=Pl.FROM_BR;yu.exports=function(Vu){var gu=Vu._context.staticPlot,Wu=Vu._fullLayout,qu=Ll(Wu,Vu),np=Wu._infolayer.selectAll("g."+Et.containerClassName).data(qu.length>0?[0]:[]);np.enter().append("g").classed(Et.containerClassName,!0).style("cursor",gu?null:"ew-resize");function _h(kp){kp._commandObserver&&(kp._commandObserver.remove(),delete kp._commandObserver),_t.autoMargin(Vu,Nl(kp))}if(np.exit().each(function(){ls.select(this).selectAll("g."+Et.groupClassName).each(_h)}).remove(),qu.length!==0){var ap=np.selectAll("g."+Et.groupClassName).data(qu,Ol);ap.enter().append("g").classed(Et.groupClassName,!0),ap.exit().each(_h).remove();for(var bp=0;bp<qu.length;bp++){var wp=qu[bp];Bl(Vu,wp)}ap.each(function(kp){var Iu=ls.select(this);$u(kp),_t.manageCommandObserver(Vu,kp,kp._visibleSteps,function(Bu){var Xl=Iu.data()[0];Xl.active!==Bu.index&&(Xl._dragging||vu(Vu,Iu,Xl,Bu.index,!1,!0))}),_l(Vu,ls.select(this),kp)})}};function Nl(Vu){return Et.autoMarginIdRoot+Vu._index}function Ll(Vu,gu){for(var Wu=Vu[Et.name],qu=[],np=0;np<Wu.length;np++){var _h=Wu[np];_h.visible&&(_h._gd=gu,qu.push(_h))}return qu}function Ol(Vu){return Vu._index}function Bl(Vu,gu){var Wu=xl.tester.selectAll("g."+Et.labelGroupClass).data(gu._visibleSteps);Wu.enter().append("g").classed(Et.labelGroupClass,!0);var qu=0,np=0;Wu.each(function(ep){var _u=ls.select(this),Wl=Hl(_u,{step:ep},gu),Jl=Wl.node();if(Jl){var Pu=xl.bBox(Jl);np=Math.max(np,Pu.height),qu=Math.max(qu,Pu.width)}}),Wu.remove();var _h=gu._dims={};_h.inputAreaWidth=Math.max(Et.railWidth,Et.gripHeight);var ap=Vu._fullLayout._size;_h.lx=ap.l+ap.w*gu.x,_h.ly=ap.t+ap.h*(1-gu.y),gu.lenmode==="fraction"?_h.outerLength=Math.round(ap.w*gu.len):_h.outerLength=gu.len,_h.inputAreaStart=0,_h.inputAreaLength=Math.round(_h.outerLength-gu.pad.l-gu.pad.r);var bp=_h.inputAreaLength-2*Et.stepInset,wp=bp/(gu._stepCount-1),kp=qu+Et.labelPadding;if(_h.labelStride=Math.max(1,Math.ceil(kp/wp)),_h.labelHeight=np,_h.currentValueMaxWidth=0,_h.currentValueHeight=0,_h.currentValueTotalHeight=0,_h.currentValueMaxLines=1,gu.currentvalue.visible){var Iu=xl.tester.append("g");Wu.each(function(ep){var _u=Rl(Iu,gu,ep.label),Wl=_u.node()&&xl.bBox(_u.node())||{width:0,height:0},Jl=Sl.lineCount(_u);_h.currentValueMaxWidth=Math.max(_h.currentValueMaxWidth,Math.ceil(Wl.width)),_h.currentValueHeight=Math.max(_h.currentValueHeight,Math.ceil(Wl.height)),_h.currentValueMaxLines=Math.max(_h.currentValueMaxLines,Jl)}),_h.currentValueTotalHeight=_h.currentValueHeight+gu.currentvalue.offset,Iu.remove()}_h.height=_h.currentValueTotalHeight+Et.tickOffset+gu.ticklen+Et.labelOffset+_h.labelHeight+gu.pad.t+gu.pad.b;var Bu="left";Bn.isRightAnchor(gu)&&(_h.lx-=_h.outerLength,Bu="right"),Bn.isCenterAnchor(gu)&&(_h.lx-=_h.outerLength/2,Bu="center");var Xl="top";Bn.isBottomAnchor(gu)&&(_h.ly-=_h.height,Xl="bottom"),Bn.isMiddleAnchor(gu)&&(_h.ly-=_h.height/2,Xl="middle"),_h.outerLength=Math.ceil(_h.outerLength),_h.height=Math.ceil(_h.height),_h.lx=Math.round(_h.lx),_h.ly=Math.round(_h.ly);var Uu={y:gu.y,b:_h.height*$l[Xl],t:_h.height*Fl[Xl]};gu.lenmode==="fraction"?(Uu.l=0,Uu.xl=gu.x-gu.len*Fl[Bu],Uu.r=0,Uu.xr=gu.x+gu.len*$l[Bu]):(Uu.x=gu.x,Uu.l=_h.outerLength*Fl[Bu],Uu.r=_h.outerLength*$l[Bu]),_t.autoMargin(Vu,Nl(gu),Uu)}function _l(Vu,gu,Wu){(Wu.steps[Wu.active]||{}).visible||(Wu.active=Wu._visibleSteps[0]._index),gu.call(Rl,Wu).call(Hu,Wu).call(Kl,Wu).call(Yl,Wu).call(Du,Vu,Wu).call(Il,Vu,Wu);var qu=Wu._dims;xl.setTranslate(gu,qu.lx+Wu.pad.l,qu.ly+Wu.pad.t),gu.call(bu,Wu,!1),gu.call(Rl,Wu)}function Rl(Vu,gu,Wu){if(gu.currentvalue.visible){var qu=gu._dims,np,_h;switch(gu.currentvalue.xanchor){case"right":np=qu.inputAreaLength-Et.currentValueInset-qu.currentValueMaxWidth,_h="left";break;case"center":np=qu.inputAreaLength*.5,_h="middle";break;default:np=Et.currentValueInset,_h="left"}var ap=Bn.ensureSingle(Vu,"text",Et.labelClass,function(Xl){Xl.attr({"text-anchor":_h,"data-notex":1})}),bp=gu.currentvalue.prefix?gu.currentvalue.prefix:"";if(typeof Wu=="string")bp+=Wu;else{var wp=gu.steps[gu.active].label,kp=gu._gd._fullLayout._meta;kp&&(wp=Bn.templateString(wp,kp)),bp+=wp}gu.currentvalue.suffix&&(bp+=gu.currentvalue.suffix),ap.call(xl.font,gu.currentvalue.font).text(bp).call(Sl.convertToTspans,gu._gd);var Iu=Sl.lineCount(ap),Bu=(qu.currentValueMaxLines+1-Iu)*gu.currentvalue.font.size*El;return Sl.positionText(ap,np,Bu),ap}}function Il(Vu,gu,Wu){var qu=Bn.ensureSingle(Vu,"rect",Et.gripRectClass,function(np){np.call(hu,gu,Vu,Wu).style("pointer-events","all")});qu.attr({width:Et.gripWidth,height:Et.gripHeight,rx:Et.gripRadius,ry:Et.gripRadius}).call(Fn.stroke,Wu.bordercolor).call(Fn.fill,Wu.bgcolor).style("stroke-width",Wu.borderwidth+"px")}function Hl(Vu,gu,Wu){var qu=Bn.ensureSingle(Vu,"text",Et.labelClass,function(ap){ap.attr({"text-anchor":"middle","data-notex":1})}),np=gu.step.label,_h=Wu._gd._fullLayout._meta;return _h&&(np=Bn.templateString(np,_h)),qu.call(xl.font,Wu.font).text(np).call(Sl.convertToTspans,Wu._gd),qu}function Kl(Vu,gu){var Wu=Bn.ensureSingle(Vu,"g",Et.labelsClass),qu=gu._dims,np=Wu.selectAll("g."+Et.labelGroupClass).data(qu.labelSteps);np.enter().append("g").classed(Et.labelGroupClass,!0),np.exit().remove(),np.each(function(_h){var ap=ls.select(this);ap.call(Hl,_h,gu),xl.setTranslate(ap,Lu(gu,_h.fraction),Et.tickOffset+gu.ticklen+gu.font.size*El+Et.labelOffset+qu.currentValueTotalHeight)})}function Gu(Vu,gu,Wu,qu,np){var _h=Math.round(qu*(Wu._stepCount-1)),ap=Wu._visibleSteps[_h]._index;ap!==Wu.active&&vu(Vu,gu,Wu,ap,!0,np)}function vu(Vu,gu,Wu,qu,np,_h){var ap=Wu.active;Wu.active=qu,Al(Vu.layout,Et.name,Wu).applyUpdate("active",qu);var bp=Wu.steps[Wu.active];gu.call(bu,Wu,_h),gu.call(Rl,Wu),Vu.emit("plotly_sliderchange",{slider:Wu,step:Wu.steps[Wu.active],interaction:np,previousActive:ap}),bp&&bp.method&&np&&(gu._nextMethod?(gu._nextMethod.step=bp,gu._nextMethod.doCallback=np,gu._nextMethod.doTransition=_h):(gu._nextMethod={step:bp,doCallback:np,doTransition:_h},gu._nextMethodRaf=window.requestAnimationFrame(function(){var wp=gu._nextMethod.step;wp.method&&(wp.execute&&_t.executeAPICommand(Vu,wp.method,wp.args),gu._nextMethod=null,gu._nextMethodRaf=null)})))}function hu(Vu,gu,Wu){if(gu._context.staticPlot)return;var qu=Wu.node(),np=ls.select(gu);function _h(){return Wu.data()[0]}function ap(){var bp=_h();gu.emit("plotly_sliderstart",{slider:bp});var wp=Wu.select("."+Et.gripRectClass);ls.event.stopPropagation(),ls.event.preventDefault(),wp.call(Fn.fill,bp.activebgcolor);var kp=Fu(bp,ls.mouse(qu)[0]);Gu(gu,Wu,bp,kp,!0),bp._dragging=!0;function Iu(){var Xl=_h(),Uu=Fu(Xl,ls.mouse(qu)[0]);Gu(gu,Wu,Xl,Uu,!1)}np.on("mousemove",Iu),np.on("touchmove",Iu);function Bu(){var Xl=_h();Xl._dragging=!1,wp.call(Fn.fill,Xl.bgcolor),np.on("mouseup",null),np.on("mousemove",null),np.on("touchend",null),np.on("touchmove",null),gu.emit("plotly_sliderend",{slider:Xl,step:Xl.steps[Xl.active]})}np.on("mouseup",Bu),np.on("touchend",Bu)}Vu.on("mousedown",ap),Vu.on("touchstart",ap)}function Yl(Vu,gu){var Wu=Vu.selectAll("rect."+Et.tickRectClass).data(gu._visibleSteps),qu=gu._dims;Wu.enter().append("rect").classed(Et.tickRectClass,!0),Wu.exit().remove(),Wu.attr({width:gu.tickwidth+"px","shape-rendering":"crispEdges"}),Wu.each(function(np,_h){var ap=_h%qu.labelStride===0,bp=ls.select(this);bp.attr({height:ap?gu.ticklen:gu.minorticklen}).call(Fn.fill,gu.tickcolor),xl.setTranslate(bp,Lu(gu,_h/(gu._stepCount-1))-.5*gu.tickwidth,(ap?Et.tickOffset:Et.minorTickOffset)+qu.currentValueTotalHeight)})}function $u(Vu){var gu=Vu._dims;gu.labelSteps=[];for(var Wu=Vu._stepCount,qu=0;qu<Wu;qu+=gu.labelStride)gu.labelSteps.push({fraction:qu/(Wu-1),step:Vu._visibleSteps[qu]})}function bu(Vu,gu,Wu){for(var qu=Vu.select("rect."+Et.gripRectClass),np=0,_h=0;_h<gu._stepCount;_h++)if(gu._visibleSteps[_h]._index===gu.active){np=_h;break}var ap=Lu(gu,np/(gu._stepCount-1));if(!gu._invokingCommand){var bp=qu;Wu&&gu.transition.duration>0&&(bp=bp.transition().duration(gu.transition.duration).ease(gu.transition.easing)),bp.attr("transform",yl(ap-Et.gripWidth*.5,gu._dims.currentValueTotalHeight))}}function Lu(Vu,gu){var Wu=Vu._dims;return Wu.inputAreaStart+Et.stepInset+(Wu.inputAreaLength-2*Et.stepInset)*Math.min(1,Math.max(0,gu))}function Fu(Vu,gu){var Wu=Vu._dims;return Math.min(1,Math.max(0,(gu-Et.stepInset-Wu.inputAreaStart)/(Wu.inputAreaLength-2*Et.stepInset-2*Wu.inputAreaStart)))}function Du(Vu,gu,Wu){var qu=Wu._dims,np=Bn.ensureSingle(Vu,"rect",Et.railTouchRectClass,function(_h){_h.call(hu,gu,Vu,Wu).style("pointer-events","all")});np.attr({width:qu.inputAreaLength,height:Math.max(qu.inputAreaWidth,Et.tickOffset+Wu.ticklen+qu.labelHeight)}).call(Fn.fill,Wu.bgcolor).attr("opacity",0),xl.setTranslate(np,0,qu.currentValueTotalHeight)}function Hu(Vu,gu){var Wu=gu._dims,qu=Wu.inputAreaLength-Et.railInset*2,np=Bn.ensureSingle(Vu,"rect",Et.railRectClass);np.attr({width:qu,height:Et.railWidth,rx:Et.railRadius,ry:Et.railRadius,"shape-rendering":"crispEdges"}).call(Fn.stroke,gu.bordercolor).call(Fn.fill,gu.bgcolor).style("stroke-width",gu.borderwidth+"px"),xl.setTranslate(np,Et.railInset,(Wu.inputAreaWidth-Et.railWidth)*.5+Wu.currentValueTotalHeight)}}),uC=a((Mu,yu)=>{var ls=Z2();yu.exports={moduleType:"component",name:ls.name,layoutAttributes:Ux(),supplyLayoutDefaults:lC(),draw:cC()}}),X2=a((Mu,yu)=>{var ls=Ju();yu.exports={bgcolor:{valType:"color",dflt:ls.background,editType:"plot"},bordercolor:{valType:"color",dflt:ls.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}}),Y3=a((Mu,yu)=>{yu.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}}),Q2=a((Mu,yu)=>{yu.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}}),qx=a(Mu=>{var yu=mv(),ls=Wv(),_t=Q2(),Fn=qv().LINE_SPACING,xl=_t.name;function Bn(yl){var Sl=yl&&yl[xl];return Sl&&Sl.visible}Mu.isVisible=Bn,Mu.makeData=function(yl){for(var Sl=yu.list({_fullLayout:yl},"x",!0),Al=yl.margin,Et=[],Pl=0;Pl<Sl.length;Pl++){var El=Sl[Pl];if(Bn(El)){Et.push(El);var Fl=El[xl];Fl._id=xl+El._id,Fl._height=(yl.height-Al.b-Al.t)*Fl.thickness,Fl._offsetShift=Math.floor(Fl.borderwidth/2)}}yl._rangeSliderData=Et},Mu.autoMarginOpts=function(yl,Sl){var Al=yl._fullLayout,Et=Sl[xl],Pl=Sl._id.charAt(0),El=0,Fl=0;if(Sl.side==="bottom"&&(El=Sl._depth,Sl.title.text!==Al._dfltTitle[Pl])){Fl=1.5*Sl.title.font.size+10+Et._offsetShift;var $l=(Sl.title.text.match(ls.BR_TAG_ALL)||[]).length;Fl+=$l*Sl.title.font.size*Fn}return{x:0,y:Sl._counterDomainMin,l:0,r:0,t:0,b:Et._height+El+Math.max(Al.margin.b,Fl),pad:_t.extraPad+Et._offsetShift*2}}}),Yx=a((Mu,yu)=>{var ls=vm(),_t=hv(),Fn=mv(),xl=X2(),Bn=Y3();yu.exports=function(yl,Sl,Al){var Et=yl[Al],Pl=Sl[Al];if(!(Et.rangeslider||Sl._requestRangeslider[Pl._id]))return;ls.isPlainObject(Et.rangeslider)||(Et.rangeslider={});var El=Et.rangeslider,Fl=_t.newContainer(Pl,"rangeslider");function $l(Yl,$u){return ls.coerce(El,Fl,xl,Yl,$u)}var Nl,Ll;function Ol(Yl,$u){return ls.coerce(Nl,Ll,Bn,Yl,$u)}var Bl=$l("visible");if(Bl){$l("bgcolor",Sl.plot_bgcolor),$l("bordercolor"),$l("borderwidth"),$l("thickness"),$l("autorange",!Pl.isValidRange(El.range)),$l("range");var _l=Sl._subplots;if(_l)for(var Rl=_l.cartesian.filter(function(Yl){return Yl.substr(0,Yl.indexOf("y"))===Fn.name2id(Al)}).map(function(Yl){return Yl.substr(Yl.indexOf("y"),Yl.length)}),Il=ls.simpleMap(Rl,Fn.id2name),Hl=0;Hl<Il.length;Hl++){var Kl=Il[Hl];Nl=El[Kl]||{},Ll=_t.newContainer(Fl,Kl,"yaxis");var Gu=Sl[Kl],vu;Nl.range&&Gu.isValidRange(Nl.range)&&(vu="fixed");var hu=Ol("rangemode",vu);hu!=="match"&&Ol("range",Gu.range.slice())}Fl._input=El}}}),Kx=a((Mu,yu)=>{var ls=mv().list,_t=S2().getAutoRange,Fn=Q2();yu.exports=function(xl){for(var Bn=ls(xl,"x",!0),yl=0;yl<Bn.length;yl++){var Sl=Bn[yl],Al=Sl[Fn.name];Al&&Al.visible&&Al.autorange&&(Al._input.autorange=!0,Al._input.range=Al.range=_t(xl,Sl))}}}),Zx=a((Mu,yu)=>{var ls=g(),_t=Gp(),Fn=Fv(),xl=vm(),Bn=xl.strTranslate,yl=V1(),Sl=cp(),Al=G2(),Et=H3(),Pl=mv(),El=ky(),Fl=n2(),$l=Q2();yu.exports=function(hu){for(var Yl=hu._fullLayout,$u=Yl._rangeSliderData,bu=0;bu<$u.length;bu++){var Lu=$u[bu][$l.name];Lu._clipId=Lu._id+"-"+Yl._uid}function Fu(Hu){return Hu._name}var Du=Yl._infolayer.selectAll("g."+$l.containerClassName).data($u,Fu);Du.exit().each(function(Hu){var Vu=Hu[$l.name];Yl._topdefs.select("#"+Vu._clipId).remove()}).remove(),$u.length!==0&&(Du.enter().append("g").classed($l.containerClassName,!0).attr("pointer-events","all"),Du.each(function(Hu){var Vu=ls.select(this),gu=Hu[$l.name],Wu=Yl[Pl.id2name(Hu.anchor)],qu=gu[Pl.id2name(Hu.anchor)];if(gu.range){var np=xl.simpleMap(gu.range,Hu.r2l),_h=xl.simpleMap(Hu.range,Hu.r2l),ap;_h[0]<_h[1]?ap=[Math.min(np[0],_h[0]),Math.max(np[1],_h[1])]:ap=[Math.max(np[0],_h[0]),Math.min(np[1],_h[1])],gu.range=gu._input.range=xl.simpleMap(ap,Hu.l2r)}Hu.cleanRange("rangeslider.range");var bp=Yl._size,wp=Hu.domain;gu._width=bp.w*(wp[1]-wp[0]);var kp=Math.round(bp.l+bp.w*wp[0]),Iu=Math.round(bp.t+bp.h*(1-Hu._counterDomainMin)+(Hu.side==="bottom"?Hu._depth:0)+gu._offsetShift+$l.extraPad);Vu.attr("transform",Bn(kp,Iu)),gu._rl=xl.simpleMap(gu.range,Hu.r2l);var Bu=gu._rl[0],Xl=gu._rl[1],Uu=Xl-Bu;if(gu.p2d=function(Ap){return Ap/gu._width*Uu+Bu},gu.d2p=function(Ap){return(Ap-Bu)/Uu*gu._width},Hu.rangebreaks){var ep=Hu.locateBreaks(Bu,Xl);if(ep.length){var _u,Wl,Jl=0;for(_u=0;_u<ep.length;_u++)Wl=ep[_u],Jl+=Wl.max-Wl.min;var Pu=gu._width/(Xl-Bu-Jl),Nu=[-Pu*Bu];for(_u=0;_u<ep.length;_u++)Wl=ep[_u],Nu.push(Nu[Nu.length-1]-Pu*(Wl.max-Wl.min));for(gu.d2p=function(Ap){for(var Op=Nu[0],Zp=0;Zp<ep.length;Zp++){var u0=ep[Zp];if(Ap>=u0.max)Op=Nu[Zp+1];else if(Ap<u0.min)break}return Op+Pu*Ap},_u=0;_u<ep.length;_u++)Wl=ep[_u],Wl.pmin=gu.d2p(Wl.min),Wl.pmax=gu.d2p(Wl.max);gu.p2d=function(Ap){for(var Op=Nu[0],Zp=0;Zp<ep.length;Zp++){var u0=ep[Zp];if(Ap>=u0.pmax)Op=Nu[Zp+1];else if(Ap<u0.pmin)break}return(Ap-Op)/Pu}}}if(qu.rangemode!=="match"){var tp=Wu.r2l(qu.range[0]),up=Wu.r2l(qu.range[1]),dp=up-tp;gu.d2pOppAxis=function(Ap){return(Ap-tp)/dp*gu._height}}Vu.call(_l,hu,Hu,gu).call(Rl,hu,Hu,gu).call(Il,hu,Hu,gu).call(Kl,hu,Hu,gu,qu).call(Gu,hu,Hu,gu).call(vu,hu,Hu,gu),Ll(Vu,hu,Hu,gu),Bl(Vu,hu,Hu,gu,Wu,qu),Hu.side==="bottom"&&Al.draw(hu,Hu._id+"title",{propContainer:Hu,propName:Hu._name+".title.text",placeholder:Yl._dfltTitle.x,attributes:{x:Hu._offset+Hu._length/2,y:Iu+gu._height+gu._offsetShift+10+1.5*Hu.title.font.size,"text-anchor":"middle"}})}))};function Nl(hu){return typeof hu.clientX=="number"?hu.clientX:hu.touches&&hu.touches.length>0?hu.touches[0].clientX:0}function Ll(hu,Yl,$u,bu){if(Yl._context.staticPlot)return;var Lu=hu.select("rect."+$l.slideBoxClassName).node(),Fu=hu.select("rect."+$l.grabAreaMinClassName).node(),Du=hu.select("rect."+$l.grabAreaMaxClassName).node();function Hu(){var Vu=ls.event,gu=Vu.target,Wu=Nl(Vu),qu=Wu-hu.node().getBoundingClientRect().left,np=bu.d2p($u._rl[0]),_h=bu.d2p($u._rl[1]),ap=El.coverSlip();this.addEventListener("touchmove",bp),this.addEventListener("touchend",wp),ap.addEventListener("mousemove",bp),ap.addEventListener("mouseup",wp);function bp(kp){var Iu=Nl(kp),Bu=+Iu-Wu,Xl,Uu,ep;switch(gu){case Lu:if(ep="ew-resize",np+Bu>$u._length||_h+Bu<0)return;Xl=np+Bu,Uu=_h+Bu;break;case Fu:if(ep="col-resize",np+Bu>$u._length)return;Xl=np+Bu,Uu=_h;break;case Du:if(ep="col-resize",_h+Bu<0)return;Xl=np,Uu=_h+Bu;break;default:ep="ew-resize",Xl=qu,Uu=qu+Bu;break}if(Uu<Xl){var _u=Uu;Uu=Xl,Xl=_u}bu._pixelMin=Xl,bu._pixelMax=Uu,Fl(ls.select(ap),ep),Ol(hu,Yl,$u,bu)}function wp(){ap.removeEventListener("mousemove",bp),ap.removeEventListener("mouseup",wp),this.removeEventListener("touchmove",bp),this.removeEventListener("touchend",wp),xl.removeElement(ap)}}hu.on("mousedown",Hu),hu.on("touchstart",Hu)}function Ol(hu,Yl,$u,bu){function Lu(Hu){return $u.l2r(xl.constrain(Hu,bu._rl[0],bu._rl[1]))}var Fu=Lu(bu.p2d(bu._pixelMin)),Du=Lu(bu.p2d(bu._pixelMax));window.requestAnimationFrame(function(){_t.call("_guiRelayout",Yl,$u._name+".range",[Fu,Du])})}function Bl(hu,Yl,$u,bu,Lu,Fu){var Du=$l.handleWidth/2;function Hu(kp){return xl.constrain(kp,0,bu._width)}function Vu(kp){return xl.constrain(kp,0,bu._height)}function gu(kp){return xl.constrain(kp,-Du,bu._width+Du)}var Wu=Hu(bu.d2p($u._rl[0])),qu=Hu(bu.d2p($u._rl[1]));if(hu.select("rect."+$l.slideBoxClassName).attr("x",Wu).attr("width",qu-Wu),hu.select("rect."+$l.maskMinClassName).attr("width",Wu),hu.select("rect."+$l.maskMaxClassName).attr("x",qu).attr("width",bu._width-qu),Fu.rangemode!=="match"){var np=bu._height-Vu(bu.d2pOppAxis(Lu._rl[1])),_h=bu._height-Vu(bu.d2pOppAxis(Lu._rl[0]));hu.select("rect."+$l.maskMinOppAxisClassName).attr("x",Wu).attr("height",np).attr("width",qu-Wu),hu.select("rect."+$l.maskMaxOppAxisClassName).attr("x",Wu).attr("y",_h).attr("height",bu._height-_h).attr("width",qu-Wu),hu.select("rect."+$l.slideBoxClassName).attr("y",np).attr("height",_h-np)}var ap=.5,bp=Math.round(gu(Wu-Du))-ap,wp=Math.round(gu(qu-Du))+ap;hu.select("g."+$l.grabberMinClassName).attr("transform",Bn(bp,ap)),hu.select("g."+$l.grabberMaxClassName).attr("transform",Bn(wp,ap))}function _l(hu,Yl,$u,bu){var Lu=xl.ensureSingle(hu,"rect",$l.bgClassName,function(Vu){Vu.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),Fu=bu.borderwidth%2===0?bu.borderwidth:bu.borderwidth-1,Du=-bu._offsetShift,Hu=yl.crispRound(Yl,bu.borderwidth);Lu.attr({width:bu._width+Fu,height:bu._height+Fu,transform:Bn(Du,Du),"stroke-width":Hu}).call(Sl.stroke,bu.bordercolor).call(Sl.fill,bu.bgcolor)}function Rl(hu,Yl,$u,bu){var Lu=Yl._fullLayout,Fu=xl.ensureSingleById(Lu._topdefs,"clipPath",bu._clipId,function(Du){Du.append("rect").attr({x:0,y:0})});Fu.select("rect").attr({width:bu._width,height:bu._height})}function Il(hu,Yl,$u,bu){var Lu=Yl.calcdata,Fu=hu.selectAll("g."+$l.rangePlotClassName).data($u._subplotsWith,xl.identity);Fu.enter().append("g").attr("class",function(Hu){return $l.rangePlotClassName+" "+Hu}).call(yl.setClipUrl,bu._clipId,Yl),Fu.order(),Fu.exit().remove();var Du;Fu.each(function(Hu,Vu){var gu=ls.select(this),Wu=Vu===0,qu=Pl.getFromId(Yl,Hu,"y"),np=qu._name,_h=bu[np],ap={data:[],layout:{xaxis:{type:$u.type,domain:[0,1],range:bu.range.slice(),calendar:$u.calendar},width:bu._width,height:bu._height,margin:{t:0,b:0,l:0,r:0}},_context:Yl._context};$u.rangebreaks&&(ap.layout.xaxis.rangebreaks=$u.rangebreaks),ap.layout[np]={type:qu.type,domain:[0,1],range:_h.rangemode!=="match"?_h.range.slice():qu.range.slice(),calendar:qu.calendar},qu.rangebreaks&&(ap.layout[np].rangebreaks=qu.rangebreaks),Fn.supplyDefaults(ap);var bp=ap._fullLayout.xaxis,wp=ap._fullLayout[np];bp.clearCalc(),bp.setScale(),wp.clearCalc(),wp.setScale();var kp={id:Hu,plotgroup:gu,xaxis:bp,yaxis:wp,isRangePlot:!0};Wu?Du=kp:(kp.mainplot="xy",kp.mainplotinfo=Du),Et.rangePlot(Yl,kp,Hl(Lu,Hu))})}function Hl(hu,Yl){for(var $u=[],bu=0;bu<hu.length;bu++){var Lu=hu[bu],Fu=Lu[0].trace;Fu.xaxis+Fu.yaxis===Yl&&$u.push(Lu)}return $u}function Kl(hu,Yl,$u,bu,Lu){var Fu=xl.ensureSingle(hu,"rect",$l.maskMinClassName,function(gu){gu.attr({x:0,y:0,"shape-rendering":"crispEdges"})});Fu.attr("height",bu._height).call(Sl.fill,$l.maskColor);var Du=xl.ensureSingle(hu,"rect",$l.maskMaxClassName,function(gu){gu.attr({y:0,"shape-rendering":"crispEdges"})});if(Du.attr("height",bu._height).call(Sl.fill,$l.maskColor),Lu.rangemode!=="match"){var Hu=xl.ensureSingle(hu,"rect",$l.maskMinOppAxisClassName,function(gu){gu.attr({y:0,"shape-rendering":"crispEdges"})});Hu.attr("width",bu._width).call(Sl.fill,$l.maskOppAxisColor);var Vu=xl.ensureSingle(hu,"rect",$l.maskMaxOppAxisClassName,function(gu){gu.attr({y:0,"shape-rendering":"crispEdges"})});Vu.attr("width",bu._width).style("border-top",$l.maskOppBorder).call(Sl.fill,$l.maskOppAxisColor)}}function Gu(hu,Yl,$u,bu){if(!Yl._context.staticPlot){var Lu=xl.ensureSingle(hu,"rect",$l.slideBoxClassName,function(Fu){Fu.attr({y:0,cursor:$l.slideBoxCursor,"shape-rendering":"crispEdges"})});Lu.attr({height:bu._height,fill:$l.slideBoxFill})}}function vu(hu,Yl,$u,bu){var Lu=xl.ensureSingle(hu,"g",$l.grabberMinClassName),Fu=xl.ensureSingle(hu,"g",$l.grabberMaxClassName),Du={x:0,width:$l.handleWidth,rx:$l.handleRadius,fill:Sl.background,stroke:Sl.defaultLine,"stroke-width":$l.handleStrokeWidth,"shape-rendering":"crispEdges"},Hu={y:Math.round(bu._height/4),height:Math.round(bu._height/2)},Vu=xl.ensureSingle(Lu,"rect",$l.handleMinClassName,function(_h){_h.attr(Du)});Vu.attr(Hu);var gu=xl.ensureSingle(Fu,"rect",$l.handleMaxClassName,function(_h){_h.attr(Du)});gu.attr(Hu);var Wu={width:$l.grabAreaWidth,x:0,y:0,fill:$l.grabAreaFill,cursor:Yl._context.staticPlot?void 0:$l.grabAreaCursor},qu=xl.ensureSingle(Lu,"rect",$l.grabAreaMinClassName,function(_h){_h.attr(Wu)});qu.attr("height",bu._height);var np=xl.ensureSingle(Fu,"rect",$l.grabAreaMaxClassName,function(_h){_h.attr(Wu)});np.attr("height",bu._height)}}),Xx=a((Mu,yu)=>{var ls=vm(),_t=X2(),Fn=Y3(),xl=qx();yu.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:ls.extendFlat({},_t,{yaxis:Fn})}}},layoutAttributes:X2(),handleDefaults:Yx(),calcAutorange:Kx(),draw:Zx(),isVisible:xl.isVisible,makeData:xl.makeData,autoMarginOpts:xl.autoMarginOpts}}),J2=a((Mu,yu)=>{var ls=Ml(),_t=Ju(),Fn=hv().templatedArray,xl=Fn("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});yu.exports={visible:{valType:"boolean",editType:"plot"},buttons:xl,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:ls({editType:"plot"}),bgcolor:{valType:"color",dflt:_t.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:_t.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}}),Qx=a((Mu,yu)=>{yu.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}}),Zl=a((Mu,yu)=>{var ls=vm(),_t=cp(),Fn=hv(),xl=Kv(),Bn=J2(),yl=Qx();yu.exports=function(Et,Pl,El,Fl,$l){var Nl=Et.rangeselector||{},Ll=Fn.newContainer(Pl,"rangeselector");function Ol(Hl,Kl){return ls.coerce(Nl,Ll,Bn,Hl,Kl)}var Bl=xl(Nl,Ll,{name:"buttons",handleItemDefaults:Sl,calendar:$l}),_l=Ol("visible",Bl.length>0);if(_l){var Rl=Al(Pl,El,Fl);Ol("x",Rl[0]),Ol("y",Rl[1]),ls.noneOrAll(Et,Pl,["x","y"]),Ol("xanchor"),Ol("yanchor"),ls.coerceFont(Ol,"font",El.font);var Il=Ol("bgcolor");Ol("activecolor",_t.contrast(Il,yl.lightAmount,yl.darkAmount)),Ol("bordercolor"),Ol("borderwidth")}};function Sl(Et,Pl,El,Fl){var $l=Fl.calendar;function Nl(Bl,_l){return ls.coerce(Et,Pl,Bn.buttons,Bl,_l)}var Ll=Nl("visible");if(Ll){var Ol=Nl("step");Ol!=="all"&&($l&&$l!=="gregorian"&&(Ol==="month"||Ol==="year")?Pl.stepmode="backward":Nl("stepmode"),Nl("count")),Nl("label")}}function Al(Et,Pl,El){for(var Fl=El.filter(function(Ol){return Pl[Ol].anchor===Et._id}),$l=0,Nl=0;Nl<Fl.length;Nl++){var Ll=Pl[Fl[Nl]].domain;Ll&&($l=Math.max(Ll[1],$l))}return[Et.domain[0],$l+yl.yPad]}}),Np=a((Mu,yu)=>{var ls=b(),_t=vm().titleCase;yu.exports=function(xl,Bn){var yl=xl._name,Sl={};if(Bn.step==="all")Sl[yl+".autorange"]=!0;else{var Al=Fn(xl,Bn);Sl[yl+".range[0]"]=Al[0],Sl[yl+".range[1]"]=Al[1]}return Sl};function Fn(xl,Bn){var yl=xl.range,Sl=new Date(xl.r2l(yl[1])),Al=Bn.step,Et=ls["utc"+_t(Al)],Pl=Bn.count,El;switch(Bn.stepmode){case"backward":El=xl.l2r(+Et.offset(Sl,-Pl));break;case"todate":var Fl=Et.offset(Sl,-Pl);El=xl.l2r(+Et.ceil(Fl));break}var $l=yl[1];return[El,$l]}}),Ku=a((Mu,yu)=>{var ls=g(),_t=Gp(),Fn=Fv(),xl=cp(),Bn=V1(),yl=vm(),Sl=yl.strTranslate,Al=Wv(),Et=mv(),Pl=qv(),El=Pl.LINE_SPACING,Fl=Pl.FROM_TL,$l=Pl.FROM_BR,Nl=Qx(),Ll=Np();yu.exports=function(vu){var hu=vu._fullLayout,Yl=hu._infolayer.selectAll(".rangeselector").data(Ol(vu),Bl);Yl.enter().append("g").classed("rangeselector",!0),Yl.exit().remove(),Yl.style({cursor:"pointer","pointer-events":"all"}),Yl.each(function($u){var bu=ls.select(this),Lu=$u,Fu=Lu.rangeselector,Du=bu.selectAll("g.button").data(yl.filterVisible(Fu.buttons));Du.enter().append("g").classed("button",!0),Du.exit().remove(),Du.each(function(Hu){var Vu=ls.select(this),gu=Ll(Lu,Hu);Hu._isActive=_l(Lu,Hu,gu),Vu.call(Rl,Fu,Hu),Vu.call(Hl,Fu,Hu,vu),Vu.on("click",function(){vu._dragged||_t.call("_guiRelayout",vu,gu)}),Vu.on("mouseover",function(){Hu._isHovered=!0,Vu.call(Rl,Fu,Hu)}),Vu.on("mouseout",function(){Hu._isHovered=!1,Vu.call(Rl,Fu,Hu)})}),Gu(vu,Du,Fu,Lu._name,bu)})};function Ol(vu){for(var hu=Et.list(vu,"x",!0),Yl=[],$u=0;$u<hu.length;$u++){var bu=hu[$u];bu.rangeselector&&bu.rangeselector.visible&&Yl.push(bu)}return Yl}function Bl(vu){return vu._id}function _l(vu,hu,Yl){if(hu.step==="all")return vu.autorange===!0;var $u=Object.keys(Yl);return vu.range[0]===Yl[$u[0]]&&vu.range[1]===Yl[$u[1]]}function Rl(vu,hu,Yl){var $u=yl.ensureSingle(vu,"rect","selector-rect",function(bu){bu.attr("shape-rendering","crispEdges")});$u.attr({rx:Nl.rx,ry:Nl.ry}),$u.call(xl.stroke,hu.bordercolor).call(xl.fill,Il(hu,Yl)).style("stroke-width",hu.borderwidth+"px")}function Il(vu,hu){return hu._isActive||hu._isHovered?vu.activecolor:vu.bgcolor}function Hl(vu,hu,Yl,$u){function bu(Fu){Al.convertToTspans(Fu,$u)}var Lu=yl.ensureSingle(vu,"text","selector-text",function(Fu){Fu.attr("text-anchor","middle")});Lu.call(Bn.font,hu.font).text(Kl(Yl,$u._fullLayout._meta)).call(bu)}function Kl(vu,hu){return vu.label?hu?yl.templateString(vu.label,hu):vu.label:vu.step==="all"?"all":vu.count+vu.step.charAt(0)}function Gu(vu,hu,Yl,$u,bu){var Lu=0,Fu=0,Du=Yl.borderwidth;hu.each(function(){var np=ls.select(this),_h=np.select(".selector-text"),ap=Yl.font.size*El,bp=Math.max(ap*Al.lineCount(_h),16)+3;Fu=Math.max(Fu,bp)}),hu.each(function(){var np=ls.select(this),_h=np.select(".selector-rect"),ap=np.select(".selector-text"),bp=ap.node()&&Bn.bBox(ap.node()).width,wp=Yl.font.size*El,kp=Al.lineCount(ap),Iu=Math.max(bp+10,Nl.minButtonWidth);np.attr("transform",Sl(Du+Lu,Du)),_h.attr({x:0,y:0,width:Iu,height:Fu}),Al.positionText(ap,Iu/2,Fu/2-(kp-1)*wp/2+3),Lu+=Iu+5});var Hu=vu._fullLayout._size,Vu=Hu.l+Hu.w*Yl.x,gu=Hu.t+Hu.h*(1-Yl.y),Wu="left";yl.isRightAnchor(Yl)&&(Vu-=Lu,Wu="right"),yl.isCenterAnchor(Yl)&&(Vu-=Lu/2,Wu="center");var qu="top";yl.isBottomAnchor(Yl)&&(gu-=Fu,qu="bottom"),yl.isMiddleAnchor(Yl)&&(gu-=Fu/2,qu="middle"),Lu=Math.ceil(Lu),Fu=Math.ceil(Fu),Vu=Math.round(Vu),gu=Math.round(gu),Fn.autoMargin(vu,$u+"-range-selector",{x:Yl.x,y:Yl.y,l:Lu*Fl[Wu],r:Lu*$l[Wu],b:Fu*$l[qu],t:Fu*Fl[qu]}),bu.attr("transform",Sl(Vu,gu))}}),l0=a((Mu,yu)=>{yu.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:J2()}}},layoutAttributes:J2(),handleDefaults:Zl(),draw:Ku()}}),x0=a(Mu=>{var yu=In().extendFlat;Mu.attributes=function(ls,_t){ls=ls||{},_t=_t||{};var Fn={valType:"info_array",editType:ls.editType,items:[{valType:"number",min:0,max:1,editType:ls.editType},{valType:"number",min:0,max:1,editType:ls.editType}],dflt:[0,1]};ls.name&&ls.name+"",ls.trace,_t.description&&""+_t.description;var xl={x:yu({},Fn,{}),y:yu({},Fn,{}),editType:ls.editType};return ls.noGridCell||(xl.row={valType:"integer",min:0,dflt:0,editType:ls.editType},xl.column={valType:"integer",min:0,dflt:0,editType:ls.editType}),xl},Mu.defaults=function(ls,_t,Fn,xl){var Bn=xl&&xl.x||[0,1],yl=xl&&xl.y||[0,1],Sl=_t.grid;if(Sl){var Al=Fn("domain.column");Al!==void 0&&(Al<Sl.columns?Bn=Sl._domains.x[Al]:delete ls.domain.column);var Et=Fn("domain.row");Et!==void 0&&(Et<Sl.rows?yl=Sl._domains.y[Et]:delete ls.domain.row)}var Pl=Fn("domain.x",Bn),El=Fn("domain.y",yl);Pl[0]<Pl[1]||(ls.domain.x=Bn.slice()),El[0]<El[1]||(ls.domain.y=yl.slice())}}),F0=a((Mu,yu)=>{var ls=vm(),_t=yp().counter,Fn=x0().attributes,xl=A1().idRegex,Bn=hv(),yl={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[_t("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[xl.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[xl.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:Fn({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function Sl(Fl,$l,Nl){var Ll=$l[Nl+"axes"],Ol=Object.keys((Fl._splomAxes||{})[Nl]||{});if(Array.isArray(Ll))return Ll;if(Ol.length)return Ol}function Al(Fl,$l){var Nl=Fl.grid||{},Ll=Sl($l,Nl,"x"),Ol=Sl($l,Nl,"y");if(!Fl.grid&&!Ll&&!Ol)return;var Bl=Array.isArray(Nl.subplots)&&Array.isArray(Nl.subplots[0]),_l=Array.isArray(Ll),Rl=Array.isArray(Ol),Il=_l&&Ll!==Nl.xaxes&&Rl&&Ol!==Nl.yaxes,Hl,Kl;Bl?(Hl=Nl.subplots.length,Kl=Nl.subplots[0].length):(Rl&&(Hl=Ol.length),_l&&(Kl=Ll.length));var Gu=Bn.newContainer($l,"grid");function vu(gu,Wu){return ls.coerce(Nl,Gu,yl,gu,Wu)}var hu=vu("rows",Hl),Yl=vu("columns",Kl);if(!(hu*Yl>1)){delete $l.grid;return}if(!Bl&&!_l&&!Rl){var $u=vu("pattern")==="independent";$u&&(Bl=!0)}Gu._hasSubplotGrid=Bl;var bu=vu("roworder"),Lu=bu==="top to bottom",Fu=Bl?.2:.1,Du=Bl?.3:.1,Hu,Vu;Il&&$l._splomGridDflt&&(Hu=$l._splomGridDflt.xside,Vu=$l._splomGridDflt.yside),Gu._domains={x:Et("x",vu,Fu,Hu,Yl),y:Et("y",vu,Du,Vu,hu,Lu)}}function Et(Fl,$l,Nl,Ll,Ol,Bl){var _l=$l(Fl+"gap",Nl),Rl=$l("domain."+Fl);$l(Fl+"side",Ll);for(var Il=new Array(Ol),Hl=Rl[0],Kl=(Rl[1]-Hl)/(Ol-_l),Gu=Kl*(1-_l),vu=0;vu<Ol;vu++){var hu=Hl+Kl*vu;Il[Bl?Ol-1-vu:vu]=[hu,hu+Gu]}return Il}function Pl(Fl,$l){var Nl=$l.grid;if(!(!Nl||!Nl._domains)){var Ll=Fl.grid||{},Ol=$l._subplots,Bl=Nl._hasSubplotGrid,_l=Nl.rows,Rl=Nl.columns,Il=Nl.pattern==="independent",Hl,Kl,Gu,vu,hu,Yl,$u,bu=Nl._axisMap={};if(Bl){var Lu=Ll.subplots||[];Yl=Nl.subplots=new Array(_l);var Fu=1;for(Hl=0;Hl<_l;Hl++){var Du=Yl[Hl]=new Array(Rl),Hu=Lu[Hl]||[];for(Kl=0;Kl<Rl;Kl++)if(Il?(hu=Fu===1?"xy":"x"+Fu+"y"+Fu,Fu++):hu=Hu[Kl],Du[Kl]="",Ol.cartesian.indexOf(hu)!==-1){if($u=hu.indexOf("y"),Gu=hu.slice(0,$u),vu=hu.slice($u),bu[Gu]!==void 0&&bu[Gu]!==Kl||bu[vu]!==void 0&&bu[vu]!==Hl)continue;Du[Kl]=hu,bu[Gu]=Kl,bu[vu]=Hl}}}else{var Vu=Sl($l,Ll,"x"),gu=Sl($l,Ll,"y");Nl.xaxes=El(Vu,Ol.xaxis,Rl,bu,"x"),Nl.yaxes=El(gu,Ol.yaxis,_l,bu,"y")}var Wu=Nl._anchors={},qu=Nl.roworder==="top to bottom";for(var np in bu){var _h=np.charAt(0),ap=Nl[_h+"side"],bp,wp,kp;if(ap.length<8)Wu[np]="free";else if(_h==="x"){if(ap.charAt(0)==="t"===qu?(bp=0,wp=1,kp=_l):(bp=_l-1,wp=-1,kp=-1),Bl){var Iu=bu[np];for(Hl=bp;Hl!==kp;Hl+=wp)if(hu=Yl[Hl][Iu],!!hu&&($u=hu.indexOf("y"),hu.slice(0,$u)===np)){Wu[np]=hu.slice($u);break}}else for(Hl=bp;Hl!==kp;Hl+=wp)if(vu=Nl.yaxes[Hl],Ol.cartesian.indexOf(np+vu)!==-1){Wu[np]=vu;break}}else if(ap.charAt(0)==="l"?(bp=0,wp=1,kp=Rl):(bp=Rl-1,wp=-1,kp=-1),Bl){var Bu=bu[np];for(Hl=bp;Hl!==kp;Hl+=wp)if(hu=Yl[Bu][Hl],!!hu&&($u=hu.indexOf("y"),hu.slice($u)===np)){Wu[np]=hu.slice(0,$u);break}}else for(Hl=bp;Hl!==kp;Hl+=wp)if(Gu=Nl.xaxes[Hl],Ol.cartesian.indexOf(Gu+np)!==-1){Wu[np]=Gu;break}}}}function El(Fl,$l,Nl,Ll,Ol){var Bl=new Array(Nl),_l;function Rl(Il,Hl){$l.indexOf(Hl)!==-1&&Ll[Hl]===void 0?(Bl[Il]=Hl,Ll[Hl]=Il):Bl[Il]=""}if(Array.isArray(Fl))for(_l=0;_l<Nl;_l++)Rl(_l,Fl[_l]);else for(Rl(0,Ol),_l=1;_l<Nl;_l++)Rl(_l,Ol+(_l+1));return Bl}yu.exports={moduleType:"component",name:"grid",schema:{layout:{grid:yl}},layoutAttributes:yl,sizeDefaults:Al,contentDefaults:Pl}}),fm=a((Mu,yu)=>{yu.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc"}}),om=a((Mu,yu)=>{var ls=rt(),_t=Gp(),Fn=vm(),xl=hv(),Bn=fm();yu.exports=function(yl,Sl,Al,Et){var Pl="error_"+Et.axis,El=xl.newContainer(Sl,Pl),Fl=yl[Pl]||{};function $l(Il,Hl){return Fn.coerce(Fl,El,Bn,Il,Hl)}var Nl=Fl.array!==void 0||Fl.value!==void 0||Fl.type==="sqrt",Ll=$l("visible",Nl);if(Ll!==!1){var Ol=$l("type","array"in Fl?"data":"percent"),Bl=!0;Ol!=="sqrt"&&(Bl=$l("symmetric",!((Ol==="data"?"arrayminus":"valueminus")in Fl))),Ol==="data"?($l("array"),$l("traceref"),Bl||($l("arrayminus"),$l("tracerefminus"))):(Ol==="percent"||Ol==="constant")&&($l("value"),Bl||$l("valueminus"));var _l="copy_"+Et.inherit+"style";if(Et.inherit){var Rl=Sl["error_"+Et.inherit];(Rl||{}).visible&&$l(_l,!(Fl.color||ls(Fl.thickness)||ls(Fl.width)))}(!Et.inherit||!El[_l])&&($l("color",Al),$l("thickness"),$l("width",_t.traceIs(Sl,"gl3d")?0:4))}}}),v1=a((Mu,yu)=>{yu.exports=function(_t){var Fn=_t.type,xl=_t.symmetric;if(Fn==="data"){var Bn=_t.array||[];if(xl)return function(Et,Pl){var El=+Bn[Pl];return[El,El]};var yl=_t.arrayminus||[];return function(Et,Pl){var El=+Bn[Pl],Fl=+yl[Pl];return!isNaN(El)||!isNaN(Fl)?[Fl||0,El||0]:[NaN,NaN]}}else{var Sl=ls(Fn,_t.value),Al=ls(Fn,_t.valueminus);return xl||_t.valueminus===void 0?function(Et){var Pl=Sl(Et);return[Pl,Pl]}:function(Et){return[Al(Et),Sl(Et)]}}};function ls(_t,Fn){if(_t==="percent")return function(xl){return Math.abs(xl*Fn/100)};if(_t==="constant")return function(){return Math.abs(Fn)};if(_t==="sqrt")return function(xl){return Math.sqrt(Math.abs(xl))}}}),X0=a((Mu,yu)=>{var ls=rt(),_t=Gp(),Fn=pv(),xl=vm(),Bn=v1();yu.exports=function(Sl){for(var Al=Sl.calcdata,Et=0;Et<Al.length;Et++){var Pl=Al[Et],El=Pl[0].trace;if(El.visible===!0&&_t.traceIs(El,"errorBarsOK")){var Fl=Fn.getFromId(Sl,El.xaxis),$l=Fn.getFromId(Sl,El.yaxis);yl(Pl,El,Fl,"x"),yl(Pl,El,$l,"y")}}};function yl(Sl,Al,Et,Pl){var El=Al["error_"+Pl]||{},Fl=El.visible&&["linear","log"].indexOf(Et.type)!==-1,$l=[];if(Fl){for(var Nl=Bn(El),Ll=0;Ll<Sl.length;Ll++){var Ol=Sl[Ll],Bl=Ol.i;if(Bl===void 0)Bl=Ll;else if(Bl===null)continue;var _l=Ol[Pl];if(ls(Et.c2l(_l))){var Rl=Nl(_l,Bl);if(ls(Rl[0])&&ls(Rl[1])){var Il=Ol[Pl+"s"]=_l-Rl[0],Hl=Ol[Pl+"h"]=_l+Rl[1];$l.push(Il,Hl)}}}var Kl=Et._id,Gu=Al._extremes[Kl],vu=Fn.findExtremes(Et,$l,xl.extendFlat({tozero:Gu.opts.tozero},{padded:!0}));Gu.min=Gu.min.concat(vu.min),Gu.max=Gu.max.concat(vu.max)}}}),dm=a((Mu,yu)=>{var ls=g(),_t=rt(),Fn=V1(),xl=cy();yu.exports=function(yl,Sl,Al,Et){var Pl,El=Al.xaxis,Fl=Al.yaxis,$l=Et&&Et.duration>0,Nl=yl._context.staticPlot;Sl.each(function(Ll){var Ol=Ll[0].trace,Bl=Ol.error_x||{},_l=Ol.error_y||{},Rl;Ol.ids&&(Rl=function(Gu){return Gu.id});var Il=xl.hasMarkers(Ol)&&Ol.marker.maxdisplayed>0;!_l.visible&&!Bl.visible&&(Ll=[]);var Hl=ls.select(this).selectAll("g.errorbar").data(Ll,Rl);if(Hl.exit().remove(),!!Ll.length){Bl.visible||Hl.selectAll("path.xerror").remove(),_l.visible||Hl.selectAll("path.yerror").remove(),Hl.style("opacity",1);var Kl=Hl.enter().append("g").classed("errorbar",!0);$l&&Kl.style("opacity",0).transition().duration(Et.duration).style("opacity",1),Fn.setClipUrl(Hl,Al.layerClipId,yl),Hl.each(function(Gu){var vu=ls.select(this),hu=Bn(Gu,El,Fl);if(!(Il&&!Gu.vis)){var Yl,$u=vu.select("path.yerror");if(_l.visible&&_t(hu.x)&&_t(hu.yh)&&_t(hu.ys)){var bu=_l.width;Yl="M"+(hu.x-bu)+","+hu.yh+"h"+2*bu+"m-"+bu+",0V"+hu.ys,hu.noYS||(Yl+="m-"+bu+",0h"+2*bu),Pl=!$u.size(),Pl?$u=vu.append("path").style("vector-effect",Nl?"none":"non-scaling-stroke").classed("yerror",!0):$l&&($u=$u.transition().duration(Et.duration).ease(Et.easing)),$u.attr("d",Yl)}else $u.remove();var Lu=vu.select("path.xerror");if(Bl.visible&&_t(hu.y)&&_t(hu.xh)&&_t(hu.xs)){var Fu=(Bl.copy_ystyle?_l:Bl).width;Yl="M"+hu.xh+","+(hu.y-Fu)+"v"+2*Fu+"m0,-"+Fu+"H"+hu.xs,hu.noXS||(Yl+="m0,-"+Fu+"v"+2*Fu),Pl=!Lu.size(),Pl?Lu=vu.append("path").style("vector-effect",Nl?"none":"non-scaling-stroke").classed("xerror",!0):$l&&(Lu=Lu.transition().duration(Et.duration).ease(Et.easing)),Lu.attr("d",Yl)}else Lu.remove()}})}})};function Bn(yl,Sl,Al){var Et={x:Sl.c2p(yl.x),y:Al.c2p(yl.y)};return yl.yh!==void 0&&(Et.yh=Al.c2p(yl.yh),Et.ys=Al.c2p(yl.ys),_t(Et.ys)||(Et.noYS=!0,Et.ys=Al.c2p(yl.ys,!0))),yl.xh!==void 0&&(Et.xh=Sl.c2p(yl.xh),Et.xs=Sl.c2p(yl.xs),_t(Et.xs)||(Et.noXS=!0,Et.xs=Sl.c2p(yl.xs,!0))),Et}}),lv=a((Mu,yu)=>{var ls=g(),_t=cp();yu.exports=function(Fn){Fn.each(function(xl){var Bn=xl[0].trace,yl=Bn.error_y||{},Sl=Bn.error_x||{},Al=ls.select(this);Al.selectAll("path.yerror").style("stroke-width",yl.thickness+"px").call(_t.stroke,yl.color),Sl.copy_ystyle&&(Sl=yl),Al.selectAll("path.xerror").style("stroke-width",Sl.thickness+"px").call(_t.stroke,Sl.color)})}}),r1=a((Mu,yu)=>{var ls=vm(),_t=Q0().overrideAll,Fn=fm(),xl={error_x:ls.extendFlat({},Fn),error_y:ls.extendFlat({},Fn)};delete xl.error_x.copy_zstyle,delete xl.error_y.copy_zstyle,delete xl.error_y.copy_ystyle;var Bn={error_x:ls.extendFlat({},Fn),error_y:ls.extendFlat({},Fn),error_z:ls.extendFlat({},Fn)};delete Bn.error_x.copy_ystyle,delete Bn.error_y.copy_ystyle,delete Bn.error_z.copy_ystyle,delete Bn.error_z.copy_zstyle,yu.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:xl,bar:xl,histogram:xl,scatter3d:_t(Bn,"calc","nested"),scattergl:_t(xl,"calc","nested")}},supplyDefaults:om(),calc:X0(),makeComputeError:v1(),plot:dm(),style:lv(),hoverInfo:yl};function yl(Sl,Al,Et){(Al.error_y||{}).visible&&(Et.yerr=Sl.yh-Sl.y,Al.error_y.symmetric||(Et.yerrneg=Sl.y-Sl.ys)),(Al.error_x||{}).visible&&(Et.xerr=Sl.xh-Sl.x,Al.error_x.symmetric||(Et.xerrneg=Sl.x-Sl.xs))}}),qm=a((Mu,yu)=>{yu.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}}),xv=a((Mu,yu)=>{var ls=g(),_t=zl(),Fn=Fv(),xl=Gp(),Bn=pv(),yl=ky(),Sl=vm(),Al=Sl.strTranslate,Et=In().extendFlat,Pl=n2(),El=V1(),Fl=cp(),$l=G2(),Nl=Wv(),Ll=Yv().flipScale,Ol=Gx(),Bl=$x(),_l=Sv(),Rl=qv(),Il=Rl.LINE_SPACING,Hl=Rl.FROM_TL,Kl=Rl.FROM_BR,Gu=qm().cn;function vu(Fu){var Du=Fu._fullLayout,Hu=Du._infolayer.selectAll("g."+Gu.colorbar).data(hu(Fu),function(Vu){return Vu._id});Hu.enter().append("g").attr("class",function(Vu){return Vu._id}).classed(Gu.colorbar,!0),Hu.each(function(Vu){var gu=ls.select(this);Sl.ensureSingle(gu,"rect",Gu.cbbg),Sl.ensureSingle(gu,"g",Gu.cbfills),Sl.ensureSingle(gu,"g",Gu.cblines),Sl.ensureSingle(gu,"g",Gu.cbaxis,function(qu){qu.classed(Gu.crisp,!0)}),Sl.ensureSingle(gu,"g",Gu.cbtitleunshift,function(qu){qu.append("g").classed(Gu.cbtitle,!0)}),Sl.ensureSingle(gu,"rect",Gu.cboutline);var Wu=Yl(gu,Vu,Fu);Wu&&Wu.then&&(Fu._promises||[]).push(Wu),Fu._context.edits.colorbarPosition&&$u(gu,Vu,Fu)}),Hu.exit().each(function(Vu){Fn.autoMargin(Fu,Vu._id)}).remove(),Hu.order()}function hu(Fu){var Du=Fu._fullLayout,Hu=Fu.calcdata,Vu=[],gu,Wu,qu,np;function _h(Wl){return Et(Wl,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function ap(){typeof np.calc=="function"?np.calc(Fu,qu,gu):(gu._fillgradient=Wu.reversescale?Ll(Wu.colorscale):Wu.colorscale,gu._zrange=[Wu[np.min],Wu[np.max]])}for(var bp=0;bp<Hu.length;bp++){var wp=Hu[bp];if(qu=wp[0].trace,!!qu._module){var kp=qu._module.colorbar;if(qu.visible===!0&&kp)for(var Iu=Array.isArray(kp),Bu=Iu?kp:[kp],Xl=0;Xl<Bu.length;Xl++){np=Bu[Xl];var Uu=np.container;Wu=Uu?qu[Uu]:qu,Wu&&Wu.showscale&&(gu=_h(Wu.colorbar),gu._id="cb"+qu.uid+(Iu&&Uu?"-"+Uu:""),gu._traceIndex=qu.index,gu._propPrefix=(Uu?Uu+".":"")+"colorbar.",gu._meta=qu._meta,ap(),Vu.push(gu))}}}for(var ep in Du._colorAxes)if(Wu=Du[ep],Wu.showscale){var _u=Du._colorAxes[ep];gu=_h(Wu.colorbar),gu._id="cb"+ep,gu._propPrefix=ep+".colorbar.",gu._meta=Du._meta,np={min:"cmin",max:"cmax"},_u[0]!=="heatmap"&&(qu=_u[1],np.calc=qu._module.colorbar.calc),ap(),Vu.push(gu)}return Vu}function Yl(Fu,Du,Hu){var Vu=Du.orientation==="v",gu=Du.len,Wu=Du.lenmode,qu=Du.thickness,np=Du.thicknessmode,_h=Du.outlinewidth,ap=Du.borderwidth,bp=Du.bgcolor,wp=Du.xanchor,kp=Du.yanchor,Iu=Du.xpad,Bu=Du.ypad,Xl=Du.x,Uu=Vu?Du.y:1-Du.y,ep=Du.yref==="paper",_u=Du.xref==="paper",Wl=Hu._fullLayout,Jl=Wl._size,Pu=Du._fillcolor,Nu=Du._line,tp=Du.title,up=tp.side,dp=Du._zrange||ls.extent((typeof Pu=="function"?Pu:Nu.color).domain()),Ap=typeof Nu.color=="function"?Nu.color:function(){return Nu.color},Op=typeof Pu=="function"?Pu:function(){return Pu},Zp=Du._levels,u0=bu(Hu,Du,dp),r0=u0.fill,e0=u0.line,Cp=Math.round(qu*(np==="fraction"?Vu?Jl.w:Jl.h:1)),Mp=Cp/(Vu?Jl.w:Jl.h),sp=Math.round(gu*(Wu==="fraction"?Vu?Jl.h:Jl.w:1)),Ip=sp/(Vu?Jl.h:Jl.w),Jp=_u?Jl.w:Hu._fullLayout.width,a0=ep?Jl.h:Hu._fullLayout.height,v0=Math.round(Vu?Xl*Jp+Iu:Uu*a0+Bu),h0={center:.5,right:1}[wp]||0,w0={top:1,middle:.5}[kp]||0,E0=Vu?Xl-h0*Mp:Uu-w0*Mp,_0=Vu?Uu-w0*Ip:Xl-h0*Ip,$0=Math.round(Vu?a0*(1-_0):Jp*_0);Du._lenFrac=Ip,Du._thickFrac=Mp,Du._uFrac=E0,Du._vFrac=_0;var f0=Du._axis=Lu(Hu,Du,dp);f0.position=Mp+(Vu?Xl+Iu/Jl.w:Uu+Bu/Jl.h);var q0=["top","bottom"].indexOf(up)!==-1;if(Vu&&q0&&(f0.title.side=up,f0.titlex=Xl+Iu/Jl.w,f0.titley=_0+(tp.side==="top"?Ip-Bu/Jl.h:Bu/Jl.h)),!Vu&&!q0&&(f0.title.side=up,f0.titley=Uu+Bu/Jl.h,f0.titlex=_0+Iu/Jl.w),Nu.color&&Du.tickmode==="auto"){f0.tickmode="linear",f0.tick0=Zp.start;var J0=Zp.size,V0=Sl.constrain(sp/50,4,15)+1,nm=(dp[1]-dp[0])/((Du.nticks||V0)*J0);if(nm>1){var Ep=Math.pow(10,Math.floor(Math.log(nm)/Math.LN10));J0*=Ep*Sl.roundUp(nm/Ep,[2,5,10]),(Math.abs(Zp.start)/Zp.size+1e-6)%1<2e-6&&(f0.tick0=0)}f0.dtick=J0}f0.domain=Vu?[_0+Bu/Jl.h,_0+Ip-Bu/Jl.h]:[_0+Iu/Jl.w,_0+Ip-Iu/Jl.w],f0.setScale(),Fu.attr("transform",Al(Math.round(Jl.l),Math.round(Jl.t)));var $p=Fu.select("."+Gu.cbtitleunshift).attr("transform",Al(-Math.round(Jl.l),-Math.round(Jl.t))),Zu=f0.ticklabelposition,lp=f0.title.font.size,mp=Fu.select("."+Gu.cbaxis),Tp,Lp=0,Up=0;function Xp(A0,R0){var rm={propContainer:f0,propName:Du._propPrefix+"title.text",traceIndex:Du._traceIndex,_meta:Du._meta,placeholder:Wl._dfltTitle.colorbar,containerGroup:Fu.select("."+Gu.cbtitle)},wm=A0.charAt(0)==="h"?A0.substr(1):"h"+A0;Fu.selectAll("."+wm+",."+wm+"-math-group").remove(),$l.draw(Hu,A0,Et(rm,R0||{}))}function c0(){if(Vu&&q0||!Vu&&!q0){var A0,R0;up==="top"&&(A0=Iu+Jl.l+Jp*Xl,R0=Bu+Jl.t+a0*(1-_0-Ip)+3+lp*.75),up==="bottom"&&(A0=Iu+Jl.l+Jp*Xl,R0=Bu+Jl.t+a0*(1-_0)-3-lp*.25),up==="right"&&(R0=Bu+Jl.t+a0*Uu+3+lp*.75,A0=Iu+Jl.l+Jp*_0),Xp(f0._id+"title",{attributes:{x:A0,y:R0,"text-anchor":Vu?"start":"middle"}})}}function i0(){if(Vu&&!q0||!Vu&&q0){var A0=f0.position||0,R0=f0._offset+f0._length/2,rm,wm;if(up==="right")wm=R0,rm=Jl.l+Jp*A0+10+lp*(f0.showticklabels?1:.5);else if(rm=R0,up==="bottom"&&(wm=Jl.t+a0*A0+10+(Zu.indexOf("inside")===-1?f0.tickfont.size:0)+(f0.ticks!=="inside"&&Du.ticklen||0)),up==="top"){var Bm=tp.text.split("<br>").length;wm=Jl.t+a0*A0+10-Cp-Il*lp*Bm}Xp((Vu?"h":"v")+f0._id+"title",{avoid:{selection:ls.select(Hu).selectAll("g."+f0._id+"tick"),side:up,offsetTop:Vu?0:Jl.t,offsetLeft:Vu?Jl.l:0,maxShift:Vu?Wl.width:Wl.height},attributes:{x:rm,y:wm,"text-anchor":"middle"},transform:{rotate:Vu?-90:0,offset:0}})}}function s0(){if(!Vu&&!q0||Vu&&q0){var A0=Fu.select("."+Gu.cbtitle),R0=A0.select("text"),rm=[-_h/2,_h/2],wm=A0.select(".h"+f0._id+"title-math-group").node(),Bm=15.6;R0.node()&&(Bm=parseInt(R0.node().style.fontSize,10)*Il);var Vm;if(wm?(Vm=El.bBox(wm),Up=Vm.width,Lp=Vm.height,Lp>Bm&&(rm[1]-=(Lp-Bm)/2)):R0.node()&&!R0.classed(Gu.jsPlaceholder)&&(Vm=El.bBox(R0.node()),Up=Vm.width,Lp=Vm.height),Vu){if(Lp){if(Lp+=5,up==="top")f0.domain[1]-=Lp/Jl.h,rm[1]*=-1;else{f0.domain[0]+=Lp/Jl.h;var Ym=Nl.lineCount(R0);rm[1]+=(1-Ym)*Bm}A0.attr("transform",Al(rm[0],rm[1])),f0.setScale()}}else Up&&(up==="right"&&(f0.domain[0]+=(Up+lp/2)/Jl.w),A0.attr("transform",Al(rm[0],rm[1])),f0.setScale())}Fu.selectAll("."+Gu.cbfills+",."+Gu.cblines).attr("transform",Vu?Al(0,Math.round(Jl.h*(1-f0.domain[1]))):Al(Math.round(Jl.w*f0.domain[0]),0)),mp.attr("transform",Vu?Al(0,Math.round(-Jl.t)):Al(Math.round(-Jl.l),0));var _m=Fu.select("."+Gu.cbfills).selectAll("rect."+Gu.cbfill).attr("style","").data(r0);_m.enter().append("rect").classed(Gu.cbfill,!0).attr("style",""),_m.exit().remove();var sm=dp.map(f0.c2p).map(Math.round).sort(function(Fm,Sm){return Fm-Sm});_m.each(function(Fm,Sm){var e1=[Sm===0?dp[0]:(r0[Sm]+r0[Sm-1])/2,Sm===r0.length-1?dp[1]:(r0[Sm]+r0[Sm+1])/2].map(f0.c2p).map(Math.round);Vu&&(e1[1]=Sl.constrain(e1[1]+(e1[1]>e1[0])?1:-1,sm[0],sm[1]));var u1=ls.select(this).attr(Vu?"x":"y",v0).attr(Vu?"y":"x",ls.min(e1)).attr(Vu?"width":"height",Math.max(Cp,2)).attr(Vu?"height":"width",Math.max(ls.max(e1)-ls.min(e1),2));if(Du._fillgradient)El.gradient(u1,Hu,Du._id,Vu?"vertical":"horizontalreversed",Du._fillgradient,"fill");else{var jm=Op(Fm).replace("e-","");u1.attr("fill",_t(jm).toHexString())}});var zm=Fu.select("."+Gu.cblines).selectAll("path."+Gu.cbline).data(Nu.color&&Nu.width?e0:[]);zm.enter().append("path").classed(Gu.cbline,!0),zm.exit().remove(),zm.each(function(Fm){var Sm=v0,e1=Math.round(f0.c2p(Fm))+Nu.width/2%1;ls.select(this).attr("d","M"+(Vu?Sm+","+e1:e1+","+Sm)+(Vu?"h":"v")+Cp).call(El.lineGroupStyle,Nu.width,Ap(Fm),Nu.dash)}),mp.selectAll("g."+f0._id+"tick,path").remove();var Wm=v0+Cp+(_h||0)/2-(Du.ticks==="outside"?1:0),Im=Bn.calcTicks(f0),Am=Bn.getTickSigns(f0)[2];return Bn.drawTicks(Hu,f0,{vals:f0.ticks==="inside"?Bn.clipEnds(f0,Im):Im,layer:mp,path:Bn.makeTickPath(f0,Wm,Am),transFn:Bn.makeTransTickFn(f0)}),Bn.drawLabels(Hu,f0,{vals:Im,layer:mp,transFn:Bn.makeTransTickLabelFn(f0),labelFns:Bn.makeLabelFns(f0,Wm)})}function M0(){var A0,R0=Cp+_h/2;Zu.indexOf("inside")===-1&&(A0=El.bBox(mp.node()),R0+=Vu?A0.width:A0.height),Tp=$p.select("text");var rm=0,wm=Vu&&up==="top",Bm=!Vu&&up==="right",Vm=0;if(Tp.node()&&!Tp.classed(Gu.jsPlaceholder)){var Ym,_m=$p.select(".h"+f0._id+"title-math-group").node();_m&&(Vu&&q0||!Vu&&!q0)?(A0=El.bBox(_m),rm=A0.width,Ym=A0.height):(A0=El.bBox($p.node()),rm=A0.right-Jl.l-(Vu?v0:$0),Ym=A0.bottom-Jl.t-(Vu?$0:v0),!Vu&&up==="top"&&(R0+=A0.height,Vm=A0.height)),Bm&&(Tp.attr("transform",Al(rm/2+lp/2,0)),rm*=2),R0=Math.max(R0,Vu?rm:Ym)}var sm=(Vu?Iu:Bu)*2+R0+ap+_h/2,zm=0;!Vu&&tp.text&&kp==="bottom"&&Uu<=0&&(zm=sm/2,sm+=zm,Vm+=zm),Wl._hColorbarMoveTitle=zm,Wl._hColorbarMoveCBTitle=Vm;var Wm=ap+_h,Im=(Vu?v0:$0)-Wm/2-(Vu?Iu:0),Am=(Vu?$0:v0)-(Vu?sp:Bu+Vm-zm);Fu.select("."+Gu.cbbg).attr("x",Im).attr("y",Am).attr(Vu?"width":"height",Math.max(sm-zm,2)).attr(Vu?"height":"width",Math.max(sp+Wm,2)).call(Fl.fill,bp).call(Fl.stroke,Du.bordercolor).style("stroke-width",ap);var Fm=Bm?Math.max(rm-10,0):0;Fu.selectAll("."+Gu.cboutline).attr("x",(Vu?v0:$0+Iu)+Fm).attr("y",(Vu?$0+Bu-sp:v0)+(wm?Lp:0)).attr(Vu?"width":"height",Math.max(Cp,2)).attr(Vu?"height":"width",Math.max(sp-(Vu?2*Bu+Lp:2*Iu+Fm),2)).call(Fl.stroke,Du.outlinecolor).style({fill:"none","stroke-width":_h});var Sm=Vu?h0*sm:0,e1=Vu?0:(1-w0)*sm-Vm;if(Sm=_u?Jl.l-Sm:-Sm,e1=ep?Jl.t-e1:-e1,Fu.attr("transform",Al(Sm,e1)),!Vu&&(ap||_t(bp).getAlpha()&&!_t.equals(Wl.paper_bgcolor,bp))){var u1=mp.selectAll("text"),jm=u1[0].length,d1=Fu.select("."+Gu.cbbg).node(),m1=El.bBox(d1),S1=El.getTranslate(Fu),_1=2;u1.each(function(_f,zp){var Hp=0,t0=jm-1;if(zp===Hp||zp===t0){var Qp=El.bBox(this),p0=El.getTranslate(this),y0;if(zp===t0){var H0=Qp.right+p0.x,ym=m1.right+S1.x+$0-ap-_1+Xl;y0=ym-H0,y0>0&&(y0=0)}else if(zp===Hp){var pm=Qp.left+p0.x,Tm=m1.left+S1.x+$0+ap+_1;y0=Tm-pm,y0<0&&(y0=0)}y0&&(jm<3?this.setAttribute("transform","translate("+y0+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var n1={},b1=Hl[wp],f1=Kl[wp],km=Hl[kp],D1=Kl[kp],_d=sm-Cp;Vu?(Wu==="pixels"?(n1.y=Uu,n1.t=sp*km,n1.b=sp*D1):(n1.t=n1.b=0,n1.yt=Uu+gu*km,n1.yb=Uu-gu*D1),np==="pixels"?(n1.x=Xl,n1.l=sm*b1,n1.r=sm*f1):(n1.l=_d*b1,n1.r=_d*f1,n1.xl=Xl-qu*b1,n1.xr=Xl+qu*f1)):(Wu==="pixels"?(n1.x=Xl,n1.l=sp*b1,n1.r=sp*f1):(n1.l=n1.r=0,n1.xl=Xl+gu*b1,n1.xr=Xl-gu*f1),np==="pixels"?(n1.y=1-Uu,n1.t=sm*km,n1.b=sm*D1):(n1.t=_d*km,n1.b=_d*D1,n1.yt=Uu-qu*km,n1.yb=Uu+qu*D1));var Xu=Du.y<.5?"b":"t",Bp=Du.x<.5?"l":"r";Hu._fullLayout._reservedMargin[Du._id]={};var qp={r:Wl.width-Im-Sm,l:Im+n1.r,b:Wl.height-Am-e1,t:Am+n1.b};_u&&ep?Fn.autoMargin(Hu,Du._id,n1):_u?Hu._fullLayout._reservedMargin[Du._id][Xu]=qp[Xu]:ep||Vu?Hu._fullLayout._reservedMargin[Du._id][Bp]=qp[Bp]:Hu._fullLayout._reservedMargin[Du._id][Xu]=qp[Xu]}return Sl.syncOrAsync([Fn.previousPromises,c0,s0,i0,Fn.previousPromises,M0],Hu)}function $u(Fu,Du,Hu){var Vu=Du.orientation==="v",gu=Hu._fullLayout,Wu=gu._size,qu,np,_h;yl.init({element:Fu.node(),gd:Hu,prepFn:function(){qu=Fu.attr("transform"),Pl(Fu)},moveFn:function(ap,bp){Fu.attr("transform",qu+Al(ap,bp)),np=yl.align((Vu?Du._uFrac:Du._vFrac)+ap/Wu.w,Vu?Du._thickFrac:Du._lenFrac,0,1,Du.xanchor),_h=yl.align((Vu?Du._vFrac:1-Du._uFrac)-bp/Wu.h,Vu?Du._lenFrac:Du._thickFrac,0,1,Du.yanchor);var wp=yl.getCursor(np,_h,Du.xanchor,Du.yanchor);Pl(Fu,wp)},doneFn:function(){if(Pl(Fu),np!==void 0&&_h!==void 0){var ap={};ap[Du._propPrefix+"x"]=np,ap[Du._propPrefix+"y"]=_h,Du._traceIndex!==void 0?xl.call("_guiRestyle",Hu,ap,Du._traceIndex):xl.call("_guiRelayout",Hu,ap)}}})}function bu(Fu,Du,Hu){var Vu=Du._levels,gu=[],Wu=[],qu,np,_h=Vu.end+Vu.size/100,ap=Vu.size,bp=1.001*Hu[0]-.001*Hu[1],wp=1.001*Hu[1]-.001*Hu[0];for(np=0;np<1e5&&(qu=Vu.start+np*ap,!(ap>0?qu>=_h:qu<=_h));np++)qu>bp&&qu<wp&&gu.push(qu);if(Du._fillgradient)Wu=[0];else if(typeof Du._fillcolor=="function"){var kp=Du._filllevels;if(kp)for(_h=kp.end+kp.size/100,ap=kp.size,np=0;np<1e5&&(qu=kp.start+np*ap,!(ap>0?qu>=_h:qu<=_h));np++)qu>Hu[0]&&qu<Hu[1]&&Wu.push(qu);else Wu=gu.map(function(Iu){return Iu-Vu.size/2}),Wu.push(Wu[Wu.length-1]+Vu.size)}else Du._fillcolor&&typeof Du._fillcolor=="string"&&(Wu=[0]);return Vu.size<0&&(gu.reverse(),Wu.reverse()),{line:gu,fill:Wu}}function Lu(Fu,Du,Hu){var Vu=Fu._fullLayout,gu=Du.orientation==="v",Wu={type:"linear",range:Hu,tickmode:Du.tickmode,nticks:Du.nticks,tick0:Du.tick0,dtick:Du.dtick,tickvals:Du.tickvals,ticktext:Du.ticktext,ticks:Du.ticks,ticklen:Du.ticklen,tickwidth:Du.tickwidth,tickcolor:Du.tickcolor,showticklabels:Du.showticklabels,labelalias:Du.labelalias,ticklabelposition:Du.ticklabelposition,ticklabeloverflow:Du.ticklabeloverflow,ticklabelstep:Du.ticklabelstep,tickfont:Du.tickfont,tickangle:Du.tickangle,tickformat:Du.tickformat,exponentformat:Du.exponentformat,minexponent:Du.minexponent,separatethousands:Du.separatethousands,showexponent:Du.showexponent,showtickprefix:Du.showtickprefix,tickprefix:Du.tickprefix,showticksuffix:Du.showticksuffix,ticksuffix:Du.ticksuffix,title:Du.title,showline:!0,anchor:"free",side:gu?"right":"bottom",position:1},qu=gu?"y":"x",np={type:"linear",_id:qu+Du._id},_h={letter:qu,font:Vu.font,noAutotickangles:qu==="y",noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:Vu.calendar};function ap(bp,wp){return Sl.coerce(Wu,np,_l,bp,wp)}return Ol(Wu,np,ap,_h,Vu),Bl(Wu,np,ap,_h),np}yu.exports={draw:vu}}),Pv=a((Mu,yu)=>{yu.exports={moduleType:"component",name:"colorbar",attributes:Uy(),supplyDefaults:nv(),draw:xv().draw,hasColorbar:ex()}}),J1=a((Mu,yu)=>{yu.exports={moduleType:"component",name:"legend",layoutAttributes:ox(),supplyLayoutDefaults:ax(),draw:p3(),style:E2()}}),G1=a((Mu,yu)=>{yu.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}}),z1=a((Mu,yu)=>{yu.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}}),c1=a((Mu,yu)=>{var ls=Gp(),_t=vm(),Fn=_t.extendFlat,xl=_t.extendDeep;function Bn(Sl){var Al;switch(Sl){case"themes__thumb":Al={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":Al={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:Al={}}return Al}function yl(Sl){var Al=["xaxis","yaxis","zaxis"];return Al.indexOf(Sl.slice(0,5))>-1}yu.exports=function(Sl,Al){var Et,Pl=Sl.data,El=Sl.layout,Fl=xl([],Pl),$l=xl({},El,Bn(Al.tileClass)),Nl=Sl._context||{};if(Al.width&&($l.width=Al.width),Al.height&&($l.height=Al.height),Al.tileClass==="thumbnail"||Al.tileClass==="themes__thumb"){$l.annotations=[];var Ll=Object.keys($l);for(Et=0;Et<Ll.length;Et++)yl(Ll[Et])&&($l[Ll[Et]].title={text:""});for(Et=0;Et<Fl.length;Et++){var Ol=Fl[Et];Ol.showscale=!1,Ol.marker&&(Ol.marker.showscale=!1),ls.traceIs(Ol,"pie-like")&&(Ol.textposition="none")}}if(Array.isArray(Al.annotations))for(Et=0;Et<Al.annotations.length;Et++)$l.annotations.push(Al.annotations[Et]);var Bl=Object.keys($l).filter(function(Kl){return Kl.match(/^scene\d*$/)});if(Bl.length){var _l={};for(Al.tileClass==="thumbnail"&&(_l={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),Et=0;Et<Bl.length;Et++){var Rl=$l[Bl[Et]];Rl.xaxis||(Rl.xaxis={}),Rl.yaxis||(Rl.yaxis={}),Rl.zaxis||(Rl.zaxis={}),Fn(Rl.xaxis,_l),Fn(Rl.yaxis,_l),Fn(Rl.zaxis,_l),Rl._scene=null}}var Il=document.createElement("div");Al.tileClass&&(Il.className=Al.tileClass);var Hl={gd:Il,td:Il,layout:$l,data:Fl,config:{staticPlot:Al.staticPlot===void 0?!0:Al.staticPlot,plotGlPixelRatio:Al.plotGlPixelRatio===void 0?2:Al.plotGlPixelRatio,displaylogo:Al.displaylogo||!1,showLink:Al.showLink||!1,showTips:Al.showTips||!1,mapboxAccessToken:Nl.mapboxAccessToken}};return Al.setBackground!=="transparent"&&(Hl.config.setBackground=Al.setBackground||"opaque"),Hl.gd.defaultLayout=Bn(Al.tileClass),Hl}}),I1=a((Mu,yu)=>{var ls=c2().EventEmitter,_t=Gp(),Fn=vm(),xl=a2(),Bn=c1(),yl=W2(),Sl=U2();function Al(Et,Pl){var El=new ls,Fl=Bn(Et,{format:"png"}),$l=Fl.gd;$l.style.position="absolute",$l.style.left="-5000px",document.body.appendChild($l);function Nl(){var Ol=xl.getDelay($l._fullLayout);setTimeout(function(){var Bl=yl($l),_l=document.createElement("canvas");_l.id=Fn.randstr(),El=Sl({format:Pl.format,width:$l._fullLayout.width,height:$l._fullLayout.height,canvas:_l,emitter:El,svg:Bl}),El.clean=function(){$l&&document.body.removeChild($l)}},Ol)}var Ll=xl.getRedrawFunc($l);return _t.call("_doPlot",$l,Fl.data,Fl.layout,Fl.config).then(Ll).then(Nl).catch(function(Ol){El.emit("error",Ol)}),El}yu.exports=Al}),Gv=a((Mu,yu)=>{var ls=a2(),_t={getDelay:ls.getDelay,getRedrawFunc:ls.getRedrawFunc,clone:c1(),toSVG:W2(),svgToImg:U2(),toImage:I1(),downloadImage:T3()};yu.exports=_t}),iv=a(Mu=>{Mu.version=c().version,d(),Sy();var yu=Gp(),ls=Mu.register=yu.register,_t=kx(),Fn=Object.keys(_t);for(Bn=0;Bn<Fn.length;Bn++)xl=Fn[Bn],xl.charAt(0)!=="_"&&(Mu[xl]=_t[xl]),ls({moduleType:"apiMethod",name:xl,fn:_t[xl]});var xl,Bn;ls(Vw()),ls([$y(),F2(),Ky(),eC(),nC(),sC(),uC(),Xx(),l0(),F0(),r1(),s3(),Pv(),J1(),My(),fx()]),ls([G1(),z1()]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(ls(window.PlotlyLocales),delete window.PlotlyLocales),Mu.Icons=m3();var yl=My(),Sl=Fv();Mu.Plots={resize:Sl.resize,graphJson:Sl.graphJson,sendDataToCloud:Sl.sendDataToCloud},Mu.Fx={hover:yl.hover,unhover:yl.unhover,loneHover:yl.loneHover,loneUnhover:yl.loneUnhover},Mu.Snapshot=Gv(),Mu.PlotSchema=Oy()}),Y1=a((Mu,yu)=>{yu.exports=iv()}),fv=a((Mu,yu)=>{yu.exports={TEXTPAD:3,eventDataKeys:["value","label"]}}),E1=a((Mu,yu)=>{var ls=ey(),_t=t2().axisHoverFormat,Fn=gm().hovertemplateAttrs,xl=gm().texttemplateAttrs,Bn=_y(),yl=Ml(),Sl=fv(),Al=Cm().pattern,Et=In().extendFlat,Pl=yl({editType:"calc",arrayOk:!0,colorEditType:"style"}),El=ls.marker,Fl=El.line,$l=Et({},Fl.width,{dflt:0}),Nl=Et({width:$l,editType:"calc"},Bn("marker.line")),Ll=Et({line:Nl,editType:"calc"},Bn("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:Al,cornerradius:{valType:"any",editType:"calc"}});yu.exports={x:ls.x,x0:ls.x0,dx:ls.dx,y:ls.y,y0:ls.y0,dy:ls.dy,xperiod:ls.xperiod,yperiod:ls.yperiod,xperiod0:ls.xperiod0,yperiod0:ls.yperiod0,xperiodalignment:ls.xperiodalignment,yperiodalignment:ls.yperiodalignment,xhoverformat:_t("x"),yhoverformat:_t("y"),text:ls.text,texttemplate:xl({editType:"plot"},{keys:Sl.eventDataKeys}),hovertext:ls.hovertext,hovertemplate:Fn({},{keys:Sl.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:Et({},Pl,{}),insidetextfont:Et({},Pl,{}),outsidetextfont:Et({},Pl,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:Et({},ls.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:Ll,offsetgroup:ls.offsetgroup,alignmentgroup:ls.alignmentgroup,selected:{marker:{opacity:ls.selected.marker.opacity,color:ls.selected.marker.color,editType:"style"},textfont:ls.selected.textfont,editType:"style"},unselected:{marker:{opacity:ls.unselected.marker.opacity,color:ls.unselected.marker.color,editType:"style"},textfont:ls.unselected.textfont,editType:"style"},zorder:ls.zorder}}),H1=a((Mu,yu)=>{yu.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},barcornerradius:{valType:"any",editType:"calc"}}}),ny=a((Mu,yu)=>{var ls=cp(),_t=Yv().hasColorscale,Fn=zy(),xl=vm().coercePattern;yu.exports=function(Bn,yl,Sl,Al,Et){var Pl=Sl("marker.color",Al),El=_t(Bn,"marker");El&&Fn(Bn,yl,Et,Sl,{prefix:"marker.",cLetter:"c"}),Sl("marker.line.color",ls.defaultLine),_t(Bn,"marker.line")&&Fn(Bn,yl,Et,Sl,{prefix:"marker.line.",cLetter:"c"}),Sl("marker.line.width"),Sl("marker.opacity"),xl(Sl,"marker.pattern",Pl,El),Sl("selected.marker.color"),Sl("unselected.marker.color")}}),Ay=a((Mu,yu)=>{var ls=rt(),_t=vm(),Fn=cp(),xl=Gp(),Bn=F3(),yl=P3(),Sl=ny(),Al=D3(),Et=E1(),Pl=_t.coerceFont;function El(Ll,Ol,Bl,_l){function Rl(vu,hu){return _t.coerce(Ll,Ol,Et,vu,hu)}var Il=Bn(Ll,Ol,_l,Rl);if(!Il){Ol.visible=!1;return}yl(Ll,Ol,_l,Rl),Rl("xhoverformat"),Rl("yhoverformat"),Rl("zorder"),Rl("orientation",Ol.x&&!Ol.y?"h":"v"),Rl("base"),Rl("offset"),Rl("width"),Rl("text"),Rl("hovertext"),Rl("hovertemplate");var Hl=Rl("textposition");Nl(Ll,Ol,_l,Rl,Hl,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),Sl(Ll,Ol,Rl,Bl,_l);var Kl=(Ol.marker.line||{}).color,Gu=xl.getComponentMethod("errorbars","supplyDefaults");Gu(Ll,Ol,Kl||Fn.defaultLine,{axis:"y"}),Gu(Ll,Ol,Kl||Fn.defaultLine,{axis:"x",inherit:"y"}),_t.coerceSelectionMarkerOpacity(Ol,Rl)}function Fl(Ll,Ol){var Bl,_l;function Rl(Kl,Gu){return _t.coerce(_l._input,_l,Et,Kl,Gu)}for(var Il=0;Il<Ll.length;Il++)if(_l=Ll[Il],_l.type==="bar"){Bl=_l._input;var Hl=Rl("marker.cornerradius",Ol.barcornerradius);_l.marker&&(_l.marker.cornerradius=$l(Hl)),Al(Bl,_l,Ol,Rl,Ol.barmode)}}function $l(Ll){if(ls(Ll)){if(Ll=+Ll,Ll>=0)return Ll}else if(typeof Ll=="string"&&(Ll=Ll.trim(),Ll.slice(-1)==="%"&&ls(Ll.slice(0,-1))&&(Ll=+Ll.slice(0,-1),Ll>=0)))return Ll+"%"}function Nl(Ll,Ol,Bl,_l,Rl,Il){Il=Il||{};var Hl=Il.moduleHasSelected!==!1,Kl=Il.moduleHasUnselected!==!1,Gu=Il.moduleHasConstrain!==!1,vu=Il.moduleHasCliponaxis!==!1,hu=Il.moduleHasTextangle!==!1,Yl=Il.moduleHasInsideanchor!==!1,$u=!!Il.hasPathbar,bu=Array.isArray(Rl)||Rl==="auto",Lu=bu||Rl==="inside",Fu=bu||Rl==="outside";if(Lu||Fu){var Du=Pl(_l,"textfont",Bl.font),Hu=_t.extendFlat({},Du),Vu=Ll.textfont&&Ll.textfont.color,gu=!Vu;if(gu&&delete Hu.color,Pl(_l,"insidetextfont",Hu),$u){var Wu=_t.extendFlat({},Du);gu&&delete Wu.color,Pl(_l,"pathbar.textfont",Wu)}Fu&&Pl(_l,"outsidetextfont",Du),Hl&&_l("selected.textfont.color"),Kl&&_l("unselected.textfont.color"),Gu&&_l("constraintext"),vu&&_l("cliponaxis"),hu&&_l("textangle"),_l("texttemplate")}Lu&&Yl&&_l("insidetextanchor")}yu.exports={supplyDefaults:El,crossTraceDefaults:Fl,handleText:Nl,validateCornerradius:$l}}),Jx=a((Mu,yu)=>{var ls=Gp(),_t=pv(),Fn=vm(),xl=H1(),Bn=Ay().validateCornerradius;yu.exports=function(yl,Sl,Al){function Et(Hl,Kl){return Fn.coerce(yl,Sl,xl,Hl,Kl)}for(var Pl=!1,El=!1,Fl=!1,$l={},Nl=Et("barmode"),Ll=Nl==="group",Ol=0;Ol<Al.length;Ol++){var Bl=Al[Ol];if(ls.traceIs(Bl,"bar")&&Bl.visible)Pl=!0;else continue;var _l=Bl.xaxis+Bl.yaxis;if(Ll?($l[_l]&&(Fl=!0),$l[_l]=!0):(_l+=Bl._input.offsetgroup,$l.length>0&&!$l[_l]&&(Fl=!0),$l[_l]=!0),Bl.visible&&Bl.type==="histogram"){var Rl=_t.getFromId({_fullLayout:Sl},Bl[Bl.orientation==="v"?"xaxis":"yaxis"]);Rl.type!=="category"&&(El=!0)}}if(!Pl){delete Sl.barmode;return}Nl!=="overlay"&&Et("barnorm"),Et("bargap",El&&!Fl?0:.2),Et("bargroupgap");var Il=Et("barcornerradius");Sl.barcornerradius=Bn(Il)}}),P2=a((Mu,yu)=>{var ls=vm();yu.exports=function(_t,Fn){for(var xl=0;xl<_t.length;xl++)_t[xl].i=xl;ls.mergeArray(Fn.text,_t,"tx"),ls.mergeArray(Fn.hovertext,_t,"htx");var Bn=Fn.marker;if(Bn){ls.mergeArray(Bn.opacity,_t,"mo",!0),ls.mergeArray(Bn.color,_t,"mc");var yl=Bn.line;yl&&(ls.mergeArray(yl.color,_t,"mlc"),ls.mergeArrayCastPositive(yl.width,_t,"mlw"))}}}),e3=a((Mu,yu)=>{var ls=pv(),_t=O3(),Fn=Yv().hasColorscale,xl=Yy(),Bn=P2(),yl=z3();yu.exports=function(Sl,Al){var Et=ls.getFromId(Sl,Al.xaxis||"x"),Pl=ls.getFromId(Sl,Al.yaxis||"y"),El,Fl,$l,Nl,Ll,Ol,Bl={msUTC:!!(Al.base||Al.base===0)};Al.orientation==="h"?(El=Et.makeCalcdata(Al,"x",Bl),$l=Pl.makeCalcdata(Al,"y"),Nl=_t(Al,Pl,"y",$l),Ll=!!Al.yperiodalignment,Ol="y"):(El=Pl.makeCalcdata(Al,"y",Bl),$l=Et.makeCalcdata(Al,"x"),Nl=_t(Al,Et,"x",$l),Ll=!!Al.xperiodalignment,Ol="x"),Fl=Nl.vals;for(var _l=Math.min(Fl.length,El.length),Rl=new Array(_l),Il=0;Il<_l;Il++)Rl[Il]={p:Fl[Il],s:El[Il]},Ll&&(Rl[Il].orig_p=$l[Il],Rl[Il][Ol+"End"]=Nl.ends[Il],Rl[Il][Ol+"Start"]=Nl.starts[Il]),Al.ids&&(Rl[Il].id=String(Al.ids[Il]));return Fn(Al,"marker")&&xl(Sl,Al,{vals:Al.marker.color,containerStr:"marker",cLetter:"c"}),Fn(Al,"marker.line")&&xl(Sl,Al,{vals:Al.marker.line.color,containerStr:"marker.line",cLetter:"c"}),Bn(Rl,Al),yl(Rl,Al),Rl}}),ew=a((Mu,yu)=>{var ls=g(),_t=vm();function Fn(Sl,Al,Et){var Pl=Sl._fullLayout,El=Pl["_"+Et+"Text_minsize"];if(El){var Fl=Pl.uniformtext.mode==="hide",$l;switch(Et){case"funnelarea":case"pie":case"sunburst":$l="g.slice";break;case"treemap":case"icicle":$l="g.slice, g.pathbar";break;default:$l="g.points > g.point"}Al.selectAll($l).each(function(Nl){var Ll=Nl.transform;if(Ll){Ll.scale=Fl&&Ll.hide?0:El/Ll.fontSize;var Ol=ls.select(this).select("text");_t.setTransormAndDisplay(Ol,Ll)}})}}function xl(Sl,Al,Et){if(Et.uniformtext.mode){var Pl=yl(Sl),El=Et.uniformtext.minsize,Fl=Al.scale*Al.fontSize;Al.hide=Fl<El,Et[Pl]=Et[Pl]||1/0,Al.hide||(Et[Pl]=Math.min(Et[Pl],Math.max(Fl,El)))}}function Bn(Sl,Al){var Et=yl(Sl);Al[Et]=void 0}function yl(Sl){return"_"+Sl+"Text_minsize"}yu.exports={recordMinTextSize:xl,clearMinTextSize:Bn,resizeText:Fn}}),dC=a(Mu=>{var yu=rt(),ls=zl(),_t=vm().isArrayOrTypedArray;Mu.coerceString=function(Fn,xl,Bn){if(typeof xl=="string"){if(xl||!Fn.noBlank)return xl}else if((typeof xl=="number"||xl===!0)&&!Fn.strict)return String(xl);return Bn!==void 0?Bn:Fn.dflt},Mu.coerceNumber=function(Fn,xl,Bn){if(yu(xl)){xl=+xl;var yl=Fn.min,Sl=Fn.max,Al=yl!==void 0&&xl<yl||Sl!==void 0&&xl>Sl;if(!Al)return xl}return Bn!==void 0?Bn:Fn.dflt},Mu.coerceColor=function(Fn,xl,Bn){return ls(xl).isValid()?xl:Bn!==void 0?Bn:Fn.dflt},Mu.coerceEnumerated=function(Fn,xl,Bn){return Fn.coerceNumber&&(xl=+xl),Fn.values.indexOf(xl)!==-1?xl:Bn!==void 0?Bn:Fn.dflt},Mu.getValue=function(Fn,xl){var Bn;return _t(Fn)?xl<Fn.length&&(Bn=Fn[xl]):Bn=Fn,Bn},Mu.getLineWidth=function(Fn,xl){var Bn=0<xl.mlw?xl.mlw:_t(Fn.marker.line.width)?0:Fn.marker.line.width;return Bn}}),hC=a((Mu,yu)=>{var ls=g(),_t=cp(),Fn=V1(),xl=vm(),Bn=Gp(),yl=ew().resizeText,Sl=E1(),Al=Sl.textfont,Et=Sl.insidetextfont,Pl=Sl.outsidetextfont,El=dC();function Fl(vu){var hu=ls.select(vu).selectAll('g[class^="barlayer"]').selectAll("g.trace");yl(vu,hu,"bar");var Yl=hu.size(),$u=vu._fullLayout;hu.style("opacity",function(bu){return bu[0].trace.opacity}).each(function(bu){($u.barmode==="stack"&&Yl>1||$u.bargap===0&&$u.bargroupgap===0&&!bu[0].trace.marker.line.width)&&ls.select(this).attr("shape-rendering","crispEdges")}),hu.selectAll("g.points").each(function(bu){var Lu=ls.select(this),Fu=bu[0].trace;$l(Lu,Fu,vu)}),Bn.getComponentMethod("errorbars","style")(hu)}function $l(vu,hu,Yl){Fn.pointStyle(vu.selectAll("path"),hu,Yl),Nl(vu,hu,Yl)}function Nl(vu,hu,Yl){vu.selectAll("text").each(function($u){var bu=ls.select(this),Lu=xl.ensureUniformFontSize(Yl,_l(bu,$u,hu,Yl));Fn.font(bu,Lu)})}function Ll(vu,hu,Yl){var $u=hu[0].trace;$u.selectedpoints?Ol(Yl,$u,vu):($l(Yl,$u,vu),Bn.getComponentMethod("errorbars","style")(Yl))}function Ol(vu,hu,Yl){Fn.selectedPointStyle(vu.selectAll("path"),hu),Bl(vu.selectAll("text"),hu,Yl)}function Bl(vu,hu,Yl){vu.each(function($u){var bu=ls.select(this),Lu;if($u.selected){Lu=xl.ensureUniformFontSize(Yl,_l(bu,$u,hu,Yl));var Fu=hu.selected.textfont&&hu.selected.textfont.color;Fu&&(Lu.color=Fu),Fn.font(bu,Lu)}else Fn.selectedTextStyle(bu,hu)})}function _l(vu,hu,Yl,$u){var bu=$u._fullLayout.font,Lu=Yl.textfont;if(vu.classed("bartext-inside")){var Fu=Gu(hu,Yl);Lu=Il(Yl,hu.i,bu,Fu)}else vu.classed("bartext-outside")&&(Lu=Hl(Yl,hu.i,bu));return Lu}function Rl(vu,hu,Yl){return Kl(Al,vu.textfont,hu,Yl)}function Il(vu,hu,Yl,$u){var bu=Rl(vu,hu,Yl),Lu=vu._input.textfont===void 0||vu._input.textfont.color===void 0||Array.isArray(vu.textfont.color)&&vu.textfont.color[hu]===void 0;return Lu&&(bu={color:_t.contrast($u),family:bu.family,size:bu.size,weight:bu.weight,style:bu.style,variant:bu.variant,textcase:bu.textcase,lineposition:bu.lineposition,shadow:bu.shadow}),Kl(Et,vu.insidetextfont,hu,bu)}function Hl(vu,hu,Yl){var $u=Rl(vu,hu,Yl);return Kl(Pl,vu.outsidetextfont,hu,$u)}function Kl(vu,hu,Yl,$u){hu=hu||{};var bu=El.getValue(hu.family,Yl),Lu=El.getValue(hu.size,Yl),Fu=El.getValue(hu.color,Yl),Du=El.getValue(hu.weight,Yl),Hu=El.getValue(hu.style,Yl),Vu=El.getValue(hu.variant,Yl),gu=El.getValue(hu.textcase,Yl),Wu=El.getValue(hu.lineposition,Yl),qu=El.getValue(hu.shadow,Yl);return{family:El.coerceString(vu.family,bu,$u.family),size:El.coerceNumber(vu.size,Lu,$u.size),color:El.coerceColor(vu.color,Fu,$u.color),weight:El.coerceString(vu.weight,Du,$u.weight),style:El.coerceString(vu.style,Hu,$u.style),variant:El.coerceString(vu.variant,Vu,$u.variant),textcase:El.coerceString(vu.variant,gu,$u.textcase),lineposition:El.coerceString(vu.variant,Wu,$u.lineposition),shadow:El.coerceString(vu.variant,qu,$u.shadow)}}function Gu(vu,hu){return hu.type==="waterfall"?hu[vu.dir].marker.color:vu.mcc||vu.mc||hu.marker.color}yu.exports={style:Fl,styleTextPoints:Nl,styleOnSelect:Ll,getInsideTextFont:Il,getOutsideTextFont:Hl,getBarColor:Gu,resizeText:yl}}),Z5=a((Mu,yu)=>{var ls=g(),_t=rt(),Fn=vm(),xl=Wv(),Bn=cp(),yl=V1(),Sl=Gp(),Al=pv().tickText,Et=ew(),Pl=Et.recordMinTextSize,El=Et.clearMinTextSize,Fl=hC(),$l=dC(),Nl=fv(),Ll=E1(),Ol=Ll.text,Bl=Ll.textposition,_l=Ny().appendArrayPointValue,Rl=Nl.TEXTPAD;function Il(ap){return ap.id}function Hl(ap){if(ap.ids)return Il}function Kl(ap){return(ap>0)-(ap<0)}function Gu(ap,bp){return ap<bp?1:-1}function vu(ap,bp,wp,kp){var Iu=[],Bu=[],Xl=kp?bp:wp,Uu=kp?wp:bp;return Iu[0]=Xl.c2p(ap.s0,!0),Bu[0]=Uu.c2p(ap.p0,!0),Iu[1]=Xl.c2p(ap.s1,!0),Bu[1]=Uu.c2p(ap.p1,!0),kp?[Iu,Bu]:[Bu,Iu]}function hu(ap,bp,wp,kp){if(!bp.uniformtext.mode&&Yl(wp)){var Iu;return kp&&(Iu=kp()),ap.transition().duration(wp.duration).ease(wp.easing).each("end",function(){Iu&&Iu()}).each("interrupt",function(){Iu&&Iu()})}else return ap}function Yl(ap){return ap&&ap.duration>0}function $u(ap,bp,wp,kp,Iu,Bu){var Xl=bp.xaxis,Uu=bp.yaxis,ep=ap._fullLayout,_u=ap._context.staticPlot;Iu||(Iu={mode:ep.barmode,norm:ep.barmode,gap:ep.bargap,groupgap:ep.bargroupgap},El("bar",ep));var Wl=Fn.makeTraceGroups(kp,wp,"trace bars").each(function(Jl){var Pu=ls.select(this),Nu=Jl[0].trace,tp=Jl[0].t,up=Nu.type==="waterfall",dp=Nu.type==="funnel",Ap=Nu.type==="histogram",Op=Nu.type==="bar",Zp=Op||dp,u0=0;up&&Nu.connector.visible&&Nu.connector.mode==="between"&&(u0=Nu.connector.line.width/2);var r0=Nu.orientation==="h",e0=Yl(Iu),Cp=Fn.ensureSingle(Pu,"g","points"),Mp=Hl(Nu),sp=Cp.selectAll("g.point").data(Fn.identity,Mp);sp.enter().append("g").classed("point",!0),sp.exit().remove(),sp.each(function(Jp,a0){var v0=ls.select(this),h0=vu(Jp,Xl,Uu,r0),w0=h0[0][0],E0=h0[0][1],_0=h0[1][0],$0=h0[1][1],f0=(r0?E0-w0:$0-_0)===0;f0&&Zp&&$l.getLineWidth(Nu,Jp)&&(f0=!1),f0||(f0=!_t(w0)||!_t(E0)||!_t(_0)||!_t($0)),Jp.isBlank=f0,f0&&(r0?E0=w0:$0=_0),u0&&!f0&&(r0?(w0-=Gu(w0,E0)*u0,E0+=Gu(w0,E0)*u0):(_0-=Gu(_0,$0)*u0,$0+=Gu(_0,$0)*u0));var q0,J0;if(Nu.type==="waterfall"){if(!f0){var V0=Nu[Jp.dir].marker;q0=V0.line.width,J0=V0.color}}else q0=$l.getLineWidth(Nu,Jp),J0=Jp.mc||Nu.marker.color;function nm(Wm){var Im=ls.round(q0/2%1,2);return Iu.gap===0&&Iu.groupgap===0?ls.round(Math.round(Wm)-Im,2):Wm}function Ep(Wm,Im,Am){return Am&&Wm===Im?Wm:Math.abs(Wm-Im)>=2?nm(Wm):Wm>Im?Math.ceil(Wm):Math.floor(Wm)}var $p=Bn.opacity(J0),Zu=$p<1||q0>.01?nm:Ep;ap._context.staticPlot||(w0=Zu(w0,E0,r0),E0=Zu(E0,w0,r0),_0=Zu(_0,$0,!r0),$0=Zu($0,_0,!r0));var lp=r0?Xl.c2p:Uu.c2p,mp;Jp.s0>0?mp=Jp._sMax:Jp.s0<0?mp=Jp._sMin:mp=Jp.s1>0?Jp._sMax:Jp._sMin;function Tp(Wm,Im){if(!Wm)return 0;var Am=Math.abs(r0?$0-_0:E0-w0),Fm=Math.abs(r0?E0-w0:$0-_0),Sm=Zu(Math.abs(lp(mp,!0)-lp(0,!0))),e1=Jp.hasB?Math.min(Am/2,Fm/2):Math.min(Am/2,Sm),u1;if(Im==="%"){var jm=Math.min(50,Wm);u1=Am*(jm/100)}else u1=Wm;return Zu(Math.max(Math.min(u1,e1),0))}var Lp=Op||Ap?Tp(tp.cornerradiusvalue,tp.cornerradiusform):0,Up,Xp,c0="M"+w0+","+_0+"V"+$0+"H"+E0+"V"+_0+"Z",i0=0;if(Lp&&Jp.s){var s0=Kl(Jp.s0)===0||Kl(Jp.s)===Kl(Jp.s0)?Jp.s1:Jp.s0;if(i0=Zu(Jp.hasB?0:Math.abs(lp(mp,!0)-lp(s0,!0))),i0<Lp){var M0=Gu(w0,E0),A0=Gu(_0,$0),R0=M0===-A0?1:0;if(r0)if(Jp.hasB)Up="M"+(w0+Lp*M0)+","+_0+"A "+Lp+","+Lp+" 0 0 "+R0+" "+w0+","+(_0+Lp*A0)+"V"+($0-Lp*A0)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+(w0+Lp*M0)+","+$0+"H"+(E0-Lp*M0)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+E0+","+($0-Lp*A0)+"V"+(_0+Lp*A0)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+(E0-Lp*M0)+","+_0+"Z";else{Xp=Math.abs(E0-w0)+i0;var rm=Xp<Lp?Lp-Math.sqrt(Xp*(2*Lp-Xp)):0,wm=i0>0?Math.sqrt(i0*(2*Lp-i0)):0,Bm=M0>0?Math.max:Math.min;Up="M"+w0+","+_0+"V"+($0-rm*A0)+"H"+Bm(E0-(Lp-i0)*M0,w0)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+E0+","+($0-Lp*A0-wm)+"V"+(_0+Lp*A0+wm)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+Bm(E0-(Lp-i0)*M0,w0)+","+(_0+rm*A0)+"Z"}else if(Jp.hasB)Up="M"+(w0+Lp*M0)+","+_0+"A "+Lp+","+Lp+" 0 0 "+R0+" "+w0+","+(_0+Lp*A0)+"V"+($0-Lp*A0)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+(w0+Lp*M0)+","+$0+"H"+(E0-Lp*M0)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+E0+","+($0-Lp*A0)+"V"+(_0+Lp*A0)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+(E0-Lp*M0)+","+_0+"Z";else{Xp=Math.abs($0-_0)+i0;var Vm=Xp<Lp?Lp-Math.sqrt(Xp*(2*Lp-Xp)):0,Ym=i0>0?Math.sqrt(i0*(2*Lp-i0)):0,_m=A0>0?Math.max:Math.min;Up="M"+(w0+Vm*M0)+","+_0+"V"+_m($0-(Lp-i0)*A0,_0)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+(w0+Lp*M0-Ym)+","+$0+"H"+(E0-Lp*M0+Ym)+"A "+Lp+","+Lp+" 0 0 "+R0+" "+(E0-Vm*M0)+","+_m($0-(Lp-i0)*A0,_0)+"V"+_0+"Z"}}else Up=c0}else Up=c0;var sm=hu(Fn.ensureSingle(v0,"path"),ep,Iu,Bu);if(sm.style("vector-effect",_u?"none":"non-scaling-stroke").attr("d",isNaN((E0-w0)*($0-_0))||f0&&ap._context.staticPlot?"M0,0Z":Up).call(yl.setClipUrl,bp.layerClipId,ap),!ep.uniformtext.mode&&e0){var zm=yl.makePointStyleFns(Nu);yl.singlePointStyle(Jp,sm,Nu,zm,ap)}bu(ap,bp,v0,Jl,a0,w0,E0,_0,$0,Lp,i0,Iu,Bu),bp.layerClipId&&yl.hideOutsideRangePoint(Jp,v0.select("text"),Xl,Uu,Nu.xcalendar,Nu.ycalendar)});var Ip=Nu.cliponaxis===!1;yl.setClipUrl(Pu,Ip?null:bp.layerClipId,ap)});Sl.getComponentMethod("errorbars","plot")(ap,Wl,bp,Iu)}function bu(ap,bp,wp,kp,Iu,Bu,Xl,Uu,ep,_u,Wl,Jl,Pu){var Nu=bp.xaxis,tp=bp.yaxis,up=ap._fullLayout,dp;function Ap(Xp,c0,i0){var s0=Fn.ensureSingle(Xp,"text").text(c0).attr({class:"bartext bartext-"+dp,"text-anchor":"middle","data-notex":1}).call(yl.font,i0).call(xl.convertToTspans,ap);return s0}var Op=kp[0].trace,Zp=Op.orientation==="h",u0=Wu(up,kp,Iu,Nu,tp);dp=qu(Op,Iu);var r0=Jl.mode==="stack"||Jl.mode==="relative",e0=kp[Iu],Cp=!r0||e0._outmost,Mp=e0.hasB,sp=_u&&_u-Wl>Rl;if(!u0||dp==="none"||(e0.isBlank||Bu===Xl||Uu===ep)&&(dp==="auto"||dp==="inside")){wp.select("text").remove();return}var Ip=up.font,Jp=Fl.getBarColor(kp[Iu],Op),a0=Fl.getInsideTextFont(Op,Iu,Ip,Jp),v0=Fl.getOutsideTextFont(Op,Iu,Ip),h0=Op.insidetextanchor||"end",w0=wp.datum();Zp?Nu.type==="log"&&w0.s0<=0&&(Nu.range[0]<Nu.range[1]?Bu=0:Bu=Nu._length):tp.type==="log"&&w0.s0<=0&&(tp.range[0]<tp.range[1]?Uu=tp._length:Uu=0);var E0=Math.abs(Xl-Bu),_0=Math.abs(ep-Uu),$0=E0-2*Rl,f0=_0-2*Rl,q0,J0,V0,nm,Ep;if(dp==="outside"&&!Cp&&!e0.hasB&&(dp="inside"),dp==="auto")if(Cp){dp="inside",Ep=Fn.ensureUniformFontSize(ap,a0),q0=Ap(wp,u0,Ep),J0=yl.bBox(q0.node()),V0=J0.width,nm=J0.height;var $p=V0>0&&nm>0,Zu;sp?Mp?Zu=Lu($0-2*_u,f0,V0,nm,Zp)||Lu($0,f0-2*_u,V0,nm,Zp):Zp?Zu=Lu($0-(_u-Wl),f0,V0,nm,Zp)||Lu($0,f0-2*(_u-Wl),V0,nm,Zp):Zu=Lu($0,f0-(_u-Wl),V0,nm,Zp)||Lu($0-2*(_u-Wl),f0,V0,nm,Zp):Zu=Lu($0,f0,V0,nm,Zp),$p&&Zu?dp="inside":(dp="outside",q0.remove(),q0=null)}else dp="inside";if(!q0){Ep=Fn.ensureUniformFontSize(ap,dp==="outside"?v0:a0),q0=Ap(wp,u0,Ep);var lp=q0.attr("transform");if(q0.attr("transform",""),J0=yl.bBox(q0.node()),V0=J0.width,nm=J0.height,q0.attr("transform",lp),V0<=0||nm<=0){q0.remove();return}}var mp=Op.textangle,Tp,Lp;dp==="outside"?(Lp=Op.constraintext==="both"||Op.constraintext==="outside",Tp=gu(Bu,Xl,Uu,ep,J0,{isHorizontal:Zp,constrained:Lp,angle:mp})):(Lp=Op.constraintext==="both"||Op.constraintext==="inside",Tp=Hu(Bu,Xl,Uu,ep,J0,{isHorizontal:Zp,constrained:Lp,angle:mp,anchor:h0,hasB:Mp,r:_u,overhead:Wl})),Tp.fontSize=Ep.size,Pl(Op.type==="histogram"?"bar":Op.type,Tp,up),e0.transform=Tp;var Up=hu(q0,up,Jl,Pu);Fn.setTransormAndDisplay(Up,Tp)}function Lu(ap,bp,wp,kp,Iu){if(ap<0||bp<0)return!1;var Bu=wp<=ap&&kp<=bp,Xl=wp<=bp&&kp<=ap,Uu=Iu?ap>=wp*(bp/kp):bp>=kp*(ap/wp);return Bu||Xl||Uu}function Fu(ap){return ap==="auto"?0:ap}function Du(ap,bp){var wp=Math.PI/180*bp,kp=Math.abs(Math.sin(wp)),Iu=Math.abs(Math.cos(wp));return{x:ap.width*Iu+ap.height*kp,y:ap.width*kp+ap.height*Iu}}function Hu(ap,bp,wp,kp,Iu,Bu){var Xl=!!Bu.isHorizontal,Uu=!!Bu.constrained,ep=Bu.angle||0,_u=Bu.anchor,Wl=_u==="end",Jl=_u==="start",Pu=Bu.leftToRight||0,Nu=(Pu+1)/2,tp=1-Nu,up=Bu.hasB,dp=Bu.r,Ap=Bu.overhead,Op=Iu.width,Zp=Iu.height,u0=Math.abs(bp-ap),r0=Math.abs(kp-wp),e0=u0>2*Rl&&r0>2*Rl?Rl:0;u0-=2*e0,r0-=2*e0;var Cp=Fu(ep);ep==="auto"&&!(Op<=u0&&Zp<=r0)&&(Op>u0||Zp>r0)&&(!(Op>r0||Zp>u0)||Op<Zp!=u0<r0)&&(Cp+=90);var Mp=Du(Iu,Cp),sp,Ip;if(dp&&dp-Ap>Rl){var Jp=Vu(ap,bp,wp,kp,Mp,dp,Ap,Xl,up);sp=Jp.scale,Ip=Jp.pad}else sp=1,Uu&&(sp=Math.min(1,u0/Mp.x,r0/Mp.y)),Ip=0;var a0=Iu.left*tp+Iu.right*Nu,v0=(Iu.top+Iu.bottom)/2,h0=(ap+Rl)*tp+(bp-Rl)*Nu,w0=(wp+kp)/2,E0=0,_0=0;if(Jl||Wl){var $0=(Xl?Mp.x:Mp.y)/2;dp&&(Wl||up)&&(e0+=Ip);var f0=Xl?Gu(ap,bp):Gu(wp,kp);Xl?Jl?(h0=ap+f0*e0,E0=-f0*$0):(h0=bp-f0*e0,E0=f0*$0):Jl?(w0=wp+f0*e0,_0=-f0*$0):(w0=kp-f0*e0,_0=f0*$0)}return{textX:a0,textY:v0,targetX:h0,targetY:w0,anchorX:E0,anchorY:_0,scale:sp,rotate:Cp}}function Vu(ap,bp,wp,kp,Iu,Bu,Xl,Uu,ep){var _u=Math.max(0,Math.abs(bp-ap)-2*Rl),Wl=Math.max(0,Math.abs(kp-wp)-2*Rl),Jl=Bu-Rl,Pu=Xl?Jl-Math.sqrt(Jl*Jl-(Jl-Xl)*(Jl-Xl)):Jl,Nu=ep?Jl*2:Uu?Jl-Xl:2*Pu,tp=ep?Jl*2:Uu?2*Pu:Jl-Xl,up,dp,Ap,Op,Zp;return Iu.y/Iu.x>=Wl/(_u-Nu)?Op=Wl/Iu.y:Iu.y/Iu.x<=(Wl-tp)/_u?Op=_u/Iu.x:!ep&&Uu?(up=Iu.x*Iu.x+Iu.y*Iu.y/4,dp=-2*Iu.x*(_u-Jl)-Iu.y*(Wl/2-Jl),Ap=(_u-Jl)*(_u-Jl)+(Wl/2-Jl)*(Wl/2-Jl)-Jl*Jl,Op=(-dp+Math.sqrt(dp*dp-4*up*Ap))/(2*up)):ep?(up=(Iu.x*Iu.x+Iu.y*Iu.y)/4,dp=-Iu.x*(_u/2-Jl)-Iu.y*(Wl/2-Jl),Ap=(_u/2-Jl)*(_u/2-Jl)+(Wl/2-Jl)*(Wl/2-Jl)-Jl*Jl,Op=(-dp+Math.sqrt(dp*dp-4*up*Ap))/(2*up)):(up=Iu.x*Iu.x/4+Iu.y*Iu.y,dp=-Iu.x*(_u/2-Jl)-2*Iu.y*(Wl-Jl),Ap=(_u/2-Jl)*(_u/2-Jl)+(Wl-Jl)*(Wl-Jl)-Jl*Jl,Op=(-dp+Math.sqrt(dp*dp-4*up*Ap))/(2*up)),Op=Math.min(1,Op),Uu?Zp=Math.max(0,Jl-Math.sqrt(Math.max(0,Jl*Jl-(Jl-(Wl-Iu.y*Op)/2)*(Jl-(Wl-Iu.y*Op)/2)))-Xl):Zp=Math.max(0,Jl-Math.sqrt(Math.max(0,Jl*Jl-(Jl-(_u-Iu.x*Op)/2)*(Jl-(_u-Iu.x*Op)/2)))-Xl),{scale:Op,pad:Zp}}function gu(ap,bp,wp,kp,Iu,Bu){var Xl=!!Bu.isHorizontal,Uu=!!Bu.constrained,ep=Bu.angle||0,_u=Iu.width,Wl=Iu.height,Jl=Math.abs(bp-ap),Pu=Math.abs(kp-wp),Nu;Xl?Nu=Pu>2*Rl?Rl:0:Nu=Jl>2*Rl?Rl:0;var tp=1;Uu&&(tp=Xl?Math.min(1,Pu/Wl):Math.min(1,Jl/_u));var up=Fu(ep),dp=Du(Iu,up),Ap=(Xl?dp.x:dp.y)/2,Op=(Iu.left+Iu.right)/2,Zp=(Iu.top+Iu.bottom)/2,u0=(ap+bp)/2,r0=(wp+kp)/2,e0=0,Cp=0,Mp=Xl?Gu(bp,ap):Gu(wp,kp);return Xl?(u0=bp-Mp*Nu,e0=Mp*Ap):(r0=kp+Mp*Nu,Cp=-Mp*Ap),{textX:Op,textY:Zp,targetX:u0,targetY:r0,anchorX:e0,anchorY:Cp,scale:tp,rotate:up}}function Wu(ap,bp,wp,kp,Iu){var Bu=bp[0].trace,Xl=Bu.texttemplate,Uu;return Xl?Uu=np(ap,bp,wp,kp,Iu):Bu.textinfo?Uu=_h(bp,wp,kp,Iu):Uu=$l.getValue(Bu.text,wp),$l.coerceString(Ol,Uu)}function qu(ap,bp){var wp=$l.getValue(ap.textposition,bp);return $l.coerceEnumerated(Bl,wp)}function np(ap,bp,wp,kp,Iu){var Bu=bp[0].trace,Xl=Fn.castOption(Bu,wp,"texttemplate");if(!Xl)return"";var Uu=Bu.type==="histogram",ep=Bu.type==="waterfall",_u=Bu.type==="funnel",Wl=Bu.orientation==="h",Jl,Pu,Nu,tp;Wl?(Jl="y",Pu=Iu,Nu="x",tp=kp):(Jl="x",Pu=kp,Nu="y",tp=Iu);function up(e0){return Al(Pu,Pu.c2l(e0),!0).text}function dp(e0){return Al(tp,tp.c2l(e0),!0).text}var Ap=bp[wp],Op={};Op.label=Ap.p,Op.labelLabel=Op[Jl+"Label"]=up(Ap.p);var Zp=Fn.castOption(Bu,Ap.i,"text");(Zp===0||Zp)&&(Op.text=Zp),Op.value=Ap.s,Op.valueLabel=Op[Nu+"Label"]=dp(Ap.s);var u0={};_l(u0,Bu,Ap.i),(Uu||u0.x===void 0)&&(u0.x=Wl?Op.value:Op.label),(Uu||u0.y===void 0)&&(u0.y=Wl?Op.label:Op.value),(Uu||u0.xLabel===void 0)&&(u0.xLabel=Wl?Op.valueLabel:Op.labelLabel),(Uu||u0.yLabel===void 0)&&(u0.yLabel=Wl?Op.labelLabel:Op.valueLabel),ep&&(Op.delta=+Ap.rawS||Ap.s,Op.deltaLabel=dp(Op.delta),Op.final=Ap.v,Op.finalLabel=dp(Op.final),Op.initial=Op.final-Op.delta,Op.initialLabel=dp(Op.initial)),_u&&(Op.value=Ap.s,Op.valueLabel=dp(Op.value),Op.percentInitial=Ap.begR,Op.percentInitialLabel=Fn.formatPercent(Ap.begR),Op.percentPrevious=Ap.difR,Op.percentPreviousLabel=Fn.formatPercent(Ap.difR),Op.percentTotal=Ap.sumR,Op.percenTotalLabel=Fn.formatPercent(Ap.sumR));var r0=Fn.castOption(Bu,Ap.i,"customdata");return r0&&(Op.customdata=r0),Fn.texttemplateString(Xl,Op,ap._d3locale,u0,Op,Bu._meta||{})}function _h(ap,bp,wp,kp){var Iu=ap[0].trace,Bu=Iu.orientation==="h",Xl=Iu.type==="waterfall",Uu=Iu.type==="funnel";function ep(r0){var e0=Bu?kp:wp;return Al(e0,r0,!0).text}function _u(r0){var e0=Bu?wp:kp;return Al(e0,+r0,!0).text}var Wl=Iu.textinfo,Jl=ap[bp],Pu=Wl.split("+"),Nu=[],tp,up=function(r0){return Pu.indexOf(r0)!==-1};if(up("label")&&Nu.push(ep(ap[bp].p)),up("text")&&(tp=Fn.castOption(Iu,Jl.i,"text"),(tp===0||tp)&&Nu.push(tp)),Xl){var dp=+Jl.rawS||Jl.s,Ap=Jl.v,Op=Ap-dp;up("initial")&&Nu.push(_u(Op)),up("delta")&&Nu.push(_u(dp)),up("final")&&Nu.push(_u(Ap))}if(Uu){up("value")&&Nu.push(_u(Jl.s));var Zp=0;up("percent initial")&&Zp++,up("percent previous")&&Zp++,up("percent total")&&Zp++;var u0=Zp>1;up("percent initial")&&(tp=Fn.formatPercent(Jl.begR),u0&&(tp+=" of initial"),Nu.push(tp)),up("percent previous")&&(tp=Fn.formatPercent(Jl.difR),u0&&(tp+=" of previous"),Nu.push(tp)),up("percent total")&&(tp=Fn.formatPercent(Jl.sumR),u0&&(tp+=" of total"),Nu.push(tp))}return Nu.join("<br>")}yu.exports={plot:$u,toMoveInsideBar:Hu}}),X5=a((Mu,yu)=>{var ls=My(),_t=Gp(),Fn=cp(),xl=vm().fillText,Bn=dC().getLineWidth,yl=pv().hoverLabelText,Sl=nt().BADNUM;function Al(El,Fl,$l,Nl,Ll){var Ol=Et(El,Fl,$l,Nl,Ll);if(Ol){var Bl=Ol.cd,_l=Bl[0].trace,Rl=Bl[Ol.index];return Ol.color=Pl(_l,Rl),_t.getComponentMethod("errorbars","hoverInfo")(Rl,_l,Ol),[Ol]}}function Et(El,Fl,$l,Nl,Ll){var Ol=El.cd,Bl=Ol[0].trace,_l=Ol[0].t,Rl=Nl==="closest",Il=Bl.type==="waterfall",Hl=El.maxHoverDistance,Kl=El.maxSpikeDistance,Gu,vu,hu,Yl,$u,bu,Lu;Bl.orientation==="h"?(Gu=$l,vu=Fl,hu="y",Yl="x",$u=kp,bu=ap):(Gu=Fl,vu=$l,hu="x",Yl="y",bu=kp,$u=ap);var Fu=Bl[hu+"period"],Du=Rl||Fu;function Hu(tp){return gu(tp,-1)}function Vu(tp){return gu(tp,1)}function gu(tp,up){var dp=tp.w;return tp[hu]+up*dp/2}function Wu(tp){return tp[hu+"End"]-tp[hu+"Start"]}var qu=Rl?Hu:Fu?function(tp){return tp.p-Wu(tp)/2}:function(tp){return Math.min(Hu(tp),tp.p-_l.bardelta/2)},np=Rl?Vu:Fu?function(tp){return tp.p+Wu(tp)/2}:function(tp){return Math.max(Vu(tp),tp.p+_l.bardelta/2)};function _h(tp,up,dp){return Ll.finiteRange&&(dp=0),ls.inbox(tp-Gu,up-Gu,dp+Math.min(1,Math.abs(up-tp)/Lu)-1)}function ap(tp){return _h(qu(tp),np(tp),Hl)}function bp(tp){return _h(Hu(tp),Vu(tp),Kl)}function wp(tp){var up=tp[Yl];if(Il){var dp=Math.abs(tp.rawS)||0;vu>0?up+=dp:vu<0&&(up-=dp)}return up}function kp(tp){var up=vu,dp=tp.b,Ap=wp(tp);return ls.inbox(dp-up,Ap-up,Hl+(Ap-up)/(Ap-dp)-1)}function Iu(tp){var up=vu,dp=tp.b,Ap=wp(tp);return ls.inbox(dp-up,Ap-up,Kl+(Ap-up)/(Ap-dp)-1)}var Bu=El[hu+"a"],Xl=El[Yl+"a"];Lu=Math.abs(Bu.r2c(Bu.range[1])-Bu.r2c(Bu.range[0]));function Uu(tp){return($u(tp)+bu(tp))/2}var ep=ls.getDistanceFunction(Nl,$u,bu,Uu);if(ls.getClosest(Ol,ep,El),El.index!==!1&&Ol[El.index].p!==Sl){Du||(qu=function(tp){return Math.min(Hu(tp),tp.p-_l.bargroupwidth/2)},np=function(tp){return Math.max(Vu(tp),tp.p+_l.bargroupwidth/2)});var _u=El.index,Wl=Ol[_u],Jl=Bl.base?Wl.b+Wl.s:Wl.s;El[Yl+"0"]=El[Yl+"1"]=Xl.c2p(Wl[Yl],!0),El[Yl+"LabelVal"]=Jl;var Pu=_l.extents[_l.extents.round(Wl.p)];El[hu+"0"]=Bu.c2p(Rl?qu(Wl):Pu[0],!0),El[hu+"1"]=Bu.c2p(Rl?np(Wl):Pu[1],!0);var Nu=Wl.orig_p!==void 0;return El[hu+"LabelVal"]=Nu?Wl.orig_p:Wl.p,El.labelLabel=yl(Bu,El[hu+"LabelVal"],Bl[hu+"hoverformat"]),El.valueLabel=yl(Xl,El[Yl+"LabelVal"],Bl[Yl+"hoverformat"]),El.baseLabel=yl(Xl,Wl.b,Bl[Yl+"hoverformat"]),El.spikeDistance=(Iu(Wl)+bp(Wl))/2,El[hu+"Spike"]=Bu.c2p(Wl.p,!0),xl(Wl,Bl,El),El.hovertemplate=Bl.hovertemplate,El}}function Pl(El,Fl){var $l=Fl.mcc||El.marker.color,Nl=Fl.mlcc||El.marker.line.color,Ll=Bn(El,Fl);if(Fn.opacity($l))return $l;if(Fn.opacity(Nl)&&Ll)return Nl}yu.exports={hoverPoints:Al,hoverOnBars:Et,getTraceColor:Pl}}),Q5=a((Mu,yu)=>{yu.exports=function(ls,_t,Fn){return ls.x="xVal"in _t?_t.xVal:_t.x,ls.y="yVal"in _t?_t.yVal:_t.y,_t.xa&&(ls.xaxis=_t.xa),_t.ya&&(ls.yaxis=_t.ya),Fn.orientation==="h"?(ls.label=ls.y,ls.value=ls.x):(ls.label=ls.x,ls.value=ls.y),ls}}),J5=a((Mu,yu)=>{yu.exports=function(_t,Fn){var xl=_t.cd,Bn=_t.xaxis,yl=_t.yaxis,Sl=xl[0].trace,Al=Sl.type==="funnel",Et=Sl.orientation==="h",Pl=[],El;if(Fn===!1)for(El=0;El<xl.length;El++)xl[El].selected=0;else for(El=0;El<xl.length;El++){var Fl=xl[El],$l="ct"in Fl?Fl.ct:ls(Fl,Bn,yl,Et,Al);Fn.contains($l,!1,El,_t)?(Pl.push({pointNumber:El,x:Bn.c2d(Fl.x),y:yl.c2d(Fl.y)}),Fl.selected=1):Fl.selected=0}return Pl};function ls(_t,Fn,xl,Bn,yl){var Sl=Fn.c2p(Bn?_t.s0:_t.p0,!0),Al=Fn.c2p(Bn?_t.s1:_t.p1,!0),Et=xl.c2p(Bn?_t.p0:_t.s0,!0),Pl=xl.c2p(Bn?_t.p1:_t.s1,!0);return yl?[(Sl+Al)/2,(Et+Pl)/2]:Bn?[Al,(Et+Pl)/2]:[(Sl+Al)/2,Pl]}}),e4=a((Mu,yu)=>{yu.exports={attributes:E1(),layoutAttributes:H1(),supplyDefaults:Ay().supplyDefaults,crossTraceDefaults:Ay().crossTraceDefaults,supplyLayoutDefaults:Jx(),calc:e3(),crossTraceCalc:Lx().crossTraceCalc,colorbar:N3(),arraysToCalcdata:P2(),plot:Z5().plot,style:hC().style,styleOnSelect:hC().styleOnSelect,hoverPoints:X5().hoverPoints,eventData:Q5(),selectPoints:J5(),moduleType:"trace",name:"bar",basePlotModule:H3(),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}}),t4=a((Mu,yu)=>{yu.exports=e4()}),NC=a((Mu,yu)=>{var ls=mu(),_t=x0().attributes,Fn=Ml(),xl=Ju(),Bn=gm().hovertemplateAttrs,yl=gm().texttemplateAttrs,Sl=In().extendFlat,Al=Cm().pattern,Et=Fn({editType:"plot",arrayOk:!0,colorEditType:"plot"});yu.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:xl.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:Al,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:Sl({},ls.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:Bn({},{keys:["label","color","value","percent","text"]}),texttemplate:yl({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:Sl({},Et,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:Sl({},Et,{}),outsidetextfont:Sl({},Et,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:Sl({},Et,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:_t({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}}),r4=a((Mu,yu)=>{var ls=rt(),_t=vm(),Fn=NC(),xl=x0().defaults,Bn=Ay().handleText,yl=vm().coercePattern;function Sl(Pl,El){var Fl=_t.isArrayOrTypedArray(Pl),$l=_t.isArrayOrTypedArray(El),Nl=Math.min(Fl?Pl.length:1/0,$l?El.length:1/0);if(isFinite(Nl)||(Nl=0),Nl&&$l){for(var Ll,Ol=0;Ol<Nl;Ol++){var Bl=El[Ol];if(ls(Bl)&&Bl>0){Ll=!0;break}}Ll||(Nl=0)}return{hasLabels:Fl,hasValues:$l,len:Nl}}function Al(Pl,El,Fl,$l,Nl){var Ll=$l("marker.line.width");Ll&&$l("marker.line.color",Nl?void 0:Fl.paper_bgcolor);var Ol=$l("marker.colors");yl($l,"marker.pattern",Ol),Pl.marker&&!El.marker.pattern.fgcolor&&(El.marker.pattern.fgcolor=Pl.marker.colors),El.marker.pattern.bgcolor||(El.marker.pattern.bgcolor=Fl.paper_bgcolor)}function Et(Pl,El,Fl,$l){function Nl(bu,Lu){return _t.coerce(Pl,El,Fn,bu,Lu)}var Ll=Nl("labels"),Ol=Nl("values"),Bl=Sl(Ll,Ol),_l=Bl.len;if(El._hasLabels=Bl.hasLabels,El._hasValues=Bl.hasValues,!El._hasLabels&&El._hasValues&&(Nl("label0"),Nl("dlabel")),!_l){El.visible=!1;return}El._length=_l,Al(Pl,El,$l,Nl,!0),Nl("scalegroup");var Rl=Nl("text"),Il=Nl("texttemplate"),Hl;if(Il||(Hl=Nl("textinfo",_t.isArrayOrTypedArray(Rl)?"text+percent":"percent")),Nl("hovertext"),Nl("hovertemplate"),Il||Hl&&Hl!=="none"){var Kl=Nl("textposition");Bn(Pl,El,$l,Nl,Kl,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1});var Gu=Array.isArray(Kl)||Kl==="auto",vu=Gu||Kl==="outside";vu&&Nl("automargin"),(Kl==="inside"||Kl==="auto"||Array.isArray(Kl))&&Nl("insidetextorientation")}else Hl==="none"&&Nl("textposition","none");xl(El,$l,Nl);var hu=Nl("hole"),Yl=Nl("title.text");if(Yl){var $u=Nl("title.position",hu?"middle center":"top center");!hu&&$u==="middle center"&&(El.title.position="top center"),_t.coerceFont(Nl,"title.font",$l.font)}Nl("sort"),Nl("direction"),Nl("rotation"),Nl("pull")}yu.exports={handleLabelsAndValues:Sl,handleMarkerDefaults:Al,supplyDefaults:Et}}),BC=a((Mu,yu)=>{yu.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}}),n4=a((Mu,yu)=>{var ls=vm(),_t=BC();yu.exports=function(Fn,xl){function Bn(yl,Sl){return ls.coerce(Fn,xl,_t,yl,Sl)}Bn("hiddenlabels"),Bn("piecolorway",xl.colorway),Bn("extendpiecolors")}}),GC=a((Mu,yu)=>{var ls=rt(),_t=zl(),Fn=cp(),xl={};function Bn(Et,Pl){var El=[],Fl=Et._fullLayout,$l=Fl.hiddenlabels||[],Nl=Pl.labels,Ll=Pl.marker.colors||[],Ol=Pl.values,Bl=Pl._length,_l=Pl._hasValues&&Bl,Rl,Il;if(Pl.dlabel)for(Nl=new Array(Bl),Rl=0;Rl<Bl;Rl++)Nl[Rl]=String(Pl.label0+Rl*Pl.dlabel);var Hl={},Kl=yl(Fl["_"+Pl.type+"colormap"]),Gu=0,vu=!1;for(Rl=0;Rl<Bl;Rl++){var hu,Yl,$u;if(_l){if(hu=Ol[Rl],!ls(hu))continue;hu=+hu}else hu=1;Yl=Nl[Rl],(Yl===void 0||Yl==="")&&(Yl=Rl),Yl=String(Yl);var bu=Hl[Yl];bu===void 0?(Hl[Yl]=El.length,$u=$l.indexOf(Yl)!==-1,$u||(Gu+=hu),El.push({v:hu,label:Yl,color:Kl(Ll[Rl],Yl),i:Rl,pts:[Rl],hidden:$u})):(vu=!0,Il=El[bu],Il.v+=hu,Il.pts.push(Rl),Il.hidden||(Gu+=hu),Il.color===!1&&Ll[Rl]&&(Il.color=Kl(Ll[Rl],Yl)))}El=El.filter(function(Fu){return Fu.v>=0});var Lu=Pl.type==="funnelarea"?vu:Pl.sort;return Lu&&El.sort(function(Fu,Du){return Du.v-Fu.v}),El[0]&&(El[0].vTotal=Gu),El}function yl(Et){return function(Pl,El){return!Pl||(Pl=_t(Pl),!Pl.isValid())?!1:(Pl=Fn.addOpacity(Pl,Pl.getAlpha()),Et[El]||(Et[El]=Pl),Pl)}}function Sl(Et,Pl){var El=(Pl||{}).type;El||(El="pie");var Fl=Et._fullLayout,$l=Et.calcdata,Nl=Fl[El+"colorway"],Ll=Fl["_"+El+"colormap"];Fl["extend"+El+"colors"]&&(Nl=Al(Nl,xl));for(var Ol=0,Bl=0;Bl<$l.length;Bl++){var _l=$l[Bl],Rl=_l[0].trace.type;if(Rl===El)for(var Il=0;Il<_l.length;Il++){var Hl=_l[Il];Hl.color===!1&&(Ll[Hl.label]?Hl.color=Ll[Hl.label]:(Ll[Hl.label]=Hl.color=Nl[Ol%Nl.length],Ol++))}}}function Al(Et,Pl){var El,Fl=JSON.stringify(Et),$l=Pl[Fl];if(!$l){for($l=Et.slice(),El=0;El<Et.length;El++)$l.push(_t(Et[El]).lighten(20).toHexString());for(El=0;El<Et.length;El++)$l.push(_t(Et[El]).darken(20).toHexString());Pl[Fl]=$l}return $l}yu.exports={calc:Bn,crossTraceCalc:Sl,makePullColorFn:yl,generateExtendedColors:Al}}),i4=a((Mu,yu)=>{var ls=Ny().appendArrayMultiPointValues;yu.exports=function(_t,Fn){var xl={curveNumber:Fn.index,pointNumbers:_t.pts,data:Fn._input,fullData:Fn,label:_t.label,color:_t.color,value:_t.v,percent:_t.percent,text:_t.text,bbox:_t.bbox,v:_t.v};return _t.pts.length===1&&(xl.pointNumber=xl.i=_t.pts[0]),ls(xl,Fn,_t.pts),Fn.type==="funnelarea"&&(delete xl.v,delete xl.i),xl}}),o4=a((Mu,yu)=>{var ls=g(),_t=Fv(),Fn=My(),xl=cp(),Bn=V1(),yl=vm(),Sl=yl.strScale,Al=yl.strTranslate,Et=Wv(),Pl=ew(),El=Pl.recordMinTextSize,Fl=Pl.clearMinTextSize,$l=fv().TEXTPAD,Nl=d3(),Ll=i4(),Ol=vm().isValidTextValue;function Bl(Bu,Xl){var Uu=Bu._context.staticPlot,ep=Bu._fullLayout,_u=ep._size;Fl("pie",ep),Kl(Xl,Bu),_h(Xl,_u);var Wl=yl.makeTraceGroups(ep._pielayer,Xl,"trace").each(function(Jl){var Pu=ls.select(this),Nu=Jl[0],tp=Nu.trace;bp(Jl),Pu.attr("stroke-linejoin","round"),Pu.each(function(){var up=ls.select(this).selectAll("g.slice").data(Jl);up.enter().append("g").classed("slice",!0),up.exit().remove();var dp=[[[],[]],[[],[]]],Ap=!1;up.each(function(sp,Ip){if(sp.hidden){ls.select(this).selectAll("path,g").remove();return}sp.pointNumber=sp.i,sp.curveNumber=tp.index,dp[sp.pxmid[1]<0?0:1][sp.pxmid[0]<0?0:1].push(sp);var Jp=Nu.cx,a0=Nu.cy,v0=ls.select(this),h0=v0.selectAll("path.surface").data([sp]);if(h0.enter().append("path").classed("surface",!0).style({"pointer-events":Uu?"none":"all"}),v0.call(Rl,Bu,Jl),tp.pull){var w0=+Nl.castOption(tp.pull,sp.pts)||0;w0>0&&(Jp+=w0*sp.pxmid[0],a0+=w0*sp.pxmid[1])}sp.cxFinal=Jp,sp.cyFinal=a0;function E0(nm,Ep,$p,Zu){var lp=Zu*(Ep[0]-nm[0]),mp=Zu*(Ep[1]-nm[1]);return"a"+Zu*Nu.r+","+Zu*Nu.r+" 0 "+sp.largeArc+($p?" 1 ":" 0 ")+lp+","+mp}var _0=tp.hole;if(sp.v===Nu.vTotal){var $0="M"+(Jp+sp.px0[0])+","+(a0+sp.px0[1])+E0(sp.px0,sp.pxmid,!0,1)+E0(sp.pxmid,sp.px0,!0,1)+"Z";_0?h0.attr("d","M"+(Jp+_0*sp.px0[0])+","+(a0+_0*sp.px0[1])+E0(sp.px0,sp.pxmid,!1,_0)+E0(sp.pxmid,sp.px0,!1,_0)+"Z"+$0):h0.attr("d",$0)}else{var f0=E0(sp.px0,sp.px1,!0,1);if(_0){var q0=1-_0;h0.attr("d","M"+(Jp+_0*sp.px1[0])+","+(a0+_0*sp.px1[1])+E0(sp.px1,sp.px0,!1,_0)+"l"+q0*sp.px0[0]+","+q0*sp.px0[1]+f0+"Z")}else h0.attr("d","M"+Jp+","+a0+"l"+sp.px0[0]+","+sp.px0[1]+f0+"Z")}kp(Bu,sp,Nu);var J0=Nl.castOption(tp.textposition,sp.pts),V0=v0.selectAll("g.slicetext").data(sp.text&&J0!=="none"?[0]:[]);V0.enter().append("g").classed("slicetext",!0),V0.exit().remove(),V0.each(function(){var nm=yl.ensureSingle(ls.select(this),"text","",function(Up){Up.attr("data-notex",1)}),Ep=yl.ensureUniformFontSize(Bu,J0==="outside"?Il(tp,sp,ep.font):Hl(tp,sp,ep.font));nm.text(sp.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(Bn.font,Ep).call(Et.convertToTspans,Bu);var $p=Bn.bBox(nm.node()),Zu;if(J0==="outside")Zu=Du($p,sp);else if(Zu=Gu($p,sp,Nu),J0==="auto"&&Zu.scale<1){var lp=yl.ensureUniformFontSize(Bu,tp.outsidetextfont);nm.call(Bn.font,lp),$p=Bn.bBox(nm.node()),Zu=Du($p,sp)}var mp=Zu.textPosAngle,Tp=mp===void 0?sp.pxmid:wp(Nu.r,mp);if(Zu.targetX=Jp+Tp[0]*Zu.rCenter+(Zu.x||0),Zu.targetY=a0+Tp[1]*Zu.rCenter+(Zu.y||0),Iu(Zu,$p),Zu.outside){var Lp=Zu.targetY;sp.yLabelMin=Lp-$p.height/2,sp.yLabelMid=Lp,sp.yLabelMax=Lp+$p.height/2,sp.labelExtraX=0,sp.labelExtraY=0,Ap=!0}Zu.fontSize=Ep.size,El(tp.type,Zu,ep),Jl[Ip].transform=Zu,yl.setTransormAndDisplay(nm,Zu)})});var Op=ls.select(this).selectAll("g.titletext").data(tp.title.text?[0]:[]);if(Op.enter().append("g").classed("titletext",!0),Op.exit().remove(),Op.each(function(){var sp=yl.ensureSingle(ls.select(this),"text","",function(a0){a0.attr("data-notex",1)}),Ip=tp.title.text;tp._meta&&(Ip=yl.templateString(Ip,tp._meta)),sp.text(Ip).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(Bn.font,tp.title.font).call(Et.convertToTspans,Bu);var Jp;tp.title.position==="middle center"?Jp=Hu(Nu):Jp=Vu(Nu,_u),sp.attr("transform",Al(Jp.x,Jp.y)+Sl(Math.min(1,Jp.scale))+Al(Jp.tx,Jp.ty))}),Ap&&np(dp,tp),_l(up,tp),Ap&&tp.automargin){var Zp=Bn.bBox(Pu.node()),u0=tp.domain,r0=_u.w*(u0.x[1]-u0.x[0]),e0=_u.h*(u0.y[1]-u0.y[0]),Cp=(.5*r0-Nu.r)/_u.w,Mp=(.5*e0-Nu.r)/_u.h;_t.autoMargin(Bu,"pie."+tp.uid+".automargin",{xl:u0.x[0]-Cp,xr:u0.x[1]+Cp,yb:u0.y[0]-Mp,yt:u0.y[1]+Mp,l:Math.max(Nu.cx-Nu.r-Zp.left,0),r:Math.max(Zp.right-(Nu.cx+Nu.r),0),b:Math.max(Zp.bottom-(Nu.cy+Nu.r),0),t:Math.max(Nu.cy-Nu.r-Zp.top,0),pad:5})}})});setTimeout(function(){Wl.selectAll("tspan").each(function(){var Jl=ls.select(this);Jl.attr("dy")&&Jl.attr("dy",Jl.attr("dy"))})},0)}function _l(Bu,Xl){Bu.each(function(Uu){var ep=ls.select(this);if(!Uu.labelExtraX&&!Uu.labelExtraY){ep.select("path.textline").remove();return}var _u=ep.select("g.slicetext text");Uu.transform.targetX+=Uu.labelExtraX,Uu.transform.targetY+=Uu.labelExtraY,yl.setTransormAndDisplay(_u,Uu.transform);var Wl=Uu.cxFinal+Uu.pxmid[0],Jl=Uu.cyFinal+Uu.pxmid[1],Pu="M"+Wl+","+Jl,Nu=(Uu.yLabelMax-Uu.yLabelMin)*(Uu.pxmid[0]<0?-1:1)/4;if(Uu.labelExtraX){var tp=Uu.labelExtraX*Uu.pxmid[1]/Uu.pxmid[0],up=Uu.yLabelMid+Uu.labelExtraY-(Uu.cyFinal+Uu.pxmid[1]);Math.abs(tp)>Math.abs(up)?Pu+="l"+up*Uu.pxmid[0]/Uu.pxmid[1]+","+up+"H"+(Wl+Uu.labelExtraX+Nu):Pu+="l"+Uu.labelExtraX+","+tp+"v"+(up-tp)+"h"+Nu}else Pu+="V"+(Uu.yLabelMid+Uu.labelExtraY)+"h"+Nu;yl.ensureSingle(ep,"path","textline").call(xl.stroke,Xl.outsidetextfont.color).attr({"stroke-width":Math.min(2,Xl.outsidetextfont.size/8),d:Pu,fill:"none"})})}function Rl(Bu,Xl,Uu){var ep=Uu[0],_u=ep.cx,Wl=ep.cy,Jl=ep.trace,Pu=Jl.type==="funnelarea";"_hasHoverLabel"in Jl||(Jl._hasHoverLabel=!1),"_hasHoverEvent"in Jl||(Jl._hasHoverEvent=!1),Bu.on("mouseover",function(Nu){var tp=Xl._fullLayout,up=Xl._fullData[Jl.index];if(!(Xl._dragging||tp.hovermode===!1)){var dp=up.hoverinfo;if(Array.isArray(dp)&&(dp=Fn.castHoverinfo({hoverinfo:[Nl.castOption(dp,Nu.pts)],_module:Jl._module},tp,0)),dp==="all"&&(dp="label+text+value+percent+name"),up.hovertemplate||dp!=="none"&&dp!=="skip"&&dp){var Ap=Nu.rInscribed||0,Op=_u+Nu.pxmid[0]*(1-Ap),Zp=Wl+Nu.pxmid[1]*(1-Ap),u0=tp.separators,r0=[];if(dp&&dp.indexOf("label")!==-1&&r0.push(Nu.label),Nu.text=Nl.castOption(up.hovertext||up.text,Nu.pts),dp&&dp.indexOf("text")!==-1){var e0=Nu.text;yl.isValidTextValue(e0)&&r0.push(e0)}Nu.value=Nu.v,Nu.valueLabel=Nl.formatPieValue(Nu.v,u0),dp&&dp.indexOf("value")!==-1&&r0.push(Nu.valueLabel),Nu.percent=Nu.v/ep.vTotal,Nu.percentLabel=Nl.formatPiePercent(Nu.percent,u0),dp&&dp.indexOf("percent")!==-1&&r0.push(Nu.percentLabel);var Cp=up.hoverlabel,Mp=Cp.font,sp=[];Fn.loneHover({trace:Jl,x0:Op-Ap*ep.r,x1:Op+Ap*ep.r,y:Zp,_x0:Pu?_u+Nu.TL[0]:Op-Ap*ep.r,_x1:Pu?_u+Nu.TR[0]:Op+Ap*ep.r,_y0:Pu?Wl+Nu.TL[1]:Zp-Ap*ep.r,_y1:Pu?Wl+Nu.BL[1]:Zp+Ap*ep.r,text:r0.join("<br>"),name:up.hovertemplate||dp.indexOf("name")!==-1?up.name:void 0,idealAlign:Nu.pxmid[0]<0?"left":"right",color:Nl.castOption(Cp.bgcolor,Nu.pts)||Nu.color,borderColor:Nl.castOption(Cp.bordercolor,Nu.pts),fontFamily:Nl.castOption(Mp.family,Nu.pts),fontSize:Nl.castOption(Mp.size,Nu.pts),fontColor:Nl.castOption(Mp.color,Nu.pts),nameLength:Nl.castOption(Cp.namelength,Nu.pts),textAlign:Nl.castOption(Cp.align,Nu.pts),hovertemplate:Nl.castOption(up.hovertemplate,Nu.pts),hovertemplateLabels:Nu,eventData:[Ll(Nu,up)]},{container:tp._hoverlayer.node(),outerContainer:tp._paper.node(),gd:Xl,inOut_bbox:sp}),Nu.bbox=sp[0],Jl._hasHoverLabel=!0}Jl._hasHoverEvent=!0,Xl.emit("plotly_hover",{points:[Ll(Nu,up)],event:ls.event})}}),Bu.on("mouseout",function(Nu){var tp=Xl._fullLayout,up=Xl._fullData[Jl.index],dp=ls.select(this).datum();Jl._hasHoverEvent&&(Nu.originalEvent=ls.event,Xl.emit("plotly_unhover",{points:[Ll(dp,up)],event:ls.event}),Jl._hasHoverEvent=!1),Jl._hasHoverLabel&&(Fn.loneUnhover(tp._hoverlayer.node()),Jl._hasHoverLabel=!1)}),Bu.on("click",function(Nu){var tp=Xl._fullLayout,up=Xl._fullData[Jl.index];Xl._dragging||tp.hovermode===!1||(Xl._hoverdata=[Ll(Nu,up)],Fn.click(Xl,ls.event))})}function Il(Bu,Xl,Uu){var ep=Nl.castOption(Bu.outsidetextfont.color,Xl.pts)||Nl.castOption(Bu.textfont.color,Xl.pts)||Uu.color,_u=Nl.castOption(Bu.outsidetextfont.family,Xl.pts)||Nl.castOption(Bu.textfont.family,Xl.pts)||Uu.family,Wl=Nl.castOption(Bu.outsidetextfont.size,Xl.pts)||Nl.castOption(Bu.textfont.size,Xl.pts)||Uu.size,Jl=Nl.castOption(Bu.outsidetextfont.weight,Xl.pts)||Nl.castOption(Bu.textfont.weight,Xl.pts)||Uu.weight,Pu=Nl.castOption(Bu.outsidetextfont.style,Xl.pts)||Nl.castOption(Bu.textfont.style,Xl.pts)||Uu.style,Nu=Nl.castOption(Bu.outsidetextfont.variant,Xl.pts)||Nl.castOption(Bu.textfont.variant,Xl.pts)||Uu.variant,tp=Nl.castOption(Bu.outsidetextfont.textcase,Xl.pts)||Nl.castOption(Bu.textfont.textcase,Xl.pts)||Uu.textcase,up=Nl.castOption(Bu.outsidetextfont.lineposition,Xl.pts)||Nl.castOption(Bu.textfont.lineposition,Xl.pts)||Uu.lineposition,dp=Nl.castOption(Bu.outsidetextfont.shadow,Xl.pts)||Nl.castOption(Bu.textfont.shadow,Xl.pts)||Uu.shadow;return{color:ep,family:_u,size:Wl,weight:Jl,style:Pu,variant:Nu,textcase:tp,lineposition:up,shadow:dp}}function Hl(Bu,Xl,Uu){var ep=Nl.castOption(Bu.insidetextfont.color,Xl.pts);!ep&&Bu._input.textfont&&(ep=Nl.castOption(Bu._input.textfont.color,Xl.pts));var _u=Nl.castOption(Bu.insidetextfont.family,Xl.pts)||Nl.castOption(Bu.textfont.family,Xl.pts)||Uu.family,Wl=Nl.castOption(Bu.insidetextfont.size,Xl.pts)||Nl.castOption(Bu.textfont.size,Xl.pts)||Uu.size,Jl=Nl.castOption(Bu.insidetextfont.weight,Xl.pts)||Nl.castOption(Bu.textfont.weight,Xl.pts)||Uu.weight,Pu=Nl.castOption(Bu.insidetextfont.style,Xl.pts)||Nl.castOption(Bu.textfont.style,Xl.pts)||Uu.style,Nu=Nl.castOption(Bu.insidetextfont.variant,Xl.pts)||Nl.castOption(Bu.textfont.variant,Xl.pts)||Uu.variant,tp=Nl.castOption(Bu.insidetextfont.textcase,Xl.pts)||Nl.castOption(Bu.textfont.textcase,Xl.pts)||Uu.textcase,up=Nl.castOption(Bu.insidetextfont.lineposition,Xl.pts)||Nl.castOption(Bu.textfont.lineposition,Xl.pts)||Uu.lineposition,dp=Nl.castOption(Bu.insidetextfont.shadow,Xl.pts)||Nl.castOption(Bu.textfont.shadow,Xl.pts)||Uu.shadow;return{color:ep||xl.contrast(Xl.color),family:_u,size:Wl,weight:Jl,style:Pu,variant:Nu,textcase:tp,lineposition:up,shadow:dp}}function Kl(Bu,Xl){for(var Uu,ep,_u=0;_u<Bu.length;_u++)if(Uu=Bu[_u][0],ep=Uu.trace,ep.title.text){var Wl=ep.title.text;ep._meta&&(Wl=yl.templateString(Wl,ep._meta));var Jl=Bn.tester.append("text").attr("data-notex",1).text(Wl).call(Bn.font,ep.title.font).call(Et.convertToTspans,Xl),Pu=Bn.bBox(Jl.node(),!0);Uu.titleBox={width:Pu.width,height:Pu.height},Jl.remove()}}function Gu(Bu,Xl,Uu){var ep=Uu.r||Xl.rpx1,_u=Xl.rInscribed,Wl=Xl.startangle===Xl.stopangle;if(Wl)return{rCenter:1-_u,scale:0,rotate:0,textPosAngle:0};var Jl=Xl.ring,Pu=Jl===1&&Math.abs(Xl.startangle-Xl.stopangle)===Math.PI*2,Nu=Xl.halfangle,tp=Xl.midangle,up=Uu.trace.insidetextorientation,dp=up==="horizontal",Ap=up==="tangential",Op=up==="radial",Zp=up==="auto",u0=[],r0;if(!Zp){var e0=function(v0,h0){if(vu(Xl,v0)){var w0=Math.abs(v0-Xl.startangle),E0=Math.abs(v0-Xl.stopangle),_0=w0<E0?w0:E0;h0==="tan"?r0=Yl(Bu,ep,Jl,_0,0):r0=hu(Bu,ep,Jl,_0,Math.PI/2),r0.textPosAngle=v0,u0.push(r0)}},Cp;if(dp||Ap){for(Cp=4;Cp>=-4;Cp-=2)e0(Math.PI*Cp,"tan");for(Cp=4;Cp>=-4;Cp-=2)e0(Math.PI*(Cp+1),"tan")}if(dp||Op){for(Cp=4;Cp>=-4;Cp-=2)e0(Math.PI*(Cp+1.5),"rad");for(Cp=4;Cp>=-4;Cp-=2)e0(Math.PI*(Cp+.5),"rad")}}if(Pu||Zp||dp){var Mp=Math.sqrt(Bu.width*Bu.width+Bu.height*Bu.height);if(r0={scale:_u*ep*2/Mp,rCenter:1-_u,rotate:0},r0.textPosAngle=(Xl.startangle+Xl.stopangle)/2,r0.scale>=1)return r0;u0.push(r0)}(Zp||Op)&&(r0=hu(Bu,ep,Jl,Nu,tp),r0.textPosAngle=(Xl.startangle+Xl.stopangle)/2,u0.push(r0)),(Zp||Ap)&&(r0=Yl(Bu,ep,Jl,Nu,tp),r0.textPosAngle=(Xl.startangle+Xl.stopangle)/2,u0.push(r0));for(var sp=0,Ip=0,Jp=0;Jp<u0.length;Jp++){var a0=u0[Jp].scale;if(Ip<a0&&(Ip=a0,sp=Jp),!Zp&&Ip>=1)break}return u0[sp]}function vu(Bu,Xl){var Uu=Bu.startangle,ep=Bu.stopangle;return Uu>Xl&&Xl>ep||Uu<Xl&&Xl<ep}function hu(Bu,Xl,Uu,ep,_u){Xl=Math.max(0,Xl-2*$l);var Wl=Bu.width/Bu.height,Jl=Lu(Wl,ep,Xl,Uu);return{scale:Jl*2/Bu.height,rCenter:$u(Wl,Jl/Xl),rotate:bu(_u)}}function Yl(Bu,Xl,Uu,ep,_u){Xl=Math.max(0,Xl-2*$l);var Wl=Bu.height/Bu.width,Jl=Lu(Wl,ep,Xl,Uu);return{scale:Jl*2/Bu.width,rCenter:$u(Wl,Jl/Xl),rotate:bu(_u+Math.PI/2)}}function $u(Bu,Xl){return Math.cos(Xl)-Bu*Xl}function bu(Bu){return(180/Math.PI*Bu+720)%180-90}function Lu(Bu,Xl,Uu,ep){var _u=Bu+1/(2*Math.tan(Xl));return Uu*Math.min(1/(Math.sqrt(_u*_u+.5)+_u),ep/(Math.sqrt(Bu*Bu+ep/2)+Bu))}function Fu(Bu,Xl){return Bu.v===Xl.vTotal&&!Xl.trace.hole?1:Math.min(1/(1+1/Math.sin(Bu.halfangle)),Bu.ring/2)}function Du(Bu,Xl){var Uu=Xl.pxmid[0],ep=Xl.pxmid[1],_u=Bu.width/2,Wl=Bu.height/2;return Uu<0&&(_u*=-1),ep<0&&(Wl*=-1),{scale:1,rCenter:1,rotate:0,x:_u+Math.abs(Wl)*(_u>0?1:-1)/2,y:Wl/(1+Uu*Uu/(ep*ep)),outside:!0}}function Hu(Bu){var Xl=Math.sqrt(Bu.titleBox.width*Bu.titleBox.width+Bu.titleBox.height*Bu.titleBox.height);return{x:Bu.cx,y:Bu.cy,scale:Bu.trace.hole*Bu.r*2/Xl,tx:0,ty:-Bu.titleBox.height/2+Bu.trace.title.font.size}}function Vu(Bu,Xl){var Uu=1,ep=1,_u,Wl=Bu.trace,Jl={x:Bu.cx,y:Bu.cy},Pu={tx:0,ty:0};Pu.ty+=Wl.title.font.size,_u=qu(Wl),Wl.title.position.indexOf("top")!==-1?(Jl.y-=(1+_u)*Bu.r,Pu.ty-=Bu.titleBox.height):Wl.title.position.indexOf("bottom")!==-1&&(Jl.y+=(1+_u)*Bu.r);var Nu=gu(Bu.r,Bu.trace.aspectratio),tp=Xl.w*(Wl.domain.x[1]-Wl.domain.x[0])/2;return Wl.title.position.indexOf("left")!==-1?(tp=tp+Nu,Jl.x-=(1+_u)*Nu,Pu.tx+=Bu.titleBox.width/2):Wl.title.position.indexOf("center")!==-1?tp*=2:Wl.title.position.indexOf("right")!==-1&&(tp=tp+Nu,Jl.x+=(1+_u)*Nu,Pu.tx-=Bu.titleBox.width/2),Uu=tp/Bu.titleBox.width,ep=Wu(Bu,Xl)/Bu.titleBox.height,{x:Jl.x,y:Jl.y,scale:Math.min(Uu,ep),tx:Pu.tx,ty:Pu.ty}}function gu(Bu,Xl){return Bu/(Xl===void 0?1:Xl)}function Wu(Bu,Xl){var Uu=Bu.trace,ep=Xl.h*(Uu.domain.y[1]-Uu.domain.y[0]);return Math.min(Bu.titleBox.height,ep/2)}function qu(Bu){var Xl=Bu.pull;if(!Xl)return 0;var Uu;if(yl.isArrayOrTypedArray(Xl))for(Xl=0,Uu=0;Uu<Bu.pull.length;Uu++)Bu.pull[Uu]>Xl&&(Xl=Bu.pull[Uu]);return Xl}function np(Bu,Xl){var Uu,ep,_u,Wl,Jl,Pu,Nu,tp,up,dp,Ap,Op,Zp;function u0(Mp,sp){return Mp.pxmid[1]-sp.pxmid[1]}function r0(Mp,sp){return sp.pxmid[1]-Mp.pxmid[1]}function e0(Mp,sp){sp||(sp={});var Ip=sp.labelExtraY+(ep?sp.yLabelMax:sp.yLabelMin),Jp=ep?Mp.yLabelMin:Mp.yLabelMax,a0=ep?Mp.yLabelMax:Mp.yLabelMin,v0=Mp.cyFinal+Jl(Mp.px0[1],Mp.px1[1]),h0=Ip-Jp,w0,E0,_0,$0,f0,q0;if(h0*Nu>0&&(Mp.labelExtraY=h0),!!yl.isArrayOrTypedArray(Xl.pull))for(E0=0;E0<dp.length;E0++)_0=dp[E0],!(_0===Mp||(Nl.castOption(Xl.pull,Mp.pts)||0)>=(Nl.castOption(Xl.pull,_0.pts)||0))&&((Mp.pxmid[1]-_0.pxmid[1])*Nu>0?($0=_0.cyFinal+Jl(_0.px0[1],_0.px1[1]),h0=$0-Jp-Mp.labelExtraY,h0*Nu>0&&(Mp.labelExtraY+=h0)):(a0+Mp.labelExtraY-v0)*Nu>0&&(w0=3*Pu*Math.abs(E0-dp.indexOf(Mp)),f0=_0.cxFinal+Wl(_0.px0[0],_0.px1[0]),q0=f0+w0-(Mp.cxFinal+Mp.pxmid[0])-Mp.labelExtraX,q0*Pu>0&&(Mp.labelExtraX+=q0)))}for(ep=0;ep<2;ep++)for(_u=ep?u0:r0,Jl=ep?Math.max:Math.min,Nu=ep?1:-1,Uu=0;Uu<2;Uu++){for(Wl=Uu?Math.max:Math.min,Pu=Uu?1:-1,tp=Bu[ep][Uu],tp.sort(_u),up=Bu[1-ep][Uu],dp=up.concat(tp),Op=[],Ap=0;Ap<tp.length;Ap++)tp[Ap].yLabelMid!==void 0&&Op.push(tp[Ap]);for(Zp=!1,Ap=0;ep&&Ap<up.length;Ap++)if(up[Ap].yLabelMid!==void 0){Zp=up[Ap];break}for(Ap=0;Ap<Op.length;Ap++){var Cp=Ap&&Op[Ap-1];Zp&&!Ap&&(Cp=Zp),e0(Op[Ap],Cp)}}}function _h(Bu,Xl){for(var Uu=[],ep=0;ep<Bu.length;ep++){var _u=Bu[ep][0],Wl=_u.trace,Jl=Wl.domain,Pu=Xl.w*(Jl.x[1]-Jl.x[0]),Nu=Xl.h*(Jl.y[1]-Jl.y[0]);Wl.title.text&&Wl.title.position!=="middle center"&&(Nu-=Wu(_u,Xl));var tp=Pu/2,up=Nu/2;Wl.type==="funnelarea"&&!Wl.scalegroup&&(up/=Wl.aspectratio),_u.r=Math.min(tp,up)/(1+qu(Wl)),_u.cx=Xl.l+Xl.w*(Wl.domain.x[1]+Wl.domain.x[0])/2,_u.cy=Xl.t+Xl.h*(1-Wl.domain.y[0])-Nu/2,Wl.title.text&&Wl.title.position.indexOf("bottom")!==-1&&(_u.cy-=Wu(_u,Xl)),Wl.scalegroup&&Uu.indexOf(Wl.scalegroup)===-1&&Uu.push(Wl.scalegroup)}ap(Bu,Uu)}function ap(Bu,Xl){for(var Uu,ep,_u,Wl=0;Wl<Xl.length;Wl++){var Jl=1/0,Pu=Xl[Wl];for(ep=0;ep<Bu.length;ep++)if(Uu=Bu[ep][0],_u=Uu.trace,_u.scalegroup===Pu){var Nu;if(_u.type==="pie")Nu=Uu.r*Uu.r;else if(_u.type==="funnelarea"){var tp,up;_u.aspectratio>1?(tp=Uu.r,up=tp/_u.aspectratio):(up=Uu.r,tp=up*_u.aspectratio),tp*=(1+_u.baseratio)/2,Nu=tp*up}Jl=Math.min(Jl,Nu/Uu.vTotal)}for(ep=0;ep<Bu.length;ep++)if(Uu=Bu[ep][0],_u=Uu.trace,_u.scalegroup===Pu){var dp=Jl*Uu.vTotal;_u.type==="funnelarea"&&(dp/=(1+_u.baseratio)/2,dp/=_u.aspectratio),Uu.r=Math.sqrt(dp)}}}function bp(Bu){var Xl=Bu[0],Uu=Xl.r,ep=Xl.trace,_u=Nl.getRotationAngle(ep.rotation),Wl=2*Math.PI/Xl.vTotal,Jl="px0",Pu="px1",Nu,tp,up;if(ep.direction==="counterclockwise"){for(Nu=0;Nu<Bu.length&&Bu[Nu].hidden;Nu++);if(Nu===Bu.length)return;_u+=Wl*Bu[Nu].v,Wl*=-1,Jl="px1",Pu="px0"}for(up=wp(Uu,_u),Nu=0;Nu<Bu.length;Nu++)tp=Bu[Nu],!tp.hidden&&(tp[Jl]=up,tp.startangle=_u,_u+=Wl*tp.v/2,tp.pxmid=wp(Uu,_u),tp.midangle=_u,_u+=Wl*tp.v/2,up=wp(Uu,_u),tp.stopangle=_u,tp[Pu]=up,tp.largeArc=tp.v>Xl.vTotal/2?1:0,tp.halfangle=Math.PI*Math.min(tp.v/Xl.vTotal,.5),tp.ring=1-ep.hole,tp.rInscribed=Fu(tp,Xl))}function wp(Bu,Xl){return[Bu*Math.sin(Xl),-Bu*Math.cos(Xl)]}function kp(Bu,Xl,Uu){var ep=Bu._fullLayout,_u=Uu.trace,Wl=_u.texttemplate,Jl=_u.textinfo;if(!Wl&&Jl&&Jl!=="none"){var Pu=Jl.split("+"),Nu=function(sp){return Pu.indexOf(sp)!==-1},tp=Nu("label"),up=Nu("text"),dp=Nu("value"),Ap=Nu("percent"),Op=ep.separators,Zp;if(Zp=tp?[Xl.label]:[],up){var u0=Nl.getFirstFilled(_u.text,Xl.pts);Ol(u0)&&Zp.push(u0)}dp&&Zp.push(Nl.formatPieValue(Xl.v,Op)),Ap&&Zp.push(Nl.formatPiePercent(Xl.v/Uu.vTotal,Op)),Xl.text=Zp.join("<br>")}function r0(sp){return{label:sp.label,value:sp.v,valueLabel:Nl.formatPieValue(sp.v,ep.separators),percent:sp.v/Uu.vTotal,percentLabel:Nl.formatPiePercent(sp.v/Uu.vTotal,ep.separators),color:sp.color,text:sp.text,customdata:yl.castOption(_u,sp.i,"customdata")}}if(Wl){var e0=yl.castOption(_u,Xl.i,"texttemplate");if(!e0)Xl.text="";else{var Cp=r0(Xl),Mp=Nl.getFirstFilled(_u.text,Xl.pts);(Ol(Mp)||Mp==="")&&(Cp.text=Mp),Xl.text=yl.texttemplateString(e0,Cp,Bu._fullLayout._d3locale,Cp,_u._meta||{})}}}function Iu(Bu,Xl){var Uu=Bu.rotate*Math.PI/180,ep=Math.cos(Uu),_u=Math.sin(Uu),Wl=(Xl.left+Xl.right)/2,Jl=(Xl.top+Xl.bottom)/2;Bu.textX=Wl*ep-Jl*_u,Bu.textY=Wl*_u+Jl*ep,Bu.noCenter=!0}yu.exports={plot:Bl,formatSliceLabel:kp,transformInsideText:Gu,determineInsideTextFont:Hl,positionTitleOutside:Vu,prerenderTitles:Kl,layoutAreas:_h,attachFxHandlers:Rl,computeTransform:Iu}}),a4=a((Mu,yu)=>{var ls=g(),_t=h3(),Fn=ew().resizeText;yu.exports=function(xl){var Bn=xl._fullLayout._pielayer.selectAll(".trace");Fn(xl,Bn,"pie"),Bn.each(function(yl){var Sl=yl[0],Al=Sl.trace,Et=ls.select(this);Et.style({opacity:Al.opacity}),Et.selectAll("path.surface").each(function(Pl){ls.select(this).call(_t,Pl,Al,xl)})})}}),s4=a(Mu=>{var yu=Fv();Mu.name="pie",Mu.plot=function(ls,_t,Fn,xl){yu.plotBasePlot(Mu.name,ls,_t,Fn,xl)},Mu.clean=function(ls,_t,Fn,xl){yu.cleanBasePlot(Mu.name,ls,_t,Fn,xl)}}),l4=a((Mu,yu)=>{yu.exports={attributes:NC(),supplyDefaults:r4().supplyDefaults,supplyLayoutDefaults:n4(),layoutAttributes:BC(),calc:GC().calc,crossTraceCalc:GC().crossTraceCalc,plot:o4().plot,style:a4(),styleOne:h3(),moduleType:"trace",name:"pie",basePlotModule:s4(),categories:["pie-like","pie","showLegend"],meta:{}}}),c4=a((Mu,yu)=>{yu.exports=l4()}),uy=a((Mu,yu)=>{var ls=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,Fn=Object.prototype.propertyIsEnumerable;function xl(yl){if(yl==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(yl)}function Bn(){try{if(!Object.assign)return!1;var yl=new String("abc");if(yl[5]="de",Object.getOwnPropertyNames(yl)[0]==="5")return!1;for(var Sl={},Al=0;Al<10;Al++)Sl["_"+String.fromCharCode(Al)]=Al;var Et=Object.getOwnPropertyNames(Sl).map(function(El){return Sl[El]});if(Et.join("")!=="0123456789")return!1;var Pl={};return"abcdefghijklmnopqrst".split("").forEach(function(El){Pl[El]=El}),Object.keys(Object.assign({},Pl)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}yu.exports=Bn()?Object.assign:function(yl,Sl){for(var Al,Et=xl(yl),Pl,El=1;El<arguments.length;El++){Al=Object(arguments[El]);for(var Fl in Al)_t.call(Al,Fl)&&(Et[Fl]=Al[Fl]);if(ls){Pl=ls(Al);for(var $l=0;$l<Pl.length;$l++)Fn.call(Al,Pl[$l])&&(Et[Pl[$l]]=Al[Pl[$l]])}}return Et}}),dy=a((Mu,yu)=>{var ls=uy();function _t(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}ls(_t.prototype,{instance:function(Al,Et){Al=(Al||"gregorian").toLowerCase(),Et=Et||"";var Pl=this._localCals[Al+"-"+Et];if(!Pl&&this.calendars[Al]&&(Pl=new this.calendars[Al](Et),this._localCals[Al+"-"+Et]=Pl),!Pl)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,Al);return Pl},newDate:function(Al,Et,Pl,El,Fl){return El=(Al!=null&&Al.year?Al.calendar():typeof El=="string"?this.instance(El,Fl):El)||this.instance(),El.newDate(Al,Et,Pl)},substituteDigits:function(Al){return function(Et){return(Et+"").replace(/[0-9]/g,function(Pl){return Al[Pl]})}},substituteChineseDigits:function(Al,Et){return function(Pl){for(var El="",Fl=0;Pl>0;){var $l=Pl%10;El=($l===0?"":Al[$l]+Et[Fl])+El,Fl++,Pl=Math.floor(Pl/10)}return El.indexOf(Al[1]+Et[1])===0&&(El=El.substr(1)),El||Al[0]}}});function Fn(Al,Et,Pl,El){if(this._calendar=Al,this._year=Et,this._month=Pl,this._day=El,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function xl(Al,Et){return Al=""+Al,"000000".substring(0,Et-Al.length)+Al}ls(Fn.prototype,{newDate:function(Al,Et,Pl){return this._calendar.newDate(Al??this,Et,Pl)},year:function(Al){return arguments.length===0?this._year:this.set(Al,"y")},month:function(Al){return arguments.length===0?this._month:this.set(Al,"m")},day:function(Al){return arguments.length===0?this._day:this.set(Al,"d")},date:function(Al,Et,Pl){if(!this._calendar.isValid(Al,Et,Pl))throw(Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=Al,this._month=Et,this._day=Pl,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(Al,Et){return this._calendar.add(this,Al,Et)},set:function(Al,Et){return this._calendar.set(this,Al,Et)},compareTo:function(Al){if(this._calendar.name!==Al._calendar.name)throw(Sl.local.differentCalendars||Sl.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,Al._calendar.local.name);var Et=this._year!==Al._year?this._year-Al._year:this._month!==Al._month?this.monthOfYear()-Al.monthOfYear():this._day-Al._day;return Et===0?0:Et<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(Al){return this._calendar.fromJD(Al)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(Al){return this._calendar.fromJSDate(Al)},toString:function(){return(this.year()<0?"-":"")+xl(Math.abs(this.year()),4)+"-"+xl(this.month(),2)+"-"+xl(this.day(),2)}});function Bn(){this.shortYearCutoff="+10"}ls(Bn.prototype,{_validateLevel:0,newDate:function(Al,Et,Pl){return Al==null?this.today():(Al.year&&(this._validate(Al,Et,Pl,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate),Pl=Al.day(),Et=Al.month(),Al=Al.year()),new Fn(this,Al,Et,Pl))},today:function(){return this.fromJSDate(new Date)},epoch:function(Al){var Et=this._validate(Al,this.minMonth,this.minDay,Sl.local.invalidYear||Sl.regionalOptions[""].invalidYear);return Et.year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(Al){var Et=this._validate(Al,this.minMonth,this.minDay,Sl.local.invalidYear||Sl.regionalOptions[""].invalidYear);return(Et.year()<0?"-":"")+xl(Math.abs(Et.year()),4)},monthsInYear:function(Al){return this._validate(Al,this.minMonth,this.minDay,Sl.local.invalidYear||Sl.regionalOptions[""].invalidYear),12},monthOfYear:function(Al,Et){var Pl=this._validate(Al,Et,this.minDay,Sl.local.invalidMonth||Sl.regionalOptions[""].invalidMonth);return(Pl.month()+this.monthsInYear(Pl)-this.firstMonth)%this.monthsInYear(Pl)+this.minMonth},fromMonthOfYear:function(Al,Et){var Pl=(Et+this.firstMonth-2*this.minMonth)%this.monthsInYear(Al)+this.minMonth;return this._validate(Al,Pl,this.minDay,Sl.local.invalidMonth||Sl.regionalOptions[""].invalidMonth),Pl},daysInYear:function(Al){var Et=this._validate(Al,this.minMonth,this.minDay,Sl.local.invalidYear||Sl.regionalOptions[""].invalidYear);return this.leapYear(Et)?366:365},dayOfYear:function(Al,Et,Pl){var El=this._validate(Al,Et,Pl,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate);return El.toJD()-this.newDate(El.year(),this.fromMonthOfYear(El.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(Al,Et,Pl){var El=this._validate(Al,Et,Pl,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(El))+2)%this.daysInWeek()},extraInfo:function(Al,Et,Pl){return this._validate(Al,Et,Pl,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate),{}},add:function(Al,Et,Pl){return this._validate(Al,this.minMonth,this.minDay,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate),this._correctAdd(Al,this._add(Al,Et,Pl),Et,Pl)},_add:function(Al,Et,Pl){if(this._validateLevel++,Pl==="d"||Pl==="w"){var El=Al.toJD()+Et*(Pl==="w"?this.daysInWeek():1),Fl=Al.calendar().fromJD(El);return this._validateLevel--,[Fl.year(),Fl.month(),Fl.day()]}try{var $l=Al.year()+(Pl==="y"?Et:0),Nl=Al.monthOfYear()+(Pl==="m"?Et:0),Fl=Al.day(),Ll=function(_l){for(;Nl<_l.minMonth;)$l--,Nl+=_l.monthsInYear($l);for(var Rl=_l.monthsInYear($l);Nl>Rl-1+_l.minMonth;)$l++,Nl-=Rl,Rl=_l.monthsInYear($l)};Pl==="y"?(Al.month()!==this.fromMonthOfYear($l,Nl)&&(Nl=this.newDate($l,Al.month(),this.minDay).monthOfYear()),Nl=Math.min(Nl,this.monthsInYear($l)),Fl=Math.min(Fl,this.daysInMonth($l,this.fromMonthOfYear($l,Nl)))):Pl==="m"&&(Ll(this),Fl=Math.min(Fl,this.daysInMonth($l,this.fromMonthOfYear($l,Nl))));var Ol=[$l,this.fromMonthOfYear($l,Nl),Fl];return this._validateLevel--,Ol}catch(Bl){throw this._validateLevel--,Bl}},_correctAdd:function(Al,Et,Pl,El){if(!this.hasYearZero&&(El==="y"||El==="m")&&(Et[0]===0||Al.year()>0!=Et[0]>0)){var Fl={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[El],$l=Pl<0?-1:1;Et=this._add(Al,Pl*Fl[0]+$l*Fl[1],Fl[2])}return Al.date(Et[0],Et[1],Et[2])},set:function(Al,Et,Pl){this._validate(Al,this.minMonth,this.minDay,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate);var El=Pl==="y"?Et:Al.year(),Fl=Pl==="m"?Et:Al.month(),$l=Pl==="d"?Et:Al.day();return(Pl==="y"||Pl==="m")&&($l=Math.min($l,this.daysInMonth(El,Fl))),Al.date(El,Fl,$l)},isValid:function(Al,Et,Pl){this._validateLevel++;var El=this.hasYearZero||Al!==0;if(El){var Fl=this.newDate(Al,Et,this.minDay);El=Et>=this.minMonth&&Et-this.minMonth<this.monthsInYear(Fl)&&Pl>=this.minDay&&Pl-this.minDay<this.daysInMonth(Fl)}return this._validateLevel--,El},toJSDate:function(Al,Et,Pl){var El=this._validate(Al,Et,Pl,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate);return Sl.instance().fromJD(this.toJD(El)).toJSDate()},fromJSDate:function(Al){return this.fromJD(Sl.instance().fromJSDate(Al).toJD())},_validate:function(Al,Et,Pl,El){if(Al.year){if(this._validateLevel===0&&this.name!==Al.calendar().name)throw(Sl.local.differentCalendars||Sl.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,Al.calendar().local.name);return Al}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(Al,Et,Pl))throw El.replace(/\{0\}/,this.local.name);var Fl=this.newDate(Al,Et,Pl);return this._validateLevel--,Fl}catch($l){throw this._validateLevel--,$l}}});function yl(Al){this.local=this.regionalOptions[Al]||this.regionalOptions[""]}yl.prototype=new Bn,ls(yl.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Pl){var Et=this._validate(Pl,this.minMonth,this.minDay,Sl.local.invalidYear||Sl.regionalOptions[""].invalidYear),Pl=Et.year()+(Et.year()<0?1:0);return Pl%4===0&&(Pl%100!==0||Pl%400===0)},weekOfYear:function(Al,Et,Pl){var El=this.newDate(Al,Et,Pl);return El.add(4-(El.dayOfWeek()||7),"d"),Math.floor((El.dayOfYear()-1)/7)+1},daysInMonth:function(Al,Et){var Pl=this._validate(Al,Et,this.minDay,Sl.local.invalidMonth||Sl.regionalOptions[""].invalidMonth);return this.daysPerMonth[Pl.month()-1]+(Pl.month()===2&&this.leapYear(Pl.year())?1:0)},weekDay:function(Al,Et,Pl){return(this.dayOfWeek(Al,Et,Pl)||7)<6},toJD:function(Al,Et,Pl){var El=this._validate(Al,Et,Pl,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate);Al=El.year(),Et=El.month(),Pl=El.day(),Al<0&&Al++,Et<3&&(Et+=12,Al--);var Fl=Math.floor(Al/100),$l=2-Fl+Math.floor(Fl/4);return Math.floor(365.25*(Al+4716))+Math.floor(30.6001*(Et+1))+Pl+$l-1524.5},fromJD:function(Al){var Et=Math.floor(Al+.5),Pl=Math.floor((Et-186721625e-2)/36524.25);Pl=Et+1+Pl-Math.floor(Pl/4);var El=Pl+1524,Fl=Math.floor((El-122.1)/365.25),$l=Math.floor(365.25*Fl),Nl=Math.floor((El-$l)/30.6001),Ll=El-$l-Math.floor(Nl*30.6001),Ol=Nl-(Nl>13.5?13:1),Bl=Fl-(Ol>2.5?4716:4715);return Bl<=0&&Bl--,this.newDate(Bl,Ol,Ll)},toJSDate:function(Al,Et,Pl){var El=this._validate(Al,Et,Pl,Sl.local.invalidDate||Sl.regionalOptions[""].invalidDate),Fl=new Date(El.year(),El.month()-1,El.day());return Fl.setHours(0),Fl.setMinutes(0),Fl.setSeconds(0),Fl.setMilliseconds(0),Fl.setHours(Fl.getHours()>12?Fl.getHours()+2:0),Fl},fromJSDate:function(Al){return this.newDate(Al.getFullYear(),Al.getMonth()+1,Al.getDate())}});var Sl=yu.exports=new _t;Sl.cdate=Fn,Sl.baseCalendar=Bn,Sl.calendars.gregorian=yl}),u4=a(()=>{var Mu=uy(),yu=dy();Mu(yu.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),yu.local=yu.regionalOptions[""],Mu(yu.cdate.prototype,{formatDate:function(ls,_t){return typeof ls!="string"&&(_t=ls,ls=""),this._calendar.formatDate(ls||"",this,_t)}}),Mu(yu.baseCalendar.prototype,{UNIX_EPOCH:yu.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:24*60*60,TICKS_EPOCH:yu.instance().jdEpoch,TICKS_PER_DAY:24*60*60*1e7,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(ls,_t,Fn){if(typeof ls!="string"&&(Fn=_t,_t=ls,ls=""),!_t)return"";if(_t.calendar()!==this)throw yu.local.invalidFormat||yu.regionalOptions[""].invalidFormat;ls=ls||this.local.dateFormat,Fn=Fn||{};for(var xl=Fn.dayNamesShort||this.local.dayNamesShort,Bn=Fn.dayNames||this.local.dayNames,yl=Fn.monthNumbers||this.local.monthNumbers,Sl=Fn.monthNamesShort||this.local.monthNamesShort,Al=Fn.monthNames||this.local.monthNames,Et=Fn.calculateWeek||this.local.calculateWeek,Pl=function(Hl,Kl){for(var Gu=1;Il+Gu<ls.length&&ls.charAt(Il+Gu)===Hl;)Gu++;return Il+=Gu-1,Math.floor(Gu/(Kl||1))>1},El=function(Hl,Kl,Gu,vu){var hu=""+Kl;if(Pl(Hl,vu))for(;hu.length<Gu;)hu="0"+hu;return hu},Fl=function(Hl,Kl,Gu,vu){return Pl(Hl)?vu[Kl]:Gu[Kl]},$l=this,Nl=function(Hl){return typeof yl=="function"?yl.call($l,Hl,Pl("m")):Bl(El("m",Hl.month(),2))},Ll=function(Hl,Kl){return Kl?typeof Al=="function"?Al.call($l,Hl):Al[Hl.month()-$l.minMonth]:typeof Sl=="function"?Sl.call($l,Hl):Sl[Hl.month()-$l.minMonth]},Ol=this.local.digits,Bl=function(Hl){return Fn.localNumbers&&Ol?Ol(Hl):Hl},_l="",Rl=!1,Il=0;Il<ls.length;Il++)if(Rl)ls.charAt(Il)==="'"&&!Pl("'")?Rl=!1:_l+=ls.charAt(Il);else switch(ls.charAt(Il)){case"d":_l+=Bl(El("d",_t.day(),2));break;case"D":_l+=Fl("D",_t.dayOfWeek(),xl,Bn);break;case"o":_l+=El("o",_t.dayOfYear(),3);break;case"w":_l+=El("w",_t.weekOfYear(),2);break;case"m":_l+=Nl(_t);break;case"M":_l+=Ll(_t,Pl("M"));break;case"y":_l+=Pl("y",2)?_t.year():(_t.year()%100<10?"0":"")+_t.year()%100;break;case"Y":Pl("Y",2),_l+=_t.formatYear();break;case"J":_l+=_t.toJD();break;case"@":_l+=(_t.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":_l+=(_t.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":Pl("'")?_l+="'":Rl=!0;break;default:_l+=ls.charAt(Il)}return _l},parseDate:function(ls,_t,Fn){if(_t==null)throw yu.local.invalidArguments||yu.regionalOptions[""].invalidArguments;if(_t=typeof _t=="object"?_t.toString():_t+"",_t==="")return null;ls=ls||this.local.dateFormat,Fn=Fn||{};var xl=Fn.shortYearCutoff||this.shortYearCutoff;xl=typeof xl!="string"?xl:this.today().year()%100+parseInt(xl,10);for(var Bn=Fn.dayNamesShort||this.local.dayNamesShort,yl=Fn.dayNames||this.local.dayNames,Sl=Fn.parseMonth||this.local.parseMonth,Al=Fn.monthNumbers||this.local.monthNumbers,Et=Fn.monthNamesShort||this.local.monthNamesShort,Pl=Fn.monthNames||this.local.monthNames,El=-1,Fl=-1,$l=-1,Nl=-1,Ll=-1,Ol=!1,Bl=!1,_l=function(Lu,Fu){for(var Du=1;Yl+Du<ls.length&&ls.charAt(Yl+Du)===Lu;)Du++;return Yl+=Du-1,Math.floor(Du/(Fu||1))>1},Rl=function(Lu,Fu){var Du=_l(Lu,Fu),Hu=[2,3,Du?4:2,Du?4:2,10,11,20]["oyYJ@!".indexOf(Lu)+1],Vu=new RegExp("^-?\\d{1,"+Hu+"}"),gu=_t.substring(hu).match(Vu);if(!gu)throw(yu.local.missingNumberAt||yu.regionalOptions[""].missingNumberAt).replace(/\{0\}/,hu);return hu+=gu[0].length,parseInt(gu[0],10)},Il=this,Hl=function(){if(typeof Al=="function"){_l("m");var Lu=Al.call(Il,_t.substring(hu));return hu+=Lu.length,Lu}return Rl("m")},Kl=function(Lu,Fu,Du,Hu){for(var Vu=_l(Lu,Hu)?Du:Fu,gu=0;gu<Vu.length;gu++)if(_t.substr(hu,Vu[gu].length).toLowerCase()===Vu[gu].toLowerCase())return hu+=Vu[gu].length,gu+Il.minMonth;throw(yu.local.unknownNameAt||yu.regionalOptions[""].unknownNameAt).replace(/\{0\}/,hu)},Gu=function(){if(typeof Pl=="function"){var Lu=_l("M")?Pl.call(Il,_t.substring(hu)):Et.call(Il,_t.substring(hu));return hu+=Lu.length,Lu}return Kl("M",Et,Pl)},vu=function(){if(_t.charAt(hu)!==ls.charAt(Yl))throw(yu.local.unexpectedLiteralAt||yu.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,hu);hu++},hu=0,Yl=0;Yl<ls.length;Yl++)if(Bl)ls.charAt(Yl)==="'"&&!_l("'")?Bl=!1:vu();else switch(ls.charAt(Yl)){case"d":Nl=Rl("d");break;case"D":Kl("D",Bn,yl);break;case"o":Ll=Rl("o");break;case"w":Rl("w");break;case"m":$l=Hl();break;case"M":$l=Gu();break;case"y":var $u=Yl;Ol=!_l("y",2),Yl=$u,Fl=Rl("y",2);break;case"Y":Fl=Rl("Y",2);break;case"J":El=Rl("J")+.5,_t.charAt(hu)==="."&&(hu++,Rl("J"));break;case"@":El=Rl("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":El=Rl("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":hu=_t.length;break;case"'":_l("'")?vu():Bl=!0;break;default:vu()}if(hu<_t.length)throw yu.local.unexpectedText||yu.regionalOptions[""].unexpectedText;if(Fl===-1?Fl=this.today().year():Fl<100&&Ol&&(Fl+=xl===-1?1900:this.today().year()-this.today().year()%100-(Fl<=xl?0:100)),typeof $l=="string"&&($l=Sl.call(this,Fl,$l)),Ll>-1){$l=1,Nl=Ll;for(var bu=this.daysInMonth(Fl,$l);Nl>bu;bu=this.daysInMonth(Fl,$l))$l++,Nl-=bu}return El>-1?this.fromJD(El):this.newDate(Fl,$l,Nl)},determineDate:function(ls,_t,Fn,xl,Bn){Fn&&typeof Fn!="object"&&(Bn=xl,xl=Fn,Fn=null),typeof xl!="string"&&(Bn=xl,xl="");var yl=this,Sl=function(Al){try{return yl.parseDate(xl,Al,Bn)}catch{}Al=Al.toLowerCase();for(var Et=(Al.match(/^c/)&&Fn?Fn.newDate():null)||yl.today(),Pl=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,El=Pl.exec(Al);El;)Et.add(parseInt(El[1],10),El[2]||"d"),El=Pl.exec(Al);return Et};return _t=_t?_t.newDate():null,ls=ls==null?_t:typeof ls=="string"?Sl(ls):typeof ls=="number"?isNaN(ls)||ls===1/0||ls===-1/0?_t:yl.today().add(ls,"d"):yl.newDate(ls),ls}})}),d4=a(()=>{var Mu=dy(),yu=uy(),ls=Mu.instance();function _t(El){this.local=this.regionalOptions[El||""]||this.regionalOptions[""]}_t.prototype=new Mu.baseCalendar,yu(_t.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(El,Fl){if(typeof El=="string"){var $l=El.match(xl);return $l?$l[0]:""}var Nl=this._validateYear(El),Ll=El.month(),Ol=""+this.toChineseMonth(Nl,Ll);return Fl&&Ol.length<2&&(Ol="0"+Ol),this.isIntercalaryMonth(Nl,Ll)&&(Ol+="i"),Ol},monthNames:function(El){if(typeof El=="string"){var Fl=El.match(Bn);return Fl?Fl[0]:""}var $l=this._validateYear(El),Nl=El.month(),Ll=this.toChineseMonth($l,Nl),Ol=["","","","","","","","","","","",""][Ll-1];return this.isIntercalaryMonth($l,Nl)&&(Ol=""+Ol),Ol},monthNamesShort:function(El){if(typeof El=="string"){var Fl=El.match(yl);return Fl?Fl[0]:""}var $l=this._validateYear(El),Nl=El.month(),Ll=this.toChineseMonth($l,Nl),Ol=["","","","","","","","","","","",""][Ll-1];return this.isIntercalaryMonth($l,Nl)&&(Ol=""+Ol),Ol},parseMonth:function(El,Fl){El=this._validateYear(El);var $l=parseInt(Fl),Nl;if(isNaN($l))Fl[0]===""&&(Nl=!0,Fl=Fl.substring(1)),Fl[Fl.length-1]===""&&(Fl=Fl.substring(0,Fl.length-1)),$l=1+["","","","","","","","","","","",""].indexOf(Fl);else{var Ll=Fl[Fl.length-1];Nl=Ll==="i"||Ll==="I"}var Ol=this.toMonthIndex(El,$l,Nl);return Ol},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(El,Fl){if(El.year&&(El=El.year()),typeof El!="number"||El<1888||El>2111)throw Fl.replace(/\{0\}/,this.local.name);return El},toMonthIndex:function(El,Fl,$l){var Nl=this.intercalaryMonth(El),Ll=$l&&Fl!==Nl;if(Ll||Fl<1||Fl>12)throw Mu.local.invalidMonth.replace(/\{0\}/,this.local.name);var Ol;return Nl?!$l&&Fl<=Nl?Ol=Fl-1:Ol=Fl:Ol=Fl-1,Ol},toChineseMonth:function(El,Fl){El.year&&(El=El.year(),Fl=El.month());var $l=this.intercalaryMonth(El),Nl=$l?12:11;if(Fl<0||Fl>Nl)throw Mu.local.invalidMonth.replace(/\{0\}/,this.local.name);var Ll;return $l?Fl<$l?Ll=Fl+1:Ll=Fl:Ll=Fl+1,Ll},intercalaryMonth:function(El){El=this._validateYear(El);var Fl=Sl[El-Sl[0]],$l=Fl>>13;return $l},isIntercalaryMonth:function(El,Fl){El.year&&(El=El.year(),Fl=El.month());var $l=this.intercalaryMonth(El);return!!$l&&$l===Fl},leapYear:function(El){return this.intercalaryMonth(El)!==0},weekOfYear:function(El,Fl,$l){var Nl=this._validateYear(El,Mu.local.invalidyear),Ll=Al[Nl-Al[0]],Ol=Ll>>9&4095,Bl=Ll>>5&15,_l=Ll&31,Rl;Rl=ls.newDate(Ol,Bl,_l),Rl.add(4-(Rl.dayOfWeek()||7),"d");var Il=this.toJD(El,Fl,$l)-Rl.toJD();return 1+Math.floor(Il/7)},monthsInYear:function(El){return this.leapYear(El)?13:12},daysInMonth:function(El,Fl){El.year&&(Fl=El.month(),El=El.year()),El=this._validateYear(El);var $l=Sl[El-Sl[0]],Nl=$l>>13,Ll=Nl?12:11;if(Fl>Ll)throw Mu.local.invalidMonth.replace(/\{0\}/,this.local.name);var Ol=$l&1<<12-Fl?30:29;return Ol},weekDay:function(El,Fl,$l){return(this.dayOfWeek(El,Fl,$l)||7)<6},toJD:function(El,Fl,$l){var Nl=this._validate(El,Ol,$l,Mu.local.invalidDate);El=this._validateYear(Nl.year()),Fl=Nl.month(),$l=Nl.day();var Ll=this.isIntercalaryMonth(El,Fl),Ol=this.toChineseMonth(El,Fl),Bl=Pl(El,Ol,$l,Ll);return ls.toJD(Bl.year,Bl.month,Bl.day)},fromJD:function(El){var Fl=ls.fromJD(El),$l=Et(Fl.year(),Fl.month(),Fl.day()),Nl=this.toMonthIndex($l.year,$l.month,$l.isIntercalary);return this.newDate($l.year,Nl,$l.day)},fromString:function(El){var Fl=El.match(Fn),$l=this._validateYear(+Fl[1]),Nl=+Fl[2],Ll=!!Fl[3],Ol=this.toMonthIndex($l,Nl,Ll),Bl=+Fl[4];return this.newDate($l,Ol,Bl)},add:function(El,Fl,$l){var Nl=El.year(),Ll=El.month(),Ol=this.isIntercalaryMonth(Nl,Ll),Bl=this.toChineseMonth(Nl,Ll),_l=Object.getPrototypeOf(_t.prototype).add.call(this,El,Fl,$l);if($l==="y"){var Rl=_l.year(),Il=_l.month(),Hl=this.isIntercalaryMonth(Rl,Bl),Kl=Ol&&Hl?this.toMonthIndex(Rl,Bl,!0):this.toMonthIndex(Rl,Bl,!1);Kl!==Il&&_l.month(Kl)}return _l}});var Fn=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,xl=/^\d?\d[iI]?/m,Bn=/^??[]?/m,yl=/^??[]?/m;Mu.calendars.chinese=_t;var Sl=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],Al=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904];function Et(El,Fl,$l,Nl){var Ll,Ol;if(typeof El=="object")Ll=El,Ol=Fl||{};else{var Bl=typeof El=="number"&&El>=1888&&El<=2111;if(!Bl)throw new Error("Solar year outside range 1888-2111");var _l=typeof Fl=="number"&&Fl>=1&&Fl<=12;if(!_l)throw new Error("Solar month outside range 1 - 12");var Rl=typeof $l=="number"&&$l>=1&&$l<=31;if(!Rl)throw new Error("Solar day outside range 1 - 31");Ll={year:El,month:Fl,day:$l},Ol={}}var Il=Al[Ll.year-Al[0]],Hl=Ll.year<<9|Ll.month<<5|Ll.day;Ol.year=Hl>=Il?Ll.year:Ll.year-1,Il=Al[Ol.year-Al[0]];var Kl=Il>>9&4095,Gu=Il>>5&15,vu=Il&31,hu,Yl=new Date(Kl,Gu-1,vu),$u=new Date(Ll.year,Ll.month-1,Ll.day);hu=Math.round(($u-Yl)/(24*3600*1e3));var bu=Sl[Ol.year-Sl[0]],Lu;for(Lu=0;Lu<13;Lu++){var Fu=bu&1<<12-Lu?30:29;if(hu<Fu)break;hu-=Fu}var Du=bu>>13;return!Du||Lu<Du?(Ol.isIntercalary=!1,Ol.month=1+Lu):Lu===Du?(Ol.isIntercalary=!0,Ol.month=Lu):(Ol.isIntercalary=!1,Ol.month=Lu),Ol.day=1+hu,Ol}function Pl(El,Fl,$l,Nl,Ll){var Ol,Bl;if(typeof El=="object")Bl=El,Ol=Fl||{};else{var _l=typeof El=="number"&&El>=1888&&El<=2111;if(!_l)throw new Error("Lunar year outside range 1888-2111");var Rl=typeof Fl=="number"&&Fl>=1&&Fl<=12;if(!Rl)throw new Error("Lunar month outside range 1 - 12");var Il=typeof $l=="number"&&$l>=1&&$l<=30;if(!Il)throw new Error("Lunar day outside range 1 - 30");var Hl;typeof Nl=="object"?(Hl=!1,Ol=Nl):(Hl=!!Nl,Ol={}),Bl={year:El,month:Fl,day:$l,isIntercalary:Hl}}var Kl;Kl=Bl.day-1;var Gu=Sl[Bl.year-Sl[0]],vu=Gu>>13,hu;vu&&(Bl.month>vu||Bl.isIntercalary)?hu=Bl.month:hu=Bl.month-1;for(var Yl=0;Yl<hu;Yl++){var $u=Gu&1<<12-Yl?30:29;Kl+=$u}var bu=Al[Bl.year-Al[0]],Lu=bu>>9&4095,Fu=bu>>5&15,Du=bu&31,Hu=new Date(Lu,Fu-1,Du+Kl);return Ol.year=Hu.getFullYear(),Ol.month=1+Hu.getMonth(),Ol.day=Hu.getDate(),Ol}}),h4=a(()=>{var Mu=dy(),yu=uy();function ls(_t){this.local=this.regionalOptions[_t||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(xl){var Fn=this._validate(xl,this.minMonth,this.minDay,Mu.local.invalidYear),xl=Fn.year()+(Fn.year()<0?1:0);return xl%4===3||xl%4===-1},monthsInYear:function(_t){return this._validate(_t,this.minMonth,this.minDay,Mu.local.invalidYear||Mu.regionalOptions[""].invalidYear),13},weekOfYear:function(_t,Fn,xl){var Bn=this.newDate(_t,Fn,xl);return Bn.add(-Bn.dayOfWeek(),"d"),Math.floor((Bn.dayOfYear()-1)/7)+1},daysInMonth:function(_t,Fn){var xl=this._validate(_t,Fn,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[xl.month()-1]+(xl.month()===13&&this.leapYear(xl.year())?1:0)},weekDay:function(_t,Fn,xl){return(this.dayOfWeek(_t,Fn,xl)||7)<6},toJD:function(_t,Fn,xl){var Bn=this._validate(_t,Fn,xl,Mu.local.invalidDate);return _t=Bn.year(),_t<0&&_t++,Bn.day()+(Bn.month()-1)*30+(_t-1)*365+Math.floor(_t/4)+this.jdEpoch-1},fromJD:function(_t){var Fn=Math.floor(_t)+.5-this.jdEpoch,xl=Math.floor((Fn-Math.floor((Fn+366)/1461))/365)+1;xl<=0&&xl--,Fn=Math.floor(_t)+.5-this.newDate(xl,1,1).toJD();var Bn=Math.floor(Fn/30)+1,yl=Fn-(Bn-1)*30+1;return this.newDate(xl,Bn,yl)}}),Mu.calendars.coptic=ls}),p4=a(()=>{var Mu=dy(),yu=uy();function ls(Fn){this.local=this.regionalOptions[Fn||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(Fn){return this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear),!1},monthsInYear:function(Fn){return this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear),13},daysInYear:function(Fn){return this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear),400},weekOfYear:function(Fn,xl,Bn){var yl=this.newDate(Fn,xl,Bn);return yl.add(-yl.dayOfWeek(),"d"),Math.floor((yl.dayOfYear()-1)/8)+1},daysInMonth:function(Fn,xl){var Bn=this._validate(Fn,xl,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[Bn.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(Fn,xl,Bn){var yl=this._validate(Fn,xl,Bn,Mu.local.invalidDate);return(yl.day()+1)%8},weekDay:function(Fn,xl,Bn){var yl=this.dayOfWeek(Fn,xl,Bn);return yl>=2&&yl<=6},extraInfo:function(Fn,xl,Bn){var yl=this._validate(Fn,xl,Bn,Mu.local.invalidDate);return{century:_t[Math.floor((yl.year()-1)/100)+1]||""}},toJD:function(Fn,xl,Bn){var yl=this._validate(Fn,xl,Bn,Mu.local.invalidDate);return Fn=yl.year()+(yl.year()<0?1:0),xl=yl.month(),Bn=yl.day(),Bn+(xl>1?16:0)+(xl>2?(xl-2)*32:0)+(Fn-1)*400+this.jdEpoch-1},fromJD:function(Fn){Fn=Math.floor(Fn+.5)-Math.floor(this.jdEpoch)-1;var xl=Math.floor(Fn/400)+1;Fn-=(xl-1)*400,Fn+=Fn>15?16:0;var Bn=Math.floor(Fn/32)+1,yl=Fn-(Bn-1)*32+1;return this.newDate(xl<=0?xl-1:xl,Bn,yl)}});var _t={20:"Fruitbat",21:"Anchovy"};Mu.calendars.discworld=ls}),f4=a(()=>{var Mu=dy(),yu=uy();function ls(_t){this.local=this.regionalOptions[_t||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(xl){var Fn=this._validate(xl,this.minMonth,this.minDay,Mu.local.invalidYear),xl=Fn.year()+(Fn.year()<0?1:0);return xl%4===3||xl%4===-1},monthsInYear:function(_t){return this._validate(_t,this.minMonth,this.minDay,Mu.local.invalidYear||Mu.regionalOptions[""].invalidYear),13},weekOfYear:function(_t,Fn,xl){var Bn=this.newDate(_t,Fn,xl);return Bn.add(-Bn.dayOfWeek(),"d"),Math.floor((Bn.dayOfYear()-1)/7)+1},daysInMonth:function(_t,Fn){var xl=this._validate(_t,Fn,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[xl.month()-1]+(xl.month()===13&&this.leapYear(xl.year())?1:0)},weekDay:function(_t,Fn,xl){return(this.dayOfWeek(_t,Fn,xl)||7)<6},toJD:function(_t,Fn,xl){var Bn=this._validate(_t,Fn,xl,Mu.local.invalidDate);return _t=Bn.year(),_t<0&&_t++,Bn.day()+(Bn.month()-1)*30+(_t-1)*365+Math.floor(_t/4)+this.jdEpoch-1},fromJD:function(_t){var Fn=Math.floor(_t)+.5-this.jdEpoch,xl=Math.floor((Fn-Math.floor((Fn+366)/1461))/365)+1;xl<=0&&xl--,Fn=Math.floor(_t)+.5-this.newDate(xl,1,1).toJD();var Bn=Math.floor(Fn/30)+1,yl=Fn-(Bn-1)*30+1;return this.newDate(xl,Bn,yl)}}),Mu.calendars.ethiopian=ls}),g4=a(()=>{var Mu=dy(),yu=uy();function ls(Fn){this.local=this.regionalOptions[Fn||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Fn){var xl=this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear);return this._leapYear(xl.year())},_leapYear:function(Fn){return Fn=Fn<0?Fn+1:Fn,_t(Fn*7+1,19)<7},monthsInYear:function(Fn){return this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear),this._leapYear(Fn.year?Fn.year():Fn)?13:12},weekOfYear:function(Fn,xl,Bn){var yl=this.newDate(Fn,xl,Bn);return yl.add(-yl.dayOfWeek(),"d"),Math.floor((yl.dayOfYear()-1)/7)+1},daysInYear:function(Fn){var xl=this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear);return Fn=xl.year(),this.toJD(Fn===-1?1:Fn+1,7,1)-this.toJD(Fn,7,1)},daysInMonth:function(Fn,xl){return Fn.year&&(xl=Fn.month(),Fn=Fn.year()),this._validate(Fn,xl,this.minDay,Mu.local.invalidMonth),xl===12&&this.leapYear(Fn)||xl===8&&_t(this.daysInYear(Fn),10)===5?30:xl===9&&_t(this.daysInYear(Fn),10)===3?29:this.daysPerMonth[xl-1]},weekDay:function(Fn,xl,Bn){return this.dayOfWeek(Fn,xl,Bn)!==6},extraInfo:function(Fn,xl,Bn){var yl=this._validate(Fn,xl,Bn,Mu.local.invalidDate);return{yearType:(this.leapYear(yl)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(yl)%10-3]}},toJD:function(Fn,xl,Bn){var yl=this._validate(Fn,xl,Bn,Mu.local.invalidDate);Fn=yl.year(),xl=yl.month(),Bn=yl.day();var Sl=Fn<=0?Fn+1:Fn,Al=this.jdEpoch+this._delay1(Sl)+this._delay2(Sl)+Bn+1;if(xl<7){for(var Et=7;Et<=this.monthsInYear(Fn);Et++)Al+=this.daysInMonth(Fn,Et);for(var Et=1;Et<xl;Et++)Al+=this.daysInMonth(Fn,Et)}else for(var Et=7;Et<xl;Et++)Al+=this.daysInMonth(Fn,Et);return Al},_delay1:function(Fn){var xl=Math.floor((235*Fn-234)/19),Bn=12084+13753*xl,yl=xl*29+Math.floor(Bn/25920);return _t(3*(yl+1),7)<3&&yl++,yl},_delay2:function(Fn){var xl=this._delay1(Fn-1),Bn=this._delay1(Fn),yl=this._delay1(Fn+1);return yl-Bn===356?2:Bn-xl===382?1:0},fromJD:function(Fn){Fn=Math.floor(Fn)+.5;for(var xl=Math.floor((Fn-this.jdEpoch)*98496/35975351)-1;Fn>=this.toJD(xl===-1?1:xl+1,7,1);)xl++;for(var Bn=Fn<this.toJD(xl,1,1)?7:1;Fn>this.toJD(xl,Bn,this.daysInMonth(xl,Bn));)Bn++;var yl=Fn-this.toJD(xl,Bn,1)+1;return this.newDate(xl,Bn,yl)}});function _t(Fn,xl){return Fn-xl*Math.floor(Fn/xl)}Mu.calendars.hebrew=ls}),m4=a(()=>{var Mu=dy(),yu=uy();function ls(_t){this.local=this.regionalOptions[_t||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khams","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(_t){var Fn=this._validate(_t,this.minMonth,this.minDay,Mu.local.invalidYear);return(Fn.year()*11+14)%30<11},weekOfYear:function(_t,Fn,xl){var Bn=this.newDate(_t,Fn,xl);return Bn.add(-Bn.dayOfWeek(),"d"),Math.floor((Bn.dayOfYear()-1)/7)+1},daysInYear:function(_t){return this.leapYear(_t)?355:354},daysInMonth:function(_t,Fn){var xl=this._validate(_t,Fn,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[xl.month()-1]+(xl.month()===12&&this.leapYear(xl.year())?1:0)},weekDay:function(_t,Fn,xl){return this.dayOfWeek(_t,Fn,xl)!==5},toJD:function(_t,Fn,xl){var Bn=this._validate(_t,Fn,xl,Mu.local.invalidDate);return _t=Bn.year(),Fn=Bn.month(),xl=Bn.day(),_t=_t<=0?_t+1:_t,xl+Math.ceil(29.5*(Fn-1))+(_t-1)*354+Math.floor((3+11*_t)/30)+this.jdEpoch-1},fromJD:function(_t){_t=Math.floor(_t)+.5;var Fn=Math.floor((30*(_t-this.jdEpoch)+10646)/10631);Fn=Fn<=0?Fn-1:Fn;var xl=Math.min(12,Math.ceil((_t-29-this.toJD(Fn,1,1))/29.5)+1),Bn=_t-this.toJD(Fn,xl,1)+1;return this.newDate(Fn,xl,Bn)}}),Mu.calendars.islamic=ls}),v4=a(()=>{var Mu=dy(),yu=uy();function ls(_t){this.local=this.regionalOptions[_t||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(xl){var Fn=this._validate(xl,this.minMonth,this.minDay,Mu.local.invalidYear),xl=Fn.year()<0?Fn.year()+1:Fn.year();return xl%4===0},weekOfYear:function(_t,Fn,xl){var Bn=this.newDate(_t,Fn,xl);return Bn.add(4-(Bn.dayOfWeek()||7),"d"),Math.floor((Bn.dayOfYear()-1)/7)+1},daysInMonth:function(_t,Fn){var xl=this._validate(_t,Fn,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[xl.month()-1]+(xl.month()===2&&this.leapYear(xl.year())?1:0)},weekDay:function(_t,Fn,xl){return(this.dayOfWeek(_t,Fn,xl)||7)<6},toJD:function(_t,Fn,xl){var Bn=this._validate(_t,Fn,xl,Mu.local.invalidDate);return _t=Bn.year(),Fn=Bn.month(),xl=Bn.day(),_t<0&&_t++,Fn<=2&&(_t--,Fn+=12),Math.floor(365.25*(_t+4716))+Math.floor(30.6001*(Fn+1))+xl-1524.5},fromJD:function(_t){var Fn=Math.floor(_t+.5),xl=Fn+1524,Bn=Math.floor((xl-122.1)/365.25),yl=Math.floor(365.25*Bn),Sl=Math.floor((xl-yl)/30.6001),Al=Sl-Math.floor(Sl<14?1:13),Et=Bn-Math.floor(Al>2?4716:4715),Pl=xl-yl-Math.floor(30.6001*Sl);return Et<=0&&Et--,this.newDate(Et,Al,Pl)}}),Mu.calendars.julian=ls}),y4=a(()=>{var Mu=dy(),yu=uy();function ls(xl){this.local=this.regionalOptions[xl||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(xl){return this._validate(xl,this.minMonth,this.minDay,Mu.local.invalidYear),!1},formatYear:function(xl){var Bn=this._validate(xl,this.minMonth,this.minDay,Mu.local.invalidYear);xl=Bn.year();var yl=Math.floor(xl/400);xl=xl%400,xl+=xl<0?400:0;var Sl=Math.floor(xl/20);return yl+"."+Sl+"."+xl%20},forYear:function(xl){if(xl=xl.split("."),xl.length<3)throw"Invalid Mayan year";for(var Bn=0,yl=0;yl<xl.length;yl++){var Sl=parseInt(xl[yl],10);if(Math.abs(Sl)>19||yl>0&&Sl<0)throw"Invalid Mayan year";Bn=Bn*20+Sl}return Bn},monthsInYear:function(xl){return this._validate(xl,this.minMonth,this.minDay,Mu.local.invalidYear),18},weekOfYear:function(xl,Bn,yl){return this._validate(xl,Bn,yl,Mu.local.invalidDate),0},daysInYear:function(xl){return this._validate(xl,this.minMonth,this.minDay,Mu.local.invalidYear),360},daysInMonth:function(xl,Bn){return this._validate(xl,Bn,this.minDay,Mu.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(xl,Bn,yl){var Sl=this._validate(xl,Bn,yl,Mu.local.invalidDate);return Sl.day()},weekDay:function(xl,Bn,yl){return this._validate(xl,Bn,yl,Mu.local.invalidDate),!0},extraInfo:function(xl,Bn,yl){var Sl=this._validate(xl,Bn,yl,Mu.local.invalidDate),Al=Sl.toJD(),Et=this._toHaab(Al),Pl=this._toTzolkin(Al);return{haabMonthName:this.local.haabMonths[Et[0]-1],haabMonth:Et[0],haabDay:Et[1],tzolkinDayName:this.local.tzolkinMonths[Pl[0]-1],tzolkinDay:Pl[0],tzolkinTrecena:Pl[1]}},_toHaab:function(xl){xl-=this.jdEpoch;var Bn=_t(xl+8+17*20,365);return[Math.floor(Bn/20)+1,_t(Bn,20)]},_toTzolkin:function(xl){return xl-=this.jdEpoch,[Fn(xl+20,20),Fn(xl+4,13)]},toJD:function(xl,Bn,yl){var Sl=this._validate(xl,Bn,yl,Mu.local.invalidDate);return Sl.day()+Sl.month()*20+Sl.year()*360+this.jdEpoch},fromJD:function(xl){xl=Math.floor(xl)+.5-this.jdEpoch;var Bn=Math.floor(xl/360);xl=xl%360,xl+=xl<0?360:0;var yl=Math.floor(xl/20),Sl=xl%20;return this.newDate(Bn,yl,Sl)}});function _t(xl,Bn){return xl-Bn*Math.floor(xl/Bn)}function Fn(xl,Bn){return _t(xl-1,Bn)+1}Mu.calendars.mayan=ls}),b4=a(()=>{var Mu=dy(),yu=uy();function ls(Fn){this.local=this.regionalOptions[Fn||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar;var _t=Mu.instance("gregorian");yu(ls.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(Fn){var xl=this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear||Mu.regionalOptions[""].invalidYear);return _t.leapYear(xl.year()+(xl.year()<1?1:0)+1469)},weekOfYear:function(Fn,xl,Bn){var yl=this.newDate(Fn,xl,Bn);return yl.add(1-(yl.dayOfWeek()||7),"d"),Math.floor((yl.dayOfYear()-1)/7)+1},daysInMonth:function(Fn,xl){var Bn=this._validate(Fn,xl,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[Bn.month()-1]+(Bn.month()===12&&this.leapYear(Bn.year())?1:0)},weekDay:function(Fn,xl,Bn){return(this.dayOfWeek(Fn,xl,Bn)||7)<6},toJD:function(Sl,xl,Bn){var yl=this._validate(Sl,xl,Bn,Mu.local.invalidMonth),Sl=yl.year();Sl<0&&Sl++;for(var Al=yl.day(),Et=1;Et<yl.month();Et++)Al+=this.daysPerMonth[Et-1];return Al+_t.toJD(Sl+1468,3,13)},fromJD:function(Fn){Fn=Math.floor(Fn+.5);for(var xl=Math.floor((Fn-(this.jdEpoch-1))/366);Fn>=this.toJD(xl+1,1,1);)xl++;for(var Bn=Fn-Math.floor(this.toJD(xl,1,1)+.5)+1,yl=1;Bn>this.daysInMonth(xl,yl);)Bn-=this.daysInMonth(xl,yl),yl++;return this.newDate(xl,yl,Bn)}}),Mu.calendars.nanakshahi=ls}),x4=a(()=>{var Mu=dy(),yu=uy();function ls(_t){this.local=this.regionalOptions[_t||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(_t){return this.daysInYear(_t)!==this.daysPerYear},weekOfYear:function(_t,Fn,xl){var Bn=this.newDate(_t,Fn,xl);return Bn.add(-Bn.dayOfWeek(),"d"),Math.floor((Bn.dayOfYear()-1)/7)+1},daysInYear:function(_t){var Fn=this._validate(_t,this.minMonth,this.minDay,Mu.local.invalidYear);if(_t=Fn.year(),typeof this.NEPALI_CALENDAR_DATA[_t]>"u")return this.daysPerYear;for(var xl=0,Bn=this.minMonth;Bn<=12;Bn++)xl+=this.NEPALI_CALENDAR_DATA[_t][Bn];return xl},daysInMonth:function(_t,Fn){return _t.year&&(Fn=_t.month(),_t=_t.year()),this._validate(_t,Fn,this.minDay,Mu.local.invalidMonth),typeof this.NEPALI_CALENDAR_DATA[_t]>"u"?this.daysPerMonth[Fn-1]:this.NEPALI_CALENDAR_DATA[_t][Fn]},weekDay:function(_t,Fn,xl){return this.dayOfWeek(_t,Fn,xl)!==6},toJD:function(_t,Fn,xl){var Bn=this._validate(_t,Fn,xl,Mu.local.invalidDate);_t=Bn.year(),Fn=Bn.month(),xl=Bn.day();var yl=Mu.instance(),Sl=0,Al=Fn,Et=_t;this._createMissingCalendarData(_t);var Pl=_t-(Al>9||Al===9&&xl>=this.NEPALI_CALENDAR_DATA[Et][0]?56:57);for(Fn!==9&&(Sl=xl,Al--);Al!==9;)Al<=0&&(Al=12,Et--),Sl+=this.NEPALI_CALENDAR_DATA[Et][Al],Al--;return Fn===9?(Sl+=xl-this.NEPALI_CALENDAR_DATA[Et][0],Sl<0&&(Sl+=yl.daysInYear(Pl))):Sl+=this.NEPALI_CALENDAR_DATA[Et][9]-this.NEPALI_CALENDAR_DATA[Et][0],yl.newDate(Pl,1,1).add(Sl,"d").toJD()},fromJD:function(_t){var Fn=Mu.instance(),xl=Fn.fromJD(_t),Bn=xl.year(),yl=xl.dayOfYear(),Sl=Bn+56;this._createMissingCalendarData(Sl);for(var Al=9,Et=this.NEPALI_CALENDAR_DATA[Sl][0],Pl=this.NEPALI_CALENDAR_DATA[Sl][Al]-Et+1;yl>Pl;)Al++,Al>12&&(Al=1,Sl++),Pl+=this.NEPALI_CALENDAR_DATA[Sl][Al];var El=this.NEPALI_CALENDAR_DATA[Sl][Al]-(Pl-yl);return this.newDate(Sl,Al,El)},_createMissingCalendarData:function(_t){var Fn=this.daysPerMonth.slice(0);Fn.unshift(17);for(var xl=_t-1;xl<_t+2;xl++)typeof this.NEPALI_CALENDAR_DATA[xl]>"u"&&(this.NEPALI_CALENDAR_DATA[xl]=Fn)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),Mu.calendars.nepali=ls}),w4=a(()=>{var Mu=dy(),yu=uy();function ls(Fn){this.local=this.regionalOptions[Fn||""]||this.regionalOptions[""]}function _t(Fn){var xl=Fn-475;Fn<0&&xl++;var Bn=.242197,yl=Bn*xl,Sl=Bn*(xl+1),Al=yl-Math.floor(yl),Et=Sl-Math.floor(Sl);return Al>Et}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],dayNames:["Yekshanbeh","Doshanbeh","Seshanbeh","Chahrshanbeh","Panjshanbeh","Jom'eh","Shanbeh"],dayNamesShort:["Yek","Do","Se","Cha","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(Fn){var xl=this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear);return _t(xl.year())},weekOfYear:function(Fn,xl,Bn){var yl=this.newDate(Fn,xl,Bn);return yl.add(-((yl.dayOfWeek()+1)%7),"d"),Math.floor((yl.dayOfYear()-1)/7)+1},daysInMonth:function(Fn,xl){var Bn=this._validate(Fn,xl,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[Bn.month()-1]+(Bn.month()===12&&this.leapYear(Bn.year())?1:0)},weekDay:function(Fn,xl,Bn){return this.dayOfWeek(Fn,xl,Bn)!==5},toJD:function(Fn,xl,Bn){var yl=this._validate(Fn,xl,Bn,Mu.local.invalidDate);Fn=yl.year(),xl=yl.month(),Bn=yl.day();var Sl=0;if(Fn>0)for(var Al=1;Al<Fn;Al++)_t(Al)&&Sl++;else if(Fn<0)for(var Al=Fn;Al<0;Al++)_t(Al)&&Sl--;return Bn+(xl<=7?(xl-1)*31:(xl-1)*30+6)+(Fn>0?Fn-1:Fn)*365+Sl+this.jdEpoch-1},fromJD:function(Fn){Fn=Math.floor(Fn)+.5;var xl=475+(Fn-this.toJD(475,1,1))/365.242197,Bn=Math.floor(xl);Bn<=0&&Bn--,Fn>this.toJD(Bn,12,_t(Bn)?30:29)&&(Bn++,Bn===0&&Bn++);var yl=Fn-this.toJD(Bn,1,1)+1,Sl=yl<=186?Math.ceil(yl/31):Math.ceil((yl-6)/30),Al=Fn-this.toJD(Bn,Sl,1)+1;return this.newDate(Bn,Sl,Al)}}),Mu.calendars.persian=ls,Mu.calendars.jalali=ls}),C4=a(()=>{var Mu=dy(),yu=uy(),ls=Mu.instance();function _t(Fn){this.local=this.regionalOptions[Fn||""]||this.regionalOptions[""]}_t.prototype=new Mu.baseCalendar,yu(_t.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(Bn){var xl=this._validate(Bn,this.minMonth,this.minDay,Mu.local.invalidYear),Bn=this._t2gYear(xl.year());return ls.leapYear(Bn)},weekOfYear:function(Sl,xl,Bn){var yl=this._validate(Sl,this.minMonth,this.minDay,Mu.local.invalidYear),Sl=this._t2gYear(yl.year());return ls.weekOfYear(Sl,yl.month(),yl.day())},daysInMonth:function(Fn,xl){var Bn=this._validate(Fn,xl,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[Bn.month()-1]+(Bn.month()===2&&this.leapYear(Bn.year())?1:0)},weekDay:function(Fn,xl,Bn){return(this.dayOfWeek(Fn,xl,Bn)||7)<6},toJD:function(Sl,xl,Bn){var yl=this._validate(Sl,xl,Bn,Mu.local.invalidDate),Sl=this._t2gYear(yl.year());return ls.toJD(Sl,yl.month(),yl.day())},fromJD:function(Fn){var xl=ls.fromJD(Fn),Bn=this._g2tYear(xl.year());return this.newDate(Bn,xl.month(),xl.day())},_t2gYear:function(Fn){return Fn+this.yearsOffset+(Fn>=-this.yearsOffset&&Fn<=-1?1:0)},_g2tYear:function(Fn){return Fn-this.yearsOffset-(Fn>=1&&Fn<=this.yearsOffset?1:0)}}),Mu.calendars.taiwan=_t}),S4=a(()=>{var Mu=dy(),yu=uy(),ls=Mu.instance();function _t(Fn){this.local=this.regionalOptions[Fn||""]||this.regionalOptions[""]}_t.prototype=new Mu.baseCalendar,yu(_t.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(Bn){var xl=this._validate(Bn,this.minMonth,this.minDay,Mu.local.invalidYear),Bn=this._t2gYear(xl.year());return ls.leapYear(Bn)},weekOfYear:function(Sl,xl,Bn){var yl=this._validate(Sl,this.minMonth,this.minDay,Mu.local.invalidYear),Sl=this._t2gYear(yl.year());return ls.weekOfYear(Sl,yl.month(),yl.day())},daysInMonth:function(Fn,xl){var Bn=this._validate(Fn,xl,this.minDay,Mu.local.invalidMonth);return this.daysPerMonth[Bn.month()-1]+(Bn.month()===2&&this.leapYear(Bn.year())?1:0)},weekDay:function(Fn,xl,Bn){return(this.dayOfWeek(Fn,xl,Bn)||7)<6},toJD:function(Sl,xl,Bn){var yl=this._validate(Sl,xl,Bn,Mu.local.invalidDate),Sl=this._t2gYear(yl.year());return ls.toJD(Sl,yl.month(),yl.day())},fromJD:function(Fn){var xl=ls.fromJD(Fn),Bn=this._g2tYear(xl.year());return this.newDate(Bn,xl.month(),xl.day())},_t2gYear:function(Fn){return Fn-this.yearsOffset-(Fn>=1&&Fn<=this.yearsOffset?1:0)},_g2tYear:function(Fn){return Fn+this.yearsOffset+(Fn>=-this.yearsOffset&&Fn<=-1?1:0)}}),Mu.calendars.thai=_t}),_4=a(()=>{var Mu=dy(),yu=uy();function ls(Fn){this.local=this.regionalOptions[Fn||""]||this.regionalOptions[""]}ls.prototype=new Mu.baseCalendar,yu(ls.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalth","Yawm al-Arba","Yawm al-Khams","Yawm al-Juma","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(Fn){var xl=this._validate(Fn,this.minMonth,this.minDay,Mu.local.invalidYear);return this.daysInYear(xl.year())===355},weekOfYear:function(Fn,xl,Bn){var yl=this.newDate(Fn,xl,Bn);return yl.add(-yl.dayOfWeek(),"d"),Math.floor((yl.dayOfYear()-1)/7)+1},daysInYear:function(Fn){for(var xl=0,Bn=1;Bn<=12;Bn++)xl+=this.daysInMonth(Fn,Bn);return xl},daysInMonth:function(Fn,xl){for(var Bn=this._validate(Fn,xl,this.minDay,Mu.local.invalidMonth),yl=Bn.toJD()-24e5+.5,Sl=0,Al=0;Al<_t.length;Al++){if(_t[Al]>yl)return _t[Sl]-_t[Sl-1];Sl++}return 30},weekDay:function(Fn,xl,Bn){return this.dayOfWeek(Fn,xl,Bn)!==5},toJD:function(Fn,xl,Bn){var yl=this._validate(Fn,xl,Bn,Mu.local.invalidDate),Sl=12*(yl.year()-1)+yl.month()-15292,Al=yl.day()+_t[Sl-1]-1;return Al+24e5-.5},fromJD:function(Fn){for(var xl=Fn-24e5+.5,Bn=0,yl=0;yl<_t.length&&!(_t[yl]>xl);yl++)Bn++;var Sl=Bn+15292,Al=Math.floor((Sl-1)/12),Et=Al+1,Pl=Sl-12*Al,El=xl-_t[Bn-1]+1;return this.newDate(Et,Pl,El)},isValid:function(Fn,xl,Bn){var yl=Mu.baseCalendar.prototype.isValid.apply(this,arguments);return yl&&(Fn=Fn.year!=null?Fn.year:Fn,yl=Fn>=1276&&Fn<=1500),yl},_validate:function(Fn,xl,Bn,yl){var Sl=Mu.baseCalendar.prototype._validate.apply(this,arguments);if(Sl.year<1276||Sl.year>1500)throw yl.replace(/\{0\}/,this.local.name);return Sl}}),Mu.calendars.ummalqura=ls;var _t=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]}),E4=a((Mu,yu)=>{yu.exports=dy(),u4(),d4(),h4(),p4(),f4(),g4(),m4(),v4(),y4(),b4(),x4(),w4(),C4(),S4(),_4()}),k4=a((Mu,yu)=>{var ls=E4(),_t=vm(),Fn=nt(),xl=Fn.EPOCHJD,Bn=Fn.ONEDAY,yl={valType:"enumerated",values:_t.sortObjectKeys(ls.calendars),editType:"calc",dflt:"gregorian"},Sl=function(Gu,vu,hu,Yl){var $u={};return $u[hu]=yl,_t.coerce(Gu,vu,$u,hu,Yl)},Al=function(Gu,vu,hu,Yl){for(var $u=0;$u<hu.length;$u++)Sl(Gu,vu,hu[$u]+"calendar",Yl.calendar)},Et={chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},Pl={chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},El={chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},Fl="##",$l={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:Fl,w:Fl,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}};function Nl(Gu,vu,hu){for(var Yl=Math.floor((vu+.05)/Bn)+xl,$u=Ol(hu).fromJD(Yl),bu=0,Lu,Fu,Du,Hu,Vu;(bu=Gu.indexOf("%",bu))!==-1;)Lu=Gu.charAt(bu+1),Lu==="0"||Lu==="-"||Lu==="_"?(Du=3,Fu=Gu.charAt(bu+2),Lu==="_"&&(Lu="-")):(Fu=Lu,Lu="0",Du=2),Hu=$l[Fu],Hu?(Hu===Fl?Vu=Fl:Vu=$u.formatDate(Hu[Lu]),Gu=Gu.substr(0,bu)+Vu+Gu.substr(bu+Du),bu+=Vu.length):bu+=Du;return Gu}var Ll={};function Ol(Gu){var vu=Ll[Gu];return vu||(vu=Ll[Gu]=ls.instance(Gu),vu)}function Bl(Gu){return _t.extendFlat({},yl,{description:Gu})}function _l(Gu){return"Sets the calendar system to use with `"+Gu+"` date data."}var Rl={xcalendar:Bl(_l("x"))},Il=_t.extendFlat({},Rl,{ycalendar:Bl(_l("y"))}),Hl=_t.extendFlat({},Il,{zcalendar:Bl(_l("z"))}),Kl=Bl(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));yu.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:Il,bar:Il,box:Il,heatmap:Il,contour:Il,histogram:Il,histogram2d:Il,histogram2dcontour:Il,scatter3d:Hl,surface:Hl,mesh3d:Hl,scattergl:Il,ohlc:Rl,candlestick:Rl},layout:{calendar:Bl(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:Kl},yaxis:{calendar:Kl},scene:{xaxis:{calendar:Kl},yaxis:{calendar:Kl},zaxis:{calendar:Kl}},polar:{radialaxis:{calendar:Kl}}}},layoutAttributes:yl,handleDefaults:Sl,handleTraceDefaults:Al,CANONICAL_SUNDAY:Pl,CANONICAL_TICK:Et,DFLTRANGE:El,getCal:Ol,worldCalFmt:Nl}}),M4=a((Mu,yu)=>{yu.exports=k4()}),A4=a((Mu,yu)=>{var ls=Y1();ls.register([t4(),c4(),M4()]),yu.exports=ls});return A4()})();/*! Bundled license information:

	native-promise-only/lib/npo.src.js:
	  (*! Native Promise Only
	      v0.8.1 (c) Kyle Simpson
	      MIT License: http://getify.mit-license.org
	  *)

	polybooljs/index.js:
	  (*
	   * @copyright 2016 Sean Connelly (@voidqk), http://syntheti.cc
	   * @license MIT
	   * @preserve Project Home: https://github.com/voidqk/polybooljs
	   *)

	object-assign/index.js:
	  (*
	  object-assign
	  (c) Sindre Sorhus
	  @license MIT
	  *)
	*/return window.Plotly=o,o})})(plotlyBasic_min);var plotlyBasic_minExports=plotlyBasic_min.exports;const Plotly=getDefaultExportFromCjs(plotlyBasic_minExports);function wavelengthName(e){let o=e.slice(0,-1);return e.charAt(e.length-1)==="a"?o=o.concat(""):e.charAt(e.length-1)==="b"?o=o.concat(""):(console.log("wavelength name conversion failed!"),o=e),o}function makeArr(e,o,a){for(var c=[],d=(o-e)/(a-1),g=0;g<a;g++)c.push(e+d*g);return c}function gaussian(e,o,a,c){return e*Math.exp(-Math.pow((c-o)/a,2)/2)}function lorentz(e,o,a,c){return a*Math.pow(o,2)/(Math.pow(o,2)+Math.pow(c-e,2))}function gaussianBroadening(e,o,a,c){let d=e.slice(),g=a/2/Math.pow(2*Math.log(2),.5),b=new Array(c.length).fill(0);for(let _=0;_<o.length;_++){let $=2*o[_]*Math.sqrt(Math.log(2))/a/Math.sqrt(Math.PI);for(let j=0;j<c.length;j++)b[j]+=gaussian($,d[_],g,c[j])}return b}function lorentzianBroadening(e,o,a,c){let d=e.slice(),g=a/2,b=new Array(c.length).fill(0);for(let _=0;_<o.length;_++){let $=o[_]*2/a/Math.PI;for(let j=0;j<c.length;j++)b[j]+=lorentz(d[_],g,$,c[j])}return b}function doFitting(e,o,a){let c=e.peaks_positions,d=Math.min(o/5,.1),g=Math.round((e.angular_range[1]-e.angular_range[0])/d),b=makeArr(e.angular_range[0],e.angular_range[1],g),_=null;if(a==="Gaussian")_=gaussianBroadening(c,e.intensities,o,b);else if(a==="Lorentzian")_=lorentzianBroadening(c,e.intensities,o,b);else return console.log("Fit type not defined!"),null;return{x:b,curve:_}}const getFittedCurve=(e,o,a)=>{let c=doFitting(e,o,a);return{x:c.x,y:c.curve,type:"scatter",mode:"lines+points",marker:{color:"red",size:.5},line:{width:2},hoverinfo:"none"}},getHistogram=e=>({x:e.peaks_positions,y:e.intensities,text:e.hkls,type:"bar",hovertemplate:"hkl: <b>%{text}</b><extra></extra>",width:.7,marker:{color:"black",opacity:.6}}),XrdPlot=({xrdData:e})=>{const o=reactExports.useRef(null),a=Object.keys(e),[c,d]=reactExports.useState(a[0]),[g,b]=reactExports.useState("Gaussian"),[_,$]=reactExports.useState(1),[j,rt]=reactExports.useState(!0),[nt,st]=reactExports.useState(!0),jt=["Gaussian","Lorentzian"],wl=[];nt&&wl.push(getHistogram(e[c])),j&&wl.push(getFittedCurve(e[c],_,g));const Ft=e[c].angular_range.slice(),it=[0,null];return reactExports.useEffect(()=>{if(!o.current)return;const ot={showlegend:!1,xaxis:{range:Ft,title:"2 []",linecolor:"black",linewidth:1,tickwidth:1,tickcolor:"black",gridcolor:"lightgray",mirror:!0},yaxis:{range:it,title:"Intensity [a.u.]",linecolor:"black",linewidth:1,tickwidth:1,tickcolor:"black",gridcolor:"lightgray",mirror:!0},margin:{l:50,r:20,b:40,t:20}},Ln={responsive:!0};return Plotly.newPlot(o.current,wl,ot,Ln),()=>{Plotly.purge(o.current)}},[e,c,g,_,j,nt]),jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsxs(Row,{children:[jsxRuntimeExports$1.jsxs(Col,{style:{minWidth:"300px"},children:[jsxRuntimeExports$1.jsxs(Form$1,{children:[jsxRuntimeExports$1.jsx(Form$1.Label,{children:"Select the X-ray source"}),jsxRuntimeExports$1.jsx(Form$1.Select,{value:c,onChange:ot=>d(ot.target.value),children:a.map(ot=>jsxRuntimeExports$1.jsx("option",{value:ot,children:wavelengthName(ot)},ot))})]}),jsxRuntimeExports$1.jsxs(Form$1,{children:[jsxRuntimeExports$1.jsx(Form$1.Label,{children:"Select peak broadening profile"}),jsxRuntimeExports$1.jsx(Form$1.Select,{value:g,onChange:ot=>b(ot.target.value),children:jt.map(ot=>jsxRuntimeExports$1.jsx("option",{value:ot,children:ot},ot))})]}),jsxRuntimeExports$1.jsxs(Form$1,{children:[jsxRuntimeExports$1.jsxs(Form$1.Label,{children:["Select peak broadening FWHM (full width at half maximum)",jsxRuntimeExports$1.jsx("br",{})," value: ",_.toFixed(2)]}),jsxRuntimeExports$1.jsx(Form$1.Range,{min:.1,max:2,step:.05,value:_,onInput:ot=>$(parseFloat(ot.target.value))})]}),jsxRuntimeExports$1.jsxs(Form$1,{children:[jsxRuntimeExports$1.jsx(Form$1.Check,{checked:j,onChange:ot=>rt(ot.target.checked),label:"Show broadened curve"}),jsxRuntimeExports$1.jsx(Form$1.Check,{checked:nt,onChange:ot=>st(ot.target.checked),label:"Show histogram"})]})]}),jsxRuntimeExports$1.jsx(Col,{children:jsxRuntimeExports$1.jsx("div",{ref:o,style:{width:"100%",height:"100%",minHeight:"400px",minWidth:"300px"}})})]})})},XrdSection=e=>{const[o,a]=reactExports.useState(null),[c,d]=reactExports.useState(!1);reactExports.useEffect(()=>{loadXrd(e.params.method,e.params.id).then(b=>{b?(console.log("Loaded XRD data",b),a(b)):d(!0)})},[e.params.method,e.params.id]);let g="";return c?g="Not available for this material.":o==null?g=jsxRuntimeExports$1.jsx("div",{style:{width:"150px",padding:"40px",margin:"0 auto"},children:jsxRuntimeExports$1.jsx(xu,{})}):g=jsxRuntimeExports$1.jsx(XrdPlot,{xrdData:o}),jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("div",{className:"section-heading",children:"X-ray diffraction pattern"}),jsxRuntimeExports$1.jsx(Container,{fluid:!0,className:"section-container",children:jsxRuntimeExports$1.jsx(Row,{children:jsxRuntimeExports$1.jsx("div",{className:"xrd-section",children:g})})})]})};function TitledColumn({width:e,title:o,loading:a,condition:c,fallback:d,children:g,style:b={},className:_="",titleStyle:$={},titleClassName:j=""}){const rt=a?jsxRuntimeExports$1.jsx("div",{className:"flex justify-center items-center w-100 h-full",children:jsxRuntimeExports$1.jsx("div",{style:{maxWidth:"70px",width:"100%"},children:jsxRuntimeExports$1.jsx(xu,{})})}):c?g:d||null;return rt?jsxRuntimeExports$1.jsxs(Col,{md:e,className:`flex flex-col ${_}`,style:{minHeight:"300px",...b},children:[jsxRuntimeExports$1.jsxs("div",{className:`subsection-title w-100 mb-3 ${j}`,style:{marginBottom:"0.5rem",...$},children:[o||""," "]}),rt]}):null}function SuperconHeader({params:e,superconData:o}){return jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:[jsxRuntimeExports$1.jsxs("div",{className:"title-and-doi",style:{borderBottom:"1px solid grey",paddingBottom:"0.5rem",display:"flex",flexDirection:"column",alignItems:"flex-start",gap:"0.25rem"},children:[jsxRuntimeExports$1.jsx("span",{className:"title-span",children:"Superconductivity Estimation"}),jsxRuntimeExports$1.jsxs("div",{className:"doi-container",style:{display:"flex",alignItems:"center",gap:"0.5rem",marginLeft:"0.5rem"},children:[jsxRuntimeExports$1.jsx(CitationsList,{citationLabels:["MBercxSupercon25"]}),jsxRuntimeExports$1.jsx(wu,{doi_id:"9w-az",label:"Data DOI"})]})]}),jsxRuntimeExports$1.jsxs("div",{className:"alert alert-warning",style:{margin:"10px 10px 5px 10px"},role:"alert",children:["This contribution re-relaxes the structure with a different methodology. To see this structure, explore the AiiDA provenance"," ",(o==null?void 0:o.a2f_uuid)&&jsxRuntimeExports$1.jsx(Ou,{explore_url:EXPLORE_URLS[e.method]+"-supercon",uuid:o.structure_uuid})]}),jsxRuntimeExports$1.jsxs("div",{style:{padding:"10px 10px"},children:["This dataset provides results from a high-throughput search for phonon-mediated superconductivity, where electronphonon interactions and critical temperatures were systematically computed to identify and characterize promising superconducting materials. This frontend section contains the final superconductivity estimation results, as well as the intermediate electronic and vibrational calculated properties. For further details regarding the methodology see the"," ",jsxRuntimeExports$1.jsx("a",{href:"./#/contributions",target:"_blank",rel:"noopener noreferrer",children:"contribution details"}),"."]})]})}const TwoWideInfoBox=({childrenLeft:e,childrenRight:o,style:a=null})=>jsxRuntimeExports$1.jsx("div",{style:a,children:jsxRuntimeExports$1.jsxs("div",{className:"two-wide-container subsection-shadow overflow-auto rounded",children:[jsxRuntimeExports$1.jsx("div",{className:"info-col",children:e}),jsxRuntimeExports$1.jsx("div",{className:"info-col",children:o})]})}),omegaLogLabel=jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["",jsxRuntimeExports$1.jsx("sub",{children:"log"}),jsxRuntimeExports$1.jsx("span",{style:{marginLeft:"0.10em"}})]}),TcLabel=jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["T",jsxRuntimeExports$1.jsx("sub",{children:"c"}),jsxRuntimeExports$1.jsx("span",{style:{marginLeft:"0.10em"}})]});function formatIfExists(e,{decimals:o=3,format:a=d=>d,fallback:c=void 0}={}){if(typeof e=="number"&&!isNaN(e)){const d=Number(e.toFixed(o));return a(d)}else{if(Array.isArray(e))return a(e.join("  "));if(e!=null)return a(e)}return c}function SuperconInfoBox({superconData:e,style:o={}}){var b,_;const a=[{key:"Space group number",value:formatIfExists(e.space_group_number,{format:$=>`${$}`,fallback:"Unknown Spacegroup"})},{key:"Total energy",value:formatIfExists(e.total_energy,{format:$=>`${$} eV`,fallback:"Unknown Total energy"})},{key:"Cell volume",value:formatIfExists(e.cell_volume,{format:$=>`${$} `,fallback:"Unknown Spacegroup"})},{key:"Fermi energy",value:formatIfExists(e.fermi_energy_coarse,{format:$=>`${$} eV`})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["",jsxRuntimeExports$1.jsx("sup",{children:"max"})]}),value:formatIfExists(e.highest_phonon_frequency,{format:$=>`${$} meV`})}],c=[{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["E",jsxRuntimeExports$1.jsx("sub",{children:"cut"})]}),value:formatIfExists(e.ecut,{format:$=>`${($/13.605703976).toFixed(0)} Ry`,fallback:"No data"})},{key:"Smearing",value:formatIfExists(e.scf_smearing,{format:$=>`${$} eV`,fallback:"No data"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["DFPT ",jsxRuntimeExports$1.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(e.kpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No DFPT kgrid data"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["DFPT ",jsxRuntimeExports$1.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(e.qpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No DFPT qgrid data"})}],d=[{key:"Type of anisotropy",value:formatIfExists(e.type,{format:$=>`${$}`})},{key:"Number of Wannier functions",value:formatIfExists(e.number_of_wannier_functions,{format:$=>`${$}`})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Coarse ",jsxRuntimeExports$1.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(e.kpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No EPW coarse kgriddata"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Coarse ",jsxRuntimeExports$1.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(e.qpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No EPW coarse qgriddata"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Fine ",jsxRuntimeExports$1.jsx("b",{children:"k"}),"-grid"]}),value:formatIfExists(e.kfpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No EPW fine kgriddata"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Fine ",jsxRuntimeExports$1.jsx("b",{children:"q"}),"-grid"]}),value:formatIfExists(e.qfpoints_mesh,{format:$=>Array.isArray($)?$.join("  "):`${$}`,fallback:"No EPW fine qgriddata"})},{key:"Smearing-q",value:formatIfExists(e.smearing_q,{format:$=>`${$} meV`,fallback:"No data"})},{key:"Fermi window",value:formatIfExists(e.fermi_window,{format:$=>`${$} eV`,fallback:"No data"})}],g=[{key:omegaLogLabel,value:formatIfExists(e.omega_log,{format:$=>`${$} meV`,fallback:"Not calculated"})},{key:"",value:formatIfExists(e.lambda,{format:$=>`${$}`,fallback:"Not calculated"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Allen-Dynes ",TcLabel]}),value:formatIfExists(e.allen_dynes_tc,{format:$=>`${$} K`,fallback:"Not calculated"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Isotropic ",TcLabel]}),value:formatIfExists(e.iso_tc,{format:$=>`${$} K`,fallback:"Not superconducting"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["",jsxRuntimeExports$1.jsxs("sub",{children:["n",jsxRuntimeExports$1.jsx("b",{children:"k"})]}),"(0)"]}),value:formatIfExists((b=e.aniso_info)==null?void 0:b.delta0,{format:$=>`${$} K`,fallback:"No nk Data"})},{key:jsxRuntimeExports$1.jsxs(jsxRuntimeExports$1.Fragment,{children:["Anisotropic ",TcLabel]}),value:formatIfExists((_=e.aniso_info)==null?void 0:_.Tc,{format:$=>`${$} K`,fallback:"Not superconducting"})}];return jsxRuntimeExports$1.jsx(TwoWideInfoBox,{style:o,childrenLeft:jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"General properties"}),jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:a.filter($=>$.value!==void 0).map(($,j)=>jsxRuntimeExports$1.jsxs("li",{children:[$.key,": ",$.value]},j))}),jsxRuntimeExports$1.jsx("b",{children:"Superconducting properties"}),jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:g.filter($=>$.value!==void 0).map(($,j)=>jsxRuntimeExports$1.jsxs("li",{children:[$.key,": ",$.value]},j))})]}),childrenRight:jsxRuntimeExports$1.jsxs("div",{children:[jsxRuntimeExports$1.jsx("b",{children:"DFT calculation details "}),jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:c.filter($=>$.value!==void 0).map(($,j)=>jsxRuntimeExports$1.jsxs("li",{children:[$.key,": ",$.value]},j))}),jsxRuntimeExports$1.jsx("b",{children:"EPW calculation details"}),jsxRuntimeExports$1.jsx("ul",{className:"no-bullets",children:d.filter($=>$.value!==void 0).map(($,j)=>jsxRuntimeExports$1.jsxs("li",{children:[$.key,": ",$.value]},j))})]})})}const GAP_TRACE_CONFIG={color:"#d62728"},GAP_LAYOUT_CONFIG={xaxis:{title:{text:"T [K]",font:{size:15,color:"#111"}},tickfont:{size:14},showgrid:!1,zeroline:!1,showline:!1,ticks:"inside",rangemode:"nonnegative"},yaxis:{title:{text:"<sub>n<b>k</b></sub>(T) [meV]",font:{size:15,color:"#111"}},tickfont:{size:14},showgrid:!1,zeroline:!1,showline:!1,ticks:"inside",rangemode:"nonnegative"},legend:{visible:!1},margin:{t:10,b:50,l:52,r:0},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]};function createAnalyticGapTrace(e,o,a,c=200,d="Analytical (T)"){const g=Array.from({length:c},(_,$)=>$*a/(c-1)),b=g.map(_=>e*Math.sqrt(1-Math.pow(_/a,o)));return{x:g,y:b,name:d,type:"scatter",mode:"lines",hovertemplate:"<b>Value of the fit of BCS gap at %{x:.2f}K:</b> %{y:.3f}<extra></extra>",line:{color:"#b22222",dash:"dash"}}}function GapFunction({gapfuncData:e,Tc:o,verts:a,points:c,delta0:d,expo:g,resolution:b=1e3,minXVal:_=0,maxXVal:$=null,minYVal:j=null,maxYVal:rt=0}){const nt=reactExports.useRef(null);return reactExports.useEffect(()=>{if(!e||!nt.current)return;const st=nt.current,jt=a??[],wl=Object.entries(e).filter(([Ln])=>Array.isArray(Ln)).map(([Ln])=>{const Cl=Ln.map(([Ml])=>Ml),Tl=Ln.map(([Ml])=>Ml),{leftVerts:zl,distances:In}=Cl.reduce((Ml,Dl)=>{const Ul=jt.filter(Vl=>Vl<=Dl);if(!Ul.length)Ml.leftVerts.push(null),Ml.distances.push(null);else{const Vl=Math.max(...Ul);Ml.leftVerts.push(Vl),Ml.distances.push(Dl-Vl)}return Ml},{leftVerts:[],distances:[]});return{x:Cl,y:Tl,customdata:In,text:zl,type:"scatter",mode:"lines",line:{color:GAP_TRACE_CONFIG.color},hovertemplate:"<b>Histogram of <sub>nk</sub>(%{text:.1f}K) at %{y:.2f} meV:</b> %{customdata:.2f} <extra></extra>"}}),Ft=(a||[]).map((Ln,Cl)=>({x:[Ln],y:[(c||[])[Cl]],name:`point ${Cl}`,type:"scatter",mode:"markers",hovertemplate:"<b>Weighted average at %{x:.0f}K:</b> %{y:.3f}<extra></extra>",marker:{color:GAP_TRACE_CONFIG.color,size:12}}));wl.push(...Ft);const it=createAnalyticGapTrace(d,g,o,b);wl.push(it);let ot={...GAP_LAYOUT_CONFIG,xaxis:{...GAP_LAYOUT_CONFIG.xaxis,range:_!=null&&$!=null?[_,$]:void 0},yaxis:{...GAP_LAYOUT_CONFIG.yaxis,range:j!=null&&rt!=null?[j,rt]:void 0},shapes:[...GAP_LAYOUT_CONFIG.shapes||[],...jt.map(Ln=>({type:"line",x0:Ln,x1:Ln,y0:0,y1:1,yref:"paper",line:{color:"#111",width:1.25},layer:"below"}))]};return Plotly.newPlot(st,wl,ot,{responsive:!0}),()=>Plotly.purge(st)},[e]),jsxRuntimeExports$1.jsx("div",{ref:nt,style:{width:"100%",height:"350px"}})}const A2F_TRACE_CONFIG={color:"#d62728",dash:"solid",label:"<sup>2</sup>F()",hoverlabel:"Eliashberg spectral function",lineWidth:1.75,xaxis:"x2",yaxis:"y2"},A2F_CUMULATIVE_CONFIG={color:"#111",dash:"solid",label:"()",hoverlabel:"Cumulative electron-phonon coupling strength",lineWidth:1.75,xaxis:"x3",yaxis:"y2"};function getA2FTraces({a2f:e,frequency:o,degaussq:a,selectedDegaussIndex:c=-1}){if(!e||!o||!a||a.length===0)return[];const d=c<0?a.length-1:c,g={x:e.map(rt=>rt[d]),y:o,type:"scatter",mode:"lines",name:A2F_TRACE_CONFIG.label,hovertemplate:`<b>${A2F_TRACE_CONFIG.hoverlabel} at %{y:.2f} meV:</b> %{y:.3f} <br><extra></extra>`,line:{color:A2F_TRACE_CONFIG.color,dash:A2F_TRACE_CONFIG.dash,width:A2F_TRACE_CONFIG.lineWidth},xaxis:A2F_TRACE_CONFIG.xaxis,yaxis:A2F_TRACE_CONFIG.yaxis},b=o[1]-o[0];let _=0;const j={x:o.map((rt,nt)=>{const st=e[nt][d];return _+=2*st/rt*b,_}),y:o,type:"scatter",mode:"lines",name:A2F_CUMULATIVE_CONFIG.label,label:`${A2F_CUMULATIVE_CONFIG.label}`,hovertemplate:`<b>${A2F_CUMULATIVE_CONFIG.hoverlabel} at %{y:.2f} meV:</b> %{x:.3f}<br><extra></extra>`,line:{color:A2F_CUMULATIVE_CONFIG.color,dash:A2F_CUMULATIVE_CONFIG.dash,width:A2F_CUMULATIVE_CONFIG.lineWidth},xaxis:A2F_CUMULATIVE_CONFIG.xaxis,yaxis:A2F_CUMULATIVE_CONFIG.yaxis};return[g,j]}function transpose(e){const o=e.length,a=e[0].length,c=new Array(a);for(let d=0;d<a;d++){c[d]=new Array(o);for(let g=0;g<o;g++)c[d][g]=e[g][d]}return c}const baseColors=["#636EFA","#EF553B","#00CC96","#AB63FA","#FFA15A","#19D3F3","#FF6692","#B6E880","#FF97FF","#FECB52"];function getColor(e){return e<baseColors.length?baseColors[e]:`hsl(${e*47%360}, 70%, 50%)`}function mergeLegendTracesByName(e){const o=new Set;return e.map(c=>{const d=c.name||"",g=!o.has(d);return g&&o.add(d),{...c,legendgroup:d,showlegend:g}})}function getXYData(e){const o=[],a=[];let c=null;return e.paths.forEach((d,g)=>{const b=d.x,_=d.values;g>0&&(o.push(null),a.forEach($=>$.push(null))),b.forEach(($,j)=>{$===c&&(o.push(null),a.forEach(rt=>rt.push(null))),o.push($),c=$,_.forEach((rt,nt)=>{a[nt]||(a[nt]=[]),a[nt].push(rt[j])})})}),{xs:o,ys:a}}function prettifyLabels(e){const o={GAMMA:"",DELTA:"",SIGMA:"",LAMBDA:""};Object.keys(o).forEach(c=>{const d=new RegExp(c,"gi");e=e.replace(d,o[c])}),e=e.replace(/\bG\b/g,""),e=e.replace(/-/g,"");const a={0:"",1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:""};return e=e.replace(/_(.)/g,(c,d)=>a[d]||c),e}function getXLabelPos(e=td.paths){const o=[0];for(const a of e)a.x.length<3||o.push(a.x[a.x.length-1]);return o}function getXLabelsfromkpath(e){const o=e.flat(),a=[];a.push(o[0]);for(let c=1;c<o.length-1;c++)o[c]===o[c+1]?(a.push(o[c]),c++):(a.push(o[c]+"|"+o[c+1]),c++);return a.push(o[o.length-1]),a}function getXYRangeForAxis(e,o="x",a="y"){let c=1/0,d=-1/0,g=1/0,b=-1/0;for(const _ of e){const $=_.xaxis===o||!_.xaxis&&o==="x",j=_.yaxis===a||!_.yaxis&&a==="y";if(!(!$||!j)){for(const rt of _.x??[])typeof rt=="number"&&(c=Math.min(c,rt),d=Math.max(d,rt));for(const rt of _.y??[])typeof rt=="number"&&(g=Math.min(g,rt),b=Math.max(b,rt))}}return{x:c===1/0?null:[c,d],y:g===1/0?null:[g,b]}}function createFermiLine(e,o,a,c={}){return{x:e,y:o,mode:"lines",type:"scatter",name:`Fermi [${a}eV]`,legendgroup:`fermi-${a}`,showlegend:c.showlegend??!0,line:{color:"green",width:1.25,dash:"dash"},...c}}function addfermiLines(e,o,a,c){const d=[...o];if(a&&!c){const{y:g}=getXYRangeForAxis(o);for(const b of e)d.push(createFermiLine([b,b],[g[0],g[1]],b))}else if(c&&!a){const{x:g}=getXYRangeForAxis(o);for(const b of e)d.push(createFermiLine([g[0],g[1]],[b,b],b))}else if(c&&a){const{x:g}=getXYRangeForAxis(o,"x2","y"),{x:b}=getXYRangeForAxis(o,"x","y");for(const _ of e)d.push(createFermiLine([b[0],b[1]],[_,_],_)),d.push(createFermiLine([g[0],g[1]],[_,_],_,{showlegend:!1,xaxis:"x2",yaxis:"y"}))}return d}var isMergeableObject=function e(o){return isNonNullObject(o)&&!isSpecial(o)};function isNonNullObject(e){return!!e&&typeof e=="object"}function isSpecial(e){var o=Object.prototype.toString.call(e);return o==="[object RegExp]"||o==="[object Date]"||isReactElement(e)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(e){return e.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(e){return Array.isArray(e)?[]:{}}function cloneUnlessOtherwiseSpecified(e,o){return o.clone!==!1&&o.isMergeableObject(e)?deepmerge(emptyTarget(e),e,o):e}function defaultArrayMerge(e,o,a){return e.concat(o).map(function(c){return cloneUnlessOtherwiseSpecified(c,a)})}function getMergeFunction(e,o){if(!o.customMerge)return deepmerge;var a=o.customMerge(e);return typeof a=="function"?a:deepmerge}function getEnumerableOwnPropertySymbols(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(o){return Object.propertyIsEnumerable.call(e,o)}):[]}function getKeys(e){return Object.keys(e).concat(getEnumerableOwnPropertySymbols(e))}function propertyIsOnObject(e,o){try{return o in e}catch{return!1}}function propertyIsUnsafe(e,o){return propertyIsOnObject(e,o)&&!(Object.hasOwnProperty.call(e,o)&&Object.propertyIsEnumerable.call(e,o))}function mergeObject(e,o,a){var c={};return a.isMergeableObject(e)&&getKeys(e).forEach(function(d){c[d]=cloneUnlessOtherwiseSpecified(e[d],a)}),getKeys(o).forEach(function(d){propertyIsUnsafe(e,d)||(propertyIsOnObject(e,d)&&a.isMergeableObject(o[d])?c[d]=getMergeFunction(d,a)(e[d],o[d],a):c[d]=cloneUnlessOtherwiseSpecified(o[d],a))}),c}function deepmerge(e,o,a){a=a||{},a.arrayMerge=a.arrayMerge||defaultArrayMerge,a.isMergeableObject=a.isMergeableObject||isMergeableObject,a.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var c=Array.isArray(o),d=Array.isArray(e),g=c===d;return g?c?a.arrayMerge(e,o,a):mergeObject(e,o,a):cloneUnlessOtherwiseSpecified(o,a)}deepmerge.all=function e(o,a){if(!Array.isArray(o))throw new Error("first argument should be an array");return o.reduce(function(c,d){return deepmerge(c,d,a)},{})};var deepmerge_1=deepmerge,cjs$2=deepmerge_1;const deepmerge$1=getDefaultExportFromCjs(cjs$2),plotLayoutDefault={title:"Multi Trace Plot with border",hovermode:"closest",uirevision:!0,shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:2},layer:"above"}],margin:{l:55,r:10,t:10,b:45},dragmode:"zoom",xaxis:{title:{text:"x-axis",font:{size:18,color:"#212529"}},showgrid:!0,showline:!1,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"y-axis",font:{size:19,color:"#212529"}},showgrid:!0,zeroline:!1,showline:!1,ticks:"inside",color:"#212529",tickfont:{color:"#212529",size:19}},legend:{x:1.01,y:1,xanchor:"left",yanchor:"top",orientation:"v"}},plotBandLayout=deepmerge$1(plotLayoutDefault,{title:"BSPlot",xaxis:{title:{text:"K-path",font:{size:18,color:"#212529"}},showgrid:!0,showline:!1,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Energy [eV]",font:{size:19,color:"#212529"}},showgrid:!0,zeroline:!1,showline:!1,ticks:"inside",color:"#212529",tickfont:{color:"#212529",size:19}}}),plotDOSLayout=deepmerge$1(plotLayoutDefault,{title:"DOSPlot",xaxis:{title:{text:"Energy [eV]",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Density of States",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}}}),plotDOSLayoutF=deepmerge$1(plotLayoutDefault,{title:"DOSPlot",xaxis:{title:{text:"Density of States",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}},yaxis:{title:{text:"Energy [eV]",font:{size:18,color:"#212529"}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"}}}),plotCombinedLayout={shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:.7,y1:1,line:{color:"black",width:2},layer:"above"},{type:"rect",xref:"paper",yref:"paper",x0:.73,y0:0,x1:1,y1:1,line:{color:"black",width:2},layer:"above"}],grid:{rows:1,columns:2,pattern:"independent"},xaxis:{domain:[0,.7],autorange:!0},xaxis2:{title:{text:"Energy [eV]",font:{size:18}},showgrid:!0,zeroline:!1,ticks:"inside",tickfont:{size:16,color:"#212529"},domain:[.73,1],autorange:!0,showgrid:!0},yaxis:{autorange:!0},margin:{l:60,r:30,b:40,t:40},showlegend:!0,legend:{}},traceDefaultBands={mode:"lines",dash:"solid",line:{color:"rgba(90, 60, 255, 0.85)",width:1},name:"Band Structure"},traceDefaultDos={name:"DOS",legendgroup:"DOS",showlegend:!0,type:"scatter",mode:"lines",dash:"dash",line:{color:"rgba(90, 60, 255, 0.85)",width:2},fill:"toself"};function getBandTraces(e,o,a={}){const c=[];return o.forEach((d,g)=>{c.push({name:a.name,legendgroup:a.name,showlegend:g===0,...traceDefaultBands,...a,x:e,y:d})}),c}function getBandLayout(e=[],o=[]){return deepmerge$1.all([plotBandLayout,{xaxis:{tickvals:o,ticktext:e},yaxis:{}}])}function getBandStructure(e){const a=getXLabelsfromkpath(e[0].bandsData.path).map(prettifyLabels),c=getXLabelPos(e[0].bandsData.paths),d=getBandLayout(a,c);let g=[];for(const[b,_]of e.entries()){let $=_.traceFormat;(!$||Object.keys($).length===0)&&($={name:`Band Structure ${b}`,line:{color:getColor(b),width:1}});const j=_.bandsData,{xs:rt,ys:nt}=getXYData(j),st=getBandTraces(rt,nt,$);g.push(...st)}return{bandTraces:g,bandLayout:d}}function getDosLayout(e="h"){let o;return e==="v"?o=plotDOSLayoutF:o=plotDOSLayout,o}function getDosTraces(e,o="h",a={}){const c=o==="v"?e.y:e.x,d=o==="v"?e.x:e.y;return{...traceDefaultDos,...a,x:c,y:d}}function getDos(e,o="h"){const a=[];for(const[d,g]of e.entries()){let b=g.traceFormat;(!b||Object.keys(b).length===0)&&(b={name:`DOS ${d}`,line:{color:getColor(d),width:2}});const _=g.dosData,$=getDosTraces(_,o,b);a.push($)}const c=getDosLayout(o);return{dosTraces:a,dosLayout:c}}function getProjectionTraces(e,o,a,c={},d=1){const g=transpose(a),b=transpose(o),_=[];return b.forEach(($,j)=>{const rt=g[j],nt=new Float64Array($.length),st=new Float64Array($.length);for(let it=0;it<$.length;it++){const ot=rt[it]*d;nt[it]=$[it]+ot,st[it]=$[it]-ot}const jt=e.length,wl=new Float32Array(jt*2),Ft=new Float32Array(jt*2);for(let it=0;it<jt;it++)wl[it]=e[it],Ft[it]=st[it],wl[2*jt-1-it]=e[it],Ft[2*jt-1-it]=nt[it];_.push({name:c.name,legendgroup:c.name,type:"scatter",mode:"lines",fill:"toself",...c,showlegend:j===0,x:wl,y:Ft})}),_}function handleSettings(e,o){for(const a in e)e[a]!==null&&typeof e[a]=="object"&&!Array.isArray(e[a])&&o[a]&&typeof o[a]=="object"&&!Array.isArray(o[a])?o[a]=deepmerge$1(o[a],e[a]):o[a]=e[a]}function BandsVisualiser(e,{bandsDataArray:o=[],dosDataArray:a=[],fermiLevels:c=[],customTraces:d=[],settings:g={}}){let b=[],_={},$=[],j=[],rt={};typeof c=="number"&&(c=[c]);const nt=o.length>0,st=a.length>0;if(nt){const it=getBandStructure(o);b=it.bandTraces,_=it.bandLayout;for(const[ot,Ln]of o.entries())if(Ln.hasOwnProperty("projections"))for(const[Cl,Tl]of Ln.projections.entries()){const zl=Tl.traceFormat&&Object.keys(Tl.traceFormat).length>0?Tl.traceFormat:{name:`Projection ${Cl}`,line:{color:getColor(Cl),width:0}};$.push(...getProjectionTraces(Ln.bandsData.x,Ln.bandsData.y,Tl.projData.weights,zl))}}if(st){const ot=getDos(a,nt?"v":"h");j=ot.dosTraces,rt=ot.dosLayout}let jt={},wl=[];if(st&&!nt)wl=j,jt={...rt,showlegend:(rt==null?void 0:rt.showlegend)??!0};else if(nt&&!st)wl=[...b,...$],jt={..._,showlegend:(_==null?void 0:_.showlegend)??!0};else if(st&&nt){j=j.map(ot=>({...ot,xaxis:"x2",yaxis:"y"}));const it=mergeLegendTracesByName([...$,...j]);wl=[...b,...it],jt={...plotCombinedLayout,xaxis:{...plotCombinedLayout.xaxis||{},...(_==null?void 0:_.xaxis)||{}},xaxis2:{...plotCombinedLayout.xaxis2||{},...(rt==null?void 0:rt.xaxis2)||{}},yaxis:{...plotCombinedLayout.yaxis||{},...(_==null?void 0:_.yaxis)||{},...(rt==null?void 0:rt.yaxis)||{}}}}for(const it of d)console.log(it),it.target==="dos"?wl.push({...it,xaxis:"x2",yaxis:"y"}):it.target==="bands"?wl.push({...it,xaxis:"x",yaxis:"y"}):wl.push({...it});const Ft=addfermiLines(c,wl,st,nt);handleSettings(g,jt),Plotly.react(e,Ft,jt,{displaylogo:!1,responsive:!0})}function BandStructure({bandsDataArray:e,dosDataArray:o=void 0,customTraces:a=[],minYval:c=null,maxYval:d=null,layoutOverrides:g=null}){const b=reactExports.useRef(null),_=reactExports.useMemo(()=>{const $={...g??{}};return c!=null&&d!=null&&($.yaxis={...$.yaxis??{},range:[c,d]}),$},[g,c,d]);return c!=null&&d!=null&&(_.yaxis={..._.yaxis??{},range:[c,d]}),reactExports.useEffect(()=>{!b.current||!e||BandsVisualiser(b.current,{bandsDataArray:e,dosDataArray:o,customTraces:a,settings:_})},[e,o,a,_]),e?jsxRuntimeExports$1.jsx("div",{ref:b,style:{width:"100%",height:"450px"}}):jsxRuntimeExports$1.jsx("div",{className:"placeholder-wave d-flex align-items-center justify-content-center rounded bg-secondary",style:{height:"450px",width:"100%"},children:jsxRuntimeExports$1.jsx("span",{children:" Failed to render data for the visualiser "})})}const traceConfigs={electronicEPW:{label:"EPW",colors:["#d62728"],dash:"4px",width:1.75,opacity:1,units:"eV"},electronicQE:{label:"QE",colors:["#6baed6"],dash:"solid",width:2.25,opacity:.95,units:"eV"},phononEPW:{label:"EPW",colors:["#d62728"],dash:"solid",width:1.75,opacity:1,units:"eV",showlegend:!1},unknownEntry:{label:"Unknown Data 1",colors:["#2ca02c","#98df8a"],dash:"dot",units:"eV"}},COMMON_LAYOUT_CONFIG={yaxis:{showgrid:!1,showline:!1,ticks:"inside",tickfont:{size:14,color:"#333"},title:{font:{size:16,color:"#333"},standoff:10}},xaxis:{showgrid:!0,ticks:"inside",tickfont:{size:14,color:"#333"},title:{font:{size:16,color:"#333"}}},legend:{orientation:"v",y:.985,x:.985,xanchor:"right",font:{size:14,color:"#333"},bgcolor:"rgba(250, 250, 250, 1.0)",bordercolor:"#ccc",borderwidth:1},margin:{l:65,r:10,t:0,b:50},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]},SUPERCON_BANDS_LAYOUT_CONFIG={...COMMON_LAYOUT_CONFIG,yaxis:{...COMMON_LAYOUT_CONFIG.yaxis,title:{...COMMON_LAYOUT_CONFIG.yaxis.title,text:"Energy [eV]"}}},SUPERCON_PHONON_A2F_LAYOUT_CONFIG={...COMMON_LAYOUT_CONFIG,margin:{l:65,r:10,t:50,b:50},yaxis:{...COMMON_LAYOUT_CONFIG.yaxis,title:{...COMMON_LAYOUT_CONFIG.yaxis.title,text:"Energy [meV]"},autorange:!1,rangemode:"nonnegative"},yaxis2:{matches:"y",showticklabels:!1,ticks:"inside",showgrid:!1,rangemode:"nonnegative",autorange:!1,zeroline:!1},xaxis:{ticks:"inside",tickfont:{size:14,color:"#333"},title:{text:"q-path",font:{size:16,color:"#333"}}},xaxis2:{...COMMON_LAYOUT_CONFIG.xaxis,title:{...COMMON_LAYOUT_CONFIG.xaxis.title,text:"<sup>2</sup>F()"},showgrid:!1},xaxis3:{overlaying:"x2",side:"top",anchor:"y",title:{text:"()",font:{size:16}},showgrid:!1,tickfont:{size:15,color:"#333"},ticks:"inside",tickmode:"auto"},legend2:{orientation:"v",y:.1,x:.585,xanchor:"right",zorder:-100,opacity:0,bgcolor:"rgba(0, 0, 0, 0)"},shapes:[{type:"rect",xref:"paper",yref:"paper",x0:0,y0:0,x1:.7,y1:1,line:{color:"black",width:1.25},layer:"above"},{type:"rect",xref:"paper",yref:"paper",x0:.73,y0:0,x1:1,y1:1,line:{color:"black",width:1.25},layer:"above"}]};function shiftBands(e,o){e.paths.forEach(a=>{a.values.forEach(c=>{c.forEach((d,g,b)=>{b[g]+=o})})})}function normalizeBandsData(e){const o=e.map(d=>{var b;const g=(b=d.bandsData)==null?void 0:b.paths;return g?g.reduce((_,$)=>!$.x||$.x.length===0?_:_+($.x[$.x.length-1]-$.x[0]),0):0}),a=Math.max(...o);return e.map((d,g)=>{var rt;const b=(rt=d.bandsData)==null?void 0:rt.paths;if(!b)return d;const _=o[g];if(_===0)return d;const $=a/_,j=b.map(nt=>!nt.x||nt.x.length===0?nt:{...nt,x:nt.x.map(st=>st*$)});return{...d,bandsData:{...d.bandsData,paths:j}}})}function prepareSuperConBand(e,o=0,a="unknownEntry"){shiftBands(e,o);let c=traceConfigs[a],d={bandsData:e,traceFormat:{label:`${c.label}`,name:c.label,hovertemplate:`<b>${c.label}</b>: %{y:.3f} ${c.units}<br><extra></extra>`,mode:c.mode,line:{color:c.colors[0],dash:c.dash,width:c.width,opacity:c.opacity}}};return a=="phononEPW"&&(d={bandsData:e,traceFormat:{label:`${c.label}`,name:c.label,hovertemplate:`<b>${c.label}</b>: %{y:.3f} ${c.units}<br><extra></extra>`,mode:c.mode,line:{color:c.colors[0],dash:c.dash,width:c.width,opacity:c.opacity},showlegend:!1}}),d}function useAsyncData(e,o){const[a,c]=reactExports.useState(null),[d,g]=reactExports.useState(!1);return reactExports.useEffect(()=>{let b=!1;async function _(){g(!0);try{const $=await e();b||c($??null)}catch{b||c(null)}finally{b||g(!1)}}return _(),()=>{b=!0}},o),[a,d]}function safePrepareBands(e,o,a){return!e||typeof o!="number"?null:prepareSuperConBand(e,-o,a)}function SuperConductivity({params:e,loadedData:o}){var jt,wl,Ft,it,ot,Ln;const a=(jt=o==null?void 0:o.details)==null?void 0:jt.supercon,c=reactExports.useCallback(async()=>a.aniso_gap_function_uuid?loadXY(`${e.method}-supercon`,a.aniso_gap_function_uuid):null,[e.method]),[d,g]=useAsyncData(c,[c]),b=reactExports.useCallback(async()=>a.a2f_uuid?loadXY(`${e.method}-supercon`,a.a2f_uuid):null,[e.method]),[_]=useAsyncData(b,[b]),$=reactExports.useCallback(async()=>{const Cl=`${e.method}-supercon`,[Tl,zl,In]=await Promise.all([a.epw_el_band_structure_uuid?loadAiidaBands(Cl,a.epw_el_band_structure_uuid):null,a.qe_el_band_structure_uuid?loadAiidaBands(Cl,a.qe_el_band_structure_uuid):null,a.epw_ph_band_structure_uuid?loadAiidaBands(Cl,a.epw_ph_band_structure_uuid):null]),Ml=safePrepareBands(Tl,a.fermi_energy_coarse,"electronicEPW"),Dl=safePrepareBands(zl,a.fermi_energy_coarse,"electronicQE"),Ul=normalizeBandsData([Dl,Ml].filter(Boolean)),Vl=safePrepareBands(In,0,"phononEPW");return{el:Ul,ph:Vl?[Vl]:[]}},[e.method]),[j,rt]=useAsyncData($,[$]),nt=(j==null?void 0:j.el)??[],st=(j==null?void 0:j.ph)??[];return a?jsxRuntimeExports$1.jsx("div",{children:jsxRuntimeExports$1.jsxs(Container,{fluid:!0,className:"section-container",children:[jsxRuntimeExports$1.jsx(SuperconHeader,{params:e,superconData:a}),jsxRuntimeExports$1.jsxs(Row,{children:[jsxRuntimeExports$1.jsx(TitledColumn,{width:6,title:"",titleStyle:{marginTop:0},condition:a!=null,children:jsxRuntimeExports$1.jsx(SuperconInfoBox,{superconData:a,style:{marginTop:0}})}),jsxRuntimeExports$1.jsxs(TitledColumn,{width:6,title:"Electronic band structure",loading:rt,condition:nt.length>0,titleStyle:{marginTop:0},children:[jsxRuntimeExports$1.jsx("div",{style:{marginBottom:10,marginLeft:10},children:"Electronic band structure calculated with Quantum ESPRESSO (QE) and EPW."}),jsxRuntimeExports$1.jsx(BandStructure,{bandsDataArray:nt,loading:rt,minYval:-10.4,maxYval:10.8,layoutOverrides:SUPERCON_BANDS_LAYOUT_CONFIG})]})]}),jsxRuntimeExports$1.jsx(Row,{children:jsxRuntimeExports$1.jsxs(TitledColumn,{width:12,title:"Phonon bands and electron-phonon interaction",loading:rt,condition:st.length>0&&a.highest_phonon_frequency!=null,children:[jsxRuntimeExports$1.jsx("div",{style:{marginLeft:10},children:"Phonon band structure calculated with EPW, Eliashberg spectral function [F()], and electron-phonon coupling strength [()]."}),jsxRuntimeExports$1.jsx(BandStructure,{bandsDataArray:st,minYval:0,maxYval:a.highest_phonon_frequency!=null?Math.min(a.highest_phonon_frequency+2,100):100,dosDataArray:[{dosData:{x:[0],y:[0]},traceFormat:{name:"",legend:"legend2",showlegend:!1,opacity:0}}],loading:rt,layoutOverrides:SUPERCON_PHONON_A2F_LAYOUT_CONFIG,customTraces:getA2FTraces({a2f:_==null?void 0:_.a2f,frequency:_==null?void 0:_.frequency,degaussq:_==null?void 0:_.degaussq,lambda:_==null?void 0:_.lambda})})]})}),jsxRuntimeExports$1.jsx(Row,{children:jsxRuntimeExports$1.jsx(TitledColumn,{width:9,title:"Anisotropic superconducting gap function",condition:a.aniso_info!=null,loading:g,children:jsxRuntimeExports$1.jsx(GapFunction,{gapfuncData:d,verts:(wl=a.aniso_info)==null?void 0:wl.temps,points:(Ft=a.aniso_info)==null?void 0:Ft.average_deltas,delta0:(it=a.aniso_info)==null?void 0:it.delta0,Tc:(ot=a.aniso_info)==null?void 0:ot.Tc,expo:(Ln=a.aniso_info)==null?void 0:Ln.expo,minXVal:0,maxXVal:null,minYVal:0,maxYVal:null})})})]})}):jsxRuntimeExports$1.jsx("div",{className:"empty-supercon-div"})}function MissingDataWarning({params:e,navigate:o}){return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/develop/"},{name:`${e.id}/${e.method}`,link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsxs("div",{style:{textAlign:"center",marginTop:"5rem",marginBottom:"10rem"},children:[jsxRuntimeExports$1.jsx("div",{style:{color:"red",fontSize:"1.2rem",marginBottom:"2rem"},children:`Warning: Fetching of data failed, suggesting that ${e.id} has not been calculated with ${e.method}`}),jsxRuntimeExports$1.jsx(Button,{variant:"primary",onClick:()=>o("/"),children:"Return to MC3D homepage"})]})]})})}async function fetchCompoundData(e,o){var a;try{const[c,d]=await Promise.all([loadMetadata(e,o),loadDetails(e,o)]),g=(a=d==null?void 0:d.general)==null?void 0:a.structure_uuid;if(!g)throw new Error("Missing structure UUID");const[b,_]=await Promise.all([loadAiidaAttributes(e,g),loadAiidaCif(e,g)]);return{metadata:c,details:d,structureInfo:{aiidaAttributes:b,cif:_},missingStructureWarning:null}}catch{return{metadata:null,details:null,structureInfo:{aiidaAttributes:null,cif:null},missingStructureWarning:!0}}}function DetailPage(){const[e,o]=reactExports.useState(null),a=useNavigate(),c=useParams();if(reactExports.useEffect(()=>{o(null),fetchCompoundData(c.method,c.id).then(g=>{console.log("Loaded general data",g),o(g)})},[c.id,c.method]),e===null)return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/develop/"},{name:`${c.id}/${c.method}`,link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsx("div",{style:{width:"150px",padding:"40px",margin:"0 auto"},children:jsxRuntimeExports$1.jsx(xu,{})})]})});if(e!=null&&e.missingStructureWarning)return jsxRuntimeExports$1.jsx(MissingDataWarning,{params:c,navigate:a});const d=formatTitle(e.details.general.formula,c.id,c.method);return jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/develop/"},{name:`${c.id}/${c.method}`,link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),jsxRuntimeExports$1.jsx("div",{className:"detail-page-heading",children:d}),jsxRuntimeExports$1.jsx(OverviewSection,{params:c,loadedData:e}),jsxRuntimeExports$1.jsx(StructureSection,{params:c,loadedData:e}),jsxRuntimeExports$1.jsx(ProvenanceSection,{params:c,loadedData:e}),jsxRuntimeExports$1.jsx(XrdSection,{params:c,loadedData:e}),jsxRuntimeExports$1.jsx(SuperConductivity,{params:c,loadedData:e})]})})}function ok$1(){}function unreachable(){}function parse$2(e){const o=[],a=String(e||"");let c=a.indexOf(","),d=0,g=!1;for(;!g;){c===-1&&(c=a.length,g=!0);const b=a.slice(d,c).trim();(b||!g)&&o.push(b),d=c+1,c=a.indexOf(",",d)}return o}function stringify$1(e,o){const a={};return(e[e.length-1]===""?[...e,""]:e).join((a.padRight?" ":"")+","+(a.padLeft===!1?"":" ")).trim()}const nameRe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nameReJsx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,emptyOptions$5={};function name(e,o){return(emptyOptions$5.jsx?nameReJsx:nameRe).test(e)}const re=/[ \t\n\f\r]/g;function whitespace(e){return typeof e=="object"?e.type==="text"?empty$1(e.value):!1:empty$1(e)}function empty$1(e){return e.replace(re,"")===""}class Schema{constructor(o,a,c){this.normal=a,this.property=o,c&&(this.space=c)}}Schema.prototype.normal={};Schema.prototype.property={};Schema.prototype.space=void 0;function merge(e,o){const a={},c={};for(const d of e)Object.assign(a,d.property),Object.assign(c,d.normal);return new Schema(a,c,o)}function normalize$1(e){return e.toLowerCase()}class Info{constructor(o,a){this.attribute=a,this.property=o}}Info.prototype.attribute="";Info.prototype.booleanish=!1;Info.prototype.boolean=!1;Info.prototype.commaOrSpaceSeparated=!1;Info.prototype.commaSeparated=!1;Info.prototype.defined=!1;Info.prototype.mustUseProperty=!1;Info.prototype.number=!1;Info.prototype.overloadedBoolean=!1;Info.prototype.property="";Info.prototype.spaceSeparated=!1;Info.prototype.space=void 0;let powers=0;const boolean=increment(),booleanish=increment(),overloadedBoolean=increment(),number=increment(),spaceSeparated=increment(),commaSeparated=increment(),commaOrSpaceSeparated=increment();function increment(){return 2**++powers}const types=Object.freeze(Object.defineProperty({__proto__:null,boolean,booleanish,commaOrSpaceSeparated,commaSeparated,number,overloadedBoolean,spaceSeparated},Symbol.toStringTag,{value:"Module"})),checks=Object.keys(types);class DefinedInfo extends Info{constructor(o,a,c,d){let g=-1;if(super(o,a),mark(this,"space",d),typeof c=="number")for(;++g<checks.length;){const b=checks[g];mark(this,checks[g],(c&types[b])===types[b])}}}DefinedInfo.prototype.defined=!0;function mark(e,o,a){a&&(e[o]=a)}function create(e){const o={},a={};for(const[c,d]of Object.entries(e.properties)){const g=new DefinedInfo(c,e.transform(e.attributes||{},c),d,e.space);e.mustUseProperty&&e.mustUseProperty.includes(c)&&(g.mustUseProperty=!0),o[c]=g,a[normalize$1(c)]=c,a[normalize$1(g.attribute)]=c}return new Schema(o,a,e.space)}const aria=create({properties:{ariaActiveDescendant:null,ariaAtomic:booleanish,ariaAutoComplete:null,ariaBusy:booleanish,ariaChecked:booleanish,ariaColCount:number,ariaColIndex:number,ariaColSpan:number,ariaControls:spaceSeparated,ariaCurrent:null,ariaDescribedBy:spaceSeparated,ariaDetails:null,ariaDisabled:booleanish,ariaDropEffect:spaceSeparated,ariaErrorMessage:null,ariaExpanded:booleanish,ariaFlowTo:spaceSeparated,ariaGrabbed:booleanish,ariaHasPopup:null,ariaHidden:booleanish,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:spaceSeparated,ariaLevel:number,ariaLive:null,ariaModal:booleanish,ariaMultiLine:booleanish,ariaMultiSelectable:booleanish,ariaOrientation:null,ariaOwns:spaceSeparated,ariaPlaceholder:null,ariaPosInSet:number,ariaPressed:booleanish,ariaReadOnly:booleanish,ariaRelevant:null,ariaRequired:booleanish,ariaRoleDescription:spaceSeparated,ariaRowCount:number,ariaRowIndex:number,ariaRowSpan:number,ariaSelected:booleanish,ariaSetSize:number,ariaSort:null,ariaValueMax:number,ariaValueMin:number,ariaValueNow:number,ariaValueText:null,role:null},transform(e,o){return o==="role"?o:"aria-"+o.slice(4).toLowerCase()}});function caseSensitiveTransform(e,o){return o in e?e[o]:o}function caseInsensitiveTransform(e,o){return caseSensitiveTransform(e,o.toLowerCase())}const html$3=create({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:commaSeparated,acceptCharset:spaceSeparated,accessKey:spaceSeparated,action:null,allow:null,allowFullScreen:boolean,allowPaymentRequest:boolean,allowUserMedia:boolean,alt:null,as:null,async:boolean,autoCapitalize:null,autoComplete:spaceSeparated,autoFocus:boolean,autoPlay:boolean,blocking:spaceSeparated,capture:null,charSet:null,checked:boolean,cite:null,className:spaceSeparated,cols:number,colSpan:null,content:null,contentEditable:booleanish,controls:boolean,controlsList:spaceSeparated,coords:number|commaSeparated,crossOrigin:null,data:null,dateTime:null,decoding:null,default:boolean,defer:boolean,dir:null,dirName:null,disabled:boolean,download:overloadedBoolean,draggable:booleanish,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:boolean,formTarget:null,headers:spaceSeparated,height:number,hidden:overloadedBoolean,high:number,href:null,hrefLang:null,htmlFor:spaceSeparated,httpEquiv:spaceSeparated,id:null,imageSizes:null,imageSrcSet:null,inert:boolean,inputMode:null,integrity:null,is:null,isMap:boolean,itemId:null,itemProp:spaceSeparated,itemRef:spaceSeparated,itemScope:boolean,itemType:spaceSeparated,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:boolean,low:number,manifest:null,max:null,maxLength:number,media:null,method:null,min:null,minLength:number,multiple:boolean,muted:boolean,name:null,nonce:null,noModule:boolean,noValidate:boolean,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:boolean,optimum:number,pattern:null,ping:spaceSeparated,placeholder:null,playsInline:boolean,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:boolean,referrerPolicy:null,rel:spaceSeparated,required:boolean,reversed:boolean,rows:number,rowSpan:number,sandbox:spaceSeparated,scope:null,scoped:boolean,seamless:boolean,selected:boolean,shadowRootClonable:boolean,shadowRootDelegatesFocus:boolean,shadowRootMode:null,shape:null,size:number,sizes:null,slot:null,span:number,spellCheck:booleanish,src:null,srcDoc:null,srcLang:null,srcSet:null,start:number,step:null,style:null,tabIndex:number,target:null,title:null,translate:null,type:null,typeMustMatch:boolean,useMap:null,value:booleanish,width:number,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:spaceSeparated,axis:null,background:null,bgColor:null,border:number,borderColor:null,bottomMargin:number,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:boolean,declare:boolean,event:null,face:null,frame:null,frameBorder:null,hSpace:number,leftMargin:number,link:null,longDesc:null,lowSrc:null,marginHeight:number,marginWidth:number,noResize:boolean,noHref:boolean,noShade:boolean,noWrap:boolean,object:null,profile:null,prompt:null,rev:null,rightMargin:number,rules:null,scheme:null,scrolling:booleanish,standby:null,summary:null,text:null,topMargin:number,valueType:null,version:null,vAlign:null,vLink:null,vSpace:number,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:boolean,disableRemotePlayback:boolean,prefix:null,property:null,results:number,security:null,unselectable:null},space:"html",transform:caseInsensitiveTransform}),svg$1=create({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:commaOrSpaceSeparated,accentHeight:number,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:number,amplitude:number,arabicForm:null,ascent:number,attributeName:null,attributeType:null,azimuth:number,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:number,by:null,calcMode:null,capHeight:number,className:spaceSeparated,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:number,diffuseConstant:number,direction:null,display:null,dur:null,divisor:number,dominantBaseline:null,download:boolean,dx:null,dy:null,edgeMode:null,editable:null,elevation:number,enableBackground:null,end:null,event:null,exponent:number,externalResourcesRequired:null,fill:null,fillOpacity:number,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:commaSeparated,g2:commaSeparated,glyphName:commaSeparated,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:number,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:number,horizOriginX:number,horizOriginY:number,id:null,ideographic:number,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:number,k:number,k1:number,k2:number,k3:number,k4:number,kernelMatrix:commaOrSpaceSeparated,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:number,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:number,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:number,overlineThickness:number,paintOrder:null,panose1:null,path:null,pathLength:number,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:spaceSeparated,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:number,pointsAtY:number,pointsAtZ:number,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:commaOrSpaceSeparated,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:commaOrSpaceSeparated,rev:commaOrSpaceSeparated,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:commaOrSpaceSeparated,requiredFeatures:commaOrSpaceSeparated,requiredFonts:commaOrSpaceSeparated,requiredFormats:commaOrSpaceSeparated,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:number,specularExponent:number,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:number,strikethroughThickness:number,string:null,stroke:null,strokeDashArray:commaOrSpaceSeparated,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:number,strokeOpacity:number,strokeWidth:null,style:null,surfaceScale:number,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:commaOrSpaceSeparated,tabIndex:number,tableValues:null,target:null,targetX:number,targetY:number,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:commaOrSpaceSeparated,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:number,underlineThickness:number,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:number,values:null,vAlphabetic:number,vMathematical:number,vectorEffect:null,vHanging:number,vIdeographic:number,version:null,vertAdvY:number,vertOriginX:number,vertOriginY:number,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:number,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:caseSensitiveTransform}),xlink=create({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,o){return"xlink:"+o.slice(5).toLowerCase()}}),xmlns=create({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:caseInsensitiveTransform}),xml=create({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,o){return"xml:"+o.slice(3).toLowerCase()}}),hastToReact={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cap$1=/[A-Z]/g,dash=/-[a-z]/g,valid=/^data[-\w.:]+$/i;function find(e,o){const a=normalize$1(o);let c=o,d=Info;if(a in e.normal)return e.property[e.normal[a]];if(a.length>4&&a.slice(0,4)==="data"&&valid.test(o)){if(o.charAt(4)==="-"){const g=o.slice(5).replace(dash,camelcase);c="data"+g.charAt(0).toUpperCase()+g.slice(1)}else{const g=o.slice(4);if(!dash.test(g)){let b=g.replace(cap$1,kebab);b.charAt(0)!=="-"&&(b="-"+b),o="data"+b}}d=DefinedInfo}return new d(c,o)}function kebab(e){return"-"+e.toLowerCase()}function camelcase(e){return e.charAt(1).toUpperCase()}const html$2=merge([aria,html$3,xlink,xmlns,xml],"html"),svg=merge([aria,svg$1,xlink,xmlns,xml],"svg");function parse$1(e){const o=String(e||"").trim();return o?o.split(/[ \t\n\r\f]+/g):[]}function stringify(e){return e.join(" ").trim()}var cjs$1={},COMMENT_REGEX=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,NEWLINE_REGEX=/\n/g,WHITESPACE_REGEX=/^\s*/,PROPERTY_REGEX=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,COLON_REGEX=/^:\s*/,VALUE_REGEX=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,SEMICOLON_REGEX=/^[;\s]*/,TRIM_REGEX=/^\s+|\s+$/g,NEWLINE=`
`,FORWARD_SLASH="/",ASTERISK="*",EMPTY_STRING="",TYPE_COMMENT="comment",TYPE_DECLARATION="declaration",inlineStyleParser=function(e,o){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];o=o||{};var a=1,c=1;function d(wl){var Ft=wl.match(NEWLINE_REGEX);Ft&&(a+=Ft.length);var it=wl.lastIndexOf(NEWLINE);c=~it?wl.length-it:c+wl.length}function g(){var wl={line:a,column:c};return function(Ft){return Ft.position=new b(wl),j(),Ft}}function b(wl){this.start=wl,this.end={line:a,column:c},this.source=o.source}b.prototype.content=e;function _(wl){var Ft=new Error(o.source+":"+a+":"+c+": "+wl);if(Ft.reason=wl,Ft.filename=o.source,Ft.line=a,Ft.column=c,Ft.source=e,!o.silent)throw Ft}function $(wl){var Ft=wl.exec(e);if(Ft){var it=Ft[0];return d(it),e=e.slice(it.length),Ft}}function j(){$(WHITESPACE_REGEX)}function rt(wl){var Ft;for(wl=wl||[];Ft=nt();)Ft!==!1&&wl.push(Ft);return wl}function nt(){var wl=g();if(!(FORWARD_SLASH!=e.charAt(0)||ASTERISK!=e.charAt(1))){for(var Ft=2;EMPTY_STRING!=e.charAt(Ft)&&(ASTERISK!=e.charAt(Ft)||FORWARD_SLASH!=e.charAt(Ft+1));)++Ft;if(Ft+=2,EMPTY_STRING===e.charAt(Ft-1))return _("End of comment missing");var it=e.slice(2,Ft-2);return c+=2,d(it),e=e.slice(Ft),c+=2,wl({type:TYPE_COMMENT,comment:it})}}function st(){var wl=g(),Ft=$(PROPERTY_REGEX);if(Ft){if(nt(),!$(COLON_REGEX))return _("property missing ':'");var it=$(VALUE_REGEX),ot=wl({type:TYPE_DECLARATION,property:trim(Ft[0].replace(COMMENT_REGEX,EMPTY_STRING)),value:it?trim(it[0].replace(COMMENT_REGEX,EMPTY_STRING)):EMPTY_STRING});return $(SEMICOLON_REGEX),ot}}function jt(){var wl=[];rt(wl);for(var Ft;Ft=st();)Ft!==!1&&(wl.push(Ft),rt(wl));return wl}return j(),jt()};function trim(e){return e?e.replace(TRIM_REGEX,EMPTY_STRING):EMPTY_STRING}var __importDefault$1=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cjs$1,"__esModule",{value:!0});cjs$1.default=StyleToObject;var inline_style_parser_1=__importDefault$1(inlineStyleParser);function StyleToObject(e,o){var a=null;if(!e||typeof e!="string")return a;var c=(0,inline_style_parser_1.default)(e),d=typeof o=="function";return c.forEach(function(g){if(g.type==="declaration"){var b=g.property,_=g.value;d?o(b,_,g):_&&(a=a||{},a[b]=_)}}),a}var utilities={};Object.defineProperty(utilities,"__esModule",{value:!0});utilities.camelCase=void 0;var CUSTOM_PROPERTY_REGEX=/^--[a-zA-Z0-9_-]+$/,HYPHEN_REGEX=/-([a-z])/g,NO_HYPHEN_REGEX=/^[^-]+$/,VENDOR_PREFIX_REGEX=/^-(webkit|moz|ms|o|khtml)-/,MS_VENDOR_PREFIX_REGEX=/^-(ms)-/,skipCamelCase=function(e){return!e||NO_HYPHEN_REGEX.test(e)||CUSTOM_PROPERTY_REGEX.test(e)},capitalize=function(e,o){return o.toUpperCase()},trimHyphen=function(e,o){return"".concat(o,"-")},camelCase=function(e,o){return o===void 0&&(o={}),skipCamelCase(e)?e:(e=e.toLowerCase(),o.reactCompat?e=e.replace(MS_VENDOR_PREFIX_REGEX,trimHyphen):e=e.replace(VENDOR_PREFIX_REGEX,trimHyphen),e.replace(HYPHEN_REGEX,capitalize))};utilities.camelCase=camelCase;var __importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},style_to_object_1=__importDefault(cjs$1),utilities_1=utilities;function StyleToJS(e,o){var a={};return!e||typeof e!="string"||(0,style_to_object_1.default)(e,function(c,d){c&&d&&(a[(0,utilities_1.camelCase)(c,o)]=d)}),a}StyleToJS.default=StyleToJS;var cjs=StyleToJS;const styleToJs=getDefaultExportFromCjs(cjs),pointEnd=point$2("end"),pointStart=point$2("start");function point$2(e){return o;function o(a){const c=a&&a.position&&a.position[e]||{};if(typeof c.line=="number"&&c.line>0&&typeof c.column=="number"&&c.column>0)return{line:c.line,column:c.column,offset:typeof c.offset=="number"&&c.offset>-1?c.offset:void 0}}}function position$1(e){const o=pointStart(e),a=pointEnd(e);if(o&&a)return{start:o,end:a}}function stringifyPosition(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?position(e.position):"start"in e||"end"in e?position(e):"line"in e||"column"in e?point$1(e):""}function point$1(e){return index(e&&e.line)+":"+index(e&&e.column)}function position(e){return point$1(e&&e.start)+"-"+point$1(e&&e.end)}function index(e){return e&&typeof e=="number"?e:1}class VFileMessage extends Error{constructor(o,a,c){super(),typeof a=="string"&&(c=a,a=void 0);let d="",g={},b=!1;if(a&&("line"in a&&"column"in a?g={place:a}:"start"in a&&"end"in a?g={place:a}:"type"in a?g={ancestors:[a],place:a.position}:g={...a}),typeof o=="string"?d=o:!g.cause&&o&&(b=!0,d=o.message,g.cause=o),!g.ruleId&&!g.source&&typeof c=="string"){const $=c.indexOf(":");$===-1?g.ruleId=c:(g.source=c.slice(0,$),g.ruleId=c.slice($+1))}if(!g.place&&g.ancestors&&g.ancestors){const $=g.ancestors[g.ancestors.length-1];$&&(g.place=$.position)}const _=g.place&&"start"in g.place?g.place.start:g.place;this.ancestors=g.ancestors||void 0,this.cause=g.cause||void 0,this.column=_?_.column:void 0,this.fatal=void 0,this.file="",this.message=d,this.line=_?_.line:void 0,this.name=stringifyPosition(g.place)||"1:1",this.place=g.place||void 0,this.reason=this.message,this.ruleId=g.ruleId||void 0,this.source=g.source||void 0,this.stack=b&&g.cause&&typeof g.cause.stack=="string"?g.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}VFileMessage.prototype.file="";VFileMessage.prototype.name="";VFileMessage.prototype.reason="";VFileMessage.prototype.message="";VFileMessage.prototype.stack="";VFileMessage.prototype.column=void 0;VFileMessage.prototype.line=void 0;VFileMessage.prototype.ancestors=void 0;VFileMessage.prototype.cause=void 0;VFileMessage.prototype.fatal=void 0;VFileMessage.prototype.place=void 0;VFileMessage.prototype.ruleId=void 0;VFileMessage.prototype.source=void 0;const own$3={}.hasOwnProperty,emptyMap=new Map,cap=/[A-Z]/g,tableElements=new Set(["table","tbody","thead","tfoot","tr"]),tableCellElement=new Set(["td","th"]),docs="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function toJsxRuntime(e,o){if(!o||o.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const a=o.filePath||void 0;let c;if(o.development){if(typeof o.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");c=developmentCreate(a,o.jsxDEV)}else{if(typeof o.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof o.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");c=productionCreate(a,o.jsx,o.jsxs)}const d={Fragment:o.Fragment,ancestors:[],components:o.components||{},create:c,elementAttributeNameCase:o.elementAttributeNameCase||"react",evaluater:o.createEvaluater?o.createEvaluater():void 0,filePath:a,ignoreInvalidStyle:o.ignoreInvalidStyle||!1,passKeys:o.passKeys!==!1,passNode:o.passNode||!1,schema:o.space==="svg"?svg:html$2,stylePropertyNameCase:o.stylePropertyNameCase||"dom",tableCellAlignToStyle:o.tableCellAlignToStyle!==!1},g=one$2(d,e,void 0);return g&&typeof g!="string"?g:d.create(e,d.Fragment,{children:g||void 0},void 0)}function one$2(e,o,a){if(o.type==="element")return element$3(e,o,a);if(o.type==="mdxFlowExpression"||o.type==="mdxTextExpression")return mdxExpression(e,o);if(o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement")return mdxJsxElement(e,o,a);if(o.type==="mdxjsEsm")return mdxEsm(e,o);if(o.type==="root")return root$3(e,o,a);if(o.type==="text")return text$7(e,o)}function element$3(e,o,a){const c=e.schema;let d=c;o.tagName.toLowerCase()==="svg"&&c.space==="html"&&(d=svg,e.schema=d),e.ancestors.push(o);const g=findComponentFromName(e,o.tagName,!1),b=createElementProps(e,o);let _=createChildren(e,o);return tableElements.has(o.tagName)&&(_=_.filter(function($){return typeof $=="string"?!whitespace($):!0})),addNode(e,b,g,o),addChildren(b,_),e.ancestors.pop(),e.schema=c,e.create(o,g,b,a)}function mdxExpression(e,o){if(o.data&&o.data.estree&&e.evaluater){const c=o.data.estree.body[0];return c.type,e.evaluater.evaluateExpression(c.expression)}crashEstree(e,o.position)}function mdxEsm(e,o){if(o.data&&o.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(o.data.estree);crashEstree(e,o.position)}function mdxJsxElement(e,o,a){const c=e.schema;let d=c;o.name==="svg"&&c.space==="html"&&(d=svg,e.schema=d),e.ancestors.push(o);const g=o.name===null?e.Fragment:findComponentFromName(e,o.name,!0),b=createJsxElementProps(e,o),_=createChildren(e,o);return addNode(e,b,g,o),addChildren(b,_),e.ancestors.pop(),e.schema=c,e.create(o,g,b,a)}function root$3(e,o,a){const c={};return addChildren(c,createChildren(e,o)),e.create(o,e.Fragment,c,a)}function text$7(e,o){return o.value}function addNode(e,o,a,c){typeof a!="string"&&a!==e.Fragment&&e.passNode&&(o.node=c)}function addChildren(e,o){if(o.length>0){const a=o.length>1?o:o[0];a&&(e.children=a)}}function productionCreate(e,o,a){return c;function c(d,g,b,_){const j=Array.isArray(b.children)?a:o;return _?j(g,b,_):j(g,b)}}function developmentCreate(e,o){return a;function a(c,d,g,b){const _=Array.isArray(g.children),$=pointStart(c);return o(d,g,b,_,{columnNumber:$?$.column-1:void 0,fileName:e,lineNumber:$?$.line:void 0},void 0)}}function createElementProps(e,o){const a={};let c,d;for(d in o.properties)if(d!=="children"&&own$3.call(o.properties,d)){const g=createProperty(e,d,o.properties[d]);if(g){const[b,_]=g;e.tableCellAlignToStyle&&b==="align"&&typeof _=="string"&&tableCellElement.has(o.tagName)?c=_:a[b]=_}}if(c){const g=a.style||(a.style={});g[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=c}return a}function createJsxElementProps(e,o){const a={};for(const c of o.attributes)if(c.type==="mdxJsxExpressionAttribute")if(c.data&&c.data.estree&&e.evaluater){const g=c.data.estree.body[0];g.type;const b=g.expression;b.type;const _=b.properties[0];_.type,Object.assign(a,e.evaluater.evaluateExpression(_.argument))}else crashEstree(e,o.position);else{const d=c.name;let g;if(c.value&&typeof c.value=="object")if(c.value.data&&c.value.data.estree&&e.evaluater){const _=c.value.data.estree.body[0];_.type,g=e.evaluater.evaluateExpression(_.expression)}else crashEstree(e,o.position);else g=c.value===null?!0:c.value;a[d]=g}return a}function createChildren(e,o){const a=[];let c=-1;const d=e.passKeys?new Map:emptyMap;for(;++c<o.children.length;){const g=o.children[c];let b;if(e.passKeys){const $=g.type==="element"?g.tagName:g.type==="mdxJsxFlowElement"||g.type==="mdxJsxTextElement"?g.name:void 0;if($){const j=d.get($)||0;b=$+"-"+j,d.set($,j+1)}}const _=one$2(e,g,b);_!==void 0&&a.push(_)}return a}function createProperty(e,o,a){const c=find(e.schema,o);if(!(a==null||typeof a=="number"&&Number.isNaN(a))){if(Array.isArray(a)&&(a=c.commaSeparated?stringify$1(a):stringify(a)),c.property==="style"){let d=typeof a=="object"?a:parseStyle(e,String(a));return e.stylePropertyNameCase==="css"&&(d=transformStylesToCssCasing(d)),["style",d]}return[e.elementAttributeNameCase==="react"&&c.space?hastToReact[c.property]||c.property:c.attribute,a]}}function parseStyle(e,o){try{return styleToJs(o,{reactCompat:!0})}catch(a){if(e.ignoreInvalidStyle)return{};const c=a,d=new VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:c,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw d.file=e.filePath||void 0,d.url=docs+"#cannot-parse-style-attribute",d}}function findComponentFromName(e,o,a){let c;if(!a)c={type:"Literal",value:o};else if(o.includes(".")){const d=o.split(".");let g=-1,b;for(;++g<d.length;){const _=name(d[g])?{type:"Identifier",name:d[g]}:{type:"Literal",value:d[g]};b=b?{type:"MemberExpression",object:b,property:_,computed:!!(g&&_.type==="Literal"),optional:!1}:_}c=b}else c=name(o)&&!/^[a-z]/.test(o)?{type:"Identifier",name:o}:{type:"Literal",value:o};if(c.type==="Literal"){const d=c.value;return own$3.call(e.components,d)?e.components[d]:d}if(e.evaluater)return e.evaluater.evaluateExpression(c);crashEstree(e)}function crashEstree(e,o){const a=new VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:o,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=docs+"#cannot-handle-mdx-estrees-without-createevaluater",a}function transformStylesToCssCasing(e){const o={};let a;for(a in e)own$3.call(e,a)&&(o[transformStyleToCssCasing(a)]=e[a]);return o}function transformStyleToCssCasing(e){let o=e.replace(cap,toDash);return o.slice(0,3)==="ms-"&&(o="-"+o),o}function toDash(e){return"-"+e.toLowerCase()}const urlAttributes={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},emptyOptions$4={};function toString$1(e,o){const a=emptyOptions$4,c=typeof a.includeImageAlt=="boolean"?a.includeImageAlt:!0,d=typeof a.includeHtml=="boolean"?a.includeHtml:!0;return one$1(e,c,d)}function one$1(e,o,a){if(node(e)){if("value"in e)return e.type==="html"&&!a?"":e.value;if(o&&"alt"in e&&e.alt)return e.alt;if("children"in e)return all$1(e.children,o,a)}return Array.isArray(e)?all$1(e,o,a):""}function all$1(e,o,a){const c=[];let d=-1;for(;++d<e.length;)c[d]=one$1(e[d],o,a);return c.join("")}function node(e){return!!(e&&typeof e=="object")}const element$2=document.createElement("i");function decodeNamedCharacterReference(e){const o="&"+e+";";element$2.innerHTML=o;const a=element$2.textContent;return a.charCodeAt(a.length-1)===59&&e!=="semi"||a===o?!1:a}function splice$1(e,o,a,c){const d=e.length;let g=0,b;if(o<0?o=-o>d?0:d+o:o=o>d?d:o,a=a>0?a:0,c.length<1e4)b=Array.from(c),b.unshift(o,a),e.splice(...b);else for(a&&e.splice(o,a);g<c.length;)b=c.slice(g,g+1e4),b.unshift(o,0),e.splice(...b),g+=1e4,o+=1e4}function push(e,o){return e.length>0?(splice$1(e,e.length,0,o),e):o}const hasOwnProperty={}.hasOwnProperty;function combineExtensions(e){const o={};let a=-1;for(;++a<e.length;)syntaxExtension(o,e[a]);return o}function syntaxExtension(e,o){let a;for(a in o){const d=(hasOwnProperty.call(e,a)?e[a]:void 0)||(e[a]={}),g=o[a];let b;if(g)for(b in g){hasOwnProperty.call(d,b)||(d[b]=[]);const _=g[b];constructs(d[b],Array.isArray(_)?_:_?[_]:[])}}}function constructs(e,o){let a=-1;const c=[];for(;++a<o.length;)(o[a].add==="after"?e:c).push(o[a]);splice$1(e,0,0,c)}function decodeNumericCharacterReference$1(e,o){const a=Number.parseInt(e,o);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"":String.fromCodePoint(a)}function normalizeIdentifier$2(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const asciiAlpha=regexCheck(/[A-Za-z]/),asciiAlphanumeric=regexCheck(/[\dA-Za-z]/),asciiAtext=regexCheck(/[#-'*+\--9=?A-Z^-~]/);function asciiControl(e){return e!==null&&(e<32||e===127)}const asciiDigit=regexCheck(/\d/),asciiHexDigit=regexCheck(/[\dA-Fa-f]/),asciiPunctuation=regexCheck(/[!-/:-@[-`{-~]/);function markdownLineEnding$1(e){return e!==null&&e<-2}function markdownLineEndingOrSpace$1(e){return e!==null&&(e<0||e===32)}function markdownSpace$1(e){return e===-2||e===-1||e===32}const unicodePunctuation=regexCheck(new RegExp("\\p{P}|\\p{S}","u")),unicodeWhitespace=regexCheck(/\s/);function regexCheck(e){return o;function o(a){return a!==null&&a>-1&&e.test(String.fromCharCode(a))}}function normalizeUri(e){const o=[];let a=-1,c=0,d=0;for(;++a<e.length;){const g=e.charCodeAt(a);let b="";if(g===37&&asciiAlphanumeric(e.charCodeAt(a+1))&&asciiAlphanumeric(e.charCodeAt(a+2)))d=2;else if(g<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(g))||(b=String.fromCharCode(g));else if(g>55295&&g<57344){const _=e.charCodeAt(a+1);g<56320&&_>56319&&_<57344?(b=String.fromCharCode(g,_),d=1):b=""}else b=String.fromCharCode(g);b&&(o.push(e.slice(c,a),encodeURIComponent(b)),c=a+d+1,b=""),d&&(a+=d,d=0)}return o.join("")+e.slice(c)}function factorySpace$1(e,o,a,c){const d=c?c-1:Number.POSITIVE_INFINITY;let g=0;return b;function b($){return markdownSpace$1($)?(e.enter(a),_($)):o($)}function _($){return markdownSpace$1($)&&g++<d?(e.consume($),_):(e.exit(a),o($))}}const content$1={tokenize:initializeContent};function initializeContent(e){const o=e.attempt(this.parser.constructs.contentInitial,c,d);let a;return o;function c(_){if(_===null){e.consume(_);return}return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),factorySpace$1(e,o,"linePrefix")}function d(_){return e.enter("paragraph"),g(_)}function g(_){const $=e.enter("chunkText",{contentType:"text",previous:a});return a&&(a.next=$),a=$,b(_)}function b(_){if(_===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(_);return}return markdownLineEnding$1(_)?(e.consume(_),e.exit("chunkText"),g):(e.consume(_),b)}}const document$2={tokenize:initializeDocument},containerConstruct={tokenize:tokenizeContainer};function initializeDocument(e){const o=this,a=[];let c=0,d,g,b;return _;function _(Cl){if(c<a.length){const Tl=a[c];return o.containerState=Tl[1],e.attempt(Tl[0].continuation,$,j)(Cl)}return j(Cl)}function $(Cl){if(c++,o.containerState._closeFlow){o.containerState._closeFlow=void 0,d&&Ln();const Tl=o.events.length;let zl=Tl,In;for(;zl--;)if(o.events[zl][0]==="exit"&&o.events[zl][1].type==="chunkFlow"){In=o.events[zl][1].end;break}ot(c);let Ml=Tl;for(;Ml<o.events.length;)o.events[Ml][1].end={...In},Ml++;return splice$1(o.events,zl+1,0,o.events.slice(Tl)),o.events.length=Ml,j(Cl)}return _(Cl)}function j(Cl){if(c===a.length){if(!d)return st(Cl);if(d.currentConstruct&&d.currentConstruct.concrete)return wl(Cl);o.interrupt=!!(d.currentConstruct&&!d._gfmTableDynamicInterruptHack)}return o.containerState={},e.check(containerConstruct,rt,nt)(Cl)}function rt(Cl){return d&&Ln(),ot(c),st(Cl)}function nt(Cl){return o.parser.lazy[o.now().line]=c!==a.length,b=o.now().offset,wl(Cl)}function st(Cl){return o.containerState={},e.attempt(containerConstruct,jt,wl)(Cl)}function jt(Cl){return c++,a.push([o.currentConstruct,o.containerState]),st(Cl)}function wl(Cl){if(Cl===null){d&&Ln(),ot(0),e.consume(Cl);return}return d=d||o.parser.flow(o.now()),e.enter("chunkFlow",{_tokenizer:d,contentType:"flow",previous:g}),Ft(Cl)}function Ft(Cl){if(Cl===null){it(e.exit("chunkFlow"),!0),ot(0),e.consume(Cl);return}return markdownLineEnding$1(Cl)?(e.consume(Cl),it(e.exit("chunkFlow")),c=0,o.interrupt=void 0,_):(e.consume(Cl),Ft)}function it(Cl,Tl){const zl=o.sliceStream(Cl);if(Tl&&zl.push(null),Cl.previous=g,g&&(g.next=Cl),g=Cl,d.defineSkip(Cl.start),d.write(zl),o.parser.lazy[Cl.start.line]){let In=d.events.length;for(;In--;)if(d.events[In][1].start.offset<b&&(!d.events[In][1].end||d.events[In][1].end.offset>b))return;const Ml=o.events.length;let Dl=Ml,Ul,Vl;for(;Dl--;)if(o.events[Dl][0]==="exit"&&o.events[Dl][1].type==="chunkFlow"){if(Ul){Vl=o.events[Dl][1].end;break}Ul=!0}for(ot(c),In=Ml;In<o.events.length;)o.events[In][1].end={...Vl},In++;splice$1(o.events,Dl+1,0,o.events.slice(Ml)),o.events.length=In}}function ot(Cl){let Tl=a.length;for(;Tl-- >Cl;){const zl=a[Tl];o.containerState=zl[1],zl[0].exit.call(o,e)}a.length=Cl}function Ln(){d.write([null]),g=void 0,d=void 0,o.containerState._closeFlow=void 0}}function tokenizeContainer(e,o,a){return factorySpace$1(e,e.attempt(this.parser.constructs.document,o,a),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function classifyCharacter(e){if(e===null||markdownLineEndingOrSpace$1(e)||unicodeWhitespace(e))return 1;if(unicodePunctuation(e))return 2}function resolveAll$1(e,o,a){const c=[];let d=-1;for(;++d<e.length;){const g=e[d].resolveAll;g&&!c.includes(g)&&(o=g(o,a),c.push(g))}return o}const attention={name:"attention",resolveAll:resolveAllAttention,tokenize:tokenizeAttention};function resolveAllAttention(e,o){let a=-1,c,d,g,b,_,$,j,rt;for(;++a<e.length;)if(e[a][0]==="enter"&&e[a][1].type==="attentionSequence"&&e[a][1]._close){for(c=a;c--;)if(e[c][0]==="exit"&&e[c][1].type==="attentionSequence"&&e[c][1]._open&&o.sliceSerialize(e[c][1]).charCodeAt(0)===o.sliceSerialize(e[a][1]).charCodeAt(0)){if((e[c][1]._close||e[a][1]._open)&&(e[a][1].end.offset-e[a][1].start.offset)%3&&!((e[c][1].end.offset-e[c][1].start.offset+e[a][1].end.offset-e[a][1].start.offset)%3))continue;$=e[c][1].end.offset-e[c][1].start.offset>1&&e[a][1].end.offset-e[a][1].start.offset>1?2:1;const nt={...e[c][1].end},st={...e[a][1].start};movePoint(nt,-$),movePoint(st,$),b={type:$>1?"strongSequence":"emphasisSequence",start:nt,end:{...e[c][1].end}},_={type:$>1?"strongSequence":"emphasisSequence",start:{...e[a][1].start},end:st},g={type:$>1?"strongText":"emphasisText",start:{...e[c][1].end},end:{...e[a][1].start}},d={type:$>1?"strong":"emphasis",start:{...b.start},end:{..._.end}},e[c][1].end={...b.start},e[a][1].start={..._.end},j=[],e[c][1].end.offset-e[c][1].start.offset&&(j=push(j,[["enter",e[c][1],o],["exit",e[c][1],o]])),j=push(j,[["enter",d,o],["enter",b,o],["exit",b,o],["enter",g,o]]),j=push(j,resolveAll$1(o.parser.constructs.insideSpan.null,e.slice(c+1,a),o)),j=push(j,[["exit",g,o],["enter",_,o],["exit",_,o],["exit",d,o]]),e[a][1].end.offset-e[a][1].start.offset?(rt=2,j=push(j,[["enter",e[a][1],o],["exit",e[a][1],o]])):rt=0,splice$1(e,c-1,a-c+3,j),a=c+j.length-rt-2;break}}for(a=-1;++a<e.length;)e[a][1].type==="attentionSequence"&&(e[a][1].type="data");return e}function tokenizeAttention(e,o){const a=this.parser.constructs.attentionMarkers.null,c=this.previous,d=classifyCharacter(c);let g;return b;function b($){return g=$,e.enter("attentionSequence"),_($)}function _($){if($===g)return e.consume($),_;const j=e.exit("attentionSequence"),rt=classifyCharacter($),nt=!rt||rt===2&&d||a.includes($),st=!d||d===2&&rt||a.includes(c);return j._open=!!(g===42?nt:nt&&(d||!st)),j._close=!!(g===42?st:st&&(rt||!nt)),o($)}}function movePoint(e,o){e.column+=o,e.offset+=o,e._bufferIndex+=o}const autolink={name:"autolink",tokenize:tokenizeAutolink};function tokenizeAutolink(e,o,a){let c=0;return d;function d(jt){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(jt),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),g}function g(jt){return asciiAlpha(jt)?(e.consume(jt),b):jt===64?a(jt):j(jt)}function b(jt){return jt===43||jt===45||jt===46||asciiAlphanumeric(jt)?(c=1,_(jt)):j(jt)}function _(jt){return jt===58?(e.consume(jt),c=0,$):(jt===43||jt===45||jt===46||asciiAlphanumeric(jt))&&c++<32?(e.consume(jt),_):(c=0,j(jt))}function $(jt){return jt===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(jt),e.exit("autolinkMarker"),e.exit("autolink"),o):jt===null||jt===32||jt===60||asciiControl(jt)?a(jt):(e.consume(jt),$)}function j(jt){return jt===64?(e.consume(jt),rt):asciiAtext(jt)?(e.consume(jt),j):a(jt)}function rt(jt){return asciiAlphanumeric(jt)?nt(jt):a(jt)}function nt(jt){return jt===46?(e.consume(jt),c=0,rt):jt===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(jt),e.exit("autolinkMarker"),e.exit("autolink"),o):st(jt)}function st(jt){if((jt===45||asciiAlphanumeric(jt))&&c++<63){const wl=jt===45?st:nt;return e.consume(jt),wl}return a(jt)}}const blankLine$1={partial:!0,tokenize:tokenizeBlankLine$1};function tokenizeBlankLine$1(e,o,a){return c;function c(g){return markdownSpace$1(g)?factorySpace$1(e,d,"linePrefix")(g):d(g)}function d(g){return g===null||markdownLineEnding$1(g)?o(g):a(g)}}const blockQuote={continuation:{tokenize:tokenizeBlockQuoteContinuation},exit:exit$1,name:"blockQuote",tokenize:tokenizeBlockQuoteStart};function tokenizeBlockQuoteStart(e,o,a){const c=this;return d;function d(b){if(b===62){const _=c.containerState;return _.open||(e.enter("blockQuote",{_container:!0}),_.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(b),e.exit("blockQuoteMarker"),g}return a(b)}function g(b){return markdownSpace$1(b)?(e.enter("blockQuotePrefixWhitespace"),e.consume(b),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),o):(e.exit("blockQuotePrefix"),o(b))}}function tokenizeBlockQuoteContinuation(e,o,a){const c=this;return d;function d(b){return markdownSpace$1(b)?factorySpace$1(e,g,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(b):g(b)}function g(b){return e.attempt(blockQuote,o,a)(b)}}function exit$1(e){e.exit("blockQuote")}const characterEscape={name:"characterEscape",tokenize:tokenizeCharacterEscape};function tokenizeCharacterEscape(e,o,a){return c;function c(g){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(g),e.exit("escapeMarker"),d}function d(g){return asciiPunctuation(g)?(e.enter("characterEscapeValue"),e.consume(g),e.exit("characterEscapeValue"),e.exit("characterEscape"),o):a(g)}}const characterReference={name:"characterReference",tokenize:tokenizeCharacterReference};function tokenizeCharacterReference(e,o,a){const c=this;let d=0,g,b;return _;function _(nt){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(nt),e.exit("characterReferenceMarker"),$}function $(nt){return nt===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(nt),e.exit("characterReferenceMarkerNumeric"),j):(e.enter("characterReferenceValue"),g=31,b=asciiAlphanumeric,rt(nt))}function j(nt){return nt===88||nt===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(nt),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),g=6,b=asciiHexDigit,rt):(e.enter("characterReferenceValue"),g=7,b=asciiDigit,rt(nt))}function rt(nt){if(nt===59&&d){const st=e.exit("characterReferenceValue");return b===asciiAlphanumeric&&!decodeNamedCharacterReference(c.sliceSerialize(st))?a(nt):(e.enter("characterReferenceMarker"),e.consume(nt),e.exit("characterReferenceMarker"),e.exit("characterReference"),o)}return b(nt)&&d++<g?(e.consume(nt),rt):a(nt)}}const nonLazyContinuation$1={partial:!0,tokenize:tokenizeNonLazyContinuation$1},codeFenced={concrete:!0,name:"codeFenced",tokenize:tokenizeCodeFenced};function tokenizeCodeFenced(e,o,a){const c=this,d={partial:!0,tokenize:zl};let g=0,b=0,_;return $;function $(In){return j(In)}function j(In){const Ml=c.events[c.events.length-1];return g=Ml&&Ml[1].type==="linePrefix"?Ml[2].sliceSerialize(Ml[1],!0).length:0,_=In,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),rt(In)}function rt(In){return In===_?(b++,e.consume(In),rt):b<3?a(In):(e.exit("codeFencedFenceSequence"),markdownSpace$1(In)?factorySpace$1(e,nt,"whitespace")(In):nt(In))}function nt(In){return In===null||markdownLineEnding$1(In)?(e.exit("codeFencedFence"),c.interrupt?o(In):e.check(nonLazyContinuation$1,Ft,Tl)(In)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),st(In))}function st(In){return In===null||markdownLineEnding$1(In)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),nt(In)):markdownSpace$1(In)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),factorySpace$1(e,jt,"whitespace")(In)):In===96&&In===_?a(In):(e.consume(In),st)}function jt(In){return In===null||markdownLineEnding$1(In)?nt(In):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),wl(In))}function wl(In){return In===null||markdownLineEnding$1(In)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),nt(In)):In===96&&In===_?a(In):(e.consume(In),wl)}function Ft(In){return e.attempt(d,Tl,it)(In)}function it(In){return e.enter("lineEnding"),e.consume(In),e.exit("lineEnding"),ot}function ot(In){return g>0&&markdownSpace$1(In)?factorySpace$1(e,Ln,"linePrefix",g+1)(In):Ln(In)}function Ln(In){return In===null||markdownLineEnding$1(In)?e.check(nonLazyContinuation$1,Ft,Tl)(In):(e.enter("codeFlowValue"),Cl(In))}function Cl(In){return In===null||markdownLineEnding$1(In)?(e.exit("codeFlowValue"),Ln(In)):(e.consume(In),Cl)}function Tl(In){return e.exit("codeFenced"),o(In)}function zl(In,Ml,Dl){let Ul=0;return Vl;function Vl(hp){return In.enter("lineEnding"),In.consume(hp),In.exit("lineEnding"),mu}function mu(hp){return In.enter("codeFencedFence"),markdownSpace$1(hp)?factorySpace$1(In,rp,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(hp):rp(hp)}function rp(hp){return hp===_?(In.enter("codeFencedFenceSequence"),Ju(hp)):Dl(hp)}function Ju(hp){return hp===_?(Ul++,In.consume(hp),Ju):Ul>=b?(In.exit("codeFencedFenceSequence"),markdownSpace$1(hp)?factorySpace$1(In,cp,"whitespace")(hp):cp(hp)):Dl(hp)}function cp(hp){return hp===null||markdownLineEnding$1(hp)?(In.exit("codeFencedFence"),Ml(hp)):Dl(hp)}}}function tokenizeNonLazyContinuation$1(e,o,a){const c=this;return d;function d(b){return b===null?a(b):(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g)}function g(b){return c.parser.lazy[c.now().line]?a(b):o(b)}}const codeIndented={name:"codeIndented",tokenize:tokenizeCodeIndented},furtherStart={partial:!0,tokenize:tokenizeFurtherStart};function tokenizeCodeIndented(e,o,a){const c=this;return d;function d(j){return e.enter("codeIndented"),factorySpace$1(e,g,"linePrefix",5)(j)}function g(j){const rt=c.events[c.events.length-1];return rt&&rt[1].type==="linePrefix"&&rt[2].sliceSerialize(rt[1],!0).length>=4?b(j):a(j)}function b(j){return j===null?$(j):markdownLineEnding$1(j)?e.attempt(furtherStart,b,$)(j):(e.enter("codeFlowValue"),_(j))}function _(j){return j===null||markdownLineEnding$1(j)?(e.exit("codeFlowValue"),b(j)):(e.consume(j),_)}function $(j){return e.exit("codeIndented"),o(j)}}function tokenizeFurtherStart(e,o,a){const c=this;return d;function d(b){return c.parser.lazy[c.now().line]?a(b):markdownLineEnding$1(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),d):factorySpace$1(e,g,"linePrefix",5)(b)}function g(b){const _=c.events[c.events.length-1];return _&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?o(b):markdownLineEnding$1(b)?d(b):a(b)}}const codeText={name:"codeText",previous:previous$2,resolve:resolveCodeText,tokenize:tokenizeCodeText};function resolveCodeText(e){let o=e.length-4,a=3,c,d;if((e[a][1].type==="lineEnding"||e[a][1].type==="space")&&(e[o][1].type==="lineEnding"||e[o][1].type==="space")){for(c=a;++c<o;)if(e[c][1].type==="codeTextData"){e[a][1].type="codeTextPadding",e[o][1].type="codeTextPadding",a+=2,o-=2;break}}for(c=a-1,o++;++c<=o;)d===void 0?c!==o&&e[c][1].type!=="lineEnding"&&(d=c):(c===o||e[c][1].type==="lineEnding")&&(e[d][1].type="codeTextData",c!==d+2&&(e[d][1].end=e[c-1][1].end,e.splice(d+2,c-d-2),o-=c-d-2,c=d+2),d=void 0);return e}function previous$2(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function tokenizeCodeText(e,o,a){let c=0,d,g;return b;function b(nt){return e.enter("codeText"),e.enter("codeTextSequence"),_(nt)}function _(nt){return nt===96?(e.consume(nt),c++,_):(e.exit("codeTextSequence"),$(nt))}function $(nt){return nt===null?a(nt):nt===32?(e.enter("space"),e.consume(nt),e.exit("space"),$):nt===96?(g=e.enter("codeTextSequence"),d=0,rt(nt)):markdownLineEnding$1(nt)?(e.enter("lineEnding"),e.consume(nt),e.exit("lineEnding"),$):(e.enter("codeTextData"),j(nt))}function j(nt){return nt===null||nt===32||nt===96||markdownLineEnding$1(nt)?(e.exit("codeTextData"),$(nt)):(e.consume(nt),j)}function rt(nt){return nt===96?(e.consume(nt),d++,rt):d===c?(e.exit("codeTextSequence"),e.exit("codeText"),o(nt)):(g.type="codeTextData",j(nt))}}class SpliceBuffer{constructor(o){this.left=o?[...o]:[],this.right=[]}get(o){if(o<0||o>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+o+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return o<this.left.length?this.left[o]:this.right[this.right.length-o+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(o,a){const c=a??Number.POSITIVE_INFINITY;return c<this.left.length?this.left.slice(o,c):o>this.left.length?this.right.slice(this.right.length-c+this.left.length,this.right.length-o+this.left.length).reverse():this.left.slice(o).concat(this.right.slice(this.right.length-c+this.left.length).reverse())}splice(o,a,c){const d=a||0;this.setCursor(Math.trunc(o));const g=this.right.splice(this.right.length-d,Number.POSITIVE_INFINITY);return c&&chunkedPush(this.left,c),g.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(o){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(o)}pushMany(o){this.setCursor(Number.POSITIVE_INFINITY),chunkedPush(this.left,o)}unshift(o){this.setCursor(0),this.right.push(o)}unshiftMany(o){this.setCursor(0),chunkedPush(this.right,o.reverse())}setCursor(o){if(!(o===this.left.length||o>this.left.length&&this.right.length===0||o<0&&this.left.length===0))if(o<this.left.length){const a=this.left.splice(o,Number.POSITIVE_INFINITY);chunkedPush(this.right,a.reverse())}else{const a=this.right.splice(this.left.length+this.right.length-o,Number.POSITIVE_INFINITY);chunkedPush(this.left,a.reverse())}}}function chunkedPush(e,o){let a=0;if(o.length<1e4)e.push(...o);else for(;a<o.length;)e.push(...o.slice(a,a+1e4)),a+=1e4}function subtokenize(e){const o={};let a=-1,c,d,g,b,_,$,j;const rt=new SpliceBuffer(e);for(;++a<rt.length;){for(;a in o;)a=o[a];if(c=rt.get(a),a&&c[1].type==="chunkFlow"&&rt.get(a-1)[1].type==="listItemPrefix"&&($=c[1]._tokenizer.events,g=0,g<$.length&&$[g][1].type==="lineEndingBlank"&&(g+=2),g<$.length&&$[g][1].type==="content"))for(;++g<$.length&&$[g][1].type!=="content";)$[g][1].type==="chunkText"&&($[g][1]._isInFirstContentOfListItem=!0,g++);if(c[0]==="enter")c[1].contentType&&(Object.assign(o,subcontent(rt,a)),a=o[a],j=!0);else if(c[1]._container){for(g=a,d=void 0;g--;)if(b=rt.get(g),b[1].type==="lineEnding"||b[1].type==="lineEndingBlank")b[0]==="enter"&&(d&&(rt.get(d)[1].type="lineEndingBlank"),b[1].type="lineEnding",d=g);else if(!(b[1].type==="linePrefix"||b[1].type==="listItemIndent"))break;d&&(c[1].end={...rt.get(d)[1].start},_=rt.slice(d,a),_.unshift(c),rt.splice(d,a-d+1,_))}}return splice$1(e,0,Number.POSITIVE_INFINITY,rt.slice(0)),!j}function subcontent(e,o){const a=e.get(o)[1],c=e.get(o)[2];let d=o-1;const g=[];let b=a._tokenizer;b||(b=c.parser[a.contentType](a.start),a._contentTypeTextTrailing&&(b._contentTypeTextTrailing=!0));const _=b.events,$=[],j={};let rt,nt,st=-1,jt=a,wl=0,Ft=0;const it=[Ft];for(;jt;){for(;e.get(++d)[1]!==jt;);g.push(d),jt._tokenizer||(rt=c.sliceStream(jt),jt.next||rt.push(null),nt&&b.defineSkip(jt.start),jt._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=!0),b.write(rt),jt._isInFirstContentOfListItem&&(b._gfmTasklistFirstContentOfListItem=void 0)),nt=jt,jt=jt.next}for(jt=a;++st<_.length;)_[st][0]==="exit"&&_[st-1][0]==="enter"&&_[st][1].type===_[st-1][1].type&&_[st][1].start.line!==_[st][1].end.line&&(Ft=st+1,it.push(Ft),jt._tokenizer=void 0,jt.previous=void 0,jt=jt.next);for(b.events=[],jt?(jt._tokenizer=void 0,jt.previous=void 0):it.pop(),st=it.length;st--;){const ot=_.slice(it[st],it[st+1]),Ln=g.pop();$.push([Ln,Ln+ot.length-1]),e.splice(Ln,2,ot)}for($.reverse(),st=-1;++st<$.length;)j[wl+$[st][0]]=wl+$[st][1],wl+=$[st][1]-$[st][0]-1;return j}const content={resolve:resolveContent,tokenize:tokenizeContent},continuationConstruct={partial:!0,tokenize:tokenizeContinuation};function resolveContent(e){return subtokenize(e),e}function tokenizeContent(e,o){let a;return c;function c(_){return e.enter("content"),a=e.enter("chunkContent",{contentType:"content"}),d(_)}function d(_){return _===null?g(_):markdownLineEnding$1(_)?e.check(continuationConstruct,b,g)(_):(e.consume(_),d)}function g(_){return e.exit("chunkContent"),e.exit("content"),o(_)}function b(_){return e.consume(_),e.exit("chunkContent"),a.next=e.enter("chunkContent",{contentType:"content",previous:a}),a=a.next,d}}function tokenizeContinuation(e,o,a){const c=this;return d;function d(b){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),factorySpace$1(e,g,"linePrefix")}function g(b){if(b===null||markdownLineEnding$1(b))return a(b);const _=c.events[c.events.length-1];return!c.parser.constructs.disable.null.includes("codeIndented")&&_&&_[1].type==="linePrefix"&&_[2].sliceSerialize(_[1],!0).length>=4?o(b):e.interrupt(c.parser.constructs.flow,a,o)(b)}}function factoryDestination(e,o,a,c,d,g,b,_,$){const j=$||Number.POSITIVE_INFINITY;let rt=0;return nt;function nt(ot){return ot===60?(e.enter(c),e.enter(d),e.enter(g),e.consume(ot),e.exit(g),st):ot===null||ot===32||ot===41||asciiControl(ot)?a(ot):(e.enter(c),e.enter(b),e.enter(_),e.enter("chunkString",{contentType:"string"}),Ft(ot))}function st(ot){return ot===62?(e.enter(g),e.consume(ot),e.exit(g),e.exit(d),e.exit(c),o):(e.enter(_),e.enter("chunkString",{contentType:"string"}),jt(ot))}function jt(ot){return ot===62?(e.exit("chunkString"),e.exit(_),st(ot)):ot===null||ot===60||markdownLineEnding$1(ot)?a(ot):(e.consume(ot),ot===92?wl:jt)}function wl(ot){return ot===60||ot===62||ot===92?(e.consume(ot),jt):jt(ot)}function Ft(ot){return!rt&&(ot===null||ot===41||markdownLineEndingOrSpace$1(ot))?(e.exit("chunkString"),e.exit(_),e.exit(b),e.exit(c),o(ot)):rt<j&&ot===40?(e.consume(ot),rt++,Ft):ot===41?(e.consume(ot),rt--,Ft):ot===null||ot===32||ot===40||asciiControl(ot)?a(ot):(e.consume(ot),ot===92?it:Ft)}function it(ot){return ot===40||ot===41||ot===92?(e.consume(ot),Ft):Ft(ot)}}function factoryLabel(e,o,a,c,d,g){const b=this;let _=0,$;return j;function j(jt){return e.enter(c),e.enter(d),e.consume(jt),e.exit(d),e.enter(g),rt}function rt(jt){return _>999||jt===null||jt===91||jt===93&&!$||jt===94&&!_&&"_hiddenFootnoteSupport"in b.parser.constructs?a(jt):jt===93?(e.exit(g),e.enter(d),e.consume(jt),e.exit(d),e.exit(c),o):markdownLineEnding$1(jt)?(e.enter("lineEnding"),e.consume(jt),e.exit("lineEnding"),rt):(e.enter("chunkString",{contentType:"string"}),nt(jt))}function nt(jt){return jt===null||jt===91||jt===93||markdownLineEnding$1(jt)||_++>999?(e.exit("chunkString"),rt(jt)):(e.consume(jt),$||($=!markdownSpace$1(jt)),jt===92?st:nt)}function st(jt){return jt===91||jt===92||jt===93?(e.consume(jt),_++,nt):nt(jt)}}function factoryTitle(e,o,a,c,d,g){let b;return _;function _(st){return st===34||st===39||st===40?(e.enter(c),e.enter(d),e.consume(st),e.exit(d),b=st===40?41:st,$):a(st)}function $(st){return st===b?(e.enter(d),e.consume(st),e.exit(d),e.exit(c),o):(e.enter(g),j(st))}function j(st){return st===b?(e.exit(g),$(b)):st===null?a(st):markdownLineEnding$1(st)?(e.enter("lineEnding"),e.consume(st),e.exit("lineEnding"),factorySpace$1(e,j,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),rt(st))}function rt(st){return st===b||st===null||markdownLineEnding$1(st)?(e.exit("chunkString"),j(st)):(e.consume(st),st===92?nt:rt)}function nt(st){return st===b||st===92?(e.consume(st),rt):rt(st)}}function factoryWhitespace(e,o){let a;return c;function c(d){return markdownLineEnding$1(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a=!0,c):markdownSpace$1(d)?factorySpace$1(e,c,a?"linePrefix":"lineSuffix")(d):o(d)}}const definition$1={name:"definition",tokenize:tokenizeDefinition},titleBefore={partial:!0,tokenize:tokenizeTitleBefore};function tokenizeDefinition(e,o,a){const c=this;let d;return g;function g(jt){return e.enter("definition"),b(jt)}function b(jt){return factoryLabel.call(c,e,_,a,"definitionLabel","definitionLabelMarker","definitionLabelString")(jt)}function _(jt){return d=normalizeIdentifier$2(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)),jt===58?(e.enter("definitionMarker"),e.consume(jt),e.exit("definitionMarker"),$):a(jt)}function $(jt){return markdownLineEndingOrSpace$1(jt)?factoryWhitespace(e,j)(jt):j(jt)}function j(jt){return factoryDestination(e,rt,a,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(jt)}function rt(jt){return e.attempt(titleBefore,nt,nt)(jt)}function nt(jt){return markdownSpace$1(jt)?factorySpace$1(e,st,"whitespace")(jt):st(jt)}function st(jt){return jt===null||markdownLineEnding$1(jt)?(e.exit("definition"),c.parser.defined.push(d),o(jt)):a(jt)}}function tokenizeTitleBefore(e,o,a){return c;function c(_){return markdownLineEndingOrSpace$1(_)?factoryWhitespace(e,d)(_):a(_)}function d(_){return factoryTitle(e,g,a,"definitionTitle","definitionTitleMarker","definitionTitleString")(_)}function g(_){return markdownSpace$1(_)?factorySpace$1(e,b,"whitespace")(_):b(_)}function b(_){return _===null||markdownLineEnding$1(_)?o(_):a(_)}}const hardBreakEscape={name:"hardBreakEscape",tokenize:tokenizeHardBreakEscape};function tokenizeHardBreakEscape(e,o,a){return c;function c(g){return e.enter("hardBreakEscape"),e.consume(g),d}function d(g){return markdownLineEnding$1(g)?(e.exit("hardBreakEscape"),o(g)):a(g)}}const headingAtx={name:"headingAtx",resolve:resolveHeadingAtx,tokenize:tokenizeHeadingAtx};function resolveHeadingAtx(e,o){let a=e.length-2,c=3,d,g;return e[c][1].type==="whitespace"&&(c+=2),a-2>c&&e[a][1].type==="whitespace"&&(a-=2),e[a][1].type==="atxHeadingSequence"&&(c===a-1||a-4>c&&e[a-2][1].type==="whitespace")&&(a-=c+1===a?2:4),a>c&&(d={type:"atxHeadingText",start:e[c][1].start,end:e[a][1].end},g={type:"chunkText",start:e[c][1].start,end:e[a][1].end,contentType:"text"},splice$1(e,c,a-c+1,[["enter",d,o],["enter",g,o],["exit",g,o],["exit",d,o]])),e}function tokenizeHeadingAtx(e,o,a){let c=0;return d;function d(rt){return e.enter("atxHeading"),g(rt)}function g(rt){return e.enter("atxHeadingSequence"),b(rt)}function b(rt){return rt===35&&c++<6?(e.consume(rt),b):rt===null||markdownLineEndingOrSpace$1(rt)?(e.exit("atxHeadingSequence"),_(rt)):a(rt)}function _(rt){return rt===35?(e.enter("atxHeadingSequence"),$(rt)):rt===null||markdownLineEnding$1(rt)?(e.exit("atxHeading"),o(rt)):markdownSpace$1(rt)?factorySpace$1(e,_,"whitespace")(rt):(e.enter("atxHeadingText"),j(rt))}function $(rt){return rt===35?(e.consume(rt),$):(e.exit("atxHeadingSequence"),_(rt))}function j(rt){return rt===null||rt===35||markdownLineEndingOrSpace$1(rt)?(e.exit("atxHeadingText"),_(rt)):(e.consume(rt),j)}}const htmlBlockNames=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],htmlRawNames=["pre","script","style","textarea"],htmlFlow={concrete:!0,name:"htmlFlow",resolveTo:resolveToHtmlFlow,tokenize:tokenizeHtmlFlow},blankLineBefore={partial:!0,tokenize:tokenizeBlankLineBefore},nonLazyContinuationStart={partial:!0,tokenize:tokenizeNonLazyContinuationStart};function resolveToHtmlFlow(e){let o=e.length;for(;o--&&!(e[o][0]==="enter"&&e[o][1].type==="htmlFlow"););return o>1&&e[o-2][1].type==="linePrefix"&&(e[o][1].start=e[o-2][1].start,e[o+1][1].start=e[o-2][1].start,e.splice(o-2,2)),e}function tokenizeHtmlFlow(e,o,a){const c=this;let d,g,b,_,$;return j;function j(Fp){return rt(Fp)}function rt(Fp){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(Fp),nt}function nt(Fp){return Fp===33?(e.consume(Fp),st):Fp===47?(e.consume(Fp),g=!0,Ft):Fp===63?(e.consume(Fp),d=3,c.interrupt?o:ip):asciiAlpha(Fp)?(e.consume(Fp),b=String.fromCharCode(Fp),it):a(Fp)}function st(Fp){return Fp===45?(e.consume(Fp),d=2,jt):Fp===91?(e.consume(Fp),d=5,_=0,wl):asciiAlpha(Fp)?(e.consume(Fp),d=4,c.interrupt?o:ip):a(Fp)}function jt(Fp){return Fp===45?(e.consume(Fp),c.interrupt?o:ip):a(Fp)}function wl(Fp){const n0="CDATA[";return Fp===n0.charCodeAt(_++)?(e.consume(Fp),_===n0.length?c.interrupt?o:rp:wl):a(Fp)}function Ft(Fp){return asciiAlpha(Fp)?(e.consume(Fp),b=String.fromCharCode(Fp),it):a(Fp)}function it(Fp){if(Fp===null||Fp===47||Fp===62||markdownLineEndingOrSpace$1(Fp)){const n0=Fp===47,S0=b.toLowerCase();return!n0&&!g&&htmlRawNames.includes(S0)?(d=1,c.interrupt?o(Fp):rp(Fp)):htmlBlockNames.includes(b.toLowerCase())?(d=6,n0?(e.consume(Fp),ot):c.interrupt?o(Fp):rp(Fp)):(d=7,c.interrupt&&!c.parser.lazy[c.now().line]?a(Fp):g?Ln(Fp):Cl(Fp))}return Fp===45||asciiAlphanumeric(Fp)?(e.consume(Fp),b+=String.fromCharCode(Fp),it):a(Fp)}function ot(Fp){return Fp===62?(e.consume(Fp),c.interrupt?o:rp):a(Fp)}function Ln(Fp){return markdownSpace$1(Fp)?(e.consume(Fp),Ln):Vl(Fp)}function Cl(Fp){return Fp===47?(e.consume(Fp),Vl):Fp===58||Fp===95||asciiAlpha(Fp)?(e.consume(Fp),Tl):markdownSpace$1(Fp)?(e.consume(Fp),Cl):Vl(Fp)}function Tl(Fp){return Fp===45||Fp===46||Fp===58||Fp===95||asciiAlphanumeric(Fp)?(e.consume(Fp),Tl):zl(Fp)}function zl(Fp){return Fp===61?(e.consume(Fp),In):markdownSpace$1(Fp)?(e.consume(Fp),zl):Cl(Fp)}function In(Fp){return Fp===null||Fp===60||Fp===61||Fp===62||Fp===96?a(Fp):Fp===34||Fp===39?(e.consume(Fp),$=Fp,Ml):markdownSpace$1(Fp)?(e.consume(Fp),In):Dl(Fp)}function Ml(Fp){return Fp===$?(e.consume(Fp),$=null,Ul):Fp===null||markdownLineEnding$1(Fp)?a(Fp):(e.consume(Fp),Ml)}function Dl(Fp){return Fp===null||Fp===34||Fp===39||Fp===47||Fp===60||Fp===61||Fp===62||Fp===96||markdownLineEndingOrSpace$1(Fp)?zl(Fp):(e.consume(Fp),Dl)}function Ul(Fp){return Fp===47||Fp===62||markdownSpace$1(Fp)?Cl(Fp):a(Fp)}function Vl(Fp){return Fp===62?(e.consume(Fp),mu):a(Fp)}function mu(Fp){return Fp===null||markdownLineEnding$1(Fp)?rp(Fp):markdownSpace$1(Fp)?(e.consume(Fp),mu):a(Fp)}function rp(Fp){return Fp===45&&d===2?(e.consume(Fp),yp):Fp===60&&d===1?(e.consume(Fp),xp):Fp===62&&d===4?(e.consume(Fp),gp):Fp===63&&d===3?(e.consume(Fp),ip):Fp===93&&d===5?(e.consume(Fp),_p):markdownLineEnding$1(Fp)&&(d===6||d===7)?(e.exit("htmlFlowData"),e.check(blankLineBefore,Dp,Ju)(Fp)):Fp===null||markdownLineEnding$1(Fp)?(e.exit("htmlFlowData"),Ju(Fp)):(e.consume(Fp),rp)}function Ju(Fp){return e.check(nonLazyContinuationStart,cp,Dp)(Fp)}function cp(Fp){return e.enter("lineEnding"),e.consume(Fp),e.exit("lineEnding"),hp}function hp(Fp){return Fp===null||markdownLineEnding$1(Fp)?Ju(Fp):(e.enter("htmlFlowData"),rp(Fp))}function yp(Fp){return Fp===45?(e.consume(Fp),ip):rp(Fp)}function xp(Fp){return Fp===47?(e.consume(Fp),b="",fp):rp(Fp)}function fp(Fp){if(Fp===62){const n0=b.toLowerCase();return htmlRawNames.includes(n0)?(e.consume(Fp),gp):rp(Fp)}return asciiAlpha(Fp)&&b.length<8?(e.consume(Fp),b+=String.fromCharCode(Fp),fp):rp(Fp)}function _p(Fp){return Fp===93?(e.consume(Fp),ip):rp(Fp)}function ip(Fp){return Fp===62?(e.consume(Fp),gp):Fp===45&&d===2?(e.consume(Fp),ip):rp(Fp)}function gp(Fp){return Fp===null||markdownLineEnding$1(Fp)?(e.exit("htmlFlowData"),Dp(Fp)):(e.consume(Fp),gp)}function Dp(Fp){return e.exit("htmlFlow"),o(Fp)}}function tokenizeNonLazyContinuationStart(e,o,a){const c=this;return d;function d(b){return markdownLineEnding$1(b)?(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g):a(b)}function g(b){return c.parser.lazy[c.now().line]?a(b):o(b)}}function tokenizeBlankLineBefore(e,o,a){return c;function c(d){return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),e.attempt(blankLine$1,o,a)}}const htmlText={name:"htmlText",tokenize:tokenizeHtmlText};function tokenizeHtmlText(e,o,a){const c=this;let d,g,b;return _;function _(ip){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(ip),$}function $(ip){return ip===33?(e.consume(ip),j):ip===47?(e.consume(ip),zl):ip===63?(e.consume(ip),Cl):asciiAlpha(ip)?(e.consume(ip),Dl):a(ip)}function j(ip){return ip===45?(e.consume(ip),rt):ip===91?(e.consume(ip),g=0,wl):asciiAlpha(ip)?(e.consume(ip),Ln):a(ip)}function rt(ip){return ip===45?(e.consume(ip),jt):a(ip)}function nt(ip){return ip===null?a(ip):ip===45?(e.consume(ip),st):markdownLineEnding$1(ip)?(b=nt,xp(ip)):(e.consume(ip),nt)}function st(ip){return ip===45?(e.consume(ip),jt):nt(ip)}function jt(ip){return ip===62?yp(ip):ip===45?st(ip):nt(ip)}function wl(ip){const gp="CDATA[";return ip===gp.charCodeAt(g++)?(e.consume(ip),g===gp.length?Ft:wl):a(ip)}function Ft(ip){return ip===null?a(ip):ip===93?(e.consume(ip),it):markdownLineEnding$1(ip)?(b=Ft,xp(ip)):(e.consume(ip),Ft)}function it(ip){return ip===93?(e.consume(ip),ot):Ft(ip)}function ot(ip){return ip===62?yp(ip):ip===93?(e.consume(ip),ot):Ft(ip)}function Ln(ip){return ip===null||ip===62?yp(ip):markdownLineEnding$1(ip)?(b=Ln,xp(ip)):(e.consume(ip),Ln)}function Cl(ip){return ip===null?a(ip):ip===63?(e.consume(ip),Tl):markdownLineEnding$1(ip)?(b=Cl,xp(ip)):(e.consume(ip),Cl)}function Tl(ip){return ip===62?yp(ip):Cl(ip)}function zl(ip){return asciiAlpha(ip)?(e.consume(ip),In):a(ip)}function In(ip){return ip===45||asciiAlphanumeric(ip)?(e.consume(ip),In):Ml(ip)}function Ml(ip){return markdownLineEnding$1(ip)?(b=Ml,xp(ip)):markdownSpace$1(ip)?(e.consume(ip),Ml):yp(ip)}function Dl(ip){return ip===45||asciiAlphanumeric(ip)?(e.consume(ip),Dl):ip===47||ip===62||markdownLineEndingOrSpace$1(ip)?Ul(ip):a(ip)}function Ul(ip){return ip===47?(e.consume(ip),yp):ip===58||ip===95||asciiAlpha(ip)?(e.consume(ip),Vl):markdownLineEnding$1(ip)?(b=Ul,xp(ip)):markdownSpace$1(ip)?(e.consume(ip),Ul):yp(ip)}function Vl(ip){return ip===45||ip===46||ip===58||ip===95||asciiAlphanumeric(ip)?(e.consume(ip),Vl):mu(ip)}function mu(ip){return ip===61?(e.consume(ip),rp):markdownLineEnding$1(ip)?(b=mu,xp(ip)):markdownSpace$1(ip)?(e.consume(ip),mu):Ul(ip)}function rp(ip){return ip===null||ip===60||ip===61||ip===62||ip===96?a(ip):ip===34||ip===39?(e.consume(ip),d=ip,Ju):markdownLineEnding$1(ip)?(b=rp,xp(ip)):markdownSpace$1(ip)?(e.consume(ip),rp):(e.consume(ip),cp)}function Ju(ip){return ip===d?(e.consume(ip),d=void 0,hp):ip===null?a(ip):markdownLineEnding$1(ip)?(b=Ju,xp(ip)):(e.consume(ip),Ju)}function cp(ip){return ip===null||ip===34||ip===39||ip===60||ip===61||ip===96?a(ip):ip===47||ip===62||markdownLineEndingOrSpace$1(ip)?Ul(ip):(e.consume(ip),cp)}function hp(ip){return ip===47||ip===62||markdownLineEndingOrSpace$1(ip)?Ul(ip):a(ip)}function yp(ip){return ip===62?(e.consume(ip),e.exit("htmlTextData"),e.exit("htmlText"),o):a(ip)}function xp(ip){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(ip),e.exit("lineEnding"),fp}function fp(ip){return markdownSpace$1(ip)?factorySpace$1(e,_p,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ip):_p(ip)}function _p(ip){return e.enter("htmlTextData"),b(ip)}}const labelEnd={name:"labelEnd",resolveAll:resolveAllLabelEnd,resolveTo:resolveToLabelEnd,tokenize:tokenizeLabelEnd},resourceConstruct={tokenize:tokenizeResource},referenceFullConstruct={tokenize:tokenizeReferenceFull},referenceCollapsedConstruct={tokenize:tokenizeReferenceCollapsed};function resolveAllLabelEnd(e){let o=-1;const a=[];for(;++o<e.length;){const c=e[o][1];if(a.push(e[o]),c.type==="labelImage"||c.type==="labelLink"||c.type==="labelEnd"){const d=c.type==="labelImage"?4:2;c.type="data",o+=d}}return e.length!==a.length&&splice$1(e,0,e.length,a),e}function resolveToLabelEnd(e,o){let a=e.length,c=0,d,g,b,_;for(;a--;)if(d=e[a][1],g){if(d.type==="link"||d.type==="labelLink"&&d._inactive)break;e[a][0]==="enter"&&d.type==="labelLink"&&(d._inactive=!0)}else if(b){if(e[a][0]==="enter"&&(d.type==="labelImage"||d.type==="labelLink")&&!d._balanced&&(g=a,d.type!=="labelLink")){c=2;break}}else d.type==="labelEnd"&&(b=a);const $={type:e[g][1].type==="labelLink"?"link":"image",start:{...e[g][1].start},end:{...e[e.length-1][1].end}},j={type:"label",start:{...e[g][1].start},end:{...e[b][1].end}},rt={type:"labelText",start:{...e[g+c+2][1].end},end:{...e[b-2][1].start}};return _=[["enter",$,o],["enter",j,o]],_=push(_,e.slice(g+1,g+c+3)),_=push(_,[["enter",rt,o]]),_=push(_,resolveAll$1(o.parser.constructs.insideSpan.null,e.slice(g+c+4,b-3),o)),_=push(_,[["exit",rt,o],e[b-2],e[b-1],["exit",j,o]]),_=push(_,e.slice(b+1)),_=push(_,[["exit",$,o]]),splice$1(e,g,e.length,_),e}function tokenizeLabelEnd(e,o,a){const c=this;let d=c.events.length,g,b;for(;d--;)if((c.events[d][1].type==="labelImage"||c.events[d][1].type==="labelLink")&&!c.events[d][1]._balanced){g=c.events[d][1];break}return _;function _(st){return g?g._inactive?nt(st):(b=c.parser.defined.includes(normalizeIdentifier$2(c.sliceSerialize({start:g.end,end:c.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(st),e.exit("labelMarker"),e.exit("labelEnd"),$):a(st)}function $(st){return st===40?e.attempt(resourceConstruct,rt,b?rt:nt)(st):st===91?e.attempt(referenceFullConstruct,rt,b?j:nt)(st):b?rt(st):nt(st)}function j(st){return e.attempt(referenceCollapsedConstruct,rt,nt)(st)}function rt(st){return o(st)}function nt(st){return g._balanced=!0,a(st)}}function tokenizeResource(e,o,a){return c;function c(nt){return e.enter("resource"),e.enter("resourceMarker"),e.consume(nt),e.exit("resourceMarker"),d}function d(nt){return markdownLineEndingOrSpace$1(nt)?factoryWhitespace(e,g)(nt):g(nt)}function g(nt){return nt===41?rt(nt):factoryDestination(e,b,_,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(nt)}function b(nt){return markdownLineEndingOrSpace$1(nt)?factoryWhitespace(e,$)(nt):rt(nt)}function _(nt){return a(nt)}function $(nt){return nt===34||nt===39||nt===40?factoryTitle(e,j,a,"resourceTitle","resourceTitleMarker","resourceTitleString")(nt):rt(nt)}function j(nt){return markdownLineEndingOrSpace$1(nt)?factoryWhitespace(e,rt)(nt):rt(nt)}function rt(nt){return nt===41?(e.enter("resourceMarker"),e.consume(nt),e.exit("resourceMarker"),e.exit("resource"),o):a(nt)}}function tokenizeReferenceFull(e,o,a){const c=this;return d;function d(_){return factoryLabel.call(c,e,g,b,"reference","referenceMarker","referenceString")(_)}function g(_){return c.parser.defined.includes(normalizeIdentifier$2(c.sliceSerialize(c.events[c.events.length-1][1]).slice(1,-1)))?o(_):a(_)}function b(_){return a(_)}}function tokenizeReferenceCollapsed(e,o,a){return c;function c(g){return e.enter("reference"),e.enter("referenceMarker"),e.consume(g),e.exit("referenceMarker"),d}function d(g){return g===93?(e.enter("referenceMarker"),e.consume(g),e.exit("referenceMarker"),e.exit("reference"),o):a(g)}}const labelStartImage={name:"labelStartImage",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartImage};function tokenizeLabelStartImage(e,o,a){const c=this;return d;function d(_){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(_),e.exit("labelImageMarker"),g}function g(_){return _===91?(e.enter("labelMarker"),e.consume(_),e.exit("labelMarker"),e.exit("labelImage"),b):a(_)}function b(_){return _===94&&"_hiddenFootnoteSupport"in c.parser.constructs?a(_):o(_)}}const labelStartLink={name:"labelStartLink",resolveAll:labelEnd.resolveAll,tokenize:tokenizeLabelStartLink};function tokenizeLabelStartLink(e,o,a){const c=this;return d;function d(b){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(b),e.exit("labelMarker"),e.exit("labelLink"),g}function g(b){return b===94&&"_hiddenFootnoteSupport"in c.parser.constructs?a(b):o(b)}}const lineEnding={name:"lineEnding",tokenize:tokenizeLineEnding};function tokenizeLineEnding(e,o){return a;function a(c){return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),factorySpace$1(e,o,"linePrefix")}}const thematicBreak$2={name:"thematicBreak",tokenize:tokenizeThematicBreak};function tokenizeThematicBreak(e,o,a){let c=0,d;return g;function g(j){return e.enter("thematicBreak"),b(j)}function b(j){return d=j,_(j)}function _(j){return j===d?(e.enter("thematicBreakSequence"),$(j)):c>=3&&(j===null||markdownLineEnding$1(j))?(e.exit("thematicBreak"),o(j)):a(j)}function $(j){return j===d?(e.consume(j),c++,$):(e.exit("thematicBreakSequence"),markdownSpace$1(j)?factorySpace$1(e,_,"whitespace")(j):_(j))}}const list$2={continuation:{tokenize:tokenizeListContinuation},exit:tokenizeListEnd,name:"list",tokenize:tokenizeListStart},listItemPrefixWhitespaceConstruct={partial:!0,tokenize:tokenizeListItemPrefixWhitespace},indentConstruct={partial:!0,tokenize:tokenizeIndent$2};function tokenizeListStart(e,o,a){const c=this,d=c.events[c.events.length-1];let g=d&&d[1].type==="linePrefix"?d[2].sliceSerialize(d[1],!0).length:0,b=0;return _;function _(jt){const wl=c.containerState.type||(jt===42||jt===43||jt===45?"listUnordered":"listOrdered");if(wl==="listUnordered"?!c.containerState.marker||jt===c.containerState.marker:asciiDigit(jt)){if(c.containerState.type||(c.containerState.type=wl,e.enter(wl,{_container:!0})),wl==="listUnordered")return e.enter("listItemPrefix"),jt===42||jt===45?e.check(thematicBreak$2,a,j)(jt):j(jt);if(!c.interrupt||jt===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),$(jt)}return a(jt)}function $(jt){return asciiDigit(jt)&&++b<10?(e.consume(jt),$):(!c.interrupt||b<2)&&(c.containerState.marker?jt===c.containerState.marker:jt===41||jt===46)?(e.exit("listItemValue"),j(jt)):a(jt)}function j(jt){return e.enter("listItemMarker"),e.consume(jt),e.exit("listItemMarker"),c.containerState.marker=c.containerState.marker||jt,e.check(blankLine$1,c.interrupt?a:rt,e.attempt(listItemPrefixWhitespaceConstruct,st,nt))}function rt(jt){return c.containerState.initialBlankLine=!0,g++,st(jt)}function nt(jt){return markdownSpace$1(jt)?(e.enter("listItemPrefixWhitespace"),e.consume(jt),e.exit("listItemPrefixWhitespace"),st):a(jt)}function st(jt){return c.containerState.size=g+c.sliceSerialize(e.exit("listItemPrefix"),!0).length,o(jt)}}function tokenizeListContinuation(e,o,a){const c=this;return c.containerState._closeFlow=void 0,e.check(blankLine$1,d,g);function d(_){return c.containerState.furtherBlankLines=c.containerState.furtherBlankLines||c.containerState.initialBlankLine,factorySpace$1(e,o,"listItemIndent",c.containerState.size+1)(_)}function g(_){return c.containerState.furtherBlankLines||!markdownSpace$1(_)?(c.containerState.furtherBlankLines=void 0,c.containerState.initialBlankLine=void 0,b(_)):(c.containerState.furtherBlankLines=void 0,c.containerState.initialBlankLine=void 0,e.attempt(indentConstruct,o,b)(_))}function b(_){return c.containerState._closeFlow=!0,c.interrupt=void 0,factorySpace$1(e,e.attempt(list$2,o,a),"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_)}}function tokenizeIndent$2(e,o,a){const c=this;return factorySpace$1(e,d,"listItemIndent",c.containerState.size+1);function d(g){const b=c.events[c.events.length-1];return b&&b[1].type==="listItemIndent"&&b[2].sliceSerialize(b[1],!0).length===c.containerState.size?o(g):a(g)}}function tokenizeListEnd(e){e.exit(this.containerState.type)}function tokenizeListItemPrefixWhitespace(e,o,a){const c=this;return factorySpace$1(e,d,"listItemPrefixWhitespace",c.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function d(g){const b=c.events[c.events.length-1];return!markdownSpace$1(g)&&b&&b[1].type==="listItemPrefixWhitespace"?o(g):a(g)}}const setextUnderline={name:"setextUnderline",resolveTo:resolveToSetextUnderline,tokenize:tokenizeSetextUnderline};function resolveToSetextUnderline(e,o){let a=e.length,c,d,g;for(;a--;)if(e[a][0]==="enter"){if(e[a][1].type==="content"){c=a;break}e[a][1].type==="paragraph"&&(d=a)}else e[a][1].type==="content"&&e.splice(a,1),!g&&e[a][1].type==="definition"&&(g=a);const b={type:"setextHeading",start:{...e[c][1].start},end:{...e[e.length-1][1].end}};return e[d][1].type="setextHeadingText",g?(e.splice(d,0,["enter",b,o]),e.splice(g+1,0,["exit",e[c][1],o]),e[c][1].end={...e[g][1].end}):e[c][1]=b,e.push(["exit",b,o]),e}function tokenizeSetextUnderline(e,o,a){const c=this;let d;return g;function g(j){let rt=c.events.length,nt;for(;rt--;)if(c.events[rt][1].type!=="lineEnding"&&c.events[rt][1].type!=="linePrefix"&&c.events[rt][1].type!=="content"){nt=c.events[rt][1].type==="paragraph";break}return!c.parser.lazy[c.now().line]&&(c.interrupt||nt)?(e.enter("setextHeadingLine"),d=j,b(j)):a(j)}function b(j){return e.enter("setextHeadingLineSequence"),_(j)}function _(j){return j===d?(e.consume(j),_):(e.exit("setextHeadingLineSequence"),markdownSpace$1(j)?factorySpace$1(e,$,"lineSuffix")(j):$(j))}function $(j){return j===null||markdownLineEnding$1(j)?(e.exit("setextHeadingLine"),o(j)):a(j)}}const flow$1={tokenize:initializeFlow};function initializeFlow(e){const o=this,a=e.attempt(blankLine$1,c,e.attempt(this.parser.constructs.flowInitial,d,factorySpace$1(e,e.attempt(this.parser.constructs.flow,d,e.attempt(content,d)),"linePrefix")));return a;function c(g){if(g===null){e.consume(g);return}return e.enter("lineEndingBlank"),e.consume(g),e.exit("lineEndingBlank"),o.currentConstruct=void 0,a}function d(g){if(g===null){e.consume(g);return}return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),o.currentConstruct=void 0,a}}const resolver={resolveAll:createResolver()},string$1=initializeFactory("string"),text$6=initializeFactory("text");function initializeFactory(e){return{resolveAll:createResolver(e==="text"?resolveAllLineSuffixes:void 0),tokenize:o};function o(a){const c=this,d=this.parser.constructs[e],g=a.attempt(d,b,_);return b;function b(rt){return j(rt)?g(rt):_(rt)}function _(rt){if(rt===null){a.consume(rt);return}return a.enter("data"),a.consume(rt),$}function $(rt){return j(rt)?(a.exit("data"),g(rt)):(a.consume(rt),$)}function j(rt){if(rt===null)return!0;const nt=d[rt];let st=-1;if(nt)for(;++st<nt.length;){const jt=nt[st];if(!jt.previous||jt.previous.call(c,c.previous))return!0}return!1}}}function createResolver(e){return o;function o(a,c){let d=-1,g;for(;++d<=a.length;)g===void 0?a[d]&&a[d][1].type==="data"&&(g=d,d++):(!a[d]||a[d][1].type!=="data")&&(d!==g+2&&(a[g][1].end=a[d-1][1].end,a.splice(g+2,d-g-2),d=g+2),g=void 0);return e?e(a,c):a}}function resolveAllLineSuffixes(e,o){let a=0;for(;++a<=e.length;)if((a===e.length||e[a][1].type==="lineEnding")&&e[a-1][1].type==="data"){const c=e[a-1][1],d=o.sliceStream(c);let g=d.length,b=-1,_=0,$;for(;g--;){const j=d[g];if(typeof j=="string"){for(b=j.length;j.charCodeAt(b-1)===32;)_++,b--;if(b)break;b=-1}else if(j===-2)$=!0,_++;else if(j!==-1){g++;break}}if(o._contentTypeTextTrailing&&a===e.length&&(_=0),_){const j={type:a===e.length||$||_<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:g?b:c.start._bufferIndex+b,_index:c.start._index+g,line:c.end.line,column:c.end.column-_,offset:c.end.offset-_},end:{...c.end}};c.end={...j.start},c.start.offset===c.end.offset?Object.assign(c,j):(e.splice(a,0,["enter",j,o],["exit",j,o]),a+=2)}a++}return e}const document$1={42:list$2,43:list$2,45:list$2,48:list$2,49:list$2,50:list$2,51:list$2,52:list$2,53:list$2,54:list$2,55:list$2,56:list$2,57:list$2,62:blockQuote},contentInitial={91:definition$1},flowInitial={[-2]:codeIndented,[-1]:codeIndented,32:codeIndented},flow={35:headingAtx,42:thematicBreak$2,45:[setextUnderline,thematicBreak$2],60:htmlFlow,61:setextUnderline,95:thematicBreak$2,96:codeFenced,126:codeFenced},string={38:characterReference,92:characterEscape},text$5={[-5]:lineEnding,[-4]:lineEnding,[-3]:lineEnding,33:labelStartImage,38:characterReference,42:attention,60:[autolink,htmlText],91:labelStartLink,92:[hardBreakEscape,characterEscape],93:labelEnd,95:attention,96:codeText},insideSpan={null:[attention,resolver]},attentionMarkers={null:[42,95]},disable={null:[]},defaultConstructs=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers,contentInitial,disable,document:document$1,flow,flowInitial,insideSpan,string,text:text$5},Symbol.toStringTag,{value:"Module"}));function createTokenizer(e,o,a){let c={_bufferIndex:-1,_index:0,line:a&&a.line||1,column:a&&a.column||1,offset:a&&a.offset||0};const d={},g=[];let b=[],_=[];const $={attempt:Ml(zl),check:Ml(In),consume:Ln,enter:Cl,exit:Tl,interrupt:Ml(In,{interrupt:!0})},j={code:null,containerState:{},defineSkip:Ft,events:[],now:wl,parser:e,previous:null,sliceSerialize:st,sliceStream:jt,write:nt};let rt=o.tokenize.call(j,$);return o.resolveAll&&g.push(o),j;function nt(mu){return b=push(b,mu),it(),b[b.length-1]!==null?[]:(Dl(o,0),j.events=resolveAll$1(g,j.events,j),j.events)}function st(mu,rp){return serializeChunks(jt(mu),rp)}function jt(mu){return sliceChunks(b,mu)}function wl(){const{_bufferIndex:mu,_index:rp,line:Ju,column:cp,offset:hp}=c;return{_bufferIndex:mu,_index:rp,line:Ju,column:cp,offset:hp}}function Ft(mu){d[mu.line]=mu.column,Vl()}function it(){let mu;for(;c._index<b.length;){const rp=b[c._index];if(typeof rp=="string")for(mu=c._index,c._bufferIndex<0&&(c._bufferIndex=0);c._index===mu&&c._bufferIndex<rp.length;)ot(rp.charCodeAt(c._bufferIndex));else ot(rp)}}function ot(mu){rt=rt(mu)}function Ln(mu){markdownLineEnding$1(mu)?(c.line++,c.column=1,c.offset+=mu===-3?2:1,Vl()):mu!==-1&&(c.column++,c.offset++),c._bufferIndex<0?c._index++:(c._bufferIndex++,c._bufferIndex===b[c._index].length&&(c._bufferIndex=-1,c._index++)),j.previous=mu}function Cl(mu,rp){const Ju=rp||{};return Ju.type=mu,Ju.start=wl(),j.events.push(["enter",Ju,j]),_.push(Ju),Ju}function Tl(mu){const rp=_.pop();return rp.end=wl(),j.events.push(["exit",rp,j]),rp}function zl(mu,rp){Dl(mu,rp.from)}function In(mu,rp){rp.restore()}function Ml(mu,rp){return Ju;function Ju(cp,hp,yp){let xp,fp,_p,ip;return Array.isArray(cp)?Dp(cp):"tokenize"in cp?Dp([cp]):gp(cp);function gp(C0){return P0;function P0(k0){const T0=k0!==null&&C0[k0],im=k0!==null&&C0.null,am=[...Array.isArray(T0)?T0:T0?[T0]:[],...Array.isArray(im)?im:im?[im]:[]];return Dp(am)(k0)}}function Dp(C0){return xp=C0,fp=0,C0.length===0?yp:Fp(C0[fp])}function Fp(C0){return P0;function P0(k0){return ip=Ul(),_p=C0,C0.partial||(j.currentConstruct=C0),C0.name&&j.parser.constructs.disable.null.includes(C0.name)?S0():C0.tokenize.call(rp?Object.assign(Object.create(j),rp):j,$,n0,S0)(k0)}}function n0(C0){return mu(_p,ip),hp}function S0(C0){return ip.restore(),++fp<xp.length?Fp(xp[fp]):yp}}}function Dl(mu,rp){mu.resolveAll&&!g.includes(mu)&&g.push(mu),mu.resolve&&splice$1(j.events,rp,j.events.length-rp,mu.resolve(j.events.slice(rp),j)),mu.resolveTo&&(j.events=mu.resolveTo(j.events,j))}function Ul(){const mu=wl(),rp=j.previous,Ju=j.currentConstruct,cp=j.events.length,hp=Array.from(_);return{from:cp,restore:yp};function yp(){c=mu,j.previous=rp,j.currentConstruct=Ju,j.events.length=cp,_=hp,Vl()}}function Vl(){c.line in d&&c.column<2&&(c.column=d[c.line],c.offset+=d[c.line]-1)}}function sliceChunks(e,o){const a=o.start._index,c=o.start._bufferIndex,d=o.end._index,g=o.end._bufferIndex;let b;if(a===d)b=[e[a].slice(c,g)];else{if(b=e.slice(a,d),c>-1){const _=b[0];typeof _=="string"?b[0]=_.slice(c):b.shift()}g>0&&b.push(e[d].slice(0,g))}return b}function serializeChunks(e,o){let a=-1;const c=[];let d;for(;++a<e.length;){const g=e[a];let b;if(typeof g=="string")b=g;else switch(g){case-5:{b="\r";break}case-4:{b=`
`;break}case-3:{b=`\r
`;break}case-2:{b=o?" ":"	";break}case-1:{if(!o&&d)continue;b=" ";break}default:b=String.fromCharCode(g)}d=g===-2,c.push(b)}return c.join("")}function parse(e){const c={constructs:combineExtensions([defaultConstructs,...(e||{}).extensions||[]]),content:d(content$1),defined:[],document:d(document$2),flow:d(flow$1),lazy:{},string:d(string$1),text:d(text$6)};return c;function d(g){return b;function b(_){return createTokenizer(c,g,_)}}}function postprocess(e){for(;!subtokenize(e););return e}const search$1=/[\0\t\n\r]/g;function preprocess(){let e=1,o="",a=!0,c;return d;function d(g,b,_){const $=[];let j,rt,nt,st,jt;for(g=o+(typeof g=="string"?g.toString():new TextDecoder(b||void 0).decode(g)),nt=0,o="",a&&(g.charCodeAt(0)===65279&&nt++,a=void 0);nt<g.length;){if(search$1.lastIndex=nt,j=search$1.exec(g),st=j&&j.index!==void 0?j.index:g.length,jt=g.charCodeAt(st),!j){o=g.slice(nt);break}if(jt===10&&nt===st&&c)$.push(-3),c=void 0;else switch(c&&($.push(-5),c=void 0),nt<st&&($.push(g.slice(nt,st)),e+=st-nt),jt){case 0:{$.push(65533),e++;break}case 9:{for(rt=Math.ceil(e/4)*4,$.push(-2);e++<rt;)$.push(-1);break}case 10:{$.push(-4),e=1;break}default:c=!0,e=1}nt=st+1}return _&&(c&&$.push(-5),o&&$.push(o),$.push(null)),$}}const characterEscapeOrReference$1=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString$1(e){return e.replace(characterEscapeOrReference$1,decode$1)}function decode$1(e,o,a){if(o)return o;if(a.charCodeAt(0)===35){const d=a.charCodeAt(1),g=d===120||d===88;return decodeNumericCharacterReference$1(a.slice(g?2:1),g?16:10)}return decodeNamedCharacterReference(a)||e}const own$2={}.hasOwnProperty;function fromMarkdown(e,o,a){return typeof o!="string"&&(a=o,o=void 0),compiler(a)(postprocess(parse(a).document().write(preprocess()(e,o,!0))))}function compiler(e){const o={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:g(Hm),autolinkProtocol:Ul,autolinkEmail:Ul,atxHeading:g(U0),blockQuote:g(im),characterEscape:Ul,characterReference:Ul,codeFenced:g(am),codeFencedFenceInfo:b,codeFencedFenceMeta:b,codeIndented:g(am,b),codeText:g(bm,b),codeTextData:Ul,data:Ul,codeFlowValue:Ul,definition:g(_g),definitionDestinationString:b,definitionLabelString:b,definitionTitleString:b,emphasis:g(b0),hardBreakEscape:g(mm),hardBreakTrailing:g(mm),htmlFlow:g(Lm,b),htmlFlowData:Ul,htmlText:g(Lm,b),htmlTextData:Ul,image:g(Um),label:b,link:g(Hm),listItem:g(Nm),listItemValue:st,listOrdered:g(Dm,nt),listUnordered:g(Dm),paragraph:g(Om),reference:Fp,referenceString:b,resourceDestinationString:b,resourceTitleString:b,setextHeading:g(U0),strong:g(Mm),thematicBreak:g(Jm)},exit:{atxHeading:$(),atxHeadingSequence:zl,autolink:$(),autolinkEmail:T0,autolinkProtocol:k0,blockQuote:$(),characterEscapeValue:Vl,characterReferenceMarkerHexadecimal:S0,characterReferenceMarkerNumeric:S0,characterReferenceValue:C0,characterReference:P0,codeFenced:$(it),codeFencedFence:Ft,codeFencedFenceInfo:jt,codeFencedFenceMeta:wl,codeFlowValue:Vl,codeIndented:$(ot),codeText:$(hp),codeTextData:Vl,data:Vl,definition:$(),definitionDestinationString:Tl,definitionLabelString:Ln,definitionTitleString:Cl,emphasis:$(),hardBreakEscape:$(rp),hardBreakTrailing:$(rp),htmlFlow:$(Ju),htmlFlowData:Vl,htmlText:$(cp),htmlTextData:Vl,image:$(xp),label:_p,labelText:fp,lineEnding:mu,link:$(yp),listItem:$(),listOrdered:$(),listUnordered:$(),paragraph:$(),referenceString:n0,resourceDestinationString:ip,resourceTitleString:gp,resource:Dp,setextHeading:$(Dl),setextHeadingLineSequence:Ml,setextHeadingText:In,strong:$(),thematicBreak:$()}};configure(o,(e||{}).mdastExtensions||[]);const a={};return c;function c(B0){let Pp={type:"root",children:[]};const Yp={stack:[Pp],tokenStack:[],config:o,enter:_,exit:j,buffer:b,resume:rt,data:a},o0=[];let W0=-1;for(;++W0<B0.length;)if(B0[W0][1].type==="listOrdered"||B0[W0][1].type==="listUnordered")if(B0[W0][0]==="enter")o0.push(W0);else{const G0=o0.pop();W0=d(B0,G0,W0)}for(W0=-1;++W0<B0.length;){const G0=o[B0[W0][0]];own$2.call(G0,B0[W0][1].type)&&G0[B0[W0][1].type].call(Object.assign({sliceSerialize:B0[W0][2].sliceSerialize},Yp),B0[W0][1])}if(Yp.tokenStack.length>0){const G0=Yp.tokenStack[Yp.tokenStack.length-1];(G0[1]||defaultOnError).call(Yp,void 0,G0[0])}for(Pp.position={start:point(B0.length>0?B0[0][1].start:{line:1,column:1,offset:0}),end:point(B0.length>0?B0[B0.length-2][1].end:{line:1,column:1,offset:0})},W0=-1;++W0<o.transforms.length;)Pp=o.transforms[W0](Pp)||Pp;return Pp}function d(B0,Pp,Yp){let o0=Pp-1,W0=-1,G0=!1,Em,hm,Vp,j0;for(;++o0<=Yp;){const Q0=B0[o0];switch(Q0[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Q0[0]==="enter"?W0++:W0--,j0=void 0;break}case"lineEndingBlank":{Q0[0]==="enter"&&(Em&&!j0&&!W0&&!Vp&&(Vp=o0),j0=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:j0=void 0}if(!W0&&Q0[0]==="enter"&&Q0[1].type==="listItemPrefix"||W0===-1&&Q0[0]==="exit"&&(Q0[1].type==="listUnordered"||Q0[1].type==="listOrdered")){if(Em){let Cm=o0;for(hm=void 0;Cm--;){const z0=B0[Cm];if(z0[1].type==="lineEnding"||z0[1].type==="lineEndingBlank"){if(z0[0]==="exit")continue;hm&&(B0[hm][1].type="lineEndingBlank",G0=!0),z0[1].type="lineEnding",hm=Cm}else if(!(z0[1].type==="linePrefix"||z0[1].type==="blockQuotePrefix"||z0[1].type==="blockQuotePrefixWhitespace"||z0[1].type==="blockQuoteMarker"||z0[1].type==="listItemIndent"))break}Vp&&(!hm||Vp<hm)&&(Em._spread=!0),Em.end=Object.assign({},hm?B0[hm][1].start:Q0[1].end),B0.splice(hm||o0,0,["exit",Em,Q0[2]]),o0++,Yp++}if(Q0[1].type==="listItemPrefix"){const Cm={type:"listItem",_spread:!1,start:Object.assign({},Q0[1].start),end:void 0};Em=Cm,B0.splice(o0,0,["enter",Cm,Q0[2]]),o0++,Yp++,Vp=void 0,j0=!0}}}return B0[Pp][1]._spread=G0,Yp}function g(B0,Pp){return Yp;function Yp(o0){_.call(this,B0(o0),o0),Pp&&Pp.call(this,o0)}}function b(){this.stack.push({type:"fragment",children:[]})}function _(B0,Pp,Yp){this.stack[this.stack.length-1].children.push(B0),this.stack.push(B0),this.tokenStack.push([Pp,Yp||void 0]),B0.position={start:point(Pp.start),end:void 0}}function $(B0){return Pp;function Pp(Yp){B0&&B0.call(this,Yp),j.call(this,Yp)}}function j(B0,Pp){const Yp=this.stack.pop(),o0=this.tokenStack.pop();if(o0)o0[0].type!==B0.type&&(Pp?Pp.call(this,B0,o0[0]):(o0[1]||defaultOnError).call(this,B0,o0[0]));else throw new Error("Cannot close `"+B0.type+"` ("+stringifyPosition({start:B0.start,end:B0.end})+"): its not open");Yp.position.end=point(B0.end)}function rt(){return toString$1(this.stack.pop())}function nt(){this.data.expectingFirstListItemValue=!0}function st(B0){if(this.data.expectingFirstListItemValue){const Pp=this.stack[this.stack.length-2];Pp.start=Number.parseInt(this.sliceSerialize(B0),10),this.data.expectingFirstListItemValue=void 0}}function jt(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.lang=B0}function wl(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.meta=B0}function Ft(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function it(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.value=B0.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function ot(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.value=B0.replace(/(\r?\n|\r)$/g,"")}function Ln(B0){const Pp=this.resume(),Yp=this.stack[this.stack.length-1];Yp.label=Pp,Yp.identifier=normalizeIdentifier$2(this.sliceSerialize(B0)).toLowerCase()}function Cl(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.title=B0}function Tl(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.url=B0}function zl(B0){const Pp=this.stack[this.stack.length-1];if(!Pp.depth){const Yp=this.sliceSerialize(B0).length;Pp.depth=Yp}}function In(){this.data.setextHeadingSlurpLineEnding=!0}function Ml(B0){const Pp=this.stack[this.stack.length-1];Pp.depth=this.sliceSerialize(B0).codePointAt(0)===61?1:2}function Dl(){this.data.setextHeadingSlurpLineEnding=void 0}function Ul(B0){const Yp=this.stack[this.stack.length-1].children;let o0=Yp[Yp.length-1];(!o0||o0.type!=="text")&&(o0=cm(),o0.position={start:point(B0.start),end:void 0},Yp.push(o0)),this.stack.push(o0)}function Vl(B0){const Pp=this.stack.pop();Pp.value+=this.sliceSerialize(B0),Pp.position.end=point(B0.end)}function mu(B0){const Pp=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Yp=Pp.children[Pp.children.length-1];Yp.position.end=point(B0.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&o.canContainEols.includes(Pp.type)&&(Ul.call(this,B0),Vl.call(this,B0))}function rp(){this.data.atHardBreak=!0}function Ju(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.value=B0}function cp(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.value=B0}function hp(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.value=B0}function yp(){const B0=this.stack[this.stack.length-1];if(this.data.inReference){const Pp=this.data.referenceType||"shortcut";B0.type+="Reference",B0.referenceType=Pp,delete B0.url,delete B0.title}else delete B0.identifier,delete B0.label;this.data.referenceType=void 0}function xp(){const B0=this.stack[this.stack.length-1];if(this.data.inReference){const Pp=this.data.referenceType||"shortcut";B0.type+="Reference",B0.referenceType=Pp,delete B0.url,delete B0.title}else delete B0.identifier,delete B0.label;this.data.referenceType=void 0}function fp(B0){const Pp=this.sliceSerialize(B0),Yp=this.stack[this.stack.length-2];Yp.label=decodeString$1(Pp),Yp.identifier=normalizeIdentifier$2(Pp).toLowerCase()}function _p(){const B0=this.stack[this.stack.length-1],Pp=this.resume(),Yp=this.stack[this.stack.length-1];if(this.data.inReference=!0,Yp.type==="link"){const o0=B0.children;Yp.children=o0}else Yp.alt=Pp}function ip(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.url=B0}function gp(){const B0=this.resume(),Pp=this.stack[this.stack.length-1];Pp.title=B0}function Dp(){this.data.inReference=void 0}function Fp(){this.data.referenceType="collapsed"}function n0(B0){const Pp=this.resume(),Yp=this.stack[this.stack.length-1];Yp.label=Pp,Yp.identifier=normalizeIdentifier$2(this.sliceSerialize(B0)).toLowerCase(),this.data.referenceType="full"}function S0(B0){this.data.characterReferenceType=B0.type}function C0(B0){const Pp=this.sliceSerialize(B0),Yp=this.data.characterReferenceType;let o0;Yp?(o0=decodeNumericCharacterReference$1(Pp,Yp==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):o0=decodeNamedCharacterReference(Pp);const W0=this.stack[this.stack.length-1];W0.value+=o0}function P0(B0){const Pp=this.stack.pop();Pp.position.end=point(B0.end)}function k0(B0){Vl.call(this,B0);const Pp=this.stack[this.stack.length-1];Pp.url=this.sliceSerialize(B0)}function T0(B0){Vl.call(this,B0);const Pp=this.stack[this.stack.length-1];Pp.url="mailto:"+this.sliceSerialize(B0)}function im(){return{type:"blockquote",children:[]}}function am(){return{type:"code",lang:null,meta:null,value:""}}function bm(){return{type:"inlineCode",value:""}}function _g(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function b0(){return{type:"emphasis",children:[]}}function U0(){return{type:"heading",depth:0,children:[]}}function mm(){return{type:"break"}}function Lm(){return{type:"html",value:""}}function Um(){return{type:"image",title:null,url:"",alt:null}}function Hm(){return{type:"link",title:null,url:"",children:[]}}function Dm(B0){return{type:"list",ordered:B0.type==="listOrdered",start:null,spread:B0._spread,children:[]}}function Nm(B0){return{type:"listItem",spread:B0._spread,checked:null,children:[]}}function Om(){return{type:"paragraph",children:[]}}function Mm(){return{type:"strong",children:[]}}function cm(){return{type:"text",value:""}}function Jm(){return{type:"thematicBreak"}}}function point(e){return{line:e.line,column:e.column,offset:e.offset}}function configure(e,o){let a=-1;for(;++a<o.length;){const c=o[a];Array.isArray(c)?configure(e,c):extension(e,c)}}function extension(e,o){let a;for(a in o)if(own$2.call(o,a))switch(a){case"canContainEols":{const c=o[a];c&&e[a].push(...c);break}case"transforms":{const c=o[a];c&&e[a].push(...c);break}case"enter":case"exit":{const c=o[a];c&&Object.assign(e[a],c);break}}}function defaultOnError(e,o){throw e?new Error("Cannot close `"+e.type+"` ("+stringifyPosition({start:e.start,end:e.end})+"): a different token (`"+o.type+"`, "+stringifyPosition({start:o.start,end:o.end})+") is open"):new Error("Cannot close document, a token (`"+o.type+"`, "+stringifyPosition({start:o.start,end:o.end})+") is still open")}function remarkParse(e){const o=this;o.parser=a;function a(c){return fromMarkdown(c,{...o.data("settings"),...e,extensions:o.data("micromarkExtensions")||[],mdastExtensions:o.data("fromMarkdownExtensions")||[]})}}function blockquote$1(e,o){const a={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(o),!0)};return e.patch(o,a),e.applyData(o,a)}function hardBreak$1(e,o){const a={type:"element",tagName:"br",properties:{},children:[]};return e.patch(o,a),[e.applyData(o,a),{type:"text",value:`
`}]}function code$2(e,o){const a=o.value?o.value+`
`:"",c={};o.lang&&(c.className=["language-"+o.lang]);let d={type:"element",tagName:"code",properties:c,children:[{type:"text",value:a}]};return o.meta&&(d.data={meta:o.meta}),e.patch(o,d),d=e.applyData(o,d),d={type:"element",tagName:"pre",properties:{},children:[d]},e.patch(o,d),d}function strikethrough(e,o){const a={type:"element",tagName:"del",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function emphasis$1(e,o){const a={type:"element",tagName:"em",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function footnoteReference$2(e,o){const a=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",c=String(o.identifier).toUpperCase(),d=normalizeUri(c.toLowerCase()),g=e.footnoteOrder.indexOf(c);let b,_=e.footnoteCounts.get(c);_===void 0?(_=0,e.footnoteOrder.push(c),b=e.footnoteOrder.length):b=g+1,_+=1,e.footnoteCounts.set(c,_);const $={type:"element",tagName:"a",properties:{href:"#"+a+"fn-"+d,id:a+"fnref-"+d+(_>1?"-"+_:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(b)}]};e.patch(o,$);const j={type:"element",tagName:"sup",properties:{},children:[$]};return e.patch(o,j),e.applyData(o,j)}function heading$1(e,o){const a={type:"element",tagName:"h"+o.depth,properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function html$1(e,o){if(e.options.allowDangerousHtml){const a={type:"raw",value:o.value};return e.patch(o,a),e.applyData(o,a)}}function revert(e,o){const a=o.referenceType;let c="]";if(a==="collapsed"?c+="[]":a==="full"&&(c+="["+(o.label||o.identifier)+"]"),o.type==="imageReference")return[{type:"text",value:"!["+o.alt+c}];const d=e.all(o),g=d[0];g&&g.type==="text"?g.value="["+g.value:d.unshift({type:"text",value:"["});const b=d[d.length-1];return b&&b.type==="text"?b.value+=c:d.push({type:"text",value:c}),d}function imageReference$1(e,o){const a=String(o.identifier).toUpperCase(),c=e.definitionById.get(a);if(!c)return revert(e,o);const d={src:normalizeUri(c.url||""),alt:o.alt};c.title!==null&&c.title!==void 0&&(d.title=c.title);const g={type:"element",tagName:"img",properties:d,children:[]};return e.patch(o,g),e.applyData(o,g)}function image$1(e,o){const a={src:normalizeUri(o.url)};o.alt!==null&&o.alt!==void 0&&(a.alt=o.alt),o.title!==null&&o.title!==void 0&&(a.title=o.title);const c={type:"element",tagName:"img",properties:a,children:[]};return e.patch(o,c),e.applyData(o,c)}function inlineCode$1(e,o){const a={type:"text",value:o.value.replace(/\r?\n|\r/g," ")};e.patch(o,a);const c={type:"element",tagName:"code",properties:{},children:[a]};return e.patch(o,c),e.applyData(o,c)}function linkReference$1(e,o){const a=String(o.identifier).toUpperCase(),c=e.definitionById.get(a);if(!c)return revert(e,o);const d={href:normalizeUri(c.url||"")};c.title!==null&&c.title!==void 0&&(d.title=c.title);const g={type:"element",tagName:"a",properties:d,children:e.all(o)};return e.patch(o,g),e.applyData(o,g)}function link$1(e,o){const a={href:normalizeUri(o.url)};o.title!==null&&o.title!==void 0&&(a.title=o.title);const c={type:"element",tagName:"a",properties:a,children:e.all(o)};return e.patch(o,c),e.applyData(o,c)}function listItem$1(e,o,a){const c=e.all(o),d=a?listLoose(a):listItemLoose(o),g={},b=[];if(typeof o.checked=="boolean"){const rt=c[0];let nt;rt&&rt.type==="element"&&rt.tagName==="p"?nt=rt:(nt={type:"element",tagName:"p",properties:{},children:[]},c.unshift(nt)),nt.children.length>0&&nt.children.unshift({type:"text",value:" "}),nt.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:o.checked,disabled:!0},children:[]}),g.className=["task-list-item"]}let _=-1;for(;++_<c.length;){const rt=c[_];(d||_!==0||rt.type!=="element"||rt.tagName!=="p")&&b.push({type:"text",value:`
`}),rt.type==="element"&&rt.tagName==="p"&&!d?b.push(...rt.children):b.push(rt)}const $=c[c.length-1];$&&(d||$.type!=="element"||$.tagName!=="p")&&b.push({type:"text",value:`
`});const j={type:"element",tagName:"li",properties:g,children:b};return e.patch(o,j),e.applyData(o,j)}function listLoose(e){let o=!1;if(e.type==="list"){o=e.spread||!1;const a=e.children;let c=-1;for(;!o&&++c<a.length;)o=listItemLoose(a[c])}return o}function listItemLoose(e){const o=e.spread;return o??e.children.length>1}function list$1(e,o){const a={},c=e.all(o);let d=-1;for(typeof o.start=="number"&&o.start!==1&&(a.start=o.start);++d<c.length;){const b=c[d];if(b.type==="element"&&b.tagName==="li"&&b.properties&&Array.isArray(b.properties.className)&&b.properties.className.includes("task-list-item")){a.className=["contains-task-list"];break}}const g={type:"element",tagName:o.ordered?"ol":"ul",properties:a,children:e.wrap(c,!0)};return e.patch(o,g),e.applyData(o,g)}function paragraph$1(e,o){const a={type:"element",tagName:"p",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function root$2(e,o){const a={type:"root",children:e.wrap(e.all(o))};return e.patch(o,a),e.applyData(o,a)}function strong$1(e,o){const a={type:"element",tagName:"strong",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}function table(e,o){const a=e.all(o),c=a.shift(),d=[];if(c){const b={type:"element",tagName:"thead",properties:{},children:e.wrap([c],!0)};e.patch(o.children[0],b),d.push(b)}if(a.length>0){const b={type:"element",tagName:"tbody",properties:{},children:e.wrap(a,!0)},_=pointStart(o.children[1]),$=pointEnd(o.children[o.children.length-1]);_&&$&&(b.position={start:_,end:$}),d.push(b)}const g={type:"element",tagName:"table",properties:{},children:e.wrap(d,!0)};return e.patch(o,g),e.applyData(o,g)}function tableRow(e,o,a){const c=a?a.children:void 0,g=(c?c.indexOf(o):1)===0?"th":"td",b=a&&a.type==="table"?a.align:void 0,_=b?b.length:o.children.length;let $=-1;const j=[];for(;++$<_;){const nt=o.children[$],st={},jt=b?b[$]:void 0;jt&&(st.align=jt);let wl={type:"element",tagName:g,properties:st,children:[]};nt&&(wl.children=e.all(nt),e.patch(nt,wl),wl=e.applyData(nt,wl)),j.push(wl)}const rt={type:"element",tagName:"tr",properties:{},children:e.wrap(j,!0)};return e.patch(o,rt),e.applyData(o,rt)}function tableCell(e,o){const a={type:"element",tagName:"td",properties:{},children:e.all(o)};return e.patch(o,a),e.applyData(o,a)}const tab=9,space=32;function trimLines(e){const o=String(e),a=/\r?\n|\r/g;let c=a.exec(o),d=0;const g=[];for(;c;)g.push(trimLine(o.slice(d,c.index),d>0,!0),c[0]),d=c.index+c[0].length,c=a.exec(o);return g.push(trimLine(o.slice(d),d>0,!1)),g.join("")}function trimLine(e,o,a){let c=0,d=e.length;if(o){let g=e.codePointAt(c);for(;g===tab||g===space;)c++,g=e.codePointAt(c)}if(a){let g=e.codePointAt(d-1);for(;g===tab||g===space;)d--,g=e.codePointAt(d-1)}return d>c?e.slice(c,d):""}function text$4(e,o){const a={type:"text",value:trimLines(String(o.value))};return e.patch(o,a),e.applyData(o,a)}function thematicBreak$1(e,o){const a={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(o,a),e.applyData(o,a)}const handlers={blockquote:blockquote$1,break:hardBreak$1,code:code$2,delete:strikethrough,emphasis:emphasis$1,footnoteReference:footnoteReference$2,heading:heading$1,html:html$1,imageReference:imageReference$1,image:image$1,inlineCode:inlineCode$1,linkReference:linkReference$1,link:link$1,listItem:listItem$1,list:list$1,paragraph:paragraph$1,root:root$2,strong:strong$1,table,tableCell,tableRow,text:text$4,thematicBreak:thematicBreak$1,toml:ignore,yaml:ignore,definition:ignore,footnoteDefinition:ignore};function ignore(){}const VOID=-1,PRIMITIVE=0,ARRAY=1,OBJECT=2,DATE=3,REGEXP=4,MAP=5,SET=6,ERROR=7,BIGINT=8,env=typeof self=="object"?self:globalThis,deserializer=(e,o)=>{const a=(d,g)=>(e.set(g,d),d),c=d=>{if(e.has(d))return e.get(d);const[g,b]=o[d];switch(g){case PRIMITIVE:case VOID:return a(b,d);case ARRAY:{const _=a([],d);for(const $ of b)_.push(c($));return _}case OBJECT:{const _=a({},d);for(const[$,j]of b)_[c($)]=c(j);return _}case DATE:return a(new Date(b),d);case REGEXP:{const{source:_,flags:$}=b;return a(new RegExp(_,$),d)}case MAP:{const _=a(new Map,d);for(const[$,j]of b)_.set(c($),c(j));return _}case SET:{const _=a(new Set,d);for(const $ of b)_.add(c($));return _}case ERROR:{const{name:_,message:$}=b;return a(new env[_]($),d)}case BIGINT:return a(BigInt(b),d);case"BigInt":return a(Object(BigInt(b)),d);case"ArrayBuffer":return a(new Uint8Array(b).buffer,b);case"DataView":{const{buffer:_}=new Uint8Array(b);return a(new DataView(_),b)}}return a(new env[g](b),d)};return c},deserialize=e=>deserializer(new Map,e)(0),EMPTY="",{toString}={},{keys}=Object,typeOf=e=>{const o=typeof e;if(o!=="object"||!e)return[PRIMITIVE,o];const a=toString.call(e).slice(8,-1);switch(a){case"Array":return[ARRAY,EMPTY];case"Object":return[OBJECT,EMPTY];case"Date":return[DATE,EMPTY];case"RegExp":return[REGEXP,EMPTY];case"Map":return[MAP,EMPTY];case"Set":return[SET,EMPTY];case"DataView":return[ARRAY,a]}return a.includes("Array")?[ARRAY,a]:a.includes("Error")?[ERROR,a]:[OBJECT,a]},shouldSkip=([e,o])=>e===PRIMITIVE&&(o==="function"||o==="symbol"),serializer=(e,o,a,c)=>{const d=(b,_)=>{const $=c.push(b)-1;return a.set(_,$),$},g=b=>{if(a.has(b))return a.get(b);let[_,$]=typeOf(b);switch(_){case PRIMITIVE:{let rt=b;switch($){case"bigint":_=BIGINT,rt=b.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+$);rt=null;break;case"undefined":return d([VOID],b)}return d([_,rt],b)}case ARRAY:{if($){let st=b;return $==="DataView"?st=new Uint8Array(b.buffer):$==="ArrayBuffer"&&(st=new Uint8Array(b)),d([$,[...st]],b)}const rt=[],nt=d([_,rt],b);for(const st of b)rt.push(g(st));return nt}case OBJECT:{if($)switch($){case"BigInt":return d([$,b.toString()],b);case"Boolean":case"Number":case"String":return d([$,b.valueOf()],b)}if(o&&"toJSON"in b)return g(b.toJSON());const rt=[],nt=d([_,rt],b);for(const st of keys(b))(e||!shouldSkip(typeOf(b[st])))&&rt.push([g(st),g(b[st])]);return nt}case DATE:return d([_,b.toISOString()],b);case REGEXP:{const{source:rt,flags:nt}=b;return d([_,{source:rt,flags:nt}],b)}case MAP:{const rt=[],nt=d([_,rt],b);for(const[st,jt]of b)(e||!(shouldSkip(typeOf(st))||shouldSkip(typeOf(jt))))&&rt.push([g(st),g(jt)]);return nt}case SET:{const rt=[],nt=d([_,rt],b);for(const st of b)(e||!shouldSkip(typeOf(st)))&&rt.push(g(st));return nt}}const{message:j}=b;return d([_,{name:$,message:j}],b)};return g},serialize$1=(e,{json:o,lossy:a}={})=>{const c=[];return serializer(!(o||a),!!o,new Map,c)(e),c},structuredClone$1=typeof structuredClone=="function"?(e,o)=>o&&("json"in o||"lossy"in o)?deserialize(serialize$1(e,o)):structuredClone(e):(e,o)=>deserialize(serialize$1(e,o));function defaultFootnoteBackContent(e,o){const a=[{type:"text",value:""}];return o>1&&a.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(o)}]}),a}function defaultFootnoteBackLabel(e,o){return"Back to reference "+(e+1)+(o>1?"-"+o:"")}function footer(e){const o=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=e.options.footnoteBackContent||defaultFootnoteBackContent,c=e.options.footnoteBackLabel||defaultFootnoteBackLabel,d=e.options.footnoteLabel||"Footnotes",g=e.options.footnoteLabelTagName||"h2",b=e.options.footnoteLabelProperties||{className:["sr-only"]},_=[];let $=-1;for(;++$<e.footnoteOrder.length;){const j=e.footnoteById.get(e.footnoteOrder[$]);if(!j)continue;const rt=e.all(j),nt=String(j.identifier).toUpperCase(),st=normalizeUri(nt.toLowerCase());let jt=0;const wl=[],Ft=e.footnoteCounts.get(nt);for(;Ft!==void 0&&++jt<=Ft;){wl.length>0&&wl.push({type:"text",value:" "});let Ln=typeof a=="string"?a:a($,jt);typeof Ln=="string"&&(Ln={type:"text",value:Ln}),wl.push({type:"element",tagName:"a",properties:{href:"#"+o+"fnref-"+st+(jt>1?"-"+jt:""),dataFootnoteBackref:"",ariaLabel:typeof c=="string"?c:c($,jt),className:["data-footnote-backref"]},children:Array.isArray(Ln)?Ln:[Ln]})}const it=rt[rt.length-1];if(it&&it.type==="element"&&it.tagName==="p"){const Ln=it.children[it.children.length-1];Ln&&Ln.type==="text"?Ln.value+=" ":it.children.push({type:"text",value:" "}),it.children.push(...wl)}else rt.push(...wl);const ot={type:"element",tagName:"li",properties:{id:o+"fn-"+st},children:e.wrap(rt,!0)};e.patch(j,ot),_.push(ot)}if(_.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:g,properties:{...structuredClone$1(b),id:"footnote-label"},children:[{type:"text",value:d}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(_,!0)},{type:"text",value:`
`}]}}const convert=function(e){if(e==null)return ok;if(typeof e=="function")return castFactory$1(e);if(typeof e=="object")return Array.isArray(e)?anyFactory$1(e):propsFactory(e);if(typeof e=="string")return typeFactory(e);throw new Error("Expected function, string, or object as test")};function anyFactory$1(e){const o=[];let a=-1;for(;++a<e.length;)o[a]=convert(e[a]);return castFactory$1(c);function c(...d){let g=-1;for(;++g<o.length;)if(o[g].apply(this,d))return!0;return!1}}function propsFactory(e){const o=e;return castFactory$1(a);function a(c){const d=c;let g;for(g in e)if(d[g]!==o[g])return!1;return!0}}function typeFactory(e){return castFactory$1(o);function o(a){return a&&a.type===e}}function castFactory$1(e){return o;function o(a,c,d){return!!(looksLikeANode(a)&&e.call(this,a,typeof c=="number"?c:void 0,d||void 0))}}function ok(){return!0}function looksLikeANode(e){return e!==null&&typeof e=="object"&&"type"in e}function color(e){return e}const empty=[],CONTINUE=!0,EXIT=!1,SKIP="skip";function visitParents(e,o,a,c){let d;typeof o=="function"&&typeof a!="function"?(c=a,a=o):d=o;const g=convert(d),b=c?-1:1;_(e,void 0,[])();function _($,j,rt){const nt=$&&typeof $=="object"?$:{};if(typeof nt.type=="string"){const jt=typeof nt.tagName=="string"?nt.tagName:typeof nt.name=="string"?nt.name:void 0;Object.defineProperty(st,"name",{value:"node ("+($.type+(jt?"<"+jt+">":""))+")"})}return st;function st(){let jt=empty,wl,Ft,it;if((!o||g($,j,rt[rt.length-1]||void 0))&&(jt=toResult(a($,rt)),jt[0]===EXIT))return jt;if("children"in $&&$.children){const ot=$;if(ot.children&&jt[0]!==SKIP)for(Ft=(c?ot.children.length:-1)+b,it=rt.concat(ot);Ft>-1&&Ft<ot.children.length;){const Ln=ot.children[Ft];if(wl=_(Ln,Ft,it)(),wl[0]===EXIT)return wl;Ft=typeof wl[1]=="number"?wl[1]:Ft+b}}return jt}}}function toResult(e){return Array.isArray(e)?e:typeof e=="number"?[CONTINUE,e]:e==null?empty:[e]}function visit(e,o,a,c){let d,g,b;typeof o=="function"&&typeof a!="function"?(g=void 0,b=o,d=a):(g=o,b=a,d=c),visitParents(e,g,_,d);function _($,j){const rt=j[j.length-1],nt=rt?rt.children.indexOf($):void 0;return b($,nt,rt)}}const own$1={}.hasOwnProperty,emptyOptions$3={};function createState(e,o){const a=o||emptyOptions$3,c=new Map,d=new Map,g=new Map,b={...handlers,...a.handlers},_={all:j,applyData,definitionById:c,footnoteById:d,footnoteCounts:g,footnoteOrder:[],handlers:b,one:$,options:a,patch,wrap:wrap$1};return visit(e,function(rt){if(rt.type==="definition"||rt.type==="footnoteDefinition"){const nt=rt.type==="definition"?c:d,st=String(rt.identifier).toUpperCase();nt.has(st)||nt.set(st,rt)}}),_;function $(rt,nt){const st=rt.type,jt=_.handlers[st];if(own$1.call(_.handlers,st)&&jt)return jt(_,rt,nt);if(_.options.passThrough&&_.options.passThrough.includes(st)){if("children"in rt){const{children:Ft,...it}=rt,ot=structuredClone$1(it);return ot.children=_.all(rt),ot}return structuredClone$1(rt)}return(_.options.unknownHandler||defaultUnknownHandler)(_,rt,nt)}function j(rt){const nt=[];if("children"in rt){const st=rt.children;let jt=-1;for(;++jt<st.length;){const wl=_.one(st[jt],rt);if(wl){if(jt&&st[jt-1].type==="break"&&(!Array.isArray(wl)&&wl.type==="text"&&(wl.value=trimMarkdownSpaceStart(wl.value)),!Array.isArray(wl)&&wl.type==="element")){const Ft=wl.children[0];Ft&&Ft.type==="text"&&(Ft.value=trimMarkdownSpaceStart(Ft.value))}Array.isArray(wl)?nt.push(...wl):nt.push(wl)}}}return nt}}function patch(e,o){e.position&&(o.position=position$1(e))}function applyData(e,o){let a=o;if(e&&e.data){const c=e.data.hName,d=e.data.hChildren,g=e.data.hProperties;if(typeof c=="string")if(a.type==="element")a.tagName=c;else{const b="children"in a?a.children:[a];a={type:"element",tagName:c,properties:{},children:b}}a.type==="element"&&g&&Object.assign(a.properties,structuredClone$1(g)),"children"in a&&a.children&&d!==null&&d!==void 0&&(a.children=d)}return a}function defaultUnknownHandler(e,o){const a=o.data||{},c="value"in o&&!(own$1.call(a,"hProperties")||own$1.call(a,"hChildren"))?{type:"text",value:o.value}:{type:"element",tagName:"div",properties:{},children:e.all(o)};return e.patch(o,c),e.applyData(o,c)}function wrap$1(e,o){const a=[];let c=-1;for(o&&a.push({type:"text",value:`
`});++c<e.length;)c&&a.push({type:"text",value:`
`}),a.push(e[c]);return o&&e.length>0&&a.push({type:"text",value:`
`}),a}function trimMarkdownSpaceStart(e){let o=0,a=e.charCodeAt(o);for(;a===9||a===32;)o++,a=e.charCodeAt(o);return e.slice(o)}function toHast(e,o){const a=createState(e,o),c=a.one(e,void 0),d=footer(a),g=Array.isArray(c)?{type:"root",children:c}:c||{type:"root",children:[]};return d&&g.children.push({type:"text",value:`
`},d),g}function remarkRehype(e,o){return e&&"run"in e?async function(a,c){const d=toHast(a,{file:c,...o});await e.run(d,c)}:function(a,c){return toHast(a,{file:c,...e||o})}}function bail(e){if(e)throw e}var hasOwn=Object.prototype.hasOwnProperty,toStr=Object.prototype.toString,defineProperty=Object.defineProperty,gOPD=Object.getOwnPropertyDescriptor,isArray=function e(o){return typeof Array.isArray=="function"?Array.isArray(o):toStr.call(o)==="[object Array]"},isPlainObject$1=function e(o){if(!o||toStr.call(o)!=="[object Object]")return!1;var a=hasOwn.call(o,"constructor"),c=o.constructor&&o.constructor.prototype&&hasOwn.call(o.constructor.prototype,"isPrototypeOf");if(o.constructor&&!a&&!c)return!1;var d;for(d in o);return typeof d>"u"||hasOwn.call(o,d)},setProperty=function e(o,a){defineProperty&&a.name==="__proto__"?defineProperty(o,a.name,{enumerable:!0,configurable:!0,value:a.newValue,writable:!0}):o[a.name]=a.newValue},getProperty=function e(o,a){if(a==="__proto__")if(hasOwn.call(o,a)){if(gOPD)return gOPD(o,a).value}else return;return o[a]},extend=function e(){var o,a,c,d,g,b,_=arguments[0],$=1,j=arguments.length,rt=!1;for(typeof _=="boolean"&&(rt=_,_=arguments[1]||{},$=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});$<j;++$)if(o=arguments[$],o!=null)for(a in o)c=getProperty(_,a),d=getProperty(o,a),_!==d&&(rt&&d&&(isPlainObject$1(d)||(g=isArray(d)))?(g?(g=!1,b=c&&isArray(c)?c:[]):b=c&&isPlainObject$1(c)?c:{},setProperty(_,{name:a,newValue:e(rt,b,d)})):typeof d<"u"&&setProperty(_,{name:a,newValue:d}));return _};const extend$1=getDefaultExportFromCjs(extend);function isPlainObject(e){if(typeof e!="object"||e===null)return!1;const o=Object.getPrototypeOf(e);return(o===null||o===Object.prototype||Object.getPrototypeOf(o)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function trough(){const e=[],o={run:a,use:c};return o;function a(...d){let g=-1;const b=d.pop();if(typeof b!="function")throw new TypeError("Expected function as last argument, not "+b);_(null,...d);function _($,...j){const rt=e[++g];let nt=-1;if($){b($);return}for(;++nt<d.length;)(j[nt]===null||j[nt]===void 0)&&(j[nt]=d[nt]);d=j,rt?wrap(rt,_)(...j):b(null,...j)}}function c(d){if(typeof d!="function")throw new TypeError("Expected `middelware` to be a function, not "+d);return e.push(d),o}}function wrap(e,o){let a;return c;function c(...b){const _=e.length>b.length;let $;_&&b.push(d);try{$=e.apply(this,b)}catch(j){const rt=j;if(_&&a)throw rt;return d(rt)}_||($&&$.then&&typeof $.then=="function"?$.then(g,d):$ instanceof Error?d($):g($))}function d(b,..._){a||(a=!0,o(b,..._))}function g(b){d(null,b)}}const minpath={basename,dirname,extname,join,sep:"/"};function basename(e,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');assertPath$1(e);let a=0,c=-1,d=e.length,g;if(o===void 0||o.length===0||o.length>e.length){for(;d--;)if(e.codePointAt(d)===47){if(g){a=d+1;break}}else c<0&&(g=!0,c=d+1);return c<0?"":e.slice(a,c)}if(o===e)return"";let b=-1,_=o.length-1;for(;d--;)if(e.codePointAt(d)===47){if(g){a=d+1;break}}else b<0&&(g=!0,b=d+1),_>-1&&(e.codePointAt(d)===o.codePointAt(_--)?_<0&&(c=d):(_=-1,c=b));return a===c?c=b:c<0&&(c=e.length),e.slice(a,c)}function dirname(e){if(assertPath$1(e),e.length===0)return".";let o=-1,a=e.length,c;for(;--a;)if(e.codePointAt(a)===47){if(c){o=a;break}}else c||(c=!0);return o<0?e.codePointAt(0)===47?"/":".":o===1&&e.codePointAt(0)===47?"//":e.slice(0,o)}function extname(e){assertPath$1(e);let o=e.length,a=-1,c=0,d=-1,g=0,b;for(;o--;){const _=e.codePointAt(o);if(_===47){if(b){c=o+1;break}continue}a<0&&(b=!0,a=o+1),_===46?d<0?d=o:g!==1&&(g=1):d>-1&&(g=-1)}return d<0||a<0||g===0||g===1&&d===a-1&&d===c+1?"":e.slice(d,a)}function join(...e){let o=-1,a;for(;++o<e.length;)assertPath$1(e[o]),e[o]&&(a=a===void 0?e[o]:a+"/"+e[o]);return a===void 0?".":normalize(a)}function normalize(e){assertPath$1(e);const o=e.codePointAt(0)===47;let a=normalizeString(e,!o);return a.length===0&&!o&&(a="."),a.length>0&&e.codePointAt(e.length-1)===47&&(a+="/"),o?"/"+a:a}function normalizeString(e,o){let a="",c=0,d=-1,g=0,b=-1,_,$;for(;++b<=e.length;){if(b<e.length)_=e.codePointAt(b);else{if(_===47)break;_=47}if(_===47){if(!(d===b-1||g===1))if(d!==b-1&&g===2){if(a.length<2||c!==2||a.codePointAt(a.length-1)!==46||a.codePointAt(a.length-2)!==46){if(a.length>2){if($=a.lastIndexOf("/"),$!==a.length-1){$<0?(a="",c=0):(a=a.slice(0,$),c=a.length-1-a.lastIndexOf("/")),d=b,g=0;continue}}else if(a.length>0){a="",c=0,d=b,g=0;continue}}o&&(a=a.length>0?a+"/..":"..",c=2)}else a.length>0?a+="/"+e.slice(d+1,b):a=e.slice(d+1,b),c=b-d-1;d=b,g=0}else _===46&&g>-1?g++:g=-1}return a}function assertPath$1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const minproc={cwd};function cwd(){return"/"}function isUrl(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function urlToPath(e){if(typeof e=="string")e=new URL(e);else if(!isUrl(e)){const o=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw o.code="ERR_INVALID_ARG_TYPE",o}if(e.protocol!=="file:"){const o=new TypeError("The URL must be of scheme file");throw o.code="ERR_INVALID_URL_SCHEME",o}return getPathFromURLPosix(e)}function getPathFromURLPosix(e){if(e.hostname!==""){const c=new TypeError('File URL host must be "localhost" or empty on darwin');throw c.code="ERR_INVALID_FILE_URL_HOST",c}const o=e.pathname;let a=-1;for(;++a<o.length;)if(o.codePointAt(a)===37&&o.codePointAt(a+1)===50){const c=o.codePointAt(a+2);if(c===70||c===102){const d=new TypeError("File URL path must not include encoded / characters");throw d.code="ERR_INVALID_FILE_URL_PATH",d}}return decodeURIComponent(o)}const order=["history","path","basename","stem","extname","dirname"];class VFile{constructor(o){let a;o?isUrl(o)?a={path:o}:typeof o=="string"||isUint8Array$1(o)?a={value:o}:a=o:a={},this.cwd="cwd"in a?"":minproc.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let c=-1;for(;++c<order.length;){const g=order[c];g in a&&a[g]!==void 0&&a[g]!==null&&(this[g]=g==="history"?[...a[g]]:a[g])}let d;for(d in a)order.includes(d)||(this[d]=a[d])}get basename(){return typeof this.path=="string"?minpath.basename(this.path):void 0}set basename(o){assertNonEmpty(o,"basename"),assertPart(o,"basename"),this.path=minpath.join(this.dirname||"",o)}get dirname(){return typeof this.path=="string"?minpath.dirname(this.path):void 0}set dirname(o){assertPath(this.basename,"dirname"),this.path=minpath.join(o||"",this.basename)}get extname(){return typeof this.path=="string"?minpath.extname(this.path):void 0}set extname(o){if(assertPart(o,"extname"),assertPath(this.dirname,"extname"),o){if(o.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(o.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=minpath.join(this.dirname,this.stem+(o||""))}get path(){return this.history[this.history.length-1]}set path(o){isUrl(o)&&(o=urlToPath(o)),assertNonEmpty(o,"path"),this.path!==o&&this.history.push(o)}get stem(){return typeof this.path=="string"?minpath.basename(this.path,this.extname):void 0}set stem(o){assertNonEmpty(o,"stem"),assertPart(o,"stem"),this.path=minpath.join(this.dirname||"",o+(this.extname||""))}fail(o,a,c){const d=this.message(o,a,c);throw d.fatal=!0,d}info(o,a,c){const d=this.message(o,a,c);return d.fatal=void 0,d}message(o,a,c){const d=new VFileMessage(o,a,c);return this.path&&(d.name=this.path+":"+d.name,d.file=this.path),d.fatal=!1,this.messages.push(d),d}toString(o){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(o||void 0).decode(this.value)}}function assertPart(e,o){if(e&&e.includes(minpath.sep))throw new Error("`"+o+"` cannot be a path: did not expect `"+minpath.sep+"`")}function assertNonEmpty(e,o){if(!e)throw new Error("`"+o+"` cannot be empty")}function assertPath(e,o){if(!e)throw new Error("Setting `"+o+"` requires `path` to be set too")}function isUint8Array$1(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CallableInstance=function(e){const c=this.constructor.prototype,d=c[e],g=function(){return d.apply(g,arguments)};return Object.setPrototypeOf(g,c),g},own={}.hasOwnProperty;class Processor extends CallableInstance{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=trough()}copy(){const o=new Processor;let a=-1;for(;++a<this.attachers.length;){const c=this.attachers[a];o.use(...c)}return o.data(extend$1(!0,{},this.namespace)),o}data(o,a){return typeof o=="string"?arguments.length===2?(assertUnfrozen("data",this.frozen),this.namespace[o]=a,this):own.call(this.namespace,o)&&this.namespace[o]||void 0:o?(assertUnfrozen("data",this.frozen),this.namespace=o,this):this.namespace}freeze(){if(this.frozen)return this;const o=this;for(;++this.freezeIndex<this.attachers.length;){const[a,...c]=this.attachers[this.freezeIndex];if(c[0]===!1)continue;c[0]===!0&&(c[0]=void 0);const d=a.call(o,...c);typeof d=="function"&&this.transformers.use(d)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(o){this.freeze();const a=vfile(o),c=this.parser||this.Parser;return assertParser("parse",c),c(String(a),a)}process(o,a){const c=this;return this.freeze(),assertParser("process",this.parser||this.Parser),assertCompiler("process",this.compiler||this.Compiler),a?d(void 0,a):new Promise(d);function d(g,b){const _=vfile(o),$=c.parse(_);c.run($,_,function(rt,nt,st){if(rt||!nt||!st)return j(rt);const jt=nt,wl=c.stringify(jt,st);looksLikeAValue(wl)?st.value=wl:st.result=wl,j(rt,st)});function j(rt,nt){rt||!nt?b(rt):g?g(nt):a(void 0,nt)}}}processSync(o){let a=!1,c;return this.freeze(),assertParser("processSync",this.parser||this.Parser),assertCompiler("processSync",this.compiler||this.Compiler),this.process(o,d),assertDone("processSync","process",a),c;function d(g,b){a=!0,bail(g),c=b}}run(o,a,c){assertNode(o),this.freeze();const d=this.transformers;return!c&&typeof a=="function"&&(c=a,a=void 0),c?g(void 0,c):new Promise(g);function g(b,_){const $=vfile(a);d.run(o,$,j);function j(rt,nt,st){const jt=nt||o;rt?_(rt):b?b(jt):c(void 0,jt,st)}}}runSync(o,a){let c=!1,d;return this.run(o,a,g),assertDone("runSync","run",c),d;function g(b,_){bail(b),d=_,c=!0}}stringify(o,a){this.freeze();const c=vfile(a),d=this.compiler||this.Compiler;return assertCompiler("stringify",d),assertNode(o),d(o,c)}use(o,...a){const c=this.attachers,d=this.namespace;if(assertUnfrozen("use",this.frozen),o!=null)if(typeof o=="function")$(o,a);else if(typeof o=="object")Array.isArray(o)?_(o):b(o);else throw new TypeError("Expected usable value, not `"+o+"`");return this;function g(j){if(typeof j=="function")$(j,[]);else if(typeof j=="object")if(Array.isArray(j)){const[rt,...nt]=j;$(rt,nt)}else b(j);else throw new TypeError("Expected usable value, not `"+j+"`")}function b(j){if(!("plugins"in j)&&!("settings"in j))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");_(j.plugins),j.settings&&(d.settings=extend$1(!0,d.settings,j.settings))}function _(j){let rt=-1;if(j!=null)if(Array.isArray(j))for(;++rt<j.length;){const nt=j[rt];g(nt)}else throw new TypeError("Expected a list of plugins, not `"+j+"`")}function $(j,rt){let nt=-1,st=-1;for(;++nt<c.length;)if(c[nt][0]===j){st=nt;break}if(st===-1)c.push([j,...rt]);else if(rt.length>0){let[jt,...wl]=rt;const Ft=c[st][1];isPlainObject(Ft)&&isPlainObject(jt)&&(jt=extend$1(!0,Ft,jt)),c[st]=[j,jt,...wl]}}}}const unified=new Processor().freeze();function assertParser(e,o){if(typeof o!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function assertCompiler(e,o){if(typeof o!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function assertUnfrozen(e,o){if(o)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function assertNode(e){if(!isPlainObject(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function assertDone(e,o,a){if(!a)throw new Error("`"+e+"` finished async. Use `"+o+"` instead")}function vfile(e){return looksLikeAVFile(e)?e:new VFile(e)}function looksLikeAVFile(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function looksLikeAValue(e){return typeof e=="string"||isUint8Array(e)}function isUint8Array(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const changelog="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",emptyPlugins=[],emptyRemarkRehypeOptions={allowDangerousHtml:!0},safeProtocol=/^(https?|ircs?|mailto|xmpp)$/i,deprecations=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Markdown(e){const o=createProcessor(e),a=createFile(e);return post(o.runSync(o.parse(a),a),e)}function createProcessor(e){const o=e.rehypePlugins||emptyPlugins,a=e.remarkPlugins||emptyPlugins,c=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...emptyRemarkRehypeOptions}:emptyRemarkRehypeOptions;return unified().use(remarkParse).use(a).use(remarkRehype,c).use(o)}function createFile(e){const o=e.children||"",a=new VFile;return typeof o=="string"&&(a.value=o),a}function post(e,o){const a=o.allowedElements,c=o.allowElement,d=o.components,g=o.disallowedElements,b=o.skipHtml,_=o.unwrapDisallowed,$=o.urlTransform||defaultUrlTransform;for(const rt of deprecations)Object.hasOwn(o,rt.from)&&(""+rt.from+(rt.to?"use `"+rt.to+"` instead":"remove it")+changelog+rt.id,void 0);return visit(e,j),toJsxRuntime(e,{Fragment:jsxRuntimeExports$1.Fragment,components:d,ignoreInvalidStyle:!0,jsx:jsxRuntimeExports$1.jsx,jsxs:jsxRuntimeExports$1.jsxs,passKeys:!0,passNode:!0});function j(rt,nt,st){if(rt.type==="raw"&&st&&typeof nt=="number")return b?st.children.splice(nt,1):st.children[nt]={type:"text",value:rt.value},nt;if(rt.type==="element"){let jt;for(jt in urlAttributes)if(Object.hasOwn(urlAttributes,jt)&&Object.hasOwn(rt.properties,jt)){const wl=rt.properties[jt],Ft=urlAttributes[jt];(Ft===null||Ft.includes(rt.tagName))&&(rt.properties[jt]=$(String(wl||""),jt,rt))}}if(rt.type==="element"){let jt=a?!a.includes(rt.tagName):g?g.includes(rt.tagName):!1;if(!jt&&c&&typeof nt=="number"&&(jt=!c(rt,nt,st)),jt&&st&&typeof nt=="number")return _&&rt.children?st.children.splice(nt,1,...rt.children):st.children.splice(nt,1),nt}}}function defaultUrlTransform(e){const o=e.indexOf(":"),a=e.indexOf("?"),c=e.indexOf("#"),d=e.indexOf("/");return o===-1||d!==-1&&o>d||a!==-1&&o>a||c!==-1&&o>c||safeProtocol.test(e.slice(0,o))?e:""}function longestStreak(e,o){const a=String(e);let c=a.indexOf(o),d=c,g=0,b=0;if(typeof o!="string")throw new TypeError("Expected substring");for(;c!==-1;)c===d?++g>b&&(b=g):g=1,d=c+o.length,c=a.indexOf(o,d);return b}function mathFromMarkdown(){return{enter:{mathFlow:e,mathFlowFenceMeta:o,mathText:g},exit:{mathFlow:d,mathFlowFence:c,mathFlowFenceMeta:a,mathFlowValue:_,mathText:b,mathTextData:_}};function e($){const j={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[j]}},$)}function o(){this.buffer()}function a(){const $=this.resume(),j=this.stack[this.stack.length-1];j.type,j.meta=$}function c(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function d($){const j=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),rt=this.stack[this.stack.length-1];rt.type,this.exit($),rt.value=j;const nt=rt.data.hChildren[0];nt.type,nt.tagName,nt.children.push({type:"text",value:j}),this.data.mathFlowInside=void 0}function g($){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},$),this.buffer()}function b($){const j=this.resume(),rt=this.stack[this.stack.length-1];rt.type,this.exit($),rt.value=j,rt.data.hChildren.push({type:"text",value:j})}function _($){this.config.enter.data.call(this,$),this.config.exit.data.call(this,$)}}function mathToMarkdown(e){let o=(e||{}).singleDollarTextMath;return o==null&&(o=!0),c.peek=d,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:o?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:a,inlineMath:c}};function a(g,b,_,$){const j=g.value||"",rt=_.createTracker($),nt="$".repeat(Math.max(longestStreak(j,"$")+1,2)),st=_.enter("mathFlow");let jt=rt.move(nt);if(g.meta){const wl=_.enter("mathFlowMeta");jt+=rt.move(_.safe(g.meta,{after:`
`,before:jt,encode:["$"],...rt.current()})),wl()}return jt+=rt.move(`
`),j&&(jt+=rt.move(j+`
`)),jt+=rt.move(nt),st(),jt}function c(g,b,_){let $=g.value||"",j=1;for(o||j++;new RegExp("(^|[^$])"+"\\$".repeat(j)+"([^$]|$)").test($);)j++;const rt="$".repeat(j);/[^ \r\n]/.test($)&&(/^[ \r\n]/.test($)&&/[ \r\n]$/.test($)||/^\$|\$$/.test($))&&($=" "+$+" ");let nt=-1;for(;++nt<_.unsafe.length;){const st=_.unsafe[nt];if(!st.atBreak)continue;const jt=_.compilePattern(st);let wl;for(;wl=jt.exec($);){let Ft=wl.index;$.codePointAt(Ft)===10&&$.codePointAt(Ft-1)===13&&Ft--,$=$.slice(0,Ft)+" "+$.slice(wl.index+1)}}return rt+$+rt}function d(){return"$"}}const mathFlow={tokenize:tokenizeMathFenced,concrete:!0,name:"mathFlow"},nonLazyContinuation={tokenize:tokenizeNonLazyContinuation,partial:!0};function tokenizeMathFenced(e,o,a){const c=this,d=c.events[c.events.length-1],g=d&&d[1].type==="linePrefix"?d[2].sliceSerialize(d[1],!0).length:0;let b=0;return _;function _(Ln){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),$(Ln)}function $(Ln){return Ln===36?(e.consume(Ln),b++,$):b<2?a(Ln):(e.exit("mathFlowFenceSequence"),factorySpace$1(e,j,"whitespace")(Ln))}function j(Ln){return Ln===null||markdownLineEnding$1(Ln)?nt(Ln):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),rt(Ln))}function rt(Ln){return Ln===null||markdownLineEnding$1(Ln)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),nt(Ln)):Ln===36?a(Ln):(e.consume(Ln),rt)}function nt(Ln){return e.exit("mathFlowFence"),c.interrupt?o(Ln):e.attempt(nonLazyContinuation,st,it)(Ln)}function st(Ln){return e.attempt({tokenize:ot,partial:!0},it,jt)(Ln)}function jt(Ln){return(g?factorySpace$1(e,wl,"linePrefix",g+1):wl)(Ln)}function wl(Ln){return Ln===null?it(Ln):markdownLineEnding$1(Ln)?e.attempt(nonLazyContinuation,st,it)(Ln):(e.enter("mathFlowValue"),Ft(Ln))}function Ft(Ln){return Ln===null||markdownLineEnding$1(Ln)?(e.exit("mathFlowValue"),wl(Ln)):(e.consume(Ln),Ft)}function it(Ln){return e.exit("mathFlow"),o(Ln)}function ot(Ln,Cl,Tl){let zl=0;return factorySpace$1(Ln,In,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function In(Ul){return Ln.enter("mathFlowFence"),Ln.enter("mathFlowFenceSequence"),Ml(Ul)}function Ml(Ul){return Ul===36?(zl++,Ln.consume(Ul),Ml):zl<b?Tl(Ul):(Ln.exit("mathFlowFenceSequence"),factorySpace$1(Ln,Dl,"whitespace")(Ul))}function Dl(Ul){return Ul===null||markdownLineEnding$1(Ul)?(Ln.exit("mathFlowFence"),Cl(Ul)):Tl(Ul)}}}function tokenizeNonLazyContinuation(e,o,a){const c=this;return d;function d(b){return b===null?o(b):(e.enter("lineEnding"),e.consume(b),e.exit("lineEnding"),g)}function g(b){return c.parser.lazy[c.now().line]?a(b):o(b)}}function mathText(e){let a=(e||{}).singleDollarTextMath;return a==null&&(a=!0),{tokenize:c,resolve:resolveMathText,previous:previous$1,name:"mathText"};function c(d,g,b){let _=0,$,j;return rt;function rt(Ft){return d.enter("mathText"),d.enter("mathTextSequence"),nt(Ft)}function nt(Ft){return Ft===36?(d.consume(Ft),_++,nt):_<2&&!a?b(Ft):(d.exit("mathTextSequence"),st(Ft))}function st(Ft){return Ft===null?b(Ft):Ft===36?(j=d.enter("mathTextSequence"),$=0,wl(Ft)):Ft===32?(d.enter("space"),d.consume(Ft),d.exit("space"),st):markdownLineEnding$1(Ft)?(d.enter("lineEnding"),d.consume(Ft),d.exit("lineEnding"),st):(d.enter("mathTextData"),jt(Ft))}function jt(Ft){return Ft===null||Ft===32||Ft===36||markdownLineEnding$1(Ft)?(d.exit("mathTextData"),st(Ft)):(d.consume(Ft),jt)}function wl(Ft){return Ft===36?(d.consume(Ft),$++,wl):$===_?(d.exit("mathTextSequence"),d.exit("mathText"),g(Ft)):(j.type="mathTextData",jt(Ft))}}}function resolveMathText(e){let o=e.length-4,a=3,c,d;if((e[a][1].type==="lineEnding"||e[a][1].type==="space")&&(e[o][1].type==="lineEnding"||e[o][1].type==="space")){for(c=a;++c<o;)if(e[c][1].type==="mathTextData"){e[o][1].type="mathTextPadding",e[a][1].type="mathTextPadding",a+=2,o-=2;break}}for(c=a-1,o++;++c<=o;)d===void 0?c!==o&&e[c][1].type!=="lineEnding"&&(d=c):(c===o||e[c][1].type==="lineEnding")&&(e[d][1].type="mathTextData",c!==d+2&&(e[d][1].end=e[c-1][1].end,e.splice(d+2,c-d-2),o-=c-d-2,c=d+2),d=void 0);return e}function previous$1(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function math$1(e){return{flow:{36:mathFlow},text:{36:mathText(e)}}}class SourceLocation{constructor(o,a,c){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=o,this.start=a,this.end=c}static range(o,a){return a?!o||!o.loc||!a.loc||o.loc.lexer!==a.loc.lexer?null:new SourceLocation(o.loc.lexer,o.loc.start,a.loc.end):o&&o.loc}}class Token{constructor(o,a){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=o,this.loc=a}range(o,a){return new Token(a,SourceLocation.range(this,o))}}class ParseError{constructor(o,a){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var c="KaTeX parse error: "+o,d,g,b=a&&a.loc;if(b&&b.start<=b.end){var _=b.lexer.input;d=b.start,g=b.end,d===_.length?c+=" at end of input: ":c+=" at position "+(d+1)+": ";var $=_.slice(d,g).replace(/[^]/g,"$&"),j;d>15?j=""+_.slice(d-15,d):j=_.slice(0,d);var rt;g+15<_.length?rt=_.slice(g,g+15)+"":rt=_.slice(g),c+=j+$+rt}var nt=new Error(c);return nt.name="ParseError",nt.__proto__=ParseError.prototype,nt.position=d,d!=null&&g!=null&&(nt.length=g-d),nt.rawMessage=o,nt}}ParseError.prototype.__proto__=Error.prototype;var contains=function e(o,a){return o.indexOf(a)!==-1},deflt=function e(o,a){return o===void 0?a:o},uppercase=/([A-Z])/g,hyphenate=function e(o){return o.replace(uppercase,"-$1").toLowerCase()},ESCAPE_LOOKUP={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},ESCAPE_REGEX=/[&><"']/g;function escape(e){return String(e).replace(ESCAPE_REGEX,o=>ESCAPE_LOOKUP[o])}var getBaseElem=function e(o){return o.type==="ordgroup"||o.type==="color"?o.body.length===1?e(o.body[0]):o:o.type==="font"?e(o.body):o},isCharacterBox=function e(o){var a=getBaseElem(o);return a.type==="mathord"||a.type==="textord"||a.type==="atom"},assert=function e(o){if(!o)throw new Error("Expected non-null, but got "+String(o));return o},protocolFromUrl=function e(o){var a=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(o);return a?a[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(a[1])?null:a[1].toLowerCase():"_relative"},utils={contains,deflt,escape,hyphenate,getBaseElem,isCharacterBox,protocolFromUrl},SETTINGS_SCHEMA={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,o)=>(o.push(e),o)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function getDefaultValue(e){if(e.default)return e.default;var o=e.type,a=Array.isArray(o)?o[0]:o;if(typeof a!="string")return a.enum[0];switch(a){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class Settings{constructor(o){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,o=o||{};for(var a in SETTINGS_SCHEMA)if(SETTINGS_SCHEMA.hasOwnProperty(a)){var c=SETTINGS_SCHEMA[a];this[a]=o[a]!==void 0?c.processor?c.processor(o[a]):o[a]:getDefaultValue(c)}}reportNonstrict(o,a,c){var d=this.strict;if(typeof d=="function"&&(d=d(o,a,c)),!(!d||d==="ignore")){if(d===!0||d==="error")throw new ParseError("LaTeX-incompatible input and strict mode is set to 'error': "+(a+" ["+o+"]"),c);d==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(a+" ["+o+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+d+"': "+a+" ["+o+"]"))}}useStrictBehavior(o,a,c){var d=this.strict;if(typeof d=="function")try{d=d(o,a,c)}catch{d="error"}return!d||d==="ignore"?!1:d===!0||d==="error"?!0:d==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(a+" ["+o+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+d+"': "+a+" ["+o+"]")),!1)}isTrusted(o){if(o.url&&!o.protocol){var a=utils.protocolFromUrl(o.url);if(a==null)return!1;o.protocol=a}var c=typeof this.trust=="function"?this.trust(o):this.trust;return!!c}}class Style{constructor(o,a,c){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=o,this.size=a,this.cramped=c}sup(){return styles[sup[this.id]]}sub(){return styles[sub[this.id]]}fracNum(){return styles[fracNum[this.id]]}fracDen(){return styles[fracDen[this.id]]}cramp(){return styles[cramp[this.id]]}text(){return styles[text$1$1[this.id]]}isTight(){return this.size>=2}}var D=0,Dc=1,T=2,Tc=3,S=4,Sc=5,SS=6,SSc=7,styles=[new Style(D,0,!1),new Style(Dc,0,!0),new Style(T,1,!1),new Style(Tc,1,!0),new Style(S,2,!1),new Style(Sc,2,!0),new Style(SS,3,!1),new Style(SSc,3,!0)],sup=[S,Sc,S,Sc,SS,SSc,SS,SSc],sub=[Sc,Sc,Sc,Sc,SSc,SSc,SSc,SSc],fracNum=[T,Tc,S,Sc,SS,SSc,SS,SSc],fracDen=[Tc,Tc,Sc,Sc,SSc,SSc,SSc,SSc],cramp=[Dc,Dc,Tc,Tc,Sc,Sc,SSc,SSc],text$1$1=[D,Dc,T,Tc,T,Tc,T,Tc],Style$1={DISPLAY:styles[D],TEXT:styles[T],SCRIPT:styles[S],SCRIPTSCRIPT:styles[SS]},scriptData=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function scriptFromCodepoint(e){for(var o=0;o<scriptData.length;o++)for(var a=scriptData[o],c=0;c<a.blocks.length;c++){var d=a.blocks[c];if(e>=d[0]&&e<=d[1])return a.name}return null}var allBlocks=[];scriptData.forEach(e=>e.blocks.forEach(o=>allBlocks.push(...o)));function supportedCodepoint(e){for(var o=0;o<allBlocks.length;o+=2)if(e>=allBlocks[o]&&e<=allBlocks[o+1])return!0;return!1}var hLinePad=80,sqrtMain=function e(o,a){return"M95,"+(622+o+a)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+o/2.075+" -"+o+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+o)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+o)+" "+a+"h400000v"+(40+o)+"h-400000z"},sqrtSize1=function e(o,a){return"M263,"+(601+o+a)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+o/2.084+" -"+o+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+o)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+o)+" "+a+"h400000v"+(40+o)+"h-400000z"},sqrtSize2=function e(o,a){return"M983 "+(10+o+a)+`
l`+o/3.13+" -"+o+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+o)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+o)+" "+a+"h400000v"+(40+o)+"h-400000z"},sqrtSize3=function e(o,a){return"M424,"+(2398+o+a)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+o/4.223+" -"+o+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+o)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+o)+" "+a+`
h400000v`+(40+o)+"h-400000z"},sqrtSize4=function e(o,a){return"M473,"+(2713+o+a)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+o/5.298+" -"+o+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+o)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+o)+" "+a+"h400000v"+(40+o)+"H1017.7z"},phasePath=function e(o){var a=o/2;return"M400000 "+o+" H0 L"+a+" 0 l65 45 L145 "+(o-80)+" H400000z"},sqrtTall=function e(o,a,c){var d=c-54-a-o;return"M702 "+(o+a)+"H400000"+(40+o)+`
H742v`+d+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+a+"H400000v"+(40+o)+"H742z"},sqrtPath=function e(o,a,c){a=1e3*a;var d="";switch(o){case"sqrtMain":d=sqrtMain(a,hLinePad);break;case"sqrtSize1":d=sqrtSize1(a,hLinePad);break;case"sqrtSize2":d=sqrtSize2(a,hLinePad);break;case"sqrtSize3":d=sqrtSize3(a,hLinePad);break;case"sqrtSize4":d=sqrtSize4(a,hLinePad);break;case"sqrtTall":d=sqrtTall(a,hLinePad,c)}return d},innerPath=function e(o,a){switch(o){case"":return"M291 0 H417 V"+a+" H291z M291 0 H417 V"+a+" H291z";case"":return"M145 0 H188 V"+a+" H145z M145 0 H188 V"+a+" H145z";case"":return"M145 0 H188 V"+a+" H145z M145 0 H188 V"+a+" H145z"+("M367 0 H410 V"+a+" H367z M367 0 H410 V"+a+" H367z");case"":return"M457 0 H583 V"+a+" H457z M457 0 H583 V"+a+" H457z";case"":return"M319 0 H403 V"+a+" H319z M319 0 H403 V"+a+" H319z";case"":return"M263 0 H347 V"+a+" H263z M263 0 H347 V"+a+" H263z";case"":return"M384 0 H504 V"+a+" H384z M384 0 H504 V"+a+" H384z";case"":return"M312 0 H355 V"+a+" H312z M312 0 H355 V"+a+" H312z";case"":return"M257 0 H300 V"+a+" H257z M257 0 H300 V"+a+" H257z"+("M478 0 H521 V"+a+" H478z M478 0 H521 V"+a+" H478z");default:return""}},path$1={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},tallDelim=function e(o,a){switch(o){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+a+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+a+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+a+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+a+" v1759 h84z";case"vert":return"M145 15 v585 v"+a+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-a+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+a+" v585 h43z";case"doublevert":return"M145 15 v585 v"+a+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-a+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+a+` v585 h43z
M367 15 v585 v`+a+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-a+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+a+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+a+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+a+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+a+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+a+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+a+` v602 h84z
M403 1759 V0 H319 V1759 v`+a+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+a+` v602 h84z
M347 1759 V0 h-84 V1759 v`+a+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(a+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(a+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(a+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(a+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class DocumentFragment{constructor(o){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=o,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(o){return utils.contains(this.classes,o)}toNode(){for(var o=document.createDocumentFragment(),a=0;a<this.children.length;a++)o.appendChild(this.children[a].toNode());return o}toMarkup(){for(var o="",a=0;a<this.children.length;a++)o+=this.children[a].toMarkup();return o}toText(){var o=a=>a.toText();return this.children.map(o).join("")}}var fontMetricsData={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},sigmasAndXis={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},extraCharacterMap={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function setFontMetrics(e,o){fontMetricsData[e]=o}function getCharacterMetrics(e,o,a){if(!fontMetricsData[o])throw new Error("Font metrics not found for font: "+o+".");var c=e.charCodeAt(0),d=fontMetricsData[o][c];if(!d&&e[0]in extraCharacterMap&&(c=extraCharacterMap[e[0]].charCodeAt(0),d=fontMetricsData[o][c]),!d&&a==="text"&&supportedCodepoint(c)&&(d=fontMetricsData[o][77]),d)return{depth:d[0],height:d[1],italic:d[2],skew:d[3],width:d[4]}}var fontMetricsBySizeIndex={};function getGlobalMetrics(e){var o;if(e>=5?o=0:e>=3?o=1:o=2,!fontMetricsBySizeIndex[o]){var a=fontMetricsBySizeIndex[o]={cssEmPerMu:sigmasAndXis.quad[o]/18};for(var c in sigmasAndXis)sigmasAndXis.hasOwnProperty(c)&&(a[c]=sigmasAndXis[c][o])}return fontMetricsBySizeIndex[o]}var sizeStyleMap=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],sizeMultipliers=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],sizeAtStyle=function e(o,a){return a.size<2?o:sizeStyleMap[o-1][a.size-1]};class Options{constructor(o){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=o.style,this.color=o.color,this.size=o.size||Options.BASESIZE,this.textSize=o.textSize||this.size,this.phantom=!!o.phantom,this.font=o.font||"",this.fontFamily=o.fontFamily||"",this.fontWeight=o.fontWeight||"",this.fontShape=o.fontShape||"",this.sizeMultiplier=sizeMultipliers[this.size-1],this.maxSize=o.maxSize,this.minRuleThickness=o.minRuleThickness,this._fontMetrics=void 0}extend(o){var a={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var c in o)o.hasOwnProperty(c)&&(a[c]=o[c]);return new Options(a)}havingStyle(o){return this.style===o?this:this.extend({style:o,size:sizeAtStyle(this.textSize,o)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(o){return this.size===o&&this.textSize===o?this:this.extend({style:this.style.text(),size:o,textSize:o,sizeMultiplier:sizeMultipliers[o-1]})}havingBaseStyle(o){o=o||this.style.text();var a=sizeAtStyle(Options.BASESIZE,o);return this.size===a&&this.textSize===Options.BASESIZE&&this.style===o?this:this.extend({style:o,size:a})}havingBaseSizing(){var o;switch(this.style.id){case 4:case 5:o=3;break;case 6:case 7:o=1;break;default:o=6}return this.extend({style:this.style.text(),size:o})}withColor(o){return this.extend({color:o})}withPhantom(){return this.extend({phantom:!0})}withFont(o){return this.extend({font:o})}withTextFontFamily(o){return this.extend({fontFamily:o,font:""})}withTextFontWeight(o){return this.extend({fontWeight:o,font:""})}withTextFontShape(o){return this.extend({fontShape:o,font:""})}sizingClasses(o){return o.size!==this.size?["sizing","reset-size"+o.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Options.BASESIZE?["sizing","reset-size"+this.size,"size"+Options.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=getGlobalMetrics(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Options.BASESIZE=6;var ptPerUnit={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},relativeUnit={ex:!0,em:!0,mu:!0},validUnit=function e(o){return typeof o!="string"&&(o=o.unit),o in ptPerUnit||o in relativeUnit||o==="ex"},calculateSize=function e(o,a){var c;if(o.unit in ptPerUnit)c=ptPerUnit[o.unit]/a.fontMetrics().ptPerEm/a.sizeMultiplier;else if(o.unit==="mu")c=a.fontMetrics().cssEmPerMu;else{var d;if(a.style.isTight()?d=a.havingStyle(a.style.text()):d=a,o.unit==="ex")c=d.fontMetrics().xHeight;else if(o.unit==="em")c=d.fontMetrics().quad;else throw new ParseError("Invalid unit: '"+o.unit+"'");d!==a&&(c*=d.sizeMultiplier/a.sizeMultiplier)}return Math.min(o.number*c,a.maxSize)},makeEm=function e(o){return+o.toFixed(4)+"em"},createClass=function e(o){return o.filter(a=>a).join(" ")},initNode=function e(o,a,c){if(this.classes=o||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=c||{},a){a.style.isTight()&&this.classes.push("mtight");var d=a.getColor();d&&(this.style.color=d)}},toNode=function e(o){var a=document.createElement(o);a.className=createClass(this.classes);for(var c in this.style)this.style.hasOwnProperty(c)&&(a.style[c]=this.style[c]);for(var d in this.attributes)this.attributes.hasOwnProperty(d)&&a.setAttribute(d,this.attributes[d]);for(var g=0;g<this.children.length;g++)a.appendChild(this.children[g].toNode());return a},invalidAttributeNameRegex=/[\s"'>/=\x00-\x1f]/,toMarkup=function e(o){var a="<"+o;this.classes.length&&(a+=' class="'+utils.escape(createClass(this.classes))+'"');var c="";for(var d in this.style)this.style.hasOwnProperty(d)&&(c+=utils.hyphenate(d)+":"+this.style[d]+";");c&&(a+=' style="'+utils.escape(c)+'"');for(var g in this.attributes)if(this.attributes.hasOwnProperty(g)){if(invalidAttributeNameRegex.test(g))throw new ParseError("Invalid attribute name '"+g+"'");a+=" "+g+'="'+utils.escape(this.attributes[g])+'"'}a+=">";for(var b=0;b<this.children.length;b++)a+=this.children[b].toMarkup();return a+="</"+o+">",a};class Span{constructor(o,a,c,d){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,o,c,d),this.children=a||[]}setAttribute(o,a){this.attributes[o]=a}hasClass(o){return utils.contains(this.classes,o)}toNode(){return toNode.call(this,"span")}toMarkup(){return toMarkup.call(this,"span")}}class Anchor{constructor(o,a,c,d){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,initNode.call(this,a,d),this.children=c||[],this.setAttribute("href",o)}setAttribute(o,a){this.attributes[o]=a}hasClass(o){return utils.contains(this.classes,o)}toNode(){return toNode.call(this,"a")}toMarkup(){return toMarkup.call(this,"a")}}class Img{constructor(o,a,c){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=a,this.src=o,this.classes=["mord"],this.style=c}hasClass(o){return utils.contains(this.classes,o)}toNode(){var o=document.createElement("img");o.src=this.src,o.alt=this.alt,o.className="mord";for(var a in this.style)this.style.hasOwnProperty(a)&&(o.style[a]=this.style[a]);return o}toMarkup(){var o='<img src="'+utils.escape(this.src)+'"'+(' alt="'+utils.escape(this.alt)+'"'),a="";for(var c in this.style)this.style.hasOwnProperty(c)&&(a+=utils.hyphenate(c)+":"+this.style[c]+";");return a&&(o+=' style="'+utils.escape(a)+'"'),o+="'/>",o}}var iCombinations={:"",:"",:"",:""};class SymbolNode{constructor(o,a,c,d,g,b,_,$){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=o,this.height=a||0,this.depth=c||0,this.italic=d||0,this.skew=g||0,this.width=b||0,this.classes=_||[],this.style=$||{},this.maxFontSize=0;var j=scriptFromCodepoint(this.text.charCodeAt(0));j&&this.classes.push(j+"_fallback"),/[]/.test(this.text)&&(this.text=iCombinations[this.text])}hasClass(o){return utils.contains(this.classes,o)}toNode(){var o=document.createTextNode(this.text),a=null;this.italic>0&&(a=document.createElement("span"),a.style.marginRight=makeEm(this.italic)),this.classes.length>0&&(a=a||document.createElement("span"),a.className=createClass(this.classes));for(var c in this.style)this.style.hasOwnProperty(c)&&(a=a||document.createElement("span"),a.style[c]=this.style[c]);return a?(a.appendChild(o),a):o}toMarkup(){var o=!1,a="<span";this.classes.length&&(o=!0,a+=' class="',a+=utils.escape(createClass(this.classes)),a+='"');var c="";this.italic>0&&(c+="margin-right:"+this.italic+"em;");for(var d in this.style)this.style.hasOwnProperty(d)&&(c+=utils.hyphenate(d)+":"+this.style[d]+";");c&&(o=!0,a+=' style="'+utils.escape(c)+'"');var g=utils.escape(this.text);return o?(a+=">",a+=g,a+="</span>",a):g}}class SvgNode{constructor(o,a){this.children=void 0,this.attributes=void 0,this.children=o||[],this.attributes=a||{}}toNode(){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg");for(var c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&a.setAttribute(c,this.attributes[c]);for(var d=0;d<this.children.length;d++)a.appendChild(this.children[d].toNode());return a}toMarkup(){var o='<svg xmlns="http://www.w3.org/2000/svg"';for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&(o+=" "+a+'="'+utils.escape(this.attributes[a])+'"');o+=">";for(var c=0;c<this.children.length;c++)o+=this.children[c].toMarkup();return o+="</svg>",o}}class PathNode{constructor(o,a){this.pathName=void 0,this.alternate=void 0,this.pathName=o,this.alternate=a}toNode(){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"path");return this.alternate?a.setAttribute("d",this.alternate):a.setAttribute("d",path$1[this.pathName]),a}toMarkup(){return this.alternate?'<path d="'+utils.escape(this.alternate)+'"/>':'<path d="'+utils.escape(path$1[this.pathName])+'"/>'}}class LineNode{constructor(o){this.attributes=void 0,this.attributes=o||{}}toNode(){var o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"line");for(var c in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,c)&&a.setAttribute(c,this.attributes[c]);return a}toMarkup(){var o="<line";for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&(o+=" "+a+'="'+utils.escape(this.attributes[a])+'"');return o+="/>",o}}function assertSymbolDomNode(e){if(e instanceof SymbolNode)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function assertSpan(e){if(e instanceof Span)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var ATOMS={bin:1,close:1,inner:1,open:1,punct:1,rel:1},NON_ATOMS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},symbols={math:{},text:{}};function defineSymbol(e,o,a,c,d,g){symbols[e][d]={font:o,group:a,replace:c},g&&c&&(symbols[e][c]=symbols[e][d])}var math="math",text$3="text",main="main",ams="ams",accent="accent-token",bin="bin",close="close",inner="inner",mathord="mathord",op="op-token",open$1="open",punct="punct",rel="rel",spacing="spacing",textord="textord";defineSymbol(math,main,rel,"","\\equiv",!0);defineSymbol(math,main,rel,"","\\prec",!0);defineSymbol(math,main,rel,"","\\succ",!0);defineSymbol(math,main,rel,"","\\sim",!0);defineSymbol(math,main,rel,"","\\perp");defineSymbol(math,main,rel,"","\\preceq",!0);defineSymbol(math,main,rel,"","\\succeq",!0);defineSymbol(math,main,rel,"","\\simeq",!0);defineSymbol(math,main,rel,"","\\mid",!0);defineSymbol(math,main,rel,"","\\ll",!0);defineSymbol(math,main,rel,"","\\gg",!0);defineSymbol(math,main,rel,"","\\asymp",!0);defineSymbol(math,main,rel,"","\\parallel");defineSymbol(math,main,rel,"","\\bowtie",!0);defineSymbol(math,main,rel,"","\\smile",!0);defineSymbol(math,main,rel,"","\\sqsubseteq",!0);defineSymbol(math,main,rel,"","\\sqsupseteq",!0);defineSymbol(math,main,rel,"","\\doteq",!0);defineSymbol(math,main,rel,"","\\frown",!0);defineSymbol(math,main,rel,"","\\ni",!0);defineSymbol(math,main,rel,"","\\propto",!0);defineSymbol(math,main,rel,"","\\vdash",!0);defineSymbol(math,main,rel,"","\\dashv",!0);defineSymbol(math,main,rel,"","\\owns");defineSymbol(math,main,punct,".","\\ldotp");defineSymbol(math,main,punct,"","\\cdotp");defineSymbol(math,main,textord,"#","\\#");defineSymbol(text$3,main,textord,"#","\\#");defineSymbol(math,main,textord,"&","\\&");defineSymbol(text$3,main,textord,"&","\\&");defineSymbol(math,main,textord,"","\\aleph",!0);defineSymbol(math,main,textord,"","\\forall",!0);defineSymbol(math,main,textord,"","\\hbar",!0);defineSymbol(math,main,textord,"","\\exists",!0);defineSymbol(math,main,textord,"","\\nabla",!0);defineSymbol(math,main,textord,"","\\flat",!0);defineSymbol(math,main,textord,"","\\ell",!0);defineSymbol(math,main,textord,"","\\natural",!0);defineSymbol(math,main,textord,"","\\clubsuit",!0);defineSymbol(math,main,textord,"","\\wp",!0);defineSymbol(math,main,textord,"","\\sharp",!0);defineSymbol(math,main,textord,"","\\diamondsuit",!0);defineSymbol(math,main,textord,"","\\Re",!0);defineSymbol(math,main,textord,"","\\heartsuit",!0);defineSymbol(math,main,textord,"","\\Im",!0);defineSymbol(math,main,textord,"","\\spadesuit",!0);defineSymbol(math,main,textord,"","\\S",!0);defineSymbol(text$3,main,textord,"","\\S");defineSymbol(math,main,textord,"","\\P",!0);defineSymbol(text$3,main,textord,"","\\P");defineSymbol(math,main,textord,"","\\dag");defineSymbol(text$3,main,textord,"","\\dag");defineSymbol(text$3,main,textord,"","\\textdagger");defineSymbol(math,main,textord,"","\\ddag");defineSymbol(text$3,main,textord,"","\\ddag");defineSymbol(text$3,main,textord,"","\\textdaggerdbl");defineSymbol(math,main,close,"","\\rmoustache",!0);defineSymbol(math,main,open$1,"","\\lmoustache",!0);defineSymbol(math,main,close,"","\\rgroup",!0);defineSymbol(math,main,open$1,"","\\lgroup",!0);defineSymbol(math,main,bin,"","\\mp",!0);defineSymbol(math,main,bin,"","\\ominus",!0);defineSymbol(math,main,bin,"","\\uplus",!0);defineSymbol(math,main,bin,"","\\sqcap",!0);defineSymbol(math,main,bin,"","\\ast");defineSymbol(math,main,bin,"","\\sqcup",!0);defineSymbol(math,main,bin,"","\\bigcirc",!0);defineSymbol(math,main,bin,"","\\bullet",!0);defineSymbol(math,main,bin,"","\\ddagger");defineSymbol(math,main,bin,"","\\wr",!0);defineSymbol(math,main,bin,"","\\amalg");defineSymbol(math,main,bin,"&","\\And");defineSymbol(math,main,rel,"","\\longleftarrow",!0);defineSymbol(math,main,rel,"","\\Leftarrow",!0);defineSymbol(math,main,rel,"","\\Longleftarrow",!0);defineSymbol(math,main,rel,"","\\longrightarrow",!0);defineSymbol(math,main,rel,"","\\Rightarrow",!0);defineSymbol(math,main,rel,"","\\Longrightarrow",!0);defineSymbol(math,main,rel,"","\\leftrightarrow",!0);defineSymbol(math,main,rel,"","\\longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\Leftrightarrow",!0);defineSymbol(math,main,rel,"","\\Longleftrightarrow",!0);defineSymbol(math,main,rel,"","\\mapsto",!0);defineSymbol(math,main,rel,"","\\longmapsto",!0);defineSymbol(math,main,rel,"","\\nearrow",!0);defineSymbol(math,main,rel,"","\\hookleftarrow",!0);defineSymbol(math,main,rel,"","\\hookrightarrow",!0);defineSymbol(math,main,rel,"","\\searrow",!0);defineSymbol(math,main,rel,"","\\leftharpoonup",!0);defineSymbol(math,main,rel,"","\\rightharpoonup",!0);defineSymbol(math,main,rel,"","\\swarrow",!0);defineSymbol(math,main,rel,"","\\leftharpoondown",!0);defineSymbol(math,main,rel,"","\\rightharpoondown",!0);defineSymbol(math,main,rel,"","\\nwarrow",!0);defineSymbol(math,main,rel,"","\\rightleftharpoons",!0);defineSymbol(math,ams,rel,"","\\nless",!0);defineSymbol(math,ams,rel,"","\\@nleqslant");defineSymbol(math,ams,rel,"","\\@nleqq");defineSymbol(math,ams,rel,"","\\lneq",!0);defineSymbol(math,ams,rel,"","\\lneqq",!0);defineSymbol(math,ams,rel,"","\\@lvertneqq");defineSymbol(math,ams,rel,"","\\lnsim",!0);defineSymbol(math,ams,rel,"","\\lnapprox",!0);defineSymbol(math,ams,rel,"","\\nprec",!0);defineSymbol(math,ams,rel,"","\\npreceq",!0);defineSymbol(math,ams,rel,"","\\precnsim",!0);defineSymbol(math,ams,rel,"","\\precnapprox",!0);defineSymbol(math,ams,rel,"","\\nsim",!0);defineSymbol(math,ams,rel,"","\\@nshortmid");defineSymbol(math,ams,rel,"","\\nmid",!0);defineSymbol(math,ams,rel,"","\\nvdash",!0);defineSymbol(math,ams,rel,"","\\nvDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleleft");defineSymbol(math,ams,rel,"","\\ntrianglelefteq",!0);defineSymbol(math,ams,rel,"","\\subsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneq");defineSymbol(math,ams,rel,"","\\subsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsubsetneqq");defineSymbol(math,ams,rel,"","\\ngtr",!0);defineSymbol(math,ams,rel,"","\\@ngeqslant");defineSymbol(math,ams,rel,"","\\@ngeqq");defineSymbol(math,ams,rel,"","\\gneq",!0);defineSymbol(math,ams,rel,"","\\gneqq",!0);defineSymbol(math,ams,rel,"","\\@gvertneqq");defineSymbol(math,ams,rel,"","\\gnsim",!0);defineSymbol(math,ams,rel,"","\\gnapprox",!0);defineSymbol(math,ams,rel,"","\\nsucc",!0);defineSymbol(math,ams,rel,"","\\nsucceq",!0);defineSymbol(math,ams,rel,"","\\succnsim",!0);defineSymbol(math,ams,rel,"","\\succnapprox",!0);defineSymbol(math,ams,rel,"","\\ncong",!0);defineSymbol(math,ams,rel,"","\\@nshortparallel");defineSymbol(math,ams,rel,"","\\nparallel",!0);defineSymbol(math,ams,rel,"","\\nVDash",!0);defineSymbol(math,ams,rel,"","\\ntriangleright");defineSymbol(math,ams,rel,"","\\ntrianglerighteq",!0);defineSymbol(math,ams,rel,"","\\@nsupseteqq");defineSymbol(math,ams,rel,"","\\supsetneq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneq");defineSymbol(math,ams,rel,"","\\supsetneqq",!0);defineSymbol(math,ams,rel,"","\\@varsupsetneqq");defineSymbol(math,ams,rel,"","\\nVdash",!0);defineSymbol(math,ams,rel,"","\\precneqq",!0);defineSymbol(math,ams,rel,"","\\succneqq",!0);defineSymbol(math,ams,rel,"","\\@nsubseteqq");defineSymbol(math,ams,bin,"","\\unlhd");defineSymbol(math,ams,bin,"","\\unrhd");defineSymbol(math,ams,rel,"","\\nleftarrow",!0);defineSymbol(math,ams,rel,"","\\nrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftarrow",!0);defineSymbol(math,ams,rel,"","\\nRightarrow",!0);defineSymbol(math,ams,rel,"","\\nleftrightarrow",!0);defineSymbol(math,ams,rel,"","\\nLeftrightarrow",!0);defineSymbol(math,ams,rel,"","\\vartriangle");defineSymbol(math,ams,textord,"","\\hslash");defineSymbol(math,ams,textord,"","\\triangledown");defineSymbol(math,ams,textord,"","\\lozenge");defineSymbol(math,ams,textord,"","\\circledS");defineSymbol(math,ams,textord,"","\\circledR");defineSymbol(text$3,ams,textord,"","\\circledR");defineSymbol(math,ams,textord,"","\\measuredangle",!0);defineSymbol(math,ams,textord,"","\\nexists");defineSymbol(math,ams,textord,"","\\mho");defineSymbol(math,ams,textord,"","\\Finv",!0);defineSymbol(math,ams,textord,"","\\Game",!0);defineSymbol(math,ams,textord,"","\\backprime");defineSymbol(math,ams,textord,"","\\blacktriangle");defineSymbol(math,ams,textord,"","\\blacktriangledown");defineSymbol(math,ams,textord,"","\\blacksquare");defineSymbol(math,ams,textord,"","\\blacklozenge");defineSymbol(math,ams,textord,"","\\bigstar");defineSymbol(math,ams,textord,"","\\sphericalangle",!0);defineSymbol(math,ams,textord,"","\\complement",!0);defineSymbol(math,ams,textord,"","\\eth",!0);defineSymbol(text$3,main,textord,"","");defineSymbol(math,ams,textord,"","\\diagup");defineSymbol(math,ams,textord,"","\\diagdown");defineSymbol(math,ams,textord,"","\\square");defineSymbol(math,ams,textord,"","\\Box");defineSymbol(math,ams,textord,"","\\Diamond");defineSymbol(math,ams,textord,"","\\yen",!0);defineSymbol(text$3,ams,textord,"","\\yen",!0);defineSymbol(math,ams,textord,"","\\checkmark",!0);defineSymbol(text$3,ams,textord,"","\\checkmark");defineSymbol(math,ams,textord,"","\\beth",!0);defineSymbol(math,ams,textord,"","\\daleth",!0);defineSymbol(math,ams,textord,"","\\gimel",!0);defineSymbol(math,ams,textord,"","\\digamma",!0);defineSymbol(math,ams,textord,"","\\varkappa");defineSymbol(math,ams,open$1,"","\\@ulcorner",!0);defineSymbol(math,ams,close,"","\\@urcorner",!0);defineSymbol(math,ams,open$1,"","\\@llcorner",!0);defineSymbol(math,ams,close,"","\\@lrcorner",!0);defineSymbol(math,ams,rel,"","\\leqq",!0);defineSymbol(math,ams,rel,"","\\leqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantless",!0);defineSymbol(math,ams,rel,"","\\lesssim",!0);defineSymbol(math,ams,rel,"","\\lessapprox",!0);defineSymbol(math,ams,rel,"","\\approxeq",!0);defineSymbol(math,ams,bin,"","\\lessdot");defineSymbol(math,ams,rel,"","\\lll",!0);defineSymbol(math,ams,rel,"","\\lessgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqgtr",!0);defineSymbol(math,ams,rel,"","\\lesseqqgtr",!0);defineSymbol(math,ams,rel,"","\\doteqdot");defineSymbol(math,ams,rel,"","\\risingdotseq",!0);defineSymbol(math,ams,rel,"","\\fallingdotseq",!0);defineSymbol(math,ams,rel,"","\\backsim",!0);defineSymbol(math,ams,rel,"","\\backsimeq",!0);defineSymbol(math,ams,rel,"","\\subseteqq",!0);defineSymbol(math,ams,rel,"","\\Subset",!0);defineSymbol(math,ams,rel,"","\\sqsubset",!0);defineSymbol(math,ams,rel,"","\\preccurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqprec",!0);defineSymbol(math,ams,rel,"","\\precsim",!0);defineSymbol(math,ams,rel,"","\\precapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleleft");defineSymbol(math,ams,rel,"","\\trianglelefteq");defineSymbol(math,ams,rel,"","\\vDash",!0);defineSymbol(math,ams,rel,"","\\Vvdash",!0);defineSymbol(math,ams,rel,"","\\smallsmile");defineSymbol(math,ams,rel,"","\\smallfrown");defineSymbol(math,ams,rel,"","\\bumpeq",!0);defineSymbol(math,ams,rel,"","\\Bumpeq",!0);defineSymbol(math,ams,rel,"","\\geqq",!0);defineSymbol(math,ams,rel,"","\\geqslant",!0);defineSymbol(math,ams,rel,"","\\eqslantgtr",!0);defineSymbol(math,ams,rel,"","\\gtrsim",!0);defineSymbol(math,ams,rel,"","\\gtrapprox",!0);defineSymbol(math,ams,bin,"","\\gtrdot");defineSymbol(math,ams,rel,"","\\ggg",!0);defineSymbol(math,ams,rel,"","\\gtrless",!0);defineSymbol(math,ams,rel,"","\\gtreqless",!0);defineSymbol(math,ams,rel,"","\\gtreqqless",!0);defineSymbol(math,ams,rel,"","\\eqcirc",!0);defineSymbol(math,ams,rel,"","\\circeq",!0);defineSymbol(math,ams,rel,"","\\triangleq",!0);defineSymbol(math,ams,rel,"","\\thicksim");defineSymbol(math,ams,rel,"","\\thickapprox");defineSymbol(math,ams,rel,"","\\supseteqq",!0);defineSymbol(math,ams,rel,"","\\Supset",!0);defineSymbol(math,ams,rel,"","\\sqsupset",!0);defineSymbol(math,ams,rel,"","\\succcurlyeq",!0);defineSymbol(math,ams,rel,"","\\curlyeqsucc",!0);defineSymbol(math,ams,rel,"","\\succsim",!0);defineSymbol(math,ams,rel,"","\\succapprox",!0);defineSymbol(math,ams,rel,"","\\vartriangleright");defineSymbol(math,ams,rel,"","\\trianglerighteq");defineSymbol(math,ams,rel,"","\\Vdash",!0);defineSymbol(math,ams,rel,"","\\shortmid");defineSymbol(math,ams,rel,"","\\shortparallel");defineSymbol(math,ams,rel,"","\\between",!0);defineSymbol(math,ams,rel,"","\\pitchfork",!0);defineSymbol(math,ams,rel,"","\\varpropto");defineSymbol(math,ams,rel,"","\\blacktriangleleft");defineSymbol(math,ams,rel,"","\\therefore",!0);defineSymbol(math,ams,rel,"","\\backepsilon");defineSymbol(math,ams,rel,"","\\blacktriangleright");defineSymbol(math,ams,rel,"","\\because",!0);defineSymbol(math,ams,rel,"","\\llless");defineSymbol(math,ams,rel,"","\\gggtr");defineSymbol(math,ams,bin,"","\\lhd");defineSymbol(math,ams,bin,"","\\rhd");defineSymbol(math,ams,rel,"","\\eqsim",!0);defineSymbol(math,main,rel,"","\\Join");defineSymbol(math,ams,rel,"","\\Doteq",!0);defineSymbol(math,ams,bin,"","\\dotplus",!0);defineSymbol(math,ams,bin,"","\\smallsetminus");defineSymbol(math,ams,bin,"","\\Cap",!0);defineSymbol(math,ams,bin,"","\\Cup",!0);defineSymbol(math,ams,bin,"","\\doublebarwedge",!0);defineSymbol(math,ams,bin,"","\\boxminus",!0);defineSymbol(math,ams,bin,"","\\boxplus",!0);defineSymbol(math,ams,bin,"","\\divideontimes",!0);defineSymbol(math,ams,bin,"","\\ltimes",!0);defineSymbol(math,ams,bin,"","\\rtimes",!0);defineSymbol(math,ams,bin,"","\\leftthreetimes",!0);defineSymbol(math,ams,bin,"","\\rightthreetimes",!0);defineSymbol(math,ams,bin,"","\\curlywedge",!0);defineSymbol(math,ams,bin,"","\\curlyvee",!0);defineSymbol(math,ams,bin,"","\\circleddash",!0);defineSymbol(math,ams,bin,"","\\circledast",!0);defineSymbol(math,ams,bin,"","\\centerdot");defineSymbol(math,ams,bin,"","\\intercal",!0);defineSymbol(math,ams,bin,"","\\doublecap");defineSymbol(math,ams,bin,"","\\doublecup");defineSymbol(math,ams,bin,"","\\boxtimes",!0);defineSymbol(math,ams,rel,"","\\dashrightarrow",!0);defineSymbol(math,ams,rel,"","\\dashleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftleftarrows",!0);defineSymbol(math,ams,rel,"","\\leftrightarrows",!0);defineSymbol(math,ams,rel,"","\\Lleftarrow",!0);defineSymbol(math,ams,rel,"","\\twoheadleftarrow",!0);defineSymbol(math,ams,rel,"","\\leftarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowleft",!0);defineSymbol(math,ams,rel,"","\\leftrightharpoons",!0);defineSymbol(math,ams,rel,"","\\curvearrowleft",!0);defineSymbol(math,ams,rel,"","\\circlearrowleft",!0);defineSymbol(math,ams,rel,"","\\Lsh",!0);defineSymbol(math,ams,rel,"","\\upuparrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonleft",!0);defineSymbol(math,ams,rel,"","\\downharpoonleft",!0);defineSymbol(math,main,rel,"","\\origof",!0);defineSymbol(math,main,rel,"","\\imageof",!0);defineSymbol(math,ams,rel,"","\\multimap",!0);defineSymbol(math,ams,rel,"","\\leftrightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\rightrightarrows",!0);defineSymbol(math,ams,rel,"","\\rightleftarrows",!0);defineSymbol(math,ams,rel,"","\\twoheadrightarrow",!0);defineSymbol(math,ams,rel,"","\\rightarrowtail",!0);defineSymbol(math,ams,rel,"","\\looparrowright",!0);defineSymbol(math,ams,rel,"","\\curvearrowright",!0);defineSymbol(math,ams,rel,"","\\circlearrowright",!0);defineSymbol(math,ams,rel,"","\\Rsh",!0);defineSymbol(math,ams,rel,"","\\downdownarrows",!0);defineSymbol(math,ams,rel,"","\\upharpoonright",!0);defineSymbol(math,ams,rel,"","\\downharpoonright",!0);defineSymbol(math,ams,rel,"","\\rightsquigarrow",!0);defineSymbol(math,ams,rel,"","\\leadsto");defineSymbol(math,ams,rel,"","\\Rrightarrow",!0);defineSymbol(math,ams,rel,"","\\restriction");defineSymbol(math,main,textord,"","`");defineSymbol(math,main,textord,"$","\\$");defineSymbol(text$3,main,textord,"$","\\$");defineSymbol(text$3,main,textord,"$","\\textdollar");defineSymbol(math,main,textord,"%","\\%");defineSymbol(text$3,main,textord,"%","\\%");defineSymbol(math,main,textord,"_","\\_");defineSymbol(text$3,main,textord,"_","\\_");defineSymbol(text$3,main,textord,"_","\\textunderscore");defineSymbol(math,main,textord,"","\\angle",!0);defineSymbol(math,main,textord,"","\\infty",!0);defineSymbol(math,main,textord,"","\\prime");defineSymbol(math,main,textord,"","\\triangle");defineSymbol(math,main,textord,"","\\Gamma",!0);defineSymbol(math,main,textord,"","\\Delta",!0);defineSymbol(math,main,textord,"","\\Theta",!0);defineSymbol(math,main,textord,"","\\Lambda",!0);defineSymbol(math,main,textord,"","\\Xi",!0);defineSymbol(math,main,textord,"","\\Pi",!0);defineSymbol(math,main,textord,"","\\Sigma",!0);defineSymbol(math,main,textord,"","\\Upsilon",!0);defineSymbol(math,main,textord,"","\\Phi",!0);defineSymbol(math,main,textord,"","\\Psi",!0);defineSymbol(math,main,textord,"","\\Omega",!0);defineSymbol(math,main,textord,"A","");defineSymbol(math,main,textord,"B","");defineSymbol(math,main,textord,"E","");defineSymbol(math,main,textord,"Z","");defineSymbol(math,main,textord,"H","");defineSymbol(math,main,textord,"I","");defineSymbol(math,main,textord,"K","");defineSymbol(math,main,textord,"M","");defineSymbol(math,main,textord,"N","");defineSymbol(math,main,textord,"O","");defineSymbol(math,main,textord,"P","");defineSymbol(math,main,textord,"T","");defineSymbol(math,main,textord,"X","");defineSymbol(math,main,textord,"","\\neg",!0);defineSymbol(math,main,textord,"","\\lnot");defineSymbol(math,main,textord,"","\\top");defineSymbol(math,main,textord,"","\\bot");defineSymbol(math,main,textord,"","\\emptyset");defineSymbol(math,ams,textord,"","\\varnothing");defineSymbol(math,main,mathord,"","\\alpha",!0);defineSymbol(math,main,mathord,"","\\beta",!0);defineSymbol(math,main,mathord,"","\\gamma",!0);defineSymbol(math,main,mathord,"","\\delta",!0);defineSymbol(math,main,mathord,"","\\epsilon",!0);defineSymbol(math,main,mathord,"","\\zeta",!0);defineSymbol(math,main,mathord,"","\\eta",!0);defineSymbol(math,main,mathord,"","\\theta",!0);defineSymbol(math,main,mathord,"","\\iota",!0);defineSymbol(math,main,mathord,"","\\kappa",!0);defineSymbol(math,main,mathord,"","\\lambda",!0);defineSymbol(math,main,mathord,"","\\mu",!0);defineSymbol(math,main,mathord,"","\\nu",!0);defineSymbol(math,main,mathord,"","\\xi",!0);defineSymbol(math,main,mathord,"","\\omicron",!0);defineSymbol(math,main,mathord,"","\\pi",!0);defineSymbol(math,main,mathord,"","\\rho",!0);defineSymbol(math,main,mathord,"","\\sigma",!0);defineSymbol(math,main,mathord,"","\\tau",!0);defineSymbol(math,main,mathord,"","\\upsilon",!0);defineSymbol(math,main,mathord,"","\\phi",!0);defineSymbol(math,main,mathord,"","\\chi",!0);defineSymbol(math,main,mathord,"","\\psi",!0);defineSymbol(math,main,mathord,"","\\omega",!0);defineSymbol(math,main,mathord,"","\\varepsilon",!0);defineSymbol(math,main,mathord,"","\\vartheta",!0);defineSymbol(math,main,mathord,"","\\varpi",!0);defineSymbol(math,main,mathord,"","\\varrho",!0);defineSymbol(math,main,mathord,"","\\varsigma",!0);defineSymbol(math,main,mathord,"","\\varphi",!0);defineSymbol(math,main,bin,"","*",!0);defineSymbol(math,main,bin,"+","+");defineSymbol(math,main,bin,"","-",!0);defineSymbol(math,main,bin,"","\\cdot",!0);defineSymbol(math,main,bin,"","\\circ",!0);defineSymbol(math,main,bin,"","\\div",!0);defineSymbol(math,main,bin,"","\\pm",!0);defineSymbol(math,main,bin,"","\\times",!0);defineSymbol(math,main,bin,"","\\cap",!0);defineSymbol(math,main,bin,"","\\cup",!0);defineSymbol(math,main,bin,"","\\setminus",!0);defineSymbol(math,main,bin,"","\\land");defineSymbol(math,main,bin,"","\\lor");defineSymbol(math,main,bin,"","\\wedge",!0);defineSymbol(math,main,bin,"","\\vee",!0);defineSymbol(math,main,textord,"","\\surd");defineSymbol(math,main,open$1,"","\\langle",!0);defineSymbol(math,main,open$1,"","\\lvert");defineSymbol(math,main,open$1,"","\\lVert");defineSymbol(math,main,close,"?","?");defineSymbol(math,main,close,"!","!");defineSymbol(math,main,close,"","\\rangle",!0);defineSymbol(math,main,close,"","\\rvert");defineSymbol(math,main,close,"","\\rVert");defineSymbol(math,main,rel,"=","=");defineSymbol(math,main,rel,":",":");defineSymbol(math,main,rel,"","\\approx",!0);defineSymbol(math,main,rel,"","\\cong",!0);defineSymbol(math,main,rel,"","\\ge");defineSymbol(math,main,rel,"","\\geq",!0);defineSymbol(math,main,rel,"","\\gets");defineSymbol(math,main,rel,">","\\gt",!0);defineSymbol(math,main,rel,"","\\in",!0);defineSymbol(math,main,rel,"","\\@not");defineSymbol(math,main,rel,"","\\subset",!0);defineSymbol(math,main,rel,"","\\supset",!0);defineSymbol(math,main,rel,"","\\subseteq",!0);defineSymbol(math,main,rel,"","\\supseteq",!0);defineSymbol(math,ams,rel,"","\\nsubseteq",!0);defineSymbol(math,ams,rel,"","\\nsupseteq",!0);defineSymbol(math,main,rel,"","\\models");defineSymbol(math,main,rel,"","\\leftarrow",!0);defineSymbol(math,main,rel,"","\\le");defineSymbol(math,main,rel,"","\\leq",!0);defineSymbol(math,main,rel,"<","\\lt",!0);defineSymbol(math,main,rel,"","\\rightarrow",!0);defineSymbol(math,main,rel,"","\\to");defineSymbol(math,ams,rel,"","\\ngeq",!0);defineSymbol(math,ams,rel,"","\\nleq",!0);defineSymbol(math,main,spacing,"","\\ ");defineSymbol(math,main,spacing,"","\\space");defineSymbol(math,main,spacing,"","\\nobreakspace");defineSymbol(text$3,main,spacing,"","\\ ");defineSymbol(text$3,main,spacing,""," ");defineSymbol(text$3,main,spacing,"","\\space");defineSymbol(text$3,main,spacing,"","\\nobreakspace");defineSymbol(math,main,spacing,null,"\\nobreak");defineSymbol(math,main,spacing,null,"\\allowbreak");defineSymbol(math,main,punct,",",",");defineSymbol(math,main,punct,";",";");defineSymbol(math,ams,bin,"","\\barwedge",!0);defineSymbol(math,ams,bin,"","\\veebar",!0);defineSymbol(math,main,bin,"","\\odot",!0);defineSymbol(math,main,bin,"","\\oplus",!0);defineSymbol(math,main,bin,"","\\otimes",!0);defineSymbol(math,main,textord,"","\\partial",!0);defineSymbol(math,main,bin,"","\\oslash",!0);defineSymbol(math,ams,bin,"","\\circledcirc",!0);defineSymbol(math,ams,bin,"","\\boxdot",!0);defineSymbol(math,main,bin,"","\\bigtriangleup");defineSymbol(math,main,bin,"","\\bigtriangledown");defineSymbol(math,main,bin,"","\\dagger");defineSymbol(math,main,bin,"","\\diamond");defineSymbol(math,main,bin,"","\\star");defineSymbol(math,main,bin,"","\\triangleleft");defineSymbol(math,main,bin,"","\\triangleright");defineSymbol(math,main,open$1,"{","\\{");defineSymbol(text$3,main,textord,"{","\\{");defineSymbol(text$3,main,textord,"{","\\textbraceleft");defineSymbol(math,main,close,"}","\\}");defineSymbol(text$3,main,textord,"}","\\}");defineSymbol(text$3,main,textord,"}","\\textbraceright");defineSymbol(math,main,open$1,"{","\\lbrace");defineSymbol(math,main,close,"}","\\rbrace");defineSymbol(math,main,open$1,"[","\\lbrack",!0);defineSymbol(text$3,main,textord,"[","\\lbrack",!0);defineSymbol(math,main,close,"]","\\rbrack",!0);defineSymbol(text$3,main,textord,"]","\\rbrack",!0);defineSymbol(math,main,open$1,"(","\\lparen",!0);defineSymbol(math,main,close,")","\\rparen",!0);defineSymbol(text$3,main,textord,"<","\\textless",!0);defineSymbol(text$3,main,textord,">","\\textgreater",!0);defineSymbol(math,main,open$1,"","\\lfloor",!0);defineSymbol(math,main,close,"","\\rfloor",!0);defineSymbol(math,main,open$1,"","\\lceil",!0);defineSymbol(math,main,close,"","\\rceil",!0);defineSymbol(math,main,textord,"\\","\\backslash");defineSymbol(math,main,textord,"","|");defineSymbol(math,main,textord,"","\\vert");defineSymbol(text$3,main,textord,"|","\\textbar",!0);defineSymbol(math,main,textord,"","\\|");defineSymbol(math,main,textord,"","\\Vert");defineSymbol(text$3,main,textord,"","\\textbardbl");defineSymbol(text$3,main,textord,"~","\\textasciitilde");defineSymbol(text$3,main,textord,"\\","\\textbackslash");defineSymbol(text$3,main,textord,"^","\\textasciicircum");defineSymbol(math,main,rel,"","\\uparrow",!0);defineSymbol(math,main,rel,"","\\Uparrow",!0);defineSymbol(math,main,rel,"","\\downarrow",!0);defineSymbol(math,main,rel,"","\\Downarrow",!0);defineSymbol(math,main,rel,"","\\updownarrow",!0);defineSymbol(math,main,rel,"","\\Updownarrow",!0);defineSymbol(math,main,op,"","\\coprod");defineSymbol(math,main,op,"","\\bigvee");defineSymbol(math,main,op,"","\\bigwedge");defineSymbol(math,main,op,"","\\biguplus");defineSymbol(math,main,op,"","\\bigcap");defineSymbol(math,main,op,"","\\bigcup");defineSymbol(math,main,op,"","\\int");defineSymbol(math,main,op,"","\\intop");defineSymbol(math,main,op,"","\\iint");defineSymbol(math,main,op,"","\\iiint");defineSymbol(math,main,op,"","\\prod");defineSymbol(math,main,op,"","\\sum");defineSymbol(math,main,op,"","\\bigotimes");defineSymbol(math,main,op,"","\\bigoplus");defineSymbol(math,main,op,"","\\bigodot");defineSymbol(math,main,op,"","\\oint");defineSymbol(math,main,op,"","\\oiint");defineSymbol(math,main,op,"","\\oiiint");defineSymbol(math,main,op,"","\\bigsqcup");defineSymbol(math,main,op,"","\\smallint");defineSymbol(text$3,main,inner,"","\\textellipsis");defineSymbol(math,main,inner,"","\\mathellipsis");defineSymbol(text$3,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\ldots",!0);defineSymbol(math,main,inner,"","\\@cdots",!0);defineSymbol(math,main,inner,"","\\ddots",!0);defineSymbol(math,main,textord,"","\\varvdots");defineSymbol(text$3,main,textord,"","\\varvdots");defineSymbol(math,main,accent,"","\\acute");defineSymbol(math,main,accent,"","\\grave");defineSymbol(math,main,accent,"","\\ddot");defineSymbol(math,main,accent,"~","\\tilde");defineSymbol(math,main,accent,"","\\bar");defineSymbol(math,main,accent,"","\\breve");defineSymbol(math,main,accent,"","\\check");defineSymbol(math,main,accent,"^","\\hat");defineSymbol(math,main,accent,"","\\vec");defineSymbol(math,main,accent,"","\\dot");defineSymbol(math,main,accent,"","\\mathring");defineSymbol(math,main,mathord,"","\\@imath");defineSymbol(math,main,mathord,"","\\@jmath");defineSymbol(math,main,textord,"","");defineSymbol(math,main,textord,"","");defineSymbol(text$3,main,textord,"","\\i",!0);defineSymbol(text$3,main,textord,"","\\j",!0);defineSymbol(text$3,main,textord,"","\\ss",!0);defineSymbol(text$3,main,textord,"","\\ae",!0);defineSymbol(text$3,main,textord,"","\\oe",!0);defineSymbol(text$3,main,textord,"","\\o",!0);defineSymbol(text$3,main,textord,"","\\AE",!0);defineSymbol(text$3,main,textord,"","\\OE",!0);defineSymbol(text$3,main,textord,"","\\O",!0);defineSymbol(text$3,main,accent,"","\\'");defineSymbol(text$3,main,accent,"","\\`");defineSymbol(text$3,main,accent,"","\\^");defineSymbol(text$3,main,accent,"","\\~");defineSymbol(text$3,main,accent,"","\\=");defineSymbol(text$3,main,accent,"","\\u");defineSymbol(text$3,main,accent,"","\\.");defineSymbol(text$3,main,accent,"","\\c");defineSymbol(text$3,main,accent,"","\\r");defineSymbol(text$3,main,accent,"","\\v");defineSymbol(text$3,main,accent,"",'\\"');defineSymbol(text$3,main,accent,"","\\H");defineSymbol(text$3,main,accent,"","\\textcircled");var ligatures={"--":!0,"---":!0,"``":!0,"''":!0};defineSymbol(text$3,main,textord,"","--",!0);defineSymbol(text$3,main,textord,"","\\textendash");defineSymbol(text$3,main,textord,"","---",!0);defineSymbol(text$3,main,textord,"","\\textemdash");defineSymbol(text$3,main,textord,"","`",!0);defineSymbol(text$3,main,textord,"","\\textquoteleft");defineSymbol(text$3,main,textord,"","'",!0);defineSymbol(text$3,main,textord,"","\\textquoteright");defineSymbol(text$3,main,textord,"","``",!0);defineSymbol(text$3,main,textord,"","\\textquotedblleft");defineSymbol(text$3,main,textord,"","''",!0);defineSymbol(text$3,main,textord,"","\\textquotedblright");defineSymbol(math,main,textord,"","\\degree",!0);defineSymbol(text$3,main,textord,"","\\degree");defineSymbol(text$3,main,textord,"","\\textdegree",!0);defineSymbol(math,main,textord,"","\\pounds");defineSymbol(math,main,textord,"","\\mathsterling",!0);defineSymbol(text$3,main,textord,"","\\pounds");defineSymbol(text$3,main,textord,"","\\textsterling",!0);defineSymbol(math,ams,textord,"","\\maltese");defineSymbol(text$3,ams,textord,"","\\maltese");var mathTextSymbols='0123456789/@."';for(var i=0;i<mathTextSymbols.length;i++){var ch=mathTextSymbols.charAt(i);defineSymbol(math,main,textord,ch,ch)}var textSymbols='0123456789!@*()-=+";:?/.,';for(var _i=0;_i<textSymbols.length;_i++){var _ch=textSymbols.charAt(_i);defineSymbol(text$3,main,textord,_ch,_ch)}var letters="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var _i2=0;_i2<letters.length;_i2++){var _ch2=letters.charAt(_i2);defineSymbol(math,main,mathord,_ch2,_ch2),defineSymbol(text$3,main,textord,_ch2,_ch2)}defineSymbol(math,ams,textord,"C","");defineSymbol(text$3,ams,textord,"C","");defineSymbol(math,ams,textord,"H","");defineSymbol(text$3,ams,textord,"H","");defineSymbol(math,ams,textord,"N","");defineSymbol(text$3,ams,textord,"N","");defineSymbol(math,ams,textord,"P","");defineSymbol(text$3,ams,textord,"P","");defineSymbol(math,ams,textord,"Q","");defineSymbol(text$3,ams,textord,"Q","");defineSymbol(math,ams,textord,"R","");defineSymbol(text$3,ams,textord,"R","");defineSymbol(math,ams,textord,"Z","");defineSymbol(text$3,ams,textord,"Z","");defineSymbol(math,main,mathord,"h","");defineSymbol(text$3,main,mathord,"h","");var wideChar="";for(var _i3=0;_i3<letters.length;_i3++){var _ch3=letters.charAt(_i3);wideChar=String.fromCharCode(55349,56320+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56372+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56424+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56580+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56684+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56736+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56788+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56840+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56944+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),_i3<26&&(wideChar=String.fromCharCode(55349,56632+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar),wideChar=String.fromCharCode(55349,56476+_i3),defineSymbol(math,main,mathord,_ch3,wideChar),defineSymbol(text$3,main,textord,_ch3,wideChar))}wideChar="";defineSymbol(math,main,mathord,"k",wideChar);defineSymbol(text$3,main,textord,"k",wideChar);for(var _i4=0;_i4<10;_i4++){var _ch4=_i4.toString();wideChar=String.fromCharCode(55349,57294+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57314+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57324+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar),wideChar=String.fromCharCode(55349,57334+_i4),defineSymbol(math,main,mathord,_ch4,wideChar),defineSymbol(text$3,main,textord,_ch4,wideChar)}var extraLatin="";for(var _i5=0;_i5<extraLatin.length;_i5++){var _ch5=extraLatin.charAt(_i5);defineSymbol(math,main,mathord,_ch5,_ch5),defineSymbol(text$3,main,textord,_ch5,_ch5)}var wideLatinLetterData=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],wideNumeralData=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],wideCharacterFont=function e(o,a){var c=o.charCodeAt(0),d=o.charCodeAt(1),g=(c-55296)*1024+(d-56320)+65536,b=a==="math"?0:1;if(119808<=g&&g<120484){var _=Math.floor((g-119808)/26);return[wideLatinLetterData[_][2],wideLatinLetterData[_][b]]}else if(120782<=g&&g<=120831){var $=Math.floor((g-120782)/10);return[wideNumeralData[$][2],wideNumeralData[$][b]]}else{if(g===120485||g===120486)return[wideLatinLetterData[0][2],wideLatinLetterData[0][b]];if(120486<g&&g<120782)return["",""];throw new ParseError("Unsupported character: "+o)}},lookupSymbol=function e(o,a,c){return symbols[c][o]&&symbols[c][o].replace&&(o=symbols[c][o].replace),{value:o,metrics:getCharacterMetrics(o,a,c)}},makeSymbol=function e(o,a,c,d,g){var b=lookupSymbol(o,a,c),_=b.metrics;o=b.value;var $;if(_){var j=_.italic;(c==="text"||d&&d.font==="mathit")&&(j=0),$=new SymbolNode(o,_.height,_.depth,j,_.skew,_.width,g)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+o+"' in style '"+a+"' and mode '"+c+"'")),$=new SymbolNode(o,0,0,0,0,0,g);if(d){$.maxFontSize=d.sizeMultiplier,d.style.isTight()&&$.classes.push("mtight");var rt=d.getColor();rt&&($.style.color=rt)}return $},mathsym=function e(o,a,c,d){return d===void 0&&(d=[]),c.font==="boldsymbol"&&lookupSymbol(o,"Main-Bold",a).metrics?makeSymbol(o,"Main-Bold",a,c,d.concat(["mathbf"])):o==="\\"||symbols[a][o].font==="main"?makeSymbol(o,"Main-Regular",a,c,d):makeSymbol(o,"AMS-Regular",a,c,d.concat(["amsrm"]))},boldsymbol=function e(o,a,c,d,g){return g!=="textord"&&lookupSymbol(o,"Math-BoldItalic",a).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},makeOrd=function e(o,a,c){var d=o.mode,g=o.text,b=["mord"],_=d==="math"||d==="text"&&a.font,$=_?a.font:a.fontFamily,j="",rt="";if(g.charCodeAt(0)===55349&&([j,rt]=wideCharacterFont(g,d)),j.length>0)return makeSymbol(g,j,d,a,b.concat(rt));if($){var nt,st;if($==="boldsymbol"){var jt=boldsymbol(g,d,a,b,c);nt=jt.fontName,st=[jt.fontClass]}else _?(nt=fontMap[$].fontName,st=[$]):(nt=retrieveTextFontName($,a.fontWeight,a.fontShape),st=[$,a.fontWeight,a.fontShape]);if(lookupSymbol(g,nt,d).metrics)return makeSymbol(g,nt,d,a,b.concat(st));if(ligatures.hasOwnProperty(g)&&nt.slice(0,10)==="Typewriter"){for(var wl=[],Ft=0;Ft<g.length;Ft++)wl.push(makeSymbol(g[Ft],nt,d,a,b.concat(st)));return makeFragment(wl)}}if(c==="mathord")return makeSymbol(g,"Math-Italic",d,a,b.concat(["mathnormal"]));if(c==="textord"){var it=symbols[d][g]&&symbols[d][g].font;if(it==="ams"){var ot=retrieveTextFontName("amsrm",a.fontWeight,a.fontShape);return makeSymbol(g,ot,d,a,b.concat("amsrm",a.fontWeight,a.fontShape))}else if(it==="main"||!it){var Ln=retrieveTextFontName("textrm",a.fontWeight,a.fontShape);return makeSymbol(g,Ln,d,a,b.concat(a.fontWeight,a.fontShape))}else{var Cl=retrieveTextFontName(it,a.fontWeight,a.fontShape);return makeSymbol(g,Cl,d,a,b.concat(Cl,a.fontWeight,a.fontShape))}}else throw new Error("unexpected type: "+c+" in makeOrd")},canCombine=(e,o)=>{if(createClass(e.classes)!==createClass(o.classes)||e.skew!==o.skew||e.maxFontSize!==o.maxFontSize)return!1;if(e.classes.length===1){var a=e.classes[0];if(a==="mbin"||a==="mord")return!1}for(var c in e.style)if(e.style.hasOwnProperty(c)&&e.style[c]!==o.style[c])return!1;for(var d in o.style)if(o.style.hasOwnProperty(d)&&e.style[d]!==o.style[d])return!1;return!0},tryCombineChars=e=>{for(var o=0;o<e.length-1;o++){var a=e[o],c=e[o+1];a instanceof SymbolNode&&c instanceof SymbolNode&&canCombine(a,c)&&(a.text+=c.text,a.height=Math.max(a.height,c.height),a.depth=Math.max(a.depth,c.depth),a.italic=c.italic,e.splice(o+1,1),o--)}return e},sizeElementFromChildren=function e(o){for(var a=0,c=0,d=0,g=0;g<o.children.length;g++){var b=o.children[g];b.height>a&&(a=b.height),b.depth>c&&(c=b.depth),b.maxFontSize>d&&(d=b.maxFontSize)}o.height=a,o.depth=c,o.maxFontSize=d},makeSpan$2=function e(o,a,c,d){var g=new Span(o,a,c,d);return sizeElementFromChildren(g),g},makeSvgSpan=(e,o,a,c)=>new Span(e,o,a,c),makeLineSpan=function e(o,a,c){var d=makeSpan$2([o],[],a);return d.height=Math.max(c||a.fontMetrics().defaultRuleThickness,a.minRuleThickness),d.style.borderBottomWidth=makeEm(d.height),d.maxFontSize=1,d},makeAnchor=function e(o,a,c,d){var g=new Anchor(o,a,c,d);return sizeElementFromChildren(g),g},makeFragment=function e(o){var a=new DocumentFragment(o);return sizeElementFromChildren(a),a},wrapFragment=function e(o,a){return o instanceof DocumentFragment?makeSpan$2([],[o],a):o},getVListChildrenAndDepth=function e(o){if(o.positionType==="individualShift"){for(var a=o.children,c=[a[0]],d=-a[0].shift-a[0].elem.depth,g=d,b=1;b<a.length;b++){var _=-a[b].shift-g-a[b].elem.depth,$=_-(a[b-1].elem.height+a[b-1].elem.depth);g=g+_,c.push({type:"kern",size:$}),c.push(a[b])}return{children:c,depth:d}}var j;if(o.positionType==="top"){for(var rt=o.positionData,nt=0;nt<o.children.length;nt++){var st=o.children[nt];rt-=st.type==="kern"?st.size:st.elem.height+st.elem.depth}j=rt}else if(o.positionType==="bottom")j=-o.positionData;else{var jt=o.children[0];if(jt.type!=="elem")throw new Error('First child must have type "elem".');if(o.positionType==="shift")j=-jt.elem.depth-o.positionData;else if(o.positionType==="firstBaseline")j=-jt.elem.depth;else throw new Error("Invalid positionType "+o.positionType+".")}return{children:o.children,depth:j}},makeVList=function e(o,a){for(var{children:c,depth:d}=getVListChildrenAndDepth(o),g=0,b=0;b<c.length;b++){var _=c[b];if(_.type==="elem"){var $=_.elem;g=Math.max(g,$.maxFontSize,$.height)}}g+=2;var j=makeSpan$2(["pstrut"],[]);j.style.height=makeEm(g);for(var rt=[],nt=d,st=d,jt=d,wl=0;wl<c.length;wl++){var Ft=c[wl];if(Ft.type==="kern")jt+=Ft.size;else{var it=Ft.elem,ot=Ft.wrapperClasses||[],Ln=Ft.wrapperStyle||{},Cl=makeSpan$2(ot,[j,it],void 0,Ln);Cl.style.top=makeEm(-g-jt-it.depth),Ft.marginLeft&&(Cl.style.marginLeft=Ft.marginLeft),Ft.marginRight&&(Cl.style.marginRight=Ft.marginRight),rt.push(Cl),jt+=it.height+it.depth}nt=Math.min(nt,jt),st=Math.max(st,jt)}var Tl=makeSpan$2(["vlist"],rt);Tl.style.height=makeEm(st);var zl;if(nt<0){var In=makeSpan$2([],[]),Ml=makeSpan$2(["vlist"],[In]);Ml.style.height=makeEm(-nt);var Dl=makeSpan$2(["vlist-s"],[new SymbolNode("")]);zl=[makeSpan$2(["vlist-r"],[Tl,Dl]),makeSpan$2(["vlist-r"],[Ml])]}else zl=[makeSpan$2(["vlist-r"],[Tl])];var Ul=makeSpan$2(["vlist-t"],zl);return zl.length===2&&Ul.classes.push("vlist-t2"),Ul.height=st,Ul.depth=-nt,Ul},makeGlue=(e,o)=>{var a=makeSpan$2(["mspace"],[],o),c=calculateSize(e,o);return a.style.marginRight=makeEm(c),a},retrieveTextFontName=function e(o,a,c){var d="";switch(o){case"amsrm":d="AMS";break;case"textrm":d="Main";break;case"textsf":d="SansSerif";break;case"texttt":d="Typewriter";break;default:d=o}var g;return a==="textbf"&&c==="textit"?g="BoldItalic":a==="textbf"?g="Bold":a==="textit"?g="Italic":g="Regular",d+"-"+g},fontMap={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},svgData={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},staticSvg=function e(o,a){var[c,d,g]=svgData[o],b=new PathNode(c),_=new SvgNode([b],{width:makeEm(d),height:makeEm(g),style:"width:"+makeEm(d),viewBox:"0 0 "+1e3*d+" "+1e3*g,preserveAspectRatio:"xMinYMin"}),$=makeSvgSpan(["overlay"],[_],a);return $.height=g,$.style.height=makeEm(g),$.style.width=makeEm(d),$},buildCommon={fontMap,makeSymbol,mathsym,makeSpan:makeSpan$2,makeSvgSpan,makeLineSpan,makeAnchor,makeFragment,wrapFragment,makeVList,makeOrd,makeGlue,staticSvg,svgData,tryCombineChars},thinspace={number:3,unit:"mu"},mediumspace={number:4,unit:"mu"},thickspace={number:5,unit:"mu"},spacings={mord:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mop:{mord:thinspace,mop:thinspace,mrel:thickspace,minner:thinspace},mbin:{mord:mediumspace,mop:mediumspace,mopen:mediumspace,minner:mediumspace},mrel:{mord:thickspace,mop:thickspace,mopen:thickspace,minner:thickspace},mopen:{},mclose:{mop:thinspace,mbin:mediumspace,mrel:thickspace,minner:thinspace},mpunct:{mord:thinspace,mop:thinspace,mrel:thickspace,mopen:thinspace,mclose:thinspace,mpunct:thinspace,minner:thinspace},minner:{mord:thinspace,mop:thinspace,mbin:mediumspace,mrel:thickspace,mopen:thinspace,mpunct:thinspace,minner:thinspace}},tightSpacings={mord:{mop:thinspace},mop:{mord:thinspace,mop:thinspace},mbin:{},mrel:{},mopen:{},mclose:{mop:thinspace},mpunct:{},minner:{mop:thinspace}},_functions={},_htmlGroupBuilders={},_mathmlGroupBuilders={};function defineFunction(e){for(var{type:o,names:a,props:c,handler:d,htmlBuilder:g,mathmlBuilder:b}=e,_={type:o,numArgs:c.numArgs,argTypes:c.argTypes,allowedInArgument:!!c.allowedInArgument,allowedInText:!!c.allowedInText,allowedInMath:c.allowedInMath===void 0?!0:c.allowedInMath,numOptionalArgs:c.numOptionalArgs||0,infix:!!c.infix,primitive:!!c.primitive,handler:d},$=0;$<a.length;++$)_functions[a[$]]=_;o&&(g&&(_htmlGroupBuilders[o]=g),b&&(_mathmlGroupBuilders[o]=b))}function defineFunctionBuilders(e){var{type:o,htmlBuilder:a,mathmlBuilder:c}=e;defineFunction({type:o,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:a,mathmlBuilder:c})}var normalizeArgument=function e(o){return o.type==="ordgroup"&&o.body.length===1?o.body[0]:o},ordargument=function e(o){return o.type==="ordgroup"?o.body:[o]},makeSpan$1=buildCommon.makeSpan,binLeftCanceller=["leftmost","mbin","mopen","mrel","mop","mpunct"],binRightCanceller=["rightmost","mrel","mclose","mpunct"],styleMap$1={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT},DomEnum={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},buildExpression$1=function e(o,a,c,d){d===void 0&&(d=[null,null]);for(var g=[],b=0;b<o.length;b++){var _=buildGroup$1(o[b],a);if(_ instanceof DocumentFragment){var $=_.children;g.push(...$)}else g.push(_)}if(buildCommon.tryCombineChars(g),!c)return g;var j=a;if(o.length===1){var rt=o[0];rt.type==="sizing"?j=a.havingSize(rt.size):rt.type==="styling"&&(j=a.havingStyle(styleMap$1[rt.style]))}var nt=makeSpan$1([d[0]||"leftmost"],[],a),st=makeSpan$1([d[1]||"rightmost"],[],a),jt=c==="root";return traverseNonSpaceNodes(g,(wl,Ft)=>{var it=Ft.classes[0],ot=wl.classes[0];it==="mbin"&&utils.contains(binRightCanceller,ot)?Ft.classes[0]="mord":ot==="mbin"&&utils.contains(binLeftCanceller,it)&&(wl.classes[0]="mord")},{node:nt},st,jt),traverseNonSpaceNodes(g,(wl,Ft)=>{var it=getTypeOfDomTree(Ft),ot=getTypeOfDomTree(wl),Ln=it&&ot?wl.hasClass("mtight")?tightSpacings[it][ot]:spacings[it][ot]:null;if(Ln)return buildCommon.makeGlue(Ln,j)},{node:nt},st,jt),g},traverseNonSpaceNodes=function e(o,a,c,d,g){d&&o.push(d);for(var b=0;b<o.length;b++){var _=o[b],$=checkPartialGroup(_);if($){e($.children,a,c,null,g);continue}var j=!_.hasClass("mspace");if(j){var rt=a(_,c.node);rt&&(c.insertAfter?c.insertAfter(rt):(o.unshift(rt),b++))}j?c.node=_:g&&_.hasClass("newline")&&(c.node=makeSpan$1(["leftmost"])),c.insertAfter=(nt=>st=>{o.splice(nt+1,0,st),b++})(b)}d&&o.pop()},checkPartialGroup=function e(o){return o instanceof DocumentFragment||o instanceof Anchor||o instanceof Span&&o.hasClass("enclosing")?o:null},getOutermostNode=function e(o,a){var c=checkPartialGroup(o);if(c){var d=c.children;if(d.length){if(a==="right")return e(d[d.length-1],"right");if(a==="left")return e(d[0],"left")}}return o},getTypeOfDomTree=function e(o,a){return o?(a&&(o=getOutermostNode(o,a)),DomEnum[o.classes[0]]||null):null},makeNullDelimiter=function e(o,a){var c=["nulldelimiter"].concat(o.baseSizingClasses());return makeSpan$1(a.concat(c))},buildGroup$1=function e(o,a,c){if(!o)return makeSpan$1();if(_htmlGroupBuilders[o.type]){var d=_htmlGroupBuilders[o.type](o,a);if(c&&a.size!==c.size){d=makeSpan$1(a.sizingClasses(c),[d],a);var g=a.sizeMultiplier/c.sizeMultiplier;d.height*=g,d.depth*=g}return d}else throw new ParseError("Got group of unknown type: '"+o.type+"'")};function buildHTMLUnbreakable(e,o){var a=makeSpan$1(["base"],e,o),c=makeSpan$1(["strut"]);return c.style.height=makeEm(a.height+a.depth),a.depth&&(c.style.verticalAlign=makeEm(-a.depth)),a.children.unshift(c),a}function buildHTML(e,o){var a=null;e.length===1&&e[0].type==="tag"&&(a=e[0].tag,e=e[0].body);var c=buildExpression$1(e,o,"root"),d;c.length===2&&c[1].hasClass("tag")&&(d=c.pop());for(var g=[],b=[],_=0;_<c.length;_++)if(b.push(c[_]),c[_].hasClass("mbin")||c[_].hasClass("mrel")||c[_].hasClass("allowbreak")){for(var $=!1;_<c.length-1&&c[_+1].hasClass("mspace")&&!c[_+1].hasClass("newline");)_++,b.push(c[_]),c[_].hasClass("nobreak")&&($=!0);$||(g.push(buildHTMLUnbreakable(b,o)),b=[])}else c[_].hasClass("newline")&&(b.pop(),b.length>0&&(g.push(buildHTMLUnbreakable(b,o)),b=[]),g.push(c[_]));b.length>0&&g.push(buildHTMLUnbreakable(b,o));var j;a?(j=buildHTMLUnbreakable(buildExpression$1(a,o,!0)),j.classes=["tag"],g.push(j)):d&&g.push(d);var rt=makeSpan$1(["katex-html"],g);if(rt.setAttribute("aria-hidden","true"),j){var nt=j.children[0];nt.style.height=makeEm(rt.height+rt.depth),rt.depth&&(nt.style.verticalAlign=makeEm(-rt.depth))}return rt}function newDocumentFragment(e){return new DocumentFragment(e)}class MathNode{constructor(o,a,c){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=o,this.attributes={},this.children=a||[],this.classes=c||[]}setAttribute(o,a){this.attributes[o]=a}getAttribute(o){return this.attributes[o]}toNode(){var o=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&o.setAttribute(a,this.attributes[a]);this.classes.length>0&&(o.className=createClass(this.classes));for(var c=0;c<this.children.length;c++)if(this.children[c]instanceof TextNode&&this.children[c+1]instanceof TextNode){for(var d=this.children[c].toText()+this.children[++c].toText();this.children[c+1]instanceof TextNode;)d+=this.children[++c].toText();o.appendChild(new TextNode(d).toNode())}else o.appendChild(this.children[c].toNode());return o}toMarkup(){var o="<"+this.type;for(var a in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,a)&&(o+=" "+a+'="',o+=utils.escape(this.attributes[a]),o+='"');this.classes.length>0&&(o+=' class ="'+utils.escape(createClass(this.classes))+'"'),o+=">";for(var c=0;c<this.children.length;c++)o+=this.children[c].toMarkup();return o+="</"+this.type+">",o}toText(){return this.children.map(o=>o.toText()).join("")}}class TextNode{constructor(o){this.text=void 0,this.text=o}toNode(){return document.createTextNode(this.text)}toMarkup(){return utils.escape(this.toText())}toText(){return this.text}}class SpaceNode{constructor(o){this.width=void 0,this.character=void 0,this.width=o,o>=.05555&&o<=.05556?this.character="":o>=.1666&&o<=.1667?this.character="":o>=.2222&&o<=.2223?this.character="":o>=.2777&&o<=.2778?this.character="":o>=-.05556&&o<=-.05555?this.character="":o>=-.1667&&o<=-.1666?this.character="":o>=-.2223&&o<=-.2222?this.character="":o>=-.2778&&o<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var o=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return o.setAttribute("width",makeEm(this.width)),o}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+makeEm(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var mathMLTree={MathNode,TextNode,SpaceNode,newDocumentFragment},makeText=function e(o,a,c){return symbols[a][o]&&symbols[a][o].replace&&o.charCodeAt(0)!==55349&&!(ligatures.hasOwnProperty(o)&&c&&(c.fontFamily&&c.fontFamily.slice(4,6)==="tt"||c.font&&c.font.slice(4,6)==="tt"))&&(o=symbols[a][o].replace),new mathMLTree.TextNode(o)},makeRow=function e(o){return o.length===1?o[0]:new mathMLTree.MathNode("mrow",o)},getVariant=function e(o,a){if(a.fontFamily==="texttt")return"monospace";if(a.fontFamily==="textsf")return a.fontShape==="textit"&&a.fontWeight==="textbf"?"sans-serif-bold-italic":a.fontShape==="textit"?"sans-serif-italic":a.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(a.fontShape==="textit"&&a.fontWeight==="textbf")return"bold-italic";if(a.fontShape==="textit")return"italic";if(a.fontWeight==="textbf")return"bold";var c=a.font;if(!c||c==="mathnormal")return null;var d=o.mode;if(c==="mathit")return"italic";if(c==="boldsymbol")return o.type==="textord"?"bold":"bold-italic";if(c==="mathbf")return"bold";if(c==="mathbb")return"double-struck";if(c==="mathsfit")return"sans-serif-italic";if(c==="mathfrak")return"fraktur";if(c==="mathscr"||c==="mathcal")return"script";if(c==="mathsf")return"sans-serif";if(c==="mathtt")return"monospace";var g=o.text;if(utils.contains(["\\imath","\\jmath"],g))return null;symbols[d][g]&&symbols[d][g].replace&&(g=symbols[d][g].replace);var b=buildCommon.fontMap[c].fontName;return getCharacterMetrics(g,b,d)?buildCommon.fontMap[c].variant:null};function isNumberPunctuation(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var o=e.children[0];return o instanceof TextNode&&o.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var a=e.children[0];return a instanceof TextNode&&a.text===","}else return!1}var buildExpression=function e(o,a,c){if(o.length===1){var d=buildGroup(o[0],a);return c&&d instanceof MathNode&&d.type==="mo"&&(d.setAttribute("lspace","0em"),d.setAttribute("rspace","0em")),[d]}for(var g=[],b,_=0;_<o.length;_++){var $=buildGroup(o[_],a);if($ instanceof MathNode&&b instanceof MathNode){if($.type==="mtext"&&b.type==="mtext"&&$.getAttribute("mathvariant")===b.getAttribute("mathvariant")){b.children.push(...$.children);continue}else if($.type==="mn"&&b.type==="mn"){b.children.push(...$.children);continue}else if(isNumberPunctuation($)&&b.type==="mn"){b.children.push(...$.children);continue}else if($.type==="mn"&&isNumberPunctuation(b))$.children=[...b.children,...$.children],g.pop();else if(($.type==="msup"||$.type==="msub")&&$.children.length>=1&&(b.type==="mn"||isNumberPunctuation(b))){var j=$.children[0];j instanceof MathNode&&j.type==="mn"&&(j.children=[...b.children,...j.children],g.pop())}else if(b.type==="mi"&&b.children.length===1){var rt=b.children[0];if(rt instanceof TextNode&&rt.text===""&&($.type==="mo"||$.type==="mi"||$.type==="mn")){var nt=$.children[0];nt instanceof TextNode&&nt.text.length>0&&(nt.text=nt.text.slice(0,1)+""+nt.text.slice(1),g.pop())}}}g.push($),b=$}return g},buildExpressionRow=function e(o,a,c){return makeRow(buildExpression(o,a,c))},buildGroup=function e(o,a){if(!o)return new mathMLTree.MathNode("mrow");if(_mathmlGroupBuilders[o.type]){var c=_mathmlGroupBuilders[o.type](o,a);return c}else throw new ParseError("Got group of unknown type: '"+o.type+"'")};function buildMathML(e,o,a,c,d){var g=buildExpression(e,a),b;g.length===1&&g[0]instanceof MathNode&&utils.contains(["mrow","mtable"],g[0].type)?b=g[0]:b=new mathMLTree.MathNode("mrow",g);var _=new mathMLTree.MathNode("annotation",[new mathMLTree.TextNode(o)]);_.setAttribute("encoding","application/x-tex");var $=new mathMLTree.MathNode("semantics",[b,_]),j=new mathMLTree.MathNode("math",[$]);j.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),c&&j.setAttribute("display","block");var rt=d?"katex":"katex-mathml";return buildCommon.makeSpan([rt],[j])}var optionsFromSettings=function e(o){return new Options({style:o.displayMode?Style$1.DISPLAY:Style$1.TEXT,maxSize:o.maxSize,minRuleThickness:o.minRuleThickness})},displayWrap=function e(o,a){if(a.displayMode){var c=["katex-display"];a.leqno&&c.push("leqno"),a.fleqn&&c.push("fleqn"),o=buildCommon.makeSpan(c,[o])}return o},buildTree=function e(o,a,c){var d=optionsFromSettings(c),g;if(c.output==="mathml")return buildMathML(o,a,d,c.displayMode,!0);if(c.output==="html"){var b=buildHTML(o,d);g=buildCommon.makeSpan(["katex"],[b])}else{var _=buildMathML(o,a,d,c.displayMode,!1),$=buildHTML(o,d);g=buildCommon.makeSpan(["katex"],[_,$])}return displayWrap(g,c)},buildHTMLTree=function e(o,a,c){var d=optionsFromSettings(c),g=buildHTML(o,d),b=buildCommon.makeSpan(["katex"],[g]);return displayWrap(b,c)},stretchyCodePoint={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},mathMLnode=function e(o){var a=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(stretchyCodePoint[o.replace(/^\\/,"")])]);return a.setAttribute("stretchy","true"),a},katexImagesData={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},groupLength=function e(o){return o.type==="ordgroup"?o.body.length:1},svgSpan=function e(o,a){function c(){var _=4e5,$=o.label.slice(1);if(utils.contains(["widehat","widecheck","widetilde","utilde"],$)){var j=o,rt=groupLength(j.base),nt,st,jt;if(rt>5)$==="widehat"||$==="widecheck"?(nt=420,_=2364,jt=.42,st=$+"4"):(nt=312,_=2340,jt=.34,st="tilde4");else{var wl=[1,1,2,2,3,3][rt];$==="widehat"||$==="widecheck"?(_=[0,1062,2364,2364,2364][wl],nt=[0,239,300,360,420][wl],jt=[0,.24,.3,.3,.36,.42][wl],st=$+wl):(_=[0,600,1033,2339,2340][wl],nt=[0,260,286,306,312][wl],jt=[0,.26,.286,.3,.306,.34][wl],st="tilde"+wl)}var Ft=new PathNode(st),it=new SvgNode([Ft],{width:"100%",height:makeEm(jt),viewBox:"0 0 "+_+" "+nt,preserveAspectRatio:"none"});return{span:buildCommon.makeSvgSpan([],[it],a),minWidth:0,height:jt}}else{var ot=[],Ln=katexImagesData[$],[Cl,Tl,zl]=Ln,In=zl/1e3,Ml=Cl.length,Dl,Ul;if(Ml===1){var Vl=Ln[3];Dl=["hide-tail"],Ul=[Vl]}else if(Ml===2)Dl=["halfarrow-left","halfarrow-right"],Ul=["xMinYMin","xMaxYMin"];else if(Ml===3)Dl=["brace-left","brace-center","brace-right"],Ul=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Ml+" children.");for(var mu=0;mu<Ml;mu++){var rp=new PathNode(Cl[mu]),Ju=new SvgNode([rp],{width:"400em",height:makeEm(In),viewBox:"0 0 "+_+" "+zl,preserveAspectRatio:Ul[mu]+" slice"}),cp=buildCommon.makeSvgSpan([Dl[mu]],[Ju],a);if(Ml===1)return{span:cp,minWidth:Tl,height:In};cp.style.height=makeEm(In),ot.push(cp)}return{span:buildCommon.makeSpan(["stretchy"],ot,a),minWidth:Tl,height:In}}}var{span:d,minWidth:g,height:b}=c();return d.height=b,d.style.height=makeEm(b),g>0&&(d.style.minWidth=makeEm(g)),d},encloseSpan=function e(o,a,c,d,g){var b,_=o.height+o.depth+c+d;if(/fbox|color|angl/.test(a)){if(b=buildCommon.makeSpan(["stretchy",a],[],g),a==="fbox"){var $=g.color&&g.getColor();$&&(b.style.borderColor=$)}}else{var j=[];/^[bx]cancel$/.test(a)&&j.push(new LineNode({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(a)&&j.push(new LineNode({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var rt=new SvgNode(j,{width:"100%",height:makeEm(_)});b=buildCommon.makeSvgSpan([],[rt],g)}return b.height=_,b.style.height=makeEm(_),b},stretchy={encloseSpan,mathMLnode,svgSpan};function assertNodeType(e,o){if(!e||e.type!==o)throw new Error("Expected node of type "+o+", but got "+(e?"node of type "+e.type:String(e)));return e}function assertSymbolNodeType(e){var o=checkSymbolNodeType(e);if(!o)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return o}function checkSymbolNodeType(e){return e&&(e.type==="atom"||NON_ATOMS.hasOwnProperty(e.type))?e:null}var htmlBuilder$a=(e,o)=>{var a,c,d;e&&e.type==="supsub"?(c=assertNodeType(e.base,"accent"),a=c.base,e.base=a,d=assertSpan(buildGroup$1(e,o)),e.base=c):(c=assertNodeType(e,"accent"),a=c.base);var g=buildGroup$1(a,o.havingCrampedStyle()),b=c.isShifty&&utils.isCharacterBox(a),_=0;if(b){var $=utils.getBaseElem(a),j=buildGroup$1($,o.havingCrampedStyle());_=assertSymbolDomNode(j).skew}var rt=c.label==="\\c",nt=rt?g.height+g.depth:Math.min(g.height,o.fontMetrics().xHeight),st;if(c.isStretchy)st=stretchy.svgSpan(c,o),st=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g},{type:"elem",elem:st,wrapperClasses:["svg-align"],wrapperStyle:_>0?{width:"calc(100% - "+makeEm(2*_)+")",marginLeft:makeEm(2*_)}:void 0}]},o);else{var jt,wl;c.label==="\\vec"?(jt=buildCommon.staticSvg("vec",o),wl=buildCommon.svgData.vec[1]):(jt=buildCommon.makeOrd({mode:c.mode,text:c.label},o,"textord"),jt=assertSymbolDomNode(jt),jt.italic=0,wl=jt.width,rt&&(nt+=jt.depth)),st=buildCommon.makeSpan(["accent-body"],[jt]);var Ft=c.label==="\\textcircled";Ft&&(st.classes.push("accent-full"),nt=g.height);var it=_;Ft||(it-=wl/2),st.style.left=makeEm(it),c.label==="\\textcircled"&&(st.style.top=".2em"),st=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g},{type:"kern",size:-nt},{type:"elem",elem:st}]},o)}var ot=buildCommon.makeSpan(["mord","accent"],[st],o);return d?(d.children[0]=ot,d.height=Math.max(ot.height,d.height),d.classes[0]="mord",d):ot},mathmlBuilder$9=(e,o)=>{var a=e.isStretchy?stretchy.mathMLnode(e.label):new mathMLTree.MathNode("mo",[makeText(e.label,e.mode)]),c=new mathMLTree.MathNode("mover",[buildGroup(e.base,o),a]);return c.setAttribute("accent","true"),c},NON_STRETCHY_ACCENT_REGEX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));defineFunction({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,o)=>{var a=normalizeArgument(o[0]),c=!NON_STRETCHY_ACCENT_REGEX.test(e.funcName),d=!c||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:c,isShifty:d,base:a}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,o)=>{var a=o[0],c=e.parser.mode;return c==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),c="text"),{type:"accent",mode:c,label:e.funcName,isStretchy:!1,isShifty:!0,base:a}},htmlBuilder:htmlBuilder$a,mathmlBuilder:mathmlBuilder$9});defineFunction({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0];return{type:"accentUnder",mode:a.mode,label:c,base:d}},htmlBuilder:(e,o)=>{var a=buildGroup$1(e.base,o),c=stretchy.svgSpan(e,o),d=e.label==="\\utilde"?.12:0,g=buildCommon.makeVList({positionType:"top",positionData:a.height,children:[{type:"elem",elem:c,wrapperClasses:["svg-align"]},{type:"kern",size:d},{type:"elem",elem:a}]},o);return buildCommon.makeSpan(["mord","accentunder"],[g],o)},mathmlBuilder:(e,o)=>{var a=stretchy.mathMLnode(e.label),c=new mathMLTree.MathNode("munder",[buildGroup(e.base,o),a]);return c.setAttribute("accentunder","true"),c}});var paddedNode=e=>{var o=new mathMLTree.MathNode("mpadded",e?[e]:[]);return o.setAttribute("width","+0.6em"),o.setAttribute("lspace","0.3em"),o};defineFunction({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,o,a){var{parser:c,funcName:d}=e;return{type:"xArrow",mode:c.mode,label:d,body:o[0],below:a[0]}},htmlBuilder(e,o){var a=o.style,c=o.havingStyle(a.sup()),d=buildCommon.wrapFragment(buildGroup$1(e.body,c,o),o),g=e.label.slice(0,2)==="\\x"?"x":"cd";d.classes.push(g+"-arrow-pad");var b;e.below&&(c=o.havingStyle(a.sub()),b=buildCommon.wrapFragment(buildGroup$1(e.below,c,o),o),b.classes.push(g+"-arrow-pad"));var _=stretchy.svgSpan(e,o),$=-o.fontMetrics().axisHeight+.5*_.height,j=-o.fontMetrics().axisHeight-.5*_.height-.111;(d.depth>.25||e.label==="\\xleftequilibrium")&&(j-=d.depth);var rt;if(b){var nt=-o.fontMetrics().axisHeight+b.height+.5*_.height+.111;rt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:j},{type:"elem",elem:_,shift:$},{type:"elem",elem:b,shift:nt}]},o)}else rt=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:j},{type:"elem",elem:_,shift:$}]},o);return rt.children[0].children[0].children[1].classes.push("svg-align"),buildCommon.makeSpan(["mrel","x-arrow"],[rt],o)},mathmlBuilder(e,o){var a=stretchy.mathMLnode(e.label);a.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var c;if(e.body){var d=paddedNode(buildGroup(e.body,o));if(e.below){var g=paddedNode(buildGroup(e.below,o));c=new mathMLTree.MathNode("munderover",[a,g,d])}else c=new mathMLTree.MathNode("mover",[a,d])}else if(e.below){var b=paddedNode(buildGroup(e.below,o));c=new mathMLTree.MathNode("munder",[a,b])}else c=paddedNode(),c=new mathMLTree.MathNode("mover",[a,c]);return c}});var makeSpan=buildCommon.makeSpan;function htmlBuilder$9(e,o){var a=buildExpression$1(e.body,o,!0);return makeSpan([e.mclass],a,o)}function mathmlBuilder$8(e,o){var a,c=buildExpression(e.body,o);return e.mclass==="minner"?a=new mathMLTree.MathNode("mpadded",c):e.mclass==="mord"?e.isCharacterBox?(a=c[0],a.type="mi"):a=new mathMLTree.MathNode("mi",c):(e.isCharacterBox?(a=c[0],a.type="mo"):a=new mathMLTree.MathNode("mo",c),e.mclass==="mbin"?(a.attributes.lspace="0.22em",a.attributes.rspace="0.22em"):e.mclass==="mpunct"?(a.attributes.lspace="0em",a.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(a.attributes.lspace="0em",a.attributes.rspace="0em"):e.mclass==="minner"&&(a.attributes.lspace="0.0556em",a.attributes.width="+0.1111em")),a}defineFunction({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,o){var{parser:a,funcName:c}=e,d=o[0];return{type:"mclass",mode:a.mode,mclass:"m"+c.slice(5),body:ordargument(d),isCharacterBox:utils.isCharacterBox(d)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});var binrelClass=e=>{var o=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return o.type==="atom"&&(o.family==="bin"||o.family==="rel")?"m"+o.family:"mord"};defineFunction({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,o){var{parser:a}=e;return{type:"mclass",mode:a.mode,mclass:binrelClass(o[0]),body:ordargument(o[1]),isCharacterBox:utils.isCharacterBox(o[1])}}});defineFunction({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,o){var{parser:a,funcName:c}=e,d=o[1],g=o[0],b;c!=="\\stackrel"?b=binrelClass(d):b="mrel";var _={type:"op",mode:d.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:c!=="\\stackrel",body:ordargument(d)},$={type:"supsub",mode:g.mode,base:_,sup:c==="\\underset"?null:g,sub:c==="\\underset"?g:null};return{type:"mclass",mode:a.mode,mclass:b,body:[$],isCharacterBox:utils.isCharacterBox($)}},htmlBuilder:htmlBuilder$9,mathmlBuilder:mathmlBuilder$8});defineFunction({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,o){var{parser:a}=e;return{type:"pmb",mode:a.mode,mclass:binrelClass(o[0]),body:ordargument(o[0])}},htmlBuilder(e,o){var a=buildExpression$1(e.body,o,!0),c=buildCommon.makeSpan([e.mclass],a,o);return c.style.textShadow="0.02em 0.01em 0.04px",c},mathmlBuilder(e,o){var a=buildExpression(e.body,o),c=new mathMLTree.MathNode("mstyle",a);return c.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),c}});var cdArrowFunctionName={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},newCell=()=>({type:"styling",body:[],mode:"math",style:"display"}),isStartOfArrow=e=>e.type==="textord"&&e.text==="@",isLabelEnd=(e,o)=>(e.type==="mathord"||e.type==="atom")&&e.text===o;function cdArrow(e,o,a){var c=cdArrowFunctionName[e];switch(c){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return a.callFunction(c,[o[0]],[o[1]]);case"\\uparrow":case"\\downarrow":{var d=a.callFunction("\\\\cdleft",[o[0]],[]),g={type:"atom",text:c,mode:"math",family:"rel"},b=a.callFunction("\\Big",[g],[]),_=a.callFunction("\\\\cdright",[o[1]],[]),$={type:"ordgroup",mode:"math",body:[d,b,_]};return a.callFunction("\\\\cdparent",[$],[])}case"\\\\cdlongequal":return a.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var j={type:"textord",text:"\\Vert",mode:"math"};return a.callFunction("\\Big",[j],[])}default:return{type:"textord",text:" ",mode:"math"}}}function parseCD(e){var o=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){o.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var a=e.fetch().text;if(a==="&"||a==="\\\\")e.consume();else if(a==="\\end"){o[o.length-1].length===0&&o.pop();break}else throw new ParseError("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var c=[],d=[c],g=0;g<o.length;g++){for(var b=o[g],_=newCell(),$=0;$<b.length;$++)if(!isStartOfArrow(b[$]))_.body.push(b[$]);else{c.push(_),$+=1;var j=assertSymbolNodeType(b[$]).text,rt=new Array(2);if(rt[0]={type:"ordgroup",mode:"math",body:[]},rt[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(j)>-1))if("<>AV".indexOf(j)>-1)for(var nt=0;nt<2;nt++){for(var st=!0,jt=$+1;jt<b.length;jt++){if(isLabelEnd(b[jt],j)){st=!1,$=jt;break}if(isStartOfArrow(b[jt]))throw new ParseError("Missing a "+j+" character to complete a CD arrow.",b[jt]);rt[nt].body.push(b[jt])}if(st)throw new ParseError("Missing a "+j+" character to complete a CD arrow.",b[$])}else throw new ParseError('Expected one of "<>AV=|." after @',b[$]);var wl=cdArrow(j,rt,e),Ft={type:"styling",body:[wl],mode:"math",style:"display"};c.push(Ft),_=newCell()}g%2===0?c.push(_):c.shift(),c=[],d.push(c)}e.gullet.endGroup(),e.gullet.endGroup();var it=new Array(d[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:d,arraystretch:1,addJot:!0,rowGaps:[null],cols:it,colSeparationType:"CD",hLinesBeforeRow:new Array(d.length+1).fill([])}}defineFunction({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,o){var{parser:a,funcName:c}=e;return{type:"cdlabel",mode:a.mode,side:c.slice(4),label:o[0]}},htmlBuilder(e,o){var a=o.havingStyle(o.style.sup()),c=buildCommon.wrapFragment(buildGroup$1(e.label,a,o),o);return c.classes.push("cd-label-"+e.side),c.style.bottom=makeEm(.8-c.depth),c.height=0,c.depth=0,c},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mrow",[buildGroup(e.label,o)]);return a=new mathMLTree.MathNode("mpadded",[a]),a.setAttribute("width","0"),e.side==="left"&&a.setAttribute("lspace","-1width"),a.setAttribute("voffset","0.7em"),a=new mathMLTree.MathNode("mstyle",[a]),a.setAttribute("displaystyle","false"),a.setAttribute("scriptlevel","1"),a}});defineFunction({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,o){var{parser:a}=e;return{type:"cdlabelparent",mode:a.mode,fragment:o[0]}},htmlBuilder(e,o){var a=buildCommon.wrapFragment(buildGroup$1(e.fragment,o),o);return a.classes.push("cd-vert-arrow"),a},mathmlBuilder(e,o){return new mathMLTree.MathNode("mrow",[buildGroup(e.fragment,o)])}});defineFunction({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,o){for(var{parser:a}=e,c=assertNodeType(o[0],"ordgroup"),d=c.body,g="",b=0;b<d.length;b++){var _=assertNodeType(d[b],"textord");g+=_.text}var $=parseInt(g),j;if(isNaN($))throw new ParseError("\\@char has non-numeric argument "+g);if($<0||$>=1114111)throw new ParseError("\\@char with invalid code point "+g);return $<=65535?j=String.fromCharCode($):($-=65536,j=String.fromCharCode(($>>10)+55296,($&1023)+56320)),{type:"textord",mode:a.mode,text:j}}});var htmlBuilder$8=(e,o)=>{var a=buildExpression$1(e.body,o.withColor(e.color),!1);return buildCommon.makeFragment(a)},mathmlBuilder$7=(e,o)=>{var a=buildExpression(e.body,o.withColor(e.color)),c=new mathMLTree.MathNode("mstyle",a);return c.setAttribute("mathcolor",e.color),c};defineFunction({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,o){var{parser:a}=e,c=assertNodeType(o[0],"color-token").color,d=o[1];return{type:"color",mode:a.mode,color:c,body:ordargument(d)}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,o){var{parser:a,breakOnTokenText:c}=e,d=assertNodeType(o[0],"color-token").color;a.gullet.macros.set("\\current@color",d);var g=a.parseExpression(!0,c);return{type:"color",mode:a.mode,color:d,body:g}},htmlBuilder:htmlBuilder$8,mathmlBuilder:mathmlBuilder$7});defineFunction({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,o,a){var{parser:c}=e,d=c.gullet.future().text==="["?c.parseSizeGroup(!0):null,g=!c.settings.displayMode||!c.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:c.mode,newLine:g,size:d&&assertNodeType(d,"size").value}},htmlBuilder(e,o){var a=buildCommon.makeSpan(["mspace"],[],o);return e.newLine&&(a.classes.push("newline"),e.size&&(a.style.marginTop=makeEm(calculateSize(e.size,o)))),a},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mspace");return e.newLine&&(a.setAttribute("linebreak","newline"),e.size&&a.setAttribute("height",makeEm(calculateSize(e.size,o)))),a}});var globalMap={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},checkControlSequence=e=>{var o=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new ParseError("Expected a control sequence",e);return o},getRHS=e=>{var o=e.gullet.popToken();return o.text==="="&&(o=e.gullet.popToken(),o.text===" "&&(o=e.gullet.popToken())),o},letCommand=(e,o,a,c)=>{var d=e.gullet.macros.get(a.text);d==null&&(a.noexpand=!0,d={tokens:[a],numArgs:0,unexpandable:!e.gullet.isExpandable(a.text)}),e.gullet.macros.set(o,d,c)};defineFunction({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:o,funcName:a}=e;o.consumeSpaces();var c=o.fetch();if(globalMap[c.text])return(a==="\\global"||a==="\\\\globallong")&&(c.text=globalMap[c.text]),assertNodeType(o.parseFunction(),"internal");throw new ParseError("Invalid token after macro prefix",c)}});defineFunction({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:o,funcName:a}=e,c=o.gullet.popToken(),d=c.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(d))throw new ParseError("Expected a control sequence",c);for(var g=0,b,_=[[]];o.gullet.future().text!=="{";)if(c=o.gullet.popToken(),c.text==="#"){if(o.gullet.future().text==="{"){b=o.gullet.future(),_[g].push("{");break}if(c=o.gullet.popToken(),!/^[1-9]$/.test(c.text))throw new ParseError('Invalid argument number "'+c.text+'"');if(parseInt(c.text)!==g+1)throw new ParseError('Argument number "'+c.text+'" out of order');g++,_.push([])}else{if(c.text==="EOF")throw new ParseError("Expected a macro definition");_[g].push(c.text)}var{tokens:$}=o.gullet.consumeArg();return b&&$.unshift(b),(a==="\\edef"||a==="\\xdef")&&($=o.gullet.expandTokens($),$.reverse()),o.gullet.macros.set(d,{tokens:$,numArgs:g,delimiters:_},a===globalMap[a]),{type:"internal",mode:o.mode}}});defineFunction({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:o,funcName:a}=e,c=checkControlSequence(o.gullet.popToken());o.gullet.consumeSpaces();var d=getRHS(o);return letCommand(o,c,d,a==="\\\\globallet"),{type:"internal",mode:o.mode}}});defineFunction({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:o,funcName:a}=e,c=checkControlSequence(o.gullet.popToken()),d=o.gullet.popToken(),g=o.gullet.popToken();return letCommand(o,c,g,a==="\\\\globalfuture"),o.gullet.pushToken(g),o.gullet.pushToken(d),{type:"internal",mode:o.mode}}});var getMetrics=function e(o,a,c){var d=symbols.math[o]&&symbols.math[o].replace,g=getCharacterMetrics(d||o,a,c);if(!g)throw new Error("Unsupported symbol "+o+" and font size "+a+".");return g},styleWrap=function e(o,a,c,d){var g=c.havingBaseStyle(a),b=buildCommon.makeSpan(d.concat(g.sizingClasses(c)),[o],c),_=g.sizeMultiplier/c.sizeMultiplier;return b.height*=_,b.depth*=_,b.maxFontSize=g.sizeMultiplier,b},centerSpan=function e(o,a,c){var d=a.havingBaseStyle(c),g=(1-a.sizeMultiplier/d.sizeMultiplier)*a.fontMetrics().axisHeight;o.classes.push("delimcenter"),o.style.top=makeEm(g),o.height-=g,o.depth+=g},makeSmallDelim=function e(o,a,c,d,g,b){var _=buildCommon.makeSymbol(o,"Main-Regular",g,d),$=styleWrap(_,a,d,b);return c&&centerSpan($,d,a),$},mathrmSize=function e(o,a,c,d){return buildCommon.makeSymbol(o,"Size"+a+"-Regular",c,d)},makeLargeDelim=function e(o,a,c,d,g,b){var _=mathrmSize(o,a,g,d),$=styleWrap(buildCommon.makeSpan(["delimsizing","size"+a],[_],d),Style$1.TEXT,d,b);return c&&centerSpan($,d,Style$1.TEXT),$},makeGlyphSpan=function e(o,a,c){var d;a==="Size1-Regular"?d="delim-size1":d="delim-size4";var g=buildCommon.makeSpan(["delimsizinginner",d],[buildCommon.makeSpan([],[buildCommon.makeSymbol(o,a,c)])]);return{type:"elem",elem:g}},makeInner=function e(o,a,c){var d=fontMetricsData["Size4-Regular"][o.charCodeAt(0)]?fontMetricsData["Size4-Regular"][o.charCodeAt(0)][4]:fontMetricsData["Size1-Regular"][o.charCodeAt(0)][4],g=new PathNode("inner",innerPath(o,Math.round(1e3*a))),b=new SvgNode([g],{width:makeEm(d),height:makeEm(a),style:"width:"+makeEm(d),viewBox:"0 0 "+1e3*d+" "+Math.round(1e3*a),preserveAspectRatio:"xMinYMin"}),_=buildCommon.makeSvgSpan([],[b],c);return _.height=a,_.style.height=makeEm(a),_.style.width=makeEm(d),{type:"elem",elem:_}},lapInEms=.008,lap={type:"kern",size:-1*lapInEms},verts=["|","\\lvert","\\rvert","\\vert"],doubleVerts=["\\|","\\lVert","\\rVert","\\Vert"],makeStackedDelim=function e(o,a,c,d,g,b){var _,$,j,rt,nt="",st=0;_=j=rt=o,$=null;var jt="Size1-Regular";o==="\\uparrow"?j=rt="":o==="\\Uparrow"?j=rt="":o==="\\downarrow"?_=j="":o==="\\Downarrow"?_=j="":o==="\\updownarrow"?(_="\\uparrow",j="",rt="\\downarrow"):o==="\\Updownarrow"?(_="\\Uparrow",j="",rt="\\Downarrow"):utils.contains(verts,o)?(j="",nt="vert",st=333):utils.contains(doubleVerts,o)?(j="",nt="doublevert",st=556):o==="["||o==="\\lbrack"?(_="",j="",rt="",jt="Size4-Regular",nt="lbrack",st=667):o==="]"||o==="\\rbrack"?(_="",j="",rt="",jt="Size4-Regular",nt="rbrack",st=667):o==="\\lfloor"||o===""?(j=_="",rt="",jt="Size4-Regular",nt="lfloor",st=667):o==="\\lceil"||o===""?(_="",j=rt="",jt="Size4-Regular",nt="lceil",st=667):o==="\\rfloor"||o===""?(j=_="",rt="",jt="Size4-Regular",nt="rfloor",st=667):o==="\\rceil"||o===""?(_="",j=rt="",jt="Size4-Regular",nt="rceil",st=667):o==="("||o==="\\lparen"?(_="",j="",rt="",jt="Size4-Regular",nt="lparen",st=875):o===")"||o==="\\rparen"?(_="",j="",rt="",jt="Size4-Regular",nt="rparen",st=875):o==="\\{"||o==="\\lbrace"?(_="",$="",rt="",j="",jt="Size4-Regular"):o==="\\}"||o==="\\rbrace"?(_="",$="",rt="",j="",jt="Size4-Regular"):o==="\\lgroup"||o===""?(_="",rt="",j="",jt="Size4-Regular"):o==="\\rgroup"||o===""?(_="",rt="",j="",jt="Size4-Regular"):o==="\\lmoustache"||o===""?(_="",rt="",j="",jt="Size4-Regular"):(o==="\\rmoustache"||o==="")&&(_="",rt="",j="",jt="Size4-Regular");var wl=getMetrics(_,jt,g),Ft=wl.height+wl.depth,it=getMetrics(j,jt,g),ot=it.height+it.depth,Ln=getMetrics(rt,jt,g),Cl=Ln.height+Ln.depth,Tl=0,zl=1;if($!==null){var In=getMetrics($,jt,g);Tl=In.height+In.depth,zl=2}var Ml=Ft+Cl+Tl,Dl=Math.max(0,Math.ceil((a-Ml)/(zl*ot))),Ul=Ml+Dl*zl*ot,Vl=d.fontMetrics().axisHeight;c&&(Vl*=d.sizeMultiplier);var mu=Ul/2-Vl,rp=[];if(nt.length>0){var Ju=Ul-Ft-Cl,cp=Math.round(Ul*1e3),hp=tallDelim(nt,Math.round(Ju*1e3)),yp=new PathNode(nt,hp),xp=(st/1e3).toFixed(3)+"em",fp=(cp/1e3).toFixed(3)+"em",_p=new SvgNode([yp],{width:xp,height:fp,viewBox:"0 0 "+st+" "+cp}),ip=buildCommon.makeSvgSpan([],[_p],d);ip.height=cp/1e3,ip.style.width=xp,ip.style.height=fp,rp.push({type:"elem",elem:ip})}else{if(rp.push(makeGlyphSpan(rt,jt,g)),rp.push(lap),$===null){var gp=Ul-Ft-Cl+2*lapInEms;rp.push(makeInner(j,gp,d))}else{var Dp=(Ul-Ft-Cl-Tl)/2+2*lapInEms;rp.push(makeInner(j,Dp,d)),rp.push(lap),rp.push(makeGlyphSpan($,jt,g)),rp.push(lap),rp.push(makeInner(j,Dp,d))}rp.push(lap),rp.push(makeGlyphSpan(_,jt,g))}var Fp=d.havingBaseStyle(Style$1.TEXT),n0=buildCommon.makeVList({positionType:"bottom",positionData:mu,children:rp},Fp);return styleWrap(buildCommon.makeSpan(["delimsizing","mult"],[n0],Fp),Style$1.TEXT,d,b)},vbPad=80,emPad=.08,sqrtSvg=function e(o,a,c,d,g){var b=sqrtPath(o,d,c),_=new PathNode(o,b),$=new SvgNode([_],{width:"400em",height:makeEm(a),viewBox:"0 0 400000 "+c,preserveAspectRatio:"xMinYMin slice"});return buildCommon.makeSvgSpan(["hide-tail"],[$],g)},makeSqrtImage=function e(o,a){var c=a.havingBaseSizing(),d=traverseSequence("\\surd",o*c.sizeMultiplier,stackLargeDelimiterSequence,c),g=c.sizeMultiplier,b=Math.max(0,a.minRuleThickness-a.fontMetrics().sqrtRuleThickness),_,$=0,j=0,rt=0,nt;return d.type==="small"?(rt=1e3+1e3*b+vbPad,o<1?g=1:o<1.4&&(g=.7),$=(1+b+emPad)/g,j=(1+b)/g,_=sqrtSvg("sqrtMain",$,rt,b,a),_.style.minWidth="0.853em",nt=.833/g):d.type==="large"?(rt=(1e3+vbPad)*sizeToMaxHeight[d.size],j=(sizeToMaxHeight[d.size]+b)/g,$=(sizeToMaxHeight[d.size]+b+emPad)/g,_=sqrtSvg("sqrtSize"+d.size,$,rt,b,a),_.style.minWidth="1.02em",nt=1/g):($=o+b+emPad,j=o+b,rt=Math.floor(1e3*o+b)+vbPad,_=sqrtSvg("sqrtTall",$,rt,b,a),_.style.minWidth="0.742em",nt=1.056),_.height=j,_.style.height=makeEm($),{span:_,advanceWidth:nt,ruleWidth:(a.fontMetrics().sqrtRuleThickness+b)*g}},stackLargeDelimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],stackAlwaysDelimiters=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],stackNeverDelimiters=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sizeToMaxHeight=[0,1.2,1.8,2.4,3],makeSizedDelim=function e(o,a,c,d,g){if(o==="<"||o==="\\lt"||o===""?o="\\langle":(o===">"||o==="\\gt"||o==="")&&(o="\\rangle"),utils.contains(stackLargeDelimiters,o)||utils.contains(stackNeverDelimiters,o))return makeLargeDelim(o,a,!1,c,d,g);if(utils.contains(stackAlwaysDelimiters,o))return makeStackedDelim(o,sizeToMaxHeight[a],!1,c,d,g);throw new ParseError("Illegal delimiter: '"+o+"'")},stackNeverDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],stackAlwaysDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"stack"}],stackLargeDelimiterSequence=[{type:"small",style:Style$1.SCRIPTSCRIPT},{type:"small",style:Style$1.SCRIPT},{type:"small",style:Style$1.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],delimTypeToFont=function e(o){if(o.type==="small")return"Main-Regular";if(o.type==="large")return"Size"+o.size+"-Regular";if(o.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+o.type+"' here.")},traverseSequence=function e(o,a,c,d){for(var g=Math.min(2,3-d.style.size),b=g;b<c.length&&c[b].type!=="stack";b++){var _=getMetrics(o,delimTypeToFont(c[b]),"math"),$=_.height+_.depth;if(c[b].type==="small"){var j=d.havingBaseStyle(c[b].style);$*=j.sizeMultiplier}if($>a)return c[b]}return c[c.length-1]},makeCustomSizedDelim=function e(o,a,c,d,g,b){o==="<"||o==="\\lt"||o===""?o="\\langle":(o===">"||o==="\\gt"||o==="")&&(o="\\rangle");var _;utils.contains(stackNeverDelimiters,o)?_=stackNeverDelimiterSequence:utils.contains(stackLargeDelimiters,o)?_=stackLargeDelimiterSequence:_=stackAlwaysDelimiterSequence;var $=traverseSequence(o,a,_,d);return $.type==="small"?makeSmallDelim(o,$.style,c,d,g,b):$.type==="large"?makeLargeDelim(o,$.size,c,d,g,b):makeStackedDelim(o,a,c,d,g,b)},makeLeftRightDelim=function e(o,a,c,d,g,b){var _=d.fontMetrics().axisHeight*d.sizeMultiplier,$=901,j=5/d.fontMetrics().ptPerEm,rt=Math.max(a-_,c+_),nt=Math.max(rt/500*$,2*rt-j);return makeCustomSizedDelim(o,nt,!0,d,g,b)},delimiter={sqrtImage:makeSqrtImage,sizedDelim:makeSizedDelim,sizeToMaxHeight,customSizedDelim:makeCustomSizedDelim,leftRightDelim:makeLeftRightDelim},delimiterSizes={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},delimiters=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function checkDelimiter(e,o){var a=checkSymbolNodeType(e);if(a&&utils.contains(delimiters,a.text))return a;throw a?new ParseError("Invalid delimiter '"+a.text+"' after '"+o.funcName+"'",e):new ParseError("Invalid delimiter type '"+e.type+"'",e)}defineFunction({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,o)=>{var a=checkDelimiter(o[0],e);return{type:"delimsizing",mode:e.parser.mode,size:delimiterSizes[e.funcName].size,mclass:delimiterSizes[e.funcName].mclass,delim:a.text}},htmlBuilder:(e,o)=>e.delim==="."?buildCommon.makeSpan([e.mclass]):delimiter.sizedDelim(e.delim,e.size,o,e.mode,[e.mclass]),mathmlBuilder:e=>{var o=[];e.delim!=="."&&o.push(makeText(e.delim,e.mode));var a=new mathMLTree.MathNode("mo",o);e.mclass==="mopen"||e.mclass==="mclose"?a.setAttribute("fence","true"):a.setAttribute("fence","false"),a.setAttribute("stretchy","true");var c=makeEm(delimiter.sizeToMaxHeight[e.size]);return a.setAttribute("minsize",c),a.setAttribute("maxsize",c),a}});function assertParsed(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}defineFunction({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,o)=>{var a=e.parser.gullet.macros.get("\\current@color");if(a&&typeof a!="string")throw new ParseError("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:checkDelimiter(o[0],e).text,color:a}}});defineFunction({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,o)=>{var a=checkDelimiter(o[0],e),c=e.parser;++c.leftrightDepth;var d=c.parseExpression(!1);--c.leftrightDepth,c.expect("\\right",!1);var g=assertNodeType(c.parseFunction(),"leftright-right");return{type:"leftright",mode:c.mode,body:d,left:a.text,right:g.delim,rightColor:g.color}},htmlBuilder:(e,o)=>{assertParsed(e);for(var a=buildExpression$1(e.body,o,!0,["mopen","mclose"]),c=0,d=0,g=!1,b=0;b<a.length;b++)a[b].isMiddle?g=!0:(c=Math.max(a[b].height,c),d=Math.max(a[b].depth,d));c*=o.sizeMultiplier,d*=o.sizeMultiplier;var _;if(e.left==="."?_=makeNullDelimiter(o,["mopen"]):_=delimiter.leftRightDelim(e.left,c,d,o,e.mode,["mopen"]),a.unshift(_),g)for(var $=1;$<a.length;$++){var j=a[$],rt=j.isMiddle;rt&&(a[$]=delimiter.leftRightDelim(rt.delim,c,d,rt.options,e.mode,[]))}var nt;if(e.right===".")nt=makeNullDelimiter(o,["mclose"]);else{var st=e.rightColor?o.withColor(e.rightColor):o;nt=delimiter.leftRightDelim(e.right,c,d,st,e.mode,["mclose"])}return a.push(nt),buildCommon.makeSpan(["minner"],a,o)},mathmlBuilder:(e,o)=>{assertParsed(e);var a=buildExpression(e.body,o);if(e.left!=="."){var c=new mathMLTree.MathNode("mo",[makeText(e.left,e.mode)]);c.setAttribute("fence","true"),a.unshift(c)}if(e.right!=="."){var d=new mathMLTree.MathNode("mo",[makeText(e.right,e.mode)]);d.setAttribute("fence","true"),e.rightColor&&d.setAttribute("mathcolor",e.rightColor),a.push(d)}return makeRow(a)}});defineFunction({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,o)=>{var a=checkDelimiter(o[0],e);if(!e.parser.leftrightDepth)throw new ParseError("\\middle without preceding \\left",a);return{type:"middle",mode:e.parser.mode,delim:a.text}},htmlBuilder:(e,o)=>{var a;if(e.delim===".")a=makeNullDelimiter(o,[]);else{a=delimiter.sizedDelim(e.delim,1,o,e.mode,[]);var c={delim:e.delim,options:o};a.isMiddle=c}return a},mathmlBuilder:(e,o)=>{var a=e.delim==="\\vert"||e.delim==="|"?makeText("|","text"):makeText(e.delim,e.mode),c=new mathMLTree.MathNode("mo",[a]);return c.setAttribute("fence","true"),c.setAttribute("lspace","0.05em"),c.setAttribute("rspace","0.05em"),c}});var htmlBuilder$7=(e,o)=>{var a=buildCommon.wrapFragment(buildGroup$1(e.body,o),o),c=e.label.slice(1),d=o.sizeMultiplier,g,b=0,_=utils.isCharacterBox(e.body);if(c==="sout")g=buildCommon.makeSpan(["stretchy","sout"]),g.height=o.fontMetrics().defaultRuleThickness/d,b=-.5*o.fontMetrics().xHeight;else if(c==="phase"){var $=calculateSize({number:.6,unit:"pt"},o),j=calculateSize({number:.35,unit:"ex"},o),rt=o.havingBaseSizing();d=d/rt.sizeMultiplier;var nt=a.height+a.depth+$+j;a.style.paddingLeft=makeEm(nt/2+$);var st=Math.floor(1e3*nt*d),jt=phasePath(st),wl=new SvgNode([new PathNode("phase",jt)],{width:"400em",height:makeEm(st/1e3),viewBox:"0 0 400000 "+st,preserveAspectRatio:"xMinYMin slice"});g=buildCommon.makeSvgSpan(["hide-tail"],[wl],o),g.style.height=makeEm(nt),b=a.depth+$+j}else{/cancel/.test(c)?_||a.classes.push("cancel-pad"):c==="angl"?a.classes.push("anglpad"):a.classes.push("boxpad");var Ft=0,it=0,ot=0;/box/.test(c)?(ot=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness),Ft=o.fontMetrics().fboxsep+(c==="colorbox"?0:ot),it=Ft):c==="angl"?(ot=Math.max(o.fontMetrics().defaultRuleThickness,o.minRuleThickness),Ft=4*ot,it=Math.max(0,.25-a.depth)):(Ft=_?.2:0,it=Ft),g=stretchy.encloseSpan(a,c,Ft,it,o),/fbox|boxed|fcolorbox/.test(c)?(g.style.borderStyle="solid",g.style.borderWidth=makeEm(ot)):c==="angl"&&ot!==.049&&(g.style.borderTopWidth=makeEm(ot),g.style.borderRightWidth=makeEm(ot)),b=a.depth+it,e.backgroundColor&&(g.style.backgroundColor=e.backgroundColor,e.borderColor&&(g.style.borderColor=e.borderColor))}var Ln;if(e.backgroundColor)Ln=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:g,shift:b},{type:"elem",elem:a,shift:0}]},o);else{var Cl=/cancel|phase/.test(c)?["svg-align"]:[];Ln=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:0},{type:"elem",elem:g,shift:b,wrapperClasses:Cl}]},o)}return/cancel/.test(c)&&(Ln.height=a.height,Ln.depth=a.depth),/cancel/.test(c)&&!_?buildCommon.makeSpan(["mord","cancel-lap"],[Ln],o):buildCommon.makeSpan(["mord"],[Ln],o)},mathmlBuilder$6=(e,o)=>{var a=0,c=new mathMLTree.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[buildGroup(e.body,o)]);switch(e.label){case"\\cancel":c.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":c.setAttribute("notation","downdiagonalstrike");break;case"\\phase":c.setAttribute("notation","phasorangle");break;case"\\sout":c.setAttribute("notation","horizontalstrike");break;case"\\fbox":c.setAttribute("notation","box");break;case"\\angl":c.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(a=o.fontMetrics().fboxsep*o.fontMetrics().ptPerEm,c.setAttribute("width","+"+2*a+"pt"),c.setAttribute("height","+"+2*a+"pt"),c.setAttribute("lspace",a+"pt"),c.setAttribute("voffset",a+"pt"),e.label==="\\fcolorbox"){var d=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness);c.setAttribute("style","border: "+d+"em solid "+String(e.borderColor))}break;case"\\xcancel":c.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&c.setAttribute("mathbackground",e.backgroundColor),c};defineFunction({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,o,a){var{parser:c,funcName:d}=e,g=assertNodeType(o[0],"color-token").color,b=o[1];return{type:"enclose",mode:c.mode,label:d,backgroundColor:g,body:b}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,o,a){var{parser:c,funcName:d}=e,g=assertNodeType(o[0],"color-token").color,b=assertNodeType(o[1],"color-token").color,_=o[2];return{type:"enclose",mode:c.mode,label:d,backgroundColor:b,borderColor:g,body:_}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,o){var{parser:a}=e;return{type:"enclose",mode:a.mode,label:"\\fbox",body:o[0]}}});defineFunction({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,o){var{parser:a,funcName:c}=e,d=o[0];return{type:"enclose",mode:a.mode,label:c,body:d}},htmlBuilder:htmlBuilder$7,mathmlBuilder:mathmlBuilder$6});defineFunction({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,o){var{parser:a}=e;return{type:"enclose",mode:a.mode,label:"\\angl",body:o[0]}}});var _environments={};function defineEnvironment(e){for(var{type:o,names:a,props:c,handler:d,htmlBuilder:g,mathmlBuilder:b}=e,_={type:o,numArgs:c.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:d},$=0;$<a.length;++$)_environments[a[$]]=_;g&&(_htmlGroupBuilders[o]=g),b&&(_mathmlGroupBuilders[o]=b)}var _macros={};function defineMacro(e,o){_macros[e]=o}function getHLines(e){var o=[];e.consumeSpaces();var a=e.fetch().text;for(a==="\\relax"&&(e.consume(),e.consumeSpaces(),a=e.fetch().text);a==="\\hline"||a==="\\hdashline";)e.consume(),o.push(a==="\\hdashline"),e.consumeSpaces(),a=e.fetch().text;return o}var validateAmsEnvironmentContext=e=>{var o=e.parser.settings;if(!o.displayMode)throw new ParseError("{"+e.envName+"} can be used only in display mode.")};function getAutoTag(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function parseArray(e,o,a){var{hskipBeforeAndAfter:c,addJot:d,cols:g,arraystretch:b,colSeparationType:_,autoTag:$,singleRow:j,emptySingleRow:rt,maxNumCols:nt,leqno:st}=o;if(e.gullet.beginGroup(),j||e.gullet.macros.set("\\cr","\\\\\\relax"),!b){var jt=e.gullet.expandMacroAsText("\\arraystretch");if(jt==null)b=1;else if(b=parseFloat(jt),!b||b<0)throw new ParseError("Invalid \\arraystretch: "+jt)}e.gullet.beginGroup();var wl=[],Ft=[wl],it=[],ot=[],Ln=$!=null?[]:void 0;function Cl(){$&&e.gullet.macros.set("\\@eqnsw","1",!0)}function Tl(){Ln&&(e.gullet.macros.get("\\df@tag")?(Ln.push(e.subparse([new Token("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):Ln.push(!!$&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(Cl(),ot.push(getHLines(e));;){var zl=e.parseExpression(!1,j?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),zl={type:"ordgroup",mode:e.mode,body:zl},a&&(zl={type:"styling",mode:e.mode,style:a,body:[zl]}),wl.push(zl);var In=e.fetch().text;if(In==="&"){if(nt&&wl.length===nt){if(j||_)throw new ParseError("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(In==="\\end"){Tl(),wl.length===1&&zl.type==="styling"&&zl.body[0].body.length===0&&(Ft.length>1||!rt)&&Ft.pop(),ot.length<Ft.length+1&&ot.push([]);break}else if(In==="\\\\"){e.consume();var Ml=void 0;e.gullet.future().text!==" "&&(Ml=e.parseSizeGroup(!0)),it.push(Ml?Ml.value:null),Tl(),ot.push(getHLines(e)),wl=[],Ft.push(wl),Cl()}else throw new ParseError("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:d,arraystretch:b,body:Ft,cols:g,rowGaps:it,hskipBeforeAndAfter:c,hLinesBeforeRow:ot,colSeparationType:_,tags:Ln,leqno:st}}function dCellStyle(e){return e.slice(0,1)==="d"?"display":"text"}var htmlBuilder$6=function e(o,a){var c,d,g=o.body.length,b=o.hLinesBeforeRow,_=0,$=new Array(g),j=[],rt=Math.max(a.fontMetrics().arrayRuleWidth,a.minRuleThickness),nt=1/a.fontMetrics().ptPerEm,st=5*nt;if(o.colSeparationType&&o.colSeparationType==="small"){var jt=a.havingStyle(Style$1.SCRIPT).sizeMultiplier;st=.2778*(jt/a.sizeMultiplier)}var wl=o.colSeparationType==="CD"?calculateSize({number:3,unit:"ex"},a):12*nt,Ft=3*nt,it=o.arraystretch*wl,ot=.7*it,Ln=.3*it,Cl=0;function Tl(Um){for(var Hm=0;Hm<Um.length;++Hm)Hm>0&&(Cl+=.25),j.push({pos:Cl,isDashed:Um[Hm]})}for(Tl(b[0]),c=0;c<o.body.length;++c){var zl=o.body[c],In=ot,Ml=Ln;_<zl.length&&(_=zl.length);var Dl=new Array(zl.length);for(d=0;d<zl.length;++d){var Ul=buildGroup$1(zl[d],a);Ml<Ul.depth&&(Ml=Ul.depth),In<Ul.height&&(In=Ul.height),Dl[d]=Ul}var Vl=o.rowGaps[c],mu=0;Vl&&(mu=calculateSize(Vl,a),mu>0&&(mu+=Ln,Ml<mu&&(Ml=mu),mu=0)),o.addJot&&(Ml+=Ft),Dl.height=In,Dl.depth=Ml,Cl+=In,Dl.pos=Cl,Cl+=Ml+mu,$[c]=Dl,Tl(b[c+1])}var rp=Cl/2+a.fontMetrics().axisHeight,Ju=o.cols||[],cp=[],hp,yp,xp=[];if(o.tags&&o.tags.some(Um=>Um))for(c=0;c<g;++c){var fp=$[c],_p=fp.pos-rp,ip=o.tags[c],gp=void 0;ip===!0?gp=buildCommon.makeSpan(["eqn-num"],[],a):ip===!1?gp=buildCommon.makeSpan([],[],a):gp=buildCommon.makeSpan([],buildExpression$1(ip,a,!0),a),gp.depth=fp.depth,gp.height=fp.height,xp.push({type:"elem",elem:gp,shift:_p})}for(d=0,yp=0;d<_||yp<Ju.length;++d,++yp){for(var Dp=Ju[yp]||{},Fp=!0;Dp.type==="separator";){if(Fp||(hp=buildCommon.makeSpan(["arraycolsep"],[]),hp.style.width=makeEm(a.fontMetrics().doubleRuleSep),cp.push(hp)),Dp.separator==="|"||Dp.separator===":"){var n0=Dp.separator==="|"?"solid":"dashed",S0=buildCommon.makeSpan(["vertical-separator"],[],a);S0.style.height=makeEm(Cl),S0.style.borderRightWidth=makeEm(rt),S0.style.borderRightStyle=n0,S0.style.margin="0 "+makeEm(-rt/2);var C0=Cl-rp;C0&&(S0.style.verticalAlign=makeEm(-C0)),cp.push(S0)}else throw new ParseError("Invalid separator type: "+Dp.separator);yp++,Dp=Ju[yp]||{},Fp=!1}if(!(d>=_)){var P0=void 0;(d>0||o.hskipBeforeAndAfter)&&(P0=utils.deflt(Dp.pregap,st),P0!==0&&(hp=buildCommon.makeSpan(["arraycolsep"],[]),hp.style.width=makeEm(P0),cp.push(hp)));var k0=[];for(c=0;c<g;++c){var T0=$[c],im=T0[d];if(im){var am=T0.pos-rp;im.depth=T0.depth,im.height=T0.height,k0.push({type:"elem",elem:im,shift:am})}}k0=buildCommon.makeVList({positionType:"individualShift",children:k0},a),k0=buildCommon.makeSpan(["col-align-"+(Dp.align||"c")],[k0]),cp.push(k0),(d<_-1||o.hskipBeforeAndAfter)&&(P0=utils.deflt(Dp.postgap,st),P0!==0&&(hp=buildCommon.makeSpan(["arraycolsep"],[]),hp.style.width=makeEm(P0),cp.push(hp)))}}if($=buildCommon.makeSpan(["mtable"],cp),j.length>0){for(var bm=buildCommon.makeLineSpan("hline",a,rt),_g=buildCommon.makeLineSpan("hdashline",a,rt),b0=[{type:"elem",elem:$,shift:0}];j.length>0;){var U0=j.pop(),mm=U0.pos-rp;U0.isDashed?b0.push({type:"elem",elem:_g,shift:mm}):b0.push({type:"elem",elem:bm,shift:mm})}$=buildCommon.makeVList({positionType:"individualShift",children:b0},a)}if(xp.length===0)return buildCommon.makeSpan(["mord"],[$],a);var Lm=buildCommon.makeVList({positionType:"individualShift",children:xp},a);return Lm=buildCommon.makeSpan(["tag"],[Lm],a),buildCommon.makeFragment([$,Lm])},alignMap={c:"center ",l:"left ",r:"right "},mathmlBuilder$5=function e(o,a){for(var c=[],d=new mathMLTree.MathNode("mtd",[],["mtr-glue"]),g=new mathMLTree.MathNode("mtd",[],["mml-eqn-num"]),b=0;b<o.body.length;b++){for(var _=o.body[b],$=[],j=0;j<_.length;j++)$.push(new mathMLTree.MathNode("mtd",[buildGroup(_[j],a)]));o.tags&&o.tags[b]&&($.unshift(d),$.push(d),o.leqno?$.unshift(g):$.push(g)),c.push(new mathMLTree.MathNode("mtr",$))}var rt=new mathMLTree.MathNode("mtable",c),nt=o.arraystretch===.5?.1:.16+o.arraystretch-1+(o.addJot?.09:0);rt.setAttribute("rowspacing",makeEm(nt));var st="",jt="";if(o.cols&&o.cols.length>0){var wl=o.cols,Ft="",it=!1,ot=0,Ln=wl.length;wl[0].type==="separator"&&(st+="top ",ot=1),wl[wl.length-1].type==="separator"&&(st+="bottom ",Ln-=1);for(var Cl=ot;Cl<Ln;Cl++)wl[Cl].type==="align"?(jt+=alignMap[wl[Cl].align],it&&(Ft+="none "),it=!0):wl[Cl].type==="separator"&&it&&(Ft+=wl[Cl].separator==="|"?"solid ":"dashed ",it=!1);rt.setAttribute("columnalign",jt.trim()),/[sd]/.test(Ft)&&rt.setAttribute("columnlines",Ft.trim())}if(o.colSeparationType==="align"){for(var Tl=o.cols||[],zl="",In=1;In<Tl.length;In++)zl+=In%2?"0em ":"1em ";rt.setAttribute("columnspacing",zl.trim())}else o.colSeparationType==="alignat"||o.colSeparationType==="gather"?rt.setAttribute("columnspacing","0em"):o.colSeparationType==="small"?rt.setAttribute("columnspacing","0.2778em"):o.colSeparationType==="CD"?rt.setAttribute("columnspacing","0.5em"):rt.setAttribute("columnspacing","1em");var Ml="",Dl=o.hLinesBeforeRow;st+=Dl[0].length>0?"left ":"",st+=Dl[Dl.length-1].length>0?"right ":"";for(var Ul=1;Ul<Dl.length-1;Ul++)Ml+=Dl[Ul].length===0?"none ":Dl[Ul][0]?"dashed ":"solid ";return/[sd]/.test(Ml)&&rt.setAttribute("rowlines",Ml.trim()),st!==""&&(rt=new mathMLTree.MathNode("menclose",[rt]),rt.setAttribute("notation",st.trim())),o.arraystretch&&o.arraystretch<1&&(rt=new mathMLTree.MathNode("mstyle",[rt]),rt.setAttribute("scriptlevel","1")),rt},alignedHandler=function e(o,a){o.envName.indexOf("ed")===-1&&validateAmsEnvironmentContext(o);var c=[],d=o.envName.indexOf("at")>-1?"alignat":"align",g=o.envName==="split",b=parseArray(o.parser,{cols:c,addJot:!0,autoTag:g?void 0:getAutoTag(o.envName),emptySingleRow:!0,colSeparationType:d,maxNumCols:g?2:void 0,leqno:o.parser.settings.leqno},"display"),_,$=0,j={type:"ordgroup",mode:o.mode,body:[]};if(a[0]&&a[0].type==="ordgroup"){for(var rt="",nt=0;nt<a[0].body.length;nt++){var st=assertNodeType(a[0].body[nt],"textord");rt+=st.text}_=Number(rt),$=_*2}var jt=!$;b.body.forEach(function(ot){for(var Ln=1;Ln<ot.length;Ln+=2){var Cl=assertNodeType(ot[Ln],"styling"),Tl=assertNodeType(Cl.body[0],"ordgroup");Tl.body.unshift(j)}if(jt)$<ot.length&&($=ot.length);else{var zl=ot.length/2;if(_<zl)throw new ParseError("Too many math in a row: "+("expected "+_+", but got "+zl),ot[0])}});for(var wl=0;wl<$;++wl){var Ft="r",it=0;wl%2===1?Ft="l":wl>0&&jt&&(it=1),c[wl]={type:"align",align:Ft,pregap:it,postgap:0}}return b.colSeparationType=jt?"align":"alignat",b};defineEnvironment({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,o){var a=checkSymbolNodeType(o[0]),c=a?[o[0]]:assertNodeType(o[0],"ordgroup").body,d=c.map(function(b){var _=assertSymbolNodeType(b),$=_.text;if("lcr".indexOf($)!==-1)return{type:"align",align:$};if($==="|")return{type:"separator",separator:"|"};if($===":")return{type:"separator",separator:":"};throw new ParseError("Unknown column alignment: "+$,b)}),g={cols:d,hskipBeforeAndAfter:!0,maxNumCols:d.length};return parseArray(e.parser,g,dCellStyle(e.envName))},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var o={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],a="c",c={hskipBeforeAndAfter:!1,cols:[{type:"align",align:a}]};if(e.envName.charAt(e.envName.length-1)==="*"){var d=e.parser;if(d.consumeSpaces(),d.fetch().text==="["){if(d.consume(),d.consumeSpaces(),a=d.fetch().text,"lcr".indexOf(a)===-1)throw new ParseError("Expected l or c or r",d.nextToken);d.consume(),d.consumeSpaces(),d.expect("]"),d.consume(),c.cols=[{type:"align",align:a}]}}var g=parseArray(e.parser,c,dCellStyle(e.envName)),b=Math.max(0,...g.body.map(_=>_.length));return g.cols=new Array(b).fill({type:"align",align:a}),o?{type:"leftright",mode:e.mode,body:[g],left:o[0],right:o[1],rightColor:void 0}:g},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var o={arraystretch:.5},a=parseArray(e.parser,o,"script");return a.colSeparationType="small",a},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["subarray"],props:{numArgs:1},handler(e,o){var a=checkSymbolNodeType(o[0]),c=a?[o[0]]:assertNodeType(o[0],"ordgroup").body,d=c.map(function(b){var _=assertSymbolNodeType(b),$=_.text;if("lc".indexOf($)!==-1)return{type:"align",align:$};throw new ParseError("Unknown column alignment: "+$,b)});if(d.length>1)throw new ParseError("{subarray} can contain only one column");var g={cols:d,hskipBeforeAndAfter:!1,arraystretch:.5};if(g=parseArray(e.parser,g,"script"),g.body.length>0&&g.body[0].length>1)throw new ParseError("{subarray} can contain only one column");return g},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var o={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},a=parseArray(e.parser,o,dCellStyle(e.envName));return{type:"leftright",mode:e.mode,body:[a],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){utils.contains(["gather","gather*"],e.envName)&&validateAmsEnvironmentContext(e);var o={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:getAutoTag(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return parseArray(e.parser,o,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:alignedHandler,htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){validateAmsEnvironmentContext(e);var o={autoTag:getAutoTag(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return parseArray(e.parser,o,"display")},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineEnvironment({type:"array",names:["CD"],props:{numArgs:0},handler(e){return validateAmsEnvironmentContext(e),parseCD(e.parser)},htmlBuilder:htmlBuilder$6,mathmlBuilder:mathmlBuilder$5});defineMacro("\\nonumber","\\gdef\\@eqnsw{0}");defineMacro("\\notag","\\nonumber");defineFunction({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,o){throw new ParseError(e.funcName+" valid only within array environment")}});var environments=_environments;defineFunction({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,o){var{parser:a,funcName:c}=e,d=o[0];if(d.type!=="ordgroup")throw new ParseError("Invalid environment name",d);for(var g="",b=0;b<d.body.length;++b)g+=assertNodeType(d.body[b],"textord").text;if(c==="\\begin"){if(!environments.hasOwnProperty(g))throw new ParseError("No such environment: "+g,d);var _=environments[g],{args:$,optArgs:j}=a.parseArguments("\\begin{"+g+"}",_),rt={mode:a.mode,envName:g,parser:a},nt=_.handler(rt,$,j);a.expect("\\end",!1);var st=a.nextToken,jt=assertNodeType(a.parseFunction(),"environment");if(jt.name!==g)throw new ParseError("Mismatch: \\begin{"+g+"} matched by \\end{"+jt.name+"}",st);return nt}return{type:"environment",mode:a.mode,name:g,nameGroup:d}}});var htmlBuilder$5=(e,o)=>{var a=e.font,c=o.withFont(a);return buildGroup$1(e.body,c)},mathmlBuilder$4=(e,o)=>{var a=e.font,c=o.withFont(a);return buildGroup(e.body,c)},fontAliases={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};defineFunction({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=normalizeArgument(o[0]),g=c;return g in fontAliases&&(g=fontAliases[g]),{type:"font",mode:a.mode,font:g.slice(1),body:d}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});defineFunction({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,o)=>{var{parser:a}=e,c=o[0],d=utils.isCharacterBox(c);return{type:"mclass",mode:a.mode,mclass:binrelClass(c),body:[{type:"font",mode:a.mode,font:"boldsymbol",body:c}],isCharacterBox:d}}});defineFunction({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,o)=>{var{parser:a,funcName:c,breakOnTokenText:d}=e,{mode:g}=a,b=a.parseExpression(!0,d),_="math"+c.slice(1);return{type:"font",mode:g,font:_,body:{type:"ordgroup",mode:a.mode,body:b}}},htmlBuilder:htmlBuilder$5,mathmlBuilder:mathmlBuilder$4});var adjustStyle=(e,o)=>{var a=o;return e==="display"?a=a.id>=Style$1.SCRIPT.id?a.text():Style$1.DISPLAY:e==="text"&&a.size===Style$1.DISPLAY.size?a=Style$1.TEXT:e==="script"?a=Style$1.SCRIPT:e==="scriptscript"&&(a=Style$1.SCRIPTSCRIPT),a},htmlBuilder$4=(e,o)=>{var a=adjustStyle(e.size,o.style),c=a.fracNum(),d=a.fracDen(),g;g=o.havingStyle(c);var b=buildGroup$1(e.numer,g,o);if(e.continued){var _=8.5/o.fontMetrics().ptPerEm,$=3.5/o.fontMetrics().ptPerEm;b.height=b.height<_?_:b.height,b.depth=b.depth<$?$:b.depth}g=o.havingStyle(d);var j=buildGroup$1(e.denom,g,o),rt,nt,st;e.hasBarLine?(e.barSize?(nt=calculateSize(e.barSize,o),rt=buildCommon.makeLineSpan("frac-line",o,nt)):rt=buildCommon.makeLineSpan("frac-line",o),nt=rt.height,st=rt.height):(rt=null,nt=0,st=o.fontMetrics().defaultRuleThickness);var jt,wl,Ft;a.size===Style$1.DISPLAY.size||e.size==="display"?(jt=o.fontMetrics().num1,nt>0?wl=3*st:wl=7*st,Ft=o.fontMetrics().denom1):(nt>0?(jt=o.fontMetrics().num2,wl=st):(jt=o.fontMetrics().num3,wl=3*st),Ft=o.fontMetrics().denom2);var it;if(rt){var Ln=o.fontMetrics().axisHeight;jt-b.depth-(Ln+.5*nt)<wl&&(jt+=wl-(jt-b.depth-(Ln+.5*nt))),Ln-.5*nt-(j.height-Ft)<wl&&(Ft+=wl-(Ln-.5*nt-(j.height-Ft)));var Cl=-(Ln-.5*nt);it=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:Ft},{type:"elem",elem:rt,shift:Cl},{type:"elem",elem:b,shift:-jt}]},o)}else{var ot=jt-b.depth-(j.height-Ft);ot<wl&&(jt+=.5*(wl-ot),Ft+=.5*(wl-ot)),it=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:j,shift:Ft},{type:"elem",elem:b,shift:-jt}]},o)}g=o.havingStyle(a),it.height*=g.sizeMultiplier/o.sizeMultiplier,it.depth*=g.sizeMultiplier/o.sizeMultiplier;var Tl;a.size===Style$1.DISPLAY.size?Tl=o.fontMetrics().delim1:a.size===Style$1.SCRIPTSCRIPT.size?Tl=o.havingStyle(Style$1.SCRIPT).fontMetrics().delim2:Tl=o.fontMetrics().delim2;var zl,In;return e.leftDelim==null?zl=makeNullDelimiter(o,["mopen"]):zl=delimiter.customSizedDelim(e.leftDelim,Tl,!0,o.havingStyle(a),e.mode,["mopen"]),e.continued?In=buildCommon.makeSpan([]):e.rightDelim==null?In=makeNullDelimiter(o,["mclose"]):In=delimiter.customSizedDelim(e.rightDelim,Tl,!0,o.havingStyle(a),e.mode,["mclose"]),buildCommon.makeSpan(["mord"].concat(g.sizingClasses(o)),[zl,buildCommon.makeSpan(["mfrac"],[it]),In],o)},mathmlBuilder$3=(e,o)=>{var a=new mathMLTree.MathNode("mfrac",[buildGroup(e.numer,o),buildGroup(e.denom,o)]);if(!e.hasBarLine)a.setAttribute("linethickness","0px");else if(e.barSize){var c=calculateSize(e.barSize,o);a.setAttribute("linethickness",makeEm(c))}var d=adjustStyle(e.size,o.style);if(d.size!==o.style.size){a=new mathMLTree.MathNode("mstyle",[a]);var g=d.size===Style$1.DISPLAY.size?"true":"false";a.setAttribute("displaystyle",g),a.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var b=[];if(e.leftDelim!=null){var _=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.leftDelim.replace("\\",""))]);_.setAttribute("fence","true"),b.push(_)}if(b.push(a),e.rightDelim!=null){var $=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode(e.rightDelim.replace("\\",""))]);$.setAttribute("fence","true"),b.push($)}return makeRow(b)}return a};defineFunction({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0],g=o[1],b,_=null,$=null,j="auto";switch(c){case"\\dfrac":case"\\frac":case"\\tfrac":b=!0;break;case"\\\\atopfrac":b=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":b=!1,_="(",$=")";break;case"\\\\bracefrac":b=!1,_="\\{",$="\\}";break;case"\\\\brackfrac":b=!1,_="[",$="]";break;default:throw new Error("Unrecognized genfrac command")}switch(c){case"\\dfrac":case"\\dbinom":j="display";break;case"\\tfrac":case"\\tbinom":j="text";break}return{type:"genfrac",mode:a.mode,continued:!1,numer:d,denom:g,hasBarLine:b,leftDelim:_,rightDelim:$,size:j,barSize:null}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0],g=o[1];return{type:"genfrac",mode:a.mode,continued:!0,numer:d,denom:g,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});defineFunction({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:o,funcName:a,token:c}=e,d;switch(a){case"\\over":d="\\frac";break;case"\\choose":d="\\binom";break;case"\\atop":d="\\\\atopfrac";break;case"\\brace":d="\\\\bracefrac";break;case"\\brack":d="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:o.mode,replaceWith:d,token:c}}});var stylArray=["display","text","script","scriptscript"],delimFromValue=function e(o){var a=null;return o.length>0&&(a=o,a=a==="."?null:a),a};defineFunction({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,o){var{parser:a}=e,c=o[4],d=o[5],g=normalizeArgument(o[0]),b=g.type==="atom"&&g.family==="open"?delimFromValue(g.text):null,_=normalizeArgument(o[1]),$=_.type==="atom"&&_.family==="close"?delimFromValue(_.text):null,j=assertNodeType(o[2],"size"),rt,nt=null;j.isBlank?rt=!0:(nt=j.value,rt=nt.number>0);var st="auto",jt=o[3];if(jt.type==="ordgroup"){if(jt.body.length>0){var wl=assertNodeType(jt.body[0],"textord");st=stylArray[Number(wl.text)]}}else jt=assertNodeType(jt,"textord"),st=stylArray[Number(jt.text)];return{type:"genfrac",mode:a.mode,numer:c,denom:d,continued:!1,hasBarLine:rt,barSize:nt,leftDelim:b,rightDelim:$,size:st}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});defineFunction({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,o){var{parser:a,funcName:c,token:d}=e;return{type:"infix",mode:a.mode,replaceWith:"\\\\abovefrac",size:assertNodeType(o[0],"size").value,token:d}}});defineFunction({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0],g=assert(assertNodeType(o[1],"infix").size),b=o[2],_=g.number>0;return{type:"genfrac",mode:a.mode,numer:d,denom:b,continued:!1,hasBarLine:_,barSize:g,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:htmlBuilder$4,mathmlBuilder:mathmlBuilder$3});var htmlBuilder$3=(e,o)=>{var a=o.style,c,d;e.type==="supsub"?(c=e.sup?buildGroup$1(e.sup,o.havingStyle(a.sup()),o):buildGroup$1(e.sub,o.havingStyle(a.sub()),o),d=assertNodeType(e.base,"horizBrace")):d=assertNodeType(e,"horizBrace");var g=buildGroup$1(d.base,o.havingBaseStyle(Style$1.DISPLAY)),b=stretchy.svgSpan(d,o),_;if(d.isOver?(_=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:g},{type:"kern",size:.1},{type:"elem",elem:b}]},o),_.children[0].children[0].children[1].classes.push("svg-align")):(_=buildCommon.makeVList({positionType:"bottom",positionData:g.depth+.1+b.height,children:[{type:"elem",elem:b},{type:"kern",size:.1},{type:"elem",elem:g}]},o),_.children[0].children[0].children[0].classes.push("svg-align")),c){var $=buildCommon.makeSpan(["mord",d.isOver?"mover":"munder"],[_],o);d.isOver?_=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:$},{type:"kern",size:.2},{type:"elem",elem:c}]},o):_=buildCommon.makeVList({positionType:"bottom",positionData:$.depth+.2+c.height+c.depth,children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:$}]},o)}return buildCommon.makeSpan(["mord",d.isOver?"mover":"munder"],[_],o)},mathmlBuilder$2=(e,o)=>{var a=stretchy.mathMLnode(e.label);return new mathMLTree.MathNode(e.isOver?"mover":"munder",[buildGroup(e.base,o),a])};defineFunction({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,o){var{parser:a,funcName:c}=e;return{type:"horizBrace",mode:a.mode,label:c,isOver:/^\\over/.test(c),base:o[0]}},htmlBuilder:htmlBuilder$3,mathmlBuilder:mathmlBuilder$2});defineFunction({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=o[1],d=assertNodeType(o[0],"url").url;return a.settings.isTrusted({command:"\\href",url:d})?{type:"href",mode:a.mode,href:d,body:ordargument(c)}:a.formatUnsupportedCmd("\\href")},htmlBuilder:(e,o)=>{var a=buildExpression$1(e.body,o,!1);return buildCommon.makeAnchor(e.href,[],a,o)},mathmlBuilder:(e,o)=>{var a=buildExpressionRow(e.body,o);return a instanceof MathNode||(a=new MathNode("mrow",[a])),a.setAttribute("href",e.href),a}});defineFunction({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=assertNodeType(o[0],"url").url;if(!a.settings.isTrusted({command:"\\url",url:c}))return a.formatUnsupportedCmd("\\url");for(var d=[],g=0;g<c.length;g++){var b=c[g];b==="~"&&(b="\\textasciitilde"),d.push({type:"textord",mode:"text",text:b})}var _={type:"text",mode:a.mode,font:"\\texttt",body:d};return{type:"href",mode:a.mode,href:c,body:ordargument(_)}}});defineFunction({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,o){var{parser:a}=e;return{type:"hbox",mode:a.mode,body:ordargument(o[0])}},htmlBuilder(e,o){var a=buildExpression$1(e.body,o,!1);return buildCommon.makeFragment(a)},mathmlBuilder(e,o){return new mathMLTree.MathNode("mrow",buildExpression(e.body,o))}});defineFunction({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,o)=>{var{parser:a,funcName:c,token:d}=e,g=assertNodeType(o[0],"raw").string,b=o[1];a.settings.strict&&a.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var _,$={};switch(c){case"\\htmlClass":$.class=g,_={command:"\\htmlClass",class:g};break;case"\\htmlId":$.id=g,_={command:"\\htmlId",id:g};break;case"\\htmlStyle":$.style=g,_={command:"\\htmlStyle",style:g};break;case"\\htmlData":{for(var j=g.split(","),rt=0;rt<j.length;rt++){var nt=j[rt].split("=");if(nt.length!==2)throw new ParseError("Error parsing key-value for \\htmlData");$["data-"+nt[0].trim()]=nt[1].trim()}_={command:"\\htmlData",attributes:$};break}default:throw new Error("Unrecognized html command")}return a.settings.isTrusted(_)?{type:"html",mode:a.mode,attributes:$,body:ordargument(b)}:a.formatUnsupportedCmd(c)},htmlBuilder:(e,o)=>{var a=buildExpression$1(e.body,o,!1),c=["enclosing"];e.attributes.class&&c.push(...e.attributes.class.trim().split(/\s+/));var d=buildCommon.makeSpan(c,a,o);for(var g in e.attributes)g!=="class"&&e.attributes.hasOwnProperty(g)&&d.setAttribute(g,e.attributes[g]);return d},mathmlBuilder:(e,o)=>buildExpressionRow(e.body,o)});defineFunction({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,o)=>{var{parser:a}=e;return{type:"htmlmathml",mode:a.mode,html:ordargument(o[0]),mathml:ordargument(o[1])}},htmlBuilder:(e,o)=>{var a=buildExpression$1(e.html,o,!1);return buildCommon.makeFragment(a)},mathmlBuilder:(e,o)=>buildExpressionRow(e.mathml,o)});var sizeData=function e(o){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(o))return{number:+o,unit:"bp"};var a=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(o);if(!a)throw new ParseError("Invalid size: '"+o+"' in \\includegraphics");var c={number:+(a[1]+a[2]),unit:a[3]};if(!validUnit(c))throw new ParseError("Invalid unit: '"+c.unit+"' in \\includegraphics.");return c};defineFunction({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,o,a)=>{var{parser:c}=e,d={number:0,unit:"em"},g={number:.9,unit:"em"},b={number:0,unit:"em"},_="";if(a[0])for(var $=assertNodeType(a[0],"raw").string,j=$.split(","),rt=0;rt<j.length;rt++){var nt=j[rt].split("=");if(nt.length===2){var st=nt[1].trim();switch(nt[0].trim()){case"alt":_=st;break;case"width":d=sizeData(st);break;case"height":g=sizeData(st);break;case"totalheight":b=sizeData(st);break;default:throw new ParseError("Invalid key: '"+nt[0]+"' in \\includegraphics.")}}}var jt=assertNodeType(o[0],"url").url;return _===""&&(_=jt,_=_.replace(/^.*[\\/]/,""),_=_.substring(0,_.lastIndexOf("."))),c.settings.isTrusted({command:"\\includegraphics",url:jt})?{type:"includegraphics",mode:c.mode,alt:_,width:d,height:g,totalheight:b,src:jt}:c.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,o)=>{var a=calculateSize(e.height,o),c=0;e.totalheight.number>0&&(c=calculateSize(e.totalheight,o)-a);var d=0;e.width.number>0&&(d=calculateSize(e.width,o));var g={height:makeEm(a+c)};d>0&&(g.width=makeEm(d)),c>0&&(g.verticalAlign=makeEm(-c));var b=new Img(e.src,e.alt,g);return b.height=a,b.depth=c,b},mathmlBuilder:(e,o)=>{var a=new mathMLTree.MathNode("mglyph",[]);a.setAttribute("alt",e.alt);var c=calculateSize(e.height,o),d=0;if(e.totalheight.number>0&&(d=calculateSize(e.totalheight,o)-c,a.setAttribute("valign",makeEm(-d))),a.setAttribute("height",makeEm(c+d)),e.width.number>0){var g=calculateSize(e.width,o);a.setAttribute("width",makeEm(g))}return a.setAttribute("src",e.src),a}});defineFunction({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,o){var{parser:a,funcName:c}=e,d=assertNodeType(o[0],"size");if(a.settings.strict){var g=c[1]==="m",b=d.value.unit==="mu";g?(b||a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" supports only mu units, "+("not "+d.value.unit+" units")),a.mode!=="math"&&a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" works only in math mode")):b&&a.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+c+" doesn't support mu units")}return{type:"kern",mode:a.mode,dimension:d.value}},htmlBuilder(e,o){return buildCommon.makeGlue(e.dimension,o)},mathmlBuilder(e,o){var a=calculateSize(e.dimension,o);return new mathMLTree.SpaceNode(a)}});defineFunction({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0];return{type:"lap",mode:a.mode,alignment:c.slice(5),body:d}},htmlBuilder:(e,o)=>{var a;e.alignment==="clap"?(a=buildCommon.makeSpan([],[buildGroup$1(e.body,o)]),a=buildCommon.makeSpan(["inner"],[a],o)):a=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,o)]);var c=buildCommon.makeSpan(["fix"],[]),d=buildCommon.makeSpan([e.alignment],[a,c],o),g=buildCommon.makeSpan(["strut"]);return g.style.height=makeEm(d.height+d.depth),d.depth&&(g.style.verticalAlign=makeEm(-d.depth)),d.children.unshift(g),d=buildCommon.makeSpan(["thinbox"],[d],o),buildCommon.makeSpan(["mord","vbox"],[d],o)},mathmlBuilder:(e,o)=>{var a=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,o)]);if(e.alignment!=="rlap"){var c=e.alignment==="llap"?"-1":"-0.5";a.setAttribute("lspace",c+"width")}return a.setAttribute("width","0px"),a}});defineFunction({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,o){var{funcName:a,parser:c}=e,d=c.mode;c.switchMode("math");var g=a==="\\("?"\\)":"$",b=c.parseExpression(!1,g);return c.expect(g),c.switchMode(d),{type:"styling",mode:c.mode,style:"text",body:b}}});defineFunction({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,o){throw new ParseError("Mismatched "+e.funcName)}});var chooseMathStyle=(e,o)=>{switch(o.style.size){case Style$1.DISPLAY.size:return e.display;case Style$1.TEXT.size:return e.text;case Style$1.SCRIPT.size:return e.script;case Style$1.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};defineFunction({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,o)=>{var{parser:a}=e;return{type:"mathchoice",mode:a.mode,display:ordargument(o[0]),text:ordargument(o[1]),script:ordargument(o[2]),scriptscript:ordargument(o[3])}},htmlBuilder:(e,o)=>{var a=chooseMathStyle(e,o),c=buildExpression$1(a,o,!1);return buildCommon.makeFragment(c)},mathmlBuilder:(e,o)=>{var a=chooseMathStyle(e,o);return buildExpressionRow(a,o)}});var assembleSupSub=(e,o,a,c,d,g,b)=>{e=buildCommon.makeSpan([],[e]);var _=a&&utils.isCharacterBox(a),$,j;if(o){var rt=buildGroup$1(o,c.havingStyle(d.sup()),c);j={elem:rt,kern:Math.max(c.fontMetrics().bigOpSpacing1,c.fontMetrics().bigOpSpacing3-rt.depth)}}if(a){var nt=buildGroup$1(a,c.havingStyle(d.sub()),c);$={elem:nt,kern:Math.max(c.fontMetrics().bigOpSpacing2,c.fontMetrics().bigOpSpacing4-nt.height)}}var st;if(j&&$){var jt=c.fontMetrics().bigOpSpacing5+$.elem.height+$.elem.depth+$.kern+e.depth+b;st=buildCommon.makeVList({positionType:"bottom",positionData:jt,children:[{type:"kern",size:c.fontMetrics().bigOpSpacing5},{type:"elem",elem:$.elem,marginLeft:makeEm(-g)},{type:"kern",size:$.kern},{type:"elem",elem:e},{type:"kern",size:j.kern},{type:"elem",elem:j.elem,marginLeft:makeEm(g)},{type:"kern",size:c.fontMetrics().bigOpSpacing5}]},c)}else if($){var wl=e.height-b;st=buildCommon.makeVList({positionType:"top",positionData:wl,children:[{type:"kern",size:c.fontMetrics().bigOpSpacing5},{type:"elem",elem:$.elem,marginLeft:makeEm(-g)},{type:"kern",size:$.kern},{type:"elem",elem:e}]},c)}else if(j){var Ft=e.depth+b;st=buildCommon.makeVList({positionType:"bottom",positionData:Ft,children:[{type:"elem",elem:e},{type:"kern",size:j.kern},{type:"elem",elem:j.elem,marginLeft:makeEm(g)},{type:"kern",size:c.fontMetrics().bigOpSpacing5}]},c)}else return e;var it=[st];if($&&g!==0&&!_){var ot=buildCommon.makeSpan(["mspace"],[],c);ot.style.marginRight=makeEm(g),it.unshift(ot)}return buildCommon.makeSpan(["mop","op-limits"],it,c)},noSuccessor=["\\smallint"],htmlBuilder$2=(e,o)=>{var a,c,d=!1,g;e.type==="supsub"?(a=e.sup,c=e.sub,g=assertNodeType(e.base,"op"),d=!0):g=assertNodeType(e,"op");var b=o.style,_=!1;b.size===Style$1.DISPLAY.size&&g.symbol&&!utils.contains(noSuccessor,g.name)&&(_=!0);var $;if(g.symbol){var j=_?"Size2-Regular":"Size1-Regular",rt="";if((g.name==="\\oiint"||g.name==="\\oiiint")&&(rt=g.name.slice(1),g.name=rt==="oiint"?"\\iint":"\\iiint"),$=buildCommon.makeSymbol(g.name,j,"math",o,["mop","op-symbol",_?"large-op":"small-op"]),rt.length>0){var nt=$.italic,st=buildCommon.staticSvg(rt+"Size"+(_?"2":"1"),o);$=buildCommon.makeVList({positionType:"individualShift",children:[{type:"elem",elem:$,shift:0},{type:"elem",elem:st,shift:_?.08:0}]},o),g.name="\\"+rt,$.classes.unshift("mop"),$.italic=nt}}else if(g.body){var jt=buildExpression$1(g.body,o,!0);jt.length===1&&jt[0]instanceof SymbolNode?($=jt[0],$.classes[0]="mop"):$=buildCommon.makeSpan(["mop"],jt,o)}else{for(var wl=[],Ft=1;Ft<g.name.length;Ft++)wl.push(buildCommon.mathsym(g.name[Ft],g.mode,o));$=buildCommon.makeSpan(["mop"],wl,o)}var it=0,ot=0;return($ instanceof SymbolNode||g.name==="\\oiint"||g.name==="\\oiiint")&&!g.suppressBaseShift&&(it=($.height-$.depth)/2-o.fontMetrics().axisHeight,ot=$.italic),d?assembleSupSub($,a,c,o,b,ot,it):(it&&($.style.position="relative",$.style.top=makeEm(it)),$)},mathmlBuilder$1=(e,o)=>{var a;if(e.symbol)a=new MathNode("mo",[makeText(e.name,e.mode)]),utils.contains(noSuccessor,e.name)&&a.setAttribute("largeop","false");else if(e.body)a=new MathNode("mo",buildExpression(e.body,o));else{a=new MathNode("mi",[new TextNode(e.name.slice(1))]);var c=new MathNode("mo",[makeText("","text")]);e.parentIsSupSub?a=new MathNode("mrow",[a,c]):a=newDocumentFragment([a,c])}return a},singleCharBigOps={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};defineFunction({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=c;return d.length===1&&(d=singleCharBigOps[d]),{type:"op",mode:a.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:d}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,o)=>{var{parser:a}=e,c=o[0];return{type:"op",mode:a.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ordargument(c)}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var singleCharIntegrals={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};defineFunction({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:o,funcName:a}=e;return{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:a}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:o,funcName:a}=e;return{type:"op",mode:o.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:a}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});defineFunction({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(e){var{parser:o,funcName:a}=e,c=a;return c.length===1&&(c=singleCharIntegrals[c]),{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:c}},htmlBuilder:htmlBuilder$2,mathmlBuilder:mathmlBuilder$1});var htmlBuilder$1=(e,o)=>{var a,c,d=!1,g;e.type==="supsub"?(a=e.sup,c=e.sub,g=assertNodeType(e.base,"operatorname"),d=!0):g=assertNodeType(e,"operatorname");var b;if(g.body.length>0){for(var _=g.body.map(nt=>{var st=nt.text;return typeof st=="string"?{type:"textord",mode:nt.mode,text:st}:nt}),$=buildExpression$1(_,o.withFont("mathrm"),!0),j=0;j<$.length;j++){var rt=$[j];rt instanceof SymbolNode&&(rt.text=rt.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}b=buildCommon.makeSpan(["mop"],$,o)}else b=buildCommon.makeSpan(["mop"],[],o);return d?assembleSupSub(b,a,c,o,o.style,0,0):b},mathmlBuilder=(e,o)=>{for(var a=buildExpression(e.body,o.withFont("mathrm")),c=!0,d=0;d<a.length;d++){var g=a[d];if(!(g instanceof mathMLTree.SpaceNode))if(g instanceof mathMLTree.MathNode)switch(g.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var b=g.children[0];g.children.length===1&&b instanceof mathMLTree.TextNode?b.text=b.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):c=!1;break}default:c=!1}else c=!1}if(c){var _=a.map(rt=>rt.toText()).join("");a=[new mathMLTree.TextNode(_)]}var $=new mathMLTree.MathNode("mi",a);$.setAttribute("mathvariant","normal");var j=new mathMLTree.MathNode("mo",[makeText("","text")]);return e.parentIsSupSub?new mathMLTree.MathNode("mrow",[$,j]):mathMLTree.newDocumentFragment([$,j])};defineFunction({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,o)=>{var{parser:a,funcName:c}=e,d=o[0];return{type:"operatorname",mode:a.mode,body:ordargument(d),alwaysHandleSupSub:c==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:htmlBuilder$1,mathmlBuilder});defineMacro("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");defineFunctionBuilders({type:"ordgroup",htmlBuilder(e,o){return e.semisimple?buildCommon.makeFragment(buildExpression$1(e.body,o,!1)):buildCommon.makeSpan(["mord"],buildExpression$1(e.body,o,!0),o)},mathmlBuilder(e,o){return buildExpressionRow(e.body,o,!0)}});defineFunction({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,o){var{parser:a}=e,c=o[0];return{type:"overline",mode:a.mode,body:c}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o.havingCrampedStyle()),c=buildCommon.makeLineSpan("overline-line",o),d=o.fontMetrics().defaultRuleThickness,g=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:3*d},{type:"elem",elem:c},{type:"kern",size:d}]},o);return buildCommon.makeSpan(["mord","overline"],[g],o)},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);a.setAttribute("stretchy","true");var c=new mathMLTree.MathNode("mover",[buildGroup(e.body,o),a]);return c.setAttribute("accent","true"),c}});defineFunction({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=o[0];return{type:"phantom",mode:a.mode,body:ordargument(c)}},htmlBuilder:(e,o)=>{var a=buildExpression$1(e.body,o.withPhantom(),!1);return buildCommon.makeFragment(a)},mathmlBuilder:(e,o)=>{var a=buildExpression(e.body,o);return new mathMLTree.MathNode("mphantom",a)}});defineFunction({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=o[0];return{type:"hphantom",mode:a.mode,body:c}},htmlBuilder:(e,o)=>{var a=buildCommon.makeSpan([],[buildGroup$1(e.body,o.withPhantom())]);if(a.height=0,a.depth=0,a.children)for(var c=0;c<a.children.length;c++)a.children[c].height=0,a.children[c].depth=0;return a=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a}]},o),buildCommon.makeSpan(["mord"],[a],o)},mathmlBuilder:(e,o)=>{var a=buildExpression(ordargument(e.body),o),c=new mathMLTree.MathNode("mphantom",a),d=new mathMLTree.MathNode("mpadded",[c]);return d.setAttribute("height","0px"),d.setAttribute("depth","0px"),d}});defineFunction({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,o)=>{var{parser:a}=e,c=o[0];return{type:"vphantom",mode:a.mode,body:c}},htmlBuilder:(e,o)=>{var a=buildCommon.makeSpan(["inner"],[buildGroup$1(e.body,o.withPhantom())]),c=buildCommon.makeSpan(["fix"],[]);return buildCommon.makeSpan(["mord","rlap"],[a,c],o)},mathmlBuilder:(e,o)=>{var a=buildExpression(ordargument(e.body),o),c=new mathMLTree.MathNode("mphantom",a),d=new mathMLTree.MathNode("mpadded",[c]);return d.setAttribute("width","0px"),d}});defineFunction({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,o){var{parser:a}=e,c=assertNodeType(o[0],"size").value,d=o[1];return{type:"raisebox",mode:a.mode,dy:c,body:d}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o),c=calculateSize(e.dy,o);return buildCommon.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:a}]},o)},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,o)]),c=e.dy.number+e.dy.unit;return a.setAttribute("voffset",c),a}});defineFunction({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:o}=e;return{type:"internal",mode:o.mode}}});defineFunction({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,o,a){var{parser:c}=e,d=a[0],g=assertNodeType(o[0],"size"),b=assertNodeType(o[1],"size");return{type:"rule",mode:c.mode,shift:d&&assertNodeType(d,"size").value,width:g.value,height:b.value}},htmlBuilder(e,o){var a=buildCommon.makeSpan(["mord","rule"],[],o),c=calculateSize(e.width,o),d=calculateSize(e.height,o),g=e.shift?calculateSize(e.shift,o):0;return a.style.borderRightWidth=makeEm(c),a.style.borderTopWidth=makeEm(d),a.style.bottom=makeEm(g),a.width=c,a.height=d+g,a.depth=-g,a.maxFontSize=d*1.125*o.sizeMultiplier,a},mathmlBuilder(e,o){var a=calculateSize(e.width,o),c=calculateSize(e.height,o),d=e.shift?calculateSize(e.shift,o):0,g=o.color&&o.getColor()||"black",b=new mathMLTree.MathNode("mspace");b.setAttribute("mathbackground",g),b.setAttribute("width",makeEm(a)),b.setAttribute("height",makeEm(c));var _=new mathMLTree.MathNode("mpadded",[b]);return d>=0?_.setAttribute("height",makeEm(d)):(_.setAttribute("height",makeEm(d)),_.setAttribute("depth",makeEm(-d))),_.setAttribute("voffset",makeEm(d)),_}});function sizingGroup(e,o,a){for(var c=buildExpression$1(e,o,!1),d=o.sizeMultiplier/a.sizeMultiplier,g=0;g<c.length;g++){var b=c[g].classes.indexOf("sizing");b<0?Array.prototype.push.apply(c[g].classes,o.sizingClasses(a)):c[g].classes[b+1]==="reset-size"+o.size&&(c[g].classes[b+1]="reset-size"+a.size),c[g].height*=d,c[g].depth*=d}return buildCommon.makeFragment(c)}var sizeFuncs=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],htmlBuilder=(e,o)=>{var a=o.havingSize(e.size);return sizingGroup(e.body,a,o)};defineFunction({type:"sizing",names:sizeFuncs,props:{numArgs:0,allowedInText:!0},handler:(e,o)=>{var{breakOnTokenText:a,funcName:c,parser:d}=e,g=d.parseExpression(!1,a);return{type:"sizing",mode:d.mode,size:sizeFuncs.indexOf(c)+1,body:g}},htmlBuilder,mathmlBuilder:(e,o)=>{var a=o.havingSize(e.size),c=buildExpression(e.body,a),d=new mathMLTree.MathNode("mstyle",c);return d.setAttribute("mathsize",makeEm(a.sizeMultiplier)),d}});defineFunction({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,o,a)=>{var{parser:c}=e,d=!1,g=!1,b=a[0]&&assertNodeType(a[0],"ordgroup");if(b)for(var _="",$=0;$<b.body.length;++$){var j=b.body[$];if(_=j.text,_==="t")d=!0;else if(_==="b")g=!0;else{d=!1,g=!1;break}}else d=!0,g=!0;var rt=o[0];return{type:"smash",mode:c.mode,body:rt,smashHeight:d,smashDepth:g}},htmlBuilder:(e,o)=>{var a=buildCommon.makeSpan([],[buildGroup$1(e.body,o)]);if(!e.smashHeight&&!e.smashDepth)return a;if(e.smashHeight&&(a.height=0,a.children))for(var c=0;c<a.children.length;c++)a.children[c].height=0;if(e.smashDepth&&(a.depth=0,a.children))for(var d=0;d<a.children.length;d++)a.children[d].depth=0;var g=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a}]},o);return buildCommon.makeSpan(["mord"],[g],o)},mathmlBuilder:(e,o)=>{var a=new mathMLTree.MathNode("mpadded",[buildGroup(e.body,o)]);return e.smashHeight&&a.setAttribute("height","0px"),e.smashDepth&&a.setAttribute("depth","0px"),a}});defineFunction({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,o,a){var{parser:c}=e,d=a[0],g=o[0];return{type:"sqrt",mode:c.mode,body:g,index:d}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o.havingCrampedStyle());a.height===0&&(a.height=o.fontMetrics().xHeight),a=buildCommon.wrapFragment(a,o);var c=o.fontMetrics(),d=c.defaultRuleThickness,g=d;o.style.id<Style$1.TEXT.id&&(g=o.fontMetrics().xHeight);var b=d+g/4,_=a.height+a.depth+b+d,{span:$,ruleWidth:j,advanceWidth:rt}=delimiter.sqrtImage(_,o),nt=$.height-j;nt>a.height+a.depth+b&&(b=(b+nt-a.height-a.depth)/2);var st=$.height-a.height-b-j;a.style.paddingLeft=makeEm(rt);var jt=buildCommon.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a,wrapperClasses:["svg-align"]},{type:"kern",size:-(a.height+st)},{type:"elem",elem:$},{type:"kern",size:j}]},o);if(e.index){var wl=o.havingStyle(Style$1.SCRIPTSCRIPT),Ft=buildGroup$1(e.index,wl,o),it=.6*(jt.height-jt.depth),ot=buildCommon.makeVList({positionType:"shift",positionData:-it,children:[{type:"elem",elem:Ft}]},o),Ln=buildCommon.makeSpan(["root"],[ot]);return buildCommon.makeSpan(["mord","sqrt"],[Ln,jt],o)}else return buildCommon.makeSpan(["mord","sqrt"],[jt],o)},mathmlBuilder(e,o){var{body:a,index:c}=e;return c?new mathMLTree.MathNode("mroot",[buildGroup(a,o),buildGroup(c,o)]):new mathMLTree.MathNode("msqrt",[buildGroup(a,o)])}});var styleMap={display:Style$1.DISPLAY,text:Style$1.TEXT,script:Style$1.SCRIPT,scriptscript:Style$1.SCRIPTSCRIPT};defineFunction({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,o){var{breakOnTokenText:a,funcName:c,parser:d}=e,g=d.parseExpression(!0,a),b=c.slice(1,c.length-5);return{type:"styling",mode:d.mode,style:b,body:g}},htmlBuilder(e,o){var a=styleMap[e.style],c=o.havingStyle(a).withFont("");return sizingGroup(e.body,c,o)},mathmlBuilder(e,o){var a=styleMap[e.style],c=o.havingStyle(a),d=buildExpression(e.body,c),g=new mathMLTree.MathNode("mstyle",d),b={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},_=b[e.style];return g.setAttribute("scriptlevel",_[0]),g.setAttribute("displaystyle",_[1]),g}});var htmlBuilderDelegate=function e(o,a){var c=o.base;if(c)if(c.type==="op"){var d=c.limits&&(a.style.size===Style$1.DISPLAY.size||c.alwaysHandleSupSub);return d?htmlBuilder$2:null}else if(c.type==="operatorname"){var g=c.alwaysHandleSupSub&&(a.style.size===Style$1.DISPLAY.size||c.limits);return g?htmlBuilder$1:null}else{if(c.type==="accent")return utils.isCharacterBox(c.base)?htmlBuilder$a:null;if(c.type==="horizBrace"){var b=!o.sub;return b===c.isOver?htmlBuilder$3:null}else return null}else return null};defineFunctionBuilders({type:"supsub",htmlBuilder(e,o){var a=htmlBuilderDelegate(e,o);if(a)return a(e,o);var{base:c,sup:d,sub:g}=e,b=buildGroup$1(c,o),_,$,j=o.fontMetrics(),rt=0,nt=0,st=c&&utils.isCharacterBox(c);if(d){var jt=o.havingStyle(o.style.sup());_=buildGroup$1(d,jt,o),st||(rt=b.height-jt.fontMetrics().supDrop*jt.sizeMultiplier/o.sizeMultiplier)}if(g){var wl=o.havingStyle(o.style.sub());$=buildGroup$1(g,wl,o),st||(nt=b.depth+wl.fontMetrics().subDrop*wl.sizeMultiplier/o.sizeMultiplier)}var Ft;o.style===Style$1.DISPLAY?Ft=j.sup1:o.style.cramped?Ft=j.sup3:Ft=j.sup2;var it=o.sizeMultiplier,ot=makeEm(.5/j.ptPerEm/it),Ln=null;if($){var Cl=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(b instanceof SymbolNode||Cl)&&(Ln=makeEm(-b.italic))}var Tl;if(_&&$){rt=Math.max(rt,Ft,_.depth+.25*j.xHeight),nt=Math.max(nt,j.sub2);var zl=j.defaultRuleThickness,In=4*zl;if(rt-_.depth-($.height-nt)<In){nt=In-(rt-_.depth)+$.height;var Ml=.8*j.xHeight-(rt-_.depth);Ml>0&&(rt+=Ml,nt-=Ml)}var Dl=[{type:"elem",elem:$,shift:nt,marginRight:ot,marginLeft:Ln},{type:"elem",elem:_,shift:-rt,marginRight:ot}];Tl=buildCommon.makeVList({positionType:"individualShift",children:Dl},o)}else if($){nt=Math.max(nt,j.sub1,$.height-.8*j.xHeight);var Ul=[{type:"elem",elem:$,marginLeft:Ln,marginRight:ot}];Tl=buildCommon.makeVList({positionType:"shift",positionData:nt,children:Ul},o)}else if(_)rt=Math.max(rt,Ft,_.depth+.25*j.xHeight),Tl=buildCommon.makeVList({positionType:"shift",positionData:-rt,children:[{type:"elem",elem:_,marginRight:ot}]},o);else throw new Error("supsub must have either sup or sub.");var Vl=getTypeOfDomTree(b,"right")||"mord";return buildCommon.makeSpan([Vl],[b,buildCommon.makeSpan(["msupsub"],[Tl])],o)},mathmlBuilder(e,o){var a=!1,c,d;e.base&&e.base.type==="horizBrace"&&(d=!!e.sup,d===e.base.isOver&&(a=!0,c=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var g=[buildGroup(e.base,o)];e.sub&&g.push(buildGroup(e.sub,o)),e.sup&&g.push(buildGroup(e.sup,o));var b;if(a)b=c?"mover":"munder";else if(e.sub)if(e.sup){var j=e.base;j&&j.type==="op"&&j.limits&&o.style===Style$1.DISPLAY||j&&j.type==="operatorname"&&j.alwaysHandleSupSub&&(o.style===Style$1.DISPLAY||j.limits)?b="munderover":b="msubsup"}else{var $=e.base;$&&$.type==="op"&&$.limits&&(o.style===Style$1.DISPLAY||$.alwaysHandleSupSub)||$&&$.type==="operatorname"&&$.alwaysHandleSupSub&&($.limits||o.style===Style$1.DISPLAY)?b="munder":b="msub"}else{var _=e.base;_&&_.type==="op"&&_.limits&&(o.style===Style$1.DISPLAY||_.alwaysHandleSupSub)||_&&_.type==="operatorname"&&_.alwaysHandleSupSub&&(_.limits||o.style===Style$1.DISPLAY)?b="mover":b="msup"}return new mathMLTree.MathNode(b,g)}});defineFunctionBuilders({type:"atom",htmlBuilder(e,o){return buildCommon.mathsym(e.text,e.mode,o,["m"+e.family])},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mo",[makeText(e.text,e.mode)]);if(e.family==="bin"){var c=getVariant(e,o);c==="bold-italic"&&a.setAttribute("mathvariant",c)}else e.family==="punct"?a.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&a.setAttribute("stretchy","false");return a}});var defaultVariant={mi:"italic",mn:"normal",mtext:"normal"};defineFunctionBuilders({type:"mathord",htmlBuilder(e,o){return buildCommon.makeOrd(e,o,"mathord")},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mi",[makeText(e.text,e.mode,o)]),c=getVariant(e,o)||"italic";return c!==defaultVariant[a.type]&&a.setAttribute("mathvariant",c),a}});defineFunctionBuilders({type:"textord",htmlBuilder(e,o){return buildCommon.makeOrd(e,o,"textord")},mathmlBuilder(e,o){var a=makeText(e.text,e.mode,o),c=getVariant(e,o)||"normal",d;return e.mode==="text"?d=new mathMLTree.MathNode("mtext",[a]):/[0-9]/.test(e.text)?d=new mathMLTree.MathNode("mn",[a]):e.text==="\\prime"?d=new mathMLTree.MathNode("mo",[a]):d=new mathMLTree.MathNode("mi",[a]),c!==defaultVariant[d.type]&&d.setAttribute("mathvariant",c),d}});var cssSpace={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},regularSpace={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};defineFunctionBuilders({type:"spacing",htmlBuilder(e,o){if(regularSpace.hasOwnProperty(e.text)){var a=regularSpace[e.text].className||"";if(e.mode==="text"){var c=buildCommon.makeOrd(e,o,"textord");return c.classes.push(a),c}else return buildCommon.makeSpan(["mspace",a],[buildCommon.mathsym(e.text,e.mode,o)],o)}else{if(cssSpace.hasOwnProperty(e.text))return buildCommon.makeSpan(["mspace",cssSpace[e.text]],[],o);throw new ParseError('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,o){var a;if(regularSpace.hasOwnProperty(e.text))a=new mathMLTree.MathNode("mtext",[new mathMLTree.TextNode("")]);else{if(cssSpace.hasOwnProperty(e.text))return new mathMLTree.MathNode("mspace");throw new ParseError('Unknown type of space "'+e.text+'"')}return a}});var pad=()=>{var e=new mathMLTree.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};defineFunctionBuilders({type:"tag",mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mtable",[new mathMLTree.MathNode("mtr",[pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.body,o)]),pad(),new mathMLTree.MathNode("mtd",[buildExpressionRow(e.tag,o)])])]);return a.setAttribute("width","100%"),a}});var textFontFamilies={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},textFontWeights={"\\textbf":"textbf","\\textmd":"textmd"},textFontShapes={"\\textit":"textit","\\textup":"textup"},optionsWithFont=(e,o)=>{var a=e.font;if(a){if(textFontFamilies[a])return o.withTextFontFamily(textFontFamilies[a]);if(textFontWeights[a])return o.withTextFontWeight(textFontWeights[a]);if(a==="\\emph")return o.fontShape==="textit"?o.withTextFontShape("textup"):o.withTextFontShape("textit")}else return o;return o.withTextFontShape(textFontShapes[a])};defineFunction({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,o){var{parser:a,funcName:c}=e,d=o[0];return{type:"text",mode:a.mode,body:ordargument(d),font:c}},htmlBuilder(e,o){var a=optionsWithFont(e,o),c=buildExpression$1(e.body,a,!0);return buildCommon.makeSpan(["mord","text"],c,a)},mathmlBuilder(e,o){var a=optionsWithFont(e,o);return buildExpressionRow(e.body,a)}});defineFunction({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,o){var{parser:a}=e;return{type:"underline",mode:a.mode,body:o[0]}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o),c=buildCommon.makeLineSpan("underline-line",o),d=o.fontMetrics().defaultRuleThickness,g=buildCommon.makeVList({positionType:"top",positionData:a.height,children:[{type:"kern",size:d},{type:"elem",elem:c},{type:"kern",size:3*d},{type:"elem",elem:a}]},o);return buildCommon.makeSpan(["mord","underline"],[g],o)},mathmlBuilder(e,o){var a=new mathMLTree.MathNode("mo",[new mathMLTree.TextNode("")]);a.setAttribute("stretchy","true");var c=new mathMLTree.MathNode("munder",[buildGroup(e.body,o),a]);return c.setAttribute("accentunder","true"),c}});defineFunction({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,o){var{parser:a}=e;return{type:"vcenter",mode:a.mode,body:o[0]}},htmlBuilder(e,o){var a=buildGroup$1(e.body,o),c=o.fontMetrics().axisHeight,d=.5*(a.height-c-(a.depth+c));return buildCommon.makeVList({positionType:"shift",positionData:d,children:[{type:"elem",elem:a}]},o)},mathmlBuilder(e,o){return new mathMLTree.MathNode("mpadded",[buildGroup(e.body,o)],["vcenter"])}});defineFunction({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,o,a){throw new ParseError("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,o){for(var a=makeVerb(e),c=[],d=o.havingStyle(o.style.text()),g=0;g<a.length;g++){var b=a[g];b==="~"&&(b="\\textasciitilde"),c.push(buildCommon.makeSymbol(b,"Typewriter-Regular",e.mode,d,["mord","texttt"]))}return buildCommon.makeSpan(["mord","text"].concat(d.sizingClasses(o)),buildCommon.tryCombineChars(c),d)},mathmlBuilder(e,o){var a=new mathMLTree.TextNode(makeVerb(e)),c=new mathMLTree.MathNode("mtext",[a]);return c.setAttribute("mathvariant","monospace"),c}});var makeVerb=e=>e.body.replace(/ /g,e.star?"":""),functions=_functions,spaceRegexString=`[ \r
	]`,controlWordRegexString="\\\\[a-zA-Z@]+",controlSymbolRegexString="\\\\[^\uD800-\uDFFF]",controlWordWhitespaceRegexString="("+controlWordRegexString+")"+spaceRegexString+"*",controlSpaceRegexString=`\\\\(
|[ \r	]+
?)[ \r	]*`,combiningDiacriticalMarkString="[-]",combiningDiacriticalMarksEndRegex=new RegExp(combiningDiacriticalMarkString+"+$"),tokenRegexString="("+spaceRegexString+"+)|"+(controlSpaceRegexString+"|")+"([!-\\[\\]---]"+(combiningDiacriticalMarkString+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(combiningDiacriticalMarkString+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+controlWordWhitespaceRegexString)+("|"+controlSymbolRegexString+")");class Lexer{constructor(o,a){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=o,this.settings=a,this.tokenRegex=new RegExp(tokenRegexString,"g"),this.catcodes={"%":14,"~":13}}setCatcode(o,a){this.catcodes[o]=a}lex(){var o=this.input,a=this.tokenRegex.lastIndex;if(a===o.length)return new Token("EOF",new SourceLocation(this,a,a));var c=this.tokenRegex.exec(o);if(c===null||c.index!==a)throw new ParseError("Unexpected character: '"+o[a]+"'",new Token(o[a],new SourceLocation(this,a,a+1)));var d=c[6]||c[3]||(c[2]?"\\ ":" ");if(this.catcodes[d]===14){var g=o.indexOf(`
`,this.tokenRegex.lastIndex);return g===-1?(this.tokenRegex.lastIndex=o.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=g+1,this.lex()}return new Token(d,new SourceLocation(this,a,this.tokenRegex.lastIndex))}}class Namespace{constructor(o,a){o===void 0&&(o={}),a===void 0&&(a={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=a,this.builtins=o,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ParseError("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var o=this.undefStack.pop();for(var a in o)o.hasOwnProperty(a)&&(o[a]==null?delete this.current[a]:this.current[a]=o[a])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(o){return this.current.hasOwnProperty(o)||this.builtins.hasOwnProperty(o)}get(o){return this.current.hasOwnProperty(o)?this.current[o]:this.builtins[o]}set(o,a,c){if(c===void 0&&(c=!1),c){for(var d=0;d<this.undefStack.length;d++)delete this.undefStack[d][o];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][o]=a)}else{var g=this.undefStack[this.undefStack.length-1];g&&!g.hasOwnProperty(o)&&(g[o]=this.current[o])}a==null?delete this.current[o]:this.current[o]=a}}var macros=_macros;defineMacro("\\noexpand",function(e){var o=e.popToken();return e.isExpandable(o.text)&&(o.noexpand=!0,o.treatAsRelax=!0),{tokens:[o],numArgs:0}});defineMacro("\\expandafter",function(e){var o=e.popToken();return e.expandOnce(!0),{tokens:[o],numArgs:0}});defineMacro("\\@firstoftwo",function(e){var o=e.consumeArgs(2);return{tokens:o[0],numArgs:0}});defineMacro("\\@secondoftwo",function(e){var o=e.consumeArgs(2);return{tokens:o[1],numArgs:0}});defineMacro("\\@ifnextchar",function(e){var o=e.consumeArgs(3);e.consumeSpaces();var a=e.future();return o[0].length===1&&o[0][0].text===a.text?{tokens:o[1],numArgs:0}:{tokens:o[2],numArgs:0}});defineMacro("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");defineMacro("\\TextOrMath",function(e){var o=e.consumeArgs(2);return e.mode==="text"?{tokens:o[0],numArgs:0}:{tokens:o[1],numArgs:0}});var digitToNumber={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};defineMacro("\\char",function(e){var o=e.popToken(),a,c="";if(o.text==="'")a=8,o=e.popToken();else if(o.text==='"')a=16,o=e.popToken();else if(o.text==="`")if(o=e.popToken(),o.text[0]==="\\")c=o.text.charCodeAt(1);else{if(o.text==="EOF")throw new ParseError("\\char` missing argument");c=o.text.charCodeAt(0)}else a=10;if(a){if(c=digitToNumber[o.text],c==null||c>=a)throw new ParseError("Invalid base-"+a+" digit "+o.text);for(var d;(d=digitToNumber[e.future().text])!=null&&d<a;)c*=a,c+=d,e.popToken()}return"\\@char{"+c+"}"});var newcommand=(e,o,a,c)=>{var d=e.consumeArg().tokens;if(d.length!==1)throw new ParseError("\\newcommand's first argument must be a macro name");var g=d[0].text,b=e.isDefined(g);if(b&&!o)throw new ParseError("\\newcommand{"+g+"} attempting to redefine "+(g+"; use \\renewcommand"));if(!b&&!a)throw new ParseError("\\renewcommand{"+g+"} when command "+g+" does not yet exist; use \\newcommand");var _=0;if(d=e.consumeArg().tokens,d.length===1&&d[0].text==="["){for(var $="",j=e.expandNextToken();j.text!=="]"&&j.text!=="EOF";)$+=j.text,j=e.expandNextToken();if(!$.match(/^\s*[0-9]+\s*$/))throw new ParseError("Invalid number of arguments: "+$);_=parseInt($),d=e.consumeArg().tokens}return b&&c||e.macros.set(g,{tokens:d,numArgs:_}),""};defineMacro("\\newcommand",e=>newcommand(e,!1,!0,!1));defineMacro("\\renewcommand",e=>newcommand(e,!0,!1,!1));defineMacro("\\providecommand",e=>newcommand(e,!0,!0,!0));defineMacro("\\message",e=>{var o=e.consumeArgs(1)[0];return console.log(o.reverse().map(a=>a.text).join("")),""});defineMacro("\\errmessage",e=>{var o=e.consumeArgs(1)[0];return console.error(o.reverse().map(a=>a.text).join("")),""});defineMacro("\\show",e=>{var o=e.popToken(),a=o.text;return console.log(o,e.macros.get(a),functions[a],symbols.math[a],symbols.text[a]),""});defineMacro("\\bgroup","{");defineMacro("\\egroup","}");defineMacro("~","\\nobreakspace");defineMacro("\\lq","`");defineMacro("\\rq","'");defineMacro("\\aa","\\r a");defineMacro("\\AA","\\r A");defineMacro("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");defineMacro("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");defineMacro("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");defineMacro("","\\mathscr{B}");defineMacro("","\\mathscr{E}");defineMacro("","\\mathscr{F}");defineMacro("","\\mathscr{H}");defineMacro("","\\mathscr{I}");defineMacro("","\\mathscr{L}");defineMacro("","\\mathscr{M}");defineMacro("","\\mathscr{R}");defineMacro("","\\mathfrak{C}");defineMacro("","\\mathfrak{H}");defineMacro("","\\mathfrak{Z}");defineMacro("\\Bbbk","\\Bbb{k}");defineMacro("","\\cdotp");defineMacro("\\llap","\\mathllap{\\textrm{#1}}");defineMacro("\\rlap","\\mathrlap{\\textrm{#1}}");defineMacro("\\clap","\\mathclap{\\textrm{#1}}");defineMacro("\\mathstrut","\\vphantom{(}");defineMacro("\\underbar","\\underline{\\text{#1}}");defineMacro("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');defineMacro("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");defineMacro("\\ne","\\neq");defineMacro("","\\neq");defineMacro("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");defineMacro("","\\notin");defineMacro("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");defineMacro("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");defineMacro("","\\perp");defineMacro("","\\mathclose{!\\mkern-0.8mu!}");defineMacro("","\\notni");defineMacro("","\\ulcorner");defineMacro("","\\urcorner");defineMacro("","\\llcorner");defineMacro("","\\lrcorner");defineMacro("","\\copyright");defineMacro("","\\textregistered");defineMacro("","\\textregistered");defineMacro("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');defineMacro("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');defineMacro("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');defineMacro("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');defineMacro("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");defineMacro("","\\vdots");defineMacro("\\varGamma","\\mathit{\\Gamma}");defineMacro("\\varDelta","\\mathit{\\Delta}");defineMacro("\\varTheta","\\mathit{\\Theta}");defineMacro("\\varLambda","\\mathit{\\Lambda}");defineMacro("\\varXi","\\mathit{\\Xi}");defineMacro("\\varPi","\\mathit{\\Pi}");defineMacro("\\varSigma","\\mathit{\\Sigma}");defineMacro("\\varUpsilon","\\mathit{\\Upsilon}");defineMacro("\\varPhi","\\mathit{\\Phi}");defineMacro("\\varPsi","\\mathit{\\Psi}");defineMacro("\\varOmega","\\mathit{\\Omega}");defineMacro("\\substack","\\begin{subarray}{c}#1\\end{subarray}");defineMacro("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");defineMacro("\\boxed","\\fbox{$\\displaystyle{#1}$}");defineMacro("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");defineMacro("\\implies","\\DOTSB\\;\\Longrightarrow\\;");defineMacro("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");defineMacro("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");defineMacro("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var dotsByToken={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};defineMacro("\\dots",function(e){var o="\\dotso",a=e.expandAfterFuture().text;return a in dotsByToken?o=dotsByToken[a]:(a.slice(0,4)==="\\not"||a in symbols.math&&utils.contains(["bin","rel"],symbols.math[a].group))&&(o="\\dotsb"),o});var spaceAfterDots={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};defineMacro("\\dotso",function(e){var o=e.future().text;return o in spaceAfterDots?"\\ldots\\,":"\\ldots"});defineMacro("\\dotsc",function(e){var o=e.future().text;return o in spaceAfterDots&&o!==","?"\\ldots\\,":"\\ldots"});defineMacro("\\cdots",function(e){var o=e.future().text;return o in spaceAfterDots?"\\@cdots\\,":"\\@cdots"});defineMacro("\\dotsb","\\cdots");defineMacro("\\dotsm","\\cdots");defineMacro("\\dotsi","\\!\\cdots");defineMacro("\\dotsx","\\ldots\\,");defineMacro("\\DOTSI","\\relax");defineMacro("\\DOTSB","\\relax");defineMacro("\\DOTSX","\\relax");defineMacro("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");defineMacro("\\,","\\tmspace+{3mu}{.1667em}");defineMacro("\\thinspace","\\,");defineMacro("\\>","\\mskip{4mu}");defineMacro("\\:","\\tmspace+{4mu}{.2222em}");defineMacro("\\medspace","\\:");defineMacro("\\;","\\tmspace+{5mu}{.2777em}");defineMacro("\\thickspace","\\;");defineMacro("\\!","\\tmspace-{3mu}{.1667em}");defineMacro("\\negthinspace","\\!");defineMacro("\\negmedspace","\\tmspace-{4mu}{.2222em}");defineMacro("\\negthickspace","\\tmspace-{5mu}{.277em}");defineMacro("\\enspace","\\kern.5em ");defineMacro("\\enskip","\\hskip.5em\\relax");defineMacro("\\quad","\\hskip1em\\relax");defineMacro("\\qquad","\\hskip2em\\relax");defineMacro("\\tag","\\@ifstar\\tag@literal\\tag@paren");defineMacro("\\tag@paren","\\tag@literal{({#1})}");defineMacro("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ParseError("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});defineMacro("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");defineMacro("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");defineMacro("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");defineMacro("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");defineMacro("\\newline","\\\\\\relax");defineMacro("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var latexRaiseA=makeEm(fontMetricsData["Main-Regular"][84][1]-.7*fontMetricsData["Main-Regular"][65][1]);defineMacro("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");defineMacro("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+latexRaiseA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");defineMacro("\\hspace","\\@ifstar\\@hspacer\\@hspace");defineMacro("\\@hspace","\\hskip #1\\relax");defineMacro("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");defineMacro("\\ordinarycolon",":");defineMacro("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");defineMacro("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');defineMacro("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');defineMacro("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');defineMacro("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');defineMacro("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');defineMacro("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');defineMacro("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');defineMacro("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');defineMacro("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');defineMacro("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');defineMacro("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');defineMacro("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');defineMacro("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');defineMacro("","\\dblcolon");defineMacro("","\\eqcolon");defineMacro("","\\coloneqq");defineMacro("","\\eqqcolon");defineMacro("","\\Coloneqq");defineMacro("\\ratio","\\vcentcolon");defineMacro("\\coloncolon","\\dblcolon");defineMacro("\\colonequals","\\coloneqq");defineMacro("\\coloncolonequals","\\Coloneqq");defineMacro("\\equalscolon","\\eqqcolon");defineMacro("\\equalscoloncolon","\\Eqqcolon");defineMacro("\\colonminus","\\coloneq");defineMacro("\\coloncolonminus","\\Coloneq");defineMacro("\\minuscolon","\\eqcolon");defineMacro("\\minuscoloncolon","\\Eqcolon");defineMacro("\\coloncolonapprox","\\Colonapprox");defineMacro("\\coloncolonsim","\\Colonsim");defineMacro("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");defineMacro("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");defineMacro("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");defineMacro("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");defineMacro("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");defineMacro("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");defineMacro("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");defineMacro("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");defineMacro("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");defineMacro("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");defineMacro("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");defineMacro("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");defineMacro("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");defineMacro("\\ngeqq","\\html@mathml{\\@ngeqq}{}");defineMacro("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");defineMacro("\\nleqq","\\html@mathml{\\@nleqq}{}");defineMacro("\\nleqslant","\\html@mathml{\\@nleqslant}{}");defineMacro("\\nshortmid","\\html@mathml{\\@nshortmid}{}");defineMacro("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");defineMacro("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");defineMacro("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");defineMacro("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");defineMacro("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");defineMacro("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");defineMacro("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");defineMacro("\\imath","\\html@mathml{\\@imath}{}");defineMacro("\\jmath","\\html@mathml{\\@jmath}{}");defineMacro("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");defineMacro("","\\llbracket");defineMacro("","\\rrbracket");defineMacro("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");defineMacro("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");defineMacro("","\\lBrace");defineMacro("","\\rBrace");defineMacro("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");defineMacro("","\\minuso");defineMacro("\\darr","\\downarrow");defineMacro("\\dArr","\\Downarrow");defineMacro("\\Darr","\\Downarrow");defineMacro("\\lang","\\langle");defineMacro("\\rang","\\rangle");defineMacro("\\uarr","\\uparrow");defineMacro("\\uArr","\\Uparrow");defineMacro("\\Uarr","\\Uparrow");defineMacro("\\N","\\mathbb{N}");defineMacro("\\R","\\mathbb{R}");defineMacro("\\Z","\\mathbb{Z}");defineMacro("\\alef","\\aleph");defineMacro("\\alefsym","\\aleph");defineMacro("\\Alpha","\\mathrm{A}");defineMacro("\\Beta","\\mathrm{B}");defineMacro("\\bull","\\bullet");defineMacro("\\Chi","\\mathrm{X}");defineMacro("\\clubs","\\clubsuit");defineMacro("\\cnums","\\mathbb{C}");defineMacro("\\Complex","\\mathbb{C}");defineMacro("\\Dagger","\\ddagger");defineMacro("\\diamonds","\\diamondsuit");defineMacro("\\empty","\\emptyset");defineMacro("\\Epsilon","\\mathrm{E}");defineMacro("\\Eta","\\mathrm{H}");defineMacro("\\exist","\\exists");defineMacro("\\harr","\\leftrightarrow");defineMacro("\\hArr","\\Leftrightarrow");defineMacro("\\Harr","\\Leftrightarrow");defineMacro("\\hearts","\\heartsuit");defineMacro("\\image","\\Im");defineMacro("\\infin","\\infty");defineMacro("\\Iota","\\mathrm{I}");defineMacro("\\isin","\\in");defineMacro("\\Kappa","\\mathrm{K}");defineMacro("\\larr","\\leftarrow");defineMacro("\\lArr","\\Leftarrow");defineMacro("\\Larr","\\Leftarrow");defineMacro("\\lrarr","\\leftrightarrow");defineMacro("\\lrArr","\\Leftrightarrow");defineMacro("\\Lrarr","\\Leftrightarrow");defineMacro("\\Mu","\\mathrm{M}");defineMacro("\\natnums","\\mathbb{N}");defineMacro("\\Nu","\\mathrm{N}");defineMacro("\\Omicron","\\mathrm{O}");defineMacro("\\plusmn","\\pm");defineMacro("\\rarr","\\rightarrow");defineMacro("\\rArr","\\Rightarrow");defineMacro("\\Rarr","\\Rightarrow");defineMacro("\\real","\\Re");defineMacro("\\reals","\\mathbb{R}");defineMacro("\\Reals","\\mathbb{R}");defineMacro("\\Rho","\\mathrm{P}");defineMacro("\\sdot","\\cdot");defineMacro("\\sect","\\S");defineMacro("\\spades","\\spadesuit");defineMacro("\\sub","\\subset");defineMacro("\\sube","\\subseteq");defineMacro("\\supe","\\supseteq");defineMacro("\\Tau","\\mathrm{T}");defineMacro("\\thetasym","\\vartheta");defineMacro("\\weierp","\\wp");defineMacro("\\Zeta","\\mathrm{Z}");defineMacro("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");defineMacro("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");defineMacro("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");defineMacro("\\bra","\\mathinner{\\langle{#1}|}");defineMacro("\\ket","\\mathinner{|{#1}\\rangle}");defineMacro("\\braket","\\mathinner{\\langle{#1}\\rangle}");defineMacro("\\Bra","\\left\\langle#1\\right|");defineMacro("\\Ket","\\left|#1\\right\\rangle");var braketHelper=e=>o=>{var a=o.consumeArg().tokens,c=o.consumeArg().tokens,d=o.consumeArg().tokens,g=o.consumeArg().tokens,b=o.macros.get("|"),_=o.macros.get("\\|");o.macros.beginGroup();var $=nt=>st=>{e&&(st.macros.set("|",b),d.length&&st.macros.set("\\|",_));var jt=nt;if(!nt&&d.length){var wl=st.future();wl.text==="|"&&(st.popToken(),jt=!0)}return{tokens:jt?d:c,numArgs:0}};o.macros.set("|",$(!1)),d.length&&o.macros.set("\\|",$(!0));var j=o.consumeArg().tokens,rt=o.expandTokens([...g,...j,...a]);return o.macros.endGroup(),{tokens:rt.reverse(),numArgs:0}};defineMacro("\\bra@ket",braketHelper(!1));defineMacro("\\bra@set",braketHelper(!0));defineMacro("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");defineMacro("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");defineMacro("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");defineMacro("\\angln","{\\angl n}");defineMacro("\\blue","\\textcolor{##6495ed}{#1}");defineMacro("\\orange","\\textcolor{##ffa500}{#1}");defineMacro("\\pink","\\textcolor{##ff00af}{#1}");defineMacro("\\red","\\textcolor{##df0030}{#1}");defineMacro("\\green","\\textcolor{##28ae7b}{#1}");defineMacro("\\gray","\\textcolor{gray}{#1}");defineMacro("\\purple","\\textcolor{##9d38bd}{#1}");defineMacro("\\blueA","\\textcolor{##ccfaff}{#1}");defineMacro("\\blueB","\\textcolor{##80f6ff}{#1}");defineMacro("\\blueC","\\textcolor{##63d9ea}{#1}");defineMacro("\\blueD","\\textcolor{##11accd}{#1}");defineMacro("\\blueE","\\textcolor{##0c7f99}{#1}");defineMacro("\\tealA","\\textcolor{##94fff5}{#1}");defineMacro("\\tealB","\\textcolor{##26edd5}{#1}");defineMacro("\\tealC","\\textcolor{##01d1c1}{#1}");defineMacro("\\tealD","\\textcolor{##01a995}{#1}");defineMacro("\\tealE","\\textcolor{##208170}{#1}");defineMacro("\\greenA","\\textcolor{##b6ffb0}{#1}");defineMacro("\\greenB","\\textcolor{##8af281}{#1}");defineMacro("\\greenC","\\textcolor{##74cf70}{#1}");defineMacro("\\greenD","\\textcolor{##1fab54}{#1}");defineMacro("\\greenE","\\textcolor{##0d923f}{#1}");defineMacro("\\goldA","\\textcolor{##ffd0a9}{#1}");defineMacro("\\goldB","\\textcolor{##ffbb71}{#1}");defineMacro("\\goldC","\\textcolor{##ff9c39}{#1}");defineMacro("\\goldD","\\textcolor{##e07d10}{#1}");defineMacro("\\goldE","\\textcolor{##a75a05}{#1}");defineMacro("\\redA","\\textcolor{##fca9a9}{#1}");defineMacro("\\redB","\\textcolor{##ff8482}{#1}");defineMacro("\\redC","\\textcolor{##f9685d}{#1}");defineMacro("\\redD","\\textcolor{##e84d39}{#1}");defineMacro("\\redE","\\textcolor{##bc2612}{#1}");defineMacro("\\maroonA","\\textcolor{##ffbde0}{#1}");defineMacro("\\maroonB","\\textcolor{##ff92c6}{#1}");defineMacro("\\maroonC","\\textcolor{##ed5fa6}{#1}");defineMacro("\\maroonD","\\textcolor{##ca337c}{#1}");defineMacro("\\maroonE","\\textcolor{##9e034e}{#1}");defineMacro("\\purpleA","\\textcolor{##ddd7ff}{#1}");defineMacro("\\purpleB","\\textcolor{##c6b9fc}{#1}");defineMacro("\\purpleC","\\textcolor{##aa87ff}{#1}");defineMacro("\\purpleD","\\textcolor{##7854ab}{#1}");defineMacro("\\purpleE","\\textcolor{##543b78}{#1}");defineMacro("\\mintA","\\textcolor{##f5f9e8}{#1}");defineMacro("\\mintB","\\textcolor{##edf2df}{#1}");defineMacro("\\mintC","\\textcolor{##e0e5cc}{#1}");defineMacro("\\grayA","\\textcolor{##f6f7f7}{#1}");defineMacro("\\grayB","\\textcolor{##f0f1f2}{#1}");defineMacro("\\grayC","\\textcolor{##e3e5e6}{#1}");defineMacro("\\grayD","\\textcolor{##d6d8da}{#1}");defineMacro("\\grayE","\\textcolor{##babec2}{#1}");defineMacro("\\grayF","\\textcolor{##888d93}{#1}");defineMacro("\\grayG","\\textcolor{##626569}{#1}");defineMacro("\\grayH","\\textcolor{##3b3e40}{#1}");defineMacro("\\grayI","\\textcolor{##21242c}{#1}");defineMacro("\\kaBlue","\\textcolor{##314453}{#1}");defineMacro("\\kaGreen","\\textcolor{##71B307}{#1}");var implicitCommands={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MacroExpander{constructor(o,a,c){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=a,this.expansionCount=0,this.feed(o),this.macros=new Namespace(macros,a.macros),this.mode=c,this.stack=[]}feed(o){this.lexer=new Lexer(o,this.settings)}switchMode(o){this.mode=o}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(o){this.stack.push(o)}pushTokens(o){this.stack.push(...o)}scanArgument(o){var a,c,d;if(o){if(this.consumeSpaces(),this.future().text!=="[")return null;a=this.popToken(),{tokens:d,end:c}=this.consumeArg(["]"])}else({tokens:d,start:a,end:c}=this.consumeArg());return this.pushToken(new Token("EOF",c.loc)),this.pushTokens(d),a.range(c,"")}consumeSpaces(){for(;;){var o=this.future();if(o.text===" ")this.stack.pop();else break}}consumeArg(o){var a=[],c=o&&o.length>0;c||this.consumeSpaces();var d=this.future(),g,b=0,_=0;do{if(g=this.popToken(),a.push(g),g.text==="{")++b;else if(g.text==="}"){if(--b,b===-1)throw new ParseError("Extra }",g)}else if(g.text==="EOF")throw new ParseError("Unexpected end of input in a macro argument, expected '"+(o&&c?o[_]:"}")+"'",g);if(o&&c)if((b===0||b===1&&o[_]==="{")&&g.text===o[_]){if(++_,_===o.length){a.splice(-_,_);break}}else _=0}while(b!==0||c);return d.text==="{"&&a[a.length-1].text==="}"&&(a.pop(),a.shift()),a.reverse(),{tokens:a,start:d,end:g}}consumeArgs(o,a){if(a){if(a.length!==o+1)throw new ParseError("The length of delimiters doesn't match the number of args!");for(var c=a[0],d=0;d<c.length;d++){var g=this.popToken();if(c[d]!==g.text)throw new ParseError("Use of the macro doesn't match its definition",g)}}for(var b=[],_=0;_<o;_++)b.push(this.consumeArg(a&&a[_+1]).tokens);return b}countExpansion(o){if(this.expansionCount+=o,this.expansionCount>this.settings.maxExpand)throw new ParseError("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(o){var a=this.popToken(),c=a.text,d=a.noexpand?null:this._getExpansion(c);if(d==null||o&&d.unexpandable){if(o&&d==null&&c[0]==="\\"&&!this.isDefined(c))throw new ParseError("Undefined control sequence: "+c);return this.pushToken(a),!1}this.countExpansion(1);var g=d.tokens,b=this.consumeArgs(d.numArgs,d.delimiters);if(d.numArgs){g=g.slice();for(var _=g.length-1;_>=0;--_){var $=g[_];if($.text==="#"){if(_===0)throw new ParseError("Incomplete placeholder at end of macro body",$);if($=g[--_],$.text==="#")g.splice(_+1,1);else if(/^[1-9]$/.test($.text))g.splice(_,2,...b[+$.text-1]);else throw new ParseError("Not a valid argument number",$)}}}return this.pushTokens(g),g.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var o=this.stack.pop();return o.treatAsRelax&&(o.text="\\relax"),o}throw new Error}expandMacro(o){return this.macros.has(o)?this.expandTokens([new Token(o)]):void 0}expandTokens(o){var a=[],c=this.stack.length;for(this.pushTokens(o);this.stack.length>c;)if(this.expandOnce(!0)===!1){var d=this.stack.pop();d.treatAsRelax&&(d.noexpand=!1,d.treatAsRelax=!1),a.push(d)}return this.countExpansion(a.length),a}expandMacroAsText(o){var a=this.expandMacro(o);return a&&a.map(c=>c.text).join("")}_getExpansion(o){var a=this.macros.get(o);if(a==null)return a;if(o.length===1){var c=this.lexer.catcodes[o];if(c!=null&&c!==13)return}var d=typeof a=="function"?a(this):a;if(typeof d=="string"){var g=0;if(d.indexOf("#")!==-1)for(var b=d.replace(/##/g,"");b.indexOf("#"+(g+1))!==-1;)++g;for(var _=new Lexer(d,this.settings),$=[],j=_.lex();j.text!=="EOF";)$.push(j),j=_.lex();$.reverse();var rt={tokens:$,numArgs:g};return rt}return d}isDefined(o){return this.macros.has(o)||functions.hasOwnProperty(o)||symbols.math.hasOwnProperty(o)||symbols.text.hasOwnProperty(o)||implicitCommands.hasOwnProperty(o)}isExpandable(o){var a=this.macros.get(o);return a!=null?typeof a=="string"||typeof a=="function"||!a.unexpandable:functions.hasOwnProperty(o)&&!functions[o].primitive}}var unicodeSubRegEx=/^[]/,uSubsAndSups=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),unicodeAccents={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},unicodeSymbols={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Parser{constructor(o,a){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MacroExpander(o,a,this.mode),this.settings=a,this.leftrightDepth=0}expect(o,a){if(a===void 0&&(a=!0),this.fetch().text!==o)throw new ParseError("Expected '"+o+"', got '"+this.fetch().text+"'",this.fetch());a&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(o){this.mode=o,this.gullet.switchMode(o)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var o=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),o}finally{this.gullet.endGroups()}}subparse(o){var a=this.nextToken;this.consume(),this.gullet.pushToken(new Token("}")),this.gullet.pushTokens(o);var c=this.parseExpression(!1);return this.expect("}"),this.nextToken=a,c}parseExpression(o,a){for(var c=[];;){this.mode==="math"&&this.consumeSpaces();var d=this.fetch();if(Parser.endOfExpression.indexOf(d.text)!==-1||a&&d.text===a||o&&functions[d.text]&&functions[d.text].infix)break;var g=this.parseAtom(a);if(g){if(g.type==="internal")continue}else break;c.push(g)}return this.mode==="text"&&this.formLigatures(c),this.handleInfixNodes(c)}handleInfixNodes(o){for(var a=-1,c,d=0;d<o.length;d++)if(o[d].type==="infix"){if(a!==-1)throw new ParseError("only one infix operator per group",o[d].token);a=d,c=o[d].replaceWith}if(a!==-1&&c){var g,b,_=o.slice(0,a),$=o.slice(a+1);_.length===1&&_[0].type==="ordgroup"?g=_[0]:g={type:"ordgroup",mode:this.mode,body:_},$.length===1&&$[0].type==="ordgroup"?b=$[0]:b={type:"ordgroup",mode:this.mode,body:$};var j;return c==="\\\\abovefrac"?j=this.callFunction(c,[g,o[a],b],[]):j=this.callFunction(c,[g,b],[]),[j]}else return o}handleSupSubscript(o){var a=this.fetch(),c=a.text;this.consume(),this.consumeSpaces();var d;do{var g;d=this.parseGroup(o)}while(((g=d)==null?void 0:g.type)==="internal");if(!d)throw new ParseError("Expected group after '"+c+"'",a);return d}formatUnsupportedCmd(o){for(var a=[],c=0;c<o.length;c++)a.push({type:"textord",mode:"text",text:o[c]});var d={type:"text",mode:this.mode,body:a},g={type:"color",mode:this.mode,color:this.settings.errorColor,body:[d]};return g}parseAtom(o){var a=this.parseGroup("atom",o);if((a==null?void 0:a.type)==="internal"||this.mode==="text")return a;for(var c,d;;){this.consumeSpaces();var g=this.fetch();if(g.text==="\\limits"||g.text==="\\nolimits"){if(a&&a.type==="op"){var b=g.text==="\\limits";a.limits=b,a.alwaysHandleSupSub=!0}else if(a&&a.type==="operatorname")a.alwaysHandleSupSub&&(a.limits=g.text==="\\limits");else throw new ParseError("Limit controls must follow a math operator",g);this.consume()}else if(g.text==="^"){if(c)throw new ParseError("Double superscript",g);c=this.handleSupSubscript("superscript")}else if(g.text==="_"){if(d)throw new ParseError("Double subscript",g);d=this.handleSupSubscript("subscript")}else if(g.text==="'"){if(c)throw new ParseError("Double superscript",g);var _={type:"textord",mode:this.mode,text:"\\prime"},$=[_];for(this.consume();this.fetch().text==="'";)$.push(_),this.consume();this.fetch().text==="^"&&$.push(this.handleSupSubscript("superscript")),c={type:"ordgroup",mode:this.mode,body:$}}else if(uSubsAndSups[g.text]){var j=unicodeSubRegEx.test(g.text),rt=[];for(rt.push(new Token(uSubsAndSups[g.text])),this.consume();;){var nt=this.fetch().text;if(!uSubsAndSups[nt]||unicodeSubRegEx.test(nt)!==j)break;rt.unshift(new Token(uSubsAndSups[nt])),this.consume()}var st=this.subparse(rt);j?d={type:"ordgroup",mode:"math",body:st}:c={type:"ordgroup",mode:"math",body:st}}else break}return c||d?{type:"supsub",mode:this.mode,base:a,sup:c,sub:d}:a}parseFunction(o,a){var c=this.fetch(),d=c.text,g=functions[d];if(!g)return null;if(this.consume(),a&&a!=="atom"&&!g.allowedInArgument)throw new ParseError("Got function '"+d+"' with no arguments"+(a?" as "+a:""),c);if(this.mode==="text"&&!g.allowedInText)throw new ParseError("Can't use function '"+d+"' in text mode",c);if(this.mode==="math"&&g.allowedInMath===!1)throw new ParseError("Can't use function '"+d+"' in math mode",c);var{args:b,optArgs:_}=this.parseArguments(d,g);return this.callFunction(d,b,_,c,o)}callFunction(o,a,c,d,g){var b={funcName:o,parser:this,token:d,breakOnTokenText:g},_=functions[o];if(_&&_.handler)return _.handler(b,a,c);throw new ParseError("No function handler for "+o)}parseArguments(o,a){var c=a.numArgs+a.numOptionalArgs;if(c===0)return{args:[],optArgs:[]};for(var d=[],g=[],b=0;b<c;b++){var _=a.argTypes&&a.argTypes[b],$=b<a.numOptionalArgs;(a.primitive&&_==null||a.type==="sqrt"&&b===1&&g[0]==null)&&(_="primitive");var j=this.parseGroupOfType("argument to '"+o+"'",_,$);if($)g.push(j);else if(j!=null)d.push(j);else throw new ParseError("Null argument, please report this as a bug")}return{args:d,optArgs:g}}parseGroupOfType(o,a,c){switch(a){case"color":return this.parseColorGroup(c);case"size":return this.parseSizeGroup(c);case"url":return this.parseUrlGroup(c);case"math":case"text":return this.parseArgumentGroup(c,a);case"hbox":{var d=this.parseArgumentGroup(c,"text");return d!=null?{type:"styling",mode:d.mode,body:[d],style:"text"}:null}case"raw":{var g=this.parseStringGroup("raw",c);return g!=null?{type:"raw",mode:"text",string:g.text}:null}case"primitive":{if(c)throw new ParseError("A primitive argument cannot be optional");var b=this.parseGroup(o);if(b==null)throw new ParseError("Expected group as "+o,this.fetch());return b}case"original":case null:case void 0:return this.parseArgumentGroup(c);default:throw new ParseError("Unknown group type as "+o,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(o,a){var c=this.gullet.scanArgument(a);if(c==null)return null;for(var d="",g;(g=this.fetch()).text!=="EOF";)d+=g.text,this.consume();return this.consume(),c.text=d,c}parseRegexGroup(o,a){for(var c=this.fetch(),d=c,g="",b;(b=this.fetch()).text!=="EOF"&&o.test(g+b.text);)d=b,g+=d.text,this.consume();if(g==="")throw new ParseError("Invalid "+a+": '"+c.text+"'",c);return c.range(d,g)}parseColorGroup(o){var a=this.parseStringGroup("color",o);if(a==null)return null;var c=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(a.text);if(!c)throw new ParseError("Invalid color: '"+a.text+"'",a);var d=c[0];return/^[0-9a-f]{6}$/i.test(d)&&(d="#"+d),{type:"color-token",mode:this.mode,color:d}}parseSizeGroup(o){var a,c=!1;if(this.gullet.consumeSpaces(),!o&&this.gullet.future().text!=="{"?a=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):a=this.parseStringGroup("size",o),!a)return null;!o&&a.text.length===0&&(a.text="0pt",c=!0);var d=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(a.text);if(!d)throw new ParseError("Invalid size: '"+a.text+"'",a);var g={number:+(d[1]+d[2]),unit:d[3]};if(!validUnit(g))throw new ParseError("Invalid unit: '"+g.unit+"'",a);return{type:"size",mode:this.mode,value:g,isBlank:c}}parseUrlGroup(o){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var a=this.parseStringGroup("url",o);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),a==null)return null;var c=a.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:c}}parseArgumentGroup(o,a){var c=this.gullet.scanArgument(o);if(c==null)return null;var d=this.mode;a&&this.switchMode(a),this.gullet.beginGroup();var g=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var b={type:"ordgroup",mode:this.mode,loc:c.loc,body:g};return a&&this.switchMode(d),b}parseGroup(o,a){var c=this.fetch(),d=c.text,g;if(d==="{"||d==="\\begingroup"){this.consume();var b=d==="{"?"}":"\\endgroup";this.gullet.beginGroup();var _=this.parseExpression(!1,b),$=this.fetch();this.expect(b),this.gullet.endGroup(),g={type:"ordgroup",mode:this.mode,loc:SourceLocation.range(c,$),body:_,semisimple:d==="\\begingroup"||void 0}}else if(g=this.parseFunction(a,o)||this.parseSymbol(),g==null&&d[0]==="\\"&&!implicitCommands.hasOwnProperty(d)){if(this.settings.throwOnError)throw new ParseError("Undefined control sequence: "+d,c);g=this.formatUnsupportedCmd(d),this.consume()}return g}formLigatures(o){for(var a=o.length-1,c=0;c<a;++c){var d=o[c],g=d.text;g==="-"&&o[c+1].text==="-"&&(c+1<a&&o[c+2].text==="-"?(o.splice(c,3,{type:"textord",mode:"text",loc:SourceLocation.range(d,o[c+2]),text:"---"}),a-=2):(o.splice(c,2,{type:"textord",mode:"text",loc:SourceLocation.range(d,o[c+1]),text:"--"}),a-=1)),(g==="'"||g==="`")&&o[c+1].text===g&&(o.splice(c,2,{type:"textord",mode:"text",loc:SourceLocation.range(d,o[c+1]),text:g+g}),a-=1)}}parseSymbol(){var o=this.fetch(),a=o.text;if(/^\\verb[^a-zA-Z]/.test(a)){this.consume();var c=a.slice(5),d=c.charAt(0)==="*";if(d&&(c=c.slice(1)),c.length<2||c.charAt(0)!==c.slice(-1))throw new ParseError(`\\verb assertion failed --
                    please report what input caused this bug`);return c=c.slice(1,-1),{type:"verb",mode:"text",body:c,star:d}}unicodeSymbols.hasOwnProperty(a[0])&&!symbols[this.mode][a[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+a[0]+'" used in math mode',o),a=unicodeSymbols[a[0]]+a.slice(1));var g=combiningDiacriticalMarksEndRegex.exec(a);g&&(a=a.substring(0,g.index),a==="i"?a="":a==="j"&&(a=""));var b;if(symbols[this.mode][a]){this.settings.strict&&this.mode==="math"&&extraLatin.indexOf(a)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+a[0]+'" used in math mode',o);var _=symbols[this.mode][a].group,$=SourceLocation.range(o),j;if(ATOMS.hasOwnProperty(_)){var rt=_;j={type:"atom",mode:this.mode,family:rt,loc:$,text:a}}else j={type:_,mode:this.mode,loc:$,text:a};b=j}else if(a.charCodeAt(0)>=128)this.settings.strict&&(supportedCodepoint(a.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+a[0]+'" used in math mode',o):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+a[0]+'"'+(" ("+a.charCodeAt(0)+")"),o)),b={type:"textord",mode:"text",loc:SourceLocation.range(o),text:a};else return null;if(this.consume(),g)for(var nt=0;nt<g[0].length;nt++){var st=g[0][nt];if(!unicodeAccents[st])throw new ParseError("Unknown accent ' "+st+"'",o);var jt=unicodeAccents[st][this.mode]||unicodeAccents[st].text;if(!jt)throw new ParseError("Accent "+st+" unsupported in "+this.mode+" mode",o);b={type:"accent",mode:this.mode,loc:SourceLocation.range(o),label:jt,isStretchy:!1,isShifty:!0,base:b}}return b}}Parser.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var parseTree=function e(o,a){if(!(typeof o=="string"||o instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var c=new Parser(o,a);delete c.gullet.macros.current["\\df@tag"];var d=c.parse();if(delete c.gullet.macros.current["\\current@color"],delete c.gullet.macros.current["\\color"],c.gullet.macros.get("\\df@tag")){if(!a.displayMode)throw new ParseError("\\tag works only in display equations");d=[{type:"tag",mode:"text",body:d,tag:c.subparse([new Token("\\df@tag")])}]}return d},render=function e(o,a,c){a.textContent="";var d=renderToDomTree(o,c).toNode();a.appendChild(d)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),render=function(){throw new ParseError("KaTeX doesn't work in quirks mode.")});var renderToString=function e(o,a){var c=renderToDomTree(o,a).toMarkup();return c},generateParseTree=function e(o,a){var c=new Settings(a);return parseTree(o,c)},renderError=function e(o,a,c){if(c.throwOnError||!(o instanceof ParseError))throw o;var d=buildCommon.makeSpan(["katex-error"],[new SymbolNode(a)]);return d.setAttribute("title",o.toString()),d.setAttribute("style","color:"+c.errorColor),d},renderToDomTree=function e(o,a){var c=new Settings(a);try{var d=parseTree(o,c);return buildTree(d,o,c)}catch(g){return renderError(g,o,c)}},renderToHTMLTree=function e(o,a){var c=new Settings(a);try{var d=parseTree(o,c);return buildHTMLTree(d,o,c)}catch(g){return renderError(g,o,c)}},version="0.16.22",__domTree={Span,Anchor,SymbolNode,SvgNode,PathNode,LineNode},katex={version,render,renderToString,ParseError,SETTINGS_SCHEMA,__parse:generateParseTree,__renderToDomTree:renderToDomTree,__renderToHTMLTree:renderToHTMLTree,__setFontMetrics:setFontMetrics,__defineSymbol:defineSymbol,__defineFunction:defineFunction,__defineMacro:defineMacro,__domTree};const emptyOptions$2={};function remarkMath(e){const o=this,a=e||emptyOptions$2,c=o.data(),d=c.micromarkExtensions||(c.micromarkExtensions=[]),g=c.fromMarkdownExtensions||(c.fromMarkdownExtensions=[]),b=c.toMarkdownExtensions||(c.toMarkdownExtensions=[]);d.push(math$1(a)),g.push(mathFromMarkdown()),b.push(mathToMarkdown(a))}const search=/[#.]/g;function parseSelector(e,o){const a=e||"",c={};let d=0,g,b;for(;d<a.length;){search.lastIndex=d;const _=search.exec(a),$=a.slice(d,_?_.index:a.length);$&&(g?g==="#"?c.id=$:Array.isArray(c.className)?c.className.push($):c.className=[$]:b=$,d+=$.length),_&&(g=_[0],d++)}return{type:"element",tagName:b||o||"div",properties:c,children:[]}}function createH(e,o,a){const c=a?createAdjustMap(a):void 0;function d(g,b,..._){let $;if(g==null){$={type:"root",children:[]};const j=b;_.unshift(j)}else{$=parseSelector(g,o);const j=$.tagName.toLowerCase(),rt=c?c.get(j):void 0;if($.tagName=rt||j,isChild(b))_.unshift(b);else for(const[nt,st]of Object.entries(b))addProperty(e,$.properties,nt,st)}for(const j of _)addChild($.children,j);return $.type==="element"&&$.tagName==="template"&&($.content={type:"root",children:$.children},$.children=[]),$}return d}function isChild(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const o=e,a=Object.keys(e);for(const c of a){const d=o[c];if(d&&typeof d=="object"){if(!Array.isArray(d))return!0;const g=d;for(const b of g)if(typeof b!="number"&&typeof b!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function addProperty(e,o,a,c){const d=find(e,a);let g;if(c!=null){if(typeof c=="number"){if(Number.isNaN(c))return;g=c}else typeof c=="boolean"?g=c:typeof c=="string"?d.spaceSeparated?g=parse$1(c):d.commaSeparated?g=parse$2(c):d.commaOrSpaceSeparated?g=parse$1(parse$2(c).join(" ")):g=parsePrimitive(d,d.property,c):Array.isArray(c)?g=[...c]:g=d.property==="style"?style(c):String(c);if(Array.isArray(g)){const b=[];for(const _ of g)b.push(parsePrimitive(d,d.property,_));g=b}d.property==="className"&&Array.isArray(o.className)&&(g=o.className.concat(g)),o[d.property]=g}}function addChild(e,o){if(o!=null)if(typeof o=="number"||typeof o=="string")e.push({type:"text",value:String(o)});else if(Array.isArray(o))for(const a of o)addChild(e,a);else if(typeof o=="object"&&"type"in o)o.type==="root"?addChild(e,o.children):e.push(o);else throw new Error("Expected node, nodes, or string, got `"+o+"`")}function parsePrimitive(e,o,a){if(typeof a=="string"){if(e.number&&a&&!Number.isNaN(Number(a)))return Number(a);if((e.boolean||e.overloadedBoolean)&&(a===""||normalize$1(a)===normalize$1(o)))return!0}return a}function style(e){const o=[];for(const[a,c]of Object.entries(e))o.push([a,c].join(": "));return o.join("; ")}function createAdjustMap(e){const o=new Map;for(const a of e)o.set(a.toLowerCase(),a);return o}const svgCaseSensitiveTagNames=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],h=createH(html$2,"div"),s=createH(svg,"g",svgCaseSensitiveTagNames),webNamespaces={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function fromDom(e,o){return transform(e,{})||{type:"root",children:[]}}function transform(e,o){const a=one(e,o);return a&&o.afterTransform&&o.afterTransform(e,a),a}function one(e,o){switch(e.nodeType){case 1:return element$1(e,o);case 3:return text$2(e);case 8:return comment(e);case 9:return root$1(e,o);case 10:return doctype();case 11:return root$1(e,o);default:return}}function root$1(e,o){return{type:"root",children:all(e,o)}}function doctype(){return{type:"doctype"}}function text$2(e){return{type:"text",value:e.nodeValue||""}}function comment(e){return{type:"comment",value:e.nodeValue||""}}function element$1(e,o){const a=e.namespaceURI,c=a===webNamespaces.svg?s:h,d=a===webNamespaces.html?e.tagName.toLowerCase():e.tagName,g=a===webNamespaces.html&&d==="template"?e.content:e,b=e.getAttributeNames(),_={};let $=-1;for(;++$<b.length;)_[b[$]]=e.getAttribute(b[$])||"";return c(d,_,all(g,o))}function all(e,o){const a=e.childNodes,c=[];let d=-1;for(;++d<a.length;){const g=transform(a[d],o);g!==void 0&&c.push(g)}return c}new DOMParser;function fromHtmlIsomorphic(e,o){const a=parseFragment(e);return fromDom(a)}function parseFragment(e){const o=document.createElement("template");return o.innerHTML=e,o.content}const findAfter=function(e,o,a){const c=convert(a);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof o=="number"){if(o<0||o===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(o=e.children.indexOf(o),o<0)throw new Error("Expected child node or index");for(;++o<e.children.length;)if(c(e.children[o],o,e))return e.children[o]},convertElement=function(e){if(e==null)return element;if(typeof e=="string")return tagNameFactory(e);if(typeof e=="object")return anyFactory(e);if(typeof e=="function")return castFactory(e);throw new Error("Expected function, string, or array as `test`")};function anyFactory(e){const o=[];let a=-1;for(;++a<e.length;)o[a]=convertElement(e[a]);return castFactory(c);function c(...d){let g=-1;for(;++g<o.length;)if(o[g].apply(this,d))return!0;return!1}}function tagNameFactory(e){return castFactory(o);function o(a){return a.tagName===e}}function castFactory(e){return o;function o(a,c,d){return!!(looksLikeAnElement(a)&&e.call(this,a,typeof c=="number"?c:void 0,d||void 0))}}function element(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function looksLikeAnElement(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const searchLineFeeds=/\n/g,searchTabOrSpaces=/[\t ]+/g,br=convertElement("br"),cell=convertElement(isCell),p=convertElement("p"),row=convertElement("tr"),notRendered=convertElement(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",hidden,closedDialog]),blockOrCaption=convertElement(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function toText(e,o){const a=o||{},c="children"in e?e.children:[],d=blockOrCaption(e),g=inferWhitespace(e,{whitespace:a.whitespace||"normal"}),b=[];(e.type==="text"||e.type==="comment")&&b.push(...collectText(e,{breakBefore:!0,breakAfter:!0}));let _=-1;for(;++_<c.length;)b.push(...renderedTextCollection(c[_],e,{whitespace:g,breakBefore:_?void 0:d,breakAfter:_<c.length-1?br(c[_+1]):d}));const $=[];let j;for(_=-1;++_<b.length;){const rt=b[_];typeof rt=="number"?j!==void 0&&rt>j&&(j=rt):rt&&(j!==void 0&&j>-1&&$.push(`
`.repeat(j)||" "),j=-1,$.push(rt))}return $.join("")}function renderedTextCollection(e,o,a){return e.type==="element"?collectElement(e,o,a):e.type==="text"?a.whitespace==="normal"?collectText(e,a):collectPreText(e):[]}function collectElement(e,o,a){const c=inferWhitespace(e,a),d=e.children||[];let g=-1,b=[];if(notRendered(e))return b;let _,$;for(br(e)||row(e)&&findAfter(o,e,row)?$=`
`:p(e)?(_=2,$=2):blockOrCaption(e)&&(_=1,$=1);++g<d.length;)b=b.concat(renderedTextCollection(d[g],e,{whitespace:c,breakBefore:g?void 0:_,breakAfter:g<d.length-1?br(d[g+1]):$}));return cell(e)&&findAfter(o,e,cell)&&b.push("	"),_&&b.unshift(_),$&&b.push($),b}function collectText(e,o){const a=String(e.value),c=[],d=[];let g=0;for(;g<=a.length;){searchLineFeeds.lastIndex=g;const $=searchLineFeeds.exec(a),j=$&&"index"in $?$.index:a.length;c.push(trimAndCollapseSpacesAndTabs(a.slice(g,j).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),g===0?o.breakBefore:!0,j===a.length?o.breakAfter:!0)),g=j+1}let b=-1,_;for(;++b<c.length;)c[b].charCodeAt(c[b].length-1)===8203||b<c.length-1&&c[b+1].charCodeAt(0)===8203?(d.push(c[b]),_=void 0):c[b]?(typeof _=="number"&&d.push(_),d.push(c[b]),_=0):(b===0||b===c.length-1)&&d.push(0);return d}function collectPreText(e){return[String(e.value)]}function trimAndCollapseSpacesAndTabs(e,o,a){const c=[];let d=0,g;for(;d<e.length;){searchTabOrSpaces.lastIndex=d;const b=searchTabOrSpaces.exec(e);g=b?b.index:e.length,!d&&!g&&b&&!o&&c.push(""),d!==g&&c.push(e.slice(d,g)),d=b?g+b[0].length:g}return d!==g&&!a&&c.push(""),c.join(" ")}function inferWhitespace(e,o){if(e.type==="element"){const a=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return a.wrap?"pre-wrap":"pre";case"td":case"th":return a.noWrap?"nowrap":o.whitespace;case"textarea":return"pre-wrap"}}return o.whitespace}function hidden(e){return!!(e.properties||{}).hidden}function isCell(e){return e.tagName==="td"||e.tagName==="th"}function closedDialog(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const emptyOptions$1={},emptyClasses=[];function rehypeKatex(e){const o=e||emptyOptions$1;return function(a,c){visitParents(a,"element",function(d,g){const b=Array.isArray(d.properties.className)?d.properties.className:emptyClasses,_=b.includes("language-math"),$=b.includes("math-display"),j=b.includes("math-inline");let rt=$;if(!_&&!$&&!j)return;let nt=g[g.length-1],st=d;if(d.tagName==="code"&&_&&nt&&nt.type==="element"&&nt.tagName==="pre"&&(st=nt,nt=g[g.length-2],rt=!0),!nt)return;const jt=toText(st,{whitespace:"pre"});let wl;try{wl=katex.renderToString(jt,{...o,displayMode:rt,throwOnError:!0})}catch(it){const ot=it,Ln=ot.name.toLowerCase();c.message("Could not render math with KaTeX",{ancestors:[...g,d],cause:ot,place:d.position,ruleId:Ln,source:"rehype-katex"});try{wl=katex.renderToString(jt,{...o,displayMode:rt,strict:"ignore",throwOnError:!1})}catch{wl=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(o.errorColor||"#cc0000"),title:String(it)},children:[{type:"text",value:jt}]}]}}typeof wl=="string"&&(wl=fromHtmlIsomorphic(wl).children);const Ft=nt.children.indexOf(st);return nt.children.splice(Ft,1,...wl),SKIP})}}function ccount(e,o){const a=String(e);if(typeof o!="string")throw new TypeError("Expected character");let c=0,d=a.indexOf(o);for(;d!==-1;)c++,d=a.indexOf(o,d+o.length);return c}function escapeStringRegexp(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function findAndReplace(e,o,a){const d=convert((a||{}).ignore||[]),g=toPairs(o);let b=-1;for(;++b<g.length;)visitParents(e,"text",_);function _(j,rt){let nt=-1,st;for(;++nt<rt.length;){const jt=rt[nt],wl=st?st.children:void 0;if(d(jt,wl?wl.indexOf(jt):void 0,st))return;st=jt}if(st)return $(j,rt)}function $(j,rt){const nt=rt[rt.length-1],st=g[b][0],jt=g[b][1];let wl=0;const it=nt.children.indexOf(j);let ot=!1,Ln=[];st.lastIndex=0;let Cl=st.exec(j.value);for(;Cl;){const Tl=Cl.index,zl={index:Cl.index,input:Cl.input,stack:[...rt,j]};let In=jt(...Cl,zl);if(typeof In=="string"&&(In=In.length>0?{type:"text",value:In}:void 0),In===!1?st.lastIndex=Tl+1:(wl!==Tl&&Ln.push({type:"text",value:j.value.slice(wl,Tl)}),Array.isArray(In)?Ln.push(...In):In&&Ln.push(In),wl=Tl+Cl[0].length,ot=!0),!st.global)break;Cl=st.exec(j.value)}return ot?(wl<j.value.length&&Ln.push({type:"text",value:j.value.slice(wl)}),nt.children.splice(it,1,...Ln)):Ln=[j],it+Ln.length}}function toPairs(e){const o=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const a=!e[0]||Array.isArray(e[0])?e:[e];let c=-1;for(;++c<a.length;){const d=a[c];o.push([toExpression(d[0]),toFunction(d[1])])}return o}function toExpression(e){return typeof e=="string"?new RegExp(escapeStringRegexp(e),"g"):e}function toFunction(e){return typeof e=="function"?e:function(){return e}}const inConstruct="phrasing",notInConstruct=["autolink","link","image","label"];function gfmAutolinkLiteralFromMarkdown(){return{transforms:[transformGfmAutolinkLiterals],enter:{literalAutolink:enterLiteralAutolink,literalAutolinkEmail:enterLiteralAutolinkValue,literalAutolinkHttp:enterLiteralAutolinkValue,literalAutolinkWww:enterLiteralAutolinkValue},exit:{literalAutolink:exitLiteralAutolink,literalAutolinkEmail:exitLiteralAutolinkEmail,literalAutolinkHttp:exitLiteralAutolinkHttp,literalAutolinkWww:exitLiteralAutolinkWww}}}function gfmAutolinkLiteralToMarkdown(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct,notInConstruct},{character:":",before:"[ps]",after:"\\/",inConstruct,notInConstruct}]}}function enterLiteralAutolink(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function enterLiteralAutolinkValue(e){this.config.enter.autolinkProtocol.call(this,e)}function exitLiteralAutolinkHttp(e){this.config.exit.autolinkProtocol.call(this,e)}function exitLiteralAutolinkWww(e){this.config.exit.data.call(this,e);const o=this.stack[this.stack.length-1];o.type,o.url="http://"+this.sliceSerialize(e)}function exitLiteralAutolinkEmail(e){this.config.exit.autolinkEmail.call(this,e)}function exitLiteralAutolink(e){this.exit(e)}function transformGfmAutolinkLiterals(e){findAndReplace(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,findUrl],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),findEmail]],{ignore:["link","linkReference"]})}function findUrl(e,o,a,c,d){let g="";if(!previous(d)||(/^w/i.test(o)&&(a=o+a,o="",g="http://"),!isCorrectDomain(a)))return!1;const b=splitUrl(a+c);if(!b[0])return!1;const _={type:"link",title:null,url:g+o+b[0],children:[{type:"text",value:o+b[0]}]};return b[1]?[_,{type:"text",value:b[1]}]:_}function findEmail(e,o,a,c){return!previous(c,!0)||/[-\d_]$/.test(a)?!1:{type:"link",title:null,url:"mailto:"+o+"@"+a,children:[{type:"text",value:o+"@"+a}]}}function isCorrectDomain(e){const o=e.split(".");return!(o.length<2||o[o.length-1]&&(/_/.test(o[o.length-1])||!/[a-zA-Z\d]/.test(o[o.length-1]))||o[o.length-2]&&(/_/.test(o[o.length-2])||!/[a-zA-Z\d]/.test(o[o.length-2])))}function splitUrl(e){const o=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!o)return[e,void 0];e=e.slice(0,o.index);let a=o[0],c=a.indexOf(")");const d=ccount(e,"(");let g=ccount(e,")");for(;c!==-1&&d>g;)e+=a.slice(0,c+1),a=a.slice(c+1),c=a.indexOf(")"),g++;return[e,a]}function previous(e,o){const a=e.input.charCodeAt(e.index-1);return(e.index===0||unicodeWhitespace(a)||unicodePunctuation(a))&&(!o||a!==47)}footnoteReference$1.peek=footnoteReferencePeek$1;function enterFootnoteCallString$1(){this.buffer()}function enterFootnoteCall$1(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function enterFootnoteDefinitionLabelString$1(){this.buffer()}function enterFootnoteDefinition$1(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function exitFootnoteCallString$1(e){const o=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=normalizeIdentifier$2(this.sliceSerialize(e)).toLowerCase(),a.label=o}function exitFootnoteCall$1(e){this.exit(e)}function exitFootnoteDefinitionLabelString$1(e){const o=this.resume(),a=this.stack[this.stack.length-1];a.type,a.identifier=normalizeIdentifier$2(this.sliceSerialize(e)).toLowerCase(),a.label=o}function exitFootnoteDefinition$1(e){this.exit(e)}function footnoteReferencePeek$1(){return"["}function footnoteReference$1(e,o,a,c){const d=a.createTracker(c);let g=d.move("[^");const b=a.enter("footnoteReference"),_=a.enter("reference");return g+=d.move(a.safe(a.associationId(e),{after:"]",before:g})),_(),b(),g+=d.move("]"),g}function gfmFootnoteFromMarkdown(){return{enter:{gfmFootnoteCallString:enterFootnoteCallString$1,gfmFootnoteCall:enterFootnoteCall$1,gfmFootnoteDefinitionLabelString:enterFootnoteDefinitionLabelString$1,gfmFootnoteDefinition:enterFootnoteDefinition$1},exit:{gfmFootnoteCallString:exitFootnoteCallString$1,gfmFootnoteCall:exitFootnoteCall$1,gfmFootnoteDefinitionLabelString:exitFootnoteDefinitionLabelString$1,gfmFootnoteDefinition:exitFootnoteDefinition$1}}}function gfmFootnoteToMarkdown(e){let o=!1;return e&&e.firstLineBlank&&(o=!0),{handlers:{footnoteDefinition:a,footnoteReference:footnoteReference$1},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function a(c,d,g,b){const _=g.createTracker(b);let $=_.move("[^");const j=g.enter("footnoteDefinition"),rt=g.enter("label");return $+=_.move(g.safe(g.associationId(c),{before:$,after:"]"})),rt(),$+=_.move("]:"),c.children&&c.children.length>0&&(_.shift(4),$+=_.move((o?`
`:" ")+g.indentLines(g.containerFlow(c,_.current()),o?mapAll:mapExceptFirst))),j(),$}}function mapExceptFirst(e,o,a){return o===0?e:mapAll(e,o,a)}function mapAll(e,o,a){return(a?"":"    ")+e}const constructsWithoutStrikethrough=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];handleDelete.peek=peekDelete;function gfmStrikethroughFromMarkdown(){return{canContainEols:["delete"],enter:{strikethrough:enterStrikethrough},exit:{strikethrough:exitStrikethrough}}}function gfmStrikethroughToMarkdown(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:constructsWithoutStrikethrough}],handlers:{delete:handleDelete}}}function enterStrikethrough(e){this.enter({type:"delete",children:[]},e)}function exitStrikethrough(e){this.exit(e)}function handleDelete(e,o,a,c){const d=a.createTracker(c),g=a.enter("strikethrough");let b=d.move("~~");return b+=a.containerPhrasing(e,{...d.current(),before:b,after:"~"}),b+=d.move("~~"),g(),b}function peekDelete(){return"~"}function defaultStringLength(e){return e.length}function markdownTable(e,o){const a=o||{},c=(a.align||[]).concat(),d=a.stringLength||defaultStringLength,g=[],b=[],_=[],$=[];let j=0,rt=-1;for(;++rt<e.length;){const Ft=[],it=[];let ot=-1;for(e[rt].length>j&&(j=e[rt].length);++ot<e[rt].length;){const Ln=serialize(e[rt][ot]);if(a.alignDelimiters!==!1){const Cl=d(Ln);it[ot]=Cl,($[ot]===void 0||Cl>$[ot])&&($[ot]=Cl)}Ft.push(Ln)}b[rt]=Ft,_[rt]=it}let nt=-1;if(typeof c=="object"&&"length"in c)for(;++nt<j;)g[nt]=toAlignment(c[nt]);else{const Ft=toAlignment(c);for(;++nt<j;)g[nt]=Ft}nt=-1;const st=[],jt=[];for(;++nt<j;){const Ft=g[nt];let it="",ot="";Ft===99?(it=":",ot=":"):Ft===108?it=":":Ft===114&&(ot=":");let Ln=a.alignDelimiters===!1?1:Math.max(1,$[nt]-it.length-ot.length);const Cl=it+"-".repeat(Ln)+ot;a.alignDelimiters!==!1&&(Ln=it.length+Ln+ot.length,Ln>$[nt]&&($[nt]=Ln),jt[nt]=Ln),st[nt]=Cl}b.splice(1,0,st),_.splice(1,0,jt),rt=-1;const wl=[];for(;++rt<b.length;){const Ft=b[rt],it=_[rt];nt=-1;const ot=[];for(;++nt<j;){const Ln=Ft[nt]||"";let Cl="",Tl="";if(a.alignDelimiters!==!1){const zl=$[nt]-(it[nt]||0),In=g[nt];In===114?Cl=" ".repeat(zl):In===99?zl%2?(Cl=" ".repeat(zl/2+.5),Tl=" ".repeat(zl/2-.5)):(Cl=" ".repeat(zl/2),Tl=Cl):Tl=" ".repeat(zl)}a.delimiterStart!==!1&&!nt&&ot.push("|"),a.padding!==!1&&!(a.alignDelimiters===!1&&Ln==="")&&(a.delimiterStart!==!1||nt)&&ot.push(" "),a.alignDelimiters!==!1&&ot.push(Cl),ot.push(Ln),a.alignDelimiters!==!1&&ot.push(Tl),a.padding!==!1&&ot.push(" "),(a.delimiterEnd!==!1||nt!==j-1)&&ot.push("|")}wl.push(a.delimiterEnd===!1?ot.join("").replace(/ +$/,""):ot.join(""))}return wl.join(`
`)}function serialize(e){return e==null?"":String(e)}function toAlignment(e){const o=typeof e=="string"?e.codePointAt(0):0;return o===67||o===99?99:o===76||o===108?108:o===82||o===114?114:0}function blockquote(e,o,a,c){const d=a.enter("blockquote"),g=a.createTracker(c);g.move("> "),g.shift(2);const b=a.indentLines(a.containerFlow(e,g.current()),map$1);return d(),b}function map$1(e,o,a){return">"+(a?"":" ")+e}function patternInScope$1(e,o){return listInScope$1(e,o.inConstruct,!0)&&!listInScope$1(e,o.notInConstruct,!1)}function listInScope$1(e,o,a){if(typeof o=="string"&&(o=[o]),!o||o.length===0)return a;let c=-1;for(;++c<o.length;)if(e.includes(o[c]))return!0;return!1}function hardBreak(e,o,a,c){let d=-1;for(;++d<a.unsafe.length;)if(a.unsafe[d].character===`
`&&patternInScope$1(a.stack,a.unsafe[d]))return/[ \t]/.test(c.before)?"":" ";return`\\
`}function formatCodeAsIndented(e,o){return!!(o.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function checkFence(e){const o=e.options.fence||"`";if(o!=="`"&&o!=="~")throw new Error("Cannot serialize code with `"+o+"` for `options.fence`, expected `` ` `` or `~`");return o}function code$1(e,o,a,c){const d=checkFence(a),g=e.value||"",b=d==="`"?"GraveAccent":"Tilde";if(formatCodeAsIndented(e,a)){const nt=a.enter("codeIndented"),st=a.indentLines(g,map);return nt(),st}const _=a.createTracker(c),$=d.repeat(Math.max(longestStreak(g,d)+1,3)),j=a.enter("codeFenced");let rt=_.move($);if(e.lang){const nt=a.enter(`codeFencedLang${b}`);rt+=_.move(a.safe(e.lang,{before:rt,after:" ",encode:["`"],..._.current()})),nt()}if(e.lang&&e.meta){const nt=a.enter(`codeFencedMeta${b}`);rt+=_.move(" "),rt+=_.move(a.safe(e.meta,{before:rt,after:`
`,encode:["`"],..._.current()})),nt()}return rt+=_.move(`
`),g&&(rt+=_.move(g+`
`)),rt+=_.move($),j(),rt}function map(e,o,a){return(a?"":"    ")+e}function checkQuote(e){const o=e.options.quote||'"';if(o!=='"'&&o!=="'")throw new Error("Cannot serialize title with `"+o+"` for `options.quote`, expected `\"`, or `'`");return o}function definition(e,o,a,c){const d=checkQuote(a),g=d==='"'?"Quote":"Apostrophe",b=a.enter("definition");let _=a.enter("label");const $=a.createTracker(c);let j=$.move("[");return j+=$.move(a.safe(a.associationId(e),{before:j,after:"]",...$.current()})),j+=$.move("]: "),_(),!e.url||/[\0- \u007F]/.test(e.url)?(_=a.enter("destinationLiteral"),j+=$.move("<"),j+=$.move(a.safe(e.url,{before:j,after:">",...$.current()})),j+=$.move(">")):(_=a.enter("destinationRaw"),j+=$.move(a.safe(e.url,{before:j,after:e.title?" ":`
`,...$.current()}))),_(),e.title&&(_=a.enter(`title${g}`),j+=$.move(" "+d),j+=$.move(a.safe(e.title,{before:j,after:d,...$.current()})),j+=$.move(d),_()),b(),j}function checkEmphasis(e){const o=e.options.emphasis||"*";if(o!=="*"&&o!=="_")throw new Error("Cannot serialize emphasis with `"+o+"` for `options.emphasis`, expected `*`, or `_`");return o}function encodeCharacterReference(e){return"&#x"+e.toString(16).toUpperCase()+";"}function encodeInfo(e,o,a){const c=classifyCharacter(e),d=classifyCharacter(o);return c===void 0?d===void 0?a==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:d===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:c===1?d===void 0?{inside:!1,outside:!1}:d===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:d===void 0?{inside:!1,outside:!1}:d===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}emphasis.peek=emphasisPeek;function emphasis(e,o,a,c){const d=checkEmphasis(a),g=a.enter("emphasis"),b=a.createTracker(c),_=b.move(d);let $=b.move(a.containerPhrasing(e,{after:d,before:_,...b.current()}));const j=$.charCodeAt(0),rt=encodeInfo(c.before.charCodeAt(c.before.length-1),j,d);rt.inside&&($=encodeCharacterReference(j)+$.slice(1));const nt=$.charCodeAt($.length-1),st=encodeInfo(c.after.charCodeAt(0),nt,d);st.inside&&($=$.slice(0,-1)+encodeCharacterReference(nt));const jt=b.move(d);return g(),a.attentionEncodeSurroundingInfo={after:st.outside,before:rt.outside},_+$+jt}function emphasisPeek(e,o,a){return a.options.emphasis||"*"}function formatHeadingAsSetext(e,o){let a=!1;return visit(e,function(c){if("value"in c&&/\r?\n|\r/.test(c.value)||c.type==="break")return a=!0,EXIT}),!!((!e.depth||e.depth<3)&&toString$1(e)&&(o.options.setext||a))}function heading(e,o,a,c){const d=Math.max(Math.min(6,e.depth||1),1),g=a.createTracker(c);if(formatHeadingAsSetext(e,a)){const rt=a.enter("headingSetext"),nt=a.enter("phrasing"),st=a.containerPhrasing(e,{...g.current(),before:`
`,after:`
`});return nt(),rt(),st+`
`+(d===1?"=":"-").repeat(st.length-(Math.max(st.lastIndexOf("\r"),st.lastIndexOf(`
`))+1))}const b="#".repeat(d),_=a.enter("headingAtx"),$=a.enter("phrasing");g.move(b+" ");let j=a.containerPhrasing(e,{before:"# ",after:`
`,...g.current()});return/^[\t ]/.test(j)&&(j=encodeCharacterReference(j.charCodeAt(0))+j.slice(1)),j=j?b+" "+j:b,a.options.closeAtx&&(j+=" "+b),$(),_(),j}html.peek=htmlPeek;function html(e){return e.value||""}function htmlPeek(){return"<"}image.peek=imagePeek;function image(e,o,a,c){const d=checkQuote(a),g=d==='"'?"Quote":"Apostrophe",b=a.enter("image");let _=a.enter("label");const $=a.createTracker(c);let j=$.move("![");return j+=$.move(a.safe(e.alt,{before:j,after:"]",...$.current()})),j+=$.move("]("),_(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(_=a.enter("destinationLiteral"),j+=$.move("<"),j+=$.move(a.safe(e.url,{before:j,after:">",...$.current()})),j+=$.move(">")):(_=a.enter("destinationRaw"),j+=$.move(a.safe(e.url,{before:j,after:e.title?" ":")",...$.current()}))),_(),e.title&&(_=a.enter(`title${g}`),j+=$.move(" "+d),j+=$.move(a.safe(e.title,{before:j,after:d,...$.current()})),j+=$.move(d),_()),j+=$.move(")"),b(),j}function imagePeek(){return"!"}imageReference.peek=imageReferencePeek;function imageReference(e,o,a,c){const d=e.referenceType,g=a.enter("imageReference");let b=a.enter("label");const _=a.createTracker(c);let $=_.move("![");const j=a.safe(e.alt,{before:$,after:"]",..._.current()});$+=_.move(j+"]["),b();const rt=a.stack;a.stack=[],b=a.enter("reference");const nt=a.safe(a.associationId(e),{before:$,after:"]",..._.current()});return b(),a.stack=rt,g(),d==="full"||!j||j!==nt?$+=_.move(nt+"]"):d==="shortcut"?$=$.slice(0,-1):$+=_.move("]"),$}function imageReferencePeek(){return"!"}inlineCode.peek=inlineCodePeek;function inlineCode(e,o,a){let c=e.value||"",d="`",g=-1;for(;new RegExp("(^|[^`])"+d+"([^`]|$)").test(c);)d+="`";for(/[^ \r\n]/.test(c)&&(/^[ \r\n]/.test(c)&&/[ \r\n]$/.test(c)||/^`|`$/.test(c))&&(c=" "+c+" ");++g<a.unsafe.length;){const b=a.unsafe[g],_=a.compilePattern(b);let $;if(b.atBreak)for(;$=_.exec(c);){let j=$.index;c.charCodeAt(j)===10&&c.charCodeAt(j-1)===13&&j--,c=c.slice(0,j)+" "+c.slice($.index+1)}}return d+c+d}function inlineCodePeek(){return"`"}function formatLinkAsAutolink(e,o){const a=toString$1(e);return!!(!o.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(a===e.url||"mailto:"+a===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}link.peek=linkPeek;function link(e,o,a,c){const d=checkQuote(a),g=d==='"'?"Quote":"Apostrophe",b=a.createTracker(c);let _,$;if(formatLinkAsAutolink(e,a)){const rt=a.stack;a.stack=[],_=a.enter("autolink");let nt=b.move("<");return nt+=b.move(a.containerPhrasing(e,{before:nt,after:">",...b.current()})),nt+=b.move(">"),_(),a.stack=rt,nt}_=a.enter("link"),$=a.enter("label");let j=b.move("[");return j+=b.move(a.containerPhrasing(e,{before:j,after:"](",...b.current()})),j+=b.move("]("),$(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?($=a.enter("destinationLiteral"),j+=b.move("<"),j+=b.move(a.safe(e.url,{before:j,after:">",...b.current()})),j+=b.move(">")):($=a.enter("destinationRaw"),j+=b.move(a.safe(e.url,{before:j,after:e.title?" ":")",...b.current()}))),$(),e.title&&($=a.enter(`title${g}`),j+=b.move(" "+d),j+=b.move(a.safe(e.title,{before:j,after:d,...b.current()})),j+=b.move(d),$()),j+=b.move(")"),_(),j}function linkPeek(e,o,a){return formatLinkAsAutolink(e,a)?"<":"["}linkReference.peek=linkReferencePeek;function linkReference(e,o,a,c){const d=e.referenceType,g=a.enter("linkReference");let b=a.enter("label");const _=a.createTracker(c);let $=_.move("[");const j=a.containerPhrasing(e,{before:$,after:"]",..._.current()});$+=_.move(j+"]["),b();const rt=a.stack;a.stack=[],b=a.enter("reference");const nt=a.safe(a.associationId(e),{before:$,after:"]",..._.current()});return b(),a.stack=rt,g(),d==="full"||!j||j!==nt?$+=_.move(nt+"]"):d==="shortcut"?$=$.slice(0,-1):$+=_.move("]"),$}function linkReferencePeek(){return"["}function checkBullet(e){const o=e.options.bullet||"*";if(o!=="*"&&o!=="+"&&o!=="-")throw new Error("Cannot serialize items with `"+o+"` for `options.bullet`, expected `*`, `+`, or `-`");return o}function checkBulletOther(e){const o=checkBullet(e),a=e.options.bulletOther;if(!a)return o==="*"?"-":"*";if(a!=="*"&&a!=="+"&&a!=="-")throw new Error("Cannot serialize items with `"+a+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(a===o)throw new Error("Expected `bullet` (`"+o+"`) and `bulletOther` (`"+a+"`) to be different");return a}function checkBulletOrdered(e){const o=e.options.bulletOrdered||".";if(o!=="."&&o!==")")throw new Error("Cannot serialize items with `"+o+"` for `options.bulletOrdered`, expected `.` or `)`");return o}function checkRule(e){const o=e.options.rule||"*";if(o!=="*"&&o!=="-"&&o!=="_")throw new Error("Cannot serialize rules with `"+o+"` for `options.rule`, expected `*`, `-`, or `_`");return o}function list(e,o,a,c){const d=a.enter("list"),g=a.bulletCurrent;let b=e.ordered?checkBulletOrdered(a):checkBullet(a);const _=e.ordered?b==="."?")":".":checkBulletOther(a);let $=o&&a.bulletLastUsed?b===a.bulletLastUsed:!1;if(!e.ordered){const rt=e.children?e.children[0]:void 0;if((b==="*"||b==="-")&&rt&&(!rt.children||!rt.children[0])&&a.stack[a.stack.length-1]==="list"&&a.stack[a.stack.length-2]==="listItem"&&a.stack[a.stack.length-3]==="list"&&a.stack[a.stack.length-4]==="listItem"&&a.indexStack[a.indexStack.length-1]===0&&a.indexStack[a.indexStack.length-2]===0&&a.indexStack[a.indexStack.length-3]===0&&($=!0),checkRule(a)===b&&rt){let nt=-1;for(;++nt<e.children.length;){const st=e.children[nt];if(st&&st.type==="listItem"&&st.children&&st.children[0]&&st.children[0].type==="thematicBreak"){$=!0;break}}}}$&&(b=_),a.bulletCurrent=b;const j=a.containerFlow(e,c);return a.bulletLastUsed=b,a.bulletCurrent=g,d(),j}function checkListItemIndent(e){const o=e.options.listItemIndent||"one";if(o!=="tab"&&o!=="one"&&o!=="mixed")throw new Error("Cannot serialize items with `"+o+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return o}function listItem(e,o,a,c){const d=checkListItemIndent(a);let g=a.bulletCurrent||checkBullet(a);o&&o.type==="list"&&o.ordered&&(g=(typeof o.start=="number"&&o.start>-1?o.start:1)+(a.options.incrementListMarker===!1?0:o.children.indexOf(e))+g);let b=g.length+1;(d==="tab"||d==="mixed"&&(o&&o.type==="list"&&o.spread||e.spread))&&(b=Math.ceil(b/4)*4);const _=a.createTracker(c);_.move(g+" ".repeat(b-g.length)),_.shift(b);const $=a.enter("listItem"),j=a.indentLines(a.containerFlow(e,_.current()),rt);return $(),j;function rt(nt,st,jt){return st?(jt?"":" ".repeat(b))+nt:(jt?g:g+" ".repeat(b-g.length))+nt}}function paragraph(e,o,a,c){const d=a.enter("paragraph"),g=a.enter("phrasing"),b=a.containerPhrasing(e,c);return g(),d(),b}const phrasing=convert(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function root(e,o,a,c){return(e.children.some(function(b){return phrasing(b)})?a.containerPhrasing:a.containerFlow).call(a,e,c)}function checkStrong(e){const o=e.options.strong||"*";if(o!=="*"&&o!=="_")throw new Error("Cannot serialize strong with `"+o+"` for `options.strong`, expected `*`, or `_`");return o}strong.peek=strongPeek;function strong(e,o,a,c){const d=checkStrong(a),g=a.enter("strong"),b=a.createTracker(c),_=b.move(d+d);let $=b.move(a.containerPhrasing(e,{after:d,before:_,...b.current()}));const j=$.charCodeAt(0),rt=encodeInfo(c.before.charCodeAt(c.before.length-1),j,d);rt.inside&&($=encodeCharacterReference(j)+$.slice(1));const nt=$.charCodeAt($.length-1),st=encodeInfo(c.after.charCodeAt(0),nt,d);st.inside&&($=$.slice(0,-1)+encodeCharacterReference(nt));const jt=b.move(d+d);return g(),a.attentionEncodeSurroundingInfo={after:st.outside,before:rt.outside},_+$+jt}function strongPeek(e,o,a){return a.options.strong||"*"}function text$1(e,o,a,c){return a.safe(e.value,c)}function checkRuleRepetition(e){const o=e.options.ruleRepetition||3;if(o<3)throw new Error("Cannot serialize rules with repetition `"+o+"` for `options.ruleRepetition`, expected `3` or more");return o}function thematicBreak(e,o,a){const c=(checkRule(a)+(a.options.ruleSpaces?" ":"")).repeat(checkRuleRepetition(a));return a.options.ruleSpaces?c.slice(0,-1):c}const handle={blockquote,break:hardBreak,code:code$1,definition,emphasis,hardBreak,heading,html,image,imageReference,inlineCode,link,linkReference,list,listItem,paragraph,root,strong,text:text$1,thematicBreak};function gfmTableFromMarkdown(){return{enter:{table:enterTable,tableData:enterCell,tableHeader:enterCell,tableRow:enterRow},exit:{codeText:exitCodeText,table:exitTable,tableData:exit,tableHeader:exit,tableRow:exit}}}function enterTable(e){const o=e._align;this.enter({type:"table",align:o.map(function(a){return a==="none"?null:a}),children:[]},e),this.data.inTable=!0}function exitTable(e){this.exit(e),this.data.inTable=void 0}function enterRow(e){this.enter({type:"tableRow",children:[]},e)}function exit(e){this.exit(e)}function enterCell(e){this.enter({type:"tableCell",children:[]},e)}function exitCodeText(e){let o=this.resume();this.data.inTable&&(o=o.replace(/\\([\\|])/g,replace));const a=this.stack[this.stack.length-1];a.type,a.value=o,this.exit(e)}function replace(e,o){return o==="|"?o:e}function gfmTableToMarkdown(e){const o=e||{},a=o.tableCellPadding,c=o.tablePipeAlign,d=o.stringLength,g=a?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:st,table:b,tableCell:$,tableRow:_}};function b(jt,wl,Ft,it){return j(rt(jt,Ft,it),jt.align)}function _(jt,wl,Ft,it){const ot=nt(jt,Ft,it),Ln=j([ot]);return Ln.slice(0,Ln.indexOf(`
`))}function $(jt,wl,Ft,it){const ot=Ft.enter("tableCell"),Ln=Ft.enter("phrasing"),Cl=Ft.containerPhrasing(jt,{...it,before:g,after:g});return Ln(),ot(),Cl}function j(jt,wl){return markdownTable(jt,{align:wl,alignDelimiters:c,padding:a,stringLength:d})}function rt(jt,wl,Ft){const it=jt.children;let ot=-1;const Ln=[],Cl=wl.enter("table");for(;++ot<it.length;)Ln[ot]=nt(it[ot],wl,Ft);return Cl(),Ln}function nt(jt,wl,Ft){const it=jt.children;let ot=-1;const Ln=[],Cl=wl.enter("tableRow");for(;++ot<it.length;)Ln[ot]=$(it[ot],jt,wl,Ft);return Cl(),Ln}function st(jt,wl,Ft){let it=handle.inlineCode(jt,wl,Ft);return Ft.stack.includes("tableCell")&&(it=it.replace(/\|/g,"\\$&")),it}}function gfmTaskListItemFromMarkdown(){return{exit:{taskListCheckValueChecked:exitCheck,taskListCheckValueUnchecked:exitCheck,paragraph:exitParagraphWithTaskListItem}}}function gfmTaskListItemToMarkdown(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:listItemWithTaskListItem}}}function exitCheck(e){const o=this.stack[this.stack.length-2];o.type,o.checked=e.type==="taskListCheckValueChecked"}function exitParagraphWithTaskListItem(e){const o=this.stack[this.stack.length-2];if(o&&o.type==="listItem"&&typeof o.checked=="boolean"){const a=this.stack[this.stack.length-1];a.type;const c=a.children[0];if(c&&c.type==="text"){const d=o.children;let g=-1,b;for(;++g<d.length;){const _=d[g];if(_.type==="paragraph"){b=_;break}}b===a&&(c.value=c.value.slice(1),c.value.length===0?a.children.shift():a.position&&c.position&&typeof c.position.start.offset=="number"&&(c.position.start.column++,c.position.start.offset++,a.position.start=Object.assign({},c.position.start)))}}this.exit(e)}function listItemWithTaskListItem(e,o,a,c){const d=e.children[0],g=typeof e.checked=="boolean"&&d&&d.type==="paragraph",b="["+(e.checked?"x":" ")+"] ",_=a.createTracker(c);g&&_.move(b);let $=handle.listItem(e,o,a,{...c,..._.current()});return g&&($=$.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,j)),$;function j(rt){return rt+b}}function gfmFromMarkdown(){return[gfmAutolinkLiteralFromMarkdown(),gfmFootnoteFromMarkdown(),gfmStrikethroughFromMarkdown(),gfmTableFromMarkdown(),gfmTaskListItemFromMarkdown()]}function gfmToMarkdown(e){return{extensions:[gfmAutolinkLiteralToMarkdown(),gfmFootnoteToMarkdown(e),gfmStrikethroughToMarkdown(),gfmTableToMarkdown(e),gfmTaskListItemToMarkdown()]}}const wwwPrefix={tokenize:tokenizeWwwPrefix,partial:!0},domain={tokenize:tokenizeDomain,partial:!0},path={tokenize:tokenizePath,partial:!0},trail={tokenize:tokenizeTrail,partial:!0},emailDomainDotTrail={tokenize:tokenizeEmailDomainDotTrail,partial:!0},wwwAutolink={name:"wwwAutolink",tokenize:tokenizeWwwAutolink,previous:previousWww},protocolAutolink={name:"protocolAutolink",tokenize:tokenizeProtocolAutolink,previous:previousProtocol},emailAutolink={name:"emailAutolink",tokenize:tokenizeEmailAutolink,previous:previousEmail},text={};function gfmAutolinkLiteral(){return{text}}let code=48;for(;code<123;)text[code]=emailAutolink,code++,code===58?code=65:code===91&&(code=97);text[43]=emailAutolink;text[45]=emailAutolink;text[46]=emailAutolink;text[95]=emailAutolink;text[72]=[emailAutolink,protocolAutolink];text[104]=[emailAutolink,protocolAutolink];text[87]=[emailAutolink,wwwAutolink];text[119]=[emailAutolink,wwwAutolink];function tokenizeEmailAutolink(e,o,a){const c=this;let d,g;return b;function b(nt){return!gfmAtext(nt)||!previousEmail.call(c,c.previous)||previousUnbalanced(c.events)?a(nt):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),_(nt))}function _(nt){return gfmAtext(nt)?(e.consume(nt),_):nt===64?(e.consume(nt),$):a(nt)}function $(nt){return nt===46?e.check(emailDomainDotTrail,rt,j)(nt):nt===45||nt===95||asciiAlphanumeric(nt)?(g=!0,e.consume(nt),$):rt(nt)}function j(nt){return e.consume(nt),d=!0,$}function rt(nt){return g&&d&&asciiAlpha(c.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),o(nt)):a(nt)}}function tokenizeWwwAutolink(e,o,a){const c=this;return d;function d(b){return b!==87&&b!==119||!previousWww.call(c,c.previous)||previousUnbalanced(c.events)?a(b):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(wwwPrefix,e.attempt(domain,e.attempt(path,g),a),a)(b))}function g(b){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),o(b)}}function tokenizeProtocolAutolink(e,o,a){const c=this;let d="",g=!1;return b;function b(nt){return(nt===72||nt===104)&&previousProtocol.call(c,c.previous)&&!previousUnbalanced(c.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),d+=String.fromCodePoint(nt),e.consume(nt),_):a(nt)}function _(nt){if(asciiAlpha(nt)&&d.length<5)return d+=String.fromCodePoint(nt),e.consume(nt),_;if(nt===58){const st=d.toLowerCase();if(st==="http"||st==="https")return e.consume(nt),$}return a(nt)}function $(nt){return nt===47?(e.consume(nt),g?j:(g=!0,$)):a(nt)}function j(nt){return nt===null||asciiControl(nt)||markdownLineEndingOrSpace$1(nt)||unicodeWhitespace(nt)||unicodePunctuation(nt)?a(nt):e.attempt(domain,e.attempt(path,rt),a)(nt)}function rt(nt){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),o(nt)}}function tokenizeWwwPrefix(e,o,a){let c=0;return d;function d(b){return(b===87||b===119)&&c<3?(c++,e.consume(b),d):b===46&&c===3?(e.consume(b),g):a(b)}function g(b){return b===null?a(b):o(b)}}function tokenizeDomain(e,o,a){let c,d,g;return b;function b(j){return j===46||j===95?e.check(trail,$,_)(j):j===null||markdownLineEndingOrSpace$1(j)||unicodeWhitespace(j)||j!==45&&unicodePunctuation(j)?$(j):(g=!0,e.consume(j),b)}function _(j){return j===95?c=!0:(d=c,c=void 0),e.consume(j),b}function $(j){return d||c||!g?a(j):o(j)}}function tokenizePath(e,o){let a=0,c=0;return d;function d(b){return b===40?(a++,e.consume(b),d):b===41&&c<a?g(b):b===33||b===34||b===38||b===39||b===41||b===42||b===44||b===46||b===58||b===59||b===60||b===63||b===93||b===95||b===126?e.check(trail,o,g)(b):b===null||markdownLineEndingOrSpace$1(b)||unicodeWhitespace(b)?o(b):(e.consume(b),d)}function g(b){return b===41&&c++,e.consume(b),d}}function tokenizeTrail(e,o,a){return c;function c(_){return _===33||_===34||_===39||_===41||_===42||_===44||_===46||_===58||_===59||_===63||_===95||_===126?(e.consume(_),c):_===38?(e.consume(_),g):_===93?(e.consume(_),d):_===60||_===null||markdownLineEndingOrSpace$1(_)||unicodeWhitespace(_)?o(_):a(_)}function d(_){return _===null||_===40||_===91||markdownLineEndingOrSpace$1(_)||unicodeWhitespace(_)?o(_):c(_)}function g(_){return asciiAlpha(_)?b(_):a(_)}function b(_){return _===59?(e.consume(_),c):asciiAlpha(_)?(e.consume(_),b):a(_)}}function tokenizeEmailDomainDotTrail(e,o,a){return c;function c(g){return e.consume(g),d}function d(g){return asciiAlphanumeric(g)?a(g):o(g)}}function previousWww(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||markdownLineEndingOrSpace$1(e)}function previousProtocol(e){return!asciiAlpha(e)}function previousEmail(e){return!(e===47||gfmAtext(e))}function gfmAtext(e){return e===43||e===45||e===46||e===95||asciiAlphanumeric(e)}function previousUnbalanced(e){let o=e.length,a=!1;for(;o--;){const c=e[o][1];if((c.type==="labelLink"||c.type==="labelImage")&&!c._balanced){a=!0;break}if(c._gfmAutolinkLiteralWalkedInto){a=!1;break}}return e.length>0&&!a&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),a}const indent$1={tokenize:tokenizeIndent$1,partial:!0};function gfmFootnote(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:tokenizeDefinitionStart$1,continuation:{tokenize:tokenizeDefinitionContinuation$1},exit:gfmFootnoteDefinitionEnd}},text:{91:{name:"gfmFootnoteCall",tokenize:tokenizeGfmFootnoteCall},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:tokenizePotentialGfmFootnoteCall,resolveTo:resolveToPotentialGfmFootnoteCall}}}}function tokenizePotentialGfmFootnoteCall(e,o,a){const c=this;let d=c.events.length;const g=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let b;for(;d--;){const $=c.events[d][1];if($.type==="labelImage"){b=$;break}if($.type==="gfmFootnoteCall"||$.type==="labelLink"||$.type==="label"||$.type==="image"||$.type==="link")break}return _;function _($){if(!b||!b._balanced)return a($);const j=normalizeIdentifier$2(c.sliceSerialize({start:b.end,end:c.now()}));return j.codePointAt(0)!==94||!g.includes(j.slice(1))?a($):(e.enter("gfmFootnoteCallLabelMarker"),e.consume($),e.exit("gfmFootnoteCallLabelMarker"),o($))}}function resolveToPotentialGfmFootnoteCall(e,o){let a=e.length;for(;a--;)if(e[a][1].type==="labelImage"&&e[a][0]==="enter"){e[a][1];break}e[a+1][1].type="data",e[a+3][1].type="gfmFootnoteCallLabelMarker";const c={type:"gfmFootnoteCall",start:Object.assign({},e[a+3][1].start),end:Object.assign({},e[e.length-1][1].end)},d={type:"gfmFootnoteCallMarker",start:Object.assign({},e[a+3][1].end),end:Object.assign({},e[a+3][1].end)};d.end.column++,d.end.offset++,d.end._bufferIndex++;const g={type:"gfmFootnoteCallString",start:Object.assign({},d.end),end:Object.assign({},e[e.length-1][1].start)},b={type:"chunkString",contentType:"string",start:Object.assign({},g.start),end:Object.assign({},g.end)},_=[e[a+1],e[a+2],["enter",c,o],e[a+3],e[a+4],["enter",d,o],["exit",d,o],["enter",g,o],["enter",b,o],["exit",b,o],["exit",g,o],e[e.length-2],e[e.length-1],["exit",c,o]];return e.splice(a,e.length-a+1,..._),e}function tokenizeGfmFootnoteCall(e,o,a){const c=this,d=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let g=0,b;return _;function _(nt){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(nt),e.exit("gfmFootnoteCallLabelMarker"),$}function $(nt){return nt!==94?a(nt):(e.enter("gfmFootnoteCallMarker"),e.consume(nt),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",j)}function j(nt){if(g>999||nt===93&&!b||nt===null||nt===91||markdownLineEndingOrSpace$1(nt))return a(nt);if(nt===93){e.exit("chunkString");const st=e.exit("gfmFootnoteCallString");return d.includes(normalizeIdentifier$2(c.sliceSerialize(st)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(nt),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),o):a(nt)}return markdownLineEndingOrSpace$1(nt)||(b=!0),g++,e.consume(nt),nt===92?rt:j}function rt(nt){return nt===91||nt===92||nt===93?(e.consume(nt),g++,j):j(nt)}}function tokenizeDefinitionStart$1(e,o,a){const c=this,d=c.parser.gfmFootnotes||(c.parser.gfmFootnotes=[]);let g,b=0,_;return $;function $(wl){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(wl),e.exit("gfmFootnoteDefinitionLabelMarker"),j}function j(wl){return wl===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(wl),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",rt):a(wl)}function rt(wl){if(b>999||wl===93&&!_||wl===null||wl===91||markdownLineEndingOrSpace$1(wl))return a(wl);if(wl===93){e.exit("chunkString");const Ft=e.exit("gfmFootnoteDefinitionLabelString");return g=normalizeIdentifier$2(c.sliceSerialize(Ft)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(wl),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),st}return markdownLineEndingOrSpace$1(wl)||(_=!0),b++,e.consume(wl),wl===92?nt:rt}function nt(wl){return wl===91||wl===92||wl===93?(e.consume(wl),b++,rt):rt(wl)}function st(wl){return wl===58?(e.enter("definitionMarker"),e.consume(wl),e.exit("definitionMarker"),d.includes(g)||d.push(g),factorySpace$1(e,jt,"gfmFootnoteDefinitionWhitespace")):a(wl)}function jt(wl){return o(wl)}}function tokenizeDefinitionContinuation$1(e,o,a){return e.check(blankLine$1,o,e.attempt(indent$1,o,a))}function gfmFootnoteDefinitionEnd(e){e.exit("gfmFootnoteDefinition")}function tokenizeIndent$1(e,o,a){const c=this;return factorySpace$1(e,d,"gfmFootnoteDefinitionIndent",5);function d(g){const b=c.events[c.events.length-1];return b&&b[1].type==="gfmFootnoteDefinitionIndent"&&b[2].sliceSerialize(b[1],!0).length===4?o(g):a(g)}}function gfmStrikethrough(e){let a=(e||{}).singleTilde;const c={name:"strikethrough",tokenize:g,resolveAll:d};return a==null&&(a=!0),{text:{126:c},insideSpan:{null:[c]},attentionMarkers:{null:[126]}};function d(b,_){let $=-1;for(;++$<b.length;)if(b[$][0]==="enter"&&b[$][1].type==="strikethroughSequenceTemporary"&&b[$][1]._close){let j=$;for(;j--;)if(b[j][0]==="exit"&&b[j][1].type==="strikethroughSequenceTemporary"&&b[j][1]._open&&b[$][1].end.offset-b[$][1].start.offset===b[j][1].end.offset-b[j][1].start.offset){b[$][1].type="strikethroughSequence",b[j][1].type="strikethroughSequence";const rt={type:"strikethrough",start:Object.assign({},b[j][1].start),end:Object.assign({},b[$][1].end)},nt={type:"strikethroughText",start:Object.assign({},b[j][1].end),end:Object.assign({},b[$][1].start)},st=[["enter",rt,_],["enter",b[j][1],_],["exit",b[j][1],_],["enter",nt,_]],jt=_.parser.constructs.insideSpan.null;jt&&splice$1(st,st.length,0,resolveAll$1(jt,b.slice(j+1,$),_)),splice$1(st,st.length,0,[["exit",nt,_],["enter",b[$][1],_],["exit",b[$][1],_],["exit",rt,_]]),splice$1(b,j-1,$-j+3,st),$=j+st.length-2;break}}for($=-1;++$<b.length;)b[$][1].type==="strikethroughSequenceTemporary"&&(b[$][1].type="data");return b}function g(b,_,$){const j=this.previous,rt=this.events;let nt=0;return st;function st(wl){return j===126&&rt[rt.length-1][1].type!=="characterEscape"?$(wl):(b.enter("strikethroughSequenceTemporary"),jt(wl))}function jt(wl){const Ft=classifyCharacter(j);if(wl===126)return nt>1?$(wl):(b.consume(wl),nt++,jt);if(nt<2&&!a)return $(wl);const it=b.exit("strikethroughSequenceTemporary"),ot=classifyCharacter(wl);return it._open=!ot||ot===2&&!!Ft,it._close=!Ft||Ft===2&&!!ot,_(wl)}}}class EditMap{constructor(){this.map=[]}add(o,a,c){addImplementation(this,o,a,c)}consume(o){if(this.map.sort(function(g,b){return g[0]-b[0]}),this.map.length===0)return;let a=this.map.length;const c=[];for(;a>0;)a-=1,c.push(o.slice(this.map[a][0]+this.map[a][1]),this.map[a][2]),o.length=this.map[a][0];c.push(o.slice()),o.length=0;let d=c.pop();for(;d;){for(const g of d)o.push(g);d=c.pop()}this.map.length=0}}function addImplementation(e,o,a,c){let d=0;if(!(a===0&&c.length===0)){for(;d<e.map.length;){if(e.map[d][0]===o){e.map[d][1]+=a,e.map[d][2].push(...c);return}d+=1}e.map.push([o,a,c])}}function gfmTableAlign(e,o){let a=!1;const c=[];for(;o<e.length;){const d=e[o];if(a){if(d[0]==="enter")d[1].type==="tableContent"&&c.push(e[o+1][1].type==="tableDelimiterMarker"?"left":"none");else if(d[1].type==="tableContent"){if(e[o-1][1].type==="tableDelimiterMarker"){const g=c.length-1;c[g]=c[g]==="left"?"center":"right"}}else if(d[1].type==="tableDelimiterRow")break}else d[0]==="enter"&&d[1].type==="tableDelimiterRow"&&(a=!0);o+=1}return c}function gfmTable(){return{flow:{null:{name:"table",tokenize:tokenizeTable,resolveAll:resolveTable}}}}function tokenizeTable(e,o,a){const c=this;let d=0,g=0,b;return _;function _(Vl){let mu=c.events.length-1;for(;mu>-1;){const cp=c.events[mu][1].type;if(cp==="lineEnding"||cp==="linePrefix")mu--;else break}const rp=mu>-1?c.events[mu][1].type:null,Ju=rp==="tableHead"||rp==="tableRow"?In:$;return Ju===In&&c.parser.lazy[c.now().line]?a(Vl):Ju(Vl)}function $(Vl){return e.enter("tableHead"),e.enter("tableRow"),j(Vl)}function j(Vl){return Vl===124||(b=!0,g+=1),rt(Vl)}function rt(Vl){return Vl===null?a(Vl):markdownLineEnding$1(Vl)?g>1?(g=0,c.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(Vl),e.exit("lineEnding"),jt):a(Vl):markdownSpace$1(Vl)?factorySpace$1(e,rt,"whitespace")(Vl):(g+=1,b&&(b=!1,d+=1),Vl===124?(e.enter("tableCellDivider"),e.consume(Vl),e.exit("tableCellDivider"),b=!0,rt):(e.enter("data"),nt(Vl)))}function nt(Vl){return Vl===null||Vl===124||markdownLineEndingOrSpace$1(Vl)?(e.exit("data"),rt(Vl)):(e.consume(Vl),Vl===92?st:nt)}function st(Vl){return Vl===92||Vl===124?(e.consume(Vl),nt):nt(Vl)}function jt(Vl){return c.interrupt=!1,c.parser.lazy[c.now().line]?a(Vl):(e.enter("tableDelimiterRow"),b=!1,markdownSpace$1(Vl)?factorySpace$1(e,wl,"linePrefix",c.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Vl):wl(Vl))}function wl(Vl){return Vl===45||Vl===58?it(Vl):Vl===124?(b=!0,e.enter("tableCellDivider"),e.consume(Vl),e.exit("tableCellDivider"),Ft):zl(Vl)}function Ft(Vl){return markdownSpace$1(Vl)?factorySpace$1(e,it,"whitespace")(Vl):it(Vl)}function it(Vl){return Vl===58?(g+=1,b=!0,e.enter("tableDelimiterMarker"),e.consume(Vl),e.exit("tableDelimiterMarker"),ot):Vl===45?(g+=1,ot(Vl)):Vl===null||markdownLineEnding$1(Vl)?Tl(Vl):zl(Vl)}function ot(Vl){return Vl===45?(e.enter("tableDelimiterFiller"),Ln(Vl)):zl(Vl)}function Ln(Vl){return Vl===45?(e.consume(Vl),Ln):Vl===58?(b=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(Vl),e.exit("tableDelimiterMarker"),Cl):(e.exit("tableDelimiterFiller"),Cl(Vl))}function Cl(Vl){return markdownSpace$1(Vl)?factorySpace$1(e,Tl,"whitespace")(Vl):Tl(Vl)}function Tl(Vl){return Vl===124?wl(Vl):Vl===null||markdownLineEnding$1(Vl)?!b||d!==g?zl(Vl):(e.exit("tableDelimiterRow"),e.exit("tableHead"),o(Vl)):zl(Vl)}function zl(Vl){return a(Vl)}function In(Vl){return e.enter("tableRow"),Ml(Vl)}function Ml(Vl){return Vl===124?(e.enter("tableCellDivider"),e.consume(Vl),e.exit("tableCellDivider"),Ml):Vl===null||markdownLineEnding$1(Vl)?(e.exit("tableRow"),o(Vl)):markdownSpace$1(Vl)?factorySpace$1(e,Ml,"whitespace")(Vl):(e.enter("data"),Dl(Vl))}function Dl(Vl){return Vl===null||Vl===124||markdownLineEndingOrSpace$1(Vl)?(e.exit("data"),Ml(Vl)):(e.consume(Vl),Vl===92?Ul:Dl)}function Ul(Vl){return Vl===92||Vl===124?(e.consume(Vl),Dl):Dl(Vl)}}function resolveTable(e,o){let a=-1,c=!0,d=0,g=[0,0,0,0],b=[0,0,0,0],_=!1,$=0,j,rt,nt;const st=new EditMap;for(;++a<e.length;){const jt=e[a],wl=jt[1];jt[0]==="enter"?wl.type==="tableHead"?(_=!1,$!==0&&(flushTableEnd(st,o,$,j,rt),rt=void 0,$=0),j={type:"table",start:Object.assign({},wl.start),end:Object.assign({},wl.end)},st.add(a,0,[["enter",j,o]])):wl.type==="tableRow"||wl.type==="tableDelimiterRow"?(c=!0,nt=void 0,g=[0,0,0,0],b=[0,a+1,0,0],_&&(_=!1,rt={type:"tableBody",start:Object.assign({},wl.start),end:Object.assign({},wl.end)},st.add(a,0,[["enter",rt,o]])),d=wl.type==="tableDelimiterRow"?2:rt?3:1):d&&(wl.type==="data"||wl.type==="tableDelimiterMarker"||wl.type==="tableDelimiterFiller")?(c=!1,b[2]===0&&(g[1]!==0&&(b[0]=b[1],nt=flushCell(st,o,g,d,void 0,nt),g=[0,0,0,0]),b[2]=a)):wl.type==="tableCellDivider"&&(c?c=!1:(g[1]!==0&&(b[0]=b[1],nt=flushCell(st,o,g,d,void 0,nt)),g=b,b=[g[1],a,0,0])):wl.type==="tableHead"?(_=!0,$=a):wl.type==="tableRow"||wl.type==="tableDelimiterRow"?($=a,g[1]!==0?(b[0]=b[1],nt=flushCell(st,o,g,d,a,nt)):b[1]!==0&&(nt=flushCell(st,o,b,d,a,nt)),d=0):d&&(wl.type==="data"||wl.type==="tableDelimiterMarker"||wl.type==="tableDelimiterFiller")&&(b[3]=a)}for($!==0&&flushTableEnd(st,o,$,j,rt),st.consume(o.events),a=-1;++a<o.events.length;){const jt=o.events[a];jt[0]==="enter"&&jt[1].type==="table"&&(jt[1]._align=gfmTableAlign(o.events,a))}return e}function flushCell(e,o,a,c,d,g){const b=c===1?"tableHeader":c===2?"tableDelimiter":"tableData",_="tableContent";a[0]!==0&&(g.end=Object.assign({},getPoint(o.events,a[0])),e.add(a[0],0,[["exit",g,o]]));const $=getPoint(o.events,a[1]);if(g={type:b,start:Object.assign({},$),end:Object.assign({},$)},e.add(a[1],0,[["enter",g,o]]),a[2]!==0){const j=getPoint(o.events,a[2]),rt=getPoint(o.events,a[3]),nt={type:_,start:Object.assign({},j),end:Object.assign({},rt)};if(e.add(a[2],0,[["enter",nt,o]]),c!==2){const st=o.events[a[2]],jt=o.events[a[3]];if(st[1].end=Object.assign({},jt[1].end),st[1].type="chunkText",st[1].contentType="text",a[3]>a[2]+1){const wl=a[2]+1,Ft=a[3]-a[2]-1;e.add(wl,Ft,[])}}e.add(a[3]+1,0,[["exit",nt,o]])}return d!==void 0&&(g.end=Object.assign({},getPoint(o.events,d)),e.add(d,0,[["exit",g,o]]),g=void 0),g}function flushTableEnd(e,o,a,c,d){const g=[],b=getPoint(o.events,a);d&&(d.end=Object.assign({},b),g.push(["exit",d,o])),c.end=Object.assign({},b),g.push(["exit",c,o]),e.add(a+1,0,g)}function getPoint(e,o){const a=e[o],c=a[0]==="enter"?"start":"end";return a[1][c]}const tasklistCheck={name:"tasklistCheck",tokenize:tokenizeTasklistCheck};function gfmTaskListItem(){return{text:{91:tasklistCheck}}}function tokenizeTasklistCheck(e,o,a){const c=this;return d;function d($){return c.previous!==null||!c._gfmTasklistFirstContentOfListItem?a($):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume($),e.exit("taskListCheckMarker"),g)}function g($){return markdownLineEndingOrSpace$1($)?(e.enter("taskListCheckValueUnchecked"),e.consume($),e.exit("taskListCheckValueUnchecked"),b):$===88||$===120?(e.enter("taskListCheckValueChecked"),e.consume($),e.exit("taskListCheckValueChecked"),b):a($)}function b($){return $===93?(e.enter("taskListCheckMarker"),e.consume($),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),_):a($)}function _($){return markdownLineEnding$1($)?o($):markdownSpace$1($)?e.check({tokenize:spaceThenNonSpace},o,a)($):a($)}}function spaceThenNonSpace(e,o,a){return factorySpace$1(e,c,"whitespace");function c(d){return d===null?a(d):o(d)}}function gfm(e){return combineExtensions([gfmAutolinkLiteral(),gfmFootnote(),gfmStrikethrough(e),gfmTable(),gfmTaskListItem()])}const emptyOptions={};function remarkGfm(e){const o=this,a=e||emptyOptions,c=o.data(),d=c.micromarkExtensions||(c.micromarkExtensions=[]),g=c.fromMarkdownExtensions||(c.fromMarkdownExtensions=[]),b=c.toMarkdownExtensions||(c.toMarkdownExtensions=[]);d.push(gfm(a)),g.push(gfmFromMarkdown()),b.push(gfmToMarkdown(a))}function splice(e,o,a,c){const d=e.length;let g=0,b;if(o<0?o=-o>d?0:d+o:o=o>d?d:o,a=a>0?a:0,c.length<1e4)b=Array.from(c),b.unshift(o,a),e.splice(...b);else for(a&&e.splice(o,a);g<c.length;)b=c.slice(g,g+1e4),b.unshift(o,0),e.splice(...b),g+=1e4,o+=1e4}function markdownLineEnding(e){return e!==null&&e<-2}function markdownLineEndingOrSpace(e){return e!==null&&(e<0||e===32)}function markdownSpace(e){return e===-2||e===-1||e===32}function resolveAll(e,o,a){const c=[];let d=-1;for(;++d<e.length;){const g=e[d].resolveAll;g&&!c.includes(g)&&(o=g(o,a),c.push(g))}return o}function factorySpace(e,o,a,c){const d=c?c-1:Number.POSITIVE_INFINITY;let g=0;return b;function b($){return markdownSpace($)?(e.enter(a),_($)):o($)}function _($){return markdownSpace($)&&g++<d?(e.consume($),_):(e.exit(a),o($))}}const blankLine={tokenize:tokenizeBlankLine,partial:!0};function tokenizeBlankLine(e,o,a){return c;function c(g){return markdownSpace(g)?factorySpace(e,d,"linePrefix")(g):d(g)}function d(g){return g===null||markdownLineEnding(g)?o(g):a(g)}}function normalizeIdentifier$1(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const indent={tokenize:tokenizeIndent,partial:!0};function footnote$1(e={}){const o={tokenize:tokenizeFootnoteCall},a={tokenize:tokenizeNoteStart,resolveAll:resolveAllNote},c={add:"after",tokenize:tokenizeNoteEnd,resolveAll:resolveAllNote,resolveTo:resolveToNoteEnd},d={tokenize:tokenizeDefinitionStart,continuation:{tokenize:tokenizeDefinitionContinuation},exit:footnoteDefinitionEnd},g={91:o};return e.inlineNotes&&(g[93]=c,g[94]=a),{_hiddenFootnoteSupport:{},document:{91:d},text:g}}function resolveAllNote(e){let o=-1,a;for(;++o<e.length;)a=e[o][1],e[o][0]==="enter"&&a.type==="inlineNoteStart"&&(a.type="data",e.splice(o+1,4));return e}function resolveToNoteEnd(e,o){let a=e.length-4,c,d;for(;a--;)if(c=e[a][1],e[a][0]==="enter"&&c.type==="inlineNoteStart"){d=a;break}const g={type:"inlineNote",start:Object.assign({},e[d][1].start),end:Object.assign({},e[e.length-1][1].end)},b={type:"inlineNoteText",start:Object.assign({},e[d+4][1].end),end:Object.assign({},e[e.length-3][1].start)},_=[["enter",g,o],e[d+1],e[d+2],e[d+3],e[d+4],["enter",b,o]];return splice(_,_.length,0,resolveAll(o.parser.constructs.insideSpan.null,e.slice(d+6,-4),o)),_.push(["exit",b,o],e[e.length-2],e[e.length-3],["exit",g,o]),splice(e,a,e.length-a,_),e}function tokenizeFootnoteCall(e,o,a){const c=this,d=c.parser.footnotes||(c.parser.footnotes=[]);let g=0,b;return _;function _(st){return e.enter("footnoteCall"),e.enter("footnoteCallLabelMarker"),e.consume(st),e.exit("footnoteCallLabelMarker"),$}function $(st){return st!==94?a(st):(e.enter("footnoteCallMarker"),e.consume(st),e.exit("footnoteCallMarker"),e.enter("footnoteCallString"),e.enter("chunkString").contentType="string",j)}function j(st){let jt;return st===null||st===91||g++>999?a(st):st===93?b?(e.exit("chunkString"),jt=e.exit("footnoteCallString"),d.includes(normalizeIdentifier$1(c.sliceSerialize(jt)))?nt(st):a(st)):a(st):(e.consume(st),markdownLineEndingOrSpace(st)||(b=!0),st===92?rt:j)}function rt(st){return st===91||st===92||st===93?(e.consume(st),g++,j):j(st)}function nt(st){return e.enter("footnoteCallLabelMarker"),e.consume(st),e.exit("footnoteCallLabelMarker"),e.exit("footnoteCall"),o}}function tokenizeNoteStart(e,o,a){return c;function c(g){return e.enter("inlineNoteStart"),e.enter("inlineNoteMarker"),e.consume(g),e.exit("inlineNoteMarker"),d}function d(g){return g!==91?a(g):(e.enter("inlineNoteStartMarker"),e.consume(g),e.exit("inlineNoteStartMarker"),e.exit("inlineNoteStart"),o)}}function tokenizeNoteEnd(e,o,a){const c=this;return d;function d(g){let b=c.events.length,_;for(;b--;)if(c.events[b][1].type==="inlineNoteStart"){_=!0;break}return _?(e.enter("inlineNoteEnd"),e.enter("inlineNoteEndMarker"),e.consume(g),e.exit("inlineNoteEndMarker"),e.exit("inlineNoteEnd"),o):a(g)}}function tokenizeDefinitionStart(e,o,a){const c=this,d=c.parser.footnotes||(c.parser.footnotes=[]);let g,b=0,_;return $;function $(ot){return e.enter("footnoteDefinition")._container=!0,e.enter("footnoteDefinitionLabel"),e.enter("footnoteDefinitionLabelMarker"),e.consume(ot),e.exit("footnoteDefinitionLabelMarker"),j}function j(ot){return ot!==94?a(ot):(e.enter("footnoteDefinitionMarker"),e.consume(ot),e.exit("footnoteDefinitionMarker"),e.enter("footnoteDefinitionLabelString"),rt)}function rt(ot){let Ln;return ot===null||ot===91||b>999?a(ot):ot===93?_?(Ln=e.exit("footnoteDefinitionLabelString"),g=normalizeIdentifier$1(c.sliceSerialize(Ln)),e.enter("footnoteDefinitionLabelMarker"),e.consume(ot),e.exit("footnoteDefinitionLabelMarker"),e.exit("footnoteDefinitionLabel"),jt):a(ot):markdownLineEnding(ot)?(e.enter("lineEnding"),e.consume(ot),e.exit("lineEnding"),b++,rt):(e.enter("chunkString").contentType="string",nt(ot))}function nt(ot){return ot===null||markdownLineEnding(ot)||ot===91||ot===93||b>999?(e.exit("chunkString"),rt(ot)):(markdownLineEndingOrSpace(ot)||(_=!0),b++,e.consume(ot),ot===92?st:nt)}function st(ot){return ot===91||ot===92||ot===93?(e.consume(ot),b++,nt):nt(ot)}function jt(ot){return ot!==58?a(ot):(e.enter("definitionMarker"),e.consume(ot),e.exit("definitionMarker"),e.check(blankLine,wl,Ft))}function wl(ot){return c.containerState.initialBlankLine=!0,it(ot)}function Ft(ot){return markdownSpace(ot)&&(e.enter("footnoteDefinitionWhitespace"),e.consume(ot),e.exit("footnoteDefinitionWhitespace")),it(ot)}function it(ot){return d.includes(g)||d.push(g),o(ot)}}function tokenizeDefinitionContinuation(e,o,a){const c=this;return e.check(blankLine,d,g);function d(b){return c.containerState.initialBlankLine&&(c.containerState.furtherBlankLines=!0),o(b)}function g(b){return c.containerState.furtherBlankLines||!markdownSpace(b)?a(b):(c.containerState.initialBlankLine=void 0,c.containerState.furtherBlankLines=void 0,e.attempt(indent,o,a)(b))}}function footnoteDefinitionEnd(e){e.exit("footnoteDefinition")}function tokenizeIndent(e,o,a){const c=this;return factorySpace(e,d,"footnoteDefinitionIndent",5);function d(g){const b=c.events[c.events.length-1];return b&&b[1].type==="footnoteDefinitionIndent"&&b[2].sliceSerialize(b[1],!0).length===4?o(g):a(g)}}function normalizeIdentifier(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}function decodeNumericCharacterReference(e,o){const a=Number.parseInt(e,o);return a<9||a===11||a>13&&a<32||a>126&&a<160||a>55295&&a<57344||a>64975&&a<65008||(a&65535)===65535||(a&65535)===65534||a>1114111?"":String.fromCharCode(a)}const characterEscapeOrReference=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function decodeString(e){return e.replace(characterEscapeOrReference,decode)}function decode(e,o,a){if(o)return o;if(a.charCodeAt(0)===35){const d=a.charCodeAt(1),g=d===120||d===88;return decodeNumericCharacterReference(a.slice(g?2:1),g?16:10)}return decodeNamedCharacterReference(a)||e}function association(e){return e.label||!e.identifier?e.label||"":decodeString(e.identifier)}function containerPhrasing(e,o,a){const c=o.indexStack,d=e.children||[],g=[];let b=-1,_=a.before;c.push(-1);let $=o.createTracker(a);for(;++b<d.length;){const j=d[b];let rt;if(c[c.length-1]=b,b+1<d.length){let nt=o.handle.handlers[d[b+1].type];nt&&nt.peek&&(nt=nt.peek),rt=nt?nt(d[b+1],e,o,{before:"",after:"",...$.current()}).charAt(0):""}else rt=a.after;g.length>0&&(_==="\r"||_===`
`)&&j.type==="html"&&(g[g.length-1]=g[g.length-1].replace(/(\r?\n|\r)$/," "),_=" ",$=o.createTracker(a),$.move(g.join(""))),g.push($.move(o.handle(j,e,o,{...$.current(),before:_,after:rt}))),_=g[g.length-1].slice(-1)}return c.pop(),g.join("")}function containerFlow(e,o,a){const c=o.indexStack,d=e.children||[],g=o.createTracker(a),b=[];let _=-1;for(c.push(-1);++_<d.length;){const $=d[_];c[c.length-1]=_,b.push(g.move(o.handle($,e,o,{before:`
`,after:`
`,...g.current()}))),$.type!=="list"&&(o.bulletLastUsed=void 0),_<d.length-1&&b.push(g.move(between($,d[_+1],e,o)))}return c.pop(),b.join("")}function between(e,o,a,c){let d=c.join.length;for(;d--;){const g=c.join[d](e,o,a,c);if(g===!0||g===1)break;if(typeof g=="number")return`
`.repeat(1+g);if(g===!1)return`

<!---->

`}return`

`}const eol=/\r?\n|\r/g;function indentLines(e,o){const a=[];let c=0,d=0,g;for(;g=eol.exec(e);)b(e.slice(c,g.index)),a.push(g[0]),c=g.index+g[0].length,d++;return b(e.slice(c)),a.join("");function b(_){a.push(o(_,d,!_))}}function patternCompile(e){if(!e._compiled){const o=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((o?"("+o+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}function patternInScope(e,o){return listInScope(e,o.inConstruct,!0)&&!listInScope(e,o.notInConstruct,!1)}function listInScope(e,o,a){if(typeof o=="string"&&(o=[o]),!o||o.length===0)return a;let c=-1;for(;++c<o.length;)if(e.includes(o[c]))return!0;return!1}function safe(e,o,a){const c=(a.before||"")+(o||"")+(a.after||""),d=[],g=[],b={};let _=-1;for(;++_<e.unsafe.length;){const rt=e.unsafe[_];if(!patternInScope(e.stack,rt))continue;const nt=patternCompile(rt);let st;for(;st=nt.exec(c);){const jt="before"in rt||!!rt.atBreak,wl="after"in rt,Ft=st.index+(jt?st[1].length:0);d.includes(Ft)?(b[Ft].before&&!jt&&(b[Ft].before=!1),b[Ft].after&&!wl&&(b[Ft].after=!1)):(d.push(Ft),b[Ft]={before:jt,after:wl})}}d.sort(numerical);let $=a.before?a.before.length:0;const j=c.length-(a.after?a.after.length:0);for(_=-1;++_<d.length;){const rt=d[_];rt<$||rt>=j||rt+1<j&&d[_+1]===rt+1&&b[rt].after&&!b[rt+1].before&&!b[rt+1].after||d[_-1]===rt-1&&b[rt].before&&!b[rt-1].before&&!b[rt-1].after||($!==rt&&g.push(escapeBackslashes(c.slice($,rt),"\\")),$=rt,/[!-/:-@[-`{-~]/.test(c.charAt(rt))&&(!a.encode||!a.encode.includes(c.charAt(rt)))?g.push("\\"):(g.push("&#x"+c.charCodeAt(rt).toString(16).toUpperCase()+";"),$++))}return g.push(escapeBackslashes(c.slice($,j),a.after)),g.join("")}function numerical(e,o){return e-o}function escapeBackslashes(e,o){const a=/\\(?=[!-/:-@[-`{-~])/g,c=[],d=[],g=e+o;let b=-1,_=0,$;for(;$=a.exec(g);)c.push($.index);for(;++b<c.length;)_!==c[b]&&d.push(e.slice(_,c[b])),d.push("\\"),_=c[b];return d.push(e.slice(_)),d.join("")}function track(e){const o=e||{},a=o.now||{};let c=o.lineShift||0,d=a.line||1,g=a.column||1;return{move:$,current:b,shift:_};function b(){return{now:{line:d,column:g},lineShift:c}}function _(j){c+=j}function $(j){const rt=j||"",nt=rt.split(/\r?\n|\r/g),st=nt[nt.length-1];return d+=nt.length-1,g=nt.length===1?g+st.length:1+st.length+c,rt}}const footnoteFromMarkdown={canContainEols:["footnote"],enter:{footnoteDefinition:enterFootnoteDefinition,footnoteDefinitionLabelString:enterFootnoteDefinitionLabelString,footnoteCall:enterFootnoteCall,footnoteCallString:enterFootnoteCallString,inlineNote:enterNote},exit:{footnoteDefinition:exitFootnoteDefinition,footnoteDefinitionLabelString:exitFootnoteDefinitionLabelString,footnoteCall:exitFootnoteCall,footnoteCallString:exitFootnoteCallString,inlineNote:exitNote}},footnoteToMarkdown={unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnote,footnoteDefinition,footnoteReference}};footnoteReference.peek=footnoteReferencePeek;footnote.peek=footnotePeek;function enterFootnoteDefinition(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function enterFootnoteDefinitionLabelString(){this.buffer()}function exitFootnoteDefinitionLabelString(e){const o=this.resume(),a=this.stack[this.stack.length-1];a.label=o,a.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase()}function exitFootnoteDefinition(e){this.exit(e)}function enterFootnoteCall(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function enterFootnoteCallString(){this.buffer()}function exitFootnoteCallString(e){const o=this.resume(),a=this.stack[this.stack.length-1];a.label=o,a.identifier=normalizeIdentifier(this.sliceSerialize(e)).toLowerCase()}function exitFootnoteCall(e){this.exit(e)}function enterNote(e){this.enter({type:"footnote",children:[]},e)}function exitNote(e){this.exit(e)}function footnoteReference(e,o,a,c){const d=track(c);let g=d.move("[^");const b=a.enter("footnoteReference"),_=a.enter("reference");return g+=d.move(safe(a,association(e),{...d.current(),before:g,after:"]"})),_(),b(),g+=d.move("]"),g}function footnoteReferencePeek(){return"["}function footnote(e,o,a,c){const d=track(c);let g=d.move("^[");const b=a.enter("footnote"),_=a.enter("label");return g+=d.move(containerPhrasing(e,a,{...d.current(),before:g,after:"]"})),_(),b(),g+=d.move("]"),g}function footnotePeek(){return"^"}function footnoteDefinition(e,o,a,c){const d=track(c);let g=d.move("[^");const b=a.enter("footnoteDefinition"),_=a.enter("label");return g+=d.move(safe(a,association(e),{...d.current(),before:g,after:"]"})),_(),g+=d.move("]:"+(e.children&&e.children.length>0?" ":"")),d.shift(4),g+=d.move(indentLines(containerFlow(e,a,d.current()),$)),b(),g;function $(j,rt,nt){return rt?(nt?"":"    ")+j:j}}function remarkFootnotes(e={}){const o=this.data();a("micromarkExtensions",footnote$1(e)),a("fromMarkdownExtensions",footnoteFromMarkdown),a("toMarkdownExtensions",footnoteToMarkdown);function a(c,d){(o[c]?o[c]:o[c]=[]).push(d)}}const markdownEntries=["preface.md","superconductivity.md"];function ContributionsPage(){const[e,o]=reactExports.useState([]);return reactExports.useEffect(()=>{Promise.all(markdownEntries.map(a=>fetch(`./contributions/${a}`).then(c=>{if(!c.ok)throw new Error(`Failed to fetch ${a}`);return c.text()}))).then(a=>o(a)).catch(a=>{console.error(a),o([])})},[]),jsxRuntimeExports$1.jsx(default_1$1,{activeSection:"discover",breadcrumbsPath:[{name:"Discover",link:"https://www.materialscloud.org/discover"},{name:"Materials Cloud Three-Dimensional Structure Database",link:"/develop/"},{name:"Extended dataset documentation",link:null}],children:jsxRuntimeExports$1.jsxs(Container,{fluid:"xxl",children:[jsxRuntimeExports$1.jsx(TitleAndLogo,{}),e.length===0?"Loading...":e.map((a,c)=>{const d=`markdown-entry-${c}`;return jsxRuntimeExports$1.jsx("div",{className:"markdown-entry",id:d,children:jsxRuntimeExports$1.jsx(Markdown,{remarkPlugins:[remarkMath,remarkGfm,remarkFootnotes],rehypePlugins:[rehypeKatex],components:{a:({...g})=>{const b=g.href||"";return b.startsWith("#")?jsxRuntimeExports$1.jsx("a",{...g,onClick:$=>{$.preventDefault();const j=$.currentTarget.closest(".markdown-entry"),rt=j==null?void 0:j.querySelector(b);if(rt){const st=rt.getBoundingClientRect().top+window.pageYOffset+-80;window.scrollTo({top:st,behavior:"smooth"}),rt.classList.add("footnote-flash"),setTimeout(()=>{rt.classList.remove("footnote-flash")},2e3)}}}):jsxRuntimeExports$1.jsx("a",{...g,target:"_blank",rel:"noopener noreferrer"})}},children:a})},c)})]})})}function App(){return jsxRuntimeExports$1.jsx(HashRouter,{children:jsxRuntimeExports$1.jsxs(Routes,{children:[jsxRuntimeExports$1.jsx(Route,{path:"/",element:jsxRuntimeExports$1.jsx(MainPage,{})}),jsxRuntimeExports$1.jsx(Route,{path:"/details/:id/:method",element:jsxRuntimeExports$1.jsx(DetailPage,{})}),jsxRuntimeExports$1.jsx(Route,{path:"/contributions",element:jsxRuntimeExports$1.jsx(ContributionsPage,{})})]})})}client.createRoot(document.getElementById("root")).render(jsxRuntimeExports$1.jsx(React.StrictMode,{children:jsxRuntimeExports$1.jsx(App,{})}));
